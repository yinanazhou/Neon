!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=58)}([function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,s=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,s),i(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,s,o,a;if(l(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=u(e))>0&&o.length>r&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function g(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):m(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(s){i.once&&e.removeEventListener(t,r),n(s)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var l=c.length,u=m(c,l);for(n=0;n<l;++n)s(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,s,o;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,s=Object.keys(n);for(i=0;i<s.length;++i)"removeListener"!==(r=s[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return g(this,e,!0)},a.prototype.rawListeners=function(e){return g(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i,r,s,o=[n(37),n(38),n(39),n(40),n(41),n(42)],a=-1,c=[],l=!1;function u(){i&&r&&(i=!1,r.length?c=r.concat(c):a=-1,c.length&&d())}function d(){if(!i){l=!1,i=!0;for(var e=c.length,t=setTimeout(u);e;){for(r=c,c=[];r&&++a<e;)r[a].run();a=-1,e=c.length}r=null,a=-1,i=!1,clearTimeout(t)}}for(var h=-1,f=o.length;++h<f;)if(o[h]&&o[h].test&&o[h].test()){s=o[h].install(d);break}function g(e,t){this.fun=e,this.array=t}g.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),l||i||(l=!0,s())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.getSettings=void 0;let i=null;const r={zoom:100,glyphOpacity:100,imageOpacity:100,circleSize:25,highlightMode:"none",userMode:"edit",insertMode:"punctum",insertTab:"primitiveTab",selectionMode:"selBySyllable",debugMode:!1,displayBBox:!1,displayText:!1,displayInfo:!1,displayErrLog:!1,viewBox:null};t.getSettings=function(){return i.settings},t.setSettings=function(e){i.set(e)},t.default=class{constructor(e){i=this,this.id=e,this.load()}load(){try{const e=JSON.parse(window.localStorage.getItem(this.id));this.sync(e)}catch(e){this.sync({})}}set(e){this.settings=Object.assign(Object.assign({},this.settings),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}sync(e){this.settings=Object.assign(Object.assign({},r),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAll=t.selectNn=t.selectBBox=t.getStaffBBox=t.isMultiStaveSelection=t.sharedSecondLevelParent=t.elementsHaveCorrectType=t.sharedLogicalParent=t.areAdjacent=t.isLigature=t.selectNcs=t.select=t.selectLayerElement=t.selectStaff=t.unselect=t.getSelectionType=void 0;const i=n(18),r=n(12),s=n(24),o=n(27),a=n(14),c=n(7);function l(){const e=document.getElementsByClassName("sel-by is-active");return 0!==e.length?e[0].id:null}function u(){document.querySelectorAll(".no-moving").forEach(e=>e.classList.remove("no-moving")),document.querySelectorAll(".selected").forEach(e=>{e.classList.remove("selected"),e.classList.contains("staff")?(e.removeAttribute("style"),i.unhighlight(e)):(e.removeAttribute("style"),e.style.fill=""),Array.from(e.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""}),Array.from(e.querySelectorAll(".sylTextRect-display")).forEach(e=>{e.style.fill="blue"}),e.parentElement.classList.contains("syllable-highlighted")&&(e.parentElement.style.fill="",e.parentElement.classList.add("syllable"),e.parentElement.classList.remove("syllable-highlighted"),Array.from(e.parentElement.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.parentElement.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""})),c.selectAll("#resizeRect").remove(),c.selectAll(".resizePoint").remove(),c.selectAll(".rotatePoint").remove()}),Array.from(document.querySelectorAll(".text-select")).forEach(e=>{e.style.color="",e.style.fontWeight="",e.classList.remove("text-select")}),document.getElementById("selByStaff").classList.contains("is-active")?a.endOptionsSelection():s.endGroupingSelection(),document.getElementById("extraEdit").innerHTML="",document.getElementById("extraEdit").parentElement.classList.add("hidden"),(0,r.updateHighlight)()}function d(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),a.triggerSingleStaffActions(),s.initGroupingListeners(),t.dragInit())}function h(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),t.dragInit())}function f(e,t,n=!0){if(e){if(e.classList.contains("staff"))return d(e,t);if(e.classList.contains("layer"))return h(e,t);if(!e.classList.contains("selected")&&!e.classList.contains("sylTextRect")&&!e.classList.contains("sylTextRect-display")){let t;if(e.classList.add("selected"),e.style.fill="#d00",e.style.stroke=e.classList.contains("divLine")?"#d00":"black",e.querySelectorAll(".sylTextRect-display").length&&e.querySelectorAll(".sylTextRect-display").forEach(e=>{e.style.fill="#d00"}),e.querySelectorAll(".divLine").length&&e.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"}),e.classList.contains("syllable")&&e.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),e.classList.contains("syllable")?t=e.id:null!==e.closest(".syllable")&&(t=e.closest(".syllable").id),void 0!==t){document.querySelectorAll("span."+t).forEach(e=>{e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select")})}}n&&(0,r.updateHighlight)()}}async function g(e,t){const n=await t.getElementAttr(e.id,t.view.getCurrentPageURI());return Boolean(n.ligated)}function p(e,t){if(t.length<2)return!1;switch(e){case"selBySyllable":t.forEach(e=>{if(!e.classList.contains("syllable"))return!1});break;case"selByNeume":t.forEach(e=>{if(!e.classList.contains("neume"))return!1});break;case"selByStaff":t.forEach(e=>{if(!e.classList.contains("staff"))return!1});break;default:return!1}return!0}function m(e){const t=Array.from(e),n=t.pop().parentElement.parentElement;for(const e of t){if(e.parentElement.parentElement.id!==n.id)return!1}return!0}function v(e,t,n){const i=e,r=i.closest(".syl");if(!r.classList.contains("selected")){r.classList.add("selected"),i.style.fill="#d00";const s=e.closest(".syllable");s.style.fill="#d00",s.classList.add("syllable-highlighted"),s.querySelectorAll(".divLine").length&&(s.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),s.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"})),void 0!==n&&(0,o.resize)(r,n,t),void 0!==t&&t.dragInit();const a=e.closest(".syllable").id;if(void 0!==a){const e=document.querySelector("span."+a);e&&(e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select"))}}a.triggerBBoxActions()}t.getSelectionType=l,t.unselect=u,t.selectStaff=d,t.selectLayerElement=h,t.select=f,t.selectNcs=async function(e,t,n){if(!e.parentElement.classList.contains("selected")){const i=e.parentElement;if(u(),f(i),await g(i,t)){const e=i.previousSibling;if(await g(e,t))f(e);else{const e=i.nextSibling;await g(e,t)?f(e):console.warn("Error: Neither prev or next nc are ligatures")}s.triggerGrouping("ligature")}else i.classList.contains("nc")?a.triggerNcActions(i):console.warn("No action triggered!");n.dragInit()}},t.isLigature=g,t.areAdjacent=function(e,t){if(t.length<2)return!1;let n;switch(e){case"selBySyllable":n=Array.from(document.querySelectorAll(".syllable"));break;case"selByNeume":return!0;case"selByNc":n=Array.from(document.querySelectorAll(".nc"));break;case"selByStaff":n=Array.from(document.querySelectorAll(".staff"));break;default:return!1}const i=[];for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)n[e].isSameNode(t[r])&&i.push(t[r]);for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],s=n.indexOf(t),o=n.indexOf(r);if(1!==Math.abs(s-o))return!1}return!0},t.sharedLogicalParent=function(e,t){if(!p(e,t=t.filter(e=>!(e.classList.contains("divLine")||e.classList.contains("accid")||e.classList.contains("clef")))))return!1;switch(e){case"selBySyllable":const e=t[0].closest(".staff");for(let n=0;n<t.length;n++){if(!t[n].closest(".staff").isSameNode(e))return!1}return!0;case"selByNeume":const n=t[0].closest(".syllable");for(let e=0;e<t.length;e++){if(!t[e].closest(".syllable").isSameNode(n))return!1}return!0;case"selByStaff":return!0;default:return!1}},t.elementsHaveCorrectType=p,t.sharedSecondLevelParent=m,t.isMultiStaveSelection=function(e){const t=Array.from(e);for(let e=0;e<t.length;e++){const n=t[e].closest(".staff");for(let i=e;i<t.length;i++){const e=t[i].closest(".staff");if(!n.isSameNode(e))return!0}}return!1},t.getStaffBBox=function(e){let t,n,i,r,s;return e.querySelectorAll("path").forEach(e=>{const o=e.getAttribute("d").match(/\d+/g).map(e=>Number(e));void 0===s&&(s=Math.atan((o[3]-o[1])/(o[2]-o[0]))),(void 0===n||Math.min(o[1],o[3])<n)&&(n=Math.min(o[1],o[3])),(void 0===t||o[0]<t)&&(t=o[0]),(void 0===r||Math.max(o[1],o[3])>r)&&(r=Math.max(o[1],o[3])),(void 0===i||o[2]>i)&&(i=o[2])}),{id:e.id,ulx:t,uly:n,lrx:i,lry:r,rotate:s}},t.selectBBox=v,t.selectNn=function(e){return!(e.length>0)||(e.forEach(e=>{f(e)}),!1)},t.selectAll=async function(e,t,n){const i=l();if(u(),0===e.length)return;let r,c=!1,d=!1;switch(i){case"selBySyllable":r=".syllable";break;case"selByNeume":r=".neume";break;case"selByNc":r=".nc";break;case"selByStaff":r=".staff";break;case"selByBBox":r=".sylTextRect-display";break;case"selByLayerElement":r=".clef, .custos, .accid, .divLine";break;default:return void console.error("Unknown selection type "+i)}const h=new Set;for(const t of e){let e=t.closest(r);if(null===e){if(e=t.closest(".clef, .custos, .accid, .divLine"),null===e){console.warn("Element "+t.id+" is not part of specified group and is not a clef or custos or accid or divLine.");continue}c=c||!0}else d=d||!0;h.add(e);let n=e,i=n.getAttribute("mei:follows"),s=n.getAttribute("mei:precedes");for(;i||s;){if(i){if(n=document.querySelector("#"+i.slice(1)),h.has(n))break;n.classList.add("no-moving"),h.add(n),i=n.getAttribute("mei:follows")}if(s){if(n=document.querySelector("#"+s.slice(1)),h.has(n))break;n.classList.add("no-moving"),h.add(n),s=n.getAttribute("mei:precedes")}}}h.forEach(e=>f(e,n,!1));const g=Array.from(h.values());if(!c||d)switch(i){case"selByStaff":switch(g.length){case 1:a.triggerSingleStaffActions(),s.initGroupingListeners(),(0,o.resize)(g[0],t,n);break;default:a.triggerMultiStaffActions(),s.initGroupingListeners()}break;case"selByLayerElement":1===h.size?a.triggerLayerElementActions(g[0]):a.triggerDefaultActions();break;case"selBySyllable":switch(g.length){case 1:a.triggerSyllableActions("singleSelect");break;default:s.isLinkable("selBySyllable",g)?a.triggerSyllableActions("linkableSelect"):s.isGroupable("selBySyllable",g)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default")}break;case"selByNeume":switch(g.length){case 1:a.triggerNeumeActions(),s.initGroupingListeners();break;default:s.isGroupable("selByNeume",g)?s.triggerGrouping("neume"):a.triggerDefaultActions()}break;case"selByNc":switch(g.length){case 1:a.triggerNcActions(g[0]);break;case 2:if(m(g)){if(g[0].parentElement===g[1].parentElement){const e=Array.from(g[0].parentElement.children);if(1===Math.abs(e.indexOf(g[0])-e.indexOf(g[1]))){let e=g[0].children[0],t=g[1].children[0],n=e.x.baseVal.value,i=t.x.baseVal.value,r=e.y.baseVal.value,o=t.y.baseVal.value;if((n>i||n===i&&r<o)&&([e,t]=[t,e],[n,r,i,o]=[i,o,n,r]),n===i||r<o){s.triggerGrouping("ligature");break}}}s.triggerGrouping("nc")}else a.triggerDefaultActions();break;default:m(g)?s.triggerGrouping("nc"):a.triggerDefaultActions()}break;case"selByBBox":switch(g.length){case 1:v(g[0],n,t),a.triggerBBoxActions();break;default:g.forEach(e=>v(e,n,void 0))}break;default:console.error("Unknown selection type. This should not have occurred.")}else 1===h.size?a.triggerLayerElementActions(g[0]):"selBySyllable"==i?a.triggerDefaultSylActions():a.triggerDefaultActions()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueNotification=t.Notification=void 0;const i=n(26),r=n(17),s=new Array(0);let o=null;const a={default:"",warning:"⚠️ ",error:"🔴 ",success:"✅ "};class c{constructor(e,t,n=null){this.message=a[t]+e,this.displayed=!1,this.id=(0,r.uuidv4)(),this.isModeMessage=-1!==e.search("Mode"),this.logInfo=n,this.timeoutID=-1,this.type=t}setTimeoutId(e){this.timeoutID=Math.max(e,-1)}display(){this.displayed=!0}getId(){return this.id}}function l(e){document.getElementById(e)&&document.getElementById(e).remove()}function u(e){!function(e){if(e.isModeMessage){if(null!==o)return void window.clearTimeout(o.timeoutID);o=e}if(s.push(e),s.length>3){l(s.shift().getId())}const t=document.getElementById("notification-content"),n=document.createElement("div");n.classList.add("neon-notification"),n.classList.add("neon-notification-"+e.type),n.id=e.getId(),n.innerHTML=e.message,t.append(n),t.style.display="",e.display()}(e),e.setTimeoutId(window.setTimeout(l,5e3,e.getId())),document.getElementById(e.getId()).addEventListener("click",()=>{window.clearTimeout(e.timeoutID),l(e.getId())})}function d(e,t="default",n=null){const r=new c(e,t,n);"error"!=r.type&&"warning"!=r.type||(0,i.recordNotification)(r),u(r)}t.Notification=c,t.queueNotification=d,t.default={queueNotification:d}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],i=-1;++i<t;)n[i]=arguments[i];return e.call(this,n)}return e.call(this,[])}}},function(e,t){e.exports=d3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorLogsPanelContents=t.syllableActionsContent=t.hotkeysModal=t.editTextModal=t.groupingMenu=t.bboxActionContents=t.divLineActionContents=t.clefActionContents=t.columnActionContents=t.staffMergeActionContents=t.staffSplitActionContents=t.accidActionContents=t.layerElementInActionContents=t.layerElementOutActionContents=t.custosActionContents=t.defaultSylActionContents=t.defaultActionContents=t.neumeActionContents=t.defaultNeumeActionContents=t.ncActionContents=t.editControlsPanel=t.insertControlsPanel=t.insertTabHtml=void 0,t.insertTabHtml={primitiveTab:'<p class="insert-element-container">\n            <button id="punctum" class="side-panel-btn insertel smallel" aria-label="punctum" title="punctum"><img src="/Neon/Neon-gh/assets/img/punctum.png" class="image"/></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virga" class="side-panel-btn insertel smallel" aria-label="virga" title="virga"><img src="/Neon/Neon-gh/assets/img/virga.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virgaReversed" class="side-panel-btn insertel smallel" aria-label="Reversed Virga" title="Reversed Virga"><img src="/Neon/Neon-gh/assets/img/virga_reversed.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="diamond" class="side-panel-btn insertel smallel" aria-label="inclinatum" title="inclinatum"><img src="/Neon/Neon-gh/assets/img/diamond.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="custos" class="side-panel-btn insertel smallel" aria-label="custos" title="custos"><img src="/Neon/Neon-gh/assets/img/custos.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="cClef" class="side-panel-btn insertel smallel" aria-label="C Clef" title=" C Clef"><img src="/Neon/Neon-gh/assets/img/cClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="fClef" class="side-panel-btn insertel smallel" aria-label="F Clef" title="F Clef"><img src="/Neon/Neon-gh/assets/img/fClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentA" class="side-panel-btn insertel smallel" aria-label="Liquescent A" title="Liquescent A"><img src="/Neon/Neon-gh/assets/img/liquescentA.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentC" class="side-panel-btn insertel smallel" aria-label="Liquescent C" title="Liquescent C"><img src="/Neon/Neon-gh/assets/img/liquescentC.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="flat" class="side-panel-btn insertel smallel" aria-label="Flat" title="Flat"><img src="/Neon/Neon-gh/assets/img/accidFlat.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="natural" class="side-panel-btn insertel smallel" aria-label="Natural" title="Natural"><img src="/Neon/Neon-gh/assets/img/accidNatural.png" class="image"></button>\n        </p> \n        <p class="insert-element-container">\n            <button id="divLineMaxima" class="side-panel-btn insertel smallel" aria-label="DivLine Maxima" title="DivLine Maxima"><img src="/Neon/Neon-gh/assets/img/divisio.png" class="image"></button>\n        </p>',groupingTab:'<p class="insert-element-container">\n            <button id="pes" class="side-panel-btn insertel smallel" aria-label="pes" title="pes"><img src="/Neon/Neon-gh/assets/img/pes.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="clivis" class="side-panel-btn insertel smallel" aria-label="clivis" title="clivis"><img src="/Neon/Neon-gh/assets/img/clivis.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="scandicus" class="side-panel-btn insertel smallel" aria-label="scandicus" title="scandicus"><img src="/Neon/Neon-gh/assets/img/scandicus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="climacus" class="side-panel-btn insertel smallel" aria-label="climacus" title="climacus"><img src="/Neon/Neon-gh/assets/img/climacus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="torculus" class="side-panel-btn insertel smallel" aria-label="toculus" title="toculus"><img src="/Neon/Neon-gh/assets/img/torculus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="porrectus" class="side-panel-btn insertel smallel" aria-label="porrectus" title="porrectus"><img src="/Neon/Neon-gh/assets/img/porrectus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="pressus" class="side-panel-btn insertel smallel" aria-label="pressus" title="pressus"><img src="/Neon/Neon-gh/assets/img/pressus.png" class="image"></button>\n        </p>',systemTab:'<p class="insert-element-container">\n            <button id="staff" class="side-panel-btn insertel longel" aria-label="system" title="system"><img src="/Neon/Neon-gh/assets/img/staff.png" class="image"></button>\n        </p>\n        <p>Click upper left and lower right corners of new staff.</p>'},t.insertControlsPanel='<div class="panel-heading" id="insertMenu">\n        <div class="panel-heading-title">INSERT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleInsert" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n\t<div class="panel-content-subsection first-subsection">\n        <div id="insertContents" class="panel-contents" style="overflow-y: hidden;">\n            <p class="panel-tabs">\n                <a id="primitiveTab" class="insertTab">Primitive Elements</a>\n                <a id="groupingTab" class="insertTab">Grouping</a>\n                <a id="systemTab" class="insertTab">System</a>\n            </p>\n            <div id="insert_data"></div>\n        </div>\n    </div>',t.editControlsPanel='<div class="panel-heading" id="editMenu">\n        <div class="panel-heading-title focused">EDIT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleEdit" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div id="editContents" class="panel-contents">\n        <div class="panel-content-subsection first-subsection">\n            <div id="selection-mode-container">\n                <div class="panel-sub-title">Selection Mode:</div>\n                <div id="selection-mode-btns-container"  class="right-side-panel-btns-container" style="overflow-x: auto;">\n                    \n                        <button class="side-panel-btn sel-by" id="selBySyllable">Syllable</button>\n                        <button class="side-panel-btn sel-by" id="selByNeume">Neume</button>\n                        <button class="side-panel-btn sel-by" id="selByNc">Neume Component</button>\n                        <button class="side-panel-btn sel-by" id="selByStaff">Staff</button>\n                        <button class="side-panel-btn sel-by" id="selByLayerElement">Layer Element</button>\n                    \n                </div>\n            </div>\n        </div>\n\n        <div id="display-slider-actions-container">\n                <div class="panel-content-subsection hidden">\n                    <div id="moreEdit"></div>\n                </div>\n                <div class="panel-content-subsection hidden">\n                    <div id="extraEdit"></div>\n                </div>\n                    \x3c!--\n                    * The extraEdit panel is added for edit options that have dropdown menus\n                    * Like the Neume and Clef menus\n                    * This is done because the moreEdit menu needs to have overflow for cases where it has lots of buttons\n                    * But overflow ruins dropdown menus\n                    --\x3e\n                <div class="panel-content-subsection hidden">\n                    <div id="neumeEdit"></div>\n                </div>\n                <div class="panel-content-subsection">\n                    <div id="undoRedo_controls"></div>\n                </div>\n        </div>\n    </div>',t.ncActionContents='<label>Change Head Shape:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Head Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="Punctum" class="dropdown-item">Punctum</a>\n                <a id="Virga" class="dropdown-item">Virga</a> \n                <a id="VirgaReversed" class="dropdown-item">Reversed Virga</a>\n                <a id="Inclinatum" class="dropdown-item">Inclinatum</a>\n                <a id="LiquescentAnticlockwise" class="dropdown-item">Liquescent A</a>\n                <a id="LiquescentClockwise" class="dropdown-item">Liquescent C</a>\n            </div>\n        </div>\n    </div>',t.defaultNeumeActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="split-neume">Split Neumes</button>\n    </div>',t.neumeActionContents='<label>Grouping Options:</label>\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Groupings</span>\n                    <svg class="icon">\n                        <use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content scrollable-dropdown">\n                <a id="Climacus" class="dropdown-item grouping">Climacus</a>\n                <a id="ClimacusResupinus" class="dropdown-item grouping">Climacus Resupinus</a>\n                <a id="Clivis" class="dropdown-item grouping">Clivis</a>\n                <a id="Pes" class="dropdown-item grouping">Pes</a>\n                <a id="PesSubpunctis" class="dropdown-item grouping">Pes Subpunctis</a>\n                <a id="Porrectus" class="dropdown-item grouping">Porrectus</a>\n                <a id="PorrectusFlexus" class="dropdown-item grouping">Porrectus Flexus</a>\n                <a id="PorrectusSubpunctis" class="dropdown-item grouping">Porrectus Subpunctis</a>\n                <a id="Pressus" class="dropdown-item grouping">Pressus</a>\n                <a id="Scandicus" class="dropdown-item grouping">Scandicus</a>\n                <a id="ScandicusFlexus" class="dropdown-item grouping">Scandicus Flexus</a>\n                <a id="ScandicusSubpunctis" class="dropdown-item grouping">Scandicus Subpunctis</a>\n                <a id="Torculus" class="dropdown-item grouping">Torculus</a>\n                <a id="TorculusResupinus" class="dropdown-item grouping">Torculus Resupinus</a>\n            </div>\n        </div>\n    </div>\n    <button class="side-panel-btn" id="ungroupNcs">Ungroup</button>',t.defaultActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.defaultSylActionContents='<button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>',t.custosActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementOutActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="insertToSyllable">Insert to nearest syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementInActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="moveOutsideSyllable">Move outside syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.accidActionContents='<label>Change Accidental:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger"overflow="auto">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="ChangeToFlat" class="dropdown-item">Flat</a>\n                <a id="ChangeToNatural" class="dropdown-item">Natural</a>\n            </div>\n        </div>\n    </div>',t.staffSplitActionContents='<div>Split System:</div>\n    <div id="split-system-btns-container" class="right-side-panel-btns-container">\n        <button id="split-system" class="side-panel-btn">Split</button>\n        <button id="reset-rotate" class="side-panel-btn">Reset Rotate</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.staffMergeActionContents='<label>Merge Systems:</label>\n    <div id="merge-system-btns-container" class="right-side-panel-btns-container">\n        <button id="merge-systems" class="side-panel-btn">Merge</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.columnActionContents='<div class="col-edit-container">\n        Edit Column Information: \n        <div id="col-stepper-btns-container" class="right-side-panel-btns-container">\n            <button id="col-decrement" class="side-panel-btn col-stepper-btn">–</button>\n            <input type="text" id="col-input" class="side-panel-stepper-input" value="0">\n            <button id="col-increment" class="side-panel-btn col-stepper-btn">+</button>\n            <button id="col-confirm" class="side-panel-btn side-panel-confirm-btn" style="display:none">Confirm</button>\n            <div id="col-warning" class="side-panel-warning"></div> \n        </div>\n    </div>',t.clefActionContents='\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Displace Octave</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="increment-octave" class="dropdown-item">+1 Octave</a>\n                    <a id="decrement-octave" class="dropdown-item">-1 Octave</a>\n                </div>\n            </div>\n        </div>\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Change Clef Shape</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="CClef" class="dropdown-item">C Clef</a>\n                    <a id="FClef" class="dropdown-item">F Clef</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',t.divLineActionContents='<label>Change DivLine:</label>\n<div class="drop_select dropdown">\n    <div class="dropdown-trigger"overflow="auto">\n        <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n            <span>Shapes</span>\n            <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n        </button>\n    </div>\n    <div class="dropdown-menu" id="dropdown-menu" role="menu">\n        <div class="dropdown-content">\n            <a id="ChangeToCaesura" class="dropdown-item">Caesura</a>\n            <a id="ChangeToFinalis" class="dropdown-item">Finalis</a>\n            <a id="ChangeToMinima" class="dropdown-item">Minima</a>\n            <a id="ChangeToMaior" class="dropdown-item">Maior</a>\n            <a id="ChangeToMaxima" class="dropdown-item">Maxima</a>\n            <a id="ChangeToVirgula" class="dropdown-item">Virgula</a>\n        </div>\n    </div>\n</div>',t.bboxActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="matchHeight">Match Height for Entire Row</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.groupingMenu={nc:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn more-edit-btn" id="groupNcs">Group Neume Components</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',neume:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="groupNeumes">Group Neumes</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',syl:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n                <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n            </div>\n\t\t</div>',ligatureNc:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="groupNcs">Group Neume Components</button>\n                        <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>',ligature:'<div class="more-edit-btn panel-btn">\n                <div class="right-side-panel-btns-container">\n                    <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                    <button class="side-panel-btn" id="delete">Delete</button>\n                </div>\n            </div>',splitSyllable:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>'},t.editTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-save">Save</div>        \n        </div>\n    </div>',t.hotkeysModal='\n    <div class="neon-modal-window-content" id="neon-modal-window-content-hotkeys">\n        \x3c!-- "Display" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Display</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">+</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom In</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">-</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Out</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">0</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Reset</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">h</div>\n                </div>\n                <div class="hotkey-entry-description">Hide Glyph</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">T</div>\n                </div>\n                <div class="hotkey-entry-description">Scroll To Syllable Text</div>\n            </div>\n        </div>\n\n        \x3c!-- "Edit" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Edit</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">⌘</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Undo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">⌘</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Redo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">q/w/e/r/t/y</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Highlight by Staff/Syllable/Neume/LayerElement/Selection/Off\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">1/2/3/4/5/6</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Select by Syllable/Neume/Neume Component/Staff/Layer Element/BBox\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Number</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Begin Insert for the <i>nth</i> option in the selected tab\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- "Other" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Other</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">s</div>\n                </div>\n                <div class="hotkey-entry-description">Save File</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Esc</div>\n                </div>\n                <div class="hotkey-entry-description">Return to Edit Mode</div>\n            </div>\n        </div>\n    </div>',t.syllableActionsContent='\n  <div class="right-side-panel-btns-container">\n    <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n    <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n    <button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n  </div>\n',t.errorLogsPanelContents='<div class="panel-heading" id="errorLogHeading">\n        <div class="panel-heading-title">Error Log</div>\n        <svg class="icon">\n            <use id="toggleErrorLog" xlink:href="/Neon/Neon-gh//assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div class="panel-contents" id="errorLogContents" style="overflow: scroll; padding: 0.5em 0.75em; max-height: 300px;"><div>'},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";for(var i=n(11),r=[],s=0;s<256;++s)r.push((s+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!Object(i.a)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t,n){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayControls=t.loadHighlightSettings=t.updateDisplayAllBtn=t.updateHighlight=t.setHighlightSelectionControls=t.setHighlightControls=t.setHighlightOption=t.getHighlightType=t.setCircleSizeControls=t.setBgOpacityFromSlider=t.setGlyphOpacityFromSlider=t.setZoomControls=void 0;const i=n(18),r=n(3),s=n(7);let o,a,c;function l(e){const t=document.getElementById("opacityOutput");document.getElementById("opacitySlider").value=t.value,(0,r.setSettings)({glyphOpacity:Number(t.value)});const n=document.querySelector("#toggle-glyph-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show glyph")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide glyph"));try{document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=(Number(t.value)/100).toString()})}catch(e){console.warn("Unable to properly set opacity to pages")}}function u(e){const t=document.querySelector("#bgOpacityOutput");(0,r.setSettings)({imageOpacity:Number(t.value)});const n=document.querySelector("#toggle-bg-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show background image")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide background image"));const i=document.querySelector("."+e);i&&(i.style.opacity=String(Number(t.value)/100))}function d(e){const t=document.getElementById("highlight-"+e),n=document.getElementById("highlight-dropdown"),s=document.getElementById("highlight-type");if((0,r.setSettings)({highlightMode:e}),n.classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),"none"===e)return s.textContent=" - Off",void i.unsetGroupingHighlight();t.classList.add("highlight-selected"),s.textContent=" - "+(e[0].toUpperCase()+e.slice(1)),i.setGroupingHighlight(e)}function h(e){document.getElementById("highlight-"+e).addEventListener("click",()=>{d(e)})}function f(){document.body.removeEventListener("click",f),document.getElementById("highlight-dropdown").classList.remove("is-active")}function g(){const e=document.getElementById("highlight-dropdown");document.getElementById("highlight-button").addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("is-active"),e.classList.contains("is-active")?(document.body.addEventListener("click",f),h("column"),h("staff"),h("syllable"),h("neume"),h("layerElement"),h("none")):document.body.removeEventListener("click",f)})}function p(){const{highlightMode:e}=(0,r.getSettings)();d(e)}t.setZoomControls=function(e){if(void 0===e)return;const t=document.getElementById("zoomSlider"),n=document.getElementById("zoomOutput"),{zoom:i}=(0,r.getSettings)();t.value=String(i),n.value=String(i),e.zoomTo(i/100),document.getElementById("reset-zoom").addEventListener("click",()=>{n.value="100",t.value="100",e.resetZoomAndPan()}),document.querySelector("#set-zoom-easy-edit").addEventListener("click",()=>{n.value="180",t.value="180",e.zoomTo(1.8)}),t.addEventListener("mouseup",(function(){n.value=t.value,e.zoomTo(Number(n.value)/100)})),t.disabled=!1,document.body.addEventListener("keydown",i=>{const r=parseInt(n.value);if("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowRight"===i.key||"ArrowLeft"===i.key)i.preventDefault();else if("+"===i.key){const i=Math.min(r+20,parseInt(t.getAttribute("max")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else if("_"===i.key){const i=Math.max(r-20,parseInt(t.getAttribute("min")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else"0"===i.key&&(n.value="100",t.value="100",e.resetZoomAndPan())})},t.setGlyphOpacityFromSlider=l,t.setBgOpacityFromSlider=u,t.setCircleSizeControls=function(){const e=document.getElementById("circleSlider"),t=document.getElementById("circleOutput"),{circleSize:n}=(0,r.getSettings)();function i(){t.value=e.value,c=Number(e.value),(0,r.setSettings)({circleSize:Number(c)});const n=s.selectAll(".resizePoint");n.empty()||n.attr("r",c)}c=n,e.value=String(n),t.value=String(n),document.getElementById("reset-circle-size").addEventListener("click",()=>{const n=s.selectAll(".resizePoint");n.empty()||n.attr("r",25),c=Number(25),e.value=String(25),t.value=String(25),(0,r.setSettings)({circleSize:Number(25)}),i()}),e.addEventListener("input",i),e.addEventListener("change",i),e.disabled=!1},t.getHighlightType=function(){return document.getElementById("highlight-type").textContent.slice(3).toLowerCase()},t.setHighlightOption=h,t.setHighlightControls=g,t.setHighlightSelectionControls=function(){const e=document.getElementById("highlight-selection");e.addEventListener("click",()=>{document.getElementById("highlight-dropdown").classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),e.classList.add("highlight-selected"),document.getElementById("highlight-type").textContent=" - Selection",i.setGroupingHighlight("selection")})},t.updateHighlight=function(){let e;try{e=document.querySelector(".highlight-selected").id}catch(t){e=""}switch(e){case"highlight-column":i.setGroupingHighlight("column");break;case"highlight-staff":i.setGroupingHighlight("staff");break;case"highlight-syllable":i.setGroupingHighlight("syllable");break;case"highlight-neume":i.setGroupingHighlight("neume");break;case"highlight-layerElement":i.setGroupingHighlight("layerElement");break;case"highlight-selection":i.setGroupingHighlight("selection");break;default:i.unsetGroupingHighlight()}},t.updateDisplayAllBtn=function(){const e=document.getElementById("display-all-btn"),t=document.getElementById("displayInfo"),n=document.getElementById("displayBBox"),i=document.getElementById("displayText"),r=document.getElementById("display-errors");(null==t?void 0:t.checked)&&(null==n?void 0:n.checked)&&(null==i?void 0:i.checked)&&(null==r?void 0:r.checked)?(e.classList.add("selected"),e.innerHTML="Hide All"):e.classList.contains("selected")&&(e.classList.remove("selected"),e.innerHTML="Display All")},t.loadHighlightSettings=p,t.initDisplayControls=function(e,t){!function(e){const t=document.getElementById("opacitySlider"),n=document.getElementById("opacityOutput"),{glyphOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,o=Number(t.value),l(e)}o=i,t.value=String(i),n.value=String(i);const a=document.getElementById("toggle-glyph-opacity");100==i&&a.classList.add("hide-icon"),null==a||a.addEventListener("click",()=>{let i;a.classList.contains("hide-icon")?(a.classList.remove("hide-icon"),i=0):(a.classList.add("hide-icon"),i=1),document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=i.toString()}),o=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({glyphOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(e),function(e){const t=document.getElementById("bgOpacitySlider"),n=document.getElementById("bgOpacityOutput"),{imageOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,a=Number(t.value),u(e)}a=i,t.value=String(i),n.value=String(i);const o=document.getElementById("toggle-bg-opacity");100==i&&o.classList.add("hide-icon"),o.addEventListener("click",()=>{let i;o.classList.contains("hide-icon")?(o.classList.remove("hide-icon"),i=0):(o.classList.add("hide-icon"),i=1),document.getElementsByClassName(e)[0].style.opacity=i.toString(),a=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({imageOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(t),g(),document.getElementById("burgerMenu").addEventListener("click",()=>{document.getElementById("burgerMenu").classList.toggle("is-active"),document.getElementById("navMenu").classList.toggle("is-active")}),document.body.addEventListener("keydown",e=>{if(!e.metaKey)switch(e.key){case"q":d("staff");break;case"w":d("syllable");break;case"e":d("neume");break;case"r":d("layerElement");break;case"t":d("selection");break;case"y":d("none")}}),function(){const e=document.querySelector("#display-all-btn");e.addEventListener("click",()=>{if(e.classList.contains("selected")){e.classList.remove("selected"),e.innerHTML="Display All";const t=document.querySelectorAll('.checkbox-container:not([style*="display: none;"]) > .checkbox');Array.from(t).forEach(e=>{e.checked&&e.click()})}else{e.classList.add("selected"),e.innerHTML="Hide All";const t=document.querySelectorAll('.checkbox-container:not([style*="display: none;"]) > .checkbox');Array.from(t).forEach(e=>{e.checked||e.click()})}})}(),p();const n=document.getElementById("displayContents"),i=document.getElementById("toggleDisplay");document.getElementById("displayHeader").addEventListener("click",e=>{e.stopPropagation(),n.classList.contains("closed")?(n.classList.remove("closed"),n.style.padding="0.5em 0.75em",setTimeout(()=>{n.style.overflow="visible"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(n.classList.add("closed"),n.style.overflow="hidden",setTimeout(()=>{n.style.padding="0px"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=t.ModalWindowView=void 0;const i=n(8),r=n(33),s=n(4);var o,a;!function(e){e[e.EDIT_TEXT=0]="EDIT_TEXT",e[e.HOTKEYS=1]="HOTKEYS",e[e.ERROR_LOG=2]="ERROR_LOG",e[e.DOCUMENT_UPLOAD=3]="DOCUMENT_UPLOAD",e[e.MOVE_TO=4]="MOVE_TO",e[e.NEW_FOLDER=5]="NEW_FOLDER",e[e.RENAME=6]="RENAME"}(o=t.ModalWindowView||(t.ModalWindowView={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED"}(a||(a={}));t.ModalWindow=class{constructor(e){this.openEditSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-save").removeEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-save").addEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.updateSylText=function(){const e=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0],t=e.textContent.replace(/\u{25CA}/u,"").trim(),n=document.getElementById("neon-modal-window-edit-text-input").value;if(null!==n&&n!==t){const t={action:"setText",param:{elementId:[...e.classList.entries()].filter(e=>"text-select"!==e[1]&&"selected-to-edit"!==e[1])[0][1],text:n}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(t=>{t&&this.neonView.updateForCurrentPage().then(()=>{this.updateSelectedBBox(e,this.dragHandler,this.neonView)})})}else this.updateSelectedBBox(e,this.dragHandler,this.neonView);this.hideModalWindow()},this.keydownListener=function(e){switch(e.stopImmediatePropagation(),this.modalWindowView){case o.EDIT_TEXT:"Enter"===e.key&&this.updateSylText();default:"Escape"===e.key&&this.hideModalWindow()}},this.focusModalWindow=function(){switch(this.modalWindowView){case o.EDIT_TEXT:document.getElementById("neon-modal-window-edit-text-input").select();break;case o.DOCUMENT_UPLOAD:case o.NEW_FOLDER:case o.RENAME:break;default:document.getElementById("neon-modal-window").focus()}},this.neonView=e,this.modalWindowState=a.CLOSED,this.setupEventListeners()}setupEventListeners(){document.getElementById("neon-modal-window-header-close").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").addEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").addEventListener("click",this.focusModalWindow.bind(this))}removeEventListeners(){document.getElementById("neon-modal-window-header-close").removeEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").removeEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").removeEventListener("click",this.focusModalWindow.bind(this))}setModalWindowView(e,t){this.modalWindowView=e,this.setModalWindowContent(t)}getModalWindowView(){return this.modalWindowView.toString()}openModalWindow(){switch(Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),this.modalWindowView){case o.EDIT_TEXT:this.openEditSylTextModalWindow();break;case o.HOTKEYS:document.getElementById("neon-modal-window-content-hotkeys").classList.add("visible");case o.DOCUMENT_UPLOAD:case o.MOVE_TO:case o.NEW_FOLDER:case o.RENAME:default:document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()}document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",this.modalWindowState=a.OPEN}hideModalWindow(){switch(this.modalWindowView){case o.EDIT_TEXT:document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].classList.remove("selected-to-edit");break;case o.DOCUMENT_UPLOAD:case o.MOVE_TO:case o.NEW_FOLDER:case o.RENAME:document.getElementById("neon-modal-window-content-container").innerHTML=""}document.getElementById("neon-modal-window-container").style.display="none",document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",this.modalWindowState=a.CLOSED,this.removeEventListeners()}setModalWindowContent(e){const t=document.getElementById("neon-modal-window-content-container"),n=document.getElementById("neon-modal-window-header-title");switch(this.modalWindowView){case o.EDIT_TEXT:t.innerHTML=i.editTextModal,n.innerText="EDIT SYLLABLE TEXT";const s=/\u{25CA}/u,a=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].textContent.replace(s,"").trim();document.getElementById("neon-modal-window-edit-text-input").value=a;break;case o.HOTKEYS:t.innerHTML=i.hotkeysModal,n.innerText="HOTKEYS";break;case o.ERROR_LOG:t.innerHTML=`<div style="margin-bottom: 30px;white-space: pre-line;">${e}</div>\n          <div class="neon-modal-window-btn">\n            <a href="data:text/plain;charset=utf-8,${encodeURI(e)}" download="error.log">\n              Export\n            </a>\n            </div>`,n.innerText="ERROR LOG";break;case o.DOCUMENT_UPLOAD:n.innerText="DOCUMENT UPLOAD",t.innerHTML=r.uploadAreaHTML;break;case o.MOVE_TO:n.innerText="MOVE TO";break;case o.NEW_FOLDER:n.innerText="NEW FOLDER",t.innerHTML=r.newFolderHTML;break;case o.RENAME:n.innerText="RENAME",t.innerHTML=r.renameHTML;break;default:console.error("Unknown selection type. This should not have occurred.")}}updateSelectedBBox(e,t,n){(0,s.unselect)();const i=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(i)){const e=document.getElementById(i).querySelector(".sylTextRect-display");(0,s.selectBBox)(e,t,n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDefaultActions=t.triggerDefaultSylActions=t.triggerBBoxActions=t.triggerSingleStaffActions=t.triggerStaffSplitMode=t.triggerMultiStaffActions=t.triggerLayerElementActions=t.triggerSyllableActions=t.triggerNeumeActions=t.triggerNcActions=t.addChangeStaffListener=t.matchHeightHandler=t.moveOutsideSyllableHandler=t.insertToSyllableHandler=t.changeStaffHandler=t.removeHandler=t.endOptionsSelection=t.deleteButtonHandler=t.unsetLiquescentAnticlockwiseAction=t.unsetLiquescentClockwiseAction=t.unsetVirgaReversedAction=t.unsetVirgaAction=t.unsetInclinatumAction=t.initNeonView=void 0;const i=n(8),r=n(24),s=n(5),o=n(35),a=n(36),c=n(4);let l;function u(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function d(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function h(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function f(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function g(e){return{action:"setLiquescent",param:{elementId:e,curve:""}}}function p(e){"d"!==e.key&&"Backspace"!==e.key||(v(),e.preventDefault())}function m(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden")),document.body.removeEventListener("keydown",p)}function v(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{t.classList.contains("syl")&&(t=t.closest(".syllable")),t.classList.contains("accid")&&(t=t.closest(".accid")),t.classList.contains("divLine")&&(t=t.closest(".divLine")),e.push({action:"remove",param:{elementId:t.id}})});const t={action:"chain",param:e};m(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function y(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"changeStaff",param:{elementId:t.id}})});const t={action:"chain",param:e};m(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function b(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"insertToSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Insert Success","success"):s.default.queueNotification("Insert Failed XoX","error"),m(),l.updateForCurrentPage()})}function w(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"moveOutsideSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Move Success","success"):s.default.queueNotification("Move Failed XoX","error"),m(),l.updateForCurrentPage()})}function _(){const e=Array.from(document.getElementsByClassName("selected"));e.length>1&&s.default.queueNotification("Cannot match height to multiple bbox","error");const t={action:"matchHeight",param:{elementId:e[0].id}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Height Match Success","success"):s.default.queueNotification("Height Match Failed XoX","error"),m(),l.updateForCurrentPage()})}function E(){const e=document.getElementById("delete");e&&(e.removeEventListener("click",v),e.addEventListener("click",v),document.body.addEventListener("keydown",p))}function S(){const e=document.getElementById("changeStaff");null==e||e.removeEventListener("click",y),null==e||e.addEventListener("click",y)}function x(){const e=document.getElementById("col-input"),t=document.querySelectorAll(".staff.selected");let n;for(const e of t){const t=Array.from(e.classList).join(" ").match(/\bcolumn(\d+)\b/);if(t){const e=parseInt(t[1],10);if(n&&n!=e){document.getElementById("col-warning").innerText="The selected staves are not of the same column!",n=0;break}n=e}}n&&(e.value=n.toString())}function L(){const e=document.getElementById("col-decrement"),t=document.getElementById("col-increment"),n=document.getElementById("col-confirm"),i=document.getElementById("col-input");function r(e){let t=parseInt(i.value,10)||0;t+=e,t=Math.min(Math.max(t,1),5),t.toString()!=i.value&&(n.style.display=""),i.value=t.toString()}e.addEventListener("click",(function(){r(-1)})),t.addEventListener("click",(function(){r(1)})),n.addEventListener("click",(function(){const e=[];document.querySelectorAll(".staff.selected").forEach(t=>{e.push({action:"set",param:{elementId:t.id,attrType:"type",attrValue:"column"+i.value}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Column Value Update Success","success"):s.default.queueNotification("Column Value Update Failed XoX","error"),m(),l.updateForCurrentPage()})}))}function A(e,t,n=!0){const i=document.getElementById(e);i&&(i.parentElement.classList.remove("hidden"),n?i.innerHTML=t:i.innerHTML+=t)}function k(e){l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}function C(){const e=document.querySelector(".staff.selected");if(null!==e){new o.SplitStaffHandler(l,e).startSplit(),m()}else console.error("No staff was selected!"),m()}function I(){document.querySelectorAll(".drop_select").forEach(e=>{const t=()=>{document.body.removeEventListener("click",t),e.classList.remove("is-active")};e.addEventListener("click",n=>{e.classList.toggle("is-active"),Array.from(document.querySelectorAll(".drop_select")).filter(t=>t!==e).forEach(e=>e.classList.remove("is-active")),n.stopPropagation(),e.classList.contains("is-active")?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)})})}t.initNeonView=function(e){l=e,r.initNeonView(e)},t.unsetInclinatumAction=u,t.unsetVirgaAction=d,t.unsetVirgaReversedAction=h,t.unsetLiquescentClockwiseAction=f,t.unsetLiquescentAnticlockwiseAction=g,t.deleteButtonHandler=p,t.endOptionsSelection=m,t.removeHandler=v,t.changeStaffHandler=y,t.insertToSyllableHandler=b,t.moveOutsideSyllableHandler=w,t.matchHeightHandler=_,t.addChangeStaffListener=S,t.triggerNcActions=function(e){m(),A("moreEdit",i.defaultActionContents),A("extraEdit",i.ncActionContents),E(),document.querySelector("#Punctum.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=f(e.id),o=g(e.id);l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#Inclinatum.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=h(e.id),i=f(e.id),r=g(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"se"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#Virga.dropdown-item").addEventListener("click",()=>{const t=h(e.id),n=u(e.id),i=f(e.id),r=g(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"s"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#VirgaReversed.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=g(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"n"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentClockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=g(e.id),o={action:"setLiquescent",param:{elementId:e.id,curve:"c"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentAnticlockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=f(e.id),o={action:"setLiquescent",param:{elementId:e.id,curve:"a"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),I()},t.triggerNeumeActions=function(){m(),A("moreEdit",i.defaultNeumeActionContents),A("extraEdit",i.neumeActionContents),E();const e=document.querySelectorAll(".selected");function t(t){const n={action:"changeGroup",param:{elementId:e[0].id,contour:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Grouping Changed","success"):s.default.queueNotification("Grouping Failed","error"),m(),l.updateForCurrentPage()})}1===e.length?(document.getElementById("split-neume").addEventListener("click",()=>{const e=document.querySelector(".neume.selected");if(null!==e){new a.SplitNeumeHandler(l,e).startSplit(),m()}else console.error("No staff was selected!"),m()}),document.querySelector("#Pes.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PesSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Clivis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Scandicus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Climacus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ClimacusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Torculus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#TorculusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Porrectus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Pressus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),I()):console.warn("More than one neume selected! Cannot trigger Neume ClickSelect actions.")},t.triggerSyllableActions=function(e){m(),A("moreEdit",i.syllableActionsContent);let t="";switch(e){case"singleSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"linkableSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"multiSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"default":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>'}A("moreEdit",t,!0),S(),E(),r.initGroupingListeners()},t.triggerLayerElementActions=function(e){var t,n,r,o;if(m(),e.classList.contains("custos"))return A("moreEdit",i.custosActionContents),S(),void E();A("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),e.classList.contains("accid")?(A("extraEdit",i.accidActionContents),function(e){document.querySelector("#ChangeToFlat.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"f"}})}),document.querySelector("#ChangeToNatural.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"n"}})}),I()}(e)):e.classList.contains("clef")?(A("extraEdit",i.clefActionContents),function(e){document.querySelector("#increment-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"above"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Clef octave incremented.","success"):s.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#decrement-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"below"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Clef octave decremented.","success"):s.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#CClef.dropdown-item").addEventListener("click",()=>{k({action:"setClef",param:{elementId:e.id,shape:"C"}})}),document.querySelector("#FClef.dropdown-item").addEventListener("click",()=>{k({action:"setClef",param:{elementId:e.id,shape:"F"}})}),I()}(e)):e.classList.contains("divLine")&&(A("extraEdit",i.divLineActionContents),function(e){document.querySelector("#ChangeToMinima.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"minima"}})}),document.querySelector("#ChangeToMaior.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maior"}})}),document.querySelector("#ChangeToMaxima.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maxima"}})}),document.querySelector("#ChangeToFinalis.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"finalis"}})}),document.querySelector("#ChangeToCaesura.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"caesura"}})}),document.querySelector("#ChangeToVirgula.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"virgula"}})}),I()}(e)),S(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",w),E(),S(),null===(r=document.getElementById("insertToSyllable"))||void 0===r||r.addEventListener("click",b),null===(o=document.getElementById("moveOutsideSyllable"))||void 0===o||o.addEventListener("click",w)},t.triggerMultiStaffActions=function(){m(),A("moreEdit",i.staffMergeActionContents),A("extraEdit",i.columnActionContents),E(),x(),L(),document.getElementById("merge-systems").addEventListener("click",()=>{r.mergeStaves()})},t.triggerStaffSplitMode=C,t.triggerSingleStaffActions=function(){m(),A("moreEdit",i.staffSplitActionContents),A("extraEdit",i.columnActionContents),E(),x(),L(),document.getElementById("split-system").addEventListener("click",()=>{C()}),document.getElementById("reset-rotate").addEventListener("click",()=>{const e=document.querySelector(".staff.selected"),t=(0,c.getStaffBBox)(e),n=Math.tan(t.rotate)*(t.lrx-t.ulx);if(null!==e){const i={action:"resizeRotate",param:{elementId:e.id,ulx:t.ulx,uly:t.rotate>0?t.uly+n/2:t.uly-n/2,lrx:t.lrx,lry:t.rotate>0?t.lry-n/2:t.lry+n/2,rotate:0}};l.edit(i,l.view.getCurrentPageURI()).then(async e=>{e&&await l.updateForCurrentPage()}),m()}else console.error("No staff was selected"),m()})},t.triggerBBoxActions=function(){m(),A("moreEdit",i.bboxActionContents),E(),document.getElementById("matchHeight").addEventListener("click",()=>{_()})},t.triggerDefaultSylActions=function(){m(),A("moreEdit",i.defaultSylActionContents),E(),S()},t.triggerDefaultActions=function(){m(),A("moreEdit",i.defaultActionContents),E()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlyphBBox=t.isOutOfSVGBounds=t.getStaffByCoords=t.getStaffIdByCoords=t.getSVGRelCoords=void 0;const i=n(4);function r(e,t){const n=new DOMPoint(e,t),i=document.querySelector(".active-page > .definition-scale").querySelector(".page-margin"),{x:r,y:s}=n.matrixTransform(i.getScreenCTM().inverse());return{x:r,y:s}}function s(e,t){const n=Array.from(document.querySelectorAll(".staff")).map(e=>(0,i.getStaffBBox)(e)),{x:s,y:o}=r(e,t),a=n.find(e=>s<=e.lrx&&s>=e.ulx&&o<=e.lry&&o>=e.uly);return a?a.id:null}t.getSVGRelCoords=r,t.getStaffIdByCoords=s,t.getStaffByCoords=function(e,t){const n=s(e,t);return document.querySelector("#"+n)},t.isOutOfSVGBounds=function(e,t){const n=document.querySelector("#bgimg");return e<=0||e>=Number(n.getAttribute("width"))||t<=0||t>=Number(n.getAttribute("height"))},t.getGlyphBBox=function(e){const t="rect"==e.tagName?e.getBBox():e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],s=e[3];i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&i)+t[2]+606105819|0)<<17|r>>>15)+s|0)&s|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&i)+t[6]-1473231341|0)<<17|r>>>15)+s|0)&s|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&i)+t[10]-42063|0)<<17|r>>>15)+s|0)&s|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&i)+t[14]-1502002290|0)<<17|r>>>15)+s|0)&s|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|s>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+s|0)&n|s&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|s>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+s|0)&n|s&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|s>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+s|0)&n|s&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|s>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+s|0)&n|s&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|s>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+s|0)^s^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|s>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+s|0)^s^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|s>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+s|0)^s^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|s>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+s|0)^s^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[14]-1416354905|0)<<15|r>>>17)+s|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[10]-1051523|0)<<15|r>>>17)+s|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[6]-1560198380|0)<<15|r>>>17)+s|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[2]+718787259|0)<<15|r>>>17)+s|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=s+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function s(e){var t,r,s,o,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,s[14]=a,s[15]=c,n(u,s),u}function o(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return a(s("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,s,o,a,c=this.byteLength,l=t(n,c),u=c;return i!==e&&(u=t(i,c)),l>u?new ArrayBuffer(0):(r=u-l,s=new ArrayBuffer(r),o=new Uint8Array(s),a=new Uint8Array(this,l,r),o.set(a),s)}}(),u.prototype.append=function(e){return this.appendBinary(c(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var i,r,s,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,e),o=0;o<16;o+=1)e[o]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),s=parseInt(i[1],16)||0,e[14]=r,e[15]=s,n(this._hash,e)},u.hash=function(e,t){return u.hashBinary(c(e),t)},u.hashBinary=function(e,t){var n=a(s(e));return t?l(n):n},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,i,s,o,a,c=(i=this._buff.buffer,s=e,o=!0,(a=new Uint8Array(i.byteLength+s.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(s),i.byteLength),o?a:a.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)n(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i[t]<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),s=new Uint8Array(r);for(n=0;n<i;n+=1)s[n]=e.charCodeAt(n);return t?s:r}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,s,o,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,r(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),i=e.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)s[t>>2]|=e[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,s[14]=a,s[15]=c,n(u,s),u}(new Uint8Array(e)));return t?l(i):i},u}()},function(e,t,n){"use strict";function i(e){if(16!==e.length)return"";function t(e,t){return e+t.toString(16).padStart(2,"0")}return e.slice(0,4).reduce(t,"")+"-"+e.slice(4,6).reduce(t,"")+"-"+e.slice(6,8).reduce(t,"")+"-"+e.slice(8,10).reduce(t,"")+"-"+e.slice(10).reduce(t,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){if(void 0===window.crypto)return i(new Uint8Array(16));const e=new Uint8Array(16),t=Uint8Array.from([parseInt("01000000",2),parseInt("10000000",2),parseInt("00001111",2),parseInt("00111111",2)]);return window.crypto.getRandomValues(e),e[6]=e[6]&t[2]|t[0],e[8]=e[8]&t[3]|t[1],i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupingHighlight=t.setStaffHighlight=t.highlight=t.unsetGroupingHighlight=t.unsetStaffHighlight=t.unhighlight=void 0;const i=["rgb(230, 159, 0)","rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(240, 228, 66)","rgb(0, 114, 178)","rgb(213, 94, 0)","rgb(204, 121, 167)"];function r(e){let t;t=e?e.querySelectorAll(":not(.selected) .highlighted"):document.querySelectorAll(":not(.selected) .highlighted"),t.forEach(e=>{if("path"!==e.tagName||e.closest(".staff").classList.contains("selected"))if(e.classList.contains("divLine")&&!e.closest(".staff").classList.contains("selected"))e.setAttribute("stroke","#000000");else{e.removeAttribute("fill");let t=e.querySelectorAll(".sylTextRect-display");if(!t.length)try{t=e.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(e){t=[]}t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")}))}else e.setAttribute("stroke","#000000");e.classList.remove("highlighted")})}function s(){r()}function o(){s();Array.from(document.getElementsByClassName("highlighted")).filter(e=>!e.parentElement.classList.contains("selected")).forEach(e=>{e.setAttribute("#d00",null);let t=e.querySelectorAll(".sylTextRect-display");t.length||null!==e.closest(".syllable")&&(t=e.closest(".syllable").querySelectorAll("sylTextRect-display")),t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")})),e.classList.remove("highlighted"),e.querySelectorAll("sylTextRect-display").forEach(e=>{e.classList.remove("highlighted")})}),Array.from(document.getElementsByClassName("selected")).forEach(e=>{e.setAttribute("fill","")})}function a(e,t){const n=Array.from(e.children);for(let e=0;e<n.length;e++){const i=n[e];if("path"===i.tagName)i.setAttribute("stroke",t);else if(i.classList.contains("divLine"))i.setAttribute("stroke",t),i.setAttribute("stroke-width","30px");else if(i.querySelectorAll(".divLine").length&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.querySelectorAll(".divLine")).forEach(e=>{n.push(e)});else{if(i.classList.contains("resizePoint")||"resizeRect"===i.id||i.classList.contains("rotatePoint"))return;if(i.classList.contains("layer"))Array.from(i.children).forEach(e=>{n.push(e)});else if(document.getElementsByClassName("highlight-selected").length&&"highlight-neume"===document.getElementsByClassName("highlight-selected")[0].id&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.classList.contains("neume")).forEach(e=>{n.push(e)});else{i.setAttribute("fill",t);let e=i.querySelectorAll(".sylTextRect-display");if(!e.length)try{e=i.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(t){e=[]}e.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t,e.classList.add("highlighted"))}))}}i.classList.add("highlighted")}let i;i="30px",e.querySelectorAll(".nc, .custos, .clef, .accid").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width",i)})}function c(){const e=Array.from(document.getElementsByClassName("staff"));for(let t=0;t<e.length;t++){const n=i[t%i.length];a(e[t],n)}}t.unhighlight=r,t.unsetStaffHighlight=s,t.unsetGroupingHighlight=o,t.highlight=a,t.setStaffHighlight=c,t.setGroupingHighlight=function e(t){if(o(),"staff"===t)return void c();if("column"===t)return void function(){const e={};document.querySelectorAll(".staff").forEach(t=>{const n=Array.from(t.classList).join(" ").match(/\bcolumn(\d+)\b/);let i=0;n&&(i=parseInt(n[1],10)-1),e[i]||(e[i]=[]),e[i].push(t)});for(const[t,n]of Object.entries(e)){const e=i[Number(t)%i.length];for(const t of n)a(t,e)}}();if("selection"===t){switch(document.querySelector(".sel-by.is-active").id){case"selBySyllable":case"selByBBox":t="syllable";break;case"selByColumn":t="column";break;case"selByStaff":t="staff";break;case"selByLayerElement":t="layerElement";break;case"selByNeume":default:t="neume"}return void e(t)}let n;n="layerElement"==t?document.querySelectorAll(".accid, .clef, .custos, .divLine"):document.getElementsByClassName(t),document.querySelectorAll(".nc, .custos, .clef, .accid, .divLine").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")});for(let e=0;e<n.length;e++){const t=i[e%i.length];if(null!==n[e].closest(".selected")||n[e].classList.contains("selected"))n[e].classList.contains("selected")?n[e].setAttribute("fill","#d00"):n[e].setAttribute("fill",null),n[e].classList.remove("highlighted");else{n[e].setAttribute("fill",t);n[e].querySelectorAll(".sylTextRect-display").forEach((function(e){e.closest(".syl").classList.contains("selected")||e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t)})),n[e].classList.add("highlighted"),n[e].querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("highlighted")})}const r=n[e].querySelectorAll(".divLine");if(r)for(let e=0;e<r.length;e++)r[e].setAttribute("stroke",t),r[e].setAttribute("stroke-width","30px")}}},function(e,t,n){"use strict";var i=n(43),r=t.ValidationError=function(e,t,n,i,r,s){if(Array.isArray(i)?(this.path=i,this.property=i.reduce((function(e,t){return e+d(t)}),"instance")):void 0!==i&&(this.property=i),e&&(this.message=e),n){var o=n.$id||n.id;this.schema=o||n}void 0!==t&&(this.instance=t),this.name=r,this.argument=s,this.stack=this.toString()};r.prototype.toString=function(){return this.property+" "+this.message};var s=t.ValidatorResult=function(e,t,n,i){this.instance=e,this.schema=t,this.options=n,this.path=i.path,this.propertyPath=i.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&!0===n.disableFormat};function o(e,t){return t+": "+e.toString()+"\n"}function a(e){Error.captureStackTrace&&Error.captureStackTrace(this,a),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}s.prototype.addError=function(e){var t;if("string"==typeof e)t=new r(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new r(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new a(this);if(this.throwError)throw t;return t},s.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))},s.prototype.toString=function(e){return this.errors.map(o).join("")},Object.defineProperty(s.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=a,a.prototype=new Error,a.prototype.constructor=a,a.prototype.name="Validation Error";var c=t.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};c.prototype=Object.create(Error.prototype,{constructor:{value:c,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var l=t.SchemaContext=function(e,t,n,i,r){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce((function(e,t){return e+d(t)}),"instance")):this.propertyPath=n,this.base=i,this.schemas=r};l.prototype.resolve=function(e){return i.resolve(this.base,e)},l.prototype.makeChild=function(e,t){var n=void 0===t?this.path:this.path.concat([t]),r=e.$id||e.id,s=i.resolve(this.base,r||""),o=new l(e,this.options,n,s,Object.create(this.schemas));return r&&!o.schemas[s]&&(o.schemas[s]=e),o};var u=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],t.isFormat=function(e,t,n){if("string"==typeof e&&void 0!==u[t]){if(u[t]instanceof RegExp)return u[t].test(e);if("function"==typeof u[t])return u[t](e)}else if(n&&n.customFormats&&"function"==typeof n.customFormats[t])return n.customFormats[t](e);return!0};var d=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function h(e,t,n,i){"object"==typeof n?t[i]=p(e[i],n):-1===e.indexOf(n)&&t.push(n)}function f(e,t,n){t[n]=e[n]}function g(e,t,n,i){"object"==typeof t[i]&&t[i]&&e[i]?n[i]=p(e[i],t[i]):n[i]=t[i]}function p(e,t){var n=Array.isArray(t),i=n&&[]||{};return n?(e=e||[],i=i.concat(e),t.forEach(h.bind(null,e,i))):(e&&"object"==typeof e&&Object.keys(e).forEach(f.bind(null,e,i)),Object.keys(t).forEach(g.bind(null,e,t,i))),i}function m(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,n){if(typeof t!=typeof n)return!1;if(Array.isArray(t))return!!Array.isArray(n)&&(t.length===n.length&&t.every((function(i,r){return e(t[r],n[r])})));if("object"==typeof t){if(!t||!n)return t===n;var i=Object.keys(t),r=Object.keys(n);return i.length===r.length&&i.every((function(i){return e(t[i],n[i])}))}return t===n},e.exports.deepMerge=p,t.objectGetPath=function(e,t){for(var n,i=t.split("/").slice(1);"string"==typeof(n=i.shift());){var r=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(r in e))return;e=e[r]}return e},t.encodePath=function(e){return e.map(m).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var i=n[0].split(".");return 2===i.length&&(t+=i[1].length),t},t.isSchema=function(e){return"object"==typeof e&&e||"boolean"==typeof e}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return s}));var r=new Uint8Array(16);function s(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},function(e,t,n){"use strict";function i(e,t,n){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,s=i.index;if(Array.isArray(r))r.push(e);else if(s===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,i,r,s,o,a,c,l,u,d,h="";n=t.pop();)if(i=n.obj,h+=n.prefix||"",r=n.val||"")h+=r;else if("object"!=typeof i)h+=void 0===i?null:JSON.stringify(i);else if(null===i)h+="null";else if(Array.isArray(i)){for(t.push({val:"]"}),s=i.length-1;s>=0;s--)o=0===s?"":",",t.push({obj:i[s],prefix:o});t.push({val:"["})}else{for(c in a=[],i)i.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),s=a.length-1;s>=0;s--)u=i[l=a[s]],d=s>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:u,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,n,r,s,o,a,c,l,u,d=[],h=[],f=0;;)if("}"!==(t=e[f++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":f+=3,i(null,d,h);break;case"t":f+=3,i(!0,d,h);break;case"f":f+=4,i(!1,d,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",f--;;){if(r=e[f++],!/[\d\.\-e\+]/.test(r)){f--;break}n+=r}i(parseFloat(n),d,h);break;case'"':for(s="",o=void 0,a=0;'"'!==(c=e[f++])||"\\"===o&&a%2==1;)s+=c,"\\"===(o=c)?a++:a=0;i(JSON.parse('"'+s+'"'),d,h);break;case"[":l={element:[],index:d.length},d.push(l.element),h.push(l);break;case"{":u={element:{},index:d.length},d.push(u.element),h.push(u);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();i(d.pop(),d,h)}}},function(e,t,n){"use strict";var i=n(20),r=n(10);t.a=function(e,t,n){var s=(e=e||{}).random||(e.rng||i.a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=s[o];return t}return Object(r.a)(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(7),r=n(15),s=n(5),o=n(4);t.default=class{constructor(e,t){this.dragStartCoords=[-1,-1],this.neonView=e,this.selector=t}dragInit(){const e=i.drag().on("start",function(){this.dragStartCoords=[i.event.x,i.event.y],this.dx=0,this.dy=0,i.event.sourceEvent.target.classList.contains("staff")&&i.select(this.selector).call(e)}.bind(this)).on("drag",this.dragging.bind(this)).on("end",this.dragEnded.bind(this));i.selectAll(".selected").call(e);let t=Array.from(document.querySelectorAll(".selected"));this.noMovePrecedes=t.filter(e=>e.classList.contains("no-moving")&&e.hasAttribute("mei:precedes")),t=t.filter(e=>!e.classList.contains("no-moving")),this.selection=t.concat(Array.from(document.querySelectorAll(".resizePoint")))}dragging(){this.dx=i.event.x-this.dragStartCoords[0],this.dy=i.event.y-this.dragStartCoords[1],this.moveElements(this.selection,this.dx,this.dy);if(0===this.selection.filter(e=>e.classList.contains("syl")).length&&0===this.noMovePrecedes.length){const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));this.moveElements(e,-this.dx,-this.dy)}}dragEnded(){const e=Math.abs(this.dx),t=Math.abs(this.dy);if(e<=5&&t<=5)return this.reset(),void this.dragInit();const n=this.selection.filter(e=>!e.classList.contains("resizePoint"));if(this.isCursorOutOfBounds()||this.isDragOutOfBounds(n)){this.returnElements(this.selection);const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));return this.returnElements(e),this.reset(),this.dragInit(),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Drag action failed.","error")}const i=[];n.forEach(e=>{const t={action:"drag",param:{elementId:"rect"===e.tagName?e.closest(".syl").id:e.id,x:this.dx,y:-this.dy}};i.push(t)});const r={action:"chain",param:i};this.neonView.edit(r,this.neonView.view.getCurrentPageURI()).then(async()=>{const e=Array.from(document.querySelectorAll(".selected")).filter(e=>!e.classList.contains("no-moving")).map(e=>e.id);await this.neonView.updateForCurrentPage(),this.endOptionsSelection(),this.reset(),await this.reselect(e),this.dragInit()})}async reselect(e){const t=e.map(e=>document.querySelector("#"+e));t.filter(e=>!e.classList.contains("syl")).forEach(async()=>await(0,o.selectAll)(t,this.neonView,this)),t.filter(e=>e.classList.contains("syl")).forEach(e=>(0,o.selectBBox)(e.querySelector(".sylTextRect-display"),this,this.neonView)),t.filter(e=>e.classList.contains("staff")).forEach(e=>(0,o.selectStaff)(e,this))}resetTo(e){this.resetToAction=e}reset(){void 0!==this.resetToAction&&i.select(this.selector).call(this.resetToAction)}endOptionsSelection(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}moveElements(e,t,n){e.filter(e=>null!==e).forEach(e=>{e.setAttribute("transform",`translate(${t},${n})`)})}returnElements(e){e.filter(e=>null!==e).forEach(e=>{e.removeAttribute("transform")})}isCursorOutOfBounds(){const e=this.dragStartCoords[0]+this.dx,t=this.dragStartCoords[1]+this.dy;return(0,r.isOutOfSVGBounds)(e,t)}isDragOutOfBounds(e){let t=document.querySelector("#displayBBox").checked?"use, rect":"use";e[0].classList.contains("staff")&&(t="path");const n=e.reduce((e,n)=>e.concat(...n.querySelectorAll(t)),[]).map(r.getGlyphBBox).reduce((e,t)=>({ulx:Math.min(e.ulx,t.ulx),uly:Math.min(e.uly,t.uly),lrx:Math.max(e.lrx,t.lrx),lry:Math.max(e.lry,t.lry)}),{ulx:Number.MAX_VALUE,uly:Number.MAX_VALUE,lrx:Number.MIN_VALUE,lry:Number.MIN_VALUE}),{ulx:i,uly:s,lrx:o,lry:a}=n;return(0,r.isOutOfSVGBounds)(i+this.dx,s+this.dy)||(0,r.isOutOfSVGBounds)(o+this.dx,a+this.dy)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupingListeners=t.endGroupingSelection=t.triggerGrouping=t.mergeStaves=t.isLinkable=t.canBeLinked=t.isLinked=t.isGroupable=t.initNeonView=void 0;const i=n(8),r=n(34),s=n(5),o=n(4),a=n(14),c=n(14);let l;function u(e,t){if(Array.from(t.values()).length<2)return!1;switch(e){case"selByNeume":if(o.sharedLogicalParent(e,t))return!1;default:return!!o.areAdjacent(e,t)}}function d(e,t){switch(t||(t=Array.from(document.querySelectorAll(".selected"))),e){case"selBySyllable":for(const e of t)if(e.hasAttribute("mei:follows")||e.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNeume":for(const e of t)if(e.parentElement.hasAttribute("mei:follows")||e.parentElement.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNc":for(const e of t)if(e.parentElement.parentElement.hasAttribute("mei:follows")||e.parentElement.parentElement.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1}}function h(e){for(const t of e)if(!t.hasAttribute("mei:precedes")&&!t.hasAttribute("mei:follows"))return!1;return!0}function f(e){e.sort((e,t)=>{const n=e.closest(".staff"),i=t.closest(".staff");return n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1});const t=Array.from(document.querySelectorAll(".staff")),n=Array.from(document.querySelectorAll(".syllable"));for(let i=0;i<e.length-1;i++){const r=e[i],s=e[i+1],o=n.indexOf(r);if(n.indexOf(s)-o!=1)return!1;const a=r.closest(".staff"),c=s.closest(".staff"),l=t.indexOf(a);if(t.indexOf(c)-l!=1)return!1}if(2===e.length)return e.every(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));const i=e.filter(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));if(1!==i.length)return!1;const r=i[0];return 0===e.indexOf(r)||e.indexOf(r)===e.length-1}function g(e,t){return!(t.length<2)&&("selBySyllable"===e&&(function(e){for(let t=0;t<e.length;t++){const n=e.at(t);if(n.hasAttribute("mei:precedes")){const i=n.getAttribute("mei:precedes").replace("#","");let r;const s=e.find((e,t)=>e.id===i&&(r=t,!0));if(!s)return!0;if(!s.hasAttribute("mei:follows"))return!0;if(s.getAttribute("mei:follows")!="#"+n.id)return!0;if(r!==t+1)return!0}if(n.hasAttribute("mei:follows")){const t=n.getAttribute("mei:follows").replace("#",""),i=e.find(e=>e.id===t);if(!i)return!0;if(!i.hasAttribute("mei:precedes"))return!0;if(i.getAttribute("mei:precedes")!="#"+n.id)return!0}return!1}}(t)?(s.queueNotification("The selected syllables include invalid linked syllable(s)!","warning"),!1):!!h(t)||!!f(t)))}function p(){const e=document.querySelectorAll(".staff.selected"),t=[];e.forEach(e=>{t.push(e.id)});const n={action:"merge",param:{elementIds:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?(s.queueNotification("Staff Merged","success"),a.endOptionsSelection(),l.updateForCurrentPage()):s.queueNotification("Merge Failed","error")})}function m(){const e=document.getElementById("moreEdit");e.innerHTML="",e.parentElement.classList.add("hidden"),document.body.removeEventListener("keydown",c.deleteButtonHandler),document.body.removeEventListener("keydown",y)}function v(){const e=document.getElementById("delete");e.removeEventListener("click",c.removeHandler),e.addEventListener("click",c.removeHandler),document.body.addEventListener("keydown",c.deleteButtonHandler),document.body.addEventListener("keydown",y);try{document.getElementById("mergeSyls").addEventListener("click",()=>{if(d(o.getSelectionType()))return;b("group","neume",S().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNeumes").addEventListener("click",()=>{if(d(o.getSelectionType()))return;b("group","neume",E().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNcs").addEventListener("click",()=>{b("group","nc",E().filter(e=>document.getElementById(e).classList.contains("nc")))})}catch(e){}try{document.getElementById("ungroupNeumes").addEventListener("click",()=>{b("ungroup","neume",S())})}catch(e){}try{document.getElementById("ungroupNcs").addEventListener("click",()=>{b("ungroup","nc",S())})}catch(e){}try{document.getElementById("toggle-ligature").addEventListener("click",async()=>{const e={action:"toggleLigature",param:{elementIds:E()}};l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?s.queueNotification("Ligature Toggled","success"):s.queueNotification("Ligature Toggle Failed","error"),m(),l.updateForCurrentPage()})})}catch(e){}try{document.getElementById("toggle-link").addEventListener("click",()=>{_()})}catch(e){}}t.initNeonView=function(e){l=e},t.isGroupable=u,t.isLinked=h,t.canBeLinked=f,t.isLinkable=g,t.mergeStaves=p,t.triggerGrouping=function(e){const t=document.getElementById("moreEdit");t.parentElement.classList.remove("hidden"),t.innerHTML+=i.groupingMenu[e],v()},t.endGroupingSelection=m,t.initGroupingListeners=v;const y=function(e){if("g"===e.key){const e=Array.from(document.querySelectorAll(".selected"));if(0==e.length)return;const t=o.getSelectionType();if(d(t,e))return;switch(t){case"selBySyllable":if(g(t,e))_();else if(u(t,e)){b("group","neume",S().filter(e=>document.getElementById(e).classList.contains("neume")))}else if(1===e.length){b("ungroup","neume",S())}break;case"selByNeume":if(u(t,e)){b("group","neume",E())}else{b("ungroup","nc",S())}break;case"selByNc":if(u(t,e)){b("group","nc",E())}else{b("ungroup","nc",S())}break;case"selByStaff":u(t,e)?p():a.triggerStaffSplitMode();break;default:return void console.error(`Can't perform grouping/ungrouping action on selection type ${t}.`)}}};function b(e,t,n){const i={action:e,param:{groupType:t,elementIds:n}};l.edit(i,l.view.getCurrentPageURI()).then(i=>{if(i?"group"===e?s.queueNotification("Grouping Success","success"):s.queueNotification("Ungrouping Success","success"):"group"===e?s.queueNotification("Grouping Failed","error"):s.queueNotification("Ungrouping Failed","error"),l.updateForCurrentPage(),"nc"===t){const e=document.getElementById(n[0]).parentElement,t=Array.from(e.children);void 0===l.info.getContour(t)&&r.groupingNotRecognized()}m()})}function w(e){const t=document.getElementById(e);return t instanceof SVGGraphicsElement?t:null}function _(){const e=E(),t={action:"chain",param:[]},n=new Array,i=e.map(w).filter(e=>null!==e);if(h(i))n.push(...function(e){const t=new Array;for(const n of e){const e=document.getElementById(n);e.getAttribute("mei:precedes")&&t.push({action:"set",param:{elementId:n,attrType:"precedes",attrValue:""}}),e.getAttribute("mei:follows")&&(t.push({action:"set",param:{elementId:n,attrType:"follows",attrValue:""}}),t.push({action:"setText",param:{elementId:n,text:""}}))}return t}(e));else{const[e,t]=function(e){if(e.sort((e,t)=>{const n=e.closest(".staff"),i=t.closest(".staff");return n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}),2===e.length)return[e[0],e[1]];const t=e.find(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));if(t){const n=e.indexOf(t);if(0===n)return[e[n],e[n+1]];if(n===e.length-1)return[e[n-1],e[n]]}}(i);console.log(e.id,t.id),n.push({action:"set",param:{elementId:e.id,attrType:"precedes",attrValue:"#"+t.id}}),n.push({action:"set",param:{elementId:t.id,attrType:"follows",attrValue:"#"+e.id}});const r=t.querySelector(".syl");null!==r&&n.push({action:"remove",param:{elementId:r.id}})}t.param=n,l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.queueNotification("Toggled Syllable Link","success"):s.queueNotification("Failed to Toggle Syllable Link","error"),m(),l.updateForCurrentPage()})}function E(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push(t.id)}),e}function S(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{if(t.classList.contains("divLine")||t.classList.contains("accid")||t.classList.contains("clef"))return;Array.from(t.children).forEach(t=>{e.push(t.id)})}),e}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateErrorLogVisibility=t.initDisplayListener=t.initErrorLogControls=t.initErrorLog=t.recordNotification=void 0;const i=n(8),r=n(3),s=n(13);function o(e){const t=document.createElement("div");t.classList.add("notification-container"),t.innerHTML=`\n      <div class="notification-wrapper">\n        <div class="log-main">${e.message}</div>\n        <div class="log-extra"></div>\n      </div>\n\n      <div class="notification-btn-container" style="display: flex;">\n        <div class="notif-log-info-icon-wrapper">\n          <img style="display: none;" class="notif-log-info-icon" src="/Neon/Neon-gh//assets/img/notification-info-icon-light.svg" title="Log Message">\n        </div>\n\n        <div class="notif-remove-icon-wrapper">\n          <img class="log-remove notif-remove-icon" src="/Neon/Neon-gh//assets/img/garbage-closed.svg" title="Remove">\n        </div>\n      </div>\n  `;const n=t.querySelector(".log-remove");if(n.onclick=()=>t.remove(),n.addEventListener("mouseover",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-open.svg")}),n.addEventListener("mouseout",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-closed.svg")}),e.logInfo){const i=t.querySelector(".notif-log-info-icon");i.style.display="",n.style.height="20px",i.addEventListener("mouseover",()=>{i.setAttribute("src","/Neon/Neon-gh//assets/img/notification-info-icon-dark.svg")}),i.addEventListener("mouseout",()=>{i.setAttribute("src","/Neon/Neon-gh//assets/img/notification-info-icon-light.svg")}),i.addEventListener("click",()=>function(e){const t=new s.ModalWindow;t.setModalWindowView(s.ModalWindowView.ERROR_LOG,e),t.openModalWindow()}(e.logInfo))}return t}function a(){const e=document.querySelector("#error_log"),t=document.querySelector("#errorLogHeading"),n=t.querySelector("svg > use"),i=document.querySelector("#errorLogContents"),{displayErrLog:s}=(0,r.getSettings)();s&&e.classList.add("visible"),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),c()}function c(){const e=document.querySelector("#display-single-container"),t=document.createElement("label"),n=document.createElement("input");n.classList.add("checkbox"),t.classList.add("checkbox-container","side-panel-btn"),t.textContent="Errors",n.id="display-errors",n.type="checkbox",n.checked=!1,t.appendChild(n),e.append(t);const{displayErrLog:i}=(0,r.getSettings)();n.checked=i,n.addEventListener("click",()=>{(0,r.setSettings)({displayErrLog:n.checked}),l()})}function l(){const e=document.querySelector("#error_log"),{debugMode:t,displayErrLog:n,displayInfo:i,displayBBox:s,displayText:o}=(0,r.getSettings)(),a=document.getElementById("display-all-btn");t?n?(e.classList.add("visible"),i&&s&&o&&n&&(a.classList.add("selected"),a.innerHTML="Hide All")):(e.classList.remove("visible"),a.classList.contains("selected")&&(a.classList.remove("selected"),a.innerHTML="Display All")):(e.classList.remove("visible"),i&&s&&o?(a.classList.add("selected"),a.innerHTML="Hide All"):(a.classList.remove("selected"),a.innerHTML="Display All"))}t.recordNotification=function(e){document.querySelector("#errorLogContents").prepend(o(e))},t.initErrorLog=function(){document.querySelector("#error_log").innerHTML=i.errorLogsPanelContents,a()},t.initErrorLogControls=a,t.initDisplayListener=c,t.updateErrorLogVisibility=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;const i=n(4),r=n(7),s=n(15),o=n(5),a=n(3),c={TopLeft:0,Top:1,TopRight:2,Right:3,BottomRight:4,Bottom:5,BottomLeft:6,Left:7};function l(e,t,n,i,r){let s;if(r>=0)s=[{x:e,y:t,name:c.TopLeft},{x:(e+n)/2,y:t+(n-e)/2*Math.sin(r),name:c.Top},{x:n,y:t+(n-e)*Math.sin(r),name:c.TopRight},{x:n,y:(t+i+(n-e)*Math.sin(r))/2,name:c.Right},{x:n,y:i,name:c.BottomRight},{x:(e+n)/2,y:i-(n-e)/2*Math.sin(r),name:c.Bottom},{x:e,y:i-(n-e)*Math.sin(r),name:c.BottomLeft},{x:e,y:(t+i-(n-e)*Math.sin(r))/2,name:c.Left}];else{const o=(n-e)*Math.tan(Math.abs(r)),a=i-t-o;s=[{x:e,y:t+o,name:c.TopLeft},{x:(e+n)/2,y:t+o/2,name:c.Top},{x:n,y:t,name:c.TopRight},{x:n,y:t+a/2,name:c.Right},{x:n,y:t+a,name:c.BottomRight},{x:(e+n)/2,y:i-o/2,name:c.Bottom},{x:e,y:i,name:c.BottomLeft},{x:e,y:i-a/2,name:c.Left}]}return s}t.resize=function(e,t,n){let u,d,h,f,g,p,m,v,y,b,w,_,E,S,x;function L(){const e=l(u,d,h,f,g),t=e.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");document.querySelector("#resizeRect").setAttribute("points",t);const n=document.querySelector(".syl.selected > .sylTextRect-display");n&&(n.setAttribute("x",String(Math.min(u,h))),n.setAttribute("y",String(Math.min(d,f))),n.setAttribute("width",String(Math.abs(h-u))),n.setAttribute("height",String(Math.abs(f-d))));for(const t in c){const n=e[c[t]];r.select("#p-"+t).filter(".resizePoint").attr("cx",n.x).attr("cy",n.y)}let i=e[3].x,s=e[3].y;const o=i+100+","+(s+85)+" "+(i+70)+","+(s+50)+" "+(i+100)+","+(s+15)+" "+(i+130)+","+(s+50);i=e[7].x,s=e[7].y;const a=i-100+","+(s-15)+" "+(i-130)+","+(s-50)+" "+(i-100)+","+(s-85)+" "+(i-70)+","+(s-50);r.select("#rotateLeft").attr("points",a),r.select("#rotateRight").attr("points",o)}!function A(){if(null===e)return;if(r.selectAll(".resizePoint").remove(),r.selectAll("#resizeRect").remove(),r.selectAll(".rotatePoint").remove(),e.classList.contains("syl")){const t=e.querySelector(".sylTextRect-display");if(null===t)return void console.warn("Tried to draw resize rect for a sylTextRect that doesn't exist (or isn't displaying)");u=Number(t.getAttribute("x")),d=Number(t.getAttribute("y")),h=+u+ +t.getAttribute("width"),f=+d+ +t.getAttribute("height"),g=0}if(e.classList.contains("staff")){const t=(0,i.getStaffBBox)(e);u=t.ulx,d=t.uly,h=t.lrx,f=t.lry;const n=e.querySelector("path").getAttribute("d").match(/\d+/g).map(e=>Number(e));g=Math.atan((n[3]-n[1])/(n[2]-n[0]))}let k;p=u,y=d,m=h,b=f;const C=l(u,d,h,f,g);E=C[2].x-C[0].x;const I=C.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");r.select("#"+e.id).append("polygon").attr("points",I).attr("id","resizeRect").attr("stroke","black").attr("stroke-width",10).attr("fill","none").style("cursor","move").style("stroke-dasharray","20 10");const{circleSize:P}=(0,a.getSettings)();for(const t in c){const n=C[c[t]];r.select(e.viewportElement).append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",P).attr("stroke","black").attr("stroke-width",4).attr("fill","#0099ff").attr("class","resizePoint").attr("id","p-"+t)}for(const e in c)r.select("#p-"+e).filter(".resizePoint").call(r.drag().on("start",()=>{O(e)}).on("drag",B).on("end",T.bind(this)));if(e.classList.contains("staff")){let t=C[3].x,n=C[3].y;const i=t+100+","+(n+85)+" "+(t+70)+","+(n+50)+" "+(t+100)+","+(n+15)+" "+(t+130)+","+(n+50);t=C[7].x,n=C[7].y;const s=t-100+","+(n-15)+" "+(t-130)+","+(n-50)+" "+(t-100)+","+(n-85)+" "+(t-70)+","+(n-50);r.select("#"+e.id).append("polygon").attr("points",i).attr("id","rotateRight").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#"+e.id).append("polygon").attr("points",s).attr("id","rotateLeft").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#rotateLeft").call(r.drag().on("start",N).on("drag",(function(){const e=r.mouse(this)[1]-w,t=x-Math.atan(e/E);t>-.2&&t<.2&&(S=e,d=_+S,g=t,g>=0?(d=S+C.filter(e=>e.name===c.TopLeft)[0].y,f=C.filter(e=>e.name===c.BottomRight)[0].y):(d=C.filter(e=>e.name===c.TopRight)[0].y,f=S+C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M)),r.select("#rotateRight").call(r.drag().on("start",N).on("drag",(function(){const e=r.mouse(this)[1]-w,t=x+Math.atan(e/E);t>-.2&&t<.2&&(S=e,g=t,g>=0?(f=S+C.filter(e=>e.name===c.BottomRight)[0].y,d=C.filter(e=>e.name===c.TopLeft)[0].y):(d=S+C.filter(e=>e.name===c.TopRight)[0].y,f=C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M))}function O(e){k=e;const t=C.find(t=>t.name===c[e]);v=[t.x,t.y],y=d,b=f}function B(){const e=r.mouse(this);switch(c[k]){case c.TopLeft:u=e[0],d=e[1];break;case c.Top:d=e[1]-(h-u)*Math.tan(g)/2;break;case c.TopRight:h=e[0],d=e[1]-(h-u)*Math.tan(g);break;case c.Right:h=e[0],f=b+(e[0]-v[0])*Math.tan(g);break;case c.BottomRight:h=e[0],f=e[1];break;case c.Bottom:f=e[1]+(h-u)*Math.tan(g)/2;break;case c.BottomLeft:u=e[0],f=e[1]+(h-u)*Math.tan(g);break;case c.Left:u=e[0],d=y+(e[0]-v[0])*Math.tan(g);break;default:console.error("Something that wasn't a side of the rectangle was dragged. This shouldn't happen.")}L()}function T(){if((0,s.isOutOfSVGBounds)(u,d)||(0,s.isOutOfSVGBounds)(h,f))return u=p,d=y,h=m,f=b,L(),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Resize action failed.","error");const r={action:"resize",param:{elementId:e.id,ulx:u,uly:d,lrx:h,lry:f}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{if(r&&await t.updateForCurrentPage(),e=document.querySelector("#"+e.id),u=void 0,d=void 0,h=void 0,f=void 0,A(),e.classList.contains("syl"))(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this);else{(0,i.selectAll)([document.querySelector("#"+e.id)],t,n);const r=document.querySelector("moreEdit");r&&(r.innerHTML="",r.parentElement.classList.add("hidden"))}})}function N(){const e=r.event.sourceEvent.target.id;w=r.mouse(this)[1],b=f,y=d,_="rotateRight"===e?f:d,x=g}function M(){if(void 0===S&&(S=0),(0,s.isOutOfSVGBounds)(u,d)||(0,s.isOutOfSVGBounds)(h,f))return document.querySelectorAll(".resizePoint").forEach(e=>e.remove()),document.querySelectorAll("#resizeRect").forEach(e=>e.remove()),document.querySelectorAll(".rotatePoint").forEach(e=>e.remove()),e=document.getElementById(e.id),u=void 0,d=void 0,h=void 0,f=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Rotate action failed.","error");const r={action:"resizeRotate",param:{elementId:e.id,ulx:u,uly:d,lrx:h,lry:f,rotate:180*g/Math.PI}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{r&&await t.updateForCurrentPage(),e=document.getElementById(e.id),u=void 0,d=void 0,h=void 0,f=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n)})}}()}},function(e,t,n){"use strict";n.r(t),function(e){var i,r,s=n(2),o=n.n(s),a=n(22),c=n(16),l=n.n(c),u=n(21),d=n.n(u),h=n(6),f=n.n(h),g=n(1),p=n.n(g),m=n(0),v=n.n(m);function y(e){return"$"+e}function b(e){return e.substring(1)}function w(){this._store={}}function _(e){if(this._store=new w,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function E(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),i=new Uint8Array(e);return n.set(i),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}w.prototype.get=function(e){var t=y(e);return this._store[t]},w.prototype.set=function(e,t){var n=y(e);return this._store[n]=t,!0},w.prototype.has=function(e){return y(e)in this._store},w.prototype.keys=function(){return Object.keys(this._store).map(e=>b(e))},w.prototype.delete=function(e){var t=y(e),n=t in this._store;return delete this._store[t],n},w.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,i=t.length;n<i;n++){var r=t[n];e(this._store[r],r=b(r))}},Object.defineProperty(w.prototype,"size",{get:function(){return Object.keys(this._store).length}}),_.prototype.add=function(e){return this._store.set(e,!0)},_.prototype.has=function(e){return this._store.has(e)},_.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(_.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(i=_,r=w):(i=Set,r=Map);var S=Function.prototype.toString,x=S.call(Object);function L(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=L(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return E(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==x}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=L(e[n]);void 0!==r&&(t[n]=r)}return t}function A(e){var t=!1;return f()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function k(e){return f()((function(t){t=L(t);var n=this,i="function"==typeof t[t.length-1]&&t.pop(),r=new Promise((function(i,r){var s;try{var o=A((function(e,t){e?r(e):i(t)}));t.push(o),(s=e.apply(n,t))&&"function"==typeof s.then&&i(s)}catch(e){r(e)}}));return i&&r.then((function(e){i(null,e)}),i),r}))}function C(e,t){return k(f()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],r=0;r<n.length-1;r++)i.push(n[r]);e.constructor.emit("debug",i);var s=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",e.name,t];r=r.concat(n?["error",n]:["success",i]),e.constructor.emit("debug",r),s(n,i)}}}(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,r){i.taskqueue.addTask((function(s){s?r(s):t(i[e].apply(i,n))}))}))})))}function I(e,t){for(var n={},i=0,r=t.length;i<r;i++){var s=t[i];s in e&&(n[s]=e[s])}return n}var P;function O(e){return e}function B(e){return[{ok:e}]}function T(e,t,n){var i=t.docs,s=new r;i.forEach((function(e){s.has(e.id)?s.get(e.id).push(e):s.set(e.id,[e])}));var o=s.size,a=0,c=new Array(o);function l(){var e;++a===o&&(e=[],c.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var u=[];s.forEach((function(e,t){u.push(t)}));var d=0;function h(){if(!(d>=u.length)){var n=Math.min(d+6,u.length),i=u.slice(d,n);!function(n,i){n.forEach((function(n,r){var o=i+r,a=s.get(n),u=I(a[0],["atts_since","attachments"]);u.open_revs=a.map((function(e){return e.rev})),u.open_revs=u.open_revs.filter(O);var d=O;0===u.open_revs.length&&(delete u.open_revs,d=B),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(u[e]=t[e])})),e.get(n,u,(function(e,t){var i,r,s;i=e?[{error:e}]:d(t),r=n,s=i,c[o]={id:r,docs:s},l(),h()}))}))}(i,d),d+=i.length}}h()}try{localStorage.setItem("_pouch_check_localstorage",1),P=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){P=!1}function N(){return P}function M(){v.a.call(this),this._listeners={},function(e){N()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function q(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function F(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function D(e,t){q("info","The above "+e+" is totally normal. "+t)}p()(M,v.a),M.prototype.addListener=function(e,t,n,i){if(!this._listeners[t]){var r=this,s=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(r._listeners[t])if(s)s="waiting";else{s=!0;var e=I(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,i.onChange(e))})).on("complete",(function(){"waiting"===s&&o()(a),s=!1})).on("error",(function(){s=!1}))}}},M.prototype.removeListener=function(e,t){t in this._listeners&&(v.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},M.prototype.notifyLocalWindows=function(e){N()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},M.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var j="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function R(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}p()(R,Error),R.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new R(401,"unauthorized","Name or password is incorrect.");var V=new R(400,"bad_request","Missing JSON list of 'docs'"),z=new R(404,"not_found","missing"),H=new R(409,"conflict","Document update conflict"),U=new R(400,"bad_request","_id field must contain a string"),$=new R(412,"missing_id","_id is required for puts"),Z=new R(400,"bad_request","Only reserved document ids may start with underscore."),G=(new R(412,"precondition_failed","Database not open"),new R(500,"unknown_error","Database encountered an unknown error")),W=new R(500,"badarg","Some query argument is invalid"),K=(new R(400,"invalid_request","Request was invalid"),new R(400,"query_parse_error","Some query parameter is invalid")),Y=new R(500,"doc_validation","Bad special document member"),X=new R(400,"bad_request","Something wrong with the request"),J=new R(400,"bad_request","Document must be a JSON object"),Q=(new R(404,"not_found","Database not found"),new R(500,"indexed_db_went_bad","unknown")),ee=(new R(500,"web_sql_went_bad","unknown"),new R(500,"levelDB_went_went_bad","unknown"),new R(403,"forbidden","Forbidden by design doc validate_doc_update function"),new R(400,"bad_request","Invalid rev format")),te=(new R(412,"file_exists","The database could not be created, the file already exists."),new R(412,"missing_stub","A pre-existing attachment stub wasn't found"));new R(413,"invalid_url","Provided URL is invalid");function ne(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),i=0,r=n.length;i<r;i++)"function"!=typeof e[n[i]]&&(this[n[i]]=e[n[i]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=R.prototype,new n(t)}function ie(e){if("object"!=typeof e){var t=e;(e=G).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function re(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var r=n&&function(e,t,n){try{return!e(t,n)}catch(e){var i="Filter function threw: "+e.toString();return ne(X,i)}}(e.filter,i.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var s in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,s)&&(i.doc._attachments[s].stub=!0)}else delete i.doc;return!0}}function se(e){for(var t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n]);return t}function oe(e){var t;if(e?"string"!=typeof e?t=ne(U):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ne(Z)):t=ne($),t)throw t}function ae(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(q("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ce(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function le(e){var t=ce(e);return t?t.join("/"):null}var ue=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],de=/(?:^|&)([^&=]*)=?([^&]*)/g,he=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function fe(e){for(var t=he.exec(e),n={},i=14;i--;){var r=ue[i],s=t[i]||"",o=-1!==["user","password"].indexOf(r);n[r]=o?decodeURIComponent(s):s}return n.queryKey={},n[ue[12]].replace(de,(function(e,t,i){t&&(n.queryKey[t]=i)})),n}function ge(e,t){var n=[],i=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.push(r),i.push(t[r]));return n.push(e),Function.apply(null,n).apply(null,i)}function pe(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(i){var r=i._rev,s=n(i);return s?(s._id=t,s._rev=r,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return pe(e,t._id,n)}))}(e,s,n)):{updated:!1,rev:r}}))}var me=function(e){return atob(e)},ve=function(e){return btoa(e)};function ye(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function be(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function we(e,t){return ye([be(e)],{type:t})}function _e(e,t){return we(me(e),t)}function Ee(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(i)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return t}(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Se(e,t){Ee(e,(function(e){t(e)}))}function xe(e,t){Se(e,(function(e){t(ve(e))}))}var Le=self.setImmediate||self.setTimeout;function Ae(e,t,n,i,r){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),r()}))}function ke(e,t,n,i,r){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),r()}function Ce(e,t){var n="string"==typeof e,i=n?e.length:e.size,r=Math.min(32768,i),s=Math.ceil(i/r),o=0,a=n?new l.a:new l.a.ArrayBuffer,c=n?ke:Ae;function u(){Le(h)}function d(){var e=function(e){return ve(e)}(a.end(!0));t(e),a.destroy()}function h(){var t=o*r,n=t+r;o++,c(a,e,t,n,o<s?u:d)}h()}function Ie(e){return l.a.hash(e)}function Pe(e,t){if(!t)return Object(a.a)().replace(/-/g,"").toLowerCase();var n=j({},e);return delete n._rev_tree,Ie(JSON.stringify(n))}var Oe=a.a;function Be(e){for(var t,n,i,r,s=e.rev_tree.slice();r=s.pop();){var o=r.ids,a=o[2],c=r.pos;if(a.length)for(var l=0,u=a.length;l<u;l++)s.push({pos:c+1,ids:a[l]});else{var d=!!o[1].deleted,h=o[0];t&&!(i!==d?i:n!==c?n<c:t<h)||(t=h,n=c,i=d)}}return n+"-"+t}function Te(e,t){for(var n,i=e.slice();n=i.pop();)for(var r=n.pos,s=n.ids,o=s[2],a=t(0===o.length,r,s[0],n.ctx,s[1]),c=0,l=o.length;c<l;c++)i.push({pos:r+1,ids:o[c],ctx:a})}function Ne(e,t){return e.pos-t.pos}function Me(e){var t=[];Te(e,(function(e,n,i,r,s){e&&t.push({rev:n+"-"+i,pos:n,opts:s})})),t.sort(Ne).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function qe(e){for(var t=Be(e),n=Me(e.rev_tree),i=[],r=0,s=n.length;r<s;r++){var o=n[r];o.rev===t||o.opts.deleted||i.push(o.rev)}return i}function Fe(e){for(var t,n=[],i=e.slice();t=i.pop();){var r=t.pos,s=t.ids,o=s[0],a=s[1],c=s[2],l=0===c.length,u=t.history?t.history.slice():[];u.push({id:o,opts:a}),l&&n.push({pos:r+1-u.length,ids:u});for(var d=0,h=c.length;d<h;d++)i.push({pos:r+1,ids:c[d],history:u})}return n.reverse()}function De(e,t){return e.pos-t.pos}function je(e,t,n){var i=function(e,t,n){for(var i,r=0,s=e.length;r<s;)n(e[i=r+s>>>1],t)<0?r=i+1:s=i;return r}(e,t,n);e.splice(i,0,t)}function Re(e,t){for(var n,i,r=t,s=e.length;r<s;r++){var o=e[r],a=[o.id,o.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function Ve(e,t){return e[0]<t[0]?-1:1}function ze(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var r=n.pop(),s=r.tree1,o=r.tree2;(s[1].status||o[1].status)&&(s[1].status="available"===s[1].status||"available"===o[1].status?"available":"missing");for(var a=0;a<o[2].length;a++)if(s[2][0]){for(var c=!1,l=0;l<s[2].length;l++)s[2][l][0]===o[2][a][0]&&(n.push({tree1:s[2][l],tree2:o[2][a]}),c=!0);c||(i="new_branch",je(s[2],o[2][a],Ve))}else i="new_leaf",s[2][0]=o[2][a]}return{conflicts:i,tree:e}}function He(e,t,n){var i,r=[],s=!1,o=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])i=ze(l.ids,t.ids),r.push({pos:l.pos,ids:i.tree}),s=s||i.conflicts,o=!0;else if(!0!==n){var u=l.pos<t.pos?l:t,d=l.pos<t.pos?t:l,h=d.pos-u.pos,f=[],g=[];for(g.push({ids:u.ids,diff:h,parent:null,parentIdx:null});g.length>0;){var p=g.pop();if(0!==p.diff)for(var m=p.ids[2],v=0,y=m.length;v<y;v++)g.push({ids:m[v],diff:p.diff-1,parent:p.ids,parentIdx:v});else p.ids[0]===d.ids[0]&&f.push(p)}var b=f[0];b?(i=ze(b.ids,d.ids),b.parent[2][b.parentIdx]=i.tree,r.push({pos:u.pos,ids:u.ids}),s=s||i.conflicts,o=!0):r.push(l)}else r.push(l)}return o||r.push(t),r.sort(De),{tree:r,conflicts:s||"internal_node"}}function Ue(e,t,n){var i=He(e,t),r=function(e,t){for(var n,i,r=Fe(e),s=0,o=r.length;s<o;s++){var a,c=r[s],l=c.ids;if(l.length>t){n||(n={});var u=l.length-t;a={pos:c.pos+u,ids:Re(l,u)};for(var d=0;d<u;d++){var h=c.pos+d+"-"+l[d].id;n[h]=!0}}else a={pos:c.pos,ids:Re(l,0)};i=i?He(i,a,!0).tree:[a]}return n&&Te(i,(function(e,t,i){delete n[t+"-"+i]})),{tree:i,revs:n?Object.keys(n):[]}}(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function $e(e){return e.ids}function Ze(e,t){t||(t=Be(e));for(var n,i=t.substring(t.indexOf("-")+1),r=e.rev_tree.map($e);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function Ge(e){return/^_local/.test(e)}function We(e,t,n){v.a.call(this);var i=this;this.db=e;var r=(t=t?L(t):{}).complete=A((function(t,n){var r,o;t?(o="error",("listenerCount"in(r=i)?r.listenerCount(o):v.a.listenerCount(r,o))>0&&i.emit("error",t)):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",s)}));function s(){i.cancel()}n&&(i.on("complete",(function(e){n(null,e)})),i.on("error",n)),e.once("destroyed",s),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,i){try{e.emit("change",t,n,i)}catch(e){q("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var o=new Promise((function(e,n){t.complete=function(t,i){t?n(t):e(i)}}));i.once("cancel",(function(){e.removeListener("destroyed",s),t.complete(null,{status:"cancelled"})})),this.then=o.then.bind(o),this.catch=o.catch.bind(o),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)}))}function Ke(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=Me(t.rev_tree).map((function(e){return{rev:e.rev}})));var r={id:t.id,changes:i,doc:e};return Ze(t,e._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=qe(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Ye(e,t){return e<t?-1:e>t?1:0}function Xe(e,t){return function(n,i){n||i[0]&&i[0].error?((n=n||i[0]).docId=t,e(n)):e(null,i.length?i[0]:i)}}function Je(e,t){var n=Ye(e._id,t._id);return 0!==n?n:Ye(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Qe(){for(var e in v.a.call(this),Qe.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function et(){this.isReady=!1,this.failed=!1,this.queue=[]}function tt(e,t){if(!(this instanceof tt))return new tt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=L(t),n.auto_compaction=t.auto_compaction,n.prefix=tt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=tt.adapters,r=tt.preferredAdapters,s=tt.prefix,o=t.adapter;if(!o)for(var a=0;a<r.length&&("idb"===(o=r[a])&&"websql"in i&&N()&&localStorage["_pouch__websqldb_"+s+e]);++a)q("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=i[o];return{name:!c||!("use_prefix"in c)||c.use_prefix?s+e:e,adapter:o}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);Qe.call(n),n.taskqueue=new et,n.adapter=t.adapter,tt.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),tt.emit("created",n.name),n.taskqueue.ready(n)}))}p()(We,v.a),We.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},We.prototype.validateChanges=function(e){var t=e.complete,n=this;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(function(i){if(i)return t(i);n.doChanges(e)})):n.doChanges(e)},We.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=L(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Ke,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&q("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var r=t.cancel;t.cancel=f()((function(e){i.cancel(),r.apply(this,e)}))}}else this.db.info().then((function(i){t.isCancelled?n(null,{status:"cancelled"}):(e.since=i.update_seq,t.doChanges(e))}),n)},p()(Qe,v.a),Qe.prototype.post=C("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(J));this.bulkDocs({docs:[e]},t,Xe(n,e._id))})),Qe.prototype.put=C("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(J));if(oe(e._id),Ge(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var i,r,s,o,a=this;function c(n){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,n):a.bulkDocs({docs:[e]},t,Xe(n,e._id))}t.force&&e._rev?(i=e._rev.split("-"),r=i[1],s=parseInt(i[0],10)+1,o=Pe(),e._revisions={start:s,ids:[o,r]},e._rev=s+"-"+o,t.new_edits=!1,c((function(t){var i=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,i)}))):c(n)})),Qe.prototype.putAttachment=C("putAttachment",(function(e,t,n,i,r){var s=this;function o(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:i,revpos:++n},s.put(e)}return"function"==typeof r&&(r=i,i=n,n=null),void 0===r&&(r=i,i=n,n=null),r||q("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then((function(e){if(e._rev!==n)throw ne(H);return o(e)}),(function(t){if(t.reason===z.message)return o({_id:e});throw t}))})),Qe.prototype.removeAttachment=C("removeAttachment",(function(e,t,n,i){var r=this;r.get(e,(function(e,s){if(e)i(e);else if(s._rev===n){if(!s._attachments)return i();delete s._attachments[t],0===Object.keys(s._attachments).length&&delete s._attachments,r.put(s,i)}else i(ne(H))}))})),Qe.prototype.remove=C("remove",(function(e,t,n,i){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(r=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),(n=n||{}).was_delete=!0;var s={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(Ge(s._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[s]},n,Xe(i,s._id))})),Qe.prototype.revsDiff=C("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var s=0,o=new r;function a(e,t){o.has(e)||o.set(e,{missing:[]}),o.get(e).missing.push(t)}i.map((function(t){this._getRevisionTree(t,(function(r,c){if(r&&404===r.status&&"missing"===r.message)o.set(t,{missing:e[t]});else{if(r)return n(r);!function(t,n){var i=e[t].slice(0);Te(n,(function(e,n,r,s,o){var c=n+"-"+r,l=i.indexOf(c);-1!==l&&(i.splice(l,1),"available"!==o.status&&a(t,c))})),i.forEach((function(e){a(t,e)}))}(t,c)}if(++s===i.length){var l={};return o.forEach((function(e,t){l[t]=e})),n(null,l)}}))}),this)})),Qe.prototype.bulkGet=C("bulkGet",(function(e,t){T(this,e,t)})),Qe.prototype.compactDocument=C("compactDocument",(function(e,t,n){var i=this;this._getRevisionTree(e,(function(r,s){if(r)return n(r);var o=function(e){var t={},n=[];return Te(e,(function(e,i,r,s){var o=i+"-"+r;return e&&(t[o]=0),void 0!==s&&n.push({from:s,to:o}),o})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(s),a=[],c=[];Object.keys(o).forEach((function(e){o[e]>t&&a.push(e)})),Te(s,(function(e,t,n,i,r){var s=t+"-"+n;"available"===r.status&&-1!==a.indexOf(s)&&c.push(s)})),i._doCompaction(e,c,n)}))})),Qe.prototype.compact=C("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],i=n.opts,r=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(i.last_seq=n.last_seq),t._compact(i,(function(n,i){n?r(n):r(null,i),o()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),Qe.prototype._compact=function(e,t){var n=this,i={return_docs:!1,last_seq:e.last_seq||0},r=[];n.changes(i).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return pe(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},Qe.prototype.get=C("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(ne(U));if(Ge(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],r=this;function s(){var s=[],o=i.length;if(!o)return n(null,s);i.forEach((function(i){r.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)s.push({missing:i});else{for(var r,a=0,c=s.length;a<c;a++)if(s[a].ok&&s[a].ok._rev===t._rev){r=!0;break}r||s.push({ok:t})}--o||n(null,s)}))}))}if(!t.open_revs)return this._get(e,t,(function(i,s){if(i)return i.docId=e,n(i);var o=s.doc,a=s.metadata,c=s.ctx;if(t.conflicts){var l=qe(a);l.length&&(o._conflicts=l)}if(Ze(a,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var u=o._rev.split("-"),d=parseInt(u[0],10),h=u[1],f=Fe(a.rev_tree),g=null,p=0;p<f.length;p++){var m=f[p],v=m.ids.map((function(e){return e.id})).indexOf(h);(v===d-1||!g&&-1!==v)&&(g=m)}if(!g)return(i=new Error("invalid rev tree")).docId=e,n(i);var y=g.ids.map((function(e){return e.id})).indexOf(o._rev.split("-")[1])+1,b=g.ids.length-y;if(g.ids.splice(y,b),g.ids.reverse(),t.revs&&(o._revisions={start:g.pos+g.ids.length-1,ids:g.ids.map((function(e){return e.id}))}),t.revs_info){var w=g.pos+g.ids.length;o._revs_info=g.ids.map((function(e){return{rev:--w+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&o._attachments){var _=o._attachments,E=Object.keys(_).length;if(0===E)return n(null,o);Object.keys(_).forEach((function(e){this._getAttachment(o._id,e,_[e],{rev:o._rev,binary:t.binary,ctx:c},(function(t,i){var r=o._attachments[e];r.data=i,delete r.stub,delete r.length,--E||n(null,o)}))}),r)}else{if(o._attachments)for(var S in o._attachments)Object.prototype.hasOwnProperty.call(o._attachments,S)&&(o._attachments[S].stub=!0);n(null,o)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=Me(t).map((function(e){return e.rev})),s()}));else{if(!Array.isArray(t.open_revs))return n(ne(G,"function_clause"));i=t.open_revs;for(var o=0;o<i.length;o++){var a=i[o];if("string"!=typeof a||!/^\d+-/.test(a))return n(ne(ee))}s()}})),Qe.prototype.getAttachment=C("getAttachment",(function(e,t,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(e,n,(function(s,o){return s?i(s):o.doc._attachments&&o.doc._attachments[t]?(n.ctx=o.ctx,n.binary=!0,void r._getAttachment(e,t,o.doc._attachments[t],n,i)):i(ne(z))}))})),Qe.prototype.allDocs=C("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(ne(K,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ae(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),Qe.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new We(this,e,t)},Qe.prototype.close=C("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),Qe.prototype.info=C("info",(function(e){var t=this;this._info((function(n,i){if(n)return e(n);i.db_name=i.db_name||t.name,i.auto_compaction=!(!t.auto_compaction||ae(t)),i.adapter=t.adapter,e(null,i)}))})),Qe.prototype.id=C("id",(function(e){return this._id(e)})),Qe.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Qe.prototype.bulkDocs=C("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(ne(V));for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return n(ne(J));var r;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||q("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),r)return n(ne(X,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var s=this;t.new_edits||ae(s)||e.docs.sort(Je),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var s=i[r];n._attachments[s]=I(n._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var o=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,i){if(e)return n(e);if(t.new_edits||(i=i.filter((function(e){return e.error}))),!ae(s))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||o[r];n(null,i)}))})),Qe.prototype.registerDependentDatabase=C("registerDependentDatabase",(function(e,t){var n=L(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(e,n);pe(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:i})})).catch(t)})),Qe.prototype.destroy=C("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(e,(function(e,i){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,i||{ok:!0})}))}if(ae(n))return r();n.get("_local/_pouch_dependentDbs",(function(e,s){if(e)return 404!==e.status?t(e):r();var o=s.dependentDbs,a=n.constructor,c=Object.keys(o).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(c).then(r,t)}))})),et.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},et.prototype.fail=function(e){this.failed=e,this.execute()},et.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},et.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},p()(tt,Qe);var nt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},it=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var st=new v.a;!function(e){Object.keys(v.a.prototype).forEach((function(t){"function"==typeof v.a.prototype[t]&&(e[t]=st[t].bind(st))}));var t=e._destructionListeners=new r;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),i=n.indexOf(e);i<0||(n.splice(i,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"==typeof e)e(tt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=j({},this.__defaults)),tt},tt.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=j({},t.__defaults,n),tt.call(this,e,n)}return p()(t,tt),t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=j({},this.__defaults,e),t},tt.fetch=function(e,t){return it(e,t)};function ot(e,t){for(var n=e,i=0,r=t.length;i<r;i++){if(!(n=n[t[i]]))break}return n}function at(e){for(var t=[],n="",i=0,r=e.length;i<r;i++){var s=e[i];i>0&&"\\"===e[i-1]&&("$"===s||"."===s)?n=n.substring(0,n.length-1)+s:"."===s?(t.push(n),n=""):n+=s}return t.push(n),t}var ct=["$or","$nor","$not"];function lt(e){return ct.indexOf(e)>-1}function ut(e){return Object.keys(e)[0]}function dt(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("object"!=typeof r&&(r={$eq:r}),lt(i))if(r instanceof Array){if(n[i])return n[i]=!1,void(t[i]=r);var s=[];t[i].forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t],i=Math.max(Object.keys(e).length,Object.keys(n).length),o=dt([e,n]);Object.keys(o).length<=i||s.push(o)}))})),t[i]=s}else t[i]=dt([r]);else{var o=t[i]=t[i]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,o):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,o):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,o):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,o):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,o):void(o[e]=t)}))}}))})),t}function ht(e){var t=L(e),n=!1;(function e(t,n){for(var i in t){"$and"===i&&(n=!0);var r=t[i];"object"==typeof r&&(n=e(r,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=dt(t[i].$and));var r=t[n];"object"==typeof r&&e(r)}return t}(t))&&(t=dt(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n],r=e[i];"object"==typeof r&&null!==r||(e[i]={$eq:r})}}))})),"$not"in t&&(t.$not=dt([t.$not]));for(var i=Object.keys(t),r=0;r<i.length;r++){var s=i[r],o=t[s];"object"!=typeof o||null===o?o={$eq:o}:n||("$ne"in o&&(o.$ne=[o.$ne]),"$regex"in o&&(o.$regex=[o.$regex])),t[s]=o}return t}function ft(e,t){if(e===t)return 0;e=gt(e),t=gt(t);var n=bt(e),i=bt(t);if(n-i!=0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=ft(e[i],t[i]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),i=Object.keys(t),r=Math.min(n.length,i.length),s=0;s<r;s++){var o=ft(n[s],i[s]);if(0!==o)return o;if(0!==(o=ft(e[n[s]],t[i[s]])))return o}return n.length===i.length?0:n.length>i.length?1:-1}(e,t)}function gt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=gt(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=t[r];void 0!==s&&(e[r]=gt(s))}}}return e}function pt(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,r=i?"0":"2",s=(o=((i?-n:n)- -324).toString(),a="0",c=3,function(e,t,n){for(var i="",r=n-e.length;i.length<r;)i+=t;return i}(o,a,c)+o);var o,a,c;r+=""+s;var l=Math.abs(parseFloat(t[0]));i&&(l=10-l);var u=l.toFixed(20);return u=u.replace(/\.?0+$/,""),r+=""+u}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,r=n.length,s="";if(t)for(;++i<r;)s+=mt(n[i]);else for(;++i<r;){var o=n[i];s+=mt(o)+mt(e[o])}return s}return""}function mt(e){return bt(e=gt(e))+""+pt(e)+"\0"}function vt(e,t){var n,i=t;if("1"===e[t])n=0,t++;else{var r="0"===e[t];t++;var s="",o=e.substring(t,t+3),a=parseInt(o,10)+-324;for(r&&(a=-a),t+=3;;){var c=e[t];if("\0"===c)break;s+=c,t++}n=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),r&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-i}}function yt(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var r=i.element,s=i.index;if(Array.isArray(r))r.push(n);else if(s===e.length-2){r[e.pop()]=n}else e.push(n)}}function bt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function wt(e,t,n){if(e=e.filter((function(e){return _t(e.doc,t.selector,n)})),t.sort){var i=function(e){function t(t){return e.map((function(e){var n=at(ut(e));return ot(t,n)}))}return function(e,n){var i,r,s=ft(t(e.doc),t(n.doc));return 0!==s?s:(i=e.doc._id,r=n.doc._id,i<r?-1:i>r?1:0)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[ut(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var s=t.skip||0,o=("limit"in t?t.limit:e.length)+s;e=e.slice(s,o)}return e}function _t(e,t,n){return n.every((function(n){var i=t[n],r=at(n),s=ot(e,r);return lt(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return _t(n,e,Object.keys(e))}));if("$not"===e)return!_t(n,t,Object.keys(t));return!t.find((function(e){return _t(n,e,Object.keys(e))}))}(n,i,e):Et(i,e,r,s)}))}function Et(e,t,n,i){return!e||("object"==typeof e?Object.keys(e).every((function(r){var s=e[r];if(0===r.indexOf("$"))return St(r,t,s,n,i);var o=at(r);if(void 0===i&&"object"!=typeof s&&o.length>0)return!1;var a=ot(i,o);return"object"==typeof s?Et(s,t,n,a):St("$eq",t,s,o,a)})):e===i)}function St(e,t,n,i,r){if(!kt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return kt[e](t,n,i,r)}function xt(e){return null!=e}function Lt(e){return void 0!==e}function At(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===ft(t,e)})):0===ft(t,e)}))}var kt={$elemMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some((function(e){return _t(e,t,Object.keys(t))})):i.some((function(i){return Et(t,e,n,i)}))))},$allMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every((function(e){return _t(e,t,Object.keys(t))})):i.every((function(i){return Et(t,e,n,i)}))))},$eq:function(e,t,n,i){return Lt(i)&&0===ft(i,t)},$gte:function(e,t,n,i){return Lt(i)&&ft(i,t)>=0},$gt:function(e,t,n,i){return Lt(i)&&ft(i,t)>0},$lte:function(e,t,n,i){return Lt(i)&&ft(i,t)<=0},$lt:function(e,t,n,i){return Lt(i)&&ft(i,t)<0},$exists:function(e,t,n,i){return t?Lt(i):!Lt(i)},$mod:function(e,t,n,i){return xt(i)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(i,t)},$ne:function(e,t,n,i){return t.every((function(e){return 0!==ft(i,e)}))},$in:function(e,t,n,i){return xt(i)&&At(i,t)},$nin:function(e,t,n,i){return xt(i)&&!At(i,t)},$size:function(e,t,n,i){return xt(i)&&Array.isArray(i)&&function(e,t){return e.length===t}(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===ft(t,e)}))}))}(i,t)},$regex:function(e,t,n,i){return xt(i)&&"string"==typeof i&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(i,e)}))},$type:function(e,t,n,i){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(i,t)}};function Ct(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function It(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=le(e.view):e.filter=le(e.filter))}function Pt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ae(e.db)}function Ot(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var i=ne(X,"`view` filter parameter not found or invalid.");return n(i)}var r=ce(t.view);e.db.get("_design/"+r[0],(function(i,s){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var o=s&&s.views&&s.views[r[1]]&&s.views[r[1]].map;if(!o)return n(ne(z,s.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=ge(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+o+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=wt([{doc:e}],{selector:t=ht(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var s=ce(t.filter);e.db.get("_design/"+s[0],(function(i,r){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var o=r&&r.filters&&r.filters[s[1]];if(!o)return n(ne(z,r&&r.filters?"missing json key: "+s[1]:"missing json key: filters"));t.filter=ge('"use strict";\nreturn '+o+";",{}),e.doChanges(t)}))}}function Bt(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Ct,normalize:It,shouldFilter:Pt,filter:Ot}})),tt.version="7.3.0";var Tt=Bt(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Nt=Bt(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Mt(e){if(!/^\d+-/.test(e))return ne(ee);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function qt(e,t,n){var i,r,s;n||(n={deterministic_revs:!0});var o={status:"available"};if(e._deleted&&(o.deleted=!0),t)if(e._id||(e._id=Oe()),r=Pe(e,n.deterministic_revs),e._rev){if((s=Mt(e._rev)).error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[r,o,[]]]]}],i=s.prefix+1}else e._rev_tree=[{pos:1,ids:[r,o,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,r=[i[0],t,[]],s=1,o=i.length;s<o;s++)r=[i[s],{status:"missing"},[r]];return[{pos:n,ids:r}]}(e._revisions,o),i=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((s=Mt(e._rev)).error)return s;i=s.prefix,r=s.id,e._rev_tree=[{pos:i,ids:[r,o,[]]}]}oe(e._id),e._rev=i+"-"+r;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!Tt[c]){var u=ne(Y,c);throw u.message=Y.message+": "+c,u}l&&!Nt[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function Ft(e,t,n){var i=function(e){try{return me(e)}catch(e){return{error:ne(W,"Attachment is not a valid base64 string")}}}(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===t?we(i,e.content_type):"base64"===t?ve(i):i,Ce(i,(function(t){e.digest="md5-"+t,n()}))}function Dt(e,t,n){if(e.stub)return n();"string"==typeof e.data?Ft(e,t,n):function(e,t,n){Ce(e.data,(function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,"binary"===t?Se(e.data,(function(t){e.data=t,n()})):"base64"===t?xe(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function jt(e,t,n,i,r,s,o,a){if(function(e,t){for(var n,i=e.slice(),r=t.split("-"),s=parseInt(r[0],10),o=r[1];n=i.pop();){if(n.pos===s&&n.ids[0]===o)return!0;for(var a=n.ids[2],c=0,l=a.length;c<l;c++)i.push({pos:n.pos+1,ids:a[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return i[r]=n,s();var c=t.winningRev||Be(t),l="deleted"in t?t.deleted:Ze(t,c),u="deleted"in n.metadata?n.metadata.deleted:Ze(n.metadata),d=/^1-/.test(n.metadata.rev);if(l&&!u&&a&&d){var h=n.data;h._rev=c,h._id=n.metadata.id,n=qt(h,a)}var f=Ue(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&u&&"new_leaf"!==f.conflicts||!l&&"new_leaf"!==f.conflicts||l&&!u&&"new_branch"===f.conflicts)){var g=ne(H);return i[r]=g,s()}var p=n.metadata.rev;n.metadata.rev_tree=f.tree,n.stemmedRevs=f.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var m=Be(n.metadata),v=Ze(n.metadata,m),y=l===v?0:l<v?-1:1;o(n,m,v,p===m?v:Ze(n.metadata,p),!0,y,r,s)}function Rt(e,t,n,i,s,o,a,c,l){e=e||1e3;var u=c.new_edits,d=new r,h=0,f=t.length;function g(){++h===f&&l&&l()}t.forEach((function(e,t){if(e._id&&Ge(e._id)){var i=e._deleted?"_removeLocal":"_putLocal";n[i](e,{ctx:s},(function(e,n){o[t]=e||n,g()}))}else{var r=e.metadata.id;d.has(r)?(f--,d.get(r).push([e,t])):d.set(r,[[e,t]])}})),d.forEach((function(t,n){var r=0;function s(){++r<t.length?l():g()}function l(){var l=t[r],d=l[0],h=l[1];if(i.has(n))jt(e,i.get(n),d,o,h,s,a,u);else{var f=Ue([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=f.tree,d.stemmedRevs=f.stemmedRevs||[],function(e,t,n){var i=Be(e.metadata),r=Ze(e.metadata,i);if("was_delete"in c&&r)return o[t]=ne(z,"deleted"),n();if(u&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var s=ne(H);return o[t]=s,n()}a(e,i,r,r,!1,r?0:1,t,n)}(d,h,s)}}l()}))}var Vt="document-store",zt="meta-store";function Ht(e){try{return JSON.stringify(e)}catch(t){return d.a.stringify(e)}}function Ut(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(ne(Q,n,t.type))}}function $t(e,t,n){return{data:Ht(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Zt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return d.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Gt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Wt(e,t,n,i){n?i(e?"string"!=typeof e?e:_e(e,t):ye([""],{type:t})):e?"string"!=typeof e?Ee(e,(function(e){i(ve(e))})):i(e):i("")}function Kt(e,t,n,i){var r=Object.keys(e._attachments||{});if(!r.length)return i&&i();var s=0;function o(){++s===r.length&&i&&i()}r.forEach((function(i){t.attachments&&t.include_docs?function(e,t){var i=e._attachments[t],r=i.digest;n.objectStore("attach-store").get(r).onsuccess=function(e){i.body=e.target.result.body,o()}}(e,i):(e._attachments[i].stub=!0,o())}))}function Yt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var r=i.body,s=i.content_type;return new Promise((function(o){Wt(r,s,t,(function(t){e.doc._attachments[n]=j(I(i,["digest","content_type"]),{data:t}),o()}))}))}})))}})))}function Xt(e,t,n){var i=[],r=n.objectStore("by-sequence"),s=n.objectStore("attach-store"),o=n.objectStore("attach-seq-store"),a=e.length;function c(){--a||function(){if(!i.length)return;i.forEach((function(e){o.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}}))}()}e.forEach((function(e){var n=r.index("_doc_id_rev"),s=t+"::"+e;n.getKey(s).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();r.delete(t),o.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),o.delete(t.primaryKey),t.continue()}else c()}}}))}function Jt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var Qt=new M;function en(e,t,n,i,s,o){for(var a,c,l,u,d,h,f,g,p=t.docs,m=0,v=p.length;m<v;m++){var y=p[m];y._id&&Ge(y._id)||(y=p[m]=qt(y,n.new_edits,e)).error&&!f&&(f=y)}if(f)return o(f);var b=!1,w=0,_=new Array(p.length),E=new r,S=!1,x=i._meta.blobSupport?"blob":"base64";function L(){b=!0,A()}function A(){g&&b&&(g.docCount+=w,h.put(g))}function k(){S||(Qt.notify(i._meta.name),o(null,_))}function C(e,t,n,i,r,s,o,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,i&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,i,r,s){var o=e.data,a=0,c=Object.keys(o._attachments);function l(){a===c.length&&I(e,t,n,i,r,s)}function d(){a++,l()}c.forEach((function(n){var i=e.data._attachments[n];if(i.stub)a++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(t,10),function(e,t,n){u.count(e).onsuccess=function(i){if(i.target.result)return n();var r={digest:e,body:t};u.put(r).onsuccess=n}}(i.digest,r,d)}}))}(e,t,n,r,o,a);w+=s,A(),I(e,t,n,r,o,a)}function I(e,t,n,r,s,o){var u=e.data,h=e.metadata;function f(s){var o=e.stemmedRevs||[];r&&i.auto_compaction&&(o=o.concat(function(e){var t=[];return Te(e.rev_tree,(function(e,n,i,r,s){"available"!==s.status||e||(t.push(n+"-"+i),s.status="missing")})),t}(e.metadata))),o&&o.length&&Xt(o,e.metadata.id,a),h.seq=s.target.result;var l=$t(h,t,n);c.put(l).onsuccess=g}function g(){_[s]={ok:!0,id:h.id,rev:h.rev},E.set(e.metadata.id,e.metadata),function(e,t,n){var i=0,r=Object.keys(e.data._attachments||{});if(!r.length)return n();function s(){++i===r.length&&n()}function o(n){var i=e.data._attachments[n].digest,r=d.put({seq:t,digestSeq:i+"::"+t});r.onsuccess=s,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),s()}}for(var a=0;a<r.length;a++)o(r[a])}(e,h.seq,o)}u._doc_id_rev=h.id+"::"+h.rev,delete u._id,delete u._rev;var p=l.put(u);p.onsuccess=f,p.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(u._doc_id_rev).onsuccess=function(e){l.put(u,e.target.result).onsuccess=f}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function s(){r++,e.length===r&&(i?n(i):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return s();function o(e){i=e,++r===n.length&&s()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&Dt(e.data._attachments[a],t,o)}))}(p,x,(function(t){if(t)return o(t);!function(){var t=Jt(s,[Vt,"by-sequence","attach-store","local-store","attach-seq-store",zt],"readwrite");if(t.error)return o(t.error);(a=t.txn).onabort=Ut(o),a.ontimeout=Ut(o),a.oncomplete=k,c=a.objectStore(Vt),l=a.objectStore("by-sequence"),u=a.objectStore("attach-store"),d=a.objectStore("attach-seq-store"),(h=a.objectStore(zt)).get(zt).onsuccess=function(e){g=e.target.result,A()},function(e){var t=[];if(p.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var i=e.data._attachments[n];i.stub&&t.push(i.digest)}))})),!t.length)return e();var n,i=0;t.forEach((function(r){!function(e,t){u.get(e).onsuccess=function(n){if(n.target.result)t();else{var i=ne(te,"unknown stub attachment with digest "+e);i.status=412,t(i)}}}(r,(function(r){r&&!n&&(n=r),++i===t.length&&e(n)}))}))}((function(t){if(t)return S=!0,o(t);!function(){if(!p.length)return;var t=0;function r(){++t===p.length&&Rt(e.revs_limit,p,i,E,a,_,C,n,L)}function s(e){var t=Zt(e.target.result);t&&E.set(t.id,t),r()}for(var o=0,l=p.length;o<l;o++){var u=p[o];if(u._id&&Ge(u._id))r();else c.get(u.metadata.id).onsuccess=s}}()}))}()}))}function tn(e,t,n,i,r){var s,o,a;function c(e){o=e.target.result,s&&r(s,o,a)}function l(e){s=e.target.result,o&&r(s,o,a)}function u(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}-1===i&&(i=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&i>1&&!n?(a={continue:function(){if(!s.length)return r();var n,a=s[s.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);t=n,s=null,o=null,e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l}},e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l):n?e.openCursor(t,"prev").onsuccess=u:e.openCursor(t).onsuccess=u}function nn(e,t,n){var i,r,s="startkey"in e&&e.startkey,o="endkey"in e&&e.endkey,a="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,u="number"==typeof e.limit?e.limit:-1,d=!1!==e.inclusive_end;if(!c&&(r=(i=function(e,t,n,i,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(e){return{error:e}}return null}(s,o,d,a,e.descending))&&i.error)&&("DataError"!==r.name||0!==r.code))return n(ne(Q,r.name,r.message));var h=[Vt,"by-sequence",zt];e.attachments&&h.push("attach-store");var f=Jt(t,h,"readonly");if(f.error)return n(f.error);var g=f.txn;g.oncomplete=function(){e.attachments?Yt(E,e.binary).then(A):A()},g.onabort=Ut(n);var p,m,v,y=g.objectStore(Vt),b=g.objectStore("by-sequence"),w=g.objectStore(zt),_=b.index("_doc_id_rev"),E=[];function S(t,n){var i={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(E.push(i),i.value.deleted=!0,i.doc=null):l--<=0&&(E.push(i),e.include_docs&&function(t,n,i){var r=t.id+"::"+i;_.get(r).onsuccess=function(i){if(n.doc=Gt(i.target.result)||{},e.conflicts){var r=qe(t);r.length&&(n.doc._conflicts=r)}Kt(n.doc,e,g)}}(n,i,t))}function x(e){for(var t=0,n=e.length;t<n&&E.length!==u;t++){var i=e[t];if(i.error&&c)E.push(i);else{var r=Zt(i);S(r.winningRev,r)}}}function L(e,t,n){n&&(x(t),E.length<u&&n.continue())}function A(){var t={total_rows:p,offset:e.skip,rows:E};e.update_seq&&void 0!==m&&(t.update_seq=m),n(null,t)}return w.get(zt).onsuccess=function(e){p=e.target.result.docCount},e.update_seq&&(v=function(e){e.target.result&&e.target.result.length>0&&(m=e.target.result[0])},b.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),v({target:{result:[n]}})}),r||0===u?void 0:c?function(e,t,n){var i=new Array(e.length),r=0;e.forEach((function(s,o){t.get(s).onsuccess=function(t){t.target.result?i[o]=t.target.result:i[o]={key:s,error:"not_found"},++r===e.length&&n(e,i,{})}}))}(e.keys,y,L):-1===u?function(e,t,n){if("function"!=typeof e.getAll){var i=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}}else e.getAll(t).onsuccess=n}(y,i,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),x(n)})):void tn(y,i,e.descending,u+l,L)}var rn=!1,sn=[];function on(){!rn&&sn.length&&(rn=!0,sn.shift()())}function an(e,t,n,s){if((e=L(e)).continuous){var o=n+":"+Oe();return Qt.addListener(n,o,t,e),Qt.notify(n),{cancel:function(){Qt.removeListener(n,o)}}}var a=e.doc_ids&&new i(e.doc_ids);e.since=e.since||0;var c=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var u,d,h,f,g=[],p=0,m=re(e),v=new r;function y(e,t,n,i){if(n.seq!==t)return i();if(n.winningRev===e._rev)return i(n,e);var r=e._id+"::"+n.winningRev;f.get(r).onsuccess=function(e){i(n,Gt(e.target.result))}}function b(){e.complete(null,{results:g,last_seq:c})}var w=[Vt,"by-sequence"];e.attachments&&w.push("attach-store");var _=Jt(s,w,"readonly");if(_.error)return e.complete(_.error);(u=_.txn).onabort=Ut(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?Yt(g).then(b):b()},d=u.objectStore("by-sequence"),h=u.objectStore(Vt),f=d.index("_doc_id_rev"),tn(d,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,(function(t,n,i){if(i&&t.length){var r=new Array(t.length),s=new Array(t.length),o=0;n.forEach((function(n,c){!function(e,t,n){if(a&&!a.has(e._id))return n();var i=v.get(e._id);if(i)return y(e,t,i,n);h.get(e._id).onsuccess=function(r){i=Zt(r.target.result),v.set(e._id,i),y(e,t,i,n)}}(Gt(n),t[c],(function(n,a){s[c]=n,r[c]=a,++o===t.length&&function(){for(var t=[],n=0,o=r.length;n<o&&p!==l;n++){var a=r[n];if(a){var c=s[n];t.push(d(c,a))}}Promise.all(t).then((function(t){for(var n=0,i=t.length;n<i;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),p!==l&&i.continue()}()}))}))}function d(t,n){var i=e.processChange(n,t,e);c=i.seq=t.seq;var r=m(i);return"object"==typeof r?Promise.reject(r):r?(p++,e.return_docs&&g.push(i),e.attachments&&e.include_docs?new Promise((function(t){Kt(n,e,u,(function(){Yt([i],e.binary).then((function(){t(i)}))}))})):Promise.resolve(i)):Promise.resolve()}}))}var cn,ln=new r,un=new r;function dn(e,t){var n=this;!function(e,t,n){sn.push((function(){e((function(e,i){!function(e,t,n,i){try{e(t,n)}catch(t){i.emit("error",t)}}(t,e,i,n),rn=!1,o()((function(){on()}))}))})),on()}((function(t){!function(e,t,n){var i=t.name,r=null,s=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&s&&(t.reason=s),e(t,n)}}function c(e,t){var n=e.objectStore(Vt);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r=i.value,s=Ze(r);r.deletedOrLocal=s?"1":"0",n.put(r),i.continue()}else t()}}function l(e,t){var n=e.objectStore("local-store"),i=e.objectStore(Vt),r=e.objectStore("by-sequence");i.openCursor().onsuccess=function(e){var s=e.target.result;if(s){var o=s.value,a=o.id,c=Ge(a),l=Be(o);if(c){var u=a+"::"+l,d=a+"::",h=a+"::~",f=r.index("_doc_id_rev"),g=IDBKeyRange.bound(d,h,!1,!1),p=f.openCursor(g);p.onsuccess=function(e){if(p=e.target.result){var t=p.value;t._doc_id_rev===u&&n.put(t),r.delete(p.primaryKey),p.continue()}else i.delete(s.primaryKey),s.continue()}}else s.continue()}else t&&t()}}function u(e,t){var n=e.objectStore("by-sequence"),i=e.objectStore("attach-store"),r=e.objectStore("attach-seq-store");i.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var i=n.value,s=n.primaryKey,o=Object.keys(i._attachments||{}),a={},c=0;c<o.length;c++){a[i._attachments[o[c]].digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var u=l[c];r.put({seq:s,digestSeq:u+"::"+s})}n.continue()}}}function d(e){var t=e.objectStore("by-sequence"),n=e.objectStore(Vt);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r,s=(r=i.value).data?Zt(r):(r.deleted="1"===r.deletedOrLocal,r);if(s.winningRev=s.winningRev||Be(s),s.seq)return o();!function(){var e=s.id+"::",n=s.id+"::￿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),r=0;i.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=r,o();var n=t.primaryKey;n>r&&(r=n),t.continue()}}()}function o(){var e=$t(s,s.winningRev,s.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=k((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,i,s){en(t,n,i,e,r,a(s))},e._get=function(e,t,n){var i,s,o,a=t.ctx;if(!a){var c=Jt(r,[Vt,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function l(){n(o,{doc:i,metadata:s,ctx:a})}a.objectStore(Vt).get(e).onsuccess=function(e){if(!(s=Zt(e.target.result)))return o=ne(z,"missing"),l();var n;if(t.rev)n=t.latest?function(e,t){for(var n,i=t.rev_tree.slice();n=i.pop();){var r=n.pos,s=n.ids,o=s[0],a=s[1],c=s[2],l=0===c.length,u=n.history?n.history.slice():[];if(u.push({id:o,pos:r,opts:a}),l)for(var d=0,h=u.length;d<h;d++){var f=u[d];if(f.pos+"-"+f.id===e)return r+"-"+o}for(var g=0,p=c.length;g<p;g++)i.push({pos:r+1,ids:c[g],history:u})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,s):t.rev;else if(n=s.winningRev,Ze(s))return o=ne(z,"deleted"),l();var r=a.objectStore("by-sequence"),c=s.id+"::"+n;r.index("_doc_id_rev").get(c).onsuccess=function(e){if((i=e.target.result)&&(i=Gt(i)),!i)return o=ne(z,"missing"),l();l()}}},e._getAttachment=function(e,t,n,i,s){var o;if(i.ctx)o=i.ctx;else{var a=Jt(r,[Vt,"by-sequence","attach-store"],"readonly");if(a.error)return s(a.error);o=a.txn}var c=n.digest,l=n.content_type;o.objectStore("attach-store").get(c).onsuccess=function(e){Wt(e.target.result.body,l,i.binary,(function(e){s(null,e)}))}},e._info=function(t){var n,i,s=Jt(r,[zt,"by-sequence"],"readonly");if(s.error)return t(s.error);var o=s.txn;o.objectStore(zt).get(zt).onsuccess=function(e){i=e.target.result.docCount},o.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},o.oncomplete=function(){t(null,{doc_count:i,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){nn(e,r,a(t))},e._changes=function(t){return an(t,e,i,r)},e._close=function(e){r.close(),ln.delete(i),e()},e._getRevisionTree=function(e,t){var n=Jt(r,[Vt],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Vt).get(e).onsuccess=function(e){var n=Zt(e.target.result);n?t(null,n.rev_tree):t(ne(z))}},e._doCompaction=function(e,t,n){var i=Jt(r,[Vt,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(i.error)return n(i.error);var s=i.txn;s.objectStore(Vt).get(e).onsuccess=function(n){var i=Zt(n.target.result);Te(i.rev_tree,(function(e,n,i,r,s){var o=n+"-"+i;-1!==t.indexOf(o)&&(s.status="missing")})),Xt(t,e,s);var r=i.winningRev,o=i.deleted;s.objectStore(Vt).put($t(i,r,o))},s.onabort=Ut(n),s.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Jt(r,["local-store"],"readonly");if(n.error)return t(n.error);var i=n.txn.objectStore("local-store").get(e);i.onerror=Ut(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(ne(z))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var i=e._rev,s=e._id;e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var o,a=t.ctx;if(!a){var c=Jt(r,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Ut(n),a.oncomplete=function(){o&&n(null,o)}}var l,u=a.objectStore("local-store");i?(l=u.get(s)).onsuccess=function(r){var s=r.target.result;s&&s._rev===i?u.put(e).onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}:n(ne(H))}:((l=u.add(e)).onerror=function(e){n(ne(H)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var i,s=t.ctx;if(!s){var o=Jt(r,["local-store"],"readwrite");if(o.error)return n(o.error);(s=o.txn).oncomplete=function(){i&&n(null,i)}}var a=e._id,c=s.objectStore("local-store"),l=c.get(a);l.onerror=Ut(n),l.onsuccess=function(r){var s=r.target.result;s&&s._rev===e._rev?(c.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(ne(z))}},e._destroy=function(e,t){Qt.removeAllListeners(i);var n=un.get(i);n&&n.result&&(n.result.close(),ln.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){un.delete(i),N()&&i in localStorage&&delete localStorage[i],t(null,{ok:!0})},r.onerror=Ut(t)};var h=ln.get(i);if(h)return r=h.idb,e._meta=h.global,o()((function(){n(null,e)}));var f=indexedDB.open(i,5);un.set(i,f),f.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Vt,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(zt,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[c,l,u,d],r=e.oldVersion;!function e(){var t=i[r-1];r++,t&&t(n,e)}()},f.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),ln.delete(i)},r.onabort=function(e){q("error","Database has a global failure",e.target.error),s=e.target.error,r.close(),ln.delete(i)};var o,a,c,l,u=r.transaction([zt,"detect-blob-support",Vt],"readwrite"),d=!1;function h(){void 0!==c&&d&&(e._meta={name:i,instanceId:l,blobSupport:c},ln.set(i,{idb:r,global:e._meta}),n(null,e))}function f(){if(void 0!==a&&void 0!==o){var e=i+"_id";e in o?l=o[e]:o[e]=l=Oe(),o.docCount=a,u.objectStore(zt).put(o)}}u.objectStore(zt).get(zt).onsuccess=function(e){o=e.target.result||{id:zt},f()},function(e,t){e.objectStore(Vt).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(u,(function(e){a=e,f()})),cn||(cn=function(e){return new Promise((function(t){var n=ye([""]),i=e.objectStore("detect-blob-support").put(n,"key");i.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},i.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(u)),cn.then((function(e){c=e,h()})),u.oncomplete=function(){d=!0,h()},u.onabort=Ut(n)},f.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",q("error",t),n(ne(Q,t))}}(n,e,t)}),t,n.constructor)}dn.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var hn={};function fn(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=_e(t.data,t.content_type)}))}function gn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function pn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){xe(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function mn(e,t){if(function(e){if(!e.prefix)return!1;var t=fe(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var i=fe(e);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),-1===i.db.indexOf("%")&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function vn(e,t){return yn(e,e.db+"/"+t)}function yn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function bn(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function wn(t,n){var i=this,r=mn(t.name,t),s=vn(r,"");t=L(t);var a,c=function(e,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,s=i.username+":"+i.password,o=ve(unescape(encodeURIComponent(s)));n.headers.set("Authorization","Basic "+o)}var a=t.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),i=-1!==t.indexOf("trident"),r=-1!==t.indexOf("edge"),s=!("method"in e)||"GET"===e.method;return(n||i||r)&&s}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||it)(e,n)};function l(e,t){return C(e,f()((function(e){d().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(i)}function u(e,t,n){var i={};return(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),c(e,t).then((function(e){return i.ok=e.ok,i.status=e.status,e.json()})).then((function(e){if(i.data=e,!i.ok){i.data.status=i.status;var t=ie(i.data);if(n)return n(t);throw t}if(Array.isArray(i.data)&&(i.data=i.data.map((function(e){return e.error||e.missing?ie(e):e}))),!n)return i;n(null,i.data)}))}function d(){return t.skip_setup?Promise.resolve():a||((a=u(s).catch((function(e){return e&&e.status&&404===e.status?(D(404,"PouchDB is just detecting if the remote exists."),u(s,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){a=null})),a)}function h(e){return e.split("/").map(encodeURIComponent).join("/")}o()((function(){n(null,i)})),i._remote=!0,i.type=function(){return"http"},i.id=l("id",(function(e){c(yn(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:vn(r,"");e(null,n)}))})),i.compact=l("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=L(e),u(vn(r,"_compact"),{method:"POST"}).then((function(){!function n(){i.info((function(i,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),i.bulkGet=C("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(vn(r,"_bulk_get"+bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(fn)})),t(null,n.data)})).catch(t)}function s(){var i=Math.ceil(e.docs.length/50),r=0,s=new Array(i);function o(e){return function(n,o){s[e]=o.results,++r===i&&t(null,{results:se(s)})}}for(var a=0;a<i;a++){var c=I(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1))),T(n,c,o(a))}}var o=yn(r,""),a=hn[o];"boolean"!=typeof a?i((function(e,n){e?(hn[o]=!1,D(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),s()):(hn[o]=!0,t(null,n))})):a?i(t):s()})),i._info=function(e){d().then((function(){return c(vn(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=vn(r,""),e(null,t)})).catch(e)},i.fetch=function(e,t){return d().then((function(){var n="/"===e.substring(0,1)?yn(r,e.substring(1)):vn(r,e);return c(n,t)}))},i.get=l("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function s(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return function(e,t){return new Promise((function(n,i){var r,s=0,o=0,a=0,c=e.length;function l(){++a===c?r?i(r):n():h()}function u(){s--,l()}function d(e){s--,r=r||e,l()}function h(){for(;s<t&&o<c;)s++,e[o++]().then(u,d)}h()}))}(i.map((function(i){return function(){return function(i){var s=n[i],o=gn(e._id)+"/"+h(i)+"?rev="+e._rev;return c(vn(r,o)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=s.content_type),e}return new Promise((function(t){xe(e,t)}))})).then((function(e){delete s.stub,delete s.length,s.data=e}))}(i)}})),5)}(t=L(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=gn(e),u(vn(r,e+bn(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return s(e.ok)}))):s(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),i.remove=l("remove",(function(e,t,n,i){var s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(s=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var o=s._rev||n.rev;u(vn(r,gn(s._id))+"?rev="+o,{method:"DELETE"},i).catch(i)})),i.getAttachment=l("getAttachment",(function(t,n,i,s){"function"==typeof i&&(s=i,i={});var o,a=i.rev?"?rev="+i.rev:"",l=vn(r,gn(t))+"/"+h(n)+a;c(l,{method:"GET"}).then((function(t){if(o=t.headers.get("content-type"),t.ok)return void 0===e||e.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){void 0===e||e.browser||(t.type=o),s(null,t)})).catch((function(e){s(e)}))})),i.removeAttachment=l("removeAttachment",(function(e,t,n,i){u(vn(r,gn(e)+"/"+h(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),i.putAttachment=l("putAttachment",(function(e,t,n,i,s,o){"function"==typeof s&&(o=s,s=i,i=n,n=null);var a=gn(e)+"/"+h(t),c=vn(r,a);if(n&&(c+="?rev="+n),"string"==typeof i){var l;try{l=me(i)}catch(e){return o(ne(W,"Attachment is not a valid base64 string"))}i=l?we(l,s):""}u(c,{headers:new rt({"Content-Type":s}),method:"PUT",body:i},o).catch(o)})),i._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,d().then((function(){return Promise.all(e.docs.map(pn))})).then((function(){return u(vn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},i._put=function(e,t,n){d().then((function(){return pn(e)})).then((function(){return u(vn(r,gn(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},i.allDocs=l("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},s="GET";(e=L(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var o=bn(i);void 0!==e.keys&&(s="POST",n={keys:e.keys}),u(vn(r,"_all_docs"+o),{method:s,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(fn),t(null,n.data)})).catch(t)})),i._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=L(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var s=void 0!==e.limit&&e.limit,a=s;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,c)&&(i[c]=e.query_params[c]);var l,h="GET";e.doc_ids?(i.filter="_doc_ids",h="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",h="POST",l={selector:e.selector});var f,g=new nt,p=function(n,o){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?s&&(i.limit=a):i.limit=!s||a>t?t:a;var c=vn(r,"_changes"+bn(i)),p={signal:g.signal,method:h,body:JSON.stringify(l)};f=n,e.aborted||d().then((function(){return u(c,p,o)})).catch(o)}},m={results:[]},v=function(n,i){if(!e.aborted){var r=0;if(i&&i.results){r=i.results.length,m.last_seq=i.last_seq;var c=null,l=null;"number"==typeof i.pending&&(c=i.pending),"string"!=typeof m.last_seq&&"number"!=typeof m.last_seq||(l=m.last_seq);e.query_params,i.results=i.results.filter((function(t){a--;var n=re(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&fn(t),e.return_docs&&m.results.push(t),e.onChange(t,c,l)),n}))}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(f=i.last_seq);var u=s&&a<=0||i&&r<t||e.descending;(!e.continuous||s&&a<=0)&&u?e.complete(null,m):o()((function(){p(f,v)}))}};return p(e.since||0,v),{cancel:function(){e.aborted=!0,g.abort()}}},i.revsDiff=l("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),u(vn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),i._close=function(e){e()},i._destroy=function(e,t){u(vn(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function _n(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,_n)}catch(e){}}function En(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,En)}catch(e){}}function Sn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Sn)}catch(e){}}function xn(e,t){return t&&e.then((function(e){o()((function(){t(null,e)}))}),(function(e){o()((function(){t(e)}))})),e}function Ln(e,t){return function(){var n=arguments,i=this;return e.add((function(){return t.apply(i,n)}))}}function An(e){var t=new i(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function kn(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,i){t[++n]=i})),t}function Cn(e){return new Sn("builtin "+e+" function requires map values to be numbers or number arrays")}function In(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];if("number"!=typeof r){if(!Array.isArray(r))throw Cn("_sum");t="number"==typeof t?[t]:t;for(var s=0,o=r.length;s<o;s++){var a=r[s];if("number"!=typeof a)throw Cn("_sum");void 0===t[s]?t.push(a):t[s]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}wn.valid=function(){return!0},p()(_n,Error),p()(En,Error),p()(Sn,Error);var Pn=q.bind(null,"log"),On=Array.isArray,Bn=JSON.parse;function Tn(e,t){return ge("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:In,log:Pn,isArray:On,toJSON:Bn})}function Nn(){this.promise=new Promise((function(e){e()}))}function Mn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function qn(e,t,n,i,r,s){var o,a=function(e,t){return Mn(e)+Mn(t)+"undefined"}(n,i);if(!r&&(o=e._cachedViews=e._cachedViews||{})[a])return o[a];var c=e.info().then((function(c){var l=c.db_name+"-mrview-"+(r?"temp":Ie(a));return pe(e,"_local/"+s,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var i=e.views[n]=e.views[n]||{};if(!i[l])return i[l]=!0,e})).then((function(){return e.registerDependentDatabase(l).then((function(t){var r=t.db;r.auto_compaction=!0;var s={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};return s.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return s.seq=e?e.seq:0,o&&s.db.once("destroyed",(function(){delete o[a]})),s}))}))}))}));return o&&(o[a]=c),c}Nn.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Nn.prototype.finish=function(){return this.promise};var Fn={},Dn=new Nn;function jn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Rn(e,t){try{e.emit("error",t)}catch(e){q("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),q("error",t)}}var Vn=function(e,t){return In(t)},zn=function(e,t){return t.length},Hn=function(e,t){return{sum:In(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];t+=r*r}return t}(t)}};var Un=function(e,t,n,s){function a(e,t,n){try{t(n)}catch(t){Rn(e,t)}}function c(e,t,n,i,r){try{return{output:t(n,i,r)}}catch(t){return Rn(e,t),{error:t}}}function l(e,t){var n=ft(e.key,t.key);return 0!==n?n:ft(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function d(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function h(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=_e(n.data,n.content_type)}))}))}(t),t}}function g(e,t,n,i){var r=t[e];void 0!==r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(e+"="+r))}function p(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function m(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[i]&&ft(e[n],e[i])>0)throw new _n("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new _n("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new _n("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new _n('Invalid value for integer: "'+e+'"');if(e<0)return new _n('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function v(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/doc_"+e,s={_id:r,keys:[]},o=n.get(e),a=o[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(o[1])?Promise.resolve(s):t.db.get(r).catch(v(s))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new i,s=0,o=t.rows.length;s<o;s++){var c=t.rows[s].doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var l=a.get(c._id);"value"in l&&(c.value=l.value)}}var u=kn(a);return u.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=An(u.concat(e.keys)),n.push(e),n}(e,t)}))}))}function b(e){var t="string"==typeof e?e:e.name,n=Fn[t];return n||(n=Fn[t]=new Nn),n}function w(e,n){return Ln(b(e),(function(){return function(e,n){var i,s;var o=t(e.mapFun,(function(e,t){var n={id:s._id,key:gt(e)};null!=t&&(n.value=gt(t)),i.push(n)})),c=e.seq||0;function u(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(v({_id:"_local/lastSeq",seq:0})).then((function(i){var r=kn(t);return Promise.all(r.map((function(n){return y(n,e,t)}))).then((function(t){var r=se(t);return i.seq=n,r.push(i),e.db.bulkDocs({docs:r})}))}))}(e,t,n)}}let d=0,h={view:e.name,indexed_docs:d};e.sourceDB.emit("indexing",h);var f=new Nn;function g(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:n.changes_batch_size}).then(p)}function p(t){var h=t.results;if(!h.length)return;var p=function(t){for(var n=new r,u=0,d=t.length;u<d;u++){var h=t[u];if("_"!==h.doc._id[0]){i=[],(s=h.doc)._deleted||a(e.sourceDB,o,s),i.sort(l);var f=m(i);n.set(h.doc._id,[f,h.changes])}c=h.seq}return n}(h);f.add(u(p,c)),d+=h.length;let v={view:e.name,last_seq:t.last_seq,results_count:h.length,indexed_docs:d};return e.sourceDB.emit("indexing",v),h.length<n.changes_batch_size?void 0:g()}function m(e){for(var t,n=new r,i=0,s=e.length;i<s;i++){var o=e[i],a=[o.key,o.id];i>0&&0===ft(o.key,t)&&a.push(i),n.set(mt(a),o),t=o.key}return n}return g().then((function(){return f.finish()})).then((function(){e.seq=c}))}(e,n)}))()}function _(e,t){return Ln(b(e),(function(){return function(e,t){var i,s=e.reduceFun&&!1!==t.reduce,o=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return i=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var i=function(e){for(var t=[],n=[],i=0;;){var r=e[i++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[i]),i++;break;case"3":var s=vt(e,i);t.push(s.num),i+=s.length;break;case"4":for(var o="";;){var a=e[i];if("\0"===a)break;o+=a,i++}o=o.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(o);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();yt(t,n)}}}(e.doc._id);return{key:i[0],id:i[1],value:"value"in e.doc?e.doc.value:null}}))}))}function l(a){var l;if(l=s?function(e,t,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,s=n(e.reduceFun),o=[],a=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;t.forEach((function(e){var t=o[o.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===ft(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);o.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var l=0,d=o.length;l<d;l++){var h=o[l],f=c(e.sourceDB,s,h.keys,h.values,!1);if(f.error&&f.error instanceof Sn)throw f.error;t.push({value:f.error?null:f.output,key:h.groupKey})}return{rows:u(t,i.limit,i.skip)}}(e,a,t):void 0===t.keys?{total_rows:i,offset:o,rows:a}:{total_rows:i,offset:o,rows:u(a,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){var h=An(a.map(d));return e.sourceDB.allDocs({keys:h,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new r;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=d(e),i=t.get(n);i&&(e.doc=i)})),l}))}return l}if(void 0!==t.keys){var h=t.keys.map((function(e){var n={startkey:mt([e]),endkey:mt([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(h).then(se).then(l)}var f,g,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(f=t.start_key),"startkey"in t&&(f=t.startkey),"end_key"in t&&(g=t.end_key),"endkey"in t&&(g=t.endkey),void 0!==f&&(p.startkey=t.descending?mt([f,{}]):mt([f])),void 0!==g){var m=!1!==t.inclusive_end;t.descending&&(m=!m),p.endkey=mt(m?[g,{}]:[g])}if(void 0!==t.key){var v=mt([t.key]),y=mt([t.key,{}]);p.descending?(p.endkey=v,p.startkey=y):(p.startkey=v,p.endkey=y)}return s||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=o),a(p).then(l)}(e,t)}))()}function E(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(i,r){e._query(t,n,(function(e,t){if(e)return r(e);i(t)}))}))}(t,n,i);if(ae(t))return function(e,t,n){var i,r,s,o=[],a="GET";if(g("reduce",n,o),g("include_docs",n,o),g("attachments",n,o),g("limit",n,o),g("descending",n,o),g("group",n,o),g("group_level",n,o),g("skip",n,o),g("stale",n,o),g("conflicts",n,o),g("startkey",n,o,!0),g("start_key",n,o,!0),g("endkey",n,o,!0),g("end_key",n,o,!0),g("inclusive_end",n,o),g("key",n,o,!0),g("update_seq",n,o),o=""===(o=o.join("&"))?"":"?"+o,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+c:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=jn(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+o,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(i)}).then((function(e){return r=e.ok,s=e.status,e.json()})).then((function(e){if(!r)throw e.status=s,ie(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(h(n))}return i=i||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()})),e.fetch("_temp_view"+o,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then((function(e){return r=e.ok,s=e.status,e.json()})).then((function(e){if(!r)throw e.status=s,ie(e);return e})).then(h(n))}(t,n,i);var r={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return m(i,n),Dn.add((function(){return qn(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=w(e,r).then((function(){return _(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),Dn.finish();var a=n,c=jn(a),l=c[0],u=c[1];return t.get("_design/"+l).then((function(n){var c=n.views&&n.views[u];if(!c)throw new En("ddoc "+n._id+" has no view named "+u);return s(n,u),m(i,c),qn(t,a,c.map,c.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&o()((function(){w(e,r)})),_(e,i)):w(e,r).then((function(){return _(e,i)}))}))}))}var S;return{query:function(e,t,n){var i=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=p(e.group_level),e.limit=p(e.limit),e.skip=p(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=Promise.resolve().then((function(){return E(i,e,t)}));return xn(r,n),r},viewCleanup:(S=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,i){if(e)return n(e);t(i)}))}))}(t):ae(t)?function(e){return e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new r;Object.keys(e.views).forEach((function(e){var t=jn(e),r="_design/"+t[0],s=t[1],o=n.get(r);o||(o=new i,n.set(r,o)),o.add(s)}));var s={keys:kn(n),include_docs:!0};return t.allDocs(s).then((function(i){var r={};i.rows.forEach((function(t){var i=t.key.substring(8);n.get(t.key).forEach((function(n){var s=i+"/"+n;e.views[s]||(s=n);var o=Object.keys(e.views[s]),a=t.doc&&t.doc.views&&t.doc.views[n];o.forEach((function(e){r[e]=r[e]||a}))}))}));var s=Object.keys(r).filter((function(e){return!r[e]})).map((function(e){return Ln(b(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(s).then((function(){return{ok:!0}}))}))}),v({ok:!0}))}(t)},f()((function(e){var t=e.pop(),n=S.apply(this,e);return"function"==typeof t&&xn(n,t),n})))}}("mrviews",(function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Tn(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return Vn;if(/^_count/.test(e))return zn;if(/^_stats/.test(e))return Hn;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||Tn(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new En("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var $n={query:function(e,t,n){return Un.query.call(this,e,t,n)},viewCleanup:function(e){return Un.viewCleanup.call(this,e)}};function Zn(e){return/^1-/.test(e)}function Gn(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function Wn(e,t,n,i){n=L(n);var r=[],s=!0;function o(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!Zn(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&Zn(t[0])}));if(e.length>0)return o(e)})).then((function(){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(o.docs.length)return e.bulkGet(o).then((function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var i=n.ok;return n.error&&(s=!1),i&&i._attachments?function(e,t,n){var i=ae(t)&&!ae(e),r=Object.keys(n._attachments);return i?e.get(n._id).then((function(i){return Promise.all(r.map((function(r){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(i,n,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)})))})).catch((function(e){if(404!==e.status)throw e;return Gn(t,n)})):Gn(t,n)}(t,e,i).then((function(e){var t=Object.keys(i._attachments);return e.forEach((function(e,n){var r=i._attachments[t[n]];delete r.stub,delete r.length,r.data=e})),i})):i})))}))).then((function(e){r=r.concat(se(e).filter(Boolean))}))}))})).then((function(){return{ok:s,docs:r}}))}function Kn(e,t,n,i,r){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||D(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(s){if(!r.cancelled&&s.last_seq!==n)return s.history=(s.history||[]).filter((function(e){return e.session_id!==i})),s.history.unshift({last_seq:n,session_id:i}),s.history=s.history.slice(0,5),s.version=1,s.replicator="pouchdb",s.session_id=i,s.last_seq=n,e.put(s).catch((function(s){if(409===s.status)return Kn(e,t,n,i,r);throw s}))}))}function Yn(e,t,n,i,r){this.src=e,this.target=t,this.id=n,this.returnValue=i,this.opts=r||{}}Yn.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},Yn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Kn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Yn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return Kn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Qn(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var Xn={undefined:function(e,t){return 0===ft(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var i=t[0],r=t.slice(1),s=n[0],o=n.slice(1);if(!i||0===n.length)return{last_seq:0,history:[]};if(Jn(i.session_id,n))return{last_seq:i.last_seq,history:t};if(Jn(s.session_id,r))return{last_seq:s.last_seq,history:o};return e(r,o)}(e.history,t.history)}(t,e).last_seq}};function Jn(e,t){var n=t[0],i=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Jn(e,i))}function Qn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Yn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in Xn?Xn[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Qn(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};function ei(e,t,n){var i=n.doc_ids?n.doc_ids.sort(ft):"",r=n.filter?n.filter.toString():"",s="",o="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(s=JSON.stringify(function(e){return Object.keys(e).sort(ft).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(o=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+r+o+s+i+a;return new Promise((function(e){Ce(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function ti(e,t,n,i,r){var s,a,c,l=[],u={seq:0,changes:[],docs:[]},d=!1,h=!1,f=!1,g=0,p=n.continuous||n.live||!1,m=n.batch_size||100,v=n.batches_limit||10,y=n.style||"all_docs",b=!1,w=n.doc_ids,_=n.selector,E=[],S=Oe();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var x={};function A(){return c?Promise.resolve():ei(e,t,n).then((function(r){a=r;var s={};s=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new Yn(e,t,a,i,s)}))}function k(){if(E=[],0!==s.docs.length){var e=s.docs,o={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},o).then((function(t){if(i.cancelled)throw T(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var s=Object.keys(n).length;r.doc_write_failures+=s,r.docs_written+=e.length-s,e.forEach((function(e){var t=n[e._id];if(t){r.errors.push(t);var s=(t.name||"").toLowerCase();if("unauthorized"!==s&&"forbidden"!==s)throw t;i.emit("denied",L(t))}else E.push(e)}))}),(function(t){throw r.doc_write_failures+=e.length,t}))}}function C(){if(s.error)throw new Error("There was a problem getting docs.");r.last_seq=g=s.seq;var e=L(r);return E.length&&(e.docs=E,"number"==typeof s.pending&&(e.pending=s.pending,delete s.pending),i.emit("change",e)),d=!0,c.writeCheckpoint(s.seq,S).then((function(){if(i.emit("checkpoint",{checkpoint:s.seq}),d=!1,i.cancelled)throw T(),new Error("cancelled");s=void 0,D()})).catch((function(e){throw R(e),e}))}function I(){return Wn(e,t,s.diffs,i).then((function(e){s.error=!e.ok,e.docs.forEach((function(e){delete s.diffs[e._id],r.docs_read++,s.docs.push(e)}))}))}function P(){var e;i.cancelled||s||(0!==l.length?(s=l.shift(),i.emit("checkpoint",{start_next_batch:s.seq}),(e={},s.changes.forEach((function(t){i.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(i.cancelled)throw T(),new Error("cancelled");s.diffs=e}))).then(I).then(k).then(C).then(P).catch((function(e){B("batch processing terminated with error",e)}))):O(!0))}function O(e){0!==u.changes.length?(e||h||u.changes.length>=m)&&(l.push(u),u={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),P()):0!==l.length||s||((p&&x.live||h)&&(i.state="pending",i.emit("paused")),h&&T())}function B(e,t){f||(t.message||(t.message=e),r.ok=!1,r.status="aborting",l=[],u={seq:0,changes:[],docs:[]},T(t))}function T(s){if(!(f||i.cancelled&&(r.status="cancelled",d)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=g,f=!0,s){(s=ne(s)).result=r;var o=(s.name||"").toLowerCase();"unauthorized"===o||"forbidden"===o?(i.emit("error",s),i.removeAllListeners()):function(e,t,n,i){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=F),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var r=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",r)})),t.once("active",r)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}(n,i,s,(function(){ti(e,t,n,i)}))}else i.emit("complete",r),i.removeAllListeners()}function N(e,t,r){if(i.cancelled)return T();"number"==typeof t&&(u.pending=t),re(n)(e)&&(u.seq=e.seq||r,u.changes.push(e),i.emit("checkpoint",{pending_batch:u.seq}),o()((function(){O(0===l.length&&x.live)})))}function M(e){if(b=!1,i.cancelled)return T();if(e.results.length>0)x.since=e.results[e.results.length-1].seq,D(),O(!0);else{var t=function(){p?(x.live=!0,D()):h=!0,O(!0)};s||0!==e.results.length?t():(d=!0,c.writeCheckpoint(e.last_seq,S).then((function(){d=!1,r.last_seq=g=e.last_seq,t()})).catch(R))}}function q(e){if(b=!1,i.cancelled)return T();B("changes rejected",e)}function D(){if(!b&&!h&&l.length<v){b=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var t=e.changes(x).on("change",N);t.then(s,s),t.then(M).catch(q),n.retry&&(i._changes=t,i._abortChanges=r)}function r(){t.cancel()}function s(){i.removeListener("cancel",r)}}function j(){A().then((function(){if(!i.cancelled)return c.getCheckpoint().then((function(e){x={since:g=e,limit:m,batch_size:m,style:y,doc_ids:w,selector:_,return_docs:!0},n.filter&&("string"!=typeof n.filter?x.include_docs=!0:x.filter=n.filter),"heartbeat"in n&&(x.heartbeat=n.heartbeat),"timeout"in n&&(x.timeout=n.timeout),n.query_params&&(x.query_params=n.query_params),n.view&&(x.view=n.view),D()}));T()})).catch((function(e){B("getCheckpoint rejected with ",e)}))}function R(e){d=!1,B("writeCheckpoint completed with error",e)}i.ready(e,t),i.cancelled?T():(i._addedListeners||(i.once("cancel",T),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",(function(e){n.complete(null,e)}))),i._addedListeners=!0),void 0===n.since?j():A().then((function(){return d=!0,c.writeCheckpoint(n.since,S)})).then((function(){d=!1,i.cancelled?T():(g=n.since,j())})).catch(R))}function ni(){v.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ii(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function ri(e,t,n,i){if("function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ne(X,"`doc_ids` filter parameter is not a list.");n.complete=i,(n=L(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new ni(n);return ti(ii(e,n),ii(t,n),n,r),r}function si(e,t,n,i){return"function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),(n=L(n)).PouchConstructor=n.PouchConstructor||this,new oi(e=ii(e,n),t=ii(t,n),n,i)}function oi(e,t,n,i){var r=this;this.canceled=!1;var s=n.push?j({},n,n.push):n,o=n.pull?j({},n,n.pull):n;function a(e){r.emit("change",{direction:"pull",change:e})}function c(e){r.emit("change",{direction:"push",change:e})}function l(e){r.emit("denied",{direction:"push",doc:e})}function u(e){r.emit("denied",{direction:"pull",doc:e})}function d(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function h(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function f(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function g(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ri(e,t,s),this.pull=ri(t,e,o),this.pushPaused=!0,this.pullPaused=!0;var p={};function m(e){return function(t,n){("change"===t&&(n===a||n===c)||"denied"===t&&(n===u||n===l)||"paused"===t&&(n===h||n===d)||"active"===t&&(n===g||n===f))&&(t in p||(p[t]={}),p[t][e]=!0,2===Object.keys(p[t]).length&&r.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",(function(e){"change"===e?(v(r.pull,"change",a),v(r.push,"change",c)):"denied"===e?(v(r.pull,"denied",u),v(r.push,"denied",l)):"active"===e?(v(r.pull,"active",g),v(r.push,"active",f)):"paused"===e&&(v(r.pull,"paused",h),v(r.push,"paused",d))})),this.on("removeListener",(function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",c)):"denied"===e?(r.pull.removeListener("denied",u),r.push.removeListener("denied",l)):"active"===e?(r.pull.removeListener("active",g),r.push.removeListener("active",f)):"paused"===e&&(r.pull.removeListener("paused",h),r.push.removeListener("paused",d))})),this.pull.on("removeListener",m("pull")),this.push.on("removeListener",m("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),i&&i(null,t),r.removeAllListeners(),t}),(function(e){if(r.cancel(),i?i(e):r.emit("error",e),r.removeAllListeners(),i)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}p()(ni,v.a),ni.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ni.prototype.ready=function(e,t){var n=this;function i(){n.cancel()}function r(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",i),t.once("destroyed",i),n.once("complete",r),n.once("error",r))},p()(oi,v.a),oi.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},tt.plugin((function(e){e.adapter("idb",dn,!0)})).plugin((function(e){e.adapter("http",wn,!1),e.adapter("https",wn,!1)})).plugin($n).plugin((function(e){e.replicate=ri,e.sync=si,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,i){return e.constructor.replicate(t,e,n,i)},to:function(t,n,i){return e.constructor.replicate(e,t,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}})),t.default=tt}.call(this,n(29))},function(e,t){var n,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=a(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||u||a(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,function(e,t,n){(function(e,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var s="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",g="[object GeneratorFunction]",p="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",E="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",L="[object Float32Array]",A="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",O="[object Uint16Array]",B="[object Uint32Array]",T=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,D=RegExp(q.source),j=RegExp(F.source),R=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,z=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/[\\^$.*+?()[\]{}|]/g,G=RegExp(Z.source),W=/^\s+/,K=/\s/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ie=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,ce=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,de=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ge="[\\ud800-\\udfff]",pe="["+fe+"]",me="["+he+"]",ve="\\d+",ye="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",we="[^\\ud800-\\udfff"+fe+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_e="\\ud83c[\\udffb-\\udfff]",Ee="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ae="(?:"+be+"|"+we+")",ke="(?:"+Le+"|"+we+")",Ce="(?:"+me+"|"+_e+")"+"?",Ie="[\\ufe0e\\ufe0f]?"+Ce+("(?:\\u200d(?:"+[Ee,Se,xe].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*"),Pe="(?:"+[ye,Se,xe].join("|")+")"+Ie,Oe="(?:"+[Ee+me+"?",me,Se,xe,ge].join("|")+")",Be=RegExp("['’]","g"),Te=RegExp(me,"g"),Ne=RegExp(_e+"(?="+_e+")|"+Oe+Ie,"g"),Me=RegExp([Le+"?"+be+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[pe,Le,"$"].join("|")+")",ke+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[pe,Le+Ae,"$"].join("|")+")",Le+"?"+Ae+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Le+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Pe].join("|"),"g"),qe=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Fe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,De=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],je=-1,Re={};Re[L]=Re[A]=Re[k]=Re[C]=Re[I]=Re[P]=Re["[object Uint8ClampedArray]"]=Re[O]=Re[B]=!0,Re[c]=Re[l]=Re[S]=Re[u]=Re[x]=Re[d]=Re[h]=Re[f]=Re[p]=Re[m]=Re[v]=Re[y]=Re[b]=Re[w]=Re[E]=!1;var Ve={};Ve[c]=Ve[l]=Ve[S]=Ve[x]=Ve[u]=Ve[d]=Ve[L]=Ve[A]=Ve[k]=Ve[C]=Ve[I]=Ve[p]=Ve[m]=Ve[v]=Ve[y]=Ve[b]=Ve[w]=Ve[_]=Ve[P]=Ve["[object Uint8ClampedArray]"]=Ve[O]=Ve[B]=!0,Ve[h]=Ve[f]=Ve[E]=!1;var ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},He=parseFloat,Ue=parseInt,$e="object"==typeof e&&e&&e.Object===Object&&e,Ze="object"==typeof self&&self&&self.Object===Object&&self,Ge=$e||Ze||Function("return this")(),We=t&&!t.nodeType&&t,Ke=We&&"object"==typeof i&&i&&!i.nodeType&&i,Ye=Ke&&Ke.exports===We,Xe=Ye&&$e.process,Je=function(){try{var e=Ke&&Ke.require&&Ke.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Qe=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,it=Je&&Je.isSet,rt=Je&&Je.isTypedArray;function st(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,i){for(var r=-1,s=null==e?0:e.length;++r<s;){var o=e[r];t(i,o,n(o),e)}return i}function at(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function ut(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}function dt(e,t){return!!(null==e?0:e.length)&&_t(e,t,0)>-1}function ht(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function ft(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function gt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function pt(e,t,n,i){var r=-1,s=null==e?0:e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function mt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function vt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var yt=Lt("length");function bt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function wt(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}function _t(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):wt(e,St,n)}function Et(e,t,n,i){for(var r=n-1,s=e.length;++r<s;)if(i(e[r],t))return r;return-1}function St(e){return e!=e}function xt(e,t){var n=null==e?0:e.length;return n?Ct(e,t)/n:NaN}function Lt(e){return function(t){return null==t?void 0:t[e]}}function At(e){return function(t){return null==e?void 0:e[t]}}function kt(e,t,n,i,r){return r(e,(function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)})),n}function Ct(e,t){for(var n,i=-1,r=e.length;++i<r;){var s=t(e[i]);void 0!==s&&(n=void 0===n?s:n+s)}return n}function It(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Pt(e){return e?e.slice(0,Wt(e)+1).replace(W,""):e}function Ot(e){return function(t){return e(t)}}function Bt(e,t){return ft(t,(function(t){return e[t]}))}function Tt(e,t){return e.has(t)}function Nt(e,t){for(var n=-1,i=e.length;++n<i&&_t(t,e[n],0)>-1;);return n}function Mt(e,t){for(var n=e.length;n--&&_t(t,e[n],0)>-1;);return n}function qt(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var Ft=At({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Dt=At({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function jt(e){return"\\"+ze[e]}function Rt(e){return qe.test(e)}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function zt(e,t){return function(n){return e(t(n))}}function Ht(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[r++]=n)}return s}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function $t(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Zt(e){return Rt(e)?function(e){var t=Ne.lastIndex=0;for(;Ne.test(e);)++t;return t}(e):yt(e)}function Gt(e){return Rt(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.split("")}(e)}function Wt(e){for(var t=e.length;t--&&K.test(e.charAt(t)););return t}var Kt=At({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Yt=function e(t){var n,i=(t=null==t?Ge:Yt.defaults(Ge.Object(),t,Yt.pick(Ge,De))).Array,r=t.Date,K=t.Error,he=t.Function,fe=t.Math,ge=t.Object,pe=t.RegExp,me=t.String,ve=t.TypeError,ye=i.prototype,be=he.prototype,we=ge.prototype,_e=t["__core-js_shared__"],Ee=be.toString,Se=we.hasOwnProperty,xe=0,Le=(n=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ae=we.toString,ke=Ee.call(ge),Ce=Ge._,Ie=pe("^"+Ee.call(Se).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=Ye?t.Buffer:void 0,Oe=t.Symbol,Ne=t.Uint8Array,qe=Pe?Pe.allocUnsafe:void 0,ze=zt(ge.getPrototypeOf,ge),$e=ge.create,Ze=we.propertyIsEnumerable,We=ye.splice,Ke=Oe?Oe.isConcatSpreadable:void 0,Xe=Oe?Oe.iterator:void 0,Je=Oe?Oe.toStringTag:void 0,yt=function(){try{var e=es(ge,"defineProperty");return e({},"",{}),e}catch(e){}}(),At=t.clearTimeout!==Ge.clearTimeout&&t.clearTimeout,Xt=r&&r.now!==Ge.Date.now&&r.now,Jt=t.setTimeout!==Ge.setTimeout&&t.setTimeout,Qt=fe.ceil,en=fe.floor,tn=ge.getOwnPropertySymbols,nn=Pe?Pe.isBuffer:void 0,rn=t.isFinite,sn=ye.join,on=zt(ge.keys,ge),an=fe.max,cn=fe.min,ln=r.now,un=t.parseInt,dn=fe.random,hn=ye.reverse,fn=es(t,"DataView"),gn=es(t,"Map"),pn=es(t,"Promise"),mn=es(t,"Set"),vn=es(t,"WeakMap"),yn=es(ge,"create"),bn=vn&&new vn,wn={},_n=ks(fn),En=ks(gn),Sn=ks(pn),xn=ks(mn),Ln=ks(vn),An=Oe?Oe.prototype:void 0,kn=An?An.valueOf:void 0,Cn=An?An.toString:void 0;function In(e){if($o(e)&&!No(e)&&!(e instanceof Tn)){if(e instanceof Bn)return e;if(Se.call(e,"__wrapped__"))return Cs(e)}return new Bn(e)}var Pn=function(){function e(){}return function(t){if(!Uo(t))return{};if($e)return $e(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function On(){}function Bn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Tn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Fn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Dn(e){var t=this.__data__=new Mn(e);this.size=t.size}function jn(e,t){var n=No(e),i=!n&&To(e),r=!n&&!i&&Do(e),s=!n&&!i&&!r&&Qo(e),o=n||i||r||s,a=o?It(e.length,me):[],c=a.length;for(var l in e)!t&&!Se.call(e,l)||o&&("length"==l||r&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||as(l,c))||a.push(l);return a}function Rn(e){var t=e.length;return t?e[Fi(0,t-1)]:void 0}function Vn(e,t){return xs(yr(e),Yn(t,0,e.length))}function zn(e){return xs(yr(e))}function Hn(e,t,n){(void 0!==n&&!Po(e[t],n)||void 0===n&&!(t in e))&&Wn(e,t,n)}function Un(e,t,n){var i=e[t];Se.call(e,t)&&Po(i,n)&&(void 0!==n||t in e)||Wn(e,t,n)}function $n(e,t){for(var n=e.length;n--;)if(Po(e[n][0],t))return n;return-1}function Zn(e,t,n,i){return ti(e,(function(e,r,s){t(i,e,n(e),s)})),i}function Gn(e,t){return e&&br(t,_a(t),e)}function Wn(e,t,n){"__proto__"==t&&yt?yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Kn(e,t){for(var n=-1,r=t.length,s=i(r),o=null==e;++n<r;)s[n]=o?void 0:ma(e,t[n]);return s}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,i,r,s){var o,a=1&t,l=2&t,h=4&t;if(n&&(o=r?n(e,i,r,s):n(e)),void 0!==o)return o;if(!Uo(e))return e;var E=No(e);if(E){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!a)return yr(e,o)}else{var T=is(e),N=T==f||T==g;if(Do(e))return hr(e,a);if(T==v||T==c||N&&!r){if(o=l||N?{}:ss(e),!a)return l?function(e,t){return br(e,ns(e),t)}(e,function(e,t){return e&&br(t,Ea(t),e)}(o,e)):function(e,t){return br(e,ts(e),t)}(e,Gn(o,e))}else{if(!Ve[T])return r?e:{};o=function(e,t,n){var i=e.constructor;switch(t){case S:return fr(e);case u:case d:return new i(+e);case x:return function(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case A:case k:case C:case I:case P:case"[object Uint8ClampedArray]":case O:case B:return gr(e,n);case p:return new i;case m:case w:return new i(e);case y:return function(e){var t=new e.constructor(e.source,ie.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new i;case _:return r=e,kn?ge(kn.call(r)):{}}var r}(e,T,a)}}s||(s=new Dn);var M=s.get(e);if(M)return M;s.set(e,o),Yo(e)?e.forEach((function(i){o.add(Xn(i,t,n,i,e,s))})):Zo(e)&&e.forEach((function(i,r){o.set(r,Xn(i,t,n,r,e,s))}));var q=E?void 0:(h?l?Gr:Zr:l?Ea:_a)(e);return at(q||e,(function(i,r){q&&(i=e[r=i]),Un(o,r,Xn(i,t,n,r,e,s))})),o}function Jn(e,t,n){var i=n.length;if(null==e)return!i;for(e=ge(e);i--;){var r=n[i],s=t[r],o=e[r];if(void 0===o&&!(r in e)||!s(o))return!1}return!0}function Qn(e,t,n){if("function"!=typeof e)throw new ve(s);return ws((function(){e.apply(void 0,n)}),t)}function ei(e,t,n,i){var r=-1,s=dt,o=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=ft(t,Ot(n))),i?(s=ht,o=!1):t.length>=200&&(s=Tt,o=!1,t=new Fn(t));e:for(;++r<a;){var u=e[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,o&&d==d){for(var h=l;h--;)if(t[h]===d)continue e;c.push(u)}else s(t,d,i)||c.push(u)}return c}In.templateSettings={escape:R,evaluate:V,interpolate:z,variable:"",imports:{_:In}},In.prototype=On.prototype,In.prototype.constructor=In,Bn.prototype=Pn(On.prototype),Bn.prototype.constructor=Bn,Tn.prototype=Pn(On.prototype),Tn.prototype.constructor=Tn,Nn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Se.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=$n(t,e);return!(n<0)&&(n==t.length-1?t.pop():We.call(t,n,1),--this.size,!0)},Mn.prototype.get=function(e){var t=this.__data__,n=$n(t,e);return n<0?void 0:t[n][1]},Mn.prototype.has=function(e){return $n(this.__data__,e)>-1},Mn.prototype.set=function(e,t){var n=this.__data__,i=$n(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(gn||Mn),string:new Nn}},qn.prototype.delete=function(e){var t=Jr(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return Jr(this,e).get(e)},qn.prototype.has=function(e){return Jr(this,e).has(e)},qn.prototype.set=function(e,t){var n=Jr(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Fn.prototype.add=Fn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Fn.prototype.has=function(e){return this.__data__.has(e)},Dn.prototype.clear=function(){this.__data__=new Mn,this.size=0},Dn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Dn.prototype.get=function(e){return this.__data__.get(e)},Dn.prototype.has=function(e){return this.__data__.has(e)},Dn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Mn){var i=n.__data__;if(!gn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(i)}return n.set(e,t),this.size=n.size,this};var ti=Er(li),ni=Er(ui,!0);function ii(e,t){var n=!0;return ti(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function ri(e,t,n){for(var i=-1,r=e.length;++i<r;){var s=e[i],o=t(s);if(null!=o&&(void 0===a?o==o&&!Jo(o):n(o,a)))var a=o,c=s}return c}function si(e,t){var n=[];return ti(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function oi(e,t,n,i,r){var s=-1,o=e.length;for(n||(n=os),r||(r=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?oi(a,t-1,n,i,r):gt(r,a):i||(r[r.length]=a)}return r}var ai=Sr(),ci=Sr(!0);function li(e,t){return e&&ai(e,t,_a)}function ui(e,t){return e&&ci(e,t,_a)}function di(e,t){return ut(t,(function(t){return Vo(e[t])}))}function hi(e,t){for(var n=0,i=(t=cr(t,e)).length;null!=e&&n<i;)e=e[As(t[n++])];return n&&n==i?e:void 0}function fi(e,t,n){var i=t(e);return No(e)?i:gt(i,n(e))}function gi(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in ge(e)?function(e){var t=Se.call(e,Je),n=e[Je];try{e[Je]=void 0;var i=!0}catch(e){}var r=Ae.call(e);i&&(t?e[Je]=n:delete e[Je]);return r}(e):function(e){return Ae.call(e)}(e)}function pi(e,t){return e>t}function mi(e,t){return null!=e&&Se.call(e,t)}function vi(e,t){return null!=e&&t in ge(e)}function yi(e,t,n){for(var r=n?ht:dt,s=e[0].length,o=e.length,a=o,c=i(o),l=1/0,u=[];a--;){var d=e[a];a&&t&&(d=ft(d,Ot(t))),l=cn(d.length,l),c[a]=!n&&(t||s>=120&&d.length>=120)?new Fn(a&&d):void 0}d=e[0];var h=-1,f=c[0];e:for(;++h<s&&u.length<l;){var g=d[h],p=t?t(g):g;if(g=n||0!==g?g:0,!(f?Tt(f,p):r(u,p,n))){for(a=o;--a;){var m=c[a];if(!(m?Tt(m,p):r(e[a],p,n)))continue e}f&&f.push(p),u.push(g)}}return u}function bi(e,t,n){var i=null==(e=ms(e,t=cr(t,e)))?e:e[As(js(t))];return null==i?void 0:st(i,e,n)}function wi(e){return $o(e)&&gi(e)==c}function _i(e,t,n,i,r){return e===t||(null==e||null==t||!$o(e)&&!$o(t)?e!=e&&t!=t:function(e,t,n,i,r,s){var o=No(e),a=No(t),f=o?l:is(e),g=a?l:is(t),E=(f=f==c?v:f)==v,L=(g=g==c?v:g)==v,A=f==g;if(A&&Do(e)){if(!Do(t))return!1;o=!0,E=!1}if(A&&!E)return s||(s=new Dn),o||Qo(e)?Ur(e,t,n,i,r,s):function(e,t,n,i,r,s,o){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!s(new Ne(e),new Ne(t)));case u:case d:case m:return Po(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case w:return e==t+"";case p:var a=Vt;case b:var c=1&i;if(a||(a=Ut),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;i|=2,o.set(e,t);var f=Ur(a(e),a(t),i,r,s,o);return o.delete(e),f;case _:if(kn)return kn.call(e)==kn.call(t)}return!1}(e,t,f,n,i,r,s);if(!(1&n)){var k=E&&Se.call(e,"__wrapped__"),C=L&&Se.call(t,"__wrapped__");if(k||C){var I=k?e.value():e,P=C?t.value():t;return s||(s=new Dn),r(I,P,n,i,s)}}if(!A)return!1;return s||(s=new Dn),function(e,t,n,i,r,s){var o=1&n,a=Zr(e),c=a.length,l=Zr(t).length;if(c!=l&&!o)return!1;var u=c;for(;u--;){var d=a[u];if(!(o?d in t:Se.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var g=!0;s.set(e,t),s.set(t,e);var p=o;for(;++u<c;){d=a[u];var m=e[d],v=t[d];if(i)var y=o?i(v,m,d,t,e,s):i(m,v,d,e,t,s);if(!(void 0===y?m===v||r(m,v,n,i,s):y)){g=!1;break}p||(p="constructor"==d)}if(g&&!p){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,i,r,s)}(e,t,n,i,_i,r))}function Ei(e,t,n,i){var r=n.length,s=r,o=!i;if(null==e)return!s;for(e=ge(e);r--;){var a=n[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<s;){var c=(a=n[r])[0],l=e[c],u=a[1];if(o&&a[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Dn;if(i)var h=i(l,u,c,e,t,d);if(!(void 0===h?_i(u,l,3,i,d):h))return!1}}return!0}function Si(e){return!(!Uo(e)||(t=e,Le&&Le in t))&&(Vo(e)?Ie:oe).test(ks(e));var t}function xi(e){return"function"==typeof e?e:null==e?Ga:"object"==typeof e?No(e)?Pi(e[0],e[1]):Ii(e):nc(e)}function Li(e){if(!hs(e))return on(e);var t=[];for(var n in ge(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ai(e){if(!Uo(e))return function(e){var t=[];if(null!=e)for(var n in ge(e))t.push(n);return t}(e);var t=hs(e),n=[];for(var i in e)("constructor"!=i||!t&&Se.call(e,i))&&n.push(i);return n}function ki(e,t){return e<t}function Ci(e,t){var n=-1,r=qo(e)?i(e.length):[];return ti(e,(function(e,i,s){r[++n]=t(e,i,s)})),r}function Ii(e){var t=Qr(e);return 1==t.length&&t[0][2]?gs(t[0][0],t[0][1]):function(n){return n===e||Ei(n,e,t)}}function Pi(e,t){return ls(e)&&fs(t)?gs(As(e),t):function(n){var i=ma(n,e);return void 0===i&&i===t?va(n,e):_i(t,i,3)}}function Oi(e,t,n,i,r){e!==t&&ai(t,(function(s,o){if(r||(r=new Dn),Uo(s))!function(e,t,n,i,r,s,o){var a=ys(e,n),c=ys(t,n),l=o.get(c);if(l)return void Hn(e,n,l);var u=s?s(a,c,n+"",e,t,o):void 0,d=void 0===u;if(d){var h=No(c),f=!h&&Do(c),g=!h&&!f&&Qo(c);u=c,h||f||g?No(a)?u=a:Fo(a)?u=yr(a):f?(d=!1,u=hr(c,!0)):g?(d=!1,u=gr(c,!0)):u=[]:Wo(c)||To(c)?(u=a,To(a)?u=aa(a):Uo(a)&&!Vo(a)||(u=ss(c))):d=!1}d&&(o.set(c,u),r(u,c,i,s,o),o.delete(c));Hn(e,n,u)}(e,t,o,n,Oi,i,r);else{var a=i?i(ys(e,o),s,o+"",e,t,r):void 0;void 0===a&&(a=s),Hn(e,o,a)}}),Ea)}function Bi(e,t){var n=e.length;if(n)return as(t+=t<0?n:0,n)?e[t]:void 0}function Ti(e,t,n){t=t.length?ft(t,(function(e){return No(e)?function(t){return hi(t,1===e.length?e[0]:e)}:e})):[Ga];var i=-1;return t=ft(t,Ot(Xr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ci(e,(function(e,n,r){return{criteria:ft(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,s=t.criteria,o=r.length,a=n.length;for(;++i<o;){var c=pr(r[i],s[i]);if(c){if(i>=a)return c;var l=n[i];return c*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)}))}function Ni(e,t,n){for(var i=-1,r=t.length,s={};++i<r;){var o=t[i],a=hi(e,o);n(a,o)&&zi(s,cr(o,e),a)}return s}function Mi(e,t,n,i){var r=i?Et:_t,s=-1,o=t.length,a=e;for(e===t&&(t=yr(t)),n&&(a=ft(e,Ot(n)));++s<o;)for(var c=0,l=t[s],u=n?n(l):l;(c=r(a,u,c,i))>-1;)a!==e&&We.call(a,c,1),We.call(e,c,1);return e}function qi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==s){var s=r;as(r)?We.call(e,r,1):er(e,r)}}return e}function Fi(e,t){return e+en(dn()*(t-e+1))}function Di(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function ji(e,t){return _s(ps(e,t,Ga),e+"")}function Ri(e){return Rn(Pa(e))}function Vi(e,t){var n=Pa(e);return xs(n,Yn(t,0,n.length))}function zi(e,t,n,i){if(!Uo(e))return e;for(var r=-1,s=(t=cr(t,e)).length,o=s-1,a=e;null!=a&&++r<s;){var c=As(t[r]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=o){var u=a[c];void 0===(l=i?i(u,c,a):void 0)&&(l=Uo(u)?u:as(t[r+1])?[]:{})}Un(a,c,l),a=a[c]}return e}var Hi=bn?function(e,t){return bn.set(e,t),e}:Ga,Ui=yt?function(e,t){return yt(e,"toString",{configurable:!0,enumerable:!1,value:Ua(t),writable:!0})}:Ga;function $i(e){return xs(Pa(e))}function Zi(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=i(s);++r<s;)o[r]=e[r+t];return o}function Gi(e,t){var n;return ti(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function Wi(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var s=i+r>>>1,o=e[s];null!==o&&!Jo(o)&&(n?o<=t:o<t)?i=s+1:r=s}return r}return Ki(e,t,Ga,n)}function Ki(e,t,n,i){var r=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=n(t))!=t,a=null===t,c=Jo(t),l=void 0===t;r<s;){var u=en((r+s)/2),d=n(e[u]),h=void 0!==d,f=null===d,g=d==d,p=Jo(d);if(o)var m=i||g;else m=l?g&&(i||h):a?g&&h&&(i||!f):c?g&&h&&!f&&(i||!p):!f&&!p&&(i?d<=t:d<t);m?r=u+1:s=u}return cn(s,4294967294)}function Yi(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n],a=t?t(o):o;if(!n||!Po(a,c)){var c=a;s[r++]=0===o?0:o}}return s}function Xi(e){return"number"==typeof e?e:Jo(e)?NaN:+e}function Ji(e){if("string"==typeof e)return e;if(No(e))return ft(e,Ji)+"";if(Jo(e))return Cn?Cn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qi(e,t,n){var i=-1,r=dt,s=e.length,o=!0,a=[],c=a;if(n)o=!1,r=ht;else if(s>=200){var l=t?null:Dr(e);if(l)return Ut(l);o=!1,r=Tt,c=new Fn}else c=t?[]:a;e:for(;++i<s;){var u=e[i],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),a.push(u)}else r(c,d,n)||(c!==a&&c.push(d),a.push(u))}return a}function er(e,t){return null==(e=ms(e,t=cr(t,e)))||delete e[As(js(t))]}function tr(e,t,n,i){return zi(e,t,n(hi(e,t)),i)}function nr(e,t,n,i){for(var r=e.length,s=i?r:-1;(i?s--:++s<r)&&t(e[s],s,e););return n?Zi(e,i?0:s,i?s+1:r):Zi(e,i?s+1:0,i?r:s)}function ir(e,t){var n=e;return n instanceof Tn&&(n=n.value()),pt(t,(function(e,t){return t.func.apply(t.thisArg,gt([e],t.args))}),n)}function rr(e,t,n){var r=e.length;if(r<2)return r?Qi(e[0]):[];for(var s=-1,o=i(r);++s<r;)for(var a=e[s],c=-1;++c<r;)c!=s&&(o[s]=ei(o[s]||a,e[c],t,n));return Qi(oi(o,1),t,n)}function sr(e,t,n){for(var i=-1,r=e.length,s=t.length,o={};++i<r;){var a=i<s?t[i]:void 0;n(o,e[i],a)}return o}function or(e){return Fo(e)?e:[]}function ar(e){return"function"==typeof e?e:Ga}function cr(e,t){return No(e)?e:ls(e,t)?[e]:Ls(ca(e))}var lr=ji;function ur(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Zi(e,t,n)}var dr=At||function(e){return Ge.clearTimeout(e)};function hr(e,t){if(t)return e.slice();var n=e.length,i=qe?qe(n):new e.constructor(n);return e.copy(i),i}function fr(e){var t=new e.constructor(e.byteLength);return new Ne(t).set(new Ne(e)),t}function gr(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function pr(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e==e,s=Jo(e),o=void 0!==t,a=null===t,c=t==t,l=Jo(t);if(!a&&!l&&!s&&e>t||s&&o&&c&&!a&&!l||i&&o&&c||!n&&c||!r)return 1;if(!i&&!s&&!l&&e<t||l&&n&&r&&!i&&!s||a&&n&&r||!o&&r||!c)return-1}return 0}function mr(e,t,n,r){for(var s=-1,o=e.length,a=n.length,c=-1,l=t.length,u=an(o-a,0),d=i(l+u),h=!r;++c<l;)d[c]=t[c];for(;++s<a;)(h||s<o)&&(d[n[s]]=e[s]);for(;u--;)d[c++]=e[s++];return d}function vr(e,t,n,r){for(var s=-1,o=e.length,a=-1,c=n.length,l=-1,u=t.length,d=an(o-c,0),h=i(d+u),f=!r;++s<d;)h[s]=e[s];for(var g=s;++l<u;)h[g+l]=t[l];for(;++a<c;)(f||s<o)&&(h[g+n[a]]=e[s++]);return h}function yr(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function br(e,t,n,i){var r=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],c=i?i(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),r?Wn(n,a,c):Un(n,a,c)}return n}function wr(e,t){return function(n,i){var r=No(n)?ot:Zn,s=t?t():{};return r(n,e,Xr(i,2),s)}}function _r(e){return ji((function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&cs(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),t=ge(t);++i<r;){var a=n[i];a&&e(t,a,i,s)}return t}))}function Er(e,t){return function(n,i){if(null==n)return n;if(!qo(n))return e(n,i);for(var r=n.length,s=t?r:-1,o=ge(n);(t?s--:++s<r)&&!1!==i(o[s],s,o););return n}}function Sr(e){return function(t,n,i){for(var r=-1,s=ge(t),o=i(t),a=o.length;a--;){var c=o[e?a:++r];if(!1===n(s[c],c,s))break}return t}}function xr(e){return function(t){var n=Rt(t=ca(t))?Gt(t):void 0,i=n?n[0]:t.charAt(0),r=n?ur(n,1).join(""):t.slice(1);return i[e]()+r}}function Lr(e){return function(t){return pt(Va(Ta(t).replace(Be,"")),e,"")}}function Ar(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Pn(e.prototype),i=e.apply(n,t);return Uo(i)?i:n}}function kr(e){return function(t,n,i){var r=ge(t);if(!qo(t)){var s=Xr(n,3);t=_a(t),n=function(e){return s(r[e],e,r)}}var o=e(t,n,i);return o>-1?r[s?t[o]:o]:void 0}}function Cr(e){return $r((function(t){var n=t.length,i=n,r=Bn.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new ve(s);if(r&&!a&&"wrapper"==Kr(o))var a=new Bn([],!0)}for(i=a?i:n;++i<n;){var c=Kr(o=t[i]),l="wrapper"==c?Wr(o):void 0;a=l&&us(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Kr(l[0])].apply(a,l[3]):1==o.length&&us(o)?a[c]():a.thru(o)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&No(i))return a.plant(i).value();for(var r=0,s=n?t[r].apply(this,e):i;++r<n;)s=t[r].call(this,s);return s}}))}function Ir(e,t,n,r,s,o,a,c,l,u){var d=128&t,h=1&t,f=2&t,g=24&t,p=512&t,m=f?void 0:Ar(e);return function v(){for(var y=arguments.length,b=i(y),w=y;w--;)b[w]=arguments[w];if(g)var _=Yr(v),E=qt(b,_);if(r&&(b=mr(b,r,s,g)),o&&(b=vr(b,o,a,g)),y-=E,g&&y<u){var S=Ht(b,_);return qr(e,t,Ir,v.placeholder,n,b,S,c,l,u-y)}var x=h?n:this,L=f?x[e]:e;return y=b.length,c?b=vs(b,c):p&&y>1&&b.reverse(),d&&l<y&&(b.length=l),this&&this!==Ge&&this instanceof v&&(L=m||Ar(L)),L.apply(x,b)}}function Pr(e,t){return function(n,i){return function(e,t,n,i){return li(e,(function(e,r,s){t(i,n(e),r,s)})),i}(n,e,t(i),{})}}function Or(e,t){return function(n,i){var r;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Ji(n),i=Ji(i)):(n=Xi(n),i=Xi(i)),r=e(n,i)}return r}}function Br(e){return $r((function(t){return t=ft(t,Ot(Xr())),ji((function(n){var i=this;return e(t,(function(e){return st(e,i,n)}))}))}))}function Tr(e,t){var n=(t=void 0===t?" ":Ji(t)).length;if(n<2)return n?Di(t,e):t;var i=Di(t,Qt(e/Zt(t)));return Rt(t)?ur(Gt(i),0,e).join(""):i.slice(0,e)}function Nr(e){return function(t,n,r){return r&&"number"!=typeof r&&cs(t,n,r)&&(n=r=void 0),t=ia(t),void 0===n?(n=t,t=0):n=ia(n),function(e,t,n,r){for(var s=-1,o=an(Qt((t-e)/(n||1)),0),a=i(o);o--;)a[r?o:++s]=e,e+=n;return a}(t,n,r=void 0===r?t<n?1:-1:ia(r),e)}}function Mr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=oa(t),n=oa(n)),e(t,n)}}function qr(e,t,n,i,r,s,o,a,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=[e,t,r,u?s:void 0,u?o:void 0,u?void 0:s,u?void 0:o,a,c,l],h=n.apply(void 0,d);return us(e)&&bs(h,d),h.placeholder=i,Es(h,e,t)}function Fr(e){var t=fe[e];return function(e,n){if(e=oa(e),(n=null==n?0:cn(ra(n),292))&&rn(e)){var i=(ca(e)+"e").split("e");return+((i=(ca(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Dr=mn&&1/Ut(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Ja;function jr(e){return function(t){var n=is(t);return n==p?Vt(t):n==b?$t(t):function(e,t){return ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Rr(e,t,n,r,a,c,l,u){var d=2&t;if(!d&&"function"!=typeof e)throw new ve(s);var h=r?r.length:0;if(h||(t&=-97,r=a=void 0),l=void 0===l?l:an(ra(l),0),u=void 0===u?u:ra(u),h-=a?a.length:0,64&t){var f=r,g=a;r=a=void 0}var p=d?void 0:Wr(e),m=[e,t,n,r,a,f,g,c,l,u];if(p&&function(e,t){var n=e[1],i=t[1],r=n|i,s=r<131,a=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?mr(l,c,t[4]):c,e[4]=l?Ht(e[3],o):t[4]}(c=t[5])&&(l=e[5],e[5]=l?vr(l,c,t[6]):c,e[6]=l?Ht(e[5],o):t[6]);(c=t[7])&&(e[7]=c);128&i&&(e[8]=null==e[8]?t[8]:cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(m,p),e=m[0],t=m[1],n=m[2],r=m[3],a=m[4],!(u=m[9]=void 0===m[9]?d?0:e.length:an(m[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var r=Ar(e);return function s(){for(var o=arguments.length,a=i(o),c=o,l=Yr(s);c--;)a[c]=arguments[c];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:Ht(a,l);if((o-=u.length)<n)return qr(e,t,Ir,s.placeholder,void 0,a,u,void 0,void 0,n-o);var d=this&&this!==Ge&&this instanceof s?r:e;return st(d,this,a)}}(e,t,u):32!=t&&33!=t||a.length?Ir.apply(void 0,m):function(e,t,n,r){var s=1&t,o=Ar(e);return function t(){for(var a=-1,c=arguments.length,l=-1,u=r.length,d=i(u+c),h=this&&this!==Ge&&this instanceof t?o:e;++l<u;)d[l]=r[l];for(;c--;)d[l++]=arguments[++a];return st(h,s?n:this,d)}}(e,t,n,r);else var v=function(e,t,n){var i=1&t,r=Ar(e);return function t(){var s=this&&this!==Ge&&this instanceof t?r:e;return s.apply(i?n:this,arguments)}}(e,t,n);return Es((p?Hi:bs)(v,m),e,t)}function Vr(e,t,n,i){return void 0===e||Po(e,we[n])&&!Se.call(i,n)?t:e}function zr(e,t,n,i,r,s){return Uo(e)&&Uo(t)&&(s.set(t,e),Oi(e,t,void 0,zr,s),s.delete(t)),e}function Hr(e){return Wo(e)?void 0:e}function Ur(e,t,n,i,r,s){var o=1&n,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var l=s.get(e),u=s.get(t);if(l&&u)return l==t&&u==e;var d=-1,h=!0,f=2&n?new Fn:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],p=t[d];if(i)var m=o?i(p,g,d,t,e,s):i(g,p,d,e,t,s);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!vt(t,(function(e,t){if(!Tt(f,t)&&(g===e||r(g,e,n,i,s)))return f.push(t)}))){h=!1;break}}else if(g!==p&&!r(g,p,n,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function $r(e){return _s(ps(e,void 0,Ns),e+"")}function Zr(e){return fi(e,_a,ts)}function Gr(e){return fi(e,Ea,ns)}var Wr=bn?function(e){return bn.get(e)}:Ja;function Kr(e){for(var t=e.name+"",n=wn[t],i=Se.call(wn,t)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==e)return r.name}return t}function Yr(e){return(Se.call(In,"placeholder")?In:e).placeholder}function Xr(){var e=In.iteratee||Wa;return e=e===Wa?xi:e,arguments.length?e(arguments[0],arguments[1]):e}function Jr(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Qr(e){for(var t=_a(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,fs(r)]}return t}function es(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Si(n)?n:void 0}var ts=tn?function(e){return null==e?[]:(e=ge(e),ut(tn(e),(function(t){return Ze.call(e,t)})))}:sc,ns=tn?function(e){for(var t=[];e;)gt(t,ts(e)),e=ze(e);return t}:sc,is=gi;function rs(e,t,n){for(var i=-1,r=(t=cr(t,e)).length,s=!1;++i<r;){var o=As(t[i]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++i!=r?s:!!(r=null==e?0:e.length)&&Ho(r)&&as(o,r)&&(No(e)||To(e))}function ss(e){return"function"!=typeof e.constructor||hs(e)?{}:Pn(ze(e))}function os(e){return No(e)||To(e)||!!(Ke&&e&&e[Ke])}function as(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ce.test(e))&&e>-1&&e%1==0&&e<t}function cs(e,t,n){if(!Uo(n))return!1;var i=typeof t;return!!("number"==i?qo(n)&&as(t,n.length):"string"==i&&t in n)&&Po(n[t],e)}function ls(e,t){if(No(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Jo(e))||(U.test(e)||!H.test(e)||null!=t&&e in ge(t))}function us(e){var t=Kr(e),n=In[t];if("function"!=typeof n||!(t in Tn.prototype))return!1;if(e===n)return!0;var i=Wr(n);return!!i&&e===i[0]}(fn&&is(new fn(new ArrayBuffer(1)))!=x||gn&&is(new gn)!=p||pn&&"[object Promise]"!=is(pn.resolve())||mn&&is(new mn)!=b||vn&&is(new vn)!=E)&&(is=function(e){var t=gi(e),n=t==v?e.constructor:void 0,i=n?ks(n):"";if(i)switch(i){case _n:return x;case En:return p;case Sn:return"[object Promise]";case xn:return b;case Ln:return E}return t});var ds=_e?Vo:oc;function hs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function fs(e){return e==e&&!Uo(e)}function gs(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in ge(n)))}}function ps(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=an(r.length-t,0),a=i(o);++s<o;)a[s]=r[t+s];s=-1;for(var c=i(t+1);++s<t;)c[s]=r[s];return c[t]=n(a),st(e,this,c)}}function ms(e,t){return t.length<2?e:hi(e,Zi(t,0,-1))}function vs(e,t){for(var n=e.length,i=cn(t.length,n),r=yr(e);i--;){var s=t[i];e[i]=as(s,n)?r[s]:void 0}return e}function ys(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var bs=Ss(Hi),ws=Jt||function(e,t){return Ge.setTimeout(e,t)},_s=Ss(Ui);function Es(e,t,n){var i=t+"";return _s(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return at(a,(function(n){var i="_."+n[0];t&n[1]&&!dt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(J):[]}(i),n)))}function Ss(e){var t=0,n=0;return function(){var i=ln(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xs(e,t){var n=-1,i=e.length,r=i-1;for(t=void 0===t?i:t;++n<t;){var s=Fi(n,r),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}var Ls=function(e){var t=xo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($,(function(e,n,i,r){t.push(i?r.replace(te,"$1"):n||e)})),t}));function As(e){if("string"==typeof e||Jo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ks(e){if(null!=e){try{return Ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Cs(e){if(e instanceof Tn)return e.clone();var t=new Bn(e.__wrapped__,e.__chain__);return t.__actions__=yr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Is=ji((function(e,t){return Fo(e)?ei(e,oi(t,1,Fo,!0)):[]})),Ps=ji((function(e,t){var n=js(t);return Fo(n)&&(n=void 0),Fo(e)?ei(e,oi(t,1,Fo,!0),Xr(n,2)):[]})),Os=ji((function(e,t){var n=js(t);return Fo(n)&&(n=void 0),Fo(e)?ei(e,oi(t,1,Fo,!0),void 0,n):[]}));function Bs(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=an(i+r,0)),wt(e,Xr(t,3),r)}function Ts(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=ra(n),r=n<0?an(i+r,0):cn(r,i-1)),wt(e,Xr(t,3),r,!0)}function Ns(e){return(null==e?0:e.length)?oi(e,1):[]}function Ms(e){return e&&e.length?e[0]:void 0}var qs=ji((function(e){var t=ft(e,or);return t.length&&t[0]===e[0]?yi(t):[]})),Fs=ji((function(e){var t=js(e),n=ft(e,or);return t===js(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yi(n,Xr(t,2)):[]})),Ds=ji((function(e){var t=js(e),n=ft(e,or);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yi(n,void 0,t):[]}));function js(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Rs=ji(Vs);function Vs(e,t){return e&&e.length&&t&&t.length?Mi(e,t):e}var zs=$r((function(e,t){var n=null==e?0:e.length,i=Kn(e,t);return qi(e,ft(t,(function(e){return as(e,n)?+e:e})).sort(pr)),i}));function Hs(e){return null==e?e:hn.call(e)}var Us=ji((function(e){return Qi(oi(e,1,Fo,!0))})),$s=ji((function(e){var t=js(e);return Fo(t)&&(t=void 0),Qi(oi(e,1,Fo,!0),Xr(t,2))})),Zs=ji((function(e){var t=js(e);return t="function"==typeof t?t:void 0,Qi(oi(e,1,Fo,!0),void 0,t)}));function Gs(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(Fo(e))return t=an(e.length,t),!0})),It(t,(function(t){return ft(e,Lt(t))}))}function Ws(e,t){if(!e||!e.length)return[];var n=Gs(e);return null==t?n:ft(n,(function(e){return st(t,void 0,e)}))}var Ks=ji((function(e,t){return Fo(e)?ei(e,t):[]})),Ys=ji((function(e){return rr(ut(e,Fo))})),Xs=ji((function(e){var t=js(e);return Fo(t)&&(t=void 0),rr(ut(e,Fo),Xr(t,2))})),Js=ji((function(e){var t=js(e);return t="function"==typeof t?t:void 0,rr(ut(e,Fo),void 0,t)})),Qs=ji(Gs);var eo=ji((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ws(e,n)}));function to(e){var t=In(e);return t.__chain__=!0,t}function no(e,t){return t(e)}var io=$r((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return Kn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Tn&&as(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:no,args:[r],thisArg:void 0}),new Bn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(r)}));var ro=wr((function(e,t,n){Se.call(e,n)?++e[n]:Wn(e,n,1)}));var so=kr(Bs),oo=kr(Ts);function ao(e,t){return(No(e)?at:ti)(e,Xr(t,3))}function co(e,t){return(No(e)?ct:ni)(e,Xr(t,3))}var lo=wr((function(e,t,n){Se.call(e,n)?e[n].push(t):Wn(e,n,[t])}));var uo=ji((function(e,t,n){var r=-1,s="function"==typeof t,o=qo(e)?i(e.length):[];return ti(e,(function(e){o[++r]=s?st(t,e,n):bi(e,t,n)})),o})),ho=wr((function(e,t,n){Wn(e,n,t)}));function fo(e,t){return(No(e)?ft:Ci)(e,Xr(t,3))}var go=wr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var po=ji((function(e,t){if(null==e)return[];var n=t.length;return n>1&&cs(e,t[0],t[1])?t=[]:n>2&&cs(t[0],t[1],t[2])&&(t=[t[0]]),Ti(e,oi(t,1),[])})),mo=Xt||function(){return Ge.Date.now()};function vo(e,t,n){return t=n?void 0:t,Rr(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function yo(e,t){var n;if("function"!=typeof t)throw new ve(s);return e=ra(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var bo=ji((function(e,t,n){var i=1;if(n.length){var r=Ht(n,Yr(bo));i|=32}return Rr(e,i,t,n,r)})),wo=ji((function(e,t,n){var i=3;if(n.length){var r=Ht(n,Yr(wo));i|=32}return Rr(t,i,e,n,r)}));function _o(e,t,n){var i,r,o,a,c,l,u=0,d=!1,h=!1,f=!0;if("function"!=typeof e)throw new ve(s);function g(t){var n=i,s=r;return i=r=void 0,u=t,a=e.apply(s,n)}function p(e){return u=e,c=ws(v,t),d?g(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=o}function v(){var e=mo();if(m(e))return y(e);c=ws(v,function(e){var n=t-(e-l);return h?cn(n,o-(e-u)):n}(e))}function y(e){return c=void 0,f&&i?g(e):(i=r=void 0,a)}function b(){var e=mo(),n=m(e);if(i=arguments,r=this,l=e,n){if(void 0===c)return p(l);if(h)return dr(c),c=ws(v,t),g(l)}return void 0===c&&(c=ws(v,t)),a}return t=oa(t)||0,Uo(n)&&(d=!!n.leading,o=(h="maxWait"in n)?an(oa(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==c&&dr(c),u=0,i=l=r=c=void 0},b.flush=function(){return void 0===c?a:y(mo())},b}var Eo=ji((function(e,t){return Qn(e,1,t)})),So=ji((function(e,t,n){return Qn(e,oa(t)||0,n)}));function xo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(s);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(xo.Cache||qn),n}function Lo(e){if("function"!=typeof e)throw new ve(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xo.Cache=qn;var Ao=lr((function(e,t){var n=(t=1==t.length&&No(t[0])?ft(t[0],Ot(Xr())):ft(oi(t,1),Ot(Xr()))).length;return ji((function(i){for(var r=-1,s=cn(i.length,n);++r<s;)i[r]=t[r].call(this,i[r]);return st(e,this,i)}))})),ko=ji((function(e,t){return Rr(e,32,void 0,t,Ht(t,Yr(ko)))})),Co=ji((function(e,t){return Rr(e,64,void 0,t,Ht(t,Yr(Co)))})),Io=$r((function(e,t){return Rr(e,256,void 0,void 0,void 0,t)}));function Po(e,t){return e===t||e!=e&&t!=t}var Oo=Mr(pi),Bo=Mr((function(e,t){return e>=t})),To=wi(function(){return arguments}())?wi:function(e){return $o(e)&&Se.call(e,"callee")&&!Ze.call(e,"callee")},No=i.isArray,Mo=Qe?Ot(Qe):function(e){return $o(e)&&gi(e)==S};function qo(e){return null!=e&&Ho(e.length)&&!Vo(e)}function Fo(e){return $o(e)&&qo(e)}var Do=nn||oc,jo=et?Ot(et):function(e){return $o(e)&&gi(e)==d};function Ro(e){if(!$o(e))return!1;var t=gi(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wo(e)}function Vo(e){if(!Uo(e))return!1;var t=gi(e);return t==f||t==g||"[object AsyncFunction]"==t||"[object Proxy]"==t}function zo(e){return"number"==typeof e&&e==ra(e)}function Ho(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Uo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $o(e){return null!=e&&"object"==typeof e}var Zo=tt?Ot(tt):function(e){return $o(e)&&is(e)==p};function Go(e){return"number"==typeof e||$o(e)&&gi(e)==m}function Wo(e){if(!$o(e)||gi(e)!=v)return!1;var t=ze(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ee.call(n)==ke}var Ko=nt?Ot(nt):function(e){return $o(e)&&gi(e)==y};var Yo=it?Ot(it):function(e){return $o(e)&&is(e)==b};function Xo(e){return"string"==typeof e||!No(e)&&$o(e)&&gi(e)==w}function Jo(e){return"symbol"==typeof e||$o(e)&&gi(e)==_}var Qo=rt?Ot(rt):function(e){return $o(e)&&Ho(e.length)&&!!Re[gi(e)]};var ea=Mr(ki),ta=Mr((function(e,t){return e<=t}));function na(e){if(!e)return[];if(qo(e))return Xo(e)?Gt(e):yr(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=is(e);return(t==p?Vt:t==b?Ut:Pa)(e)}function ia(e){return e?(e=oa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ra(e){var t=ia(e),n=t%1;return t==t?n?t-n:t:0}function sa(e){return e?Yn(ra(e),0,4294967295):0}function oa(e){if("number"==typeof e)return e;if(Jo(e))return NaN;if(Uo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Uo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Pt(e);var n=se.test(e);return n||ae.test(e)?Ue(e.slice(2),n?2:8):re.test(e)?NaN:+e}function aa(e){return br(e,Ea(e))}function ca(e){return null==e?"":Ji(e)}var la=_r((function(e,t){if(hs(t)||qo(t))br(t,_a(t),e);else for(var n in t)Se.call(t,n)&&Un(e,n,t[n])})),ua=_r((function(e,t){br(t,Ea(t),e)})),da=_r((function(e,t,n,i){br(t,Ea(t),e,i)})),ha=_r((function(e,t,n,i){br(t,_a(t),e,i)})),fa=$r(Kn);var ga=ji((function(e,t){e=ge(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&cs(t[0],t[1],r)&&(i=1);++n<i;)for(var s=t[n],o=Ea(s),a=-1,c=o.length;++a<c;){var l=o[a],u=e[l];(void 0===u||Po(u,we[l])&&!Se.call(e,l))&&(e[l]=s[l])}return e})),pa=ji((function(e){return e.push(void 0,zr),st(xa,void 0,e)}));function ma(e,t,n){var i=null==e?void 0:hi(e,t);return void 0===i?n:i}function va(e,t){return null!=e&&rs(e,t,vi)}var ya=Pr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=n}),Ua(Ga)),ba=Pr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Xr),wa=ji(bi);function _a(e){return qo(e)?jn(e):Li(e)}function Ea(e){return qo(e)?jn(e,!0):Ai(e)}var Sa=_r((function(e,t,n){Oi(e,t,n)})),xa=_r((function(e,t,n,i){Oi(e,t,n,i)})),La=$r((function(e,t){var n={};if(null==e)return n;var i=!1;t=ft(t,(function(t){return t=cr(t,e),i||(i=t.length>1),t})),br(e,Gr(e),n),i&&(n=Xn(n,7,Hr));for(var r=t.length;r--;)er(n,t[r]);return n}));var Aa=$r((function(e,t){return null==e?{}:function(e,t){return Ni(e,t,(function(t,n){return va(e,n)}))}(e,t)}));function ka(e,t){if(null==e)return{};var n=ft(Gr(e),(function(e){return[e]}));return t=Xr(t),Ni(e,n,(function(e,n){return t(e,n[0])}))}var Ca=jr(_a),Ia=jr(Ea);function Pa(e){return null==e?[]:Bt(e,_a(e))}var Oa=Lr((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return Ra(ca(e).toLowerCase())}function Ta(e){return(e=ca(e))&&e.replace(le,Ft).replace(Te,"")}var Na=Lr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ma=Lr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qa=xr("toLowerCase");var Fa=Lr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Da=Lr((function(e,t,n){return e+(n?" ":"")+Ra(t)}));var ja=Lr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ra=xr("toUpperCase");function Va(e,t,n){return e=ca(e),void 0===(t=n?void 0:t)?function(e){return Fe.test(e)}(e)?function(e){return e.match(Me)||[]}(e):function(e){return e.match(Q)||[]}(e):e.match(t)||[]}var za=ji((function(e,t){try{return st(e,void 0,t)}catch(e){return Ro(e)?e:new K(e)}})),Ha=$r((function(e,t){return at(t,(function(t){t=As(t),Wn(e,t,bo(e[t],e))})),e}));function Ua(e){return function(){return e}}var $a=Cr(),Za=Cr(!0);function Ga(e){return e}function Wa(e){return xi("function"==typeof e?e:Xn(e,1))}var Ka=ji((function(e,t){return function(n){return bi(n,e,t)}})),Ya=ji((function(e,t){return function(n){return bi(e,n,t)}}));function Xa(e,t,n){var i=_a(t),r=di(t,i);null!=n||Uo(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=di(t,_a(t)));var s=!(Uo(n)&&"chain"in n&&!n.chain),o=Vo(e);return at(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),r=n.__actions__=yr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,gt([this.value()],arguments))})})),e}function Ja(){}var Qa=Br(ft),ec=Br(lt),tc=Br(vt);function nc(e){return ls(e)?Lt(As(e)):function(e){return function(t){return hi(t,e)}}(e)}var ic=Nr(),rc=Nr(!0);function sc(){return[]}function oc(){return!1}var ac=Or((function(e,t){return e+t}),0),cc=Fr("ceil"),lc=Or((function(e,t){return e/t}),1),uc=Fr("floor");var dc,hc=Or((function(e,t){return e*t}),1),fc=Fr("round"),gc=Or((function(e,t){return e-t}),0);return In.after=function(e,t){if("function"!=typeof t)throw new ve(s);return e=ra(e),function(){if(--e<1)return t.apply(this,arguments)}},In.ary=vo,In.assign=la,In.assignIn=ua,In.assignInWith=da,In.assignWith=ha,In.at=fa,In.before=yo,In.bind=bo,In.bindAll=Ha,In.bindKey=wo,In.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return No(e)?e:[e]},In.chain=to,In.chunk=function(e,t,n){t=(n?cs(e,t,n):void 0===t)?1:an(ra(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var s=0,o=0,a=i(Qt(r/t));s<r;)a[o++]=Zi(e,s,s+=t);return a},In.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var s=e[t];s&&(r[i++]=s)}return r},In.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return gt(No(n)?yr(n):[n],oi(t,1))},In.cond=function(e){var t=null==e?0:e.length,n=Xr();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new ve(s);return[n(e[0]),e[1]]})):[],ji((function(n){for(var i=-1;++i<t;){var r=e[i];if(st(r[0],this,n))return st(r[1],this,n)}}))},In.conforms=function(e){return function(e){var t=_a(e);return function(n){return Jn(n,e,t)}}(Xn(e,1))},In.constant=Ua,In.countBy=ro,In.create=function(e,t){var n=Pn(e);return null==t?n:Gn(n,t)},In.curry=function e(t,n,i){var r=Rr(t,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.curryRight=function e(t,n,i){var r=Rr(t,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.debounce=_o,In.defaults=ga,In.defaultsDeep=pa,In.defer=Eo,In.delay=So,In.difference=Is,In.differenceBy=Ps,In.differenceWith=Os,In.drop=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,(t=n||void 0===t?1:ra(t))<0?0:t,i):[]},In.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,0,(t=i-(t=n||void 0===t?1:ra(t)))<0?0:t):[]},In.dropRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0,!0):[]},In.dropWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0):[]},In.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&cs(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=ra(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:ra(i))<0&&(i+=r),i=n>i?0:sa(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},In.filter=function(e,t){return(No(e)?ut:si)(e,Xr(t,3))},In.flatMap=function(e,t){return oi(fo(e,t),1)},In.flatMapDeep=function(e,t){return oi(fo(e,t),1/0)},In.flatMapDepth=function(e,t,n){return n=void 0===n?1:ra(n),oi(fo(e,t),n)},In.flatten=Ns,In.flattenDeep=function(e){return(null==e?0:e.length)?oi(e,1/0):[]},In.flattenDepth=function(e,t){return(null==e?0:e.length)?oi(e,t=void 0===t?1:ra(t)):[]},In.flip=function(e){return Rr(e,512)},In.flow=$a,In.flowRight=Za,In.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},In.functions=function(e){return null==e?[]:di(e,_a(e))},In.functionsIn=function(e){return null==e?[]:di(e,Ea(e))},In.groupBy=lo,In.initial=function(e){return(null==e?0:e.length)?Zi(e,0,-1):[]},In.intersection=qs,In.intersectionBy=Fs,In.intersectionWith=Ds,In.invert=ya,In.invertBy=ba,In.invokeMap=uo,In.iteratee=Wa,In.keyBy=ho,In.keys=_a,In.keysIn=Ea,In.map=fo,In.mapKeys=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Wn(n,t(e,i,r),e)})),n},In.mapValues=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Wn(n,i,t(e,i,r))})),n},In.matches=function(e){return Ii(Xn(e,1))},In.matchesProperty=function(e,t){return Pi(e,Xn(t,1))},In.memoize=xo,In.merge=Sa,In.mergeWith=xa,In.method=Ka,In.methodOf=Ya,In.mixin=Xa,In.negate=Lo,In.nthArg=function(e){return e=ra(e),ji((function(t){return Bi(t,e)}))},In.omit=La,In.omitBy=function(e,t){return ka(e,Lo(Xr(t)))},In.once=function(e){return yo(2,e)},In.orderBy=function(e,t,n,i){return null==e?[]:(No(t)||(t=null==t?[]:[t]),No(n=i?void 0:n)||(n=null==n?[]:[n]),Ti(e,t,n))},In.over=Qa,In.overArgs=Ao,In.overEvery=ec,In.overSome=tc,In.partial=ko,In.partialRight=Co,In.partition=go,In.pick=Aa,In.pickBy=ka,In.property=nc,In.propertyOf=function(e){return function(t){return null==e?void 0:hi(e,t)}},In.pull=Rs,In.pullAll=Vs,In.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,Xr(n,2)):e},In.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,void 0,n):e},In.pullAt=zs,In.range=ic,In.rangeRight=rc,In.rearg=Io,In.reject=function(e,t){return(No(e)?ut:si)(e,Lo(Xr(t,3)))},In.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],s=e.length;for(t=Xr(t,3);++i<s;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return qi(e,r),n},In.rest=function(e,t){if("function"!=typeof e)throw new ve(s);return ji(e,t=void 0===t?t:ra(t))},In.reverse=Hs,In.sampleSize=function(e,t,n){return t=(n?cs(e,t,n):void 0===t)?1:ra(t),(No(e)?Vn:Vi)(e,t)},In.set=function(e,t,n){return null==e?e:zi(e,t,n)},In.setWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:zi(e,t,n,i)},In.shuffle=function(e){return(No(e)?zn:$i)(e)},In.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&cs(e,t,n)?(t=0,n=i):(t=null==t?0:ra(t),n=void 0===n?i:ra(n)),Zi(e,t,n)):[]},In.sortBy=po,In.sortedUniq=function(e){return e&&e.length?Yi(e):[]},In.sortedUniqBy=function(e,t){return e&&e.length?Yi(e,Xr(t,2)):[]},In.split=function(e,t,n){return n&&"number"!=typeof n&&cs(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ca(e))&&("string"==typeof t||null!=t&&!Ko(t))&&!(t=Ji(t))&&Rt(e)?ur(Gt(e),0,n):e.split(t,n):[]},In.spread=function(e,t){if("function"!=typeof e)throw new ve(s);return t=null==t?0:an(ra(t),0),ji((function(n){var i=n[t],r=ur(n,0,t);return i&&gt(r,i),st(e,this,r)}))},In.tail=function(e){var t=null==e?0:e.length;return t?Zi(e,1,t):[]},In.take=function(e,t,n){return e&&e.length?Zi(e,0,(t=n||void 0===t?1:ra(t))<0?0:t):[]},In.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,(t=i-(t=n||void 0===t?1:ra(t)))<0?0:t,i):[]},In.takeRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!1,!0):[]},In.takeWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3)):[]},In.tap=function(e,t){return t(e),e},In.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new ve(s);return Uo(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),_o(e,t,{leading:i,maxWait:t,trailing:r})},In.thru=no,In.toArray=na,In.toPairs=Ca,In.toPairsIn=Ia,In.toPath=function(e){return No(e)?ft(e,As):Jo(e)?[e]:yr(Ls(ca(e)))},In.toPlainObject=aa,In.transform=function(e,t,n){var i=No(e),r=i||Do(e)||Qo(e);if(t=Xr(t,4),null==n){var s=e&&e.constructor;n=r?i?new s:[]:Uo(e)&&Vo(s)?Pn(ze(e)):{}}return(r?at:li)(e,(function(e,i,r){return t(n,e,i,r)})),n},In.unary=function(e){return vo(e,1)},In.union=Us,In.unionBy=$s,In.unionWith=Zs,In.uniq=function(e){return e&&e.length?Qi(e):[]},In.uniqBy=function(e,t){return e&&e.length?Qi(e,Xr(t,2)):[]},In.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qi(e,void 0,t):[]},In.unset=function(e,t){return null==e||er(e,t)},In.unzip=Gs,In.unzipWith=Ws,In.update=function(e,t,n){return null==e?e:tr(e,t,ar(n))},In.updateWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:tr(e,t,ar(n),i)},In.values=Pa,In.valuesIn=function(e){return null==e?[]:Bt(e,Ea(e))},In.without=Ks,In.words=Va,In.wrap=function(e,t){return ko(ar(t),e)},In.xor=Ys,In.xorBy=Xs,In.xorWith=Js,In.zip=Qs,In.zipObject=function(e,t){return sr(e||[],t||[],Un)},In.zipObjectDeep=function(e,t){return sr(e||[],t||[],zi)},In.zipWith=eo,In.entries=Ca,In.entriesIn=Ia,In.extend=ua,In.extendWith=da,Xa(In,In),In.add=ac,In.attempt=za,In.camelCase=Oa,In.capitalize=Ba,In.ceil=cc,In.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=oa(n))==n?n:0),void 0!==t&&(t=(t=oa(t))==t?t:0),Yn(oa(e),t,n)},In.clone=function(e){return Xn(e,4)},In.cloneDeep=function(e){return Xn(e,5)},In.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},In.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},In.conformsTo=function(e,t){return null==t||Jn(e,t,_a(t))},In.deburr=Ta,In.defaultTo=function(e,t){return null==e||e!=e?t:e},In.divide=lc,In.endsWith=function(e,t,n){e=ca(e),t=Ji(t);var i=e.length,r=n=void 0===n?i:Yn(ra(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},In.eq=Po,In.escape=function(e){return(e=ca(e))&&j.test(e)?e.replace(F,Dt):e},In.escapeRegExp=function(e){return(e=ca(e))&&G.test(e)?e.replace(Z,"\\$&"):e},In.every=function(e,t,n){var i=No(e)?lt:ii;return n&&cs(e,t,n)&&(t=void 0),i(e,Xr(t,3))},In.find=so,In.findIndex=Bs,In.findKey=function(e,t){return bt(e,Xr(t,3),li)},In.findLast=oo,In.findLastIndex=Ts,In.findLastKey=function(e,t){return bt(e,Xr(t,3),ui)},In.floor=uc,In.forEach=ao,In.forEachRight=co,In.forIn=function(e,t){return null==e?e:ai(e,Xr(t,3),Ea)},In.forInRight=function(e,t){return null==e?e:ci(e,Xr(t,3),Ea)},In.forOwn=function(e,t){return e&&li(e,Xr(t,3))},In.forOwnRight=function(e,t){return e&&ui(e,Xr(t,3))},In.get=ma,In.gt=Oo,In.gte=Bo,In.has=function(e,t){return null!=e&&rs(e,t,mi)},In.hasIn=va,In.head=Ms,In.identity=Ga,In.includes=function(e,t,n,i){e=qo(e)?e:Pa(e),n=n&&!i?ra(n):0;var r=e.length;return n<0&&(n=an(r+n,0)),Xo(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&_t(e,t,n)>-1},In.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=an(i+r,0)),_t(e,t,r)},In.inRange=function(e,t,n){return t=ia(t),void 0===n?(n=t,t=0):n=ia(n),function(e,t,n){return e>=cn(t,n)&&e<an(t,n)}(e=oa(e),t,n)},In.invoke=wa,In.isArguments=To,In.isArray=No,In.isArrayBuffer=Mo,In.isArrayLike=qo,In.isArrayLikeObject=Fo,In.isBoolean=function(e){return!0===e||!1===e||$o(e)&&gi(e)==u},In.isBuffer=Do,In.isDate=jo,In.isElement=function(e){return $o(e)&&1===e.nodeType&&!Wo(e)},In.isEmpty=function(e){if(null==e)return!0;if(qo(e)&&(No(e)||"string"==typeof e||"function"==typeof e.splice||Do(e)||Qo(e)||To(e)))return!e.length;var t=is(e);if(t==p||t==b)return!e.size;if(hs(e))return!Li(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},In.isEqual=function(e,t){return _i(e,t)},In.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?_i(e,t,void 0,n):!!i},In.isError=Ro,In.isFinite=function(e){return"number"==typeof e&&rn(e)},In.isFunction=Vo,In.isInteger=zo,In.isLength=Ho,In.isMap=Zo,In.isMatch=function(e,t){return e===t||Ei(e,t,Qr(t))},In.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Ei(e,t,Qr(t),n)},In.isNaN=function(e){return Go(e)&&e!=+e},In.isNative=function(e){if(ds(e))throw new K("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Si(e)},In.isNil=function(e){return null==e},In.isNull=function(e){return null===e},In.isNumber=Go,In.isObject=Uo,In.isObjectLike=$o,In.isPlainObject=Wo,In.isRegExp=Ko,In.isSafeInteger=function(e){return zo(e)&&e>=-9007199254740991&&e<=9007199254740991},In.isSet=Yo,In.isString=Xo,In.isSymbol=Jo,In.isTypedArray=Qo,In.isUndefined=function(e){return void 0===e},In.isWeakMap=function(e){return $o(e)&&is(e)==E},In.isWeakSet=function(e){return $o(e)&&"[object WeakSet]"==gi(e)},In.join=function(e,t){return null==e?"":sn.call(e,t)},In.kebabCase=Na,In.last=js,In.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=ra(n))<0?an(i+r,0):cn(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):wt(e,St,r,!0)},In.lowerCase=Ma,In.lowerFirst=qa,In.lt=ea,In.lte=ta,In.max=function(e){return e&&e.length?ri(e,Ga,pi):void 0},In.maxBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),pi):void 0},In.mean=function(e){return xt(e,Ga)},In.meanBy=function(e,t){return xt(e,Xr(t,2))},In.min=function(e){return e&&e.length?ri(e,Ga,ki):void 0},In.minBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),ki):void 0},In.stubArray=sc,In.stubFalse=oc,In.stubObject=function(){return{}},In.stubString=function(){return""},In.stubTrue=function(){return!0},In.multiply=hc,In.nth=function(e,t){return e&&e.length?Bi(e,ra(t)):void 0},In.noConflict=function(){return Ge._===this&&(Ge._=Ce),this},In.noop=Ja,In.now=mo,In.pad=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Tr(en(r),n)+e+Tr(Qt(r),n)},In.padEnd=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;return t&&i<t?e+Tr(t-i,n):e},In.padStart=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;return t&&i<t?Tr(t-i,n)+e:e},In.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(ca(e).replace(W,""),t||0)},In.random=function(e,t,n){if(n&&"boolean"!=typeof n&&cs(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ia(e),void 0===t?(t=e,e=0):t=ia(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=dn();return cn(e+r*(t-e+He("1e-"+((r+"").length-1))),t)}return Fi(e,t)},In.reduce=function(e,t,n){var i=No(e)?pt:kt,r=arguments.length<3;return i(e,Xr(t,4),n,r,ti)},In.reduceRight=function(e,t,n){var i=No(e)?mt:kt,r=arguments.length<3;return i(e,Xr(t,4),n,r,ni)},In.repeat=function(e,t,n){return t=(n?cs(e,t,n):void 0===t)?1:ra(t),Di(ca(e),t)},In.replace=function(){var e=arguments,t=ca(e[0]);return e.length<3?t:t.replace(e[1],e[2])},In.result=function(e,t,n){var i=-1,r=(t=cr(t,e)).length;for(r||(r=1,e=void 0);++i<r;){var s=null==e?void 0:e[As(t[i])];void 0===s&&(i=r,s=n),e=Vo(s)?s.call(e):s}return e},In.round=fc,In.runInContext=e,In.sample=function(e){return(No(e)?Rn:Ri)(e)},In.size=function(e){if(null==e)return 0;if(qo(e))return Xo(e)?Zt(e):e.length;var t=is(e);return t==p||t==b?e.size:Li(e).length},In.snakeCase=Fa,In.some=function(e,t,n){var i=No(e)?vt:Gi;return n&&cs(e,t,n)&&(t=void 0),i(e,Xr(t,3))},In.sortedIndex=function(e,t){return Wi(e,t)},In.sortedIndexBy=function(e,t,n){return Ki(e,t,Xr(n,2))},In.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Wi(e,t);if(i<n&&Po(e[i],t))return i}return-1},In.sortedLastIndex=function(e,t){return Wi(e,t,!0)},In.sortedLastIndexBy=function(e,t,n){return Ki(e,t,Xr(n,2),!0)},In.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Wi(e,t,!0)-1;if(Po(e[n],t))return n}return-1},In.startCase=Da,In.startsWith=function(e,t,n){return e=ca(e),n=null==n?0:Yn(ra(n),0,e.length),t=Ji(t),e.slice(n,n+t.length)==t},In.subtract=gc,In.sum=function(e){return e&&e.length?Ct(e,Ga):0},In.sumBy=function(e,t){return e&&e.length?Ct(e,Xr(t,2)):0},In.template=function(e,t,n){var i=In.templateSettings;n&&cs(e,t,n)&&(t=void 0),e=ca(e),t=da({},t,i,Vr);var r,s,o=da({},t.imports,i.imports,Vr),a=_a(o),c=Bt(o,a),l=0,u=t.interpolate||ue,d="__p += '",h=pe((t.escape||ue).source+"|"+u.source+"|"+(u===z?ne:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),f="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++je+"]")+"\n";e.replace(h,(function(t,n,i,o,a,c){return i||(i=o),d+=e.slice(l,c).replace(de,jt),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var g=Se.call(t,"variable")&&t.variable;if(g){if(ee.test(g))throw new K("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(T,""):d).replace(N,"$1").replace(M,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var p=za((function(){return he(a,f+"return "+d).apply(void 0,c)}));if(p.source=d,Ro(p))throw p;return p},In.times=function(e,t){if((e=ra(e))<1||e>9007199254740991)return[];var n=4294967295,i=cn(e,4294967295);e-=4294967295;for(var r=It(i,t=Xr(t));++n<e;)t(n);return r},In.toFinite=ia,In.toInteger=ra,In.toLength=sa,In.toLower=function(e){return ca(e).toLowerCase()},In.toNumber=oa,In.toSafeInteger=function(e){return e?Yn(ra(e),-9007199254740991,9007199254740991):0===e?e:0},In.toString=ca,In.toUpper=function(e){return ca(e).toUpperCase()},In.trim=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return Pt(e);if(!e||!(t=Ji(t)))return e;var i=Gt(e),r=Gt(t);return ur(i,Nt(i,r),Mt(i,r)+1).join("")},In.trimEnd=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.slice(0,Wt(e)+1);if(!e||!(t=Ji(t)))return e;var i=Gt(e);return ur(i,0,Mt(i,Gt(t))+1).join("")},In.trimStart=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Ji(t)))return e;var i=Gt(e);return ur(i,Nt(i,Gt(t))).join("")},In.truncate=function(e,t){var n=30,i="...";if(Uo(t)){var r="separator"in t?t.separator:r;n="length"in t?ra(t.length):n,i="omission"in t?Ji(t.omission):i}var s=(e=ca(e)).length;if(Rt(e)){var o=Gt(e);s=o.length}if(n>=s)return e;var a=n-Zt(i);if(a<1)return i;var c=o?ur(o,0,a).join(""):e.slice(0,a);if(void 0===r)return c+i;if(o&&(a+=c.length-a),Ko(r)){if(e.slice(a).search(r)){var l,u=c;for(r.global||(r=pe(r.source,ca(ie.exec(r))+"g")),r.lastIndex=0;l=r.exec(u);)var d=l.index;c=c.slice(0,void 0===d?a:d)}}else if(e.indexOf(Ji(r),a)!=a){var h=c.lastIndexOf(r);h>-1&&(c=c.slice(0,h))}return c+i},In.unescape=function(e){return(e=ca(e))&&D.test(e)?e.replace(q,Kt):e},In.uniqueId=function(e){var t=++xe;return ca(e)+t},In.upperCase=ja,In.upperFirst=Ra,In.each=ao,In.eachRight=co,In.first=Ms,Xa(In,(dc={},li(In,(function(e,t){Se.call(In.prototype,t)||(dc[t]=e)})),dc),{chain:!1}),In.VERSION="4.17.21",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){In[e].placeholder=In})),at(["drop","take"],(function(e,t){Tn.prototype[e]=function(n){n=void 0===n?1:an(ra(n),0);var i=this.__filtered__&&!t?new Tn(this):this.clone();return i.__filtered__?i.__takeCount__=cn(n,i.__takeCount__):i.__views__.push({size:cn(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},Tn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Tn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Xr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),at(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Tn.prototype[e]=function(){return this[n](1).value()[0]}})),at(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Tn.prototype[e]=function(){return this.__filtered__?new Tn(this):this[n](1)}})),Tn.prototype.compact=function(){return this.filter(Ga)},Tn.prototype.find=function(e){return this.filter(e).head()},Tn.prototype.findLast=function(e){return this.reverse().find(e)},Tn.prototype.invokeMap=ji((function(e,t){return"function"==typeof e?new Tn(this):this.map((function(n){return bi(n,e,t)}))})),Tn.prototype.reject=function(e){return this.filter(Lo(Xr(e)))},Tn.prototype.slice=function(e,t){e=ra(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Tn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ra(t))<0?n.dropRight(-t):n.take(t-e)),n)},Tn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tn.prototype.toArray=function(){return this.take(4294967295)},li(Tn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=In[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);r&&(In.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,a=t instanceof Tn,c=o[0],l=a||No(t),u=function(e){var t=r.apply(In,gt([e],o));return i&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(a=l=!1);var d=this.__chain__,h=!!this.__actions__.length,f=s&&!d,g=a&&!h;if(!s&&l){t=g?t:new Tn(this);var p=e.apply(t,o);return p.__actions__.push({func:no,args:[u],thisArg:void 0}),new Bn(p,d)}return f&&g?e.apply(this,o):(p=this.thru(u),f?i?p.value()[0]:p.value():p)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);In.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(No(r)?r:[],e)}return this[n]((function(n){return t.apply(No(n)?n:[],e)}))}})),li(Tn.prototype,(function(e,t){var n=In[t];if(n){var i=n.name+"";Se.call(wn,i)||(wn[i]=[]),wn[i].push({name:t,func:n})}})),wn[Ir(void 0,2).name]=[{name:"wrapper",func:void 0}],Tn.prototype.clone=function(){var e=new Tn(this.__wrapped__);return e.__actions__=yr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yr(this.__views__),e},Tn.prototype.reverse=function(){if(this.__filtered__){var e=new Tn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Tn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=No(e),i=t<0,r=n?e.length:0,s=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=cn(t,e+o);break;case"takeRight":e=an(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=s.start,a=s.end,c=a-o,l=i?a:o-1,u=this.__iteratees__,d=u.length,h=0,f=cn(c,this.__takeCount__);if(!n||!i&&r==c&&f==c)return ir(e,this.__actions__);var g=[];e:for(;c--&&h<f;){for(var p=-1,m=e[l+=t];++p<d;){var v=u[p],y=v.iteratee,b=v.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}g[h++]=m}return g},In.prototype.at=io,In.prototype.chain=function(){return to(this)},In.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},In.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},In.prototype.plant=function(e){for(var t,n=this;n instanceof On;){var i=Cs(n);i.__index__=0,i.__values__=void 0,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},In.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Tn){var t=e;return this.__actions__.length&&(t=new Tn(this)),(t=t.reverse()).__actions__.push({func:no,args:[Hs],thisArg:void 0}),new Bn(t,this.__chain__)}return this.thru(Hs)},In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=function(){return ir(this.__wrapped__,this.__actions__)},In.prototype.first=In.prototype.head,Xe&&(In.prototype[Xe]=function(){return this}),In}();Ge._=Yt,void 0===(r=function(){return Yt}.call(t,n,t,i))||(i.exports=r)}).call(this)}).call(this,n(9),n(50)(e))},function(e,t){
/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],i=0;i<100;i++)n.push(n[i]+t);return n}function i(){this.step="    ",this.shift=n(this.step)}function r(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function s(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}i.prototype.xml=function(e,t){var i=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=i.length,s=!1,o=0,a="",c=0,l=t?n(t):this.shift;for(c=0;c<r;c++)i[c].search(/<!/)>-1?(a+=l[o]+i[c],s=!0,(i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1||i[c].search(/!DOCTYPE/)>-1)&&(s=!1)):i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1?(a+=i[c],s=!1):/^<\w/.exec(i[c-1])&&/^<\/\w/.exec(i[c])&&/^<[\w:\-\.\,]+/.exec(i[c-1])==/^<\/[\w:\-\.\,]+/.exec(i[c])[0].replace("/","")?(a+=i[c],s||o--):i[c].search(/<\w/)>-1&&-1==i[c].search(/<\//)&&-1==i[c].search(/\/>/)?a=a+=s?i[c]:l[o++]+i[c]:i[c].search(/<\w/)>-1&&i[c].search(/<\//)>-1?a=a+=s?i[c]:l[o]+i[c]:i[c].search(/<\//)>-1?a=a+=s?i[c]:l[--o]+i[c]:i[c].search(/\/>/)>-1?a=a+=s?i[c]:l[o]+i[c]:i[c].search(/<\?/)>-1||i[c].search(/xmlns\:/)>-1||i[c].search(/xmlns\=/)>-1?a+=l[o]+i[c]:a+=i[c];return"\n"==a[0]?a.slice(1):a},i.prototype.json=function(e,t){t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},i.prototype.css=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=i.length,s=0,o="",a=0,c=t?n(t):this.shift;for(a=0;a<r;a++)/\{/.exec(i[a])?o+=c[s++]+i[a]:/\}/.exec(i[a])?o+=c[--s]+i[a]:(/\*\\/.exec(i[a]),o+=c[s]+i[a]);return o.replace(/^\n{1,}/,"")},i.prototype.sql=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),o=i.length,a=[],c=0,l=this.step,u=0,d="",h=0,f=t?n(t):this.shift;for(h=0;h<o;h++)a=h%2?a.concat(i[h]):a.concat(s(i[h],l));for(o=a.length,h=0;h<o;h++){u=r(a[h],u),/\s{0,}\s{0,}SELECT\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\s{0,}SET\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(a[h])?d+=f[++c]+a[h]:/\'/.exec(a[h])?(u<1&&c&&c--,d+=a[h]):(d+=f[c]+a[h],u<1&&c&&c--)}return d=d.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},i.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},i.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},i.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},i.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renameHTML=t.newFolderHTML=t.uploadAreaHTML=void 0,t.uploadAreaHTML='<div id="document-upload-container">\n\n    <div id="initial_upload_container">\n      <div id="initial_upload_area">\n        <div id="initial_upload_message">Upload Files</div>\n      </div>\n    </div>\n    \n    <div id="uploading_container">\n      <div class="file_container" id="unpaired_container">\n\n        <div class="file-container-title">Unpaired Documents</div>\n\n        <div id="files_container">\n\n          <div id="mei_container">\n            <div class="file_heading">MEI</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="mei_list">\n              <div class="unpaired_item_container" style="width: 100%; background: #DAEAF1; border-radius: 5px;">\n                <label class="unpaired_item_label">\n                  <input type="radio" class="unpaired_item_radio" name="mei_radio_group" value="create_mei">\n                    <span style="margin-top: auto;margin-left: 3px;">\n                      Create new MEI file\n                    </span>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <div id="image_container">\n            <div class="file_heading">Images</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="image_list"></div>\n          </div>\n\n        </div>\n\n        <div id="generate-pair-button-container">\n          <div class="action_button" id="make_pair">Make Pair</div>\n        </div>\n      </div>\n\n      <div class="file_container" id="paired_container">\n\n        <div class="file-container-title">Paired Folios</div>\n        <div class="file_sort_name">\n          <div>Name</div>\n          <div class="sort_name arrow_btn">&#x22C0;</div>\n        </div>\n        <div class="folio_list" id="paired_list"></div>\n\n        <div id="upload_button_container">\n          <div class="action_button" id="upload_button">\n            Upload\n            <div id="uploading_spinner">↻</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!--\n      <div class="file_container" id="manuscripts_container">\n        <h2 class="file_heading">Manuscripts</h2>\n        <div class="folio_list" id="manuscript_list"></div>\n      </div>\n      --\x3e\n\n    </div>\n  </div>',t.newFolderHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Create</button>\n      </div>\n    </div>\n  ',t.renameHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Confirm</button>\n      </div>\n    </div>\n  '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupingNotRecognized=void 0,t.groupingNotRecognized=function(){window.confirm("Neon does not recognize this neume grouping. Would you like to create a compound neume?")||document.getElementById("undo").click()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStaffHandler=void 0;const i=n(5),r=n(4),s=n(23),o=n(15);t.SplitStaffHandler=class{constructor(e,t){this.handler=(e=>{const t=this.staff.id,n=(0,o.getSVGRelCoords)(e.clientX,e.clientY),a={action:"split",param:{elementId:t,x:n.x}};this.neonView.edit(a,this.neonView.view.getCurrentPageURI()).then(async e=>{e&&(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success"));const n=new s.default(this.neonView,".staff");this.splitDisable(),(0,r.selectAll)([document.querySelector("#"+t)],this.neonView,n);const o=document.getElementById("moreEdit");o&&(o.innerHTML="",o.parentElement.classList.add("hidden"))})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.staff=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click Where to Split")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitNeumeHandler=void 0;const i=n(5);t.SplitNeumeHandler=class{constructor(e,t){this.handler=(e=>{const t={action:"splitNeume",param:{elementId:this.neume.id,ncId:e.target.parentElement.id}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(async e=>{e?(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success")):(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action failed","error")),this.splitDisable()})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.neume=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click The Beginning of The Second Neume")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var i=0,r=new n(t),s=e.document.createTextNode("");return r.observe(s,{characterData:!0}),function(){s.data=i=++i%2}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(9))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},function(e,t,n){"use strict";var i=n(67),r=n(68);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=b(e));return e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(69);function b(e,t,n){if(e&&r.isObject(e)&&e instanceof s)return e;var i=new s;return i.parse(e,t,n),i}s.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=o.exec(b);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||_&&m[_]||(b=b.substr(2),this.slashes=!0)}if(!m[_]&&(S||_&&!v[_])){for(var x,L,A=-1,k=0;k<h.length;k++){-1!==(C=b.indexOf(h[k]))&&(-1===A||C<A)&&(A=C)}-1!==(L=-1===A?b.lastIndexOf("@"):b.lastIndexOf("@",A))&&(x=b.slice(0,L),b=b.slice(L+1),this.auth=decodeURIComponent(x)),A=-1;for(k=0;k<d.length;k++){var C;-1!==(C=b.indexOf(d[k]))&&(-1===A||C<A)&&(A=C)}-1===A&&(A=b.length),this.host=b.slice(0,A),b=b.slice(A),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),O=(k=0,P.length);k<O;k++){var B=P[k];if(B&&!B.match(f)){for(var T="",N=0,M=B.length;N<M;N++)B.charCodeAt(N)>127?T+="x":T+=B[N];if(!T.match(f)){var q=P.slice(0,k),F=P.slice(k+1),D=B.match(g);D&&(q.push(D[1]),F.unshift(D[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=q.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var j=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+j,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!p[E])for(k=0,O=u.length;k<O;k++){var V=u[k];if(-1!==b.indexOf(V)){var z=encodeURIComponent(V);z===V&&(z=escape(V)),b=b.split(V).join(z)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var U=b.indexOf("?");if(-1!==U?(this.search=b.substr(U),this.query=b.substr(U+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,U)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var $=this.search||"";this.path=j+$}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+i},s.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(r.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var n=new s,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==g[0]&&g.unshift(""),g.length<2&&g.unshift(""),n.pathname=g.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",y=n.search||"";n.path=p+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||b||n.host&&e.pathname,E=_,S=n.pathname&&n.pathname.split("/")||[],x=(g=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===g[0]?g[0]=e.host:g.unshift(e.host)),e.host=null),_=_&&(""===g[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=g;else if(g.length)S||(S=[]),S.pop(),S=S.concat(g),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(x)n.hostname=n.host=S.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift());return n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var L=S.slice(-1)[0],A=(n.host||e.host||S.length>1)&&("."===L||".."===L)||""===L,k=0,C=S.length;C>=0;C--)"."===(L=S[C])?S.splice(C,1):".."===L?(S.splice(C,1),k++):k&&(S.splice(C,1),k--);if(!_&&!E)for(;k--;k)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),A&&"/"!==S.join("/").substr(-1)&&S.push("");var I,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);x&&(n.hostname=n.host=P?"":S.length?S.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift()));return(_=_||n.host&&S.length)&&!P&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var i=n(43),r=n(19);function s(e,t){this.id=e,this.ref=t}e.exports.SchemaScanResult=s,e.exports.scan=function(e,t){function n(e,t){if(t&&"object"==typeof t)if(t.$ref){var s=i.resolve(e,t.$ref);l[s]=l[s]?l[s]+1:0}else{var u=t.$id||t.id,d=u?i.resolve(e,u):e;if(d){if(d.indexOf("#")<0&&(d+="#"),c[d]){if(!r.deepCompareStrict(c[d],t))throw new Error("Schema <"+d+"> already exists with different definition");return c[d]}c[d]=t,"#"==d[d.length-1]&&(c[d.substring(0,d.length-1)]=t)}o(d+"/items",Array.isArray(t.items)?t.items:[t.items]),o(d+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),n(d+"/additionalItems",t.additionalItems),a(d+"/properties",t.properties),n(d+"/additionalProperties",t.additionalProperties),a(d+"/definitions",t.definitions),a(d+"/patternProperties",t.patternProperties),a(d+"/dependencies",t.dependencies),o(d+"/disallow",t.disallow),o(d+"/allOf",t.allOf),o(d+"/anyOf",t.anyOf),o(d+"/oneOf",t.oneOf),n(d+"/not",t.not)}}function o(e,t){if(Array.isArray(t))for(var i=0;i<t.length;i++)n(e+"/"+i,t[i])}function a(e,t){if(t&&"object"==typeof t)for(var i in t)n(e+"/"+i,t[i])}var c={},l={};return n(e,t),new s(c,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragSelect=t.clickSelect=t.setSelectHelperObjects=t.setSelectStrokeWidth=void 0;const i=n(4),r=n(27),s=n(7),o=n(15);let a,c,l,u,d=7;function h(e){"Escape"===e.key&&(document.getElementsByClassName("selected").length>0&&l.infoListeners(),(0,i.unselect)())}function f(e){if("selByBBox"!==(0,i.getSelectionType)()||!document.getElementById("displayText").checked||"Enter"!==e.key)return;const t=document.querySelector(".syllable-highlighted");if(t){document.querySelector("span."+t.id).click()}}function g(e){if("selByBBox"!==(0,i.getSelectionType)()||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Tab"!==e.key&&e.shiftKey)return;e.preventDefault();const t=document.querySelector(".syllable-highlighted"),n=Array.from(document.querySelectorAll(".syllable")).filter(e=>null!==e.querySelector(".sylTextRect-display")),r=n.indexOf(t);if(("ArrowLeft"===e.key||"Tab"===e.key&&e.shiftKey)&&r>0){(0,i.unselect)();const e=n[r-1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}else if(("ArrowRight"===e.key||"Tab"===e.key&&!e.shiftKey)&&r<n.length-1){(0,i.unselect)();const e=n[r+1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}const s=document.querySelector(".text-select");s&&s.scrollIntoView({behavior:"smooth"})}function p(){const e=document.getElementById("selByBBox");return!!e&&e.classList.contains("is-active")}function m(e){e.stopPropagation()}function v(e,t,n){if(p()||"use"===e.tagName){const r=function(e){if(p()){const t=Number(e.getAttribute("x")),n=Number(e.getAttribute("y"));return{ulx:t,uly:n,lrx:t+Number(e.getAttribute("width").slice(0,-2)),lry:n+Number(e.getAttribute("height").slice(0,-2))}}if("use"===e.tagName){const t=e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}return(0,i.getStaffBBox)(e)}(e);return!(n.x<r.ulx||t.x>r.lrx||n.y<r.uly||t.y>r.lry)}const r=(0,i.getStaffBBox)(e);return!(t.x<r.ulx&&n.x<r.ulx||t.x>r.lrx&&n.x>r.lrx||t.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)&&n.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)||t.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate)&&n.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate))}function y(e){if(c&&"insert"!==c.getUserMode()&&!e.shiftKey)if("use"===this.tagName&&"selByBBox"!==(0,i.getSelectionType)()){if(null===this.closest(".selected")){let e=[this];const n=/E9B[45678]/,r=/E9B[9ABC]/;if(this.getAttribute("xlink:href").match(r)){const t=this.closest(".nc"),i=this.closest(".neume"),r=Array.from(i.children).indexOf(t),s=i.children[r-1].children[0];console.assert(s.getAttribute("xlink:href").match(n),"First glyph of ligature unexpected!"),null===s.closest(".selected")&&e.unshift(s)}else if(this.getAttribute("xlink:href").match(n)){const t=this.closest(".nc"),n=this.closest(".neume"),i=Array.from(n.children).indexOf(t),s=n.children[i+1].children[0];console.assert(s.getAttribute("xlink:href").match(r),"Second glyph of ligature unexpected!"),null===s.closest(".selected")&&e.push(s)}t()&&(e=e.concat(Array.from(document.querySelectorAll(".selected")))),(0,i.selectAll)(e,c,a),a&&a.dragInit()}else if(t()){const e={selByStaff:".staff",selByNeume:".neume",selByNc:".nc",selByLayerElement:".accid"}[document.querySelector(".sel-by .is-active").id]||".syllable",t=[this.closest(e)];let n=[];n=Array.from(document.getElementsByClassName("selected")),n=n.filter(e=>!t.includes(e)),(0,i.selectAll)(n,c,a),a&&a.dragInit()}}else if("rect"===e.target.tagName&&"selByBBox"===(0,i.getSelectionType)())if(null===this.closest(".selected")){let n=[e.target];t()&&(n=n.concat(Array.from(document.getElementsByClassName("selected"))),n=n.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display"))),(0,i.selectAll)(n,c,a),a&&a.dragInit()}else{let e=[];if(t()){const t=[this];e=Array.from(document.getElementsByClassName("selected")),e=e.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display")),e=e.filter(e=>!t.includes(e)),(0,i.selectAll)(e,c,a),a&&a.dragInit()}}else{if("selByStaff"!==(0,i.getSelectionType)())return void l.infoListeners();t()||(0,i.unselect)();const n=(0,o.getStaffByCoords)(e.clientX,e.clientY);if(!n)return;n.classList.contains("selected")||((0,i.selectStaff)(n,a),(0,r.resize)(n,c,a),a&&a.dragInit()),n.dispatchEvent(new MouseEvent("mousedown",{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,view:e.view}))}function t(){return window.navigator.userAgent.match(/Mac/)?e.metaKey:e.ctrlKey}}t.setSelectStrokeWidth=function(e){d=e},t.setSelectHelperObjects=function(e,t){a=t,c=e,l=c.info,u=c.view.zoomHandler},t.clickSelect=function(e){document.querySelectorAll(e).forEach(e=>{e.removeEventListener("mousedown",y),e.addEventListener("mousedown",y)}),document.body.removeEventListener("keydown",h),document.body.addEventListener("keydown",h),document.body.removeEventListener("keydown",f),document.body.addEventListener("keydown",f),document.body.removeEventListener("keydown",g),document.body.addEventListener("keydown",g),document.getElementById("container").addEventListener("contextmenu",e=>{e.preventDefault()}),document.querySelectorAll("use,rect,#moreEdit").forEach(e=>{e.removeEventListener("click",m),e.addEventListener("click",m)})},t.dragSelect=function(e){let t=0,n=0,r=!1,o=!1;const l=s.select(e);s.selectAll(e.replace(".active-page","").trim()).on(".drag",null);const h=s.drag().on("start",(function(){if(!c)return;const e=c.getUserMode();if("use"!==s.event.sourceEvent.target.nodeName&&"insert"!==e&&"rect"!==s.event.sourceEvent.target.nodeName){if(s.event.sourceEvent.shiftKey)r=!0,void 0!==u&&u.startDrag();else if(!document.getElementById("selByStaff").classList.contains("is-active")||(f=s.mouse(this),0===Array.from(document.getElementsByClassName("staff")).filter(e=>{const t=(0,i.getStaffBBox)(e),n=t.ulx,r=t.uly,s=t.lrx,o=t.lry,a=t.rotate;return f[0]>n&&f[0]<s&&f[1]>r+(f[0]-n)*Math.tan(a)&&f[1]<o-(s-f[0])*Math.tan(a)}).length)){(0,i.unselect)(),o=!0;const e=s.mouse(this);t=e[0],n=e[1],a=t,h=n,l.append("rect").attr("x",a).attr("y",h).attr("width",0).attr("height",0).attr("id","selectRect").attr("stroke","black").attr("stroke-width",d).attr("fill","none")}}else s.event.sourceEvent.shiftKey&&(r=!0,void 0!==u&&u.startDrag());var a,h,f})).on("drag",(function(){if(!r&&o){const e=s.mouse(this),i=e[0],r=e[1];!function(e,t,n,i){s.select("#selectRect").attr("x",e).attr("y",t).attr("width",n).attr("height",i)}(i<t?i:t,r<n?r:n,i<t?t-i:i-t,r<n?n-r:r-n)}else r&&void 0!==u&&u.dragging()})).on("end",(function(){if(!r&&o){const t=document.getElementById("selectRect"),n=parseInt(t.getAttribute("x")),r=parseInt(t.getAttribute("y")),u=n+parseInt(t.getAttribute("width")),d=r+parseInt(t.getAttribute("height")),h=l.node();let f=new DOMPoint(n,r),g=new DOMPoint(u,d);const m=h.getScreenCTM().inverse().multiply(l.select(".system").node().getScreenCTM()).inverse();f=f.matrixTransform(m),g=g.matrixTransform(m);const y=function(e){return document.getElementById("selByStaff").classList.contains("is-active")?Array.from(document.querySelectorAll(e+" use, "+e+" .staff")):p()?Array.from(document.querySelectorAll(e+" .sylTextRect-display")):Array.from(document.querySelectorAll(e+" use"))}(e).filter(e=>v(e,f,g));y.forEach(e=>{if("use"===e.tagName&&e.getAttribute("xlink:href").match(/E9B[456789ABC]/)){const t=e.closest(".neume"),n=Array.from(t.children).indexOf(e.closest(".nc"));if(e.getAttribute("xlink:href").match(/E9B[45678]/)){const e=t.children[n+1].querySelector("use");y.indexOf(e)<0&&y.push(e)}else{const e=t.children[n-1].querySelector("use");y.indexOf(e)<0&&y.push(e)}}}),(0,i.selectAll)(y,c,a),a&&a.dragInit(),s.selectAll("#selectRect").remove(),o=!1}r=!1}));l.call(h),a&&a.resetTo(h)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeColumnLabel=t.checkOutOfBoundsGlyphs=t.convertToVerovio=t.isInvalidBBox=t.getSyllableText=t.convertToNeon=t.zip=void 0;const i=n(17),r=n(32),s=n(5);function o(e,t){for(const n of e.attributes)t.setAttribute(n.name,n.value)}function a(e){var t;const n=null===(t=e.querySelector("syl"))||void 0===t?void 0:t.childNodes[0];let i;return i=n?n.nodeValue:"◊",i}function c(e,t){const n=0===parseInt(t.getAttribute("lrx"))&&0===parseInt(t.getAttribute("lry"))&&0===parseInt(t.getAttribute("ulx"))&&0===parseInt(t.getAttribute("uly")),i=e.querySelector(`*[facs="${"#"+t.getAttribute("xml:id")}"]`);return n||!i?[!0,i]:[!1]}function l(e,t,n){const i=e.getAttribute("precedes").replace("#","");let r;const s=n.find((e,t)=>e.getAttribute("xml:id")===i&&(r=t,!0));if(!s)return`- &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is missing the following part\n`;if(!s.hasAttribute("follows"))return`- The following syllable of &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is not linked to any syllable\n`;if(s.getAttribute("follows")!="#"+e.getAttribute("xml:id"))return`- The following syllable of &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is linked to the wrong syllable\n`;if(r!==t+1){const i=[a(e),...n.slice(t+1,r).map(e=>a(e))].join(" - ");return`- Unexpected syllable(s) inside toggle-linked &lt;${e.tagName}&gt; (${i}) with xml:id: ${e.getAttribute("xml:id")} is linked to the wrong syllable\n`}}function u(e,t){const n=e.getAttribute("follows").replace("#",""),i=t.find(e=>e.getAttribute("xml:id")===n);return i?i.hasAttribute("precedes")?i.getAttribute("precedes")!="#"+e.getAttribute("xml:id")?`- The preceding syllable of &lt;${e.tagName}&gt; (${a(i)}) with xml:id: ${e.getAttribute("xml:id")} is linked to the wrong syllable\n`:void 0:`- The preceding syllable of &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is not linked to any syllable\n`:`- &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is missing the preceding part\n`}function d(e){const t=e.querySelectorAll("nc");let n=0,i="";for(;n<t.length;)t[n].getAttribute("ligated")&&((n<t.length-1&&!t[n+1].getAttribute("ligated")||n==t.length-1)&&(i+=`- The oblique in syllable (${a(e)}) with xml:id: ${e.getAttribute("xml:id")}\n`),n+=2),n+=1;return i}function h(e,t){e.hasAttribute("facs")&&t.push(e);for(const n of e.children)h(n,t);return t}t.zip=function(e,t){const n=[];for(let i=0;i<(e.length>t.length?t.length:e.length);i++)n.push([e[i],t[i]]);return n},t.convertToNeon=function(e){const t=new DOMParser,n=new XMLSerializer,s=t.parseFromString(e,"text/xml"),o=s.documentElement;let a=0;const c=Array.from(o.querySelectorAll('section:not([type="neon-neume-line"])'));for(const e of c){e.querySelectorAll("pb").forEach(e=>e.remove());e.querySelectorAll("sb").forEach(e=>e.remove());const t=s.createElementNS("http://www.music-encoding.org/ns/mei","staff"),n=s.createElementNS("http://www.music-encoding.org/ns/mei","layer");t.setAttribute("n","1"),n.setAttribute("n","1"),t.appendChild(n);const r=o.querySelector("surface"),c=r.getAttribute("xml:id"),u=s.createElementNS("http://www.music-encoding.org/ns/mei","pb");u.setAttribute("xml:id","m-"+(0,i.uuidv4)()),u.setAttribute("facs","#"+c),n.appendChild(u);const d=Array.from(e.querySelectorAll('section[type="neon-neume-line"]'));let h=0,f=null;for(const e of d){h+=1;const t=e.querySelector("staff");if(!t){e.remove();continue}const o=t.querySelector("layer");if(t.hasAttribute("type")&&t.getAttribute("type")!="column"+a.toString()){a+=1;const e=s.createElementNS("http://www.music-encoding.org/ns/mei","cb");e.setAttribute("n",a.toString()),e.setAttribute("xml:id","m-"+(0,i.uuidv4)()),e.setAttribute("facs","#m-"+(0,i.uuidv4)()),n.appendChild(e),f&&l(f,e,r),f=e}const c=s.createElementNS("http://www.music-encoding.org/ns/mei","sb");c.setAttribute("n",h.toString()),c.setAttribute("facs",t.getAttribute("facs")),c.setAttribute("xml:id",t.getAttribute("xml:id"));let u=void 0;for(null!==n.lastElementChild&&"custos"===n.lastElementChild.tagName&&(u=n.removeChild(n.lastElementChild)),void 0!==u&&n.appendChild(u),n.appendChild(c);null!==o.firstElementChild;)n.appendChild(o.firstElementChild);e.remove()}f&&l(f,null,r),e.appendChild(t)}if(a){const e=o.querySelector("scoreDef"),t=s.createElementNS("http://www.music-encoding.org/ns/mei","colLayout");t.setAttribute("xml:id","m-"+(0,i.uuidv4)()),t.setAttribute("n",a.toString()),e.insertAdjacentElement("afterend",t)}return r.xml(n.serializeToString(s));function l(e,t,n){const i=function e(t,n,i=[]){if(t&&t!==n){if(t.hasAttribute("facs")&&i.push(t),t.children.length>0)for(const r of t.children)e(r,n,i);t.nextElementSibling&&e(t.nextElementSibling,n,i)}return i}(e.nextElementSibling,t),r=s.createElementNS("http://www.music-encoding.org/ns/mei","zone"),o=function(e,t){let n=1/0,i=0,r=0,s=1/0;return e.forEach(e=>{const o=Array.from(t.children).find(t=>t.getAttribute("xml:id")===e.getAttribute("facs").slice(1));n=Math.min(n,parseInt(o.getAttribute("lrx"))),i=Math.max(i,parseInt(o.getAttribute("lry"))),r=Math.max(r,parseInt(o.getAttribute("ulx"))),s=Math.min(s,parseInt(o.getAttribute("uly")))}),{lrx:n,lry:i,ulx:r,uly:s}}(i,n);r.setAttribute("lrx",o.lrx.toString()),r.setAttribute("lry",o.lry.toString()),r.setAttribute("ulx",o.ulx.toString()),r.setAttribute("uly",o.uly.toString()),r.setAttribute("xml:id",e.getAttribute("facs").slice(1)),n.insertBefore(r,n.firstElementChild)}},t.getSyllableText=a,t.isInvalidBBox=c,t.convertToVerovio=function(e){const t=(new DOMParser).parseFromString(e,"text/xml"),n=t.documentElement;let a=!1;n.querySelector("facsimile").setAttribute("type","transcription");const f=n.querySelector("surface");let g=!1;const p=Array.from(f.getElementsByTagName("zone"));for(const e of p){const[t,i]=c(n,e);t&&(i&&i.parentNode.removeChild(i),e.parentNode.removeChild(e),g=!0)}g&&s.queueNotification("Removed invalid zones contained in this file","warning");const m=n.querySelector("colLayout");m&&(a=!0,m.parentNode.removeChild(m));const v=Array.from(n.getElementsByTagName("syllable"));let y=!1,b=!1,w="The following syllable(s) have no neumes: \n\n",_="The following neume(s) have no neume components: \n\n";for(const e of v){0===e.getElementsByTagName("neume").length&&(y=!0,w+=`- &lt;${e.tagName}&gt; with xml:id: ${e.getAttribute("xml:id")}\n`);const n=e.getElementsByTagName("neume");for(const e of n){const n=Array.from(e.getElementsByTagName("nc"));if(0===n.length)b=!0,_+=`- &lt;${e.tagName}&gt; with xml:id: ${e.getAttribute("xml:id")}\n`;else for(const e of n)if(e.hasAttribute("curve")&&0===e.children.length){const n=t.createElementNS("http://www.music-encoding.org/ns/mei","liquescent");n.setAttribute("xml:id","m-"+(0,i.uuidv4)()),e.appendChild(n)}}}y&&s.queueNotification("This file contains syllable(s) without neume!","warning",w),b&&s.queueNotification("This file contains neume(s) without neume component!","warning",_);const E=Array.from(n.getElementsByTagName("section"));for(const e of E){const n=Array.from(e.getElementsByTagName("staff"));for(const r of n){const n=t.createElementNS("http://www.music-encoding.org/ns/mei","pb");n.setAttribute("facs","#"+f.getAttribute("xml:id")),e.insertBefore(n,r);const s=r.querySelector("layer"),c=Array.from(s.getElementsByTagName("sb"));for(const e of c)if("layer"!==e.parentElement.tagName){const n=e.parentElement;let r=!1,s=!1;const o=Array.from(n.children),a=o.indexOf(e);for(const e of n.getElementsByTagName("neume")){const t=o.indexOf(e);t<a?r=!0:t>a&&(s=!0)}if(!r&&s)n.insertAdjacentElement("beforebegin",e);else if(r&&!s)n.insertAdjacentElement("afterend",e);else if(r&&s){const r=t.createElementNS("http://www.music-encoding.org/ns/mei","syllable");r.setAttribute("xml:id","m-"+(0,i.uuidv4)()),r.setAttribute("follows","#"+n.getAttribute("xml:id")),n.setAttribute("precedes","#"+r.getAttribute("xml:id"));const s=o.indexOf(e);for(const e of o){o.indexOf(e)>s&&r.appendChild(e)}n.insertAdjacentElement("afterend",e),e.insertAdjacentElement("afterend",r);for(const e of n.getElementsByTagName("custos"))n.insertAdjacentElement("afterend",e);for(const e of r.getElementsByTagName("clef"))r.insertAdjacentElement("beforebegin",e)}else console.warn("NONE BEHIND NONE AHEAD"),console.debug(n)}const l=Array.from(s.getElementsByTagName("sb")),u=Array.from(s.children);let d=0;for(let n=0;n<l.length;n++){const c=l[n],g=l.length>n+1?l[n+1]:void 0,m=t.createElementNS("http://www.music-encoding.org/ns/mei","sb");m.setAttribute("xml:id","m-"+(0,i.uuidv4)()),m.setAttribute("facs",c.getAttribute("facs"));const v=t.createElementNS("http://www.music-encoding.org/ns/mei","section");v.setAttribute("type","neon-neume-line");const y=t.createElementNS("http://www.music-encoding.org/ns/mei","staff");o(c,y),y.setAttribute("n","1");const b=u.indexOf(c);if(a){if("cb"===u.at(b-1).tagName){d+=1;const e=u.at(b-1),t=e.getAttribute("facs"),n=Array.from(f.querySelectorAll("zone")).find(e=>e.getAttribute("xml:id")===t.slice(1));e.parentNode.removeChild(e),n.parentNode.removeChild(n)}y.setAttribute("type","column"+d.toString())}const w=t.createElementNS("http://www.music-encoding.org/ns/mei","layer");w.setAttribute("n","1"),w.setAttribute("xml:id","m-"+(0,i.uuidv4)()),v.appendChild(y),y.appendChild(w);const _=Array.from(s.children),E=_.slice(_.indexOf(c)+1,_.indexOf(g));for(const e of E)w.appendChild(e);if(!g){const e=h(_.at(-1),[]);for(const t of e){const e=p.find(e=>e.getAttribute("xml:id")==t.getAttribute("facs").slice(1));e&&p.length>1&&e.parentNode.removeChild(e)}}e.insertBefore(m,r),e.insertBefore(v,r)}r.remove()}}const S=Array.from(n.getElementsByTagName("syllable"));let x=!1,L="The following linked syllables are not encoded correctly: \n\n",A=!1,k="The following obliques are incomplete: \n\n";for(const e of n.querySelectorAll("syllable")){for(const t of e.querySelectorAll("clef"))e.insertAdjacentElement("beforebegin",t);for(const t of e.querySelectorAll("custos"))e.insertAdjacentElement("afterend",t);const t=d(e);t&&(A=!0,k+=t);const n=S.indexOf(e);if(e.hasAttribute("precedes")){const t=l(e,n,S);t&&(x=!0,L+=t)}if(e.hasAttribute("follows")){const t=u(e,S);t&&(x=!0,L+=t)}}A&&s.queueNotification("This file contains incomplete oblique(s)","error",k),x&&s.queueNotification("This file contains invalid linked syllable(s)","error",L);const C=new XMLSerializer;return r.xml(C.serializeToString(t))},t.checkOutOfBoundsGlyphs=function(e){const t=(new DOMParser).parseFromString(e,"text/xml").documentElement,n=Array.from(t.querySelectorAll("zone")),i=t.querySelector("surface"),r=Number(i.getAttribute("lrx")),o=Number(i.getAttribute("lry"));let a="The following glyphs are out of bounds: \n\n";n.some(e=>{const n=["ulx","uly","lrx","lry"].some(t=>function(e,t){const n=Number(e.getAttribute(t));return n<0||n>("lrx"==t||"ulx"==t?r:o)}(e,t));if(n){const n=t.querySelector(`*[facs="${"#"+e.getAttribute("xml:id")}"]`);a+=`- &lt;${n.tagName}&gt; with xml:id: ${n.getAttribute("xml:id")}\n`}return n})&&s.queueNotification("This folio contains glyph(s) placed out-of-bounds!","warning",a)},t.removeColumnLabel=function(e){const t=(new DOMParser).parseFromString(e,"text/xml").documentElement;for(const e of Array.from(t.getElementsByTagName("staff")))e.hasAttribute("type")&&e.removeAttribute("type");const n=new XMLSerializer;return r.xml(n.serializeToString(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blankPage=t.sendForValidation=t.init=void 0;const i=n(13),r=fetch("/Neon/Neon-gh/assets/mei-all.rng");let s,o,a,c;function l(e){const t=e.data;if(null===t){c.textContent="VALID",c.style.color="#4bc14b";for(const e of c.children)e.remove()}else{let e="";t.forEach(t=>{e+=t+"\n"}),c.textContent="",c.style.color="red";const n=document.createElement("div");n.textContent="INVALID",n.style.cursor="pointer",c.appendChild(n),n.addEventListener("click",u.bind(this,e))}}function u(e){this.modal.setModalWindowView(i.ModalWindowView.ERROR_LOG,e),this.modal.openModalWindow()}t.init=async function(e){if(null!==document.getElementById("file-status")){const t=document.getElementById("mei_version");t.textContent="unknown",a=t;const n=document.getElementById("validation_status");n.textContent="unknown",c=n,s=new Worker("/Neon/Neon-gh/workers/Worker.js"),s.onmessage=l.bind(e)}},t.sendForValidation=async function(e){if(void 0===c||void 0===a)return;if(void 0===o){const e=await r;o=await e.text()}c.textContent="checking...",c.style.color="gray",s.postMessage({mei:e,schema:o}),a.textContent="checking...",a.style.color="gray",function(e){if(e)switch(e){case"unknown":a.textContent=e,a.style.color="gray";break;default:a.textContent=e,a.style.color="#68A7AD"}}(await async function(e){const t=(new DOMParser).parseFromString(e,"text/xml"),n=t.documentElement.getAttribute("meiversion");return n||"unknown"}(e))},t.blankPage=function(){if(void 0!==c&&void 0!==a){for(const e of c.children)e.remove();c.textContent="No MEI",c.style.color="color:gray",a.textContent="No MEI",a.style.color="color:gray"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listenUnsavedChanges=t.setSavedStatus=void 0;let i=!0;t.setSavedStatus=function(e=!1){i=e,function(){const e=document.querySelector("#file-saved"),t=i?"/Neon/Neon-gh/assets/img/saved-icon.svg":"/Neon/Neon-gh/assets/img/unsaved-icon.svg";e.setAttribute("src",t);const n=i?"Your work is saved":"You have unsaved work";e.setAttribute("alt",n)}()},t.listenUnsavedChanges=function(){window.onbeforeunload=e=>{if(!i)return e.preventDefault(),"You have unsaved changes!"}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(i){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(79)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(29))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initSelectionButtons=t.initInsertEditControls=t.bindInsertTabs=void 0;const i=n(8),r=n(18),s=n(4),o=n(3);function a(e,t){document.getElementById(e).classList.add("is-active"),document.getElementById(e).classList.contains("insertel")&&(t.insertActive(e),(0,o.setSettings)({insertMode:e}))}function c(e){document.querySelectorAll(e).forEach(e=>{e.classList.remove("is-active"),e.classList.remove("unfocused")})}t.bindInsertTabs=function(e){const t=Array.from(document.getElementsByClassName("insertTab")).map(e=>e.id);document.body.addEventListener("keydown",e=>{if(e.code.match(/^Digit\d$/)&&e.shiftKey)try{const t=Number(e.code[e.code.length-1])-1,n=document.getElementsByClassName("insertel");n[t].click()}catch(e){console.debug(e)}}),t.forEach(t=>{document.getElementById(t).addEventListener("click",()=>{c(".insertTab"),a(t,e),(0,o.setSettings)({insertTab:t}),document.getElementById("insert_data").innerHTML=i.insertTabHtml[t],function(e){const t=Array.from(document.getElementsByClassName("insertel"));t.map(e=>e.id).forEach(t=>{document.getElementById(t).addEventListener("click",()=>{c(".insertel"),a(t,e)})})}(e),c(".insertel");try{const{insertMode:t}=(0,o.getSettings)();a(t,e)}catch(t){a(document.getElementsByClassName("insertel")[0].id,e)}})})},t.initInsertEditControls=function(){const e=document.getElementById("insert_controls"),t=document.getElementById("insertMenu"),n=t.querySelector(".panel-heading-title"),i=document.getElementById("insertContents"),r=t.querySelector("svg > use"),s=document.getElementById("edit_controls"),a=document.getElementById("editMenu"),c=a.querySelector(".panel-heading-title"),l=document.getElementById("editContents"),u=a.querySelector("svg > use");e.addEventListener("click",()=>{c.classList.remove("focused"),n.classList.add("focused"),(0,o.setSettings)({userMode:"insert"}),document.querySelector(".insertel.is-active").click(),s.querySelector(".side-panel-btn.sel-by.is-active").classList.add("unfocused"),e.querySelector(".side-panel-btn.insertel.is-active").classList.remove("unfocused")}),s.addEventListener("click",()=>{n.classList.remove("focused"),c.classList.add("focused"),(0,o.setSettings)({userMode:"edit"}),e.querySelector(".side-panel-btn.insertel.is-active").classList.add("unfocused"),s.querySelector(".side-panel-btn.sel-by.is-active").classList.remove("unfocused")}),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),r.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),r.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),a.addEventListener("click",e=>{e.stopPropagation(),l.classList.contains("closed")?(l.classList.remove("closed"),l.style.padding="0.5em 0.75em",setTimeout(()=>{l.style.overflow="visible"},200),u.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(l.classList.add("closed"),l.style.overflow="hidden",setTimeout(()=>{l.style.padding="0px"},200),u.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})},t.initSelectionButtons=function(){const e=document.getElementById("selBySyllable"),t=document.getElementById("selByNeume"),n=document.getElementById("selByNc"),i=document.getElementById("selByStaff"),a=document.getElementById("selByLayerElement");e.addEventListener("click",(function(){if(!e.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selBySyllable"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),e.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("syllable")}catch(e){}}})),t.addEventListener("click",(function(){if(!t.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByNeume"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),t.classList.add("is-active"),n.classList.remove("is-active"),e.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("neume")}catch(e){}}})),n.addEventListener("click",(function(){if(!n.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByNc"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),n.classList.add("is-active"),t.classList.remove("is-active"),e.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("neume")}catch(e){}}})),i.addEventListener("click",(function(){if(!i.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByStaff"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),i.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),e.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("staff")}catch(e){}}})),a.addEventListener("click",(function(){if(!a.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByLayerElement"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),a.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),i.classList.remove("is-active"),e.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("layerElement")}catch(e){}}})),document.body.addEventListener("keydown",r=>{"1"===r.key&&e.click(),"2"===r.key&&t.click(),"3"===r.key&&n.click(),"4"===r.key&&i.click(),"5"===r.key&&a.click()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(7),r=n(15),s=n(5),o=n(3);t.default=class{constructor(e,t){this.firstClick=!0,this.insertDisabled=function(){this.type="",this.removeInsertClickHandlers(),document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetInsertHandler),document.body.removeEventListener("click",this.clickawayHandler),this.firstClick=!0;try{document.getElementById("returnToEditMode").remove()}catch(e){}const e=document.getElementById("insert_controls"),t=document.getElementById("insertMenu").querySelector(".panel-heading-title"),n=document.getElementById("edit_controls"),i=document.getElementById("editMenu").querySelector(".panel-heading-title");t.classList.remove("focused"),i.classList.add("focused"),e.querySelector(".side-panel-btn.insertel.is-active").classList.add("unfocused"),n.querySelector(".side-panel-btn.sel-by.is-active").classList.remove("unfocused"),(0,o.setSettings)({userMode:"edit"})}.bind(this),this.clickawayHandler=function(e){const t=e.target;null===t.closest(".active-page")&&null===t.closest("#insert_controls")&&null===t.closest("#svg_group")&&(this.insertDisabled(),document.body.removeEventListener("keydown",this.staffHandler),document.body.removeEventListener("keydown",this.handler))}.bind(this),this.resetInsertHandler=function(e){"Shift"===e.key&&document.querySelector(this.selector).addEventListener("click","staff"===this.type?this.staffHandler:this.handler)}.bind(this),this.keydownListener=function(e){"Escape"===e.key?(this.insertDisabled(),document.body.removeEventListener("keydown",this.staffHandler),document.body.removeEventListener("keydown",this.handler)):"Shift"===e.key&&this.removeInsertClickHandlers()}.bind(this),this.handler=function(e){e.stopPropagation();const t=(0,r.getSVGRelCoords)(e.clientX,e.clientY);if((0,r.isOutOfSVGBounds)(t.x,t.y))return(0,s.queueNotification)("[FAIL] Glyph was placed out of bounds! Insertion failed.","error");const n={action:"insert",param:{elementType:this.type,staffId:"auto",ulx:t.x,uly:t.y}};null!==this.attributes&&(n.param.attributes=this.attributes,"F"===this.attributes.shape&&(n.param.ulx-=50)),this.neonView.edit(n,this.neonView.view.getCurrentPageURI()).then(()=>this.neonView.updateForCurrentPage()).then(()=>{document.querySelector(this.selector).addEventListener("click",this.handler)})}.bind(this),this.staffHandler=function(e){const t=(0,r.getSVGRelCoords)(e.clientX,e.clientY);if((0,r.isOutOfSVGBounds)(t.x,t.y))return(0,s.queueNotification)("Staff cannot be placed out of bounds!","error");const n=document.querySelector(".active-page > .definition-scale");if(this.firstClick)this.coord=t,i.select(n).append("circle").attr("cx",t.x).attr("cy",t.y).attr("r",10).attr("id","staff-circle").attr("fill","green"),this.firstClick=!1;else{let e,n;t.x<this.coord.x||t.y<this.coord.y?(e=t,n=this.coord):(e=this.coord,n=t),document.getElementById("staff-circle").remove();const i={action:"insert",param:{elementType:"staff",staffId:"auto",ulx:e.x,uly:e.y,lrx:n.x,lry:n.y}};this.neonView.edit(i,this.neonView.view.getCurrentPageURI()).then(()=>{this.neonView.updateForCurrentPage(),this.firstClick=!0})}}.bind(this),this.removeInsertClickHandlers=function(){try{document.querySelector(this.selector).removeEventListener("click",this.staffHandler),document.querySelector(this.selector).removeEventListener("click",this.handler)}catch(e){}}.bind(this),this.neonView=e,this.selector=t}insertActive(e){const t=this.isInsertMode();switch(e){case"punctum":this.type="nc",this.attributes=null;break;case"diamond":this.type="nc",this.attributes={tilt:"se"};break;case"virga":this.type="nc",this.attributes={tilt:"s"};break;case"liquescentA":this.type="nc",this.attributes={curve:"a"};break;case"liquescentC":this.type="nc",this.attributes={curve:"c"};break;case"virgaReversed":this.type="nc",this.attributes={tilt:"n"};break;case"pes":case"clivis":case"scandicus":case"climacus":case"torculus":case"porrectus":case"pressus":const t=this.neonView.info.getContourByValue(e.charAt(0).toUpperCase()+e.slice(1));this.type="grouping",this.attributes={contour:t};break;case"cClef":case"fClef":this.type="clef",this.attributes={shape:e.charAt(0).toUpperCase()};break;case"custos":this.type="custos",this.attributes=null;break;case"divLineMaxima":this.type="divLine",this.attributes={form:"maxima"};break;case"staff":this.type="staff",this.attributes=null;break;case"flat":this.type="accid",this.attributes={accid:"f"};break;case"natural":this.type="accid",this.attributes={accid:"n"};break;default:return this.type="",this.attributes=null,void console.error("Invalid button for insertion: "+e+".")}this.removeInsertClickHandlers();try{"staff"===this.type?document.querySelector(this.selector).addEventListener("click",this.staffHandler):document.querySelector(this.selector).addEventListener("click",this.handler)}catch(e){}if(document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetInsertHandler),!t){const e=document.createElement("button");e.id="returnToEditMode",e.classList.add("side-panel-btn"),e.innerHTML="Return to Edit Mode",document.getElementById("redo").parentNode.appendChild(e),e.addEventListener("click",this.insertDisabled)}document.getElementById("editContents").addEventListener("click",this.clickawayHandler)}isInsertMode(){return""!==this.type}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undoRedoPanel=t.navbarFinalize=t.navbarDropdownMEIActionsMenu=t.navbarDropdownFileMenu=void 0,t.navbarDropdownFileMenu=document.createElement("div"),t.navbarDropdownFileMenu.classList.add("navbar-item","has-dropdown","is-hoverable");const i=document.createElement("div");i.classList.add("navbar-btn"),i.innerHTML="<div>File</div>";const r=document.createElement("div");r.classList.add("navbar-dropdown"),r.id="navbar-dropdown-options";[["save","Save"],["export","Save and Export to File"],["getmei","Download MEI"]].forEach(e=>{const t=document.createElement("div");t.id=e[0],t.classList.add("navbar-dropdown-item"),t.textContent=e[1],r.appendChild(t)}),t.navbarDropdownFileMenu.appendChild(i),t.navbarDropdownFileMenu.appendChild(r),t.navbarDropdownMEIActionsMenu=document.createElement("div"),t.navbarDropdownMEIActionsMenu.classList.add("navbar-item","has-dropdown","is-hoverable");const s=document.createElement("div");s.classList.add("navbar-btn"),s.innerHTML="<div>MEI Actions</div>";const o=document.createElement("div");o.classList.add("navbar-dropdown"),o.id="navbar-dropdown-options";[["remove-empty-syls","Remove Empty Syllables"],["remove-empty-neumes","Remove Empty Neumes"],["revert","Revert"]].forEach(e=>{const t=document.createElement("div");t.id=e[0],t.classList.add("navbar-dropdown-item"),t.textContent=e[1],o.appendChild(t)}),t.navbarDropdownMEIActionsMenu.appendChild(s),t.navbarDropdownMEIActionsMenu.appendChild(o),t.navbarFinalize='<a id="finalize" class="navbar-item"> Finalize MEI </a>',t.undoRedoPanel='<button class="side-panel-btn" id="undo">Undo</button>\n  <button class="side-panel-btn" id="redo">Redo</button>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initUndoRedoPanel=t.initNavbar=void 0;const i=n(5),r=n(47);function s(e){const t=new Array;for(const n of e)n&&!n.getElementsByTagName("syl").length&&t.push({action:"setText",param:{elementId:n.getAttribute("xml:id"),text:""}});return t}t.initNavbar=function(e){const t=document.querySelectorAll(".navbar-item.has-dropdown.is-hoverable");Array.from(t).forEach(e=>{e.addEventListener("mouseover",()=>{})}),document.getElementById("save").addEventListener("click",()=>{e.save().then(()=>{i.queueNotification("Saved","success")})}),document.body.addEventListener("keydown",t=>{"s"===t.key&&e.save().then(()=>{i.queueNotification("Saved","success")})}),document.getElementById("export").addEventListener("click",()=>{e.export().then(t=>{const n=document.createElement("a");n.href=t,n.download=e.name+".jsonld",document.body.appendChild(n),n.click(),n.remove(),i.queueNotification("Saved","success")})}),document.getElementById("getmei").addEventListener("click",()=>{const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n="data:application/mei+xml;base64,"+window.btoa((0,r.convertToNeon)(t));document.getElementById("getmei").setAttribute("href",n),document.getElementById("getmei").setAttribute("download",e.view.getPageName()+".mei")})}),document.getElementById("remove-empty-syls").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=Array.from(r.getElementsByTagName("syllable"));let o=!1;const a=[];for(const e of s)if(0===e.getElementsByTagName("neume").length){const t={action:"remove",param:{elementId:e.getAttribute("xml:id")}};a.push(t),o=!0}if(o){const n={action:"chain",param:a};e.edit(n,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Removed empty Syllables","success")):i.queueNotification("Failed to remove empty Syllables","error")})}else i.queueNotification("No empty syllables found","warning")})})),document.getElementById("remove-empty-neumes").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=Array.from(r.getElementsByTagName("neume"));let o=!1;const a=[];for(const e of s)if(0===e.getElementsByTagName("nc").length){const t={action:"remove",param:{elementId:e.getAttribute("xml:id")}};a.push(t),o=!0}if(o){const n={action:"chain",param:a};e.edit(n,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Removed empty Neumes","success")):i.queueNotification("Failed to remove empty Neumes","error")})}else i.queueNotification("No empty Neumes found","warning")})})),document.getElementById("remove-out-of-bounds-glyphs").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=r.querySelector("surface"),o=Number(s.getAttribute("lrx")),a=Number(s.getAttribute("lry"));const c=Array.from(r.querySelectorAll("zone")).filter(e=>["ulx","uly","lrx","lry"].some(t=>function(e,t){const n=Number(e.getAttribute(t));return n<0||n>("lrx"==t||"ulx"==t?o:a)}(e,t))),l=new Map(c.map(e=>[e.getAttribute("xml:id"),e])),u=Array.from(r.querySelectorAll("nc, divLine, clef, accid")).filter(e=>{if(e.hasAttribute("facs")){const t=e.getAttribute("facs").slice(1);return l.has(t)}return!1});if(0===u.length)return i.queueNotification("There are no out-of-bound glyphs to remove.","warning");const d={action:"chain",param:u.map(e=>({action:"remove",param:{elementId:e.getAttribute("xml:id")}}))};e.edit(d,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Successfully removed out-of-bounds syllables.","success")):i.queueNotification("Failed to remove out-of-bound syllables.","error")})})})),document.getElementById("untoggle-invalid-oblique").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n=(new DOMParser).parseFromString(t,"text/xml").documentElement,r=Array.from(n.getElementsByTagName("nc"));let s=!1;const o={action:"chain",param:[]},a=new Array;let c=0;for(;c<r.length;)r[c].getAttribute("ligated")&&((c<r.length-1&&!r[c+1].getAttribute("ligated")||c==r.length-1)&&(s=!0,a.push({action:"set",param:{elementId:r[c].getAttribute("xml:id"),attrType:"ligated",attrValue:""}})),c+=2),c+=1;s?(o.param=a,e.edit(o,e.view.getCurrentPageURI()).then(t=>{t?i.queueNotification("Untoggled invalid obliques","success"):i.queueNotification("Failed to untoggle invalid obliques","error"),e.updateForCurrentPage()})):i.queueNotification("No invalid obliques found","warning")})})),document.getElementById("untoggle-invalid-syls").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n=(new DOMParser).parseFromString(t,"text/xml").documentElement,r=Array.from(n.getElementsByTagName("syllable")),o=function(e){const t=[];for(let n=0;n<e.length;n++){const i=e.at(n);if(i.hasAttribute("precedes")){const r=i.getAttribute("precedes").replace("#","");let s;const o=e.find((e,t)=>e.getAttribute("xml:id")===r&&(s=t,!0));o||t.push(i),o.hasAttribute("follows")||t.push(i),o.getAttribute("follows")!="#"+i.getAttribute("xml:id")&&t.push(i),s!==n+1&&t.push(i)}if(i.hasAttribute("follows")){const n=i.getAttribute("follows").replace("#",""),r=e.find(e=>e.getAttribute("xml:id")===n);r||t.push(i),r.hasAttribute("precedes")||t.push(i),r.getAttribute("precedes")!="#"+i.getAttribute("xml:id")&&t.push(i)}}return t}(r);if(0===o.length)i.queueNotification("No invalid syllables found","warning");else{const t={action:"chain",param:[]},n=new Array;for(const e of o)if(e.hasAttribute("precedes")&&e.hasAttribute("follows")){const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("precedes").substring(1)),i=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("follows").substring(1));n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:i.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push(...s([e,t,i]))}else if(e.hasAttribute("precedes")){const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("precedes").substring(1));n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push(...s([e,t]))}else if(e.hasAttribute("follows")){const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("follows").substring(1));n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push(...s([e,t]))}t.param=n,e.edit(t,e.view.getCurrentPageURI()).then(t=>{t?i.queueNotification("Untoggled invalid syllables","success"):i.queueNotification("Failed to untoggle invalid syllables","error"),e.updateForCurrentPage()})}})})),document.getElementById("revert").addEventListener("click",(function(){window.confirm("Reverting will cause all changes to be lost. Press OK to continue.")&&e.deleteDb().then(()=>{window.location.reload()})}))},t.initUndoRedoPanel=function(e){function t(){e.undo().then(t=>{t?e.updateForCurrentPage():(i.queueNotification("There is nothing left to undo."),console.warn("Failed to undo action"))})}function n(){e.redo().then(t=>{t?e.updateForCurrentPage():(i.queueNotification("There is nothing left to redo."),console.warn("Failed to redo action"))})}document.getElementById("undo").addEventListener("click",t),document.body.addEventListener("keydown",e=>{"z"===e.key&&(e.ctrlKey||e.metaKey)&&t()}),document.getElementById("redo").addEventListener("click",n),document.body.addEventListener("keydown",e=>{("Z"===e.key||"z"===e.key&&e.shiftKey)&&(e.ctrlKey||e.metaKey)&&n()})}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(59),r=n(75),s=n(76),o=n(81),a=n(83),c=n(84),l=n(85),u=n(86),d=n(87),h=n(28),f=p("manifest"),g=p("storage");if(f){const e=`./samples/manifests/${f}.jsonld`;window.fetch(e).then(e=>{if(e.ok)return e.text();throw new Error(e.statusText)}).then(async e=>{let t;try{t=JSON.parse(e)}catch(t){return console.error(t),void console.debug(e)}let n;n=(await new Promise((e,n)=>{window.fetch(t.image).then(t=>{e(t.headers.get("Content-Type"))}).catch(e=>{n(e)})})).match(/image\/*/)?{manifest:t,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:o.default,NeumeEdit:c.default}:{manifest:t,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:s.default,NeumeEdit:a.default};new i.default(n).start()})}else{new h.default("Neon-User-Storage").getAttachment(g,"manifest").then(e=>new window.Response(e).json()).then(async e=>{let t;t=(await new Promise((t,n)=>{window.fetch(e.image).then(e=>{t(e.headers.get("Content-Type"))}).catch(e=>{n(e)})})).match(/image\/*/)?{manifest:e,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:o.default,NeumeEdit:c.default}:{manifest:e,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:s.default,NeumeEdit:a.default};new i.default(t).start()})}function p(e){let t;return window.location.search.substr(1).split("&").forEach(n=>{const i=n.split("=");i[0]===e&&(t=decodeURIComponent(i[1]))}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(60),r=n(48),s=n(62),o=n(73),a=n(13),c=n(74),l=n(49),u=n(3);t.default=class{constructor(e){(0,s.parseManifest)(e.manifest)||console.error("Unable to parse the manifest"),this.params=e,this.manifest=e.manifest}setupEdit(e){if(void 0!==e.TextView&&(this.textView=new e.TextView(this),void 0!==e.TextEdit&&(this.TextEdit=new e.TextEdit(this))),void 0!==e.NeumeEdit){this.NeumeEdit=new e.NeumeEdit(this),this.textView.updateBBoxVisibility();const{userMode:t,insertMode:n,selectionMode:i}=(0,u.getSettings)();switch(document.getElementById(n).classList.add("is-active"),document.getElementById(i).classList.add("is-active"),t){case"insert":document.getElementById(n).click();break;case"edit":default:document.getElementById(i).click()}}}start(){(0,o.default)(this).then(()=>(this.localSettings=new u.default(this.manifest["@id"]),this.view=new this.params.View(this,this.params.Display,this.manifest.image),this.name=this.manifest.title,this.core=new i.default(this.manifest),this.info=new this.params.Info(this),this.modal=new a.ModalWindow(this),r.init(this),(0,c.setDebugMode)(),(0,l.listenUnsavedChanges)(),this.setupEdit(this.params),this.core.initDb())).then(()=>this.updateForCurrentPage(!0)).then(()=>{this.view.onSVGLoad()})}updateForCurrentPage(e=!1){const t=this.view.getCurrentPage();return this.view.changePage(t,e)}redo(){return(0,l.setSavedStatus)(!1),this.core.redo(this.view.getCurrentPageURI())}undo(){return(0,l.setSavedStatus)(!1),this.core.undo(this.view.getCurrentPageURI())}getUserMode(){const{userMode:e}=(0,u.getSettings)();return e}edit(e,t){return this.core.edit(e,t)}getElementAttr(e,t){return this.core.getElementAttr(e,t)}export(){return new Promise((e,t)=>{this.core.updateDatabase().then(()=>{this.manifest.mei_annotations=this.core.getAnnotations(),this.manifest.timestamp=(new Date).toISOString();const t=new window.Blob([JSON.stringify(this.manifest,null,2)],{type:"application/ld+json"}),n=new FileReader;n.addEventListener("load",()=>{e(n.result)}),n.readAsDataURL(t)}).catch(e=>{t(e)})})}save(){return(0,l.setSavedStatus)(!0),this.core.updateDatabase()}deleteDb(){return this.core.deleteDb()}getPageURI(e){return void 0===e&&(e=this.view.getCurrentPageURI()),new Promise(t=>{this.core.getMEI(e).then(e=>{t("data:application/mei+xml;charset=utf-8,"+encodeURIComponent(e))})})}getPageMEI(e){return this.core.getMEI(e)}getPageSVG(e){return this.core.getSVG(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(47),r=n(48),s=n(61),o=n(17),a=n(28),c=n(49);t.default=class{constructor(e){this.verovioWrapper=new s.default,this.undoStacks=new Map,this.redoStacks=new Map,this.neonCache=new Map,this.parser=new DOMParser,this.db=new a.default("Neon"),this.blankPages=[],this.manifest=e,this.annotations=e.mei_annotations,this.lastPageLoaded=""}getAnnotations(){return this.annotations}async initDb(e=!1){return await new Promise((t,n)=>{this.db.get(this.manifest["@id"]).catch(e=>{if("not_found"===e.name){const e={_id:this.manifest["@id"],timestamp:this.manifest.timestamp,image:this.manifest.image,title:this.manifest.title,annotations:[]};return this.annotations.forEach(t=>{e.annotations.push(t.id)}),e}return console.error(e),n(e)}).then(async i=>{const r=/(.+[-+\u2212]\d\d)(\d\d)$/;if(new Date(i.timestamp).getTime()>(r.test(this.manifest.timestamp)?new Date(this.manifest.timestamp.replace(r,"$1:$2")).getTime():new Date(this.manifest.timestamp).getTime())&&!e){this.annotations=[];const e=i.annotations.map(e=>new Promise(t=>{this.db.get(e).then(e=>{this.annotations.push({id:e._id,type:"Annotation",body:e.body,target:e.target}),t("")}).catch(e=>{console.error(e),t("")})}));return await Promise.all(e),t(!1)}for(const e of this.annotations)await this.db.get(e.id).catch(t=>"not_found"===t.name?{_id:e.id}:(console.error(t),n(t))).then(t=>(t.body=e.body,t.target=e.target,this.db.put(t))).catch(e=>{n(e),console.error(e)});return this.db.put(i)}).then(()=>t(!0)).catch(e=>{n(e),console.error(e)})})}loadPage(e){return new Promise((t,n)=>{if(this.lastPageLoaded===e&&this.neonCache.has(e))t(this.neonCache.get(e));else if(this.neonCache.has(e))this.loadData(e,this.neonCache.get(e).mei).then(()=>{t(this.neonCache.get(e))});else if(this.blankPages.includes(e)){r.blankPage();const t=new Error("No MEI file for page "+e);t.name="missing_mei",n(t)}else{const s=this.annotations.find(t=>t.target===e);s?window.fetch(s.body).then(e=>{if(e.ok)return e.text();throw new Error(e.statusText)}).then(n=>{/<section\b[^>]*\btype="neon-neume-line"[^>]*>/.test(n)||(n=(0,i.convertToVerovio)(n)),(0,i.checkOutOfBoundsGlyphs)(n),this.loadData(e,n).then(()=>{t(this.neonCache.get(e))})}).catch(e=>{n(e)}):(r.blankPage(),this.blankPages.push(e))}})}loadData(e,t,n=!1){return r.sendForValidation((0,i.removeColumnLabel)(t)),this.lastPageLoaded=e,new Promise(i=>{const r={id:(0,o.uuidv4)(),action:"renderData",mei:t};this.verovioWrapper.addEventListener("message",function s(o){if(o.data.id===r.id){const r=this.parser.parseFromString(o.data.svg,"image/svg+xml").documentElement;this.neonCache.set(e,{svg:r,mei:t,dirty:n}),o.target.removeEventListener("message",s),i()}}.bind(this)),this.verovioWrapper.postMessage(r)})}getSVG(e){return new Promise((t,n)=>{this.loadPage(e).then(e=>{t(e.svg)}).catch(e=>{n(e)})})}getMEI(e){return new Promise((t,n)=>{this.loadPage(e).then(e=>{t(e.mei)}).catch(e=>{n(e)})})}getElementAttr(e,t){return new Promise(n=>{this.loadPage(t).then(()=>{const t={id:(0,o.uuidv4)(),action:"getElementAttr",elementId:e};this.verovioWrapper.addEventListener("message",(function e(i){i.data.id===t.id&&(i.target.removeEventListener("message",e),n(i.data.attributes))})),this.verovioWrapper.postMessage(t)})})}edit(e,t){let n;return n=this.lastPageLoaded===t?Promise.resolve(this.neonCache.get(t)):this.loadPage(t),new Promise(i=>{n.then(n=>{n.svg=null;const r=n.mei,s={id:(0,o.uuidv4)(),action:"edit",editorAction:e};this.verovioWrapper.addEventListener("message",function e(n){if(n.data.id===s.id){if(n.data.result){this.undoStacks.has(t)||this.undoStacks.set(t,[]);const e=this.undoStacks.get(t);e.push(r)>10&&this.undoStacks.set(t,e.slice(1)),this.redoStacks.set(t,[])}n.target.removeEventListener("message",e),this.updateCache(t,!0).then(()=>{i(n.data.result)}),(0,c.setSavedStatus)(!1)}}.bind(this)),this.verovioWrapper.postMessage(s)})})}updateCache(e,t){return new Promise(n=>{let s,a;const c=new Promise(e=>{const t={id:(0,o.uuidv4)(),action:"getMEI"};this.verovioWrapper.addEventListener("message",(function n(o){o.data.id===t.id&&(s=o.data.mei,o.target.removeEventListener("message",n),r.sendForValidation((0,i.removeColumnLabel)(s)),e(""))})),this.verovioWrapper.postMessage(t)}),l=new Promise(e=>{const t={id:(0,o.uuidv4)(),action:"renderToSVG"};this.verovioWrapper.addEventListener("message",(function n(i){i.data.id===t.id&&(a=i.data.svg,i.target.removeEventListener("message",n),e(""))})),this.verovioWrapper.postMessage(t)});c.then(()=>l).then(()=>{const i=this.parser.parseFromString(a,"image/svg+xml").documentElement;this.neonCache.set(e,{mei:s,svg:i,dirty:t}),n()})})}info(e){let t;return t=this.lastPageLoaded===e?Promise.resolve():this.loadPage(e),new Promise(e=>{t.then(()=>{const t={id:(0,o.uuidv4)(),action:"editInfo"};this.verovioWrapper.addEventListener("message",(function n(i){i.data.id===t.id&&(i.target.removeEventListener("message",n),e(i.data.info))})),this.verovioWrapper.postMessage(t)})})}undo(e){return new Promise(async t=>{if(!this.undoStacks.has(e))return t(!1);const n=this.undoStacks.get(e).pop();if(!n)return t(!1);const i=await this.getMEI(e);return this.redoStacks.get(e).push(i),await this.loadData(e,n,!0),t(!0)})}redo(e){return new Promise(async t=>{if(!this.redoStacks.has(e))return t(!1);const n=this.redoStacks.get(e).pop();if(!n)return t(!1);const i=await this.getMEI(e);return this.undoStacks.get(e).push(i),await this.loadData(e,n,!0),t(!0)})}async updateDatabase(){let e=!1;for(const t of this.neonCache){const n=t[0],i=t[1];if(i.dirty){e=!0;const t=this.annotations.findIndex(e=>e.target===n);let r;this.annotations[t].body.match(/^data:/)?r="data:application/mei+xml;base64,"+window.btoa(i.mei):await window.fetch(this.annotations[t].body,{method:"PUT",headers:{"Content-Type":"application/mei+xml"},body:i.mei}).then(e=>{r=e.ok?this.annotations[t].body:"data:application/mei+xml;base64,"+window.btoa(i.mei)}).catch(e=>{console.error(e),console.warn("Falling back to data URI"),r="data:application/mei+xml;base64,"+window.btoa(i.mei)}),this.annotations[t].body=r,await this.db.get(this.annotations[t].id).then(e=>(e.body=r,this.db.put(e))).then(()=>{i.dirty=!1}).catch(e=>{console.error(e)})}}e&&await this.db.get(this.manifest["@id"]).then(e=>(e.timestamp=(new Date).toISOString(),this.db.put(e))).catch(e=>{console.error(e)})}async deleteDb(){const e=await this.db.get(this.manifest["@id"]).then(e=>e.annotations);e.push(this.manifest["@id"]);const t=e.map(e=>new Promise(t=>{this.db.get(e).then(e=>this.db.remove(e)).then(()=>t())}));return Promise.all(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.verovioWorker=new Worker("/Neon/Neon-gh/workers/VerovioWorker.js")}addEventListener(e,t){return this.verovioWorker.addEventListener(e,t)}postMessage(e){return this.verovioWorker.postMessage(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseManifest=void 0;const i=n(63),r=n(64),s=n(65);t.parseManifest=function(e){const t=(0,s.validate)(e,i),n=t.instance;if(t.errors.length>0)return console.error(t.errors),!1;const o=n["@context"];return"https://ddmal.music.mcgill.ca/Neon/contexts/1/manifest.jsonld"===o||(o[0]===r[0]&&o[1].schema===r[1].schema&&o[1].title===r[1].title&&o[1].timestamp===r[1].timestamp&&o[1].image["@id"]===r[1].image["@id"]&&o[1].image["@type"]===r[1].image["@type"]&&o[1].mei_annotations["@id"]===r[1].mei_annotations["@id"]&&o[1].mei_annotations["@type"]===r[1].mei_annotations["@type"]&&o[1].mei_annotations["@container"]===r[1].mei_annotations["@container"]||(console.error("Context mismatch"),console.error(o),console.error(r),!1))}},function(e){e.exports=JSON.parse('{"type":"object","required":["@context","title","timestamp","image","mei_annotations"],"properties":{"@context":{"type":["array","string"]},"title":{"type":"string"},"timestamp":{"type":"string"},"image":{"type":"string"},"mei_annotations":{"type":"array","items":{"type":"object","required":["id","type","body","target"],"properties":{"id":{"type":"string"},"type":{"type":"string"},"body":{"type":"string"},"target":{"type":"string"}}}}}}')},function(e){e.exports=JSON.parse('["http://www.w3.org/ns/anno.jsonld",{"schema":"http://schema.org/","title":"schema:name","timestamp":"schema:dateModified","image":{"@id":"schema:image","@type":"@id"},"mei_annotations":{"@id":"Annotation","@type":"@id","@container":"@list"}}]')},function(e,t,n){"use strict";var i=e.exports.Validator=n(66);e.exports.ValidatorResult=n(19).ValidatorResult,e.exports.ValidatorResultError=n(19).ValidatorResultError,e.exports.ValidationError=n(19).ValidationError,e.exports.SchemaError=n(19).SchemaError,e.exports.SchemaScanResult=n(44).SchemaScanResult,e.exports.scan=n(44).scan,e.exports.validate=function(e,t,n){return(new i).validate(e,t,n)}},function(e,t,n){"use strict";var i=n(43),r=n(72),s=n(19),o=n(44).scan,a=s.ValidatorResult,c=s.ValidatorResultError,l=s.SchemaError,u=s.SchemaContext,d=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(f),this.attributes=Object.create(r.validators)};function h(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}d.prototype.customFormats={},d.prototype.schemas=null,d.prototype.types=null,d.prototype.attributes=null,d.prototype.unresolvedRefs=null,d.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var i=o(t||"/",e),r=t||e.$id||e.id;for(var s in i.id)this.schemas[s]=i.id[s];for(var s in i.ref)this.unresolvedRefs.push(s);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===n.schemas[e]})),this.schemas[r]},d.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},d.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},d.prototype.setSchemas=function(e){this.schemas=e},d.prototype.getSchema=function(e){return this.schemas[e]},d.prototype.validate=function(e,t,n,r){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new l("Expected `schema` to be an object or boolean");n||(n={});var s,d=t.$id||t.id,h=i.resolve(n.base||"/",d||"");if(!r){(r=new u(t,n,[],h,Object.create(this.schemas))).schemas[h]||(r.schemas[h]=t);var f=o(h,t);for(var g in f.id){var p=f.id[g];r.schemas[g]=p}}if(n.required&&void 0===e)return(s=new a(e,t,n,r)).addError("is required, but is undefined"),s;if(!(s=this.validateSchema(e,t,n,r)))throw new Error("Result undefined");if(n.throwAll&&s.errors.length)throw new c(s);return s},d.prototype.validateSchema=function(e,t,n,i){var o=new a(e,t,n,i);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var c={schema:t,ctx:i};t.extends.forEach(this.schemaTraverser.bind(this,c)),t=c.schema,c.schema=null,c.ctx=null,c=null}else t=s.deepMerge(t,this.superResolve(t.extends,i));var d=h(t);if(d){var f=this.resolve(t,d,i),g=new u(f.subschema,n,i.path,f.switchSchema,i.schemas);return this.validateSchema(e,f.subschema,n,g)}var p=n&&n.skipAttributes||[];for(var m in t)if(!r.ignoreProperties[m]&&p.indexOf(m)<0){var v=null,y=this.attributes[m];if(y)v=y.call(this,e,t,n,i);else if(!1===n.allowUnknownAttributes)throw new l("Unsupported attribute: "+m,t);v&&o.importErrors(v)}if("function"==typeof n.rewrite){var b=n.rewrite.call(this,e,t,n,i);o.instance=b}return o},d.prototype.schemaTraverser=function(e,t){e.schema=s.deepMerge(e.schema,this.superResolve(t,e.ctx))},d.prototype.superResolve=function(e,t){var n=h(e);return n?this.resolve(e,n,t).subschema:e},d.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var r=i.parse(t),o=r&&r.hash,a=o&&o.length&&t.substr(0,t.length-o.length);if(!a||!n.schemas[a])throw new l("no such schema <"+t+">",e);var c=s.objectGetPath(n.schemas[a],o.substr(1));if(void 0===c)throw new l("no such schema "+o+" located in <"+a+">",e);return{subschema:c,switchSchema:t}},d.prototype.testType=function(e,t,n,i,r){if(void 0!==r){if(null===r)throw new l('Unexpected null in "type" keyword');if("function"==typeof this.types[r])return this.types[r].call(this,e);if(r&&"object"==typeof r){var s=this.validateSchema(e,r,n,i);return void 0===s||!(s&&s.errors.length)}return!0}};var f=d.prototype.types={};f.string=function(e){return"string"==typeof e},f.number=function(e){return"number"==typeof e&&isFinite(e)},f.integer=function(e){return"number"==typeof e&&e%1==0},f.boolean=function(e){return"boolean"==typeof e},f.array=function(e){return Array.isArray(e)},f.null=function(e){return null===e},f.date=function(e){return e instanceof Date},f.any=function(e){return!0},f.object=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=d},function(e,t,n){(function(e,i){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof i&&i;o.global!==o&&o.window!==o&&o.self;var a,c=2147483647,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,g=String.fromCharCode;function p(e){throw new RangeError(h[e])}function m(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function v(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+m((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,i=[],r=0,s=e.length;r<s;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<s?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=g(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var i=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;i+=36)e=f(e/35);return f(i+36*e/(e+38))}function E(e){var t,n,i,r,s,o,a,l,u,d,h,g=[],m=e.length,v=0,y=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&p("not-basic"),g.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<m;){for(s=v,o=1,a=36;r>=m&&p("invalid-input"),((l=(h=e.charCodeAt(r++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||l>f((c-v)/o))&&p("overflow"),v+=l*o,!(l<(u=a<=w?1:a>=w+26?26:a-w));a+=36)o>f(c/(d=36-u))&&p("overflow"),o*=d;w=_(v-s,t=g.length+1,0==s),f(v/t)>c-y&&p("overflow"),y+=f(v/t),v%=t,g.splice(v++,0,y)}return b(g)}function S(e){var t,n,i,r,s,o,a,l,u,d,h,m,v,b,E,S=[];for(m=(e=y(e)).length,t=128,n=0,s=72,o=0;o<m;++o)(h=e[o])<128&&S.push(g(h));for(i=r=S.length,r&&S.push("-");i<m;){for(a=c,o=0;o<m;++o)(h=e[o])>=t&&h<a&&(a=h);for(a-t>f((c-n)/(v=i+1))&&p("overflow"),n+=(a-t)*v,t=a,o=0;o<m;++o)if((h=e[o])<t&&++n>c&&p("overflow"),h==t){for(l=n,u=36;!(l<(d=u<=s?1:u>=s+26?26:u-s));u+=36)E=l-d,b=36-d,S.push(g(w(d+E%b,0))),l=f(E/b);S.push(g(w(l,0))),s=_(n,v,i==r),n=0,++i}++n,++t}return S.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:b},decode:E,encode:S,toASCII:function(e){return v(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return v(e,(function(e){return l.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(50)(e),n(9))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(70),t.encode=t.stringify=n(71)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,s){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,h,f,g,p=e[u].replace(a,"%20"),m=p.indexOf(n);m>=0?(d=p.substr(0,m),h=p.substr(m+1)):(d=p,h=""),f=decodeURIComponent(d),g=decodeURIComponent(h),i(o,f)?r(o[f])?o[f].push(g):o[f]=[o[f],g]:o[f]=g}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?s(o(e),(function(o){var a=encodeURIComponent(i(o))+n;return r(e[o])?s(e[o],(function(e){return a+encodeURIComponent(i(e))})).join(t):a+encodeURIComponent(i(e[o]))})).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var i=n(19),r=i.ValidatorResult,s=i.SchemaError,o={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},a=o.validators={};function c(e,t,n,i,r){var s=t.throwError,o=t.throwAll;t.throwError=!1,t.throwAll=!1;var a=this.validateSchema(e,r,t,n);return t.throwError=s,t.throwAll=o,!a.valid&&i instanceof Function&&i(a),a.valid}function l(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function u(e,t,n,i,r,s){if(this.types.object(e)&&(!t.properties||void 0===t.properties[r]))if(!1===t.additionalProperties)s.addError({name:"additionalProperties",argument:r,message:"is not allowed to have the additional property "+JSON.stringify(r)});else{var o=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,r,o,n,i);var a=this.validateSchema(e[r],o,n,i.makeChild(o,r));a.instance!==s.instance[r]&&(s.instance[r]=a.instance),s.importErrors(a)}}a.type=function(e,t,n,i){if(void 0===e)return null;var s=new r(e,t,n,i),o=Array.isArray(t.type)?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,n,i))){var a=o.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));s.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return s},a.anyOf=function(e,t,n,i){if(void 0===e)return null;var o=new r(e,t,n,i),a=new r(e,t,n,i);if(!Array.isArray(t.anyOf))throw new s("anyOf must be an array");if(!t.anyOf.some(c.bind(this,e,n,i,(function(e){a.importErrors(e)})))){var l=t.anyOf.map((function(e,t){var n=e.$id||e.id;return n?"<"+n+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));n.nestedErrors&&o.importErrors(a),o.addError({name:"anyOf",argument:l,message:"is not any of "+l.join(",")})}return o},a.allOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new s("allOf must be an array");var o=new r(e,t,n,i),a=this;return t.allOf.forEach((function(t,r){var s=a.validateSchema(e,t,n,i);if(!s.valid){var c=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+r+"]";o.addError({name:"allOf",argument:{id:c,length:s.errors.length,valid:s},message:"does not match allOf schema "+c+" with "+s.errors.length+" error[s]:"}),o.importErrors(s)}})),o},a.oneOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new s("oneOf must be an array");var o=new r(e,t,n,i),a=new r(e,t,n,i),l=t.oneOf.filter(c.bind(this,e,n,i,(function(e){a.importErrors(e)}))).length,u=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==l&&(n.nestedErrors&&o.importErrors(a),o.addError({name:"oneOf",argument:u,message:"is not exactly one from "+u.join(",")})),o},a.if=function(e,t,n,s){if(void 0===e)return null;if(!i.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var o,a=c.call(this,e,n,s,null,t.if),l=new r(e,t,n,s);if(a){if(void 0===t.then)return;if(!i.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');o=this.validateSchema(e,t.then,n,s.makeChild(t.then)),l.importErrors(o)}else{if(void 0===t.else)return;if(!i.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');o=this.validateSchema(e,t.else,n,s.makeChild(t.else)),l.importErrors(o)}return l},a.propertyNames=function(e,t,n,o){if(this.types.object(e)){var a=new r(e,t,n,o),c=void 0!==t.propertyNames?t.propertyNames:{};if(!i.isSchema(c))throw new s('Expected "propertyNames" to be a schema (object or boolean)');for(var u in e)if(void 0!==l(e,u)){var d=this.validateSchema(u,c,n,o.makeChild(c));a.importErrors(d)}return a}},a.properties=function(e,t,n,i){if(this.types.object(e)){var o=new r(e,t,n,i),a=t.properties||{};for(var c in a){var u=a[c];if(void 0!==u){if(null===u)throw new s('Unexpected null, expected schema in "properties"');"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,u,n,i);var d=l(e,c),h=this.validateSchema(d,u,n,i.makeChild(u,c));h.instance!==o.instance[c]&&(o.instance[c]=h.instance),o.importErrors(h)}}return o}},a.patternProperties=function(e,t,n,i){if(this.types.object(e)){var o=new r(e,t,n,i),a=t.patternProperties||{};for(var c in e){var l=!0;for(var d in a){var h=a[d];if(void 0!==h){if(null===h)throw new s('Unexpected null, expected schema in "patternProperties"');try{var f=new RegExp(d,"u")}catch(e){f=new RegExp(d)}if(f.test(c)){l=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,h,n,i);var g=this.validateSchema(e[c],h,n,i.makeChild(h,c));g.instance!==o.instance[c]&&(o.instance[c]=g.instance),o.importErrors(g)}}}l&&u.call(this,e,t,n,i,c,o)}return o}},a.additionalProperties=function(e,t,n,i){if(this.types.object(e)){if(t.patternProperties)return null;var s=new r(e,t,n,i);for(var o in e)u.call(this,e,t,n,i,o,s);return s}},a.minProperties=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);return Object.keys(e).length>=t.minProperties||s.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),s}},a.maxProperties=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);return Object.keys(e).length<=t.maxProperties||s.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),s}},a.items=function(e,t,n,i){var s=this;if(this.types.array(e)&&void 0!==t.items){var o=new r(e,t,n,i);return e.every((function(e,r){if(Array.isArray(t.items))var a=void 0===t.items[r]?t.additionalItems:t.items[r];else a=t.items;if(void 0===a)return!0;if(!1===a)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var c=s.validateSchema(e,a,n,i.makeChild(a,r));return c.instance!==o.instance[r]&&(o.instance[r]=c.instance),o.importErrors(c),!0})),o}},a.contains=function(e,t,n,s){var o=this;if(this.types.array(e)&&void 0!==t.contains){if(!i.isSchema(t.contains))throw new Error('Expected "contains" keyword to be a schema');var a=new r(e,t,n,s);return!1===e.some((function(e,i){return 0===o.validateSchema(e,t.contains,n,s.makeChild(t.contains,i)).errors.length}))&&a.addError({name:"contains",argument:t.contains,message:"must contain an item matching given schema"}),a}},a.minimum=function(e,t,n,i){if(this.types.number(e)){var s=new r(e,t,n,i);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),s}},a.maximum=function(e,t,n,i){if(this.types.number(e)){var s=new r(e,t,n,i);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),s}},a.exclusiveMinimum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMinimum&&this.types.number(e)){var s=new r(e,t,n,i);return e>t.exclusiveMinimum||s.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),s}},a.exclusiveMaximum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var s=new r(e,t,n,i);return e<t.exclusiveMaximum||s.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),s}};var d=function(e,t,n,o,a,c){if(this.types.number(e)){var l=t[a];if(0==l)throw new s(a+" cannot be zero");var u=new r(e,t,n,o),d=i.getDecimalPlaces(e),h=i.getDecimalPlaces(l),f=Math.max(d,h),g=Math.pow(10,f);return Math.round(e*g)%Math.round(l*g)!=0&&u.addError({name:a,argument:l,message:c+JSON.stringify(l)}),u}};function h(e,t,n){var r,s=n.length;for(r=t+1;r<s;r++)if(i.deepCompareStrict(e,n[r]))return!1;return!0}a.multipleOf=function(e,t,n,i){return d.call(this,e,t,n,i,"multipleOf","is not a multiple of (divisible by) ")},a.divisibleBy=function(e,t,n,i){return d.call(this,e,t,n,i,"divisibleBy","is not divisible by (multiple of) ")},a.required=function(e,t,n,i){var s=new r(e,t,n,i);return void 0===e&&!0===t.required?s.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===l(e,t)&&s.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),s},a.pattern=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=t.pattern;try{var a=new RegExp(o,"u")}catch(e){a=new RegExp(o)}return e.match(a)||s.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),s}},a.format=function(e,t,n,s){if(void 0!==e){var o=new r(e,t,n,s);return o.disableFormat||i.isFormat(e,t.format,this)||o.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),o}},a.minLength=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)>=t.minLength||s.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),s}},a.maxLength=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)<=t.maxLength||s.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),s}},a.minItems=function(e,t,n,i){if(this.types.array(e)){var s=new r(e,t,n,i);return e.length>=t.minItems||s.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),s}},a.maxItems=function(e,t,n,i){if(this.types.array(e)){var s=new r(e,t,n,i);return e.length<=t.maxItems||s.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),s}},a.uniqueItems=function(e,t,n,i){if(!0===t.uniqueItems&&this.types.array(e)){var s=new r(e,t,n,i);return e.every(h)||s.addError({name:"uniqueItems",message:"contains duplicate item"}),s}},a.dependencies=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);for(var o in t.dependencies)if(void 0!==e[o]){var a=t.dependencies[o],c=i.makeChild(a,o);if("string"==typeof a&&(a=[a]),Array.isArray(a))a.forEach((function(t){void 0===e[t]&&s.addError({name:"dependencies",argument:c.propertyPath,message:"property "+t+" not found, required by "+c.propertyPath})}));else{var l=this.validateSchema(e,a,n,c);s.instance!==l.instance&&(s.instance=l.instance),l&&l.errors.length&&(s.addError({name:"dependencies",argument:c.propertyPath,message:"does not meet dependency required by "+c.propertyPath}),s.importErrors(l))}}return s}},a.enum=function(e,t,n,o){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new s("enum expects an array",t);var a=new r(e,t,n,o);return t.enum.some(i.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),a},a.const=function(e,t,n,s){if(void 0===e)return null;var o=new r(e,t,n,s);return i.deepCompareStrict(t.const,e)||o.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),o},a.not=a.disallow=function(e,t,n,i){var s=this;if(void 0===e)return null;var o=new r(e,t,n,i),a=t.not||t.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach((function(r){if(s.testType(e,t,n,i,r)){var a=r&&(r.$id||r.id)||r;o.addError({name:"not",argument:a,message:"is of prohibited type "+a})}})),o):null},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(13);t.default=async function(e){const t=await fetch("/Neon/Neon-gh/assets/template.html");document.body.innerHTML=await t.text(),document.getElementById("home-link").href="https://ddmal.music.mcgill.ca/Neon",document.getElementById("neon-version").textContent="a7f926a4\n",document.getElementById("neon-main-icon").src="/Neon/Neon-gh/assets/img/Neon_Icon_3.svg",Array.from(document.getElementsByClassName("external-link-icon")).forEach(e=>{e.src="/Neon/Neon-gh/assets/img/external-link.svg"}),document.getElementById("filename").innerText=e.manifest.title,document.title=e.manifest.title,document.getElementById("navbar-item-hotkeys").addEventListener("click",(function(){e.modal.setModalWindowView(i.ModalWindowView.HOTKEYS),e.modal.openModalWindow()})),document.querySelector("#debug-mode-tooltip-icon").setAttribute("src","/Neon/Neon-gh/assets/img/debug-tooltip-light.svg");const n=document.querySelector("#file-saved");n.setAttribute("src","/Neon/Neon-gh/assets/img/saved-icon.svg"),n.setAttribute("alt","Your work is saved")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDebugModeStatus=t.setDebugMode=void 0;const i=n(26),r=n(3);function s(){const e=document.getElementById("debug-mode-checkbox");(0,r.setSettings)({debugMode:e.checked});const t=document.getElementById("display-errors").parentNode,n=document.querySelector("#error_log");e.checked?t.style.display="":(t.style.display="none",n.classList.remove("visible")),(0,i.updateErrorLogVisibility)()}t.setDebugMode=function(){const e=document.querySelector("#debug-mode-checkbox"),{debugMode:t}=(0,r.getSettings)();e.checked=t,(0,i.initErrorLog)(),s(),e.addEventListener("click",()=>{s()})},t.updateDebugModeStatus=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(12),r=n(3);t.default=class{constructor(e,t,n,i){this.view=e,this.meiClass=t,this.background=n,this.zoomHandler=i;document.getElementById("display_controls").innerHTML=function(e){let t='\n    <div class="panel-heading" id="displayHeader">\n      <div class="panel-heading-title">DISPLAY</div>\n      <svg class="icon is-pulled-right">\n        <use id="toggleDisplay" class="panel-dropdown-icon" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n      </svg>\n    </div>\n    <div id="displayContents" class="panel-contents">\n      <div class="panel-content-subsection first-subsection" id="display-slider-section">\n  ';return void 0!==e&&(t+='\n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n            <div class="display-slider-title">Zoom</div>\n            <button class="side-panel-btn slider-btn" id="reset-zoom" title="Reset zoom setting">\n              <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/arrow-rotate-left-solid.svg">\n            </button>\n            <button class="side-panel-btn slider-btn" id="set-zoom-easy-edit" title="Fit to page">\n              <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/expand-icon.svg">\n            </button>\n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="25" max="400" value="100"\n              aria-labelledby="reset-zoom"\n              class="slider is-fullwidth is-large"\n              id="zoomSlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n              disabled="disabled"\n            />\n            <output id="zoomOutput" for="zoomSlider">100</output>\n          </div>\n        </div>'),t+='\n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n          <div class="display-slider-title">Glyph Opacity</div>\n            <button class="side-panel-btn slider-btn" id="toggle-glyph-opacity">\n              <img class="slider-btn-img" src="/Neon/Neon-gh//assets/img/hide-icon.svg">\n            </button>   \n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="0" max="100" value="100"\n              aria-labelledby="toggle-glyph-opacity"\n              class="slider is-fullwidth is-large"\n              id="opacitySlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n            />\n            <output id="opacityOutput" for="opacitySlider">100</output>\n          </div>\n        </div>\n        \n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n          <div class="display-slider-title">Image Opacity</div> \n            <button class="side-panel-btn slider-btn" id="toggle-bg-opacity">\n              <img class="slider-btn-img" src="/Neon/Neon-gh//assets/img/hide-icon.svg">\n            </button>   \n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="0" max="100" value="100"\n              aria-labelledby="toggle-bg-opacity"\n              class="slider is-fullwidth is-large"\n              id="bgOpacitySlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n            />\n            <output id="bgOpacityOutput" for="bgOpacitySlider">100</output>\n          </div>\n        </div>\n      </div>\n      \n      <div class="panel-content-subsection">\n\n        <div id="highlight-options-title" class="panel-sub-title">Highlight Options:</div>\n        <div class="dropdown" id="highlight-dropdown">\n          <div class="dropdown-trigger">\n            <button class="side-panel-btn" id="highlight-button" aria-haspopup="true" aria-controls="highlight-menu" style="width: auto">\n              <span>Highlight</span>\n              <span id="highlight-type">&nbsp;- Off</span>\n              <svg class="icon">\n                <use id="toggleDisplay" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n              </svg>\n            </button>\n          </div>\n          <div class="dropdown-menu" id="highlight-menu" role="menu">\n            <div class="dropdown-content">\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-selection">By Selection Mode</a>\n              <hr class="dropdown-divider"/>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-column">Column</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-staff">Staff</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-syllable">Syllable</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-neume">Neume</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-layerElement">LayerElement</a>\n              <hr class="dropdown-divider"/>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-none">None</a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="panel-content-subsection">\n        <div id="display-options-container">\n          <div id="display-options-title" class="panel-sub-title">Display Options:</div>\n\n          <div id="display-options-items">\n\n            <div id="checkbox-display-options">\n\n              <div id="display-all-container">\n                <div id="display-options-separator">\n                <div class="side-panel-btn" id="display-all-btn">Display All</div>\n              </div>\n              <div id="display-single-container"></div>\n\n              \n            </div>\n\n          </div>\n\n        </div>\n      </div>\n      \n    </div>',t}(this.zoomHandler),this.loadSettings(),this.view.addUpdateCallback(this.updateVisualization.bind(this))}setDisplayListeners(){this.zoomHandler&&i.setZoomControls(this.zoomHandler),i.initDisplayControls(this.meiClass,this.background)}loadSettings(){const{zoom:e,glyphOpacity:t,imageOpacity:n,highlightMode:i}=(0,r.getSettings)();document.querySelector("#zoomOutput")&&(document.querySelector("#zoomOutput").value=String(e),document.querySelector("#zoomSlider").value=String(e)),document.querySelector("#bgOpacityOutput").value=String(n),document.querySelector("#bgOpacitySlider").value=String(n),document.querySelector("#opacityOutput").value=String(t),document.querySelector("#opacitySlider").value=String(t);const s="none"===i?"Off":i[0].toUpperCase()+i.slice(1);document.querySelector("#highlight-type").textContent=" - "+s}updateVisualization(){i.setGlyphOpacityFromSlider(this.meiClass),i.setBgOpacityFromSlider(this.background),i.updateHighlight()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(99);t.default=class{constructor(e,t,n){this.neonView=e,this.updateCallbacks=[],this.divaReady=!1,this.diva=new i.default("container",{objectData:n}),document.getElementById("container").style.minHeight="100%",this.indexMap=new Map,this.diva.disableDragScrollable(),this.displayPanel=new t(this,"neon-container","diva-viewer-canvas"),this.loadDelay=500,this.initDivaEvents(),document.querySelector(".diva-inner").style.cursor="auto",window.onresize=()=>{const e=window.innerHeight,t=window.innerWidth;window.setTimeout(()=>{e===window.innerHeight&&t===window.innerWidth&&this.changePage(this.getCurrentPage(),!1)},this.loadDelay)}}initDivaEvents(){i.default.Events.subscribe("ManifestDidLoad",this.parseManifest.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ObjectDidLoad",this.didLoad.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ActivePageDidChange",this.changePage.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ZoomLevelDidChange",this.adjustZoom.bind(this),this.diva.settings.ID)}async changePage(e,t=!0){function n(e){if(e===this.getCurrentPage()){const t=this.indexMap.get(e);this.neonView.getPageSVG(t).then(t=>{this.updateSVG(t,e);const n="neon-container-"+e,i=document.getElementById(n);null!==i&&i.classList.add("active-page"),this.updateCallbacks.forEach(e=>e())}).catch(e=>{"not_found"!==e.name&&"missing_mei"!==e.name&&console.error(e)})}}const i=[e];Array.from(document.getElementsByClassName("active-page")).forEach(e=>{e.classList.remove("active-page")});for(const e of i)t?window.setTimeout(n.bind(this),this.loadDelay,e):n.bind(this)(e)}getCurrentPage(){return this.diva.getActivePageIndex()}getCurrentPageURI(){return this.indexMap.get(this.getCurrentPage())}adjustZoom(){new Promise(e=>{Array.from(document.getElementsByClassName("neon-container")).forEach(e=>{e.style.display="none"}),setTimeout(e,this.diva.settings.zoomDuration+100)}).then(()=>{this.changePage(this.diva.getActivePageIndex(),!0),Array.from(document.getElementsByClassName("neon-container")).forEach(e=>{const t=e.firstChild,n=parseInt(e.id.match(/\d+/)[0]);this.updateSVG(t,n),e.style.display=""})})}onSVGLoad(){this.setViewEventHandlers()}updateSVG(e,t){const n=document.getElementById("diva-1-inner"),i=this.diva.getPageDimensionsAtCurrentZoomLevel(t),r=this.diva.settings.viewHandler._viewerCore.getPageRegion(t,{includePadding:!0,incorporateViewport:!0}),s=window.getComputedStyle(n,null).getPropertyValue("margin-left"),o="neon-container-"+t.toString();let a=document.getElementById(o);for(null===a&&(a=document.createElement("div"),a.id=o,a.classList.add("neon-container"),n.appendChild(a));a.firstChild;)a.removeChild(a.firstChild);e.setAttribute("width",i.width.toString()),e.setAttribute("height",i.height.toString()),a.style.position="absolute",a.style.top=r.top+"px",a.style.left=r.left-parseInt(s)+"px",a.appendChild(e)}didLoad(){this.divaReady=!0,this.displayPanel.setDisplayListeners(),document.getElementById("loading").style.display="none"}addUpdateCallback(e){this.updateCallbacks.push(e)}removeUpdateCallback(e){const t=this.updateCallbacks.findIndex(t=>t===e);-1!==t&&this.updateCallbacks.splice(t,1)}setViewEventHandlers(){document.body.addEventListener("keydown",e=>{switch(e.key){case"h":for(const e of document.getElementsByClassName("neon-container"))e.style.visibility="hidden"}}),document.body.addEventListener("keyup",e=>{switch(e.key){case"h":for(const e of document.getElementsByClassName("neon-container"))e.style.visibility=""}})}parseManifest(e){this.indexMap.clear();for(const t of e.sequences)for(const e of t.canvases)this.indexMap.set(t.canvases.indexOf(e),e["@id"])}getPageName(){return this.diva.settings.manifest.itemTitle+" — "+this.diva.settings.manifest.pages[this.getCurrentPage()].l}}},function(e,t){var n,i,r,s;n=window.requestAnimationFrame,i="ontouchend"in document,r=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},(s=function(e,t){return this.settings=r({},s.DEFAULTS,t),this.el=e,this.ACTIVE_CLASS="kinetic-active",this._initElements(),this.el._VanillaKinetic=this,this}).DEFAULTS={cursor:"move",decelerate:!0,triggerHardware:!1,threshold:0,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,invert:!1,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},s.prototype.start=function(e){this.settings=r(this.settings,e),this.velocity=e.velocity||this.velocity,this.velocityY=e.velocityY||this.velocityY,this.settings.decelerate=!1,this._move()},s.prototype.end=function(){this.settings.decelerate=!0},s.prototype.stop=function(){this.velocity=0,this.velocityY=0,this.settings.decelerate=!0,"function"==typeof this.settings.stopped&&this.settings.stopped.call(this)},s.prototype.detach=function(){this._detachListeners(),this.el.classList.remove(this.ACTIVE_CLASS),this.el.style.cursor=""},s.prototype.attach=function(){this.el.classList.contains(this.ACTIVE_CLASS)||(this._attachListeners(),this.el.classList.add(this.ACTIVE_CLASS),this.el.style.cursor=this.settings.cursor)},s.prototype._initElements=function(){this.el.classList.add(this.ACTIVE_CLASS),r(this,{xpos:null,prevXPos:!1,ypos:null,prevYPos:!1,mouseDown:!1,throttleTimeout:1e3/this.settings.throttleFPS,lastMove:null,elementFocused:null}),this.velocity=0,this.velocityY=0;var e=this;this.documentResetHandler=function(){e._resetMouse.apply(e)};var t=document.documentElement;if(t.addEventListener("mouseup",this.documentResetHandler,!1),t.addEventListener("click",this.documentResetHandler,!1),this._initEvents(),this.el.style.cursor=this.settings.cursor,this.settings.triggerHardware)for(var n=["","-ms-","-webkit-","-moz-"],i={transform:"translate3d(0,0,0)",perspective:"1000","backface-visibility":"hidden"},s=0;s<n.length;s++){var o=n[s];for(var a in i)i.hasOwnProperty(a)&&(this.el.style[o+a]=i[a])}},s.prototype._initEvents=function(){var e=this;this.settings.events={touchStart:function(t){var n;e._useTarget(t.target,t)&&(n=t.originalEvent.touches[0],e.threshold=e._threshold(t.target,t),e._start(n.clientX,n.clientY),t.stopPropagation())},touchMove:function(t){var n;e.mouseDown&&(n=t.originalEvent.touches[0],e._inputmove(n.clientX,n.clientY),t.preventDefault&&t.preventDefault())},inputDown:function(t){e._useTarget(t.target,t)&&(e.threshold=e._threshold(t.target,t),e._start(t.clientX,t.clientY),e.elementFocused=t.target,"IMG"===t.target.nodeName&&t.preventDefault(),t.stopPropagation())},inputEnd:function(t){e._useTarget(t.target,t)&&(e._end(),e.elementFocused=null,t.preventDefault&&t.preventDefault())},inputMove:function(t){e.mouseDown&&(e._inputmove(t.clientX,t.clientY),t.preventDefault&&t.preventDefault())},scroll:function(t){"function"==typeof e.settings.moved&&e.settings.moved.call(e,e.settings),t.preventDefault&&t.preventDefault()},inputClick:function(t){if(Math.abs(e.velocity)>0||Math.abs(e.velocityY)>0)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},dragStart:function(t){if(e._useTarget(t.target,t)&&e.elementFocused)return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},selectStart:function(t){return"function"==typeof e.settings.selectStart?e.settings.selectStart.apply(e,arguments):e._useTarget(t.target,t)?(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1):void 0}},this._attachListeners()},s.prototype._inputmove=function(e,t){if((!this.lastMove||new Date>new Date(this.lastMove.getTime()+this.throttleTimeout))&&(this.lastMove=new Date,this.mouseDown&&(this.xpos||this.ypos))){var n=e-this.xpos,i=t-this.ypos;if(this.settings.invert&&(n*=-1,i*=-1),this.threshold>0){var r=Math.sqrt(n*n+i*i);if(this.threshold>r)return;this.threshold=0}this.elementFocused&&(this.elementFocused.blur(),this.elementFocused=null,this.el.focus()),this.settings.decelerate=!1,this.velocity=this.velocityY=0;var s=this.scrollLeft(),o=this.scrollTop();this.scrollLeft(this.settings.x?s-n:s),this.scrollTop(this.settings.y?o-i:o),this.prevXPos=this.xpos,this.prevYPos=this.ypos,this.xpos=e,this.ypos=t,this._calculateVelocities(),this._setMoveClasses(this.settings.movingClass),"function"==typeof this.settings.moved&&this.settings.moved.call(this,this.settings)}},s.prototype._calculateVelocities=function(){this.velocity=this._capVelocity(this.prevXPos-this.xpos,this.settings.maxvelocity),this.velocityY=this._capVelocity(this.prevYPos-this.ypos,this.settings.maxvelocity),this.settings.invert&&(this.velocity*=-1,this.velocityY*=-1)},s.prototype._end=function(){this.xpos&&this.prevXPos&&!1===this.settings.decelerate&&(this.settings.decelerate=!0,this._calculateVelocities(),this.xpos=this.prevXPos=this.mouseDown=!1,this._move())},s.prototype._useTarget=function(e,t){return"function"!=typeof this.settings.filterTarget||!1!==this.settings.filterTarget.call(this,e,t)},s.prototype._threshold=function(e,t){return"function"==typeof this.settings.threshold?this.settings.threshold.call(this,e,t):this.settings.threshold},s.prototype._start=function(e,t){this.mouseDown=!0,this.velocity=this.prevXPos=0,this.velocityY=this.prevYPos=0,this.xpos=e,this.ypos=t},s.prototype._resetMouse=function(){this.xpos=!1,this.ypos=!1,this.mouseDown=!1},s.prototype._decelerateVelocity=function(e,t){return 0===Math.floor(Math.abs(e))?0:e*t},s.prototype._capVelocity=function(e,t){var n=e;return e>0?e>t&&(n=t):e<0-t&&(n=0-t),n},s.prototype._setMoveClasses=function(e){var t=this.settings,n=this.el;n.classList.remove(t.movingClass.up),n.classList.remove(t.movingClass.down),n.classList.remove(t.movingClass.left),n.classList.remove(t.movingClass.right),n.classList.remove(t.deceleratingClass.up),n.classList.remove(t.deceleratingClass.down),n.classList.remove(t.deceleratingClass.left),n.classList.remove(t.deceleratingClass.right),this.velocity>0&&n.classList.add(e.right),this.velocity<0&&n.classList.add(e.left),this.velocityY>0&&n.classList.add(e.down),this.velocityY<0&&n.classList.add(e.up)},s.prototype._move=function(){var e=this._getScroller(),t=this,i=this.settings;i.x&&e.scrollWidth>0?(this.scrollLeft(this.scrollLeft()+this.velocity),Math.abs(this.velocity)>0&&(this.velocity=i.decelerate?t._decelerateVelocity(this.velocity,i.slowdown):this.velocity)):this.velocity=0,i.y&&e.scrollHeight>0?(this.scrollTop(this.scrollTop()+this.velocityY),Math.abs(this.velocityY)>0&&(this.velocityY=i.decelerate?t._decelerateVelocity(this.velocityY,i.slowdown):this.velocityY)):this.velocityY=0,t._setMoveClasses(i.deceleratingClass),"function"==typeof i.moved&&i.moved.call(this,i),Math.abs(this.velocity)>0||Math.abs(this.velocityY)>0?this.moving||(this.moving=!0,n((function(){t.moving=!1,t._move()}))):t.stop()},s.prototype._getScroller=function(){return this.el},s.prototype.scrollLeft=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollLeft;t.scrollLeft=e,this.settings.scrollLeft=e},s.prototype.scrollTop=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollTop;t.scrollTop=e,this.settings.scrollTop=e},s.prototype._attachListeners=function(){var e=this.el,t=this.settings;i&&(e.addEventListener("touchstart",t.events.touchStart,!1),e.addEventListener("touchend",t.events.inputEnd,!1),e.addEventListener("touchmove",t.events.touchMove,!1)),e.addEventListener("mousedown",t.events.inputDown,!1),e.addEventListener("mouseup",t.events.inputEnd,!1),e.addEventListener("mousemove",t.events.inputMove,!1),e.addEventListener("click",t.events.inputClick,!1),e.addEventListener("scroll",t.events.scroll,!1),e.addEventListener("selectstart",t.events.selectStart,!1),e.addEventListener("dragstart",t.events.dragStart,!1)},s.prototype._detachListeners=function(){var e=this.el,t=this.settings;i&&(e.removeEventListener("touchstart",t.events.touchStart,!1),e.removeEventListener("touchend",t.events.inputEnd,!1),e.removeEventListener("touchmove",t.events.touchMove,!1)),e.removeEventListener("mousedown",t.events.inputDown,!1),e.removeEventListener("mouseup",t.events.inputEnd,!1),e.removeEventListener("mousemove",t.events.inputMove,!1),e.removeEventListener("click",t.events.inputClick,!1),e.removeEventListener("scroll",t.events.scroll,!1),e.removeEventListener("selectstart",t.events.selectStart,!1),e.removeEventListener("dragstart",t.events.dragStart,!1)},window.VanillaKinetic=s},function(e,t,n){var i,r,s;
/**
 * @fileoverview dragscroll - scroll area by dragging
 * @version 0.0.8
 *
 * @license MIT, see http://github.com/asvd/dragscroll
 * @copyright 2015 asvd <heliosframework@gmail.com>
 */r=[t],void 0===(s="function"==typeof(i=function(e){var t,n,i=window,r=document,s=[],o=function(e,o){for(e=0;e<s.length;)(o=(o=s[e++]).container||o).removeEventListener("mousedown",o.md,0),i.removeEventListener("mouseup",o.mu,0),i.removeEventListener("mousemove",o.mm,0);for(s=[].slice.call(r.getElementsByClassName("dragscroll")),e=0;e<s.length;)!function(e,s,o,a,c,l){(l=e.container||e).addEventListener("mousedown",l.md=function(t){e.hasAttribute("nochilddrag")&&r.elementFromPoint(t.pageX,t.pageY)!==l||(a=1,s=t.clientX,o=t.clientY,t.preventDefault())},0),i.addEventListener("mouseup",l.mu=function(){a=0},0),i.addEventListener("mousemove",l.mm=function(i){a&&((c=e.scroller||e).scrollLeft-=t=-s+(s=i.clientX),c.scrollTop-=n=-o+(o=i.clientY),e===r.body&&((c=r.documentElement).scrollLeft-=t,c.scrollTop-=n))},0)}(s[e++])};"complete"===r.readyState?o():i.addEventListener("load",o,0),e.reset=o,window.resetDragscroll=o})?i.apply(t,r):i)||(e.exports=s)},function(e,t,n){e.exports=function(e){function t(e){let n,r,s,o=null;function a(...e){if(!a.enabled)return;const i=a,r=Number(new Date),s=r-(n||r);i.diff=s,i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";o++;const s=t.formatters[r];if("function"==typeof s){const t=e[o];n=s.call(i,t),e.splice(o,1),o--}return n}),t.formatArgs.call(i,e);(i.log||t.log).apply(i,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(r!==t.namespaces&&(r=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(80),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var n=1e3,i=6e4,r=60*i,s=24*r;function o(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*i;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return o(e,t,s,"day");if(t>=r)return o(e,t,r,"hour");if(t>=i)return o(e,t,i,"minute");if(t>=n)return o(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=r)return Math.round(e/r)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(12),r=n(82),s=n(7),o=n(3);t.default=class{constructor(e,t,n){this.neonView=e,this.container=document.getElementById("container"),this.updateCallbacks=new Array(0),this.group=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.group.id="svg_group",this.group.setAttribute("height",window.innerHeight.toString()),this.group.setAttribute("width","100%"),this.bg=document.createElementNS("http://www.w3.org/2000/svg","image"),this.bg.id="bgimg",this.bg.classList.add("background"),this.bg.setAttribute("x","0"),this.bg.setAttribute("y","0");const i=new FileReader;fetch(n).then(e=>{if(e.ok)return i.addEventListener("load",()=>{this.bg.setAttributeNS("http://www.w3.org/1999/xlink","href",i.result.toString());const e=this.bg.getBBox();if(!this.group.hasAttribute("viewBox")){let{viewBox:t}=(0,o.getSettings)();t||(t="0 0 "+e.width.toString()+" "+e.height.toString()),this.group.setAttribute("viewBox",t)}}),e.blob()}).then(e=>{i.readAsDataURL(e)}),this.svg=document.createElementNS("http://www.w3.org/svg","svg"),this.svg.id="mei_output",this.svg.classList.add("neon-container","active-page"),this.group.appendChild(this.bg),this.group.appendChild(this.svg),this.container.appendChild(this.group),this.zoomHandler=new r.default,this.displayPanel=new t(this,"neon-container","background",this.zoomHandler),this.pageURI=n,document.getElementById("loading").style.display="none"}onSVGLoad(){this.setViewEventHandlers(),this.displayPanel.setDisplayListeners()}updateSVG(e){this.group.replaceChild(e,this.svg),this.svg=e,this.svg.id="mei_output",this.svg.classList.add("neon-container","active-page");const t=parseInt(this.svg.getAttribute("height")),n=parseInt(this.svg.getAttribute("width"));this.bg.setAttribute("height",t.toString()),this.bg.setAttribute("width",n.toString());const{viewBox:r}=(0,o.getSettings)();r?this.group.setAttribute("viewBox",r):this.group.setAttribute("viewBox","0 0 "+n+" "+t),(0,i.updateHighlight)(),this.resetTransformations(),this.updateCallbacks.forEach(e=>e())}async changePage(e,t){const n=await this.neonView.getPageSVG(this.getCurrentPageURI());this.updateSVG(n)}addUpdateCallback(e){this.updateCallbacks.push(e)}removeUpdateCallback(e){const t=this.updateCallbacks.findIndex(t=>t===e);-1!==t&&this.updateCallbacks.splice(t,1)}resetTransformations(){this.displayPanel.zoomHandler.restoreTransformation(),(0,i.setGlyphOpacityFromSlider)(),(0,i.setBgOpacityFromSlider)()}getCurrentPage(){return 0}getCurrentPageURI(){return this.pageURI}setViewEventHandlers(){document.body.addEventListener("keydown",e=>{switch(e.key){case"Shift":s.select("#svg_group").on(".drag",null),s.select("#svg_group").call(s.drag().on("start",this.displayPanel.zoomHandler.startDrag.bind(this.displayPanel.zoomHandler)).on("drag",this.displayPanel.zoomHandler.dragging.bind(this.displayPanel.zoomHandler)));break;case"h":document.getElementById("mei_output").setAttribute("visibility","hidden")}}),document.body.addEventListener("keyup",e=>{switch(e.key){case"Shift":s.select("#svg_group").on(".drag",null),"viewer"!==this.neonView.getUserMode()&&this.neonView.NeumeEdit.setSelectListeners();break;case"h":document.getElementById("mei_output").setAttribute("visibility","visible")}}),s.select("#container").on("touchstart",()=>{2===s.event.touches.length&&(this.displayPanel.zoomHandler.startDrag(),s.select("#container").on("touchmove",this.displayPanel.zoomHandler.dragging.bind(this.displayPanel.zoomHandler)),s.select("#container").on("touchend",()=>{s.select("#container").on("touchmove",null)}))}),s.select("#container").on("wheel",this.displayPanel.zoomHandler.scrollZoom.bind(this.displayPanel.zoomHandler),!1),window.onresize=()=>{const e=window.innerHeight,t=document.getElementById("container");e>Number(t.getAttribute("height"))&&t.setAttribute("height",e.toString())}}getPageName(){return this.neonView.name}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ZoomHandler=t.ViewBox=void 0;const i=n(7),r=n(3);class s{constructor(e,t){this.minX=0,this.minY=0,this.width=e,this.height=t,this.imageWidth=e,this.imageHeight=t}set(e,t,n,i){this.minX=e,this.minY=t,this.width=n,this.height=i}get(){return this.minX.toString()+" "+this.minY.toString()+" "+this.width+" "+this.height}zoomTo(e){const t=this.imageHeight/e,n=this.imageWidth/e;this.width=n,this.height=t}getZoom(){return this.imageWidth/this.width}translate(e,t){this.minX+=e,this.minY+=t}}t.ViewBox=s;class o{resetZoomAndPan(e=!0){const t=document.getElementById("bgimg");this.viewBox=new s(parseInt(t.getAttribute("width")),parseInt(t.getAttribute("height"))),e&&(this.updateSVGViewBox(),(0,r.setSettings)({zoom:100}))}zoomTo(e){this.setViewBox(),this.viewBox.zoomTo(e),this.updateSVGViewBox(),(0,r.setSettings)({zoom:Math.floor(100*e)})}translate(e,t){this.setViewBox(),this.viewBox.translate(e,t),this.updateSVGViewBox()}restoreTransformation(){void 0===this.viewBox?this.resetZoomAndPan(!1):this.updateSVGViewBox()}setViewBox(){if(void 0===this.viewBox){const e=document.getElementById("bgimg");this.viewBox=new s(parseInt(e.getAttribute("width")),parseInt(e.getAttribute("height")))}const e=document.getElementById("svg_group").getAttribute("viewBox").split(" ");this.viewBox.set(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]),parseInt(e[3]))}updateSVGViewBox(){const e=this.viewBox.get();document.getElementById("svg_group").setAttribute("viewBox",e),(0,r.setSettings)({viewBox:e})}startDrag(){const e=document.getElementById("svg_group");this.dragCoordinates=e.createSVGPoint(),"touchstart"===i.event.type?(this.dragCoordinates.x=i.event.touches[0].screenX,this.dragCoordinates.y=i.event.touches[0].screenY):(this.dragCoordinates.x=i.event.x,this.dragCoordinates.y=i.event.y),this.matrix=e.getScreenCTM().inverse()}dragging(){const e=document.getElementById("svg_group"),t=e.createSVGPoint();"touchmove"===i.event.type?(t.x=i.event.touches[0].screenX,t.y=i.event.touches[0].screenY):"wheel"===i.event.type&&!1===i.event.shiftKey?(void 0===this.matrix&&(this.matrix=e.getScreenCTM().inverse()),void 0===this.dragCoordinates&&(this.dragCoordinates=e.createSVGPoint()),this.dragCoordinates.x=i.event.x,this.dragCoordinates.y=i.event.y,t.x=this.dragCoordinates.x-i.event.deltaX,t.y=this.dragCoordinates.y-i.event.deltaY,i.event.preventDefault()):(t.x=i.event.x,t.y=i.event.y);const n=t.matrixTransform(this.matrix),r=this.dragCoordinates.matrixTransform(this.matrix);this.translate(-n.x+r.x,-n.y+r.y),this.dragCoordinates=t}scrollZoom(){if("wheel"!==i.event.type)return;if(!i.event.shiftKey)return void this.dragging();const e=document.getElementById("zoomSlider");this.setViewBox();let t=this.viewBox.getZoom()-i.event.deltaX/100;t<parseInt(e.getAttribute("min"))/100&&(t=.25),t>parseInt(e.getAttribute("max"))/100&&(t=4),this.zoomTo(t),e.value=(100*t).toString(),document.getElementById("zoomOutput").value=String(Math.round(100*t))}}t.ZoomHandler=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(52),r=n(45),s=n(53),o=n(14),a=n(12),c=n(23),l=n(8),u=n(54),d=n(3);t.default=class{constructor(e){this.neonView=e,this.initEditMode()}initEditMode(){document.getElementById("insert_controls").innerHTML+=l.insertControlsPanel,document.getElementById("edit_controls").innerHTML+=l.editControlsPanel,document.getElementById("undoRedo_controls").innerHTML=u.undoRedoPanel,this.dragHandler=new c.default(this.neonView,".active-page > svg"),this.insertHandler=new s.default(this.neonView,".active-page > svg"),(0,i.bindInsertTabs)(this.insertHandler);const{insertTab:e}=(0,d.getSettings)();document.getElementById(e).click(),r.setSelectHelperObjects(this.neonView,this.dragHandler),this.setSelectListeners(),o.initNeonView(this.neonView),(0,i.initInsertEditControls)(),r.setSelectStrokeWidth(1),(0,i.initSelectionButtons)(),(0,a.setHighlightSelectionControls)(),this.neonView.view.addUpdateCallback(this.setSelectListeners.bind(this))}getUserMode(){const{userMode:e}=(0,d.getSettings)();return e}setSelectListeners(){r.clickSelect(".active-page > svg > svg, .active-page > svg > svg use, .active-page > svg > svg rect"),r.dragSelect(".active-page svg")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(52),r=n(12),s=n(55),o=n(45),a=n(53),c=n(14),l=n(23),u=n(8),d=n(54),h=n(55),f=n(3);t.default=class{constructor(e){this.neonView=e,this.initEditMode()}initEditMode(){(0,h.initNavbar)(this.neonView),document.getElementById("insert_controls").innerHTML+=u.insertControlsPanel,document.getElementById("edit_controls").innerHTML+=u.editControlsPanel,document.getElementById("undoRedo_controls").innerHTML=d.undoRedoPanel,this.dragHandler=new l.default(this.neonView,"#svg_group"),this.insertHandler=new a.default(this.neonView,"#svg_group"),(0,i.bindInsertTabs)(this.insertHandler);const{insertTab:e}=(0,f.getSettings)();document.getElementById(e).click(),o.setSelectHelperObjects(this.neonView,this.dragHandler),this.setSelectListeners(),c.initNeonView(this.neonView),(0,i.initInsertEditControls)(),(0,i.initSelectionButtons)(),(0,s.initUndoRedoPanel)(this.neonView),(0,r.setHighlightOption)("selection"),this.neonView.view.addUpdateCallback(this.setSelectListeners.bind(this))}getUserMode(){const{userMode:e}=(0,f.getSettings)();return e}setSelectListeners(){o.clickSelect("#svg_group, #svg_group use, #svg_group rect"),o.dragSelect("#svg_group")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(3),r=n(12),s=new Map([["","Punctum"],["u","Pes"],["d","Clivis"],["uu","Scandicus"],["ud","Torculus"],["du","Porrectus"],["s","Distropha"],["ss","Tristopha"],["sd","Pressus"],["dd","Climacus"],["ddu","ClimacusResupinus"],["udu","TorculusResupinus"],["dud","PorrectusFlexus"],["udd","PesSubpunctis"],["uud","ScandicusFlexus"],["uudd","ScandicusSubpunctis"],["dudd","PorrectusSubpunctis"]]);function o(){const e=document.getElementById("element_info"),t=document.getElementById("displayInfo");(0,i.setSettings)({displayInfo:t.checked}),t.checked?e.setAttribute("style",""):e.setAttribute("style","display: none"),(0,r.updateDisplayAllBtn)()}function a(){document.getElementById("element_info").innerHTML='<div class="info-bubble-container">\n      <div class="info-bubble-header">Element Info</div>\n      <div class="info-bubble-body"><i>Hover over any element to see its metadata</i></div>\n    </div>',document.getElementById("element_info").setAttribute("style","display: none"),function(){const{displayInfo:e}=(0,i.getSettings)();document.querySelector("#displayInfo").checked=e}(),o(),document.getElementById("displayInfo").addEventListener("click",o)}t.default=class{constructor(e){this.neonView=e;const t=document.getElementById("display-single-container"),n=document.createElement("label");n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Info";const i=document.createElement("input");i.id="displayInfo",i.classList.add("checkbox"),i.type="checkbox",i.checked=!1,n.appendChild(i),t.prepend(n),this.neonView.view.addUpdateCallback(this.resetInfoListeners.bind(this)),a(),this.resetInfoListeners()}infoListeners(){try{document.getElementsByClassName("active-page")[0].querySelectorAll(".neume,.custos,.clef,.accid,.divLine,.staff").forEach(e=>{e.addEventListener("mouseover",t=>{e.classList.contains("staff")||(this.isHoveringChild=!0),this.updateInfo(t)})}),document.getElementsByClassName("active-page")[0].querySelectorAll(".neume,.custos,.clef,.accid,.divLine").forEach(e=>{e.addEventListener("mouseleave",()=>{this.isHoveringChild=!1})})}catch(e){}}stopListeners(){document.querySelectorAll(".neume,.custos,.clef,.accid,.divLine,.staff").forEach(e=>{e.removeEventListener("mouseover",this.updateInfo.bind(this))}),document.querySelectorAll(".neume, .custos, .clef, .accid, .divLine").forEach(e=>{e.removeEventListener("mouseleave",()=>{this.isHoveringChild=!1})})}resetInfoListeners(){this.stopListeners(),this.infoListeners()}async updateInfo(e){const t=e.currentTarget.id;if(""===t)return Array.from(document.getElementById("element_info").children).forEach(e=>{e.remove()}),void console.log("No id!");const n=document.getElementById(t),i=n.getAttribute("class").match(/neume|clef|custos|staff|accid|divLine/)[0];let r,s="";switch(i){case"neume":{const e=n.querySelectorAll(".nc");if(1===e.length){const t=await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI());if("a"===t.curve||"c"===t.curve){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Liquescent\r\nPitch(es): "+t;break}}let t=await this.getContour(e);if(1===e.length){const t=await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI());if("s"===t.tilt){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Virga \r\nPitch(es): "+t;break}if("n"===t.tilt){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Reversed Virga \r\nPitch(es): "+t;break}}if("Clivis"===t){(await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI())).ligated&&(t="Ligature")}let i=await this.getPitches(e);i=i.trim().toUpperCase(),s="Shape: "+(void 0===t?"Compound":t)+"\r\nPitch(es): "+i;break}case"custos":r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),s+="Pitch: "+r.pname.toUpperCase()+r.oct;break;case"accid":{r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI());let e="";"F"==r.accid.toUpperCase()?e="Flat":"N"==r.accid.toUpperCase()&&(e="Natural"),s+="Accid Type: "+e;break}case"clef":{const e=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI());if(e["dis.place"]&&void 0!==e.dis){s+="Octave Displacement: "+((e,t)=>("above"===e?"+":"-")+String(Math.floor(Number(t)/7)))(e["dis.place"],e.dis)+"\r\n"}else s+="Octave Displacement: None\r\n";s+="Shape: "+e.shape+"\r\nLine: "+e.line;break}case"divLine":r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),s+="DivLine Type: "+r.form;break;case"staff":if(this.isHoveringChild)return;r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),r.type&&(s+="Column: "+r.type.replace(/^column/,""));break;default:s+="nothing"}s=`Element Type: ${i.charAt(0).toUpperCase()+i.slice(1)}\n${s}`,this.updateInfoModule(s)}async getPitches(e){let t="";for(const n of e){const e=await this.neonView.getElementAttr(n.id,this.neonView.view.getCurrentPageURI());t+=e.pname+e.oct+" "}return t}async getContour(e){let t="",n=null;for(const i of e){const e=await this.neonView.getElementAttr(i.id,this.neonView.view.getCurrentPageURI());null!==n&&(n.oct>e.oct?t+="d":n.oct<e.oct||this.pitchNameToNum(n.pname)<this.pitchNameToNum(e.pname)?t+="u":this.pitchNameToNum(n.pname)>this.pitchNameToNum(e.pname)?t+="d":t+="s"),n=e}return void 0===s.get(t)&&console.warn("Unknown contour: "+t),s.get(t)}updateInfoModule(e){document.getElementsByClassName("info-bubble-body")[0].innerText=e,document.getElementById("displayInfo").checked&&(document.getElementsByClassName("info-bubble-container")[0].style.display="")}pitchNameToNum(e){switch(e){case"c":return 1;case"d":return 2;case"e":return 3;case"f":return 4;case"g":return 5;case"a":return 6;case"b":return 7;default:console.log("Unknown pitch name")}}getContourByValue(e){for(const[t,n]of s.entries())if(n===e)return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(5),r=n(4),s=n(12),o=n(3);t.default=class{constructor(e){this.neonView=e,this.notificationSent=!1;const t=document.getElementById("display-single-container"),n=document.createElement("label"),i=document.createElement("label"),r=document.createElement("input"),s=document.createElement("input");r.classList.add("checkbox"),s.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),i.classList.add("checkbox-container","side-panel-btn"),n.textContent="Text",i.textContent="BBoxes",r.id="displayText",r.type="checkbox",s.id="displayBBox",s.type="checkbox",r.checked=!1,s.checked=!1,n.appendChild(r),i.appendChild(s),t.prepend(i),t.prepend(n),this.loadSettings(),this.setTextViewControls(),this.neonView.view.addUpdateCallback(this.updateTextViewVisibility.bind(this)),this.neonView.view.addUpdateCallback(this.updateBBoxVisibility.bind(this))}setTextViewControls(){this.updateTextViewVisibility(),this.updateBBoxVisibility(),document.getElementById("displayText").addEventListener("click",()=>{this.updateTextViewVisibility(),(0,s.updateDisplayAllBtn)()}),document.getElementById("displayBBox").addEventListener("click",()=>{this.updateBBoxVisibility(),(0,s.updateDisplayAllBtn)()})}loadSettings(){const{displayText:e,displayBBox:t}=(0,o.getSettings)();document.querySelector("#displayText").checked=e,document.querySelector("#displayBBox").checked=t}updateBBoxVisibility(){var e;const t=document.getElementById("displayBBox");if((0,o.setSettings)({displayBBox:t.checked}),t.checked){if(document.querySelectorAll(".sylTextRect").forEach(e=>{e.classList.add("sylTextRect-display"),e.classList.remove("sylTextRect")}),document.querySelectorAll(".syl.selected .sylTextRect-display").forEach(e=>{e.style.fill="red"}),"viewer"!==this.neonView.getUserMode()&&void 0!==this.neonView.TextEdit){this.neonView.TextEdit.initSelectByBBoxButton(),this.neonView.TextEdit.initBBoxCircleSlider();const{circleSize:e}=(0,o.getSettings)();document.querySelector("#circleOutput").value=String(e),document.querySelector("#circleSlider").value=String(e)}}else{(null===(e=document.getElementById("selByBBox"))||void 0===e?void 0:e.classList.contains("is-active"))&&((0,r.unselect)(),document.getElementById("selByBBox").classList.remove("is-active"),document.getElementById("selBySyllable").classList.add("is-active"),(0,o.setSettings)({selectionMode:"selBySyllable"})),document.querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("sylTextRect"),e.classList.remove("sylTextRect-display")}),document.querySelectorAll(".syl.selected .sylTextRect").forEach(e=>{e.style.fill="none"});try{document.getElementById("selByBBox").style.display="none"}catch(e){}try{document.getElementById("bbox-circle-slider").style.display="none"}catch(e){}}(0,s.updateHighlight)()}updateTextViewVisibility(){const e=document.getElementById("displayText");if((0,o.setSettings)({displayText:e.checked}),e.checked){const e=document.getElementById("syl_text");e.style.display="",e.innerHTML=`<div class="info-bubble-container">\n          <div class="info-bubble-header">Syllables on this page</div>\n          <div class="info-bubble-body">${this.getSylText()}</div>\n        </div>`;e.querySelectorAll("span").forEach(e=>{const t=document.getElementById(e.classList[0]),n=t.querySelector(".syl"),i=n.querySelector("text"),r=n.querySelector("rect");0===i.classList.length&&i.classList.add("text"),e.addEventListener("mouseover",()=>{t.classList.contains("syllable-highlighted")||(t.classList.add("selected"),t.querySelectorAll(".neume").forEach(e=>{e.classList.add("selected")}),null!==r&&(r.style.fill="#d00"))}),e.addEventListener("mouseleave",()=>{t.classList.contains("syllable-highlighted")||(t.classList.remove("selected"),t.querySelectorAll(".neume").forEach(e=>{e.classList.remove("selected")}),null!==r&&("rgb(0, 0, 0)"!==t.style.fill?r.style.fill=t.getAttribute("fill"):r.style.fill="blue"))})}),"viewer"!==this.neonView.getUserMode()&&void 0!==this.neonView.TextEdit&&this.neonView.TextEdit.initTextEdit()}else document.getElementById("syl_text").style.display="none"}getSylText(){let e="";return document.querySelectorAll(".active-page .syllable").forEach(t=>{if(null!==t.querySelector(".syl")){const n=t.querySelector(".syl");e+=`<span class="${t.id} syl-text-side-panel">`,""===n.textContent.trim()?e+="&#x25CA; ":Array.from(n.children[0].children[0].children).forEach(t=>{e+=""!==t.textContent?t.textContent:"&#x25CA; "}),e+=" </span>"}}),this.notificationSent||(i.queueNotification("Blank syllables are represented by ◊!"),this.notificationSent=!0),e.replace(/\ue551/g,"-")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),r=n(23),s=n(45),o=n(18),a=n(13),c=n(3),l=n(12);function u(){if(!document.getElementById("selByBBox").classList.contains("is-active")){(0,i.unselect)(),(0,c.setSettings)({selectionMode:"selByBBox"});try{document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden")}catch(e){}document.getElementById("selByBBox").classList.add("is-active");try{document.getElementById("selByNc").classList.remove("is-active"),document.getElementById("selByNeume").classList.remove("is-active"),document.getElementById("selByStaff").classList.remove("is-active"),document.getElementById("selBySyllable").classList.remove("is-active"),document.getElementById("selByLayerElement").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,o.setGroupingHighlight)("syllable")}catch(e){}}this.addBBoxListeners()}t.default=class{constructor(e){this.neonView=e,this.initTextEdit()}initTextEdit(){const e=document.getElementById("syl_text").querySelectorAll("span"),t=this.neonView.modal;e.forEach(e=>{function n(){e.classList.add("selected-to-edit"),t.setModalWindowView(a.ModalWindowView.EDIT_TEXT),t.openModalWindow()}e.removeEventListener("click",n),e.addEventListener("click",n)}),document.addEventListener("keydown",e=>{if(e.shiftKey&&"T"===e.key){const e=document.querySelector(".text-select");e&&e.scrollIntoView({behavior:"smooth"})}})}initSelectByBBoxButton(){if(void 0!==this.neonView.NeumeEdit){const e=document.getElementById("selByBBox");if(e)return void(e.style.display="");const t=document.getElementById("selection-mode-btns-container"),n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),n.addEventListener("click",u.bind(this)),document.body.addEventListener("keydown",e=>{"6"===e.key&&""===document.getElementById("selByBBox").style.display&&u.bind(this)()}),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}else{const e=document.getElementById("undo").closest(".control"),t=document.createElement("p");t.classList.add("control");const n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),e.appendChild(t),n.classList.add("is-active"),n.style.display="none",this.addBBoxListeners(),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}}addBBoxListeners(){document.getElementById("selByBBox").classList.contains("is-active")&&((0,i.unselect)(),void 0===this.neonView.NeumeEdit&&(this.dragHandler=new r.default(this.neonView,".sylTextRect-display"),(0,s.setSelectHelperObjects)(this.neonView,this.dragHandler),"SingleView"===this.neonView.view.constructor.name?((0,s.clickSelect)("#mei_output, #mei_output rect"),(0,s.dragSelect)("#svg_group")):((0,s.clickSelect)(".active-page > svg > svg, .active-page > svg > svg rect"),(0,s.dragSelect)(".active-page svg"))))}initBBoxCircleSlider(){const e=document.getElementById("bbox-circle-slider");if(e)return void(e.style.display="");const t=document.getElementById("display-slider-section"),n=document.createElement("div");n.classList.add("slider-and-slider-actions-container","display-panel"),n.style.cursor="default",n.id="bbox-circle-slider",n.innerHTML='\n    <div class="slider-actions-container">\n        <div class="display-slider-title">BBox Circle</div>\n        <button class="side-panel-btn slider-btn" id="reset-circle-size" title="Reset circle size">\n            <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/arrow-rotate-left-solid.svg">\n        </button>\n    </div>\n    <div class="slider-container">\n        <input type="range"\n            step="1" min="0" max="50" value="25"\n            aria-labelledby="reset-circle-size"\n            class="slider is-fullwidth is-large"\n            id="circleSlider"\n            style="padding-left: 1rem; padding-right: 1rem;"\n            disabled="disabled"\n        />\n        <output id="circleOutput" for="circleSlider">25</output>\n    </div>',t.appendChild(n),void 0===this.neonView.NeumeEdit&&(n.style.display="none"),(0,l.setCircleSizeControls)()}}},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(77),n(78);function i(e){const t=document.createElement(e),n=Array.prototype.slice.call(arguments,1);for(;n.length;){r(t,n.shift())}return t}function r(e,t){if(null!=t)if("object"!=typeof t&&"function"!=typeof t)e.appendChild(document.createTextNode(t));else if(t instanceof window.Node)e.appendChild(t);else if(t instanceof Array){const n=t.length;for(let i=0;i<n;i++)r(e,t[i])}else s(e,t)}function s(e,t){for(const n in t)t.hasOwnProperty(n)&&("style"===n?o(e,t.style):e.setAttribute(n,t[n]))}function o(e,t){if(t)if("object"==typeof t)for(const n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);else e.style.cssText=t}function a(e){this.name="DivaParentElementNotFoundException",this.message=e,this.stack=(new Error).stack}function c(e){this.name="NotAnIIIFManifestException",this.message=e,this.stack=(new Error).stack}function l(e){this.name="ObjectDataNotSuppliedException",this.message=e,this.stack=(new Error).stack}a.prototype=new Error,c.prototype=new Error,l.prototype=new Error;var u={Events:new class{constructor(){this._cache={}}publish(e,t,n){if(this._cache[e]){const i=this._cache[e];if(void 0!==i.global){const e=i.global,r=e.length;for(let i=0;i<r;i++)e[i].apply(n||null,t||[])}if(n&&void 0!==n.getInstanceId){const i=n.getInstanceId();if(this._cache[e][i]){const r=this._cache[e][i],s=r.length;for(let e=0;e<s;e++)r[e].apply(n,t||[])}}}}subscribe(e,t,n){return this._cache[e]||(this._cache[e]={}),"string"==typeof n?(this._cache[e][n]||(this._cache[e][n]=[]),this._cache[e][n].push(t)):(this._cache[e].global||(this._cache[e].global=[]),this._cache[e].global.push(t)),n?[e,t,n]:[e,t]}unsubscribe(e,t){const n=e[0];if(this._cache[n]){let i;const r=3===e.length?e[2]:"global";if(i=this._cache[n][r],!i)return!1;if(t)return delete this._cache[n][r],i.length>0;let s=i.length;for(;s--;)if(i[s]===e[1])return this._cache[n][r].splice(s,1),!0}return!1}unsubscribeAll(e){if(e){const t=Object.keys(this._cache);let n,i=t.length;for(;i--;)n=t[i],void 0!==this._cache[n][e]&&delete this._cache[n][e]}else this._cache={}}}};var d={onDoubleClick:function(e,t){e.addEventListener("dblclick",(function(e){e.ctrlKey||t(e,g(e.currentTarget,e))}));const n=f(500);e.addEventListener("contextmenu",(function(e){e.preventDefault(),e.ctrlKey&&(n.isTriggered()?(n.reset(),t(e,g(e.currentTarget,e))):n.trigger())}))},onPinch:function(e,t){let n=0;e.addEventListener("touchstart",(function(e){e.preventDefault(),2===e.originalEvent.touches.length&&(n=h(e.originalEvent.touches[0].clientX,e.originalEvent.touches[0].clientY,e.originalEvent.touches[1].clientX,e.originalEvent.touches[1].clientY))})),e.addEventListener("touchmove",(function(e){if(e.preventDefault(),2===e.originalEvent.touches.length){const i=e.originalEvent.touches,r=h(i[0].clientX,i[0].clientY,i[1].clientX,i[1].clientY),s=r-n;if(Math.abs(s)>0){const s={pageX:(i[0].clientX+i[1].clientX)/2,pageY:(i[0].clientY+i[1].clientY)/2};t(e,g(e.currentTarget,s),n,r)}}}))},onDoubleTap:function(e,t){const n=f(250);let i=null;e.addEventListener("touchend",e=>{if(e.preventDefault(),n.isTriggered()){n.reset();const r={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY};h(i.pageX,i.pageY,r.pageX,r.pageY)<50&&t(e,g(e.currentTarget,r)),i=null}else i={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY},n.trigger()})}};function h(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))}function f(e){let t=!1,n=null;return{trigger(){t=!0,i(),n=setTimeout((function(){t=!1,n=null}),e)},isTriggered:()=>t,reset(){t=!1,i()}};function i(){null!==n&&(clearTimeout(n),n=null)}}function g(e,t){const n=e.getBoundingClientRect();return{left:t.pageX-n.left,top:t.pageY-n.top}}var p=n(31);class m{constructor(e,t){this.page=e,this._viewerCore=t,this._innerElement=this._viewerCore.getSettings().innerElement,this._pageToolsElem=null,this.labelWidth=0}mount(){null===this._pageToolsElem&&(this._buttons=this._initializePageToolButtons(),this._pageToolsElem=i("div",{class:"diva-page-tools-wrapper"},i("div",{class:"diva-page-tools"},this._buttons)),this._pageLabelsElem=i("div",{class:"diva-page-labels-wrapper"},i("div",{class:"diva-page-labels"},this._viewerCore.settings.manifest.pages[this.page].l))),this.refresh(),this._innerElement.appendChild(this._pageToolsElem),this._innerElement.appendChild(this._pageLabelsElem)}_initializePageToolButtons(){const e=this._viewerCore.getSettings(),t=this._viewerCore.getPublicInstance(),n=this.page;return this._viewerCore.getPageTools().map(i=>{const r=i.pageToolsIcon.cloneNode(!0);return r.addEventListener("click",r=>{i.handleClick.call(i,r,e,t,n)},!1),r.addEventListener("touchend",r=>{r.preventDefault(),i.handleClick.call(i,r,e,t,n)},!1),r})}unmount(){this._innerElement.removeChild(this._pageToolsElem),this._innerElement.removeChild(this._pageLabelsElem)}refresh(){const e=this._viewerCore.getPageRegion(this.page,{includePadding:!0,incorporateViewport:!0});let t=window.getComputedStyle(this._innerElement,null).getPropertyValue("margin-left");this._pageToolsElem.style.top=e.top+"px",this._pageToolsElem.style.left=e.left-parseInt(t)+"px",this._pageLabelsElem.style.top=e.top+"px",this._pageLabelsElem.style.left=e.right-parseInt(t)-this.labelWidth-5+"px"}}class v{constructor(e){if(this._viewerCore=e,this._viewerState=e.getInternalState(),this._overlays=[],this._viewerCore.getPageTools().length){const t=e.getSettings().numPages;for(let n=0;n<t;n++){const t=new m(n,e);this._overlays.push(t),this._viewerCore.addPageOverlay(t);let i=document.createElement("span");i.innerHTML=e.settings.manifest.pages[n].l,i.classList.add("diva-page-labels"),i.setAttribute("style","display: inline-block;"),document.body.appendChild(i);let r=i.clientWidth;document.body.removeChild(i),t.labelWidth=r}}}onDoubleClick(e,t){const n=this._viewerCore.getSettings(),i=e.ctrlKey?n.zoomLevel-1:n.zoomLevel+1,r=this._viewerCore.getPagePositionAtViewportOffset(t);this._viewerCore.zoom(i,r)}onPinch(e,t,n,i){const r=this._viewerCore.getInternalState(),s=this._viewerCore.getSettings();let o=Math.log(Math.pow(2,s.zoomLevel)*i/(n*Math.log(2)))/Math.log(2);if(o=Math.max(s.minZoomLevel,o),o=Math.min(s.maxZoomLevel,o),o===s.zoomLevel)return;const a=this._viewerCore.getPagePositionAtViewportOffset(t),c=this._viewerCore.getCurrentLayout().getPageToViewportCenterOffset(a.anchorPage,r.viewport),l=1/Math.pow(2,s.zoomLevel-o);this._viewerCore.reload({zoomLevel:o,goDirectlyTo:a.anchorPage,horizontalOffset:c.x-a.offset.left+a.offset.left*l,verticalOffset:c.y-a.offset.top+a.offset.top*l})}onViewWillLoad(){this._viewerCore.publish("DocumentWillLoad",this._viewerCore.getSettings())}onViewDidLoad(){this._handleZoomLevelChange();const e=this._viewerCore.getSettings().activePageIndex,t=this._viewerCore.getPageName(e);this._viewerCore.publish("DocumentDidLoad",e,t)}onViewDidUpdate(e,t){const n=null!==t?t:function(e,t,n){const i=n.top+n.height/2,r=n.left+n.width/2,s=Object(p.maxBy)(e,e=>{const n=t.getPageDimensions(e),s=t.getPageOffset(e,{includePadding:!0}),o=s.left+n.width/2,a=s.top+n.height/2,c=Math.max(Math.abs(r-o)-n.width/2,0),l=Math.max(Math.abs(i-a)-n.height/2,0);return-(c*c+l*l)});return null!=s?s:null}(e,this._viewerCore.getCurrentLayout(),this._viewerCore.getViewport());let i=this._viewerState.viewport.intersectionTolerance;this._viewerState.viewport.intersectionTolerance=0;let r=e.filter(e=>this._viewerState.renderer.isPageVisible(e));this._viewerState.viewport.intersectionTolerance=i,null!==n&&this._viewerCore.setCurrentPages(n,r),null!==t&&this._viewerCore.publish("ViewerDidJump",t),this._handleZoomLevelChange()}_handleZoomLevelChange(){const e=this._viewerState,t=e.options.zoomLevel;e.oldZoomLevel!==t&&e.oldZoomLevel>=0&&(e.oldZoomLevel<t?this._viewerCore.publish("ViewerDidZoomIn",t):this._viewerCore.publish("ViewerDidZoomOut",t),this._viewerCore.publish("ViewerDidZoom",t)),e.oldZoomLevel=t}destroy(){this._overlays.forEach(e=>{this._viewerCore.removePageOverlay(e)},this)}}class y{constructor(e){this._viewerCore=e}onDoubleClick(e,t){const n=this._viewerCore.getPagePositionAtViewportOffset(t),i=this._viewerCore.getCurrentLayout(),r=this._viewerCore.getViewport(),s=i.getPageToViewportCenterOffset(n.anchorPage,r);this._viewerCore.reload({inGrid:!1,goDirectlyTo:n.anchorPage,horizontalOffset:s.x+n.offset.left,verticalOffset:s.y+n.offset.top})}onPinch(){this._viewerCore.reload({inGrid:!1})}onViewWillLoad(){}onViewDidLoad(){}onViewDidUpdate(e,t){if(0===e.length)return;let n=this._viewerCore.viewerState.viewport.intersectionTolerance;this._viewerCore.viewerState.viewport.intersectionTolerance=0;let i=e.filter(e=>this._viewerCore.viewerState.renderer.isPageVisible(e));if(this._viewerCore.viewerState.viewport.intersectionTolerance=n,null!==t)return void this._viewerCore.setCurrentPages(t,i);const r=this._viewerCore.getCurrentLayout(),s=[];e.forEach(e=>{const t=r.getPageInfo(e).group;0!==s.length&&t===s[s.length-1]||s.push(t)});const o=this._viewerCore.getViewport();let a;a=1===s.length||s[0].region.top>=o.top?s[0]:s[1].region.bottom<=o.bottom?s[1]:function(e,t){const n=t.top+t.height/2;return Object(p.maxBy)(e,e=>{const t=e.region.top+e.dimensions.height/2;return-Math.abs(n-t)})}(s,o);const c=this._viewerCore.getSettings().activePageIndex;a.pages.some(e=>e.index===c)||this._viewerCore.setCurrentPages(a.pages[0].index,i)}destroy(){}}class b{constructor(){this._pages={},this._renderedPages=[],this._renderedPageMap={}}addOverlay(e){(this._pages[e.page]||(this._pages[e.page]=[])).push(e),this._renderedPageMap[e.page]&&e.mount()}removeOverlay(e){const t=e.page,n=this._pages[t];if(!n)return;const i=n.indexOf(e);-1!==i&&(this._renderedPageMap[t]&&n[i].unmount(),n.splice(i,1),0===n.length&&delete this._pages[t])}updateOverlays(e){const t=this._renderedPages,n={};e.map(e=>{n[e]=!0,this._renderedPageMap[e]||(this._renderedPageMap[e]=!0,this._invokeOnOverlays(e,e=>{e.mount()}))}),t.map(e=>{n[e]?this._invokeOnOverlays(e,e=>{e.refresh()}):(delete this._renderedPageMap[e],this._invokeOnOverlays(e,e=>{e.unmount()}))}),this._renderedPages=e}_invokeOnOverlays(e,t){const n=this._pages[e];n&&n.map(e=>t(e))}}class w{constructor(e,t){this._rows=e,this._cols=t,this._map=new Array(e).fill(null).map(()=>new Array(t).fill(!1))}isLoaded(e,t){return e>=this._rows||t>=this._cols||this._map[e][t]}set(e,t,n){this._map[e][t]=n}}class _{constructor(e){this._levels=e;const t=this._urlsToTiles={};e.forEach(e=>{e.tiles.forEach(n=>{t[n.url]={zoomLevel:e.zoomLevel,row:n.row,col:n.col}})}),this.clear()}clear(){const e=this._loadedByLevel={};this._levels.forEach(t=>{e[t.zoomLevel]=new w(t.rows,t.cols)})}getTiles(e){const t=[],n=this._levels[0].zoomLevel,i=new w(this._levels[0].rows,this._levels[0].cols);let r;if(null===e)r=0;else{const t=Math.ceil(e);r=function(e,t){const n=e.length;for(let i=0;i<n;i++)if(t(e[i],i))return i;return-1}(this._levels,e=>e.zoomLevel<=t)}this._levels.slice(0,r+1).reverse().concat(this._levels.slice(r+1)).forEach(e=>{const r=this._loadedByLevel[e.zoomLevel];let s=e.tiles.filter(e=>r.isLoaded(e.row,e.col));const o=Math.pow(2,n-e.zoomLevel);s=s.filter(e=>{let t=!1;const n=e.row*o,r=e.col*o;for(let e=0;e<o;e++)for(let s=0;s<o;s++)i.isLoaded(n+e,r+s)||(t=!0,i.set(n+e,r+s,!0));return t}),t.push(s)},this),t.reverse();const s=[];return t.forEach(e=>{s.push.apply(s,e)}),s}updateFromCache(e){this.clear(),this._levels.forEach(t=>{const n=this._loadedByLevel[t.zoomLevel];t.tiles.forEach(t=>{e.has(t.url)&&n.set(t.row,t.col,!0)})},this)}updateWithLoadedUrls(e){e.forEach(e=>{const t=this._urlsToTiles[e];this._loadedByLevel[t.zoomLevel].set(t.row,t.col,!0)},this)}}class E{constructor(e,t){const n=function(e,t){const n=null===t?e.pageLayouts:function(e,t){const n=Math.pow(2,t-e.maxZoomLevel);return e.pageLayouts.map(e=>({dimensions:x(e.dimensions,n),pages:e.pages.map(e=>({index:e.index,groupOffset:{top:Math.floor(e.groupOffset.top*n),left:Math.floor(e.groupOffset.left*n)},dimensions:x(e.dimensions,n)}))}))}(e,t),i=function(e,t){let n,i;const r=e.padding.document;e.verticallyOriented?(n="width",i=r.left+r.right):(n="height",i=r.top+r.bottom);return i+t.reduce((e,t)=>Math.max(t.dimensions[n],e),0)}(e,n);let r=e.verticallyOriented?e.padding.document.top:e.padding.document.left;const s=[],o={top:e.padding.page.top,left:e.padding.page.left};let a,c;n.forEach((t,n)=>{let a,c;e.verticallyOriented?(a=r,c=(i-t.dimensions.width)/2):(a=(i-t.dimensions.height)/2,c=r);const l={top:a,bottom:a+o.top+t.dimensions.height,left:c,right:c+o.left+t.dimensions.width};s.push({index:n,dimensions:t.dimensions,pages:t.pages,region:l,padding:o}),r=e.verticallyOriented?l.bottom:l.right}),e.verticallyOriented?(a=r+o.top,c=i):(a=i,c=r+o.left);return{dimensions:{height:a,width:c},pageGroups:s}}(e,t);this.dimensions=n.dimensions,this.pageGroups=n.pageGroups,this._pageLookup=function(e){const t={};return e.forEach(e=>{e.pages.forEach(n=>{t[n.index]={index:n.index,group:e,dimensions:n.dimensions,groupOffset:n.groupOffset}})}),t}(n.pageGroups)}getPageInfo(e){return this._pageLookup[e]||null}getPageDimensions(e){if(!this._pageLookup||!this._pageLookup[e])return null;const t=S(this._pageLookup[e]);return{height:t.bottom-t.top,width:t.right-t.left}}getPageOffset(e,t){const n=this.getPageRegion(e,t);return n?{top:n.top,left:n.left}:null}getPageRegion(e,t){const n=this._pageLookup[e];if(!n)return null;const i=S(n),r=n.group.padding;return t&&t.includePadding?{top:i.top+r.top,left:i.left+r.left,bottom:i.bottom,right:i.right}:{top:i.top,left:i.left,bottom:i.bottom+r.top,right:i.right}}getPageToViewportCenterOffset(e,t){const n=t.left,i=t.right-t.left,r=this.getPageOffset(e),s=n-r.left+parseInt(i/2,10),o=t.top,a=t.bottom-t.top;return{x:s,y:o-r.top+parseInt(a/2,10)}}}function S(e){const t=e.groupOffset.top+e.group.region.top,n=t+e.dimensions.height,i=e.groupOffset.left+e.group.region.left;return{top:t,bottom:n,left:i,right:i+e.dimensions.width}}function x(e,t){return{height:Math.floor(e.height*t),width:Math.floor(e.width*t)}}const L=n(51)("diva:ImageCache");class A{constructor(e){e=e||{maxKeys:100},this.maxKeys=e.maxKeys||100,this._held={},this._urls={},this._lru=[]}get(e){const t=this._urls[e];return t?t.img:null}has(e){return!!this._urls[e]}put(e,t){let n=this._urls[e];n?(n.img=t,this._promote(n)):(n={img:t,url:e},this._urls[e]=n,this._tryEvict(1),this._lru.unshift(n))}_promote(e){const t=this._lru.indexOf(e);this._lru.splice(t,1),this._lru.unshift(e)}_tryEvict(e){const t=this.maxKeys-e;if(this._lru.length<=t)return;let n=this._lru.length-1;for(;;){const e=this._lru[n];if(!this._held[e.url]&&(L("Evicting image %s",e.url),this._lru.splice(n,1),delete this._urls[e.url],this._lru.length<=t))break;if(0===n){L.enabled&&L("Cache overfull by %s (all entries are being held)",this._lru.length-t);break}n--}}acquire(e){this._held[e]=(this._held[e]||0)+1,this._promote(this._urls[e])}release(e){this._held[e]>1?this._held[e]--:delete this._held[e],this._tryEvict(0)}}class k{constructor(e){this._url=e.url,this._callback=e.load,this._errorCallback=e.error,this.timeoutTime=e.timeoutTime||0,this._aborted=this._complete=!1,this._crossOrigin=e.settings.imageCrossOrigin,this.timeout=setTimeout(()=>{this._image=new Image,this._image.crossOrigin=this._crossOrigin,this._image.onload=this._handleLoad.bind(this),this._image.onerror=this._handleError.bind(this),this._image.src=e.url},this.timeoutTime)}abort(){clearTimeout(this.timeout),this._image&&(this._image.onload=this._image.onerror=null,this._image.src=""),this._aborted=!0}_handleLoad(){this._aborted?console.error("ImageRequestHandler invoked on cancelled request for "+this._url):this._complete?console.error("ImageRequestHandler invoked on completed request for "+this._url):(this._complete=!0,this._callback(this._image))}_handleError(){this._errorCallback(this._image)}}var C={animate:function(e){const t=e.duration,n=e.parameters,i=e.onUpdate,r=e.onEnd,s=I(),o=s+t,a={},c={},l=Object.keys(n);l.forEach(e=>{const t=n[e];a[e]=function(e,t,n){return i=>e+(t-e)*n(i)}(t.from,t.to,t.easing||P)});let u=requestAnimationFrame((function e(){const n=I();(function(e){l.forEach(t=>{c[t]=a[t](e)})})(Math.min((n-s)/t,1)),i(c),n<o?u=requestAnimationFrame(e):d({interrupted:!1})}));return{cancel(){null!==u&&(cancelAnimationFrame(u),d({interrupted:!0}))}};function d(e){u=null,r&&r(e)}},easing:{linear:function(e){return e},cubic:P}};let I;function P(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}I="undefined"!=typeof performance&&performance.now?()=>performance.now():()=>Date.now();class O{constructor(e,t){this._viewport=e.viewport,this._outerElement=e.outerElement,this._documentElement=e.innerElement,this._settings=e.settings,this._hooks=t||{},this._canvas=i("canvas",{class:"diva-viewer-canvas"}),this._ctx=this._canvas.getContext("2d"),this.layout=null,this._sourceResolver=null,this._renderedPages=null,this._config=null,this._zoomLevel=null,this._compositeImages=null,this._renderedTiles=null,this._animation=null,this._cache=new A,this._pendingRequests={}}static getCompatibilityErrors(){return"undefined"!=typeof HTMLCanvasElement?null:["Your browser lacks support for the ",i("pre","canvas")," element. Please upgrade your browser."]}load(e,t,n){if(this._clearAnimation(),this._hooks.onViewWillLoad&&this._hooks.onViewWillLoad(),this._sourceResolver=n,this._config=e,this._compositeImages={},this._setLayoutToZoomLevel(t.zoomLevel),!this.layout.getPageInfo(t.anchorPage))throw new Error("invalid page: "+t.anchorPage);this._canvas.width===this._viewport.width&&this._canvas.height===this._viewport.height||(this._canvas.width=this._viewport.width,this._canvas.height=this._viewport.height),this.goto(t.anchorPage,t.verticalOffset,t.horizontalOffset),this._canvas.parentNode!==this._outerElement&&this._outerElement.insertBefore(this._canvas,this._outerElement.firstChild),this._hooks.onViewDidLoad&&this._hooks.onViewDidLoad()}_setViewportPosition(e){if(e.zoomLevel!==this._zoomLevel){if(null===this._zoomLevel)throw new TypeError("The current view is not zoomable");if(null===e.zoomLevel)throw new TypeError("The current view requires a zoom level");this._setLayoutToZoomLevel(e.zoomLevel)}this._goto(e.anchorPage,e.verticalOffset,e.horizontalOffset)}_setLayoutToZoomLevel(e){this.layout=new E(this._config,e),this._zoomLevel=e,s(this._documentElement,{style:{height:this.layout.dimensions.height+"px",width:this.layout.dimensions.width+"px"}}),this._viewport.setInnerDimensions(this.layout.dimensions)}adjust(){this._clearAnimation(),this._render(),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),null)}_render(){const e=[];this.layout.pageGroups.forEach(t=>{if(!this._viewport.intersectsRegion(t.region))return;const n=t.pages.filter((function(e){return this.isPageVisible(e.index)}),this).map(e=>e.index);e.push.apply(e,n)},this),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._paintOutline(e),e.forEach(e=>{if(!this._compositeImages[e]){const t=this.layout.getPageInfo(e),n=this._sourceResolver.getAllZoomLevelsForPage(t),i=new _(n);i.updateFromCache(this._cache),this._compositeImages[e]=i}},this),this._initiateTileRequests(e);const t=T(this._renderedPages||[],e);t.removed.forEach(e=>{delete this._compositeImages[e]},this),this._renderedPages=e,this._paint(),this._hooks.onPageWillLoad&&t.added.forEach(e=>{this._hooks.onPageWillLoad(e)},this)}_paint(){const e=[];this._renderedPages.forEach(t=>{this._compositeImages[t].getTiles(this._zoomLevel).forEach(n=>{const i=B(n,this._zoomLevel);this._isTileVisible(t,i)&&(e.push(n.url),this._drawTile(t,i,this._cache.get(n.url)))})});const t=this._cache,n=T(this._renderedTiles||[],e);n.added.forEach(e=>{t.acquire(e)}),n.removed.forEach(e=>{t.release(e)}),n.removed&&this._renderedPages.forEach(e=>{this._compositeImages[e].updateFromCache(this._cache)},this),this._renderedTiles=e}_paintOutline(e){e.forEach(e=>{let t=this.layout.getPageInfo(e),n=this._getImageOffset(e),i=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),r=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),s=n.left-this._viewport.left+i,o=n.top-this._viewport.top+r,a=s<0?-s:0,c=o<0?-o:0,l=Math.max(0,s),u=Math.max(0,o),d=t.dimensions.width-a,h=t.dimensions.height-c;this._ctx.strokeStyle="#AAA",this._ctx.strokeRect(l+.5,u+.5,d,h)})}_initiateTileRequests(e){const t={},n=(e,n)=>{const i=this._compositeImages[n];t[e.url]=new k({url:e.url,timeoutTime:250,settings:this._settings,load:t=>{delete this._pendingRequests[e.url],this._cache.put(e.url,t),i===this._compositeImages[n]?(i.updateWithLoadedUrls([e.url]),this._isTileForSourceVisible(n,e)&&this._paint()):this._isTileForSourceVisible(n,e)&&this._paint()},error:()=>{delete this._pendingRequests[e.url]}})};for(let i=0;i<e.length;i++){const r=e[i],s=this._sourceResolver.getBestZoomLevelForPage(this.layout.getPageInfo(r)).tiles;for(let e=0;e<s.length;e++){const i=s[e];!this._cache.has(i.url)&&this._isTileForSourceVisible(r,i)&&(this._pendingRequests[i.url]?(t[i.url]=this._pendingRequests[i.url],delete this._pendingRequests[i.url]):n(i,r))}}for(const e in this._pendingRequests)this._pendingRequests[e].abort();this._pendingRequests=t}_drawTile(e,t,n){let i=this._getTileToDocumentOffset(e,t),r=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),s=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),o=i.left-this._viewport.left+r,a=i.top-this._viewport.top+s,c=o<0?-o:0,l=a<0?-a:0,u=Math.max(0,o),d=Math.max(0,a),h=c/t.scaleRatio,f=l/t.scaleRatio,g=Math.min(t.dimensions.width,n.width*t.scaleRatio)-c,p=Math.min(t.dimensions.height,n.height*t.scaleRatio)-l,m=Math.max(1,Math.round(g)),v=Math.max(1,Math.round(p)),y=m/t.scaleRatio,b=v/t.scaleRatio;this._ctx.drawImage(n,h,f,y,b,u,d,m,v)}_isTileForSourceVisible(e,t){return this._isTileVisible(e,B(t,this._zoomLevel))}_isTileVisible(e,t){const n=this._getTileToDocumentOffset(e,t);return this._viewport.intersectsRegion({top:n.top,bottom:n.top+t.dimensions.height,left:n.left,right:n.left+t.dimensions.width})}_getTileToDocumentOffset(e,t){const n=this._getImageOffset(e);return{top:n.top+t.offset.top,left:n.left+t.offset.left}}_getImageOffset(e){return this.layout.getPageOffset(e,{includePadding:!0})}goto(e,t,n){this._clearAnimation(),this._goto(e,t,n),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),e)}_goto(e,t,n){const i=this.layout.getPageOffset(e),r=i.top+t-Math.round(this._viewport.height/2),s=i.left+n-Math.round(this._viewport.width/2);this._viewport.top=r,this._viewport.left=s,this._render()}transitionViewportPosition(e){this._clearAnimation();const t=e.getPosition,n=this._hooks.onViewDidTransition;this._animation=C.animate({duration:e.duration,parameters:e.parameters,onUpdate:e=>{this._setViewportPosition(t(e)),this._hooks.onZoomLevelWillChange(e.zoomLevel),n&&n()},onEnd:t=>{e.onEnd&&e.onEnd(t),this._hooks.onViewDidUpdate&&!t.interrupted&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),null)}})}_clearAnimation(){this._animation&&(this._animation.cancel(),this._animation=null)}isPageVisible(e){if(!this.layout)return!1;return!!this.layout.getPageInfo(e)&&this._viewport.intersectsRegion(this.layout.getPageRegion(e))}getRenderedPages(){return this._renderedPages.slice()}destroy(){this._clearAnimation(),Object.keys(this._pendingRequests).forEach(e=>{const t=this._pendingRequests[e];delete this._pendingRequests[e],t.abort()},this),this._canvas.parentNode.removeChild(this._canvas)}}function B(e,t){let n;return n=null===t?1:Math.pow(2,t-e.zoomLevel),{sourceZoomLevel:e.zoomLevel,scaleRatio:n,row:e.row,col:e.col,dimensions:{width:e.dimensions.width*n,height:e.dimensions.height*n},offset:{left:e.offset.left*n,top:e.offset.top*n},url:e.url}}function T(e,t){if(e===t)return{added:[],removed:[]};const n=e.filter(e=>-1===t.indexOf(e));return{added:t.filter(t=>-1===e.indexOf(t)),removed:n}}function N(e,t){const n=t.getMaxPageDimensions(e);return{width:Math.floor(n.width),height:Math.floor(n.height)}}function M(e){return function(e){const t=e.manifest,n=[];let i=null,r=[];const s=()=>{for(let e=0,t=r.length;e<t;e++)n.push([r[e]]);r=[]};t.pages.forEach((o,a)=>{const c={index:a,dimensions:N(a,t),paged:!t.paged||o.paged};(e.showNonPagedPages||c.paged)&&(c.paged?0===a||o.facingPages?(n.push([c]),s()):null===i?i=c:(n.push([i,c]),i=null,s()):r.push(c))}),null!==i&&(n.push([i]),s());return n}(e).map(t=>function(e,t){const n=e.verticallyOriented;if(2===t.length)return function(e,t,n){const i=e.dimensions,r=t.dimensions,s=Math.max(i.height,r.height);let o,a,c;if(n){const e=Math.max(i.width,r.width);o=2*e,a=e-i.width,c=e}else o=i.width+r.width,a=0,c=i.width;return{dimensions:{height:s,width:o},pages:[{index:e.index,dimensions:i,groupOffset:{top:0,left:a}},{index:t.index,dimensions:r,groupOffset:{top:0,left:c}}]}}(t[0],t[1],n);const i=t[0],r=i.dimensions;let s;s=i.paged?0===i.index&&n?r.width:0:n?r.width/2:0;const o=n&&!e.manifest.pages[i.index].facingPages;return{dimensions:{height:r.height,width:o?2*r.width:r.width},pages:[{index:i.index,groupOffset:{top:0,left:s},dimensions:r}]}}(e,t))}function q(e){const t=e.viewport.width,n=e.manifest,i=e.pagesPerRow,r=e.fixedHeightGrid,s=e.fixedPadding,o=e.showNonPagedPages,a=(t-s*(i+1))/i,c=a,l=r?s+n.minRatio*a:s+n.maxRatio*a,u=[];let d=[];const h={height:l,width:t};return n.pages.forEach((e,t)=>{if(!o&&n.paged&&!e.paged)return;const a=(e=>{const t=e.d[e.d.length-1],n=t.h/t.w;let i,o;return r?(i=(l-s)/n,o=l-s):(i=c,o=i*n),{width:Math.round(i),height:Math.round(o)}})(e);let f=Math.floor(d.length*(s+c)+s);r&&(f+=(c-a.width)/2),d.push({index:t,dimensions:a,groupOffset:{top:0,left:f}}),d.length===i&&(u.push({dimensions:h,pages:d}),d=[])}),d.length>0&&u.push({dimensions:h,pages:d}),u}function F(e){if(e.inGrid)return q(D(e,["manifest","viewport","pagesPerRow","fixedHeightGrid","fixedPadding","showNonPagedPages"]));{const t=D(e,["manifest","verticallyOriented","showNonPagedPages"]);return e.inBookLayout?M(t):function(e){const t=e.manifest,n=[];return t.pages.forEach((i,r)=>{if(!e.showNonPagedPages&&t.paged&&!i.paged)return;const s=N(r,t);n.push({dimensions:s,pages:[{index:r,groupOffset:{top:0,left:0},dimensions:s}]})}),n}(t)}}function D(e,t){const n={};return t.forEach((function(t){n[t]=e[t]})),n}function j(e){const t={};return e.forEach(e=>{!function(e,t){Object.keys(t).forEach(n=>{Object.defineProperty(e,n,{get:()=>t[n],set:()=>{throw new TypeError("Cannot set settings."+n)}})})}(t,e)}),t}class R{constructor(e){this.whitelistedKeys=e.whitelistedKeys||[],this.additionalProperties=e.additionalProperties||[],this.validations=e.validations}isValid(e,t,n){let i=null;if(this.validations.some((t,n)=>t.key===e&&(i=n,!0)),null===i)return!0;const r={};r[e]=t;const s=V(n,r,this);return!this._runValidation(i,t,s)}validate(e){this._validateOptions({},e)}getValidatedOptions(e,t){const n=Object.assign({},t);return this._validateOptions(e,n),n}_validateOptions(e,t){const n=V(e,t,this);this._applyValidations(t,n)}_applyValidations(e,t){this.validations.forEach((n,i)=>{if(!e.hasOwnProperty(n.key))return;const r=e[n.key],s=this._runValidation(i,r,t);s&&(s.warningSuppressed||function(e,t,n){console.warn("Invalid value for "+e+": "+t+". Using "+n+" instead.")}(n.key,r,s.value),e[n.key]=s.value)},this)}_runValidation(e,t,n){const i=this.validations[e];n.index=e;let r=!1;const s={suppressWarning:()=>{r=!0}},o=i.validate(t,n.proxy,s);return void 0===o||o===t?null:{value:o,warningSuppressed:r}}}function V(e,t,n){const i={proxy:{},index:null},r=z.bind(null,e,t),s={};return n.whitelistedKeys.forEach(e=>{s[e]={get:r.bind(null,e)}}),n.additionalProperties.forEach(e=>{s[e.key]={get:e.get}}),n.validations.forEach((e,t)=>{s[e.key]={get:()=>{if(t<i.index)return r(e.key);const s=n.validations[i.index].key;throw new TypeError("Cannot access setting "+e.key+" while validating "+s)}}}),Object.defineProperties(i.proxy,s),i}function z(e,t,n){return n in t?t[n]:e[n]}class H{constructor(e,t){t=t||{},this.intersectionTolerance=t.intersectionTolerance||0,this.outer=e,this._top=this._left=this._width=this._height=this._innerDimensions=null,this.invalidate()}intersectsRegion(e){return this.hasHorizontalOverlap(e)&&this.hasVerticalOverlap(e)}hasVerticalOverlap(e){const t=this.top-this.intersectionTolerance,n=this.bottom+this.intersectionTolerance;return Z(e.top,t,n)||Z(e.bottom,t,n)||e.top<=t&&e.bottom>=n}hasHorizontalOverlap(e){const t=this.left-this.intersectionTolerance,n=this.right+this.intersectionTolerance;return Z(e.left,t,n)||Z(e.right,t,n)||e.left<=t&&e.right>=n}invalidate(){this._width=this.outer.clientWidth,this._height=this.outer.clientHeight,this._top=this.outer.scrollTop,this._left=this.outer.scrollLeft}setInnerDimensions(e){this._innerDimensions=e,e&&(this._top=G(this._top,0,e.height-this._height),this._left=G(this._left,0,e.width-this._width))}}function U(e,t){const n="_"+e,i="scroll"+e.charAt(0).toUpperCase()+e.slice(1);return{get:function(){return this[n]},set:function(e){let r;if(this._innerDimensions){r=G(e,0,this._innerDimensions[t]-this[t])}else r=W(e,0);this[n]=this.outer[i]=r}}}function $(e){return{get:function(){return this["_"+e]}}}function Z(e,t,n){return e>=t&&e<=n}function G(e,t,n){return W(function(e,t){return Math.min(e,t)}(e,n),t)}function W(e,t){return Math.max(e,t)}Object.defineProperties(H.prototype,{top:U("top","height"),left:U("left","width"),width:$("width"),height:$("height"),bottom:{get:function(){return this._top+this._height}},right:{get:function(){return this._left+this._width}}});const K=n(51)("diva:ViewerCore");function Y(){return Y.counter++}Y.counter=1;const X=[{key:"goDirectlyTo",validate:(e,t)=>{if(e<0||e>=t.manifest.pages.length)return 0}},{key:"minPagesPerRow",validate:e=>Math.max(2,e)},{key:"maxPagesPerRow",validate:(e,t)=>Math.max(e,t.minPagesPerRow)},{key:"pagesPerRow",validate:(e,t)=>{if(e<t.minPagesPerRow||e>t.maxPagesPerRow)return t.maxPagesPerRow}},{key:"maxZoomLevel",validate:(e,t,n)=>{if(n.suppressWarning(),e<0||e>t.manifest.maxZoom)return t.manifest.maxZoom}},{key:"minZoomLevel",validate:(e,t,n)=>e>t.manifest.maxZoom?(n.suppressWarning(),0):e<0||e>t.maxZoomLevel?0:void 0},{key:"zoomLevel",validate:(e,t,n)=>e>t.manifest.maxZoom?(n.suppressWarning(),0):e<t.minZoomLevel||e>t.maxZoomLevel?t.minZoomLevel:void 0}];class J{constructor(e,t,n){this.parentObject=e,this.publicInstance=n,this.viewerState={currentPageIndices:[0],activePageIndex:0,horizontalOffset:0,horizontalPadding:0,ID:null,initialKeyScroll:!1,initialSpaceScroll:!1,innerElement:null,innerObject:{},isActiveDiva:!0,isScrollable:!0,isZooming:!1,loaded:!1,manifest:null,mobileWebkit:!1,numPages:0,oldZoomLevel:-1,options:t,outerElement:null,outerObject:{},pageOverlays:new b,pageTools:[],parentObject:this.parentObject,pendingManifestRequest:null,pluginInstances:[],renderer:null,resizeTimer:-1,scrollbarWidth:0,selector:"",throbberTimeoutID:-1,toolbar:null,verticalOffset:0,verticalPadding:0,viewHandler:null,viewport:null,viewportElement:null,viewportObject:null,zoomDuration:400},this.settings=j([t,this.viewerState]);const r=Y();this.viewerState.ID="diva-"+r+"-",this.viewerState.selector=this.settings.ID,Object.defineProperties(this.settings,{panelHeight:{get:()=>this.viewerState.viewport.height},panelWidth:{get:()=>this.viewerState.viewport.width}}),this.optionsValidator=new R({additionalProperties:[{key:"manifest",get:()=>this.viewerState.manifest}],validations:X}),this.viewerState.scrollbarWidth=function(){let e=document.createElement("p");e.style.width="100%",e.style.height="200px";let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);let n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),document.body.removeChild(t),n-i}(),this.viewerState.mobileWebkit=void 0!==window.orientation,null===t.hashParamSuffix&&(t.hashParamSuffix=1===r?"":r+"");const s=i("div",this.elemAttrs("inner",{class:"diva-inner"})),o=i("div",this.elemAttrs("viewport"),s),a=i("div",this.elemAttrs("outer"),o,i("div",this.elemAttrs("throbber"),[i("div",{class:"cube cube1"}),i("div",{class:"cube cube2"}),i("div",{class:"cube cube3"}),i("div",{class:"cube cube4"}),i("div",{class:"cube cube5"}),i("div",{class:"cube cube6"}),i("div",{class:"cube cube7"}),i("div",{class:"cube cube8"}),i("div",{class:"cube cube9"})]));this.viewerState.innerElement=s,this.viewerState.viewportElement=o,this.viewerState.outerElement=a,this.viewerState.innerObject=s,this.viewerState.viewportObject=o,this.viewerState.outerObject=a,this.settings.parentObject.append(a),this.viewerState.viewport=new H(this.viewerState.viewportElement,{intersectionTolerance:this.settings.viewportMargin}),this.boundScrollFunction=this.scrollFunction.bind(this),this.boundEscapeListener=this.escapeListener.bind(this),this.initPlugins(),this.handleEvents(),this.showThrobber()}isValidOption(e,t){return this.optionsValidator.isValid(e,t,this.viewerState.options)}elemAttrs(e,t){const n={id:this.settings.ID+e,class:"diva-"+e};return t?Object.assign(n,t):n}getPageData(e,t){return this.settings.manifest.pages[e].d[this.settings.zoomLevel][t]}clearViewer(){this.viewerState.viewport.top=0,clearTimeout(this.viewerState.resizeTimer)}hasChangedOption(e,t){return t in e&&e[t]!==this.settings[t]}escapeListener(e){27===e.keyCode&&this.publicInstance.leaveFullscreenMode()}reloadViewer(e){const t=[];if(e=this.optionsValidator.getValidatedOptions(this.settings,e),this.hasChangedOption(e,"zoomLevel")&&(this.viewerState.oldZoomLevel=this.settings.zoomLevel,this.viewerState.options.zoomLevel=e.zoomLevel,t.push(["ZoomLevelDidChange",e.zoomLevel])),this.hasChangedOption(e,"pagesPerRow")&&(this.viewerState.options.pagesPerRow=e.pagesPerRow,t.push(["GridRowNumberDidChange",e.pagesPerRow])),this.hasChangedOption(e,"verticallyOriented")&&(this.viewerState.options.verticallyOriented=e.verticallyOriented),this.hasChangedOption(e,"showNonPagedPages")&&(this.viewerState.options.showNonPagedPages=e.showNonPagedPages),"goDirectlyTo"in e?(this.viewerState.options.goDirectlyTo=e.goDirectlyTo,"verticalOffset"in e&&(this.viewerState.verticalOffset=e.verticalOffset),"horizontalOffset"in e&&(this.viewerState.horizontalOffset=e.horizontalOffset)):this.viewerState.options.goDirectlyTo=this.settings.activePageIndex,(this.hasChangedOption(e,"inGrid")||this.hasChangedOption(e,"inBookLayout"))&&("inGrid"in e&&(this.viewerState.options.inGrid=e.inGrid),"inBookLayout"in e&&(this.viewerState.options.inBookLayout=e.inBookLayout),t.push(["ViewDidSwitch",this.settings.inGrid])),this.hasChangedOption(e,"inFullscreen")&&(this.viewerState.options.inFullscreen=e.inFullscreen,this.prepareModeChange(e),t.push(["ModeDidSwitch",this.settings.inFullscreen])),this.clearViewer(),this.updateViewHandlerAndRendering(),this.viewerState.renderer){const e={pageLayouts:F(this.settings),padding:this.getPadding(),maxZoomLevel:this.settings.inGrid?null:this.viewerState.manifest.maxZoom,verticallyOriented:this.settings.verticallyOriented||this.settings.inGrid},t={zoomLevel:this.settings.inGrid?null:this.settings.zoomLevel,anchorPage:this.settings.goDirectlyTo,verticalOffset:this.viewerState.verticalOffset,horizontalOffset:this.viewerState.horizontalOffset},n=this.getCurrentSourceProvider();if(K.enabled){const t=Object.keys(e).filter((function(e){return"pageLayouts"!==e&&"padding"!==e})).map((function(t){const n=e[t];return t+": "+JSON.stringify(n)})).join(", ");K("reload with %s",t)}this.viewerState.renderer.load(e,t,n)}return t.forEach(e=>{this.publish.apply(this,e)}),!0}prepareModeChange(e){const t=e.inFullscreen?"add":"remove";this.viewerState.outerObject.classList[t]("diva-fullscreen"),document.body.classList[t]("diva-hide-scrollbar"),this.settings.parentObject.classList[t]("diva-full-width");const n=this.settings.panelHeight,i=this.settings.panelWidth;if(this.viewerState.viewport.invalidate(),!this.viewerState.loaded&&!this.settings.inGrid&&!("verticalOffset"in e)){const e=this.settings.panelHeight,t=this.settings.panelWidth;this.viewerState.verticalOffset+=(n-e)/2,this.viewerState.horizontalOffset+=(i-t)/2}e.inFullscreen?document.addEventListener("keyup",this.boundEscapeListener):document.removeEventListener("keyup",this.boundEscapeListener)}updateViewHandlerAndRendering(){const e=this.settings.inGrid?y:v;!this.viewerState.viewHandler||this.viewerState.viewHandler instanceof e||(this.viewerState.viewHandler.destroy(),this.viewerState.viewHandler=null),this.viewerState.viewHandler||(this.viewerState.viewHandler=new e(this)),this.viewerState.renderer||this.initializeRenderer()}initializeRenderer(){const e=O.getCompatibilityErrors();if(e)this.showError(e);else{const e={viewport:this.viewerState.viewport,outerElement:this.viewerState.outerElement,innerElement:this.viewerState.innerElement,settings:this.settings},t={onViewWillLoad:()=>{this.viewerState.viewHandler.onViewWillLoad()},onViewDidLoad:()=>{this.updatePageOverlays(),this.viewerState.viewHandler.onViewDidLoad()},onViewDidUpdate:(e,t)=>{this.updatePageOverlays(),this.viewerState.viewHandler.onViewDidUpdate(e,t)},onViewDidTransition:()=>{this.updatePageOverlays()},onPageWillLoad:e=>{this.publish("PageWillLoad",e)},onZoomLevelWillChange:e=>{this.publish("ZoomLevelWillChange",e)}};this.viewerState.renderer=new O(e,t)}}getCurrentSourceProvider(){if(this.settings.inGrid){const e={getAllZoomLevelsForPage:t=>[e.getBestZoomLevelForPage(t)],getBestZoomLevelForPage:e=>({zoomLevel:1,rows:1,cols:1,tiles:[{url:this.settings.manifest.getPageImageURL(e.index,{width:e.dimensions.width}),zoomLevel:1,row:0,col:0,dimensions:e.dimensions,offset:{top:0,left:0}}]})};return e}const e={width:this.settings.tileWidth,height:this.settings.tileHeight};return{getBestZoomLevelForPage:t=>this.settings.manifest.getPageImageTiles(t.index,Math.ceil(this.settings.zoomLevel),e),getAllZoomLevelsForPage:t=>{const n=[],i=this.viewerState.manifest.maxZoom;for(let r=0;r<=i;r++)n.push(this.settings.manifest.getPageImageTiles(t.index,r,e));return n.reverse(),n}}}getPadding(){let e,t,n,i;return this.settings.inGrid?(n=this.settings.fixedPadding,e=t=i=0):(e=this.settings.verticallyOriented?this.viewerState.verticalPadding:0,t=this.settings.verticallyOriented?0:this.viewerState.horizontalPadding,n=this.settings.verticallyOriented?0:this.viewerState.verticalPadding,i=this.settings.verticallyOriented?this.viewerState.horizontalPadding:0),{document:{top:n,bottom:n,left:i,right:i},page:{top:e,bottom:0,left:t,right:0}}}updatePageOverlays(){this.viewerState.pageOverlays.updateOverlays(this.viewerState.renderer.getRenderedPages())}handleZoom(e,t){if(!this.isValidOption("zoomLevel",e))return!1;if(this.viewerState.viewportObject.removeEventListener("scroll",this.boundScrollFunction),!t){const e=this.viewerState.viewport,n=this.viewerState.renderer.layout.getPageRegion(this.settings.activePageIndex);t={anchorPage:this.settings.activePageIndex,offset:{left:e.width/2-(n.left-e.left),top:e.height/2-(n.top-e.top)}}}const n=this.viewerState.renderer.layout.getPageRegion(t.anchorPage),i=n.left+t.offset.left-(this.settings.viewport.left+this.settings.viewport.width/2),r=n.top+t.offset.top-(this.settings.viewport.top+this.settings.viewport.height/2),s=(e,n)=>{const s=Math.pow(2,e-n),o=t.offset.left*s-i,a=t.offset.top*s-r;return{zoomLevel:e,anchorPage:t.anchorPage,verticalOffset:a,horizontalOffset:o}};this.viewerState.options.zoomLevel=e;let o=this.viewerState.oldZoomLevel;this.viewerState.oldZoomLevel=this.settings.zoomLevel;const a=s(e,o);this.viewerState.options.goDirectlyTo=a.anchorPage,this.viewerState.verticalOffset=a.verticalOffset,this.viewerState.horizontalOffset=a.horizontalOffset,this.viewerState.renderer.transitionViewportPosition({duration:this.settings.zoomDuration,parameters:{zoomLevel:{from:o,to:e}},getPosition:e=>s(e.zoomLevel,o),onEnd:t=>{this.viewerState.viewportObject.addEventListener("scroll",this.boundScrollFunction),t.interrupted&&(this.viewerState.oldZoomLevel=e)}});let c=document.getElementById(this.settings.selector+"zoom-in-button"),l=document.getElementById(this.settings.selector+"zoom-out-button");return c.disabled=!0,l.disabled=!0,setTimeout(()=>{c.disabled=!1,l.disabled=!1},this.settings.zoomDuration),this.publish("ZoomLevelDidChange",e),!0}getYOffset(e,t){let n=void 0===e?this.settings.activePageIndex:e;return"center"===t||"centre"===t?parseInt(this.getPageData(n,"h")/2,10):"bottom"===t?parseInt(this.getPageData(n,"h")-this.settings.panelHeight/2,10):parseInt(this.settings.panelHeight/2,10)}getXOffset(e,t){let n=void 0===e?this.settings.activePageIndex:e;return"left"===t?parseInt(this.settings.panelWidth/2,10):"right"===t?parseInt(this.getPageData(n,"w")-this.settings.panelWidth/2,10):parseInt(this.getPageData(n,"w")/2,10)}updatePanelSize(){return this.viewerState.viewport.invalidate(),this.viewerState.renderer&&(this.updateOffsets(),this.viewerState.renderer.goto(this.settings.activePageIndex,this.viewerState.verticalOffset,this.viewerState.horizontalOffset)),!0}updateOffsets(){const e=this.viewerState.renderer.layout.getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);e&&(this.viewerState.horizontalOffset=e.x,this.viewerState.verticalOffset=e.y)}bindMouseEvents(){this.viewerState.viewportObject.classList.add("dragscroll"),d.onDoubleClick(this.viewerState.viewportObject,(e,t)=>{K("Double click at %s, %s",t.left,t.top),this.viewerState.viewHandler.onDoubleClick(e,t)})}onResize(){this.updatePanelSize(),clearTimeout(this.viewerState.resizeTimer),this.viewerState.resizeTimer=setTimeout(()=>{const e=this.viewerState.renderer.layout.getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);e?this.reloadViewer({goDirectlyTo:this.settings.activePageIndex,verticalOffset:e.y,horizontalOffset:e.x}):this.reloadViewer({goDirectlyTo:this.settings.activePageIndex})},200)}bindTouchEvents(){this.settings.blockMobileMove&&document.body.addEventListener("touchmove",e=>(e.originalEvent.preventDefault(),!1)),d.onPinch(this.viewerState.viewportObject,(function(e,t,n,i){K("Pinch %s at %s, %s",i-n,t.left,t.top),this.viewerState.viewHandler.onPinch(e,t,n,i)})),d.onDoubleTap(this.viewerState.viewportObject,(function(e,t){K("Double tap at %s, %s",t.left,t.top),this.viewerState.viewHandler.onDoubleClick(e,t)}))}scrollFunction(){const e=this.viewerState.viewport.top,t=this.viewerState.viewport.left;let n;this.viewerState.viewport.invalidate();const i=this.viewerState.viewport.top,r=this.viewerState.viewport.left;n=this.settings.verticallyOriented||this.settings.inGrid?i-e:r-t,this.viewerState.renderer.adjust();const s=this.settings.verticallyOriented||this.settings.inGrid?i:r;this.publish("ViewerDidScroll",s),n>0?this.publish("ViewerDidScrollDown",s):n<0&&this.publish("ViewerDidScrollUp",s),this.updateOffsets()}handleEvents(){this.viewerState.innerObject.addEventListener("mousedown",()=>{this.viewerState.innerObject.classList.add("diva-grabbing")}),this.viewerState.innerObject.addEventListener("mouseup",()=>{this.viewerState.innerObject.classList.remove("diva-grabbing")}),this.bindMouseEvents(),this.viewerState.viewportObject.addEventListener("scroll",this.boundScrollFunction);document.addEventListener("keydown.diva",e=>{if(!this.viewerState.isActiveDiva)return!0;if(this.settings.enableSpaceScroll&&!e.shiftKey&&32===e.keyCode||this.settings.enableKeyScroll&&34===e.keyCode)return this.viewerState.viewport.top+=this.settings.panelHeight,!1;if(this.settings.enableSpaceScroll||32!==e.keyCode||e.preventDefault(),this.settings.enableKeyScroll){if(e.shiftKey||e.ctrlKey||e.metaKey)return!0;switch(e.keyCode){case 33:return this.viewerState.viewport.top-=this.settings.panelHeight,!1;case 38:return this.viewerState.viewport.top-=this.settings.arrowScrollAmount,!1;case 40:return this.viewerState.viewport.top+=this.settings.arrowScrollAmount,!1;case 37:return this.viewerState.viewport.left-=this.settings.arrowScrollAmount,!1;case 39:return this.viewerState.viewport.left+=this.settings.arrowScrollAmount,!1;case 36:return this.viewerState.viewport.top=0,!1;case 35:return this.settings.verticallyOriented?this.viewerState.viewport.top=1/0:this.viewerState.viewport.left=1/0,!1;default:return!0}}return!0}),u.Events.subscribe("ViewerDidTerminate",(function(){document.removeEventListener("keydown.diva")}),this.settings.ID),window.addEventListener("resize",this.onResize.bind(this),!1),u.Events.subscribe("ViewerDidTerminate",(function(){window.removeEventListener("resize",this.onResize,!1)}),this.settings.ID),"onorientationchange"in window&&(window.addEventListener("orientationchange",this.onResize,!1),u.Events.subscribe("ViewerDidTerminate",(function(){window.removeEventListener("orientationchange",this.onResize,!1)}),this.settings.ID)),u.Events.subscribe("PanelSizeDidChange",this.updatePanelSize,this.settings.ID),u.Events.subscribe("ViewerDidTerminate",()=>{this.viewerState.renderer&&this.viewerState.renderer.destroy(),clearTimeout(this.viewerState.resizeTimer)},this.settings.ID)}initPlugins(){if(!this.settings.hasOwnProperty("plugins"))return null;this.viewerState.pluginInstances=this.settings.plugins.map(e=>{const t=new e(this);return t.isPageTool&&this.viewerState.pageTools.push(t),t})}showThrobber(){this.hideThrobber(),this.viewerState.throbberTimeoutID=setTimeout(()=>{let e=document.getElementById(this.settings.selector+"throbber");e&&(e.style.display="block")},this.settings.throbberTimeout)}hideThrobber(){clearTimeout(this.viewerState.throbberTimeoutID);let e=document.getElementById(this.settings.selector+"throbber");e&&(e.style.display="none")}showError(e){const t=i("div",this.elemAttrs("error"),[i("button",this.elemAttrs("error-close",{"aria-label":"Close dialog"})),i("p",i("strong","Error")),i("div",e)]);this.viewerState.outerObject.appendChild(t),document.getElementById(this.settings.selector+"error-close").addEventListener("click",()=>{t.parentNode.removeChild(t)})}setManifest(e,t){if(this.viewerState.manifest=e,this.hideThrobber(),this.viewerState.numPages=this.settings.manifest.pages.length,this.optionsValidator.validate(this.viewerState.options),this.publish("NumberOfPagesDidChange",this.settings.numPages),this.settings.adaptivePadding>0){const e=Math.floor((this.settings.minZoomLevel+this.settings.maxZoomLevel)/2);this.viewerState.horizontalPadding=parseInt(this.settings.manifest.getAverageWidth(e)*this.settings.adaptivePadding,10),this.viewerState.verticalPadding=parseInt(this.settings.manifest.getAverageHeight(e)*this.settings.adaptivePadding,10)}else this.viewerState.horizontalPadding=this.settings.fixedPadding,this.viewerState.verticalPadding=this.settings.fixedPadding;let n,r;this.viewerState.pageTools.length&&(this.viewerState.verticalPadding=Math.max(40,this.viewerState.verticalPadding)),this.settings.manifest.paged&&(this.viewerState.options.inBookLayout=!0),this.publish("ObjectDidLoad",this.settings),this.updatePanelSize();let s=!1,o=!1;if(null==t.goDirectlyTo?(t.goDirectlyTo=this.settings.goDirectlyTo,n=r=!0):(n=null==t.horizontalOffset||isNaN(t.horizontalOffset),r=null==t.verticalOffset||isNaN(t.verticalOffset)),n&&(0===t.goDirectlyTo&&this.settings.inBookLayout&&this.settings.verticallyOriented?t.horizontalOffset=this.viewerState.horizontalPadding:(o=!0,t.horizontalOffset=this.getXOffset(t.goDirectlyTo,"center"))),r&&(s=!0,t.verticalOffset=this.getYOffset(t.goDirectlyTo,"top")),this.reloadViewer(t),this.updatePanelSize(),this.settings.enableAutoTitle){let e=document.getElementById(this.settings.selector+"title");e?e.innerHTML=this.settings.manifest.itemTitle:this.settings.parentObject.insertBefore(i("div",this.elemAttrs("title"),[this.settings.manifest.itemTitle]),this.settings.parentObject.firstChild)}this.settings.verticallyOriented?this.viewerState.innerElement.style.minWidth=this.settings.panelWidth+"px":this.viewerState.innerElement.style.minHeight=this.settings.panelHeight+"px",(s||o)&&(s&&(this.viewerState.verticalOffset=this.getYOffset(this.settings.activePageIndex,"top")),o&&(this.viewerState.horizontalOffset=this.getXOffset(this.settings.activePageIndex,"center")),this.viewerState.renderer.goto(this.settings.activePageIndex,this.viewerState.verticalOffset,this.viewerState.horizontalOffset)),this.viewerState.loaded=!0,this.publish("ViewerDidLoad",this.settings)}publish(e){const t=Array.prototype.slice.call(arguments,1);u.Events.publish(e,t,this.publicInstance)}getSettings(){return this.settings}getInternalState(){return this.viewerState}getPublicInstance(){return this.publicInstance}getPageTools(){return this.viewerState.pageTools}getCurrentLayout(){return this.viewerState.renderer?this.viewerState.renderer.layout:null}getViewport(){const e=this.viewerState.viewport;return{top:e.top,left:e.left,bottom:e.bottom,right:e.right,width:e.width,height:e.height}}addPageOverlay(e){this.viewerState.pageOverlays.addOverlay(e)}removePageOverlay(e){this.viewerState.pageOverlays.removeOverlay(e)}getPageRegion(e,t){const n=this.viewerState.renderer.layout,i=n.getPageRegion(e,t);if(t&&t.incorporateViewport){const e=this.settings.verticallyOriented?"width":"height";if(this.viewerState.viewport[e]>n.dimensions[e]){const t=(this.viewerState.viewport[e]-n.dimensions[e])/2;return this.settings.verticallyOriented?{top:i.top,bottom:i.bottom,left:i.left+t,right:i.right+t}:{top:i.top+t,bottom:i.bottom+t,left:i.left,right:i.right}}}return i}getPagePositionAtViewportOffset(e){const t=e.left+this.viewerState.viewport.left,n=e.top+this.viewerState.viewport.top,i=this.viewerState.renderer.getRenderedPages(),r=i.length;for(let e=0;e<r;e++){const r=i[e],s=this.viewerState.renderer.layout.getPageRegion(r);if(s.left<=t&&s.right>=t&&s.top<=n&&s.bottom>=n)return{anchorPage:r,offset:{left:t-s.left,top:n-s.top}}}const s=this.viewerState.renderer.layout.getPageRegion(this.settings.activePageIndex);return{anchorPage:this.settings.activePageIndex,offset:{left:t-s.left,top:n-s.top}}}setCurrentPages(e,t){!function(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}(this.viewerState.currentPageIndices,t)?(this.viewerState.currentPageIndices=t,this.viewerState.activePageIndex!==e&&(this.viewerState.activePageIndex=e,this.publish("ActivePageDidChange",e)),this.publish("VisiblePageDidChange",t),this.viewerState.manifest.pages[e].otherImages.length>0&&this.publish("VisiblePageHasAlternateViews",e)):this.viewerState.activePageIndex!==e&&(this.viewerState.activePageIndex=e,this.publish("ActivePageDidChange",e))}getPageName(e){return this.viewerState.manifest.pages[e].f}reload(e){this.reloadViewer(e)}zoom(e,t){return this.handleZoom(e,t)}enableScrollable(){this.viewerState.isScrollable||(this.bindMouseEvents(),this.enableDragScrollable(),this.viewerState.options.enableKeyScroll=this.viewerState.initialKeyScroll,this.viewerState.options.enableSpaceScroll=this.viewerState.initialSpaceScroll,this.viewerState.viewportElement.style.overflow="auto",this.viewerState.isScrollable=!0)}enableDragScrollable(){this.viewerState.viewportObject.hasAttribute("nochilddrag")&&this.viewerState.viewportObject.removeAttribute("nochilddrag")}disableScrollable(){this.viewerState.isScrollable&&(this.disableDragScrollable(),this.viewerState.outerObject.dblclick=null,this.viewerState.outerObject.contextmenu=null,this.viewerState.viewportElement.style.overflow="hidden",this.viewerState.initialKeyScroll=this.settings.enableKeyScroll,this.viewerState.initialSpaceScroll=this.settings.enableSpaceScroll,this.viewerState.options.enableKeyScroll=!1,this.viewerState.options.enableSpaceScroll=!1,this.viewerState.isScrollable=!1)}disableDragScrollable(){this.viewerState.viewportObject.hasAttribute("nochilddrag")||this.viewerState.viewportObject.setAttribute("nochilddrag","")}clear(){this.clearViewer()}setPendingManifestRequest(e){this.viewerState.pendingManifestRequest=e}destroy(){this.publish("ViewerWillTerminate",this.settings),this.settings.pendingManifestRequest&&this.settings.pendingManifestRequest.abort(),document.body.removeClass("diva-hide-scrollbar"),this.settings.parentObject.parent().empty().removeData("diva"),this.settings.parentObject.parent().removeAttr("style").removeAttr("class"),this.publish("ViewerDidTerminate",this.settings),u.Events.unsubscribeAll(this.settings.ID)}}function Q(e){let t,n=e.label,i="object"==typeof n?n[Object.keys(n)[0]][0]:n,r=e.value;return t=Array.isArray(r)?r.map(e=>e[Object.keys(e)[0]]):"object"==typeof r?r[Object.keys(r)[0]]:r,Array.isArray(t)&&(t=t.join(", ")),{label:i,value:t}}const ee=(e,t)=>{const n=Math.max(e,t);return n<128?0:Math.ceil(Math.log((n+1)/257)/Math.log(2))},te=(e,t)=>e/Math.pow(2,t),ne=(e,t)=>e.map(e=>{const n=e.width,i=e.height,r=re(e),s="/"!==r.url.slice(-1)?r.url+"/":r.url,o=new Array(t+1);for(let e=0;e<t+1;e++)o[e]={h:Math.floor(te(i,t-e)),w:Math.floor(te(n,t-e))};return{f:r.url,url:s,il:e.label||"",d:o}});function ie(e){let t=e["@context"];if(!t)return console.error("Invalid IIIF Manifest; No @context found."),null;const n=(e=>"http://iiif.io/api/presentation/2/context.json"===e||Array.isArray(e)&&e.includes("http://iiif.io/api/presentation/2/context.json")?2:Array.isArray(e)&&e.includes("http://iiif.io/api/presentation/3/context.json")?3:2)(t),i=e.sequences?e.sequences[0]:null,r=i?i.canvases:e.items,s=r.length,o=new Array(r.length);let a,c,l,u,d,h,f,g,p,m,v,y,b,w,_,E,S,x=[],L=100,A=0,k=100;for(let e=0;e<s;e++){const t=r[e],n=t.width,i=t.height,s=ee(n,i),o=i/n;A=Math.max(o,A),k=Math.min(o,k),L=Math.min(L,s)}const C=new Array(L+1).fill(0),I=new Array(L+1).fill(0),P=new Array(L+1).fill(0),O=new Array(L+1).fill(0);for(let e=0;e<s;e++){if(a=r[e],y=a["@id"]||a.id,b=a.label,c=a.images?a.images[0].resource:a.items[0].items[0].body,x=[],"oa:Choice"===c["@type"]||"Choice"===c.type?(l=c.default||c.items[0],u=c.item||c.items.slice(1),x=ne(u,L)):l=c,p=a.width||l.width,m=a.height||l.height,p<=0||m<=0){console.warn("Invalid width or height for canvas "+b+". Skipping");continue}v=ee(p,m),w=l.label||null,f=re(l),h="/"!==f.url.slice(-1)?f.url+"/":f.url,d=l.service["@context"]||l.service.type,g="http://iiif.io/api/image/2/context.json"===d||"ImageService2"===d?2:"http://library.stanford.edu/iiif/image-api/1.1/context.json"===d?1.1:1,_=new Array(L+1);for(let e=0;e<L+1;e++)E=Math.floor(te(p,L-e)),S=Math.floor(te(m,L-e)),_[e]={h:S,w:E},C[e]+=E,I[e]+=S,P[e]=Math.max(E,P[e]),O[e]=Math.max(S,O[e]);let t="non-paged"!==a.viewingHint||!!a.behavior&&"non-paged"!==a.behavior[0],n="facing-pages"===a.viewingHint||!!a.behavior&&"facing-pages"===a.behavior[0];o[e]={d:_,m:v,l:b,il:w,f:f.url,url:h,api:g,paged:t,facingPages:n,canvas:y,otherImages:x,xoffset:f.x||null,yoffset:f.y||null}}const B=new Array(L+1),T=new Array(L+1);for(let e=0;e<L+1;e++)B[e]=C[e]/s,T[e]=I[e]/s;const N={a_wid:B,a_hei:T,max_w:P,max_h:O,max_ratio:A,min_ratio:k,t_hei:I,t_wid:C};return{version:n,item_title:Q(e).label,metadata:e.metadata||null,dims:N,max_zoom:L,pgs:o,paged:"paged"===e.viewingHint||!!e.behaviour&&"paged"===e.behaviour[0]||!!i&&"paged"===i.viewingHint}}function re(e){let t=e["@id"]||e.id;const n=/#xywh=([0-9]+,[0-9]+,[0-9]+,[0-9]+)/;let i="",r=!0;if(/\/([0-9]+,[0-9]+,[0-9]+,[0-9]+)\//.test(t)){const e=t.split("/");i=e[e.length-4]}else if(n.test(t)){i=n.exec(t)[1]}else e.service&&(e.service["@id"]||e.service.id)&&(t=e.service["@id"]||e.service.id,r=!1);r&&(t=t.split("/").slice(0,-4).join("/"));const s={url:t};if(i.length){const e=i.split(",");s.x=parseInt(e[0],10),s.y=parseInt(e[1],10),s.w=parseInt(e[2],10),s.h=parseInt(e[3],10)}return s}class se{getPageImageURL(e,t,n){let i;i=!n||null==n.width&&null==n.height?"full":(null==n.width?"":n.width)+","+(null==n.height?"":n.height);const r=e.pages[t],s=r.api>1.1?"default":"native";return encodeURI(r.url+"full/"+i+"/0/"+s+".jpg")}getTileImageURL(e,t,n){const i=e.pages[t];let r,s;r=n.row===n.rowCount-1?i.d[n.zoomLevel].h-(n.rowCount-1)*n.tileDimensions.height:n.tileDimensions.height,s=n.col===n.colCount-1?i.d[n.zoomLevel].w-(n.colCount-1)*n.tileDimensions.width:n.tileDimensions.width;const o=Math.pow(2,e.maxZoom-n.zoomLevel);let a=n.col*n.tileDimensions.width*o,c=n.row*n.tileDimensions.height*o;i.hasOwnProperty("xoffset")&&(a+=i.xoffset,c+=i.yoffset);const l=[a,c,s*o,r*o].join(","),u=i.api>1.1?"default":"native";return encodeURI(i.url+l+"/"+s+","+r+"/0/"+u+".jpg")}}class oe{constructor(e,t){this.pages=e.pgs,this.maxZoom=e.max_zoom,this.maxRatio=e.dims.max_ratio,this.minRatio=e.dims.min_ratio,this.itemTitle=e.item_title,this.metadata=e.metadata,this.paged=!!e.paged,this._maxWidths=e.dims.max_w,this._maxHeights=e.dims.max_h,this._averageWidths=e.dims.a_wid,this._averageHeights=e.dims.a_hei,this._totalHeights=e.dims.t_hei,this._totalWidths=e.dims.t_wid,this._urlAdapter=t}static fromIIIF(e){const t=ie(e);return new oe(t,new se)}isPageValid(e,t){return!(!t&&this.paged&&!this.pages[e].paged)&&(e>=0&&e<this.pages.length)}getMaxPageDimensions(e){const t=this.pages[e].d[this.maxZoom];return{height:t.h,width:t.w}}getPageDimensionsAtZoomLevel(e,t){const n=this.pages[e].d[this.maxZoom],i=(r=this.maxZoom,s=t,1/Math.pow(2,r-s));var r,s;return{height:n.h*i,width:n.w*i}}getPageImageURL(e,t){return this._urlAdapter.getPageImageURL(this,e,t)}getPageImageTiles(e,t,n){const i=this.pages[e];if(!isFinite(t)||t%1!=0)throw new TypeError("Zoom level must be an integer: "+t);const r=Math.ceil(i.d[t].h/n.height),s=Math.ceil(i.d[t].w/n.width),o=[];let a,c,l;for(a=0;a<r;a++)for(c=0;c<s;c++)l=this._urlAdapter.getTileImageURL(this,e,{row:a,col:c,rowCount:r,colCount:s,zoomLevel:t,tileDimensions:n}),o.push({row:a,col:c,zoomLevel:t,dimensions:{height:n.height,width:n.width},offset:{top:a*n.height,left:c*n.width},url:l});return{zoomLevel:t,rows:r,cols:s,tiles:o}}}function ae(e){return function(t){return this[e][t]}}oe.prototype.getMaxWidth=ae("_maxWidths"),oe.prototype.getMaxHeight=ae("_maxHeights"),oe.prototype.getAverageWidth=ae("_averageWidths"),oe.prototype.getAverageHeight=ae("_averageHeights"),oe.prototype.getTotalWidth=ae("_totalWidths"),oe.prototype.getTotalHeight=ae("_totalHeights");class ce{constructor(e){this.viewer=e,this.settings=e.settings}_elemAttrs(e,t){const n={id:this.settings.ID+e,class:"diva-"+e};return t?Object.assign(n,t):n}_subscribe(e,t){u.Events.subscribe(e,t,this.settings.ID)}createButton(e,t,n,r){const s=i("button",{type:"button",id:this.settings.ID+e,class:"diva-"+e+" diva-button",title:t,"aria-label":t});return r&&s.appendChild(r),n&&s.addEventListener("click",n),s}createLabel(e,t,n,r,s){return i("div",{id:this.settings.ID+t,class:e+" diva-label"},[n,i("span",{id:this.settings.ID+r},s)])}createZoomButtons(){let e=this._createZoomOutIcon(),t=this._createZoomInIcon(),n=[this.createButton("zoom-out-button","Zoom Out",()=>{this.viewer.setZoomLevel(this.settings.zoomLevel-1)},e),this.createButton("zoom-in-button","Zoom In",()=>{this.viewer.setZoomLevel(this.settings.zoomLevel+1)},t),this.createLabel("diva-zoom-label","zoom-label","Zoom level: ","zoom-level",this.settings.zoomLevel+1)],r=function(){document.getElementById(this.settings.ID+"zoom-level").textContent=this.settings.zoomLevel+1};return this._subscribe("ZoomLevelDidChange",r),this._subscribe("ViewerDidLoad",r),i("div",{id:this.settings.ID+"zoom-controls",style:"display: none"},n)}createGridControls(){let e=this._createGridMoreIcon(),t=this._createGridFewerIcon(),n=[this.createButton("grid-out-button","Fewer",()=>{this.viewer.setGridPagesPerRow(this.settings.pagesPerRow-1)},t),this.createButton("grid-in-button","More",()=>{this.viewer.setGridPagesPerRow(this.settings.pagesPerRow+1)},e),this.createLabel("diva-grid-label","grid-label","Pages per row: ","pages-per-row",this.settings.pagesPerRow)];return this._subscribe("GridRowNumberDidChange",(function(){document.getElementById(this.settings.ID+"pages-per-row").textContent=this.settings.pagesPerRow})),i("div",{id:this.settings.ID+"grid-controls",style:"display:none"},n)}createPageLabel(){const e=i("span",{id:this.settings.ID+"current-page"}),t=()=>{let t=this.viewer.getCurrentPageIndices(),n=t[0],i=t[t.length-1],r=this.settings.manifest.pages[n].l,s=this.settings.manifest.pages[i].l;n!==i?this.settings.enableIndexAsLabel?e.textContent=n+" - "+i:e.textContent=r+" - "+s:this.settings.enableIndexAsLabel?e.textContent=n:e.textContent=r};return this._subscribe("VisiblePageDidChange",t),this._subscribe("ViewerDidLoad",t),this._subscribe("ViewDidSwitch",t),i("span",{class:"diva-page-label diva-label"},e)}createGotoPageForm(){const e=i("input",{id:this.settings.ID+"goto-page-input",class:"diva-input diva-goto-page-input",autocomplete:"off",type:"text","aria-label":"Page Input"}),t=i("input",{id:this.settings.ID+"goto-page-submit",class:"diva-button diva-button-text",type:"submit",value:"Go"}),n=i("div",{id:this.settings.ID+"input-suggestions",class:"diva-input-suggestions"}),r=i("form",{id:this.settings.ID+"goto-page",class:"diva-goto-form"},e,t,n);var s,o,a;return r.addEventListener("submit",t=>{t.preventDefault();const i=e.value;if(this.settings.onGotoSubmit&&"function"==typeof this.settings.onGotoSubmit){const e=this.settings.onGotoSubmit(i);this.viewer.gotoPageByIndex(e)||window.alert("No page could be found with that label or page number")}else this.viewer.gotoPageByLabel(i)||window.alert("No page could be found with that label or page number");return n.style.display="none",!1}),["input","focus"].forEach(t=>{e.addEventListener(t,()=>{n.innerHTML="";const t=e.value;let r=0;if(this.settings.enableGotoSuggestions&&t){const e=this.settings.manifest.pages;for(let s=0,o=e.length;s<o&&r<10;s++)if(e[s].l.toLowerCase().indexOf(t.toLowerCase())>-1){const t=i("div",{class:"diva-input-suggestion"},e[s].l);n.appendChild(t),r++}r>0&&(n.style.display="block")}else n.style.display="none"})}),e.addEventListener("keydown",t=>{let n;if(13===t.keyCode){const t=document.getElementsByClassName("active")[0];void 0!==t&&(e.value=t.innerText)}if(38===t.keyCode){n=document.getElementsByClassName("active")[0];const e=n?n.previousSibling:void 0;if(void 0!==e)n.classList.remove("active"),null!==e&&e.classList.add("active");else{let e=document.getElementsByClassName("diva-input-suggestion").length-1;document.getElementsByClassName("diva-input-suggestion")[e].classList.add("active")}}else if(40===t.keyCode){n=document.getElementsByClassName("active")[0];const e=n?n.nextSibling:void 0;void 0!==e?(n.classList.remove("active"),null!==e&&e.classList.add("active")):document.getElementsByClassName("diva-input-suggestion")[0].classList.add("active")}}),s="mousedown",o=".diva-input-suggestion",a=function(){e.value=this.textContent,n.style.display="none";let t=new Event("submit",{cancelable:!0});r.dispatchEvent(t)},n.addEventListener(s,(function(e){for(var t=e.target;t&&t!==this;)t.matches(o)&&a.call(t,e),t=t.parentNode})),e.addEventListener("blur",()=>{n.style.display="none"}),r}createViewMenu(){const e=i("div",this._elemAttrs("view-options")),t=this._createGridViewIcon(),n=this._createBookViewIcon(),r=this._createPageViewIcon(),s=this.createButton("view-icon","Change view",()=>{e.style.display="none"===e.style.display?"block":"none"}),o=t=>{this.viewer.changeView(t),e.style.display="none"},a=()=>{this.settings.inGrid?(s.appendChild(t),s.className="diva-grid-icon diva-view-icon diva-button"):this.settings.inBookLayout?(s.appendChild(n),s.className="diva-book-icon diva-view-icon diva-button"):(s.appendChild(r),s.className="diva-document-icon diva-view-icon diva-button");const i=document.createDocumentFragment();for((this.settings.inGrid||this.settings.inBookLayout)&&i.appendChild(this.createButton("document-icon","Document View",o.bind(null,"document"),r)),!this.settings.inGrid&&this.settings.inBookLayout||i.appendChild(this.createButton("book-icon","Book View",o.bind(null,"book"),n)),this.settings.inGrid||i.appendChild(this.createButton("grid-icon","Grid View",o.bind(null,"grid"),t));e.firstChild;)e.removeChild(e.firstChild);e.appendChild(i)};return document.addEventListener("mouseup",t=>{e!==t.target&&(e.style.display="none")}),this._subscribe("ViewDidSwitch",a),this._subscribe("ObjectDidLoad",a),i("div",this._elemAttrs("view-menu"),s,e)}createFullscreenButton(){let e=this._createFullscreenIcon();return this.createButton("fullscreen-icon","Toggle fullscreen mode",()=>{this.viewer.toggleFullscreenMode()},e)}toggleZoomGridControls(){this.settings.inGrid?(document.getElementById(this.settings.ID+"zoom-controls").style.display="none",document.getElementById(this.settings.ID+"grid-controls").style.display="block"):(document.getElementById(this.settings.ID+"zoom-controls").style.display="block",document.getElementById(this.settings.ID+"grid-controls").style.display="none")}render(){this._subscribe("ViewDidSwitch",this.toggleZoomGridControls),this._subscribe("ObjectDidLoad",this.toggleZoomGridControls);let e=[this.createZoomButtons(),this.createGridControls()],t=[this.createPageLabel(),this.createViewMenu()];this.settings.enableFullscreen&&t.push(this.createFullscreenButton()),this.settings.enableGotoPage&&t.splice(1,0,this.createGotoPageForm());let n=this.viewer.viewerState.pluginInstances;for(let i=0,s=n.length;i<s;i++){let s=n[i];s.toolbarSide&&(s.toolbarIcon=s.createIcon(),s.toolbarIcon&&("right"===s.toolbarSide?t.splice(2,0,s.toolbarIcon):"left"===s.toolbarSide&&e.splice(2,0,s.toolbarIcon),s.toolbarIcon.addEventListener("click",r.bind(this,s))))}function r(e){e.handleClick(this.viewer)}const s=i("div",this._elemAttrs("tools"),i("div",this._elemAttrs("tools-left"),e),i("div",this._elemAttrs("tools-right"),t));this.settings.toolbarParentObject.insertBefore(s,this.settings.toolbarParentObject.firstChild)}_createToolbarIcon(e){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"viewBox","0 0 25 25"),t.setAttributeNS(null,"x","0px"),t.setAttributeNS(null,"y","0px"),t.setAttributeNS(null,"style","enable-background:new 0 0 48 48;");let n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttributeNS(null,"transform","matrix(1, 0, 0, 1, -12, -12)"),e.forEach(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttributeNS(null,"d",e),n.appendChild(t)}),t.appendChild(n),t}_createZoomOutIcon(){return this._createToolbarIcon(["M19.5,23c-0.275,0-0.5-0.225-0.5-0.5v-1c0-0.275,0.225-0.5,0.5-0.5h7c0.275,0,0.5,0.225,0.5,0.5v1c0,0.275-0.225,0.5-0.5,0.5H19.5z","M37.219,34.257l-2.213,2.212c-0.202,0.202-0.534,0.202-0.736,0l-6.098-6.099c-1.537,0.993-3.362,1.577-5.323,1.577c-5.431,0-9.849-4.418-9.849-9.849c0-5.431,4.418-9.849,9.849-9.849c5.431,0,9.849,4.418,9.849,9.849c0,1.961-0.584,3.786-1.576,5.323l6.098,6.098C37.422,33.722,37.422,34.054,37.219,34.257z M29.568,22.099c0-3.706-3.014-6.72-6.72-6.72c-3.706,0-6.72,3.014-6.72,6.72c0,3.706,3.014,6.72,6.72,6.72C26.555,28.818,29.568,25.805,29.568,22.099z"])}_createZoomInIcon(){return this._createToolbarIcon(["M37.469,34.257l-2.213,2.212c-0.202,0.202-0.534,0.202-0.736,0l-6.098-6.099c-1.537,0.993-3.362,1.577-5.323,1.577c-5.431,0-9.849-4.418-9.849-9.849c0-5.431,4.418-9.849,9.849-9.849c5.431,0,9.849,4.418,9.849,9.849c0,1.961-0.584,3.786-1.576,5.323l6.098,6.098C37.672,33.722,37.672,34.054,37.469,34.257z M29.818,22.099c0-3.706-3.014-6.72-6.72-6.72c-3.706,0-6.72,3.014-6.72,6.72c0,3.706,3.014,6.72,6.72,6.72C26.805,28.818,29.818,25.805,29.818,22.099z M26.5,21H24v-2.5c0-0.275-0.225-0.5-0.5-0.5h-1c-0.275,0-0.5,0.225-0.5,0.5V21h-2.5c-0.275,0-0.5,0.225-0.5,0.5v1c0,0.275,0.225,0.5,0.5,0.5H22v2.5c0,0.275,0.225,0.5,0.5,0.5h1c0.275,0,0.5-0.225,0.5-0.5V23h2.5c0.275,0,0.5-0.225,0.5-0.5v-1C27,21.225,26.775,21,26.5,21z"])}_createGridMoreIcon(){return this._createToolbarIcon(["M29.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z"])}_createGridFewerIcon(){return this._createToolbarIcon(["M25.5,35c-0.275,0-0.5-0.225-0.5-0.5v-9c0-0.275,0.225-0.5,0.5-0.5h9c0.275,0,0.5,0.225,0.5,0.5v9c0,0.275-0.225,0.5-0.5,0.5H25.5z M22.5,35c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H22.5z M34.5,23c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H34.5z M22.5,23c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H22.5z"])}_createGridViewIcon(){return this._createToolbarIcon(["M29.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z"])}_createBookViewIcon(){return this._createToolbarIcon(["M35,16.8v-1.323c0,0-2.292-1.328-5.74-1.328c-3.448,0-5.26,1.25-5.26,1.25s-1.813-1.25-5.26-1.25c-3.448,0-5.74,1.328-5.74,1.328V16.8l-1,0.531v0.021v15.687c0,0,4.531-1.578,6.999-1.578c2.468,0,5.001,0.885,5.001,0.885s2.532-0.885,5-0.885c0.306,0,0.643,0.024,1,0.066v4.325l1.531-2.016L33,35.852v-3.72c2,0.43,3,0.906,3,0.906V17.352v-0.021L35,16.8z M23,29.03c-1-0.292-2.584-0.679-3.981-0.679c-2.246,0-3.019,0.404-4.019,0.699V16.634c0,0,1.125-0.699,4.019-0.699c1.694,0,2.981,0.417,3.981,1.126V29.03z M33,29.051c-1-0.295-1.773-0.699-4.02-0.699c-1.396,0-2.981,0.387-3.98,0.679V17.06c1-0.709,2.286-1.126,3.98-1.126c2.895,0,4.02,0.699,4.02,0.699V29.051z"])}_createPageViewIcon(){return this._createToolbarIcon(["M29.425,29h4.47L29,33.934v-4.47C29,29.19,29.151,29,29.425,29z M34,14.563V28h-5.569C28.157,28,28,28.196,28,28.47V34H14.497C14.223,34,14,33.71,14,33.437V14.563C14,14.29,14.223,14,14.497,14h18.9C33.672,14,34,14.29,34,14.563z M25.497,26.497C25.497,26.223,25.275,26,25,26h-7c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,27.777,17.725,28,18,28h7c0.275,0,0.497-0.223,0.497-0.497V26.497z M30.497,22.497C30.497,22.223,30.275,22,30,22H18c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,23.777,17.725,24,18,24h12c0.275,0,0.497-0.223,0.497-0.497V22.497z M30.497,18.497C30.497,18.223,30.275,18,30,18H18c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,19.777,17.725,20,18,20h12c0.275,0,0.497-0.223,0.497-0.497V18.497z"])}_createFullscreenIcon(){return this._createToolbarIcon(["M35,12H13c-0.55,0-1,0.45-1,1v22c0,0.55,0.45,1,1,1h22c0.55,0,1-0.45,1-1V13C36,12.45,35.55,12,35,12z M34,34H14V14h20V34z","M17,21.75v-4.5c0-0.138,0.112-0.25,0.25-0.25h4.5c0.138,0,0.17,0.08,0.073,0.177l-1.616,1.616l1.823,1.823c0.097,0.097,0.097,0.256,0,0.354l-1.061,1.06c-0.097,0.097-0.256,0.097-0.354,0l-1.823-1.823l-1.616,1.616C17.08,21.92,17,21.888,17,21.75z M20.97,25.97c-0.097-0.097-0.256-0.097-0.354,0l-1.823,1.823l-1.616-1.616C17.08,26.08,17,26.112,17,26.25v4.5c0,0.138,0.112,0.25,0.25,0.25h4.5c0.138,0,0.17-0.08,0.073-0.177l-1.616-1.616l1.823-1.823c0.097-0.097,0.097-0.256,0-0.354L20.97,25.97z M30.75,17h-4.5c-0.138,0-0.17,0.08-0.073,0.177l1.616,1.616l-1.823,1.823c-0.097,0.097-0.097,0.256,0,0.354l1.061,1.06c0.097,0.097,0.256,0.097,0.354,0l1.823-1.823l1.616,1.616C30.92,21.92,31,21.888,31,21.75v-4.5C31,17.112,30.888,17,30.75,17z M30.823,26.177l-1.616,1.616l-1.823-1.823c-0.097-0.097-0.256-0.097-0.354,0l-1.061,1.06c-0.097,0.097-0.097,0.256,0,0.354l1.823,1.823l-1.616,1.616C26.08,30.92,26.112,31,26.25,31h4.5c0.138,0,0.25-0.112,0.25-0.25v-4.5C31,26.112,30.92,26.08,30.823,26.177z M26,22.5c0-0.275-0.225-0.5-0.5-0.5h-3c-0.275,0-0.5,0.225-0.5,0.5v3c0,0.275,0.225,0.5,0.5,0.5h3c0.275,0,0.5-0.225,0.5-0.5V22.5z"])}}var le={get:ue,update:function(e,t){const n=ue(e),i=window.location.hash;if(n!==t)if("string"==typeof n){const r=i.indexOf("&"+e+"=")>0?i.indexOf("&"+e+"="):i.indexOf("#"+e+"="),s=r+e.length+2+n.length,o=0===r?"#":"&";window.location.replace(i.substring(0,r)+o+e+"="+t+i.substring(s))}else 0===i.length?window.location.replace("#"+e+"="+t):window.location.replace(i+"&"+e+"="+t)}};function ue(e){const t=window.location.hash;if(""!==t){let n=t.indexOf("&"+e+"=")>0?t.indexOf("&"+e+"="):t.indexOf("#"+e+"=");if(n>=0){n+=e.length+2;const i=t.indexOf("&",n);return i>n?decodeURIComponent(t.substring(n,i)):i<0?decodeURIComponent(t.substring(n)):""}return!1}return!1}class de{constructor(e,t){if(!(e instanceof HTMLElement)&&(this.element=document.getElementById(e),null===this.element))throw new a;if(!t.objectData)throw new l("You must supply either a URL or a literal object to the `objectData` key.");this.options=Object.assign({adaptivePadding:.05,arrowScrollAmount:40,blockMobileMove:!1,objectData:"",enableAutoTitle:!0,enableFilename:!0,enableFullscreen:!0,enableGotoPage:!0,enableGotoSuggestions:!0,enableGridIcon:!0,enableGridControls:"buttons",enableImageTitles:!0,enableIndexAsLabel:!1,enableKeyScroll:!0,enableLinkIcon:!0,enableNonPagedVisibilityIcon:!0,enableSpaceScroll:!1,enableToolbar:!0,enableZoomControls:"buttons",fillParentHeight:!0,fixedPadding:10,fixedHeightGrid:!0,goDirectlyTo:0,hashParamSuffix:null,imageCrossOrigin:"anonymous",inFullscreen:!1,inBookLayout:!1,inGrid:!1,maxPagesPerRow:8,maxZoomLevel:-1,minPagesPerRow:2,minZoomLevel:0,onGotoSubmit:null,pageAliases:{},pageAliasFunction:function(){return!1},pageLoadTimeout:200,pagesPerRow:5,requestHeaders:{Accept:"application/json"},showNonPagedPages:!1,throbberTimeout:100,tileHeight:256,tileWidth:256,toolbarParentObject:null,verticallyOriented:!0,viewportMargin:200,zoomLevel:2},t);const n=i("div",{class:"diva-wrapper"+(this.options.fillParentHeight?" diva-wrapper-flexbox":"")});this.element.appendChild(n),this.options.toolbarParentObject=this.options.toolbarParentObject||n;const r=new J(n,this.options,this);this.viewerState=r.getInternalState(),this.settings=r.getSettings(),this.toolbar=this.settings.enableToolbar?new ce(this):null,n.id=this.settings.ID+"wrapper",this.divaState={viewerCore:r,toolbar:this.toolbar};let s=u.Events.subscribe("ObjectDidLoad",()=>{null!==this.toolbar&&this.toolbar.render(),u.Events.unsubscribe(s)});this.hashState=this._getHashParamState(),this._loadOrFetchObjectData()}_loadOrFetchObjectData(){if("object"==typeof this.settings.objectData)setTimeout(()=>{this._loadObjectData(this.settings.objectData,this.hashState)},0);else{const e=fetch(this.settings.objectData,{headers:this.settings.requestHeaders}).then(e=>{if(!e.ok){u.Events.publish("ManifestFetchError",[e],this),this._ajaxError(e);let t=new Error(e.statusText);throw t.response=e,t}return e.json()}).then(e=>{this._loadObjectData(e,this.hashState)});this.divaState.viewerCore.setPendingManifestRequest(e)}}_showError(e){this.divaState.viewerCore.showError(e)}_ajaxError(e){const t=["Invalid objectData setting. Error code: "+e.status+" "+e.statusText];if(0===this.settings.objectData.lastIndexOf("http",0)){const e=this.settings.objectData.replace(/https?:\/\//i,"").split(/[/?#]/)[0];window.location.hostname!==e&&t.push(i("p","Attempted to access cross-origin data without CORS."),i("p","You may need to update your server configuration to support CORS. For help, see the ",i("a",{href:"https://github.com/DDMAL/diva.js/wiki/Installation#a-note-about-cross-site-requests",target:"_blank"},"cross-site request documentation.")))}this._showError(t)}_loadObjectData(e,t){let n;if(!e.hasOwnProperty("@context")&&(-1===e["@context"].indexOf("iiif")||-1===e["@context"].indexOf("shared-canvas")))throw new c("This does not appear to be a IIIF Manifest.");u.Events.publish("ManifestDidLoad",[e],this),n=oe.fromIIIF(e);const i=t?this._getLoadOptionsForState(t,n):{};this.divaState.viewerCore.setManifest(n,i)}_getHashParamState(){const e={};return["f","v","z","n","i","p","y","x"].forEach(t=>{const n=le.get(t+this.settings.hashParamSuffix);!1!==n&&(e[t]=n)}),"true"===e.f?e.f=!0:"false"===e.f&&(e.f=!1),["z","n","p","x","y"].forEach(t=>{t in e&&(e[t]=parseInt(e[t],10))}),e}_getLoadOptionsForState(e,t){t=t||this.settings.manifest;const n="v"in e?this._getViewState(e.v):{};"f"in e&&(n.inFullscreen=e.f),"z"in e&&(n.zoomLevel=e.z),"n"in e&&(n.pagesPerRow=e.n);let i=this._getPageIndexForManifest(t,e.i);if(i>=0&&i<t.pages.length||(i=e.p-1,i>=0&&i<t.pages.length||(i=null)),null!==i){const t=parseInt(e.x,10),r=parseInt(e.y,10);n.goDirectlyTo=i,n.horizontalOffset=t,n.verticalOffset=r}return n}_getViewState(e){switch(e){case"d":return{inGrid:!1,inBookLayout:!1};case"b":return{inGrid:!1,inBookLayout:!0};case"g":return{inGrid:!0,inBookLayout:!1};default:return{}}}_getPageIndexForManifest(e,t){let n;const i=e.pages.length;for(n=0;n<i;n++)if(e.pages[n].f===t)return n;return-1}_getState(){let e;e=this.settings.inGrid?"g":this.settings.inBookLayout?"b":"d";const t=this.divaState.viewerCore.getCurrentLayout().getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);return{f:this.settings.inFullscreen,v:e,z:this.settings.zoomLevel,n:this.settings.pagesPerRow,i:!!this.settings.enableFilename&&this.settings.manifest.pages[this.settings.activePageIndex].f,p:!this.settings.enableFilename&&this.settings.activePageIndex+1,y:!!t&&t.y,x:!!t&&t.x}}_getURLHash(){const e=this._getState(),t=[];let n;for(n in e)!1!==e[n]&&t.push(n+this.settings.hashParamSuffix+"="+encodeURIComponent(e[n]));return t.join("&")}_getPageIndex(e){return this._getPageIndexForManifest(this.settings.manifest,e)}_checkLoaded(){return!!this.viewerState.loaded||(console.warn("The viewer is not completely initialized. This is likely because it is still downloading data. To fix this, only call this function if the isReady() method returns true."),!1)}_toggleFullscreen(){let e;this._reloadViewer({inFullscreen:!this.settings.inFullscreen});let t=!1,n=document.getElementById(this.settings.selector+"tools");function i(){n.style.opacity=1,clearTimeout(e),!t&&this.settings.inFullscreen&&(e=setTimeout((function(){n.style.opacity=0}),2e3))}this.settings.inFullscreen?(n.classList.add("diva-fullscreen-tools"),document.addEventListener("mousemove",i.bind(this)),document.getElementsByClassName("diva-viewport")[0].addEventListener("scroll",i.bind(this)),n.addEventListener("mouseenter",(function(){t=!0})),n.addEventListener("mouseleave",(function(){t=!1}))):n.classList.remove("diva-fullscreen-tools")}_togglePageLayoutOrientation(){const e=!this.settings.verticallyOriented;return this._reloadViewer({inGrid:!1,verticallyOriented:e,goDirectlyTo:this.settings.activePageIndex,verticalOffset:this.divaState.viewerCore.getYOffset(),horizontalOffset:this.divaState.viewerCore.getXOffset()}),e}_changeView(e){switch(e){case"document":return this._reloadViewer({inGrid:!1,inBookLayout:!1});case"book":return this._reloadViewer({inGrid:!1,inBookLayout:!0});case"grid":return this._reloadViewer({inGrid:!0});default:return!1}}_gotoPageByIndex(e,t,n){let i=parseInt(e,10);if(this._isPageIndexValid(i)){const e=this.divaState.viewerCore.getXOffset(i,t),r=this.divaState.viewerCore.getYOffset(i,n);return this.viewerState.renderer.goto(i,r,e),!0}return!1}_isPageIndexValid(e){return this.settings.manifest.isPageValid(e,this.settings.showNonPagedPages)}_getPageIndexForPageXYValues(e,t){const n=this.viewerState.outerElement.getBoundingClientRect(),i=n.top,r=n.left,s=n.bottom,o=n.right;if(e<r||e>o)return-1;if(t<i||t>s)return-1;const a=document.getElementsByClassName("diva-page");let c=a.length;for(;c--;){const n=a[c],i=n.getBoundingClientRect();if(!(e<i.left||e>i.right)&&!(t<i.top||t>i.bottom))return n.getAttribute("data-index")}return-1}_reloadViewer(e){return this.divaState.viewerCore.reload(e)}_getCurrentURL(){return location.protocol+"//"+location.host+location.pathname+location.search+"#"+this._getURLHash()}activate(){this.viewerState.isActiveDiva=!0}changeObject(e){this.viewerState.loaded=!1,this.divaState.viewerCore.clear(),this.viewerState.renderer&&this.viewerState.renderer.destroy(),this.viewerState.options.objectData=e,this._loadOrFetchObjectData()}changeView(e){this._changeView(e)}deactivate(){this.viewerState.isActiveDiva=!1}destroy(){this.divaState.viewerCore.destroy()}disableScrollable(){this.divaState.viewerCore.disableScrollable()}enableScrollable(){this.divaState.viewerCore.enableScrollable()}disableDragScrollable(){this.divaState.viewerCore.disableDragScrollable()}enableDragScrollable(){this.divaState.viewerCore.enableDragScrollable()}enterFullscreenMode(){return!this.settings.inFullscreen&&(this._toggleFullscreen(),!0)}enterGridView(){return!this.settings.inGrid&&(this._changeView("grid"),!0)}getAllPageURIs(){return this.settings.manifest.pages.map(e=>e.f)}getCurrentCanvas(){return this.settings.manifest.pages[this.settings.activePageIndex].canvas}getCurrentPageDimensionsAtCurrentZoomLevel(){return this.getPageDimensionsAtCurrentZoomLevel(this.settings.activePageIndex)}getCurrentPageFilename(){return console.warn("This method will be deprecated in the next version of Diva. Please use getCurrentPageURI instead."),this.settings.manifest.pages[this.settings.activePageIndex].f}getCurrentPageIndices(){return this.settings.currentPageIndices}getActivePageIndex(){return this.settings.activePageIndex}getCurrentPageOffset(){return this.getPageOffset(this.settings.activePageIndex)}getCurrentPageURI(){return this.settings.manifest.pages[this.settings.activePageIndex].f}getCurrentURL(){return this._getCurrentURL()}getFilenames(){return console.warn("This will be removed in the next version of Diva. Use getAllPageURIs instead."),this.settings.manifest.pages.map(e=>e.f)}getGridPagesPerRow(){return this.settings.pagesPerRow}getInstanceId(){return this.settings.ID}getInstanceSelector(){return this.divaState.viewerCore.selector}getItemTitle(){return this.settings.manifest.itemTitle}getMaxZoomLevel(){return this.settings.maxZoomLevel}getMaxZoomLevelForPage(e){return!!this._checkLoaded()&&this.settings.manifest.pages[e].m}getMinZoomLevel(){return this.settings.minZoomLevel}getNumberOfPages(){return!!this._checkLoaded()&&this.settings.numPages}getOtherImages(e){return this.settings.manifest.pages[e].otherImages}getPageDimensions(e){return this._checkLoaded()?this.divaState.viewerCore.getCurrentLayout().getPageDimensions(e):null}getPageDimensionsAtCurrentZoomLevel(e){let t=parseInt(e,10);if(!this._isPageIndexValid(t))throw new Error("Invalid Page Index");return this.divaState.viewerCore.getCurrentLayout().getPageDimensions(t)}getPageDimensionsAtZoomLevel(e,t){if(!this._checkLoaded())return!1;t>this.settings.maxZoomLevel&&(t=this.settings.maxZoomLevel);const n=this.settings.manifest.pages[parseInt(e,10)].d[parseInt(t,10)];return{width:n.w,height:n.h}}getPageImageURL(e,t){return this.settings.manifest.getPageImageURL(e,t)}getPageIndexForPageXYValues(e,t){return this._getPageIndexForPageXYValues(e,t)}getPageOffset(e,t){const n=this.divaState.viewerCore.getPageRegion(e,t);return{top:n.top,left:n.left}}getSettings(){return this.settings}getState(){return this._getState()}getZoomLevel(){return this.settings.zoomLevel}gotoPageByIndex(e,t,n){return this._gotoPageByIndex(e,t,n)}gotoPageByLabel(e,t,n){const i=this.settings.manifest.pages;let r=e.toLowerCase();for(let e=0,s=i.length;e<s;e++)if(i[e].l.toLowerCase().indexOf(r)>-1)return this._gotoPageByIndex(e,t,n);const s=parseInt(e,10)-1;return this._gotoPageByIndex(s,t,n)}gotoPageByName(e,t,n){console.warn("This method will be removed in the next version of Diva.js. Use gotoPageByURI instead.");const i=this._getPageIndex(e);return this._gotoPageByIndex(i,t,n)}gotoPageByURI(e,t,n){const i=this._getPageIndex(e);return this._gotoPageByIndex(i,t,n)}hasOtherImages(e){return!0===this.settings.manifest.pages[e].otherImages}hideNonPagedPages(){this._reloadViewer({showNonPagedPages:!1})}isInFullscreen(){return this.settings.inFullscreen}isPageIndexValid(e){return this._isPageIndexValid(e)}isPageInViewport(e){return this.viewerState.renderer.isPageVisible(e)}isReady(){return this.viewerState.loaded}isRegionInViewport(e,t,n,i,r){const s=this.divaState.viewerCore.getCurrentLayout();if(!s)return!1;const o=s.getPageOffset(e),a=o.top+n,c=o.left+t;return this.viewerState.viewport.intersectsRegion({top:a,bottom:a+r,left:c,right:c+i})}isVerticallyOriented(){return this.settings.verticallyOriented}leaveFullscreenMode(){return!!this.settings.inFullscreen&&(this._toggleFullscreen(),!0)}leaveGridView(){return!!this.settings.inGrid&&(this._reloadViewer({inGrid:!1}),!0)}setGridPagesPerRow(e){return!!this.divaState.viewerCore.isValidOption("pagesPerRow",e)&&this._reloadViewer({inGrid:!0,pagesPerRow:e})}setState(e){this._reloadViewer(this._getLoadOptionsForState(e))}setZoomLevel(e){return this.settings.inGrid&&this._reloadViewer({inGrid:!1}),this.divaState.viewerCore.zoom(e)}showNonPagedPages(){this._reloadViewer({showNonPagedPages:!0})}toggleFullscreenMode(){this._toggleFullscreen()}toggleNonPagedPagesVisibility(){this._reloadViewer({showNonPagedPages:!this.settings.showNonPagedPages})}toggleOrientation(){return this._togglePageLayoutOrientation()}translateFromMaxZoomLevel(e){const t=this.settings.maxZoomLevel-this.settings.zoomLevel;return e/Math.pow(2,t)}translateToMaxZoomLevel(e){const t=this.settings.maxZoomLevel-this.settings.zoomLevel;return 0===t?e:e*Math.pow(2,t)}zoomIn(){return this.setZoomLevel(this.settings.zoomLevel+1)}zoomOut(){return this.setZoomLevel(this.settings.zoomLevel-1)}}de.Events=u.Events;var he;t.default=de;"undefined"!=typeof window&&((he=window).Diva=he.Diva||de)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ltbWVkaWF0ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0xvY2FsU2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1NlbGVjdFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Ob3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyZ3NhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L0NvbnRlbnRzLnRzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Nb2RhbFdpbmRvdy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db29yZGluYXRlcy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3BhcmstbWQ1L3NwYXJrLW1kNS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvcmFuZG9tLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db2xvci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbnNjaGVtYS9saWIvaGVscGVycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnV2dXplbGEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRHJhZ0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvR3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0Vycm9yTG9nLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9SZXNpemUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvdWNoZGIvbGliL2luZGV4LWJyb3dzZXIuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2xvZGFzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdmtiZWF1dGlmeS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL0Rhc2hib2FyZENvbnRlbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1dhcm5pbmdzLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L1N0YWZmVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvTmV1bWVUb29scy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9xdWV1ZU1pY3JvdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tdXRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tZXNzYWdlQ2hhbm5lbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9zdGF0ZUNoYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi90aW1lb3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uc2NoZW1hL2xpYi9zY2FuLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9TZWxlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0NvbnZlcnRNZWkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1ZhbGlkYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1Vuc2F2ZWQudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvQ29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvSW5zZXJ0SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRWRpdENvbnRlbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FZGl0Q29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vZGVwbG95bWVudC9zY3JpcHRzL2VkaXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTmVvblZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL05lb25Db3JlLnRzIiwid2VicGFjazovLy8uL3NyYy9WZXJvdmlvV3JhcHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTmVvbk1hbmlmZXN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uc2NoZW1hL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbnNjaGVtYS9saWIvdmFsaWRhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzb25zY2hlbWEvbGliL2F0dHJpYnV0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdGVtcGxhdGUvVGVtcGxhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0RlYnVnTW9kZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGlzcGxheVBhbmVsL0Rpc3BsYXlQYW5lbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGl2YVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL3ZhbmlsbGEua2luZXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdXRpbHMvZHJhZ3Njcm9sbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9TaW5nbGVWaWV3L1NpbmdsZVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NpbmdsZVZpZXcvWm9vbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9EaXZhRWRpdE1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvU2luZ2xlRWRpdE1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0luZm9Nb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RleHRWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9UZXh0RWRpdE1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2VsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZXhjZXB0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZGl2YS1nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZ2VzdHVyZS1ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhZ2UtdG9vbHMtb3ZlcmxheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZG9jdW1lbnQtaGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZ3JpZC1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLW92ZXJsYXktbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdGlsZS1jb3ZlcmFnZS1tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2NvbXBvc2l0ZS1pbWFnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZG9jdW1lbnQtbGF5b3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9pbWFnZS1jYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvaW1hZ2UtcmVxdWVzdC1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9pbnRlcnBvbGF0ZS1hbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLWxheW91dHMvcGFnZS1kaW1lbnNpb25zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLWxheW91dHMvYm9vay1sYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhZ2UtbGF5b3V0cy9ncmlkLWxheW91dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvcGFnZS1sYXlvdXRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLWxheW91dHMvc2luZ2xlcy1sYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3NldHRpbmdzLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3ZhbGlkYXRpb24tcnVubmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy92aWV3cG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdmlld2VyLWNvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2dldC1zY3JvbGxiYXItd2lkdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL3BhcnNlLWxhYmVsLXZhbHVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYXJzZS1paWlmLW1hbmlmZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9paWlmLXNvdXJjZS1hZGFwdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9pbWFnZS1tYW5pZmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdG9vbGJhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdXRpbHMvaGFzaC1wYXJhbXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2RpdmEuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJSZWZsZWN0T3duS2V5cyIsIlIiLCJSZWZsZWN0IiwiUmVmbGVjdEFwcGx5IiwiYXBwbHkiLCJ0YXJnZXQiLCJyZWNlaXZlciIsImFyZ3MiLCJGdW5jdGlvbiIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uY2F0IiwiTnVtYmVySXNOYU4iLCJOdW1iZXIiLCJpc05hTiIsIkV2ZW50RW1pdHRlciIsImluaXQiLCJ0aGlzIiwib25jZSIsImVtaXR0ZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImVycm9yTGlzdGVuZXIiLCJlcnIiLCJyZW1vdmVMaXN0ZW5lciIsInJlc29sdmVyIiwic2xpY2UiLCJhcmd1bWVudHMiLCJldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIiLCJoYW5kbGVyIiwiZmxhZ3MiLCJvbiIsImFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyIiwiX2V2ZW50cyIsInVuZGVmaW5lZCIsIl9ldmVudHNDb3VudCIsIl9tYXhMaXN0ZW5lcnMiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwiY2hlY2tMaXN0ZW5lciIsImxpc3RlbmVyIiwiVHlwZUVycm9yIiwiX2dldE1heExpc3RlbmVycyIsInRoYXQiLCJfYWRkTGlzdGVuZXIiLCJ0eXBlIiwicHJlcGVuZCIsImV2ZW50cyIsImV4aXN0aW5nIiwid2FybmluZyIsIm5ld0xpc3RlbmVyIiwiZW1pdCIsInVuc2hpZnQiLCJwdXNoIiwibGVuZ3RoIiwid2FybmVkIiwidyIsIkVycm9yIiwiU3RyaW5nIiwiY291bnQiLCJjb25zb2xlIiwid2FybiIsIm9uY2VXcmFwcGVyIiwiZmlyZWQiLCJ3cmFwRm4iLCJfb25jZVdyYXAiLCJzdGF0ZSIsIndyYXBwZWQiLCJfbGlzdGVuZXJzIiwidW53cmFwIiwiZXZsaXN0ZW5lciIsImFyciIsInJldCIsIkFycmF5IiwidW53cmFwTGlzdGVuZXJzIiwiYXJyYXlDbG9uZSIsImxpc3RlbmVyQ291bnQiLCJjb3B5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndyYXBMaXN0ZW5lciIsImFyZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXQiLCJSYW5nZUVycm9yIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRNYXhMaXN0ZW5lcnMiLCJnZXRNYXhMaXN0ZW5lcnMiLCJkb0Vycm9yIiwiZXJyb3IiLCJlciIsIm1lc3NhZ2UiLCJjb250ZXh0IiwibGVuIiwibGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdCIsInBvc2l0aW9uIiwib3JpZ2luYWxMaXN0ZW5lciIsInNoaWZ0IiwiaW5kZXgiLCJwb3AiLCJzcGxpY2VPbmUiLCJvZmYiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJrZXlzIiwicmF3TGlzdGVuZXJzIiwiZXZlbnROYW1lcyIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJjb25zdHJ1Y3RvciIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiVGVtcEN0b3IiLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInNjaGVkdWxlRHJhaW4iLCJ0eXBlcyIsInF1ZXVlSW5kZXgiLCJxdWV1ZSIsInNjaGVkdWxlZCIsImNsZWFuVXBOZXh0VGljayIsIm5leHRUaWNrIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJydW4iLCJjbGVhclRpbWVvdXQiLCJ0ZXN0IiwiaW5zdGFsbCIsIkl0ZW0iLCJmdW4iLCJhcnJheSIsInRhc2siLCJsb2NhbFNldHRpbmdzIiwiREVGQVVMVF9TRVRUSU5HUyIsInpvb20iLCJnbHlwaE9wYWNpdHkiLCJpbWFnZU9wYWNpdHkiLCJjaXJjbGVTaXplIiwiaGlnaGxpZ2h0TW9kZSIsInVzZXJNb2RlIiwiaW5zZXJ0TW9kZSIsImluc2VydFRhYiIsInNlbGVjdGlvbk1vZGUiLCJkZWJ1Z01vZGUiLCJkaXNwbGF5QkJveCIsImRpc3BsYXlUZXh0IiwiZGlzcGxheUluZm8iLCJkaXNwbGF5RXJyTG9nIiwidmlld0JveCIsInNldHRpbmdzIiwicGFyYW1zIiwiZm9saW9JZCIsImlkIiwibG9hZCIsInN0b3JlZCIsIkpTT04iLCJwYXJzZSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzeW5jIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImdldFNlbGVjdGlvblR5cGUiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidW5zZWxlY3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInNlbGVjdGVkIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiY29udGFpbnMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJDb2xvciIsInVuaGlnaGxpZ2h0Iiwic3R5bGUiLCJmaWxsIiwiZnJvbSIsImRpdkxpbmUiLCJzdHJva2UiLCJzZXRBdHRyaWJ1dGUiLCJuZXVtZSIsInN5bFJlY3QiLCJwYXJlbnRFbGVtZW50IiwiYWRkIiwiZDMiLCJzZWxlY3RBbGwiLCJlbCIsImNvbG9yIiwiZm9udFdlaWdodCIsImdldEVsZW1lbnRCeUlkIiwiU2VsZWN0T3B0aW9ucyIsImVuZE9wdGlvbnNTZWxlY3Rpb24iLCJHcm91cGluZyIsImVuZEdyb3VwaW5nU2VsZWN0aW9uIiwiaW5uZXJIVE1MIiwidXBkYXRlSGlnaGxpZ2h0Iiwic2VsZWN0U3RhZmYiLCJzdGFmZiIsImRyYWdIYW5kbGVyIiwiaGlnaGxpZ2h0IiwidHJpZ2dlclNpbmdsZVN0YWZmQWN0aW9ucyIsImluaXRHcm91cGluZ0xpc3RlbmVycyIsImRyYWdJbml0Iiwic2VsZWN0TGF5ZXJFbGVtZW50IiwibGF5ZXJFbGVtZW50Iiwic2VsZWN0IiwibmVlZHNIaWdobGlnaHRVcGRhdGUiLCJzeWxJZCIsImVsZW0iLCJjbG9zZXN0Iiwic3BhbiIsImFzeW5jIiwiaXNMaWdhdHVyZSIsIm5jIiwibmVvblZpZXciLCJhdHRyaWJ1dGVzIiwiZ2V0RWxlbWVudEF0dHIiLCJ2aWV3IiwiZ2V0Q3VycmVudFBhZ2VVUkkiLCJCb29sZWFuIiwibGlnYXRlZCIsImVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlIiwic2VsZWN0aW9uVHlwZSIsImVsZW1lbnRzIiwic2hhcmVkU2Vjb25kTGV2ZWxQYXJlbnQiLCJ0ZW1wRWxlbWVudHMiLCJzZWNvbmRQYXJlbnQiLCJzZWxlY3RCQm94IiwiYmJveCIsInN5bCIsInJlc2l6ZSIsInF1ZXJ5U2VsZWN0b3IiLCJ0cmlnZ2VyQkJveEFjdGlvbnMiLCJwYXJlbnQiLCJwcmV2TmMiLCJwcmV2aW91c1NpYmxpbmciLCJuZXh0TmMiLCJuZXh0U2libGluZyIsInRyaWdnZXJHcm91cGluZyIsInRyaWdnZXJOY0FjdGlvbnMiLCJhbGxFbGVtc09mU2VsZWN0aW9uVHlwZSIsInNvcnRlZEVsZW1lbnRzIiwiaiIsImlzU2FtZU5vZGUiLCJmaXJzdEVsZW0iLCJzZWNvbmRFbGVtIiwiaW5kZXgxIiwiaW5kZXhPZiIsImluZGV4MiIsIk1hdGgiLCJhYnMiLCJmaWx0ZXIiLCJyZWZlcmVuY2VQYXJlbnRTdGFmZiIsInJlZmVyZW5jZVBhcmVudFN5bGxhYmxlIiwiZWxlbWVudHNBcnJheSIsImFub3RoZXJTdGFmZiIsInVseCIsInVseSIsImxyeCIsImxyeSIsInJvdGF0ZSIsInBhdGgiLCJjb29yZGluYXRlcyIsImdldEF0dHJpYnV0ZSIsIm1hdGNoIiwibWFwIiwiYXRhbiIsIm1pbiIsIm1heCIsIm5vdE5ldW1lcyIsIm5uIiwic2VsZWN0aW9uQ2xhc3MiLCJjb250YWluc0xheWVyRWxlbWVudHMiLCJjb250YWluc05jIiwiZ3JvdXBzVG9TZWxlY3QiLCJTZXQiLCJncm91cGluZyIsImZvbGxvd3MiLCJwcmVjZWRlcyIsImhhcyIsImdyb3VwIiwiZ3JvdXBzIiwidmFsdWVzIiwidHJpZ2dlck11bHRpU3RhZmZBY3Rpb25zIiwic2l6ZSIsInRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zIiwidHJpZ2dlckRlZmF1bHRBY3Rpb25zIiwidHJpZ2dlclN5bGxhYmxlQWN0aW9ucyIsImlzTGlua2FibGUiLCJpc0dyb3VwYWJsZSIsInRyaWdnZXJOZXVtZUFjdGlvbnMiLCJjaGlsZHJlbiIsImZpcnN0TkMiLCJzZWNvbmROQyIsImZpcnN0TkNYIiwieCIsImJhc2VWYWwiLCJzZWNvbmROQ1giLCJmaXJzdE5DWSIsInkiLCJzZWNvbmROQ1kiLCJnIiwidHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zIiwibm90aWZpY2F0aW9ucyIsImN1cnJlbnRNb2RlTWVzc2FnZSIsIm5vdGlmaWNhdGlvbkljb24iLCJkZWZhdWx0Iiwic3VjY2VzcyIsIk5vdGlmaWNhdGlvbiIsImxvZ0luZm8iLCJkaXNwbGF5ZWQiLCJ1dWlkdjQiLCJpc01vZGVNZXNzYWdlIiwic2VhcmNoIiwidGltZW91dElEIiwiY2xlYXJOb3RpZmljYXRpb24iLCJjdXJyZW50SWQiLCJzdGFydE5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbiIsImdldElkIiwibm90aWZpY2F0aW9uQ29udGVudCIsIm5ld05vdGlmaWNhdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmQiLCJkaXNwbGF5IiwiZGlzcGxheU5vdGlmaWNhdGlvbiIsInNldFRpbWVvdXRJZCIsInF1ZXVlTm90aWZpY2F0aW9uIiwicmVjb3JkTm90aWZpY2F0aW9uIiwiaW5zZXJ0VGFiSHRtbCIsInByaW1pdGl2ZVRhYiIsImdyb3VwaW5nVGFiIiwic3lzdGVtVGFiIiwiaW5zZXJ0Q29udHJvbHNQYW5lbCIsImVkaXRDb250cm9sc1BhbmVsIiwibmNBY3Rpb25Db250ZW50cyIsImRlZmF1bHROZXVtZUFjdGlvbkNvbnRlbnRzIiwibmV1bWVBY3Rpb25Db250ZW50cyIsImRlZmF1bHRBY3Rpb25Db250ZW50cyIsImRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyIsImN1c3Rvc0FjdGlvbkNvbnRlbnRzIiwibGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHMiLCJsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzIiwiYWNjaWRBY3Rpb25Db250ZW50cyIsInN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyIsInN0YWZmTWVyZ2VBY3Rpb25Db250ZW50cyIsImNvbHVtbkFjdGlvbkNvbnRlbnRzIiwiY2xlZkFjdGlvbkNvbnRlbnRzIiwiZGl2TGluZUFjdGlvbkNvbnRlbnRzIiwiYmJveEFjdGlvbkNvbnRlbnRzIiwiZ3JvdXBpbmdNZW51IiwibGlnYXR1cmVOYyIsImxpZ2F0dXJlIiwic3BsaXRTeWxsYWJsZSIsImVkaXRUZXh0TW9kYWwiLCJob3RrZXlzTW9kYWwiLCJzeWxsYWJsZUFjdGlvbnNDb250ZW50IiwiZXJyb3JMb2dzUGFuZWxDb250ZW50cyIsImUiLCJieXRlVG9IZXgiLCJ0b1N0cmluZyIsInN1YnN0ciIsIm9mZnNldCIsInV1aWQiLCJ0b0xvd2VyQ2FzZSIsImxhc3RHbHlwaE9wYWNpdHkiLCJsYXN0SW1hZ2VPcGFjaXR5IiwibGFzdENpcmNsZVNpemUiLCJzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyIiwibWVpQ2xhc3NOYW1lIiwib3BhY2l0eU91dHB1dCIsInNldFNldHRpbmdzIiwiaGlkZUdseXBoSW1nIiwib3BhY2l0eSIsInNldEJnT3BhY2l0eUZyb21TbGlkZXIiLCJiYWNrZ3JvdW5kIiwiYmdPcGFjaXR5T3V0cHV0IiwiaGlkZUJnSW1nIiwiYmciLCJ1cGRhdGVIaWdobGlnaHRPcHRpb24iLCJvcHRpb24iLCJkcm9wZG93biIsImhpZ2hsaWdodFR5cGUiLCJ0ZXh0Q29udGVudCIsInVuc2V0R3JvdXBpbmdIaWdobGlnaHQiLCJ0b1VwcGVyQ2FzZSIsInNldEdyb3VwaW5nSGlnaGxpZ2h0Iiwic2V0SGlnaGxpZ2h0T3B0aW9uIiwiaGlnaGxpZ2h0Q2xpY2thd2F5IiwiYm9keSIsInNldEhpZ2hsaWdodENvbnRyb2xzIiwiZXZ0Iiwic3RvcFByb3BhZ2F0aW9uIiwidG9nZ2xlIiwibG9hZEhpZ2hsaWdodFNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJ6b29tSGFuZGxlciIsInpvb21TbGlkZXIiLCJ6b29tT3V0cHV0Iiwiem9vbVRvIiwicmVzZXRab29tQW5kUGFuIiwiZGlzYWJsZWQiLCJjdXJyZW50Wm9vbSIsInBhcnNlSW50IiwicHJldmVudERlZmF1bHQiLCJuZXdab29tIiwiY2lyY2xlU2xpZGVyIiwiY2lyY2xlT3V0cHV0IiwiY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlciIsInJlc2l6ZVBvaW50cyIsImVtcHR5IiwiYXR0ciIsImhpZ2hsaWdodFNlbGVjdGlvbiIsImhpZ2hsaWdodElkIiwiZGlzcGxheUFsbEJ0biIsImRpc3BsYXlCQm94ZXMiLCJjaGVja2VkIiwib3BhY2l0eVNsaWRlciIsImlucHV0Q2hhbmdlT3BhY2l0eSIsInRvZ2dsZU9wYWNpdHlCdG4iLCJuZXdPcGFjaXR5Iiwicm91bmQiLCJzZXRHbHlwaE9wYWNpdHlDb250cm9scyIsImJnT3BhY2l0eVNsaWRlciIsImJnSW5wdXRDaGFuZ2VIYW5kbGVyIiwidG9nZ2xlQmdPcGFjaXR5QnRuIiwic2V0QmdPcGFjaXR5Q29udHJvbHMiLCJtZXRhS2V5Iiwic2VsZWN0QWxsQnRuIiwib3B0aW9ucyIsImNsaWNrIiwic2V0RGlzcGxheUFsbExpc3RlbmVyIiwiZGlzcGxheUNvbnRlbnRzIiwidG9nZ2xlRGlzcGxheSIsInBhZGRpbmciLCJvdmVyZmxvdyIsIk1vZGFsV2luZG93VmlldyIsIk1vZGFsV2luZG93U3RhdGUiLCJvcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdyIsImhpZGVNb2RhbFdpbmRvdyIsInVwZGF0ZVN5bFRleHQiLCJmb2N1c01vZGFsV2luZG93Iiwib3JpZyIsInJlcGxhY2UiLCJ0cmltIiwidXBkYXRlZFN5bFRleHQiLCJlZGl0b3JBY3Rpb24iLCJhY3Rpb24iLCJwYXJhbSIsImVsZW1lbnRJZCIsImVudHJpZXMiLCJjbGFzc05hbWUiLCJ0ZXh0IiwiZWRpdCIsInRoZW4iLCJyZXNwb25zZSIsInVwZGF0ZUZvckN1cnJlbnRQYWdlIiwidXBkYXRlU2VsZWN0ZWRCQm94Iiwia2V5ZG93bkxpc3RlbmVyIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwibW9kYWxXaW5kb3dWaWV3IiwiRURJVF9URVhUIiwiRE9DVU1FTlRfVVBMT0FEIiwiTkVXX0ZPTERFUiIsIlJFTkFNRSIsImZvY3VzIiwibW9kYWxXaW5kb3dTdGF0ZSIsIkNMT1NFRCIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJjb250ZW50Iiwic2V0TW9kYWxXaW5kb3dDb250ZW50IiwiSE9US0VZUyIsIk1PVkVfVE8iLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJPUEVOIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJjb250YWluZXIiLCJ0aXRsZSIsImlubmVyVGV4dCIsInJlbW92ZVN5bWJvbCIsIkVSUk9SX0xPRyIsImVuY29kZVVSSSIsInVwbG9hZEFyZWFIVE1MIiwibmV3Rm9sZGVySFRNTCIsInJlbmFtZUhUTUwiLCJiYm94SWQiLCJmaW5kIiwiZGlzcGxheVJlY3QiLCJ1bnNldEluY2xpbmF0dW1BY3Rpb24iLCJhdHRyVHlwZSIsImF0dHJWYWx1ZSIsInVuc2V0VmlyZ2FBY3Rpb24iLCJ1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24iLCJ1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24iLCJ1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uIiwiY3VydmUiLCJkZWxldGVCdXR0b25IYW5kbGVyIiwicmVtb3ZlSGFuZGxlciIsIm1vcmVFZGl0IiwiZXh0cmFFZGl0IiwidG9SZW1vdmUiLCJjaGFpbkFjdGlvbiIsImNoYW5nZVN0YWZmSGFuZGxlciIsInRvQ2hhbmdlIiwiaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIiLCJ0b0luc2VydCIsInJlc3VsdCIsIm1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyIiwidG9Nb3ZlIiwibWF0Y2hIZWlnaHRIYW5kbGVyIiwiYWRkRGVsZXRlTGlzdGVuZXIiLCJkZWwiLCJhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyIiwiY2hhbmdlU3RhZmYiLCJ1cGRhdGVDb2x1bW5JbmZvIiwiY29sSW5wdXQiLCJzdGF2ZXMiLCJjb2xJbmZvIiwiaGFzQ29sdW1uIiwiam9pbiIsInN0YWZmQ29sIiwiYWRkQ29sdW1uSW5mb1N0ZXBIYW5kbGVyIiwiZGVjcmVtZW50QnV0dG9uIiwiaW5jcmVtZW50QnV0dG9uIiwiY29uZmlybUJ1dHRvbiIsInVwZGF0ZU51bWJlciIsImNoYW5nZSIsImN1cnJlbnRWYWx1ZSIsInRvU2V0Q29sdW1uIiwic2V0RWRpdENvbnRyb2xzIiwiZWRpdFR5cGUiLCJjb250ZW50cyIsInBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24iLCJ0cmlnZ2VyU3RhZmZTcGxpdE1vZGUiLCJTcGxpdFN0YWZmSGFuZGxlciIsInN0YXJ0U3BsaXQiLCJpbml0T3B0aW9uc0xpc3RlbmVycyIsImRyb3AiLCJvcHRpb25zQ2xpY2thd2F5Iiwib3RoZXIiLCJpbml0TmVvblZpZXciLCJDb250ZW50cyIsInVuc2V0SW5jbGluYXR1bSIsInVuc2V0VmlyZ2EiLCJ1bnNldFZpcmdhUmV2ZXJzZWQiLCJ1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJ1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIiwic2V0SW5jbGluYXR1bSIsInNldFZpcmdhIiwic2V0VmlyZ2FSZXZlcnNlZCIsInNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSIsInRyaWdnZXJDaGFuZ2VHcm91cCIsImNvbnRvdXIiLCJjaGFuZ2VHcm91cGluZ0FjdGlvbiIsIlNwbGl0TmV1bWVIYW5kbGVyIiwiaW5mbyIsImdldENvbnRvdXJCeVZhbHVlIiwiZXh0cmFBY3Rpb25zSFRNTCIsImFjY2lkT3B0aW9uc0xpc3RlbmVyIiwiaW5jcmVtZW50T2N0YXZlIiwiZGlyZWN0aW9uIiwic2hhcGUiLCJjbGVmT3B0aW9uc0xpc3RlbmVyIiwiZGl2TGluZU9wdGlvbnNMaXN0ZW5lciIsIm1lcmdlU3RhdmVzIiwicG9pbnRzIiwiZ2V0U3RhZmZCQm94IiwieV9jaGFuZ2UiLCJ0YW4iLCJnZXRTVkdSZWxDb29yZHMiLCJjbGllbnRYIiwiY2xpZW50WSIsInB0IiwiRE9NUG9pbnQiLCJwYWdlTWFyZ2luIiwibWF0cml4VHJhbnNmb3JtIiwiZ2V0U2NyZWVuQ1RNIiwiaW52ZXJzZSIsImdldFN0YWZmSWRCeUNvb3JkcyIsInN0YWZmQkJveGVzIiwic3RhZmZJZCIsImJnSW1nIiwicmVjdCIsInRhZ05hbWUiLCJnZXRCQm94IiwicGFyZW50Tm9kZSIsIndpZHRoIiwiaGVpZ2h0IiwiaGV4X2NociIsIm1kNWN5Y2xlIiwiayIsImEiLCJiIiwibWQ1YmxrIiwibWQ1YmxrcyIsImNoYXJDb2RlQXQiLCJtZDVibGtfYXJyYXkiLCJtZDUxIiwidGFpbCIsInRtcCIsImxvIiwiaGkiLCJzdWJzdHJpbmciLCJyaGV4IiwiaGV4IiwidG9VdGY4Iiwic3RyIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJoZXhUb0JpbmFyeVN0cmluZyIsImJ5dGVzIiwiZnJvbUNoYXJDb2RlIiwiU3BhcmtNRDUiLCJyZXNldCIsIkFycmF5QnVmZmVyIiwiY2xhbXAiLCJ2YWwiLCJ0byIsIm51bSIsInRhcmdldEFycmF5Iiwic291cmNlQXJyYXkiLCJieXRlTGVuZ3RoIiwiYmVnaW4iLCJlbmQiLCJVaW50OEFycmF5IiwiYXBwZW5kQmluYXJ5IiwiX2J1ZmYiLCJfbGVuZ3RoIiwiX2hhc2giLCJyYXciLCJidWZmIiwiX2ZpbmlzaCIsImdldFN0YXRlIiwiaGFzaCIsInNldFN0YXRlIiwiZGVzdHJveSIsImhhc2hCaW5hcnkiLCJmaXJzdCIsInNlY29uZCIsInJldHVyblVJbnQ4QXJyYXkiLCJidWZmZXIiLCJzdWJhcnJheSIsInV0ZjhTdHIyQXJyYXlCdWZmZXIiLCJtZDUxX2FycmF5IiwiZmFjdG9yeSIsInVpbnQ4VG9VdWlkIiwiZGF0YSIsImNiIiwicHJldmlvdXMiLCJjdXJyZW50IiwicGFkU3RhcnQiLCJyZWR1Y2UiLCJjcnlwdG8iLCJvY3RldHMiLCJtb2RpZmllcnMiLCJnZXRSYW5kb21WYWx1ZXMiLCJDb2xvclBhbGV0dGUiLCJyZWN0cyIsInVuc2V0U3RhZmZIaWdobGlnaHQiLCJjaGlsZCIsImNjaGlsZCIsInNldFN0YWZmSGlnaGxpZ2h0Iiwic3RhZmZDb2xvciIsImNvbHVtbk51bSIsImNvbHVtbiIsInNldENvbHVtbkhpZ2hsaWdodCIsImdyb3VwQ29sb3IiLCJkaXZMaW5lQ2hpbGRyZW4iLCJ1cmkiLCJWYWxpZGF0aW9uRXJyb3IiLCJpbnN0YW5jZSIsInNjaGVtYSIsImFyZ3VtZW50IiwiaXNBcnJheSIsInN1bSIsIml0ZW0iLCJtYWtlU3VmZml4IiwiJGlkIiwic3RhY2siLCJWYWxpZGF0b3JSZXN1bHQiLCJjdHgiLCJwcm9wZXJ0eVBhdGgiLCJlcnJvcnMiLCJ0aHJvd0Vycm9yIiwidGhyb3dGaXJzdCIsInRocm93QWxsIiwiZGlzYWJsZUZvcm1hdCIsInN0cmluZ2l6ZXIiLCJ2IiwiVmFsaWRhdG9yUmVzdWx0RXJyb3IiLCJjYXB0dXJlU3RhY2tUcmFjZSIsImFkZEVycm9yIiwiZGV0YWlsIiwiaW1wb3J0RXJyb3JzIiwicmVzIiwidmFsaWRhdG9yVHlwZSIsIlNjaGVtYUVycm9yIiwibXNnIiwiU2NoZW1hQ29udGV4dCIsImJhc2UiLCJzY2hlbWFzIiwibWFrZUNoaWxkIiwicHJvcGVydHlOYW1lIiwiRk9STUFUX1JFR0VYUFMiLCJpbnB1dCIsInBhcnNlRmxvYXQiLCJSZWdFeHAiLCJyZWdleHAiLCJyZWdleCIsInBhdHRlcm4iLCJpcHY0IiwiaXNGb3JtYXQiLCJmb3JtYXQiLCJ2YWxpZGF0b3IiLCJjdXN0b21Gb3JtYXRzIiwiZGVlcE1lcmdlciIsImRzdCIsImRlZXBNZXJnZSIsImNvcHlpc3QiLCJzcmMiLCJjb3B5aXN0V2l0aERlZXBNZXJnZSIsInBhdGhFbmNvZGVyIiwiZGVlcENvbXBhcmVTdHJpY3QiLCJldmVyeSIsImFLZXlzIiwiYktleXMiLCJvYmplY3RHZXRQYXRoIiwicGFydHMiLCJzcGxpdCIsImRlY29kZVVSSUNvbXBvbmVudCIsImVuY29kZVBhdGgiLCJnZXREZWNpbWFsUGxhY2VzIiwibnVtYmVyIiwiZGVjaW1hbFBsYWNlcyIsImRlY2ltYWxQYXJ0cyIsImlzU2NoZW1hIiwicm5kczgiLCJybmciLCJtc0NyeXB0byIsIm9iaiIsIm1ldGFTdGFjayIsImxhc3RNZXRhRWxlbWVudCIsImxhc3RFbGVtZW50SW5kZXgiLCJuZXh0IiwiYXJyYXlQcmVmaXgiLCJvYmpQcmVmaXgiLCJwcmVmaXgiLCJjb2xsYXRpb25JbmRleCIsInBhcnNlZE51bSIsIm51bUNoYXIiLCJwYXJzZWRTdHJpbmciLCJsYXN0Q2giLCJudW1Db25zZWN1dGl2ZVNsYXNoZXMiLCJjaCIsImFycmF5RWxlbWVudCIsIm9iakVsZW1lbnQiLCJidWYiLCJybmRzIiwicmFuZG9tIiwic2VsZWN0b3IiLCJkcmFnU3RhcnRDb29yZHMiLCJkcmFnQmVoYXZpb3VyIiwiZHJhZyIsImV2ZW50IiwiZHgiLCJkeSIsInNvdXJjZUV2ZW50IiwiZHJhZ2dpbmciLCJkcmFnRW5kZWQiLCJzZWxlY3Rpb24iLCJub01vdmVQcmVjZWRlcyIsImhhc0F0dHJpYnV0ZSIsIm1vdmVFbGVtZW50cyIsImJib3hlcyIsInhEaWZmIiwieURpZmYiLCJpc0N1cnNvck91dE9mQm91bmRzIiwiaXNEcmFnT3V0T2ZCb3VuZHMiLCJyZXR1cm5FbGVtZW50cyIsInBhcmFtQXJyYXkiLCJkcmFnQWN0aW9uIiwidG9SZXNlbGVjdCIsInJlc2VsZWN0IiwicmVzZWxlY3RlZCIsInJlc2V0VG9BY3Rpb24iLCJlbmRYIiwiZW5kWSIsImlzT3V0T2ZTVkdCb3VuZHMiLCJnbHlwaFNlbGVjdG9yIiwic2VsZWN0aW9uQkJveCIsImFjYyIsImdldEdseXBoQkJveCIsImN1cnIiLCJNQVhfVkFMVUUiLCJNSU5fVkFMVUUiLCJTZWxlY3RUb29scyIsInNoYXJlZExvZ2ljYWxQYXJlbnQiLCJhcmVBZGphY2VudCIsImNvbnRhaW5zTGlua2VkIiwiaXNMaW5rZWQiLCJjYW5CZUxpbmtlZCIsInNvcnQiLCJzdGFmZkEiLCJzdGFmZkIiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIk5vZGUiLCJET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkciLCJzeWxsYWJsZXMiLCJjdXJyZW50U3lsbGFibGVJbmRleCIsImN1cnJlbnRTdGFmZiIsIm5leHRTdGFmZiIsImN1cnJlbnRTdGFmZkluZGV4IiwidW5saW5rZWRFbGVtZW50cyIsImZpcnN0VW5saW5rZWQiLCJpZHgiLCJzeWxsYWJsZSIsImF0IiwibmV4dFN5bGxhYmxlSWQiLCJuZXh0U3lsbGFibGVJZHgiLCJuZXh0U3lsbGFibGUiLCJwcmV2U3lsbGFibGVJZCIsInByZXZTeWxsYWJsZSIsImhhc0ludmFsaWRMaW5rZWRTeWxsYWJsZSIsInN5c3RlbXMiLCJlbGVtZW50SWRzIiwiZ3JvdXBpbmdBY3Rpb24iLCJnZXRDaGlsZHJlbklkcyIsImdldElkcyIsInRvZ2dsZUxpbmtlZFN5bGxhYmxlcyIsImdyb3VwVHlwZSIsIm5ldW1lUGFyZW50IiwibmNzIiwiZ2V0Q29udG91ciIsIldhcm5pbmdzIiwiZ3JvdXBpbmdOb3RSZWNvZ25pemVkIiwiZ2V0U1ZHR3JhcGhpY3NFbGVtZW50QnlJZCIsIlNWR0dyYXBoaWNzRWxlbWVudCIsInVubGluayIsImZpcnN0U3lsbGFibGUiLCJzZWNvbmRTeWxsYWJsZSIsInVubGlua2VkRWxlbWVudCIsImdldFRvZ2dsZVN5bGxhYmxlSWRzIiwibG9nIiwiaWRzIiwiY2hpbGRyZW5JZHMiLCJjcmVhdGVMb2dNZXNzYWdlIiwibm90aWYiLCJub3RpZkRpdiIsInJlbW92ZUJ0biIsIm9uY2xpY2siLCJpbmZvQnRuIiwibW9kYWxXaW5kb3ciLCJNb2RhbFdpbmRvdyIsInNldE1vZGFsV2luZG93VmlldyIsIm9wZW5Nb2RhbFdpbmRvdyIsIm9wZW5FcnJvckxvZ1dpbmRvdyIsImluaXRFcnJvckxvZ0NvbnRyb2xzIiwiZXJyb3JQYW5lbCIsImhlYWRpbmciLCJkcm9wZG93bkljb24iLCJpbml0RGlzcGxheUxpc3RlbmVyIiwiY2hlY2tib3hlc0NvbnRhaW5lciIsImVycm9yc0xhYmVsIiwiZXJvcnJzQnRuIiwiYXBwZW5kQ2hpbGQiLCJ1cGRhdGVFcnJvckxvZ1Zpc2liaWxpdHkiLCJub3RpZlBhbmVsIiwiUG9pbnROYW1lcyIsIlRvcExlZnQiLCJUb3AiLCJUb3BSaWdodCIsIlJpZ2h0IiwiQm90dG9tUmlnaHQiLCJCb3R0b20iLCJCb3R0b21MZWZ0IiwiTGVmdCIsImdldFBvaW50cyIsInNpbiIsImluaXRpYWxVbHgiLCJpbml0aWFsTHJ4IiwiaW5pdGlhbFBvaW50IiwiaW5pdGlhbFVseSIsImluaXRpYWxMcnkiLCJpbml0aWFsWSIsImluaXRpYWxSZWN0WSIsInBvbHlMZW4iLCJpbml0aWFsUm90YXRlIiwicmVkcmF3IiwicG9pbnRTdHJpbmciLCJfZWxlbSIsInRleHRSZWN0IiwicG9pbnROYW1lIiwicG9pbnQiLCJwb2ludFN0cmluZ1JpZ2h0IiwicG9pbnRTdHJpbmdMZWZ0IiwiZHJhd0luaXRpYWxSZWN0Iiwid2hpY2hQb2ludCIsIl8iLCJ2aWV3cG9ydEVsZW1lbnQiLCJyZXNpemVTdGFydCIsInJlc2l6ZURyYWciLCJyZXNpemVFbmQiLCJyb3RhdGVTdGFydCIsInRlbXAiLCJtb3VzZSIsInRlbXBSb3RhdGUiLCJyb3RhdGVFbmQiLCJjdXJyZW50UG9pbnQiLCJ3aGljaCIsIlBJIiwiRXhwb3J0ZWRTZXQiLCJFeHBvcnRlZE1hcCIsIm1hbmdsZSIsInVubWFuZ2xlIiwiTWFwJDEiLCJfc3RvcmUiLCJTZXQkMSIsImNsb25lQmluYXJ5T2JqZWN0IiwiY2xvbmVBcnJheUJ1ZmZlciIsIndlYmtpdFNsaWNlIiwibWFuZ2xlZCIsImRlbGV0ZSIsIk1hcCIsInByb3AiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzcGVjaWVzIiwic3VwcG9ydHNNYXBBbmRTZXQiLCJmdW5jVG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwiY2xvbmUiLCJuZXdPYmplY3QiLCJEYXRlIiwiaXNGaW5pdGUiLCJ0b0lTT1N0cmluZyIsIkJsb2IiLCJpc0JpbmFyeU9iamVjdCIsInByb3RvIiwiQ3RvciIsImlzUGxhaW5PYmplY3QiLCJjYWxsZWQiLCJ0b1Byb21pc2UiLCJmdW5jIiwic2VsZiIsInVzZWRDQiIsInByb21pc2UiLCJmdWxmaWxsIiwicmVzcCIsImNhbGxiYWNrIiwibWVzZyIsImFkYXB0ZXJGdW4iLCJfY2xvc2VkIiwiX2Rlc3Ryb3llZCIsImxvZ0FyZ3MiLCJvcmlnQ2FsbGJhY2siLCJyZXNwb25zZUFyZ3MiLCJsb2dBcGlDYWxsIiwidGFza3F1ZXVlIiwiaXNSZWFkeSIsImFkZFRhc2siLCJmYWlsZWQiLCJwaWNrIiwiaGFzTG9jYWwiLCJpZGVudGl0eUZ1bmN0aW9uIiwiZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQiLCJvayIsImJ1bGtHZXQiLCJkYiIsIm9wdHMiLCJyZXF1ZXN0cyIsImRvY3MiLCJyZXF1ZXN0c0J5SWQiLCJyZXF1ZXN0IiwibnVtRG9jcyIsIm51bURvbmUiLCJwZXJEb2NSZXN1bHRzIiwiY2hlY2tEb25lIiwicmVzdWx0cyIsImFsbFJlcXVlc3RzIiwibmV4dEJhdGNoIiwidXBUbyIsImJhdGNoIiwiZG9jSWQiLCJkb2NJZHgiLCJkb2NSZXF1ZXN0cyIsImRvY09wdHMiLCJvcGVuX3JldnMiLCJyZXYiLCJmb3JtYXRSZXN1bHQiLCJwcm9jZXNzQmF0Y2giLCJoYXNMb2NhbFN0b3JhZ2UiLCJDaGFuZ2VzIiwiYXR0YWNoQnJvd3NlckV2ZW50cyIsImd1YXJkZWRDb25zb2xlIiwibWV0aG9kIiwiZGVmYXVsdEJhY2tPZmYiLCJtYXhUaW1lb3V0IiwicmFuZG9tTnVtYmVyIiwiZXhwbGFpbkVycm9yIiwic3RhdHVzIiwiZGJOYW1lIiwiaW5wcm9ncmVzcyIsImV2ZW50RnVuY3Rpb24iLCJjaGFuZ2VzT3B0cyIsImNoYW5nZXMiLCJzZXEiLCJzaW5jZSIsImNhbmNlbGxlZCIsIm9uQ2hhbmdlIiwibm90aWZ5TG9jYWxXaW5kb3dzIiwibm90aWZ5IiwiJGluamVjdF9PYmplY3RfYXNzaWduIiwiYXNzaWduIiwibmV4dFNvdXJjZSIsIm5leHRLZXkiLCJQb3VjaEVycm9yIiwicmVhc29uIiwiTUlTU0lOR19CVUxLX0RPQ1MiLCJNSVNTSU5HX0RPQyIsIlJFVl9DT05GTElDVCIsIklOVkFMSURfSUQiLCJNSVNTSU5HX0lEIiwiUkVTRVJWRURfSUQiLCJVTktOT1dOX0VSUk9SIiwiQkFEX0FSRyIsIlFVRVJZX1BBUlNFX0VSUk9SIiwiRE9DX1ZBTElEQVRJT04iLCJCQURfUkVRVUVTVCIsIk5PVF9BTl9PQkpFQ1QiLCJJREJfRVJST1IiLCJJTlZBTElEX1JFViIsIk1JU1NJTkdfU1RVQiIsImNyZWF0ZUVycm9yIiwiQ3VzdG9tUG91Y2hFcnJvciIsIm5hbWVzIiwiZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZSIsImZpbHRlckNoYW5nZSIsInJlcSIsImhhc0ZpbHRlciIsInF1ZXJ5IiwicXVlcnlfcGFyYW1zIiwiZG9jIiwiZmlsdGVyUmV0dXJuIiwidHJ5RmlsdGVyIiwiaW5jbHVkZV9kb2NzIiwiYXR0YWNobWVudHMiLCJhdHQiLCJfYXR0YWNobWVudHMiLCJzdHViIiwiZmxhdHRlbiIsImFycnMiLCJpbnZhbGlkSWRFcnJvciIsImlzUmVtb3RlIiwiX3JlbW90ZSIsInBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lIiwibm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lIiwibm9ybWFsaXplZCIsInFQYXJzZXIiLCJwYXJzZXIiLCJwYXJzZVVyaSIsImV4ZWMiLCJlbmNvZGVkIiwiJDAiLCIkMSIsIiQyIiwic2NvcGVFdmFsIiwic291cmNlIiwic2NvcGUiLCJ1cHNlcnQiLCJkaWZmRnVuIiwiY2F0Y2giLCJkb2NSZXYiLCJfcmV2IiwibmV3RG9jIiwiX2lkIiwicHV0IiwidXBkYXRlZCIsInRyeUFuZFB1dCIsInRoaXNBdG9iIiwiYXRvYiIsInRoaXNCdG9hIiwiYnRvYSIsImNyZWF0ZUJsb2IiLCJwcm9wZXJ0aWVzIiwiYnVpbGRlciIsIkJsb2JCdWlsZGVyIiwiTVNCbG9iQnVpbGRlciIsIk1vekJsb2JCdWlsZGVyIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJnZXRCbG9iIiwiYmluYXJ5U3RyaW5nVG9BcnJheUJ1ZmZlciIsImJpbiIsImJpblN0cmluZ1RvQmx1ZmZlciIsImJpblN0cmluZyIsImI2NFRvQmx1ZmZlciIsImI2NCIsInJlYWRBc0JpbmFyeVN0cmluZyIsImJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiaGFzQmluYXJ5U3RyaW5nIiwib25sb2FkZW5kIiwiYmluYXJ5IiwiYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyIsInJlYWRBc0FycmF5QnVmZmVyIiwiYmxvYlRvQmluYXJ5U3RyaW5nIiwiYmxvYk9yQnVmZmVyIiwiYmxvYlRvQmFzZTY0IiwiYmFzZTY0Iiwic2V0SW1tZWRpYXRlU2hpbSIsInNldEltbWVkaWF0ZSIsImFwcGVuZEJsb2IiLCJzdGFydCIsInNsaWNlQmxvYiIsImFycmF5QnVmZmVyIiwiYXBwZW5kU3RyaW5nIiwic3RyaW5nIiwiYmluYXJ5TWQ1IiwiaW5wdXRJc1N0cmluZyIsImNodW5rU2l6ZSIsImNodW5rcyIsImNlaWwiLCJjdXJyZW50Q2h1bmsiLCJsb2FkTmV4dENodW5rIiwiZG9uZSIsInJhd1RvQmFzZTY0Iiwic3RyaW5nTWQ1IiwicmV2JCQxIiwiZGV0ZXJtaW5pc3RpY19yZXZzIiwibXV0YXRlYWJsZURvYyIsIl9yZXZfdHJlZSIsIndpbm5pbmdSZXYiLCJtZXRhZGF0YSIsIndpbm5pbmdJZCIsIndpbm5pbmdQb3MiLCJ3aW5uaW5nRGVsZXRlZCIsIm5vZGUiLCJ0b1Zpc2l0IiwicmV2X3RyZWUiLCJ0cmVlIiwiYnJhbmNoZXMiLCJwb3MiLCJkZWxldGVkIiwidHJhdmVyc2VSZXZUcmVlIiwicmV2cyIsIm5ld0N0eCIsInNvcnRCeVBvcyIsImNvbGxlY3RMZWF2ZXMiLCJsZWF2ZXMiLCJpc0xlYWYiLCJyZXZlcnNlIiwiY29sbGVjdENvbmZsaWN0cyIsIndpbiIsImNvbmZsaWN0cyIsImxlYWYiLCJyb290VG9MZWFmIiwicGF0aHMiLCJoaXN0b3J5Iiwic29ydEJ5UG9zJDEiLCJpbnNlcnRTb3J0ZWQiLCJjb21wYXJhdG9yIiwibWlkIiwibG93IiwiaGlnaCIsImJpbmFyeVNlYXJjaCIsInNwbGljZSIsInBhdGhUb1RyZWUiLCJudW1TdGVtbWVkIiwicm9vdCIsImN1cnJlbnRMZWFmIiwiY29tcGFyZVRyZWUiLCJtZXJnZVRyZWUiLCJpbl90cmVlMSIsImluX3RyZWUyIiwidHJlZTEiLCJ0cmVlMiIsIm1lcmdlZCIsImRvTWVyZ2UiLCJkb250RXhwYW5kIiwicmVzdHJlZSIsImJyYW5jaCIsInQxIiwidDIiLCJkaWZmIiwiY2FuZGlkYXRlUGFyZW50cyIsInRyZWVzIiwicGFyZW50SWR4IiwiZWxlbWVudHNMZW4iLCJtZXJnZSIsImRlcHRoIiwibmV3VHJlZSIsInN0ZW1tZWQiLCJzdGVtbWVkUmV2cyIsInJldkhhc2giLCJzdGVtIiwiZ2V0VHJlZXMiLCJpc0RlbGV0ZWQiLCJpc0xvY2FsSWQiLCJDaGFuZ2VzJDEiLCJjb21wbGV0ZSIsImVlIiwib25EZXN0cm95IiwiY2FuY2VsIiwicGVuZGluZyIsImxhc3RTZXEiLCJpc0NhbmNlbGxlZCIsInRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lciIsInZhbGlkYXRlQ2hhbmdlcyIsInByb2Nlc3NDaGFuZ2UiLCJjaGFuZ2VMaXN0IiwiX2NvbmZsaWN0cyIsImNvbXBhcmUiLCJsZWZ0IiwicmlnaHQiLCJ5YW5rRXJyb3IiLCJjb21wYXJlQnlJZFRoZW5SZXYiLCJpZENvbXBhcmUiLCJfcmV2aXNpb25zIiwiQWJzdHJhY3RQb3VjaERCIiwiVGFza1F1ZXVlIiwiUG91Y2hEQiIsIl9fb3B0cyIsImF1dG9fY29tcGFjdGlvbiIsImJhY2tlbmQiLCJhZGFwdGVyIiwiYWRhcHRlcnMiLCJwcmVmZXJyZWRBZGFwdGVycyIsImFkYXB0ZXJOYW1lIiwidXNlX3ByZWZpeCIsInBhcnNlQWRhcHRlciIsIl9hZGFwdGVyIiwidmFsaWQiLCJ2aWV3X2FkYXB0ZXIiLCJmYWlsIiwib25EZXN0cm95ZWQiLCJmcm9tX2NvbnN0cnVjdG9yIiwib25DbG9zZWQiLCJwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24iLCJyZWFkeSIsIl9jaGFuZ2VzRmlsdGVyUGx1Z2luIiwidmFsaWRhdGUiLCJkb0NoYW5nZXMiLCJjb250aW51b3VzIiwibGl2ZSIsIm5vcm1hbGl6ZSIsInNob3VsZEZpbHRlciIsImRlc2NlbmRpbmciLCJsaW1pdCIsIm5ld1Byb21pc2UiLCJfY2hhbmdlcyIsInVwZGF0ZV9zZXEiLCJwb3N0IiwiYnVsa0RvY3MiLCJfcHV0TG9jYWwiLCJfZGVsZXRlZCIsIl9yZW1vdmVMb2NhbCIsIm9sZFJldklkIiwibmV3UmV2TnVtIiwibmV3UmV2SWQiLCJwdXREb2MiLCJfcHV0IiwibmV3X2VkaXRzIiwiZm9yY2UiLCJwdXRBdHRhY2htZW50IiwiYXR0YWNobWVudElkIiwiYXBpIiwiY3JlYXRlQXR0YWNobWVudCIsInByZXZyZXZwb3MiLCJjb250ZW50X3R5cGUiLCJyZXZwb3MiLCJyZW1vdmVBdHRhY2htZW50IiwiZG9jT3JJZCIsIm9wdHNPclJldiIsIndhc19kZWxldGUiLCJyZXZzRGlmZiIsIm1pc3NpbmciLCJhZGRUb01pc3NpbmciLCJyZXZJZCIsIl9nZXRSZXZpc2lvblRyZWUiLCJtaXNzaW5nRm9ySWQiLCJwcm9jZXNzRG9jIiwibWlzc2luZ09iaiIsImNvbXBhY3REb2N1bWVudCIsIm1heEhlaWdodCIsInJldlRyZWUiLCJlZGdlcyIsInBybnQiLCJlZGdlIiwiY29tcHV0ZUhlaWdodCIsImNhbmRpZGF0ZXMiLCJfZG9Db21wYWN0aW9uIiwiY29tcGFjdCIsIl9jb21wYWN0aW9uUXVldWUiLCJkb05leHRDb21wYWN0aW9uIiwibGFzdF9zZXEiLCJfY29tcGFjdCIsInJldHVybl9kb2NzIiwicHJvbWlzZXMiLCJyb3ciLCJhbGwiLCJfZ2V0TG9jYWwiLCJmaW5pc2hPcGVuUmV2cyIsImxhdGVzdCIsIl9nZXQiLCJyZXZzX2luZm8iLCJzcGxpdHRlZFJldiIsInJldk5vIiwiY3VycmVudFBhdGgiLCJoYXNoSW5kZXgiLCJpbmRleE9mUmV2IiwiaG93TWFueSIsIl9yZXZzX2luZm8iLCJfZ2V0QXR0YWNobWVudCIsImdldEF0dGFjaG1lbnQiLCJhbGxEb2NzIiwic2tpcCIsInN0YXJ0X2tleSIsInN0YXJ0a2V5IiwiZW5kX2tleSIsImVuZGtleSIsImluY29tcGF0aWJsZU9wdCIsImFsbERvY3NLZXlzUGFyc2UiLCJfYWxsRG9jcyIsImNsb3NlIiwiX2Nsb3NlIiwiX2luZm8iLCJkYl9uYW1lIiwiX3R5cGUiLCJhdHRhY2htZW50RXJyb3IiLCJjaGFyQXQiLCJhdHRhY2htZW50TmFtZUVycm9yIiwiYXR0cyIsImNsZWFuRG9jcyIsIl9idWxrRG9jcyIsInJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UiLCJkZXBlbmRlbnREYiIsImRiT3B0aW9ucyIsImRlcERCIiwiZGVwZW5kZW50RGJzIiwidXNlUHJlZml4IiwiZGVzdHJveURiIiwiX2Rlc3Ryb3kiLCJsb2NhbERvYyIsImRlbGV0ZWRNYXAiLCJ0cnVlTmFtZSIsImV4ZWN1dGUiLCJBYm9ydENvbnRyb2xsZXIiLCJhYm9ydCIsImYkMSIsImZldGNoIiwiaCIsIkhlYWRlcnMiLCJldmVudEVtaXR0ZXIiLCJQb3VjaCIsImRlc3RydWN0TGlzdGVuZXJzIiwiX2Rlc3RydWN0aW9uTGlzdGVuZXJzIiwiZGJMaXN0Iiwic2V0VXBFdmVudEVtaXR0ZXIiLCJhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzIiwicGx1Z2luIiwiX19kZWZhdWx0cyIsImRlZmF1bHRzIiwiZGVmYXVsdE9wdHMiLCJQb3VjaEFsdCIsInVybCIsImdldEZpZWxkRnJvbURvYyIsInBhcnNlZEZpZWxkIiwicGFyc2VGaWVsZCIsImZpZWxkTmFtZSIsImZpZWxkcyIsImNvbWJpbmF0aW9uRmllbGRzIiwiaXNDb21iaW5hdGlvbmFsRmllbGQiLCJmaWVsZCIsImdldEtleSIsIm1lcmdlQW5kZWRTZWxlY3RvcnMiLCJzZWxlY3RvcnMiLCIkb3IiLCIkbm9yIiwibWF0Y2hlciIsIiRlcSIsImxvbmdlc3QiLCJmaWVsZE1hdGNoZXJzIiwib3BlcmF0b3IiLCIkZ3RlIiwiJGd0IiwibWVyZ2VHdEd0ZSIsIiRsdGUiLCIkbHQiLCJtZXJnZUx0THRlIiwiJG5lIiwibWVyZ2VOZSIsIm1lcmdlRXEiLCIkcmVnZXgiLCJtZXJnZVJlZ2V4IiwibWFzc2FnZVNlbGVjdG9yIiwid2FzQW5kZWQiLCJpc0FuZEluU2VsZWN0b3IiLCJpc0FuZCIsIm1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQiLCJvck9yTm9yIiwic3ViU2VsZWN0b3IiLCJjb2xsYXRlIiwibm9ybWFsaXplS2V5IiwiYWkiLCJiaSIsInN0cmluZ0NvbGxhdGUiLCJhcnJheUNvbGxhdGUiLCJhayIsImJrIiwib2JqZWN0Q29sbGF0ZSIsIkluZmluaXR5Iiwib3JpZ0tleSIsInRvSlNPTiIsImluZGV4aWZ5IiwiZXhwRm9ybWF0IiwidG9FeHBvbmVudGlhbCIsIm1hZ25pdHVkZSIsIm5lZyIsIm1hZ1N0cmluZyIsInBhZFdpdGgiLCJ1cFRvTGVuZ3RoIiwidGFyZ2V0TGVuZ3RoIiwicGFkIiwiZmFjdG9yIiwiZmFjdG9yU3RyIiwidG9GaXhlZCIsIm51bVRvSW5kZXhhYmxlU3RyaW5nIiwidG9JbmRleGFibGVTdHJpbmciLCJvYmpLZXkiLCJwYXJzZU51bWJlciIsIm9yaWdpbmFsSWR4IiwibnVtQXNTdHJpbmciLCJtYWdBc1N0cmluZyIsImZpbHRlckluTWVtb3J5RmllbGRzIiwicm93cyIsInJlcXVlc3REZWYiLCJpbk1lbW9yeUZpZWxkcyIsInJvd0ZpbHRlciIsImZpZWxkU29ydGVyIiwiZ2V0RmllbGRWYWx1ZXNBc0FycmF5Iiwic29ydGluZyIsImFSb3ciLCJiUm93IiwiY29sbGF0aW9uIiwiY3JlYXRlRmllbGRTb3J0ZXIiLCJkb2NGaWVsZFZhbHVlIiwic29tZSIsIm9yTWF0Y2hlcnMiLCJtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yIiwibWF0Y2hTZWxlY3RvciIsIm1heWJlVXNlck9wZXJhdG9yIiwidXNlclZhbHVlIiwic3ViUGFyc2VkRmllbGQiLCJzdWJEb2NGaWVsZFZhbHVlIiwidXNlck9wZXJhdG9yIiwibWF0Y2hlcnMiLCJmaWVsZEV4aXN0cyIsImZpZWxkSXNOb3RVbmRlZmluZWQiLCJhcnJheUNvbnRhaW5zVmFsdWUiLCJkb2NGaWVsZFZhbHVlSXRlbSIsIm1vZEZpZWxkIiwibmVWYWx1ZSIsImFycmF5U2l6ZSIsImFycmF5Q29udGFpbnNBbGxWYWx1ZXMiLCJyZWdleFZhbHVlIiwicmVnZXhNYXRjaCIsInR5cGVNYXRjaCIsImZpbHRlck5hbWUiLCJjaGFuZ2VzSGFuZGxlciIsImRvY19pZHMiLCJ2aWV3TmFtZSIsImRkb2MiLCJtYXBGdW4iLCJ2aWV3cyIsInJvd3NNYXRjaGVkIiwibWF0Y2hlc1NlbGVjdG9yIiwiZmlsdGVyRnVuIiwiZmlsdGVycyIsInRvT2JqZWN0IiwidmVyc2lvbiIsInJlc2VydmVkV29yZHMiLCJkYXRhV29yZHMiLCJwYXJzZVJldmlzaW9uSW5mbyIsInBhcnNlRG9jIiwibmV3RWRpdHMiLCJkYk9wdHMiLCJuUmV2TnVtIiwicmV2SW5mbyIsInJldmlzaW9ucyIsInJldmlzaW9uSWRzIiwibWFrZVJldlRyZWVGcm9tUmV2aXNpb25zIiwic3BlY2lhbEtleSIsInByZXByb2Nlc3NTdHJpbmciLCJibG9iVHlwZSIsImFzQmluYXJ5IiwicGFyc2VCYXNlNjQiLCJkaWdlc3QiLCJwcmVwcm9jZXNzQXR0YWNobWVudCIsIm1kNSIsInByZXByb2Nlc3NCbG9iIiwidXBkYXRlRG9jIiwicmV2TGltaXQiLCJwcmV2IiwiZG9jSW5mbyIsIndyaXRlRG9jIiwic3BsaXRSZXYiLCJ0YXJnZXRQb3MiLCJ0YXJnZXRJZCIsInJldkV4aXN0cyIsInByZXZpb3VzV2lubmluZ1JldiIsInByZXZpb3VzbHlEZWxldGVkIiwiaXNSb290IiwibmV3UmV2IiwicmV2X21hcCIsIndpbm5pbmdSZXYkJDEiLCJ3aW5uaW5nUmV2SXNEZWxldGVkIiwiZGVsdGEiLCJwcm9jZXNzRG9jcyIsImRvY0luZm9zIiwiZmV0Y2hlZERvY3MiLCJ0eCIsIm92ZXJhbGxDYWxsYmFjayIsImlkc1RvRG9jcyIsImRvY3NEb25lIiwiZG9jc1RvRG8iLCJjaGVja0FsbERvY3NEb25lIiwiY3VycmVudERvYyIsInJlc3VsdHNJZHgiLCJkb2NXcml0dGVuIiwibmV4dERvYyIsInJvb3RJc01pc3NpbmciLCJpbnNlcnREb2MiLCJET0NfU1RPUkUiLCJNRVRBX1NUT1JFIiwic2FmZUpzb25TdHJpbmdpZnkiLCJqc29uIiwiaWRiRXJyb3IiLCJlbmNvZGVNZXRhZGF0YSIsImRlbGV0ZWRPckxvY2FsIiwiZGVjb2RlTWV0YWRhdGEiLCJzdG9yZWRPYmplY3QiLCJzYWZlSnNvblBhcnNlIiwiZGVjb2RlRG9jIiwiX2RvY19pZF9yZXYiLCJsYXN0SW5kZXhPZiIsInJlYWRCbG9iRGF0YSIsImFzQmxvYiIsImZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeSIsInR4biIsImF0dE9iaiIsIm9iamVjdFN0b3JlIiwib25zdWNjZXNzIiwiZmV0Y2hBdHRhY2htZW50IiwicG9zdFByb2Nlc3NBdHRhY2htZW50cyIsImF0dE5hbWVzIiwiY29tcGFjdFJldnMiLCJwb3NzaWJseU9ycGhhbmVkRGlnZXN0cyIsInNlcVN0b3JlIiwiYXR0U3RvcmUiLCJhdHRBbmRTZXFTdG9yZSIsIklEQktleVJhbmdlIiwiYm91bmQiLCJkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzIiwib3BlbkN1cnNvciIsIm9ubHkiLCJjdXJzb3IiLCJkaWdlc3RTZXEiLCJwcmltYXJ5S2V5IiwiY29udGludWUiLCJvcGVuVHJhbnNhY3Rpb25TYWZlbHkiLCJpZGIiLCJzdG9yZXMiLCJ0cmFuc2FjdGlvbiIsImlkYkJ1bGtEb2NzIiwiZG9jU3RvcmUiLCJieVNlcVN0b3JlIiwiYXR0YWNoU3RvcmUiLCJhdHRhY2hBbmRTZXFTdG9yZSIsIm1ldGFTdG9yZSIsImRvY0luZm9FcnJvciIsIm1ldGFEb2MiLCJhbGxEb2NzUHJvY2Vzc2VkIiwiZG9jQ291bnREZWx0YSIsInByZWNvbmRpdGlvbkVycm9yZWQiLCJfbWV0YSIsImJsb2JTdXBwb3J0Iiwib25BbGxEb2NzUHJvY2Vzc2VkIiwidXBkYXRlRG9jQ291bnRJZlJlYWR5IiwiZG9jQ291bnQiLCJuZXdSZXZJc0RlbGV0ZWQiLCJpc1VwZGF0ZSIsImNvbGxlY3RSZXN1bHRzIiwiZmluaXNoRG9jIiwiYXR0YWNobWVudFNhdmVkIiwibmV3QXR0Iiwic2F2ZUF0dGFjaG1lbnQiLCJ3cml0ZUF0dGFjaG1lbnRzIiwiYWZ0ZXJQdXREb2MiLCJyZXZzVG9EZWxldGUiLCJjb21wYWN0VHJlZSIsIm1ldGFkYXRhVG9TdG9yZSIsImFmdGVyUHV0TWV0YWRhdGEiLCJhdHRzQWRkZWQiLCJhdHRzVG9BZGQiLCJvbmVycm9yIiwiaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzIiwicHV0UmVxIiwib3ZlcmFsbEVyciIsImRvY3YiLCJyZWN2IiwicHJvY2Vzc2VkQXR0YWNobWVudCIsInByZXByb2Nlc3NBdHRhY2htZW50cyIsInR4blJlc3VsdCIsIm9uYWJvcnQiLCJvbnRpbWVvdXQiLCJvbmNvbXBsZXRlIiwiZmluaXNoIiwiZGlnZXN0cyIsImZpbGVuYW1lIiwidmVyaWZ5QXR0YWNobWVudCIsImF0dEVyciIsInZlcmlmeUF0dGFjaG1lbnRzIiwibnVtRmV0Y2hlZCIsInJldnNfbGltaXQiLCJyZWFkTWV0YWRhdGEiLCJmZXRjaEV4aXN0aW5nRG9jcyIsInN0YXJ0VHJhbnNhY3Rpb24iLCJydW5CYXRjaGVkQ3Vyc29yIiwia2V5UmFuZ2UiLCJiYXRjaFNpemUiLCJvbkJhdGNoIiwia2V5c0JhdGNoIiwidmFsdWVzQmF0Y2giLCJwc2V1ZG9DdXJzb3IiLCJvbkdldEFsbCIsIm9uR2V0QWxsS2V5cyIsIm9uQ3Vyc29yIiwiZ2V0QWxsIiwiZ2V0QWxsS2V5cyIsIm5ld0tleVJhbmdlIiwibGFzdEtleSIsInVwcGVyIiwidXBwZXJPcGVuIiwiY29kZSIsImxvd2VyQm91bmQiLCJpZGJBbGxEb2NzIiwia2V5UmFuZ2VFcnJvciIsImluY2x1c2l2ZUVuZCIsImluY2x1c2l2ZV9lbmQiLCJ1cHBlckJvdW5kIiwiY3JlYXRlS2V5UmFuZ2UiLCJvblJlc3VsdHNSZWFkeSIsInVwZGF0ZVNlcSIsIm9uU3VjY2VzcyIsImRvY0lkUmV2SW5kZXgiLCJhbGxEb2NzSW5uZXIiLCJmZXRjaERvY0FzeW5jaHJvbm91c2x5IiwiYmF0Y2hWYWx1ZXMiLCJiYXRjaFZhbHVlIiwiYmF0Y2hLZXlzIiwicmV0dXJuVmFsIiwidG90YWxfcm93cyIsIm1heEtleSIsImFsbERvY3NLZXlzIiwicnVubmluZyIsImFwcGx5TmV4dCIsImRvY0lkcyIsIm51bVJlc3VsdHMiLCJkb2NJZHNUb01ldGFkYXRhIiwib25HZXRNZXRhZGF0YSIsImRvY0lkUmV2Iiwib2JqZWN0U3RvcmVzIiwid2lubmluZ0RvY3MiLCJtZXRhZGF0YXMiLCJmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YSIsIndpbm5pbmdEb2MiLCJwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jIiwib25CYXRjaERvbmUiLCJmaWx0ZXJlZCIsImJsb2JTdXBwb3J0UHJvbWlzZSIsImNhY2hlZERCcyIsIm9wZW5SZXFMaXN0IiwiSWRiUG91Y2giLCJ0cnlDb2RlIiwiZW5xdWV1ZVRhc2siLCJ0aGlzQ2FsbGJhY2siLCJpZGJHbG9iYWxGYWlsdXJlRXJyb3IiLCJlbnJpY2hDYWxsYmFja0Vycm9yIiwiYWRkRGVsZXRlZE9yTG9jYWxJbmRleCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwibWlncmF0ZUxvY2FsU3RvcmUiLCJsb2NhbFN0b3JlIiwibG9jYWwiLCJyYW5nZSIsInNlcUN1cnNvciIsIm1pZ3JhdGVBdHRzQW5kU2VxcyIsImRpZ2VzdE1hcCIsIm1pZ3JhdGVNZXRhZGF0YSIsIm9uR2V0TWV0YWRhdGFTZXEiLCJtZXRhZGF0YVNlcSIsImZldGNoTWV0YWRhdGFTZXEiLCJpbnN0YW5jZUlkIiwicmVxT3B0cyIsImhpc3RvcnlOb2RlIiwiYXR0YWNoSWQiLCJhdHRhY2htZW50IiwiYmxvYkRhdGEiLCJkb2NfY291bnQiLCJpZGJfYXR0YWNobWVudF9mb3JtYXQiLCJvbGRSZXYiLCJvU3RvcmUiLCJvbGREb2MiLCJvcGVuUmVxIiwiaW5kZXhlZERCIiwiZGVsZXRlRGF0YWJhc2UiLCJjYWNoZWQiLCJnbG9iYWwiLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwib2xkVmVyc2lvbiIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJjcmVhdGVTY2hlbWEiLCJjdXJyZW50VGFyZ2V0IiwiY3JlYXRlTG9jYWxTdG9yZVNjaGVtYSIsImFkZEF0dGFjaEFuZFNlcVN0b3JlIiwibWlncmF0aW9ucyIsIm1pZ3JhdGlvbiIsIm9udmVyc2lvbmNoYW5nZSIsInN0b3JlZE1ldGFEb2MiLCJjb21wbGV0ZVNldHVwIiwic3RvcmVNZXRhRG9jSWZSZWFkeSIsImluc3RhbmNlS2V5IiwiY291bnREb2NzIiwiYmxvYiQkMSIsIm1hdGNoZWRDaHJvbWUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaGVkRWRnZSIsImNoZWNrQmxvYlN1cHBvcnQiLCJzdXBwb3J0c0J1bGtHZXRNYXAiLCJyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlciIsImVuY29kZURvY0lkIiwicHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEiLCJnZXRIb3N0IiwicHJvdG9jb2wiLCJoYXNVcmxQcmVmaXgiLCJ1c2VyIiwicGFzc3dvcmQiLCJhdXRoIiwidXNlcm5hbWUiLCJnZW5EQlVybCIsImdlblVybCIsInBhdGhEZWwiLCJob3N0IiwicG9ydCIsInBhcmFtc1RvU3RyIiwiSHR0cFBvdWNoIiwiZGJVcmwiLCJzZXR1cFByb21pc2UiLCJvdXJGZXRjaCIsImhlYWRlcnMiLCJjcmVkZW50aWFscyIsIm5BdXRoIiwidG9rZW4iLCJ1YSIsImlzSUUiLCJpc1RyaWRlbnQiLCJpc0VkZ2UiLCJpc0dFVCIsInNob3VsZENhY2hlQnVzdCIsIm5vdyIsImFkYXB0ZXJGdW4kJDEiLCJzZXR1cCIsImZldGNoSlNPTiIsInNraXBfc2V0dXAiLCJlbmNvZGVBdHRhY2htZW50SWQiLCJ1dWlkJCQxIiwicGluZyIsImNvbXBhY3RfcnVubmluZyIsImludGVydmFsIiwiZG9CdWxrR2V0IiwiZG9CdWxrR2V0U2hpbSIsIm51bUJhdGNoZXMiLCJvblJlc3VsdCIsImJhdGNoTnVtIiwic3ViT3B0cyIsInN1cHBvcnRzQnVsa0dldCIsImZldGNoQXR0YWNobWVudHMiLCJmaWxlbmFtZXMiLCJwcm9taXNlRmFjdG9yaWVzIiwiZG9OZXh0IiwicnVuTmV4dEJhdGNoIiwib25FcnJvciIsInRoaXNFcnIiLCJwb29sIiwidHlwZUZpZWxkRGVzY3JpcHRvciIsIl9fcHJvdG9fXyIsImZldGNoRGF0YSIsImRvY09yRG9jcyIsImNvbnRlbnRUeXBlIiwicHJvY2VzcyIsImJyb3dzZXIiLCJwYXJhbVN0ciIsImJhdGNoX3NpemUiLCJoZWFydGJlYXQiLCJyZXF1ZXN0VGltZW91dCIsImxlZnRUb0ZldGNoIiwiZmVlZCIsInNlcV9pbnRlcnZhbCIsInBhcmFtX25hbWUiLCJsYXN0RmV0Y2hlZFNlcSIsImNvbnRyb2xsZXIiLCJhYm9ydGVkIiwiZmV0Y2hPcHRzIiwic2lnbmFsIiwiZmV0Y2hlZCIsInJhd19yZXN1bHRzX2xlbmd0aCIsImZpbmlzaGVkIiwiUXVlcnlQYXJzZUVycm9yIiwiTm90Rm91bmRFcnJvciIsIkJ1aWx0SW5FcnJvciIsInByb21pc2VkQ2FsbGJhY2siLCJzZXF1ZW50aWFsaXplIiwicHJvbWlzZUZhY3RvcnkiLCJ1bmlxIiwidGhlU2V0IiwibWFwVG9LZXlzQXJyYXkiLCJjcmVhdGVCdWlsdEluRXJyb3IiLCJqTGVuIiwiak51bSIsImV2YWxGdW5jdGlvbldpdGhFdmFsIiwiVGFza1F1ZXVlJDEiLCJjcmVhdGVWaWV3Iiwic291cmNlREIiLCJyZWR1Y2VGdW4iLCJ0ZW1wb3JhcnkiLCJsb2NhbERvY05hbWUiLCJjYWNoZWRWaWV3cyIsInZpZXdTaWduYXR1cmUiLCJjcmVhdGVWaWV3U2lnbmF0dXJlIiwiX2NhY2hlZFZpZXdzIiwicHJvbWlzZUZvclZpZXciLCJkZXBEYk5hbWUiLCJmdWxsVmlld05hbWUiLCJkZXBEYnMiLCJsYXN0U2VxRG9jIiwicGVyc2lzdGVudFF1ZXVlcyIsInRlbXBWaWV3UXVldWUiLCJwYXJzZVZpZXdOYW1lIiwiZW1pdEVycm9yIiwiYnVpbHRJblJlZHVjZSIsInN1bXNxciIsIl9zdW1zcXIiLCJhYnN0cmFjdCIsIm1hcHBlciIsInJlZHVjZXIiLCJkZG9jVmFsaWRhdG9yIiwidHJ5TWFwIiwidHJ5UmVkdWNlIiwicmVyZWR1Y2UiLCJvdXRwdXQiLCJzb3J0QnlLZXlUaGVuVmFsdWUiLCJrZXlDb21wYXJlIiwic2xpY2VSZXN1bHRzIiwicm93VG9Eb2NJZCIsInBvc3Rwcm9jZXNzQXR0YWNobWVudHMiLCJhZGRIdHRwUGFyYW0iLCJwYXJhbU5hbWUiLCJhc0pzb24iLCJjb2VyY2VJbnRlZ2VyIiwiaW50ZWdlckNhbmRpZGF0ZSIsImFzTnVtYmVyIiwiY2hlY2tRdWVyeVBhcnNlRXJyb3IiLCJzdGFydGtleU5hbWUiLCJlbmRrZXlOYW1lIiwiZ3JvdXBfbGV2ZWwiLCJvcHRpb25OYW1lIiwiY2hlY2tQb3NpdGl2ZUludGVnZXIiLCJkZWZhdWx0c1RvIiwiZ2V0RG9jc1RvUGVyc2lzdCIsImRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzIiwibWV0YURvY0lkIiwiZGVmYXVsdE1ldGFEb2MiLCJkb2NEYXRhIiwiaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzIiwiaXNHZW5PbmUiLCJnZXRLZXlWYWx1ZURvY3MiLCJrdkRvY3NSZXMiLCJrdkRvY3MiLCJvbGRLZXlzIiwia2V5VmFsdWUiLCJuZXdLZXlzIiwia3ZEb2MiLCJwcm9jZXNzS2V5VmFsdWVEb2NzIiwiZ2V0UXVldWUiLCJ1cGRhdGVWaWV3IiwibWFwUmVzdWx0cyIsImN1cnJlbnRTZXEiLCJsaXN0T2ZEb2NzVG9QZXJzaXN0IiwiZG9jc1RvUGVyc2lzdCIsInNhdmVLZXlWYWx1ZXMiLCJpbmRleGVkX2RvY3MiLCJwcm9ncmVzcyIsInByb2Nlc3NOZXh0QmF0Y2giLCJjaGFuZ2VzX2JhdGNoX3NpemUiLCJjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMiLCJjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyIsInJlc3VsdHNfY291bnQiLCJlbWl0dGVkS2V5VmFsdWUiLCJjb21wbGV4S2V5IiwidXBkYXRlVmlld0luUXVldWUiLCJxdWVyeVZpZXciLCJ0b3RhbFJvd3MiLCJzaG91bGRSZWR1Y2UiLCJmZXRjaEZyb21WaWV3Iiwidmlld09wdHMiLCJleHBlY3RlZEtleXMiLCJwYXJzZWRLZXlBbmREb2NJZCIsInBhcnNlZFN0ciIsInBhcnNlSW5kZXhhYmxlU3RyaW5nIiwib25NYXBSZXN1bHRzUmVhZHkiLCJmaW5hbFJlc3VsdHMiLCJzaG91bGRHcm91cCIsImx2bCIsIlBPU0lUSVZFX0lORklOSVRZIiwibGFzdCIsImdyb3VwS2V5IiwicmVkdWNlVHJ5IiwicmVkdWNlVmlldyIsImFsbERvY3NSZXMiLCJkb2NJZHNUb0RvY3MiLCJmZXRjaFByb21pc2VzIiwia2V5U3RhcnQiLCJrZXlFbmQiLCJxdWVyeVZpZXdJblF1ZXVlIiwicXVlcnlQcm9taXNlZCIsIl9xdWVyeSIsImN1c3RvbVF1ZXJ5Iiwia2V5c0FzU3RyaW5nIiwiaHR0cFF1ZXJ5IiwidXBkYXRlVmlld09wdHMiLCJ2aWV3X3VwZGF0ZV9jaGFuZ2VzX2JhdGNoX3NpemUiLCJmaW5hbFByb21pc2VGYWN0b3J5IiwiZGVzaWduRG9jTmFtZSIsInN0YWxlIiwiY29lcmNlT3B0aW9ucyIsInZpZXdDbGVhbnVwIiwiX3ZpZXdDbGVhbnVwIiwiY3VzdG9tVmlld0NsZWFudXAiLCJodHRwVmlld0NsZWFudXAiLCJkb2NzVG9WaWV3cyIsInZpZXdzVG9TdGF0dXMiLCJkZG9jTmFtZSIsInZpZXdEQk5hbWVzIiwic3RhdHVzSXNHb29kIiwidmlld0RCTmFtZSIsImRlc3Ryb3lQcm9taXNlcyIsImxvY2FsVmlld0NsZWFudXAiLCJjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZSIsIm9yaWdNYXAiLCJyZWR1Y2VGdW5TdHJpbmciLCJidWlsdEluIiwiZ2V0QnVpbHRJbiIsIm1hcHJlZHVjZSIsImlzR2VuT25lJDEiLCJnZXREb2NBdHRhY2htZW50cyIsImdldERvY3MiLCJkaWZmcyIsInJlc3VsdERvY3MiLCJmZXRjaFJldmlzaW9uT25lRG9jcyIsImhhc0NvbmZsaWN0cyIsImJ1bGtHZXRPcHRzIiwibWlzc2luZ1JldiIsImNyZWF0ZUJ1bGtHZXRPcHRzIiwiYnVsa0dldFJlc3BvbnNlIiwiYnVsa0dldEluZm8iLCJyZW1vdGVEb2MiLCJkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cyIsImZpbGVIYXNDaGFuZ2VkIiwiZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UiLCJ1cGRhdGVDaGVja3BvaW50IiwiY2hlY2twb2ludCIsInNlc3Npb24iLCJyZXR1cm5WYWx1ZSIsInNlc3Npb25faWQiLCJyZXBsaWNhdG9yIiwiQ2hlY2twb2ludGVyIiwid3JpdGVDaGVja3BvaW50IiwidXBkYXRlVGFyZ2V0IiwidXBkYXRlU291cmNlIiwid3JpdGVUYXJnZXRDaGVja3BvaW50Iiwid3JpdGVTb3VyY2VDaGVja3BvaW50IiwiaXNGb3JiaWRkZW5FcnJvciIsImNvbXBhcmlzb25zIiwidGFyZ2V0RG9jIiwic291cmNlRG9jIiwic3JjRG9jIiwidGd0RG9jIiwiY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeSIsInNvdXJjZUhpc3RvcnkiLCJ0YXJnZXRIaXN0b3J5IiwiUyIsInNvdXJjZVJlc3QiLCJUIiwidGFyZ2V0UmVzdCIsImhhc1Nlc3Npb25JZCIsImNvbXBhcmVSZXBsaWNhdGlvbkxvZ3MiLCJzZXNzaW9uSWQiLCJwcm9wcyIsInJlc3QiLCJmbG9vciIsImdldENoZWNrcG9pbnQiLCJnZW5lcmF0ZVJlcGxpY2F0aW9uSWQiLCJxdWVyeVBhcmFtcyIsImZpbHRlclZpZXdOYW1lIiwic29ydE9iamVjdFByb3BlcnRpZXNCeUtleSIsInF1ZXJ5RGF0YSIsIm1kNXN1bSIsInJlcGxpY2F0ZSIsImN1cnJlbnRCYXRjaCIsInJlcElkIiwiY2hlY2twb2ludGVyIiwiYmF0Y2hlcyIsInBlbmRpbmdCYXRjaCIsIndyaXRpbmdDaGVja3BvaW50IiwiY2hhbmdlc0NvbXBsZXRlZCIsInJlcGxpY2F0aW9uQ29tcGxldGVkIiwiYmF0Y2hlc19saW1pdCIsImNoYW5nZXNQZW5kaW5nIiwiY2hhbmdlZERvY3MiLCJzdGFydF90aW1lIiwiZG9jc19yZWFkIiwiZG9jc193cml0dGVuIiwiZG9jX3dyaXRlX2ZhaWx1cmVzIiwiaW5pdENoZWNrcG9pbnRlciIsImNoZWNrcG9pbnRPcHRzIiwid3JpdGVEb2NzIiwiYnVsa09wdHMiLCJjb21wbGV0ZVJlcGxpY2F0aW9uIiwiZXJyb3JzQnlJZCIsImVycm9yc05vIiwiZXJyb3JOYW1lIiwiZmluaXNoQmF0Y2giLCJvdXRSZXN1bHQiLCJnZXRDaGFuZ2VzIiwib25DaGVja3BvaW50RXJyb3IiLCJnZXRCYXRjaERvY3MiLCJnb3QiLCJzdGFydE5leHRCYXRjaCIsImFib3J0UmVwbGljYXRpb24iLCJwcm9jZXNzUGVuZGluZ0JhdGNoIiwiaW1tZWRpYXRlJCQxIiwiZmF0YWxFcnJvciIsImVuZF90aW1lIiwicmV0cnkiLCJiYWNrX29mZl9mdW5jdGlvbiIsImJhY2tPZmZTZXQiLCJjdXJyZW50X2JhY2tfb2ZmIiwiYmFja09mZiIsIm9uQ2hhbmdlc0NvbXBsZXRlIiwib25DaGFuZ2VzRXJyb3IiLCJfYWJvcnRDaGFuZ2VzIiwiYWJvcnRDaGFuZ2VzIiwic3RhcnRDaGFuZ2VzIiwiX2FkZGVkTGlzdGVuZXJzIiwiUmVwbGljYXRpb24iLCJ0b1BvdWNoIiwiUG91Y2hDb25zdHJ1Y3RvciIsInJlcGxpY2F0ZVdyYXBwZXIiLCJyZXBsaWNhdGVSZXQiLCJTeW5jIiwiY2FuY2VsZWQiLCJvcHRzUHVzaCIsIm9wdHNQdWxsIiwicHVsbCIsInB1bGxDaGFuZ2UiLCJwdXNoQ2hhbmdlIiwicHVzaERlbmllZCIsInB1bGxEZW5pZWQiLCJwdXNoUGF1c2VkIiwicHVsbFBhdXNlZCIsInB1c2hBY3RpdmUiLCJwdWxsQWN0aXZlIiwicmVtb3ZlZCIsInJlbW92ZUFsbCIsImFkZE9uZUxpc3RlbmVyIiwib3V0IiwiY2xlYW51cCIsIl9yZWFkeUNhbGxlZCIsInJlcGxpY2F0ZU1ldGhvZHMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZHJhaW5RdWV1ZSIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIm5vb3AiLCJlbnYiLCJhcmd2IiwidmVyc2lvbnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIkZVTkNfRVJST1JfVEVYVCIsIlBMQUNFSE9MREVSIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsImZ1bmNUYWciLCJnZW5UYWciLCJtYXBUYWciLCJudW1iZXJUYWciLCJvYmplY3RUYWciLCJyZWdleHBUYWciLCJzZXRUYWciLCJzdHJpbmdUYWciLCJzeW1ib2xUYWciLCJ3ZWFrTWFwVGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsImZsb2F0MzJUYWciLCJmbG9hdDY0VGFnIiwiaW50OFRhZyIsImludDE2VGFnIiwiaW50MzJUYWciLCJ1aW50OFRhZyIsInVpbnQxNlRhZyIsInVpbnQzMlRhZyIsInJlRW1wdHlTdHJpbmdMZWFkaW5nIiwicmVFbXB0eVN0cmluZ01pZGRsZSIsInJlRW1wdHlTdHJpbmdUcmFpbGluZyIsInJlRXNjYXBlZEh0bWwiLCJyZVVuZXNjYXBlZEh0bWwiLCJyZUhhc0VzY2FwZWRIdG1sIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwicmVFc2NhcGUiLCJyZUV2YWx1YXRlIiwicmVJbnRlcnBvbGF0ZSIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJyZVByb3BOYW1lIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwicmVUcmltU3RhcnQiLCJyZVdoaXRlc3BhY2UiLCJyZVdyYXBDb21tZW50IiwicmVXcmFwRGV0YWlscyIsInJlU3BsaXREZXRhaWxzIiwicmVBc2NpaVdvcmQiLCJyZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycyIsInJlRXNjYXBlQ2hhciIsInJlRXNUZW1wbGF0ZSIsInJlRmxhZ3MiLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNIb3N0Q3RvciIsInJlSXNPY3RhbCIsInJlSXNVaW50IiwicmVMYXRpbiIsInJlTm9NYXRjaCIsInJlVW5lc2NhcGVkU3RyaW5nIiwicnNDb21ib1JhbmdlIiwicnNDb21ib01hcmtzUmFuZ2UiLCJyc0JyZWFrUmFuZ2UiLCJyc01hdGhPcFJhbmdlIiwicnNBc3RyYWwiLCJyc0JyZWFrIiwicnNDb21ibyIsInJzRGlnaXRzIiwicnNEaW5nYmF0IiwicnNMb3dlciIsInJzTWlzYyIsInJzRml0eiIsInJzTm9uQXN0cmFsIiwicnNSZWdpb25hbCIsInJzU3VyclBhaXIiLCJyc1VwcGVyIiwicnNNaXNjTG93ZXIiLCJyc01pc2NVcHBlciIsInJlT3B0TW9kIiwicnNTZXEiLCJyc0Vtb2ppIiwicnNTeW1ib2wiLCJyZUFwb3MiLCJyZUNvbWJvTWFyayIsInJlVW5pY29kZSIsInJlVW5pY29kZVdvcmQiLCJyZUhhc1VuaWNvZGUiLCJyZUhhc1VuaWNvZGVXb3JkIiwiY29udGV4dFByb3BzIiwidGVtcGxhdGVDb3VudGVyIiwidHlwZWRBcnJheVRhZ3MiLCJjbG9uZWFibGVUYWdzIiwic3RyaW5nRXNjYXBlcyIsImZyZWVQYXJzZUZsb2F0IiwiZnJlZVBhcnNlSW50IiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJub2RlVXRpbCIsInJlcXVpcmUiLCJub2RlSXNBcnJheUJ1ZmZlciIsImlzQXJyYXlCdWZmZXIiLCJub2RlSXNEYXRlIiwiaXNEYXRlIiwibm9kZUlzTWFwIiwiaXNNYXAiLCJub2RlSXNSZWdFeHAiLCJpc1JlZ0V4cCIsIm5vZGVJc1NldCIsImlzU2V0Iiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsInRoaXNBcmciLCJhcnJheUFnZ3JlZ2F0b3IiLCJzZXR0ZXIiLCJpdGVyYXRlZSIsImFjY3VtdWxhdG9yIiwiYXJyYXlFYWNoIiwiYXJyYXlFYWNoUmlnaHQiLCJhcnJheUV2ZXJ5IiwicHJlZGljYXRlIiwiYXJyYXlGaWx0ZXIiLCJyZXNJbmRleCIsImFycmF5SW5jbHVkZXMiLCJiYXNlSW5kZXhPZiIsImFycmF5SW5jbHVkZXNXaXRoIiwiYXJyYXlNYXAiLCJhcnJheVB1c2giLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJiYXNlRmluZEtleSIsImNvbGxlY3Rpb24iLCJlYWNoRnVuYyIsImJhc2VGaW5kSW5kZXgiLCJmcm9tSW5kZXgiLCJmcm9tUmlnaHQiLCJzdHJpY3RJbmRleE9mIiwiYmFzZUlzTmFOIiwiYmFzZUluZGV4T2ZXaXRoIiwiYmFzZU1lYW4iLCJiYXNlU3VtIiwiYmFzZVByb3BlcnR5T2YiLCJiYXNlUmVkdWNlIiwiYmFzZVRpbWVzIiwiYmFzZVRyaW0iLCJ0cmltbWVkRW5kSW5kZXgiLCJiYXNlVW5hcnkiLCJiYXNlVmFsdWVzIiwiY2FjaGVIYXMiLCJjYWNoZSIsImNoYXJzU3RhcnRJbmRleCIsInN0clN5bWJvbHMiLCJjaHJTeW1ib2xzIiwiY2hhcnNFbmRJbmRleCIsImNvdW50SG9sZGVycyIsInBsYWNlaG9sZGVyIiwiZGVidXJyTGV0dGVyIiwiZXNjYXBlSHRtbENoYXIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsIm1hcFRvQXJyYXkiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwicmVwbGFjZUhvbGRlcnMiLCJzZXRUb0FycmF5Iiwic2V0VG9QYWlycyIsInN0cmluZ1NpemUiLCJsYXN0SW5kZXgiLCJ1bmljb2RlU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJ1bmljb2RlVG9BcnJheSIsImFzY2lpVG9BcnJheSIsInVuZXNjYXBlSHRtbENoYXIiLCJydW5JbkNvbnRleHQiLCJ1aWQiLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsImFsbG9jVW5zYWZlIiwiZ2V0UHJvdG90eXBlIiwib2JqZWN0Q3JlYXRlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcHJlYWRhYmxlU3ltYm9sIiwiaXNDb25jYXRTcHJlYWRhYmxlIiwic3ltSXRlcmF0b3IiLCJpdGVyYXRvciIsInN5bVRvU3RyaW5nVGFnIiwiZ2V0TmF0aXZlIiwiY3R4Q2xlYXJUaW1lb3V0IiwiY3R4Tm93IiwiY3R4U2V0VGltZW91dCIsIm5hdGl2ZUNlaWwiLCJuYXRpdmVGbG9vciIsIm5hdGl2ZUdldFN5bWJvbHMiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlSXNGaW5pdGUiLCJuYXRpdmVKb2luIiwibmF0aXZlS2V5cyIsIm5hdGl2ZU1heCIsIm5hdGl2ZU1pbiIsIm5hdGl2ZU5vdyIsIm5hdGl2ZVBhcnNlSW50IiwibmF0aXZlUmFuZG9tIiwibmF0aXZlUmV2ZXJzZSIsIkRhdGFWaWV3IiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsIm1ldGFNYXAiLCJyZWFsTmFtZXMiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInZhbHVlT2YiLCJzeW1ib2xUb1N0cmluZyIsImxvZGFzaCIsImlzT2JqZWN0TGlrZSIsIkxhenlXcmFwcGVyIiwiTG9kYXNoV3JhcHBlciIsIndyYXBwZXJDbG9uZSIsImJhc2VDcmVhdGUiLCJpc09iamVjdCIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImNsZWFyIiwiZW50cnkiLCJMaXN0Q2FjaGUiLCJNYXBDYWNoZSIsIlNldENhY2hlIiwiX19kYXRhX18iLCJTdGFjayIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyciIsImlzQXJnIiwiaXNBcmd1bWVudHMiLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsImlzSW5kZXgiLCJhcnJheVNhbXBsZSIsImJhc2VSYW5kb20iLCJhcnJheVNhbXBsZVNpemUiLCJzaHVmZmxlU2VsZiIsImNvcHlBcnJheSIsImJhc2VDbGFtcCIsImFycmF5U2h1ZmZsZSIsImFzc2lnbk1lcmdlVmFsdWUiLCJlcSIsImJhc2VBc3NpZ25WYWx1ZSIsImFzc2lnblZhbHVlIiwib2JqVmFsdWUiLCJhc3NvY0luZGV4T2YiLCJiYXNlQWdncmVnYXRvciIsImJhc2VFYWNoIiwiYmFzZUFzc2lnbiIsImNvcHlPYmplY3QiLCJiYXNlQXQiLCJsb3dlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwiaXNEZWVwIiwiaXNGbGF0IiwiaXNGdWxsIiwiaW5pdENsb25lQXJyYXkiLCJ0YWciLCJnZXRUYWciLCJpc0Z1bmMiLCJjbG9uZUJ1ZmZlciIsImluaXRDbG9uZU9iamVjdCIsImdldFN5bWJvbHNJbiIsImNvcHlTeW1ib2xzSW4iLCJrZXlzSW4iLCJiYXNlQXNzaWduSW4iLCJnZXRTeW1ib2xzIiwiY29weVN5bWJvbHMiLCJkYXRhVmlldyIsImJ5dGVPZmZzZXQiLCJjbG9uZURhdGFWaWV3IiwiY2xvbmVUeXBlZEFycmF5IiwiY2xvbmVSZWdFeHAiLCJzeW1ib2wiLCJpbml0Q2xvbmVCeVRhZyIsInN0YWNrZWQiLCJzdWJWYWx1ZSIsImdldEFsbEtleXNJbiIsImJhc2VDb25mb3Jtc1RvIiwiYmFzZURlbGF5Iiwid2FpdCIsImJhc2VEaWZmZXJlbmNlIiwiaW5jbHVkZXMiLCJpc0NvbW1vbiIsInZhbHVlc0xlbmd0aCIsIm91dGVyIiwiY29tcHV0ZWQiLCJ2YWx1ZXNJbmRleCIsInRlbXBsYXRlU2V0dGluZ3MiLCJnZXRNYXBEYXRhIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwiY3JlYXRlQmFzZUVhY2giLCJiYXNlRm9yT3duIiwiYmFzZUVhY2hSaWdodCIsImJhc2VGb3JPd25SaWdodCIsImJhc2VFdmVyeSIsImJhc2VFeHRyZW11bSIsImlzU3ltYm9sIiwiYmFzZUZpbHRlciIsImJhc2VGbGF0dGVuIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJjYXN0UGF0aCIsInRvS2V5IiwiYmFzZUdldEFsbEtleXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwiYmFzZUdldFRhZyIsImlzT3duIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VHdCIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJtYXhMZW5ndGgiLCJzZWVuIiwiYmFzZUludm9rZSIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJvYmpTdGFja2VkIiwib3RoU3RhY2tlZCIsInNraXBDdG9yIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm9iakN0b3IiLCJvdGhDdG9yIiwiZXF1YWxPYmplY3RzIiwiYmFzZUlzRXF1YWxEZWVwIiwiYmFzZUlzTWF0Y2giLCJtYXRjaERhdGEiLCJub0N1c3RvbWl6ZXIiLCJzcmNWYWx1ZSIsIkNPTVBBUkVfUEFSVElBTF9GTEFHIiwiYmFzZUlzTmF0aXZlIiwiYmFzZUl0ZXJhdGVlIiwiaWRlbnRpdHkiLCJiYXNlTWF0Y2hlc1Byb3BlcnR5IiwiYmFzZU1hdGNoZXMiLCJiYXNlS2V5cyIsImlzUHJvdG90eXBlIiwiYmFzZUtleXNJbiIsIm5hdGl2ZUtleXNJbiIsImlzUHJvdG8iLCJiYXNlTHQiLCJiYXNlTWFwIiwiaXNBcnJheUxpa2UiLCJnZXRNYXRjaERhdGEiLCJtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSIsImlzS2V5IiwiaXNTdHJpY3RDb21wYXJhYmxlIiwiaGFzSW4iLCJiYXNlTWVyZ2UiLCJzcmNJbmRleCIsIm1lcmdlRnVuYyIsInNhZmVHZXQiLCJuZXdWYWx1ZSIsImlzVHlwZWQiLCJpc0FycmF5TGlrZU9iamVjdCIsInRvUGxhaW5PYmplY3QiLCJiYXNlTWVyZ2VEZWVwIiwiYmFzZU50aCIsImJhc2VPcmRlckJ5IiwiaXRlcmF0ZWVzIiwib3JkZXJzIiwiZ2V0SXRlcmF0ZWUiLCJjb21wYXJlciIsImJhc2VTb3J0QnkiLCJvYmpDcml0ZXJpYSIsImNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJiYXNlVW5zZXQiLCJiYXNlUmVwZWF0IiwiYmFzZVJlc3QiLCJzZXRUb1N0cmluZyIsIm92ZXJSZXN0IiwiYmFzZVNhbXBsZSIsImJhc2VTYW1wbGVTaXplIiwibmVzdGVkIiwiYmFzZVNldERhdGEiLCJiYXNlU2V0VG9TdHJpbmciLCJjb25zdGFudCIsImJhc2VTaHVmZmxlIiwiYmFzZVNsaWNlIiwiYmFzZVNvbWUiLCJiYXNlU29ydGVkSW5kZXgiLCJyZXRIaWdoZXN0IiwiTUFYX0FSUkFZX0xFTkdUSCIsImJhc2VTb3J0ZWRJbmRleEJ5IiwidmFsSXNOYU4iLCJ2YWxJc051bGwiLCJ2YWxJc1N5bWJvbCIsInZhbElzVW5kZWZpbmVkIiwib3RoSXNEZWZpbmVkIiwib3RoSXNOdWxsIiwib3RoSXNSZWZsZXhpdmUiLCJvdGhJc1N5bWJvbCIsInNldExvdyIsImJhc2VTb3J0ZWRVbmlxIiwiYmFzZVRvTnVtYmVyIiwiYmFzZVRvU3RyaW5nIiwiYmFzZVVuaXEiLCJjcmVhdGVTZXQiLCJzZWVuSW5kZXgiLCJiYXNlVXBkYXRlIiwidXBkYXRlciIsImJhc2VXaGlsZSIsImlzRHJvcCIsImJhc2VXcmFwcGVyVmFsdWUiLCJhY3Rpb25zIiwiYmFzZVhvciIsImJhc2VaaXBPYmplY3QiLCJhc3NpZ25GdW5jIiwidmFsc0xlbmd0aCIsImNhc3RBcnJheUxpa2VPYmplY3QiLCJjYXN0RnVuY3Rpb24iLCJzdHJpbmdUb1BhdGgiLCJjYXN0UmVzdCIsImNhc3RTbGljZSIsInR5cGVkQXJyYXkiLCJ2YWxJc0RlZmluZWQiLCJ2YWxJc1JlZmxleGl2ZSIsImNvbXBvc2VBcmdzIiwicGFydGlhbHMiLCJob2xkZXJzIiwiaXNDdXJyaWVkIiwiYXJnc0luZGV4IiwiYXJnc0xlbmd0aCIsImhvbGRlcnNMZW5ndGgiLCJsZWZ0SW5kZXgiLCJsZWZ0TGVuZ3RoIiwicmFuZ2VMZW5ndGgiLCJpc1VuY3VycmllZCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJpc05ldyIsImNyZWF0ZUFnZ3JlZ2F0b3IiLCJpbml0aWFsaXplciIsImNyZWF0ZUFzc2lnbmVyIiwiYXNzaWduZXIiLCJzb3VyY2VzIiwiZ3VhcmQiLCJpc0l0ZXJhdGVlQ2FsbCIsIml0ZXJhYmxlIiwiY3JlYXRlQ2FzZUZpcnN0IiwibWV0aG9kTmFtZSIsInRyYWlsaW5nIiwiY3JlYXRlQ29tcG91bmRlciIsIndvcmRzIiwiZGVidXJyIiwiY3JlYXRlQ3RvciIsInRoaXNCaW5kaW5nIiwiY3JlYXRlRmluZCIsImZpbmRJbmRleEZ1bmMiLCJjcmVhdGVGbG93IiwiZmxhdFJlc3QiLCJmdW5jcyIsInByZXJlcSIsInRocnUiLCJ3cmFwcGVyIiwiZ2V0RnVuY05hbWUiLCJmdW5jTmFtZSIsImdldERhdGEiLCJpc0xhemlhYmxlIiwicGxhbnQiLCJjcmVhdGVIeWJyaWQiLCJwYXJ0aWFsc1JpZ2h0IiwiaG9sZGVyc1JpZ2h0IiwiYXJnUG9zIiwiYXJ5IiwiYXJpdHkiLCJpc0FyeSIsImlzQmluZCIsImlzQmluZEtleSIsImlzRmxpcCIsImdldEhvbGRlciIsImhvbGRlcnNDb3VudCIsIm5ld0hvbGRlcnMiLCJjcmVhdGVSZWN1cnJ5IiwiZm4iLCJyZW9yZGVyIiwiY3JlYXRlSW52ZXJ0ZXIiLCJ0b0l0ZXJhdGVlIiwiYmFzZUludmVydGVyIiwiY3JlYXRlTWF0aE9wZXJhdGlvbiIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5IiwibmV3RGF0YSIsInNldERhdGEiLCJzZXRXcmFwVG9TdHJpbmciLCJjcmVhdGVSb3VuZCIsInByZWNpc2lvbiIsInRvSW50ZWdlciIsInBhaXIiLCJjcmVhdGVUb1BhaXJzIiwiYmFzZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwibWVyZ2VEYXRhIiwiY3JlYXRlQ3VycnkiLCJjcmVhdGVQYXJ0aWFsIiwiY3JlYXRlQmluZCIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiYXJyTGVuZ3RoIiwiYXJyU3RhY2tlZCIsImFyclZhbHVlIiwib3RoZXJGdW5jIiwiZ2V0VmFsdWUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwiY3RvclN0cmluZyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJvdGhlckFyZ3MiLCJvbGRBcnJheSIsInNob3J0T3V0IiwicmVmZXJlbmNlIiwiZGV0YWlscyIsImluc2VydFdyYXBEZXRhaWxzIiwidXBkYXRlV3JhcERldGFpbHMiLCJnZXRXcmFwRGV0YWlscyIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsQWxsIiwicHVsbEF0IiwidW5pb24iLCJ1bmlvbkJ5IiwidW5pb25XaXRoIiwidW56aXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZExhc3QiLCJmb3JFYWNoUmlnaHQiLCJncm91cEJ5IiwiaW52b2tlTWFwIiwia2V5QnkiLCJwYXJ0aXRpb24iLCJzb3J0QnkiLCJiZWZvcmUiLCJiaW5kS2V5IiwiV1JBUF9CSU5EX0ZMQUciLCJkZWJvdW5jZSIsImxhc3RBcmdzIiwibGFzdFRoaXMiLCJtYXhXYWl0IiwidGltZXJJZCIsImxhc3RDYWxsVGltZSIsImxhc3RJbnZva2VUaW1lIiwibGVhZGluZyIsIm1heGluZyIsImludm9rZUZ1bmMiLCJ0aW1lIiwibGVhZGluZ0VkZ2UiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJmbHVzaCIsImRlZmVyIiwiZGVsYXkiLCJtZW1vaXplZCIsIkNhY2hlIiwibmVnYXRlIiwib3ZlckFyZ3MiLCJ0cmFuc2Zvcm1zIiwiZnVuY3NMZW5ndGgiLCJwYXJ0aWFsIiwicGFydGlhbFJpZ2h0IiwicmVhcmciLCJndCIsImd0ZSIsImlzRXJyb3IiLCJpc0ludGVnZXIiLCJpc051bWJlciIsImlzU3RyaW5nIiwibHQiLCJsdGUiLCJ0b0FycmF5IiwiaXRlcmF0b3JUb0FycmF5IiwicmVtYWluZGVyIiwidG9MZW5ndGgiLCJpc0JpbmFyeSIsImFzc2lnbkluIiwiYXNzaWduSW5XaXRoIiwiYXNzaWduV2l0aCIsInByb3BzSW5kZXgiLCJwcm9wc0xlbmd0aCIsImRlZmF1bHRzRGVlcCIsIm1lcmdlV2l0aCIsImludmVydCIsImludmVydEJ5IiwiaW52b2tlIiwib21pdCIsIkNMT05FX0RFRVBfRkxBRyIsImJhc2VQaWNrIiwicGlja0J5IiwidG9QYWlycyIsInRvUGFpcnNJbiIsImNhbWVsQ2FzZSIsIndvcmQiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJoYXNVbmljb2RlV29yZCIsInVuaWNvZGVXb3JkcyIsImFzY2lpV29yZHMiLCJhdHRlbXB0IiwiYmluZEFsbCIsIm1ldGhvZE5hbWVzIiwiZmxvdyIsImZsb3dSaWdodCIsIm1ldGhvZE9mIiwibWl4aW4iLCJvdmVyIiwib3ZlckV2ZXJ5Iiwib3ZlclNvbWUiLCJiYXNlUHJvcGVydHlEZWVwIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZSIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGx5IiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsInN1YnRyYWN0IiwibWludWVuZCIsInN1YnRyYWhlbmQiLCJhZnRlciIsImNhc3RBcnJheSIsImNodW5rIiwiY29uZCIsImNvbmZvcm1zIiwiYmFzZUNvbmZvcm1zIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcFJpZ2h0IiwiZHJvcFJpZ2h0V2hpbGUiLCJkcm9wV2hpbGUiLCJiYXNlRmlsbCIsImZsYXRNYXAiLCJmbGF0TWFwRGVlcCIsImZsYXRNYXBEZXB0aCIsImZsYXR0ZW5EZWVwIiwiZmxhdHRlbkRlcHRoIiwiZmxpcCIsImZyb21QYWlycyIsImZ1bmN0aW9ucyIsImZ1bmN0aW9uc0luIiwiaW5pdGlhbCIsIm1hcEtleXMiLCJtYXBWYWx1ZXMiLCJtYXRjaGVzIiwibWF0Y2hlc1Byb3BlcnR5IiwibnRoQXJnIiwib21pdEJ5Iiwib3JkZXJCeSIsInByb3BlcnR5T2YiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInNhbXBsZVNpemUiLCJzZXRXaXRoIiwic2h1ZmZsZSIsInNvcnRlZFVuaXEiLCJzb3J0ZWRVbmlxQnkiLCJzZXBhcmF0b3IiLCJzcHJlYWQiLCJ0YWtlIiwidGFrZVJpZ2h0IiwidGFrZVJpZ2h0V2hpbGUiLCJ0YWtlV2hpbGUiLCJ0YXAiLCJ0aHJvdHRsZSIsInRvUGF0aCIsImlzQXJyTGlrZSIsInVuYXJ5IiwidW5pcUJ5IiwidW5pcVdpdGgiLCJ1bnNldCIsInVwZGF0ZSIsInVwZGF0ZVdpdGgiLCJ2YWx1ZXNJbiIsIndyYXAiLCJ6aXBPYmplY3QiLCJ6aXBPYmplY3REZWVwIiwiZW50cmllc0luIiwiZXh0ZW5kIiwiZXh0ZW5kV2l0aCIsImNsb25lRGVlcCIsImNsb25lRGVlcFdpdGgiLCJjbG9uZVdpdGgiLCJjb25mb3Jtc1RvIiwiZGVmYXVsdFRvIiwiZW5kc1dpdGgiLCJlc2NhcGUiLCJlc2NhcGVSZWdFeHAiLCJmaW5kS2V5IiwiZmluZExhc3RLZXkiLCJmb3JJbiIsImZvckluUmlnaHQiLCJmb3JPd24iLCJmb3JPd25SaWdodCIsImluUmFuZ2UiLCJiYXNlSW5SYW5nZSIsImlzQm9vbGVhbiIsImlzRWxlbWVudCIsImlzRW1wdHkiLCJpc0VxdWFsIiwiaXNFcXVhbFdpdGgiLCJpc01hdGNoIiwiaXNNYXRjaFdpdGgiLCJpc05hdGl2ZSIsImlzTmlsIiwiaXNOdWxsIiwiaXNTYWZlSW50ZWdlciIsImlzVW5kZWZpbmVkIiwiaXNXZWFrTWFwIiwiaXNXZWFrU2V0Iiwic3RyaWN0TGFzdEluZGV4T2YiLCJtYXhCeSIsIm1lYW4iLCJtZWFuQnkiLCJtaW5CeSIsInN0dWJPYmplY3QiLCJzdHViU3RyaW5nIiwic3R1YlRydWUiLCJudGgiLCJub0NvbmZsaWN0Iiwic3RyTGVuZ3RoIiwicGFkRW5kIiwicmFkaXgiLCJmbG9hdGluZyIsInJlZHVjZVJpZ2h0IiwicmVwZWF0Iiwic2FtcGxlIiwic29ydGVkSW5kZXgiLCJzb3J0ZWRJbmRleEJ5Iiwic29ydGVkSW5kZXhPZiIsInNvcnRlZExhc3RJbmRleCIsInNvcnRlZExhc3RJbmRleEJ5Iiwic29ydGVkTGFzdEluZGV4T2YiLCJzdGFydHNXaXRoIiwic3VtQnkiLCJ0ZW1wbGF0ZSIsImlzRXNjYXBpbmciLCJpc0V2YWx1YXRpbmciLCJpbXBvcnRzIiwiaW1wb3J0c0tleXMiLCJpbXBvcnRzVmFsdWVzIiwiaW50ZXJwb2xhdGUiLCJyZURlbGltaXRlcnMiLCJldmFsdWF0ZSIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ2YXJpYWJsZSIsInRpbWVzIiwidG9Mb3dlciIsInRvU2FmZUludGVnZXIiLCJ0b1VwcGVyIiwidHJpbUVuZCIsInRyaW1TdGFydCIsInRydW5jYXRlIiwib21pc3Npb24iLCJuZXdFbmQiLCJ1bmlxdWVJZCIsImVhY2giLCJlYWNoUmlnaHQiLCJWRVJTSU9OIiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsImlzUmlnaHQiLCJnZXRWaWV3IiwiaXRlckxlbmd0aCIsInRha2VDb3VudCIsIml0ZXJJbmRleCIsImNvbW1pdCIsImNyZWF0ZVNoaWZ0QXJyIiwic3BhY2UiLCJpeCIsInZrYmVhdXRpZnkiLCJpc1N1YnF1ZXJ5IiwicGFyZW50aGVzaXNMZXZlbCIsInNwbGl0X3NxbCIsInRhYiIsInhtbCIsImFyIiwiaW5Db21tZW50IiwiZGVlcCIsImNzcyIsInNxbCIsImFyX2J5X3F1b3RlIiwieG1sbWluIiwicHJlc2VydmVDb21tZW50cyIsImpzb25taW4iLCJjc3NtaW4iLCJzcWxtaW4iLCJjb25maXJtIiwic3BsaXREaXNhYmxlIiwiY2FwdHVyZSIsImNsaWNrYXdheUhhbmRsZXIiLCJyZXNldEhhbmRsZXIiLCJuY0lkIiwicXVldWVNaWNyb3Rhc2siLCJNdXRhdGlvbiIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIiwiaGFuZGxlIiwib2JzZXJ2ZXIiLCJjcmVhdGVUZXh0Tm9kZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwiTWVzc2FnZUNoYW5uZWwiLCJjaGFubmVsIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJwb3J0MiIsInBvc3RNZXNzYWdlIiwic2NyaXB0RWwiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZW1vdmVDaGlsZCIsImRvY3VtZW50RWxlbWVudCIsInB1bnljb2RlIiwidXRpbCIsIlVybCIsInNsYXNoZXMiLCJob3N0bmFtZSIsInBhdGhuYW1lIiwiaHJlZiIsInVybFBhcnNlIiwicmVsYXRpdmUiLCJyZXNvbHZlT2JqZWN0IiwicHJvdG9jb2xQYXR0ZXJuIiwicG9ydFBhdHRlcm4iLCJzaW1wbGVQYXRoUGF0dGVybiIsInVud2lzZSIsImF1dG9Fc2NhcGUiLCJub25Ib3N0Q2hhcnMiLCJob3N0RW5kaW5nQ2hhcnMiLCJob3N0bmFtZVBhcnRQYXR0ZXJuIiwiaG9zdG5hbWVQYXJ0U3RhcnQiLCJ1bnNhZmVQcm90b2NvbCIsImhvc3RsZXNzUHJvdG9jb2wiLCJzbGFzaGVkUHJvdG9jb2wiLCJxdWVyeXN0cmluZyIsInBhcnNlUXVlcnlTdHJpbmciLCJzbGFzaGVzRGVub3RlSG9zdCIsInUiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJzaW1wbGVQYXRoIiwibG93ZXJQcm90byIsImF0U2lnbiIsImhvc3RFbmQiLCJoZWMiLCJwYXJzZUhvc3QiLCJpcHY2SG9zdG5hbWUiLCJob3N0cGFydHMiLCJwYXJ0IiwibmV3cGFydCIsInZhbGlkUGFydHMiLCJub3RIb3N0IiwiYml0IiwidG9BU0NJSSIsImFlIiwiZXNjIiwicW0iLCJyZWwiLCJ0a2V5cyIsInRrIiwidGtleSIsInJrZXlzIiwicmsiLCJya2V5IiwicmVsUGF0aCIsImlzU291cmNlQWJzIiwiaXNSZWxBYnMiLCJtdXN0RW5kQWJzIiwicmVtb3ZlQWxsRG90cyIsInNyY1BhdGgiLCJwc3ljaG90aWMiLCJpc051bGxPclVuZGVmaW5lZCIsImF1dGhJbkhvc3QiLCJoYXNUcmFpbGluZ1NsYXNoIiwidXAiLCJpc0Fic29sdXRlIiwidXJpbGliIiwiaGVscGVycyIsIlNjaGVtYVNjYW5SZXN1bHQiLCJmb3VuZCIsInJlZiIsInNjYW4iLCJzY2FuU2NoZW1hIiwiYmFzZXVyaSIsIiRyZWYiLCJyZXNvbHZlZFVyaSIsIm91ckJhc2UiLCJzY2FuQXJyYXkiLCJpdGVtcyIsImV4dGVuZHMiLCJhZGRpdGlvbmFsSXRlbXMiLCJzY2FuT2JqZWN0IiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJkZWZpbml0aW9ucyIsInBhdHRlcm5Qcm9wZXJ0aWVzIiwiZGVwZW5kZW5jaWVzIiwiZGlzYWxsb3ciLCJhbGxPZiIsImFueU9mIiwib25lT2YiLCJub3QiLCJzdHJva2VXaWR0aCIsImVzY2FwZUtleUxpc3RlbmVyIiwiaW5mb0xpc3RlbmVycyIsImVudGVyS2V5TGlzdGVuZXIiLCJhcnJvd0tleUxpc3RlbmVyIiwic2hpZnRLZXkiLCJiYm94U3lsbGFibGVzIiwiaW5kIiwic2VsZWN0ZWRTeWxUZXh0Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImlzU2VsQnlCQm94Iiwic2VsQnlCQm94Iiwic3RvcFByb3BIYW5kbGVyIiwiaXNFbGVtZW50SW5SZWN0IiwidWwiLCJsciIsImdldEJCb3hDb29yZHMiLCJib3giLCJjbGlja0hhbmRsZXIiLCJnZXRVc2VyTW9kZSIsImZpcnN0TGlnYXR1cmVIYWxmIiwic2Vjb25kTGlnYXR1cmVIYWxmIiwibmNJbmRleCIsImZpcnN0VXNlIiwiYXNzZXJ0Iiwic2Vjb25kVXNlIiwiaXNNdWx0aVNlbGVjdCIsInNlbGVjdGVkQ2xhc3MiLCJzZWxCeVN0YWZmIiwic2VsQnlOZXVtZSIsInNlbEJ5TmMiLCJzZWxCeUxheWVyRWxlbWVudCIsImdldFN0YWZmQnlDb29yZHMiLCJkaXNwYXRjaEV2ZW50IiwiTW91c2VFdmVudCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY3RybEtleSIsImFsdEtleSIsIm52IiwiZGgiLCJzZWwiLCJpbml0aWFsWCIsInBhbm5pbmciLCJkcmFnU2VsZWN0aW5nIiwiY2FudmFzIiwiZHJhZ1NlbGVjdEFjdGlvbiIsIm5vZGVOYW1lIiwic3RhcnREcmFnIiwiaW5pdGlhbFAiLCJjdXJyZW50UHQiLCJjdXJYIiwiY3VyWSIsIm5ld1giLCJuZXdZIiwiY3VycmVudFdpZHRoIiwiY3VycmVudEhlaWdodCIsInVwZGF0ZVJlY3QiLCJzZWxlY3RSZWN0IiwicngiLCJyeSIsImx4IiwibHkiLCJzZWxlY3RlZEVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeVNlbGVjdG9yIiwicmVzZXRUbyIsImNvcHlBdHRyaWJ1dGVzIiwiZ2V0U3lsbGFibGVUZXh0IiwiY2hpbGROb2RlcyIsInN5bFRleHQiLCJub2RlVmFsdWUiLCJpc0ludmFsaWRCQm94IiwibWVpIiwiem9uZSIsImlzQWxsWmVybyIsImNoZWNrUHJlY2VkZXNTeWxsYWJsZSIsInN5bHNUZXh0IiwiY2hlY2tGb2xsb3dzU3lsbGFibGUiLCJjaGVja09ibGlxdWUiLCJuY0lkeCIsImNvbGxlY3RGYWNzQ2hpbGRyZW4iLCJhcnJheTEiLCJhcnJheTIiLCJzdGFmZkJhc2VkTWVpIiwiRE9NUGFyc2VyIiwic2VyaWFsaXplciIsIlhNTFNlcmlhbGl6ZXIiLCJtZWlEb2MiLCJwYXJzZUZyb21TdHJpbmciLCJuQ29sIiwic2VjdGlvbnMiLCJzZWN0aW9uIiwicGIiLCJzYiIsIm5ld1N0YWZmIiwiY3JlYXRlRWxlbWVudE5TIiwibmV3TGF5ZXIiLCJzdXJmYWNlIiwic3VyZmFjZUlkIiwibmVvbk5ldW1lTGluZVNlY3Rpb25zIiwiblN0YWZmIiwibGFzdENiIiwibmVvbk5ldW1lTGluZVNlY3Rpb24iLCJsYXllciIsImNhbGN1bGF0ZUFuZEFkZFpvbmUiLCJjdXN0b3MiLCJsYXN0RWxlbWVudENoaWxkIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJzY29yZURlZiIsImNvbExheW91dCIsImluc2VydEFkamFjZW50RWxlbWVudCIsInNlcmlhbGl6ZVRvU3RyaW5nIiwic3RhcnRFbGVtZW50IiwiZW5kRWxlbWVudCIsImVsZW1lbnRzQmV0d2VlbiIsImNvbGxlY3RBbGxFbGVtZW50c1dpdGhGYWNzIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiQkJveCIsImNhbGN1bGF0ZUJCb3giLCJpbnNlcnRCZWZvcmUiLCJzYkJhc2VkTWVpIiwiaGFzQ29scyIsImhhc0ludmFsaWRCQm94Iiwiem9uZXMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlzSW52YWxpZCIsImhhc0VtcHR5U3lsbGFibGUiLCJoYXNFbXB0eU5ldW1lIiwiZW1wdHlTeWxsYWJsZUluZm8iLCJlbXB0eU5ldW1lSW5mbyIsIm5ldW1lcyIsImxpcSIsIm9yaWdpbmFsU3RhdmVzIiwibmV3UGIiLCJzYkFycmF5Iiwib3JpZ1N5bGxhYmxlIiwibmV1bWVCZWhpbmQiLCJuZXVtZUFoZWFkIiwiY2hpbGRBcnJheSIsInNiSW5kZXgiLCJuZXdTeWxsYWJsZSIsImNsZWYiLCJkZWJ1ZyIsInNicyIsImxheWVyQ2hpbGRyZW4iLCJjdXJyZW50U2IiLCJuZXh0U2IiLCJuZXdTYiIsIm5ld1NlY3Rpb24iLCJjdXJyZW50SWR4IiwiY2JGYWNzIiwiY2Jab25lIiwiY2hpbGRyZW5BcnJheSIsImZhY3NDaGlsZHJlbiIsInoiLCJuZXdTeWxsYWJsZXMiLCJpbnZhbGlkTGlua2VkIiwiaW52YWxpZExpbmtlZEluZm8iLCJpbnZhbGlkT2JsaXF1ZSIsImludmFsaWRPYmxpcXVlSW5mbyIsIm9ibGlxdWVJbmZvIiwic3lsbGFibGVJZHgiLCJtZWlTdHJpbmciLCJkaW1lbnNpb25zIiwibWVpTHJ4IiwibWVpTHJ5IiwiaXNPdXRPZkJvdW5kcyIsImNvb3JkIiwiaXNBdHRyT3V0T2ZCb3VuZHMiLCJtZWlGb3JWYWxpZGF0aW9uIiwic2NoZW1hUmVzcG9uc2UiLCJ3b3JrZXIiLCJ2ZXJzaW9uRmllbGQiLCJzdGF0dXNGaWVsZCIsInVwZGF0ZVN0YXR1c1VJIiwibGluZSIsInN0YXR1c09uQ2xpY2siLCJtb2RhbCIsIm1laVZlcnNpb24iLCJtZWlTdGF0dXMiLCJXb3JrZXIiLCJtZWlEYXRhIiwidXBkYXRlVmVyc2lvblVJIiwiZ2V0TWVpVmVyc2lvbiIsInNhdmVkIiwiaW5kaWNhdG9yIiwiYWx0TWVzc2FnZSIsInVwZGF0ZUluZGljYXRvciIsIm9uYmVmb3JldW5sb2FkIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwiZm9ybWF0QXJncyIsInVzZUNvbG9ycyIsIm5hbWVzcGFjZSIsImh1bWFuaXplIiwibGFzdEMiLCJzYXZlIiwibmFtZXNwYWNlcyIsInN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiREVCVUciLCJfX253anMiLCJXZWJraXRBcHBlYXJhbmNlIiwiZmlyZWJ1ZyIsImV4Y2VwdGlvbiIsInRhYmxlIiwibG9jYWxzdG9yYWdlIiwiY29sb3JzIiwiZm9ybWF0dGVycyIsImFjdGl2YXRlIiwiaW5zZXJ0SGFuZGxlciIsImluc2VydEFjdGl2ZSIsImRlYWN0aXZhdGUiLCJ0YWJJZHMiLCJpbnNlcnRPcHRpb25zIiwiaW5zZXJ0RWxlbWVudHMiLCJiaW5kRWxlbWVudHMiLCJpbnNlcnRQYW5lbCIsImluc2VydEhlYWRpbmciLCJpbnNlcnRIZWFkaW5nVGl0bGUiLCJpbnNlcnRDb250ZW50cyIsImluc2VydERyb3Bkb3duSWNvbiIsImVkaXRQYW5lbCIsImVkaXRIZWFkaW5nIiwiZGlzcGxheUhlYWRpbmdUaXRsZSIsImVkaXRDb250ZW50cyIsImVkaXREcm9wZG93bkljb24iLCJzZWxCeVN5bGxhYmxlIiwiZmlyc3RDbGljayIsImluc2VydERpc2FibGVkIiwicmVtb3ZlSW5zZXJ0Q2xpY2tIYW5kbGVycyIsInJlc2V0SW5zZXJ0SGFuZGxlciIsInN0YWZmSGFuZGxlciIsImVsZW1lbnRUeXBlIiwiYnV0dG9uSWQiLCJhbHJlYWR5SW5JbnNlcnRNb2RlIiwiaXNJbnNlcnRNb2RlIiwidGlsdCIsImZvcm0iLCJhY2NpZCIsImVkaXRNb2RlQnV0dG9uIiwibmF2YmFyRHJvcGRvd25GaWxlTWVudSIsImZpbGVEcm9wZG93bkJ0biIsImZpbGVOYXZiYXJDb250ZW50cyIsIm5hdmJhckRyb3Bkb3duTUVJQWN0aW9uc01lbnUiLCJtZWlBY3Rpb25zRHJvcGRvd25CdG4iLCJtZWlBY3Rpb25zTmF2YmFyQ29udGVudHMiLCJuYXZiYXJGaW5hbGl6ZSIsInVuZG9SZWRvUGFuZWwiLCJhZGRTeWxBY3Rpb24iLCJuYXZiYXJEcm9wZG93bnMiLCJkcm9wRG93biIsImV4cG9ydCIsIm1hbmlmZXN0IiwibGluayIsImRvd25sb2FkIiwiZ2V0UGFnZU1FSSIsImNvbnZlcnRUb05lb24iLCJnZXRQYWdlTmFtZSIsImhhc0VtcHR5U3lsbGFibGVzIiwicmVtb3ZlU3lsbGFibGVBY3Rpb25zIiwiY2hhaW5SZW1vdmVBY3Rpb24iLCJoYXNFbXB0eU5ldW1lcyIsInJlbW92ZU5ldW1lQWN0aW9ucyIsIm91dE9mQm91bmRab25lcyIsInpvbmVNYXAiLCJvdXRPZkJvdW5kR2x5cGhzIiwiZ2x5cGgiLCJmYWNzSWQiLCJoYXNJbnZhbGlkT2JsaXF1ZSIsImludmFsaWRTeWxsYWJsZXMiLCJnZXRJbnZhbGlkU3lsbGFibGVzIiwicHJlY2VkZXNTeWxsYWJsZSIsImZvbGxvd3NTeWxsYWJsZSIsImRlbGV0ZURiIiwibG9jYXRpb24iLCJyZWxvYWQiLCJ1bmRvSGFuZGxlciIsInVuZG8iLCJyZWRvSGFuZGxlciIsInJlZG8iLCJnZXRHZXRQYXJhbSIsIm1hbmlmZXN0TG9jYXRpb24iLCJzdGF0dXNUZXh0IiwiaW1hZ2UiLCJEaXNwbGF5IiwiSW5mbyIsIlRleHRWaWV3IiwiVGV4dEVkaXQiLCJWaWV3IiwiTmV1bWVFZGl0IiwiUmVzcG9uc2UiLCJwYXJzZU1hbmlmZXN0IiwidGV4dFZpZXciLCJ1cGRhdGVCQm94VmlzaWJpbGl0eSIsImNvcmUiLCJWYWxpZGF0aW9uIiwic2V0RGVidWdNb2RlIiwibGlzdGVuVW5zYXZlZENoYW5nZXMiLCJzZXR1cEVkaXQiLCJpbml0RGIiLCJvblNWR0xvYWQiLCJwYWdlTm8iLCJnZXRDdXJyZW50UGFnZSIsImNoYW5nZVBhZ2UiLCJzZXRTYXZlZFN0YXR1cyIsInBhZ2VVUkkiLCJlbGVtZW50SUQiLCJ1cGRhdGVEYXRhYmFzZSIsImdldEFubm90YXRpb25zIiwidGltZXN0YW1wIiwicmVhZEFzRGF0YVVSTCIsImdldE1FSSIsImdldFNWRyIsInZlcm92aW9XcmFwcGVyIiwidW5kb1N0YWNrcyIsInJlZG9TdGFja3MiLCJuZW9uQ2FjaGUiLCJibGFua1BhZ2VzIiwiYW5ub3RhdGlvbnMiLCJtZWlfYW5ub3RhdGlvbnMiLCJsYXN0UGFnZUxvYWRlZCIsImFubm90YXRpb24iLCJ0aW1lWm9uZVJlZ2V4cCIsImdldFRpbWUiLCJuZXdBbm5vdGF0aW9uIiwibG9hZERhdGEiLCJibGFua1BhZ2UiLCJjb252ZXJ0VG9WZXJvdmlvIiwiY2hlY2tPdXRPZkJvdW5kc0dseXBocyIsImRpcnR5Iiwic2VuZEZvclZhbGlkYXRpb24iLCJyZW1vdmVDb2x1bW5MYWJlbCIsInN2ZyIsImxvYWRQYWdlIiwiY3VycmVudE1FSSIsInVuZG9TdGFjayIsInVwZGF0ZUNhY2hlIiwic3ZnVGV4dCIsIm1laVByb21pc2UiLCJzdmdQcm9taXNlIiwidXBkYXRlVGltZXN0YW1wIiwidmVyb3Zpb1dvcmtlciIsIk5lb25TY2hlbWEiLCJOZW9uQ29udGV4dCIsIm1hbmlmZXN0U3RyaW5nIiwiVmFsaWRhdG9yIiwiYXR0cmlidXRlIiwidW5yZXNvbHZlZFJlZnMiLCJ2YWxpZGF0b3JzIiwic2hvdWxkUmVzb2x2ZSIsImFkZFNjaGVtYSIsIm91clVyaSIsImFkZFN1YlNjaGVtYUFycmF5IiwiYWRkU3ViU2NoZW1hIiwiYWRkU3ViU2NoZW1hT2JqZWN0Iiwic2V0U2NoZW1hcyIsImdldFNjaGVtYSIsInVybiIsInNjaCIsInJlcXVpcmVkIiwidmFsaWRhdGVTY2hlbWEiLCJzY2hlbWFvYmoiLCJzY2hlbWFUcmF2ZXJzZXIiLCJzdXBlclJlc29sdmUiLCJzd2l0Y2hTY2hlbWEiLCJyZXNvbHZlZCIsInN1YmN0eCIsInN1YnNjaGVtYSIsInNraXBBdHRyaWJ1dGVzIiwiaWdub3JlUHJvcGVydGllcyIsInZhbGlkYXRvckVyciIsImFsbG93VW5rbm93bkF0dHJpYnV0ZXMiLCJyZXdyaXRlIiwicGFyc2VkIiwiZnJhZ21lbnQiLCJ0ZXN0VHlwZSIsImludGVnZXIiLCJib29sZWFuIiwiZGF0ZSIsImFueSIsIm1heEludCIsInJlZ2V4UHVueWNvZGUiLCJyZWdleE5vbkFTQ0lJIiwicmVnZXhTZXBhcmF0b3JzIiwic3RyaW5nRnJvbUNoYXJDb2RlIiwibWFwRG9tYWluIiwidWNzMmRlY29kZSIsImV4dHJhIiwiY291bnRlciIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImZsYWciLCJhZGFwdCIsIm51bVBvaW50cyIsImZpcnN0VGltZSIsImJhc2VNaW51c1RNaW4iLCJkZWNvZGUiLCJiYXNpYyIsIm9sZGkiLCJiYXNlTWludXNUIiwiY29kZVBvaW50IiwiaW5wdXRMZW5ndGgiLCJiaWFzIiwiZW5jb2RlIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsInEiLCJoYW5kbGVkQ1BDb3VudFBsdXNPbmUiLCJxTWludXNUIiwicXMiLCJzZXAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJ4cyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsIm9iamVjdEtleXMiLCJrcyIsImYiLCJ0ZXN0U2NoZW1hTm9UaHJvdyIsImdldEVudW1lcmFibGVQcm9wZXJ0eSIsInRlc3RBZGRpdGlvbmFsUHJvcGVydHkiLCJwcmVWYWxpZGF0ZVByb3BlcnR5IiwiaW5uZXIiLCJuZXN0ZWRFcnJvcnMiLCJpZiIsImlmVmFsaWQiLCJlbHNlIiwicHJvcGVydHlOYW1lcyIsIl9lIiwibWluUHJvcGVydGllcyIsIm1heFByb3BlcnRpZXMiLCJtaW5pbXVtIiwiZXhjbHVzaXZlTWluaW11bSIsIm1heGltdW0iLCJleGNsdXNpdmVNYXhpbXVtIiwidmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5IiwidmFsaWRhdGlvblR5cGUiLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uQXJndW1lbnQiLCJpbnN0YW5jZURlY2ltYWxzIiwiZGl2aXNvckRlY2ltYWxzIiwibWF4RGVjaW1hbHMiLCJwb3ciLCJ0ZXN0QXJyYXlzIiwibXVsdGlwbGVPZiIsImRpdmlzaWJsZUJ5IiwibWluTGVuZ3RoIiwiaHNwIiwibWluSXRlbXMiLCJtYXhJdGVtcyIsInVuaXF1ZUl0ZW1zIiwiZGVwIiwiY2hpbGRDb250ZXh0Iiwibm90VHlwZXMiLCJzY2hlbWFJZCIsInVwZGF0ZURlYnVnTW9kZVN0YXR1cyIsImRlYnVnTW9kZUNoZWNrYm94IiwiZXJyb3JMb2dMYWJlbCIsImluaXRFcnJvckxvZyIsIm1laUNsYXNzIiwiaGFuZGxlWm9vbSIsImRpc3BsYXlDb250cm9sc1BhbmVsIiwibG9hZFNldHRpbmdzIiwiYWRkVXBkYXRlQ2FsbGJhY2siLCJ1cGRhdGVWaXN1YWxpemF0aW9uIiwiRGlzcGxheUNvbnRyb2xzIiwic2V0Wm9vbUNvbnRyb2xzIiwiaW5pdERpc3BsYXlDb250cm9scyIsInVwZGF0ZUNhbGxiYWNrcyIsImRpdmFSZWFkeSIsImRpdmEiLCJvYmplY3REYXRhIiwibWluSGVpZ2h0IiwiaW5kZXhNYXAiLCJkaXNhYmxlRHJhZ1Njcm9sbGFibGUiLCJkaXNwbGF5UGFuZWwiLCJsb2FkRGVsYXkiLCJpbml0RGl2YUV2ZW50cyIsIm9ucmVzaXplIiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwiRXZlbnRzIiwic3Vic2NyaWJlIiwiSUQiLCJkaWRMb2FkIiwiYWRqdXN0Wm9vbSIsInBhZ2VJbmRleCIsImNoZWNrQW5kTG9hZCIsInBhZ2UiLCJnZXRQYWdlU1ZHIiwidXBkYXRlU1ZHIiwiY29udGFpbmVySWQiLCJwYWdlSW5kZXhlcyIsImdldEFjdGl2ZVBhZ2VJbmRleCIsInpvb21EdXJhdGlvbiIsImZpcnN0Q2hpbGQiLCJzZXRWaWV3RXZlbnRIYW5kbGVycyIsImdldFBhZ2VEaW1lbnNpb25zQXRDdXJyZW50Wm9vbUxldmVsIiwidmlld0hhbmRsZXIiLCJfdmlld2VyQ29yZSIsImdldFBhZ2VSZWdpb24iLCJpbmNsdWRlUGFkZGluZyIsImluY29ycG9yYXRlVmlld3BvcnQiLCJtYXJnaW5MZWZ0IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJ0b3AiLCJzZXREaXNwbGF5TGlzdGVuZXJzIiwidmlzaWJpbGl0eSIsInNlcXVlbmNlIiwic2VxdWVuY2VzIiwiY2FudmFzZXMiLCJpdGVtVGl0bGUiLCJwYWdlcyIsIl9yYWYiLCJfaXNUb3VjaCIsIl9leHRlbmQiLCJWYW5pbGxhS2luZXRpYyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkRFRkFVTFRTIiwiQUNUSVZFX0NMQVNTIiwiX2luaXRFbGVtZW50cyIsIl9WYW5pbGxhS2luZXRpYyIsImRlY2VsZXJhdGUiLCJ0cmlnZ2VySGFyZHdhcmUiLCJ0aHJlc2hvbGQiLCJzbG93ZG93biIsIm1heHZlbG9jaXR5IiwidGhyb3R0bGVGUFMiLCJtb3ZpbmdDbGFzcyIsImRvd24iLCJkZWNlbGVyYXRpbmdDbGFzcyIsInZlbG9jaXR5IiwidmVsb2NpdHlZIiwiX21vdmUiLCJzdG9wIiwic3RvcHBlZCIsImRldGFjaCIsIl9kZXRhY2hMaXN0ZW5lcnMiLCJhdHRhY2giLCJfYXR0YWNoTGlzdGVuZXJzIiwieHBvcyIsInByZXZYUG9zIiwieXBvcyIsInByZXZZUG9zIiwibW91c2VEb3duIiwidGhyb3R0bGVUaW1lb3V0IiwibGFzdE1vdmUiLCJlbGVtZW50Rm9jdXNlZCIsImRvY3VtZW50UmVzZXRIYW5kbGVyIiwiX3Jlc2V0TW91c2UiLCJodG1sIiwiX2luaXRFdmVudHMiLCJwcmVmaXhlcyIsInN0eWxlcyIsInRvdWNoU3RhcnQiLCJ0b3VjaCIsIl91c2VUYXJnZXQiLCJvcmlnaW5hbEV2ZW50IiwidG91Y2hlcyIsIl90aHJlc2hvbGQiLCJfc3RhcnQiLCJ0b3VjaE1vdmUiLCJfaW5wdXRtb3ZlIiwiaW5wdXREb3duIiwiaW5wdXRFbmQiLCJfZW5kIiwiaW5wdXRNb3ZlIiwic2Nyb2xsIiwibW92ZWQiLCJpbnB1dENsaWNrIiwiZHJhZ1N0YXJ0Iiwic2VsZWN0U3RhcnQiLCJtb3ZlZFgiLCJtb3ZlZFkiLCJzcXJ0IiwiYmx1ciIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJfY2FsY3VsYXRlVmVsb2NpdGllcyIsIl9zZXRNb3ZlQ2xhc3NlcyIsIl9jYXBWZWxvY2l0eSIsImZpbHRlclRhcmdldCIsIl9kZWNlbGVyYXRlVmVsb2NpdHkiLCJuZXdWZWxvY2l0eSIsImNsYXNzZXMiLCJzY3JvbGxlciIsIl9nZXRTY3JvbGxlciIsInNjcm9sbFdpZHRoIiwic2Nyb2xsSGVpZ2h0IiwibW92aW5nIiwibmV3U2Nyb2xsWCIsIm5ld1Njcm9sbFkiLCJfd2luZG93IiwiX2RvY3VtZW50IiwiZHJhZ2dlZCIsIm1kIiwibXUiLCJtbSIsImxhc3RDbGllbnRYIiwibGFzdENsaWVudFkiLCJwdXNoZWQiLCJjb250IiwiZWxlbWVudEZyb21Qb2ludCIsInBhZ2VYIiwicGFnZVkiLCJyZWFkeVN0YXRlIiwicmVzZXREcmFnc2Nyb2xsIiwiY3JlYXRlRGVidWciLCJwcmV2VGltZSIsIm5hbWVzcGFjZXNDYWNoZSIsImVuYWJsZWRDYWNoZSIsImVuYWJsZU92ZXJyaWRlIiwiZW5hYmxlZCIsIm1zIiwiY29lcmNlIiwiZm9ybWF0dGVyIiwic2VsZWN0Q29sb3IiLCJkZWxpbWl0ZXIiLCJuZXdEZWJ1ZyIsInRvTmFtZXNwYWNlIiwiZGlzYWJsZSIsInNraXBzIiwiZW5hYmxlIiwicGx1cmFsIiwibXNBYnMiLCJpc1BsdXJhbCIsImxvbmciLCJmbXRMb25nIiwiZm10U2hvcnQiLCJwYW5lbCIsInNldEF0dHJpYnV0ZU5TIiwicmVwbGFjZUNoaWxkIiwicmVzZXRUcmFuc2Zvcm1hdGlvbnMiLCJfcGFnZSIsIl9kZWxheSIsInJlc3RvcmVUcmFuc2Zvcm1hdGlvbiIsInNldFNlbGVjdExpc3RlbmVycyIsInNjcm9sbFpvb20iLCJuZXdIZWlnaHQiLCJWaWV3Qm94IiwiaW1hZ2VXaWR0aCIsImltYWdlSGVpZ2h0IiwibWluWCIsIm1pblkiLCJ6b29tSGVpZ2h0Iiwiem9vbVdpZHRoIiwiWm9vbUhhbmRsZXIiLCJyZXNldFNldHRpbmdzIiwiYmdpbWciLCJ1cGRhdGVTVkdWaWV3Qm94Iiwic2V0Vmlld0JveCIsInRyYW5zbGF0ZSIsInJhd1ZpZXdCb3giLCJ2aWV3Qm94U3RyaW5nIiwiZHJhZ0Nvb3JkaW5hdGVzIiwiY3JlYXRlU1ZHUG9pbnQiLCJtYXRyaXgiLCJuZXdDb29yZGluYXRlcyIsImRlbHRhWCIsImRlbHRhWSIsIm5ld1RyYW5zZm9ybSIsImRyYWdUcmFuc2Zvcm0iLCJzbGlkZXIiLCJuZXdLIiwiZ2V0Wm9vbSIsImluaXRFZGl0TW9kZSIsImJpbmRJbnNlcnRUYWJzIiwiU2VsZWN0Iiwic2V0U2VsZWN0SGVscGVyT2JqZWN0cyIsImluaXRJbnNlcnRFZGl0Q29udHJvbHMiLCJzZXRTZWxlY3RTdHJva2VXaWR0aCIsImluaXRTZWxlY3Rpb25CdXR0b25zIiwic2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMiLCJjbGlja1NlbGVjdCIsImRyYWdTZWxlY3QiLCJpbml0TmF2YmFyIiwiaW5pdFVuZG9SZWRvUGFuZWwiLCJuZXVtZUdyb3VwcyIsInVwZGF0ZUluZm9WaXNpYmlsaXR5IiwiZWxlbWVudEluZm8iLCJ1cGRhdGVEaXNwbGF5QWxsQnRuIiwic2V0SW5mb0NvbnRyb2xzIiwibGFiZWwiLCJyZXNldEluZm9MaXN0ZW5lcnMiLCJpc0hvdmVyaW5nQ2hpbGQiLCJ1cGRhdGVJbmZvIiwic3RvcExpc3RlbmVycyIsImVsZW1lbnRDbGFzcyIsInBpdGNoZXMiLCJnZXRQaXRjaGVzIiwiZGlzIiwiZGlzcGxhY2UiLCJ1cGRhdGVJbmZvTW9kdWxlIiwicGl0Y2hOYW1lVG9OdW0iLCJwbmFtZSIsIm5vdGlmaWNhdGlvblNlbnQiLCJ0ZXh0TGFiZWwiLCJiYm94TGFiZWwiLCJ0ZXh0QnV0dG9uIiwiYmJveEJ1dHRvbiIsInNldFRleHRWaWV3Q29udHJvbHMiLCJ1cGRhdGVUZXh0Vmlld1Zpc2liaWxpdHkiLCJpbml0U2VsZWN0QnlCQm94QnV0dG9uIiwiaW5pdEJCb3hDaXJjbGVTbGlkZXIiLCJnZXRTeWxUZXh0IiwiaW5pdFRleHRFZGl0IiwibHlyaWNzIiwic2VsQnlCQm94TGlzdGVuZXIiLCJhZGRCQm94TGlzdGVuZXJzIiwic3BhbnMiLCJzZWxlY3RTeWxUZXh0IiwiYmxvY2siLCJidXR0b24iLCJzbGlkZXJTZWN0aW9uIiwiY2lyY2xlU2xpZGVyQ29udGFpbmVyIiwic2V0Q2lyY2xlU2l6ZUNvbnRyb2xzIiwiZWx0IiwiaGFuZGxlRWx0Q29uc3RydWN0b3JBcmciLCJjaGlsZENvdW50Iiwic2V0RE9NQXR0cmlidXRlcyIsInNldFN0eWxlIiwiY3NzUHJvcCIsImNzc1RleHQiLCJEaXZhUGFyZW50RWxlbWVudE5vdEZvdW5kRXhjZXB0aW9uIiwiTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb24iLCJPYmplY3REYXRhTm90U3VwcGxpZWRFeGNlcHRpb24iLCJfY2FjaGUiLCJ0b3BpYyIsInRoaXNUb3BpYyIsInRoaXNUb3BpY0dsb2JhbCIsImdsb2JhbENvdW50IiwiZ2V0SW5zdGFuY2VJZCIsImluc3RhbmNlSUQiLCJ0aGlzVG9waWNJbnN0YW5jZSIsInNjb3BlZENvdW50IiwiY29tcGxldGVseSIsInRvcGljQXJyYXkiLCJ0b3BpY3MiLCJvbkRvdWJsZUNsaWNrIiwiZ2V0UmVsYXRpdmVPZmZzZXQiLCJ0cmFja2VyIiwiY3JlYXRlRG91YmxlRXZlbnRUcmFja2VyIiwiaXNUcmlnZ2VyZWQiLCJ0cmlnZ2VyIiwib25QaW5jaCIsInN0YXJ0RGlzdGFuY2UiLCJkaXN0YW5jZSIsIm1vdmVEaXN0YW5jZSIsInpvb21EZWx0YSIsInRvdWNoQ2VudGVyIiwib25Eb3VibGVUYXAiLCJmaXJzdFRhcCIsInNlY29uZFRhcCIsImNoYW5nZWRUb3VjaGVzIiwieDEiLCJ5MSIsIngyIiwieTIiLCJ0aW1lb3V0RHVyYXRpb24iLCJ0cmlnZ2VyZWQiLCJ0aW1lb3V0SWQiLCJyZXNldFRpbWVvdXQiLCJwYWdlQ29vcmRzIiwiYm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwidmlld2VyQ29yZSIsIl9pbm5lckVsZW1lbnQiLCJpbm5lckVsZW1lbnQiLCJfcGFnZVRvb2xzRWxlbSIsImxhYmVsV2lkdGgiLCJfYnV0dG9ucyIsIl9pbml0aWFsaXplUGFnZVRvb2xCdXR0b25zIiwiY2xhc3MiLCJfcGFnZUxhYmVsc0VsZW0iLCJyZWZyZXNoIiwicHVibGljSW5zdGFuY2UiLCJnZXRQdWJsaWNJbnN0YW5jZSIsImdldFBhZ2VUb29scyIsInBhZ2VUb29sc0ljb24iLCJjbG9uZU5vZGUiLCJoYW5kbGVDbGljayIsIl92aWV3ZXJTdGF0ZSIsImdldEludGVybmFsU3RhdGUiLCJfb3ZlcmxheXMiLCJudW1QYWdlcyIsIm92ZXJsYXkiLCJhZGRQYWdlT3ZlcmxheSIsImR1bW15TGFiZWwiLCJjbGllbnRXaWR0aCIsImNvb3JkcyIsIm5ld1pvb21MZXZlbCIsInpvb21MZXZlbCIsImdldFBhZ2VQb3NpdGlvbkF0Vmlld3BvcnRPZmZzZXQiLCJlbmREaXN0YW5jZSIsInZpZXdlclN0YXRlIiwibWluWm9vbUxldmVsIiwibWF4Wm9vbUxldmVsIiwiY2VudGVyT2Zmc2V0IiwiZ2V0Q3VycmVudExheW91dCIsImdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0IiwiYW5jaG9yUGFnZSIsInZpZXdwb3J0Iiwic2NhbGVSYXRpbyIsImdvRGlyZWN0bHlUbyIsImhvcml6b250YWxPZmZzZXQiLCJ2ZXJ0aWNhbE9mZnNldCIsInB1Ymxpc2giLCJfaGFuZGxlWm9vbUxldmVsQ2hhbmdlIiwiY3VycmVudFBhZ2VJbmRleCIsImFjdGl2ZVBhZ2VJbmRleCIsImZpbGVOYW1lIiwicmVuZGVyZWRQYWdlcyIsInRhcmdldFBhZ2UiLCJjdXJyZW50UGFnZSIsImxheW91dCIsImNlbnRlclkiLCJjZW50ZXJYIiwiY2VudGVyUGFnZSIsImRpbXMiLCJnZXRQYWdlRGltZW5zaW9ucyIsImltYWdlT2Zmc2V0IiwiZ2V0UGFnZU9mZnNldCIsIm1pZFgiLCJtaWRZIiwiZ2V0Q2VudGVybW9zdFBhZ2UiLCJnZXRWaWV3cG9ydCIsImludGVyc2VjdGlvblRvbGVyYW5jZSIsInZpc2libGVQYWdlcyIsInJlbmRlcmVyIiwiaXNQYWdlVmlzaWJsZSIsInNldEN1cnJlbnRQYWdlcyIsIm9sZFpvb21MZXZlbCIsInJlbW92ZVBhZ2VPdmVybGF5IiwiR3JpZEhhbmRsZXIiLCJwYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldCIsImluR3JpZCIsImdldFBhZ2VJbmZvIiwiY2hvc2VuR3JvdXAiLCJyZWdpb24iLCJib3R0b20iLCJ2aWV3cG9ydE1pZGRsZSIsImdyb3VwTWlkZGxlIiwiZ2V0Q2VudGVybW9zdEdyb3VwIiwiUGFnZU92ZXJsYXlNYW5hZ2VyIiwiX3BhZ2VzIiwiX3JlbmRlcmVkUGFnZXMiLCJfcmVuZGVyZWRQYWdlTWFwIiwibW91bnQiLCJvdmVybGF5c0J5UGFnZSIsIm92ZXJsYXlJbmRleCIsInVubW91bnQiLCJwcmV2aW91c2x5UmVuZGVyZWQiLCJuZXdSZW5kZXJlZE1hcCIsIl9pbnZva2VPbk92ZXJsYXlzIiwib3ZlcmxheXMiLCJUaWxlQ292ZXJhZ2VNYXAiLCJjb2xzIiwiX3Jvd3MiLCJfY29scyIsIl9tYXAiLCJjb2wiLCJsZXZlbHMiLCJfbGV2ZWxzIiwidXJsc1RvVGlsZXMiLCJfdXJsc1RvVGlsZXMiLCJsZXZlbCIsInRpbGVzIiwidGlsZSIsImxvYWRlZEJ5TGV2ZWwiLCJfbG9hZGVkQnlMZXZlbCIsImJhc2Vab29tTGV2ZWwiLCJ0b1JlbmRlckJ5TGV2ZWwiLCJoaWdoZXN0Wm9vbUxldmVsIiwiY292ZXJlZCIsImJlc3RMZXZlbEluZGV4IiwiY2VpbExldmVsIiwibG9hZGVkIiwiYWRkaXRpb25hbFRpbGVzIiwiaXNMb2FkZWQiLCJpc05lZWRlZCIsImhpZ2hSZXNSb3ciLCJoaWdoUmVzQ29sIiwiYnlMZXZlbCIsInVybHMiLCJEb2N1bWVudExheW91dCIsImNvbmZpZyIsImNvbXB1dGVkTGF5b3V0Iiwic2NhbGVkTGF5b3V0cyIsInBhZ2VMYXlvdXRzIiwic2NhbGVEaW1lbnNpb25zIiwiZ3JvdXBPZmZzZXQiLCJnZXRTY2FsZWRQYWdlTGF5b3V0cyIsImRvY3VtZW50U2Vjb25kYXJ5RXh0ZW50Iiwic2Vjb25kYXJ5RGltIiwic2Vjb25kYXJ5UGFkZGluZyIsImRvY1BhZGRpbmciLCJ2ZXJ0aWNhbGx5T3JpZW50ZWQiLCJtYXhEaW0iLCJnZXRFeHRlbnRBbG9uZ1NlY29uZGFyeUF4aXMiLCJwcmltYXJ5RG9jUG9zaXRpb24iLCJwYWdlR3JvdXBzIiwicGFnZVBhZGRpbmciLCJnZXRDb21wdXRlZExheW91dCIsIl9wYWdlTG9va3VwIiwicGFnZUxvb2t1cCIsImdldFBhZ2VMb29rdXAiLCJnZXRQYWdlUmVnaW9uRnJvbVBhZ2VJbmZvIiwicGFnZUluZm8iLCJlbGVtZW50V2lkdGgiLCJlbGVtZW50SGVpZ2h0IiwiSW1hZ2VDYWNoZSIsIl9oZWxkIiwiX3VybHMiLCJfbHJ1IiwicmVjb3JkIiwiaW1nIiwiX3Byb21vdGUiLCJfdHJ5RXZpY3QiLCJleHRyYUNhcGFjaXR5IiwiYWxsb3dlZEVudHJ5Q291bnQiLCJldmljdGlvbkluZGV4IiwiSW1hZ2VSZXF1ZXN0SGFuZGxlciIsIl91cmwiLCJfY2FsbGJhY2siLCJfZXJyb3JDYWxsYmFjayIsInRpbWVvdXRUaW1lIiwiX2Fib3J0ZWQiLCJfY29tcGxldGUiLCJfY3Jvc3NPcmlnaW4iLCJpbWFnZUNyb3NzT3JpZ2luIiwiX2ltYWdlIiwiSW1hZ2UiLCJjcm9zc09yaWdpbiIsIm9ubG9hZCIsIl9oYW5kbGVMb2FkIiwiX2hhbmRsZUVycm9yIiwiYW5pbWF0ZSIsImR1cmF0aW9uTXMiLCJkdXJhdGlvbiIsInBhcmFtZXRlcnMiLCJvblVwZGF0ZSIsIm9uRW5kIiwidHdlZW5GbnMiLCJwYXJhbUtleXMiLCJlYXNpbmciLCJlbGFwc2VkIiwiaW5PdXRDdWJpY0Vhc2luZyIsInJlcXVlc3RJZCIsInVwZGF0ZVZhbHVlcyIsImhhbmRsZUFuaW1hdGlvbkNvbXBsZXRpb24iLCJpbnRlcnJ1cHRlZCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibGluZWFyIiwiY3ViaWMiLCJwZXJmb3JtYW5jZSIsImhvb2tzIiwiX3ZpZXdwb3J0IiwiX291dGVyRWxlbWVudCIsIm91dGVyRWxlbWVudCIsIl9kb2N1bWVudEVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfaG9va3MiLCJfY2FudmFzIiwiX2N0eCIsImdldENvbnRleHQiLCJfc291cmNlUmVzb2x2ZXIiLCJfY29uZmlnIiwiX3pvb21MZXZlbCIsIl9jb21wb3NpdGVJbWFnZXMiLCJfcmVuZGVyZWRUaWxlcyIsIl9hbmltYXRpb24iLCJfcGVuZGluZ1JlcXVlc3RzIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJ2aWV3cG9ydFBvc2l0aW9uIiwic291cmNlUmVzb2x2ZXIiLCJfY2xlYXJBbmltYXRpb24iLCJvblZpZXdXaWxsTG9hZCIsIl9zZXRMYXlvdXRUb1pvb21MZXZlbCIsImdvdG8iLCJvblZpZXdEaWRMb2FkIiwiX2dvdG8iLCJzZXRJbm5lckRpbWVuc2lvbnMiLCJfcmVuZGVyIiwib25WaWV3RGlkVXBkYXRlIiwibmV3UmVuZGVyZWRQYWdlcyIsImludGVyc2VjdHNSZWdpb24iLCJjbGVhclJlY3QiLCJfcGFpbnRPdXRsaW5lIiwiem9vbUxldmVscyIsImdldEFsbFpvb21MZXZlbHNGb3JQYWdlIiwiY29tcG9zaXRlIiwidXBkYXRlRnJvbUNhY2hlIiwiX2luaXRpYXRlVGlsZVJlcXVlc3RzIiwiZmluZENoYW5nZXMiLCJfcGFpbnQiLCJvblBhZ2VXaWxsTG9hZCIsImFkZGVkIiwicmVuZGVyZWRUaWxlcyIsImdldFRpbGVzIiwic2NhbGVkIiwiZ2V0U2NhbGVkVGlsZVJlY29yZCIsIl9pc1RpbGVWaXNpYmxlIiwiX2RyYXdUaWxlIiwiYWNxdWlyZSIsInJlbGVhc2UiLCJwYWdlT2Zmc2V0IiwiX2dldEltYWdlT2Zmc2V0Iiwidmlld3BvcnRQYWRkaW5nWCIsInZpZXdwb3J0UGFkZGluZ1kiLCJ2aWV3cG9ydE9mZnNldFgiLCJ2aWV3cG9ydE9mZnNldFkiLCJkZXN0WE9mZnNldCIsImRlc3RZT2Zmc2V0IiwiY2FudmFzWCIsImNhbnZhc1kiLCJkZXN0V2lkdGgiLCJkZXN0SGVpZ2h0Iiwic3Ryb2tlU3R5bGUiLCJzdHJva2VSZWN0IiwibmV3UGVuZGluZ1JlcXVlc3RzIiwiaW5pdGlhdGVSZXF1ZXN0IiwidXBkYXRlV2l0aExvYWRlZFVybHMiLCJfaXNUaWxlRm9yU291cmNlVmlzaWJsZSIsImdldEJlc3Rab29tTGV2ZWxGb3JQYWdlIiwic2NhbGVkVGlsZSIsInRpbGVPZmZzZXQiLCJfZ2V0VGlsZVRvRG9jdW1lbnRPZmZzZXQiLCJzb3VyY2VYT2Zmc2V0Iiwic291cmNlWU9mZnNldCIsImRlc3RJbWdXaWR0aCIsImRlc3RJbWdIZWlnaHQiLCJzb3VyY2VXaWR0aCIsInNvdXJjZUhlaWdodCIsImRyYXdJbWFnZSIsInRpbGVTb3VyY2UiLCJnZXRQb3NpdGlvbiIsIm9uVmlld0RpZFRyYW5zaXRpb24iLCJfc2V0Vmlld3BvcnRQb3NpdGlvbiIsIm9uWm9vbUxldmVsV2lsbENoYW5nZSIsInNjYWxlRmFjdG9yIiwic291cmNlWm9vbUxldmVsIiwibmV3QXJyYXkiLCJvbGRFbnRyeSIsIm5ld0VudHJ5IiwiZ2V0TWF4UGFnZURpbWVuc2lvbnMiLCJnZXRCb29rTGF5b3V0R3JvdXBzIiwidmlld2VyQ29uZmlnIiwicGFnZXNCeUdyb3VwIiwibGVmdFBhZ2UiLCJub25QYWdlZFBhZ2VzIiwiX2FkZE5vblBhZ2VkUGFnZXMiLCJubGVuIiwicGFnZVJlY29yZCIsInBhZ2VkIiwic2hvd05vblBhZ2VkUGFnZXMiLCJmYWNpbmdQYWdlcyIsImdldEdyb3VwaW5ncyIsInJpZ2h0UGFnZSIsImxlZnREaW1zIiwicmlnaHREaW1zIiwiZmlyc3RMZWZ0T2Zmc2V0Iiwic2Vjb25kTGVmdE9mZnNldCIsIm1pZFdpZHRoIiwiZ2V0RmFjaW5nUGFnZUdyb3VwIiwicGFnZURpbXMiLCJsZWZ0T2Zmc2V0Iiwic2hvdWxkQmVIb3Jpem9udGFsbHlBZGp1c3RlZCIsImdldEdyb3VwTGF5b3V0c0Zyb21QYWdlR3JvdXBpbmciLCJnZXRHcmlkTGF5b3V0R3JvdXBzIiwidmlld3BvcnRXaWR0aCIsInBhZ2VzUGVyUm93IiwiZml4ZWRIZWlnaHRHcmlkIiwiZml4ZWRQYWRkaW5nIiwicGFnZVdpZHRoIiwiZ3JpZFBhZ2VXaWR0aCIsInJvd0hlaWdodCIsIm1pblJhdGlvIiwibWF4UmF0aW8iLCJjdXJyZW50UGFnZXMiLCJyb3dEaW1lbnNpb25zIiwicGFnZURpbWVucyIsInBhZ2VEYXRhIiwicGFnZURpbWVuRGF0YSIsImhlaWdodFRvV2lkdGhSYXRpbyIsInBhZ2VIZWlnaHQiLCJnZXRHcmlkUGFnZURpbWVuc2lvbnMiLCJnZXRQYWdlTGF5b3V0cyIsInBsdWNrIiwiaW5Cb29rTGF5b3V0IiwiZ2V0U2luZ2xlc0xheW91dEdyb3VwcyIsImNyZWF0ZVNldHRpbmdzVmlldyIsInJlZ2lzdGVyTWl4aW4iLCJWYWxpZGF0aW9uUnVubmVyIiwid2hpdGVsaXN0ZWRLZXlzIiwidmFsaWRhdGlvbnMiLCJ2YWxpZGF0aW9uSW5kZXgiLCJ2YWxpZGF0aW9uIiwiZHVtbXlDaGFuZ2VzIiwicHJveGllciIsImNyZWF0ZVNldHRpbmdzUHJveGllciIsIl9ydW5WYWxpZGF0aW9uIiwiX3ZhbGlkYXRlT3B0aW9ucyIsImNsb25lZCIsInNldHRpbmdzUHJveGllciIsIl9hcHBseVZhbGlkYXRpb25zIiwiY29ycmVjdGVkIiwid2FybmluZ1N1cHByZXNzZWQiLCJvcmlnaW5hbCIsImVtaXRXYXJuaW5nIiwic3VwcHJlc3NXYXJuaW5nIiwib3V0cHV0VmFsdWUiLCJwcm94eSIsInJ1bm5lciIsImxvb2t1cCIsImxvb2t1cFZhbHVlIiwid2hpdGVsaXN0ZWQiLCJhZGRpdGlvbmFsIiwiY3VycmVudEtleSIsImRlZmluZVByb3BlcnRpZXMiLCJleHRlbnNpb24iLCJWaWV3cG9ydCIsIl90b3AiLCJfbGVmdCIsIl93aWR0aCIsIl9oZWlnaHQiLCJfaW5uZXJEaW1lbnNpb25zIiwiaW52YWxpZGF0ZSIsImhhc0hvcml6b250YWxPdmVybGFwIiwiaGFzVmVydGljYWxPdmVybGFwIiwiZmFsbHNCZXR3ZWVuIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Q29vcmRpbmF0ZURlc2NyaXB0b3IiLCJhc3NvY2lhdGVkRGltZW5zaW9uIiwicHJpdmF0ZVByb3AiLCJjbGFtcE1pbiIsImdldERpbWVuc2lvbkRlc2NyaXB0b3IiLCJkaW1lbiIsImNsYW1wTWF4IiwiZ2VuZXJhdGVJZCIsIm9wdGlvbnNWYWxpZGF0aW9ucyIsIm1pblBhZ2VzUGVyUm93IiwibWF4UGFnZXNQZXJSb3ciLCJtYXhab29tIiwicGFyZW50T2JqZWN0IiwiY3VycmVudFBhZ2VJbmRpY2VzIiwiaG9yaXpvbnRhbFBhZGRpbmciLCJpbml0aWFsS2V5U2Nyb2xsIiwiaW5pdGlhbFNwYWNlU2Nyb2xsIiwiaW5uZXJPYmplY3QiLCJpc0FjdGl2ZURpdmEiLCJpc1Njcm9sbGFibGUiLCJpc1pvb21pbmciLCJtb2JpbGVXZWJraXQiLCJvdXRlck9iamVjdCIsInBhZ2VPdmVybGF5cyIsInBhZ2VUb29scyIsInBlbmRpbmdNYW5pZmVzdFJlcXVlc3QiLCJwbHVnaW5JbnN0YW5jZXMiLCJyZXNpemVUaW1lciIsInNjcm9sbGJhcldpZHRoIiwidGhyb2JiZXJUaW1lb3V0SUQiLCJ0b29sYmFyIiwidmVydGljYWxQYWRkaW5nIiwidmlld3BvcnRPYmplY3QiLCJpZE51bWJlciIsInBhbmVsSGVpZ2h0IiwicGFuZWxXaWR0aCIsIm9wdGlvbnNWYWxpZGF0b3IiLCJ3MSIsIm9mZnNldFdpZHRoIiwidzIiLCJnZXRTY3JvbGxiYXJXaWR0aCIsIm9yaWVudGF0aW9uIiwiaGFzaFBhcmFtU3VmZml4IiwiaW5uZXJFbGVtIiwiZWxlbUF0dHJzIiwidmlld3BvcnRFbGVtIiwib3V0ZXJFbGVtIiwidmlld3BvcnRNYXJnaW4iLCJib3VuZFNjcm9sbEZ1bmN0aW9uIiwic2Nyb2xsRnVuY3Rpb24iLCJib3VuZEVzY2FwZUxpc3RlbmVyIiwiZXNjYXBlTGlzdGVuZXIiLCJpbml0UGx1Z2lucyIsImhhbmRsZUV2ZW50cyIsInNob3dUaHJvYmJlciIsImlzVmFsaWQiLCJpZGVudCIsImF0dHJzIiwia2V5Q29kZSIsImxlYXZlRnVsbHNjcmVlbk1vZGUiLCJuZXdPcHRpb25zIiwicXVldWVkRXZlbnRzIiwiZ2V0VmFsaWRhdGVkT3B0aW9ucyIsImhhc0NoYW5nZWRPcHRpb24iLCJpbkZ1bGxzY3JlZW4iLCJwcmVwYXJlTW9kZUNoYW5nZSIsImNsZWFyVmlld2VyIiwidXBkYXRlVmlld0hhbmRsZXJBbmRSZW5kZXJpbmciLCJyZW5kZXJlckNvbmZpZyIsImdldFBhZGRpbmciLCJzb3VyY2VQcm92aWRlciIsImdldEN1cnJlbnRTb3VyY2VQcm92aWRlciIsInNlcmlhbGl6ZWQiLCJjaGFuZ2VDbGFzcyIsInN0b3JlZEhlaWdodCIsInN0b3JlZFdpZHRoIiwibmV3V2lkdGgiLCJIYW5kbGVyIiwiaW5pdGlhbGl6ZVJlbmRlcmVyIiwiY29tcGF0RXJyb3JzIiwiZ2V0Q29tcGF0aWJpbGl0eUVycm9ycyIsInNob3dFcnJvciIsInVwZGF0ZVBhZ2VPdmVybGF5cyIsImdyaWRTb3VyY2VQcm92aWRlciIsImdldFBhZ2VJbWFnZVVSTCIsInRpbGVEaW1lbnNpb25zIiwidGlsZVdpZHRoIiwidGlsZUhlaWdodCIsImdldFBhZ2VJbWFnZVRpbGVzIiwibGV2ZWxDb3VudCIsInRvcFBhZGRpbmciLCJsZWZ0UGFkZGluZyIsImRvY1ZQYWRkaW5nIiwiZG9jSFBhZGRpbmciLCJ1cGRhdGVPdmVybGF5cyIsImdldFJlbmRlcmVkUGFnZXMiLCJmb2NhbFBvaW50IiwiaXNWYWxpZE9wdGlvbiIsImN1cnJlbnRSZWdpb24iLCJwYWdlUmVnaW9uIiwiZm9jYWxYVG9DZW50ZXIiLCJmb2NhbFlUb0NlbnRlciIsImdldFBvc2l0aW9uRm9yWm9vbUxldmVsIiwiaW5pdFpvb20iLCJ6b29tUmF0aW8iLCJpbml0aWFsWm9vbUxldmVsIiwiZW5kUG9zaXRpb24iLCJ0cmFuc2l0aW9uVmlld3BvcnRQb3NpdGlvbiIsInpvb21JbkJ1dHRvbiIsInpvb21PdXRCdXR0b24iLCJhbmNob3IiLCJwaWR4IiwiZ2V0UGFnZURhdGEiLCJ1cGRhdGVPZmZzZXRzIiwidXBkYXRlUGFuZWxTaXplIiwicmVsb2FkVmlld2VyIiwiYmxvY2tNb2JpbGVNb3ZlIiwicHJldmlvdXNUb3BTY3JvbGwiLCJwcmV2aW91c0xlZnRTY3JvbGwiLCJuZXdTY3JvbGxUb3AiLCJuZXdTY3JvbGxMZWZ0IiwiYWRqdXN0IiwicHJpbWFyeVNjcm9sbCIsImJpbmRNb3VzZUV2ZW50cyIsImVuYWJsZVNwYWNlU2Nyb2xsIiwiZW5hYmxlS2V5U2Nyb2xsIiwiYXJyb3dTY3JvbGxBbW91bnQiLCJvblJlc2l6ZSIsInBsdWdpbnMiLCJpc1BhZ2VUb29sIiwiaGlkZVRocm9iYmVyIiwidGhiIiwidGhyb2JiZXJUaW1lb3V0IiwiZXJyb3JFbGVtZW50IiwibG9hZE9wdGlvbnMiLCJhZGFwdGl2ZVBhZGRpbmciLCJnZXRBdmVyYWdlV2lkdGgiLCJnZXRBdmVyYWdlSGVpZ2h0IiwibmVlZHNYQ29vcmQiLCJuZWVkc1lDb29yZCIsImFuY2hvcmVkVmVydGljYWxseSIsImFuY2hvcmVkSG9yaXpvbnRhbGx5IiwiZ2V0WE9mZnNldCIsImdldFlPZmZzZXQiLCJlbmFibGVBdXRvVGl0bGUiLCJtaW5XaWR0aCIsImFkZE92ZXJsYXkiLCJyZW1vdmVPdmVybGF5IiwiZG9jT2Zmc2V0IiwiZG9jQ29vcmRzIiwicGFnZUNvdW50IiwiYWN0aXZlUGFnZSIsImFycmF5c0VxdWFsIiwib3RoZXJJbWFnZXMiLCJlbmFibGVEcmFnU2Nyb2xsYWJsZSIsImRibGNsaWNrIiwiY29udGV4dG1lbnUiLCJyZW1vdmVDbGFzcyIsInJlbW92ZURhdGEiLCJyZW1vdmVBdHRyIiwidW5zdWJzY3JpYmVBbGwiLCJwYXJzZUxhYmVsVmFsdWUiLCJnZXRNYXhab29tTGV2ZWwiLCJsYXJnZXN0RGltZW5zaW9uIiwiaW5jb3Jwb3JhdGVab29tIiwiaW1hZ2VEaW1lbnNpb24iLCJ6b29tRGlmZmVyZW5jZSIsImdldE90aGVySW1hZ2VEYXRhIiwibG93ZXN0TWF4Wm9vbSIsIml0bSIsInBhcnNlSW1hZ2VJbmZvIiwiaWwiLCJwYXJzZUlJSUZNYW5pZmVzdCIsImdldElJSUZQcmVzZW50YXRpb25WZXJzaW9uIiwibnVtQ2FudmFzZXMiLCJ0aGlzQ2FudmFzIiwidGhpc1Jlc291cmNlIiwidGhpc0ltYWdlIiwic2Vjb25kYXJ5SW1hZ2VzIiwiaW1hZ2VBUElWZXJzaW9uIiwiaW1hZ2VMYWJlbCIsInpvb21EaW1lbnNpb25zIiwid2lkdGhBdEN1cnJlbnRab29tTGV2ZWwiLCJoZWlnaHRBdEN1cnJlbnRab29tTGV2ZWwiLCJteiIsInJhdGlvIiwidG90YWxXaWR0aHMiLCJ0b3RhbEhlaWdodHMiLCJtYXhXaWR0aHMiLCJtYXhIZWlnaHRzIiwiaW1hZ2VzIiwicmVzb3VyY2UiLCJzZXJ2aWNlIiwiaXNQYWdlZCIsInZpZXdpbmdIaW50IiwiaXNGYWNpbmciLCJ4b2Zmc2V0IiwieW9mZnNldCIsImF2ZXJhZ2VXaWR0aHMiLCJhdmVyYWdlSGVpZ2h0cyIsImFfd2lkIiwiYV9oZWkiLCJtYXhfdyIsIm1heF9oIiwibWF4X3JhdGlvIiwibWluX3JhdGlvIiwidF9oZWkiLCJ0X3dpZCIsIml0ZW1fdGl0bGUiLCJtYXhfem9vbSIsInBncyIsImJlaGF2aW91ciIsImZyYWdtZW50UmVnZXgiLCJ4eXdoIiwic3RyaXBVUkwiLCJ1cmxBcnJheSIsImltYWdlSW5mbyIsIklJSUZTb3VyY2VBZGFwdGVyIiwiZGltZW5zIiwicXVhbGl0eSIsInJvd0NvdW50IiwiY29sQ291bnQiLCJ1cmxBZGFwdGVyIiwiX21heFdpZHRocyIsIl9tYXhIZWlnaHRzIiwiX2F2ZXJhZ2VXaWR0aHMiLCJfYXZlcmFnZUhlaWdodHMiLCJfdG90YWxIZWlnaHRzIiwiX3RvdGFsV2lkdGhzIiwiX3VybEFkYXB0ZXIiLCJpaWlmTWFuaWZlc3QiLCJtYXhEaW1zIiwidGFyZ2V0Wm9vbUxldmVsIiwiZ2V0VGlsZUltYWdlVVJMIiwiem9vbWVkUHJvcGVydHlHZXR0ZXIiLCJwcml2YXRlTmFtZSIsImdldE1heFdpZHRoIiwiZ2V0TWF4SGVpZ2h0IiwiZ2V0VG90YWxXaWR0aCIsImdldFRvdGFsSGVpZ2h0Iiwidmlld2VyIiwiaWNvbiIsImlubmVyTmFtZSIsImlubmVyVmFsdWUiLCJ6b29tT3V0SWNvbiIsIl9jcmVhdGVab29tT3V0SWNvbiIsInpvb21Jbkljb24iLCJfY3JlYXRlWm9vbUluSWNvbiIsInpvb21CdXR0b25zIiwiY3JlYXRlQnV0dG9uIiwic2V0Wm9vbUxldmVsIiwiY3JlYXRlTGFiZWwiLCJfc3Vic2NyaWJlIiwiZ3JpZE1vcmVJY29uIiwiX2NyZWF0ZUdyaWRNb3JlSWNvbiIsImdyaWRGZXdlckljb24iLCJfY3JlYXRlR3JpZEZld2VySWNvbiIsImdyaWRCdXR0b25zIiwic2V0R3JpZFBhZ2VzUGVyUm93IiwidXBkYXRlQ3VycmVudFBhZ2UiLCJpbmRpY2VzIiwiZ2V0Q3VycmVudFBhZ2VJbmRpY2VzIiwic3RhcnRJbmRleCIsImVuZEluZGV4Iiwic3RhcnRMYWJlbCIsImVuZExhYmVsIiwiZW5hYmxlSW5kZXhBc0xhYmVsIiwiZ290b1BhZ2VJbnB1dCIsImF1dG9jb21wbGV0ZSIsImdvdG9QYWdlU3VibWl0IiwiaW5wdXRTdWdnZXN0aW9ucyIsImdvdG9Gb3JtIiwiZGVzaXJlZFBhZ2VMYWJlbCIsIm9uR290b1N1Ym1pdCIsImdvdG9QYWdlQnlJbmRleCIsImFsZXJ0IiwiZ290b1BhZ2VCeUxhYmVsIiwibnVtU3VnZ2VzdGlvbnMiLCJlbmFibGVHb3RvU3VnZ2VzdGlvbnMiLCJuZXdJbnB1dFN1Z2dlc3Rpb24iLCJhY3RpdmUiLCJwcmV2RWwiLCJuZXh0RWwiLCJzdWJtaXRFdmVudCIsIkV2ZW50IiwiY2FuY2VsYWJsZSIsInZpZXdPcHRpb25zTGlzdCIsIl9lbGVtQXR0cnMiLCJncmlkVmlld0ljb24iLCJfY3JlYXRlR3JpZFZpZXdJY29uIiwiYm9va1ZpZXdJY29uIiwiX2NyZWF0ZUJvb2tWaWV3SWNvbiIsInBhZ2VWaWV3SWNvbiIsIl9jcmVhdGVQYWdlVmlld0ljb24iLCJjaGFuZ2VWaWV3QnV0dG9uIiwic2VsZWN0VmlldyIsImNoYW5nZVZpZXciLCJ1cGRhdGVWaWV3TWVudSIsInZpZXdPcHRpb25zIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImZ1bGxzY3JlZW5JY29uIiwiX2NyZWF0ZUZ1bGxzY3JlZW5JY29uIiwidG9nZ2xlRnVsbHNjcmVlbk1vZGUiLCJ0b2dnbGVab29tR3JpZENvbnRyb2xzIiwibGVmdFRvb2xzIiwiY3JlYXRlWm9vbUJ1dHRvbnMiLCJjcmVhdGVHcmlkQ29udHJvbHMiLCJyaWdodFRvb2xzIiwiY3JlYXRlUGFnZUxhYmVsIiwiY3JlYXRlVmlld01lbnUiLCJlbmFibGVGdWxsc2NyZWVuIiwiY3JlYXRlRnVsbHNjcmVlbkJ1dHRvbiIsImVuYWJsZUdvdG9QYWdlIiwiY3JlYXRlR290b1BhZ2VGb3JtIiwidG9vbGJhclNpZGUiLCJ0b29sYmFySWNvbiIsImNyZWF0ZUljb24iLCJoYW5kbGVQbHVnaW5DbGljayIsInRvb2xzIiwidG9vbGJhclBhcmVudE9iamVjdCIsInBFbCIsIl9jcmVhdGVUb29sYmFySWNvbiIsImdldEhhc2hQYXJhbSIsIm9yaWdpbmFsVmFsdWUiLCJzdGFydFRoaW5nIiwiSFRNTEVsZW1lbnQiLCJlbmFibGVGaWxlbmFtZSIsImVuYWJsZUdyaWRJY29uIiwiZW5hYmxlR3JpZENvbnRyb2xzIiwiZW5hYmxlSW1hZ2VUaXRsZXMiLCJlbmFibGVMaW5rSWNvbiIsImVuYWJsZU5vblBhZ2VkVmlzaWJpbGl0eUljb24iLCJlbmFibGVUb29sYmFyIiwiZW5hYmxlWm9vbUNvbnRyb2xzIiwiZmlsbFBhcmVudEhlaWdodCIsInBhZ2VBbGlhc2VzIiwicGFnZUFsaWFzRnVuY3Rpb24iLCJwYWdlTG9hZFRpbWVvdXQiLCJyZXF1ZXN0SGVhZGVycyIsIndyYXBwZXJFbGVtZW50IiwiZGl2YVN0YXRlIiwicmVuZGVyIiwidW5zdWJzY3JpYmUiLCJoYXNoU3RhdGUiLCJfZ2V0SGFzaFBhcmFtU3RhdGUiLCJfbG9hZE9yRmV0Y2hPYmplY3REYXRhIiwiX2xvYWRPYmplY3REYXRhIiwiX2FqYXhFcnJvciIsInNldFBlbmRpbmdNYW5pZmVzdFJlcXVlc3QiLCJqc29uSG9zdCIsIl9zaG93RXJyb3IiLCJyZXNwb25zZURhdGEiLCJmcm9tSUlJRiIsIl9nZXRMb2FkT3B0aW9uc0ZvclN0YXRlIiwic2V0TWFuaWZlc3QiLCJfZ2V0Vmlld1N0YXRlIiwiX2dldFBhZ2VJbmRleEZvck1hbmlmZXN0IiwibnAiLCJoYXNoUGFyYW1zIiwiX2dldFN0YXRlIiwiaGFzaFN0cmluZ0J1aWxkZXIiLCJfcmVsb2FkVmlld2VyIiwiaG92ZXIiLCJ0b2dnbGVPcGFjaXR5IiwiZGVzdGluYXRpb25WaWV3IiwieEFuY2hvciIsInlBbmNob3IiLCJfaXNQYWdlSW5kZXhWYWxpZCIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwiaXNQYWdlVmFsaWQiLCJvdXRlck9mZnNldCIsIm91dGVyVG9wIiwib3V0ZXJMZWZ0Iiwib3V0ZXJCb3R0b20iLCJvdXRlclJpZ2h0IiwiY3VyUGFnZUlkeCIsImN1clBhZ2UiLCJjdXJPZmZzZXQiLCJfZ2V0VVJMSGFzaCIsIl9jaGFuZ2VWaWV3IiwiZGlzYWJsZVNjcm9sbGFibGUiLCJlbmFibGVTY3JvbGxhYmxlIiwiX3RvZ2dsZUZ1bGxzY3JlZW4iLCJwZyIsIl9nZXRDdXJyZW50VVJMIiwicGFnZUlkeCIsIl9jaGVja0xvYWRlZCIsInBnQXRab29tIiwiX2dldFBhZ2VJbmRleEZvclBhZ2VYWVZhbHVlcyIsIl9nb3RvUGFnZUJ5SW5kZXgiLCJsbGMiLCJfZ2V0UGFnZUluZGV4IiwidG9wT2Zmc2V0IiwiX3RvZ2dsZVBhZ2VMYXlvdXRPcmllbnRhdGlvbiIsIkRpdmEiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9B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QUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUN0QixJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDMUUsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQzFFLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFDbkMsSUFBUSxLQUFNLElBQVEsS0FDdEIsSUFBUSxLQUFNLElBQVEsS0FDdEIsSUFBUSxLQUVSLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFDMUIsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFV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QmgzSSxLQUFLdUksU0FBU292SCxhQUFlMzNILEtBQUt1SSxTQUFTK3VILFVBQ2xFLE9BQU9yeUgsRUFBVzZKLEtBQUsweUcsSUFBSSxFQUFHdzFCLEdBZWxDLHdCQUF5Qi94SSxHQUVyQixNQUFNK3hJLEVBQWlCaDNJLEtBQUt1SSxTQUFTb3ZILGFBQWUzM0gsS0FBS3VJLFNBQVMrdUgsVUFJbEUsT0FBdUIsSUFBbkIwZixFQUNPL3hJLEVBRUpBLEVBQVc2SixLQUFLMHlHLElBQUksRUFBR3cxQixHQVNsQyxTQUVJLE9BQU9oM0ksS0FBS284SSxhQUFhcDhJLEtBQUt1SSxTQUFTK3VILFVBQVksR0FPdkQsVUFFSSxPQUFPdDNILEtBQUtvOEksYUFBYXA4SSxLQUFLdUksU0FBUyt1SCxVQUFZLElBSTNELEdBQUt2VCxPQUFTLEVBQUtBLE9BRUosSUFNQXA1RCxHQU5BLGFBS08sb0JBQVg1aEQsVUFDSTRoRCxHQUdSNWhELFFBRFFzOEksS0FBTzE2RixHQUFPMDZGLE1BQVEiLCJmaWxlIjoiZWRpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDU4KTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSID0gdHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnID8gUmVmbGVjdCA6IG51bGxcbnZhciBSZWZsZWN0QXBwbHkgPSBSICYmIHR5cGVvZiBSLmFwcGx5ID09PSAnZnVuY3Rpb24nXG4gID8gUi5hcHBseVxuICA6IGZ1bmN0aW9uIFJlZmxlY3RBcHBseSh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpO1xuICB9XG5cbnZhciBSZWZsZWN0T3duS2V5c1xuaWYgKFIgJiYgdHlwZW9mIFIub3duS2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWZsZWN0T3duS2V5cyA9IFIub3duS2V5c1xufSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldClcbiAgICAgIC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpKTtcbiAgfTtcbn0gZWxzZSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFByb2Nlc3NFbWl0V2FybmluZyh3YXJuaW5nKSB7XG4gIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2FybikgY29uc29sZS53YXJuKHdhcm5pbmcpO1xufVxuXG52YXIgTnVtYmVySXNOYU4gPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gTnVtYmVySXNOYU4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICBFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5tb2R1bGUuZXhwb3J0cy5vbmNlID0gb25jZTtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDA7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbmZ1bmN0aW9uIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgbGlzdGVuZXIpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyB8fCBhcmcgPCAwIHx8IE51bWJlcklzTmFOKGFyZykpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIGFyZyArICcuJyk7XG4gICAgfVxuICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gIH1cbn0pO1xuXG5FdmVudEVtaXR0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0aGlzLl9ldmVudHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGhpcy5fZXZlbnRzID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykge1xuICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn07XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgTnVtYmVySXNOYU4obikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBuICsgJy4nKTtcbiAgfVxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIF9nZXRNYXhMaXN0ZW5lcnModGhhdCkge1xuICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIF9nZXRNYXhMaXN0ZW5lcnModGhpcyk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMClcbiAgICAgIGVyID0gYXJnc1swXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gTm90ZTogVGhlIGNvbW1lbnRzIG9uIHRoZSBgdGhyb3dgIGxpbmVzIGFyZSBpbnRlbnRpb25hbCwgdGhleSBzaG93XG4gICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfVxuICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmhhbmRsZWQgZXJyb3IuJyArIChlciA/ICcgKCcgKyBlci5tZXNzYWdlICsgJyknIDogJycpKTtcbiAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgfVxuXG4gIHZhciBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFJlZmxlY3RBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0YXJnZXQuX2V2ZW50c0NvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoZXhpc3RpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgKyt0YXJnZXQuX2V2ZW50c0NvdW50O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPVxuICAgICAgICBwcmVwZW5kID8gW2xpc3RlbmVyLCBleGlzdGluZ10gOiBbZXhpc3RpbmcsIGxpc3RlbmVyXTtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB9IGVsc2UgaWYgKHByZXBlbmQpIHtcbiAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICAgIG0gPSBfZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgaWYgKG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0gJiYgIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgIC8vIE5vIGVycm9yIGNvZGUgZm9yIHRoaXMgc2luY2UgaXQgaXMgYSBXYXJuaW5nXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnICcgKyBTdHJpbmcodHlwZSkgKyAnIGxpc3RlbmVycyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0Jyk7XG4gICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgIHcuZW1pdHRlciA9IHRhcmdldDtcbiAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgUHJvY2Vzc0VtaXRXYXJuaW5nKHcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gIGlmICghdGhpcy5maXJlZCkge1xuICAgIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSwgdGhpcy53cmFwRm4pO1xuICAgIHRoaXMuZmlyZWQgPSB0cnVlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsIGFyZ3VtZW50cyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX29uY2VXcmFwKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIHN0YXRlID0geyBmaXJlZDogZmFsc2UsIHdyYXBGbjogdW5kZWZpbmVkLCB0YXJnZXQ6IHRhcmdldCwgdHlwZTogdHlwZSwgbGlzdGVuZXI6IGxpc3RlbmVyIH07XG4gIHZhciB3cmFwcGVkID0gb25jZVdyYXBwZXIuYmluZChzdGF0ZSk7XG4gIHdyYXBwZWQubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgc3RhdGUud3JhcEZuID0gd3JhcHBlZDtcbiAgcmV0dXJuIHdyYXBwZWQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIHRoaXMub24odHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kT25jZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgIGV2ZW50c1t0eXBlXSA9IGxpc3RbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cywgaTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzW3R5cGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcbiAgaWYgKGV2bGlzdGVuZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKVxuICAgIHJldHVybiB1bndyYXAgPyBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXSA6IFtldmxpc3RlbmVyXTtcblxuICByZXR1cm4gdW53cmFwID9cbiAgICB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcikgOiBhcnJheUNsb25lKGV2bGlzdGVuZXIsIGV2bGlzdGVuZXIubGVuZ3RoKTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCB0cnVlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24gcmF3TGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgbikge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKDsgaW5kZXggKyAxIDwgbGlzdC5sZW5ndGg7IGluZGV4KyspXG4gICAgbGlzdFtpbmRleF0gPSBsaXN0W2luZGV4ICsgMV07XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHtcbiAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG9uY2UoZW1pdHRlciwgbmFtZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGVycm9yTGlzdGVuZXIoZXJyKSB7XG4gICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5hbWUsIHJlc29sdmVyKTtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc29sdmVyKCkge1xuICAgICAgaWYgKHR5cGVvZiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICByZXNvbHZlKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgfTtcblxuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCByZXNvbHZlciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIGlmIChuYW1lICE9PSAnZXJyb3InKSB7XG4gICAgICBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBlcnJvckxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgaGFuZGxlciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsICdlcnJvcicsIGhhbmRsZXIsIGZsYWdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgbGlzdGVuZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICBlbWl0dGVyLm9uY2UobmFtZSwgbGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbWl0dGVyLm9uKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIEV2ZW50VGFyZ2V0IGRvZXMgbm90IGhhdmUgYGVycm9yYCBldmVudCBzZW1hbnRpY3MgbGlrZSBOb2RlXG4gICAgLy8gRXZlbnRFbWl0dGVycywgd2UgZG8gbm90IGxpc3RlbiBmb3IgYGVycm9yYCBldmVudHMgaGVyZS5cbiAgICBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZnVuY3Rpb24gd3JhcExpc3RlbmVyKGFyZykge1xuICAgICAgLy8gSUUgZG9lcyBub3QgaGF2ZSBidWlsdGluIGB7IG9uY2U6IHRydWUgfWAgc3VwcG9ydCBzbyB3ZVxuICAgICAgLy8gaGF2ZSB0byBkbyBpdCBtYW51YWxseS5cbiAgICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCB3cmFwTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgbGlzdGVuZXIoYXJnKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGVtaXR0ZXIpO1xuICB9XG59XG4iLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG52YXIgdHlwZXMgPSBbXG4gIHJlcXVpcmUoJy4vbmV4dFRpY2snKSxcbiAgcmVxdWlyZSgnLi9xdWV1ZU1pY3JvdGFzaycpLFxuICByZXF1aXJlKCcuL211dGF0aW9uLmpzJyksXG4gIHJlcXVpcmUoJy4vbWVzc2FnZUNoYW5uZWwnKSxcbiAgcmVxdWlyZSgnLi9zdGF0ZUNoYW5nZScpLFxuICByZXF1aXJlKCcuL3RpbWVvdXQnKVxuXTtcbnZhciBkcmFpbmluZztcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xudmFyIHF1ZXVlID0gW107XG52YXIgc2NoZWR1bGVkID0gZmFsc2U7XG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBkcmFpbmluZyA9IGZhbHNlO1xuICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcXVldWVJbmRleCA9IC0xO1xuICB9XG4gIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICBuZXh0VGljaygpO1xuICB9XG59XG5cbi8vbmFtZWQgbmV4dFRpY2sgZm9yIGxlc3MgY29uZnVzaW5nIHN0YWNrIHRyYWNlc1xuZnVuY3Rpb24gbmV4dFRpY2soKSB7XG4gIGlmIChkcmFpbmluZykge1xuICAgIHJldHVybjtcbiAgfVxuICBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgZHJhaW5pbmcgPSB0cnVlO1xuICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgd2hpbGUgKGxlbikge1xuICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgIHF1ZXVlID0gW107XG4gICAgd2hpbGUgKGN1cnJlbnRRdWV1ZSAmJiArK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICB9XG4gICAgcXVldWVJbmRleCA9IC0xO1xuICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgfVxuICBjdXJyZW50UXVldWUgPSBudWxsO1xuICBxdWV1ZUluZGV4ID0gLTE7XG4gIGRyYWluaW5nID0gZmFsc2U7XG4gIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cbnZhciBzY2hlZHVsZURyYWluO1xudmFyIGkgPSAtMTtcbnZhciBsZW4gPSB0eXBlcy5sZW5ndGg7XG53aGlsZSAoKytpIDwgbGVuKSB7XG4gIGlmICh0eXBlc1tpXSAmJiB0eXBlc1tpXS50ZXN0ICYmIHR5cGVzW2ldLnRlc3QoKSkge1xuICAgIHNjaGVkdWxlRHJhaW4gPSB0eXBlc1tpXS5pbnN0YWxsKG5leHRUaWNrKTtcbiAgICBicmVhaztcbiAgfVxufVxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gIHRoaXMuZnVuID0gZnVuO1xuICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBmdW4gPSB0aGlzLmZ1bjtcbiAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTtcbiAgc3dpdGNoIChhcnJheS5sZW5ndGgpIHtcbiAgY2FzZSAwOlxuICAgIHJldHVybiBmdW4oKTtcbiAgY2FzZSAxOlxuICAgIHJldHVybiBmdW4oYXJyYXlbMF0pO1xuICBjYXNlIDI6XG4gICAgcmV0dXJuIGZ1bihhcnJheVswXSwgYXJyYXlbMV0pO1xuICBjYXNlIDM6XG4gICAgcmV0dXJuIGZ1bihhcnJheVswXSwgYXJyYXlbMV0sIGFycmF5WzJdKTtcbiAgZGVmYXVsdDpcbiAgICByZXR1cm4gZnVuLmFwcGx5KG51bGwsIGFycmF5KTtcbiAgfVxuXG59O1xubW9kdWxlLmV4cG9ydHMgPSBpbW1lZGlhdGU7XG5mdW5jdGlvbiBpbW1lZGlhdGUodGFzaykge1xuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gIH1cbiAgcXVldWUucHVzaChuZXcgSXRlbSh0YXNrLCBhcmdzKSk7XG4gIGlmICghc2NoZWR1bGVkICYmICFkcmFpbmluZykge1xuICAgIHNjaGVkdWxlZCA9IHRydWU7XG4gICAgc2NoZWR1bGVEcmFpbigpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUsIFNlbGVjdGlvblR5cGUsIFVzZXJUeXBlLCBJbnNlcnRUeXBlLCBJbnNlcnRUYWJUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIFRoZSBvbmUgaW5zdGFuY2Ugb2YgTG9jYWxTZXR0aW5ncyB0aGF0IHdpbGwgYmUgY3JlYXRlZCBhbmRcbiAqIHVzZWQgYnkgdGhlIGVkaXRvci5cbiAqIFxuICogVXNlIHRoZSBmdW5jdGlvbnMgYGdldFNldHRpbmdzKClgIGFuZCBgc2V0U2V0dGluZ3MoKWBcbiAqIHRvIGFjY2VzcyB0aGlzIGluc3RhbmNlLlxuICovXG5sZXQgbG9jYWxTZXR0aW5nczogTG9jYWxTZXR0aW5ncyA9IG51bGw7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgc2V0dGluZ3MgZm9yIGVhY2ggZm9saW9cbiAqIHN0b3JlZCBpbiBsb2NhbFN0b3JhZ2UuXG4gKlxuICogRXZlcnkga2V5IGlzIG9wdGlvbmFsIHNvIHRoYXQgdGhpcyBzYW1lIHR5cGluZ1xuICogY2FuIGJlIHVzZWQgZm9yIGBzZXRTZXR0aW5ncygpYCAvIGBMb2NhbFNldHRpbmdzLnNldCgpYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5ncyB7XG4gIHpvb206IG51bWJlcjtcbiAgZ2x5cGhPcGFjaXR5OiBudW1iZXI7XG4gIGltYWdlT3BhY2l0eTogbnVtYmVyO1xuICBjaXJjbGVTaXplOiBudW1iZXI7XG4gIGhpZ2hsaWdodE1vZGU6IEdyb3VwaW5nVHlwZTtcbiAgdXNlck1vZGU6IFVzZXJUeXBlO1xuICBpbnNlcnRNb2RlOiBJbnNlcnRUeXBlO1xuICBpbnNlcnRUYWI6IEluc2VydFRhYlR5cGU7XG4gIHNlbGVjdGlvbk1vZGU6IFNlbGVjdGlvblR5cGU7XG4gIGRlYnVnTW9kZTogYm9vbGVhbjtcbiAgZGlzcGxheUJCb3g6IGJvb2xlYW47XG4gIGRpc3BsYXlUZXh0OiBib29sZWFuO1xuICBkaXNwbGF5SW5mbzogYm9vbGVhbjtcbiAgZGlzcGxheUVyckxvZzogYm9vbGVhbjtcbiAgdmlld0JveDogc3RyaW5nO1xufVxuXG4vKipcbiAqIERlZmF1bHQgc2V0dGluZ3MsIHdoaWNoIHNob3VsZCBiZSBzZXQgZm9yIGEgZm9saW8gd2l0aCBub1xuICogbG9jYWxTdG9yYWdlIHZhbHVlLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIHVwZGF0ZWQgYWxvbmdzaWRlIHRoZSBpbnRlcmZhY2UgYFNldHRpbmdzYFxuICogYW55IHRpbWUgd2Ugd2FudCB0byBhZGQgYSBuZXcgc2V0dGluZyB0byBzdG9yZSBpbiBsb2NhbFN0b3JhZ2UuXG4gKi9cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFNldHRpbmdzID0ge1xuICB6b29tOiAxMDAsXG4gIGdseXBoT3BhY2l0eTogMTAwLFxuICBpbWFnZU9wYWNpdHk6IDEwMCxcbiAgY2lyY2xlU2l6ZTogMjUsXG4gIGhpZ2hsaWdodE1vZGU6ICdub25lJyxcbiAgdXNlck1vZGU6ICdlZGl0JyxcbiAgaW5zZXJ0TW9kZTogJ3B1bmN0dW0nLFxuICBpbnNlcnRUYWI6ICdwcmltaXRpdmVUYWInLFxuICBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlTeWxsYWJsZScsXG4gIGRlYnVnTW9kZTogZmFsc2UsXG4gIGRpc3BsYXlCQm94OiBmYWxzZSxcbiAgZGlzcGxheVRleHQ6IGZhbHNlLFxuICBkaXNwbGF5SW5mbzogZmFsc2UsXG4gIGRpc3BsYXlFcnJMb2c6IGZhbHNlLFxuICB2aWV3Qm94OiBudWxsXG59O1xuXG5jbGFzcyBMb2NhbFNldHRpbmdzIHtcbiAgaWQ6IHN0cmluZztcbiAgc2V0dGluZ3M6IFNldHRpbmdzO1xuXG4gIGNvbnN0cnVjdG9yIChmb2xpb0lkOiBzdHJpbmcpIHtcbiAgICBsb2NhbFNldHRpbmdzID0gdGhpcztcbiAgICB0aGlzLmlkID0gZm9saW9JZDtcbiAgICB0aGlzLmxvYWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHNldHRpbmdzIGZyb20gbG9jYWxTdG9yYWdlLCBhbmQgc3luYyBsb2FkZWQgc2V0dGluZ3Mgd2l0aFxuICAgKiBuZXcgZmllbGRzIHRoYXQgbWF5IG5vdCBiZSBpbiBsb2NhbFN0b3JhZ2UuXG4gICAqL1xuICBsb2FkICgpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkOiBQYXJ0aWFsPFNldHRpbmdzPiA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuaWQpKTtcbiAgICAgIHRoaXMuc3luYyhzdG9yZWQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBJZiBsb2NhbFN0b3JhZ2UgdmFsdWUgaXMgbm90IGEgSlNPTiBvYmplY3QgKGZvciBpbnN0YW5jZSwgYW4gZW1wdHkgc3RyaW5nKSxcbiAgICAgIC8vIGEgU3ludGF4RXJyb3Igd2lsbCBiZSB0aHJvd24uIFdlIG11c3QgaGFuZGxlIGl0IGJ5IGNhbGxpbmcgc3luYygpXG4gICAgICAvLyB3aXRoIGFuIGVtcHR5IEpTT04gb2JqZWN0LlxuICAgICAgdGhpcy5zeW5jKHt9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IG5ldyBmaWVsZHMgaW4gbG9jYWxTdG9yYWdlLCBhcyBhIFwidW5pb25cIiBvZiBvbGQgYW5kIG5ldyBzZXR0aW5ncy5cbiAgICovXG4gIHNldCAocGFyYW1zOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICAgIHRoaXMuc2V0dGluZ3MgPSB7IC4uLnRoaXMuc2V0dGluZ3MsIC4uLnBhcmFtcyB9O1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNldHRpbmdzKSk7XG4gIH1cblxuICAvKipcbiAgICogU3luYyBzZXR0aW5ncyB0aGF0IG1heSBub3QgYmUgaW5jbHVkZWQgaW4gdXNlcidzIGxvY2FsU3RvcmFnZSxcbiAgICogc3VjaCBhcyBmaWVsZHMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG8gbG9jYWxTdG9yYWdlIGluIGEgbmV3XG4gICAqIHVwZGF0ZSBvZiBOZW9uLlxuICAgKi9cbiAgc3luYyAoc3RvcmVkOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICAgIHRoaXMuc2V0dGluZ3MgPSB7IC4uLkRFRkFVTFRfU0VUVElOR1MsIC4uLnN0b3JlZCB9O1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNldHRpbmdzKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgbG9jYWxTdG9yYWdlIHNldHRpbmdzIGZvciB0aGUgZm9saW8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXR0aW5ncyAoKTogU2V0dGluZ3Mge1xuICByZXR1cm4gbG9jYWxTZXR0aW5ncy5zZXR0aW5ncztcbn1cblxuLyoqXG4gKiBTZXQgc3BlY2lmaWMgbG9jYWxTdG9yYWdlIHNldHRpbmdzIGZvciB0aGUgZm9saW8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZXR0aW5ncyAocGFyYW1zOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICBsb2NhbFNldHRpbmdzLnNldChwYXJhbXMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBMb2NhbFNldHRpbmdzO1xuIiwiaW1wb3J0ICogYXMgQ29sb3IgZnJvbSAnLi9Db2xvcic7XG5pbXBvcnQge1xuICB1cGRhdGVIaWdobGlnaHQsXG4gIGdldEhpZ2hsaWdodFR5cGUsXG59IGZyb20gJy4uL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuaW1wb3J0ICogYXMgR3JvdXBpbmcgZnJvbSAnLi4vU3F1YXJlRWRpdC9Hcm91cGluZyc7XG5pbXBvcnQgeyByZXNpemUgfSBmcm9tICcuL1Jlc2l6ZSc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVzLCBTZWxlY3Rpb25UeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuL0RyYWdIYW5kbGVyJztcbmltcG9ydCAqIGFzIFNlbGVjdE9wdGlvbnMgZnJvbSAnLi4vU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgc2VsZWN0aW9uIG1vZGUgY2hvc2VuIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uVHlwZSgpOiBTZWxlY3Rpb25UeXBlIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbC1ieSBpcy1hY3RpdmUnKTtcbiAgaWYgKGVsZW1lbnQubGVuZ3RoICE9PSAwKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRbMF0uaWQgYXMgU2VsZWN0aW9uVHlwZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFVuc2VsZWN0IGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhbmQgcnVuIHVuZG8gYW55IGV4dHJhXG4gKiBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZWxlY3QoKTogdm9pZCB7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uby1tb3ZpbmcnKVxuICAgIC5mb3JFYWNoKChzZWxlY3RlZDogU1ZHR0VsZW1lbnQpID0+IHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ25vLW1vdmluZycpKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykuZm9yRWFjaCgoc2VsZWN0ZWQ6IFNWR0dFbGVtZW50KSA9PiB7XG4gICAgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBpZiAoc2VsZWN0ZWQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBzZWxlY3RlZC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICBDb2xvci51bmhpZ2hsaWdodChzZWxlY3RlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIHNlbGVjdGVkLnN0eWxlLmZpbGwgPSAnJztcbiAgICB9XG5cbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goXG4gICAgICAoZGl2TGluZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZGl2TGluZS5zdHlsZS5zdHJva2UgPSAnJztcbiAgICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpKS5mb3JFYWNoKFxuICAgICAgKG5ldW1lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBuZXVtZS5zdHlsZS5maWxsID0gJyc7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykpLmZvckVhY2goXG4gICAgICAoc3lsUmVjdDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgc3lsUmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgfSxcbiAgICApO1xuXG4gICAgaWYgKHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpKSB7XG4gICAgICBzZWxlY3RlZC5wYXJlbnRFbGVtZW50LnN0eWxlLmZpbGwgPSAnJztcbiAgICAgIHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc3lsbGFibGUnKTtcbiAgICAgIHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKTtcblxuICAgICAgQXJyYXkuZnJvbShzZWxlY3RlZC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goXG4gICAgICAgIChkaXZMaW5lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgIGRpdkxpbmUuc3R5bGUuc3Ryb2tlID0gJyc7XG4gICAgICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgICAgIH0sXG4gICAgICApO1xuXG4gICAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykpLmZvckVhY2goXG4gICAgICAgIChuZXVtZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICBuZXVtZS5zdHlsZS5maWxsID0gJyc7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cblxuICAgIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnLnJvdGF0ZVBvaW50JykucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRleHQtc2VsZWN0JykpLmZvckVhY2goXG4gICAgKGVsOiBTVkdFbGVtZW50KSA9PiB7XG4gICAgICBlbC5zdHlsZS5jb2xvciA9ICcnO1xuICAgICAgZWwuc3R5bGUuZm9udFdlaWdodCA9ICcnO1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zZWxlY3QnKTtcbiAgICB9LFxuICApO1xuXG4gIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgR3JvdXBpbmcuZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBTZWxlY3RPcHRpb25zLmVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgfVxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB1cGRhdGVIaWdobGlnaHQoKTtcbn1cblxuLyoqXG4gKiBTZWxlY3QgYSBzdGFmZiBlbGVtZW50LlxuICogQHBhcmFtIHN0YWZmIC0gVGhlIHN0YWZmIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIFRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0U3RhZmYoXG4gIHN0YWZmOiBTVkdHRWxlbWVudCxcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLFxuKTogdm9pZCB7XG4gIGlmICghc3RhZmYuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgc3RhZmYuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBDb2xvci51bmhpZ2hsaWdodChzdGFmZik7XG4gICAgQ29sb3IuaGlnaGxpZ2h0KHN0YWZmLCAnI2QwMCcpO1xuICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclNpbmdsZVN0YWZmQWN0aW9ucygpO1xuICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZWxlY3QgYSBsYXllciBlbGVtZW50LlxuICogQHBhcmFtIGxheWVyRWxlbWVudCAtIFRoZSBsYXllciBlbGVtZW50IGluIHRoZSBET00uXG4gKiBAcGFyYW0gZHJhZ0hhbmRsZXIgLSBUaGUgZHJhZyBoYW5kbGVyIGluIHVzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdExheWVyRWxlbWVudChcbiAgbGF5ZXJFbGVtZW50OiBTVkdHRWxlbWVudCxcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLFxuKTogdm9pZCB7XG4gIGlmICghbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIGxheWVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIENvbG9yLnVuaGlnaGxpZ2h0KGxheWVyRWxlbWVudCk7XG4gICAgQ29sb3IuaGlnaGxpZ2h0KGxheWVyRWxlbWVudCwgJyNkMDAnKTtcbiAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJpYyBzZWxlY3QgZnVuY3Rpb24uXG4gKiBAcGFyYW0gZWwgLSBFbGVtZW50IHRvIHNlbGVjdC5cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIE9ubHkgdXNlZCBmb3Igc3RhdmVzLlxuICogQHBhcmFtIG5lZWRzSGlnaGxpZ2h0VXBkYXRlIC0gV2hldGhlciBhbGwgdGhlIGdyb3VwJ3MgaGlnaGxpZ2h0cyBzaG91bGQgYmUgdXBkYXRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KFxuICBlbDogU1ZHR3JhcGhpY3NFbGVtZW50LFxuICBkcmFnSGFuZGxlcj86IERyYWdIYW5kbGVyLFxuICBuZWVkc0hpZ2hsaWdodFVwZGF0ZSA9IHRydWUsXG4pOiB2b2lkIHtcbiAgLy8gSWYgZWxlbWVudCBkb2VzIG5vdCBleGlzdCwgZXhpdFxuICBpZiAoIWVsKSByZXR1cm47XG5cbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgIHJldHVybiBzZWxlY3RTdGFmZihlbCwgZHJhZ0hhbmRsZXIpO1xuICB9XG4gIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2xheWVyJykpIHtcbiAgICByZXR1cm4gc2VsZWN0TGF5ZXJFbGVtZW50KGVsLCBkcmFnSGFuZGxlcik7XG4gIH1cblxuICBpZiAoXG4gICAgIWVsLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSAmJlxuICAgICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0JykgJiZcbiAgICAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxUZXh0UmVjdC1kaXNwbGF5JylcbiAgKSB7XG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAvLyBzZXQgZmlsbCB0byByZWRcbiAgICAvLyBzZXQgc3Ryb2tlIHRvIHJlZCBvbmx5IGlmIHNlbGVjdGVkIGVsZW0gaXMgYSBkaXZMaW5lXG4gICAgZWwuc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBlbC5zdHlsZS5zdHJva2UgPSBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSA/ICcjZDAwJyA6ICdibGFjayc7XG5cbiAgICBpZiAoZWwucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5sZW5ndGgpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykuZm9yRWFjaChcbiAgICAgICAgKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgZWxlbS5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5sZW5ndGgpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5zdHJva2UgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTZXQgY29sb3Igb2YgdGhlIGNvcnJlc3BvbmRpbmcgdGV4dCBpbiB0aGUgdGV4dCBwYW5lbCB0byByZWRcbiAgICBsZXQgc3lsSWQ7XG4gICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkge1xuICAgICAgc3lsSWQgPSBlbC5pZDtcbiAgICB9IGVsc2UgaWYgKGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpICE9PSBudWxsKSB7XG4gICAgICBzeWxJZCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpLmlkO1xuICAgIH1cbiAgICBpZiAoc3lsSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc3BhbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLicgKyBzeWxJZCk7XG4gICAgICBzcGFucy5mb3JFYWNoKChzcGFuOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gJyNkMDAnO1xuICAgICAgICBzcGFuLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgndGV4dC1zZWxlY3QnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAobmVlZHNIaWdobGlnaHRVcGRhdGUpIHtcbiAgICB1cGRhdGVIaWdobGlnaHQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBhbiBuYy5cbiAqIEBwYXJhbSBlbCAtIFRoZSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3ROY3MoXG4gIGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsXG4gIG5lb25WaWV3OiBOZW9uVmlldyxcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmICghZWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBjb25zdCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50IGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgIHVuc2VsZWN0KCk7XG4gICAgc2VsZWN0KHBhcmVudCk7XG4gICAgaWYgKGF3YWl0IGlzTGlnYXR1cmUocGFyZW50LCBuZW9uVmlldykpIHtcbiAgICAgIGNvbnN0IHByZXZOYyA9IHBhcmVudC5wcmV2aW91c1NpYmxpbmcgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShwcmV2TmMsIG5lb25WaWV3KSkge1xuICAgICAgICBzZWxlY3QocHJldk5jKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5leHROYyA9IHBhcmVudC5uZXh0U2libGluZyBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgaWYgKGF3YWl0IGlzTGlnYXR1cmUobmV4dE5jLCBuZW9uVmlldykpIHtcbiAgICAgICAgICBzZWxlY3QobmV4dE5jKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yOiBOZWl0aGVyIHByZXYgb3IgbmV4dCBuYyBhcmUgbGlnYXR1cmVzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbGlnYXR1cmUnKTtcbiAgICB9IGVsc2UgaWYgKHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ25jJykpIHtcbiAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck5jQWN0aW9ucyhwYXJlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ05vIGFjdGlvbiB0cmlnZ2VyZWQhJyk7XG4gICAgfVxuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gbmMgLSBUaGUgbmV1bWUgY29tcG9uZW50LlxuICogQHBhcmFtIG5lb25WaWV3IC0gVGhlIFtbTmVvblZpZXddXSBmb3IgdGhpcyBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIG5ldW1lIGNvbXBvbmVudCBpcyBwYXJ0IG9mIGEgbGlnYXR1cmUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpc0xpZ2F0dXJlKFxuICBuYzogU1ZHR3JhcGhpY3NFbGVtZW50LFxuICBuZW9uVmlldzogTmVvblZpZXcsXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgYXR0cmlidXRlczogQXR0cmlidXRlcyA9IGF3YWl0IG5lb25WaWV3LmdldEVsZW1lbnRBdHRyKFxuICAgIG5jLmlkLFxuICAgIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSxcbiAgKTtcbiAgcmV0dXJuIEJvb2xlYW4oYXR0cmlidXRlcy5saWdhdGVkKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBsaXN0IG9mIGVsZW1lbnRzIG9mIGEgY2VydGFpbiB0eXBlIGFyZSBsb2dpY2FsbHkgYWRqYWNlbnQgdG8gZWFjaCBvdGhlci5cbiAqIEluY2x1ZGVzIGVsZW1lbnRzIHRoYXQgYXJlIG9uIHNlcGFyYXRlIHN0YXZlcyBidXQgd291bGQgb3RoZXJ3aXNlIGJlIG5leHQgdG8gZWFjaCBvdGhlci5cbiAqIENhbiBub3QgYXBwbHkgdG8gZWxlbWVudHMgb2YgdHlwZSBuZXVtZSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdXNlciBzZWxlY3Rpb24gbW9kZVxuICogQHBhcmFtIGVsZW1lbnRzIHRoZSBlbGVtZW50cyBvZiBpbnRlcmVzdFxuICogQHJldHVybnMgdHJ1ZSBpZiBlbGVtZW50cyBhcmUgYWRqYWNlbnQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJlQWRqYWNlbnQoXG4gIHNlbGVjdGlvblR5cGU6IHN0cmluZyxcbiAgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdLFxuKTogYm9vbGVhbiB7XG4gIC8vIDIgZWxlbWVudHMgY2Fubm90IGJlIGFkamFjZW50IGlmIHRoZXJlIGlzIG9ubHkgMSBlbGVtZW50XG4gIGlmIChlbGVtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gZ2V0IGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGUgc2FtZSB0eXBlIGFzIHNlbGVjdGlvblR5cGVcbiAgbGV0IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlOiBIVE1MRWxlbWVudFtdO1xuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlID0gQXJyYXkuZnJvbShcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlJyksXG4gICAgICApO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIC8vIFdlIGF1dG9tYXRpY2FsbHkgcmV0dXJuICd0cnVlJyBmb3IgbmV1bWVzIGJlY2F1c2Ugd2Ugd2FudCB0aGUgdXNlciB0byBiZVxuICAgICAgLy8gYWxsb3dlZCB0byBncm91cCB0d28gbmV1bWVzIGluIHNlcGFyYXRlIHN5bGxhYmVzIHdpdGhvdXQgaGF2aW5nIHRvIHBhcmZvcm0gb3RoZXJcbiAgICAgIC8vIHN0ZXBzIGZpcnN0LiBZZXMsIHRoZXJlIGlzIGEgdHJhZGUtb2ZmIC0gdGhpcyBhbGxvd3MgdXNlcnMgdG8gdHJ5IGFuZCBncm91cCBhbnlcbiAgICAgIC8vIHR3byBub24tYWRqYWNlbnQgbmV1bWVzLCBidXQgaXQgd2FzIGRlY2lkZWQgdGhhdCB0aGUgYmVuZWZpdHMgKHNwZWVkIGFuZCBlZmZpY2llbmN5KVxuICAgICAgLy8gb3V0d2VpZ2ggdGhlIGNvc3RzICh1c2VyIHRyeWluZyBhbiBpbGxlZ2FsIGVkaXQpLlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFNvcnQgU0VMRUNURUQgZWxlbWVudHMgaW4gb3JkZXIgb2YgYXBwZWFyYW5jZSBieVxuICAvLyBtYXRjaGluZyB0byBvcmRlciBvZiBBTEwgZWxlbWVudHMgb2Ygc2VsZWN0aW9uIHR5cGVcbiAgY29uc3Qgc29ydGVkRWxlbWVudHMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZS5sZW5ndGg7IGkrKykge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgZWxlbWVudHMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChhbGxFbGVtc09mU2VsZWN0aW9uVHlwZVtpXS5pc1NhbWVOb2RlKGVsZW1lbnRzW2pdKSkge1xuICAgICAgICBzb3J0ZWRFbGVtZW50cy5wdXNoKGVsZW1lbnRzW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBOb3cgY2hlY2sgaWYgU0VMRUNURUQgZWxlbWVudHMgYXJlIGFsbCBhZGphY2VudCAoaW4gYSByb3cpIGJ5XG4gIC8vIGZpbmRpbmcgYW5kIGNvbXBhcmluZyB0aGVpciBpbmRlY2VzIGluIHRoZSBhcnJheSBvZiBBTEwgZWxlbWVudHMgb2Ygc2VsZWN0aW9uIHR5cGVcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWRFbGVtZW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBjb25zdCBmaXJzdEVsZW0gPSBzb3J0ZWRFbGVtZW50c1tpXTtcbiAgICBjb25zdCBzZWNvbmRFbGVtID0gc29ydGVkRWxlbWVudHNbaSArIDFdO1xuXG4gICAgY29uc3QgaW5kZXgxID0gYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUuaW5kZXhPZihmaXJzdEVsZW0pO1xuICAgIGNvbnN0IGluZGV4MiA9IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmluZGV4T2Yoc2Vjb25kRWxlbSk7XG5cbiAgICBpZiAoTWF0aC5hYnMoaW5kZXgxIC0gaW5kZXgyKSAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBhcnJheSBvZiBlbGVtZW50cyBhbGwgc2hhcmUgdGhlIHNhbWUgbG9naWNhbCBwYXJlbnQuXG4gKiBGb3IgZXhhbXBsZTogSWYgYWxsIG5ldW1lcyBhcmUgaW4gdGhlIHNhbWUgc3lsbGFibGUuXG4gKlxuICogTm90ZSEhIFRoZXJlIGlzIGN1cnJlbnRseSBubyBsb2dpYyBmb3IgdHJlYXRpbmcgbGF5ZXIgZWxlbWVudHMgYW5kIGJib3hlcyFcbiAqIE5vdGUhISBGdW5jdGlvbiB3aWxsIGFsd2F5cyByZXR1cm4gdHJ1ZSBmb3Igc3RhdmUgZWxlbWVudHMuIChTaG91bGQgaXQ/Pz8pXG4gKlxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdGhlIGN1cnJlbnQgTmVvbiBzZWxlY3Rpb24gbW9kZVxuICogQHBhcmFtIGVsZW1lbnRzIHRoZSBlbGVtZW50cyBpbiBxdWVzdGlvblxuICogQHJldHVybnMgdHJ1ZSBpZiBhbGwgZWxlbWVudHMgc2hhcmUgdGhlIHNhbWUgbG9naWNhbCBwYXJlbnQsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNoYXJlZExvZ2ljYWxQYXJlbnQoXG4gIHNlbGVjdGlvblR5cGU6IHN0cmluZyxcbiAgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdLFxuKTogYm9vbGVhbiB7XG4gIGVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKFxuICAgIChlbGVtKSA9PlxuICAgICAgIShcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSB8fFxuICAgICAgICBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSB8fFxuICAgICAgICBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnY2xlZicpXG4gICAgICApLFxuICApO1xuXG4gIGlmICghZWxlbWVudHNIYXZlQ29ycmVjdFR5cGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSByZXR1cm4gZmFsc2U7XG5cbiAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjb25zdCByZWZlcmVuY2VQYXJlbnRTdGFmZiA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtID0gZWxlbWVudHNbaV07XG4gICAgICAgIGlmICghZWxlbS5jbG9zZXN0KCcuc3RhZmYnKS5pc1NhbWVOb2RlKHJlZmVyZW5jZVBhcmVudFN0YWZmKSlcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgY29uc3QgcmVmZXJlbmNlUGFyZW50U3lsbGFibGUgPSBlbGVtZW50c1swXS5jbG9zZXN0KCcuc3lsbGFibGUnKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWxlbSA9IGVsZW1lbnRzW2ldO1xuICAgICAgICBpZiAoIWVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykuaXNTYW1lTm9kZShyZWZlcmVuY2VQYXJlbnRTeWxsYWJsZSkpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGFsbCBzZWxlY3RlZCBlbGVtZW50cyBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgY3VycmVudCBzZWxlY3Rpb24gbW9kZS5cbiAqIEZvciBleGFtcGxlLCBjaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgYXJlIG9mIHR5cGUgbmV1bWUsIG9yIHN5bGxhYmxlLCBldGMuXG4gKlxuICogTm90ZSEhIFRoZXJlIGlzIG5vIGxvZ2ljIGN1cnJlbnRseSBpbXBsZW1lbnRlZCBmb3IgbGF5ZXIgZWxlbWVudHMgb3IgYmJveGVzLlxuICpcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBtb2RlXG4gKiBAcGFyYW0gZWxlbWVudHMgdGhlIGVsZW1lbnRzIHRoYXQgYXJlIGJlaW5nIGNoZWNrZWRcbiAqIEByZXR1cm5zIHRydWUgaWYgYWxsIGVsZW1lbnRzIG1hdGNoIHNlbGVjdGlvbiBtb2RlLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50c0hhdmVDb3JyZWN0VHlwZShcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10sXG4pOiBib29sZWFuIHtcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCduZXVtZScpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIGVsZW1lbnRzIC0gVGhlIGVsZW1lbnRzIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlbGVtZW50cyBoYXZlIHRoZSBzYW1lIHBhcmVudCB1cCB0d28gbGV2ZWxzLCBvdGhlcndpc2UgZmFsc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChcbiAgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdLFxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IHRlbXBFbGVtZW50cyA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuICBjb25zdCBmaXJzdEVsZW1lbnQgPSB0ZW1wRWxlbWVudHMucG9wKCk7XG4gIGNvbnN0IHNlY29uZFBhcmVudCA9IGZpcnN0RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiB0ZW1wRWxlbWVudHMpIHtcbiAgICBjb25zdCBzZWNQYXIgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICBpZiAoc2VjUGFyLmlkICE9PSBzZWNvbmRQYXJlbnQuaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdXNlciBzZWxlY3RlZCBlbGVtZW50cyBhY2Nyb3NzIG11bHRpcGxlIHN0YXZlc1xuICogQHBhcmFtIGVsZW1lbnRzIHRoZSB1c2VyLXNlbGVjdGVkIGVsZW1lbnRzXG4gKiBAcmV0dXJucyB0cnVlIGlmIHNlbGVjdGlvbiBpcyBhY2Nyb3NzIG11bHRpcGxlIHN0YXZlcywgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc011bHRpU3RhdmVTZWxlY3Rpb24oZWxlbWVudHM6IFNWR0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICBjb25zdCBlbGVtZW50c0FycmF5ID0gQXJyYXkuZnJvbShlbGVtZW50cyk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhZmYgPSBlbGVtZW50c0FycmF5W2ldLmNsb3Nlc3QoJy5zdGFmZicpO1xuXG4gICAgZm9yIChsZXQgaiA9IGk7IGogPCBlbGVtZW50c0FycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCBhbm90aGVyU3RhZmYgPSBlbGVtZW50c0FycmF5W2pdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgLy8gY29tcGFyZSB3aXRoIG90aGVyIHN0YXZlc1xuICAgICAgaWYgKCFzdGFmZi5pc1NhbWVOb2RlKGFub3RoZXJTdGFmZikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCb3VuZGluZyBib3ggb2JqZWN0IGludGVyZmFjZSBmb3IgZ2V0U3RhZmZCQm94KClcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFmZkJCb3gge1xuICBpZDogc3RyaW5nO1xuICB1bHg6IG51bWJlcjtcbiAgdWx5OiBudW1iZXI7XG4gIGxyeDogbnVtYmVyO1xuICBscnk6IG51bWJlcjtcbiAgcm90YXRlOiBudW1iZXI7XG59XG5cbi8qKlxuICogR2V0IHRoZSBib3VuZGluZyBib3ggb2YgYSBzdGFmZiBiYXNlZCBvbiBpdHMgc3RhZmYgbGluZXMuXG4gKiBSb3RhdGUgaXMgaW5jbHVkZWQgaW4gcmFkaWFucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmQkJveChzdGFmZjogU1ZHR0VsZW1lbnQpOiBTdGFmZkJCb3gge1xuICBsZXQgdWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGU7XG4gIHN0YWZmLnF1ZXJ5U2VsZWN0b3JBbGwoJ3BhdGgnKS5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgY29uc3QgY29vcmRpbmF0ZXM6IG51bWJlcltdID0gcGF0aFxuICAgICAgLmdldEF0dHJpYnV0ZSgnZCcpXG4gICAgICAubWF0Y2goL1xcZCsvZylcbiAgICAgIC5tYXAoKGVsZW1lbnQpID0+IE51bWJlcihlbGVtZW50KSk7XG4gICAgaWYgKHJvdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByb3RhdGUgPSBNYXRoLmF0YW4oXG4gICAgICAgIChjb29yZGluYXRlc1szXSAtIGNvb3JkaW5hdGVzWzFdKSAvIChjb29yZGluYXRlc1syXSAtIGNvb3JkaW5hdGVzWzBdKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHVseSA9PT0gdW5kZWZpbmVkIHx8IE1hdGgubWluKGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSkgPCB1bHkpIHtcbiAgICAgIHVseSA9IE1hdGgubWluKGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSk7XG4gICAgfVxuICAgIGlmICh1bHggPT09IHVuZGVmaW5lZCB8fCBjb29yZGluYXRlc1swXSA8IHVseCkge1xuICAgICAgdWx4ID0gY29vcmRpbmF0ZXNbMF07XG4gICAgfVxuICAgIGlmIChscnkgPT09IHVuZGVmaW5lZCB8fCBNYXRoLm1heChjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pID4gbHJ5KSB7XG4gICAgICBscnkgPSBNYXRoLm1heChjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pO1xuICAgIH1cbiAgICBpZiAobHJ4ID09PSB1bmRlZmluZWQgfHwgY29vcmRpbmF0ZXNbMl0gPiBscngpIHtcbiAgICAgIGxyeCA9IGNvb3JkaW5hdGVzWzJdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHsgaWQ6IHN0YWZmLmlkLCB1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZSB9O1xufVxuXG4vKipcbiAqIHNlbGVjdCBhIGJvdW5kaW5nYm94IGVsZW1lbnRcbiAqIEBwYXJhbSBlbCAtIHRoZSBiYm94IChzeWxUZXh0UmVjdCkgZWxlbWVudCBpbiB0aGUgRE9NXG4gKiBAcGFyYW0gZHJhZ0hhbmRsZXIgLSB0aGUgZHJhZyBoYW5kbGVyIGluIHVzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0QkJveChcbiAgZWw6IFNWR0dyYXBoaWNzRWxlbWVudCxcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLFxuICBuZW9uVmlldzogTmVvblZpZXcsXG4pOiB2b2lkIHtcbiAgY29uc3QgYmJveCA9IGVsO1xuICBjb25zdCBzeWwgPSBiYm94LmNsb3Nlc3QoJy5zeWwnKTtcbiAgaWYgKCFzeWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgc3lsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgYmJveC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgIGNvbnN0IGNsb3Nlc3QgPSBlbC5jbG9zZXN0KCcuc3lsbGFibGUnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjbG9zZXN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgY2xvc2VzdC5jbGFzc0xpc3QuYWRkKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuICAgIGlmIChjbG9zZXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykubGVuZ3RoKSB7XG4gICAgICBjbG9zZXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgICAgY2xvc2VzdC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuc3Ryb2tlID0gJyNkMDAnO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG5lb25WaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlc2l6ZShzeWwgYXMgU1ZHR3JhcGhpY3NFbGVtZW50LCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgIH1cbiAgICBpZiAoZHJhZ0hhbmRsZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICB9XG4gICAgY29uc3Qgc3lsSWQgPSBlbC5jbG9zZXN0KCcuc3lsbGFibGUnKS5pZDtcbiAgICBpZiAoc3lsSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc3BhbjogSFRNTFNwYW5FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi4nICsgc3lsSWQpO1xuICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgc3Bhbi5zdHlsZS5jb2xvciA9ICcjZDAwJztcbiAgICAgICAgc3Bhbi5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2VsZWN0Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFNlbGVjdE9wdGlvbnMudHJpZ2dlckJCb3hBY3Rpb25zKCk7XG59XG5cbi8qKlxuICogU2VsZWN0IG5vdCBuZXVtZSBlbGVtZW50cy5cbiAqIEBwYXJhbSBub3ROZXVtZXMgLSBBbiBhcnJheSBvZiBub3QgbmV1bWVzIGVsZW1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0Tm4obm90TmV1bWVzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICBpZiAobm90TmV1bWVzLmxlbmd0aCA+IDApIHtcbiAgICBub3ROZXVtZXMuZm9yRWFjaCgobm4pID0+IHtcbiAgICAgIHNlbGVjdChubik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIHNlbGVjdGluZyBhbiBhcnJheSBvZiBlbGVtZW50cyBiYXNlZCBvbiB0aGUgc2VsZWN0aW9uIHR5cGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3RBbGwoXG4gIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuICBuZW9uVmlldzogTmVvblZpZXcsXG4gIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcixcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBzZWxlY3Rpb25UeXBlID0gZ2V0U2VsZWN0aW9uVHlwZSgpO1xuICB1bnNlbGVjdCgpO1xuICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzZWxlY3Rpb25DbGFzcztcbiAgbGV0IGNvbnRhaW5zTGF5ZXJFbGVtZW50cyA9IGZhbHNlO1xuICBsZXQgY29udGFpbnNOYyA9IGZhbHNlO1xuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN5bGxhYmxlJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5ldW1lJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5jJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN0YWZmJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5QkJveCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3lsVGV4dFJlY3QtZGlzcGxheSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuY2xlZiwgLmN1c3RvcywgLmFjY2lkLCAuZGl2TGluZSc7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZSAnICsgc2VsZWN0aW9uVHlwZSk7XG4gICAgICByZXR1cm47XG4gIH1cblxuICAvLyBHZXQgdGhlIGdyb3VwaW5ncyBzcGVjaWZpZWQgYnkgc2VsZWN0aW9uQ2xhc3NcbiAgLy8gdGhhdCBjb250YWluIHRoZSBwcm92aWRlZCBlbGVtZW50cyB0byBzZWxlY3QuXG4gIGNvbnN0IGdyb3Vwc1RvU2VsZWN0ID0gbmV3IFNldDxTVkdHRWxlbWVudD4oKTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgbGV0IGdyb3VwaW5nID0gZWxlbWVudC5jbG9zZXN0PFNWR0dFbGVtZW50PihzZWxlY3Rpb25DbGFzcyk7XG4gICAgaWYgKGdyb3VwaW5nID09PSBudWxsKSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSBjbGljay1zZWxlY3RlZCBhIGNsZWYgb3IgYSBjdXN0b3Mgb3IgYW4gYWNjaWQgb3IgYSBkaXZMaW5lXG4gICAgICBncm91cGluZyA9IGVsZW1lbnQuY2xvc2VzdCgnLmNsZWYsIC5jdXN0b3MsIC5hY2NpZCwgLmRpdkxpbmUnKTtcbiAgICAgIGlmIChncm91cGluZyA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ0VsZW1lbnQgJyArXG4gICAgICAgICAgICBlbGVtZW50LmlkICtcbiAgICAgICAgICAgICcgaXMgbm90IHBhcnQgb2Ygc3BlY2lmaWVkIGdyb3VwIGFuZCBpcyBub3QgYSBjbGVmIG9yIGN1c3RvcyBvciBhY2NpZCBvciBkaXZMaW5lLicsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29udGFpbnNMYXllckVsZW1lbnRzID0gY29udGFpbnNMYXllckVsZW1lbnRzIHx8IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5zTmMgPSBjb250YWluc05jIHx8IHRydWU7XG4gICAgfVxuICAgIGdyb3Vwc1RvU2VsZWN0LmFkZChncm91cGluZyk7XG5cbiAgICAvLyBDaGVjayBmb3IgcHJlY2VkZXMvZm9sbG93c1xuICAgIGxldCBzZWxlY3RlZCA9IGdyb3VwaW5nO1xuICAgIGxldCBmb2xsb3dzID0gc2VsZWN0ZWQuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpO1xuICAgIGxldCBwcmVjZWRlcyA9IHNlbGVjdGVkLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJyk7XG4gICAgd2hpbGUgKGZvbGxvd3MgfHwgcHJlY2VkZXMpIHtcbiAgICAgIGlmIChmb2xsb3dzKSB7XG4gICAgICAgIHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBmb2xsb3dzLnNsaWNlKDEpKTtcbiAgICAgICAgaWYgKGdyb3Vwc1RvU2VsZWN0LmhhcyhzZWxlY3RlZCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzZWxlY3RlZC5jbGFzc0xpc3QuYWRkKCduby1tb3ZpbmcnKTtcbiAgICAgICAgZ3JvdXBzVG9TZWxlY3QuYWRkKHNlbGVjdGVkKTtcbiAgICAgICAgZm9sbG93cyA9IHNlbGVjdGVkLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcmVjZWRlcykge1xuICAgICAgICBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgcHJlY2VkZXMuc2xpY2UoMSkpO1xuICAgICAgICBpZiAoZ3JvdXBzVG9TZWxlY3QuaGFzKHNlbGVjdGVkKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5hZGQoJ25vLW1vdmluZycpO1xuICAgICAgICBncm91cHNUb1NlbGVjdC5hZGQoc2VsZWN0ZWQpO1xuICAgICAgICBwcmVjZWRlcyA9IHNlbGVjdGVkLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIFNlbGVjdCB0aGUgZWxlbWVudHNcbiAgZ3JvdXBzVG9TZWxlY3QuZm9yRWFjaCgoZ3JvdXA6IFNWR0dyYXBoaWNzRWxlbWVudCkgPT5cbiAgICBzZWxlY3QoZ3JvdXAsIGRyYWdIYW5kbGVyLCBmYWxzZSksXG4gICk7XG5cbiAgLyogRGV0ZXJtaW5lIHRoZSBjb250ZXh0IG1lbnUgdG8gZGlzcGxheSAoaWYgYW55KSAqL1xuXG4gIGNvbnN0IGdyb3VwcyA9IEFycmF5LmZyb20oZ3JvdXBzVG9TZWxlY3QudmFsdWVzKCkpIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIC8vIEhhbmRsZSBvY2N1cmFuY2Ugb2YgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZVxuICBpZiAoY29udGFpbnNMYXllckVsZW1lbnRzICYmICFjb250YWluc05jKSB7XG4gICAgLy8gQSBjb250ZXh0IG1lbnUgd2lsbCBvbmx5IGJlIGRpc3BsYXllZCBpZiB0aGVyZSBpcyBhIHNpbmdsZSBjbGVmXG4gICAgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEpIHtcbiAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckxheWVyRWxlbWVudEFjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNlbGVjdGlvblR5cGUgPT0gJ3NlbEJ5U3lsbGFibGUnKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU2luZ2xlU3RhZmZBY3Rpb25zKCk7XG4gICAgICAgICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgICAgICAgcmVzaXplKGdyb3Vwc1swXSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSkge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgLy8gVE9ETyBjaGFuZ2UgY29udGV4dCBpZiBpdCBpcyBvbmx5IGEgbmV1bWUvbmMuXG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdzaW5nbGVTZWxlY3QnKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBsaW5rZWQgc3lsbGFibGUgc3BsaXQgYnkgYSBzdGFmZiBicmVha1xuICAgICAgICAgIC8vIGlmIHRoZXkgYXJlIGxpbmthYmxlLCB1c2VyIGNhbiB0b2dnbGUgbGlua2VkLXN5bGxzXG4gICAgICAgICAgaWYgKEdyb3VwaW5nLmlzTGlua2FibGUoJ3NlbEJ5U3lsbGFibGUnLCBncm91cHMpKSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ2xpbmthYmxlU2VsZWN0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGlmIHN5bGxhYmxlcyBhcmUgYWxsIGxvY2F0ZWQgb24gb25lIHN0YXZlLCB0aGV5IHNob3VsZCBiZSBncm91cGFibGVcbiAgICAgICAgICBlbHNlIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlTeWxsYWJsZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbXVsdGlTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaWYgc3lsbHMgYXJlIGFjY3Jvc3MgbXVsdGlwbGUgc3RhdmVzXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ2RlZmF1bHQnKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAvLyBUT0RPIGNoYW5nZSBjb250ZXh0IGlmIGl0IGlzIG9ubHkgYSBuYy5cbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJOZXVtZUFjdGlvbnMoKTtcbiAgICAgICAgICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoR3JvdXBpbmcuaXNHcm91cGFibGUoJ3NlbEJ5TmV1bWUnLCBncm91cHMpKSB7XG4gICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ25ldW1lJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTmNBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAoc2hhcmVkU2Vjb25kTGV2ZWxQYXJlbnQoZ3JvdXBzKSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBzZWxlY3Rpb24gaXMgYSBsaWdhdHVyZSBvciBjYW4gYmUgYSBsaWdhdHVyZVxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlc2UgbmV1bWUgY29tcG9uZW50cyBhcmUgcGFydCBvZiB0aGUgc2FtZSBuZXVtZVxuICAgICAgICAgICAgaWYgKGdyb3Vwc1swXS5wYXJlbnRFbGVtZW50ID09PSBncm91cHNbMV0ucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oZ3JvdXBzWzBdLnBhcmVudEVsZW1lbnQuY2hpbGRyZW4pO1xuXG4gICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgbmV1bWUgY29tcG9uZW50cyBhcmUgYWRqYWNlbnRcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIE1hdGguYWJzKFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW4uaW5kZXhPZihncm91cHNbMF0pIC0gY2hpbGRyZW4uaW5kZXhPZihncm91cHNbMV0pLFxuICAgICAgICAgICAgICAgICkgPT09IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBzZWNvbmQgbmV1bWUgY29tcG9uZW50IGlzIGxvd2VyIHRoYW4gZmlyc3QuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBvcmRlciBpbiB0aGUgbGlzdCBtYXkgbm90IGJlIHRoZSBzYW1lIGFzIHRoZVxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIGJ5IHgtcG9zaXRpb24uXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkMgPSBncm91cHNbMF0uY2hpbGRyZW5bMF0gYXMgU1ZHVXNlRWxlbWVudDtcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kTkMgPSBncm91cHNbMV0uY2hpbGRyZW5bMF0gYXMgU1ZHVXNlRWxlbWVudDtcblxuICAgICAgICAgICAgICAgIGxldCBmaXJzdE5DWCA9IGZpcnN0TkMueC5iYXNlVmFsLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQ1ggPSBzZWNvbmROQy54LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkNZID0gZmlyc3ROQy55LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWSA9IHNlY29uZE5DLnkuYmFzZVZhbC52YWx1ZTtcblxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIG5jJ3MgYnkgeCBjb29yZCAobGVmdCB0byByaWdodClcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBmaXJzdE5DWCA+IHNlY29uZE5DWCB8fFxuICAgICAgICAgICAgICAgICAgKGZpcnN0TkNYID09PSBzZWNvbmROQ1ggJiYgZmlyc3ROQ1kgPCBzZWNvbmROQ1kpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBbZmlyc3ROQywgc2Vjb25kTkNdID0gW3NlY29uZE5DLCBmaXJzdE5DXTtcbiAgICAgICAgICAgICAgICAgIFtmaXJzdE5DWCwgZmlyc3ROQ1ksIHNlY29uZE5DWCwgc2Vjb25kTkNZXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kTkNYLFxuICAgICAgICAgICAgICAgICAgICBzZWNvbmROQ1ksXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TkNYLFxuICAgICAgICAgICAgICAgICAgICBmaXJzdE5DWSxcbiAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgc3RhY2tlZCBuYydzL2xpZ2F0dXJlIChpZGVudGljYWwgeCksIG9yIGRlc2NlbmRpbmcgbmMncyAoeSBkZXNjZW5kcylcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3ROQ1ggPT09IHNlY29uZE5DWCB8fCBmaXJzdE5DWSA8IHNlY29uZE5DWSkge1xuICAgICAgICAgICAgICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCdsaWdhdHVyZScpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ25jJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChncm91cHMpKSB7XG4gICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ25jJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlCQm94JzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgc2VsZWN0QkJveChncm91cHNbMF0sIGRyYWdIYW5kbGVyLCBuZW9uVmlldyk7XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyQkJveEFjdGlvbnMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBncm91cHMuZm9yRWFjaCgoZykgPT4gc2VsZWN0QkJveChnLCBkcmFnSGFuZGxlciwgdW5kZWZpbmVkKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZS4gVGhpcyBzaG91bGQgbm90IGhhdmUgb2NjdXJyZWQuJyk7XG4gIH1cblxuICAvLyBmdW5jdGlvbiBjaGFuZ2VTdGFmZkxpc3RlbmVyKCk6IHZvaWQge1xuICAvLyB0cnkge1xuICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbmdlU3RhZmYnKVxuICAvLyAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBTZWxlY3RPcHRpb25zLmNoYW5nZVN0YWZmSGFuZGxlcik7XG4gIC8vIH0gY2F0Y2ggKGUpIHtjb25zb2xlLmRlYnVnKGUpO31cbiAgLy8gfVxufVxuIiwiaW1wb3J0IHsgcmVjb3JkTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9FcnJvckxvZyc7XG5pbXBvcnQgeyB1dWlkdjQgfSBmcm9tICcuL3JhbmRvbSc7XG5cbnR5cGUgTm90aWZpY2F0aW9uVHlwZSA9ICdkZWZhdWx0JyB8ICdlcnJvcicgfCAnd2FybmluZycgfCAnc3VjY2Vzcyc7XG5cbmNvbnN0IG5vdGlmaWNhdGlvbnM6IE5vdGlmaWNhdGlvbltdID0gbmV3IEFycmF5KDApO1xubGV0IGN1cnJlbnRNb2RlTWVzc2FnZTogTm90aWZpY2F0aW9uID0gbnVsbDtcblxuLyoqXG4gKiBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyB0byBkaXNwbGF5IGF0IGEgdGltZS5cbiAqL1xuY29uc3QgTlVNQkVSX1RPX0RJU1BMQVkgPSAzO1xuXG4vKipcbiAqIE51bWJlciBvZiBub3RpZmljYXRpb25zIHRvIGRpc3BsYXkgYXQgYSB0aW1lLlxuICovXG5jb25zdCBUSU1FT1VUID0gNTAwMDtcblxuY29uc3Qgbm90aWZpY2F0aW9uSWNvbjogUmVjb3JkPE5vdGlmaWNhdGlvblR5cGUsIHN0cmluZz4gPSB7XG4gIGRlZmF1bHQ6ICcnLFxuICB3YXJuaW5nOiAn4pqg77iPICcsXG4gIGVycm9yOiAn8J+UtCAnLFxuICBzdWNjZXNzOiAn4pyFICcsXG59O1xuXG4vKipcbiAqIEEgY2xhc3MgdG8gbWFuYWdlIE5lb24gbm90aWZpY2F0aW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvbiB7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgZGlzcGxheWVkOiBib29sZWFuO1xuICBpZDogc3RyaW5nO1xuICBpc01vZGVNZXNzYWdlOiBib29sZWFuO1xuICBsb2dJbmZvOiBzdHJpbmc7XG4gIHRpbWVvdXRJRDogbnVtYmVyO1xuICB0eXBlOiBOb3RpZmljYXRpb25UeXBlO1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IG5vdGlmaWNhdGlvbi5cbiAgICogQHBhcmFtIG1lc3NhZ2UgLSBOb3RpZmljYXRpb24gY29udGVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChtZXNzYWdlOiBzdHJpbmcsIHR5cGU6IE5vdGlmaWNhdGlvblR5cGUsIGxvZ0luZm86IHN0cmluZyA9IG51bGwpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBub3RpZmljYXRpb25JY29uW3R5cGVdICsgbWVzc2FnZTtcbiAgICB0aGlzLmRpc3BsYXllZCA9IGZhbHNlO1xuICAgIHRoaXMuaWQgPSB1dWlkdjQoKTtcbiAgICB0aGlzLmlzTW9kZU1lc3NhZ2UgPSBtZXNzYWdlLnNlYXJjaCgnTW9kZScpICE9PSAtMTtcbiAgICB0aGlzLmxvZ0luZm8gPSBsb2dJbmZvO1xuICAgIHRoaXMudGltZW91dElEID0gLTE7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgfVxuXG4gIC8qKiBTZXQgdGhlIElEIGZyb20gc2V0VGltZW91dC4gKi9cbiAgc2V0VGltZW91dElkIChpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50aW1lb3V0SUQgPSBNYXRoLm1heChpZCwgLTEpO1xuICB9XG5cbiAgLyoqIERpc3BsYXkgdGhlIE5vdGlmaWNhdGlvbi4gKi9cbiAgZGlzcGxheSAoKTogdm9pZCB7XG4gICAgdGhpcy5kaXNwbGF5ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBVVUlEIGZvciB0aGlzIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGdldElkICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmlkO1xuICB9XG59XG5cbi8qKlxuICogQ2xlYXIgdGhlIG5vdGlmaWNhdGlvblxuICogQHBhcmFtIGN1cnJlbnRJZCAtIFRoZSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIGJlIGNsZWFyZWQuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyTm90aWZpY2F0aW9uIChjdXJyZW50SWQ6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3VycmVudElkKSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnRJZCkucmVtb3ZlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwbGF5IGEgbm90aWZpY2F0aW9uLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiAtIE5vdGlmaWNhdGlvbiB0byBkaXNwbGF5LlxuICovXG5mdW5jdGlvbiBkaXNwbGF5Tm90aWZpY2F0aW9uIChub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICAvLyBOb3Qgc3VyZSB3aGF0IGl0IGRvZXMsIG1heWJlIHJlbGF0ZWQgdG8gcm9kYW4vbmVvblxuICBpZiAobm90aWZpY2F0aW9uLmlzTW9kZU1lc3NhZ2UpIHtcbiAgICBpZiAoY3VycmVudE1vZGVNZXNzYWdlID09PSBudWxsKSB7XG4gICAgICBjdXJyZW50TW9kZU1lc3NhZ2UgPSBub3RpZmljYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoY3VycmVudE1vZGVNZXNzYWdlLnRpbWVvdXRJRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgLy8gUmVtb3ZlIHRoZSB0b3Agbm90aWZpY2F0aW9uIGlmIGV4Y2VlZHMgbWF4bWltdW1cbiAgbm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG4gIGlmIChub3RpZmljYXRpb25zLmxlbmd0aCA+IE5VTUJFUl9UT19ESVNQTEFZKSB7XG4gICAgY29uc3QgdG9SZW1vdmUgPSBub3RpZmljYXRpb25zLnNoaWZ0KCk7XG4gICAgY2xlYXJOb3RpZmljYXRpb24odG9SZW1vdmUuZ2V0SWQoKSk7XG4gIH1cbiAgY29uc3Qgbm90aWZpY2F0aW9uQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RpZmljYXRpb24tY29udGVudCcpO1xuICBjb25zdCBuZXdOb3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ25lb24tbm90aWZpY2F0aW9uJyk7XG4gIG5ld05vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKGBuZW9uLW5vdGlmaWNhdGlvbi0ke25vdGlmaWNhdGlvbi50eXBlfWApO1xuICBuZXdOb3RpZmljYXRpb24uaWQgPSBub3RpZmljYXRpb24uZ2V0SWQoKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmlubmVySFRNTCA9IG5vdGlmaWNhdGlvbi5tZXNzYWdlO1xuICBub3RpZmljYXRpb25Db250ZW50LmFwcGVuZChuZXdOb3RpZmljYXRpb24pO1xuICBub3RpZmljYXRpb25Db250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgbm90aWZpY2F0aW9uLmRpc3BsYXkoKTtcbn1cblxuLyoqXG4gKiBTdGFydCBkaXNwbGF5aW5nIG5vdGlmaWNhdGlvbnMuIENhbGxlZCBhdXRvbWF0aWNhbGx5LlxuICovXG5mdW5jdGlvbiBzdGFydE5vdGlmaWNhdGlvbiAobm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24pOiB2b2lkIHtcbiAgZGlzcGxheU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xuICBub3RpZmljYXRpb24uc2V0VGltZW91dElkKFxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNsZWFyTm90aWZpY2F0aW9uLCBUSU1FT1VULCBub3RpZmljYXRpb24uZ2V0SWQoKSlcbiAgKTtcbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudEJ5SWQobm90aWZpY2F0aW9uLmdldElkKCkpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChub3RpZmljYXRpb24udGltZW91dElEKTtcbiAgICAgIGNsZWFyTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbi5nZXRJZCgpKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBBZGQgYSBub3RpZmljYXRpb24gdG8gdGhlIHF1ZXVlLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVldWVOb3RpZmljYXRpb24gKG5vdGlmaWNhdGlvbkNvbnRlbnQ6IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSA9ICdkZWZhdWx0JywgbG9nSW5mbzogc3RyaW5nID0gbnVsbCk6IHZvaWQge1xuICBjb25zdCBub3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbkNvbnRlbnQsIHR5cGUsIGxvZ0luZm8pO1xuXG4gIGlmIChub3RpZmljYXRpb24udHlwZSA9PSAnZXJyb3InIHx8IG5vdGlmaWNhdGlvbi50eXBlID09ICd3YXJuaW5nJykge1xuICAgIHJlY29yZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xuICB9XG5cbiAgc3RhcnROb3RpZmljYXRpb24obm90aWZpY2F0aW9uKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFyZ3NBcnJheTtcblxuZnVuY3Rpb24gYXJnc0FycmF5KGZ1bikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGlmIChsZW4pIHtcbiAgICAgIHZhciBhcmdzID0gW107XG4gICAgICB2YXIgaSA9IC0xO1xuICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bi5jYWxsKHRoaXMsIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuLmNhbGwodGhpcywgW10pO1xuICAgIH1cbiAgfTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGQzOyIsIi8qKlxuICogSFRNTCBmb3IgZWFjaCBpbnNlcnQgdGFiIChuZXVtZSwgZ3JvdXBpbmcsIGNsZWYsIHN5c3RlbSwgYW5kIGRpdmlzaW9uKS5cbiAqL1xuZXhwb3J0IGNvbnN0IGluc2VydFRhYkh0bWw6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gIHByaW1pdGl2ZVRhYjogXG4gICAgICAgIGA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInB1bmN0dW1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicHVuY3R1bVwiIHRpdGxlPVwicHVuY3R1bVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcHVuY3R1bS5wbmdcIiBjbGFzcz1cImltYWdlXCIvPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwidmlyZ2FcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwidmlyZ2FcIiB0aXRsZT1cInZpcmdhXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy92aXJnYS5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ2aXJnYVJldmVyc2VkXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIlJldmVyc2VkIFZpcmdhXCIgdGl0bGU9XCJSZXZlcnNlZCBWaXJnYVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdmlyZ2FfcmV2ZXJzZWQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGlhbW9uZFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJpbmNsaW5hdHVtXCIgdGl0bGU9XCJpbmNsaW5hdHVtXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaWFtb25kLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImN1c3Rvc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJjdXN0b3NcIiB0aXRsZT1cImN1c3Rvc1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY3VzdG9zLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNDbGVmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkMgQ2xlZlwiIHRpdGxlPVwiIEMgQ2xlZlwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY0NsZWYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZkNsZWZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRiBDbGVmXCIgdGl0bGU9XCJGIENsZWZcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ZDbGVmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImxpcXVlc2NlbnRBXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkxpcXVlc2NlbnQgQVwiIHRpdGxlPVwiTGlxdWVzY2VudCBBXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9saXF1ZXNjZW50QS5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJsaXF1ZXNjZW50Q1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJMaXF1ZXNjZW50IENcIiB0aXRsZT1cIkxpcXVlc2NlbnQgQ1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbGlxdWVzY2VudEMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZmxhdFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJGbGF0XCIgdGl0bGU9XCJGbGF0XCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hY2NpZEZsYXQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibmF0dXJhbFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJOYXR1cmFsXCIgdGl0bGU9XCJOYXR1cmFsXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hY2NpZE5hdHVyYWwucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+IFxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpdkxpbmVNYXhpbWFcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRGl2TGluZSBNYXhpbWFcIiB0aXRsZT1cIkRpdkxpbmUgTWF4aW1hXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaXZpc2lvLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPmAsXG4gIGdyb3VwaW5nVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwicGVzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInBlc1wiIHRpdGxlPVwicGVzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9wZXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2xpdmlzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cImNsaXZpc1wiIHRpdGxlPVwiY2xpdmlzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jbGl2aXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2NhbmRpY3VzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInNjYW5kaWN1c1wiIHRpdGxlPVwic2NhbmRpY3VzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zY2FuZGljdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2xpbWFjdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY2xpbWFjdXNcIiB0aXRsZT1cImNsaW1hY3VzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jbGltYWN1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ0b3JjdWx1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJ0b2N1bHVzXCIgdGl0bGU9XCJ0b2N1bHVzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy90b3JjdWx1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwb3JyZWN0dXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicG9ycmVjdHVzXCIgdGl0bGU9XCJwb3JyZWN0dXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3BvcnJlY3R1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwcmVzc3VzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInByZXNzdXNcIiB0aXRsZT1cInByZXNzdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3ByZXNzdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+YCxcbiAgc3lzdGVtVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic3RhZmZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIGxvbmdlbFwiIGFyaWEtbGFiZWw9XCJzeXN0ZW1cIiB0aXRsZT1cInN5c3RlbVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc3RhZmYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPkNsaWNrIHVwcGVyIGxlZnQgYW5kIGxvd2VyIHJpZ2h0IGNvcm5lcnMgb2YgbmV3IHN0YWZmLjwvcD5gXG4gIC8vIGRpdmlzaW9uVGFiOiBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICsgICAgXG4gIC8vIFwiPGJ1dHRvbiBpZD0nc21hbGxEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9zbWFsbGRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyAgICAgXCI8YnV0dG9uIGlkPSdtaW5vckRpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL21pbm9yZGl2LnBuZ1wiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyAgICAgXCI8cCBjbGFzcz0naW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyJz5cIiArXG4gIC8vIFwiPGJ1dHRvbiBpZD0nbWFqb3JEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9tYWpvcmRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J2ZpbmFsRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvZmluYWxkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCJcbn07XG5cbi8qKlxuICogU3RydWN0dXJlIG9mIGluc2VydCBwYW5lbCB3aXRoIGJhc2ljIGdyb3VwaW5nIHRhYnMuXG4gKi9cbmV4cG9ydCBjb25zdCBpbnNlcnRDb250cm9sc1BhbmVsID1cbiAgICBgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiBpZD1cImluc2VydE1lbnVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGVcIj5JTlNFUlQ8L2Rpdj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cImljb24gaXMtcHVsbGVkLXJpZ2h0XCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlSW5zZXJ0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuXHQ8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGZpcnN0LXN1YnNlY3Rpb25cIj5cbiAgICAgICAgPGRpdiBpZD1cImluc2VydENvbnRlbnRzXCIgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3cteTogaGlkZGVuO1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJwYW5lbC10YWJzXCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJwcmltaXRpdmVUYWJcIiBjbGFzcz1cImluc2VydFRhYlwiPlByaW1pdGl2ZSBFbGVtZW50czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cImdyb3VwaW5nVGFiXCIgY2xhc3M9XCJpbnNlcnRUYWJcIj5Hcm91cGluZzwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cInN5c3RlbVRhYlwiIGNsYXNzPVwiaW5zZXJ0VGFiXCI+U3lzdGVtPC9hPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBpZD1cImluc2VydF9kYXRhXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZWRpdCBwYW5lbCB3aXRoIGJ1dHRvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0Q29udHJvbHNQYW5lbCA9XG4gICAgYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJlZGl0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZSBmb2N1c2VkXCI+RURJVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVFZGl0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJlZGl0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBpZD1cInNlbGVjdGlvbi1tb2RlLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1zdWItdGl0bGVcIj5TZWxlY3Rpb24gTW9kZTo8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXJcIiAgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCIgc3R5bGU9XCJvdmVyZmxvdy14OiBhdXRvO1wiPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5U3lsbGFibGVcIj5TeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlOZXVtZVwiPk5ldW1lPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeU5jXCI+TmV1bWUgQ29tcG9uZW50PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeVN0YWZmXCI+U3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5TGF5ZXJFbGVtZW50XCI+TGF5ZXIgRWxlbWVudDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1zbGlkZXItYWN0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibW9yZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZXh0cmFFZGl0XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwhLS1cbiAgICAgICAgICAgICAgICAgICAgKiBUaGUgZXh0cmFFZGl0IHBhbmVsIGlzIGFkZGVkIGZvciBlZGl0IG9wdGlvbnMgdGhhdCBoYXZlIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgICogTGlrZSB0aGUgTmV1bWUgYW5kIENsZWYgbWVudXNcbiAgICAgICAgICAgICAgICAgICAgKiBUaGlzIGlzIGRvbmUgYmVjYXVzZSB0aGUgbW9yZUVkaXQgbWVudSBuZWVkcyB0byBoYXZlIG92ZXJmbG93IGZvciBjYXNlcyB3aGVyZSBpdCBoYXMgbG90cyBvZiBidXR0b25zXG4gICAgICAgICAgICAgICAgICAgICogQnV0IG92ZXJmbG93IHJ1aW5zIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgIC0tPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJuZXVtZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1bmRvUmVkb19jb250cm9sc1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmMgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuY0FjdGlvbkNvbnRlbnRzID1cbiAgICBgPGxhYmVsPkNoYW5nZSBIZWFkIFNoYXBlOjwvbGFiZWw+XG4gICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkhlYWQgU2hhcGVzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT48L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlB1bmN0dW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5QdW5jdHVtPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVmlyZ2FcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5WaXJnYTwvYT4gXG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJWaXJnYVJldmVyc2VkXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UmV2ZXJzZWQgVmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJJbmNsaW5hdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+SW5jbGluYXR1bTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkxpcXVlc2NlbnRBbnRpY2xvY2t3aXNlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TGlxdWVzY2VudCBBPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiTGlxdWVzY2VudENsb2Nrd2lzZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkxpcXVlc2NlbnQgQzwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGJhc2ljIG5ldW1lIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInNwbGl0LW5ldW1lXCI+U3BsaXQgTmV1bWVzPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBuZXVtZSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+R3JvdXBpbmcgT3B0aW9uczo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Hcm91cGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnQgc2Nyb2xsYWJsZS1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpbWFjdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGltYWN1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNsaW1hY3VzUmVzdXBpbnVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpbWFjdXMgUmVzdXBpbnVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpdmlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpdmlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UGVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBlcyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzRmxleHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzIEZsZXh1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlBvcnJlY3R1c1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlByZXNzdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5QcmVzc3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzRmxleHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzIEZsZXh1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlNjYW5kaWN1c1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlRvcmN1bHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+VG9yY3VsdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJUb3JjdWx1c1Jlc3VwaW51c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlRvcmN1bHVzIFJlc3VwaW51czwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOY3NcIj5Vbmdyb3VwPC9idXR0b24+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBkZWZhdWx0IGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdEFjdGlvbkNvbnRlbnRzID0gXG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBkZWZhdWx0IGFjdGlvbiBtZW51IHdoZW4gc2VsZWN0aW5nIGJ5IHN5bGxhYmxlXG4gKiBTYW1lIGFzIGFib3ZlIGV4Y2VwdCBpbmNsdWRlcyByZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFN5bEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5gO1xuICAgIFxuLyoqXG4gKiBDb250ZW50cyBvZiBjdXN0b3MgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBjdXN0b3NBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAob3V0c2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiaW5zZXJ0VG9TeWxsYWJsZVwiPkluc2VydCB0byBuZWFyZXN0IHN5bGxhYmxlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAoaW5zaWRlIHN5bGxhYmxlKSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1vdmVPdXRzaWRlU3lsbGFibGVcIj5Nb3ZlIG91dHNpZGUgc3lsbGFibGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBhY2NpZCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGFjY2lkQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+Q2hhbmdlIEFjY2lkZW50YWw6PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GbGF0XCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmxhdDwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTmF0dXJhbFwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPk5hdHVyYWw8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBzdGFmZiBzcGxpdCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXY+U3BsaXQgU3lzdGVtOjwvZGl2PlxuICAgIDxkaXYgaWQ9XCJzcGxpdC1zeXN0ZW0tYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cInNwbGl0LXN5c3RlbVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5TcGxpdDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwicmVzZXQtcm90YXRlXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiPlJlc2V0IFJvdGF0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgc3RhZmYgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBzdGFmZk1lcmdlQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+TWVyZ2UgU3lzdGVtczo8L2xhYmVsPlxuICAgIDxkaXYgaWQ9XCJtZXJnZS1zeXN0ZW0tYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cIm1lcmdlLXN5c3RlbXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCI+TWVyZ2U8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGFjY2lkIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgY29sdW1uQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwiY29sLWVkaXQtY29udGFpbmVyXCI+XG4gICAgICAgIEVkaXQgQ29sdW1uIEluZm9ybWF0aW9uOiBcbiAgICAgICAgPGRpdiBpZD1cImNvbC1zdGVwcGVyLWJ0bnMtY29udGFpbmVyXCIgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29sLWRlY3JlbWVudFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gY29sLXN0ZXBwZXItYnRuXCI+4oCTPC9idXR0b24+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImNvbC1pbnB1dFwiIGNsYXNzPVwic2lkZS1wYW5lbC1zdGVwcGVyLWlucHV0XCIgdmFsdWU9XCIwXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29sLWluY3JlbWVudFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gY29sLXN0ZXBwZXItYnRuXCI+KzwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNvbC1jb25maXJtXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzaWRlLXBhbmVsLWNvbmZpcm0tYnRuXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj5Db25maXJtPC9idXR0b24+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiY29sLXdhcm5pbmdcIiBjbGFzcz1cInNpZGUtcGFuZWwtd2FybmluZ1wiPjwvZGl2PiBcbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBjbGVmIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgY2xlZkFjdGlvbkNvbnRlbnRzID1cbiAgICBgXG4gICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiIG92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkRpc3BsYWNlIE9jdGF2ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJpbmNyZW1lbnQtb2N0YXZlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+KzEgT2N0YXZlPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cImRlY3JlbWVudC1vY3RhdmVcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj4tMSBPY3RhdmU8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIiBvdmVyZmxvdz1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DaGFuZ2UgQ2xlZiBTaGFwZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJDQ2xlZlwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkMgQ2xlZjwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJGQ2xlZlwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkYgQ2xlZjwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRpdkxpbmUgdHlwZSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGRpdkxpbmVBY3Rpb25Db250ZW50cyA9XG5gPGxhYmVsPkNoYW5nZSBEaXZMaW5lOjwvbGFiZWw+XG48ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwib3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9DYWVzdXJhXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+Q2Flc3VyYTwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GaW5hbGlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmluYWxpczwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9NaW5pbWFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NaW5pbWE8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWFpb3JcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NYWlvcjwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9NYXhpbWFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NYXhpbWE8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvVmlyZ3VsYVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPlZpcmd1bGE8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBiYm94IGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgYmJveEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtYXRjaEhlaWdodFwiPk1hdGNoIEhlaWdodCBmb3IgRW50aXJlIFJvdzwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogSFRNTCBmb3IgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBncm91cGluZ01lbnUgPSB7XG4gIG5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBtb3JlLWVkaXQtYnRuXCIgaWQ9XCJncm91cE5jc1wiPkdyb3VwIE5ldW1lIENvbXBvbmVudHM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIG5ldW1lOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZ3JvdXBOZXVtZXNcIj5Hcm91cCBOZXVtZXM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIHN5bDogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblx0XHQ8L2Rpdj5gLFxuICBsaWdhdHVyZU5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImdyb3VwTmNzXCI+R3JvdXAgTmV1bWUgQ29tcG9uZW50czwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PmAsXG4gIGxpZ2F0dXJlOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PmAsXG4gIHNwbGl0U3lsbGFibGU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpbmtcIj5Ub2dnbGUgTGlua2VkIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+YFxufTtcblxuXG5cbi8qIEJHSU5OSU5HIE9GIE1PREFMIFdJTkRPVyBDT05URU5UIFNFQ1RJT04gKi9cblxuLyoqXG4gKiBIVE1MIGZvciBFZGl0IFN5bGxhYmxlIFRleHQgbW9kYWwgd2luZG93XG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0VGV4dE1vZGFsID0gXG4gICAgYDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtbGFiZWxcIj5FbnRlciBTeWxsYWJsZSBUZXh0OjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCI+XG4gICAgICAgIDxkaXYgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtYnRuc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctYnRuXCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsXCI+Q2FuY2VsPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlXCI+U2F2ZTwvZGl2PiAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cblxuLyoqXG4gKiBIVE1MIGZvciBIb3RrZXlzIG1vZGFsIHdpbmRvd1xuICovXG5leHBvcnQgY29uc3QgaG90a2V5c01vZGFsID0gYFxuICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXNcIj5cbiAgICAgICAgPCEtLSBcIkRpc3BsYXlcIiBob3RrZXlzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS10aXRsZVwiPkRpc3BsYXk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+KzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIEluPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+LTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIE91dDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4wPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlpvb20gUmVzZXQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+aDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5IaWRlIEdseXBoPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+VDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5TY3JvbGwgVG8gU3lsbGFibGUgVGV4dDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJFZGl0XCIgaG90a2V5cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktdGl0bGVcIj5FZGl0PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5DdHJsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pm9yPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj7ijJg8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlVuZG88L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+Q3RybDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pm9yPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj7ijJg8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+UmVkbzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5xL3cvZS9yL3QveTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgSGlnaGxpZ2h0IGJ5IFN0YWZmL1N5bGxhYmxlL05ldW1lL0xheWVyRWxlbWVudC9TZWxlY3Rpb24vT2ZmXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPjEvMi8zLzQvNS82PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBTZWxlY3QgYnkgU3lsbGFibGUvTmV1bWUvTmV1bWUgQ29tcG9uZW50L1N0YWZmL0xheWVyIEVsZW1lbnQvQkJveFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPk51bWJlcjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgQmVnaW4gSW5zZXJ0IGZvciB0aGUgPGk+bnRoPC9pPiBvcHRpb24gaW4gdGhlIHNlbGVjdGVkIHRhYlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJPdGhlclwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+T3RoZXI8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPnM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+U2F2ZSBGaWxlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkVzYzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5SZXR1cm4gdG8gRWRpdCBNb2RlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuZXhwb3J0IGNvbnN0IHN5bGxhYmxlQWN0aW9uc0NvbnRlbnQgPSBgXG4gIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOZXVtZXNcIj5Vbmdyb3VwPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgPC9kaXY+XG5gO1xuXG5leHBvcnQgY29uc3QgZXJyb3JMb2dzUGFuZWxDb250ZW50cyA9IFxuICAgIGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiZXJyb3JMb2dIZWFkaW5nXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nLXRpdGxlXCI+RXJyb3IgTG9nPC9kaXY+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRXJyb3JMb2dcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIGlkPVwiZXJyb3JMb2dDb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3c6IHNjcm9sbDsgcGFkZGluZzogMC41ZW0gMC43NWVtOyBtYXgtaGVpZ2h0OiAzMDBweDtcIj48ZGl2PmA7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxudmFyIGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyKSB7XG4gIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICB2YXIgdXVpZCA9IChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiLCJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7IiwiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7IiwiLyoqIEBtb2R1bGUgRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyAqL1xuXG5pbXBvcnQgKiBhcyBDb2xvciBmcm9tICcuLi91dGlscy9Db2xvcic7XG5pbXBvcnQgWm9vbUhhbmRsZXIgZnJvbSAnLi4vU2luZ2xlVmlldy9ab29tJztcbmltcG9ydCB7IEdyb3VwaW5nVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGdldFNldHRpbmdzLCBzZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuXG5sZXQgbGFzdEdseXBoT3BhY2l0eTogbnVtYmVyLCBsYXN0SW1hZ2VPcGFjaXR5OiBudW1iZXIsIGxhc3RDaXJjbGVTaXplOiBudW1iZXI7XG5cbi8qKlxuICogU2V0IHpvb20gY29udHJvbCBsaXN0ZW5lciBmb3IgYnV0dG9uIGFuZCBzbGlkZXJcbiAqIEBwYXJhbSB6b29tSGFuZGxlciAtIEEgW1tab29tSGFuZGxlcl1dIGlzIG9ubHkgbmVjZXNzYXJ5IGluIFNpbmdsZSBQYWdlIG1vZGUgYXMgZGl2YS5qcyBoYW5kbGVzIHpvb21pbmcgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Wm9vbUNvbnRyb2xzICh6b29tSGFuZGxlcj86IFpvb21IYW5kbGVyKTogdm9pZCB7XG4gIGlmICh6b29tSGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHpvb21TbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem9vbVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IHpvb21PdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem9vbU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgem9vbSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgem9vbVNsaWRlci52YWx1ZSA9IFN0cmluZyh6b29tKTtcbiAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyh6b29tKTtcbiAgem9vbUhhbmRsZXIuem9vbVRvKHpvb20gLyAxMDAuMCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC16b29tJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9ICcxMDAnO1xuICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTAwJztcbiAgICB6b29tSGFuZGxlci5yZXNldFpvb21BbmRQYW4oKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NldC16b29tLWVhc3ktZWRpdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHpvb21PdXRwdXQudmFsdWUgPSAnMTgwJztcbiAgICB6b29tU2xpZGVyLnZhbHVlID0gJzE4MCc7XG4gICAgem9vbUhhbmRsZXIuem9vbVRvKDE4MC8xMDApO1xuICB9KTtcblxuICBmdW5jdGlvbiBpbnB1dENoYW5nZUhhbmRsZXIgKCk6IHZvaWQge1xuICAgIHpvb21PdXRwdXQudmFsdWUgPSB6b29tU2xpZGVyLnZhbHVlO1xuICAgIHpvb21IYW5kbGVyLnpvb21UbyhOdW1iZXIoem9vbU91dHB1dC52YWx1ZSkgLyAxMDAuMCk7XG4gIH1cblxuICAvLyB6b29tU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgem9vbVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgem9vbVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Wm9vbSA9IHBhcnNlSW50KHpvb21PdXRwdXQudmFsdWUpO1xuICAgIGlmIChldnQua2V5ID09PSAnQXJyb3dVcCcgfHwgZXZ0LmtleSA9PT0gJ0Fycm93RG93bicgfHwgXG4gICAgZXZ0LmtleSA9PT0gJ0Fycm93UmlnaHQnIHx8IGV2dC5rZXkgPT09ICdBcnJvd0xlZnQnKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICcrJykgeyAvLyBpbmNyZWFzZSB6b29tIGJ5IDIwXG4gICAgICBjb25zdCBuZXdab29tID0gTWF0aC5taW4oY3VycmVudFpvb20gKyAyMCwgcGFyc2VJbnQoem9vbVNsaWRlci5nZXRBdHRyaWJ1dGUoJ21heCcpKSk7XG4gICAgICB6b29tSGFuZGxlci56b29tVG8obmV3Wm9vbSAvIDEwMC4wKTtcbiAgICAgIHpvb21PdXRwdXQudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgICB6b29tU2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ18nKSB7IC8vIGRlY3JlYXNlIHpvb20gYnkgMjBcbiAgICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1heChjdXJyZW50Wm9vbSAtIDIwLCBwYXJzZUludCh6b29tU2xpZGVyLmdldEF0dHJpYnV0ZSgnbWluJykpKTtcbiAgICAgIHpvb21IYW5kbGVyLnpvb21UbyhuZXdab29tIC8gMTAwLjApO1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnMCcpIHtcbiAgICAgIHpvb21PdXRwdXQudmFsdWUgPSAnMTAwJztcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTAwJztcbiAgICAgIHpvb21IYW5kbGVyLnJlc2V0Wm9vbUFuZFBhbigpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogVXBkYXRlIE1FSSBvcGFjaXR5IHRvIHZhbHVlIGZyb20gdGhlIHNsaWRlci5cbiAqIEBwYXJhbSBtZWlDbGFzc05hbWUgLSBDbGFzcyB0aGF0IGNvbnRhaW5zIHRoZSByZW5kZXJlZCBNRUkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyIChtZWlDbGFzc05hbWU/OiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3Qgb3BhY2l0eU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5T3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG4gIGNvbnN0IG9wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BhY2l0eVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IG9wYWNpdHlPdXRwdXQudmFsdWU7XG4gIC8vIHRoaXMgaXMgd2hlcmUgd2UgbG9hZCBnbHlwaCBvcGFjaXR5IGZyb20gbG9jYWxTdG9yYWdlIG9uIHBhZ2UtbG9hZFxuICBzZXRTZXR0aW5ncyh7IGdseXBoT3BhY2l0eTogTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpIH0pO1xuXG4gIC8vIGRpc3BheSBjb3JyZWN0IHNsaWRlciB0b2dnbGUgZGlzcGxheSBpY29uXG4gIGNvbnN0IGhpZGVHbHlwaEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2dnbGUtZ2x5cGgtb3BhY2l0eSA+IGltZycpO1xuICBpZiAoTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpID09PSAwKSB7XG4gICAgaGlkZUdseXBoSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Nob3ctaWNvbi5zdmdgKTtcbiAgICBoaWRlR2x5cGhJbWcucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ1Nob3cgZ2x5cGgnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBoaWRlR2x5cGhJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z2ApO1xuICAgIGhpZGVHbHlwaEltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnSGlkZSBnbHlwaCcpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAoKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgbWVpQ2xhc3NOYW1lKSkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4pLmZvckVhY2goZyA9PiB7XG4gICAgICBnLnN0eWxlLm9wYWNpdHkgPSAoTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpIC8gMTAwLjApLnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1VuYWJsZSB0byBwcm9wZXJseSBzZXQgb3BhY2l0eSB0byBwYWdlcycpO1xuICB9XG59XG5cbi8qKlxuICogU2V0IHJlbmRlcmVkIE1FSSBvcGFjaXR5IGJ1dHRvbiBhbmQgc2xpZGVyIGxpc3RlbmVycy5cbiAqIEBwYXJhbSBtZWlDbGFzc05hbWUgLSBDbGFzcyB0aGF0IGNvbnRhaW5zIHRoZSByZW5kZXJlZCBNRUkuXG4gKi9cbmZ1bmN0aW9uIHNldEdseXBoT3BhY2l0eUNvbnRyb2xzIChtZWlDbGFzc05hbWU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5U2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IGdseXBoT3BhY2l0eSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgbGFzdEdseXBoT3BhY2l0eSA9IGdseXBoT3BhY2l0eTtcbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gaW5wdXRDaGFuZ2VPcGFjaXR5ICgpOiB2b2lkIHtcbiAgICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gb3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0R2x5cGhPcGFjaXR5ID0gTnVtYmVyKG9wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIobWVpQ2xhc3NOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZU9wYWNpdHlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWdseXBoLW9wYWNpdHknKTtcblxuICBpZiAoZ2x5cGhPcGFjaXR5ID09IDEwMCkge1xuICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gIH1cblxuICB0b2dnbGVPcGFjaXR5QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIGxldCBuZXdPcGFjaXR5O1xuICAgIGlmICh0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5jb250YWlucygnaGlkZS1pY29uJykpIHtcbiAgICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDE7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5pdGlvbiBzY2FsZSBpcyB0aGUgcm9vdCBlbGVtZW50IG9mIHdoYXQgaXMgZ2VuZXJhdGVkIGJ5IHZlcm92aW9cbiAgICBcbiAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBtZWlDbGFzc05hbWUpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+KS5mb3JFYWNoKGcgPT4ge1xuICAgICAgZy5zdHlsZS5vcGFjaXR5ID0gbmV3T3BhY2l0eS50b1N0cmluZygpO1xuICAgIH0pO1xuXG4gICAgbGFzdEdseXBoT3BhY2l0eSA9IE51bWJlcihvcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld09wYWNpdHkgKiAxMDApO1xuICAgIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoTWF0aC5yb3VuZChuZXdPcGFjaXR5ICogMTAwKSk7XG5cbiAgICBzZXRTZXR0aW5ncyh7IGdseXBoT3BhY2l0eTogbmV3T3BhY2l0eSAqIDEwMCB9KTtcblxuICAgIGlucHV0Q2hhbmdlT3BhY2l0eSgpO1xuICB9KTtcblxuICBvcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaW5wdXRDaGFuZ2VPcGFjaXR5KTtcbiAgb3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBpbnB1dENoYW5nZU9wYWNpdHkpO1xuXG4gIG9wYWNpdHlTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuXG4vKipcbiAqIFNldCBiYWNrZ3JvdW5kIGltYWdlIG9wYWNpdHkgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICogQHBhcmFtIGJhY2tncm91bmQgLSBUaGUgYmFja2dyb3VuZCBpbWFnZSBzZWxlY3Rvci5cbiAqL1xuZnVuY3Rpb24gc2V0QmdPcGFjaXR5Q29udHJvbHMgKGJhY2tncm91bmQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdPcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgYmdPcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JnT3BhY2l0eU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgaW1hZ2VPcGFjaXR5IH0gPSBnZXRTZXR0aW5ncygpO1xuICBsYXN0SW1hZ2VPcGFjaXR5ID0gaW1hZ2VPcGFjaXR5O1xuICBiZ09wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcbiAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGltYWdlT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gYmdJbnB1dENoYW5nZUhhbmRsZXIgKCk6IHZvaWQge1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IGJnT3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgc2V0QmdPcGFjaXR5RnJvbVNsaWRlcihiYWNrZ3JvdW5kKTtcbiAgfVxuXG5cbiAgY29uc3QgdG9nZ2xlQmdPcGFjaXR5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1iZy1vcGFjaXR5Jyk7XG5cbiAgaWYgKGltYWdlT3BhY2l0eSA9PSAxMDApIHtcbiAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gIH1cblxuICB0b2dnbGVCZ09wYWNpdHlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICBsZXQgbmV3T3BhY2l0eTtcblxuICAgIGlmICh0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlLWljb24nKSkge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDE7XG4gICAgfVxuICAgIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJhY2tncm91bmQpWzBdIGFzIEhUTUxFbGVtZW50KVxuICAgICAgLnN0eWxlLm9wYWNpdHkgPSBuZXdPcGFjaXR5LnRvU3RyaW5nKCk7XG5cbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgYmdPcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld09wYWNpdHkgKiAxMDApO1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhNYXRoLnJvdW5kKG5ld09wYWNpdHkgKiAxMDApKTtcblxuICAgIHNldFNldHRpbmdzKHsgaW1hZ2VPcGFjaXR5OiBuZXdPcGFjaXR5ICogMTAwIH0pO1xuICAgIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKCk7XG4gIH0pO1xuXG4gIGJnT3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgYmdPcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcblxuICBiZ09wYWNpdHlTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QmdPcGFjaXR5RnJvbVNsaWRlciAoYmFja2dyb3VuZD86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlPdXRwdXQ6IEhUTUxPdXRwdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JnT3BhY2l0eU91dHB1dCcpO1xuICBcbiAgc2V0U2V0dGluZ3MoeyBpbWFnZU9wYWNpdHk6IE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpIH0pO1xuXG4gIC8vIGRpc3BheSBjb3JyZWN0IHNsaWRlciB0aWdnbGUgZGlzcGxheSBpY29uXG4gIGNvbnN0IGhpZGVCZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2dnbGUtYmctb3BhY2l0eSA+IGltZycpO1xuICBpZiAoTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgPT09IDApIHtcbiAgICBoaWRlQmdJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2hvdy1pY29uLnN2Z2ApO1xuICAgIGhpZGVCZ0ltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnU2hvdyBiYWNrZ3JvdW5kIGltYWdlJyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaGlkZUJnSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2hpZGUtaWNvbi5zdmdgKTtcbiAgICBoaWRlQmdJbWcucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ0hpZGUgYmFja2dyb3VuZCBpbWFnZScpO1xuICB9XG5cbiAgY29uc3QgYmc6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YmFja2dyb3VuZH1gKTtcbiAgaWYgKGJnKSBiZy5zdHlsZS5vcGFjaXR5ID0gU3RyaW5nKE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpIC8gMTAwKTtcbn1cblxuLyoqXG4gKiBTZXQgYmJveCBhZGp1c3RtZW50IGNpcmNsZSBzaXplIGJ1dHRvbiBhbmQgc2xpZGVyIGxpc3RlbmVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENpcmNsZVNpemVDb250cm9scyAoKTogdm9pZCB7XG4gIGNvbnN0IGNpcmNsZVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXJjbGVTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBjaXJjbGVPdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2lyY2xlT3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG5cbiAgY29uc3QgeyBjaXJjbGVTaXplIH0gPSBnZXRTZXR0aW5ncygpO1xuICBsYXN0Q2lyY2xlU2l6ZSA9IGNpcmNsZVNpemU7XG4gIGNpcmNsZVNsaWRlci52YWx1ZSA9IFN0cmluZyhjaXJjbGVTaXplKTtcbiAgY2lyY2xlT3V0cHV0LnZhbHVlID0gU3RyaW5nKGNpcmNsZVNpemUpO1xuXG4gIGZ1bmN0aW9uIGNpcmNsZVNpemVJbnB1dENoYW5nZUhhbmRsZXIgKCk6IHZvaWQge1xuICAgIGNpcmNsZU91dHB1dC52YWx1ZSA9IGNpcmNsZVNsaWRlci52YWx1ZTtcbiAgICBsYXN0Q2lyY2xlU2l6ZSA9IE51bWJlcihjaXJjbGVTbGlkZXIudmFsdWUpO1xuICAgIHNldFNldHRpbmdzKHsgY2lyY2xlU2l6ZTogTnVtYmVyKGxhc3RDaXJjbGVTaXplKSB9KTtcbiAgICBjb25zdCByZXNpemVQb2ludHMgPSBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpO1xuICAgIGlmICghcmVzaXplUG9pbnRzLmVtcHR5KCkpIHtcbiAgICAgIHJlc2l6ZVBvaW50cy5hdHRyKCdyJywgbGFzdENpcmNsZVNpemUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHJlc2V0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LWNpcmNsZS1zaXplJyk7XG4gIHJlc2V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IGRlZmF1bHRTaXplID0gMjU7IFxuICAgIC8vIGlmIGhhcyByZXNpemVQb2ludHMgZGlzcGxheWVkXG4gICAgY29uc3QgcmVzaXplUG9pbnRzID0gZDMuc2VsZWN0QWxsKCcucmVzaXplUG9pbnQnKTtcbiAgICBpZiAoIXJlc2l6ZVBvaW50cy5lbXB0eSgpKSB7XG4gICAgICByZXNpemVQb2ludHMuYXR0cigncicsIGRlZmF1bHRTaXplKTtcbiAgICB9XG5cbiAgICBsYXN0Q2lyY2xlU2l6ZSA9IE51bWJlcihkZWZhdWx0U2l6ZSk7XG4gICAgY2lyY2xlU2xpZGVyLnZhbHVlID0gU3RyaW5nKGRlZmF1bHRTaXplKTtcbiAgICBjaXJjbGVPdXRwdXQudmFsdWUgPSBTdHJpbmcoZGVmYXVsdFNpemUpO1xuXG4gICAgc2V0U2V0dGluZ3MoeyBjaXJjbGVTaXplOiBOdW1iZXIoZGVmYXVsdFNpemUpIH0pO1xuICAgIGNpcmNsZVNpemVJbnB1dENoYW5nZUhhbmRsZXIoKTtcbiAgfSk7XG5cbiAgY2lyY2xlU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlcik7XG4gIGNpcmNsZVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjaXJjbGVTaXplSW5wdXRDaGFuZ2VIYW5kbGVyKTtcblxuICBjaXJjbGVTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgaGlnaGxpZ2h0IGRyb3Bkb3duIG9wdGlvbiArIGRpc3BsYXlcbiAqIEBwYXJhbSBncm91cCAtIEdyb3VwaW5nVHlwZSAvIFRoZSBET00gZWxlbWVudCdzIGlkIGFzIGBoaWdobGlnaHQtJHtpZH1gXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbiAoZ3JvdXA6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaGlnaGxpZ2h0LSR7Z3JvdXB9YCk7XG4gIGNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1kcm9wZG93bicpO1xuICBjb25zdCBoaWdobGlnaHRUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC10eXBlJyk7XG5cbiAgLy8gc2F2ZSBoaWdobGlnaHQgb3B0aW9uIHRvIGxvY2FsU3RvcmFnZVxuICBzZXRTZXR0aW5ncyh7IGhpZ2hsaWdodE1vZGU6IGdyb3VwIH0pO1xuXG4gIGRyb3Bkb3duLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuZm9yRWFjaChlbGVtID0+IHtcbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpO1xuICB9KTtcblxuICBpZiAoZ3JvdXAgPT09ICdub25lJykge1xuICAgIGhpZ2hsaWdodFR5cGUudGV4dENvbnRlbnQgPSAnXFx4QTAtIE9mZic7XG4gICAgQ29sb3IudW5zZXRHcm91cGluZ0hpZ2hsaWdodCgpO1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpO1xuXG4gIC8vIFRleHQgY29udGVudCBpcyB0aGUgZ3JvdXBpbmcgdHlwZSBjYXBpdGFsaXplZFxuICBoaWdobGlnaHRUeXBlLnRleHRDb250ZW50ID0gYFxceEEwLSAke2dyb3VwWzBdLnRvVXBwZXJDYXNlKCkgKyBncm91cC5zbGljZSgxKX1gO1xuICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodChncm91cCk7XG59XG5cbi8qKlxuICogQHJldHVybnMgVGhlIGhpZ2hsaWdodCBtb2RlIGNob3NlbiBieSB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhpZ2hsaWdodFR5cGUgKCk6IEdyb3VwaW5nVHlwZSB7XG4gIGNvbnN0IGhpZ2hsaWdodFR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXR5cGUnKTtcbiAgcmV0dXJuIGhpZ2hsaWdodFR5cGUudGV4dENvbnRlbnQuc2xpY2UoMykudG9Mb3dlckNhc2UoKSBhcyBHcm91cGluZ1R5cGU7XG59XG5cbi8qKlxuICogU2V0IGNsaWNrIGxpc3RlbmVyIGZvciBlYWNoIGhpZ2hsaWdodCBkcm9wZG93biBvcHRpb25cbiAqIEBwYXJhbSBncm91cCAtIEdyb3VwaW5nVHlwZSAvIFRoZSBET00gZWxlbWVudCdzIGlkIGFzIGBoaWdobGlnaHQtJHtpZH1gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRIaWdobGlnaHRPcHRpb24gKGdyb3VwOiBHcm91cGluZ1R5cGUpOiB2b2lkIHtcbiAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGhpZ2hsaWdodC0ke2dyb3VwfWApO1xuICBvcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKGdyb3VwKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ2xpY2thd2F5IGxpc3RlbmVyIGZvciB0aGUgaGlnaGxpZ2h0IGRyb3Bkb3duLlxuICovXG5mdW5jdGlvbiBoaWdobGlnaHRDbGlja2F3YXkgKCk6IHZvaWQge1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlnaGxpZ2h0Q2xpY2thd2F5KTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1kcm9wZG93bicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xufVxuXG4vKipcbiAqIFNldCBsaXN0ZW5lciBvbiBzdGFmZiBoaWdobGlnaHRpbmcgY2hlY2tib3guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRIaWdobGlnaHRDb250cm9scyAoKTogdm9pZCB7XG4gIGNvbnN0IGRyb3Bkb3duID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1kcm9wZG93bicpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGRyb3Bkb3duLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgIGlmIChkcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlnaGxpZ2h0Q2xpY2thd2F5KTtcblxuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdjb2x1bW4nKTtcbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignc3RhZmYnKTtcbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignc3lsbGFibGUnKTtcbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignbmV1bWUnKTtcbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignbGF5ZXJFbGVtZW50Jyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ25vbmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZ2hsaWdodENsaWNrYXdheSk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gICogU2V0IGxpc3RlbmVyIG9uIGtleSBzaG9ydGN1dHMgZm9yIHN3aXRjaGluZyBiZXR3ZWVuIGhpZ2hsaWdodHNcbiAgKiBcbiAgKiBUaGUgY3VycmVudCBwbGFuIGlzIHRvIHVzZSB0aGUga2V5cyBxLCB3LCBlLCByLCB0LCBhbmQgeVxuICAqL1xuZnVuY3Rpb24gc2V0SGlnaGxpZ2h0S2V5Q29udHJvbHMgKCk6IHZvaWQge1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgLy8gUHJldmVudCBjbWQvY3RybCtyIGZyb20gY2hhbmdpbmcgaGlnaGxpZ2h0IG9wdGlvblxuICAgIGlmIChldnQubWV0YUtleSkgcmV0dXJuO1xuXG4gICAgc3dpdGNoIChldnQua2V5KSB7XG4gICAgICBjYXNlICdxJzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdzdGFmZicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3cnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ3N5bGxhYmxlJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbmV1bWUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyJzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdsYXllckVsZW1lbnQnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0JzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdzZWxlY3Rpb24nKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd5JzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdub25lJyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRIaWdobGlnaHRTZWxlY3Rpb25Db250cm9scyAoKTogdm9pZCB7XG4gIGNvbnN0IGhpZ2hsaWdodFNlbGVjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtc2VsZWN0aW9uJyk7XG4gIGhpZ2hsaWdodFNlbGVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmZvckVhY2goZWxlbSA9PiB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpO1xuICAgIH0pO1xuICAgIGhpZ2hsaWdodFNlbGVjdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXR5cGUnKS50ZXh0Q29udGVudCA9ICcgLSBTZWxlY3Rpb24nO1xuICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzZWxlY3Rpb24nKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmVzZXQgdGhlIGhpZ2hsaWdodCBmb3IgZGlmZmVyZW50IHR5cGVzIGJhc2VkIG9uIHRoZSAnaGlnaGxpZ2h0LXNlbGVjdGVkJyBjbGFzcyBpbiB0aGUgRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlSGlnaGxpZ2h0ICgpOiB2b2lkIHtcbiAgbGV0IGhpZ2hsaWdodElkOiBzdHJpbmc7XG4gIHRyeSB7XG4gICAgaGlnaGxpZ2h0SWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuaWQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBoaWdobGlnaHRJZCA9ICcnO1xuICB9XG4gIHN3aXRjaCAoaGlnaGxpZ2h0SWQpIHtcbiAgICBjYXNlICdoaWdobGlnaHQtY29sdW1uJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdjb2x1bW4nKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1zdGFmZic6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc3RhZmYnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1zeWxsYWJsZSc6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc3lsbGFibGUnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1uZXVtZSc6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnbmV1bWUnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1sYXllckVsZW1lbnQnOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ2xheWVyRWxlbWVudCcpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXNlbGVjdGlvbic6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc2VsZWN0aW9uJyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgQ29sb3IudW5zZXRHcm91cGluZ0hpZ2hsaWdodCgpO1xuICB9XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVyIG9uIGJ1cmdlciBtZW51IGZvciBzbWFsbGVyIHNjcmVlbnMuXG4gKi9cbmZ1bmN0aW9uIHNldEJ1cmdlckNvbnRyb2xzICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1cmdlck1lbnUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVyZ2VyTWVudScpLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXZNZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gIH0pO1xufVxuXG4vKiogXG4gKiBTZXQgbGlzdGVuZXIgZm9yIFwiRGlzcGxheSBBbGxcIiBidXR0b24gaW4gRGlzcGxheSBwYW5lbC5cbiovXG5mdW5jdGlvbiBzZXREaXNwbGF5QWxsTGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IHNlbGVjdEFsbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXNwbGF5LWFsbC1idG4nKTtcbiAgc2VsZWN0QWxsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIC8vIGF0IHRoZSBtb21lbnQsIGNsYXNzbmFtZSAnc2VsZWN0ZWQnIGlzIG9ubHkgdXNlZCBmb3IgdHJhY2tpbmcgcHVycG9zZXNcbiAgICBpZiAoc2VsZWN0QWxsQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgc2VsZWN0QWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICBzZWxlY3RBbGxCdG4uaW5uZXJIVE1MID0gJ0Rpc3BsYXkgQWxsJztcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94LWNvbnRhaW5lcjpub3QoW3N0eWxlKj1cImRpc3BsYXk6IG5vbmU7XCJdKSA+IC5jaGVja2JveCcpO1xuXG4gICAgICBBcnJheS5mcm9tKG9wdGlvbnMpLmZvckVhY2goKG9wdGlvbjogSFRNTElucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAob3B0aW9uLmNoZWNrZWQpIG9wdGlvbi5jbGljaygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc2VsZWN0QWxsQnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICBzZWxlY3RBbGxCdG4uaW5uZXJIVE1MID0gJ0hpZGUgQWxsJztcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94LWNvbnRhaW5lcjpub3QoW3N0eWxlKj1cImRpc3BsYXk6IG5vbmU7XCJdKSA+IC5jaGVja2JveCcpO1xuICAgICAgXG4gICAgICBBcnJheS5mcm9tKG9wdGlvbnMpLmZvckVhY2goKG9wdGlvbjogSFRNTElucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAoIW9wdGlvbi5jaGVja2VkKSBvcHRpb24uY2xpY2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKiBcbiAqIFVwZGF0ZSBgRGlzcGxheSBBbGxgIGJ1dHRvbiBzdGF0dXNcbiovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRGlzcGxheUFsbEJ0bigpOiB2b2lkIHtcbiAgY29uc3QgZGlzcGxheUFsbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWFsbC1idG4nKTtcbiAgY29uc3QgZGlzcGxheUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBkaXNwbGF5QkJveGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgZGlzcGxheVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheVRleHQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBkaXNwbGF5RXJyTG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktZXJyb3JzJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICAvLyBpZiBhbGwgb3B0aW9ucyBhcmUgc2VsZWN0ZWQsXG4gIC8vIHNldCBcIkRpc3BsYXkvSGlkZSBBbGxcIiBidXR0b24gdG8gXCJIaWRlIEFsbFwiLlxuICBpZiAoZGlzcGxheUluZm8/LmNoZWNrZWQgJiYgZGlzcGxheUJCb3hlcz8uY2hlY2tlZCAmJiBcbiAgICBkaXNwbGF5VGV4dD8uY2hlY2tlZCAmJiBkaXNwbGF5RXJyTG9nPy5jaGVja2VkKSB7XG4gICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0hpZGUgQWxsJztcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiBcIkRpc3BsYXkvSGlkZSBBbGxcIiBidXR0b24gaXMgaW4gXCJIaWRlIEFsbFwiIG1vZGUsIHNldCBpdCB0byBcIkRpc3BsYXkgQWxsXCIgbW9kZVxuICAgIGlmIChkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIExvYWQgaGlnaGxpZ2h0IHNldHRpbmdzIGZyb20gbG9jYWxTdG9yYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkSGlnaGxpZ2h0U2V0dGluZ3MgKCk6IHZvaWQge1xuICBjb25zdCB7IGhpZ2hsaWdodE1vZGUgfSA9IGdldFNldHRpbmdzKCk7XG4gIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbihoaWdobGlnaHRNb2RlKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGxpc3RlbmVycyBhbmQgY29udHJvbHMgZm9yIGRpc3BsYXkgcGFuZWwuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVpQ2xhc3NOYW1lIC0gVGhlIGNsYXNzIHVzZWQgdG8gc2lnbmlmaXkgdGhlIE1FSSBlbGVtZW50KHMpLlxuICogQHBhcmFtIHtzdHJpbmd9IGJhY2tncm91bmQgLSBUaGUgY2xhc3MgdXNlZCB0byBzaWduaWZ5IHRoZSBiYWNrZ3JvdW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdERpc3BsYXlDb250cm9scyAobWVpQ2xhc3NOYW1lOiBzdHJpbmcsIGJhY2tncm91bmQ6IHN0cmluZyk6IHZvaWQge1xuICBzZXRHbHlwaE9wYWNpdHlDb250cm9scyhtZWlDbGFzc05hbWUpO1xuICBzZXRCZ09wYWNpdHlDb250cm9scyhiYWNrZ3JvdW5kKTtcbiAgc2V0SGlnaGxpZ2h0Q29udHJvbHMoKTtcbiAgc2V0QnVyZ2VyQ29udHJvbHMoKTtcbiAgc2V0SGlnaGxpZ2h0S2V5Q29udHJvbHMoKTtcbiAgc2V0RGlzcGxheUFsbExpc3RlbmVyKCk7XG4gIGxvYWRIaWdobGlnaHRTZXR0aW5ncygpO1xuXG4gIGNvbnN0IGRpc3BsYXlDb250ZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5Q29udGVudHMnKTtcbiAgY29uc3QgdG9nZ2xlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGVEaXNwbGF5Jyk7XG4gIGNvbnN0IGRpc3BsYXlIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUhlYWRlcicpO1xuXG4gIGRpc3BsYXlIZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgLy8gaWYgZGlzcGxheSBwYW5lbCBpcyBjbG9zZWQsIG9wZW4gaXRcbiAgICBpZiAoZGlzcGxheUNvbnRlbnRzLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2VkJykpIHtcbiAgICAgIGRpc3BsYXlDb250ZW50cy5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZWQnKTtcbiAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzAuNWVtIDAuNzVlbSc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIHRvZ2dsZURpc3BsYXkuc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duYCk7XG4gICAgfSBcbiAgICAvLyBpZiBkaXNwbGF5IHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgZWxzZSB7XG4gICAgICBkaXNwbGF5Q29udGVudHMuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwcHgnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIHRvZ2dsZURpc3BsYXkuc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1zaWRlYCk7XG4gICAgfVxuICB9KTtcbn1cblxuIiwiaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IFNldFRleHRBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBNb2RhbFdpbmRvd0ludGVyZmFjZSB9IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgaG90a2V5c01vZGFsLCBlZGl0VGV4dE1vZGFsIH0gZnJvbSAnLi4vU3F1YXJlRWRpdC9Db250ZW50cyc7XG5pbXBvcnQgeyBuZXdGb2xkZXJIVE1MLCByZW5hbWVIVE1MLCB1cGxvYWRBcmVhSFRNTCB9IGZyb20gJy4uL0Rhc2hib2FyZC9EYXNoYm9hcmRDb250ZW50JztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuL0RyYWdIYW5kbGVyJztcbmltcG9ydCB7IHNlbGVjdEJCb3gsIHVuc2VsZWN0IH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5cblxuLyoqXG4gKiBEZWZpbmVzIG1vZGFsIHR5cGVzLlxuICogVG8gY3JlYXRlIG5ldyBtb2RhbCB3aW5kb3cgdHlwZXMsIGFkZCBlbnVtIG9wdGlvbiBhbmQgaW1wbGVtZW50IGxvZ2ljIGluc2lkZSBNb2RhbCBjbGFzcy5cbiAqL1xuZXhwb3J0IGVudW0gTW9kYWxXaW5kb3dWaWV3IHtcbiAgRURJVF9URVhULFxuICBIT1RLRVlTLFxuICBFUlJPUl9MT0csIC8vIGZvciB2YWxpZGF0aW9uIGVycm9ycyBhZ2FpbnN0IE1FSSBzY2hlbWEgYW5kIGludmFsaWQgZWxlbWVudCBlcnJvcnNcbiAgRE9DVU1FTlRfVVBMT0FELFxuICBNT1ZFX1RPLFxuICBORVdfRk9MREVSLFxuICBSRU5BTUVcbn1cblxuZW51bSBNb2RhbFdpbmRvd1N0YXRlIHtcbiAgT1BFTixcbiAgQ0xPU0VEXG59XG5cblxuXG4vKipcbiAqIE1vZGFsIGNsYXNzIGlzIHVzZWQgdG8gY3JlYXRlIGFuZCBjb250cm9sIHN0YXRlL2NvbnRlbnQgXG4gKiBvZiBtb2RhbCB3aW5kb3dzIGluIE5lb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RhbFdpbmRvdyBpbXBsZW1lbnRzIE1vZGFsV2luZG93SW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBtb2RhbFdpbmRvd1ZpZXc6IE1vZGFsV2luZG93VmlldzsgLy8gY3VycmVudCBtb2RhbCB0eXBlXG4gIHByaXZhdGUgbW9kYWxXaW5kb3dTdGF0ZTogTW9kYWxXaW5kb3dTdGF0ZTsgLy8gb3BlbiBvciBjbG9zZWQ/XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3OyAvLyBuZW9uVmlldyBpbnN0YW5jZSBjb250ZXh0XG5cblxuICAvKipcbiAgICogU2V0IG5lb25WaWV3IGluc3RhbmNlIGNvbnRleHQgZm9yIHRoaXMgbW9kYWwgd2luZG93IGluc3RhbmNlLlxuICAgKiBAcGFyYW0gbmVvblZpZXcgbmVvblZpZXcgY29udGV4dCBmb3IgTW9kYWwgaW5zdGFuY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldz86IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuQ0xPU0VEO1xuICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBldmVudCBsaXN0ZW5lcnMgdGhhdCBhcHBseSB0byBhbGwgbW9kYWwgd2luZG93c1xuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93LmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdycpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lci5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZvY3VzTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBhc3NvY2lhdGVkIHdpdGggdGhpcyBtb2RhbCB3aW5kb3dcbiAgICovXG4gIHByaXZhdGUgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWhlYWRlci1jbG9zZScpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyLmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZm9jdXNNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbW9kYWwgdmlldyBvZiB0aGlzIE1vZGFsIGluc3RhbmNlLlxuICAgKiBVcGRhdGUgdGhlIGNvbnRlbnQgYmFzZWQgb24gcGFzc2VkIHZpZXcuXG4gICAqIEBwYXJhbSB2aWV3IFR5cGUgb2YgbW9kYWwgdG8gb3BlbiAoTW9kYWxWaWV3IGVudW0pXG4gICAqL1xuICBzZXRNb2RhbFdpbmRvd1ZpZXcodmlldzogTW9kYWxXaW5kb3dWaWV3LCBjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1ZpZXcgPSB2aWV3O1xuICAgIHRoaXMuc2V0TW9kYWxXaW5kb3dDb250ZW50KGNvbnRlbnQpO1xuICB9XG5cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50IG1vZGFsIHZpZXcgYXMgYSBzdHJpbmdcbiAgICovXG4gIGdldE1vZGFsV2luZG93VmlldygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm1vZGFsV2luZG93Vmlldy50b1N0cmluZygpO1xuICB9XG5cblxuICAvKipcbiAgICogT3BlbiBhIG1vZGVsIHdpbmRvdyB3aXRoIGNvbnRlbnQgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IE1vZGFsVmlldy5cbiAgICovXG4gIG9wZW5Nb2RhbFdpbmRvdygpOiB2b2lkIHtcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG4gICAgc3dpdGNoKHRoaXMubW9kYWxXaW5kb3dWaWV3KSB7XG4gICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgdGhpcy5vcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdygpO1xuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5IT1RLRVlTOlxuICAgICAgICAvLyBzZXQgdXAgYW5kIGRpcGxheSBob3RrZXkgbW9kYWwgY29udGVudFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzJykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ET0NVTUVOVF9VUExPQUQ6XG4gICAgICAgIC8vIGFkZCBmdW5jdGlvbiB0byBwYWlyaW5nIGJ1dHRvblxuICAgICAgICAvLyBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTU9WRV9UTzpcbiAgICAgICAgXG4gICAgICAgIC8vIGJyZWFrO1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTkVXX0ZPTERFUjpcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuUkVOQU1FOlxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgdGhpcy5mb2N1c01vZGFsV2luZG93KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgdXNlciBjYW4ndCBzY3JvbGwgd2hlbiBtb2RhbCBpcyBvcGVuXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1ggPSAnaGlkZGVuJztcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nO1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuT1BFTjtcbiAgfVxuXG5cblxuICAvKipcbiAgICogSGlkZSB0aGUgTmVvbiBtb2RhbCB3aW5kb3dcbiAgICovXG4gIGhpZGVNb2RhbFdpbmRvdygpOiB2b2lkIHtcbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgY29uc3Qgc3BhbiA9ICg8SFRNTFNwYW5FbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnNlbGVjdGVkLXRvLWVkaXQnKVswXSk7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQtdG8tZWRpdCcpO1xuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ET0NVTUVOVF9VUExPQUQ6XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5NT1ZFX1RPOlxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTkVXX0ZPTERFUjpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlJFTkFNRTpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJykuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9IFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIC8vIHJlc2V0IHNjcm9sbCBiZWhhdmlvciBvZiBib2R5XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1ggPSAnaGlkZGVuJztcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuQ0xPU0VEO1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFNldCBjb250ZW50IG9mIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgcHJpdmF0ZSBzZXRNb2RhbFdpbmRvd0NvbnRlbnQoY29udGVudD86IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWhlYWRlci10aXRsZScpO1xuXG4gICAgc3dpdGNoICh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gZWRpdFRleHRNb2RhbDtcbiAgICAgICAgLy8gc2V0IG1vZGFsIHdpbmRvdyB0aXRsZVxuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnRURJVCBTWUxMQUJMRSBURVhUJztcblxuICAgICAgICAvLyBzcGFuIGFuZCBjdXJyZW50IHRleHQgb2Ygc2VsZWN0ZWQtdG8tZWRpdCBzeWxsYWJsZSBhbmQgZmlsdGVyIG91dCB1bndhbnRlZCBjaGFyc1xuICAgICAgICBjb25zdCBzcGFuID0gPEhUTUxTcGFuRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zZWxlY3RlZC10by1lZGl0JylbMF07XG4gICAgICAgIGNvbnN0IHJlbW92ZVN5bWJvbCA9IC9cXHV7MjVDQX0vdTtcbiAgICAgICAgY29uc3Qgb3JpZyA9IHNwYW4udGV4dENvbnRlbnQucmVwbGFjZShyZW1vdmVTeW1ib2wsICcnKS50cmltKCk7XG5cbiAgICAgICAgLy8gc2V0IHZhbHVlIG9mIGlucHV0IGZpZWxkIHRvIGN1cnJlbnQgc3lsbGFibGUgdGV4dFxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JykpKS52YWx1ZSA9IG9yaWc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5IT1RLRVlTOlxuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaG90a2V5c01vZGFsO1xuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnSE9US0VZUyc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5FUlJPUl9MT0c6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcbiAgICAgICAgICBgPGRpdiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDMwcHg7d2hpdGUtc3BhY2U6IHByZS1saW5lO1wiPiR7Y29udGVudH08L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctYnRuXCI+XG4gICAgICAgICAgICA8YSBocmVmPVwiZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUkkoY29udGVudCl9XCIgZG93bmxvYWQ9XCJlcnJvci5sb2dcIj5cbiAgICAgICAgICAgICAgRXhwb3J0XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnRVJST1IgTE9HJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ0RPQ1VNRU5UIFVQTE9BRCc7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSB1cGxvYWRBcmVhSFRNTDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk1PVkVfVE86XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdNT1ZFIFRPJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk5FV19GT0xERVI6XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdORVcgRk9MREVSJztcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IG5ld0ZvbGRlckhUTUw7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdSRU5BTUUnO1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gcmVuYW1lSFRNTDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Vua25vd24gc2VsZWN0aW9uIHR5cGUuIFRoaXMgc2hvdWxkIG5vdCBoYXZlIG9jY3VycmVkLicpO1xuICAgIH0gXG4gIH1cblxuXG4gIC8qKlxuICAgKiBGaWxsIG1vZGFsIHdpbmRvdyB3aXRoIGNvbnRlbnQgZm9yIHVwZGF0aW5nIHN5bGxhYmxlIHRleHRcbiAgICovXG4gIHByaXZhdGUgb3BlbkVkaXRTeWxUZXh0TW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCggKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHVwIEVkaXQgU3lsbGFibGUgVGV4dCBtb2RhbCB3aW5kb3dcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1lZGl0LXRleHQnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgXG4gICAgLy8gUmVzZXQgXCJDYW5jZWxcIiBidXR0b24gZXZlbnQgbGlzdGVuZXJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWNhbmNlbCcpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcblxuICAgIC8vIFJlc2V0IFwiU2F2ZVwiIGJ1dHRvbiBldmVudCBsaXN0ZW5lclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtc2F2ZScpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy51cGRhdGVTeWxUZXh0LmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtc2F2ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy51cGRhdGVTeWxUZXh0LmJpbmQodGhpcykpO1xuXG4gICAgLy8gZGlzcGxheSBtb2RhbCB3aW5kb3dcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRleHQgb2Ygc2VsZWN0ZWQtdG8tZWRpdCBzeWxsYWJsZXMgd2l0aCB1c2VyLXByb3ZpZGVkIHRleHRcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlU3lsVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBzcGFuIGFuZCBjdXJyZW50IHRleHQgb2Ygc2VsZWN0ZWQtdG8tZWRpdCBzeWxsYWJsZSBhbmQgZmlsdGVyIG91dCB1bndhbnRlZCBjaGFyc1xuICAgIGNvbnN0IHNwYW4gPSA8SFRNTFNwYW5FbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnNlbGVjdGVkLXRvLWVkaXQnKVswXTtcbiAgICBjb25zdCByZW1vdmVTeW1ib2wgPSAvXFx1ezI1Q0F9L3U7XG4gICAgY29uc3Qgb3JpZyA9IHNwYW4udGV4dENvbnRlbnQucmVwbGFjZShyZW1vdmVTeW1ib2wsICcnKS50cmltKCk7XG4gICAgY29uc3QgdXBkYXRlZFN5bFRleHQgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkudmFsdWU7XG5cbiAgICBpZiAodXBkYXRlZFN5bFRleHQgIT09IG51bGwgJiYgdXBkYXRlZFN5bFRleHQgIT09IG9yaWcpIHtcbiAgICAgIC8vIGNyZWF0ZSBcInNldCB0ZXh0XCIgYWN0aW9uXG4gICAgICBjb25zdCBlbGVtZW50SWQgPSBbLi4uc3Bhbi5jbGFzc0xpc3QuZW50cmllcygpXS5maWx0ZXIoKGNsYXNzTmFtZSkgPT4gY2xhc3NOYW1lWzFdICE9PSAndGV4dC1zZWxlY3QnICYmIGNsYXNzTmFtZVsxXSAhPT0gJ3NlbGVjdGVkLXRvLWVkaXQnKVswXVsxXTtcbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogU2V0VGV4dEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWQsXG4gICAgICAgICAgdGV4dDogdXBkYXRlZFN5bFRleHQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgLy8gc2VuZCBhY3Rpb24gdG8gdmVyb3ZpbyBmb3IgcHJvY2Vzc2luZ1xuICAgICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3BvbnNlOiBib29sZWFuKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgU1ZHXG4gICAgICAgICAgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gQW4gdXBkYXRlIHRvIHRoZSBwYWdlIHdpbGwgcmVsb2FkIHRoZSBlbnRpcmUgc3ZnO1xuICAgICAgICAgICAgLy8gV2Ugd291bGQgbGlrZSB0byB0aGVuIHJlc2VsZWN0IHRoZSBzYW1lIHNlbGVjdGVkIHN5bGxhYmxlXG4gICAgICAgICAgICAvLyBpZiBiYm94ZXMgYXJlIGVuYWJsZWRcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRCQm94KHNwYW4sIHRoaXMuZHJhZ0hhbmRsZXIsIHRoaXMubmVvblZpZXcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmVzZWxlY3QgaWYgbm8gY2hhbmdlIGlzIG1hZGVcbiAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRCQm94KHNwYW4sIHRoaXMuZHJhZ0hhbmRsZXIsIHRoaXMubmVvblZpZXcpO1xuICAgIH1cbiAgICAvLyBjbG9zZSBtb2RhbCB3aW5kb3dcbiAgICB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIGJveCBzZWxlY3RlZCB3aGVuIHRoZSBlZGl0IHRleHQgbW9kYWwgaGFzIGJlZW4gY2xpY2tlZCBcbiAgKi9cbiAgdXBkYXRlU2VsZWN0ZWRCQm94IChzcGFuOiBIVE1MU3BhbkVsZW1lbnQsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlciwgbmVvblZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gICAgdW5zZWxlY3QoKTtcblxuICAgIGNvbnN0IGJib3hJZCA9IEFycmF5LmZyb20oc3Bhbi5jbGFzc0xpc3QpLmZpbmQoZSA9PiBlICE9PSAndGV4dC1zZWxlY3QnICYmIGUgIT09ICdzZWxlY3RlZC10by1lZGl0Jyk7XG5cbiAgICBpZiAoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYm94SWQpKSB7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmJveElkKS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgc2VsZWN0QkJveChkaXNwbGF5UmVjdCwgZHJhZ0hhbmRsZXIsIG5lb25WaWV3KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBGaWxsIG1vZGFsIHdpbmRvdyB3aXRoIGhvdGtleSBpbmZvIGNvbnRlbnRcbiAgICovXG4gIC8qXG4gIHByaXZhdGUgb3BlbkhvdGtleU1vZGFsV2luZG93ID0gZnVuY3Rpb24oKSB7ICAgXG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50JykpLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHVwIGFuZCBkaXBsYXkgaG90a2V5IG1vZGFsIGNvbnRlbnRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzJykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5mb2N1c01vZGFsV2luZG93KCk7XG4gIH07XG4gICovXG5cblxuICAvKipcbiAgICogRGVmaW5lIGV2ZW50IGxpc3RlbmVycyBmb3IgbW9kYWwgd2luZG93IGJhc2VkIG9uIG1vZGFsVmlldyB0eXBlXG4gICAqL1xuICBwcml2YXRlIGtleWRvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOyAvLyBwcmV2ZW50IE5lb24gaG90a2V5IGV2ZW50cyBmcm9tIGZpcmluZyB3aGVuIHVzZXIgaXMgdHlwaW5nXG5cbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB0aGlzLnVwZGF0ZVN5bFRleHQoKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykgdGhpcy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICB9ICBcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBFdmVudCBsaXN0ZW5lciB0aGF0IGZvY3VzZXMgdGhlIG1vZGFsIHdpbmRvdyBpZiB1c2VyIGNsaWNrcyBhbnl3aGVyZSBvdXRzaWRlIG9mIGl0XG4gICAqL1xuICBwcml2YXRlIGZvY3VzTW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JykpLnNlbGVjdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk5FV19GT0xERVI6XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbn1cbiIsImltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0ICogYXMgR3JvdXBpbmcgZnJvbSAnLi9Hcm91cGluZyc7XG5pbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXRTdGFmZkhhbmRsZXIgfSBmcm9tICcuL1N0YWZmVG9vbHMnO1xuaW1wb3J0IHsgU3BsaXROZXVtZUhhbmRsZXIgfSBmcm9tICcuL05ldW1lVG9vbHMnO1xuaW1wb3J0IHtcbiAgQ2hhaW5BY3Rpb24sXG4gIENoYW5nZVN0YWZmQWN0aW9uLFxuICBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24sXG4gIEVkaXRvckFjdGlvbixcbiAgTWF0Y2hIZWlnaHRBY3Rpb24sXG4gIFJlbW92ZUFjdGlvbixcbiAgU2V0QWN0aW9uLFxuICBTZXRDbGVmQWN0aW9uLFxuICBTZXRMaXF1ZXNjZW50QWN0aW9uXG59IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGdldFN0YWZmQkJveCB9IGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcblxuLyoqXG4gKiBUaGUgTmVvblZpZXcgcGFyZW50IHRvIGNhbGwgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBOZW9uVmlldy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROZW9uVmlldyAodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xuICBHcm91cGluZy5pbml0TmVvblZpZXcodmlldyk7XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGluY2xpbmF0dW0gcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRJbmNsaW5hdHVtQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIHZpcmdhIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0VmlyZ2FBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgcmV2ZXJzZWQgdmlyZ2EgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGxpcXVlc2NlbnRfY2xvY2t3aXNlIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAnY3VydmUnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgbGlxdWVzY2VudF9hbnRpY2xvY2t3aXNlIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRMaXF1ZXNjZW50QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXRMaXF1ZXNjZW50JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGN1cnZlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqIEV2ZW50IGhhbmRsZXIgZm9yIGRlbGV0ZSBidXR0b24gcHJlc3MuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlQnV0dG9uSGFuZGxlciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmIChldnQua2V5ID09PSAnZCcgfHwgZXZ0LmtleSA9PT0gJ0JhY2tzcGFjZScpIHsgcmVtb3ZlSGFuZGxlcigpOyBldnQucHJldmVudERlZmF1bHQoKTsgfVxufVxuXG4vKipcbiAqIEVuZCB0aGUgZXh0cmEgb3B0aW9ucyBtZW51LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kT3B0aW9uc1NlbGVjdGlvbiAoKTogdm9pZCB7XG4gIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gIGNvbnN0IGV4dHJhRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKTtcbiAgaWYgKG1vcmVFZGl0KSB7XG4gICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgfVxuICBpZiAoZXh0cmFFZGl0KSB7XG4gICAgZXh0cmFFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgIGV4dHJhRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xufVxuXG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIHJlbW92aW5nIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVIYW5kbGVyICgpOiB2b2lkIHtcbiAgY29uc3QgdG9SZW1vdmU6IFJlbW92ZUFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICBlbGVtID0gZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKTtcbiAgICB9XG4gICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpKSB7XG4gICAgICBlbGVtID0gZWxlbS5jbG9zZXN0KCcuYWNjaWQnKTtcbiAgICB9XG4gICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5kaXZMaW5lJyk7XG4gICAgfVxuICAgIHRvUmVtb3ZlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ3JlbW92ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9SZW1vdmVcbiAgfTtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4geyBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgcmUtYXNzb2NpYXRpbmcgZWxlbWVudHMgdG8gdGhlIG5lYXJlc3Qgc3RhZmZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVN0YWZmSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgdG9DaGFuZ2U6IENoYW5nZVN0YWZmQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIHRvQ2hhbmdlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ2NoYW5nZVN0YWZmJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9DaGFuZ2VcbiAgfTtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4geyBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgaW5zZXJ0aW5nIGRpdmlzaW8gb3IgYWNjaWRlbnRhbCBpbnRvIG5lYXJlc3Qgc3lsbGFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFRvU3lsbGFibGVIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b0luc2VydDogRWRpdG9yQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIHRvSW5zZXJ0LnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ2luc2VydFRvU3lsbGFibGUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvSW5zZXJ0XG4gIH07XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSW5zZXJ0IFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0luc2VydCBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIG1vdmluZyBkaXZpc2lvIG9yIGFjY2lkZW50YWwgb3V0IG9mIHN5bGxhYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgdG9Nb3ZlOiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9Nb3ZlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ21vdmVPdXRzaWRlU3lsbGFibGUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvTW92ZVxuICB9O1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4geyBcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01vdmUgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTW92ZSBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gbWF0Y2ggYmJveCBoZWlnaHQgdG8gdGhlIHNlbGVjdGVkIGJib3hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoSGVpZ2h0SGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBpZiAoc2VsZWN0ZWQubGVuZ3RoID4gMSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2Fubm90IG1hdGNoIGhlaWdodCB0byBtdWx0aXBsZSBiYm94JywgJ2Vycm9yJyk7XG4gIH1cbiAgY29uc3QgdG9DaGFuZ2U6IE1hdGNoSGVpZ2h0QWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ21hdGNoSGVpZ2h0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBzZWxlY3RlZFswXS5pZFxuICAgIH1cbiAgfTtcblxuICBuZW9uVmlldy5lZGl0KHRvQ2hhbmdlLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4geyBcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0hlaWdodCBNYXRjaCBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdIZWlnaHQgTWF0Y2ggRmFpbGVkIFhvWCcsICdlcnJvcicpO1xuICAgIH1cbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGREZWxldGVMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3QgZGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZScpO1xuXG4gIGlmIChkZWwpIHtcbiAgICBkZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcblxuICAgIC8vIFRPRE86IHNob3VsZCB0aGlzIGJlIG91dHNpZGUgdGhlIGlmIGNvbmRpdGlvbj9cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3QgY2hhbmdlU3RhZmYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbmdlU3RhZmYnKTtcbiAgY2hhbmdlU3RhZmY/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgY2hhbmdlU3RhZmY/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlU3RhZmZIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGlucHV0XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUNvbHVtbkluZm8oKTogdm9pZCB7XG4gIGNvbnN0IGNvbElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IHN0YXZlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZi5zZWxlY3RlZCcpO1xuICBsZXQgY29sSW5mbzogbnVtYmVyO1xuICBmb3IgKGNvbnN0IHN0YWZmIG9mIHN0YXZlcykge1xuICAgIGNvbnN0IGhhc0NvbHVtbiA9IEFycmF5LmZyb20oc3RhZmYuY2xhc3NMaXN0KS5qb2luKCcgJykubWF0Y2goL1xcYmNvbHVtbihcXGQrKVxcYi8pO1xuICAgIGlmIChoYXNDb2x1bW4pIHtcbiAgICAgIGNvbnN0IHN0YWZmQ29sID0gcGFyc2VJbnQoaGFzQ29sdW1uWzFdLCAxMCk7XG4gICAgICBpZiAoY29sSW5mbyAmJiBjb2xJbmZvICE9IHN0YWZmQ29sKSB7XG4gICAgICAgIGNvbnN0IHdhcm5pbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLXdhcm5pbmcnKTtcbiAgICAgICAgd2FybmluZy5pbm5lclRleHQgPSAnVGhlIHNlbGVjdGVkIHN0YXZlcyBhcmUgbm90IG9mIHRoZSBzYW1lIGNvbHVtbiEnO1xuICAgICAgICBjb2xJbmZvID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb2xJbmZvID0gc3RhZmZDb2w7XG4gICAgICB9XG4gICAgfVxuICB9IFxuICBpZiAoY29sSW5mbykgY29sSW5wdXQudmFsdWUgPSBjb2xJbmZvLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogQWRkIGNvbHVtbiBpbmZvIGVkaXQgaGFuZGxlciBmb3IgY29sdW1uIGluZm8gZWRpdG9yXG4gKi9cbmZ1bmN0aW9uIGFkZENvbHVtbkluZm9TdGVwSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgZGVjcmVtZW50QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1kZWNyZW1lbnQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgaW5jcmVtZW50QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1pbmNyZW1lbnQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2wtY29uZmlybScpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBjb25zdCBjb2xJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2wtaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIGRlY3JlbWVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB1cGRhdGVOdW1iZXIoLTEpO1xuICB9KTtcblxuICBpbmNyZW1lbnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdXBkYXRlTnVtYmVyKDEpO1xuICB9KTtcblxuICAvLyBBZGQgY29sdW1uIGluZm8gZWRpdCBoYW5kbGVyXG4gIGNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdG9TZXRDb2x1bW46IEVkaXRvckFjdGlvbltdID0gW107XG4gICAgY29uc3Qgc3RhdmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmLnNlbGVjdGVkJyk7XG4gICAgc3RhdmVzLmZvckVhY2goc3RhZmYgPT4ge1xuICAgICAgdG9TZXRDb2x1bW4ucHVzaChcbiAgICAgICAge1xuICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgIGVsZW1lbnRJZDogc3RhZmYuaWQsXG4gICAgICAgICAgICBhdHRyVHlwZTogJ3R5cGUnLFxuICAgICAgICAgICAgYXR0clZhbHVlOiAnY29sdW1uJyArIGNvbElucHV0LnZhbHVlLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICBwYXJhbTogdG9TZXRDb2x1bW5cbiAgICB9O1xuICAgIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NvbHVtbiBWYWx1ZSBVcGRhdGUgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NvbHVtbiBWYWx1ZSBVcGRhdGUgRmFpbGVkIFhvWCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgXG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZnVuY3Rpb24gdXBkYXRlTnVtYmVyKGNoYW5nZTogbnVtYmVyKSB7XG4gICAgY29uc3QgbWluTnVtID0gMTtcbiAgICBjb25zdCBtYXhOdW0gPSA1O1xuICAgIGxldCBjdXJyZW50VmFsdWUgPSBwYXJzZUludChjb2xJbnB1dC52YWx1ZSwgMTApIHx8IDA7XG4gICAgY3VycmVudFZhbHVlICs9IGNoYW5nZTtcblxuICAgIGN1cnJlbnRWYWx1ZSA9IE1hdGgubWluKE1hdGgubWF4KGN1cnJlbnRWYWx1ZSwgbWluTnVtKSwgbWF4TnVtKTtcbiAgICBpZiAoY3VycmVudFZhbHVlLnRvU3RyaW5nKCkgIT0gY29sSW5wdXQudmFsdWUpIGNvbmZpcm1CdXR0b24uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIGNvbElucHV0LnZhbHVlID0gY3VycmVudFZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBzZXQgdGhlIEhUTUwgY29udGVudCBvZiBlZGl0IGNvbnRyb2xzOiBlaXRoZXIgI21vcmVFZGl0IG9yICNleHRyYUVkaXRcbiAqXG4gKiBAcGFyYW0geydtb3JlRWRpdCcgfCAnZXh0cmFFZGl0J30gZWRpdFR5cGUgLSBUaGUgdHlwZSBvZiBlZGl0IGNvbnRyb2xzXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudHMgLSBUaGUgaW5uZXJIVE1MIGNvbnRlbnRzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJlcGxhY2UgLSBJcyB0aGUgaW5uZXJIVE1MIGJlaW5nIHJlcGxhY2VkLCBvciBiZWluZyBhZGRlZCB0bz9cbiAqL1xuZnVuY3Rpb24gc2V0RWRpdENvbnRyb2xzKGVkaXRUeXBlOiAnbW9yZUVkaXQnIHwgJ2V4dHJhRWRpdCcsIGNvbnRlbnRzOiBzdHJpbmcsIHJlcGxhY2UgPSB0cnVlKTogdm9pZCB7XG4gIGNvbnN0IGVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlZGl0VHlwZSk7XG4gIFxuICBpZiAoZWRpdCkge1xuICAgIGVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAocmVwbGFjZSkgZWRpdC5pbm5lckhUTUwgPSBjb250ZW50cztcbiAgICBlbHNlIGVkaXQuaW5uZXJIVE1MICs9IGNvbnRlbnRzO1xuICB9XG59XG5cbi8qKlxuICogVHJpZ2dlciB0aGUgZXh0cmEgbmMgYWN0aW9uIG1lbnUgZm9yIGEgc2VsZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck5jQWN0aW9ucyAobmM6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMubmNBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1B1bmN0dW0uZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNJbmNsaW5hdHVtLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0SW5jbGluYXR1bTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdzZSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRJbmNsaW5hdHVtIF0gfSAsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNWaXJnYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRWaXJnYTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdzJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldEluY2xpbmF0dW0sIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSwgc2V0VmlyZ2EgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVmlyZ2FSZXZlcnNlZC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldFZpcmdhUmV2ZXJzZWQ6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRWaXJnYVJldmVyc2VkIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0xpcXVlc2NlbnRDbG9ja3dpc2UuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlOiBTZXRMaXF1ZXNjZW50QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRMaXF1ZXNjZW50JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGN1cnZlOiAnYydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7ICBcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjTGlxdWVzY2VudEFudGljbG9ja3dpc2UuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2U6IFNldExpcXVlc2NlbnRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldExpcXVlc2NlbnQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgY3VydmU6ICdhJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTsgIFxuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBuZXVtZSBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck5ldW1lQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLm5ldW1lQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGNvbnN0IG5ldW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJyk7XG4gIGlmIChuZXVtZS5sZW5ndGggIT09IDEpIHtcbiAgICBjb25zb2xlLndhcm4oJ01vcmUgdGhhbiBvbmUgbmV1bWUgc2VsZWN0ZWQhIENhbm5vdCB0cmlnZ2VyIE5ldW1lIENsaWNrU2VsZWN0IGFjdGlvbnMuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVE9ETyBhZGQgdHJpZ2dlciBmb3Igc3BsaXQgYWN0aW9uXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGxpdC1uZXVtZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV1bWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV1bWUuc2VsZWN0ZWQnKSBhcyBTVkdHRWxlbWVudDtcbiAgICAgIGlmIChuZXVtZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBzcGxpdCA9IG5ldyBTcGxpdE5ldW1lSGFuZGxlcihuZW9uVmlldywgbmV1bWUpO1xuICAgICAgICBzcGxpdC5zdGFydFNwbGl0KCk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCEnKTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQZXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQZXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpdmlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzRmxleHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzU3VicHVuY3Rpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NsaW1hY3VzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpbWFjdXNSZXN1cGludXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNUb3JjdWx1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1RvcmN1bHVzUmVzdXBpbnVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzRmxleHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzU3VicHVuY3Rpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1ByZXNzdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG5cbiAgZnVuY3Rpb24gdHJpZ2dlckNoYW5nZUdyb3VwIChjb250b3VyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBjaGFuZ2VHcm91cGluZ0FjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnY2hhbmdlR3JvdXAnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBuZXVtZVswXS5pZCxcbiAgICAgICAgY29udG91cjogY29udG91clxuICAgICAgfVxuICAgIH07XG4gICAgbmVvblZpZXcuZWRpdChjaGFuZ2VHcm91cGluZ0FjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIHN5bGxhYmxlIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyU3lsbGFibGVBY3Rpb25zIChzZWxlY3Rpb25UeXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5zeWxsYWJsZUFjdGlvbnNDb250ZW50KTtcbiAgLy8gaW5pdGlhbGl6ZSB2YXJpYWJsZSB0aGF0IHdpbGwgaG9sZCBodG1sIHRvIGJlIGFkZGVkIHRvIERpc3BsYXkgcGFuZWxcbiAgbGV0IGV4dHJhQWN0aW9uc0hUTUwgPSAnJztcblxuICAvLyBkZXRlcm1pbmUgdGhlIHR5cGUgb2Ygc2VsZWN0aW9uIHRoYXQgd2FzIG1hZGUgYnkgdGhlIHVzZXJcbiAgc3dpdGNoKHNlbGVjdGlvblR5cGUpIHtcbiAgICAvLyBvbmx5IG9uZSBzeWxsYWJsZVxuICAgIGNhc2UgJ3NpbmdsZVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOZXVtZXNcIj5Vbmdyb3VwPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gdHdvIHN5bGxhYmxlcyBvbiBzZXBhcmF0ZSBzdGF2ZXNcbiAgICBjYXNlICdsaW5rYWJsZVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saW5rXCI+VG9nZ2xlIExpbmtlZCBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyB0b3cgb3IgbW9yZSBzeWxsYWJsZXMgb24gb25lIHN0YWZmXG4gICAgY2FzZSAnbXVsdGlTZWxlY3QnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvL2RlZmF1bHQgb3B0aW9uc1xuICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gIH1cblxuICAvLyBzZXQgY29udGVudCBvZiBhZGRpdGlvbmFsIGFjdGlvbnMgaW4gRGlzcGxheSBwYW5lbCBcbiAgLy8gYW5kIGluaXRpYWxpemUgbmVjZXNzYXJ5IGxpc3RlbmVyc1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgZXh0cmFBY3Rpb25zSFRNTCwgdHJ1ZSk7XG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG59XG5cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIGxheWVyIGVsZW1lbnQgKGFjY2lkLCBkaXZMaW5lLCBjdXN0b3MsIGNsZWYpIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyAoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2N1c3RvcycpKSB7XG4gICAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmN1c3Rvc0FjdGlvbkNvbnRlbnRzKTtcbiAgICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gICAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICAgIHJldHVybjtcbiAgfVxuICBcbiAgY29uc3QgcGFyZW50SXNTeWxsYWJsZSA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJyk7XG4gIGNvbnN0IGxheWVyRWxlbWVudEFjdGlvbnMgPSBwYXJlbnRJc1N5bGxhYmxlXG4gICAgPyBDb250ZW50cy5sYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzXG4gICAgOiBDb250ZW50cy5sYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cztcbiAgXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBsYXllckVsZW1lbnRBY3Rpb25zLCBmYWxzZSk7XG4gIFxuICAvLyBleHRyYSBhY3Rpb25zIGZvciBhY2NpZCBhbmQgZGl2TGluZVxuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmFjY2lkQWN0aW9uQ29udGVudHMpO1xuICAgIGFjY2lkT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQpO1xuICB9XG4gIGVsc2UgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmNsZWZBY3Rpb25Db250ZW50cyk7XG4gICAgY2xlZk9wdGlvbnNMaXN0ZW5lcihlbGVtZW50KTtcbiAgfVxuICBlbHNlIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKSB7XG4gICAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5kaXZMaW5lQWN0aW9uQ29udGVudHMpO1xuICAgIGRpdkxpbmVPcHRpb25zTGlzdGVuZXIoZWxlbWVudCk7XG4gIH1cbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0VG9TeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGluc2VydFRvU3lsbGFibGVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmVPdXRzaWRlU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcik7XG5cbiBcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRUb1N5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92ZU91dHNpZGVTeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKTtcbn1cblxuZnVuY3Rpb24gYWNjaWRPcHRpb25zTGlzdGVuZXIoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb0ZsYXQuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2hhbmdlVG9GbGF0OiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnYWNjaWQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2YnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKGNoYW5nZVRvRmxhdCk7XG4gICAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb05hdHVyYWwuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2hhbmdlVG9OYXR1cmFsOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnYWNjaWQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ24nXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKGNoYW5nZVRvTmF0dXJhbCk7XG4gICAgfSk7XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcblxufVxuXG5mdW5jdGlvbiBjbGVmT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQ6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5jcmVtZW50LW9jdGF2ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5jcmVtZW50T2N0YXZlOiBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ2Rpc3BsYWNlQ2xlZk9jdGF2ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2Fib3ZlJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBuZW9uVmlldy5lZGl0KGluY3JlbWVudE9jdGF2ZSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xlZiBvY3RhdmUgaW5jcmVtZW50ZWQuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01heGltdW0gb2N0YXZlIGRpc3BsYWNlbWVudCByZWFjaGVkLiBDbGVmIGNhbiBvbmx5IGJlIGRpc3BsYWNlZCB1cCB0byAzIG9jdGF2ZXMuJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RlY3JlbWVudC1vY3RhdmUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGluY3JlbWVudE9jdGF2ZTogRGlzcGxhY2VDbGVmT2N0YXZlQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdkaXNwbGFjZUNsZWZPY3RhdmUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBkaXJlY3Rpb246ICdiZWxvdydcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChpbmNyZW1lbnRPY3RhdmUsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsZWYgb2N0YXZlIGRlY3JlbWVudGVkLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNYXhpbXVtIG9jdGF2ZSBkaXNwbGFjZW1lbnQgcmVhY2hlZC4gQ2xlZiBjYW4gb25seSBiZSBkaXNwbGFjZWQgdXAgdG8gMyBvY3RhdmVzLicsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDQ2xlZi5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXRDQ2xlZjogU2V0Q2xlZkFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0Q2xlZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHNoYXBlOiAnQydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oc2V0Q0NsZWYpO1xuICAgIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjRkNsZWYuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2V0RkNsZWY6IFNldENsZWZBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldENsZWYnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBzaGFwZTogJ0YnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKHNldEZDbGVmKTtcbiAgICB9KTtcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG5mdW5jdGlvbiBkaXZMaW5lT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQ6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9NaW5pbWEuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgQ2hhbmdlVG9NaW5pbWE6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdtaW5pbWEnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvTWluaW1hKTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9NYWlvci5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb01haW9yOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbWFpb3InXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvTWFpb3IpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb01heGltYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb01heGltYTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ21heGltYSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9NYXhpbWEpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb0ZpbmFsaXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgQ2hhbmdlVG9GaW5hbGlzOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnZmluYWxpcydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9GaW5hbGlzKTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9DYWVzdXJhLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvQ2Flc3VyYTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2NhZXN1cmEnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvQ2Flc3VyYSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvVmlyZ3VsYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb1Zpcmd1bGE6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICd2aXJndWxhJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihDaGFuZ2VUb1Zpcmd1bGEpO1xuICAgIH0pO1xuICAgIFxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFBhcnNlIGFjdGlvbnMgcmVnYXJkaW5nIHNoYXBlIGNoYW5nZXMgdG8gZWRpdG9yIGFjdGlvblxuICovXG5mdW5jdGlvbiBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKGFjdGlvbjogU2V0QWN0aW9uIHwgU2V0Q2xlZkFjdGlvbikge1xuICBuZW9uVmlldy5lZGl0KGFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgc3RhZmYgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnN0YWZmTWVyZ2VBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuY29sdW1uQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIC8vIENvbHVtbiBpbmZvIGVkaXRvclxuICB1cGRhdGVDb2x1bW5JbmZvKCk7XG4gIGFkZENvbHVtbkluZm9TdGVwSGFuZGxlcigpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXJnZS1zeXN0ZW1zJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgR3JvdXBpbmcubWVyZ2VTdGF2ZXMoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogRW50ZXIgc3RhZmYgc3BsaXR0aW5nIG1vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTdGFmZlNwbGl0TW9kZSAoKTogdm9pZCB7XG4gIGNvbnN0IHN0YWZmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YWZmLnNlbGVjdGVkJykgYXMgU1ZHR0VsZW1lbnQ7XG4gIGlmIChzdGFmZiAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHNwbGl0ID0gbmV3IFNwbGl0U3RhZmZIYW5kbGVyKG5lb25WaWV3LCBzdGFmZik7XG4gICAgc3BsaXQuc3RhcnRTcGxpdCgpO1xuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKCdObyBzdGFmZiB3YXMgc2VsZWN0ZWQhJyk7XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9XG59XG5cbi8qKlxuICogVHJpZ2dlciBzcGxpdCBzdGFmZiBvcHRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTaW5nbGVTdGFmZkFjdGlvbnMgKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5zdGFmZlNwbGl0QWN0aW9uQ29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmNvbHVtbkFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICAvLyBDb2x1bW4gaW5mbyBlZGl0b3JcbiAgdXBkYXRlQ29sdW1uSW5mbygpO1xuICBhZGRDb2x1bW5JbmZvU3RlcEhhbmRsZXIoKTtcblxuICAvLyBBZGQgdHJpZ2dlciBmb3Igc3BsaXQgYWN0aW9uXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGxpdC1zeXN0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRyaWdnZXJTdGFmZlNwbGl0TW9kZSgpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC1yb3RhdGUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWZmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YWZmLnNlbGVjdGVkJykgYXMgU1ZHRWxlbWVudDtcbiAgICAgIC8vIFVudXNlZCB2YXJpYWJsZXM6XG4gICAgICAvLyBjb25zdCByZWN0ID0gc3RhZmYucXVlcnlTZWxlY3RvcignI3Jlc2l6ZVJlY3QnKTtcbiAgICAgIC8vIGNvbnN0IGNvID0gcmVjdC5nZXRBdHRyaWJ1dGUoJ3BvaW50cycpLnNwbGl0KCcgJyk7XG4gICAgICAvLyBjb25zdCBkeSA9IHBhcnNlSW50KGNvWzBdLnNwbGl0KCcsJylbMV0pIC0gcGFyc2VJbnQoY29bMV0uc3BsaXQoJywnKVsxXSk7XG4gICAgICBjb25zdCBwb2ludHMgPSBnZXRTdGFmZkJCb3goc3RhZmYgYXMgU1ZHR0VsZW1lbnQpO1xuICAgICAgY29uc3QgeV9jaGFuZ2UgPSBNYXRoLnRhbihwb2ludHMucm90YXRlKSoocG9pbnRzLmxyeCAtIHBvaW50cy51bHgpO1xuICAgICAgaWYgKHN0YWZmICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgIGFjdGlvbjogJ3Jlc2l6ZVJvdGF0ZScsXG4gICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgIGVsZW1lbnRJZDogc3RhZmYuaWQsXG4gICAgICAgICAgICB1bHg6IHBvaW50cy51bHgsXG4gICAgICAgICAgICB1bHk6IHBvaW50cy5yb3RhdGUgPiAwID8gcG9pbnRzLnVseSArIHlfY2hhbmdlLzIgOiBwb2ludHMudWx5IC0geV9jaGFuZ2UvMixcbiAgICAgICAgICAgIGxyeDogcG9pbnRzLmxyeCxcbiAgICAgICAgICAgIGxyeTogcG9pbnRzLnJvdGF0ZSA+IDAgPyBwb2ludHMubHJ5IC0geV9jaGFuZ2UvMiA6IHBvaW50cy5scnkgKyB5X2NoYW5nZS8yLFxuICAgICAgICAgICAgcm90YXRlOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCcpO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBiYm94IG9wdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJCQm94QWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmJib3hBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXRjaEhlaWdodCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG1hdGNoSGVpZ2h0SGFuZGxlcigpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGRlZmF1bHQgYWN0aW9ucyB3aGVuIHNlbGVjdGluZyBieSBzeWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJEZWZhdWx0U3lsQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGRlZmF1bHQgc2VsZWN0aW9uIG9wdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJEZWZhdWx0QWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBleHRyYSBkcm9wZG93biBvcHRpb25zOlxuICogTGlzdGVuIHRvIGNsaWNrcyBvbiBkcm9wZG93bnNcbiAqL1xuZnVuY3Rpb24gaW5pdE9wdGlvbnNMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9zZWxlY3QnKVxuICAgIC5mb3JFYWNoKFxuICAgICAgZHJvcCA9PiB7XG4gICAgICAgIC8vIFdoZW4gYW55dGhpbmcgdGhhdCBpcyBub3QgdGhlIGRyb3Bkb3duIGlzIGNsaWNrZWQgYXdheSwgdGhlIGRyb3Bkb3duXG4gICAgICAgIC8vIHNob3VsZCBsb3NlIGl0cyB2aXNpYmlsaXR5XG4gICAgICAgIGNvbnN0IG9wdGlvbnNDbGlja2F3YXkgPSAoKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdGlvbnNDbGlja2F3YXkpO1xuICAgICAgICAgIGRyb3AuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZHJvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgICAgICAvLyBUb2dnbGUgdmlzaWJpbGl0eSBvZiBkcm9wZG93blxuICAgICAgICAgIGRyb3AuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgdmlzaWJpbGl0eSBvZiBvdGhlciBkcm9wZG93bnMgd2hlbiB0aGlzIG9uZSBpcyBjbGlja2VkXG4gICAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9zZWxlY3QnKSlcbiAgICAgICAgICAgIC5maWx0ZXIob3RoZXIgPT4gb3RoZXIgIT09IGRyb3ApXG4gICAgICAgICAgICAuZm9yRWFjaChvdGhlciA9PiBvdGhlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKSk7XG5cbiAgICAgICAgICAvLyBEb24ndCBhbGxvdyBvdGhlciBldmVudCBsaXN0ZW5lcnMgb24gdGhlIGJvZHkgdG8gaW50ZXJmZXJlIHdpdGggdGhpcyBsaXN0ZW5lclxuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIGlmIChkcm9wLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdGlvbnNDbGlja2F3YXkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgZ2V0U3RhZmZCQm94IH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCQm94IHtcbiAgdWx4OiBudW1iZXI7XG4gIHVseTogbnVtYmVyO1xuICBscng6IG51bWJlcjtcbiAgbHJ5OiBudW1iZXI7XG59XG5cbi8qKlxuICogR2V0IFNWRyByZWxhdGl2ZSBjb29yZGluYXRlcyBnaXZlbiBjbGllbnRYIGFuZCBjbGllbnRZXG4gKiBTb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI5MjYxMzA0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTVkdSZWxDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogUG9pbnQge1xuICBjb25zdCBwdCA9IG5ldyBET01Qb2ludChjbGllbnRYLCBjbGllbnRZKTtcbiAgY29uc3Qgc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdTVkdFbGVtZW50PignLmFjdGl2ZS1wYWdlID4gLmRlZmluaXRpb24tc2NhbGUnKTtcbiAgY29uc3QgcGFnZU1hcmdpbiA9IHN2Zy5xdWVyeVNlbGVjdG9yPFNWR0dFbGVtZW50PignLnBhZ2UtbWFyZ2luJyk7XG5cbiAgY29uc3QgeyB4LCB5IH0gPSBwdC5tYXRyaXhUcmFuc2Zvcm0ocGFnZU1hcmdpbi5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCkpO1xuICByZXR1cm4geyB4LCB5IH07XG5cbiAgLy8gSWYgdGhlcmUgaXMgc29tZSBpc3N1ZSB3aXRoIGNvb3JkaW5hdGVzLCB0aGlzIG1heSBmaXggdGhlIGlzc3VlOlxuICAvLyBjb25zdCBzdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR1NWR0VsZW1lbnQ+KCcjc3ZnX2dyb3VwJyk7XG4gIC8vIGNvbnN0IHsgeCwgeSB9ID0gcHQubWF0cml4VHJhbnNmb3JtKHN2Zy5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCkpO1xufVxuXG4vKipcbiAqIEdldCBJRCBvZiBzdGFmZiBieSBjbGllbnQncyB4LXkgY29vcmRpbmF0ZXMuXG4gKiBUaGlzIGZ1bmN0aW9uIGNvbnNpZGVycyB0aGUgKnZpc3VhbCogYm91bmRpbmcgYm94IG9mIHRoZSBzdGFmZlxuICogYmFzZWQgb24gaXRzIHN0YWZmIGxpbmVzLCBpbnN0ZWFkIG9mIHRoZSBTVkcgZWxlbWVudCBpdHNlbGYuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFmZklkQnlDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogc3RyaW5nIHtcbiAgY29uc3Qgc3RhdmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPFNWR0dFbGVtZW50PignLnN0YWZmJykpO1xuICBjb25zdCBzdGFmZkJCb3hlcyA9IHN0YXZlcy5tYXAoc3RhZmYgPT4gZ2V0U3RhZmZCQm94KHN0YWZmKSk7XG5cbiAgLy8gZmluZCB0aGUgc3RhZmYgdGhhdCB0aGUgY3Vyc29yIGlzIGluc2lkZVxuICBjb25zdCB7IHgsIHkgfSA9IGdldFNWR1JlbENvb3JkcyhjbGllbnRYLCBjbGllbnRZKTtcbiAgY29uc3Qgc3RhZmYgPSBzdGFmZkJCb3hlcy5maW5kKFxuICAgIChiYm94KSA9PiB4IDw9IGJib3gubHJ4ICYmIHggPj0gYmJveC51bHggJiYgeSA8PSBiYm94LmxyeSAmJiB5ID49IGJib3gudWx5XG4gICk7IFxuXG4gIC8vIElmIHRoZXJlIGlzIGlzc3VlcyB3aXRoIGZpbmRpbmcgdGhlIHN0YWZmLCB0aGlzIG1heSBiZSBtb3JlIGFjY3VyYXRlOlxuICAvLyByZXR1cm4gKHB0LnggPiB1bHggJiYgcHQueCA8IGxyeCkgJiZcbiAgLy8gICAocHQueSA+ICh1bHkgKyAocHQueCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpKSkgJiZcbiAgLy8gICAocHQueSA8IChscnkgLSAobHJ4IC0gcHQueCkgKiBNYXRoLnRhbihyb3RhdGUpKSk7XG5cbiAgLy8gaWYgdGhlIGN1cnNvciBpcyBub3QgaW5zaWRlIGFueSBzdGFmZiwgdGhlbiBleHBsaWNpdGx5IHJldHVybiBudWxsXG4gIHJldHVybiBzdGFmZiA/IHN0YWZmLmlkIDogbnVsbDtcbn1cblxuLyoqXG4gKiBHZXQgc3RhZmYgYnkgY2xpZW50J3MgeC15IGNvb3JkaW5hdGVzOyB3cmFwcGVyIGZvciBnZXRTdGFmZklkQnlDb29yZHMsIGJ1dFxuICogICByZXR1cm5zIHRoZSBlbGVtZW50LCBub3QgdGhlIElEXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFmZkJ5Q29vcmRzIChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcik6IFNWR0dFbGVtZW50IHwgbnVsbCB7XG4gIGNvbnN0IHN0YWZmSWQgPSBnZXRTdGFmZklkQnlDb29yZHMoY2xpZW50WCwgY2xpZW50WSk7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtzdGFmZklkfWApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNPdXRPZlNWR0JvdW5kcyAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgY29uc3QgYmdJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR0ltYWdlRWxlbWVudD4oJyNiZ2ltZycpO1xuICBcbiAgcmV0dXJuIChcbiAgICB4IDw9IDAgfHwgeCA+PSBOdW1iZXIoYmdJbWcuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKSB8fFxuICAgIHkgPD0gMCB8fCB5ID49IE51bWJlcihiZ0ltZy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKVxuICApO1xufVxuXG4vKipcbiAqIEdldCBib3VuZGluZyBib3ggKGxyeCwgbHJ5LCB1bHgsIHVseSkgb2YgYSBnbHlwaCwgd2hpY2hcbiAqIGlzIGEgPHVzZT4gZWxlbWVudCBpbiB0aGUgU1ZHXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRHbHlwaEJCb3ggKGc6IFNWR1JlY3RFbGVtZW50IHwgU1ZHVXNlRWxlbWVudCk6IEJCb3gge1xuICBjb25zdCByZWN0ID0gKGcudGFnTmFtZSA9PSAncmVjdCcpID8gZy5nZXRCQm94KCkgOiAoZy5wYXJlbnROb2RlIGFzIFNWR0dFbGVtZW50KS5nZXRCQm94KCk7XG5cbiAgcmV0dXJuIHtcbiAgICB1bHg6IHJlY3QueCxcbiAgICB1bHk6IHJlY3QueSxcbiAgICBscng6IHJlY3QueCArIHJlY3Qud2lkdGgsXG4gICAgbHJ5OiByZWN0LnkgKyByZWN0LmhlaWdodFxuICB9O1xufVxuXG4iLCIoZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIE5vZGUvQ29tbW9uSlNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1EXG4gICAgICAgIGRlZmluZShmYWN0b3J5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHdpdGggc3VwcG9ydCBmb3Igd2ViIHdvcmtlcnMpXG4gICAgICAgIHZhciBnbG9iO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBnbG9iID0gd2luZG93O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBnbG9iID0gc2VsZjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsb2IuU3BhcmtNRDUgPSBmYWN0b3J5KCk7XG4gICAgfVxufShmdW5jdGlvbiAodW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKlxuICAgICAqIEZhc3Rlc3QgbWQ1IGltcGxlbWVudGF0aW9uIGFyb3VuZCAoSktNIG1kNSkuXG4gICAgICogQ3JlZGl0czogSm9zZXBoIE15ZXJzXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cubXllcnNkYWlseS5vcmcvam9zZXBoL2phdmFzY3JpcHQvbWQ1LXRleHQuaHRtbFxuICAgICAqIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vbWQ1LXNob290b3V0LzdcbiAgICAgKi9cblxuICAgIC8qIHRoaXMgZnVuY3Rpb24gaXMgbXVjaCBmYXN0ZXIsXG4gICAgICBzbyBpZiBwb3NzaWJsZSB3ZSB1c2UgaXQuIFNvbWUgSUVzXG4gICAgICBhcmUgdGhlIG9ubHkgb25lcyBJIGtub3cgb2YgdGhhdFxuICAgICAgbmVlZCB0aGUgaWRpb3RpYyBzZWNvbmQgZnVuY3Rpb24sXG4gICAgICBnZW5lcmF0ZWQgYnkgYW4gaWYgY2xhdXNlLiAgKi9cbiAgICB2YXIgYWRkMzIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gKGEgKyBiKSAmIDB4RkZGRkZGRkY7XG4gICAgfSxcbiAgICAgICAgaGV4X2NociA9IFsnMCcsICcxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICdhJywgJ2InLCAnYycsICdkJywgJ2UnLCAnZiddO1xuXG5cbiAgICBmdW5jdGlvbiBjbW4ocSwgYSwgYiwgeCwgcywgdCkge1xuICAgICAgICBhID0gYWRkMzIoYWRkMzIoYSwgcSksIGFkZDMyKHgsIHQpKTtcbiAgICAgICAgcmV0dXJuIGFkZDMyKChhIDw8IHMpIHwgKGEgPj4+ICgzMiAtIHMpKSwgYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1Y3ljbGUoeCwgaykge1xuICAgICAgICB2YXIgYSA9IHhbMF0sXG4gICAgICAgICAgICBiID0geFsxXSxcbiAgICAgICAgICAgIGMgPSB4WzJdLFxuICAgICAgICAgICAgZCA9IHhbM107XG5cbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1swXSAtIDY4MDg3NjkzNiB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzFdIC0gMzg5NTY0NTg2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzJdICsgNjA2MTA1ODE5IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzNdIC0gMTA0NDUyNTMzMCB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1s0XSAtIDE3NjQxODg5NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzVdICsgMTIwMDA4MDQyNiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1s2XSAtIDE0NzMyMzEzNDEgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbN10gLSA0NTcwNTk4MyB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1s4XSArIDE3NzAwMzU0MTYgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1s5XSAtIDE5NTg0MTQ0MTcgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMTBdIC0gNDIwNjMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbMTFdIC0gMTk5MDQwNDE2MiB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1sxMl0gKyAxODA0NjAzNjgyIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbMTNdIC0gNDAzNDExMDEgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMTRdIC0gMTUwMjAwMjI5MCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1sxNV0gKyAxMjM2NTM1MzI5IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuXG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbMV0gLSAxNjU3OTY1MTAgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1s2XSAtIDEwNjk1MDE2MzIgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1sxMV0gKyA2NDM3MTc3MTMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBhIHwgZCAmIH5hKSArIGtbMF0gLSAzNzM4OTczMDIgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbNV0gLSA3MDE1NTg2OTEgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1sxMF0gKyAzODAxNjA4MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzE1XSAtIDY2MDQ3ODMzNSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1s0XSAtIDQwNTUzNzg0OCB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1s5XSArIDU2ODQ0NjQzOCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzE0XSAtIDEwMTk4MDM2OTAgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1szXSAtIDE4NzM2Mzk2MSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1s4XSArIDExNjM1MzE1MDEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbMTNdIC0gMTQ0NDY4MTQ2NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzJdIC0gNTE0MDM3ODQgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1s3XSArIDE3MzUzMjg0NzMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBhIHwgZCAmIH5hKSArIGtbMTJdIC0gMTkyNjYwNzczNCB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcblxuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s1XSAtIDM3ODU1OCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1s4XSAtIDIwMjI1NzQ0NjMgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzExXSArIDE4MzkwMzA1NjIgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzE0XSAtIDM1MzA5NTU2IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzFdIC0gMTUzMDk5MjA2MCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1s0XSArIDEyNzI4OTMzNTMgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzddIC0gMTU1NDk3NjMyIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1sxMF0gLSAxMDk0NzMwNjQwIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzEzXSArIDY4MTI3OTE3NCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1swXSAtIDM1ODUzNzIyMiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbM10gLSA3MjI1MjE5NzkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzZdICsgNzYwMjkxODkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbOV0gLSA2NDAzNjQ0ODcgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbMTJdIC0gNDIxODE1ODM1IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1sxNV0gKyA1MzA3NDI1MjAgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzJdIC0gOTk1MzM4NjUxIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyB8IDA7XG5cbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMF0gLSAxOTg2MzA4NDQgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbN10gKyAxMTI2ODkxNDE1IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxNF0gLSAxNDE2MzU0OTA1IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgfCAwO1xuICAgICAgICBiICs9IChkIF4gKGMgfCB+YSkpICsga1s1XSAtIDU3NDM0MDU1IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMSB8YiA+Pj4gMTEpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBrWzEyXSArIDE3MDA0ODU1NzEgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbM10gLSAxODk0OTg2NjA2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxMF0gLSAxMDUxNTIzIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgfCAwO1xuICAgICAgICBiICs9IChkIF4gKGMgfCB+YSkpICsga1sxXSAtIDIwNTQ5MjI3OTkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbOF0gKyAxODczMzEzMzU5IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzE1XSAtIDMwNjExNzQ0IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1s2XSAtIDE1NjAxOTgzODAgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzEzXSArIDEzMDkxNTE2NDkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbNF0gLSAxNDU1MjMwNzAgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbMTFdIC0gMTEyMDIxMDM3OSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbMl0gKyA3MTg3ODcyNTkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzldIC0gMzQzNDg1NTUxIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgfCAwO1xuXG4gICAgICAgIHhbMF0gPSBhICsgeFswXSB8IDA7XG4gICAgICAgIHhbMV0gPSBiICsgeFsxXSB8IDA7XG4gICAgICAgIHhbMl0gPSBjICsgeFsyXSB8IDA7XG4gICAgICAgIHhbM10gPSBkICsgeFszXSB8IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1YmxrKHMpIHtcbiAgICAgICAgdmFyIG1kNWJsa3MgPSBbXSxcbiAgICAgICAgICAgIGk7IC8qIEFuZHkgS2luZyBzYWlkIGRvIGl0IHRoaXMgd2F5LiAqL1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgaSArPSA0KSB7XG4gICAgICAgICAgICBtZDVibGtzW2kgPj4gMl0gPSBzLmNoYXJDb2RlQXQoaSkgKyAocy5jaGFyQ29kZUF0KGkgKyAxKSA8PCA4KSArIChzLmNoYXJDb2RlQXQoaSArIDIpIDw8IDE2KSArIChzLmNoYXJDb2RlQXQoaSArIDMpIDw8IDI0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWQ1YmxrcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVibGtfYXJyYXkoYSkge1xuICAgICAgICB2YXIgbWQ1YmxrcyA9IFtdLFxuICAgICAgICAgICAgaTsgLyogQW5keSBLaW5nIHNhaWQgZG8gaXQgdGhpcyB3YXkuICovXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpICs9IDQpIHtcbiAgICAgICAgICAgIG1kNWJsa3NbaSA+PiAyXSA9IGFbaV0gKyAoYVtpICsgMV0gPDwgOCkgKyAoYVtpICsgMl0gPDwgMTYpICsgKGFbaSArIDNdIDw8IDI0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWQ1YmxrcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDUxKHMpIHtcbiAgICAgICAgdmFyIG4gPSBzLmxlbmd0aCxcbiAgICAgICAgICAgIHN0YXRlID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICAgIHRhaWwsXG4gICAgICAgICAgICB0bXAsXG4gICAgICAgICAgICBsbyxcbiAgICAgICAgICAgIGhpO1xuXG4gICAgICAgIGZvciAoaSA9IDY0OyBpIDw9IG47IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCBtZDVibGsocy5zdWJzdHJpbmcoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG4gICAgICAgIHMgPSBzLnN1YnN0cmluZyhpIC0gNjQpO1xuICAgICAgICBsZW5ndGggPSBzLmxlbmd0aDtcbiAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gcy5jaGFyQ29kZUF0KGkpIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG4gICAgICAgIHRhaWxbaSA+PiAyXSB8PSAweDgwIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICBpZiAoaSA+IDU1KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtaWdodCBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgdG1wID0gbiAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuXG4gICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNTFfYXJyYXkoYSkge1xuICAgICAgICB2YXIgbiA9IGEubGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGUgPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbjsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIG1kNWJsa19hcnJheShhLnN1YmFycmF5KGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdCBzdXJlIGlmIGl0IGlzIGEgYnVnLCBob3dldmVyIElFMTAgd2lsbCBhbHdheXMgcHJvZHVjZSBhIHN1YiBhcnJheSBvZiBsZW5ndGggMVxuICAgICAgICAvLyBjb250YWluaW5nIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIHBhcmVudCBhcnJheSBpZiB0aGUgc3ViIGFycmF5IHNwZWNpZmllZCBzdGFydHNcbiAgICAgICAgLy8gYmV5b25kIHRoZSBsZW5ndGggb2YgdGhlIHBhcmVudCBhcnJheSAtIHdlaXJkLlxuICAgICAgICAvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzc3MTQ1Mi90eXBlZC1hcnJheS1zdWJhcnJheS1pc3N1ZVxuICAgICAgICBhID0gKGkgLSA2NCkgPCBuID8gYS5zdWJhcnJheShpIC0gNjQpIDogbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbiAgICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICAgIHRhaWwgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGFpbFtpID4+IDJdIHw9IGFbaV0gPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0YWlsW2kgPj4gMl0gfD0gMHg4MCA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB0YWlsW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJld2FyZSB0aGF0IHRoZSBmaW5hbCBsZW5ndGggbWlnaHQgbm90IGZpdCBpbiAzMiBiaXRzIHNvIHdlIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgIHRtcCA9IG4gKiA4O1xuICAgICAgICB0bXAgPSB0bXAudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pO1xuICAgICAgICBsbyA9IHBhcnNlSW50KHRtcFsyXSwgMTYpO1xuICAgICAgICBoaSA9IHBhcnNlSW50KHRtcFsxXSwgMTYpIHx8IDA7XG5cbiAgICAgICAgdGFpbFsxNF0gPSBsbztcbiAgICAgICAgdGFpbFsxNV0gPSBoaTtcblxuICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJoZXgobikge1xuICAgICAgICB2YXIgcyA9ICcnLFxuICAgICAgICAgICAgajtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IDQ7IGogKz0gMSkge1xuICAgICAgICAgICAgcyArPSBoZXhfY2hyWyhuID4+IChqICogOCArIDQpKSAmIDB4MEZdICsgaGV4X2NoclsobiA+PiAoaiAqIDgpKSAmIDB4MEZdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhleCh4KSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgeFtpXSA9IHJoZXgoeFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHguam9pbignJyk7XG4gICAgfVxuXG4gICAgLy8gSW4gc29tZSBjYXNlcyB0aGUgZmFzdCBhZGQzMiBmdW5jdGlvbiBjYW5ub3QgYmUgdXNlZC4uXG4gICAgaWYgKGhleChtZDUxKCdoZWxsbycpKSAhPT0gJzVkNDE0MDJhYmM0YjJhNzZiOTcxOWQ5MTEwMTdjNTkyJykge1xuICAgICAgICBhZGQzMiA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgICAgICB2YXIgbHN3ID0gKHggJiAweEZGRkYpICsgKHkgJiAweEZGRkYpLFxuICAgICAgICAgICAgICAgIG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpO1xuICAgICAgICAgICAgcmV0dXJuIChtc3cgPDwgMTYpIHwgKGxzdyAmIDB4RkZGRik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBBcnJheUJ1ZmZlciBzbGljZSBwb2x5ZmlsbC5cbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3R0YXViZXJ0L25vZGUtYXJyYXlidWZmZXItc2xpY2VcbiAgICAgKi9cblxuICAgIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmICFBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2UpIHtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsYW1wKHZhbCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gKHZhbCB8IDApIHx8IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodmFsICsgbGVuZ3RoLCAwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4odmFsLCBsZW5ndGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBiZWdpbiA9IGNsYW1wKGZyb20sIGxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IGxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgbnVtLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEFycmF5LFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VBcnJheTtcblxuICAgICAgICAgICAgICAgIGlmICh0byAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IGNsYW1wKHRvLCBsZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChiZWdpbiA+IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG51bSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IG5ldyBBcnJheUJ1ZmZlcihudW0pO1xuICAgICAgICAgICAgICAgIHRhcmdldEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgIHNvdXJjZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcywgYmVnaW4sIG51bSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXkuc2V0KHNvdXJjZUFycmF5KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSgpO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogSGVscGVycy5cbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIHRvVXRmOChzdHIpIHtcbiAgICAgICAgaWYgKC9bXFx1MDA4MC1cXHVGRkZGXS8udGVzdChzdHIpKSB7XG4gICAgICAgICAgICBzdHIgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHV0ZjhTdHIyQXJyYXlCdWZmZXIoc3RyLCByZXR1cm5VSW50OEFycmF5KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBzdHIubGVuZ3RoLFxuICAgICAgICAgICBidWZmID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCksXG4gICAgICAgICAgIGFyciA9IG5ldyBVaW50OEFycmF5KGJ1ZmYpLFxuICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgYXJyW2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0dXJuVUludDhBcnJheSA/IGFyciA6IGJ1ZmY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJyYXlCdWZmZXIyVXRmOFN0cihidWZmKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZmYpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25jYXRlbmF0ZUFycmF5QnVmZmVycyhmaXJzdCwgc2Vjb25kLCByZXR1cm5VSW50OEFycmF5KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgVWludDhBcnJheShmaXJzdC5ieXRlTGVuZ3RoICsgc2Vjb25kLmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgIHJlc3VsdC5zZXQobmV3IFVpbnQ4QXJyYXkoZmlyc3QpKTtcbiAgICAgICAgcmVzdWx0LnNldChuZXcgVWludDhBcnJheShzZWNvbmQpLCBmaXJzdC5ieXRlTGVuZ3RoKTtcblxuICAgICAgICByZXR1cm4gcmV0dXJuVUludDhBcnJheSA/IHJlc3VsdCA6IHJlc3VsdC5idWZmZXI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGV4VG9CaW5hcnlTdHJpbmcoaGV4KSB7XG4gICAgICAgIHZhciBieXRlcyA9IFtdLFxuICAgICAgICAgICAgbGVuZ3RoID0gaGV4Lmxlbmd0aCxcbiAgICAgICAgICAgIHg7XG5cbiAgICAgICAgZm9yICh4ID0gMDsgeCA8IGxlbmd0aCAtIDE7IHggKz0gMikge1xuICAgICAgICAgICAgYnl0ZXMucHVzaChwYXJzZUludChoZXguc3Vic3RyKHgsIDIpLCAxNikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBieXRlcyk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBTcGFya01ENSBPT1AgaW1wbGVtZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyBjbGFzcyB0byBwZXJmb3JtIGFuIGluY3JlbWVudGFsIG1kNSwgb3RoZXJ3aXNlIHVzZSB0aGVcbiAgICAgKiBzdGF0aWMgbWV0aG9kcyBpbnN0ZWFkLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gU3BhcmtNRDUoKSB7XG4gICAgICAgIC8vIGNhbGwgcmVzZXQgdG8gaW5pdCB0aGUgaW5zdGFuY2VcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYSBzdHJpbmcuXG4gICAgICogQSBjb252ZXJzaW9uIHdpbGwgYmUgYXBwbGllZCBpZiBhbiB1dGY4IHN0cmluZyBpcyBkZXRlY3RlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyB0byBiZSBhcHBlbmRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDV9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAvLyBDb252ZXJ0cyB0aGUgc3RyaW5nIHRvIHV0ZjggYnl0ZXMgaWYgbmVjZXNzYXJ5XG4gICAgICAgIC8vIFRoZW4gYXBwZW5kIGFzIGJpbmFyeVxuICAgICAgICB0aGlzLmFwcGVuZEJpbmFyeSh0b1V0Zjgoc3RyKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYSBiaW5hcnkgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRzIFRoZSBiaW5hcnkgc3RyaW5nIHRvIGJlIGFwcGVuZGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5hcHBlbmRCaW5hcnkgPSBmdW5jdGlvbiAoY29udGVudHMpIHtcbiAgICAgICAgdGhpcy5fYnVmZiArPSBjb250ZW50cztcbiAgICAgICAgdGhpcy5fbGVuZ3RoICs9IGNvbnRlbnRzLmxlbmd0aDtcblxuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5fYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDY0OyBpIDw9IGxlbmd0aDsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgbWQ1YmxrKHRoaXMuX2J1ZmYuc3Vic3RyaW5nKGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmYgPSB0aGlzLl9idWZmLnN1YnN0cmluZyhpIC0gNjQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2hlcyB0aGUgaW5jcmVtZW50YWwgY29tcHV0YXRpb24sIHJlc2V0aW5nIHRoZSBpbnRlcm5hbCBzdGF0ZSBhbmRcbiAgICAgKiByZXR1cm5pbmcgdGhlIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmF3IFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIHZhciBidWZmID0gdGhpcy5fYnVmZixcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ1ZmYubGVuZ3RoLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHRhaWwgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICByZXQ7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYnVmZi5jaGFyQ29kZUF0KGkpIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKHRhaWwsIGxlbmd0aCk7XG4gICAgICAgIHJldCA9IGhleCh0aGlzLl9oYXNoKTtcblxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByZXQgPSBoZXhUb0JpbmFyeVN0cmluZyhyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDV9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgPSAnJztcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5faGFzaCA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgc3RhdGVcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBidWZmOiB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLl9sZW5ndGgsXG4gICAgICAgICAgICBoYXNoOiB0aGlzLl9oYXNoLnNsaWNlKClcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFRoZSBzdGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDV9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5fYnVmZiA9IHN0YXRlLmJ1ZmY7XG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgdGhpcy5faGFzaCA9IHN0YXRlLmhhc2g7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbGVhc2VzIG1lbW9yeSB1c2VkIGJ5IHRoZSBpbmNyZW1lbnRhbCBidWZmZXIgYW5kIG90aGVyIGFkZGl0aW9uYWxcbiAgICAgKiByZXNvdXJjZXMuIElmIHlvdSBwbGFuIHRvIHVzZSB0aGUgaW5zdGFuY2UgYWdhaW4sIHVzZSByZXNldCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5faGFzaDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2J1ZmY7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sZW5ndGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaCB0aGUgZmluYWwgY2FsY3VsYXRpb24gYmFzZWQgb24gdGhlIHRhaWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSAgdGFpbCAgIFRoZSB0YWlsICh3aWxsIGJlIG1vZGlmaWVkKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggVGhlIGxlbmd0aCBvZiB0aGUgcmVtYWluaW5nIGJ1ZmZlclxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5fZmluaXNoID0gZnVuY3Rpb24gKHRhaWwsIGxlbmd0aCkge1xuICAgICAgICB2YXIgaSA9IGxlbmd0aCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIGlmIChpID4gNTUpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIHRhaWwpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB0YWlsW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvIHRoZSBmaW5hbCBjb21wdXRhdGlvbiBiYXNlZCBvbiB0aGUgdGFpbCBhbmQgbGVuZ3RoXG4gICAgICAgIC8vIEJld2FyZSB0aGF0IHRoZSBmaW5hbCBsZW5ndGggbWF5IG5vdCBmaXQgaW4gMzIgYml0cyBzbyB3ZSB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICB0bXAgPSB0aGlzLl9sZW5ndGggKiA4O1xuICAgICAgICB0bXAgPSB0bXAudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pO1xuICAgICAgICBsbyA9IHBhcnNlSW50KHRtcFsyXSwgMTYpO1xuICAgICAgICBoaSA9IHBhcnNlSW50KHRtcFsxXSwgMTYpIHx8IDA7XG5cbiAgICAgICAgdGFpbFsxNF0gPSBsbztcbiAgICAgICAgdGFpbFsxNV0gPSBoaTtcbiAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgdGFpbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhIHN0cmluZy5cbiAgICAgKiBBIGNvbnZlcnNpb24gd2lsbCBiZSBhcHBsaWVkIGlmIHV0Zjggc3RyaW5nIGlzIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICBzdHIgVGhlIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Jhd10gVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuaGFzaCA9IGZ1bmN0aW9uIChzdHIsIHJhdykge1xuICAgICAgICAvLyBDb252ZXJ0cyB0aGUgc3RyaW5nIHRvIHV0ZjggYnl0ZXMgaWYgbmVjZXNzYXJ5XG4gICAgICAgIC8vIFRoZW4gY29tcHV0ZSBpdCB1c2luZyB0aGUgYmluYXJ5IGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiBTcGFya01ENS5oYXNoQmluYXJ5KHRvVXRmOChzdHIpLCByYXcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyB0aGUgbWQ1IGhhc2ggb24gYSBiaW5hcnkgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICBjb250ZW50IFRoZSBiaW5hcnkgc3RyaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmF3XSAgICAgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuaGFzaEJpbmFyeSA9IGZ1bmN0aW9uIChjb250ZW50LCByYXcpIHtcbiAgICAgICAgdmFyIGhhc2ggPSBtZDUxKGNvbnRlbnQpLFxuICAgICAgICAgICAgcmV0ID0gaGV4KGhhc2gpO1xuXG4gICAgICAgIHJldHVybiByYXcgPyBoZXhUb0JpbmFyeVN0cmluZyhyZXQpIDogcmV0O1xuICAgIH07XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFNwYXJrTUQ1IE9PUCBpbXBsZW1lbnRhdGlvbiBmb3IgYXJyYXkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGNsYXNzIHRvIHBlcmZvcm0gYW4gaW5jcmVtZW50YWwgbWQ1IE9OTFkgZm9yIGFycmF5IGJ1ZmZlcnMuXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGNhbGwgcmVzZXQgdG8gaW5pdCB0aGUgaW5zdGFuY2VcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGFuIGFycmF5IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFyciBUaGUgYXJyYXkgdG8gYmUgYXBwZW5kZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1LkFycmF5QnVmZmVyfSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBjb25jYXRlbmF0ZUFycmF5QnVmZmVycyh0aGlzLl9idWZmLmJ1ZmZlciwgYXJyLCB0cnVlKSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ1ZmYubGVuZ3RoLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICB0aGlzLl9sZW5ndGggKz0gYXJyLmJ5dGVMZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbGVuZ3RoOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCBtZDVibGtfYXJyYXkoYnVmZi5zdWJhcnJheShpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmID0gKGkgLSA2NCkgPCBsZW5ndGggPyBuZXcgVWludDhBcnJheShidWZmLmJ1ZmZlci5zbGljZShpIC0gNjQpKSA6IG5ldyBVaW50OEFycmF5KDApO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2hlcyB0aGUgaW5jcmVtZW50YWwgY29tcHV0YXRpb24sIHJlc2V0aW5nIHRoZSBpbnRlcm5hbCBzdGF0ZSBhbmRcbiAgICAgKiByZXR1cm5pbmcgdGhlIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmF3IFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIHZhciBidWZmID0gdGhpcy5fYnVmZixcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ1ZmYubGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICByZXQ7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYnVmZltpXSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZpbmlzaCh0YWlsLCBsZW5ndGgpO1xuICAgICAgICByZXQgPSBoZXgodGhpcy5faGFzaCk7XG5cbiAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgcmV0ID0gaGV4VG9CaW5hcnlTdHJpbmcocmV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1LkFycmF5QnVmZmVyfSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9idWZmID0gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuX2hhc2ggPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHN0YXRlXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBTcGFya01ENS5wcm90b3R5cGUuZ2V0U3RhdGUuY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyBDb252ZXJ0IGJ1ZmZlciB0byBhIHN0cmluZ1xuICAgICAgICBzdGF0ZS5idWZmID0gYXJyYXlCdWZmZXIyVXRmOFN0cihzdGF0ZS5idWZmKTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBUaGUgc3RhdGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1LkFycmF5QnVmZmVyfSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIC8vIENvbnZlcnQgc3RyaW5nIHRvIGJ1ZmZlclxuICAgICAgICBzdGF0ZS5idWZmID0gdXRmOFN0cjJBcnJheUJ1ZmZlcihzdGF0ZS5idWZmLCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gU3BhcmtNRDUucHJvdG90eXBlLnNldFN0YXRlLmNhbGwodGhpcywgc3RhdGUpO1xuICAgIH07XG5cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IFNwYXJrTUQ1LnByb3RvdHlwZS5kZXN0cm95O1xuXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLl9maW5pc2ggPSBTcGFya01ENS5wcm90b3R5cGUuX2ZpbmlzaDtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhbiBhcnJheSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnIgVGhlIGFycmF5IGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgIFtyYXddIFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBvbmVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLmhhc2ggPSBmdW5jdGlvbiAoYXJyLCByYXcpIHtcbiAgICAgICAgdmFyIGhhc2ggPSBtZDUxX2FycmF5KG5ldyBVaW50OEFycmF5KGFycikpLFxuICAgICAgICAgICAgcmV0ID0gaGV4KGhhc2gpO1xuXG4gICAgICAgIHJldHVybiByYXcgPyBoZXhUb0JpbmFyeVN0cmluZyhyZXQpIDogcmV0O1xuICAgIH07XG5cbiAgICByZXR1cm4gU3BhcmtNRDU7XG59KSk7XG4iLCIvKipcbiAqIEZvcm1hdHMgcmF3IFVVSUQgZGF0YSBpbnRvIHRoZSBwcm9wZXIgc3RyaW5nIGZvcm1hdC5cbiAqIEBwYXJhbSBkYXRhIC0gUmF3IFVVSUQgZGF0YS5cbiAqIEByZXR1cm5zIEZvcm1hdHRlZCBVVUlEIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gdWludDhUb1V1aWQgKGRhdGE6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBpZiAoZGF0YS5sZW5ndGggIT09IDE2KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgZnVuY3Rpb24gY2IgKHByZXZpb3VzOiBzdHJpbmcsIGN1cnJlbnQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuIHByZXZpb3VzICsgY3VycmVudC50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhLnNsaWNlKDAsIDQpLnJlZHVjZShjYiwgJycpICtcbiAgICAnLScgKyBkYXRhLnNsaWNlKDQsIDYpLnJlZHVjZShjYiwgJycpICtcbiAgICAnLScgKyBkYXRhLnNsaWNlKDYsIDgpLnJlZHVjZShjYiwgJycpICtcbiAgICAnLScgKyBkYXRhLnNsaWNlKDgsIDEwKS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSgxMCkucmVkdWNlKGNiLCAnJyk7XG59XG5cbi8qKlxuICogQHJldHVybnMgQSBbdmVyc2lvbiA0IFVVSURdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VuaXZlcnNhbGx5X3VuaXF1ZV9pZGVudGlmaWVyI1ZlcnNpb25fNF8ocmFuZG9tKSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1dWlkdjQgKCk6IHN0cmluZyB7XG4gIC8vIENoZWNrIGZvciBjcnlwdG8gQVBJXG4gIGlmICh3aW5kb3cuY3J5cHRvID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdWludDhUb1V1aWQobmV3IFVpbnQ4QXJyYXkoMTYpKTtcbiAgfVxuXG4gIC8vIEdldCAxNiBvY3RldHMgZm9yIFVVSURcbiAgY29uc3Qgb2N0ZXRzID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICBjb25zdCBtb2RpZmllcnMgPSBVaW50OEFycmF5LmZyb20oW1xuICAgIHBhcnNlSW50KCcwMTAwMDAwMCcsIDIpLCAgLy8gVmVyc2lvbiBiaXRzICg0ID0+IDAxMDApXG4gICAgcGFyc2VJbnQoJzEwMDAwMDAwJywgMiksICAvLyBWYXJpYW50IGJpdHMgKDEweClcbiAgICBwYXJzZUludCgnMDAwMDExMTEnLCAyKSwgIC8vIE1hc2sgdG8gemVybyBoaWdoZXIgYml0cywgdmVyc2lvblxuICAgIHBhcnNlSW50KCcwMDExMTExMScsIDIpICAgLy8gTWFzayB0byB6ZXJvIGhpZ2hlciBiaXRzLCB2YXJpYW50XG4gIF0pO1xuICB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhvY3RldHMpO1xuICAvLyBTZXQgdmVyc2lvbiBiaXRzIGFuZCB2YXJpYW50IGJpdHNcbiAgb2N0ZXRzWzZdID0gKG9jdGV0c1s2XSAmIG1vZGlmaWVyc1syXSkgfCBtb2RpZmllcnNbMF07XG4gIG9jdGV0c1s4XSA9IChvY3RldHNbOF0gJiBtb2RpZmllcnNbM10pIHwgbW9kaWZpZXJzWzFdO1xuXG4gIHJldHVybiB1aW50OFRvVXVpZChvY3RldHMpO1xufVxuIiwiaW1wb3J0IHsgR3JvdXBpbmdUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIEFkYXB0ZWQgZnJvbSBjb2xvciBwYWxldHRlIGZyb20gRmlndXJlIDIgKENvbG9ycyBvcHRpbWl6ZWQgZm9yIGNvbG9yLWJsaW5kXG4gKiBpbmRpdmlkdWFscykgZnJvbVxuICogW1wiUG9pbnRzIG9mIHZpZXc6IENvbG9yIGJsaW5kbmVzc1wiIGJ5IEJhbmcgV29uZyBwdWJsaXNoZWQgaW4gTmF0dXJlIE1ldGhvZHMgdm9sdW1lIDggb24gMjcgTWF5IDIwMTFdKGh0dHBzOi8vd3d3Lm5hdHVyZS5jb20vYXJ0aWNsZXMvbm1ldGguMTYxOD9XVC5lY19pZD1OTUVUSC0yMDExMDYpXG4gKi9cbmNvbnN0IENvbG9yUGFsZXR0ZTogc3RyaW5nW10gPSBbXG4gICdyZ2IoMjMwLCAxNTksIDApJyxcbiAgJ3JnYig4NiwgMTgwLCAyMzMpJyxcbiAgJ3JnYigwLCAxNTgsIDExNSknLFxuICAncmdiKDI0MCwgMjI4LCA2NiknLFxuICAncmdiKDAsIDExNCwgMTc4KScsXG4gICdyZ2IoMjEzLCA5NCwgMCknLFxuICAncmdiKDIwNCwgMTIxLCAxNjcpJ1xuXTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGhpZ2hsaWdodCBmcm9tIGEgc3RhZmYuXG4gKiBAcGFyYW0gc3RhZmYgSWYgdW5kZWZpbmVkLCB0aGUgYWxsIHN0YXZlcyBhcmUgdW5oaWdobGlnaHRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuaGlnaGxpZ2h0KHN0YWZmPzogU1ZHR0VsZW1lbnQpOiB2b2lkIHtcbiAgbGV0IGNoaWxkcmVuOiBOb2RlTGlzdE9mPEVsZW1lbnQ+O1xuICBpZiAoc3RhZmYpIHtcbiAgICBjaGlsZHJlbiA9IHN0YWZmLnF1ZXJ5U2VsZWN0b3JBbGwoJzpub3QoLnNlbGVjdGVkKSAuaGlnaGxpZ2h0ZWQnKTtcbiAgfSBlbHNlIHtcbiAgICBjaGlsZHJlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJzpub3QoLnNlbGVjdGVkKSAuaGlnaGxpZ2h0ZWQnKTtcbiAgfVxuICBjaGlsZHJlbi5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGlmIChlbGVtLnRhZ05hbWUgPT09ICdwYXRoJyAmJiAhZWxlbS5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnIzAwMDAwMCcpO1xuICAgIH0gZWxzZSBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSAmJiAhZWxlbS5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnIzAwMDAwMCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKCdmaWxsJyk7XG4gICAgICBsZXQgcmVjdHMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICBpZiAoIXJlY3RzLmxlbmd0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlY3RzID0gZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVjdHMgPSBbXSBhcyB1bmtub3duIGFzIE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmIChyZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICAgLy8gcmVjdC5jbG9zZXN0KCcubGF5ZXInKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgKXtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgICB9XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlbW92ZSB0aGUgaGlnaGxpZ2h0IGZyb20gZWFjaCBzdGFmZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0U3RhZmZIaWdobGlnaHQoKTogdm9pZCB7XG4gIHVuaGlnaGxpZ2h0KCk7XG59XG5cbi8qKlxuICogVW5zZXQgaGlnaGxpZ2h0IGZvciBhbGwgZ3JvdXBpbmcgdHlwZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTogdm9pZCB7XG4gIHVuc2V0U3RhZmZIaWdobGlnaHQoKTtcbiAgY29uc3QgaGlnaGxpZ2h0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodGVkJykpXG4gICAgLmZpbHRlcigoZWxlbTogSFRNTEVsZW1lbnQpID0+ICFlbGVtLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKTtcbiAgaGlnaGxpZ2h0ZWQuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBlbGVtLnNldEF0dHJpYnV0ZSgnI2QwMCcsIG51bGwpO1xuICAgIGxldCByZWN0cyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBpZiAoIXJlY3RzLmxlbmd0aCkge1xuICAgICAgaWYgKGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykgIT09IG51bGwpIHtcbiAgICAgICAgcmVjdHMgPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgIGlmIChyZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fCBcbiAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgKXtcbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgfVxuICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIH0pO1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIH0pO1xuICB9KTtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKS5mb3JFYWNoKChlbCkgPT4geyBlbC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnJyk7IH0pO1xufVxuXG4vKipcbiAqIEhpZ2hsaWdodCBhIHN0YWZmIGEgY2VydGFpbiBjb2xvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpZ2hsaWdodChzdGFmZjogU1ZHR0VsZW1lbnQsIGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKHN0YWZmLmNoaWxkcmVuKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgaWYgKGNoaWxkLnRhZ05hbWUgPT09ICdwYXRoJykge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzdHJva2UnLCBjb2xvcik7XG4gICAgfSBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzdHJva2UnLCBjb2xvcik7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmxlbmd0aCAmJiBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZpbHRlcihlbCA9PiBlbC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpKS5mb3JFYWNoKGNjaGlsZCA9PiB7IGNoaWxkcmVuLnB1c2goY2NoaWxkKTsgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygncmVzaXplUG9pbnQnKSB8fCBjaGlsZC5pZCA9PT0gJ3Jlc2l6ZVJlY3QnIHx8IGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygncm90YXRlUG9pbnQnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsYXllcicpKSB7XG4gICAgICBBcnJheS5mcm9tKGNoaWxkLmNoaWxkcmVuKS5mb3JFYWNoKGNjaGlsZCA9PiB7IGNoaWxkcmVuLnB1c2goY2NoaWxkKTsgfSk7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoaWdobGlnaHQtc2VsZWN0ZWQnKS5sZW5ndGggJiZcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpWzBdLmlkID09PSAnaGlnaGxpZ2h0LW5ldW1lJ1xuICAgICAgJiYgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBBcnJheS5mcm9tKGNoaWxkLmNoaWxkcmVuKS5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXVtZScpKS5mb3JFYWNoKGNjaGlsZCA9PiB7IGNoaWxkcmVuLnB1c2goY2NoaWxkKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnZmlsbCcsIGNvbG9yKTtcbiAgICAgIGxldCByZWN0cyA9IGNoaWxkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICBpZiAoIXJlY3RzLmxlbmd0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlY3RzID0gY2hpbGQuY2xvc2VzdCgnLnN5bGxhYmxlJykucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlY3RzID0gW10gYXMgdW5rbm93biBhcyBOb2RlTGlzdE9mPEVsZW1lbnQ+O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAoIShyZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICAgLy8gcmVjdC5jbG9zZXN0KCcubGF5ZXInKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgKSkge1xuICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9IGNvbG9yO1xuICAgICAgICAgIHJlY3QuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gIH1cbiAgbGV0IHdpZHRoLCBoZWlnaHQ7XG4gIC8qdHJ5IHtcbiAgICB3aWR0aCA9IE51bWJlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlLXBhZ2UnKS5xdWVyeVNlbGVjdG9yKCdzdmcnKS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykuc3BsaXQoJ3B4JylbMF0pO1xuICAgIGhlaWdodCA9IE51bWJlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlLXBhZ2UnKS5xdWVyeVNlbGVjdG9yKCdzdmcnKS5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLnNwbGl0KCdweCcpWzBdKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZGVidWcoZSk7XG4gIH0qL1xuICBsZXQgc3Ryb2tlOiBzdHJpbmc7XG4gIGlmICh3aWR0aCAhPT0gdW5kZWZpbmVkICYmIGhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gaWRrIGxvb2tzIGdvb2QgOicpXG4gICAgLy8gVE9ETyBmaW5kIGEgYmV0dGVyIHdheSBvZiBjYWxjdWxhdGluZyB0aGlzIGFzIHRoaXMgYWN0dWFsbHkgZG9lc24ndCB3b3JrIGFzIHdlbGwgYXMgMzBweFxuICAgIHN0cm9rZSA9ICh3aWR0aCAqIGhlaWdodCAvIDEwMDAwMDApLnRvU3RyaW5nKCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgc3Ryb2tlID0gJzMwcHgnO1xuICB9XG4gIHN0YWZmLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYywgLmN1c3RvcywgLmNsZWYsIC5hY2NpZCcpLmZvckVhY2goZWwgPT4ge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCBzdHJva2UpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBIaWdobGlnaHQgZWFjaCBzdGFmZiBhIGRpZmZlcmVudCBjb2xvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFN0YWZmSGlnaGxpZ2h0KCk6IHZvaWQge1xuICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWZmJykpIGFzIFNWR0dFbGVtZW50W107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhZmZDb2xvciA9IENvbG9yUGFsZXR0ZVtpICUgQ29sb3JQYWxldHRlLmxlbmd0aF07XG4gICAgaGlnaGxpZ2h0KHN0YXZlc1tpXSwgc3RhZmZDb2xvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0Q29sdW1uSGlnaGxpZ2h0KCk6IHZvaWQge1xuICBjb25zdCAgZ3JvdXBzOiB7IFtrZXk6IG51bWJlcl06IFNWR0dFbGVtZW50W10gfSA9IHt9O1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpLmZvckVhY2goKHN0YWZmKSA9PiB7XG4gICAgY29uc3QgaGFzQ29sdW1uID0gQXJyYXkuZnJvbShzdGFmZi5jbGFzc0xpc3QpLmpvaW4oJyAnKS5tYXRjaCgvXFxiY29sdW1uKFxcZCspXFxiLyk7XG4gICAgbGV0IGNvbHVtbk51bSA9IDA7XG4gICAgaWYgKGhhc0NvbHVtbikge1xuICAgICAgY29sdW1uTnVtID0gcGFyc2VJbnQoaGFzQ29sdW1uWzFdLCAxMCkgLSAxO1xuICAgIH1cblxuICAgIGlmICghZ3JvdXBzW2NvbHVtbk51bV0pIHtcbiAgICAgIGdyb3Vwc1tjb2x1bW5OdW1dID0gW107XG4gICAgfVxuXG4gICAgZ3JvdXBzW2NvbHVtbk51bV0ucHVzaChzdGFmZiBhcyBTVkdHRWxlbWVudCk7XG4gIH0pO1xuXG4gIGZvciAoY29uc3QgW2NvbHVtbiwgc3RhdmVzXSBvZiBPYmplY3QuZW50cmllcyhncm91cHMpKSB7XG4gICAgY29uc3QgY29sb3IgPSBDb2xvclBhbGV0dGVbTnVtYmVyKGNvbHVtbikgJSBDb2xvclBhbGV0dGUubGVuZ3RoXTtcbiAgICBmb3IgKGNvbnN0IHN0YWZmIG9mIHN0YXZlcykge1xuICAgICAgaGlnaGxpZ2h0KHN0YWZmLCBjb2xvcik7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogU2V0IGEgaGlnaGxpZ2h0IGJ5IGEgZGlmZmVyZW50IGdyb3VwaW5nLlxuICogQHBhcmFtIGdyb3VwaW5nIC0gRWl0aGVyIFwic3RhZmZcIiwgXCJzeWxsYWJsZVwiLCBcIm5ldW1lXCIsIFwic2VsZWN0aW9uXCIsIG9yIFwibGF5ZXJFbGVtZW50XCIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRHcm91cGluZ0hpZ2hsaWdodChncm91cGluZzogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIHVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTtcbiAgaWYgKGdyb3VwaW5nID09PSAnc3RhZmYnKSB7XG4gICAgc2V0U3RhZmZIaWdobGlnaHQoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgZWxzZSBpZiAoZ3JvdXBpbmcgPT09ICdjb2x1bW4nKSB7XG4gICAgc2V0Q29sdW1uSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9IFxuICBlbHNlIGlmIChncm91cGluZyA9PT0gJ3NlbGVjdGlvbicpIHtcbiAgICBjb25zdCB0ZW1wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbC1ieS5pcy1hY3RpdmUnKS5pZDtcbiAgICBzd2l0Y2ggKHRlbXApIHtcbiAgICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgY2FzZSAnc2VsQnlCQm94JzpcbiAgICAgICAgZ3JvdXBpbmcgPSAnc3lsbGFibGUnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbEJ5Q29sdW1uJzpcbiAgICAgICAgZ3JvdXBpbmcgPSAnY29sdW1uJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgICAgZ3JvdXBpbmcgPSAnc3RhZmYnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbEJ5TGF5ZXJFbGVtZW50JzpcbiAgICAgICAgZ3JvdXBpbmcgPSAnbGF5ZXJFbGVtZW50JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGdyb3VwaW5nID0gJ25ldW1lJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwaW5nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGdyb3VwcztcblxuICBpZiAoZ3JvdXBpbmcgPT0gJ2xheWVyRWxlbWVudCcpIHtcbiAgICBncm91cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjaWQsIC5jbGVmLCAuY3VzdG9zLCAuZGl2TGluZScpO1xuICB9XG4gIGVsc2Uge1xuICAgIGdyb3VwcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZ3JvdXBpbmcpIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+O1xuICB9XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5jLCAuY3VzdG9zLCAuY2xlZiwgLmFjY2lkLCAuZGl2TGluZScpLmZvckVhY2goZWwgPT4ge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMzBweCcpO1xuICB9KTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGdyb3VwQ29sb3IgPSBDb2xvclBhbGV0dGVbaSAlIENvbG9yUGFsZXR0ZS5sZW5ndGhdO1xuICAgIGlmICgoZ3JvdXBzW2ldLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSAmJiAhZ3JvdXBzW2ldLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnZmlsbCcsIGdyb3VwQ29sb3IpO1xuICAgICAgY29uc3QgcmVjdHMgPSBncm91cHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PjtcbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgaWYgKHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9IGdyb3VwQ29sb3I7XG4gICAgICB9KTtcbiAgICAgIGdyb3Vwc1tpXS5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICAgICAgZ3JvdXBzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykuZm9yRWFjaChyZWN0ID0+IHtcbiAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZ3JvdXBzW2ldLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdmaWxsJywgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdmaWxsJywgJyNkMDAnKTtcbiAgICAgIH1cbiAgICAgIGdyb3Vwc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGRpdkxpbmVDaGlsZHJlbiA9IGdyb3Vwc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpO1xuICAgIGlmIChkaXZMaW5lQ2hpbGRyZW4pIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGl2TGluZUNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGRpdkxpbmVDaGlsZHJlbltqXS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGdyb3VwQ29sb3IpO1xuICAgICAgICBkaXZMaW5lQ2hpbGRyZW5bal0uc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMzBweCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHVyaSA9IHJlcXVpcmUoJ3VybCcpO1xuXG52YXIgVmFsaWRhdGlvbkVycm9yID0gZXhwb3J0cy5WYWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IgKG1lc3NhZ2UsIGluc3RhbmNlLCBzY2hlbWEsIHBhdGgsIG5hbWUsIGFyZ3VtZW50KSB7XG4gIGlmKEFycmF5LmlzQXJyYXkocGF0aCkpe1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgdGhpcy5wcm9wZXJ0eSA9IHBhdGgucmVkdWNlKGZ1bmN0aW9uKHN1bSwgaXRlbSl7XG4gICAgICByZXR1cm4gc3VtICsgbWFrZVN1ZmZpeChpdGVtKTtcbiAgICB9LCAnaW5zdGFuY2UnKTtcbiAgfWVsc2UgaWYocGF0aCAhPT0gdW5kZWZpbmVkKXtcbiAgICB0aGlzLnByb3BlcnR5ID0gcGF0aDtcbiAgfVxuICBpZiAobWVzc2FnZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIH1cbiAgaWYgKHNjaGVtYSkge1xuICAgIHZhciBpZCA9IHNjaGVtYS4kaWQgfHwgc2NoZW1hLmlkO1xuICAgIHRoaXMuc2NoZW1hID0gaWQgfHwgc2NoZW1hO1xuICB9XG4gIGlmIChpbnN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICB9XG4gIHRoaXMubmFtZSA9IG5hbWU7XG4gIHRoaXMuYXJndW1lbnQgPSBhcmd1bWVudDtcbiAgdGhpcy5zdGFjayA9IHRoaXMudG9TdHJpbmcoKTtcbn07XG5cblZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIHRoaXMucHJvcGVydHkgKyAnICcgKyB0aGlzLm1lc3NhZ2U7XG59O1xuXG52YXIgVmFsaWRhdG9yUmVzdWx0ID0gZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHQgPSBmdW5jdGlvbiBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIHRoaXMucGF0aCA9IGN0eC5wYXRoO1xuICB0aGlzLnByb3BlcnR5UGF0aCA9IGN0eC5wcm9wZXJ0eVBhdGg7XG4gIHRoaXMuZXJyb3JzID0gW107XG4gIHRoaXMudGhyb3dFcnJvciA9IG9wdGlvbnMgJiYgb3B0aW9ucy50aHJvd0Vycm9yO1xuICB0aGlzLnRocm93Rmlyc3QgPSBvcHRpb25zICYmIG9wdGlvbnMudGhyb3dGaXJzdDtcbiAgdGhpcy50aHJvd0FsbCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50aHJvd0FsbDtcbiAgdGhpcy5kaXNhYmxlRm9ybWF0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmRpc2FibGVGb3JtYXQgPT09IHRydWU7XG59O1xuXG5WYWxpZGF0b3JSZXN1bHQucHJvdG90eXBlLmFkZEVycm9yID0gZnVuY3Rpb24gYWRkRXJyb3IoZGV0YWlsKSB7XG4gIHZhciBlcnI7XG4gIGlmICh0eXBlb2YgZGV0YWlsID09ICdzdHJpbmcnKSB7XG4gICAgZXJyID0gbmV3IFZhbGlkYXRpb25FcnJvcihkZXRhaWwsIHRoaXMuaW5zdGFuY2UsIHRoaXMuc2NoZW1hLCB0aGlzLnBhdGgpO1xuICB9IGVsc2Uge1xuICAgIGlmICghZGV0YWlsKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgZXJyb3IgZGV0YWlsJyk7XG4gICAgaWYgKCFkZXRhaWwubWVzc2FnZSkgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIGVycm9yIG1lc3NhZ2UnKTtcbiAgICBpZiAoIWRldGFpbC5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdmFsaWRhdG9yIHR5cGUnKTtcbiAgICBlcnIgPSBuZXcgVmFsaWRhdGlvbkVycm9yKGRldGFpbC5tZXNzYWdlLCB0aGlzLmluc3RhbmNlLCB0aGlzLnNjaGVtYSwgdGhpcy5wYXRoLCBkZXRhaWwubmFtZSwgZGV0YWlsLmFyZ3VtZW50KTtcbiAgfVxuXG4gIHRoaXMuZXJyb3JzLnB1c2goZXJyKTtcbiAgaWYgKHRoaXMudGhyb3dGaXJzdCkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0b3JSZXN1bHRFcnJvcih0aGlzKTtcbiAgfWVsc2UgaWYodGhpcy50aHJvd0Vycm9yKXtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgcmV0dXJuIGVycjtcbn07XG5cblZhbGlkYXRvclJlc3VsdC5wcm90b3R5cGUuaW1wb3J0RXJyb3JzID0gZnVuY3Rpb24gaW1wb3J0RXJyb3JzKHJlcykge1xuICBpZiAodHlwZW9mIHJlcyA9PSAnc3RyaW5nJyB8fCAocmVzICYmIHJlcy52YWxpZGF0b3JUeXBlKSkge1xuICAgIHRoaXMuYWRkRXJyb3IocmVzKTtcbiAgfSBlbHNlIGlmIChyZXMgJiYgcmVzLmVycm9ycykge1xuICAgIHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuY29uY2F0KHJlcy5lcnJvcnMpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBzdHJpbmdpemVyICh2LGkpe1xuICByZXR1cm4gaSsnOiAnK3YudG9TdHJpbmcoKSsnXFxuJztcbn1cblZhbGlkYXRvclJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhyZXMpIHtcbiAgcmV0dXJuIHRoaXMuZXJyb3JzLm1hcChzdHJpbmdpemVyKS5qb2luKCcnKTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShWYWxpZGF0b3JSZXN1bHQucHJvdG90eXBlLCBcInZhbGlkXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICF0aGlzLmVycm9ycy5sZW5ndGg7XG59IH0pO1xuXG5tb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHRFcnJvciA9IFZhbGlkYXRvclJlc3VsdEVycm9yO1xuZnVuY3Rpb24gVmFsaWRhdG9yUmVzdWx0RXJyb3IocmVzdWx0KSB7XG4gIGlmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKXtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBWYWxpZGF0b3JSZXN1bHRFcnJvcik7XG4gIH1cbiAgdGhpcy5pbnN0YW5jZSA9IHJlc3VsdC5pbnN0YW5jZTtcbiAgdGhpcy5zY2hlbWEgPSByZXN1bHQuc2NoZW1hO1xuICB0aGlzLm9wdGlvbnMgPSByZXN1bHQub3B0aW9ucztcbiAgdGhpcy5lcnJvcnMgPSByZXN1bHQuZXJyb3JzO1xufVxuVmFsaWRhdG9yUmVzdWx0RXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5WYWxpZGF0b3JSZXN1bHRFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWYWxpZGF0b3JSZXN1bHRFcnJvcjtcblZhbGlkYXRvclJlc3VsdEVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJWYWxpZGF0aW9uIEVycm9yXCI7XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgcHJvYmxlbSB3aXRoIGEgU2NoZW1hIHdoaWNoIHByZXZlbnRzIHZhbGlkYXRpb24gb2YgYW4gaW5zdGFuY2VcbiAqIEBuYW1lIFNjaGVtYUVycm9yXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIFNjaGVtYUVycm9yID0gZXhwb3J0cy5TY2hlbWFFcnJvciA9IGZ1bmN0aW9uIFNjaGVtYUVycm9yIChtc2csIHNjaGVtYSkge1xuICB0aGlzLm1lc3NhZ2UgPSBtc2c7XG4gIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICBFcnJvci5jYWxsKHRoaXMsIG1zZyk7XG4gIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFNjaGVtYUVycm9yKTtcbn07XG5TY2hlbWFFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSxcbiAge1xuICAgIGNvbnN0cnVjdG9yOiB7dmFsdWU6IFNjaGVtYUVycm9yLCBlbnVtZXJhYmxlOiBmYWxzZX0sXG4gICAgbmFtZToge3ZhbHVlOiAnU2NoZW1hRXJyb3InLCBlbnVtZXJhYmxlOiBmYWxzZX0sXG4gIH0pO1xuXG52YXIgU2NoZW1hQ29udGV4dCA9IGV4cG9ydHMuU2NoZW1hQ29udGV4dCA9IGZ1bmN0aW9uIFNjaGVtYUNvbnRleHQgKHNjaGVtYSwgb3B0aW9ucywgcGF0aCwgYmFzZSwgc2NoZW1hcykge1xuICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgaWYoQXJyYXkuaXNBcnJheShwYXRoKSl7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLnByb3BlcnR5UGF0aCA9IHBhdGgucmVkdWNlKGZ1bmN0aW9uKHN1bSwgaXRlbSl7XG4gICAgICByZXR1cm4gc3VtICsgbWFrZVN1ZmZpeChpdGVtKTtcbiAgICB9LCAnaW5zdGFuY2UnKTtcbiAgfWVsc2V7XG4gICAgdGhpcy5wcm9wZXJ0eVBhdGggPSBwYXRoO1xuICB9XG4gIHRoaXMuYmFzZSA9IGJhc2U7XG4gIHRoaXMuc2NoZW1hcyA9IHNjaGVtYXM7XG59O1xuXG5TY2hlbWFDb250ZXh0LnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZSAodGFyZ2V0KSB7XG4gIHJldHVybiB1cmkucmVzb2x2ZSh0aGlzLmJhc2UsIHRhcmdldCk7XG59O1xuXG5TY2hlbWFDb250ZXh0LnByb3RvdHlwZS5tYWtlQ2hpbGQgPSBmdW5jdGlvbiBtYWtlQ2hpbGQoc2NoZW1hLCBwcm9wZXJ0eU5hbWUpe1xuICB2YXIgcGF0aCA9IChwcm9wZXJ0eU5hbWU9PT11bmRlZmluZWQpID8gdGhpcy5wYXRoIDogdGhpcy5wYXRoLmNvbmNhdChbcHJvcGVydHlOYW1lXSk7XG4gIHZhciBpZCA9IHNjaGVtYS4kaWQgfHwgc2NoZW1hLmlkO1xuICB2YXIgYmFzZSA9IHVyaS5yZXNvbHZlKHRoaXMuYmFzZSwgaWR8fCcnKTtcbiAgdmFyIGN0eCA9IG5ldyBTY2hlbWFDb250ZXh0KHNjaGVtYSwgdGhpcy5vcHRpb25zLCBwYXRoLCBiYXNlLCBPYmplY3QuY3JlYXRlKHRoaXMuc2NoZW1hcykpO1xuICBpZihpZCAmJiAhY3R4LnNjaGVtYXNbYmFzZV0pe1xuICAgIGN0eC5zY2hlbWFzW2Jhc2VdID0gc2NoZW1hO1xuICB9XG4gIHJldHVybiBjdHg7XG59O1xuXG52YXIgRk9STUFUX1JFR0VYUFMgPSBleHBvcnRzLkZPUk1BVF9SRUdFWFBTID0ge1xuICAvLyA3LjMuMS4gRGF0ZXMsIFRpbWVzLCBhbmQgRHVyYXRpb25cbiAgJ2RhdGUtdGltZSc6IC9eXFxkezR9LSg/OjBbMC05XXsxfXwxWzAtMl17MX0pLSgzWzAxXXwwWzEtOV18WzEyXVswLTldKVt0VCBdKDJbMC00XXxbMDFdWzAtOV0pOihbMC01XVswLTldKTooNjB8WzAtNV1bMC05XSkoXFwuXFxkKyk/KFt6Wl18WystXShbMC01XVswLTldKTooNjB8WzAtNV1bMC05XSkpJC8sXG4gICdkYXRlJzogL15cXGR7NH0tKD86MFswLTldezF9fDFbMC0yXXsxfSktKDNbMDFdfDBbMS05XXxbMTJdWzAtOV0pJC8sXG4gICd0aW1lJzogL14oMlswLTRdfFswMV1bMC05XSk6KFswLTVdWzAtOV0pOig2MHxbMC01XVswLTldKSQvLFxuICAnZHVyYXRpb24nOiAvUChUXFxkKyhIKFxcZCtNKFxcZCtTKT8pP3xNKFxcZCtTKT98Uyl8XFxkKyhEfE0oXFxkK0QpP3xZKFxcZCtNKFxcZCtEKT8pPykoVFxcZCsoSChcXGQrTShcXGQrUyk/KT98TShcXGQrUyk/fFMpKT98XFxkK1cpL2ksXG5cbiAgLy8gNy4zLjIuIEVtYWlsIEFkZHJlc3Nlc1xuICAvLyBUT0RPOiBmaXggdGhlIGVtYWlsIHByb2R1Y3Rpb25cbiAgJ2VtYWlsJzogL14oPzpbXFx3XFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwtXFwvXFw9XFw/XFxeXFxgXFx7XFx8XFx9XFx+XStcXC4pKltcXHdcXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC1cXC9cXD1cXD9cXF5cXGBcXHtcXHxcXH1cXH5dK0AoPzooPzooPzpbYS16QS1aMC05XSg/OlthLXpBLVowLTlcXC1dKD8hXFwuKSl7MCw2MX1bYS16QS1aMC05XT9cXC4pK1thLXpBLVowLTldKD86W2EtekEtWjAtOVxcLV0oPyEkKSl7MCw2MX1bYS16QS1aMC05XT8pfCg/OlxcWyg/Oig/OlswMV0/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pXFwuKXszfSg/OlswMV0/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pXFxdKSkkLyxcbiAgJ2lkbi1lbWFpbCc6IC9eKFwiKD86WyEjLVxcW1xcXS1cXHV7MTBGRkZGfV18XFxcXFtcXHQgLVxcdXsxMEZGRkZ9XSkqXCJ8WyEjLScqK1xcLS8tOT0/QS1aXFxeLVxcdXsxMEZGRkZ9XSg/OlxcLj9bISMtJyorXFwtLy05PT9BLVpcXF4tXFx1ezEwRkZGRn1dKSopQChbISMtJyorXFwtLy05PT9BLVpcXF4tXFx1ezEwRkZGRn1dKD86XFwuP1shIy0nKitcXC0vLTk9P0EtWlxcXi1cXHV7MTBGRkZGfV0pKnxcXFtbIS1aXFxeLVxcdXsxMEZGRkZ9XSpcXF0pJC91LFxuXG4gIC8vIDcuMy4zLiBIb3N0bmFtZXNcblxuICAvLyA3LjMuNC4gSVAgQWRkcmVzc2VzXG4gICdpcC1hZGRyZXNzJzogL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPykkLyxcbiAgLy8gRklYTUUgd2hpdGVzcGFjZSBpcyBpbnZhbGlkXG4gICdpcHY2JzogL15cXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKCUuKyk/XFxzKiQvLFxuXG4gIC8vIDcuMy41LiBSZXNvdXJjZSBJZGVudGlmaWVyc1xuICAvLyBUT0RPOiBBIG1vcmUgYWNjdXJhdGUgcmVndWxhciBleHByZXNzaW9uIGZvciBcInVyaVwiIGdvZXM6XG4gIC8vIFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6KCgvKC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT8pPyk/IyglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqfCgvKC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT9bLz9dfFshJCYtLjAtOz0/LVpfYS16fl0pfC8/JVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOz0/LVpfYS16fl0pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSooIyglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqKT98LygvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fl0pKyg6XFxkKik/fChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT86XFxkKnxcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pPyk/XG4gICd1cmknOiAvXlthLXpBLVpdW2EtekEtWjAtOSsuLV0qOlteXFxzXSokLyxcbiAgJ3VyaS1yZWZlcmVuY2UnOiAvXigoKChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qKDolWzAtOUEtRmEtZl17Mn18OlshJCYtLjAtOz0/LVpfYS16fl18Wy8/XSl8XFw/KSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqfChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOj8pPyl8KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6KT9cXC8oKCVbMC05QS1GYS1mXXsyfXxcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT9bLz9dfFshJCYtLjAtOz0/LVpfYS16fl0pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8KFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopPyk/KSkjKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8KChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qKT8lWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1AX35dfFtBLVphLXpdWytcXC0uMC05QS1aYS16XSpbISQmLSosOz1AX35dKSglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1ALVpfYS16fl0pKigoKFsvP10oJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKik/I3xbLz9dKSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqKT98KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSooOiVbMC05QS1GYS1mXXsyfXw6WyEkJi0uMC07PT8tWl9hLXp+XXxbLz9dKXxcXD8pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6KT9cXC8oKCVbMC05QS1GYS1mXXsyfXxcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT9bLz9dfFshJCYtLjAtOz0/LVpfYS16fl0pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8XFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fl0pKyg6XFxkKik/fChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT86XFxkKnxcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pP3xbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOj8pPyQvLFxuICAnaXJpJzogL15bYS16QS1aXVthLXpBLVowLTkrLi1dKjpbXlxcc10qJC8sXG4gICdpcmktcmVmZXJlbmNlJzogL14oKCgoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKig6JVswLTlBLUZhLWZdezJ9fDpbISQmLS4wLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dfFsvP10pfFxcPykoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKnwoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjo/KT8pfChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOik/XFwvKCglWzAtOUEtRmEtZl17Mn18XFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fi1cXHV7MTBGRkZGfV0pK3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KSg6XFxkKik/Wy8/XXxbISQmLS4wLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqfChcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT8pPykpIyglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqfCgoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKik/JVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QF9+LVxcdXsxMEZGRkZ9XXxbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qWyEkJi0qLDs9QF9+LVxcdXsxMEZGRkZ9XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QC1aX2Eten4tXFx1ezEwRkZGRn1dKSooKChbLz9dKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSopPyN8Wy8/XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKik/fChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qKDolWzAtOUEtRmEtZl17Mn18OlshJCYtLjAtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV18Wy8/XSl8XFw/KSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqfChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOik/XFwvKCglWzAtOUEtRmEtZl17Mn18XFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fi1cXHV7MTBGRkZGfV0pK3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KSg6XFxkKik/Wy8/XXxbISQmLS4wLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqfFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKSsoOlxcZCopP3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/OlxcZCp8XFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KT98W0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjo/KT8kL3UsXG4gICd1dWlkJzogL15bMC05QS1GXXs4fS1bMC05QS1GXXs0fS1bMC05QS1GXXs0fS1bMC05QS1GXXs0fS1bMC05QS1GXXsxMn0kL2ksXG5cbiAgLy8gNy4zLjYuIHVyaS10ZW1wbGF0ZVxuICAndXJpLXRlbXBsYXRlJzogLyglWzAtOWEtZl17Mn18WyEjJCYoLTs9P0BcXFtcXF1fYS16fl18XFx7WyEjJissLi87PT9AfF0/KCVbMC05YS1mXXsyfXxbMC05X2Etel0pKFxcLj8oJVswLTlhLWZdezJ9fFswLTlfYS16XSkpKig6WzEtOV1cXGR7MCwzfXxcXCopPygsKCVbMC05YS1mXXsyfXxbMC05X2Etel0pKFxcLj8oJVswLTlhLWZdezJ9fFswLTlfYS16XSkpKig6WzEtOV1cXGR7MCwzfXxcXCopPykqXFx9KSovaXUsXG5cbiAgLy8gNy4zLjcuIEpTT04gUG9pbnRlcnNcbiAgJ2pzb24tcG9pbnRlcic6IC9eKFxcLyhbXFx4MDAtXFx4MmUwLUBcXFstfVxceDdmXXx+WzAxXSkqKSokL2l1LFxuICAncmVsYXRpdmUtanNvbi1wb2ludGVyJzogL15cXGQrKCN8KFxcLyhbXFx4MDAtXFx4MmUwLUBcXFstfVxceDdmXXx+WzAxXSkqKSopJC9pdSxcblxuICAvLyBob3N0bmFtZSByZWdleCBmcm9tOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNDIwMjI1LzU2MjhcbiAgJ2hvc3RuYW1lJzogL14oPz0uezEsMjU1fSQpWzAtOUEtWmEtel0oPzooPzpbMC05QS1aYS16XXwtKXswLDYxfVswLTlBLVphLXpdKT8oPzpcXC5bMC05QS1aYS16XSg/Oig/OlswLTlBLVphLXpdfC0pezAsNjF9WzAtOUEtWmEtel0pPykqXFwuPyQvLFxuICAnaG9zdC1uYW1lJzogL14oPz0uezEsMjU1fSQpWzAtOUEtWmEtel0oPzooPzpbMC05QS1aYS16XXwtKXswLDYxfVswLTlBLVphLXpdKT8oPzpcXC5bMC05QS1aYS16XSg/Oig/OlswLTlBLVphLXpdfC0pezAsNjF9WzAtOUEtWmEtel0pPykqXFwuPyQvLFxuXG4gICd1dGMtbWlsbGlzZWMnOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpICYmIHBhcnNlRmxvYXQoaW5wdXQpID09PSBwYXJzZUludChpbnB1dCwgMTApICYmICFpc05hTihpbnB1dCk7XG4gIH0sXG5cbiAgLy8gNy4zLjguIHJlZ2V4XG4gICdyZWdleCc6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBuZXcgUmVnRXhwKGlucHV0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICAvLyBPdGhlciBkZWZpbml0aW9uc1xuICAvLyBcInN0eWxlXCIgd2FzIHJlbW92ZWQgZnJvbSBKU09OIFNjaGVtYSBpbiBkcmFmdC00IGFuZCBpcyBkZXByZWNhdGVkXG4gICdzdHlsZSc6IC9bXFxyXFxuXFx0IF0qW15cXHJcXG5cXHQgXVteOl0qOltcXHJcXG5cXHQgXSpbXlxcclxcblxcdCA7XSpbXFxyXFxuXFx0IF0qOz8vLFxuICAvLyBcImNvbG9yXCIgd2FzIHJlbW92ZWQgZnJvbSBKU09OIFNjaGVtYSBpbiBkcmFmdC00IGFuZCBpcyBkZXByZWNhdGVkXG4gICdjb2xvcic6IC9eKCM/KFswLTlBLUZhLWZdezN9KXsxLDJ9XFxifGFxdWF8YmxhY2t8Ymx1ZXxmdWNoc2lhfGdyYXl8Z3JlZW58bGltZXxtYXJvb258bmF2eXxvbGl2ZXxvcmFuZ2V8cHVycGxlfHJlZHxzaWx2ZXJ8dGVhbHx3aGl0ZXx5ZWxsb3d8KHJnYlxcKFxccypcXGIoWzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKVxcYlxccyosXFxzKlxcYihbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pXFxiXFxzKixcXHMqXFxiKFswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSlcXGJcXHMqXFwpKXwocmdiXFwoXFxzKihcXGQ/XFxkJXwxMDAlKStcXHMqLFxccyooXFxkP1xcZCV8MTAwJSkrXFxzKixcXHMqKFxcZD9cXGQlfDEwMCUpK1xccypcXCkpKSQvLFxuICAncGhvbmUnOiAvXlxcKyg/OlswLTldID8pezYsMTR9WzAtOV0kLyxcbiAgJ2FscGhhJzogL15bYS16QS1aXSskLyxcbiAgJ2FscGhhbnVtZXJpYyc6IC9eW2EtekEtWjAtOV0rJC8sXG59O1xuXG5GT1JNQVRfUkVHRVhQUy5yZWdleHAgPSBGT1JNQVRfUkVHRVhQUy5yZWdleDtcbkZPUk1BVF9SRUdFWFBTLnBhdHRlcm4gPSBGT1JNQVRfUkVHRVhQUy5yZWdleDtcbkZPUk1BVF9SRUdFWFBTLmlwdjQgPSBGT1JNQVRfUkVHRVhQU1snaXAtYWRkcmVzcyddO1xuXG5leHBvcnRzLmlzRm9ybWF0ID0gZnVuY3Rpb24gaXNGb3JtYXQgKGlucHV0LCBmb3JtYXQsIHZhbGlkYXRvcikge1xuICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyAmJiBGT1JNQVRfUkVHRVhQU1tmb3JtYXRdICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoRk9STUFUX1JFR0VYUFNbZm9ybWF0XSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgcmV0dXJuIEZPUk1BVF9SRUdFWFBTW2Zvcm1hdF0udGVzdChpbnB1dCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgRk9STUFUX1JFR0VYUFNbZm9ybWF0XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIEZPUk1BVF9SRUdFWFBTW2Zvcm1hdF0oaW5wdXQpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh2YWxpZGF0b3IgJiYgdmFsaWRhdG9yLmN1c3RvbUZvcm1hdHMgJiZcbiAgICAgIHR5cGVvZiB2YWxpZGF0b3IuY3VzdG9tRm9ybWF0c1tmb3JtYXRdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRvci5jdXN0b21Gb3JtYXRzW2Zvcm1hdF0oaW5wdXQpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxudmFyIG1ha2VTdWZmaXggPSBleHBvcnRzLm1ha2VTdWZmaXggPSBmdW5jdGlvbiBtYWtlU3VmZml4IChrZXkpIHtcbiAga2V5ID0ga2V5LnRvU3RyaW5nKCk7XG4gIC8vIFRoaXMgZnVuY3Rpb24gY291bGQgYmUgY2FwYWJsZSBvZiBvdXRwdXR0aW5nIHZhbGlkIGEgRUNNQVNjcmlwdCBzdHJpbmcsIGJ1dCB0aGVcbiAgLy8gcmVzdWx0aW5nIGNvZGUgZm9yIHRlc3Rpbmcgd2hpY2ggZm9ybSB0byB1c2Ugd291bGQgYmUgdGVucyBvZiB0aG91c2FuZHMgb2YgY2hhcmFjdGVycyBsb25nXG4gIC8vIFRoYXQgbWVhbnMgdGhpcyB3aWxsIHVzZSB0aGUgbmFtZSBmb3JtIGZvciBzb21lIGlsbGVnYWwgZm9ybXNcbiAgaWYgKCFrZXkubWF0Y2goL1suXFxzXFxbXFxdXS8pICYmICFrZXkubWF0Y2goL15bXFxkXS8pKSB7XG4gICAgcmV0dXJuICcuJyArIGtleTtcbiAgfVxuICBpZiAoa2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgIHJldHVybiAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgcmV0dXJuICdbJyArIEpTT04uc3RyaW5naWZ5KGtleSkgKyAnXSc7XG59O1xuXG5leHBvcnRzLmRlZXBDb21wYXJlU3RyaWN0ID0gZnVuY3Rpb24gZGVlcENvbXBhcmVTdHJpY3QgKGEsIGIpIHtcbiAgaWYgKHR5cGVvZiBhICE9PSB0eXBlb2YgYikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhLmV2ZXJ5KGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICByZXR1cm4gZGVlcENvbXBhcmVTdHJpY3QoYVtpXSwgYltpXSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0Jykge1xuICAgIGlmICghYSB8fCAhYikge1xuICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgfVxuICAgIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuICAgIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gYUtleXMuZXZlcnkoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZVN0cmljdChhW3ZdLCBiW3ZdKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gYSA9PT0gYjtcbn07XG5cbmZ1bmN0aW9uIGRlZXBNZXJnZXIgKHRhcmdldCwgZHN0LCBlLCBpKSB7XG4gIGlmICh0eXBlb2YgZSA9PT0gJ29iamVjdCcpIHtcbiAgICBkc3RbaV0gPSBkZWVwTWVyZ2UodGFyZ2V0W2ldLCBlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGFyZ2V0LmluZGV4T2YoZSkgPT09IC0xKSB7XG4gICAgICBkc3QucHVzaChlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29weWlzdCAoc3JjLCBkc3QsIGtleSkge1xuICBkc3Rba2V5XSA9IHNyY1trZXldO1xufVxuXG5mdW5jdGlvbiBjb3B5aXN0V2l0aERlZXBNZXJnZSAodGFyZ2V0LCBzcmMsIGRzdCwga2V5KSB7XG4gIGlmICh0eXBlb2Ygc3JjW2tleV0gIT09ICdvYmplY3QnIHx8ICFzcmNba2V5XSkge1xuICAgIGRzdFtrZXldID0gc3JjW2tleV07XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYgKCF0YXJnZXRba2V5XSkge1xuICAgICAgZHN0W2tleV0gPSBzcmNba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgZHN0W2tleV0gPSBkZWVwTWVyZ2UodGFyZ2V0W2tleV0sIHNyY1trZXldKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVlcE1lcmdlICh0YXJnZXQsIHNyYykge1xuICB2YXIgYXJyYXkgPSBBcnJheS5pc0FycmF5KHNyYyk7XG4gIHZhciBkc3QgPSBhcnJheSAmJiBbXSB8fCB7fTtcblxuICBpZiAoYXJyYXkpIHtcbiAgICB0YXJnZXQgPSB0YXJnZXQgfHwgW107XG4gICAgZHN0ID0gZHN0LmNvbmNhdCh0YXJnZXQpO1xuICAgIHNyYy5mb3JFYWNoKGRlZXBNZXJnZXIuYmluZChudWxsLCB0YXJnZXQsIGRzdCkpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0YXJnZXQgJiYgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIE9iamVjdC5rZXlzKHRhcmdldCkuZm9yRWFjaChjb3B5aXN0LmJpbmQobnVsbCwgdGFyZ2V0LCBkc3QpKTtcbiAgICB9XG4gICAgT2JqZWN0LmtleXMoc3JjKS5mb3JFYWNoKGNvcHlpc3RXaXRoRGVlcE1lcmdlLmJpbmQobnVsbCwgdGFyZ2V0LCBzcmMsIGRzdCkpO1xuICB9XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxubW9kdWxlLmV4cG9ydHMuZGVlcE1lcmdlID0gZGVlcE1lcmdlO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBpbnN0YW5jZSBhZ2FpbnN0IHRoZSBwcm92aWRlZCBzY2hlbWFcbiAqIEltcGxlbWVudHMgVVJJK0pTT04gUG9pbnRlciBlbmNvZGluZywgZS5nLiBcIiU3ZVwiPVwifjBcIj0+XCJ+XCIsIFwifjFcIj1cIiUyZlwiPT5cIi9cIlxuICogQHBhcmFtIG9cbiAqIEBwYXJhbSBzIFRoZSBwYXRoIHRvIHdhbGsgbyBhbG9uZ1xuICogQHJldHVybiBhbnlcbiAqL1xuZXhwb3J0cy5vYmplY3RHZXRQYXRoID0gZnVuY3Rpb24gb2JqZWN0R2V0UGF0aChvLCBzKSB7XG4gIHZhciBwYXJ0cyA9IHMuc3BsaXQoJy8nKS5zbGljZSgxKTtcbiAgdmFyIGs7XG4gIHdoaWxlICh0eXBlb2YgKGs9cGFydHMuc2hpZnQoKSkgPT0gJ3N0cmluZycpIHtcbiAgICB2YXIgbiA9IGRlY29kZVVSSUNvbXBvbmVudChrLnJlcGxhY2UoL34wLywnficpLnJlcGxhY2UoL34xL2csJy8nKSk7XG4gICAgaWYgKCEobiBpbiBvKSkgcmV0dXJuO1xuICAgIG8gPSBvW25dO1xuICB9XG4gIHJldHVybiBvO1xufTtcblxuZnVuY3Rpb24gcGF0aEVuY29kZXIgKHYpIHtcbiAgcmV0dXJuICcvJytlbmNvZGVVUklDb21wb25lbnQodikucmVwbGFjZSgvfi9nLCclN0UnKTtcbn1cbi8qKlxuICogQWNjZXB0IGFuIEFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCByZXR1cm4gYSBKU09OIFBvaW50ZXIgVVJJIGZyYWdtZW50XG4gKiBAcGFyYW0gQXJyYXkgYVxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmVuY29kZVBhdGggPSBmdW5jdGlvbiBlbmNvZGVQb2ludGVyKGEpe1xuICAvLyB+IG11c3QgYmUgZW5jb2RlZCBleHBsaWNpdGx5IGJlY2F1c2UgaGFja3NcbiAgLy8gdGhlIHNsYXNoIGlzIGVuY29kZWQgYnkgZW5jb2RlVVJJQ29tcG9uZW50XG4gIHJldHVybiBhLm1hcChwYXRoRW5jb2Rlcikuam9pbignJyk7XG59O1xuXG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgYSBudW1iZXIgdXNlc1xuICogV2UgbmVlZCB0aGlzIHRvIGdldCBjb3JyZWN0IHJlc3VsdHMgb3V0IG9mIG11bHRpcGxlT2YgYW5kIGRpdmlzaWJsZUJ5XG4gKiB3aGVuIGVpdGhlciBmaWd1cmUgaXMgaGFzIGRlY2ltYWwgcGxhY2VzLCBkdWUgdG8gSUVFRS03NTQgZmxvYXQgaXNzdWVzLlxuICogQHBhcmFtIG51bWJlclxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0cy5nZXREZWNpbWFsUGxhY2VzID0gZnVuY3Rpb24gZ2V0RGVjaW1hbFBsYWNlcyhudW1iZXIpIHtcblxuICB2YXIgZGVjaW1hbFBsYWNlcyA9IDA7XG4gIGlmIChpc05hTihudW1iZXIpKSByZXR1cm4gZGVjaW1hbFBsYWNlcztcblxuICBpZiAodHlwZW9mIG51bWJlciAhPT0gJ251bWJlcicpIHtcbiAgICBudW1iZXIgPSBOdW1iZXIobnVtYmVyKTtcbiAgfVxuXG4gIHZhciBwYXJ0cyA9IG51bWJlci50b1N0cmluZygpLnNwbGl0KCdlJyk7XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICBpZiAocGFydHNbMV1bMF0gIT09ICctJykge1xuICAgICAgcmV0dXJuIGRlY2ltYWxQbGFjZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlY2ltYWxQbGFjZXMgPSBOdW1iZXIocGFydHNbMV0uc2xpY2UoMSkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBkZWNpbWFsUGFydHMgPSBwYXJ0c1swXS5zcGxpdCgnLicpO1xuICBpZiAoZGVjaW1hbFBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgIGRlY2ltYWxQbGFjZXMgKz0gZGVjaW1hbFBhcnRzWzFdLmxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiBkZWNpbWFsUGxhY2VzO1xufTtcblxuZXhwb3J0cy5pc1NjaGVtYSA9IGZ1bmN0aW9uIGlzU2NoZW1hKHZhbCl7XG4gIHJldHVybiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsKSB8fCAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKTtcbn07XG5cbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxudmFyIGdldFJhbmRvbVZhbHVlcztcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgLy8gbGF6eSBsb2FkIHNvIHRoYXQgZW52aXJvbm1lbnRzIHRoYXQgbmVlZCB0byBwb2x5ZmlsbCBoYXZlIGEgY2hhbmNlIHRvIGRvIHNvXG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLiBBbHNvLFxuICAgIC8vIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byAobXNDcnlwdG8pIG9uIElFMTEuXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSB8fCB0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pO1xuXG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3RyaW5naWZ5L3BhcnNlIGZ1bmN0aW9ucyB0aGF0IGRvbid0IG9wZXJhdGVcbiAqIHJlY3Vyc2l2ZWx5LCBzbyB0aGV5IGF2b2lkIGNhbGwgc3RhY2sgZXhjZWVkZWRcbiAqIGVycm9ycy5cbiAqL1xuZXhwb3J0cy5zdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaW5wdXQpIHtcbiAgdmFyIHF1ZXVlID0gW107XG4gIHF1ZXVlLnB1c2goe29iajogaW5wdXR9KTtcblxuICB2YXIgcmVzID0gJyc7XG4gIHZhciBuZXh0LCBvYmosIHByZWZpeCwgdmFsLCBpLCBhcnJheVByZWZpeCwga2V5cywgaywga2V5LCB2YWx1ZSwgb2JqUHJlZml4O1xuICB3aGlsZSAoKG5leHQgPSBxdWV1ZS5wb3AoKSkpIHtcbiAgICBvYmogPSBuZXh0Lm9iajtcbiAgICBwcmVmaXggPSBuZXh0LnByZWZpeCB8fCAnJztcbiAgICB2YWwgPSBuZXh0LnZhbCB8fCAnJztcbiAgICByZXMgKz0gcHJlZml4O1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJlcyArPSB2YWw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmVzICs9IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IEpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgfSBlbHNlIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgIHJlcyArPSAnbnVsbCc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ10nfSk7XG4gICAgICBmb3IgKGkgPSBvYmoubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgYXJyYXlQcmVmaXggPSBpID09PSAwID8gJycgOiAnLCc7XG4gICAgICAgIHF1ZXVlLnB1c2goe29iajogb2JqW2ldLCBwcmVmaXg6IGFycmF5UHJlZml4fSk7XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICdbJ30pO1xuICAgIH0gZWxzZSB7IC8vIG9iamVjdFxuICAgICAga2V5cyA9IFtdO1xuICAgICAgZm9yIChrIGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAga2V5cy5wdXNoKGspO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICd9J30pO1xuICAgICAgZm9yIChpID0ga2V5cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICBvYmpQcmVmaXggPSAoaSA+IDAgPyAnLCcgOiAnJyk7XG4gICAgICAgIG9ialByZWZpeCArPSBKU09OLnN0cmluZ2lmeShrZXkpICsgJzonO1xuICAgICAgICBxdWV1ZS5wdXNoKHtvYmo6IHZhbHVlLCBwcmVmaXg6IG9ialByZWZpeH0pO1xuICAgICAgfVxuICAgICAgcXVldWUucHVzaCh7dmFsOiAneyd9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbi8vIENvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciB0aGUgcGFyc2UgZnVuY3Rpb24uXG4vLyBUaGlzIHBvcCBmdW5jdGlvbiBpcyBiYXNpY2FsbHkgY29waWVkIGZyb21cbi8vIHBvdWNoQ29sbGF0ZS5wYXJzZUluZGV4YWJsZVN0cmluZ1xuZnVuY3Rpb24gcG9wKG9iaiwgc3RhY2ssIG1ldGFTdGFjaykge1xuICB2YXIgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgaWYgKG9iaiA9PT0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQpIHtcbiAgICAvLyBwb3BwaW5nIGEgbWV0YS1lbGVtZW50LCBlLmcuIGFuIG9iamVjdCB3aG9zZSB2YWx1ZSBpcyBhbm90aGVyIG9iamVjdFxuICAgIG1ldGFTdGFjay5wb3AoKTtcbiAgICBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICB9XG4gIHZhciBlbGVtZW50ID0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQ7XG4gIHZhciBsYXN0RWxlbWVudEluZGV4ID0gbGFzdE1ldGFFbGVtZW50LmluZGV4O1xuICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgIGVsZW1lbnQucHVzaChvYmopO1xuICB9IGVsc2UgaWYgKGxhc3RFbGVtZW50SW5kZXggPT09IHN0YWNrLmxlbmd0aCAtIDIpIHsgLy8gb2JqIHdpdGgga2V5K3ZhbHVlXG4gICAgdmFyIGtleSA9IHN0YWNrLnBvcCgpO1xuICAgIGVsZW1lbnRba2V5XSA9IG9iajtcbiAgfSBlbHNlIHtcbiAgICBzdGFjay5wdXNoKG9iaik7IC8vIG9iaiB3aXRoIGtleSBvbmx5XG4gIH1cbn1cblxuZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBtZXRhU3RhY2sgPSBbXTsgLy8gc3RhY2sgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICB2YXIgaSA9IDA7XG4gIHZhciBjb2xsYXRpb25JbmRleCxwYXJzZWROdW0sbnVtQ2hhcjtcbiAgdmFyIHBhcnNlZFN0cmluZyxsYXN0Q2gsbnVtQ29uc2VjdXRpdmVTbGFzaGVzLGNoO1xuICB2YXIgYXJyYXlFbGVtZW50LCBvYmpFbGVtZW50O1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbGxhdGlvbkluZGV4ID0gc3RyW2krK107XG4gICAgaWYgKGNvbGxhdGlvbkluZGV4ID09PSAnfScgfHxcbiAgICAgICAgY29sbGF0aW9uSW5kZXggPT09ICddJyB8fFxuICAgICAgICB0eXBlb2YgY29sbGF0aW9uSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoc3RhY2subGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzdGFjay5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvcChzdGFjay5wb3AoKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGNvbGxhdGlvbkluZGV4KSB7XG4gICAgICBjYXNlICcgJzpcbiAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICBjYXNlICdcXG4nOlxuICAgICAgY2FzZSAnOic6XG4gICAgICBjYXNlICcsJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICduJzpcbiAgICAgICAgaSArPSAzOyAvLyAndWxsJ1xuICAgICAgICBwb3AobnVsbCwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIGkgKz0gMzsgLy8gJ3J1ZSdcbiAgICAgICAgcG9wKHRydWUsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2YnOlxuICAgICAgICBpICs9IDQ7IC8vICdhbHNlJ1xuICAgICAgICBwb3AoZmFsc2UsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzAnOlxuICAgICAgY2FzZSAnMSc6XG4gICAgICBjYXNlICcyJzpcbiAgICAgIGNhc2UgJzMnOlxuICAgICAgY2FzZSAnNCc6XG4gICAgICBjYXNlICc1JzpcbiAgICAgIGNhc2UgJzYnOlxuICAgICAgY2FzZSAnNyc6XG4gICAgICBjYXNlICc4JzpcbiAgICAgIGNhc2UgJzknOlxuICAgICAgY2FzZSAnLSc6XG4gICAgICAgIHBhcnNlZE51bSA9ICcnO1xuICAgICAgICBpLS07XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgbnVtQ2hhciA9IHN0cltpKytdO1xuICAgICAgICAgIGlmICgvW1xcZFxcLlxcLWVcXCtdLy50ZXN0KG51bUNoYXIpKSB7XG4gICAgICAgICAgICBwYXJzZWROdW0gKz0gbnVtQ2hhcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvcChwYXJzZUZsb2F0KHBhcnNlZE51bSksIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgcGFyc2VkU3RyaW5nID0gJyc7XG4gICAgICAgIGxhc3RDaCA9IHZvaWQgMDtcbiAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzID0gMDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBjaCA9IHN0cltpKytdO1xuICAgICAgICAgIGlmIChjaCAhPT0gJ1wiJyB8fCAobGFzdENoID09PSAnXFxcXCcgJiZcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzICUgMiA9PT0gMSkpIHtcbiAgICAgICAgICAgIHBhcnNlZFN0cmluZyArPSBjaDtcbiAgICAgICAgICAgIGxhc3RDaCA9IGNoO1xuICAgICAgICAgICAgaWYgKGxhc3RDaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvcChKU09OLnBhcnNlKCdcIicgKyBwYXJzZWRTdHJpbmcgKyAnXCInKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIGFycmF5RWxlbWVudCA9IHsgZWxlbWVudDogW10sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChhcnJheUVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKGFycmF5RWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneyc6XG4gICAgICAgIG9iakVsZW1lbnQgPSB7IGVsZW1lbnQ6IHt9LCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2gob2JqRWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2gob2JqRWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICd1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6ICcgKyBjb2xsYXRpb25JbmRleCk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7IiwiaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IERyYWdBY3Rpb24sIEVkaXRvckFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEJCb3gsIGlzT3V0T2ZTVkdCb3VuZHMsIGdldEdseXBoQkJveCB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBzZWxlY3RBbGwsIHNlbGVjdEJCb3gsIHNlbGVjdFN0YWZmIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5cbmNsYXNzIERyYWdIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICBwcml2YXRlIHNlbGVjdG9yOiBzdHJpbmc7XG4gIHByaXZhdGUgc2VsZWN0aW9uOiBTVkdHcmFwaGljc0VsZW1lbnRbXTtcbiAgcHJpdmF0ZSBub01vdmVQcmVjZWRlczogU1ZHR3JhcGhpY3NFbGVtZW50W107XG5cbiAgcHJpdmF0ZSBkcmFnU3RhcnRDb29yZHM6IFtudW1iZXIsIG51bWJlcl0gPSBbLTEsIC0xXTtcbiAgcHJpdmF0ZSByZXNldFRvQWN0aW9uOiAoc2VsZWN0aW9uOiBkMy5TZWxlY3Rpb248ZDMuQmFzZVR5cGUsIHVua25vd24sIEhUTUxFbGVtZW50LCB1bmtub3duPiwgYXJnczogdW5rbm93bltdKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgZHg6IG51bWJlcjtcbiAgcHJpdmF0ZSBkeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBDU1Mgc2VsZWN0b3Igb2YgZWxlbWVudCB0byBhcHBseSBkcmFnIGhhbmRsZXIgdG8uXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBzZWxlY3Rvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBkcmFnZ2luZyBhY3Rpb24gYW5kIGhhbmRsZXIgZm9yIHNlbGVjdGVkIGVsZW1lbnRzLlxuICAgKi9cbiAgZHJhZ0luaXQgKCk6IHZvaWQge1xuICAgIC8vIERyYWcgZWZmZWN0c1xuICAgIGZ1bmN0aW9uIGRyYWdTdGFydGVkICgpOiB2b2lkIHtcbiAgICAgIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzID0gW2QzLmV2ZW50LngsIGQzLmV2ZW50LnldO1xuICAgICAgdGhpcy5keCA9IDA7XG4gICAgICB0aGlzLmR5ID0gMDtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldDtcbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICAgIGQzLnNlbGVjdCh0aGlzLnNlbGVjdG9yKS5jYWxsKGRyYWdCZWhhdmlvdXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZGluZyBsaXN0ZW5lcnNcbiAgICBjb25zdCBkcmFnQmVoYXZpb3VyID0gZDMuZHJhZygpXG4gICAgICAub24oJ3N0YXJ0JywgZHJhZ1N0YXJ0ZWQuYmluZCh0aGlzKSlcbiAgICAgIC5vbignZHJhZycsIHRoaXMuZHJhZ2dpbmcuYmluZCh0aGlzKSlcbiAgICAgIC5vbignZW5kJywgdGhpcy5kcmFnRW5kZWQuYmluZCh0aGlzKSk7XG5cbiAgICBjb25zdCBhY3RpdmVOYyA9IGQzLnNlbGVjdEFsbCgnLnNlbGVjdGVkJyk7XG4gICAgYWN0aXZlTmMuY2FsbChkcmFnQmVoYXZpb3VyKTtcblxuICAgIGxldCBzZWxlY3Rpb24gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnNlbGVjdGVkJykpO1xuXG4gICAgLy8gaWYgdGhlIHVzZXIgZHJhZ3MgdGhlIGZvbGxvd3Mgc3lsbGFibGUgaW4gYSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlLCBcbiAgICAvLyBjYW5jZWwgdGhlIGNvbXBlbnNhdGlvbiBmb3Igc3lsIG1vdmVtZW50IGluIGRyYWdnaW5nLlxuICAgIHRoaXMubm9Nb3ZlUHJlY2VkZXMgPSBzZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSAmJiBlbC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpKTtcbiAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW1vdmluZycpKTtcblxuICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnJlc2l6ZVBvaW50JykpKTtcbiAgfVxuXG4gIGRyYWdnaW5nICgpOiB2b2lkIHtcbiAgICB0aGlzLmR4ID0gZDMuZXZlbnQueCAtIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzBdO1xuICAgIHRoaXMuZHkgPSBkMy5ldmVudC55IC0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMV07XG5cbiAgICB0aGlzLm1vdmVFbGVtZW50cyh0aGlzLnNlbGVjdGlvbiwgdGhpcy5keCwgdGhpcy5keSk7XG5cbiAgICAvKlxuICAgICAqIGlmIHdlJ3JlIGRyYWdnaW5nIGEgc3lsbGFibGUgKG9yIG5ldW1lIGV0YykgdGhlbiB0aGVyZSB3b24ndCBiZSBhIHN5bCBzZWxlY3RlZFxuICAgICAqIHRoZW4gd2UgZG9uJ3Qgd2FudCB0aGUgYm91bmRpbmcgYm94IChpZiBpdCBpcyBkaXNwbGF5ZWQpIHRvIG1vdmUgd2hlbiBkcmFnZ2luZyB0aGUgbmV1bWVzXG4gICAgICogaXQgd2lsbCBiZSBhIGNoaWxkIG9mIHRoZSBlbGVtZW50IGluIHNlbGVjdGlvbiwgc28gaXQgd2lsbCBnZXQgbW92ZWQgaW4gdGhlIGFib3ZlIGxvb3BcbiAgICAgKiBzbyB3ZSBjYW5jZWwgdGhhdCBtb3ZlbWVudCBvdXQgaGVyZVxuICAgICAqL1xuICAgIGNvbnN0IHN5bHMgPSB0aGlzLnNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKTtcbiAgICBpZiAoc3lscy5sZW5ndGggPT09IDAgJiYgdGhpcy5ub01vdmVQcmVjZWRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLm1vdmVFbGVtZW50cyhiYm94ZXMsIC10aGlzLmR4LCAtdGhpcy5keSk7XG4gICAgfVxuICB9XG5cblxuICBkcmFnRW5kZWQgKCk6IHZvaWQge1xuICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaGFzIG5vdCBiZWVuIG1vdmVkIG1vcmUgdGhhbiA1IHBpeGVscyBpbiBhbnkgZGlyZWN0aW9uLFxuICAgIC8vIGRvIG5vdCBkbyBhbnkgYWN0aW9uXG4gICAgY29uc3QgeERpZmYgPSBNYXRoLmFicyh0aGlzLmR4KSwgeURpZmYgPSBNYXRoLmFicyh0aGlzLmR5KTtcbiAgICBpZiAoeERpZmYgPD0gNSAmJiB5RGlmZiA8PSA1KSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLmRyYWdJbml0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIHNlbGVjdGlvbiBmb3IgZHJhZ2dhYmxlIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygncmVzaXplUG9pbnQnKSk7XG5cbiAgICAvLyBJZiB0aGUgY3Vyc29yIGlzIG91dCBvZiBib3VuZHMgb3IgdGhlIHNlbGVjdGlvbiBhcnJheSBpcyBvdXQgb2YgYm91bmRzLFxuICAgIC8vIGRyYWcgYWN0aW9ucyBzaG91bGQgbm90IGhhcHBlbi4gUmV0dXJuIGFuIGVycm9yIG5vdGlmaWNhdGlvbiBhbmQgcmVzZXRcbiAgICAvLyB0aGUgZHJhZyBoYW5kbGVyXG4gICAgaWYgKHRoaXMuaXNDdXJzb3JPdXRPZkJvdW5kcygpIHx8IHRoaXMuaXNEcmFnT3V0T2ZCb3VuZHMoc2VsZWN0aW9uKSkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBzZWxlY3Rpb24gYmFjayB0byBub3JtYWwgc3RhdGVcbiAgICAgIHRoaXMucmV0dXJuRWxlbWVudHModGhpcy5zZWxlY3Rpb24pO1xuXG4gICAgICAvLyBSZXR1cm4gdGhlIGJvdW5kaW5nIGJveGVzIGFzIHdlbGxcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLnJldHVybkVsZW1lbnRzKGJib3hlcyk7XG5cbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBEcmFnIGFjdGlvbiBmYWlsZWQuJywgJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBjaGFpbiBlZGl0b3IgYWN0aW9uIGZvciBzZWxlY3Rpb25cbiAgICBjb25zdCBwYXJhbUFycmF5OiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICAgIHNlbGVjdGlvbi5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBlbC50YWdOYW1lID09PSAncmVjdCcgPyBlbC5jbG9zZXN0KCcuc3lsJykuaWQgOiBlbC5pZDtcblxuICAgICAgY29uc3QgZHJhZ0FjdGlvbjogRHJhZ0FjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZHJhZycsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgICB4OiB0aGlzLmR4LFxuICAgICAgICAgIHk6IC10aGlzLmR5LFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBwYXJhbUFycmF5LnB1c2goZHJhZ0FjdGlvbik7XG4gICAgfSk7XG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICBwYXJhbTogcGFyYW1BcnJheVxuICAgIH07XG5cbiAgICAvLyBTZW5kIGVkaXRvciBhY3Rpb25cbiAgICB0aGlzLm5lb25WaWV3XG4gICAgICAuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBOZW9uIHJlLXJlbmRlcnMgdGhlIGVudGlyZSBTVkcsIGFuZCBoZW5jZSwgYmVmb3JlIHdlIGRvIHNvLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHN0b3JlIGFsbCB0aGUgZWxlbWVudHMgKElEcykgd2UgbmVlZCB0byBzZWxlY3QgYWdhaW5cbiAgICAgICAgLy8gVGhlbiwgd2UgbmVlZCB0byByZXNlbGVjdCB0aGVtIGJ5IGNhbGxpbmcgYHRoaXMucmVzZWxlY3QoKWBcbiAgICAgICAgY29uc3QgdG9SZXNlbGVjdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykpXG4gICAgICAgICAgLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSlcbiAgICAgICAgICAubWFwKGVsID0+IGVsLmlkKTtcblxuICAgICAgICAvLyBDQVVUSU9OOiBgdXBkYXRlRm9yQ3VycmVudFBhZ2UoKWAgaXMgYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uIVxuICAgICAgICAvLyBJdCByZXF1aXJlcyBhbiBgYXdhaXRgIGtleXdvcmQuXG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgdGhpcy5lbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICAvLyBSZXNlbGVjdCB0aGUgZWxlbWVudHMgYW5kIHJlaW5pdGlhbGl6ZSBkcmFnXG4gICAgICAgIGF3YWl0IHRoaXMucmVzZWxlY3QodG9SZXNlbGVjdCk7XG4gICAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgcmVzZWxlY3QgKHRvUmVzZWxlY3Q6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmVzZWxlY3RlZCA9IHRvUmVzZWxlY3QubWFwKGlkID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHR3JhcGhpY3NFbGVtZW50PihgIyR7aWR9YCkpO1xuXG4gICAgLy8gQWxsIGdseXBocyBleGNlcHQgYm91ZGluZyBib3hlcyAoJ3N5bCdzKSBtdXN0IGJlIHNlbGVjdGVkIHdpdGhcbiAgICAvLyBgc2VsZWN0QWxsKClgXG4gICAgcmVzZWxlY3RlZFxuICAgICAgLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSlcbiAgICAgIC5mb3JFYWNoKGFzeW5jICgpID0+IGF3YWl0IHNlbGVjdEFsbChyZXNlbGVjdGVkLCB0aGlzLm5lb25WaWV3LCB0aGlzKSk7XG5cbiAgICAvLyBCb3VuZGluZyBib3hlcyBtdXN0IGJlIGV4cGxpY2l0bHkgc2VsZWN0ZWQgdXNpbmcgYHNlbGVjdEJCb3goKWBcbiAgICByZXNlbGVjdGVkXG4gICAgICAuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAgZWwgPT4gc2VsZWN0QkJveChlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCB0aGlzLCB0aGlzLm5lb25WaWV3KVxuICAgICAgKTtcblxuICAgIC8vIFN0YXZlcyBtdXN0IGJlIGV4cGxpY2l0bHkgc2VsZWN0ZWQgdXNpbmcgYHNlbGVjdFN0YWZmKClgXG4gICAgLy8gQU5EIG11c3QgYmUgc2VsZWN0ZWQgd2l0aCBgc2VsZWN0QWxsKClgIGZvciBjb3JyZWN0IGJlaGF2aW9yIChmb3Igc29tZSByZWFzb24pLlxuICAgIHJlc2VsZWN0ZWRcbiAgICAgIC5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKVxuICAgICAgLmZvckVhY2goZWwgPT4gc2VsZWN0U3RhZmYoZWwsIHRoaXMpKTtcbiAgfVxuXG4gIC8qKiBTZXQgdGhlIGQzIGFjdGlvbiB0byB1c2UgZm9yIFtbcmVzZXRdXS4gKi9cbiAgcmVzZXRUbyAocmVzZXQ6IChzZWxlY3Rpb246IGQzLlNlbGVjdGlvbjxkMy5CYXNlVHlwZSwgdW5rbm93biwgSFRNTEVsZW1lbnQsIHVua25vd24+LCBhcmdzOiB1bmtub3duW10pID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnJlc2V0VG9BY3Rpb24gPSByZXNldDtcbiAgfVxuXG4gIC8qKiBSZXNldCB0byBhIHByZXZpb3VzIGQzIGFjdGlvbiBmb3IgW1t0aGlzLnNlbGVjdG9yXV0uICovXG4gIHJlc2V0ICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZXNldFRvQWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGQzLnNlbGVjdCh0aGlzLnNlbGVjdG9yKS5jYWxsKHRoaXMucmVzZXRUb0FjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZW5kT3B0aW9uc1NlbGVjdGlvbiAoKTogdm9pZCB7XG4gICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgICBjb25zdCBleHRyYUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0Jyk7XG4gICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfVxuICAgIGlmIChleHRyYUVkaXQpIHtcbiAgICAgIGV4dHJhRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGV4dHJhRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWaXN1YWxseSBtb3ZlIHRoZSBzZWxlY3RlZCBlbGVtZW50cyBieSBgZHhgIGFuZCBgZHlgOyAobm90IHVzaW5nIGQzKVxuICAgKi9cbiAgbW92ZUVsZW1lbnRzIChzZWxlY3Rpb246IEVsZW1lbnRbXSwgZHg6IG51bWJlciwgZHk6IG51bWJlcik6IHZvaWQge1xuICAgIHNlbGVjdGlvbi5maWx0ZXIoZWwgPT4gZWwgIT09IG51bGwpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtkeH0sJHtkeX0pYCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVmlzdWFsbHkgcmV0dXJuIHNlbGVjdGVkIGVsZW1lbnRzIHRvIHRoZWlyIG9yaWdpbmFsIHBvc2l0aW9uc1xuICAgKiBieSByZW1vdmluZyB0aGUgdHJhbnNmb3JtIGF0dHJpYnV0ZVxuICAgKi9cbiAgcmV0dXJuRWxlbWVudHMgKHNlbGVjdGlvbjogRWxlbWVudFtdKTogdm9pZCB7XG4gICAgc2VsZWN0aW9uLmZpbHRlcihlbCA9PiBlbCAhPT0gbnVsbCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgndHJhbnNmb3JtJyk7XG4gICAgfSk7XG4gIH1cblxuICBpc0N1cnNvck91dE9mQm91bmRzICgpOiBib29sZWFuIHtcbiAgICBjb25zdCBlbmRYID0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMF0gKyB0aGlzLmR4O1xuICAgIGNvbnN0IGVuZFkgPSB0aGlzLmRyYWdTdGFydENvb3Jkc1sxXSArIHRoaXMuZHk7XG5cbiAgICByZXR1cm4gaXNPdXRPZlNWR0JvdW5kcyhlbmRYLCBlbmRZKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHNlbGVjdGlvbiBhcnJheSBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgU1ZHXG4gICAqIEBwYXJhbSB7U1ZHR3JhcGhpY3NFbGVtZW50W119IHNlbGVjdGlvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgc2VsZWN0aW9uIG91dCBvZiBib3VuZHNcbiAgICovXG4gIGlzRHJhZ091dE9mQm91bmRzIChzZWxlY3Rpb246IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gICAgLy8gR2V0IHRoZSBib3VuZGluZyBib3hlcyBvZiBhbGwgZ2x5cGhzICg8dXNlPiBlbGVtZW50cykgd2l0aGluIHRoZSBzZWxlY3Rpb24gYXJyYXlcbiAgICBjb25zdCBpc0JCb3hEaXNwbGF5ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGlzcGxheUJCb3gnKS5jaGVja2VkO1xuICAgIGxldCBnbHlwaFNlbGVjdG9yID0gaXNCQm94RGlzcGxheWVkID8gJ3VzZSwgcmVjdCcgOiAndXNlJztcblxuICAgIGlmIChzZWxlY3Rpb25bMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSBnbHlwaFNlbGVjdG9yID0gJ3BhdGgnO1xuXG4gICAgY29uc3QgZ2x5cGhzOiBTVkdVc2VFbGVtZW50W10gPSBzZWxlY3Rpb24ucmVkdWNlKFxuICAgICAgKGFjYywgZWwpID0+IGFjYy5jb25jYXQoLi4uZWwucXVlcnlTZWxlY3RvckFsbChnbHlwaFNlbGVjdG9yKSksIFtdXG4gICAgKTtcbiAgICBjb25zdCBnbHlwaEJCb3hlczogQkJveFtdID0gZ2x5cGhzLm1hcChnZXRHbHlwaEJCb3gpO1xuXG4gICAgLy8gR2V0IHRoZSBzdXJyb3VuZGluZyBib3VuZGluZyBib3ggb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VsZWN0aW9uQkJveDogQkJveCA9IGdseXBoQkJveGVzLnJlZHVjZShcbiAgICAgIChiYm94LCBjdXJyKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdWx4OiBNYXRoLm1pbihiYm94LnVseCwgY3Vyci51bHgpLFxuICAgICAgICAgIHVseTogTWF0aC5taW4oYmJveC51bHksIGN1cnIudWx5KSxcbiAgICAgICAgICBscng6IE1hdGgubWF4KGJib3gubHJ4LCBjdXJyLmxyeCksXG4gICAgICAgICAgbHJ5OiBNYXRoLm1heChiYm94LmxyeSwgY3Vyci5scnkpLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWx4OiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICB1bHk6IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICAgIGxyeDogTnVtYmVyLk1JTl9WQUxVRSxcbiAgICAgICAgbHJ5OiBOdW1iZXIuTUlOX1ZBTFVFLFxuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25zdCB7IHVseCwgdWx5LCBscngsIGxyeSB9ID0gc2VsZWN0aW9uQkJveDtcbiAgICByZXR1cm4gaXNPdXRPZlNWR0JvdW5kcyh1bHggKyB0aGlzLmR4LCB1bHkgKyB0aGlzLmR5KSB8fCBpc091dE9mU1ZHQm91bmRzKGxyeCArIHRoaXMuZHgsIGxyeSArIHRoaXMuZHkpO1xuICB9XG59XG5cbmV4cG9ydCB7IERyYWdIYW5kbGVyIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0ICogYXMgV2FybmluZ3MgZnJvbSAnLi4vV2FybmluZ3MnO1xuaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgKiBhcyBTZWxlY3RUb29scyBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4uL1NxdWFyZUVkaXQvU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uLCBUb2dnbGVMaWdhdHVyZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IHJlbW92ZUhhbmRsZXIsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIgfSBmcm9tICcuL1NlbGVjdE9wdGlvbnMnO1xuXG4vKipcbiAqIFRoZSBOZW9uVmlldyBwYXJlbnQgdG8gYWNjZXNzIGVkaXRvciBhY3Rpb25zLlxuICovXG5sZXQgbmVvblZpZXc6IE5lb25WaWV3O1xuXG4vKipcbiAqIFNldCB0aGUgbmVvblZpZXcgbWVtYmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdE5lb25WaWV3KHZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gIG5lb25WaWV3ID0gdmlldztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBzZWxlY3RlZCBlbGVtZW50cyBjYW4gYmUgZ3JvdXBlZCBvciBub3RcbiAqIEByZXR1cm5zIHRydWUgaWYgY2FuIGJlIGdyb3VwZWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNHcm91cGFibGUoXG4gIHNlbGVjdGlvblR5cGU6IHN0cmluZyxcbiAgZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4sXG4pOiBib29sZWFuIHtcbiAgY29uc3QgZ3JvdXBzID0gQXJyYXkuZnJvbShlbGVtZW50cy52YWx1ZXMoKSkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG5cbiAgaWYgKGdyb3Vwcy5sZW5ndGggPCAyKSB7XG4gICAgLy8gY2Fubm90IGdyb3VwIGlmIG9ubHkgMSBlbGVtZW50IGlzIHNlbGVjdGVkXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAvLyBpZiBuZXVtZXMgYXJlIGluIHNhbWUgc3lsbGFibGUsIGRvbid0IGRpc3BsYXkgZ3JvdXBpbmcgb3B0aW9uXG4gICAgICBpZiAoU2VsZWN0VG9vbHMuc2hhcmVkTG9naWNhbFBhcmVudChzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBjaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgYXJlIGFkamFjZW50IHRvIGVhY2ggb3RoZXJcbiAgICAgIGlmIChTZWxlY3RUb29scy5hcmVBZGphY2VudChzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29udGFpbnNMaW5rZWQoXG4gIHNlbGVjdGlvblR5cGU6IHN0cmluZyxcbiAgZWxlbWVudHM/OiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuKSB7XG4gIGlmICghZWxlbWVudHMpIHtcbiAgICBlbGVtZW50cyA9IEFycmF5LmZyb20oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSxcbiAgICApIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICB9XG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSB8fFxuICAgICAgICAgIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKVxuICAgICAgICApIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAnVGhlIGFjdGlvbiBpbnZvbHZlcyBsaW5rZWQgc3lsbGFibGVzLCBwbGVhc2UgdW50b2dnbGUgdGhlbSBmaXJzdCcsXG4gICAgICAgICAgICAnd2FybmluZycsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykgfHxcbiAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKVxuICAgICAgICApIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAnVGhlIGFjdGlvbiBpbnZvbHZlcyBsaW5rZWQgc3lsbGFibGVzLCBwbGVhc2UgdW50b2dnbGUgdGhlbSBmaXJzdCcsXG4gICAgICAgICAgICAnd2FybmluZycsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSB8fFxuICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgJ1RoZSBhY3Rpb24gaW52b2x2ZXMgbGlua2VkIHN5bGxhYmxlcywgcGxlYXNlIHVudG9nZ2xlIHRoZW0gZmlyc3QnLFxuICAgICAgICAgICAgJ3dhcm5pbmcnLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYXNJbnZhbGlkTGlua2VkU3lsbGFibGUoXG4gIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuKTogYm9vbGVhbiB7XG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVsZW1lbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICBjb25zdCBzeWxsYWJsZSA9IGVsZW1lbnRzLmF0KGlkeCk7XG4gICAgaWYgKHN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICAgIC8vIEdldCB4bWw6aWQgb2YgdGhlIG5leHQgc3lsbGFibGUgKHdpdGhvdXQgdGhlICMsIGlmIGl0IGV4aXN0cylcbiAgICAgIGNvbnN0IG5leHRTeWxsYWJsZUlkID0gc3lsbGFibGVcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJylcbiAgICAgICAgLnJlcGxhY2UoJyMnLCAnJyk7XG5cbiAgICAgIC8vIEZpbmQgdGhlIG5leHQgc3lsbGFibGUgYW5kIGl0cyBpbmRleCBpbiB0aGUgYXJyYXlcbiAgICAgIGxldCBuZXh0U3lsbGFibGVJZHg6IG51bWJlcjtcbiAgICAgIGNvbnN0IG5leHRTeWxsYWJsZSA9IGVsZW1lbnRzLmZpbmQoKGVsZW1lbnQsIGlkeCkgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC5pZCA9PT0gbmV4dFN5bGxhYmxlSWQpIHtcbiAgICAgICAgICBuZXh0U3lsbGFibGVJZHggPSBpZHg7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ29uZGl0aW9uIDE6IFRoZSBuZXh0IChmb2xsb3dpbmcpIHN5bGxhYmxlIGNhbm5vdCBiZSBmb3VuZFxuICAgICAgaWYgKCFuZXh0U3lsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAyOiBUaGUgbmV4dCBzeWxsYWJsZSBoYXMgYmVlbiBmb3VuZCwgYnV0IHRoZSBAZm9sbG93cyBhdHRyaWJ1dGUgZG9lcyBOT1QgRVhJU1RcbiAgICAgIGlmICghbmV4dFN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDM6IFRoZSBuZXh0IHN5bGxhYmxlJ3MgQGZvbGxvd3MgYXR0cmlidXRlIGV4aXN0cywgYnV0IGl0IGlzIG5vdCBpbiB0aGUgY29ycmVjdCBmb3JtYXQgI2lkXG4gICAgICBpZiAobmV4dFN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSAhPSAnIycgKyBzeWxsYWJsZS5pZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDQ6XG4gICAgICAvLyBTaW5jZSB0aGUgQGZvbGxvd3MgdmFsdWUgaXMgY29ycmVjdCwgYSBwYWlyIG9mIHN5bGxhYmxlcyBleGlzdCBmb3IgdGhlIHRvZ2dsZS1saW5rZWQgc3lsbGFibGUuXG4gICAgICAvLyBDaGVjayBpZiB0aGUgQGZvbGxvd3Mgc3lsbGFibGUgaXMgdGhlIG5leHQgc3lsbGFibGUgKGluZGV4LXdpc2UpIGluIHRoZSBhcnJheTpcbiAgICAgIGlmIChuZXh0U3lsbGFibGVJZHggIT09IGlkeCArIDEpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykpIHtcbiAgICAgIGNvbnN0IHByZXZTeWxsYWJsZUlkID0gc3lsbGFibGVcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKVxuICAgICAgICAucmVwbGFjZSgnIycsICcnKTtcbiAgICAgIGNvbnN0IHByZXZTeWxsYWJsZSA9IGVsZW1lbnRzLmZpbmQoXG4gICAgICAgIChzeWxsYWJsZSkgPT4gc3lsbGFibGUuaWQgPT09IHByZXZTeWxsYWJsZUlkLFxuICAgICAgKTtcblxuICAgICAgLy8gQ29uZGl0aW9uIDE6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSBkb2VzIG5vdCBleGlzdFxuICAgICAgaWYgKCFwcmV2U3lsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAyOiBUaGUgcHJldmlvdXMgc3lsbGFibGUgZXhpc3RzLCBidXQgdGhlIEBwcmVjZWRlcyBhdHRyaWJ1dGUgZG9lcyBOT1QgRVhJU1RcbiAgICAgIGlmICghcHJldlN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAzOiBUaGUgcHJldmlvdXMgc3lsbGFibGUncyBAcHJlY2VkZXMgYXR0cmlidXRlIGV4aXN0cywgYnV0IGl0IGlzIG5vdCBpbiB0aGUgY29ycmVjdCBmb3JtYXQgI2lkXG4gICAgICBpZiAocHJldlN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykgIT0gJyMnICsgc3lsbGFibGUuaWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIHRvIHNlZSBpcyBhIHNlbGVjdGlvbiBvZiBlbGVtZW50cyBpcyBhbHJlYWR5IGxpbmtlZFxuICogQHBhcmFtIGVsZW1lbnRzIGVsZW1lbnRzIHRvIGJlIGNvbnNpZGVyZWRcbiAqIEByZXR1cm5zIHRydWUgaXMgbGlua2VkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTGlua2VkKGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogYm9vbGVhbiB7XG4gIC8vIGV2ZXJ5IGVsZW1lbnQgc2hvdWxkIGJlIGxpbmtlZFxuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICBpZiAoXG4gICAgICAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpICYmXG4gICAgICAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJylcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQXNzdW1pbmcgYWxsIGVsZW1lbnRzIGFyZSB2YWxpZCxcbiAqIGNoZWNrIGlmIHRoZSBlbGVtZW50cyBjYW4gYmUgbGlua2VkOlxuICogMS4gc29ydCBlbGVtZW50cyBiYXNlZCBvbiB0aGVpciBvcmRlciBpbiB0aGUgRE9NXG4gKiAyLiBlbnN1cmUgZWxlbWVudHMgYXJlIGFkamFjZW50IGluIHRoZSBET01cbiAqIDMuIGVuc3VyZSBlbGVtZW50cyBiZWxvbmcgdG8gYWRqYWNlbnQgc3RhdmVzXG4gKiA0LiBjaGVjayBpZiBjYW4gYmUgbGlua2VkOlxuICogICAgNC4xIGlmIGV4YWN0bHkgdHdvIGVsZW1lbnRzLCBib3RoIG5lZWRzIHRvIGJlIHVubGlua2VkXG4gKiAgICA0LjIgaWYgbW9yZSB0aGFuIHR3byBlbGVtZW50cywgb25seSBvbmUgZWxlbWVudCBjYW4gYmUgdW5saW5rZWQsXG4gKiAgICAgICAgYXQgZWl0aGVyIGJlZ2lubmluZyBvciBlbmQgb2YgdGhlIHNlcXVlbmNlXG4gKiBAcGFyYW0gZWxlbWVudHMgZWxlbWVudHMgdG8gYmUgY29uc2lkZXJlZFxuICogQHJldHVybnMgdHJ1ZSBjYW4gYmUgbGlua2VkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5CZUxpbmtlZChlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IGJvb2xlYW4ge1xuICAvLyAxLiBTb3J0IGVsZW1lbnRzIGJhc2VkIG9uIHRoZWlyIG9yZGVyIGluIHRoZSBET01cbiAgZWxlbWVudHMuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IHN0YWZmQSA9IGEuY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgY29uc3Qgc3RhZmZCID0gYi5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICByZXR1cm4gc3RhZmZBLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHN0YWZmQikgJlxuICAgICAgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkdcbiAgICAgID8gLTFcbiAgICAgIDogMTtcbiAgfSk7XG5cbiAgY29uc3Qgc3RhdmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYnKSk7XG4gIGNvbnN0IHN5bGxhYmxlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlJykpO1xuXG4gIC8vIDIuIEVuc3VyZSBzeWxsYWJsZXMgYXJlIGFkamFjZW50IGluIHRoZSBET01cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBjb25zdCBjdXJyZW50ID0gZWxlbWVudHNbaV07XG4gICAgY29uc3QgbmV4dCA9IGVsZW1lbnRzW2kgKyAxXTtcbiAgICBjb25zdCBjdXJyZW50U3lsbGFibGVJbmRleCA9IHN5bGxhYmxlcy5pbmRleE9mKGN1cnJlbnQpO1xuICAgIGNvbnN0IG5leHRTeWxsYWJsZUluZGV4ID0gc3lsbGFibGVzLmluZGV4T2YobmV4dCk7XG4gICAgaWYgKG5leHRTeWxsYWJsZUluZGV4IC0gY3VycmVudFN5bGxhYmxlSW5kZXggIT09IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gU3RhdmVzIG11c3QgYmUgYWRqYWNlbnRcbiAgICB9XG4gICAgLy8gMy4gRW5zdXJlIHN5bGxhYmxlcyBiZWxvbmcgdG8gYWRqYWNlbnQgc3RhdmVzXG4gICAgY29uc3QgY3VycmVudFN0YWZmID0gY3VycmVudC5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICBjb25zdCBuZXh0U3RhZmYgPSBuZXh0LmNsb3Nlc3QoJy5zdGFmZicpO1xuXG4gICAgY29uc3QgY3VycmVudFN0YWZmSW5kZXggPSBzdGF2ZXMuaW5kZXhPZihjdXJyZW50U3RhZmYgYXMgSFRNTEVsZW1lbnQpO1xuICAgIGNvbnN0IG5leHRTdGFmZkluZGV4ID0gc3RhdmVzLmluZGV4T2YobmV4dFN0YWZmIGFzIEhUTUxFbGVtZW50KTtcbiAgICBpZiAobmV4dFN0YWZmSW5kZXggLSBjdXJyZW50U3RhZmZJbmRleCAhPT0gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBTdGF2ZXMgbXVzdCBiZSBhZGphY2VudFxuICAgIH1cbiAgfVxuXG4gIC8vIDQuMSBIYW5kbGUgY2FzZSBmb3IgZXhhY3RseSB0d28gc3lsbGFibGVzXG4gIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICByZXR1cm4gZWxlbWVudHMuZXZlcnkoXG4gICAgICAoZWxlbWVudCkgPT5cbiAgICAgICAgIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSAmJlxuICAgICAgICAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJyksXG4gICAgKTtcbiAgfVxuXG4gIC8vIDQuMiBIYW5kbGUgY2FzZSBmb3IgbW9yZSB0aGFuIHR3byBzeWxsYWJsZXNcbiAgY29uc3QgdW5saW5rZWRFbGVtZW50cyA9IGVsZW1lbnRzLmZpbHRlcihcbiAgICAoZWxlbWVudCkgPT5cbiAgICAgICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykgJiZcbiAgICAgICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSxcbiAgKTtcblxuICBpZiAodW5saW5rZWRFbGVtZW50cy5sZW5ndGggIT09IDEpIHtcbiAgICByZXR1cm4gZmFsc2U7IC8vIE9ubHkgb25lIHVubGlua2VkIHN5bGxhYmxlIGlzIGFsbG93ZWRcbiAgfVxuXG4gIC8vIFRoZSB1bmxpbmtlZCBzeWxsYWJsZSBzaG91bGQgYmUgYXQgdGhlIGJlZ2lubmluZyBvciBlbmRcbiAgY29uc3QgZmlyc3RVbmxpbmtlZCA9IHVubGlua2VkRWxlbWVudHNbMF07XG5cbiAgcmV0dXJuIChcbiAgICBlbGVtZW50cy5pbmRleE9mKGZpcnN0VW5saW5rZWQpID09PSAwIHx8XG4gICAgZWxlbWVudHMuaW5kZXhPZihmaXJzdFVubGlua2VkKSA9PT0gZWxlbWVudHMubGVuZ3RoIC0gMVxuICApO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBzZWxlY3RlZCBlbGVtZW50cyBjYW4gYmUgbGlua2VkIG9yIHVubGlrbmVkLlxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgQ3VycmVudCBzZWxlY3Rpb24gbW9kZS4gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWRcbiAqIEBwYXJhbSBlbGVtZW50cyBUaGUgZWxlbWVudHMgdW5kZXIgcXVlc3Rpb25cbiAqIEByZXR1cm5zIHRydWUgaWYgdXNlciBzaG91bGQgYmUgYWJsZSB0byBsaW5rIG9yIHVuLWxpbmsgZWxlbWVudHMsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMaW5rYWJsZShcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pixcbik6IGJvb2xlYW4ge1xuICAvLyBjYW5ub3QgdG9nZ2xlIGxpbmsgZm9yIHN5bGxhYmxlIHNlbGVjdGlvbiBpZiBudW1iZXIgb2Ygc2VsZWN0ZWRcbiAgLy8gc3lsbGFibGVzIGlzIHNtYWxsZXIgdGhhbiAyXG4gIGlmIChlbGVtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gb25seSBTeWxsYWJsZXMgY2FuIGJlIGxpbmtlZCBvciB1bmxpbmtlZCAoPylcbiAgaWYgKHNlbGVjdGlvblR5cGUgIT09ICdzZWxCeVN5bGxhYmxlJykgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIENoZWNrIGlmIGhhcyBpbnZhbGlkIGxpbmtlZCBzeWxsYWJsZXNcbiAgaWYgKGhhc0ludmFsaWRMaW5rZWRTeWxsYWJsZShlbGVtZW50cykpIHtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAnVGhlIHNlbGVjdGVkIHN5bGxhYmxlcyBpbmNsdWRlIGludmFsaWQgbGlua2VkIHN5bGxhYmxlKHMpIScsXG4gICAgICAnd2FybmluZycsXG4gICAgKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBpZiBBTFJFQURZIGxpbmtlZFxuICBpZiAoaXNMaW5rZWQoZWxlbWVudHMpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLy8gaWYgQ0FOIGJlIGxpbmtlZFxuICBlbHNlIGlmIChjYW5CZUxpbmtlZChlbGVtZW50cykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBNZXJnZSBzZWxlY3RlZCBzdGF2ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU3RhdmVzKCk6IHZvaWQge1xuICBjb25zdCBzeXN0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmLnNlbGVjdGVkJyk7XG4gIGNvbnN0IGVsZW1lbnRJZHMgPSBbXTtcbiAgc3lzdGVtcy5mb3JFYWNoKChzdGFmZikgPT4ge1xuICAgIGVsZW1lbnRJZHMucHVzaChzdGFmZi5pZCk7XG4gIH0pO1xuICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdtZXJnZScsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZHM6IGVsZW1lbnRJZHMsXG4gICAgfSxcbiAgfTtcbiAgbmVvblZpZXdcbiAgICAuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3RhZmYgTWVyZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgU2VsZWN0T3B0aW9ucy5lbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01lcmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgdGhlIGdyb3VwaW5nIHNlbGVjdGlvbiBtZW51LlxuICogQHBhcmFtIHR5cGUgLSBUaGUgZ3JvdXBpbmcgdHlwZTogbmMsIG5ldW1lLCBzeWwsIGxpZ2F0dXJlTmMsIG9yIGxpZ2F0dXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyR3JvdXBpbmcodHlwZTogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gIG1vcmVFZGl0LmlubmVySFRNTCArPSBDb250ZW50cy5ncm91cGluZ01lbnVbdHlwZV07XG4gIGluaXRHcm91cGluZ0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFJlbW92ZSB0aGUgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRHcm91cGluZ1NlbGVjdGlvbigpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIpO1xufVxuXG4vKipcbiAqIFRoZSBncm91cGluZyBkcm9wZG93biBsaXN0ZW5lci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRHcm91cGluZ0xpc3RlbmVycygpOiB2b2lkIHtcbiAgY29uc3QgZGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZScpO1xuICBkZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgZGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIpO1xuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lcmdlU3lscycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5zTGlua2VkKFNlbGVjdFRvb2xzLmdldFNlbGVjdGlvblR5cGUoKSkpIHJldHVybjtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpLmZpbHRlcigoZSkgPT5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXVtZScpLFxuICAgICAgKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyb3VwTmV1bWVzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoY29udGFpbnNMaW5rZWQoU2VsZWN0VG9vbHMuZ2V0U2VsZWN0aW9uVHlwZSgpKSkgcmV0dXJuO1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpLmZpbHRlcigoZSkgPT5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXVtZScpLFxuICAgICAgKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyb3VwTmNzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCkuZmlsdGVyKChlKSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25jJyksXG4gICAgICApO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5ncm91cE5ldW1lcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZ3JvdXBOY3MnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1saWdhdHVyZScpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcblxuICAgICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFRvZ2dsZUxpZ2F0dXJlQWN0aW9uID0ge1xuICAgICAgICAgIGFjdGlvbjogJ3RvZ2dsZUxpZ2F0dXJlJyxcbiAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgZWxlbWVudElkczogZWxlbWVudElkcyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBuZW9uVmlld1xuICAgICAgICAgIC5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdMaWdhdHVyZSBUb2dnbGVkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTGlnYXR1cmUgVG9nZ2xlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtbGluaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdG9nZ2xlTGlua2VkU3lsbGFibGVzKCk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbi8qKlxuICogR3JvdXBpbmcvVW5ncm91cGluZyBrZXliaW5kaW5nIGV2ZW50IGxpc3RlbmVyXG4gKi9cbmNvbnN0IGtleWRvd25MaXN0ZW5lciA9IGZ1bmN0aW9uIChlKSB7XG4gIGlmIChlLmtleSA9PT0gJ2cnKSB7XG4gICAgLy8gZ2V0IHNlbGVjdGVkIGVsZW1lbnRzIHRvIGNoZWNrIGlmIHRoZXkgY2FuIGJlIGdyb3VwZWRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJyksXG4gICAgKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHNlbGVjdGlvblR5cGUgPSBTZWxlY3RUb29scy5nZXRTZWxlY3Rpb25UeXBlKCk7XG5cbiAgICBpZiAoY29udGFpbnNMaW5rZWQoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSByZXR1cm47XG5cbiAgICAvLyBHcm91cC9tZXJnZSBvciB1bmdyb3VwL3NwbGl0IGJhc2VkIG9uIHNlbGVjdGlvbiB0eXBlXG4gICAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgICAgLy8gaWYgc3lsbGFibGVzIGFyZSBsaW5ua2FibGUsIHRvZ2dsZSBsaW5rZWQgc3lsbGFibGVcbiAgICAgICAgLy8gbGlua2VkIHN5bGxhYmxlcyBjYW5ub3QgYmUgZ3JvdXBlZC91bmdyb3VwZWRcbiAgICAgICAgaWYgKGlzTGlua2FibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgdG9nZ2xlTGlua2VkU3lsbGFibGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgZ3JvdXBhYmxlIGJlZm9yZSBncm91cGluZ1xuICAgICAgICBlbHNlIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKS5maWx0ZXIoKGUpID0+XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJyksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjYW4gb25seSB1bmdyb3VwIGlmIGxlbmd0aCBpcyAxIChvbmUgc3lsbGFibGUgc2VsZWN0ZWQpXG4gICAgICAgIC8vIGNhbm5vdCB1bmdyb3VwIGlmIG11bHRpcGxlIHN5bGxhYmxlcyBhcmUgc2VsZWN0ZWRcbiAgICAgICAgZWxzZSBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBtZXJnZVN0YXZlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN0YWZmU3BsaXRNb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgYENhbid0IHBlcmZvcm0gZ3JvdXBpbmcvdW5ncm91cGluZyBhY3Rpb24gb24gc2VsZWN0aW9uIHR5cGUgJHtzZWxlY3Rpb25UeXBlfS5gLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEZvcm0gYW5kIGV4ZWN1dGUgYSBncm91cC91bmdyb3VwIGFjdGlvbi5cbiAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgYWN0aW9uIHRvIGV4ZWN1dGUuIEVpdGhlciBcImdyb3VwXCIgb3IgXCJ1bmdyb3VwXCIuXG4gKiBAcGFyYW0gZ3JvdXBUeXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudHMgdG8gZ3JvdXAuIEVpdGhlciBcIm5ldW1lXCIgb3IgXCJuY1wiLlxuICogQHBhcmFtIGVsZW1lbnRJZHMgLSBUaGUgSURzIG9mIHRoZSBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ3JvdXBpbmdBY3Rpb24oXG4gIGFjdGlvbjogJ2dyb3VwJyB8ICd1bmdyb3VwJyxcbiAgZ3JvdXBUeXBlOiAnbmV1bWUnIHwgJ25jJyxcbiAgZWxlbWVudElkczogc3RyaW5nW10sXG4pOiB2b2lkIHtcbiAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgcGFyYW06IHtcbiAgICAgIGdyb3VwVHlwZTogZ3JvdXBUeXBlLFxuICAgICAgZWxlbWVudElkczogZWxlbWVudElkcyxcbiAgICB9LFxuICB9O1xuICBuZW9uVmlld1xuICAgIC5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdVbmdyb3VwaW5nIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1VuZ3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG5cbiAgICAgIC8vIFByb21wdCB1c2VyIHRvIGNvbmZpcm0gaWYgTmVvbiBkb2VzIG5vdCByZSBjb2duaXplIGNvbnRvdXJcbiAgICAgIGlmIChncm91cFR5cGUgPT09ICduYycpIHtcbiAgICAgICAgY29uc3QgbmV1bWVQYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICBlbGVtZW50SWRzWzBdLFxuICAgICAgICApLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IG5jcyA9IEFycmF5LmZyb20obmV1bWVQYXJlbnQuY2hpbGRyZW4pIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICAgICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyKG5jcyk7XG4gICAgICAgIGlmIChjb250b3VyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBXYXJuaW5ncy5ncm91cGluZ05vdFJlY29nbml6ZWQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdW5saW5rKGVsZW1lbnRJZHM6IHN0cmluZ1tdKTogQXJyYXk8RWRpdG9yQWN0aW9uPiB7XG4gIGNvbnN0IHBhcmFtID0gbmV3IEFycmF5PEVkaXRvckFjdGlvbj4oKTtcbiAgZm9yIChjb25zdCBpZCBvZiBlbGVtZW50SWRzKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJycsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgIGFjdGlvbjogJ3NldFRleHQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgICAgdGV4dDogJycsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFyYW07XG59XG5cbi8vIFV0aWxpdHkgZnVuY3Rpb24gdG8gZ2V0IGFuIGVsZW1lbnQgYnkgSUQgYW5kIGVuc3VyZSBpdCdzIGFuIFNWR0dyYXBoaWNzRWxlbWVudFxuZnVuY3Rpb24gZ2V0U1ZHR3JhcGhpY3NFbGVtZW50QnlJZChpZDogc3RyaW5nKTogU1ZHR3JhcGhpY3NFbGVtZW50IHwgbnVsbCB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gIGlmIChlbGVtZW50IGluc3RhbmNlb2YgU1ZHR3JhcGhpY3NFbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFRvZ2dsZVN5bGxhYmxlSWRzKFxuICBlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pixcbik6IFtTVkdHcmFwaGljc0VsZW1lbnQsIFNWR0dyYXBoaWNzRWxlbWVudF0ge1xuICAvLyBTb3J0IGVsZW1lbnRzIGJhc2VkIG9uIHRoZWlyIG9yZGVyIGluIHRoZSBET01cbiAgZWxlbWVudHMuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IHN0YWZmQSA9IGEuY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgY29uc3Qgc3RhZmZCID0gYi5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICByZXR1cm4gc3RhZmZBLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHN0YWZmQikgJlxuICAgICAgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkdcbiAgICAgID8gLTFcbiAgICAgIDogMTtcbiAgfSk7XG5cbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBbZWxlbWVudHNbMF0sIGVsZW1lbnRzWzFdXTtcbiAgfVxuXG4gIGNvbnN0IHVubGlua2VkRWxlbWVudCA9IGVsZW1lbnRzLmZpbmQoXG4gICAgKGVsKSA9PiAhZWwuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSAmJiAhZWwuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpLFxuICApO1xuXG4gIGlmICh1bmxpbmtlZEVsZW1lbnQpIHtcbiAgICBjb25zdCBpbmRleCA9IGVsZW1lbnRzLmluZGV4T2YodW5saW5rZWRFbGVtZW50KTtcblxuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtlbGVtZW50c1tpbmRleF0sIGVsZW1lbnRzW2luZGV4ICsgMV1dO1xuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IGVsZW1lbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiBbZWxlbWVudHNbaW5kZXggLSAxXSwgZWxlbWVudHNbaW5kZXhdXTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hhdCBhY3Rpb24gKGxpbmsvdW5saW5rKSB0byBwZXJmb3JtIHdoZW4gdXNlciBjbGlja3Mgb24gXCJUb2dnbGUgTGlua2VkIFN5bGxhYmxlXCJcbiAqIEFsc28gY2FsbGVkIHdoZW4gY29ycmVzcGluZGluZyBob3RrZXkgaXMgcHJlc3NlZC5cbiAqL1xuZnVuY3Rpb24gdG9nZ2xlTGlua2VkU3lsbGFibGVzKCkge1xuICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiBbXSxcbiAgfTtcbiAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuXG4gIGNvbnN0IGVsZW1lbnRzID0gZWxlbWVudElkc1xuICAgIC5tYXAoZ2V0U1ZHR3JhcGhpY3NFbGVtZW50QnlJZCkgLy8gTWFwIElEcyB0byBTVkdHcmFwaGljc0VsZW1lbnQgb3IgbnVsbFxuICAgIC5maWx0ZXIoKGVsKTogZWwgaXMgU1ZHR3JhcGhpY3NFbGVtZW50ID0+IGVsICE9PSBudWxsKTtcblxuICBpZiAoaXNMaW5rZWQoZWxlbWVudHMpKSB7XG4gICAgcGFyYW0ucHVzaCguLi51bmxpbmsoZWxlbWVudElkcykpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IFtmaXJzdFN5bGxhYmxlLCBzZWNvbmRTeWxsYWJsZV0gPSBnZXRUb2dnbGVTeWxsYWJsZUlkcyhlbGVtZW50cyk7XG4gICAgY29uc29sZS5sb2coZmlyc3RTeWxsYWJsZS5pZCwgc2Vjb25kU3lsbGFibGUuaWQpO1xuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZmlyc3RTeWxsYWJsZS5pZCxcbiAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgIGF0dHJWYWx1ZTogJyMnICsgc2Vjb25kU3lsbGFibGUuaWQsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogc2Vjb25kU3lsbGFibGUuaWQsXG4gICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgIGF0dHJWYWx1ZTogJyMnICsgZmlyc3RTeWxsYWJsZS5pZCxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgLy8gRGVsZXRlIHN5bCBvbiBzZWNvbmQgc3lsbGFibGVcbiAgICBjb25zdCBzeWwgPSBzZWNvbmRTeWxsYWJsZS5xdWVyeVNlbGVjdG9yKCcuc3lsJyk7XG4gICAgaWYgKHN5bCAhPT0gbnVsbCkge1xuICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgIGFjdGlvbjogJ3JlbW92ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBzeWwuaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjaGFpbkFjdGlvbi5wYXJhbSA9IHBhcmFtO1xuICBuZW9uVmlld1xuICAgIC5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RvZ2dsZWQgU3lsbGFibGUgTGluaycsICdzdWNjZXNzJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgJ0ZhaWxlZCB0byBUb2dnbGUgU3lsbGFibGUgTGluaycsXG4gICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGVuZEdyb3VwaW5nU2VsZWN0aW9uKCk7XG4gICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBJRHMgb2Ygc2VsZWN0ZWQgZWxlbWVudHMuXG4gKi9cbmZ1bmN0aW9uIGdldElkcygpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGlkcyA9IFtdO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgaWRzLnB1c2goZWwuaWQpO1xuICB9KTtcbiAgcmV0dXJuIGlkcztcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgSURzIG9mIHRoZSBzZWxlY3RlZCBlbGVtZW50cycgY2hpbGRyZW4uXG4gKi9cbmZ1bmN0aW9uIGdldENoaWxkcmVuSWRzKCk6IHN0cmluZ1tdIHtcbiAgY29uc3QgY2hpbGRyZW5JZHMgPSBbXTtcbiAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGlmIChcbiAgICAgIGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8XG4gICAgICBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykgfHxcbiAgICAgIGVsLmNsYXNzTGlzdC5jb250YWlucygnY2xlZicpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShlbC5jaGlsZHJlbik7XG4gICAgY2hpbGRyZW4uZm9yRWFjaCgoY2gpID0+IHtcbiAgICAgIGNoaWxkcmVuSWRzLnB1c2goY2guaWQpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGNoaWxkcmVuSWRzO1xufVxuIiwiaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgZXJyb3JMb2dzUGFuZWxDb250ZW50cyB9IGZyb20gJy4uL1NxdWFyZUVkaXQvQ29udGVudHMnO1xuaW1wb3J0IHsgc2V0U2V0dGluZ3MsIGdldFNldHRpbmdzIH0gZnJvbSAnLi9Mb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IE1vZGFsV2luZG93LCBNb2RhbFdpbmRvd1ZpZXcgfSBmcm9tICcuL01vZGFsV2luZG93JztcblxuZnVuY3Rpb24gY3JlYXRlTG9nTWVzc2FnZSAobm90aWY6IE5vdGlmaWNhdGlvbik6IEVsZW1lbnQge1xuICBjb25zdCBub3RpZkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBub3RpZkRpdi5jbGFzc0xpc3QuYWRkKCdub3RpZmljYXRpb24tY29udGFpbmVyJyk7XG4gIG5vdGlmRGl2LmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb24td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9nLW1haW5cIj4ke25vdGlmLm1lc3NhZ2V9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctZXh0cmFcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwibm90aWZpY2F0aW9uLWJ0bi1jb250YWluZXJcIiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub3RpZi1sb2ctaW5mby1pY29uLXdyYXBwZXJcIj5cbiAgICAgICAgICA8aW1nIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIiBjbGFzcz1cIm5vdGlmLWxvZy1pbmZvLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvbm90aWZpY2F0aW9uLWluZm8taWNvbi1saWdodC5zdmdcIiB0aXRsZT1cIkxvZyBNZXNzYWdlXCI+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJub3RpZi1yZW1vdmUtaWNvbi13cmFwcGVyXCI+XG4gICAgICAgICAgPGltZyBjbGFzcz1cImxvZy1yZW1vdmUgbm90aWYtcmVtb3ZlLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1jbG9zZWQuc3ZnXCIgdGl0bGU9XCJSZW1vdmVcIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgYDtcblxuICBjb25zdCByZW1vdmVCdG4gPSBub3RpZkRpdi5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PignLmxvZy1yZW1vdmUnKTtcbiAgcmVtb3ZlQnRuLm9uY2xpY2sgPSAoKSA9PiBub3RpZkRpdi5yZW1vdmUoKTtcbiAgcmVtb3ZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICByZW1vdmVCdG4uc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2dhcmJhZ2Utb3Blbi5zdmdgKTtcbiAgfSk7XG4gIHJlbW92ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICByZW1vdmVCdG4uc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2dhcmJhZ2UtY2xvc2VkLnN2Z2ApO1xuICB9KTtcblxuICBpZiAobm90aWYubG9nSW5mbykge1xuICAgIGNvbnN0IGluZm9CdG4gPSBub3RpZkRpdi5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PignLm5vdGlmLWxvZy1pbmZvLWljb24nKTtcbiAgICBpbmZvQnRuLnN0eWxlLmRpc3BsYXkgPSAnJztcblxuICAgIHJlbW92ZUJ0bi5zdHlsZS5oZWlnaHQgPSAnMjBweCc7XG5cbiAgICBpbmZvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgIGluZm9CdG4uc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL25vdGlmaWNhdGlvbi1pbmZvLWljb24tZGFyay5zdmdgKTtcbiAgICB9KTtcbiAgICBpbmZvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgaW5mb0J0bi5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvbm90aWZpY2F0aW9uLWluZm8taWNvbi1saWdodC5zdmdgKTtcbiAgICB9KTtcbiAgICBpbmZvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gb3BlbkVycm9yTG9nV2luZG93KG5vdGlmLmxvZ0luZm8pKTtcbiAgfVxuXG4gIHJldHVybiBub3RpZkRpdjtcbn1cblxuXG4vKipcbiAqIEFkZCBub3RpZmljYXRpb24gdG8gdGhlIHBlcnNpc3RlbnQgZXJyb3IgbG9nIG9uIHRoZSBzaWRlYmFyXG4gKiBAcGFyYW0gbm90aWYge05vdGlmaWNhdGlvbn0gTm90aWZpY2F0aW9uIHRvIGFkZCB0byB0aGUgZXJyb3IgbG9nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvcmROb3RpZmljYXRpb24gKG5vdGlmOiBOb3RpZmljYXRpb24pOiB2b2lkIHtcbiAgY29uc3QgbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yTG9nQ29udGVudHMnKTtcbiAgbG9nLnByZXBlbmQoY3JlYXRlTG9nTWVzc2FnZShub3RpZikpO1xufVxuXG5cbi8qKlxuICogSW5pdGlhbGl6ZSBlcnJvciBsb2cuXG4gKiBBZGRzIG5lY2Vzc2FyeSBIVE1MIHRvIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRFcnJvckxvZygpOiB2b2lkIHtcbiAgLy8gRXJyb3IgbG9nIHBhbmVsXG4gIGNvbnN0IGxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgbG9nLmlubmVySFRNTCA9IGVycm9yTG9nc1BhbmVsQ29udGVudHM7XG5cbiAgaW5pdEVycm9yTG9nQ29udHJvbHMoKTtcbn1cblxuXG4vKipcbiAqIFNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGVycm9yIExvZyBwYW5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVycm9yTG9nQ29udHJvbHMoKTogdm9pZCB7XG4gIGNvbnN0IGVycm9yUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JfbG9nJyk7XG4gIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dIZWFkaW5nJyk7XG4gIGNvbnN0IGRyb3Bkb3duSWNvbiA9IGhlYWRpbmcucXVlcnlTZWxlY3Rvcignc3ZnID4gdXNlJyk7XG4gIGNvbnN0IGNvbnRlbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yTG9nQ29udGVudHMnKSBhcyBIVE1MRWxlbWVudDtcblxuICBjb25zdCB7IGRpc3BsYXlFcnJMb2cgfSA9IGdldFNldHRpbmdzKCk7XG4gIGlmIChkaXNwbGF5RXJyTG9nKSBlcnJvclBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblxuICBoZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGVycm9yIHBhbmVsIGlzIGNsb3NlZCwgb3BlbiBpdFxuICAgIGlmIChjb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhbiBvcGVuIHBhbmVsXG4gICAgICBjb250ZW50cy5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZWQnKTtcbiAgICAgIGNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMC41ZW0gMC43NWVtJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBkcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duYCk7XG4gICAgfSBcbiAgICAvLyBpZiBlcnJvciBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYSBjbG9zZWQgcGFuZWxcbiAgICAgIGNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgY29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgZHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5pdERpc3BsYXlMaXN0ZW5lcigpO1xufVxuXG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgY2xpY2sgbGlzdGVuZXIgb24gXCJTaG93IGVycm9yIGxvZ3NcIiBidXR0b24gaW4gXCJWaWV3XCIgZHJvcGRvd24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RGlzcGxheUxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBjaGVja2JveGVzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc3BsYXktc2luZ2xlLWNvbnRhaW5lcicpO1xuICBjb25zdCBlcnJvcnNMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbnN0IGVyb3Jyc0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgZXJvcnJzQnRuLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gIGVycm9yc0xhYmVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LWNvbnRhaW5lcicsICdzaWRlLXBhbmVsLWJ0bicpO1xuICBlcnJvcnNMYWJlbC50ZXh0Q29udGVudCA9ICdFcnJvcnMnO1xuICBlcm9ycnNCdG4uaWQgPSAnZGlzcGxheS1lcnJvcnMnO1xuICBlcm9ycnNCdG4udHlwZSA9ICdjaGVja2JveCc7XG4gIGVyb3Jyc0J0bi5jaGVja2VkID0gZmFsc2U7XG4gIGVycm9yc0xhYmVsLmFwcGVuZENoaWxkKGVyb3Jyc0J0bik7XG4gIGNoZWNrYm94ZXNDb250YWluZXIuYXBwZW5kKGVycm9yc0xhYmVsKTtcblxuICBjb25zdCB7IGRpc3BsYXlFcnJMb2cgfSA9IGdldFNldHRpbmdzKCk7XG4gIGVyb3Jyc0J0bi5jaGVja2VkID0gZGlzcGxheUVyckxvZztcblxuICBlcm9ycnNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgc2V0U2V0dGluZ3MoeyBkaXNwbGF5RXJyTG9nOiBlcm9ycnNCdG4uY2hlY2tlZCB9KTtcbiAgICB1cGRhdGVFcnJvckxvZ1Zpc2liaWxpdHkoKTtcbiAgfSk7XG59XG5cblxuZnVuY3Rpb24gb3BlbkVycm9yTG9nV2luZG93KGxvZzogc3RyaW5nKSB7XG4gIGNvbnN0IG1vZGFsV2luZG93ID0gbmV3IE1vZGFsV2luZG93KCk7XG4gIG1vZGFsV2luZG93LnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuRVJST1JfTE9HLCBsb2cpO1xuICBtb2RhbFdpbmRvdy5vcGVuTW9kYWxXaW5kb3coKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUVycm9yTG9nVmlzaWJpbGl0eSgpOiB2b2lkIHtcbiAgY29uc3Qgbm90aWZQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgY29uc3QgeyBkZWJ1Z01vZGUsIGRpc3BsYXlFcnJMb2csIGRpc3BsYXlJbmZvLCBkaXNwbGF5QkJveCwgZGlzcGxheVRleHQgfSA9IGdldFNldHRpbmdzKCk7XG5cbiAgY29uc3QgZGlzcGxheUFsbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWFsbC1idG4nKTtcblxuICBpZiAoZGVidWdNb2RlKSB7XG4gICAgaWYgKGRpc3BsYXlFcnJMb2cpIHtcbiAgICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgICAgaWYgKGRpc3BsYXlJbmZvICYmIGRpc3BsYXlCQm94ICYmIFxuICAgICAgICBkaXNwbGF5VGV4dCAmJiBkaXNwbGF5RXJyTG9nKSB7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgaWYgKGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBub3RpZlBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICBpZiAoZGlzcGxheUluZm8gJiYgZGlzcGxheUJCb3ggJiYgZGlzcGxheVRleHQpIHtcbiAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0hpZGUgQWxsJztcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7IGdldFN0YWZmQkJveCwgc2VsZWN0QkJveCwgc2VsZWN0U3RhZmYsIHNlbGVjdEFsbCB9IGZyb20gJy4vU2VsZWN0VG9vbHMnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuL0RyYWdIYW5kbGVyJztcblxuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uLCBSZXNpemVBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBpc091dE9mU1ZHQm91bmRzIH0gZnJvbSAnLi9Db29yZGluYXRlcyc7XG5pbXBvcnQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4vTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSAnLi9Mb2NhbFNldHRpbmdzJztcblxuLyoqXG4gKiBSZXNpemUgYSBzdGFmZiBvciBhIHN5bGxhYmxlIHRleHQgYm91bmRpbmcgYm94LlxuICogRm9yIHN0YXZlcywgdGhpcyBhbHNvIHN1cHBvcnRzIGFkanVzdGluZyB0aGUgcm90YXRlLlxuICovXG50eXBlIFBvaW50ID0geyB4OiBudW1iZXI7IHk6IG51bWJlcjsgbmFtZTogbnVtYmVyIH07XG5cbi8qKlxuICogVGhlIHBvaW50cyB5b3UgY2FuIGNsaWNrIGFuZCBkcmFnIHRvIHJlc2l6ZVxuICovXG5jb25zdCBQb2ludE5hbWVzID0ge1xuICBUb3BMZWZ0OiAwLFxuICBUb3A6IDEsXG4gIFRvcFJpZ2h0OiAyLFxuICBSaWdodDogMyxcbiAgQm90dG9tUmlnaHQ6IDQsXG4gIEJvdHRvbTogNSxcbiAgQm90dG9tTGVmdDogNixcbiAgTGVmdDogN1xufTtcblxuZnVuY3Rpb24gZ2V0UG9pbnRzKHVseDogbnVtYmVyLCB1bHk6IG51bWJlciwgbHJ4OiBudW1iZXIsIGxyeTogbnVtYmVyLCByb3RhdGU6IG51bWJlcik6IFBvaW50W10ge1xuICAvLyBOb3RlIHRoYXQgYXJjIGZ1bmN0aW9ucyByZXR1cm4gYW4gYW5nbGUgeCBpbiBbLXBpLzIsIHBpLzJdLlxuICBsZXQgcG9pbnRzOiBBcnJheTxQb2ludD47XG4gIC8vIHVsIGlzIHVseCwgdWx5LCBsciBpcyBscngsIGxyeVxuICBpZiAocm90YXRlID49IDApIHtcbiAgICBwb2ludHMgPSBbXG4gICAgICB7IHg6IHVseCwgeTogdWx5LCBuYW1lOiBQb2ludE5hbWVzLlRvcExlZnQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiB1bHkgKyAobHJ4IC0gdWx4KSAvIDIgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLlRvcCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSArIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Ub3BSaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6ICh1bHkgKyBscnkgKyAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSkpIC8gMiwgbmFtZTogUG9pbnROYW1lcy5SaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6IGxyeSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21SaWdodCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IGxyeSAtIChscnggLSB1bHgpIC8gMiAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tIH0sXG4gICAgICB7IHg6IHVseCwgeTogbHJ5IC0gKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbUxlZnQgfSxcbiAgICAgIHsgeDogdWx4LCB5OiAodWx5ICsgbHJ5IC0gKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpKSAvIDIsIG5hbWU6IFBvaW50TmFtZXMuTGVmdCB9XG4gICAgXTtcbiAgfVxuICAvLyBOb3QgdGhhdFxuICBlbHNlIHtcbiAgICBjb25zdCBhID0gKGxyeCAtIHVseCkgKiBNYXRoLnRhbihNYXRoLmFicyhyb3RhdGUpKTtcbiAgICBjb25zdCBiID0gbHJ5IC0gdWx5IC0gYTtcbiAgICBwb2ludHMgPSBbXG4gICAgICB7IHg6IHVseCwgeTogdWx5ICsgYSwgbmFtZTogUG9pbnROYW1lcy5Ub3BMZWZ0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogdWx5ICsgYSAvIDIsIG5hbWU6IFBvaW50TmFtZXMuVG9wIH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5LCBuYW1lOiBQb2ludE5hbWVzLlRvcFJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5ICsgYiAvIDIsIG5hbWU6IFBvaW50TmFtZXMuUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHkgKyBiLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogbHJ5IC0gYSAvIDIsIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tIH0sXG4gICAgICB7IHg6IHVseCwgeTogbHJ5LCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbUxlZnQgfSxcbiAgICAgIHsgeDogdWx4LCB5OiBscnkgLSBiIC8gMiwgbmFtZTogUG9pbnROYW1lcy5MZWZ0IH1cbiAgICBdO1xuICB9XG4gIHJldHVybiBwb2ludHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNpemUgKGVsZW1lbnQ6IFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXc6IE5lb25WaWV3LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgbGV0IHVseDogbnVtYmVyO1xuICBsZXQgdWx5OiBudW1iZXI7XG4gIGxldCBscng6IG51bWJlcjtcbiAgbGV0IGxyeTogbnVtYmVyO1xuICBsZXQgcm90YXRlOiBudW1iZXI7XG5cbiAgbGV0IGluaXRpYWxVbHg6IG51bWJlciwgaW5pdGlhbExyeDogbnVtYmVyO1xuICBsZXQgaW5pdGlhbFBvaW50OiBudW1iZXJbXSwgaW5pdGlhbFVseTogbnVtYmVyLCBpbml0aWFsTHJ5OiBudW1iZXIsXG4gICAgaW5pdGlhbFk6IG51bWJlciwgaW5pdGlhbFJlY3RZOiBudW1iZXIsIHBvbHlMZW46IG51bWJlciwgZHk6IG51bWJlciwgaW5pdGlhbFJvdGF0ZTogbnVtYmVyO1xuXG4gIGRyYXdJbml0aWFsUmVjdCgpO1xuXG4gIC8qKlxuICAgKiBSZWRyYXcgdGhlIHJlY3RhbmdsZSB3aXRoIHRoZSBuZXcgYm91bmRzXG4gICAqL1xuICBmdW5jdGlvbiByZWRyYXcgKCk6IHZvaWQge1xuICAgIGNvbnN0IHBvaW50czogUG9pbnRbXSA9IGdldFBvaW50cyh1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZSk7XG5cbiAgICBjb25zdCBwb2ludFN0cmluZzogc3RyaW5nID0gcG9pbnRzLmZpbHRlcigoX2VsZW0sIGluZGV4KSA9PiB7IHJldHVybiBpbmRleCAlIDIgPT09IDA7IH0pXG4gICAgICAubWFwKGVsZW0gPT4gZWxlbS54ICsgJywnICsgZWxlbS55KVxuICAgICAgLmpvaW4oJyAnKTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXNpemVSZWN0Jykuc2V0QXR0cmlidXRlKCdwb2ludHMnLCBwb2ludFN0cmluZyk7XG5cbiAgICBjb25zdCB0ZXh0UmVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWwuc2VsZWN0ZWQgPiAuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIGlmICh0ZXh0UmVjdCkge1xuICAgICAgdGV4dFJlY3Quc2V0QXR0cmlidXRlKCd4JywgU3RyaW5nKE1hdGgubWluKHVseCwgbHJ4KSkpO1xuICAgICAgdGV4dFJlY3Quc2V0QXR0cmlidXRlKCd5JywgU3RyaW5nKE1hdGgubWluKHVseSwgbHJ5KSkpO1xuICAgICAgdGV4dFJlY3Quc2V0QXR0cmlidXRlKCd3aWR0aCcsIFN0cmluZyhNYXRoLmFicyhscnggLSB1bHgpKSk7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIFN0cmluZyhNYXRoLmFicyhscnkgLSB1bHkpKSk7XG4gICAgfVxuXG5cbiAgICBmb3IgKGNvbnN0IHBvaW50TmFtZSBpbiBQb2ludE5hbWVzKSB7XG4gICAgICBjb25zdCBwb2ludDogUG9pbnQgPSBwb2ludHNbUG9pbnROYW1lc1twb2ludE5hbWVdXTtcbiAgICAgIGQzLnNlbGVjdCgnI3AtJyArIHBvaW50TmFtZSkuZmlsdGVyKCcucmVzaXplUG9pbnQnKVxuICAgICAgICAuYXR0cignY3gnLCBwb2ludC54KVxuICAgICAgICAuYXR0cignY3knLCBwb2ludC55KTtcbiAgICB9XG5cbiAgICBsZXQgeCA9IHBvaW50c1szXS54O1xuICAgIGxldCB5ID0gcG9pbnRzWzNdLnk7XG4gICAgY29uc3QgcG9pbnRTdHJpbmdSaWdodCA9ICh4ICsgMTAwKSArICcsJyArICh5ICsgODUpICsgJyAnICtcbiAgICAgICh4ICsgNzApICsgJywnICsgKHkgKyA1MCkgKyAnICcgKyAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDE1KSArICcgJyArICh4ICsgMTMwKSArICcsJyArICh5ICsgNTApO1xuICAgIHggPSBwb2ludHNbN10ueDtcbiAgICB5ID0gcG9pbnRzWzddLnk7XG4gICAgY29uc3QgcG9pbnRTdHJpbmdMZWZ0ID0gKHggLSAxMDApICsgJywnICsgKHkgLSAxNSkgKyAnICcgK1xuICAgICAgKHggLSAxMzApICsgJywnICsgKHkgLSA1MCkgKyAnICcgKyAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDg1KSArICcgJyArICh4IC0gNzApICsgJywnICsgKHkgLSA1MCk7XG5cbiAgICBkMy5zZWxlY3QoJyNyb3RhdGVMZWZ0JykuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdMZWZ0KTtcbiAgICBkMy5zZWxlY3QoJyNyb3RhdGVSaWdodCcpLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nUmlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgdGhlIGluaXRpYWwgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgZWxlbWVudFxuICAgKiBhbmQgYWRkIHRoZSBsaXN0ZW5lcnMgdG8gc3VwcG9ydCBkcmFnZ2luZyB0byByZXNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBkcmF3SW5pdGlhbFJlY3QgKCk6IHZvaWQge1xuICAgIGlmIChlbGVtZW50ID09PSBudWxsKSByZXR1cm47XG5cbiAgICBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3RBbGwoJy5yb3RhdGVQb2ludCcpLnJlbW92ZSgpO1xuXG4gICAgLy8gaWYgaXQncyBhIGJvdW5kaW5nYm94IGp1c3QgZ2V0IHRoZSBjb29yZGluYXRlc1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICBpZiAocmVjdCA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RyaWVkIHRvIGRyYXcgcmVzaXplIHJlY3QgZm9yIGEgc3lsVGV4dFJlY3QgdGhhdCBkb2VzblxcJ3QgZXhpc3QgKG9yIGlzblxcJ3QgZGlzcGxheWluZyknKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdWx4ID0gTnVtYmVyKHJlY3QuZ2V0QXR0cmlidXRlKCd4JykpO1xuICAgICAgdWx5ID0gTnVtYmVyKHJlY3QuZ2V0QXR0cmlidXRlKCd5JykpO1xuICAgICAgbHJ4ID0gK3VseCArICtyZWN0LmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICAgIGxyeSA9ICt1bHkgKyArcmVjdC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuXG4gICAgICByb3RhdGUgPSAwO1xuICAgIH1cblxuICAgIC8vIGlmIGl0J3MgYSBzdGFmZiB1c2UgdGhlIHBhdGhzIHRvIGdldCBpdCdzIGJvdW5kaW5nYm94XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBjb25zdCBiYm94ID0gZ2V0U3RhZmZCQm94KGVsZW1lbnQpO1xuICAgICAgdWx4ID0gYmJveC51bHg7XG4gICAgICB1bHkgPSBiYm94LnVseTtcbiAgICAgIGxyeCA9IGJib3gubHJ4O1xuICAgICAgbHJ5ID0gYmJveC5scnk7XG5cbiAgICAgIGNvbnN0IGNvb3JkaW5hdGVzOiBudW1iZXJbXSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcigncGF0aCcpXG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoJ2QnKVxuICAgICAgICAubWF0Y2goL1xcZCsvZylcbiAgICAgICAgLm1hcChlbGVtZW50ID0+IE51bWJlcihlbGVtZW50KSk7XG4gICAgICByb3RhdGUgPSBNYXRoLmF0YW4oKGNvb3JkaW5hdGVzWzNdIC0gY29vcmRpbmF0ZXNbMV0pIC9cbiAgICAgICAgKGNvb3JkaW5hdGVzWzJdIC0gY29vcmRpbmF0ZXNbMF0pKTtcbiAgICB9XG5cbiAgICBpbml0aWFsVWx4ID0gdWx4LCBpbml0aWFsVWx5ID0gdWx5LCBpbml0aWFsTHJ4ID0gbHJ4LCBpbml0aWFsTHJ5ID0gbHJ5O1xuXG4gICAgbGV0IHdoaWNoUG9pbnQ6IHN0cmluZztcblxuICAgIGNvbnN0IHBvaW50cyA9IGdldFBvaW50cyh1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZSk7XG5cbiAgICBwb2x5TGVuID0gcG9pbnRzWzJdLnggLSBwb2ludHNbMF0ueDtcblxuICAgIGNvbnN0IHBvaW50U3RyaW5nID0gcG9pbnRzLmZpbHRlcigoXywgaW5kZXgpID0+IGluZGV4ICUgMiA9PT0gMClcbiAgICAgIC5tYXAoZWxlbSA9PiBlbGVtLnggKyAnLCcgKyBlbGVtLnkpXG4gICAgICAuam9pbignICcpO1xuXG4gICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmcpXG4gICAgICAuYXR0cignaWQnLCAncmVzaXplUmVjdCcpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAxMClcbiAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdjdXJzb3InLCAnbW92ZScpXG4gICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMjAgMTAnKTtcblxuICAgIGNvbnN0IHsgY2lyY2xlU2l6ZSB9ID0gZ2V0U2V0dGluZ3MoKTtcblxuICAgIGZvciAoY29uc3QgcG9pbnROYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGNvbnN0IHBvaW50OiBQb2ludCA9IHBvaW50c1tQb2ludE5hbWVzW3BvaW50TmFtZV1dO1xuICAgICAgZDMuc2VsZWN0KGVsZW1lbnQudmlld3BvcnRFbGVtZW50KS5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgIC5hdHRyKCdjeCcsIHBvaW50LngpXG4gICAgICAgIC5hdHRyKCdjeScsIHBvaW50LnkpXG4gICAgICAgIC5hdHRyKCdyJywgY2lyY2xlU2l6ZSlcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCA0KVxuICAgICAgICAuYXR0cignZmlsbCcsICcjMDA5OWZmJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3Jlc2l6ZVBvaW50JylcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3AtJyArIHBvaW50TmFtZSk7XG4gICAgfVxuXG4gICAgLy8gZG8gaXQgYXMgYSBsb29wIGluc3RlYWQgb2Ygc2VsZWN0QWxsIHNvIHRoYXQgeW91IGNhbiBlYXNpbHkga25vdyB3aGljaCBwb2ludCB3YXNcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gUG9pbnROYW1lcykge1xuICAgICAgZDMuc2VsZWN0KCcjcC0nICsgbmFtZSkuZmlsdGVyKCcucmVzaXplUG9pbnQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0JywgKCkgPT4geyByZXNpemVTdGFydChuYW1lKTsgfSlcbiAgICAgICAgICAub24oJ2RyYWcnLCByZXNpemVEcmFnKVxuICAgICAgICAgIC5vbignZW5kJywgcmVzaXplRW5kLmJpbmQodGhpcykpKTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgIGxldCB4ID0gcG9pbnRzWzNdLng7XG4gICAgICBsZXQgeSA9IHBvaW50c1szXS55O1xuICAgICAgY29uc3QgcG9pbnRTdHJpbmdSaWdodCA9ICh4ICsgMTAwKSArICcsJyArICh5ICsgODUpICsgJyAnICtcbiAgICAgICAgKHggKyA3MCkgKyAnLCcgKyAoeSArIDUwKSArICcgJyArICh4ICsgMTAwKSArICcsJyArICh5ICsgMTUpICsgJyAnICsgKHggKyAxMzApICsgJywnICsgKHkgKyA1MCk7XG4gICAgICB4ID0gcG9pbnRzWzddLng7XG4gICAgICB5ID0gcG9pbnRzWzddLnk7XG4gICAgICBjb25zdCBwb2ludFN0cmluZ0xlZnQgPSAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDE1KSArICcgJyArXG4gICAgICAgICh4IC0gMTMwKSArICcsJyArICh5IC0gNTApICsgJyAnICsgKHggLSAxMDApICsgJywnICsgKHkgLSA4NSkgKyAnICcgKyAoeCAtIDcwKSArICcsJyArICh5IC0gNTApO1xuXG4gICAgICBkMy5zZWxlY3QoJyMnICsgZWxlbWVudC5pZCkuYXBwZW5kKCdwb2x5Z29uJylcbiAgICAgICAgLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nUmlnaHQpXG4gICAgICAgIC5hdHRyKCdpZCcsICdyb3RhdGVSaWdodCcpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgNylcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzAwOTlmZicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyb3RhdGVQb2ludCcpO1xuXG4gICAgICBkMy5zZWxlY3QoJyMnICsgZWxlbWVudC5pZCkuYXBwZW5kKCdwb2x5Z29uJylcbiAgICAgICAgLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nTGVmdClcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3JvdGF0ZUxlZnQnKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDcpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyMwMDk5ZmYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncm90YXRlUG9pbnQnKTtcblxuICAgICAgZDMuc2VsZWN0KCcjcm90YXRlTGVmdCcpLmNhbGwoXG4gICAgICAgIGQzLmRyYWcoKVxuICAgICAgICAgIC5vbignc3RhcnQnLCByb3RhdGVTdGFydClcbiAgICAgICAgICAub24oJ2RyYWcnLCByb3RhdGVEcmFnTGVmdClcbiAgICAgICAgICAub24oJ2VuZCcsIHJvdGF0ZUVuZCkpO1xuXG4gICAgICBkMy5zZWxlY3QoJyNyb3RhdGVSaWdodCcpLmNhbGwoXG4gICAgICAgIGQzLmRyYWcoKVxuICAgICAgICAgIC5vbignc3RhcnQnLCByb3RhdGVTdGFydClcbiAgICAgICAgICAub24oJ2RyYWcnLCByb3RhdGVEcmFnUmlnaHQpXG4gICAgICAgICAgLm9uKCdlbmQnLCByb3RhdGVFbmQpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemVTdGFydCAobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICB3aGljaFBvaW50ID0gbmFtZTtcbiAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzLmZpbmQocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lc1tuYW1lXSk7XG4gICAgICBpbml0aWFsUG9pbnQgPSBbcG9pbnQueCwgcG9pbnQueV07XG4gICAgICBpbml0aWFsVWx5ID0gdWx5O1xuICAgICAgaW5pdGlhbExyeSA9IGxyeTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemVEcmFnICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQb2ludCA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgc3dpdGNoIChQb2ludE5hbWVzW3doaWNoUG9pbnRdKSB7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Ub3BMZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICB1bHkgPSBjdXJyZW50UG9pbnRbMV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Ub3A6XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdIC0gKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpIC8gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlRvcFJpZ2h0OlxuICAgICAgICAgIGxyeCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICB1bHkgPSBjdXJyZW50UG9pbnRbMV0gLSAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5SaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgbHJ5ID0gaW5pdGlhbExyeSArIChjdXJyZW50UG9pbnRbMF0gLSBpbml0aWFsUG9pbnRbMF0pICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0OlxuICAgICAgICAgIGxyeCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICBscnkgPSBjdXJyZW50UG9pbnRbMV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b206XG4gICAgICAgICAgbHJ5ID0gY3VycmVudFBvaW50WzFdICsgKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpIC8gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLkJvdHRvbUxlZnQ6XG4gICAgICAgICAgdWx4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIGxyeSA9IGN1cnJlbnRQb2ludFsxXSArIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLkxlZnQ6XG4gICAgICAgICAgdWx4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIHVseSA9IGluaXRpYWxVbHkgKyAoY3VycmVudFBvaW50WzBdIC0gaW5pdGlhbFBvaW50WzBdKSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5lcnJvcignU29tZXRoaW5nIHRoYXQgd2FzblxcJ3QgYSBzaWRlIG9mIHRoZSByZWN0YW5nbGUgd2FzIGRyYWdnZWQuIFRoaXMgc2hvdWxkblxcJ3QgaGFwcGVuLicpO1xuICAgICAgfVxuICAgICAgcmVkcmF3KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplRW5kICgpOiB2b2lkIHtcbiAgICAgIGlmIChpc091dE9mU1ZHQm91bmRzKHVseCwgdWx5KSB8fCBpc091dE9mU1ZHQm91bmRzKGxyeCwgbHJ5KSkge1xuICAgICAgICB1bHggPSBpbml0aWFsVWx4LCB1bHkgPSBpbml0aWFsVWx5LCBscnggPSBpbml0aWFsTHJ4LCBscnkgPSBpbml0aWFsTHJ5O1xuICAgICAgICByZWRyYXcoKTtcblxuICAgICAgICByZXR1cm4gcXVldWVOb3RpZmljYXRpb24oJ1tGQUlMXSBHbHlwaHMgd2VyZSBwbGFjZWQgb3V0IG9mIGJvdW5kcyEgUmVzaXplIGFjdGlvbiBmYWlsZWQuJywgJ2Vycm9yJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogUmVzaXplQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdyZXNpemUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICB1bHg6IHVseCxcbiAgICAgICAgICB1bHk6IHVseSxcbiAgICAgICAgICBscng6IGxyeCxcbiAgICAgICAgICBscnk6IGxyeVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGF3YWl0IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2VsZW1lbnQuaWR9YCk7XG4gICAgICAgIHVseCA9IHVuZGVmaW5lZCwgdWx5ID0gdW5kZWZpbmVkLCBscnggPSB1bmRlZmluZWQsIGxyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICAgICAgc2VsZWN0QkJveChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIGRyYWdIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2VsZW1lbnQuaWR9YCldLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbW9yZUVkaXQnKTtcblxuICAgICAgICAgIGlmIChtb3JlRWRpdCkge1xuICAgICAgICAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUk9UQVRFXG4gICAgZnVuY3Rpb24gcm90YXRlU3RhcnQgKCk6IHZvaWQge1xuICAgICAgY29uc3Qgd2hpY2ggPSBkMy5ldmVudC5zb3VyY2VFdmVudC50YXJnZXQuaWQ7XG4gICAgICBpbml0aWFsWSA9IGQzLm1vdXNlKHRoaXMpWzFdO1xuICAgICAgaW5pdGlhbExyeSA9IGxyeTtcbiAgICAgIGluaXRpYWxVbHkgPSB1bHk7XG4gICAgICBpbml0aWFsUmVjdFkgPSAod2hpY2ggPT09ICdyb3RhdGVSaWdodCcgPyBscnkgOiB1bHkpO1xuICAgICAgaW5pdGlhbFJvdGF0ZSA9IHJvdGF0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVEcmFnTGVmdCAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50WSA9IGQzLm1vdXNlKHRoaXMpWzFdO1xuICAgICAgY29uc3QgdGVtcCA9IGN1cnJlbnRZIC0gaW5pdGlhbFk7XG4gICAgICBjb25zdCB0ZW1wUm90YXRlID0gaW5pdGlhbFJvdGF0ZSAtIE1hdGguYXRhbih0ZW1wIC8gcG9seUxlbik7XG4gICAgICBpZiAodGVtcFJvdGF0ZSA+IC0wLjIgJiYgdGVtcFJvdGF0ZSA8IDAuMikge1xuICAgICAgICBkeSA9IHRlbXA7XG4gICAgICAgIHVseSA9IGluaXRpYWxSZWN0WSArIGR5O1xuICAgICAgICByb3RhdGUgPSB0ZW1wUm90YXRlO1xuICAgICAgICBpZiAocm90YXRlID49IDApIHtcbiAgICAgICAgICB1bHkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BMZWZ0KVswXS55O1xuICAgICAgICAgIGxyeSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21SaWdodClbMF0ueTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bHkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wUmlnaHQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tTGVmdClbMF0ueTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVkcmF3KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm90YXRlRHJhZ1JpZ2h0ICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBjb25zdCB0ZW1wID0gY3VycmVudFkgLSBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHRlbXBSb3RhdGUgPSBpbml0aWFsUm90YXRlICsgTWF0aC5hdGFuKHRlbXAgLyBwb2x5TGVuKTtcbiAgICAgIGlmICh0ZW1wUm90YXRlID4gLTAuMiAmJiB0ZW1wUm90YXRlIDwgMC4yKSB7XG4gICAgICAgIGR5ID0gdGVtcDtcbiAgICAgICAgcm90YXRlID0gdGVtcFJvdGF0ZTtcbiAgICAgICAgaWYgKHJvdGF0ZSA+PSAwICkge1xuICAgICAgICAgIGxyeSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0KVswXS55O1xuICAgICAgICAgIHVseSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BMZWZ0KVswXS55O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVseSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcFJpZ2h0KVswXS55O1xuICAgICAgICAgIGxyeSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21MZWZ0KVswXS55O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVFbmQgKCk6IHZvaWQge1xuICAgICAgaWYgKGR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZHkgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyh1bHgsIHVseSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscngsIGxyeSkpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJlc2l6ZVBvaW50JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNyZXNpemVSZWN0JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb3RhdGVQb2ludCcpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuXG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LmlkKSBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkO1xuICAgICAgICB1bHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxyeCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdFN0YWZmKGVsZW1lbnQsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBSb3RhdGUgYWN0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3Jlc2l6ZVJvdGF0ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHVseDogdWx4LFxuICAgICAgICAgIHVseTogdWx5LFxuICAgICAgICAgIGxyeDogbHJ4LFxuICAgICAgICAgIGxyeTogbHJ5LFxuICAgICAgICAgIHJvdGF0ZTogcm90YXRlICogMTgwIC8gTWF0aC5QSVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LmlkKSBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkLCB1bHkgPSB1bmRlZmluZWQsIGxyeCA9IHVuZGVmaW5lZCwgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICAgICAgc2VsZWN0QkJveChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIGRyYWdIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RTdGFmZihlbGVtZW50LCBkcmFnSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IGltbWVkaWF0ZSBmcm9tICdpbW1lZGlhdGUnO1xuaW1wb3J0IHsgdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBNZDUgZnJvbSAnc3BhcmstbWQ1JztcbmltcG9ydCB2dXZ1emVsYSBmcm9tICd2dXZ1emVsYSc7XG5pbXBvcnQgZ2V0QXJndW1lbnRzIGZyb20gJ2FyZ3NhcnJheSc7XG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuaW1wb3J0IEVFIGZyb20gJ2V2ZW50cyc7XG5cbmZ1bmN0aW9uIG1hbmdsZShrZXkpIHtcbiAgcmV0dXJuICckJyArIGtleTtcbn1cbmZ1bmN0aW9uIHVubWFuZ2xlKGtleSkge1xuICByZXR1cm4ga2V5LnN1YnN0cmluZygxKTtcbn1cbmZ1bmN0aW9uIE1hcCQxKCkge1xuICB0aGlzLl9zdG9yZSA9IHt9O1xufVxuTWFwJDEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgcmV0dXJuIHRoaXMuX3N0b3JlW21hbmdsZWRdO1xufTtcbk1hcCQxLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICB0aGlzLl9zdG9yZVttYW5nbGVkXSA9IHZhbHVlO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5NYXAkMS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICByZXR1cm4gbWFuZ2xlZCBpbiB0aGlzLl9zdG9yZTtcbn07XG5NYXAkMS5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlKS5tYXAoayA9PiB1bm1hbmdsZShrKSk7XG59O1xuTWFwJDEucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgdmFyIHJlcyA9IG1hbmdsZWQgaW4gdGhpcy5fc3RvcmU7XG4gIGRlbGV0ZSB0aGlzLl9zdG9yZVttYW5nbGVkXTtcbiAgcmV0dXJuIHJlcztcbn07XG5NYXAkMS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYikge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlKTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGtleXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLl9zdG9yZVtrZXldO1xuICAgIGtleSA9IHVubWFuZ2xlKGtleSk7XG4gICAgY2IodmFsdWUsIGtleSk7XG4gIH1cbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwJDEucHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlKS5sZW5ndGg7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBTZXQkMShhcnJheSkge1xuICB0aGlzLl9zdG9yZSA9IG5ldyBNYXAkMSgpO1xuXG4gIC8vIGluaXQgd2l0aCBhbiBhcnJheVxuICBpZiAoYXJyYXkgJiYgQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRoaXMuYWRkKGFycmF5W2ldKTtcbiAgICB9XG4gIH1cbn1cblNldCQxLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9zdG9yZS5zZXQoa2V5LCB0cnVlKTtcbn07XG5TZXQkMS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gdGhpcy5fc3RvcmUuaGFzKGtleSk7XG59O1xuU2V0JDEucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2IpIHtcbiAgdGhpcy5fc3RvcmUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIGNiKGtleSk7XG4gIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXQkMS5wcm90b3R5cGUsICdzaXplJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuc2l6ZTtcbiAgfVxufSk7XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8va2FuZ2F4LmdpdGh1Yi5pby9jb21wYXQtdGFibGUvZXM2LyB3ZSBjYW4gc25pZmYgb3V0XG4vLyBpbmNvbXBsZXRlIE1hcC9TZXQgaW1wbGVtZW50YXRpb25zIHdoaWNoIHdvdWxkIG90aGVyd2lzZSBjYXVzZSBvdXIgdGVzdHMgdG8gZmFpbC5cbi8vIE5vdGFibHkgdGhleSBmYWlsIGluIElFMTEgYW5kIGlPUyA4LjQsIHdoaWNoIHRoaXMgcHJldmVudHMuXG5mdW5jdGlvbiBzdXBwb3J0c01hcEFuZFNldCgpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm9wID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihNYXAsIFN5bWJvbC5zcGVjaWVzKTtcbiAgcmV0dXJuIHByb3AgJiYgJ2dldCcgaW4gcHJvcCAmJiBNYXBbU3ltYm9sLnNwZWNpZXNdID09PSBNYXA7XG59XG5cbi8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9tb250YWdlanMvY29sbGVjdGlvbnNcblxudmFyIEV4cG9ydGVkU2V0O1xudmFyIEV4cG9ydGVkTWFwO1xuXG57XG4gIGlmIChzdXBwb3J0c01hcEFuZFNldCgpKSB7IC8vIHByZWZlciBidWlsdC1pbiBNYXAvU2V0XG4gICAgRXhwb3J0ZWRTZXQgPSBTZXQ7XG4gICAgRXhwb3J0ZWRNYXAgPSBNYXA7XG4gIH0gZWxzZSB7IC8vIGZhbGwgYmFjayB0byBvdXIgcG9seWZpbGxcbiAgICBFeHBvcnRlZFNldCA9IFNldCQxO1xuICAgIEV4cG9ydGVkTWFwID0gTWFwJDE7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNCaW5hcnlPYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiBvYmplY3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHxcbiAgICAodHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnICYmIG9iamVjdCBpbnN0YW5jZW9mIEJsb2IpO1xufVxuXG5mdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGJ1ZmYpIHtcbiAgaWYgKHR5cGVvZiBidWZmLnNsaWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGJ1ZmYuc2xpY2UoMCk7XG4gIH1cbiAgLy8gSUUxMC0xMSBzbGljZSgpIHBvbHlmaWxsXG4gIHZhciB0YXJnZXQgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZi5ieXRlTGVuZ3RoKTtcbiAgdmFyIHRhcmdldEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGFyZ2V0KTtcbiAgdmFyIHNvdXJjZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZik7XG4gIHRhcmdldEFycmF5LnNldChzb3VyY2VBcnJheSk7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGNsb25lQmluYXJ5T2JqZWN0KG9iamVjdCkge1xuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuICB9XG4gIHZhciBzaXplID0gb2JqZWN0LnNpemU7XG4gIHZhciB0eXBlID0gb2JqZWN0LnR5cGU7XG4gIC8vIEJsb2JcbiAgaWYgKHR5cGVvZiBvYmplY3Quc2xpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb2JqZWN0LnNsaWNlKDAsIHNpemUsIHR5cGUpO1xuICB9XG4gIC8vIFBoYW50b21KUyBzbGljZSgpIHJlcGxhY2VtZW50XG4gIHJldHVybiBvYmplY3Qud2Via2l0U2xpY2UoMCwgc2l6ZSwgdHlwZSk7XG59XG5cbi8vIG1vc3Qgb2YgdGhpcyBpcyBib3Jyb3dlZCBmcm9tIGxvZGFzaC5pc1BsYWluT2JqZWN0OlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zpcy1jb21wb25lbnRzL2xvZGFzaC5pc3BsYWlub2JqZWN0L1xuLy8gYmxvYi8yOWMzNTgxNDBhNzRmMjUyYWViMDhjOWViMjhiZWY4NmYyMjE3ZDRhL2luZGV4LmpzXG5cbnZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgdmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChwcm90byA9PT0gbnVsbCkgeyAvLyBub3Qgc3VyZSB3aGVuIHRoaXMgaGFwcGVucywgYnV0IEkgZ3Vlc3MgaXQgY2FuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmXG4gICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG59XG5cbmZ1bmN0aW9uIGNsb25lKG9iamVjdCkge1xuICB2YXIgbmV3T2JqZWN0O1xuICB2YXIgaTtcbiAgdmFyIGxlbjtcblxuICBpZiAoIW9iamVjdCB8fCB0eXBlb2Ygb2JqZWN0ICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgbmV3T2JqZWN0ID0gW107XG4gICAgZm9yIChpID0gMCwgbGVuID0gb2JqZWN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBuZXdPYmplY3RbaV0gPSBjbG9uZShvYmplY3RbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3T2JqZWN0O1xuICB9XG5cbiAgLy8gc3BlY2lhbCBjYXNlOiB0byBhdm9pZCBpbmNvbnNpc3RlbmNpZXMgYmV0d2VlbiBJbmRleGVkREJcbiAgLy8gYW5kIG90aGVyIGJhY2tlbmRzLCB3ZSBhdXRvbWF0aWNhbGx5IHN0cmluZ2lmeSBEYXRlc1xuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgRGF0ZSAmJiBpc0Zpbml0ZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdC50b0lTT1N0cmluZygpO1xuICB9XG5cbiAgaWYgKGlzQmluYXJ5T2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gY2xvbmVCaW5hcnlPYmplY3Qob2JqZWN0KTtcbiAgfVxuXG4gIGlmICghaXNQbGFpbk9iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdDsgLy8gZG9uJ3QgY2xvbmUgb2JqZWN0cyBsaWtlIFdvcmtlcnNcbiAgfVxuXG4gIG5ld09iamVjdCA9IHt9O1xuICBmb3IgKGkgaW4gb2JqZWN0KSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgaSkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGNsb25lKG9iamVjdFtpXSk7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBuZXdPYmplY3RbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld09iamVjdDtcbn1cblxuZnVuY3Rpb24gb25jZShmdW4pIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGNhbGxlZCkge1xuICAgICAgLy8gdGhpcyBpcyBhIHNtb2tlIHRlc3QgYW5kIHNob3VsZCBuZXZlciBhY3R1YWxseSBoYXBwZW5cbiAgICAgIHRocm93IG5ldyBFcnJvcignb25jZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2UnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgIGZ1bi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0b1Byb21pc2UoZnVuYykge1xuICAvL2NyZWF0ZSB0aGUgZnVuY3Rpb24gd2Ugd2lsbCBiZSByZXR1cm5pbmdcbiAgcmV0dXJuIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIC8vIENsb25lIGFyZ3VtZW50c1xuICAgIGFyZ3MgPSBjbG9uZShhcmdzKTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy8gaWYgdGhlIGxhc3QgYXJndW1lbnQgaXMgYSBmdW5jdGlvbiwgYXNzdW1lIGl0cyBhIGNhbGxiYWNrXG4gICAgdmFyIHVzZWRDQiA9ICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSA/IGFyZ3MucG9wKCkgOiBmYWxzZTtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgIHZhciByZXNwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gb25jZShmdW5jdGlvbiAoZXJyLCBtZXNnKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZ1bGZpbGwobWVzZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY3JlYXRlIGEgY2FsbGJhY2sgZm9yIHRoaXMgaW52b2NhdGlvblxuICAgICAgICAvLyBhcHBseSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWcgY29udGV4dFxuICAgICAgICBhcmdzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXNwID0gZnVuYy5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgaWYgKHJlc3AgJiYgdHlwZW9mIHJlc3AudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGZ1bGZpbGwocmVzcCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGlmIHRoZXJlIGlzIGEgY2FsbGJhY2ssIGNhbGwgaXQgYmFja1xuICAgIGlmICh1c2VkQ0IpIHtcbiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHVzZWRDQihudWxsLCByZXN1bHQpO1xuICAgICAgfSwgdXNlZENCKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsb2dBcGlDYWxsKHNlbGYsIG5hbWUsIGFyZ3MpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChzZWxmLmNvbnN0cnVjdG9yLmxpc3RlbmVycygnZGVidWcnKS5sZW5ndGgpIHtcbiAgICB2YXIgbG9nQXJncyA9IFsnYXBpJywgc2VsZi5uYW1lLCBuYW1lXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBsb2dBcmdzLnB1c2goYXJnc1tpXSk7XG4gICAgfVxuICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgnZGVidWcnLCBsb2dBcmdzKTtcblxuICAgIC8vIG92ZXJyaWRlIHRoZSBjYWxsYmFjayBpdHNlbGYgdG8gbG9nIHRoZSByZXNwb25zZVxuICAgIHZhciBvcmlnQ2FsbGJhY2sgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgYXJnc1thcmdzLmxlbmd0aCAtIDFdID0gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICB2YXIgcmVzcG9uc2VBcmdzID0gWydhcGknLCBzZWxmLm5hbWUsIG5hbWVdO1xuICAgICAgcmVzcG9uc2VBcmdzID0gcmVzcG9uc2VBcmdzLmNvbmNhdChcbiAgICAgICAgZXJyID8gWydlcnJvcicsIGVycl0gOiBbJ3N1Y2Nlc3MnLCByZXNdXG4gICAgICApO1xuICAgICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdkZWJ1ZycsIHJlc3BvbnNlQXJncyk7XG4gICAgICBvcmlnQ2FsbGJhY2soZXJyLCByZXMpO1xuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRhcHRlckZ1bihuYW1lLCBjYWxsYmFjaykge1xuICByZXR1cm4gdG9Qcm9taXNlKGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIGlmICh0aGlzLl9jbG9zZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2RhdGFiYXNlIGlzIGNsb3NlZCcpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZGF0YWJhc2UgaXMgZGVzdHJveWVkJykpO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgbG9nQXBpQ2FsbChzZWxmLCBuYW1lLCBhcmdzKTtcbiAgICBpZiAoIXRoaXMudGFza3F1ZXVlLmlzUmVhZHkpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYudGFza3F1ZXVlLmFkZFRhc2soZnVuY3Rpb24gKGZhaWxlZCkge1xuICAgICAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgICAgIHJlamVjdChmYWlsZWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmdWxmaWxsKHNlbGZbbmFtZV0uYXBwbHkoc2VsZiwgYXJncykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9KSk7XG59XG5cbi8vIGxpa2UgdW5kZXJzY29yZS9sb2Rhc2ggXy5waWNrKClcbmZ1bmN0aW9uIHBpY2sob2JqLCBhcnIpIHtcbiAgdmFyIHJlcyA9IHt9O1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIHByb3AgPSBhcnJbaV07XG4gICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICByZXNbcHJvcF0gPSBvYmpbcHJvcF07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59XG5cbi8vIE1vc3QgYnJvd3NlcnMgdGhyb3R0bGUgY29uY3VycmVudCByZXF1ZXN0cyBhdCA2LCBzbyBpdCdzIHNpbGx5XG4vLyB0byBzaGltIF9idWxrX2dldCBieSB0cnlpbmcgdG8gbGF1bmNoIHBvdGVudGlhbGx5IGh1bmRyZWRzIG9mIHJlcXVlc3RzXG4vLyBhbmQgdGhlbiBsZXR0aW5nIHRoZSBtYWpvcml0eSB0aW1lIG91dC4gV2UgY2FuIGhhbmRsZSB0aGlzIG91cnNlbHZlcy5cbnZhciBNQVhfTlVNX0NPTkNVUlJFTlRfUkVRVUVTVFMgPSA2O1xuXG5mdW5jdGlvbiBpZGVudGl0eUZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHg7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0KHJlc3VsdCkge1xuICByZXR1cm4gW3tcbiAgICBvazogcmVzdWx0XG4gIH1dO1xufVxuXG4vLyBzaGltIGZvciBQL0NvdWNoREIgYWRhcHRlcnMgdGhhdCBkb24ndCBkaXJlY3RseSBpbXBsZW1lbnQgX2J1bGtfZ2V0XG5mdW5jdGlvbiBidWxrR2V0KGRiLCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgcmVxdWVzdHMgPSBvcHRzLmRvY3M7XG5cbiAgLy8gY29uc29saWRhdGUgaW50byBvbmUgcmVxdWVzdCBwZXIgZG9jIGlmIHBvc3NpYmxlXG4gIHZhciByZXF1ZXN0c0J5SWQgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgcmVxdWVzdHMuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgIGlmIChyZXF1ZXN0c0J5SWQuaGFzKHJlcXVlc3QuaWQpKSB7XG4gICAgICByZXF1ZXN0c0J5SWQuZ2V0KHJlcXVlc3QuaWQpLnB1c2gocmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3RzQnlJZC5zZXQocmVxdWVzdC5pZCwgW3JlcXVlc3RdKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBudW1Eb2NzID0gcmVxdWVzdHNCeUlkLnNpemU7XG4gIHZhciBudW1Eb25lID0gMDtcbiAgdmFyIHBlckRvY1Jlc3VsdHMgPSBuZXcgQXJyYXkobnVtRG9jcyk7XG5cbiAgZnVuY3Rpb24gY29sbGFwc2VSZXN1bHRzQW5kRmluaXNoKCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgcGVyRG9jUmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJlcy5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICBpZDogcmVzLmlkLFxuICAgICAgICAgIGRvY3M6IFtpbmZvXVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNhbGxiYWNrKG51bGwsIHtyZXN1bHRzOiByZXN1bHRzfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgaWYgKCsrbnVtRG9uZSA9PT0gbnVtRG9jcykge1xuICAgICAgY29sbGFwc2VSZXN1bHRzQW5kRmluaXNoKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ290UmVzdWx0KGRvY0luZGV4LCBpZCwgZG9jcykge1xuICAgIHBlckRvY1Jlc3VsdHNbZG9jSW5kZXhdID0ge2lkOiBpZCwgZG9jczogZG9jc307XG4gICAgY2hlY2tEb25lKCk7XG4gIH1cblxuICB2YXIgYWxsUmVxdWVzdHMgPSBbXTtcbiAgcmVxdWVzdHNCeUlkLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICBhbGxSZXF1ZXN0cy5wdXNoKGtleSk7XG4gIH0pO1xuXG4gIHZhciBpID0gMDtcblxuICBmdW5jdGlvbiBuZXh0QmF0Y2goKSB7XG5cbiAgICBpZiAoaSA+PSBhbGxSZXF1ZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdXBUbyA9IE1hdGgubWluKGkgKyBNQVhfTlVNX0NPTkNVUlJFTlRfUkVRVUVTVFMsIGFsbFJlcXVlc3RzLmxlbmd0aCk7XG4gICAgdmFyIGJhdGNoID0gYWxsUmVxdWVzdHMuc2xpY2UoaSwgdXBUbyk7XG4gICAgcHJvY2Vzc0JhdGNoKGJhdGNoLCBpKTtcbiAgICBpICs9IGJhdGNoLmxlbmd0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NCYXRjaChiYXRjaCwgb2Zmc2V0KSB7XG4gICAgYmF0Y2guZm9yRWFjaChmdW5jdGlvbiAoZG9jSWQsIGopIHtcbiAgICAgIHZhciBkb2NJZHggPSBvZmZzZXQgKyBqO1xuICAgICAgdmFyIGRvY1JlcXVlc3RzID0gcmVxdWVzdHNCeUlkLmdldChkb2NJZCk7XG5cbiAgICAgIC8vIGp1c3QgdXNlIHRoZSBmaXJzdCByZXF1ZXN0IGFzIHRoZSBcInRlbXBsYXRlXCJcbiAgICAgIC8vIFRPRE86IFRoZSBfYnVsa19nZXQgQVBJIGFsbG93cyBmb3IgbW9yZSBzdWJ0bGUgdXNlIGNhc2VzIHRoYW4gdGhpcyxcbiAgICAgIC8vIGJ1dCBmb3Igbm93IGl0IGlzIHVubGlrZWx5IHRoYXQgdGhlcmUgd2lsbCBiZSBhIG1peCBvZiBkaWZmZXJlbnRcbiAgICAgIC8vIFwiYXR0c19zaW5jZVwiIG9yIFwiYXR0YWNobWVudHNcIiBpbiB0aGUgc2FtZSByZXF1ZXN0LCBzaW5jZSBpdCdzIGp1c3RcbiAgICAgIC8vIHJlcGxpY2F0ZS5qcyB0aGF0IGlzIHVzaW5nIHRoaXMgZm9yIHRoZSBtb21lbnQuXG4gICAgICAvLyBBbHNvLCBhdHRzX3NpbmNlIGlzIGFzcGlyYXRpb25hbCwgc2luY2Ugd2UgZG9uJ3Qgc3VwcG9ydCBpdCB5ZXQuXG4gICAgICB2YXIgZG9jT3B0cyA9IHBpY2soZG9jUmVxdWVzdHNbMF0sIFsnYXR0c19zaW5jZScsICdhdHRhY2htZW50cyddKTtcbiAgICAgIGRvY09wdHMub3Blbl9yZXZzID0gZG9jUmVxdWVzdHMubWFwKGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIC8vIHJldiBpcyBvcHRpb25hbCwgb3Blbl9yZXZzIGRpc2FsbG93ZWRcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QucmV2O1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHJlbW92ZSBmYWxzZXkgLyB1bmRlZmluZWQgcmV2aXNpb25zXG4gICAgICBkb2NPcHRzLm9wZW5fcmV2cyA9IGRvY09wdHMub3Blbl9yZXZzLmZpbHRlcihpZGVudGl0eUZ1bmN0aW9uKTtcblxuICAgICAgdmFyIGZvcm1hdFJlc3VsdCA9IGlkZW50aXR5RnVuY3Rpb247XG5cbiAgICAgIGlmIChkb2NPcHRzLm9wZW5fcmV2cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIGRvY09wdHMub3Blbl9yZXZzO1xuXG4gICAgICAgIC8vIHdoZW4gZmV0Y2hpbmcgb25seSB0aGUgXCJ3aW5uaW5nXCIgbGVhZixcbiAgICAgICAgLy8gdHJhbnNmb3JtIHRoZSByZXN1bHQgc28gaXQgbG9va3MgbGlrZSBhbiBvcGVuX3JldnNcbiAgICAgICAgLy8gcmVxdWVzdFxuICAgICAgICBmb3JtYXRSZXN1bHQgPSBmb3JtYXRSZXN1bHRGb3JPcGVuUmV2c0dldDtcbiAgICAgIH1cblxuICAgICAgLy8gZ2xvYmFsbHktc3VwcGxpZWQgb3B0aW9uc1xuICAgICAgWydyZXZzJywgJ2F0dGFjaG1lbnRzJywgJ2JpbmFyeScsICdhamF4JywgJ2xhdGVzdCddLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgIGlmIChwYXJhbSBpbiBvcHRzKSB7XG4gICAgICAgICAgZG9jT3B0c1twYXJhbV0gPSBvcHRzW3BhcmFtXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkYi5nZXQoZG9jSWQsIGRvY09wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlc3VsdCA9IFt7ZXJyb3I6IGVycn1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGZvcm1hdFJlc3VsdChyZXMpO1xuICAgICAgICB9XG4gICAgICAgIGdvdFJlc3VsdChkb2NJZHgsIGRvY0lkLCByZXN1bHQpO1xuICAgICAgICBuZXh0QmF0Y2goKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgbmV4dEJhdGNoKCk7XG5cbn1cblxudmFyIGhhc0xvY2FsO1xuXG50cnkge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnX3BvdWNoX2NoZWNrX2xvY2Fsc3RvcmFnZScsIDEpO1xuICBoYXNMb2NhbCA9ICEhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ19wb3VjaF9jaGVja19sb2NhbHN0b3JhZ2UnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgaGFzTG9jYWwgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaGFzTG9jYWxTdG9yYWdlKCkge1xuICByZXR1cm4gaGFzTG9jYWw7XG59XG5cbi8vIEN1c3RvbSBuZXh0VGljaygpIHNoaW0gZm9yIGJyb3dzZXJzLiBJbiBub2RlLCB0aGlzIHdpbGwganVzdCBiZSBwcm9jZXNzLm5leHRUaWNrKCkuIFdlXG5cbmluaGVyaXRzKENoYW5nZXMsIEVFKTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGF0dGFjaEJyb3dzZXJFdmVudHMoc2VsZikge1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICBhZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgc2VsZi5lbWl0KGUua2V5KTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBDaGFuZ2VzKCkge1xuICBFRS5jYWxsKHRoaXMpO1xuICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcblxuICBhdHRhY2hCcm93c2VyRXZlbnRzKHRoaXMpO1xufVxuQ2hhbmdlcy5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAoZGJOYW1lLCBpZCwgZGIsIG9wdHMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0aGlzLl9saXN0ZW5lcnNbaWRdKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGlucHJvZ3Jlc3MgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZXZlbnRGdW5jdGlvbigpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIXNlbGYuX2xpc3RlbmVyc1tpZF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlucHJvZ3Jlc3MpIHtcbiAgICAgIGlucHJvZ3Jlc3MgPSAnd2FpdGluZyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucHJvZ3Jlc3MgPSB0cnVlO1xuICAgIHZhciBjaGFuZ2VzT3B0cyA9IHBpY2sob3B0cywgW1xuICAgICAgJ3N0eWxlJywgJ2luY2x1ZGVfZG9jcycsICdhdHRhY2htZW50cycsICdjb25mbGljdHMnLCAnZmlsdGVyJyxcbiAgICAgICdkb2NfaWRzJywgJ3ZpZXcnLCAnc2luY2UnLCAncXVlcnlfcGFyYW1zJywgJ2JpbmFyeScsICdyZXR1cm5fZG9jcydcbiAgICBdKTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgIGlucHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBkYi5jaGFuZ2VzKGNoYW5nZXNPcHRzKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmIChjLnNlcSA+IG9wdHMuc2luY2UgJiYgIW9wdHMuY2FuY2VsbGVkKSB7XG4gICAgICAgIG9wdHMuc2luY2UgPSBjLnNlcTtcbiAgICAgICAgb3B0cy5vbkNoYW5nZShjKTtcbiAgICAgIH1cbiAgICB9KS5vbignY29tcGxldGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaW5wcm9ncmVzcyA9PT0gJ3dhaXRpbmcnKSB7XG4gICAgICAgIGltbWVkaWF0ZShldmVudEZ1bmN0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlucHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9KS5vbignZXJyb3InLCBvbkVycm9yKTtcbiAgfVxuICB0aGlzLl9saXN0ZW5lcnNbaWRdID0gZXZlbnRGdW5jdGlvbjtcbiAgdGhpcy5vbihkYk5hbWUsIGV2ZW50RnVuY3Rpb24pO1xufTtcblxuQ2hhbmdlcy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZGJOYW1lLCBpZCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCEoaWQgaW4gdGhpcy5fbGlzdGVuZXJzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBFRS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuY2FsbCh0aGlzLCBkYk5hbWUsXG4gICAgdGhpcy5fbGlzdGVuZXJzW2lkXSk7XG4gIGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbaWRdO1xufTtcblxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuQ2hhbmdlcy5wcm90b3R5cGUubm90aWZ5TG9jYWxXaW5kb3dzID0gZnVuY3Rpb24gKGRiTmFtZSkge1xuICAvL2RvIGEgdXNlbGVzcyBjaGFuZ2Ugb24gYSBzdG9yYWdlIHRoaW5nXG4gIC8vaW4gb3JkZXIgdG8gZ2V0IG90aGVyIHdpbmRvd3MncyBsaXN0ZW5lcnMgdG8gYWN0aXZhdGVcbiAgaWYgKGhhc0xvY2FsU3RvcmFnZSgpKSB7XG4gICAgbG9jYWxTdG9yYWdlW2RiTmFtZV0gPSAobG9jYWxTdG9yYWdlW2RiTmFtZV0gPT09IFwiYVwiKSA/IFwiYlwiIDogXCJhXCI7XG4gIH1cbn07XG5cbkNoYW5nZXMucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIChkYk5hbWUpIHtcbiAgdGhpcy5lbWl0KGRiTmFtZSk7XG4gIHRoaXMubm90aWZ5TG9jYWxXaW5kb3dzKGRiTmFtZSk7XG59O1xuXG5mdW5jdGlvbiBndWFyZGVkQ29uc29sZShtZXRob2QpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZVttZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGNvbnNvbGVbbWV0aG9kXS5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByYW5kb21OdW1iZXIobWluLCBtYXgpIHtcbiAgdmFyIG1heFRpbWVvdXQgPSA2MDAwMDA7IC8vIEhhcmQtY29kZWQgZGVmYXVsdCBvZiAxMCBtaW51dGVzXG4gIG1pbiA9IHBhcnNlSW50KG1pbiwgMTApIHx8IDA7XG4gIG1heCA9IHBhcnNlSW50KG1heCwgMTApO1xuICBpZiAobWF4ICE9PSBtYXggfHwgbWF4IDw9IG1pbikge1xuICAgIG1heCA9IChtaW4gfHwgMSkgPDwgMTsgLy9kb3VibGluZ1xuICB9IGVsc2Uge1xuICAgIG1heCA9IG1heCArIDE7XG4gIH1cbiAgLy8gSW4gb3JkZXIgdG8gbm90IGV4Y2VlZCBtYXhUaW1lb3V0LCBwaWNrIGEgcmFuZG9tIHZhbHVlIGJldHdlZW4gaGFsZiBvZiBtYXhUaW1lb3V0IGFuZCBtYXhUaW1lb3V0XG4gIGlmIChtYXggPiBtYXhUaW1lb3V0KSB7XG4gICAgbWluID0gbWF4VGltZW91dCA+PiAxOyAvLyBkaXZpZGUgYnkgdHdvXG4gICAgbWF4ID0gbWF4VGltZW91dDtcbiAgfVxuICB2YXIgcmF0aW8gPSBNYXRoLnJhbmRvbSgpO1xuICB2YXIgcmFuZ2UgPSBtYXggLSBtaW47XG5cbiAgcmV0dXJuIH5+KHJhbmdlICogcmF0aW8gKyBtaW4pOyAvLyB+fiBjb2VyY2VzIHRvIGFuIGludCwgYnV0IGZhc3QuXG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRCYWNrT2ZmKG1pbikge1xuICB2YXIgbWF4ID0gMDtcbiAgaWYgKCFtaW4pIHtcbiAgICBtYXggPSAyMDAwO1xuICB9XG4gIHJldHVybiByYW5kb21OdW1iZXIobWluLCBtYXgpO1xufVxuXG4vLyBkZXNpZ25lZCB0byBnaXZlIGluZm8gdG8gYnJvd3NlciB1c2Vycywgd2hvIGFyZSBkaXN0dXJiZWRcbi8vIHdoZW4gdGhleSBzZWUgaHR0cCBlcnJvcnMgaW4gdGhlIGNvbnNvbGVcbmZ1bmN0aW9uIGV4cGxhaW5FcnJvcihzdGF0dXMsIHN0cikge1xuICBndWFyZGVkQ29uc29sZSgnaW5mbycsICdUaGUgYWJvdmUgJyArIHN0YXR1cyArICcgaXMgdG90YWxseSBub3JtYWwuICcgKyBzdHIpO1xufVxuXG52YXIgYXNzaWduO1xue1xuICBpZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuICB9IGVsc2Uge1xuICAgIC8vIGxpdGUgT2JqZWN0LmFzc2lnbiBwb2x5ZmlsbCBiYXNlZCBvblxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cbiAgICBhc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuXG4gICAgICAgIGlmIChuZXh0U291cmNlICE9IG51bGwpIHsgLy8gU2tpcCBvdmVyIGlmIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XG4gICAgICAgICAgICAvLyBBdm9pZCBidWdzIHdoZW4gaGFzT3duUHJvcGVydHkgaXMgc2hhZG93ZWRcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmV4dFNvdXJjZSwgbmV4dEtleSkpIHtcbiAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRvO1xuICAgIH07XG4gIH1cbn1cblxudmFyICRpbmplY3RfT2JqZWN0X2Fzc2lnbiA9IGFzc2lnbjtcblxuaW5oZXJpdHMoUG91Y2hFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBQb3VjaEVycm9yKHN0YXR1cywgZXJyb3IsIHJlYXNvbikge1xuICBFcnJvci5jYWxsKHRoaXMsIHJlYXNvbik7XG4gIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICB0aGlzLm5hbWUgPSBlcnJvcjtcbiAgdGhpcy5tZXNzYWdlID0gcmVhc29uO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbn1cblxuUG91Y2hFcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgIHJlYXNvbjogdGhpcy5yZWFzb25cbiAgfSk7XG59O1xuXG52YXIgVU5BVVRIT1JJWkVEID0gbmV3IFBvdWNoRXJyb3IoNDAxLCAndW5hdXRob3JpemVkJywgXCJOYW1lIG9yIHBhc3N3b3JkIGlzIGluY29ycmVjdC5cIik7XG52YXIgTUlTU0lOR19CVUxLX0RPQ1MgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsIFwiTWlzc2luZyBKU09OIGxpc3Qgb2YgJ2RvY3MnXCIpO1xudmFyIE1JU1NJTkdfRE9DID0gbmV3IFBvdWNoRXJyb3IoNDA0LCAnbm90X2ZvdW5kJywgJ21pc3NpbmcnKTtcbnZhciBSRVZfQ09ORkxJQ1QgPSBuZXcgUG91Y2hFcnJvcig0MDksICdjb25mbGljdCcsICdEb2N1bWVudCB1cGRhdGUgY29uZmxpY3QnKTtcbnZhciBJTlZBTElEX0lEID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnX2lkIGZpZWxkIG11c3QgY29udGFpbiBhIHN0cmluZycpO1xudmFyIE1JU1NJTkdfSUQgPSBuZXcgUG91Y2hFcnJvcig0MTIsICdtaXNzaW5nX2lkJywgJ19pZCBpcyByZXF1aXJlZCBmb3IgcHV0cycpO1xudmFyIFJFU0VSVkVEX0lEID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnT25seSByZXNlcnZlZCBkb2N1bWVudCBpZHMgbWF5IHN0YXJ0IHdpdGggdW5kZXJzY29yZS4nKTtcbnZhciBOT1RfT1BFTiA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ3ByZWNvbmRpdGlvbl9mYWlsZWQnLCAnRGF0YWJhc2Ugbm90IG9wZW4nKTtcbnZhciBVTktOT1dOX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAndW5rbm93bl9lcnJvcicsICdEYXRhYmFzZSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGVycm9yJyk7XG52YXIgQkFEX0FSRyA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2JhZGFyZycsICdTb21lIHF1ZXJ5IGFyZ3VtZW50IGlzIGludmFsaWQnKTtcbnZhciBJTlZBTElEX1JFUVVFU1QgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdpbnZhbGlkX3JlcXVlc3QnLCAnUmVxdWVzdCB3YXMgaW52YWxpZCcpO1xudmFyIFFVRVJZX1BBUlNFX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAncXVlcnlfcGFyc2VfZXJyb3InLCAnU29tZSBxdWVyeSBwYXJhbWV0ZXIgaXMgaW52YWxpZCcpO1xudmFyIERPQ19WQUxJREFUSU9OID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnZG9jX3ZhbGlkYXRpb24nLCAnQmFkIHNwZWNpYWwgZG9jdW1lbnQgbWVtYmVyJyk7XG52YXIgQkFEX1JFUVVFU1QgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdTb21ldGhpbmcgd3Jvbmcgd2l0aCB0aGUgcmVxdWVzdCcpO1xudmFyIE5PVF9BTl9PQkpFQ1QgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdEb2N1bWVudCBtdXN0IGJlIGEgSlNPTiBvYmplY3QnKTtcbnZhciBEQl9NSVNTSU5HID0gbmV3IFBvdWNoRXJyb3IoNDA0LCAnbm90X2ZvdW5kJywgJ0RhdGFiYXNlIG5vdCBmb3VuZCcpO1xudmFyIElEQl9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2luZGV4ZWRfZGJfd2VudF9iYWQnLCAndW5rbm93bicpO1xudmFyIFdTUV9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ3dlYl9zcWxfd2VudF9iYWQnLCAndW5rbm93bicpO1xudmFyIExEQl9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2xldmVsREJfd2VudF93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgRk9SQklEREVOID0gbmV3IFBvdWNoRXJyb3IoNDAzLCAnZm9yYmlkZGVuJywgJ0ZvcmJpZGRlbiBieSBkZXNpZ24gZG9jIHZhbGlkYXRlX2RvY191cGRhdGUgZnVuY3Rpb24nKTtcbnZhciBJTlZBTElEX1JFViA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ0ludmFsaWQgcmV2IGZvcm1hdCcpO1xudmFyIEZJTEVfRVhJU1RTID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAnZmlsZV9leGlzdHMnLCAnVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBjcmVhdGVkLCB0aGUgZmlsZSBhbHJlYWR5IGV4aXN0cy4nKTtcbnZhciBNSVNTSU5HX1NUVUIgPSBuZXcgUG91Y2hFcnJvcig0MTIsICdtaXNzaW5nX3N0dWInLCAnQSBwcmUtZXhpc3RpbmcgYXR0YWNobWVudCBzdHViIHdhc25cXCd0IGZvdW5kJyk7XG52YXIgSU5WQUxJRF9VUkwgPSBuZXcgUG91Y2hFcnJvcig0MTMsICdpbnZhbGlkX3VybCcsICdQcm92aWRlZCBVUkwgaXMgaW52YWxpZCcpO1xuXG5mdW5jdGlvbiBjcmVhdGVFcnJvcihlcnJvciwgcmVhc29uKSB7XG4gIGZ1bmN0aW9uIEN1c3RvbVBvdWNoRXJyb3IocmVhc29uKSB7XG4gICAgLy8gaW5oZXJpdCBlcnJvciBwcm9wZXJ0aWVzIGZyb20gb3VyIHBhcmVudCBlcnJvciBtYW51YWxseVxuICAgIC8vIHNvIGFzIHRvIGFsbG93IHByb3BlciBKU09OIHBhcnNpbmcuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHZhciBuYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGVycm9yKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICh0eXBlb2YgZXJyb3JbbmFtZXNbaV1dICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXNbbmFtZXNbaV1dID0gZXJyb3JbbmFtZXNbaV1dO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YWNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuICAgIH1cblxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgaWYgKHJlYXNvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICB9XG4gIH1cbiAgQ3VzdG9tUG91Y2hFcnJvci5wcm90b3R5cGUgPSBQb3VjaEVycm9yLnByb3RvdHlwZTtcbiAgcmV0dXJuIG5ldyBDdXN0b21Qb3VjaEVycm9yKHJlYXNvbik7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UoZXJyKSB7XG5cbiAgaWYgKHR5cGVvZiBlcnIgIT09ICdvYmplY3QnKSB7XG4gICAgdmFyIGRhdGEgPSBlcnI7XG4gICAgZXJyID0gVU5LTk9XTl9FUlJPUjtcbiAgICBlcnIuZGF0YSA9IGRhdGE7XG4gIH1cblxuICBpZiAoJ2Vycm9yJyBpbiBlcnIgJiYgZXJyLmVycm9yID09PSAnY29uZmxpY3QnKSB7XG4gICAgZXJyLm5hbWUgPSAnY29uZmxpY3QnO1xuICAgIGVyci5zdGF0dXMgPSA0MDk7XG4gIH1cblxuICBpZiAoISgnbmFtZScgaW4gZXJyKSkge1xuICAgIGVyci5uYW1lID0gZXJyLmVycm9yIHx8ICd1bmtub3duJztcbiAgfVxuXG4gIGlmICghKCdzdGF0dXMnIGluIGVycikpIHtcbiAgICBlcnIuc3RhdHVzID0gNTAwO1xuICB9XG5cbiAgaWYgKCEoJ21lc3NhZ2UnIGluIGVycikpIHtcbiAgICBlcnIubWVzc2FnZSA9IGVyci5tZXNzYWdlIHx8IGVyci5yZWFzb247XG4gIH1cblxuICBpZiAoISgnc3RhY2snIGluIGVycikpIHtcbiAgICBlcnIuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuICB9XG5cbiAgcmV0dXJuIGVycjtcbn1cblxuZnVuY3Rpb24gdHJ5RmlsdGVyKGZpbHRlciwgZG9jLCByZXEpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gIWZpbHRlcihkb2MsIHJlcSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHZhciBtc2cgPSAnRmlsdGVyIGZ1bmN0aW9uIHRocmV3OiAnICsgZXJyLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULCBtc2cpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbHRlckNoYW5nZShvcHRzKSB7XG4gIHZhciByZXEgPSB7fTtcbiAgdmFyIGhhc0ZpbHRlciA9IG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJztcbiAgcmVxLnF1ZXJ5ID0gb3B0cy5xdWVyeV9wYXJhbXM7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlcihjaGFuZ2UpIHtcbiAgICBpZiAoIWNoYW5nZS5kb2MpIHtcbiAgICAgIC8vIENTRyBzZW5kcyBldmVudHMgb24gdGhlIGNoYW5nZXMgZmVlZCB0aGF0IGRvbid0IGhhdmUgZG9jdW1lbnRzLFxuICAgICAgLy8gdGhpcyBoYWNrIG1ha2VzIGEgd2hvbGUgbG90IG9mIGV4aXN0aW5nIGNvZGUgcm9idXN0LlxuICAgICAgY2hhbmdlLmRvYyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBmaWx0ZXJSZXR1cm4gPSBoYXNGaWx0ZXIgJiYgdHJ5RmlsdGVyKG9wdHMuZmlsdGVyLCBjaGFuZ2UuZG9jLCByZXEpO1xuXG4gICAgaWYgKHR5cGVvZiBmaWx0ZXJSZXR1cm4gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZmlsdGVyUmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChmaWx0ZXJSZXR1cm4pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICBkZWxldGUgY2hhbmdlLmRvYztcbiAgICB9IGVsc2UgaWYgKCFvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBmb3IgKHZhciBhdHQgaW4gY2hhbmdlLmRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjaGFuZ2UuZG9jLl9hdHRhY2htZW50cywgYXR0KSkge1xuICAgICAgICAgIGNoYW5nZS5kb2MuX2F0dGFjaG1lbnRzW2F0dF0uc3R1YiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW4oYXJycykge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgcmVzID0gcmVzLmNvbmNhdChhcnJzW2ldKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG4vLyBzaGltIGZvciBGdW5jdGlvbi5wcm90b3R5cGUubmFtZSxcblxuLy8gRGV0ZXJtaW5lIGlkIGFuIElEIGlzIHZhbGlkXG4vLyAgIC0gaW52YWxpZCBJRHMgYmVnaW4gd2l0aCBhbiB1bmRlcmVzY29yZSB0aGF0IGRvZXMgbm90IGJlZ2luICdfZGVzaWduJyBvclxuLy8gICAgICdfbG9jYWwnXG4vLyAgIC0gYW55IG90aGVyIHN0cmluZyB2YWx1ZSBpcyBhIHZhbGlkIGlkXG4vLyBSZXR1cm5zIHRoZSBzcGVjaWZpYyBlcnJvciBvYmplY3QgZm9yIGVhY2ggY2FzZVxuZnVuY3Rpb24gaW52YWxpZElkRXJyb3IoaWQpIHtcbiAgdmFyIGVycjtcbiAgaWYgKCFpZCkge1xuICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfSUQpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICBlcnIgPSBjcmVhdGVFcnJvcihJTlZBTElEX0lEKTtcbiAgfSBlbHNlIGlmICgvXl8vLnRlc3QoaWQpICYmICEoL15fKGRlc2lnbnxsb2NhbCkvKS50ZXN0KGlkKSkge1xuICAgIGVyciA9IGNyZWF0ZUVycm9yKFJFU0VSVkVEX0lEKTtcbiAgfVxuICBpZiAoZXJyKSB7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59XG5cbi8vIENoZWNrcyBpZiBhIFBvdWNoREIgb2JqZWN0IGlzIFwicmVtb3RlXCIgb3Igbm90LiBUaGlzIGlzXG5cbmZ1bmN0aW9uIGlzUmVtb3RlKGRiKSB7XG4gIGlmICh0eXBlb2YgZGIuX3JlbW90ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIGRiLl9yZW1vdGU7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKHR5cGVvZiBkYi50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLFxuICAgICAgJ2RiLnR5cGUoKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArXG4gICAgICAnYSBmdXR1cmUgdmVyc2lvbiBvZiBQb3VjaERCJyk7XG4gICAgcmV0dXJuIGRiLnR5cGUoKSA9PT0gJ2h0dHAnO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbGlzdGVuZXJDb3VudChlZSwgdHlwZSkge1xuICByZXR1cm4gJ2xpc3RlbmVyQ291bnQnIGluIGVlID8gZWUubGlzdGVuZXJDb3VudCh0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFRS5saXN0ZW5lckNvdW50KGVlLCB0eXBlKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUocykge1xuICBpZiAoIXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcGFydHMgPSBzLnNwbGl0KCcvJyk7XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICByZXR1cm4gcGFydHM7XG4gIH1cbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBbcywgc107XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKSB7XG4gIHZhciBub3JtYWxpemVkID0gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUocyk7XG4gIHJldHVybiBub3JtYWxpemVkID8gbm9ybWFsaXplZC5qb2luKCcvJykgOiBudWxsO1xufVxuXG4vLyBvcmlnaW5hbGx5IHBhcnNlVXJpIDEuMi4yLCBub3cgcGF0Y2hlZCBieSB1c1xuLy8gKGMpIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPlxuLy8gTUlUIExpY2Vuc2VcbnZhciBrZXlzID0gW1wic291cmNlXCIsIFwicHJvdG9jb2xcIiwgXCJhdXRob3JpdHlcIiwgXCJ1c2VySW5mb1wiLCBcInVzZXJcIiwgXCJwYXNzd29yZFwiLFxuICAgIFwiaG9zdFwiLCBcInBvcnRcIiwgXCJyZWxhdGl2ZVwiLCBcInBhdGhcIiwgXCJkaXJlY3RvcnlcIiwgXCJmaWxlXCIsIFwicXVlcnlcIiwgXCJhbmNob3JcIl07XG52YXIgcU5hbWUgPVwicXVlcnlLZXlcIjtcbnZhciBxUGFyc2VyID0gLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nO1xuXG4vLyB1c2UgdGhlIFwibG9vc2VcIiBwYXJzZXJcbi8qIGVzbGludCBuby11c2VsZXNzLWVzY2FwZTogMCAqL1xudmFyIHBhcnNlciA9IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcblxuZnVuY3Rpb24gcGFyc2VVcmkoc3RyKSB7XG4gIHZhciBtID0gcGFyc2VyLmV4ZWMoc3RyKTtcbiAgdmFyIHVyaSA9IHt9O1xuICB2YXIgaSA9IDE0O1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgdmFsdWUgPSBtW2ldIHx8IFwiXCI7XG4gICAgdmFyIGVuY29kZWQgPSBbJ3VzZXInLCAncGFzc3dvcmQnXS5pbmRleE9mKGtleSkgIT09IC0xO1xuICAgIHVyaVtrZXldID0gZW5jb2RlZCA/IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgOiB2YWx1ZTtcbiAgfVxuXG4gIHVyaVtxTmFtZV0gPSB7fTtcbiAgdXJpW2tleXNbMTJdXS5yZXBsYWNlKHFQYXJzZXIsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgaWYgKCQxKSB7XG4gICAgICB1cmlbcU5hbWVdWyQxXSA9ICQyO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHVyaTtcbn1cblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2FsZXhkYXZpZC9zY29wZS1ldmFsIHYwLjAuM1xuLy8gKHNvdXJjZTogaHR0cHM6Ly91bnBrZy5jb20vc2NvcGUtZXZhbEAwLjAuMy9zY29wZV9ldmFsLmpzKVxuLy8gVGhpcyBpcyBiYXNpY2FsbHkganVzdCBhIHdyYXBwZXIgYXJvdW5kIG5ldyBGdW5jdGlvbigpXG5cbmZ1bmN0aW9uIHNjb3BlRXZhbChzb3VyY2UsIHNjb3BlKSB7XG4gIHZhciBrZXlzID0gW107XG4gIHZhciB2YWx1ZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIHNjb3BlKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzY29wZSwga2V5KSkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICB2YWx1ZXMucHVzaChzY29wZVtrZXldKTtcbiAgICB9XG4gIH1cbiAga2V5cy5wdXNoKHNvdXJjZSk7XG4gIHJldHVybiBGdW5jdGlvbi5hcHBseShudWxsLCBrZXlzKS5hcHBseShudWxsLCB2YWx1ZXMpO1xufVxuXG4vLyB0aGlzIGlzIGVzc2VudGlhbGx5IHRoZSBcInVwZGF0ZSBzdWdhclwiIGZ1bmN0aW9uIGZyb20gZGFsZWhhcnZleS9wb3VjaGRiIzEzODhcbi8vIHRoZSBkaWZmRnVuIHRlbGxzIHVzIHdoYXQgZGVsdGEgdG8gYXBwbHkgdG8gdGhlIGRvYy4gIGl0IGVpdGhlciByZXR1cm5zXG4vLyB0aGUgZG9jLCBvciBmYWxzZSBpZiBpdCBkb2Vzbid0IG5lZWQgdG8gZG8gYW4gdXBkYXRlIGFmdGVyIGFsbFxuZnVuY3Rpb24gdXBzZXJ0KGRiLCBkb2NJZCwgZGlmZkZ1bikge1xuICByZXR1cm4gZGIuZ2V0KGRvY0lkKVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAvLyB0aGUgdXNlciBtaWdodCBjaGFuZ2UgdGhlIF9yZXYsIHNvIHNhdmUgaXQgZm9yIHBvc3Rlcml0eVxuICAgICAgdmFyIGRvY1JldiA9IGRvYy5fcmV2O1xuICAgICAgdmFyIG5ld0RvYyA9IGRpZmZGdW4oZG9jKTtcblxuICAgICAgaWYgKCFuZXdEb2MpIHtcbiAgICAgICAgLy8gaWYgdGhlIGRpZmZGdW4gcmV0dXJucyBmYWxzeSwgd2Ugc2hvcnQtY2lyY3VpdCBhc1xuICAgICAgICAvLyBhbiBvcHRpbWl6YXRpb25cbiAgICAgICAgcmV0dXJuIHt1cGRhdGVkOiBmYWxzZSwgcmV2OiBkb2NSZXZ9O1xuICAgICAgfVxuXG4gICAgICAvLyB1c2VycyBhcmVuJ3QgYWxsb3dlZCB0byBtb2RpZnkgdGhlc2UgdmFsdWVzLFxuICAgICAgLy8gc28gcmVzZXQgdGhlbSBoZXJlXG4gICAgICBuZXdEb2MuX2lkID0gZG9jSWQ7XG4gICAgICBuZXdEb2MuX3JldiA9IGRvY1JldjtcbiAgICAgIHJldHVybiB0cnlBbmRQdXQoZGIsIG5ld0RvYywgZGlmZkZ1bik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyeUFuZFB1dChkYiwgZG9jLCBkaWZmRnVuKSB7XG4gIHJldHVybiBkYi5wdXQoZG9jKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlZDogdHJ1ZSxcbiAgICAgIHJldjogcmVzLnJldlxuICAgIH07XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDkpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIHVwc2VydChkYiwgZG9jLl9pZCwgZGlmZkZ1bik7XG4gIH0pO1xufVxuXG52YXIgdGhpc0F0b2IgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBhdG9iKHN0cik7XG59O1xuXG52YXIgdGhpc0J0b2EgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBidG9hKHN0cik7XG59O1xuXG4vLyBBYnN0cmFjdHMgY29uc3RydWN0aW5nIGEgQmxvYiBvYmplY3QsIHNvIGl0IGFsc28gd29ya3MgaW4gb2xkZXJcbi8vIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCB0aGUgbmF0aXZlIEJsb2IgY29uc3RydWN0b3IgKGUuZy5cbi8vIG9sZCBRdFdlYktpdCB2ZXJzaW9ucywgQW5kcm9pZCA8IDQuNCkuXG5mdW5jdGlvbiBjcmVhdGVCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKSB7XG4gIC8qIGdsb2JhbCBCbG9iQnVpbGRlcixNU0Jsb2JCdWlsZGVyLE1vekJsb2JCdWlsZGVyLFdlYktpdEJsb2JCdWlsZGVyICovXG4gIHBhcnRzID0gcGFydHMgfHwgW107XG4gIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgQmxvYihwYXJ0cywgcHJvcGVydGllcyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZS5uYW1lICE9PSBcIlR5cGVFcnJvclwiKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICB2YXIgQnVpbGRlciA9IHR5cGVvZiBCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBCbG9iQnVpbGRlciA6XG4gICAgICAgICAgICAgICAgICB0eXBlb2YgTVNCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBNU0Jsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBNb3pCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBNb3pCbG9iQnVpbGRlciA6XG4gICAgICAgICAgICAgICAgICBXZWJLaXRCbG9iQnVpbGRlcjtcbiAgICB2YXIgYnVpbGRlciA9IG5ldyBCdWlsZGVyKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgYnVpbGRlci5hcHBlbmQocGFydHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYnVpbGRlci5nZXRCbG9iKHByb3BlcnRpZXMudHlwZSk7XG4gIH1cbn1cblxuLy8gRnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0OTY3NjQ3LyAoY29udGludWVzIG9uIG5leHQgbGluZSlcbi8vIGVuY29kZS1kZWNvZGUtaW1hZ2Utd2l0aC1iYXNlNjQtYnJlYWtzLWltYWdlICgyMDEzLTA0LTIxKVxuZnVuY3Rpb24gYmluYXJ5U3RyaW5nVG9BcnJheUJ1ZmZlcihiaW4pIHtcbiAgdmFyIGxlbmd0aCA9IGJpbi5sZW5ndGg7XG4gIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKTtcbiAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gYnVmO1xufVxuXG5mdW5jdGlvbiBiaW5TdHJpbmdUb0JsdWZmZXIoYmluU3RyaW5nLCB0eXBlKSB7XG4gIHJldHVybiBjcmVhdGVCbG9iKFtiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyKGJpblN0cmluZyldLCB7dHlwZTogdHlwZX0pO1xufVxuXG5mdW5jdGlvbiBiNjRUb0JsdWZmZXIoYjY0LCB0eXBlKSB7XG4gIHJldHVybiBiaW5TdHJpbmdUb0JsdWZmZXIodGhpc0F0b2IoYjY0KSwgdHlwZSk7XG59XG5cbi8vQ2FuJ3QgZmluZCBvcmlnaW5hbCBwb3N0LCBidXQgdGhpcyBpcyBjbG9zZVxuLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzY5NjUxMDcvIChjb250aW51ZXMgb24gbmV4dCBsaW5lKVxuLy9jb252ZXJ0aW5nLWJldHdlZW4tc3RyaW5ncy1hbmQtYXJyYXlidWZmZXJzXG5mdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nKGJ1ZmZlcikge1xuICB2YXIgYmluYXJ5ID0gJyc7XG4gIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gIHZhciBsZW5ndGggPSBieXRlcy5ieXRlTGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYmluYXJ5ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICB9XG4gIHJldHVybiBiaW5hcnk7XG59XG5cbi8vIHNoaW0gZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBpdFxuZnVuY3Rpb24gcmVhZEFzQmluYXJ5U3RyaW5nKGJsb2IsIGNhbGxiYWNrKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICB2YXIgaGFzQmluYXJ5U3RyaW5nID0gdHlwZW9mIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcgPT09ICdmdW5jdGlvbic7XG4gIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciByZXN1bHQgPSBlLnRhcmdldC5yZXN1bHQgfHwgJyc7XG4gICAgaWYgKGhhc0JpbmFyeVN0cmluZykge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgfVxuICAgIGNhbGxiYWNrKGFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcocmVzdWx0KSk7XG4gIH07XG4gIGlmIChoYXNCaW5hcnlTdHJpbmcpIHtcbiAgICByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGJsb2IpO1xuICB9IGVsc2Uge1xuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBibG9iVG9CaW5hcnlTdHJpbmcoYmxvYk9yQnVmZmVyLCBjYWxsYmFjaykge1xuICByZWFkQXNCaW5hcnlTdHJpbmcoYmxvYk9yQnVmZmVyLCBmdW5jdGlvbiAoYmluKSB7XG4gICAgY2FsbGJhY2soYmluKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGJsb2JUb0Jhc2U2NChibG9iT3JCdWZmZXIsIGNhbGxiYWNrKSB7XG4gIGJsb2JUb0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGZ1bmN0aW9uIChiYXNlNjQpIHtcbiAgICBjYWxsYmFjayh0aGlzQnRvYShiYXNlNjQpKTtcbiAgfSk7XG59XG5cbi8vIHNpbXBsaWZpZWQgQVBJLiB1bml2ZXJzYWwgYnJvd3NlciBzdXBwb3J0IGlzIGFzc3VtZWRcbmZ1bmN0aW9uIHJlYWRBc0FycmF5QnVmZmVyKGJsb2IsIGNhbGxiYWNrKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZS50YXJnZXQucmVzdWx0IHx8IG5ldyBBcnJheUJ1ZmZlcigwKTtcbiAgICBjYWxsYmFjayhyZXN1bHQpO1xuICB9O1xuICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG59XG5cbi8vIHRoaXMgaXMgbm90IHVzZWQgaW4gdGhlIGJyb3dzZXJcblxudmFyIHNldEltbWVkaWF0ZVNoaW0gPSBzZWxmLnNldEltbWVkaWF0ZSB8fCBzZWxmLnNldFRpbWVvdXQ7XG52YXIgTUQ1X0NIVU5LX1NJWkUgPSAzMjc2ODtcblxuZnVuY3Rpb24gcmF3VG9CYXNlNjQocmF3KSB7XG4gIHJldHVybiB0aGlzQnRvYShyYXcpO1xufVxuXG5mdW5jdGlvbiBzbGljZUJsb2IoYmxvYiwgc3RhcnQsIGVuZCkge1xuICBpZiAoYmxvYi53ZWJraXRTbGljZSkge1xuICAgIHJldHVybiBibG9iLndlYmtpdFNsaWNlKHN0YXJ0LCBlbmQpO1xuICB9XG4gIHJldHVybiBibG9iLnNsaWNlKHN0YXJ0LCBlbmQpO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRCbG9iKGJ1ZmZlciwgYmxvYiwgc3RhcnQsIGVuZCwgY2FsbGJhY2spIHtcbiAgaWYgKHN0YXJ0ID4gMCB8fCBlbmQgPCBibG9iLnNpemUpIHtcbiAgICAvLyBvbmx5IHNsaWNlIGJsb2IgaWYgd2UgcmVhbGx5IG5lZWQgdG9cbiAgICBibG9iID0gc2xpY2VCbG9iKGJsb2IsIHN0YXJ0LCBlbmQpO1xuICB9XG4gIHJlYWRBc0FycmF5QnVmZmVyKGJsb2IsIGZ1bmN0aW9uIChhcnJheUJ1ZmZlcikge1xuICAgIGJ1ZmZlci5hcHBlbmQoYXJyYXlCdWZmZXIpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRTdHJpbmcoYnVmZmVyLCBzdHJpbmcsIHN0YXJ0LCBlbmQsIGNhbGxiYWNrKSB7XG4gIGlmIChzdGFydCA+IDAgfHwgZW5kIDwgc3RyaW5nLmxlbmd0aCkge1xuICAgIC8vIG9ubHkgY3JlYXRlIGEgc3Vic3RyaW5nIGlmIHdlIHJlYWxseSBuZWVkIHRvXG4gICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgfVxuICBidWZmZXIuYXBwZW5kQmluYXJ5KHN0cmluZyk7XG4gIGNhbGxiYWNrKCk7XG59XG5cbmZ1bmN0aW9uIGJpbmFyeU1kNShkYXRhLCBjYWxsYmFjaykge1xuICB2YXIgaW5wdXRJc1N0cmluZyA9IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJztcbiAgdmFyIGxlbiA9IGlucHV0SXNTdHJpbmcgPyBkYXRhLmxlbmd0aCA6IGRhdGEuc2l6ZTtcbiAgdmFyIGNodW5rU2l6ZSA9IE1hdGgubWluKE1ENV9DSFVOS19TSVpFLCBsZW4pO1xuICB2YXIgY2h1bmtzID0gTWF0aC5jZWlsKGxlbiAvIGNodW5rU2l6ZSk7XG4gIHZhciBjdXJyZW50Q2h1bmsgPSAwO1xuICB2YXIgYnVmZmVyID0gaW5wdXRJc1N0cmluZyA/IG5ldyBNZDUoKSA6IG5ldyBNZDUuQXJyYXlCdWZmZXIoKTtcblxuICB2YXIgYXBwZW5kID0gaW5wdXRJc1N0cmluZyA/IGFwcGVuZFN0cmluZyA6IGFwcGVuZEJsb2I7XG5cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBzZXRJbW1lZGlhdGVTaGltKGxvYWROZXh0Q2h1bmspO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICB2YXIgcmF3ID0gYnVmZmVyLmVuZCh0cnVlKTtcbiAgICB2YXIgYmFzZTY0ID0gcmF3VG9CYXNlNjQocmF3KTtcbiAgICBjYWxsYmFjayhiYXNlNjQpO1xuICAgIGJ1ZmZlci5kZXN0cm95KCk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkTmV4dENodW5rKCkge1xuICAgIHZhciBzdGFydCA9IGN1cnJlbnRDaHVuayAqIGNodW5rU2l6ZTtcbiAgICB2YXIgZW5kID0gc3RhcnQgKyBjaHVua1NpemU7XG4gICAgY3VycmVudENodW5rKys7XG4gICAgaWYgKGN1cnJlbnRDaHVuayA8IGNodW5rcykge1xuICAgICAgYXBwZW5kKGJ1ZmZlciwgZGF0YSwgc3RhcnQsIGVuZCwgbmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwcGVuZChidWZmZXIsIGRhdGEsIHN0YXJ0LCBlbmQsIGRvbmUpO1xuICAgIH1cbiAgfVxuICBsb2FkTmV4dENodW5rKCk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ01kNShzdHJpbmcpIHtcbiAgcmV0dXJuIE1kNS5oYXNoKHN0cmluZyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyByZXZpc2lvbiBzdHJpbmcgdGhhdCBkb2VzIE5PVCBpbmNsdWRlIHRoZSByZXZpc2lvbiBoZWlnaHRcbiAqIEZvciBleGFtcGxlICc1NjY0OWYxYjA1MDZjNmNhOWZkYTA3NDZlYjBjYWNkZidcbiAqL1xuZnVuY3Rpb24gcmV2JCQxKGRvYywgZGV0ZXJtaW5pc3RpY19yZXZzKSB7XG4gIGlmICghZGV0ZXJtaW5pc3RpY19yZXZzKSB7XG4gICAgcmV0dXJuIHY0KCkucmVwbGFjZSgvLS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIHZhciBtdXRhdGVhYmxlRG9jID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBkb2MpO1xuICBkZWxldGUgbXV0YXRlYWJsZURvYy5fcmV2X3RyZWU7XG4gIHJldHVybiBzdHJpbmdNZDUoSlNPTi5zdHJpbmdpZnkobXV0YXRlYWJsZURvYykpO1xufVxuXG52YXIgdXVpZCA9IHY0OyAvLyBtaW1pYyBvbGQgaW1wb3J0LCBvbmx5IHY0IGlzIGV2ZXIgdXNlZCBlbHNld2hlcmVcblxuLy8gV2UgZmV0Y2ggYWxsIGxlYWZzIG9mIHRoZSByZXZpc2lvbiB0cmVlLCBhbmQgc29ydCB0aGVtIGJhc2VkIG9uIHRyZWUgbGVuZ3RoXG4vLyBhbmQgd2hldGhlciB0aGV5IHdlcmUgZGVsZXRlZCwgdW5kZWxldGVkIGRvY3VtZW50cyB3aXRoIHRoZSBsb25nZXN0IHJldmlzaW9uXG4vLyB0cmVlIChtb3N0IGVkaXRzKSB3aW5cbi8vIFRoZSBmaW5hbCBzb3J0IGFsZ29yaXRobSBpcyBzbGlnaHRseSBkb2N1bWVudGVkIGluIGEgc2lkZWJhciBoZXJlOlxuLy8gaHR0cDovL2d1aWRlLmNvdWNoZGIub3JnL2RyYWZ0L2NvbmZsaWN0cy5odG1sXG5mdW5jdGlvbiB3aW5uaW5nUmV2KG1ldGFkYXRhKSB7XG4gIHZhciB3aW5uaW5nSWQ7XG4gIHZhciB3aW5uaW5nUG9zO1xuICB2YXIgd2lubmluZ0RlbGV0ZWQ7XG4gIHZhciB0b1Zpc2l0ID0gbWV0YWRhdGEucmV2X3RyZWUuc2xpY2UoKTtcbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICBpZiAoYnJhbmNoZXMubGVuZ3RoKSB7IC8vIG5vbi1sZWFmXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbaV19KTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgZGVsZXRlZCA9ICEhdHJlZVsxXS5kZWxldGVkO1xuICAgIHZhciBpZCA9IHRyZWVbMF07XG4gICAgLy8gc29ydCBieSBkZWxldGVkLCB0aGVuIHBvcywgdGhlbiBpZFxuICAgIGlmICghd2lubmluZ0lkIHx8ICh3aW5uaW5nRGVsZXRlZCAhPT0gZGVsZXRlZCA/IHdpbm5pbmdEZWxldGVkIDpcbiAgICAgICAgd2lubmluZ1BvcyAhPT0gcG9zID8gd2lubmluZ1BvcyA8IHBvcyA6IHdpbm5pbmdJZCA8IGlkKSkge1xuICAgICAgd2lubmluZ0lkID0gaWQ7XG4gICAgICB3aW5uaW5nUG9zID0gcG9zO1xuICAgICAgd2lubmluZ0RlbGV0ZWQgPSBkZWxldGVkO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3aW5uaW5nUG9zICsgJy0nICsgd2lubmluZ0lkO1xufVxuXG4vLyBQcmV0dHkgbXVjaCBhbGwgYmVsb3cgY2FuIGJlIGNvbWJpbmVkIGludG8gYSBoaWdoZXIgb3JkZXIgZnVuY3Rpb24gdG9cbi8vIHRyYXZlcnNlIHJldmlzaW9uc1xuLy8gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBjYWxsYmFjayB3aWxsIGJlIHBhc3NlZCBhcyBjb250ZXh0IHRvIGFsbFxuLy8gY2hpbGRyZW4gb2YgdGhhdCBub2RlXG5mdW5jdGlvbiB0cmF2ZXJzZVJldlRyZWUocmV2cywgY2FsbGJhY2spIHtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG5cbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgbmV3Q3R4ID1cbiAgICAgIGNhbGxiYWNrKGJyYW5jaGVzLmxlbmd0aCA9PT0gMCwgcG9zLCB0cmVlWzBdLCBub2RlLmN0eCwgdHJlZVsxXSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXSwgY3R4OiBuZXdDdHh9KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc29ydEJ5UG9zKGEsIGIpIHtcbiAgcmV0dXJuIGEucG9zIC0gYi5wb3M7XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3RMZWF2ZXMocmV2cykge1xuICB2YXIgbGVhdmVzID0gW107XG4gIHRyYXZlcnNlUmV2VHJlZShyZXZzLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIGlkLCBhY2MsIG9wdHMpIHtcbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBsZWF2ZXMucHVzaCh7cmV2OiBwb3MgKyBcIi1cIiArIGlkLCBwb3M6IHBvcywgb3B0czogb3B0c30pO1xuICAgIH1cbiAgfSk7XG4gIGxlYXZlcy5zb3J0KHNvcnRCeVBvcykucmV2ZXJzZSgpO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGVhdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgZGVsZXRlIGxlYXZlc1tpXS5wb3M7XG4gIH1cbiAgcmV0dXJuIGxlYXZlcztcbn1cblxuLy8gcmV0dXJucyByZXZzIG9mIGFsbCBjb25mbGljdHMgdGhhdCBpcyBsZWF2ZXMgc3VjaCB0aGF0XG4vLyAxLiBhcmUgbm90IGRlbGV0ZWQgYW5kXG4vLyAyLiBhcmUgZGlmZmVyZW50IHRoYW4gd2lubmluZyByZXZpc2lvblxuZnVuY3Rpb24gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSkge1xuICB2YXIgd2luID0gd2lubmluZ1JldihtZXRhZGF0YSk7XG4gIHZhciBsZWF2ZXMgPSBjb2xsZWN0TGVhdmVzKG1ldGFkYXRhLnJldl90cmVlKTtcbiAgdmFyIGNvbmZsaWN0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGVhdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGxlYWYgPSBsZWF2ZXNbaV07XG4gICAgaWYgKGxlYWYucmV2ICE9PSB3aW4gJiYgIWxlYWYub3B0cy5kZWxldGVkKSB7XG4gICAgICBjb25mbGljdHMucHVzaChsZWFmLnJldik7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25mbGljdHM7XG59XG5cbi8vIGNvbXBhY3QgYSB0cmVlIGJ5IG1hcmtpbmcgaXRzIG5vbi1sZWFmcyBhcyBtaXNzaW5nLFxuLy8gYW5kIHJldHVybiBhIGxpc3Qgb2YgcmV2cyB0byBkZWxldGVcbmZ1bmN0aW9uIGNvbXBhY3RUcmVlKG1ldGFkYXRhKSB7XG4gIHZhciByZXZzID0gW107XG4gIHRyYXZlcnNlUmV2VHJlZShtZXRhZGF0YS5yZXZfdHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICBpZiAob3B0cy5zdGF0dXMgPT09ICdhdmFpbGFibGUnICYmICFpc0xlYWYpIHtcbiAgICAgIHJldnMucHVzaChwb3MgKyAnLScgKyByZXZIYXNoKTtcbiAgICAgIG9wdHMuc3RhdHVzID0gJ21pc3NpbmcnO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXZzO1xufVxuXG4vLyBidWlsZCB1cCBhIGxpc3Qgb2YgYWxsIHRoZSBwYXRocyB0byB0aGUgbGVhZnMgaW4gdGhpcyByZXZpc2lvbiB0cmVlXG5mdW5jdGlvbiByb290VG9MZWFmKHJldnMpIHtcbiAgdmFyIHBhdGhzID0gW107XG4gIHZhciB0b1Zpc2l0ID0gcmV2cy5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgaWQgPSB0cmVlWzBdO1xuICAgIHZhciBvcHRzID0gdHJlZVsxXTtcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBpc0xlYWYgPSBicmFuY2hlcy5sZW5ndGggPT09IDA7XG5cbiAgICB2YXIgaGlzdG9yeSA9IG5vZGUuaGlzdG9yeSA/IG5vZGUuaGlzdG9yeS5zbGljZSgpIDogW107XG4gICAgaGlzdG9yeS5wdXNoKHtpZDogaWQsIG9wdHM6IG9wdHN9KTtcbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBwYXRocy5wdXNoKHtwb3M6IChwb3MgKyAxIC0gaGlzdG9yeS5sZW5ndGgpLCBpZHM6IGhpc3Rvcnl9KTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXSwgaGlzdG9yeTogaGlzdG9yeX0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGF0aHMucmV2ZXJzZSgpO1xufVxuXG4vLyBmb3IgYSBiZXR0ZXIgb3ZlcnZpZXcgb2Ygd2hhdCB0aGlzIGlzIGRvaW5nLCByZWFkOlxuXG5mdW5jdGlvbiBzb3J0QnlQb3MkMShhLCBiKSB7XG4gIHJldHVybiBhLnBvcyAtIGIucG9zO1xufVxuXG4vLyBjbGFzc2ljIGJpbmFyeSBzZWFyY2hcbmZ1bmN0aW9uIGJpbmFyeVNlYXJjaChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGxvdyA9IDA7XG4gIHZhciBoaWdoID0gYXJyLmxlbmd0aDtcbiAgdmFyIG1pZDtcbiAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDE7XG4gICAgaWYgKGNvbXBhcmF0b3IoYXJyW21pZF0sIGl0ZW0pIDwgMCkge1xuICAgICAgbG93ID0gbWlkICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlnaCA9IG1pZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxvdztcbn1cblxuLy8gYXNzdW1pbmcgdGhlIGFyciBpcyBzb3J0ZWQsIGluc2VydCB0aGUgaXRlbSBpbiB0aGUgcHJvcGVyIHBsYWNlXG5mdW5jdGlvbiBpbnNlcnRTb3J0ZWQoYXJyLCBpdGVtLCBjb21wYXJhdG9yKSB7XG4gIHZhciBpZHggPSBiaW5hcnlTZWFyY2goYXJyLCBpdGVtLCBjb21wYXJhdG9yKTtcbiAgYXJyLnNwbGljZShpZHgsIDAsIGl0ZW0pO1xufVxuXG4vLyBUdXJuIGEgcGF0aCBhcyBhIGZsYXQgYXJyYXkgaW50byBhIHRyZWUgd2l0aCBhIHNpbmdsZSBicmFuY2guXG4vLyBJZiBhbnkgc2hvdWxkIGJlIHN0ZW1tZWQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSwgdGhhdCdzIHBhc3NlZFxuLy8gaW4gYXMgdGhlIHNlY29uZCBhcmd1bWVudFxuZnVuY3Rpb24gcGF0aFRvVHJlZShwYXRoLCBudW1TdGVtbWVkKSB7XG4gIHZhciByb290O1xuICB2YXIgbGVhZjtcbiAgZm9yICh2YXIgaSA9IG51bVN0ZW1tZWQsIGxlbiA9IHBhdGgubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbm9kZSA9IHBhdGhbaV07XG4gICAgdmFyIGN1cnJlbnRMZWFmID0gW25vZGUuaWQsIG5vZGUub3B0cywgW11dO1xuICAgIGlmIChsZWFmKSB7XG4gICAgICBsZWFmWzJdLnB1c2goY3VycmVudExlYWYpO1xuICAgICAgbGVhZiA9IGN1cnJlbnRMZWFmO1xuICAgIH0gZWxzZSB7XG4gICAgICByb290ID0gbGVhZiA9IGN1cnJlbnRMZWFmO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcm9vdDtcbn1cblxuLy8gY29tcGFyZSB0aGUgSURzIG9mIHR3byB0cmVlc1xuZnVuY3Rpb24gY29tcGFyZVRyZWUoYSwgYikge1xuICByZXR1cm4gYVswXSA8IGJbMF0gPyAtMSA6IDE7XG59XG5cbi8vIE1lcmdlIHR3byB0cmVlcyB0b2dldGhlclxuLy8gVGhlIHJvb3RzIG9mIHRyZWUxIGFuZCB0cmVlMiBtdXN0IGJlIHRoZSBzYW1lIHJldmlzaW9uXG5mdW5jdGlvbiBtZXJnZVRyZWUoaW5fdHJlZTEsIGluX3RyZWUyKSB7XG4gIHZhciBxdWV1ZSA9IFt7dHJlZTE6IGluX3RyZWUxLCB0cmVlMjogaW5fdHJlZTJ9XTtcbiAgdmFyIGNvbmZsaWN0cyA9IGZhbHNlO1xuICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgIHZhciBpdGVtID0gcXVldWUucG9wKCk7XG4gICAgdmFyIHRyZWUxID0gaXRlbS50cmVlMTtcbiAgICB2YXIgdHJlZTIgPSBpdGVtLnRyZWUyO1xuXG4gICAgaWYgKHRyZWUxWzFdLnN0YXR1cyB8fCB0cmVlMlsxXS5zdGF0dXMpIHtcbiAgICAgIHRyZWUxWzFdLnN0YXR1cyA9XG4gICAgICAgICh0cmVlMVsxXS5zdGF0dXMgPT09ICAnYXZhaWxhYmxlJyB8fFxuICAgICAgICB0cmVlMlsxXS5zdGF0dXMgPT09ICdhdmFpbGFibGUnKSA/ICdhdmFpbGFibGUnIDogJ21pc3NpbmcnO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZTJbMl0ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdHJlZTFbMl1bMF0pIHtcbiAgICAgICAgY29uZmxpY3RzID0gJ25ld19sZWFmJztcbiAgICAgICAgdHJlZTFbMl1bMF0gPSB0cmVlMlsyXVtpXTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBtZXJnZWQgPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdHJlZTFbMl0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHRyZWUxWzJdW2pdWzBdID09PSB0cmVlMlsyXVtpXVswXSkge1xuICAgICAgICAgIHF1ZXVlLnB1c2goe3RyZWUxOiB0cmVlMVsyXVtqXSwgdHJlZTI6IHRyZWUyWzJdW2ldfSk7XG4gICAgICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFtZXJnZWQpIHtcbiAgICAgICAgY29uZmxpY3RzID0gJ25ld19icmFuY2gnO1xuICAgICAgICBpbnNlcnRTb3J0ZWQodHJlZTFbMl0sIHRyZWUyWzJdW2ldLCBjb21wYXJlVHJlZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7Y29uZmxpY3RzOiBjb25mbGljdHMsIHRyZWU6IGluX3RyZWUxfTtcbn1cblxuZnVuY3Rpb24gZG9NZXJnZSh0cmVlLCBwYXRoLCBkb250RXhwYW5kKSB7XG4gIHZhciByZXN0cmVlID0gW107XG4gIHZhciBjb25mbGljdHMgPSBmYWxzZTtcbiAgdmFyIG1lcmdlZCA9IGZhbHNlO1xuICB2YXIgcmVzO1xuXG4gIGlmICghdHJlZS5sZW5ndGgpIHtcbiAgICByZXR1cm4ge3RyZWU6IFtwYXRoXSwgY29uZmxpY3RzOiAnbmV3X2xlYWYnfTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0cmVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGJyYW5jaCA9IHRyZWVbaV07XG4gICAgaWYgKGJyYW5jaC5wb3MgPT09IHBhdGgucG9zICYmIGJyYW5jaC5pZHNbMF0gPT09IHBhdGguaWRzWzBdKSB7XG4gICAgICAvLyBQYXRocyBzdGFydCBhdCB0aGUgc2FtZSBwb3NpdGlvbiBhbmQgaGF2ZSB0aGUgc2FtZSByb290LCBzbyB0aGV5IG5lZWRcbiAgICAgIC8vIG1lcmdlZFxuICAgICAgcmVzID0gbWVyZ2VUcmVlKGJyYW5jaC5pZHMsIHBhdGguaWRzKTtcbiAgICAgIHJlc3RyZWUucHVzaCh7cG9zOiBicmFuY2gucG9zLCBpZHM6IHJlcy50cmVlfSk7XG4gICAgICBjb25mbGljdHMgPSBjb25mbGljdHMgfHwgcmVzLmNvbmZsaWN0cztcbiAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChkb250RXhwYW5kICE9PSB0cnVlKSB7XG4gICAgICAvLyBUaGUgcGF0aHMgc3RhcnQgYXQgYSBkaWZmZXJlbnQgcG9zaXRpb24sIHRha2UgdGhlIGVhcmxpZXN0IHBhdGggYW5kXG4gICAgICAvLyB0cmF2ZXJzZSB1cCB1bnRpbCBpdCBhcyBhdCB0aGUgc2FtZSBwb2ludCBmcm9tIHJvb3QgYXMgdGhlIHBhdGggd2VcbiAgICAgIC8vIHdhbnQgdG8gbWVyZ2UuICBJZiB0aGUga2V5cyBtYXRjaCB3ZSByZXR1cm4gdGhlIGxvbmdlciBwYXRoIHdpdGggdGhlXG4gICAgICAvLyBvdGhlciBtZXJnZWQgQWZ0ZXIgc3RlbW1pbmcgd2UgZG9udCB3YW50IHRvIGV4cGFuZCB0aGUgdHJlZXNcblxuICAgICAgdmFyIHQxID0gYnJhbmNoLnBvcyA8IHBhdGgucG9zID8gYnJhbmNoIDogcGF0aDtcbiAgICAgIHZhciB0MiA9IGJyYW5jaC5wb3MgPCBwYXRoLnBvcyA/IHBhdGggOiBicmFuY2g7XG4gICAgICB2YXIgZGlmZiA9IHQyLnBvcyAtIHQxLnBvcztcblxuICAgICAgdmFyIGNhbmRpZGF0ZVBhcmVudHMgPSBbXTtcblxuICAgICAgdmFyIHRyZWVzID0gW107XG4gICAgICB0cmVlcy5wdXNoKHtpZHM6IHQxLmlkcywgZGlmZjogZGlmZiwgcGFyZW50OiBudWxsLCBwYXJlbnRJZHg6IG51bGx9KTtcbiAgICAgIHdoaWxlICh0cmVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBpdGVtID0gdHJlZXMucG9wKCk7XG4gICAgICAgIGlmIChpdGVtLmRpZmYgPT09IDApIHtcbiAgICAgICAgICBpZiAoaXRlbS5pZHNbMF0gPT09IHQyLmlkc1swXSkge1xuICAgICAgICAgICAgY2FuZGlkYXRlUGFyZW50cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxlbWVudHMgPSBpdGVtLmlkc1syXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGVsZW1lbnRzTGVuID0gZWxlbWVudHMubGVuZ3RoOyBqIDwgZWxlbWVudHNMZW47IGorKykge1xuICAgICAgICAgIHRyZWVzLnB1c2goe1xuICAgICAgICAgICAgaWRzOiBlbGVtZW50c1tqXSxcbiAgICAgICAgICAgIGRpZmY6IGl0ZW0uZGlmZiAtIDEsXG4gICAgICAgICAgICBwYXJlbnQ6IGl0ZW0uaWRzLFxuICAgICAgICAgICAgcGFyZW50SWR4OiBqXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGVsID0gY2FuZGlkYXRlUGFyZW50c1swXTtcblxuICAgICAgaWYgKCFlbCkge1xuICAgICAgICByZXN0cmVlLnB1c2goYnJhbmNoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcyA9IG1lcmdlVHJlZShlbC5pZHMsIHQyLmlkcyk7XG4gICAgICAgIGVsLnBhcmVudFsyXVtlbC5wYXJlbnRJZHhdID0gcmVzLnRyZWU7XG4gICAgICAgIHJlc3RyZWUucHVzaCh7cG9zOiB0MS5wb3MsIGlkczogdDEuaWRzfSk7XG4gICAgICAgIGNvbmZsaWN0cyA9IGNvbmZsaWN0cyB8fCByZXMuY29uZmxpY3RzO1xuICAgICAgICBtZXJnZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN0cmVlLnB1c2goYnJhbmNoKTtcbiAgICB9XG4gIH1cblxuICAvLyBXZSBkaWRudCBmaW5kXG4gIGlmICghbWVyZ2VkKSB7XG4gICAgcmVzdHJlZS5wdXNoKHBhdGgpO1xuICB9XG5cbiAgcmVzdHJlZS5zb3J0KHNvcnRCeVBvcyQxKTtcblxuICByZXR1cm4ge1xuICAgIHRyZWU6IHJlc3RyZWUsXG4gICAgY29uZmxpY3RzOiBjb25mbGljdHMgfHwgJ2ludGVybmFsX25vZGUnXG4gIH07XG59XG5cbi8vIFRvIGVuc3VyZSB3ZSBkb250IGdyb3cgdGhlIHJldmlzaW9uIHRyZWUgaW5maW5pdGVseSwgd2Ugc3RlbSBvbGQgcmV2aXNpb25zXG5mdW5jdGlvbiBzdGVtKHRyZWUsIGRlcHRoKSB7XG4gIC8vIEZpcnN0IHdlIGJyZWFrIG91dCB0aGUgdHJlZSBpbnRvIGEgY29tcGxldGUgbGlzdCBvZiByb290IHRvIGxlYWYgcGF0aHNcbiAgdmFyIHBhdGhzID0gcm9vdFRvTGVhZih0cmVlKTtcbiAgdmFyIHN0ZW1tZWRSZXZzO1xuXG4gIHZhciByZXN1bHQ7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIC8vIFRoZW4gZm9yIGVhY2ggcGF0aCwgd2UgY3V0IG9mZiB0aGUgc3RhcnQgb2YgdGhlIHBhdGggYmFzZWQgb24gdGhlXG4gICAgLy8gYGRlcHRoYCB0byBzdGVtIHRvLCBhbmQgZ2VuZXJhdGUgYSBuZXcgc2V0IG9mIGZsYXQgdHJlZXNcbiAgICB2YXIgcGF0aCA9IHBhdGhzW2ldO1xuICAgIHZhciBzdGVtbWVkID0gcGF0aC5pZHM7XG4gICAgdmFyIG5vZGU7XG4gICAgaWYgKHN0ZW1tZWQubGVuZ3RoID4gZGVwdGgpIHtcbiAgICAgIC8vIG9ubHkgZG8gdGhlIHN0ZW1taW5nIHdvcmsgaWYgd2UgYWN0dWFsbHkgbmVlZCB0byBzdGVtXG4gICAgICBpZiAoIXN0ZW1tZWRSZXZzKSB7XG4gICAgICAgIHN0ZW1tZWRSZXZzID0ge307IC8vIGF2b2lkIGFsbG9jYXRpbmcgdGhpcyBvYmplY3QgdW5uZWNlc3NhcmlseVxuICAgICAgfVxuICAgICAgdmFyIG51bVN0ZW1tZWQgPSBzdGVtbWVkLmxlbmd0aCAtIGRlcHRoO1xuICAgICAgbm9kZSA9IHtcbiAgICAgICAgcG9zOiBwYXRoLnBvcyArIG51bVN0ZW1tZWQsXG4gICAgICAgIGlkczogcGF0aFRvVHJlZShzdGVtbWVkLCBudW1TdGVtbWVkKVxuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBudW1TdGVtbWVkOyBzKyspIHtcbiAgICAgICAgdmFyIHJldiA9IChwYXRoLnBvcyArIHMpICsgJy0nICsgc3RlbW1lZFtzXS5pZDtcbiAgICAgICAgc3RlbW1lZFJldnNbcmV2XSA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gbm8gbmVlZCB0byBhY3R1YWxseSBzdGVtXG4gICAgICBub2RlID0ge1xuICAgICAgICBwb3M6IHBhdGgucG9zLFxuICAgICAgICBpZHM6IHBhdGhUb1RyZWUoc3RlbW1lZCwgMClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gVGhlbiB3ZSByZW1lcmdlIGFsbCB0aG9zZSBmbGF0IHRyZWVzIHRvZ2V0aGVyLCBlbnN1cmluZyB0aGF0IHdlIGRvbnRcbiAgICAvLyBjb25uZWN0IHRyZWVzIHRoYXQgd291bGQgZ28gYmV5b25kIHRoZSBkZXB0aCBsaW1pdFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHJlc3VsdCA9IGRvTWVyZ2UocmVzdWx0LCBub2RlLCB0cnVlKS50cmVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBbbm9kZV07XG4gICAgfVxuICB9XG5cbiAgLy8gdGhpcyBpcyBtZW1vcnktaGVhdnkgcGVyIENocm9tZSBwcm9maWxlciwgYXZvaWQgdW5sZXNzIHdlIGFjdHVhbGx5IHN0ZW1tZWRcbiAgaWYgKHN0ZW1tZWRSZXZzKSB7XG4gICAgdHJhdmVyc2VSZXZUcmVlKHJlc3VsdCwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoKSB7XG4gICAgICAvLyBzb21lIHJldmlzaW9ucyBtYXkgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gYSBicmFuY2ggYnV0IG5vdCBpbiBhbm90aGVyXG4gICAgICBkZWxldGUgc3RlbW1lZFJldnNbcG9zICsgJy0nICsgcmV2SGFzaF07XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRyZWU6IHJlc3VsdCxcbiAgICByZXZzOiBzdGVtbWVkUmV2cyA/IE9iamVjdC5rZXlzKHN0ZW1tZWRSZXZzKSA6IFtdXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1lcmdlKHRyZWUsIHBhdGgsIGRlcHRoKSB7XG4gIHZhciBuZXdUcmVlID0gZG9NZXJnZSh0cmVlLCBwYXRoKTtcbiAgdmFyIHN0ZW1tZWQgPSBzdGVtKG5ld1RyZWUudHJlZSwgZGVwdGgpO1xuICByZXR1cm4ge1xuICAgIHRyZWU6IHN0ZW1tZWQudHJlZSxcbiAgICBzdGVtbWVkUmV2czogc3RlbW1lZC5yZXZzLFxuICAgIGNvbmZsaWN0czogbmV3VHJlZS5jb25mbGljdHNcbiAgfTtcbn1cblxuLy8gcmV0dXJuIHRydWUgaWYgYSByZXYgZXhpc3RzIGluIHRoZSByZXYgdHJlZSwgZmFsc2Ugb3RoZXJ3aXNlXG5mdW5jdGlvbiByZXZFeGlzdHMocmV2cywgcmV2KSB7XG4gIHZhciB0b1Zpc2l0ID0gcmV2cy5zbGljZSgpO1xuICB2YXIgc3BsaXRSZXYgPSByZXYuc3BsaXQoJy0nKTtcbiAgdmFyIHRhcmdldFBvcyA9IHBhcnNlSW50KHNwbGl0UmV2WzBdLCAxMCk7XG4gIHZhciB0YXJnZXRJZCA9IHNwbGl0UmV2WzFdO1xuXG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIGlmIChub2RlLnBvcyA9PT0gdGFyZ2V0UG9zICYmIG5vZGUuaWRzWzBdID09PSB0YXJnZXRJZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBicmFuY2hlcyA9IG5vZGUuaWRzWzJdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IG5vZGUucG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXX0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFRyZWVzKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuaWRzO1xufVxuXG4vLyBjaGVjayBpZiBhIHNwZWNpZmljIHJldmlzaW9uIG9mIGEgZG9jIGhhcyBiZWVuIGRlbGV0ZWRcbi8vICAtIG1ldGFkYXRhOiB0aGUgbWV0YWRhdGEgb2JqZWN0IGZyb20gdGhlIGRvYyBzdG9yZVxuLy8gIC0gcmV2OiAob3B0aW9uYWwpIHRoZSByZXZpc2lvbiB0byBjaGVjay4gZGVmYXVsdHMgdG8gd2lubmluZyByZXZpc2lvblxuZnVuY3Rpb24gaXNEZWxldGVkKG1ldGFkYXRhLCByZXYpIHtcbiAgaWYgKCFyZXYpIHtcbiAgICByZXYgPSB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcbiAgfVxuICB2YXIgaWQgPSByZXYuc3Vic3RyaW5nKHJldi5pbmRleE9mKCctJykgKyAxKTtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5tYXAoZ2V0VHJlZXMpO1xuXG4gIHZhciB0cmVlO1xuICB3aGlsZSAoKHRyZWUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIGlmICh0cmVlWzBdID09PSBpZCkge1xuICAgICAgcmV0dXJuICEhdHJlZVsxXS5kZWxldGVkO1xuICAgIH1cbiAgICB0b1Zpc2l0ID0gdG9WaXNpdC5jb25jYXQodHJlZVsyXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNMb2NhbElkKGlkKSB7XG4gIHJldHVybiAoL15fbG9jYWwvKS50ZXN0KGlkKTtcbn1cblxuLy8gcmV0dXJucyB0aGUgY3VycmVudCBsZWFmIG5vZGUgZm9yIGEgZ2l2ZW4gcmV2aXNpb25cbmZ1bmN0aW9uIGxhdGVzdChyZXYsIG1ldGFkYXRhKSB7XG4gIHZhciB0b1Zpc2l0ID0gbWV0YWRhdGEucmV2X3RyZWUuc2xpY2UoKTtcbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGlkID0gdHJlZVswXTtcbiAgICB2YXIgb3B0cyA9IHRyZWVbMV07XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgaXNMZWFmID0gYnJhbmNoZXMubGVuZ3RoID09PSAwO1xuXG4gICAgdmFyIGhpc3RvcnkgPSBub2RlLmhpc3RvcnkgPyBub2RlLmhpc3Rvcnkuc2xpY2UoKSA6IFtdO1xuICAgIGhpc3RvcnkucHVzaCh7aWQ6IGlkLCBwb3M6IHBvcywgb3B0czogb3B0c30pO1xuXG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhpc3RvcnkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGhpc3RvcnlOb2RlID0gaGlzdG9yeVtpXTtcbiAgICAgICAgdmFyIGhpc3RvcnlSZXYgPSBoaXN0b3J5Tm9kZS5wb3MgKyAnLScgKyBoaXN0b3J5Tm9kZS5pZDtcblxuICAgICAgICBpZiAoaGlzdG9yeVJldiA9PT0gcmV2KSB7XG4gICAgICAgICAgLy8gcmV0dXJuIHRoZSByZXYgb2YgdGhpcyBsZWFmXG4gICAgICAgICAgcmV0dXJuIHBvcyArICctJyArIGlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaiA9IDAsIGwgPSBicmFuY2hlcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2pdLCBoaXN0b3J5OiBoaXN0b3J5fSk7XG4gICAgfVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVzb2x2ZSBsYXRlc3QgcmV2aXNpb24gZm9yIGlkICcgKyBtZXRhZGF0YS5pZCArICcsIHJldiAnICsgcmV2KTtcbn1cblxuaW5oZXJpdHMoQ2hhbmdlcyQxLCBFRSk7XG5cbmZ1bmN0aW9uIHRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lcihzZWxmLCBjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpIHtcbiAgLy8gaXNvbGF0ZSB0cnkvY2F0Y2hlcyB0byBhdm9pZCBWOCBkZW9wdGltaXphdGlvbnNcbiAgdHJ5IHtcbiAgICBzZWxmLmVtaXQoJ2NoYW5nZScsIGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCAnRXJyb3IgaW4gLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKTonLCBlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBDaGFuZ2VzJDEoZGIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIEVFLmNhbGwodGhpcyk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5kYiA9IGRiO1xuICBvcHRzID0gb3B0cyA/IGNsb25lKG9wdHMpIDoge307XG4gIHZhciBjb21wbGV0ZSA9IG9wdHMuY29tcGxldGUgPSBvbmNlKGZ1bmN0aW9uIChlcnIsIHJlc3ApIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBpZiAobGlzdGVuZXJDb3VudChzZWxmLCAnZXJyb3InKSA+IDApIHtcbiAgICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuZW1pdCgnY29tcGxldGUnLCByZXNwKTtcbiAgICB9XG4gICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBkYi5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgfSk7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIHNlbGYub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3ApO1xuICAgIH0pO1xuICAgIHNlbGYub24oJ2Vycm9yJywgY2FsbGJhY2spO1xuICB9XG4gIGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcbiAgICBzZWxmLmNhbmNlbCgpO1xuICB9XG4gIGRiLm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG5cbiAgb3B0cy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5pc0NhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnlDYXRjaEluQ2hhbmdlTGlzdGVuZXIoc2VsZiwgY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKTtcbiAgfTtcblxuICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICBvcHRzLmNvbXBsZXRlID0gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChyZXMpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBzZWxmLm9uY2UoJ2NhbmNlbCcsIGZ1bmN0aW9uICgpIHtcbiAgICBkYi5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gIH0pO1xuICB0aGlzLnRoZW4gPSBwcm9taXNlLnRoZW4uYmluZChwcm9taXNlKTtcbiAgdGhpc1snY2F0Y2gnXSA9IHByb21pc2VbJ2NhdGNoJ10uYmluZChwcm9taXNlKTtcbiAgdGhpcy50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBjb21wbGV0ZShudWxsLCByZXN1bHQpO1xuICB9LCBjb21wbGV0ZSk7XG5cblxuXG4gIGlmICghZGIudGFza3F1ZXVlLmlzUmVhZHkpIHtcbiAgICBkYi50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbiAoZmFpbGVkKSB7XG4gICAgICBpZiAoZmFpbGVkKSB7XG4gICAgICAgIG9wdHMuY29tcGxldGUoZmFpbGVkKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5pc0NhbmNlbGxlZCkge1xuICAgICAgICBzZWxmLmVtaXQoJ2NhbmNlbCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi52YWxpZGF0ZUNoYW5nZXMob3B0cyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi52YWxpZGF0ZUNoYW5nZXMob3B0cyk7XG4gIH1cbn1cbkNoYW5nZXMkMS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmlzQ2FuY2VsbGVkID0gdHJ1ZTtcbiAgaWYgKHRoaXMuZGIudGFza3F1ZXVlLmlzUmVhZHkpIHtcbiAgICB0aGlzLmVtaXQoJ2NhbmNlbCcpO1xuICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NoYW5nZShkb2MsIG1ldGFkYXRhLCBvcHRzKSB7XG4gIHZhciBjaGFuZ2VMaXN0ID0gW3tyZXY6IGRvYy5fcmV2fV07XG4gIGlmIChvcHRzLnN0eWxlID09PSAnYWxsX2RvY3MnKSB7XG4gICAgY2hhbmdlTGlzdCA9IGNvbGxlY3RMZWF2ZXMobWV0YWRhdGEucmV2X3RyZWUpXG4gICAgLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4ge3JldjogeC5yZXZ9OyB9KTtcbiAgfVxuICB2YXIgY2hhbmdlID0ge1xuICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICBjaGFuZ2VzOiBjaGFuZ2VMaXN0LFxuICAgIGRvYzogZG9jXG4gIH07XG5cbiAgaWYgKGlzRGVsZXRlZChtZXRhZGF0YSwgZG9jLl9yZXYpKSB7XG4gICAgY2hhbmdlLmRlbGV0ZWQgPSB0cnVlO1xuICB9XG4gIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgIGNoYW5nZS5kb2MuX2NvbmZsaWN0cyA9IGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpO1xuICAgIGlmICghY2hhbmdlLmRvYy5fY29uZmxpY3RzLmxlbmd0aCkge1xuICAgICAgZGVsZXRlIGNoYW5nZS5kb2MuX2NvbmZsaWN0cztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoYW5nZTtcbn1cblxuQ2hhbmdlcyQxLnByb3RvdHlwZS52YWxpZGF0ZUNoYW5nZXMgPSBmdW5jdGlvbiAob3B0cykge1xuICB2YXIgY2FsbGJhY2sgPSBvcHRzLmNvbXBsZXRlO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4pIHtcbiAgICBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLnZhbGlkYXRlKG9wdHMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBzZWxmLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLmRvQ2hhbmdlcyhvcHRzKTtcbiAgfVxufTtcblxuQ2hhbmdlcyQxLnByb3RvdHlwZS5kb0NoYW5nZXMgPSBmdW5jdGlvbiAob3B0cykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBjYWxsYmFjayA9IG9wdHMuY29tcGxldGU7XG5cbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuICBpZiAoJ2xpdmUnIGluIG9wdHMgJiYgISgnY29udGludW91cycgaW4gb3B0cykpIHtcbiAgICBvcHRzLmNvbnRpbnVvdXMgPSBvcHRzLmxpdmU7XG4gIH1cbiAgb3B0cy5wcm9jZXNzQ2hhbmdlID0gcHJvY2Vzc0NoYW5nZTtcblxuICBpZiAob3B0cy5zaW5jZSA9PT0gJ2xhdGVzdCcpIHtcbiAgICBvcHRzLnNpbmNlID0gJ25vdyc7XG4gIH1cbiAgaWYgKCFvcHRzLnNpbmNlKSB7XG4gICAgb3B0cy5zaW5jZSA9IDA7XG4gIH1cbiAgaWYgKG9wdHMuc2luY2UgPT09ICdub3cnKSB7XG4gICAgdGhpcy5kYi5pbmZvKCkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoc2VsZi5pc0NhbmNlbGxlZCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcHRzLnNpbmNlID0gaW5mby51cGRhdGVfc2VxO1xuICAgICAgc2VsZi5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSwgY2FsbGJhY2spO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luKSB7XG4gICAgUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi5ub3JtYWxpemUob3B0cyk7XG4gICAgaWYgKFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4uc2hvdWxkRmlsdGVyKHRoaXMsIG9wdHMpKSB7XG4gICAgICByZXR1cm4gUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi5maWx0ZXIodGhpcywgb3B0cyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFsnZG9jX2lkcycsICdmaWx0ZXInLCAnc2VsZWN0b3InLCAndmlldyddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKGtleSBpbiBvcHRzKSB7XG4gICAgICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJyxcbiAgICAgICAgICAnVGhlIFwiJyArIGtleSArICdcIiBvcHRpb24gd2FzIHBhc3NlZCBpbiB0byBjaGFuZ2VzL3JlcGxpY2F0ZSwgJyArXG4gICAgICAgICAgJ2J1dCBwb3VjaGRiLWNoYW5nZXMtZmlsdGVyIHBsdWdpbiBpcyBub3QgaW5zdGFsbGVkLCBzbyBpdCAnICtcbiAgICAgICAgICAnd2FzIGlnbm9yZWQuIFBsZWFzZSBpbnN0YWxsIHRoZSBwbHVnaW4gdG8gZW5hYmxlIGZpbHRlcmluZy4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoISgnZGVzY2VuZGluZycgaW4gb3B0cykpIHtcbiAgICBvcHRzLmRlc2NlbmRpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIDAgYW5kIDEgc2hvdWxkIHJldHVybiAxIGRvY3VtZW50XG4gIG9wdHMubGltaXQgPSBvcHRzLmxpbWl0ID09PSAwID8gMSA6IG9wdHMubGltaXQ7XG4gIG9wdHMuY29tcGxldGUgPSBjYWxsYmFjaztcbiAgdmFyIG5ld1Byb21pc2UgPSB0aGlzLmRiLl9jaGFuZ2VzKG9wdHMpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAobmV3UHJvbWlzZSAmJiB0eXBlb2YgbmV3UHJvbWlzZS5jYW5jZWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgY2FuY2VsID0gc2VsZi5jYW5jZWw7XG4gICAgc2VsZi5jYW5jZWwgPSBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgIG5ld1Byb21pc2UuY2FuY2VsKCk7XG4gICAgICBjYW5jZWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qXG4gKiBBIGdlbmVyaWMgcG91Y2ggYWRhcHRlclxuICovXG5cbmZ1bmN0aW9uIGNvbXBhcmUobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIGxlZnQgPCByaWdodCA/IC0xIDogbGVmdCA+IHJpZ2h0ID8gMSA6IDA7XG59XG5cbi8vIFdyYXBwZXIgZm9yIGZ1bmN0aW9ucyB0aGF0IGNhbGwgdGhlIGJ1bGtkb2NzIGFwaSB3aXRoIGEgc2luZ2xlIGRvYyxcbi8vIGlmIHRoZSBmaXJzdCByZXN1bHQgaXMgYW4gZXJyb3IsIHJldHVybiBhbiBlcnJvclxuZnVuY3Rpb24geWFua0Vycm9yKGNhbGxiYWNrLCBkb2NJZCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgIGlmIChlcnIgfHwgKHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5lcnJvcikpIHtcbiAgICAgIGVyciA9IGVyciB8fCByZXN1bHRzWzBdO1xuICAgICAgZXJyLmRvY0lkID0gZG9jSWQ7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzLmxlbmd0aCA/IHJlc3VsdHNbMF0gIDogcmVzdWx0cyk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBjbGVhbiBkb2NzIGdpdmVuIHRvIHVzIGJ5IHRoZSB1c2VyXG5mdW5jdGlvbiBjbGVhbkRvY3MoZG9jcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZG9jID0gZG9jc1tpXTtcbiAgICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgICBkZWxldGUgZG9jLl9hdHRhY2htZW50czsgLy8gaWdub3JlIGF0dHMgZm9yIGRlbGV0ZWQgZG9jc1xuICAgIH0gZWxzZSBpZiAoZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgLy8gZmlsdGVyIG91dCBleHRyYW5lb3VzIGtleXMgZnJvbSBfYXR0YWNobWVudHNcbiAgICAgIHZhciBhdHRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGF0dHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbal07XG4gICAgICAgIGRvYy5fYXR0YWNobWVudHNbYXR0XSA9IHBpY2soZG9jLl9hdHRhY2htZW50c1thdHRdLFxuICAgICAgICAgIFsnZGF0YScsICdkaWdlc3QnLCAnY29udGVudF90eXBlJywgJ2xlbmd0aCcsICdyZXZwb3MnLCAnc3R1YiddKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gY29tcGFyZSB0d28gZG9jcywgZmlyc3QgYnkgX2lkIHRoZW4gYnkgX3JldlxuZnVuY3Rpb24gY29tcGFyZUJ5SWRUaGVuUmV2KGEsIGIpIHtcbiAgdmFyIGlkQ29tcGFyZSA9IGNvbXBhcmUoYS5faWQsIGIuX2lkKTtcbiAgaWYgKGlkQ29tcGFyZSAhPT0gMCkge1xuICAgIHJldHVybiBpZENvbXBhcmU7XG4gIH1cbiAgdmFyIGFTdGFydCA9IGEuX3JldmlzaW9ucyA/IGEuX3JldmlzaW9ucy5zdGFydCA6IDA7XG4gIHZhciBiU3RhcnQgPSBiLl9yZXZpc2lvbnMgPyBiLl9yZXZpc2lvbnMuc3RhcnQgOiAwO1xuICByZXR1cm4gY29tcGFyZShhU3RhcnQsIGJTdGFydCk7XG59XG5cbi8vIGZvciBldmVyeSBub2RlIGluIGEgcmV2aXNpb24gdHJlZSBjb21wdXRlcyBpdHMgZGlzdGFuY2UgZnJvbSB0aGUgY2xvc2VzdFxuLy8gbGVhZlxuZnVuY3Rpb24gY29tcHV0ZUhlaWdodChyZXZzKSB7XG4gIHZhciBoZWlnaHQgPSB7fTtcbiAgdmFyIGVkZ2VzID0gW107XG4gIHRyYXZlcnNlUmV2VHJlZShyZXZzLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIGlkLCBwcm50KSB7XG4gICAgdmFyIHJldiA9IHBvcyArIFwiLVwiICsgaWQ7XG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgaGVpZ2h0W3Jldl0gPSAwO1xuICAgIH1cbiAgICBpZiAocHJudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBlZGdlcy5wdXNoKHtmcm9tOiBwcm50LCB0bzogcmV2fSk7XG4gICAgfVxuICAgIHJldHVybiByZXY7XG4gIH0pO1xuXG4gIGVkZ2VzLnJldmVyc2UoKTtcbiAgZWRnZXMuZm9yRWFjaChmdW5jdGlvbiAoZWRnZSkge1xuICAgIGlmIChoZWlnaHRbZWRnZS5mcm9tXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBoZWlnaHRbZWRnZS5mcm9tXSA9IDEgKyBoZWlnaHRbZWRnZS50b107XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodFtlZGdlLmZyb21dID0gTWF0aC5taW4oaGVpZ2h0W2VkZ2UuZnJvbV0sIDEgKyBoZWlnaHRbZWRnZS50b10pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBoZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIGFsbERvY3NLZXlzUGFyc2Uob3B0cykge1xuICB2YXIga2V5cyA9ICAoJ2xpbWl0JyBpbiBvcHRzKSA/XG4gICAgb3B0cy5rZXlzLnNsaWNlKG9wdHMuc2tpcCwgb3B0cy5saW1pdCArIG9wdHMuc2tpcCkgOlxuICAgIChvcHRzLnNraXAgPiAwKSA/IG9wdHMua2V5cy5zbGljZShvcHRzLnNraXApIDogb3B0cy5rZXlzO1xuICBvcHRzLmtleXMgPSBrZXlzO1xuICBvcHRzLnNraXAgPSAwO1xuICBkZWxldGUgb3B0cy5saW1pdDtcbiAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgIGtleXMucmV2ZXJzZSgpO1xuICAgIG9wdHMuZGVzY2VuZGluZyA9IGZhbHNlO1xuICB9XG59XG5cbi8vIGFsbCBjb21wYWN0aW9uIGlzIGRvbmUgaW4gYSBxdWV1ZSwgdG8gYXZvaWQgYXR0YWNoaW5nXG4vLyB0b28gbWFueSBsaXN0ZW5lcnMgYXQgb25jZVxuZnVuY3Rpb24gZG9OZXh0Q29tcGFjdGlvbihzZWxmKSB7XG4gIHZhciB0YXNrID0gc2VsZi5fY29tcGFjdGlvblF1ZXVlWzBdO1xuICB2YXIgb3B0cyA9IHRhc2sub3B0cztcbiAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgc2VsZi5nZXQoJ19sb2NhbC9jb21wYWN0aW9uJykuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKGRvYyAmJiBkb2MubGFzdF9zZXEpIHtcbiAgICAgIG9wdHMubGFzdF9zZXEgPSBkb2MubGFzdF9zZXE7XG4gICAgfVxuICAgIHNlbGYuX2NvbXBhY3Qob3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgICB9XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLl9jb21wYWN0aW9uUXVldWUuc2hpZnQoKTtcbiAgICAgICAgaWYgKHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICBkb05leHRDb21wYWN0aW9uKHNlbGYpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGF0dGFjaG1lbnROYW1lRXJyb3IobmFtZSkge1xuICBpZiAobmFtZS5jaGFyQXQoMCkgPT09ICdfJykge1xuICAgIHJldHVybiBuYW1lICsgJyBpcyBub3QgYSB2YWxpZCBhdHRhY2htZW50IG5hbWUsIGF0dGFjaG1lbnQgJyArXG4gICAgICAnbmFtZXMgY2Fubm90IHN0YXJ0IHdpdGggXFwnX1xcJyc7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5pbmhlcml0cyhBYnN0cmFjdFBvdWNoREIsIEVFKTtcblxuZnVuY3Rpb24gQWJzdHJhY3RQb3VjaERCKCkge1xuICBFRS5jYWxsKHRoaXMpO1xuXG4gIC8vIHJlLWJpbmQgcHJvdG90eXBlZCBtZXRob2RzXG4gIGZvciAodmFyIHAgaW4gQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZSkge1xuICAgIGlmICh0eXBlb2YgdGhpc1twXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpc1twXSA9IHRoaXNbcF0uYmluZCh0aGlzKTtcbiAgICB9XG4gIH1cbn1cblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5wb3N0ID1cbiAgYWRhcHRlckZ1bigncG9zdCcsIGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBkb2MgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoZG9jKSkge1xuICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihOT1RfQU5fT0JKRUNUKSk7XG4gIH1cbiAgdGhpcy5idWxrRG9jcyh7ZG9jczogW2RvY119LCBvcHRzLCB5YW5rRXJyb3IoY2FsbGJhY2ssIGRvYy5faWQpKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnB1dCA9IGFkYXB0ZXJGdW4oJ3B1dCcsIGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNiKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBkb2MgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoZG9jKSkge1xuICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihOT1RfQU5fT0JKRUNUKSk7XG4gIH1cbiAgaW52YWxpZElkRXJyb3IoZG9jLl9pZCk7XG4gIGlmIChpc0xvY2FsSWQoZG9jLl9pZCkgJiYgdHlwZW9mIHRoaXMuX3B1dExvY2FsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGRvYy5fZGVsZXRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbW92ZUxvY2FsKGRvYywgY2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHV0TG9jYWwoZG9jLCBjYik7XG4gICAgfVxuICB9XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKG9wdHMuZm9yY2UgJiYgZG9jLl9yZXYpIHtcbiAgICB0cmFuc2Zvcm1Gb3JjZU9wdGlvblRvTmV3RWRpdHNPcHRpb24oKTtcbiAgICBwdXREb2MoZnVuY3Rpb24gKGVycikge1xuICAgICAgdmFyIHJlc3VsdCA9IGVyciA/IG51bGwgOiB7b2s6IHRydWUsIGlkOiBkb2MuX2lkLCByZXY6IGRvYy5fcmV2fTtcbiAgICAgIGNiKGVyciwgcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBwdXREb2MoY2IpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNmb3JtRm9yY2VPcHRpb25Ub05ld0VkaXRzT3B0aW9uKCkge1xuICAgIHZhciBwYXJ0cyA9IGRvYy5fcmV2LnNwbGl0KCctJyk7XG4gICAgdmFyIG9sZFJldklkID0gcGFydHNbMV07XG4gICAgdmFyIG9sZFJldk51bSA9IHBhcnNlSW50KHBhcnRzWzBdLCAxMCk7XG5cbiAgICB2YXIgbmV3UmV2TnVtID0gb2xkUmV2TnVtICsgMTtcbiAgICB2YXIgbmV3UmV2SWQgPSByZXYkJDEoKTtcblxuICAgIGRvYy5fcmV2aXNpb25zID0ge1xuICAgICAgc3RhcnQ6IG5ld1Jldk51bSxcbiAgICAgIGlkczogW25ld1JldklkLCBvbGRSZXZJZF1cbiAgICB9O1xuICAgIGRvYy5fcmV2ID0gbmV3UmV2TnVtICsgJy0nICsgbmV3UmV2SWQ7XG4gICAgb3B0cy5uZXdfZWRpdHMgPSBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBwdXREb2MobmV4dCkge1xuICAgIGlmICh0eXBlb2Ygc2VsZi5fcHV0ID09PSAnZnVuY3Rpb24nICYmIG9wdHMubmV3X2VkaXRzICE9PSBmYWxzZSkge1xuICAgICAgc2VsZi5fcHV0KGRvYywgb3B0cywgbmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuYnVsa0RvY3Moe2RvY3M6IFtkb2NdfSwgb3B0cywgeWFua0Vycm9yKG5leHQsIGRvYy5faWQpKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnB1dEF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdwdXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9iLCB0eXBlKSB7XG4gIHZhciBhcGkgPSB0aGlzO1xuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB0eXBlID0gYmxvYjtcbiAgICBibG9iID0gcmV2O1xuICAgIHJldiA9IG51bGw7XG4gIH1cbiAgLy8gTGV0cyBmaXggaW4gaHR0cHM6Ly9naXRodWIuY29tL3BvdWNoZGIvcG91Y2hkYi9pc3N1ZXMvMzI2N1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgIHR5cGUgPSBibG9iO1xuICAgIGJsb2IgPSByZXY7XG4gICAgcmV2ID0gbnVsbDtcbiAgfVxuICBpZiAoIXR5cGUpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnd2FybicsICdBdHRhY2htZW50JywgYXR0YWNobWVudElkLCAnb24gZG9jdW1lbnQnLCBkb2NJZCwgJ2lzIG1pc3NpbmcgY29udGVudF90eXBlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBdHRhY2htZW50KGRvYykge1xuICAgIHZhciBwcmV2cmV2cG9zID0gJ19yZXYnIGluIGRvYyA/IHBhcnNlSW50KGRvYy5fcmV2LCAxMCkgOiAwO1xuICAgIGRvYy5fYXR0YWNobWVudHMgPSBkb2MuX2F0dGFjaG1lbnRzIHx8IHt9O1xuICAgIGRvYy5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXSA9IHtcbiAgICAgIGNvbnRlbnRfdHlwZTogdHlwZSxcbiAgICAgIGRhdGE6IGJsb2IsXG4gICAgICByZXZwb3M6ICsrcHJldnJldnBvc1xuICAgIH07XG4gICAgcmV0dXJuIGFwaS5wdXQoZG9jKTtcbiAgfVxuXG4gIHJldHVybiBhcGkuZ2V0KGRvY0lkKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoZG9jLl9yZXYgIT09IHJldikge1xuICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQXR0YWNobWVudChkb2MpO1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgIC8vIGNyZWF0ZSBuZXcgZG9jXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoZXJyLnJlYXNvbiA9PT0gTUlTU0lOR19ET0MubWVzc2FnZSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUF0dGFjaG1lbnQoe19pZDogZG9jSWR9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZW1vdmVBdHRhY2htZW50ID1cbiAgYWRhcHRlckZ1bigncmVtb3ZlQXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLCByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzZWxmLmdldChkb2NJZCwgZnVuY3Rpb24gKGVyciwgb2JqKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9iai5fcmV2ICE9PSByZXYpIHtcbiAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIW9iai5fYXR0YWNobWVudHMpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBkZWxldGUgb2JqLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdO1xuICAgIGlmIChPYmplY3Qua2V5cyhvYmouX2F0dGFjaG1lbnRzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGRlbGV0ZSBvYmouX2F0dGFjaG1lbnRzO1xuICAgIH1cbiAgICBzZWxmLnB1dChvYmosIGNhbGxiYWNrKTtcbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZW1vdmUgPVxuICBhZGFwdGVyRnVuKCdyZW1vdmUnLCBmdW5jdGlvbiAoZG9jT3JJZCwgb3B0c09yUmV2LCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgZG9jO1xuICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBpZCwgcmV2LCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgIGRvYyA9IHtcbiAgICAgIF9pZDogZG9jT3JJZCxcbiAgICAgIF9yZXY6IG9wdHNPclJldlxuICAgIH07XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGRvYywgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICBkb2MgPSBkb2NPcklkO1xuICAgIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHNPclJldjtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IG9wdHNPclJldjtcbiAgICB9XG4gIH1cbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIG9wdHMud2FzX2RlbGV0ZSA9IHRydWU7XG4gIHZhciBuZXdEb2MgPSB7X2lkOiBkb2MuX2lkLCBfcmV2OiAoZG9jLl9yZXYgfHwgb3B0cy5yZXYpfTtcbiAgbmV3RG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgaWYgKGlzTG9jYWxJZChuZXdEb2MuX2lkKSAmJiB0eXBlb2YgdGhpcy5fcmVtb3ZlTG9jYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTG9jYWwoZG9jLCBjYWxsYmFjayk7XG4gIH1cbiAgdGhpcy5idWxrRG9jcyh7ZG9jczogW25ld0RvY119LCBvcHRzLCB5YW5rRXJyb3IoY2FsbGJhY2ssIG5ld0RvYy5faWQpKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJldnNEaWZmID1cbiAgYWRhcHRlckZ1bigncmV2c0RpZmYnLCBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIHZhciBpZHMgPSBPYmplY3Qua2V5cyhyZXEpO1xuXG4gIGlmICghaWRzLmxlbmd0aCkge1xuICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7fSk7XG4gIH1cblxuICB2YXIgY291bnQgPSAwO1xuICB2YXIgbWlzc2luZyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIGZ1bmN0aW9uIGFkZFRvTWlzc2luZyhpZCwgcmV2SWQpIHtcbiAgICBpZiAoIW1pc3NpbmcuaGFzKGlkKSkge1xuICAgICAgbWlzc2luZy5zZXQoaWQsIHttaXNzaW5nOiBbXX0pO1xuICAgIH1cbiAgICBtaXNzaW5nLmdldChpZCkubWlzc2luZy5wdXNoKHJldklkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NEb2MoaWQsIHJldl90cmVlKSB7XG4gICAgLy8gSXMgdGhpcyBmYXN0IGVub3VnaD8gTWF5YmUgd2Ugc2hvdWxkIHN3aXRjaCB0byBhIHNldCBzaW11bGF0ZWQgYnkgYSBtYXBcbiAgICB2YXIgbWlzc2luZ0ZvcklkID0gcmVxW2lkXS5zbGljZSgwKTtcbiAgICB0cmF2ZXJzZVJldlRyZWUocmV2X3RyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgcmV2SGFzaCwgY3R4LFxuICAgICAgb3B0cykge1xuICAgICAgICB2YXIgcmV2ID0gcG9zICsgJy0nICsgcmV2SGFzaDtcbiAgICAgICAgdmFyIGlkeCA9IG1pc3NpbmdGb3JJZC5pbmRleE9mKHJldik7XG4gICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbWlzc2luZ0ZvcklkLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKG9wdHMuc3RhdHVzICE9PSAnYXZhaWxhYmxlJykge1xuICAgICAgICAgIGFkZFRvTWlzc2luZyhpZCwgcmV2KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAvLyBUcmF2ZXJzaW5nIHRoZSB0cmVlIGlzIHN5bmNocm9ub3VzLCBzbyBub3cgYG1pc3NpbmdGb3JJZGAgY29udGFpbnNcbiAgICAvLyByZXZpc2lvbnMgdGhhdCB3ZXJlIG5vdCBmb3VuZCBpbiB0aGUgdHJlZVxuICAgIG1pc3NpbmdGb3JJZC5mb3JFYWNoKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgIGFkZFRvTWlzc2luZyhpZCwgcmV2KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlkcy5tYXAoZnVuY3Rpb24gKGlkKSB7XG4gICAgdGhpcy5fZ2V0UmV2aXNpb25UcmVlKGlkLCBmdW5jdGlvbiAoZXJyLCByZXZfdHJlZSkge1xuICAgICAgaWYgKGVyciAmJiBlcnIuc3RhdHVzID09PSA0MDQgJiYgZXJyLm1lc3NhZ2UgPT09ICdtaXNzaW5nJykge1xuICAgICAgICBtaXNzaW5nLnNldChpZCwge21pc3Npbmc6IHJlcVtpZF19KTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzc0RvYyhpZCwgcmV2X3RyZWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoKytjb3VudCA9PT0gaWRzLmxlbmd0aCkge1xuICAgICAgICAvLyBjb252ZXJ0IExhenlNYXAgdG8gb2JqZWN0XG4gICAgICAgIHZhciBtaXNzaW5nT2JqID0ge307XG4gICAgICAgIG1pc3NpbmcuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgIG1pc3NpbmdPYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG1pc3NpbmdPYmopO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCB0aGlzKTtcbn0pO1xuXG4vLyBfYnVsa19nZXQgQVBJIGZvciBmYXN0ZXIgcmVwbGljYXRpb24sIGFzIGRlc2NyaWJlZCBpblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9jb3VjaGRiLWNodHRwZC9wdWxsLzMzXG4vLyBBdCB0aGUgXCJhYnN0cmFjdFwiIGxldmVsLCBpdCB3aWxsIGp1c3QgcnVuIG11bHRpcGxlIGdldCgpcyBpblxuLy8gcGFyYWxsZWwsIGJlY2F1c2UgdGhpcyBpc24ndCBtdWNoIG9mIGEgcGVyZm9ybWFuY2UgY29zdFxuLy8gZm9yIGxvY2FsIGRhdGFiYXNlcyAoZXhjZXB0IHRoZSBjb3N0IG9mIG11bHRpcGxlIHRyYW5zYWN0aW9ucywgd2hpY2ggaXNcbi8vIHNtYWxsKS4gVGhlIGh0dHAgYWRhcHRlciBvdmVycmlkZXMgdGhpcyBpbiBvcmRlclxuLy8gdG8gZG8gYSBtb3JlIGVmZmljaWVudCBzaW5nbGUgSFRUUCByZXF1ZXN0LlxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5idWxrR2V0ID1cbiAgYWRhcHRlckZ1bignYnVsa0dldCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBidWxrR2V0KHRoaXMsIG9wdHMsIGNhbGxiYWNrKTtcbn0pO1xuXG4vLyBjb21wYWN0IG9uZSBkb2N1bWVudCBhbmQgZmlyZSBjYWxsYmFja1xuLy8gYnkgY29tcGFjdGluZyB3ZSBtZWFuIHJlbW92aW5nIGFsbCByZXZpc2lvbnMgd2hpY2hcbi8vIGFyZSBmdXJ0aGVyIGZyb20gdGhlIGxlYWYgaW4gcmV2aXNpb24gdHJlZSB0aGFuIG1heF9oZWlnaHRcbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY29tcGFjdERvY3VtZW50ID1cbiAgYWRhcHRlckZ1bignY29tcGFjdERvY3VtZW50JywgZnVuY3Rpb24gKGRvY0lkLCBtYXhIZWlnaHQsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5fZ2V0UmV2aXNpb25UcmVlKGRvY0lkLCBmdW5jdGlvbiAoZXJyLCByZXZUcmVlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIHZhciBoZWlnaHQgPSBjb21wdXRlSGVpZ2h0KHJldlRyZWUpO1xuICAgIHZhciBjYW5kaWRhdGVzID0gW107XG4gICAgdmFyIHJldnMgPSBbXTtcbiAgICBPYmplY3Qua2V5cyhoZWlnaHQpLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgICAgaWYgKGhlaWdodFtyZXZdID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaChyZXYpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHJhdmVyc2VSZXZUcmVlKHJldlRyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgcmV2SGFzaCwgY3R4LCBvcHRzKSB7XG4gICAgICB2YXIgcmV2ID0gcG9zICsgJy0nICsgcmV2SGFzaDtcbiAgICAgIGlmIChvcHRzLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgJiYgY2FuZGlkYXRlcy5pbmRleE9mKHJldikgIT09IC0xKSB7XG4gICAgICAgIHJldnMucHVzaChyZXYpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNlbGYuX2RvQ29tcGFjdGlvbihkb2NJZCwgcmV2cywgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG4vLyBjb21wYWN0IHRoZSB3aG9sZSBkYXRhYmFzZSB1c2luZyBzaW5nbGUgZG9jdW1lbnRcbi8vIGNvbXBhY3Rpb25cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY29tcGFjdCA9XG4gIGFkYXB0ZXJGdW4oJ2NvbXBhY3QnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgc2VsZi5fY29tcGFjdGlvblF1ZXVlID0gc2VsZi5fY29tcGFjdGlvblF1ZXVlIHx8IFtdO1xuICBzZWxmLl9jb21wYWN0aW9uUXVldWUucHVzaCh7b3B0czogb3B0cywgY2FsbGJhY2s6IGNhbGxiYWNrfSk7XG4gIGlmIChzZWxmLl9jb21wYWN0aW9uUXVldWUubGVuZ3RoID09PSAxKSB7XG4gICAgZG9OZXh0Q29tcGFjdGlvbihzZWxmKTtcbiAgfVxufSk7XG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLl9jb21wYWN0ID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGNoYW5nZXNPcHRzID0ge1xuICAgIHJldHVybl9kb2NzOiBmYWxzZSxcbiAgICBsYXN0X3NlcTogb3B0cy5sYXN0X3NlcSB8fCAwXG4gIH07XG4gIHZhciBwcm9taXNlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKHJvdykge1xuICAgIHByb21pc2VzLnB1c2goc2VsZi5jb21wYWN0RG9jdW1lbnQocm93LmlkLCAwKSk7XG4gIH1cbiAgZnVuY3Rpb24gb25Db21wbGV0ZShyZXNwKSB7XG4gICAgdmFyIGxhc3RTZXEgPSByZXNwLmxhc3Rfc2VxO1xuICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1cHNlcnQoc2VsZiwgJ19sb2NhbC9jb21wYWN0aW9uJywgZnVuY3Rpb24gZGVsdGFGdW5jKGRvYykge1xuICAgICAgICBpZiAoIWRvYy5sYXN0X3NlcSB8fCBkb2MubGFzdF9zZXEgPCBsYXN0U2VxKSB7XG4gICAgICAgICAgZG9jLmxhc3Rfc2VxID0gbGFzdFNlcTtcbiAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gc29tZWJvZHkgZWxzZSBnb3QgaGVyZSBmaXJzdCwgZG9uJ3QgdXBkYXRlXG4gICAgICB9KTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtvazogdHJ1ZX0pO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfVxuICBzZWxmLmNoYW5nZXMoY2hhbmdlc09wdHMpXG4gICAgLm9uKCdjaGFuZ2UnLCBvbkNoYW5nZSlcbiAgICAub24oJ2NvbXBsZXRlJywgb25Db21wbGV0ZSlcbiAgICAub24oJ2Vycm9yJywgY2FsbGJhY2spO1xufTtcblxuLyogQmVnaW4gYXBpIHdyYXBwZXJzLiBTcGVjaWZpYyBmdW5jdGlvbmFsaXR5IHRvIHN0b3JhZ2UgYmVsb25ncyBpbiB0aGVcbiAgIF9bbWV0aG9kXSAqL1xuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5nZXQgPSBhZGFwdGVyRnVuKCdnZXQnLCBmdW5jdGlvbiAoaWQsIG9wdHMsIGNiKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoSU5WQUxJRF9JRCkpO1xuICB9XG4gIGlmIChpc0xvY2FsSWQoaWQpICYmIHR5cGVvZiB0aGlzLl9nZXRMb2NhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGlzLl9nZXRMb2NhbChpZCwgY2IpO1xuICB9XG4gIHZhciBsZWF2ZXMgPSBbXSwgc2VsZiA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gZmluaXNoT3BlblJldnMoKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBjb3VudCA9IGxlYXZlcy5sZW5ndGg7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFjb3VudCkge1xuICAgICAgcmV0dXJuIGNiKG51bGwsIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLy8gb3JkZXIgd2l0aCBvcGVuX3JldnMgaXMgdW5zcGVjaWZpZWRcbiAgICBsZWF2ZXMuZm9yRWFjaChmdW5jdGlvbiAobGVhZikge1xuICAgICAgc2VsZi5nZXQoaWQsIHtcbiAgICAgICAgcmV2OiBsZWFmLFxuICAgICAgICByZXZzOiBvcHRzLnJldnMsXG4gICAgICAgIGxhdGVzdDogb3B0cy5sYXRlc3QsXG4gICAgICAgIGF0dGFjaG1lbnRzOiBvcHRzLmF0dGFjaG1lbnRzLFxuICAgICAgICBiaW5hcnk6IG9wdHMuYmluYXJ5XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyLCBkb2MpIHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAvLyB1c2luZyBsYXRlc3Q9dHJ1ZSBjYW4gcHJvZHVjZSBkdXBsaWNhdGVzXG4gICAgICAgICAgdmFyIGV4aXN0aW5nO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcmVzdWx0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKHJlc3VsdFtpXS5vayAmJiByZXN1bHRbaV0ub2suX3JldiA9PT0gZG9jLl9yZXYpIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFleGlzdGluZykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goe29rOiBkb2N9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goe21pc3Npbmc6IGxlYWZ9KTtcbiAgICAgICAgfVxuICAgICAgICBjb3VudC0tO1xuICAgICAgICBpZiAoIWNvdW50KSB7XG4gICAgICAgICAgY2IobnVsbCwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAob3B0cy5vcGVuX3JldnMpIHtcbiAgICBpZiAob3B0cy5vcGVuX3JldnMgPT09IFwiYWxsXCIpIHtcbiAgICAgIHRoaXMuX2dldFJldmlzaW9uVHJlZShpZCwgZnVuY3Rpb24gKGVyciwgcmV2X3RyZWUpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBsZWF2ZXMgPSBjb2xsZWN0TGVhdmVzKHJldl90cmVlKS5tYXAoZnVuY3Rpb24gKGxlYWYpIHtcbiAgICAgICAgICByZXR1cm4gbGVhZi5yZXY7XG4gICAgICAgIH0pO1xuICAgICAgICBmaW5pc2hPcGVuUmV2cygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdHMub3Blbl9yZXZzKSkge1xuICAgICAgICBsZWF2ZXMgPSBvcHRzLm9wZW5fcmV2cztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWF2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgbCA9IGxlYXZlc1tpXTtcbiAgICAgICAgICAvLyBsb29rcyBsaWtlIGl0J3MgdGhlIG9ubHkgdGhpbmcgY291Y2hkYiBjaGVja3NcbiAgICAgICAgICBpZiAoISh0eXBlb2YgKGwpID09PSBcInN0cmluZ1wiICYmIC9eXFxkKy0vLnRlc3QobCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoSU5WQUxJRF9SRVYpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoT3BlblJldnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihVTktOT1dOX0VSUk9SLCAnZnVuY3Rpb25fY2xhdXNlJykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47IC8vIG9wZW5fcmV2cyBkb2VzIG5vdCBsaWtlIG90aGVyIG9wdGlvbnNcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9nZXQoaWQsIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGVyci5kb2NJZCA9IGlkO1xuICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgfVxuXG4gICAgdmFyIGRvYyA9IHJlc3VsdC5kb2M7XG4gICAgdmFyIG1ldGFkYXRhID0gcmVzdWx0Lm1ldGFkYXRhO1xuICAgIHZhciBjdHggPSByZXN1bHQuY3R4O1xuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICB2YXIgY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgICBpZiAoY29uZmxpY3RzLmxlbmd0aCkge1xuICAgICAgICBkb2MuX2NvbmZsaWN0cyA9IGNvbmZsaWN0cztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNEZWxldGVkKG1ldGFkYXRhLCBkb2MuX3JldikpIHtcbiAgICAgIGRvYy5fZGVsZXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucmV2cyB8fCBvcHRzLnJldnNfaW5mbykge1xuICAgICAgdmFyIHNwbGl0dGVkUmV2ID0gZG9jLl9yZXYuc3BsaXQoJy0nKTtcbiAgICAgIHZhciByZXZObyAgICAgICA9IHBhcnNlSW50KHNwbGl0dGVkUmV2WzBdLCAxMCk7XG4gICAgICB2YXIgcmV2SGFzaCAgICAgPSBzcGxpdHRlZFJldlsxXTtcblxuICAgICAgdmFyIHBhdGhzID0gcm9vdFRvTGVhZihtZXRhZGF0YS5yZXZfdHJlZSk7XG4gICAgICB2YXIgcGF0aCA9IG51bGw7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gcGF0aHNbaV07XG4gICAgICAgIHZhciBoYXNoSW5kZXggPSBjdXJyZW50UGF0aC5pZHMubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkOyB9KVxuICAgICAgICAgIC5pbmRleE9mKHJldkhhc2gpO1xuICAgICAgICB2YXIgaGFzaEZvdW5kQXRSZXZQb3MgPSBoYXNoSW5kZXggPT09IChyZXZObyAtIDEpO1xuXG4gICAgICAgIGlmIChoYXNoRm91bmRBdFJldlBvcyB8fCAoIXBhdGggJiYgaGFzaEluZGV4ICE9PSAtMSkpIHtcbiAgICAgICAgICBwYXRoID0gY3VycmVudFBhdGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgZXJyID0gbmV3IEVycm9yKCdpbnZhbGlkIHJldiB0cmVlJyk7XG4gICAgICAgIGVyci5kb2NJZCA9IGlkO1xuICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZGV4T2ZSZXYgPSBwYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQ7IH0pXG4gICAgICAgIC5pbmRleE9mKGRvYy5fcmV2LnNwbGl0KCctJylbMV0pICsgMTtcbiAgICAgIHZhciBob3dNYW55ID0gcGF0aC5pZHMubGVuZ3RoIC0gaW5kZXhPZlJldjtcbiAgICAgIHBhdGguaWRzLnNwbGljZShpbmRleE9mUmV2LCBob3dNYW55KTtcbiAgICAgIHBhdGguaWRzLnJldmVyc2UoKTtcblxuICAgICAgaWYgKG9wdHMucmV2cykge1xuICAgICAgICBkb2MuX3JldmlzaW9ucyA9IHtcbiAgICAgICAgICBzdGFydDogKHBhdGgucG9zICsgcGF0aC5pZHMubGVuZ3RoKSAtIDEsXG4gICAgICAgICAgaWRzOiBwYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHJldikge1xuICAgICAgICAgICAgcmV0dXJuIHJldi5pZDtcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMucmV2c19pbmZvKSB7XG4gICAgICAgIHZhciBwb3MgPSAgcGF0aC5wb3MgKyBwYXRoLmlkcy5sZW5ndGg7XG4gICAgICAgIGRvYy5fcmV2c19pbmZvID0gcGF0aC5pZHMubWFwKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgICAgICBwb3MtLTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmV2OiBwb3MgKyAnLScgKyByZXYuaWQsXG4gICAgICAgICAgICBzdGF0dXM6IHJldi5vcHRzLnN0YXR1c1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIHZhciBhdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHM7XG4gICAgICB2YXIgY291bnQgPSBPYmplY3Qua2V5cyhhdHRhY2htZW50cykubGVuZ3RoO1xuICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBjYihudWxsLCBkb2MpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmtleXMoYXR0YWNobWVudHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLl9nZXRBdHRhY2htZW50KGRvYy5faWQsIGtleSwgYXR0YWNobWVudHNba2V5XSwge1xuICAgICAgICAgIC8vIFByZXZpb3VzbHkgdGhlIHJldmlzaW9uIGhhbmRsaW5nIHdhcyBkb25lIGluIGFkYXB0ZXIuanNcbiAgICAgICAgICAvLyBnZXRBdHRhY2htZW50LCBob3dldmVyIHNpbmNlIGlkYi1uZXh0IGRvZXNudCB3ZSBuZWVkIHRvXG4gICAgICAgICAgLy8gcGFzcyB0aGUgcmV2IHRocm91Z2hcbiAgICAgICAgICByZXY6IGRvYy5fcmV2LFxuICAgICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnksXG4gICAgICAgICAgY3R4OiBjdHhcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgIHZhciBhdHQgPSBkb2MuX2F0dGFjaG1lbnRzW2tleV07XG4gICAgICAgICAgYXR0LmRhdGEgPSBkYXRhO1xuICAgICAgICAgIGRlbGV0ZSBhdHQuc3R1YjtcbiAgICAgICAgICBkZWxldGUgYXR0Lmxlbmd0aDtcbiAgICAgICAgICBpZiAoIS0tY291bnQpIHtcbiAgICAgICAgICAgIGNiKG51bGwsIGRvYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2MuX2F0dGFjaG1lbnRzLCBrZXkpKSB7XG4gICAgICAgICAgICBkb2MuX2F0dGFjaG1lbnRzW2tleV0uc3R1YiA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYihudWxsLCBkb2MpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuLy8gVE9ETzogSSBkb250IGxpa2UgdGhpcywgaXQgZm9yY2VzIGFuIGV4dHJhIHJlYWQgZm9yIGV2ZXJ5XG4vLyBhdHRhY2htZW50IHJlYWQgYW5kIGVuZm9yY2VzIGEgY29uZnVzaW5nIGFwaSBiZXR3ZWVuXG4vLyBhZGFwdGVyLmpzIGFuZCB0aGUgYWRhcHRlciBpbXBsZW1lbnRhdGlvblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5nZXRBdHRhY2htZW50ID1cbiAgYWRhcHRlckZ1bignZ2V0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChvcHRzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIHRoaXMuX2dldChkb2NJZCwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIGlmIChyZXMuZG9jLl9hdHRhY2htZW50cyAmJiByZXMuZG9jLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdKSB7XG4gICAgICBvcHRzLmN0eCA9IHJlcy5jdHg7XG4gICAgICBvcHRzLmJpbmFyeSA9IHRydWU7XG4gICAgICBzZWxmLl9nZXRBdHRhY2htZW50KGRvY0lkLCBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5kb2MuX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF0sIG9wdHMsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmFsbERvY3MgPVxuICBhZGFwdGVyRnVuKCdhbGxEb2NzJywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgb3B0cy5za2lwID0gdHlwZW9mIG9wdHMuc2tpcCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLnNraXAgOiAwO1xuICBpZiAob3B0cy5zdGFydF9rZXkpIHtcbiAgICBvcHRzLnN0YXJ0a2V5ID0gb3B0cy5zdGFydF9rZXk7XG4gIH1cbiAgaWYgKG9wdHMuZW5kX2tleSkge1xuICAgIG9wdHMuZW5ka2V5ID0gb3B0cy5lbmRfa2V5O1xuICB9XG4gIGlmICgna2V5cycgaW4gb3B0cykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShvcHRzLmtleXMpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobmV3IFR5cGVFcnJvcignb3B0aW9ucy5rZXlzIG11c3QgYmUgYW4gYXJyYXknKSk7XG4gICAgfVxuICAgIHZhciBpbmNvbXBhdGlibGVPcHQgPVxuICAgICAgWydzdGFydGtleScsICdlbmRrZXknLCAna2V5J10uZmlsdGVyKGZ1bmN0aW9uIChpbmNvbXBhdGlibGVPcHQpIHtcbiAgICAgIHJldHVybiBpbmNvbXBhdGlibGVPcHQgaW4gb3B0cztcbiAgICB9KVswXTtcbiAgICBpZiAoaW5jb21wYXRpYmxlT3B0KSB7XG4gICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihRVUVSWV9QQVJTRV9FUlJPUixcbiAgICAgICAgJ1F1ZXJ5IHBhcmFtZXRlciBgJyArIGluY29tcGF0aWJsZU9wdCArXG4gICAgICAgICdgIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggbXVsdGktZ2V0J1xuICAgICAgKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaXNSZW1vdGUodGhpcykpIHtcbiAgICAgIGFsbERvY3NLZXlzUGFyc2Uob3B0cyk7XG4gICAgICBpZiAob3B0cy5rZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxsRG9jcyh7bGltaXQ6IDB9LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2FsbERvY3Mob3B0cywgY2FsbGJhY2spO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgLy8gQnkgZGVmYXVsdCBzZXQgcmV0dXJuX2RvY3MgdG8gZmFsc2UgaWYgdGhlIGNhbGxlciBoYXMgb3B0cy5saXZlID0gdHJ1ZSxcbiAgLy8gdGhpcyB3aWxsIHByZXZlbnQgdXMgZnJvbSBjb2xsZWN0aW5nIHRoZSBzZXQgb2YgY2hhbmdlcyBpbmRlZmluaXRlbHlcbiAgLy8gcmVzdWx0aW5nIGluIGdyb3dpbmcgbWVtb3J5XG4gIG9wdHMucmV0dXJuX2RvY3MgPSAoJ3JldHVybl9kb2NzJyBpbiBvcHRzKSA/IG9wdHMucmV0dXJuX2RvY3MgOiAhb3B0cy5saXZlO1xuXG4gIHJldHVybiBuZXcgQ2hhbmdlcyQxKHRoaXMsIG9wdHMsIGNhbGxiYWNrKTtcbn07XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY2xvc2UgPSBhZGFwdGVyRnVuKCdjbG9zZScsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB0aGlzLl9jbG9zZWQgPSB0cnVlO1xuICB0aGlzLmVtaXQoJ2Nsb3NlZCcpO1xuICByZXR1cm4gdGhpcy5fY2xvc2UoY2FsbGJhY2spO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuaW5mbyA9IGFkYXB0ZXJGdW4oJ2luZm8nLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9pbmZvKGZ1bmN0aW9uIChlcnIsIGluZm8pIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgLy8gYXNzdW1lIHdlIGtub3cgYmV0dGVyIHRoYW4gdGhlIGFkYXB0ZXIsIHVubGVzcyBpdCBpbmZvcm1zIHVzXG4gICAgaW5mby5kYl9uYW1lID0gaW5mby5kYl9uYW1lIHx8IHNlbGYubmFtZTtcbiAgICBpbmZvLmF1dG9fY29tcGFjdGlvbiA9ICEhKHNlbGYuYXV0b19jb21wYWN0aW9uICYmICFpc1JlbW90ZShzZWxmKSk7XG4gICAgaW5mby5hZGFwdGVyID0gc2VsZi5hZGFwdGVyO1xuICAgIGNhbGxiYWNrKG51bGwsIGluZm8pO1xuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmlkID0gYWRhcHRlckZ1bignaWQnLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgcmV0dXJuIHRoaXMuX2lkKGNhbGxiYWNrKTtcbn0pO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS50eXBlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKHR5cGVvZiB0aGlzLl90eXBlID09PSAnZnVuY3Rpb24nKSA/IHRoaXMuX3R5cGUoKSA6IHRoaXMuYWRhcHRlcjtcbn07XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuYnVsa0RvY3MgPVxuICBhZGFwdGVyRnVuKCdidWxrRG9jcycsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShyZXEpKSB7XG4gICAgcmVxID0ge1xuICAgICAgZG9jczogcmVxXG4gICAgfTtcbiAgfVxuXG4gIGlmICghcmVxIHx8ICFyZXEuZG9jcyB8fCAhQXJyYXkuaXNBcnJheShyZXEuZG9jcykpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19CVUxLX0RPQ1MpKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVxLmRvY3MubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAodHlwZW9mIHJlcS5kb2NzW2ldICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJlcS5kb2NzW2ldKSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYXR0YWNobWVudEVycm9yO1xuICByZXEuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBhdHRhY2htZW50RXJyb3IgPSBhdHRhY2htZW50RXJyb3IgfHwgYXR0YWNobWVudE5hbWVFcnJvcihuYW1lKTtcbiAgICAgICAgaWYgKCFkb2MuX2F0dGFjaG1lbnRzW25hbWVdLmNvbnRlbnRfdHlwZSkge1xuICAgICAgICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJywgJ0F0dGFjaG1lbnQnLCBuYW1lLCAnb24gZG9jdW1lbnQnLCBkb2MuX2lkLCAnaXMgbWlzc2luZyBjb250ZW50X3R5cGUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoYXR0YWNobWVudEVycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULCBhdHRhY2htZW50RXJyb3IpKTtcbiAgfVxuXG4gIGlmICghKCduZXdfZWRpdHMnIGluIG9wdHMpKSB7XG4gICAgaWYgKCduZXdfZWRpdHMnIGluIHJlcSkge1xuICAgICAgb3B0cy5uZXdfZWRpdHMgPSByZXEubmV3X2VkaXRzO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRzLm5ld19lZGl0cyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGFkYXB0ZXIgPSB0aGlzO1xuICBpZiAoIW9wdHMubmV3X2VkaXRzICYmICFpc1JlbW90ZShhZGFwdGVyKSkge1xuICAgIC8vIGVuc3VyZSByZXZpc2lvbnMgb2YgdGhlIHNhbWUgZG9jIGFyZSBzb3J0ZWQsIHNvIHRoYXRcbiAgICAvLyB0aGUgbG9jYWwgYWRhcHRlciBwcm9jZXNzZXMgdGhlbSBjb3JyZWN0bHkgKCMyOTM1KVxuICAgIHJlcS5kb2NzLnNvcnQoY29tcGFyZUJ5SWRUaGVuUmV2KTtcbiAgfVxuXG4gIGNsZWFuRG9jcyhyZXEuZG9jcyk7XG5cbiAgLy8gaW4gdGhlIGNhc2Ugb2YgY29uZmxpY3RzLCB3ZSB3YW50IHRvIHJldHVybiB0aGUgX2lkcyB0byB0aGUgdXNlclxuICAvLyBob3dldmVyLCB0aGUgdW5kZXJseWluZyBhZGFwdGVyIG1heSBkZXN0cm95IHRoZSBkb2NzIGFycmF5LCBzb1xuICAvLyBjcmVhdGUgYSBjb3B5IGhlcmVcbiAgdmFyIGlkcyA9IHJlcS5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgcmV0dXJuIGRvYy5faWQ7XG4gIH0pO1xuXG4gIHJldHVybiB0aGlzLl9idWxrRG9jcyhyZXEsIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICBpZiAoIW9wdHMubmV3X2VkaXRzKSB7XG4gICAgICAvLyB0aGlzIGlzIHdoYXQgY291Y2ggZG9lcyB3aGVuIG5ld19lZGl0cyBpcyBmYWxzZVxuICAgICAgcmVzID0gcmVzLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geC5lcnJvcjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBhZGQgaWRzIGZvciBlcnJvci9jb25mbGljdCByZXNwb25zZXMgKG5vdCByZXF1aXJlZCBmb3IgQ291Y2hEQilcbiAgICBpZiAoIWlzUmVtb3RlKGFkYXB0ZXIpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHJlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgcmVzW2ldLmlkID0gcmVzW2ldLmlkIHx8IGlkc1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UgPVxuICBhZGFwdGVyRnVuKCdyZWdpc3RlckRlcGVuZGVudERhdGFiYXNlJywgZnVuY3Rpb24gKGRlcGVuZGVudERiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKSB7XG4gIHZhciBkYk9wdGlvbnMgPSBjbG9uZSh0aGlzLl9fb3B0cyk7XG4gIGlmICh0aGlzLl9fb3B0cy52aWV3X2FkYXB0ZXIpIHtcbiAgICBkYk9wdGlvbnMuYWRhcHRlciA9IHRoaXMuX19vcHRzLnZpZXdfYWRhcHRlcjtcbiAgfVxuXG4gIHZhciBkZXBEQiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGRlcGVuZGVudERiLCBkYk9wdGlvbnMpO1xuXG4gIGZ1bmN0aW9uIGRpZmZGdW4oZG9jKSB7XG4gICAgZG9jLmRlcGVuZGVudERicyA9IGRvYy5kZXBlbmRlbnREYnMgfHwge307XG4gICAgaWYgKGRvYy5kZXBlbmRlbnREYnNbZGVwZW5kZW50RGJdKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIG5vIHVwZGF0ZSByZXF1aXJlZFxuICAgIH1cbiAgICBkb2MuZGVwZW5kZW50RGJzW2RlcGVuZGVudERiXSA9IHRydWU7XG4gICAgcmV0dXJuIGRvYztcbiAgfVxuICB1cHNlcnQodGhpcywgJ19sb2NhbC9fcG91Y2hfZGVwZW5kZW50RGJzJywgZGlmZkZ1bilcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCB7ZGI6IGRlcERCfSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuZGVzdHJveSA9XG4gIGFkYXB0ZXJGdW4oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcblxuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgdXNlUHJlZml4ID0gJ3VzZV9wcmVmaXgnIGluIHNlbGYgPyBzZWxmLnVzZV9wcmVmaXggOiB0cnVlO1xuXG4gIGZ1bmN0aW9uIGRlc3Ryb3lEYigpIHtcbiAgICAvLyBjYWxsIGRlc3Ryb3kgbWV0aG9kIG9mIHRoZSBwYXJ0aWN1bGFyIGFkYXB0b3JcbiAgICBzZWxmLl9kZXN0cm95KG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBzZWxmLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgc2VsZi5lbWl0KCdkZXN0cm95ZWQnKTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3AgfHwgeyAnb2snOiB0cnVlIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGlzUmVtb3RlKHNlbGYpKSB7XG4gICAgLy8gbm8gbmVlZCB0byBjaGVjayBmb3IgZGVwZW5kZW50IERCcyBpZiBpdCdzIGEgcmVtb3RlIERCXG4gICAgcmV0dXJuIGRlc3Ryb3lEYigpO1xuICB9XG5cbiAgc2VsZi5nZXQoJ19sb2NhbC9fcG91Y2hfZGVwZW5kZW50RGJzJywgZnVuY3Rpb24gKGVyciwgbG9jYWxEb2MpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2UgeyAvLyBubyBkZXBlbmRlbmNpZXNcbiAgICAgICAgcmV0dXJuIGRlc3Ryb3lEYigpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZGVwZW5kZW50RGJzID0gbG9jYWxEb2MuZGVwZW5kZW50RGJzO1xuICAgIHZhciBQb3VjaERCID0gc2VsZi5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgZGVsZXRlZE1hcCA9IE9iamVjdC5rZXlzKGRlcGVuZGVudERicykubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAvLyB1c2VfcHJlZml4IGlzIG9ubHkgZmFsc2UgaW4gdGhlIGJyb3dzZXJcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICB2YXIgdHJ1ZU5hbWUgPSB1c2VQcmVmaXggP1xuICAgICAgICBuYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyBQb3VjaERCLnByZWZpeCksICcnKSA6IG5hbWU7XG4gICAgICByZXR1cm4gbmV3IFBvdWNoREIodHJ1ZU5hbWUsIHNlbGYuX19vcHRzKS5kZXN0cm95KCk7XG4gICAgfSk7XG4gICAgUHJvbWlzZS5hbGwoZGVsZXRlZE1hcCkudGhlbihkZXN0cm95RGIsIGNhbGxiYWNrKTtcbiAgfSk7XG59KTtcblxuZnVuY3Rpb24gVGFza1F1ZXVlKCkge1xuICB0aGlzLmlzUmVhZHkgPSBmYWxzZTtcbiAgdGhpcy5mYWlsZWQgPSBmYWxzZTtcbiAgdGhpcy5xdWV1ZSA9IFtdO1xufVxuXG5UYXNrUXVldWUucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBmdW47XG4gIGlmICh0aGlzLmZhaWxlZCkge1xuICAgIHdoaWxlICgoZnVuID0gdGhpcy5xdWV1ZS5zaGlmdCgpKSkge1xuICAgICAgZnVuKHRoaXMuZmFpbGVkKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKChmdW4gPSB0aGlzLnF1ZXVlLnNoaWZ0KCkpKSB7XG4gICAgICBmdW4oKTtcbiAgICB9XG4gIH1cbn07XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUuZmFpbCA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgdGhpcy5mYWlsZWQgPSBlcnI7XG4gIHRoaXMuZXhlY3V0ZSgpO1xufTtcblxuVGFza1F1ZXVlLnByb3RvdHlwZS5yZWFkeSA9IGZ1bmN0aW9uIChkYikge1xuICB0aGlzLmlzUmVhZHkgPSB0cnVlO1xuICB0aGlzLmRiID0gZGI7XG4gIHRoaXMuZXhlY3V0ZSgpO1xufTtcblxuVGFza1F1ZXVlLnByb3RvdHlwZS5hZGRUYXNrID0gZnVuY3Rpb24gKGZ1bikge1xuICB0aGlzLnF1ZXVlLnB1c2goZnVuKTtcbiAgaWYgKHRoaXMuZmFpbGVkKSB7XG4gICAgdGhpcy5leGVjdXRlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHBhcnNlQWRhcHRlcihuYW1lLCBvcHRzKSB7XG4gIHZhciBtYXRjaCA9IG5hbWUubWF0Y2goLyhbYS16LV0qKTpcXC9cXC8oLiopLyk7XG4gIGlmIChtYXRjaCkge1xuICAgIC8vIHRoZSBodHRwIGFkYXB0ZXIgZXhwZWN0cyB0aGUgZnVsbHkgcXVhbGlmaWVkIG5hbWVcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogL2h0dHBzPy8udGVzdChtYXRjaFsxXSkgPyBtYXRjaFsxXSArICc6Ly8nICsgbWF0Y2hbMl0gOiBtYXRjaFsyXSxcbiAgICAgIGFkYXB0ZXI6IG1hdGNoWzFdXG4gICAgfTtcbiAgfVxuXG4gIHZhciBhZGFwdGVycyA9IFBvdWNoREIuYWRhcHRlcnM7XG4gIHZhciBwcmVmZXJyZWRBZGFwdGVycyA9IFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnM7XG4gIHZhciBwcmVmaXggPSBQb3VjaERCLnByZWZpeDtcbiAgdmFyIGFkYXB0ZXJOYW1lID0gb3B0cy5hZGFwdGVyO1xuXG4gIGlmICghYWRhcHRlck5hbWUpIHsgLy8gYXV0b21hdGljYWxseSBkZXRlcm1pbmUgYWRhcHRlclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZmVycmVkQWRhcHRlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGFkYXB0ZXJOYW1lID0gcHJlZmVycmVkQWRhcHRlcnNbaV07XG4gICAgICAvLyBjaGVjayBmb3IgYnJvd3NlcnMgdGhhdCBoYXZlIGJlZW4gdXBncmFkZWQgZnJvbSB3ZWJzcWwtb25seSB0byB3ZWJzcWwraWRiXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChhZGFwdGVyTmFtZSA9PT0gJ2lkYicgJiYgJ3dlYnNxbCcgaW4gYWRhcHRlcnMgJiZcbiAgICAgICAgICBoYXNMb2NhbFN0b3JhZ2UoKSAmJiBsb2NhbFN0b3JhZ2VbJ19wb3VjaF9fd2Vic3FsZGJfJyArIHByZWZpeCArIG5hbWVdKSB7XG4gICAgICAgIC8vIGxvZyBpdCwgYmVjYXVzZSB0aGlzIGNhbiBiZSBjb25mdXNpbmcgZHVyaW5nIGRldmVsb3BtZW50XG4gICAgICAgIGd1YXJkZWRDb25zb2xlKCdsb2cnLCAnUG91Y2hEQiBpcyBkb3duZ3JhZGluZyBcIicgKyBuYW1lICsgJ1wiIHRvIFdlYlNRTCB0bycgK1xuICAgICAgICAgICcgYXZvaWQgZGF0YSBsb3NzLCBiZWNhdXNlIGl0IHdhcyBhbHJlYWR5IG9wZW5lZCB3aXRoIFdlYlNRTC4nKTtcbiAgICAgICAgY29udGludWU7IC8vIGtlZXAgdXNpbmcgd2Vic3FsIHRvIGF2b2lkIHVzZXIgZGF0YSBsb3NzXG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgYWRhcHRlciA9IGFkYXB0ZXJzW2FkYXB0ZXJOYW1lXTtcblxuICAvLyBpZiBhZGFwdGVyIGlzIGludmFsaWQsIHRoZW4gYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24gbGF0ZXJcbiAgdmFyIHVzZVByZWZpeCA9IChhZGFwdGVyICYmICd1c2VfcHJlZml4JyBpbiBhZGFwdGVyKSA/XG4gICAgYWRhcHRlci51c2VfcHJlZml4IDogdHJ1ZTtcblxuICByZXR1cm4ge1xuICAgIG5hbWU6IHVzZVByZWZpeCA/IChwcmVmaXggKyBuYW1lKSA6IG5hbWUsXG4gICAgYWRhcHRlcjogYWRhcHRlck5hbWVcbiAgfTtcbn1cblxuLy8gT0ssIHNvIGhlcmUncyB0aGUgZGVhbC4gQ29uc2lkZXIgdGhpcyBjb2RlOlxuLy8gICAgIHZhciBkYjEgPSBuZXcgUG91Y2hEQignZm9vJyk7XG4vLyAgICAgdmFyIGRiMiA9IG5ldyBQb3VjaERCKCdmb28nKTtcbi8vICAgICBkYjEuZGVzdHJveSgpO1xuLy8gXiB0aGVzZSB0d28gYm90aCBuZWVkIHRvIGVtaXQgJ2Rlc3Ryb3llZCcgZXZlbnRzLFxuLy8gYXMgd2VsbCBhcyB0aGUgUG91Y2hEQiBjb25zdHJ1Y3RvciBpdHNlbGYuXG4vLyBTbyB3ZSBoYXZlIG9uZSBkYiBvYmplY3QgKHdoaWNoZXZlciBvbmUgZ290IGRlc3Ryb3koKSBjYWxsZWQgb24gaXQpXG4vLyByZXNwb25zaWJsZSBmb3IgZW1pdHRpbmcgdGhlIGluaXRpYWwgZXZlbnQsIHdoaWNoIHRoZW4gZ2V0cyBlbWl0dGVkXG4vLyBieSB0aGUgY29uc3RydWN0b3IsIHdoaWNoIHRoZW4gYnJvYWRjYXN0cyBpdCB0byBhbnkgb3RoZXIgZGJzXG4vLyB0aGF0IG1heSBoYXZlIGJlZW4gY3JlYXRlZCB3aXRoIHRoZSBzYW1lIG5hbWUuXG5mdW5jdGlvbiBwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24oc2VsZikge1xuXG4gIGZ1bmN0aW9uIG9uRGVzdHJveWVkKGZyb21fY29uc3RydWN0b3IpIHtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCdjbG9zZWQnLCBvbkNsb3NlZCk7XG4gICAgaWYgKCFmcm9tX2NvbnN0cnVjdG9yKSB7XG4gICAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ2Rlc3Ryb3llZCcsIHNlbGYubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25DbG9zZWQoKSB7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95ZWQpO1xuICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgndW5yZWYnLCBzZWxmKTtcbiAgfVxuXG4gIHNlbGYub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95ZWQpO1xuICBzZWxmLm9uY2UoJ2Nsb3NlZCcsIG9uQ2xvc2VkKTtcbiAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdyZWYnLCBzZWxmKTtcbn1cblxuaW5oZXJpdHMoUG91Y2hEQiwgQWJzdHJhY3RQb3VjaERCKTtcbmZ1bmN0aW9uIFBvdWNoREIobmFtZSwgb3B0cykge1xuICAvLyBJbiBOb2RlIG91ciB0ZXN0IHN1aXRlIG9ubHkgdGVzdHMgdGhpcyBmb3IgUG91Y2hBbHQgdW5mb3J0dW5hdGVseVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBvdWNoREIpKSB7XG4gICAgcmV0dXJuIG5ldyBQb3VjaERCKG5hbWUsIG9wdHMpO1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBpZiAobmFtZSAmJiB0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICBvcHRzID0gbmFtZTtcbiAgICBuYW1lID0gb3B0cy5uYW1lO1xuICAgIGRlbGV0ZSBvcHRzLm5hbWU7XG4gIH1cblxuICBpZiAob3B0cy5kZXRlcm1pbmlzdGljX3JldnMgPT09IHVuZGVmaW5lZCkge1xuICAgIG9wdHMuZGV0ZXJtaW5pc3RpY19yZXZzID0gdHJ1ZTtcbiAgfVxuXG4gIHRoaXMuX19vcHRzID0gb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gIHNlbGYuYXV0b19jb21wYWN0aW9uID0gb3B0cy5hdXRvX2NvbXBhY3Rpb247XG4gIHNlbGYucHJlZml4ID0gUG91Y2hEQi5wcmVmaXg7XG5cbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZy9pbnZhbGlkIERCIG5hbWUnKTtcbiAgfVxuXG4gIHZhciBwcmVmaXhlZE5hbWUgPSAob3B0cy5wcmVmaXggfHwgJycpICsgbmFtZTtcbiAgdmFyIGJhY2tlbmQgPSBwYXJzZUFkYXB0ZXIocHJlZml4ZWROYW1lLCBvcHRzKTtcblxuICBvcHRzLm5hbWUgPSBiYWNrZW5kLm5hbWU7XG4gIG9wdHMuYWRhcHRlciA9IG9wdHMuYWRhcHRlciB8fCBiYWNrZW5kLmFkYXB0ZXI7XG5cbiAgc2VsZi5uYW1lID0gbmFtZTtcbiAgc2VsZi5fYWRhcHRlciA9IG9wdHMuYWRhcHRlcjtcbiAgUG91Y2hEQi5lbWl0KCdkZWJ1ZycsIFsnYWRhcHRlcicsICdQaWNrZWQgYWRhcHRlcjogJywgb3B0cy5hZGFwdGVyXSk7XG5cbiAgaWYgKCFQb3VjaERCLmFkYXB0ZXJzW29wdHMuYWRhcHRlcl0gfHxcbiAgICAgICFQb3VjaERCLmFkYXB0ZXJzW29wdHMuYWRhcHRlcl0udmFsaWQoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBBZGFwdGVyOiAnICsgb3B0cy5hZGFwdGVyKTtcbiAgfVxuXG4gIGlmIChvcHRzLnZpZXdfYWRhcHRlcikge1xuICAgIGlmICghUG91Y2hEQi5hZGFwdGVyc1tvcHRzLnZpZXdfYWRhcHRlcl0gfHxcbiAgICAgICAgIVBvdWNoREIuYWRhcHRlcnNbb3B0cy52aWV3X2FkYXB0ZXJdLnZhbGlkKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBWaWV3IEFkYXB0ZXI6ICcgKyBvcHRzLnZpZXdfYWRhcHRlcik7XG4gICAgfVxuICB9XG5cbiAgQWJzdHJhY3RQb3VjaERCLmNhbGwoc2VsZik7XG4gIHNlbGYudGFza3F1ZXVlID0gbmV3IFRhc2tRdWV1ZSgpO1xuXG4gIHNlbGYuYWRhcHRlciA9IG9wdHMuYWRhcHRlcjtcblxuICBQb3VjaERCLmFkYXB0ZXJzW29wdHMuYWRhcHRlcl0uY2FsbChzZWxmLCBvcHRzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIHNlbGYudGFza3F1ZXVlLmZhaWwoZXJyKTtcbiAgICB9XG4gICAgcHJlcGFyZUZvckRlc3RydWN0aW9uKHNlbGYpO1xuXG4gICAgc2VsZi5lbWl0KCdjcmVhdGVkJywgc2VsZik7XG4gICAgUG91Y2hEQi5lbWl0KCdjcmVhdGVkJywgc2VsZi5uYW1lKTtcbiAgICBzZWxmLnRhc2txdWV1ZS5yZWFkeShzZWxmKTtcbiAgfSk7XG5cbn1cblxuLy8gQWJvcnRDb250cm9sbGVyIHdhcyBpbnRyb2R1Y2VkIHF1aXRlIGEgd2hpbGUgYWZ0ZXIgZmV0Y2ggYW5kXG4vLyBpc250IHJlcXVpcmVkIGZvciBQb3VjaERCIHRvIGZ1bmN0aW9uIHNvIHBvbHlmaWxsIGlmIG5lZWRlZFxudmFyIGEgPSAodHlwZW9mIEFib3J0Q29udHJvbGxlciAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgPyBBYm9ydENvbnRyb2xsZXJcbiAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHthYm9ydDogZnVuY3Rpb24gKCkge319OyB9O1xuXG52YXIgZiQxID0gZmV0Y2g7XG52YXIgaCA9IEhlYWRlcnM7XG5cblBvdWNoREIuYWRhcHRlcnMgPSB7fTtcblBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMgPSBbXTtcblxuUG91Y2hEQi5wcmVmaXggPSAnX3BvdWNoXyc7XG5cbnZhciBldmVudEVtaXR0ZXIgPSBuZXcgRUUoKTtcblxuZnVuY3Rpb24gc2V0VXBFdmVudEVtaXR0ZXIoUG91Y2gpIHtcbiAgT2JqZWN0LmtleXMoRUUucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAodHlwZW9mIEVFLnByb3RvdHlwZVtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBQb3VjaFtrZXldID0gZXZlbnRFbWl0dGVyW2tleV0uYmluZChldmVudEVtaXR0ZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gdGhlc2UgYXJlIGNyZWF0ZWQgaW4gY29uc3RydWN0b3IuanMsIGFuZCBhbGxvdyB1cyB0byBub3RpZnkgZWFjaCBEQiB3aXRoXG4gIC8vIHRoZSBzYW1lIG5hbWUgdGhhdCBpdCB3YXMgZGVzdHJveWVkLCB2aWEgdGhlIGNvbnN0cnVjdG9yIG9iamVjdFxuICB2YXIgZGVzdHJ1Y3RMaXN0ZW5lcnMgPSBQb3VjaC5fZGVzdHJ1Y3Rpb25MaXN0ZW5lcnMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICBQb3VjaC5vbigncmVmJywgZnVuY3Rpb24gb25Db25zdHJ1Y3RvclJlZihkYikge1xuICAgIGlmICghZGVzdHJ1Y3RMaXN0ZW5lcnMuaGFzKGRiLm5hbWUpKSB7XG4gICAgICBkZXN0cnVjdExpc3RlbmVycy5zZXQoZGIubmFtZSwgW10pO1xuICAgIH1cbiAgICBkZXN0cnVjdExpc3RlbmVycy5nZXQoZGIubmFtZSkucHVzaChkYik7XG4gIH0pO1xuXG4gIFBvdWNoLm9uKCd1bnJlZicsIGZ1bmN0aW9uIG9uQ29uc3RydWN0b3JVbnJlZihkYikge1xuICAgIGlmICghZGVzdHJ1Y3RMaXN0ZW5lcnMuaGFzKGRiLm5hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkYkxpc3QgPSBkZXN0cnVjdExpc3RlbmVycy5nZXQoZGIubmFtZSk7XG4gICAgdmFyIHBvcyA9IGRiTGlzdC5pbmRleE9mKGRiKTtcbiAgICBpZiAocG9zIDwgMCkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGJMaXN0LnNwbGljZShwb3MsIDEpO1xuICAgIGlmIChkYkxpc3QubGVuZ3RoID4gMSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLnNldChkYi5uYW1lLCBkYkxpc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZXN0cnVjdExpc3RlbmVycy5kZWxldGUoZGIubmFtZSk7XG4gICAgfVxuICB9KTtcblxuICBQb3VjaC5vbignZGVzdHJveWVkJywgZnVuY3Rpb24gb25Db25zdHJ1Y3RvckRlc3Ryb3llZChuYW1lKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMobmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRiTGlzdCA9IGRlc3RydWN0TGlzdGVuZXJzLmdldChuYW1lKTtcbiAgICBkZXN0cnVjdExpc3RlbmVycy5kZWxldGUobmFtZSk7XG4gICAgZGJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGRiKSB7XG4gICAgICBkYi5lbWl0KCdkZXN0cm95ZWQnLHRydWUpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuc2V0VXBFdmVudEVtaXR0ZXIoUG91Y2hEQik7XG5cblBvdWNoREIuYWRhcHRlciA9IGZ1bmN0aW9uIChpZCwgb2JqLCBhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChvYmoudmFsaWQoKSkge1xuICAgIFBvdWNoREIuYWRhcHRlcnNbaWRdID0gb2JqO1xuICAgIGlmIChhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzKSB7XG4gICAgICBQb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzLnB1c2goaWQpO1xuICAgIH1cbiAgfVxufTtcblxuUG91Y2hEQi5wbHVnaW4gPSBmdW5jdGlvbiAob2JqKSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7IC8vIGZ1bmN0aW9uIHN0eWxlIGZvciBwbHVnaW5zXG4gICAgb2JqKFBvdWNoREIpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBsdWdpbjogZ290IFwiJyArIG9iaiArICdcIiwgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24nKTtcbiAgfSBlbHNlIHtcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7IC8vIG9iamVjdCBzdHlsZSBmb3IgcGx1Z2luc1xuICAgICAgUG91Y2hEQi5wcm90b3R5cGVbaWRdID0gb2JqW2lkXTtcbiAgICB9KTtcbiAgfVxuICBpZiAodGhpcy5fX2RlZmF1bHRzKSB7XG4gICAgUG91Y2hEQi5fX2RlZmF1bHRzID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCB0aGlzLl9fZGVmYXVsdHMpO1xuICB9XG4gIHJldHVybiBQb3VjaERCO1xufTtcblxuUG91Y2hEQi5kZWZhdWx0cyA9IGZ1bmN0aW9uIChkZWZhdWx0T3B0cykge1xuICBmdW5jdGlvbiBQb3VjaEFsdChuYW1lLCBvcHRzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBvdWNoQWx0KSkge1xuICAgICAgcmV0dXJuIG5ldyBQb3VjaEFsdChuYW1lLCBvcHRzKTtcbiAgICB9XG5cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAgIGlmIChuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgb3B0cyA9IG5hbWU7XG4gICAgICBuYW1lID0gb3B0cy5uYW1lO1xuICAgICAgZGVsZXRlIG9wdHMubmFtZTtcbiAgICB9XG5cbiAgICBvcHRzID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBQb3VjaEFsdC5fX2RlZmF1bHRzLCBvcHRzKTtcbiAgICBQb3VjaERCLmNhbGwodGhpcywgbmFtZSwgb3B0cyk7XG4gIH1cblxuICBpbmhlcml0cyhQb3VjaEFsdCwgUG91Y2hEQik7XG5cbiAgUG91Y2hBbHQucHJlZmVycmVkQWRhcHRlcnMgPSBQb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzLnNsaWNlKCk7XG4gIE9iamVjdC5rZXlzKFBvdWNoREIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghKGtleSBpbiBQb3VjaEFsdCkpIHtcbiAgICAgIFBvdWNoQWx0W2tleV0gPSBQb3VjaERCW2tleV07XG4gICAgfVxuICB9KTtcblxuICAvLyBtYWtlIGRlZmF1bHQgb3B0aW9ucyB0cmFuc2l0aXZlXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3VjaGRiL3BvdWNoZGIvaXNzdWVzLzU5MjJcbiAgUG91Y2hBbHQuX19kZWZhdWx0cyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgdGhpcy5fX2RlZmF1bHRzLCBkZWZhdWx0T3B0cyk7XG5cbiAgcmV0dXJuIFBvdWNoQWx0O1xufTtcblxuUG91Y2hEQi5mZXRjaCA9IGZ1bmN0aW9uICh1cmwsIG9wdHMpIHtcbiAgcmV0dXJuIGYkMSh1cmwsIG9wdHMpO1xufTtcblxuLy8gbWFuYWdlZCBhdXRvbWF0aWNhbGx5IGJ5IHNldC12ZXJzaW9uLmpzXG52YXIgdmVyc2lvbiA9IFwiNy4zLjBcIjtcblxuLy8gdGhpcyB3b3VsZCBqdXN0IGJlIFwicmV0dXJuIGRvY1tmaWVsZF1cIiwgYnV0IGZpZWxkc1xuLy8gY2FuIGJlIFwiZGVlcFwiIGR1ZSB0byBkb3Qgbm90YXRpb25cbmZ1bmN0aW9uIGdldEZpZWxkRnJvbURvYyhkb2MsIHBhcnNlZEZpZWxkKSB7XG4gIHZhciB2YWx1ZSA9IGRvYztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhcnNlZEZpZWxkLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHBhcnNlZEZpZWxkW2ldO1xuICAgIHZhbHVlID0gdmFsdWVba2V5XTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlJDEobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIGxlZnQgPCByaWdodCA/IC0xIDogbGVmdCA+IHJpZ2h0ID8gMSA6IDA7XG59XG5cbi8vIENvbnZlcnRzIGEgc3RyaW5nIGluIGRvdCBub3RhdGlvbiB0byBhbiBhcnJheSBvZiBpdHMgY29tcG9uZW50cywgd2l0aCBiYWNrc2xhc2ggZXNjYXBpbmdcbmZ1bmN0aW9uIHBhcnNlRmllbGQoZmllbGROYW1lKSB7XG4gIC8vIGZpZWxkcyBtYXkgYmUgZGVlcCAoZS5nLiBcImZvby5iYXIuYmF6XCIpLCBzbyBwYXJzZVxuICB2YXIgZmllbGRzID0gW107XG4gIHZhciBjdXJyZW50ID0gJyc7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmaWVsZE5hbWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgY2ggPSBmaWVsZE5hbWVbaV07XG4gICAgaWYgKGkgPiAwICYmIGZpZWxkTmFtZVtpIC0gMV0gPT09ICdcXFxcJyAmJiAoY2ggPT09ICckJyB8fCBjaCA9PT0gJy4nKSkge1xuICAgICAgLy8gZXNjYXBlZCBkZWxpbWl0ZXJcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnN1YnN0cmluZygwLCBjdXJyZW50Lmxlbmd0aCAtIDEpICsgY2g7XG4gICAgfSBlbHNlIGlmIChjaCA9PT0gJy4nKSB7XG4gICAgICAvLyBXaGVuIGAuYCBpcyBub3QgZXNjYXBlZCAoYWJvdmUpLCBpdCBpcyBhIGZpZWxkIGRlbGltaXRlclxuICAgICAgZmllbGRzLnB1c2goY3VycmVudCk7XG4gICAgICBjdXJyZW50ID0gJyc7XG4gICAgfSBlbHNlIHsgLy8gbm9ybWFsIGNoYXJhY3RlclxuICAgICAgY3VycmVudCArPSBjaDtcbiAgICB9XG4gIH1cbiAgZmllbGRzLnB1c2goY3VycmVudCk7XG4gIHJldHVybiBmaWVsZHM7XG59XG5cbnZhciBjb21iaW5hdGlvbkZpZWxkcyA9IFsnJG9yJywgJyRub3InLCAnJG5vdCddO1xuZnVuY3Rpb24gaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpIHtcbiAgcmV0dXJuIGNvbWJpbmF0aW9uRmllbGRzLmluZGV4T2YoZmllbGQpID4gLTE7XG59XG5cbmZ1bmN0aW9uIGdldEtleShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iailbMF07XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlKG9iaikge1xuICByZXR1cm4gb2JqW2dldEtleShvYmopXTtcbn1cblxuXG4vLyBmbGF0dGVuIGFuIGFycmF5IG9mIHNlbGVjdG9ycyBqb2luZWQgYnkgYW4gJGFuZCBvcGVyYXRvclxuZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9ycyhzZWxlY3RvcnMpIHtcblxuICAvLyBzb3J0IHRvIGVuc3VyZSB0aGF0IGUuZy4gaWYgdGhlIHVzZXIgc3BlY2lmaWVkXG4gIC8vICRhbmQ6IFt7JGd0OiAnYSd9LCB7JGd0OiAnYid9XSwgdGhlbiBpdCdzIGNvbGxhcHNlZCBpbnRvXG4gIC8vIGp1c3QgeyRndDogJ2InfVxuICB2YXIgcmVzID0ge307XG4gIHZhciBmaXJzdCA9IHskb3I6IHRydWUsICRub3I6IHRydWV9O1xuXG4gIHNlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIE9iamVjdC5rZXlzKHNlbGVjdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgdmFyIG1hdGNoZXIgPSBzZWxlY3RvcltmaWVsZF07XG4gICAgICBpZiAodHlwZW9mIG1hdGNoZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIG1hdGNoZXIgPSB7JGVxOiBtYXRjaGVyfTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ29tYmluYXRpb25hbEZpZWxkKGZpZWxkKSkge1xuICAgICAgICAvLyBvciwgbm9yXG4gICAgICAgIGlmIChtYXRjaGVyIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICBpZiAoZmlyc3RbZmllbGRdKSB7XG4gICAgICAgICAgICBmaXJzdFtmaWVsZF0gPSBmYWxzZTtcbiAgICAgICAgICAgIHJlc1tmaWVsZF0gPSBtYXRjaGVyO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBlbnRyaWVzID0gW107XG4gICAgICAgICAgcmVzW2ZpZWxkXS5mb3JFYWNoKGZ1bmN0aW9uIChleGlzdGluZykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMobWF0Y2hlcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgIHZhciBtID0gbWF0Y2hlcltrZXldO1xuICAgICAgICAgICAgICB2YXIgbG9uZ2VzdCA9IE1hdGgubWF4KE9iamVjdC5rZXlzKGV4aXN0aW5nKS5sZW5ndGgsIE9iamVjdC5rZXlzKG0pLmxlbmd0aCk7XG4gICAgICAgICAgICAgIHZhciBtZXJnZWQgPSBtZXJnZUFuZGVkU2VsZWN0b3JzKFtleGlzdGluZywgbV0pO1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMobWVyZ2VkKS5sZW5ndGggPD0gbG9uZ2VzdCkge1xuICAgICAgICAgICAgICAgIC8vIHdlIGhhdmUgYSBzaXR1YXRpb24gbGlrZTogKGEgOnskZXEgOjF9IHx8IC4uLikgJiYgKGEgeyRlcTogMn0gfHwgLi4uKVxuICAgICAgICAgICAgICAgIC8vIG1lcmdpbmcgd291bGQgcHJvZHVjZSBhICRlcSAyIHdoZW4gYWN0dWFsbHkgd2Ugc2hvdWxkbid0IGV2ZXIgbWF0Y2ggYWdhaW5zdCB0aGVzZSBtZXJnZWQgY29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIC8vIG1lcmdlZCBzaG91bGQgYWx3YXlzIGNvbnRhaW4gbW9yZSB2YWx1ZXMgdG8gYmUgdmFsaWRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZW50cmllcy5wdXNoKG1lcmdlZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXNbZmllbGRdID0gZW50cmllcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBub3RcbiAgICAgICAgICByZXNbZmllbGRdID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhbbWF0Y2hlcl0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZmllbGRNYXRjaGVycyA9IHJlc1tmaWVsZF0gPSByZXNbZmllbGRdIHx8IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhtYXRjaGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG1hdGNoZXJbb3BlcmF0b3JdO1xuXG4gICAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnJGd0JyB8fCBvcGVyYXRvciA9PT0gJyRndGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VHdEd0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICckbHQnIHx8IG9wZXJhdG9yID09PSAnJGx0ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZUx0THRlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gJyRuZScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZU5lKHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnJGVxJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlRXEodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiJHJlZ2V4XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZVJlZ2V4KHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGRNYXRjaGVyc1tvcGVyYXRvcl0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXM7XG59XG5cblxuXG4vLyBjb2xsYXBzZSBsb2dpY2FsbHkgZXF1aXZhbGVudCBndC9ndGUgdmFsdWVzXG5mdW5jdGlvbiBtZXJnZUd0R3RlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGVxICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjsgLy8gZG8gbm90aGluZ1xuICB9XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZ3RlICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRndGUnKSB7XG4gICAgICBpZiAodmFsdWUgPiBmaWVsZE1hdGNoZXJzLiRndGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA+PSBmaWVsZE1hdGNoZXJzLiRndGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3RlO1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZ3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA+IGZpZWxkTWF0Y2hlcnMuJGd0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0O1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA+IGZpZWxkTWF0Y2hlcnMuJGd0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3QgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZmllbGRNYXRjaGVyc1tvcGVyYXRvcl0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vLyBjb2xsYXBzZSBsb2dpY2FsbHkgZXF1aXZhbGVudCBsdC9sdGUgdmFsdWVzXG5mdW5jdGlvbiBtZXJnZUx0THRlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGVxICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjsgLy8gZG8gbm90aGluZ1xuICB9XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kbHRlICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRsdGUnKSB7XG4gICAgICBpZiAodmFsdWUgPCBmaWVsZE1hdGNoZXJzLiRsdGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA8PSBmaWVsZE1hdGNoZXJzLiRsdGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHRlO1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kbHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGx0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA8IGZpZWxkTWF0Y2hlcnMuJGx0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0O1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA8IGZpZWxkTWF0Y2hlcnMuJGx0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZmllbGRNYXRjaGVyc1tvcGVyYXRvcl0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vLyBjb21iaW5lICRuZSB2YWx1ZXMgaW50byBvbmUgYXJyYXlcbmZ1bmN0aW9uIG1lcmdlTmUodmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKCckbmUnIGluIGZpZWxkTWF0Y2hlcnMpIHtcbiAgICAvLyB0aGVyZSBhcmUgbWFueSB0aGluZ3MgdGhpcyBjb3VsZCBcIm5vdFwiIGJlXG4gICAgZmllbGRNYXRjaGVycy4kbmUucHVzaCh2YWx1ZSk7XG4gIH0gZWxzZSB7IC8vIGRvZXNuJ3QgZXhpc3QgeWV0XG4gICAgZmllbGRNYXRjaGVycy4kbmUgPSBbdmFsdWVdO1xuICB9XG59XG5cbi8vIGFkZCAkZXEgaW50byB0aGUgbWl4XG5mdW5jdGlvbiBtZXJnZUVxKHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIC8vIHRoZXNlIGFsbCBoYXZlIGxlc3Mgc3BlY2lmaWNpdHkgdGhhbiB0aGUgJGVxXG4gIC8vIFRPRE86IGNoZWNrIGZvciB1c2VyIGVycm9ycyBoZXJlXG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndDtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0ZTtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0O1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHRlO1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kbmU7XG4gIGZpZWxkTWF0Y2hlcnMuJGVxID0gdmFsdWU7XG59XG5cbi8vIGNvbWJpbmUgJHJlZ2V4IHZhbHVlcyBpbnRvIG9uZSBhcnJheVxuZnVuY3Rpb24gbWVyZ2VSZWdleCh2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAoJyRyZWdleCcgaW4gZmllbGRNYXRjaGVycykge1xuICAgIC8vIGEgdmFsdWUgY291bGQgbWF0Y2ggbXVsdGlwbGUgcmVnZXhlc1xuICAgIGZpZWxkTWF0Y2hlcnMuJHJlZ2V4LnB1c2godmFsdWUpO1xuICB9IGVsc2UgeyAvLyBkb2Vzbid0IGV4aXN0IHlldFxuICAgIGZpZWxkTWF0Y2hlcnMuJHJlZ2V4ID0gW3ZhbHVlXTtcbiAgfVxufVxuXG4vLyM3NDU4OiBleGVjdXRlIGZ1bmN0aW9uIG1lcmdlQW5kZWRTZWxlY3RvcnMgb24gbmVzdGVkICRhbmRcbmZ1bmN0aW9uIG1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQob2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqW2ldWyckYW5kJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2ldID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhvYmpbaV1bJyRhbmQnXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IG9ialtwcm9wXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIG1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQodmFsdWUpOyAvLyA8LSByZWN1cnNpdmUgY2FsbFxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG5cbi8vIzc0NTg6IGRldGVybWluZSBpZCAkYW5kIGlzIHByZXNlbnQgaW4gc2VsZWN0b3IgKGF0IGFueSBsZXZlbClcbmZ1bmN0aW9uIGlzQW5kSW5TZWxlY3RvcihvYmosIGlzQW5kKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgaWYgKHByb3AgPT09ICckYW5kJykge1xuICAgICAgICAgICAgaXNBbmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IG9ialtwcm9wXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlzQW5kID0gaXNBbmRJblNlbGVjdG9yKHZhbHVlLCBpc0FuZCk7IC8vIDwtIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzQW5kO1xufVxuXG4vL1xuLy8gbm9ybWFsaXplIHRoZSBzZWxlY3RvclxuLy9cbmZ1bmN0aW9uIG1hc3NhZ2VTZWxlY3RvcihpbnB1dCkge1xuICB2YXIgcmVzdWx0ID0gY2xvbmUoaW5wdXQpO1xuICB2YXIgd2FzQW5kZWQgPSBmYWxzZTtcbiAgICAvLyM3NDU4OiBpZiAkYW5kIGlzIHByZXNlbnQgaW4gc2VsZWN0b3IgKGF0IGFueSBsZXZlbCkgbWVyZ2UgbmVzdGVkICRhbmRcbiAgICBpZiAoaXNBbmRJblNlbGVjdG9yKHJlc3VsdCwgZmFsc2UpKSB7XG4gICAgICAgIHJlc3VsdCA9IG1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQocmVzdWx0KTtcbiAgICAgICAgaWYgKCckYW5kJyBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG1lcmdlQW5kZWRTZWxlY3RvcnMocmVzdWx0WyckYW5kJ10pO1xuICAgICAgICB9XG4gICAgICAgIHdhc0FuZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgWyckb3InLCAnJG5vciddLmZvckVhY2goZnVuY3Rpb24gKG9yT3JOb3IpIHtcbiAgICBpZiAob3JPck5vciBpbiByZXN1bHQpIHtcbiAgICAgIC8vIG1lc3NhZ2UgZWFjaCBpbmRpdmlkdWFsIHNlbGVjdG9yXG4gICAgICAvLyBlLmcuIHtmb286ICdiYXInfSBiZWNvbWVzIHtmb286IHskZXE6ICdiYXInfX1cbiAgICAgIHJlc3VsdFtvck9yTm9yXS5mb3JFYWNoKGZ1bmN0aW9uIChzdWJTZWxlY3Rvcikge1xuICAgICAgICB2YXIgZmllbGRzID0gT2JqZWN0LmtleXMoc3ViU2VsZWN0b3IpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICAgICAgICB2YXIgbWF0Y2hlciA9IHN1YlNlbGVjdG9yW2ZpZWxkXTtcbiAgICAgICAgICBpZiAodHlwZW9mIG1hdGNoZXIgIT09ICdvYmplY3QnIHx8IG1hdGNoZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN1YlNlbGVjdG9yW2ZpZWxkXSA9IHskZXE6IG1hdGNoZXJ9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoJyRub3QnIGluIHJlc3VsdCkge1xuICAgIC8vVGhpcyBmZWVscyBhIGxpdHRsZSBsaWtlIGZvcmNpbmcsIGJ1dCBpdCB3aWxsIHdvcmsgZm9yIG5vdyxcbiAgICAvL0kgd291bGQgbGlrZSB0byBjb21lIGJhY2sgdG8gdGhpcyBhbmQgbWFrZSB0aGUgbWVyZ2luZyBvZiBzZWxlY3RvcnMgYSBsaXR0bGUgbW9yZSBnZW5lcmljXG4gICAgcmVzdWx0Wyckbm90J10gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKFtyZXN1bHRbJyRub3QnXV0pO1xuICB9XG5cbiAgdmFyIGZpZWxkcyA9IE9iamVjdC5rZXlzKHJlc3VsdCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgdmFyIG1hdGNoZXIgPSByZXN1bHRbZmllbGRdO1xuXG4gICAgaWYgKHR5cGVvZiBtYXRjaGVyICE9PSAnb2JqZWN0JyB8fCBtYXRjaGVyID09PSBudWxsKSB7XG4gICAgICBtYXRjaGVyID0geyRlcTogbWF0Y2hlcn07XG4gICAgfSBlbHNlIGlmICghd2FzQW5kZWQpIHtcbiAgICAgIC8vIFRoZXNlIHZhbHVlcyBtdXN0IGJlIHBsYWNlZCBpbiBhbiBhcnJheSBiZWNhdXNlIHRoZXNlIG9wZXJhdG9ycyBjYW4gYmUgdXNlZCBtdWx0aXBsZSB0aW1lcyBvbiB0aGUgc2FtZSBmaWVsZFxuICAgICAgLy8gd2hlbiAkYW5kIGlzIHVzZWQsIG1lcmdlQW5kZWRTZWxlY3RvcnMgdGFrZXMgY2FyZSBvZiBwdXR0aW5nIHRoZW0gaW50byBhcnJheXMsIG90aGVyd2lzZSBpdCdzIGRvbmUgaGVyZTpcbiAgICAgIGlmICgnJG5lJyBpbiBtYXRjaGVyKSB7XG4gICAgICAgIG1hdGNoZXIuJG5lID0gW21hdGNoZXIuJG5lXTtcbiAgICAgIH1cbiAgICAgIGlmICgnJHJlZ2V4JyBpbiBtYXRjaGVyKSB7XG4gICAgICAgIG1hdGNoZXIuJHJlZ2V4ID0gW21hdGNoZXIuJHJlZ2V4XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0W2ZpZWxkXSA9IG1hdGNoZXI7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwYWQoc3RyLCBwYWRXaXRoLCB1cFRvTGVuZ3RoKSB7XG4gIHZhciBwYWRkaW5nID0gJyc7XG4gIHZhciB0YXJnZXRMZW5ndGggPSB1cFRvTGVuZ3RoIC0gc3RyLmxlbmd0aDtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgd2hpbGUgKHBhZGRpbmcubGVuZ3RoIDwgdGFyZ2V0TGVuZ3RoKSB7XG4gICAgcGFkZGluZyArPSBwYWRXaXRoO1xuICB9XG4gIHJldHVybiBwYWRkaW5nO1xufVxuXG5mdW5jdGlvbiBwYWRMZWZ0KHN0ciwgcGFkV2l0aCwgdXBUb0xlbmd0aCkge1xuICB2YXIgcGFkZGluZyA9IHBhZChzdHIsIHBhZFdpdGgsIHVwVG9MZW5ndGgpO1xuICByZXR1cm4gcGFkZGluZyArIHN0cjtcbn1cblxudmFyIE1JTl9NQUdOSVRVREUgPSAtMzI0OyAvLyB2ZXJpZmllZCBieSAtTnVtYmVyLk1JTl9WQUxVRVxudmFyIE1BR05JVFVERV9ESUdJVFMgPSAzOyAvLyBkaXR0b1xudmFyIFNFUCA9ICcnOyAvLyBzZXQgdG8gJ18nIGZvciBlYXNpZXIgZGVidWdnaW5nXG5cbmZ1bmN0aW9uIGNvbGxhdGUoYSwgYikge1xuXG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBhID0gbm9ybWFsaXplS2V5KGEpO1xuICBiID0gbm9ybWFsaXplS2V5KGIpO1xuXG4gIHZhciBhaSA9IGNvbGxhdGlvbkluZGV4KGEpO1xuICB2YXIgYmkgPSBjb2xsYXRpb25JbmRleChiKTtcbiAgaWYgKChhaSAtIGJpKSAhPT0gMCkge1xuICAgIHJldHVybiBhaSAtIGJpO1xuICB9XG4gIHN3aXRjaCAodHlwZW9mIGEpIHtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIGEgLSBiO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiAxO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gc3RyaW5nQ29sbGF0ZShhLCBiKTtcbiAgfVxuICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSA/IGFycmF5Q29sbGF0ZShhLCBiKSA6IG9iamVjdENvbGxhdGUoYSwgYik7XG59XG5cbi8vIGNvdWNoIGNvbnNpZGVycyBudWxsL05hTi9JbmZpbml0eS8tSW5maW5pdHkgPT09IHVuZGVmaW5lZCxcbi8vIGZvciB0aGUgcHVycG9zZXMgb2YgbWFwcmVkdWNlIGluZGV4ZXMuIGFsc28sIGRhdGVzIGdldCBzdHJpbmdpZmllZC5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleShrZXkpIHtcbiAgc3dpdGNoICh0eXBlb2Yga2V5KSB7XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBpZiAoa2V5ID09PSBJbmZpbml0eSB8fCBrZXkgPT09IC1JbmZpbml0eSB8fCBpc05hTihrZXkpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGtleTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgdmFyIG9yaWdLZXkgPSBrZXk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgIHZhciBsZW4gPSBrZXkubGVuZ3RoO1xuICAgICAgICBrZXkgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGtleVtpXSA9IG5vcm1hbGl6ZUtleShvcmlnS2V5W2ldKTtcbiAgICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIH0gZWxzZSBpZiAoa2V5IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4ga2V5LnRvSlNPTigpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgIT09IG51bGwpIHsgLy8gZ2VuZXJpYyBvYmplY3RcbiAgICAgICAga2V5ID0ge307XG4gICAgICAgIGZvciAodmFyIGsgaW4gb3JpZ0tleSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3JpZ0tleSwgaykpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBvcmlnS2V5W2tdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGtleVtrXSA9IG5vcm1hbGl6ZUtleSh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIHJldHVybiBrZXk7XG59XG5cbmZ1bmN0aW9uIGluZGV4aWZ5KGtleSkge1xuICBpZiAoa2V5ICE9PSBudWxsKSB7XG4gICAgc3dpdGNoICh0eXBlb2Yga2V5KSB7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuIGtleSA/IDEgOiAwO1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgcmV0dXJuIG51bVRvSW5kZXhhYmxlU3RyaW5nKGtleSk7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAvLyBXZSd2ZSB0byBiZSBzdXJlIHRoYXQga2V5IGRvZXMgbm90IGNvbnRhaW4gXFx1MDAwMFxuICAgICAgICAvLyBEbyBvcmRlci1wcmVzZXJ2aW5nIHJlcGxhY2VtZW50czpcbiAgICAgICAgLy8gMCAtPiAxLCAxXG4gICAgICAgIC8vIDEgLT4gMSwgMlxuICAgICAgICAvLyAyIC0+IDIsIDJcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgICByZXR1cm4ga2V5XG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDIvZywgJ1xcdTAwMDJcXHUwMDAyJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMS9nLCAnXFx1MDAwMVxcdTAwMDInKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAwL2csICdcXHUwMDAxXFx1MDAwMScpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShrZXkpO1xuICAgICAgICB2YXIgYXJyID0gaXNBcnJheSA/IGtleSA6IE9iamVjdC5rZXlzKGtleSk7XG4gICAgICAgIHZhciBpID0gLTE7XG4gICAgICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvSW5kZXhhYmxlU3RyaW5nKGFycltpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgICAgICAgIHZhciBvYmpLZXkgPSBhcnJbaV07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9JbmRleGFibGVTdHJpbmcob2JqS2V5KSArXG4gICAgICAgICAgICAgICAgdG9JbmRleGFibGVTdHJpbmcoa2V5W29iaktleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8vIGNvbnZlcnQgdGhlIGdpdmVuIGtleSB0byBhIHN0cmluZyB0aGF0IHdvdWxkIGJlIGFwcHJvcHJpYXRlXG4vLyBmb3IgbGV4aWNhbCBzb3J0aW5nLCBlLmcuIHdpdGhpbiBhIGRhdGFiYXNlLCB3aGVyZSB0aGVcbi8vIHNvcnRpbmcgaXMgdGhlIHNhbWUgZ2l2ZW4gYnkgdGhlIGNvbGxhdGUoKSBmdW5jdGlvbi5cbmZ1bmN0aW9uIHRvSW5kZXhhYmxlU3RyaW5nKGtleSkge1xuICB2YXIgemVybyA9ICdcXHUwMDAwJztcbiAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gIHJldHVybiBjb2xsYXRpb25JbmRleChrZXkpICsgU0VQICsgaW5kZXhpZnkoa2V5KSArIHplcm87XG59XG5cbmZ1bmN0aW9uIHBhcnNlTnVtYmVyKHN0ciwgaSkge1xuICB2YXIgb3JpZ2luYWxJZHggPSBpO1xuICB2YXIgbnVtO1xuICB2YXIgemVybyA9IHN0cltpXSA9PT0gJzEnO1xuICBpZiAoemVybykge1xuICAgIG51bSA9IDA7XG4gICAgaSsrO1xuICB9IGVsc2Uge1xuICAgIHZhciBuZWcgPSBzdHJbaV0gPT09ICcwJztcbiAgICBpKys7XG4gICAgdmFyIG51bUFzU3RyaW5nID0gJyc7XG4gICAgdmFyIG1hZ0FzU3RyaW5nID0gc3RyLnN1YnN0cmluZyhpLCBpICsgTUFHTklUVURFX0RJR0lUUyk7XG4gICAgdmFyIG1hZ25pdHVkZSA9IHBhcnNlSW50KG1hZ0FzU3RyaW5nLCAxMCkgKyBNSU5fTUFHTklUVURFO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKG5lZykge1xuICAgICAgbWFnbml0dWRlID0gLW1hZ25pdHVkZTtcbiAgICB9XG4gICAgaSArPSBNQUdOSVRVREVfRElHSVRTO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB2YXIgY2ggPSBzdHJbaV07XG4gICAgICBpZiAoY2ggPT09ICdcXHUwMDAwJykge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG51bUFzU3RyaW5nICs9IGNoO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICBudW1Bc1N0cmluZyA9IG51bUFzU3RyaW5nLnNwbGl0KCcuJyk7XG4gICAgaWYgKG51bUFzU3RyaW5nLmxlbmd0aCA9PT0gMSkge1xuICAgICAgbnVtID0gcGFyc2VJbnQobnVtQXNTdHJpbmcsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIG51bSA9IHBhcnNlRmxvYXQobnVtQXNTdHJpbmdbMF0gKyAnLicgKyBudW1Bc1N0cmluZ1sxXSk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKG5lZykge1xuICAgICAgbnVtID0gbnVtIC0gMTA7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKG1hZ25pdHVkZSAhPT0gMCkge1xuICAgICAgLy8gcGFyc2VGbG9hdCBpcyBtb3JlIHJlbGlhYmxlIHRoYW4gcG93IGR1ZSB0byByb3VuZGluZyBlcnJvcnNcbiAgICAgIC8vIGUuZy4gTnVtYmVyLk1BWF9WQUxVRSB3b3VsZCByZXR1cm4gSW5maW5pdHkgaWYgd2UgZGlkXG4gICAgICAvLyBudW0gKiBNYXRoLnBvdygxMCwgbWFnbml0dWRlKTtcbiAgICAgIG51bSA9IHBhcnNlRmxvYXQobnVtICsgJ2UnICsgbWFnbml0dWRlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtudW06IG51bSwgbGVuZ3RoIDogaSAtIG9yaWdpbmFsSWR4fTtcbn1cblxuLy8gbW92ZSB1cCB0aGUgc3RhY2sgd2hpbGUgcGFyc2luZ1xuLy8gdGhpcyBmdW5jdGlvbiBtb3ZlZCBvdXRzaWRlIG9mIHBhcnNlSW5kZXhhYmxlU3RyaW5nIGZvciBwZXJmb3JtYW5jZVxuZnVuY3Rpb24gcG9wKHN0YWNrLCBtZXRhU3RhY2spIHtcbiAgdmFyIG9iaiA9IHN0YWNrLnBvcCgpO1xuXG4gIGlmIChtZXRhU3RhY2subGVuZ3RoKSB7XG4gICAgdmFyIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gICAgaWYgKG9iaiA9PT0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQpIHtcbiAgICAgIC8vIHBvcHBpbmcgYSBtZXRhLWVsZW1lbnQsIGUuZy4gYW4gb2JqZWN0IHdob3NlIHZhbHVlIGlzIGFub3RoZXIgb2JqZWN0XG4gICAgICBtZXRhU3RhY2sucG9wKCk7XG4gICAgICBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICB2YXIgZWxlbWVudCA9IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50O1xuICAgIHZhciBsYXN0RWxlbWVudEluZGV4ID0gbGFzdE1ldGFFbGVtZW50LmluZGV4O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgICBlbGVtZW50LnB1c2gob2JqKTtcbiAgICB9IGVsc2UgaWYgKGxhc3RFbGVtZW50SW5kZXggPT09IHN0YWNrLmxlbmd0aCAtIDIpIHsgLy8gb2JqIHdpdGgga2V5K3ZhbHVlXG4gICAgICB2YXIga2V5ID0gc3RhY2sucG9wKCk7XG4gICAgICBlbGVtZW50W2tleV0gPSBvYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YWNrLnB1c2gob2JqKTsgLy8gb2JqIHdpdGgga2V5IG9ubHlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VJbmRleGFibGVTdHJpbmcoc3RyKSB7XG4gIHZhciBzdGFjayA9IFtdO1xuICB2YXIgbWV0YVN0YWNrID0gW107IC8vIHN0YWNrIGZvciBhcnJheXMgYW5kIG9iamVjdHNcbiAgdmFyIGkgPSAwO1xuXG4gIC8qZXNsaW50IG5vLWNvbnN0YW50LWNvbmRpdGlvbjogW1wiZXJyb3JcIiwgeyBcImNoZWNrTG9vcHNcIjogZmFsc2UgfV0qL1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBjb2xsYXRpb25JbmRleCA9IHN0cltpKytdO1xuICAgIGlmIChjb2xsYXRpb25JbmRleCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICBpZiAoc3RhY2subGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzdGFjay5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvcChzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoY29sbGF0aW9uSW5kZXgpIHtcbiAgICAgIGNhc2UgJzEnOlxuICAgICAgICBzdGFjay5wdXNoKG51bGwpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzInOlxuICAgICAgICBzdGFjay5wdXNoKHN0cltpXSA9PT0gJzEnKTtcbiAgICAgICAgaSsrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzMnOlxuICAgICAgICB2YXIgcGFyc2VkTnVtID0gcGFyc2VOdW1iZXIoc3RyLCBpKTtcbiAgICAgICAgc3RhY2sucHVzaChwYXJzZWROdW0ubnVtKTtcbiAgICAgICAgaSArPSBwYXJzZWROdW0ubGVuZ3RoO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzQnOlxuICAgICAgICB2YXIgcGFyc2VkU3RyID0gJyc7XG4gICAgICAgIC8qZXNsaW50IG5vLWNvbnN0YW50LWNvbmRpdGlvbjogW1wiZXJyb3JcIiwgeyBcImNoZWNrTG9vcHNcIjogZmFsc2UgfV0qL1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIHZhciBjaCA9IHN0cltpXTtcbiAgICAgICAgICBpZiAoY2ggPT09ICdcXHUwMDAwJykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcnNlZFN0ciArPSBjaDtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGVyZm9ybSB0aGUgcmV2ZXJzZSBvZiB0aGUgb3JkZXItcHJlc2VydmluZyByZXBsYWNlbWVudFxuICAgICAgICAvLyBhbGdvcml0aG0gKHNlZSBhYm92ZSlcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgICBwYXJzZWRTdHIgPSBwYXJzZWRTdHIucmVwbGFjZSgvXFx1MDAwMVxcdTAwMDEvZywgJ1xcdTAwMDAnKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAxXFx1MDAwMi9nLCAnXFx1MDAwMScpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDJcXHUwMDAyL2csICdcXHUwMDAyJyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgICBzdGFjay5wdXNoKHBhcnNlZFN0cik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNSc6XG4gICAgICAgIHZhciBhcnJheUVsZW1lbnQgPSB7IGVsZW1lbnQ6IFtdLCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2goYXJyYXlFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChhcnJheUVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzYnOlxuICAgICAgICB2YXIgb2JqRWxlbWVudCA9IHsgZWxlbWVudDoge30sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChvYmpFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChvYmpFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdiYWQgY29sbGF0aW9uSW5kZXggb3IgdW5leHBlY3RlZGx5IHJlYWNoZWQgZW5kIG9mIGlucHV0OiAnICtcbiAgICAgICAgICAgIGNvbGxhdGlvbkluZGV4KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXJyYXlDb2xsYXRlKGEsIGIpIHtcbiAgdmFyIGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgc29ydCA9IGNvbGxhdGUoYVtpXSwgYltpXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gKGEubGVuZ3RoID09PSBiLmxlbmd0aCkgPyAwIDpcbiAgICAoYS5sZW5ndGggPiBiLmxlbmd0aCkgPyAxIDogLTE7XG59XG5mdW5jdGlvbiBzdHJpbmdDb2xsYXRlKGEsIGIpIHtcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGFsZWhhcnZleS9wb3VjaGRiL2lzc3Vlcy80MFxuICAvLyBUaGlzIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSBDb3VjaERCIGltcGxlbWVudGF0aW9uLCBidXQgaXRzIHRoZVxuICAvLyBiZXN0IHdlIGNhbiBkbyBmb3Igbm93XG4gIHJldHVybiAoYSA9PT0gYikgPyAwIDogKChhID4gYikgPyAxIDogLTEpO1xufVxuZnVuY3Rpb24gb2JqZWN0Q29sbGF0ZShhLCBiKSB7XG4gIHZhciBhayA9IE9iamVjdC5rZXlzKGEpLCBiayA9IE9iamVjdC5rZXlzKGIpO1xuICB2YXIgbGVuID0gTWF0aC5taW4oYWsubGVuZ3RoLCBiay5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgLy8gRmlyc3Qgc29ydCB0aGUga2V5c1xuICAgIHZhciBzb3J0ID0gY29sbGF0ZShha1tpXSwgYmtbaV0pO1xuICAgIGlmIChzb3J0ICE9PSAwKSB7XG4gICAgICByZXR1cm4gc29ydDtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGtleXMgYXJlIGVxdWFsIHNvcnQgdGhlIHZhbHVlc1xuICAgIHNvcnQgPSBjb2xsYXRlKGFbYWtbaV1dLCBiW2JrW2ldXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cblxuICB9XG4gIHJldHVybiAoYWsubGVuZ3RoID09PSBiay5sZW5ndGgpID8gMCA6XG4gICAgKGFrLmxlbmd0aCA+IGJrLmxlbmd0aCkgPyAxIDogLTE7XG59XG4vLyBUaGUgY29sbGF0aW9uIGlzIGRlZmluZWQgYnkgZXJsYW5ncyBvcmRlcmVkIHRlcm1zXG4vLyB0aGUgYXRvbXMgbnVsbCwgdHJ1ZSwgZmFsc2UgY29tZSBmaXJzdCwgdGhlbiBudW1iZXJzLCBzdHJpbmdzLFxuLy8gYXJyYXlzLCB0aGVuIG9iamVjdHNcbi8vIG51bGwvdW5kZWZpbmVkL05hTi9JbmZpbml0eS8tSW5maW5pdHkgYXJlIGFsbCBjb25zaWRlcmVkIG51bGxcbmZ1bmN0aW9uIGNvbGxhdGlvbkluZGV4KHgpIHtcbiAgdmFyIGlkID0gWydib29sZWFuJywgJ251bWJlcicsICdzdHJpbmcnLCAnb2JqZWN0J107XG4gIHZhciBpZHggPSBpZC5pbmRleE9mKHR5cGVvZiB4KTtcbiAgLy9mYWxzZSBpZiAtMSBvdGhlcndpc2UgdHJ1ZSwgYnV0IGZhc3QhISEhMVxuICBpZiAofmlkeCkge1xuICAgIGlmICh4ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICAgIHJldHVybiA1O1xuICAgIH1cbiAgICByZXR1cm4gaWR4IDwgMyA/IChpZHggKyAyKSA6IChpZHggKyAzKTtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgIHJldHVybiA1O1xuICB9XG59XG5cbi8vIGNvbnZlcnNpb246XG4vLyB4IHl5eSB6ei4uLnp6XG4vLyB4ID0gMCBmb3IgbmVnYXRpdmUsIDEgZm9yIDAsIDIgZm9yIHBvc2l0aXZlXG4vLyB5ID0gZXhwb25lbnQgKGZvciBuZWdhdGl2ZSBudW1iZXJzIG5lZ2F0ZWQpIG1vdmVkIHNvIHRoYXQgaXQncyA+PSAwXG4vLyB6ID0gbWFudGlzc2VcbmZ1bmN0aW9uIG51bVRvSW5kZXhhYmxlU3RyaW5nKG51bSkge1xuXG4gIGlmIChudW0gPT09IDApIHtcbiAgICByZXR1cm4gJzEnO1xuICB9XG5cbiAgLy8gY29udmVydCBudW1iZXIgdG8gZXhwb25lbnRpYWwgZm9ybWF0IGZvciBlYXNpZXIgYW5kXG4gIC8vIG1vcmUgc3VjY2luY3Qgc3RyaW5nIHNvcnRpbmdcbiAgdmFyIGV4cEZvcm1hdCA9IG51bS50b0V4cG9uZW50aWFsKCkuc3BsaXQoL2VcXCs/Lyk7XG4gIHZhciBtYWduaXR1ZGUgPSBwYXJzZUludChleHBGb3JtYXRbMV0sIDEwKTtcblxuICB2YXIgbmVnID0gbnVtIDwgMDtcblxuICB2YXIgcmVzdWx0ID0gbmVnID8gJzAnIDogJzInO1xuXG4gIC8vIGZpcnN0IHNvcnQgYnkgbWFnbml0dWRlXG4gIC8vIGl0J3MgZWFzaWVyIGlmIGFsbCBtYWduaXR1ZGVzIGFyZSBwb3NpdGl2ZVxuICB2YXIgbWFnRm9yQ29tcGFyaXNvbiA9ICgobmVnID8gLW1hZ25pdHVkZSA6IG1hZ25pdHVkZSkgLSBNSU5fTUFHTklUVURFKTtcbiAgdmFyIG1hZ1N0cmluZyA9IHBhZExlZnQoKG1hZ0ZvckNvbXBhcmlzb24pLnRvU3RyaW5nKCksICcwJywgTUFHTklUVURFX0RJR0lUUyk7XG5cbiAgcmVzdWx0ICs9IFNFUCArIG1hZ1N0cmluZztcblxuICAvLyB0aGVuIHNvcnQgYnkgdGhlIGZhY3RvclxuICB2YXIgZmFjdG9yID0gTWF0aC5hYnMocGFyc2VGbG9hdChleHBGb3JtYXRbMF0pKTsgLy8gWzEuLjEwKVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAobmVnKSB7IC8vIGZvciBuZWdhdGl2ZSByZXZlcnNlIG9yZGVyaW5nXG4gICAgZmFjdG9yID0gMTAgLSBmYWN0b3I7XG4gIH1cblxuICB2YXIgZmFjdG9yU3RyID0gZmFjdG9yLnRvRml4ZWQoMjApO1xuXG4gIC8vIHN0cmlwIHplcm9zIGZyb20gdGhlIGVuZFxuICBmYWN0b3JTdHIgPSBmYWN0b3JTdHIucmVwbGFjZSgvXFwuPzArJC8sICcnKTtcblxuICByZXN1bHQgKz0gU0VQICsgZmFjdG9yU3RyO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGNyZWF0ZSBhIGNvbXBhcmF0b3IgYmFzZWQgb24gdGhlIHNvcnQgb2JqZWN0XG5mdW5jdGlvbiBjcmVhdGVGaWVsZFNvcnRlcihzb3J0KSB7XG5cbiAgZnVuY3Rpb24gZ2V0RmllbGRWYWx1ZXNBc0FycmF5KGRvYykge1xuICAgIHJldHVybiBzb3J0Lm1hcChmdW5jdGlvbiAoc29ydGluZykge1xuICAgICAgdmFyIGZpZWxkTmFtZSA9IGdldEtleShzb3J0aW5nKTtcbiAgICAgIHZhciBwYXJzZWRGaWVsZCA9IHBhcnNlRmllbGQoZmllbGROYW1lKTtcbiAgICAgIHZhciBkb2NGaWVsZFZhbHVlID0gZ2V0RmllbGRGcm9tRG9jKGRvYywgcGFyc2VkRmllbGQpO1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFSb3csIGJSb3cpIHtcbiAgICB2YXIgYUZpZWxkVmFsdWVzID0gZ2V0RmllbGRWYWx1ZXNBc0FycmF5KGFSb3cuZG9jKTtcbiAgICB2YXIgYkZpZWxkVmFsdWVzID0gZ2V0RmllbGRWYWx1ZXNBc0FycmF5KGJSb3cuZG9jKTtcbiAgICB2YXIgY29sbGF0aW9uID0gY29sbGF0ZShhRmllbGRWYWx1ZXMsIGJGaWVsZFZhbHVlcyk7XG4gICAgaWYgKGNvbGxhdGlvbiAhPT0gMCkge1xuICAgICAgcmV0dXJuIGNvbGxhdGlvbjtcbiAgICB9XG4gICAgLy8gdGhpcyBpcyB3aGF0IG1hbmdvIHNlZW1zIHRvIGRvXG4gICAgcmV0dXJuIGNvbXBhcmUkMShhUm93LmRvYy5faWQsIGJSb3cuZG9jLl9pZCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZpbHRlckluTWVtb3J5RmllbGRzKHJvd3MsIHJlcXVlc3REZWYsIGluTWVtb3J5RmllbGRzKSB7XG4gIHJvd3MgPSByb3dzLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG4gICAgcmV0dXJuIHJvd0ZpbHRlcihyb3cuZG9jLCByZXF1ZXN0RGVmLnNlbGVjdG9yLCBpbk1lbW9yeUZpZWxkcyk7XG4gIH0pO1xuXG4gIGlmIChyZXF1ZXN0RGVmLnNvcnQpIHtcbiAgICAvLyBpbi1tZW1vcnkgc29ydFxuICAgIHZhciBmaWVsZFNvcnRlciA9IGNyZWF0ZUZpZWxkU29ydGVyKHJlcXVlc3REZWYuc29ydCk7XG4gICAgcm93cyA9IHJvd3Muc29ydChmaWVsZFNvcnRlcik7XG4gICAgaWYgKHR5cGVvZiByZXF1ZXN0RGVmLnNvcnRbMF0gIT09ICdzdHJpbmcnICYmXG4gICAgICAgIGdldFZhbHVlKHJlcXVlc3REZWYuc29ydFswXSkgPT09ICdkZXNjJykge1xuICAgICAgcm93cyA9IHJvd3MucmV2ZXJzZSgpO1xuICAgIH1cbiAgfVxuXG4gIGlmICgnbGltaXQnIGluIHJlcXVlc3REZWYgfHwgJ3NraXAnIGluIHJlcXVlc3REZWYpIHtcbiAgICAvLyBoYXZlIHRvIGRvIHRoZSBsaW1pdCBpbi1tZW1vcnlcbiAgICB2YXIgc2tpcCA9IHJlcXVlc3REZWYuc2tpcCB8fCAwO1xuICAgIHZhciBsaW1pdCA9ICgnbGltaXQnIGluIHJlcXVlc3REZWYgPyByZXF1ZXN0RGVmLmxpbWl0IDogcm93cy5sZW5ndGgpICsgc2tpcDtcbiAgICByb3dzID0gcm93cy5zbGljZShza2lwLCBsaW1pdCk7XG4gIH1cbiAgcmV0dXJuIHJvd3M7XG59XG5cbmZ1bmN0aW9uIHJvd0ZpbHRlcihkb2MsIHNlbGVjdG9yLCBpbk1lbW9yeUZpZWxkcykge1xuICByZXR1cm4gaW5NZW1vcnlGaWVsZHMuZXZlcnkoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgdmFyIG1hdGNoZXIgPSBzZWxlY3RvcltmaWVsZF07XG4gICAgdmFyIHBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChmaWVsZCk7XG4gICAgdmFyIGRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jLCBwYXJzZWRGaWVsZCk7XG4gICAgaWYgKGlzQ29tYmluYXRpb25hbEZpZWxkKGZpZWxkKSkge1xuICAgICAgcmV0dXJuIG1hdGNoQ29taW5hdGlvbmFsU2VsZWN0b3IoZmllbGQsIG1hdGNoZXIsIGRvYyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IobWF0Y2hlciwgZG9jLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBtYXRjaFNlbGVjdG9yKG1hdGNoZXIsIGRvYywgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgaWYgKCFtYXRjaGVyKSB7XG4gICAgLy8gbm8gZmlsdGVyaW5nIG5lY2Vzc2FyeTsgdGhpcyBmaWVsZCBpcyBqdXN0IG5lZWRlZCBmb3Igc29ydGluZ1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gaXMgbWF0Y2hlciBhbiBvYmplY3QsIGlmIHNvIGNvbnRpbnVlIHJlY3Vyc2lvblxuICBpZiAodHlwZW9mIG1hdGNoZXIgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hdGNoZXIpLmV2ZXJ5KGZ1bmN0aW9uIChtYXliZVVzZXJPcGVyYXRvcikge1xuICAgICAgdmFyIHVzZXJWYWx1ZSA9IG1hdGNoZXJbIG1heWJlVXNlck9wZXJhdG9yIF07XG4gICAgICAvLyBleHBsaWNpdCBvcGVyYXRvclxuICAgICAgaWYgKG1heWJlVXNlck9wZXJhdG9yLmluZGV4T2YoXCIkXCIpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBtYXRjaChtYXliZVVzZXJPcGVyYXRvciwgZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzdWJQYXJzZWRGaWVsZCA9IHBhcnNlRmllbGQobWF5YmVVc2VyT3BlcmF0b3IpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBkb2NGaWVsZFZhbHVlID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICB0eXBlb2YgdXNlclZhbHVlICE9PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgc3ViUGFyc2VkRmllbGQubGVuZ3RoID4gMFxuICAgICAgICApIHtcbiAgICAgICAgICAvLyB0aGUgZmllbGQgZG9lcyBub3QgZXhpc3QsIHJldHVybiBvciBnZXRGaWVsZEZyb21Eb2Mgd2lsbCB0aHJvd1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdWJEb2NGaWVsZFZhbHVlID0gZ2V0RmllbGRGcm9tRG9jKGRvY0ZpZWxkVmFsdWUsIHN1YlBhcnNlZEZpZWxkKTtcblxuICAgICAgICBpZiAodHlwZW9mIHVzZXJWYWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIC8vIGZpZWxkIHZhbHVlIGlzIGFuIG9iamVjdCB0aGF0IG1pZ2h0IGNvbnRhaW4gbW9yZSBvcGVyYXRvcnNcbiAgICAgICAgICByZXR1cm4gbWF0Y2hTZWxlY3Rvcih1c2VyVmFsdWUsIGRvYywgcGFyc2VkRmllbGQsIHN1YkRvY0ZpZWxkVmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW1wbGljaXQgb3BlcmF0b3JcbiAgICAgICAgcmV0dXJuIG1hdGNoKFwiJGVxXCIsIGRvYywgdXNlclZhbHVlLCBzdWJQYXJzZWRGaWVsZCwgc3ViRG9jRmllbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBubyBtb3JlIGRlcHRoLCBObyBuZWVkIHRvIHJlY3Vyc2UgZnVydGhlclxuICByZXR1cm4gbWF0Y2hlciA9PT0gZG9jRmllbGRWYWx1ZTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hDb21pbmF0aW9uYWxTZWxlY3RvcihmaWVsZCwgbWF0Y2hlciwgZG9jKSB7XG5cbiAgaWYgKGZpZWxkID09PSAnJG9yJykge1xuICAgIHJldHVybiBtYXRjaGVyLnNvbWUoZnVuY3Rpb24gKG9yTWF0Y2hlcnMpIHtcbiAgICAgIHJldHVybiByb3dGaWx0ZXIoZG9jLCBvck1hdGNoZXJzLCBPYmplY3Qua2V5cyhvck1hdGNoZXJzKSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoZmllbGQgPT09ICckbm90Jykge1xuICAgIHJldHVybiAhcm93RmlsdGVyKGRvYywgbWF0Y2hlciwgT2JqZWN0LmtleXMobWF0Y2hlcikpO1xuICB9XG5cbiAgLy9gJG5vcmBcbiAgcmV0dXJuICFtYXRjaGVyLmZpbmQoZnVuY3Rpb24gKG9yTWF0Y2hlcnMpIHtcbiAgICByZXR1cm4gcm93RmlsdGVyKGRvYywgb3JNYXRjaGVycywgT2JqZWN0LmtleXMob3JNYXRjaGVycykpO1xuICB9KTtcblxufVxuXG5mdW5jdGlvbiBtYXRjaCh1c2VyT3BlcmF0b3IsIGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICBpZiAoIW1hdGNoZXJzW3VzZXJPcGVyYXRvcl0pIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBvcGVyYXRvciBcIicgKyB1c2VyT3BlcmF0b3IgK1xuICAgICAgJ1wiIC0gc2hvdWxkIGJlIG9uZSBvZiAkZXEsICRsdGUsICRsdCwgJGd0LCAkZ3RlLCAkZXhpc3RzLCAkbmUsICRpbiwgJyArXG4gICAgICAnJG5pbiwgJHNpemUsICRtb2QsICRyZWdleCwgJGVsZW1NYXRjaCwgJHR5cGUsICRhbGxNYXRjaCBvciAkYWxsJyk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXJzW3VzZXJPcGVyYXRvcl0oZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIGRvY0ZpZWxkVmFsdWUgIT09ICd1bmRlZmluZWQnICYmIGRvY0ZpZWxkVmFsdWUgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIGRvY0ZpZWxkVmFsdWUgIT09ICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBtb2RGaWVsZChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBkb2NGaWVsZFZhbHVlICE9PSBcIm51bWJlclwiIHx8XG4gICAgcGFyc2VJbnQoZG9jRmllbGRWYWx1ZSwgMTApICE9PSBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGRpdmlzb3IgPSB1c2VyVmFsdWVbMF07XG4gIHZhciBtb2QgPSB1c2VyVmFsdWVbMV07XG5cbiAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUgJSBkaXZpc29yID09PSBtb2Q7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnNWYWx1ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgcmV0dXJuIHVzZXJWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICBpZiAoZG9jRmllbGRWYWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uIChkb2NGaWVsZFZhbHVlSXRlbSkge1xuICAgICAgICByZXR1cm4gY29sbGF0ZSh2YWwsIGRvY0ZpZWxkVmFsdWVJdGVtKSA9PT0gMDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjb2xsYXRlKHZhbCwgZG9jRmllbGRWYWx1ZSkgPT09IDA7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zQWxsVmFsdWVzKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICByZXR1cm4gdXNlclZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uIChkb2NGaWVsZFZhbHVlSXRlbSkge1xuICAgICAgcmV0dXJuIGNvbGxhdGUodmFsLCBkb2NGaWVsZFZhbHVlSXRlbSkgPT09IDA7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhcnJheVNpemUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHJldHVybiBkb2NGaWVsZFZhbHVlLmxlbmd0aCA9PT0gdXNlclZhbHVlO1xufVxuXG5mdW5jdGlvbiByZWdleE1hdGNoKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICB2YXIgcmUgPSBuZXcgUmVnRXhwKHVzZXJWYWx1ZSk7XG5cbiAgcmV0dXJuIHJlLnRlc3QoZG9jRmllbGRWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHR5cGVNYXRjaChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcblxuICBzd2l0Y2ggKHVzZXJWYWx1ZSkge1xuICAgIGNhc2UgJ251bGwnOlxuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUgPT09IG51bGw7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gdHlwZW9mIChkb2NGaWVsZFZhbHVlKSA9PT0gJ2Jvb2xlYW4nO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gdHlwZW9mIChkb2NGaWVsZFZhbHVlKSA9PT0gJ251bWJlcic7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnc3RyaW5nJztcbiAgICBjYXNlICdhcnJheSc6XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZSBpbnN0YW5jZW9mIEFycmF5O1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICByZXR1cm4gKHt9KS50b1N0cmluZy5jYWxsKGRvY0ZpZWxkVmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJztcbiAgfVxufVxuXG52YXIgbWF0Y2hlcnMgPSB7XG5cbiAgJyRlbGVtTWF0Y2gnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkb2NGaWVsZFZhbHVlWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiByb3dGaWx0ZXIodmFsLCB1c2VyVmFsdWUsIE9iamVjdC5rZXlzKHVzZXJWYWx1ZSkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICByZXR1cm4gbWF0Y2hTZWxlY3Rvcih1c2VyVmFsdWUsIGRvYywgcGFyc2VkRmllbGQsIHZhbCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgJyRhbGxNYXRjaCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChkb2NGaWVsZFZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZG9jRmllbGRWYWx1ZVswXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHJvd0ZpbHRlcih2YWwsIHVzZXJWYWx1ZSwgT2JqZWN0LmtleXModXNlclZhbHVlKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgICByZXR1cm4gbWF0Y2hTZWxlY3Rvcih1c2VyVmFsdWUsIGRvYywgcGFyc2VkRmllbGQsIHZhbCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgJyRlcSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPT09IDA7XG4gIH0sXG5cbiAgJyRndGUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpID49IDA7XG4gIH0sXG5cbiAgJyRndCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPiAwO1xuICB9LFxuXG4gICckbHRlJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA8PSAwO1xuICB9LFxuXG4gICckbHQnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIDwgMDtcbiAgfSxcblxuICAnJGV4aXN0cyc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICAvL2EgZmllbGQgdGhhdCBpcyBudWxsIGlzIHN0aWxsIGNvbnNpZGVyZWQgdG8gZXhpc3RcbiAgICBpZiAodXNlclZhbHVlKSB7XG4gICAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gIWZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSk7XG4gIH0sXG5cbiAgJyRtb2QnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmIG1vZEZpZWxkKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRuZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gdXNlclZhbHVlLmV2ZXJ5KGZ1bmN0aW9uIChuZVZhbHVlKSB7XG4gICAgICByZXR1cm4gY29sbGF0ZShkb2NGaWVsZFZhbHVlLCBuZVZhbHVlKSAhPT0gMDtcbiAgICB9KTtcbiAgfSxcbiAgJyRpbic6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgYXJyYXlDb250YWluc1ZhbHVlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRuaW4nOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmICFhcnJheUNvbnRhaW5zVmFsdWUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJHNpemUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmXG4gICAgICBBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpICYmXG4gICAgICBhcnJheVNpemUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJGFsbCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSAmJiBhcnJheUNvbnRhaW5zQWxsVmFsdWVzKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRyZWdleCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIHR5cGVvZiBkb2NGaWVsZFZhbHVlID09IFwic3RyaW5nXCIgJiZcbiAgICAgIHVzZXJWYWx1ZS5ldmVyeShmdW5jdGlvbiAocmVnZXhWYWx1ZSkge1xuICAgICAgICByZXR1cm4gcmVnZXhNYXRjaChkb2NGaWVsZFZhbHVlLCByZWdleFZhbHVlKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gICckdHlwZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZU1hdGNoKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH1cbn07XG5cbi8vIHJldHVybiB0cnVlIGlmIHRoZSBnaXZlbiBkb2MgbWF0Y2hlcyB0aGUgc3VwcGxpZWQgc2VsZWN0b3JcbmZ1bmN0aW9uIG1hdGNoZXNTZWxlY3Rvcihkb2MsIHNlbGVjdG9yKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSAnb2JqZWN0Jykge1xuICAgIC8vIG1hdGNoIHRoZSBDb3VjaERCIGVycm9yIG1lc3NhZ2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdG9yIGVycm9yOiBleHBlY3RlZCBhIEpTT04gb2JqZWN0Jyk7XG4gIH1cblxuICBzZWxlY3RvciA9IG1hc3NhZ2VTZWxlY3RvcihzZWxlY3Rvcik7XG4gIHZhciByb3cgPSB7XG4gICAgJ2RvYyc6IGRvY1xuICB9O1xuXG4gIHZhciByb3dzTWF0Y2hlZCA9IGZpbHRlckluTWVtb3J5RmllbGRzKFtyb3ddLCB7ICdzZWxlY3Rvcic6IHNlbGVjdG9yIH0sIE9iamVjdC5rZXlzKHNlbGVjdG9yKSk7XG4gIHJldHVybiByb3dzTWF0Y2hlZCAmJiByb3dzTWF0Y2hlZC5sZW5ndGggPT09IDE7XG59XG5cbmZ1bmN0aW9uIGV2YWxGaWx0ZXIoaW5wdXQpIHtcbiAgcmV0dXJuIHNjb3BlRXZhbCgnXCJ1c2Ugc3RyaWN0XCI7XFxucmV0dXJuICcgKyBpbnB1dCArICc7Jywge30pO1xufVxuXG5mdW5jdGlvbiBldmFsVmlldyhpbnB1dCkge1xuICB2YXIgY29kZSA9IFtcbiAgICAncmV0dXJuIGZ1bmN0aW9uKGRvYykgeycsXG4gICAgJyAgXCJ1c2Ugc3RyaWN0XCI7JyxcbiAgICAnICB2YXIgZW1pdHRlZCA9IGZhbHNlOycsXG4gICAgJyAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoYSwgYikgeycsXG4gICAgJyAgICBlbWl0dGVkID0gdHJ1ZTsnLFxuICAgICcgIH07JyxcbiAgICAnICB2YXIgdmlldyA9ICcgKyBpbnB1dCArICc7JyxcbiAgICAnICB2aWV3KGRvYyk7JyxcbiAgICAnICBpZiAoZW1pdHRlZCkgeycsXG4gICAgJyAgICByZXR1cm4gdHJ1ZTsnLFxuICAgICcgIH0nLFxuICAgICd9OydcbiAgXS5qb2luKCdcXG4nKTtcblxuICByZXR1cm4gc2NvcGVFdmFsKGNvZGUsIHt9KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGUob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICBpZiAob3B0cy5maWx0ZXIgJiYgb3B0cy5maWx0ZXIgIT09ICdfc2VsZWN0b3InKSB7XG4gICAgICB2YXIgZmlsdGVyTmFtZSA9IHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycgP1xuICAgICAgICBvcHRzLmZpbHRlciA6ICdmdW5jdGlvbic7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCdzZWxlY3RvciBpbnZhbGlkIGZvciBmaWx0ZXIgXCInICsgZmlsdGVyTmFtZSArICdcIicpKTtcbiAgICB9XG4gIH1cbiAgY2FsbGJhY2soKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplKG9wdHMpIHtcbiAgaWYgKG9wdHMudmlldyAmJiAhb3B0cy5maWx0ZXIpIHtcbiAgICBvcHRzLmZpbHRlciA9ICdfdmlldyc7XG4gIH1cblxuICBpZiAob3B0cy5zZWxlY3RvciAmJiAhb3B0cy5maWx0ZXIpIHtcbiAgICBvcHRzLmZpbHRlciA9ICdfc2VsZWN0b3InO1xuICB9XG5cbiAgaWYgKG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAob3B0cy5maWx0ZXIgPT09ICdfdmlldycpIHtcbiAgICAgIG9wdHMudmlldyA9IG5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLnZpZXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRzLmZpbHRlciA9IG5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLmZpbHRlcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZEZpbHRlcihjaGFuZ2VzSGFuZGxlciwgb3B0cykge1xuICByZXR1cm4gb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJyAmJlxuICAgICFvcHRzLmRvY19pZHMgJiYgIWlzUmVtb3RlKGNoYW5nZXNIYW5kbGVyLmRiKTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyKGNoYW5nZXNIYW5kbGVyLCBvcHRzKSB7XG4gIHZhciBjYWxsYmFjayA9IG9wdHMuY29tcGxldGU7XG4gIGlmIChvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgIGlmICghb3B0cy52aWV3IHx8IHR5cGVvZiBvcHRzLnZpZXcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsXG4gICAgICAgICdgdmlld2AgZmlsdGVyIHBhcmFtZXRlciBub3QgZm91bmQgb3IgaW52YWxpZC4nKTtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICAvLyBmZXRjaCBhIHZpZXcgZnJvbSBhIGRlc2lnbiBkb2MsIG1ha2UgaXQgYmVoYXZlIGxpa2UgYSBmaWx0ZXJcbiAgICB2YXIgdmlld05hbWUgPSBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLnZpZXcpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmRiLmdldCgnX2Rlc2lnbi8nICsgdmlld05hbWVbMF0sIGZ1bmN0aW9uIChlcnIsIGRkb2MpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGNoYW5nZXNIYW5kbGVyLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UoZXJyKSk7XG4gICAgICB9XG4gICAgICB2YXIgbWFwRnVuID0gZGRvYyAmJiBkZG9jLnZpZXdzICYmIGRkb2Mudmlld3Nbdmlld05hbWVbMV1dICYmXG4gICAgICAgIGRkb2Mudmlld3Nbdmlld05hbWVbMV1dLm1hcDtcbiAgICAgIGlmICghbWFwRnVuKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQyxcbiAgICAgICAgICAoZGRvYy52aWV3cyA/ICdtaXNzaW5nIGpzb24ga2V5OiAnICsgdmlld05hbWVbMV0gOlxuICAgICAgICAgICAgJ21pc3NpbmcganNvbiBrZXk6IHZpZXdzJykpKTtcbiAgICAgIH1cbiAgICAgIG9wdHMuZmlsdGVyID0gZXZhbFZpZXcobWFwRnVuKTtcbiAgICAgIGNoYW5nZXNIYW5kbGVyLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgb3B0cy5maWx0ZXIgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlc1NlbGVjdG9yKGRvYywgb3B0cy5zZWxlY3Rvcik7XG4gICAgfTtcbiAgICBjaGFuZ2VzSGFuZGxlci5kb0NoYW5nZXMob3B0cyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gZmV0Y2ggYSBmaWx0ZXIgZnJvbSBhIGRlc2lnbiBkb2NcbiAgICB2YXIgZmlsdGVyTmFtZSA9IHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMuZmlsdGVyKTtcbiAgICBjaGFuZ2VzSGFuZGxlci5kYi5nZXQoJ19kZXNpZ24vJyArIGZpbHRlck5hbWVbMF0sIGZ1bmN0aW9uIChlcnIsIGRkb2MpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGNoYW5nZXNIYW5kbGVyLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UoZXJyKSk7XG4gICAgICB9XG4gICAgICB2YXIgZmlsdGVyRnVuID0gZGRvYyAmJiBkZG9jLmZpbHRlcnMgJiYgZGRvYy5maWx0ZXJzW2ZpbHRlck5hbWVbMV1dO1xuICAgICAgaWYgKCFmaWx0ZXJGdW4pIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLFxuICAgICAgICAgICgoZGRvYyAmJiBkZG9jLmZpbHRlcnMpID8gJ21pc3NpbmcganNvbiBrZXk6ICcgKyBmaWx0ZXJOYW1lWzFdXG4gICAgICAgICAgICA6ICdtaXNzaW5nIGpzb24ga2V5OiBmaWx0ZXJzJykpKTtcbiAgICAgIH1cbiAgICAgIG9wdHMuZmlsdGVyID0gZXZhbEZpbHRlcihmaWx0ZXJGdW4pO1xuICAgICAgY2hhbmdlc0hhbmRsZXIuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5Q2hhbmdlc0ZpbHRlclBsdWdpbihQb3VjaERCKSB7XG4gIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4gPSB7XG4gICAgdmFsaWRhdGU6IHZhbGlkYXRlLFxuICAgIG5vcm1hbGl6ZTogbm9ybWFsaXplLFxuICAgIHNob3VsZEZpbHRlcjogc2hvdWxkRmlsdGVyLFxuICAgIGZpbHRlcjogZmlsdGVyXG4gIH07XG59XG5cbi8vIFRPRE86IHJlbW92ZSBmcm9tIHBvdWNoZGItY29yZSAoYnJlYWtpbmcpXG5Qb3VjaERCLnBsdWdpbihhcHBseUNoYW5nZXNGaWx0ZXJQbHVnaW4pO1xuXG5Qb3VjaERCLnZlcnNpb24gPSB2ZXJzaW9uO1xuXG5mdW5jdGlvbiB0b09iamVjdChhcnJheSkge1xuICByZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uIChvYmosIGl0ZW0pIHtcbiAgICBvYmpbaXRlbV0gPSB0cnVlO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcbn1cbi8vIExpc3Qgb2YgdG9wIGxldmVsIHJlc2VydmVkIHdvcmRzIGZvciBkb2NcbnZhciByZXNlcnZlZFdvcmRzID0gdG9PYmplY3QoW1xuICAnX2lkJyxcbiAgJ19yZXYnLFxuICAnX2FjY2VzcycsXG4gICdfYXR0YWNobWVudHMnLFxuICAnX2RlbGV0ZWQnLFxuICAnX3JldmlzaW9ucycsXG4gICdfcmV2c19pbmZvJyxcbiAgJ19jb25mbGljdHMnLFxuICAnX2RlbGV0ZWRfY29uZmxpY3RzJyxcbiAgJ19sb2NhbF9zZXEnLFxuICAnX3Jldl90cmVlJyxcbiAgLy8gcmVwbGljYXRpb24gZG9jdW1lbnRzXG4gICdfcmVwbGljYXRpb25faWQnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV90aW1lJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV9yZWFzb24nLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRzJyxcbiAgLy8gU3BlY2lmaWMgdG8gQ291Y2hiYXNlIFN5bmMgR2F0ZXdheVxuICAnX3JlbW92ZWQnXG5dKTtcblxuLy8gTGlzdCBvZiByZXNlcnZlZCB3b3JkcyB0aGF0IHNob3VsZCBlbmQgdXAgaW4gdGhlIGRvY3VtZW50XG52YXIgZGF0YVdvcmRzID0gdG9PYmplY3QoW1xuICAnX2FjY2VzcycsXG4gICdfYXR0YWNobWVudHMnLFxuICAvLyByZXBsaWNhdGlvbiBkb2N1bWVudHNcbiAgJ19yZXBsaWNhdGlvbl9pZCcsXG4gICdfcmVwbGljYXRpb25fc3RhdGUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3RpbWUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3JlYXNvbicsXG4gICdfcmVwbGljYXRpb25fc3RhdHMnXG5dKTtcblxuZnVuY3Rpb24gcGFyc2VSZXZpc2lvbkluZm8ocmV2KSB7XG4gIGlmICghL15cXGQrLS8udGVzdChyZXYpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVycm9yKElOVkFMSURfUkVWKTtcbiAgfVxuICB2YXIgaWR4ID0gcmV2LmluZGV4T2YoJy0nKTtcbiAgdmFyIGxlZnQgPSByZXYuc3Vic3RyaW5nKDAsIGlkeCk7XG4gIHZhciByaWdodCA9IHJldi5zdWJzdHJpbmcoaWR4ICsgMSk7XG4gIHJldHVybiB7XG4gICAgcHJlZml4OiBwYXJzZUludChsZWZ0LCAxMCksXG4gICAgaWQ6IHJpZ2h0XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1ha2VSZXZUcmVlRnJvbVJldmlzaW9ucyhyZXZpc2lvbnMsIG9wdHMpIHtcbiAgdmFyIHBvcyA9IHJldmlzaW9ucy5zdGFydCAtIHJldmlzaW9ucy5pZHMubGVuZ3RoICsgMTtcblxuICB2YXIgcmV2aXNpb25JZHMgPSByZXZpc2lvbnMuaWRzO1xuICB2YXIgaWRzID0gW3JldmlzaW9uSWRzWzBdLCBvcHRzLCBbXV07XG5cbiAgZm9yICh2YXIgaSA9IDEsIGxlbiA9IHJldmlzaW9uSWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWRzID0gW3JldmlzaW9uSWRzW2ldLCB7c3RhdHVzOiAnbWlzc2luZyd9LCBbaWRzXV07XG4gIH1cblxuICByZXR1cm4gW3tcbiAgICBwb3M6IHBvcyxcbiAgICBpZHM6IGlkc1xuICB9XTtcbn1cblxuLy8gUHJlcHJvY2VzcyBkb2N1bWVudHMsIHBhcnNlIHRoZWlyIHJldmlzaW9ucywgYXNzaWduIGFuIGlkIGFuZCBhXG4vLyByZXZpc2lvbiBmb3IgbmV3IHdyaXRlcyB0aGF0IGFyZSBtaXNzaW5nIHRoZW0sIGV0Y1xuZnVuY3Rpb24gcGFyc2VEb2MoZG9jLCBuZXdFZGl0cywgZGJPcHRzKSB7XG4gIGlmICghZGJPcHRzKSB7XG4gICAgZGJPcHRzID0ge1xuICAgICAgZGV0ZXJtaW5pc3RpY19yZXZzOiB0cnVlXG4gICAgfTtcbiAgfVxuXG4gIHZhciBuUmV2TnVtO1xuICB2YXIgbmV3UmV2SWQ7XG4gIHZhciByZXZJbmZvO1xuICB2YXIgb3B0cyA9IHtzdGF0dXM6ICdhdmFpbGFibGUnfTtcbiAgaWYgKGRvYy5fZGVsZXRlZCkge1xuICAgIG9wdHMuZGVsZXRlZCA9IHRydWU7XG4gIH1cblxuICBpZiAobmV3RWRpdHMpIHtcbiAgICBpZiAoIWRvYy5faWQpIHtcbiAgICAgIGRvYy5faWQgPSB1dWlkKCk7XG4gICAgfVxuICAgIG5ld1JldklkID0gcmV2JCQxKGRvYywgZGJPcHRzLmRldGVybWluaXN0aWNfcmV2cyk7XG4gICAgaWYgKGRvYy5fcmV2KSB7XG4gICAgICByZXZJbmZvID0gcGFyc2VSZXZpc2lvbkluZm8oZG9jLl9yZXYpO1xuICAgICAgaWYgKHJldkluZm8uZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJldkluZm87XG4gICAgICB9XG4gICAgICBkb2MuX3Jldl90cmVlID0gW3tcbiAgICAgICAgcG9zOiByZXZJbmZvLnByZWZpeCxcbiAgICAgICAgaWRzOiBbcmV2SW5mby5pZCwge3N0YXR1czogJ21pc3NpbmcnfSwgW1tuZXdSZXZJZCwgb3B0cywgW11dXV1cbiAgICAgIH1dO1xuICAgICAgblJldk51bSA9IHJldkluZm8ucHJlZml4ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jLl9yZXZfdHJlZSA9IFt7XG4gICAgICAgIHBvczogMSxcbiAgICAgICAgaWRzIDogW25ld1JldklkLCBvcHRzLCBbXV1cbiAgICAgIH1dO1xuICAgICAgblJldk51bSA9IDE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkb2MuX3JldmlzaW9ucykge1xuICAgICAgZG9jLl9yZXZfdHJlZSA9IG1ha2VSZXZUcmVlRnJvbVJldmlzaW9ucyhkb2MuX3JldmlzaW9ucywgb3B0cyk7XG4gICAgICBuUmV2TnVtID0gZG9jLl9yZXZpc2lvbnMuc3RhcnQ7XG4gICAgICBuZXdSZXZJZCA9IGRvYy5fcmV2aXNpb25zLmlkc1swXTtcbiAgICB9XG4gICAgaWYgKCFkb2MuX3Jldl90cmVlKSB7XG4gICAgICByZXZJbmZvID0gcGFyc2VSZXZpc2lvbkluZm8oZG9jLl9yZXYpO1xuICAgICAgaWYgKHJldkluZm8uZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJldkluZm87XG4gICAgICB9XG4gICAgICBuUmV2TnVtID0gcmV2SW5mby5wcmVmaXg7XG4gICAgICBuZXdSZXZJZCA9IHJldkluZm8uaWQ7XG4gICAgICBkb2MuX3Jldl90cmVlID0gW3tcbiAgICAgICAgcG9zOiBuUmV2TnVtLFxuICAgICAgICBpZHM6IFtuZXdSZXZJZCwgb3B0cywgW11dXG4gICAgICB9XTtcbiAgICB9XG4gIH1cblxuICBpbnZhbGlkSWRFcnJvcihkb2MuX2lkKTtcblxuICBkb2MuX3JldiA9IG5SZXZOdW0gKyAnLScgKyBuZXdSZXZJZDtcblxuICB2YXIgcmVzdWx0ID0ge21ldGFkYXRhIDoge30sIGRhdGEgOiB7fX07XG4gIGZvciAodmFyIGtleSBpbiBkb2MpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jLCBrZXkpKSB7XG4gICAgICB2YXIgc3BlY2lhbEtleSA9IGtleVswXSA9PT0gJ18nO1xuICAgICAgaWYgKHNwZWNpYWxLZXkgJiYgIXJlc2VydmVkV29yZHNba2V5XSkge1xuICAgICAgICB2YXIgZXJyb3IgPSBjcmVhdGVFcnJvcihET0NfVkFMSURBVElPTiwga2V5KTtcbiAgICAgICAgZXJyb3IubWVzc2FnZSA9IERPQ19WQUxJREFUSU9OLm1lc3NhZ2UgKyAnOiAnICsga2V5O1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0gZWxzZSBpZiAoc3BlY2lhbEtleSAmJiAhZGF0YVdvcmRzW2tleV0pIHtcbiAgICAgICAgcmVzdWx0Lm1ldGFkYXRhW2tleS5zbGljZSgxKV0gPSBkb2Nba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5kYXRhW2tleV0gPSBkb2Nba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFyc2VCYXNlNjQoZGF0YSkge1xuICB0cnkge1xuICAgIHJldHVybiB0aGlzQXRvYihkYXRhKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihCQURfQVJHLFxuICAgICAgJ0F0dGFjaG1lbnQgaXMgbm90IGEgdmFsaWQgYmFzZTY0IHN0cmluZycpO1xuICAgIHJldHVybiB7ZXJyb3I6IGVycn07XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc1N0cmluZyhhdHQsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuICB2YXIgYXNCaW5hcnkgPSBwYXJzZUJhc2U2NChhdHQuZGF0YSk7XG4gIGlmIChhc0JpbmFyeS5lcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayhhc0JpbmFyeS5lcnJvcik7XG4gIH1cblxuICBhdHQubGVuZ3RoID0gYXNCaW5hcnkubGVuZ3RoO1xuICBpZiAoYmxvYlR5cGUgPT09ICdibG9iJykge1xuICAgIGF0dC5kYXRhID0gYmluU3RyaW5nVG9CbHVmZmVyKGFzQmluYXJ5LCBhdHQuY29udGVudF90eXBlKTtcbiAgfSBlbHNlIGlmIChibG9iVHlwZSA9PT0gJ2Jhc2U2NCcpIHtcbiAgICBhdHQuZGF0YSA9IHRoaXNCdG9hKGFzQmluYXJ5KTtcbiAgfSBlbHNlIHsgLy8gYmluYXJ5XG4gICAgYXR0LmRhdGEgPSBhc0JpbmFyeTtcbiAgfVxuICBiaW5hcnlNZDUoYXNCaW5hcnksIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBhdHQuZGlnZXN0ID0gJ21kNS0nICsgcmVzdWx0O1xuICAgIGNhbGxiYWNrKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQmxvYihhdHQsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuICBiaW5hcnlNZDUoYXR0LmRhdGEsIGZ1bmN0aW9uIChtZDUpIHtcbiAgICBhdHQuZGlnZXN0ID0gJ21kNS0nICsgbWQ1O1xuICAgIC8vIHNpemUgaXMgZm9yIGJsb2JzIChicm93c2VyKSwgbGVuZ3RoIGlzIGZvciBidWZmZXJzIChub2RlKVxuICAgIGF0dC5sZW5ndGggPSBhdHQuZGF0YS5zaXplIHx8IGF0dC5kYXRhLmxlbmd0aCB8fCAwO1xuICAgIGlmIChibG9iVHlwZSA9PT0gJ2JpbmFyeScpIHtcbiAgICAgIGJsb2JUb0JpbmFyeVN0cmluZyhhdHQuZGF0YSwgZnVuY3Rpb24gKGJpblN0cmluZykge1xuICAgICAgICBhdHQuZGF0YSA9IGJpblN0cmluZztcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoYmxvYlR5cGUgPT09ICdiYXNlNjQnKSB7XG4gICAgICBibG9iVG9CYXNlNjQoYXR0LmRhdGEsIGZ1bmN0aW9uIChiNjQpIHtcbiAgICAgICAgYXR0LmRhdGEgPSBiNjQ7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQXR0YWNobWVudChhdHQsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuICBpZiAoYXR0LnN0dWIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgfVxuICBpZiAodHlwZW9mIGF0dC5kYXRhID09PSAnc3RyaW5nJykgeyAvLyBpbnB1dCBpcyBhIGJhc2U2NCBzdHJpbmdcbiAgICBwcmVwcm9jZXNzU3RyaW5nKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKTtcbiAgfSBlbHNlIHsgLy8gaW5wdXQgaXMgYSBibG9iXG4gICAgcHJlcHJvY2Vzc0Jsb2IoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NBdHRhY2htZW50cyhkb2NJbmZvcywgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG5cbiAgaWYgKCFkb2NJbmZvcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgfVxuXG4gIHZhciBkb2N2ID0gMDtcbiAgdmFyIG92ZXJhbGxFcnI7XG5cbiAgZG9jSW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jSW5mbykge1xuICAgIHZhciBhdHRhY2htZW50cyA9IGRvY0luZm8uZGF0YSAmJiBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzID9cbiAgICAgIE9iamVjdC5rZXlzKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpIDogW107XG4gICAgdmFyIHJlY3YgPSAwO1xuXG4gICAgaWYgKCFhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBkb25lKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc2VkQXR0YWNobWVudChlcnIpIHtcbiAgICAgIG92ZXJhbGxFcnIgPSBlcnI7XG4gICAgICByZWN2Kys7XG4gICAgICBpZiAocmVjdiA9PT0gYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzLCBrZXkpKSB7XG4gICAgICAgIHByZXByb2Nlc3NBdHRhY2htZW50KGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNba2V5XSxcbiAgICAgICAgICBibG9iVHlwZSwgcHJvY2Vzc2VkQXR0YWNobWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIGRvY3YrKztcbiAgICBpZiAoZG9jSW5mb3MubGVuZ3RoID09PSBkb2N2KSB7XG4gICAgICBpZiAob3ZlcmFsbEVycikge1xuICAgICAgICBjYWxsYmFjayhvdmVyYWxsRXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZURvYyhyZXZMaW1pdCwgcHJldiwgZG9jSW5mbywgcmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICBpLCBjYiwgd3JpdGVEb2MsIG5ld0VkaXRzKSB7XG5cbiAgaWYgKHJldkV4aXN0cyhwcmV2LnJldl90cmVlLCBkb2NJbmZvLm1ldGFkYXRhLnJldikgJiYgIW5ld0VkaXRzKSB7XG4gICAgcmVzdWx0c1tpXSA9IGRvY0luZm87XG4gICAgcmV0dXJuIGNiKCk7XG4gIH1cblxuICAvLyBzb21ldGltZXMgdGhpcyBpcyBwcmUtY2FsY3VsYXRlZC4gaGlzdG9yaWNhbGx5IG5vdCBhbHdheXNcbiAgdmFyIHByZXZpb3VzV2lubmluZ1JldiA9IHByZXYud2lubmluZ1JldiB8fCB3aW5uaW5nUmV2KHByZXYpO1xuICB2YXIgcHJldmlvdXNseURlbGV0ZWQgPSAnZGVsZXRlZCcgaW4gcHJldiA/IHByZXYuZGVsZXRlZCA6XG4gICAgaXNEZWxldGVkKHByZXYsIHByZXZpb3VzV2lubmluZ1Jldik7XG4gIHZhciBkZWxldGVkID0gJ2RlbGV0ZWQnIGluIGRvY0luZm8ubWV0YWRhdGEgPyBkb2NJbmZvLm1ldGFkYXRhLmRlbGV0ZWQgOlxuICAgIGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhKTtcbiAgdmFyIGlzUm9vdCA9IC9eMS0vLnRlc3QoZG9jSW5mby5tZXRhZGF0YS5yZXYpO1xuXG4gIGlmIChwcmV2aW91c2x5RGVsZXRlZCAmJiAhZGVsZXRlZCAmJiBuZXdFZGl0cyAmJiBpc1Jvb3QpIHtcbiAgICB2YXIgbmV3RG9jID0gZG9jSW5mby5kYXRhO1xuICAgIG5ld0RvYy5fcmV2ID0gcHJldmlvdXNXaW5uaW5nUmV2O1xuICAgIG5ld0RvYy5faWQgPSBkb2NJbmZvLm1ldGFkYXRhLmlkO1xuICAgIGRvY0luZm8gPSBwYXJzZURvYyhuZXdEb2MsIG5ld0VkaXRzKTtcbiAgfVxuXG4gIHZhciBtZXJnZWQgPSBtZXJnZShwcmV2LnJldl90cmVlLCBkb2NJbmZvLm1ldGFkYXRhLnJldl90cmVlWzBdLCByZXZMaW1pdCk7XG5cbiAgdmFyIGluQ29uZmxpY3QgPSBuZXdFZGl0cyAmJiAoKFxuICAgIChwcmV2aW91c2x5RGVsZXRlZCAmJiBkZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgIT09ICduZXdfbGVhZicpIHx8XG4gICAgKCFwcmV2aW91c2x5RGVsZXRlZCAmJiBtZXJnZWQuY29uZmxpY3RzICE9PSAnbmV3X2xlYWYnKSB8fFxuICAgIChwcmV2aW91c2x5RGVsZXRlZCAmJiAhZGVsZXRlZCAmJiBtZXJnZWQuY29uZmxpY3RzID09PSAnbmV3X2JyYW5jaCcpKSk7XG5cbiAgaWYgKGluQ29uZmxpY3QpIHtcbiAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKTtcbiAgICByZXN1bHRzW2ldID0gZXJyO1xuICAgIHJldHVybiBjYigpO1xuICB9XG5cbiAgdmFyIG5ld1JldiA9IGRvY0luZm8ubWV0YWRhdGEucmV2O1xuICBkb2NJbmZvLm1ldGFkYXRhLnJldl90cmVlID0gbWVyZ2VkLnRyZWU7XG4gIGRvY0luZm8uc3RlbW1lZFJldnMgPSBtZXJnZWQuc3RlbW1lZFJldnMgfHwgW107XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChwcmV2LnJldl9tYXApIHtcbiAgICBkb2NJbmZvLm1ldGFkYXRhLnJldl9tYXAgPSBwcmV2LnJldl9tYXA7IC8vIHVzZWQgb25seSBieSBsZXZlbGRiXG4gIH1cblxuICAvLyByZWNhbGN1bGF0ZVxuICB2YXIgd2lubmluZ1JldiQkMSA9IHdpbm5pbmdSZXYoZG9jSW5mby5tZXRhZGF0YSk7XG4gIHZhciB3aW5uaW5nUmV2SXNEZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEpO1xuXG4gIC8vIGNhbGN1bGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIGRvY3VtZW50cyB0aGF0IHdlcmUgYWRkZWQvcmVtb3ZlZCxcbiAgLy8gZnJvbSB0aGUgcGVyc3BlY3RpdmUgb2YgdG90YWxfcm93cy9kb2NfY291bnRcbiAgdmFyIGRlbHRhID0gKHByZXZpb3VzbHlEZWxldGVkID09PSB3aW5uaW5nUmV2SXNEZWxldGVkKSA/IDAgOlxuICAgIHByZXZpb3VzbHlEZWxldGVkIDwgd2lubmluZ1JldklzRGVsZXRlZCA/IC0xIDogMTtcblxuICB2YXIgbmV3UmV2SXNEZWxldGVkO1xuICBpZiAobmV3UmV2ID09PSB3aW5uaW5nUmV2JCQxKSB7XG4gICAgLy8gaWYgdGhlIG5ldyByZXYgaXMgdGhlIHNhbWUgYXMgdGhlIHdpbm5pbmcgcmV2LCB3ZSBjYW4gcmV1c2UgdGhhdCB2YWx1ZVxuICAgIG5ld1JldklzRGVsZXRlZCA9IHdpbm5pbmdSZXZJc0RlbGV0ZWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgdGhleSdyZSBub3QgdGhlIHNhbWUsIHRoZW4gd2UgbmVlZCB0byByZWNhbGN1bGF0ZVxuICAgIG5ld1JldklzRGVsZXRlZCA9IGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhLCBuZXdSZXYpO1xuICB9XG5cbiAgd3JpdGVEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCwgbmV3UmV2SXNEZWxldGVkLFxuICAgIHRydWUsIGRlbHRhLCBpLCBjYik7XG59XG5cbmZ1bmN0aW9uIHJvb3RJc01pc3NpbmcoZG9jSW5mbykge1xuICByZXR1cm4gZG9jSW5mby5tZXRhZGF0YS5yZXZfdHJlZVswXS5pZHNbMV0uc3RhdHVzID09PSAnbWlzc2luZyc7XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NEb2NzKHJldkxpbWl0LCBkb2NJbmZvcywgYXBpLCBmZXRjaGVkRG9jcywgdHgsIHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgICB3cml0ZURvYywgb3B0cywgb3ZlcmFsbENhbGxiYWNrKSB7XG5cbiAgLy8gRGVmYXVsdCB0byAxMDAwIGxvY2FsbHlcbiAgcmV2TGltaXQgPSByZXZMaW1pdCB8fCAxMDAwO1xuXG4gIGZ1bmN0aW9uIGluc2VydERvYyhkb2NJbmZvLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuICAgIC8vIENhbnQgaW5zZXJ0IG5ldyBkZWxldGVkIGRvY3VtZW50c1xuICAgIHZhciB3aW5uaW5nUmV2JCQxID0gd2lubmluZ1Jldihkb2NJbmZvLm1ldGFkYXRhKTtcbiAgICB2YXIgZGVsZXRlZCA9IGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxKTtcbiAgICBpZiAoJ3dhc19kZWxldGUnIGluIG9wdHMgJiYgZGVsZXRlZCkge1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCAnZGVsZXRlZCcpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLy8gNDcxMiAtIGRldGVjdCB3aGV0aGVyIGEgbmV3IGRvY3VtZW50IHdhcyBpbnNlcnRlZCB3aXRoIGEgX3JldlxuICAgIHZhciBpbkNvbmZsaWN0ID0gbmV3RWRpdHMgJiYgcm9vdElzTWlzc2luZyhkb2NJbmZvKTtcblxuICAgIGlmIChpbkNvbmZsaWN0KSB7XG4gICAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKTtcbiAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSBlcnI7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICB2YXIgZGVsdGEgPSBkZWxldGVkID8gMCA6IDE7XG5cbiAgICB3cml0ZURvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCBkZWxldGVkLCBkZWxldGVkLCBmYWxzZSxcbiAgICAgIGRlbHRhLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gIH1cblxuICB2YXIgbmV3RWRpdHMgPSBvcHRzLm5ld19lZGl0cztcbiAgdmFyIGlkc1RvRG9jcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIHZhciBkb2NzRG9uZSA9IDA7XG4gIHZhciBkb2NzVG9EbyA9IGRvY0luZm9zLmxlbmd0aDtcblxuICBmdW5jdGlvbiBjaGVja0FsbERvY3NEb25lKCkge1xuICAgIGlmICgrK2RvY3NEb25lID09PSBkb2NzVG9EbyAmJiBvdmVyYWxsQ2FsbGJhY2spIHtcbiAgICAgIG92ZXJhbGxDYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIGRvY0luZm9zLmZvckVhY2goZnVuY3Rpb24gKGN1cnJlbnREb2MsIHJlc3VsdHNJZHgpIHtcblxuICAgIGlmIChjdXJyZW50RG9jLl9pZCAmJiBpc0xvY2FsSWQoY3VycmVudERvYy5faWQpKSB7XG4gICAgICB2YXIgZnVuID0gY3VycmVudERvYy5fZGVsZXRlZCA/ICdfcmVtb3ZlTG9jYWwnIDogJ19wdXRMb2NhbCc7XG4gICAgICBhcGlbZnVuXShjdXJyZW50RG9jLCB7Y3R4OiB0eH0sIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0gZXJyIHx8IHJlcztcbiAgICAgICAgY2hlY2tBbGxEb2NzRG9uZSgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGlkID0gY3VycmVudERvYy5tZXRhZGF0YS5pZDtcbiAgICBpZiAoaWRzVG9Eb2NzLmhhcyhpZCkpIHtcbiAgICAgIGRvY3NUb0RvLS07IC8vIGR1cGxpY2F0ZVxuICAgICAgaWRzVG9Eb2NzLmdldChpZCkucHVzaChbY3VycmVudERvYywgcmVzdWx0c0lkeF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZHNUb0RvY3Muc2V0KGlkLCBbW2N1cnJlbnREb2MsIHJlc3VsdHNJZHhdXSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBpbiB0aGUgY2FzZSBvZiBuZXdfZWRpdHMsIHRoZSB1c2VyIGNhbiBwcm92aWRlIG11bHRpcGxlIGRvY3NcbiAgLy8gd2l0aCB0aGUgc2FtZSBpZC4gdGhlc2UgbmVlZCB0byBiZSBwcm9jZXNzZWQgc2VxdWVudGlhbGx5XG4gIGlkc1RvRG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2NzLCBpZCkge1xuICAgIHZhciBudW1Eb25lID0gMDtcblxuICAgIGZ1bmN0aW9uIGRvY1dyaXR0ZW4oKSB7XG4gICAgICBpZiAoKytudW1Eb25lIDwgZG9jcy5sZW5ndGgpIHtcbiAgICAgICAgbmV4dERvYygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hlY2tBbGxEb2NzRG9uZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBuZXh0RG9jKCkge1xuICAgICAgdmFyIHZhbHVlID0gZG9jc1tudW1Eb25lXTtcbiAgICAgIHZhciBjdXJyZW50RG9jID0gdmFsdWVbMF07XG4gICAgICB2YXIgcmVzdWx0c0lkeCA9IHZhbHVlWzFdO1xuXG4gICAgICBpZiAoZmV0Y2hlZERvY3MuaGFzKGlkKSkge1xuICAgICAgICB1cGRhdGVEb2MocmV2TGltaXQsIGZldGNoZWREb2NzLmdldChpZCksIGN1cnJlbnREb2MsIHJlc3VsdHMsXG4gICAgICAgICAgcmVzdWx0c0lkeCwgZG9jV3JpdHRlbiwgd3JpdGVEb2MsIG5ld0VkaXRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVuc3VyZSBzdGVtbWluZyBhcHBsaWVzIHRvIG5ldyB3cml0ZXMgYXMgd2VsbFxuICAgICAgICB2YXIgbWVyZ2VkID0gbWVyZ2UoW10sIGN1cnJlbnREb2MubWV0YWRhdGEucmV2X3RyZWVbMF0sIHJldkxpbWl0KTtcbiAgICAgICAgY3VycmVudERvYy5tZXRhZGF0YS5yZXZfdHJlZSA9IG1lcmdlZC50cmVlO1xuICAgICAgICBjdXJyZW50RG9jLnN0ZW1tZWRSZXZzID0gbWVyZ2VkLnN0ZW1tZWRSZXZzIHx8IFtdO1xuICAgICAgICBpbnNlcnREb2MoY3VycmVudERvYywgcmVzdWx0c0lkeCwgZG9jV3JpdHRlbik7XG4gICAgICB9XG4gICAgfVxuICAgIG5leHREb2MoKTtcbiAgfSk7XG59XG5cbi8vIEluZGV4ZWREQiByZXF1aXJlcyBhIHZlcnNpb25lZCBkYXRhYmFzZSBzdHJ1Y3R1cmUsIHNvIHdlIHVzZSB0aGVcbi8vIHZlcnNpb24gaGVyZSB0byBtYW5hZ2UgbWlncmF0aW9ucy5cbnZhciBBREFQVEVSX1ZFUlNJT04gPSA1O1xuXG4vLyBUaGUgb2JqZWN0IHN0b3JlcyBjcmVhdGVkIGZvciBlYWNoIGRhdGFiYXNlXG4vLyBET0NfU1RPUkUgc3RvcmVzIHRoZSBkb2N1bWVudCBtZXRhIGRhdGEsIGl0cyByZXZpc2lvbiBoaXN0b3J5IGFuZCBzdGF0ZVxuLy8gS2V5ZWQgYnkgZG9jdW1lbnQgaWRcbnZhciBET0NfU1RPUkUgPSAnZG9jdW1lbnQtc3RvcmUnO1xuLy8gQllfU0VRX1NUT1JFIHN0b3JlcyBhIHBhcnRpY3VsYXIgdmVyc2lvbiBvZiBhIGRvY3VtZW50LCBrZXllZCBieSBpdHNcbi8vIHNlcXVlbmNlIGlkXG52YXIgQllfU0VRX1NUT1JFID0gJ2J5LXNlcXVlbmNlJztcbi8vIFdoZXJlIHdlIHN0b3JlIGF0dGFjaG1lbnRzXG52YXIgQVRUQUNIX1NUT1JFID0gJ2F0dGFjaC1zdG9yZSc7XG4vLyBXaGVyZSB3ZSBzdG9yZSBtYW55LXRvLW1hbnkgcmVsYXRpb25zXG4vLyBiZXR3ZWVuIGF0dGFjaG1lbnQgZGlnZXN0cyBhbmQgc2Vxc1xudmFyIEFUVEFDSF9BTkRfU0VRX1NUT1JFID0gJ2F0dGFjaC1zZXEtc3RvcmUnO1xuXG4vLyBXaGVyZSB3ZSBzdG9yZSBkYXRhYmFzZS13aWRlIG1ldGEgZGF0YSBpbiBhIHNpbmdsZSByZWNvcmRcbi8vIGtleWVkIGJ5IGlkOiBNRVRBX1NUT1JFXG52YXIgTUVUQV9TVE9SRSA9ICdtZXRhLXN0b3JlJztcbi8vIFdoZXJlIHdlIHN0b3JlIGxvY2FsIGRvY3VtZW50c1xudmFyIExPQ0FMX1NUT1JFID0gJ2xvY2FsLXN0b3JlJztcbi8vIFdoZXJlIHdlIGRldGVjdCBibG9iIHN1cHBvcnRcbnZhciBERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFID0gJ2RldGVjdC1ibG9iLXN1cHBvcnQnO1xuXG5mdW5jdGlvbiBzYWZlSnNvblBhcnNlKHN0cikge1xuICAvLyBUaGlzIHRyeS9jYXRjaCBndWFyZHMgYWdhaW5zdCBzdGFjayBvdmVyZmxvdyBlcnJvcnMuXG4gIC8vIEpTT04ucGFyc2UoKSBpcyBmYXN0ZXIgdGhhbiB2dXZ1emVsYS5wYXJzZSgpIGJ1dCB2dXZ1emVsYVxuICAvLyBjYW5ub3Qgb3ZlcmZsb3cuXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIHZ1dnV6ZWxhLnBhcnNlKHN0cik7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2FmZUpzb25TdHJpbmdpZnkoanNvbikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShqc29uKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIHZ1dnV6ZWxhLnN0cmluZ2lmeShqc29uKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpZGJFcnJvcihjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gKGV2dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ3Vua25vd25fZXJyb3InO1xuICAgIGlmIChldnQudGFyZ2V0ICYmIGV2dC50YXJnZXQuZXJyb3IpIHtcbiAgICAgIG1lc3NhZ2UgPSBldnQudGFyZ2V0LmVycm9yLm5hbWUgfHwgZXZ0LnRhcmdldC5lcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihJREJfRVJST1IsIG1lc3NhZ2UsIGV2dC50eXBlKSk7XG4gIH07XG59XG5cbi8vIFVuZm9ydHVuYXRlbHksIHRoZSBtZXRhZGF0YSBoYXMgdG8gYmUgc3RyaW5naWZpZWRcbi8vIHdoZW4gaXQgaXMgcHV0IGludG8gdGhlIGRhdGFiYXNlLCBiZWNhdXNlIG90aGVyd2lzZVxuLy8gSW5kZXhlZERCIGNhbiB0aHJvdyBlcnJvcnMgZm9yIGRlZXBseS1uZXN0ZWQgb2JqZWN0cy5cbi8vIE9yaWdpbmFsbHkgd2UganVzdCB1c2VkIEpTT04ucGFyc2UvSlNPTi5zdHJpbmdpZnk7IG5vd1xuLy8gd2UgdXNlIHRoaXMgY3VzdG9tIHZ1dnV6ZWxhIGxpYnJhcnkgdGhhdCBhdm9pZHMgcmVjdXJzaW9uLlxuLy8gSWYgd2UgY291bGQgZG8gaXQgYWxsIG92ZXIgYWdhaW4sIHdlJ2QgcHJvYmFibHkgdXNlIGFcbi8vIGZvcm1hdCBmb3IgdGhlIHJldmlzaW9uIHRyZWVzIG90aGVyIHRoYW4gSlNPTi5cbmZ1bmN0aW9uIGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLCB3aW5uaW5nUmV2LCBkZWxldGVkKSB7XG4gIHJldHVybiB7XG4gICAgZGF0YTogc2FmZUpzb25TdHJpbmdpZnkobWV0YWRhdGEpLFxuICAgIHdpbm5pbmdSZXY6IHdpbm5pbmdSZXYsXG4gICAgZGVsZXRlZE9yTG9jYWw6IGRlbGV0ZWQgPyAnMScgOiAnMCcsXG4gICAgc2VxOiBtZXRhZGF0YS5zZXEsIC8vIGhpZ2hlc3Qgc2VxIGZvciB0aGlzIGRvY1xuICAgIGlkOiBtZXRhZGF0YS5pZFxuICB9O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVNZXRhZGF0YShzdG9yZWRPYmplY3QpIHtcbiAgaWYgKCFzdG9yZWRPYmplY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbWV0YWRhdGEgPSBzYWZlSnNvblBhcnNlKHN0b3JlZE9iamVjdC5kYXRhKTtcbiAgbWV0YWRhdGEud2lubmluZ1JldiA9IHN0b3JlZE9iamVjdC53aW5uaW5nUmV2O1xuICBtZXRhZGF0YS5kZWxldGVkID0gc3RvcmVkT2JqZWN0LmRlbGV0ZWRPckxvY2FsID09PSAnMSc7XG4gIG1ldGFkYXRhLnNlcSA9IHN0b3JlZE9iamVjdC5zZXE7XG4gIHJldHVybiBtZXRhZGF0YTtcbn1cblxuLy8gcmVhZCB0aGUgZG9jIGJhY2sgb3V0IGZyb20gdGhlIGRhdGFiYXNlLiB3ZSBkb24ndCBzdG9yZSB0aGVcbi8vIF9pZCBvciBfcmV2IGJlY2F1c2Ugd2UgYWxyZWFkeSBoYXZlIF9kb2NfaWRfcmV2LlxuZnVuY3Rpb24gZGVjb2RlRG9jKGRvYykge1xuICBpZiAoIWRvYykge1xuICAgIHJldHVybiBkb2M7XG4gIH1cbiAgdmFyIGlkeCA9IGRvYy5fZG9jX2lkX3Jldi5sYXN0SW5kZXhPZignOicpO1xuICBkb2MuX2lkID0gZG9jLl9kb2NfaWRfcmV2LnN1YnN0cmluZygwLCBpZHggLSAxKTtcbiAgZG9jLl9yZXYgPSBkb2MuX2RvY19pZF9yZXYuc3Vic3RyaW5nKGlkeCArIDEpO1xuICBkZWxldGUgZG9jLl9kb2NfaWRfcmV2O1xuICByZXR1cm4gZG9jO1xufVxuXG4vLyBSZWFkIGEgYmxvYiBmcm9tIHRoZSBkYXRhYmFzZSwgZW5jb2RpbmcgYXMgbmVjZXNzYXJ5XG4vLyBhbmQgdHJhbnNsYXRpbmcgZnJvbSBiYXNlNjQgaWYgdGhlIElEQiBkb2Vzbid0IHN1cHBvcnRcbi8vIG5hdGl2ZSBCbG9ic1xuZnVuY3Rpb24gcmVhZEJsb2JEYXRhKGJvZHksIHR5cGUsIGFzQmxvYiwgY2FsbGJhY2spIHtcbiAgaWYgKGFzQmxvYikge1xuICAgIGlmICghYm9keSkge1xuICAgICAgY2FsbGJhY2soY3JlYXRlQmxvYihbJyddLCB7dHlwZTogdHlwZX0pKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ICE9PSAnc3RyaW5nJykgeyAvLyB3ZSBoYXZlIGJsb2Igc3VwcG9ydFxuICAgICAgY2FsbGJhY2soYm9keSk7XG4gICAgfSBlbHNlIHsgLy8gbm8gYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhiNjRUb0JsdWZmZXIoYm9keSwgdHlwZSkpO1xuICAgIH1cbiAgfSBlbHNlIHsgLy8gYXMgYmFzZTY0IHN0cmluZ1xuICAgIGlmICghYm9keSkge1xuICAgICAgY2FsbGJhY2soJycpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgIT09ICdzdHJpbmcnKSB7IC8vIHdlIGhhdmUgYmxvYiBzdXBwb3J0XG4gICAgICByZWFkQXNCaW5hcnlTdHJpbmcoYm9keSwgZnVuY3Rpb24gKGJpbmFyeSkge1xuICAgICAgICBjYWxsYmFjayh0aGlzQnRvYShiaW5hcnkpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7IC8vIG5vIGJsb2Igc3VwcG9ydFxuICAgICAgY2FsbGJhY2soYm9keSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeShkb2MsIG9wdHMsIHR4biwgY2IpIHtcbiAgdmFyIGF0dGFjaG1lbnRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyB8fCB7fSk7XG4gIGlmICghYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNiICYmIGNiKCk7XG4gIH1cbiAgdmFyIG51bURvbmUgPSAwO1xuXG4gIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBpZiAoKytudW1Eb25lID09PSBhdHRhY2htZW50cy5sZW5ndGggJiYgY2IpIHtcbiAgICAgIGNiKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hBdHRhY2htZW50KGRvYywgYXR0KSB7XG4gICAgdmFyIGF0dE9iaiA9IGRvYy5fYXR0YWNobWVudHNbYXR0XTtcbiAgICB2YXIgZGlnZXN0ID0gYXR0T2JqLmRpZ2VzdDtcbiAgICB2YXIgcmVxID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSkuZ2V0KGRpZ2VzdCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBhdHRPYmouYm9keSA9IGUudGFyZ2V0LnJlc3VsdC5ib2R5O1xuICAgICAgY2hlY2tEb25lKCk7XG4gICAgfTtcbiAgfVxuXG4gIGF0dGFjaG1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGF0dCkge1xuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICBmZXRjaEF0dGFjaG1lbnQoZG9jLCBhdHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX2F0dGFjaG1lbnRzW2F0dF0uc3R1YiA9IHRydWU7XG4gICAgICBjaGVja0RvbmUoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBJREItc3BlY2lmaWMgcG9zdHByb2Nlc3NpbmcgbmVjZXNzYXJ5IGJlY2F1c2Vcbi8vIHdlIGRvbid0IGtub3cgd2hldGhlciB3ZSBzdG9yZWQgYSB0cnVlIEJsb2Igb3Jcbi8vIGEgYmFzZTY0LWVuY29kZWQgc3RyaW5nLCBhbmQgaWYgaXQncyBhIEJsb2IgaXRcbi8vIG5lZWRzIHRvIGJlIHJlYWQgb3V0c2lkZSBvZiB0aGUgdHJhbnNhY3Rpb24gY29udGV4dFxuZnVuY3Rpb24gcG9zdFByb2Nlc3NBdHRhY2htZW50cyhyZXN1bHRzLCBhc0Jsb2IpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdHMubWFwKGZ1bmN0aW9uIChyb3cpIHtcbiAgICBpZiAocm93LmRvYyAmJiByb3cuZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgdmFyIGF0dE5hbWVzID0gT2JqZWN0LmtleXMocm93LmRvYy5fYXR0YWNobWVudHMpO1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGF0dE5hbWVzLm1hcChmdW5jdGlvbiAoYXR0KSB7XG4gICAgICAgIHZhciBhdHRPYmogPSByb3cuZG9jLl9hdHRhY2htZW50c1thdHRdO1xuICAgICAgICBpZiAoISgnYm9keScgaW4gYXR0T2JqKSkgeyAvLyBhbHJlYWR5IHByb2Nlc3NlZFxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYm9keSA9IGF0dE9iai5ib2R5O1xuICAgICAgICB2YXIgdHlwZSA9IGF0dE9iai5jb250ZW50X3R5cGU7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIHJlYWRCbG9iRGF0YShib2R5LCB0eXBlLCBhc0Jsb2IsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByb3cuZG9jLl9hdHRhY2htZW50c1thdHRdID0gJGluamVjdF9PYmplY3RfYXNzaWduKFxuICAgICAgICAgICAgICBwaWNrKGF0dE9iaiwgWydkaWdlc3QnLCAnY29udGVudF90eXBlJ10pLFxuICAgICAgICAgICAgICB7ZGF0YTogZGF0YX1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBjb21wYWN0UmV2cyhyZXZzLCBkb2NJZCwgdHhuKSB7XG5cbiAgdmFyIHBvc3NpYmx5T3JwaGFuZWREaWdlc3RzID0gW107XG4gIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICB2YXIgYXR0U3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKTtcbiAgdmFyIGF0dEFuZFNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFKTtcbiAgdmFyIGNvdW50ID0gcmV2cy5sZW5ndGg7XG5cbiAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgIGNvdW50LS07XG4gICAgaWYgKCFjb3VudCkgeyAvLyBkb25lIHByb2Nlc3NpbmcgYWxsIHJldnNcbiAgICAgIGRlbGV0ZU9ycGhhbmVkQXR0YWNobWVudHMoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzKCkge1xuICAgIGlmICghcG9zc2libHlPcnBoYW5lZERpZ2VzdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBvc3NpYmx5T3JwaGFuZWREaWdlc3RzLmZvckVhY2goZnVuY3Rpb24gKGRpZ2VzdCkge1xuICAgICAgdmFyIGNvdW50UmVxID0gYXR0QW5kU2VxU3RvcmUuaW5kZXgoJ2RpZ2VzdFNlcScpLmNvdW50KFxuICAgICAgICBJREJLZXlSYW5nZS5ib3VuZChcbiAgICAgICAgICBkaWdlc3QgKyAnOjonLCBkaWdlc3QgKyAnOjpcXHVmZmZmJywgZmFsc2UsIGZhbHNlKSk7XG4gICAgICBjb3VudFJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY291bnQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgICAvLyBvcnBoYW5lZFxuICAgICAgICAgIGF0dFN0b3JlLmRlbGV0ZShkaWdlc3QpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcmV2cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXYpIHtcbiAgICB2YXIgaW5kZXggPSBzZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgICB2YXIga2V5ID0gZG9jSWQgKyBcIjo6XCIgKyByZXY7XG4gICAgaW5kZXguZ2V0S2V5KGtleSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBzZXEgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAodHlwZW9mIHNlcSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrRG9uZSgpO1xuICAgICAgfVxuICAgICAgc2VxU3RvcmUuZGVsZXRlKHNlcSk7XG5cbiAgICAgIHZhciBjdXJzb3IgPSBhdHRBbmRTZXFTdG9yZS5pbmRleCgnc2VxJylcbiAgICAgICAgLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seShzZXEpKTtcblxuICAgICAgY3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgIHZhciBkaWdlc3QgPSBjdXJzb3IudmFsdWUuZGlnZXN0U2VxLnNwbGl0KCc6OicpWzBdO1xuICAgICAgICAgIHBvc3NpYmx5T3JwaGFuZWREaWdlc3RzLnB1c2goZGlnZXN0KTtcbiAgICAgICAgICBhdHRBbmRTZXFTdG9yZS5kZWxldGUoY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9IGVsc2UgeyAvLyBkb25lXG4gICAgICAgICAgY2hlY2tEb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgbW9kZSkge1xuICB0cnkge1xuICAgIHJldHVybiB7XG4gICAgICB0eG46IGlkYi50cmFuc2FjdGlvbihzdG9yZXMsIG1vZGUpXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yOiBlcnJcbiAgICB9O1xuICB9XG59XG5cbnZhciBjaGFuZ2VzSGFuZGxlciA9IG5ldyBDaGFuZ2VzKCk7XG5cbmZ1bmN0aW9uIGlkYkJ1bGtEb2NzKGRiT3B0cywgcmVxLCBvcHRzLCBhcGksIGlkYiwgY2FsbGJhY2spIHtcbiAgdmFyIGRvY0luZm9zID0gcmVxLmRvY3M7XG4gIHZhciB0eG47XG4gIHZhciBkb2NTdG9yZTtcbiAgdmFyIGJ5U2VxU3RvcmU7XG4gIHZhciBhdHRhY2hTdG9yZTtcbiAgdmFyIGF0dGFjaEFuZFNlcVN0b3JlO1xuICB2YXIgbWV0YVN0b3JlO1xuICB2YXIgZG9jSW5mb0Vycm9yO1xuICB2YXIgbWV0YURvYztcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gZG9jSW5mb3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgZG9jID0gZG9jSW5mb3NbaV07XG4gICAgaWYgKGRvYy5faWQgJiYgaXNMb2NhbElkKGRvYy5faWQpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgZG9jID0gZG9jSW5mb3NbaV0gPSBwYXJzZURvYyhkb2MsIG9wdHMubmV3X2VkaXRzLCBkYk9wdHMpO1xuICAgIGlmIChkb2MuZXJyb3IgJiYgIWRvY0luZm9FcnJvcikge1xuICAgICAgZG9jSW5mb0Vycm9yID0gZG9jO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkb2NJbmZvRXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soZG9jSW5mb0Vycm9yKTtcbiAgfVxuXG4gIHZhciBhbGxEb2NzUHJvY2Vzc2VkID0gZmFsc2U7XG4gIHZhciBkb2NDb3VudERlbHRhID0gMDtcbiAgdmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkoZG9jSW5mb3MubGVuZ3RoKTtcbiAgdmFyIGZldGNoZWREb2NzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gIHZhciBwcmVjb25kaXRpb25FcnJvcmVkID0gZmFsc2U7XG4gIHZhciBibG9iVHlwZSA9IGFwaS5fbWV0YS5ibG9iU3VwcG9ydCA/ICdibG9iJyA6ICdiYXNlNjQnO1xuXG4gIHByZXByb2Nlc3NBdHRhY2htZW50cyhkb2NJbmZvcywgYmxvYlR5cGUsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgc3RhcnRUcmFuc2FjdGlvbigpO1xuICB9KTtcblxuICBmdW5jdGlvbiBzdGFydFRyYW5zYWN0aW9uKCkge1xuXG4gICAgdmFyIHN0b3JlcyA9IFtcbiAgICAgIERPQ19TVE9SRSwgQllfU0VRX1NUT1JFLFxuICAgICAgQVRUQUNIX1NUT1JFLFxuICAgICAgTE9DQUxfU1RPUkUsIEFUVEFDSF9BTkRfU0VRX1NUT1JFLFxuICAgICAgTUVUQV9TVE9SRVxuICAgIF07XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWR3cml0ZScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHR4bi5vbnRpbWVvdXQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgdHhuLm9uY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgICBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIGJ5U2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICBhdHRhY2hTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpO1xuICAgIGF0dGFjaEFuZFNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFKTtcbiAgICBtZXRhU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSk7XG5cbiAgICBtZXRhU3RvcmUuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhRG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgdXBkYXRlRG9jQ291bnRJZlJlYWR5KCk7XG4gICAgfTtcblxuICAgIHZlcmlmeUF0dGFjaG1lbnRzKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcHJlY29uZGl0aW9uRXJyb3JlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgICAgZmV0Y2hFeGlzdGluZ0RvY3MoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQWxsRG9jc1Byb2Nlc3NlZCgpIHtcbiAgICBhbGxEb2NzUHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlkYlByb2Nlc3NEb2NzKCkge1xuICAgIHByb2Nlc3NEb2NzKGRiT3B0cy5yZXZzX2xpbWl0LCBkb2NJbmZvcywgYXBpLCBmZXRjaGVkRG9jcyxcbiAgICAgICAgICAgICAgICB0eG4sIHJlc3VsdHMsIHdyaXRlRG9jLCBvcHRzLCBvbkFsbERvY3NQcm9jZXNzZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRG9jQ291bnRJZlJlYWR5KCkge1xuICAgIGlmICghbWV0YURvYyB8fCAhYWxsRG9jc1Byb2Nlc3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBjYWNoaW5nIHRoZSBkb2NDb3VudCBzYXZlcyBhIGxvdCBvZiB0aW1lIGluIGFsbERvY3MoKSBhbmRcbiAgICAvLyBpbmZvKCksIHdoaWNoIGlzIHdoeSB3ZSBnbyB0byBhbGwgdGhlIHRyb3VibGUgb2YgZG9pbmcgdGhpc1xuICAgIG1ldGFEb2MuZG9jQ291bnQgKz0gZG9jQ291bnREZWx0YTtcbiAgICBtZXRhU3RvcmUucHV0KG1ldGFEb2MpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hFeGlzdGluZ0RvY3MoKSB7XG5cbiAgICBpZiAoIWRvY0luZm9zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBudW1GZXRjaGVkID0gMDtcblxuICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICAgIGlmICgrK251bUZldGNoZWQgPT09IGRvY0luZm9zLmxlbmd0aCkge1xuICAgICAgICBpZGJQcm9jZXNzRG9jcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlYWRNZXRhZGF0YShldmVudCkge1xuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG5cbiAgICAgIGlmIChtZXRhZGF0YSkge1xuICAgICAgICBmZXRjaGVkRG9jcy5zZXQobWV0YWRhdGEuaWQsIG1ldGFkYXRhKTtcbiAgICAgIH1cbiAgICAgIGNoZWNrRG9uZSgpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkb2NJbmZvcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGRvY0luZm8gPSBkb2NJbmZvc1tpXTtcbiAgICAgIGlmIChkb2NJbmZvLl9pZCAmJiBpc0xvY2FsSWQoZG9jSW5mby5faWQpKSB7XG4gICAgICAgIGNoZWNrRG9uZSgpOyAvLyBza2lwIGxvY2FsIGRvY3NcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgcmVxID0gZG9jU3RvcmUuZ2V0KGRvY0luZm8ubWV0YWRhdGEuaWQpO1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IHJlYWRNZXRhZGF0YTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICBpZiAocHJlY29uZGl0aW9uRXJyb3JlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNoYW5nZXNIYW5kbGVyLm5vdGlmeShhcGkuX21ldGEubmFtZSk7XG4gICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gIH1cblxuICBmdW5jdGlvbiB2ZXJpZnlBdHRhY2htZW50KGRpZ2VzdCwgY2FsbGJhY2spIHtcblxuICAgIHZhciByZXEgPSBhdHRhY2hTdG9yZS5nZXQoZGlnZXN0KTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghZS50YXJnZXQucmVzdWx0KSB7XG4gICAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX1NUVUIsXG4gICAgICAgICAgJ3Vua25vd24gc3R1YiBhdHRhY2htZW50IHdpdGggZGlnZXN0ICcgK1xuICAgICAgICAgIGRpZ2VzdCk7XG4gICAgICAgIGVyci5zdGF0dXMgPSA0MTI7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB2ZXJpZnlBdHRhY2htZW50cyhmaW5pc2gpIHtcblxuXG4gICAgdmFyIGRpZ2VzdHMgPSBbXTtcbiAgICBkb2NJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJbmZvKSB7XG4gICAgICBpZiAoZG9jSW5mby5kYXRhICYmIGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgICB2YXIgYXR0ID0gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1tmaWxlbmFtZV07XG4gICAgICAgICAgaWYgKGF0dC5zdHViKSB7XG4gICAgICAgICAgICBkaWdlc3RzLnB1c2goYXR0LmRpZ2VzdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWRpZ2VzdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgfVxuICAgIHZhciBudW1Eb25lID0gMDtcbiAgICB2YXIgZXJyO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgICAgaWYgKCsrbnVtRG9uZSA9PT0gZGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgICAgZmluaXNoKGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIGRpZ2VzdHMuZm9yRWFjaChmdW5jdGlvbiAoZGlnZXN0KSB7XG4gICAgICB2ZXJpZnlBdHRhY2htZW50KGRpZ2VzdCwgZnVuY3Rpb24gKGF0dEVycikge1xuICAgICAgICBpZiAoYXR0RXJyICYmICFlcnIpIHtcbiAgICAgICAgICBlcnIgPSBhdHRFcnI7XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tEb25lKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsIG5ld1JldklzRGVsZXRlZCxcbiAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGUsIGRlbHRhLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuXG4gICAgZG9jSW5mby5tZXRhZGF0YS53aW5uaW5nUmV2ID0gd2lubmluZ1JldiQkMTtcbiAgICBkb2NJbmZvLm1ldGFkYXRhLmRlbGV0ZWQgPSB3aW5uaW5nUmV2SXNEZWxldGVkO1xuXG4gICAgdmFyIGRvYyA9IGRvY0luZm8uZGF0YTtcbiAgICBkb2MuX2lkID0gZG9jSW5mby5tZXRhZGF0YS5pZDtcbiAgICBkb2MuX3JldiA9IGRvY0luZm8ubWV0YWRhdGEucmV2O1xuXG4gICAgaWYgKG5ld1JldklzRGVsZXRlZCkge1xuICAgICAgZG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaGFzQXR0YWNobWVudHMgPSBkb2MuX2F0dGFjaG1lbnRzICYmXG4gICAgICBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5sZW5ndGg7XG4gICAgaWYgKGhhc0F0dGFjaG1lbnRzKSB7XG4gICAgICByZXR1cm4gd3JpdGVBdHRhY2htZW50cyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGRvY0NvdW50RGVsdGEgKz0gZGVsdGE7XG4gICAgdXBkYXRlRG9jQ291bnRJZlJlYWR5KCk7XG5cbiAgICBmaW5pc2hEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuXG4gICAgdmFyIGRvYyA9IGRvY0luZm8uZGF0YTtcbiAgICB2YXIgbWV0YWRhdGEgPSBkb2NJbmZvLm1ldGFkYXRhO1xuXG4gICAgZG9jLl9kb2NfaWRfcmV2ID0gbWV0YWRhdGEuaWQgKyAnOjonICsgbWV0YWRhdGEucmV2O1xuICAgIGRlbGV0ZSBkb2MuX2lkO1xuICAgIGRlbGV0ZSBkb2MuX3JldjtcblxuICAgIGZ1bmN0aW9uIGFmdGVyUHV0RG9jKGUpIHtcbiAgICAgIHZhciByZXZzVG9EZWxldGUgPSBkb2NJbmZvLnN0ZW1tZWRSZXZzIHx8IFtdO1xuXG4gICAgICBpZiAoaXNVcGRhdGUgJiYgYXBpLmF1dG9fY29tcGFjdGlvbikge1xuICAgICAgICByZXZzVG9EZWxldGUgPSByZXZzVG9EZWxldGUuY29uY2F0KGNvbXBhY3RUcmVlKGRvY0luZm8ubWV0YWRhdGEpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJldnNUb0RlbGV0ZSAmJiByZXZzVG9EZWxldGUubGVuZ3RoKSB7XG4gICAgICAgIGNvbXBhY3RSZXZzKHJldnNUb0RlbGV0ZSwgZG9jSW5mby5tZXRhZGF0YS5pZCwgdHhuKTtcbiAgICAgIH1cblxuICAgICAgbWV0YWRhdGEuc2VxID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgLy8gQ3VycmVudCBfcmV2IGlzIGNhbGN1bGF0ZWQgZnJvbSBfcmV2X3RyZWUgb24gcmVhZFxuICAgICAgLy8gZGVsZXRlIG1ldGFkYXRhLnJldjtcbiAgICAgIHZhciBtZXRhZGF0YVRvU3RvcmUgPSBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSwgd2lubmluZ1JldiQkMSxcbiAgICAgICAgd2lubmluZ1JldklzRGVsZXRlZCk7XG4gICAgICB2YXIgbWV0YURhdGFSZXEgPSBkb2NTdG9yZS5wdXQobWV0YWRhdGFUb1N0b3JlKTtcbiAgICAgIG1ldGFEYXRhUmVxLm9uc3VjY2VzcyA9IGFmdGVyUHV0TWV0YWRhdGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWZ0ZXJQdXREb2NFcnJvcihlKSB7XG4gICAgICAvLyBDb25zdHJhaW50RXJyb3IsIG5lZWQgdG8gdXBkYXRlLCBub3QgcHV0IChzZWUgIzE2MzggZm9yIGRldGFpbHMpXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIGFib3J0XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBvbmVycm9yXG4gICAgICB2YXIgaW5kZXggPSBieVNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgICAgdmFyIGdldEtleVJlcSA9IGluZGV4LmdldEtleShkb2MuX2RvY19pZF9yZXYpO1xuICAgICAgZ2V0S2V5UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBwdXRSZXEgPSBieVNlcVN0b3JlLnB1dChkb2MsIGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIHB1dFJlcS5vbnN1Y2Nlc3MgPSBhZnRlclB1dERvYztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWZ0ZXJQdXRNZXRhZGF0YSgpIHtcbiAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSB7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBpZDogbWV0YWRhdGEuaWQsXG4gICAgICAgIHJldjogbWV0YWRhdGEucmV2XG4gICAgICB9O1xuICAgICAgZmV0Y2hlZERvY3Muc2V0KGRvY0luZm8ubWV0YWRhdGEuaWQsIGRvY0luZm8ubWV0YWRhdGEpO1xuICAgICAgaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzKGRvY0luZm8sIG1ldGFkYXRhLnNlcSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHZhciBwdXRSZXEgPSBieVNlcVN0b3JlLnB1dChkb2MpO1xuXG4gICAgcHV0UmVxLm9uc3VjY2VzcyA9IGFmdGVyUHV0RG9jO1xuICAgIHB1dFJlcS5vbmVycm9yID0gYWZ0ZXJQdXREb2NFcnJvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlQXR0YWNobWVudHMoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcblxuXG4gICAgdmFyIGRvYyA9IGRvY0luZm8uZGF0YTtcblxuICAgIHZhciBudW1Eb25lID0gMDtcbiAgICB2YXIgYXR0YWNobWVudHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcblxuICAgIGZ1bmN0aW9uIGNvbGxlY3RSZXN1bHRzKCkge1xuICAgICAgaWYgKG51bURvbmUgPT09IGF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgICAgICBmaW5pc2hEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGF0dGFjaG1lbnRTYXZlZCgpIHtcbiAgICAgIG51bURvbmUrKztcbiAgICAgIGNvbGxlY3RSZXN1bHRzKCk7XG4gICAgfVxuXG4gICAgYXR0YWNobWVudHMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgYXR0ID0gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1trZXldO1xuICAgICAgaWYgKCFhdHQuc3R1Yikge1xuICAgICAgICB2YXIgZGF0YSA9IGF0dC5kYXRhO1xuICAgICAgICBkZWxldGUgYXR0LmRhdGE7XG4gICAgICAgIGF0dC5yZXZwb3MgPSBwYXJzZUludCh3aW5uaW5nUmV2JCQxLCAxMCk7XG4gICAgICAgIHZhciBkaWdlc3QgPSBhdHQuZGlnZXN0O1xuICAgICAgICBzYXZlQXR0YWNobWVudChkaWdlc3QsIGRhdGEsIGF0dGFjaG1lbnRTYXZlZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudW1Eb25lKys7XG4gICAgICAgIGNvbGxlY3RSZXN1bHRzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBtYXAgc2VxcyB0byBhdHRhY2htZW50IGRpZ2VzdHMsIHdoaWNoXG4gIC8vIHdlIHdpbGwgbmVlZCBsYXRlciBkdXJpbmcgY29tcGFjdGlvblxuICBmdW5jdGlvbiBpbnNlcnRBdHRhY2htZW50TWFwcGluZ3MoZG9jSW5mbywgc2VxLCBjYWxsYmFjaykge1xuXG4gICAgdmFyIGF0dHNBZGRlZCA9IDA7XG4gICAgdmFyIGF0dHNUb0FkZCA9IE9iamVjdC5rZXlzKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMgfHwge30pO1xuXG4gICAgaWYgKCFhdHRzVG9BZGQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgICBpZiAoKythdHRzQWRkZWQgPT09IGF0dHNUb0FkZC5sZW5ndGgpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGQoYXR0KSB7XG4gICAgICB2YXIgZGlnZXN0ID0gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1thdHRdLmRpZ2VzdDtcbiAgICAgIHZhciByZXEgPSBhdHRhY2hBbmRTZXFTdG9yZS5wdXQoe1xuICAgICAgICBzZXE6IHNlcSxcbiAgICAgICAgZGlnZXN0U2VxOiBkaWdlc3QgKyAnOjonICsgc2VxXG4gICAgICB9KTtcblxuICAgICAgcmVxLm9uc3VjY2VzcyA9IGNoZWNrRG9uZTtcbiAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gdGhpcyBjYWxsYmFjayBpcyBmb3IgYSBjb25zdGFpbnQgZXJyb3IsIHdoaWNoIHdlIGlnbm9yZVxuICAgICAgICAvLyBiZWNhdXNlIHRoaXMgZG9jaWQvcmV2IGhhcyBhbHJlYWR5IGJlZW4gYXNzb2NpYXRlZCB3aXRoXG4gICAgICAgIC8vIHRoZSBkaWdlc3QgKGUuZy4gd2hlbiBuZXdfZWRpdHMgPT0gZmFsc2UpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gYWJvcnRcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gb25lcnJvclxuICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0c1RvQWRkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhZGQoYXR0c1RvQWRkW2ldKTsgLy8gZG8gaW4gcGFyYWxsZWxcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzYXZlQXR0YWNobWVudChkaWdlc3QsIGRhdGEsIGNhbGxiYWNrKSB7XG5cblxuICAgIHZhciBnZXRLZXlSZXEgPSBhdHRhY2hTdG9yZS5jb3VudChkaWdlc3QpO1xuICAgIGdldEtleVJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGNvdW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGNvdW50KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpOyAvLyBhbHJlYWR5IGV4aXN0c1xuICAgICAgfVxuICAgICAgdmFyIG5ld0F0dCA9IHtcbiAgICAgICAgZGlnZXN0OiBkaWdlc3QsXG4gICAgICAgIGJvZHk6IGRhdGFcbiAgICAgIH07XG4gICAgICB2YXIgcHV0UmVxID0gYXR0YWNoU3RvcmUucHV0KG5ld0F0dCk7XG4gICAgICBwdXRSZXEub25zdWNjZXNzID0gY2FsbGJhY2s7XG4gICAgfTtcbiAgfVxufVxuXG4vLyBBYnN0cmFjdGlvbiBvdmVyIElEQkN1cnNvciBhbmQgZ2V0QWxsKCkvZ2V0QWxsS2V5cygpIHRoYXQgYWxsb3dzIHVzIHRvIGJhdGNoIG91ciBvcGVyYXRpb25zXG4vLyB3aGlsZSBmYWxsaW5nIGJhY2sgdG8gYSBub3JtYWwgSURCQ3Vyc29yIG9wZXJhdGlvbiBvbiBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgZ2V0QWxsKCkgb3Jcbi8vIGdldEFsbEtleXMoKS4gVGhpcyBhbGxvd3MgZm9yIGEgbXVjaCBmYXN0ZXIgaW1wbGVtZW50YXRpb24gdGhhbiBqdXN0IHN0cmFpZ2h0LXVwIGN1cnNvcnMsIGJlY2F1c2Vcbi8vIHdlJ3JlIG5vdCBwcm9jZXNzaW5nIGVhY2ggZG9jdW1lbnQgb25lLWF0LWEtdGltZS5cbmZ1bmN0aW9uIHJ1bkJhdGNoZWRDdXJzb3Iob2JqZWN0U3RvcmUsIGtleVJhbmdlLCBkZXNjZW5kaW5nLCBiYXRjaFNpemUsIG9uQmF0Y2gpIHtcblxuICBpZiAoYmF0Y2hTaXplID09PSAtMSkge1xuICAgIGJhdGNoU2l6ZSA9IDEwMDA7XG4gIH1cblxuICAvLyBCYWlsIG91dCBvZiBnZXRBbGwoKS9nZXRBbGxLZXlzKCkgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcbiAgLy8gMSkgZWl0aGVyIG1ldGhvZCBpcyB1bnN1cHBvcnRlZCAtIHdlIG5lZWQgYm90aFxuICAvLyAyKSBiYXRjaFNpemUgaXMgMSAobWlnaHQgYXMgd2VsbCB1c2UgSURCQ3Vyc29yKVxuICAvLyAzKSBkZXNjZW5kaW5nIOKAkyBubyByZWFsIHdheSB0byBkbyB0aGlzIHZpYSBnZXRBbGwoKS9nZXRBbGxLZXlzKClcblxuICB2YXIgdXNlR2V0QWxsID0gdHlwZW9mIG9iamVjdFN0b3JlLmdldEFsbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiBvYmplY3RTdG9yZS5nZXRBbGxLZXlzID09PSAnZnVuY3Rpb24nICYmXG4gICAgYmF0Y2hTaXplID4gMSAmJiAhZGVzY2VuZGluZztcblxuICB2YXIga2V5c0JhdGNoO1xuICB2YXIgdmFsdWVzQmF0Y2g7XG4gIHZhciBwc2V1ZG9DdXJzb3I7XG5cbiAgZnVuY3Rpb24gb25HZXRBbGwoZSkge1xuICAgIHZhbHVlc0JhdGNoID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChrZXlzQmF0Y2gpIHtcbiAgICAgIG9uQmF0Y2goa2V5c0JhdGNoLCB2YWx1ZXNCYXRjaCwgcHNldWRvQ3Vyc29yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldEFsbEtleXMoZSkge1xuICAgIGtleXNCYXRjaCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAodmFsdWVzQmF0Y2gpIHtcbiAgICAgIG9uQmF0Y2goa2V5c0JhdGNoLCB2YWx1ZXNCYXRjaCwgcHNldWRvQ3Vyc29yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb250aW51ZVBzZXVkb0N1cnNvcigpIHtcbiAgICBpZiAoIWtleXNCYXRjaC5sZW5ndGgpIHsgLy8gbm8gbW9yZSByZXN1bHRzXG4gICAgICByZXR1cm4gb25CYXRjaCgpO1xuICAgIH1cbiAgICAvLyBmZXRjaCBuZXh0IGJhdGNoLCBleGNsdXNpdmUgc3RhcnRcbiAgICB2YXIgbGFzdEtleSA9IGtleXNCYXRjaFtrZXlzQmF0Y2gubGVuZ3RoIC0gMV07XG4gICAgdmFyIG5ld0tleVJhbmdlO1xuICAgIGlmIChrZXlSYW5nZSAmJiBrZXlSYW5nZS51cHBlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3S2V5UmFuZ2UgPSBJREJLZXlSYW5nZS5ib3VuZChsYXN0S2V5LCBrZXlSYW5nZS51cHBlcixcbiAgICAgICAgICB0cnVlLCBrZXlSYW5nZS51cHBlck9wZW4pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZS5uYW1lID09PSBcIkRhdGFFcnJvclwiICYmIGUuY29kZSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBvbkJhdGNoKCk7IC8vIHdlJ3JlIGRvbmUsIHN0YXJ0a2V5IGFuZCBlbmRrZXkgYXJlIGVxdWFsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3S2V5UmFuZ2UgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKGxhc3RLZXksIHRydWUpO1xuICAgIH1cbiAgICBrZXlSYW5nZSA9IG5ld0tleVJhbmdlO1xuICAgIGtleXNCYXRjaCA9IG51bGw7XG4gICAgdmFsdWVzQmF0Y2ggPSBudWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbChrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbDtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGxLZXlzKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsS2V5cztcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ3Vyc29yKGUpIHtcbiAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmICghY3Vyc29yKSB7IC8vIGRvbmVcbiAgICAgIHJldHVybiBvbkJhdGNoKCk7XG4gICAgfVxuICAgIC8vIHJlZ3VsYXIgSURCQ3Vyc29yIGFjdHMgbGlrZSBhIGJhdGNoIHdoZXJlIGJhdGNoIHNpemUgaXMgYWx3YXlzIDFcbiAgICBvbkJhdGNoKFtjdXJzb3Iua2V5XSwgW2N1cnNvci52YWx1ZV0sIGN1cnNvcik7XG4gIH1cblxuICBpZiAodXNlR2V0QWxsKSB7XG4gICAgcHNldWRvQ3Vyc29yID0ge1wiY29udGludWVcIjogY29udGludWVQc2V1ZG9DdXJzb3J9O1xuICAgIG9iamVjdFN0b3JlLmdldEFsbChrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbDtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGxLZXlzKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsS2V5cztcbiAgfSBlbHNlIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSwgJ3ByZXYnKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbiAgfVxufVxuXG4vLyBzaW1wbGUgc2hpbSBmb3Igb2JqZWN0U3RvcmUuZ2V0QWxsKCksIGZhbGxpbmcgYmFjayB0byBJREJDdXJzb3JcbmZ1bmN0aW9uIGdldEFsbChvYmplY3RTdG9yZSwga2V5UmFuZ2UsIG9uU3VjY2Vzcykge1xuICBpZiAodHlwZW9mIG9iamVjdFN0b3JlLmdldEFsbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIHVzZSBuYXRpdmUgZ2V0QWxsXG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlKS5vbnN1Y2Nlc3MgPSBvblN1Y2Nlc3M7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGZhbGwgYmFjayB0byBjdXJzb3JzXG4gIHZhciB2YWx1ZXMgPSBbXTtcblxuICBmdW5jdGlvbiBvbkN1cnNvcihlKSB7XG4gICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoY3Vyc29yKSB7XG4gICAgICB2YWx1ZXMucHVzaChjdXJzb3IudmFsdWUpO1xuICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uU3VjY2Vzcyh7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHJlc3VsdDogdmFsdWVzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9iamVjdFN0b3JlLm9wZW5DdXJzb3Ioa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xufVxuXG5mdW5jdGlvbiBhbGxEb2NzS2V5cyhrZXlzLCBkb2NTdG9yZSwgb25CYXRjaCkge1xuICAvLyBJdCdzIG5vdCBndWFyYW50ZWQgdG8gYmUgcmV0dXJuZWQgaW4gcmlnaHQgb3JkZXIgIFxuICB2YXIgdmFsdWVzQmF0Y2ggPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xuICB2YXIgY291bnQgPSAwO1xuICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcbiAgICBkb2NTdG9yZS5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQucmVzdWx0KSB7XG4gICAgICAgIHZhbHVlc0JhdGNoW2luZGV4XSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZXNCYXRjaFtpbmRleF0gPSB7a2V5OiBrZXksIGVycm9yOiAnbm90X2ZvdW5kJ307XG4gICAgICB9XG4gICAgICBjb3VudCsrO1xuICAgICAgaWYgKGNvdW50ID09PSBrZXlzLmxlbmd0aCkge1xuICAgICAgICBvbkJhdGNoKGtleXMsIHZhbHVlc0JhdGNoLCB7fSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleVJhbmdlKHN0YXJ0LCBlbmQsIGluY2x1c2l2ZUVuZCwga2V5LCBkZXNjZW5kaW5nKSB7XG4gIHRyeSB7XG4gICAgaWYgKHN0YXJ0ICYmIGVuZCkge1xuICAgICAgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKGVuZCwgc3RhcnQsICFpbmNsdXNpdmVFbmQsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5ib3VuZChzdGFydCwgZW5kLCBmYWxzZSwgIWluY2x1c2l2ZUVuZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdGFydCkge1xuICAgICAgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLnVwcGVyQm91bmQoc3RhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmxvd2VyQm91bmQoc3RhcnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZW5kKSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChlbmQsICFpbmNsdXNpdmVFbmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLnVwcGVyQm91bmQoZW5kLCAhaW5jbHVzaXZlRW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleSkge1xuICAgICAgcmV0dXJuIElEQktleVJhbmdlLm9ubHkoa2V5KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaWRiQWxsRG9jcyhvcHRzLCBpZGIsIGNhbGxiYWNrKSB7XG4gIHZhciBzdGFydCA9ICdzdGFydGtleScgaW4gb3B0cyA/IG9wdHMuc3RhcnRrZXkgOiBmYWxzZTtcbiAgdmFyIGVuZCA9ICdlbmRrZXknIGluIG9wdHMgPyBvcHRzLmVuZGtleSA6IGZhbHNlO1xuICB2YXIga2V5ID0gJ2tleScgaW4gb3B0cyA/IG9wdHMua2V5IDogZmFsc2U7XG4gIHZhciBrZXlzID0gJ2tleXMnIGluIG9wdHMgPyBvcHRzLmtleXMgOiBmYWxzZTsgXG4gIHZhciBza2lwID0gb3B0cy5za2lwIHx8IDA7XG4gIHZhciBsaW1pdCA9IHR5cGVvZiBvcHRzLmxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdHMubGltaXQgOiAtMTtcbiAgdmFyIGluY2x1c2l2ZUVuZCA9IG9wdHMuaW5jbHVzaXZlX2VuZCAhPT0gZmFsc2U7XG5cbiAgdmFyIGtleVJhbmdlIDsgXG4gIHZhciBrZXlSYW5nZUVycm9yO1xuICBpZiAoIWtleXMpIHtcbiAgICBrZXlSYW5nZSA9IGNyZWF0ZUtleVJhbmdlKHN0YXJ0LCBlbmQsIGluY2x1c2l2ZUVuZCwga2V5LCBvcHRzLmRlc2NlbmRpbmcpO1xuICAgIGtleVJhbmdlRXJyb3IgPSBrZXlSYW5nZSAmJiBrZXlSYW5nZS5lcnJvcjtcbiAgICBpZiAoa2V5UmFuZ2VFcnJvciAmJiBcbiAgICAgICEoa2V5UmFuZ2VFcnJvci5uYW1lID09PSBcIkRhdGFFcnJvclwiICYmIGtleVJhbmdlRXJyb3IuY29kZSA9PT0gMCkpIHtcbiAgICAgIC8vIERhdGFFcnJvciB3aXRoIGVycm9yIGNvZGUgMCBpbmRpY2F0ZXMgc3RhcnQgaXMgbGVzcyB0aGFuIGVuZCwgc29cbiAgICAgIC8vIGNhbiBqdXN0IGRvIGFuIGVtcHR5IHF1ZXJ5LiBFbHNlIG5lZWQgdG8gdGhyb3dcbiAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihJREJfRVJST1IsXG4gICAgICAgIGtleVJhbmdlRXJyb3IubmFtZSwga2V5UmFuZ2VFcnJvci5tZXNzYWdlKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHN0b3JlcyA9IFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSwgTUVUQV9TVE9SRV07XG5cbiAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICBzdG9yZXMucHVzaChBVFRBQ0hfU1RPUkUpO1xuICB9XG4gIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsICdyZWFkb25seScpO1xuICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gIH1cbiAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG4gIHR4bi5vbmNvbXBsZXRlID0gb25UeG5Db21wbGV0ZTtcbiAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgdmFyIG1ldGFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKTtcbiAgdmFyIGRvY0lkUmV2SW5kZXggPSBzZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIGRvY0NvdW50O1xuICB2YXIgdXBkYXRlU2VxO1xuXG4gIG1ldGFTdG9yZS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICBkb2NDb3VudCA9IGUudGFyZ2V0LnJlc3VsdC5kb2NDb3VudDtcbiAgfTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgIGdldE1heFVwZGF0ZVNlcShzZXFTdG9yZSwgZnVuY3Rpb24gKGUpIHsgXG4gICAgICBpZiAoZS50YXJnZXQucmVzdWx0ICYmIGUudGFyZ2V0LnJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHVwZGF0ZVNlcSA9IGUudGFyZ2V0LnJlc3VsdFswXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1heFVwZGF0ZVNlcShvYmplY3RTdG9yZSwgb25TdWNjZXNzKSB7XG4gICAgZnVuY3Rpb24gb25DdXJzb3IoZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHZhciBtYXhLZXkgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoY3Vyc29yICYmIGN1cnNvci5rZXkpIHtcbiAgICAgICAgbWF4S2V5ID0gY3Vyc29yLmtleTtcbiAgICAgIH0gXG4gICAgICByZXR1cm4gb25TdWNjZXNzKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgcmVzdWx0OiBbbWF4S2V5XVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihudWxsLCAncHJldicpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9XG5cbiAgLy8gaWYgdGhlIHVzZXIgc3BlY2lmaWVzIGluY2x1ZGVfZG9jcz10cnVlLCB0aGVuIHdlIGRvbid0XG4gIC8vIHdhbnQgdG8gYmxvY2sgdGhlIG1haW4gY3Vyc29yIHdoaWxlIHdlJ3JlIGZldGNoaW5nIHRoZSBkb2NcbiAgZnVuY3Rpb24gZmV0Y2hEb2NBc3luY2hyb25vdXNseShtZXRhZGF0YSwgcm93LCB3aW5uaW5nUmV2JCQxKSB7XG4gICAgdmFyIGtleSA9IG1ldGFkYXRhLmlkICsgXCI6OlwiICsgd2lubmluZ1JldiQkMTtcbiAgICBkb2NJZFJldkluZGV4LmdldChrZXkpLm9uc3VjY2VzcyA9ICBmdW5jdGlvbiBvbkdldERvYyhlKSB7XG4gICAgICByb3cuZG9jID0gZGVjb2RlRG9jKGUudGFyZ2V0LnJlc3VsdCkgfHwge307XG4gICAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgICAgdmFyIGNvbmZsaWN0cyA9IGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpO1xuICAgICAgICBpZiAoY29uZmxpY3RzLmxlbmd0aCkge1xuICAgICAgICAgIHJvdy5kb2MuX2NvbmZsaWN0cyA9IGNvbmZsaWN0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5KHJvdy5kb2MsIG9wdHMsIHR4bik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFsbERvY3NJbm5lcih3aW5uaW5nUmV2JCQxLCBtZXRhZGF0YSkge1xuICAgIHZhciByb3cgPSB7XG4gICAgICBpZDogbWV0YWRhdGEuaWQsXG4gICAgICBrZXk6IG1ldGFkYXRhLmlkLFxuICAgICAgdmFsdWU6IHtcbiAgICAgICAgcmV2OiB3aW5uaW5nUmV2JCQxXG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVsZXRlZCA9IG1ldGFkYXRhLmRlbGV0ZWQ7XG4gICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgIGlmIChrZXlzKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChyb3cpO1xuICAgICAgICAvLyBkZWxldGVkIGRvY3MgYXJlIG9rYXkgd2l0aCBcImtleXNcIiByZXF1ZXN0c1xuICAgICAgICByb3cudmFsdWUuZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIHJvdy5kb2MgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2tpcC0tIDw9IDApIHtcbiAgICAgIHJlc3VsdHMucHVzaChyb3cpO1xuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIGZldGNoRG9jQXN5bmNocm9ub3VzbHkobWV0YWRhdGEsIHJvdywgd2lubmluZ1JldiQkMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKGJhdGNoVmFsdWVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJhdGNoVmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IGxpbWl0KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdmFyIGJhdGNoVmFsdWUgPSBiYXRjaFZhbHVlc1tpXTtcbiAgICAgIGlmIChiYXRjaFZhbHVlLmVycm9yICYmIGtleXMpIHtcbiAgICAgICAgLy8ga2V5IHdhcyBub3QgZm91bmQgd2l0aCBcImtleXNcIiByZXF1ZXN0c1xuICAgICAgICByZXN1bHRzLnB1c2goYmF0Y2hWYWx1ZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoYmF0Y2hWYWx1ZSk7XG4gICAgICB2YXIgd2lubmluZ1JldiQkMSA9IG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgICBhbGxEb2NzSW5uZXIod2lubmluZ1JldiQkMSwgbWV0YWRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQmF0Y2goYmF0Y2hLZXlzLCBiYXRjaFZhbHVlcywgY3Vyc29yKSB7XG4gICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJvY2Vzc0JhdGNoKGJhdGNoVmFsdWVzKTtcbiAgICBpZiAocmVzdWx0cy5sZW5ndGggPCBsaW1pdCkge1xuICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25HZXRBbGwoZSkge1xuICAgIHZhciB2YWx1ZXMgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgdmFsdWVzID0gdmFsdWVzLnJldmVyc2UoKTtcbiAgICB9XG4gICAgcHJvY2Vzc0JhdGNoKHZhbHVlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBvblJlc3VsdHNSZWFkeSgpIHtcbiAgICB2YXIgcmV0dXJuVmFsID0ge1xuICAgICAgdG90YWxfcm93czogZG9jQ291bnQsXG4gICAgICBvZmZzZXQ6IG9wdHMuc2tpcCxcbiAgICAgIHJvd3M6IHJlc3VsdHNcbiAgICB9O1xuICAgIFxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEgJiYgdXBkYXRlU2VxICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVyblZhbC51cGRhdGVfc2VxID0gdXBkYXRlU2VxO1xuICAgIH1cbiAgICBjYWxsYmFjayhudWxsLCByZXR1cm5WYWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UeG5Db21wbGV0ZSgpIHtcbiAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgcG9zdFByb2Nlc3NBdHRhY2htZW50cyhyZXN1bHRzLCBvcHRzLmJpbmFyeSkudGhlbihvblJlc3VsdHNSZWFkeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uUmVzdWx0c1JlYWR5KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gZG9uJ3QgYm90aGVyIGRvaW5nIGFueSByZXF1ZXN0cyBpZiBzdGFydCA+IGVuZCBvciBsaW1pdCA9PT0gMFxuICBpZiAoa2V5UmFuZ2VFcnJvciB8fCBsaW1pdCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoa2V5cykge1xuICAgIHJldHVybiBhbGxEb2NzS2V5cyhvcHRzLmtleXMsIGRvY1N0b3JlLCBvbkJhdGNoKTtcbiAgfVxuICBpZiAobGltaXQgPT09IC0xKSB7IC8vIGp1c3QgZmV0Y2ggZXZlcnl0aGluZ1xuICAgIHJldHVybiBnZXRBbGwoZG9jU3RvcmUsIGtleVJhbmdlLCBvbkdldEFsbCk7XG4gIH1cbiAgLy8gZWxzZSBkbyBhIGN1cnNvclxuICAvLyBjaG9vc2UgYSBiYXRjaCBzaXplIGJhc2VkIG9uIHRoZSBza2lwLCBzaW5jZSB3ZSdsbCBuZWVkIHRvIHNraXAgdGhhdCBtYW55XG4gIHJ1bkJhdGNoZWRDdXJzb3IoZG9jU3RvcmUsIGtleVJhbmdlLCBvcHRzLmRlc2NlbmRpbmcsIGxpbWl0ICsgc2tpcCwgb25CYXRjaCk7XG59XG5cbi8vXG4vLyBCbG9icyBhcmUgbm90IHN1cHBvcnRlZCBpbiBhbGwgdmVyc2lvbnMgb2YgSW5kZXhlZERCLCBub3RhYmx5XG4vLyBDaHJvbWUgPDM3IGFuZCBBbmRyb2lkIDw1LiBJbiB0aG9zZSB2ZXJzaW9ucywgc3RvcmluZyBhIGJsb2Igd2lsbCB0aHJvdy5cbi8vXG4vLyBWYXJpb3VzIG90aGVyIGJsb2IgYnVncyBleGlzdCBpbiBDaHJvbWUgdjM3LTQyIChpbmNsdXNpdmUpLlxuLy8gRGV0ZWN0aW5nIHRoZW0gaXMgZXhwZW5zaXZlIGFuZCBjb25mdXNpbmcgdG8gdXNlcnMsIGFuZCBDaHJvbWUgMzctNDJcbi8vIGlzIGF0IHZlcnkgbG93IHVzYWdlIHdvcmxkd2lkZSwgc28gd2UgZG8gYSBoYWNreSB1c2VyQWdlbnQgY2hlY2sgaW5zdGVhZC5cbi8vXG4vLyBjb250ZW50LXR5cGUgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDA4MTIwXG4vLyA0MDQgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3OTE2XG4vLyBGaWxlUmVhZGVyIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzgzNlxuLy9cbmZ1bmN0aW9uIGNoZWNrQmxvYlN1cHBvcnQodHhuKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgIHZhciBibG9iJCQxID0gY3JlYXRlQmxvYihbJyddKTtcbiAgICB2YXIgcmVxID0gdHhuLm9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpLnB1dChibG9iJCQxLCAna2V5Jyk7XG5cbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1hdGNoZWRDaHJvbWUgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtcbiAgICAgIHZhciBtYXRjaGVkRWRnZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2VcXC8vKTtcbiAgICAgIC8vIE1TIEVkZ2UgcHJldGVuZHMgdG8gYmUgQ2hyb21lIDQyOlxuICAgICAgLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9oaDg2OTMwMSUyOHY9dnMuODUlMjkuYXNweFxuICAgICAgcmVzb2x2ZShtYXRjaGVkRWRnZSB8fCAhbWF0Y2hlZENocm9tZSB8fFxuICAgICAgICBwYXJzZUludChtYXRjaGVkQ2hyb21lWzFdLCAxMCkgPj0gNDMpO1xuICAgIH07XG5cbiAgICByZXEub25lcnJvciA9IHR4bi5vbmFib3J0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIElmIHRoZSB0cmFuc2FjdGlvbiBhYm9ydHMgbm93IGl0cyBkdWUgdG8gbm90IGJlaW5nIGFibGUgdG9cbiAgICAgIC8vIHdyaXRlIHRvIHRoZSBkYXRhYmFzZSwgbGlrZWx5IGR1ZSB0byB0aGUgZGlzayBiZWluZyBmdWxsXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgfTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTsgLy8gZXJyb3IsIHNvIGFzc3VtZSB1bnN1cHBvcnRlZFxuICB9KTtcbn1cblxuZnVuY3Rpb24gY291bnREb2NzKHR4biwgY2IpIHtcbiAgdmFyIGluZGV4ID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkuaW5kZXgoJ2RlbGV0ZWRPckxvY2FsJyk7XG4gIGluZGV4LmNvdW50KElEQktleVJhbmdlLm9ubHkoJzAnKSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICBjYihlLnRhcmdldC5yZXN1bHQpO1xuICB9O1xufVxuXG4vLyBUaGlzIHRhc2sgcXVldWUgZW5zdXJlcyB0aGF0IElEQiBvcGVuIGNhbGxzIGFyZSBkb25lIGluIHRoZWlyIG93biB0aWNrXG5cbnZhciBydW5uaW5nID0gZmFsc2U7XG52YXIgcXVldWUgPSBbXTtcblxuZnVuY3Rpb24gdHJ5Q29kZShmdW4sIGVyciwgcmVzLCBQb3VjaERCKSB7XG4gIHRyeSB7XG4gICAgZnVuKGVyciwgcmVzKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gU2hvdWxkbid0IGhhcHBlbiwgYnV0IGluIHNvbWUgb2RkIGNhc2VzXG4gICAgLy8gSW5kZXhlZERCIGltcGxlbWVudGF0aW9ucyBtaWdodCB0aHJvdyBhIHN5bmNcbiAgICAvLyBlcnJvciwgaW4gd2hpY2ggY2FzZSB0aGlzIHdpbGwgYXQgbGVhc3QgbG9nIGl0LlxuICAgIFBvdWNoREIuZW1pdCgnZXJyb3InLCBlcnIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5TmV4dCgpIHtcbiAgaWYgKHJ1bm5pbmcgfHwgIXF1ZXVlLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICBydW5uaW5nID0gdHJ1ZTtcbiAgcXVldWUuc2hpZnQoKSgpO1xufVxuXG5mdW5jdGlvbiBlbnF1ZXVlVGFzayhhY3Rpb24sIGNhbGxiYWNrLCBQb3VjaERCKSB7XG4gIHF1ZXVlLnB1c2goZnVuY3Rpb24gcnVuQWN0aW9uKCkge1xuICAgIGFjdGlvbihmdW5jdGlvbiBydW5DYWxsYmFjayhlcnIsIHJlcykge1xuICAgICAgdHJ5Q29kZShjYWxsYmFjaywgZXJyLCByZXMsIFBvdWNoREIpO1xuICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uIHJ1bk5leHQoKSB7XG4gICAgICAgIGFwcGx5TmV4dChQb3VjaERCKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgYXBwbHlOZXh0KCk7XG59XG5cbmZ1bmN0aW9uIGNoYW5nZXMob3B0cywgYXBpLCBkYk5hbWUsIGlkYikge1xuICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgaWYgKG9wdHMuY29udGludW91cykge1xuICAgIHZhciBpZCA9IGRiTmFtZSArICc6JyArIHV1aWQoKTtcbiAgICBjaGFuZ2VzSGFuZGxlci5hZGRMaXN0ZW5lcihkYk5hbWUsIGlkLCBhcGksIG9wdHMpO1xuICAgIGNoYW5nZXNIYW5kbGVyLm5vdGlmeShkYk5hbWUpO1xuICAgIHJldHVybiB7XG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hhbmdlc0hhbmRsZXIucmVtb3ZlTGlzdGVuZXIoZGJOYW1lLCBpZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBkb2NJZHMgPSBvcHRzLmRvY19pZHMgJiYgbmV3IEV4cG9ydGVkU2V0KG9wdHMuZG9jX2lkcyk7XG5cbiAgb3B0cy5zaW5jZSA9IG9wdHMuc2luY2UgfHwgMDtcbiAgdmFyIGxhc3RTZXEgPSBvcHRzLnNpbmNlO1xuXG4gIHZhciBsaW1pdCA9ICdsaW1pdCcgaW4gb3B0cyA/IG9wdHMubGltaXQgOiAtMTtcbiAgaWYgKGxpbWl0ID09PSAwKSB7XG4gICAgbGltaXQgPSAxOyAvLyBwZXIgQ291Y2hEQiBfY2hhbmdlcyBzcGVjXG4gIH1cblxuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgbnVtUmVzdWx0cyA9IDA7XG4gIHZhciBmaWx0ZXIgPSBmaWx0ZXJDaGFuZ2Uob3B0cyk7XG4gIHZhciBkb2NJZHNUb01ldGFkYXRhID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgdmFyIHR4bjtcbiAgdmFyIGJ5U2VxU3RvcmU7XG4gIHZhciBkb2NTdG9yZTtcbiAgdmFyIGRvY0lkUmV2SW5kZXg7XG5cbiAgZnVuY3Rpb24gb25CYXRjaChiYXRjaEtleXMsIGJhdGNoVmFsdWVzLCBjdXJzb3IpIHtcbiAgICBpZiAoIWN1cnNvciB8fCAhYmF0Y2hLZXlzLmxlbmd0aCkgeyAvLyBkb25lXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHdpbm5pbmdEb2NzID0gbmV3IEFycmF5KGJhdGNoS2V5cy5sZW5ndGgpO1xuICAgIHZhciBtZXRhZGF0YXMgPSBuZXcgQXJyYXkoYmF0Y2hLZXlzLmxlbmd0aCk7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jKG1ldGFkYXRhLCB3aW5uaW5nRG9jKSB7XG4gICAgICB2YXIgY2hhbmdlID0gb3B0cy5wcm9jZXNzQ2hhbmdlKHdpbm5pbmdEb2MsIG1ldGFkYXRhLCBvcHRzKTtcbiAgICAgIGxhc3RTZXEgPSBjaGFuZ2Uuc2VxID0gbWV0YWRhdGEuc2VxO1xuXG4gICAgICB2YXIgZmlsdGVyZWQgPSBmaWx0ZXIoY2hhbmdlKTtcbiAgICAgIGlmICh0eXBlb2YgZmlsdGVyZWQgPT09ICdvYmplY3QnKSB7IC8vIGFueXRoaW5nIGJ1dCB0cnVlL2ZhbHNlIGluZGljYXRlcyBlcnJvclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZmlsdGVyZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWZpbHRlcmVkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICAgIG51bVJlc3VsdHMrKztcbiAgICAgIGlmIChvcHRzLnJldHVybl9kb2NzKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChjaGFuZ2UpO1xuICAgICAgfVxuICAgICAgLy8gcHJvY2VzcyB0aGUgYXR0YWNobWVudCBpbW1lZGlhdGVseVxuICAgICAgLy8gZm9yIHRoZSBiZW5lZml0IG9mIGxpdmUgbGlzdGVuZXJzXG4gICAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICBmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3Nhcnkod2lubmluZ0RvYywgb3B0cywgdHhuLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKFtjaGFuZ2VdLCBvcHRzLmJpbmFyeSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoY2hhbmdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2hhbmdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkJhdGNoRG9uZSgpIHtcbiAgICAgIHZhciBwcm9taXNlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHdpbm5pbmdEb2NzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChudW1SZXN1bHRzID09PSBsaW1pdCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aW5uaW5nRG9jID0gd2lubmluZ0RvY3NbaV07XG4gICAgICAgIGlmICghd2lubmluZ0RvYykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IG1ldGFkYXRhc1tpXTtcbiAgICAgICAgcHJvbWlzZXMucHVzaChwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jKG1ldGFkYXRhLCB3aW5uaW5nRG9jKSk7XG4gICAgICB9XG5cbiAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGFuZ2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKGNoYW5nZXNbaV0pIHtcbiAgICAgICAgICAgIG9wdHMub25DaGFuZ2UoY2hhbmdlc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KS5jYXRjaChvcHRzLmNvbXBsZXRlKTtcblxuICAgICAgaWYgKG51bVJlc3VsdHMgIT09IGxpbWl0KSB7XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZldGNoIGFsbCBtZXRhZGF0YXMvd2lubmluZ2RvY3MgZnJvbSB0aGlzIGJhdGNoIGluIHBhcmFsbGVsLCB0aGVuIHByb2Nlc3NcbiAgICAvLyB0aGVtIGFsbCBvbmx5IG9uY2UgYWxsIGRhdGEgaGFzIGJlZW4gY29sbGVjdGVkLiBUaGlzIGlzIGRvbmUgaW4gcGFyYWxsZWxcbiAgICAvLyBiZWNhdXNlIGl0J3MgZmFzdGVyIHRoYW4gZG9pbmcgaXQgb25lLWF0LWEtdGltZS5cbiAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgYmF0Y2hWYWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICAgIHZhciBkb2MgPSBkZWNvZGVEb2ModmFsdWUpO1xuICAgICAgdmFyIHNlcSA9IGJhdGNoS2V5c1tpXTtcbiAgICAgIGZldGNoV2lubmluZ0RvY0FuZE1ldGFkYXRhKGRvYywgc2VxLCBmdW5jdGlvbiAobWV0YWRhdGEsIHdpbm5pbmdEb2MpIHtcbiAgICAgICAgbWV0YWRhdGFzW2ldID0gbWV0YWRhdGE7XG4gICAgICAgIHdpbm5pbmdEb2NzW2ldID0gd2lubmluZ0RvYztcbiAgICAgICAgaWYgKCsrbnVtRG9uZSA9PT0gYmF0Y2hLZXlzLmxlbmd0aCkge1xuICAgICAgICAgIG9uQmF0Y2hEb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25HZXRNZXRhZGF0YShkb2MsIHNlcSwgbWV0YWRhdGEsIGNiKSB7XG4gICAgaWYgKG1ldGFkYXRhLnNlcSAhPT0gc2VxKSB7XG4gICAgICAvLyBzb21lIG90aGVyIHNlcSBpcyBsYXRlclxuICAgICAgcmV0dXJuIGNiKCk7XG4gICAgfVxuXG4gICAgaWYgKG1ldGFkYXRhLndpbm5pbmdSZXYgPT09IGRvYy5fcmV2KSB7XG4gICAgICAvLyB0aGlzIGlzIHRoZSB3aW5uaW5nIGRvY1xuICAgICAgcmV0dXJuIGNiKG1ldGFkYXRhLCBkb2MpO1xuICAgIH1cblxuICAgIC8vIGZldGNoIHdpbm5pbmcgZG9jIGluIHNlcGFyYXRlIHJlcXVlc3RcbiAgICB2YXIgZG9jSWRSZXYgPSBkb2MuX2lkICsgJzo6JyArIG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgdmFyIHJlcSA9IGRvY0lkUmV2SW5kZXguZ2V0KGRvY0lkUmV2KTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNiKG1ldGFkYXRhLCBkZWNvZGVEb2MoZS50YXJnZXQucmVzdWx0KSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoV2lubmluZ0RvY0FuZE1ldGFkYXRhKGRvYywgc2VxLCBjYikge1xuICAgIGlmIChkb2NJZHMgJiYgIWRvY0lkcy5oYXMoZG9jLl9pZCkpIHtcbiAgICAgIHJldHVybiBjYigpO1xuICAgIH1cblxuICAgIHZhciBtZXRhZGF0YSA9IGRvY0lkc1RvTWV0YWRhdGEuZ2V0KGRvYy5faWQpO1xuICAgIGlmIChtZXRhZGF0YSkgeyAvLyBjYWNoZWRcbiAgICAgIHJldHVybiBvbkdldE1ldGFkYXRhKGRvYywgc2VxLCBtZXRhZGF0YSwgY2IpO1xuICAgIH1cbiAgICAvLyBtZXRhZGF0YSBub3QgY2FjaGVkLCBoYXZlIHRvIGdvIGZldGNoIGl0XG4gICAgZG9jU3RvcmUuZ2V0KGRvYy5faWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICBkb2NJZHNUb01ldGFkYXRhLnNldChkb2MuX2lkLCBtZXRhZGF0YSk7XG4gICAgICBvbkdldE1ldGFkYXRhKGRvYywgc2VxLCBtZXRhZGF0YSwgY2IpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgb3B0cy5jb21wbGV0ZShudWxsLCB7XG4gICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgbGFzdF9zZXE6IGxhc3RTZXFcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVHhuQ29tcGxldGUoKSB7XG4gICAgaWYgKCFvcHRzLmNvbnRpbnVvdXMgJiYgb3B0cy5hdHRhY2htZW50cykge1xuICAgICAgLy8gY2Fubm90IGd1YXJhbnRlZSB0aGF0IHBvc3RQcm9jZXNzaW5nIHdhcyBhbHJlYWR5IGRvbmUsXG4gICAgICAvLyBzbyBkbyBpdCBhZ2FpblxuICAgICAgcG9zdFByb2Nlc3NBdHRhY2htZW50cyhyZXN1bHRzKS50aGVuKGZpbmlzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbmlzaCgpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvYmplY3RTdG9yZXMgPSBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkVdO1xuICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgIG9iamVjdFN0b3Jlcy5wdXNoKEFUVEFDSF9TVE9SRSk7XG4gIH1cbiAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIG9iamVjdFN0b3JlcywgJ3JlYWRvbmx5Jyk7XG4gIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICByZXR1cm4gb3B0cy5jb21wbGV0ZSh0eG5SZXN1bHQuZXJyb3IpO1xuICB9XG4gIHR4biA9IHR4blJlc3VsdC50eG47XG4gIHR4bi5vbmFib3J0ID0gaWRiRXJyb3Iob3B0cy5jb21wbGV0ZSk7XG4gIHR4bi5vbmNvbXBsZXRlID0gb25UeG5Db21wbGV0ZTtcblxuICBieVNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gIGRvY0lkUmV2SW5kZXggPSBieVNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuXG4gIHZhciBrZXlSYW5nZSA9IChvcHRzLnNpbmNlICYmICFvcHRzLmRlc2NlbmRpbmcpID9cbiAgICBJREJLZXlSYW5nZS5sb3dlckJvdW5kKG9wdHMuc2luY2UsIHRydWUpIDogbnVsbDtcblxuICBydW5CYXRjaGVkQ3Vyc29yKGJ5U2VxU3RvcmUsIGtleVJhbmdlLCBvcHRzLmRlc2NlbmRpbmcsIGxpbWl0LCBvbkJhdGNoKTtcbn1cblxudmFyIGNhY2hlZERCcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xudmFyIGJsb2JTdXBwb3J0UHJvbWlzZTtcbnZhciBvcGVuUmVxTGlzdCA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG5mdW5jdGlvbiBJZGJQb3VjaChvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgYXBpID0gdGhpcztcblxuICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAodGhpc0NhbGxiYWNrKSB7XG4gICAgaW5pdChhcGksIG9wdHMsIHRoaXNDYWxsYmFjayk7XG4gIH0sIGNhbGxiYWNrLCBhcGkuY29uc3RydWN0b3IpO1xufVxuXG5mdW5jdGlvbiBpbml0KGFwaSwgb3B0cywgY2FsbGJhY2spIHtcblxuICB2YXIgZGJOYW1lID0gb3B0cy5uYW1lO1xuXG4gIHZhciBpZGIgPSBudWxsO1xuICB2YXIgaWRiR2xvYmFsRmFpbHVyZUVycm9yID0gbnVsbDtcbiAgYXBpLl9tZXRhID0gbnVsbDtcblxuICBmdW5jdGlvbiBlbnJpY2hDYWxsYmFja0Vycm9yKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlcnJvciwgcmVzdWx0KSB7XG4gICAgICBpZiAoZXJyb3IgJiYgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhZXJyb3IucmVhc29uKSB7XG4gICAgICAgIGlmIChpZGJHbG9iYWxGYWlsdXJlRXJyb3IpIHtcbiAgICAgICAgICBlcnJvci5yZWFzb24gPSBpZGJHbG9iYWxGYWlsdXJlRXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2soZXJyb3IsIHJlc3VsdCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIGNhbGxlZCB3aGVuIGNyZWF0aW5nIGEgZnJlc2ggbmV3IGRhdGFiYXNlXG4gIGZ1bmN0aW9uIGNyZWF0ZVNjaGVtYShkYikge1xuICAgIHZhciBkb2NTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKERPQ19TVE9SRSwge2tleVBhdGggOiAnaWQnfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFLCB7YXV0b0luY3JlbWVudDogdHJ1ZX0pXG4gICAgICAuY3JlYXRlSW5kZXgoJ19kb2NfaWRfcmV2JywgJ19kb2NfaWRfcmV2Jywge3VuaXF1ZTogdHJ1ZX0pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSwge2tleVBhdGg6ICdkaWdlc3QnfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoTUVUQV9TVE9SRSwge2tleVBhdGg6ICdpZCcsIGF1dG9JbmNyZW1lbnQ6IGZhbHNlfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSk7XG5cbiAgICAvLyBhZGRlZCBpbiB2MlxuICAgIGRvY1N0b3JlLmNyZWF0ZUluZGV4KCdkZWxldGVkT3JMb2NhbCcsICdkZWxldGVkT3JMb2NhbCcsIHt1bmlxdWUgOiBmYWxzZX0pO1xuXG4gICAgLy8gYWRkZWQgaW4gdjNcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShMT0NBTF9TVE9SRSwge2tleVBhdGg6ICdfaWQnfSk7XG5cbiAgICAvLyBhZGRlZCBpbiB2NFxuICAgIHZhciBhdHRBbmRTZXFTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFLFxuICAgICAge2F1dG9JbmNyZW1lbnQ6IHRydWV9KTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnc2VxJywgJ3NlcScpO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdkaWdlc3RTZXEnLCAnZGlnZXN0U2VxJywge3VuaXF1ZTogdHJ1ZX0pO1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMlxuICAvLyB1bmZvcnR1bmF0ZWx5IFwiZGVsZXRlZE9yTG9jYWxcIiBpcyBhIG1pc25vbWVyIG5vdyB0aGF0IHdlIG5vIGxvbmdlclxuICAvLyBzdG9yZSBsb2NhbCBkb2NzIGluIHRoZSBtYWluIGRvYy1zdG9yZSwgYnV0IHdoYWRkeWFnb25uYWRvXG4gIGZ1bmN0aW9uIGFkZERlbGV0ZWRPckxvY2FsSW5kZXgodHhuLCBjYWxsYmFjaykge1xuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIGRvY1N0b3JlLmNyZWF0ZUluZGV4KCdkZWxldGVkT3JMb2NhbCcsICdkZWxldGVkT3JMb2NhbCcsIHt1bmlxdWUgOiBmYWxzZX0pO1xuXG4gICAgZG9jU3RvcmUub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgdmFyIGRlbGV0ZWQgPSBpc0RlbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICBtZXRhZGF0YS5kZWxldGVkT3JMb2NhbCA9IGRlbGV0ZWQgPyBcIjFcIiA6IFwiMFwiO1xuICAgICAgICBkb2NTdG9yZS5wdXQobWV0YWRhdGEpO1xuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDMgKHBhcnQgMSlcbiAgZnVuY3Rpb24gY3JlYXRlTG9jYWxTdG9yZVNjaGVtYShkYikge1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKExPQ0FMX1NUT1JFLCB7a2V5UGF0aDogJ19pZCd9KVxuICAgICAgLmNyZWF0ZUluZGV4KCdfZG9jX2lkX3JldicsICdfZG9jX2lkX3JldicsIHt1bmlxdWU6IHRydWV9KTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDMgKHBhcnQgMilcbiAgZnVuY3Rpb24gbWlncmF0ZUxvY2FsU3RvcmUodHhuLCBjYikge1xuICAgIHZhciBsb2NhbFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcblxuICAgIHZhciBjdXJzb3IgPSBkb2NTdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgY3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgdmFyIGRvY0lkID0gbWV0YWRhdGEuaWQ7XG4gICAgICAgIHZhciBsb2NhbCA9IGlzTG9jYWxJZChkb2NJZCk7XG4gICAgICAgIHZhciByZXYgPSB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGxvY2FsKSB7XG4gICAgICAgICAgdmFyIGRvY0lkUmV2ID0gZG9jSWQgKyBcIjo6XCIgKyByZXY7XG4gICAgICAgICAgLy8gcmVtb3ZlIGFsbCBzZXEgZW50cmllc1xuICAgICAgICAgIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRvY0lkXG4gICAgICAgICAgdmFyIHN0YXJ0ID0gZG9jSWQgKyBcIjo6XCI7XG4gICAgICAgICAgdmFyIGVuZCA9IGRvY0lkICsgXCI6On5cIjtcbiAgICAgICAgICB2YXIgaW5kZXggPSBzZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgICAgICAgICB2YXIgcmFuZ2UgPSBJREJLZXlSYW5nZS5ib3VuZChzdGFydCwgZW5kLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgIHZhciBzZXFDdXJzb3IgPSBpbmRleC5vcGVuQ3Vyc29yKHJhbmdlKTtcbiAgICAgICAgICBzZXFDdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHNlcUN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgIGlmICghc2VxQ3Vyc29yKSB7XG4gICAgICAgICAgICAgIC8vIGRvbmVcbiAgICAgICAgICAgICAgZG9jU3RvcmUuZGVsZXRlKGN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgZGF0YSA9IHNlcUN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKGRhdGEuX2RvY19pZF9yZXYgPT09IGRvY0lkUmV2KSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yZS5wdXQoZGF0YSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2VxU3RvcmUuZGVsZXRlKHNlcUN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgc2VxQ3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgICBjYigpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiA0IChwYXJ0IDEpXG4gIGZ1bmN0aW9uIGFkZEF0dGFjaEFuZFNlcVN0b3JlKGRiKSB7XG4gICAgdmFyIGF0dEFuZFNlcVN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICB7YXV0b0luY3JlbWVudDogdHJ1ZX0pO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdzZXEnLCAnc2VxJyk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ2RpZ2VzdFNlcScsICdkaWdlc3RTZXEnLCB7dW5pcXVlOiB0cnVlfSk7XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiA0IChwYXJ0IDIpXG4gIGZ1bmN0aW9uIG1pZ3JhdGVBdHRzQW5kU2Vxcyh0eG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgdmFyIGF0dFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSk7XG4gICAgdmFyIGF0dEFuZFNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFKTtcblxuICAgIC8vIG5lZWQgdG8gYWN0dWFsbHkgcG9wdWxhdGUgdGhlIHRhYmxlLiB0aGlzIGlzIHRoZSBleHBlbnNpdmUgcGFydCxcbiAgICAvLyBzbyBhcyBhbiBvcHRpbWl6YXRpb24sIGNoZWNrIGZpcnN0IHRoYXQgdGhpcyBkYXRhYmFzZSBldmVuXG4gICAgLy8gY29udGFpbnMgYXR0YWNobWVudHNcbiAgICB2YXIgcmVxID0gYXR0U3RvcmUuY291bnQoKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjb3VudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGRvbmVcbiAgICAgIH1cblxuICAgICAgc2VxU3RvcmUub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGRvbmVcbiAgICAgICAgfVxuICAgICAgICB2YXIgZG9jID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgc2VxID0gY3Vyc29yLnByaW1hcnlLZXk7XG4gICAgICAgIHZhciBhdHRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyB8fCB7fSk7XG4gICAgICAgIHZhciBkaWdlc3RNYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhdHRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIGF0dCA9IGRvYy5fYXR0YWNobWVudHNbYXR0c1tqXV07XG4gICAgICAgICAgZGlnZXN0TWFwW2F0dC5kaWdlc3RdID0gdHJ1ZTsgLy8gdW5pcSBkaWdlc3RzLCBqdXN0IGluIGNhc2VcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGlnZXN0cyA9IE9iamVjdC5rZXlzKGRpZ2VzdE1hcCk7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBkaWdlc3RzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIGRpZ2VzdCA9IGRpZ2VzdHNbal07XG4gICAgICAgICAgYXR0QW5kU2VxU3RvcmUucHV0KHtcbiAgICAgICAgICAgIHNlcTogc2VxLFxuICAgICAgICAgICAgZGlnZXN0U2VxOiBkaWdlc3QgKyAnOjonICsgc2VxXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9O1xuICAgIH07XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiA1XG4gIC8vIEluc3RlYWQgb2YgcmVseWluZyBvbiBvbi10aGUtZmx5IG1pZ3JhdGlvbiBvZiBtZXRhZGF0YSxcbiAgLy8gdGhpcyBicmluZ3MgdGhlIGRvYy1zdG9yZSB0byBpdHMgbW9kZXJuIGZvcm06XG4gIC8vIC0gbWV0YWRhdGEud2lubmluZ3JldlxuICAvLyAtIG1ldGFkYXRhLnNlcVxuICAvLyAtIHN0cmluZ2lmeSB0aGUgbWV0YWRhdGEgd2hlbiBzdG9yaW5nIGl0XG4gIGZ1bmN0aW9uIG1pZ3JhdGVNZXRhZGF0YSh0eG4pIHtcblxuICAgIGZ1bmN0aW9uIGRlY29kZU1ldGFkYXRhQ29tcGF0KHN0b3JlZE9iamVjdCkge1xuICAgICAgaWYgKCFzdG9yZWRPYmplY3QuZGF0YSkge1xuICAgICAgICAvLyBvbGQgZm9ybWF0LCB3aGVuIHdlIGRpZG4ndCBzdG9yZSBpdCBzdHJpbmdpZmllZFxuICAgICAgICBzdG9yZWRPYmplY3QuZGVsZXRlZCA9IHN0b3JlZE9iamVjdC5kZWxldGVkT3JMb2NhbCA9PT0gJzEnO1xuICAgICAgICByZXR1cm4gc3RvcmVkT2JqZWN0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlY29kZU1ldGFkYXRhKHN0b3JlZE9iamVjdCk7XG4gICAgfVxuXG4gICAgLy8gZW5zdXJlIHRoYXQgZXZlcnkgbWV0YWRhdGEgaGFzIGEgd2lubmluZ1JldiBhbmQgc2VxLFxuICAgIC8vIHdoaWNoIHdhcyBwcmV2aW91c2x5IGNyZWF0ZWQgb24tdGhlLWZseSBidXQgYmV0dGVyIHRvIG1pZ3JhdGVcbiAgICB2YXIgYnlTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIHZhciBjdXJzb3IgPSBkb2NTdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgY3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBkb25lXG4gICAgICB9XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YUNvbXBhdChjdXJzb3IudmFsdWUpO1xuXG4gICAgICBtZXRhZGF0YS53aW5uaW5nUmV2ID0gbWV0YWRhdGEud2lubmluZ1JldiB8fFxuICAgICAgICB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcblxuICAgICAgZnVuY3Rpb24gZmV0Y2hNZXRhZGF0YVNlcSgpIHtcbiAgICAgICAgLy8gbWV0YWRhdGEuc2VxIHdhcyBhZGRlZCBwb3N0LTMuMi4wLCBzbyBpZiBpdCdzIG1pc3NpbmcsXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZmV0Y2ggaXQgbWFudWFsbHlcbiAgICAgICAgdmFyIHN0YXJ0ID0gbWV0YWRhdGEuaWQgKyAnOjonO1xuICAgICAgICB2YXIgZW5kID0gbWV0YWRhdGEuaWQgKyAnOjpcXHVmZmZmJztcbiAgICAgICAgdmFyIHJlcSA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jykub3BlbkN1cnNvcihcbiAgICAgICAgICBJREJLZXlSYW5nZS5ib3VuZChzdGFydCwgZW5kKSk7XG5cbiAgICAgICAgdmFyIG1ldGFkYXRhU2VxID0gMDtcbiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgICAgbWV0YWRhdGEuc2VxID0gbWV0YWRhdGFTZXE7XG4gICAgICAgICAgICByZXR1cm4gb25HZXRNZXRhZGF0YVNlcSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgc2VxID0gY3Vyc29yLnByaW1hcnlLZXk7XG4gICAgICAgICAgaWYgKHNlcSA+IG1ldGFkYXRhU2VxKSB7XG4gICAgICAgICAgICBtZXRhZGF0YVNlcSA9IHNlcTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uR2V0TWV0YWRhdGFTZXEoKSB7XG4gICAgICAgIHZhciBtZXRhZGF0YVRvU3RvcmUgPSBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSxcbiAgICAgICAgICBtZXRhZGF0YS53aW5uaW5nUmV2LCBtZXRhZGF0YS5kZWxldGVkKTtcblxuICAgICAgICB2YXIgcmVxID0gZG9jU3RvcmUucHV0KG1ldGFkYXRhVG9TdG9yZSk7XG4gICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRhZGF0YS5zZXEpIHtcbiAgICAgICAgcmV0dXJuIG9uR2V0TWV0YWRhdGFTZXEoKTtcbiAgICAgIH1cblxuICAgICAgZmV0Y2hNZXRhZGF0YVNlcSgpO1xuICAgIH07XG5cbiAgfVxuXG4gIGFwaS5fcmVtb3RlID0gZmFsc2U7XG4gIGFwaS50eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnaWRiJztcbiAgfTtcblxuICBhcGkuX2lkID0gdG9Qcm9taXNlKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKG51bGwsIGFwaS5fbWV0YS5pbnN0YW5jZUlkKTtcbiAgfSk7XG5cbiAgYXBpLl9idWxrRG9jcyA9IGZ1bmN0aW9uIGlkYl9idWxrRG9jcyhyZXEsIHJlcU9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWRiQnVsa0RvY3Mob3B0cywgcmVxLCByZXFPcHRzLCBhcGksIGlkYiwgZW5yaWNoQ2FsbGJhY2tFcnJvcihjYWxsYmFjaykpO1xuICB9O1xuXG4gIC8vIEZpcnN0IHdlIGxvb2sgdXAgdGhlIG1ldGFkYXRhIGluIHRoZSBpZHMgZGF0YWJhc2UsIHRoZW4gd2UgZmV0Y2ggdGhlXG4gIC8vIGN1cnJlbnQgcmV2aXNpb24ocykgZnJvbSB0aGUgYnkgc2VxdWVuY2Ugc3RvcmVcbiAgYXBpLl9nZXQgPSBmdW5jdGlvbiBpZGJfZ2V0KGlkLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciBkb2M7XG4gICAgdmFyIG1ldGFkYXRhO1xuICAgIHZhciBlcnI7XG4gICAgdmFyIHR4biA9IG9wdHMuY3R4O1xuICAgIGlmICghdHhuKSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYixcbiAgICAgICAgW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFLCBBVFRBQ0hfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICAgIGNhbGxiYWNrKGVyciwge2RvYzogZG9jLCBtZXRhZGF0YTogbWV0YWRhdGEsIGN0eDogdHhufSk7XG4gICAgfVxuXG4gICAgdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkuZ2V0KGlkKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgLy8gd2UgY2FuIGRldGVybWluZSB0aGUgcmVzdWx0IGhlcmUgaWY6XG4gICAgICAvLyAxLiB0aGVyZSBpcyBubyBzdWNoIGRvY3VtZW50XG4gICAgICAvLyAyLiB0aGUgZG9jdW1lbnQgaXMgZGVsZXRlZCBhbmQgd2UgZG9uJ3QgYXNrIGFib3V0IHNwZWNpZmljIHJldlxuICAgICAgLy8gV2hlbiB3ZSBhc2sgd2l0aCBvcHRzLnJldiB3ZSBleHBlY3QgdGhlIGFuc3dlciB0byBiZSBlaXRoZXJcbiAgICAgIC8vIGRvYyAocG9zc2libHkgd2l0aCBfZGVsZXRlZD10cnVlKSBvciBtaXNzaW5nIGVycm9yXG4gICAgICBpZiAoIW1ldGFkYXRhKSB7XG4gICAgICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCAnbWlzc2luZycpO1xuICAgICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXY7XG4gICAgICBpZiAoIW9wdHMucmV2KSB7XG4gICAgICAgIHJldiA9IG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgICAgIHZhciBkZWxldGVkID0gaXNEZWxldGVkKG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgXCJkZWxldGVkXCIpO1xuICAgICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV2ID0gb3B0cy5sYXRlc3QgPyBsYXRlc3Qob3B0cy5yZXYsIG1ldGFkYXRhKSA6IG9wdHMucmV2O1xuICAgICAgfVxuXG4gICAgICB2YXIgb2JqZWN0U3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICAgIHZhciBrZXkgPSBtZXRhZGF0YS5pZCArICc6OicgKyByZXY7XG5cbiAgICAgIG9iamVjdFN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpLmdldChrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGRvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKGRvYykge1xuICAgICAgICAgIGRvYyA9IGRlY29kZURvYyhkb2MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZG9jKSB7XG4gICAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdtaXNzaW5nJyk7XG4gICAgICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmlzaCgpO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fZ2V0QXR0YWNobWVudCA9IGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNoSWQsIGF0dGFjaG1lbnQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHR4bjtcbiAgICBpZiAob3B0cy5jdHgpIHtcbiAgICAgIHR4biA9IG9wdHMuY3R4O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYixcbiAgICAgICAgW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFLCBBVFRBQ0hfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIH1cbiAgICB2YXIgZGlnZXN0ID0gYXR0YWNobWVudC5kaWdlc3Q7XG4gICAgdmFyIHR5cGUgPSBhdHRhY2htZW50LmNvbnRlbnRfdHlwZTtcblxuICAgIHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpLmdldChkaWdlc3QpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgYm9keSA9IGUudGFyZ2V0LnJlc3VsdC5ib2R5O1xuICAgICAgcmVhZEJsb2JEYXRhKGJvZHksIHR5cGUsIG9wdHMuYmluYXJ5LCBmdW5jdGlvbiAoYmxvYkRhdGEpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgYmxvYkRhdGEpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2luZm8gPSBmdW5jdGlvbiBpZGJfaW5mbyhjYWxsYmFjaykge1xuICAgIHZhciB1cGRhdGVTZXE7XG4gICAgdmFyIGRvY0NvdW50O1xuXG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtNRVRBX1NUT1JFLCBCWV9TRVFfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZG9jQ291bnQgPSBlLnRhcmdldC5yZXN1bHQuZG9jQ291bnQ7XG4gICAgfTtcbiAgICB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKS5vcGVuQ3Vyc29yKG51bGwsICdwcmV2Jykub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICB1cGRhdGVTZXEgPSBjdXJzb3IgPyBjdXJzb3Iua2V5IDogMDtcbiAgICB9O1xuXG4gICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgIGRvY19jb3VudDogZG9jQ291bnQsXG4gICAgICAgIHVwZGF0ZV9zZXE6IHVwZGF0ZVNlcSxcbiAgICAgICAgLy8gZm9yIGRlYnVnZ2luZ1xuICAgICAgICBpZGJfYXR0YWNobWVudF9mb3JtYXQ6IChhcGkuX21ldGEuYmxvYlN1cHBvcnQgPyAnYmluYXJ5JyA6ICdiYXNlNjQnKVxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2FsbERvY3MgPSBmdW5jdGlvbiBpZGJfYWxsRG9jcyhvcHRzLCBjYWxsYmFjaykge1xuICAgIGlkYkFsbERvY3Mob3B0cywgaWRiLCBlbnJpY2hDYWxsYmFja0Vycm9yKGNhbGxiYWNrKSk7XG4gIH07XG5cbiAgYXBpLl9jaGFuZ2VzID0gZnVuY3Rpb24gaWRiQ2hhbmdlcyhvcHRzKSB7XG4gICAgcmV0dXJuIGNoYW5nZXMob3B0cywgYXBpLCBkYk5hbWUsIGlkYik7XG4gIH07XG5cbiAgYXBpLl9jbG9zZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSW5kZXhlZERCL0lEQkRhdGFiYXNlI2Nsb3NlXG4gICAgLy8gXCJSZXR1cm5zIGltbWVkaWF0ZWx5IGFuZCBjbG9zZXMgdGhlIGNvbm5lY3Rpb24gaW4gYSBzZXBhcmF0ZSB0aHJlYWQuLi5cIlxuICAgIGlkYi5jbG9zZSgpO1xuICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuXG4gIGFwaS5fZ2V0UmV2aXNpb25UcmVlID0gZnVuY3Rpb24gKGRvY0lkLCBjYWxsYmFjaykge1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbRE9DX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5nZXQoZG9jSWQpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBkb2MgPSBkZWNvZGVNZXRhZGF0YShldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBkb2MucmV2X3RyZWUpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gVGhpcyBmdW5jdGlvbiByZW1vdmVzIHJldmlzaW9ucyBvZiBkb2N1bWVudCBkb2NJZFxuICAvLyB3aGljaCBhcmUgbGlzdGVkIGluIHJldnMgYW5kIHNldHMgdGhpcyBkb2N1bWVudFxuICAvLyByZXZpc2lvbiB0byB0byByZXZfdHJlZVxuICBhcGkuX2RvQ29tcGFjdGlvbiA9IGZ1bmN0aW9uIChkb2NJZCwgcmV2cywgY2FsbGJhY2spIHtcbiAgICB2YXIgc3RvcmVzID0gW1xuICAgICAgRE9DX1NUT1JFLFxuICAgICAgQllfU0VRX1NUT1JFLFxuICAgICAgQVRUQUNIX1NUT1JFLFxuICAgICAgQVRUQUNIX0FORF9TRVFfU1RPUkVcbiAgICBdO1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsICdyZWFkd3JpdGUnKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG5cbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcblxuICAgIGRvY1N0b3JlLmdldChkb2NJZCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgIHRyYXZlcnNlUmV2VHJlZShtZXRhZGF0YS5yZXZfdHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2SGFzaCwgY3R4LCBvcHRzKSB7XG4gICAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgICBpZiAocmV2cy5pbmRleE9mKHJldikgIT09IC0xKSB7XG4gICAgICAgICAgb3B0cy5zdGF0dXMgPSAnbWlzc2luZyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29tcGFjdFJldnMocmV2cywgZG9jSWQsIHR4bik7XG4gICAgICB2YXIgd2lubmluZ1JldiQkMSA9IG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgICB2YXIgZGVsZXRlZCA9IG1ldGFkYXRhLmRlbGV0ZWQ7XG4gICAgICB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5wdXQoXG4gICAgICAgIGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxLCBkZWxldGVkKSk7XG4gICAgfTtcbiAgICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfTtcbiAgfTtcblxuXG4gIGFwaS5fZ2V0TG9jYWwgPSBmdW5jdGlvbiAoaWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtMT0NBTF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHggPSB0eG5SZXN1bHQudHhuO1xuICAgIHZhciByZXEgPSB0eC5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSkuZ2V0KGlkKTtcblxuICAgIHJlcS5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGRvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgZG9jWydfZG9jX2lkX3JldiddOyAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICAgICAgICBjYWxsYmFjayhudWxsLCBkb2MpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgYXBpLl9wdXRMb2NhbCA9IGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIGRlbGV0ZSBkb2MuX3JldmlzaW9uczsgLy8gaWdub3JlIHRoaXMsIHRydXN0IHRoZSByZXZcbiAgICB2YXIgb2xkUmV2ID0gZG9jLl9yZXY7XG4gICAgdmFyIGlkID0gZG9jLl9pZDtcbiAgICBpZiAoIW9sZFJldikge1xuICAgICAgZG9jLl9yZXYgPSAnMC0xJztcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jLl9yZXYgPSAnMC0nICsgKHBhcnNlSW50KG9sZFJldi5zcGxpdCgnLScpWzFdLCAxMCkgKyAxKTtcbiAgICB9XG5cbiAgICB2YXIgdHggPSBvcHRzLmN0eDtcbiAgICB2YXIgcmV0O1xuICAgIGlmICghdHgpIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTE9DQUxfU1RPUkVdLCAncmVhZHdyaXRlJyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHggPSB0eG5SZXN1bHQudHhuO1xuICAgICAgdHgub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICAgIHR4Lm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBvU3RvcmUgPSB0eC5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSk7XG4gICAgdmFyIHJlcTtcbiAgICBpZiAob2xkUmV2KSB7XG4gICAgICByZXEgPSBvU3RvcmUuZ2V0KGlkKTtcbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgb2xkRG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoIW9sZERvYyB8fCBvbGREb2MuX3JldiAhPT0gb2xkUmV2KSB7XG4gICAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKSk7XG4gICAgICAgIH0gZWxzZSB7IC8vIHVwZGF0ZVxuICAgICAgICAgIHZhciByZXEgPSBvU3RvcmUucHV0KGRvYyk7XG4gICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldCA9IHtvazogdHJ1ZSwgaWQ6IGRvYy5faWQsIHJldjogZG9jLl9yZXZ9O1xuICAgICAgICAgICAgaWYgKG9wdHMuY3R4KSB7IC8vIHJldHVybiBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHsgLy8gbmV3IGRvY1xuICAgICAgcmVxID0gb1N0b3JlLmFkZChkb2MpO1xuICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyBjb25zdHJhaW50IGVycm9yLCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBhYm9ydFxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBvbmVycm9yXG4gICAgICB9O1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0ID0ge29rOiB0cnVlLCBpZDogZG9jLl9pZCwgcmV2OiBkb2MuX3Jldn07XG4gICAgICAgIGlmIChvcHRzLmN0eCkgeyAvLyByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBhcGkuX3JlbW92ZUxvY2FsID0gZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgdmFyIHR4ID0gb3B0cy5jdHg7XG4gICAgaWYgKCF0eCkge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtMT0NBTF9TVE9SRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgICB0eC5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHJldDtcbiAgICB2YXIgaWQgPSBkb2MuX2lkO1xuICAgIHZhciBvU3RvcmUgPSB0eC5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSk7XG4gICAgdmFyIHJlcSA9IG9TdG9yZS5nZXQoaWQpO1xuXG4gICAgcmVxLm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgb2xkRG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFvbGREb2MgfHwgb2xkRG9jLl9yZXYgIT09IGRvYy5fcmV2KSB7XG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvU3RvcmUuZGVsZXRlKGlkKTtcbiAgICAgICAgcmV0ID0ge29rOiB0cnVlLCBpZDogaWQsIHJldjogJzAtMCd9O1xuICAgICAgICBpZiAob3B0cy5jdHgpIHsgLy8gcmV0dXJuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgYXBpLl9kZXN0cm95ID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgY2hhbmdlc0hhbmRsZXIucmVtb3ZlQWxsTGlzdGVuZXJzKGRiTmFtZSk7XG5cbiAgICAvL0Nsb3NlIG9wZW4gcmVxdWVzdCBmb3IgXCJkYk5hbWVcIiBkYXRhYmFzZSB0byBmaXggaWUgZGVsYXkuXG4gICAgdmFyIG9wZW5SZXEgPSBvcGVuUmVxTGlzdC5nZXQoZGJOYW1lKTtcbiAgICBpZiAob3BlblJlcSAmJiBvcGVuUmVxLnJlc3VsdCkge1xuICAgICAgb3BlblJlcS5yZXN1bHQuY2xvc2UoKTtcbiAgICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICB9XG4gICAgdmFyIHJlcSA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShkYk5hbWUpO1xuXG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vUmVtb3ZlIG9wZW4gcmVxdWVzdCBmcm9tIHRoZSBsaXN0LlxuICAgICAgb3BlblJlcUxpc3QuZGVsZXRlKGRiTmFtZSk7XG4gICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKCkgJiYgKGRiTmFtZSBpbiBsb2NhbFN0b3JhZ2UpKSB7XG4gICAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbZGJOYW1lXTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKG51bGwsIHsgJ29rJzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgcmVxLm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gIH07XG5cbiAgdmFyIGNhY2hlZCA9IGNhY2hlZERCcy5nZXQoZGJOYW1lKTtcblxuICBpZiAoY2FjaGVkKSB7XG4gICAgaWRiID0gY2FjaGVkLmlkYjtcbiAgICBhcGkuX21ldGEgPSBjYWNoZWQuZ2xvYmFsO1xuICAgIHJldHVybiBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgYXBpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciByZXEgPSBpbmRleGVkREIub3BlbihkYk5hbWUsIEFEQVBURVJfVkVSU0lPTik7XG4gIG9wZW5SZXFMaXN0LnNldChkYk5hbWUsIHJlcSk7XG5cbiAgcmVxLm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGRiID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChlLm9sZFZlcnNpb24gPCAxKSB7XG4gICAgICByZXR1cm4gY3JlYXRlU2NoZW1hKGRiKTsgLy8gbmV3IGRiLCBpbml0aWFsIHNjaGVtYVxuICAgIH1cbiAgICAvLyBkbyBtaWdyYXRpb25zXG5cbiAgICB2YXIgdHhuID0gZS5jdXJyZW50VGFyZ2V0LnRyYW5zYWN0aW9uO1xuICAgIC8vIHRoZXNlIG1pZ3JhdGlvbnMgaGF2ZSB0byBiZSBkb25lIGluIHRoaXMgZnVuY3Rpb24sIGJlZm9yZVxuICAgIC8vIGNvbnRyb2wgaXMgcmV0dXJuZWQgdG8gdGhlIGV2ZW50IGxvb3AsIGJlY2F1c2UgSW5kZXhlZERCXG5cbiAgICBpZiAoZS5vbGRWZXJzaW9uIDwgMykge1xuICAgICAgY3JlYXRlTG9jYWxTdG9yZVNjaGVtYShkYik7IC8vIHYyIC0+IHYzXG4gICAgfVxuICAgIGlmIChlLm9sZFZlcnNpb24gPCA0KSB7XG4gICAgICBhZGRBdHRhY2hBbmRTZXFTdG9yZShkYik7IC8vIHYzIC0+IHY0XG4gICAgfVxuXG4gICAgdmFyIG1pZ3JhdGlvbnMgPSBbXG4gICAgICBhZGREZWxldGVkT3JMb2NhbEluZGV4LCAvLyB2MSAtPiB2MlxuICAgICAgbWlncmF0ZUxvY2FsU3RvcmUsICAgICAgLy8gdjIgLT4gdjNcbiAgICAgIG1pZ3JhdGVBdHRzQW5kU2VxcywgICAgIC8vIHYzIC0+IHY0XG4gICAgICBtaWdyYXRlTWV0YWRhdGEgICAgICAgICAvLyB2NCAtPiB2NVxuICAgIF07XG5cbiAgICB2YXIgaSA9IGUub2xkVmVyc2lvbjtcblxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB2YXIgbWlncmF0aW9uID0gbWlncmF0aW9uc1tpIC0gMV07XG4gICAgICBpKys7XG4gICAgICBpZiAobWlncmF0aW9uKSB7XG4gICAgICAgIG1pZ3JhdGlvbih0eG4sIG5leHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG5leHQoKTtcbiAgfTtcblxuICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIGlkYiA9IGUudGFyZ2V0LnJlc3VsdDtcblxuICAgIGlkYi5vbnZlcnNpb25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZGIuY2xvc2UoKTtcbiAgICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICB9O1xuXG4gICAgaWRiLm9uYWJvcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgJ0RhdGFiYXNlIGhhcyBhIGdsb2JhbCBmYWlsdXJlJywgZS50YXJnZXQuZXJyb3IpO1xuICAgICAgaWRiR2xvYmFsRmFpbHVyZUVycm9yID0gZS50YXJnZXQuZXJyb3I7XG4gICAgICBpZGIuY2xvc2UoKTtcbiAgICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICB9O1xuXG4gICAgLy8gRG8gYSBmZXcgc2V0dXAgb3BlcmF0aW9ucyAoaW4gcGFyYWxsZWwgYXMgbXVjaCBhcyBwb3NzaWJsZSk6XG4gICAgLy8gMS4gRmV0Y2ggbWV0YSBkb2NcbiAgICAvLyAyLiBDaGVjayBibG9iIHN1cHBvcnRcbiAgICAvLyAzLiBDYWxjdWxhdGUgZG9jQ291bnRcbiAgICAvLyA0LiBHZW5lcmF0ZSBhbiBpbnN0YW5jZUlkIGlmIG5lY2Vzc2FyeVxuICAgIC8vIDUuIFN0b3JlIGRvY0NvdW50IGFuZCBpbnN0YW5jZUlkIG9uIG1ldGEgZG9jXG5cbiAgICB2YXIgdHhuID0gaWRiLnRyYW5zYWN0aW9uKFtcbiAgICAgIE1FVEFfU1RPUkUsXG4gICAgICBERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFLFxuICAgICAgRE9DX1NUT1JFXG4gICAgXSwgJ3JlYWR3cml0ZScpO1xuXG4gICAgdmFyIHN0b3JlZE1ldGFEb2MgPSBmYWxzZTtcbiAgICB2YXIgbWV0YURvYztcbiAgICB2YXIgZG9jQ291bnQ7XG4gICAgdmFyIGJsb2JTdXBwb3J0O1xuICAgIHZhciBpbnN0YW5jZUlkO1xuXG4gICAgZnVuY3Rpb24gY29tcGxldGVTZXR1cCgpIHtcbiAgICAgIGlmICh0eXBlb2YgYmxvYlN1cHBvcnQgPT09ICd1bmRlZmluZWQnIHx8ICFzdG9yZWRNZXRhRG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS5fbWV0YSA9IHtcbiAgICAgICAgbmFtZTogZGJOYW1lLFxuICAgICAgICBpbnN0YW5jZUlkOiBpbnN0YW5jZUlkLFxuICAgICAgICBibG9iU3VwcG9ydDogYmxvYlN1cHBvcnRcbiAgICAgIH07XG5cbiAgICAgIGNhY2hlZERCcy5zZXQoZGJOYW1lLCB7XG4gICAgICAgIGlkYjogaWRiLFxuICAgICAgICBnbG9iYWw6IGFwaS5fbWV0YVxuICAgICAgfSk7XG4gICAgICBjYWxsYmFjayhudWxsLCBhcGkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0b3JlTWV0YURvY0lmUmVhZHkoKSB7XG4gICAgICBpZiAodHlwZW9mIGRvY0NvdW50ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgbWV0YURvYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGluc3RhbmNlS2V5ID0gZGJOYW1lICsgJ19pZCc7XG4gICAgICBpZiAoaW5zdGFuY2VLZXkgaW4gbWV0YURvYykge1xuICAgICAgICBpbnN0YW5jZUlkID0gbWV0YURvY1tpbnN0YW5jZUtleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXRhRG9jW2luc3RhbmNlS2V5XSA9IGluc3RhbmNlSWQgPSB1dWlkKCk7XG4gICAgICB9XG4gICAgICBtZXRhRG9jLmRvY0NvdW50ID0gZG9jQ291bnQ7XG4gICAgICB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSkucHV0KG1ldGFEb2MpO1xuICAgIH1cblxuICAgIC8vXG4gICAgLy8gZmV0Y2ggb3IgZ2VuZXJhdGUgdGhlIGluc3RhbmNlSWRcbiAgICAvL1xuICAgIHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFEb2MgPSBlLnRhcmdldC5yZXN1bHQgfHwgeyBpZDogTUVUQV9TVE9SRSB9O1xuICAgICAgc3RvcmVNZXRhRG9jSWZSZWFkeSgpO1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIGNvdW50RG9jc1xuICAgIC8vXG4gICAgY291bnREb2NzKHR4biwgZnVuY3Rpb24gKGNvdW50KSB7XG4gICAgICBkb2NDb3VudCA9IGNvdW50O1xuICAgICAgc3RvcmVNZXRhRG9jSWZSZWFkeSgpO1xuICAgIH0pO1xuXG4gICAgLy9cbiAgICAvLyBjaGVjayBibG9iIHN1cHBvcnRcbiAgICAvL1xuICAgIGlmICghYmxvYlN1cHBvcnRQcm9taXNlKSB7XG4gICAgICAvLyBtYWtlIHN1cmUgYmxvYiBzdXBwb3J0IGlzIG9ubHkgY2hlY2tlZCBvbmNlXG4gICAgICBibG9iU3VwcG9ydFByb21pc2UgPSBjaGVja0Jsb2JTdXBwb3J0KHR4bik7XG4gICAgfVxuXG4gICAgYmxvYlN1cHBvcnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbCkge1xuICAgICAgYmxvYlN1cHBvcnQgPSB2YWw7XG4gICAgICBjb21wbGV0ZVNldHVwKCk7XG4gICAgfSk7XG5cbiAgICAvLyBvbmx5IHdoZW4gdGhlIG1ldGFkYXRhIHB1dCB0cmFuc2FjdGlvbiBoYXMgY29tcGxldGVkLFxuICAgIC8vIGNvbnNpZGVyIHRoZSBzZXR1cCBkb25lXG4gICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzdG9yZWRNZXRhRG9jID0gdHJ1ZTtcbiAgICAgIGNvbXBsZXRlU2V0dXAoKTtcbiAgICB9O1xuICAgIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICB9O1xuXG4gIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgbXNnID0gZS50YXJnZXQuZXJyb3IgJiYgZS50YXJnZXQuZXJyb3IubWVzc2FnZTtcblxuICAgIGlmICghbXNnKSB7XG4gICAgICBtc2cgPSAnRmFpbGVkIHRvIG9wZW4gaW5kZXhlZERCLCBhcmUgeW91IGluIHByaXZhdGUgYnJvd3NpbmcgbW9kZT8nO1xuICAgIH0gZWxzZSBpZiAobXNnLmluZGV4T2YoXCJzdG9yZWQgZGF0YWJhc2UgaXMgYSBoaWdoZXIgdmVyc2lvblwiKSAhPT0gLTEpIHtcbiAgICAgIG1zZyA9IG5ldyBFcnJvcignVGhpcyBEQiB3YXMgY3JlYXRlZCB3aXRoIHRoZSBuZXdlciBcImluZGV4ZWRkYlwiIGFkYXB0ZXIsIGJ1dCB5b3UgYXJlIHRyeWluZyB0byBvcGVuIGl0IHdpdGggdGhlIG9sZGVyIFwiaWRiXCIgYWRhcHRlcicpO1xuICAgIH1cblxuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsIG1zZyk7XG4gICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoSURCX0VSUk9SLCBtc2cpKTtcbiAgfTtcbn1cblxuSWRiUG91Y2gudmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIEZvbGxvd2luZyAjNzA4NSBidWdneSBpZGIgdmVyc2lvbnMgKHR5cGljYWxseSBTYWZhcmkgPCAxMC4xKSBhcmVcbiAgLy8gY29uc2lkZXJlZCB2YWxpZC5cblxuICAvLyBPbiBGaXJlZm94IFNlY3VyaXR5RXJyb3IgaXMgdGhyb3duIHdoaWxlIHJlZmVyZW5jaW5nIGluZGV4ZWREQiBpZiBjb29raWVzXG4gIC8vIGFyZSBub3QgYWxsb3dlZC4gYHR5cGVvZiBpbmRleGVkREJgIGFsc28gdHJpZ2dlcnMgdGhlIGVycm9yLlxuICB0cnkge1xuICAgIC8vIHNvbWUgb3V0ZGF0ZWQgaW1wbGVtZW50YXRpb25zIG9mIElEQiB0aGF0IGFwcGVhciBvbiBTYW1zdW5nXG4gICAgLy8gYW5kIEhUQyBBbmRyb2lkIGRldmljZXMgPDQuNCBhcmUgbWlzc2luZyBJREJLZXlSYW5nZVxuICAgIHJldHVybiB0eXBlb2YgaW5kZXhlZERCICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgSURCS2V5UmFuZ2UgIT09ICd1bmRlZmluZWQnO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBJREJQb3VjaCAoUG91Y2hEQikge1xuICBQb3VjaERCLmFkYXB0ZXIoJ2lkYicsIElkYlBvdWNoLCB0cnVlKTtcbn1cblxuLy8gZGVhZCBzaW1wbGUgcHJvbWlzZSBwb29sLCBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vdGltZHAvZXM2LXByb21pc2UtcG9vbFxuLy8gYnV0IG11Y2ggc21hbGxlciBpbiBjb2RlIHNpemUuIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGNvbmN1cnJlbnQgcHJvbWlzZXMgdGhhdCBhcmUgZXhlY3V0ZWRcblxuXG5mdW5jdGlvbiBwb29sKHByb21pc2VGYWN0b3JpZXMsIGxpbWl0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJ1bm5pbmcgPSAwO1xuICAgIHZhciBjdXJyZW50ID0gMDtcbiAgICB2YXIgZG9uZSA9IDA7XG4gICAgdmFyIGxlbiA9IHByb21pc2VGYWN0b3JpZXMubGVuZ3RoO1xuICAgIHZhciBlcnI7XG5cbiAgICBmdW5jdGlvbiBydW5OZXh0KCkge1xuICAgICAgcnVubmluZysrO1xuICAgICAgcHJvbWlzZUZhY3Rvcmllc1tjdXJyZW50KytdKCkudGhlbihvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvTmV4dCgpIHtcbiAgICAgIGlmICgrK2RvbmUgPT09IGxlbikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcnVuTmV4dEJhdGNoKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TdWNjZXNzKCkge1xuICAgICAgcnVubmluZy0tO1xuICAgICAgZG9OZXh0KCk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBvbkVycm9yKHRoaXNFcnIpIHtcbiAgICAgIHJ1bm5pbmctLTtcbiAgICAgIGVyciA9IGVyciB8fCB0aGlzRXJyO1xuICAgICAgZG9OZXh0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuTmV4dEJhdGNoKCkge1xuICAgICAgd2hpbGUgKHJ1bm5pbmcgPCBsaW1pdCAmJiBjdXJyZW50IDwgbGVuKSB7XG4gICAgICAgIHJ1bk5leHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBydW5OZXh0QmF0Y2goKTtcbiAgfSk7XG59XG5cbnZhciBDSEFOR0VTX0JBVENIX1NJWkUgPSAyNTtcbnZhciBNQVhfU0lNVUxUQU5FT1VTX1JFVlMgPSA1MDtcbnZhciBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSID0gNTAwMDtcbnZhciBERUZBVUxUX0hFQVJUQkVBVCA9IDEwMDAwO1xuXG52YXIgc3VwcG9ydHNCdWxrR2V0TWFwID0ge307XG5cbmZ1bmN0aW9uIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKHJvdykge1xuICB2YXIgZG9jID0gcm93LmRvYyB8fCByb3cub2s7XG4gIHZhciBhdHRzID0gZG9jICYmIGRvYy5fYXR0YWNobWVudHM7XG4gIGlmICghYXR0cykge1xuICAgIHJldHVybjtcbiAgfVxuICBPYmplY3Qua2V5cyhhdHRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgIHZhciBhdHQgPSBhdHRzW2ZpbGVuYW1lXTtcbiAgICBhdHQuZGF0YSA9IGI2NFRvQmx1ZmZlcihhdHQuZGF0YSwgYXR0LmNvbnRlbnRfdHlwZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVEb2NJZChpZCkge1xuICBpZiAoL15fZGVzaWduLy50ZXN0KGlkKSkge1xuICAgIHJldHVybiAnX2Rlc2lnbi8nICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkLnNsaWNlKDgpKTtcbiAgfVxuICBpZiAoL15fbG9jYWwvLnRlc3QoaWQpKSB7XG4gICAgcmV0dXJuICdfbG9jYWwvJyArIGVuY29kZVVSSUNvbXBvbmVudChpZC5zbGljZSg3KSk7XG4gIH1cbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChpZCk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NBdHRhY2htZW50cyQxKGRvYykge1xuICBpZiAoIWRvYy5fYXR0YWNobWVudHMgfHwgIU9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGF0dGFjaG1lbnQgPSBkb2MuX2F0dGFjaG1lbnRzW2tleV07XG4gICAgaWYgKGF0dGFjaG1lbnQuZGF0YSAmJiB0eXBlb2YgYXR0YWNobWVudC5kYXRhICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIGJsb2JUb0Jhc2U2NChhdHRhY2htZW50LmRhdGEsIHJlc29sdmUpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoYjY0KSB7XG4gICAgICAgIGF0dGFjaG1lbnQuZGF0YSA9IGI2NDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBoYXNVcmxQcmVmaXgob3B0cykge1xuICBpZiAoIW9wdHMucHJlZml4KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90b2NvbCA9IHBhcnNlVXJpKG9wdHMucHJlZml4KS5wcm90b2NvbDtcbiAgcmV0dXJuIHByb3RvY29sID09PSAnaHR0cCcgfHwgcHJvdG9jb2wgPT09ICdodHRwcyc7XG59XG5cbi8vIEdldCBhbGwgdGhlIGluZm9ybWF0aW9uIHlvdSBwb3NzaWJseSBjYW4gYWJvdXQgdGhlIFVSSSBnaXZlbiBieSBuYW1lIGFuZFxuLy8gcmV0dXJuIGl0IGFzIGEgc3VpdGFibGUgb2JqZWN0LlxuZnVuY3Rpb24gZ2V0SG9zdChuYW1lLCBvcHRzKSB7XG4gIC8vIGVuY29kZSBkYiBuYW1lIGlmIG9wdHMucHJlZml4IGlzIGEgdXJsICgjNTU3NClcbiAgaWYgKGhhc1VybFByZWZpeChvcHRzKSkge1xuICAgIHZhciBkYk5hbWUgPSBvcHRzLm5hbWUuc3Vic3RyKG9wdHMucHJlZml4Lmxlbmd0aCk7XG4gICAgLy8gRW5zdXJlIHByZWZpeCBoYXMgYSB0cmFpbGluZyBzbGFzaFxuICAgIHZhciBwcmVmaXggPSBvcHRzLnByZWZpeC5yZXBsYWNlKC9cXC8/JC8sICcvJyk7XG4gICAgbmFtZSA9IHByZWZpeCArIGVuY29kZVVSSUNvbXBvbmVudChkYk5hbWUpO1xuICB9XG5cbiAgdmFyIHVyaSA9IHBhcnNlVXJpKG5hbWUpO1xuICBpZiAodXJpLnVzZXIgfHwgdXJpLnBhc3N3b3JkKSB7XG4gICAgdXJpLmF1dGggPSB7dXNlcm5hbWU6IHVyaS51c2VyLCBwYXNzd29yZDogdXJpLnBhc3N3b3JkfTtcbiAgfVxuXG4gIC8vIFNwbGl0IHRoZSBwYXRoIHBhcnQgb2YgdGhlIFVSSSBpbnRvIHBhcnRzIHVzaW5nICcvJyBhcyB0aGUgZGVsaW1pdGVyXG4gIC8vIGFmdGVyIHJlbW92aW5nIGFueSBsZWFkaW5nICcvJyBhbmQgYW55IHRyYWlsaW5nICcvJ1xuICB2YXIgcGFydHMgPSB1cmkucGF0aC5yZXBsYWNlKC8oXlxcL3xcXC8kKS9nLCAnJykuc3BsaXQoJy8nKTtcblxuICB1cmkuZGIgPSBwYXJ0cy5wb3AoKTtcbiAgLy8gUHJldmVudCBkb3VibGUgZW5jb2Rpbmcgb2YgVVJJIGNvbXBvbmVudFxuICBpZiAodXJpLmRiLmluZGV4T2YoJyUnKSA9PT0gLTEpIHtcbiAgICB1cmkuZGIgPSBlbmNvZGVVUklDb21wb25lbnQodXJpLmRiKTtcbiAgfVxuXG4gIHVyaS5wYXRoID0gcGFydHMuam9pbignLycpO1xuXG4gIHJldHVybiB1cmk7XG59XG5cbi8vIEdlbmVyYXRlIGEgVVJMIHdpdGggdGhlIGhvc3QgZGF0YSBnaXZlbiBieSBvcHRzIGFuZCB0aGUgZ2l2ZW4gcGF0aFxuZnVuY3Rpb24gZ2VuREJVcmwob3B0cywgcGF0aCkge1xuICByZXR1cm4gZ2VuVXJsKG9wdHMsIG9wdHMuZGIgKyAnLycgKyBwYXRoKTtcbn1cblxuLy8gR2VuZXJhdGUgYSBVUkwgd2l0aCB0aGUgaG9zdCBkYXRhIGdpdmVuIGJ5IG9wdHMgYW5kIHRoZSBnaXZlbiBwYXRoXG5mdW5jdGlvbiBnZW5Vcmwob3B0cywgcGF0aCkge1xuICAvLyBJZiB0aGUgaG9zdCBhbHJlYWR5IGhhcyBhIHBhdGgsIHRoZW4gd2UgbmVlZCB0byBoYXZlIGEgcGF0aCBkZWxpbWl0ZXJcbiAgLy8gT3RoZXJ3aXNlLCB0aGUgcGF0aCBkZWxpbWl0ZXIgaXMgdGhlIGVtcHR5IHN0cmluZ1xuICB2YXIgcGF0aERlbCA9ICFvcHRzLnBhdGggPyAnJyA6ICcvJztcblxuICAvLyBJZiB0aGUgaG9zdCBhbHJlYWR5IGhhcyBhIHBhdGgsIHRoZW4gd2UgbmVlZCB0byBoYXZlIGEgcGF0aCBkZWxpbWl0ZXJcbiAgLy8gT3RoZXJ3aXNlLCB0aGUgcGF0aCBkZWxpbWl0ZXIgaXMgdGhlIGVtcHR5IHN0cmluZ1xuICByZXR1cm4gb3B0cy5wcm90b2NvbCArICc6Ly8nICsgb3B0cy5ob3N0ICtcbiAgICAgICAgIChvcHRzLnBvcnQgPyAoJzonICsgb3B0cy5wb3J0KSA6ICcnKSArXG4gICAgICAgICAnLycgKyBvcHRzLnBhdGggKyBwYXRoRGVsICsgcGF0aDtcbn1cblxuZnVuY3Rpb24gcGFyYW1zVG9TdHIocGFyYW1zKSB7XG4gIHJldHVybiAnPycgKyBPYmplY3Qua2V5cyhwYXJhbXMpLm1hcChmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBrICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1trXSk7XG4gIH0pLmpvaW4oJyYnKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkQ2FjaGVCdXN0KG9wdHMpIHtcbiAgdmFyIHVhID0gKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQpID9cbiAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSA6ICcnO1xuICB2YXIgaXNJRSA9IHVhLmluZGV4T2YoJ21zaWUnKSAhPT0gLTE7XG4gIHZhciBpc1RyaWRlbnQgPSB1YS5pbmRleE9mKCd0cmlkZW50JykgIT09IC0xO1xuICB2YXIgaXNFZGdlID0gdWEuaW5kZXhPZignZWRnZScpICE9PSAtMTtcbiAgdmFyIGlzR0VUID0gISgnbWV0aG9kJyBpbiBvcHRzKSB8fCBvcHRzLm1ldGhvZCA9PT0gJ0dFVCc7XG4gIHJldHVybiAoaXNJRSB8fCBpc1RyaWRlbnQgfHwgaXNFZGdlKSAmJiBpc0dFVDtcbn1cblxuLy8gSW1wbGVtZW50cyB0aGUgUG91Y2hEQiBBUEkgZm9yIGRlYWxpbmcgd2l0aCBDb3VjaERCIGluc3RhbmNlcyBvdmVyIEhUVFBcbmZ1bmN0aW9uIEh0dHBQb3VjaChvcHRzLCBjYWxsYmFjaykge1xuXG4gIC8vIFRoZSBmdW5jdGlvbnMgdGhhdCB3aWxsIGJlIHB1YmxpY2x5IGF2YWlsYWJsZSBmb3IgSHR0cFBvdWNoXG4gIHZhciBhcGkgPSB0aGlzO1xuXG4gIHZhciBob3N0ID0gZ2V0SG9zdChvcHRzLm5hbWUsIG9wdHMpO1xuICB2YXIgZGJVcmwgPSBnZW5EQlVybChob3N0LCAnJyk7XG5cbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gIHZhciBvdXJGZXRjaCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCBuZXcgaCgpO1xuXG4gICAgb3B0aW9ucy5jcmVkZW50aWFscyA9ICdpbmNsdWRlJztcblxuICAgIGlmIChvcHRzLmF1dGggfHwgaG9zdC5hdXRoKSB7XG4gICAgICB2YXIgbkF1dGggPSBvcHRzLmF1dGggfHwgaG9zdC5hdXRoO1xuICAgICAgdmFyIHN0ciA9IG5BdXRoLnVzZXJuYW1lICsgJzonICsgbkF1dGgucGFzc3dvcmQ7XG4gICAgICB2YXIgdG9rZW4gPSB0aGlzQnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSkpO1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICsgdG9rZW4pO1xuICAgIH1cblxuICAgIHZhciBoZWFkZXJzID0gb3B0cy5oZWFkZXJzIHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLmFwcGVuZChrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgfSk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2hvdWxkQ2FjaGVCdXN0KG9wdGlvbnMpKSB7XG4gICAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArICdfbm9uY2U9JyArIERhdGUubm93KCk7XG4gICAgfVxuXG4gICAgdmFyIGZldGNoRnVuID0gb3B0cy5mZXRjaCB8fCBmJDE7XG4gICAgcmV0dXJuIGZldGNoRnVuKHVybCwgb3B0aW9ucyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gYWRhcHRlckZ1biQkMShuYW1lLCBmdW4pIHtcbiAgICByZXR1cm4gYWRhcHRlckZ1bihuYW1lLCBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICBjYWxsYmFjayhlKTtcbiAgICAgIH0pO1xuICAgIH0pKS5iaW5kKGFwaSk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEpTT04odXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IG5ldyBoKCk7XG5cbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycy5nZXQoJ0FjY2VwdCcpKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXJGZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXN1bHQub2sgPSByZXNwb25zZS5vaztcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgIHJlc3VsdC5kYXRhID0ganNvbjtcbiAgICAgIGlmICghcmVzdWx0Lm9rKSB7XG4gICAgICAgIHJlc3VsdC5kYXRhLnN0YXR1cyA9IHJlc3VsdC5zdGF0dXM7XG4gICAgICAgIHZhciBlcnIgPSBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHJlc3VsdC5kYXRhKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdC5kYXRhKSkge1xuICAgICAgICByZXN1bHQuZGF0YSA9IHJlc3VsdC5kYXRhLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICAgIGlmICh2LmVycm9yIHx8IHYubWlzc2luZykge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2Uodik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHNldHVwUHJvbWlzZTtcblxuICBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICBpZiAob3B0cy5za2lwX3NldHVwKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUgaXMgYSBzZXR1cCBpbiBwcm9jZXNzIG9yIHByZXZpb3VzIHN1Y2Nlc3NmdWwgc2V0dXBcbiAgICAvLyBkb25lIHRoZW4gd2Ugd2lsbCB1c2UgdGhhdFxuICAgIC8vIElmIHByZXZpb3VzIHNldHVwcyBoYXZlIGJlZW4gcmVqZWN0ZWQgd2Ugd2lsbCB0cnkgYWdhaW5cbiAgICBpZiAoc2V0dXBQcm9taXNlKSB7XG4gICAgICByZXR1cm4gc2V0dXBQcm9taXNlO1xuICAgIH1cblxuICAgIHNldHVwUHJvbWlzZSA9IGZldGNoSlNPTihkYlVybCkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyciAmJiBlcnIuc3RhdHVzICYmIGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAvLyBEb2VzbnQgZXhpc3QsIGNyZWF0ZSBpdFxuICAgICAgICBleHBsYWluRXJyb3IoNDA0LCAnUG91Y2hEQiBpcyBqdXN0IGRldGVjdGluZyBpZiB0aGUgcmVtb3RlIGV4aXN0cy4nKTtcbiAgICAgICAgcmV0dXJuIGZldGNoSlNPTihkYlVybCwge21ldGhvZDogJ1BVVCd9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8vIElmIHdlIHRyeSB0byBjcmVhdGUgYSBkYXRhYmFzZSB0aGF0IGFscmVhZHkgZXhpc3RzLCBza2lwcGVkIGluXG4gICAgICAvLyBpc3RhbmJ1bCBzaW5jZSBpdHMgY2F0Y2hpbmcgYSByYWNlIGNvbmRpdGlvbi5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyciAmJiBlcnIuc3RhdHVzICYmIGVyci5zdGF0dXMgPT09IDQxMikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH0pO1xuXG4gICAgc2V0dXBQcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldHVwUHJvbWlzZSA9IG51bGw7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2V0dXBQcm9taXNlO1xuICB9XG5cbiAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICBjYWxsYmFjayhudWxsLCBhcGkpO1xuICB9KTtcblxuICBhcGkuX3JlbW90ZSA9IHRydWU7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgYXBpLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdodHRwJztcbiAgfTtcblxuICBhcGkuaWQgPSBhZGFwdGVyRnVuJCQxKCdpZCcsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIG91ckZldGNoKGdlblVybChob3N0LCAnJykpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIC8vIEJhZCByZXNwb25zZSBvciBtaXNzaW5nIGB1dWlkYCBzaG91bGQgbm90IHByZXZlbnQgSUQgZ2VuZXJhdGlvbi5cbiAgICAgIHZhciB1dWlkJCQxID0gKHJlc3VsdCAmJiByZXN1bHQudXVpZCkgP1xuICAgICAgICAgIChyZXN1bHQudXVpZCArIGhvc3QuZGIpIDogZ2VuREJVcmwoaG9zdCwgJycpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgdXVpZCQkMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFNlbmRzIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSBob3N0IGNhbGxpbmcgdGhlIGNvdWNoZGIgX2NvbXBhY3QgZnVuY3Rpb25cbiAgLy8gICAgdmVyc2lvbjogVGhlIHZlcnNpb24gb2YgQ291Y2hEQiBpdCBpcyBydW5uaW5nXG4gIGFwaS5jb21wYWN0ID0gYWRhcHRlckZ1biQkMSgnY29tcGFjdCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19jb21wYWN0JyksIHttZXRob2Q6ICdQT1NUJ30pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcGluZygpIHtcbiAgICAgICAgYXBpLmluZm8oZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgICAgLy8gQ291Y2hEQiBtYXkgc2VuZCBhIFwiY29tcGFjdF9ydW5uaW5nOnRydWVcIiBpZiBpdCdzXG4gICAgICAgICAgLy8gYWxyZWFkeSBjb21wYWN0aW5nLiBQb3VjaERCIFNlcnZlciBkb2Vzbid0LlxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgaWYgKHJlcyAmJiAhcmVzLmNvbXBhY3RfcnVubmluZykge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge29rOiB0cnVlfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocGluZywgb3B0cy5pbnRlcnZhbCB8fCAyMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBQaW5nIHRoZSBodHRwIGlmIGl0J3MgZmluaXNoZWQgY29tcGFjdGlvblxuICAgICAgcGluZygpO1xuICAgIH0pO1xuICB9KTtcblxuICBhcGkuYnVsa0dldCA9IGFkYXB0ZXJGdW4oJ2J1bGtHZXQnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBkb0J1bGtHZXQoY2IpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICAgIGlmIChvcHRzLnJldnMpIHtcbiAgICAgICAgcGFyYW1zLnJldnMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcGFyYW1zLmF0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmxhdGVzdCkge1xuICAgICAgICBwYXJhbXMubGF0ZXN0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2J1bGtfZ2V0JyArIHBhcmFtc1RvU3RyKHBhcmFtcykpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGRvY3M6IG9wdHMuZG9jc30pXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgICByZXN1bHQuZGF0YS5yZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgcmVzLmRvY3MuZm9yRWFjaChyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2IobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgICAgfSkuY2F0Y2goY2IpO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZnVuY3Rpb24gZG9CdWxrR2V0U2hpbSgpIHtcbiAgICAgIC8vIGF2b2lkIFwidXJsIHRvbyBsb25nIGVycm9yXCIgYnkgc3BsaXR0aW5nIHVwIGludG8gbXVsdGlwbGUgcmVxdWVzdHNcbiAgICAgIHZhciBiYXRjaFNpemUgPSBNQVhfU0lNVUxUQU5FT1VTX1JFVlM7XG4gICAgICB2YXIgbnVtQmF0Y2hlcyA9IE1hdGguY2VpbChvcHRzLmRvY3MubGVuZ3RoIC8gYmF0Y2hTaXplKTtcbiAgICAgIHZhciBudW1Eb25lID0gMDtcbiAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KG51bUJhdGNoZXMpO1xuXG4gICAgICBmdW5jdGlvbiBvblJlc3VsdChiYXRjaE51bSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgICAgLy8gZXJyIGlzIGltcG9zc2libGUgYmVjYXVzZSBzaGltIHJldHVybnMgYSBsaXN0IG9mIGVycnMgaW4gdGhhdCBjYXNlXG4gICAgICAgICAgcmVzdWx0c1tiYXRjaE51bV0gPSByZXMucmVzdWx0cztcbiAgICAgICAgICBpZiAoKytudW1Eb25lID09PSBudW1CYXRjaGVzKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7cmVzdWx0czogZmxhdHRlbihyZXN1bHRzKX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1CYXRjaGVzOyBpKyspIHtcbiAgICAgICAgdmFyIHN1Yk9wdHMgPSBwaWNrKG9wdHMsIFsncmV2cycsICdhdHRhY2htZW50cycsICdiaW5hcnknLCAnbGF0ZXN0J10pO1xuICAgICAgICBzdWJPcHRzLmRvY3MgPSBvcHRzLmRvY3Muc2xpY2UoaSAqIGJhdGNoU2l6ZSxcbiAgICAgICAgICBNYXRoLm1pbihvcHRzLmRvY3MubGVuZ3RoLCAoaSArIDEpICogYmF0Y2hTaXplKSk7XG4gICAgICAgIGJ1bGtHZXQoc2VsZiwgc3ViT3B0cywgb25SZXN1bHQoaSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG1hcmsgdGhlIHdob2xlIGRhdGFiYXNlIGFzIGVpdGhlciBzdXBwb3J0aW5nIG9yIG5vdCBzdXBwb3J0aW5nIF9idWxrX2dldFxuICAgIHZhciBkYlVybCA9IGdlblVybChob3N0LCAnJyk7XG4gICAgdmFyIHN1cHBvcnRzQnVsa0dldCA9IHN1cHBvcnRzQnVsa0dldE1hcFtkYlVybF07XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2Ygc3VwcG9ydHNCdWxrR2V0ICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIC8vIGNoZWNrIGlmIHRoaXMgZGF0YWJhc2Ugc3VwcG9ydHMgX2J1bGtfZ2V0XG4gICAgICBkb0J1bGtHZXQoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBzdXBwb3J0c0J1bGtHZXRNYXBbZGJVcmxdID0gZmFsc2U7XG4gICAgICAgICAgZXhwbGFpbkVycm9yKFxuICAgICAgICAgICAgZXJyLnN0YXR1cyxcbiAgICAgICAgICAgICdQb3VjaERCIGlzIGp1c3QgZGV0ZWN0aW5nIGlmIHRoZSByZW1vdGUgJyArXG4gICAgICAgICAgICAnc3VwcG9ydHMgdGhlIF9idWxrX2dldCBBUEkuJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgZG9CdWxrR2V0U2hpbSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1cHBvcnRzQnVsa0dldE1hcFtkYlVybF0gPSB0cnVlO1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc3VwcG9ydHNCdWxrR2V0KSB7XG4gICAgICBkb0J1bGtHZXQoY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb0J1bGtHZXRTaGltKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBDYWxscyBHRVQgb24gdGhlIGhvc3QsIHdoaWNoIGdldHMgYmFjayBhIEpTT04gc3RyaW5nIGNvbnRhaW5pbmdcbiAgLy8gICAgY291Y2hkYjogQSB3ZWxjb21lIHN0cmluZ1xuICAvLyAgICB2ZXJzaW9uOiBUaGUgdmVyc2lvbiBvZiBDb3VjaERCIGl0IGlzIHJ1bm5pbmdcbiAgYXBpLl9pbmZvID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvdXJGZXRjaChnZW5EQlVybChob3N0LCAnJykpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgIGluZm8uaG9zdCA9IGdlbkRCVXJsKGhvc3QsICcnKTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGluZm8pO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfTtcblxuICBhcGkuZmV0Y2ggPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHVybCA9IHBhdGguc3Vic3RyaW5nKDAsIDEpID09PSAnLycgP1xuICAgICAgICBnZW5VcmwoaG9zdCwgcGF0aC5zdWJzdHJpbmcoMSkpIDpcbiAgICAgICAgZ2VuREJVcmwoaG9zdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb3VyRmV0Y2godXJsLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIGlkIGZyb20gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIC8vIFRoZSBpZCBjb3VsZCBiZSBzb2xlbHkgdGhlIF9pZCBpbiB0aGUgZGF0YWJhc2UsIG9yIGl0IG1heSBiZSBhXG4gIC8vIF9kZXNpZ24vSUQgb3IgX2xvY2FsL0lEIHBhdGhcbiAgYXBpLmdldCA9IGFkYXB0ZXJGdW4kJDEoJ2dldCcsIGZ1bmN0aW9uIChpZCwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBubyBvcHRpb25zIHdlcmUgZ2l2ZW4sIHNldCB0aGUgY2FsbGJhY2sgdG8gdGhlIHNlY29uZCBwYXJhbWV0ZXJcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgR0VUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0ge307XG5cbiAgICBpZiAob3B0cy5yZXZzKSB7XG4gICAgICBwYXJhbXMucmV2cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucmV2c19pbmZvKSB7XG4gICAgICBwYXJhbXMucmV2c19pbmZvID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5sYXRlc3QpIHtcbiAgICAgIHBhcmFtcy5sYXRlc3QgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLm9wZW5fcmV2cykge1xuICAgICAgaWYgKG9wdHMub3Blbl9yZXZzICE9PSBcImFsbFwiKSB7XG4gICAgICAgIG9wdHMub3Blbl9yZXZzID0gSlNPTi5zdHJpbmdpZnkob3B0cy5vcGVuX3JldnMpO1xuICAgICAgfVxuICAgICAgcGFyYW1zLm9wZW5fcmV2cyA9IG9wdHMub3Blbl9yZXZzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnJldikge1xuICAgICAgcGFyYW1zLnJldiA9IG9wdHMucmV2O1xuICAgIH1cblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgcGFyYW1zLmNvbmZsaWN0cyA9IG9wdHMuY29uZmxpY3RzO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgIHBhcmFtcy51cGRhdGVfc2VxID0gb3B0cy51cGRhdGVfc2VxO1xuICAgIH1cblxuICAgIGlkID0gZW5jb2RlRG9jSWQoaWQpO1xuXG4gICAgZnVuY3Rpb24gZmV0Y2hBdHRhY2htZW50cyhkb2MpIHtcbiAgICAgIHZhciBhdHRzID0gZG9jLl9hdHRhY2htZW50cztcbiAgICAgIHZhciBmaWxlbmFtZXMgPSBhdHRzICYmIE9iamVjdC5rZXlzKGF0dHMpO1xuICAgICAgaWYgKCFhdHRzIHx8ICFmaWxlbmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIHdlIGZldGNoIHRoZXNlIG1hbnVhbGx5IGluIHNlcGFyYXRlIFhIUnMsIGJlY2F1c2VcbiAgICAgIC8vIFN5bmMgR2F0ZXdheSB3b3VsZCBub3JtYWxseSBzZW5kIGl0IGJhY2sgYXMgbXVsdGlwYXJ0L21peGVkLFxuICAgICAgLy8gd2hpY2ggd2UgY2Fubm90IHBhcnNlLiBBbHNvLCB0aGlzIGlzIG1vcmUgZWZmaWNpZW50IHRoYW5cbiAgICAgIC8vIHJlY2VpdmluZyBhdHRhY2htZW50cyBhcyBiYXNlNjQtZW5jb2RlZCBzdHJpbmdzLlxuICAgICAgZnVuY3Rpb24gZmV0Y2hEYXRhKGZpbGVuYW1lKSB7XG4gICAgICAgIHZhciBhdHQgPSBhdHRzW2ZpbGVuYW1lXTtcbiAgICAgICAgdmFyIHBhdGggPSBlbmNvZGVEb2NJZChkb2MuX2lkKSArICcvJyArIGVuY29kZUF0dGFjaG1lbnRJZChmaWxlbmFtZSkgK1xuICAgICAgICAgICAgJz9yZXY9JyArIGRvYy5fcmV2O1xuICAgICAgICByZXR1cm4gb3VyRmV0Y2goZ2VuREJVcmwoaG9zdCwgcGF0aCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKCdidWZmZXInIGluIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYnVmZmVyKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYmxvYikge1xuICAgICAgICAgIGlmIChvcHRzLmJpbmFyeSkge1xuICAgICAgICAgICAgdmFyIHR5cGVGaWVsZERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJsb2IuX19wcm90b19fLCAndHlwZScpO1xuICAgICAgICAgICAgaWYgKCF0eXBlRmllbGREZXNjcmlwdG9yIHx8IHR5cGVGaWVsZERlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICAgICAgICAgIGJsb2IudHlwZSA9IGF0dC5jb250ZW50X3R5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYmxvYjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBibG9iVG9CYXNlNjQoYmxvYiwgcmVzb2x2ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICBkZWxldGUgYXR0LnN0dWI7XG4gICAgICAgICAgZGVsZXRlIGF0dC5sZW5ndGg7XG4gICAgICAgICAgYXR0LmRhdGEgPSBkYXRhO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb21pc2VGYWN0b3JpZXMgPSBmaWxlbmFtZXMubWFwKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBmZXRjaERhdGEoZmlsZW5hbWUpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFRoaXMgbGltaXRzIHRoZSBudW1iZXIgb2YgcGFyYWxsZWwgeGhyIHJlcXVlc3RzIHRvIDUgYW55IHRpbWVcbiAgICAgIC8vIHRvIGF2b2lkIGlzc3VlcyB3aXRoIG1heGltdW0gYnJvd3NlciByZXF1ZXN0IGxpbWl0c1xuICAgICAgcmV0dXJuIHBvb2wocHJvbWlzZUZhY3RvcmllcywgNSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmV0Y2hBbGxBdHRhY2htZW50cyhkb2NPckRvY3MpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRvY09yRG9jcykpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGRvY09yRG9jcy5tYXAoZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgIGlmIChkb2Mub2spIHtcbiAgICAgICAgICAgIHJldHVybiBmZXRjaEF0dGFjaG1lbnRzKGRvYy5vayk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmV0Y2hBdHRhY2htZW50cyhkb2NPckRvY3MpO1xuICAgIH1cblxuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBpZCArIHBhcmFtc1RvU3RyKHBhcmFtcykpO1xuICAgIGZldGNoSlNPTih1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgICAgIHJldHVybiBmZXRjaEFsbEF0dGFjaG1lbnRzKHJlcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcy5kYXRhKTtcbiAgICAgIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLmRvY0lkID0gaWQ7XG4gICAgICBjYWxsYmFjayhlKTtcbiAgICB9KTtcbiAgfSk7XG5cblxuICAvLyBEZWxldGUgdGhlIGRvY3VtZW50IGdpdmVuIGJ5IGRvYyBmcm9tIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICBhcGkucmVtb3ZlID0gYWRhcHRlckZ1biQkMSgncmVtb3ZlJywgZnVuY3Rpb24gKGRvY09ySWQsIG9wdHNPclJldiwgb3B0cywgY2IpIHtcbiAgICB2YXIgZG9jO1xuICAgIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gaWQsIHJldiwgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICAgIGRvYyA9IHtcbiAgICAgICAgX2lkOiBkb2NPcklkLFxuICAgICAgICBfcmV2OiBvcHRzT3JSZXZcbiAgICAgIH07XG4gICAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2IgPSBvcHRzO1xuICAgICAgICBvcHRzID0ge307XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRvYywgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICAgIGRvYyA9IGRvY09ySWQ7XG4gICAgICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IG9wdHNPclJldjtcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2IgPSBvcHRzO1xuICAgICAgICBvcHRzID0gb3B0c09yUmV2O1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZXYgPSAoZG9jLl9yZXYgfHwgb3B0cy5yZXYpO1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2MuX2lkKSkgKyAnP3Jldj0nICsgcmV2O1xuXG4gICAgZmV0Y2hKU09OKHVybCwge21ldGhvZDogJ0RFTEVURSd9LCBjYikuY2F0Y2goY2IpO1xuICB9KTtcblxuICBmdW5jdGlvbiBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSB7XG4gICAgcmV0dXJuIGF0dGFjaG1lbnRJZC5zcGxpdChcIi9cIikubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIi9cIik7XG4gIH1cblxuICAvLyBHZXQgdGhlIGF0dGFjaG1lbnRcbiAgYXBpLmdldEF0dGFjaG1lbnQgPSBhZGFwdGVyRnVuJCQxKCdnZXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICB2YXIgcGFyYW1zID0gb3B0cy5yZXYgPyAoJz9yZXY9JyArIG9wdHMucmV2KSA6ICcnO1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2NJZCkpICsgJy8nICtcbiAgICAgICAgZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCkgKyBwYXJhbXM7XG4gICAgdmFyIGNvbnRlbnRUeXBlO1xuICAgIG91ckZldGNoKHVybCwge21ldGhvZDogJ0dFVCd9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IHJlc3BvbnNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAhcHJvY2Vzcy5icm93c2VyICYmIHR5cGVvZiByZXNwb25zZS5idWZmZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYnVmZmVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbiAoYmxvYikge1xuICAgICAgLy8gVE9ETzogYWxzbyByZW1vdmVcbiAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgIXByb2Nlc3MuYnJvd3Nlcikge1xuICAgICAgICBibG9iLnR5cGUgPSBjb250ZW50VHlwZTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKG51bGwsIGJsb2IpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFJlbW92ZSB0aGUgYXR0YWNobWVudCBnaXZlbiBieSB0aGUgaWQgYW5kIHJldlxuICBhcGkucmVtb3ZlQXR0YWNobWVudCA9ICBhZGFwdGVyRnVuJCQxKCdyZW1vdmVBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spIHtcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jSWQpICsgJy8nICtcbiAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCkpICsgJz9yZXY9JyArIHJldjtcbiAgICBmZXRjaEpTT04odXJsLCB7bWV0aG9kOiAnREVMRVRFJ30sIGNhbGxiYWNrKS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIC8vIEFkZCB0aGUgYXR0YWNobWVudCBnaXZlbiBieSBibG9iIGFuZCBpdHMgY29udGVudFR5cGUgcHJvcGVydHlcbiAgLy8gdG8gdGhlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIGlkLCB0aGUgcmV2aXNpb24gZ2l2ZW4gYnkgcmV2LCBhbmRcbiAgLy8gYWRkIGl0IHRvIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICBhcGkucHV0QXR0YWNobWVudCA9IGFkYXB0ZXJGdW4kJDEoJ3B1dEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldiwgYmxvYixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IHR5cGU7XG4gICAgICB0eXBlID0gYmxvYjtcbiAgICAgIGJsb2IgPSByZXY7XG4gICAgICByZXYgPSBudWxsO1xuICAgIH1cbiAgICB2YXIgaWQgPSBlbmNvZGVEb2NJZChkb2NJZCkgKyAnLycgKyBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKTtcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgaWQpO1xuICAgIGlmIChyZXYpIHtcbiAgICAgIHVybCArPSAnP3Jldj0nICsgcmV2O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGlucHV0IGlzIGFzc3VtZWQgdG8gYmUgYSBiYXNlNjQgc3RyaW5nXG4gICAgICB2YXIgYmluYXJ5O1xuICAgICAgdHJ5IHtcbiAgICAgICAgYmluYXJ5ID0gdGhpc0F0b2IoYmxvYik7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKEJBRF9BUkcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnQXR0YWNobWVudCBpcyBub3QgYSB2YWxpZCBiYXNlNjQgc3RyaW5nJykpO1xuICAgICAgfVxuICAgICAgYmxvYiA9IGJpbmFyeSA/IGJpblN0cmluZ1RvQmx1ZmZlcihiaW5hcnksIHR5cGUpIDogJyc7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBhdHRhY2htZW50XG4gICAgZmV0Y2hKU09OKHVybCwge1xuICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiB0eXBlfSksXG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgYm9keTogYmxvYlxuICAgIH0sIGNhbGxiYWNrKS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZS9jcmVhdGUgbXVsdGlwbGUgZG9jdW1lbnRzIGdpdmVuIGJ5IHJlcSBpbiB0aGUgZGF0YWJhc2VcbiAgLy8gZ2l2ZW4gYnkgaG9zdC5cbiAgYXBpLl9idWxrRG9jcyA9IGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgLy8gSWYgbmV3X2VkaXRzPWZhbHNlIHRoZW4gaXQgcHJldmVudHMgdGhlIGRhdGFiYXNlIGZyb20gY3JlYXRpbmdcbiAgICAvLyBuZXcgcmV2aXNpb24gbnVtYmVycyBmb3IgdGhlIGRvY3VtZW50cy4gSW5zdGVhZCBpdCBqdXN0IHVzZXNcbiAgICAvLyB0aGUgb2xkIG9uZXMuIFRoaXMgaXMgdXNlZCBpbiBkYXRhYmFzZSByZXBsaWNhdGlvbi5cbiAgICByZXEubmV3X2VkaXRzID0gb3B0cy5uZXdfZWRpdHM7XG5cbiAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJlcS5kb2NzLm1hcChwcmVwcm9jZXNzQXR0YWNobWVudHMkMSkpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgLy8gVXBkYXRlL2NyZWF0ZSB0aGUgZG9jdW1lbnRzXG4gICAgICByZXR1cm4gZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfYnVsa19kb2NzJyksIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcSlcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH07XG5cblxuICAvLyBVcGRhdGUvY3JlYXRlIGRvY3VtZW50XG4gIGFwaS5fcHV0ID0gZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByZXByb2Nlc3NBdHRhY2htZW50cyQxKGRvYyk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvYy5faWQpKSwge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkb2MpXG4gICAgICB9KTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBlcnIuZG9jSWQgPSBkb2MgJiYgZG9jLl9pZDtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gIH07XG5cblxuICAvLyBHZXQgYSBsaXN0aW5nIG9mIHRoZSBkb2N1bWVudHMgaW4gdGhlIGRhdGFiYXNlIGdpdmVuXG4gIC8vIGJ5IGhvc3QgYW5kIG9yZGVyZWQgYnkgaW5jcmVhc2luZyBpZC5cbiAgYXBpLmFsbERvY3MgPSBhZGFwdGVyRnVuJCQxKCdhbGxEb2NzJywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIC8vIExpc3Qgb2YgcGFyYW1ldGVycyB0byBhZGQgdG8gdGhlIEdFVCByZXF1ZXN0XG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgIHZhciBib2R5O1xuICAgIHZhciBtZXRob2QgPSAnR0VUJztcblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgcGFyYW1zLmNvbmZsaWN0cyA9IHRydWU7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgIHBhcmFtcy5kZXNjZW5kaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIHBhcmFtcy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGFkZGVkIGluIENvdWNoREIgMS42LjBcbiAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgcGFyYW1zLmF0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5rZXkpIHtcbiAgICAgIHBhcmFtcy5rZXkgPSBKU09OLnN0cmluZ2lmeShvcHRzLmtleSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc3RhcnRfa2V5KSB7XG4gICAgICBvcHRzLnN0YXJ0a2V5ID0gb3B0cy5zdGFydF9rZXk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc3RhcnRrZXkpIHtcbiAgICAgIHBhcmFtcy5zdGFydGtleSA9IEpTT04uc3RyaW5naWZ5KG9wdHMuc3RhcnRrZXkpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuZF9rZXkpIHtcbiAgICAgIG9wdHMuZW5ka2V5ID0gb3B0cy5lbmRfa2V5O1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuZGtleSkge1xuICAgICAgcGFyYW1zLmVuZGtleSA9IEpTT04uc3RyaW5naWZ5KG9wdHMuZW5ka2V5KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuaW5jbHVzaXZlX2VuZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5pbmNsdXNpdmVfZW5kID0gISFvcHRzLmluY2x1c2l2ZV9lbmQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmxpbWl0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLmxpbWl0ID0gb3B0cy5saW1pdDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuc2tpcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5za2lwID0gb3B0cy5za2lwO1xuICAgIH1cblxuICAgIHZhciBwYXJhbVN0ciA9IHBhcmFtc1RvU3RyKHBhcmFtcyk7XG5cbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7a2V5czogb3B0cy5rZXlzfTtcbiAgICB9XG5cbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19hbGxfZG9jcycgKyBwYXJhbVN0ciksIHtcbiAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgJiYgb3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICByZXN1bHQuZGF0YS5yb3dzLmZvckVhY2gocmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIpO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gR2V0IGEgbGlzdCBvZiBjaGFuZ2VzIG1hZGUgdG8gZG9jdW1lbnRzIGluIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICAvLyBUT0RPIEFjY29yZGluZyB0byB0aGUgUkVBRE1FLCB0aGVyZSBzaG91bGQgYmUgdHdvIG90aGVyIG1ldGhvZHMgaGVyZSxcbiAgLy8gYXBpLmNoYW5nZXMuYWRkTGlzdGVuZXIgYW5kIGFwaS5jaGFuZ2VzLnJlbW92ZUxpc3RlbmVyLlxuICBhcGkuX2NoYW5nZXMgPSBmdW5jdGlvbiAob3B0cykge1xuXG4gICAgLy8gV2UgaW50ZXJuYWxseSBwYWdlIHRoZSByZXN1bHRzIG9mIGEgY2hhbmdlcyByZXF1ZXN0LCB0aGlzIG1lYW5zXG4gICAgLy8gaWYgdGhlcmUgaXMgYSBsYXJnZSBzZXQgb2YgY2hhbmdlcyB0byBiZSByZXR1cm5lZCB3ZSBjYW4gc3RhcnRcbiAgICAvLyBwcm9jZXNzaW5nIHRoZW0gcXVpY2tlciBpbnN0ZWFkIG9mIHdhaXRpbmcgb24gdGhlIGVudGlyZVxuICAgIC8vIHNldCBvZiBjaGFuZ2VzIHRvIHJldHVybiBhbmQgYXR0ZW1wdGluZyB0byBwcm9jZXNzIHRoZW0gYXQgb25jZVxuICAgIHZhciBiYXRjaFNpemUgPSAnYmF0Y2hfc2l6ZScgaW4gb3B0cyA/IG9wdHMuYmF0Y2hfc2l6ZSA6IENIQU5HRVNfQkFUQ0hfU0laRTtcblxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIGlmIChvcHRzLmNvbnRpbnVvdXMgJiYgISgnaGVhcnRiZWF0JyBpbiBvcHRzKSkge1xuICAgICAgb3B0cy5oZWFydGJlYXQgPSBERUZBVUxUX0hFQVJUQkVBVDtcbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdFRpbWVvdXQgPSAoJ3RpbWVvdXQnIGluIG9wdHMpID8gb3B0cy50aW1lb3V0IDogMzAgKiAxMDAwO1xuXG4gICAgLy8gZW5zdXJlIENIQU5HRVNfVElNRU9VVF9CVUZGRVIgYXBwbGllc1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0cyAmJiBvcHRzLnRpbWVvdXQgJiZcbiAgICAgIChyZXF1ZXN0VGltZW91dCAtIG9wdHMudGltZW91dCkgPCBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSKSB7XG4gICAgICAgIHJlcXVlc3RUaW1lb3V0ID0gb3B0cy50aW1lb3V0ICsgQ0hBTkdFU19USU1FT1VUX0JVRkZFUjtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoJ2hlYXJ0YmVhdCcgaW4gb3B0cyAmJiBvcHRzLmhlYXJ0YmVhdCAmJlxuICAgICAgIChyZXF1ZXN0VGltZW91dCAtIG9wdHMuaGVhcnRiZWF0KSA8IENIQU5HRVNfVElNRU9VVF9CVUZGRVIpIHtcbiAgICAgICAgcmVxdWVzdFRpbWVvdXQgPSBvcHRzLmhlYXJ0YmVhdCArIENIQU5HRVNfVElNRU9VVF9CVUZGRVI7XG4gICAgfVxuXG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0cyAmJiBvcHRzLnRpbWVvdXQpIHtcbiAgICAgIHBhcmFtcy50aW1lb3V0ID0gb3B0cy50aW1lb3V0O1xuICAgIH1cblxuICAgIHZhciBsaW1pdCA9ICh0eXBlb2Ygb3B0cy5saW1pdCAhPT0gJ3VuZGVmaW5lZCcpID8gb3B0cy5saW1pdCA6IGZhbHNlO1xuICAgIHZhciBsZWZ0VG9GZXRjaCA9IGxpbWl0O1xuXG4gICAgaWYgKG9wdHMuc3R5bGUpIHtcbiAgICAgIHBhcmFtcy5zdHlsZSA9IG9wdHMuc3R5bGU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzIHx8IG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcGFyYW1zLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIHBhcmFtcy5hdHRhY2htZW50cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29udGludW91cykge1xuICAgICAgcGFyYW1zLmZlZWQgPSAnbG9uZ3BvbGwnO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnNlcV9pbnRlcnZhbCkge1xuICAgICAgcGFyYW1zLnNlcV9pbnRlcnZhbCA9IG9wdHMuc2VxX2ludGVydmFsO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgcGFyYW1zLmNvbmZsaWN0cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgcGFyYW1zLmRlc2NlbmRpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgIHBhcmFtcy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoJ2hlYXJ0YmVhdCcgaW4gb3B0cykge1xuICAgICAgLy8gSWYgdGhlIGhlYXJ0YmVhdCB2YWx1ZSBpcyBmYWxzZSwgaXQgZGlzYWJsZXMgdGhlIGRlZmF1bHQgaGVhcnRiZWF0XG4gICAgICBpZiAob3B0cy5oZWFydGJlYXQpIHtcbiAgICAgICAgcGFyYW1zLmhlYXJ0YmVhdCA9IG9wdHMuaGVhcnRiZWF0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXJhbXMuZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMudmlldyAmJiB0eXBlb2Ygb3B0cy52aWV3ID09PSAnc3RyaW5nJykge1xuICAgICAgcGFyYW1zLmZpbHRlciA9ICdfdmlldyc7XG4gICAgICBwYXJhbXMudmlldyA9IG9wdHMudmlldztcbiAgICB9XG5cbiAgICAvLyBJZiBvcHRzLnF1ZXJ5X3BhcmFtcyBleGlzdHMsIHBhc3MgaXQgdGhyb3VnaCB0byB0aGUgY2hhbmdlcyByZXF1ZXN0LlxuICAgIC8vIFRoZXNlIHBhcmFtZXRlcnMgbWF5IGJlIHVzZWQgYnkgdGhlIGZpbHRlciBvbiB0aGUgc291cmNlIGRhdGFiYXNlLlxuICAgIGlmIChvcHRzLnF1ZXJ5X3BhcmFtcyAmJiB0eXBlb2Ygb3B0cy5xdWVyeV9wYXJhbXMgPT09ICdvYmplY3QnKSB7XG4gICAgICBmb3IgKHZhciBwYXJhbV9uYW1lIGluIG9wdHMucXVlcnlfcGFyYW1zKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0cy5xdWVyeV9wYXJhbXMsIHBhcmFtX25hbWUpKSB7XG4gICAgICAgICAgcGFyYW1zW3BhcmFtX25hbWVdID0gb3B0cy5xdWVyeV9wYXJhbXNbcGFyYW1fbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG4gICAgdmFyIGJvZHk7XG5cbiAgICBpZiAob3B0cy5kb2NfaWRzKSB7XG4gICAgICAvLyBzZXQgdGhpcyBhdXRvbWFnaWNhbGx5IGZvciB0aGUgdXNlcjsgaXQncyBhbm5veWluZyB0aGF0IGNvdWNoZGJcbiAgICAgIC8vIHJlcXVpcmVzIGJvdGggYSBcImZpbHRlclwiIGFuZCBhIFwiZG9jX2lkc1wiIHBhcmFtLlxuICAgICAgcGFyYW1zLmZpbHRlciA9ICdfZG9jX2lkcyc7XG4gICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICBib2R5ID0ge2RvY19pZHM6IG9wdHMuZG9jX2lkcyB9O1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGVsc2UgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICAgIC8vIHNldCB0aGlzIGF1dG9tYWdpY2FsbHkgZm9yIHRoZSB1c2VyLCBzaW1pbGFyIHRvIGFib3ZlXG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ19zZWxlY3Rvcic7XG4gICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICBib2R5ID0ge3NlbGVjdG9yOiBvcHRzLnNlbGVjdG9yIH07XG4gICAgfVxuXG4gICAgdmFyIGNvbnRyb2xsZXIgPSBuZXcgYSgpO1xuICAgIHZhciBsYXN0RmV0Y2hlZFNlcTtcblxuICAgIC8vIEdldCBhbGwgdGhlIGNoYW5nZXMgc3RhcnRpbmcgd3RpaCB0aGUgb25lIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICAgIC8vIHNlcXVlbmNlIG51bWJlciBnaXZlbiBieSBzaW5jZS5cbiAgICB2YXIgZmV0Y2hEYXRhID0gZnVuY3Rpb24gKHNpbmNlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKG9wdHMuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXJhbXMuc2luY2UgPSBzaW5jZTtcbiAgICAgIC8vIFwic2luY2VcIiBjYW4gYmUgYW55IGtpbmQgb2YganNvbiBvYmplY3QgaW4gQ2xvdWRhbnQvQ291Y2hEQiAyLnhcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAodHlwZW9mIHBhcmFtcy5zaW5jZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBwYXJhbXMuc2luY2UgPSBKU09OLnN0cmluZ2lmeShwYXJhbXMuc2luY2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICAgIGlmIChsaW1pdCkge1xuICAgICAgICAgIHBhcmFtcy5saW1pdCA9IGxlZnRUb0ZldGNoO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXMubGltaXQgPSAoIWxpbWl0IHx8IGxlZnRUb0ZldGNoID4gYmF0Y2hTaXplKSA/XG4gICAgICAgICAgYmF0Y2hTaXplIDogbGVmdFRvRmV0Y2g7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCB0aGUgb3B0aW9ucyBmb3IgdGhlIGFqYXggY2FsbFxuICAgICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsICdfY2hhbmdlcycgKyBwYXJhbXNUb1N0cihwYXJhbXMpKTtcbiAgICAgIHZhciBmZXRjaE9wdHMgPSB7XG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgfTtcbiAgICAgIGxhc3RGZXRjaGVkU2VxID0gc2luY2U7XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKG9wdHMuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgY2hhbmdlc1xuICAgICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoSlNPTih1cmwsIGZldGNoT3B0cywgY2FsbGJhY2spO1xuICAgICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICAvLyBJZiBvcHRzLnNpbmNlIGV4aXN0cywgZ2V0IGFsbCB0aGUgY2hhbmdlcyBmcm9tIHRoZSBzZXF1ZW5jZVxuICAgIC8vIG51bWJlciBnaXZlbiBieSBvcHRzLnNpbmNlLiBPdGhlcndpc2UsIGdldCBhbGwgdGhlIGNoYW5nZXNcbiAgICAvLyBmcm9tIHRoZSBzZXF1ZW5jZSBudW1iZXIgMC5cbiAgICB2YXIgcmVzdWx0cyA9IHtyZXN1bHRzOiBbXX07XG5cbiAgICB2YXIgZmV0Y2hlZCA9IGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgaWYgKG9wdHMuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgcmF3X3Jlc3VsdHNfbGVuZ3RoID0gMDtcbiAgICAgIC8vIElmIHRoZSByZXN1bHQgb2YgdGhlIGFqYXggY2FsbCAocmVzKSBjb250YWlucyBjaGFuZ2VzIChyZXMucmVzdWx0cylcbiAgICAgIGlmIChyZXMgJiYgcmVzLnJlc3VsdHMpIHtcbiAgICAgICAgcmF3X3Jlc3VsdHNfbGVuZ3RoID0gcmVzLnJlc3VsdHMubGVuZ3RoO1xuICAgICAgICByZXN1bHRzLmxhc3Rfc2VxID0gcmVzLmxhc3Rfc2VxO1xuICAgICAgICB2YXIgcGVuZGluZyA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0U2VxID0gbnVsbDtcbiAgICAgICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICh0eXBlb2YgcmVzLnBlbmRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgcGVuZGluZyA9IHJlcy5wZW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0cy5sYXN0X3NlcSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHJlc3VsdHMubGFzdF9zZXEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgbGFzdFNlcSA9IHJlc3VsdHMubGFzdF9zZXE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIGVhY2ggY2hhbmdlXG4gICAgICAgIHZhciByZXEgPSB7fTtcbiAgICAgICAgcmVxLnF1ZXJ5ID0gb3B0cy5xdWVyeV9wYXJhbXM7XG4gICAgICAgIHJlcy5yZXN1bHRzID0gcmVzLnJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgbGVmdFRvRmV0Y2gtLTtcbiAgICAgICAgICB2YXIgcmV0ID0gZmlsdGVyQ2hhbmdlKG9wdHMpKGMpO1xuICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgICAgICAgIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdHMucmV0dXJuX2RvY3MpIHtcbiAgICAgICAgICAgICAgcmVzdWx0cy5yZXN1bHRzLnB1c2goYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRzLm9uQ2hhbmdlKGMsIHBlbmRpbmcsIGxhc3RTZXEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgIC8vIEluIGNhc2Ugb2YgYW4gZXJyb3IsIHN0b3AgbGlzdGVuaW5nIGZvciBjaGFuZ2VzIGFuZCBjYWxsXG4gICAgICAgIC8vIG9wdHMuY29tcGxldGVcbiAgICAgICAgb3B0cy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgb3B0cy5jb21wbGV0ZShlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjaGFuZ2VzIGZlZWQgbWF5IGhhdmUgdGltZWQgb3V0IHdpdGggbm8gcmVzdWx0c1xuICAgICAgLy8gaWYgc28gcmV1c2UgbGFzdCB1cGRhdGUgc2VxdWVuY2VcbiAgICAgIGlmIChyZXMgJiYgcmVzLmxhc3Rfc2VxKSB7XG4gICAgICAgIGxhc3RGZXRjaGVkU2VxID0gcmVzLmxhc3Rfc2VxO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmluaXNoZWQgPSAobGltaXQgJiYgbGVmdFRvRmV0Y2ggPD0gMCkgfHxcbiAgICAgICAgKHJlcyAmJiByYXdfcmVzdWx0c19sZW5ndGggPCBiYXRjaFNpemUpIHx8XG4gICAgICAgIChvcHRzLmRlc2NlbmRpbmcpO1xuXG4gICAgICBpZiAoKG9wdHMuY29udGludW91cyAmJiAhKGxpbWl0ICYmIGxlZnRUb0ZldGNoIDw9IDApKSB8fCAhZmluaXNoZWQpIHtcbiAgICAgICAgLy8gUXVldWUgYSBjYWxsIHRvIGZldGNoIGFnYWluIHdpdGggdGhlIG5ld2VzdCBzZXF1ZW5jZSBudW1iZXJcbiAgICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHsgZmV0Y2hEYXRhKGxhc3RGZXRjaGVkU2VxLCBmZXRjaGVkKTsgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSdyZSBkb25lLCBjYWxsIHRoZSBjYWxsYmFja1xuICAgICAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHJlc3VsdHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaERhdGEob3B0cy5zaW5jZSB8fCAwLCBmZXRjaGVkKTtcblxuICAgIC8vIFJldHVybiBhIG1ldGhvZCB0byBjYW5jZWwgdGhpcyBtZXRob2QgZnJvbSBwcm9jZXNzaW5nIGFueSBtb3JlXG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBvcHRzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBHaXZlbiBhIHNldCBvZiBkb2N1bWVudC9yZXZpc2lvbiBJRHMgKGdpdmVuIGJ5IHJlcSksIHRldHMgdGhlIHN1YnNldCBvZlxuICAvLyB0aG9zZSB0aGF0IGRvIE5PVCBjb3JyZXNwb25kIHRvIHJldmlzaW9ucyBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlLlxuICAvLyBTZWUgaHR0cDovL3dpa2kuYXBhY2hlLm9yZy9jb3VjaGRiL0h0dHBQb3N0UmV2c0RpZmZcbiAgYXBpLnJldnNEaWZmID0gYWRhcHRlckZ1biQkMSgncmV2c0RpZmYnLCBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIElmIG5vIG9wdGlvbnMgd2VyZSBnaXZlbiwgc2V0IHRoZSBjYWxsYmFjayB0byBiZSB0aGUgc2Vjb25kIHBhcmFtZXRlclxuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgbWlzc2luZyBkb2N1bWVudC9yZXZpc2lvbiBJRHNcbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19yZXZzX2RpZmYnKSwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXEpXG4gICAgfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgYXBpLl9jbG9zZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgYXBpLl9kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICcnKSwge21ldGhvZDogJ0RFTEVURSd9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBqc29uKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwge29rOiB0cnVlfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG4vLyBIdHRwUG91Y2ggaXMgYSB2YWxpZCBhZGFwdGVyLlxuSHR0cFBvdWNoLnZhbGlkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIEh0dHBQb3VjaCQxIChQb3VjaERCKSB7XG4gIFBvdWNoREIuYWRhcHRlcignaHR0cCcsIEh0dHBQb3VjaCwgZmFsc2UpO1xuICBQb3VjaERCLmFkYXB0ZXIoJ2h0dHBzJywgSHR0cFBvdWNoLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIFF1ZXJ5UGFyc2VFcnJvcihtZXNzYWdlKSB7XG4gIHRoaXMuc3RhdHVzID0gNDAwO1xuICB0aGlzLm5hbWUgPSAncXVlcnlfcGFyc2VfZXJyb3InO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBRdWVyeVBhcnNlRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5pbmhlcml0cyhRdWVyeVBhcnNlRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gTm90Rm91bmRFcnJvcihtZXNzYWdlKSB7XG4gIHRoaXMuc3RhdHVzID0gNDA0O1xuICB0aGlzLm5hbWUgPSAnbm90X2ZvdW5kJztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG4gIHRyeSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgTm90Rm91bmRFcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmluaGVyaXRzKE5vdEZvdW5kRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gQnVpbHRJbkVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA1MDA7XG4gIHRoaXMubmFtZSA9ICdpbnZhbGlkX3ZhbHVlJztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG4gIHRyeSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgQnVpbHRJbkVycm9yKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuaW5oZXJpdHMoQnVpbHRJbkVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spIHtcbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGNhbGxiYWNraWZ5KGZ1bikge1xuICByZXR1cm4gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgdmFyIGNiID0gYXJncy5wb3AoKTtcbiAgICB2YXIgcHJvbWlzZSA9IGZ1bi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9taXNlZENhbGxiYWNrKHByb21pc2UsIGNiKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0pO1xufVxuXG4vLyBQcm9taXNlIGZpbmFsbHkgdXRpbCBzaW1pbGFyIHRvIFEuZmluYWxseVxuZnVuY3Rpb24gZmluKHByb21pc2UsIGZpbmFsUHJvbWlzZUZhY3RvcnkpIHtcbiAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgcmV0dXJuIGZpbmFsUHJvbWlzZUZhY3RvcnkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gZmluYWxQcm9taXNlRmFjdG9yeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgcmVhc29uO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2VxdWVudGlhbGl6ZShxdWV1ZSwgcHJvbWlzZUZhY3RvcnkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgcmV0dXJuIHF1ZXVlLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZUZhY3RvcnkuYXBwbHkodGhhdCwgYXJncyk7XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIHVuaXEgYW4gYXJyYXkgb2Ygc3RyaW5ncywgb3JkZXIgbm90IGd1YXJhbnRlZWRcbi8vIHNpbWlsYXIgdG8gdW5kZXJzY29yZS9sb2Rhc2ggXy51bmlxXG5mdW5jdGlvbiB1bmlxKGFycikge1xuICB2YXIgdGhlU2V0ID0gbmV3IEV4cG9ydGVkU2V0KGFycik7XG4gIHZhciByZXN1bHQgPSBuZXcgQXJyYXkodGhlU2V0LnNpemUpO1xuICB2YXIgaW5kZXggPSAtMTtcbiAgdGhlU2V0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtYXBUb0tleXNBcnJheShtYXApIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheShtYXAuc2l6ZSk7XG4gIHZhciBpbmRleCA9IC0xO1xuICBtYXAuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IGtleTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1aWx0SW5FcnJvcihuYW1lKSB7XG4gIHZhciBtZXNzYWdlID0gJ2J1aWx0aW4gJyArIG5hbWUgK1xuICAgICcgZnVuY3Rpb24gcmVxdWlyZXMgbWFwIHZhbHVlcyB0byBiZSBudW1iZXJzJyArXG4gICAgJyBvciBudW1iZXIgYXJyYXlzJztcbiAgcmV0dXJuIG5ldyBCdWlsdEluRXJyb3IobWVzc2FnZSk7XG59XG5cbmZ1bmN0aW9uIHN1bSh2YWx1ZXMpIHtcbiAgdmFyIHJlc3VsdCA9IDA7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbnVtID0gdmFsdWVzW2ldO1xuICAgIGlmICh0eXBlb2YgbnVtICE9PSAnbnVtYmVyJykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobnVtKSkge1xuICAgICAgICAvLyBsaXN0cyBvZiBudW1iZXJzIGFyZSBhbHNvIGFsbG93ZWQsIHN1bSB0aGVtIHNlcGFyYXRlbHlcbiAgICAgICAgcmVzdWx0ID0gdHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicgPyBbcmVzdWx0XSA6IHJlc3VsdDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpMZW4gPSBudW0ubGVuZ3RoOyBqIDwgakxlbjsgaisrKSB7XG4gICAgICAgICAgdmFyIGpOdW0gPSBudW1bal07XG4gICAgICAgICAgaWYgKHR5cGVvZiBqTnVtICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnVpbHRJbkVycm9yKCdfc3VtJyk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmVzdWx0W2pdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goak51bSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdFtqXSArPSBqTnVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHsgLy8gbm90IGFycmF5L251bWJlclxuICAgICAgICB0aHJvdyBjcmVhdGVCdWlsdEluRXJyb3IoJ19zdW0nKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXN1bHQgKz0gbnVtO1xuICAgIH0gZWxzZSB7IC8vIGFkZCBudW1iZXIgdG8gYXJyYXlcbiAgICAgIHJlc3VsdFswXSArPSBudW07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbnZhciBsb2cgPSBndWFyZGVkQ29uc29sZS5iaW5kKG51bGwsICdsb2cnKTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciB0b0pTT04gPSBKU09OLnBhcnNlO1xuXG5mdW5jdGlvbiBldmFsRnVuY3Rpb25XaXRoRXZhbChmdW5jLCBlbWl0KSB7XG4gIHJldHVybiBzY29wZUV2YWwoXG4gICAgXCJyZXR1cm4gKFwiICsgZnVuYy5yZXBsYWNlKC87XFxzKiQvLCBcIlwiKSArIFwiKTtcIixcbiAgICB7XG4gICAgICBlbWl0OiBlbWl0LFxuICAgICAgc3VtOiBzdW0sXG4gICAgICBsb2c6IGxvZyxcbiAgICAgIGlzQXJyYXk6IGlzQXJyYXksXG4gICAgICB0b0pTT046IHRvSlNPTlxuICAgIH1cbiAgKTtcbn1cblxuLypcbiAqIFNpbXBsZSB0YXNrIHF1ZXVlIHRvIHNlcXVlbnRpYWxpemUgYWN0aW9ucy4gQXNzdW1lc1xuICogY2FsbGJhY2tzIHdpbGwgZXZlbnR1YWxseSBmaXJlIChvbmNlKS5cbiAqL1xuXG5cbmZ1bmN0aW9uIFRhc2tRdWV1ZSQxKCkge1xuICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCkge2Z1bGZpbGwoKTsgfSk7XG59XG5UYXNrUXVldWUkMS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHByb21pc2VGYWN0b3J5KSB7XG4gIHRoaXMucHJvbWlzZSA9IHRoaXMucHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgLy8ganVzdCByZWNvdmVyXG4gIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9taXNlRmFjdG9yeSgpO1xuICB9KTtcbiAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbn07XG5UYXNrUXVldWUkMS5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5wcm9taXNlO1xufTtcblxuZnVuY3Rpb24gc3RyaW5naWZ5KGlucHV0KSB7XG4gIGlmICghaW5wdXQpIHtcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7IC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIGVtcHR5IHJlZHVjZVxuICB9XG4gIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0IHdpdGggbWFwcmVkdWNlLCBmdW5jdGlvbnMvc3RyaW5ncyBhcmUgc3RyaW5naWZpZWRcbiAgLy8gYXMtaXMuIGV2ZXJ5dGhpbmcgZWxzZSBpcyBKU09OLXN0cmluZ2lmaWVkLlxuICBzd2l0Y2ggKHR5cGVvZiBpbnB1dCkge1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIC8vIGUuZy4gYSBtYXByZWR1Y2UgbWFwXG4gICAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcoKTtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgLy8gZS5nLiBhIG1hcHJlZHVjZSBidWlsdC1pbiBfcmVkdWNlIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcoKTtcbiAgICBkZWZhdWx0OlxuICAgICAgLy8gZS5nLiBhIEpTT04gb2JqZWN0IGluIHRoZSBjYXNlIG9mIG1hbmdvIHF1ZXJpZXNcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpbnB1dCk7XG4gIH1cbn1cblxuLyogY3JlYXRlIGEgc3RyaW5nIHNpZ25hdHVyZSBmb3IgYSB2aWV3IHNvIHdlIGNhbiBjYWNoZSBpdCBhbmQgdW5pcSBpdCAqL1xuZnVuY3Rpb24gY3JlYXRlVmlld1NpZ25hdHVyZShtYXBGdW4sIHJlZHVjZUZ1bikge1xuICAvLyB0aGUgXCJ1bmRlZmluZWRcIiBwYXJ0IGlzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICByZXR1cm4gc3RyaW5naWZ5KG1hcEZ1bikgKyBzdHJpbmdpZnkocmVkdWNlRnVuKSArICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVWaWV3KHNvdXJjZURCLCB2aWV3TmFtZSwgbWFwRnVuLCByZWR1Y2VGdW4sIHRlbXBvcmFyeSwgbG9jYWxEb2NOYW1lKSB7XG4gIHZhciB2aWV3U2lnbmF0dXJlID0gY3JlYXRlVmlld1NpZ25hdHVyZShtYXBGdW4sIHJlZHVjZUZ1bik7XG5cbiAgdmFyIGNhY2hlZFZpZXdzO1xuICBpZiAoIXRlbXBvcmFyeSkge1xuICAgIC8vIGNhY2hlIHRoaXMgdG8gZW5zdXJlIHdlIGRvbid0IHRyeSB0byB1cGRhdGUgdGhlIHNhbWUgdmlldyB0d2ljZVxuICAgIGNhY2hlZFZpZXdzID0gc291cmNlREIuX2NhY2hlZFZpZXdzID0gc291cmNlREIuX2NhY2hlZFZpZXdzIHx8IHt9O1xuICAgIGlmIChjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXSkge1xuICAgICAgcmV0dXJuIGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm9taXNlRm9yVmlldyA9IHNvdXJjZURCLmluZm8oKS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG5cbiAgICB2YXIgZGVwRGJOYW1lID0gaW5mby5kYl9uYW1lICsgJy1tcnZpZXctJyArXG4gICAgICAodGVtcG9yYXJ5ID8gJ3RlbXAnIDogc3RyaW5nTWQ1KHZpZXdTaWduYXR1cmUpKTtcblxuICAgIC8vIHNhdmUgdGhlIHZpZXcgbmFtZSBpbiB0aGUgc291cmNlIGRiIHNvIGl0IGNhbiBiZSBjbGVhbmVkIHVwIGlmIG5lY2Vzc2FyeVxuICAgIC8vIChlLmcuIHdoZW4gdGhlIF9kZXNpZ24gZG9jIGlzIGRlbGV0ZWQsIHJlbW92ZSBhbGwgYXNzb2NpYXRlZCB2aWV3IGRhdGEpXG4gICAgZnVuY3Rpb24gZGlmZkZ1bmN0aW9uKGRvYykge1xuICAgICAgZG9jLnZpZXdzID0gZG9jLnZpZXdzIHx8IHt9O1xuICAgICAgdmFyIGZ1bGxWaWV3TmFtZSA9IHZpZXdOYW1lO1xuICAgICAgaWYgKGZ1bGxWaWV3TmFtZS5pbmRleE9mKCcvJykgPT09IC0xKSB7XG4gICAgICAgIGZ1bGxWaWV3TmFtZSA9IHZpZXdOYW1lICsgJy8nICsgdmlld05hbWU7XG4gICAgICB9XG4gICAgICB2YXIgZGVwRGJzID0gZG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0gPSBkb2Mudmlld3NbZnVsbFZpZXdOYW1lXSB8fCB7fTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGRlcERic1tkZXBEYk5hbWVdKSB7XG4gICAgICAgIHJldHVybjsgLy8gbm8gdXBkYXRlIG5lY2Vzc2FyeVxuICAgICAgfVxuICAgICAgZGVwRGJzW2RlcERiTmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIGRvYztcbiAgICB9XG4gICAgcmV0dXJuIHVwc2VydChzb3VyY2VEQiwgJ19sb2NhbC8nICsgbG9jYWxEb2NOYW1lLCBkaWZmRnVuY3Rpb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNvdXJjZURCLnJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UoZGVwRGJOYW1lKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdmFyIGRiID0gcmVzLmRiO1xuICAgICAgICBkYi5hdXRvX2NvbXBhY3Rpb24gPSB0cnVlO1xuICAgICAgICB2YXIgdmlldyA9IHtcbiAgICAgICAgICBuYW1lOiBkZXBEYk5hbWUsXG4gICAgICAgICAgZGI6IGRiLFxuICAgICAgICAgIHNvdXJjZURCOiBzb3VyY2VEQixcbiAgICAgICAgICBhZGFwdGVyOiBzb3VyY2VEQi5hZGFwdGVyLFxuICAgICAgICAgIG1hcEZ1bjogbWFwRnVuLFxuICAgICAgICAgIHJlZHVjZUZ1bjogcmVkdWNlRnVuXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB2aWV3LmRiLmdldCgnX2xvY2FsL2xhc3RTZXEnKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobGFzdFNlcURvYykge1xuICAgICAgICAgIHZpZXcuc2VxID0gbGFzdFNlcURvYyA/IGxhc3RTZXFEb2Muc2VxIDogMDtcbiAgICAgICAgICBpZiAoY2FjaGVkVmlld3MpIHtcbiAgICAgICAgICAgIHZpZXcuZGIub25jZSgnZGVzdHJveWVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBkZWxldGUgY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGlmIChjYWNoZWRWaWV3cykge1xuICAgIGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdID0gcHJvbWlzZUZvclZpZXc7XG4gIH1cbiAgcmV0dXJuIHByb21pc2VGb3JWaWV3O1xufVxuXG52YXIgcGVyc2lzdGVudFF1ZXVlcyA9IHt9O1xudmFyIHRlbXBWaWV3UXVldWUgPSBuZXcgVGFza1F1ZXVlJDEoKTtcbnZhciBDSEFOR0VTX0JBVENIX1NJWkUkMSA9IDUwO1xuXG5mdW5jdGlvbiBwYXJzZVZpZXdOYW1lKG5hbWUpIHtcbiAgLy8gY2FuIGJlIGVpdGhlciAnZGRvY25hbWUvdmlld25hbWUnIG9yIGp1c3QgJ3ZpZXduYW1lJ1xuICAvLyAod2hlcmUgdGhlIGRkb2MgbmFtZSBpcyB0aGUgc2FtZSlcbiAgcmV0dXJuIG5hbWUuaW5kZXhPZignLycpID09PSAtMSA/IFtuYW1lLCBuYW1lXSA6IG5hbWUuc3BsaXQoJy8nKTtcbn1cblxuZnVuY3Rpb24gaXNHZW5PbmUoY2hhbmdlcykge1xuICAvLyBvbmx5IHJldHVybiB0cnVlIGlmIHRoZSBjdXJyZW50IGNoYW5nZSBpcyAxLVxuICAvLyBhbmQgdGhlcmUgYXJlIG5vIG90aGVyIGxlYWZzXG4gIHJldHVybiBjaGFuZ2VzLmxlbmd0aCA9PT0gMSAmJiAvXjEtLy50ZXN0KGNoYW5nZXNbMF0ucmV2KTtcbn1cblxuZnVuY3Rpb24gZW1pdEVycm9yKGRiLCBlKSB7XG4gIHRyeSB7XG4gICAgZGIuZW1pdCgnZXJyb3InLCBlKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJyxcbiAgICAgICdUaGUgdXNlclxcJ3MgbWFwL3JlZHVjZSBmdW5jdGlvbiB0aHJldyBhbiB1bmNhdWdodCBlcnJvci5cXG4nICtcbiAgICAgICdZb3UgY2FuIGRlYnVnIHRoaXMgZXJyb3IgYnkgZG9pbmc6XFxuJyArXG4gICAgICAnbXlEYXRhYmFzZS5vbihcXCdlcnJvclxcJywgZnVuY3Rpb24gKGVycikgeyBkZWJ1Z2dlcjsgfSk7XFxuJyArXG4gICAgICAnUGxlYXNlIGRvdWJsZS1jaGVjayB5b3VyIG1hcC9yZWR1Y2UgZnVuY3Rpb24uJyk7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIFwiYWJzdHJhY3RcIiBtYXByZWR1Y2Ugb2JqZWN0IG9mIHRoZSBmb3JtOlxuICpcbiAqICAge1xuICogICAgIHF1ZXJ5OiBxdWVyeUZ1bixcbiAqICAgICB2aWV3Q2xlYW51cDogdmlld0NsZWFudXBGdW5cbiAqICAgfVxuICpcbiAqIEFyZ3VtZW50cyBhcmU6XG4gKlxuICogbG9jYWxEb2M6IHN0cmluZ1xuICogICBUaGlzIGlzIGZvciB0aGUgbG9jYWwgZG9jIHRoYXQgZ2V0cyBzYXZlZCBpbiBvcmRlciB0byB0cmFjayB0aGVcbiAqICAgXCJkZXBlbmRlbnRcIiBEQnMgYW5kIGNsZWFuIHRoZW0gdXAgZm9yIHZpZXdDbGVhbnVwLiBJdCBzaG91bGQgYmVcbiAqICAgdW5pcXVlLCBzbyB0aGF0IGluZGV4ZXIgcGx1Z2lucyBkb24ndCBjb2xsaWRlIHdpdGggZWFjaCBvdGhlci5cbiAqIG1hcHBlcjogZnVuY3Rpb24gKG1hcEZ1bkRlZiwgZW1pdClcbiAqICAgUmV0dXJucyBhIG1hcCBmdW5jdGlvbiBiYXNlZCBvbiB0aGUgbWFwRnVuRGVmLCB3aGljaCBpbiB0aGUgY2FzZSBvZlxuICogICBub3JtYWwgbWFwL3JlZHVjZSBpcyBqdXN0IHRoZSBkZS1zdHJpbmdpZmllZCBmdW5jdGlvbiwgYnV0IG1heSBiZVxuICogICBzb21ldGhpbmcgZWxzZSwgc3VjaCBhcyBhbiBvYmplY3QgaW4gdGhlIGNhc2Ugb2YgcG91Y2hkYi1maW5kLlxuICogcmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZUZ1bkRlZilcbiAqICAgRGl0dG8sIGJ1dCBmb3IgcmVkdWNpbmcuIE1vZHVsZXMgZG9uJ3QgaGF2ZSB0byBzdXBwb3J0IHJlZHVjaW5nXG4gKiAgIChlLmcuIHBvdWNoZGItZmluZCkuXG4gKiBkZG9jVmFsaWRhdG9yOiBmdW5jdGlvbiAoZGRvYywgdmlld05hbWUpXG4gKiAgIFRocm93cyBhbiBlcnJvciBpZiB0aGUgZGRvYyBvciB2aWV3TmFtZSBpcyBub3QgdmFsaWQuXG4gKiAgIFRoaXMgY291bGQgYmUgYSB3YXkgdG8gY29tbXVuaWNhdGUgdG8gdGhlIHVzZXIgdGhhdCB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhlXG4gKiAgIGluZGV4ZXIgaXMgaW52YWxpZC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQWJzdHJhY3RNYXBSZWR1Y2UobG9jYWxEb2NOYW1lLCBtYXBwZXIsIHJlZHVjZXIsIGRkb2NWYWxpZGF0b3IpIHtcblxuICBmdW5jdGlvbiB0cnlNYXAoZGIsIGZ1biwgZG9jKSB7XG4gICAgLy8gZW1pdCBhbiBldmVudCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgdGhyb3duIGJ5IGEgbWFwIGZ1bmN0aW9uLlxuICAgIC8vIHB1dHRpbmcgdHJ5L2NhdGNoZXMgaW4gYSBzaW5nbGUgZnVuY3Rpb24gYWxzbyBhdm9pZHMgZGVvcHRpbWl6YXRpb25zLlxuICAgIHRyeSB7XG4gICAgICBmdW4oZG9jKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlbWl0RXJyb3IoZGIsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeVJlZHVjZShkYiwgZnVuLCBrZXlzLCB2YWx1ZXMsIHJlcmVkdWNlKSB7XG4gICAgLy8gc2FtZSBhcyBhYm92ZSwgYnV0IHJldHVybmluZyB0aGUgcmVzdWx0IG9yIGFuIGVycm9yLiB0aGVyZSBhcmUgdHdvIHNlcGFyYXRlXG4gICAgLy8gZnVuY3Rpb25zIHRvIGF2b2lkIGV4dHJhIG1lbW9yeSBhbGxvY2F0aW9ucyBzaW5jZSB0aGUgdHJ5Q29kZSgpIGNhc2UgaXMgdXNlZFxuICAgIC8vIGZvciBjdXN0b20gbWFwIGZ1bmN0aW9ucyAoY29tbW9uKSB2cyB0aGlzIGZ1bmN0aW9uLCB3aGljaCBpcyBvbmx5IHVzZWQgZm9yXG4gICAgLy8gY3VzdG9tIHJlZHVjZSBmdW5jdGlvbnMgKHJhcmUpXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7b3V0cHV0IDogZnVuKGtleXMsIHZhbHVlcywgcmVyZWR1Y2UpfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlbWl0RXJyb3IoZGIsIGUpO1xuICAgICAgcmV0dXJuIHtlcnJvcjogZX07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc29ydEJ5S2V5VGhlblZhbHVlKHgsIHkpIHtcbiAgICB2YXIga2V5Q29tcGFyZSA9IGNvbGxhdGUoeC5rZXksIHkua2V5KTtcbiAgICByZXR1cm4ga2V5Q29tcGFyZSAhPT0gMCA/IGtleUNvbXBhcmUgOiBjb2xsYXRlKHgudmFsdWUsIHkudmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2xpY2VSZXN1bHRzKHJlc3VsdHMsIGxpbWl0LCBza2lwKSB7XG4gICAgc2tpcCA9IHNraXAgfHwgMDtcbiAgICBpZiAodHlwZW9mIGxpbWl0ID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIHJlc3VsdHMuc2xpY2Uoc2tpcCwgbGltaXQgKyBza2lwKTtcbiAgICB9IGVsc2UgaWYgKHNraXAgPiAwKSB7XG4gICAgICByZXR1cm4gcmVzdWx0cy5zbGljZShza2lwKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICBmdW5jdGlvbiByb3dUb0RvY0lkKHJvdykge1xuICAgIHZhciB2YWwgPSByb3cudmFsdWU7XG4gICAgLy8gVXNlcnMgY2FuIGV4cGxpY2l0bHkgc3BlY2lmeSBhIGpvaW5lZCBkb2MgX2lkLCBvciBpdFxuICAgIC8vIGRlZmF1bHRzIHRvIHRoZSBkb2MgX2lkIHRoYXQgZW1pdHRlZCB0aGUga2V5L3ZhbHVlLlxuICAgIHZhciBkb2NJZCA9ICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsLl9pZCkgfHwgcm93LmlkO1xuICAgIHJldHVybiBkb2NJZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKHJlcykge1xuICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgdmFyIGF0dHMgPSByb3cuZG9jICYmIHJvdy5kb2MuX2F0dGFjaG1lbnRzO1xuICAgICAgaWYgKCFhdHRzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKGF0dHMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIHZhciBhdHQgPSBhdHRzW2ZpbGVuYW1lXTtcbiAgICAgICAgYXR0c1tmaWxlbmFtZV0uZGF0YSA9IGI2NFRvQmx1ZmZlcihhdHQuZGF0YSwgYXR0LmNvbnRlbnRfdHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3Rwcm9jZXNzQXR0YWNobWVudHMob3B0cykge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgJiYgb3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihyZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkSHR0cFBhcmFtKHBhcmFtTmFtZSwgb3B0cywgcGFyYW1zLCBhc0pzb24pIHtcbiAgICAvLyBhZGQgYW4gaHR0cCBwYXJhbSBmcm9tIG9wdHMgdG8gcGFyYW1zLCBvcHRpb25hbGx5IGpzb24tZW5jb2RlZFxuICAgIHZhciB2YWwgPSBvcHRzW3BhcmFtTmFtZV07XG4gICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoYXNKc29uKSB7XG4gICAgICAgIHZhbCA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh2YWwpKTtcbiAgICAgIH1cbiAgICAgIHBhcmFtcy5wdXNoKHBhcmFtTmFtZSArICc9JyArIHZhbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29lcmNlSW50ZWdlcihpbnRlZ2VyQ2FuZGlkYXRlKSB7XG4gICAgaWYgKHR5cGVvZiBpbnRlZ2VyQ2FuZGlkYXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGFzTnVtYmVyID0gTnVtYmVyKGludGVnZXJDYW5kaWRhdGUpO1xuICAgICAgLy8gcHJldmVudHMgZS5nLiAnMWZvbycgb3IgJzEuMScgYmVpbmcgY29lcmNlZCB0byAxXG4gICAgICBpZiAoIWlzTmFOKGFzTnVtYmVyKSAmJiBhc051bWJlciA9PT0gcGFyc2VJbnQoaW50ZWdlckNhbmRpZGF0ZSwgMTApKSB7XG4gICAgICAgIHJldHVybiBhc051bWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnRlZ2VyQ2FuZGlkYXRlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvZXJjZU9wdGlvbnMob3B0cykge1xuICAgIG9wdHMuZ3JvdXBfbGV2ZWwgPSBjb2VyY2VJbnRlZ2VyKG9wdHMuZ3JvdXBfbGV2ZWwpO1xuICAgIG9wdHMubGltaXQgPSBjb2VyY2VJbnRlZ2VyKG9wdHMubGltaXQpO1xuICAgIG9wdHMuc2tpcCA9IGNvZXJjZUludGVnZXIob3B0cy5za2lwKTtcbiAgICByZXR1cm4gb3B0cztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrUG9zaXRpdmVJbnRlZ2VyKG51bWJlcikge1xuICAgIGlmIChudW1iZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgbnVtYmVyICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gIG5ldyBRdWVyeVBhcnNlRXJyb3IoJ0ludmFsaWQgdmFsdWUgZm9yIGludGVnZXI6IFwiJyArXG4gICAgICAgICAgbnVtYmVyICsgJ1wiJyk7XG4gICAgICB9XG4gICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5UGFyc2VFcnJvcignSW52YWxpZCB2YWx1ZSBmb3IgcG9zaXRpdmUgaW50ZWdlcjogJyArXG4gICAgICAgICAgJ1wiJyArIG51bWJlciArICdcIicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrUXVlcnlQYXJzZUVycm9yKG9wdGlvbnMsIGZ1bikge1xuICAgIHZhciBzdGFydGtleU5hbWUgPSBvcHRpb25zLmRlc2NlbmRpbmcgPyAnZW5ka2V5JyA6ICdzdGFydGtleSc7XG4gICAgdmFyIGVuZGtleU5hbWUgPSBvcHRpb25zLmRlc2NlbmRpbmcgPyAnc3RhcnRrZXknIDogJ2VuZGtleSc7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnNbc3RhcnRrZXlOYW1lXSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBvcHRpb25zW2VuZGtleU5hbWVdICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgY29sbGF0ZShvcHRpb25zW3N0YXJ0a2V5TmFtZV0sIG9wdGlvbnNbZW5ka2V5TmFtZV0pID4gMCkge1xuICAgICAgdGhyb3cgbmV3IFF1ZXJ5UGFyc2VFcnJvcignTm8gcm93cyBjYW4gbWF0Y2ggeW91ciBrZXkgcmFuZ2UsICcgK1xuICAgICAgICAncmV2ZXJzZSB5b3VyIHN0YXJ0X2tleSBhbmQgZW5kX2tleSBvciBzZXQge2Rlc2NlbmRpbmcgOiB0cnVlfScpO1xuICAgIH0gZWxzZSBpZiAoZnVuLnJlZHVjZSAmJiBvcHRpb25zLnJlZHVjZSAhPT0gZmFsc2UpIHtcbiAgICAgIGlmIChvcHRpb25zLmluY2x1ZGVfZG9jcykge1xuICAgICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCd7aW5jbHVkZV9kb2NzOnRydWV9IGlzIGludmFsaWQgZm9yIHJlZHVjZScpO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmtleXMgJiYgb3B0aW9ucy5rZXlzLmxlbmd0aCA+IDEgJiZcbiAgICAgICAgIW9wdGlvbnMuZ3JvdXAgJiYgIW9wdGlvbnMuZ3JvdXBfbGV2ZWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFF1ZXJ5UGFyc2VFcnJvcignTXVsdGkta2V5IGZldGNoZXMgZm9yIHJlZHVjZSB2aWV3cyBtdXN0IHVzZSAnICtcbiAgICAgICAgICAne2dyb3VwOiB0cnVlfScpO1xuICAgICAgfVxuICAgIH1cbiAgICBbJ2dyb3VwX2xldmVsJywgJ2xpbWl0JywgJ3NraXAnXS5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb25OYW1lKSB7XG4gICAgICB2YXIgZXJyb3IgPSBjaGVja1Bvc2l0aXZlSW50ZWdlcihvcHRpb25zW29wdGlvbk5hbWVdKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGh0dHBRdWVyeShkYiwgZnVuLCBvcHRzKSB7XG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgUFVUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0gW107XG4gICAgdmFyIGJvZHk7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuICAgIHZhciBvaywgc3RhdHVzO1xuXG4gICAgLy8gSWYgb3B0cy5yZWR1Y2UgZXhpc3RzIGFuZCBpcyBkZWZpbmVkLCB0aGVuIGFkZCBpdCB0byB0aGUgbGlzdFxuICAgIC8vIG9mIHBhcmFtZXRlcnMuXG4gICAgLy8gSWYgcmVkdWNlPWZhbHNlIHRoZW4gdGhlIHJlc3VsdHMgYXJlIHRoYXQgb2Ygb25seSB0aGUgbWFwIGZ1bmN0aW9uXG4gICAgLy8gbm90IHRoZSBmaW5hbCByZXN1bHQgb2YgbWFwIGFuZCByZWR1Y2UuXG4gICAgYWRkSHR0cFBhcmFtKCdyZWR1Y2UnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnaW5jbHVkZV9kb2NzJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2F0dGFjaG1lbnRzJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2xpbWl0Jywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2Rlc2NlbmRpbmcnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnZ3JvdXAnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnZ3JvdXBfbGV2ZWwnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnc2tpcCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFsZScsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdjb25mbGljdHMnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnc3RhcnRrZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnc3RhcnRfa2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2VuZGtleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdlbmRfa2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2luY2x1c2l2ZV9lbmQnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgna2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3VwZGF0ZV9zZXEnLCBvcHRzLCBwYXJhbXMpO1xuXG4gICAgLy8gRm9ybWF0IHRoZSBsaXN0IG9mIHBhcmFtZXRlcnMgaW50byBhIHZhbGlkIFVSSSBxdWVyeSBzdHJpbmdcbiAgICBwYXJhbXMgPSBwYXJhbXMuam9pbignJicpO1xuICAgIHBhcmFtcyA9IHBhcmFtcyA9PT0gJycgPyAnJyA6ICc/JyArIHBhcmFtcztcblxuICAgIC8vIElmIGtleXMgYXJlIHN1cHBsaWVkLCBpc3N1ZSBhIFBPU1QgdG8gY2lyY3VtdmVudCBHRVQgcXVlcnkgc3RyaW5nIGxpbWl0c1xuICAgIC8vIHNlZSBodHRwOi8vd2lraS5hcGFjaGUub3JnL2NvdWNoZGIvSFRUUF92aWV3X0FQSSNRdWVyeWluZ19PcHRpb25zXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgTUFYX1VSTF9MRU5HVEggPSAyMDAwO1xuICAgICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQxNzE4NC82ODA3NDIsXG4gICAgICAvLyB0aGUgZGUgZmFjdG8gVVJMIGxlbmd0aCBsaW1pdCBpcyAyMDAwIGNoYXJhY3RlcnNcblxuICAgICAgdmFyIGtleXNBc1N0cmluZyA9XG4gICAgICAgICdrZXlzPScgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkob3B0cy5rZXlzKSk7XG4gICAgICBpZiAoa2V5c0FzU3RyaW5nLmxlbmd0aCArIHBhcmFtcy5sZW5ndGggKyAxIDw9IE1BWF9VUkxfTEVOR1RIKSB7XG4gICAgICAgIC8vIElmIHRoZSBrZXlzIGFyZSBzaG9ydCBlbm91Z2gsIGRvIGEgR0VULiB3ZSBkbyB0aGlzIHRvIHdvcmsgYXJvdW5kXG4gICAgICAgIC8vIFNhZmFyaSBub3QgdW5kZXJzdGFuZGluZyAzMDRzIG9uIFBPU1RzIChzZWUgcG91Y2hkYi9wb3VjaGRiIzEyMzkpXG4gICAgICAgIHBhcmFtcyArPSAocGFyYW1zWzBdID09PSAnPycgPyAnJicgOiAnPycpICsga2V5c0FzU3RyaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBib2R5ID0ge2tleXM6IG9wdHMua2V5c307XG4gICAgICAgIH0gZWxzZSB7IC8vIGZ1biBpcyB7bWFwIDogbWFwZnVufSwgc28gYXBwZW5kIHRvIHRoaXNcbiAgICAgICAgICBmdW4ua2V5cyA9IG9wdHMua2V5cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdlIGFyZSByZWZlcmVuY2luZyBhIHF1ZXJ5IGRlZmluZWQgaW4gdGhlIGRlc2lnbiBkb2NcbiAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBwYXJ0cyA9IHBhcnNlVmlld05hbWUoZnVuKTtcbiAgICAgIHJldHVybiBkYi5mZXRjaCgnX2Rlc2lnbi8nICsgcGFydHNbMF0gKyAnL192aWV3LycgKyBwYXJ0c1sxXSArIHBhcmFtcywge1xuICAgICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30pLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIG9rID0gcmVzcG9uc2Uub2s7XG4gICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmFpbCB0aGUgZW50aXJlIHJlcXVlc3QgaWYgdGhlIHJlc3VsdCBjb250YWlucyBhbiBlcnJvclxuICAgICAgICByZXN1bHQucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAocm93LnZhbHVlICYmIHJvdy52YWx1ZS5lcnJvciAmJiByb3cudmFsdWUuZXJyb3IgPT09IFwiYnVpbHRpbl9yZWR1Y2VfZXJyb3JcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJvdy5yZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KS50aGVuKHBvc3Rwcm9jZXNzQXR0YWNobWVudHMob3B0cykpO1xuICAgIH1cblxuICAgIC8vIFdlIGFyZSB1c2luZyBhIHRlbXBvcmFyeSB2aWV3LCB0ZXJyaWJsZSBmb3IgcGVyZm9ybWFuY2UsIGdvb2QgZm9yIHRlc3RpbmdcbiAgICBib2R5ID0gYm9keSB8fCB7fTtcbiAgICBPYmplY3Qua2V5cyhmdW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZnVuW2tleV0pKSB7XG4gICAgICAgIGJvZHlba2V5XSA9IGZ1bltrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm9keVtrZXldID0gZnVuW2tleV0udG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBkYi5mZXRjaCgnX3RlbXBfdmlldycgKyBwYXJhbXMsIHtcbiAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgb2sgPSByZXNwb25zZS5vaztcbiAgICAgICAgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmICghb2spIHtcbiAgICAgICAgcmVzdWx0LnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShyZXN1bHQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KS50aGVuKHBvc3Rwcm9jZXNzQXR0YWNobWVudHMob3B0cykpO1xuICB9XG5cbiAgLy8gY3VzdG9tIGFkYXB0ZXJzIGNhbiBkZWZpbmUgdGhlaXIgb3duIGFwaS5fcXVlcnlcbiAgLy8gYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGZ1bmN0aW9uIGN1c3RvbVF1ZXJ5KGRiLCBmdW4sIG9wdHMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZGIuX3F1ZXJ5KGZ1biwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBjdXN0b20gYWRhcHRlcnMgY2FuIGRlZmluZSB0aGVpciBvd24gYXBpLl92aWV3Q2xlYW51cFxuICAvLyBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gY3VzdG9tVmlld0NsZWFudXAoZGIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZGIuX3ZpZXdDbGVhbnVwKGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdHNUbyh2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKHJlYXNvbi5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIHJldHVybnMgYSBwcm9taXNlIGZvciBhIGxpc3Qgb2YgZG9jcyB0byB1cGRhdGUsIGJhc2VkIG9uIHRoZSBpbnB1dCBkb2NJZC5cbiAgLy8gdGhlIG9yZGVyIGRvZXNuJ3QgbWF0dGVyLCBiZWNhdXNlIHBvc3QtMy4yLjAsIGJ1bGtEb2NzXG4gIC8vIGlzIGFuIGF0b21pYyBvcGVyYXRpb24gaW4gYWxsIHRocmVlIGFkYXB0ZXJzLlxuICBmdW5jdGlvbiBnZXREb2NzVG9QZXJzaXN0KGRvY0lkLCB2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cykge1xuICAgIHZhciBtZXRhRG9jSWQgPSAnX2xvY2FsL2RvY18nICsgZG9jSWQ7XG4gICAgdmFyIGRlZmF1bHRNZXRhRG9jID0ge19pZDogbWV0YURvY0lkLCBrZXlzOiBbXX07XG4gICAgdmFyIGRvY0RhdGEgPSBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cy5nZXQoZG9jSWQpO1xuICAgIHZhciBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMgPSBkb2NEYXRhWzBdO1xuICAgIHZhciBjaGFuZ2VzID0gZG9jRGF0YVsxXTtcblxuICAgIGZ1bmN0aW9uIGdldE1ldGFEb2MoKSB7XG4gICAgICBpZiAoaXNHZW5PbmUoY2hhbmdlcykpIHtcbiAgICAgICAgLy8gZ2VuZXJhdGlvbiAxLCBzbyB3ZSBjYW4gc2FmZWx5IGFzc3VtZSBpbml0aWFsIHN0YXRlXG4gICAgICAgIC8vIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChhdm9pZHMgdW5uZWNlc3NhcnkgR0VUcylcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZWZhdWx0TWV0YURvYyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmlldy5kYi5nZXQobWV0YURvY0lkKS5jYXRjaChkZWZhdWx0c1RvKGRlZmF1bHRNZXRhRG9jKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0S2V5VmFsdWVEb2NzKG1ldGFEb2MpIHtcbiAgICAgIGlmICghbWV0YURvYy5rZXlzLmxlbmd0aCkge1xuICAgICAgICAvLyBubyBrZXlzLCBubyBuZWVkIGZvciBhIGxvb2t1cFxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtyb3dzOiBbXX0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZpZXcuZGIuYWxsRG9jcyh7XG4gICAgICAgIGtleXM6IG1ldGFEb2Mua2V5cyxcbiAgICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzS2V5VmFsdWVEb2NzKG1ldGFEb2MsIGt2RG9jc1Jlcykge1xuICAgICAgdmFyIGt2RG9jcyA9IFtdO1xuICAgICAgdmFyIG9sZEtleXMgPSBuZXcgRXhwb3J0ZWRTZXQoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGt2RG9jc1Jlcy5yb3dzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSBrdkRvY3NSZXMucm93c1tpXTtcbiAgICAgICAgdmFyIGRvYyA9IHJvdy5kb2M7XG4gICAgICAgIGlmICghZG9jKSB7IC8vIGRlbGV0ZWRcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBrdkRvY3MucHVzaChkb2MpO1xuICAgICAgICBvbGRLZXlzLmFkZChkb2MuX2lkKTtcbiAgICAgICAgZG9jLl9kZWxldGVkID0gIWluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5oYXMoZG9jLl9pZCk7XG4gICAgICAgIGlmICghZG9jLl9kZWxldGVkKSB7XG4gICAgICAgICAgdmFyIGtleVZhbHVlID0gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmdldChkb2MuX2lkKTtcbiAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBrZXlWYWx1ZSkge1xuICAgICAgICAgICAgZG9jLnZhbHVlID0ga2V5VmFsdWUudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgbmV3S2V5cyA9IG1hcFRvS2V5c0FycmF5KGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyk7XG4gICAgICBuZXdLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIW9sZEtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAvLyBuZXcgZG9jXG4gICAgICAgICAgdmFyIGt2RG9jID0ge1xuICAgICAgICAgICAgX2lkOiBrZXlcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IGluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5nZXQoa2V5KTtcbiAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBrZXlWYWx1ZSkge1xuICAgICAgICAgICAga3ZEb2MudmFsdWUgPSBrZXlWYWx1ZS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAga3ZEb2NzLnB1c2goa3ZEb2MpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG1ldGFEb2Mua2V5cyA9IHVuaXEobmV3S2V5cy5jb25jYXQobWV0YURvYy5rZXlzKSk7XG4gICAgICBrdkRvY3MucHVzaChtZXRhRG9jKTtcblxuICAgICAgcmV0dXJuIGt2RG9jcztcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0TWV0YURvYygpLnRoZW4oZnVuY3Rpb24gKG1ldGFEb2MpIHtcbiAgICAgIHJldHVybiBnZXRLZXlWYWx1ZURvY3MobWV0YURvYykudGhlbihmdW5jdGlvbiAoa3ZEb2NzUmVzKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzS2V5VmFsdWVEb2NzKG1ldGFEb2MsIGt2RG9jc1Jlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIHVwZGF0ZXMgYWxsIGVtaXR0ZWQga2V5L3ZhbHVlIGRvY3MgYW5kIG1ldGFEb2NzIGluIHRoZSBtcnZpZXcgZGF0YWJhc2VcbiAgLy8gZm9yIHRoZSBnaXZlbiBiYXRjaCBvZiBkb2N1bWVudHMgZnJvbSB0aGUgc291cmNlIGRhdGFiYXNlXG4gIGZ1bmN0aW9uIHNhdmVLZXlWYWx1ZXModmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIHNlcSkge1xuICAgIHZhciBzZXFEb2NJZCA9ICdfbG9jYWwvbGFzdFNlcSc7XG4gICAgcmV0dXJuIHZpZXcuZGIuZ2V0KHNlcURvY0lkKVxuICAgICAgLmNhdGNoKGRlZmF1bHRzVG8oe19pZDogc2VxRG9jSWQsIHNlcTogMH0pKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGxhc3RTZXFEb2MpIHtcbiAgICAgICAgdmFyIGRvY0lkcyA9IG1hcFRvS2V5c0FycmF5KGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGRvY0lkcy5tYXAoZnVuY3Rpb24gKGRvY0lkKSB7XG4gICAgICAgICAgcmV0dXJuIGdldERvY3NUb1BlcnNpc3QoZG9jSWQsIHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKTtcbiAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKGxpc3RPZkRvY3NUb1BlcnNpc3QpIHtcbiAgICAgICAgICB2YXIgZG9jc1RvUGVyc2lzdCA9IGZsYXR0ZW4obGlzdE9mRG9jc1RvUGVyc2lzdCk7XG4gICAgICAgICAgbGFzdFNlcURvYy5zZXEgPSBzZXE7XG4gICAgICAgICAgZG9jc1RvUGVyc2lzdC5wdXNoKGxhc3RTZXFEb2MpO1xuICAgICAgICAgIC8vIHdyaXRlIGFsbCBkb2NzIGluIGEgc2luZ2xlIG9wZXJhdGlvbiwgdXBkYXRlIHRoZSBzZXEgb25jZVxuICAgICAgICAgIHJldHVybiB2aWV3LmRiLmJ1bGtEb2NzKHtkb2NzIDogZG9jc1RvUGVyc2lzdH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UXVldWUodmlldykge1xuICAgIHZhciB2aWV3TmFtZSA9IHR5cGVvZiB2aWV3ID09PSAnc3RyaW5nJyA/IHZpZXcgOiB2aWV3Lm5hbWU7XG4gICAgdmFyIHF1ZXVlID0gcGVyc2lzdGVudFF1ZXVlc1t2aWV3TmFtZV07XG4gICAgaWYgKCFxdWV1ZSkge1xuICAgICAgcXVldWUgPSBwZXJzaXN0ZW50UXVldWVzW3ZpZXdOYW1lXSA9IG5ldyBUYXNrUXVldWUkMSgpO1xuICAgIH1cbiAgICByZXR1cm4gcXVldWU7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVWaWV3KHZpZXcsIG9wdHMpIHtcbiAgICByZXR1cm4gc2VxdWVudGlhbGl6ZShnZXRRdWV1ZSh2aWV3KSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVwZGF0ZVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpO1xuICAgIH0pKCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKSB7XG4gICAgLy8gYmluZCB0aGUgZW1pdCBmdW5jdGlvbiBvbmNlXG4gICAgdmFyIG1hcFJlc3VsdHM7XG4gICAgdmFyIGRvYztcblxuICAgIGZ1bmN0aW9uIGVtaXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG91dHB1dCA9IHtpZDogZG9jLl9pZCwga2V5OiBub3JtYWxpemVLZXkoa2V5KX07XG4gICAgICAvLyBEb24ndCBleHBsaWNpdGx5IHN0b3JlIHRoZSB2YWx1ZSB1bmxlc3MgaXQncyBkZWZpbmVkIGFuZCBub24tbnVsbC5cbiAgICAgIC8vIFRoaXMgc2F2ZXMgb24gc3RvcmFnZSBzcGFjZSwgYmVjYXVzZSBvZnRlbiBwZW9wbGUgZG9uJ3QgdXNlIGl0LlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgb3V0cHV0LnZhbHVlID0gbm9ybWFsaXplS2V5KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIG1hcFJlc3VsdHMucHVzaChvdXRwdXQpO1xuICAgIH1cblxuICAgIHZhciBtYXBGdW4gPSBtYXBwZXIodmlldy5tYXBGdW4sIGVtaXQpO1xuXG4gICAgdmFyIGN1cnJlbnRTZXEgPSB2aWV3LnNlcSB8fCAwO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0NoYW5nZShkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgc2VxKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc2F2ZUtleVZhbHVlcyh2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgc2VxKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGV0IGluZGV4ZWRfZG9jcyA9IDA7XG4gICAgbGV0IHByb2dyZXNzID0ge1xuICAgICAgdmlldzogdmlldy5uYW1lLFxuICAgICAgaW5kZXhlZF9kb2NzOiBpbmRleGVkX2RvY3NcbiAgICB9O1xuICAgIHZpZXcuc291cmNlREIuZW1pdCgnaW5kZXhpbmcnLCBwcm9ncmVzcyk7XG5cbiAgICB2YXIgcXVldWUgPSBuZXcgVGFza1F1ZXVlJDEoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NOZXh0QmF0Y2goKSB7XG4gICAgICByZXR1cm4gdmlldy5zb3VyY2VEQi5jaGFuZ2VzKHtcbiAgICAgICAgcmV0dXJuX2RvY3M6IHRydWUsXG4gICAgICAgIGNvbmZsaWN0czogdHJ1ZSxcbiAgICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgICBzdHlsZTogJ2FsbF9kb2NzJyxcbiAgICAgICAgc2luY2U6IGN1cnJlbnRTZXEsXG4gICAgICAgIGxpbWl0OiBvcHRzLmNoYW5nZXNfYmF0Y2hfc2l6ZVxuICAgICAgfSkudGhlbihwcm9jZXNzQmF0Y2gpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NCYXRjaChyZXNwb25zZSkge1xuICAgICAgdmFyIHJlc3VsdHMgPSByZXNwb25zZS5yZXN1bHRzO1xuICAgICAgaWYgKCFyZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMgPSBjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyhyZXN1bHRzKTtcbiAgICAgIHF1ZXVlLmFkZChwcm9jZXNzQ2hhbmdlKGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBjdXJyZW50U2VxKSk7XG5cbiAgICAgIGluZGV4ZWRfZG9jcyA9IGluZGV4ZWRfZG9jcyArIHJlc3VsdHMubGVuZ3RoO1xuICAgICAgbGV0IHByb2dyZXNzID0ge1xuICAgICAgICB2aWV3OiB2aWV3Lm5hbWUsXG4gICAgICAgIGxhc3Rfc2VxOiByZXNwb25zZS5sYXN0X3NlcSxcbiAgICAgICAgcmVzdWx0c19jb3VudDogcmVzdWx0cy5sZW5ndGgsXG4gICAgICAgIGluZGV4ZWRfZG9jczogaW5kZXhlZF9kb2NzXG4gICAgICB9O1xuICAgICAgdmlldy5zb3VyY2VEQi5lbWl0KCdpbmRleGluZycsIHByb2dyZXNzKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoIDwgb3B0cy5jaGFuZ2VzX2JhdGNoX3NpemUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb2Nlc3NOZXh0QmF0Y2goKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyhyZXN1bHRzKSB7XG4gICAgICB2YXIgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByZXN1bHRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBjaGFuZ2UgPSByZXN1bHRzW2ldO1xuICAgICAgICBpZiAoY2hhbmdlLmRvYy5faWRbMF0gIT09ICdfJykge1xuICAgICAgICAgIG1hcFJlc3VsdHMgPSBbXTtcbiAgICAgICAgICBkb2MgPSBjaGFuZ2UuZG9jO1xuXG4gICAgICAgICAgaWYgKCFkb2MuX2RlbGV0ZWQpIHtcbiAgICAgICAgICAgIHRyeU1hcCh2aWV3LnNvdXJjZURCLCBtYXBGdW4sIGRvYyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcFJlc3VsdHMuc29ydChzb3J0QnlLZXlUaGVuVmFsdWUpO1xuXG4gICAgICAgICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IGNyZWF0ZUluZGV4YWJsZUtleXNUb0tleVZhbHVlcyhtYXBSZXN1bHRzKTtcbiAgICAgICAgICBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cy5zZXQoY2hhbmdlLmRvYy5faWQsIFtcbiAgICAgICAgICAgIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyxcbiAgICAgICAgICAgIGNoYW5nZS5jaGFuZ2VzXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFNlcSA9IGNoYW5nZS5zZXE7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKG1hcFJlc3VsdHMpIHtcbiAgICAgIHZhciBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgIHZhciBsYXN0S2V5O1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG1hcFJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGVtaXR0ZWRLZXlWYWx1ZSA9IG1hcFJlc3VsdHNbaV07XG4gICAgICAgIHZhciBjb21wbGV4S2V5ID0gW2VtaXR0ZWRLZXlWYWx1ZS5rZXksIGVtaXR0ZWRLZXlWYWx1ZS5pZF07XG4gICAgICAgIGlmIChpID4gMCAmJiBjb2xsYXRlKGVtaXR0ZWRLZXlWYWx1ZS5rZXksIGxhc3RLZXkpID09PSAwKSB7XG4gICAgICAgICAgY29tcGxleEtleS5wdXNoKGkpOyAvLyBkdXAga2V5K2lkLCBzbyBtYWtlIGl0IHVuaXF1ZVxuICAgICAgICB9XG4gICAgICAgIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5zZXQodG9JbmRleGFibGVTdHJpbmcoY29tcGxleEtleSksIGVtaXR0ZWRLZXlWYWx1ZSk7XG4gICAgICAgIGxhc3RLZXkgPSBlbWl0dGVkS2V5VmFsdWUua2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcztcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvY2Vzc05leHRCYXRjaCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHF1ZXVlLmZpbmlzaCgpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmlldy5zZXEgPSBjdXJyZW50U2VxO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVkdWNlVmlldyh2aWV3LCByZXN1bHRzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuZ3JvdXBfbGV2ZWwgPT09IDApIHtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLmdyb3VwX2xldmVsO1xuICAgIH1cblxuICAgIHZhciBzaG91bGRHcm91cCA9IG9wdGlvbnMuZ3JvdXAgfHwgb3B0aW9ucy5ncm91cF9sZXZlbDtcblxuICAgIHZhciByZWR1Y2VGdW4gPSByZWR1Y2VyKHZpZXcucmVkdWNlRnVuKTtcblxuICAgIHZhciBncm91cHMgPSBbXTtcbiAgICB2YXIgbHZsID0gaXNOYU4ob3B0aW9ucy5ncm91cF9sZXZlbCkgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOlxuICAgICAgb3B0aW9ucy5ncm91cF9sZXZlbDtcbiAgICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBsYXN0ID0gZ3JvdXBzW2dyb3Vwcy5sZW5ndGggLSAxXTtcbiAgICAgIHZhciBncm91cEtleSA9IHNob3VsZEdyb3VwID8gZS5rZXkgOiBudWxsO1xuXG4gICAgICAvLyBvbmx5IHNldCBncm91cF9sZXZlbCBmb3IgYXJyYXkga2V5c1xuICAgICAgaWYgKHNob3VsZEdyb3VwICYmIEFycmF5LmlzQXJyYXkoZ3JvdXBLZXkpKSB7XG4gICAgICAgIGdyb3VwS2V5ID0gZ3JvdXBLZXkuc2xpY2UoMCwgbHZsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxhc3QgJiYgY29sbGF0ZShsYXN0Lmdyb3VwS2V5LCBncm91cEtleSkgPT09IDApIHtcbiAgICAgICAgbGFzdC5rZXlzLnB1c2goW2Uua2V5LCBlLmlkXSk7XG4gICAgICAgIGxhc3QudmFsdWVzLnB1c2goZS52YWx1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGdyb3Vwcy5wdXNoKHtcbiAgICAgICAga2V5czogW1tlLmtleSwgZS5pZF1dLFxuICAgICAgICB2YWx1ZXM6IFtlLnZhbHVlXSxcbiAgICAgICAgZ3JvdXBLZXk6IGdyb3VwS2V5XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXN1bHRzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGUgPSBncm91cHNbaV07XG4gICAgICB2YXIgcmVkdWNlVHJ5ID0gdHJ5UmVkdWNlKHZpZXcuc291cmNlREIsIHJlZHVjZUZ1biwgZS5rZXlzLCBlLnZhbHVlcywgZmFsc2UpO1xuICAgICAgaWYgKHJlZHVjZVRyeS5lcnJvciAmJiByZWR1Y2VUcnkuZXJyb3IgaW5zdGFuY2VvZiBCdWlsdEluRXJyb3IpIHtcbiAgICAgICAgLy8gQ291Y2hEQiByZXR1cm5zIGFuIGVycm9yIGlmIGEgYnVpbHQtaW4gZXJyb3JzIG91dFxuICAgICAgICB0aHJvdyByZWR1Y2VUcnkuZXJyb3I7XG4gICAgICB9XG4gICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAvLyBDb3VjaERCIGp1c3Qgc2V0cyB0aGUgdmFsdWUgdG8gbnVsbCBpZiBhIG5vbi1idWlsdC1pbiBlcnJvcnMgb3V0XG4gICAgICAgIHZhbHVlOiByZWR1Y2VUcnkuZXJyb3IgPyBudWxsIDogcmVkdWNlVHJ5Lm91dHB1dCxcbiAgICAgICAga2V5OiBlLmdyb3VwS2V5XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gbm8gdG90YWxfcm93cy9vZmZzZXQgd2hlbiByZWR1Y2luZ1xuICAgIHJldHVybiB7cm93czogc2xpY2VSZXN1bHRzKHJlc3VsdHMsIG9wdGlvbnMubGltaXQsIG9wdGlvbnMuc2tpcCl9O1xuICB9XG5cbiAgZnVuY3Rpb24gcXVlcnlWaWV3KHZpZXcsIG9wdHMpIHtcbiAgICByZXR1cm4gc2VxdWVudGlhbGl6ZShnZXRRdWV1ZSh2aWV3KSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHF1ZXJ5Vmlld0luUXVldWUodmlldywgb3B0cyk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXJ5Vmlld0luUXVldWUodmlldywgb3B0cykge1xuICAgIHZhciB0b3RhbFJvd3M7XG4gICAgdmFyIHNob3VsZFJlZHVjZSA9IHZpZXcucmVkdWNlRnVuICYmIG9wdHMucmVkdWNlICE9PSBmYWxzZTtcbiAgICB2YXIgc2tpcCA9IG9wdHMuc2tpcCB8fCAwO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJyAmJiAhb3B0cy5rZXlzLmxlbmd0aCkge1xuICAgICAgLy8gZXF1aXZhbGVudCBxdWVyeVxuICAgICAgb3B0cy5saW1pdCA9IDA7XG4gICAgICBkZWxldGUgb3B0cy5rZXlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZldGNoRnJvbVZpZXcodmlld09wdHMpIHtcbiAgICAgIHZpZXdPcHRzLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgICByZXR1cm4gdmlldy5kYi5hbGxEb2NzKHZpZXdPcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdG90YWxSb3dzID0gcmVzLnRvdGFsX3Jvd3M7XG4gICAgICAgIHJldHVybiByZXMucm93cy5tYXAoZnVuY3Rpb24gKHJlc3VsdCkge1xuXG4gICAgICAgICAgLy8gaW1wbGljaXQgbWlncmF0aW9uIC0gaW4gb2xkZXIgdmVyc2lvbnMgb2YgUG91Y2hEQixcbiAgICAgICAgICAvLyB3ZSBleHBsaWNpdGx5IHN0b3JlZCB0aGUgZG9jIGFzIHtpZDogLi4uLCBrZXk6IC4uLiwgdmFsdWU6IC4uLn1cbiAgICAgICAgICAvLyB0aGlzIGlzIHRlc3RlZCBpbiBhIG1pZ3JhdGlvbiB0ZXN0XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiByZXN1bHQuZG9jICYmIHR5cGVvZiByZXN1bHQuZG9jLnZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgcmVzdWx0LmRvYy52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZXN1bHQuZG9jLnZhbHVlKS5zb3J0KCk7XG4gICAgICAgICAgICAvLyB0aGlzIGRldGVjdGlvbiBtZXRob2QgaXMgbm90IHBlcmZlY3QsIGJ1dCBpdCdzIHVubGlrZWx5IHRoZSB1c2VyXG4gICAgICAgICAgICAvLyBlbWl0dGVkIGEgdmFsdWUgd2hpY2ggd2FzIGFuIG9iamVjdCB3aXRoIHRoZXNlIDMgZXhhY3Qga2V5c1xuICAgICAgICAgICAgdmFyIGV4cGVjdGVkS2V5cyA9IFsnaWQnLCAna2V5JywgJ3ZhbHVlJ107XG4gICAgICAgICAgICBpZiAoIShrZXlzIDwgZXhwZWN0ZWRLZXlzIHx8IGtleXMgPiBleHBlY3RlZEtleXMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQuZG9jLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBwYXJzZWRLZXlBbmREb2NJZCA9IHBhcnNlSW5kZXhhYmxlU3RyaW5nKHJlc3VsdC5kb2MuX2lkKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5OiBwYXJzZWRLZXlBbmREb2NJZFswXSxcbiAgICAgICAgICAgIGlkOiBwYXJzZWRLZXlBbmREb2NJZFsxXSxcbiAgICAgICAgICAgIHZhbHVlOiAoJ3ZhbHVlJyBpbiByZXN1bHQuZG9jID8gcmVzdWx0LmRvYy52YWx1ZSA6IG51bGwpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1hcFJlc3VsdHNSZWFkeShyb3dzKSB7XG4gICAgICB2YXIgZmluYWxSZXN1bHRzO1xuICAgICAgaWYgKHNob3VsZFJlZHVjZSkge1xuICAgICAgICBmaW5hbFJlc3VsdHMgPSByZWR1Y2VWaWV3KHZpZXcsIHJvd3MsIG9wdHMpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0cy5rZXlzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBmaW5hbFJlc3VsdHMgPSB7XG4gICAgICAgICAgdG90YWxfcm93czogdG90YWxSb3dzLFxuICAgICAgICAgIG9mZnNldDogc2tpcCxcbiAgICAgICAgICByb3dzOiByb3dzXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBzdXBwb3J0IGxpbWl0LCBza2lwIGZvciBrZXlzIHF1ZXJ5XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHtcbiAgICAgICAgICB0b3RhbF9yb3dzOiB0b3RhbFJvd3MsXG4gICAgICAgICAgb2Zmc2V0OiBza2lwLFxuICAgICAgICAgIHJvd3M6IHNsaWNlUmVzdWx0cyhyb3dzLG9wdHMubGltaXQsb3B0cy5za2lwKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cy51cGRhdGVfc2VxID0gdmlldy5zZXE7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgdmFyIGRvY0lkcyA9IHVuaXEocm93cy5tYXAocm93VG9Eb2NJZCkpO1xuXG4gICAgICAgIHJldHVybiB2aWV3LnNvdXJjZURCLmFsbERvY3Moe1xuICAgICAgICAgIGtleXM6IGRvY0lkcyxcbiAgICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICAgICAgY29uZmxpY3RzOiBvcHRzLmNvbmZsaWN0cyxcbiAgICAgICAgICBhdHRhY2htZW50czogb3B0cy5hdHRhY2htZW50cyxcbiAgICAgICAgICBiaW5hcnk6IG9wdHMuYmluYXJ5XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGFsbERvY3NSZXMpIHtcbiAgICAgICAgICB2YXIgZG9jSWRzVG9Eb2NzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICAgICAgYWxsRG9jc1Jlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgICAgZG9jSWRzVG9Eb2NzLnNldChyb3cuaWQsIHJvdy5kb2MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICB2YXIgZG9jSWQgPSByb3dUb0RvY0lkKHJvdyk7XG4gICAgICAgICAgICB2YXIgZG9jID0gZG9jSWRzVG9Eb2NzLmdldChkb2NJZCk7XG4gICAgICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgICAgIHJvdy5kb2MgPSBkb2M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGZpbmFsUmVzdWx0cztcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmluYWxSZXN1bHRzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGtleXMgPSBvcHRzLmtleXM7XG4gICAgICB2YXIgZmV0Y2hQcm9taXNlcyA9IGtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHZpZXdPcHRzID0ge1xuICAgICAgICAgIHN0YXJ0a2V5IDogdG9JbmRleGFibGVTdHJpbmcoW2tleV0pLFxuICAgICAgICAgIGVuZGtleSAgIDogdG9JbmRleGFibGVTdHJpbmcoW2tleSwge31dKVxuICAgICAgICB9O1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgICAgIHZpZXdPcHRzLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmZXRjaEZyb21WaWV3KHZpZXdPcHRzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGZldGNoUHJvbWlzZXMpLnRoZW4oZmxhdHRlbikudGhlbihvbk1hcFJlc3VsdHNSZWFkeSk7XG4gICAgfSBlbHNlIHsgLy8gbm9ybWFsIHF1ZXJ5LCBubyAna2V5cydcbiAgICAgIHZhciB2aWV3T3B0cyA9IHtcbiAgICAgICAgZGVzY2VuZGluZyA6IG9wdHMuZGVzY2VuZGluZ1xuICAgICAgfTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgICB2aWV3T3B0cy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBzdGFydGtleTtcbiAgICAgIHZhciBlbmRrZXk7XG4gICAgICBpZiAoJ3N0YXJ0X2tleScgaW4gb3B0cykge1xuICAgICAgICBzdGFydGtleSA9IG9wdHMuc3RhcnRfa2V5O1xuICAgICAgfVxuICAgICAgaWYgKCdzdGFydGtleScgaW4gb3B0cykge1xuICAgICAgICBzdGFydGtleSA9IG9wdHMuc3RhcnRrZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ2VuZF9rZXknIGluIG9wdHMpIHtcbiAgICAgICAgZW5ka2V5ID0gb3B0cy5lbmRfa2V5O1xuICAgICAgfVxuICAgICAgaWYgKCdlbmRrZXknIGluIG9wdHMpIHtcbiAgICAgICAgZW5ka2V5ID0gb3B0cy5lbmRrZXk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHN0YXJ0a2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2aWV3T3B0cy5zdGFydGtleSA9IG9wdHMuZGVzY2VuZGluZyA/XG4gICAgICAgICAgdG9JbmRleGFibGVTdHJpbmcoW3N0YXJ0a2V5LCB7fV0pIDpcbiAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhbc3RhcnRrZXldKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZW5ka2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgaW5jbHVzaXZlRW5kID0gb3B0cy5pbmNsdXNpdmVfZW5kICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgICAgIGluY2x1c2l2ZUVuZCA9ICFpbmNsdXNpdmVFbmQ7XG4gICAgICAgIH1cblxuICAgICAgICB2aWV3T3B0cy5lbmRrZXkgPSB0b0luZGV4YWJsZVN0cmluZyhcbiAgICAgICAgICBpbmNsdXNpdmVFbmQgPyBbZW5ka2V5LCB7fV0gOiBbZW5ka2V5XSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9wdHMua2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIga2V5U3RhcnQgPSB0b0luZGV4YWJsZVN0cmluZyhbb3B0cy5rZXldKTtcbiAgICAgICAgdmFyIGtleUVuZCA9IHRvSW5kZXhhYmxlU3RyaW5nKFtvcHRzLmtleSwge31dKTtcbiAgICAgICAgaWYgKHZpZXdPcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgICAgICB2aWV3T3B0cy5lbmRrZXkgPSBrZXlTdGFydDtcbiAgICAgICAgICB2aWV3T3B0cy5zdGFydGtleSA9IGtleUVuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2aWV3T3B0cy5zdGFydGtleSA9IGtleVN0YXJ0O1xuICAgICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IGtleUVuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzaG91bGRSZWR1Y2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRzLmxpbWl0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHZpZXdPcHRzLmxpbWl0ID0gb3B0cy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICB2aWV3T3B0cy5za2lwID0gc2tpcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmZXRjaEZyb21WaWV3KHZpZXdPcHRzKS50aGVuKG9uTWFwUmVzdWx0c1JlYWR5KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBodHRwVmlld0NsZWFudXAoZGIpIHtcbiAgICByZXR1cm4gZGIuZmV0Y2goJ192aWV3X2NsZWFudXAnLCB7XG4gICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30pLFxuICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvY2FsVmlld0NsZWFudXAoZGIpIHtcbiAgICByZXR1cm4gZGIuZ2V0KCdfbG9jYWwvJyArIGxvY2FsRG9jTmFtZSkudGhlbihmdW5jdGlvbiAobWV0YURvYykge1xuICAgICAgdmFyIGRvY3NUb1ZpZXdzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICBPYmplY3Qua2V5cyhtZXRhRG9jLnZpZXdzKS5mb3JFYWNoKGZ1bmN0aW9uIChmdWxsVmlld05hbWUpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdWxsVmlld05hbWUpO1xuICAgICAgICB2YXIgZGVzaWduRG9jTmFtZSA9ICdfZGVzaWduLycgKyBwYXJ0c1swXTtcbiAgICAgICAgdmFyIHZpZXdOYW1lID0gcGFydHNbMV07XG4gICAgICAgIHZhciB2aWV3cyA9IGRvY3NUb1ZpZXdzLmdldChkZXNpZ25Eb2NOYW1lKTtcbiAgICAgICAgaWYgKCF2aWV3cykge1xuICAgICAgICAgIHZpZXdzID0gbmV3IEV4cG9ydGVkU2V0KCk7XG4gICAgICAgICAgZG9jc1RvVmlld3Muc2V0KGRlc2lnbkRvY05hbWUsIHZpZXdzKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3cy5hZGQodmlld05hbWUpO1xuICAgICAgfSk7XG4gICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAga2V5cyA6IG1hcFRvS2V5c0FycmF5KGRvY3NUb1ZpZXdzKSxcbiAgICAgICAgaW5jbHVkZV9kb2NzIDogdHJ1ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiBkYi5hbGxEb2NzKG9wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB2YXIgdmlld3NUb1N0YXR1cyA9IHt9O1xuICAgICAgICByZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICB2YXIgZGRvY05hbWUgPSByb3cua2V5LnN1YnN0cmluZyg4KTsgLy8gY3V0cyBvZmYgJ19kZXNpZ24vJ1xuICAgICAgICAgIGRvY3NUb1ZpZXdzLmdldChyb3cua2V5KS5mb3JFYWNoKGZ1bmN0aW9uICh2aWV3TmFtZSkge1xuICAgICAgICAgICAgdmFyIGZ1bGxWaWV3TmFtZSA9IGRkb2NOYW1lICsgJy8nICsgdmlld05hbWU7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICghbWV0YURvYy52aWV3c1tmdWxsVmlld05hbWVdKSB7XG4gICAgICAgICAgICAgIC8vIG5ldyBmb3JtYXQsIHdpdGhvdXQgc2xhc2hlcywgdG8gc3VwcG9ydCBQb3VjaERCIDIuMi4wXG4gICAgICAgICAgICAgIC8vIG1pZ3JhdGlvbiB0ZXN0IGluIHBvdWNoZGIncyBicm93c2VyLm1pZ3JhdGlvbi5qcyB2ZXJpZmllcyB0aGlzXG4gICAgICAgICAgICAgIGZ1bGxWaWV3TmFtZSA9IHZpZXdOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZpZXdEQk5hbWVzID0gT2JqZWN0LmtleXMobWV0YURvYy52aWV3c1tmdWxsVmlld05hbWVdKTtcbiAgICAgICAgICAgIC8vIGRlc2lnbiBkb2MgZGVsZXRlZCwgb3IgdmlldyBmdW5jdGlvbiBub25leGlzdGVudFxuICAgICAgICAgICAgdmFyIHN0YXR1c0lzR29vZCA9IHJvdy5kb2MgJiYgcm93LmRvYy52aWV3cyAmJlxuICAgICAgICAgICAgICByb3cuZG9jLnZpZXdzW3ZpZXdOYW1lXTtcbiAgICAgICAgICAgIHZpZXdEQk5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHZpZXdEQk5hbWUpIHtcbiAgICAgICAgICAgICAgdmlld3NUb1N0YXR1c1t2aWV3REJOYW1lXSA9XG4gICAgICAgICAgICAgICAgdmlld3NUb1N0YXR1c1t2aWV3REJOYW1lXSB8fCBzdGF0dXNJc0dvb2Q7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBkYnNUb0RlbGV0ZSA9IE9iamVjdC5rZXlzKHZpZXdzVG9TdGF0dXMpLmZpbHRlcihcbiAgICAgICAgICBmdW5jdGlvbiAodmlld0RCTmFtZSkgeyByZXR1cm4gIXZpZXdzVG9TdGF0dXNbdmlld0RCTmFtZV07IH0pO1xuICAgICAgICB2YXIgZGVzdHJveVByb21pc2VzID0gZGJzVG9EZWxldGUubWFwKGZ1bmN0aW9uICh2aWV3REJOYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIHNlcXVlbnRpYWxpemUoZ2V0UXVldWUodmlld0RCTmFtZSksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZGIuY29uc3RydWN0b3Iodmlld0RCTmFtZSwgZGIuX19vcHRzKS5kZXN0cm95KCk7XG4gICAgICAgICAgfSkoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkZXN0cm95UHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB7b2s6IHRydWV9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sIGRlZmF1bHRzVG8oe29rOiB0cnVlfSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcXVlcnlQcm9taXNlZChkYiwgZnVuLCBvcHRzKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodHlwZW9mIGRiLl9xdWVyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVF1ZXJ5KGRiLCBmdW4sIG9wdHMpO1xuICAgIH1cbiAgICBpZiAoaXNSZW1vdGUoZGIpKSB7XG4gICAgICByZXR1cm4gaHR0cFF1ZXJ5KGRiLCBmdW4sIG9wdHMpO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGVWaWV3T3B0cyA9IHtcbiAgICAgIGNoYW5nZXNfYmF0Y2hfc2l6ZTogZGIuX19vcHRzLnZpZXdfdXBkYXRlX2NoYW5nZXNfYmF0Y2hfc2l6ZSB8fCBDSEFOR0VTX0JBVENIX1NJWkUkMVxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIGZ1biAhPT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIHRlbXBfdmlld1xuICAgICAgY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0cywgZnVuKTtcblxuICAgICAgdGVtcFZpZXdRdWV1ZS5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3JlYXRlVmlld1Byb21pc2UgPSBjcmVhdGVWaWV3KFxuICAgICAgICAgIC8qIHNvdXJjZURCICovIGRiLFxuICAgICAgICAgIC8qIHZpZXdOYW1lICovICd0ZW1wX3ZpZXcvdGVtcF92aWV3JyxcbiAgICAgICAgICAvKiBtYXBGdW4gKi8gZnVuLm1hcCxcbiAgICAgICAgICAvKiByZWR1Y2VGdW4gKi8gZnVuLnJlZHVjZSxcbiAgICAgICAgICAvKiB0ZW1wb3JhcnkgKi8gdHJ1ZSxcbiAgICAgICAgICAvKiBsb2NhbERvY05hbWUgKi8gbG9jYWxEb2NOYW1lKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZpZXdQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgICByZXR1cm4gZmluKHVwZGF0ZVZpZXcodmlldywgdXBkYXRlVmlld09wdHMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKTtcbiAgICAgICAgICB9KSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcuZGIuZGVzdHJveSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRlbXBWaWV3UXVldWUuZmluaXNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHBlcnNpc3RlbnQgdmlld1xuICAgICAgdmFyIGZ1bGxWaWV3TmFtZSA9IGZ1bjtcbiAgICAgIHZhciBwYXJ0cyA9IHBhcnNlVmlld05hbWUoZnVsbFZpZXdOYW1lKTtcbiAgICAgIHZhciBkZXNpZ25Eb2NOYW1lID0gcGFydHNbMF07XG4gICAgICB2YXIgdmlld05hbWUgPSBwYXJ0c1sxXTtcbiAgICAgIHJldHVybiBkYi5nZXQoJ19kZXNpZ24vJyArIGRlc2lnbkRvY05hbWUpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICB2YXIgZnVuID0gZG9jLnZpZXdzICYmIGRvYy52aWV3c1t2aWV3TmFtZV07XG5cbiAgICAgICAgaWYgKCFmdW4pIHtcbiAgICAgICAgICAvLyBiYXNpYyB2YWxpZGF0b3I7IGl0J3MgYXNzdW1lZCB0aGF0IGV2ZXJ5IHN1YmNsYXNzIHdvdWxkIHdhbnQgdGhpc1xuICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKCdkZG9jICcgKyBkb2MuX2lkICsgJyBoYXMgbm8gdmlldyBuYW1lZCAnICtcbiAgICAgICAgICAgIHZpZXdOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRkb2NWYWxpZGF0b3IoZG9jLCB2aWV3TmFtZSk7XG4gICAgICAgIGNoZWNrUXVlcnlQYXJzZUVycm9yKG9wdHMsIGZ1bik7XG5cbiAgICAgICAgdmFyIGNyZWF0ZVZpZXdQcm9taXNlID0gY3JlYXRlVmlldyhcbiAgICAgICAgICAvKiBzb3VyY2VEQiAqLyBkYixcbiAgICAgICAgICAvKiB2aWV3TmFtZSAqLyBmdWxsVmlld05hbWUsXG4gICAgICAgICAgLyogbWFwRnVuICovIGZ1bi5tYXAsXG4gICAgICAgICAgLyogcmVkdWNlRnVuICovIGZ1bi5yZWR1Y2UsXG4gICAgICAgICAgLyogdGVtcG9yYXJ5ICovIGZhbHNlLFxuICAgICAgICAgIC8qIGxvY2FsRG9jTmFtZSAqLyBsb2NhbERvY05hbWUpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVmlld1Byb21pc2UudGhlbihmdW5jdGlvbiAodmlldykge1xuICAgICAgICAgIGlmIChvcHRzLnN0YWxlID09PSAnb2snIHx8IG9wdHMuc3RhbGUgPT09ICd1cGRhdGVfYWZ0ZXInKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5zdGFsZSA9PT0gJ3VwZGF0ZV9hZnRlcicpIHtcbiAgICAgICAgICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3KHZpZXcsIHVwZGF0ZVZpZXdPcHRzKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcXVlcnlWaWV3KHZpZXcsIG9wdHMpO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIHN0YWxlIG5vdCBva1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVZpZXcodmlldywgdXBkYXRlVmlld09wdHMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcXVlcnlWaWV3KHZpZXcsIG9wdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFic3RyYWN0UXVlcnkoZnVuLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciBkYiA9IHRoaXM7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBvcHRzID8gY29lcmNlT3B0aW9ucyhvcHRzKSA6IHt9O1xuXG4gICAgaWYgKHR5cGVvZiBmdW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZ1biA9IHttYXAgOiBmdW59O1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVlcnlQcm9taXNlZChkYiwgZnVuLCBvcHRzKTtcbiAgICB9KTtcbiAgICBwcm9taXNlZENhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHZhciBhYnN0cmFjdFZpZXdDbGVhbnVwID0gY2FsbGJhY2tpZnkoZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYiA9IHRoaXM7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodHlwZW9mIGRiLl92aWV3Q2xlYW51cCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVZpZXdDbGVhbnVwKGRiKTtcbiAgICB9XG4gICAgaWYgKGlzUmVtb3RlKGRiKSkge1xuICAgICAgcmV0dXJuIGh0dHBWaWV3Q2xlYW51cChkYik7XG4gICAgfVxuICAgIHJldHVybiBsb2NhbFZpZXdDbGVhbnVwKGRiKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBxdWVyeTogYWJzdHJhY3RRdWVyeSxcbiAgICB2aWV3Q2xlYW51cDogYWJzdHJhY3RWaWV3Q2xlYW51cFxuICB9O1xufVxuXG52YXIgYnVpbHRJblJlZHVjZSA9IHtcbiAgX3N1bTogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIHJldHVybiBzdW0odmFsdWVzKTtcbiAgfSxcblxuICBfY291bnQ6IGZ1bmN0aW9uIChrZXlzLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4gdmFsdWVzLmxlbmd0aDtcbiAgfSxcblxuICBfc3RhdHM6IGZ1bmN0aW9uIChrZXlzLCB2YWx1ZXMpIHtcbiAgICAvLyBubyBuZWVkIHRvIGltcGxlbWVudCByZXJlZHVjZT10cnVlLCBiZWNhdXNlIFBvdWNoXG4gICAgLy8gd2lsbCBuZXZlciBjYWxsIGl0XG4gICAgZnVuY3Rpb24gc3Vtc3FyKHZhbHVlcykge1xuICAgICAgdmFyIF9zdW1zcXIgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgbnVtID0gdmFsdWVzW2ldO1xuICAgICAgICBfc3Vtc3FyICs9IChudW0gKiBudW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9zdW1zcXI7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzdW0gICAgIDogc3VtKHZhbHVlcyksXG4gICAgICBtaW4gICAgIDogTWF0aC5taW4uYXBwbHkobnVsbCwgdmFsdWVzKSxcbiAgICAgIG1heCAgICAgOiBNYXRoLm1heC5hcHBseShudWxsLCB2YWx1ZXMpLFxuICAgICAgY291bnQgICA6IHZhbHVlcy5sZW5ndGgsXG4gICAgICBzdW1zcXIgOiBzdW1zcXIodmFsdWVzKVxuICAgIH07XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldEJ1aWx0SW4ocmVkdWNlRnVuU3RyaW5nKSB7XG4gIGlmICgvXl9zdW0vLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHJldHVybiBidWlsdEluUmVkdWNlLl9zdW07XG4gIH0gZWxzZSBpZiAoL15fY291bnQvLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHJldHVybiBidWlsdEluUmVkdWNlLl9jb3VudDtcbiAgfSBlbHNlIGlmICgvXl9zdGF0cy8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX3N0YXRzO1xuICB9IGVsc2UgaWYgKC9eXy8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHJlZHVjZUZ1blN0cmluZyArICcgaXMgbm90IGEgc3VwcG9ydGVkIHJlZHVjZSBmdW5jdGlvbi4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBwZXIobWFwRnVuLCBlbWl0KSB7XG4gIC8vIGZvciB0ZW1wX3ZpZXdzIG9uZSBjYW4gdXNlIGVtaXQoZG9jLCBlbWl0KSwgc2VlICMzOFxuICBpZiAodHlwZW9mIG1hcEZ1biA9PT0gXCJmdW5jdGlvblwiICYmIG1hcEZ1bi5sZW5ndGggPT09IDIpIHtcbiAgICB2YXIgb3JpZ01hcCA9IG1hcEZ1bjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRvYykge1xuICAgICAgcmV0dXJuIG9yaWdNYXAoZG9jLCBlbWl0KTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBldmFsRnVuY3Rpb25XaXRoRXZhbChtYXBGdW4udG9TdHJpbmcoKSwgZW1pdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVkdWNlcihyZWR1Y2VGdW4pIHtcbiAgdmFyIHJlZHVjZUZ1blN0cmluZyA9IHJlZHVjZUZ1bi50b1N0cmluZygpO1xuICB2YXIgYnVpbHRJbiA9IGdldEJ1aWx0SW4ocmVkdWNlRnVuU3RyaW5nKTtcbiAgaWYgKGJ1aWx0SW4pIHtcbiAgICByZXR1cm4gYnVpbHRJbjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZXZhbEZ1bmN0aW9uV2l0aEV2YWwocmVkdWNlRnVuU3RyaW5nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZG9jVmFsaWRhdG9yKGRkb2MsIHZpZXdOYW1lKSB7XG4gIHZhciBmdW4gPSBkZG9jLnZpZXdzICYmIGRkb2Mudmlld3Nbdmlld05hbWVdO1xuICBpZiAodHlwZW9mIGZ1bi5tYXAgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoJ2Rkb2MgJyArIGRkb2MuX2lkICsgJyBoYXMgbm8gc3RyaW5nIHZpZXcgbmFtZWQgJyArXG4gICAgICB2aWV3TmFtZSArICcsIGluc3RlYWQgZm91bmQgb2JqZWN0IG9mIHR5cGU6ICcgKyB0eXBlb2YgZnVuLm1hcCk7XG4gIH1cbn1cblxudmFyIGxvY2FsRG9jTmFtZSA9ICdtcnZpZXdzJztcbnZhciBhYnN0cmFjdCA9IGNyZWF0ZUFic3RyYWN0TWFwUmVkdWNlKGxvY2FsRG9jTmFtZSwgbWFwcGVyLCByZWR1Y2VyLCBkZG9jVmFsaWRhdG9yKTtcblxuZnVuY3Rpb24gcXVlcnkoZnVuLCBvcHRzLCBjYWxsYmFjaykge1xuICByZXR1cm4gYWJzdHJhY3QucXVlcnkuY2FsbCh0aGlzLCBmdW4sIG9wdHMsIGNhbGxiYWNrKTtcbn1cblxuZnVuY3Rpb24gdmlld0NsZWFudXAoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGFic3RyYWN0LnZpZXdDbGVhbnVwLmNhbGwodGhpcywgY2FsbGJhY2spO1xufVxuXG52YXIgbWFwcmVkdWNlID0ge1xuICBxdWVyeTogcXVlcnksXG4gIHZpZXdDbGVhbnVwOiB2aWV3Q2xlYW51cFxufTtcblxuZnVuY3Rpb24gaXNHZW5PbmUkMShyZXYpIHtcbiAgcmV0dXJuIC9eMS0vLnRlc3QocmV2KTtcbn1cblxuZnVuY3Rpb24gZmlsZUhhc0NoYW5nZWQobG9jYWxEb2MsIHJlbW90ZURvYywgZmlsZW5hbWUpIHtcbiAgcmV0dXJuICFsb2NhbERvYy5fYXR0YWNobWVudHMgfHxcbiAgICAgICAgICFsb2NhbERvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVdIHx8XG4gICAgICAgICBsb2NhbERvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVdLmRpZ2VzdCAhPT0gcmVtb3RlRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0uZGlnZXN0O1xufVxuXG5mdW5jdGlvbiBnZXREb2NBdHRhY2htZW50cyhkYiwgZG9jKSB7XG4gIHZhciBmaWxlbmFtZXMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgcmV0dXJuIGRiLmdldEF0dGFjaG1lbnQoZG9jLl9pZCwgZmlsZW5hbWUsIHtyZXY6IGRvYy5fcmV2fSk7XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UodGFyZ2V0LCBzcmMsIGRvYykge1xuICB2YXIgZG9DaGVja0ZvckxvY2FsQXR0YWNobWVudHMgPSBpc1JlbW90ZShzcmMpICYmICFpc1JlbW90ZSh0YXJnZXQpO1xuICB2YXIgZmlsZW5hbWVzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG5cbiAgaWYgKCFkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cykge1xuICAgIHJldHVybiBnZXREb2NBdHRhY2htZW50cyhzcmMsIGRvYyk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0LmdldChkb2MuX2lkKS50aGVuKGZ1bmN0aW9uIChsb2NhbERvYykge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChmaWxlbmFtZXMubWFwKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgaWYgKGZpbGVIYXNDaGFuZ2VkKGxvY2FsRG9jLCBkb2MsIGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gc3JjLmdldEF0dGFjaG1lbnQoZG9jLl9pZCwgZmlsZW5hbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGFyZ2V0LmdldEF0dGFjaG1lbnQobG9jYWxEb2MuX2lkLCBmaWxlbmFtZSk7XG4gICAgfSkpO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyb3Iuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIHJldHVybiBnZXREb2NBdHRhY2htZW50cyhzcmMsIGRvYyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWxrR2V0T3B0cyhkaWZmcykge1xuICB2YXIgcmVxdWVzdHMgPSBbXTtcbiAgT2JqZWN0LmtleXMoZGlmZnMpLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgdmFyIG1pc3NpbmdSZXZzID0gZGlmZnNbaWRdLm1pc3Npbmc7XG4gICAgbWlzc2luZ1JldnMuZm9yRWFjaChmdW5jdGlvbiAobWlzc2luZ1Jldikge1xuICAgICAgcmVxdWVzdHMucHVzaCh7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgcmV2OiBtaXNzaW5nUmV2XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBkb2NzOiByZXF1ZXN0cyxcbiAgICByZXZzOiB0cnVlLFxuICAgIGxhdGVzdDogdHJ1ZVxuICB9O1xufVxuXG4vL1xuLy8gRmV0Y2ggYWxsIHRoZSBkb2N1bWVudHMgZnJvbSB0aGUgc3JjIGFzIGRlc2NyaWJlZCBpbiB0aGUgXCJkaWZmc1wiLFxuLy8gd2hpY2ggaXMgYSBtYXBwaW5nIG9mIGRvY3MgSURzIHRvIHJldmlzaW9ucy4gSWYgdGhlIHN0YXRlIGV2ZXJcbi8vIGNoYW5nZXMgdG8gXCJjYW5jZWxsZWRcIiwgdGhlbiB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkLlxuLy8gRWxzZSBpdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggYSBsaXN0IG9mIGZldGNoZWQgZG9jdW1lbnRzLlxuLy9cbmZ1bmN0aW9uIGdldERvY3Moc3JjLCB0YXJnZXQsIGRpZmZzLCBzdGF0ZSkge1xuICBkaWZmcyA9IGNsb25lKGRpZmZzKTsgLy8gd2UgZG8gbm90IG5lZWQgdG8gbW9kaWZ5IHRoaXNcblxuICB2YXIgcmVzdWx0RG9jcyA9IFtdLFxuICAgICAgb2sgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIGdldEFsbERvY3MoKSB7XG5cbiAgICB2YXIgYnVsa0dldE9wdHMgPSBjcmVhdGVCdWxrR2V0T3B0cyhkaWZmcyk7XG5cbiAgICBpZiAoIWJ1bGtHZXRPcHRzLmRvY3MubGVuZ3RoKSB7IC8vIG9wdGltaXphdGlvbjogc2tpcCBlbXB0eSByZXF1ZXN0c1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzcmMuYnVsa0dldChidWxrR2V0T3B0cykudGhlbihmdW5jdGlvbiAoYnVsa0dldFJlc3BvbnNlKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChzdGF0ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChidWxrR2V0UmVzcG9uc2UucmVzdWx0cy5tYXAoZnVuY3Rpb24gKGJ1bGtHZXRJbmZvKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChidWxrR2V0SW5mby5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgdmFyIHJlbW90ZURvYyA9IGRvYy5vaztcblxuICAgICAgICAgIGlmIChkb2MuZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIHdoZW4gQVVUT19DT01QQUNUSU9OIGlzIHNldCwgZG9jcyBjYW4gYmUgcmV0dXJuZWQgd2hpY2ggbG9va1xuICAgICAgICAgICAgLy8gbGlrZSB0aGlzOiB7XCJtaXNzaW5nXCI6XCIxLTdjM2FjMjU2YjY5M2M0NjJhZjg0NDJmOTkyYjgzNjk2XCJ9XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghcmVtb3RlRG9jIHx8ICFyZW1vdGVEb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3RlRG9jO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBnZXREb2NBdHRhY2htZW50c0Zyb21UYXJnZXRPclNvdXJjZSh0YXJnZXQsIHNyYywgcmVtb3RlRG9jKVxuICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lcyA9IE9iamVjdC5rZXlzKHJlbW90ZURvYy5fYXR0YWNobWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGF0dGFjaG1lbnQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0ID0gcmVtb3RlRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHQuc3R1YjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHQuZGF0YSA9IGF0dGFjaG1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZW1vdGVEb2M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgfSkpXG5cbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgIHJlc3VsdERvY3MgPSByZXN1bHREb2NzLmNvbmNhdChmbGF0dGVuKHJlc3VsdHMpLmZpbHRlcihCb29sZWFuKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0F0dGFjaG1lbnRzKGRvYykge1xuICAgIHJldHVybiBkb2MuX2F0dGFjaG1lbnRzICYmIE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLmxlbmd0aCA+IDA7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNDb25mbGljdHMoZG9jKSB7XG4gICAgcmV0dXJuIGRvYy5fY29uZmxpY3RzICYmIGRvYy5fY29uZmxpY3RzLmxlbmd0aCA+IDA7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaFJldmlzaW9uT25lRG9jcyhpZHMpIHtcbiAgICAvLyBPcHRpbWl6YXRpb246IGZldGNoIGdlbi0xIGRvY3MgYW5kIGF0dGFjaG1lbnRzIGluXG4gICAgLy8gYSBzaW5nbGUgcmVxdWVzdCB1c2luZyBfYWxsX2RvY3NcbiAgICByZXR1cm4gc3JjLmFsbERvY3Moe1xuICAgICAga2V5czogaWRzLFxuICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgY29uZmxpY3RzOiB0cnVlXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICBpZiAoc3RhdGUuY2FuY2VsbGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICByZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgaWYgKHJvdy5kZWxldGVkIHx8ICFyb3cuZG9jIHx8ICFpc0dlbk9uZSQxKHJvdy52YWx1ZS5yZXYpIHx8XG4gICAgICAgICAgICBoYXNBdHRhY2htZW50cyhyb3cuZG9jKSB8fCBoYXNDb25mbGljdHMocm93LmRvYykpIHtcbiAgICAgICAgICAvLyBpZiBhbnkgb2YgdGhlc2UgY29uZGl0aW9ucyBhcHBseSwgd2UgbmVlZCB0byBmZXRjaCB1c2luZyBnZXQoKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0cmlwIF9jb25mbGljdHMgYXJyYXkgdG8gYXBwZWFzZSBDU0cgKCM1NzkzKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHJvdy5kb2MuX2NvbmZsaWN0cykge1xuICAgICAgICAgIGRlbGV0ZSByb3cuZG9jLl9jb25mbGljdHM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGUgZG9jIHdlIGdvdCBiYWNrIGZyb20gYWxsRG9jcygpIGlzIHN1ZmZpY2llbnRcbiAgICAgICAgcmVzdWx0RG9jcy5wdXNoKHJvdy5kb2MpO1xuICAgICAgICBkZWxldGUgZGlmZnNbcm93LmlkXTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmV2aXNpb25PbmVEb2NzKCkge1xuICAgIC8vIGZpbHRlciBvdXQgdGhlIGdlbmVyYXRpb24gMSBkb2NzIGFuZCBnZXQgdGhlbVxuICAgIC8vIGxlYXZpbmcgdGhlIG5vbi1nZW5lcmF0aW9uIG9uZSBkb2NzIHRvIGJlIGdvdCBvdGhlcndpc2VcbiAgICB2YXIgaWRzID0gT2JqZWN0LmtleXMoZGlmZnMpLmZpbHRlcihmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHZhciBtaXNzaW5nID0gZGlmZnNbaWRdLm1pc3Npbmc7XG4gICAgICByZXR1cm4gbWlzc2luZy5sZW5ndGggPT09IDEgJiYgaXNHZW5PbmUkMShtaXNzaW5nWzBdKTtcbiAgICB9KTtcbiAgICBpZiAoaWRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBmZXRjaFJldmlzaW9uT25lRG9jcyhpZHMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldHVyblJlc3VsdCgpIHtcbiAgICByZXR1cm4geyBvazpvaywgZG9jczpyZXN1bHREb2NzIH07XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAudGhlbihnZXRSZXZpc2lvbk9uZURvY3MpXG4gICAgLnRoZW4oZ2V0QWxsRG9jcylcbiAgICAudGhlbihyZXR1cm5SZXN1bHQpO1xufVxuXG52YXIgQ0hFQ0tQT0lOVF9WRVJTSU9OID0gMTtcbnZhciBSRVBMSUNBVE9SID0gXCJwb3VjaGRiXCI7XG4vLyBUaGlzIGlzIGFuIGFyYml0cmFyeSBudW1iZXIgdG8gbGltaXQgdGhlXG4vLyBhbW91bnQgb2YgcmVwbGljYXRpb24gaGlzdG9yeSB3ZSBzYXZlIGluIHRoZSBjaGVja3BvaW50LlxuLy8gSWYgd2Ugc2F2ZSB0b28gbXVjaCwgdGhlIGNoZWNrcG9pbmcgZG9jcyB3aWxsIGJlY29tZSB2ZXJ5IGJpZyxcbi8vIGlmIHdlIHNhdmUgZmV3ZXIsIHdlJ2xsIHJ1biBhIGdyZWF0ZXIgcmlzayBvZiBoYXZpbmcgdG9cbi8vIHJlYWQgYWxsIHRoZSBjaGFuZ2VzIGZyb20gMCB3aGVuIGNoZWNrcG9pbnQgUFVUcyBmYWlsXG4vLyBDb3VjaERCIDIuMCBoYXMgYSBtb3JlIGludm9sdmVkIGhpc3RvcnkgcHJ1bmluZyxcbi8vIGJ1dCBsZXQncyBnbyBmb3IgdGhlIHNpbXBsZSB2ZXJzaW9uIGZvciBub3cuXG52YXIgQ0hFQ0tQT0lOVF9ISVNUT1JZX1NJWkUgPSA1O1xudmFyIExPV0VTVF9TRVEgPSAwO1xuXG5mdW5jdGlvbiB1cGRhdGVDaGVja3BvaW50KGRiLCBpZCwgY2hlY2twb2ludCwgc2Vzc2lvbiwgcmV0dXJuVmFsdWUpIHtcbiAgcmV0dXJuIGRiLmdldChpZCkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgIGlmIChkYi5hZGFwdGVyID09PSAnaHR0cCcgfHwgZGIuYWRhcHRlciA9PT0gJ2h0dHBzJykge1xuICAgICAgICBleHBsYWluRXJyb3IoXG4gICAgICAgICAgNDA0LCAnUG91Y2hEQiBpcyBqdXN0IGNoZWNraW5nIGlmIGEgcmVtb3RlIGNoZWNrcG9pbnQgZXhpc3RzLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb24sXG4gICAgICAgIF9pZDogaWQsXG4gICAgICAgIGhpc3Rvcnk6IFtdLFxuICAgICAgICByZXBsaWNhdG9yOiBSRVBMSUNBVE9SLFxuICAgICAgICB2ZXJzaW9uOiBDSEVDS1BPSU5UX1ZFUlNJT05cbiAgICAgIH07XG4gICAgfVxuICAgIHRocm93IGVycjtcbiAgfSkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIHRoZSBjaGVja3BvaW50IGhhcyBub3QgY2hhbmdlZCwgZG8gbm90IHVwZGF0ZVxuICAgIGlmIChkb2MubGFzdF9zZXEgPT09IGNoZWNrcG9pbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXIgb3V0IGN1cnJlbnQgZW50cnkgZm9yIHRoaXMgcmVwbGljYXRpb25cbiAgICBkb2MuaGlzdG9yeSA9IChkb2MuaGlzdG9yeSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5zZXNzaW9uX2lkICE9PSBzZXNzaW9uO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIHRoZSBsYXRlc3QgY2hlY2twb2ludCB0byBoaXN0b3J5XG4gICAgZG9jLmhpc3RvcnkudW5zaGlmdCh7XG4gICAgICBsYXN0X3NlcTogY2hlY2twb2ludCxcbiAgICAgIHNlc3Npb25faWQ6IHNlc3Npb25cbiAgICB9KTtcblxuICAgIC8vIEp1c3QgdGFrZSB0aGUgbGFzdCBwaWVjZXMgaW4gaGlzdG9yeSwgdG9cbiAgICAvLyBhdm9pZCByZWFsbHkgYmlnIGNoZWNrcG9pbnQgZG9jcy5cbiAgICAvLyBzZWUgY29tbWVudCBvbiBoaXN0b3J5IHNpemUgYWJvdmVcbiAgICBkb2MuaGlzdG9yeSA9IGRvYy5oaXN0b3J5LnNsaWNlKDAsIENIRUNLUE9JTlRfSElTVE9SWV9TSVpFKTtcblxuICAgIGRvYy52ZXJzaW9uID0gQ0hFQ0tQT0lOVF9WRVJTSU9OO1xuICAgIGRvYy5yZXBsaWNhdG9yID0gUkVQTElDQVRPUjtcblxuICAgIGRvYy5zZXNzaW9uX2lkID0gc2Vzc2lvbjtcbiAgICBkb2MubGFzdF9zZXEgPSBjaGVja3BvaW50O1xuXG4gICAgcmV0dXJuIGRiLnB1dChkb2MpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgLy8gcmV0cnk7IHNvbWVvbmUgaXMgdHJ5aW5nIHRvIHdyaXRlIGEgY2hlY2twb2ludCBzaW11bHRhbmVvdXNseVxuICAgICAgICByZXR1cm4gdXBkYXRlQ2hlY2twb2ludChkYiwgaWQsIGNoZWNrcG9pbnQsIHNlc3Npb24sIHJldHVyblZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIENoZWNrcG9pbnRlcihzcmMsIHRhcmdldCwgaWQsIHJldHVyblZhbHVlLCBvcHRzKSB7XG4gIHRoaXMuc3JjID0gc3JjO1xuICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgdGhpcy5pZCA9IGlkO1xuICB0aGlzLnJldHVyblZhbHVlID0gcmV0dXJuVmFsdWU7XG4gIHRoaXMub3B0cyA9IG9wdHMgfHwge307XG59XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUud3JpdGVDaGVja3BvaW50ID0gZnVuY3Rpb24gKGNoZWNrcG9pbnQsIHNlc3Npb24pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICByZXR1cm4gdGhpcy51cGRhdGVUYXJnZXQoY2hlY2twb2ludCwgc2Vzc2lvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNlbGYudXBkYXRlU291cmNlKGNoZWNrcG9pbnQsIHNlc3Npb24pO1xuICB9KTtcbn07XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUudXBkYXRlVGFyZ2V0ID0gZnVuY3Rpb24gKGNoZWNrcG9pbnQsIHNlc3Npb24pIHtcbiAgaWYgKHRoaXMub3B0cy53cml0ZVRhcmdldENoZWNrcG9pbnQpIHtcbiAgICByZXR1cm4gdXBkYXRlQ2hlY2twb2ludCh0aGlzLnRhcmdldCwgdGhpcy5pZCwgY2hlY2twb2ludCxcbiAgICAgIHNlc3Npb24sIHRoaXMucmV0dXJuVmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gIH1cbn07XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUudXBkYXRlU291cmNlID0gZnVuY3Rpb24gKGNoZWNrcG9pbnQsIHNlc3Npb24pIHtcbiAgaWYgKHRoaXMub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIHVwZGF0ZUNoZWNrcG9pbnQodGhpcy5zcmMsIHRoaXMuaWQsIGNoZWNrcG9pbnQsXG4gICAgICBzZXNzaW9uLCB0aGlzLnJldHVyblZhbHVlKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGlzRm9yYmlkZGVuRXJyb3IoZXJyKSkge1xuICAgICAgICAgIHNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICB9XG59O1xuXG52YXIgY29tcGFyaXNvbnMgPSB7XG4gIFwidW5kZWZpbmVkXCI6IGZ1bmN0aW9uICh0YXJnZXREb2MsIHNvdXJjZURvYykge1xuICAgIC8vIFRoaXMgaXMgdGhlIHByZXZpb3VzIGNvbXBhcmlzb24gZnVuY3Rpb25cbiAgICBpZiAoY29sbGF0ZSh0YXJnZXREb2MubGFzdF9zZXEsIHNvdXJjZURvYy5sYXN0X3NlcSkgPT09IDApIHtcbiAgICAgIHJldHVybiBzb3VyY2VEb2MubGFzdF9zZXE7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIFwiMVwiOiBmdW5jdGlvbiAodGFyZ2V0RG9jLCBzb3VyY2VEb2MpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uIHBvcnRlZCBmcm9tIENvdWNoREJcbiAgICByZXR1cm4gY29tcGFyZVJlcGxpY2F0aW9uTG9ncyhzb3VyY2VEb2MsIHRhcmdldERvYykubGFzdF9zZXE7XG4gIH1cbn07XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUuZ2V0Q2hlY2twb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmIChzZWxmLm9wdHMgJiYgc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCAmJiAhc2VsZi5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCkge1xuICAgIHJldHVybiBzZWxmLnNyYy5nZXQoc2VsZi5pZCkudGhlbihmdW5jdGlvbiAoc291cmNlRG9jKSB7XG4gICAgICByZXR1cm4gc291cmNlRG9jLmxhc3Rfc2VxIHx8IExPV0VTVF9TRVE7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHNlbGYudGFyZ2V0LmdldChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uICh0YXJnZXREb2MpIHtcbiAgICBpZiAoc2VsZi5vcHRzICYmIHNlbGYub3B0cy53cml0ZVRhcmdldENoZWNrcG9pbnQgJiYgIXNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQpIHtcbiAgICAgIHJldHVybiB0YXJnZXREb2MubGFzdF9zZXEgfHwgTE9XRVNUX1NFUTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZi5zcmMuZ2V0KHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHNvdXJjZURvYykge1xuICAgICAgLy8gU2luY2Ugd2UgY2FuJ3QgbWlncmF0ZSBhbiBvbGQgdmVyc2lvbiBkb2MgdG8gYSBuZXcgb25lXG4gICAgICAvLyAobm8gc2Vzc2lvbiBpZCksIHdlIGp1c3QgZ28gd2l0aCB0aGUgbG93ZXN0IHNlcSBpbiB0aGlzIGNhc2VcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHRhcmdldERvYy52ZXJzaW9uICE9PSBzb3VyY2VEb2MudmVyc2lvbikge1xuICAgICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICAgIH1cblxuICAgICAgdmFyIHZlcnNpb247XG4gICAgICBpZiAodGFyZ2V0RG9jLnZlcnNpb24pIHtcbiAgICAgICAgdmVyc2lvbiA9IHRhcmdldERvYy52ZXJzaW9uLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZXJzaW9uID0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHZlcnNpb24gaW4gY29tcGFyaXNvbnMpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmlzb25zW3ZlcnNpb25dKHRhcmdldERvYywgc291cmNlRG9jKTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA0ICYmIHRhcmdldERvYy5sYXN0X3NlcSkge1xuICAgICAgICByZXR1cm4gc2VsZi5zcmMucHV0KHtcbiAgICAgICAgICBfaWQ6IHNlbGYuaWQsXG4gICAgICAgICAgbGFzdF9zZXE6IExPV0VTVF9TRVFcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBpZiAoaXNGb3JiaWRkZW5FcnJvcihlcnIpKSB7XG4gICAgICAgICAgICBzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0RG9jLmxhc3Rfc2VxO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gIH0pO1xufTtcbi8vIFRoaXMgY2hlY2twb2ludCBjb21wYXJpc29uIGlzIHBvcnRlZCBmcm9tIENvdWNoREJzIHNvdXJjZVxuLy8gdGhleSBjb21lIGZyb20gaGVyZTpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hcGFjaGUvY291Y2hkYi1jb3VjaC1yZXBsaWNhdG9yL2Jsb2IvbWFzdGVyL3NyYy9jb3VjaF9yZXBsaWNhdG9yLmVybCNMODYzLUw5MDZcblxuZnVuY3Rpb24gY29tcGFyZVJlcGxpY2F0aW9uTG9ncyhzcmNEb2MsIHRndERvYykge1xuICBpZiAoc3JjRG9jLnNlc3Npb25faWQgPT09IHRndERvYy5zZXNzaW9uX2lkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBzcmNEb2MubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiBzcmNEb2MuaGlzdG9yeVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeShzcmNEb2MuaGlzdG9yeSwgdGd0RG9jLmhpc3RvcnkpO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNvdXJjZUhpc3RvcnksIHRhcmdldEhpc3RvcnkpIHtcbiAgLy8gdGhlIGVybGFuZyBsb29wIHZpYSBmdW5jdGlvbiBhcmd1bWVudHMgaXMgbm90IHNvIGVhc3kgdG8gcmVwZWF0IGluIEpTXG4gIC8vIHRoZXJlZm9yZSwgZG9pbmcgdGhpcyBhcyByZWN1cnNpb25cbiAgdmFyIFMgPSBzb3VyY2VIaXN0b3J5WzBdO1xuICB2YXIgc291cmNlUmVzdCA9IHNvdXJjZUhpc3Rvcnkuc2xpY2UoMSk7XG4gIHZhciBUID0gdGFyZ2V0SGlzdG9yeVswXTtcbiAgdmFyIHRhcmdldFJlc3QgPSB0YXJnZXRIaXN0b3J5LnNsaWNlKDEpO1xuXG4gIGlmICghUyB8fCB0YXJnZXRIaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogTE9XRVNUX1NFUSxcbiAgICAgIGhpc3Rvcnk6IFtdXG4gICAgfTtcbiAgfVxuXG4gIHZhciBzb3VyY2VJZCA9IFMuc2Vzc2lvbl9pZDtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChoYXNTZXNzaW9uSWQoc291cmNlSWQsIHRhcmdldEhpc3RvcnkpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBTLmxhc3Rfc2VxLFxuICAgICAgaGlzdG9yeTogc291cmNlSGlzdG9yeVxuICAgIH07XG4gIH1cblxuICB2YXIgdGFyZ2V0SWQgPSBULnNlc3Npb25faWQ7XG4gIGlmIChoYXNTZXNzaW9uSWQodGFyZ2V0SWQsIHNvdXJjZVJlc3QpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBULmxhc3Rfc2VxLFxuICAgICAgaGlzdG9yeTogdGFyZ2V0UmVzdFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeShzb3VyY2VSZXN0LCB0YXJnZXRSZXN0KTtcbn1cblxuZnVuY3Rpb24gaGFzU2Vzc2lvbklkKHNlc3Npb25JZCwgaGlzdG9yeSkge1xuICB2YXIgcHJvcHMgPSBoaXN0b3J5WzBdO1xuICB2YXIgcmVzdCA9IGhpc3Rvcnkuc2xpY2UoMSk7XG5cbiAgaWYgKCFzZXNzaW9uSWQgfHwgaGlzdG9yeS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoc2Vzc2lvbklkID09PSBwcm9wcy5zZXNzaW9uX2lkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gaGFzU2Vzc2lvbklkKHNlc3Npb25JZCwgcmVzdCk7XG59XG5cbmZ1bmN0aW9uIGlzRm9yYmlkZGVuRXJyb3IoZXJyKSB7XG4gIHJldHVybiB0eXBlb2YgZXJyLnN0YXR1cyA9PT0gJ251bWJlcicgJiYgTWF0aC5mbG9vcihlcnIuc3RhdHVzIC8gMTAwKSA9PT0gNDtcbn1cblxudmFyIFNUQVJUSU5HX0JBQ0tfT0ZGID0gMDtcblxuZnVuY3Rpb24gYmFja09mZihvcHRzLCByZXR1cm5WYWx1ZSwgZXJyb3IsIGNhbGxiYWNrKSB7XG4gIGlmIChvcHRzLnJldHJ5ID09PSBmYWxzZSkge1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgIHJldHVyblZhbHVlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHJldHVybjtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHR5cGVvZiBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0cy5iYWNrX29mZl9mdW5jdGlvbiA9IGRlZmF1bHRCYWNrT2ZmO1xuICB9XG4gIHJldHVyblZhbHVlLmVtaXQoJ3JlcXVlc3RFcnJvcicsIGVycm9yKTtcbiAgaWYgKHJldHVyblZhbHVlLnN0YXRlID09PSAnYWN0aXZlJyB8fCByZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgncGF1c2VkJywgZXJyb3IpO1xuICAgIHJldHVyblZhbHVlLnN0YXRlID0gJ3N0b3BwZWQnO1xuICAgIHZhciBiYWNrT2ZmU2V0ID0gZnVuY3Rpb24gYmFja29mZlRpbWVTZXQoKSB7XG4gICAgICBvcHRzLmN1cnJlbnRfYmFja19vZmYgPSBTVEFSVElOR19CQUNLX09GRjtcbiAgICB9O1xuICAgIHZhciByZW1vdmVCYWNrT2ZmU2V0dGVyID0gZnVuY3Rpb24gcmVtb3ZlQmFja09mZlRpbWVTZXQoKSB7XG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVMaXN0ZW5lcignYWN0aXZlJywgYmFja09mZlNldCk7XG4gICAgfTtcbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdwYXVzZWQnLCByZW1vdmVCYWNrT2ZmU2V0dGVyKTtcbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdhY3RpdmUnLCBiYWNrT2ZmU2V0KTtcbiAgfVxuXG4gIG9wdHMuY3VycmVudF9iYWNrX29mZiA9IG9wdHMuY3VycmVudF9iYWNrX29mZiB8fCBTVEFSVElOR19CQUNLX09GRjtcbiAgb3B0cy5jdXJyZW50X2JhY2tfb2ZmID0gb3B0cy5iYWNrX29mZl9mdW5jdGlvbihvcHRzLmN1cnJlbnRfYmFja19vZmYpO1xuICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBvcHRzLmN1cnJlbnRfYmFja19vZmYpO1xufVxuXG5mdW5jdGlvbiBzb3J0T2JqZWN0UHJvcGVydGllc0J5S2V5KHF1ZXJ5UGFyYW1zKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhxdWVyeVBhcmFtcykuc29ydChjb2xsYXRlKS5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSBxdWVyeVBhcmFtc1trZXldO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIHt9KTtcbn1cblxuLy8gR2VuZXJhdGUgYSB1bmlxdWUgaWQgcGFydGljdWxhciB0byB0aGlzIHJlcGxpY2F0aW9uLlxuLy8gTm90IGd1YXJhbnRlZWQgdG8gYWxpZ24gcGVyZmVjdGx5IHdpdGggQ291Y2hEQidzIHJlcCBpZHMuXG5mdW5jdGlvbiBnZW5lcmF0ZVJlcGxpY2F0aW9uSWQoc3JjLCB0YXJnZXQsIG9wdHMpIHtcbiAgdmFyIGRvY0lkcyA9IG9wdHMuZG9jX2lkcyA/IG9wdHMuZG9jX2lkcy5zb3J0KGNvbGxhdGUpIDogJyc7XG4gIHZhciBmaWx0ZXJGdW4gPSBvcHRzLmZpbHRlciA/IG9wdHMuZmlsdGVyLnRvU3RyaW5nKCkgOiAnJztcbiAgdmFyIHF1ZXJ5UGFyYW1zID0gJyc7XG4gIHZhciBmaWx0ZXJWaWV3TmFtZSA9ICAnJztcbiAgdmFyIHNlbGVjdG9yID0gJyc7XG5cbiAgLy8gcG9zc2liaWxpdHkgZm9yIGNoZWNrcG9pbnRzIHRvIGJlIGxvc3QgaGVyZSBhcyBiZWhhdmlvdXIgb2ZcbiAgLy8gSlNPTi5zdHJpbmdpZnkgaXMgbm90IHN0YWJsZSAoc2VlICM2MjI2KVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICBzZWxlY3RvciA9IEpTT04uc3RyaW5naWZ5KG9wdHMuc2VsZWN0b3IpO1xuICB9XG5cbiAgaWYgKG9wdHMuZmlsdGVyICYmIG9wdHMucXVlcnlfcGFyYW1zKSB7XG4gICAgcXVlcnlQYXJhbXMgPSBKU09OLnN0cmluZ2lmeShzb3J0T2JqZWN0UHJvcGVydGllc0J5S2V5KG9wdHMucXVlcnlfcGFyYW1zKSk7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgb3B0cy5maWx0ZXIgPT09ICdfdmlldycpIHtcbiAgICBmaWx0ZXJWaWV3TmFtZSA9IG9wdHMudmlldy50b1N0cmluZygpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKFtzcmMuaWQoKSwgdGFyZ2V0LmlkKCldKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICB2YXIgcXVlcnlEYXRhID0gcmVzWzBdICsgcmVzWzFdICsgZmlsdGVyRnVuICsgZmlsdGVyVmlld05hbWUgK1xuICAgICAgcXVlcnlQYXJhbXMgKyBkb2NJZHMgKyBzZWxlY3RvcjtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgIGJpbmFyeU1kNShxdWVyeURhdGEsIHJlc29sdmUpO1xuICAgIH0pO1xuICB9KS50aGVuKGZ1bmN0aW9uIChtZDVzdW0pIHtcbiAgICAvLyBjYW4ndCB1c2Ugc3RyYWlnaHQtdXAgbWQ1IGFscGhhYmV0LCBiZWNhdXNlXG4gICAgLy8gdGhlIGNoYXIgJy8nIGlzIGludGVycHJldGVkIGFzIGJlaW5nIGZvciBhdHRhY2htZW50cyxcbiAgICAvLyBhbmQgKyBpcyBhbHNvIG5vdCB1cmwtc2FmZVxuICAgIG1kNXN1bSA9IG1kNXN1bS5yZXBsYWNlKC9cXC8vZywgJy4nKS5yZXBsYWNlKC9cXCsvZywgJ18nKTtcbiAgICByZXR1cm4gJ19sb2NhbC8nICsgbWQ1c3VtO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVwbGljYXRlKHNyYywgdGFyZ2V0LCBvcHRzLCByZXR1cm5WYWx1ZSwgcmVzdWx0KSB7XG4gIHZhciBiYXRjaGVzID0gW107ICAgICAgICAgICAgICAgLy8gbGlzdCBvZiBiYXRjaGVzIHRvIGJlIHByb2Nlc3NlZFxuICB2YXIgY3VycmVudEJhdGNoOyAgICAgICAgICAgICAgIC8vIHRoZSBiYXRjaCBjdXJyZW50bHkgYmVpbmcgcHJvY2Vzc2VkXG4gIHZhciBwZW5kaW5nQmF0Y2ggPSB7XG4gICAgc2VxOiAwLFxuICAgIGNoYW5nZXM6IFtdLFxuICAgIGRvY3M6IFtdXG4gIH07IC8vIG5leHQgYmF0Y2gsIG5vdCB5ZXQgcmVhZHkgdG8gYmUgcHJvY2Vzc2VkXG4gIHZhciB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlOyAgLy8gdHJ1ZSB3aGlsZSBjaGVja3BvaW50IGlzIGJlaW5nIHdyaXR0ZW5cbiAgdmFyIGNoYW5nZXNDb21wbGV0ZWQgPSBmYWxzZTsgICAvLyB0cnVlIHdoZW4gYWxsIGNoYW5nZXMgcmVjZWl2ZWRcbiAgdmFyIHJlcGxpY2F0aW9uQ29tcGxldGVkID0gZmFsc2U7IC8vIHRydWUgd2hlbiByZXBsaWNhdGlvbiBoYXMgY29tcGxldGVkXG4gIHZhciBsYXN0X3NlcSA9IDA7XG4gIHZhciBjb250aW51b3VzID0gb3B0cy5jb250aW51b3VzIHx8IG9wdHMubGl2ZSB8fCBmYWxzZTtcbiAgdmFyIGJhdGNoX3NpemUgPSBvcHRzLmJhdGNoX3NpemUgfHwgMTAwO1xuICB2YXIgYmF0Y2hlc19saW1pdCA9IG9wdHMuYmF0Y2hlc19saW1pdCB8fCAxMDtcbiAgdmFyIHN0eWxlID0gb3B0cy5zdHlsZSB8fCAnYWxsX2RvY3MnO1xuICB2YXIgY2hhbmdlc1BlbmRpbmcgPSBmYWxzZTsgICAgIC8vIHRydWUgd2hpbGUgc3JjLmNoYW5nZXMgaXMgcnVubmluZ1xuICB2YXIgZG9jX2lkcyA9IG9wdHMuZG9jX2lkcztcbiAgdmFyIHNlbGVjdG9yID0gb3B0cy5zZWxlY3RvcjtcbiAgdmFyIHJlcElkO1xuICB2YXIgY2hlY2twb2ludGVyO1xuICB2YXIgY2hhbmdlZERvY3MgPSBbXTtcbiAgLy8gTGlrZSBjb3VjaGRiLCBldmVyeSByZXBsaWNhdGlvbiBnZXRzIGEgdW5pcXVlIHNlc3Npb24gaWRcbiAgdmFyIHNlc3Npb24gPSB1dWlkKCk7XG5cbiAgcmVzdWx0ID0gcmVzdWx0IHx8IHtcbiAgICBvazogdHJ1ZSxcbiAgICBzdGFydF90aW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgZG9jc19yZWFkOiAwLFxuICAgIGRvY3Nfd3JpdHRlbjogMCxcbiAgICBkb2Nfd3JpdGVfZmFpbHVyZXM6IDAsXG4gICAgZXJyb3JzOiBbXVxuICB9O1xuXG4gIHZhciBjaGFuZ2VzT3B0cyA9IHt9O1xuICByZXR1cm5WYWx1ZS5yZWFkeShzcmMsIHRhcmdldCk7XG5cbiAgZnVuY3Rpb24gaW5pdENoZWNrcG9pbnRlcigpIHtcbiAgICBpZiAoY2hlY2twb2ludGVyKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJldHVybiBnZW5lcmF0ZVJlcGxpY2F0aW9uSWQoc3JjLCB0YXJnZXQsIG9wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgcmVwSWQgPSByZXM7XG5cbiAgICAgIHZhciBjaGVja3BvaW50T3B0cyA9IHt9O1xuICAgICAgaWYgKG9wdHMuY2hlY2twb2ludCA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogZmFsc2UsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogZmFsc2UgfTtcbiAgICAgIH0gZWxzZSBpZiAob3B0cy5jaGVja3BvaW50ID09PSAnc291cmNlJykge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiB0cnVlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IGZhbHNlIH07XG4gICAgICB9IGVsc2UgaWYgKG9wdHMuY2hlY2twb2ludCA9PT0gJ3RhcmdldCcpIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogZmFsc2UsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogdHJ1ZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiB0cnVlIH07XG4gICAgICB9XG5cbiAgICAgIGNoZWNrcG9pbnRlciA9IG5ldyBDaGVja3BvaW50ZXIoc3JjLCB0YXJnZXQsIHJlcElkLCByZXR1cm5WYWx1ZSwgY2hlY2twb2ludE9wdHMpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVEb2NzKCkge1xuICAgIGNoYW5nZWREb2NzID0gW107XG5cbiAgICBpZiAoY3VycmVudEJhdGNoLmRvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkb2NzID0gY3VycmVudEJhdGNoLmRvY3M7XG4gICAgdmFyIGJ1bGtPcHRzID0ge3RpbWVvdXQ6IG9wdHMudGltZW91dH07XG4gICAgcmV0dXJuIHRhcmdldC5idWxrRG9jcyh7ZG9jczogZG9jcywgbmV3X2VkaXRzOiBmYWxzZX0sIGJ1bGtPcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGByZXNgIGRvZXNuJ3QgaW5jbHVkZSBmdWxsIGRvY3VtZW50cyAod2hpY2ggbGl2ZSBpbiBgZG9jc2ApLCBzbyB3ZSBjcmVhdGUgYSBtYXAgb2ZcbiAgICAgIC8vIChpZCAtPiBlcnJvciksIGFuZCBjaGVjayBmb3IgZXJyb3JzIHdoaWxlIGl0ZXJhdGluZyBvdmVyIGBkb2NzYFxuICAgICAgdmFyIGVycm9yc0J5SWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgcmVzLmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICAgICAgZXJyb3JzQnlJZFtyZXMuaWRdID0gcmVzO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIGVycm9yc05vID0gT2JqZWN0LmtleXMoZXJyb3JzQnlJZCkubGVuZ3RoO1xuICAgICAgcmVzdWx0LmRvY193cml0ZV9mYWlsdXJlcyArPSBlcnJvcnNObztcbiAgICAgIHJlc3VsdC5kb2NzX3dyaXR0ZW4gKz0gZG9jcy5sZW5ndGggLSBlcnJvcnNObztcblxuICAgICAgZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgdmFyIGVycm9yID0gZXJyb3JzQnlJZFtkb2MuX2lkXTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmVzdWx0LmVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICAvLyBOb3JtYWxpemUgZXJyb3IgbmFtZS4gaS5lLiAnVW5hdXRob3JpemVkJyAtPiAndW5hdXRob3JpemVkJyAoZWcgU3luYyBHYXRld2F5KVxuICAgICAgICAgIHZhciBlcnJvck5hbWUgPSAoZXJyb3IubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBpZiAoZXJyb3JOYW1lID09PSAndW5hdXRob3JpemVkJyB8fCBlcnJvck5hbWUgPT09ICdmb3JiaWRkZW4nKSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdkZW5pZWQnLCBjbG9uZShlcnJvcikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlZERvY3MucHVzaChkb2MpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJlc3VsdC5kb2Nfd3JpdGVfZmFpbHVyZXMgKz0gZG9jcy5sZW5ndGg7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hCYXRjaCgpIHtcbiAgICBpZiAoY3VycmVudEJhdGNoLmVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIHdhcyBhIHByb2JsZW0gZ2V0dGluZyBkb2NzLicpO1xuICAgIH1cbiAgICByZXN1bHQubGFzdF9zZXEgPSBsYXN0X3NlcSA9IGN1cnJlbnRCYXRjaC5zZXE7XG4gICAgdmFyIG91dFJlc3VsdCA9IGNsb25lKHJlc3VsdCk7XG4gICAgaWYgKGNoYW5nZWREb2NzLmxlbmd0aCkge1xuICAgICAgb3V0UmVzdWx0LmRvY3MgPSBjaGFuZ2VkRG9jcztcbiAgICAgIC8vIEF0dGFjaCAncGVuZGluZycgcHJvcGVydHkgaWYgc2VydmVyIHN1cHBvcnRzIGl0IChDb3VjaERCIDIuMCspXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICh0eXBlb2YgY3VycmVudEJhdGNoLnBlbmRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgIG91dFJlc3VsdC5wZW5kaW5nID0gY3VycmVudEJhdGNoLnBlbmRpbmc7XG4gICAgICAgIGRlbGV0ZSBjdXJyZW50QmF0Y2gucGVuZGluZztcbiAgICAgIH1cbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoYW5nZScsIG91dFJlc3VsdCk7XG4gICAgfVxuICAgIHdyaXRpbmdDaGVja3BvaW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gY2hlY2twb2ludGVyLndyaXRlQ2hlY2twb2ludChjdXJyZW50QmF0Y2guc2VxLFxuICAgICAgICBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdjaGVja3BvaW50JzogY3VycmVudEJhdGNoLnNlcSB9KTtcbiAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgY3VycmVudEJhdGNoID0gdW5kZWZpbmVkO1xuICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIG9uQ2hlY2twb2ludEVycm9yKGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREaWZmcygpIHtcbiAgICB2YXIgZGlmZiA9IHt9O1xuICAgIGN1cnJlbnRCYXRjaC5jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ3JldnNfZGlmZic6IGNoYW5nZSB9KTtcbiAgICAgIC8vIENvdWNoYmFzZSBTeW5jIEdhdGV3YXkgZW1pdHMgdGhlc2UsIGJ1dCB3ZSBjYW4gaWdub3JlIHRoZW1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGNoYW5nZS5pZCA9PT0gXCJfdXNlci9cIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkaWZmW2NoYW5nZS5pZF0gPSBjaGFuZ2UuY2hhbmdlcy5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHgucmV2O1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldC5yZXZzRGlmZihkaWZmKS50aGVuKGZ1bmN0aW9uIChkaWZmcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIC8vIGN1cnJlbnRCYXRjaC5kaWZmcyBlbGVtZW50cyBhcmUgZGVsZXRlZCBhcyB0aGUgZG9jdW1lbnRzIGFyZSB3cml0dGVuXG4gICAgICBjdXJyZW50QmF0Y2guZGlmZnMgPSBkaWZmcztcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJhdGNoRG9jcygpIHtcbiAgICByZXR1cm4gZ2V0RG9jcyhzcmMsIHRhcmdldCwgY3VycmVudEJhdGNoLmRpZmZzLCByZXR1cm5WYWx1ZSkudGhlbihmdW5jdGlvbiAoZ290KSB7XG4gICAgICBjdXJyZW50QmF0Y2guZXJyb3IgPSAhZ290Lm9rO1xuICAgICAgZ290LmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIGRlbGV0ZSBjdXJyZW50QmF0Y2guZGlmZnNbZG9jLl9pZF07XG4gICAgICAgIHJlc3VsdC5kb2NzX3JlYWQrKztcbiAgICAgICAgY3VycmVudEJhdGNoLmRvY3MucHVzaChkb2MpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydE5leHRCYXRjaCgpIHtcbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkIHx8IGN1cnJlbnRCYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYmF0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2godHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRCYXRjaCA9IGJhdGNoZXMuc2hpZnQoKTtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAnc3RhcnRfbmV4dF9iYXRjaCc6IGN1cnJlbnRCYXRjaC5zZXEgfSk7XG4gICAgZ2V0RGlmZnMoKVxuICAgICAgLnRoZW4oZ2V0QmF0Y2hEb2NzKVxuICAgICAgLnRoZW4od3JpdGVEb2NzKVxuICAgICAgLnRoZW4oZmluaXNoQmF0Y2gpXG4gICAgICAudGhlbihzdGFydE5leHRCYXRjaClcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGFib3J0UmVwbGljYXRpb24oJ2JhdGNoIHByb2Nlc3NpbmcgdGVybWluYXRlZCB3aXRoIGVycm9yJywgZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cblxuICBmdW5jdGlvbiBwcm9jZXNzUGVuZGluZ0JhdGNoKGltbWVkaWF0ZSQkMSkge1xuICAgIGlmIChwZW5kaW5nQmF0Y2guY2hhbmdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmIChiYXRjaGVzLmxlbmd0aCA9PT0gMCAmJiAhY3VycmVudEJhdGNoKSB7XG4gICAgICAgIGlmICgoY29udGludW91cyAmJiBjaGFuZ2VzT3B0cy5saXZlKSB8fCBjaGFuZ2VzQ29tcGxldGVkKSB7XG4gICAgICAgICAgcmV0dXJuVmFsdWUuc3RhdGUgPSAncGVuZGluZyc7XG4gICAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgncGF1c2VkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgaW1tZWRpYXRlJCQxIHx8XG4gICAgICBjaGFuZ2VzQ29tcGxldGVkIHx8XG4gICAgICBwZW5kaW5nQmF0Y2guY2hhbmdlcy5sZW5ndGggPj0gYmF0Y2hfc2l6ZVxuICAgICkge1xuICAgICAgYmF0Y2hlcy5wdXNoKHBlbmRpbmdCYXRjaCk7XG4gICAgICBwZW5kaW5nQmF0Y2ggPSB7XG4gICAgICAgIHNlcTogMCxcbiAgICAgICAgY2hhbmdlczogW10sXG4gICAgICAgIGRvY3M6IFtdXG4gICAgICB9O1xuICAgICAgaWYgKHJldHVyblZhbHVlLnN0YXRlID09PSAncGVuZGluZycgfHwgcmV0dXJuVmFsdWUuc3RhdGUgPT09ICdzdG9wcGVkJykge1xuICAgICAgICByZXR1cm5WYWx1ZS5zdGF0ZSA9ICdhY3RpdmUnO1xuICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0TmV4dEJhdGNoKCk7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBhYm9ydFJlcGxpY2F0aW9uKHJlYXNvbiwgZXJyKSB7XG4gICAgaWYgKHJlcGxpY2F0aW9uQ29tcGxldGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghZXJyLm1lc3NhZ2UpIHtcbiAgICAgIGVyci5tZXNzYWdlID0gcmVhc29uO1xuICAgIH1cbiAgICByZXN1bHQub2sgPSBmYWxzZTtcbiAgICByZXN1bHQuc3RhdHVzID0gJ2Fib3J0aW5nJztcbiAgICBiYXRjaGVzID0gW107XG4gICAgcGVuZGluZ0JhdGNoID0ge1xuICAgICAgc2VxOiAwLFxuICAgICAgY2hhbmdlczogW10sXG4gICAgICBkb2NzOiBbXVxuICAgIH07XG4gICAgY29tcGxldGVSZXBsaWNhdGlvbihlcnIpO1xuICB9XG5cblxuICBmdW5jdGlvbiBjb21wbGV0ZVJlcGxpY2F0aW9uKGZhdGFsRXJyb3IpIHtcbiAgICBpZiAocmVwbGljYXRpb25Db21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmVzdWx0LnN0YXR1cyA9ICdjYW5jZWxsZWQnO1xuICAgICAgaWYgKHdyaXRpbmdDaGVja3BvaW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnN0YXR1cyA9IHJlc3VsdC5zdGF0dXMgfHwgJ2NvbXBsZXRlJztcbiAgICByZXN1bHQuZW5kX3RpbWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgcmVzdWx0Lmxhc3Rfc2VxID0gbGFzdF9zZXE7XG4gICAgcmVwbGljYXRpb25Db21wbGV0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKGZhdGFsRXJyb3IpIHtcbiAgICAgIC8vIG5lZWQgdG8gZXh0ZW5kIHRoZSBlcnJvciBiZWNhdXNlIEZpcmVmb3ggY29uc2lkZXJzIFwiLnJlc3VsdFwiIHJlYWQtb25seVxuICAgICAgZmF0YWxFcnJvciA9IGNyZWF0ZUVycm9yKGZhdGFsRXJyb3IpO1xuICAgICAgZmF0YWxFcnJvci5yZXN1bHQgPSByZXN1bHQ7XG5cbiAgICAgIC8vIE5vcm1hbGl6ZSBlcnJvciBuYW1lLiBpLmUuICdVbmF1dGhvcml6ZWQnIC0+ICd1bmF1dGhvcml6ZWQnIChlZyBTeW5jIEdhdGV3YXkpXG4gICAgICB2YXIgZXJyb3JOYW1lID0gKGZhdGFsRXJyb3IubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChlcnJvck5hbWUgPT09ICd1bmF1dGhvcml6ZWQnIHx8IGVycm9yTmFtZSA9PT0gJ2ZvcmJpZGRlbicpIHtcbiAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnZXJyb3InLCBmYXRhbEVycm9yKTtcbiAgICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYWNrT2ZmKG9wdHMsIHJldHVyblZhbHVlLCBmYXRhbEVycm9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVwbGljYXRlKHNyYywgdGFyZ2V0LCBvcHRzLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjb21wbGV0ZScsIHJlc3VsdCk7XG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybiBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgfVxuICAgIC8vIEF0dGFjaCAncGVuZGluZycgcHJvcGVydHkgaWYgc2VydmVyIHN1cHBvcnRzIGl0IChDb3VjaERCIDIuMCspXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHR5cGVvZiBwZW5kaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgcGVuZGluZ0JhdGNoLnBlbmRpbmcgPSBwZW5kaW5nO1xuICAgIH1cblxuICAgIHZhciBmaWx0ZXIgPSBmaWx0ZXJDaGFuZ2Uob3B0cykoY2hhbmdlKTtcbiAgICBpZiAoIWZpbHRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwZW5kaW5nQmF0Y2guc2VxID0gY2hhbmdlLnNlcSB8fCBsYXN0U2VxO1xuICAgIHBlbmRpbmdCYXRjaC5jaGFuZ2VzLnB1c2goY2hhbmdlKTtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAncGVuZGluZ19iYXRjaCc6IHBlbmRpbmdCYXRjaC5zZXEgfSk7XG4gICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2goYmF0Y2hlcy5sZW5ndGggPT09IDAgJiYgY2hhbmdlc09wdHMubGl2ZSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlc0NvbXBsZXRlKGNoYW5nZXMpIHtcbiAgICBjaGFuZ2VzUGVuZGluZyA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybiBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgfVxuXG4gICAgLy8gaWYgbm8gcmVzdWx0cyB3ZXJlIHJldHVybmVkIHRoZW4gd2UncmUgZG9uZSxcbiAgICAvLyBlbHNlIGZldGNoIG1vcmVcbiAgICBpZiAoY2hhbmdlcy5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNoYW5nZXNPcHRzLnNpbmNlID0gY2hhbmdlcy5yZXN1bHRzW2NoYW5nZXMucmVzdWx0cy5sZW5ndGggLSAxXS5zZXE7XG4gICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKHRydWUpO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNvbnRpbnVvdXMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy5saXZlID0gdHJ1ZTtcbiAgICAgICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaCh0cnVlKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIHVwZGF0ZSB0aGUgY2hlY2twb2ludCBzbyB3ZSBzdGFydCBmcm9tIHRoZSByaWdodCBzZXEgbmV4dCB0aW1lXG4gICAgICBpZiAoIWN1cnJlbnRCYXRjaCAmJiBjaGFuZ2VzLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gdHJ1ZTtcbiAgICAgICAgY2hlY2twb2ludGVyLndyaXRlQ2hlY2twb2ludChjaGFuZ2VzLmxhc3Rfc2VxLFxuICAgICAgICAgICAgc2Vzc2lvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICByZXN1bHQubGFzdF9zZXEgPSBsYXN0X3NlcSA9IGNoYW5nZXMubGFzdF9zZXE7XG4gICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG9uQ2hlY2twb2ludEVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBvbkNoYW5nZXNFcnJvcihlcnIpIHtcbiAgICBjaGFuZ2VzUGVuZGluZyA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybiBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgfVxuICAgIGFib3J0UmVwbGljYXRpb24oJ2NoYW5nZXMgcmVqZWN0ZWQnLCBlcnIpO1xuICB9XG5cblxuICBmdW5jdGlvbiBnZXRDaGFuZ2VzKCkge1xuICAgIGlmICghKFxuICAgICAgIWNoYW5nZXNQZW5kaW5nICYmXG4gICAgICAhY2hhbmdlc0NvbXBsZXRlZCAmJlxuICAgICAgYmF0Y2hlcy5sZW5ndGggPCBiYXRjaGVzX2xpbWl0XG4gICAgICApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNoYW5nZXNQZW5kaW5nID0gdHJ1ZTtcbiAgICBmdW5jdGlvbiBhYm9ydENoYW5nZXMoKSB7XG4gICAgICBjaGFuZ2VzLmNhbmNlbCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcigpIHtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdjYW5jZWwnLCBhYm9ydENoYW5nZXMpO1xuICAgIH1cblxuICAgIGlmIChyZXR1cm5WYWx1ZS5fY2hhbmdlcykgeyAvLyByZW1vdmUgb2xkIGNoYW5nZXMoKSBhbmQgbGlzdGVuZXJzXG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVMaXN0ZW5lcignY2FuY2VsJywgcmV0dXJuVmFsdWUuX2Fib3J0Q2hhbmdlcyk7XG4gICAgICByZXR1cm5WYWx1ZS5fY2hhbmdlcy5jYW5jZWwoKTtcbiAgICB9XG4gICAgcmV0dXJuVmFsdWUub25jZSgnY2FuY2VsJywgYWJvcnRDaGFuZ2VzKTtcblxuICAgIHZhciBjaGFuZ2VzID0gc3JjLmNoYW5nZXMoY2hhbmdlc09wdHMpXG4gICAgICAub24oJ2NoYW5nZScsIG9uQ2hhbmdlKTtcbiAgICBjaGFuZ2VzLnRoZW4ocmVtb3ZlTGlzdGVuZXIsIHJlbW92ZUxpc3RlbmVyKTtcbiAgICBjaGFuZ2VzLnRoZW4ob25DaGFuZ2VzQ29tcGxldGUpXG4gICAgICAuY2F0Y2gob25DaGFuZ2VzRXJyb3IpO1xuXG4gICAgaWYgKG9wdHMucmV0cnkpIHtcbiAgICAgIC8vIHNhdmUgZm9yIGxhdGVyIHNvIHdlIGNhbiBjYW5jZWwgaWYgbmVjZXNzYXJ5XG4gICAgICByZXR1cm5WYWx1ZS5fY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICByZXR1cm5WYWx1ZS5fYWJvcnRDaGFuZ2VzID0gYWJvcnRDaGFuZ2VzO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gc3RhcnRDaGFuZ2VzKCkge1xuICAgIGluaXRDaGVja3BvaW50ZXIoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGVja3BvaW50ZXIuZ2V0Q2hlY2twb2ludCgpLnRoZW4oZnVuY3Rpb24gKGNoZWNrcG9pbnQpIHtcbiAgICAgICAgbGFzdF9zZXEgPSBjaGVja3BvaW50O1xuICAgICAgICBjaGFuZ2VzT3B0cyA9IHtcbiAgICAgICAgICBzaW5jZTogbGFzdF9zZXEsXG4gICAgICAgICAgbGltaXQ6IGJhdGNoX3NpemUsXG4gICAgICAgICAgYmF0Y2hfc2l6ZTogYmF0Y2hfc2l6ZSxcbiAgICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgICAgZG9jX2lkczogZG9jX2lkcyxcbiAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgICAgICAgcmV0dXJuX2RvY3M6IHRydWUgLy8gcmVxdWlyZWQgc28gd2Uga25vdyB3aGVuIHdlJ3JlIGRvbmVcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdHMuZmlsdGVyKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvcHRzLmZpbHRlciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIGZvciB0aGUgY2xpZW50LXNpZGUgZmlsdGVyIGluIG9uQ2hhbmdlXG4gICAgICAgICAgICBjaGFuZ2VzT3B0cy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIGRkb2MgZmlsdGVyXG4gICAgICAgICAgICBjaGFuZ2VzT3B0cy5maWx0ZXIgPSBvcHRzLmZpbHRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdoZWFydGJlYXQnIGluIG9wdHMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy5oZWFydGJlYXQgPSBvcHRzLmhlYXJ0YmVhdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3RpbWVvdXQnIGluIG9wdHMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy50aW1lb3V0ID0gb3B0cy50aW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnF1ZXJ5X3BhcmFtcykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnF1ZXJ5X3BhcmFtcyA9IG9wdHMucXVlcnlfcGFyYW1zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnZpZXcpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy52aWV3ID0gb3B0cy52aWV3O1xuICAgICAgICB9XG4gICAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGFib3J0UmVwbGljYXRpb24oJ2dldENoZWNrcG9pbnQgcmVqZWN0ZWQgd2l0aCAnLCBlcnIpO1xuICAgIH0pO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gb25DaGVja3BvaW50RXJyb3IoZXJyKSB7XG4gICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICBhYm9ydFJlcGxpY2F0aW9uKCd3cml0ZUNoZWNrcG9pbnQgY29tcGxldGVkIHdpdGggZXJyb3InLCBlcnIpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHsgLy8gY2FuY2VsbGVkIGltbWVkaWF0ZWx5XG4gICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghcmV0dXJuVmFsdWUuX2FkZGVkTGlzdGVuZXJzKSB7XG4gICAgcmV0dXJuVmFsdWUub25jZSgnY2FuY2VsJywgY29tcGxldGVSZXBsaWNhdGlvbik7XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuY29tcGxldGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVyblZhbHVlLm9uY2UoJ2Vycm9yJywgb3B0cy5jb21wbGV0ZSk7XG4gICAgICByZXR1cm5WYWx1ZS5vbmNlKCdjb21wbGV0ZScsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgb3B0cy5jb21wbGV0ZShudWxsLCByZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVyblZhbHVlLl9hZGRlZExpc3RlbmVycyA9IHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIG9wdHMuc2luY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3RhcnRDaGFuZ2VzKCk7XG4gIH0gZWxzZSB7XG4gICAgaW5pdENoZWNrcG9pbnRlcigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGNoZWNrcG9pbnRlci53cml0ZUNoZWNrcG9pbnQob3B0cy5zaW5jZSwgc2Vzc2lvbik7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGFzdF9zZXEgPSBvcHRzLnNpbmNlO1xuICAgICAgc3RhcnRDaGFuZ2VzKCk7XG4gICAgfSkuY2F0Y2gob25DaGVja3BvaW50RXJyb3IpO1xuICB9XG59XG5cbi8vIFdlIGNyZWF0ZSBhIGJhc2ljIHByb21pc2Ugc28gdGhlIGNhbGxlciBjYW4gY2FuY2VsIHRoZSByZXBsaWNhdGlvbiBwb3NzaWJseVxuLy8gYmVmb3JlIHdlIGhhdmUgYWN0dWFsbHkgc3RhcnRlZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyBldGNcbmluaGVyaXRzKFJlcGxpY2F0aW9uLCBFRSk7XG5mdW5jdGlvbiBSZXBsaWNhdGlvbigpIHtcbiAgRUUuY2FsbCh0aGlzKTtcbiAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgdGhpcy5zdGF0ZSA9ICdwZW5kaW5nJztcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICBzZWxmLm9uY2UoJ2NvbXBsZXRlJywgZnVsZmlsbCk7XG4gICAgc2VsZi5vbmNlKCdlcnJvcicsIHJlamVjdCk7XG4gIH0pO1xuICBzZWxmLnRoZW4gPSBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICB9O1xuICBzZWxmLmNhdGNoID0gZnVuY3Rpb24gKHJlamVjdCkge1xuICAgIHJldHVybiBwcm9taXNlLmNhdGNoKHJlamVjdCk7XG4gIH07XG4gIC8vIEFzIHdlIGFsbG93IGVycm9yIGhhbmRsaW5nIHZpYSBcImVycm9yXCIgZXZlbnQgYXMgd2VsbCxcbiAgLy8gcHV0IGEgc3R1YiBpbiBoZXJlIHNvIHRoYXQgcmVqZWN0aW5nIG5ldmVyIHRocm93cyBVbmhhbmRsZWRFcnJvci5cbiAgc2VsZi5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG59XG5cblJlcGxpY2F0aW9uLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgdGhpcy5zdGF0ZSA9ICdjYW5jZWxsZWQnO1xuICB0aGlzLmVtaXQoJ2NhbmNlbCcpO1xufTtcblxuUmVwbGljYXRpb24ucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gKHNyYywgdGFyZ2V0KSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKHNlbGYuX3JlYWR5Q2FsbGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNlbGYuX3JlYWR5Q2FsbGVkID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7XG4gICAgc2VsZi5jYW5jZWwoKTtcbiAgfVxuICBzcmMub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgdGFyZ2V0Lm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICAgIHRhcmdldC5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgfVxuICBzZWxmLm9uY2UoJ2NvbXBsZXRlJywgY2xlYW51cCk7XG4gIHNlbGYub25jZSgnZXJyb3InLCBjbGVhbnVwKTtcbn07XG5cbmZ1bmN0aW9uIHRvUG91Y2goZGIsIG9wdHMpIHtcbiAgdmFyIFBvdWNoQ29uc3RydWN0b3IgPSBvcHRzLlBvdWNoQ29uc3RydWN0b3I7XG4gIGlmICh0eXBlb2YgZGIgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG5ldyBQb3VjaENvbnN0cnVjdG9yKGRiLCBvcHRzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGI7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVwbGljYXRlV3JhcHBlcihzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spIHtcblxuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBpZiAob3B0cy5kb2NfaWRzICYmICFBcnJheS5pc0FycmF5KG9wdHMuZG9jX2lkcykpIHtcbiAgICB0aHJvdyBjcmVhdGVFcnJvcihCQURfUkVRVUVTVCxcbiAgICAgICAgICAgICAgICAgICAgICAgXCJgZG9jX2lkc2AgZmlsdGVyIHBhcmFtZXRlciBpcyBub3QgYSBsaXN0LlwiKTtcbiAgfVxuXG4gIG9wdHMuY29tcGxldGUgPSBjYWxsYmFjaztcbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuICBvcHRzLmNvbnRpbnVvdXMgPSBvcHRzLmNvbnRpbnVvdXMgfHwgb3B0cy5saXZlO1xuICBvcHRzLnJldHJ5ID0gKCdyZXRyeScgaW4gb3B0cykgPyBvcHRzLnJldHJ5IDogZmFsc2U7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIG9wdHMuUG91Y2hDb25zdHJ1Y3RvciA9IG9wdHMuUG91Y2hDb25zdHJ1Y3RvciB8fCB0aGlzO1xuICB2YXIgcmVwbGljYXRlUmV0ID0gbmV3IFJlcGxpY2F0aW9uKG9wdHMpO1xuICB2YXIgc3JjUG91Y2ggPSB0b1BvdWNoKHNyYywgb3B0cyk7XG4gIHZhciB0YXJnZXRQb3VjaCA9IHRvUG91Y2godGFyZ2V0LCBvcHRzKTtcbiAgcmVwbGljYXRlKHNyY1BvdWNoLCB0YXJnZXRQb3VjaCwgb3B0cywgcmVwbGljYXRlUmV0KTtcbiAgcmV0dXJuIHJlcGxpY2F0ZVJldDtcbn1cblxuaW5oZXJpdHMoU3luYywgRUUpO1xuZnVuY3Rpb24gc3luYyhzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIG9wdHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgb3B0cy5Qb3VjaENvbnN0cnVjdG9yID0gb3B0cy5Qb3VjaENvbnN0cnVjdG9yIHx8IHRoaXM7XG4gIHNyYyA9IHRvUG91Y2goc3JjLCBvcHRzKTtcbiAgdGFyZ2V0ID0gdG9Qb3VjaCh0YXJnZXQsIG9wdHMpO1xuICByZXR1cm4gbmV3IFN5bmMoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKTtcbn1cblxuZnVuY3Rpb24gU3luYyhzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLmNhbmNlbGVkID0gZmFsc2U7XG5cbiAgdmFyIG9wdHNQdXNoID0gb3B0cy5wdXNoID8gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBvcHRzLCBvcHRzLnB1c2gpIDogb3B0cztcbiAgdmFyIG9wdHNQdWxsID0gb3B0cy5wdWxsID8gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBvcHRzLCBvcHRzLnB1bGwpIDogb3B0cztcblxuICB0aGlzLnB1c2ggPSByZXBsaWNhdGVXcmFwcGVyKHNyYywgdGFyZ2V0LCBvcHRzUHVzaCk7XG4gIHRoaXMucHVsbCA9IHJlcGxpY2F0ZVdyYXBwZXIodGFyZ2V0LCBzcmMsIG9wdHNQdWxsKTtcblxuICB0aGlzLnB1c2hQYXVzZWQgPSB0cnVlO1xuICB0aGlzLnB1bGxQYXVzZWQgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIHB1bGxDaGFuZ2UoY2hhbmdlKSB7XG4gICAgc2VsZi5lbWl0KCdjaGFuZ2UnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdWxsJyxcbiAgICAgIGNoYW5nZTogY2hhbmdlXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaENoYW5nZShjaGFuZ2UpIHtcbiAgICBzZWxmLmVtaXQoJ2NoYW5nZScsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1c2gnLFxuICAgICAgY2hhbmdlOiBjaGFuZ2VcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoRGVuaWVkKGRvYykge1xuICAgIHNlbGYuZW1pdCgnZGVuaWVkJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVzaCcsXG4gICAgICBkb2M6IGRvY1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1bGxEZW5pZWQoZG9jKSB7XG4gICAgc2VsZi5lbWl0KCdkZW5pZWQnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdWxsJyxcbiAgICAgIGRvYzogZG9jXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaFBhdXNlZCgpIHtcbiAgICBzZWxmLnB1c2hQYXVzZWQgPSB0cnVlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1bGxQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgncGF1c2VkJyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1bGxQYXVzZWQoKSB7XG4gICAgc2VsZi5wdWxsUGF1c2VkID0gdHJ1ZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdXNoUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ3BhdXNlZCcpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwdXNoQWN0aXZlKCkge1xuICAgIHNlbGYucHVzaFBhdXNlZCA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1bGxQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgnYWN0aXZlJywge1xuICAgICAgICBkaXJlY3Rpb246ICdwdXNoJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1bGxBY3RpdmUoKSB7XG4gICAgc2VsZi5wdWxsUGF1c2VkID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVzaFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdhY3RpdmUnLCB7XG4gICAgICAgIGRpcmVjdGlvbjogJ3B1bGwnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YXIgcmVtb3ZlZCA9IHt9O1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUFsbCh0eXBlKSB7IC8vIHR5cGUgaXMgJ3B1c2gnIG9yICdwdWxsJ1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcbiAgICAgIHZhciBpc0NoYW5nZSA9IGV2ZW50ID09PSAnY2hhbmdlJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbENoYW5nZSB8fCBmdW5jID09PSBwdXNoQ2hhbmdlKTtcbiAgICAgIHZhciBpc0RlbmllZCA9IGV2ZW50ID09PSAnZGVuaWVkJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbERlbmllZCB8fCBmdW5jID09PSBwdXNoRGVuaWVkKTtcbiAgICAgIHZhciBpc1BhdXNlZCA9IGV2ZW50ID09PSAncGF1c2VkJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbFBhdXNlZCB8fCBmdW5jID09PSBwdXNoUGF1c2VkKTtcbiAgICAgIHZhciBpc0FjdGl2ZSA9IGV2ZW50ID09PSAnYWN0aXZlJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbEFjdGl2ZSB8fCBmdW5jID09PSBwdXNoQWN0aXZlKTtcblxuICAgICAgaWYgKGlzQ2hhbmdlIHx8IGlzRGVuaWVkIHx8IGlzUGF1c2VkIHx8IGlzQWN0aXZlKSB7XG4gICAgICAgIGlmICghKGV2ZW50IGluIHJlbW92ZWQpKSB7XG4gICAgICAgICAgcmVtb3ZlZFtldmVudF0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVkW2V2ZW50XVt0eXBlXSA9IHRydWU7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhyZW1vdmVkW2V2ZW50XSkubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgLy8gYm90aCBwdXNoIGFuZCBwdWxsIGhhdmUgYXNrZWQgdG8gYmUgcmVtb3ZlZFxuICAgICAgICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBpZiAob3B0cy5saXZlKSB7XG4gICAgdGhpcy5wdXNoLm9uKCdjb21wbGV0ZScsIHNlbGYucHVsbC5jYW5jZWwuYmluZChzZWxmLnB1bGwpKTtcbiAgICB0aGlzLnB1bGwub24oJ2NvbXBsZXRlJywgc2VsZi5wdXNoLmNhbmNlbC5iaW5kKHNlbGYucHVzaCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkT25lTGlzdGVuZXIoZWUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGlmIChlZS5saXN0ZW5lcnMoZXZlbnQpLmluZGV4T2YobGlzdGVuZXIpID09IC0xKSB7XG4gICAgICBlZS5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMub24oJ25ld0xpc3RlbmVyJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ID09PSAnY2hhbmdlJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAnY2hhbmdlJywgcHVsbENoYW5nZSk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdjaGFuZ2UnLCBwdXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZGVuaWVkJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAnZGVuaWVkJywgcHVsbERlbmllZCk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdkZW5pZWQnLCBwdXNoRGVuaWVkKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnYWN0aXZlJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAnYWN0aXZlJywgcHVsbEFjdGl2ZSk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdhY3RpdmUnLCBwdXNoQWN0aXZlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAncGF1c2VkJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAncGF1c2VkJywgcHVsbFBhdXNlZCk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdwYXVzZWQnLCBwdXNoUGF1c2VkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMub24oJ3JlbW92ZUxpc3RlbmVyJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ID09PSAnY2hhbmdlJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCBwdWxsQ2hhbmdlKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgcHVzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2RlbmllZCcpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcignZGVuaWVkJywgcHVsbERlbmllZCk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ2RlbmllZCcsIHB1c2hEZW5pZWQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdhY3RpdmUnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ2FjdGl2ZScsIHB1bGxBY3RpdmUpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdhY3RpdmUnLCBwdXNoQWN0aXZlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAncGF1c2VkJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdwYXVzZWQnLCBwdWxsUGF1c2VkKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcigncGF1c2VkJywgcHVzaFBhdXNlZCk7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnB1bGwub24oJ3JlbW92ZUxpc3RlbmVyJywgcmVtb3ZlQWxsKCdwdWxsJykpO1xuICB0aGlzLnB1c2gub24oJ3JlbW92ZUxpc3RlbmVyJywgcmVtb3ZlQWxsKCdwdXNoJykpO1xuXG4gIHZhciBwcm9taXNlID0gUHJvbWlzZS5hbGwoW1xuICAgIHRoaXMucHVzaCxcbiAgICB0aGlzLnB1bGxcbiAgXSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgIHZhciBvdXQgPSB7XG4gICAgICBwdXNoOiByZXNwWzBdLFxuICAgICAgcHVsbDogcmVzcFsxXVxuICAgIH07XG4gICAgc2VsZi5lbWl0KCdjb21wbGV0ZScsIG91dCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBvdXQpO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHJldHVybiBvdXQ7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBzZWxmLmNhbmNlbCgpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgLy8gaWYgdGhlcmUncyBhIGNhbGxiYWNrLCB0aGVuIHRoZSBjYWxsYmFjayBjYW4gcmVjZWl2ZVxuICAgICAgLy8gdGhlIGVycm9yIGV2ZW50XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiB0aGVyZSdzIG5vIGNhbGxiYWNrLCB0aGVuIHdlJ3JlIHNhZmUgdG8gZW1pdCBhbiBlcnJvclxuICAgICAgLy8gZXZlbnQsIHdoaWNoIHdvdWxkIG90aGVyd2lzZSB0aHJvdyBhbiB1bmhhbmRsZWQgZXJyb3JcbiAgICAgIC8vIGR1ZSB0byAnZXJyb3InIGJlaW5nIGEgc3BlY2lhbCBldmVudCBpbiBFdmVudEVtaXR0ZXJzXG4gICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICB9XG4gICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIC8vIG5vIHNlbnNlIHRocm93aW5nIGlmIHdlJ3JlIGFscmVhZHkgZW1pdHRpbmcgYW4gJ2Vycm9yJyBldmVudFxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy50aGVuID0gZnVuY3Rpb24gKHN1Y2Nlc3MsIGVycikge1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oc3VjY2VzcywgZXJyKTtcbiAgfTtcblxuICB0aGlzLmNhdGNoID0gZnVuY3Rpb24gKGVycikge1xuICAgIHJldHVybiBwcm9taXNlLmNhdGNoKGVycik7XG4gIH07XG59XG5cblN5bmMucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLmNhbmNlbGVkKSB7XG4gICAgdGhpcy5jYW5jZWxlZCA9IHRydWU7XG4gICAgdGhpcy5wdXNoLmNhbmNlbCgpO1xuICAgIHRoaXMucHVsbC5jYW5jZWwoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcmVwbGljYXRpb24oUG91Y2hEQikge1xuICBQb3VjaERCLnJlcGxpY2F0ZSA9IHJlcGxpY2F0ZVdyYXBwZXI7XG4gIFBvdWNoREIuc3luYyA9IHN5bmM7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBvdWNoREIucHJvdG90eXBlLCAncmVwbGljYXRlJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLnJlcGxpY2F0ZU1ldGhvZHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMucmVwbGljYXRlTWV0aG9kcyA9IHtcbiAgICAgICAgICBmcm9tOiBmdW5jdGlvbiAob3RoZXIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jb25zdHJ1Y3Rvci5yZXBsaWNhdGUob3RoZXIsIHNlbGYsIG9wdHMsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvOiBmdW5jdGlvbiAob3RoZXIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jb25zdHJ1Y3Rvci5yZXBsaWNhdGUoc2VsZiwgb3RoZXIsIG9wdHMsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZXBsaWNhdGVNZXRob2RzO1xuICAgIH1cbiAgfSk7XG5cbiAgUG91Y2hEQi5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uIChkYk5hbWUsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3Iuc3luYyh0aGlzLCBkYk5hbWUsIG9wdHMsIGNhbGxiYWNrKTtcbiAgfTtcbn1cblxuUG91Y2hEQi5wbHVnaW4oSURCUG91Y2gpXG4gIC5wbHVnaW4oSHR0cFBvdWNoJDEpXG4gIC5wbHVnaW4obWFwcmVkdWNlKVxuICAucGx1Z2luKHJlcGxpY2F0aW9uKTtcblxuLy8gUHVsbCBmcm9tIHNyYyBiZWNhdXNlIHBvdWNoZGItbm9kZS9wb3VjaGRiLWJyb3dzZXIgdGhlbXNlbHZlc1xuXG5leHBvcnQgZGVmYXVsdCBQb3VjaERCO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIExvZGFzaCA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIENvcHlyaWdodCBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL29wZW5qc2Yub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuOyhmdW5jdGlvbigpIHtcblxuICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUtRVM1IGVudmlyb25tZW50cy4gKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCBhcyB0aGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuICovXG4gIHZhciBWRVJTSU9OID0gJzQuMTcuMjEnO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuICAvKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG4gIHZhciBDT1JFX0VSUk9SX1RFWFQgPSAnVW5zdXBwb3J0ZWQgY29yZS1qcyB1c2UuIFRyeSBodHRwczovL25wbXMuaW8vc2VhcmNoP3E9cG9ueWZpbGwuJyxcbiAgICAgIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJyxcbiAgICAgIElOVkFMSURfVEVNUExfVkFSX0VSUk9SX1RFWFQgPSAnSW52YWxpZCBgdmFyaWFibGVgIG9wdGlvbiBwYXNzZWQgaW50byBgXy50ZW1wbGF0ZWAnO1xuXG4gIC8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbiAgdmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBtYXhpbXVtIG1lbW9pemUgY2FjaGUgc2l6ZS4gKi9cbiAgdmFyIE1BWF9NRU1PSVpFX1NJWkUgPSA1MDA7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIGludGVybmFsIGFyZ3VtZW50IHBsYWNlaG9sZGVyLiAqL1xuICB2YXIgUExBQ0VIT0xERVIgPSAnX19sb2Rhc2hfcGxhY2Vob2xkZXJfXyc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgY2xvbmluZy4gKi9cbiAgdmFyIENMT05FX0RFRVBfRkxBRyA9IDEsXG4gICAgICBDTE9ORV9GTEFUX0ZMQUcgPSAyLFxuICAgICAgQ0xPTkVfU1lNQk9MU19GTEFHID0gNDtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB2YWx1ZSBjb21wYXJpc29ucy4gKi9cbiAgdmFyIENPTVBBUkVfUEFSVElBTF9GTEFHID0gMSxcbiAgICAgIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcgPSAyO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICB2YXIgV1JBUF9CSU5EX0ZMQUcgPSAxLFxuICAgICAgV1JBUF9CSU5EX0tFWV9GTEFHID0gMixcbiAgICAgIFdSQVBfQ1VSUllfQk9VTkRfRkxBRyA9IDQsXG4gICAgICBXUkFQX0NVUlJZX0ZMQUcgPSA4LFxuICAgICAgV1JBUF9DVVJSWV9SSUdIVF9GTEFHID0gMTYsXG4gICAgICBXUkFQX1BBUlRJQUxfRkxBRyA9IDMyLFxuICAgICAgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgPSA2NCxcbiAgICAgIFdSQVBfQVJZX0ZMQUcgPSAxMjgsXG4gICAgICBXUkFQX1JFQVJHX0ZMQUcgPSAyNTYsXG4gICAgICBXUkFQX0ZMSVBfRkxBRyA9IDUxMjtcblxuICAvKiogVXNlZCBhcyBkZWZhdWx0IG9wdGlvbnMgZm9yIGBfLnRydW5jYXRlYC4gKi9cbiAgdmFyIERFRkFVTFRfVFJVTkNfTEVOR1RIID0gMzAsXG4gICAgICBERUZBVUxUX1RSVU5DX09NSVNTSU9OID0gJy4uLic7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xuICB2YXIgSE9UX0NPVU5UID0gODAwLFxuICAgICAgSE9UX1NQQU4gPSAxNjtcblxuICAvKiogVXNlZCB0byBpbmRpY2F0ZSB0aGUgdHlwZSBvZiBsYXp5IGl0ZXJhdGVlcy4gKi9cbiAgdmFyIExBWllfRklMVEVSX0ZMQUcgPSAxLFxuICAgICAgTEFaWV9NQVBfRkxBRyA9IDIsXG4gICAgICBMQVpZX1dISUxFX0ZMQUcgPSAzO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xuICB2YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxLFxuICAgICAgTUFYX0lOVEVHRVIgPSAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOCxcbiAgICAgIE5BTiA9IDAgLyAwO1xuXG4gIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHRoZSBtYXhpbXVtIGxlbmd0aCBhbmQgaW5kZXggb2YgYW4gYXJyYXkuICovXG4gIHZhciBNQVhfQVJSQVlfTEVOR1RIID0gNDI5NDk2NzI5NSxcbiAgICAgIE1BWF9BUlJBWV9JTkRFWCA9IE1BWF9BUlJBWV9MRU5HVEggLSAxLFxuICAgICAgSEFMRl9NQVhfQVJSQVlfTEVOR1RIID0gTUFYX0FSUkFZX0xFTkdUSCA+Pj4gMTtcblxuICAvKiogVXNlZCB0byBhc3NvY2lhdGUgd3JhcCBtZXRob2RzIHdpdGggdGhlaXIgYml0IGZsYWdzLiAqL1xuICB2YXIgd3JhcEZsYWdzID0gW1xuICAgIFsnYXJ5JywgV1JBUF9BUllfRkxBR10sXG4gICAgWydiaW5kJywgV1JBUF9CSU5EX0ZMQUddLFxuICAgIFsnYmluZEtleScsIFdSQVBfQklORF9LRVlfRkxBR10sXG4gICAgWydjdXJyeScsIFdSQVBfQ1VSUllfRkxBR10sXG4gICAgWydjdXJyeVJpZ2h0JywgV1JBUF9DVVJSWV9SSUdIVF9GTEFHXSxcbiAgICBbJ2ZsaXAnLCBXUkFQX0ZMSVBfRkxBR10sXG4gICAgWydwYXJ0aWFsJywgV1JBUF9QQVJUSUFMX0ZMQUddLFxuICAgIFsncGFydGlhbFJpZ2h0JywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUddLFxuICAgIFsncmVhcmcnLCBXUkFQX1JFQVJHX0ZMQUddXG4gIF07XG5cbiAgLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuICB2YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgICBib29sVGFnID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICAgIGRvbUV4Y1RhZyA9ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nLFxuICAgICAgZXJyb3JUYWcgPSAnW29iamVjdCBFcnJvcl0nLFxuICAgICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgICBudW1iZXJUYWcgPSAnW29iamVjdCBOdW1iZXJdJyxcbiAgICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgICBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJyxcbiAgICAgIHByb21pc2VUYWcgPSAnW29iamVjdCBQcm9taXNlXScsXG4gICAgICBwcm94eVRhZyA9ICdbb2JqZWN0IFByb3h5XScsXG4gICAgICByZWdleHBUYWcgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgICBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJyxcbiAgICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJyxcbiAgICAgIHdlYWtTZXRUYWcgPSAnW29iamVjdCBXZWFrU2V0XSc7XG5cbiAgdmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICAgIGRhdGFWaWV3VGFnID0gJ1tvYmplY3QgRGF0YVZpZXddJyxcbiAgICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICAgIGludDhUYWcgPSAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICB1aW50OFRhZyA9ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICAgdWludDMyVGFnID0gJ1tvYmplY3QgVWludDMyQXJyYXldJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBlbXB0eSBzdHJpbmcgbGl0ZXJhbHMgaW4gY29tcGlsZWQgdGVtcGxhdGUgc291cmNlLiAqL1xuICB2YXIgcmVFbXB0eVN0cmluZ0xlYWRpbmcgPSAvXFxiX19wIFxcKz0gJyc7L2csXG4gICAgICByZUVtcHR5U3RyaW5nTWlkZGxlID0gL1xcYihfX3AgXFwrPSkgJycgXFwrL2csXG4gICAgICByZUVtcHR5U3RyaW5nVHJhaWxpbmcgPSAvKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIEhUTUwgZW50aXRpZXMgYW5kIEhUTUwgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlZEh0bWwgPSAvJig/OmFtcHxsdHxndHxxdW90fCMzOSk7L2csXG4gICAgICByZVVuZXNjYXBlZEh0bWwgPSAvWyY8PlwiJ10vZyxcbiAgICAgIHJlSGFzRXNjYXBlZEh0bWwgPSBSZWdFeHAocmVFc2NhcGVkSHRtbC5zb3VyY2UpLFxuICAgICAgcmVIYXNVbmVzY2FwZWRIdG1sID0gUmVnRXhwKHJlVW5lc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZUVzY2FwZSA9IC88JS0oW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVFdmFsdWF0ZSA9IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUludGVycG9sYXRlID0gLzwlPShbXFxzXFxTXSs/KSU+L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVJc0RlZXBQcm9wID0gL1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxcbiAgICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICAgIHJlUHJvcE5hbWUgPSAvW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JCkpL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAgICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gICAqL1xuICB2YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nLFxuICAgICAgcmVIYXNSZWdFeHBDaGFyID0gUmVnRXhwKHJlUmVnRXhwQ2hhci5zb3VyY2UpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgd2hpdGVzcGFjZS4gKi9cbiAgdmFyIHJlVHJpbVN0YXJ0ID0gL15cXHMrLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhIHNpbmdsZSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci4gKi9cbiAgdmFyIHJlV2hpdGVzcGFjZSA9IC9cXHMvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdyYXAgZGV0YWlsIGNvbW1lbnRzLiAqL1xuICB2YXIgcmVXcmFwQ29tbWVudCA9IC9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sXG4gICAgICByZVdyYXBEZXRhaWxzID0gL1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLFxuICAgICAgcmVTcGxpdERldGFpbHMgPSAvLD8gJiAvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVBc2NpaVdvcmQgPSAvW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gdmFsaWRhdGUgdGhlIGB2YWxpZGF0ZWAgb3B0aW9uIGluIGBfLnRlbXBsYXRlYCB2YXJpYWJsZS5cbiAgICpcbiAgICogRm9yYmlkcyBjaGFyYWN0ZXJzIHdoaWNoIGNvdWxkIHBvdGVudGlhbGx5IGNoYW5nZSB0aGUgbWVhbmluZyBvZiB0aGUgZnVuY3Rpb24gYXJndW1lbnQgZGVmaW5pdGlvbjpcbiAgICogLSBcIigpLFwiIChtb2RpZmljYXRpb24gb2YgZnVuY3Rpb24gcGFyYW1ldGVycylcbiAgICogLSBcIj1cIiAoZGVmYXVsdCB2YWx1ZSlcbiAgICogLSBcIltde31cIiAoZGVzdHJ1Y3R1cmluZyBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiL1wiIChiZWdpbm5pbmcgb2YgYSBjb21tZW50KVxuICAgKiAtIHdoaXRlc3BhY2VcbiAgICovXG4gIHZhciByZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycyA9IC9bKCk9LHt9XFxbXFxdXFwvXFxzXS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaFxuICAgKiBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLlxuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG4gIHZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbiAgLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbiAgdmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmJyxcbiAgICAgIHJlQ29tYm9IYWxmTWFya3NSYW5nZSA9ICdcXFxcdWZlMjAtXFxcXHVmZTJmJyxcbiAgICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmZicsXG4gICAgICByc0NvbWJvUmFuZ2UgPSByc0NvbWJvTWFya3NSYW5nZSArIHJlQ29tYm9IYWxmTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UsXG4gICAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3JyxcbiAgICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuICAgICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xuICB2YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgICByc0FzdHJhbCA9ICdbJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9SYW5nZSArICddJyxcbiAgICAgIHJzRGlnaXRzID0gJ1xcXFxkKycsXG4gICAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgICByc01pc2MgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArIHJzQnJlYWtSYW5nZSArIHJzRGlnaXRzICsgcnNEaW5nYmF0UmFuZ2UgKyByc0xvd2VyUmFuZ2UgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICAgIHJzVXBwZXIgPSAnWycgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xuICB2YXIgcnNNaXNjTG93ZXIgPSAnKD86JyArIHJzTG93ZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc01pc2NVcHBlciA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzT3B0Q29udHJMb3dlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgICAgcnNPcHRDb250clVwcGVyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86RHxMTHxNfFJFfFN8VHxWRSkpPycsXG4gICAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgICAgcnNPcHRKb2luID0gJyg/OicgKyByc1pXSiArICcoPzonICsgW3JzTm9uQXN0cmFsLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciArIHJlT3B0TW9kICsgJykqJyxcbiAgICAgIHJzT3JkTG93ZXIgPSAnXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pJyxcbiAgICAgIHJzT3JkVXBwZXIgPSAnXFxcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxcXGRUSCkoPz1cXFxcYnxbYS16X10pJyxcbiAgICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuICAgICAgcnNTeW1ib2wgPSAnKD86JyArIFtyc05vbkFzdHJhbCArIHJzQ29tYm8gKyAnPycsIHJzQ29tYm8sIHJzUmVnaW9uYWwsIHJzU3VyclBhaXIsIHJzQXN0cmFsXS5qb2luKCd8JykgKyAnKSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG4gIHZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gICAqL1xuICB2YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xuICB2YXIgcmVVbmljb2RlID0gUmVnRXhwKHJzRml0eiArICcoPz0nICsgcnNGaXR6ICsgJyl8JyArIHJzU3ltYm9sICsgcnNTZXEsICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbiAgdmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICAgIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNNaXNjVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNNaXNjTG93ZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzVXBwZXIgKyAnPycgKyByc01pc2NMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlcixcbiAgICByc1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyLFxuICAgIHJzT3JkVXBwZXIsXG4gICAgcnNPcmRMb3dlcixcbiAgICByc0RpZ2l0cyxcbiAgICByc0Vtb2ppXG4gIF0uam9pbignfCcpLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHdpdGggW3plcm8td2lkdGggam9pbmVycyBvciBjb2RlIHBvaW50cyBmcm9tIHRoZSBhc3RyYWwgcGxhbmVzXShodHRwOi8vZWV2LmVlL2Jsb2cvMjAxNS8wOS8xMi9kYXJrLWNvcm5lcnMtb2YtdW5pY29kZS8pLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG4gIHZhciByZUhhc1VuaWNvZGVXb3JkID0gL1thLXpdW0EtWl18W0EtWl17Mn1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbiAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzLiAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCdWZmZXInLCAnRGF0YVZpZXcnLCAnRGF0ZScsICdFcnJvcicsICdGbG9hdDMyQXJyYXknLCAnRmxvYXQ2NEFycmF5JyxcbiAgICAnRnVuY3Rpb24nLCAnSW50OEFycmF5JywgJ0ludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdNYXAnLCAnTWF0aCcsICdPYmplY3QnLFxuICAgICdQcm9taXNlJywgJ1JlZ0V4cCcsICdTZXQnLCAnU3RyaW5nJywgJ1N5bWJvbCcsICdUeXBlRXJyb3InLCAnVWludDhBcnJheScsXG4gICAgJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ1VpbnQxNkFycmF5JywgJ1VpbnQzMkFycmF5JywgJ1dlYWtNYXAnLFxuICAgICdfJywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkuICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAtMTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG4gIHZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xuICB0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICB0eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi9cbiAgdmFyIGNsb25lYWJsZVRhZ3MgPSB7fTtcbiAgY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cbiAgY2xvbmVhYmxlVGFnc1thcnJheUJ1ZmZlclRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGFWaWV3VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYm9vbFRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGVUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDhUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQxNlRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbbWFwVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc2V0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbc3RyaW5nVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc3ltYm9sVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgY2xvbmVhYmxlVGFnc1tlcnJvclRhZ10gPSBjbG9uZWFibGVUYWdzW2Z1bmNUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbiAgdmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQgYmxvY2suXG4gICAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICAgJ1xceGM3JzogJ0MnLCAgJ1xceGU3JzogJ2MnLFxuICAgICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAgICdcXHhlOCc6ICdlJywgICdcXHhlOSc6ICdlJywgJ1xceGVhJzogJ2UnLCAnXFx4ZWInOiAnZScsXG4gICAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAgICdcXHhkMSc6ICdOJywgICdcXHhmMSc6ICduJyxcbiAgICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgICAnXFx4ZDknOiAnVScsICAnXFx4ZGEnOiAnVScsICdcXHhkYic6ICdVJywgJ1xceGRjJzogJ1UnLFxuICAgICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICAgJ1xceGM2JzogJ0FlJywgJ1xceGU2JzogJ2FlJyxcbiAgICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAgICdcXHhkZic6ICdzcycsXG4gICAgLy8gTGF0aW4gRXh0ZW5kZWQtQSBibG9jay5cbiAgICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgICAnXFx1MDEwNic6ICdDJywgICdcXHUwMTA4JzogJ0MnLCAnXFx1MDEwYSc6ICdDJywgJ1xcdTAxMGMnOiAnQycsXG4gICAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAgICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgICAnXFx1MDExMic6ICdFJywgICdcXHUwMTE0JzogJ0UnLCAnXFx1MDExNic6ICdFJywgJ1xcdTAxMTgnOiAnRScsICdcXHUwMTFhJzogJ0UnLFxuICAgICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAgICdcXHUwMTFkJzogJ2cnLCAgJ1xcdTAxMWYnOiAnZycsICdcXHUwMTIxJzogJ2cnLCAnXFx1MDEyMyc6ICdnJyxcbiAgICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgICAnXFx1MDEyOSc6ICdpJywgICdcXHUwMTJiJzogJ2knLCAnXFx1MDEyZCc6ICdpJywgJ1xcdTAxMmYnOiAnaScsICdcXHUwMTMxJzogJ2knLFxuICAgICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICAgJ1xcdTAxMzknOiAnTCcsICAnXFx1MDEzYic6ICdMJywgJ1xcdTAxM2QnOiAnTCcsICdcXHUwMTNmJzogJ0wnLCAnXFx1MDE0MSc6ICdMJyxcbiAgICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAgICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgICAnXFx1MDE0NCc6ICduJywgICdcXHUwMTQ2JzogJ24nLCAnXFx1MDE0OCc6ICduJywgJ1xcdTAxNGInOiAnbicsXG4gICAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICAgJ1xcdTAxNTQnOiAnUicsICAnXFx1MDE1Nic6ICdSJywgJ1xcdTAxNTgnOiAnUicsXG4gICAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAgICdcXHUwMTViJzogJ3MnLCAgJ1xcdTAxNWQnOiAncycsICdcXHUwMTVmJzogJ3MnLCAnXFx1MDE2MSc6ICdzJyxcbiAgICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgICAnXFx1MDE2OCc6ICdVJywgICdcXHUwMTZhJzogJ1UnLCAnXFx1MDE2Yyc6ICdVJywgJ1xcdTAxNmUnOiAnVScsICdcXHUwMTcwJzogJ1UnLCAnXFx1MDE3Mic6ICdVJyxcbiAgICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAgICdcXHUwMTc2JzogJ1knLCAgJ1xcdTAxNzcnOiAneScsICdcXHUwMTc4JzogJ1knLFxuICAgICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAgICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAgICdcXHUwMTMyJzogJ0lKJywgJ1xcdTAxMzMnOiAnaWonLFxuICAgICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAgICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzJ1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG4gIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgaHRtbFVuZXNjYXBlcyA9IHtcbiAgICAnJmFtcDsnOiAnJicsXG4gICAgJyZsdDsnOiAnPCcsXG4gICAgJyZndDsnOiAnPicsXG4gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgJyYjMzk7JzogXCInXCJcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbiAgdmFyIGZyZWVQYXJzZUZsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbiAgLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG4gIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgICAgaWYgKHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgIH1cblxuICAgICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCkpO1xuXG4gIC8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG4gIHZhciBub2RlSXNBcnJheUJ1ZmZlciA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzQXJyYXlCdWZmZXIsXG4gICAgICBub2RlSXNEYXRlID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNEYXRlLFxuICAgICAgbm9kZUlzTWFwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNNYXAsXG4gICAgICBub2RlSXNSZWdFeHAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1JlZ0V4cCxcbiAgICAgIG5vZGVJc1NldCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzU2V0LFxuICAgICAgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUFnZ3JlZ2F0b3JgIGZvciBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5QWdncmVnYXRvcihhcnJheSwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2goYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2hSaWdodChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZXZlcnlgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RXZlcnkoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogc3BlY2lmeWluZyBhbiBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlcyhhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuICEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgMCkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFycmF5SW5jbHVkZXNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXNXaXRoKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2VSaWdodChhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbLS1sZW5ndGhdO1xuICAgIH1cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYW4gQVNDSUkgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIHZhciBhc2NpaVNpemUgPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhbiBBU0NJSSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmZpbmRLZXlgIGFuZCBgXy5maW5kTGFzdEtleWAsXG4gICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmBcbiAgICogdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCBvciBpdHMga2V5LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRLZXkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBlYWNoRnVuYykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlSW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2ZXaXRoKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmFOYCB3aXRob3V0IHN1cHBvcnQgZm9yIG51bWJlciBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc05hTih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVhbmAgYW5kIGBfLm1lYW5CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZU1lYW4oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBsZW5ndGggPyAoYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIC8gbGVuZ3RoKSA6IE5BTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlZHVjZWAgYW5kIGBfLnJlZHVjZVJpZ2h0YCwgd2l0aG91dCBzdXBwb3J0XG4gICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZlxuICAgKiAgYGNvbGxlY3Rpb25gIGFzIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgZWFjaEZ1bmMpIHtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaW5pdEFjY3VtXG4gICAgICAgID8gKGluaXRBY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgOiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuICAgKiBzb3J0IG9yZGVyIG9mIGBhcnJheWAgYW5kIHJlcGxhY2VzIGNyaXRlcmlhIG9iamVjdHMgd2l0aCB0aGVpciBjb3JyZXNwb25kaW5nXG4gICAqIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFycmF5W2xlbmd0aF0gPSBhcnJheVtsZW5ndGhdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc3VtYCBhbmQgYF8uc3VtQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBpdGVyYXRlZShhcnJheVtpbmRleF0pO1xuICAgICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGN1cnJlbnQgOiAocmVzdWx0ICsgY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvUGFpcnNgIGFuZCBgXy50b1BhaXJzSW5gIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXlcbiAgICogb2Yga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRvUGFpcnMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gW2tleSwgb2JqZWN0W2tleV1dO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRyaW1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVHJpbShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nXG4gICAgICA/IHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKVxuICAgICAgOiBzdHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy52YWx1ZXNgIGFuZCBgXy52YWx1ZXNJbmAgd2hpY2ggY3JlYXRlcyBhblxuICAgKiBhcnJheSBvZiBgb2JqZWN0YCBwcm9wZXJ0eSB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXNcbiAgICogb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VWYWx1ZXMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGEgYGNhY2hlYCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gY2FjaGUgVGhlIGNhY2hlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICAgIHJldHVybiBjYWNoZS5oYXMoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltU3RhcnRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHN0cmluZyBzeW1ib2xcbiAgICogdGhhdCBpcyBub3QgZm91bmQgaW4gdGhlIGNoYXJhY3RlciBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHJTeW1ib2xzIFRoZSBzdHJpbmcgc3ltYm9scyB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0FycmF5fSBjaHJTeW1ib2xzIFRoZSBjaGFyYWN0ZXIgc3ltYm9scyB0byBmaW5kLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykge1xuICAgIHZhciBpbmRleCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGluZGV4LS0gJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBgcGxhY2Vob2xkZXJgIG9jY3VycmVuY2VzIGluIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciBjb3VudC5cbiAgICovXG4gIGZ1bmN0aW9uIGNvdW50SG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSAwO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoYXJyYXlbbGVuZ3RoXSA9PT0gcGxhY2Vob2xkZXIpIHtcbiAgICAgICAgKytyZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy5kZWJ1cnJgIHRvIGNvbnZlcnQgTGF0aW4tMSBTdXBwbGVtZW50IGFuZCBMYXRpbiBFeHRlbmRlZC1BXG4gICAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxldHRlciBUaGUgbWF0Y2hlZCBsZXR0ZXIgdG8gZGVidXJyLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBsZXR0ZXIuXG4gICAqL1xuICB2YXIgZGVidXJyTGV0dGVyID0gYmFzZVByb3BlcnR5T2YoZGVidXJyZWRMZXR0ZXJzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy5lc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIGVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbEVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnRlbXBsYXRlYCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIGZ1bmN0aW9uIGVzY2FwZVN0cmluZ0NoYXIoY2hyKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbY2hyXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSBzeW1ib2wgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZS50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIGEgd29yZCBjb21wb3NlZCBvZiBVbmljb2RlIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSB3b3JkIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlV29yZChzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlV29yZC50ZXN0KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYGl0ZXJhdG9yYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZXJhdG9yIFRoZSBpdGVyYXRvciB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGl0ZXJhdG9yVG9BcnJheShpdGVyYXRvcikge1xuICAgIHZhciBkYXRhLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICghKGRhdGEgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGRhdGEudmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBtYXBgIHRvIGl0cyBrZXktdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTtcblxuICAgIG1hcC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGFsbCBgcGxhY2Vob2xkZXJgIGVsZW1lbnRzIGluIGBhcnJheWAgd2l0aCBhbiBpbnRlcm5hbCBwbGFjZWhvbGRlclxuICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGVpciBpbmRleGVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byByZXBsYWNlLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZUhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAodmFsdWUgPT09IHBsYWNlaG9sZGVyIHx8IHZhbHVlID09PSBQTEFDRUhPTERFUikge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBQTEFDRUhPTERFUjtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gYW4gYXJyYXkgb2YgaXRzIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9BcnJheShzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHNldGAgdG8gaXRzIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvUGFpcnMoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBbdmFsdWUsIHZhbHVlXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5sYXN0SW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggKyAxO1xuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2Ygc3ltYm9scyBpbiBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nU2l6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVTaXplKHN0cmluZylcbiAgICAgIDogYXNjaWlTaXplKHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlVG9BcnJheShzdHJpbmcpXG4gICAgICA6IGFzY2lpVG9BcnJheShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2VcbiAgICogY2hhcmFjdGVyIG9mIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gdHJpbW1lZEVuZEluZGV4KHN0cmluZykge1xuICAgIHZhciBpbmRleCA9IHN0cmluZy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiByZVdoaXRlc3BhY2UudGVzdChzdHJpbmcuY2hhckF0KGluZGV4KSkpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udW5lc2NhcGVgIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byB1bmVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciB1bmVzY2FwZUh0bWxDaGFyID0gYmFzZVByb3BlcnR5T2YoaHRtbFVuZXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYSBVbmljb2RlIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlU2l6ZShzdHJpbmcpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmVVbmljb2RlLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKHJlVW5pY29kZS50ZXN0KHN0cmluZykpIHtcbiAgICAgICsrcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgVW5pY29kZSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGUpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhIFVuaWNvZGUgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGVXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdXNpbmcgdGhlIGBjb250ZXh0YCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHNpbmNlIDEuMS4wXG4gICAqIEBjYXRlZ29yeSBVdGlsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dD1yb290XSBUaGUgY29udGV4dCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIG5ldyBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5taXhpbih7ICdmb28nOiBfLmNvbnN0YW50KCdmb28nKSB9KTtcbiAgICpcbiAgICogdmFyIGxvZGFzaCA9IF8ucnVuSW5Db250ZXh0KCk7XG4gICAqIGxvZGFzaC5taXhpbih7ICdiYXInOiBsb2Rhc2guY29uc3RhbnQoJ2JhcicpIH0pO1xuICAgKlxuICAgKiBfLmlzRnVuY3Rpb24oXy5mb28pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqIF8uaXNGdW5jdGlvbihfLmJhcik7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5mb28pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guYmFyKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiAvLyBDcmVhdGUgYSBzdXBlZC11cCBgZGVmZXJgIGluIE5vZGUuanMuXG4gICAqIHZhciBkZWZlciA9IF8ucnVuSW5Db250ZXh0KHsgJ3NldFRpbWVvdXQnOiBzZXRJbW1lZGlhdGUgfSkuZGVmZXI7XG4gICAqL1xuICB2YXIgcnVuSW5Db250ZXh0ID0gKGZ1bmN0aW9uIHJ1bkluQ29udGV4dChjb250ZXh0KSB7XG4gICAgY29udGV4dCA9IGNvbnRleHQgPT0gbnVsbCA/IHJvb3QgOiBfLmRlZmF1bHRzKHJvb3QuT2JqZWN0KCksIGNvbnRleHQsIF8ucGljayhyb290LCBjb250ZXh0UHJvcHMpKTtcblxuICAgIC8qKiBCdWlsdC1pbiBjb25zdHJ1Y3RvciByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBBcnJheSA9IGNvbnRleHQuQXJyYXksXG4gICAgICAgIERhdGUgPSBjb250ZXh0LkRhdGUsXG4gICAgICAgIEVycm9yID0gY29udGV4dC5FcnJvcixcbiAgICAgICAgRnVuY3Rpb24gPSBjb250ZXh0LkZ1bmN0aW9uLFxuICAgICAgICBNYXRoID0gY29udGV4dC5NYXRoLFxuICAgICAgICBPYmplY3QgPSBjb250ZXh0Lk9iamVjdCxcbiAgICAgICAgUmVnRXhwID0gY29udGV4dC5SZWdFeHAsXG4gICAgICAgIFN0cmluZyA9IGNvbnRleHQuU3RyaW5nLFxuICAgICAgICBUeXBlRXJyb3IgPSBjb250ZXh0LlR5cGVFcnJvcjtcblxuICAgIC8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICAgICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgICAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG4gICAgdmFyIGNvcmVKc0RhdGEgPSBjb250ZXh0WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbiAgICB2YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG4gICAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgICAvKiogVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzLiAqL1xuICAgIHZhciBpZENvdW50ZXIgPSAwO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbiAgICB2YXIgbWFza1NyY0tleSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gICAgICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAgICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAgICAgKiBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgdmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG4gICAgdmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgYF9gIHJlZmVyZW5jZSBpbiBgXy5ub0NvbmZsaWN0YC4gKi9cbiAgICB2YXIgb2xkRGFzaCA9IHJvb3QuXztcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG4gICAgdmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gICAgICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbiAgICApO1xuXG4gICAgLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyBjb250ZXh0LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgU3ltYm9sID0gY29udGV4dC5TeW1ib2wsXG4gICAgICAgIFVpbnQ4QXJyYXkgPSBjb250ZXh0LlVpbnQ4QXJyYXksXG4gICAgICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkLFxuICAgICAgICBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KSxcbiAgICAgICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcbiAgICAgICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICAgICAgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2UsXG4gICAgICAgIHNwcmVhZGFibGVTeW1ib2wgPSBTeW1ib2wgPyBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1JdGVyYXRvciA9IFN5bWJvbCA/IFN5bWJvbC5pdGVyYXRvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgZGVmaW5lUHJvcGVydHkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZnVuYyA9IGdldE5hdGl2ZShPYmplY3QsICdkZWZpbmVQcm9wZXJ0eScpO1xuICAgICAgICBmdW5jKHt9LCAnJywge30pO1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfSgpKTtcblxuICAgIC8qKiBNb2NrZWQgYnVpbHQtaW5zLiAqL1xuICAgIHZhciBjdHhDbGVhclRpbWVvdXQgPSBjb250ZXh0LmNsZWFyVGltZW91dCAhPT0gcm9vdC5jbGVhclRpbWVvdXQgJiYgY29udGV4dC5jbGVhclRpbWVvdXQsXG4gICAgICAgIGN0eE5vdyA9IERhdGUgJiYgRGF0ZS5ub3cgIT09IHJvb3QuRGF0ZS5ub3cgJiYgRGF0ZS5ub3csXG4gICAgICAgIGN0eFNldFRpbWVvdXQgPSBjb250ZXh0LnNldFRpbWVvdXQgIT09IHJvb3Quc2V0VGltZW91dCAmJiBjb250ZXh0LnNldFRpbWVvdXQ7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG4gICAgdmFyIG5hdGl2ZUNlaWwgPSBNYXRoLmNlaWwsXG4gICAgICAgIG5hdGl2ZUZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgICAgbmF0aXZlR2V0U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgICAgIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBuYXRpdmVJc0Zpbml0ZSA9IGNvbnRleHQuaXNGaW5pdGUsXG4gICAgICAgIG5hdGl2ZUpvaW4gPSBhcnJheVByb3RvLmpvaW4sXG4gICAgICAgIG5hdGl2ZUtleXMgPSBvdmVyQXJnKE9iamVjdC5rZXlzLCBPYmplY3QpLFxuICAgICAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICAgICAgbmF0aXZlTWluID0gTWF0aC5taW4sXG4gICAgICAgIG5hdGl2ZU5vdyA9IERhdGUubm93LFxuICAgICAgICBuYXRpdmVQYXJzZUludCA9IGNvbnRleHQucGFyc2VJbnQsXG4gICAgICAgIG5hdGl2ZVJhbmRvbSA9IE1hdGgucmFuZG9tLFxuICAgICAgICBuYXRpdmVSZXZlcnNlID0gYXJyYXlQcm90by5yZXZlcnNlO1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xuICAgIHZhciBEYXRhVmlldyA9IGdldE5hdGl2ZShjb250ZXh0LCAnRGF0YVZpZXcnKSxcbiAgICAgICAgTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdNYXAnKSxcbiAgICAgICAgUHJvbWlzZSA9IGdldE5hdGl2ZShjb250ZXh0LCAnUHJvbWlzZScpLFxuICAgICAgICBTZXQgPSBnZXROYXRpdmUoY29udGV4dCwgJ1NldCcpLFxuICAgICAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKGNvbnRleHQsICdXZWFrTWFwJyksXG4gICAgICAgIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxuICAgIC8qKiBVc2VkIHRvIHN0b3JlIGZ1bmN0aW9uIG1ldGFkYXRhLiAqL1xuICAgIHZhciBtZXRhTWFwID0gV2Vha01hcCAmJiBuZXcgV2Vha01hcDtcblxuICAgIC8qKiBVc2VkIHRvIGxvb2t1cCB1bm1pbmlmaWVkIGZ1bmN0aW9uIG5hbWVzLiAqL1xuICAgIHZhciByZWFsTmFtZXMgPSB7fTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovXG4gICAgdmFyIGRhdGFWaWV3Q3RvclN0cmluZyA9IHRvU291cmNlKERhdGFWaWV3KSxcbiAgICAgICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksXG4gICAgICAgIHByb21pc2VDdG9yU3RyaW5nID0gdG9Tb3VyY2UoUHJvbWlzZSksXG4gICAgICAgIHNldEN0b3JTdHJpbmcgPSB0b1NvdXJjZShTZXQpLFxuICAgICAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApO1xuXG4gICAgLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG4gICAgdmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVmFsdWVPZiA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udmFsdWVPZiA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBpbXBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMuIE1ldGhvZHMgdGhhdCBvcGVyYXRlIG9uIGFuZCByZXR1cm4gYXJyYXlzLCBjb2xsZWN0aW9ucyxcbiAgICAgKiBhbmQgZnVuY3Rpb25zIGNhbiBiZSBjaGFpbmVkIHRvZ2V0aGVyLiBNZXRob2RzIHRoYXQgcmV0cmlldmUgYSBzaW5nbGUgdmFsdWVcbiAgICAgKiBvciBtYXkgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlIHdpbGwgYXV0b21hdGljYWxseSBlbmQgdGhlIGNoYWluIHNlcXVlbmNlXG4gICAgICogYW5kIHJldHVybiB0aGUgdW53cmFwcGVkIHZhbHVlLiBPdGhlcndpc2UsIHRoZSB2YWx1ZSBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogRXhwbGljaXQgY2hhaW4gc2VxdWVuY2VzLCB3aGljaCBtdXN0IGJlIHVud3JhcHBlZCB3aXRoIGBfI3ZhbHVlYCwgbWF5IGJlXG4gICAgICogZW5hYmxlZCB1c2luZyBgXy5jaGFpbmAuXG4gICAgICpcbiAgICAgKiBUaGUgZXhlY3V0aW9uIG9mIGNoYWluZWQgbWV0aG9kcyBpcyBsYXp5LCB0aGF0IGlzLCBpdCdzIGRlZmVycmVkIHVudGlsXG4gICAgICogYF8jdmFsdWVgIGlzIGltcGxpY2l0bHkgb3IgZXhwbGljaXRseSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBMYXp5IGV2YWx1YXRpb24gYWxsb3dzIHNldmVyYWwgbWV0aG9kcyB0byBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbi5cbiAgICAgKiBTaG9ydGN1dCBmdXNpb24gaXMgYW4gb3B0aW1pemF0aW9uIHRvIG1lcmdlIGl0ZXJhdGVlIGNhbGxzOyB0aGlzIGF2b2lkc1xuICAgICAqIHRoZSBjcmVhdGlvbiBvZiBpbnRlcm1lZGlhdGUgYXJyYXlzIGFuZCBjYW4gZ3JlYXRseSByZWR1Y2UgdGhlIG51bWJlciBvZlxuICAgICAqIGl0ZXJhdGVlIGV4ZWN1dGlvbnMuIFNlY3Rpb25zIG9mIGEgY2hhaW4gc2VxdWVuY2UgcXVhbGlmeSBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaWYgdGhlIHNlY3Rpb24gaXMgYXBwbGllZCB0byBhbiBhcnJheSBhbmQgaXRlcmF0ZWVzIGFjY2VwdCBvbmx5XG4gICAgICogb25lIGFyZ3VtZW50LiBUaGUgaGV1cmlzdGljIGZvciB3aGV0aGVyIGEgc2VjdGlvbiBxdWFsaWZpZXMgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlzIHN1YmplY3QgdG8gY2hhbmdlLlxuICAgICAqXG4gICAgICogQ2hhaW5pbmcgaXMgc3VwcG9ydGVkIGluIGN1c3RvbSBidWlsZHMgYXMgbG9uZyBhcyB0aGUgYF8jdmFsdWVgIG1ldGhvZCBpc1xuICAgICAqIGRpcmVjdGx5IG9yIGluZGlyZWN0bHkgaW5jbHVkZWQgaW4gdGhlIGJ1aWxkLlxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24gdG8gbG9kYXNoIG1ldGhvZHMsIHdyYXBwZXJzIGhhdmUgYEFycmF5YCBhbmQgYFN0cmluZ2AgbWV0aG9kcy5cbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBBcnJheWAgbWV0aG9kcyBhcmU6XG4gICAgICogYGNvbmNhdGAsIGBqb2luYCwgYHBvcGAsIGBwdXNoYCwgYHNoaWZ0YCwgYHNvcnRgLCBgc3BsaWNlYCwgYW5kIGB1bnNoaWZ0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYFN0cmluZ2AgbWV0aG9kcyBhcmU6XG4gICAgICogYHJlcGxhY2VgIGFuZCBgc3BsaXRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24gYXJlOlxuICAgICAqIGBhdGAsIGBjb21wYWN0YCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCwgYGRyb3BXaGlsZWAsIGBmaWx0ZXJgLCBgZmluZGAsXG4gICAgICogYGZpbmRMYXN0YCwgYGhlYWRgLCBgaW5pdGlhbGAsIGBsYXN0YCwgYG1hcGAsIGByZWplY3RgLCBgcmV2ZXJzZWAsIGBzbGljZWAsXG4gICAgICogYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLCBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYW5kIGB0b0FycmF5YFxuICAgICAqXG4gICAgICogVGhlIGNoYWluYWJsZSB3cmFwcGVyIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhZnRlcmAsIGBhcnlgLCBgYXNzaWduYCwgYGFzc2lnbkluYCwgYGFzc2lnbkluV2l0aGAsIGBhc3NpZ25XaXRoYCwgYGF0YCxcbiAgICAgKiBgYmVmb3JlYCwgYGJpbmRgLCBgYmluZEFsbGAsIGBiaW5kS2V5YCwgYGNhc3RBcnJheWAsIGBjaGFpbmAsIGBjaHVua2AsXG4gICAgICogYGNvbW1pdGAsIGBjb21wYWN0YCwgYGNvbmNhdGAsIGBjb25mb3Jtc2AsIGBjb25zdGFudGAsIGBjb3VudEJ5YCwgYGNyZWF0ZWAsXG4gICAgICogYGN1cnJ5YCwgYGRlYm91bmNlYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBkZWZlcmAsIGBkZWxheWAsXG4gICAgICogYGRpZmZlcmVuY2VgLCBgZGlmZmVyZW5jZUJ5YCwgYGRpZmZlcmVuY2VXaXRoYCwgYGRyb3BgLCBgZHJvcFJpZ2h0YCxcbiAgICAgKiBgZHJvcFJpZ2h0V2hpbGVgLCBgZHJvcFdoaWxlYCwgYGV4dGVuZGAsIGBleHRlbmRXaXRoYCwgYGZpbGxgLCBgZmlsdGVyYCxcbiAgICAgKiBgZmxhdE1hcGAsIGBmbGF0TWFwRGVlcGAsIGBmbGF0TWFwRGVwdGhgLCBgZmxhdHRlbmAsIGBmbGF0dGVuRGVlcGAsXG4gICAgICogYGZsYXR0ZW5EZXB0aGAsIGBmbGlwYCwgYGZsb3dgLCBgZmxvd1JpZ2h0YCwgYGZyb21QYWlyc2AsIGBmdW5jdGlvbnNgLFxuICAgICAqIGBmdW5jdGlvbnNJbmAsIGBncm91cEJ5YCwgYGluaXRpYWxgLCBgaW50ZXJzZWN0aW9uYCwgYGludGVyc2VjdGlvbkJ5YCxcbiAgICAgKiBgaW50ZXJzZWN0aW9uV2l0aGAsIGBpbnZlcnRgLCBgaW52ZXJ0QnlgLCBgaW52b2tlTWFwYCwgYGl0ZXJhdGVlYCwgYGtleUJ5YCxcbiAgICAgKiBga2V5c2AsIGBrZXlzSW5gLCBgbWFwYCwgYG1hcEtleXNgLCBgbWFwVmFsdWVzYCwgYG1hdGNoZXNgLCBgbWF0Y2hlc1Byb3BlcnR5YCxcbiAgICAgKiBgbWVtb2l6ZWAsIGBtZXJnZWAsIGBtZXJnZVdpdGhgLCBgbWV0aG9kYCwgYG1ldGhvZE9mYCwgYG1peGluYCwgYG5lZ2F0ZWAsXG4gICAgICogYG50aEFyZ2AsIGBvbWl0YCwgYG9taXRCeWAsIGBvbmNlYCwgYG9yZGVyQnlgLCBgb3ZlcmAsIGBvdmVyQXJnc2AsXG4gICAgICogYG92ZXJFdmVyeWAsIGBvdmVyU29tZWAsIGBwYXJ0aWFsYCwgYHBhcnRpYWxSaWdodGAsIGBwYXJ0aXRpb25gLCBgcGlja2AsXG4gICAgICogYHBpY2tCeWAsIGBwbGFudGAsIGBwcm9wZXJ0eWAsIGBwcm9wZXJ0eU9mYCwgYHB1bGxgLCBgcHVsbEFsbGAsIGBwdWxsQWxsQnlgLFxuICAgICAqIGBwdWxsQWxsV2l0aGAsIGBwdWxsQXRgLCBgcHVzaGAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlYXJnYCwgYHJlamVjdGAsXG4gICAgICogYHJlbW92ZWAsIGByZXN0YCwgYHJldmVyc2VgLCBgc2FtcGxlU2l6ZWAsIGBzZXRgLCBgc2V0V2l0aGAsIGBzaHVmZmxlYCxcbiAgICAgKiBgc2xpY2VgLCBgc29ydGAsIGBzb3J0QnlgLCBgc3BsaWNlYCwgYHNwcmVhZGAsIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGFrZVJpZ2h0V2hpbGVgLCBgdGFrZVdoaWxlYCwgYHRhcGAsIGB0aHJvdHRsZWAsIGB0aHJ1YCwgYHRvQXJyYXlgLFxuICAgICAqIGB0b1BhaXJzYCwgYHRvUGFpcnNJbmAsIGB0b1BhdGhgLCBgdG9QbGFpbk9iamVjdGAsIGB0cmFuc2Zvcm1gLCBgdW5hcnlgLFxuICAgICAqIGB1bmlvbmAsIGB1bmlvbkJ5YCwgYHVuaW9uV2l0aGAsIGB1bmlxYCwgYHVuaXFCeWAsIGB1bmlxV2l0aGAsIGB1bnNldGAsXG4gICAgICogYHVuc2hpZnRgLCBgdW56aXBgLCBgdW56aXBXaXRoYCwgYHVwZGF0ZWAsIGB1cGRhdGVXaXRoYCwgYHZhbHVlc2AsXG4gICAgICogYHZhbHVlc0luYCwgYHdpdGhvdXRgLCBgd3JhcGAsIGB4b3JgLCBgeG9yQnlgLCBgeG9yV2l0aGAsIGB6aXBgLFxuICAgICAqIGB6aXBPYmplY3RgLCBgemlwT2JqZWN0RGVlcGAsIGFuZCBgemlwV2l0aGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBhcmUgKipub3QqKiBjaGFpbmFibGUgYnkgZGVmYXVsdCBhcmU6XG4gICAgICogYGFkZGAsIGBhdHRlbXB0YCwgYGNhbWVsQ2FzZWAsIGBjYXBpdGFsaXplYCwgYGNlaWxgLCBgY2xhbXBgLCBgY2xvbmVgLFxuICAgICAqIGBjbG9uZURlZXBgLCBgY2xvbmVEZWVwV2l0aGAsIGBjbG9uZVdpdGhgLCBgY29uZm9ybXNUb2AsIGBkZWJ1cnJgLFxuICAgICAqIGBkZWZhdWx0VG9gLCBgZGl2aWRlYCwgYGVhY2hgLCBgZWFjaFJpZ2h0YCwgYGVuZHNXaXRoYCwgYGVxYCwgYGVzY2FwZWAsXG4gICAgICogYGVzY2FwZVJlZ0V4cGAsIGBldmVyeWAsIGBmaW5kYCwgYGZpbmRJbmRleGAsIGBmaW5kS2V5YCwgYGZpbmRMYXN0YCxcbiAgICAgKiBgZmluZExhc3RJbmRleGAsIGBmaW5kTGFzdEtleWAsIGBmaXJzdGAsIGBmbG9vcmAsIGBmb3JFYWNoYCwgYGZvckVhY2hSaWdodGAsXG4gICAgICogYGZvckluYCwgYGZvckluUmlnaHRgLCBgZm9yT3duYCwgYGZvck93blJpZ2h0YCwgYGdldGAsIGBndGAsIGBndGVgLCBgaGFzYCxcbiAgICAgKiBgaGFzSW5gLCBgaGVhZGAsIGBpZGVudGl0eWAsIGBpbmNsdWRlc2AsIGBpbmRleE9mYCwgYGluUmFuZ2VgLCBgaW52b2tlYCxcbiAgICAgKiBgaXNBcmd1bWVudHNgLCBgaXNBcnJheWAsIGBpc0FycmF5QnVmZmVyYCwgYGlzQXJyYXlMaWtlYCwgYGlzQXJyYXlMaWtlT2JqZWN0YCxcbiAgICAgKiBgaXNCb29sZWFuYCwgYGlzQnVmZmVyYCwgYGlzRGF0ZWAsIGBpc0VsZW1lbnRgLCBgaXNFbXB0eWAsIGBpc0VxdWFsYCxcbiAgICAgKiBgaXNFcXVhbFdpdGhgLCBgaXNFcnJvcmAsIGBpc0Zpbml0ZWAsIGBpc0Z1bmN0aW9uYCwgYGlzSW50ZWdlcmAsIGBpc0xlbmd0aGAsXG4gICAgICogYGlzTWFwYCwgYGlzTWF0Y2hgLCBgaXNNYXRjaFdpdGhgLCBgaXNOYU5gLCBgaXNOYXRpdmVgLCBgaXNOaWxgLCBgaXNOdWxsYCxcbiAgICAgKiBgaXNOdW1iZXJgLCBgaXNPYmplY3RgLCBgaXNPYmplY3RMaWtlYCwgYGlzUGxhaW5PYmplY3RgLCBgaXNSZWdFeHBgLFxuICAgICAqIGBpc1NhZmVJbnRlZ2VyYCwgYGlzU2V0YCwgYGlzU3RyaW5nYCwgYGlzVW5kZWZpbmVkYCwgYGlzVHlwZWRBcnJheWAsXG4gICAgICogYGlzV2Vha01hcGAsIGBpc1dlYWtTZXRgLCBgam9pbmAsIGBrZWJhYkNhc2VgLCBgbGFzdGAsIGBsYXN0SW5kZXhPZmAsXG4gICAgICogYGxvd2VyQ2FzZWAsIGBsb3dlckZpcnN0YCwgYGx0YCwgYGx0ZWAsIGBtYXhgLCBgbWF4QnlgLCBgbWVhbmAsIGBtZWFuQnlgLFxuICAgICAqIGBtaW5gLCBgbWluQnlgLCBgbXVsdGlwbHlgLCBgbm9Db25mbGljdGAsIGBub29wYCwgYG5vd2AsIGBudGhgLCBgcGFkYCxcbiAgICAgKiBgcGFkRW5kYCwgYHBhZFN0YXJ0YCwgYHBhcnNlSW50YCwgYHBvcGAsIGByYW5kb21gLCBgcmVkdWNlYCwgYHJlZHVjZVJpZ2h0YCxcbiAgICAgKiBgcmVwZWF0YCwgYHJlc3VsdGAsIGByb3VuZGAsIGBydW5JbkNvbnRleHRgLCBgc2FtcGxlYCwgYHNoaWZ0YCwgYHNpemVgLFxuICAgICAqIGBzbmFrZUNhc2VgLCBgc29tZWAsIGBzb3J0ZWRJbmRleGAsIGBzb3J0ZWRJbmRleEJ5YCwgYHNvcnRlZExhc3RJbmRleGAsXG4gICAgICogYHNvcnRlZExhc3RJbmRleEJ5YCwgYHN0YXJ0Q2FzZWAsIGBzdGFydHNXaXRoYCwgYHN0dWJBcnJheWAsIGBzdHViRmFsc2VgLFxuICAgICAqIGBzdHViT2JqZWN0YCwgYHN0dWJTdHJpbmdgLCBgc3R1YlRydWVgLCBgc3VidHJhY3RgLCBgc3VtYCwgYHN1bUJ5YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdGltZXNgLCBgdG9GaW5pdGVgLCBgdG9JbnRlZ2VyYCwgYHRvSlNPTmAsIGB0b0xlbmd0aGAsXG4gICAgICogYHRvTG93ZXJgLCBgdG9OdW1iZXJgLCBgdG9TYWZlSW50ZWdlcmAsIGB0b1N0cmluZ2AsIGB0b1VwcGVyYCwgYHRyaW1gLFxuICAgICAqIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGB0cnVuY2F0ZWAsIGB1bmVzY2FwZWAsIGB1bmlxdWVJZGAsIGB1cHBlckNhc2VgLFxuICAgICAqIGB1cHBlckZpcnN0YCwgYHZhbHVlYCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBuYW1lIF9cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMiwgM10pO1xuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhbiB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogd3JhcHBlZC5yZWR1Y2UoXy5hZGQpO1xuICAgICAqIC8vID0+IDZcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYSB3cmFwcGVkIHZhbHVlLlxuICAgICAqIHZhciBzcXVhcmVzID0gd3JhcHBlZC5tYXAoc3F1YXJlKTtcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMudmFsdWUoKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZGFzaCh2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzQXJyYXkodmFsdWUpICYmICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTG9kYXNoV3JhcHBlcikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ19fd3JhcHBlZF9fJykpIHtcbiAgICAgICAgICByZXR1cm4gd3JhcHBlckNsb25lKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nXG4gICAgICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90byBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgICAgIHJldHVybiBmdW5jdGlvbihwcm90bykge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KHByb3RvKSkge1xuICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqZWN0Q3JlYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB3aG9zZSBwcm90b3R5cGUgY2hhaW4gc2VxdWVuY2Ugd3JhcHBlcnMgaW5oZXJpdCBmcm9tLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTG9kYXNoKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBjb25zdHJ1Y3RvciBmb3IgY3JlYXRpbmcgYGxvZGFzaGAgd3JhcHBlciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NoYWluQWxsXSBFbmFibGUgZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2Rhc2hXcmFwcGVyKHZhbHVlLCBjaGFpbkFsbCkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2NoYWluX18gPSAhIWNoYWluQWxsO1xuICAgICAgdGhpcy5fX2luZGV4X18gPSAwO1xuICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzIHVzZWQgYnkgbG9kYXNoIGFyZSBsaWtlIHRob3NlIGluXG4gICAgICogZW1iZWRkZWQgUnVieSAoRVJCKSBhcyB3ZWxsIGFzIEVTMjAxNSB0ZW1wbGF0ZSBzdHJpbmdzLiBDaGFuZ2UgdGhlXG4gICAgICogZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncyA9IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGJlIEhUTUwtZXNjYXBlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXNjYXBlJzogcmVFc2NhcGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgY29kZSB0byBiZSBldmFsdWF0ZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2V2YWx1YXRlJzogcmVFdmFsdWF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGluamVjdC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnaW50ZXJwb2xhdGUnOiByZUludGVycG9sYXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gcmVmZXJlbmNlIHRoZSBkYXRhIG9iamVjdCBpbiB0aGUgdGVtcGxhdGUgdGV4dC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICAndmFyaWFibGUnOiAnJyxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGltcG9ydCB2YXJpYWJsZXMgaW50byB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAqL1xuICAgICAgJ2ltcG9ydHMnOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgICdfJzogbG9kYXNoXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEVuc3VyZSB3cmFwcGVycyBhcmUgaW5zdGFuY2VzIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBsb2Rhc2gucHJvdG90eXBlID0gYmFzZUxvZGFzaC5wcm90b3R5cGU7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGxvZGFzaDtcblxuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb2Rhc2hXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGxhenkgd3JhcHBlciBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgbGF6eSBldmFsdWF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExhenlXcmFwcGVyKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fZGlyX18gPSAxO1xuICAgICAgdGhpcy5fX2ZpbHRlcmVkX18gPSBmYWxzZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlZXNfXyA9IFtdO1xuICAgICAgdGhpcy5fX3Rha2VDb3VudF9fID0gTUFYX0FSUkFZX0xFTkdUSDtcbiAgICAgIHRoaXMuX192aWV3c19fID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBsYXp5IHdyYXBwZXIgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbG9uZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5Q2xvbmUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMuX193cmFwcGVkX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9fZGlyX18gPSB0aGlzLl9fZGlyX187XG4gICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdGhpcy5fX2ZpbHRlcmVkX187XG4gICAgICByZXN1bHQuX19pdGVyYXRlZXNfXyA9IGNvcHlBcnJheSh0aGlzLl9faXRlcmF0ZWVzX18pO1xuICAgICAgcmVzdWx0Ll9fdGFrZUNvdW50X18gPSB0aGlzLl9fdGFrZUNvdW50X187XG4gICAgICByZXN1bHQuX192aWV3c19fID0gY29weUFycmF5KHRoaXMuX192aWV3c19fKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgdGhlIGRpcmVjdGlvbiBvZiBsYXp5IGl0ZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyByZXZlcnNlZCBgTGF6eVdyYXBwZXJgIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5UmV2ZXJzZSgpIHtcbiAgICAgIGlmICh0aGlzLl9fZmlsdGVyZWRfXykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyA9IC0xO1xuICAgICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gKj0gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSB1bndyYXBwZWQgdmFsdWUgZnJvbSBpdHMgbGF6eSB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBMYXp5V3JhcHBlclxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVZhbHVlKCkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fX3dyYXBwZWRfXy52YWx1ZSgpLFxuICAgICAgICAgIGRpciA9IHRoaXMuX19kaXJfXyxcbiAgICAgICAgICBpc0FyciA9IGlzQXJyYXkoYXJyYXkpLFxuICAgICAgICAgIGlzUmlnaHQgPSBkaXIgPCAwLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGlzQXJyID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgICB2aWV3ID0gZ2V0VmlldygwLCBhcnJMZW5ndGgsIHRoaXMuX192aWV3c19fKSxcbiAgICAgICAgICBzdGFydCA9IHZpZXcuc3RhcnQsXG4gICAgICAgICAgZW5kID0gdmlldy5lbmQsXG4gICAgICAgICAgbGVuZ3RoID0gZW5kIC0gc3RhcnQsXG4gICAgICAgICAgaW5kZXggPSBpc1JpZ2h0ID8gZW5kIDogKHN0YXJ0IC0gMSksXG4gICAgICAgICAgaXRlcmF0ZWVzID0gdGhpcy5fX2l0ZXJhdGVlc19fLFxuICAgICAgICAgIGl0ZXJMZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICB0YWtlQ291bnQgPSBuYXRpdmVNaW4obGVuZ3RoLCB0aGlzLl9fdGFrZUNvdW50X18pO1xuXG4gICAgICBpZiAoIWlzQXJyIHx8ICghaXNSaWdodCAmJiBhcnJMZW5ndGggPT0gbGVuZ3RoICYmIHRha2VDb3VudCA9PSBsZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKGFycmF5LCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAobGVuZ3RoLS0gJiYgcmVzSW5kZXggPCB0YWtlQ291bnQpIHtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuXG4gICAgICAgIHZhciBpdGVySW5kZXggPSAtMSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICAgIHdoaWxlICgrK2l0ZXJJbmRleCA8IGl0ZXJMZW5ndGgpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IGl0ZXJhdGVlc1tpdGVySW5kZXhdLFxuICAgICAgICAgICAgICBpdGVyYXRlZSA9IGRhdGEuaXRlcmF0ZWUsXG4gICAgICAgICAgICAgIHR5cGUgPSBkYXRhLnR5cGUsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9NQVBfRkxBRykge1xuICAgICAgICAgICAgdmFsdWUgPSBjb21wdXRlZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFjb21wdXRlZCkge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gTEFaWV9GSUxURVJfRkxBRykge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIGBMYXp5V3JhcHBlcmAgaXMgYW4gaW5zdGFuY2Ugb2YgYGJhc2VMb2Rhc2hgLlxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExhenlXcmFwcGVyO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICB0aGlzLnNpemUgKz0gdGhpcy5oYXMoa2V5KSA/IDAgOiAxO1xuICAgICAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG4gICAgSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG4gICAgSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbiAgICBIYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuICAgIEhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG4gICAgSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxO1xuICAgICAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgICAgICBkYXRhLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICAgICAgfVxuICAgICAgLS10aGlzLnNpemU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgKyt0aGlzLnNpemU7XG4gICAgICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAgICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIHVuaXF1ZSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU2V0Q2FjaGUodmFsdWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMgPT0gbnVsbCA/IDAgOiB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5hZGQodmFsdWVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgYWRkXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQGFsaWFzIHB1c2hcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICAgICAgdGhpcy5fX2RhdGFfXy5zZXQodmFsdWUsIEhBU0hfVU5ERUZJTkVEKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIHRoZSBhcnJheSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFNldENhY2hlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVIYXModmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFNldENhY2hlYC5cbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuYWRkID0gU2V0Q2FjaGUucHJvdG90eXBlLnB1c2ggPSBzZXRDYWNoZUFkZDtcbiAgICBTZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RhY2sgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gU3RhY2soZW50cmllcykge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZShlbnRyaWVzKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGU7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3RhY2sgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBzdGFjayB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGFjayBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBMaXN0Q2FjaGUpIHtcbiAgICAgICAgdmFyIHBhaXJzID0gZGF0YS5fX2RhdGFfXztcbiAgICAgICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgICAgIHBhaXJzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICB0aGlzLnNpemUgPSArK2RhdGEuc2l6ZTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZShwYWlycyk7XG4gICAgICB9XG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuXG4gICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcbiAgICBTdGFjay5wcm90b3R5cGVbJ2RlbGV0ZSddID0gc3RhY2tEZWxldGU7XG4gICAgU3RhY2sucHJvdG90eXBlLmdldCA9IHN0YWNrR2V0O1xuICAgIFN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcbiAgICBTdGFjay5wcm90b3R5cGUuc2V0ID0gc3RhY2tTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSksXG4gICAgICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgICAgIGlzVHlwZSA9ICFpc0FyciAmJiAhaXNBcmcgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkodmFsdWUpLFxuICAgICAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgICAgICEoc2tpcEluZGV4ZXMgJiYgKFxuICAgICAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgICAgICAvLyBOb2RlLmpzIDAuMTAgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gYnVmZmVycy5cbiAgICAgICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAgICAgKGlzVHlwZSAmJiAoa2V5ID09ICdidWZmZXInIHx8IGtleSA9PSAnYnl0ZUxlbmd0aCcgfHwga2V5ID09ICdieXRlT2Zmc2V0JykpIHx8XG4gICAgICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICAgICAgKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2Jhc2VSYW5kb20oMCwgbGVuZ3RoIC0gMSldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zYW1wbGVTaXplYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2FtcGxlU2l6ZShhcnJheSwgbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTaHVmZmxlKGFycmF5KSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhc3NpZ25WYWx1ZWAgZXhjZXB0IHRoYXQgaXQgZG9lc24ndCBhc3NpZ25cbiAgICAgKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgIWVxKG9iamVjdFtrZXldLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICAgICAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFnZ3JlZ2F0ZXMgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIG9uIGBhY2N1bXVsYXRvcmAgd2l0aCBrZXlzIHRyYW5zZm9ybWVkXG4gICAgICogYnkgYGl0ZXJhdGVlYCBhbmQgdmFsdWVzIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFnZ3JlZ2F0b3IoY29sbGVjdGlvbiwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbkluKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYXNzaWduVmFsdWVgIGFuZCBgYXNzaWduTWVyZ2VWYWx1ZWAgd2l0aG91dFxuICAgICAqIHZhbHVlIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJyAmJiBkZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAgICdlbnVtZXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAndmFsdWUnOiB2YWx1ZSxcbiAgICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hdGAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcGlja2VkIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBdChvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICBza2lwID0gb2JqZWN0ID09IG51bGw7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBza2lwID8gdW5kZWZpbmVkIDogZ2V0KG9iamVjdCwgcGF0aHNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xhbXBgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbGFtcChudW1iZXIsIGxvd2VyLCB1cHBlcikge1xuICAgICAgaWYgKG51bWJlciA9PT0gbnVtYmVyKSB7XG4gICAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyIDw9IHVwcGVyID8gbnVtYmVyIDogdXBwZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPj0gbG93ZXIgPyBudW1iZXIgOiBsb3dlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbG9uZWAgYW5kIGBfLmNsb25lRGVlcGAgd2hpY2ggdHJhY2tzXG4gICAgICogdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIERlZXAgY2xvbmVcbiAgICAgKiAgMiAtIEZsYXR0ZW4gaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgKiAgNCAtIENsb25lIHN5bWJvbHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjbG9uaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBba2V5XSBUaGUga2V5IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGB2YWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGFuZCB0aGVpciBjbG9uZSBjb3VudGVycGFydHMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgb2JqZWN0LCBzdGFjaykge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBpc0RlZXAgPSBiaXRtYXNrICYgQ0xPTkVfREVFUF9GTEFHLFxuICAgICAgICAgIGlzRmxhdCA9IGJpdG1hc2sgJiBDTE9ORV9GTEFUX0ZMQUcsXG4gICAgICAgICAgaXNGdWxsID0gYml0bWFzayAmIENMT05FX1NZTUJPTFNfRkxBRztcblxuICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gb2JqZWN0ID8gY3VzdG9taXplcih2YWx1ZSwga2V5LCBvYmplY3QsIHN0YWNrKSA6IGN1c3RvbWl6ZXIodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKTtcbiAgICAgIGlmIChpc0Fycikge1xuICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVBcnJheSh2YWx1ZSk7XG4gICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvcHlBcnJheSh2YWx1ZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBpc0Z1bmMgPSB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xuXG4gICAgICAgIGlmIChpc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gY2xvbmVCdWZmZXIodmFsdWUsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBvYmplY3RUYWcgfHwgdGFnID09IGFyZ3NUYWcgfHwgKGlzRnVuYyAmJiAhb2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IChpc0ZsYXQgfHwgaXNGdW5jKSA/IHt9IDogaW5pdENsb25lT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRmxhdFxuICAgICAgICAgICAgICA/IGNvcHlTeW1ib2xzSW4odmFsdWUsIGJhc2VBc3NpZ25JbihyZXN1bHQsIHZhbHVlKSlcbiAgICAgICAgICAgICAgOiBjb3B5U3ltYm9scyh2YWx1ZSwgYmFzZUFzc2lnbihyZXN1bHQsIHZhbHVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghY2xvbmVhYmxlVGFnc1t0YWddKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0ID8gdmFsdWUgOiB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQnlUYWcodmFsdWUsIHRhZywgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBpdHMgY29ycmVzcG9uZGluZyBjbG9uZS5cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldCh2YWx1ZSk7XG4gICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZDtcbiAgICAgIH1cbiAgICAgIHN0YWNrLnNldCh2YWx1ZSwgcmVzdWx0KTtcblxuICAgICAgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0LmFkZChiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN1YlZhbHVlLCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGlzTWFwKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgICByZXN1bHQuc2V0KGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIGtleXNGdW5jID0gaXNGdWxsXG4gICAgICAgID8gKGlzRmxhdCA/IGdldEFsbEtleXNJbiA6IGdldEFsbEtleXMpXG4gICAgICAgIDogKGlzRmxhdCA/IGtleXNJbiA6IGtleXMpO1xuXG4gICAgICB2YXIgcHJvcHMgPSBpc0FyciA/IHVuZGVmaW5lZCA6IGtleXNGdW5jKHZhbHVlKTtcbiAgICAgIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICBrZXkgPSBzdWJWYWx1ZTtcbiAgICAgICAgICBzdWJWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgcG9wdWxhdGUgY2xvbmUgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgYXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zVG9gIHdoaWNoIGFjY2VwdHMgYHByb3BzYCB0byBjaGVjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbbGVuZ3RoXSxcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHNvdXJjZVtrZXldLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkgfHwgIXByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmRlbGF5YCBhbmQgYF8uZGVmZXJgIHdoaWNoIGFjY2VwdHMgYGFyZ3NgXG4gICAgICogdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGVsYXkoZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRpZmZlcmVuY2VgIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBleGNsdWRpbmcgbXVsdGlwbGUgYXJyYXlzIG9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHZhbHVlc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFsdWVzID0gYXJyYXlNYXAodmFsdWVzLCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzID0gbmV3IFNldENhY2hlKHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPT0gbnVsbCA/IHZhbHVlIDogaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHZhbHVlc0luZGV4ID0gdmFsdWVzTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICh2YWx1ZXNJbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW3ZhbHVlc0luZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXModmFsdWVzLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2ggPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hSaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2hSaWdodCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd25SaWdodCwgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ldmVyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFdmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9ICEhcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLm1heGAgYW5kIGBfLm1pbmAgd2hpY2ggYWNjZXB0cyBhXG4gICAgICogYGNvbXBhcmF0b3JgIHRvIGRldGVybWluZSB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFeHRyZW11bShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY3VycmVudCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICBpZiAoY3VycmVudCAhPSBudWxsICYmIChjb21wdXRlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKGN1cnJlbnQgPT09IGN1cnJlbnQgJiYgIWlzU3ltYm9sKGN1cnJlbnQpKVxuICAgICAgICAgICAgICA6IGNvbXBhcmF0b3IoY3VycmVudCwgY29tcHV0ZWQpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgdmFyIGNvbXB1dGVkID0gY3VycmVudCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsbGAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gbGVuZ3RoKSA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVuZCA9IHN0YXJ0ID4gZW5kID8gMCA6IHRvTGVuZ3RoKGVuZCk7XG4gICAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgYXJyYXlbc3RhcnQrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWx0ZXJgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aCBzdXBwb3J0IGZvciByZXN0cmljdGluZyBmbGF0dGVuaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZWRpY2F0ZT1pc0ZsYXR0ZW5hYmxlXSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0XSBSZXN0cmljdCB0byB2YWx1ZXMgdGhhdCBwYXNzIGBwcmVkaWNhdGVgIGNoZWNrcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gaXNGbGF0dGVuYWJsZSk7XG4gICAgICByZXN1bHQgfHwgKHJlc3VsdCA9IFtdKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAoZGVwdGggPiAwICYmIHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgICAgYmFzZUZsYXR0ZW4odmFsdWUsIGRlcHRoIC0gMSwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICAgICAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUZvcmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzXG4gICAgICogaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yUmlnaHQgPSBjcmVhdGVCYXNlRm9yKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yKG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93blJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JSaWdodChvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mdW5jdGlvbnNgIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2ZcbiAgICAgKiBgb2JqZWN0YCBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmaWx0ZXJlZCBmcm9tIGBwcm9wc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBmaWx0ZXIuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRnVuY3Rpb25zKG9iamVjdCwgcHJvcHMpIHtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iamVjdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gICAgICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgICAgIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgICAgIH1cbiAgICAgIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICAgICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmd0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc2Agd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXMob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNJbmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXNJbihvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGtleSBpbiBPYmplY3Qob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pblJhbmdlYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiBudW1iZXIgPj0gbmF0aXZlTWluKHN0YXJ0LCBlbmQpICYmIG51bWJlciA8IG5hdGl2ZU1heChzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCwgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHNoYXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludGVyc2VjdGlvbihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5jbHVkZXMgPSBjb21wYXJhdG9yID8gYXJyYXlJbmNsdWRlc1dpdGggOiBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5c1swXS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aCxcbiAgICAgICAgICBjYWNoZXMgPSBBcnJheShvdGhMZW5ndGgpLFxuICAgICAgICAgIG1heExlbmd0aCA9IEluZmluaXR5LFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAob3RoSW5kZXgtLSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbb3RoSW5kZXhdO1xuICAgICAgICBpZiAob3RoSW5kZXggJiYgaXRlcmF0ZWUpIHtcbiAgICAgICAgICBhcnJheSA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhMZW5ndGggPSBuYXRpdmVNaW4oYXJyYXkubGVuZ3RoLCBtYXhMZW5ndGgpO1xuICAgICAgICBjYWNoZXNbb3RoSW5kZXhdID0gIWNvbXBhcmF0b3IgJiYgKGl0ZXJhdGVlIHx8IChsZW5ndGggPj0gMTIwICYmIGFycmF5Lmxlbmd0aCA+PSAxMjApKVxuICAgICAgICAgID8gbmV3IFNldENhY2hlKG90aEluZGV4ICYmIGFycmF5KVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJyYXkgPSBhcnJheXNbMF07XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHNlZW4gPSBjYWNoZXNbMF07XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgcmVzdWx0Lmxlbmd0aCA8IG1heExlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmICghKHNlZW5cbiAgICAgICAgICAgICAgPyBjYWNoZUhhcyhzZWVuLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgOiBpbmNsdWRlcyhyZXN1bHQsIGNvbXB1dGVkLCBjb21wYXJhdG9yKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgtLW90aEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBjYWNoZXNbb3RoSW5kZXhdO1xuICAgICAgICAgICAgaWYgKCEoY2FjaGVcbiAgICAgICAgICAgICAgICAgID8gY2FjaGVIYXMoY2FjaGUsIGNvbXB1dGVkKVxuICAgICAgICAgICAgICAgICAgOiBpbmNsdWRlcyhhcnJheXNbb3RoSW5kZXhdLCBjb21wdXRlZCwgY29tcGFyYXRvcikpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludmVydGAgYW5kIGBfLmludmVydEJ5YCB3aGljaCBpbnZlcnRzXG4gICAgICogYG9iamVjdGAgd2l0aCB2YWx1ZXMgdHJhbnNmb3JtZWQgYnkgYGl0ZXJhdGVlYCBhbmQgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0gdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCBpdGVyYXRlZSh2YWx1ZSksIGtleSwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludm9rZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogbWV0aG9kIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgdmFyIGZ1bmMgPSBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gdW5kZWZpbmVkIDogYXBwbHkoZnVuYywgb2JqZWN0LCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcnJheUJ1ZmZlcmAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FycmF5QnVmZmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcnJheUJ1ZmZlclRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0RhdGVgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRGF0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gZGF0ZVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gICAgICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gICAgICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICAgICAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gICAgICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICAgICAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICAgICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgICAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzU2FtZVRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hcGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IG1hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hdGNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gaW5kZXgsXG4gICAgICAgICAgbm9DdXN0b21pemVyID0gIWN1c3RvbWl6ZXI7XG5cbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgICAgICA/IGRhdGFbMV0gIT09IG9iamVjdFtkYXRhWzBdXVxuICAgICAgICAgICAgICA6ICEoZGF0YVswXSBpbiBvYmplY3QpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgICAgIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBzcmNWYWx1ZSA9IGRhdGFbMV07XG5cbiAgICAgICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2s7XG4gICAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcsIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgICAgIDogcmVzdWx0XG4gICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1JlZ0V4cGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzUmVnRXhwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSByZWdleHBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNTZXRgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBzZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXRlcmF0ZWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZT1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGl0ZXJhdGVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJdGVyYXRlZSh2YWx1ZSkge1xuICAgICAgLy8gRG9uJ3Qgc3RvcmUgdGhlIGB0eXBlb2ZgIHJlc3VsdCBpbiBhIHZhcmlhYmxlIHRvIGF2b2lkIGEgSklUIGJ1ZyBpbiBTYWZhcmkgOS5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU2MDM0IGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICA/IGJhc2VNYXRjaGVzUHJvcGVydHkodmFsdWVbMF0sIHZhbHVlWzFdKVxuICAgICAgICAgIDogYmFzZU1hdGNoZXModmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICAgICAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmx0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hcGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpdGVyYXRlZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2hEYXRhID0gZ2V0TWF0Y2hEYXRhKHNvdXJjZSk7XG4gICAgICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUobWF0Y2hEYXRhWzBdWzBdLCBtYXRjaERhdGFbMF1bMV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNQcm9wZXJ0eWAgd2hpY2ggZG9lc24ndCBjbG9uZSBgc3JjVmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgaWYgKGlzS2V5KHBhdGgpICYmIGlzU3RyaWN0Q29tcGFyYWJsZShzcmNWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHRvS2V5KHBhdGgpLCBzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IGdldChvYmplY3QsIHBhdGgpO1xuICAgICAgICByZXR1cm4gKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgb2JqVmFsdWUgPT09IHNyY1ZhbHVlKVxuICAgICAgICAgID8gaGFzSW4ob2JqZWN0LCBwYXRoKVxuICAgICAgICAgIDogYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBtZXJnZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIG1lcmdlRnVuYywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICAgICAgc3RhY2tlZCA9IHN0YWNrLmdldChzcmNWYWx1ZSk7XG5cbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgID8gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc1R5cGVkID0gIWlzQXJyICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHNyY1ZhbHVlKTtcblxuICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0J1ZmYpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVUeXBlZEFycmF5KHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHNyY1ZhbHVlKSB8fCBpc0FyZ3VtZW50cyhzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdG9QbGFpbk9iamVjdChvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgaXNGdW5jdGlvbihvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gaW5pdENsb25lT2JqZWN0KHNyY1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IG1lcmdlIG9iamVjdHMgYW5kIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgbWVyZ2VGdW5jKG5ld1ZhbHVlLCBzcmNWYWx1ZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5udGhgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU50aChhcnJheSwgbikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG4gKz0gbiA8IDAgPyBsZW5ndGggOiAwO1xuICAgICAgcmV0dXJuIGlzSW5kZXgobiwgbGVuZ3RoKSA/IGFycmF5W25dIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm9yZGVyQnlgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBpdGVyYXRlZXMgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IG9yZGVycyBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKSB7XG4gICAgICBpZiAoaXRlcmF0ZWVzLmxlbmd0aCkge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoaXRlcmF0ZWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2VHZXQodmFsdWUsIGl0ZXJhdGVlLmxlbmd0aCA9PT0gMSA/IGl0ZXJhdGVlWzBdIDogaXRlcmF0ZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXRlcmF0ZWU7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2lkZW50aXR5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVNvcnRCeShyZXN1bHQsIGZ1bmN0aW9uKG9iamVjdCwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucGlja2Agd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gaGFzSW4ob2JqZWN0LCBwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuICAgICAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgICAqIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICBzZWVuID0gYXJyYXk7XG5cbiAgICAgIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG4gICAgICogY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXBlYXRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgaWYgKCFzdHJpbmcgfHwgbiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIExldmVyYWdlIHRoZSBleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyBhbGdvcml0aG0gZm9yIGEgZmFzdGVyIHJlcGVhdC5cbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgZG8ge1xuICAgICAgICBpZiAobiAlIDIpIHtcbiAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuYXRpdmVGbG9vcihuIC8gMik7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBhcnJheVNhbXBsZSh2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZVNpemVgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuICAgICAgdmFyIGFycmF5ID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGFycmF5LCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICAgICAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ19fcHJvdG9fXycgfHwga2V5ID09PSAnY29uc3RydWN0b3InIHx8IGtleSA9PT0gJ3Byb3RvdHlwZScpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXREYXRhYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXREYXRhID0gIW1ldGFNYXAgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIGRhdGEpIHtcbiAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gICAgICBzdGFydCA+Pj49IDA7XG5cbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleGAgYW5kIGBfLnNvcnRlZExhc3RJbmRleGAgd2hpY2hcbiAgICAgKiBwZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb2YgYGFycmF5YCB0byBkZXRlcm1pbmUgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IGxvdyA6IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PT0gdmFsdWUgJiYgaGlnaCA8PSBIQUxGX01BWF9BUlJBWV9MRU5HVEgpIHtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGFycmF5W21pZF07XG5cbiAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuICAgICAgICAgICAgICAocmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleEJ5YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4QnlgXG4gICAgICogd2hpY2ggaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlXG4gICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFyIGxvdyA9IDAsXG4gICAgICAgICAgaGlnaCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGhpZ2ggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIHZhbHVlID0gaXRlcmF0ZWUodmFsdWUpO1xuICAgICAgdmFyIHZhbElzTmFOID0gdmFsdWUgIT09IHZhbHVlLFxuICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpLFxuICAgICAgICAgIHZhbElzVW5kZWZpbmVkID0gdmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgdmFyIG1pZCA9IG5hdGl2ZUZsb29yKChsb3cgKyBoaWdoKSAvIDIpLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZShhcnJheVttaWRdKSxcbiAgICAgICAgICAgIG90aElzRGVmaW5lZCA9IGNvbXB1dGVkICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBjb21wdXRlZCA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gY29tcHV0ZWQgPT09IGNvbXB1dGVkLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChjb21wdXRlZCk7XG5cbiAgICAgICAgaWYgKHZhbElzTmFOKSB7XG4gICAgICAgICAgdmFyIHNldExvdyA9IHJldEhpZ2hlc3QgfHwgb3RoSXNSZWZsZXhpdmU7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNVbmRlZmluZWQpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiAocmV0SGlnaGVzdCB8fCBvdGhJc0RlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzTnVsbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNOdWxsKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIG90aElzRGVmaW5lZCAmJiAhb3RoSXNOdWxsICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc1N5bWJvbCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3RoSXNOdWxsIHx8IG90aElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TG93ID0gcmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldExvdykge1xuICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5hdGl2ZU1pbihoaWdoLCBNQVhfQVJSQVlfSU5ERVgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZFVuaXFgIGFuZCBgXy5zb3J0ZWRVbmlxQnlgIHdpdGhvdXRcbiAgICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIGlmICghaW5kZXggfHwgIWVxKGNvbXB1dGVkLCBzZWVuKSkge1xuICAgICAgICAgIHZhciBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWUgPT09IDAgPyAwIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9OdW1iZXJgIHdoaWNoIGRvZXNuJ3QgZW5zdXJlIGNvcnJlY3RcbiAgICAgKiBjb252ZXJzaW9ucyBvZiBiaW5hcnksIGhleGFkZWNpbWFsLCBvciBvY3RhbCBzdHJpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9OdW1iZXIodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgcmV0dXJuICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAgICAgKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29udmVydCB2YWx1ZXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCBiYXNlVG9TdHJpbmcpICsgJyc7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuaXFCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgc2VlbiA9IHJlc3VsdDtcblxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIHZhciBzZXQgPSBpdGVyYXRlZSA/IG51bGwgOiBjcmVhdGVTZXQoYXJyYXkpO1xuICAgICAgICBpZiAoc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHNldFRvQXJyYXkoc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBzZWVuID0gbmV3IFNldENhY2hlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlZW4gPSBpdGVyYXRlZSA/IFtdIDogcmVzdWx0O1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgc2VlbkluZGV4ID0gc2Vlbi5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHNlZW5JbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAoc2VlbltzZWVuSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHNlZW4sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bnNldGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHByb3BlcnR5IHBhdGggdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCB8fCBkZWxldGUgb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51cGRhdGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1cGRhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHJldHVybiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdXBkYXRlcihiYXNlR2V0KG9iamVjdCwgcGF0aCkpLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZHJvcFdoaWxlYCBhbmQgYF8udGFrZVdoaWxlYFxuICAgICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRHJvcF0gU3BlY2lmeSBkcm9wcGluZyBlbGVtZW50cyBpbnN0ZWFkIG9mIHRha2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSwgaXNEcm9wLCBmcm9tUmlnaHQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMTtcblxuICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkgJiZcbiAgICAgICAgcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge31cblxuICAgICAgcmV0dXJuIGlzRHJvcFxuICAgICAgICA/IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IDAgOiBpbmRleCksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiBsZW5ndGgpKVxuICAgICAgICA6IGJhc2VTbGljZShhcnJheSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IDApLCAoZnJvbVJpZ2h0ID8gbGVuZ3RoIDogaW5kZXgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgd3JhcHBlclZhbHVlYCB3aGljaCByZXR1cm5zIHRoZSByZXN1bHQgb2ZcbiAgICAgKiBwZXJmb3JtaW5nIGEgc2VxdWVuY2Ugb2YgYWN0aW9ucyBvbiB0aGUgdW53cmFwcGVkIGB2YWx1ZWAsIHdoZXJlIGVhY2hcbiAgICAgKiBzdWNjZXNzaXZlIGFjdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFjdGlvbnMgQWN0aW9ucyB0byBwZXJmb3JtIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdyYXBwZXJWYWx1ZSh2YWx1ZSwgYWN0aW9ucykge1xuICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC52YWx1ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKGFjdGlvbnMsIGZ1bmN0aW9uKHJlc3VsdCwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb24uZnVuYy5hcHBseShhY3Rpb24udGhpc0FyZywgYXJyYXlQdXNoKFtyZXN1bHRdLCBhY3Rpb24uYXJncykpO1xuICAgICAgfSwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ueG9yYCwgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWG9yKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VVbmlxKGFycmF5c1swXSkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpbmRleF0sXG4gICAgICAgICAgICBvdGhJbmRleCA9IC0xO1xuXG4gICAgICAgIHdoaWxlICgrK290aEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG90aEluZGV4ICE9IGluZGV4KSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gYmFzZURpZmZlcmVuY2UocmVzdWx0W2luZGV4XSB8fCBhcnJheSwgYXJyYXlzW290aEluZGV4XSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKHJlc3VsdCwgMSksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uemlwT2JqZWN0YCB3aGljaCBhc3NpZ25zIHZhbHVlcyB1c2luZyBgYXNzaWduRnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25GdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVppcE9iamVjdChwcm9wcywgdmFsdWVzLCBhc3NpZ25GdW5jKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgdmFsc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGluZGV4IDwgdmFsc0xlbmd0aCA/IHZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2lnbkZ1bmMocmVzdWx0LCBwcm9wc1tpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhbiBlbXB0eSBhcnJheSBpZiBpdCdzIG5vdCBhbiBhcnJheSBsaWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYGlkZW50aXR5YCBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBjYXN0IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nID8gdmFsdWUgOiBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0UGF0aCh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgYGJhc2VSZXN0YCBhbGlhcyB3aGljaCBjYW4gYmUgcmVwbGFjZWQgd2l0aCBgaWRlbnRpdHlgIGJ5IG1vZHVsZVxuICAgICAqIHJlcGxhY2VtZW50IHBsdWdpbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHZhciBjYXN0UmVzdCA9IGJhc2VSZXN0O1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBlbmQ7XG4gICAgICByZXR1cm4gKCFzdGFydCAmJiBlbmQgPj0gbGVuZ3RoKSA/IGFycmF5IDogYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgY2xlYXJUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vY2xlYXJUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ8T2JqZWN0fSBpZCBUaGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3Qgb2YgdGhlIHRpbWVyIHRvIGNsZWFyLlxuICAgICAqL1xuICAgIHZhciBjbGVhclRpbWVvdXQgPSBjdHhDbGVhclRpbWVvdXQgfHwgZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiByb290LmNsZWFyVGltZW91dChpZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiAgYGJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVCdWZmZXIoYnVmZmVyLCBpc0RlZXApIHtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYWxsb2NVbnNhZmUgPyBhbGxvY1Vuc2FmZShsZW5ndGgpIDogbmV3IGJ1ZmZlci5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICBidWZmZXIuY29weShyZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBhcnJheSBidWZmZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBhcnJheUJ1ZmZlci5jb25zdHJ1Y3RvcihhcnJheUJ1ZmZlci5ieXRlTGVuZ3RoKTtcbiAgICAgIG5ldyBVaW50OEFycmF5KHJlc3VsdCkuc2V0KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgZGF0YVZpZXdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVZpZXcgVGhlIGRhdGEgdmlldyB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEYXRhVmlldyhkYXRhVmlldywgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcihkYXRhVmlldy5idWZmZXIpIDogZGF0YVZpZXcuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgcmVnZXhwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlZ2V4cCBUaGUgcmVnZXhwIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCByZWdleHAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IHJlZ2V4cC5jb25zdHJ1Y3RvcihyZWdleHAuc291cmNlLCByZUZsYWdzLmV4ZWMocmVnZXhwKSk7XG4gICAgICByZXN1bHQubGFzdEluZGV4ID0gcmVnZXhwLmxhc3RJbmRleDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBgc3ltYm9sYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzeW1ib2wgVGhlIHN5bWJvbCBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHN5bWJvbCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7XG4gICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZiA/IE9iamVjdChzeW1ib2xWYWx1ZU9mLmNhbGwoc3ltYm9sKSkgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHR5cGVkQXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHlwZWRBcnJheSBUaGUgdHlwZWQgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVUeXBlZEFycmF5KHR5cGVkQXJyYXksIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IHR5cGVkQXJyYXkuY29uc3RydWN0b3IoYnVmZmVyLCB0eXBlZEFycmF5LmJ5dGVPZmZzZXQsIHR5cGVkQXJyYXkubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlcyB2YWx1ZXMgdG8gc29ydCB0aGVtIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgdmFsdWVgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIHZhciB2YWxJc0RlZmluZWQgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgICB2YWxJc1JlZmxleGl2ZSA9IHZhbHVlID09PSB2YWx1ZSxcbiAgICAgICAgICAgIHZhbElzU3ltYm9sID0gaXNTeW1ib2wodmFsdWUpO1xuXG4gICAgICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gb3RoZXIgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IG90aGVyID09PSBvdGhlcixcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgICAgIGlmICgoIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wgJiYgIXZhbElzU3ltYm9sICYmIHZhbHVlID4gb3RoZXIpIHx8XG4gICAgICAgICAgICAodmFsSXNTeW1ib2wgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlICYmICFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIXZhbElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICF2YWxJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wgJiYgIW90aElzU3ltYm9sICYmIHZhbHVlIDwgb3RoZXIpIHx8XG4gICAgICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAgICAgKG90aElzTnVsbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAoIW90aElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gICAgICogYW5kIHN0YWJsZSBzb3J0IHRoZW0uXG4gICAgICpcbiAgICAgKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICAgICAqIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAgICAgKiBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXXxzdHJpbmdbXX0gb3JkZXJzIFRoZSBvcmRlciB0byBzb3J0IGJ5IGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIGZvciBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgICAgICBvdGhDcml0ZXJpYSA9IG90aGVyLmNyaXRlcmlhLFxuICAgICAgICAgIGxlbmd0aCA9IG9iakNyaXRlcmlhLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY29tcGFyZUFzY2VuZGluZyhvYmpDcml0ZXJpYVtpbmRleF0sIG90aENyaXRlcmlhW2luZGV4XSk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gb3JkZXJzTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgb3JkZXIgPSBvcmRlcnNbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiByZXN1bHQgKiAob3JkZXIgPT0gJ2Rlc2MnID8gLTEgOiAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRml4ZXMgYW4gYEFycmF5I3NvcnRgIGJ1ZyBpbiB0aGUgSlMgZW5naW5lIGVtYmVkZGVkIGluIEFkb2JlIGFwcGxpY2F0aW9uc1xuICAgICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgICAgIC8vIGBvYmplY3RgIGFuZCBgb3RoZXJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIGFsc28gZW5zdXJlcyBhIHN0YWJsZSBzb3J0IGluIFY4IGFuZCBvdGhlciBlbmdpbmVzLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTkwIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMsXG4gICAgICogcGxhY2Vob2xkZXJzLCBhbmQgcHJvdmlkZWQgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgcmFuZ2VMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W2hvbGRlcnNbYXJnc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChyYW5nZUxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuICAgICAqIGlzIHRhaWxvcmVkIGZvciBgXy5wYXJ0aWFsUmlnaHRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzSW5kZXggPSAtMSxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgcmlnaHRJbmRleCA9IC0xLFxuICAgICAgICAgIHJpZ2h0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgIHJhbmdlTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3NMZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShyYW5nZUxlbmd0aCArIHJpZ2h0TGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IHJhbmdlTGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFthcmdzSW5kZXhdID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgfVxuICAgICAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcbiAgICAgIHdoaWxlICgrK3JpZ2h0SW5kZXggPCByaWdodExlbmd0aCkge1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgcmlnaHRJbmRleF0gPSBwYXJ0aWFsc1tyaWdodEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2hvbGRlcnNJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXk9W11dIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICAgICAgYXJyYXkgfHwgKGFycmF5ID0gQXJyYXkobGVuZ3RoKSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvcGllZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5T2JqZWN0KHNvdXJjZSwgcHJvcHMsIG9iamVjdCwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgICAgIG9iamVjdCB8fCAob2JqZWN0ID0ge30pO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG5cbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgID8gY3VzdG9taXplcihvYmplY3Rba2V5XSwgc291cmNlW2tleV0sIGtleSwgb2JqZWN0LCBzb3VyY2UpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05ldykge1xuICAgICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHMoc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9scyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gYW5kIGluaGVyaXRlZCBzeW1ib2xzIG9mIGBzb3VyY2VgIHRvIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3Q9e31dIFRoZSBvYmplY3QgdG8gY29weSBzeW1ib2xzIHRvLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weVN5bWJvbHNJbihzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzSW4oc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5ncm91cEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpbml0aWFsaXplcl0gVGhlIGFjY3VtdWxhdG9yIG9iamVjdCBpbml0aWFsaXplci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhZ2dyZWdhdG9yIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFnZ3JlZ2F0b3Ioc2V0dGVyLCBpbml0aWFsaXplcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5QWdncmVnYXRvciA6IGJhc2VBZ2dyZWdhdG9yLFxuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBpbml0aWFsaXplciA/IGluaXRpYWxpemVyKCkgOiB7fTtcblxuICAgICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBzZXR0ZXIsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYWNjdW11bGF0b3IpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5hc3NpZ25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhc3NpZ25lciBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBc3NpZ25lcihhc3NpZ25lcikge1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZXMubGVuZ3RoLFxuICAgICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBjdXN0b21pemVyID0gKGFzc2lnbmVyLmxlbmd0aCA+IDMgJiYgdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZXNbaW5kZXhdO1xuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGJhc2VFYWNoYCBvciBgYmFzZUVhY2hSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYSBjb2xsZWN0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUVhY2goZWFjaEZ1bmMsIGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cbiAgICAgICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYmFzZSBmdW5jdGlvbiBmb3IgbWV0aG9kcyBsaWtlIGBfLmZvckluYCBhbmQgYF8uZm9yT3duYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRm9yKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgaXRlcmFibGUgPSBPYmplY3Qob2JqZWN0KSxcbiAgICAgICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmluZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5sb3dlckZpcnN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBTdHJpbmdgIGNhc2UgbWV0aG9kIHRvIHVzZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhc2VGaXJzdChtZXRob2ROYW1lKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHZhciBjaHIgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICAgICAgOiBzdHJpbmcuY2hhckF0KDApO1xuXG4gICAgICAgIHZhciB0cmFpbGluZyA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgICAgIDogc3RyaW5nLnNsaWNlKDEpO1xuXG4gICAgICAgIHJldHVybiBjaHJbbWV0aG9kTmFtZV0oKSArIHRyYWlsaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG91bmRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZXMgYW4gaW5zdGFuY2Ugb2YgYEN0b3JgIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgKiB3aGV0aGVyIGl0IHdhcyBpbnZva2VkIGFzIHBhcnQgb2YgYSBgbmV3YCBleHByZXNzaW9uIG9yIGJ5IGBjYWxsYCBvciBgYXBwbHlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDdG9yIFRoZSBjb25zdHJ1Y3RvciB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3RvcihDdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFVzZSBhIGBzd2l0Y2hgIHN0YXRlbWVudCB0byB3b3JrIHdpdGggY2xhc3MgY29uc3RydWN0b3JzLiBTZWVcbiAgICAgICAgLy8gaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1mdW5jdGlvbi1vYmplY3RzLWNhbGwtdGhpc2FyZ3VtZW50LWFyZ3VtZW50c2xpc3RcbiAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQ3RvcjtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICBjYXNlIDQ6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdKTtcbiAgICAgICAgICBjYXNlIDc6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKEN0b3IucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IEN0b3IuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuXG4gICAgICAgIC8vIE1pbWljIHRoZSBjb25zdHJ1Y3RvcidzIGByZXR1cm5gIGJlaGF2aW9yLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBlbmFibGUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYXJpdHkgVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KSB7XG4gICAgICB2YXIgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBob2xkZXJzID0gKGxlbmd0aCA8IDMgJiYgYXJnc1swXSAhPT0gcGxhY2Vob2xkZXIgJiYgYXJnc1tsZW5ndGggLSAxXSAhPT0gcGxhY2Vob2xkZXIpXG4gICAgICAgICAgPyBbXVxuICAgICAgICAgIDogcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuXG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZ3MsIGhvbGRlcnMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSAtIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5maW5kYCBvciBgXy5maW5kTGFzdGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbmRJbmRleEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGNvbGxlY3Rpb24gaW5kZXguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmluZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGaW5kKGZpbmRJbmRleEZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgICB2YXIgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBrZXlzKGNvbGxlY3Rpb24pO1xuICAgICAgICAgIHByZWRpY2F0ZSA9IGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSk7IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gZmluZEluZGV4RnVuYyhjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGZyb21JbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+IC0xID8gaXRlcmFibGVbaXRlcmF0ZWUgPyBjb2xsZWN0aW9uW2luZGV4XSA6IGluZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZsb3dgIG9yIGBfLmZsb3dSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZsb3cgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmxvdyhmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihmdW5jcykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gZnVuY3MubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwcmVyZXEgPSBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS50aHJ1O1xuXG4gICAgICAgIGlmIChmcm9tUmlnaHQpIHtcbiAgICAgICAgICBmdW5jcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmNzW2luZGV4XTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJlcmVxICYmICF3cmFwcGVyICYmIGdldEZ1bmNOYW1lKGZ1bmMpID09ICd3cmFwcGVyJykge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBuZXcgTG9kYXNoV3JhcHBlcihbXSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gd3JhcHBlciA/IGluZGV4IDogbGVuZ3RoO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGZ1bmMgPSBmdW5jc1tpbmRleF07XG5cbiAgICAgICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICAgICAgZGF0YSA9IGZ1bmNOYW1lID09ICd3cmFwcGVyJyA/IGdldERhdGEoZnVuYykgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAoZGF0YSAmJiBpc0xhemlhYmxlKGRhdGFbMF0pICYmXG4gICAgICAgICAgICAgICAgZGF0YVsxXSA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSAmJlxuICAgICAgICAgICAgICAgICFkYXRhWzRdLmxlbmd0aCAmJiBkYXRhWzldID09IDFcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gd3JhcHBlcltnZXRGdW5jTmFtZShkYXRhWzBdKV0uYXBwbHkod3JhcHBlciwgZGF0YVszXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSAoZnVuYy5sZW5ndGggPT0gMSAmJiBpc0xhemlhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICA/IHdyYXBwZXJbZnVuY05hbWVdKClcbiAgICAgICAgICAgICAgOiB3cmFwcGVyLnRocnUoZnVuYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgdmFsdWUgPSBhcmdzWzBdO1xuXG4gICAgICAgICAgaWYgKHdyYXBwZXIgJiYgYXJncy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXIucGxhbnQodmFsdWUpLnZhbHVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IGxlbmd0aCA/IGZ1bmNzW2luZGV4XS5hcHBseSh0aGlzLCBhcmdzKSA6IHZhbHVlO1xuXG4gICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmNzW2luZGV4XS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggb3B0aW9uYWwgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiBgdGhpc0FyZ2AsIHBhcnRpYWwgYXBwbGljYXRpb24sIGFuZCBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkXG4gICAgICogIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNSaWdodF0gVGhlIGBwYXJ0aWFsc1JpZ2h0YCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUh5YnJpZChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBXUkFQX0FSWV9GTEFHLFxuICAgICAgICAgIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHLFxuICAgICAgICAgIGlzQ3VycmllZCA9IGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSxcbiAgICAgICAgICBpc0ZsaXAgPSBiaXRtYXNrICYgV1JBUF9GTElQX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDdXJyaWVkKSB7XG4gICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gZ2V0SG9sZGVyKHdyYXBwZXIpLFxuICAgICAgICAgICAgICBob2xkZXJzQ291bnQgPSBjb3VudEhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFscykge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHNSaWdodCkge1xuICAgICAgICAgIGFyZ3MgPSBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgaXNDdXJyaWVkKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGggLT0gaG9sZGVyc0NvdW50O1xuICAgICAgICBpZiAoaXNDdXJyaWVkICYmIGxlbmd0aCA8IGFyaXR5KSB7XG4gICAgICAgICAgdmFyIG5ld0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlY3VycnkoXG4gICAgICAgICAgICBmdW5jLCBiaXRtYXNrLCBjcmVhdGVIeWJyaWQsIHdyYXBwZXIucGxhY2Vob2xkZXIsIHRoaXNBcmcsXG4gICAgICAgICAgICBhcmdzLCBuZXdIb2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkgLSBsZW5ndGhcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLFxuICAgICAgICAgICAgZm4gPSBpc0JpbmRLZXkgPyB0aGlzQmluZGluZ1tmdW5jXSA6IGZ1bmM7XG5cbiAgICAgICAgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGlmIChhcmdQb3MpIHtcbiAgICAgICAgICBhcmdzID0gcmVvcmRlcihhcmdzLCBhcmdQb3MpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRmxpcCAmJiBsZW5ndGggPiAxKSB7XG4gICAgICAgICAgYXJncy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3MubGVuZ3RoID0gYXJ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcbiAgICAgICAgICBmbiA9IEN0b3IgfHwgY3JlYXRlQ3Rvcihmbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmludmVydEJ5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYWNjdW11bGF0b3IgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRvSXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludmVydGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmVydGVyKHNldHRlciwgdG9JdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgdG9JdGVyYXRlZShpdGVyYXRlZSksIHt9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSB1c2VkIGZvciBgdW5kZWZpbmVkYCBhcmd1bWVudHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVNYXRoT3BlcmF0aW9uKG9wZXJhdG9yLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgb3RoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9TdHJpbmcob3RoZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb051bWJlcihvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ub3ZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFycmF5RnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBvdmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU92ZXIoYXJyYXlGdW5jKSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oaXRlcmF0ZWVzKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgICB2YXIgdGhpc0FyZyA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuIGFycmF5RnVuYyhpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgIGJhc2VkIG9uIGBsZW5ndGhgLiBUaGUgYGNoYXJzYCBzdHJpbmdcbiAgICAgKiBpcyB0cnVuY2F0ZWQgaWYgdGhlIG51bWJlciBvZiBjaGFyYWN0ZXJzIGV4Y2VlZHMgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYWRkaW5nKGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIGNoYXJzID0gY2hhcnMgPT09IHVuZGVmaW5lZCA/ICcgJyA6IGJhc2VUb1N0cmluZyhjaGFycyk7XG5cbiAgICAgIHZhciBjaGFyc0xlbmd0aCA9IGNoYXJzLmxlbmd0aDtcbiAgICAgIGlmIChjaGFyc0xlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJzTGVuZ3RoID8gYmFzZVJlcGVhdChjaGFycywgbGVuZ3RoKSA6IGNoYXJzO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VSZXBlYXQoY2hhcnMsIG5hdGl2ZUNlaWwobGVuZ3RoIC8gc3RyaW5nU2l6ZShjaGFycykpKTtcbiAgICAgIHJldHVybiBoYXNVbmljb2RlKGNoYXJzKVxuICAgICAgICA/IGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHJlc3VsdCksIDAsIGxlbmd0aCkuam9pbignJylcbiAgICAgICAgOiByZXN1bHQuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nXG4gICAgICogb2YgYHRoaXNBcmdgIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCksXG4gICAgICAgICAgICBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG5cbiAgICAgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgICAgICAgIGFyZ3NbbGVmdEluZGV4KytdID0gYXJndW1lbnRzWysrYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmdzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5yYW5nZWAgb3IgYF8ucmFuZ2VSaWdodGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJhbmdlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJhbmdlKGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgJiYgdHlwZW9mIHN0ZXAgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RhcnQsIGVuZCwgc3RlcCkpIHtcbiAgICAgICAgICBlbmQgPSBzdGVwID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgICB9XG4gICAgICAgIHN0ZXAgPSBzdGVwID09PSB1bmRlZmluZWQgPyAoc3RhcnQgPCBlbmQgPyAxIDogLTEpIDogdG9GaW5pdGUoc3RlcCk7XG4gICAgICAgIHJldHVybiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSByZWxhdGlvbmFsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlbGF0aW9uYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24ob3BlcmF0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgaWYgKCEodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnICYmIHR5cGVvZiBvdGhlciA9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICBvdGhlciA9IHRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGNvbnRpbnVlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYGZ1bmNgIHdyYXBwZXIuXG4gICAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcmdQb3NdIFRoZSBhcmd1bWVudCBwb3NpdGlvbnMgb2YgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJlY3VycnkoZnVuYywgYml0bWFzaywgd3JhcEZ1bmMsIHBsYWNlaG9sZGVyLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNDdXJyeSA9IGJpdG1hc2sgJiBXUkFQX0NVUlJZX0ZMQUcsXG4gICAgICAgICAgbmV3SG9sZGVycyA9IGlzQ3VycnkgPyBob2xkZXJzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBob2xkZXJzLFxuICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IHBhcnRpYWxzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5ld1BhcnRpYWxzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogcGFydGlhbHM7XG5cbiAgICAgIGJpdG1hc2sgfD0gKGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfRkxBRyA6IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgIGJpdG1hc2sgJj0gfihpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcgOiBXUkFQX1BBUlRJQUxfRkxBRyk7XG5cbiAgICAgIGlmICghKGJpdG1hc2sgJiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgbmV3UGFydGlhbHMsIG5ld0hvbGRlcnMsIG5ld1BhcnRpYWxzUmlnaHQsXG4gICAgICAgIG5ld0hvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gd3JhcEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIGlmIChpc0xhemlhYmxlKGZ1bmMpKSB7XG4gICAgICAgIHNldERhdGEocmVzdWx0LCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhyZXN1bHQsIGZ1bmMsIGJpdG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLnJvdW5kYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGBNYXRoYCBtZXRob2QgdG8gdXNlIHdoZW4gcm91bmRpbmcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcm91bmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUm91bmQobWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBNYXRoW21ldGhvZE5hbWVdO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gICAgICAgIG51bWJlciA9IHRvTnVtYmVyKG51bWJlcik7XG4gICAgICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiA9PSBudWxsID8gMCA6IG5hdGl2ZU1pbih0b0ludGVnZXIocHJlY2lzaW9uKSwgMjkyKTtcbiAgICAgICAgaWYgKHByZWNpc2lvbiAmJiBuYXRpdmVJc0Zpbml0ZShudW1iZXIpKSB7XG4gICAgICAgICAgLy8gU2hpZnQgd2l0aCBleHBvbmVudGlhbCBub3RhdGlvbiB0byBhdm9pZCBmbG9hdGluZy1wb2ludCBpc3N1ZXMuXG4gICAgICAgICAgLy8gU2VlIFtNRE5dKGh0dHBzOi8vbWRuLmlvL3JvdW5kI0V4YW1wbGVzKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgIHZhciBwYWlyID0gKHRvU3RyaW5nKG51bWJlcikgKyAnZScpLnNwbGl0KCdlJyksXG4gICAgICAgICAgICAgIHZhbHVlID0gZnVuYyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdICsgcHJlY2lzaW9uKSk7XG5cbiAgICAgICAgICBwYWlyID0gKHRvU3RyaW5nKHZhbHVlKSArICdlJykuc3BsaXQoJ2UnKTtcbiAgICAgICAgICByZXR1cm4gKyhwYWlyWzBdICsgJ2UnICsgKCtwYWlyWzFdIC0gcHJlY2lzaW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMobnVtYmVyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNldCBvYmplY3Qgb2YgYHZhbHVlc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFkZCB0byB0aGUgc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBzZXQuXG4gICAgICovXG4gICAgdmFyIGNyZWF0ZVNldCA9ICEoU2V0ICYmICgxIC8gc2V0VG9BcnJheShuZXcgU2V0KFssLTBdKSlbMV0pID09IElORklOSVRZKSA/IG5vb3AgOiBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBuZXcgU2V0KHZhbHVlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy50b1BhaXJzYCBvciBgXy50b1BhaXJzSW5gIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhaXJzIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVRvUGFpcnMoa2V5c0Z1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIHRhZyA9IGdldFRhZyhvYmplY3QpO1xuICAgICAgICBpZiAodGFnID09IG1hcFRhZykge1xuICAgICAgICAgIHJldHVybiBtYXBUb0FycmF5KG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9QYWlycyhvYmplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlVG9QYWlycyhvYmplY3QsIGtleXNGdW5jKG9iamVjdCkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBlaXRoZXIgY3VycmllcyBvciBpbnZva2VzIGBmdW5jYCB3aXRoIG9wdGlvbmFsXG4gICAgICogYHRoaXNgIGJpbmRpbmcgYW5kIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogICAgMSAtIGBfLmJpbmRgXG4gICAgICogICAgMiAtIGBfLmJpbmRLZXlgXG4gICAgICogICAgNCAtIGBfLmN1cnJ5YCBvciBgXy5jdXJyeVJpZ2h0YCBvZiBhIGJvdW5kIGZ1bmN0aW9uXG4gICAgICogICAgOCAtIGBfLmN1cnJ5YFxuICAgICAqICAgMTYgLSBgXy5jdXJyeVJpZ2h0YFxuICAgICAqICAgMzIgLSBgXy5wYXJ0aWFsYFxuICAgICAqICAgNjQgLSBgXy5wYXJ0aWFsUmlnaHRgXG4gICAgICogIDEyOCAtIGBfLnJlYXJnYFxuICAgICAqICAyNTYgLSBgXy5hcnlgXG4gICAgICogIDUxMiAtIGBfLmZsaXBgXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlV3JhcChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRztcbiAgICAgIGlmICghaXNCaW5kS2V5ICYmIHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhcnRpYWxzID8gcGFydGlhbHMubGVuZ3RoIDogMDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJ5ID0gYXJ5ID09PSB1bmRlZmluZWQgPyBhcnkgOiBuYXRpdmVNYXgodG9JbnRlZ2VyKGFyeSksIDApO1xuICAgICAgYXJpdHkgPSBhcml0eSA9PT0gdW5kZWZpbmVkID8gYXJpdHkgOiB0b0ludGVnZXIoYXJpdHkpO1xuICAgICAgbGVuZ3RoIC09IGhvbGRlcnMgPyBob2xkZXJzLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmIChiaXRtYXNrICYgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzUmlnaHQgPSBwYXJ0aWFscyxcbiAgICAgICAgICAgIGhvbGRlcnNSaWdodCA9IGhvbGRlcnM7XG5cbiAgICAgICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBnZXREYXRhKGZ1bmMpO1xuXG4gICAgICB2YXIgbmV3RGF0YSA9IFtcbiAgICAgICAgZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCxcbiAgICAgICAgYXJnUG9zLCBhcnksIGFyaXR5XG4gICAgICBdO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBtZXJnZURhdGEobmV3RGF0YSwgZGF0YSk7XG4gICAgICB9XG4gICAgICBmdW5jID0gbmV3RGF0YVswXTtcbiAgICAgIGJpdG1hc2sgPSBuZXdEYXRhWzFdO1xuICAgICAgdGhpc0FyZyA9IG5ld0RhdGFbMl07XG4gICAgICBwYXJ0aWFscyA9IG5ld0RhdGFbM107XG4gICAgICBob2xkZXJzID0gbmV3RGF0YVs0XTtcbiAgICAgIGFyaXR5ID0gbmV3RGF0YVs5XSA9IG5ld0RhdGFbOV0gPT09IHVuZGVmaW5lZFxuICAgICAgICA/IChpc0JpbmRLZXkgPyAwIDogZnVuYy5sZW5ndGgpXG4gICAgICAgIDogbmF0aXZlTWF4KG5ld0RhdGFbOV0gLSBsZW5ndGgsIDApO1xuXG4gICAgICBpZiAoIWFyaXR5ICYmIGJpdG1hc2sgJiAoV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9DVVJSWV9SSUdIVF9GTEFHKTtcbiAgICAgIH1cbiAgICAgIGlmICghYml0bWFzayB8fCBiaXRtYXNrID09IFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpO1xuICAgICAgfSBlbHNlIGlmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRyB8fCBiaXRtYXNrID09IFdSQVBfQ1VSUllfUklHSFRfRkxBRykge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSk7XG4gICAgICB9IGVsc2UgaWYgKChiaXRtYXNrID09IFdSQVBfUEFSVElBTF9GTEFHIHx8IGJpdG1hc2sgPT0gKFdSQVBfQklORF9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcpKSAmJiAhaG9sZGVycy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0ID0gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVIeWJyaWQuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcbiAgICAgIH1cbiAgICAgIHZhciBzZXR0ZXIgPSBkYXRhID8gYmFzZVNldERhdGEgOiBzZXREYXRhO1xuICAgICAgcmV0dXJuIHNldFdyYXBUb1N0cmluZyhzZXR0ZXIocmVzdWx0LCBuZXdEYXRhKSwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlZCBieSBgXy5kZWZhdWx0c2AgdG8gY3VzdG9taXplIGl0cyBgXy5hc3NpZ25JbmAgdXNlIHRvIGFzc2lnbiBwcm9wZXJ0aWVzXG4gICAgICogb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXNcbiAgICAgKiB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgKGVxKG9ialZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgIHJldHVybiBzcmNWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzRGVlcGAgdG8gY3VzdG9taXplIGl0cyBgXy5tZXJnZWAgdXNlIHRvIG1lcmdlIHNvdXJjZVxuICAgICAqIG9iamVjdHMgaW50byBkZXN0aW5hdGlvbiBvYmplY3RzIHRoYXQgYXJlIHBhc3NlZCB0aHJ1LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IG9ialZhbHVlIFRoZSBkZXN0aW5hdGlvbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSBzb3VyY2UgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBvYmpWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgcGFyZW50IG9iamVjdCBvZiBgc3JjVmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykge1xuICAgICAgaWYgKGlzT2JqZWN0KG9ialZhbHVlKSAmJiBpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgb2JqVmFsdWUpO1xuICAgICAgICBiYXNlTWVyZ2Uob2JqVmFsdWUsIHNyY1ZhbHVlLCB1bmRlZmluZWQsIGN1c3RvbURlZmF1bHRzTWVyZ2UsIHN0YWNrKTtcbiAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpWYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9taXRgIHRvIGN1c3RvbWl6ZSBpdHMgYF8uY2xvbmVEZWVwYCB1c2UgdG8gb25seSBjbG9uZSBwbGFpblxuICAgICAqIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB1bmNsb25lZCB2YWx1ZSBvciBgdW5kZWZpbmVkYCB0byBkZWZlciBjbG9uaW5nIHRvIGBfLmNsb25lRGVlcGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tT21pdENsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNQbGFpbk9iamVjdCh2YWx1ZSkgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGFycmF5cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvdGhlciBUaGUgb3RoZXIgYXJyYXkgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGFjayBUcmFja3MgdHJhdmVyc2VkIGBhcnJheWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFycmF5cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQXJyYXlzKGFycmF5LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gb3RoZXIubGVuZ3RoO1xuXG4gICAgICBpZiAoYXJyTGVuZ3RoICE9IG90aExlbmd0aCAmJiAhKGlzUGFydGlhbCAmJiBvdGhMZW5ndGggPiBhcnJMZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIHRoYXQgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgYXJyU3RhY2tlZCA9IHN0YWNrLmdldChhcnJheSk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAoYXJyU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBhcnJTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gYXJyYXk7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgICAgIHNlZW4gPSAoYml0bWFzayAmIENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpID8gbmV3IFNldENhY2hlIDogdW5kZWZpbmVkO1xuXG4gICAgICBzdGFjay5zZXQoYXJyYXksIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgYXJyYXkpO1xuXG4gICAgICAvLyBJZ25vcmUgbm9uLWluZGV4IHByb3BlcnRpZXMuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGFyckxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyVmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2luZGV4XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBhcnJWYWx1ZSwgaW5kZXgsIG90aGVyLCBhcnJheSwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIoYXJyVmFsdWUsIG90aFZhbHVlLCBpbmRleCwgYXJyYXksIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBhcmVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoY29tcGFyZWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgIGlmICghYXJyYXlTb21lKG90aGVyLCBmdW5jdGlvbihvdGhWYWx1ZSwgb3RoSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlSGFzKHNlZW4sIG90aEluZGV4KSAmJlxuICAgICAgICAgICAgICAgICAgICAoYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzZWVuLnB1c2gob3RoSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEoXG4gICAgICAgICAgICAgIGFyclZhbHVlID09PSBvdGhWYWx1ZSB8fFxuICAgICAgICAgICAgICAgIGVxdWFsRnVuYyhhcnJWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10oYXJyYXkpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBjb21wYXJpbmcgb2JqZWN0cyBvZlxuICAgICAqIHRoZSBzYW1lIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNvbXBhcmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0cyB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIHRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgIChvYmplY3QuYnl0ZU9mZnNldCAhPSBvdGhlci5ieXRlT2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmplY3QgPSBvYmplY3QuYnVmZmVyO1xuICAgICAgICAgIG90aGVyID0gb3RoZXIuYnVmZmVyO1xuXG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgaWYgKChvYmplY3QuYnl0ZUxlbmd0aCAhPSBvdGhlci5ieXRlTGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAhZXF1YWxGdW5jKG5ldyBVaW50OEFycmF5KG9iamVjdCksIG5ldyBVaW50OEFycmF5KG90aGVyKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSBib29sZWFucyB0byBgMWAgb3IgYDBgIGFuZCBkYXRlcyB0byBtaWxsaXNlY29uZHMuXG4gICAgICAgICAgLy8gSW52YWxpZCBkYXRlcyBhcmUgY29lcmNlZCB0byBgTmFOYC5cbiAgICAgICAgICByZXR1cm4gZXEoK29iamVjdCwgK290aGVyKTtcblxuICAgICAgICBjYXNlIGVycm9yVGFnOlxuICAgICAgICAgIHJldHVybiBvYmplY3QubmFtZSA9PSBvdGhlci5uYW1lICYmIG9iamVjdC5tZXNzYWdlID09IG90aGVyLm1lc3NhZ2U7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIC8vIENvZXJjZSByZWdleGVzIHRvIHN0cmluZ3MgYW5kIHRyZWF0IHN0cmluZ3MsIHByaW1pdGl2ZXMgYW5kIG9iamVjdHMsXG4gICAgICAgICAgLy8gYXMgZXF1YWwuIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcmVnZXhwLnByb3RvdHlwZS50b3N0cmluZ1xuICAgICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgcmV0dXJuIG9iamVjdCA9PSAob3RoZXIgKyAnJyk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgdmFyIGNvbnZlcnQgPSBtYXBUb0FycmF5O1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHZhciBpc1BhcnRpYWwgPSBiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUc7XG4gICAgICAgICAgY29udmVydCB8fCAoY29udmVydCA9IHNldFRvQXJyYXkpO1xuXG4gICAgICAgICAgaWYgKG9iamVjdC5zaXplICE9IG90aGVyLnNpemUgJiYgIWlzUGFydGlhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBc3N1bWUgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgICAgICBpZiAoc3RhY2tlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJpdG1hc2sgfD0gQ09NUEFSRV9VTk9SREVSRURfRkxBRztcblxuICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZXF1YWxBcnJheXMoY29udmVydChvYmplY3QpLCBjb252ZXJ0KG90aGVyKSwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICBpZiAoc3ltYm9sVmFsdWVPZikge1xuICAgICAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YuY2FsbChvYmplY3QpID09IHN5bWJvbFZhbHVlT2YuY2FsbChvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3Igb2JqZWN0cyB3aXRoIHN1cHBvcnQgZm9yXG4gICAgICogcGFydGlhbCBkZWVwIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRyxcbiAgICAgICAgICBvYmpQcm9wcyA9IGdldEFsbEtleXMob2JqZWN0KSxcbiAgICAgICAgICBvYmpMZW5ndGggPSBvYmpQcm9wcy5sZW5ndGgsXG4gICAgICAgICAgb3RoUHJvcHMgPSBnZXRBbGxLZXlzKG90aGVyKSxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhQcm9wcy5sZW5ndGg7XG5cbiAgICAgIGlmIChvYmpMZW5ndGggIT0gb3RoTGVuZ3RoICYmICFpc1BhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gb2JqTGVuZ3RoO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgaWYgKCEoaXNQYXJ0aWFsID8ga2V5IGluIG90aGVyIDogaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwga2V5KSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIHRoYXQgY3ljbGljIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAgICB2YXIgb2JqU3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgdmFyIG90aFN0YWNrZWQgPSBzdGFjay5nZXQob3RoZXIpO1xuICAgICAgaWYgKG9ialN0YWNrZWQgJiYgb3RoU3RhY2tlZCkge1xuICAgICAgICByZXR1cm4gb2JqU3RhY2tlZCA9PSBvdGhlciAmJiBvdGhTdGFja2VkID09IG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBvYmplY3QpO1xuXG4gICAgICB2YXIgc2tpcEN0b3IgPSBpc1BhcnRpYWw7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG9iakxlbmd0aCkge1xuICAgICAgICBrZXkgPSBvYmpQcm9wc1tpbmRleF07XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgb3RoVmFsdWUgPSBvdGhlcltrZXldO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIG9ialZhbHVlLCBrZXksIG90aGVyLCBvYmplY3QsIHN0YWNrKVxuICAgICAgICAgICAgOiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSwga2V5LCBvYmplY3QsIG90aGVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmICghKGNvbXBhcmVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAob2JqVmFsdWUgPT09IG90aFZhbHVlIHx8IGVxdWFsRnVuYyhvYmpWYWx1ZSwgb3RoVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSlcbiAgICAgICAgICAgICAgOiBjb21wYXJlZFxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNraXBDdG9yIHx8IChza2lwQ3RvciA9IGtleSA9PSAnY29uc3RydWN0b3InKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgJiYgIXNraXBDdG9yKSB7XG4gICAgICAgIHZhciBvYmpDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgb3RoQ3RvciA9IG90aGVyLmNvbnN0cnVjdG9yO1xuXG4gICAgICAgIC8vIE5vbiBgT2JqZWN0YCBvYmplY3QgaW5zdGFuY2VzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWFsLlxuICAgICAgICBpZiAob2JqQ3RvciAhPSBvdGhDdG9yICYmXG4gICAgICAgICAgICAoJ2NvbnN0cnVjdG9yJyBpbiBvYmplY3QgJiYgJ2NvbnN0cnVjdG9yJyBpbiBvdGhlcikgJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iakN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvYmpDdG9yIGluc3RhbmNlb2Ygb2JqQ3RvciAmJlxuICAgICAgICAgICAgICB0eXBlb2Ygb3RoQ3RvciA9PSAnZnVuY3Rpb24nICYmIG90aEN0b3IgaW5zdGFuY2VvZiBvdGhDdG9yKSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgIHN0YWNrWydkZWxldGUnXShvdGhlcik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIGZsYXR0ZW5zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRSZXN0KGZ1bmMpIHtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyhvdmVyUmVzdChmdW5jLCB1bmRlZmluZWQsIGZsYXR0ZW4pLCBmdW5jICsgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGdldERhdGEgPSAhbWV0YU1hcCA/IG5vb3AgOiBmdW5jdGlvbihmdW5jKSB7XG4gICAgICByZXR1cm4gbWV0YU1hcC5nZXQoZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hbWUgb2YgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEZ1bmNOYW1lKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSAoZnVuYy5uYW1lICsgJycpLFxuICAgICAgICAgIGFycmF5ID0gcmVhbE5hbWVzW3Jlc3VsdF0sXG4gICAgICAgICAgbGVuZ3RoID0gaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIHJlc3VsdCkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhcnJheVtsZW5ndGhdLFxuICAgICAgICAgICAgb3RoZXJGdW5jID0gZGF0YS5mdW5jO1xuICAgICAgICBpZiAob3RoZXJGdW5jID09IG51bGwgfHwgb3RoZXJGdW5jID09IGZ1bmMpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFyZ3VtZW50IHBsYWNlaG9sZGVyIHZhbHVlIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhvbGRlcihmdW5jKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gsICdwbGFjZWhvbGRlcicpID8gbG9kYXNoIDogZnVuYztcbiAgICAgIHJldHVybiBvYmplY3QucGxhY2Vob2xkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpdGVyYXRlZVwiIGZ1bmN0aW9uLiBJZiBgXy5pdGVyYXRlZWAgaXMgY3VzdG9taXplZCxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGN1c3RvbSBtZXRob2QsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBiYXNlSXRlcmF0ZWVgLlxuICAgICAqIElmIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQsIHRoZSBjaG9zZW4gZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIHRoZW0gYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWVdIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiB0aGUgY3JlYXRlZCBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNob3NlbiBmdW5jdGlvbiBvciBpdHMgcmVzdWx0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdGVlKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaC5pdGVyYXRlZSB8fCBpdGVyYXRlZTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gaXRlcmF0ZWUgPyBiYXNlSXRlcmF0ZWUgOiByZXN1bHQ7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IHJlc3VsdChhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSkgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXAgZGF0YS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IG1hcC5fX2RhdGFfXztcbiAgICAgIHJldHVybiBpc0tleWFibGUoa2V5KVxuICAgICAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgICAgICA6IGRhdGEubWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBtYXRjaCBkYXRhIG9mIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hdGNoRGF0YShvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzKG9iamVjdCksXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSByZXN1bHRbbGVuZ3RoXSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgcmVzdWx0W2xlbmd0aF0gPSBba2V5LCB2YWx1ZSwgaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICAgICAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgaWYgKHVubWFza2VkKSB7XG4gICAgICAgIGlmIChpc093bikge1xuICAgICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHMgPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKG5hdGl2ZUdldFN5bWJvbHMob2JqZWN0KSwgZnVuY3Rpb24oc3ltYm9sKSB7XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgc3ltYm9sKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gICAgICovXG4gICAgdmFyIGdldFN5bWJvbHNJbiA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICB3aGlsZSAob2JqZWN0KSB7XG4gICAgICAgIGFycmF5UHVzaChyZXN1bHQsIGdldFN5bWJvbHMob2JqZWN0KSk7XG4gICAgICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIHZhciBnZXRUYWcgPSBiYXNlR2V0VGFnO1xuXG4gICAgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEgYW5kIHByb21pc2VzIGluIE5vZGUuanMgPCA2LlxuICAgIGlmICgoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZykgfHxcbiAgICAgICAgKE1hcCAmJiBnZXRUYWcobmV3IE1hcCkgIT0gbWFwVGFnKSB8fFxuICAgICAgICAoUHJvbWlzZSAmJiBnZXRUYWcoUHJvbWlzZS5yZXNvbHZlKCkpICE9IHByb21pc2VUYWcpIHx8XG4gICAgICAgIChTZXQgJiYgZ2V0VGFnKG5ldyBTZXQpICE9IHNldFRhZykgfHxcbiAgICAgICAgKFdlYWtNYXAgJiYgZ2V0VGFnKG5ldyBXZWFrTWFwKSAhPSB3ZWFrTWFwVGFnKSkge1xuICAgICAgZ2V0VGFnID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGJhc2VHZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgQ3RvciA9IHJlc3VsdCA9PSBvYmplY3RUYWcgPyB2YWx1ZS5jb25zdHJ1Y3RvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGN0b3JTdHJpbmcgPSBDdG9yID8gdG9Tb3VyY2UoQ3RvcikgOiAnJztcblxuICAgICAgICBpZiAoY3RvclN0cmluZykge1xuICAgICAgICAgIHN3aXRjaCAoY3RvclN0cmluZykge1xuICAgICAgICAgICAgY2FzZSBkYXRhVmlld0N0b3JTdHJpbmc6IHJldHVybiBkYXRhVmlld1RhZztcbiAgICAgICAgICAgIGNhc2UgbWFwQ3RvclN0cmluZzogcmV0dXJuIG1hcFRhZztcbiAgICAgICAgICAgIGNhc2UgcHJvbWlzZUN0b3JTdHJpbmc6IHJldHVybiBwcm9taXNlVGFnO1xuICAgICAgICAgICAgY2FzZSBzZXRDdG9yU3RyaW5nOiByZXR1cm4gc2V0VGFnO1xuICAgICAgICAgICAgY2FzZSB3ZWFrTWFwQ3RvclN0cmluZzogcmV0dXJuIHdlYWtNYXBUYWc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZpZXcsIGFwcGx5aW5nIGFueSBgdHJhbnNmb3Jtc2AgdG8gdGhlIGBzdGFydGAgYW5kIGBlbmRgIHBvc2l0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhbnNmb3JtcyBUaGUgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBzdGFydGAgYW5kIGBlbmRgXG4gICAgICogIHBvc2l0aW9ucyBvZiB0aGUgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRWaWV3KHN0YXJ0LCBlbmQsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZGF0YSA9IHRyYW5zZm9ybXNbaW5kZXhdLFxuICAgICAgICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2Ryb3AnOiAgICAgIHN0YXJ0ICs9IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2Ryb3BSaWdodCc6IGVuZCAtPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlJzogICAgICBlbmQgPSBuYXRpdmVNaW4oZW5kLCBzdGFydCArIHNpemUpOyBicmVhaztcbiAgICAgICAgICBjYXNlICd0YWtlUmlnaHQnOiBzdGFydCA9IG5hdGl2ZU1heChzdGFydCwgZW5kIC0gc2l6ZSk7IGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyAnc3RhcnQnOiBzdGFydCwgJ2VuZCc6IGVuZCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHdyYXBwZXIgZGV0YWlscyBmcm9tIHRoZSBgc291cmNlYCBib2R5IGNvbW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd3JhcHBlciBkZXRhaWxzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFdyYXBEZXRhaWxzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoID0gc291cmNlLm1hdGNoKHJlV3JhcERldGFpbHMpO1xuICAgICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0uc3BsaXQocmVTcGxpdERldGFpbHMpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBleGlzdHMgb24gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICAgICAgaWYgKCEocmVzdWx0ID0gb2JqZWN0ICE9IG51bGwgJiYgaGFzRnVuYyhvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmIGlzTGVuZ3RoKGxlbmd0aCkgJiYgaXNJbmRleChrZXksIGxlbmd0aCkgJiZcbiAgICAgICAgKGlzQXJyYXkob2JqZWN0KSB8fCBpc0FyZ3VtZW50cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBhcnJheSBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQXJyYXkoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gbmV3IGFycmF5LmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIGFzc2lnbmVkIGJ5IGBSZWdFeHAjZXhlY2AuXG4gICAgICBpZiAobGVuZ3RoICYmIHR5cGVvZiBhcnJheVswXSA9PSAnc3RyaW5nJyAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCAnaW5kZXgnKSkge1xuICAgICAgICByZXN1bHQuaW5kZXggPSBhcnJheS5pbmRleDtcbiAgICAgICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHtcbiAgICAgIHJldHVybiAodHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gb25seSBzdXBwb3J0cyBjbG9uaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE1hcGAsIGBOdW1iZXJgLCBgUmVnRXhwYCwgYFNldGAsIG9yIGBTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhZyBUaGUgYHRvU3RyaW5nVGFnYCBvZiB0aGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGlzRGVlcCkge1xuICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBib29sVGFnOlxuICAgICAgICBjYXNlIGRhdGVUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lRGF0YVZpZXcob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgZmxvYXQzMlRhZzogY2FzZSBmbG9hdDY0VGFnOlxuICAgICAgICBjYXNlIGludDhUYWc6IGNhc2UgaW50MTZUYWc6IGNhc2UgaW50MzJUYWc6XG4gICAgICAgIGNhc2UgdWludDhUYWc6IGNhc2UgdWludDhDbGFtcGVkVGFnOiBjYXNlIHVpbnQxNlRhZzogY2FzZSB1aW50MzJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lVHlwZWRBcnJheShvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBtYXBUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2UgbnVtYmVyVGFnOlxuICAgICAgICBjYXNlIHN0cmluZ1RhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3Iob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVSZWdFeHAob2JqZWN0KTtcblxuICAgICAgICBjYXNlIHNldFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBzeW1ib2xUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lU3ltYm9sKG9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB3cmFwcGVyIGBkZXRhaWxzYCBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgYHNvdXJjZWAgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gaW5zZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHNvdXJjZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIGRldGFpbHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBkZXRhaWxzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICB2YXIgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGRldGFpbHNbbGFzdEluZGV4XSA9IChsZW5ndGggPiAxID8gJyYgJyA6ICcnKSArIGRldGFpbHNbbGFzdEluZGV4XTtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzLmpvaW4obGVuZ3RoID4gMiA/ICcsICcgOiAnICcpO1xuICAgICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKHJlV3JhcENvbW1lbnQsICd7XFxuLyogW3dyYXBwZWQgd2l0aCAnICsgZGV0YWlscyArICddICovXFxuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBmbGF0dGVuYWJsZSBgYXJndW1lbnRzYCBvYmplY3Qgb3IgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGbGF0dGVuYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICAgICAhIShzcHJlYWRhYmxlU3ltYm9sICYmIHZhbHVlICYmIHZhbHVlW3NwcmVhZGFibGVTeW1ib2xdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICAgICAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgICAgICh0eXBlID09ICdudW1iZXInIHx8XG4gICAgICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IGluZGV4IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgaW5kZXggb3Iga2V5IGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgICAgICA6ICh0eXBlID09ICdzdHJpbmcnICYmIGluZGV4IGluIG9iamVjdClcbiAgICAgICAgICApIHtcbiAgICAgICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAob2JqZWN0ICE9IG51bGwgJiYgdmFsdWUgaW4gT2JqZWN0KG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICAgICAgOiAodmFsdWUgPT09IG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNMYXppYWJsZShmdW5jKSB7XG4gICAgICB2YXIgZnVuY05hbWUgPSBnZXRGdW5jTmFtZShmdW5jKSxcbiAgICAgICAgICBvdGhlciA9IGxvZGFzaFtmdW5jTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2Ygb3RoZXIgIT0gJ2Z1bmN0aW9uJyB8fCAhKGZ1bmNOYW1lIGluIExhenlXcmFwcGVyLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZ1bmMgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGEgPSBnZXREYXRhKG90aGVyKTtcbiAgICAgIHJldHVybiAhIWRhdGEgJiYgZnVuYyA9PT0gZGF0YVswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gICAgICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaXMgY2FwYWJsZSBvZiBiZWluZyBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2FibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICB2YXIgaXNNYXNrYWJsZSA9IGNvcmVKc0RhdGEgPyBpc0Z1bmN0aW9uIDogc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICAgICAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICAgICAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpZiBzdWl0YWJsZSBmb3Igc3RyaWN0XG4gICAgICogIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdHJpY3RDb21wYXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlICYmICFpc09iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBtYXRjaGVzUHJvcGVydHlgIGZvciBzb3VyY2UgdmFsdWVzIHN1aXRhYmxlXG4gICAgICogZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShrZXksIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0W2tleV0gPT09IHNyY1ZhbHVlICYmXG4gICAgICAgICAgKHNyY1ZhbHVlICE9PSB1bmRlZmluZWQgfHwgKGtleSBpbiBPYmplY3Qob2JqZWN0KSkpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gICAgICogY2FjaGUgd2hlbiBpdCBleGNlZWRzIGBNQVhfTUVNT0laRV9TSVpFYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemVDYXBwZWQoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IG1lbW9pemUoZnVuYywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjYWNoZSA9IHJlc3VsdC5jYWNoZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBmdW5jdGlvbiBtZXRhZGF0YSBvZiBgc291cmNlYCBpbnRvIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIE1lcmdpbmcgbWV0YWRhdGEgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIHdyYXBwZXJzIHVzZWQgdG8gaW52b2tlIGEgZnVuY3Rpb24uXG4gICAgICogVGhpcyBpcyBwb3NzaWJsZSBiZWNhdXNlIG1ldGhvZHMgbGlrZSBgXy5iaW5kYCwgYF8uY3VycnlgLCBhbmQgYF8ucGFydGlhbGBcbiAgICAgKiBtYXkgYmUgYXBwbGllZCByZWdhcmRsZXNzIG9mIGV4ZWN1dGlvbiBvcmRlci4gTWV0aG9kcyBsaWtlIGBfLmFyeWAgYW5kXG4gICAgICogYF8ucmVhcmdgIG1vZGlmeSBmdW5jdGlvbiBhcmd1bWVudHMsIG1ha2luZyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcmVcbiAgICAgKiBleGVjdXRlZCBpbXBvcnRhbnQsIHByZXZlbnRpbmcgdGhlIG1lcmdpbmcgb2YgbWV0YWRhdGEuIEhvd2V2ZXIsIHdlIG1ha2VcbiAgICAgKiBhbiBleGNlcHRpb24gZm9yIGEgc2FmZSBjb21iaW5lZCBjYXNlIHdoZXJlIGN1cnJpZWQgZnVuY3Rpb25zIGhhdmUgYF8uYXJ5YFxuICAgICAqIGFuZCBvciBgXy5yZWFyZ2AgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YSBUaGUgZGVzdGluYXRpb24gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBzb3VyY2UgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkYXRhYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZXJnZURhdGEoZGF0YSwgc291cmNlKSB7XG4gICAgICB2YXIgYml0bWFzayA9IGRhdGFbMV0sXG4gICAgICAgICAgc3JjQml0bWFzayA9IHNvdXJjZVsxXSxcbiAgICAgICAgICBuZXdCaXRtYXNrID0gYml0bWFzayB8IHNyY0JpdG1hc2ssXG4gICAgICAgICAgaXNDb21tb24gPSBuZXdCaXRtYXNrIDwgKFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHIHwgV1JBUF9BUllfRkxBRyk7XG5cbiAgICAgIHZhciBpc0NvbWJvID1cbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX1JFQVJHX0ZMQUcpICYmIChkYXRhWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpKSAmJiAoc291cmNlWzddLmxlbmd0aCA8PSBzb3VyY2VbOF0pICYmIChiaXRtYXNrID09IFdSQVBfQ1VSUllfRkxBRykpO1xuXG4gICAgICAvLyBFeGl0IGVhcmx5IGlmIG1ldGFkYXRhIGNhbid0IGJlIG1lcmdlZC5cbiAgICAgIGlmICghKGlzQ29tbW9uIHx8IGlzQ29tYm8pKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgdGhpc0FyZ2AgaWYgYXZhaWxhYmxlLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRykge1xuICAgICAgICBkYXRhWzJdID0gc291cmNlWzJdO1xuICAgICAgICAvLyBTZXQgd2hlbiBjdXJyeWluZyBhIGJvdW5kIGZ1bmN0aW9uLlxuICAgICAgICBuZXdCaXRtYXNrIHw9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyA/IDAgOiBXUkFQX0NVUlJZX0JPVU5EX0ZMQUc7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgYXJndW1lbnRzLlxuICAgICAgdmFyIHZhbHVlID0gc291cmNlWzNdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXJ0aWFscyA9IGRhdGFbM107XG4gICAgICAgIGRhdGFbM10gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzKHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzRdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzRdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzNdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNF07XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIHBhcnRpYWwgcmlnaHQgYXJndW1lbnRzLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbNV07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcGFydGlhbHMgPSBkYXRhWzVdO1xuICAgICAgICBkYXRhWzVdID0gcGFydGlhbHMgPyBjb21wb3NlQXJnc1JpZ2h0KHBhcnRpYWxzLCB2YWx1ZSwgc291cmNlWzZdKSA6IHZhbHVlO1xuICAgICAgICBkYXRhWzZdID0gcGFydGlhbHMgPyByZXBsYWNlSG9sZGVycyhkYXRhWzVdLCBQTEFDRUhPTERFUikgOiBzb3VyY2VbNl07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcmdQb3NgIGlmIGF2YWlsYWJsZS5cbiAgICAgIHZhbHVlID0gc291cmNlWzddO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRhdGFbN10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyeWAgaWYgaXQncyBzbWFsbGVyLlxuICAgICAgaWYgKHNyY0JpdG1hc2sgJiBXUkFQX0FSWV9GTEFHKSB7XG4gICAgICAgIGRhdGFbOF0gPSBkYXRhWzhdID09IG51bGwgPyBzb3VyY2VbOF0gOiBuYXRpdmVNaW4oZGF0YVs4XSwgc291cmNlWzhdKTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyaXR5YCBpZiBvbmUgaXMgbm90IHByb3ZpZGVkLlxuICAgICAgaWYgKGRhdGFbOV0gPT0gbnVsbCkge1xuICAgICAgICBkYXRhWzldID0gc291cmNlWzldO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgZnVuY2AgYW5kIG1lcmdlIGJpdG1hc2tzLlxuICAgICAgZGF0YVswXSA9IHNvdXJjZVswXTtcbiAgICAgIGRhdGFbMV0gPSBuZXdCaXRtYXNrO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAgICAgKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZVJlc3RgIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgcmVzdCBhcnJheSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3ZlclJlc3QoZnVuYywgc3RhcnQsIHRyYW5zZm9ybSkge1xuICAgICAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogc3RhcnQsIDApO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICAgICAgb3RoZXJBcmdzW2luZGV4XSA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyQXJnc1tzdGFydF0gPSB0cmFuc2Zvcm0oYXJyYXkpO1xuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGFyZW50IHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhdGggVGhlIHBhdGggdG8gZ2V0IHRoZSBwYXJlbnQgdmFsdWUgb2YuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHBhcmVudCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJlbnQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5sZW5ndGggPCAyID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIGJhc2VTbGljZShwYXRoLCAwLCAtMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlb3JkZXIgYGFycmF5YCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmllZCBpbmRleGVzIHdoZXJlIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBzZWNvbmQgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIHNlY29uZCBlbGVtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byByZW9yZGVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFycmF5IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVvcmRlcihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oaW5kZXhlcy5sZW5ndGgsIGFyckxlbmd0aCksXG4gICAgICAgICAgb2xkQXJyYXkgPSBjb3B5QXJyYXkoYXJyYXkpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBhcnJheVtsZW5ndGhdID0gaXNJbmRleChpbmRleCwgYXJyTGVuZ3RoKSA/IG9sZEFycmF5W2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIgb3IgXCJjb25zdHJ1Y3RvclwiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09ICdjb25zdHJ1Y3RvcicgJiYgdHlwZW9mIG9iamVjdFtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGtleSA9PSAnX19wcm90b19fJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgdGhpcyBmdW5jdGlvbiBiZWNvbWVzIGhvdCwgaS5lLiBpcyBpbnZva2VkIGEgbG90IGluIGEgc2hvcnRcbiAgICAgKiBwZXJpb2Qgb2YgdGltZSwgaXQgd2lsbCB0cmlwIGl0cyBicmVha2VyIGFuZCB0cmFuc2l0aW9uIHRvIGFuIGlkZW50aXR5XG4gICAgICogZnVuY3Rpb24gdG8gYXZvaWQgZ2FyYmFnZSBjb2xsZWN0aW9uIHBhdXNlcyBpbiBWOC4gU2VlXG4gICAgICogW1Y4IGlzc3VlIDIwNzBdKGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzApXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzb2NpYXRlIG1ldGFkYXRhIHdpdGguXG4gICAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXREYXRhID0gc2hvcnRPdXQoYmFzZVNldERhdGEpO1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYHNldFRpbWVvdXRgXShodHRwczovL21kbi5pby9zZXRUaW1lb3V0KS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIHNldFRpbWVvdXQgPSBjdHhTZXRUaW1lb3V0IHx8IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICAgIHJldHVybiByb290LnNldFRpbWVvdXQoZnVuYywgd2FpdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGBmdW5jYCB0byByZXR1cm4gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHJpbmcgVGhlIGB0b1N0cmluZ2AgcmVzdWx0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldFRvU3RyaW5nID0gc2hvcnRPdXQoYmFzZVNldFRvU3RyaW5nKTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGB0b1N0cmluZ2AgbWV0aG9kIG9mIGB3cmFwcGVyYCB0byBtaW1pYyB0aGUgc291cmNlIG9mIGByZWZlcmVuY2VgXG4gICAgICogd2l0aCB3cmFwcGVyIGRldGFpbHMgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIHNvdXJjZSBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVmZXJlbmNlIFRoZSByZWZlcmVuY2UgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYHdyYXBwZXJgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdyYXBUb1N0cmluZyh3cmFwcGVyLCByZWZlcmVuY2UsIGJpdG1hc2spIHtcbiAgICAgIHZhciBzb3VyY2UgPSAocmVmZXJlbmNlICsgJycpO1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKHdyYXBwZXIsIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgdXBkYXRlV3JhcERldGFpbHMoZ2V0V3JhcERldGFpbHMoc291cmNlKSwgYml0bWFzaykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCdsbCBzaG9ydCBvdXQgYW5kIGludm9rZSBgaWRlbnRpdHlgIGluc3RlYWRcbiAgICAgKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNob3J0YWJsZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG9ydE91dChmdW5jKSB7XG4gICAgICB2YXIgY291bnQgPSAwLFxuICAgICAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFtcCA9IG5hdGl2ZU5vdygpLFxuICAgICAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgIGlmIChyZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgd2hpY2ggbXV0YXRlcyBhbmQgc2V0cyB0aGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9YXJyYXkubGVuZ3RoXSBUaGUgc2l6ZSBvZiBgYXJyYXlgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGVTZWxmKGFycmF5LCBzaXplKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgc2l6ZSA9IHNpemUgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHNpemU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IHNpemUpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKGluZGV4LCBsYXN0SW5kZXgpLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtyYW5kXTtcblxuICAgICAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBhcnJheS5sZW5ndGggPSBzaXplO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIHZhciBzdHJpbmdUb1BhdGggPSBtZW1vaXplQ2FwcGVkKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKHN0cmluZy5jaGFyQ29kZUF0KDApID09PSA0NiAvKiAuICovKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgICAgIH1cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdWJTdHJpbmcpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdWJTdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyBrZXkgaWYgaXQncyBub3QgYSBzdHJpbmcgb3Igc3ltYm9sLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9LZXkodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gICAgICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHdyYXBwZXIgYGRldGFpbHNgIGJhc2VkIG9uIGBiaXRtYXNrYCBmbGFncy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGV0YWlsc2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV3JhcERldGFpbHMoZGV0YWlscywgYml0bWFzaykge1xuICAgICAgYXJyYXlFYWNoKHdyYXBGbGFncywgZnVuY3Rpb24ocGFpcikge1xuICAgICAgICB2YXIgdmFsdWUgPSAnXy4nICsgcGFpclswXTtcbiAgICAgICAgaWYgKChiaXRtYXNrICYgcGFpclsxXSkgJiYgIWFycmF5SW5jbHVkZXMoZGV0YWlscywgdmFsdWUpKSB7XG4gICAgICAgICAgZGV0YWlscy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGV0YWlscy5zb3J0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB3cmFwcGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdyYXBwZXIgVGhlIHdyYXBwZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHdyYXBwZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNsb25lKHdyYXBwZXIpIHtcbiAgICAgIGlmICh3cmFwcGVyIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVyLl9fd3JhcHBlZF9fLCB3cmFwcGVyLl9fY2hhaW5fXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkod3JhcHBlci5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19pbmRleF9fICA9IHdyYXBwZXIuX19pbmRleF9fO1xuICAgICAgcmVzdWx0Ll9fdmFsdWVzX18gPSB3cmFwcGVyLl9fdmFsdWVzX187XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byBncm91cHMgdGhlIGxlbmd0aCBvZiBgc2l6ZWAuXG4gICAgICogSWYgYGFycmF5YCBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmdcbiAgICAgKiBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT0xXSBUaGUgbGVuZ3RoIG9mIGVhY2ggY2h1bmtcbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNodW5rcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMik7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsnYycsICdkJ11dXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAzKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InLCAnYyddLCBbJ2QnXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc2l6ZSwgZ3VhcmQpIDogc2l6ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgPSBuYXRpdmVNYXgodG9JbnRlZ2VyKHNpemUpLCAwKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoIHx8IHNpemUgPCAxKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG5hdGl2ZUNlaWwobGVuZ3RoIC8gc2l6ZSkpO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gYmFzZVNsaWNlKGFycmF5LCBpbmRleCwgKGluZGV4ICs9IHNpemUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSB3aXRoIGFsbCBmYWxzZXkgdmFsdWVzIHJlbW92ZWQuIFRoZSB2YWx1ZXMgYGZhbHNlYCwgYG51bGxgLFxuICAgICAqIGAwYCwgYFwiXCJgLCBgdW5kZWZpbmVkYCwgYW5kIGBOYU5gIGFyZSBmYWxzZXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY29tcGFjdChbMCwgMSwgZmFsc2UsIDIsICcnLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYXJyYXkgY29uY2F0ZW5hdGluZyBgYXJyYXlgIHdpdGggYW55IGFkZGl0aW9uYWwgYXJyYXlzXG4gICAgICogYW5kL29yIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29uY2F0ZW5hdGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMV07XG4gICAgICogdmFyIG90aGVyID0gXy5jb25jYXQoYXJyYXksIDIsIFszXSwgW1s0XV0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob3RoZXIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uY2F0KCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCAtIDEpLFxuICAgICAgICAgIGFycmF5ID0gYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICBhcmdzW2luZGV4IC0gMV0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5UHVzaChpc0FycmF5KGFycmF5KSA/IGNvcHlBcnJheShhcnJheSkgOiBbYXJyYXldLCBiYXNlRmxhdHRlbihhcmdzLCAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBgYXJyYXlgIHZhbHVlcyBub3QgaW5jbHVkZWQgaW4gdGhlIG90aGVyIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy53aXRob3V0LCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2UoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbEJ5YCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kaWZmZXJlbmNlQnkoW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCBbeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBvcmRlciBhbmRcbiAgICAgKiByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsV2l0aGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLmRpZmZlcmVuY2VXaXRoKG9iamVjdHMsIFt7ICd4JzogMSwgJ3knOiAyIH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2VXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoY29tcGFyYXRvcikpIHtcbiAgICAgICAgY29tcGFyYXRvciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGRyb3AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGxzIGVsZW1lbnRzIG9mIGBhcnJheWAgd2l0aCBgdmFsdWVgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdFxuICAgICAqIGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLmZpbGwoYXJyYXksICdhJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdhJywgJ2EnXVxuICAgICAqXG4gICAgICogXy5maWxsKEFycmF5KDMpLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgMiwgMl1cbiAgICAgKlxuICAgICAqIF8uZmlsbChbNCwgNiwgOCwgMTBdLCAnKicsIDEsIDMpO1xuICAgICAqIC8vID0+IFs0LCAnKicsICcqJywgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCAmJiB0eXBlb2Ygc3RhcnQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHZhbHVlLCBzdGFydCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdFxuICAgICAqIGVsZW1lbnQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yIGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdiYXJuZXknOyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2ZyZWQnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHNcbiAgICAgKiBvZiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ3BlYmJsZXMnOyB9KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4IDwgMFxuICAgICAgICAgID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKVxuICAgICAgICAgIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbnMgYGFycmF5YCBhIHNpbmdsZSBsZXZlbCBkZWVwLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW4oWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCAxKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlZXAoWzEsIFsyLCBbMywgWzRdXSwgNV1dKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNCwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVlcChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VGbGF0dGVuKGFycmF5LCBJTkZJTklUWSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVuIGBhcnJheWAgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIFsyLCBbMywgWzRdXSwgNV1dO1xuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZXB0aChhcnJheSwgZGVwdGgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGRlcHRoID0gZGVwdGggPT09IHVuZGVmaW5lZCA/IDEgOiB0b0ludGVnZXIoZGVwdGgpO1xuICAgICAgcmV0dXJuIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8udG9QYWlyc2A7IHRoaXMgbWV0aG9kIHJldHVybnMgYW4gb2JqZWN0IGNvbXBvc2VkXG4gICAgICogZnJvbSBrZXktdmFsdWUgYHBhaXJzYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIFRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mcm9tUGFpcnMoW1snYScsIDFdLCBbJ2InLCAyXV0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21QYWlycyhwYWlycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0ge307XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBwYWlyID0gcGFpcnNbaW5kZXhdO1xuICAgICAgICByZXN1bHRbcGFpclswXV0gPSBwYWlyWzFdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZmlyc3RcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5oZWFkKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5oZWFkKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZWFkKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIGluIGBhcnJheWBcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhcyB0aGVcbiAgICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PTBdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRpYWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDAsIC0xKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiBhbGwgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMl1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZClcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uaW50ZXJzZWN0aW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgaWYgKGl0ZXJhdGVlID09PSBsYXN0KG1hcHBlZCkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzXG4gICAgICogb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBtYXBwZWQucG9wKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFsbCBlbGVtZW50cyBpbiBgYXJyYXlgIGludG8gYSBzdHJpbmcgc2VwYXJhdGVkIGJ5IGBzZXBhcmF0b3JgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXBhcmF0b3I9JywnXSBUaGUgZWxlbWVudCBzZXBhcmF0b3IuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgam9pbmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5qb2luKFsnYScsICdiJywgJ2MnXSwgJ34nKTtcbiAgICAgKiAvLyA9PiAnYX5ifmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gam9pbihhcnJheSwgc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/ICcnIDogbmF0aXZlSm9pbi5jYWxsKGFycmF5LCBzZXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgYXJyYXlgIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCkgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgICA/IHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpXG4gICAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBpbmRleCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZWxlbWVudCBhdCBpbmRleCBgbmAgb2YgYGFycmF5YC4gSWYgYG5gIGlzIG5lZ2F0aXZlLCB0aGUgbnRoXG4gICAgICogZWxlbWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBudGggZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIF8ubnRoKGFycmF5LCAtMik7XG4gICAgICogLy8gPT4gJ2MnO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aChhcnJheSwgbikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZU50aChhcnJheSwgdG9JbnRlZ2VyKG4pKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBnaXZlbiB2YWx1ZXMgZnJvbSBgYXJyYXlgIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLndpdGhvdXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5yZW1vdmVgXG4gICAgICogdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgcHJlZGljYXRlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGwoYXJyYXksICdhJywgJ2MnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIHZhciBwdWxsID0gYmFzZVJlc3QocHVsbEFsbCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2EnLCAnYicsICdjJ107XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGwoYXJyYXksIFsnYScsICdjJ10pO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbChhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgYW5kIGB2YWx1ZXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZUJ5YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDMgfSwgeyAneCc6IDEgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxCeShhcnJheSwgW3sgJ3gnOiAxIH0sIHsgJ3gnOiAzIH1dLCAneCcpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsQnkoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAgdG8gYHZhbHVlc2AuIFRoZSBjb21wYXJhdG9yIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VXaXRoYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAzLCAneSc6IDQgfSwgeyAneCc6IDUsICd5JzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbFdpdGgoYXJyYXksIFt7ICd4JzogMywgJ3knOiA0IH1dLCBfLmlzRXF1YWwpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogNSwgJ3knOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbFdpdGgoYXJyYXksIHZhbHVlcywgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBgYXJyYXlgIGNvcnJlc3BvbmRpbmcgdG8gYGluZGV4ZXNgIGFuZCByZXR1cm5zIGFuXG4gICAgICogYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uYXRgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IFtpbmRleGVzXSBUaGUgaW5kZXhlcyBvZiBlbGVtZW50cyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICogdmFyIHB1bGxlZCA9IF8ucHVsbEF0KGFycmF5LCBbMSwgM10pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYScsICdjJ11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKHB1bGxlZCk7XG4gICAgICogLy8gPT4gWydiJywgJ2QnXVxuICAgICAqL1xuICAgIHZhciBwdWxsQXQgPSBmbGF0UmVzdChmdW5jdGlvbihhcnJheSwgaW5kZXhlcykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGJhc2VBdChhcnJheSwgaW5kZXhlcyk7XG5cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGFycmF5TWFwKGluZGV4ZXMsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpc0luZGV4KGluZGV4LCBsZW5ndGgpID8gK2luZGV4IDogaW5kZXg7XG4gICAgICB9KS5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gYGFycmF5YCB0aGF0IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvclxuICAgICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZW1vdmVkIGVsZW1lbnRzLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5maWx0ZXJgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuIFVzZSBgXy5wdWxsYFxuICAgICAqIHRvIHB1bGwgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzLCA0XTtcbiAgICAgKiB2YXIgZXZlbnMgPSBfLnJlbW92ZShhcnJheSwgZnVuY3Rpb24obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhldmVucyk7XG4gICAgICogLy8gPT4gWzIsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluZGV4ZXMgPSBbXSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgaW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgaW5kZXhlcyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIGBhcnJheWAgc28gdGhhdCB0aGUgZmlyc3QgZWxlbWVudCBiZWNvbWVzIHRoZSBsYXN0LCB0aGUgc2Vjb25kXG4gICAgICogZWxlbWVudCBiZWNvbWVzIHRoZSBzZWNvbmQgdG8gbGFzdCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YCBhbmQgaXMgYmFzZWQgb25cbiAgICAgKiBbYEFycmF5I3JldmVyc2VgXShodHRwczovL21kbi5pby9BcnJheS9yZXZlcnNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8ucmV2ZXJzZShhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmV2ZXJzZShhcnJheSkge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyBhcnJheSA6IG5hdGl2ZVJldmVyc2UuY2FsbChhcnJheSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAgICogW2BBcnJheSNzbGljZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3NsaWNlKSB0byBlbnN1cmUgZGVuc2UgYXJyYXlzIGFyZVxuICAgICAqIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgJiYgdHlwZW9mIGVuZCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgc3RhcnQsIGVuZCkpIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBlbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgdGhlIGxvd2VzdCBpbmRleCBhdCB3aGljaCBgdmFsdWVgXG4gICAgICogc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0byBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXgoWzMwLCA1MF0sIDQwKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPCBsZW5ndGggJiYgZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBoaWdoZXN0XG4gICAgICogaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvXG4gICAgICogbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleChbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXgoYXJyYXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRMYXN0SW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgJ3gnKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmxhc3RJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleE9mKFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKSAtIDE7XG4gICAgICAgIGlmIChlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxKFsxLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXkpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxQnlgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRVbmlxQnkoWzEuMSwgMS4yLCAyLjMsIDIuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjEsIDIuM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWlsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFpbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMSwgbGVuZ3RoKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2UoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCAwLCBuIDwgMCA/IDAgOiBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBlbmQuIEVsZW1lbnRzIGFyZVxuICAgICAqIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0V2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGJlZ2lubmluZy4gRWxlbWVudHNcbiAgICAgKiBhcmUgdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlV2hpbGUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVdoaWxlKGFycmF5LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIGZyb20gYWxsIGdpdmVuIGFycmF5cyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbihbMl0sIFsxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIHVuaW9uID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tIHRoZSBmaXJzdFxuICAgICAqIGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlvbkJ5KFsyLjFdLCBbMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaW9uQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb21cbiAgICAgKiB0aGUgZmlyc3QgYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pb25XaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25XaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIGFuIGFycmF5LCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpbiB3aGljaCBvbmx5IHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGVhY2ggZWxlbWVudFxuICAgICAqIGlzIGtlcHQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxKFsyLCAxLCAyXSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5IHdoaWNoXG4gICAgICogdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICAgKiBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmlxQnkoWzIuMSwgMS4yLCAyLjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xLCAxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnVuaXFCeShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheWAuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8udW5pcVdpdGgob2JqZWN0cywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcVdpdGgoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYW4gYXJyYXkgb2YgZ3JvdXBlZFxuICAgICAqIGVsZW1lbnRzIGFuZCBjcmVhdGVzIGFuIGFycmF5IHJlZ3JvdXBpbmcgdGhlIGVsZW1lbnRzIHRvIHRoZWlyIHByZS16aXBcbiAgICAgKiBjb25maWd1cmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMi4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqXG4gICAgICogXy51bnppcCh6aXBwZWQpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXAoYXJyYXkpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IDA7XG4gICAgICBhcnJheSA9IGFycmF5RmlsdGVyKGFycmF5LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoZ3JvdXApKSB7XG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGdyb3VwLmxlbmd0aCwgbGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYmFzZVRpbWVzKGxlbmd0aCwgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKGFycmF5LCBiYXNlUHJvcGVydHkoaW5kZXgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IHJlZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICByZWdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0pO1xuICAgICAqIC8vID0+IFtbMSwgMTAsIDEwMF0sIFsyLCAyMCwgMjAwXV1cbiAgICAgKlxuICAgICAqIF8udW56aXBXaXRoKHppcHBlZCwgXy5hZGQpO1xuICAgICAqIC8vID0+IFszLCAzMCwgMzAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwV2l0aChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHVuemlwKGFycmF5KTtcbiAgICAgIGlmIChpdGVyYXRlZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlNYXAocmVzdWx0LCBmdW5jdGlvbihncm91cCkge1xuICAgICAgICByZXR1cm4gYXBwbHkoaXRlcmF0ZWUsIHVuZGVmaW5lZCwgZ3JvdXApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBleGNsdWRpbmcgYWxsIGdpdmVuIHZhbHVlcyB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53aXRob3V0KFsyLCAxLCAyLCAzXSwgMSwgMik7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICovXG4gICAgdmFyIHdpdGhvdXQgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcyB0aGF0IGlzIHRoZVxuICAgICAqIFtzeW1tZXRyaWMgZGlmZmVyZW5jZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3ltbWV0cmljX2RpZmZlcmVuY2UpXG4gICAgICogb2YgdGhlIGdpdmVuIGFycmF5cy4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXJcbiAgICAgKiB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLndpdGhvdXRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3IoWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqL1xuICAgIHZhciB4b3IgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZFxuICAgICAqIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lXG4gICAgICogYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy54b3JCeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4yLCAzLjRdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnhvckJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB4b3JCeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGNvbXBhcmF0b3IgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8ueG9yV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB4b3JXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlWG9yKGFycmF5RmlsdGVyKGFycmF5cywgaXNBcnJheUxpa2VPYmplY3QpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLCB0aGUgZmlyc3Qgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogZmlyc3QgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgdGhlIHNlY29uZCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBzZWNvbmQgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICovXG4gICAgdmFyIHppcCA9IGJhc2VSZXN0KHVuemlwKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZnJvbVBhaXJzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIHR3byBhcnJheXMsXG4gICAgICogb25lIG9mIHByb3BlcnR5IGlkZW50aWZpZXJzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0KFsnYScsICdiJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0KHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGFzc2lnblZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcE9iamVjdGAgZXhjZXB0IHRoYXQgaXQgc3VwcG9ydHMgcHJvcGVydHkgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHM9W11dIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwT2JqZWN0RGVlcChbJ2EuYlswXS5jJywgJ2EuYlsxXS5kJ10sIFsxLCAyXSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2InOiBbeyAnYyc6IDEgfSwgeyAnZCc6IDIgfV0gfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gemlwT2JqZWN0RGVlcChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBiYXNlU2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgZ3JvdXBlZCB2YWx1ZXMgc2hvdWxkIGJlIGNvbWJpbmVkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgICAqIGVsZW1lbnRzIG9mIGVhY2ggZ3JvdXA6ICguLi5ncm91cCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIGdyb3VwZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uemlwV2l0aChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdLCBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gYSArIGIgKyBjO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IFsxMTEsIDIyMl1cbiAgICAgKi9cbiAgICB2YXIgemlwV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgaXRlcmF0ZWUgPSBsZW5ndGggPiAxID8gYXJyYXlzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpdGVyYXRlZSA9IHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nID8gKGFycmF5cy5wb3AoKSwgaXRlcmF0ZWUpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHVuemlwV2l0aChhcnJheXMsIGl0ZXJhdGVlKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHRoYXQgd3JhcHMgYHZhbHVlYCB3aXRoIGV4cGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLiBUaGUgcmVzdWx0IG9mIHN1Y2ggc2VxdWVuY2VzIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogdmFyIHlvdW5nZXN0ID0gX1xuICAgICAqICAgLmNoYWluKHVzZXJzKVxuICAgICAqICAgLnNvcnRCeSgnYWdlJylcbiAgICAgKiAgIC5tYXAoZnVuY3Rpb24obykge1xuICAgICAqICAgICByZXR1cm4gby51c2VyICsgJyBpcyAnICsgby5hZ2U7XG4gICAgICogICB9KVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGFpbih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaCh2YWx1ZSk7XG4gICAgICByZXN1bHQuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaW52b2tlcyBgaW50ZXJjZXB0b3JgIGFuZCByZXR1cm5zIGB2YWx1ZWAuIFRoZSBpbnRlcmNlcHRvclxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvXG4gICAgICogXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlIGluIG9yZGVyIHRvIG1vZGlmeSBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyBgdmFsdWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSlcbiAgICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkge1xuICAgICAqICAgIC8vIE11dGF0ZSBpbnB1dCBhcnJheS5cbiAgICAgKiAgICBhcnJheS5wb3AoKTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnJldmVyc2UoKVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YXAodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy50YXBgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwicGFzcyB0aHJ1XCIgdmFsdWVzIHJlcGxhY2luZyBpbnRlcm1lZGlhdGVcbiAgICAgKiByZXN1bHRzIGluIGEgbWV0aG9kIGNoYWluIHNlcXVlbmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXygnICBhYmMgICcpXG4gICAgICogIC5jaGFpbigpXG4gICAgICogIC50cmltKClcbiAgICAgKiAgLnRocnUoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgICByZXR1cm4gW3ZhbHVlXTtcbiAgICAgKiAgfSlcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydhYmMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocnUodmFsdWUsIGludGVyY2VwdG9yKSB7XG4gICAgICByZXR1cm4gaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8uYXRgLlxuICAgICAqXG4gICAgICogQG5hbWUgYXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXyhvYmplY3QpLmF0KFsnYVswXS5iLmMnLCAnYVsxXSddKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciB3cmFwcGVyQXQgPSBmbGF0UmVzdChmdW5jdGlvbihwYXRocykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICBzdGFydCA9IGxlbmd0aCA/IHBhdGhzWzBdIDogMCxcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbihvYmplY3QpIHsgcmV0dXJuIGJhc2VBdChvYmplY3QsIHBhdGhzKTsgfTtcblxuICAgICAgaWYgKGxlbmd0aCA+IDEgfHwgdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGggfHxcbiAgICAgICAgICAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHx8ICFpc0luZGV4KHN0YXJ0KSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2Uoc3RhcnQsICtzdGFydCArIChsZW5ndGggPyAxIDogMCkpO1xuICAgICAgdmFsdWUuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLFxuICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUsIHRoaXMuX19jaGFpbl9fKS50aHJ1KGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICAgIGlmIChsZW5ndGggJiYgIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIGFycmF5LnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlIHdpdGggZXhwbGljaXQgbWV0aG9kIGNoYWluIHNlcXVlbmNlcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQG5hbWUgY2hhaW5cbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRob3V0IGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpLmhlYWQoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGggZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycylcbiAgICAgKiAgIC5jaGFpbigpXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAucGljaygndXNlcicpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiB7ICd1c2VyJzogJ2Jhcm5leScgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDaGFpbigpIHtcbiAgICAgIHJldHVybiBjaGFpbih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgYW5kIHJldHVybnMgdGhlIHdyYXBwZWQgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG5hbWUgY29tbWl0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyXTtcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oYXJyYXkpLnB1c2goMyk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkID0gd3JhcHBlZC5jb21taXQoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLmxhc3QoKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNvbW1pdCgpIHtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih0aGlzLnZhbHVlKCksIHRoaXMuX19jaGFpbl9fKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuZXh0IHZhbHVlIG9uIGEgd3JhcHBlZCBvYmplY3QgZm9sbG93aW5nIHRoZVxuICAgICAqIFtpdGVyYXRvciBwcm90b2NvbF0oaHR0cHM6Ly9tZG4uaW8vaXRlcmF0aW9uX3Byb3RvY29scyNpdGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAbmFtZSBuZXh0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV4dCBpdGVyYXRvciB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDEgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAyIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiB0cnVlLCAndmFsdWUnOiB1bmRlZmluZWQgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJOZXh0KCkge1xuICAgICAgaWYgKHRoaXMuX192YWx1ZXNfXyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHRvQXJyYXkodGhpcy52YWx1ZSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lID0gdGhpcy5fX2luZGV4X18gPj0gdGhpcy5fX3ZhbHVlc19fLmxlbmd0aCxcbiAgICAgICAgICB2YWx1ZSA9IGRvbmUgPyB1bmRlZmluZWQgOiB0aGlzLl9fdmFsdWVzX19bdGhpcy5fX2luZGV4X18rK107XG5cbiAgICAgIHJldHVybiB7ICdkb25lJzogZG9uZSwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSB3cmFwcGVyIHRvIGJlIGl0ZXJhYmxlLlxuICAgICAqXG4gICAgICogQG5hbWUgU3ltYm9sLml0ZXJhdG9yXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgd3JhcHBlciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZFtTeW1ib2wuaXRlcmF0b3JdKCkgPT09IHdyYXBwZWQ7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogQXJyYXkuZnJvbSh3cmFwcGVkKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVG9JdGVyYXRvcigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgY2hhaW4gc2VxdWVuY2UgcGxhbnRpbmcgYHZhbHVlYCBhcyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHBsYW50XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGxhbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSkubWFwKHNxdWFyZSk7XG4gICAgICogdmFyIG90aGVyID0gd3JhcHBlZC5wbGFudChbMywgNF0pO1xuICAgICAqXG4gICAgICogb3RoZXIudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbOSwgMTZdXG4gICAgICpcbiAgICAgKiB3cmFwcGVkLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclBsYW50KHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIHBhcmVudCA9IHRoaXM7XG5cbiAgICAgIHdoaWxlIChwYXJlbnQgaW5zdGFuY2VvZiBiYXNlTG9kYXNoKSB7XG4gICAgICAgIHZhciBjbG9uZSA9IHdyYXBwZXJDbG9uZShwYXJlbnQpO1xuICAgICAgICBjbG9uZS5fX2luZGV4X18gPSAwO1xuICAgICAgICBjbG9uZS5fX3ZhbHVlc19fID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSBjbG9uZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBjbG9uZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXMgPSBjbG9uZTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9fd3JhcHBlZF9fO1xuICAgICAgfVxuICAgICAgcHJldmlvdXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5yZXZlcnNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIHRoZSB3cmFwcGVkIGFycmF5LlxuICAgICAqXG4gICAgICogQG5hbWUgcmV2ZXJzZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfKGFycmF5KS5yZXZlcnNlKCkudmFsdWUoKVxuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJSZXZlcnNlKCkge1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXztcbiAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHZhciB3cmFwcGVkID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCkge1xuICAgICAgICAgIHdyYXBwZWQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlZCA9IHdyYXBwZWQucmV2ZXJzZSgpO1xuICAgICAgICB3cmFwcGVkLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAgICdmdW5jJzogdGhydSxcbiAgICAgICAgICAnYXJncyc6IFtyZXZlcnNlXSxcbiAgICAgICAgICAndGhpc0FyZyc6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZWQsIHRoaXMuX19jaGFpbl9fKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRocnUocmV2ZXJzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIHRvIHJlc29sdmUgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgdG9KU09OLCB2YWx1ZU9mXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZSgpIHtcbiAgICAgIHJldHVybiBiYXNlV3JhcHBlclZhbHVlKHRoaXMuX193cmFwcGVkX18sIHRoaXMuX19hY3Rpb25zX18pO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGtleSB3YXMgcmV0dXJuZWQgYnkgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb3VudEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IDEsICc2JzogMiB9XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICAgKiAvLyA9PiB7ICczJzogMiwgJzUnOiAxIH1cbiAgICAgKi9cbiAgICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIGtleSkpIHtcbiAgICAgICAgKytyZXN1bHRba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgMSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYWxsKiogZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAgZm9yXG4gICAgICogW2VtcHR5IGNvbGxlY3Rpb25zXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FbXB0eV9zZXQpIGJlY2F1c2VcbiAgICAgKiBbZXZlcnl0aGluZyBpcyB0cnVlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9WYWN1b3VzX3RydXRoKSBvZlxuICAgICAqIGVsZW1lbnRzIG9mIGVtcHR5IGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ldmVyeShbdHJ1ZSwgMSwgbnVsbCwgJ3llcyddLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFdmVyeSA6IGJhc2VFdmVyeTtcbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSkge1xuICAgICAgICBwcmVkaWNhdGUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50c1xuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucmVtb3ZlYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKiBAc2VlIF8ucmVqZWN0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gQ29tYmluaW5nIHNldmVyYWwgcHJlZGljYXRlcyB1c2luZyBgXy5vdmVyRXZlcnlgIG9yIGBfLm92ZXJTb21lYC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5vdmVyU29tZShbeyAnYWdlJzogMzYgfSwgWydhZ2UnLCA0MF1dKSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJywgJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAqIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSwgICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0IGZvciAnYmFybmV5J1xuICAgICAqL1xuICAgIHZhciBmaW5kID0gY3JlYXRlRmluZChmaW5kSW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9Y29sbGVjdGlvbi5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXRjaGVkIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3QoWzEsIDIsIDMsIDRdLCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgdmFyIGZpbmRMYXN0ID0gY3JlYXRlRmluZChmaW5kTGFzdEluZGV4KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYFxuICAgICAqIHRocnUgYGl0ZXJhdGVlYCBhbmQgZmxhdHRlbmluZyB0aGUgbWFwcGVkIHJlc3VsdHMuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbbiwgbl07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwKFsxLCAyXSwgZHVwbGljYXRlKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMiwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlZXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXBEZWVwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgSU5GSU5JVFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxhdE1hcGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgZmxhdHRlbnMgdGhlXG4gICAgICogbWFwcGVkIHJlc3VsdHMgdXAgdG8gYGRlcHRoYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVwdGg9MV0gVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZHVwbGljYXRlKG4pIHtcbiAgICAgKiAgIHJldHVybiBbW1tuLCBuXV1dO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmxhdE1hcERlcHRoKFsxLCAyXSwgZHVwbGljYXRlLCAyKTtcbiAgICAgKiAvLyA9PiBbWzEsIDFdLCBbMiwgMl1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlcHRoKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBkZXB0aCkge1xuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4obWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggZWxlbWVudC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBcImxlbmd0aFwiXG4gICAgICogcHJvcGVydHkgYXJlIGl0ZXJhdGVkIGxpa2UgYXJyYXlzLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW9yIHVzZSBgXy5mb3JJbmBcbiAgICAgKiBvciBgXy5mb3JPd25gIGZvciBvYmplY3QgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGVhY2hcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBAc2VlIF8uZm9yRWFjaFJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChbMSwgMl0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICBjb25zb2xlLmxvZyh2YWx1ZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyBgMWAgdGhlbiBgMmAuXG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2goY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaCA6IGJhc2VFYWNoO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckVhY2hgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGFsaWFzIGVhY2hSaWdodFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaFJpZ2h0KFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAyYCB0aGVuIGAxYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RWFjaFJpZ2h0IDogYmFzZUVhY2hSaWdodDtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBvcmRlciBvZiBncm91cGVkIHZhbHVlc1xuICAgICAqIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gYGNvbGxlY3Rpb25gLiBUaGUgY29ycmVzcG9uZGluZ1xuICAgICAqIHZhbHVlIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZVxuICAgICAqIGtleS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3JvdXBCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiBbNC4yXSwgJzYnOiBbNi4xLCA2LjNdIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZ3JvdXBCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiBbJ29uZScsICd0d28nXSwgJzUnOiBbJ3RocmVlJ10gfVxuICAgICAqL1xuICAgIHZhciBncm91cEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgW3ZhbHVlXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiBgY29sbGVjdGlvbmAuIElmIGBjb2xsZWN0aW9uYCBpcyBhIHN0cmluZywgaXQnc1xuICAgICAqIGNoZWNrZWQgZm9yIGEgc3Vic3RyaW5nIG9mIGB2YWx1ZWAsIG90aGVyd2lzZVxuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogaXMgdXNlZCBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXNcbiAgICAgKiB0aGUgb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoWzEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyh7ICdhJzogMSwgJ2InOiAyIH0sIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5jbHVkZXMoJ2FiY2QnLCAnYmMnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5jbHVkZXMoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICAgIGNvbGxlY3Rpb24gPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IGNvbGxlY3Rpb24gOiB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICBmcm9tSW5kZXggPSAoZnJvbUluZGV4ICYmICFndWFyZCkgPyB0b0ludGVnZXIoZnJvbUluZGV4KSA6IDA7XG5cbiAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgIGlmIChmcm9tSW5kZXggPCAwKSB7XG4gICAgICAgIGZyb21JbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBmcm9tSW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pXG4gICAgICAgID8gKGZyb21JbmRleCA8PSBsZW5ndGggJiYgY29sbGVjdGlvbi5pbmRleE9mKHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpXG4gICAgICAgIDogKCEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGNvbGxlY3Rpb24sIHZhbHVlLCBmcm9tSW5kZXgpID4gLTEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nXG4gICAgICogYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBpbnZva2VkIG1ldGhvZC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAgICogYXJlIHByb3ZpZGVkIHRvIGVhY2ggaW52b2tlZCBtZXRob2QuIElmIGBwYXRoYCBpcyBhIGZ1bmN0aW9uLCBpdCdzIGludm9rZWRcbiAgICAgKiBmb3IsIGFuZCBgdGhpc2AgYm91bmQgdG8sIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZSBvclxuICAgICAqICB0aGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGVhY2ggbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludm9rZU1hcChbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuICAgICAqIC8vID0+IFtbMSwgNSwgN10sIFsxLCAyLCAzXV1cbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcbiAgICAgKiAvLyA9PiBbWycxJywgJzInLCAnMyddLCBbJzQnLCAnNScsICc2J11dXG4gICAgICovXG4gICAgdmFyIGludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGlzRnVuYyA9IHR5cGVvZiBwYXRoID09ICdmdW5jdGlvbicsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXNGdW5jID8gYXBwbHkocGF0aCwgdmFsdWUsIGFyZ3MpIDogYmFzZUludm9rZSh2YWx1ZSwgcGF0aCwgYXJncyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbGFzdCBlbGVtZW50IHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBrZXkuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtcbiAgICAgKiAgIHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LFxuICAgICAqICAgeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmtleUJ5KGFycmF5LCBmdW5jdGlvbihvKSB7XG4gICAgICogICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShvLmNvZGUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksICdkaXInKTtcbiAgICAgKiAvLyA9PiB7ICdsZWZ0JzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdyaWdodCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqL1xuICAgIHZhciBrZXlCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIHZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1XG4gICAgICogYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG4gICAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogTWFueSBsb2Rhc2ggbWV0aG9kcyBhcmUgZ3VhcmRlZCB0byB3b3JrIGFzIGl0ZXJhdGVlcyBmb3IgbWV0aG9kcyBsaWtlXG4gICAgICogYF8uZXZlcnlgLCBgXy5maWx0ZXJgLCBgXy5tYXBgLCBgXy5tYXBWYWx1ZXNgLCBgXy5yZWplY3RgLCBhbmQgYF8uc29tZWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXJ5YCwgYGNodW5rYCwgYGN1cnJ5YCwgYGN1cnJ5UmlnaHRgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZXZlcnlgLFxuICAgICAqIGBmaWxsYCwgYGludmVydGAsIGBwYXJzZUludGAsIGByYW5kb21gLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZXBlYXRgLFxuICAgICAqIGBzYW1wbGVTaXplYCwgYHNsaWNlYCwgYHNvbWVgLCBgc29ydEJ5YCwgYHNwbGl0YCwgYHRha2VgLCBgdGFrZVJpZ2h0YCxcbiAgICAgKiBgdGVtcGxhdGVgLCBgdHJpbWAsIGB0cmltRW5kYCwgYHRyaW1TdGFydGAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5tYXAoWzQsIDhdLCBzcXVhcmUpO1xuICAgICAqIC8vID0+IFsxNiwgNjRdXG4gICAgICpcbiAgICAgKiBfLm1hcCh7ICdhJzogNCwgJ2InOiA4IH0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JyB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJyB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwKHVzZXJzLCAndXNlcicpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlNYXAgOiBiYXNlTWFwO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRCeWAgZXhjZXB0IHRoYXQgaXQgYWxsb3dzIHNwZWNpZnlpbmcgdGhlIHNvcnRcbiAgICAgKiBvcmRlcnMgb2YgdGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlc1xuICAgICAqIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsIHNwZWNpZnkgYW4gb3JkZXIgb2YgXCJkZXNjXCIgZm9yXG4gICAgICogZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlciBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXXxGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtvcmRlcnNdIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNvcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDggfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBTb3J0IGJ5IGB1c2VyYCBpbiBhc2NlbmRpbmcgb3JkZXIgYW5kIGJ5IGBhZ2VgIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICogXy5vcmRlckJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10sIFsnYXNjJywgJ2Rlc2MnXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCA0MF1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gb3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycywgZ3VhcmQpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0FycmF5KGl0ZXJhdGVlcykpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gaXRlcmF0ZWVzID09IG51bGwgPyBbXSA6IFtpdGVyYXRlZXNdO1xuICAgICAgfVxuICAgICAgb3JkZXJzID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBvcmRlcnM7XG4gICAgICBpZiAoIWlzQXJyYXkob3JkZXJzKSkge1xuICAgICAgICBvcmRlcnMgPSBvcmRlcnMgPT0gbnVsbCA/IFtdIDogW29yZGVyc107XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgc3BsaXQgaW50byB0d28gZ3JvdXBzLCB0aGUgZmlyc3Qgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IsIHRoZSBzZWNvbmQgb2Ygd2hpY2hcbiAgICAgKiBjb250YWlucyBlbGVtZW50cyBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleSBmb3IuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsIHsgJ2FnZSc6IDEsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydwZWJibGVzJ10sIFsnYmFybmV5JywgJ2ZyZWQnXV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsICdwZWJibGVzJ10sIFsnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5wYXJ0aXRpb24odXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydmcmVkJ10sIFsnYmFybmV5JywgJ3BlYmJsZXMnXV1cbiAgICAgKi9cbiAgICB2YXIgcGFydGl0aW9uID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIHJlc3VsdFtrZXkgPyAwIDogMV0ucHVzaCh2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24oKSB7IHJldHVybiBbW10sIFtdXTsgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWR1Y2VzIGBjb2xsZWN0aW9uYCB0byBhIHZhbHVlIHdoaWNoIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBpbiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLiBJZiBgYWNjdW11bGF0b3JgXG4gICAgICogaXMgbm90IGdpdmVuLCB0aGUgZmlyc3QgZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgaXMgdXNlZCBhcyB0aGUgaW5pdGlhbFxuICAgICAqIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOlxuICAgICAqIChhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5yZWR1Y2VgLCBgXy5yZWR1Y2VSaWdodGAsIGFuZCBgXy50cmFuc2Zvcm1gLlxuICAgICAqXG4gICAgICogVGhlIGd1YXJkZWQgbWV0aG9kcyBhcmU6XG4gICAgICogYGFzc2lnbmAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgaW5jbHVkZXNgLCBgbWVyZ2VgLCBgb3JkZXJCeWAsXG4gICAgICogYW5kIGBzb3J0QnlgXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5yZWR1Y2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZShbMSwgMl0sIGZ1bmN0aW9uKHN1bSwgbikge1xuICAgICAqICAgcmV0dXJuIHN1bSArIG47XG4gICAgICogfSwgMCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZWR1Y2UoeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiAgIHJldHVybiByZXN1bHQ7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZSA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2gpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucmVkdWNlYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbWzAsIDFdLCBbMiwgM10sIFs0LCA1XV07XG4gICAgICpcbiAgICAgKiBfLnJlZHVjZVJpZ2h0KGFycmF5LCBmdW5jdGlvbihmbGF0dGVuZWQsIG90aGVyKSB7XG4gICAgICogICByZXR1cm4gZmxhdHRlbmVkLmNvbmNhdChvdGhlcik7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA1LCAyLCAzLCAwLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZVJpZ2h0KGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlSZWR1Y2VSaWdodCA6IGJhc2VSZWR1Y2UsXG4gICAgICAgICAgaW5pdEFjY3VtID0gYXJndW1lbnRzLmxlbmd0aCA8IDM7XG5cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgYmFzZUVhY2hSaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmZpbHRlcmA7IHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYFxuICAgICAqIHRoYXQgYHByZWRpY2F0ZWAgZG9lcyAqKm5vdCoqIHJldHVybiB0cnV0aHkgZm9yLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5maWx0ZXJcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5yZWplY3QodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIHsgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5yZWplY3QodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlGaWx0ZXIgOiBiYXNlRmlsdGVyO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2FtcGxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZSA6IGJhc2VTYW1wbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGBuYCByYW5kb20gZWxlbWVudHMgYXQgdW5pcXVlIGtleXMgZnJvbSBgY29sbGVjdGlvbmAgdXAgdG8gdGhlXG4gICAgICogc2l6ZSBvZiBgY29sbGVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGVTaXplKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzMsIDFdXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCA0KTtcbiAgICAgKiAvLyA9PiBbMiwgMywgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzYW1wbGVTaXplKGNvbGxlY3Rpb24sIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIDogbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBuID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICB9XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNhbXBsZVNpemUgOiBiYXNlU2FtcGxlU2l6ZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygc2h1ZmZsZWQgdmFsdWVzLCB1c2luZyBhIHZlcnNpb24gb2YgdGhlXG4gICAgICogW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXItWWF0ZXNfc2h1ZmZsZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2h1ZmZsZShbMSwgMiwgMywgNF0pO1xuICAgICAqIC8vID0+IFs0LCAxLCAzLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTaHVmZmxlIDogYmFzZVNodWZmbGU7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzaXplIG9mIGBjb2xsZWN0aW9uYCBieSByZXR1cm5pbmcgaXRzIGxlbmd0aCBmb3IgYXJyYXktbGlrZVxuICAgICAqIHZhbHVlcyBvciB0aGUgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb2xsZWN0aW9uIHNpemUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc2l6ZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uc2l6ZSh7ICdhJzogMSwgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8uc2l6ZSgncGViYmxlcycpO1xuICAgICAqIC8vID0+IDdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaXplKGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKGNvbGxlY3Rpb24pID8gc3RyaW5nU2l6ZShjb2xsZWN0aW9uKSA6IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyhjb2xsZWN0aW9uKTtcbiAgICAgIGlmICh0YWcgPT0gbWFwVGFnIHx8IHRhZyA9PSBzZXRUYWcpIHtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb24uc2l6ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlS2V5cyhjb2xsZWN0aW9uKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFueSoqIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gLlxuICAgICAqIEl0ZXJhdGlvbiBpcyBzdG9wcGVkIG9uY2UgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb21lKFtudWxsLCAwLCAneWVzJywgZmFsc2VdLCBCb29sZWFuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29tZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U29tZSA6IGJhc2VTb21lO1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZWxlbWVudHMsIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIgYnkgdGhlIHJlc3VsdHMgb2ZcbiAgICAgKiBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdGhydSBlYWNoIGl0ZXJhdGVlLiBUaGlzIG1ldGhvZFxuICAgICAqIHBlcmZvcm1zIGEgc3RhYmxlIHNvcnQsIHRoYXQgaXMsIGl0IHByZXNlcnZlcyB0aGUgb3JpZ2luYWwgc29ydCBvcmRlciBvZlxuICAgICAqIGVxdWFsIGVsZW1lbnRzLiBUaGUgaXRlcmF0ZWVzIGFyZSBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDMwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyOyB9XSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgMzZdLCBbJ2Jhcm5leScsIDM0XSwgWydmcmVkJywgNDhdLCBbJ2ZyZWQnLCAzMF1dXG4gICAgICpcbiAgICAgKiBfLnNvcnRCeSh1c2VycywgWyd1c2VyJywgJ2FnZSddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNF0sIFsnYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCAzMF0sIFsnZnJlZCcsIDQ4XV1cbiAgICAgKi9cbiAgICB2YXIgc29ydEJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWVzKSB7XG4gICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBpdGVyYXRlZXMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA+IDEgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtdO1xuICAgICAgfSBlbHNlIGlmIChsZW5ndGggPiAyICYmIGlzSXRlcmF0ZWVDYWxsKGl0ZXJhdGVlc1swXSwgaXRlcmF0ZWVzWzFdLCBpdGVyYXRlZXNbMl0pKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IFtpdGVyYXRlZXNbMF1dO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGJhc2VGbGF0dGVuKGl0ZXJhdGVlcywgMSksIFtdKTtcbiAgICB9KTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICAgICAqIHRoZSBVbml4IGVwb2NoICgxIEphbnVhcnkgMTk3MCAwMDowMDowMCBVVEMpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IERhdGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lc3RhbXAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmZXIoZnVuY3Rpb24oc3RhbXApIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gICAgICogfSwgXy5ub3coKSk7XG4gICAgICogLy8gPT4gTG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgaW52b2NhdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgbm93ID0gY3R4Tm93IHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbiAgICB9O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmJlZm9yZWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiBgZnVuY2Agb25jZSBpdCdzIGNhbGxlZCBgbmAgb3IgbW9yZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgY2FsbHMgYmVmb3JlIGBmdW5jYCBpcyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBzYXZlcyA9IFsncHJvZmlsZScsICdzZXR0aW5ncyddO1xuICAgICAqXG4gICAgICogdmFyIGRvbmUgPSBfLmFmdGVyKHNhdmVzLmxlbmd0aCwgZnVuY3Rpb24oKSB7XG4gICAgICogICBjb25zb2xlLmxvZygnZG9uZSBzYXZpbmchJyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZvckVhY2goc2F2ZXMsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgKiAgIGFzeW5jU2F2ZSh7ICd0eXBlJzogdHlwZSwgJ2NvbXBsZXRlJzogZG9uZSB9KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdkb25lIHNhdmluZyEnIGFmdGVyIHRoZSB0d28gYXN5bmMgc2F2ZXMgaGF2ZSBjb21wbGV0ZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWZ0ZXIobiwgZnVuYykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKC0tbiA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgLCB3aXRoIHVwIHRvIGBuYCBhcmd1bWVudHMsXG4gICAgICogaWdub3JpbmcgYW55IGFkZGl0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgY2FwLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcChbJzYnLCAnOCcsICcxMCddLCBfLmFyeShwYXJzZUludCwgMSkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnkoZnVuYywgbiwgZ3VhcmQpIHtcbiAgICAgIG4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IG47XG4gICAgICBuID0gKGZ1bmMgJiYgbiA9PSBudWxsKSA/IGZ1bmMubGVuZ3RoIDogbjtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQVJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHNcbiAgICAgKiBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgd2hpbGUgaXQncyBjYWxsZWQgbGVzcyB0aGFuIGBuYCB0aW1lcy4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBhdCB3aGljaCBgZnVuY2AgaXMgbm8gbG9uZ2VyIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uYmVmb3JlKDUsIGFkZENvbnRhY3RUb0xpc3QpKTtcbiAgICAgKiAvLyA9PiBBbGxvd3MgYWRkaW5nIHVwIHRvIDQgY29udGFjdHMgdG8gdGhlIGxpc3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmVmb3JlKG4sIGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uID4gMCkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobiA8PSAxKSB7XG4gICAgICAgICAgZnVuYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2BcbiAgICAgKiBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kLnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgbmF0aXZlIGBGdW5jdGlvbiNiaW5kYCwgdGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBvZiBib3VuZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBiaW5kLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICd1c2VyJzogJ2ZyZWQnIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmQoZ3JlZXQsIG9iamVjdCwgXywgJyEnKTtcbiAgICAgKiBib3VuZCgnaGknKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGJpdG1hc2sgPSBXUkFQX0JJTkRfRkxBRztcbiAgICAgIGlmIChwYXJ0aWFscy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKGJpbmQpKTtcbiAgICAgICAgYml0bWFzayB8PSBXUkFQX1BBUlRJQUxfRkxBRztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgb2JqZWN0W2tleV1gIHdpdGggYHBhcnRpYWxzYFxuICAgICAqIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIGBfLmJpbmRgIGJ5IGFsbG93aW5nIGJvdW5kIGZ1bmN0aW9ucyB0byByZWZlcmVuY2VcbiAgICAgKiBtZXRob2RzIHRoYXQgbWF5IGJlIHJlZGVmaW5lZCBvciBkb24ndCB5ZXQgZXhpc3QuIFNlZVxuICAgICAqIFtQZXRlciBNaWNoYXV4J3MgYXJ0aWNsZV0oaHR0cDovL3BldGVyLm1pY2hhdXguY2EvYXJ0aWNsZXMvbGF6eS1mdW5jdGlvbi1kZWZpbml0aW9uLXBhdHRlcm4pXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFRoZSBgXy5iaW5kS2V5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW52b2tlIHRoZSBtZXRob2Qgb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAndXNlcic6ICdmcmVkJyxcbiAgICAgKiAgICdncmVldCc6IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGJvdW5kID0gXy5iaW5kS2V5KG9iamVjdCwgJ2dyZWV0JywgJ2hpJyk7XG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGkgZnJlZCEnXG4gICAgICpcbiAgICAgKiBvYmplY3QuZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgcHVuY3R1YXRpb24pIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICd5YSAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIGJvdW5kKCchJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBCb3VuZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaXlhIGZyZWQhJ1xuICAgICAqL1xuICAgIHZhciBiaW5kS2V5ID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBrZXksIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZEtleSkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoa2V5LCBiaXRtYXNrLCBvYmplY3QsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYXJndW1lbnRzIG9mIGBmdW5jYCBhbmQgZWl0aGVyIGludm9rZXNcbiAgICAgKiBgZnVuY2AgcmV0dXJuaW5nIGl0cyByZXN1bHQsIGlmIGF0IGxlYXN0IGBhcml0eWAgbnVtYmVyIG9mIGFyZ3VtZW50cyBoYXZlXG4gICAgICogYmVlbiBwcm92aWRlZCwgb3IgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyB0aGUgcmVtYWluaW5nIGBmdW5jYFxuICAgICAqIGFyZ3VtZW50cywgYW5kIHNvIG9uLiBUaGUgYXJpdHkgb2YgYGZ1bmNgIG1heSBiZSBzcGVjaWZpZWQgaWYgYGZ1bmMubGVuZ3RoYFxuICAgICAqIGlzIG5vdCBzdWZmaWNpZW50LlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWMgYnVpbGRzLFxuICAgICAqIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBjdXJyaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGN1cnJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHk9ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYWJjID0gZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIGN1cnJpZWQgPSBfLmN1cnJ5KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEpKDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyKSgzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMSkoXywgMykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnkoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeS5wbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jdXJyeWAgZXhjZXB0IHRoYXQgYXJndW1lbnRzIGFyZSBhcHBsaWVkIHRvIGBmdW5jYFxuICAgICAqIGluIHRoZSBtYW5uZXIgb2YgYF8ucGFydGlhbFJpZ2h0YCBpbnN0ZWFkIG9mIGBfLnBhcnRpYWxgLlxuICAgICAqXG4gICAgICogVGhlIGBfLmN1cnJ5UmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnlSaWdodChhYmMpO1xuICAgICAqXG4gICAgICogY3VycmllZCgzKSgyKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMiwgMykoMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIsIDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogLy8gQ3VycmllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiBjdXJyaWVkKDMpKDEsIF8pKDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1cnJ5UmlnaHQoZnVuYywgYXJpdHksIGd1YXJkKSB7XG4gICAgICBhcml0eSA9IGd1YXJkID8gdW5kZWZpbmVkIDogYXJpdHk7XG4gICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlV3JhcChmdW5jLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBhcml0eSk7XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBjdXJyeVJpZ2h0LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAgICAgKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAgICAgKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gICAgICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gICAgICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gICAgICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICAgICAqIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICAgICAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gICAgICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gICAgICogICAnbGVhZGluZyc6IHRydWUsXG4gICAgICogICAndHJhaWxpbmcnOiBmYWxzZVxuICAgICAqIH0pKTtcbiAgICAgKlxuICAgICAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gICAgICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gICAgICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICAgICAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxhc3RBcmdzLFxuICAgICAgICAgIGxhc3RUaGlzLFxuICAgICAgICAgIG1heFdhaXQsXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIHRpbWVySWQsXG4gICAgICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgICAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgICAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAgICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICAgICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgICAgICByZXR1cm4gbWF4aW5nXG4gICAgICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgICAgIDogdGltZVdhaXRpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICAgICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgICAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAgICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICAgICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgICAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gICAgICByZXR1cm4gZGVib3VuY2VkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmVycyBpbnZva2luZyB0aGUgYGZ1bmNgIHVudGlsIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzIGNsZWFyZWQuIEFueVxuICAgICAqIGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWZlci5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAnZGVmZXJyZWQnKTtcbiAgICAgKiAvLyA9PiBMb2dzICdkZWZlcnJlZCcgYWZ0ZXIgb25lIG1pbGxpc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWZlciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgMSwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGBmdW5jYCBhZnRlciBgd2FpdGAgbWlsbGlzZWNvbmRzLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQncyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSB0aW1lciBpZC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWxheShmdW5jdGlvbih0ZXh0KSB7XG4gICAgICogICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICAgKiB9LCAxMDAwLCAnbGF0ZXInKTtcbiAgICAgKiAvLyA9PiBMb2dzICdsYXRlcicgYWZ0ZXIgb25lIHNlY29uZC5cbiAgICAgKi9cbiAgICB2YXIgZGVsYXkgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gYmFzZURlbGF5KGZ1bmMsIHRvTnVtYmVyKHdhaXQpIHx8IDAsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgcmV2ZXJzZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBmbGlwIGFyZ3VtZW50cyBmb3IuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxpcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZsaXBwZWQgPSBfLmZsaXAoZnVuY3Rpb24oKSB7XG4gICAgICogICByZXR1cm4gXy50b0FycmF5KGFyZ3VtZW50cyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBmbGlwcGVkKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gWydkJywgJ2MnLCAnYicsICdhJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGlwKGZ1bmMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfRkxJUF9GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBtZW1vaXplcyB0aGUgcmVzdWx0IG9mIGBmdW5jYC4gSWYgYHJlc29sdmVyYCBpc1xuICAgICAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAgICAgKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgbWFwIGNhY2hlIGtleS4gVGhlIGBmdW5jYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZFxuICAgICAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICAgICAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gICAgICogW2BNYXBgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wcm9wZXJ0aWVzLW9mLXRoZS1tYXAtcHJvdG90eXBlLW9iamVjdClcbiAgICAgKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICAgICAqXG4gICAgICogdmFyIHZhbHVlcyA9IF8ubWVtb2l6ZShfLnZhbHVlcyk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiB2YWx1ZXMob3RoZXIpO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqXG4gICAgICogb2JqZWN0LmEgPSAyO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gICAgICogdmFsdWVzLmNhY2hlLnNldChvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIHZhbHVlcyhvYmplY3QpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKlxuICAgICAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gICAgICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgIT0gbnVsbCAmJiB0eXBlb2YgcmVzb2x2ZXIgIT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgICAgICBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICAgIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9XG5cbiAgICAvLyBFeHBvc2UgYE1hcENhY2hlYC5cbiAgICBtZW1vaXplLkNhY2hlID0gTWFwQ2FjaGU7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBuZWdhdGVzIHRoZSByZXN1bHQgb2YgdGhlIHByZWRpY2F0ZSBgZnVuY2AuIFRoZVxuICAgICAqIGBmdW5jYCBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIHByZWRpY2F0ZSB0byBuZWdhdGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbmVnYXRlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNFdmVuKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsxLCAyLCAzLCA0LCA1LCA2XSwgXy5uZWdhdGUoaXNFdmVuKSk7XG4gICAgICogLy8gPT4gWzEsIDMsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmVnYXRlKHByZWRpY2F0ZSkge1xuICAgICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMpO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdKTtcbiAgICAgICAgICBjYXNlIDI6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpcyByZXN0cmljdGVkIHRvIGludm9raW5nIGBmdW5jYCBvbmNlLiBSZXBlYXQgY2FsbHNcbiAgICAgKiB0byB0aGUgZnVuY3Rpb24gcmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgaW52b2NhdGlvbi4gVGhlIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlc3RyaWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJlc3RyaWN0ZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBpbml0aWFsaXplID0gXy5vbmNlKGNyZWF0ZUFwcGxpY2F0aW9uKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogaW5pdGlhbGl6ZSgpO1xuICAgICAqIC8vID0+IGBjcmVhdGVBcHBsaWNhdGlvbmAgaXMgaW52b2tlZCBvbmNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gICAgICByZXR1cm4gYmVmb3JlKDIsIGZ1bmMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50cyB0cmFuc2Zvcm1lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFt0cmFuc2Zvcm1zPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGFyZ3VtZW50IHRyYW5zZm9ybXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGRvdWJsZWQobikge1xuICAgICAqICAgcmV0dXJuIG4gKiAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJBcmdzKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiBbeCwgeV07XG4gICAgICogfSwgW3NxdWFyZSwgZG91YmxlZF0pO1xuICAgICAqXG4gICAgICogZnVuYyg5LCAzKTtcbiAgICAgKiAvLyA9PiBbODEsIDZdXG4gICAgICpcbiAgICAgKiBmdW5jKDEwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTAwLCAxMF1cbiAgICAgKi9cbiAgICB2YXIgb3ZlckFyZ3MgPSBjYXN0UmVzdChmdW5jdGlvbihmdW5jLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB0cmFuc2Zvcm1zID0gKHRyYW5zZm9ybXMubGVuZ3RoID09IDEgJiYgaXNBcnJheSh0cmFuc2Zvcm1zWzBdKSlcbiAgICAgICAgPyBhcnJheU1hcCh0cmFuc2Zvcm1zWzBdLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpXG4gICAgICAgIDogYXJyYXlNYXAoYmFzZUZsYXR0ZW4odHJhbnNmb3JtcywgMSksIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciBmdW5jc0xlbmd0aCA9IHRyYW5zZm9ybXMubGVuZ3RoO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4oYXJncy5sZW5ndGgsIGZ1bmNzTGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gdHJhbnNmb3Jtc1tpbmRleF0uY2FsbCh0aGlzLCBhcmdzW2luZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZVxuICAgICAqIGFyZ3VtZW50cyBpdCByZWNlaXZlcy4gVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5iaW5kYCBleGNlcHQgaXQgZG9lcyAqKm5vdCoqXG4gICAgICogYWx0ZXIgdGhlIGB0aGlzYCBiaW5kaW5nLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWwucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIHBhcnRpYWxseVxuICAgICAqIGFwcGxpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMi4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZ3JlZXQoZ3JlZXRpbmcsIG5hbWUpIHtcbiAgICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIG5hbWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWwoZ3JlZXQsICdoZWxsbycpO1xuICAgICAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFBhcnRpYWxseSBhcHBsaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWwoZ3JlZXQsIF8sICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihwYXJ0aWFsKSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnBhcnRpYWxgIGV4Y2VwdCB0aGF0IHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50c1xuICAgICAqIGFyZSBhcHBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLnBhcnRpYWxSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdmcmVkJyk7XG4gICAgICogZ3JlZXRGcmVkKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIHNheUhlbGxvVG8gPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2hlbGxvJywgXyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqL1xuICAgIHZhciBwYXJ0aWFsUmlnaHQgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWxSaWdodCkpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBhcmd1bWVudHMgYXJyYW5nZWQgYWNjb3JkaW5nXG4gICAgICogdG8gdGhlIHNwZWNpZmllZCBgaW5kZXhlc2Agd2hlcmUgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBmaXJzdCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCwgdGhlIGFyZ3VtZW50IHZhbHVlIGF0IHRoZSBzZWNvbmQgaW5kZXggaXNcbiAgICAgKiBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZWFycmFuZ2UgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcmd1bWVudCBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcmVhcmdlZCA9IF8ucmVhcmcoZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIFthLCBiLCBjXTtcbiAgICAgKiB9LCBbMiwgMCwgMV0pO1xuICAgICAqXG4gICAgICogcmVhcmdlZCgnYicsICdjJywgJ2EnKVxuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIHZhciByZWFyZyA9IGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmMsIGluZGV4ZXMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUkVBUkdfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgaW5kZXhlcyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIGZ1bmN0aW9uIGFuZCBhcmd1bWVudHMgZnJvbSBgc3RhcnRgIGFuZCBiZXlvbmQgcHJvdmlkZWQgYXNcbiAgICAgKiBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvbiB0aGVcbiAgICAgKiBbcmVzdCBwYXJhbWV0ZXJdKGh0dHBzOi8vbWRuLmlvL3Jlc3RfcGFyYW1ldGVycykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8ucmVzdChmdW5jdGlvbih3aGF0LCBuYW1lcykge1xuICAgICAqICAgcmV0dXJuIHdoYXQgKyAnICcgKyBfLmluaXRpYWwobmFtZXMpLmpvaW4oJywgJykgK1xuICAgICAqICAgICAoXy5zaXplKG5hbWVzKSA+IDEgPyAnLCAmICcgOiAnJykgKyBfLmxhc3QobmFtZXMpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KCdoZWxsbycsICdmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3QoZnVuYywgc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gc3RhcnQgPT09IHVuZGVmaW5lZCA/IHN0YXJ0IDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jLCBzdGFydCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gICAgICogY3JlYXRlIGZ1bmN0aW9uIGFuZCBhbiBhcnJheSBvZiBhcmd1bWVudHMgbXVjaCBsaWtlXG4gICAgICogW2BGdW5jdGlvbiNhcHBseWBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1mdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtzcHJlYWQgb3BlcmF0b3JdKGh0dHBzOi8vbWRuLmlvL3NwcmVhZF9vcGVyYXRvcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBzcHJlYWQgYXJndW1lbnRzIG92ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHNwcmVhZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNheSA9IF8uc3ByZWFkKGZ1bmN0aW9uKHdobywgd2hhdCkge1xuICAgICAqICAgcmV0dXJuIHdobyArICcgc2F5cyAnICsgd2hhdDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHNheShbJ2ZyZWQnLCAnaGVsbG8nXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQgc2F5cyBoZWxsbydcbiAgICAgKlxuICAgICAqIHZhciBudW1iZXJzID0gUHJvbWlzZS5hbGwoW1xuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDQwKSxcbiAgICAgKiAgIFByb21pc2UucmVzb2x2ZSgzNilcbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIG51bWJlcnMudGhlbihfLnNwcmVhZChmdW5jdGlvbih4LCB5KSB7XG4gICAgICogICByZXR1cm4geCArIHk7XG4gICAgICogfSkpO1xuICAgICAqIC8vID0+IGEgUHJvbWlzZSBvZiA3NlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwcmVhZChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IG5hdGl2ZU1heCh0b0ludGVnZXIoc3RhcnQpLCAwKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFyZ3Nbc3RhcnRdLFxuICAgICAgICAgICAgb3RoZXJBcmdzID0gY2FzdFNsaWNlKGFyZ3MsIDAsIHN0YXJ0KTtcblxuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBhcnJheVB1c2gob3RoZXJBcmdzLCBhcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdGhyb3R0bGVkIGZ1bmN0aW9uIHRoYXQgb25seSBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyXG4gICAgICogZXZlcnkgYHdhaXRgIG1pbGxpc2Vjb25kcy4gVGhlIHRocm90dGxlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGBcbiAgICAgKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gICAgICogaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgXG4gICAgICogc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YFxuICAgICAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAgICAgKiB0aHJvdHRsZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnQgY2FsbHMgdG8gdGhlIHRocm90dGxlZCBmdW5jdGlvbiByZXR1cm4gdGhlXG4gICAgICogcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBpbnZvY2F0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICAgICAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uXG4gICAgICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gICAgICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICAgICAqXG4gICAgICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gICAgICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB0aHJvdHRsZSBpbnZvY2F0aW9ucyB0by5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Njcm9sbCcsIF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCkpO1xuICAgICAqXG4gICAgICogLy8gSW52b2tlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXMuXG4gICAgICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUocmVuZXdUb2tlbiwgMzAwMDAwLCB7ICd0cmFpbGluZyc6IGZhbHNlIH0pO1xuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyB0aHJvdHRsZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJvdHRsZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgICAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAgICAgJ2xlYWRpbmcnOiBsZWFkaW5nLFxuICAgICAgICAnbWF4V2FpdCc6IHdhaXQsXG4gICAgICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHVwIHRvIG9uZSBhcmd1bWVudCwgaWdub3JpbmcgYW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8udW5hcnkocGFyc2VJbnQpKTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5hcnkoZnVuYykge1xuICAgICAgcmV0dXJuIGFyeShmdW5jLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBgdmFsdWVgIHRvIGB3cmFwcGVyYCBhcyBpdHMgZmlyc3RcbiAgICAgKiBhcmd1bWVudC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBmdW5jdGlvbiBhcmUgYXBwZW5kZWRcbiAgICAgKiB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgYHdyYXBwZXJgLiBUaGUgd3JhcHBlciBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFt3cmFwcGVyPWlkZW50aXR5XSBUaGUgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHAgPSBfLndyYXAoXy5lc2NhcGUsIGZ1bmN0aW9uKGZ1bmMsIHRleHQpIHtcbiAgICAgKiAgIHJldHVybiAnPHA+JyArIGZ1bmModGV4dCkgKyAnPC9wPic7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBwKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICc8cD5mcmVkLCBiYXJuZXksICZhbXA7IHBlYmJsZXM8L3A+J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXAodmFsdWUsIHdyYXBwZXIpIHtcbiAgICAgIHJldHVybiBwYXJ0aWFsKGNhc3RGdW5jdGlvbih3cmFwcGVyKSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgYXMgYW4gYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoMSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEgfV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbbnVsbF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZF1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKiBjb25zb2xlLmxvZyhfLmNhc3RBcnJheShhcnJheSkgPT09IGFycmF5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5KCkge1xuICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2hhbGxvdyBjbG9uZSBvZiBgdmFsdWVgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb24gdGhlXG4gICAgICogW3N0cnVjdHVyZWQgY2xvbmUgYWxnb3JpdGhtXShodHRwczovL21kbi5pby9TdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobSlcbiAgICAgKiBhbmQgc3VwcG9ydHMgY2xvbmluZyBhcnJheXMsIGFycmF5IGJ1ZmZlcnMsIGJvb2xlYW5zLCBkYXRlIG9iamVjdHMsIG1hcHMsXG4gICAgICogbnVtYmVycywgYE9iamVjdGAgb2JqZWN0cywgcmVnZXhlcywgc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkXG4gICAgICogYXJyYXlzLiBUaGUgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgYXJndW1lbnRzYCBvYmplY3RzIGFyZSBjbG9uZWRcbiAgICAgKiBhcyBwbGFpbiBvYmplY3RzLiBBbiBlbXB0eSBvYmplY3QgaXMgcmV0dXJuZWQgZm9yIHVuY2xvbmVhYmxlIHZhbHVlcyBzdWNoXG4gICAgICogYXMgZXJyb3Igb2JqZWN0cywgZnVuY3Rpb25zLCBET00gbm9kZXMsIGFuZCBXZWFrTWFwcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIHNoYWxsb3cgPSBfLmNsb25lKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKHNoYWxsb3dbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgY2xvbmVkIHZhbHVlLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCxcbiAgICAgKiBjbG9uaW5nIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHVwIHRvIGZvdXIgYXJndW1lbnRzOyAodmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVEZWVwV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ2EnOiAxIH0sIHsgJ2InOiAyIH1dO1xuICAgICAqXG4gICAgICogdmFyIGRlZXAgPSBfLmNsb25lRGVlcChvYmplY3RzKTtcbiAgICAgKiBjb25zb2xlLmxvZyhkZWVwWzBdID09PSBvYmplY3RzWzBdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VDbG9uZSh2YWx1ZSwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmNsb25lV2l0aGAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZVdpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcih2YWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNFbGVtZW50KHZhbHVlKSkge1xuICAgICAqICAgICByZXR1cm4gdmFsdWUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBlbCA9IF8uY2xvbmVEZWVwV2l0aChkb2N1bWVudC5ib2R5LCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGVsID09PSBkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqIGNvbnNvbGUubG9nKGVsLm5vZGVOYW1lKTtcbiAgICAgKiAvLyA9PiAnQk9EWSdcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURlZXBXaXRoKHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgb2JqZWN0YCBjb25mb3JtcyB0byBgc291cmNlYCBieSBpbnZva2luZyB0aGUgcHJlZGljYXRlXG4gICAgICogcHJvcGVydGllcyBvZiBgc291cmNlYCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLmNvbmZvcm1zYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xNC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAxOyB9IH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uY29uZm9ybXNUbyhvYmplY3QsIHsgJ2InOiBmdW5jdGlvbihuKSB7IHJldHVybiBuID4gMjsgfSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBzb3VyY2UgPT0gbnVsbCB8fCBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVxKE5hTiwgTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmx0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3QoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5ndCgxLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBndCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUd0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZ3RlKDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPj0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmXG4gICAgICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheUJ1ZmZlcmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheUJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5QnVmZmVyKG5ldyBBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJheUJ1ZmZlciA9IG5vZGVJc0FycmF5QnVmZmVyID8gYmFzZVVuYXJ5KG5vZGVJc0FycmF5QnVmZmVyKSA6IGJhc2VJc0FycmF5QnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICAgICAqIG5vdCBhIGZ1bmN0aW9uIGFuZCBoYXMgYSBgdmFsdWUubGVuZ3RoYCB0aGF0J3MgYW4gaW50ZWdlciBncmVhdGVyIHRoYW4gb3JcbiAgICAgKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzQXJyYXlMaWtlYCBleGNlcHQgdGhhdCBpdCBhbHNvIGNoZWNrcyBpZiBgdmFsdWVgXG4gICAgICogaXMgYW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KCdhYmMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZU9iamVjdChfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYm9vbGVhbiBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJvb2xlYW4sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4oZmFsc2UpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCb29sZWFuKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGJvb2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQnVmZmVyKG5ldyBCdWZmZXIoMikpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IFVpbnQ4QXJyYXkoMikpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBEYXRlYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUobmV3IERhdGUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNEYXRlKCdNb24gQXByaWwgMjMgMjAxMicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzRGF0ZSA9IG5vZGVJc0RhdGUgPyBiYXNlVW5hcnkobm9kZUlzRGF0ZSkgOiBiYXNlSXNEYXRlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VsZW1lbnQoJzxib2R5PicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMSAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gZW1wdHkgb2JqZWN0LCBjb2xsZWN0aW9uLCBtYXAsIG9yIHNldC5cbiAgICAgKlxuICAgICAqIE9iamVjdHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIG5vIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZFxuICAgICAqIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBBcnJheS1saWtlIHZhbHVlcyBzdWNoIGFzIGBhcmd1bWVudHNgIG9iamVjdHMsIGFycmF5cywgYnVmZmVycywgc3RyaW5ncywgb3JcbiAgICAgKiBqUXVlcnktbGlrZSBjb2xsZWN0aW9ucyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgYSBgbGVuZ3RoYCBvZiBgMGAuXG4gICAgICogU2ltaWxhcmx5LCBtYXBzIGFuZCBzZXRzIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBzaXplYCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGVtcHR5LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkodHJ1ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoeyAnYSc6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgICAoaXNBcnJheSh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZS5zcGxpY2UgPT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgaXNCdWZmZXIodmFsdWUpIHx8IGlzVHlwZWRBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICByZXR1cm4gIXZhbHVlLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gIXZhbHVlLnNpemU7XG4gICAgICB9XG4gICAgICBpZiAoaXNQcm90b3R5cGUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAhYmFzZUtleXModmFsdWUpLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgICAqIGVxdWl2YWxlbnQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gICAgICogZGF0ZSBvYmplY3RzLCBlcnJvciBvYmplY3RzLCBtYXBzLCBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLFxuICAgICAqIHNldHMsIHN0cmluZ3MsIHN5bWJvbHMsIGFuZCB0eXBlZCBhcnJheXMuIGBPYmplY3RgIG9iamVjdHMgYXJlIGNvbXBhcmVkXG4gICAgICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gICAgICogbm9kZXMgYXJlIGNvbXBhcmVkIGJ5IHN0cmljdCBlcXVhbGl0eSwgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogb2JqZWN0ID09PSBvdGhlcjtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzRXF1YWxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCB1cCB0b1xuICAgICAqIHNpeCBhcmd1bWVudHM6IChvYmpWYWx1ZSwgb3RoVmFsdWUgWywgaW5kZXh8a2V5LCBvYmplY3QsIG90aGVyLCBzdGFja10pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBvdGhWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcob3RoVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnaGVsbG8nLCAnZ29vZGJ5ZSddO1xuICAgICAqIHZhciBvdGhlciA9IFsnaGknLCAnZ29vZGJ5ZSddO1xuICAgICAqXG4gICAgICogXy5pc0VxdWFsV2l0aChhcnJheSwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VxdWFsV2l0aCh2YWx1ZSwgb3RoZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyID8gY3VzdG9taXplcih2YWx1ZSwgb3RoZXIpIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCB1bmRlZmluZWQsIGN1c3RvbWl6ZXIpIDogISFyZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gYEVycm9yYCwgYEV2YWxFcnJvcmAsIGBSYW5nZUVycm9yYCwgYFJlZmVyZW5jZUVycm9yYCxcbiAgICAgKiBgU3ludGF4RXJyb3JgLCBgVHlwZUVycm9yYCwgb3IgYFVSSUVycm9yYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGVycm9yIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IobmV3IEVycm9yKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRXJyb3IoRXJyb3IpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcnJvcih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZXJyb3JUYWcgfHwgdGFnID09IGRvbUV4Y1RhZyB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlLm1lc3NhZ2UgPT0gJ3N0cmluZycgJiYgdHlwZW9mIHZhbHVlLm5hbWUgPT0gJ3N0cmluZycgJiYgIWlzUGxhaW5PYmplY3QodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBwcmltaXRpdmUgbnVtYmVyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNGaW5pdGVgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNGaW5pdGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZpbml0ZSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZSgzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiBuYXRpdmVJc0Zpbml0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbihfKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gICAgICAvLyBpbiBTYWZhcmkgOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheXMgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgICAgIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgICAgIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzSW50ZWdlcmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT0gdG9JbnRlZ2VyKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzTGVuZ3RoKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgICAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gICAgICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICAgICAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3Qoe30pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gICAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTWFwYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNNYXAgPSBub2RlSXNNYXAgPyBiYXNlVW5hcnkobm9kZUlzTWFwKSA6IGJhc2VJc01hcDtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiBgb2JqZWN0YCBhbmQgYHNvdXJjZWAgdG9cbiAgICAgKiBkZXRlcm1pbmUgaWYgYG9iamVjdGAgY29udGFpbnMgZXF1aXZhbGVudCBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgZXF1aXZhbGVudCB0byBgXy5tYXRjaGVzYCB3aGVuIGBzb3VyY2VgIGlzXG4gICAgICogcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdCBgc291cmNlYFxuICAgICAqIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlIGBfLmlzRXF1YWxgXG4gICAgICogZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAyIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaChvYmplY3QsIHsgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaChvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc01hdGNoYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLCBjb21wYXJpc29uc1xuICAgICAqIGFyZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggZml2ZVxuICAgICAqIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwgaW5kZXh8a2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gaXNHcmVldGluZyh2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuIC9eaCg/Oml8ZWxsbykkLy50ZXN0KHZhbHVlKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKGlzR3JlZXRpbmcob2JqVmFsdWUpICYmIGlzR3JlZXRpbmcoc3JjVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB0cnVlO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdncmVldGluZyc6ICdoZWxsbycgfTtcbiAgICAgKiB2YXIgc291cmNlID0geyAnZ3JlZXRpbmcnOiAnaGknIH07XG4gICAgICpcbiAgICAgKiBfLmlzTWF0Y2hXaXRoKG9iamVjdCwgc291cmNlLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgZ2V0TWF0Y2hEYXRhKHNvdXJjZSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBOYU5gLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNOYU5gXShodHRwczovL21kbi5pby9OdW1iZXIvaXNOYU4pIGFuZCBpcyBub3QgdGhlIHNhbWUgYXNcbiAgICAgKiBnbG9iYWwgW2Bpc05hTmBdKGh0dHBzOi8vbWRuLmlvL2lzTmFOKSB3aGljaCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBgdW5kZWZpbmVkYCBhbmQgb3RoZXIgbm9uLW51bWJlciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4oTmFOKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKG5ldyBOdW1iZXIoTmFOKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmFOKHVuZGVmaW5lZCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc05hTih2YWx1ZSkge1xuICAgICAgLy8gQW4gYE5hTmAgcHJpbWl0aXZlIGlzIHRoZSBvbmx5IHZhbHVlIHRoYXQgaXMgbm90IGVxdWFsIHRvIGl0c2VsZi5cbiAgICAgIC8vIFBlcmZvcm0gdGhlIGB0b1N0cmluZ1RhZ2AgY2hlY2sgZmlyc3QgdG8gYXZvaWQgZXJyb3JzIHdpdGggc29tZVxuICAgICAgLy8gQWN0aXZlWCBvYmplY3RzIGluIElFLlxuICAgICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSAhPSArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcmlzdGluZSBuYXRpdmUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgY2FuJ3QgcmVsaWFibHkgZGV0ZWN0IG5hdGl2ZSBmdW5jdGlvbnMgaW4gdGhlIHByZXNlbmNlXG4gICAgICogb2YgdGhlIGNvcmUtanMgcGFja2FnZSBiZWNhdXNlIGNvcmUtanMgY2lyY3VtdmVudHMgdGhpcyBraW5kIG9mIGRldGVjdGlvbi5cbiAgICAgKiBEZXNwaXRlIG11bHRpcGxlIHJlcXVlc3RzLCB0aGUgY29yZS1qcyBtYWludGFpbmVyIGhhcyBtYWRlIGl0IGNsZWFyOiBhbnlcbiAgICAgKiBhdHRlbXB0IHRvIGZpeCB0aGUgZGV0ZWN0aW9uIHdpbGwgYmUgb2JzdHJ1Y3RlZC4gQXMgYSByZXN1bHQsIHdlJ3JlIGxlZnRcbiAgICAgKiB3aXRoIGxpdHRsZSBjaG9pY2UgYnV0IHRvIHRocm93IGFuIGVycm9yLiBVbmZvcnR1bmF0ZWx5LCB0aGlzIGFsc28gYWZmZWN0c1xuICAgICAqIHBhY2thZ2VzLCBsaWtlIFtiYWJlbC1wb2x5ZmlsbF0oaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvYmFiZWwtcG9seWZpbGwpLFxuICAgICAqIHdoaWNoIHJlbHkgb24gY29yZS1qcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShBcnJheS5wcm90b3R5cGUucHVzaCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05hdGl2ZShfKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoaXNNYXNrYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKENPUkVfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBudWxsYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVsbCh2b2lkIDApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdWxsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBudWxsaXNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbCh2b2lkIDApO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOaWwoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmlsKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYE51bWJlcmAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUbyBleGNsdWRlIGBJbmZpbml0eWAsIGAtSW5maW5pdHlgLCBhbmQgYE5hTmAsIHdoaWNoIGFyZVxuICAgICAqIGNsYXNzaWZpZWQgYXMgbnVtYmVycywgdXNlIHRoZSBgXy5pc0Zpbml0ZWAgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gbnVtYmVyVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gICAgICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuOC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICAgICAgaWYgKHByb3RvID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIEN0b3IgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvLCAnY29uc3RydWN0b3InKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBSZWdFeHBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgvYWJjLyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1JlZ0V4cCgnL2FiYy8nKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1JlZ0V4cCA9IG5vZGVJc1JlZ0V4cCA/IGJhc2VVbmFyeShub2RlSXNSZWdFeHApIDogYmFzZUlzUmVnRXhwO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzYWZlIGludGVnZXIuIEFuIGludGVnZXIgaXMgc2FmZSBpZiBpdCdzIGFuIElFRUUtNzU0XG4gICAgICogZG91YmxlIHByZWNpc2lvbiBudW1iZXIgd2hpY2ggaXNuJ3QgdGhlIHJlc3VsdCBvZiBhIHJvdW5kZWQgdW5zYWZlIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc1NhZmVJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzU2FmZUludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU2FmZUludGVnZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0ludGVnZXIodmFsdWUpICYmIHZhbHVlID49IC1NQVhfU0FGRV9JTlRFR0VSICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1NldCA9IG5vZGVJc1NldCA/IGJhc2VVbmFyeShub2RlSXNTZXQpIDogYmFzZUlzU2V0O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTdHJpbmdgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3RyaW5nLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoJ2FiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTdHJpbmcoMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAoIWlzQXJyYXkodmFsdWUpICYmIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3RyaW5nVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgdHlwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgdW5kZWZpbmVkYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1VuZGVmaW5lZChudWxsKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgV2Vha01hcCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtNYXAobmV3IE1hcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gd2Vha01hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFdlYWtTZXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB3ZWFrIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgV2Vha1NldCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1dlYWtTZXQobmV3IFNldCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1dlYWtTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHdlYWtTZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5ndFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0KDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8ubHQoMywgMSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgbHQgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGJhc2VMdCk7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0b1xuICAgICAqICBgb3RoZXJgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0ZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgxLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmx0ZSgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdGUgPSBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDw9IG90aGVyO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0FycmF5KHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqXG4gICAgICogXy50b0FycmF5KDEpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkobnVsbCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHN0cmluZ1RvQXJyYXkodmFsdWUpIDogY29weUFycmF5KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChzeW1JdGVyYXRvciAmJiB2YWx1ZVtzeW1JdGVyYXRvcl0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVG9BcnJheSh2YWx1ZVtzeW1JdGVyYXRvcl0oKSk7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICBmdW5jID0gdGFnID09IG1hcFRhZyA/IG1hcFRvQXJyYXkgOiAodGFnID09IHNldFRhZyA/IHNldFRvQXJyYXkgOiB2YWx1ZXMpO1xuXG4gICAgICByZXR1cm4gZnVuYyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIGZpbml0ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMi4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoMy4yKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gNWUtMzI0XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiAwO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICBpZiAodmFsdWUgPT09IElORklOSVRZIHx8IHZhbHVlID09PSAtSU5GSU5JVFkpIHtcbiAgICAgICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICAgICAgcmV0dXJuIHNpZ24gKiBNQVhfSU5URUdFUjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcigzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiAxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0ludGVnZXIodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0b0Zpbml0ZSh2YWx1ZSksXG4gICAgICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gcmVzdWx0ID8gKHJlbWFpbmRlciA/IHJlc3VsdCAtIHJlbWFpbmRlciA6IHJlc3VsdCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gaW50ZWdlciBzdWl0YWJsZSBmb3IgdXNlIGFzIHRoZSBsZW5ndGggb2YgYW5cbiAgICAgKiBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDQyOTQ5NjcyOTVcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xlbmd0aCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIDAsIE1BWF9BUlJBWV9MRU5HVEgpIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b051bWJlcigzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IEluZmluaXR5XG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IGJhc2VUcmltKHZhbHVlKTtcbiAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICAgICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAgICAgKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHNhZmUgaW50ZWdlci4gQSBzYWZlIGludGVnZXIgY2FuIGJlIGNvbXBhcmVkIGFuZFxuICAgICAqIHJlcHJlc2VudGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gOTAwNzE5OTI1NDc0MDk5MVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAgICAgKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKG51bGwpO1xuICAgICAqIC8vID0+ICcnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKC0wKTtcbiAgICAgKiAvLyA9PiAnLTAnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gJzEsMiwzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgIGFuZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBpZiAoaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBzb3VyY2UgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbkluKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMywgJ2QnOiA0IH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW4gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25JbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRXaXRoXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25JbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYHBhdGhzYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXy5hdChvYmplY3QsIFsnYVswXS5iLmMnLCAnYVsxXSddKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgYXQgPSBmbGF0UmVzdChiYXNlQXQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0IGlzIGdpdmVuLCBpdHMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXNcbiAgICAgKiBhcmUgYXNzaWduZWQgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICAgKiAgIFNoYXBlLmNhbGwodGhpcyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQ2lyY2xlLnByb3RvdHlwZSA9IF8uY3JlYXRlKFNoYXBlLnByb3RvdHlwZSwge1xuICAgICAqICAgJ2NvbnN0cnVjdG9yJzogQ2lyY2xlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2lyY2xlID0gbmV3IENpcmNsZTtcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcyA9PSBudWxsID8gcmVzdWx0IDogYmFzZUFzc2lnbihyZXN1bHQsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2VcbiAgICAgKiBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzIHRoYXRcbiAgICAgKiByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogT25jZSBhIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCB2YWx1ZXMgb2YgdGhlIHNhbWUgcHJvcGVydHkgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG4gICAgICB2YXIgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgIHZhciBwcm9wcyA9IGtleXNJbihzb3VyY2UpO1xuICAgICAgICB2YXIgcHJvcHNJbmRleCA9IC0xO1xuICAgICAgICB2YXIgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsrcHJvcHNJbmRleCA8IHByb3BzTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW3Byb3BzSW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgKGVxKHZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kZWZhdWx0c2AgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgYXNzaWduc1xuICAgICAqIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0c0RlZXAoeyAnYSc6IHsgJ2InOiAyIH0gfSwgeyAnYSc6IHsgJ2InOiAxLCAnYyc6IDMgfSB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IDIsICdjJzogMyB9IH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHNEZWVwID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgYXJncy5wdXNoKHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSk7XG4gICAgICByZXR1cm4gYXBwbHkobWVyZ2VXaXRoLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiByZXR1cm5zICdwZWJibGVzJyBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93blJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW5cbiAgICAgKiBvYmplY3QgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdFxuICAgICAqIGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3Iob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JJbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW5SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2MnLCAnYicsIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvckluYCBsb2dzICdhJywgJ2InLCB0aGVuICdjJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3JSaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCBhbmRcbiAgICAgKiBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uXG4gICAgICogZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93bihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd24ob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yT3duYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdiJyB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JPd25gIGxvZ3MgJ2EnIHRoZW4gJ2InLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93blJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAgICAqIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc0luXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9ucyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGFuZCBpbmhlcml0ZWRcbiAgICAgKiBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9uc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gICAgICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IHsgJ2InOiAyIH0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvdGhlciwgJ2EnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc0luKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBpbnZlcnRlZCBrZXlzIGFuZCB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICogSWYgYG9iamVjdGAgY29udGFpbnMgZHVwbGljYXRlIHZhbHVlcywgc3Vic2VxdWVudCB2YWx1ZXMgb3ZlcndyaXRlXG4gICAgICogcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnQob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogJ2MnLCAnMic6ICdiJyB9XG4gICAgICovXG4gICAgdmFyIGludmVydCA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbdmFsdWVdID0ga2V5O1xuICAgIH0sIGNvbnN0YW50KGlkZW50aXR5KSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludmVydGAgZXhjZXB0IHRoYXQgdGhlIGludmVydGVkIG9iamVjdCBpcyBnZW5lcmF0ZWRcbiAgICAgKiBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmcgZWFjaCBlbGVtZW50IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogY29ycmVzcG9uZGluZyBpbnZlcnRlZCB2YWx1ZSBvZiBlYWNoIGludmVydGVkIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzXG4gICAgICogcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGludmVydGVkIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAnZ3JvdXAnICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnZ3JvdXAxJzogWydhJywgJ2MnXSwgJ2dyb3VwMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0QnkgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXS5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbdmFsdWVdID0gW2tleV07XG4gICAgICB9XG4gICAgfSwgZ2V0SXRlcmF0ZWUpO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IFsxLCAyLCAzLCA0XSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmludm9rZShvYmplY3QsICdhWzBdLmIuYy5zbGljZScsIDEsIDMpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIHZhciBpbnZva2UgPSBiYXNlUmVzdChiYXNlSW52b2tlKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAgICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5cyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLmtleXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1hcFZhbHVlc2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlXG4gICAgICogc2FtZSB2YWx1ZXMgYXMgYG9iamVjdGAgYW5kIGtleXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZVxuICAgICAqIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcFZhbHVlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcEtleXMoeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICByZXR1cm4ga2V5ICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYTEnOiAxLCAnYjInOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBLZXlzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamVjdGAgYW5kIHZhbHVlcyBnZW5lcmF0ZWRcbiAgICAgKiBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBLZXlzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdmcmVkJzogICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICAgICAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICAgICAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gICAgICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gICAgICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIG90aGVyID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVyZ2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBtZXJnZWQgdmFsdWVzIG9mIHRoZSBkZXN0aW5hdGlvbiBhbmQgc291cmNlXG4gICAgICogcHJvcGVydGllcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIG1lcmdpbmcgaXMgaGFuZGxlZCBieSB0aGVcbiAgICAgKiBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggc2l4IGFyZ3VtZW50czpcbiAgICAgKiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogWzFdLCAnYic6IFsyXSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiBbM10sICdiJzogWzRdIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlV2l0aChvYmplY3QsIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogWzEsIDNdLCAnYic6IFsyLCA0XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZVxuICAgICAqIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgcGF0aHMgb2YgYG9iamVjdGAgdGhhdCBhcmUgbm90IG9taXR0ZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgY29uc2lkZXJhYmx5IHNsb3dlciB0aGFuIGBfLnBpY2tgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gb21pdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdChvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIHZhciBvbWl0ID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaXNEZWVwID0gZmFsc2U7XG4gICAgICBwYXRocyA9IGFycmF5TWFwKHBhdGhzLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgICBpc0RlZXAgfHwgKGlzRGVlcCA9IHBhdGgubGVuZ3RoID4gMSk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfSk7XG4gICAgICBjb3B5T2JqZWN0KG9iamVjdCwgZ2V0QWxsS2V5c0luKG9iamVjdCksIHJlc3VsdCk7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJlc3VsdCA9IGJhc2VDbG9uZShyZXN1bHQsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX0ZMQVRfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9tT21pdENsb25lKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgYmFzZVVuc2V0KHJlc3VsdCwgcGF0aHNbbGVuZ3RoXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tCeWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mXG4gICAgICogdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYG9iamVjdGAgdGhhdFxuICAgICAqIGBwcmVkaWNhdGVgIGRvZXNuJ3QgcmV0dXJuIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3b1xuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXRCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9taXRCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHBpY2tCeShvYmplY3QsIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBgb2JqZWN0YCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGljayhvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBwaWNrID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8ge30gOiBiYXNlUGljayhvYmplY3QsIHBhdGhzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnNcbiAgICAgKiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGlja0J5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGlja0J5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0gYXJyYXlNYXAoZ2V0QWxsS2V5c0luKG9iamVjdCksIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIFtwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlKTtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGUodmFsdWUsIHBhdGhbMF0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5nZXRgIGV4Y2VwdCB0aGF0IGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhXG4gICAgICogZnVuY3Rpb24gaXQncyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGl0cyBwYXJlbnQgb2JqZWN0IGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byByZXNvbHZlLlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYzEnOiAzLCAnYzInOiBfLmNvbnN0YW50KDQpIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMScpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMicpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCBfLmNvbnN0YW50KCdkZWZhdWx0JykpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIGxvb3AgaXMgZW50ZXJlZCB3aGVuIHBhdGggaXMgZW1wdHkuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFt0b0tleShwYXRoW2luZGV4XSldO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgYSBwb3J0aW9uIG9mIGBwYXRoYCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICAgICAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG4gICAgICogYHBhdGhgIGNyZWF0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnNldFdpdGgob2JqZWN0LCAnWzBdWzFdJywgJ2EnLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdpdGgob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGBcbiAgICAgKiB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXAgb3Igc2V0LCBpdHNcbiAgICAgKiBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlycyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzID0gY3JlYXRlVG9QYWlycyhrZXlzKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnNcbiAgICAgKiBmb3IgYG9iamVjdGAgd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwXG4gICAgICogb3Igc2V0LCBpdHMgZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc0luXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlyc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl0sIFsnYycsIDNdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzSW4gPSBjcmVhdGVUb1BhaXJzKGtleXNJbik7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBgXy5yZWR1Y2VgOyB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgdGhydSBgaXRlcmF0ZWVgLCB3aXRoIGVhY2ggaW52b2NhdGlvblxuICAgICAqIHBvdGVudGlhbGx5IG11dGF0aW5nIHRoZSBgYWNjdW11bGF0b3JgIG9iamVjdC4gSWYgYGFjY3VtdWxhdG9yYCBpcyBub3RcbiAgICAgKiBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNhbWUgYFtbUHJvdG90eXBlXV1gIHdpbGwgYmUgdXNlZC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOiAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBjdXN0b20gYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybShbMiwgMywgNF0sIGZ1bmN0aW9uKHJlc3VsdCwgbikge1xuICAgICAqICAgcmVzdWx0LnB1c2gobiAqPSBuKTtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgOV1cbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ob2JqZWN0LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBpc0Fyckxpa2UgPSBpc0FyciB8fCBpc0J1ZmZlcihvYmplY3QpIHx8IGlzVHlwZWRBcnJheShvYmplY3QpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KTtcbiAgICAgIGlmIChhY2N1bXVsYXRvciA9PSBudWxsKSB7XG4gICAgICAgIHZhciBDdG9yID0gb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKGlzQXJyTGlrZSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNBcnIgPyBuZXcgQ3RvciA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzRnVuY3Rpb24oQ3RvcikgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIChpc0Fyckxpa2UgPyBhcnJheUVhY2ggOiBiYXNlRm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcHJvcGVydHkgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogNyB9IH1dIH07XG4gICAgICogXy51bnNldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udW5zZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdHJ1ZSA6IGJhc2VVbnNldChvYmplY3QsIHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBhY2NlcHRzIGB1cGRhdGVyYCB0byBwcm9kdWNlIHRoZVxuICAgICAqIHZhbHVlIHRvIHNldC4gVXNlIGBfLnVwZGF0ZVdpdGhgIHRvIGN1c3RvbWl6ZSBgcGF0aGAgY3JlYXRpb24uIFRoZSBgdXBkYXRlcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ2FbMF0uYi5jJywgZnVuY3Rpb24obikgeyByZXR1cm4gbiAqIG47IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gOVxuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAneFswXS55LnonLCBmdW5jdGlvbihuKSB7IHJldHVybiBuID8gbiArIDEgOiAwOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVwZGF0ZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlV2l0aChvYmplY3QsICdbMF1bMV0nLCBfLmNvbnN0YW50KCdhJyksIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV2l0aChvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlciksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlcyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMl0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKCdoaScpO1xuICAgICAqIC8vID0+IFsnaCcsICdpJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5XG4gICAgICogdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDbGFtcHMgYG51bWJlcmAgd2l0aGluIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNsYW1wKC0xMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IC01XG4gICAgICpcbiAgICAgKiBfLmNsYW1wKDEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gdG9OdW1iZXIodXBwZXIpO1xuICAgICAgICB1cHBlciA9IHVwcGVyID09PSB1cHBlciA/IHVwcGVyIDogMDtcbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gdG9OdW1iZXIobG93ZXIpO1xuICAgICAgICBsb3dlciA9IGxvd2VyID09PSBsb3dlciA/IGxvd2VyIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQ2xhbXAodG9OdW1iZXIobnVtYmVyKSwgbG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG5gIGlzIGJldHdlZW4gYHN0YXJ0YCBhbmQgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gSWZcbiAgICAgKiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICogSWYgYHN0YXJ0YCBpcyBncmVhdGVyIHRoYW4gYGVuZGAgdGhlIHBhcmFtcyBhcmUgc3dhcHBlZCB0byBzdXBwb3J0XG4gICAgICogbmVnYXRpdmUgcmFuZ2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLnJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDMsIDIsIDQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCA4KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgyLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDEuMiwgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDUuMiwgNCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgtMywgLTIsIC02KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgfVxuICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgIHJldHVybiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICogSWYgb25seSBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIHRoZSBnaXZlbiBudW1iZXJcbiAgICAgKiBpcyByZXR1cm5lZC4gSWYgYGZsb2F0aW5nYCBpcyBgdHJ1ZWAsIG9yIGVpdGhlciBgbG93ZXJgIG9yIGB1cHBlcmAgYXJlXG4gICAgICogZmxvYXRzLCBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyPTBdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3VwcGVyPTFdIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZ10gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMCwgNSk7XG4gICAgICogLy8gPT4gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUpO1xuICAgICAqIC8vID0+IGFsc28gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUsIHRydWUpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMS4yLCA1LjIpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMS4yIGFuZCA1LjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb20obG93ZXIsIHVwcGVyLCBmbG9hdGluZykge1xuICAgICAgaWYgKGZsb2F0aW5nICYmIHR5cGVvZiBmbG9hdGluZyAhPSAnYm9vbGVhbicgJiYgaXNJdGVyYXRlZUNhbGwobG93ZXIsIHVwcGVyLCBmbG9hdGluZykpIHtcbiAgICAgICAgdXBwZXIgPSBmbG9hdGluZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXBwZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSB1cHBlcjtcbiAgICAgICAgICB1cHBlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbG93ZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID09PSB1bmRlZmluZWQgJiYgdXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIHVwcGVyID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb3dlciA9IHRvRmluaXRlKGxvd2VyKTtcbiAgICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cHBlciA9IHRvRmluaXRlKHVwcGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1cHBlcjtcbiAgICAgICAgdXBwZXIgPSB0ZW1wO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nIHx8IGxvd2VyICUgMSB8fCB1cHBlciAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihsb3dlciArIChyYW5kICogKHVwcGVyIC0gbG93ZXIgKyBmcmVlUGFyc2VGbG9hdCgnMWUtJyArICgocmFuZCArICcnKS5sZW5ndGggLSAxKSkpKSwgdXBwZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBbY2FtZWwgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FtZWxDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhbWVsIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICovXG4gICAgdmFyIGNhbWVsQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyBjYXBpdGFsaXplKHdvcmQpIDogd29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UgYW5kIHRoZSByZW1haW5pbmdcbiAgICAgKiB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhcGl0YWxpemUoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgICAgcmV0dXJuIHVwcGVyRmlyc3QodG9TdHJpbmcoc3RyaW5nKS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAgICAgKiBbTGF0aW4tMSBTdXBwbGVtZW50XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbi0xX1N1cHBsZW1lbnRfKFVuaWNvZGVfYmxvY2spI0NoYXJhY3Rlcl90YWJsZSlcbiAgICAgKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gICAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICAgICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZGVidXJyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWJ1cnIoJ2TDqWrDoCB2dScpO1xuICAgICAqIC8vID0+ICdkZWphIHZ1J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYnVycihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gc3RyaW5nICYmIHN0cmluZy5yZXBsYWNlKHJlTGF0aW4sIGRlYnVyckxldHRlcikucmVwbGFjZShyZUNvbWJvTWFyaywgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBlbmRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249c3RyaW5nLmxlbmd0aF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG5cbiAgICAgIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gbGVuZ3RoXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIGxlbmd0aCk7XG5cbiAgICAgIHZhciBlbmQgPSBwb3NpdGlvbjtcbiAgICAgIHBvc2l0aW9uIC09IHRhcmdldC5sZW5ndGg7XG4gICAgICByZXR1cm4gcG9zaXRpb24gPj0gMCAmJiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIGVuZCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICAgICAqIGNoYXJhY3RlcnMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICAgICAqXG4gICAgICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICAgICAqIFwiPlwiIGFuZCBcIi9cIiBkb24ndCBuZWVkIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nXG4gICAgICogdW5sZXNzIHRoZXkncmUgcGFydCBvZiBhIHRhZyBvciB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuIFNlZVxuICAgICAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAgICAgKiAodW5kZXIgXCJzZW1pLXJlbGF0ZWQgZnVuIGZhY3RcIikgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcbiAgICAgKiBbcXVvdGUgYXR0cmlidXRlIHZhbHVlc10oaHR0cDovL3dvbmtvLmNvbS9wb3N0L2h0bWwtZXNjYXBpbmcpIHRvIHJlZHVjZVxuICAgICAqIFhTUyB2ZWN0b3JzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNVbmVzY2FwZWRIdG1sLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFc2NhcGVzIHRoZSBgUmVnRXhwYCBzcGVjaWFsIGNoYXJhY3RlcnMgXCJeXCIsIFwiJFwiLCBcIlxcXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsXG4gICAgICogXCI/XCIsIFwiKFwiLCBcIilcIiwgXCJbXCIsIFwiXVwiLCBcIntcIiwgXCJ9XCIsIGFuZCBcInxcIiBpbiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlUmVnRXhwKCdbbG9kYXNoXShodHRwczovL2xvZGFzaC5jb20vKScpO1xuICAgICAqIC8vID0+ICdcXFtsb2Rhc2hcXF1cXChodHRwczovL2xvZGFzaFxcLmNvbS9cXCknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzUmVnRXhwQ2hhci50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBba2ViYWIgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3BlY2lhbF9jYXNlX3N0eWxlcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBrZWJhYiBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKi9cbiAgICB2YXIga2ViYWJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJy0nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGcmVkJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnZlJFRCdcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJGaXJzdCA9IGNyZWF0ZUNhc2VGaXJzdCgndG9Mb3dlckNhc2UnKTtcblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgYW5kIHJpZ2h0IHNpZGVzIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLlxuICAgICAqIFBhZGRpbmcgY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgY2FuJ3QgYmUgZXZlbmx5IGRpdmlkZWQgYnkgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgpO1xuICAgICAqIC8vID0+ICcgIGFiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1hYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc3RyTGVuZ3RoID49IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG1pZCA9IChsZW5ndGggLSBzdHJMZW5ndGgpIC8gMjtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlRmxvb3IobWlkKSwgY2hhcnMpICtcbiAgICAgICAgc3RyaW5nICtcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVDZWlsKG1pZCksIGNoYXJzKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSByaWdodCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRFbmQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChzdHJpbmcgKyBjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJyAgIGFiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdfLV9hYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZFN0YXJ0KHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSArIHN0cmluZylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gaW50ZWdlciBvZiB0aGUgc3BlY2lmaWVkIHJhZGl4LiBJZiBgcmFkaXhgIGlzXG4gICAgICogYHVuZGVmaW5lZGAgb3IgYDBgLCBhIGByYWRpeGAgb2YgYDEwYCBpcyB1c2VkIHVubGVzcyBgdmFsdWVgIGlzIGFcbiAgICAgKiBoZXhhZGVjaW1hbCwgaW4gd2hpY2ggY2FzZSBhIGByYWRpeGAgb2YgYDE2YCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGFsaWducyB3aXRoIHRoZVxuICAgICAqIFtFUzUgaW1wbGVtZW50YXRpb25dKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi4yKSBvZiBgcGFyc2VJbnRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXg9MTBdIFRoZSByYWRpeCB0byBpbnRlcnByZXQgYHZhbHVlYCBieS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhcnNlSW50KCcwOCcpO1xuICAgICAqIC8vID0+IDhcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICcwOCcsICcxMCddLCBfLnBhcnNlSW50KTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VJbnQoc3RyaW5nLCByYWRpeCwgZ3VhcmQpIHtcbiAgICAgIGlmIChndWFyZCB8fCByYWRpeCA9PSBudWxsKSB7XG4gICAgICAgIHJhZGl4ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocmFkaXgpIHtcbiAgICAgICAgcmFkaXggPSArcmFkaXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlUGFyc2VJbnQodG9TdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJyksIHJhZGl4IHx8IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGVhdHMgdGhlIGdpdmVuIHN0cmluZyBgbmAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnKicsIDMpO1xuICAgICAqIC8vID0+ICcqKionXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMik7XG4gICAgICogLy8gPT4gJ2FiY2FiYydcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAwKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGVhdChzdHJpbmcsIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmVwZWF0KHRvU3RyaW5nKHN0cmluZyksIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIG1hdGNoZXMgZm9yIGBwYXR0ZXJuYCBpbiBgc3RyaW5nYCB3aXRoIGByZXBsYWNlbWVudGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNyZXBsYWNlYF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3JlcGxhY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gcmVwbGFjZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gcmVwbGFjZW1lbnQgVGhlIG1hdGNoIHJlcGxhY2VtZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBsYWNlKCdIaSBGcmVkJywgJ0ZyZWQnLCAnQmFybmV5Jyk7XG4gICAgICogLy8gPT4gJ0hpIEJhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoYXJnc1swXSk7XG5cbiAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA8IDMgPyBzdHJpbmcgOiBzdHJpbmcucmVwbGFjZShhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzbmFrZSBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbmFrZV9jYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNuYWtlIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCctLUZPTy1CQVItLScpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqL1xuICAgIHZhciBzbmFrZUNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnXycgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNzcGxpdGBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9zcGxpdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gc3BsaXQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBzZXBhcmF0b3IgVGhlIHNlcGFyYXRvciBwYXR0ZXJuIHRvIHNwbGl0IGJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGltaXRdIFRoZSBsZW5ndGggdG8gdHJ1bmNhdGUgcmVzdWx0cyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHN0cmluZyBzZWdtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zcGxpdCgnYS1iLWMnLCAnLScsIDIpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcGxpdChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIGlmIChsaW1pdCAmJiB0eXBlb2YgbGltaXQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBsaW1pdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGxpbWl0ID0gbGltaXQgPT09IHVuZGVmaW5lZCA/IE1BWF9BUlJBWV9MRU5HVEggOiBsaW1pdCA+Pj4gMDtcbiAgICAgIGlmICghbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKFxuICAgICAgICAgICAgdHlwZW9mIHNlcGFyYXRvciA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgKHNlcGFyYXRvciAhPSBudWxsICYmICFpc1JlZ0V4cChzZXBhcmF0b3IpKVxuICAgICAgICAgICkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gYmFzZVRvU3RyaW5nKHNlcGFyYXRvcik7XG4gICAgICAgIGlmICghc2VwYXJhdG9yICYmIGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShzdHJpbmcpLCAwLCBsaW1pdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcuc3BsaXQoc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc3RhcnQgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3R5bGlzdGljX29yX3NwZWNpYWxpc2VkX3VzYWdlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0YXJ0IGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKi9cbiAgICB2YXIgc3RhcnRDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgdXBwZXJGaXJzdCh3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj0wXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09IG51bGxcbiAgICAgICAgPyAwXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIHN0cmluZy5sZW5ndGgpO1xuXG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcbiAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIHBvc2l0aW9uICsgdGFyZ2V0Lmxlbmd0aCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbiB0aGF0IGNhbiBpbnRlcnBvbGF0ZSBkYXRhIHByb3BlcnRpZXNcbiAgICAgKiBpbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVycywgSFRNTC1lc2NhcGUgaW50ZXJwb2xhdGVkIGRhdGEgcHJvcGVydGllcyBpblxuICAgICAqIFwiZXNjYXBlXCIgZGVsaW1pdGVycywgYW5kIGV4ZWN1dGUgSmF2YVNjcmlwdCBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy4gRGF0YVxuICAgICAqIHByb3BlcnRpZXMgbWF5IGJlIGFjY2Vzc2VkIGFzIGZyZWUgdmFyaWFibGVzIGluIHRoZSB0ZW1wbGF0ZS4gSWYgYSBzZXR0aW5nXG4gICAgICogb2JqZWN0IGlzIGdpdmVuLCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYF8udGVtcGxhdGVTZXR0aW5nc2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCBgXy50ZW1wbGF0ZWAgdXRpbGl6ZXNcbiAgICAgKiBbc291cmNlVVJMc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybClcbiAgICAgKiBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlXG4gICAgICogW2xvZGFzaCdzIGN1c3RvbSBidWlsZHMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9sb2Rhc2guY29tL2N1c3RvbS1idWlsZHMpLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gQ2hyb21lIGV4dGVuc2lvbiBzYW5kYm94ZXMgc2VlXG4gICAgICogW0Nocm9tZSdzIGV4dGVuc2lvbnMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9leHRlbnNpb25zL3NhbmRib3hpbmdFdmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHRlbXBsYXRlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXNjYXBlPV8udGVtcGxhdGVTZXR0aW5ncy5lc2NhcGVdXG4gICAgICogIFRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5ldmFsdWF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXZhbHVhdGVdXG4gICAgICogIFRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5pbXBvcnRzPV8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXVxuICAgICAqICBBbiBvYmplY3QgdG8gaW1wb3J0IGludG8gdGhlIHRlbXBsYXRlIGFzIGZyZWUgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5pbnRlcnBvbGF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGVdXG4gICAgICogIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zb3VyY2VVUkw9J2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbbl0nXVxuICAgICAqICBUaGUgc291cmNlVVJMIG9mIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudmFyaWFibGU9J29iaiddXG4gICAgICogIFRoZSBkYXRhIG9iamVjdCB2YXJpYWJsZSBuYW1lLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyIHRvIGNyZWF0ZSBhIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnZnJlZCcgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyIHRvIGVzY2FwZSBkYXRhIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnPHNjcmlwdD4nIH0pO1xuICAgICAqIC8vID0+ICc8Yj4mbHQ7c2NyaXB0Jmd0OzwvYj4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIgdG8gZXhlY3V0ZSBKYXZhU2NyaXB0IGFuZCBnZW5lcmF0ZSBIVE1MLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIF8uZm9yRWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgcHJpbnQoXCJoZWxsbyBcIiArIHVzZXIpOyAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2Jhcm5leScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGJhcm5leSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEVTIHRlbXBsYXRlIGxpdGVyYWwgZGVsaW1pdGVyIGFzIGFuIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogLy8gRGlzYWJsZSBzdXBwb3J0IGJ5IHJlcGxhY2luZyB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyAkeyB1c2VyIH0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdwZWJibGVzJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gcGViYmxlcyEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgYmFja3NsYXNoZXMgdG8gdHJlYXQgZGVsaW1pdGVycyBhcyBwbGFpbiB0ZXh0LlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlPSBcIlxcXFw8JS0gdmFsdWUgJVxcXFw+XCIgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICdpZ25vcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnPCUtIHZhbHVlICU+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgaW1wb3J0c2Agb3B0aW9uIHRvIGltcG9ydCBgalF1ZXJ5YCBhcyBganFgLlxuICAgICAqIHZhciB0ZXh0ID0gJzwlIGpxLmVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPic7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSh0ZXh0LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZVVSTGAgb3B0aW9uIHRvIHNwZWNpZnkgYSBjdXN0b20gc291cmNlVVJMIGZvciB0aGUgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJywgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuICAgICAqIGNvbXBpbGVkKGRhdGEpO1xuICAgICAqIC8vID0+IEZpbmQgdGhlIHNvdXJjZSBvZiBcImdyZWV0aW5nLmpzdFwiIHVuZGVyIHRoZSBTb3VyY2VzIHRhYiBvciBSZXNvdXJjZXMgcGFuZWwgb2YgdGhlIHdlYiBpbnNwZWN0b3IuXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGB2YXJpYWJsZWAgb3B0aW9uIHRvIGVuc3VyZSBhIHdpdGgtc3RhdGVtZW50IGlzbid0IHVzZWQgaW4gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hpIDwlPSBkYXRhLnVzZXIgJT4hJywgeyAndmFyaWFibGUnOiAnZGF0YScgfSk7XG4gICAgICogY29tcGlsZWQuc291cmNlO1xuICAgICAqIC8vID0+IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgKiAvLyAgIHZhciBfX3QsIF9fcCA9ICcnO1xuICAgICAqIC8vICAgX19wICs9ICdoaSAnICsgKChfX3QgPSAoIGRhdGEudXNlciApKSA9PSBudWxsID8gJycgOiBfX3QpICsgJyEnO1xuICAgICAqIC8vICAgcmV0dXJuIF9fcDtcbiAgICAgKiAvLyB9XG4gICAgICpcbiAgICAgKiAvLyBVc2UgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnMuXG4gICAgICogXy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlID0gL3t7KFtcXHNcXFNdKz8pfX0vZztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyB7eyB1c2VyIH19IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnbXVzdGFjaGUnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBtdXN0YWNoZSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAgICAgKiAvLyBsaW5lIG51bWJlcnMgaW4gZXJyb3IgbWVzc2FnZXMgYW5kIHN0YWNrIHRyYWNlcy5cbiAgICAgKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnanN0LmpzJyksICdcXFxuICAgICAqICAgdmFyIEpTVCA9IHtcXFxuICAgICAqICAgICBcIm1haW5cIjogJyArIF8udGVtcGxhdGUobWFpblRleHQpLnNvdXJjZSArICdcXFxuICAgICAqICAgfTtcXFxuICAgICAqICcpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpIHtcbiAgICAgIC8vIEJhc2VkIG9uIEpvaG4gUmVzaWcncyBgdG1wbGAgaW1wbGVtZW50YXRpb25cbiAgICAgIC8vIChodHRwOi8vZWpvaG4ub3JnL2Jsb2cvamF2YXNjcmlwdC1taWNyby10ZW1wbGF0aW5nLylcbiAgICAgIC8vIGFuZCBMYXVyYSBEb2t0b3JvdmEncyBkb1QuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1QpLlxuICAgICAgdmFyIHNldHRpbmdzID0gbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3M7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSkge1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIG9wdGlvbnMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMsIHNldHRpbmdzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKTtcblxuICAgICAgdmFyIGltcG9ydHMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMuaW1wb3J0cywgc2V0dGluZ3MuaW1wb3J0cywgY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiksXG4gICAgICAgICAgaW1wb3J0c0tleXMgPSBrZXlzKGltcG9ydHMpLFxuICAgICAgICAgIGltcG9ydHNWYWx1ZXMgPSBiYXNlVmFsdWVzKGltcG9ydHMsIGltcG9ydHNLZXlzKTtcblxuICAgICAgdmFyIGlzRXNjYXBpbmcsXG4gICAgICAgICAgaXNFdmFsdWF0aW5nLFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoLFxuICAgICAgICAgIHNvdXJjZSA9IFwiX19wICs9ICdcIjtcblxuICAgICAgLy8gQ29tcGlsZSB0aGUgcmVnZXhwIHRvIG1hdGNoIGVhY2ggZGVsaW1pdGVyLlxuICAgICAgdmFyIHJlRGVsaW1pdGVycyA9IFJlZ0V4cChcbiAgICAgICAgKG9wdGlvbnMuZXNjYXBlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgaW50ZXJwb2xhdGUuc291cmNlICsgJ3wnICtcbiAgICAgICAgKGludGVycG9sYXRlID09PSByZUludGVycG9sYXRlID8gcmVFc1RlbXBsYXRlIDogcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAob3B0aW9ucy5ldmFsdWF0ZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JCdcbiAgICAgICwgJ2cnKTtcblxuICAgICAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAgLy8gVGhlIHNvdXJjZVVSTCBnZXRzIGluamVjdGVkIGludG8gdGhlIHNvdXJjZSB0aGF0J3MgZXZhbC1lZCwgc28gYmUgY2FyZWZ1bFxuICAgICAgLy8gdG8gbm9ybWFsaXplIGFsbCBraW5kcyBvZiB3aGl0ZXNwYWNlLCBzbyBlLmcuIG5ld2xpbmVzIChhbmQgdW5pY29kZSB2ZXJzaW9ucyBvZiBpdCkgY2FuJ3Qgc25lYWsgaW5cbiAgICAgIC8vIGFuZCBlc2NhcGUgdGhlIGNvbW1lbnQsIHRodXMgaW5qZWN0aW5nIGNvZGUgdGhhdCBnZXRzIGV2YWxlZC5cbiAgICAgIHZhciBzb3VyY2VVUkwgPSAnLy8jIHNvdXJjZVVSTD0nICtcbiAgICAgICAgKGhhc093blByb3BlcnR5LmNhbGwob3B0aW9ucywgJ3NvdXJjZVVSTCcpXG4gICAgICAgICAgPyAob3B0aW9ucy5zb3VyY2VVUkwgKyAnJykucmVwbGFjZSgvXFxzL2csICcgJylcbiAgICAgICAgICA6ICgnbG9kYXNoLnRlbXBsYXRlU291cmNlc1snICsgKCsrdGVtcGxhdGVDb3VudGVyKSArICddJylcbiAgICAgICAgKSArICdcXG4nO1xuXG4gICAgICBzdHJpbmcucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAgICAgLy8gRXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBjYW4ndCBiZSBpbmNsdWRlZCBpbiBzdHJpbmcgbGl0ZXJhbHMuXG4gICAgICAgIHNvdXJjZSArPSBzdHJpbmcuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHMuXG4gICAgICAgIGlmIChlc2NhcGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIC8vIFRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgbmVlZHMgYG1hdGNoYCByZXR1cm5lZCBpblxuICAgICAgICAvLyBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlLlxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgICAgLy8gSWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAgICAgLy8gY29kZSB0byBhZGQgdGhlIGRhdGEgb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHNjb3BlIGNoYWluLlxuICAgICAgdmFyIHZhcmlhYmxlID0gaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAndmFyaWFibGUnKSAmJiBvcHRpb25zLnZhcmlhYmxlO1xuICAgICAgaWYgKCF2YXJpYWJsZSkge1xuICAgICAgICBzb3VyY2UgPSAnd2l0aCAob2JqKSB7XFxuJyArIHNvdXJjZSArICdcXG59XFxuJztcbiAgICAgIH1cbiAgICAgIC8vIFRocm93IGFuIGVycm9yIGlmIGEgZm9yYmlkZGVuIGNoYXJhY3RlciB3YXMgZm91bmQgaW4gYHZhcmlhYmxlYCwgdG8gcHJldmVudFxuICAgICAgLy8gcG90ZW50aWFsIGNvbW1hbmQgaW5qZWN0aW9uIGF0dGFja3MuXG4gICAgICBlbHNlIGlmIChyZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycy50ZXN0KHZhcmlhYmxlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5WQUxJRF9URU1QTF9WQVJfRVJST1JfVEVYVCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENsZWFudXAgY29kZSBieSBzdHJpcHBpbmcgZW1wdHkgc3RyaW5ncy5cbiAgICAgIHNvdXJjZSA9IChpc0V2YWx1YXRpbmcgPyBzb3VyY2UucmVwbGFjZShyZUVtcHR5U3RyaW5nTGVhZGluZywgJycpIDogc291cmNlKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nTWlkZGxlLCAnJDEnKVxuICAgICAgICAucmVwbGFjZShyZUVtcHR5U3RyaW5nVHJhaWxpbmcsICckMTsnKTtcblxuICAgICAgLy8gRnJhbWUgY29kZSBhcyB0aGUgZnVuY3Rpb24gYm9keS5cbiAgICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgKHZhcmlhYmxlIHx8ICdvYmonKSArICcpIHtcXG4nICtcbiAgICAgICAgKHZhcmlhYmxlXG4gICAgICAgICAgPyAnJ1xuICAgICAgICAgIDogJ29iaiB8fCAob2JqID0ge30pO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIFwidmFyIF9fdCwgX19wID0gJydcIiArXG4gICAgICAgIChpc0VzY2FwaW5nXG4gICAgICAgICAgID8gJywgX19lID0gXy5lc2NhcGUnXG4gICAgICAgICAgIDogJydcbiAgICAgICAgKSArXG4gICAgICAgIChpc0V2YWx1YXRpbmdcbiAgICAgICAgICA/ICcsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbicgK1xuICAgICAgICAgICAgXCJmdW5jdGlvbiBwcmludCgpIHsgX19wICs9IF9fai5jYWxsKGFyZ3VtZW50cywgJycpIH1cXG5cIlxuICAgICAgICAgIDogJztcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBzb3VyY2UgK1xuICAgICAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYXR0ZW1wdChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKGltcG9ydHNLZXlzLCBzb3VyY2VVUkwgKyAncmV0dXJuICcgKyBzb3VyY2UpXG4gICAgICAgICAgLmFwcGx5KHVuZGVmaW5lZCwgaW1wb3J0c1ZhbHVlcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24ncyBzb3VyY2UgYnkgaXRzIGB0b1N0cmluZ2AgbWV0aG9kIG9yXG4gICAgICAvLyB0aGUgYHNvdXJjZWAgcHJvcGVydHkgYXMgYSBjb252ZW5pZW5jZSBmb3IgaW5saW5pbmcgY29tcGlsZWQgdGVtcGxhdGVzLlxuICAgICAgcmVzdWx0LnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIGlmIChpc0Vycm9yKHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gbG93ZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvTG93ZXJDYXNlXShodHRwczovL21kbi5pby90b0xvd2VyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBsb3dlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1mb28tYmFyLS0nXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29iYXInXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ19fZm9vX2Jhcl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTG93ZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgYSB3aG9sZSwgdG8gdXBwZXIgY2FzZSBqdXN0IGxpa2VcbiAgICAgKiBbU3RyaW5nI3RvVXBwZXJDYXNlXShodHRwczovL21kbi5pby90b1VwcGVyQ2FzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnLS1GT08tQkFSLS0nXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdGT09CQVInXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJ19fZm9vX2Jhcl9fJyk7XG4gICAgICogLy8gPT4gJ19fRk9PX0JBUl9fJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvVXBwZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0b1N0cmluZyh2YWx1ZSkudG9VcHBlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2Ugb3Igc3BlY2lmaWVkIGNoYXJhY3RlcnMgZnJvbSBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byB0cmltLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9d2hpdGVzcGFjZV0gVGhlIGNoYXJhY3RlcnMgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqXG4gICAgICogXy5tYXAoWycgIGZvbyAgJywgJyAgYmFyICAnXSwgXy50cmltKTtcbiAgICAgKiAvLyA9PiBbJ2ZvbycsICdiYXInXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW0oc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gYmFzZVRyaW0oc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgY2hyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoY2hhcnMpLFxuICAgICAgICAgIHN0YXJ0ID0gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scykgKyAxO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0LCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbUVuZCgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICcgIGFiYydcbiAgICAgKlxuICAgICAqIF8udHJpbUVuZCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJy1fLWFiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltRW5kKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBlbmQgPSBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIHN0cmluZ1RvQXJyYXkoY2hhcnMpKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGxlYWRpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbVN0YXJ0KCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYyAgJ1xuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMtXy0nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbVN0YXJ0KHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIHN0YXJ0ID0gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIHN0cmluZ1RvQXJyYXkoY2hhcnMpKTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCBzdGFydCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJ1bmNhdGVzIGBzdHJpbmdgIGlmIGl0J3MgbG9uZ2VyIHRoYW4gdGhlIGdpdmVuIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBUaGUgbGFzdCBjaGFyYWN0ZXJzIG9mIHRoZSB0cnVuY2F0ZWQgc3RyaW5nIGFyZSByZXBsYWNlZCB3aXRoIHRoZSBvbWlzc2lvblxuICAgICAqIHN0cmluZyB3aGljaCBkZWZhdWx0cyB0byBcIi4uLlwiLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRydW5jYXRlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5sZW5ndGg9MzBdIFRoZSBtYXhpbXVtIHN0cmluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm9taXNzaW9uPScuLi4nXSBUaGUgc3RyaW5nIHRvIGluZGljYXRlIHRleHQgaXMgb21pdHRlZC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtvcHRpb25zLnNlcGFyYXRvcl0gVGhlIHNlcGFyYXRvciBwYXR0ZXJuIHRvIHRydW5jYXRlIHRvLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRydW5jYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nKTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAnICdcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLC4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnbGVuZ3RoJzogMjQsXG4gICAgICogICAnc2VwYXJhdG9yJzogLyw/ICsvXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZS4uLidcbiAgICAgKlxuICAgICAqIF8udHJ1bmNhdGUoJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZ2hib3Jpbm8nLCB7XG4gICAgICogICAnb21pc3Npb24nOiAnIFsuLi5dJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWcgWy4uLl0nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJ1bmNhdGUoc3RyaW5nLCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gREVGQVVMVF9UUlVOQ19MRU5HVEgsXG4gICAgICAgICAgb21pc3Npb24gPSBERUZBVUxUX1RSVU5DX09NSVNTSU9OO1xuXG4gICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgdmFyIHNlcGFyYXRvciA9ICdzZXBhcmF0b3InIGluIG9wdGlvbnMgPyBvcHRpb25zLnNlcGFyYXRvciA6IHNlcGFyYXRvcjtcbiAgICAgICAgbGVuZ3RoID0gJ2xlbmd0aCcgaW4gb3B0aW9ucyA/IHRvSW50ZWdlcihvcHRpb25zLmxlbmd0aCkgOiBsZW5ndGg7XG4gICAgICAgIG9taXNzaW9uID0gJ29taXNzaW9uJyBpbiBvcHRpb25zID8gYmFzZVRvU3RyaW5nKG9wdGlvbnMub21pc3Npb24pIDogb21pc3Npb247XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gc3RyaW5nLmxlbmd0aDtcbiAgICAgIGlmIChoYXNVbmljb2RlKHN0cmluZykpIHtcbiAgICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyk7XG4gICAgICAgIHN0ckxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGxlbmd0aCA+PSBzdHJMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBlbmQgPSBsZW5ndGggLSBzdHJpbmdTaXplKG9taXNzaW9uKTtcbiAgICAgIGlmIChlbmQgPCAxKSB7XG4gICAgICAgIHJldHVybiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBzdHJTeW1ib2xzXG4gICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDAsIGVuZCkuam9pbignJylcbiAgICAgICAgOiBzdHJpbmcuc2xpY2UoMCwgZW5kKTtcblxuICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIGlmIChzdHJTeW1ib2xzKSB7XG4gICAgICAgIGVuZCArPSAocmVzdWx0Lmxlbmd0aCAtIGVuZCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNSZWdFeHAoc2VwYXJhdG9yKSkge1xuICAgICAgICBpZiAoc3RyaW5nLnNsaWNlKGVuZCkuc2VhcmNoKHNlcGFyYXRvcikpIHtcbiAgICAgICAgICB2YXIgbWF0Y2gsXG4gICAgICAgICAgICAgIHN1YnN0cmluZyA9IHJlc3VsdDtcblxuICAgICAgICAgIGlmICghc2VwYXJhdG9yLmdsb2JhbCkge1xuICAgICAgICAgICAgc2VwYXJhdG9yID0gUmVnRXhwKHNlcGFyYXRvci5zb3VyY2UsIHRvU3RyaW5nKHJlRmxhZ3MuZXhlYyhzZXBhcmF0b3IpKSArICdnJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlcGFyYXRvci5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSBzZXBhcmF0b3IuZXhlYyhzdWJzdHJpbmcpKSkge1xuICAgICAgICAgICAgdmFyIG5ld0VuZCA9IG1hdGNoLmluZGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMCwgbmV3RW5kID09PSB1bmRlZmluZWQgPyBlbmQgOiBuZXdFbmQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0cmluZy5pbmRleE9mKGJhc2VUb1N0cmluZyhzZXBhcmF0b3IpLCBlbmQpICE9IGVuZCkge1xuICAgICAgICB2YXIgaW5kZXggPSByZXN1bHQubGFzdEluZGV4T2Yoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0ICsgb21pc3Npb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGludmVyc2Ugb2YgYF8uZXNjYXBlYDsgdGhpcyBtZXRob2QgY29udmVydHMgdGhlIEhUTUwgZW50aXRpZXNcbiAgICAgKiBgJmFtcDtgLCBgJmx0O2AsIGAmZ3Q7YCwgYCZxdW90O2AsIGFuZCBgJiMzOTtgIGluIGBzdHJpbmdgIHRvXG4gICAgICogdGhlaXIgY29ycmVzcG9uZGluZyBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIEhUTUwgZW50aXRpZXMgYXJlIHVuZXNjYXBlZC4gVG8gdW5lc2NhcGUgYWRkaXRpb25hbFxuICAgICAqIEhUTUwgZW50aXRpZXMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNi4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHVuZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcycpO1xuICAgICAqIC8vID0+ICdmcmVkLCBiYXJuZXksICYgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc0VzY2FwZWRIdG1sLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZUVzY2FwZWRIdG1sLCB1bmVzY2FwZUh0bWxDaGFyKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byB1cHBlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyQ2FzZSgnLS1mb28tYmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICpcbiAgICAgKiBfLnVwcGVyQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPTyBCQVInXG4gICAgICpcbiAgICAgKiBfLnVwcGVyQ2FzZSgnX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKi9cbiAgICB2YXIgdXBwZXJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgd29yZC50b1VwcGVyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51cHBlckZpcnN0KCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ0ZyZWQnXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRlJFRCdcbiAgICAgKi9cbiAgICB2YXIgdXBwZXJGaXJzdCA9IGNyZWF0ZUNhc2VGaXJzdCgndG9VcHBlckNhc2UnKTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW3BhdHRlcm5dIFRoZSBwYXR0ZXJuIHRvIG1hdGNoIHdvcmRzLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnLCAvW14sIF0rL2cpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAnJicsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3b3JkcyhzdHJpbmcsIHBhdHRlcm4sIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcGF0dGVybiA9IGd1YXJkID8gdW5kZWZpbmVkIDogcGF0dGVybjtcblxuICAgICAgaWYgKHBhdHRlcm4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSA/IHVuaWNvZGVXb3JkcyhzdHJpbmcpIDogYXNjaWlXb3JkcyhzdHJpbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5tYXRjaChwYXR0ZXJuKSB8fCBbXTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBpbnZva2UgYGZ1bmNgLCByZXR1cm5pbmcgZWl0aGVyIHRoZSByZXN1bHQgb3IgdGhlIGNhdWdodCBlcnJvclxuICAgICAqIG9iamVjdC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGF0dGVtcHQuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGBmdW5jYCByZXN1bHQgb3IgZXJyb3Igb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBBdm9pZCB0aHJvd2luZyBlcnJvcnMgZm9yIGludmFsaWQgc2VsZWN0b3JzLlxuICAgICAqIHZhciBlbGVtZW50cyA9IF8uYXR0ZW1wdChmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAqICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgICAqIH0sICc+Xz4nKTtcbiAgICAgKlxuICAgICAqIGlmIChfLmlzRXJyb3IoZWxlbWVudHMpKSB7XG4gICAgICogICBlbGVtZW50cyA9IFtdO1xuICAgICAqIH1cbiAgICAgKi9cbiAgICB2YXIgYXR0ZW1wdCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIGFyZ3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gaXNFcnJvcihlKSA/IGUgOiBuZXcgRXJyb3IoZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBtZXRob2RzIG9mIGFuIG9iamVjdCB0byB0aGUgb2JqZWN0IGl0c2VsZiwgb3ZlcndyaXRpbmcgdGhlIGV4aXN0aW5nXG4gICAgICogbWV0aG9kLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGJpbmQgYW5kIGFzc2lnbiB0aGUgYm91bmQgbWV0aG9kcyB0by5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBtZXRob2ROYW1lcyBUaGUgb2JqZWN0IG1ldGhvZCBuYW1lcyB0byBiaW5kLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB2aWV3ID0ge1xuICAgICAqICAgJ2xhYmVsJzogJ2RvY3MnLFxuICAgICAqICAgJ2NsaWNrJzogZnVuY3Rpb24oKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdjbGlja2VkICcgKyB0aGlzLmxhYmVsKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5iaW5kQWxsKHZpZXcsIFsnY2xpY2snXSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHZpZXcuY2xpY2spO1xuICAgICAqIC8vID0+IExvZ3MgJ2NsaWNrZWQgZG9jcycgd2hlbiBjbGlja2VkLlxuICAgICAqL1xuICAgIHZhciBiaW5kQWxsID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBtZXRob2ROYW1lcykge1xuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAga2V5ID0gdG9LZXkoa2V5KTtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBiaW5kKG9iamVjdFtrZXldLCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGl0ZXJhdGVzIG92ZXIgYHBhaXJzYCBhbmQgaW52b2tlcyB0aGUgY29ycmVzcG9uZGluZ1xuICAgICAqIGZ1bmN0aW9uIG9mIHRoZSBmaXJzdCBwcmVkaWNhdGUgdG8gcmV0dXJuIHRydXRoeS4gVGhlIHByZWRpY2F0ZS1mdW5jdGlvblxuICAgICAqIHBhaXJzIGFyZSBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWRcbiAgICAgKiBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIHByZWRpY2F0ZS1mdW5jdGlvbiBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5jb25kKFtcbiAgICAgKiAgIFtfLm1hdGNoZXMoeyAnYSc6IDEgfSksICAgICAgICAgICBfLmNvbnN0YW50KCdtYXRjaGVzIEEnKV0sXG4gICAgICogICBbXy5jb25mb3Jtcyh7ICdiJzogXy5pc051bWJlciB9KSwgXy5jb25zdGFudCgnbWF0Y2hlcyBCJyldLFxuICAgICAqICAgW18uc3R1YlRydWUsICAgICAgICAgICAgICAgICAgICAgIF8uY29uc3RhbnQoJ25vIG1hdGNoJyldXG4gICAgICogXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gJ21hdGNoZXMgQSdcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDAsICdiJzogMSB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBCJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogJzEnLCAnYic6ICcyJyB9KTtcbiAgICAgKiAvLyA9PiAnbm8gbWF0Y2gnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZChwYWlycykge1xuICAgICAgdmFyIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgICAgIHRvSXRlcmF0ZWUgPSBnZXRJdGVyYXRlZSgpO1xuXG4gICAgICBwYWlycyA9ICFsZW5ndGggPyBbXSA6IGFycmF5TWFwKHBhaXJzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcGFpclsxXSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbdG9JdGVyYXRlZShwYWlyWzBdKSwgcGFpclsxXV07XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgICAgaWYgKGFwcGx5KHBhaXJbMF0sIHRoaXMsIGFyZ3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwbHkocGFpclsxXSwgdGhpcywgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBwcmVkaWNhdGUgcHJvcGVydGllcyBvZiBgc291cmNlYCB3aXRoXG4gICAgICogdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGEgZ2l2ZW4gb2JqZWN0LCByZXR1cm5pbmcgYHRydWVgIGlmXG4gICAgICogYWxsIHByZWRpY2F0ZXMgcmV0dXJuIHRydXRoeSwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNUb2Agd2l0aFxuICAgICAqIGBzb3VyY2VgIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDIsICdiJzogMSB9LFxuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8uY29uZm9ybXMoeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAxOyB9IH0pKTtcbiAgICAgKiAvLyA9PiBbeyAnYSc6IDEsICdiJzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VDb25mb3JtcyhiYXNlQ2xvbmUoc291cmNlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29uc3RhbnQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gXy50aW1lcygyLCBfLmNvbnN0YW50KHsgJ2EnOiAxIH0pKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9LCB7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGB2YWx1ZWAgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBkZWZhdWx0IHZhbHVlIHNob3VsZCBiZSByZXR1cm5lZCBpblxuICAgICAqIGl0cyBwbGFjZS4gVGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGBudWxsYCxcbiAgICAgKiBvciBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7Kn0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8oMSwgMTApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdFRvKHVuZGVmaW5lZCwgMTApO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVmYXVsdFRvKHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUpID8gZGVmYXVsdFZhbHVlIDogdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGludm9raW5nIHRoZSBnaXZlbiBmdW5jdGlvbnNcbiAgICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbiwgd2hlcmUgZWFjaCBzdWNjZXNzaXZlXG4gICAgICogaW52b2NhdGlvbiBpcyBzdXBwbGllZCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmV2aW91cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtmdW5jc10gVGhlIGZ1bmN0aW9ucyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICAgICAqIEBzZWUgXy5mbG93UmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYWRkU3F1YXJlID0gXy5mbG93KFtfLmFkZCwgc3F1YXJlXSk7XG4gICAgICogYWRkU3F1YXJlKDEsIDIpO1xuICAgICAqIC8vID0+IDlcbiAgICAgKi9cbiAgICB2YXIgZmxvdyA9IGNyZWF0ZUZsb3coKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmxvd2AgZXhjZXB0IHRoYXQgaXQgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXRcbiAgICAgKiBpbnZva2VzIHRoZSBnaXZlbiBmdW5jdGlvbnMgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgYWRkU3F1YXJlID0gXy5mbG93UmlnaHQoW3NxdWFyZSwgXy5hZGRdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93UmlnaHQgPSBjcmVhdGVGbG93KHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLiBJZiBgZnVuY2AgaXMgYSBwcm9wZXJ0eSBuYW1lLCB0aGUgY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIHRoZVxuICAgICAqIHByb3BlcnR5IHZhbHVlIGZvciBhIGdpdmVuIGVsZW1lbnQuIElmIGBmdW5jYCBpcyBhbiBhcnJheSBvciBvYmplY3QsIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJucyBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgY29udGFpbiB0aGUgZXF1aXZhbGVudFxuICAgICAqIHNvdXJjZSBwcm9wZXJ0aWVzLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0geyp9IFtmdW5jPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjYWxsYmFjay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZSh7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pKTtcbiAgICAgKiAvLyA9PiBbeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH1dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIF8uaXRlcmF0ZWUoWyd1c2VyJywgJ2ZyZWQnXSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2ZyZWQnLCAnYWdlJzogNDAgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwKHVzZXJzLCBfLml0ZXJhdGVlKCd1c2VyJykpO1xuICAgICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gQ3JlYXRlIGN1c3RvbSBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqIF8uaXRlcmF0ZWUgPSBfLndyYXAoXy5pdGVyYXRlZSwgZnVuY3Rpb24oaXRlcmF0ZWUsIGZ1bmMpIHtcbiAgICAgKiAgIHJldHVybiAhXy5pc1JlZ0V4cChmdW5jKSA/IGl0ZXJhdGVlKGZ1bmMpIDogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICogICAgIHJldHVybiBmdW5jLnRlc3Qoc3RyaW5nKTtcbiAgICAgKiAgIH07XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihbJ2FiYycsICdkZWYnXSwgL2VmLyk7XG4gICAgICogLy8gPT4gWydkZWYnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGl0ZXJhdGVlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiYXNlSXRlcmF0ZWUodHlwZW9mIGZ1bmMgPT0gJ2Z1bmN0aW9uJyA/IGZ1bmMgOiBiYXNlQ2xvbmUoZnVuYywgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGEgZ2l2ZW5cbiAgICAgKiBvYmplY3QgYW5kIGBzb3VyY2VgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZSBnaXZlbiBvYmplY3QgaGFzIGVxdWl2YWxlbnRcbiAgICAgKiBwcm9wZXJ0eSB2YWx1ZXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGUgY3JlYXRlZCBmdW5jdGlvbiBpcyBlcXVpdmFsZW50IHRvIGBfLmlzTWF0Y2hgIHdpdGggYHNvdXJjZWBcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBNdWx0aXBsZSB2YWx1ZXMgY2FuIGJlIGNoZWNrZWQgYnkgY29tYmluaW5nIHNldmVyYWwgbWF0Y2hlcnNcbiAgICAgKiB1c2luZyBgXy5vdmVyU29tZWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5tYXRjaGVzKHsgJ2EnOiA0LCAnYyc6IDYgfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgXy5tYXRjaGVzKHsgJ2EnOiA0IH0pXSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlcyhiYXNlQ2xvbmUoc291cmNlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdGhlXG4gICAgICogdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0IHRvIGBzcmNWYWx1ZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlXG4gICAgICogb2JqZWN0IHZhbHVlIGlzIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBQYXJ0aWFsIGNvbXBhcmlzb25zIHdpbGwgbWF0Y2ggZW1wdHkgYXJyYXkgYW5kIGVtcHR5IG9iamVjdFxuICAgICAqIGBzcmNWYWx1ZWAgdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWVcbiAgICAgKiBgXy5pc0VxdWFsYCBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBNdWx0aXBsZSB2YWx1ZXMgY2FuIGJlIGNoZWNrZWQgYnkgY29tYmluaW5nIHNldmVyYWwgbWF0Y2hlcnNcbiAgICAgKiB1c2luZyBgXy5vdmVyU29tZWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LFxuICAgICAqICAgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kKG9iamVjdHMsIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCkpO1xuICAgICAqIC8vID0+IHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICpcbiAgICAgKiAvLyBDaGVja2luZyBmb3Igc2V2ZXJhbCBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm92ZXJTb21lKFtfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDEpLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpXSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgeyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBiYXNlQ2xvbmUoc3JjVmFsdWUsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIG1ldGhvZCBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgyKSB9IH0sXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMSkgfSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKCdhLmInKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZChbJ2EnLCAnYiddKSk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWV0aG9kYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIHRoZSBtZXRob2QgYXQgYSBnaXZlbiBwYXRoIG9mIGBvYmplY3RgLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlXG4gICAgICogcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IF8udGltZXMoMywgXy5jb25zdGFudCksXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKlxuICAgICAqIF8ubWFwKFtbJ2EnLCAnMiddLCBbJ2MnLCAnMCddXSwgXy5tZXRob2RPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kT2YgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbGwgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIGZ1bmN0aW9uIHByb3BlcnRpZXMgb2YgYSBzb3VyY2VcbiAgICAgKiBvYmplY3QgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC4gSWYgYG9iamVjdGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBtZXRob2RzXG4gICAgICogYXJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVc2UgYF8ucnVuSW5Db250ZXh0YCB0byBjcmVhdGUgYSBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB0b1xuICAgICAqIGF2b2lkIGNvbmZsaWN0cyBjYXVzZWQgYnkgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IFtvYmplY3Q9bG9kYXNoXSBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hhaW49dHJ1ZV0gU3BlY2lmeSB3aGV0aGVyIG1peGlucyBhcmUgY2hhaW5hYmxlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHZvd2VscyhzdHJpbmcpIHtcbiAgICAgKiAgIHJldHVybiBfLmZpbHRlcihzdHJpbmcsIGZ1bmN0aW9uKHYpIHtcbiAgICAgKiAgICAgcmV0dXJuIC9bYWVpb3VdL2kudGVzdCh2KTtcbiAgICAgKiAgIH0pO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0pO1xuICAgICAqIF8udm93ZWxzKCdmcmVkJyk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKS52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9LCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuICAgICAqIF8oJ2ZyZWQnKS52b3dlbHMoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1peGluKG9iamVjdCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSksXG4gICAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwgcHJvcHMpO1xuXG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsICYmXG4gICAgICAgICAgIShpc09iamVjdChzb3VyY2UpICYmIChtZXRob2ROYW1lcy5sZW5ndGggfHwgIXByb3BzLmxlbmd0aCkpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBzb3VyY2U7XG4gICAgICAgIHNvdXJjZSA9IG9iamVjdDtcbiAgICAgICAgb2JqZWN0ID0gdGhpcztcbiAgICAgICAgbWV0aG9kTmFtZXMgPSBiYXNlRnVuY3Rpb25zKHNvdXJjZSwga2V5cyhzb3VyY2UpKTtcbiAgICAgIH1cbiAgICAgIHZhciBjaGFpbiA9ICEoaXNPYmplY3Qob3B0aW9ucykgJiYgJ2NoYWluJyBpbiBvcHRpb25zKSB8fCAhIW9wdGlvbnMuY2hhaW4sXG4gICAgICAgICAgaXNGdW5jID0gaXNGdW5jdGlvbihvYmplY3QpO1xuXG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBzb3VyY2VbbWV0aG9kTmFtZV07XG4gICAgICAgIG9iamVjdFttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIGlmIChpc0Z1bmMpIHtcbiAgICAgICAgICBvYmplY3QucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXztcbiAgICAgICAgICAgIGlmIChjaGFpbiB8fCBjaGFpbkFsbCkge1xuICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb2JqZWN0KHRoaXMuX193cmFwcGVkX18pLFxuICAgICAgICAgICAgICAgICAgYWN0aW9ucyA9IHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcblxuICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goeyAnZnVuYyc6IGZ1bmMsICdhcmdzJzogYXJndW1lbnRzLCAndGhpc0FyZyc6IG9iamVjdCB9KTtcbiAgICAgICAgICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IGNoYWluQWxsO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkob2JqZWN0LCBhcnJheVB1c2goW3RoaXMudmFsdWUoKV0sIGFyZ3VtZW50cykpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVydHMgdGhlIGBfYCB2YXJpYWJsZSB0byBpdHMgcHJldmlvdXMgdmFsdWUgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG9cbiAgICAgKiB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBsb2Rhc2ggPSBfLm5vQ29uZmxpY3QoKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub0NvbmZsaWN0KCkge1xuICAgICAgaWYgKHJvb3QuXyA9PT0gdGhpcykge1xuICAgICAgICByb290Ll8gPSBvbGREYXNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5ub29wKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkLCB1bmRlZmluZWRdXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgYXJndW1lbnQgYXQgaW5kZXggYG5gLiBJZiBgbmAgaXMgbmVnYXRpdmUsXG4gICAgICogdGhlIG50aCBhcmd1bWVudCBmcm9tIHRoZSBlbmQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0wXSBUaGUgaW5kZXggb2YgdGhlIGFyZ3VtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXNzLXRocnUgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoMSk7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygtMik7XG4gICAgICogZnVuYygnYScsICdiJywgJ2MnLCAnZCcpO1xuICAgICAqIC8vID0+ICdjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG50aEFyZyhuKSB7XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VOdGgoYXJncywgbik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBpdGVyYXRlZXNgIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlc1xuICAgICAqIGFuZCByZXR1cm5zIHRoZWlyIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAgICAgKiAgVGhlIGl0ZXJhdGVlcyB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5vdmVyKFtNYXRoLm1heCwgTWF0aC5taW5dKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoMSwgMiwgMywgNCk7XG4gICAgICogLy8gPT4gWzQsIDFdXG4gICAgICovXG4gICAgdmFyIG92ZXIgPSBjcmVhdGVPdmVyKGFycmF5TWFwKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFsbCoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBGb2xsb3dpbmcgc2hvcnRoYW5kcyBhcmUgcG9zc2libGUgZm9yIHByb3ZpZGluZyBwcmVkaWNhdGVzLlxuICAgICAqIFBhc3MgYW4gYE9iamVjdGAgYW5kIGl0IHdpbGwgYmUgdXNlZCBhcyBhbiBwYXJhbWV0ZXIgZm9yIGBfLm1hdGNoZXNgIHRvIGNyZWF0ZSB0aGUgcHJlZGljYXRlLlxuICAgICAqIFBhc3MgYW4gYEFycmF5YCBvZiBwYXJhbWV0ZXJzIGZvciBgXy5tYXRjaGVzUHJvcGVydHlgIGFuZCB0aGUgcHJlZGljYXRlIHdpbGwgYmUgY3JlYXRlZCB1c2luZyB0aGVtLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJFdmVyeShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlckV2ZXJ5ID0gY3JlYXRlT3ZlcihhcnJheUV2ZXJ5KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFueSoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBGb2xsb3dpbmcgc2hvcnRoYW5kcyBhcmUgcG9zc2libGUgZm9yIHByb3ZpZGluZyBwcmVkaWNhdGVzLlxuICAgICAqIFBhc3MgYW4gYE9iamVjdGAgYW5kIGl0IHdpbGwgYmUgdXNlZCBhcyBhbiBwYXJhbWV0ZXIgZm9yIGBfLm1hdGNoZXNgIHRvIGNyZWF0ZSB0aGUgcHJlZGljYXRlLlxuICAgICAqIFBhc3MgYW4gYEFycmF5YCBvZiBwYXJhbWV0ZXJzIGZvciBgXy5tYXRjaGVzUHJvcGVydHlgIGFuZCB0aGUgcHJlZGljYXRlIHdpbGwgYmUgY3JlYXRlZCB1c2luZyB0aGVtLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJTb21lKFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgbWF0Y2hlc0Z1bmMgPSBfLm92ZXJTb21lKFt7ICdhJzogMSB9LCB7ICdhJzogMiB9XSlcbiAgICAgKiB2YXIgbWF0Y2hlc1Byb3BlcnR5RnVuYyA9IF8ub3ZlclNvbWUoW1snYScsIDFdLCBbJ2EnLCAyXV0pXG4gICAgICovXG4gICAgdmFyIG92ZXJTb21lID0gY3JlYXRlT3ZlcihhcnJheVNvbWUpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFtcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMiB9IH0sXG4gICAgICogICB7ICdhJzogeyAnYic6IDEgfSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ucHJvcGVydHkoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKF8uc29ydEJ5KG9iamVjdHMsIF8ucHJvcGVydHkoWydhJywgJ2InXSkpLCAnYS5iJyk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHkocGF0aCkge1xuICAgICAgcmV0dXJuIGlzS2V5KHBhdGgpID8gYmFzZVByb3BlcnR5KHRvS2V5KHBhdGgpKSA6IGJhc2VQcm9wZXJ0eURlZXAocGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnByb3BlcnR5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJuc1xuICAgICAqIHRoZSB2YWx1ZSBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzAsIDEsIDJdLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ucHJvcGVydHlPZihvYmplY3QpKTtcbiAgICAgKiAvLyA9PiBbMiwgMF1cbiAgICAgKlxuICAgICAqIF8ubWFwKFtbJ2EnLCAnMiddLCBbJ2MnLCAnMCddXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3BlcnR5T2Yob2JqZWN0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgbnVtYmVycyAocG9zaXRpdmUgYW5kL29yIG5lZ2F0aXZlKSBwcm9ncmVzc2luZyBmcm9tXG4gICAgICogYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBBIHN0ZXAgb2YgYC0xYCBpcyB1c2VkIGlmIGEgbmVnYXRpdmVcbiAgICAgKiBgc3RhcnRgIGlzIHNwZWNpZmllZCB3aXRob3V0IGFuIGBlbmRgIG9yIGBzdGVwYC4gSWYgYGVuZGAgaXMgbm90IHNwZWNpZmllZCxcbiAgICAgKiBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoNCk7XG4gICAgICogLy8gPT4gWzAsIDEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKC00KTtcbiAgICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDRdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMCwgNSwgMTAsIDE1XVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwLCAtNCwgLTEpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA0LCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMSwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2UgPSBjcmVhdGVSYW5nZSgpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yYW5nZWAgZXhjZXB0IHRoYXQgaXQgcG9wdWxhdGVzIHZhbHVlcyBpblxuICAgICAqIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICogQHNlZSBfLmluUmFuZ2UsIF8ucmFuZ2VcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDQpO1xuICAgICAqIC8vID0+IFszLCAyLCAxLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KC00KTtcbiAgICAgKiAvLyA9PiBbLTMsIC0yLCAtMSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgxLCA1KTtcbiAgICAgKiAvLyA9PiBbNCwgMywgMiwgMV1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwLCAyMCwgNSk7XG4gICAgICogLy8gPT4gWzE1LCAxMCwgNSwgMF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2VSaWdodCgwLCAtNCwgLTEpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgdmFyIHJhbmdlUmlnaHQgPSBjcmVhdGVSYW5nZSh0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXlzKTtcbiAgICAgKiAvLyA9PiBbW10sIFtdXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXlzWzBdID09PSBhcnJheXNbMV0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YkFycmF5KCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpO1xuICAgICAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YkZhbHNlKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uc3R1Yk9iamVjdCk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzKTtcbiAgICAgKiAvLyA9PiBbe30sIHt9XVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViT2JqZWN0KCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZW1wdHkgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YlN0cmluZyk7XG4gICAgICogLy8gPT4gWycnLCAnJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViU3RyaW5nKCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8uc3R1YlRydWUpO1xuICAgICAqIC8vID0+IFt0cnVlLCB0cnVlXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJUcnVlKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgaXRlcmF0ZWUgYG5gIHRpbWVzLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2ZcbiAgICAgKiBlYWNoIGludm9jYXRpb24uIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAoaW5kZXgpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygzLCBTdHJpbmcpO1xuICAgICAqIC8vID0+IFsnMCcsICcxJywgJzInXVxuICAgICAqXG4gICAgICogIF8udGltZXMoNCwgXy5jb25zdGFudCgwKSk7XG4gICAgICogLy8gPT4gWzAsIDAsIDAsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICBpZiAobiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gTUFYX0FSUkFZX0xFTkdUSCxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUpO1xuICAgICAgbiAtPSBNQVhfQVJSQVlfTEVOR1RIO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZVRpbWVzKGxlbmd0aCwgaXRlcmF0ZWUpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICAgIGl0ZXJhdGVlKGluZGV4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1BhdGgoJ2EuYi5jJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYVswXS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnMCcsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGF0aCh2YWx1ZSkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgdG9LZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzU3ltYm9sKHZhbHVlKSA/IFt2YWx1ZV0gOiBjb3B5QXJyYXkoc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIHVuaXF1ZSBJRC4gSWYgYHByZWZpeGAgaXMgZ2l2ZW4sIHRoZSBJRCBpcyBhcHBlbmRlZCB0byBpdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcmVmaXg9JyddIFRoZSB2YWx1ZSB0byBwcmVmaXggdGhlIElEIHdpdGguXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5pcXVlIElELlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXF1ZUlkKCdjb250YWN0XycpO1xuICAgICAqIC8vID0+ICdjb250YWN0XzEwNCdcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoKTtcbiAgICAgKiAvLyA9PiAnMTA1J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXF1ZUlkKHByZWZpeCkge1xuICAgICAgdmFyIGlkID0gKytpZENvdW50ZXI7XG4gICAgICByZXR1cm4gdG9TdHJpbmcocHJlZml4KSArIGlkO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFkZHMgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhdWdlbmQgVGhlIGZpcnN0IG51bWJlciBpbiBhbiBhZGRpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYWRkZW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRvdGFsLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmFkZCg2LCA0KTtcbiAgICAgKiAvLyA9PiAxMFxuICAgICAqL1xuICAgIHZhciBhZGQgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKGF1Z2VuZCwgYWRkZW5kKSB7XG4gICAgICByZXR1cm4gYXVnZW5kICsgYWRkZW5kO1xuICAgIH0sIDApO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYG51bWJlcmAgcm91bmRlZCB1cCB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZCB1cC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgdXAgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNC4wMDYpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg2LjAwNCwgMik7XG4gICAgICogLy8gPT4gNi4wMVxuICAgICAqXG4gICAgICogXy5jZWlsKDYwNDAsIC0yKTtcbiAgICAgKiAvLyA9PiA2MTAwXG4gICAgICovXG4gICAgdmFyIGNlaWwgPSBjcmVhdGVSb3VuZCgnY2VpbCcpO1xuXG4gICAgLyoqXG4gICAgICogRGl2aWRlIHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGl2aWRlbmQgVGhlIGZpcnN0IG51bWJlciBpbiBhIGRpdmlzaW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpc29yIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcXVvdGllbnQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGl2aWRlKDYsIDQpO1xuICAgICAqIC8vID0+IDEuNVxuICAgICAqL1xuICAgIHZhciBkaXZpZGUgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKGRpdmlkZW5kLCBkaXZpc29yKSB7XG4gICAgICByZXR1cm4gZGl2aWRlbmQgLyBkaXZpc29yO1xuICAgIH0sIDEpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYG51bWJlcmAgcm91bmRlZCBkb3duIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIGRvd24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmVjaXNpb249MF0gVGhlIHByZWNpc2lvbiB0byByb3VuZCBkb3duIHRvLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgZG93biBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxvb3IoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uZmxvb3IoMC4wNDYsIDIpO1xuICAgICAqIC8vID0+IDAuMDRcbiAgICAgKlxuICAgICAqIF8uZmxvb3IoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQwMDBcbiAgICAgKi9cbiAgICB2YXIgZmxvb3IgPSBjcmVhdGVSb3VuZCgnZmxvb3InKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtYXhpbXVtIHZhbHVlIG9mIGBhcnJheWAuIElmIGBhcnJheWAgaXMgZW1wdHkgb3IgZmFsc2V5LFxuICAgICAqIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1heChbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDhcbiAgICAgKlxuICAgICAqIF8ubWF4KFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXgoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgaWRlbnRpdHksIGJhc2VHdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tYXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB0aGUgdmFsdWUgaXMgcmFua2VkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiAxIH0sIHsgJ24nOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5tYXhCeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWF4Qnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiB7ICduJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4QnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbWVhbiBvZiB0aGUgdmFsdWVzIGluIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tZWFuKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lYW4oYXJyYXkpIHtcbiAgICAgIHJldHVybiBiYXNlTWVhbihhcnJheSwgaWRlbnRpdHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVhbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIGF2ZXJhZ2VkLlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8ubWVhbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbkJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtaW5pbXVtIHZhbHVlIG9mIGBhcnJheWAuIElmIGBhcnJheWAgaXMgZW1wdHkgb3IgZmFsc2V5LFxuICAgICAqIGB1bmRlZmluZWRgIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtaW5pbXVtIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1pbihbNCwgMiwgOCwgNl0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIF8ubWluKFtdKTtcbiAgICAgKiAvLyA9PiB1bmRlZmluZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW4oYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgaWRlbnRpdHksIGJhc2VMdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5taW5gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB0aGUgdmFsdWUgaXMgcmFua2VkLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiAxIH0sIHsgJ24nOiAyIH1dO1xuICAgICAqXG4gICAgICogXy5taW5CeShvYmplY3RzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLm47IH0pO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWluQnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiB7ICduJzogMSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWluQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlRXh0cmVtdW0oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjcuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpZXIgVGhlIGZpcnN0IG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtdWx0aXBsaWNhbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBtdWx0aXBsaWNhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBwcm9kdWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm11bHRpcGx5KDYsIDQpO1xuICAgICAqIC8vID0+IDI0XG4gICAgICovXG4gICAgdmFyIG11bHRpcGx5ID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihtdWx0aXBsaWVyLCBtdWx0aXBsaWNhbmQpIHtcbiAgICAgIHJldHVybiBtdWx0aXBsaWVyICogbXVsdGlwbGljYW5kO1xuICAgIH0sIDEpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYG51bWJlcmAgcm91bmRlZCB0byBgcHJlY2lzaW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byByb3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIHRvLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJvdW5kZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJvdW5kKDQuMDA2KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICpcbiAgICAgKiBfLnJvdW5kKDQuMDA2LCAyKTtcbiAgICAgKiAvLyA9PiA0LjAxXG4gICAgICpcbiAgICAgKiBfLnJvdW5kKDQwNjAsIC0yKTtcbiAgICAgKiAvLyA9PiA0MTAwXG4gICAgICovXG4gICAgdmFyIHJvdW5kID0gY3JlYXRlUm91bmQoJ3JvdW5kJyk7XG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdCB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbnVlbmQgVGhlIGZpcnN0IG51bWJlciBpbiBhIHN1YnRyYWN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdWJ0cmFoZW5kIFRoZSBzZWNvbmQgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgZGlmZmVyZW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdWJ0cmFjdCg2LCA0KTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgdmFyIHN1YnRyYWN0ID0gY3JlYXRlTWF0aE9wZXJhdGlvbihmdW5jdGlvbihtaW51ZW5kLCBzdWJ0cmFoZW5kKSB7XG4gICAgICByZXR1cm4gbWludWVuZCAtIHN1YnRyYWhlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgc3VtIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3VtKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdW0oYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTdW0oYXJyYXksIGlkZW50aXR5KVxuICAgICAgICA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zdW1gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSB2YWx1ZSB0byBiZSBzdW1tZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDQgfSwgeyAnbic6IDIgfSwgeyAnbic6IDggfSwgeyAnbic6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLnN1bUJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4gMjBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgJ24nKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IDA7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gd3JhcHBlZCB2YWx1ZXMgaW4gY2hhaW4gc2VxdWVuY2VzLlxuICAgIGxvZGFzaC5hZnRlciA9IGFmdGVyO1xuICAgIGxvZGFzaC5hcnkgPSBhcnk7XG4gICAgbG9kYXNoLmFzc2lnbiA9IGFzc2lnbjtcbiAgICBsb2Rhc2guYXNzaWduSW4gPSBhc3NpZ25JbjtcbiAgICBsb2Rhc2guYXNzaWduSW5XaXRoID0gYXNzaWduSW5XaXRoO1xuICAgIGxvZGFzaC5hc3NpZ25XaXRoID0gYXNzaWduV2l0aDtcbiAgICBsb2Rhc2guYXQgPSBhdDtcbiAgICBsb2Rhc2guYmVmb3JlID0gYmVmb3JlO1xuICAgIGxvZGFzaC5iaW5kID0gYmluZDtcbiAgICBsb2Rhc2guYmluZEFsbCA9IGJpbmRBbGw7XG4gICAgbG9kYXNoLmJpbmRLZXkgPSBiaW5kS2V5O1xuICAgIGxvZGFzaC5jYXN0QXJyYXkgPSBjYXN0QXJyYXk7XG4gICAgbG9kYXNoLmNoYWluID0gY2hhaW47XG4gICAgbG9kYXNoLmNodW5rID0gY2h1bms7XG4gICAgbG9kYXNoLmNvbXBhY3QgPSBjb21wYWN0O1xuICAgIGxvZGFzaC5jb25jYXQgPSBjb25jYXQ7XG4gICAgbG9kYXNoLmNvbmQgPSBjb25kO1xuICAgIGxvZGFzaC5jb25mb3JtcyA9IGNvbmZvcm1zO1xuICAgIGxvZGFzaC5jb25zdGFudCA9IGNvbnN0YW50O1xuICAgIGxvZGFzaC5jb3VudEJ5ID0gY291bnRCeTtcbiAgICBsb2Rhc2guY3JlYXRlID0gY3JlYXRlO1xuICAgIGxvZGFzaC5jdXJyeSA9IGN1cnJ5O1xuICAgIGxvZGFzaC5jdXJyeVJpZ2h0ID0gY3VycnlSaWdodDtcbiAgICBsb2Rhc2guZGVib3VuY2UgPSBkZWJvdW5jZTtcbiAgICBsb2Rhc2guZGVmYXVsdHMgPSBkZWZhdWx0cztcbiAgICBsb2Rhc2guZGVmYXVsdHNEZWVwID0gZGVmYXVsdHNEZWVwO1xuICAgIGxvZGFzaC5kZWZlciA9IGRlZmVyO1xuICAgIGxvZGFzaC5kZWxheSA9IGRlbGF5O1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlID0gZGlmZmVyZW5jZTtcbiAgICBsb2Rhc2guZGlmZmVyZW5jZUJ5ID0gZGlmZmVyZW5jZUJ5O1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlV2l0aCA9IGRpZmZlcmVuY2VXaXRoO1xuICAgIGxvZGFzaC5kcm9wID0gZHJvcDtcbiAgICBsb2Rhc2guZHJvcFJpZ2h0ID0gZHJvcFJpZ2h0O1xuICAgIGxvZGFzaC5kcm9wUmlnaHRXaGlsZSA9IGRyb3BSaWdodFdoaWxlO1xuICAgIGxvZGFzaC5kcm9wV2hpbGUgPSBkcm9wV2hpbGU7XG4gICAgbG9kYXNoLmZpbGwgPSBmaWxsO1xuICAgIGxvZGFzaC5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgbG9kYXNoLmZsYXRNYXAgPSBmbGF0TWFwO1xuICAgIGxvZGFzaC5mbGF0TWFwRGVlcCA9IGZsYXRNYXBEZWVwO1xuICAgIGxvZGFzaC5mbGF0TWFwRGVwdGggPSBmbGF0TWFwRGVwdGg7XG4gICAgbG9kYXNoLmZsYXR0ZW4gPSBmbGF0dGVuO1xuICAgIGxvZGFzaC5mbGF0dGVuRGVlcCA9IGZsYXR0ZW5EZWVwO1xuICAgIGxvZGFzaC5mbGF0dGVuRGVwdGggPSBmbGF0dGVuRGVwdGg7XG4gICAgbG9kYXNoLmZsaXAgPSBmbGlwO1xuICAgIGxvZGFzaC5mbG93ID0gZmxvdztcbiAgICBsb2Rhc2guZmxvd1JpZ2h0ID0gZmxvd1JpZ2h0O1xuICAgIGxvZGFzaC5mcm9tUGFpcnMgPSBmcm9tUGFpcnM7XG4gICAgbG9kYXNoLmZ1bmN0aW9ucyA9IGZ1bmN0aW9ucztcbiAgICBsb2Rhc2guZnVuY3Rpb25zSW4gPSBmdW5jdGlvbnNJbjtcbiAgICBsb2Rhc2guZ3JvdXBCeSA9IGdyb3VwQnk7XG4gICAgbG9kYXNoLmluaXRpYWwgPSBpbml0aWFsO1xuICAgIGxvZGFzaC5pbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb247XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbkJ5ID0gaW50ZXJzZWN0aW9uQnk7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbldpdGggPSBpbnRlcnNlY3Rpb25XaXRoO1xuICAgIGxvZGFzaC5pbnZlcnQgPSBpbnZlcnQ7XG4gICAgbG9kYXNoLmludmVydEJ5ID0gaW52ZXJ0Qnk7XG4gICAgbG9kYXNoLmludm9rZU1hcCA9IGludm9rZU1hcDtcbiAgICBsb2Rhc2guaXRlcmF0ZWUgPSBpdGVyYXRlZTtcbiAgICBsb2Rhc2gua2V5QnkgPSBrZXlCeTtcbiAgICBsb2Rhc2gua2V5cyA9IGtleXM7XG4gICAgbG9kYXNoLmtleXNJbiA9IGtleXNJbjtcbiAgICBsb2Rhc2gubWFwID0gbWFwO1xuICAgIGxvZGFzaC5tYXBLZXlzID0gbWFwS2V5cztcbiAgICBsb2Rhc2gubWFwVmFsdWVzID0gbWFwVmFsdWVzO1xuICAgIGxvZGFzaC5tYXRjaGVzID0gbWF0Y2hlcztcbiAgICBsb2Rhc2gubWF0Y2hlc1Byb3BlcnR5ID0gbWF0Y2hlc1Byb3BlcnR5O1xuICAgIGxvZGFzaC5tZW1vaXplID0gbWVtb2l6ZTtcbiAgICBsb2Rhc2gubWVyZ2UgPSBtZXJnZTtcbiAgICBsb2Rhc2gubWVyZ2VXaXRoID0gbWVyZ2VXaXRoO1xuICAgIGxvZGFzaC5tZXRob2QgPSBtZXRob2Q7XG4gICAgbG9kYXNoLm1ldGhvZE9mID0gbWV0aG9kT2Y7XG4gICAgbG9kYXNoLm1peGluID0gbWl4aW47XG4gICAgbG9kYXNoLm5lZ2F0ZSA9IG5lZ2F0ZTtcbiAgICBsb2Rhc2gubnRoQXJnID0gbnRoQXJnO1xuICAgIGxvZGFzaC5vbWl0ID0gb21pdDtcbiAgICBsb2Rhc2gub21pdEJ5ID0gb21pdEJ5O1xuICAgIGxvZGFzaC5vbmNlID0gb25jZTtcbiAgICBsb2Rhc2gub3JkZXJCeSA9IG9yZGVyQnk7XG4gICAgbG9kYXNoLm92ZXIgPSBvdmVyO1xuICAgIGxvZGFzaC5vdmVyQXJncyA9IG92ZXJBcmdzO1xuICAgIGxvZGFzaC5vdmVyRXZlcnkgPSBvdmVyRXZlcnk7XG4gICAgbG9kYXNoLm92ZXJTb21lID0gb3ZlclNvbWU7XG4gICAgbG9kYXNoLnBhcnRpYWwgPSBwYXJ0aWFsO1xuICAgIGxvZGFzaC5wYXJ0aWFsUmlnaHQgPSBwYXJ0aWFsUmlnaHQ7XG4gICAgbG9kYXNoLnBhcnRpdGlvbiA9IHBhcnRpdGlvbjtcbiAgICBsb2Rhc2gucGljayA9IHBpY2s7XG4gICAgbG9kYXNoLnBpY2tCeSA9IHBpY2tCeTtcbiAgICBsb2Rhc2gucHJvcGVydHkgPSBwcm9wZXJ0eTtcbiAgICBsb2Rhc2gucHJvcGVydHlPZiA9IHByb3BlcnR5T2Y7XG4gICAgbG9kYXNoLnB1bGwgPSBwdWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsID0gcHVsbEFsbDtcbiAgICBsb2Rhc2gucHVsbEFsbEJ5ID0gcHVsbEFsbEJ5O1xuICAgIGxvZGFzaC5wdWxsQWxsV2l0aCA9IHB1bGxBbGxXaXRoO1xuICAgIGxvZGFzaC5wdWxsQXQgPSBwdWxsQXQ7XG4gICAgbG9kYXNoLnJhbmdlID0gcmFuZ2U7XG4gICAgbG9kYXNoLnJhbmdlUmlnaHQgPSByYW5nZVJpZ2h0O1xuICAgIGxvZGFzaC5yZWFyZyA9IHJlYXJnO1xuICAgIGxvZGFzaC5yZWplY3QgPSByZWplY3Q7XG4gICAgbG9kYXNoLnJlbW92ZSA9IHJlbW92ZTtcbiAgICBsb2Rhc2gucmVzdCA9IHJlc3Q7XG4gICAgbG9kYXNoLnJldmVyc2UgPSByZXZlcnNlO1xuICAgIGxvZGFzaC5zYW1wbGVTaXplID0gc2FtcGxlU2l6ZTtcbiAgICBsb2Rhc2guc2V0ID0gc2V0O1xuICAgIGxvZGFzaC5zZXRXaXRoID0gc2V0V2l0aDtcbiAgICBsb2Rhc2guc2h1ZmZsZSA9IHNodWZmbGU7XG4gICAgbG9kYXNoLnNsaWNlID0gc2xpY2U7XG4gICAgbG9kYXNoLnNvcnRCeSA9IHNvcnRCeTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcSA9IHNvcnRlZFVuaXE7XG4gICAgbG9kYXNoLnNvcnRlZFVuaXFCeSA9IHNvcnRlZFVuaXFCeTtcbiAgICBsb2Rhc2guc3BsaXQgPSBzcGxpdDtcbiAgICBsb2Rhc2guc3ByZWFkID0gc3ByZWFkO1xuICAgIGxvZGFzaC50YWlsID0gdGFpbDtcbiAgICBsb2Rhc2gudGFrZSA9IHRha2U7XG4gICAgbG9kYXNoLnRha2VSaWdodCA9IHRha2VSaWdodDtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0V2hpbGUgPSB0YWtlUmlnaHRXaGlsZTtcbiAgICBsb2Rhc2gudGFrZVdoaWxlID0gdGFrZVdoaWxlO1xuICAgIGxvZGFzaC50YXAgPSB0YXA7XG4gICAgbG9kYXNoLnRocm90dGxlID0gdGhyb3R0bGU7XG4gICAgbG9kYXNoLnRocnUgPSB0aHJ1O1xuICAgIGxvZGFzaC50b0FycmF5ID0gdG9BcnJheTtcbiAgICBsb2Rhc2gudG9QYWlycyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLnRvUGFpcnNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2gudG9QYXRoID0gdG9QYXRoO1xuICAgIGxvZGFzaC50b1BsYWluT2JqZWN0ID0gdG9QbGFpbk9iamVjdDtcbiAgICBsb2Rhc2gudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIGxvZGFzaC51bmFyeSA9IHVuYXJ5O1xuICAgIGxvZGFzaC51bmlvbiA9IHVuaW9uO1xuICAgIGxvZGFzaC51bmlvbkJ5ID0gdW5pb25CeTtcbiAgICBsb2Rhc2gudW5pb25XaXRoID0gdW5pb25XaXRoO1xuICAgIGxvZGFzaC51bmlxID0gdW5pcTtcbiAgICBsb2Rhc2gudW5pcUJ5ID0gdW5pcUJ5O1xuICAgIGxvZGFzaC51bmlxV2l0aCA9IHVuaXFXaXRoO1xuICAgIGxvZGFzaC51bnNldCA9IHVuc2V0O1xuICAgIGxvZGFzaC51bnppcCA9IHVuemlwO1xuICAgIGxvZGFzaC51bnppcFdpdGggPSB1bnppcFdpdGg7XG4gICAgbG9kYXNoLnVwZGF0ZSA9IHVwZGF0ZTtcbiAgICBsb2Rhc2gudXBkYXRlV2l0aCA9IHVwZGF0ZVdpdGg7XG4gICAgbG9kYXNoLnZhbHVlcyA9IHZhbHVlcztcbiAgICBsb2Rhc2gudmFsdWVzSW4gPSB2YWx1ZXNJbjtcbiAgICBsb2Rhc2gud2l0aG91dCA9IHdpdGhvdXQ7XG4gICAgbG9kYXNoLndvcmRzID0gd29yZHM7XG4gICAgbG9kYXNoLndyYXAgPSB3cmFwO1xuICAgIGxvZGFzaC54b3IgPSB4b3I7XG4gICAgbG9kYXNoLnhvckJ5ID0geG9yQnk7XG4gICAgbG9kYXNoLnhvcldpdGggPSB4b3JXaXRoO1xuICAgIGxvZGFzaC56aXAgPSB6aXA7XG4gICAgbG9kYXNoLnppcE9iamVjdCA9IHppcE9iamVjdDtcbiAgICBsb2Rhc2guemlwT2JqZWN0RGVlcCA9IHppcE9iamVjdERlZXA7XG4gICAgbG9kYXNoLnppcFdpdGggPSB6aXBXaXRoO1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVudHJpZXMgPSB0b1BhaXJzO1xuICAgIGxvZGFzaC5lbnRyaWVzSW4gPSB0b1BhaXJzSW47XG4gICAgbG9kYXNoLmV4dGVuZCA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5leHRlbmRXaXRoID0gYXNzaWduSW5XaXRoO1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIG1peGluKGxvZGFzaCwgbG9kYXNoKTtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8vIEFkZCBtZXRob2RzIHRoYXQgcmV0dXJuIHVud3JhcHBlZCB2YWx1ZXMgaW4gY2hhaW4gc2VxdWVuY2VzLlxuICAgIGxvZGFzaC5hZGQgPSBhZGQ7XG4gICAgbG9kYXNoLmF0dGVtcHQgPSBhdHRlbXB0O1xuICAgIGxvZGFzaC5jYW1lbENhc2UgPSBjYW1lbENhc2U7XG4gICAgbG9kYXNoLmNhcGl0YWxpemUgPSBjYXBpdGFsaXplO1xuICAgIGxvZGFzaC5jZWlsID0gY2VpbDtcbiAgICBsb2Rhc2guY2xhbXAgPSBjbGFtcDtcbiAgICBsb2Rhc2guY2xvbmUgPSBjbG9uZTtcbiAgICBsb2Rhc2guY2xvbmVEZWVwID0gY2xvbmVEZWVwO1xuICAgIGxvZGFzaC5jbG9uZURlZXBXaXRoID0gY2xvbmVEZWVwV2l0aDtcbiAgICBsb2Rhc2guY2xvbmVXaXRoID0gY2xvbmVXaXRoO1xuICAgIGxvZGFzaC5jb25mb3Jtc1RvID0gY29uZm9ybXNUbztcbiAgICBsb2Rhc2guZGVidXJyID0gZGVidXJyO1xuICAgIGxvZGFzaC5kZWZhdWx0VG8gPSBkZWZhdWx0VG87XG4gICAgbG9kYXNoLmRpdmlkZSA9IGRpdmlkZTtcbiAgICBsb2Rhc2guZW5kc1dpdGggPSBlbmRzV2l0aDtcbiAgICBsb2Rhc2guZXEgPSBlcTtcbiAgICBsb2Rhc2guZXNjYXBlID0gZXNjYXBlO1xuICAgIGxvZGFzaC5lc2NhcGVSZWdFeHAgPSBlc2NhcGVSZWdFeHA7XG4gICAgbG9kYXNoLmV2ZXJ5ID0gZXZlcnk7XG4gICAgbG9kYXNoLmZpbmQgPSBmaW5kO1xuICAgIGxvZGFzaC5maW5kSW5kZXggPSBmaW5kSW5kZXg7XG4gICAgbG9kYXNoLmZpbmRLZXkgPSBmaW5kS2V5O1xuICAgIGxvZGFzaC5maW5kTGFzdCA9IGZpbmRMYXN0O1xuICAgIGxvZGFzaC5maW5kTGFzdEluZGV4ID0gZmluZExhc3RJbmRleDtcbiAgICBsb2Rhc2guZmluZExhc3RLZXkgPSBmaW5kTGFzdEtleTtcbiAgICBsb2Rhc2guZmxvb3IgPSBmbG9vcjtcbiAgICBsb2Rhc2guZm9yRWFjaCA9IGZvckVhY2g7XG4gICAgbG9kYXNoLmZvckVhY2hSaWdodCA9IGZvckVhY2hSaWdodDtcbiAgICBsb2Rhc2guZm9ySW4gPSBmb3JJbjtcbiAgICBsb2Rhc2guZm9ySW5SaWdodCA9IGZvckluUmlnaHQ7XG4gICAgbG9kYXNoLmZvck93biA9IGZvck93bjtcbiAgICBsb2Rhc2guZm9yT3duUmlnaHQgPSBmb3JPd25SaWdodDtcbiAgICBsb2Rhc2guZ2V0ID0gZ2V0O1xuICAgIGxvZGFzaC5ndCA9IGd0O1xuICAgIGxvZGFzaC5ndGUgPSBndGU7XG4gICAgbG9kYXNoLmhhcyA9IGhhcztcbiAgICBsb2Rhc2guaGFzSW4gPSBoYXNJbjtcbiAgICBsb2Rhc2guaGVhZCA9IGhlYWQ7XG4gICAgbG9kYXNoLmlkZW50aXR5ID0gaWRlbnRpdHk7XG4gICAgbG9kYXNoLmluY2x1ZGVzID0gaW5jbHVkZXM7XG4gICAgbG9kYXNoLmluZGV4T2YgPSBpbmRleE9mO1xuICAgIGxvZGFzaC5pblJhbmdlID0gaW5SYW5nZTtcbiAgICBsb2Rhc2guaW52b2tlID0gaW52b2tlO1xuICAgIGxvZGFzaC5pc0FyZ3VtZW50cyA9IGlzQXJndW1lbnRzO1xuICAgIGxvZGFzaC5pc0FycmF5ID0gaXNBcnJheTtcbiAgICBsb2Rhc2guaXNBcnJheUJ1ZmZlciA9IGlzQXJyYXlCdWZmZXI7XG4gICAgbG9kYXNoLmlzQXJyYXlMaWtlID0gaXNBcnJheUxpa2U7XG4gICAgbG9kYXNoLmlzQXJyYXlMaWtlT2JqZWN0ID0gaXNBcnJheUxpa2VPYmplY3Q7XG4gICAgbG9kYXNoLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcbiAgICBsb2Rhc2guaXNCdWZmZXIgPSBpc0J1ZmZlcjtcbiAgICBsb2Rhc2guaXNEYXRlID0gaXNEYXRlO1xuICAgIGxvZGFzaC5pc0VsZW1lbnQgPSBpc0VsZW1lbnQ7XG4gICAgbG9kYXNoLmlzRW1wdHkgPSBpc0VtcHR5O1xuICAgIGxvZGFzaC5pc0VxdWFsID0gaXNFcXVhbDtcbiAgICBsb2Rhc2guaXNFcXVhbFdpdGggPSBpc0VxdWFsV2l0aDtcbiAgICBsb2Rhc2guaXNFcnJvciA9IGlzRXJyb3I7XG4gICAgbG9kYXNoLmlzRmluaXRlID0gaXNGaW5pdGU7XG4gICAgbG9kYXNoLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuICAgIGxvZGFzaC5pc0ludGVnZXIgPSBpc0ludGVnZXI7XG4gICAgbG9kYXNoLmlzTGVuZ3RoID0gaXNMZW5ndGg7XG4gICAgbG9kYXNoLmlzTWFwID0gaXNNYXA7XG4gICAgbG9kYXNoLmlzTWF0Y2ggPSBpc01hdGNoO1xuICAgIGxvZGFzaC5pc01hdGNoV2l0aCA9IGlzTWF0Y2hXaXRoO1xuICAgIGxvZGFzaC5pc05hTiA9IGlzTmFOO1xuICAgIGxvZGFzaC5pc05hdGl2ZSA9IGlzTmF0aXZlO1xuICAgIGxvZGFzaC5pc05pbCA9IGlzTmlsO1xuICAgIGxvZGFzaC5pc051bGwgPSBpc051bGw7XG4gICAgbG9kYXNoLmlzTnVtYmVyID0gaXNOdW1iZXI7XG4gICAgbG9kYXNoLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG4gICAgbG9kYXNoLmlzT2JqZWN0TGlrZSA9IGlzT2JqZWN0TGlrZTtcbiAgICBsb2Rhc2guaXNQbGFpbk9iamVjdCA9IGlzUGxhaW5PYmplY3Q7XG4gICAgbG9kYXNoLmlzUmVnRXhwID0gaXNSZWdFeHA7XG4gICAgbG9kYXNoLmlzU2FmZUludGVnZXIgPSBpc1NhZmVJbnRlZ2VyO1xuICAgIGxvZGFzaC5pc1NldCA9IGlzU2V0O1xuICAgIGxvZGFzaC5pc1N0cmluZyA9IGlzU3RyaW5nO1xuICAgIGxvZGFzaC5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuICAgIGxvZGFzaC5pc1R5cGVkQXJyYXkgPSBpc1R5cGVkQXJyYXk7XG4gICAgbG9kYXNoLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG4gICAgbG9kYXNoLmlzV2Vha01hcCA9IGlzV2Vha01hcDtcbiAgICBsb2Rhc2guaXNXZWFrU2V0ID0gaXNXZWFrU2V0O1xuICAgIGxvZGFzaC5qb2luID0gam9pbjtcbiAgICBsb2Rhc2gua2ViYWJDYXNlID0ga2ViYWJDYXNlO1xuICAgIGxvZGFzaC5sYXN0ID0gbGFzdDtcbiAgICBsb2Rhc2gubGFzdEluZGV4T2YgPSBsYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2gubG93ZXJDYXNlID0gbG93ZXJDYXNlO1xuICAgIGxvZGFzaC5sb3dlckZpcnN0ID0gbG93ZXJGaXJzdDtcbiAgICBsb2Rhc2gubHQgPSBsdDtcbiAgICBsb2Rhc2gubHRlID0gbHRlO1xuICAgIGxvZGFzaC5tYXggPSBtYXg7XG4gICAgbG9kYXNoLm1heEJ5ID0gbWF4Qnk7XG4gICAgbG9kYXNoLm1lYW4gPSBtZWFuO1xuICAgIGxvZGFzaC5tZWFuQnkgPSBtZWFuQnk7XG4gICAgbG9kYXNoLm1pbiA9IG1pbjtcbiAgICBsb2Rhc2gubWluQnkgPSBtaW5CeTtcbiAgICBsb2Rhc2guc3R1YkFycmF5ID0gc3R1YkFycmF5O1xuICAgIGxvZGFzaC5zdHViRmFsc2UgPSBzdHViRmFsc2U7XG4gICAgbG9kYXNoLnN0dWJPYmplY3QgPSBzdHViT2JqZWN0O1xuICAgIGxvZGFzaC5zdHViU3RyaW5nID0gc3R1YlN0cmluZztcbiAgICBsb2Rhc2guc3R1YlRydWUgPSBzdHViVHJ1ZTtcbiAgICBsb2Rhc2gubXVsdGlwbHkgPSBtdWx0aXBseTtcbiAgICBsb2Rhc2gubnRoID0gbnRoO1xuICAgIGxvZGFzaC5ub0NvbmZsaWN0ID0gbm9Db25mbGljdDtcbiAgICBsb2Rhc2gubm9vcCA9IG5vb3A7XG4gICAgbG9kYXNoLm5vdyA9IG5vdztcbiAgICBsb2Rhc2gucGFkID0gcGFkO1xuICAgIGxvZGFzaC5wYWRFbmQgPSBwYWRFbmQ7XG4gICAgbG9kYXNoLnBhZFN0YXJ0ID0gcGFkU3RhcnQ7XG4gICAgbG9kYXNoLnBhcnNlSW50ID0gcGFyc2VJbnQ7XG4gICAgbG9kYXNoLnJhbmRvbSA9IHJhbmRvbTtcbiAgICBsb2Rhc2gucmVkdWNlID0gcmVkdWNlO1xuICAgIGxvZGFzaC5yZWR1Y2VSaWdodCA9IHJlZHVjZVJpZ2h0O1xuICAgIGxvZGFzaC5yZXBlYXQgPSByZXBlYXQ7XG4gICAgbG9kYXNoLnJlcGxhY2UgPSByZXBsYWNlO1xuICAgIGxvZGFzaC5yZXN1bHQgPSByZXN1bHQ7XG4gICAgbG9kYXNoLnJvdW5kID0gcm91bmQ7XG4gICAgbG9kYXNoLnJ1bkluQ29udGV4dCA9IHJ1bkluQ29udGV4dDtcbiAgICBsb2Rhc2guc2FtcGxlID0gc2FtcGxlO1xuICAgIGxvZGFzaC5zaXplID0gc2l6ZTtcbiAgICBsb2Rhc2guc25ha2VDYXNlID0gc25ha2VDYXNlO1xuICAgIGxvZGFzaC5zb21lID0gc29tZTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXggPSBzb3J0ZWRJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhCeSA9IHNvcnRlZEluZGV4Qnk7XG4gICAgbG9kYXNoLnNvcnRlZEluZGV4T2YgPSBzb3J0ZWRJbmRleE9mO1xuICAgIGxvZGFzaC5zb3J0ZWRMYXN0SW5kZXggPSBzb3J0ZWRMYXN0SW5kZXg7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleEJ5ID0gc29ydGVkTGFzdEluZGV4Qnk7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleE9mID0gc29ydGVkTGFzdEluZGV4T2Y7XG4gICAgbG9kYXNoLnN0YXJ0Q2FzZSA9IHN0YXJ0Q2FzZTtcbiAgICBsb2Rhc2guc3RhcnRzV2l0aCA9IHN0YXJ0c1dpdGg7XG4gICAgbG9kYXNoLnN1YnRyYWN0ID0gc3VidHJhY3Q7XG4gICAgbG9kYXNoLnN1bSA9IHN1bTtcbiAgICBsb2Rhc2guc3VtQnkgPSBzdW1CeTtcbiAgICBsb2Rhc2gudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICBsb2Rhc2gudGltZXMgPSB0aW1lcztcbiAgICBsb2Rhc2gudG9GaW5pdGUgPSB0b0Zpbml0ZTtcbiAgICBsb2Rhc2gudG9JbnRlZ2VyID0gdG9JbnRlZ2VyO1xuICAgIGxvZGFzaC50b0xlbmd0aCA9IHRvTGVuZ3RoO1xuICAgIGxvZGFzaC50b0xvd2VyID0gdG9Mb3dlcjtcbiAgICBsb2Rhc2gudG9OdW1iZXIgPSB0b051bWJlcjtcbiAgICBsb2Rhc2gudG9TYWZlSW50ZWdlciA9IHRvU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLnRvU3RyaW5nID0gdG9TdHJpbmc7XG4gICAgbG9kYXNoLnRvVXBwZXIgPSB0b1VwcGVyO1xuICAgIGxvZGFzaC50cmltID0gdHJpbTtcbiAgICBsb2Rhc2gudHJpbUVuZCA9IHRyaW1FbmQ7XG4gICAgbG9kYXNoLnRyaW1TdGFydCA9IHRyaW1TdGFydDtcbiAgICBsb2Rhc2gudHJ1bmNhdGUgPSB0cnVuY2F0ZTtcbiAgICBsb2Rhc2gudW5lc2NhcGUgPSB1bmVzY2FwZTtcbiAgICBsb2Rhc2gudW5pcXVlSWQgPSB1bmlxdWVJZDtcbiAgICBsb2Rhc2gudXBwZXJDYXNlID0gdXBwZXJDYXNlO1xuICAgIGxvZGFzaC51cHBlckZpcnN0ID0gdXBwZXJGaXJzdDtcblxuICAgIC8vIEFkZCBhbGlhc2VzLlxuICAgIGxvZGFzaC5lYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5maXJzdCA9IGhlYWQ7XG5cbiAgICBtaXhpbihsb2Rhc2gsIChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB7fTtcbiAgICAgIGJhc2VGb3JPd24obG9kYXNoLCBmdW5jdGlvbihmdW5jLCBtZXRob2ROYW1lKSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChsb2Rhc2gucHJvdG90eXBlLCBtZXRob2ROYW1lKSkge1xuICAgICAgICAgIHNvdXJjZVttZXRob2ROYW1lXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9KCkpLCB7ICdjaGFpbic6IGZhbHNlIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlbWFudGljIHZlcnNpb24gbnVtYmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBsb2Rhc2guVkVSU0lPTiA9IFZFUlNJT047XG5cbiAgICAvLyBBc3NpZ24gZGVmYXVsdCBwbGFjZWhvbGRlcnMuXG4gICAgYXJyYXlFYWNoKFsnYmluZCcsICdiaW5kS2V5JywgJ2N1cnJ5JywgJ2N1cnJ5UmlnaHQnLCAncGFydGlhbCcsICdwYXJ0aWFsUmlnaHQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgbG9kYXNoW21ldGhvZE5hbWVdLnBsYWNlaG9sZGVyID0gbG9kYXNoO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uZHJvcGAgYW5kIGBfLnRha2VgIHZhcmlhbnRzLlxuICAgIGFycmF5RWFjaChbJ2Ryb3AnLCAndGFrZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24obikge1xuICAgICAgICBuID0gbiA9PT0gdW5kZWZpbmVkID8gMSA6IG5hdGl2ZU1heCh0b0ludGVnZXIobiksIDApO1xuXG4gICAgICAgIHZhciByZXN1bHQgPSAodGhpcy5fX2ZpbHRlcmVkX18gJiYgIWluZGV4KVxuICAgICAgICAgID8gbmV3IExhenlXcmFwcGVyKHRoaXMpXG4gICAgICAgICAgOiB0aGlzLmNsb25lKCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IG5hdGl2ZU1pbihuLCByZXN1bHQuX190YWtlQ291bnRfXyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0Ll9fdmlld3NfXy5wdXNoKHtcbiAgICAgICAgICAgICdzaXplJzogbmF0aXZlTWluKG4sIE1BWF9BUlJBWV9MRU5HVEgpLFxuICAgICAgICAgICAgJ3R5cGUnOiBtZXRob2ROYW1lICsgKHJlc3VsdC5fX2Rpcl9fIDwgMCA/ICdSaWdodCcgOiAnJylcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWUgKyAnUmlnaHQnXSA9IGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpW21ldGhvZE5hbWVdKG4pLnJldmVyc2UoKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRoYXQgYWNjZXB0IGFuIGBpdGVyYXRlZWAgdmFsdWUuXG4gICAgYXJyYXlFYWNoKFsnZmlsdGVyJywgJ21hcCcsICd0YWtlV2hpbGUnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0eXBlID0gaW5kZXggKyAxLFxuICAgICAgICAgIGlzRmlsdGVyID0gdHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHIHx8IHR5cGUgPT0gTEFaWV9XSElMRV9GTEFHO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19pdGVyYXRlZXNfXy5wdXNoKHtcbiAgICAgICAgICAnaXRlcmF0ZWUnOiBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksXG4gICAgICAgICAgJ3R5cGUnOiB0eXBlXG4gICAgICAgIH0pO1xuICAgICAgICByZXN1bHQuX19maWx0ZXJlZF9fID0gcmVzdWx0Ll9fZmlsdGVyZWRfXyB8fCBpc0ZpbHRlcjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5oZWFkYCBhbmQgYF8ubGFzdGAuXG4gICAgYXJyYXlFYWNoKFsnaGVhZCcsICdsYXN0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgdGFrZU5hbWUgPSAndGFrZScgKyAoaW5kZXggPyAnUmlnaHQnIDogJycpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdGFrZU5hbWVdKDEpLnZhbHVlKClbMF07XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyBmb3IgYF8uaW5pdGlhbGAgYW5kIGBfLnRhaWxgLlxuICAgIGFycmF5RWFjaChbJ2luaXRpYWwnLCAndGFpbCddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIGRyb3BOYW1lID0gJ2Ryb3AnICsgKGluZGV4ID8gJycgOiAnUmlnaHQnKTtcblxuICAgICAgTGF6eVdyYXBwZXIucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fZmlsdGVyZWRfXyA/IG5ldyBMYXp5V3JhcHBlcih0aGlzKSA6IHRoaXNbZHJvcE5hbWVdKDEpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jb21wYWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIoaWRlbnRpdHkpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKHByZWRpY2F0ZSkuaGVhZCgpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuZmluZExhc3QgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5maW5kKHByZWRpY2F0ZSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5pbnZva2VNYXAgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnJlamVjdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHRoaXM7XG4gICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXyAmJiAoc3RhcnQgPiAwIHx8IGVuZCA8IDApKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIocmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnRha2VSaWdodCgtc3RhcnQpO1xuICAgICAgfSBlbHNlIGlmIChzdGFydCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZHJvcChzdGFydCk7XG4gICAgICB9XG4gICAgICBpZiAoZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gdG9JbnRlZ2VyKGVuZCk7XG4gICAgICAgIHJlc3VsdCA9IGVuZCA8IDAgPyByZXN1bHQuZHJvcFJpZ2h0KC1lbmQpIDogcmVzdWx0LnRha2UoZW5kIC0gc3RhcnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnRha2VSaWdodFdoaWxlID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkudGFrZVdoaWxlKHByZWRpY2F0ZSkucmV2ZXJzZSgpO1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFrZShNQVhfQVJSQVlfTEVOR1RIKTtcbiAgICB9O1xuXG4gICAgLy8gQWRkIGBMYXp5V3JhcHBlcmAgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgYmFzZUZvck93bihMYXp5V3JhcHBlci5wcm90b3R5cGUsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBjaGVja0l0ZXJhdGVlID0gL14oPzpmaWx0ZXJ8ZmluZHxtYXB8cmVqZWN0KXxXaGlsZSQvLnRlc3QobWV0aG9kTmFtZSksXG4gICAgICAgICAgaXNUYWtlciA9IC9eKD86aGVhZHxsYXN0KSQvLnRlc3QobWV0aG9kTmFtZSksXG4gICAgICAgICAgbG9kYXNoRnVuYyA9IGxvZGFzaFtpc1Rha2VyID8gKCd0YWtlJyArIChtZXRob2ROYW1lID09ICdsYXN0JyA/ICdSaWdodCcgOiAnJykpIDogbWV0aG9kTmFtZV0sXG4gICAgICAgICAgcmV0VW53cmFwcGVkID0gaXNUYWtlciB8fCAvXmZpbmQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGlmICghbG9kYXNoRnVuYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX18sXG4gICAgICAgICAgICBhcmdzID0gaXNUYWtlciA/IFsxXSA6IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGlzTGF6eSA9IHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIsXG4gICAgICAgICAgICBpdGVyYXRlZSA9IGFyZ3NbMF0sXG4gICAgICAgICAgICB1c2VMYXp5ID0gaXNMYXp5IHx8IGlzQXJyYXkodmFsdWUpO1xuXG4gICAgICAgIHZhciBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGxvZGFzaEZ1bmMuYXBwbHkobG9kYXNoLCBhcnJheVB1c2goW3ZhbHVlXSwgYXJncykpO1xuICAgICAgICAgIHJldHVybiAoaXNUYWtlciAmJiBjaGFpbkFsbCkgPyByZXN1bHRbMF0gOiByZXN1bHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHVzZUxhenkgJiYgY2hlY2tJdGVyYXRlZSAmJiB0eXBlb2YgaXRlcmF0ZWUgPT0gJ2Z1bmN0aW9uJyAmJiBpdGVyYXRlZS5sZW5ndGggIT0gMSkge1xuICAgICAgICAgIC8vIEF2b2lkIGxhenkgdXNlIGlmIHRoZSBpdGVyYXRlZSBoYXMgYSBcImxlbmd0aFwiIHZhbHVlIG90aGVyIHRoYW4gYDFgLlxuICAgICAgICAgIGlzTGF6eSA9IHVzZUxhenkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hhaW5BbGwgPSB0aGlzLl9fY2hhaW5fXyxcbiAgICAgICAgICAgIGlzSHlicmlkID0gISF0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCxcbiAgICAgICAgICAgIGlzVW53cmFwcGVkID0gcmV0VW53cmFwcGVkICYmICFjaGFpbkFsbCxcbiAgICAgICAgICAgIG9ubHlMYXp5ID0gaXNMYXp5ICYmICFpc0h5YnJpZDtcblxuICAgICAgICBpZiAoIXJldFVud3JhcHBlZCAmJiB1c2VMYXp5KSB7XG4gICAgICAgICAgdmFsdWUgPSBvbmx5TGF6eSA/IHZhbHVlIDogbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICAgICAgICByZXN1bHQuX19hY3Rpb25zX18ucHVzaCh7ICdmdW5jJzogdGhydSwgJ2FyZ3MnOiBbaW50ZXJjZXB0b3JdLCAndGhpc0FyZyc6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIocmVzdWx0LCBjaGFpbkFsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzVW53cmFwcGVkICYmIG9ubHlMYXp5KSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gdGhpcy50aHJ1KGludGVyY2VwdG9yKTtcbiAgICAgICAgcmV0dXJuIGlzVW53cmFwcGVkID8gKGlzVGFrZXIgPyByZXN1bHQudmFsdWUoKVswXSA6IHJlc3VsdC52YWx1ZSgpKSA6IHJlc3VsdDtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYEFycmF5YCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBhcnJheUVhY2goWydwb3AnLCAncHVzaCcsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gYXJyYXlQcm90b1ttZXRob2ROYW1lXSxcbiAgICAgICAgICBjaGFpbk5hbWUgPSAvXig/OnB1c2h8c29ydHx1bnNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSkgPyAndGFwJyA6ICd0aHJ1JyxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSAvXig/OnBvcHxzaGlmdCkkLy50ZXN0KG1ldGhvZE5hbWUpO1xuXG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBpZiAocmV0VW53cmFwcGVkICYmICF0aGlzLl9fY2hhaW5fXykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUoKTtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW10sIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzW2NoYWluTmFtZV0oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW10sIGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBNYXAgbWluaWZpZWQgbWV0aG9kIG5hbWVzIHRvIHRoZWlyIHJlYWwgbmFtZXMuXG4gICAgYmFzZUZvck93bihMYXp5V3JhcHBlci5wcm90b3R5cGUsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBsb2Rhc2hGdW5jID0gbG9kYXNoW21ldGhvZE5hbWVdO1xuICAgICAgaWYgKGxvZGFzaEZ1bmMpIHtcbiAgICAgICAgdmFyIGtleSA9IGxvZGFzaEZ1bmMubmFtZSArICcnO1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCBrZXkpKSB7XG4gICAgICAgICAgcmVhbE5hbWVzW2tleV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZWFsTmFtZXNba2V5XS5wdXNoKHsgJ25hbWUnOiBtZXRob2ROYW1lLCAnZnVuYyc6IGxvZGFzaEZ1bmMgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZWFsTmFtZXNbY3JlYXRlSHlicmlkKHVuZGVmaW5lZCwgV1JBUF9CSU5EX0tFWV9GTEFHKS5uYW1lXSA9IFt7XG4gICAgICAnbmFtZSc6ICd3cmFwcGVyJyxcbiAgICAgICdmdW5jJzogdW5kZWZpbmVkXG4gICAgfV07XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGF6eVdyYXBwZXJgLlxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5jbG9uZSA9IGxhenlDbG9uZTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmV2ZXJzZSA9IGxhenlSZXZlcnNlO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS52YWx1ZSA9IGxhenlWYWx1ZTtcblxuICAgIC8vIEFkZCBjaGFpbiBzZXF1ZW5jZSBtZXRob2RzIHRvIHRoZSBgbG9kYXNoYCB3cmFwcGVyLlxuICAgIGxvZGFzaC5wcm90b3R5cGUuYXQgPSB3cmFwcGVyQXQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5jaGFpbiA9IHdyYXBwZXJDaGFpbjtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbW1pdCA9IHdyYXBwZXJDb21taXQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5uZXh0ID0gd3JhcHBlck5leHQ7XG4gICAgbG9kYXNoLnByb3RvdHlwZS5wbGFudCA9IHdyYXBwZXJQbGFudDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnJldmVyc2UgPSB3cmFwcGVyUmV2ZXJzZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnRvSlNPTiA9IGxvZGFzaC5wcm90b3R5cGUudmFsdWVPZiA9IGxvZGFzaC5wcm90b3R5cGUudmFsdWUgPSB3cmFwcGVyVmFsdWU7XG5cbiAgICAvLyBBZGQgbGF6eSBhbGlhc2VzLlxuICAgIGxvZGFzaC5wcm90b3R5cGUuZmlyc3QgPSBsb2Rhc2gucHJvdG90eXBlLmhlYWQ7XG5cbiAgICBpZiAoc3ltSXRlcmF0b3IpIHtcbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbc3ltSXRlcmF0b3JdID0gd3JhcHBlclRvSXRlcmF0b3I7XG4gICAgfVxuICAgIHJldHVybiBsb2Rhc2g7XG4gIH0pO1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8vIEV4cG9ydCBsb2Rhc2guXG4gIHZhciBfID0gcnVuSW5Db250ZXh0KCk7XG5cbiAgLy8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3IgY29uZGl0aW9uIHBhdHRlcm5zIGxpa2U6XG4gIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEV4cG9zZSBMb2Rhc2ggb24gdGhlIGdsb2JhbCBvYmplY3QgdG8gcHJldmVudCBlcnJvcnMgd2hlbiBMb2Rhc2ggaXNcbiAgICAvLyBsb2FkZWQgYnkgYSBzY3JpcHQgdGFnIGluIHRoZSBwcmVzZW5jZSBvZiBhbiBBTUQgbG9hZGVyLlxuICAgIC8vIFNlZSBodHRwOi8vcmVxdWlyZWpzLm9yZy9kb2NzL2Vycm9ycy5odG1sI21pc21hdGNoIGZvciBtb3JlIGRldGFpbHMuXG4gICAgLy8gVXNlIGBfLm5vQ29uZmxpY3RgIHRvIHJlbW92ZSBMb2Rhc2ggZnJvbSB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuXG4gICAgLy8gRGVmaW5lIGFzIGFuIGFub255bW91cyBtb2R1bGUgc28sIHRocm91Z2ggcGF0aCBtYXBwaW5nLCBpdCBjYW4gYmVcbiAgICAvLyByZWZlcmVuY2VkIGFzIHRoZSBcInVuZGVyc2NvcmVcIiBtb2R1bGUuXG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF87XG4gICAgfSk7XG4gIH1cbiAgLy8gQ2hlY2sgZm9yIGBleHBvcnRzYCBhZnRlciBgZGVmaW5lYCBpbiBjYXNlIGEgYnVpbGQgb3B0aW1pemVyIGFkZHMgaXQuXG4gIGVsc2UgaWYgKGZyZWVNb2R1bGUpIHtcbiAgICAvLyBFeHBvcnQgZm9yIE5vZGUuanMuXG4gICAgKGZyZWVNb2R1bGUuZXhwb3J0cyA9IF8pLl8gPSBfO1xuICAgIC8vIEV4cG9ydCBmb3IgQ29tbW9uSlMgc3VwcG9ydC5cbiAgICBmcmVlRXhwb3J0cy5fID0gXztcbiAgfVxuICBlbHNlIHtcbiAgICAvLyBFeHBvcnQgdG8gdGhlIGdsb2JhbCBvYmplY3QuXG4gICAgcm9vdC5fID0gXztcbiAgfVxufS5jYWxsKHRoaXMpKTtcbiIsIi8qKlxyXG4qIHZrQmVhdXRpZnkgLSBqYXZhc2NyaXB0IHBsdWdpbiB0byBwcmV0dHktcHJpbnQgb3IgbWluaWZ5IHRleHQgaW4gWE1MLCBKU09OLCBDU1MgYW5kIFNRTCBmb3JtYXRzLlxyXG4qXHJcbiogQ29weXJpZ2h0IChjKSAyMDEyIFZhZGltIEtpcnl1a2hpblxyXG4qIHZraXJ5dWtoaW4gQCBnbWFpbC5jb21cclxuKiBodHRwOi8vd3d3LmVzbGluc3RydWN0b3IubmV0L3ZrYmVhdXRpZnkvXHJcbipcclxuKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlczpcclxuKiAgIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcbiogICBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLmh0bWxcclxuKlxyXG4qICAgUHJldHR5IHByaW50XHJcbipcclxuKiAgICAgICAgdmtiZWF1dGlmeS54bWwodGV4dCBbLGluZGVudF9wYXR0ZXJuXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbih0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5jc3ModGV4dCBbLGluZGVudF9wYXR0ZXJuXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuc3FsKHRleHQgWyxpbmRlbnRfcGF0dGVybl0pO1xyXG4qXHJcbiogICAgICAgIEB0ZXh0IC0gU3RyaW5nOyB0ZXh0IHRvIGJlYXR1Znk7XHJcbiogICAgICAgIEBpbmRlbnRfcGF0dGVybiAtIEludGVnZXIgfCBTdHJpbmc7XHJcbiogICAgICAgICAgICAgICAgSW50ZWdlcjogIG51bWJlciBvZiB3aGl0ZSBzcGFjZXM7XHJcbiogICAgICAgICAgICAgICAgU3RyaW5nOiAgIGNoYXJhY3RlciBzdHJpbmcgdG8gdmlzdWFsaXplIGluZGVudGF0aW9uICggY2FuIGFsc28gYmUgYSBzZXQgb2Ygd2hpdGUgc3BhY2VzIClcclxuKiAgIE1pbmlmeVxyXG4qXHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sbWluKHRleHQgWyxwcmVzZXJ2ZV9jb21tZW50c10pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5Lmpzb25taW4odGV4dCk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuY3NzbWluKHRleHQgWyxwcmVzZXJ2ZV9jb21tZW50c10pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LnNxbG1pbih0ZXh0KTtcclxuKlxyXG4qICAgICAgICBAdGV4dCAtIFN0cmluZzsgdGV4dCB0byBtaW5pZnk7XHJcbiogICAgICAgIEBwcmVzZXJ2ZV9jb21tZW50cyAtIEJvb2w7IFtvcHRpb25hbF07XHJcbiogICAgICAgICAgICAgICAgU2V0IHRoaXMgZmxhZyB0byB0cnVlIHRvIHByZXZlbnQgcmVtb3ZpbmcgY29tbWVudHMgZnJvbSBAdGV4dCAoIG1pbnhtbCBhbmQgbWluY3NzIGZ1bmN0aW9ucyBvbmx5LiApXHJcbipcclxuKiAgIEV4YW1wbGVzOlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnhtbCh0ZXh0KTsgLy8gcHJldHR5IHByaW50IFhNTFxyXG4qICAgICAgICB2a2JlYXV0aWZ5Lmpzb24odGV4dCwgNCApOyAvLyBwcmV0dHkgcHJpbnQgSlNPTlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzcyh0ZXh0LCAnLiAuIC4gLicpOyAvLyBwcmV0dHkgcHJpbnQgQ1NTXHJcbiogICAgICAgIHZrYmVhdXRpZnkuc3FsKHRleHQsICctLS0tJyk7IC8vIHByZXR0eSBwcmludCBTUUxcclxuKlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnhtbG1pbih0ZXh0LCB0cnVlKTsvLyBtaW5pZnkgWE1MLCBwcmVzZXJ2ZSBjb21tZW50c1xyXG4qICAgICAgICB2a2JlYXV0aWZ5Lmpzb25taW4odGV4dCk7Ly8gbWluaWZ5IEpTT05cclxuKiAgICAgICAgdmtiZWF1dGlmeS5jc3NtaW4odGV4dCk7Ly8gbWluaWZ5IENTUywgcmVtb3ZlIGNvbW1lbnRzICggZGVmYXVsdCApXHJcbiogICAgICAgIHZrYmVhdXRpZnkuc3FsbWluKHRleHQpOy8vIG1pbmlmeSBTUUxcclxuKlxyXG4qL1xyXG5mdW5jdGlvbiBjcmVhdGVTaGlmdEFycihzdGVwKSB7XHJcblxyXG5cdHZhciBzcGFjZSA9ICcgICAgJztcclxuXHJcblx0aWYgKCBpc05hTihwYXJzZUludChzdGVwKSkgKSB7ICAvLyBhcmd1bWVudCBpcyBzdHJpbmdcclxuXHRcdHNwYWNlID0gc3RlcDtcclxuXHR9IGVsc2UgeyAvLyBhcmd1bWVudCBpcyBpbnRlZ2VyXHJcblx0XHRzd2l0Y2goc3RlcCkge1xyXG5cdFx0XHRjYXNlIDE6IHNwYWNlID0gJyAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAyOiBzcGFjZSA9ICcgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDM6IHNwYWNlID0gJyAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDQ6IHNwYWNlID0gJyAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA1OiBzcGFjZSA9ICcgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDY6IHNwYWNlID0gJyAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDc6IHNwYWNlID0gJyAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA4OiBzcGFjZSA9ICcgICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDk6IHNwYWNlID0gJyAgICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDEwOiBzcGFjZSA9ICcgICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMTE6IHNwYWNlID0gJyAgICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMTI6IHNwYWNlID0gJyAgICAgICAgICAgICc7IGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dmFyIHNoaWZ0ID0gWydcXG4nXTsgLy8gYXJyYXkgb2Ygc2hpZnRzXHJcblx0Zm9yKHZhciBpeD0wO2l4PDEwMDtpeCsrKSB7XHJcblx0XHRzaGlmdC5wdXNoKHNoaWZ0W2l4XStzcGFjZSk7XHJcblx0fVxyXG5cdHJldHVybiBzaGlmdDtcclxufVxyXG5cclxuZnVuY3Rpb24gdmtiZWF1dGlmeSgpe1xyXG5cdHRoaXMuc3RlcCA9ICcgICAgJzsgLy8gNCBzcGFjZXNcclxuXHR0aGlzLnNoaWZ0ID0gY3JlYXRlU2hpZnRBcnIodGhpcy5zdGVwKTtcclxufTtcclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLnhtbCA9IGZ1bmN0aW9uKHRleHQsc3RlcCkge1xyXG5cclxuXHR2YXIgYXIgPSB0ZXh0LnJlcGxhY2UoLz5cXHN7MCx9PC9nLFwiPjxcIilcclxuXHRcdFx0XHQgLnJlcGxhY2UoLzwvZyxcIn46On48XCIpXHJcblx0XHRcdFx0IC5yZXBsYWNlKC9cXHMqeG1sbnNcXDovZyxcIn46On54bWxuczpcIilcclxuXHRcdFx0XHQgLnJlcGxhY2UoL1xccyp4bWxuc1xcPS9nLFwifjo6fnhtbG5zPVwiKVxyXG5cdFx0XHRcdCAuc3BsaXQoJ346On4nKSxcclxuXHRcdGxlbiA9IGFyLmxlbmd0aCxcclxuXHRcdGluQ29tbWVudCA9IGZhbHNlLFxyXG5cdFx0ZGVlcCA9IDAsXHJcblx0XHRzdHIgPSAnJyxcclxuXHRcdGl4ID0gMCxcclxuXHRcdHNoaWZ0ID0gc3RlcCA/IGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIDogdGhpcy5zaGlmdDtcclxuXHJcblx0XHRmb3IoaXg9MDtpeDxsZW47aXgrKykge1xyXG5cdFx0XHQvLyBzdGFydCBjb21tZW50IG9yIDwhW0NEQVRBWy4uLl1dPiBvciA8IURPQ1RZUEUgLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPCEvKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0XHRpbkNvbW1lbnQgPSB0cnVlO1xyXG5cdFx0XHRcdC8vIGVuZCBjb21tZW50ICBvciA8IVtDREFUQVsuLi5dXT4gLy9cclxuXHRcdFx0XHRpZihhcltpeF0uc2VhcmNoKC8tLT4vKSA+IC0xIHx8IGFyW2l4XS5zZWFyY2goL1xcXT4vKSA+IC0xIHx8IGFyW2l4XS5zZWFyY2goLyFET0NUWVBFLykgPiAtMSApIHtcclxuXHRcdFx0XHRcdGluQ29tbWVudCA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIGVuZCBjb21tZW50ICBvciA8IVtDREFUQVsuLi5dXT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvLS0+LykgPiAtMSB8fCBhcltpeF0uc2VhcmNoKC9cXF0+LykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdFx0aW5Db21tZW50ID0gZmFsc2U7XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8ZWxtPjwvZWxtPiAvL1xyXG5cdFx0XHRpZiggL148XFx3Ly5leGVjKGFyW2l4LTFdKSAmJiAvXjxcXC9cXHcvLmV4ZWMoYXJbaXhdKSAmJlxyXG5cdFx0XHRcdC9ePFtcXHc6XFwtXFwuXFwsXSsvLmV4ZWMoYXJbaXgtMV0pID09IC9ePFxcL1tcXHc6XFwtXFwuXFwsXSsvLmV4ZWMoYXJbaXhdKVswXS5yZXBsYWNlKCcvJywnJykpIHtcclxuXHRcdFx0XHRzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHRcdGlmKCFpbkNvbW1lbnQpIGRlZXAtLTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdCAvLyA8ZWxtPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88XFx3LykgPiAtMSAmJiBhcltpeF0uc2VhcmNoKC88XFwvLykgPT0gLTEgJiYgYXJbaXhdLnNlYXJjaCgvXFwvPi8pID09IC0xICkge1xyXG5cdFx0XHRcdHN0ciA9ICFpbkNvbW1lbnQgPyBzdHIgKz0gc2hpZnRbZGVlcCsrXSthcltpeF0gOiBzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0IC8vIDxlbG0+Li4uPC9lbG0+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXHcvKSA+IC0xICYmIGFyW2l4XS5zZWFyY2goLzxcXC8vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF0gOiBzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gPC9lbG0+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXC8vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFstLWRlZXBdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8ZWxtLz4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvXFwvPi8pID4gLTEgKSB7XHJcblx0XHRcdFx0c3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF0gOiBzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gPD8geG1sIC4uLiA/PiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88XFw/LykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyB4bWxucyAvL1xyXG5cdFx0XHRpZiggYXJbaXhdLnNlYXJjaCgveG1sbnNcXDovKSA+IC0xICB8fCBhcltpeF0uc2VhcmNoKC94bWxuc1xcPS8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdHJldHVybiAgKHN0clswXSA9PSAnXFxuJykgPyBzdHIuc2xpY2UoMSkgOiBzdHI7XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmpzb24gPSBmdW5jdGlvbih0ZXh0LHN0ZXApIHtcclxuXHJcblx0dmFyIHN0ZXAgPSBzdGVwID8gc3RlcCA6IHRoaXMuc3RlcDtcclxuXHJcblx0aWYgKHR5cGVvZiBKU09OID09PSAndW5kZWZpbmVkJyApIHJldHVybiB0ZXh0O1xyXG5cclxuXHRpZiAoIHR5cGVvZiB0ZXh0ID09PSBcInN0cmluZ1wiICkgcmV0dXJuIEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UodGV4dCksIG51bGwsIHN0ZXApO1xyXG5cdGlmICggdHlwZW9mIHRleHQgPT09IFwib2JqZWN0XCIgKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGV4dCwgbnVsbCwgc3RlcCk7XHJcblxyXG5cdHJldHVybiB0ZXh0OyAvLyB0ZXh0IGlzIG5vdCBzdHJpbmcgbm9yIG9iamVjdFxyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5jc3MgPSBmdW5jdGlvbih0ZXh0LCBzdGVwKSB7XHJcblxyXG5cdHZhciBhciA9IHRleHQucmVwbGFjZSgvXFxzezEsfS9nLCcgJylcclxuXHRcdFx0XHQucmVwbGFjZSgvXFx7L2csXCJ7fjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXH0vZyxcIn46On59fjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXDsvZyxcIjt+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcL1xcKi9nLFwifjo6fi8qXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcKlxcLy9nLFwiKi9+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL346On5cXHN7MCx9fjo6fi9nLFwifjo6flwiKVxyXG5cdFx0XHRcdC5zcGxpdCgnfjo6ficpLFxyXG5cdFx0bGVuID0gYXIubGVuZ3RoLFxyXG5cdFx0ZGVlcCA9IDAsXHJcblx0XHRzdHIgPSAnJyxcclxuXHRcdGl4ID0gMCxcclxuXHRcdHNoaWZ0ID0gc3RlcCA/IGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIDogdGhpcy5zaGlmdDtcclxuXHJcblx0XHRmb3IoaXg9MDtpeDxsZW47aXgrKykge1xyXG5cclxuXHRcdFx0aWYoIC9cXHsvLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcCsrXSthcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHRpZiggL1xcfS8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFstLWRlZXBdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdGlmKCAvXFwqXFxcXC8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxuezEsfS8sJycpO1xyXG59XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmZ1bmN0aW9uIGlzU3VicXVlcnkoc3RyLCBwYXJlbnRoZXNpc0xldmVsKSB7XHJcblx0cmV0dXJuICBwYXJlbnRoZXNpc0xldmVsIC0gKHN0ci5yZXBsYWNlKC9cXCgvZywnJykubGVuZ3RoIC0gc3RyLnJlcGxhY2UoL1xcKS9nLCcnKS5sZW5ndGggKVxyXG59XHJcblxyXG5mdW5jdGlvbiBzcGxpdF9zcWwoc3RyLCB0YWIpIHtcclxuXHJcblx0cmV0dXJuIHN0ci5yZXBsYWNlKC9cXHN7MSx9L2csXCIgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQU5EIC9pZyxcIn46On5cIit0YWIrdGFiK1wiQU5EIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQkVUV0VFTiAvaWcsXCJ+Ojp+XCIrdGFiK1wiQkVUV0VFTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIENBU0UgL2lnLFwifjo6flwiK3RhYitcIkNBU0UgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBFTFNFIC9pZyxcIn46On5cIit0YWIrXCJFTFNFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gRU5EIC9pZyxcIn46On5cIit0YWIrXCJFTkQgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBGUk9NIC9pZyxcIn46On5GUk9NIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gR1JPVVBcXHN7MSx9QlkvaWcsXCJ+Ojp+R1JPVVAgQlkgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBIQVZJTkcgL2lnLFwifjo6fkhBVklORyBcIilcclxuXHRcdFx0XHQvLy5yZXBsYWNlKC8gU0VUIC9pZyxcIiBTRVR+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBJTiAvaWcsXCIgSU4gXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gSk9JTiAvaWcsXCJ+Ojp+Sk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIENST1NTfjo6fnsxLH1KT0lOIC9pZyxcIn46On5DUk9TUyBKT0lOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gSU5ORVJ+Ojp+ezEsfUpPSU4gL2lnLFwifjo6fklOTkVSIEpPSU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBMRUZUfjo6fnsxLH1KT0lOIC9pZyxcIn46On5MRUZUIEpPSU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBSSUdIVH46On57MSx9Sk9JTiAvaWcsXCJ+Ojp+UklHSFQgSk9JTiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBPTiAvaWcsXCJ+Ojp+XCIrdGFiK1wiT04gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBPUiAvaWcsXCJ+Ojp+XCIrdGFiK3RhYitcIk9SIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gT1JERVJcXHN7MSx9QlkvaWcsXCJ+Ojp+T1JERVIgQlkgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBPVkVSIC9pZyxcIn46On5cIit0YWIrXCJPVkVSIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvXFwoXFxzezAsfVNFTEVDVCAvaWcsXCJ+Ojp+KFNFTEVDVCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFwpXFxzezAsfVNFTEVDVCAvaWcsXCIpfjo6flNFTEVDVCBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBUSEVOIC9pZyxcIiBUSEVOfjo6flwiK3RhYitcIlwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gVU5JT04gL2lnLFwifjo6flVOSU9Ofjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gVVNJTkcgL2lnLFwifjo6flVTSU5HIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gV0hFTiAvaWcsXCJ+Ojp+XCIrdGFiK1wiV0hFTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFdIRVJFIC9pZyxcIn46On5XSEVSRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFdJVEggL2lnLFwifjo6fldJVEggXCIpXHJcblxyXG5cdFx0XHRcdC8vLnJlcGxhY2UoL1xcLFxcc3swLH1cXCgvaWcsXCIsfjo6figgXCIpXHJcblx0XHRcdFx0Ly8ucmVwbGFjZSgvXFwsL2lnLFwiLH46On5cIit0YWIrdGFiK1wiXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQUxMIC9pZyxcIiBBTEwgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBUyAvaWcsXCIgQVMgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBU0MgL2lnLFwiIEFTQyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIERFU0MgL2lnLFwiIERFU0MgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBESVNUSU5DVCAvaWcsXCIgRElTVElOQ1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBFWElTVFMgL2lnLFwiIEVYSVNUUyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE5PVCAvaWcsXCIgTk9UIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTlVMTCAvaWcsXCIgTlVMTCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIExJS0UgL2lnLFwiIExJS0UgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcc3swLH1TRUxFQ1QgL2lnLFwiU0VMRUNUIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXHN7MCx9VVBEQVRFIC9pZyxcIlVQREFURSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFNFVCAvaWcsXCIgU0VUIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvfjo6fnsxLH0vZyxcIn46On5cIilcclxuXHRcdFx0XHQuc3BsaXQoJ346On4nKTtcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuc3FsID0gZnVuY3Rpb24odGV4dCxzdGVwKSB7XHJcblxyXG5cdHZhciBhcl9ieV9xdW90ZSA9IHRleHQucmVwbGFjZSgvXFxzezEsfS9nLFwiIFwiKVxyXG5cdFx0XHRcdFx0XHRcdC5yZXBsYWNlKC9cXCcvaWcsXCJ+Ojp+XFwnXCIpXHJcblx0XHRcdFx0XHRcdFx0LnNwbGl0KCd+Ojp+JyksXHJcblx0XHRsZW4gPSBhcl9ieV9xdW90ZS5sZW5ndGgsXHJcblx0XHRhciA9IFtdLFxyXG5cdFx0ZGVlcCA9IDAsXHJcblx0XHR0YWIgPSB0aGlzLnN0ZXAsLy8rdGhpcy5zdGVwLFxyXG5cdFx0aW5Db21tZW50ID0gdHJ1ZSxcclxuXHRcdGluUXVvdGUgPSBmYWxzZSxcclxuXHRcdHBhcmVudGhlc2lzTGV2ZWwgPSAwLFxyXG5cdFx0c3RyID0gJycsXHJcblx0XHRpeCA9IDAsXHJcblx0XHRzaGlmdCA9IHN0ZXAgPyBjcmVhdGVTaGlmdEFycihzdGVwKSA6IHRoaXMuc2hpZnQ7O1xyXG5cclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblx0XHRcdGlmKGl4JTIpIHtcclxuXHRcdFx0XHRhciA9IGFyLmNvbmNhdChhcl9ieV9xdW90ZVtpeF0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGFyID0gYXIuY29uY2F0KHNwbGl0X3NxbChhcl9ieV9xdW90ZVtpeF0sIHRhYikgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGxlbiA9IGFyLmxlbmd0aDtcclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblxyXG5cdFx0XHRwYXJlbnRoZXNpc0xldmVsID0gaXNTdWJxdWVyeShhcltpeF0sIHBhcmVudGhlc2lzTGV2ZWwpO1xyXG5cclxuXHRcdFx0aWYoIC9cXHN7MCx9XFxzezAsfVNFTEVDVFxcc3swLH0vLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRhcltpeF0gPSBhcltpeF0ucmVwbGFjZSgvXFwsL2csXCIsXFxuXCIrdGFiK3RhYitcIlwiKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiggL1xcc3swLH1cXHN7MCx9U0VUXFxzezAsfS8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdGFyW2l4XSA9IGFyW2l4XS5yZXBsYWNlKC9cXCwvZyxcIixcXG5cIit0YWIrdGFiK1wiXCIpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCAvXFxzezAsfVxcKFxcc3swLH1TRUxFQ1RcXHN7MCx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0ZGVlcCsrO1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHRpZiggL1xcJy8uZXhlYyhhcltpeF0pICkgIHtcclxuXHRcdFx0XHRpZihwYXJlbnRoZXNpc0xldmVsPDEgJiYgZGVlcCkge1xyXG5cdFx0XHRcdFx0ZGVlcC0tO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHRcdGlmKHBhcmVudGhlc2lzTGV2ZWw8MSAmJiBkZWVwKSB7XHJcblx0XHRcdFx0XHRkZWVwLS07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBqdW5rID0gMDtcclxuXHRcdH1cclxuXHJcblx0XHRzdHIgPSBzdHIucmVwbGFjZSgvXlxcbnsxLH0vLCcnKS5yZXBsYWNlKC9cXG57MSx9L2csXCJcXG5cIik7XHJcblx0XHRyZXR1cm4gc3RyO1xyXG59XHJcblxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUueG1sbWluID0gZnVuY3Rpb24odGV4dCwgcHJlc2VydmVDb21tZW50cykge1xyXG5cclxuXHR2YXIgc3RyID0gcHJlc2VydmVDb21tZW50cyA/IHRleHRcclxuXHRcdFx0XHRcdFx0XHQgICA6IHRleHQucmVwbGFjZSgvXFw8IVsgXFxyXFxuXFx0XSooLS0oW15cXC1dfFtcXHJcXG5dfC1bXlxcLV0pKi0tWyBcXHJcXG5cXHRdKilcXD4vZyxcIlwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQgLnJlcGxhY2UoL1sgXFxyXFxuXFx0XXsxLH14bWxucy9nLCAnIHhtbG5zJyk7XHJcblx0cmV0dXJuICBzdHIucmVwbGFjZSgvPlxcc3swLH08L2csXCI+PFwiKTtcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuanNvbm1pbiA9IGZ1bmN0aW9uKHRleHQpIHtcclxuXHJcblx0aWYgKHR5cGVvZiBKU09OID09PSAndW5kZWZpbmVkJyApIHJldHVybiB0ZXh0O1xyXG5cclxuXHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZSh0ZXh0KSwgbnVsbCwgMCk7XHJcblxyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5jc3NtaW4gPSBmdW5jdGlvbih0ZXh0LCBwcmVzZXJ2ZUNvbW1lbnRzKSB7XHJcblxyXG5cdHZhciBzdHIgPSBwcmVzZXJ2ZUNvbW1lbnRzID8gdGV4dFxyXG5cdFx0XHRcdFx0XHRcdCAgIDogdGV4dC5yZXBsYWNlKC9cXC9cXCooW14qXXxbXFxyXFxuXXwoXFwqKyhbXiovXXxbXFxyXFxuXSkpKSpcXCorXFwvL2csXCJcIikgO1xyXG5cclxuXHRyZXR1cm4gc3RyLnJlcGxhY2UoL1xcc3sxLH0vZywnICcpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xce1xcc3sxLH0vZyxcIntcIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFx9XFxzezEsfS9nLFwifVwiKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXDtcXHN7MSx9L2csXCI7XCIpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xcL1xcKlxcc3sxLH0vZyxcIi8qXCIpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xcKlxcL1xcc3sxLH0vZyxcIiovXCIpO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5zcWxtaW4gPSBmdW5jdGlvbih0ZXh0KSB7XHJcblx0cmV0dXJuIHRleHQucmVwbGFjZSgvXFxzezEsfS9nLFwiIFwiKS5yZXBsYWNlKC9cXHN7MSx9XFwoLyxcIihcIikucmVwbGFjZSgvXFxzezEsfVxcKS8sXCIpXCIpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyB2a2JlYXV0aWZ5KCk7XHJcbiIsImV4cG9ydCBjb25zdCB1cGxvYWRBcmVhSFRNTCA9IFxuICBgPGRpdiBpZD1cImRvY3VtZW50LXVwbG9hZC1jb250YWluZXJcIj5cblxuICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9jb250YWluZXJcIj5cbiAgICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9hcmVhXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9tZXNzYWdlXCI+VXBsb2FkIEZpbGVzPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBcbiAgICA8ZGl2IGlkPVwidXBsb2FkaW5nX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZpbGVfY29udGFpbmVyXCIgaWQ9XCJ1bnBhaXJlZF9jb250YWluZXJcIj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS1jb250YWluZXItdGl0bGVcIj5VbnBhaXJlZCBEb2N1bWVudHM8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZmlsZXNfY29udGFpbmVyXCI+XG5cbiAgICAgICAgICA8ZGl2IGlkPVwibWVpX2NvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfaGVhZGluZ1wiPk1FSTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfc29ydF9uYW1lXCI+XG4gICAgICAgICAgICAgIDxkaXY+TmFtZTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic29ydF9uYW1lIGFycm93X2J0blwiPiYjeDIyQzA7PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2xpc3RcIiBpZD1cIm1laV9saXN0XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1bnBhaXJlZF9pdGVtX2NvbnRhaW5lclwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6ICNEQUVBRjE7IGJvcmRlci1yYWRpdXM6IDVweDtcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJ1bnBhaXJlZF9pdGVtX2xhYmVsXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgY2xhc3M9XCJ1bnBhaXJlZF9pdGVtX3JhZGlvXCIgbmFtZT1cIm1laV9yYWRpb19ncm91cFwiIHZhbHVlPVwiY3JlYXRlX21laVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cIm1hcmdpbi10b3A6IGF1dG87bWFyZ2luLWxlZnQ6IDNweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICBDcmVhdGUgbmV3IE1FSSBmaWxlXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBpZD1cImltYWdlX2NvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfaGVhZGluZ1wiPkltYWdlczwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfc29ydF9uYW1lXCI+XG4gICAgICAgICAgICAgIDxkaXY+TmFtZTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic29ydF9uYW1lIGFycm93X2J0blwiPiYjeDIyQzA7PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2xpc3RcIiBpZD1cImltYWdlX2xpc3RcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZ2VuZXJhdGUtcGFpci1idXR0b24tY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbl9idXR0b25cIiBpZD1cIm1ha2VfcGFpclwiPk1ha2UgUGFpcjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9jb250YWluZXJcIiBpZD1cInBhaXJlZF9jb250YWluZXJcIj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS1jb250YWluZXItdGl0bGVcIj5QYWlyZWQgRm9saW9zPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX3NvcnRfbmFtZVwiPlxuICAgICAgICAgIDxkaXY+TmFtZTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzb3J0X25hbWUgYXJyb3dfYnRuXCI+JiN4MjJDMDs8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb2xpb19saXN0XCIgaWQ9XCJwYWlyZWRfbGlzdFwiPjwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJ1cGxvYWRfYnV0dG9uX2NvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb25fYnV0dG9uXCIgaWQ9XCJ1cGxvYWRfYnV0dG9uXCI+XG4gICAgICAgICAgICBVcGxvYWRcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJ1cGxvYWRpbmdfc3Bpbm5lclwiPuKGuzwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS1cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2NvbnRhaW5lclwiIGlkPVwibWFudXNjcmlwdHNfY29udGFpbmVyXCI+XG4gICAgICAgIDxoMiBjbGFzcz1cImZpbGVfaGVhZGluZ1wiPk1hbnVzY3JpcHRzPC9oMj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvbGlvX2xpc3RcIiBpZD1cIm1hbnVzY3JpcHRfbGlzdFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICAtLT5cblxuICAgIDwvZGl2PlxuICA8L2Rpdj5gO1xuXG5leHBvcnQgY29uc3QgbmV3Rm9sZGVySFRNTCA9IGBcbiAgICA8ZGl2IGlkPVwicmVuYW1lX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBpZD1cImRhc2hib2FyZF9pbnB1dF9jb250YWluZXJcIj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBpZD1cInJlbmFtZV9idXR0b25zX2NvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGlkPVwiY2FuY2VsX2Rhc2hib2FyZFwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwiY29uZmlybV9kYXNoYm9hcmRcIj5DcmVhdGU8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuXG5leHBvcnQgY29uc3QgcmVuYW1lSFRNTCA9IGBcbiAgICA8ZGl2IGlkPVwicmVuYW1lX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBpZD1cImRhc2hib2FyZF9pbnB1dF9jb250YWluZXJcIj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBpZD1cInJlbmFtZV9idXR0b25zX2NvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGlkPVwiY2FuY2VsX2Rhc2hib2FyZFwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwiY29uZmlybV9kYXNoYm9hcmRcIj5Db25maXJtPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDsiLCIvKiogQG1vZHVsZSBXYXJuaW5ncyAqL1xuXG4vKipcbiAqIFdhcm4gd2hlbiBncm91cGVkIG5ldW1lIGNvbXBvbmVudHMgZm9ybSBhbiB1bnJlY29nbml6ZWQgbmV1bWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBncm91cGluZ05vdFJlY29nbml6ZWQgKCk6IHZvaWQge1xuICBpZiAoISh3aW5kb3cuY29uZmlybSgnTmVvbiBkb2VzIG5vdCByZWNvZ25pemUgdGhpcyBuZXVtZSBncm91cGluZy4gV291bGQgeW91IGxpa2UgdG8gY3JlYXRlIGEgY29tcG91bmQgbmV1bWU/JykpKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZG8nKS5jbGljaygpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTcGxpdEFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IHNlbGVjdEFsbCB9IGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuLi91dGlscy9EcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBnZXRTVkdSZWxDb29yZHMgfSBmcm9tICcuLi91dGlscy9Db29yZGluYXRlcyc7XG5cbi8qKiBIYW5kbGUgc3BsaXR0aW5nIGEgc3RhZmYgaW50byB0d28gc3RhdmVzIHRocm91Z2ggVmVyb3Zpby4gKi9cbmV4cG9ydCBjbGFzcyBTcGxpdFN0YWZmSGFuZGxlciB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgcmVhZG9ubHkgc3RhZmY6IFNWR0dFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gc3RhZmYgLSBUaGUgc3RhZmYgdGhhdCB3aWxsIGJlIG1vZGlmaWVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgc3RhZmY6IFNWR0dFbGVtZW50KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuc3RhZmYgPSBzdGFmZjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJzdCBwYXJ0IG9mIHRoZSBzcGxpdCBhY3Rpb24uXG4gICAqL1xuICBzdGFydFNwbGl0ICgpOiB2b2lkIHtcbiAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuXG4gICAgLy8gSGFuZGxlIGtleXByZXNzZXNcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcblxuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xpY2sgV2hlcmUgdG8gU3BsaXQnKTtcbiAgfVxuXG4gIHNwbGl0RGlzYWJsZSAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICB9XG5cbiAgLyoqIEhhbmRsZSBpbnB1dCB0byBzcGxpdCBhIHN0YWZmLiAqL1xuICBoYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICAvLyBGaW5kIHN0YWZmIHBvaW50IGNvcnJlc3BvbmRzIHRvIGlmIG9uZSBleGlzdHNcbiAgICAvLyBUT0RPXG4gICAgY29uc3QgaWQgPSB0aGlzLnN0YWZmLmlkO1xuICAgIGNvbnN0IGN1cnNvciA9IGdldFNWR1JlbENvb3JkcyhldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xuICAgIGNvbnN0IGVkaXRvckFjdGlvbjogU3BsaXRBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdzcGxpdCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICB4OiBjdXJzb3IueFxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTcGxpdCBhY3Rpb24gc3VjY2Vzc2Z1bCcsICdzdWNjZXNzJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcih0aGlzLm5lb25WaWV3LCAnLnN0YWZmJyk7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgc2VsZWN0QWxsKFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpZH1gKV0sIHRoaXMubmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcblxuICAgICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgICAgIGlmIChtb3JlRWRpdCkge1xuICAgICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdHMgc3BsaXQgb24gRXNjYXBlIHByZXNzLCBkaXNhYmxlcyBvbiBTaGlmdC4gKi9cbiAga2V5ZG93bkxpc3RlbmVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0IHNwbGl0IGlmIHVzZXIgY2xpY2tzIG9mZiBvZiBhY3RpdmUgcGFnZS4gKi9cbiAgY2xpY2thd2F5SGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5hY3RpdmUtcGFnZScpID09PSBudWxsKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogQ2FsbGVkIHRvIHJlYXBwbHkgdGhlIGV2ZW50IGxpc3RlbmVyIGlmIG5lY2Vzc2FyeS4gKi9cbiAgcmVzZXRIYW5kbGVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcbn1cbiIsImltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IFNwbGl0TmV1bWVBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKiBIYW5kbGUgc3BsaXR0aW5nIGEgbmV1bWUgaW50byB0d28gbmV1bWVzIHRocm91Z2ggVmVyb3Zpby4gKi9cbmV4cG9ydCBjbGFzcyBTcGxpdE5ldW1lSGFuZGxlciB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgcmVhZG9ubHkgbmV1bWU6IFNWR0dFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gbmV1bWUgLSBUaGUgbmV1bWUgdGhhdCB3aWxsIGJlIG1vZGlmaWVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgbmV1bWU6IFNWR0dFbGVtZW50KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMubmV1bWUgPSBuZXVtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJzdCBwYXJ0IG9mIHRoZSBzcGxpdCBhY3Rpb24uXG4gICAqL1xuICBzdGFydFNwbGl0ICgpOiB2b2lkIHtcbiAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuXG4gICAgLy8gSGFuZGxlIGtleXByZXNzZXNcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcblxuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xpY2sgVGhlIEJlZ2lubmluZyBvZiBUaGUgU2Vjb25kIE5ldW1lJyk7XG4gIH1cblxuICBzcGxpdERpc2FibGUgKCk6IHZvaWQge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIC8qKiBIYW5kbGUgaW5wdXQgdG8gc3BsaXQgYSBuZXVtZS4gKi9cbiAgaGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgY29uc3QgaWQgPSB0aGlzLm5ldW1lLmlkO1xuXG4gICAgLy8gdW5zZWxlY3QoKTtcbiAgICBcbiAgICBjb25zdCBuYyA9IChldnQudGFyZ2V0IGFzIFNWR0dFbGVtZW50KS5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IG5jSWQgPSBuYy5pZDtcblxuICAgIGNvbnN0IGVkaXRvckFjdGlvbjogU3BsaXROZXVtZUFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ3NwbGl0TmV1bWUnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgbmNJZDogbmNJZFxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTcGxpdCBhY3Rpb24gc3VjY2Vzc2Z1bCcsICdzdWNjZXNzJyk7XG4gICAgICB9IFxuICAgICAgZWxzZSB7XG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTcGxpdCBhY3Rpb24gZmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgICAvLyB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAvLyBjb25zdCBkcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcih0aGlzLm5lb25WaWV3LCAnLm5ldW1lJyk7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgLy8gc2VsZWN0QWxsKFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGlkKSBhcyBTVkdHRWxlbWVudF0sIHRoaXMubmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgIC8vIHRyeSB7XG4gICAgICAvLyAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5jbGFzc0xpc3QuYWRkKCdpcy1oaWRkZW4nKTtcbiAgICAgIC8vIH0gY2F0Y2ggKGUpIHt9XG4gICAgfSk7XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXRzIHNwbGl0IG9uIEVzY2FwZSBwcmVzcywgZGlzYWJsZXMgb24gU2hpZnQuICovXG4gIGtleWRvd25MaXN0ZW5lciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdCBzcGxpdCBpZiB1c2VyIGNsaWNrcyBvZmYgb2YgYWN0aXZlIHBhZ2UuICovXG4gIGNsaWNrYXdheUhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYWN0aXZlLXBhZ2UnKSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIENhbGxlZCB0byByZWFwcGx5IHRoZSBldmVudCBsaXN0ZW5lciBpZiBuZWNlc3NhcnkuICovXG4gIHJlc2V0SGFuZGxlciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0eXBlb2YgZ2xvYmFsLnF1ZXVlTWljcm90YXNrID09PSAnZnVuY3Rpb24nO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBnbG9iYWwucXVldWVNaWNyb3Rhc2soZnVuYyk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy9iYXNlZCBvZmYgcnN2cCBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzXG4vL2xpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qcy9ibG9iL21hc3Rlci9MSUNFTlNFXG4vL2h0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanMvYmxvYi9tYXN0ZXIvbGliL3JzdnAvYXNhcC5qc1xuXG52YXIgTXV0YXRpb24gPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcblxuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gTXV0YXRpb247XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gIHZhciBjYWxsZWQgPSAwO1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb24oaGFuZGxlKTtcbiAgdmFyIGVsZW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGVsZW1lbnQuZGF0YSA9IChjYWxsZWQgPSArK2NhbGxlZCAlIDIpO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAvLyB3ZSBjYW4gb25seSBnZXQgaGVyZSBpbiBJRTEwXG4gICAgLy8gd2hpY2ggZG9lc24ndCBoYW5kZWwgcG9zdE1lc3NhZ2Ugd2VsbFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHlwZW9mIGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCc7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoZnVuYykge1xuICB2YXIgY2hhbm5lbCA9IG5ldyBnbG9iYWwuTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gJ2RvY3VtZW50JyBpbiBnbG9iYWwgJiYgJ29ucmVhZHlzdGF0ZWNoYW5nZScgaW4gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGhhbmRsZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXG4gICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICB2YXIgc2NyaXB0RWwgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaGFuZGxlKCk7XG5cbiAgICAgIHNjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICBzY3JpcHRFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdEVsKTtcbiAgICAgIHNjcmlwdEVsID0gbnVsbDtcbiAgICB9O1xuICAgIGdsb2JhbC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2NyaXB0RWwpO1xuXG4gICAgcmV0dXJuIGhhbmRsZTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uICh0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dCh0LCAwKTtcbiAgfTtcbn07IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHB1bnljb2RlID0gcmVxdWlyZSgncHVueWNvZGUnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbmV4cG9ydHMucGFyc2UgPSB1cmxQYXJzZTtcbmV4cG9ydHMucmVzb2x2ZSA9IHVybFJlc29sdmU7XG5leHBvcnRzLnJlc29sdmVPYmplY3QgPSB1cmxSZXNvbHZlT2JqZWN0O1xuZXhwb3J0cy5mb3JtYXQgPSB1cmxGb3JtYXQ7XG5cbmV4cG9ydHMuVXJsID0gVXJsO1xuXG5mdW5jdGlvbiBVcmwoKSB7XG4gIHRoaXMucHJvdG9jb2wgPSBudWxsO1xuICB0aGlzLnNsYXNoZXMgPSBudWxsO1xuICB0aGlzLmF1dGggPSBudWxsO1xuICB0aGlzLmhvc3QgPSBudWxsO1xuICB0aGlzLnBvcnQgPSBudWxsO1xuICB0aGlzLmhvc3RuYW1lID0gbnVsbDtcbiAgdGhpcy5oYXNoID0gbnVsbDtcbiAgdGhpcy5zZWFyY2ggPSBudWxsO1xuICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgdGhpcy5wYXRobmFtZSA9IG51bGw7XG4gIHRoaXMucGF0aCA9IG51bGw7XG4gIHRoaXMuaHJlZiA9IG51bGw7XG59XG5cbi8vIFJlZmVyZW5jZTogUkZDIDM5ODYsIFJGQyAxODA4LCBSRkMgMjM5NlxuXG4vLyBkZWZpbmUgdGhlc2UgaGVyZSBzbyBhdCBsZWFzdCB0aGV5IG9ubHkgaGF2ZSB0byBiZVxuLy8gY29tcGlsZWQgb25jZSBvbiB0aGUgZmlyc3QgbW9kdWxlIGxvYWQuXG52YXIgcHJvdG9jb2xQYXR0ZXJuID0gL14oW2EtejAtOS4rLV0rOikvaSxcbiAgICBwb3J0UGF0dGVybiA9IC86WzAtOV0qJC8sXG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGEgc2ltcGxlIHBhdGggVVJMXG4gICAgc2ltcGxlUGF0aFBhdHRlcm4gPSAvXihcXC9cXC8/KD8hXFwvKVteXFw/XFxzXSopKFxcP1teXFxzXSopPyQvLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgcmVzZXJ2ZWQgZm9yIGRlbGltaXRpbmcgVVJMcy5cbiAgICAvLyBXZSBhY3R1YWxseSBqdXN0IGF1dG8tZXNjYXBlIHRoZXNlLlxuICAgIGRlbGltcyA9IFsnPCcsICc+JywgJ1wiJywgJ2AnLCAnICcsICdcXHInLCAnXFxuJywgJ1xcdCddLFxuXG4gICAgLy8gUkZDIDIzOTY6IGNoYXJhY3RlcnMgbm90IGFsbG93ZWQgZm9yIHZhcmlvdXMgcmVhc29ucy5cbiAgICB1bndpc2UgPSBbJ3snLCAnfScsICd8JywgJ1xcXFwnLCAnXicsICdgJ10uY29uY2F0KGRlbGltcyksXG5cbiAgICAvLyBBbGxvd2VkIGJ5IFJGQ3MsIGJ1dCBjYXVzZSBvZiBYU1MgYXR0YWNrcy4gIEFsd2F5cyBlc2NhcGUgdGhlc2UuXG4gICAgYXV0b0VzY2FwZSA9IFsnXFwnJ10uY29uY2F0KHVud2lzZSksXG4gICAgLy8gQ2hhcmFjdGVycyB0aGF0IGFyZSBuZXZlciBldmVyIGFsbG93ZWQgaW4gYSBob3N0bmFtZS5cbiAgICAvLyBOb3RlIHRoYXQgYW55IGludmFsaWQgY2hhcnMgYXJlIGFsc28gaGFuZGxlZCwgYnV0IHRoZXNlXG4gICAgLy8gYXJlIHRoZSBvbmVzIHRoYXQgYXJlICpleHBlY3RlZCogdG8gYmUgc2Vlbiwgc28gd2UgZmFzdC1wYXRoXG4gICAgLy8gdGhlbS5cbiAgICBub25Ib3N0Q2hhcnMgPSBbJyUnLCAnLycsICc/JywgJzsnLCAnIyddLmNvbmNhdChhdXRvRXNjYXBlKSxcbiAgICBob3N0RW5kaW5nQ2hhcnMgPSBbJy8nLCAnPycsICcjJ10sXG4gICAgaG9zdG5hbWVNYXhMZW4gPSAyNTUsXG4gICAgaG9zdG5hbWVQYXJ0UGF0dGVybiA9IC9eWythLXowLTlBLVpfLV17MCw2M30kLyxcbiAgICBob3N0bmFtZVBhcnRTdGFydCA9IC9eKFsrYS16MC05QS1aXy1dezAsNjN9KSguKikkLyxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBjYW4gYWxsb3cgXCJ1bnNhZmVcIiBhbmQgXCJ1bndpc2VcIiBjaGFycy5cbiAgICB1bnNhZmVQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IG5ldmVyIGhhdmUgYSBob3N0bmFtZS5cbiAgICBob3N0bGVzc1Byb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgYWx3YXlzIGNvbnRhaW4gYSAvLyBiaXQuXG4gICAgc2xhc2hlZFByb3RvY29sID0ge1xuICAgICAgJ2h0dHAnOiB0cnVlLFxuICAgICAgJ2h0dHBzJzogdHJ1ZSxcbiAgICAgICdmdHAnOiB0cnVlLFxuICAgICAgJ2dvcGhlcic6IHRydWUsXG4gICAgICAnZmlsZSc6IHRydWUsXG4gICAgICAnaHR0cDonOiB0cnVlLFxuICAgICAgJ2h0dHBzOic6IHRydWUsXG4gICAgICAnZnRwOic6IHRydWUsXG4gICAgICAnZ29waGVyOic6IHRydWUsXG4gICAgICAnZmlsZTonOiB0cnVlXG4gICAgfSxcbiAgICBxdWVyeXN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5c3RyaW5nJyk7XG5cbmZ1bmN0aW9uIHVybFBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKHVybCAmJiB1dGlsLmlzT2JqZWN0KHVybCkgJiYgdXJsIGluc3RhbmNlb2YgVXJsKSByZXR1cm4gdXJsO1xuXG4gIHZhciB1ID0gbmV3IFVybDtcbiAgdS5wYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KTtcbiAgcmV0dXJuIHU7XG59XG5cblVybC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbih1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICghdXRpbC5pc1N0cmluZyh1cmwpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlBhcmFtZXRlciAndXJsJyBtdXN0IGJlIGEgc3RyaW5nLCBub3QgXCIgKyB0eXBlb2YgdXJsKTtcbiAgfVxuXG4gIC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuICAvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcbiAgLy8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcbiAgdmFyIHF1ZXJ5SW5kZXggPSB1cmwuaW5kZXhPZignPycpLFxuICAgICAgc3BsaXR0ZXIgPVxuICAgICAgICAgIChxdWVyeUluZGV4ICE9PSAtMSAmJiBxdWVyeUluZGV4IDwgdXJsLmluZGV4T2YoJyMnKSkgPyAnPycgOiAnIycsXG4gICAgICB1U3BsaXQgPSB1cmwuc3BsaXQoc3BsaXR0ZXIpLFxuICAgICAgc2xhc2hSZWdleCA9IC9cXFxcL2c7XG4gIHVTcGxpdFswXSA9IHVTcGxpdFswXS5yZXBsYWNlKHNsYXNoUmVnZXgsICcvJyk7XG4gIHVybCA9IHVTcGxpdC5qb2luKHNwbGl0dGVyKTtcblxuICB2YXIgcmVzdCA9IHVybDtcblxuICAvLyB0cmltIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAvLyBUaGlzIGlzIHRvIHN1cHBvcnQgcGFyc2Ugc3R1ZmYgbGlrZSBcIiAgaHR0cDovL2Zvby5jb20gIFxcblwiXG4gIHJlc3QgPSByZXN0LnRyaW0oKTtcblxuICBpZiAoIXNsYXNoZXNEZW5vdGVIb3N0ICYmIHVybC5zcGxpdCgnIycpLmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFRyeSBmYXN0IHBhdGggcmVnZXhwXG4gICAgdmFyIHNpbXBsZVBhdGggPSBzaW1wbGVQYXRoUGF0dGVybi5leGVjKHJlc3QpO1xuICAgIGlmIChzaW1wbGVQYXRoKSB7XG4gICAgICB0aGlzLnBhdGggPSByZXN0O1xuICAgICAgdGhpcy5ocmVmID0gcmVzdDtcbiAgICAgIHRoaXMucGF0aG5hbWUgPSBzaW1wbGVQYXRoWzFdO1xuICAgICAgaWYgKHNpbXBsZVBhdGhbMl0pIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBzaW1wbGVQYXRoWzJdO1xuICAgICAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnNlYXJjaC5zdWJzdHIoMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnNlYXJjaC5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0ge307XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvdG8gPSBwcm90b2NvbFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgaWYgKHByb3RvKSB7XG4gICAgcHJvdG8gPSBwcm90b1swXTtcbiAgICB2YXIgbG93ZXJQcm90byA9IHByb3RvLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IGxvd2VyUHJvdG87XG4gICAgcmVzdCA9IHJlc3Quc3Vic3RyKHByb3RvLmxlbmd0aCk7XG4gIH1cblxuICAvLyBmaWd1cmUgb3V0IGlmIGl0J3MgZ290IGEgaG9zdFxuICAvLyB1c2VyQHNlcnZlciBpcyAqYWx3YXlzKiBpbnRlcnByZXRlZCBhcyBhIGhvc3RuYW1lLCBhbmQgdXJsXG4gIC8vIHJlc29sdXRpb24gd2lsbCB0cmVhdCAvL2Zvby9iYXIgYXMgaG9zdD1mb28scGF0aD1iYXIgYmVjYXVzZSB0aGF0J3NcbiAgLy8gaG93IHRoZSBicm93c2VyIHJlc29sdmVzIHJlbGF0aXZlIFVSTHMuXG4gIGlmIChzbGFzaGVzRGVub3RlSG9zdCB8fCBwcm90byB8fCByZXN0Lm1hdGNoKC9eXFwvXFwvW15AXFwvXStAW15AXFwvXSsvKSkge1xuICAgIHZhciBzbGFzaGVzID0gcmVzdC5zdWJzdHIoMCwgMikgPT09ICcvLyc7XG4gICAgaWYgKHNsYXNoZXMgJiYgIShwcm90byAmJiBob3N0bGVzc1Byb3RvY29sW3Byb3RvXSkpIHtcbiAgICAgIHJlc3QgPSByZXN0LnN1YnN0cigyKTtcbiAgICAgIHRoaXMuc2xhc2hlcyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFob3N0bGVzc1Byb3RvY29sW3Byb3RvXSAmJlxuICAgICAgKHNsYXNoZXMgfHwgKHByb3RvICYmICFzbGFzaGVkUHJvdG9jb2xbcHJvdG9dKSkpIHtcblxuICAgIC8vIHRoZXJlJ3MgYSBob3N0bmFtZS5cbiAgICAvLyB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgLywgPywgOywgb3IgIyBlbmRzIHRoZSBob3N0LlxuICAgIC8vXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gQCBpbiB0aGUgaG9zdG5hbWUsIHRoZW4gbm9uLWhvc3QgY2hhcnMgKmFyZSogYWxsb3dlZFxuICAgIC8vIHRvIHRoZSBsZWZ0IG9mIHRoZSBsYXN0IEAgc2lnbiwgdW5sZXNzIHNvbWUgaG9zdC1lbmRpbmcgY2hhcmFjdGVyXG4gICAgLy8gY29tZXMgKmJlZm9yZSogdGhlIEAtc2lnbi5cbiAgICAvLyBVUkxzIGFyZSBvYm5veGlvdXMuXG4gICAgLy9cbiAgICAvLyBleDpcbiAgICAvLyBodHRwOi8vYUBiQGMvID0+IHVzZXI6YUBiIGhvc3Q6Y1xuICAgIC8vIGh0dHA6Ly9hQGI/QGMgPT4gdXNlcjphIGhvc3Q6YyBwYXRoOi8/QGNcblxuICAgIC8vIHYwLjEyIFRPRE8oaXNhYWNzKTogVGhpcyBpcyBub3QgcXVpdGUgaG93IENocm9tZSBkb2VzIHRoaW5ncy5cbiAgICAvLyBSZXZpZXcgb3VyIHRlc3QgY2FzZSBhZ2FpbnN0IGJyb3dzZXJzIG1vcmUgY29tcHJlaGVuc2l2ZWx5LlxuXG4gICAgLy8gZmluZCB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgYW55IGhvc3RFbmRpbmdDaGFyc1xuICAgIHZhciBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3N0RW5kaW5nQ2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2YoaG9zdEVuZGluZ0NoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG5cbiAgICAvLyBhdCB0aGlzIHBvaW50LCBlaXRoZXIgd2UgaGF2ZSBhbiBleHBsaWNpdCBwb2ludCB3aGVyZSB0aGVcbiAgICAvLyBhdXRoIHBvcnRpb24gY2Fubm90IGdvIHBhc3QsIG9yIHRoZSBsYXN0IEAgY2hhciBpcyB0aGUgZGVjaWRlci5cbiAgICB2YXIgYXV0aCwgYXRTaWduO1xuICAgIGlmIChob3N0RW5kID09PSAtMSkge1xuICAgICAgLy8gYXRTaWduIGNhbiBiZSBhbnl3aGVyZS5cbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gYXRTaWduIG11c3QgYmUgaW4gYXV0aCBwb3J0aW9uLlxuICAgICAgLy8gaHR0cDovL2FAYi9jQGQgPT4gaG9zdDpiIGF1dGg6YSBwYXRoOi9jQGRcbiAgICAgIGF0U2lnbiA9IHJlc3QubGFzdEluZGV4T2YoJ0AnLCBob3N0RW5kKTtcbiAgICB9XG5cbiAgICAvLyBOb3cgd2UgaGF2ZSBhIHBvcnRpb24gd2hpY2ggaXMgZGVmaW5pdGVseSB0aGUgYXV0aC5cbiAgICAvLyBQdWxsIHRoYXQgb2ZmLlxuICAgIGlmIChhdFNpZ24gIT09IC0xKSB7XG4gICAgICBhdXRoID0gcmVzdC5zbGljZSgwLCBhdFNpZ24pO1xuICAgICAgcmVzdCA9IHJlc3Quc2xpY2UoYXRTaWduICsgMSk7XG4gICAgICB0aGlzLmF1dGggPSBkZWNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgfVxuXG4gICAgLy8gdGhlIGhvc3QgaXMgdGhlIHJlbWFpbmluZyB0byB0aGUgbGVmdCBvZiB0aGUgZmlyc3Qgbm9uLWhvc3QgY2hhclxuICAgIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vbkhvc3RDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihub25Ib3N0Q2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cbiAgICAvLyBpZiB3ZSBzdGlsbCBoYXZlIG5vdCBoaXQgaXQsIHRoZW4gdGhlIGVudGlyZSB0aGluZyBpcyBhIGhvc3QuXG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKVxuICAgICAgaG9zdEVuZCA9IHJlc3QubGVuZ3RoO1xuXG4gICAgdGhpcy5ob3N0ID0gcmVzdC5zbGljZSgwLCBob3N0RW5kKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZShob3N0RW5kKTtcblxuICAgIC8vIHB1bGwgb3V0IHBvcnQuXG4gICAgdGhpcy5wYXJzZUhvc3QoKTtcblxuICAgIC8vIHdlJ3ZlIGluZGljYXRlZCB0aGF0IHRoZXJlIGlzIGEgaG9zdG5hbWUsXG4gICAgLy8gc28gZXZlbiBpZiBpdCdzIGVtcHR5LCBpdCBoYXMgdG8gYmUgcHJlc2VudC5cbiAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcblxuICAgIC8vIGlmIGhvc3RuYW1lIGJlZ2lucyB3aXRoIFsgYW5kIGVuZHMgd2l0aCBdXG4gICAgLy8gYXNzdW1lIHRoYXQgaXQncyBhbiBJUHY2IGFkZHJlc3MuXG4gICAgdmFyIGlwdjZIb3N0bmFtZSA9IHRoaXMuaG9zdG5hbWVbMF0gPT09ICdbJyAmJlxuICAgICAgICB0aGlzLmhvc3RuYW1lW3RoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMV0gPT09ICddJztcblxuICAgIC8vIHZhbGlkYXRlIGEgbGl0dGxlLlxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB2YXIgaG9zdHBhcnRzID0gdGhpcy5ob3N0bmFtZS5zcGxpdCgvXFwuLyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGhvc3RwYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBob3N0cGFydHNbaV07XG4gICAgICAgIGlmICghcGFydCkgY29udGludWU7XG4gICAgICAgIGlmICghcGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgIHZhciBuZXdwYXJ0ID0gJyc7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGsgPSBwYXJ0Lmxlbmd0aDsgaiA8IGs7IGorKykge1xuICAgICAgICAgICAgaWYgKHBhcnQuY2hhckNvZGVBdChqKSA+IDEyNykge1xuICAgICAgICAgICAgICAvLyB3ZSByZXBsYWNlIG5vbi1BU0NJSSBjaGFyIHdpdGggYSB0ZW1wb3JhcnkgcGxhY2Vob2xkZXJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzIHRvIG1ha2Ugc3VyZSBzaXplIG9mIGhvc3RuYW1lIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBicm9rZW4gYnkgcmVwbGFjaW5nIG5vbi1BU0NJSSBieSBub3RoaW5nXG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gJ3gnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3cGFydCArPSBwYXJ0W2pdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyB3ZSB0ZXN0IGFnYWluIHdpdGggQVNDSUkgY2hhciBvbmx5XG4gICAgICAgICAgaWYgKCFuZXdwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXJ0cyA9IGhvc3RwYXJ0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgIHZhciBub3RIb3N0ID0gaG9zdHBhcnRzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgICAgIHZhciBiaXQgPSBwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgICAgdmFsaWRQYXJ0cy5wdXNoKGJpdFsxXSk7XG4gICAgICAgICAgICAgIG5vdEhvc3QudW5zaGlmdChiaXRbMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vdEhvc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlc3QgPSAnLycgKyBub3RIb3N0LmpvaW4oJy4nKSArIHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhvc3RuYW1lID0gdmFsaWRQYXJ0cy5qb2luKCcuJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5ob3N0bmFtZS5sZW5ndGggPiBob3N0bmFtZU1heExlbikge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBob3N0bmFtZXMgYXJlIGFsd2F5cyBsb3dlciBjYXNlLlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgLy8gSUROQSBTdXBwb3J0OiBSZXR1cm5zIGEgcHVueWNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIFwiZG9tYWluXCIuXG4gICAgICAvLyBJdCBvbmx5IGNvbnZlcnRzIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB0aGF0XG4gICAgICAvLyBoYXZlIG5vbi1BU0NJSSBjaGFyYWN0ZXJzLCBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmXG4gICAgICAvLyB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQgYWxyZWFkeSBpcyBBU0NJSS1vbmx5LlxuICAgICAgdGhpcy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5ob3N0bmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHAgPSB0aGlzLnBvcnQgPyAnOicgKyB0aGlzLnBvcnQgOiAnJztcbiAgICB2YXIgaCA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG4gICAgdGhpcy5ob3N0ID0gaCArIHA7XG4gICAgdGhpcy5ocmVmICs9IHRoaXMuaG9zdDtcblxuICAgIC8vIHN0cmlwIFsgYW5kIF0gZnJvbSB0aGUgaG9zdG5hbWVcbiAgICAvLyB0aGUgaG9zdCBmaWVsZCBzdGlsbCByZXRhaW5zIHRoZW0sIHRob3VnaFxuICAgIGlmIChpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnN1YnN0cigxLCB0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgaWYgKHJlc3RbMF0gIT09ICcvJykge1xuICAgICAgICByZXN0ID0gJy8nICsgcmVzdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub3cgcmVzdCBpcyBzZXQgdG8gdGhlIHBvc3QtaG9zdCBzdHVmZi5cbiAgLy8gY2hvcCBvZmYgYW55IGRlbGltIGNoYXJzLlxuICBpZiAoIXVuc2FmZVByb3RvY29sW2xvd2VyUHJvdG9dKSB7XG5cbiAgICAvLyBGaXJzdCwgbWFrZSAxMDAlIHN1cmUgdGhhdCBhbnkgXCJhdXRvRXNjYXBlXCIgY2hhcnMgZ2V0XG4gICAgLy8gZXNjYXBlZCwgZXZlbiBpZiBlbmNvZGVVUklDb21wb25lbnQgZG9lc24ndCB0aGluayB0aGV5XG4gICAgLy8gbmVlZCB0byBiZS5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF1dG9Fc2NhcGUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYWUgPSBhdXRvRXNjYXBlW2ldO1xuICAgICAgaWYgKHJlc3QuaW5kZXhPZihhZSkgPT09IC0xKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHZhciBlc2MgPSBlbmNvZGVVUklDb21wb25lbnQoYWUpO1xuICAgICAgaWYgKGVzYyA9PT0gYWUpIHtcbiAgICAgICAgZXNjID0gZXNjYXBlKGFlKTtcbiAgICAgIH1cbiAgICAgIHJlc3QgPSByZXN0LnNwbGl0KGFlKS5qb2luKGVzYyk7XG4gICAgfVxuICB9XG5cblxuICAvLyBjaG9wIG9mZiBmcm9tIHRoZSB0YWlsIGZpcnN0LlxuICB2YXIgaGFzaCA9IHJlc3QuaW5kZXhPZignIycpO1xuICBpZiAoaGFzaCAhPT0gLTEpIHtcbiAgICAvLyBnb3QgYSBmcmFnbWVudCBzdHJpbmcuXG4gICAgdGhpcy5oYXNoID0gcmVzdC5zdWJzdHIoaGFzaCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgaGFzaCk7XG4gIH1cbiAgdmFyIHFtID0gcmVzdC5pbmRleE9mKCc/Jyk7XG4gIGlmIChxbSAhPT0gLTEpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHJlc3Quc3Vic3RyKHFtKTtcbiAgICB0aGlzLnF1ZXJ5ID0gcmVzdC5zdWJzdHIocW0gKyAxKTtcbiAgICBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMucXVlcnkpO1xuICAgIH1cbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBxbSk7XG4gIH0gZWxzZSBpZiAocGFyc2VRdWVyeVN0cmluZykge1xuICAgIC8vIG5vIHF1ZXJ5IHN0cmluZywgYnV0IHBhcnNlUXVlcnlTdHJpbmcgc3RpbGwgcmVxdWVzdGVkXG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICB0aGlzLnF1ZXJ5ID0ge307XG4gIH1cbiAgaWYgKHJlc3QpIHRoaXMucGF0aG5hbWUgPSByZXN0O1xuICBpZiAoc2xhc2hlZFByb3RvY29sW2xvd2VyUHJvdG9dICYmXG4gICAgICB0aGlzLmhvc3RuYW1lICYmICF0aGlzLnBhdGhuYW1lKSB7XG4gICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgaWYgKHRoaXMucGF0aG5hbWUgfHwgdGhpcy5zZWFyY2gpIHtcbiAgICB2YXIgcCA9IHRoaXMucGF0aG5hbWUgfHwgJyc7XG4gICAgdmFyIHMgPSB0aGlzLnNlYXJjaCB8fCAnJztcbiAgICB0aGlzLnBhdGggPSBwICsgcztcbiAgfVxuXG4gIC8vIGZpbmFsbHksIHJlY29uc3RydWN0IHRoZSBocmVmIGJhc2VkIG9uIHdoYXQgaGFzIGJlZW4gdmFsaWRhdGVkLlxuICB0aGlzLmhyZWYgPSB0aGlzLmZvcm1hdCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGZvcm1hdCBhIHBhcnNlZCBvYmplY3QgaW50byBhIHVybCBzdHJpbmdcbmZ1bmN0aW9uIHVybEZvcm1hdChvYmopIHtcbiAgLy8gZW5zdXJlIGl0J3MgYW4gb2JqZWN0LCBhbmQgbm90IGEgc3RyaW5nIHVybC5cbiAgLy8gSWYgaXQncyBhbiBvYmosIHRoaXMgaXMgYSBuby1vcC5cbiAgLy8gdGhpcyB3YXksIHlvdSBjYW4gY2FsbCB1cmxfZm9ybWF0KCkgb24gc3RyaW5nc1xuICAvLyB0byBjbGVhbiB1cCBwb3RlbnRpYWxseSB3b25reSB1cmxzLlxuICBpZiAodXRpbC5pc1N0cmluZyhvYmopKSBvYmogPSB1cmxQYXJzZShvYmopO1xuICBpZiAoIShvYmogaW5zdGFuY2VvZiBVcmwpKSByZXR1cm4gVXJsLnByb3RvdHlwZS5mb3JtYXQuY2FsbChvYmopO1xuICByZXR1cm4gb2JqLmZvcm1hdCgpO1xufVxuXG5VcmwucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aCA9IHRoaXMuYXV0aCB8fCAnJztcbiAgaWYgKGF1dGgpIHtcbiAgICBhdXRoID0gZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIGF1dGggPSBhdXRoLnJlcGxhY2UoLyUzQS9pLCAnOicpO1xuICAgIGF1dGggKz0gJ0AnO1xuICB9XG5cbiAgdmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCB8fCAnJyxcbiAgICAgIHBhdGhuYW1lID0gdGhpcy5wYXRobmFtZSB8fCAnJyxcbiAgICAgIGhhc2ggPSB0aGlzLmhhc2ggfHwgJycsXG4gICAgICBob3N0ID0gZmFsc2UsXG4gICAgICBxdWVyeSA9ICcnO1xuXG4gIGlmICh0aGlzLmhvc3QpIHtcbiAgICBob3N0ID0gYXV0aCArIHRoaXMuaG9zdDtcbiAgfSBlbHNlIGlmICh0aGlzLmhvc3RuYW1lKSB7XG4gICAgaG9zdCA9IGF1dGggKyAodGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgPT09IC0xID9cbiAgICAgICAgdGhpcy5ob3N0bmFtZSA6XG4gICAgICAgICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScpO1xuICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgIGhvc3QgKz0gJzonICsgdGhpcy5wb3J0O1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLnF1ZXJ5ICYmXG4gICAgICB1dGlsLmlzT2JqZWN0KHRoaXMucXVlcnkpICYmXG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnF1ZXJ5KS5sZW5ndGgpIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeSh0aGlzLnF1ZXJ5KTtcbiAgfVxuXG4gIHZhciBzZWFyY2ggPSB0aGlzLnNlYXJjaCB8fCAocXVlcnkgJiYgKCc/JyArIHF1ZXJ5KSkgfHwgJyc7XG5cbiAgaWYgKHByb3RvY29sICYmIHByb3RvY29sLnN1YnN0cigtMSkgIT09ICc6JykgcHJvdG9jb2wgKz0gJzonO1xuXG4gIC8vIG9ubHkgdGhlIHNsYXNoZWRQcm90b2NvbHMgZ2V0IHRoZSAvLy4gIE5vdCBtYWlsdG86LCB4bXBwOiwgZXRjLlxuICAvLyB1bmxlc3MgdGhleSBoYWQgdGhlbSB0byBiZWdpbiB3aXRoLlxuICBpZiAodGhpcy5zbGFzaGVzIHx8XG4gICAgICAoIXByb3RvY29sIHx8IHNsYXNoZWRQcm90b2NvbFtwcm90b2NvbF0pICYmIGhvc3QgIT09IGZhbHNlKSB7XG4gICAgaG9zdCA9ICcvLycgKyAoaG9zdCB8fCAnJyk7XG4gICAgaWYgKHBhdGhuYW1lICYmIHBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSBwYXRobmFtZSA9ICcvJyArIHBhdGhuYW1lO1xuICB9IGVsc2UgaWYgKCFob3N0KSB7XG4gICAgaG9zdCA9ICcnO1xuICB9XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgaGFzaCA9ICcjJyArIGhhc2g7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBzZWFyY2ggPSAnPycgKyBzZWFyY2g7XG5cbiAgcGF0aG5hbWUgPSBwYXRobmFtZS5yZXBsYWNlKC9bPyNdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChtYXRjaCk7XG4gIH0pO1xuICBzZWFyY2ggPSBzZWFyY2gucmVwbGFjZSgnIycsICclMjMnKTtcblxuICByZXR1cm4gcHJvdG9jb2wgKyBob3N0ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZShzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlKHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgcmV0dXJuIHRoaXMucmVzb2x2ZU9iamVjdCh1cmxQYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpKS5mb3JtYXQoKTtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmVPYmplY3Qoc291cmNlLCByZWxhdGl2ZSkge1xuICBpZiAoIXNvdXJjZSkgcmV0dXJuIHJlbGF0aXZlO1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZU9iamVjdChyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZU9iamVjdCA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIGlmICh1dGlsLmlzU3RyaW5nKHJlbGF0aXZlKSkge1xuICAgIHZhciByZWwgPSBuZXcgVXJsKCk7XG4gICAgcmVsLnBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgcmVsYXRpdmUgPSByZWw7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFVybCgpO1xuICB2YXIgdGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgZm9yICh2YXIgdGsgPSAwOyB0ayA8IHRrZXlzLmxlbmd0aDsgdGsrKykge1xuICAgIHZhciB0a2V5ID0gdGtleXNbdGtdO1xuICAgIHJlc3VsdFt0a2V5XSA9IHRoaXNbdGtleV07XG4gIH1cblxuICAvLyBoYXNoIGlzIGFsd2F5cyBvdmVycmlkZGVuLCBubyBtYXR0ZXIgd2hhdC5cbiAgLy8gZXZlbiBocmVmPVwiXCIgd2lsbCByZW1vdmUgaXQuXG4gIHJlc3VsdC5oYXNoID0gcmVsYXRpdmUuaGFzaDtcblxuICAvLyBpZiB0aGUgcmVsYXRpdmUgdXJsIGlzIGVtcHR5LCB0aGVuIHRoZXJlJ3Mgbm90aGluZyBsZWZ0IHRvIGRvIGhlcmUuXG4gIGlmIChyZWxhdGl2ZS5ocmVmID09PSAnJykge1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBocmVmcyBsaWtlIC8vZm9vL2JhciBhbHdheXMgY3V0IHRvIHRoZSBwcm90b2NvbC5cbiAgaWYgKHJlbGF0aXZlLnNsYXNoZXMgJiYgIXJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgLy8gdGFrZSBldmVyeXRoaW5nIGV4Y2VwdCB0aGUgcHJvdG9jb2wgZnJvbSByZWxhdGl2ZVxuICAgIHZhciBya2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICBmb3IgKHZhciByayA9IDA7IHJrIDwgcmtleXMubGVuZ3RoOyByaysrKSB7XG4gICAgICB2YXIgcmtleSA9IHJrZXlzW3JrXTtcbiAgICAgIGlmIChya2V5ICE9PSAncHJvdG9jb2wnKVxuICAgICAgICByZXN1bHRbcmtleV0gPSByZWxhdGl2ZVtya2V5XTtcbiAgICB9XG5cbiAgICAvL3VybFBhcnNlIGFwcGVuZHMgdHJhaWxpbmcgLyB0byB1cmxzIGxpa2UgaHR0cDovL3d3dy5leGFtcGxlLmNvbVxuICAgIGlmIChzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXSAmJlxuICAgICAgICByZXN1bHQuaG9zdG5hbWUgJiYgIXJlc3VsdC5wYXRobmFtZSkge1xuICAgICAgcmVzdWx0LnBhdGggPSByZXN1bHQucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuXG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmIChyZWxhdGl2ZS5wcm90b2NvbCAmJiByZWxhdGl2ZS5wcm90b2NvbCAhPT0gcmVzdWx0LnByb3RvY29sKSB7XG4gICAgLy8gaWYgaXQncyBhIGtub3duIHVybCBwcm90b2NvbCwgdGhlbiBjaGFuZ2luZ1xuICAgIC8vIHRoZSBwcm90b2NvbCBkb2VzIHdlaXJkIHRoaW5nc1xuICAgIC8vIGZpcnN0LCBpZiBpdCdzIG5vdCBmaWxlOiwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBob3N0LFxuICAgIC8vIGFuZCBpZiB0aGVyZSB3YXMgYSBwYXRoXG4gICAgLy8gdG8gYmVnaW4gd2l0aCwgdGhlbiB3ZSBNVVNUIGhhdmUgYSBwYXRoLlxuICAgIC8vIGlmIGl0IGlzIGZpbGU6LCB0aGVuIHRoZSBob3N0IGlzIGRyb3BwZWQsXG4gICAgLy8gYmVjYXVzZSB0aGF0J3Mga25vd24gdG8gYmUgaG9zdGxlc3MuXG4gICAgLy8gYW55dGhpbmcgZWxzZSBpcyBhc3N1bWVkIHRvIGJlIGFic29sdXRlLlxuICAgIGlmICghc2xhc2hlZFByb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzW3ZdO1xuICAgICAgICByZXN1bHRba10gPSByZWxhdGl2ZVtrXTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXN1bHQucHJvdG9jb2wgPSByZWxhdGl2ZS5wcm90b2NvbDtcbiAgICBpZiAoIXJlbGF0aXZlLmhvc3QgJiYgIWhvc3RsZXNzUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIgcmVsUGF0aCA9IChyZWxhdGl2ZS5wYXRobmFtZSB8fCAnJykuc3BsaXQoJy8nKTtcbiAgICAgIHdoaWxlIChyZWxQYXRoLmxlbmd0aCAmJiAhKHJlbGF0aXZlLmhvc3QgPSByZWxQYXRoLnNoaWZ0KCkpKTtcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdCkgcmVsYXRpdmUuaG9zdCA9ICcnO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0bmFtZSkgcmVsYXRpdmUuaG9zdG5hbWUgPSAnJztcbiAgICAgIGlmIChyZWxQYXRoWzBdICE9PSAnJykgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIGlmIChyZWxQYXRoLmxlbmd0aCA8IDIpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxQYXRoLmpvaW4oJy8nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsYXRpdmUucGF0aG5hbWU7XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgcmVzdWx0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0IHx8ICcnO1xuICAgIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0O1xuICAgIHJlc3VsdC5wb3J0ID0gcmVsYXRpdmUucG9ydDtcbiAgICAvLyB0byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQucGF0aG5hbWUgfHwgcmVzdWx0LnNlYXJjaCkge1xuICAgICAgdmFyIHAgPSByZXN1bHQucGF0aG5hbWUgfHwgJyc7XG4gICAgICB2YXIgcyA9IHJlc3VsdC5zZWFyY2ggfHwgJyc7XG4gICAgICByZXN1bHQucGF0aCA9IHAgKyBzO1xuICAgIH1cbiAgICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHZhciBpc1NvdXJjZUFicyA9IChyZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSxcbiAgICAgIGlzUmVsQWJzID0gKFxuICAgICAgICAgIHJlbGF0aXZlLmhvc3QgfHxcbiAgICAgICAgICByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJ1xuICAgICAgKSxcbiAgICAgIG11c3RFbmRBYnMgPSAoaXNSZWxBYnMgfHwgaXNTb3VyY2VBYnMgfHxcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5ob3N0ICYmIHJlbGF0aXZlLnBhdGhuYW1lKSksXG4gICAgICByZW1vdmVBbGxEb3RzID0gbXVzdEVuZEFicyxcbiAgICAgIHNyY1BhdGggPSByZXN1bHQucGF0aG5hbWUgJiYgcmVzdWx0LnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICByZWxQYXRoID0gcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHBzeWNob3RpYyA9IHJlc3VsdC5wcm90b2NvbCAmJiAhc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF07XG5cbiAgLy8gaWYgdGhlIHVybCBpcyBhIG5vbi1zbGFzaGVkIHVybCwgdGhlbiByZWxhdGl2ZVxuICAvLyBsaW5rcyBsaWtlIC4uLy4uIHNob3VsZCBiZSBhYmxlXG4gIC8vIHRvIGNyYXdsIHVwIHRvIHRoZSBob3N0bmFtZSwgYXMgd2VsbC4gIFRoaXMgaXMgc3RyYW5nZS5cbiAgLy8gcmVzdWx0LnByb3RvY29sIGhhcyBhbHJlYWR5IGJlZW4gc2V0IGJ5IG5vdy5cbiAgLy8gTGF0ZXIgb24sIHB1dCB0aGUgZmlyc3QgcGF0aCBwYXJ0IGludG8gdGhlIGhvc3QgZmllbGQuXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAnJztcbiAgICByZXN1bHQucG9ydCA9IG51bGw7XG4gICAgaWYgKHJlc3VsdC5ob3N0KSB7XG4gICAgICBpZiAoc3JjUGF0aFswXSA9PT0gJycpIHNyY1BhdGhbMF0gPSByZXN1bHQuaG9zdDtcbiAgICAgIGVsc2Ugc3JjUGF0aC51bnNoaWZ0KHJlc3VsdC5ob3N0KTtcbiAgICB9XG4gICAgcmVzdWx0Lmhvc3QgPSAnJztcbiAgICBpZiAocmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAgIHJlbGF0aXZlLmhvc3RuYW1lID0gbnVsbDtcbiAgICAgIHJlbGF0aXZlLnBvcnQgPSBudWxsO1xuICAgICAgaWYgKHJlbGF0aXZlLmhvc3QpIHtcbiAgICAgICAgaWYgKHJlbFBhdGhbMF0gPT09ICcnKSByZWxQYXRoWzBdID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgZWxzZSByZWxQYXRoLnVuc2hpZnQocmVsYXRpdmUuaG9zdCk7XG4gICAgICB9XG4gICAgICByZWxhdGl2ZS5ob3N0ID0gbnVsbDtcbiAgICB9XG4gICAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgJiYgKHJlbFBhdGhbMF0gPT09ICcnIHx8IHNyY1BhdGhbMF0gPT09ICcnKTtcbiAgfVxuXG4gIGlmIChpc1JlbEFicykge1xuICAgIC8vIGl0J3MgYWJzb2x1dGUuXG4gICAgcmVzdWx0Lmhvc3QgPSAocmVsYXRpdmUuaG9zdCB8fCByZWxhdGl2ZS5ob3N0ID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdCA6IHJlc3VsdC5ob3N0O1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IChyZWxhdGl2ZS5ob3N0bmFtZSB8fCByZWxhdGl2ZS5ob3N0bmFtZSA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0bmFtZSA6IHJlc3VsdC5ob3N0bmFtZTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHNyY1BhdGggPSByZWxQYXRoO1xuICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZG90LWhhbmRsaW5nIGJlbG93LlxuICB9IGVsc2UgaWYgKHJlbFBhdGgubGVuZ3RoKSB7XG4gICAgLy8gaXQncyByZWxhdGl2ZVxuICAgIC8vIHRocm93IGF3YXkgdGhlIGV4aXN0aW5nIGZpbGUsIGFuZCB0YWtlIHRoZSBuZXcgcGF0aCBpbnN0ZWFkLlxuICAgIGlmICghc3JjUGF0aCkgc3JjUGF0aCA9IFtdO1xuICAgIHNyY1BhdGgucG9wKCk7XG4gICAgc3JjUGF0aCA9IHNyY1BhdGguY29uY2F0KHJlbFBhdGgpO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gIH0gZWxzZSBpZiAoIXV0aWwuaXNOdWxsT3JVbmRlZmluZWQocmVsYXRpdmUuc2VhcmNoKSkge1xuICAgIC8vIGp1c3QgcHVsbCBvdXQgdGhlIHNlYXJjaC5cbiAgICAvLyBsaWtlIGhyZWY9Jz9mb28nLlxuICAgIC8vIFB1dCB0aGlzIGFmdGVyIHRoZSBvdGhlciB0d28gY2FzZXMgYmVjYXVzZSBpdCBzaW1wbGlmaWVzIHRoZSBib29sZWFuc1xuICAgIGlmIChwc3ljaG90aWMpIHtcbiAgICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gc3JjUGF0aC5zaGlmdCgpO1xuICAgICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgLy8gbm8gcGF0aCBhdCBhbGwuICBlYXN5LlxuICAgIC8vIHdlJ3ZlIGFscmVhZHkgaGFuZGxlZCB0aGUgb3RoZXIgc3R1ZmYgYWJvdmUuXG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gJy8nICsgcmVzdWx0LnNlYXJjaDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaWYgYSB1cmwgRU5EcyBpbiAuIG9yIC4uLCB0aGVuIGl0IG11c3QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIC8vIGhvd2V2ZXIsIGlmIGl0IGVuZHMgaW4gYW55dGhpbmcgZWxzZSBub24tc2xhc2h5LFxuICAvLyB0aGVuIGl0IG11c3QgTk9UIGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICB2YXIgbGFzdCA9IHNyY1BhdGguc2xpY2UoLTEpWzBdO1xuICB2YXIgaGFzVHJhaWxpbmdTbGFzaCA9IChcbiAgICAgIChyZXN1bHQuaG9zdCB8fCByZWxhdGl2ZS5ob3N0IHx8IHNyY1BhdGgubGVuZ3RoID4gMSkgJiZcbiAgICAgIChsYXN0ID09PSAnLicgfHwgbGFzdCA9PT0gJy4uJykgfHwgbGFzdCA9PT0gJycpO1xuXG4gIC8vIHN0cmlwIHNpbmdsZSBkb3RzLCByZXNvbHZlIGRvdWJsZSBkb3RzIHRvIHBhcmVudCBkaXJcbiAgLy8gaWYgdGhlIHBhdGggdHJpZXMgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIGB1cGAgZW5kcyB1cCA+IDBcbiAgdmFyIHVwID0gMDtcbiAgZm9yICh2YXIgaSA9IHNyY1BhdGgubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIGxhc3QgPSBzcmNQYXRoW2ldO1xuICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAobGFzdCA9PT0gJy4uJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXApIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXAtLTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gIGlmICghbXVzdEVuZEFicyAmJiAhcmVtb3ZlQWxsRG90cykge1xuICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgc3JjUGF0aC51bnNoaWZ0KCcuLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtdXN0RW5kQWJzICYmIHNyY1BhdGhbMF0gIT09ICcnICYmXG4gICAgICAoIXNyY1BhdGhbMF0gfHwgc3JjUGF0aFswXS5jaGFyQXQoMCkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgKHNyY1BhdGguam9pbignLycpLnN1YnN0cigtMSkgIT09ICcvJykpIHtcbiAgICBzcmNQYXRoLnB1c2goJycpO1xuICB9XG5cbiAgdmFyIGlzQWJzb2x1dGUgPSBzcmNQYXRoWzBdID09PSAnJyB8fFxuICAgICAgKHNyY1BhdGhbMF0gJiYgc3JjUGF0aFswXS5jaGFyQXQoMCkgPT09ICcvJyk7XG5cbiAgLy8gcHV0IHRoZSBob3N0IGJhY2tcbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlc3VsdC5ob3N0ID0gaXNBYnNvbHV0ZSA/ICcnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyY1BhdGgubGVuZ3RoID8gc3JjUGF0aC5zaGlmdCgpIDogJyc7XG4gICAgLy9vY2NhdGlvbmFseSB0aGUgYXV0aCBjYW4gZ2V0IHN0dWNrIG9ubHkgaW4gaG9zdFxuICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgdmFyIGF1dGhJbkhvc3QgPSByZXN1bHQuaG9zdCAmJiByZXN1bHQuaG9zdC5pbmRleE9mKCdAJykgPiAwID9cbiAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgcmVzdWx0LmF1dGggPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICB9XG4gIH1cblxuICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyB8fCAocmVzdWx0Lmhvc3QgJiYgc3JjUGF0aC5sZW5ndGgpO1xuXG4gIGlmIChtdXN0RW5kQWJzICYmICFpc0Fic29sdXRlKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQucGF0aG5hbWUgPSBzcmNQYXRoLmpvaW4oJy8nKTtcbiAgfVxuXG4gIC8vdG8gc3VwcG9ydCByZXF1ZXN0Lmh0dHBcbiAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAocmVzdWx0LnNlYXJjaCA/IHJlc3VsdC5zZWFyY2ggOiAnJyk7XG4gIH1cbiAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoIHx8IHJlc3VsdC5hdXRoO1xuICByZXN1bHQuc2xhc2hlcyA9IHJlc3VsdC5zbGFzaGVzIHx8IHJlbGF0aXZlLnNsYXNoZXM7XG4gIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuVXJsLnByb3RvdHlwZS5wYXJzZUhvc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhvc3QgPSB0aGlzLmhvc3Q7XG4gIHZhciBwb3J0ID0gcG9ydFBhdHRlcm4uZXhlYyhob3N0KTtcbiAgaWYgKHBvcnQpIHtcbiAgICBwb3J0ID0gcG9ydFswXTtcbiAgICBpZiAocG9ydCAhPT0gJzonKSB7XG4gICAgICB0aGlzLnBvcnQgPSBwb3J0LnN1YnN0cigxKTtcbiAgICB9XG4gICAgaG9zdCA9IGhvc3Quc3Vic3RyKDAsIGhvc3QubGVuZ3RoIC0gcG9ydC5sZW5ndGgpO1xuICB9XG4gIGlmIChob3N0KSB0aGlzLmhvc3RuYW1lID0gaG9zdDtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHVyaWxpYiA9IHJlcXVpcmUoJ3VybCcpO1xudmFyIGhlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMnKTtcblxubW9kdWxlLmV4cG9ydHMuU2NoZW1hU2NhblJlc3VsdCA9IFNjaGVtYVNjYW5SZXN1bHQ7XG5mdW5jdGlvbiBTY2hlbWFTY2FuUmVzdWx0KGZvdW5kLCByZWYpe1xuICB0aGlzLmlkID0gZm91bmQ7XG4gIHRoaXMucmVmID0gcmVmO1xufVxuXG4vKipcbiAqIEFkZHMgYSBzY2hlbWEgd2l0aCBhIGNlcnRhaW4gdXJuIHRvIHRoZSBWYWxpZGF0b3IgaW5zdGFuY2UuXG4gKiBAcGFyYW0gc3RyaW5nIHVyaVxuICogQHBhcmFtIG9iamVjdCBzY2hlbWFcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xubW9kdWxlLmV4cG9ydHMuc2NhbiA9IGZ1bmN0aW9uIHNjYW4oYmFzZSwgc2NoZW1hKXtcbiAgZnVuY3Rpb24gc2NhblNjaGVtYShiYXNldXJpLCBzY2hlbWEpe1xuICAgIGlmKCFzY2hlbWEgfHwgdHlwZW9mIHNjaGVtYSE9J29iamVjdCcpIHJldHVybjtcbiAgICAvLyBNYXJrIGFsbCByZWZlcmVuY2VkIHNjaGVtYXMgc28gd2UgY2FuIHRlbGwgbGF0ZXIgd2hpY2ggc2NoZW1hcyBhcmUgcmVmZXJyZWQgdG8sIGJ1dCBuZXZlciBkZWZpbmVkXG4gICAgaWYoc2NoZW1hLiRyZWYpe1xuICAgICAgdmFyIHJlc29sdmVkVXJpID0gdXJpbGliLnJlc29sdmUoYmFzZXVyaSwgc2NoZW1hLiRyZWYpO1xuICAgICAgcmVmW3Jlc29sdmVkVXJpXSA9IHJlZltyZXNvbHZlZFVyaV0gPyByZWZbcmVzb2x2ZWRVcmldKzEgOiAwO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaWQgPSBzY2hlbWEuJGlkIHx8IHNjaGVtYS5pZDtcbiAgICB2YXIgb3VyQmFzZSA9IGlkID8gdXJpbGliLnJlc29sdmUoYmFzZXVyaSwgaWQpIDogYmFzZXVyaTtcbiAgICBpZiAob3VyQmFzZSkge1xuICAgICAgLy8gSWYgdGhlcmUncyBubyBmcmFnbWVudCwgYXBwZW5kIGFuIGVtcHR5IG9uZVxuICAgICAgaWYob3VyQmFzZS5pbmRleE9mKCcjJyk8MCkgb3VyQmFzZSArPSAnIyc7XG4gICAgICBpZihmb3VuZFtvdXJCYXNlXSl7XG4gICAgICAgIGlmKCFoZWxwZXJzLmRlZXBDb21wYXJlU3RyaWN0KGZvdW5kW291ckJhc2VdLCBzY2hlbWEpKXtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NjaGVtYSA8JytvdXJCYXNlKyc+IGFscmVhZHkgZXhpc3RzIHdpdGggZGlmZmVyZW50IGRlZmluaXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm91bmRbb3VyQmFzZV07XG4gICAgICB9XG4gICAgICBmb3VuZFtvdXJCYXNlXSA9IHNjaGVtYTtcbiAgICAgIC8vIHN0cmlwIHRyYWlsaW5nIGZyYWdtZW50XG4gICAgICBpZihvdXJCYXNlW291ckJhc2UubGVuZ3RoLTFdPT0nIycpe1xuICAgICAgICBmb3VuZFtvdXJCYXNlLnN1YnN0cmluZygwLCBvdXJCYXNlLmxlbmd0aC0xKV0gPSBzY2hlbWE7XG4gICAgICB9XG4gICAgfVxuICAgIHNjYW5BcnJheShvdXJCYXNlKycvaXRlbXMnLCAoQXJyYXkuaXNBcnJheShzY2hlbWEuaXRlbXMpP3NjaGVtYS5pdGVtczpbc2NoZW1hLml0ZW1zXSkpO1xuICAgIHNjYW5BcnJheShvdXJCYXNlKycvZXh0ZW5kcycsIChBcnJheS5pc0FycmF5KHNjaGVtYS5leHRlbmRzKT9zY2hlbWEuZXh0ZW5kczpbc2NoZW1hLmV4dGVuZHNdKSk7XG4gICAgc2NhblNjaGVtYShvdXJCYXNlKycvYWRkaXRpb25hbEl0ZW1zJywgc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyk7XG4gICAgc2Nhbk9iamVjdChvdXJCYXNlKycvcHJvcGVydGllcycsIHNjaGVtYS5wcm9wZXJ0aWVzKTtcbiAgICBzY2FuU2NoZW1hKG91ckJhc2UrJy9hZGRpdGlvbmFsUHJvcGVydGllcycsIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyk7XG4gICAgc2Nhbk9iamVjdChvdXJCYXNlKycvZGVmaW5pdGlvbnMnLCBzY2hlbWEuZGVmaW5pdGlvbnMpO1xuICAgIHNjYW5PYmplY3Qob3VyQmFzZSsnL3BhdHRlcm5Qcm9wZXJ0aWVzJywgc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKTtcbiAgICBzY2FuT2JqZWN0KG91ckJhc2UrJy9kZXBlbmRlbmNpZXMnLCBzY2hlbWEuZGVwZW5kZW5jaWVzKTtcbiAgICBzY2FuQXJyYXkob3VyQmFzZSsnL2Rpc2FsbG93Jywgc2NoZW1hLmRpc2FsbG93KTtcbiAgICBzY2FuQXJyYXkob3VyQmFzZSsnL2FsbE9mJywgc2NoZW1hLmFsbE9mKTtcbiAgICBzY2FuQXJyYXkob3VyQmFzZSsnL2FueU9mJywgc2NoZW1hLmFueU9mKTtcbiAgICBzY2FuQXJyYXkob3VyQmFzZSsnL29uZU9mJywgc2NoZW1hLm9uZU9mKTtcbiAgICBzY2FuU2NoZW1hKG91ckJhc2UrJy9ub3QnLCBzY2hlbWEubm90KTtcbiAgfVxuICBmdW5jdGlvbiBzY2FuQXJyYXkoYmFzZXVyaSwgc2NoZW1hcyl7XG4gICAgaWYoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHJldHVybjtcbiAgICBmb3IodmFyIGk9MDsgaTxzY2hlbWFzLmxlbmd0aDsgaSsrKXtcbiAgICAgIHNjYW5TY2hlbWEoYmFzZXVyaSsnLycraSwgc2NoZW1hc1tpXSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNjYW5PYmplY3QoYmFzZXVyaSwgc2NoZW1hcyl7XG4gICAgaWYoIXNjaGVtYXMgfHwgdHlwZW9mIHNjaGVtYXMhPSdvYmplY3QnKSByZXR1cm47XG4gICAgZm9yKHZhciBwIGluIHNjaGVtYXMpe1xuICAgICAgc2NhblNjaGVtYShiYXNldXJpKycvJytwLCBzY2hlbWFzW3BdKTtcbiAgICB9XG4gIH1cblxuICB2YXIgZm91bmQgPSB7fTtcbiAgdmFyIHJlZiA9IHt9O1xuICBzY2FuU2NoZW1hKGJhc2UsIHNjaGVtYSk7XG4gIHJldHVybiBuZXcgU2NoZW1hU2NhblJlc3VsdChmb3VuZCwgcmVmKTtcbn07XG4iLCIvKiogQG1vZHVsZSB1dGlscy9TZWxlY3QgKi9cblxuaW1wb3J0IHsgdW5zZWxlY3QsIGdldFN0YWZmQkJveCwgc2VsZWN0U3RhZmYsIHNlbGVjdEFsbCwgZ2V0U2VsZWN0aW9uVHlwZSB9IGZyb20gJy4vU2VsZWN0VG9vbHMnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi9SZXNpemUnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuL0RyYWdIYW5kbGVyJztcbmltcG9ydCB7IEluZm9JbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuLi9TaW5nbGVWaWV3L1pvb20nO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBCQm94LCBnZXRTdGFmZkJ5Q29vcmRzLCBQb2ludCB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuXG5sZXQgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLCBuZW9uVmlldzogTmVvblZpZXcsIGluZm86IEluZm9JbnRlcmZhY2UsIHpvb21IYW5kbGVyOiBab29tSGFuZGxlcjtcbmxldCBzdHJva2VXaWR0aCA9IDc7XG5cbi8qKlxuICogU2V0IHN0cm9rZSB3aWR0aCBvbiBkcmFnIHNlbGVjdCBib3guXG4gKiBAcGFyYW0gd2lkdGggLSBTdHJva2Ugd2lkdGggaW4gcGl4ZWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2VsZWN0U3Ryb2tlV2lkdGggKHdpZHRoOiBudW1iZXIpOiB2b2lkIHtcbiAgc3Ryb2tlV2lkdGggPSB3aWR0aDtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIG9iamVjdHMgZm9yIHRoaXMgbW9kdWxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2VsZWN0SGVscGVyT2JqZWN0cyAobnY6IE5lb25WaWV3LCBkaDogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgZHJhZ0hhbmRsZXIgPSBkaDtcbiAgbmVvblZpZXcgPSBudjtcbiAgaW5mbyA9IG5lb25WaWV3LmluZm87XG4gIHpvb21IYW5kbGVyID0gbmVvblZpZXcudmlldy56b29tSGFuZGxlcjtcbn1cblxuZnVuY3Rpb24gZXNjYXBlS2V5TGlzdGVuZXIgKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICBpbmZvLmluZm9MaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgdW5zZWxlY3QoKTtcbiAgfVxufVxuXG4vLyBFTlRFUiBLRVk6IHdoZW4gYSBCQm94IGlzIHNlbGVjdGVkLCBwcmVzc2luZyBlbnRlciB3aWxsXG4vLyAgIHRyaWdnZXIgdGhlIGVkaXQgc3lsbGFibGUgdGV4dCBmdW5jdGlvbi5cbmZ1bmN0aW9uIGVudGVyS2V5TGlzdGVuZXIgKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAvLyBjaGVjayBpZiAnZW50ZXInIGlzIHByZXNzZWQgd2l0aCB0aGUgY29ycmVjdCBjb25kaXRpb25zXG4gIGlmIChnZXRTZWxlY3Rpb25UeXBlKCkgIT09ICdzZWxCeUJCb3gnXG4gICAgfHwgIShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheVRleHQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkXG4gICAgfHwgZXZ0LmtleSAhPT0gJ0VudGVyJ1xuICApXG4gICAgcmV0dXJuO1xuXG4gIGNvbnN0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG5cbiAgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYSBzeWxsYWJsZSBzZWxlY3RlZFxuICBpZiAoc2VsZWN0ZWQpIHtcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi4nICsgc2VsZWN0ZWQuaWQpIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgLy8gd2Ugc2ltdWxhdGUgYSBjbGljayBiZWNhdXNlIHRoZSBtZXRob2QgYHVwZGF0ZVN5bFRleHQoKWAgaXMgb25seVxuICAgIC8vIGFjY2Vzc2libGUgaW5zaWRlIFRleHRFZGl0TW9kZTsgdGhlIHNwYW4gaGFzIGFuIGV2ZW50IGxpc3RlbmVyIGZvclxuICAgIC8vIGNsaWNrcy5cbiAgICBzcGFuLmNsaWNrKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXJyb3dLZXlMaXN0ZW5lciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmIChnZXRTZWxlY3Rpb25UeXBlKCkgIT09ICdzZWxCeUJCb3gnIHx8IChldnQua2V5ICE9PSAnQXJyb3dMZWZ0JyAmJiBldnQua2V5ICE9PSAnQXJyb3dSaWdodCcgJiYgZXZ0LmtleSAhPT0gJ1RhYicgJiYgZXZ0LnNoaWZ0S2V5KSlcbiAgICByZXR1cm47XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBwcmV2ZW50IGRlZmF1bHQgZm9yIHRhYiBrZXlcbiAgXG4gIGNvbnN0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG4gIGNvbnN0IHN5bGxhYmxlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlJykpO1xuXG4gIC8vIG5vdCBhbGwgc3lsbGFibGVzIGhhdmUgQkJveGVzOyB3ZSBtdXN0IGZpbHRlciB0aGVtIG91dFxuICBjb25zdCBiYm94U3lsbGFibGVzID0gc3lsbGFibGVzLmZpbHRlcihzeWwgPT4gc3lsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykgIT09IG51bGwpO1xuICBjb25zdCBpbmQgPSBiYm94U3lsbGFibGVzLmluZGV4T2Yoc2VsZWN0ZWQpO1xuXG4gIGlmICgoZXZ0LmtleSA9PT0gJ0Fycm93TGVmdCcgfHwgKGV2dC5rZXkgPT09ICdUYWInICYmIGV2dC5zaGlmdEtleSkpICYmIGluZCA+IDApIHtcbiAgICB1bnNlbGVjdCgpO1xuXG4gICAgY29uc3QgYmJveCA9IGJib3hTeWxsYWJsZXNbaW5kIC0gMV0ucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBzZWxlY3RBbGwoW2Jib3ggYXMgU1ZHR3JhcGhpY3NFbGVtZW50XSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgfSBlbHNlIGlmICgoZXZ0LmtleSA9PT0gJ0Fycm93UmlnaHQnIHx8IChldnQua2V5ID09PSAnVGFiJyAmJiAhZXZ0LnNoaWZ0S2V5KSkgJiYgaW5kIDwgYmJveFN5bGxhYmxlcy5sZW5ndGggLSAxKSB7XG4gICAgdW5zZWxlY3QoKTtcblxuICAgIGNvbnN0IGJib3ggPSBiYm94U3lsbGFibGVzW2luZCArIDFdLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgc2VsZWN0QWxsKFtiYm94IGFzIFNWR0dyYXBoaWNzRWxlbWVudF0sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gIH1cbiAgXG4gIC8vIEF1dG8gc2Nyb2xsIHRvIGhpZ2hsaWdodGVkIHRleHRcbiAgY29uc3Qgc2VsZWN0ZWRTeWxUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRleHQtc2VsZWN0Jyk7XG4gIGlmIChzZWxlY3RlZFN5bFRleHQpIHtcbiAgICBzZWxlY3RlZFN5bFRleHQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTZWxCeUJCb3ggKCk6IGJvb2xlYW4ge1xuICBjb25zdCBzZWxCeUJCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jyk7XG4gIGlmIChzZWxCeUJCb3gpIHtcbiAgICByZXR1cm4gc2VsQnlCQm94LmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJyk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzdG9wUHJvcEhhbmRsZXIgKGV2dDogRXZlbnQpOiB2b2lkIHsgZXZ0LnN0b3BQcm9wYWdhdGlvbigpOyB9XG5cbi8qKlxuICogR2V0IGJvdW5kaW5nIGJveCBvZiBhbiBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldEJCb3hDb29yZHMgKGVsOiBTVkdHcmFwaGljc0VsZW1lbnQpOiBCQm94IHtcbiAgaWYgKGlzU2VsQnlCQm94KCkpIHtcbiAgICBjb25zdCB1bHggPSBOdW1iZXIoZWwuZ2V0QXR0cmlidXRlKCd4JykpLCB1bHkgPSBOdW1iZXIoZWwuZ2V0QXR0cmlidXRlKCd5JykpO1xuICAgIC8vIFdoYXQgaXMgdGhlIG1hdGggaGVyZT8/P1xuICAgIGNvbnN0IGxyeCA9IHVseCArIE51bWJlcigoZWwuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLnNsaWNlKDAsIC0yKSkpO1xuICAgIGNvbnN0IGxyeSA9IHVseSArIE51bWJlcigoZWwuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKS5zbGljZSgwLCAtMikpKTtcblxuICAgIHJldHVybiB7IHVseCwgdWx5LCBscngsIGxyeSB9O1xuICB9XG5cbiAgaWYgKGVsLnRhZ05hbWUgPT09ICd1c2UnKSB7XG4gICAgY29uc3QgcmVjdCA9IChlbC5wYXJlbnROb2RlIGFzIFNWR0dFbGVtZW50KS5nZXRCQm94KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdWx4OiByZWN0LngsXG4gICAgICB1bHk6IHJlY3QueSxcbiAgICAgIGxyeDogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICAgIGxyeTogcmVjdC55ICsgcmVjdC5oZWlnaHRcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGdldFN0YWZmQkJveChlbCk7XG59XG5cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhbiBlbGVtZW50IGlzIHdpdGhpbiB0aGUgZHJhZyBzZWxlY3Rpb24gcmVjdGFuZ2xlLlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBlbGVtZW50IGlzIHdpdGhpbiB0aGUgYm91bmRzIG9mIGB1bGAgKHVwcGVyIGxlZnQpIGFuZCBgbHJgIChsb3dlciByaWdodClcbiAqL1xuZnVuY3Rpb24gaXNFbGVtZW50SW5SZWN0KGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsIHVsOiBQb2ludCwgbHI6IFBvaW50KTogYm9vbGVhbiB7XG4gIGlmIChpc1NlbEJ5QkJveCgpIHx8IGVsLnRhZ05hbWUgPT09ICd1c2UnKSB7XG4gICAgY29uc3QgYmJveCA9IGdldEJCb3hDb29yZHMoZWwpO1xuICAgIFxuICAgIC8vIFdlIHdhbnQgdG8gZmluZCB3aGV0aGVyIHRoZSBib3VuZGluZyBib3ggb3ZlcmxhcHMgd2l0aCB0aGUgcmVjdGFuZ2xlXG4gICAgLy8gZGVmaW5lZCBieSBgdWxgIGFuZCBgbHJgLiBUaGUgZWFzaWVzdCBzb2x1dGlvbiBpcyB0byBuZWdhdGUgYSBzdW0tb2YtcHJvZHVjdHMgZXF1YXRpb246XG4gICAgLy8gaS5lLiwgdGhlcmUgYXJlIDQgcG9zc2liaWxpdGllcyBpbiB3aGljaCB0aGUgdHdvICpkb24ndCogb3ZlcmxhcFxuICAgIHJldHVybiAhKGxyLnggPCBiYm94LnVseCB8fCB1bC54ID4gYmJveC5scnggfHwgbHIueSA8IGJib3gudWx5IHx8IHVsLnkgPiBiYm94LmxyeSk7XG4gIH1cblxuICAvLyBUT0RPOiBTaW1wbGlmeVxuICBjb25zdCBib3ggPSBnZXRTdGFmZkJCb3goZWwpO1xuICByZXR1cm4gISgodWwueCA8IGJveC51bHggJiYgbHIueCA8IGJveC51bHgpIHx8ICh1bC54ID4gYm94LmxyeCAmJiBsci54ID4gYm94LmxyeCkgfHxcbiAgICAgICAgICAodWwueSA8IChib3gudWx5ICsgTWF0aC5hYnMoYm94LnVseCAtIHVsLngpICogTWF0aC50YW4oYm94LnJvdGF0ZSkpICYmXG4gICAgICAgICAgICBsci55IDwgKGJveC51bHkgKyBNYXRoLmFicyhib3gudWx4IC0gdWwueCkgKiBNYXRoLnRhbihib3gucm90YXRlKSkpIHx8XG4gICAgICAgICAgKHVsLnkgPiAoYm94LmxyeSArIE1hdGguYWJzKGJveC5scnkgLSBsci55KSAqIE1hdGgudGFuKGJveC5yb3RhdGUpKSAmJlxuICAgICAgICAgICAgbHIueSA+IChib3gubHJ5ICsgTWF0aC5hYnMoYm94LmxyeSAtIGxyLnkpICogTWF0aC50YW4oYm94LnJvdGF0ZSkpKSk7XG59XG5cbi8qKlxuICogQXBwbHkgbGlzdGVuZXJzIGZvciBjbGljayBzZWxlY3Rpb24uXG4gKiBAcGFyYW0gc2VsZWN0b3IgLSBUaGUgQ1NTIHNlbGVjdG9yIHVzZWQgdG8gY2hvb3NlIHdoZXJlIGxpc3RlbmVycyBhcmUgYXBwbGllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsaWNrU2VsZWN0IChzZWxlY3Rvcjogc3RyaW5nKTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLmZvckVhY2goc2VsID0+IHtcbiAgICBzZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgY2xpY2tIYW5kbGVyKTtcbiAgICBzZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgY2xpY2tIYW5kbGVyKTtcbiAgfSk7XG5cbiAgLy8gQ2xpY2sgYXdheSBsaXN0ZW5lcnNcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXNjYXBlS2V5TGlzdGVuZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlc2NhcGVLZXlMaXN0ZW5lcik7XG5cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZW50ZXJLZXlMaXN0ZW5lcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVudGVyS2V5TGlzdGVuZXIpO1xuXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGFycm93S2V5TGlzdGVuZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBhcnJvd0tleUxpc3RlbmVyKTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZXZ0KSA9PiB7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd1c2UscmVjdCwjbW9yZUVkaXQnKS5mb3JFYWNoKHNlbCA9PiB7XG4gICAgc2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RvcFByb3BIYW5kbGVyKTtcbiAgICBzZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wUHJvcEhhbmRsZXIpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBIYW5kbGUgY2xpY2sgZXZlbnRzIHJlbGF0ZWQgdG8gZWxlbWVudCBzZWxlY3Rpb24uXG4gKi9cblxuLy8gVGhlIGB0aGlzYCBrZXl3b3JkIGNhbiBiZSBcInBhc3NlZFwiIGFzIGEgZmFrZSBwYXJhbWV0ZXIgc28gdGhhdCB3ZSBjYW4gdHlwZSBpdCBjb3JyZWN0bHlcbi8vIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rLzIvZnVuY3Rpb25zLmh0bWwjZGVjbGFyaW5nLXRoaXMtaW4tYS1mdW5jdGlvblxuZnVuY3Rpb24gY2xpY2tIYW5kbGVyICh0aGlzOiBTVkdHcmFwaGljc0VsZW1lbnQsIGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xuICAvLyBSZXR1cm4gaWYgdXNlciBpcyBpbiBpbnNlcnQgbW9kZSBvciBwYW5uaW5nIGlzIGFjdGl2ZSBmcm9tIHNoaWZ0IGtleVxuICBpZiAoIW5lb25WaWV3IHx8IG5lb25WaWV3LmdldFVzZXJNb2RlKCkgPT09ICdpbnNlcnQnIHx8IGV2dC5zaGlmdEtleSlcbiAgICByZXR1cm47XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBjdHJsL2NtZCBrZXkgaGFzIGJlZW4gc2VsZWN0ZWRcbiAgZnVuY3Rpb24gaXNNdWx0aVNlbGVjdCAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9NYWMvKSA/IGV2dC5tZXRhS2V5IDogZXZ0LmN0cmxLZXk7XG4gIH1cblxuICAvLyBJZiB1c2VyIGhhcyBjbGlja2VkIGEgbGF5ZXIgZWxlbWVudFxuICBpZiAodGhpcy50YWdOYW1lID09PSAndXNlJyAmJiBnZXRTZWxlY3Rpb25UeXBlKCkgIT09ICdzZWxCeUJCb3gnKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpIHtcbiAgICAgIGxldCBzZWxlY3Rpb246IFNWR0dyYXBoaWNzRWxlbWVudFtdID0gW3RoaXNdO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIHBhcnQgb2YgYSBsaWdhdHVyZSBhbmQsIGlmIHNvLCBhZGQgYWxsIG9mIGl0IHRvIHRoZSBzZWxlY3Rpb24uXG4gICAgICBjb25zdCBmaXJzdExpZ2F0dXJlSGFsZiA9IC9FOUJbNDU2NzhdLztcbiAgICAgIGNvbnN0IHNlY29uZExpZ2F0dXJlSGFsZiA9IC9FOUJbOUFCQ10vO1xuICAgICAgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goc2Vjb25kTGlnYXR1cmVIYWxmKSkge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBzZWNvbmQgcGFydCBvZiBhIGxpZ2F0dXJlXG4gICAgICAgIGNvbnN0IG5jID0gdGhpcy5jbG9zZXN0KCcubmMnKTtcbiAgICAgICAgY29uc3QgbmV1bWUgPSB0aGlzLmNsb3Nlc3QoJy5uZXVtZScpO1xuICAgICAgICBjb25zdCBuY0luZGV4ID0gQXJyYXkuZnJvbShuZXVtZS5jaGlsZHJlbikuaW5kZXhPZihuYyk7XG4gICAgICAgIGNvbnN0IGZpcnN0VXNlID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCAtIDFdLmNoaWxkcmVuWzBdIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgY29uc29sZS5hc3NlcnQoZmlyc3RVc2UuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goZmlyc3RMaWdhdHVyZUhhbGYpLCAnRmlyc3QgZ2x5cGggb2YgbGlnYXR1cmUgdW5leHBlY3RlZCEnKTtcblxuICAgICAgICBpZiAoZmlyc3RVc2UuY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpIHtcbiAgICAgICAgICBzZWxlY3Rpb24udW5zaGlmdChmaXJzdFVzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChmaXJzdExpZ2F0dXJlSGFsZikpIHtcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgcGFydCBvZiBhIGxpZ2F0dXJlXG4gICAgICAgIGNvbnN0IG5jID0gdGhpcy5jbG9zZXN0KCcubmMnKTtcbiAgICAgICAgY29uc3QgbmV1bWUgPSB0aGlzLmNsb3Nlc3QoJy5uZXVtZScpO1xuICAgICAgICBjb25zdCBuY0luZGV4ID0gQXJyYXkuZnJvbShuZXVtZS5jaGlsZHJlbikuaW5kZXhPZihuYyk7XG4gICAgICAgIGNvbnN0IHNlY29uZFVzZSA9IG5ldW1lLmNoaWxkcmVuW25jSW5kZXggKyAxXS5jaGlsZHJlblswXSBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHNlY29uZFVzZS5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChzZWNvbmRMaWdhdHVyZUhhbGYpLCAnU2Vjb25kIGdseXBoIG9mIGxpZ2F0dXJlIHVuZXhwZWN0ZWQhJyk7XG5cbiAgICAgICAgaWYgKHNlY29uZFVzZS5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgICAgIHNlbGVjdGlvbi5wdXNoKHNlY29uZFVzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzTXVsdGlTZWxlY3QoKSkge1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykpKTtcbiAgICAgIH1cblxuICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcblxuICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKGlzTXVsdGlTZWxlY3QoKSkge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb25Nb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbC1ieSAuaXMtYWN0aXZlJykuaWQ7XG4gICAgICAgIGNvbnN0IG1vZGVUb0NsYXNzID0ge1xuICAgICAgICAgIHNlbEJ5U3RhZmY6ICcuc3RhZmYnLFxuICAgICAgICAgIHNlbEJ5TmV1bWU6ICcubmV1bWUnLFxuICAgICAgICAgIHNlbEJ5TmM6ICcubmMnLFxuICAgICAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50OiAnLmFjY2lkJyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDbGFzcyA9IG1vZGVUb0NsYXNzW3NlbGVjdGlvbk1vZGVdIHx8ICcuc3lsbGFibGUnO1xuICAgICAgICBjb25zdCByZW1vdmUgPSBbdGhpcy5jbG9zZXN0KHNlbGVjdGVkQ2xhc3MpXTtcblxuICAgICAgICBsZXQgc2VsZWN0aW9uID0gW107XG4gICAgICAgIHNlbGVjdGlvbiA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiAhcmVtb3ZlLmluY2x1ZGVzKGVsKSk7XG5cbiAgICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcblxuICAgICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKChldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS50YWdOYW1lID09PSAncmVjdCcgJiYgZ2V0U2VsZWN0aW9uVHlwZSgpID09PSAnc2VsQnlCQm94Jykge1xuICAgIGlmICh0aGlzLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSB7XG4gICAgICBsZXQgc2VsZWN0aW9uID0gW2V2dC50YXJnZXRdIGFzIFNWR0dFbGVtZW50W107XG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKSBhcyBTVkdHRWxlbWVudFtdKTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLm1hcCggKGVsKSA9PiB7XG4gICAgICAgICAgaWYgKGVsLnRhZ05hbWUgPT0gJ3JlY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtRGlzcGxheScpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHNlbGVjdEFsbChzZWxlY3Rpb24sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHNlbGVjdGlvbiA9IFtdO1xuICAgICAgaWYgKGlzTXVsdGlTZWxlY3QoKSkge1xuICAgICAgICBjb25zdCByZW1vdmUgPSBbdGhpc107XG4gICAgICAgIHNlbGVjdGlvbiA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5tYXAoIChlbCkgPT4ge1xuICAgICAgICAgIGlmIChlbC50YWdOYW1lID09ICdyZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LURpc3BsYXknKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5maWx0ZXIoIChlbCkgPT4ge1xuICAgICAgICAgIHJldHVybiAhcmVtb3ZlLmluY2x1ZGVzKGVsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdEFsbChzZWxlY3Rpb24sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5U3RhZmYnKSB7XG4gICAgICBpbmZvLmluZm9MaXN0ZW5lcnMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgcG9pbnQgaXMgaW4gYSBzdGFmZi5cbiAgICBpZiAoIWlzTXVsdGlTZWxlY3QoKSlcbiAgICAgIHVuc2VsZWN0KCk7XG5cbiAgICAvLyBTZWxlY3QgYSBzdGFmZlxuICAgIGNvbnN0IHN0YWZmID0gZ2V0U3RhZmZCeUNvb3JkcyhldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xuICAgIFxuICAgIGlmICghc3RhZmYpIHJldHVybjtcblxuICAgIGlmICghc3RhZmYuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAvLyBTZWxlY3QgcHJldmlvdXNseSB1bnNlbGVjdGVkIHN0YWZmXG4gICAgICBzZWxlY3RTdGFmZihzdGFmZiwgZHJhZ0hhbmRsZXIpO1xuICAgICAgcmVzaXplKHN0YWZmLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFRyaWdnZXIgbW91c2Vkb3duIGV2ZW50IG9uIHRoZSBzdGFmZlxuICAgIHN0YWZmLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ21vdXNlZG93bicsIHtcbiAgICAgIHNjcmVlblg6IGV2dC5zY3JlZW5YLFxuICAgICAgc2NyZWVuWTogZXZ0LnNjcmVlblksXG4gICAgICBjbGllbnRYOiBldnQuY2xpZW50WCxcbiAgICAgIGNsaWVudFk6IGV2dC5jbGllbnRZLFxuICAgICAgY3RybEtleTogZXZ0LmN0cmxLZXksXG4gICAgICBzaGlmdEtleTogZXZ0LnNoaWZ0S2V5LFxuICAgICAgYWx0S2V5OiBldnQuYWx0S2V5LFxuICAgICAgbWV0YUtleTogZXZ0Lm1ldGFLZXksXG4gICAgICB2aWV3OiBldnQudmlld1xuICAgIH0pKTtcbiAgfVxufVxuXG4vKipcbiAqIEFwcGx5IGxpc3RlbmVycyBmb3IgZHJhZyBzZWxlY3Rpb24uXG4gKiBAcGFyYW0gc2VsZWN0b3IgLSBUaGUgQ1NTIHNlbGVjdG9yIHVzZWQgdG8gY2hvb3NlIHdoZXJlIGxpc3RlbmVycyBhcmUgYXBwbGllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYWdTZWxlY3QgKHNlbGVjdG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgbGV0IGluaXRpYWxYID0gMDtcbiAgbGV0IGluaXRpYWxZID0gMDtcbiAgbGV0IHBhbm5pbmcgPSBmYWxzZTtcbiAgbGV0IGRyYWdTZWxlY3RpbmcgPSBmYWxzZTtcbiAgLy8gdmFyIGNhbnZhcyA9IGQzLnNlbGVjdCgnI3N2Z19ncm91cCcpO1xuXG4gIGNvbnN0IGNhbnZhcyA9IGQzLnNlbGVjdChzZWxlY3Rvcik7XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcG9pbnQgaXMgaW4gdGhlIGJvdW5kcyBvZiBhIHN0YWZmIGVsZW1lbnQuXG4gICAqIFJvdGF0ZSBpcyBub3QgdGFrZW4gaW50byBhY2NvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gcG9pbnROb3RJblN0YWZmIChwdDogbnVtYmVyW10pOiBib29sZWFuIHtcbiAgICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWZmJykpO1xuICAgIGNvbnN0IGZpbHRlcmVkID0gc3RhdmVzLmZpbHRlcigoc3RhZmY6IFNWR0dFbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCBiYm94ID0gZ2V0U3RhZmZCQm94KHN0YWZmKTtcbiAgICAgIGNvbnN0IHVseCA9IGJib3gudWx4O1xuICAgICAgY29uc3QgdWx5ID0gYmJveC51bHk7XG4gICAgICBjb25zdCBscnggPSBiYm94LmxyeDtcbiAgICAgIGNvbnN0IGxyeSA9IGJib3gubHJ5O1xuICAgICAgY29uc3Qgcm90YXRlID0gYmJveC5yb3RhdGU7XG5cbiAgICAgIHJldHVybiAocHRbMF0gPiB1bHggJiYgcHRbMF0gPCBscngpICYmXG4gICAgICAgIChwdFsxXSA+ICh1bHkgKyAocHRbMF0gLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSkpICYmXG4gICAgICAgIChwdFsxXSA8IChscnkgLSAobHJ4IC0gcHRbMF0pICogTWF0aC50YW4ocm90YXRlKSkpO1xuICAgIH0pO1xuICAgIHJldHVybiAoZmlsdGVyZWQubGVuZ3RoID09PSAwKTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbml0aWFsIGRyYWdnaW5nIHJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0gdWx4IC0gVGhlIHVwcGVyIGxlZnQgeC1wb3NpdGlvbiBvZiB0aGUgbmV3IHJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0gdWx5IC0gVGhlIHVwcGVyIGxlZnQgeS1wb3NpdGlvbiBvZiB0aGUgbmV3IHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgZnVuY3Rpb24gaW5pdFJlY3QgKHVseDogbnVtYmVyLCB1bHk6IG51bWJlcik6IHZvaWQge1xuICAgIGNhbnZhcy5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ3gnLCB1bHgpXG4gICAgICAuYXR0cigneScsIHVseSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIDApXG4gICAgICAuYXR0cignaGVpZ2h0JywgMClcbiAgICAgIC5hdHRyKCdpZCcsICdzZWxlY3RSZWN0JylcbiAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIHN0cm9rZVdpZHRoKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnbm9uZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VsU3RhcnQgKCk6IHZvaWQge1xuICAgIGlmICghbmVvblZpZXcpIHJldHVybjtcbiAgICBjb25zdCB1c2VyTW9kZSA9IG5lb25WaWV3LmdldFVzZXJNb2RlKCk7XG4gICAgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldC5ub2RlTmFtZSAhPT0gJ3VzZScgJiYgdXNlck1vZGUgIT09ICdpbnNlcnQnICYmIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldC5ub2RlTmFtZSAhPT0gJ3JlY3QnKSB7XG4gICAgICBpZiAoIWQzLmV2ZW50LnNvdXJjZUV2ZW50LnNoaWZ0S2V5KSB7IC8vIElmIG5vdCBob2xkaW5nIGRvd24gc2hpZnQga2V5IHRvIHBhblxuICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSB8fFxuICAgICAgICAgIHBvaW50Tm90SW5TdGFmZihkMy5tb3VzZSh0aGlzKSkpIHtcbiAgICAgICAgICB1bnNlbGVjdCgpO1xuICAgICAgICAgIGRyYWdTZWxlY3RpbmcgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IGluaXRpYWxQID0gZDMubW91c2UodGhpcyk7XG4gICAgICAgICAgaW5pdGlhbFggPSBpbml0aWFsUFswXTtcbiAgICAgICAgICBpbml0aWFsWSA9IGluaXRpYWxQWzFdO1xuICAgICAgICAgIGluaXRSZWN0KGluaXRpYWxYLCBpbml0aWFsWSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhbm5pbmcgPSB0cnVlO1xuICAgICAgICBpZiAoem9vbUhhbmRsZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHpvb21IYW5kbGVyLnN0YXJ0RHJhZygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkMy5ldmVudC5zb3VyY2VFdmVudC5zaGlmdEtleSkge1xuICAgICAgcGFubmluZyA9IHRydWU7XG4gICAgICBpZiAoem9vbUhhbmRsZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB6b29tSGFuZGxlci5zdGFydERyYWcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGRyYWdnaW5nIHJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0gbmV3WCAtIFRoZSBuZXcgdWx4LlxuICAgICAqIEBwYXJhbSBuZXdZIC0gVGhlIG5ldyB1bHkuXG4gICAgICogQHBhcmFtIGN1cnJlbnRXaWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0gY3VycmVudEhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSBpbiBwaXhlbHMuXG4gICAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZVJlY3QgKG5ld1g6IG51bWJlciwgbmV3WTogbnVtYmVyLCBjdXJyZW50V2lkdGg6IG51bWJlciwgY3VycmVudEhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgZDMuc2VsZWN0KCcjc2VsZWN0UmVjdCcpXG4gICAgICAuYXR0cigneCcsIG5ld1gpXG4gICAgICAuYXR0cigneScsIG5ld1kpXG4gICAgICAuYXR0cignd2lkdGgnLCBjdXJyZW50V2lkdGgpXG4gICAgICAuYXR0cignaGVpZ2h0JywgY3VycmVudEhlaWdodCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRFbGVtZW50c0J5U2VsZWN0b3IgKHNlbGVjdG9yOiBzdHJpbmcpOiBTVkdHcmFwaGljc0VsZW1lbnRbXSB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSlcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IgKyAnIHVzZSwgJyArIHNlbGVjdG9yICsgJyAuc3RhZmYnKSk7XG5cbiAgICBpZiAoaXNTZWxCeUJCb3goKSlcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IgKyAnIC5zeWxUZXh0UmVjdC1kaXNwbGF5JykpO1xuXG4gICAgcmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArICcgdXNlJykpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0aW5nICgpOiB2b2lkIHtcbiAgICBpZiAoIXBhbm5pbmcgJiYgZHJhZ1NlbGVjdGluZykge1xuICAgICAgY29uc3QgY3VycmVudFB0ID0gZDMubW91c2UodGhpcyk7XG4gICAgICBjb25zdCBjdXJYID0gY3VycmVudFB0WzBdO1xuICAgICAgY29uc3QgY3VyWSA9IGN1cnJlbnRQdFsxXTtcblxuICAgICAgY29uc3QgbmV3WCA9IGN1clggPCBpbml0aWFsWCA/IGN1clggOiBpbml0aWFsWDtcbiAgICAgIGNvbnN0IG5ld1kgPSBjdXJZIDwgaW5pdGlhbFkgPyBjdXJZIDogaW5pdGlhbFk7XG4gICAgICBjb25zdCB3aWR0aCA9IGN1clggPCBpbml0aWFsWCA/IGluaXRpYWxYIC0gY3VyWCA6IGN1clggLSBpbml0aWFsWDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGN1clkgPCBpbml0aWFsWSA/IGluaXRpYWxZIC0gY3VyWSA6IGN1clkgLSBpbml0aWFsWTtcblxuICAgICAgdXBkYXRlUmVjdChuZXdYLCBuZXdZLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9IGVsc2UgaWYgKHBhbm5pbmcpIHtcbiAgICAgIGlmICh6b29tSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHpvb21IYW5kbGVyLmRyYWdnaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VsRW5kICgpOiB2b2lkIHtcbiAgICBpZiAoIXBhbm5pbmcgJiYgZHJhZ1NlbGVjdGluZykge1xuICAgICAgY29uc3Qgc2VsZWN0UmVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3RSZWN0Jyk7XG4gICAgICBjb25zdCByeCA9IHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCd4JykpO1xuICAgICAgY29uc3QgcnkgPSBwYXJzZUludChzZWxlY3RSZWN0LmdldEF0dHJpYnV0ZSgneScpKTtcbiAgICAgIGNvbnN0IGx4ID0gcnggKyBwYXJzZUludChzZWxlY3RSZWN0LmdldEF0dHJpYnV0ZSgnd2lkdGgnKSk7XG4gICAgICBjb25zdCBseSA9IHJ5ICsgcGFyc2VJbnQoc2VsZWN0UmVjdC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHRvIHRoZSBjb3JyZWN0IGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICBjb25zdCBub2RlID0gY2FudmFzLm5vZGUoKSBhcyBTVkdTVkdFbGVtZW50O1xuICAgICAgbGV0IHVsID0gbmV3IERPTVBvaW50KHJ4LCByeSksIGxyID0gbmV3IERPTVBvaW50KGx4LCBseSk7XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBub2RlLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKVxuICAgICAgICAubXVsdGlwbHkoKGNhbnZhcy5zZWxlY3QoJy5zeXN0ZW0nKS5ub2RlKCkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50KS5nZXRTY3JlZW5DVE0oKSlcbiAgICAgICAgLmludmVyc2UoKTtcbiAgICAgIHVsID0gdWwubWF0cml4VHJhbnNmb3JtKHRyYW5zZm9ybSk7XG4gICAgICBsciA9IGxyLm1hdHJpeFRyYW5zZm9ybSh0cmFuc2Zvcm0pO1xuXG4gICAgICAvLyBHZXQgYWxsIGVsZW1lbnRzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHNlbGVjdG9yXG4gICAgICBjb25zdCBlbGVtZW50cyA9IGdldEVsZW1lbnRzQnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAvLyBHZXQgdGhlIGVsZW1lbnRzIHdpdGhpbiB0aGUgc2VsZWN0aW9uIHJlY3RhbmdsZVxuICAgICAgY29uc3Qgc2VsZWN0ZWRFbGVtZW50cyA9IGVsZW1lbnRzLmZpbHRlcihlbCA9PiBpc0VsZW1lbnRJblJlY3QoZWwsIHVsLCBscikpO1xuXG4gICAgICAvLyBHZXQgb3RoZXIgaGFsdmVzIG9mIGxpZ2F0dXJlcyBpZiBvbmx5IG9uZSBpcyBzZWxlY3RlZFxuICAgICAgc2VsZWN0ZWRFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50OiBTVkdFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09ICd1c2UnICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goL0U5Qls0NTY3ODlBQkNdLykpIHtcbiAgICAgICAgICBjb25zdCBuZXVtZSA9IGVsZW1lbnQuY2xvc2VzdCgnLm5ldW1lJyk7XG4gICAgICAgICAgY29uc3QgbmNJbmRleCA9IEFycmF5LmZyb20obmV1bWUuY2hpbGRyZW4pLmluZGV4T2YoZWxlbWVudC5jbG9zZXN0KCcubmMnKSk7XG4gICAgICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goL0U5Qls0NTY3OF0vKSkge1xuICAgICAgICAgICAgLy8gQWRkIHNlY29uZCBoYWxmIG9mIGxpZ2F0dXJlIHRvIHNlbGVjdGVkIGxpc3QgaWYgbm90IGFscmVhZHkgcHJlc2VudFxuICAgICAgICAgICAgY29uc3Qgc2Vjb25kTmMgPSBuZXVtZS5jaGlsZHJlbltuY0luZGV4ICsgMV07XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRVc2UgPSBzZWNvbmROYy5xdWVyeVNlbGVjdG9yKCd1c2UnKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnRzLmluZGV4T2Yoc2Vjb25kVXNlKSA8IDApIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5wdXNoKHNlY29uZFVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFkZCBmaXJzdCBoYWxmIG9mIGxpZ2F0dXJlIHRvIHNlbGVjdGVkIGxpc3QgaWYgbm90IGFscmVhZHkgcHJlc2VudFxuICAgICAgICAgICAgY29uc3QgZmlyc3ROYyA9IG5ldW1lLmNoaWxkcmVuW25jSW5kZXggLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VXNlID0gZmlyc3ROYy5xdWVyeVNlbGVjdG9yKCd1c2UnKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnRzLmluZGV4T2YoZmlyc3RVc2UpIDwgMCkge1xuICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goZmlyc3RVc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZWxlY3RBbGwoc2VsZWN0ZWRFbGVtZW50cywgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcblxuICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICB9XG4gICAgICBkMy5zZWxlY3RBbGwoJyNzZWxlY3RSZWN0JykucmVtb3ZlKCk7XG4gICAgICBkcmFnU2VsZWN0aW5nID0gZmFsc2U7XG4gICAgfVxuICAgIHBhbm5pbmcgPSBmYWxzZTtcbiAgfVxuXG4gIGQzLnNlbGVjdEFsbChzZWxlY3Rvci5yZXBsYWNlKCcuYWN0aXZlLXBhZ2UnLCAnJykudHJpbSgpKVxuICAgIC5vbignLmRyYWcnLCBudWxsKTtcbiAgY29uc3QgZHJhZ1NlbGVjdEFjdGlvbiA9IGQzLmRyYWcoKVxuICAgIC5vbignc3RhcnQnLCBzZWxTdGFydClcbiAgICAub24oJ2RyYWcnLCBzZWxlY3RpbmcpXG4gICAgLm9uKCdlbmQnLCBzZWxFbmQpO1xuICBjYW52YXMuY2FsbChkcmFnU2VsZWN0QWN0aW9uKTtcbiAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgZHJhZ0hhbmRsZXIucmVzZXRUbyhkcmFnU2VsZWN0QWN0aW9uKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSAnLi9yYW5kb20nO1xuaW1wb3J0ICogYXMgdmtiZWF1dGlmeSBmcm9tICd2a2JlYXV0aWZ5JztcbmltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuXG4vLyBGb3IgZGV0YWlscyBhYm91dCB0aGUgZmlsZSBjb252ZXJzaW9uLFxuLy8gcmVmZXIgdG8gdGhpcyBsaW5rOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0RETUFML05lb24vd2lraS9OZW9uJUUyJTgwJTkwVmVyb3Zpby1GaWxlLUNvbnZlcnNpb25cblxuZXhwb3J0IGZ1bmN0aW9uIHppcDxUPiAoYXJyYXkxOiBBcnJheTxUPiwgYXJyYXkyOiBBcnJheTxUPik6IEFycmF5PFQ+IHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgKGFycmF5MS5sZW5ndGggPiBhcnJheTIubGVuZ3RoID8gYXJyYXkyLmxlbmd0aCA6IGFycmF5MS5sZW5ndGgpOyBpKyspIHtcbiAgICByZXN1bHQucHVzaChbYXJyYXkxW2ldLCBhcnJheTJbaV1dKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBjb3B5QXR0cmlidXRlcyhzcmM6IEVsZW1lbnQsIGRzdDogRWxlbWVudCk6IHZvaWQge1xuICBmb3IgKGNvbnN0IGF0dHIgb2Ygc3JjLmF0dHJpYnV0ZXMpIHtcbiAgICBkc3Quc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb05lb24oc3RhZmZCYXNlZE1laTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhzdGFmZkJhc2VkTWVpLCAndGV4dC94bWwnKTtcbiAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgbGV0IG5Db2wgPSAwO1xuXG4gIGNvbnN0IHNlY3Rpb25zID0gQXJyYXkuZnJvbShtZWkucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbjpub3QoW3R5cGU9XCJuZW9uLW5ldW1lLWxpbmVcIl0pJykpO1xuICBmb3IgKGNvbnN0IHNlY3Rpb24gb2Ygc2VjdGlvbnMpIHtcbiAgICAvLyBSZW1vdmUgZGlyZWN0IGNoaWxkcmVuIHBiICYgc2IgZWxlbWVudHMgd2l0aGluIHNlY3Rpb25cbiAgICBjb25zdCBwYnMgPSBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ3BiJyk7XG4gICAgcGJzLmZvckVhY2gocGIgPT4gcGIucmVtb3ZlKCkpO1xuICAgIGNvbnN0IHNicyA9IHNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnc2InKTtcbiAgICBzYnMuZm9yRWFjaChzYiA9PiBzYi5yZW1vdmUoKSk7XG5cbiAgICBjb25zdCBuZXdTdGFmZiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsICdzdGFmZicpO1xuICAgIGNvbnN0IG5ld0xheWVyID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ2xheWVyJyk7XG4gICAgbmV3U3RhZmYuc2V0QXR0cmlidXRlKCduJywgJzEnKTtcbiAgICBuZXdMYXllci5zZXRBdHRyaWJ1dGUoJ24nLCAnMScpO1xuICAgIG5ld1N0YWZmLmFwcGVuZENoaWxkKG5ld0xheWVyKTtcblxuICAgIC8vIEFkZCA8cGI+XG4gICAgY29uc3Qgc3VyZmFjZSA9IG1laS5xdWVyeVNlbGVjdG9yKCdzdXJmYWNlJyk7XG4gICAgY29uc3Qgc3VyZmFjZUlkID0gc3VyZmFjZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpO1xuICAgIGNvbnN0IHBiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ3BiJyk7XG4gICAgcGIuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgIHBiLnNldEF0dHJpYnV0ZSgnZmFjcycsICcjJyArIHN1cmZhY2VJZCk7XG4gICAgbmV3TGF5ZXIuYXBwZW5kQ2hpbGQocGIpO1xuXG4gICAgY29uc3QgbmVvbk5ldW1lTGluZVNlY3Rpb25zID0gQXJyYXkuZnJvbShzZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb25bdHlwZT1cIm5lb24tbmV1bWUtbGluZVwiXScpKTtcbiAgICBsZXQgblN0YWZmID0gMDtcbiAgICBsZXQgbGFzdENiOiBFbGVtZW50ID0gbnVsbDtcblxuICAgIGZvciAoY29uc3QgbmVvbk5ldW1lTGluZVNlY3Rpb24gb2YgbmVvbk5ldW1lTGluZVNlY3Rpb25zKSB7XG4gICAgICBuU3RhZmYgKz0gMTtcbiAgICAgIGNvbnN0IHN0YWZmID0gbmVvbk5ldW1lTGluZVNlY3Rpb24ucXVlcnlTZWxlY3Rvcignc3RhZmYnKTtcbiAgICAgIGlmICghc3RhZmYpIHtcbiAgICAgICAgbmVvbk5ldW1lTGluZVNlY3Rpb24ucmVtb3ZlKCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgbGF5ZXIgPSBzdGFmZi5xdWVyeVNlbGVjdG9yKCdsYXllcicpO1xuXG4gICAgICAvLyBpZiBzdGFmZiBoYXMgYSBuZXcgdHlwZSB2YWx1ZSxcbiAgICAgIC8vIGFkZCBjYiBiZWZvcmUgc2JcbiAgICAgIGlmIChzdGFmZi5oYXNBdHRyaWJ1dGUoJ3R5cGUnKSAmJiBzdGFmZi5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSAhPSAnY29sdW1uJyArIG5Db2wudG9TdHJpbmcoKSkge1xuICAgICAgICBuQ29sICs9IDE7XG4gICAgICAgIGNvbnN0IGNiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ2NiJyk7XG4gICAgICAgIGNiLnNldEF0dHJpYnV0ZSgnbicsIG5Db2wudG9TdHJpbmcoKSk7XG4gICAgICAgIGNiLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgICAgY2Iuc2V0QXR0cmlidXRlKCdmYWNzJywgJyNtLScgKyB1dWlkdjQoKSk7XG4gICAgICAgIG5ld0xheWVyLmFwcGVuZENoaWxkKGNiKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgem9uZSBmb3IgcHJldmlvdXMgY2JcbiAgICAgICAgaWYgKGxhc3RDYikge1xuICAgICAgICAgIGNhbGN1bGF0ZUFuZEFkZFpvbmUobGFzdENiLCBjYiwgc3VyZmFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdENiID0gY2I7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ3NiJyk7XG4gICAgICBzYi5zZXRBdHRyaWJ1dGUoJ24nLCBuU3RhZmYudG9TdHJpbmcoKSk7XG4gICAgICBzYi5zZXRBdHRyaWJ1dGUoJ2ZhY3MnLCBzdGFmZi5nZXRBdHRyaWJ1dGUoJ2ZhY3MnKSk7XG4gICAgICBzYi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsIHN0YWZmLmdldEF0dHJpYnV0ZSgneG1sOmlkJykpO1xuXG4gICAgICAvLyBIYW5kbGUgY3VzdG9zXG4gICAgICBsZXQgY3VzdG9zOiBFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKChuZXdMYXllci5sYXN0RWxlbWVudENoaWxkICE9PSBudWxsKSAmJlxuICAgICAgICAobmV3TGF5ZXIubGFzdEVsZW1lbnRDaGlsZC50YWdOYW1lID09PSAnY3VzdG9zJykpIHtcbiAgICAgICAgY3VzdG9zID0gbmV3TGF5ZXIucmVtb3ZlQ2hpbGQobmV3TGF5ZXIubGFzdEVsZW1lbnRDaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXN0b3MgIT09IHVuZGVmaW5lZCkgbmV3TGF5ZXIuYXBwZW5kQ2hpbGQoY3VzdG9zKTtcbiAgICAgIG5ld0xheWVyLmFwcGVuZENoaWxkKHNiKTtcblxuICAgICAgLy8gQWRkIHJlbWFpbmluZyBlbGVtZW50cyBvZiBsYXllciB0byBuZXdMYXllclxuICAgICAgd2hpbGUgKGxheWVyLmZpcnN0RWxlbWVudENoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIG5ld0xheWVyLmFwcGVuZENoaWxkKGxheWVyLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgIH1cbiAgICAgIG5lb25OZXVtZUxpbmVTZWN0aW9uLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBhbmQgYWRkIHpvbmUgZm9yIHRoZSBsYXN0IGNiIGluIHRoZSBzZWN0aW9uXG4gICAgaWYgKGxhc3RDYikge1xuICAgICAgY2FsY3VsYXRlQW5kQWRkWm9uZShsYXN0Q2IsIG51bGwsIHN1cmZhY2UpO1xuICAgIH1cbiAgICBzZWN0aW9uLmFwcGVuZENoaWxkKG5ld1N0YWZmKTtcbiAgfVxuXG4gIC8vIEFkZCA8Y29sTGF5b3V0PlxuICBpZiAobkNvbCkge1xuICAgIGNvbnN0IHNjb3JlRGVmID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3Njb3JlRGVmJyk7XG4gICAgY29uc3QgY29sTGF5b3V0ID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ2NvbExheW91dCcpO1xuICAgIGNvbExheW91dC5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgY29sTGF5b3V0LnNldEF0dHJpYnV0ZSgnbicsIG5Db2wudG9TdHJpbmcoKSk7XG4gICAgc2NvcmVEZWYuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIGNvbExheW91dCk7XG4gIH1cblxuICByZXR1cm4gdmtiZWF1dGlmeS54bWwoc2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhtZWlEb2MpKTtcblxuICBmdW5jdGlvbiBjYWxjdWxhdGVBbmRBZGRab25lKHN0YXJ0RWxlbWVudDogRWxlbWVudCwgZW5kRWxlbWVudDogRWxlbWVudCB8IG51bGwsIHN1cmZhY2U6IEVsZW1lbnQpIHtcbiAgICAvLyBDb2xsZWN0IGVsZW1lbnRzIGJldHdlZW4gc3RhcnRDYiBhbmQgZW5kQ2JcbiAgICBjb25zdCBlbGVtZW50c0JldHdlZW4gPSBjb2xsZWN0QWxsRWxlbWVudHNXaXRoRmFjcyhzdGFydEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLCBlbmRFbGVtZW50KTtcblxuICAgIC8vIENhbGN1bGF0ZSB6b25lIGF0dHJpYnV0ZXNcbiAgICBjb25zdCB6b25lID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ3pvbmUnKTtcbiAgICBjb25zdCBCQm94ID0gY2FsY3VsYXRlQkJveChlbGVtZW50c0JldHdlZW4sIHN1cmZhY2UpO1xuICAgIHpvbmUuc2V0QXR0cmlidXRlKCdscngnLCBCQm94LmxyeC50b1N0cmluZygpKTtcbiAgICB6b25lLnNldEF0dHJpYnV0ZSgnbHJ5JywgQkJveC5scnkudG9TdHJpbmcoKSk7XG4gICAgem9uZS5zZXRBdHRyaWJ1dGUoJ3VseCcsIEJCb3gudWx4LnRvU3RyaW5nKCkpO1xuICAgIHpvbmUuc2V0QXR0cmlidXRlKCd1bHknLCBCQm94LnVseS50b1N0cmluZygpKTtcbiAgICB6b25lLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgc3RhcnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZmFjcycpLnNsaWNlKDEpKTtcblxuICAgIC8vIEFkZCB6b25lIHRvIHRoZSBiZWdpbm5pbmcgb2Ygc3VyZmFjZSBjaGlsZHJlblxuICAgIHN1cmZhY2UuaW5zZXJ0QmVmb3JlKHpvbmUsIHN1cmZhY2UuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29sbGVjdEFsbEVsZW1lbnRzV2l0aEZhY3MoZWxlbWVudDogRWxlbWVudCwgZW5kRWxlbWVudDogRWxlbWVudCwgZWxlbWVudHNCZXR3ZWVuID0gW10pIHtcbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50ICE9PSBlbmRFbGVtZW50KSB7XG4gICAgICAvLyBQdXNoIGVsZW1lbnRzIG9ubHkgaWYgaXQgaGFzIGZhY3NcbiAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnZmFjcycpKSBlbGVtZW50c0JldHdlZW4ucHVzaChlbGVtZW50KTtcblxuICAgICAgaWYgKGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGVsZW1lbnQuY2hpbGRyZW4pIHtcbiAgICAgICAgICBjb2xsZWN0QWxsRWxlbWVudHNXaXRoRmFjcyhjaGlsZCwgZW5kRWxlbWVudCwgZWxlbWVudHNCZXR3ZWVuKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgY29sbGVjdEFsbEVsZW1lbnRzV2l0aEZhY3MoZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcsIGVuZEVsZW1lbnQsIGVsZW1lbnRzQmV0d2Vlbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnRzQmV0d2VlbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUJCb3goZWxlbWVudHM6IEVsZW1lbnRbXSwgc3VyZmFjZTogRWxlbWVudCkge1xuICAgIGxldCBscnggPSBJbmZpbml0eTsgbGV0IGxyeSA9IDA7IGxldCB1bHggPSAwOyBsZXQgdWx5ID0gSW5maW5pdHk7XG5cbiAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCB6b25lID0gQXJyYXkuZnJvbShzdXJmYWNlLmNoaWxkcmVuKS5maW5kKHpvbmUgPT5cbiAgICAgICAgem9uZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpID09PSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZmFjcycpLnNsaWNlKDEpKTtcbiAgICAgIGxyeCA9IE1hdGgubWluKGxyeCwgcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ2xyeCcpKSk7XG4gICAgICBscnkgPSBNYXRoLm1heChscnksIHBhcnNlSW50KHpvbmUuZ2V0QXR0cmlidXRlKCdscnknKSkpO1xuICAgICAgdWx4ID0gTWF0aC5tYXgodWx4LCBwYXJzZUludCh6b25lLmdldEF0dHJpYnV0ZSgndWx4JykpKTtcbiAgICAgIHVseSA9IE1hdGgubWluKHVseSwgcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ3VseScpKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4geyBscngsIGxyeSwgdWx4LCB1bHkgfTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3lsbGFibGVUZXh0IChzeWxsYWJsZTogRWxlbWVudCk6IHN0cmluZyB7XG4gIGNvbnN0IHN5bCA9IHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3N5bCcpPy5jaGlsZE5vZGVzWzBdO1xuICBsZXQgc3lsVGV4dDogc3RyaW5nO1xuICBpZiAoc3lsKSB7XG4gICAgc3lsVGV4dCA9IHN5bC5ub2RlVmFsdWU7XG4gIH1cbiAgZWxzZSB7XG4gICAgc3lsVGV4dCA9ICfil4onO1xuICB9XG5cbiAgcmV0dXJuIHN5bFRleHQ7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgem9uZSBpcyBhbGwtemVybyBvciBub3QgbGlua2VkIHdpdGggZ2x5cGhzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ludmFsaWRCQm94IChtZWk6IEhUTUxFbGVtZW50LCB6b25lOiBFbGVtZW50KTogW2Jvb2xlYW4sIEVsZW1lbnQ/XSB7XG4gIGNvbnN0IGlzQWxsWmVybyA9IChwYXJzZUludCh6b25lLmdldEF0dHJpYnV0ZSgnbHJ4JykpID09PSAwKSAmJlxuICAgIChwYXJzZUludCh6b25lLmdldEF0dHJpYnV0ZSgnbHJ5JykpID09PSAwKSAmJlxuICAgIChwYXJzZUludCh6b25lLmdldEF0dHJpYnV0ZSgndWx4JykpID09PSAwKSAmJlxuICAgIChwYXJzZUludCh6b25lLmdldEF0dHJpYnV0ZSgndWx5JykpID09PSAwKTtcbiAgY29uc3QgZWxlbWVudCA9IG1laS5xdWVyeVNlbGVjdG9yKGAqW2ZhY3M9XCIkeycjJyt6b25lLmdldEF0dHJpYnV0ZSgneG1sOmlkJyl9XCJdYCk7XG4gIGlmIChpc0FsbFplcm8gfHwgIWVsZW1lbnQpIHJldHVybiBbdHJ1ZSwgZWxlbWVudF07XG4gIHJldHVybiBbZmFsc2VdO1xufVxuXG5cbi8qKlxuICogQ29udmVydCBzYiB0byBzdGFmZiBmb3IgdmVyb3Zpb1xuICogQWxzbyBkbyBoZXVyaXN0aWMgY2hlY2tzOlxuICogICAgMS4gaW52YWxpZCB6b25lc1xuICogICAgMi4gbmV1bWUgd2l0aG91dCBuZXVtZSBjb21wb25lbnRcbiAqICAgIDMuIHN5bGxhYmxlIHdpdGhvdXQgbmV1bWVcbiAqICAgIDQuIGxpbmtlZCBzeWxsYWJsZXMgbm90IGxpbmtlZFxuICogICAgNS4gaW5jb21wbGV0ZSBsaW5rZWQgc3lsbGFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb1Zlcm92aW8oc2JCYXNlZE1laTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHNiQmFzZWRNZWksICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuICBsZXQgaGFzQ29scyA9IGZhbHNlO1xuXG4gIGNvbnN0IGZhY3NpbWlsZSA9IG1laS5xdWVyeVNlbGVjdG9yKCdmYWNzaW1pbGUnKTtcbiAgZmFjc2ltaWxlLnNldEF0dHJpYnV0ZSgndHlwZScsICd0cmFuc2NyaXB0aW9uJyk7XG5cbiAgLy8gUmVtb3ZlIGFsbC16ZXJvIHpvbmVzXG4gIC8vIFJlbW92ZSB6b25lcyBub3QgbGlua2VkIHdpdGggZ2x5cGhzXG4gIGNvbnN0IHN1cmZhY2UgPSBtZWkucXVlcnlTZWxlY3Rvcignc3VyZmFjZScpO1xuICBsZXQgaGFzSW52YWxpZEJCb3ggPSBmYWxzZTtcbiAgY29uc3Qgem9uZXMgPSBBcnJheS5mcm9tKHN1cmZhY2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3pvbmUnKSk7XG4gIGZvciAoY29uc3Qgem9uZSBvZiB6b25lcykge1xuICAgIGNvbnN0IFtpc0ludmFsaWQsIGVsZW1lbnRdID0gaXNJbnZhbGlkQkJveChtZWksIHpvbmUpO1xuICAgIGlmIChpc0ludmFsaWQpIHtcbiAgICAgIGlmIChlbGVtZW50KSBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgICB6b25lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoem9uZSk7XG4gICAgICBoYXNJbnZhbGlkQkJveCA9IHRydWU7XG4gICAgfVxuICB9XG4gIGlmIChoYXNJbnZhbGlkQkJveCkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignUmVtb3ZlZCBpbnZhbGlkIHpvbmVzIGNvbnRhaW5lZCBpbiB0aGlzIGZpbGUnLCAnd2FybmluZycpO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgPGNvbExheW91dD4gZWxlbWVudCBhbmQgcmVtb3ZlIHRoZW1cbiAgLy8gVGhlcmUgd2lsbCBvbmx5IGJlIG9uZSA8Y29sTGF5b3V0PiBlbGVtZW50XG4gIGNvbnN0IGNvbExheW91dCA9IG1laS5xdWVyeVNlbGVjdG9yKCdjb2xMYXlvdXQnKTtcbiAgaWYgKGNvbExheW91dCkge1xuICAgIGhhc0NvbHMgPSB0cnVlO1xuICAgIGNvbExheW91dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbExheW91dCk7XG4gIH1cblxuICAvLyBDaGVjayBzeWxsYWJsZSB3aXRob3V0IG5ldW1lXG4gIGNvbnN0IHN5bGxhYmxlcyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzeWxsYWJsZScpKTtcbiAgbGV0IGhhc0VtcHR5U3lsbGFibGUgPSBmYWxzZTtcbiAgbGV0IGhhc0VtcHR5TmV1bWUgPSBmYWxzZTtcbiAgbGV0IGVtcHR5U3lsbGFibGVJbmZvID0gJ1RoZSBmb2xsb3dpbmcgc3lsbGFibGUocykgaGF2ZSBubyBuZXVtZXM6IFxcblxcbic7XG4gIGxldCBlbXB0eU5ldW1lSW5mbyA9ICdUaGUgZm9sbG93aW5nIG5ldW1lKHMpIGhhdmUgbm8gbmV1bWUgY29tcG9uZW50czogXFxuXFxuJztcbiAgZm9yIChjb25zdCBzeWxsYWJsZSBvZiBzeWxsYWJsZXMpIHtcbiAgICBpZiAoc3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25ldW1lJykubGVuZ3RoID09PSAwKSB7XG4gICAgICBoYXNFbXB0eVN5bGxhYmxlID0gdHJ1ZTtcbiAgICAgIGVtcHR5U3lsbGFibGVJbmZvICs9IGAtICZsdDske3N5bGxhYmxlLnRhZ05hbWV9Jmd0OyB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfVxcbmA7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgbmV1bWUgd2l0aG91dCBuZXVtZSBjb21wb25lbnRcbiAgICBjb25zdCBuZXVtZXMgPSBzeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmV1bWUnKTtcbiAgICBmb3IgKGNvbnN0IG5ldW1lIG9mIG5ldW1lcykge1xuICAgICAgY29uc3QgbmNzID0gQXJyYXkuZnJvbShuZXVtZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmMnKSk7XG4gICAgICBpZiAobmNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBoYXNFbXB0eU5ldW1lID0gdHJ1ZTtcbiAgICAgICAgZW1wdHlOZXVtZUluZm8gKz0gYC0gJmx0OyR7bmV1bWUudGFnTmFtZX0mZ3Q7IHdpdGggeG1sOmlkOiAke25ldW1lLmdldEF0dHJpYnV0ZSgneG1sOmlkJyl9XFxuYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRvIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZTpcbiAgICAgICAgLy8gSWYgbmMgaGFzIGEgQGN1cnZlIHZhbHVlLCBhZGQgYSA8bGlxdWVzY2VudD4gZWxlbWVudFxuICAgICAgICBmb3IgKGNvbnN0IG5jIG9mIG5jcykge1xuICAgICAgICAgIGlmIChuYy5oYXNBdHRyaWJ1dGUoJ2N1cnZlJykgJiYgbmMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBsaXEgPSBtZWlEb2MuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgICAgICAgICAnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJyxcbiAgICAgICAgICAgICAgJ2xpcXVlc2NlbnQnXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbGlxLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgICAgICAgIG5jLmFwcGVuZENoaWxkKGxpcSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGhhc0VtcHR5U3lsbGFibGUpIHtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RoaXMgZmlsZSBjb250YWlucyBzeWxsYWJsZShzKSB3aXRob3V0IG5ldW1lIScsICd3YXJuaW5nJywgZW1wdHlTeWxsYWJsZUluZm8pO1xuICB9XG4gIGlmIChoYXNFbXB0eU5ldW1lKSB7XG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdUaGlzIGZpbGUgY29udGFpbnMgbmV1bWUocykgd2l0aG91dCBuZXVtZSBjb21wb25lbnQhJywgJ3dhcm5pbmcnLCBlbXB0eU5ldW1lSW5mbyk7XG4gIH1cblxuICAvLyBHbyBzZWN0aW9uIGJ5IHNlY3Rpb24ganVzdCBpbiBjYXNlXG4gIGNvbnN0IHNlY3Rpb25zID0gQXJyYXkuZnJvbShtZWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NlY3Rpb24nKSk7XG4gIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBzZWN0aW9ucykge1xuICAgIC8vIEluIGNhc2UgdGhlcmUgYXJlIG11bHRpcGxlIHN0YXZlcyBoZXJlIHdlIHdhbnQgdG8gcHJlc2VydmUgdGhvc2VcbiAgICAvLyBBIHNlcGFyYXRlIGFycmF5IGlzIG5lY2Vzc2FyeSBhcyB0aGUgSFRNTENvbGxlY3Rpb24gd2lsbCB1cGRhdGUhXG4gICAgY29uc3Qgb3JpZ2luYWxTdGF2ZXMgPSBBcnJheS5mcm9tKHNlY3Rpb24uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0YWZmJykpO1xuICAgIGZvciAoY29uc3Qgc3RhZmYgb2Ygb3JpZ2luYWxTdGF2ZXMpIHtcbiAgICAgIC8vIEFkZCBhIHBiIHdpdGggYSBmYWNzIHBvaW50aW5nIHRvIHRoZSBzdXJmYWNlXG4gICAgICBjb25zdCBuZXdQYiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsICdwYicpO1xuICAgICAgbmV3UGIuc2V0QXR0cmlidXRlKCdmYWNzJywgJyMnICsgc3VyZmFjZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpKTtcbiAgICAgIHNlY3Rpb24uaW5zZXJ0QmVmb3JlKG5ld1BiLCBzdGFmZik7XG5cbiAgICAgIGNvbnN0IGxheWVyID0gc3RhZmYucXVlcnlTZWxlY3RvcignbGF5ZXInKTtcbiAgICAgIC8vIEZpcnN0IHBhc3M6IGdldCBhbGwgc2IgZWxlbWVudHMgYXMgZGlyZWN0IGNoaWxkcmVuIG9mIGxheWVyXG4gICAgICBjb25zdCBzYkFycmF5ID0gQXJyYXkuZnJvbShsYXllci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2InKSk7XG4gICAgICAvLyBDaGVjayBpZiBhbnkgc3lsbGFibGVzIGhhdmUgc2IgaW5zaWRlIChsaW5rZWQgc3lsbGFibGVzKVxuICAgICAgLy8gS2VlcCB0aGlzIGNoZWNrIGZvciBmaWxlcyBub3QgcHJvZHVjZWQgYnkgUm9kYW5cbiAgICAgIGZvciAoY29uc3Qgc2Igb2Ygc2JBcnJheSkge1xuICAgICAgICBpZiAoc2IucGFyZW50RWxlbWVudC50YWdOYW1lICE9PSAnbGF5ZXInKSB7XG4gICAgICAgICAgY29uc3Qgb3JpZ1N5bGxhYmxlOiBFbGVtZW50ID0gc2IucGFyZW50RWxlbWVudDtcbiAgICAgICAgICBsZXQgbmV1bWVCZWhpbmQgPSBmYWxzZSwgbmV1bWVBaGVhZCA9IGZhbHNlO1xuICAgICAgICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBBcnJheS5mcm9tKG9yaWdTeWxsYWJsZS5jaGlsZHJlbik7XG4gICAgICAgICAgY29uc3Qgc2JJbmRleCA9IGNoaWxkQXJyYXkuaW5kZXhPZihzYik7XG4gICAgICAgICAgZm9yIChjb25zdCBuZXVtZSBvZiBvcmlnU3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25ldW1lJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZCA9IGNoaWxkQXJyYXkuaW5kZXhPZihuZXVtZSk7XG4gICAgICAgICAgICBpZiAoaW5kIDwgc2JJbmRleCkge1xuICAgICAgICAgICAgICBuZXVtZUJlaGluZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbmQgPiBzYkluZGV4KSB7XG4gICAgICAgICAgICAgIG5ldW1lQWhlYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE1hcmsgaWYgYSBuZXcgc3RhZmYgYmVnaW5zIGJlZm9yZSB0aGUgY3VycmVudCBzeWxsYWJsZSwgYWZ0ZXIgaXQsIG9yIGluIHRoZSBtaWRkbGUgb2YgaXRcbiAgICAgICAgICAvLyBJZiBpbiB0aGUgbWlkZGxlLCBsaW5rIHN5bGxhYmxlc1xuICAgICAgICAgIGlmICghbmV1bWVCZWhpbmQgJiYgbmV1bWVBaGVhZCkge1xuICAgICAgICAgICAgb3JpZ1N5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBzYik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKG5ldW1lQmVoaW5kICYmICFuZXVtZUFoZWFkKSB7XG4gICAgICAgICAgICBvcmlnU3lsbGFibGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIHNiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAobmV1bWVCZWhpbmQgJiYgbmV1bWVBaGVhZCl7XG4gICAgICAgICAgICAvLyBXZSBtYXkgbmVlZCB0byBzcGxpdCB0aGUgc3lsbGFibGUgaGVyZVxuICAgICAgICAgICAgY29uc3QgbmV3U3lsbGFibGUgPSBtZWlEb2MuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLCAnc3lsbGFibGUnKTtcbiAgICAgICAgICAgIG5ld1N5bGxhYmxlLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgICAgICAgIG5ld1N5bGxhYmxlLnNldEF0dHJpYnV0ZSgnZm9sbG93cycsICcjJyArIG9yaWdTeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpKTtcbiAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5zZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJywgJyMnICsgbmV3U3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNiSW5kZXggPSBjaGlsZEFycmF5LmluZGV4T2Yoc2IpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkQXJyYXkpIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjaGlsZEFycmF5LmluZGV4T2YoY2hpbGQpO1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPiBzYkluZGV4KSB7XG4gICAgICAgICAgICAgICAgbmV3U3lsbGFibGUuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgc2IpO1xuICAgICAgICAgICAgc2IuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIG5ld1N5bGxhYmxlKTtcblxuICAgICAgICAgICAgLy8gTW92ZSBhbnkgY3VzdG9zIGluIG9yaWdTeWxsYWJsZSBvdXQgb2YgaXRcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3VzdG9zIG9mIG9yaWdTeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY3VzdG9zJykpIHtcbiAgICAgICAgICAgICAgb3JpZ1N5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBjdXN0b3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNb3ZlIGFueSBjbGVmIGluIG5ld1N5bGxhYmxlIG91dCBvZiBpdFxuICAgICAgICAgICAgZm9yIChjb25zdCBjbGVmIG9mIG5ld1N5bGxhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjbGVmJykpIHtcbiAgICAgICAgICAgICAgbmV3U3lsbGFibGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmViZWdpbicsIGNsZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTk9ORSBCRUhJTkQgTk9ORSBBSEVBRCcpO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhvcmlnU3lsbGFibGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzYnMgPSBBcnJheS5mcm9tKGxheWVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzYicpKTtcbiAgICAgIGNvbnN0IGxheWVyQ2hpbGRyZW4gPSBBcnJheS5mcm9tKGxheWVyLmNoaWxkcmVuKTtcbiAgICAgIGxldCBuQ29sID0gMDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTYiA9IHNic1tpXTtcbiAgICAgICAgY29uc3QgbmV4dFNiID0gKHNicy5sZW5ndGggPiBpICsgMSkgPyBzYnNbaSArIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IG5ld1NiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ3NiJyk7XG4gICAgICAgIG5ld1NiLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgICAgbmV3U2Iuc2V0QXR0cmlidXRlKCdmYWNzJywgY3VycmVudFNiLmdldEF0dHJpYnV0ZSgnZmFjcycpKTtcblxuXG4gICAgICAgIGNvbnN0IG5ld1NlY3Rpb24gPSBtZWlEb2MuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLCAnc2VjdGlvbicpO1xuICAgICAgICBuZXdTZWN0aW9uLnNldEF0dHJpYnV0ZSgndHlwZScsICduZW9uLW5ldW1lLWxpbmUnKTtcblxuICAgICAgICBjb25zdCBuZXdTdGFmZiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsICdzdGFmZicpO1xuICAgICAgICBjb3B5QXR0cmlidXRlcyhjdXJyZW50U2IsIG5ld1N0YWZmKTtcbiAgICAgICAgbmV3U3RhZmYuc2V0QXR0cmlidXRlKCduJywgJzEnKTtcbiAgICAgICAgY29uc3QgY3VycmVudElkeCA9IGxheWVyQ2hpbGRyZW4uaW5kZXhPZihjdXJyZW50U2IpO1xuICAgICAgICBpZiAoaGFzQ29scykge1xuICAgICAgICAgIGlmIChsYXllckNoaWxkcmVuLmF0KGN1cnJlbnRJZHgtMSkudGFnTmFtZSA9PT0gJ2NiJykge1xuICAgICAgICAgICAgbkNvbCArPSAxO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGNiIGVsZW1lbnQgYW5kIGl0cyB6b25lXG4gICAgICAgICAgICBjb25zdCBjYiA9IGxheWVyQ2hpbGRyZW4uYXQoY3VycmVudElkeC0xKTtcbiAgICAgICAgICAgIGNvbnN0IGNiRmFjcyA9IGNiLmdldEF0dHJpYnV0ZSgnZmFjcycpO1xuICAgICAgICAgICAgY29uc3QgY2Jab25lID0gQXJyYXkuZnJvbShzdXJmYWNlLnF1ZXJ5U2VsZWN0b3JBbGwoJ3pvbmUnKSlcbiAgICAgICAgICAgICAgLmZpbmQoem9uZSA9PiB6b25lLmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IGNiRmFjcy5zbGljZSgxKSk7XG4gICAgICAgICAgICBjYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNiKTtcbiAgICAgICAgICAgIGNiWm9uZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNiWm9uZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld1N0YWZmLnNldEF0dHJpYnV0ZSgndHlwZScsICdjb2x1bW4nICsgbkNvbC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG5ld0xheWVyID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ2xheWVyJyk7XG4gICAgICAgIG5ld0xheWVyLnNldEF0dHJpYnV0ZSgnbicsICcxJyk7XG4gICAgICAgIG5ld0xheWVyLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgICAgbmV3U2VjdGlvbi5hcHBlbmRDaGlsZChuZXdTdGFmZik7XG4gICAgICAgIG5ld1N0YWZmLmFwcGVuZENoaWxkKG5ld0xheWVyKTtcblxuICAgICAgICBjb25zdCBjaGlsZHJlbkFycmF5ID0gQXJyYXkuZnJvbShsYXllci5jaGlsZHJlbik7XG4gICAgICAgIGNvbnN0IGNvcHlBcnJheSA9IGNoaWxkcmVuQXJyYXkuc2xpY2UoY2hpbGRyZW5BcnJheS5pbmRleE9mKGN1cnJlbnRTYikgKyAxLCBjaGlsZHJlbkFycmF5LmluZGV4T2YobmV4dFNiKSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjb3B5QXJyYXkpIHtcbiAgICAgICAgICBuZXdMYXllci5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdGhlIHpvbmVzIGZvciB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBvcmlnaW5hbCBmaWxlXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIGxhc3QgZWxlbWVudCBpcyBub3QgaW5jbHVkZWRcbiAgICAgICAgaWYgKCFuZXh0U2IpIHtcbiAgICAgICAgICBjb25zdCBsYXN0RWxlbWVudCA9IGNoaWxkcmVuQXJyYXkuYXQoLTEpO1xuICAgICAgICAgIGNvbnN0IGZhY3NDaGlsZHJlbiA9IGNvbGxlY3RGYWNzQ2hpbGRyZW4obGFzdEVsZW1lbnQsIFtdKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGZhY3NDaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3Qgem9uZSA9IHpvbmVzLmZpbmQoeiA9PiB6LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT0gY2hpbGQuZ2V0QXR0cmlidXRlKCdmYWNzJykuc2xpY2UoMSkpO1xuICAgICAgICAgICAgaWYgKHpvbmUgJiYgem9uZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICB6b25lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoem9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2VjdGlvbi5pbnNlcnRCZWZvcmUobmV3U2IsIHN0YWZmKTtcbiAgICAgICAgc2VjdGlvbi5pbnNlcnRCZWZvcmUobmV3U2VjdGlvbiwgc3RhZmYpO1xuICAgICAgfVxuICAgICAgc3RhZmYucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2Vjb25kIHBhc3Mgb24gYWxsIHN5bGxhYmxlcyB0byBoYW5kbGUgY2xlZnMgYW5kIGN1c3RvcyB0aGF0IG1pZ2h0IHJlbWFpblxuICBjb25zdCBuZXdTeWxsYWJsZXMgPSBBcnJheS5mcm9tKG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3lsbGFibGUnKSk7XG4gIGxldCBpbnZhbGlkTGlua2VkID0gZmFsc2U7XG4gIGxldCBpbnZhbGlkTGlua2VkSW5mbyA9ICdUaGUgZm9sbG93aW5nIGxpbmtlZCBzeWxsYWJsZXMgYXJlIG5vdCBlbmNvZGVkIGNvcnJlY3RseTogXFxuXFxuJztcbiAgbGV0IGludmFsaWRPYmxpcXVlID0gZmFsc2U7XG4gIGxldCBpbnZhbGlkT2JsaXF1ZUluZm8gPSAnVGhlIGZvbGxvd2luZyBvYmxpcXVlcyBhcmUgaW5jb21wbGV0ZTogXFxuXFxuJztcbiAgZm9yIChjb25zdCBzeWxsYWJsZSBvZiBtZWkucXVlcnlTZWxlY3RvckFsbCgnc3lsbGFibGUnKSkge1xuICAgIGZvciAoY29uc3QgY2xlZiBvZiBzeWxsYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCdjbGVmJykpIHtcbiAgICAgIHN5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBjbGVmKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjdXN0b3Mgb2Ygc3lsbGFibGUucXVlcnlTZWxlY3RvckFsbCgnY3VzdG9zJykpIHtcbiAgICAgIHN5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBjdXN0b3MpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGluY29tcGxldGUgb2JsaXF1ZXNcbiAgICAvLyBPYmxpcXVlcyBhbHdheXMgY29tZSBhcyBhIHBhaXJcbiAgICBjb25zdCBvYmxpcXVlSW5mbyA9IGNoZWNrT2JsaXF1ZShzeWxsYWJsZSk7XG4gICAgaWYgKG9ibGlxdWVJbmZvKSB7XG4gICAgICBpbnZhbGlkT2JsaXF1ZSA9IHRydWU7XG4gICAgICBpbnZhbGlkT2JsaXF1ZUluZm8gKz0gb2JsaXF1ZUluZm87XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgc3lsbGFibGVzIHRoYXQgY29udGFpbnMgQHByZWNlZGVzIG9yIEBmb2xsb3dzXG4gICAgLy8gVXBkYXRlIHN5bGxhYmxlIGFycmF5cyBmb3IgZWFjaCBzeWxsYWJsZVxuICAgIGNvbnN0IHN5bGxhYmxlSWR4ID0gbmV3U3lsbGFibGVzLmluZGV4T2Yoc3lsbGFibGUpO1xuXG4gICAgLy8gVmFsaWRhdGUgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZVxuICAgIC8vIENoZWNrIHRoZSBwcmVjZWRlcyBzeWxsYWJsZVxuICAgIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ3ByZWNlZGVzJykpIHtcbiAgICAgIGNvbnN0IGluZm8gPSBjaGVja1ByZWNlZGVzU3lsbGFibGUoc3lsbGFibGUsIHN5bGxhYmxlSWR4LCBuZXdTeWxsYWJsZXMpO1xuICAgICAgaWYgKGluZm8pIHtcbiAgICAgICAgaW52YWxpZExpbmtlZCA9IHRydWU7XG4gICAgICAgIGludmFsaWRMaW5rZWRJbmZvICs9IGluZm87XG4gICAgICB9XG4gICAgfVxuICAgIC8vIENoZWNrIHRoZSBmb2xsb3dzIHN5bGxhYmxlXG4gICAgaWYgKHN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnZm9sbG93cycpKSB7XG4gICAgICBjb25zdCBpbmZvID0gY2hlY2tGb2xsb3dzU3lsbGFibGUoc3lsbGFibGUsIG5ld1N5bGxhYmxlcyk7XG4gICAgICBpZiAoaW5mbykge1xuICAgICAgICBpbnZhbGlkTGlua2VkID0gdHJ1ZTtcbiAgICAgICAgaW52YWxpZExpbmtlZEluZm8gKz0gaW5mbztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGludmFsaWRPYmxpcXVlKSB7XG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdUaGlzIGZpbGUgY29udGFpbnMgaW5jb21wbGV0ZSBvYmxpcXVlKHMpJywgJ2Vycm9yJywgaW52YWxpZE9ibGlxdWVJbmZvKTtcbiAgfVxuICBpZiAoaW52YWxpZExpbmtlZCkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhpcyBmaWxlIGNvbnRhaW5zIGludmFsaWQgbGlua2VkIHN5bGxhYmxlKHMpJywgJ2Vycm9yJywgaW52YWxpZExpbmtlZEluZm8pO1xuICB9XG5cbiAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XG4gIHJldHVybiB2a2JlYXV0aWZ5LnhtbChzZXJpYWxpemVyLnNlcmlhbGl6ZVRvU3RyaW5nKG1laURvYykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tPdXRPZkJvdW5kc0dseXBocyAobWVpU3RyaW5nOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1laVN0cmluZywgJ3RleHQveG1sJyk7XG4gIGNvbnN0IG1laSA9IG1laURvYy5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgLy8gQ2hlY2sgZm9yIG91dC1vZi1ib3VuZCBnbHlwaHNcbiAgY29uc3Qgem9uZXMgPSBBcnJheS5mcm9tKG1laS5xdWVyeVNlbGVjdG9yQWxsKCd6b25lJykpO1xuICBjb25zdCBkaW1lbnNpb25zID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3N1cmZhY2UnKTtcbiAgY29uc3QgbWVpTHJ4ID0gTnVtYmVyKGRpbWVuc2lvbnMuZ2V0QXR0cmlidXRlKCdscngnKSksIG1laUxyeSA9IE51bWJlcihkaW1lbnNpb25zLmdldEF0dHJpYnV0ZSgnbHJ5JykpO1xuXG4gIGZ1bmN0aW9uIGlzQXR0ck91dE9mQm91bmRzKHpvbmU6IEVsZW1lbnQsIGF0dHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNvb3JkID0gTnVtYmVyKHpvbmUuZ2V0QXR0cmlidXRlKGF0dHIpKTtcbiAgICBjb25zdCBjb21wID0gKGF0dHIgPT0gJ2xyeCcgfHwgYXR0ciA9PSAndWx4JykgPyBtZWlMcnggOiBtZWlMcnk7XG4gICAgcmV0dXJuIGNvb3JkIDwgMCB8fCBjb29yZCA+IGNvbXA7XG4gIH1cblxuICBsZXQgaW5mbyA9ICdUaGUgZm9sbG93aW5nIGdseXBocyBhcmUgb3V0IG9mIGJvdW5kczogXFxuXFxuJztcblxuICBjb25zdCBoYXNPdXRPZkJvdW5kcyA9IHpvbmVzLnNvbWUoKHpvbmUpID0+IHtcbiAgICBjb25zdCBpc091dE9mQm91bmRzID0gWyd1bHgnLCAndWx5JywgJ2xyeCcsICdscnknXS5zb21lKChhdHRyKSA9PiBpc0F0dHJPdXRPZkJvdW5kcyh6b25lLCBhdHRyKSk7XG4gICAgaWYgKGlzT3V0T2ZCb3VuZHMpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBtZWkucXVlcnlTZWxlY3RvcihgKltmYWNzPVwiJHsnIycrem9uZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfVwiXWApO1xuICAgICAgaW5mbyArPSBgLSAmbHQ7JHtlbGVtZW50LnRhZ05hbWV9Jmd0OyB3aXRoIHhtbDppZDogJHtlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJyl9XFxuYDtcbiAgICB9XG4gICAgcmV0dXJuIGlzT3V0T2ZCb3VuZHM7XG4gIH0pO1xuXG4gIGlmIChoYXNPdXRPZkJvdW5kcykge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhpcyBmb2xpbyBjb250YWlucyBnbHlwaChzKSBwbGFjZWQgb3V0LW9mLWJvdW5kcyEnLCAnd2FybmluZycsIGluZm8pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrUHJlY2VkZXNTeWxsYWJsZSAoc3lsbGFibGU6IEVsZW1lbnQsIGlkeDogbnVtYmVyLCBzeWxsYWJsZXM6IEVsZW1lbnRbXSk6IHN0cmluZyB7XG4gIC8vIEdldCB4bWw6aWQgb2YgdGhlIG5leHQgc3lsbGFibGUgKHdpdGhvdXQgdGhlICMsIGlmIGl0IGV4aXN0cylcbiAgY29uc3QgbmV4dFN5bGxhYmxlSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJykucmVwbGFjZSgnIycsICcnKTtcblxuICAvLyBGaW5kIHRoZSBuZXh0IHN5bGxhYmxlIGFuZCBpdHMgaW5kZXggaW4gdGhlIGFycmF5XG4gIGxldCBuZXh0U3lsbGFibGVJZHg6IG51bWJlcjtcbiAgY29uc3QgbmV4dFN5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoKGVsZW1lbnQsIGlkeCkgPT4ge1xuICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IG5leHRTeWxsYWJsZUlkKSB7XG4gICAgICBuZXh0U3lsbGFibGVJZHggPSBpZHg7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG4gIC8vIENvbmRpdGlvbiAxOiBUaGUgbmV4dCAoZm9sbG93aW5nKSBzeWxsYWJsZSBjYW5ub3QgYmUgZm91bmRcbiAgaWYgKCFuZXh0U3lsbGFibGUpIHtcbiAgICByZXR1cm4gYC0gJmx0OyR7c3lsbGFibGUudGFnTmFtZX0mZ3Q7ICgke2dldFN5bGxhYmxlVGV4dChzeWxsYWJsZSl9KSB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfSBpcyBtaXNzaW5nIHRoZSBmb2xsb3dpbmcgcGFydFxcbmA7XG4gIH1cblxuICAvLyBDb25kaXRpb24gMjogVGhlIG5leHQgc3lsbGFibGUgaGFzIGJlZW4gZm91bmQsIGJ1dCB0aGUgQGZvbGxvd3MgYXR0cmlidXRlIGRvZXMgTk9UIEVYSVNUXG4gIGlmICghbmV4dFN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnZm9sbG93cycpKSB7XG4gICAgcmV0dXJuIGAtIFRoZSBmb2xsb3dpbmcgc3lsbGFibGUgb2YgJmx0OyR7c3lsbGFibGUudGFnTmFtZX0mZ3Q7ICgke2dldFN5bGxhYmxlVGV4dChzeWxsYWJsZSl9KSB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfSBpcyBub3QgbGlua2VkIHRvIGFueSBzeWxsYWJsZVxcbmA7XG4gIH1cblxuICAvLyBDb25kaXRpb24gMzogVGhlIG5leHQgc3lsbGFibGUncyBAZm9sbG93cyBhdHRyaWJ1dGUgZXhpc3RzLCBidXQgaXQgaXMgbm90IGluIHRoZSBjb3JyZWN0IGZvcm1hdCAjaWRcbiAgaWYgKG5leHRTeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSAhPSAnIycgKyBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpKSB7XG4gICAgcmV0dXJuIGAtIFRoZSBmb2xsb3dpbmcgc3lsbGFibGUgb2YgJmx0OyR7c3lsbGFibGUudGFnTmFtZX0mZ3Q7ICgke2dldFN5bGxhYmxlVGV4dChzeWxsYWJsZSl9KSB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfSBpcyBsaW5rZWQgdG8gdGhlIHdyb25nIHN5bGxhYmxlXFxuYDtcbiAgfVxuXG4gIC8vIENvbmRpdGlvbiA0OlxuICAvLyBTaW5jZSB0aGUgQGZvbGxvd3MgdmFsdWUgaXMgY29ycmVjdCwgYSBwYWlyIG9mIHN5bGxhYmxlcyBleGlzdCBmb3IgdGhlIHRvZ2dsZS1saW5rZWQgc3lsbGFibGUuXG4gIC8vIENoZWNrIGlmIHRoZSBAZm9sbG93cyBzeWxsYWJsZSBpcyB0aGUgbmV4dCBzeWxsYWJsZSAoaW5kZXgtd2lzZSkgaW4gdGhlIGFycmF5OlxuICBpZiAobmV4dFN5bGxhYmxlSWR4ICE9PSBpZHggKyAxKSB7XG4gICAgY29uc3Qgc3lsVGV4dCA9IGdldFN5bGxhYmxlVGV4dChzeWxsYWJsZSk7XG4gICAgY29uc3QgdW5leHBlY3RlZFN5bHNUZXh0ID0gc3lsbGFibGVzXG4gICAgICAuc2xpY2UoaWR4ICsgMSwgbmV4dFN5bGxhYmxlSWR4KVxuICAgICAgLm1hcCgoc3lsbGFibGUpID0+IGdldFN5bGxhYmxlVGV4dChzeWxsYWJsZSkpO1xuXG4gICAgY29uc3Qgc3lsc1RleHQgPSBbc3lsVGV4dCwgLi4udW5leHBlY3RlZFN5bHNUZXh0XS5qb2luKCcgLSAnKTtcbiAgICByZXR1cm4gYC0gVW5leHBlY3RlZCBzeWxsYWJsZShzKSBpbnNpZGUgdG9nZ2xlLWxpbmtlZCAmbHQ7JHtzeWxsYWJsZS50YWdOYW1lfSZndDsgKCR7c3lsc1RleHR9KSB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfSBpcyBsaW5rZWQgdG8gdGhlIHdyb25nIHN5bGxhYmxlXFxuYDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0ZvbGxvd3NTeWxsYWJsZSAoc3lsbGFibGU6IEVsZW1lbnQsIHN5bGxhYmxlczogRWxlbWVudFtdKTogc3RyaW5nIHtcbiAgY29uc3QgcHJldlN5bGxhYmxlSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ2ZvbGxvd3MnKS5yZXBsYWNlKCcjJywgJycpO1xuICBjb25zdCBwcmV2U3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZCgoc3lsbGFibGUpID0+IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IHByZXZTeWxsYWJsZUlkKTtcblxuICAvLyBDb25kaXRpb24gMTogVGhlIHByZXZpb3VzIHN5bGxhYmxlIGRvZXMgbm90IGV4aXN0XG4gIGlmICghcHJldlN5bGxhYmxlKSB7XG4gICAgcmV0dXJuIGAtICZsdDske3N5bGxhYmxlLnRhZ05hbWV9Jmd0OyAoJHtnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpfSkgd2l0aCB4bWw6aWQ6ICR7c3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKX0gaXMgbWlzc2luZyB0aGUgcHJlY2VkaW5nIHBhcnRcXG5gO1xuICB9XG5cbiAgLy8gQ29uZGl0aW9uIDI6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSBleGlzdHMsIGJ1dCB0aGUgQHByZWNlZGVzIGF0dHJpYnV0ZSBkb2VzIE5PVCBFWElTVFxuICBpZiAoIXByZXZTeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ3ByZWNlZGVzJykpIHtcbiAgICByZXR1cm4gYC0gVGhlIHByZWNlZGluZyBzeWxsYWJsZSBvZiAmbHQ7JHtzeWxsYWJsZS50YWdOYW1lfSZndDsgKCR7Z2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKX0pIHdpdGggeG1sOmlkOiAke3N5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyl9IGlzIG5vdCBsaW5rZWQgdG8gYW55IHN5bGxhYmxlXFxuYDtcbiAgfVxuXG4gIC8vIENvbmRpdGlvbiAzOiBUaGUgcHJldmlvdXMgc3lsbGFibGUncyBAcHJlY2VkZXMgYXR0cmlidXRlIGV4aXN0cywgYnV0IGl0IGlzIG5vdCBpbiB0aGUgY29ycmVjdCBmb3JtYXQgI2lkXG4gIGlmIChwcmV2U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdwcmVjZWRlcycpICE9ICcjJyArIHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJykpIHtcbiAgICByZXR1cm4gYC0gVGhlIHByZWNlZGluZyBzeWxsYWJsZSBvZiAmbHQ7JHtzeWxsYWJsZS50YWdOYW1lfSZndDsgKCR7Z2V0U3lsbGFibGVUZXh0KHByZXZTeWxsYWJsZSl9KSB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfSBpcyBsaW5rZWQgdG8gdGhlIHdyb25nIHN5bGxhYmxlXFxuYDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja09ibGlxdWUgKHN5bGxhYmxlOiBFbGVtZW50KTogc3RyaW5nIHtcbiAgY29uc3QgbmNzID0gc3lsbGFibGUucXVlcnlTZWxlY3RvckFsbCgnbmMnKTtcbiAgbGV0IG5jSWR4ID0gMDtcbiAgbGV0IGluZm8gPSAnJztcbiAgd2hpbGUgKG5jSWR4IDwgbmNzLmxlbmd0aCkge1xuICAgIGlmIChuY3NbbmNJZHhdLmdldEF0dHJpYnV0ZSgnbGlnYXRlZCcpKSB7XG4gICAgICBpZiAoKG5jSWR4IDwgbmNzLmxlbmd0aC0xICYmICFuY3NbbmNJZHgrMV0uZ2V0QXR0cmlidXRlKCdsaWdhdGVkJykpIHx8IChuY0lkeCA9PSBuY3MubGVuZ3RoLTEpKSB7XG4gICAgICAgIC8vIElmIG5jIGlzIGxpZ2F0ZWQsIGFuZCB0aGUgbmV4dCBuYyBpcyBub3RcbiAgICAgICAgLy8gT3IsIG5jIGlzIGxpZ2F0ZWQsIGJ1dCBhbHJlYWR5IGF0IHRoZSBlbmQgKHRoZXJlIGlzIG5vIG5leHQpXG4gICAgICAgIGluZm8gKz0gYC0gVGhlIG9ibGlxdWUgaW4gc3lsbGFibGUgKCR7Z2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKX0pIHdpdGggeG1sOmlkOiAke3N5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyl9XFxuYDtcbiAgICAgIH1cbiAgICAgIG5jSWR4ICs9IDI7XG4gICAgfVxuICAgIG5jSWR4ICs9IDE7XG4gIH1cblxuICByZXR1cm4gaW5mbztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNvbHVtbkxhYmVsKG1laTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1laSwgJ3RleHQveG1sJyk7XG4gIGNvbnN0IG1laUZvclZhbGlkYXRpb24gPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gIGZvciAoY29uc3Qgc3RhZmYgb2YgQXJyYXkuZnJvbShtZWlGb3JWYWxpZGF0aW9uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdGFmZicpKSkge1xuICAgIGlmIChzdGFmZi5oYXNBdHRyaWJ1dGUoJ3R5cGUnKSkge1xuICAgICAgc3RhZmYucmVtb3ZlQXR0cmlidXRlKCd0eXBlJyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XG4gIHJldHVybiB2a2JlYXV0aWZ5LnhtbChzZXJpYWxpemVyLnNlcmlhbGl6ZVRvU3RyaW5nKG1laUZvclZhbGlkYXRpb24pKTtcbn1cblxuZnVuY3Rpb24gY29sbGVjdEZhY3NDaGlsZHJlbihlbGVtZW50OiBFbGVtZW50LCBhcnJheTogRWxlbWVudFtdKTogRWxlbWVudFtdIHtcbiAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdmYWNzJykpIGFycmF5LnB1c2goZWxlbWVudCk7XG4gIGZvciAoY29uc3QgY2hpbGQgb2YgZWxlbWVudC5jaGlsZHJlbikge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNhbGwgdGhlIGZ1bmN0aW9uIGZvciBjaGlsZCdzIGNoaWxkcmVuXG4gICAgY29sbGVjdEZhY3NDaGlsZHJlbihjaGlsZCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCB7IE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4vdXRpbHMvTW9kYWxXaW5kb3cnO1xuXG5jb25zdCBzY2hlbWFSZXNwb25zZSA9IGZldGNoKF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL21laS1hbGwucm5nJyk7XG5sZXQgd29ya2VyOiBXb3JrZXIsIHNjaGVtYTogc3RyaW5nLCB2ZXJzaW9uRmllbGQ6IEhUTUxTcGFuRWxlbWVudCwgc3RhdHVzRmllbGQ6IEhUTUxTcGFuRWxlbWVudDtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIFVJIHdpdGggdGhlIHZhbGlkYXRpb24gcmVzdWx0cy4gQ2FsbGVkIHdoZW4gdGhlIFdlYldvcmtlciBmaW5pc2hlcyB2YWxpZGF0aW5nLlxuICovXG5mdW5jdGlvbiB1cGRhdGVTdGF0dXNVSSAobWVzc2FnZTogeyBkYXRhOiBzdHJpbmdbXSB9KTogdm9pZCB7XG4gIGNvbnN0IGVycm9ycyA9IG1lc3NhZ2UuZGF0YTtcbiAgaWYgKGVycm9ycyA9PT0gbnVsbCkge1xuICAgIHN0YXR1c0ZpZWxkLnRleHRDb250ZW50ID0gJ1ZBTElEJztcbiAgICBzdGF0dXNGaWVsZC5zdHlsZS5jb2xvciA9ICcjNGJjMTRiJztcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHN0YXR1c0ZpZWxkLmNoaWxkcmVuKSB7XG4gICAgICBjaGlsZC5yZW1vdmUoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IGxvZyA9ICcnO1xuICAgIGVycm9ycy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgbG9nICs9IGxpbmUgKyAnXFxuJztcbiAgICB9KTtcbiAgICBzdGF0dXNGaWVsZC50ZXh0Q29udGVudCA9ICcnO1xuICAgIHN0YXR1c0ZpZWxkLnN0eWxlLmNvbG9yID0gJ3JlZCc7XG4gICAgLy8gQ3JlYXRlIGEgbmV3IGRpdiBmb3IgZWFzaWVyIGxvZyBpbXBsZW1lbnRhdGlvblxuICAgIGNvbnN0IHN0YXR1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIC8vbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQobG9nKX1gKTtcbiAgICAvL2xpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICd2YWxpZGF0aW9uLmxvZycpO1xuICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICdJTlZBTElEJztcbiAgICBzdGF0dXMuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgIHN0YXR1c0ZpZWxkLmFwcGVuZENoaWxkKHN0YXR1cyk7XG5cbiAgICBzdGF0dXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGF0dXNPbkNsaWNrLmJpbmQodGhpcywgbG9nKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlVmVyc2lvblVJICh2ZXJzaW9uOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKCF2ZXJzaW9uKSB7XG4gICAgcmV0dXJuO1xuICB9IFxuXG4gIHN3aXRjaCAodmVyc2lvbikge1xuICAgIGNhc2UgJ3Vua25vd24nOlxuICAgICAgdmVyc2lvbkZpZWxkLnRleHRDb250ZW50ID0gdmVyc2lvbjtcbiAgICAgIHZlcnNpb25GaWVsZC5zdHlsZS5jb2xvciA9ICdncmF5JztcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHZlcnNpb25GaWVsZC50ZXh0Q29udGVudCA9IHZlcnNpb247XG4gICAgICB2ZXJzaW9uRmllbGQuc3R5bGUuY29sb3IgPSAnIzY4QTdBRCc7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhdHVzT25DbGljayhsb2c6IHN0cmluZykge1xuICB0aGlzLm1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuRVJST1JfTE9HLCBsb2cpO1xuICB0aGlzLm1vZGFsLm9wZW5Nb2RhbFdpbmRvdygpO1xufVxuXG4vKipcbiAqIEFkZCB0aGUgdmFsaWRhdGlvbiBpbmZvcm1hdGlvbiB0byB0aGUgZGlzcGxheSBhbmQgY3JlYXRlIHRoZSBXZWJXb3JrZXJcbiAqIGZvciB2YWxpZGF0aW9uIE1FSS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXQgKG5lb25WaWV3OiBOZW9uVmlldyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBmaWxlU3RhdHVzRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUtc3RhdHVzJyk7XG4gIGlmIChmaWxlU3RhdHVzRGl2ICE9PSBudWxsKSB7XG4gICAgY29uc3QgbWVpVmVyc2lvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWlfdmVyc2lvbicpO1xuICAgIG1laVZlcnNpb24udGV4dENvbnRlbnQgPSAndW5rbm93bic7XG4gICAgdmVyc2lvbkZpZWxkID0gbWVpVmVyc2lvbjtcblxuICAgIGNvbnN0IG1laVN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YWxpZGF0aW9uX3N0YXR1cycpO1xuICAgIG1laVN0YXR1cy50ZXh0Q29udGVudCA9ICd1bmtub3duJztcbiAgICBzdGF0dXNGaWVsZCA9IG1laVN0YXR1cztcbiAgICB3b3JrZXIgPSBuZXcgV29ya2VyKF9fQVNTRVRfUFJFRklYX18gKyAnd29ya2Vycy9Xb3JrZXIuanMnKTtcbiAgICB3b3JrZXIub25tZXNzYWdlID0gdXBkYXRlU3RhdHVzVUkuYmluZChuZW9uVmlldyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kIHRoZSBjb250ZW50cyBvZiBhbiBNRUkgZmlsZSB0byB0aGUgV2ViV29ya2VyIGZvciB2YWxpZGF0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IG1laURhdGFcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRGb3JWYWxpZGF0aW9uIChtZWlEYXRhOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKHN0YXR1c0ZpZWxkID09PSB1bmRlZmluZWQgfHwgdmVyc2lvbkZpZWxkID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHNjaGVtYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzY2hlbWFSZXNwb25zZTtcbiAgICBzY2hlbWEgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIH1cbiAgc3RhdHVzRmllbGQudGV4dENvbnRlbnQgPSAnY2hlY2tpbmcuLi4nO1xuICBzdGF0dXNGaWVsZC5zdHlsZS5jb2xvciA9ICdncmF5JztcbiAgd29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICBtZWk6IG1laURhdGEsXG4gICAgc2NoZW1hOiBzY2hlbWFcbiAgfSk7XG5cbiAgdmVyc2lvbkZpZWxkLnRleHRDb250ZW50ID0gJ2NoZWNraW5nLi4uJztcbiAgdmVyc2lvbkZpZWxkLnN0eWxlLmNvbG9yID0gJ2dyYXknO1xuICBjb25zdCBtZWlWZXJzaW9uID0gYXdhaXQgZ2V0TWVpVmVyc2lvbihtZWlEYXRhKTtcbiAgdXBkYXRlVmVyc2lvblVJKG1laVZlcnNpb24pO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgbWVzc2FnZSBvbiBhIGJsYW5rIHBhZ2Ugd2hlbiB0aGVyZSBpcyBubyBNRUkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBibGFua1BhZ2UgKCk6IHZvaWQge1xuICBpZiAoc3RhdHVzRmllbGQgPT09IHVuZGVmaW5lZCB8fCB2ZXJzaW9uRmllbGQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgZm9yIChjb25zdCBjaGlsZCBvZiBzdGF0dXNGaWVsZC5jaGlsZHJlbikge1xuICAgIGNoaWxkLnJlbW92ZSgpO1xuICB9XG4gIHN0YXR1c0ZpZWxkLnRleHRDb250ZW50ID0gJ05vIE1FSSc7XG4gIHN0YXR1c0ZpZWxkLnN0eWxlLmNvbG9yID0gJ2NvbG9yOmdyYXknO1xuXG4gIHZlcnNpb25GaWVsZC50ZXh0Q29udGVudCA9ICdObyBNRUknO1xuICB2ZXJzaW9uRmllbGQuc3R5bGUuY29sb3IgPSAnY29sb3I6Z3JheSc7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldE1laVZlcnNpb24obWVpRGF0YTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1laURhdGEsICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuICBcbiAgY29uc3QgbWVpVmVyc2lvbiA9IG1laS5nZXRBdHRyaWJ1dGUoJ21laXZlcnNpb24nKTtcbiAgaWYgKG1laVZlcnNpb24pIHtcbiAgICByZXR1cm4gbWVpVmVyc2lvbjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJ3Vua25vd24nO1xuICB9XG59IiwiXG4vLyBJbml0aWFsIHNhdmVkIHN0YXR1c1xubGV0IHNhdmVkID0gdHJ1ZTtcblxuXG4vKipcbiAqIFVwZGF0ZSBzdGF0dXMgb2Ygc2F2ZWQgc3RhdHVzIGluZGljYXRvclxuICovXG5mdW5jdGlvbiB1cGRhdGVJbmRpY2F0b3IgKCk6IHZvaWQge1xuICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignI2ZpbGUtc2F2ZWQnKTtcbiAgY29uc3QgcGF0aCA9IHNhdmVkPyBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2F2ZWQtaWNvbi5zdmdgIDogYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Vuc2F2ZWQtaWNvbi5zdmdgO1xuICBpbmRpY2F0b3Iuc2V0QXR0cmlidXRlKCdzcmMnLCBwYXRoKTtcbiAgLy8gc2V0IHRoZSBhbHQgYXR0cmlidXRlIG1lc3NhZ2UgZGVwZW5kaW5nIG9uIHdoZXRoZXIgbGF0ZXN0IGNoYW5nZXMgYXJlIHNhdmUgb3Igbm90XG4gIGNvbnN0IGFsdE1lc3NhZ2UgPSBzYXZlZD8gXCJZb3VyIHdvcmsgaXMgc2F2ZWRcIiA6IFwiWW91IGhhdmUgdW5zYXZlZCB3b3JrXCI7XG4gIGluZGljYXRvci5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGFsdE1lc3NhZ2UpO1xufVxuXG5cbi8qKlxuICogU2V0IHRoZSBzYXZlZCBzdGF0dXMgb2YgdGhlIGZvbGlvXG4gKiBcbiAqIEBwYXJhbSBzdGF0dXMgYm9vbGVhbiB2YWx1ZS4gdHJ1ZSBpZiBzdGF0dXMgaXMgXCJzYXZlZFwiLCBmYWxzZSBpZiBcIm5vdCBzYXZlZFwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTYXZlZFN0YXR1cyAoc3RhdHVzOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgc2F2ZWQgPSBzdGF0dXM7XG4gIHVwZGF0ZUluZGljYXRvcigpO1xufVxuXG5cbi8qKlxuICogRnVuY3Rpb24gdGhhdCBkZWZpbmVzIGV2ZW50IGxpc3RlbmVyIHRoYXQgY2hlY2tzIGZvciB1bnNhdmVkIGNoYW5nZXMgb24gcGFnZSByZWxvYWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlblVuc2F2ZWRDaGFuZ2VzICgpOiB2b2lkIHtcbiAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gKGU6IEJlZm9yZVVubG9hZEV2ZW50KSA9PiB7XG4gICAgaWYgKCFzYXZlZCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuICdZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMhJztcbiAgICB9XG4gIH07XG59IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrXG4gKiB0byBgY29uc29sZS5sb2dgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMubG9nID0gY29uc29sZS5kZWJ1ZyB8fCBjb25zb2xlLmxvZyB8fCAoKCkgPT4ge30pO1xuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cblxuXHQvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cdGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuXHRcdHIgPSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxuXG5cdHJldHVybiByO1xufVxuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcblx0dHJ5IHtcblx0XHQvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG5cdFx0Ly8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG5cbmNvbnN0IHtmb3JtYXR0ZXJzfSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcblx0fVxufTtcbiIsIi8qKiBAbW9kdWxlIFNxdWFyZUVkaXQvQ29udHJvbHMgKi9cblxuaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgeyBzZXRHcm91cGluZ0hpZ2hsaWdodCB9IGZyb20gJy4uL3V0aWxzL0NvbG9yJztcbmltcG9ydCB7IHVuc2VsZWN0IH0gZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0IEluc2VydEhhbmRsZXIgZnJvbSAnLi9JbnNlcnRIYW5kbGVyJztcbmltcG9ydCB7IGdldFNldHRpbmdzLCBzZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgSW5zZXJ0VGFiVHlwZSwgSW5zZXJ0VHlwZSB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqXG4gKiBCaW5kIGxpc3RlbmVycyB0byBpbnNlcnQgdGFicy4nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kSW5zZXJ0VGFicyAoaW5zZXJ0SGFuZGxlcjogSW5zZXJ0SGFuZGxlcik6IHZvaWQge1xuICBjb25zdCBpbnNlcnRUYWJzOiBFbGVtZW50W10gPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydFRhYicpKTtcbiAgY29uc3QgdGFiSWRzOiBzdHJpbmdbXSA9IGluc2VydFRhYnMubWFwKCh0YWIpID0+IHsgcmV0dXJuIHRhYi5pZDsgfSk7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChldnQuY29kZS5tYXRjaCgvXkRpZ2l0XFxkJC8pICYmIGV2dC5zaGlmdEtleSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBOdW1iZXIoZXZ0LmNvZGVbZXZ0LmNvZGUubGVuZ3RoIC0gMV0pIC0gMTtcbiAgICAgICAgY29uc3QgaW5zZXJ0T3B0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gaW5zZXJ0T3B0aW9uc1tpbmRleF07XG4gICAgICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+IHNlbGVjdGVkT3B0aW9uKS5jbGljaygpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdGFiSWRzLmZvckVhY2goKHRhYikgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBkZWFjdGl2YXRlKCcuaW5zZXJ0VGFiJyk7XG4gICAgICBhY3RpdmF0ZSh0YWIsIGluc2VydEhhbmRsZXIpO1xuICAgICAgc2V0U2V0dGluZ3MoeyBpbnNlcnRUYWI6IHRhYiBhcyBJbnNlcnRUYWJUeXBlIH0pO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9kYXRhJykuaW5uZXJIVE1MID0gQ29udGVudHMuaW5zZXJ0VGFiSHRtbFt0YWJdO1xuICAgICAgYmluZEVsZW1lbnRzKGluc2VydEhhbmRsZXIpO1xuICAgICAgZGVhY3RpdmF0ZSgnLmluc2VydGVsJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGluc2VydE1vZGUgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgICAgIGFjdGl2YXRlKGluc2VydE1vZGUsIGluc2VydEhhbmRsZXIpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zdCBmaXJzdE9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJylbMF07XG4gICAgICAgIGFjdGl2YXRlKGZpcnN0T3B0aW9uLmlkLCBpbnNlcnRIYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBFZGl0IGFuZCBJbnNlcnQgY29udHJvbCBwYW5lbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0SW5zZXJ0RWRpdENvbnRyb2xzICgpOiB2b2lkIHtcblxuICBjb25zdCBpbnNlcnRQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRfY29udHJvbHMnKTtcbiAgY29uc3QgaW5zZXJ0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRNZW51Jyk7XG4gIGNvbnN0IGluc2VydEhlYWRpbmdUaXRsZSA9IGluc2VydEhlYWRpbmcucXVlcnlTZWxlY3RvcignLnBhbmVsLWhlYWRpbmctdGl0bGUnKTtcbiAgY29uc3QgaW5zZXJ0Q29udGVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0Q29udGVudHMnKTtcbiAgY29uc3QgaW5zZXJ0RHJvcGRvd25JY29uID0gaW5zZXJ0SGVhZGluZy5xdWVyeVNlbGVjdG9yKCdzdmcgPiB1c2UnKTtcblxuICBjb25zdCBlZGl0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdF9jb250cm9scycpO1xuICBjb25zdCBlZGl0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TWVudScpO1xuICBjb25zdCBkaXNwbGF5SGVhZGluZ1RpdGxlID0gZWRpdEhlYWRpbmcucXVlcnlTZWxlY3RvcignLnBhbmVsLWhlYWRpbmctdGl0bGUnKTtcbiAgY29uc3QgZWRpdENvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDb250ZW50cycpO1xuICBjb25zdCBlZGl0RHJvcGRvd25JY29uID0gZWRpdEhlYWRpbmcucXVlcnlTZWxlY3Rvcignc3ZnID4gdXNlJyk7XG5cblxuICAvLyBldmVudCBsaXN0ZW5lciBmb3Igd2hlbiB1c2VyIGNsaWNrcyBpbnNpZGUgSW5zZXJ0IHBhbmVsXG4gIC8vIGluc2VydCBtb2RlIGlzIGFjdGl2YXRlZFxuICBpbnNlcnRQYW5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkaXNwbGF5SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzZWQnKTtcbiAgICBpbnNlcnRIZWFkaW5nVGl0bGUuY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xuXG4gICAgc2V0U2V0dGluZ3MoeyB1c2VyTW9kZTogJ2luc2VydCcgfSk7XG5cbiAgICAoPEhUTUxCdXR0b25FbGVtZW50PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5zZXJ0ZWwuaXMtYWN0aXZlJykpLmNsaWNrKCk7XG4gICAgZWRpdFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5zZWwtYnkuaXMtYWN0aXZlJykuY2xhc3NMaXN0LmFkZCgndW5mb2N1c2VkJyk7XG4gICAgaW5zZXJ0UGFuZWwucXVlcnlTZWxlY3RvcignLnNpZGUtcGFuZWwtYnRuLmluc2VydGVsLmlzLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3VuZm9jdXNlZCcpO1xuICB9KTtcblxuICAvLyBldmVudCBsaXN0ZW5lciBmb3Igd2hlbiB1c2VyIGNsaWNrcyBpbnNpZGUgRWRpdCBwYW5lbFxuICAvLyBlZGl0IG1vZGUgaXMgYWN0aXZhdGVkXG4gIGVkaXRQYW5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpbnNlcnRIZWFkaW5nVGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXNlZCcpO1xuICAgIGRpc3BsYXlIZWFkaW5nVGl0bGUuY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xuICAgIFxuICAgIHNldFNldHRpbmdzKHsgdXNlck1vZGU6ICdlZGl0JyB9KTtcblxuICAgIGluc2VydFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5pbnNlcnRlbC5pcy1hY3RpdmUnKS5jbGFzc0xpc3QuYWRkKCd1bmZvY3VzZWQnKTtcbiAgICBlZGl0UGFuZWwucXVlcnlTZWxlY3RvcignLnNpZGUtcGFuZWwtYnRuLnNlbC1ieS5pcy1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd1bmZvY3VzZWQnKTtcbiAgfSk7XG5cblxuICBpbnNlcnRIZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGluc2VydCBwYW5lbCBpcyBjbG9zZWQsIG9wZW4gaXRcbiAgICBpZiAoaW5zZXJ0Q29udGVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZWQnKSkge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYW4gb3BlbiBwYW5lbFxuICAgICAgaW5zZXJ0Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBpbnNlcnRDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzAuNWVtIDAuNzVlbSc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaW5zZXJ0Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICB9LCAyMDApO1xuICAgICAgaW5zZXJ0RHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH0gXG4gICAgLy8gaWYgaW5zZXJ0IHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgZWxzZSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhIGNsb3NlZCBwYW5lbFxuICAgICAgaW5zZXJ0Q29udGVudHMuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgICBpbnNlcnRDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGluc2VydENvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBpbnNlcnREcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1zaWRlYCk7XG4gICAgfVxuICB9KTtcblxuICBlZGl0SGVhZGluZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBpZiBlZGl0IHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgaWYgKGVkaXRDb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhbiBvcGVuIHBhbmVsXG4gICAgICBlZGl0Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBlZGl0Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGVkaXRDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBlZGl0RHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH1cbiAgICAvLyBpZiBlZGl0IHBhbmVsIGlzIGNsb3NlZCwgb3BlbiBpdFxuICAgIGVsc2Uge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYSBjbG9zZWQgcGFuZWxcbiAgICAgIGVkaXRDb250ZW50cy5jbGFzc0xpc3QuYWRkKCdjbG9zZWQnKTtcbiAgICAgIGVkaXRDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGVkaXRDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgZWRpdERyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLXNpZGVgKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEFjdGl2YXRlIGEgY2VydGFpbiBpbnNlcnQgYWN0aW9uLlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGZvciBhY3RpdmF0aW5nIGluc2VydCBQQU5FTFNcbiAqIGFuZCBpbnNlcnQgSUNPTlMgKHdoeXl5KS5cbiAqIEBwYXJhbSBpZCAtIFRoZSBJRCBvZiB0aGUgaW5zZXJ0IGFjdGlvbiB0YWIuXG4gKi9cbmZ1bmN0aW9uIGFjdGl2YXRlIChpZDogc3RyaW5nLCBpbnNlcnRIYW5kbGVyOiBJbnNlcnRIYW5kbGVyKTogdm9pZCB7XG4gIGNvbnN0IHNlbGVjdGVkVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICBzZWxlY3RlZFRhYi5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5jbGFzc0xpc3QuY29udGFpbnMoJ2luc2VydGVsJykpIHtcbiAgICBpbnNlcnRIYW5kbGVyLmluc2VydEFjdGl2ZShpZCk7XG4gICAgc2V0U2V0dGluZ3MoeyBpbnNlcnRNb2RlOiBpZCBhcyBJbnNlcnRUeXBlIH0pO1xuICB9XG59XG5cbi8qKlxuICogRGVhY3RpdmF0ZSBhIGNlcnRhaW4gaW5zZXJ0IGFjdGlvbi5cbiAqIEBwYXJhbSB0eXBlIC0gQSBDU1Mgc2VsZWN0b3IgZm9yIHRoZSBhY3Rpb24gdGFiLlxuICovXG5mdW5jdGlvbiBkZWFjdGl2YXRlICh0eXBlOiBzdHJpbmcpIHtcbiAgY29uc3QgZWxMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0eXBlKTtcbiAgZWxMaXN0LmZvckVhY2goZWwgPT4ge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3VuZm9jdXNlZCcpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBCaW5kIGxpc3RlbmVycyB0byBpbnNlcnQgdGFiIGVsZW1lbnRzLlxuICovXG5mdW5jdGlvbiBiaW5kRWxlbWVudHMgKGluc2VydEhhbmRsZXI6IEluc2VydEhhbmRsZXIpIHtcbiAgY29uc3QgaW5zZXJ0RWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJykpO1xuICBjb25zdCBlbGVtZW50SWRzID0gaW5zZXJ0RWxlbWVudHMubWFwKGVsID0+IGVsLmlkKTtcbiAgZWxlbWVudElkcy5mb3JFYWNoKGVsID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBkZWFjdGl2YXRlKCcuaW5zZXJ0ZWwnKTtcbiAgICAgIGFjdGl2YXRlKGVsLCBpbnNlcnRIYW5kbGVyKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVycyBvbiB0aGUgYnV0dG9ucyB0byBjaGFuZ2Ugc2VsZWN0aW9uIG1vZGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNlbGVjdGlvbkJ1dHRvbnMgKCk6IHZvaWQge1xuICBjb25zdCBzZWxCeVN5bGxhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3lsbGFibGUnKTtcbiAgY29uc3Qgc2VsQnlOZXVtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeU5ldW1lJyk7XG4gIGNvbnN0IHNlbEJ5TmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOYycpO1xuICBjb25zdCBzZWxCeVN0YWZmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKTtcbiAgY29uc3Qgc2VsQnlMYXllckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlMYXllckVsZW1lbnQnKTtcblxuICBzZWxCeVN5bGxhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlTeWxsYWJsZUhhbmRsZXIpO1xuICBzZWxCeU5ldW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlOZXVtZUhhbmRsZXIpO1xuICBzZWxCeU5jLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlOY0hhbmRsZXIpO1xuICBzZWxCeVN0YWZmLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlTdGFmZkhhbmRsZXIpO1xuICBzZWxCeUxheWVyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbEJ5TGF5ZXJFbGVtZW50SGFuZGxlcik7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnMScpIHNlbEJ5U3lsbGFibGUuY2xpY2soKTtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJzInKSBzZWxCeU5ldW1lLmNsaWNrKCk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICczJykgc2VsQnlOYy5jbGljaygpO1xuICAgIGlmIChldnQua2V5ID09PSAnNCcpIHNlbEJ5U3RhZmYuY2xpY2soKTtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJzUnKSBzZWxCeUxheWVyRWxlbWVudC5jbGljaygpO1xuICB9KTtcblxuXG4gIGZ1bmN0aW9uIHNlbGVjdEJ5U3lsbGFibGVIYW5kbGVyICgpIHtcbiAgICBpZiAoIXNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgc2V0U2V0dGluZ3MoeyBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlTeWxsYWJsZScgfSk7XG5cbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG5cbiAgICAgIHNlbEJ5TmV1bWUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTdGFmZi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuaWQgPT09ICdoaWdobGlnaHQtc2VsZWN0aW9uJykge1xuICAgICAgICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzeWxsYWJsZScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdEJ5TmV1bWVIYW5kbGVyICgpIHtcbiAgICBpZiAoIXNlbEJ5TmV1bWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgc2V0U2V0dGluZ3MoeyBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlOZXVtZScgfSk7XG5cbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbEJ5TmV1bWUuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3RhZmYuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeUxheWVyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnbmV1bWUnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RCeU5jSGFuZGxlciAoKSB7XG4gICAgaWYgKCFzZWxCeU5jLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIHNldFNldHRpbmdzKHsgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5TmMnIH0pO1xuXG4gICAgICB1bnNlbGVjdCgpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlOZXVtZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN0YWZmLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlMYXllckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZCA9PT0gJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKSB7XG4gICAgICAgICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoJ25ldW1lJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0QnlTdGFmZkhhbmRsZXIgKCkge1xuICAgIGlmICghc2VsQnlTdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICdzZWxCeVN0YWZmJyB9KTtcblxuICAgICAgdW5zZWxlY3QoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc2VsQnlTdGFmZi5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TmV1bWUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuaWQgPT09ICdoaWdobGlnaHQtc2VsZWN0aW9uJykge1xuICAgICAgICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzdGFmZicpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbEJ5TGF5ZXJFbGVtZW50SGFuZGxlciAoKSB7XG4gICAgaWYgKCFzZWxCeUxheWVyRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICdzZWxCeUxheWVyRWxlbWVudCcgfSk7XG5cbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlOZXVtZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TmMuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN0YWZmLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnbGF5ZXJFbGVtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uLCBJbnNlcnRBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBnZXRTVkdSZWxDb29yZHMsIGlzT3V0T2ZTVkdCb3VuZHMsIFBvaW50IH0gZnJvbSAnLi4vdXRpbHMvQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgc2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuLyoqXG4gKiBDbGFzcyB0aGF0IGhhbmRsZXMgaW5zZXJ0IG1vZGUsIGV2ZW50cywgYW5kIGFjdGlvbnMuXG4gKi9cbmNsYXNzIEluc2VydEhhbmRsZXIge1xuICB0eXBlOiBzdHJpbmc7XG4gIGZpcnN0Q2xpY2sgPSB0cnVlO1xuICBjb29yZDogUG9pbnQ7XG4gIGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIHNlbGVjdG9yOiBzdHJpbmc7XG4gIG5lb25WaWV3OiBOZW9uVmlldztcblxuICAvKipcbiAgICogQHBhcmFtIG5lb25WaWV3IC0gTmVvblZpZXcgcGFyZW50LlxuICAgKiBAcGFyYW0gc2VsIC0gVGhlIENTUyBzZWxlY3RvciB0byBhcHBseSBpbnNlcnQgbGlzdGVuZXJzIHRvLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgc2VsOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5zZWxlY3RvciA9IHNlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhbiBpbnNlcnQgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAqIFRyaWdnZXJzIHRoZSBzdGFydCBvZiBpbnNlcnQgbW9kZS5cbiAgICogQHBhcmFtIGJ1dHRvbklkIC0gVGhlIElEIG9mIHRoZSBidXR0b24gdGhhdCB3YXMgY2xpY2tlZC5cbiAgICovXG4gIGluc2VydEFjdGl2ZSAoYnV0dG9uSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGFscmVhZHlJbkluc2VydE1vZGUgPSB0aGlzLmlzSW5zZXJ0TW9kZSgpO1xuICAgIHN3aXRjaCAoYnV0dG9uSWQpIHtcbiAgICAgIGNhc2UgJ3B1bmN0dW0nOlxuICAgICAgICB0aGlzLnR5cGUgPSAnbmMnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RpYW1vbmQnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnbmMnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IHRpbHQ6ICdzZScgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aXJnYSc6XG4gICAgICAgIHRoaXMudHlwZSA9ICduYyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgdGlsdDogJ3MnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy90aGVyZSBhcmUgbXVsdGlwbGUgcG9zc2libGUgbGlxdWVzY2VudCBjb21iaW5hdGlvbnNcbiAgICAgIGNhc2UgJ2xpcXVlc2NlbnRBJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBjdXJ2ZTogJ2EnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGlxdWVzY2VudEMnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnbmMnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGN1cnZlOiAnYycgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aXJnYVJldmVyc2VkJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyB0aWx0OiAnbicgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwZXMnOlxuICAgICAgY2FzZSAnY2xpdmlzJzpcbiAgICAgIGNhc2UgJ3NjYW5kaWN1cyc6XG4gICAgICBjYXNlICdjbGltYWN1cyc6XG4gICAgICBjYXNlICd0b3JjdWx1cyc6XG4gICAgICBjYXNlICdwb3JyZWN0dXMnOlxuICAgICAgY2FzZSAncHJlc3N1cyc6XG4gICAgICAgIGNvbnN0IGNvbnRvdXIgPSB0aGlzLm5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoXG4gICAgICAgICAgYnV0dG9uSWQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBidXR0b25JZC5zbGljZSgxKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnR5cGUgPSAnZ3JvdXBpbmcnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGNvbnRvdXI6IGNvbnRvdXIgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjQ2xlZic6XG4gICAgICBjYXNlICdmQ2xlZic6XG4gICAgICAgIHRoaXMudHlwZSA9ICdjbGVmJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBzaGFwZTogYnV0dG9uSWQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjdXN0b3MnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnY3VzdG9zJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkaXZMaW5lTWF4aW1hJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ2RpdkxpbmUnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGZvcm06ICdtYXhpbWEnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RhZmYnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnc3RhZmYnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2ZsYXQnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnYWNjaWQnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGFjY2lkOiAnZicgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICduYXR1cmFsJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ2FjY2lkJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBhY2NpZDogJ24nIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy50eXBlID0gJyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgYnV0dG9uIGZvciBpbnNlcnRpb246ICcgKyBidXR0b25JZCArICcuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnJlbW92ZUluc2VydENsaWNrSGFuZGxlcnMoKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3N0YWZmJykge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpXG4gICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdGFmZkhhbmRsZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxuICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cblxuICAgIC8vIERpc2FibGUgZWRpdCBtb2RlIGxpc3RlbmVyc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEluc2VydEhhbmRsZXIpO1xuXG4gICAgLy8gQWRkICdyZXR1cm4gdG8gZWRpdCBtb2RlJyBidXR0b25cbiAgICBpZiAoIWFscmVhZHlJbkluc2VydE1vZGUpIHtcbiAgICAgIGNvbnN0IGVkaXRNb2RlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBlZGl0TW9kZUJ1dHRvbi5pZCA9ICdyZXR1cm5Ub0VkaXRNb2RlJztcbiAgICAgIGVkaXRNb2RlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NpZGUtcGFuZWwtYnRuJyk7XG4gICAgICBlZGl0TW9kZUJ1dHRvbi5pbm5lckhUTUwgPSAnUmV0dXJuIHRvIEVkaXQgTW9kZSc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVkbycpLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZWRpdE1vZGVCdXR0b24pO1xuICAgICAgZWRpdE1vZGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmluc2VydERpc2FibGVkKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvbnRlbnRzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgaW5zZXJ0IG1vZGUgYW5kIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMuXG4gICAqL1xuICBpbnNlcnREaXNhYmxlZCA9IChmdW5jdGlvbiBpbnNlcnREaXNhYmxlZCAoKTogdm9pZCB7XG4gICAgdGhpcy50eXBlID0gJyc7XG4gICAgdGhpcy5yZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzKCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SW5zZXJ0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICB0aGlzLmZpcnN0Q2xpY2sgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV0dXJuVG9FZGl0TW9kZScpLnJlbW92ZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGNvbnNvbGUuZGVidWcoZSk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5zZXJ0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0X2NvbnRyb2xzJyk7XG4gICAgY29uc3QgaW5zZXJ0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRNZW51Jyk7XG4gICAgY29uc3QgaW5zZXJ0SGVhZGluZ1RpdGxlID0gaW5zZXJ0SGVhZGluZy5xdWVyeVNlbGVjdG9yKCcucGFuZWwtaGVhZGluZy10aXRsZScpO1xuXG4gICAgY29uc3QgZWRpdFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRfY29udHJvbHMnKTtcbiAgICBjb25zdCBlZGl0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TWVudScpO1xuICAgIGNvbnN0IGRpc3BsYXlIZWFkaW5nVGl0bGUgPSBlZGl0SGVhZGluZy5xdWVyeVNlbGVjdG9yKCcucGFuZWwtaGVhZGluZy10aXRsZScpO1xuXG4gICAgaW5zZXJ0SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzZWQnKTtcbiAgICBkaXNwbGF5SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzZWQnKTtcblxuICAgIGluc2VydFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5pbnNlcnRlbC5pcy1hY3RpdmUnKS5jbGFzc0xpc3QuYWRkKCd1bmZvY3VzZWQnKTtcbiAgICBlZGl0UGFuZWwucXVlcnlTZWxlY3RvcignLnNpZGUtcGFuZWwtYnRuLnNlbC1ieS5pcy1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd1bmZvY3VzZWQnKTtcblxuICAgIHNldFNldHRpbmdzKHsgdXNlck1vZGU6ICdlZGl0JyB9KTtcbiAgICBcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciB0byBoYW5kbGUgYSB1c2VyIGNsaWNraW5nIGF3YXkgZnJvbSB0aGUgYWN0aXZlIHBhZ2VcbiAgICogY2F1c2luZyBpbnNlcnQgbW9kZSB0byBlbmQuXG4gICAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKGZ1bmN0aW9uIGNsaWNrYXdheUhhbmRsZXIgKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYWN0aXZlLXBhZ2UnKSA9PT0gbnVsbCAmJlxuICAgICAgdGFyZ2V0LmNsb3Nlc3QoJyNpbnNlcnRfY29udHJvbHMnKSA9PT0gbnVsbCAmJlxuICAgICAgdGFyZ2V0LmNsb3Nlc3QoJyNzdmdfZ3JvdXAnKSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5pbnNlcnREaXNhYmxlZCgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJyxcbiAgICAgICAgdGhpcy5zdGFmZkhhbmRsZXIpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJyxcbiAgICAgICAgdGhpcy5oYW5kbGVyKTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbiBpbnNlcnQgZXZlbnQgbGlzdGVuZXIgYWZ0ZXIgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgaXQuXG4gICAqL1xuICByZXNldEluc2VydEhhbmRsZXIgPSAoZnVuY3Rpb24gcmVzZXRJbnNlcnRIYW5kbGVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnR5cGUgPT09ICdzdGFmZicgP1xuICAgICAgICAgIHRoaXMuc3RhZmZIYW5kbGVyIDogdGhpcy5oYW5kbGVyKTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIExpc3RlbnMgdG8ga2V5IHByZXNzZXMgdG8gZWl0aGVyIGV4aXQgZWRpdCBtb2RlIChpZiBFc2NhcGUpIG9yXG4gICAqIHRlbXBvcmFyaWx5IHJlbW92ZSBpbnNlcnQgZXZlbnQgbGlzdGVuZXJzIChpZiBTaGlmdCkuXG4gICAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoZnVuY3Rpb24ga2V5ZG93bkxpc3RlbmVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuaW5zZXJ0RGlzYWJsZWQoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuc3RhZmZIYW5kbGVyKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlcik7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICB0aGlzLnJlbW92ZUluc2VydENsaWNrSGFuZGxlcnMoKTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIGNsaWNraW5nIHRvIGluc2VydCBhbnkgZWxlbWVudCBleGNlcHQgYSBzdGFmZi5cbiAgICovXG4gIGhhbmRsZXIgPSAoZnVuY3Rpb24gaGFuZGxlciAoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgLy8gSWYgdGhlIGN1cnNvciBpcyBvdXQgb2YgYm91bmRzLCBub3RoaW5nIHNob3VsZCBiZSBpbnNlcnRlZC5cbiAgICBjb25zdCBjdXJzb3IgPSBnZXRTVkdSZWxDb29yZHMoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcbiAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyhjdXJzb3IueCwgY3Vyc29yLnkpKVxuICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGggd2FzIHBsYWNlZCBvdXQgb2YgYm91bmRzISBJbnNlcnRpb24gZmFpbGVkLicsICdlcnJvcicpO1xuXG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBJbnNlcnRBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdpbnNlcnQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudFR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgc3RhZmZJZDogJ2F1dG8nLFxuICAgICAgICB1bHg6IGN1cnNvci54LFxuICAgICAgICB1bHk6IGN1cnNvci55LFxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hdHRyaWJ1dGVzICE9PSBudWxsKSB7XG4gICAgICBlZGl0b3JBY3Rpb24ucGFyYW0uYXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlcztcbiAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXNbJ3NoYXBlJ10gPT09ICdGJykge1xuICAgICAgICBlZGl0b3JBY3Rpb25bJ3BhcmFtJ11bJ3VseCddIC09IDUwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyKTtcbiAgICB9KTtcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciB0byBpbnNlcnQgYSBzdGFmZi5cbiAgICovXG4gIHN0YWZmSGFuZGxlciA9IChmdW5jdGlvbiBzdGFmZkhhbmRsZXIgKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGN1cnNvciA9IGdldFNWR1JlbENvb3JkcyhldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xuXG4gICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHMoY3Vyc29yLngsIGN1cnNvci55KSkge1xuICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdTdGFmZiBjYW5ub3QgYmUgcGxhY2VkIG91dCBvZiBib3VuZHMhJywgJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1wYWdlID4gLmRlZmluaXRpb24tc2NhbGUnKTtcblxuICAgIGlmICh0aGlzLmZpcnN0Q2xpY2spIHtcbiAgICAgIHRoaXMuY29vcmQgPSBjdXJzb3I7XG4gICAgICBkMy5zZWxlY3QoY29udGFpbmVyKS5hcHBlbmQoJ2NpcmNsZScpLmF0dHIoJ2N4JywgY3Vyc29yLngpXG4gICAgICAgIC5hdHRyKCdjeScsIGN1cnNvci55KVxuICAgICAgICAuYXR0cigncicsIDEwKVxuICAgICAgICAuYXR0cignaWQnLCAnc3RhZmYtY2lyY2xlJylcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnZ3JlZW4nKTtcbiAgICAgIHRoaXMuZmlyc3RDbGljayA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdWw6IFBvaW50LCBscjogUG9pbnQ7XG4gICAgICBpZiAoY3Vyc29yLnggPCB0aGlzLmNvb3JkLnggfHwgY3Vyc29yLnkgPCB0aGlzLmNvb3JkLnkpIHsgLy8gc2Vjb25kIHBvaW50IGlzIG5vdCBsclxuICAgICAgICB1bCA9IGN1cnNvcjtcbiAgICAgICAgbHIgPSB0aGlzLmNvb3JkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdWwgPSB0aGlzLmNvb3JkO1xuICAgICAgICBsciA9IGN1cnNvcjtcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFmZi1jaXJjbGUnKS5yZW1vdmUoKTtcbiAgICAgIGNvbnN0IGFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdpbnNlcnQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRUeXBlOiAnc3RhZmYnLFxuICAgICAgICAgIHN0YWZmSWQ6ICdhdXRvJyxcbiAgICAgICAgICB1bHg6IHVsLngsXG4gICAgICAgICAgdWx5OiB1bC55LFxuICAgICAgICAgIGxyeDogbHIueCxcbiAgICAgICAgICBscnk6IGxyLnlcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5uZW9uVmlldy5lZGl0KGFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIHRoaXMuZmlyc3RDbGljayA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgaW5zZXJ0IGxpc3RlbmVycyB3aGlsZSBub3QgbGVhdmluZyBpbnNlcnQgbW9kZSBlbnRpcmVseS5cbiAgICovXG4gIHJlbW92ZUluc2VydENsaWNrSGFuZGxlcnMgPSAoZnVuY3Rpb24gcmVtb3ZlSW5zZXJ0Q2xpY2tIYW5kbGVycyAoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcikucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN0YWZmSGFuZGxlcik7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIGlzSW5zZXJ0TW9kZSAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICh0aGlzLnR5cGUgIT09ICcnKTtcbiAgfVxufVxuXG5leHBvcnQgeyBJbnNlcnRIYW5kbGVyIGFzIGRlZmF1bHQgfTtcbiIsIi8qKlxuICogQ29udGVudHMgb2YgbmF2YmFyIG1lbnUgYWZ0ZXIgc3dpdGNoaW5nIHRvIGVkaXQgbW9kZS5cbiAqL1xuXG4vLyBcIkZpbGVcIiBEcm9wZG93blxuZXhwb3J0IGNvbnN0IG5hdmJhckRyb3Bkb3duRmlsZU1lbnU6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5uYXZiYXJEcm9wZG93bkZpbGVNZW51LmNsYXNzTGlzdC5hZGQoJ25hdmJhci1pdGVtJywgJ2hhcy1kcm9wZG93bicsICdpcy1ob3ZlcmFibGUnKTtcbmNvbnN0IGZpbGVEcm9wZG93bkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuZmlsZURyb3Bkb3duQnRuLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1idG4nKTtcbmZpbGVEcm9wZG93bkJ0bi5pbm5lckhUTUwgPSAnPGRpdj5GaWxlPC9kaXY+JztcbmNvbnN0IGZpbGVOYXZiYXJDb250ZW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuZmlsZU5hdmJhckNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1kcm9wZG93bicpO1xuZmlsZU5hdmJhckNvbnRlbnRzLmlkID0gJ25hdmJhci1kcm9wZG93bi1vcHRpb25zJztcblxuY29uc3QgZmlsZURyb3Bkb3duQ29udGVudHMgPSBbXG4gIFsnc2F2ZScsICdTYXZlJ10sXG4gIFsnZXhwb3J0JywgJ1NhdmUgYW5kIEV4cG9ydCB0byBGaWxlJ10sXG4gIFsnZ2V0bWVpJywgJ0Rvd25sb2FkIE1FSSddXG5dO1xuXG5maWxlRHJvcGRvd25Db250ZW50cy5mb3JFYWNoKGNvbnRlbnQgPT4ge1xuICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGl0ZW0uaWQgPSBjb250ZW50WzBdO1xuICBpdGVtLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1kcm9wZG93bi1pdGVtJyk7XG4gIGl0ZW0udGV4dENvbnRlbnQgPSBjb250ZW50WzFdO1xuICBmaWxlTmF2YmFyQ29udGVudHMuYXBwZW5kQ2hpbGQoaXRlbSk7XG59KTtcblxubmF2YmFyRHJvcGRvd25GaWxlTWVudS5hcHBlbmRDaGlsZChmaWxlRHJvcGRvd25CdG4pO1xubmF2YmFyRHJvcGRvd25GaWxlTWVudS5hcHBlbmRDaGlsZChmaWxlTmF2YmFyQ29udGVudHMpO1xuXG4vLyBcIk1FSSBBY3Rpb25zXCIgRHJvcGRvd25cbmV4cG9ydCBjb25zdCBuYXZiYXJEcm9wZG93bk1FSUFjdGlvbnNNZW51OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xubmF2YmFyRHJvcGRvd25NRUlBY3Rpb25zTWVudS5jbGFzc0xpc3QuYWRkKCduYXZiYXItaXRlbScsICdoYXMtZHJvcGRvd24nLCAnaXMtaG92ZXJhYmxlJyk7XG5jb25zdCBtZWlBY3Rpb25zRHJvcGRvd25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbm1laUFjdGlvbnNEcm9wZG93bkJ0bi5jbGFzc0xpc3QuYWRkKCduYXZiYXItYnRuJyk7XG5tZWlBY3Rpb25zRHJvcGRvd25CdG4uaW5uZXJIVE1MID0gJzxkaXY+TUVJIEFjdGlvbnM8L2Rpdj4nO1xuY29uc3QgbWVpQWN0aW9uc05hdmJhckNvbnRlbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5tZWlBY3Rpb25zTmF2YmFyQ29udGVudHMuY2xhc3NMaXN0LmFkZCgnbmF2YmFyLWRyb3Bkb3duJyk7XG5tZWlBY3Rpb25zTmF2YmFyQ29udGVudHMuaWQgPSAnbmF2YmFyLWRyb3Bkb3duLW9wdGlvbnMnO1xuY29uc3QgbWVpQWN0aW9uc0Ryb3Bkb3duQ29udGVudHMgPSBbXG4gIFsncmVtb3ZlLWVtcHR5LXN5bHMnLCAnUmVtb3ZlIEVtcHR5IFN5bGxhYmxlcyddLFxuICBbJ3JlbW92ZS1lbXB0eS1uZXVtZXMnLCAnUmVtb3ZlIEVtcHR5IE5ldW1lcyddLFxuICBbJ3JldmVydCcsICdSZXZlcnQnXVxuXTtcblxubWVpQWN0aW9uc0Ryb3Bkb3duQ29udGVudHMuZm9yRWFjaChjb250ZW50ID0+IHtcbiAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpdGVtLmlkID0gY29udGVudFswXTtcbiAgaXRlbS5jbGFzc0xpc3QuYWRkKCduYXZiYXItZHJvcGRvd24taXRlbScpO1xuICBpdGVtLnRleHRDb250ZW50ID0gY29udGVudFsxXTtcbiAgbWVpQWN0aW9uc05hdmJhckNvbnRlbnRzLmFwcGVuZENoaWxkKGl0ZW0pO1xufSk7XG5cbm5hdmJhckRyb3Bkb3duTUVJQWN0aW9uc01lbnUuYXBwZW5kQ2hpbGQobWVpQWN0aW9uc0Ryb3Bkb3duQnRuKTtcbm5hdmJhckRyb3Bkb3duTUVJQWN0aW9uc01lbnUuYXBwZW5kQ2hpbGQobWVpQWN0aW9uc05hdmJhckNvbnRlbnRzKTtcblxuLyoqXG4gKiBGaW5hbGl6ZSBvcHRpb24gaW4gdGhlIG5hdmJhciBmb3Igcm9kYW5cbiAqL1xuZXhwb3J0IGNvbnN0IG5hdmJhckZpbmFsaXplID1cbiAgICAnPGEgaWQ9XCJmaW5hbGl6ZVwiIGNsYXNzPVwibmF2YmFyLWl0ZW1cIj4gRmluYWxpemUgTUVJIDwvYT4nO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIHRoZSB1bmRvL3JlZG8gcGFuZWwgd2l0aCBidXR0b25zXG4gKi9cbmV4cG9ydCBjb25zdCB1bmRvUmVkb1BhbmVsID1cbiAgYDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5kb1wiPlVuZG88L2J1dHRvbj5cbiAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJyZWRvXCI+UmVkbzwvYnV0dG9uPmA7XG4iLCJpbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IGNvbnZlcnRUb05lb24gfSBmcm9tICcuL0NvbnZlcnRNZWknO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIFNldCB0b3AgbmF2YmFyIGV2ZW50IGxpc3RlbmVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROYXZiYXIobmVvblZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gIC8vIHNldHVwIG5hdmJhciBsaXN0ZW5lcnNcbiAgY29uc3QgbmF2YmFyRHJvcGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnLm5hdmJhci1pdGVtLmhhcy1kcm9wZG93bi5pcy1ob3ZlcmFibGUnLFxuICApO1xuICBBcnJheS5mcm9tKG5hdmJhckRyb3Bkb3ducykuZm9yRWFjaCgoZHJvcERvd24pID0+IHtcbiAgICBkcm9wRG93bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAvL1xuICAgIH0pO1xuICB9KTtcblxuICAvKiBcIkZJTEVcIiBtZW51ICovXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbmVvblZpZXcuc2F2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTYXZlZCcsICdzdWNjZXNzJyk7XG4gICAgfSk7XG4gIH0pO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdzJykge1xuICAgICAgbmVvblZpZXcuc2F2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NhdmVkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4cG9ydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG5lb25WaWV3LmV4cG9ydCgpLnRoZW4oKG1hbmlmZXN0KSA9PiB7XG4gICAgICBjb25zdCBsaW5rOiBIVE1MQW5jaG9yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGxpbmsuaHJlZiA9IG1hbmlmZXN0IGFzIHN0cmluZztcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBuZW9uVmlldy5uYW1lICsgJy5qc29ubGQnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgIGxpbmsucmVtb3ZlKCk7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NhdmVkJywgJ3N1Y2Nlc3MnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gRG93bmxvYWQgbGluayBmb3IgTUVJXG4gIC8vIElzIGFuIGFjdHVhbCBmaWxlIHdpdGggYSB2YWxpZCBVUkkgZXhjZXB0IGluIGxvY2FsIG1vZGUgd2hlcmUgaXQgbXVzdCBiZSBnZW5lcmF0ZWQuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4oKG1laSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9XG4gICAgICAgICdkYXRhOmFwcGxpY2F0aW9uL21laSt4bWw7YmFzZTY0LCcgKyB3aW5kb3cuYnRvYShjb252ZXJ0VG9OZW9uKG1laSkpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dldG1laScpLnNldEF0dHJpYnV0ZSgnaHJlZicsIGRhdGEpO1xuICAgICAgZG9jdW1lbnRcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKVxuICAgICAgICAuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIG5lb25WaWV3LnZpZXcuZ2V0UGFnZU5hbWUoKSArICcubWVpJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qIFwiTUVJIEFDVElPTlNcIiBtZW51ICovXG4gIC8vIEV2ZW50IGxpc3RlbmVyIGZvciBcIlJlbW92ZSBFbXB0eSBTeWxsYWJsZXNcIiBidXR0b24gaW5zaWRlIFwiTUVJIEFjdGlvbnNcIiBkcm9wZG93blxuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlLWVtcHR5LXN5bHMnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHVyaSA9IG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKTtcblxuICAgICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4oKG1laVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobWVpU3RyaW5nLCAndGV4dC94bWwnKTtcbiAgICAgICAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgY29uc3Qgc3lsbGFibGVzID0gQXJyYXkuZnJvbShtZWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N5bGxhYmxlJykpO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBzeWxsYWJsZXMgd2l0aG91dCBuZXVtZXNcbiAgICAgICAgbGV0IGhhc0VtcHR5U3lsbGFibGVzID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHJlbW92ZVN5bGxhYmxlQWN0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN5bGxhYmxlIG9mIHN5bGxhYmxlcykge1xuICAgICAgICAgIC8vIGlmIGVtcHR5IHN5bGxhYmxlIGZvdW5kLCBjcmVhdGUgYWN0aW9uIG9iamVjdCBmb3IgcmVtb3ZpbmcgaXRcbiAgICAgICAgICBpZiAoc3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25ldW1lJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCB0b1JlbW92ZTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgICAgICBhY3Rpb246ICdyZW1vdmUnLFxuICAgICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBhZGQgYWN0aW9uIG9iamVjdCB0byBhcnJheSAoY2hhaW4pIG9mIGFjdGlvbiBvYmplY3RzXG4gICAgICAgICAgICByZW1vdmVTeWxsYWJsZUFjdGlvbnMucHVzaCh0b1JlbW92ZSk7XG4gICAgICAgICAgICBoYXNFbXB0eVN5bGxhYmxlcyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgZW1wdHkgc3lsbGFibGVzIHdlcmUgZm91bmRcbiAgICAgICAgaWYgKCFoYXNFbXB0eVN5bGxhYmxlcykge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTm8gZW1wdHkgc3lsbGFibGVzIGZvdW5kJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjcmVhdGUgXCJjaGFpbiBhY3Rpb25cIiBvYmplY3RcbiAgICAgICAgICBjb25zdCBjaGFpblJlbW92ZUFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgICAgcGFyYW06IHJlbW92ZVN5bGxhYmxlQWN0aW9ucyxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gZXhlY3V0ZSBhY3Rpb24gdGhhdCByZW1vdmVzIGFsbCBlbXB0eSBzeWxsYWJsZXNcbiAgICAgICAgICAvLyBcInJlc3VsdFwiIHZhbHVlIGlzIHRydWUgb3IgZmFsc2UgKHRydWUgaWYgY2hhaW4gb2YgYWN0aW9ucyB3YXMgc3VjY2Vzc2Z1bClcbiAgICAgICAgICBuZW9uVmlldy5lZGl0KGNoYWluUmVtb3ZlQWN0aW9uLCB1cmkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgJ1JlbW92ZWQgZW1wdHkgU3lsbGFibGVzJyxcbiAgICAgICAgICAgICAgICAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byByZW1vdmUgZW1wdHkgU3lsbGFibGVzJyxcbiAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAvLyBFdmVudCBsaXN0ZW5lciBmb3IgXCJSZW1vdmUgRW1wdHkgTmV1bWVzXCIgYnV0dG9uIGluc2lkZSBcIk1FSSBBY3Rpb25zXCIgZHJvcGRvd25cbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudEJ5SWQoJ3JlbW92ZS1lbXB0eS1uZXVtZXMnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHVyaSA9IG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKTtcblxuICAgICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4oKG1laVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobWVpU3RyaW5nLCAndGV4dC94bWwnKTtcbiAgICAgICAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgY29uc3QgbmV1bWVzID0gQXJyYXkuZnJvbShtZWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25ldW1lJykpO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBuZXVtZXMgd2l0aG91dCBuZXVtZSBjb21wb25lbnRzXG4gICAgICAgIGxldCBoYXNFbXB0eU5ldW1lcyA9IGZhbHNlO1xuICAgICAgICBjb25zdCByZW1vdmVOZXVtZUFjdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBuZXVtZSBvZiBuZXVtZXMpIHtcbiAgICAgICAgICAvLyBpZiBlbXB0eSBuZXVtZSBmb3VuZCwgY3JlYXRlIGFjdGlvbiBvYmplY3QgZm9yIHJlbW92aW5nIGl0XG4gICAgICAgICAgaWYgKG5ldW1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCduYycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgdG9SZW1vdmU6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IG5ldW1lLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gYWRkIGFjdGlvbiBvYmplY3QgdG8gYXJyYXkgKGNoYWluKSBvZiBhY3Rpb24gb2JqZWN0c1xuICAgICAgICAgICAgcmVtb3ZlTmV1bWVBY3Rpb25zLnB1c2godG9SZW1vdmUpO1xuICAgICAgICAgICAgaGFzRW1wdHlOZXVtZXMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIGVtcHR5IG5ldW1lcyB3ZXJlIGZvdW5kXG4gICAgICAgIGlmICghaGFzRW1wdHlOZXVtZXMpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ05vIGVtcHR5IE5ldW1lcyBmb3VuZCcsICd3YXJuaW5nJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY3JlYXRlIFwiY2hhaW4gYWN0aW9uXCIgb2JqZWN0XG4gICAgICAgICAgY29uc3QgY2hhaW5SZW1vdmVBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgICAgICAgIHBhcmFtOiByZW1vdmVOZXVtZUFjdGlvbnMsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIGV4ZWN1dGUgYWN0aW9uIHRoYXQgcmVtb3ZlcyBhbGwgZW1wdHkgbmV1bWVzXG4gICAgICAgICAgLy8gXCJyZXN1bHRcIiB2YWx1ZSBpcyB0cnVlIG9yIGZhbHNlICh0cnVlIGlmIGNoYWluIG9mIGFjdGlvbnMgd2FzIHN1Y2Nlc3NmdWwpXG4gICAgICAgICAgbmVvblZpZXcuZWRpdChjaGFpblJlbW92ZUFjdGlvbiwgdXJpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdSZW1vdmVkIGVtcHR5IE5ldW1lcycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byByZW1vdmUgZW1wdHkgTmV1bWVzJyxcbiAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlLW91dC1vZi1ib3VuZHMtZ2x5cGhzJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgICBuZW9uVmlldy5nZXRQYWdlTUVJKHVyaSkudGhlbigobWVpU3RyaW5nKSA9PiB7XG4gICAgICAgIC8vIExvYWQgTUVJIGRvY3VtZW50IGludG8gcGFyc2VyXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICAgICAgICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICAgIC8vIEdldCBib3VuZHMgb2YgdGhlIE1FSVxuICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3N1cmZhY2UnKTtcbiAgICAgICAgY29uc3QgbWVpTHJ4ID0gTnVtYmVyKGRpbWVuc2lvbnMuZ2V0QXR0cmlidXRlKCdscngnKSksXG4gICAgICAgICAgbWVpTHJ5ID0gTnVtYmVyKGRpbWVuc2lvbnMuZ2V0QXR0cmlidXRlKCdscnknKSk7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNBdHRyT3V0T2ZCb3VuZHMoem9uZTogRWxlbWVudCwgYXR0cjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgICAgY29uc3QgY29vcmQgPSBOdW1iZXIoem9uZS5nZXRBdHRyaWJ1dGUoYXR0cikpO1xuICAgICAgICAgIGNvbnN0IGNvbXAgPSBhdHRyID09ICdscngnIHx8IGF0dHIgPT0gJ3VseCcgPyBtZWlMcnggOiBtZWlMcnk7XG4gICAgICAgICAgcmV0dXJuIGNvb3JkIDwgMCB8fCBjb29yZCA+IGNvbXA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgYXJyYXkgb2Ygem9uZXMgdGhhdCBhcmUgb3V0IG9mIGJvdW5kLCBhbmQgY3JlYXRlIGEgaGFzaCBtYXBcbiAgICAgICAgLy8gZm9yIGZhc3QgcmV0cmlldmFsXG4gICAgICAgIGNvbnN0IHpvbmVzID0gQXJyYXkuZnJvbShtZWkucXVlcnlTZWxlY3RvckFsbCgnem9uZScpKTtcbiAgICAgICAgY29uc3Qgb3V0T2ZCb3VuZFpvbmVzID0gem9uZXMuZmlsdGVyKCh6b25lKSA9PlxuICAgICAgICAgIFsndWx4JywgJ3VseScsICdscngnLCAnbHJ5J10uc29tZSgoYXR0cikgPT5cbiAgICAgICAgICAgIGlzQXR0ck91dE9mQm91bmRzKHpvbmUsIGF0dHIpLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHpvbmVNYXAgPSBuZXcgTWFwKFxuICAgICAgICAgIG91dE9mQm91bmRab25lcy5tYXAoKHpvbmUpID0+IFt6b25lLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksIHpvbmVdKSxcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBGaWx0ZXIgb3V0IHRoZSBuZXVtZSBjb21wb25lbnRzIGFuZCBkaXZsaW5lcyB0aGF0IGhhdmUgYSB6b25lIG91dCBvZiBib3VuZHNcbiAgICAgICAgY29uc3QgZ2x5cGhzID0gQXJyYXkuZnJvbShcbiAgICAgICAgICBtZWkucXVlcnlTZWxlY3RvckFsbCgnbmMsIGRpdkxpbmUsIGNsZWYsIGFjY2lkJyksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG91dE9mQm91bmRHbHlwaHMgPSBnbHlwaHMuZmlsdGVyKChnbHlwaCkgPT4ge1xuICAgICAgICAgIGlmIChnbHlwaC5oYXNBdHRyaWJ1dGUoJ2ZhY3MnKSkge1xuICAgICAgICAgICAgY29uc3QgZmFjc0lkID0gZ2x5cGguZ2V0QXR0cmlidXRlKCdmYWNzJykuc2xpY2UoMSk7XG4gICAgICAgICAgICByZXR1cm4gem9uZU1hcC5oYXMoZmFjc0lkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBubyBvdXQtb2YtYm91bmQgZ2x5cGhzLCBhbmRcbiAgICAgICAgLy8gZXhpdCwgc2luY2Ugbm8gZWRpdCBuZWVkcyB0byBiZSBtYWRlLlxuICAgICAgICBpZiAob3V0T2ZCb3VuZEdseXBocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgJ1RoZXJlIGFyZSBubyBvdXQtb2YtYm91bmQgZ2x5cGhzIHRvIHJlbW92ZS4nLFxuICAgICAgICAgICAgJ3dhcm5pbmcnLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgcmVtb3ZlIGFjdGlvbnMgYW5kIGNoYWluIGFjdGlvbiB0byBzZW5kIHRvIFZlcm92aW9cbiAgICAgICAgY29uc3QgcmVtb3ZlQWN0aW9uczogRWRpdG9yQWN0aW9uW10gPSBvdXRPZkJvdW5kR2x5cGhzLm1hcCgoZ2x5cGgpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgIGVsZW1lbnRJZDogZ2x5cGguZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICAgICAgcGFyYW06IHJlbW92ZUFjdGlvbnMsXG4gICAgICAgIH07XG5cbiAgICAgICAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgdXJpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAnU3VjY2Vzc2Z1bGx5IHJlbW92ZWQgb3V0LW9mLWJvdW5kcyBzeWxsYWJsZXMuJyxcbiAgICAgICAgICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAnRmFpbGVkIHRvIHJlbW92ZSBvdXQtb2YtYm91bmQgc3lsbGFibGVzLicsXG4gICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZCgndW50b2dnbGUtaW52YWxpZC1vYmxpcXVlJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgICBuZW9uVmlldy5nZXRQYWdlTUVJKHVyaSkudGhlbigobWVpU3RyaW5nKSA9PiB7XG4gICAgICAgIC8vIExvYWQgTUVJIGRvY3VtZW50IGludG8gcGFyc2VyXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICAgICAgICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBjb25zdCBuY3MgPSBBcnJheS5mcm9tKG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmMnKSk7XG5cbiAgICAgICAgbGV0IGhhc0ludmFsaWRPYmxpcXVlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgIHBhcmFtOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuICAgICAgICBsZXQgbmNJZHggPSAwO1xuICAgICAgICB3aGlsZSAobmNJZHggPCBuY3MubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG5jc1tuY0lkeF0uZ2V0QXR0cmlidXRlKCdsaWdhdGVkJykpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKG5jSWR4IDwgbmNzLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICAgICAhbmNzW25jSWR4ICsgMV0uZ2V0QXR0cmlidXRlKCdsaWdhdGVkJykpIHx8XG4gICAgICAgICAgICAgIG5jSWR4ID09IG5jcy5sZW5ndGggLSAxXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gSWYgbmMgaXMgbGlnYXRlZCwgYW5kIHRoZSBuZXh0IG5jIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBPciwgbmMgaXMgbGlnYXRlZCwgYnV0IGFscmVhZHkgYXQgdGhlIGVuZCAodGhlcmUgaXMgbm8gbmV4dClcXFxuICAgICAgICAgICAgICBoYXNJbnZhbGlkT2JsaXF1ZSA9IHRydWU7XG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogbmNzW25jSWR4XS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgICAgICAgYXR0clR5cGU6ICdsaWdhdGVkJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJWYWx1ZTogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuY0lkeCArPSAyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuY0lkeCArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNJbnZhbGlkT2JsaXF1ZSkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdObyBpbnZhbGlkIG9ibGlxdWVzIGZvdW5kJyxcbiAgICAgICAgICAgICd3YXJuaW5nJyxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYWluQWN0aW9uLnBhcmFtID0gcGFyYW07XG4gICAgICAgICAgbmVvblZpZXdcbiAgICAgICAgICAgIC5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgICAnVW50b2dnbGVkIGludmFsaWQgb2JsaXF1ZXMnLFxuICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byB1bnRvZ2dsZSBpbnZhbGlkIG9ibGlxdWVzJyxcbiAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50XG4gICAgLmdldEVsZW1lbnRCeUlkKCd1bnRvZ2dsZS1pbnZhbGlkLXN5bHMnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHVyaSA9IG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKTtcbiAgICAgIG5lb25WaWV3LmdldFBhZ2VNRUkodXJpKS50aGVuKChtZWlTdHJpbmcpID0+IHtcbiAgICAgICAgLy8gTG9hZCBNRUkgZG9jdW1lbnQgaW50byBwYXJzZXJcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1laVN0cmluZywgJ3RleHQveG1sJyk7XG4gICAgICAgIGNvbnN0IG1laSA9IG1laURvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHN5bGxhYmxlcyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzeWxsYWJsZScpKTtcblxuICAgICAgICBjb25zdCBpbnZhbGlkU3lsbGFibGVzID0gZ2V0SW52YWxpZFN5bGxhYmxlcyhzeWxsYWJsZXMpO1xuXG4gICAgICAgIGlmIChpbnZhbGlkU3lsbGFibGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdObyBpbnZhbGlkIHN5bGxhYmxlcyBmb3VuZCcsXG4gICAgICAgICAgICAnd2FybmluZycsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBjaGFpbkFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgICAgcGFyYW06IFtdLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuICAgICAgICAgIGZvciAoY29uc3Qgc3lsbGFibGUgb2YgaW52YWxpZFN5bGxhYmxlcykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ3ByZWNlZGVzJykgJiZcbiAgICAgICAgICAgICAgc3lsbGFibGUuaGFzQXR0cmlidXRlKCdmb2xsb3dzJylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCBwcmVjZWRlc1N5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoXG4gICAgICAgICAgICAgICAgKGVsZW1lbnQpID0+XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09XG4gICAgICAgICAgICAgICAgICBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJykuc3Vic3RyaW5nKDEpLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCBmb2xsb3dzU3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZChcbiAgICAgICAgICAgICAgICAoZWxlbWVudCkgPT5cbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT1cbiAgICAgICAgICAgICAgICAgIHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpLnN1YnN0cmluZygxKSxcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJWYWx1ZTogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgICAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IHByZWNlZGVzU3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgICAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IGZvbGxvd3NTeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgICAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goXG4gICAgICAgICAgICAgICAgLi4uYWRkU3lsQWN0aW9uKFtzeWxsYWJsZSwgcHJlY2VkZXNTeWxsYWJsZSwgZm9sbG93c1N5bGxhYmxlXSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgncHJlY2VkZXMnKSkge1xuICAgICAgICAgICAgICBjb25zdCBwcmVjZWRlc1N5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoXG4gICAgICAgICAgICAgICAgKGVsZW1lbnQpID0+XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09XG4gICAgICAgICAgICAgICAgICBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJykuc3Vic3RyaW5nKDEpLFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudElkOiBwcmVjZWRlc1N5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCguLi5hZGRTeWxBY3Rpb24oW3N5bGxhYmxlLCBwcmVjZWRlc1N5bGxhYmxlXSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSkge1xuICAgICAgICAgICAgICBjb25zdCBmb2xsb3dzU3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZChcbiAgICAgICAgICAgICAgICAoZWxlbWVudCkgPT5cbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT1cbiAgICAgICAgICAgICAgICAgIHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpLnN1YnN0cmluZygxKSxcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudElkOiBmb2xsb3dzU3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCguLi5hZGRTeWxBY3Rpb24oW3N5bGxhYmxlLCBmb2xsb3dzU3lsbGFibGVdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hhaW5BY3Rpb24ucGFyYW0gPSBwYXJhbTtcbiAgICAgICAgICBuZW9uVmlld1xuICAgICAgICAgICAgLmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICAgICAgICdVbnRvZ2dsZWQgaW52YWxpZCBzeWxsYWJsZXMnLFxuICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byB1bnRvZ2dsZSBpbnZhbGlkIHN5bGxhYmxlcycsXG4gICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAvLyBFdmVudCBsaXN0ZW5lciBmb3IgXCJSZXZlcnRcIiBidXR0b24gaW5zaWRlIFwiTUVJIEFjdGlvbnNcIiBkcm9wZG93blxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV2ZXJ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKFxuICAgICAgd2luZG93LmNvbmZpcm0oXG4gICAgICAgICdSZXZlcnRpbmcgd2lsbCBjYXVzZSBhbGwgY2hhbmdlcyB0byBiZSBsb3N0LiBQcmVzcyBPSyB0byBjb250aW51ZS4nLFxuICAgICAgKVxuICAgICkge1xuICAgICAgbmVvblZpZXcuZGVsZXRlRGIoKS50aGVuKCgpID0+IHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKiBcIlZJRVdcIiBtZW51ICovXG5cbiAgLypcblxuICAvLyBFdmVudCBsaXN0ZW5lcnMgZm9yIHNldHRpbmcgZGVmYXVsdCB6b29tIHNldHRpbmdzIGluc2lkZSBcIlZpZXdcIiBkcm9wZG93blxuICBjb25zdCBmaXRDb250ZW50QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3pvb20tZml0LWNvbnRlbnQnKTtcbiAgY29uc3QgZml0Q29udGVudENoZWNrbWFyayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6b29tLWZpdC1jb250ZW50LWljb24nKTtcbiAgY29uc3QgZWFzeUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjem9vbS1lYXN5LWVkaXQnKTtcbiAgY29uc3QgZWFzeUVkaXRDaGVja21hcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjem9vbS1lYXN5LWVkaXQtaWNvbicpO1xuXG4gIC8vIGZpdCBjb250ZW50IGxpc3RlbmVyXG4gIGZpdENvbnRlbnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZWFzeUVkaXRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgIGZpdENvbnRlbnRCdG4uY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuXG4gICAgZWFzeUVkaXRDaGVja21hcmsuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBmaXRDb250ZW50Q2hlY2ttYXJrLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG5cbiAgICAvLyBUT0RPOiBTYXZlIGRlZmF1bHQgem9vbSBzZXR0aW5ncyBpbiBsb2NhbCBzdG9yYWdlXG5cbiAgfSk7XG4gIC8vIGVhc3kgZWRpdCBsaXN0ZW5lclxuICBlYXN5RWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBmaXRDb250ZW50QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICBlYXN5RWRpdEJ0bi5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG5cbiAgICBmaXRDb250ZW50Q2hlY2ttYXJrLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgZWFzeUVkaXRDaGVja21hcmsuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcblxuICAgIC8vIFRPRE86IFNhdmUgZGVmYXVsdCB6b29tIHNldHRpbmdzIGluIGxvY2FsIHN0b3JhZ2VcblxuICB9KTtcbiAgKi9cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSB1bmRvL3JlZG8gcGFuZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRVbmRvUmVkb1BhbmVsKG5lb25WaWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICAvKipcbiAgICogVHJpZXMgdG8gdW5kbyBhbiBhY3Rpb24gYW5kIHVwZGF0ZSB0aGUgcGFnZSBpZiBpdCBzdWNjZWVkcy5cbiAgICovXG4gIGZ1bmN0aW9uIHVuZG9IYW5kbGVyKCk6IHZvaWQge1xuICAgIG5lb25WaWV3LnVuZG8oKS50aGVuKChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhlcmUgaXMgbm90aGluZyBsZWZ0IHRvIHVuZG8uJyk7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHVuZG8gYWN0aW9uJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVHJpZXMgdG8gcmVkbyBhbiBhY3Rpb24gYW5kIHVwZGF0ZSB0aGUgcGFnZSBpZiBpdCBzdWNjZWVkcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZG9IYW5kbGVyKCk6IHZvaWQge1xuICAgIG5lb25WaWV3LnJlZG8oKS50aGVuKChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhlcmUgaXMgbm90aGluZyBsZWZ0IHRvIHJlZG8uJyk7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHJlZG8gYWN0aW9uJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kbycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdW5kb0hhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICd6JyAmJiAoZXZ0LmN0cmxLZXkgfHwgZXZ0Lm1ldGFLZXkpKSB7XG4gICAgICB1bmRvSGFuZGxlcigpO1xuICAgIH1cbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZG8nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlZG9IYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGlmIChcbiAgICAgIChldnQua2V5ID09PSAnWicgfHwgKGV2dC5rZXkgPT09ICd6JyAmJiBldnQuc2hpZnRLZXkpKSAmJlxuICAgICAgKGV2dC5jdHJsS2V5IHx8IGV2dC5tZXRhS2V5KVxuICAgICkge1xuICAgICAgcmVkb0hhbmRsZXIoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTeWxBY3Rpb24oc3lsbGFibGVzOiBFbGVtZW50W10pOiBBcnJheTxFZGl0b3JBY3Rpb24+IHtcbiAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuXG4gIGZvciAoY29uc3Qgc3lsbGFibGUgb2Ygc3lsbGFibGVzKSB7XG4gICAgaWYgKHN5bGxhYmxlICYmICFzeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3lsJykubGVuZ3RoKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcmFtO1xufVxuXG5mdW5jdGlvbiBnZXRJbnZhbGlkU3lsbGFibGVzKHN5bGxhYmxlczogRWxlbWVudFtdKTogRWxlbWVudFtdIHtcbiAgY29uc3QgaW52YWxpZFN5bGxhYmxlczogRWxlbWVudFtdID0gW107XG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHN5bGxhYmxlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgY29uc3Qgc3lsbGFibGUgPSBzeWxsYWJsZXMuYXQoaWR4KTtcbiAgICBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdwcmVjZWRlcycpKSB7XG4gICAgICAvLyBHZXQgeG1sOmlkIG9mIHRoZSBuZXh0IHN5bGxhYmxlICh3aXRob3V0IHRoZSAjLCBpZiBpdCBleGlzdHMpXG4gICAgICBjb25zdCBuZXh0U3lsbGFibGVJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgncHJlY2VkZXMnKS5yZXBsYWNlKCcjJywgJycpO1xuXG4gICAgICAvLyBGaW5kIHRoZSBuZXh0IHN5bGxhYmxlIGFuZCBpdHMgaW5kZXggaW4gdGhlIGFycmF5XG4gICAgICBsZXQgbmV4dFN5bGxhYmxlSWR4OiBudW1iZXI7XG4gICAgICBjb25zdCBuZXh0U3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZCgoZWxlbWVudCwgaWR4KSA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IG5leHRTeWxsYWJsZUlkKSB7XG4gICAgICAgICAgbmV4dFN5bGxhYmxlSWR4ID0gaWR4O1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENvbmRpdGlvbiAxOiBUaGUgbmV4dCAoZm9sbG93aW5nKSBzeWxsYWJsZSBjYW5ub3QgYmUgZm91bmRcbiAgICAgIGlmICghbmV4dFN5bGxhYmxlKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAyOiBUaGUgbmV4dCBzeWxsYWJsZSBoYXMgYmVlbiBmb3VuZCwgYnV0IHRoZSBAZm9sbG93cyBhdHRyaWJ1dGUgZG9lcyBOT1QgRVhJU1RcbiAgICAgIGlmICghbmV4dFN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnZm9sbG93cycpKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAzOiBUaGUgbmV4dCBzeWxsYWJsZSdzIEBmb2xsb3dzIGF0dHJpYnV0ZSBleGlzdHMsIGJ1dCBpdCBpcyBub3QgaW4gdGhlIGNvcnJlY3QgZm9ybWF0ICNpZFxuICAgICAgaWYgKFxuICAgICAgICBuZXh0U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdmb2xsb3dzJykgIT1cbiAgICAgICAgJyMnICsgc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKVxuICAgICAgKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiA0OlxuICAgICAgLy8gU2luY2UgdGhlIEBmb2xsb3dzIHZhbHVlIGlzIGNvcnJlY3QsIGEgcGFpciBvZiBzeWxsYWJsZXMgZXhpc3QgZm9yIHRoZSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlLlxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIEBmb2xsb3dzIHN5bGxhYmxlIGlzIHRoZSBuZXh0IHN5bGxhYmxlIChpbmRleC13aXNlKSBpbiB0aGUgYXJyYXk6XG4gICAgICBpZiAobmV4dFN5bGxhYmxlSWR4ICE9PSBpZHggKyAxKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSkge1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ2ZvbGxvd3MnKS5yZXBsYWNlKCcjJywgJycpO1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoXG4gICAgICAgIChzeWxsYWJsZSkgPT4gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT0gcHJldlN5bGxhYmxlSWQsXG4gICAgICApO1xuXG4gICAgICAvLyBDb25kaXRpb24gMTogVGhlIHByZXZpb3VzIHN5bGxhYmxlIGRvZXMgbm90IGV4aXN0XG4gICAgICBpZiAoIXByZXZTeWxsYWJsZSkge1xuICAgICAgICBpbnZhbGlkU3lsbGFibGVzLnB1c2goc3lsbGFibGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25kaXRpb24gMjogVGhlIHByZXZpb3VzIHN5bGxhYmxlIGV4aXN0cywgYnV0IHRoZSBAcHJlY2VkZXMgYXR0cmlidXRlIGRvZXMgTk9UIEVYSVNUXG4gICAgICBpZiAoIXByZXZTeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ3ByZWNlZGVzJykpIHtcbiAgICAgICAgaW52YWxpZFN5bGxhYmxlcy5wdXNoKHN5bGxhYmxlKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDM6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSdzIEBwcmVjZWRlcyBhdHRyaWJ1dGUgZXhpc3RzLCBidXQgaXQgaXMgbm90IGluIHRoZSBjb3JyZWN0IGZvcm1hdCAjaWRcbiAgICAgIGlmIChcbiAgICAgICAgcHJldlN5bGxhYmxlLmdldEF0dHJpYnV0ZSgncHJlY2VkZXMnKSAhPVxuICAgICAgICAnIycgKyBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpXG4gICAgICApIHtcbiAgICAgICAgaW52YWxpZFN5bGxhYmxlcy5wdXNoKHN5bGxhYmxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGludmFsaWRTeWxsYWJsZXM7XG59XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vLi4vc3JjL05lb25WaWV3JztcbmltcG9ydCBEaXNwbGF5UGFuZWwgZnJvbSAnLi4vLi4vc3JjL0Rpc3BsYXlQYW5lbC9EaXNwbGF5UGFuZWwnO1xuaW1wb3J0IERpdmFWaWV3IGZyb20gJy4uLy4uL3NyYy9EaXZhVmlldyc7XG5pbXBvcnQgU2luZ2xlVmlldyBmcm9tICcuLi8uLi9zcmMvU2luZ2xlVmlldy9TaW5nbGVWaWV3JztcbmltcG9ydCBEaXZhRWRpdCBmcm9tICcuLi8uLi9zcmMvU3F1YXJlRWRpdC9EaXZhRWRpdE1vZGUnO1xuaW1wb3J0IFNpbmdsZUVkaXRNb2RlIGZyb20gJy4uLy4uL3NyYy9TcXVhcmVFZGl0L1NpbmdsZUVkaXRNb2RlJztcbmltcG9ydCBJbmZvTW9kdWxlIGZyb20gJy4uLy4uL3NyYy9JbmZvTW9kdWxlJztcbmltcG9ydCBUZXh0VmlldyBmcm9tICcuLi8uLi9zcmMvVGV4dFZpZXcnO1xuaW1wb3J0IFRleHRFZGl0TW9kZSBmcm9tICcuLi8uLi9zcmMvVGV4dEVkaXRNb2RlJztcbmltcG9ydCB7IE5lb25WaWV3UGFyYW1zIH0gZnJvbSAnLi4vLi4vc3JjL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgTmVvbk1hbmlmZXN0IH0gZnJvbSAnLi4vLi4vc3JjL1R5cGVzJztcbmltcG9ydCBQb3VjaERCIGZyb20gJ3BvdWNoZGInO1xuXG5jb25zdCBuYW1lID0gZ2V0R2V0UGFyYW0oJ21hbmlmZXN0Jyk7XG5jb25zdCBzdG9yYWdlID0gZ2V0R2V0UGFyYW0oJ3N0b3JhZ2UnKTtcblxuaWYgKG5hbWUpIHtcbiAgY29uc3QgbWFuaWZlc3RMb2NhdGlvbiA9IGAuL3NhbXBsZXMvbWFuaWZlc3RzLyR7bmFtZX0uanNvbmxkYDtcbiAgd2luZG93LmZldGNoKG1hbmlmZXN0TG9jYXRpb24pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgIH1cbiAgfSkudGhlbihhc3luYyB0ZXh0ID0+IHtcbiAgICBsZXQgbWFuaWZlc3Q6IE5lb25NYW5pZmVzdDtcbiAgICB0cnkge1xuICAgICAgbWFuaWZlc3QgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICBjb25zb2xlLmRlYnVnKHRleHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBEZXRlcm1pbmUgaWYgaXQgaXMgYSBzaW5nbGUgcGFnZSBvciBtdWx0aXBsZSBieSBtZWRpYSB0eXBlXG4gICAgY29uc3QgbWVkaWFUeXBlOiBzdHJpbmcgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cuZmV0Y2gobWFuaWZlc3QuaW1hZ2UpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXNvbHZlKDxzdHJpbmc+cmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBsZXQgcGFyYW1zOiBOZW9uVmlld1BhcmFtcztcbiAgICBpZiAobWVkaWFUeXBlLm1hdGNoKC9pbWFnZVxcLyovKSkge1xuICAgICAgcGFyYW1zID0ge1xuICAgICAgICBtYW5pZmVzdDogbWFuaWZlc3QsXG4gICAgICAgIERpc3BsYXk6IERpc3BsYXlQYW5lbCxcbiAgICAgICAgSW5mbzogSW5mb01vZHVsZSxcbiAgICAgICAgVGV4dFZpZXc6IFRleHRWaWV3LFxuICAgICAgICBUZXh0RWRpdDogVGV4dEVkaXRNb2RlLFxuICAgICAgICBWaWV3OiBTaW5nbGVWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IFNpbmdsZUVkaXRNb2RlXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMgPSB7XG4gICAgICAgIG1hbmlmZXN0OiBtYW5pZmVzdCxcbiAgICAgICAgRGlzcGxheTogRGlzcGxheVBhbmVsLFxuICAgICAgICBJbmZvOiBJbmZvTW9kdWxlLFxuICAgICAgICBUZXh0VmlldzogVGV4dFZpZXcsXG4gICAgICAgIFRleHRFZGl0OiBUZXh0RWRpdE1vZGUsXG4gICAgICAgIFZpZXc6IERpdmFWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IERpdmFFZGl0XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBuZXcgTmVvblZpZXcocGFyYW1zKTtcbiAgICB2aWV3LnN0YXJ0KCk7XG4gIH0pO1xufSBlbHNlIHtcbiAgY29uc3QgZGIgPSBuZXcgUG91Y2hEQignTmVvbi1Vc2VyLVN0b3JhZ2UnKTtcbiAgZGIuZ2V0QXR0YWNobWVudChzdG9yYWdlLCAnbWFuaWZlc3QnKS50aGVuKGJsb2IgPT4ge1xuICAgIHJldHVybiBuZXcgd2luZG93LlJlc3BvbnNlKGJsb2IpLmpzb24oKTtcbiAgfSkudGhlbihhc3luYyBtYW5pZmVzdCA9PiB7XG4gICAgY29uc3QgbWVkaWFUeXBlOiBzdHJpbmcgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cuZmV0Y2gobWFuaWZlc3QuaW1hZ2UpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXNvbHZlKDxzdHJpbmc+cmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBsZXQgcGFyYW1zOiBOZW9uVmlld1BhcmFtcztcbiAgICBpZiAobWVkaWFUeXBlLm1hdGNoKC9pbWFnZVxcLyovKSkge1xuICAgICAgcGFyYW1zID0ge1xuICAgICAgICBtYW5pZmVzdDogbWFuaWZlc3QsXG4gICAgICAgIERpc3BsYXk6IERpc3BsYXlQYW5lbCxcbiAgICAgICAgSW5mbzogSW5mb01vZHVsZSxcbiAgICAgICAgVGV4dFZpZXc6IFRleHRWaWV3LFxuICAgICAgICBUZXh0RWRpdDogVGV4dEVkaXRNb2RlLFxuICAgICAgICBWaWV3OiBTaW5nbGVWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IFNpbmdsZUVkaXRNb2RlXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMgPSB7XG4gICAgICAgIG1hbmlmZXN0OiBtYW5pZmVzdCxcbiAgICAgICAgRGlzcGxheTogRGlzcGxheVBhbmVsLFxuICAgICAgICBJbmZvOiBJbmZvTW9kdWxlLFxuICAgICAgICBUZXh0VmlldzogVGV4dFZpZXcsXG4gICAgICAgIFRleHRFZGl0OiBUZXh0RWRpdE1vZGUsXG4gICAgICAgIFZpZXc6IERpdmFWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IERpdmFFZGl0XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBuZXcgTmVvblZpZXcocGFyYW1zKTtcbiAgICB2aWV3LnN0YXJ0KCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRHZXRQYXJhbShwYXJhbU5hbWUpOiBzdHJpbmcge1xuICBsZXQgcmVzdWx0O1xuXG4gIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2hcbiAgICAuc3Vic3RyKDEpXG4gICAgLnNwbGl0KCcmJylcbiAgICAuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdG1wID0gaXRlbS5zcGxpdCgnPScpO1xuICAgICAgaWYgKHRtcFswXSA9PT0gcGFyYW1OYW1lKSB7XG4gICAgICAgIHJlc3VsdCA9IGRlY29kZVVSSUNvbXBvbmVudCh0bXBbMV0pO1xuICAgICAgfVxuICAgIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IE5lb25Db3JlIGZyb20gJy4vTmVvbkNvcmUnO1xuaW1wb3J0ICogYXMgVmFsaWRhdGlvbiBmcm9tICcuL1ZhbGlkYXRpb24nO1xuaW1wb3J0IHsgcGFyc2VNYW5pZmVzdCB9IGZyb20gJy4vdXRpbHMvTmVvbk1hbmlmZXN0JztcbmltcG9ydCBzZXRCb2R5IGZyb20gJy4vdXRpbHMvdGVtcGxhdGUvVGVtcGxhdGUnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3cgfSBmcm9tICcuL3V0aWxzL01vZGFsV2luZG93JztcbmltcG9ydCB7IE5lb25NYW5pZmVzdCwgRWRpdG9yQWN0aW9uLCBBdHRyaWJ1dGVzLCBVc2VyVHlwZSB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHtcbiAgSW5mb0ludGVyZmFjZSxcbiAgTW9kYWxXaW5kb3dJbnRlcmZhY2UsXG4gIE5lb25WaWV3UGFyYW1zLFxuICBOZXVtZUVkaXRJbnRlcmZhY2UsXG4gIFRleHRFZGl0SW50ZXJmYWNlLFxuICBUZXh0Vmlld0ludGVyZmFjZSxcbiAgVmlld0ludGVyZmFjZVxufSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgc2V0RGVidWdNb2RlIH0gZnJvbSAnLi91dGlscy9EZWJ1Z01vZGUnO1xuaW1wb3J0IHsgc2V0U2F2ZWRTdGF0dXMsIGxpc3RlblVuc2F2ZWRDaGFuZ2VzIH0gZnJvbSAnLi91dGlscy9VbnNhdmVkJztcbmltcG9ydCBMb2NhbFNldHRpbmdzLCB7IGdldFNldHRpbmdzIH0gZnJvbSAnLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuXG4vKipcbiAqIE5lb25WaWV3IGNsYXNzLiBNYW5hZ2VzIHRoZSBvdGhlciBtb2R1bGVzIG9mIE5lb24gYW5kIGNvbW11bmljYXRlcyB3aXRoXG4gKiBOZW9uQ29yZS5cbiAqL1xuY2xhc3MgTmVvblZpZXcge1xuICAvKiogVGhlIG1hbmlmZXN0IGRlc2NyaWJpbmcgd2hhdCB0byBsb2FkIGFuZCB3aGVyZSB0byBmaW5kIGl0LiAqL1xuICBtYW5pZmVzdDogTmVvbk1hbmlmZXN0O1xuICAvKiogTW9kdWxlIHRoYXQgZGlzcGxheXMgcmVuZGVyZWQgTUVJLiAqL1xuICB2aWV3OiBWaWV3SW50ZXJmYWNlO1xuICAvKiogTmFtZSBvZiB0aGUgZG9jdW1lbnQgbG9hZGVkLiAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBNb2R1bGUgdGhhdCBoYW5kbGVzIG1hbmFnaW5nIHJlc291cmNlcywgcmVuZGVyaW5nIFNWR3MuICovXG4gIGNvcmU6IE5lb25Db3JlO1xuICAvKiogTW9kdWxlIHRoYXQgcHJvdmlkZXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBvbiBtdXNpY2FsIGVsZW1lbnRzLiAqL1xuICBpbmZvOiBJbmZvSW50ZXJmYWNlO1xuICAvKiogTW9kdWxlIHRoYXQgYWxsb3dzIGVkaXRpbmcgb2YgbXVzaWNhbCBlbGVtZW50cy4gKi9cbiAgTmV1bWVFZGl0OiBOZXVtZUVkaXRJbnRlcmZhY2U7XG4gIC8qKiBNb2R1bGUgdGhhdCBhbGxvd3Mgdmlld2luZyBvZiBzeWxsYWJsZSB0ZXh0LiAqL1xuICB0ZXh0VmlldzogVGV4dFZpZXdJbnRlcmZhY2U7XG4gIC8qKiBNb2R1bGUgdGhhdCBhbGxvd3MgZWRpdGluZyBvZiBzeWxsYWJsZSB0ZXh0LiAqL1xuICBUZXh0RWRpdDogVGV4dEVkaXRJbnRlcmZhY2U7XG4gIC8qKiBNb2R1bGUgdGhhdCBjb250cm9scyBzdGF0ZSBhbmQgY29udGVudCBvZiBOZW9uIG1vZGFsIHdpbmRvd3MgKi9cbiAgbW9kYWw6IE1vZGFsV2luZG93SW50ZXJmYWNlO1xuICAvKiogTW9kdWxlIHRoYXQgaGFuZGxlcyB1c2VyJ3Mgc2V0dGluZ3Mgc3RvcmVkIGluIGxvY2FsU3RvcmFnZSAqL1xuICBsb2NhbFNldHRpbmdzOiBMb2NhbFNldHRpbmdzO1xuXG4gIHBhcmFtczogTmVvblZpZXdQYXJhbXM7XG5cblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIE5lb25WaWV3LiBTZXRzIG1vZGUgYW5kIHBhc3NlcyBjb25zdHJ1Y3RvcnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAocGFyYW1zOiBOZW9uVmlld1BhcmFtcykge1xuICAgIGlmICghcGFyc2VNYW5pZmVzdChwYXJhbXMubWFuaWZlc3QpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gcGFyc2UgdGhlIG1hbmlmZXN0Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5tYW5pZmVzdCA9IHBhcmFtcy5tYW5pZmVzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdXAgTmVvbiBmb3IgYW55IHByb3ZpZGVkIGVkaXRpbmcgbW9kdWxlcy5cbiAgICovXG4gIHNldHVwRWRpdChwYXJhbXM6IE5lb25WaWV3UGFyYW1zKTogdm9pZCB7XG4gICAgLy8gU2V0IHVwIGFuZCBzdGFydCB0aGUgY29ycmVjdCBlZGl0aW5nIG1vZGVcbiAgICBpZiAocGFyYW1zLlRleHRWaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudGV4dFZpZXcgPSBuZXcgcGFyYW1zLlRleHRWaWV3KHRoaXMpO1xuICAgICAgaWYgKHBhcmFtcy5UZXh0RWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuVGV4dEVkaXQgPSBuZXcgcGFyYW1zLlRleHRFZGl0KHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLk5ldW1lRWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLk5ldW1lRWRpdCA9IG5ldyBwYXJhbXMuTmV1bWVFZGl0KHRoaXMpO1xuICAgICAgdGhpcy50ZXh0Vmlldy51cGRhdGVCQm94VmlzaWJpbGl0eSgpO1xuICAgICAgY29uc3QgeyB1c2VyTW9kZSwgaW5zZXJ0TW9kZSwgc2VsZWN0aW9uTW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluc2VydE1vZGUpLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0aW9uTW9kZSkuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICBzd2l0Y2ggKHVzZXJNb2RlKSB7XG4gICAgICAgIGNhc2UgJ2luc2VydCc6XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5zZXJ0TW9kZSkuY2xpY2soKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZWRpdCc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0aW9uTW9kZSkuY2xpY2soKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgTmVvblxuICAgKi9cbiAgc3RhcnQgKCk6IHZvaWQge1xuICAgIC8qIHRoaXMuY29yZS5kYi5pbmZvKCkudGhlbigoaW5mbykgPT4ge1xuICAgICAgaWYgKGluZm8uZG9jX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRoaXMuY29yZS5pbml0RGIoKS50aGVuKCgpID0+IHsgdGhpcy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignRXhpc3RpbmcgZGF0YWJhc2UgZm91bmQuIFJldmVydCB0byBzdGFydCBmcm9tIHRoZSBiZWdpbm5pbmcuJyk7XG4gICAgICAgIHRoaXMudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH1cbiAgICB9KTsgKi9cbiAgICBzZXRCb2R5KHRoaXMpLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gbG9hZCB0aGUgY29tcG9uZW50c1xuICAgICAgdGhpcy5sb2NhbFNldHRpbmdzID0gbmV3IExvY2FsU2V0dGluZ3ModGhpcy5tYW5pZmVzdFsnQGlkJ10pO1xuICAgICAgdGhpcy52aWV3ID0gbmV3IHRoaXMucGFyYW1zLlZpZXcodGhpcywgdGhpcy5wYXJhbXMuRGlzcGxheSwgdGhpcy5tYW5pZmVzdC5pbWFnZSk7XG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLm1hbmlmZXN0LnRpdGxlO1xuICAgICAgdGhpcy5jb3JlID0gbmV3IE5lb25Db3JlKHRoaXMubWFuaWZlc3QpO1xuICAgICAgdGhpcy5pbmZvID0gbmV3IHRoaXMucGFyYW1zLkluZm8odGhpcyk7XG4gICAgICB0aGlzLm1vZGFsID0gbmV3IE1vZGFsV2luZG93KHRoaXMpO1xuICAgICAgVmFsaWRhdGlvbi5pbml0KHRoaXMpOyAvLyBpbml0aWFsaXplIHZhbGlkYXRpb25cbiAgICAgIHNldERlYnVnTW9kZSgpOyBcbiAgICAgIGxpc3RlblVuc2F2ZWRDaGFuZ2VzKCk7XG5cbiAgICAgIHRoaXMuc2V0dXBFZGl0KHRoaXMucGFyYW1zKTtcbiAgICAgIHJldHVybiB0aGlzLmNvcmUuaW5pdERiKCk7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAvLyBsb2FkIHRoZSBTVkdcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUZvckN1cnJlbnRQYWdlKHRydWUpO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gYWRkIHRoZSBldmVudCBsaXN0ZW5lcnMgZGVwZW5kZW50IG9uIHRoZSBTVkdcbiAgICAgIHRoaXMudmlldy5vblNWR0xvYWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgcGFnZSBmcm9tIHRoZSBsb2FkZWQgdmlldyBhbmQgdGhlbiBkaXNwbGF5IHRoZVxuICAgKiBtb3N0IHVwIHRvIGRhdGUgU1ZHLlxuICAgKi9cbiAgdXBkYXRlRm9yQ3VycmVudFBhZ2UgKGRlbGF5ID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBwYWdlTm8gPSB0aGlzLnZpZXcuZ2V0Q3VycmVudFBhZ2UoKTtcbiAgICByZXR1cm4gdGhpcy52aWV3LmNoYW5nZVBhZ2UocGFnZU5vLCBkZWxheSk7XG4gIH1cblxuICAvKipcbiAgICogUmVkbyBhbiBhY3Rpb24gcGVyZm9ybWVkIG9uIHRoZSBjdXJyZW50IHBhZ2UgKGlmIHRoZXJlIGlzIG9uZSkuXG4gICAqL1xuICByZWRvICgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBzZXRTYXZlZFN0YXR1cyhmYWxzZSk7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5yZWRvKHRoaXMudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmRvIHRoZSBsYXN0IGFjdGlvbiBwZXJmb3JtZWQgb24gdGhlIGN1cnJlbnQgcGFnZSAoaWYgdGhlcmUgaXMgb25lKS5cbiAgICovXG4gIHVuZG8gKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHNldFNhdmVkU3RhdHVzKGZhbHNlKTtcbiAgICByZXR1cm4gdGhpcy5jb3JlLnVuZG8odGhpcy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbW9kZSBOZW9uIGlzIGluLlxuICAgKiBAcmV0dXJucyBWYWx1ZSBpcyBcInZpZXdlclwiLCBcImluc2VydFwiLCBvciBcImVkaXRcIi5cbiAgICovXG4gIGdldFVzZXJNb2RlICgpOiBVc2VyVHlwZSB7XG4gICAgY29uc3QgeyB1c2VyTW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICByZXR1cm4gdXNlck1vZGU7XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdCB0byBwZXJmb3JtIGFuIGVkaXRvciBhY3Rpb24uXG4gICAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgZWRpdG9yIHRvb2xraXQgYWN0aW9uIG9iamVjdC5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBUaGUgVVJJIG9mIHRoZSBwYWdlIHRvIHBlcmZvcm0gdGhlIGFjdGlvbiBvblxuICAgKi9cbiAgZWRpdCAoYWN0aW9uOiBFZGl0b3JBY3Rpb24sIHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmNvcmUuZWRpdChhY3Rpb24sIHBhZ2VVUkkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYXR0cmlidXRlcyBmb3IgYSBzcGVjaWZpYyBtdXNpY2FsIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBlbGVtZW50SWQgLSBUaGUgdW5pcXVlIElEIG9mIHRoZSBtdXNpY2FsIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgcGFnZSB0aGUgZWxlbWVudCBpcyBmb3VuZCBvbi5cbiAgICovXG4gIGdldEVsZW1lbnRBdHRyIChlbGVtZW50SUQ6IHN0cmluZywgcGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxBdHRyaWJ1dGVzPiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5nZXRFbGVtZW50QXR0cihlbGVtZW50SUQsIHBhZ2VVUkkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYnJvd3NlciBkYXRhYmFzZSBhbmQgY3JlYXRlcyBKU09OLUxEIHNhdmUgZmlsZS5cbiAgICogQHJldHVybnMgVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZS5cbiAgICovXG4gIGV4cG9ydCAoKTogUHJvbWlzZTxzdHJpbmcgfCBBcnJheUJ1ZmZlcj4ge1xuICAgIHJldHVybiAobmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5jb3JlLnVwZGF0ZURhdGFiYXNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubWFuaWZlc3RbJ21laV9hbm5vdGF0aW9ucyddID0gdGhpcy5jb3JlLmdldEFubm90YXRpb25zKCk7XG4gICAgICAgIHRoaXMubWFuaWZlc3QudGltZXN0YW1wID0gKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgd2luZG93LkJsb2IoW0pTT04uc3RyaW5naWZ5KHRoaXMubWFuaWZlc3QsIG51bGwsIDIpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vbGQranNvbicgfSk7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChkYXRhKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7IHJlamVjdChlcnIpOyB9KTtcbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSB0aGUgY3VycmVudCBzdGF0ZSB0byB0aGUgYnJvd3NlciBkYXRhYmFzZS5cbiAgICovXG4gIHNhdmUgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHNldFNhdmVkU3RhdHVzKHRydWUpO1xuICAgIHJldHVybiB0aGlzLmNvcmUudXBkYXRlRGF0YWJhc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSBsb2NhbCBkYXRhYmFzZSBvZiB0aGUgbG9hZGVkIE1FSSBmaWxlKHMpLlxuICAgKi9cbiAgZGVsZXRlRGIgKCk6IFByb21pc2U8dm9pZFtdPiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5kZWxldGVEYigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFnZSdzIE1FSSBmaWxlIGVuY29kZWQgYXMgYSBkYXRhIFVSSS5cbiAgICogQHBhcmFtIHBhZ2VObyAtIFRoZSBVUkkgc3BlY2lmeWluZyB0aGUgcGFnZS5cbiAgICogQHJldHVybnMgQSBbRGF0YSBVUkldKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RhdGFfVVJJX3NjaGVtZSkuXG4gICAqL1xuICBnZXRQYWdlVVJJIChwYWdlTm8/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGlmIChwYWdlTm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFnZU5vID0gdGhpcy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5jb3JlLmdldE1FSShwYWdlTm8pLnRoZW4oKG1laSkgPT4ge1xuICAgICAgICByZXNvbHZlKCdkYXRhOmFwcGxpY2F0aW9uL21laSt4bWw7Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KG1laSkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYWdlJ3MgTUVJIGZpbGUgYXMgYSBzdHJpbmcuXG4gICAqIEBwYXJhbSBwYWdlTm8gLSBUaGUgaWRlbnRpZnlpbmcgVVJJIG9mIHRoZSBwYWdlLlxuICAgKi9cbiAgZ2V0UGFnZU1FSSAocGFnZU5vOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmNvcmUuZ2V0TUVJKHBhZ2VObyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYWdlJ3MgU1ZHLlxuICAgKiBAcGFyYW0gcGFnZU5vIC0gVGhlIGlkZW50aWZ5aW5nIFVSSSBvZiB0aGUgcGFnZS5cbiAgICovXG4gIGdldFBhZ2VTVkcgKHBhZ2VObzogc3RyaW5nKTogUHJvbWlzZTxTVkdTVkdFbGVtZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5nZXRTVkcocGFnZU5vKTtcbiAgfVxufVxuXG5leHBvcnQgeyBOZW9uVmlldyBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBjaGVja091dE9mQm91bmRzR2x5cGhzLCBjb252ZXJ0VG9WZXJvdmlvLCByZW1vdmVDb2x1bW5MYWJlbCB9IGZyb20gJy4vdXRpbHMvQ29udmVydE1laSc7XG5pbXBvcnQgKiBhcyBWYWxpZGF0aW9uIGZyb20gJy4vVmFsaWRhdGlvbic7XG5pbXBvcnQgVmVyb3Zpb1dyYXBwZXIgZnJvbSAnLi9WZXJvdmlvV3JhcHBlcic7XG5pbXBvcnQgeyBXZWJBbm5vdGF0aW9uLCBBdHRyaWJ1dGVzLCBFZGl0b3JBY3Rpb24sIE5lb25NYW5pZmVzdCwgVmVyb3Zpb01lc3NhZ2UgfSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4vdXRpbHMvcmFuZG9tJztcblxuaW1wb3J0IFBvdWNoREIgZnJvbSAncG91Y2hkYic7XG5pbXBvcnQgeyBzZXRTYXZlZFN0YXR1cyB9IGZyb20gJy4vdXRpbHMvVW5zYXZlZCc7XG5cbi8qKlxuICogQSBjYWNoZSBpcyB1c2VkIHRvIGtlZXAgdHJhY2sgb2Ygd2hhdCBoYXMgaGFwcGVuZWRcbiAqIGFjcm9zcyBtdWx0aXBsZSBwYWdlcyBpbiBhIG1hbnVzY3JpcHQgd2l0aG91dCBoYXZpbmdcbiAqIHRvIG1ha2UgbWFueSBjYWxscyB0byB0aGUgUG91Y2hoRGIgZGF0YWJhc2UuXG4gKi9cbmludGVyZmFjZSBDYWNoZUVudHJ5IHtcbiAgZGlydHk6IGJvb2xlYW47XG4gIG1laTogc3RyaW5nO1xuICBzdmc6IFNWR1NWR0VsZW1lbnQ7XG59XG5cbi8qKlxuICogVGhlIGNvcmUgY29tcG9uZW50IG9mIE5lb24uIFRoaXMgbWFuYWdlcyB0aGUgZGF0YWJhc2UsXG4gKiB0aGUgdmVyb3ZpbyB0b29sa2l0LCB0aGUgY2FjaGUsIGFuZCB1bmRvL3JlZG8gc3RhY2tzLlxuICovXG5jbGFzcyBOZW9uQ29yZSB7XG4gIC8qKiBXcmFwcGVyIGZvciB0aGUgVmVyb3ZpbyBXZWJXb3JrZXIuICovXG4gIHByaXZhdGUgdmVyb3Zpb1dyYXBwZXI6IFZlcm92aW9XcmFwcGVyO1xuICAvKiogU3RhY2tzIG9mIGFjdGlvbnMgdGhhdCBjYW4gYmUgdW5kb25lIHBlciBwYWdlLiAqL1xuICBwcml2YXRlIHVuZG9TdGFja3M6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPjtcbiAgLyoqIFN0YWNrcyBvZiBhY3Rpb25zIHRoYXQgY2FuIGJlIHJlZG9uZSBwZXIgcGFnZS4gKi9cbiAgcHJpdmF0ZSByZWRvU3RhY2tzOiBNYXA8c3RyaW5nLCBzdHJpbmdbXT47XG4gIC8qKiBDYWNoZSBjb250YWluaW5nIGVudHJpZXMgZm9yIGVhY2ggcGFnZS4gKi9cbiAgcHJpdmF0ZSBuZW9uQ2FjaGU6IE1hcDxzdHJpbmcsIENhY2hlRW50cnk+O1xuICBwcml2YXRlIGRiOiBQb3VjaERCLkRhdGFiYXNlO1xuICBwcml2YXRlIHBhcnNlcjogRE9NUGFyc2VyO1xuICAvKiogUGFnZXMga25vd24gbm90IHRvIGhhdmUgYW55IGFzc29jaWF0ZWQgTUVJLiAqL1xuICBwcml2YXRlIGJsYW5rUGFnZXM6IEFycmF5PHN0cmluZz47XG4gIC8qKiBBIGNvbGxlY3Rpb24gb2YgVzMgV2ViIEFubm90YXRpb25zLiAqL1xuICBwcml2YXRlIGFubm90YXRpb25zOiBXZWJBbm5vdGF0aW9uW107XG4gIHByaXZhdGUgbWFuaWZlc3Q6IE5lb25NYW5pZmVzdDtcbiAgcHJpdmF0ZSBsYXN0UGFnZUxvYWRlZDogc3RyaW5nO1xuXG4gIGdldEFubm90YXRpb25zICgpOiBXZWJBbm5vdGF0aW9uW10geyByZXR1cm4gdGhpcy5hbm5vdGF0aW9uczsgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgTmVvbkNvcmVcbiAgICovXG4gIGNvbnN0cnVjdG9yIChtYW5pZmVzdDogTmVvbk1hbmlmZXN0KSB7XG4gICAgdGhpcy52ZXJvdmlvV3JhcHBlciA9IG5ldyBWZXJvdmlvV3JhcHBlcigpO1xuICAgIC8vVmFsaWRhdGlvbi5pbml0KCk7XG5cbiAgICAvKipcbiAgICAgKiBTdGFja3Mgb2YgcHJldmlvdXMgTUVJIGZpbGVzIHJlcHJlc2VudGluZyBhY3Rpb25zIHRoYXQgY2FuIGJlIHVuZG9uZSBmb3IgZWFjaCBwYWdlLlxuICAgICAqIEB0eXBlIHtNYXAuPHN0cmluZywgQXJyYXkuPHN0cmluZz4+fVxuICAgICAqL1xuICAgIHRoaXMudW5kb1N0YWNrcyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKTtcblxuICAgIC8qKlxuICAgICAqIFN0YWNrcyBvZiBwcmV2aW91cyBNRUkgZmlsZXMgcmVwcmVzZW50aW5nIGFjdGlvbnMgdGhhdCBjYW4gYmUgcmVkb25lIGZvciBlYWNoIHBhZ2UuXG4gICAgICogQHR5cGUge01hcC48c3RyaW5nLCBBcnJheS48c3RyaW5nPj59XG4gICAgICovXG4gICAgdGhpcy5yZWRvU3RhY2tzID0gbmV3IE1hcCgpO1xuXG4gICAgdGhpcy5uZW9uQ2FjaGUgPSBuZXcgTWFwKCk7XG5cbiAgICB0aGlzLnBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgIHRoaXMuZGIgPSBuZXcgUG91Y2hEQignTmVvbicpO1xuXG4gICAgdGhpcy5ibGFua1BhZ2VzID0gW107XG5cbiAgICAvLyBBZGQgZWFjaCBNRUkgdG8gdGhlIGRhdGFiYXNlXG4gICAgdGhpcy5tYW5pZmVzdCA9IG1hbmlmZXN0O1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBtYW5pZmVzdC5tZWlfYW5ub3RhdGlvbnM7XG4gICAgdGhpcy5sYXN0UGFnZUxvYWRlZCA9ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIFBvdWNoRGIgZGF0YWJhc2UgYmFzZWQgb24gdGhlIHByb3ZpZGVkIG1hbmlmZXN0LlxuICAgKiBJZiBhIG5ld2VyIHZlcnNpb24gYWxyZWFkeSBleGlzdHMgaW4gdGhlIGRhdGFiYXNlLCB0aGlzIHdpbGxcbiAgICogbm90IHVwZGF0ZSB0aGUgZGF0YWJhc2UgdW5sZXNzIGZvcmNlZC5cbiAgICogQHBhcmFtIGZvcmNlIC0gSWYgYSBkYXRhYmFzZSB1cGRhdGUgc2hvdWxkIGJlIGZvcmNlZC5cbiAgICovXG4gIGFzeW5jIGluaXREYiAoZm9yY2UgPSBmYWxzZSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIC8vIENoZWNrIGZvciBleGlzdGluZyBtYW5pZmVzdFxuICAgIHR5cGUgRGJBbm5vdGF0aW9uID0gUG91Y2hEQi5Db3JlLklkTWV0YSAmIFBvdWNoREIuQ29yZS5HZXRNZXRhICYgV2ViQW5ub3RhdGlvbjtcbiAgICB0eXBlIERvYyA9IFBvdWNoREIuQ29yZS5JZE1ldGEgJiBQb3VjaERCLkNvcmUuR2V0TWV0YSAmIHsgdGltZXN0YW1wOiBzdHJpbmc7IGFubm90YXRpb25zOiBzdHJpbmdbXX07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBuZXcgUHJvbWlzZTxib29sZWFuPigocmVzb2x2ZSwgcmVqZWN0KTogdm9pZCA9PiB7XG4gICAgICB0aGlzLmRiLmdldCh0aGlzLm1hbmlmZXN0WydAaWQnXSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKGVyci5uYW1lID09PSAnbm90X2ZvdW5kJykge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYSBuZXcgZG9jdW1lbnQuXG4gICAgICAgICAgY29uc3QgZG9jID0ge1xuICAgICAgICAgICAgX2lkOiB0aGlzLm1hbmlmZXN0WydAaWQnXSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5tYW5pZmVzdC50aW1lc3RhbXAsXG4gICAgICAgICAgICBpbWFnZTogdGhpcy5tYW5pZmVzdC5pbWFnZSxcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLm1hbmlmZXN0LnRpdGxlLFxuICAgICAgICAgICAgYW5ub3RhdGlvbnM6IFtdXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLmFubm90YXRpb25zLmZvckVhY2goYW5ub3RhdGlvbiA9PiB7XG4gICAgICAgICAgICBkb2MuYW5ub3RhdGlvbnMucHVzaChhbm5vdGF0aW9uLmlkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oYXN5bmMgKGRvYzogRG9jKSA9PiB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRvYyB0aW1lc3RhbXAgaXMgbmV3ZXIgdGhhbiBtYW5pZmVzdFxuICAgICAgICBjb25zdCBkb2NUaW1lID0gKG5ldyBEYXRlKGRvYy50aW1lc3RhbXApKS5nZXRUaW1lKCk7XG4gICAgICAgIC8vIEZvcm1hdCB0aW1lc3RhbXAgdG8gc3BlY2lmaWMgSVNPIDg2MDEgdmFyaWFudCBiZWNhdXNlXG4gICAgICAgIC8vIFNhZmFyaSByZXF1aXJlcyB0aW1lem9uZSBvZmZzZXRzIHRvIGJlICsvLUhIOk1NIGFuZCBmYWlscyBvblxuICAgICAgICAvLyB0aGUgZXF1YWxseSB2YWxpZCArLy1ISE1NLiBUaGlzIGRvZXNuJ3QgbmVlZCB0byBiZSBhcHBsaWVkIHRvXG4gICAgICAgIC8vIHRoZSBicm93c2VyIGdlbmVyYXRlZCB0aW1lc3RhbXAgc2luY2UgdGhhdCBhbHdheXMgZ2VuZXJhdGVzIGFcbiAgICAgICAgLy8gdGltZXN0YW1wIGluIFVUQyB3aXRoIHRoZSBaIGVuZGluZy5cbiAgICAgICAgY29uc3QgdGltZVpvbmVSZWdleHAgPSAvKC4rWy0rXFx1MjIxMl1cXGRcXGQpKFxcZFxcZCkkLztcbiAgICAgICAgY29uc3QgbWFuVGltZSA9ICh0aW1lWm9uZVJlZ2V4cC50ZXN0KHRoaXMubWFuaWZlc3QudGltZXN0YW1wKSkgP1xuICAgICAgICAgIChuZXcgRGF0ZSh0aGlzLm1hbmlmZXN0LnRpbWVzdGFtcC5yZXBsYWNlKHRpbWVab25lUmVnZXhwLCAnJDE6JDInKSkpLmdldFRpbWUoKVxuICAgICAgICAgIDogKG5ldyBEYXRlKHRoaXMubWFuaWZlc3QudGltZXN0YW1wKSkuZ2V0VGltZSgpO1xuICAgICAgICBpZiAoZG9jVGltZSA+IG1hblRpbWUpIHtcbiAgICAgICAgICBpZiAoIWZvcmNlKSB7XG4gICAgICAgICAgICAvLyBGaWxsIGFubm90YXRpb25zIGxpc3Qgd2l0aCBkYiBhbm5vdGF0aW9uc1xuICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBkb2MuYW5ub3RhdGlvbnMubWFwKChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYi5nZXQoaWQpLnRoZW4oKGFubm90YXRpb246IERiQW5ub3RhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGFubm90YXRpb24uX2lkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnQW5ub3RhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IGFubm90YXRpb24uYm9keSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBhbm5vdGF0aW9uLnRhcmdldFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICByZXMoJycpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICByZXMoJycpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGFubm90YXRpb24gb2YgdGhpcy5hbm5vdGF0aW9ucykge1xuICAgICAgICAgIC8vIEFkZCBhbm5vdGF0aW9ucyB0byBkYXRhYmFzZVxuICAgICAgICAgIGF3YWl0IHRoaXMuZGIuZ2V0KGFubm90YXRpb24uaWQpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyLm5hbWUgPT09ICdub3RfZm91bmQnKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgX2lkOiBhbm5vdGF0aW9uLmlkXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS50aGVuKChuZXdBbm5vdGF0aW9uOiBEYkFubm90YXRpb24pID0+IHtcbiAgICAgICAgICAgIG5ld0Fubm90YXRpb24uYm9keSA9IGFubm90YXRpb24uYm9keTtcbiAgICAgICAgICAgIG5ld0Fubm90YXRpb24udGFyZ2V0ID0gYW5ub3RhdGlvbi50YXJnZXQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYi5wdXQobmV3QW5ub3RhdGlvbik7XG4gICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRiLnB1dChkb2MpO1xuICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xuICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSBwYWdlIGludG8gdGhlIHZlcm92aW8gdG9vbGtpdC4gVGhpcyB3aWxsIGZldGNoIHRoZVxuICAgKiBwYWdlIGZyb20gdGhlIGNhY2hlIG9yIGZyb20gdGhlIGRhdGFiYXNlLlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBsb2FkUGFnZSAocGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxDYWNoZUVudHJ5PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpOiB2b2lkID0+IHtcbiAgICAgIC8vIFdhcyB0aGlzIGFscmVhZHkgdGhlIGxvYWRlZCBwYWdlP1xuICAgICAgaWYgKHRoaXMubGFzdFBhZ2VMb2FkZWQgPT09IHBhZ2VVUkkgJiYgdGhpcy5uZW9uQ2FjaGUuaGFzKHBhZ2VVUkkpKSB7XG4gICAgICAgIHJlc29sdmUodGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5uZW9uQ2FjaGUuaGFzKHBhZ2VVUkkpKSB7XG4gICAgICAgIHRoaXMubG9hZERhdGEocGFnZVVSSSwgdGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpLm1laSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSh0aGlzLm5lb25DYWNoZS5nZXQocGFnZVVSSSkpO1xuICAgICAgICB9KTtcbiAgICAgIC8vIERvIHdlIGtub3cgdGhpcyBwYWdlIGhhcyBubyBNRUkgY29udGVudD9cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5ibGFua1BhZ2VzLmluY2x1ZGVzKHBhZ2VVUkkpKSB7XG4gICAgICAgIFZhbGlkYXRpb24uYmxhbmtQYWdlKCk7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgRXJyb3IoJ05vIE1FSSBmaWxlIGZvciBwYWdlICcgKyBwYWdlVVJJKTtcbiAgICAgICAgZS5uYW1lID0gJ21pc3NpbmdfbWVpJztcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmluZCBhbm5vdGF0aW9uXG4gICAgICAgIGNvbnN0IGFubm90YXRpb24gPSB0aGlzLmFubm90YXRpb25zLmZpbmQoZWxlbSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGVsZW0udGFyZ2V0ID09PSBwYWdlVVJJO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFubm90YXRpb24pIHtcbiAgICAgICAgICB3aW5kb3cuZmV0Y2goYW5ub3RhdGlvbi5ib2R5KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgTUVJIGZpbGUgaXMgc2ItYmFzZWQuIElmIHNvLCBjb252ZXJ0IHRvIHN0YWZmLWJhc2VkLlxuICAgICAgICAgICAgaWYgKCEvPHNlY3Rpb25cXGJbXj5dKlxcYnR5cGU9XCJuZW9uLW5ldW1lLWxpbmVcIltePl0qPi8udGVzdChkYXRhKSkge1xuICAgICAgICAgICAgICBkYXRhID0gY29udmVydFRvVmVyb3ZpbyhkYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hlY2tPdXRPZkJvdW5kc0dseXBocyhkYXRhKTtcbiAgICAgICAgICAgIHRoaXMubG9hZERhdGEocGFnZVVSSSwgZGF0YSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUodGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiBubyBhbm5vdGF0aW9uIHdhcyBmb3VuZCB0cmVhdCB0aGUgcGFnZSBhc1xuICAgICAgICAgIC8vIGJlaW5nIGJsYW5rXG4gICAgICAgICAgVmFsaWRhdGlvbi5ibGFua1BhZ2UoKTtcbiAgICAgICAgICB0aGlzLmJsYW5rUGFnZXMucHVzaChwYWdlVVJJKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgZGF0YSBpbnRvIHRoZSB2ZXJvdmlvIHRvb2xraXQgYW5kIHVwZGF0ZSB0aGUgY2FjaGUuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICogQHBhcmFtIGRhdGEgLSBUaGUgTUVJIG9mIHRoZSBwYWdlIGFzIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0gZGlydHkgLSBJZiB0aGUgY2FjaGUgZW50cnkgc2hvdWxkIGJlIG1hcmtlZCBhcyBkaXJ0eS5cbiAgICovXG4gIGxvYWREYXRhIChwYWdlVVJJOiBzdHJpbmcsIGRhdGE6IHN0cmluZywgZGlydHkgPSBmYWxzZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIFZhbGlkYXRpb24uc2VuZEZvclZhbGlkYXRpb24ocmVtb3ZlQ29sdW1uTGFiZWwoZGF0YSkpO1xuICAgIHRoaXMubGFzdFBhZ2VMb2FkZWQgPSBwYWdlVVJJO1xuICAgIC8qIEEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgcmVzdWx0IG9mIHRoZSBhY3Rpb24uXG4gICAgICogSG93ZXZlciB0aGUgdmFsdWUgdGhhdCBpcyBtdXN0IHJldHVybiBjb21lcyBmcm9tIHRoZSBXZWIgV29ya2VyIGFuZFxuICAgICAqIGluZm9ybWF0aW9uIHBhc3NlZCBiZXR3ZWVuIHRoZSB3b3JrZXIgYW5kIG1haW4gY29udGV4dCBtdWNoIGJlIGluIGFcbiAgICAgKiBtZXNzYWdlLiBTbyBhbiBldmVudCBoYW5kbGVyIGlzIHB1dCBvbiB2ZXJvdmlvV3JhcHBlciBmb3Igd2hlbiBhIG1lc3NhZ2VcbiAgICAgKiBpcyByZWNlaWV2ZWQgZnJvbSB0aGUgd29ya2VyLiBUaGVuIGEgbWVzc2FnZSBpcyBzZW50IHRvIHRoZSB3b3JrZXIgdG9cbiAgICAgKiB0YWtlIGFuIGFjdGlvbi4gQSByZXNwb25zZSBpcyBzZW50IGJhY2sgYW5kIHRoZSBwcmV2aW91c2x5IG1lbnRpb25lZFxuICAgICAqIGV2ZW50IGhhbmRsZXIgaGFuZGxlcyB0aGUgcmVzcG9uc2UuIFNpbmNlIGl0IGlzIGRlZmluZWQgd2l0aGluIHRoZVxuICAgICAqIHByb21pc2UgaXQgaGFzIGFjY2VzcyB0byB0aGUgbmVjZXNzYXJ5IHJlc29sdmUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBhY3Rpb246ICdyZW5kZXJEYXRhJyxcbiAgICAgICAgbWVpOiBkYXRhXG4gICAgICB9O1xuICAgICAgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoZXZ0LmRhdGEuaWQgPT09IG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICBjb25zdCBzdmcgPSB0aGlzLnBhcnNlci5wYXJzZUZyb21TdHJpbmcoXG4gICAgICAgICAgICBldnQuZGF0YS5zdmcsXG4gICAgICAgICAgICAnaW1hZ2Uvc3ZnK3htbCdcbiAgICAgICAgICApLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICB0aGlzLm5lb25DYWNoZS5zZXQocGFnZVVSSSwge1xuICAgICAgICAgICAgc3ZnOiBzdmcsXG4gICAgICAgICAgICBtZWk6IGRhdGEsXG4gICAgICAgICAgICBkaXJ0eTogZGlydHlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBldnQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGUpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFNWRyBmb3IgYSBzcGVjaWZpYyBwYWdlLlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBnZXRTVkcgKHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8U1ZHU1ZHRWxlbWVudD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KTogdm9pZCA9PiB7XG4gICAgICB0aGlzLmxvYWRQYWdlKHBhZ2VVUkkpLnRoZW4oKGVudHJ5KSA9PiB7XG4gICAgICAgIHJlc29sdmUoZW50cnkuc3ZnKTtcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsgcmVqZWN0KGVycik7IH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgTUVJIGZvciBhIHNwZWNpZmljIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICovXG4gIGdldE1FSSAocGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5sb2FkUGFnZShwYWdlVVJJKS50aGVuKChlbnRyeSkgPT4ge1xuICAgICAgICByZXNvbHZlKGVudHJ5Lm1laSk7XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7IHJlamVjdChlcnIpOyB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbXVzaWNhbCBlbGVtZW50IGF0dHJpYnV0ZXMgZnJvbSB0aGUgdmVyb3ZpbyB0b29sa2l0LlxuICAgKiBAcGFyYW0gZWxlbWVudElkIC0gVGhlIHVuaXF1ZSBJRCBvZiB0aGUgbXVzaWNhbCBlbGVtZW50LlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBnZXRFbGVtZW50QXR0ciAoZWxlbWVudElkOiBzdHJpbmcsIHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8QXR0cmlidXRlcz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5sb2FkUGFnZShwYWdlVVJJKS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZTogVmVyb3Zpb01lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgIGFjdGlvbjogJ2dldEVsZW1lbnRBdHRyJyxcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiBoYW5kbGUgKGV2dDogTWVzc2FnZUV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2dC5kYXRhLmlkID09PSBtZXNzYWdlLmlkKSB7XG4gICAgICAgICAgICBldnQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGUpO1xuICAgICAgICAgICAgcmVzb2x2ZShldnQuZGF0YS5hdHRyaWJ1dGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybSBhbiBlZGl0b3IgYWN0aW9uIG9uIGEgc3BlY2lmaWMgcGFnZS5cbiAgICogQHBhcmFtIGFjdGlvbiAtIFRoZSBlZGl0b3IgdG9vbGtpdCBhY3Rpb24gb2JqZWN0LlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBlZGl0IChlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiwgcGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgbGV0IHByb21pc2U6IFByb21pc2U8Q2FjaGVFbnRyeT47XG4gICAgaWYgKHRoaXMubGFzdFBhZ2VMb2FkZWQgPT09IHBhZ2VVUkkpIHtcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZSA9IHRoaXMubG9hZFBhZ2UocGFnZVVSSSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgcHJvbWlzZS50aGVuKGVudHJ5ID0+IHtcbiAgICAgICAgLy8gZGVsZXRlIHVubmVjZXNzYXJ5IFNWRyBvYmplY3QgcmVmZXJlbmNlO1xuICAgICAgICAvLyBvdGhlcndpc2UsIHRoaXMgaXMgbm90IGdhcmJhZ2UgY29sbGVjdGVkIVxuICAgICAgICBlbnRyeS5zdmcgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRNRUkgPSBlbnRyeS5tZWk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdlZGl0JyxcbiAgICAgICAgICBlZGl0b3JBY3Rpb246IGVkaXRvckFjdGlvblxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGUgKHRoaXM6IE5lb25Db3JlLCBldnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgaWYgKGV2dC5kYXRhLnJlc3VsdCkge1xuICAgICAgICAgICAgICBpZiAoIXRoaXMudW5kb1N0YWNrcy5oYXMocGFnZVVSSSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuZG9TdGFja3Muc2V0KHBhZ2VVUkksIFtdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEFkZCB0byB1bmRvIHN0YWNrOlxuICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGJvdHRvbW1vc3QgTUVJIHN0cmluZyBvbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgLy8gaWYgdGhlIHN0YWNrIGlzID4gMTAgc3RyaW5nc1xuICAgICAgICAgICAgICBjb25zdCB1bmRvU3RhY2sgPSB0aGlzLnVuZG9TdGFja3MuZ2V0KHBhZ2VVUkkpO1xuICAgICAgICAgICAgICBjb25zdCBsZW4gPSB1bmRvU3RhY2sucHVzaChjdXJyZW50TUVJKTtcblxuICAgICAgICAgICAgICBpZiAobGVuID4gMTApXG4gICAgICAgICAgICAgICAgdGhpcy51bmRvU3RhY2tzLnNldChwYWdlVVJJLCB1bmRvU3RhY2suc2xpY2UoMSkpO1xuXG4gICAgICAgICAgICAgIC8vIENsZWFyIHJlZG8gc3RhY2s6XG4gICAgICAgICAgICAgIHRoaXMucmVkb1N0YWNrcy5zZXQocGFnZVVSSSwgW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZ0LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FjaGUocGFnZVVSSSwgdHJ1ZSkudGhlbigoKSA9PiB7IHJlc29sdmUoZXZ0LmRhdGEucmVzdWx0KTsgfSk7XG4gICAgICAgICAgICBzZXRTYXZlZFN0YXR1cyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBjb250ZW50cyBvZiB0aGUgY2FjaGUgdXNpbmcgaW5mb3JtYXRpb24gaW4gdmVyb3ZpbyB0b29sa2l0LlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFBhZ2UgdG8gYmUgdXBkYXRlZCBpbiBjYWNoZS5cbiAgICogQHBhcmFtIGRpcnR5IC0gSWYgdGhlIGVudHJ5IHNob3VsZCBiZSBtYXJrZWQgYXMgZGlydHlcbiAgICovXG4gIHVwZGF0ZUNhY2hlIChwYWdlVVJJOiBzdHJpbmcsIGRpcnR5OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICAvLyBNdXN0IGdldCBNRUkgYW5kIHRoZW4gZ2V0IFNWRyB0aGVuIGZpbmlzaC5cbiAgICAgIGxldCBtZWk6IHN0cmluZywgc3ZnVGV4dDogc3RyaW5nO1xuICAgICAgY29uc3QgbWVpUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdnZXRNRUknXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIGhhbmRsZSAoZXZ0OiBNZXNzYWdlRXZlbnQpIHtcbiAgICAgICAgICBpZiAoZXZ0LmRhdGEuaWQgPT09IG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICAgIG1laSA9IGV2dC5kYXRhLm1laTtcbiAgICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgICBWYWxpZGF0aW9uLnNlbmRGb3JWYWxpZGF0aW9uKHJlbW92ZUNvbHVtbkxhYmVsKG1laSkpO1xuICAgICAgICAgICAgcmVzb2x2ZSgnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc3ZnUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdyZW5kZXJUb1NWRydcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgc3ZnVGV4dCA9IGV2dC5kYXRhLnN2ZztcbiAgICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgICByZXNvbHZlKCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIG1laVByb21pc2UudGhlbigoKSA9PiB7IHJldHVybiBzdmdQcm9taXNlOyB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3ZnID0gdGhpcy5wYXJzZXIucGFyc2VGcm9tU3RyaW5nKFxuICAgICAgICAgIHN2Z1RleHQsXG4gICAgICAgICAgJ2ltYWdlL3N2Zyt4bWwnXG4gICAgICAgICkuZG9jdW1lbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50ICYgU1ZHU1ZHRWxlbWVudDtcbiAgICAgICAgdGhpcy5uZW9uQ2FjaGUuc2V0KHBhZ2VVUkksIHtcbiAgICAgICAgICBtZWk6IG1laSxcbiAgICAgICAgICBzdmc6IHN2ZyxcbiAgICAgICAgICBkaXJ0eTogZGlydHlcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZWRpdCBpbmZvIHN0cmluZyBmcm9tIHRoZSB2ZXJvdmlvIHRvb2xraXQuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgcGFnZSB0byBnZXQgdGhlIGVkaXQgaW5mbyBzdHJpbmcgZnJvbS5cbiAgICovXG4gIGluZm8gKHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbGV0IHByb21pc2U6IFByb21pc2U8Q2FjaGVFbnRyeSB8IHZvaWQ+O1xuICAgIGlmICh0aGlzLmxhc3RQYWdlTG9hZGVkID09PSBwYWdlVVJJKSB7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UgPSB0aGlzLmxvYWRQYWdlKHBhZ2VVUkkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpOiB2b2lkID0+IHtcbiAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdlZGl0SW5mbydcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgZXZ0LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlKTtcbiAgICAgICAgICAgIHJlc29sdmUoZXZ0LmRhdGEuaW5mbyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuZG8gdGhlIGxhc3QgYWN0aW9uIHBlcmZvcm1lZCBvbiBhIHNwZWNpZmljIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICogQHJldHVybnMgSWYgdGhlIGFjdGlvbiB3YXMgdW5kb25lLlxuICAgKi9cbiAgdW5kbyAocGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMudW5kb1N0YWNrcy5oYXMocGFnZVVSSSkpXG4gICAgICAgIHJldHVybiByZXNvbHZlKGZhbHNlKTtcblxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnVuZG9TdGFja3MuZ2V0KHBhZ2VVUkkpLnBvcCgpO1xuICAgICAgaWYgKCFzdGF0ZSkgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuXG4gICAgICBjb25zdCBtZWkgPSBhd2FpdCB0aGlzLmdldE1FSShwYWdlVVJJKTtcbiAgICAgIHRoaXMucmVkb1N0YWNrcy5nZXQocGFnZVVSSSkucHVzaChtZWkpO1xuICAgICAgYXdhaXQgdGhpcy5sb2FkRGF0YShwYWdlVVJJLCBzdGF0ZSwgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZG8gdGhlIGxhc3QgYWN0aW9uIHBlcmZvcm1lZCBvbiBhIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIHBhZ2UgVVJJLlxuICAgKiBAcmV0dXJucyBJZiB0aGUgYWN0aW9uIHdhcyByZWRvbmUuXG4gICAqL1xuICByZWRvIChwYWdlVVJJOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICAgIGlmICghdGhpcy5yZWRvU3RhY2tzLmhhcyhwYWdlVVJJKSlcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuXG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucmVkb1N0YWNrcy5nZXQocGFnZVVSSSkucG9wKCk7XG4gICAgICBpZiAoIXN0YXRlKSByZXR1cm4gcmVzb2x2ZShmYWxzZSk7XG5cbiAgICAgIGNvbnN0IG1laSA9IGF3YWl0IHRoaXMuZ2V0TUVJKHBhZ2VVUkkpO1xuICAgICAgdGhpcy51bmRvU3RhY2tzLmdldChwYWdlVVJJKS5wdXNoKG1laSk7XG4gICAgICBhd2FpdCB0aGlzLmxvYWREYXRhKHBhZ2VVUkksIHN0YXRlLCB0cnVlKTtcblxuICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBQb3VjaERiIGRhdGFiYXNlIHN0b3JlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICogVGhpcyBpcyBiYXNlZCBvbiB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNhY2hlLiBUbyBzYXZlIHRpbWUsXG4gICAqIG9ubHkgZW50cmllcyBtYXJrZWQgYXMgZGlydHkgd2lsbCBiZSB1cGRhdGVkLlxuICAgKi9cbiAgYXN5bmMgdXBkYXRlRGF0YWJhc2UgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHR5cGUgRG9jID0gUG91Y2hEQi5Db3JlLkdldE1ldGEgJiBQb3VjaERCLkNvcmUuSWRNZXRhICYgeyBib2R5OiBzdHJpbmc7IHRpbWVzdGFtcDogc3RyaW5nIH07XG4gICAgbGV0IHVwZGF0ZVRpbWVzdGFtcCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgcGFpciBvZiB0aGlzLm5lb25DYWNoZSkge1xuICAgICAgY29uc3Qga2V5ID0gcGFpclswXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gcGFpclsxXTtcbiAgICAgIGlmICh2YWx1ZS5kaXJ0eSkge1xuICAgICAgICB1cGRhdGVUaW1lc3RhbXAgPSB0cnVlO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuYW5ub3RhdGlvbnMuZmluZEluZGV4KGVsZW0gPT4geyByZXR1cm4gZWxlbS50YXJnZXQgPT09IGtleTsgfSk7XG4gICAgICAgIC8vIHRyeSB0byB1cGRhdGUgc2VydmVyIHdpdGggUFVUIHJlcXVlc3QgKGlmIGFwcGxpY2FibGUpXG4gICAgICAgIC8vIHRoaXMgaXMgc2ltcGxlciB0aGFuIGV4cGVjdGluZyBhIHNwZWNpZmljIEFQSSBvbiB0aGUgc2VydmVyXG4gICAgICAgIC8vIGFuZCB1c2luZyBQT1NUIHJlcXVlc3RzLCBhbHRob3VnaCB0aGF0IHdvdWxkIGJlIGJldHRlciBpZiB0aGVyZVxuICAgICAgICAvLyBpcyBldmVyIGEgZGVkaWNhdGVkIHB1YmxpYyBzZXJ2ZXIgZm9yIE5lb24hIEF0IHRpbWUgb2Ygd3JpdGluZyxcbiAgICAgICAgLy8gb25seSBkZXYvdGVzdGluZyBzZXJ2ZXIgYWNjZXB0cyBQVVQgcmVxdWVzdHMuXG4gICAgICAgIC8vIG9ubHkgYXR0ZW1wdCBpZiBub3QgYSBkYXRhIFVSSVxuICAgICAgICBsZXQgdXJpOiBzdHJpbmc7XG4gICAgICAgIGlmICghdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keS5tYXRjaCgvXmRhdGE6LykpIHtcbiAgICAgICAgICBhd2FpdCB3aW5kb3cuZmV0Y2godGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL21laSt4bWwnIH0sXG4gICAgICAgICAgICAgIGJvZHk6IHZhbHVlLm1laVxuICAgICAgICAgICAgfVxuICAgICAgICAgICkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgdXJpID0gdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHVyaSA9ICdkYXRhOmFwcGxpY2F0aW9uL21laSt4bWw7YmFzZTY0LCcgKyB3aW5kb3cuYnRvYSh2YWx1ZS5tZWkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhbGxpbmcgYmFjayB0byBkYXRhIFVSSScpO1xuICAgICAgICAgICAgdXJpID0gJ2RhdGE6YXBwbGljYXRpb24vbWVpK3htbDtiYXNlNjQsJyArIHdpbmRvdy5idG9hKHZhbHVlLm1laSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXJpID0gJ2RhdGE6YXBwbGljYXRpb24vbWVpK3htbDtiYXNlNjQsJyArIHdpbmRvdy5idG9hKHZhbHVlLm1laSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIFVSSSBpbiBhbm5vdGF0aW9ucywgZGF0YWJhc2VcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keSA9IHVyaTtcbiAgICAgICAgYXdhaXQgdGhpcy5kYi5nZXQodGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uaWQpLnRoZW4oKGRvYzogRG9jKSA9PiB7XG4gICAgICAgICAgZG9jLmJvZHkgPSB1cmk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGIucHV0KGRvYyk7XG4gICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHZhbHVlLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXBkYXRlVGltZXN0YW1wKSB7XG4gICAgICBhd2FpdCB0aGlzLmRiLmdldCh0aGlzLm1hbmlmZXN0WydAaWQnXSkudGhlbigoZG9jOiBEb2MpID0+IHtcbiAgICAgICAgZG9jLnRpbWVzdGFtcCA9IChuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5wdXQoZG9jKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBDb21wbGV0ZWx5IHJlbW92ZSB0aGUgZGF0YWJhc2UuICovXG4gIGFzeW5jIGRlbGV0ZURiICgpOiBQcm9taXNlPHZvaWRbXT4ge1xuICAgIHR5cGUgRG9jID0gUG91Y2hEQi5Db3JlLklkTWV0YSAmIFBvdWNoREIuQ29yZS5HZXRNZXRhICYgeyB0aW1lc3RhbXA6IHN0cmluZzsgYW5ub3RhdGlvbnM6IHN0cmluZ1tdfTtcbiAgICBjb25zdCBhbm5vdGF0aW9ucyA9IGF3YWl0IHRoaXMuZGIuZ2V0KHRoaXMubWFuaWZlc3RbJ0BpZCddKVxuICAgICAgLnRoZW4oKGRvYzogRG9jKSA9PiB7IHJldHVybiBkb2MuYW5ub3RhdGlvbnM7IH0gKTtcbiAgICBhbm5vdGF0aW9ucy5wdXNoKHRoaXMubWFuaWZlc3RbJ0BpZCddKTtcblxuICAgIGNvbnN0IHByb21pc2VzID0gYW5ub3RhdGlvbnMubWFwKChpZCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlcyA9PiB7XG4gICAgICAgIHRoaXMuZGIuZ2V0KGlkKVxuICAgICAgICAgIC50aGVuKGRvYyA9PiB7IHJldHVybiB0aGlzLmRiLnJlbW92ZShkb2MpOyB9KVxuICAgICAgICAgIC50aGVuKCgpID0+IHJlcygpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgTmVvbkNvcmUgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgVmVyb3Zpb01lc3NhZ2UgfSBmcm9tICcuL1R5cGVzJztcblxuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIHRoZSB2ZXJvdmlvIHdlYiB3b3JrZXIgdG8gcGVybWl0IG1vY2tpbmcgaW4gdGVzdHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlcm92aW9XcmFwcGVyIHtcbiAgdmVyb3Zpb1dvcmtlcjogV29ya2VyO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdGhpcy52ZXJvdmlvV29ya2VyID0gbmV3IFdvcmtlcihcbiAgICAgICAgX19BU1NFVF9QUkVGSVhfXyArICd3b3JrZXJzL1Zlcm92aW9Xb3JrZXIuanMnXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZlcm92aW9Xb3JrZXIgPSBuZXcgV29ya2VyKFxuICAgICAgICBfX0FTU0VUX1BSRUZJWF9fICsgJ3dvcmtlcnMvVmVyb3Zpb1dvcmtlci1kZXYuanMnXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgb250byB0aGUgYWN0dWFsIHdlYiB3b3JrZXIuXG4gICAqL1xuICBhZGRFdmVudExpc3RlbmVyKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBoYW5kbGVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0XG4gICk6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLnZlcm92aW9Xb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGEgbWVzc2FnZSB0byB0aGUgYWN0dWFsIHdlYiB3b3JrZXIuXG4gICAqL1xuICBwb3N0TWVzc2FnZShtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSk6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLnZlcm92aW9Xb3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMgKi9cbmltcG9ydCB7IE5lb25NYW5pZmVzdCB9IGZyb20gJy4uL1R5cGVzJztcbmNvbnN0IE5lb25TY2hlbWEgPSByZXF1aXJlKCcuL21hbmlmZXN0L05lb25TY2hlbWEuanNvbicpO1xuY29uc3QgTmVvbkNvbnRleHQgPSByZXF1aXJlKCcuL21hbmlmZXN0L2NvbnRleHQuanNvbicpO1xuaW1wb3J0IHsgdmFsaWRhdGUgfSBmcm9tICdqc29uc2NoZW1hJztcblxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBwcm92aWRlZCBOZW9uIG1hbmlmZXN0IGlzIHBhcnNlYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdFN0cmluZyAtIFRoZSBOZW9uIG1hbmlmZXN0IGFzIGEgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNYW5pZmVzdCAobWFuaWZlc3RTdHJpbmc6IE5lb25NYW5pZmVzdCk6IGJvb2xlYW4ge1xuICBjb25zdCByZXN1bHRzID0gdmFsaWRhdGUobWFuaWZlc3RTdHJpbmcsIE5lb25TY2hlbWEpO1xuICBjb25zdCBpbnN0YW5jZSA9IHJlc3VsdHMuaW5zdGFuY2U7XG4gIGlmIChyZXN1bHRzLmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgY29uc29sZS5lcnJvcihyZXN1bHRzLmVycm9ycyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGNvbnRleHQgPSBpbnN0YW5jZVsnQGNvbnRleHQnXTtcbiAgaWYgKGNvbnRleHQgPT09ICdodHRwczovL2RkbWFsLm11c2ljLm1jZ2lsbC5jYS9OZW9uL2NvbnRleHRzLzEvbWFuaWZlc3QuanNvbmxkJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICgoY29udGV4dFswXSA9PT0gTmVvbkNvbnRleHRbMF0pICYmXG4gICAgICAoY29udGV4dFsxXVsnc2NoZW1hJ10gPT09IE5lb25Db250ZXh0WzFdWydzY2hlbWEnXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWyd0aXRsZSddID09PSBOZW9uQ29udGV4dFsxXVsndGl0bGUnXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWyd0aW1lc3RhbXAnXSA9PT0gTmVvbkNvbnRleHRbMV1bJ3RpbWVzdGFtcCddKSAmJlxuICAgICAgKGNvbnRleHRbMV1bJ2ltYWdlJ11bJ0BpZCddID09PSBOZW9uQ29udGV4dFsxXVsnaW1hZ2UnXVsnQGlkJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnaW1hZ2UnXVsnQHR5cGUnXSA9PT0gTmVvbkNvbnRleHRbMV1bJ2ltYWdlJ11bJ0B0eXBlJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0BpZCddID09PSBOZW9uQ29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0BpZCddKSAmJlxuICAgICAgKGNvbnRleHRbMV1bJ21laV9hbm5vdGF0aW9ucyddWydAdHlwZSddID09PSBOZW9uQ29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0B0eXBlJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0Bjb250YWluZXInXSA9PT0gTmVvbkNvbnRleHRbMV1bJ21laV9hbm5vdGF0aW9ucyddWydAY29udGFpbmVyJ10pKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignQ29udGV4dCBtaXNtYXRjaCcpO1xuICAgIGNvbnNvbGUuZXJyb3IoY29udGV4dCk7XG4gICAgY29uc29sZS5lcnJvcihOZW9uQ29udGV4dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBWYWxpZGF0b3IgPSBtb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3IgPSByZXF1aXJlKCcuL3ZhbGlkYXRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHQgPSByZXF1aXJlKCcuL2hlbHBlcnMnKS5WYWxpZGF0b3JSZXN1bHQ7XG5tb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHRFcnJvciA9IHJlcXVpcmUoJy4vaGVscGVycycpLlZhbGlkYXRvclJlc3VsdEVycm9yO1xubW9kdWxlLmV4cG9ydHMuVmFsaWRhdGlvbkVycm9yID0gcmVxdWlyZSgnLi9oZWxwZXJzJykuVmFsaWRhdGlvbkVycm9yO1xubW9kdWxlLmV4cG9ydHMuU2NoZW1hRXJyb3IgPSByZXF1aXJlKCcuL2hlbHBlcnMnKS5TY2hlbWFFcnJvcjtcbm1vZHVsZS5leHBvcnRzLlNjaGVtYVNjYW5SZXN1bHQgPSByZXF1aXJlKCcuL3NjYW4nKS5TY2hlbWFTY2FuUmVzdWx0O1xubW9kdWxlLmV4cG9ydHMuc2NhbiA9IHJlcXVpcmUoJy4vc2NhbicpLnNjYW47XG5cbm1vZHVsZS5leHBvcnRzLnZhbGlkYXRlID0gZnVuY3Rpb24gKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMpIHtcbiAgdmFyIHYgPSBuZXcgVmFsaWRhdG9yKCk7XG4gIHJldHVybiB2LnZhbGlkYXRlKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHVyaWxpYiA9IHJlcXVpcmUoJ3VybCcpO1xuXG52YXIgYXR0cmlidXRlID0gcmVxdWlyZSgnLi9hdHRyaWJ1dGUnKTtcbnZhciBoZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG52YXIgc2NhblNjaGVtYSA9IHJlcXVpcmUoJy4vc2NhbicpLnNjYW47XG52YXIgVmFsaWRhdG9yUmVzdWx0ID0gaGVscGVycy5WYWxpZGF0b3JSZXN1bHQ7XG52YXIgVmFsaWRhdG9yUmVzdWx0RXJyb3IgPSBoZWxwZXJzLlZhbGlkYXRvclJlc3VsdEVycm9yO1xudmFyIFNjaGVtYUVycm9yID0gaGVscGVycy5TY2hlbWFFcnJvcjtcbnZhciBTY2hlbWFDb250ZXh0ID0gaGVscGVycy5TY2hlbWFDb250ZXh0O1xuLy92YXIgYW5vbnltb3VzQmFzZSA9ICd2bmQuanNvbnNjaGVtYTovLy8nO1xudmFyIGFub255bW91c0Jhc2UgPSAnLyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBWYWxpZGF0b3Igb2JqZWN0XG4gKiBAbmFtZSBWYWxpZGF0b3JcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgVmFsaWRhdG9yID0gZnVuY3Rpb24gVmFsaWRhdG9yICgpIHtcbiAgLy8gQWxsb3cgYSB2YWxpZGF0b3IgaW5zdGFuY2UgdG8gb3ZlcnJpZGUgZ2xvYmFsIGN1c3RvbSBmb3JtYXRzIG9yIHRvIGhhdmUgdGhlaXJcbiAgLy8gb3duIGN1c3RvbSBmb3JtYXRzLlxuICB0aGlzLmN1c3RvbUZvcm1hdHMgPSBPYmplY3QuY3JlYXRlKFZhbGlkYXRvci5wcm90b3R5cGUuY3VzdG9tRm9ybWF0cyk7XG4gIHRoaXMuc2NoZW1hcyA9IHt9O1xuICB0aGlzLnVucmVzb2x2ZWRSZWZzID0gW107XG5cbiAgLy8gVXNlIE9iamVjdC5jcmVhdGUgdG8gbWFrZSB0aGlzIGV4dGVuc2libGUgd2l0aG91dCBWYWxpZGF0b3IgaW5zdGFuY2VzIHN0ZXBwaW5nIG9uIGVhY2ggb3RoZXIncyB0b2VzLlxuICB0aGlzLnR5cGVzID0gT2JqZWN0LmNyZWF0ZSh0eXBlcyk7XG4gIHRoaXMuYXR0cmlidXRlcyA9IE9iamVjdC5jcmVhdGUoYXR0cmlidXRlLnZhbGlkYXRvcnMpO1xufTtcblxuLy8gQWxsb3cgZm9ybWF0cyB0byBiZSByZWdpc3RlcmVkIGdsb2JhbGx5LlxuVmFsaWRhdG9yLnByb3RvdHlwZS5jdXN0b21Gb3JtYXRzID0ge307XG5cbi8vIEhpbnQgYXQgdGhlIHByZXNlbmNlIG9mIGEgcHJvcGVydHlcblZhbGlkYXRvci5wcm90b3R5cGUuc2NoZW1hcyA9IG51bGw7XG5WYWxpZGF0b3IucHJvdG90eXBlLnR5cGVzID0gbnVsbDtcblZhbGlkYXRvci5wcm90b3R5cGUuYXR0cmlidXRlcyA9IG51bGw7XG5WYWxpZGF0b3IucHJvdG90eXBlLnVucmVzb2x2ZWRSZWZzID0gbnVsbDtcblxuLyoqXG4gKiBBZGRzIGEgc2NoZW1hIHdpdGggYSBjZXJ0YWluIHVybiB0byB0aGUgVmFsaWRhdG9yIGluc3RhbmNlLlxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIHVyblxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLmFkZFNjaGVtYSA9IGZ1bmN0aW9uIGFkZFNjaGVtYSAoc2NoZW1hLCBiYXNlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKCFzY2hlbWEpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgc2NhbiA9IHNjYW5TY2hlbWEoYmFzZXx8YW5vbnltb3VzQmFzZSwgc2NoZW1hKTtcbiAgdmFyIG91clVyaSA9IGJhc2UgfHwgc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG4gIGZvcih2YXIgdXJpIGluIHNjYW4uaWQpe1xuICAgIHRoaXMuc2NoZW1hc1t1cmldID0gc2Nhbi5pZFt1cmldO1xuICB9XG4gIGZvcih2YXIgdXJpIGluIHNjYW4ucmVmKXtcbiAgICAvLyBJZiB0aGlzIHNjaGVtYSBpcyBhbHJlYWR5IGRlZmluZWQsIGl0IHdpbGwgYmUgZmlsdGVyZWQgb3V0IGJ5IHRoZSBuZXh0IHN0ZXBcbiAgICB0aGlzLnVucmVzb2x2ZWRSZWZzLnB1c2godXJpKTtcbiAgfVxuICAvLyBSZW1vdmUgbmV3bHkgZGVmaW5lZCBzY2hlbWFzIGZyb20gdW5yZXNvbHZlZFJlZnNcbiAgdGhpcy51bnJlc29sdmVkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZnMuZmlsdGVyKGZ1bmN0aW9uKHVyaSl7XG4gICAgcmV0dXJuIHR5cGVvZiBzZWxmLnNjaGVtYXNbdXJpXT09PSd1bmRlZmluZWQnO1xuICB9KTtcbiAgcmV0dXJuIHRoaXMuc2NoZW1hc1tvdXJVcmldO1xufTtcblxuVmFsaWRhdG9yLnByb3RvdHlwZS5hZGRTdWJTY2hlbWFBcnJheSA9IGZ1bmN0aW9uIGFkZFN1YlNjaGVtYUFycmF5KGJhc2V1cmksIHNjaGVtYXMpIHtcbiAgaWYoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHJldHVybjtcbiAgZm9yKHZhciBpPTA7IGk8c2NoZW1hcy5sZW5ndGg7IGkrKyl7XG4gICAgdGhpcy5hZGRTdWJTY2hlbWEoYmFzZXVyaSwgc2NoZW1hc1tpXSk7XG4gIH1cbn07XG5cblZhbGlkYXRvci5wcm90b3R5cGUuYWRkU3ViU2NoZW1hT2JqZWN0ID0gZnVuY3Rpb24gYWRkU3ViU2NoZW1hQXJyYXkoYmFzZXVyaSwgc2NoZW1hcykge1xuICBpZighc2NoZW1hcyB8fCB0eXBlb2Ygc2NoZW1hcyE9J29iamVjdCcpIHJldHVybjtcbiAgZm9yKHZhciBwIGluIHNjaGVtYXMpe1xuICAgIHRoaXMuYWRkU3ViU2NoZW1hKGJhc2V1cmksIHNjaGVtYXNbcF0pO1xuICB9XG59O1xuXG5cblxuLyoqXG4gKiBTZXRzIGFsbCB0aGUgc2NoZW1hcyBvZiB0aGUgVmFsaWRhdG9yIGluc3RhbmNlLlxuICogQHBhcmFtIHNjaGVtYXNcbiAqL1xuVmFsaWRhdG9yLnByb3RvdHlwZS5zZXRTY2hlbWFzID0gZnVuY3Rpb24gc2V0U2NoZW1hcyAoc2NoZW1hcykge1xuICB0aGlzLnNjaGVtYXMgPSBzY2hlbWFzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY2hlbWEgb2YgYSBjZXJ0YWluIHVyblxuICogQHBhcmFtIHVyblxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLmdldFNjaGVtYSA9IGZ1bmN0aW9uIGdldFNjaGVtYSAodXJuKSB7XG4gIHJldHVybiB0aGlzLnNjaGVtYXNbdXJuXTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIGluc3RhbmNlIGFnYWluc3QgdGhlIHByb3ZpZGVkIHNjaGVtYVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gW29wdGlvbnNdXG4gKiBAcGFyYW0gW2N0eF1cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZigodHlwZW9mIHNjaGVtYSAhPT0gJ2Jvb2xlYW4nICYmIHR5cGVvZiBzY2hlbWEgIT09ICdvYmplY3QnKSB8fCBzY2hlbWEgPT09IG51bGwpe1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcignRXhwZWN0ZWQgYHNjaGVtYWAgdG8gYmUgYW4gb2JqZWN0IG9yIGJvb2xlYW4nKTtcbiAgfVxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgLy8gVGhpcyBzZWN0aW9uIGluZGV4ZXMgc3Vic2NoZW1hcyBpbiB0aGUgcHJvdmlkZWQgc2NoZW1hLCBzbyB0aGV5IGRvbid0IG5lZWQgdG8gYmUgYWRkZWQgd2l0aCBWYWxpZGF0b3IjYWRkU2NoZW1hXG4gIC8vIFRoaXMgd2lsbCB3b3JrIHNvIGxvbmcgYXMgdGhlIGZ1bmN0aW9uIGF0IHVyaS5yZXNvbHZlKCkgd2lsbCByZXNvbHZlIGEgcmVsYXRpdmUgVVJJIHRvIGEgcmVsYXRpdmUgVVJJXG4gIHZhciBpZCA9IHNjaGVtYS4kaWQgfHwgc2NoZW1hLmlkO1xuICB2YXIgYmFzZSA9IHVyaWxpYi5yZXNvbHZlKG9wdGlvbnMuYmFzZXx8YW5vbnltb3VzQmFzZSwgaWR8fCcnKTtcbiAgaWYoIWN0eCl7XG4gICAgY3R4ID0gbmV3IFNjaGVtYUNvbnRleHQoc2NoZW1hLCBvcHRpb25zLCBbXSwgYmFzZSwgT2JqZWN0LmNyZWF0ZSh0aGlzLnNjaGVtYXMpKTtcbiAgICBpZiAoIWN0eC5zY2hlbWFzW2Jhc2VdKSB7XG4gICAgICBjdHguc2NoZW1hc1tiYXNlXSA9IHNjaGVtYTtcbiAgICB9XG4gICAgdmFyIGZvdW5kID0gc2NhblNjaGVtYShiYXNlLCBzY2hlbWEpO1xuICAgIGZvcih2YXIgbiBpbiBmb3VuZC5pZCl7XG4gICAgICB2YXIgc2NoID0gZm91bmQuaWRbbl07XG4gICAgICBjdHguc2NoZW1hc1tuXSA9IHNjaDtcbiAgICB9XG4gIH1cbiAgaWYob3B0aW9ucy5yZXF1aXJlZCAmJiBpbnN0YW5jZT09PXVuZGVmaW5lZCl7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgICByZXN1bHQuYWRkRXJyb3IoJ2lzIHJlcXVpcmVkLCBidXQgaXMgdW5kZWZpbmVkJyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIXJlc3VsdCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVzdWx0IHVuZGVmaW5lZCcpO1xuICB9ZWxzZSBpZihvcHRpb25zLnRocm93QWxsICYmIHJlc3VsdC5lcnJvcnMubGVuZ3RoKXtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdG9yUmVzdWx0RXJyb3IocmVzdWx0KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEByZXR1cm4gbWl4ZWQgc2NoZW1hIHVyaSBvciBmYWxzZVxuKi9cbmZ1bmN0aW9uIHNob3VsZFJlc29sdmUoc2NoZW1hKSB7XG4gIHZhciByZWYgPSAodHlwZW9mIHNjaGVtYSA9PT0gJ3N0cmluZycpID8gc2NoZW1hIDogc2NoZW1hLiRyZWY7XG4gIGlmICh0eXBlb2YgcmVmPT0nc3RyaW5nJykgcmV0dXJuIHJlZjtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBhbiBpbnN0YW5jZSBhZ2FpbnN0IHRoZSBzY2hlbWEgKHRoZSBhY3R1YWwgd29yayBob3JzZSlcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR9XG4gKi9cblZhbGlkYXRvci5wcm90b3R5cGUudmFsaWRhdGVTY2hlbWEgPSBmdW5jdGlvbiB2YWxpZGF0ZVNjaGVtYSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG5cbiAgLy8gU3VwcG9ydCBmb3IgdGhlIHRydWUvZmFsc2Ugc2NoZW1hc1xuICBpZih0eXBlb2Ygc2NoZW1hPT09J2Jvb2xlYW4nKSB7XG4gICAgaWYoc2NoZW1hPT09dHJ1ZSl7XG4gICAgICAvLyBgdHJ1ZWAgaXMgYWx3YXlzIHZhbGlkXG4gICAgICBzY2hlbWEgPSB7fTtcbiAgICB9ZWxzZSBpZihzY2hlbWE9PT1mYWxzZSl7XG4gICAgICAvLyBgZmFsc2VgIGlzIGFsd2F5cyBpbnZhbGlkXG4gICAgICBzY2hlbWEgPSB7dHlwZTogW119O1xuICAgIH1cbiAgfWVsc2UgaWYoIXNjaGVtYSl7XG4gICAgLy8gVGhpcyBtaWdodCBiZSBhIHN0cmluZ1xuICAgIHRocm93IG5ldyBFcnJvcihcInNjaGVtYSBpcyB1bmRlZmluZWRcIik7XG4gIH1cblxuICBpZiAoc2NoZW1hWydleHRlbmRzJ10pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWFbJ2V4dGVuZHMnXSkpIHtcbiAgICAgIHZhciBzY2hlbWFvYmogPSB7c2NoZW1hOiBzY2hlbWEsIGN0eDogY3R4fTtcbiAgICAgIHNjaGVtYVsnZXh0ZW5kcyddLmZvckVhY2godGhpcy5zY2hlbWFUcmF2ZXJzZXIuYmluZCh0aGlzLCBzY2hlbWFvYmopKTtcbiAgICAgIHNjaGVtYSA9IHNjaGVtYW9iai5zY2hlbWE7XG4gICAgICBzY2hlbWFvYmouc2NoZW1hID0gbnVsbDtcbiAgICAgIHNjaGVtYW9iai5jdHggPSBudWxsO1xuICAgICAgc2NoZW1hb2JqID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZW1hID0gaGVscGVycy5kZWVwTWVyZ2Uoc2NoZW1hLCB0aGlzLnN1cGVyUmVzb2x2ZShzY2hlbWFbJ2V4dGVuZHMnXSwgY3R4KSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgcGFzc2VkIGEgc3RyaW5nIGFyZ3VtZW50LCBsb2FkIHRoYXQgc2NoZW1hIFVSSVxuICB2YXIgc3dpdGNoU2NoZW1hID0gc2hvdWxkUmVzb2x2ZShzY2hlbWEpO1xuICBpZiAoc3dpdGNoU2NoZW1hKSB7XG4gICAgdmFyIHJlc29sdmVkID0gdGhpcy5yZXNvbHZlKHNjaGVtYSwgc3dpdGNoU2NoZW1hLCBjdHgpO1xuICAgIHZhciBzdWJjdHggPSBuZXcgU2NoZW1hQ29udGV4dChyZXNvbHZlZC5zdWJzY2hlbWEsIG9wdGlvbnMsIGN0eC5wYXRoLCByZXNvbHZlZC5zd2l0Y2hTY2hlbWEsIGN0eC5zY2hlbWFzKTtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZSwgcmVzb2x2ZWQuc3Vic2NoZW1hLCBvcHRpb25zLCBzdWJjdHgpO1xuICB9XG5cbiAgdmFyIHNraXBBdHRyaWJ1dGVzID0gb3B0aW9ucyAmJiBvcHRpb25zLnNraXBBdHRyaWJ1dGVzIHx8IFtdO1xuICAvLyBWYWxpZGF0ZSBlYWNoIHNjaGVtYSBhdHRyaWJ1dGUgYWdhaW5zdCB0aGUgaW5zdGFuY2VcbiAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuICAgIGlmICghYXR0cmlidXRlLmlnbm9yZVByb3BlcnRpZXNba2V5XSAmJiBza2lwQXR0cmlidXRlcy5pbmRleE9mKGtleSkgPCAwKSB7XG4gICAgICB2YXIgdmFsaWRhdG9yRXJyID0gbnVsbDtcbiAgICAgIHZhciB2YWxpZGF0b3IgPSB0aGlzLmF0dHJpYnV0ZXNba2V5XTtcbiAgICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgICAgdmFsaWRhdG9yRXJyID0gdmFsaWRhdG9yLmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5hbGxvd1Vua25vd25BdHRyaWJ1dGVzID09PSBmYWxzZSkge1xuICAgICAgICAvLyBUaGlzIHJlcHJlc2VudHMgYW4gZXJyb3Igd2l0aCB0aGUgc2NoZW1hIGl0c2VsZiwgbm90IGFuIGludmFsaWQgaW5zdGFuY2VcbiAgICAgICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwiVW5zdXBwb3J0ZWQgYXR0cmlidXRlOiBcIiArIGtleSwgc2NoZW1hKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWxpZGF0b3JFcnIpIHtcbiAgICAgICAgcmVzdWx0LmltcG9ydEVycm9ycyh2YWxpZGF0b3JFcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5yZXdyaXRlID09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgdmFsdWUgPSBvcHRpb25zLnJld3JpdGUuY2FsbCh0aGlzLCBpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICAgIHJlc3VsdC5pbnN0YW5jZSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiogQHByaXZhdGVcbiogQHBhcmFtIE9iamVjdCBzY2hlbWFcbiogQHBhcmFtIFNjaGVtYUNvbnRleHQgY3R4XG4qIEByZXR1cm5zIE9iamVjdCBzY2hlbWEgb3IgcmVzb2x2ZWQgc2NoZW1hXG4qL1xuVmFsaWRhdG9yLnByb3RvdHlwZS5zY2hlbWFUcmF2ZXJzZXIgPSBmdW5jdGlvbiBzY2hlbWFUcmF2ZXJzZXIgKHNjaGVtYW9iaiwgcykge1xuICBzY2hlbWFvYmouc2NoZW1hID0gaGVscGVycy5kZWVwTWVyZ2Uoc2NoZW1hb2JqLnNjaGVtYSwgdGhpcy5zdXBlclJlc29sdmUocywgc2NoZW1hb2JqLmN0eCkpO1xufTtcblxuLyoqXG4qIEBwcml2YXRlXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEBwYXJhbSBTY2hlbWFDb250ZXh0IGN0eFxuKiBAcmV0dXJucyBPYmplY3Qgc2NoZW1hIG9yIHJlc29sdmVkIHNjaGVtYVxuKi9cblZhbGlkYXRvci5wcm90b3R5cGUuc3VwZXJSZXNvbHZlID0gZnVuY3Rpb24gc3VwZXJSZXNvbHZlIChzY2hlbWEsIGN0eCkge1xuICB2YXIgcmVmID0gc2hvdWxkUmVzb2x2ZShzY2hlbWEpO1xuICBpZihyZWYpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlKHNjaGVtYSwgcmVmLCBjdHgpLnN1YnNjaGVtYTtcbiAgfVxuICByZXR1cm4gc2NoZW1hO1xufTtcblxuLyoqXG4qIEBwcml2YXRlXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEBwYXJhbSBPYmplY3Qgc3dpdGNoU2NoZW1hXG4qIEBwYXJhbSBTY2hlbWFDb250ZXh0IGN0eFxuKiBAcmV0dXJuIE9iamVjdCByZXNvbHZlZCBzY2hlbWFzIHtzdWJzY2hlbWE6U3RyaW5nLCBzd2l0Y2hTY2hlbWE6IFN0cmluZ31cbiogQHRocm93cyBTY2hlbWFFcnJvclxuKi9cblZhbGlkYXRvci5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIHJlc29sdmUgKHNjaGVtYSwgc3dpdGNoU2NoZW1hLCBjdHgpIHtcbiAgc3dpdGNoU2NoZW1hID0gY3R4LnJlc29sdmUoc3dpdGNoU2NoZW1hKTtcbiAgLy8gRmlyc3Qgc2VlIGlmIHRoZSBzY2hlbWEgZXhpc3RzIHVuZGVyIHRoZSBwcm92aWRlZCBVUklcbiAgaWYgKGN0eC5zY2hlbWFzW3N3aXRjaFNjaGVtYV0pIHtcbiAgICByZXR1cm4ge3N1YnNjaGVtYTogY3R4LnNjaGVtYXNbc3dpdGNoU2NoZW1hXSwgc3dpdGNoU2NoZW1hOiBzd2l0Y2hTY2hlbWF9O1xuICB9XG4gIC8vIEVsc2UgdHJ5IHdhbGtpbmcgdGhlIHByb3BlcnR5IHBvaW50ZXJcbiAgdmFyIHBhcnNlZCA9IHVyaWxpYi5wYXJzZShzd2l0Y2hTY2hlbWEpO1xuICB2YXIgZnJhZ21lbnQgPSBwYXJzZWQgJiYgcGFyc2VkLmhhc2g7XG4gIHZhciBkb2N1bWVudCA9IGZyYWdtZW50ICYmIGZyYWdtZW50Lmxlbmd0aCAmJiBzd2l0Y2hTY2hlbWEuc3Vic3RyKDAsIHN3aXRjaFNjaGVtYS5sZW5ndGggLSBmcmFnbWVudC5sZW5ndGgpO1xuICBpZiAoIWRvY3VtZW50IHx8ICFjdHguc2NoZW1hc1tkb2N1bWVudF0pIHtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJubyBzdWNoIHNjaGVtYSA8XCIgKyBzd2l0Y2hTY2hlbWEgKyBcIj5cIiwgc2NoZW1hKTtcbiAgfVxuICB2YXIgc3Vic2NoZW1hID0gaGVscGVycy5vYmplY3RHZXRQYXRoKGN0eC5zY2hlbWFzW2RvY3VtZW50XSwgZnJhZ21lbnQuc3Vic3RyKDEpKTtcbiAgaWYoc3Vic2NoZW1hPT09dW5kZWZpbmVkKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJubyBzdWNoIHNjaGVtYSBcIiArIGZyYWdtZW50ICsgXCIgbG9jYXRlZCBpbiA8XCIgKyBkb2N1bWVudCArIFwiPlwiLCBzY2hlbWEpO1xuICB9XG4gIHJldHVybiB7c3Vic2NoZW1hOiBzdWJzY2hlbWEsIHN3aXRjaFNjaGVtYTogc3dpdGNoU2NoZW1hfTtcbn07XG5cbi8qKlxuICogVGVzdHMgd2hldGhlciB0aGUgaW5zdGFuY2UgaWYgb2YgYSBjZXJ0YWluIHR5cGUuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHBhcmFtIHR5cGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblZhbGlkYXRvci5wcm90b3R5cGUudGVzdFR5cGUgPSBmdW5jdGlvbiB2YWxpZGF0ZVR5cGUgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgdHlwZSkge1xuICBpZih0eXBlPT09dW5kZWZpbmVkKXtcbiAgICByZXR1cm47XG4gIH1lbHNlIGlmKHR5cGU9PT1udWxsKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoJ1VuZXhwZWN0ZWQgbnVsbCBpbiBcInR5cGVcIiBrZXl3b3JkJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiB0aGlzLnR5cGVzW3R5cGVdID09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlc1t0eXBlXS5jYWxsKHRoaXMsIGluc3RhbmNlKTtcbiAgfVxuICBpZiAodHlwZSAmJiB0eXBlb2YgdHlwZSA9PSAnb2JqZWN0Jykge1xuICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCB0eXBlLCBvcHRpb25zLCBjdHgpO1xuICAgIHJldHVybiByZXMgPT09IHVuZGVmaW5lZCB8fCAhKHJlcyAmJiByZXMuZXJyb3JzLmxlbmd0aCk7XG4gIH1cbiAgLy8gVW5kZWZpbmVkIG9yIHByb3BlcnRpZXMgbm90IG9uIHRoZSBsaXN0IGFyZSBhY2NlcHRhYmxlLCBzYW1lIGFzIG5vdCBiZWluZyBkZWZpbmVkXG4gIHJldHVybiB0cnVlO1xufTtcblxudmFyIHR5cGVzID0gVmFsaWRhdG9yLnByb3RvdHlwZS50eXBlcyA9IHt9O1xudHlwZXMuc3RyaW5nID0gZnVuY3Rpb24gdGVzdFN0cmluZyAoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIHR5cGVvZiBpbnN0YW5jZSA9PSAnc3RyaW5nJztcbn07XG50eXBlcy5udW1iZXIgPSBmdW5jdGlvbiB0ZXN0TnVtYmVyIChpbnN0YW5jZSkge1xuICAvLyBpc0Zpbml0ZSByZXR1cm5zIGZhbHNlIGZvciBOYU4sIEluZmluaXR5LCBhbmQgLUluZmluaXR5XG4gIHJldHVybiB0eXBlb2YgaW5zdGFuY2UgPT0gJ251bWJlcicgJiYgaXNGaW5pdGUoaW5zdGFuY2UpO1xufTtcbnR5cGVzLmludGVnZXIgPSBmdW5jdGlvbiB0ZXN0SW50ZWdlciAoaW5zdGFuY2UpIHtcbiAgcmV0dXJuICh0eXBlb2YgaW5zdGFuY2UgPT0gJ251bWJlcicpICYmIGluc3RhbmNlICUgMSA9PT0gMDtcbn07XG50eXBlcy5ib29sZWFuID0gZnVuY3Rpb24gdGVzdEJvb2xlYW4gKGluc3RhbmNlKSB7XG4gIHJldHVybiB0eXBlb2YgaW5zdGFuY2UgPT0gJ2Jvb2xlYW4nO1xufTtcbnR5cGVzLmFycmF5ID0gZnVuY3Rpb24gdGVzdEFycmF5IChpbnN0YW5jZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShpbnN0YW5jZSk7XG59O1xudHlwZXNbJ251bGwnXSA9IGZ1bmN0aW9uIHRlc3ROdWxsIChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2UgPT09IG51bGw7XG59O1xudHlwZXMuZGF0ZSA9IGZ1bmN0aW9uIHRlc3REYXRlIChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBEYXRlO1xufTtcbnR5cGVzLmFueSA9IGZ1bmN0aW9uIHRlc3RBbnkgKGluc3RhbmNlKSB7XG4gIHJldHVybiB0cnVlO1xufTtcbnR5cGVzLm9iamVjdCA9IGZ1bmN0aW9uIHRlc3RPYmplY3QgKGluc3RhbmNlKSB7XG4gIC8vIFRPRE86IGZpeCB0aGlzIC0gc2VlICMxNVxuICByZXR1cm4gaW5zdGFuY2UgJiYgKHR5cGVvZiBpbnN0YW5jZSA9PT0gJ29iamVjdCcpICYmICEoQXJyYXkuaXNBcnJheShpbnN0YW5jZSkpICYmICEoaW5zdGFuY2UgaW5zdGFuY2VvZiBEYXRlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVmFsaWRhdG9yO1xuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjEgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS40LjEnLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7XG5cdFx0XHQvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG4vKiogQHR5cGUgVmFsaWRhdG9yUmVzdWx0ICovXG52YXIgVmFsaWRhdG9yUmVzdWx0ID0gaGVscGVycy5WYWxpZGF0b3JSZXN1bHQ7XG4vKiogQHR5cGUgU2NoZW1hRXJyb3IgKi9cbnZhciBTY2hlbWFFcnJvciA9IGhlbHBlcnMuU2NoZW1hRXJyb3I7XG5cbnZhciBhdHRyaWJ1dGUgPSB7fTtcblxuYXR0cmlidXRlLmlnbm9yZVByb3BlcnRpZXMgPSB7XG4gIC8vIGluZm9ybWF0aXZlIHByb3BlcnRpZXNcbiAgJ2lkJzogdHJ1ZSxcbiAgJ2RlZmF1bHQnOiB0cnVlLFxuICAnZGVzY3JpcHRpb24nOiB0cnVlLFxuICAndGl0bGUnOiB0cnVlLFxuICAvLyBhcmd1bWVudHMgdG8gb3RoZXIgcHJvcGVydGllc1xuICAnYWRkaXRpb25hbEl0ZW1zJzogdHJ1ZSxcbiAgJ3RoZW4nOiB0cnVlLFxuICAnZWxzZSc6IHRydWUsXG4gIC8vIHNwZWNpYWwtaGFuZGxlZCBwcm9wZXJ0aWVzXG4gICckc2NoZW1hJzogdHJ1ZSxcbiAgJyRyZWYnOiB0cnVlLFxuICAnZXh0ZW5kcyc6IHRydWUsXG59O1xuXG4vKipcbiAqIEBuYW1lIHZhbGlkYXRvcnNcbiAqL1xudmFyIHZhbGlkYXRvcnMgPSBhdHRyaWJ1dGUudmFsaWRhdG9ycyA9IHt9O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZSBpbnN0YW5jZSBpZiBvZiBhIGNlcnRhaW4gdHlwZVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7VmFsaWRhdG9yUmVzdWx0fG51bGx9XG4gKi9cbnZhbGlkYXRvcnMudHlwZSA9IGZ1bmN0aW9uIHZhbGlkYXRlVHlwZSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIElnbm9yZSB1bmRlZmluZWQgaW5zdGFuY2VzXG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHR5cGVzID0gQXJyYXkuaXNBcnJheShzY2hlbWEudHlwZSkgPyBzY2hlbWEudHlwZSA6IFtzY2hlbWEudHlwZV07XG4gIGlmICghdHlwZXMuc29tZSh0aGlzLnRlc3RUeXBlLmJpbmQodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSkpIHtcbiAgICB2YXIgbGlzdCA9IHR5cGVzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgaWYoIXYpIHJldHVybjtcbiAgICAgIHZhciBpZCA9IHYuJGlkIHx8IHYuaWQ7XG4gICAgICByZXR1cm4gaWQgPyAoJzwnICsgaWQgKyAnPicpIDogKHYrJycpO1xuICAgIH0pO1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAndHlwZScsXG4gICAgICBhcmd1bWVudDogbGlzdCxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgbm90IG9mIGEgdHlwZShzKSBcIiArIGxpc3QsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmZ1bmN0aW9uIHRlc3RTY2hlbWFOb1Rocm93KGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGNhbGxiYWNrLCBzY2hlbWEpe1xuICB2YXIgdGhyb3dFcnJvciA9IG9wdGlvbnMudGhyb3dFcnJvcjtcbiAgdmFyIHRocm93QWxsID0gb3B0aW9ucy50aHJvd0FsbDtcbiAgb3B0aW9ucy50aHJvd0Vycm9yID0gZmFsc2U7XG4gIG9wdGlvbnMudGhyb3dBbGwgPSBmYWxzZTtcbiAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgb3B0aW9ucy50aHJvd0Vycm9yID0gdGhyb3dFcnJvcjtcbiAgb3B0aW9ucy50aHJvd0FsbCA9IHRocm93QWxsO1xuXG4gIGlmICghcmVzLnZhbGlkICYmIGNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICBjYWxsYmFjayhyZXMpO1xuICB9XG4gIHJldHVybiByZXMudmFsaWQ7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIG1hdGNoZXMgc29tZSBvZiB0aGUgZ2l2ZW4gc2NoZW1hc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7VmFsaWRhdG9yUmVzdWx0fG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuYW55T2YgPSBmdW5jdGlvbiB2YWxpZGF0ZUFueU9mIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgaW5uZXIgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWEuYW55T2YpKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJhbnlPZiBtdXN0IGJlIGFuIGFycmF5XCIpO1xuICB9XG4gIGlmICghc2NoZW1hLmFueU9mLnNvbWUoXG4gICAgdGVzdFNjaGVtYU5vVGhyb3cuYmluZChcbiAgICAgIHRoaXMsIGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGZ1bmN0aW9uKHJlcyl7aW5uZXIuaW1wb3J0RXJyb3JzKHJlcyk7fVxuICAgICkpKSB7XG4gICAgdmFyIGxpc3QgPSBzY2hlbWEuYW55T2YubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgICAgaWYoaWQpIHJldHVybiAnPCcgKyBpZCArICc+JztcbiAgICAgIHJldHVybih2LnRpdGxlICYmIEpTT04uc3RyaW5naWZ5KHYudGl0bGUpKSB8fCAodlsnJHJlZiddICYmICgnPCcgKyB2WyckcmVmJ10gKyAnPicpKSB8fCAnW3N1YnNjaGVtYSAnK2krJ10nO1xuICAgIH0pO1xuICAgIGlmIChvcHRpb25zLm5lc3RlZEVycm9ycykge1xuICAgICAgcmVzdWx0LmltcG9ydEVycm9ycyhpbm5lcik7XG4gICAgfVxuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnYW55T2YnLFxuICAgICAgYXJndW1lbnQ6IGxpc3QsXG4gICAgICBtZXNzYWdlOiBcImlzIG5vdCBhbnkgb2YgXCIgKyBsaXN0LmpvaW4oJywnKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgbWF0Y2hlcyBldmVyeSBnaXZlbiBzY2hlbWFcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLmFsbE9mID0gZnVuY3Rpb24gdmFsaWRhdGVBbGxPZiAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIElnbm9yZSB1bmRlZmluZWQgaW5zdGFuY2VzXG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYS5hbGxPZikpe1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcihcImFsbE9mIG11c3QgYmUgYW4gYXJyYXlcIik7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzY2hlbWEuYWxsT2YuZm9yRWFjaChmdW5jdGlvbih2LCBpKXtcbiAgICB2YXIgdmFsaWQgPSBzZWxmLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCB2LCBvcHRpb25zLCBjdHgpO1xuICAgIGlmKCF2YWxpZC52YWxpZCl7XG4gICAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgICAgdmFyIG1zZyA9IGlkIHx8ICh2LnRpdGxlICYmIEpTT04uc3RyaW5naWZ5KHYudGl0bGUpKSB8fCAodlsnJHJlZiddICYmICgnPCcgKyB2WyckcmVmJ10gKyAnPicpKSB8fCAnW3N1YnNjaGVtYSAnK2krJ10nO1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ2FsbE9mJyxcbiAgICAgICAgYXJndW1lbnQ6IHsgaWQ6IG1zZywgbGVuZ3RoOiB2YWxpZC5lcnJvcnMubGVuZ3RoLCB2YWxpZDogdmFsaWQgfSxcbiAgICAgICAgbWVzc2FnZTogJ2RvZXMgbm90IG1hdGNoIGFsbE9mIHNjaGVtYSAnICsgbXNnICsgJyB3aXRoICcgKyB2YWxpZC5lcnJvcnMubGVuZ3RoICsgJyBlcnJvcltzXTonLFxuICAgICAgfSk7XG4gICAgICByZXN1bHQuaW1wb3J0RXJyb3JzKHZhbGlkKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgbWF0Y2hlcyBleGFjdGx5IG9uZSBvZiB0aGUgZ2l2ZW4gc2NoZW1hc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMub25lT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU9uZU9mIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hLm9uZU9mKSl7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwib25lT2YgbXVzdCBiZSBhbiBhcnJheVwiKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgaW5uZXIgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBjb3VudCA9IHNjaGVtYS5vbmVPZi5maWx0ZXIoXG4gICAgdGVzdFNjaGVtYU5vVGhyb3cuYmluZChcbiAgICAgIHRoaXMsIGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGZ1bmN0aW9uKHJlcykge2lubmVyLmltcG9ydEVycm9ycyhyZXMpO31cbiAgICApICkubGVuZ3RoO1xuICB2YXIgbGlzdCA9IHNjaGVtYS5vbmVPZi5tYXAoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgIHJldHVybiBpZCB8fCAodi50aXRsZSAmJiBKU09OLnN0cmluZ2lmeSh2LnRpdGxlKSkgfHwgKHZbJyRyZWYnXSAmJiAoJzwnICsgdlsnJHJlZiddICsgJz4nKSkgfHwgJ1tzdWJzY2hlbWEgJytpKyddJztcbiAgfSk7XG4gIGlmIChjb3VudCE9PTEpIHtcbiAgICBpZiAob3B0aW9ucy5uZXN0ZWRFcnJvcnMpIHtcbiAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMoaW5uZXIpO1xuICAgIH1cbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ29uZU9mJyxcbiAgICAgIGFyZ3VtZW50OiBsaXN0LFxuICAgICAgbWVzc2FnZTogXCJpcyBub3QgZXhhY3RseSBvbmUgZnJvbSBcIiArIGxpc3Quam9pbignLCcpLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBcInRoZW5cIiBvciBcImVsc2VcIiBkZXBlbmRpbmcgb24gdGhlIHJlc3VsdCBvZiB2YWxpZGF0aW5nIFwiaWZcIlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuaWYgPSBmdW5jdGlvbiB2YWxpZGF0ZUlmIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLmlmKSkgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBcImlmXCIga2V5d29yZCB0byBiZSBhIHNjaGVtYScpO1xuICB2YXIgaWZWYWxpZCA9IHRlc3RTY2hlbWFOb1Rocm93LmNhbGwodGhpcywgaW5zdGFuY2UsIG9wdGlvbnMsIGN0eCwgbnVsbCwgc2NoZW1hLmlmKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHJlcztcbiAgaWYoaWZWYWxpZCl7XG4gICAgaWYgKHNjaGVtYS50aGVuID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLnRoZW4pKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwidGhlblwiIGtleXdvcmQgdG8gYmUgYSBzY2hlbWEnKTtcbiAgICByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBzY2hlbWEudGhlbiwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEudGhlbikpO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfWVsc2V7XG4gICAgaWYgKHNjaGVtYS5lbHNlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLmVsc2UpKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwiZWxzZVwiIGtleXdvcmQgdG8gYmUgYSBzY2hlbWEnKTtcbiAgICByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBzY2hlbWEuZWxzZSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEuZWxzZSkpO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZnVuY3Rpb24gZ2V0RW51bWVyYWJsZVByb3BlcnR5KG9iamVjdCwga2V5KXtcbiAgLy8gRGV0ZXJtaW5lIGlmIGBrZXlgIHNob3dzIHVwIGluIGBmb3IodmFyIGtleSBpbiBvYmplY3QpYFxuICAvLyBGaXJzdCB0ZXN0IE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsIGFzIGFuIG9wdGltaXphdGlvbjogdGhhdCBndWFyYW50ZWVzIGl0IGRvZXNcbiAgaWYoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSByZXR1cm4gb2JqZWN0W2tleV07XG4gIC8vIFRlc3QgYGtleSBpbiBvYmplY3RgIGFzIGFuIG9wdGltaXphdGlvbjsgZmFsc2UgbWVhbnMgaXQgd29uJ3RcbiAgaWYoIShrZXkgaW4gb2JqZWN0KSkgcmV0dXJuO1xuICB3aGlsZSggKG9iamVjdCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpKSApe1xuICAgIGlmKE9iamVjdC5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwga2V5KSkgcmV0dXJuIG9iamVjdFtrZXldO1xuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHByb3BlcnR5TmFtZXNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5wcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eU5hbWVzIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYoIXRoaXMudHlwZXMub2JqZWN0KGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgc3Vic2NoZW1hID0gc2NoZW1hLnByb3BlcnR5TmFtZXMhPT11bmRlZmluZWQgPyBzY2hlbWEucHJvcGVydHlOYW1lcyA6IHt9O1xuICBpZighaGVscGVycy5pc1NjaGVtYShzdWJzY2hlbWEpKSB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoJ0V4cGVjdGVkIFwicHJvcGVydHlOYW1lc1wiIHRvIGJlIGEgc2NoZW1hIChvYmplY3Qgb3IgYm9vbGVhbiknKTtcblxuICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBpbnN0YW5jZSkge1xuICAgIGlmKGdldEVudW1lcmFibGVQcm9wZXJ0eShpbnN0YW5jZSwgcHJvcGVydHkpICE9PSB1bmRlZmluZWQpe1xuICAgICAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEocHJvcGVydHksIHN1YnNjaGVtYSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzdWJzY2hlbWEpKTtcbiAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgcHJvcGVydGllc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLnByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBwcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXMgfHwge307XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgc3Vic2NoZW1hID0gcHJvcGVydGllc1twcm9wZXJ0eV07XG4gICAgaWYoc3Vic2NoZW1hPT09dW5kZWZpbmVkKXtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1lbHNlIGlmKHN1YnNjaGVtYT09PW51bGwpe1xuICAgICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKCdVbmV4cGVjdGVkIG51bGwsIGV4cGVjdGVkIHNjaGVtYSBpbiBcInByb3BlcnRpZXNcIicpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucHJlVmFsaWRhdGVQcm9wZXJ0eSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBvcHRpb25zLnByZVZhbGlkYXRlUHJvcGVydHkoaW5zdGFuY2UsIHByb3BlcnR5LCBzdWJzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gICAgfVxuICAgIHZhciBwcm9wID0gZ2V0RW51bWVyYWJsZVByb3BlcnR5KGluc3RhbmNlLCBwcm9wZXJ0eSk7XG4gICAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEocHJvcCwgc3Vic2NoZW1hLCBvcHRpb25zLCBjdHgubWFrZUNoaWxkKHN1YnNjaGVtYSwgcHJvcGVydHkpKTtcbiAgICBpZihyZXMuaW5zdGFuY2UgIT09IHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0pIHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0gPSByZXMuaW5zdGFuY2U7XG4gICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFRlc3QgYSBzcGVjaWZpYyBwcm9wZXJ0eSB3aXRoaW4gaW4gaW5zdGFuY2UgYWdhaW5zdCB0aGUgYWRkaXRpb25hbFByb3BlcnRpZXMgc2NoZW1hIGF0dHJpYnV0ZVxuICogVGhpcyBpZ25vcmVzIHByb3BlcnRpZXMgd2l0aCBkZWZpbml0aW9ucyBpbiB0aGUgcHJvcGVydGllcyBzY2hlbWEgYXR0cmlidXRlLCBidXQgbm8gb3RoZXIgYXR0cmlidXRlcy5cbiAqIElmIHRvbyBtYW55IG1vcmUgdHlwZXMgb2YgcHJvcGVydHktZXhpc3RlbmNlIHRlc3RzIHBvcCB1cCB0aGV5IG1heSBuZWVkIHRoZWlyIG93biBjbGFzcyBvZiB0ZXN0cyAobGlrZSBgdHlwZWAgaGFzKVxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHRlc3RBZGRpdGlvbmFsUHJvcGVydHkgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgcHJvcGVydHksIHJlc3VsdCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIGlmIChzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnYWRkaXRpb25hbFByb3BlcnRpZXMnLFxuICAgICAgYXJndW1lbnQ6IHByb3BlcnR5LFxuICAgICAgbWVzc2FnZTogXCJpcyBub3QgYWxsb3dlZCB0byBoYXZlIHRoZSBhZGRpdGlvbmFsIHByb3BlcnR5IFwiICsgSlNPTi5zdHJpbmdpZnkocHJvcGVydHkpLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHZhciBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyB8fCB7fTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5ID09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9wdGlvbnMucHJlVmFsaWRhdGVQcm9wZXJ0eShpbnN0YW5jZSwgcHJvcGVydHksIGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBvcHRpb25zLCBjdHgpO1xuICAgIH1cblxuICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlW3Byb3BlcnR5XSwgYWRkaXRpb25hbFByb3BlcnRpZXMsIG9wdGlvbnMsIGN0eC5tYWtlQ2hpbGQoYWRkaXRpb25hbFByb3BlcnRpZXMsIHByb3BlcnR5KSk7XG4gICAgaWYocmVzLmluc3RhbmNlICE9PSByZXN1bHQuaW5zdGFuY2VbcHJvcGVydHldKSByZXN1bHQuaW5zdGFuY2VbcHJvcGVydHldID0gcmVzLmluc3RhbmNlO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBwYXR0ZXJuUHJvcGVydGllc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLnBhdHRlcm5Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVQYXR0ZXJuUHJvcGVydGllcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHBhdHRlcm5Qcm9wZXJ0aWVzID0gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzIHx8IHt9O1xuXG4gIGZvciAodmFyIHByb3BlcnR5IGluIGluc3RhbmNlKSB7XG4gICAgdmFyIHRlc3QgPSB0cnVlO1xuICAgIGZvciAodmFyIHBhdHRlcm4gaW4gcGF0dGVyblByb3BlcnRpZXMpIHtcbiAgICAgIHZhciBzdWJzY2hlbWEgPSBwYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXTtcbiAgICAgIGlmKHN1YnNjaGVtYT09PXVuZGVmaW5lZCl7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfWVsc2UgaWYoc3Vic2NoZW1hPT09bnVsbCl7XG4gICAgICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcignVW5leHBlY3RlZCBudWxsLCBleHBlY3RlZCBzY2hlbWEgaW4gXCJwYXR0ZXJuUHJvcGVydGllc1wiJyk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCAndScpO1xuICAgICAgfSBjYXRjaChfZSkge1xuICAgICAgICAvLyBJbiB0aGUgZXZlbnQgdGhlIHN0cmljdGVyIGhhbmRsaW5nIGNhdXNlcyBhbiBlcnJvciwgZmFsbCBiYWNrIG9uIHRoZSBmb3JnaXZpbmcgaGFuZGxpbmdcbiAgICAgICAgLy8gREVQUkVDQVRFRFxuICAgICAgICByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgICAgfVxuICAgICAgaWYgKCFyZWdleHAudGVzdChwcm9wZXJ0eSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0ZXN0ID0gZmFsc2U7XG5cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5KGluc3RhbmNlLCBwcm9wZXJ0eSwgc3Vic2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzID0gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZVtwcm9wZXJ0eV0sIHN1YnNjaGVtYSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzdWJzY2hlbWEsIHByb3BlcnR5KSk7XG4gICAgICBpZihyZXMuaW5zdGFuY2UgIT09IHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0pIHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0gPSByZXMuaW5zdGFuY2U7XG4gICAgICByZXN1bHQuaW1wb3J0RXJyb3JzKHJlcyk7XG4gICAgfVxuICAgIGlmICh0ZXN0KSB7XG4gICAgICB0ZXN0QWRkaXRpb25hbFByb3BlcnR5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBwcm9wZXJ0eSwgcmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgYWRkaXRpb25hbFByb3BlcnRpZXNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlQWRkaXRpb25hbFByb3BlcnRpZXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIC8vIGlmIHBhdHRlcm5Qcm9wZXJ0aWVzIGlzIGRlZmluZWQgdGhlbiB3ZSdsbCB0ZXN0IHdoZW4gdGhhdCBvbmUgaXMgY2FsbGVkIGluc3RlYWRcbiAgaWYgKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGZvciAodmFyIHByb3BlcnR5IGluIGluc3RhbmNlKSB7XG4gICAgdGVzdEFkZGl0aW9uYWxQcm9wZXJ0eS5jYWxsKHRoaXMsIGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgcHJvcGVydHksIHJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IGxlYXN0IG9mIGEgY2VydGFpbiBsZW5ndGgsIHdoZW4gdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5taW5Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5Qcm9wZXJ0aWVzIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnN0YW5jZSk7XG4gIGlmICghKGtleXMubGVuZ3RoID49IHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnbWluUHJvcGVydGllcycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1pblByb3BlcnRpZXMsXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IG1lZXQgbWluaW11bSBwcm9wZXJ0eSBsZW5ndGggb2YgXCIgKyBzY2hlbWEubWluUHJvcGVydGllcyxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYXQgbW9zdCBvZiBhIGNlcnRhaW4gbGVuZ3RoLCB3aGVuIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIHN0cmluZy5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMubWF4UHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4UHJvcGVydGllcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoaW5zdGFuY2UpO1xuICBpZiAoIShrZXlzLmxlbmd0aCA8PSBzY2hlbWEubWF4UHJvcGVydGllcykpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21heFByb3BlcnRpZXMnLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5tYXhQcm9wZXJ0aWVzLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtZWV0IG1heGltdW0gcHJvcGVydHkgbGVuZ3RoIG9mIFwiICsgc2NoZW1hLm1heFByb3BlcnRpZXMsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIGl0ZW1zIHdoZW4gaW5zdGFuY2UgaXMgYW4gYXJyYXlcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5pdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlSXRlbXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmICghdGhpcy50eXBlcy5hcnJheShpbnN0YW5jZSkpIHJldHVybjtcbiAgaWYgKHNjaGVtYS5pdGVtcz09PXVuZGVmaW5lZCkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpbnN0YW5jZS5ldmVyeShmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICBpZihBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykpe1xuICAgICAgdmFyIGl0ZW1zID0gIHNjaGVtYS5pdGVtc1tpXT09PXVuZGVmaW5lZCA/IHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgOiBzY2hlbWEuaXRlbXNbaV07XG4gICAgfWVsc2V7XG4gICAgICB2YXIgaXRlbXMgPSBzY2hlbWEuaXRlbXM7XG4gICAgfVxuICAgIGlmIChpdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGl0ZW1zID09PSBmYWxzZSkge1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ2l0ZW1zJyxcbiAgICAgICAgbWVzc2FnZTogXCJhZGRpdGlvbmFsSXRlbXMgbm90IHBlcm1pdHRlZFwiLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciByZXMgPSBzZWxmLnZhbGlkYXRlU2NoZW1hKHZhbHVlLCBpdGVtcywgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChpdGVtcywgaSkpO1xuICAgIGlmKHJlcy5pbnN0YW5jZSAhPT0gcmVzdWx0Lmluc3RhbmNlW2ldKSByZXN1bHQuaW5zdGFuY2VbaV0gPSByZXMuaW5zdGFuY2U7XG4gICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBcImNvbnRhaW5zXCIga2V5d29yZFxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLmNvbnRhaW5zID0gZnVuY3Rpb24gdmFsaWRhdGVDb250YWlucyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKCF0aGlzLnR5cGVzLmFycmF5KGluc3RhbmNlKSkgcmV0dXJuO1xuICBpZiAoc2NoZW1hLmNvbnRhaW5zPT09dW5kZWZpbmVkKSByZXR1cm47XG4gIGlmICghaGVscGVycy5pc1NjaGVtYShzY2hlbWEuY29udGFpbnMpKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwiY29udGFpbnNcIiBrZXl3b3JkIHRvIGJlIGEgc2NoZW1hJyk7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBjb3VudCA9IGluc3RhbmNlLnNvbWUoZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgdmFyIHJlcyA9IHNlbGYudmFsaWRhdGVTY2hlbWEodmFsdWUsIHNjaGVtYS5jb250YWlucywgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEuY29udGFpbnMsIGkpKTtcbiAgICByZXR1cm4gcmVzLmVycm9ycy5sZW5ndGg9PT0wO1xuICB9KTtcbiAgaWYoY291bnQ9PT1mYWxzZSl7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdjb250YWlucycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLmNvbnRhaW5zLFxuICAgICAgbWVzc2FnZTogXCJtdXN0IGNvbnRhaW4gYW4gaXRlbSBtYXRjaGluZyBnaXZlbiBzY2hlbWFcIixcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgbWluaW11bSBhbmQgZXhjbHVzaXZlTWluaW11bSB3aGVuIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMubWluaW11bSA9IGZ1bmN0aW9uIHZhbGlkYXRlTWluaW11bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5udW1iZXIoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmIChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSAmJiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gdHJ1ZSkge1xuICAgIGlmKCEoaW5zdGFuY2UgPiBzY2hlbWEubWluaW11bSkpe1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ21pbmltdW0nLFxuICAgICAgICBhcmd1bWVudDogc2NoZW1hLm1pbmltdW0sXG4gICAgICAgIG1lc3NhZ2U6IFwibXVzdCBiZSBncmVhdGVyIHRoYW4gXCIgKyBzY2hlbWEubWluaW11bSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZighKGluc3RhbmNlID49IHNjaGVtYS5taW5pbXVtKSl7XG4gICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnbWluaW11bScsXG4gICAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWluaW11bSxcbiAgICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBcIiArIHNjaGVtYS5taW5pbXVtLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBtYXhpbXVtIGFuZCBleGNsdXNpdmVNYXhpbXVtIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5tYXhpbXVtID0gZnVuY3Rpb24gdmFsaWRhdGVNYXhpbXVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm51bWJlcihpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtICYmIHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtID09PSB0cnVlKSB7XG4gICAgaWYoIShpbnN0YW5jZSA8IHNjaGVtYS5tYXhpbXVtKSl7XG4gICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnbWF4aW11bScsXG4gICAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWF4aW11bSxcbiAgICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIGxlc3MgdGhhbiBcIiArIHNjaGVtYS5tYXhpbXVtLFxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmKCEoaW5zdGFuY2UgPD0gc2NoZW1hLm1heGltdW0pKXtcbiAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgIG5hbWU6ICdtYXhpbXVtJyxcbiAgICAgICAgYXJndW1lbnQ6IHNjaGVtYS5tYXhpbXVtLFxuICAgICAgICBtZXNzYWdlOiBcIm11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIFwiICsgc2NoZW1hLm1heGltdW0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBudW1iZXIgZm9ybSBvZiBleGNsdXNpdmVNaW5pbXVtIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5leGNsdXNpdmVNaW5pbXVtID0gZnVuY3Rpb24gdmFsaWRhdGVFeGNsdXNpdmVNaW5pbXVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gU3VwcG9ydCB0aGUgYm9vbGVhbiBmb3JtIG9mIGV4Y2x1c2l2ZU1pbmltdW0sIHdoaWNoIGlzIGhhbmRsZWQgYnkgdGhlIFwibWluaW11bVwiIGtleXdvcmQuXG4gIGlmKHR5cGVvZiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm47XG4gIGlmICghdGhpcy50eXBlcy5udW1iZXIoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciB2YWxpZCA9IGluc3RhbmNlID4gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW07XG4gIGlmICghdmFsaWQpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ2V4Y2x1c2l2ZU1pbmltdW0nLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtLFxuICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIHN0cmljdGx5IGdyZWF0ZXIgdGhhbiBcIiArIHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgbnVtYmVyIGZvcm0gb2YgZXhjbHVzaXZlTWF4aW11bSB3aGVuIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuZXhjbHVzaXZlTWF4aW11bSA9IGZ1bmN0aW9uIHZhbGlkYXRlRXhjbHVzaXZlTWF4aW11bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIFN1cHBvcnQgdGhlIGJvb2xlYW4gZm9ybSBvZiBleGNsdXNpdmVNYXhpbXVtLCB3aGljaCBpcyBoYW5kbGVkIGJ5IHRoZSBcIm1heGltdW1cIiBrZXl3b3JkLlxuICBpZih0eXBlb2Ygc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gPT09ICdib29sZWFuJykgcmV0dXJuO1xuICBpZiAoIXRoaXMudHlwZXMubnVtYmVyKGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgdmFsaWQgPSBpbnN0YW5jZSA8IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtO1xuICBpZiAoIXZhbGlkKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdleGNsdXNpdmVNYXhpbXVtJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSxcbiAgICAgIG1lc3NhZ2U6IFwibXVzdCBiZSBzdHJpY3RseSBsZXNzIHRoYW4gXCIgKyBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBQZXJmb3JtIHZhbGlkYXRpb24gZm9yIG11bHRpcGxlT2YgYW5kIGRpdmlzaWJsZUJ5LCB3aGljaCBhcmUgZXNzZW50aWFsbHkgdGhlIHNhbWUuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSB2YWxpZGF0aW9uVHlwZVxuICogQHBhcmFtIGVycm9yTWVzc2FnZVxuICogQHJldHVybnMge1N0cmluZ3xudWxsfVxuICovXG52YXIgdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5ID0gZnVuY3Rpb24gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5IChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgsIHZhbGlkYXRpb25UeXBlLCBlcnJvck1lc3NhZ2UpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm51bWJlcihpbnN0YW5jZSkpIHJldHVybjtcblxuICB2YXIgdmFsaWRhdGlvbkFyZ3VtZW50ID0gc2NoZW1hW3ZhbGlkYXRpb25UeXBlXTtcbiAgaWYgKHZhbGlkYXRpb25Bcmd1bWVudCA9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKHZhbGlkYXRpb25UeXBlICsgXCIgY2Fubm90IGJlIHplcm9cIik7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuXG4gIHZhciBpbnN0YW5jZURlY2ltYWxzID0gaGVscGVycy5nZXREZWNpbWFsUGxhY2VzKGluc3RhbmNlKTtcbiAgdmFyIGRpdmlzb3JEZWNpbWFscyA9IGhlbHBlcnMuZ2V0RGVjaW1hbFBsYWNlcyh2YWxpZGF0aW9uQXJndW1lbnQpO1xuXG4gIHZhciBtYXhEZWNpbWFscyA9IE1hdGgubWF4KGluc3RhbmNlRGVjaW1hbHMgLCBkaXZpc29yRGVjaW1hbHMpO1xuICB2YXIgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBtYXhEZWNpbWFscyk7XG5cbiAgaWYgKE1hdGgucm91bmQoaW5zdGFuY2UgKiBtdWx0aXBsaWVyKSAlIE1hdGgucm91bmQodmFsaWRhdGlvbkFyZ3VtZW50ICogbXVsdGlwbGllcikgIT09IDApIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogdmFsaWRhdGlvblR5cGUsXG4gICAgICBhcmd1bWVudDogIHZhbGlkYXRpb25Bcmd1bWVudCxcbiAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSArIEpTT04uc3RyaW5naWZ5KHZhbGlkYXRpb25Bcmd1bWVudCksXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgZGl2aXNpYmxlQnkgd2hlbiB0aGUgdHlwZSBvZiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm11bHRpcGxlT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU11bHRpcGxlT2YgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICByZXR1cm4gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBcIm11bHRpcGxlT2ZcIiwgXCJpcyBub3QgYSBtdWx0aXBsZSBvZiAoZGl2aXNpYmxlIGJ5KSBcIik7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBtdWx0aXBsZU9mIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5kaXZpc2libGVCeSA9IGZ1bmN0aW9uIHZhbGlkYXRlRGl2aXNpYmxlQnkgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICByZXR1cm4gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBcImRpdmlzaWJsZUJ5XCIsIFwiaXMgbm90IGRpdmlzaWJsZSBieSAobXVsdGlwbGUgb2YpIFwiKTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIHByZXNlbnQuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLnJlcXVpcmVkID0gZnVuY3Rpb24gdmFsaWRhdGVSZXF1aXJlZCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkICYmIHNjaGVtYS5yZXF1aXJlZCA9PT0gdHJ1ZSkge1xuICAgIC8vIEEgYm9vbGVhbiBmb3JtIGlzIGltcGxlbWVudGVkIGZvciByZXZlcnNlLWNvbXBhdGliaWxpdHkgd2l0aCBzY2hlbWFzIHdyaXR0ZW4gYWdhaW5zdCBvbGRlciBkcmFmdHNcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ3JlcXVpcmVkJyxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgcmVxdWlyZWRcIixcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkgJiYgQXJyYXkuaXNBcnJheShzY2hlbWEucmVxdWlyZWQpKSB7XG4gICAgc2NoZW1hLnJlcXVpcmVkLmZvckVhY2goZnVuY3Rpb24obil7XG4gICAgICBpZihnZXRFbnVtZXJhYmxlUHJvcGVydHkoaW5zdGFuY2UsIG4pPT09dW5kZWZpbmVkKXtcbiAgICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgICBuYW1lOiAncmVxdWlyZWQnLFxuICAgICAgICAgIGFyZ3VtZW50OiBuLFxuICAgICAgICAgIG1lc3NhZ2U6IFwicmVxdWlyZXMgcHJvcGVydHkgXCIgKyBKU09OLnN0cmluZ2lmeShuKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIG1hdGNoZXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiwgd2hlbiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLnBhdHRlcm4gPSBmdW5jdGlvbiB2YWxpZGF0ZVBhdHRlcm4gKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoIXRoaXMudHlwZXMuc3RyaW5nKGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgcGF0dGVybiA9IHNjaGVtYS5wYXR0ZXJuO1xuICB0cnkge1xuICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4sICd1Jyk7XG4gIH0gY2F0Y2goX2UpIHtcbiAgICAvLyBJbiB0aGUgZXZlbnQgdGhlIHN0cmljdGVyIGhhbmRsaW5nIGNhdXNlcyBhbiBlcnJvciwgZmFsbCBiYWNrIG9uIHRoZSBmb3JnaXZpbmcgaGFuZGxpbmdcbiAgICAvLyBERVBSRUNBVEVEXG4gICAgcmVnZXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlLm1hdGNoKHJlZ2V4cCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ3BhdHRlcm4nLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5wYXR0ZXJuLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuIFwiICsgSlNPTi5zdHJpbmdpZnkoc2NoZW1hLnBhdHRlcm4udG9TdHJpbmcoKSksXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIG9mIGEgY2VydGFpbiBkZWZpbmVkIGZvcm1hdCBvciBhIGN1c3RvbVxuICogZm9ybWF0LlxuICogVGhlIGZvbGxvd2luZyBmb3JtYXRzIGFyZSBzdXBwb3J0ZWQgZm9yIHN0cmluZyB0eXBlczpcbiAqICAgLSBkYXRlLXRpbWVcbiAqICAgLSBkYXRlXG4gKiAgIC0gdGltZVxuICogICAtIGlwLWFkZHJlc3NcbiAqICAgLSBpcHY2XG4gKiAgIC0gdXJpXG4gKiAgIC0gY29sb3JcbiAqICAgLSBob3N0LW5hbWVcbiAqICAgLSBhbHBoYVxuICogICAtIGFscGhhLW51bWVyaWNcbiAqICAgLSB1dGMtbWlsbGlzZWNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIFtvcHRpb25zXVxuICogQHBhcmFtIFtjdHhdXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5mb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmIChpbnN0YW5jZT09PXVuZGVmaW5lZCkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIXJlc3VsdC5kaXNhYmxlRm9ybWF0ICYmICFoZWxwZXJzLmlzRm9ybWF0KGluc3RhbmNlLCBzY2hlbWEuZm9ybWF0LCB0aGlzKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnZm9ybWF0JyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEuZm9ybWF0LFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBcIiArIEpTT04uc3RyaW5naWZ5KHNjaGVtYS5mb3JtYXQpICsgXCIgZm9ybWF0XCIsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IGxlYXN0IG9mIGEgY2VydGFpbiBsZW5ndGgsIHdoZW4gdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5taW5MZW5ndGggPSBmdW5jdGlvbiB2YWxpZGF0ZU1pbkxlbmd0aCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5zdHJpbmcoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBoc3AgPSBpbnN0YW5jZS5tYXRjaCgvW1xcdURDMDAtXFx1REZGRl0vZyk7XG4gIHZhciBsZW5ndGggPSBpbnN0YW5jZS5sZW5ndGggLSAoaHNwID8gaHNwLmxlbmd0aCA6IDApO1xuICBpZiAoIShsZW5ndGggPj0gc2NoZW1hLm1pbkxlbmd0aCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21pbkxlbmd0aCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1pbkxlbmd0aCxcbiAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBtaW5pbXVtIGxlbmd0aCBvZiBcIiArIHNjaGVtYS5taW5MZW5ndGgsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IG1vc3Qgb2YgYSBjZXJ0YWluIGxlbmd0aCwgd2hlbiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1heExlbmd0aCA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4TGVuZ3RoIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLnN0cmluZyhpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgLy8gVE9ETyBpZiB0aGlzIHdhcyBhbHJlYWR5IGNvbXB1dGVkIGluIFwibWluTGVuZ3RoXCIsIHVzZSB0aGF0IHZhbHVlIGluc3RlYWQgb2YgcmUtY29tcHV0aW5nXG4gIHZhciBoc3AgPSBpbnN0YW5jZS5tYXRjaCgvW1xcdURDMDAtXFx1REZGRl0vZyk7XG4gIHZhciBsZW5ndGggPSBpbnN0YW5jZS5sZW5ndGggLSAoaHNwID8gaHNwLmxlbmd0aCA6IDApO1xuICBpZiAoIShsZW5ndGggPD0gc2NoZW1hLm1heExlbmd0aCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21heExlbmd0aCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1heExlbmd0aCxcbiAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBtYXhpbXVtIGxlbmd0aCBvZiBcIiArIHNjaGVtYS5tYXhMZW5ndGgsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgaW5zdGFuY2UgY29udGFpbnMgYXQgbGVhc3QgYSBtaW5pbXVtIG51bWJlciBvZiBpdGVtcywgd2hlbiB0aGUgaW5zdGFuY2UgaXMgYW4gQXJyYXkuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1pbkl0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5JdGVtcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5hcnJheShpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCEoaW5zdGFuY2UubGVuZ3RoID49IHNjaGVtYS5taW5JdGVtcykpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21pbkl0ZW1zJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWluSXRlbXMsXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IG1lZXQgbWluaW11bSBsZW5ndGggb2YgXCIgKyBzY2hlbWEubWluSXRlbXMsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgaW5zdGFuY2UgY29udGFpbnMgbm8gbW9yZSB0aGFuIGEgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMsIHdoZW4gdGhlIGluc3RhbmNlIGlzIGFuIEFycmF5LlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5tYXhJdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4SXRlbXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoIXRoaXMudHlwZXMuYXJyYXkoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmICghKGluc3RhbmNlLmxlbmd0aCA8PSBzY2hlbWEubWF4SXRlbXMpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdtYXhJdGVtcycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1heEl0ZW1zLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtZWV0IG1heGltdW0gbGVuZ3RoIG9mIFwiICsgc2NoZW1hLm1heEl0ZW1zLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIERlZXAgY29tcGFyZXMgYXJyYXlzIGZvciBkdXBsaWNhdGVzXG4gKiBAcGFyYW0gdlxuICogQHBhcmFtIGlcbiAqIEBwYXJhbSBhXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdGVzdEFycmF5cyAodiwgaSwgYSkge1xuICB2YXIgaiwgbGVuID0gYS5sZW5ndGg7XG4gIGZvciAoaiA9IGkgKyAxLCBsZW47IGogPCBsZW47IGorKykge1xuICAgIGlmIChoZWxwZXJzLmRlZXBDb21wYXJlU3RyaWN0KHYsIGFbal0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZXJlIGFyZSBubyBkdXBsaWNhdGVzLCB3aGVuIHRoZSBpbnN0YW5jZSBpcyBhbiBBcnJheS5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMudW5pcXVlSXRlbXMgPSBmdW5jdGlvbiB2YWxpZGF0ZVVuaXF1ZUl0ZW1zIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKHNjaGVtYS51bmlxdWVJdGVtcyE9PXRydWUpIHJldHVybjtcbiAgaWYgKCF0aGlzLnR5cGVzLmFycmF5KGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIWluc3RhbmNlLmV2ZXJ5KHRlc3RBcnJheXMpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICd1bmlxdWVJdGVtcycsXG4gICAgICBtZXNzYWdlOiBcImNvbnRhaW5zIGR1cGxpY2F0ZSBpdGVtXCIsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGUgZm9yIHRoZSBwcmVzZW5jZSBvZiBkZXBlbmRlbmN5IHByb3BlcnRpZXMsIGlmIHRoZSBpbnN0YW5jZSBpcyBhbiBvYmplY3QuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5kZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZURlcGVuZGVuY2llcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHNjaGVtYS5kZXBlbmRlbmNpZXMpIHtcbiAgICBpZiAoaW5zdGFuY2VbcHJvcGVydHldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgZGVwID0gc2NoZW1hLmRlcGVuZGVuY2llc1twcm9wZXJ0eV07XG4gICAgdmFyIGNoaWxkQ29udGV4dCA9IGN0eC5tYWtlQ2hpbGQoZGVwLCBwcm9wZXJ0eSk7XG4gICAgaWYgKHR5cGVvZiBkZXAgPT0gJ3N0cmluZycpIHtcbiAgICAgIGRlcCA9IFtkZXBdO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZXApKSB7XG4gICAgICBkZXAuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICBpZiAoaW5zdGFuY2VbcHJvcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgICAgICAvLyBGSVhNRSB0aGVyZSdzIHR3byBkaWZmZXJlbnQgXCJkZXBlbmRlbmNpZXNcIiBlcnJvcnMgaGVyZSB3aXRoIHNsaWdodGx5IGRpZmZlcmVudCBvdXRwdXRzXG4gICAgICAgICAgICAvLyBDYW4gd2UgbWFrZSB0aGVzZSB0aGUgc2FtZT8gT3Igc2hvdWxkIHdlIGNyZWF0ZSBkaWZmZXJlbnQgZXJyb3IgdHlwZXM/XG4gICAgICAgICAgICBuYW1lOiAnZGVwZW5kZW5jaWVzJyxcbiAgICAgICAgICAgIGFyZ3VtZW50OiBjaGlsZENvbnRleHQucHJvcGVydHlQYXRoLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJwcm9wZXJ0eSBcIiArIHByb3AgKyBcIiBub3QgZm91bmQsIHJlcXVpcmVkIGJ5IFwiICsgY2hpbGRDb250ZXh0LnByb3BlcnR5UGF0aCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBkZXAsIG9wdGlvbnMsIGNoaWxkQ29udGV4dCk7XG4gICAgICBpZihyZXN1bHQuaW5zdGFuY2UgIT09IHJlcy5pbnN0YW5jZSkgcmVzdWx0Lmluc3RhbmNlID0gcmVzLmluc3RhbmNlO1xuICAgICAgaWYgKHJlcyAmJiByZXMuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICAgIG5hbWU6ICdkZXBlbmRlbmNpZXMnLFxuICAgICAgICAgIGFyZ3VtZW50OiBjaGlsZENvbnRleHQucHJvcGVydHlQYXRoLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBkZXBlbmRlbmN5IHJlcXVpcmVkIGJ5IFwiICsgY2hpbGRDb250ZXh0LnByb3BlcnR5UGF0aCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIG9uZSBvZiB0aGUgZW51bWVyYXRlZCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR8bnVsbH1cbiAqL1xudmFsaWRhdG9yc1snZW51bSddID0gZnVuY3Rpb24gdmFsaWRhdGVFbnVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hWydlbnVtJ10pKSB7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwiZW51bSBleHBlY3RzIGFuIGFycmF5XCIsIHNjaGVtYSk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCFzY2hlbWFbJ2VudW0nXS5zb21lKGhlbHBlcnMuZGVlcENvbXBhcmVTdHJpY3QuYmluZChudWxsLCBpbnN0YW5jZSkpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdlbnVtJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWFbJ2VudW0nXSxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgbm90IG9uZSBvZiBlbnVtIHZhbHVlczogXCIgKyBzY2hlbWFbJ2VudW0nXS5tYXAoU3RyaW5nKS5qb2luKCcsJyksXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIGV4YWN0bHkgbWF0Y2hlcyBhIGdpdmVuIHZhbHVlXG4gKlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR8bnVsbH1cbiAqL1xudmFsaWRhdG9yc1snY29uc3QnXSA9IGZ1bmN0aW9uIHZhbGlkYXRlRW51bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCFoZWxwZXJzLmRlZXBDb21wYXJlU3RyaWN0KHNjaGVtYVsnY29uc3QnXSwgaW5zdGFuY2UpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdjb25zdCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hWydjb25zdCddLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBleGFjdGx5IG1hdGNoIGV4cGVjdGVkIGNvbnN0YW50OiBcIiArIHNjaGVtYVsnY29uc3QnXSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgaWYgb2YgYSBwcm9oaWJpdGVkIHR5cGUuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5ub3QgPSB2YWxpZGF0b3JzLmRpc2FsbG93ID0gZnVuY3Rpb24gdmFsaWRhdGVOb3QgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmKGluc3RhbmNlPT09dW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIG5vdFR5cGVzID0gc2NoZW1hLm5vdCB8fCBzY2hlbWEuZGlzYWxsb3c7XG4gIGlmKCFub3RUeXBlcykgcmV0dXJuIG51bGw7XG4gIGlmKCFBcnJheS5pc0FycmF5KG5vdFR5cGVzKSkgbm90VHlwZXM9W25vdFR5cGVzXTtcbiAgbm90VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIGlmIChzZWxmLnRlc3RUeXBlKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgdHlwZSkpIHtcbiAgICAgIHZhciBpZCA9IHR5cGUgJiYgKHR5cGUuJGlkIHx8IHR5cGUuaWQpO1xuICAgICAgdmFyIHNjaGVtYUlkID0gaWQgfHwgdHlwZTtcbiAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgIG5hbWU6ICdub3QnLFxuICAgICAgICBhcmd1bWVudDogc2NoZW1hSWQsXG4gICAgICAgIG1lc3NhZ2U6IFwiaXMgb2YgcHJvaGliaXRlZCB0eXBlIFwiICsgc2NoZW1hSWQsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBhdHRyaWJ1dGU7XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi4vTW9kYWxXaW5kb3cnO1xuXG5hc3luYyBmdW5jdGlvbiBzZXRCb2R5IChuZW9uVmlldzogTmVvblZpZXcpOiBQcm9taXNlPHZvaWQ+IHtcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL3RlbXBsYXRlLmh0bWxgKTtcbiAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9tZS1saW5rJykgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmhyZWYgPSBfX0xJTktfTE9DQVRJT05fXztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tdmVyc2lvbicpLnRleHRDb250ZW50ID0gX19ORU9OX1ZFUlNJT05fXztcbiAgKDxIVE1MSW1hZ2VFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tYWluLWljb24nKSkuc3JjID0gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL05lb25fSWNvbl8zLnN2Z2A7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZXh0ZXJuYWwtbGluay1pY29uJykpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgKDxIVE1MSW1hZ2VFbGVtZW50PiBlbCkuc3JjID0gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2V4dGVybmFsLWxpbmsuc3ZnYDtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVuYW1lJykuaW5uZXJUZXh0ID0gbmVvblZpZXcubWFuaWZlc3QudGl0bGU7XG4gIGRvY3VtZW50LnRpdGxlID0gbmVvblZpZXcubWFuaWZlc3QudGl0bGU7XG4gIFxuICAvLyBob3RrZXkgYnRuIG9uY2xpY2sgZXZlbnQgbGlzdGVuZXJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdmJhci1pdGVtLWhvdGtleXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIG5lb25WaWV3Lm1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuSE9US0VZUyk7XG4gICAgbmVvblZpZXcubW9kYWwub3Blbk1vZGFsV2luZG93KCk7XG4gIH0pO1xuXG4gIC8vIHNldCBcbiAgY29uc3QgZGVidWdNb2RlVG9vbHRpcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KCcjZGVidWctbW9kZS10b29sdGlwLWljb24nKTtcbiAgZGVidWdNb2RlVG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kZWJ1Zy10b29sdGlwLWxpZ2h0LnN2Z2ApO1xuXG4gIC8vIHNldCBpbml0aWFsIHNhdmVkIHN0YXR1c1xuICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignI2ZpbGUtc2F2ZWQnKTtcbiAgaW5kaWNhdG9yLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3NhdmVkLWljb24uc3ZnYCk7XG4gIGluZGljYXRvci5zZXRBdHRyaWJ1dGUoJ2FsdCcsICdZb3VyIHdvcmsgaXMgc2F2ZWQnKTtcbn1cblxuZXhwb3J0IHsgc2V0Qm9keSBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBpbml0RXJyb3JMb2csIHVwZGF0ZUVycm9yTG9nVmlzaWJpbGl0eSB9IGZyb20gJy4vRXJyb3JMb2cnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MsIHNldFNldHRpbmdzIH0gZnJvbSAnLi9Mb2NhbFNldHRpbmdzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNldERlYnVnTW9kZSgpOiB2b2lkIHtcbiAgY29uc3QgZGVidWdNb2RlQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGVidWctbW9kZS1jaGVja2JveCcpO1xuXG4gIGNvbnN0IHsgZGVidWdNb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuXG4gIGRlYnVnTW9kZUNoZWNrYm94LmNoZWNrZWQgPSBkZWJ1Z01vZGU7XG5cbiAgaW5pdEVycm9yTG9nKCk7XG5cbiAgdXBkYXRlRGVidWdNb2RlU3RhdHVzKCk7XG5cbiAgZGVidWdNb2RlQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdXBkYXRlRGVidWdNb2RlU3RhdHVzKCk7XG4gIH0pO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEZWJ1Z01vZGVTdGF0dXMoKTogdm9pZCB7XG4gIGNvbnN0IGRlYnVnTW9kZUNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlYnVnLW1vZGUtY2hlY2tib3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBzZXRTZXR0aW5ncyh7IGRlYnVnTW9kZTogZGVidWdNb2RlQ2hlY2tib3guY2hlY2tlZCB9KTtcblxuICBjb25zdCBlcnJvckxvZ0xhYmVsID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWVycm9ycycpLnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG5vdGlmUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JfbG9nJyk7XG4gIGlmIChkZWJ1Z01vZGVDaGVja2JveC5jaGVja2VkKSB7XG4gICAgZXJyb3JMb2dMYWJlbC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gIH1cbiAgZWxzZSB7XG4gICAgZXJyb3JMb2dMYWJlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICB9XG5cbiAgdXBkYXRlRXJyb3JMb2dWaXNpYmlsaXR5KCk7XG59IiwiaW1wb3J0ICogYXMgRGlzcGxheUNvbnRyb2xzIGZyb20gJy4vRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuLi9TaW5nbGVWaWV3L1pvb20nO1xuaW1wb3J0IHsgRGlzcGxheUludGVyZmFjZSwgVmlld0ludGVyZmFjZSB9IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuLyoqXG4gKiBSZXR1cm4gdGhlIEhUTUwgZm9yIHRoZSBkaXNwbGF5IHBhbmVsLlxuICogQHBhcmFtIHtab29tSGFuZGxlcn0gaGFuZGxlWm9vbSAtIEluY2x1ZGVzIHpvb20gY29udHJvbHMgaWYgZGVmaW5lZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGRpc3BsYXlDb250cm9sc1BhbmVsIChoYW5kbGVab29tOiBab29tSGFuZGxlcik6IHN0cmluZyB7XG4gIGxldCBjb250ZW50cyA9IGBcbiAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiZGlzcGxheUhlYWRlclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGVcIj5ESVNQTEFZPC9kaXY+XG4gICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgPHVzZSBpZD1cInRvZ2dsZURpc3BsYXlcIiBjbGFzcz1cInBhbmVsLWRyb3Bkb3duLWljb25cIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJkaXNwbGF5Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGZpcnN0LXN1YnNlY3Rpb25cIiBpZD1cImRpc3BsYXktc2xpZGVyLXNlY3Rpb25cIj5cbiAgYDtcblxuICBpZiAoaGFuZGxlWm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29udGVudHMgKz0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFuZC1zbGlkZXItYWN0aW9ucy1jb250YWluZXIgZGlzcGxheS1wYW5lbFwiIHN0eWxlPVwiY3Vyc29yOiBkZWZhdWx0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktc2xpZGVyLXRpdGxlXCI+Wm9vbTwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNsaWRlci1idG5cIiBpZD1cInJlc2V0LXpvb21cIiB0aXRsZT1cIlJlc2V0IHpvb20gc2V0dGluZ1wiPlxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwic2xpZGVyLWJ0bi1pbWdcIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hcnJvdy1yb3RhdGUtbGVmdC1zb2xpZC5zdmdcIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNsaWRlci1idG5cIiBpZD1cInNldC16b29tLWVhc3ktZWRpdFwiIHRpdGxlPVwiRml0IHRvIHBhZ2VcIj5cbiAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInNsaWRlci1idG4taW1nXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvZXhwYW5kLWljb24uc3ZnXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIHN0ZXA9XCI1XCIgbWluPVwiMjVcIiBtYXg9XCI0MDBcIiB2YWx1ZT1cIjEwMFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc2V0LXpvb21cIlxuICAgICAgICAgICAgICBjbGFzcz1cInNsaWRlciBpcy1mdWxsd2lkdGggaXMtbGFyZ2VcIlxuICAgICAgICAgICAgICBpZD1cInpvb21TbGlkZXJcIlxuICAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmctbGVmdDogMXJlbTsgcGFkZGluZy1yaWdodDogMXJlbTtcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD1cImRpc2FibGVkXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8b3V0cHV0IGlkPVwiem9vbU91dHB1dFwiIGZvcj1cInpvb21TbGlkZXJcIj4xMDA8L291dHB1dD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YDtcbiAgfVxuICBjb250ZW50cyArPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItYW5kLXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lciBkaXNwbGF5LXBhbmVsXCIgc3R5bGU9XCJjdXJzb3I6IGRlZmF1bHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFjdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktc2xpZGVyLXRpdGxlXCI+R2x5cGggT3BhY2l0eTwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNsaWRlci1idG5cIiBpZD1cInRvZ2dsZS1nbHlwaC1vcGFjaXR5XCI+XG4gICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJzbGlkZXItYnRuLWltZ1wiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj4gICBcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIHN0ZXA9XCI1XCIgbWluPVwiMFwiIG1heD1cIjEwMFwiIHZhbHVlPVwiMTAwXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwidG9nZ2xlLWdseXBoLW9wYWNpdHlcIlxuICAgICAgICAgICAgICBjbGFzcz1cInNsaWRlciBpcy1mdWxsd2lkdGggaXMtbGFyZ2VcIlxuICAgICAgICAgICAgICBpZD1cIm9wYWNpdHlTbGlkZXJcIlxuICAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmctbGVmdDogMXJlbTsgcGFkZGluZy1yaWdodDogMXJlbTtcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxvdXRwdXQgaWQ9XCJvcGFjaXR5T3V0cHV0XCIgZm9yPVwib3BhY2l0eVNsaWRlclwiPjEwMDwvb3V0cHV0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItYW5kLXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lciBkaXNwbGF5LXBhbmVsXCIgc3R5bGU9XCJjdXJzb3I6IGRlZmF1bHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFjdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktc2xpZGVyLXRpdGxlXCI+SW1hZ2UgT3BhY2l0eTwvZGl2PiBcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzbGlkZXItYnRuXCIgaWQ9XCJ0b2dnbGUtYmctb3BhY2l0eVwiPlxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwic2xpZGVyLWJ0bi1pbWdcIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z1wiPlxuICAgICAgICAgICAgPC9idXR0b24+ICAgXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICBzdGVwPVwiNVwiIG1pbj1cIjBcIiBtYXg9XCIxMDBcIiB2YWx1ZT1cIjEwMFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInRvZ2dsZS1iZy1vcGFjaXR5XCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJzbGlkZXIgaXMtZnVsbHdpZHRoIGlzLWxhcmdlXCJcbiAgICAgICAgICAgICAgaWQ9XCJiZ09wYWNpdHlTbGlkZXJcIlxuICAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmctbGVmdDogMXJlbTsgcGFkZGluZy1yaWdodDogMXJlbTtcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxvdXRwdXQgaWQ9XCJiZ09wYWNpdHlPdXRwdXRcIiBmb3I9XCJiZ09wYWNpdHlTbGlkZXJcIj4xMDA8L291dHB1dD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvblwiPlxuXG4gICAgICAgIDxkaXYgaWQ9XCJoaWdobGlnaHQtb3B0aW9ucy10aXRsZVwiIGNsYXNzPVwicGFuZWwtc3ViLXRpdGxlXCI+SGlnaGxpZ2h0IE9wdGlvbnM6PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93blwiIGlkPVwiaGlnaGxpZ2h0LWRyb3Bkb3duXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiaGlnaGxpZ2h0LWJ1dHRvblwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImhpZ2hsaWdodC1tZW51XCIgc3R5bGU9XCJ3aWR0aDogYXV0b1wiPlxuICAgICAgICAgICAgICA8c3Bhbj5IaWdobGlnaHQ8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGlkPVwiaGlnaGxpZ2h0LXR5cGVcIj4mbmJzcDstIE9mZjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cbiAgICAgICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRGlzcGxheVwiIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJoaWdobGlnaHQtbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LXNlbGVjdGlvblwiPkJ5IFNlbGVjdGlvbiBNb2RlPC9hPlxuICAgICAgICAgICAgICA8aHIgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCIvPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LWNvbHVtblwiPkNvbHVtbjwvYT5cbiAgICAgICAgICAgICAgPGEgYXJpYS1yb2xlPVwibWVudWl0ZW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImhpZ2hsaWdodC1zdGFmZlwiPlN0YWZmPC9hPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LXN5bGxhYmxlXCI+U3lsbGFibGU8L2E+XG4gICAgICAgICAgICAgIDxhIGFyaWEtcm9sZT1cIm1lbnVpdGVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaWQ9XCJoaWdobGlnaHQtbmV1bWVcIj5OZXVtZTwvYT5cbiAgICAgICAgICAgICAgPGEgYXJpYS1yb2xlPVwibWVudWl0ZW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImhpZ2hsaWdodC1sYXllckVsZW1lbnRcIj5MYXllckVsZW1lbnQ8L2E+XG4gICAgICAgICAgICAgIDxociBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXJcIi8+XG4gICAgICAgICAgICAgIDxhIGFyaWEtcm9sZT1cIm1lbnVpdGVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaWQ9XCJoaWdobGlnaHQtbm9uZVwiPk5vbmU8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1vcHRpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LW9wdGlvbnMtdGl0bGVcIiBjbGFzcz1cInBhbmVsLXN1Yi10aXRsZVwiPkRpc3BsYXkgT3B0aW9uczo8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LW9wdGlvbnMtaXRlbXNcIj5cblxuICAgICAgICAgICAgPGRpdiBpZD1cImNoZWNrYm94LWRpc3BsYXktb3B0aW9uc1wiPlxuXG4gICAgICAgICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LWFsbC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1vcHRpb25zLXNlcGFyYXRvclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGlzcGxheS1hbGwtYnRuXCI+RGlzcGxheSBBbGw8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LXNpbmdsZS1jb250YWluZXJcIj48L2Rpdj5cblxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgIDwvZGl2PmA7XG5cbiAgcmV0dXJuIGNvbnRlbnRzO1xufVxuXG4vKipcbiAqIEEgY2xhc3MgdGhhdCBzZXRzIHRoZSBjb250ZW50IG9mIHRoZSBkaXNwbGF5IHBhbmVsIHRvIHRoZSByaWdodCBhbmRcbiAqIG1hbmFnZXMgY29udHJvbHMgZm9yIHZpZXdpbmcuXG4gKi9cbmNsYXNzIERpc3BsYXlQYW5lbCBpbXBsZW1lbnRzIERpc3BsYXlJbnRlcmZhY2Uge1xuICB2aWV3OiBWaWV3SW50ZXJmYWNlO1xuICBtZWlDbGFzczogc3RyaW5nO1xuICBiYWNrZ3JvdW5kOiBzdHJpbmc7XG4gIHpvb21IYW5kbGVyOiBab29tSGFuZGxlcjtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIERpc3BsYXlQYW5lbC5cbiAgICogQHBhcmFtIHtTaW5nbGVWaWV3IHwgRGl2YVZpZXd9IHZpZXcgLSBUaGUgVmlldyBwYXJlbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZWkgLSBUaGUgY2xhc3MgbmFtZSBmb3IgdGhlIFNWRy1yZW5kZXJlZCBNRUkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBiYWNrZ3JvdW5kIC0gVGhlIGNsYXNzIG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBiYWNrZ3JvdW5kLlxuICAgKiBAcGFyYW0ge1pvb21IYW5kbGVyfSBbem9vbUhhbmRsZXJdIC0gVGhlIFpvb21IYW5kbGVyIG9iamVjdCwgaWYgU2luZ2xlVmlldy5cbiAgICovXG4gIGNvbnN0cnVjdG9yICh2aWV3OiBWaWV3SW50ZXJmYWNlLCBtZWk6IHN0cmluZyxcbiAgICBiYWNrZ3JvdW5kOiBzdHJpbmcsIHpvb21IYW5kbGVyOiBab29tSGFuZGxlciA9IHVuZGVmaW5lZCkge1xuICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgdGhpcy5tZWlDbGFzcyA9IG1laTtcbiAgICB0aGlzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kO1xuICAgIHRoaXMuem9vbUhhbmRsZXIgPSB6b29tSGFuZGxlcjtcblxuICAgIGNvbnN0IGRpc3BsYXlQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5X2NvbnRyb2xzJyk7XG4gICAgZGlzcGxheVBhbmVsLmlubmVySFRNTCA9IGRpc3BsYXlDb250cm9sc1BhbmVsKHRoaXMuem9vbUhhbmRsZXIpO1xuXG4gICAgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuICAgIHRoaXMudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLnVwZGF0ZVZpc3VhbGl6YXRpb24uYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgZXZlbnQgbGlzdGVuZXJzIHJlbGF0ZWQgdG8gdGhlIERpc3BsYXlQYW5lbC5cbiAgICovXG4gIHNldERpc3BsYXlMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnpvb21IYW5kbGVyKSB7XG4gICAgICAvLyBab29tIGhhbmRsZXIgc3R1ZmZcbiAgICAgIERpc3BsYXlDb250cm9scy5zZXRab29tQ29udHJvbHModGhpcy56b29tSGFuZGxlcik7XG4gICAgfVxuICAgIERpc3BsYXlDb250cm9scy5pbml0RGlzcGxheUNvbnRyb2xzKHRoaXMubWVpQ2xhc3MsIHRoaXMuYmFja2dyb3VuZCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBsb2NhbFN0b3JhZ2UgdmFsdWVzIGJlZm9yZSBTVkcgaXMgbG9hZGVkXG4gICAqIFxuICAgKiBOT1RFOiB0aGlzIGZ1bmN0aW9uIG9ubHkgY2F1c2VzIHZpc3VhbCBjaGFuZ2VzLCBub3QgZnVuY3Rpb25hbCBjaGFuZ2VzLlxuICAgKiAgICBGdW5jdGlvbmFsIGNoYW5nZXMgYXJlIGRvbmUgaW4gc2VwYXJhdGUgbW9kdWxlcyB3aGljaCBkZXBlbmQgb24gc3BlY2lmaWMgY29uZGl0aW9ucy5cbiAgICovXG4gIGxvYWRTZXR0aW5ncyAoKTogdm9pZCB7XG4gICAgY29uc3QgeyB6b29tLCBnbHlwaE9wYWNpdHksIGltYWdlT3BhY2l0eSwgaGlnaGxpZ2h0TW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICBcbiAgICAvLyBab29tXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyN6b29tT3V0cHV0JykpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyN6b29tT3V0cHV0JykudmFsdWUgPSBTdHJpbmcoem9vbSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjem9vbVNsaWRlcicpLnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICAgIH0gICAgXG5cbiAgICAvLyBJbWFnZSBvcGFjaXR5XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2JnT3BhY2l0eU91dHB1dCcpLnZhbHVlID0gU3RyaW5nKGltYWdlT3BhY2l0eSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2JnT3BhY2l0eVNsaWRlcicpLnZhbHVlID0gU3RyaW5nKGltYWdlT3BhY2l0eSk7XG5cbiAgICAvLyBHbHlwaCBvcGFjaXR5XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI29wYWNpdHlPdXRwdXQnKS52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNvcGFjaXR5U2xpZGVyJykudmFsdWUgPSBTdHJpbmcoZ2x5cGhPcGFjaXR5KTtcblxuICAgIC8vIEhpZ2hsaWdodCBtb2RlOlxuICAgIC8vIFRleHQgPSBjYXBpdGFsaXplZCB2ZXJzaW9uIG9mIGhpZ2hsaWdodC0ke2lkfVxuICAgIGNvbnN0IHRleHQgPSBoaWdobGlnaHRNb2RlID09PSAnbm9uZScgPyAnT2ZmJyA6IGhpZ2hsaWdodE1vZGVbMF0udG9VcHBlckNhc2UoKSArIGhpZ2hsaWdodE1vZGUuc2xpY2UoMSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hpZ2hsaWdodC10eXBlJykudGV4dENvbnRlbnQgPSBgXFx4QTAtICR7dGV4dH1gO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBTVkcgYmFzZWQgb24gdmlzdWFsaXphdGlvbiBzZXR0aW5nc1xuICAgKi9cbiAgdXBkYXRlVmlzdWFsaXphdGlvbiAoKTogdm9pZCB7XG4gICAgRGlzcGxheUNvbnRyb2xzLnNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIodGhpcy5tZWlDbGFzcyk7XG4gICAgRGlzcGxheUNvbnRyb2xzLnNldEJnT3BhY2l0eUZyb21TbGlkZXIodGhpcy5iYWNrZ3JvdW5kKTtcbiAgICBEaXNwbGF5Q29udHJvbHMudXBkYXRlSGlnaGxpZ2h0KCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgRGlzcGxheVBhbmVsIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCBEaXNwbGF5UGFuZWwgZnJvbSAnLi9EaXNwbGF5UGFuZWwvRGlzcGxheVBhbmVsJztcbmltcG9ydCB7IERpc3BsYXlDb25zdHJ1Y3RhYmxlLCBWaWV3SW50ZXJmYWNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuL1NpbmdsZVZpZXcvWm9vbSc7XG5cbmltcG9ydCBEaXZhIGZyb20gJ2RpdmEuanMnO1xuXG4vKipcbiAqIFZpZXcgbW9kdWxlIHRoYXQgdXNlcyB0aGUgZGl2YS5qcyB2aWV3ZXIgdG8gcmVuZGVyIHRoZSBwYWdlcyBvZiBhIElJSUYgbWFuaWZlc3RzXG4gKiBhbmQgdGhlbiBkaXNwbGF5IHRoZSByZW5kZXJlZCBNRUkgZmlsZXMgb3ZlciB0aGUgcHJvcGVyIHBhZ2VzLlxuICovXG5jbGFzcyBEaXZhVmlldyBpbXBsZW1lbnRzIFZpZXdJbnRlcmZhY2Uge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIC8qKiBDYWxsYmFja3MgdGhhdCBydW4gd2hlbmV2ZXIgdGhlIGRpc3BsYXkgdXBkYXRlcy4gKi9cbiAgcHJpdmF0ZSB1cGRhdGVDYWxsYmFja3M6IEFycmF5PCgpID0+IHZvaWQ+O1xuICBkaXZhUmVhZHk6IGJvb2xlYW47XG4gIC8qKiBUaGUgZGl2YS5qcyBpbnN0YW5jZS4gKi9cbiAgcHJpdmF0ZSBkaXZhOiBEaXZhO1xuICAvKiogTWFwIHplcm8taW5kZXggcGFnZSBudW1iZXJzIHRvIHRoZSBhY3R1YWwgVVJJL0lSSSBpZGVudGlmaWVyLiAqL1xuICBwcml2YXRlIGluZGV4TWFwOiBNYXA8bnVtYmVyLCBzdHJpbmc+O1xuICBwcml2YXRlIGRpc3BsYXlQYW5lbDogRGlzcGxheVBhbmVsO1xuICAvKiogVGltZSB0byB3YWl0IGFmdGVyIGEgcGFnZSBiZWNvbWVzIGFjdGl2ZSBiZWZvcmUgbG9hZGluZyBpdC4gSW4gbWlsbGlzZWNvbmRzLiAqL1xuICBwcml2YXRlIGxvYWREZWxheTogbnVtYmVyO1xuICB6b29tSGFuZGxlcjogWm9vbUhhbmRsZXI7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBtYW5pZmVzdCAtIFVSSS9JUkkgdG8gdGhlIElJSUYgbWFuaWZlc3QuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBEaXNwbGF5OiBEaXNwbGF5Q29uc3RydWN0YWJsZSwgbWFuaWZlc3Q6IHN0cmluZykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcyA9IFtdO1xuICAgIHRoaXMuZGl2YVJlYWR5ID0gZmFsc2U7XG4gICAgdGhpcy5kaXZhID0gbmV3IERpdmEoJ2NvbnRhaW5lcicsIHtcbiAgICAgIG9iamVjdERhdGE6IG1hbmlmZXN0XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpLnN0eWxlLm1pbkhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLmluZGV4TWFwID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuZGl2YS5kaXNhYmxlRHJhZ1Njcm9sbGFibGUoKTtcbiAgICB0aGlzLmRpc3BsYXlQYW5lbCA9IG5ldyBEaXNwbGF5KHRoaXMsICduZW9uLWNvbnRhaW5lcicsICdkaXZhLXZpZXdlci1jYW52YXMnKTtcbiAgICB0aGlzLmxvYWREZWxheSA9IDUwMDsgLy8gaW4gbWlsbGlzZWNvbmRzXG4gICAgdGhpcy5pbml0RGl2YUV2ZW50cygpO1xuICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGl2YS1pbm5lcicpIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5jdXJzb3IgPSAnYXV0byc7XG5cbiAgICB3aW5kb3cub25yZXNpemUgPSAoKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBjb25zdCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXG4gICAgICB3aW5kb3cuc2V0VGltZW91dCgoKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICgoaGVpZ2h0ID09PSB3aW5kb3cuaW5uZXJIZWlnaHQpICYmICh3aWR0aCA9PT0gd2luZG93LmlubmVyV2lkdGgpKSB7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VQYWdlKHRoaXMuZ2V0Q3VycmVudFBhZ2UoKSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzLmxvYWREZWxheSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxpc3RlbmVycyBmb3IgY2VydGFpbiBldmVudHMgaW50ZXJuYWwgdG8gZGl2YS5qc1xuICAgKi9cbiAgaW5pdERpdmFFdmVudHMgKCk6IHZvaWQge1xuICAgIERpdmEuRXZlbnRzLnN1YnNjcmliZSgnTWFuaWZlc3REaWRMb2FkJywgdGhpcy5wYXJzZU1hbmlmZXN0LmJpbmQodGhpcyksIHRoaXMuZGl2YS5zZXR0aW5ncy5JRCk7XG4gICAgRGl2YS5FdmVudHMuc3Vic2NyaWJlKCdPYmplY3REaWRMb2FkJywgdGhpcy5kaWRMb2FkLmJpbmQodGhpcyksIHRoaXMuZGl2YS5zZXR0aW5ncy5JRCk7XG4gICAgRGl2YS5FdmVudHMuc3Vic2NyaWJlKCdBY3RpdmVQYWdlRGlkQ2hhbmdlJywgdGhpcy5jaGFuZ2VQYWdlLmJpbmQodGhpcyksIHRoaXMuZGl2YS5zZXR0aW5ncy5JRCk7XG4gICAgRGl2YS5FdmVudHMuc3Vic2NyaWJlKCdab29tTGV2ZWxEaWRDaGFuZ2UnLCB0aGlzLmFkanVzdFpvb20uYmluZCh0aGlzKSwgdGhpcy5kaXZhLnNldHRpbmdzLklEKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdmlzaWJsZSBwYWdlIGNoYW5nZXMgaW4gdGhlIGRpdmEuanMgdmlld2VyLlxuICAgKiBAcGFyYW0gcGFnZUluZGV4IC0gVGhlIHplcm8taW5kZXhlZCBwYWdlIHRoYXQgaXMgbW9zdCB2aXNpYmxlLlxuICAgKiBAcGFyYW0gZGVsYXkgLSBXaGV0aGVyIHRvIGRlbGF5IHRoZSBsb2FkaW5nIG9mIHRoZSBwYWdlIHNvIHRoYXQgbmVvbiBkb2Vzbid0IGxhZyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqL1xuICBhc3luYyBjaGFuZ2VQYWdlIChwYWdlSW5kZXg6IG51bWJlciwgZGVsYXkgPSB0cnVlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZnVuY3Rpb24gY2hlY2tBbmRMb2FkIChwYWdlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIGlmIChwYWdlID09PSB0aGlzLmdldEN1cnJlbnRQYWdlKCkpIHtcbiAgICAgICAgY29uc3QgcGFnZVVSSSA9IHRoaXMuaW5kZXhNYXAuZ2V0KHBhZ2UpO1xuICAgICAgICB0aGlzLm5lb25WaWV3LmdldFBhZ2VTVkcocGFnZVVSSSkudGhlbigoc3ZnOiBTVkdTVkdFbGVtZW50KSA9PiB7XG4gICAgICAgICAgdGhpcy51cGRhdGVTVkcoc3ZnLCBwYWdlKTtcbiAgICAgICAgICBjb25zdCBjb250YWluZXJJZCA9ICduZW9uLWNvbnRhaW5lci0nICsgcGFnZTtcbiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7XG4gICAgICAgICAgaWYgKGNvbnRhaW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1wYWdlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gY2FsbGJhY2soKSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnI6IHsgbmFtZTogc3RyaW5nIH0pID0+IHtcbiAgICAgICAgICBpZiAoZXJyLm5hbWUgIT09ICdub3RfZm91bmQnICYmIGVyci5uYW1lICE9PSAnbWlzc2luZ19tZWknKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwYWdlSW5kZXhlcyA9IFtwYWdlSW5kZXhdO1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlLXBhZ2UnKSkuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLXBhZ2UnKTtcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZUluZGV4ZXMpIHtcbiAgICAgIGlmIChkZWxheSkge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjaGVja0FuZExvYWQuYmluZCh0aGlzKSwgKHRoaXMubG9hZERlbGF5KSwgcGFnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0FuZExvYWQuYmluZCh0aGlzKShwYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgQWN0aXZlIHplcm8taW5kZXhlZCBwYWdlIGluIHRoZSBkaXZhLmpzIHZpZXdlci5cbiAgICovXG4gIGdldEN1cnJlbnRQYWdlICgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmRpdmEuZ2V0QWN0aXZlUGFnZUluZGV4KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIGFjdGl2ZSBwYWdlIFVSSSBpbiB0aGUgZGl2YS5qcyB2aWV3ZXIuXG4gICAqL1xuICBnZXRDdXJyZW50UGFnZVVSSSAoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5pbmRleE1hcC5nZXQodGhpcy5nZXRDdXJyZW50UGFnZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGp1c3QgdGhlIHJlbmRlcmVkIFNWRyhzKSB0byBiZSB0aGUgY29ycmVjdCBzaXplIGFmdGVyIHpvb21pbmcuXG4gICAqL1xuICBhZGp1c3Rab29tICgpOiB2b2lkIHtcbiAgICAobmV3IFByb21pc2UoKHJlc29sdmUpOiB2b2lkID0+IHtcbiAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1jb250YWluZXInKSlcbiAgICAgICAgLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7IGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfSk7XG4gICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIHRoaXMuZGl2YS5zZXR0aW5ncy56b29tRHVyYXRpb24gKyAxMDApO1xuICAgIH0pKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuY2hhbmdlUGFnZSh0aGlzLmRpdmEuZ2V0QWN0aXZlUGFnZUluZGV4KCksIHRydWUpO1xuICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLWNvbnRhaW5lcicpKVxuICAgICAgICAuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICBjb25zdCBzdmcgPSBlbGVtLmZpcnN0Q2hpbGQgYXMgU1ZHU1ZHRWxlbWVudDtcbiAgICAgICAgICBjb25zdCBwYWdlTm8gPSBwYXJzZUludChlbGVtLmlkLm1hdGNoKC9cXGQrLylbMF0pO1xuICAgICAgICAgIHRoaXMudXBkYXRlU1ZHKHN2ZywgcGFnZU5vKTtcbiAgICAgICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBvblNWR0xvYWQgKCk6IHZvaWQge1xuICAgIHRoaXMuc2V0Vmlld0V2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIFNWRyBiZWluZyBkaXNwbGF5ZWQgZm9yIHRoZSBzcGVjaWZpZWQgcGFnZS5cbiAgICogQHBhcmFtIHN2ZyAtIFRoZSBTVkcgb2YgdGhlIHBhZ2UgdG8gdXBkYXRlIHRvLlxuICAgKiBAcGFyYW0gcGFnZU5vIC0gVGhlIHplcm8taW5kZXhlZCBwYWdlIG51bWJlci5cbiAgICovXG4gIHVwZGF0ZVNWRyAoc3ZnOiBTVkdTVkdFbGVtZW50LCBwYWdlTm86IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpdmEtMS1pbm5lcicpO1xuICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLmRpdmEuZ2V0UGFnZURpbWVuc2lvbnNBdEN1cnJlbnRab29tTGV2ZWwocGFnZU5vKTtcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmRpdmEuc2V0dGluZ3Mudmlld0hhbmRsZXIuX3ZpZXdlckNvcmUuZ2V0UGFnZVJlZ2lvbihwYWdlTm8sIHtcbiAgICAgIGluY2x1ZGVQYWRkaW5nOiB0cnVlLFxuICAgICAgaW5jb3Jwb3JhdGVWaWV3cG9ydDogdHJ1ZVxuICAgIH0pO1xuICAgIGNvbnN0IG1hcmdpbkxlZnQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpbm5lciwgbnVsbClcbiAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tbGVmdCcpO1xuXG4gICAgY29uc3QgY29udGFpbmVySWQgPSAnbmVvbi1jb250YWluZXItJyArIHBhZ2VOby50b1N0cmluZygpO1xuICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7XG4gICAgaWYgKGNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250YWluZXIuaWQgPSBjb250YWluZXJJZDtcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCduZW9uLWNvbnRhaW5lcicpO1xuICAgICAgaW5uZXIuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICB3aGlsZSAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBkaW1lbnNpb25zLndpZHRoLnRvU3RyaW5nKCkpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGRpbWVuc2lvbnMuaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke29mZnNldC50b3B9cHhgO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gYCR7b2Zmc2V0LmxlZnQgLSBwYXJzZUludChtYXJnaW5MZWZ0KX1weGA7XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkaXZhLmpzIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAqL1xuICBkaWRMb2FkICgpOiB2b2lkIHtcbiAgICB0aGlzLmRpdmFSZWFkeSA9IHRydWU7XG4gICAgdGhpcy5kaXNwbGF5UGFuZWwuc2V0RGlzcGxheUxpc3RlbmVycygpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgcnVuIHdoZW5ldmVyIGFuIFNWRyBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICBhZGRVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBjYWxsYmFjayBmdW5jdGlvbiBwcmV2aW91c2x5IGFkZGVkIHRvIHRoZSBsaXN0IG9mIGZ1bmN0aW9ucyB0byBjYWxsLlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICByZW1vdmVVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZpbmRJbmRleCgoZWxlbSkgPT4ge1xuICAgICAgcmV0dXJuIGVsZW0gPT09IGNiO1xuICAgIH0pO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBsaXN0ZW5lcnMgb24gdGhlIGJvZHkgZWxlbWVudCBmb3IgZ2xvYmFsIGV2ZW50cy5cbiAgICovXG4gIHNldFZpZXdFdmVudEhhbmRsZXJzICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgZm9yIChjb25zdCBjb250YWluZXIgb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1jb250YWluZXInKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50Pikge1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICBmb3IgKGNvbnN0IGNvbnRhaW5lciBvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLWNvbnRhaW5lcicpIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+KSB7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlIHRoZSBJSUlGIG1hbmlmZXN0IHRvIGNyZWF0ZSBhIG1hcCBiZXR3ZWVuIElJSUYgY2FudmFzZXMgYW5kIHBhZ2UgaW5kZXhlcy5cbiAgICogQHBhcmFtIG1hbmlmZXN0IC0gVGhlIElJSUYgbWFuaWZlc3Qgb2JqZWN0LlxuICAgKi9cbiAgcGFyc2VNYW5pZmVzdCAobWFuaWZlc3Q6IHsgc2VxdWVuY2VzOiB7IGNhbnZhc2VzOiBvYmplY3RbXSB9W10gfSk6IHZvaWQge1xuICAgIHRoaXMuaW5kZXhNYXAuY2xlYXIoKTtcbiAgICBmb3IgKGNvbnN0IHNlcXVlbmNlIG9mIG1hbmlmZXN0LnNlcXVlbmNlcykge1xuICAgICAgZm9yIChjb25zdCBjYW52YXMgb2Ygc2VxdWVuY2UuY2FudmFzZXMpIHtcbiAgICAgICAgdGhpcy5pbmRleE1hcC5zZXQoc2VxdWVuY2UuY2FudmFzZXMuaW5kZXhPZihjYW52YXMpLCBjYW52YXNbJ0BpZCddKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIG5hbWUgb2YgdGhlIGFjdGl2ZSBwYWdlL2NhbnZhcyBjb21iaW5lZCB3aXRoIHRoZSBtYW51c2NyaXB0IG5hbWUuXG4gICAqL1xuICBnZXRQYWdlTmFtZSAoKTogc3RyaW5nIHtcbiAgICBjb25zdCBtYW51c2NyaXB0TmFtZSA9IHRoaXMuZGl2YS5zZXR0aW5ncy5tYW5pZmVzdC5pdGVtVGl0bGU7XG4gICAgY29uc3QgcGFnZU5hbWUgPSB0aGlzLmRpdmEuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbdGhpcy5nZXRDdXJyZW50UGFnZSgpXS5sO1xuICAgIHJldHVybiBtYW51c2NyaXB0TmFtZSArICcgXFx1MjAxNCAnICsgcGFnZU5hbWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgRGl2YVZpZXcgYXMgZGVmYXVsdCB9O1xuIiwiLypcbiBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiBDb3B5cmlnaHQgKGMpIDwyMDExPiA8RGF2ZSBUYXlsb3IgaHR0cDovL3RoZS10YXlsb3JzLm9yZz5cblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkXG4gdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTU1xuIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUlxuIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUlxuIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuIFBvcnQgdG8gdmFuaWxsYSBKYXZhc2NyaXB0IGJ5IEphY2VrIE5vd2Fja2kgaHR0cDovL2phY2VrLW5vd2Fja2kubmV0L1xuKiovXG5cbihmdW5jdGlvbigpIHtcbiAgICB2YXIgX3JhZiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cbiAgICB2YXIgX2lzVG91Y2ggPSAnb250b3VjaGVuZCcgaW4gZG9jdW1lbnQ7XG5cbiAgICAvLyB0aGlzIGlzIHNpbXBsZSwgbm8gXCJkZWVwXCIgc3VwcG9ydFxuICAgIHZhciBfZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAodmFyIGk9MTsgaTxhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbaV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2ldLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICB9O1xuXG4gICAgdmFyIFZhbmlsbGFLaW5ldGljID0gZnVuY3Rpb24oZWxlbWVudCwgc2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IF9leHRlbmQoe30sIFZhbmlsbGFLaW5ldGljLkRFRkFVTFRTLCBzZXR0aW5ncyk7XG4gICAgICAgIHRoaXMuZWwgICAgICAgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLkFDVElWRV9DTEFTUyA9IFwia2luZXRpYy1hY3RpdmVcIjtcblxuICAgICAgICB0aGlzLl9pbml0RWxlbWVudHMoKTtcblxuICAgICAgICB0aGlzLmVsLl9WYW5pbGxhS2luZXRpYyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5ERUZBVUxUUyA9IHtcbiAgICAgICAgY3Vyc29yOiAnbW92ZScsXG4gICAgICAgIGRlY2VsZXJhdGU6IHRydWUsXG4gICAgICAgIHRyaWdnZXJIYXJkd2FyZTogZmFsc2UsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgeTogdHJ1ZSxcbiAgICAgICAgeDogdHJ1ZSxcbiAgICAgICAgc2xvd2Rvd246IDAuOSxcbiAgICAgICAgbWF4dmVsb2NpdHk6IDQwLFxuICAgICAgICB0aHJvdHRsZUZQUzogNjAsXG4gICAgICAgIGludmVydDogZmFsc2UsXG4gICAgICAgIG1vdmluZ0NsYXNzOiB7XG4gICAgICAgICAgICB1cDogJ2tpbmV0aWMtbW92aW5nLXVwJyxcbiAgICAgICAgICAgIGRvd246ICdraW5ldGljLW1vdmluZy1kb3duJyxcbiAgICAgICAgICAgIGxlZnQ6ICdraW5ldGljLW1vdmluZy1sZWZ0JyxcbiAgICAgICAgICAgIHJpZ2h0OiAna2luZXRpYy1tb3ZpbmctcmlnaHQnXG4gICAgICAgIH0sXG4gICAgICAgIGRlY2VsZXJhdGluZ0NsYXNzOiB7XG4gICAgICAgICAgICB1cDogJ2tpbmV0aWMtZGVjZWxlcmF0aW5nLXVwJyxcbiAgICAgICAgICAgIGRvd246ICdraW5ldGljLWRlY2VsZXJhdGluZy1kb3duJyxcbiAgICAgICAgICAgIGxlZnQ6ICdraW5ldGljLWRlY2VsZXJhdGluZy1sZWZ0JyxcbiAgICAgICAgICAgIHJpZ2h0OiAna2luZXRpYy1kZWNlbGVyYXRpbmctcmlnaHQnXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gUHVibGljIGZ1bmN0aW9uc1xuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IF9leHRlbmQodGhpcy5zZXR0aW5ncywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSBvcHRpb25zLnZlbG9jaXR5IHx8IHRoaXMudmVsb2NpdHk7XG4gICAgICAgIHRoaXMudmVsb2NpdHlZID0gb3B0aW9ucy52ZWxvY2l0eVkgfHwgdGhpcy52ZWxvY2l0eVk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZGVjZWxlcmF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tb3ZlKCk7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHlZID0gMDtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLnN0b3BwZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc3RvcHBlZC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZGV0YWNoTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkFDVElWRV9DTEFTUyk7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUuY3Vyc29yID0gJyc7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQUNUSVZFX0NMQVNTKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F0dGFjaExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQodGhpcy5BQ1RJVkVfQ0xBU1MpO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmN1cnNvciA9IHRoaXMuc2V0dGluZ3MuY3Vyc29yO1xuICAgIH07XG5cbiAgICAvLyBJbnRlcm5hbCBmdW5jdGlvbnNcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5faW5pdEVsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCh0aGlzLkFDVElWRV9DTEFTUyk7XG5cbiAgICAgICAgX2V4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICB4cG9zOiBudWxsLFxuICAgICAgICAgICAgcHJldlhQb3M6IGZhbHNlLFxuICAgICAgICAgICAgeXBvczogbnVsbCxcbiAgICAgICAgICAgIHByZXZZUG9zOiBmYWxzZSxcbiAgICAgICAgICAgIG1vdXNlRG93bjogZmFsc2UsXG4gICAgICAgICAgICB0aHJvdHRsZVRpbWVvdXQ6IDEwMDAgLyB0aGlzLnNldHRpbmdzLnRocm90dGxlRlBTLFxuICAgICAgICAgICAgbGFzdE1vdmU6IG51bGwsXG4gICAgICAgICAgICBlbGVtZW50Rm9jdXNlZDogbnVsbFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgdGhpcy52ZWxvY2l0eVkgPSAwO1xuXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgdGhpcy5kb2N1bWVudFJlc2V0SGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhhdC5fcmVzZXRNb3VzZS5hcHBseSh0aGF0KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBGSVhNRSBtYWtlIHN1cmUgdG8gcmVtb3ZlIHRoaXNcbiAgICAgICAgdmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5kb2N1bWVudFJlc2V0SGFuZGxlciwgZmFsc2UpO1xuICAgICAgICBodG1sLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRvY3VtZW50UmVzZXRIYW5kbGVyLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5faW5pdEV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuZWwuc3R5bGUuY3Vyc29yID0gdGhpcy5zZXR0aW5ncy5jdXJzb3I7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudHJpZ2dlckhhcmR3YXJlKSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4ZXMgPSBbJycsICctbXMtJywgJy13ZWJraXQtJywgJy1tb3otJ107XG4gICAgICAgICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoMCwwLDApJyxcbiAgICAgICAgICAgICAgICAncGVyc3BlY3RpdmUnOiAnMTAwMCcsIC8vIFRPRE8gaXMgdGhpcyBldmVuIHZhbGlkPyBpcyB0aGlzIGV2ZW4gbmVlZGVkP1xuICAgICAgICAgICAgICAgICdiYWNrZmFjZS12aXNpYmlsaXR5JzogJ2hpZGRlbidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8cHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJlZml4ID0gcHJlZml4ZXNbaV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHN0eWxlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3R5bGVzLmhhc093blByb3BlcnR5KGtleSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbC5zdHlsZVtwcmVmaXgra2V5XSA9IHN0eWxlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5faW5pdEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZXZlbnRzID0ge1xuICAgICAgICAgICAgdG91Y2hTdGFydDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaDtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSkge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaCA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnRocmVzaG9sZCA9IHNlbGYuX3RocmVzaG9sZChlLnRhcmdldCwgZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3N0YXJ0KHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b3VjaE1vdmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2g7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubW91c2VEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2lucHV0bW92ZSh0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dERvd246IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnRocmVzaG9sZCA9IHNlbGYuX3RocmVzaG9sZChlLnRhcmdldCwgZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3N0YXJ0KGUuY2xpZW50WCwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbGVtZW50Rm9jdXNlZCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQubm9kZU5hbWUgPT09IFwiSU1HXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dEVuZDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl91c2VUYXJnZXQoZS50YXJnZXQsIGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2VuZCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnRGb2N1c2VkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dE1vdmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5tb3VzZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5faW5wdXRtb3ZlKGUuY2xpZW50WCwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuc2V0dGluZ3MubW92ZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXR0aW5ncy5tb3ZlZC5jYWxsKHNlbGYsIHNlbGYuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0Q2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoc2VsZi52ZWxvY2l0eSkgPiAwIHx8IE1hdGguYWJzKHNlbGYudmVsb2NpdHlZKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkcmFnU3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSAmJiBzZWxmLmVsZW1lbnRGb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0U3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuc2V0dGluZ3Muc2VsZWN0U3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuc2V0dGluZ3Muc2VsZWN0U3RhcnQuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2F0dGFjaExpc3RlbmVycygpO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2lucHV0bW92ZSA9IGZ1bmN0aW9uKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxhc3RNb3ZlIHx8IG5ldyBEYXRlKCkgPiBuZXcgRGF0ZSh0aGlzLmxhc3RNb3ZlLmdldFRpbWUoKSArIHRoaXMudGhyb3R0bGVUaW1lb3V0KSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0TW92ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlRG93biAmJiAodGhpcy54cG9zIHx8IHRoaXMueXBvcykpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW92ZWRYID0gKGNsaWVudFggLSB0aGlzLnhwb3MpO1xuICAgICAgICAgICAgICAgIHZhciBtb3ZlZFkgPSAoY2xpZW50WSAtIHRoaXMueXBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW52ZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVkWCAqPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgbW92ZWRZICo9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJlc2hvbGQ+MCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW92ZWQgPSBNYXRoLnNxcnQobW92ZWRYKm1vdmVkWCArIG1vdmVkWSptb3ZlZFkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJlc2hvbGQ+bW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGhyZXNob2xkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50Rm9jdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRGb2N1c2VkLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Rm9jdXNlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWwuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlY2VsZXJhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eVkgPSAwO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbExlZnQgPSB0aGlzLnNjcm9sbExlZnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxUb3AoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGVmdCh0aGlzLnNldHRpbmdzLnggPyBzY3JvbGxMZWZ0IC0gbW92ZWRYIDogc2Nyb2xsTGVmdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AodGhpcy5zZXR0aW5ncy55ID8gc2Nyb2xsVG9wIC0gbW92ZWRZIDogc2Nyb2xsVG9wKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucHJldlhQb3MgPSB0aGlzLnhwb3M7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2WVBvcyA9IHRoaXMueXBvcztcbiAgICAgICAgICAgICAgICB0aGlzLnhwb3MgPSBjbGllbnRYO1xuICAgICAgICAgICAgICAgIHRoaXMueXBvcyA9IGNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVWZWxvY2l0aWVzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0TW92ZUNsYXNzZXModGhpcy5zZXR0aW5ncy5tb3ZpbmdDbGFzcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3MubW92ZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5tb3ZlZC5jYWxsKHRoaXMsIHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2NhbGN1bGF0ZVZlbG9jaXRpZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMuX2NhcFZlbG9jaXR5KHRoaXMucHJldlhQb3MgLSB0aGlzLnhwb3MsIHRoaXMuc2V0dGluZ3MubWF4dmVsb2NpdHkpO1xuICAgICAgICB0aGlzLnZlbG9jaXR5WSA9IHRoaXMuX2NhcFZlbG9jaXR5KHRoaXMucHJldllQb3MgLSB0aGlzLnlwb3MsIHRoaXMuc2V0dGluZ3MubWF4dmVsb2NpdHkpO1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbnZlcnQpIHtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgKj0gLTE7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5WSAqPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy54cG9zICYmIHRoaXMucHJldlhQb3MgJiYgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZVZlbG9jaXRpZXMoKTtcbiAgICAgICAgICAgIHRoaXMueHBvcyA9IHRoaXMucHJldlhQb3MgPSB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbW92ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fdXNlVGFyZ2V0ID0gZnVuY3Rpb24odGFyZ2V0LCBldmVudCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3MuZmlsdGVyVGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5maWx0ZXJUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIGV2ZW50KSAhPT0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl90aHJlc2hvbGQgPSBmdW5jdGlvbih0YXJnZXQsIGV2ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZXR0aW5ncy50aHJlc2hvbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnRocmVzaG9sZC5jYWxsKHRoaXMsIHRhcmdldCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnRocmVzaG9sZDtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9zdGFydCA9IGZ1bmN0aW9uKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy5wcmV2WFBvcyA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHlZID0gdGhpcy5wcmV2WVBvcyA9IDA7XG4gICAgICAgIHRoaXMueHBvcyA9IGNsaWVudFg7XG4gICAgICAgIHRoaXMueXBvcyA9IGNsaWVudFk7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fcmVzZXRNb3VzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnhwb3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy55cG9zID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fZGVjZWxlcmF0ZVZlbG9jaXR5ID0gZnVuY3Rpb24odmVsb2NpdHksIHNsb3dkb3duKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGguYWJzKHZlbG9jaXR5KSkgPT09IDAgPyAwIC8vIGlzIHZlbG9jaXR5IGxlc3MgdGhhbiAxP1xuICAgICAgICAgICAgOiB2ZWxvY2l0eSAqIHNsb3dkb3duOyAvLyByZWR1Y2Ugc2xvd2Rvd25cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9jYXBWZWxvY2l0eSA9IGZ1bmN0aW9uKHZlbG9jaXR5LCBtYXgpIHtcbiAgICAgICAgdmFyIG5ld1ZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgICAgIGlmICh2ZWxvY2l0eSA+IDApe1xuICAgICAgICAgICAgaWYgKHZlbG9jaXR5ID4gbWF4KXtcbiAgICAgICAgICAgICAgICBuZXdWZWxvY2l0eSA9IG1heDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eSA8ICgwIC0gbWF4KSl7XG4gICAgICAgICAgICAgICAgbmV3VmVsb2NpdHkgPSAoMCAtIG1heCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1ZlbG9jaXR5O1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX3NldE1vdmVDbGFzc2VzID0gZnVuY3Rpb24oY2xhc3Nlcykge1xuICAgICAgICAvLyBUaGUgZml4LW1lIGNvbW1lbnQgYmVsb3cgaXMgZnJvbSBvcmlnaW5hbCBqUXVlcnkua2luZXRpYyBwcm9qZWN0XG4gICAgICAgIC8vIEZJWE1FOiBjb25zaWRlciBpZiB3ZSB3YW50IHRvIGFwcGx5IFBMICM0NCwgdGhpcyBzaG91bGQgbm90IHJlbW92ZVxuICAgICAgICAvLyBjbGFzc2VzIHdlIGhhdmUgbm90IGRlZmluZWQgb24gdGhlIGVsZW1lbnQhXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3M7XG4gICAgICAgIHZhciBlbCA9IHRoaXMuZWw7XG5cbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5tb3ZpbmdDbGFzcy51cCk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MubW92aW5nQ2xhc3MuZG93bik7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MubW92aW5nQ2xhc3MubGVmdCk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MubW92aW5nQ2xhc3MucmlnaHQpO1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLmRlY2VsZXJhdGluZ0NsYXNzLnVwKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcy5kb3duKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcy5sZWZ0KTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcy5yaWdodCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmVsb2NpdHkgPiAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmVsb2NpdHkgPCAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52ZWxvY2l0eVkgPiAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5kb3duKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52ZWxvY2l0eVkgPCAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy51cCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9tb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzY3JvbGxlciA9IHRoaXMuX2dldFNjcm9sbGVyKCk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcblxuICAgICAgICBpZiAoc2V0dGluZ3MueCAmJiBzY3JvbGxlci5zY3JvbGxXaWR0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGVmdCh0aGlzLnNjcm9sbExlZnQoKSArIHRoaXMudmVsb2NpdHkpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMudmVsb2NpdHkpID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgPSBzZXR0aW5ncy5kZWNlbGVyYXRlID9cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGVjZWxlcmF0ZVZlbG9jaXR5KHRoaXMudmVsb2NpdHksIHNldHRpbmdzLnNsb3dkb3duKSA6IHRoaXMudmVsb2NpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZXR0aW5ncy55ICYmIHNjcm9sbGVyLnNjcm9sbEhlaWdodCA+IDApe1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AodGhpcy5zY3JvbGxUb3AoKSArIHRoaXMudmVsb2NpdHlZKTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnZlbG9jaXR5WSkgPiAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5WSA9IHNldHRpbmdzLmRlY2VsZXJhdGUgP1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9kZWNlbGVyYXRlVmVsb2NpdHkodGhpcy52ZWxvY2l0eVksIHNldHRpbmdzLnNsb3dkb3duKSA6IHRoaXMudmVsb2NpdHlZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eVkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5fc2V0TW92ZUNsYXNzZXMoc2V0dGluZ3MuZGVjZWxlcmF0aW5nQ2xhc3MpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MubW92ZWQgPT09ICdmdW5jdGlvbicpe1xuICAgICAgICAgICAgc2V0dGluZ3MubW92ZWQuY2FsbCh0aGlzLCBzZXR0aW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy52ZWxvY2l0eSkgPiAwIHx8IE1hdGguYWJzKHRoaXMudmVsb2NpdHlZKSA+IDApe1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1vdmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyB0aWNrIGZvciBuZXh0IG1vdmVtZW50XG4gICAgICAgICAgICAgICAgX3JhZihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9nZXRTY3JvbGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBGSVhNRSB3ZSBtYXkgd2FudCB0byBub3JtYWxpemUgYmVoYXZpb3VyIGFjcm9zcyBicm93c2VycyBhcyBpbiBvcmlnaW5hbCBqUXVlcnkua2luZXRpY1xuICAgICAgICAvLyBjdXJyZW50bHkgdGhpcyB3b24ndCB3b3JrIGNvcnJlY3RseSBvbiBhbGwgYnJ3b3NlcnMgd2hlbiBhdHRhY2hlZCB0byBodG1sIG9yIGJvZHkgZWxlbWVudFxuICAgICAgICByZXR1cm4gdGhpcy5lbDtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLnNjcm9sbExlZnQgPSBmdW5jdGlvbihsZWZ0KSB7XG4gICAgICAgIHZhciBzY3JvbGxlciA9IHRoaXMuX2dldFNjcm9sbGVyKCk7XG4gICAgICAgIGlmICh0eXBlb2YgbGVmdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHNjcm9sbGVyLnNjcm9sbExlZnQgPSBsZWZ0O1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzY3JvbGxlci5zY3JvbGxMZWZ0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5zY3JvbGxUb3AgPSBmdW5jdGlvbih0b3ApIHtcbiAgICAgICAgdmFyIHNjcm9sbGVyID0gdGhpcy5fZ2V0U2Nyb2xsZXIoKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3AgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBzY3JvbGxlci5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnNjcm9sbFRvcCA9IHRvcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzY3JvbGxlci5zY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9hdHRhY2hMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcblxuICAgICAgICBpZiAoX2lzVG91Y2gpIHtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzZXR0aW5ncy5ldmVudHMudG91Y2hTdGFydCwgZmFsc2UpO1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRFbmQsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHNldHRpbmdzLmV2ZW50cy50b3VjaE1vdmUsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHNldHRpbmdzLmV2ZW50cy5pbnB1dERvd24sIGZhbHNlKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHNldHRpbmdzLmV2ZW50cy5pbnB1dEVuZCwgZmFsc2UpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRNb3ZlLCBmYWxzZSk7XG5cbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRDbGljaywgZmFsc2UpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzZXR0aW5ncy5ldmVudHMuc2Nyb2xsLCBmYWxzZSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLnNlbGVjdFN0YXJ0LCBmYWxzZSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHNldHRpbmdzLmV2ZW50cy5kcmFnU3RhcnQsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9kZXRhY2hMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcblxuICAgICAgICBpZiAoX2lzVG91Y2gpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzZXR0aW5ncy5ldmVudHMudG91Y2hTdGFydCwgZmFsc2UpO1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRFbmQsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHNldHRpbmdzLmV2ZW50cy50b3VjaE1vdmUsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHNldHRpbmdzLmV2ZW50cy5pbnB1dERvd24sIGZhbHNlKTtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHNldHRpbmdzLmV2ZW50cy5pbnB1dEVuZCwgZmFsc2UpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRNb3ZlLCBmYWxzZSk7XG5cbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRDbGljaywgZmFsc2UpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzZXR0aW5ncy5ldmVudHMuc2Nyb2xsLCBmYWxzZSk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLnNlbGVjdFN0YXJ0LCBmYWxzZSk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHNldHRpbmdzLmV2ZW50cy5kcmFnU3RhcnQsIGZhbHNlKTtcbiAgICB9O1xuXG5cbiAgICB3aW5kb3cuVmFuaWxsYUtpbmV0aWMgPSBWYW5pbGxhS2luZXRpYztcbn0pKCk7XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgZHJhZ3Njcm9sbCAtIHNjcm9sbCBhcmVhIGJ5IGRyYWdnaW5nXG4gKiBAdmVyc2lvbiAwLjAuOFxuICpcbiAqIEBsaWNlbnNlIE1JVCwgc2VlIGh0dHA6Ly9naXRodWIuY29tL2FzdmQvZHJhZ3Njcm9sbFxuICogQGNvcHlyaWdodCAyMDE1IGFzdmQgPGhlbGlvc2ZyYW1ld29ya0BnbWFpbC5jb20+XG4gKi9cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSlcbntcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuICAgIHtcbiAgICAgICAgZGVmaW5lKFsnZXhwb3J0cyddLCBmYWN0b3J5KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKVxuICAgIHtcbiAgICAgICAgZmFjdG9yeShleHBvcnRzKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgZmFjdG9yeSgocm9vdC5kcmFnc2Nyb2xsID0ge30pKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzKVxue1xuICAgIHZhciBfd2luZG93ID0gd2luZG93O1xuICAgIHZhciBfZG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICB2YXIgbW91c2Vtb3ZlID0gJ21vdXNlbW92ZSc7XG4gICAgdmFyIG1vdXNldXAgPSAnbW91c2V1cCc7XG4gICAgdmFyIG1vdXNlZG93biA9ICdtb3VzZWRvd24nO1xuICAgIHZhciBFdmVudExpc3RlbmVyID0gJ0V2ZW50TGlzdGVuZXInO1xuICAgIHZhciBhZGRFdmVudExpc3RlbmVyID0gJ2FkZCcgKyBFdmVudExpc3RlbmVyO1xuICAgIHZhciByZW1vdmVFdmVudExpc3RlbmVyID0gJ3JlbW92ZScgKyBFdmVudExpc3RlbmVyO1xuICAgIHZhciBuZXdTY3JvbGxYLCBuZXdTY3JvbGxZOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuICAgIHZhciBkcmFnZ2VkID0gW107XG5cbiAgICB2YXIgcmVzZXQgPSBmdW5jdGlvbiAoaSwgZWwpXG4gICAge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZHJhZ2dlZC5sZW5ndGg7KVxuICAgICAgICB7XG4gICAgICAgICAgICBlbCA9IGRyYWdnZWRbaSsrXTtcbiAgICAgICAgICAgIGVsID0gZWwuY29udGFpbmVyIHx8IGVsO1xuICAgICAgICAgICAgZWxbcmVtb3ZlRXZlbnRMaXN0ZW5lcl0obW91c2Vkb3duLCBlbC5tZCwgMCk7XG4gICAgICAgICAgICBfd2luZG93W3JlbW92ZUV2ZW50TGlzdGVuZXJdKG1vdXNldXAsIGVsLm11LCAwKTtcbiAgICAgICAgICAgIF93aW5kb3dbcmVtb3ZlRXZlbnRMaXN0ZW5lcl0obW91c2Vtb3ZlLCBlbC5tbSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdXBwcmVzcyB3YXJuaW5nIGFib3V0IGZ1bmN0aW9ucyBpbiBsb29wcy5cbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICAvLyBjbG9uaW5nIGludG8gYXJyYXkgc2luY2UgSFRNTENvbGxlY3Rpb24gaXMgdXBkYXRlZCBkeW5hbWljYWxseVxuICAgICAgICBkcmFnZ2VkID0gW10uc2xpY2UuY2FsbChfZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHJhZ3Njcm9sbCcpKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGRyYWdnZWQubGVuZ3RoOylcbiAgICAgICAge1xuICAgICAgICAgICAgKGZ1bmN0aW9uIChlbCwgbGFzdENsaWVudFgsIGxhc3RDbGllbnRZLCBwdXNoZWQsIHNjcm9sbGVyLCBjb250KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIChjb250ID0gZWwuY29udGFpbmVyIHx8IGVsKVthZGRFdmVudExpc3RlbmVyXShcbiAgICAgICAgICAgICAgICAgICAgbW91c2Vkb3duLFxuICAgICAgICAgICAgICAgICAgICBjb250Lm1kID0gZnVuY3Rpb24gKGUpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZWwuaGFzQXR0cmlidXRlKCdub2NoaWxkZHJhZycpIHx8IF9kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGUucGFnZVgsIGUucGFnZVkpID09PSBjb250KVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hlZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENsaWVudFggPSBlLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENsaWVudFkgPSBlLmNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDBcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvd1thZGRFdmVudExpc3RlbmVyXShtb3VzZXVwLCBjb250Lm11ID0gZnVuY3Rpb24gKClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93W2FkZEV2ZW50TGlzdGVuZXJdKG1vdXNlbW92ZSwgY29udC5tbSA9IGZ1bmN0aW9uIChlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHVzaGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzY3JvbGxlciA9IGVsLnNjcm9sbGVyIHx8IGVsKS5zY3JvbGxMZWZ0IC09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njcm9sbFggPSAoLWxhc3RDbGllbnRYICsgKGxhc3RDbGllbnRYID0gZS5jbGllbnRYKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXIuc2Nyb2xsVG9wIC09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njcm9sbFkgPSAoLWxhc3RDbGllbnRZICsgKGxhc3RDbGllbnRZID0gZS5jbGllbnRZKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsID09PSBfZG9jdW1lbnQuYm9keSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzY3JvbGxlciA9IF9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLnNjcm9sbExlZnQgLT0gbmV3U2Nyb2xsWDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXIuc2Nyb2xsVG9wIC09IG5ld1Njcm9sbFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH0pKGRyYWdnZWRbaSsrXSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9O1xuXG4gICAgaWYgKF9kb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKVxuICAgIHtcbiAgICAgICAgcmVzZXQoKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgX3dpbmRvd1thZGRFdmVudExpc3RlbmVyXSgnbG9hZCcsIHJlc2V0LCAwKTtcbiAgICB9XG5cbiAgICBleHBvcnRzLnJlc2V0ID0gcmVzZXQ7XG4gICAgd2luZG93LnJlc2V0RHJhZ3Njcm9sbCA9IHJlc2V0O1xufSkpO1xuIiwiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKi9cblxuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG5cdGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuXHRjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcblx0Y3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXHRjcmVhdGVEZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcblxuXHRPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goa2V5ID0+IHtcblx0XHRjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG5cdH0pO1xuXG5cdC8qKlxuXHQqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuXHQqL1xuXG5cdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0LyoqXG5cdCogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuXHQqXG5cdCogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG5cblx0LyoqXG5cdCogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXHRcdGxldCBlbmFibGVPdmVycmlkZSA9IG51bGw7XG5cdFx0bGV0IG5hbWVzcGFjZXNDYWNoZTtcblx0XHRsZXQgZW5hYmxlZENhY2hlO1xuXG5cdFx0ZnVuY3Rpb24gZGVidWcoLi4uYXJncykge1xuXHRcdFx0Ly8gRGlzYWJsZWQ/XG5cdFx0XHRpZiAoIWRlYnVnLmVuYWJsZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWxmID0gZGVidWc7XG5cblx0XHRcdC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cdFx0XHRjb25zdCBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuXHRcdFx0Y29uc3QgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuXHRcdFx0c2VsZi5kaWZmID0gbXM7XG5cdFx0XHRzZWxmLnByZXYgPSBwcmV2VGltZTtcblx0XHRcdHNlbGYuY3VyciA9IGN1cnI7XG5cdFx0XHRwcmV2VGltZSA9IGN1cnI7XG5cblx0XHRcdGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7XG5cblx0XHRcdGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Ly8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cblx0XHRcdFx0YXJncy51bnNoaWZ0KCclTycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuXHRcdFx0bGV0IGluZGV4ID0gMDtcblx0XHRcdGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCAobWF0Y2gsIGZvcm1hdCkgPT4ge1xuXHRcdFx0XHQvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG5cdFx0XHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0XHRcdHJldHVybiAnJSc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0Y29uc3QgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXHRcdFx0XHRpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNvbnN0IHZhbCA9IGFyZ3NbaW5kZXhdO1xuXHRcdFx0XHRcdG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuXHRcdFx0XHRcdC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblx0XHRcdFx0XHRhcmdzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblx0XHRcdGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuXHRcdFx0Y29uc3QgbG9nRm4gPSBzZWxmLmxvZyB8fCBjcmVhdGVEZWJ1Zy5sb2c7XG5cdFx0XHRsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcblx0XHR9XG5cblx0XHRkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cdFx0ZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG5cdFx0ZGVidWcuY29sb3IgPSBjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXHRcdGRlYnVnLmV4dGVuZCA9IGV4dGVuZDtcblx0XHRkZWJ1Zy5kZXN0cm95ID0gY3JlYXRlRGVidWcuZGVzdHJveTsgLy8gWFhYIFRlbXBvcmFyeS4gV2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVidWcsICdlbmFibGVkJywge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQ6ICgpID0+IHtcblx0XHRcdFx0aWYgKGVuYWJsZU92ZXJyaWRlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVuYWJsZU92ZXJyaWRlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChuYW1lc3BhY2VzQ2FjaGUgIT09IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMpIHtcblx0XHRcdFx0XHRuYW1lc3BhY2VzQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzO1xuXHRcdFx0XHRcdGVuYWJsZWRDYWNoZSA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbmFibGVkQ2FjaGU7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiB2ID0+IHtcblx0XHRcdFx0ZW5hYmxlT3ZlcnJpZGUgPSB2O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gRW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcblx0XHRpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWJ1Zztcblx0fVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuXHRcdGNvbnN0IG5ld0RlYnVnID0gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcblx0XHRuZXdEZWJ1Zy5sb2cgPSB0aGlzLmxvZztcblx0XHRyZXR1cm4gbmV3RGVidWc7XG5cdH1cblxuXHQvKipcblx0KiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG5cdCogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcblx0XHRjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuXHRcdGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzO1xuXG5cdFx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0XHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdFx0bGV0IGk7XG5cdFx0Y29uc3Qgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuXHRcdGNvbnN0IGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKCFzcGxpdFtpXSkge1xuXHRcdFx0XHQvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG5cblx0XHRcdGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc2xpY2UoMSkgKyAnJCcpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG5cdCpcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBkaXNhYmxlKCkge1xuXHRcdGNvbnN0IG5hbWVzcGFjZXMgPSBbXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5uYW1lcy5tYXAodG9OYW1lc3BhY2UpLFxuXHRcdFx0Li4uY3JlYXRlRGVidWcuc2tpcHMubWFwKHRvTmFtZXNwYWNlKS5tYXAobmFtZXNwYWNlID0+ICctJyArIG5hbWVzcGFjZSlcblx0XHRdLmpvaW4oJywnKTtcblx0XHRjcmVhdGVEZWJ1Zy5lbmFibGUoJycpO1xuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9XG5cblx0LyoqXG5cdCogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0KiBAcmV0dXJuIHtCb29sZWFufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuXHRcdGlmIChuYW1lW25hbWUubGVuZ3RoIC0gMV0gPT09ICcqJykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0bGV0IGk7XG5cdFx0bGV0IGxlbjtcblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoY3JlYXRlRGVidWcuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQqIENvbnZlcnQgcmVnZXhwIHRvIG5hbWVzcGFjZVxuXHQqXG5cdCogQHBhcmFtIHtSZWdFeHB9IHJlZ3hlcFxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHRvTmFtZXNwYWNlKHJlZ2V4cCkge1xuXHRcdHJldHVybiByZWdleHAudG9TdHJpbmcoKVxuXHRcdFx0LnN1YnN0cmluZygyLCByZWdleHAudG9TdHJpbmcoKS5sZW5ndGggLSAyKVxuXHRcdFx0LnJlcGxhY2UoL1xcLlxcKlxcPyQvLCAnKicpO1xuXHR9XG5cblx0LyoqXG5cdCogQ29lcmNlIGB2YWxgLlxuXHQqXG5cdCogQHBhcmFtIHtNaXhlZH0gdmFsXG5cdCogQHJldHVybiB7TWl4ZWR9XG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcblx0XHRpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWw7XG5cdH1cblxuXHQvKipcblx0KiBYWFggRE8gTk9UIFVTRS4gVGhpcyBpcyBhIHRlbXBvcmFyeSBzdHViIGZ1bmN0aW9uLlxuXHQqIFhYWCBJdCBXSUxMIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblx0Ki9cblx0ZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0XHRjb25zb2xlLndhcm4oJ0luc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC4nKTtcblx0fVxuXG5cdGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuXG5cdHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcbiIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwiaW1wb3J0IHsgdXBkYXRlSGlnaGxpZ2h0LCBzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyLCBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyIH0gZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERpc3BsYXlQYW5lbCBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheVBhbmVsJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuL1pvb20nO1xuaW1wb3J0IHsgVmlld0ludGVyZmFjZSwgRGlzcGxheUNvbnN0cnVjdGFibGUgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcblxuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuLyoqXG4gKiBBIHZpZXcgbW9kdWxlIGZvciBkaXNwbGF5aW5nIGEgc2luZ2xlIHBhZ2Ugb2YgYSBtYW51c2NyaXB0LlxuICovXG5jbGFzcyBTaW5nbGVWaWV3IGltcGxlbWVudHMgVmlld0ludGVyZmFjZSB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgcHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHVwZGF0ZUNhbGxiYWNrczogQXJyYXk8KCkgPT4gdm9pZD47XG4gIHByaXZhdGUgZ3JvdXA6IFNWR1NWR0VsZW1lbnQ7XG4gIHByaXZhdGUgYmc6IFNWR0ltYWdlRWxlbWVudDtcbiAgcHJpdmF0ZSBzdmc6IFNWR1NWR0VsZW1lbnQ7XG4gIHpvb21IYW5kbGVyOiBab29tSGFuZGxlcjtcbiAgcHJpdmF0ZSBkaXNwbGF5UGFuZWw6IERpc3BsYXlQYW5lbDtcbiAgcmVhZG9ubHkgcGFnZVVSSTogc3RyaW5nO1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIFNpbmdsZVZpZXcuXG4gICAqIEBwYXJhbSBpbWFnZSAtIFRoZSBVUkkgdG8gdGhlIGJhY2tncm91bmQgaW1hZ2UgZm9yIHRoZSBwYWdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgcGFuZWw6IERpc3BsYXlDb25zdHJ1Y3RhYmxlLCBpbWFnZTogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzID0gbmV3IEFycmF5KDApO1xuICAgIC8vIEdyb3VwIHdpbGwgY29udGFpbiB0aGUgaW1hZ2UgYW5kIHRoZSByZW5kZXJlZCBTVkdcbiAgICB0aGlzLmdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICB0aGlzLmdyb3VwLmlkID0gJ3N2Z19ncm91cCc7XG4gICAgdGhpcy5ncm91cC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHdpbmRvdy5pbm5lckhlaWdodC50b1N0cmluZygpKTtcbiAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMTAwJScpO1xuXG4gICAgdGhpcy5iZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnaW1hZ2UnKTtcbiAgICB0aGlzLmJnLmlkID0gJ2JnaW1nJztcbiAgICB0aGlzLmJnLmNsYXNzTGlzdC5hZGQoJ2JhY2tncm91bmQnKTtcbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgneCcsICcwJyk7XG4gICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ3knLCAnMCcpO1xuXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBmZXRjaChpbWFnZSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5vaykge1xuICAgICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgJ2hyZWYnLCByZWFkZXIucmVzdWx0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgIGNvbnN0IGJib3ggPSB0aGlzLmJnLmdldEJCb3goKTtcbiAgICAgICAgICBpZiAoIXRoaXMuZ3JvdXAuaGFzQXR0cmlidXRlKCd2aWV3Qm94JykpIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgIElmIHRoZSBTVkcgZG9lcyBub3QgaGF2ZSBhIHZpZXdCb3gsIGxvYWQgdGhlIHByZXZpb3VzIHZpZXdCb3hcbiAgICAgICAgICAgICAgdmFsdWUgZnJvbSBsb2NhbFN0b3JhZ2UuIElmIG5vbmUgaGFzIGJlZW4gc3RvcmVkICh2aWV3Qm94IGlzIG51bGwpLFxuICAgICAgICAgICAgICBzZXQgaXQgdG8gdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGJhY2tncm91bmQgaW1hZ2VcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIE5vdGU6IGFuIFNWRydzIHZpZXdCb3ggZ2l2ZXMgdGhlIFwiYm94XCIgdGhhdCB0aGUgdXNlciBjYW4gc2VlIHRoZSBTVkcgdGhyb3VnaC5cbiAgICAgICAgICAgICAgVGhlIHVzZXIgbWF5IGJlIHpvb21lZCBpbnRvIGEgdmVyeSBzcGVjaWZpYyBzZWN0aW9uIG9mIHRoZSBTVkcsIGluIHdoaWNoIGNhc2UgdGhlXG4gICAgICAgICAgICAgIHZpZXdCb3ggc2hvdWxkIGdpdmUgY29vcmRpbmF0ZXMgb2YgdGhhdCBzcGVjaWZpYyBib3guXG5cbiAgICAgICAgICAgICAgU2VlIG1vcmU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvdmlld0JveFxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCB7IHZpZXdCb3ggfSA9IGdldFNldHRpbmdzKCk7XG4gICAgICAgICAgICBpZiAoIXZpZXdCb3gpXG4gICAgICAgICAgICAgIHZpZXdCb3ggPSAnMCAwICcgKyBiYm94LndpZHRoLnRvU3RyaW5nKCkgKyAnICcgKyBiYm94LmhlaWdodC50b1N0cmluZygpO1xuXG4gICAgICAgICAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIHZpZXdCb3gpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYmxvYigpO1xuICAgICAgfVxuICAgIH0pLnRoZW4oYmxvYiA9PiB7XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICB9KTtcblxuICAgIC8vIEl0IGlzIGJldHRlciBuYW1lZCBzdmcsIHRvIGF2b2lkIGNvbmZ1c2lvbiB3aXRoIHRoZSBhY3R1YWwgTUVJIGZpbGUuXG4gICAgdGhpcy5zdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnL3N2ZycsICdzdmcnKSBhcyBTVkdTVkdFbGVtZW50O1xuICAgIHRoaXMuc3ZnLmlkID0gJ21laV9vdXRwdXQnO1xuICAgIHRoaXMuc3ZnLmNsYXNzTGlzdC5hZGQoJ25lb24tY29udGFpbmVyJywgJ2FjdGl2ZS1wYWdlJyk7XG5cbiAgICB0aGlzLmdyb3VwLmFwcGVuZENoaWxkKHRoaXMuYmcpO1xuICAgIHRoaXMuZ3JvdXAuYXBwZW5kQ2hpbGQodGhpcy5zdmcpO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZ3JvdXApO1xuXG4gICAgdGhpcy56b29tSGFuZGxlciA9IG5ldyBab29tSGFuZGxlcigpO1xuICAgIHRoaXMuZGlzcGxheVBhbmVsID0gbmV3IHBhbmVsKHRoaXMsICduZW9uLWNvbnRhaW5lcicsICdiYWNrZ3JvdW5kJywgdGhpcy56b29tSGFuZGxlcik7XG5cbiAgICB0aGlzLnBhZ2VVUkkgPSBpbWFnZTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIG9uU1ZHTG9hZCAoKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWV3RXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuZGlzcGxheVBhbmVsLnNldERpc3BsYXlMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIFNWRyBiZWluZyBkaXNwbGF5ZWQuXG4gICAqIEBwYXJhbSBzdmcgLSBOZXcgcmVuZGVyZWQgU1ZHIHRvIHVzZS5cbiAgICovXG4gIHVwZGF0ZVNWRyAoc3ZnOiBTVkdTVkdFbGVtZW50KTogdm9pZCB7XG4gICAgdGhpcy5ncm91cC5yZXBsYWNlQ2hpbGQoc3ZnLCB0aGlzLnN2Zyk7XG4gICAgdGhpcy5zdmcgPSBzdmc7XG4gICAgdGhpcy5zdmcuaWQgPSAnbWVpX291dHB1dCc7XG4gICAgdGhpcy5zdmcuY2xhc3NMaXN0LmFkZCgnbmVvbi1jb250YWluZXInLCAnYWN0aXZlLXBhZ2UnKTtcbiAgICBjb25zdCBoZWlnaHQgPSBwYXJzZUludCh0aGlzLnN2Zy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKTtcbiAgICBjb25zdCB3aWR0aCA9IHBhcnNlSW50KHRoaXMuc3ZnLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSk7XG5cbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHdpZHRoLnRvU3RyaW5nKCkpO1xuXG4gICAgY29uc3QgeyB2aWV3Qm94IH0gPSBnZXRTZXR0aW5ncygpO1xuICAgIGlmICghdmlld0JveClcbiAgICAgIHRoaXMuZ3JvdXAuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAnICsgd2lkdGggKyAnICcgKyBoZWlnaHQpO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuZ3JvdXAuc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgdmlld0JveCk7XG5cbiAgICB1cGRhdGVIaWdobGlnaHQoKTtcbiAgICB0aGlzLnJlc2V0VHJhbnNmb3JtYXRpb25zKCk7XG4gICAgdGhpcy51cGRhdGVDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2UgdG8gYSBjZXJ0YWluIHBhZ2VcbiAgICogU2luY2UgdGhlcmUgaXMgb25seSBvbmUgcGFnZSwgdGhpcyBpcyBlc3NlbnRpYWxseSBhIHdyYXBwZXIgZm9yIHVwZGF0ZVNWR1xuICAgKi9cbiAgYXN5bmMgY2hhbmdlUGFnZSAoX3BhZ2U6IG51bWJlciwgX2RlbGF5OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc3ZnID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRQYWdlU1ZHKHRoaXMuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgdGhpcy51cGRhdGVTVkcoc3ZnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBjYWxsYmFjayB0byB0aGUgbGlzdCBvZiB0aG9zZSBiZSBjYWxsZWQgd2hlbiB0aGUgcGFnZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICBhZGRVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBsaXN0IG9mIGNhbGxiYWNrcyBpZiBpdCBpcyBwYXJ0IG9mIHRoZSBsaXN0LlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICByZW1vdmVVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZpbmRJbmRleCgoZWxlbSkgPT4ge1xuICAgICAgcmV0dXJuIGVsZW0gPT09IGNiO1xuICAgIH0pO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSB0cmFuc2Zvcm1hdGlvbnMgdGhhdCBoYXZlIGJlZW4gYXBwbGllZCB0byB0aGUgU1ZHIHVwb24gdXBkYXRlLlxuICAgKi9cbiAgcmVzZXRUcmFuc2Zvcm1hdGlvbnMgKCk6IHZvaWQge1xuICAgIHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyLnJlc3RvcmVUcmFuc2Zvcm1hdGlvbigpO1xuICAgIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIoKTtcbiAgICBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIHplcm8taW5kZXhlZCBudW1iZXIgb2YgdGhlIGN1cnJlbnQgcGFnZS4gVGhpcyB3aWxsIGFsd2F5cyBiZSB6ZXJvLlxuICAgKi9cbiAgZ2V0Q3VycmVudFBhZ2UgKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIFVSSSBvZiB0aGUgcGFnZS5cbiAgICovXG4gIGdldEN1cnJlbnRQYWdlVVJJICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnBhZ2VVUkk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgdmlldyBhbmQgZGlzcGxheSBwYW5lbC5cbiAgICovXG4gIHNldFZpZXdFdmVudEhhbmRsZXJzICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgY2FzZSAnU2hpZnQnOlxuICAgICAgICAgIGQzLnNlbGVjdCgnI3N2Z19ncm91cCcpLm9uKCcuZHJhZycsIG51bGwpO1xuICAgICAgICAgIGQzLnNlbGVjdCgnI3N2Z19ncm91cCcpLmNhbGwoXG4gICAgICAgICAgICBkMy5kcmFnKCkub24oJ3N0YXJ0JywgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIuc3RhcnREcmFnLmJpbmQodGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIpKVxuICAgICAgICAgICAgICAub24oJ2RyYWcnLCB0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlci5kcmFnZ2luZy5iaW5kKHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyKSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVpX291dHB1dCcpLnNldEF0dHJpYnV0ZSgndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICBjYXNlICdTaGlmdCc6XG4gICAgICAgICAgZDMuc2VsZWN0KCcjc3ZnX2dyb3VwJykub24oJy5kcmFnJywgbnVsbCk7XG4gICAgICAgICAgaWYgKHRoaXMubmVvblZpZXcuZ2V0VXNlck1vZGUoKSAhPT0gJ3ZpZXdlcicpIHtcbiAgICAgICAgICAgIHRoaXMubmVvblZpZXcuTmV1bWVFZGl0LnNldFNlbGVjdExpc3RlbmVycygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21laV9vdXRwdXQnKS5zZXRBdHRyaWJ1dGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGQzLnNlbGVjdCgnI2NvbnRhaW5lcicpLm9uKCd0b3VjaHN0YXJ0JywgKCkgPT4ge1xuICAgICAgaWYgKGQzLmV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyLnN0YXJ0RHJhZygpO1xuICAgICAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbigndG91Y2htb3ZlJywgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIuZHJhZ2dpbmcuYmluZCh0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlcikpO1xuICAgICAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbigndG91Y2hlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgZDMuc2VsZWN0KCcjY29udGFpbmVyJykub24oJ3RvdWNobW92ZScsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbignd2hlZWwnLCB0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlci5zY3JvbGxab29tLmJpbmQodGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIpLCBmYWxzZSk7XG4gICAgLy8gVXBkYXRlIGhlaWdodCBvZiBjb250YWluZXIgYmFzZWQgb24gd2luZG93XG4gICAgd2luZG93Lm9ucmVzaXplID0gKCk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgICAgaWYgKG5ld0hlaWdodCA+IE51bWJlcihjb250YWluZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSkpIHtcbiAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgbmV3SGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgQSBodW1hbiByZWFkYWJsZSBuYW1lIGZvciB0aGUgcGFnZS4gVXNlZCBmb3IgZG93bmxvYWRzLlxuICAgKi9cbiAgZ2V0UGFnZU5hbWUgKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubmVvblZpZXcubmFtZTtcbiAgfVxufVxuXG5leHBvcnQgeyBTaW5nbGVWaWV3IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IHNldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbmV4cG9ydCBjbGFzcyBWaWV3Qm94IHtcbiAgLy8gdmllQm94IGF0dHJpYnV0ZSBvZiBhbiBTVkcgdmlld3BvcnQ6XG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvdmlld0JveFxuICBtaW5YOiBudW1iZXI7XG4gIG1pblk6IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG5cbiAgaW1hZ2VIZWlnaHQ6IG51bWJlcjtcbiAgaW1hZ2VXaWR0aDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gaW1hZ2VXaWR0aCAtIFdpZHRoIG9mIHRoZSBjb250YWluZWQgaW1hZ2UuXG4gICAqIEBwYXJhbSBpbWFnZUhlaWdodCAtIEhlaWdodCBvZiB0aGUgY29udGFpbmVkIGltYWdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKGltYWdlV2lkdGg6IG51bWJlciwgaW1hZ2VIZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMubWluWCA9IDA7XG4gICAgdGhpcy5taW5ZID0gMDtcbiAgICB0aGlzLndpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGltYWdlSGVpZ2h0O1xuXG4gICAgdGhpcy5pbWFnZVdpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICB0aGlzLmltYWdlSGVpZ2h0ID0gaW1hZ2VIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHZhbHVlcyBvZiB0aGUgdmlld0JveCBtYW51YWxseS5cbiAgICogQHBhcmFtIG1pblggLSB0b3AgbGVmdCB4LWNvb3JkaW5hdGUgb2YgU1ZHXG4gICAqIEBwYXJhbSBtaW5ZIC0gdG9wIGxlZnQgeS1jb29yZGluYXRlIG9mIFNWR1xuICAgKiBAcGFyYW0gd2lkdGggLSB3aWR0aCBvZiBTVkdcbiAgICogQHBhcmFtIGhlaWdodCAtIGhlaWdodCBvZiBTVkdcbiAgICovXG4gIHNldCAobWluWDogbnVtYmVyLCBtaW5ZOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyBWYWx1ZSBmb3IgdGhlIHZpZXdCb3ggcGFyYW1ldGVyLiAqL1xuICBnZXQgKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubWluWC50b1N0cmluZygpICsgJyAnICsgdGhpcy5taW5ZLnRvU3RyaW5nKCkgKyAnICcgK1xuICAgICAgdGhpcy53aWR0aCArICcgJyArIHRoaXMuaGVpZ2h0O1xuICB9XG5cbiAgLyoqIEBwYXJhbSBrIC0gRmFjdG9yIHRvIHpvb20gdG8uICovXG4gIHpvb21UbyAoazogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qgem9vbUhlaWdodCA9ICh0aGlzLmltYWdlSGVpZ2h0IC8gayk7XG4gICAgY29uc3Qgem9vbVdpZHRoID0gKHRoaXMuaW1hZ2VXaWR0aCAvIGspO1xuXG4gICAgdGhpcy53aWR0aCA9IHpvb21XaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHpvb21IZWlnaHQ7XG4gIH1cblxuICAvKiogQHJldHVybnMgQ3VycmVudCB6b29tIGZhY3Rvci4gKi9cbiAgZ2V0Wm9vbSAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZVdpZHRoIC8gdGhpcy53aWR0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgdmlld3BvcnQuXG4gICAqIEBwYXJhbSB4RGlmZiAtIEFtb3VudCB0byBzaGlmdCBvbiB4LWF4aXMuXG4gICAqIEBwYXJhbSB5RGlmZiAtIEFtb3VudCB0byBzaGlmdCBvbiB5LWF4aXMuXG4gICAqL1xuICB0cmFuc2xhdGUgKHhEaWZmOiBudW1iZXIsIHlEaWZmOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1pblggKz0geERpZmY7XG4gICAgdGhpcy5taW5ZICs9IHlEaWZmO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBab29tSGFuZGxlciB7XG4gIGRyYWdDb29yZGluYXRlczogRE9NUG9pbnQ7XG4gIHZpZXdCb3g6IFZpZXdCb3g7XG4gIG1hdHJpeDogRE9NTWF0cml4O1xuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgem9vbSBhbmQgcGFuIG9mIHRoZSBTVkcgdmlld2JveFxuICAgKi9cbiAgcmVzZXRab29tQW5kUGFuIChyZXNldFNldHRpbmdzID0gdHJ1ZSk6IHZvaWQge1xuICAgIGNvbnN0IGJnaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JnaW1nJykgYXMgSFRNTEltYWdlRWxlbWVudDtcbiAgICB0aGlzLnZpZXdCb3ggPSBuZXcgVmlld0JveChwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpLCBwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKSk7XG5cbiAgICBpZiAocmVzZXRTZXR0aW5ncykge1xuICAgICAgdGhpcy51cGRhdGVTVkdWaWV3Qm94KCk7XG4gICAgICBzZXRTZXR0aW5ncyh7IHpvb206IDEwMCB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGsgLSBGYWN0b3IgdG8gem9vbSB0by5cbiAgICovXG4gIHpvb21UbyAoazogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWV3Qm94KCk7XG4gICAgdGhpcy52aWV3Qm94Lnpvb21UbyhrKTtcbiAgICB0aGlzLnVwZGF0ZVNWR1ZpZXdCb3goKTtcblxuICAgIHNldFNldHRpbmdzKHsgem9vbTogTWF0aC5mbG9vcihrICogMTAwKSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgdGhlIHZpZXcgYm94IGJ5IHJlbGF0aXZlIGNvb3JkaW5hdGVzLlxuICAqIEBwYXJhbSB4RGlmZiAtIEFtb3VudCB0byBzaGlmdCBvbiB4LWF4aXMuXG4gICogQHBhcmFtIHlEaWZmIC0gQW1vdW50IHRvIHNoaWZ0IG9uIHktYXhpcy5cbiAgKi9cbiAgdHJhbnNsYXRlICh4RGlmZjogbnVtYmVyLCB5RGlmZjogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWV3Qm94KCk7XG4gICAgdGhpcy52aWV3Qm94LnRyYW5zbGF0ZSh4RGlmZiwgeURpZmYpO1xuICAgIHRoaXMudXBkYXRlU1ZHVmlld0JveCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgdGhlIHZpZXcgYm94IHRvIGl0cyBwb3NpdGlvbiBiZWZvcmUgdGhlIGVkaXRvciBhY3Rpb24uXG4gICAqL1xuICByZXN0b3JlVHJhbnNmb3JtYXRpb24gKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZpZXdCb3ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5yZXNldFpvb21BbmRQYW4oZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwZGF0ZVNWR1ZpZXdCb3goKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2aWV3IGJveCBvZiB0aGUgU1ZHLlxuICAgKi9cbiAgc2V0Vmlld0JveCAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmlld0JveCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBiZ2ltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ2ltZycpIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgICB0aGlzLnZpZXdCb3ggPSBuZXcgVmlld0JveChwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpLCBwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKSk7XG4gICAgfVxuICAgIGNvbnN0IHJhd1ZpZXdCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnX2dyb3VwJylcbiAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKVxuICAgICAgLnNwbGl0KCcgJyk7XG4gICAgdGhpcy52aWV3Qm94LnNldChcbiAgICAgIHBhcnNlSW50KHJhd1ZpZXdCb3hbMF0pLFxuICAgICAgcGFyc2VJbnQocmF3Vmlld0JveFsxXSksXG4gICAgICBwYXJzZUludChyYXdWaWV3Qm94WzJdKSxcbiAgICAgIHBhcnNlSW50KHJhd1ZpZXdCb3hbM10pXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHZpZXdCb3ggYXR0cmlidXRlIG9mIHN2Z19ncm91cFxuICAgKi9cbiAgdXBkYXRlU1ZHVmlld0JveCAoKTogdm9pZCB7XG4gICAgY29uc3Qgdmlld0JveFN0cmluZyA9IHRoaXMudmlld0JveC5nZXQoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnX2dyb3VwJykuc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgdmlld0JveFN0cmluZyk7XG4gICAgc2V0U2V0dGluZ3MoeyB2aWV3Qm94OiB2aWV3Qm94U3RyaW5nIH0pO1xuICB9XG5cbiAgc3RhcnREcmFnICgpOiB2b2lkIHtcbiAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdmdfZ3JvdXAnKSBhcyB1bmtub3duIGFzIFNWR1NWR0VsZW1lbnQ7XG4gICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMgPSBncm91cC5jcmVhdGVTVkdQb2ludCgpO1xuICAgIGlmIChkMy5ldmVudC50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgIC8vIElmIGRyYWcgaXMgdHJpZ2dlcmVkIGJ5IGEgdG91Y2ggZXZlbnRcbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnggPSBkMy5ldmVudC50b3VjaGVzWzBdLnNjcmVlblg7XG4gICAgICB0aGlzLmRyYWdDb29yZGluYXRlcy55ID0gZDMuZXZlbnQudG91Y2hlc1swXS5zY3JlZW5ZO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UgdHJpZ2dlcmVkIGJ5IGEgbW91c2UgY2xpY2tcbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnggPSBkMy5ldmVudC54O1xuICAgICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50Lnk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXRyaXggPSBncm91cC5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCk7XG4gIH1cblxuICBkcmFnZ2luZyAoKTogdm9pZCB7XG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnX2dyb3VwJykgYXMgdW5rbm93biBhcyBTVkdTVkdFbGVtZW50O1xuICAgIGNvbnN0IG5ld0Nvb3JkaW5hdGVzID0gZ3JvdXAuY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICAvLyBTYW1lIGtpbmQgb2YgY2hlY2tpbmcgYXMgaW4gc3RhcnREcmFnXG4gICAgaWYgKGQzLmV2ZW50LnR5cGUgPT09ICd0b3VjaG1vdmUnKSB7XG4gICAgICBuZXdDb29yZGluYXRlcy54ID0gZDMuZXZlbnQudG91Y2hlc1swXS5zY3JlZW5YO1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50LnRvdWNoZXNbMF0uc2NyZWVuWTtcbiAgICB9IGVsc2UgaWYgKGQzLmV2ZW50LnR5cGUgPT09ICd3aGVlbCcgJiYgZDMuZXZlbnQuc2hpZnRLZXkgPT09IGZhbHNlKSB7XG4gICAgICBpZiAodGhpcy5tYXRyaXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm1hdHJpeCA9IGdyb3VwLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmRyYWdDb29yZGluYXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzID0gZ3JvdXAuY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnggPSBkMy5ldmVudC54O1xuICAgICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50Lnk7XG4gICAgICBuZXdDb29yZGluYXRlcy54ID0gdGhpcy5kcmFnQ29vcmRpbmF0ZXMueCAtIGQzLmV2ZW50LmRlbHRhWDtcbiAgICAgIG5ld0Nvb3JkaW5hdGVzLnkgPSB0aGlzLmRyYWdDb29yZGluYXRlcy55IC0gZDMuZXZlbnQuZGVsdGFZO1xuICAgICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueCA9IGQzLmV2ZW50Lng7XG4gICAgICBuZXdDb29yZGluYXRlcy55ID0gZDMuZXZlbnQueTtcbiAgICB9XG4gICAgY29uc3QgbmV3VHJhbnNmb3JtID0gbmV3Q29vcmRpbmF0ZXMubWF0cml4VHJhbnNmb3JtKHRoaXMubWF0cml4KTtcbiAgICBjb25zdCBkcmFnVHJhbnNmb3JtID0gdGhpcy5kcmFnQ29vcmRpbmF0ZXMubWF0cml4VHJhbnNmb3JtKHRoaXMubWF0cml4KTtcbiAgICB0aGlzLnRyYW5zbGF0ZSgtbmV3VHJhbnNmb3JtLnggKyBkcmFnVHJhbnNmb3JtLngsIC1uZXdUcmFuc2Zvcm0ueSArIGRyYWdUcmFuc2Zvcm0ueSk7XG4gICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMgPSBuZXdDb29yZGluYXRlcztcbiAgfVxuXG4gIHNjcm9sbFpvb20gKCk6IHZvaWQge1xuICAgIGlmIChkMy5ldmVudC50eXBlICE9PSAnd2hlZWwnKSByZXR1cm47XG4gICAgaWYgKCFkMy5ldmVudC5zaGlmdEtleSkge1xuICAgICAgdGhpcy5kcmFnZ2luZygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem9vbVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgdGhpcy5zZXRWaWV3Qm94KCk7XG4gICAgY29uc3QgayA9IHRoaXMudmlld0JveC5nZXRab29tKCk7XG4gICAgbGV0IG5ld0sgPSBrIC0gZDMuZXZlbnQuZGVsdGFYIC8gMTAwO1xuICAgIGlmIChuZXdLIDwgcGFyc2VJbnQoc2xpZGVyLmdldEF0dHJpYnV0ZSgnbWluJykpIC8gMTAwKSBuZXdLID0gMC4yNTtcbiAgICBpZiAobmV3SyA+IHBhcnNlSW50KHNsaWRlci5nZXRBdHRyaWJ1dGUoJ21heCcpKSAvIDEwMCkgbmV3SyA9IDQ7XG4gICAgdGhpcy56b29tVG8obmV3Syk7XG5cbiAgICAvLyBVcGRhdGUgem9vbSBzbGlkZXJcbiAgICBzbGlkZXIudmFsdWUgPSAobmV3SyAqIDEwMCkudG9TdHJpbmcoKTtcbiAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pvb21PdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudCkudmFsdWUgPSBTdHJpbmcoTWF0aC5yb3VuZChuZXdLICogMTAwKSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgWm9vbUhhbmRsZXIgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgYmluZEluc2VydFRhYnMsIGluaXRJbnNlcnRFZGl0Q29udHJvbHMsIGluaXRTZWxlY3Rpb25CdXR0b25zIH0gZnJvbSAnLi9Db250cm9scyc7XG5pbXBvcnQgKiBhcyBTZWxlY3QgZnJvbSAnLi4vdXRpbHMvU2VsZWN0JztcbmltcG9ydCBJbnNlcnRIYW5kbGVyIGZyb20gJy4vSW5zZXJ0SGFuZGxlcic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuL1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0IHsgc2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMgfSBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuLi91dGlscy9EcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBOZXVtZUVkaXRJbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0IHsgdW5kb1JlZG9QYW5lbCB9IGZyb20gJy4uL3V0aWxzL0VkaXRDb250ZW50cyc7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgVXNlclR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbmNsYXNzIERpdmFFZGl0IGltcGxlbWVudHMgTmV1bWVFZGl0SW50ZXJmYWNlIHtcbiAgbmVvblZpZXc6IE5lb25WaWV3O1xuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXI7XG4gIGluc2VydEhhbmRsZXI6IEluc2VydEhhbmRsZXI7XG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5pbml0RWRpdE1vZGUoKTtcbiAgfVxuXG4gIGluaXRFZGl0TW9kZSAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9jb250cm9scycpLmlubmVySFRNTCArPSBDb250ZW50cy5pbnNlcnRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0X2NvbnRyb2xzJykuaW5uZXJIVE1MICs9IENvbnRlbnRzLmVkaXRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvUmVkb19jb250cm9scycpLmlubmVySFRNTCA9IHVuZG9SZWRvUGFuZWw7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcuYWN0aXZlLXBhZ2UgPiBzdmcnKTtcbiAgICB0aGlzLmluc2VydEhhbmRsZXIgPSBuZXcgSW5zZXJ0SGFuZGxlcih0aGlzLm5lb25WaWV3LCAnLmFjdGl2ZS1wYWdlID4gc3ZnJyk7XG4gICAgYmluZEluc2VydFRhYnModGhpcy5pbnNlcnRIYW5kbGVyKTtcbiAgICBjb25zdCB7IGluc2VydFRhYiB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnNlcnRUYWIpLmNsaWNrKCk7XG4gICAgU2VsZWN0LnNldFNlbGVjdEhlbHBlck9iamVjdHModGhpcy5uZW9uVmlldywgdGhpcy5kcmFnSGFuZGxlcik7XG4gICAgdGhpcy5zZXRTZWxlY3RMaXN0ZW5lcnMoKTtcbiAgICBTZWxlY3RPcHRpb25zLmluaXROZW9uVmlldyh0aGlzLm5lb25WaWV3KTtcbiAgICBpbml0SW5zZXJ0RWRpdENvbnRyb2xzKCk7XG4gICAgU2VsZWN0LnNldFNlbGVjdFN0cm9rZVdpZHRoKDEpO1xuICAgIGluaXRTZWxlY3Rpb25CdXR0b25zKCk7XG4gICAgc2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMoKTtcbiAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy5zZXRTZWxlY3RMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB1c2VyIG1vZGUgdGhhdCBOZW9uIGlzIGluLiBFaXRoZXIgaW5zZXJ0LCBlZGl0LCBvciB2aWV3ZXIuXG4gICAqIEByZXR1cm5zIHtVc2VyVHlwZX1cbiAgICovXG4gIGdldFVzZXJNb2RlICgpOiBVc2VyVHlwZSB7XG4gICAgY29uc3QgeyB1c2VyTW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICByZXR1cm4gdXNlck1vZGU7XG4gIH1cblxuICBzZXRTZWxlY3RMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICAgIFNlbGVjdC5jbGlja1NlbGVjdCgnLmFjdGl2ZS1wYWdlID4gc3ZnID4gc3ZnLCAuYWN0aXZlLXBhZ2UgPiBzdmcgPiBzdmcgdXNlLCAuYWN0aXZlLXBhZ2UgPiBzdmcgPiBzdmcgcmVjdCcpO1xuICAgIFNlbGVjdC5kcmFnU2VsZWN0KCcuYWN0aXZlLXBhZ2Ugc3ZnJyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgRGl2YUVkaXQgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgYmluZEluc2VydFRhYnMsIGluaXRJbnNlcnRFZGl0Q29udHJvbHMsIGluaXRTZWxlY3Rpb25CdXR0b25zIH0gZnJvbSAnLi9Db250cm9scyc7XG5pbXBvcnQgeyBzZXRIaWdobGlnaHRPcHRpb24gfSBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCB7IGluaXRVbmRvUmVkb1BhbmVsIH0gZnJvbSAnLi4vdXRpbHMvRWRpdENvbnRyb2xzJztcbmltcG9ydCAqIGFzIFNlbGVjdCBmcm9tICcuLi91dGlscy9TZWxlY3QnO1xuaW1wb3J0IEluc2VydEhhbmRsZXIgZnJvbSAnLi9JbnNlcnRIYW5kbGVyJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4vU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi4vdXRpbHMvRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgTmV1bWVFZGl0SW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgKiBhcyBDb250ZW50cyBmcm9tICcuL0NvbnRlbnRzJztcbmltcG9ydCB7IHVuZG9SZWRvUGFuZWwgfSBmcm9tICcuLi91dGlscy9FZGl0Q29udGVudHMnO1xuaW1wb3J0IHsgaW5pdE5hdmJhciB9IGZyb20gJy4uL3V0aWxzL0VkaXRDb250cm9scyc7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgVXNlclR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogQW4gRWRpdCBNb2R1bGUgZm9yIGEgc2luZ2xlIHBhZ2Ugb2YgYSBtYW51c2NyaXB0LlxuICogV29ya3Mgd2l0aCB0aGUgU2luZ2xlVmlldyBtb2R1bGUuXG4gKi9cbmNsYXNzIFNpbmdsZUVkaXRNb2RlIGltcGxlbWVudHMgTmV1bWVFZGl0SW50ZXJmYWNlIHtcbiAgbmVvblZpZXc6IE5lb25WaWV3O1xuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXI7XG4gIGluc2VydEhhbmRsZXI6IEluc2VydEhhbmRsZXI7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYW4gRWRpdE1vZGUgb2JqZWN0LlxuICAgKiBAcGFyYW0ge05lb25WaWV3fSBuZW9uVmlldyAtIFRoZSBOZW9uVmlldyBwYXJlbnQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuaW5pdEVkaXRNb2RlKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBFZGl0IG1vZGUgKGRlZmF1bHQpLlxuICAgKi9cbiAgaW5pdEVkaXRNb2RlICgpOiB2b2lkIHtcblxuICAgIGluaXROYXZiYXIodGhpcy5uZW9uVmlldyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9jb250cm9scycpLmlubmVySFRNTCArPSBDb250ZW50cy5pbnNlcnRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0X2NvbnRyb2xzJykuaW5uZXJIVE1MICs9IENvbnRlbnRzLmVkaXRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvUmVkb19jb250cm9scycpLmlubmVySFRNTCA9IHVuZG9SZWRvUGFuZWw7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcjc3ZnX2dyb3VwJyk7XG4gICAgdGhpcy5pbnNlcnRIYW5kbGVyID0gbmV3IEluc2VydEhhbmRsZXIodGhpcy5uZW9uVmlldywgJyNzdmdfZ3JvdXAnKTtcbiAgICBiaW5kSW5zZXJ0VGFicyh0aGlzLmluc2VydEhhbmRsZXIpO1xuICAgIGNvbnN0IHsgaW5zZXJ0VGFiIH0gPSBnZXRTZXR0aW5ncygpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluc2VydFRhYikuY2xpY2soKTtcbiAgICBTZWxlY3Quc2V0U2VsZWN0SGVscGVyT2JqZWN0cyh0aGlzLm5lb25WaWV3LCB0aGlzLmRyYWdIYW5kbGVyKTtcbiAgICB0aGlzLnNldFNlbGVjdExpc3RlbmVycygpO1xuXG4gICAgU2VsZWN0T3B0aW9ucy5pbml0TmVvblZpZXcodGhpcy5uZW9uVmlldyk7XG4gICAgaW5pdEluc2VydEVkaXRDb250cm9scygpO1xuICAgIGluaXRTZWxlY3Rpb25CdXR0b25zKCk7XG4gICAgaW5pdFVuZG9SZWRvUGFuZWwodGhpcy5uZW9uVmlldyk7XG4gICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdzZWxlY3Rpb24nKTtcbiAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy5zZXRTZWxlY3RMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB1c2VyIG1vZGUgdGhhdCBOZW9uIGlzIGluLiBFaXRoZXIgaW5zZXJ0LCBlZGl0LCBvciB2aWV3ZXIuXG4gICAqIEByZXR1cm5zIHtVc2VyVHlwZX1cbiAgICovXG4gIGdldFVzZXJNb2RlICgpOiBVc2VyVHlwZSB7XG4gICAgY29uc3QgeyB1c2VyTW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICByZXR1cm4gdXNlck1vZGU7XG4gIH1cblxuICBzZXRTZWxlY3RMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICAgIFNlbGVjdC5jbGlja1NlbGVjdCgnI3N2Z19ncm91cCwgI3N2Z19ncm91cCB1c2UsICNzdmdfZ3JvdXAgcmVjdCcpO1xuICAgIFNlbGVjdC5kcmFnU2VsZWN0KCcjc3ZnX2dyb3VwJyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2luZ2xlRWRpdE1vZGUgYXMgZGVmYXVsdCB9O1xuIiwiLyoqIEBtb2R1bGUgSW5mb01vZHVsZSAqL1xuXG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBJbmZvSW50ZXJmYWNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IEF0dHJpYnV0ZXMsIENsZWZBdHRyaWJ1dGVzIH0gZnJvbSAnLi9UeXBlcyc7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncywgc2V0U2V0dGluZ3MgfSBmcm9tICcuL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgdXBkYXRlRGlzcGxheUFsbEJ0biB9IGZyb20gJy4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5cbi8qKlxuICogTWFwIG9mIGNvbnRvdXJzIHRvIG5ldW1lIG5hbWVzLlxuICovXG5jb25zdCBuZXVtZUdyb3VwcyA9IG5ldyBNYXAoXG4gIFtbJycsICdQdW5jdHVtJ10sIFsndScsICdQZXMnXSwgWydkJywgJ0NsaXZpcyddLCBbJ3V1JywgJ1NjYW5kaWN1cyddLCBbJ3VkJywgJ1RvcmN1bHVzJ10sIFsnZHUnLCAnUG9ycmVjdHVzJ10sIFsncycsICdEaXN0cm9waGEnXSwgWydzcycsICdUcmlzdG9waGEnXSxcbiAgICBbJ3NkJywgJ1ByZXNzdXMnXSwgWydkZCcsICdDbGltYWN1cyddLCBbJ2RkdScsICdDbGltYWN1c1Jlc3VwaW51cyddLCBbJ3VkdScsICdUb3JjdWx1c1Jlc3VwaW51cyddLCBbJ2R1ZCcsICdQb3JyZWN0dXNGbGV4dXMnXSxcbiAgICBbJ3VkZCcsICdQZXNTdWJwdW5jdGlzJ10sIFsndXVkJywgJ1NjYW5kaWN1c0ZsZXh1cyddLCBbJ3V1ZGQnLCAnU2NhbmRpY3VzU3VicHVuY3RpcyddLCBbJ2R1ZGQnLCAnUG9ycmVjdHVzU3VicHVuY3RpcyddXVxuKTtcblxuZnVuY3Rpb24gc3RhcnRJbmZvVmlzaWJpbGl0eSAoKTogdm9pZCB7XG4gIGNvbnN0IGVsZW1lbnRJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VsZW1lbnRfaW5mbycpO1xuICBlbGVtZW50SW5mby5pbm5lckhUTUwgPVxuICAgIGA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtaGVhZGVyXCI+RWxlbWVudCBJbmZvPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtYm9keVwiPjxpPkhvdmVyIG92ZXIgYW55IGVsZW1lbnQgdG8gc2VlIGl0cyBtZXRhZGF0YTwvaT48L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWxlbWVudF9pbmZvJykuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OiBub25lJyk7XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSB2aXNpYmlsaXR5IG9mIGluZm9Cb3hcbiAqL1xuZnVuY3Rpb24gdXBkYXRlSW5mb1Zpc2liaWxpdHkgKCk6IHZvaWQge1xuICBjb25zdCBlbGVtZW50SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbGVtZW50X2luZm8nKTtcbiAgY29uc3QgZGlzcGxheUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBcbiAgLy8gc2F2ZSBzZXR0aW5nIHRvIGxvY2FsU3RvcmFnZVxuICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlJbmZvOiBkaXNwbGF5SW5mby5jaGVja2VkIH0pO1xuXG4gIGlmIChkaXNwbGF5SW5mby5jaGVja2VkKSB7XG4gICAgZWxlbWVudEluZm8uc2V0QXR0cmlidXRlKCdzdHlsZScsICcnKTtcbiAgICAvLyBzY3JvbGwgbmV1bWUgaW5mbyBpbnRvIHZpZXdcbiAgICAvL2VsZW1lbnRJbmZvLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnRJbmZvLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogbm9uZScpO1xuICB9XG4gIHVwZGF0ZURpc3BsYXlBbGxCdG4oKTtcbn1cblxuLyoqXG4gKiBMb2FkIGRpc3BsYXlJbmZvIHNldHRpbmdzIGZyb20gbG9jYWxTdG9yYWdlXG4gKi9cbmZ1bmN0aW9uIGxvYWRTZXR0aW5ncyAoKTogdm9pZCB7XG4gIGNvbnN0IHsgZGlzcGxheUluZm8gfSA9IGdldFNldHRpbmdzKCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNkaXNwbGF5SW5mbycpLmNoZWNrZWQgPSBkaXNwbGF5SW5mbztcbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gaW5mbyB2aXNpYmlsaXR5IGNoZWNrYm94LlxuICovXG5mdW5jdGlvbiBzZXRJbmZvQ29udHJvbHMgKCk6IHZvaWQge1xuICBzdGFydEluZm9WaXNpYmlsaXR5KCk7XG4gIGxvYWRTZXR0aW5ncygpO1xuICB1cGRhdGVJbmZvVmlzaWJpbGl0eSgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVwZGF0ZUluZm9WaXNpYmlsaXR5KTtcbn1cblxuLyoqXG4gKiBDbGFzcyB0aGF0IG1hbmFnZXMgZ2V0dGluZyBpbmZvcm1hdGlvbiBmb3IgZWxlbWVudHMgaW4gTmVvbiBmcm9tIFZlcm92aW8uXG4gKi9cbmNsYXNzIEluZm9Nb2R1bGUgaW1wbGVtZW50cyBJbmZvSW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBuZW9uVmlldzogTmVvblZpZXc7XG4gIGlzSG92ZXJpbmdDaGlsZDogYm9vbGVhbjtcblxuICAvKipcbiAgICogQSBjb25zdHJ1Y3RvciBmb3IgYW4gSW5mb01vZHVsZS5cbiAgICogQHBhcmFtIHtOZW9uVmlld30gbmVvblZpZXcgLSBUaGUgTmVvblZpZXcgcGFyZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICAvLyBBZGQgaW5mbyBib3ggZW5hYmxlL2Rpc2FibGUgY2hlY2sgYm94XG4gICAgY29uc3QgY2hlY2tib3hlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LXNpbmdsZS1jb250YWluZXInKTtcbiAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgbGFiZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtY29udGFpbmVyJywgJ3NpZGUtcGFuZWwtYnRuJyk7XG4gICAgbGFiZWwudGV4dENvbnRlbnQgPSAnSW5mbyc7XG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0LmlkID0gJ2Rpc3BsYXlJbmZvJztcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgIGlucHV0LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIGlucHV0LmNoZWNrZWQgPSBmYWxzZTtcbiAgICBsYWJlbC5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgY2hlY2tib3hlc0NvbnRhaW5lci5wcmVwZW5kKGxhYmVsKTtcblxuICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLnJlc2V0SW5mb0xpc3RlbmVycy5iaW5kKHRoaXMpKTtcbiAgICBzZXRJbmZvQ29udHJvbHMoKTtcbiAgICB0aGlzLnJlc2V0SW5mb0xpc3RlbmVycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBsaXN0ZW5lcnMgZm9yIHRoZSBJbmZvTW9kdWxlLlxuICAgKiBUcmlnZ2VyIGFjdGlvbiBvbiBtb3VzZW92ZXIgb2Ygc3BlY2lmaWMgbXVzaWNhbCBlbGVtZW50IGNsYXNzZXMuXG4gICAqL1xuICBpbmZvTGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlLXBhZ2UnKVswXVxuICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lLC5jdXN0b3MsLmNsZWYsLmFjY2lkLC5kaXZMaW5lLC5zdGFmZicpXG4gICAgICAgIC5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIW5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB0aGlzLmlzSG92ZXJpbmdDaGlsZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUluZm8oZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlLXBhZ2UnKVswXVxuICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lLC5jdXN0b3MsLmNsZWYsLmFjY2lkLC5kaXZMaW5lJylcbiAgICAgICAgLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc0hvdmVyaW5nQ2hpbGQgPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIGxpc3RlbmVycyBmb3IgdGhlIEluZm9Nb2R1bGUuXG4gICAqL1xuICBzdG9wTGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUsLmN1c3RvcywuY2xlZiwuYWNjaWQsLmRpdkxpbmUsLnN0YWZmJykuZm9yRWFjaChub2RlID0+IHtcbiAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy51cGRhdGVJbmZvLmJpbmQodGhpcykpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZSwgLmN1c3RvcywgLmNsZWYsIC5hY2NpZCwgLmRpdkxpbmUnKS5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmlzSG92ZXJpbmdDaGlsZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdGFydCBsaXN0ZW5lcnMgZm9yIHRoZSBJbmZvTW9kdWxlLlxuICAgKi9cbiAgcmVzZXRJbmZvTGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmluZm9MaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdXBkYXRlZCBpbmZvIGZvciB0aGUgY2FsbGluZyBlbGVtZW50IGJhc2VkIG9uIGl0cyBlbGVtZW50IHR5cGUuXG4gICAqIE1ha2VzIGNhbGxzIHRvIE5lb25Db3JlIHRvIGdldCB0aGUgaW5mb3JtYXRpb24gbmVjZXNzYXJ5LlxuICAgKi9cbiAgYXN5bmMgdXBkYXRlSW5mbyAoZXZlbnQ6IE1vdXNlRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gRm9yIG5vdywgc2luY2UgQ2xlZnMgZG8gbm90IGhhdmUgdGhlaXIgb3duIGVsZW1lbnQgdGFnIGluIG1laTQsIHRoZXJlIGlzIG5vdCBhIHdheSB0byBzZWxlY3QgdGhlIDxnPiBlbGVtZW50XG4gIC8vIFNvIHdlIHdpbGwgc2ltcGx5IHJldHVybiBpZiBJRCBkb2VzIG5vdCBleGlzdCBmb3Igbm93XG4gICAgY29uc3QgaWQgPSAoZXZlbnQuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQ7XG4gICAgaWYgKGlkID09PSAnJykge1xuICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWxlbWVudF9pbmZvJykuY2hpbGRyZW4pLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICBjaGlsZC5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ05vIGlkIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgY29uc3QgY2xhc3NSZSA9IC9uZXVtZXxjbGVmfGN1c3Rvc3xzdGFmZnxhY2NpZHxkaXZMaW5lLztcbiAgICBjb25zdCBlbGVtZW50Q2xhc3MgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKS5tYXRjaChjbGFzc1JlKVswXTtcbiAgICBsZXQgYm9keSA9ICcnO1xuICAgIGxldCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzO1xuXG4gICAgLy8gR2V0cyB0aGUgcGl0Y2hlcyBkZXBlbmRpbmcgb24gZWxlbWVudCB0eXBlIGFuZFxuICAgIHN3aXRjaCAoZWxlbWVudENsYXNzKSB7XG4gICAgICBjYXNlICduZXVtZSc6IHtcbiAgICAgICAgLy8gU2VsZWN0IG5ldW1lIGNvbXBvbmVudHMgb2Ygc2VsZWN0ZWQgbmV1bWVcbiAgICAgICAgY29uc3QgbmNzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMnKSBhcyBOb2RlTGlzdE9mPFNWR0dyYXBoaWNzRWxlbWVudD47XG4gICAgICAgIGlmIChuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgYXR0cjogQXR0cmlidXRlcyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmNzWzBdLmlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgICAgaWYgKGF0dHIuY3VydmUgPT09ICdhJyB8fCBhdHRyLmN1cnZlID09PSAnYycpIHtcbiAgICAgICAgICAgIGxldCBwaXRjaGVzID0gYXdhaXQgdGhpcy5nZXRQaXRjaGVzKG5jcyk7XG5cbiAgICAgICAgICAgIHBpdGNoZXMgPSBwaXRjaGVzLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYm9keSA9ICdTaGFwZTogTGlxdWVzY2VudCcgKyAnXFxyXFxuJyArXG4gICAgICAgICAgICAgICAgICAgICdQaXRjaChlcyk6ICcgKyBwaXRjaGVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvbnRvdXIgPSBhd2FpdCB0aGlzLmdldENvbnRvdXIobmNzKTtcbiAgICAgICAgaWYgKG5jcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjb25zdCBhdHRyOiBBdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihuY3NbMF0uaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICAgICAgICBpZihhdHRyLnRpbHQgPT09ICdzJykge1xuICAgICAgICAgICAgbGV0IHBpdGNoZXMgPSBhd2FpdCB0aGlzLmdldFBpdGNoZXMobmNzKTtcblxuICAgICAgICAgICAgcGl0Y2hlcyA9IHBpdGNoZXMudHJpbSgpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBib2R5ID0gJ1NoYXBlOiBWaXJnYSBcXHJcXG4nICArXG4gICAgICAgICAgICAgICAgICAgICdQaXRjaChlcyk6ICcgKyBwaXRjaGVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYoYXR0ci50aWx0ID09PSAnbicpe1xuICAgICAgICAgICAgbGV0IHBpdGNoZXMgPSBhd2FpdCB0aGlzLmdldFBpdGNoZXMobmNzKTtcblxuICAgICAgICAgICAgcGl0Y2hlcyA9IHBpdGNoZXMudHJpbSgpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBib2R5ID0gJ1NoYXBlOiBSZXZlcnNlZCBWaXJnYSBcXHJcXG4nICArXG4gICAgICAgICAgICAgICAgICAgICdQaXRjaChlcyk6ICcgKyBwaXRjaGVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250b3VyID09PSAnQ2xpdmlzJykge1xuICAgICAgICAgIGNvbnN0IGF0dHI6IEF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKG5jc1swXS5pZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgICAgIGlmIChhdHRyLmxpZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnRvdXIgPSAnTGlnYXR1cmUnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgcGl0Y2hlcyA9IGF3YWl0IHRoaXMuZ2V0UGl0Y2hlcyhuY3MpO1xuXG4gICAgICAgIHBpdGNoZXMgPSBwaXRjaGVzLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBib2R5ID0gJ1NoYXBlOiAnICsgKGNvbnRvdXIgPT09IHVuZGVmaW5lZCA/ICdDb21wb3VuZCcgOiBjb250b3VyKSArICdcXHJcXG4nICtcbiAgICAgICAgICAgICAgICAnUGl0Y2goZXMpOiAnICsgcGl0Y2hlcztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjdXN0b3MnOiB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKGlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgIGJvZHkgKz0gJ1BpdGNoOiAnICsgKGF0dHJpYnV0ZXNbJ3BuYW1lJ10pLnRvVXBwZXJDYXNlKCkgKyBhdHRyaWJ1dGVzWydvY3QnXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdhY2NpZCc6IHtcbiAgICAgICAgYXR0cmlidXRlcyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIoaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICAgICAgbGV0IHR5cGUgPSAnJztcbiAgICAgICAgaWYgKChhdHRyaWJ1dGVzWydhY2NpZCddKS50b1VwcGVyQ2FzZSgpID09ICdGJyl7XG4gICAgICAgICAgdHlwZSA9ICdGbGF0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKChhdHRyaWJ1dGVzWydhY2NpZCddKS50b1VwcGVyQ2FzZSgpID09ICdOJyl7XG4gICAgICAgICAgdHlwZSA9ICdOYXR1cmFsJztcbiAgICAgICAgfVxuICAgICAgICBib2R5ICs9ICdBY2NpZCBUeXBlOiAnICsgdHlwZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjbGVmJzoge1xuICAgICAgICBjb25zdCBhdHRyID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihpZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpIGFzIENsZWZBdHRyaWJ1dGVzO1xuXG4gICAgICAgIC8vIElmIGNsZWYgaGFzIGJlZW4gZGlzcGxhY2VkLCBmb3JtYXQgYW5kIHNob3cgdGhlIGRpc3BsYWNlbWVudCBhc1xuICAgICAgICAvLyBudW1iZXIgb2Ygb2N0YXZlcyBub3QgbnVtYmVyIG9mIGZ1bGwgc3RlcHNcbiAgICAgICAgaWYgKGF0dHJbJ2Rpcy5wbGFjZSddICYmIGF0dHIuZGlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBDb21iaW5lIGFuZCBmb3JtYXQgYGRpcy5wbGFjZWAgYW5kIGBkaXNgOlxuICAgICAgICAgIC8vIEUuZy4sIGZvcm1hdCgnYWJvdmUnLCA4KSA9PiAnKzEnXG4gICAgICAgICAgLy8gRS5nLiwgZm9ybWF0KCdiZWxvdycsIDIyKSA9PiAnLTIyJ1xuICAgICAgICAgIGNvbnN0IGZvcm1hdCA9IChkaXNwbGFjZTogc3RyaW5nLCBkaXM6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGlyID0gZGlzcGxhY2UgPT09ICdhYm92ZScgPyAnKycgOiAnLSc7XG4gICAgICAgICAgICBjb25zdCBvY3RhdmUgPSBTdHJpbmcoTWF0aC5mbG9vcihOdW1iZXIoZGlzKSAvIDcpKTtcbiAgICAgICAgICAgIHJldHVybiBkaXIgKyBvY3RhdmU7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGJvZHkgKz0gJ09jdGF2ZSBEaXNwbGFjZW1lbnQ6ICcgKyBmb3JtYXQoYXR0clsnZGlzLnBsYWNlJ10sIGF0dHIuZGlzKSArICdcXHJcXG4nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJvZHkgKz0gJ09jdGF2ZSBEaXNwbGFjZW1lbnQ6IE5vbmVcXHJcXG4nO1xuICAgICAgICB9XG5cbiAgICAgICAgYm9keSArPSAnU2hhcGU6ICcgKyBhdHRyLnNoYXBlICsgJ1xcclxcbicgKyAnTGluZTogJyArIGF0dHIubGluZTtcblxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2RpdkxpbmUnOiB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKGlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgIGJvZHkgKz0gJ0RpdkxpbmUgVHlwZTogJyArIGF0dHJpYnV0ZXNbJ2Zvcm0nXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdzdGFmZic6IHtcbiAgICAgICAgaWYgKHRoaXMuaXNIb3ZlcmluZ0NoaWxkKSByZXR1cm47XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKGlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzWyd0eXBlJ10pIGJvZHkgKz0gJ0NvbHVtbjogJyArIGF0dHJpYnV0ZXNbJ3R5cGUnXS5yZXBsYWNlKC9eY29sdW1uLywgJycpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgYm9keSArPSAnbm90aGluZyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBib2R5ID0gYEVsZW1lbnQgVHlwZTogJHtlbGVtZW50Q2xhc3MuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBlbGVtZW50Q2xhc3Muc2xpY2UoMSl9XFxuJHtib2R5fWA7XG4gICAgdGhpcy51cGRhdGVJbmZvTW9kdWxlKGJvZHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaW5kaXZpZHVhbCBwaXRjaGVzIG9mIGEgbmV1bWUuXG4gICAqIEBwYXJhbSBuY3MgLSBOZXVtZSBjb21wb25lbnRzIGluIHRoZSBuZXVtZS5cbiAgICogQHJldHVybnMgU3BhY2Ugc2VwYXJhdGVkIHBpdGNoZXMgb2YgdGhlIG5ldW1lIGNvbXBvbmVudHMgaW4gb3JkZXIuXG4gICAqL1xuICBhc3luYyBnZXRQaXRjaGVzIChuY3M6IEl0ZXJhYmxlPFNWR0dyYXBoaWNzRWxlbWVudD4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGxldCBwaXRjaGVzID0gJyc7XG4gICAgZm9yIChjb25zdCBuYyBvZiBuY3MpIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZXM6IEF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKG5jLmlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICBwaXRjaGVzICs9IGF0dHJpYnV0ZXNbJ3BuYW1lJ10gKyBhdHRyaWJ1dGVzWydvY3QnXSArICcgJztcbiAgICB9XG4gICAgcmV0dXJuIHBpdGNoZXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb250b3VyIG9mIGEgbmV1bWUuXG4gICAqIEBwYXJhbSBuY3MgLSBOZXVtZSBjb21wb25lbnRzIGluIHRoZSBuZXVtZS5cbiAgICovXG4gIGFzeW5jIGdldENvbnRvdXIgKG5jczogSXRlcmFibGU8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbGV0IGNvbnRvdXIgPSAnJztcbiAgICBsZXQgcHJldmlvdXM6IEF0dHJpYnV0ZXMgPSBudWxsO1xuICAgIGZvciAoY29uc3QgbmMgb2YgbmNzKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihuYy5pZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgaWYgKHByZXZpb3VzICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChwcmV2aW91c1snb2N0J10gPiBhdHRyaWJ1dGVzWydvY3QnXSkge1xuICAgICAgICAgIGNvbnRvdXIgKz0gJ2QnO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzWydvY3QnXSA8IGF0dHJpYnV0ZXNbJ29jdCddKSB7XG4gICAgICAgICAgY29udG91ciArPSAndSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMucGl0Y2hOYW1lVG9OdW0ocHJldmlvdXNbJ3BuYW1lJ10pIDwgdGhpcy5waXRjaE5hbWVUb051bShhdHRyaWJ1dGVzWydwbmFtZSddKSkge1xuICAgICAgICAgICAgY29udG91ciArPSAndSc7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBpdGNoTmFtZVRvTnVtKHByZXZpb3VzWydwbmFtZSddKSA+IHRoaXMucGl0Y2hOYW1lVG9OdW0oYXR0cmlidXRlc1sncG5hbWUnXSkpIHtcbiAgICAgICAgICAgIGNvbnRvdXIgKz0gJ2QnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250b3VyICs9ICdzJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHByZXZpb3VzID0gYXR0cmlidXRlcztcbiAgICB9XG4gICAgaWYgKG5ldW1lR3JvdXBzLmdldChjb250b3VyKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1Vua25vd24gY29udG91cjogJyArIGNvbnRvdXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV1bWVHcm91cHMuZ2V0KGNvbnRvdXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYW5kIHVwZGF0ZSB0aGUgaW5mbyBib3guXG4gICAqIEBwYXJhbSBib2R5IC0gVGhlIGluZm8gYm94IGNvbnRlbnRzLlxuICAgKi9cbiAgdXBkYXRlSW5mb01vZHVsZSAoYm9keTogc3RyaW5nKTogdm9pZCB7XG4gICAgKDxIVE1MRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5mby1idWJibGUtYm9keScpWzBdKS5pbm5lclRleHQgPSBib2R5O1xuXG4gICAgaWYgKChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKSB7XG4gICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5mby1idWJibGUtY29udGFpbmVyJylbMF0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBhIHBpdGNoIG5hbWUgKGEtZykgdG8gYSBudW1iZXIgKHdoZXJlIGMgaXMgMSwgZCBpcyAyLCAuLi5hbmQgYiBpcyA3KS5cbiAgICogQHBhcmFtIHBuYW1lIC0gVGhlIHBpdGNoIG5hbWUuXG4gICAqIEByZXR1cm5zIEVxdWl2YWxlbnQgcGl0Y2ggbmFtZSBhcyBhIG51bWJlciBmcm9tIDEgdG8gNy5cbiAgICovXG4gIHBpdGNoTmFtZVRvTnVtIChwbmFtZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBzd2l0Y2ggKHBuYW1lKSB7XG4gICAgICBjYXNlICdjJzpcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICBjYXNlICdkJzpcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgICBjYXNlICdlJzpcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgICBjYXNlICdmJzpcbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgICBjYXNlICdnJzpcbiAgICAgICAgcmV0dXJuIDU7XG4gICAgICBjYXNlICdhJzpcbiAgICAgICAgcmV0dXJuIDY7XG4gICAgICBjYXNlICdiJzpcbiAgICAgICAgcmV0dXJuIDc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBwaXRjaCBuYW1lJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIGNvbnRvdXIgb2YgYW4gbmV1bWUgZ3JvdXBpbmcgYmFzZWQgb24gdGhlIGdyb3VwaW5nIG5hbWUuXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBjb250b3VyIG5hbWUuXG4gICAqIEByZXR1cm5zIEJlc3QgZ3Vlc3MgbmFtZSBvZiB0aGUgbmV1bWUgc2hhcGUuXG4gICAqL1xuICBnZXRDb250b3VyQnlWYWx1ZSAodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgXG4gICAgZm9yIChjb25zdCBbY29udCwgdl0gb2YgbmV1bWVHcm91cHMuZW50cmllcygpKSB7XG4gICAgICBpZiAodiA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEluZm9Nb2R1bGUgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCB7IHVuc2VsZWN0IH0gZnJvbSAnLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgeyB1cGRhdGVEaXNwbGF5QWxsQnRuLCB1cGRhdGVIaWdobGlnaHQgfSBmcm9tICcuL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuaW1wb3J0IHsgVGV4dFZpZXdJbnRlcmZhY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MsIHNldFNldHRpbmdzIH0gZnJvbSAnLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuLypcbiAqIENsYXNzIHRoYXQgbWFuYWdlcyBnZXR0aW5nIHRoZSB0ZXh0IGZvciBzeWxsYWJsZXMgaW4gTmVvbiBmcm9tIHRoZSBtZWkgZmlsZVxuICovXG5jbGFzcyBUZXh0VmlldyBpbXBsZW1lbnRzIFRleHRWaWV3SW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBuZW9uVmlldzogTmVvblZpZXc7XG4gIC8qKiBXaGV0aGVyIG9yIG5vdCB0aGUgdXNlciBoYXMgYmVlbiBub3RpZmllZCBhYm91dCBibGFuayBzeWxsYWJsZXMuICovXG4gIHByaXZhdGUgbm90aWZpY2F0aW9uU2VudDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEEgY29uc3RydWN0b3IgZm9yIGEgVGV4dFZpZXcuXG4gICAqIEBwYXJhbSBuZW9uVmlldyAtIFRoZSBjYWxsaW5nIFtbTmVvblZpZXddXSBmb3IgdGhlIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLm5vdGlmaWNhdGlvblNlbnQgPSBmYWxzZTtcblxuICAgIC8vIGFkZCBjaGVja2JveCB0byBlbmFibGUvZGlzYWJsZSB0aGUgdmlld1xuICAgIGNvbnN0IGNoZWNrYm94ZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1zaW5nbGUtY29udGFpbmVyJyk7XG4gICAgY29uc3QgdGV4dExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBiYm94TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IHRleHRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNvbnN0IGJib3hCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHRleHRCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICBiYm94QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gICAgdGV4dExhYmVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LWNvbnRhaW5lcicsICdzaWRlLXBhbmVsLWJ0bicpO1xuICAgIGJib3hMYWJlbC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveC1jb250YWluZXInLCAnc2lkZS1wYW5lbC1idG4nKTtcbiAgICB0ZXh0TGFiZWwudGV4dENvbnRlbnQgPSAnVGV4dCc7XG4gICAgYmJveExhYmVsLnRleHRDb250ZW50ID0gJ0JCb3hlcyc7XG4gICAgdGV4dEJ1dHRvbi5pZCA9ICdkaXNwbGF5VGV4dCc7XG4gICAgdGV4dEJ1dHRvbi50eXBlID0gJ2NoZWNrYm94JztcbiAgICBiYm94QnV0dG9uLmlkID0gJ2Rpc3BsYXlCQm94JztcbiAgICBiYm94QnV0dG9uLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIHRleHRCdXR0b24uY2hlY2tlZCA9IGZhbHNlO1xuICAgIGJib3hCdXR0b24uY2hlY2tlZCA9IGZhbHNlO1xuICAgIHRleHRMYWJlbC5hcHBlbmRDaGlsZCh0ZXh0QnV0dG9uKTtcbiAgICBiYm94TGFiZWwuYXBwZW5kQ2hpbGQoYmJveEJ1dHRvbik7XG4gICAgY2hlY2tib3hlc0NvbnRhaW5lci5wcmVwZW5kKGJib3hMYWJlbCk7XG4gICAgY2hlY2tib3hlc0NvbnRhaW5lci5wcmVwZW5kKHRleHRMYWJlbCk7XG5cbiAgICB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICAgIHRoaXMuc2V0VGV4dFZpZXdDb250cm9scygpO1xuICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLnVwZGF0ZVRleHRWaWV3VmlzaWJpbGl0eS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy51cGRhdGVCQm94VmlzaWJpbGl0eS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAqIFNldCBsaXN0ZW5lcnMgb24gdGV4dHZpZXcgdmlzaWJpbGl0eSBjaGVja2JveFxuICAqL1xuICBzZXRUZXh0Vmlld0NvbnRyb2xzICgpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZVRleHRWaWV3VmlzaWJpbGl0eSgpO1xuICAgIHRoaXMudXBkYXRlQkJveFZpc2liaWxpdHkoKTtcbiAgXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZVRleHRWaWV3VmlzaWJpbGl0eSgpO1xuICAgICAgdXBkYXRlRGlzcGxheUFsbEJ0bigpO1xuICAgIH0pO1xuICBcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlQkJveFZpc2liaWxpdHkoKTtcbiAgICAgIHVwZGF0ZURpc3BsYXlBbGxCdG4oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvYWRTZXR0aW5ncyAoKTogdm9pZCB7XG4gICAgY29uc3QgeyBkaXNwbGF5VGV4dCwgZGlzcGxheUJCb3ggfSA9IGdldFNldHRpbmdzKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2Rpc3BsYXlUZXh0JykuY2hlY2tlZCA9IGRpc3BsYXlUZXh0O1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNkaXNwbGF5QkJveCcpLmNoZWNrZWQgPSBkaXNwbGF5QkJveDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdmlzaWJpbGl0eSBvZiB0ZXh0IGJvdW5kaW5nIGJveGVzXG4gICAqL1xuICB1cGRhdGVCQm94VmlzaWJpbGl0eSAoKTogdm9pZCB7XG5cbiAgICBjb25zdCBkaXNwbGF5QkJveGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBcbiAgICAvLyBzYXZlIHRvIGxvY2FsU3RvcmFnZVxuICAgIHNldFNldHRpbmdzKHsgZGlzcGxheUJCb3g6IGRpc3BsYXlCQm94ZXMuY2hlY2tlZCB9KTtcblxuICAgIGlmIChkaXNwbGF5QkJveGVzLmNoZWNrZWQpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdCcpLmZvckVhY2gocmVjdCA9PiB7XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LmFkZCgnc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ3N5bFRleHRSZWN0Jyk7XG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWwuc2VsZWN0ZWQgLnN5bFRleHRSZWN0LWRpc3BsYXknKVxuICAgICAgICAuZm9yRWFjaCgocmVjdDogSFRNTEVsZW1lbnQpID0+IHsgcmVjdC5zdHlsZS5maWxsID0gJ3JlZCc7IH0pO1xuXG4gICAgICBpZiAodGhpcy5uZW9uVmlldy5nZXRVc2VyTW9kZSgpICE9PSAndmlld2VyJyAmJiB0aGlzLm5lb25WaWV3LlRleHRFZGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5uZW9uVmlldy5UZXh0RWRpdC5pbml0U2VsZWN0QnlCQm94QnV0dG9uKCk7XG4gICAgICAgIHRoaXMubmVvblZpZXcuVGV4dEVkaXQuaW5pdEJCb3hDaXJjbGVTbGlkZXIoKTtcbiAgICAgICAgY29uc3QgeyBjaXJjbGVTaXplIH0gPSBnZXRTZXR0aW5ncygpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjY2lyY2xlT3V0cHV0JykudmFsdWUgPSBTdHJpbmcoY2lyY2xlU2l6ZSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNjaXJjbGVTbGlkZXInKS52YWx1ZSA9IFN0cmluZyhjaXJjbGVTaXplKTtcbiAgICAgIH1cbiAgICB9IFxuICAgIGVsc2Uge1xuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgICB1bnNlbGVjdCgpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN5bGxhYmxlJykuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICAgIHNldFNldHRpbmdzKHsgc2VsZWN0aW9uTW9kZTogICdzZWxCeVN5bGxhYmxlJyB9KTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ3N5bFRleHRSZWN0Jyk7XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWwuc2VsZWN0ZWQgLnN5bFRleHRSZWN0JykuZm9yRWFjaCgocmVjdDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ25vbmUnO1xuICAgICAgfSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSBcbiAgICAgIGNhdGNoIChlKSB7fVxuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jib3gtY2lyY2xlLXNsaWRlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9IFxuICAgICAgY2F0Y2ggKGUpIHt9XG4gICAgfVxuXG4gICAgdXBkYXRlSGlnaGxpZ2h0KCk7XG4gIH1cblxuICAvKipcbiAgKiBVcGRhdGUgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHRleHR2aWV3IGJveFxuICAqIGFuZCBhZGQgdGhlIGV2ZW50IGxpc3RlbmVycyB0byBtYWtlIHN1cmUgdGhlIHN5bCBoaWdobGlnaHRzIHdoZW4gbW91c2VkIG92ZXJcbiAgKi9cbiAgdXBkYXRlVGV4dFZpZXdWaXNpYmlsaXR5ICgpOiB2b2lkIHtcblxuICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBcbiAgICAvLyBzYXZlIHRvIGxvY2FsU3RvcmFnZVxuICAgIHNldFNldHRpbmdzKHsgZGlzcGxheVRleHQ6IGRpc3BsYXlUZXh0LmNoZWNrZWQgfSk7XG5cbiAgICBpZiAoZGlzcGxheVRleHQuY2hlY2tlZCkge1xuICAgICAgY29uc3Qgc3lsVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpO1xuICAgICAgc3lsVGV4dC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICBzeWxUZXh0LmlubmVySFRNTCA9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cImluZm8tYnViYmxlLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvLWJ1YmJsZS1oZWFkZXJcIj5TeWxsYWJsZXMgb24gdGhpcyBwYWdlPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImluZm8tYnViYmxlLWJvZHlcIj4ke3RoaXMuZ2V0U3lsVGV4dCgpfTwvZGl2PlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgY29uc3Qgc3BhbnMgPSBzeWxUZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4nKTtcbiAgICAgIHNwYW5zLmZvckVhY2goc3BhbiA9PiB7XG4gICAgICAgIGNvbnN0IHN5bGxhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3Bhbi5jbGFzc0xpc3RbMF0pO1xuICAgICAgICBjb25zdCBzeWwgPSBzeWxsYWJsZS5xdWVyeVNlbGVjdG9yKCcuc3lsJyk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBzeWwucXVlcnlTZWxlY3RvcigndGV4dCcpO1xuICAgICAgICBjb25zdCByZWN0ID0gc3lsLnF1ZXJ5U2VsZWN0b3IoJ3JlY3QnKTtcbiAgICAgICAgaWYgKHRleHQuY2xhc3NMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRleHQuY2xhc3NMaXN0LmFkZCgndGV4dCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3Bhbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHN5bGxhYmxlLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIHN5bGxhYmxlLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgc3lsbGFibGUucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykuZm9yRWFjaChuZXVtZSA9PiB7XG4gICAgICAgICAgICBuZXVtZS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChyZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHN5bC5hdHRyKCdmaWxsJywgJyNmZmM3YzcnKTtcbiAgICAgICAgICAvLyB0aGlzLmhpZ2hsaWdodEJvdW5kaW5nQm94KHNwYW4pO1xuICAgICAgICB9KTtcblxuICAgICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHN5bGxhYmxlLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIHN5bGxhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgc3lsbGFibGUucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykuZm9yRWFjaChuZXVtZSA9PiB7XG4gICAgICAgICAgICBuZXVtZS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChyZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoc3lsbGFibGUuc3R5bGUuZmlsbCAhPT0gJ3JnYigwLCAwLCAwKScpIHsgLy8gc3lsbGFibGUuZ2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvU1ZHJywgJ2ZpbGwnKTtcbiAgICAgICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCdmaWxsJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHN5bC5hdHRyKCdmaWxsJywgbnVsbCk7XG4gICAgICAgICAgLy8gdGhpcy5yZW1vdmVCb3VuZGluZ0JveChzcGFuKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMubmVvblZpZXcuZ2V0VXNlck1vZGUoKSAhPT0gJ3ZpZXdlcicgJiYgdGhpcy5uZW9uVmlldy5UZXh0RWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubmVvblZpZXcuVGV4dEVkaXQuaW5pdFRleHRFZGl0KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNjcm9sbCB0aGUgc3lsbGFibGUgdGV4dCBidWJibGUgaW50byB2aWV3XG4gICAgICAvL3N5bFRleHQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfSBcbiAgICBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3lsbGFibGUgdGV4dCBvZiB0aGUgbG9hZGVkIGZpbGVcbiAgICovXG4gIGdldFN5bFRleHQgKCk6IHN0cmluZyB7XG4gICAgbGV0IGx5cmljcyA9ICcnO1xuICAgIGNvbnN0IHVuaVRvRGFzaCA9IC9cXHVlNTUxL2c7XG4gICAgY29uc3Qgc3lsbGFibGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZS1wYWdlIC5zeWxsYWJsZScpO1xuICAgIHN5bGxhYmxlcy5mb3JFYWNoKHN5bGxhYmxlID0+IHtcbiAgICAgIGlmIChzeWxsYWJsZS5xdWVyeVNlbGVjdG9yKCcuc3lsJykgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3Qgc3lsID0gc3lsbGFibGUucXVlcnlTZWxlY3RvcignLnN5bCcpO1xuICAgICAgICBseXJpY3MgKz0gYDxzcGFuIGNsYXNzPVwiJHtzeWxsYWJsZS5pZH0gc3lsLXRleHQtc2lkZS1wYW5lbFwiPmA7XG4gICAgICAgIGlmIChzeWwudGV4dENvbnRlbnQudHJpbSgpID09PSAnJykge1xuICAgICAgICAgIGx5cmljcyArPSAnJiN4MjVDQTsgJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBBcnJheS5mcm9tKHN5bC5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbikuZm9yRWFjaCh0ZXh0ID0+IHtcbiAgICAgICAgICAgIGx5cmljcyArPSB0ZXh0LnRleHRDb250ZW50ICE9PSAnJyA/IHRleHQudGV4dENvbnRlbnQgOiAnJiN4MjVDQTsgJztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBseXJpY3MgKz0gJyA8L3NwYW4+JztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIXRoaXMubm90aWZpY2F0aW9uU2VudCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdCbGFuayBzeWxsYWJsZXMgYXJlIHJlcHJlc2VudGVkIGJ5IOKXiiEnKTtcbiAgICAgIHRoaXMubm90aWZpY2F0aW9uU2VudCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBseXJpY3MucmVwbGFjZSh1bmlUb0Rhc2gsICctJyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGV4dFZpZXcgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgdW5zZWxlY3QgfSBmcm9tICcuL3V0aWxzL1NlbGVjdFRvb2xzJztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuL3V0aWxzL0RyYWdIYW5kbGVyJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCB7XG4gIHNldFNlbGVjdEhlbHBlck9iamVjdHMsXG4gIGRyYWdTZWxlY3QsXG4gIGNsaWNrU2VsZWN0LFxufSBmcm9tICcuL3V0aWxzL1NlbGVjdCc7XG5pbXBvcnQgeyBzZXRHcm91cGluZ0hpZ2hsaWdodCB9IGZyb20gJy4vdXRpbHMvQ29sb3InO1xuaW1wb3J0IHsgVGV4dEVkaXRJbnRlcmZhY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi91dGlscy9Nb2RhbFdpbmRvdyc7XG5pbXBvcnQgeyBzZXRTZXR0aW5ncyB9IGZyb20gJy4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5pbXBvcnQgeyBzZXRDaXJjbGVTaXplQ29udHJvbHMgfSBmcm9tICcuL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuXG4vKipcbiAqIEZvcm1hdCBhIHN0cmluZyBmb3IgcHJvbXB0aW5nIHRoZSB1c2VyLlxuICogQHBhcmFtIHJhd1N0cmluZyAtIFRoZSB1bmZvcm1hdHRlZCBzdHJpbmcuXG4gKi9cbi8qXG5mdW5jdGlvbiBmb3JtYXRSYXcgKHJhd1N0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICByZXR1cm4gcmF3U3RyaW5nLnJlcGxhY2UocmVtb3ZlU3ltYm9sLCAnJykudHJpbSgpO1xufVxuKi9cblxuZnVuY3Rpb24gc2VsQnlCQm94TGlzdGVuZXIoKTogdm9pZCB7XG4gIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICB1bnNlbGVjdCgpO1xuICAgIHNldFNldHRpbmdzKHsgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5QkJveCcgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JylcbiAgICAgICAgLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeU5jJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOZXVtZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN5bGxhYmxlJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudFxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5TGF5ZXJFbGVtZW50JylcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIGlmIChcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PVxuICAgICAgICAnaGlnaGxpZ2h0LXNlbGVjdGlvbidcbiAgICAgICkge1xuICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnc3lsbGFibGUnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHRoaXMuYWRkQkJveExpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIEEgVGV4dCBlZGl0aW5nIG1vZHVsZSB0aGF0IHdvcmtzIHdpdGggdGhlIFNpbmdsZVZpZXcgYW5kIERpdmFWaWV3IG1vZHVsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dEVkaXRNb2RlIGltcGxlbWVudHMgVGV4dEVkaXRJbnRlcmZhY2Uge1xuICBwcml2YXRlIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcjtcbiAgcHJpdmF0ZSBuZW9uVmlldzogTmVvblZpZXc7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBhIFRleHRFZGl0XG4gICAqIEBwYXJhbSBuZW9uVmlldyAtIFRoZSBjYWxsaW5nIFtbTmVvblZpZXddXSBmb3IgdGhlIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IobmVvblZpZXc6IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuaW5pdFRleHRFZGl0KCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRleHQgdG8gZWRpdCBtb2RlXG4gICAqL1xuICBpbml0VGV4dEVkaXQoKTogdm9pZCB7XG4gICAgY29uc3Qgc3BhbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuJyk7XG4gICAgY29uc3QgbW9kYWwgPSB0aGlzLm5lb25WaWV3Lm1vZGFsO1xuICAgIHNwYW5zLmZvckVhY2goKHNwYW46IEhUTUxTcGFuRWxlbWVudCkgPT4ge1xuICAgICAgZnVuY3Rpb24gc2VsZWN0U3lsVGV4dCgpOiB2b2lkIHtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZC10by1lZGl0Jyk7XG4gICAgICAgIG1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUKTtcbiAgICAgICAgbW9kYWwub3Blbk1vZGFsV2luZG93KCk7XG4gICAgICB9XG5cbiAgICAgIHNwYW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxlY3RTeWxUZXh0KTtcbiAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxlY3RTeWxUZXh0KTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5zaGlmdEtleSAmJiBldmVudC5rZXkgPT09ICdUJykge1xuICAgICAgICBjb25zdCBzZWxlY3RlZFN5bFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGV4dC1zZWxlY3QnKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkU3lsVGV4dCkge1xuICAgICAgICAgIHNlbGVjdGVkU3lsVGV4dC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgc2VsZWN0QnlCQm94IGJ1dHRvbi5cbiAgICogSWYgbmV1bWUgZWRpdCBtb2RlIGlzIHRoZXJlLCBhZGQgaXQgdG8gdGhlIGJhciB3aXRoIHRoZSBvdGhlciBzZWxlY3QgYnkgYnV0dG9ucy5cbiAgICogT3RoZXJ3aXNlIGFkZCBhbiBpbnZpc2libGUgYnV0dG9uXG4gICAqIHNpbmNlIHRoZSBvbmx5IGVkaXQgbW9kZSBpcyBzZWxlY3RCeVJlY3QgaW4gdGhhdCBjYXNlXG4gICAqL1xuICBpbml0U2VsZWN0QnlCQm94QnV0dG9uKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm5lb25WaWV3Lk5ldW1lRWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzZWxCeUJCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jyk7XG4gICAgICBpZiAoc2VsQnlCQm94KSB7XG4gICAgICAgIHNlbEJ5QkJveC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXInKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NpZGUtcGFuZWwtYnRuJywgJ3NlbC1ieScpO1xuICAgICAgYnV0dG9uLmlkID0gJ3NlbEJ5QkJveCc7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnQkJveCc7XG4gICAgICBibG9jay5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsQnlCQm94TGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICAgIGlmIChldnQua2V5ID09PSAnNicpIHtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLnN0eWxlLmRpc3BsYXkgPT09ICcnKSB7XG4gICAgICAgICAgICBzZWxCeUJCb3hMaXN0ZW5lci5iaW5kKHRoaXMpKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLmFkZEJCb3hMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZG8nKS5jbG9zZXN0KCcuY29udHJvbCcpO1xuICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHAuY2xhc3NMaXN0LmFkZCgnY29udHJvbCcpO1xuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnc2lkZS1wYW5lbC1idG4nLCAnc2VsLWJ5Jyk7XG4gICAgICBidXR0b24uaWQgPSAnc2VsQnlCQm94JztcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdCQm94JztcbiAgICAgIHAuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIGJsb2NrLmFwcGVuZENoaWxkKHApO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0aGlzLmFkZEJCb3hMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLmFkZEJCb3hMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgc2VsZWN0IGJ5IGJib3ggbW9kZVxuICAgKi9cbiAgYWRkQkJveExpc3RlbmVycygpOiB2b2lkIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBpZiAodGhpcy5uZW9uVmlldy5OZXVtZUVkaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBqdXN0IGluIGNhc2VcbiAgICAgICAgdGhpcy5kcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcihcbiAgICAgICAgICB0aGlzLm5lb25WaWV3LFxuICAgICAgICAgICcuc3lsVGV4dFJlY3QtZGlzcGxheScsXG4gICAgICAgICk7XG4gICAgICAgIHNldFNlbGVjdEhlbHBlck9iamVjdHModGhpcy5uZW9uVmlldywgdGhpcy5kcmFnSGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLm5lb25WaWV3LnZpZXcuY29uc3RydWN0b3IubmFtZSA9PT0gJ1NpbmdsZVZpZXcnKSB7XG4gICAgICAgICAgY2xpY2tTZWxlY3QoJyNtZWlfb3V0cHV0LCAjbWVpX291dHB1dCByZWN0Jyk7XG4gICAgICAgICAgZHJhZ1NlbGVjdCgnI3N2Z19ncm91cCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsaWNrU2VsZWN0KFxuICAgICAgICAgICAgJy5hY3RpdmUtcGFnZSA+IHN2ZyA+IHN2ZywgLmFjdGl2ZS1wYWdlID4gc3ZnID4gc3ZnIHJlY3QnLFxuICAgICAgICAgICk7XG4gICAgICAgICAgZHJhZ1NlbGVjdCgnLmFjdGl2ZS1wYWdlIHN2ZycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgYmJveCBjaXJjbGUgc2l6ZSBzbGlkZXIuXG4gICAqL1xuICBpbml0QkJveENpcmNsZVNsaWRlcigpOiB2b2lkIHtcbiAgICBjb25zdCBjaXJjbGVTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmJveC1jaXJjbGUtc2xpZGVyJyk7XG4gICAgaWYgKGNpcmNsZVNsaWRlcikge1xuICAgICAgY2lyY2xlU2xpZGVyLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzbGlkZXJTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktc2xpZGVyLXNlY3Rpb24nKTtcbiAgICBjb25zdCBjaXJjbGVTbGlkZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjaXJjbGVTbGlkZXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChcbiAgICAgICdzbGlkZXItYW5kLXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lcicsXG4gICAgICAnZGlzcGxheS1wYW5lbCcsXG4gICAgKTtcbiAgICBjaXJjbGVTbGlkZXJDb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuICAgIGNpcmNsZVNsaWRlckNvbnRhaW5lci5pZCA9ICdiYm94LWNpcmNsZS1zbGlkZXInO1xuICAgIGNpcmNsZVNsaWRlckNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cInNsaWRlci1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGlzcGxheS1zbGlkZXItdGl0bGVcIj5CQm94IENpcmNsZTwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2xpZGVyLWJ0blwiIGlkPVwicmVzZXQtY2lyY2xlLXNpemVcIiB0aXRsZT1cIlJlc2V0IGNpcmNsZSBzaXplXCI+XG4gICAgICAgICAgICA8aW1nIGNsYXNzPVwic2xpZGVyLWJ0bi1pbWdcIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hcnJvdy1yb3RhdGUtbGVmdC1zb2xpZC5zdmdcIj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInNsaWRlci1jb250YWluZXJcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICBzdGVwPVwiMVwiIG1pbj1cIjBcIiBtYXg9XCI1MFwiIHZhbHVlPVwiMjVcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzZXQtY2lyY2xlLXNpemVcIlxuICAgICAgICAgICAgY2xhc3M9XCJzbGlkZXIgaXMtZnVsbHdpZHRoIGlzLWxhcmdlXCJcbiAgICAgICAgICAgIGlkPVwiY2lyY2xlU2xpZGVyXCJcbiAgICAgICAgICAgIHN0eWxlPVwicGFkZGluZy1sZWZ0OiAxcmVtOyBwYWRkaW5nLXJpZ2h0OiAxcmVtO1wiXG4gICAgICAgICAgICBkaXNhYmxlZD1cImRpc2FibGVkXCJcbiAgICAgICAgLz5cbiAgICAgICAgPG91dHB1dCBpZD1cImNpcmNsZU91dHB1dFwiIGZvcj1cImNpcmNsZVNsaWRlclwiPjI1PC9vdXRwdXQ+XG4gICAgPC9kaXY+YDtcbiAgICBzbGlkZXJTZWN0aW9uLmFwcGVuZENoaWxkKGNpcmNsZVNsaWRlckNvbnRhaW5lcik7XG5cbiAgICBpZiAodGhpcy5uZW9uVmlldy5OZXVtZUVkaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2lyY2xlU2xpZGVyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuXG4gICAgc2V0Q2lyY2xlU2l6ZUNvbnRyb2xzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCB7IHNldERPTUF0dHJpYnV0ZXMgYXMgc2V0QXR0cmlidXRlcyB9O1xuXG4vKipcbiAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIERPTSBlbGVtZW50LCBzZXQgYXR0cmlidXRlcyBvbiBpdCwgYW5kXG4gKiBhcHBlbmQgY2hpbGRyZW4uIEFsbCBhcmd1bWVudHMgd2hpY2ggYXJlIG5vdCBvZiBwcmltaXRpdmUgdHlwZSwgYXJlIG5vdFxuICogYXJyYXlzLCBhbmQgYXJlIG5vdCBET00gbm9kZXMgYXJlIHRyZWF0ZWQgYXMgYXR0cmlidXRlIGhhc2hlcyBhbmQgYXJlXG4gKiBoYW5kbGVkIGFzIGRlc2NyaWJlZCBmb3Igc2V0RE9NQXR0cmlidXRlcy4gQ2hpbGRyZW4gY2FuIGVpdGhlciBiZSBhIERPTVxuICogbm9kZSBvciBhIHByaW1pdGl2ZSB2YWx1ZSwgd2hpY2ggaXMgY29udmVydGVkIHRvIGEgdGV4dCBub2RlLiBBcnJheXMgYXJlXG4gKiBoYW5kbGVkIHJlY3Vyc2l2ZWx5LiBOdWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzIGFyZSBpZ25vcmVkLlxuICpcbiAqIEluc3BpcmVkIGJ5IHRoZSBQcm9zZU1pcnJvciBoZWxwZXIgb2YgdGhlIHNhbWUgbmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsdCAodGFnKVxue1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG4gICAgd2hpbGUgKGFyZ3MubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXJnID0gYXJncy5zaGlmdCgpO1xuICAgICAgICBoYW5kbGVFbHRDb25zdHJ1Y3RvckFyZyhlbCwgYXJnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWw7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVsdENvbnN0cnVjdG9yQXJnIChlbCwgYXJnKVxue1xuICAgIGlmIChhcmcgPT0gbnVsbCkgIC8vIE5COiA9PSBpcyBjb3JyZWN0O1xuICAgICAgICByZXR1cm47XG5cbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIGFyZyAhPT0gJ2Z1bmN0aW9uJylcbiAgICB7XG4gICAgICAgIC8vIENvZXJjZSB0byBzdHJpbmdcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYXJnKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlKVxuICAgIHtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoYXJnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgQXJyYXkpXG4gICAge1xuICAgICAgICBjb25zdCBjaGlsZENvdW50ID0gYXJnLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZENvdW50OyBpKyspXG4gICAgICAgICAgICBoYW5kbGVFbHRDb25zdHJ1Y3RvckFyZyhlbCwgYXJnW2ldKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgc2V0RE9NQXR0cmlidXRlcyhlbCwgYXJnKTtcbiAgICB9XG59XG5cbi8qKlxuICogU2V0IGF0dHJpYnV0ZXMgb2YgYSBET00gZWxlbWVudC4gVGhlIGBzdHlsZWAgcHJvcGVydHkgaXMgc3BlY2lhbC1jYXNlZCB0b1xuICogYWNjZXB0IGVpdGhlciBhIHN0cmluZyBvciBhbiBvYmplY3Qgd2hvc2Ugb3duIGF0dHJpYnV0ZXMgYXJlIGFzc2lnbmVkIHRvXG4gKiBlbC5zdHlsZS5cbiAqL1xuZnVuY3Rpb24gc2V0RE9NQXR0cmlidXRlcyAoZWwsIGF0dHJpYnV0ZXMpXG57XG4gICAgZm9yIChjb25zdCBwcm9wIGluIGF0dHJpYnV0ZXMpXG4gICAge1xuICAgICAgICBpZiAoIWF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkocHJvcCkpXG4gICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICBpZiAocHJvcCA9PT0gJ3N0eWxlJylcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0U3R5bGUoZWwsIGF0dHJpYnV0ZXMuc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKHByb3AsIGF0dHJpYnV0ZXNbcHJvcF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRTdHlsZSAoZWwsIHN0eWxlKVxue1xuICAgIGlmICghc3R5bGUpXG4gICAgICAgIHJldHVybjtcblxuICAgIGlmICh0eXBlb2Ygc3R5bGUgIT09ICdvYmplY3QnKVxuICAgIHtcbiAgICAgICAgZWwuc3R5bGUuY3NzVGV4dCA9IHN0eWxlO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjc3NQcm9wIGluIHN0eWxlKVxuICAgIHtcbiAgICAgICAgaWYgKCFzdHlsZS5oYXNPd25Qcm9wZXJ0eShjc3NQcm9wKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgIGVsLnN0eWxlW2Nzc1Byb3BdID0gc3R5bGVbY3NzUHJvcF07XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIERpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb24gKG1lc3NhZ2UpXG57XG4gICAgdGhpcy5uYW1lID0gXCJEaXZhUGFyZW50RWxlbWVudE5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbn1cblxuRGl2YVBhcmVudEVsZW1lbnROb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5vdEFuSUlJRk1hbmlmZXN0RXhjZXB0aW9uIChtZXNzYWdlKVxue1xuICAgIHRoaXMubmFtZSA9IFwiTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb25cIjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xufVxuXG5Ob3RBbklJSUZNYW5pZmVzdEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIE9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbiAobWVzc2FnZSlcbntcbiAgICB0aGlzLm5hbWUgPSBcIk9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvblwiO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG59XG5cbk9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcbiIsImltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4vdXRpbHMvZXZlbnRzJztcblxuY29uc3QgZGl2YSA9IHtcbiAgICBFdmVudHM6IEV2ZW50cyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRpdmE7XG4iLCIvKipcbiAqIEV2ZW50cy4gUHViL1N1YiBzeXN0ZW0gZm9yIExvb3NlbHkgQ291cGxlZCBsb2dpYy5cbiAqIEJhc2VkIG9uIFBldGVyIEhpZ2dpbnMnIHBvcnQgZnJvbSBEb2pvIHRvIGpRdWVyeVxuICogaHR0cHM6Ly9naXRodWIuY29tL3BoaWdnaW5zNDIvYmxvb2R5LWpxdWVyeS1wbHVnaW5zL2Jsb2IvbWFzdGVyL3B1YnN1Yi5qc1xuICpcbiAqIFJlLWFkYXB0ZWQgdG8gdmFuaWxsYSBKYXZhc2NyaXB0XG4gKlxuICogQGNsYXNzIEV2ZW50c1xuICovXG5cbmNsYXNzIERpdmFFdmVudHNcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpdmEuRXZlbnRzLnB1Ymxpc2hcbiAgICAgKiBlLmcuOiBkaXZhLkV2ZW50cy5wdWJsaXNoKFwiUGFnZURpZExvYWRcIiwgW3BhZ2VJbmRleCwgZmlsZW5hbWUsIHBhZ2VTZWxlY3Rvcl0sIHRoaXMpO1xuICAgICAqXG4gICAgICogQGNsYXNzIEV2ZW50c1xuICAgICAqIEBtZXRob2QgcHVibGlzaFxuICAgICAqIEBwYXJhbSB0b3BpYyB7U3RyaW5nfVxuICAgICAqIEBwYXJhbSBhcmdzICB7QXJyYXl9XG4gICAgICogQHBhcmFtIHNjb3BlIHtPYmplY3Q9fSBPcHRpb25hbCAtIFN1YnNjcmliZWQgZnVuY3Rpb25zIHdpbGwgYmUgZXhlY3V0ZWQgd2l0aCB0aGUgc3VwcGxpZWQgb2JqZWN0IGFzIGB0aGlzYC5cbiAgICAgKiAgICAgSXQgaXMgbmVjZXNzYXJ5IHRvIHN1cHBseSB0aGlzIGFyZ3VtZW50IHdpdGggdGhlIHNlbGYgdmFyaWFibGUgd2hlbiB3aXRoaW4gYSBEaXZhIGluc3RhbmNlLlxuICAgICAqICAgICBUaGUgc2NvcGUgYXJndW1lbnQgaXMgbWF0Y2hlZCB3aXRoIHRoZSBpbnN0YW5jZSBJRCBvZiBzdWJzY3JpYmVycyB0byBkZXRlcm1pbmUgd2hldGhlciB0aGV5XG4gICAgICogICAgICAgICBzaG91bGQgYmUgZXhlY3V0ZWQuIChTZWUgaW5zdGFuY2VJRCBhcmd1bWVudCBvZiBzdWJzY3JpYmUuKVxuICAgICAqL1xuICAgIHB1Ymxpc2godG9waWMsIGFyZ3MsIHNjb3BlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlW3RvcGljXSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGhpc1RvcGljID0gdGhpcy5fY2FjaGVbdG9waWNdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXNUb3BpYy5nbG9iYWwgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNUb3BpY0dsb2JhbCA9IHRoaXNUb3BpYy5nbG9iYWw7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsQ291bnQgPSB0aGlzVG9waWNHbG9iYWwubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgZ2xvYmFsQ291bnQ7IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNUb3BpY0dsb2JhbFtpXS5hcHBseShzY29wZSB8fCBudWxsLCBhcmdzIHx8IFtdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzY29wZSAmJiB0eXBlb2Ygc2NvcGUuZ2V0SW5zdGFuY2VJZCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHB1Ymxpc2hlciBpbnN0YW5jZSBJRCBmcm9tIHNjb3BlIGFyZywgY29tcGFyZSwgYW5kIGV4ZWN1dGUgaWYgbWF0Y2hcbiAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZUlEID0gc2NvcGUuZ2V0SW5zdGFuY2VJZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNUb3BpY0luc3RhbmNlID0gdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29wZWRDb3VudCA9IHRoaXNUb3BpY0luc3RhbmNlLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqPTA7IGogPCBzY29wZWRDb3VudDsgaisrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzVG9waWNJbnN0YW5jZVtqXS5hcHBseShzY29wZSwgYXJncyB8fCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXZhLkV2ZW50cy5zdWJzY3JpYmVcbiAgICAgKiBlLmcuOiBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoXCJQYWdlRGlkTG9hZFwiLCBoaWdobGlnaHQsIHNldHRpbmdzLklEKVxuICAgICAqXG4gICAgICogQGNsYXNzIEV2ZW50c1xuICAgICAqIEBtZXRob2Qgc3Vic2NyaWJlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRvcGljXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGluc3RhbmNlSUQgIE9wdGlvbmFsIC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgSUQgb2YgYSBEaXZhIGluc3RhbmNlOyBpZiBwcm92aWRlZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrIG9ubHkgZmlyZXMgZm9yIGV2ZW50cyBwdWJsaXNoZWQgZnJvbSB0aGF0IGluc3RhbmNlLlxuICAgICAqIEByZXR1cm4gRXZlbnQgaGFuZGxlciB7QXJyYXl9XG4gICAgICovXG4gICAgc3Vic2NyaWJlKHRvcGljLCBjYWxsYmFjaywgaW5zdGFuY2VJRClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVbdG9waWNdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZVt0b3BpY10gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2VJRCA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jYWNoZVt0b3BpY11baW5zdGFuY2VJRF0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlW3RvcGljXS5nbG9iYWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVbdG9waWNdLmdsb2JhbCA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jYWNoZVt0b3BpY10uZ2xvYmFsLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlSUQgPyBbdG9waWMsIGNhbGxiYWNrLCBpbnN0YW5jZUlEXSA6IFt0b3BpYywgY2FsbGJhY2tdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpdmEuRXZlbnRzLnVuc3Vic2NyaWJlXG4gICAgICogZS5nLjogdmFyIGhhbmRsZSA9IEV2ZW50cy5zdWJzY3JpYmUoXCJQYWdlRGlkTG9hZFwiLCBoaWdobGlnaHQpO1xuICAgICAqICAgICAgICAgRXZlbnRzLnVuc3Vic2NyaWJlKGhhbmRsZSk7XG4gICAgICpcbiAgICAgKiBAY2xhc3MgRXZlbnRzXG4gICAgICogQG1ldGhvZCB1bnN1YnNjcmliZVxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGhhbmRsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGNvbXBsZXRlbHkgLSBVbnN1YnNjcmliZSBhbGwgZXZlbnRzIGZvciBhIGdpdmVuIHRvcGljLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHN1Y2Nlc3NcbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZShoYW5kbGUsIGNvbXBsZXRlbHkpXG4gICAge1xuICAgICAgICBjb25zdCB0ID0gaGFuZGxlWzBdO1xuXG4gICAgICAgIGlmICh0aGlzLl9jYWNoZVt0XSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRvcGljQXJyYXk7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZUlEID0gaGFuZGxlLmxlbmd0aCA9PT0gMyA/IGhhbmRsZVsyXSA6ICdnbG9iYWwnO1xuXG4gICAgICAgICAgICB0b3BpY0FycmF5ID0gdGhpcy5fY2FjaGVbdF1baW5zdGFuY2VJRF07XG5cbiAgICAgICAgICAgIGlmICghdG9waWNBcnJheSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb21wbGV0ZWx5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWNoZVt0XVtpbnN0YW5jZUlEXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9waWNBcnJheS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgaSA9IHRvcGljQXJyYXkubGVuZ3RoO1xuXG4gICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0b3BpY0FycmF5W2ldID09PSBoYW5kbGVbMV0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZVt0XVtpbnN0YW5jZUlEXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXZhLkV2ZW50cy51bnN1YnNjcmliZUFsbFxuICAgICAqIGUuZy46IGRpdmEuRXZlbnRzLnVuc3Vic2NyaWJlQWxsKCdnbG9iYWwnKTtcbiAgICAgKlxuICAgICAqIEBjbGFzcyBFdmVudHNcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGluc3RhbmNlSUQgT3B0aW9uYWwgLSBpbnN0YW5jZSBJRCB0byByZW1vdmUgc3Vic2NyaWJlcnMgZnJvbSBvciAnZ2xvYmFsJyAoaWYgb21pdHRlZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJzIGluIGFsbCBzY29wZXMgcmVtb3ZlZClcbiAgICAgKiBAbWV0aG9kIHVuc3Vic2NyaWJlQWxsXG4gICAgICovXG4gICAgdW5zdWJzY3JpYmVBbGwoaW5zdGFuY2VJRClcbiAgICB7XG4gICAgICAgIGlmIChpbnN0YW5jZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0b3BpY3MgPSBPYmplY3Qua2V5cyh0aGlzLl9jYWNoZSk7XG4gICAgICAgICAgICBsZXQgaSA9IHRvcGljcy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgdG9waWM7XG5cbiAgICAgICAgICAgIHdoaWxlIChpLS0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9waWMgPSB0b3BpY3NbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBsZXQgRXZlbnRzID0gbmV3IERpdmFFdmVudHMoKTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICBvbkRvdWJsZUNsaWNrLFxuICAgIG9uUGluY2gsXG4gICAgb25Eb3VibGVUYXBcbn07XG5cbmNvbnN0IERPVUJMRV9DTElDS19USU1FT1VUID0gNTAwO1xuY29uc3QgRE9VQkxFX1RBUF9ESVNUQU5DRV9USFJFU0hPTEQgPSA1MDtcbmNvbnN0IERPVUJMRV9UQVBfVElNRU9VVCA9IDI1MDtcblxuZnVuY3Rpb24gb25Eb3VibGVDbGljayhlbGVtLCBjYWxsYmFjaylcbntcbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZnVuY3Rpb24gKGV2ZW50KVxuICAgIHtcbiAgICAgICAgaWYgKCFldmVudC5jdHJsS2V5KVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZ2V0UmVsYXRpdmVPZmZzZXQoZXZlbnQuY3VycmVudFRhcmdldCwgZXZlbnQpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIHRoZSBjb250cm9sIGtleSBmb3IgbWFjcyAoaW4gY29uanVuY3Rpb24gd2l0aCBkb3VibGUtY2xpY2tpbmcpXG4gICAgLy8gRklYTUU6IERvZXMgYSBjbGljayBnZXQgaGFuZGxlZCB3aXRoIGN0cmwgcHJlc3NlZCBvbiBub24tTWFjcz9cbiAgICBjb25zdCB0cmFja2VyID0gY3JlYXRlRG91YmxlRXZlbnRUcmFja2VyKERPVUJMRV9DTElDS19USU1FT1VUKTtcblxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBmdW5jdGlvbiAoZXZlbnQpXG4gICAge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHJhY2tlci5pc1RyaWdnZXJlZCgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyYWNrZXIucmVzZXQoKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZ2V0UmVsYXRpdmVPZmZzZXQoZXZlbnQuY3VycmVudFRhcmdldCwgZXZlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFja2VyLnRyaWdnZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvblBpbmNoKGVsZW0sIGNhbGxiYWNrKVxue1xuICAgIGxldCBzdGFydERpc3RhbmNlID0gMDtcblxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChldmVudClcbiAgICB7XG4gICAgICAgIC8vIFByZXZlbnQgbW91c2UgZXZlbnQgZnJvbSBmaXJpbmdcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhcnREaXN0YW5jZSA9IGRpc3RhbmNlKFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRZLFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1sxXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1sxXS5jbGllbnRZXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gUHJldmVudCBtb3VzZSBldmVudCBmcm9tIGZpcmluZ1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0b3VjaGVzID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzO1xuXG4gICAgICAgICAgICBjb25zdCBtb3ZlRGlzdGFuY2UgPSBkaXN0YW5jZShcbiAgICAgICAgICAgICAgICB0b3VjaGVzWzBdLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgdG91Y2hlc1swXS5jbGllbnRZLFxuICAgICAgICAgICAgICAgIHRvdWNoZXNbMV0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICB0b3VjaGVzWzFdLmNsaWVudFlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHpvb21EZWx0YSA9IG1vdmVEaXN0YW5jZSAtIHN0YXJ0RGlzdGFuY2U7XG5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh6b29tRGVsdGEpID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3VjaENlbnRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZVg6ICh0b3VjaGVzWzBdLmNsaWVudFggKyB0b3VjaGVzWzFdLmNsaWVudFgpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgcGFnZVk6ICh0b3VjaGVzWzBdLmNsaWVudFkgKyB0b3VjaGVzWzFdLmNsaWVudFkpIC8gMlxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZ2V0UmVsYXRpdmVPZmZzZXQoZXZlbnQuY3VycmVudFRhcmdldCwgdG91Y2hDZW50ZXIpLCBzdGFydERpc3RhbmNlLCBtb3ZlRGlzdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uRG91YmxlVGFwKGVsZW0sIGNhbGxiYWNrKVxue1xuICAgIGNvbnN0IHRyYWNrZXIgPSBjcmVhdGVEb3VibGVFdmVudFRyYWNrZXIoRE9VQkxFX1RBUF9USU1FT1VUKTtcbiAgICBsZXQgZmlyc3RUYXAgPSBudWxsO1xuXG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChldmVudCkgPT5cbiAgICB7XG4gICAgICAgIC8vIFByZXZlbnQgbW91c2UgZXZlbnQgZnJvbSBmaXJpbmdcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAodHJhY2tlci5pc1RyaWdnZXJlZCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFja2VyLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIC8vIERvdWJsZXRhcCBoYXMgb2NjdXJyZWRcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFRhcCA9IHtcbiAgICAgICAgICAgICAgICBwYWdlWDogZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHBhZ2VZOiBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIElmIGZpcnN0IHRhcCBpcyBjbG9zZSB0byBzZWNvbmQgdGFwIChwcmV2ZW50cyBpbnRlcmZlcmVuY2Ugd2l0aCBzY2FsZSBldmVudClcbiAgICAgICAgICAgIGNvbnN0IHRhcERpc3RhbmNlID0gZGlzdGFuY2UoZmlyc3RUYXAucGFnZVgsIGZpcnN0VGFwLnBhZ2VZLCBzZWNvbmRUYXAucGFnZVgsIHNlY29uZFRhcC5wYWdlWSk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IENvdWxkIGdpdmUgc29tZXRoaW5nIGhpZ2hlci1sZXZlbCB0aGFuIHNlY29uZFRhcCB0byBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHRhcERpc3RhbmNlIDwgRE9VQkxFX1RBUF9ESVNUQU5DRV9USFJFU0hPTEQpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXZlbnQsIGdldFJlbGF0aXZlT2Zmc2V0KGV2ZW50LmN1cnJlbnRUYXJnZXQsIHNlY29uZFRhcCkpO1xuXG4gICAgICAgICAgICBmaXJzdFRhcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBmaXJzdFRhcCA9IHtcbiAgICAgICAgICAgICAgICBwYWdlWDogZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHBhZ2VZOiBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyYWNrZXIudHJpZ2dlcigpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8vIFB5dGhhZ29yZWFuIHRoZW9yZW0gdG8gZ2V0IHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMgKHVzZWQgZm9yXG4vLyBjYWxjdWxhdGluZyBmaW5nZXIgZGlzdGFuY2UgZm9yIGRvdWJsZS10YXAgYW5kIHBpbmNoLXpvb20pXG5mdW5jdGlvbiBkaXN0YW5jZSh4MSwgeTEsIHgyLCB5MilcbntcbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4MiAtIHgxKSAqICh4MiAtIHgxKSArICh5MiAtIHkxKSAqICh5MiAtIHkxKSk7XG59XG5cbi8vIFV0aWxpdHkgdG8ga2VlcCB0cmFjayBvZiB3aGV0aGVyIGFuIGV2ZW50IGhhcyBiZWVuIHRyaWdnZXJlZCB0d2ljZVxuLy8gZHVyaW5nIGEgYSBnaXZlbiBkdXJhdGlvblxuZnVuY3Rpb24gY3JlYXRlRG91YmxlRXZlbnRUcmFja2VyKHRpbWVvdXREdXJhdGlvbilcbntcbiAgICBsZXQgdHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgbGV0IHRpbWVvdXRJZCA9IG51bGw7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0cmlnZ2VyKClcbiAgICAgICAge1xuICAgICAgICAgICAgdHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc2V0VGltZW91dCgpO1xuICAgICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRpbWVvdXRJZCA9IG51bGw7XG4gICAgICAgICAgICB9LCB0aW1lb3V0RHVyYXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBpc1RyaWdnZXJlZCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgdHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXNldFRpbWVvdXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZXNldFRpbWVvdXQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRpbWVvdXRJZCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZU9mZnNldChlbGVtLCBwYWdlQ29vcmRzKVxue1xuICAgIGNvbnN0IGJvdW5kcyA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBwYWdlQ29vcmRzLnBhZ2VYIC0gYm91bmRzLmxlZnQsXG4gICAgICAgIHRvcDogcGFnZUNvb3Jkcy5wYWdlWSAtIGJvdW5kcy50b3BcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgZWx0IH0gZnJvbSAnLi91dGlscy9lbHQnO1xuLyoqXG4qXG4qXG4qKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2VUb29sc092ZXJsYXlcbntcbiAgICBjb25zdHJ1Y3RvciAocGFnZUluZGV4LCB2aWV3ZXJDb3JlKVxuICAgIHtcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZUluZGV4O1xuXG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUgPSB2aWV3ZXJDb3JlO1xuXG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKS5pbm5lckVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3BhZ2VUb29sc0VsZW0gPSBudWxsO1xuICAgICAgICB0aGlzLmxhYmVsV2lkdGggPSAwO1xuICAgIH1cblxuICAgIG1vdW50ICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcGFnZVRvb2xzRWxlbSA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9ucyA9IHRoaXMuX2luaXRpYWxpemVQYWdlVG9vbEJ1dHRvbnMoKTtcblxuICAgICAgICAgICAgdGhpcy5fcGFnZVRvb2xzRWxlbSA9IGVsdCgnZGl2JywgeyBjbGFzczogJ2RpdmEtcGFnZS10b29scy13cmFwcGVyJyB9LFxuICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2RpdmEtcGFnZS10b29scycgfSwgdGhpcy5fYnV0dG9ucylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3BhZ2VMYWJlbHNFbGVtID0gZWx0KCdkaXYnLCB7IGNsYXNzOiAnZGl2YS1wYWdlLWxhYmVscy13cmFwcGVyJ30sXG4gICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnZGl2YS1wYWdlLWxhYmVscycgfSwgdGhpcy5fdmlld2VyQ29yZS5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1t0aGlzLnBhZ2VdLmwpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9wYWdlVG9vbHNFbGVtKTtcbiAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3BhZ2VMYWJlbHNFbGVtKTtcbiAgICB9XG5cbiAgICBfaW5pdGlhbGl6ZVBhZ2VUb29sQnV0dG9ucyAoKVxuICAgIHtcbiAgICAgICAgLy8gQ2FsbGJhY2sgcGFyYW1ldGVyc1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgY29uc3QgcHVibGljSW5zdGFuY2UgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFB1YmxpY0luc3RhbmNlKCk7XG4gICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMucGFnZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdmlld2VyQ29yZS5nZXRQYWdlVG9vbHMoKS5tYXAoIChwbHVnaW4pID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vICEhISBUaGUgbm9kZSBuZWVkcyB0byBiZSBjbG9uZWQgb3RoZXJ3aXNlIGl0IGlzIGRldGFjaGVkIGZyb21cbiAgICAgICAgICAgIC8vICBvbmUgYW5kIHJlYXR0YWNoZWQgdG8gdGhlIG90aGVyLlxuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gcGx1Z2luLnBhZ2VUb29sc0ljb24uY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgdGhlIHBsdWdpbiBpbnN0YW5jZSBpcyBoYW5kZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGNhbGw7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgc2V0IHRoZSBjb250ZXh0IChpLmUuLCBgdGhpc2ApIG9mIHRoZSBoYW5kbGVDbGljayBjYWxsIHRvIHRoZSBwbHVnaW4gaW5zdGFuY2VcbiAgICAgICAgICAgIC8vIGl0c2VsZi5cbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwbHVnaW4uaGFuZGxlQ2xpY2suY2FsbChwbHVnaW4sIGV2ZW50LCBzZXR0aW5ncywgcHVibGljSW5zdGFuY2UsIHBhZ2VJbmRleCk7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChldmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGZpcmluZyBvZiBlbXVsYXRlZCBtb3VzZSBldmVudHNcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgcGx1Z2luLmhhbmRsZUNsaWNrLmNhbGwocGx1Z2luLCBldmVudCwgc2V0dGluZ3MsIHB1YmxpY0luc3RhbmNlLCBwYWdlSW5kZXgpO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9uO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVubW91bnQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLl9wYWdlVG9vbHNFbGVtKTtcbiAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuX3BhZ2VMYWJlbHNFbGVtKTtcbiAgICB9XG5cbiAgICByZWZyZXNoICgpXG4gICAge1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VSZWdpb24odGhpcy5wYWdlLCB7XG4gICAgICAgICAgICBpbmNsdWRlUGFkZGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGluY29ycG9yYXRlVmlld3BvcnQ6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgd2luZG93IGlzIHJlc2l6ZWQgbGFyZ2VyLCBhIG1hcmdpbiBpcyBjcmVhdGVkIC0gbmVlZCB0byBzdWJ0cmFjdCB0aGlzIGZyb20gb2Zmc2V0c1xuICAgICAgICBsZXQgbWFyZ2luTGVmdCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX2lubmVyRWxlbWVudCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWxlZnQnKTtcblxuICAgICAgICB0aGlzLl9wYWdlVG9vbHNFbGVtLnN0eWxlLnRvcCA9IGAke3Bvcy50b3B9cHhgO1xuICAgICAgICB0aGlzLl9wYWdlVG9vbHNFbGVtLnN0eWxlLmxlZnQgPSBgJHtwb3MubGVmdCAtIHBhcnNlSW50KG1hcmdpbkxlZnQpfXB4YDtcblxuICAgICAgICB0aGlzLl9wYWdlTGFiZWxzRWxlbS5zdHlsZS50b3AgPSBgJHtwb3MudG9wfXB4YDtcbiAgICAgICAgdGhpcy5fcGFnZUxhYmVsc0VsZW0uc3R5bGUubGVmdCA9IGAke3Bvcy5yaWdodCAtIHBhcnNlSW50KG1hcmdpbkxlZnQpIC0gdGhpcy5sYWJlbFdpZHRoIC0gNX1weGA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgbWF4QnkgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFBhZ2VUb29sc092ZXJsYXkgZnJvbSAnLi9wYWdlLXRvb2xzLW92ZXJsYXknO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvY3VtZW50SGFuZGxlclxue1xuICAgIGNvbnN0cnVjdG9yICh2aWV3ZXJDb3JlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZSA9IHZpZXdlckNvcmU7XG4gICAgICAgIHRoaXMuX3ZpZXdlclN0YXRlID0gdmlld2VyQ29yZS5nZXRJbnRlcm5hbFN0YXRlKCk7XG4gICAgICAgIHRoaXMuX292ZXJsYXlzID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdlckNvcmUuZ2V0UGFnZVRvb2xzKCkubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBudW1QYWdlcyA9IHZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKS5udW1QYWdlcztcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1QYWdlczsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJsYXkgPSBuZXcgUGFnZVRvb2xzT3ZlcmxheShpLCB2aWV3ZXJDb3JlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vdmVybGF5cy5wdXNoKG92ZXJsYXkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUuYWRkUGFnZU92ZXJsYXkob3ZlcmxheSk7XG5cbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgZHVtbXkgbGFiZWwgZm9yIHdpZHRoIGNhbGN1bGF0aW9uXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSB0aGUgX3BhZ2VUb29sc0VsZW0gaXMgb25seSBjcmVhdGVkIG9uIG1vdW50XG4gICAgICAgICAgICAgICAgLy8gc28gdGhlcmUncyBubyBvdGhlciB3YXkgdG8gZ2V0IGl0cyB3aWR0aCBiZWZvcmUgdGhlIHBhZ2VzIGFyZSBsb2FkZWRcbiAgICAgICAgICAgICAgICAvLyAod2hpY2ggd2UgbmVlZCB0byBhdm9pZCB0aGVpciB3aWR0aCB0ZW1wb3JhcmlseSBiZWluZyAwIHdoaWxlIGxvYWRpbmcpXG4gICAgICAgICAgICAgICAgbGV0IGR1bW15TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgZHVtbXlMYWJlbC5pbm5lckhUTUwgPSB2aWV3ZXJDb3JlLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW2ldLmw7XG4gICAgICAgICAgICAgICAgZHVtbXlMYWJlbC5jbGFzc0xpc3QuYWRkKCdkaXZhLXBhZ2UtbGFiZWxzJyk7XG4gICAgICAgICAgICAgICAgZHVtbXlMYWJlbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IGlubGluZS1ibG9jazsnKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGR1bW15TGFiZWwpO1xuICAgICAgICAgICAgICAgIGxldCBsYWJlbFdpZHRoID0gZHVtbXlMYWJlbC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGR1bW15TGFiZWwpO1xuXG4gICAgICAgICAgICAgICAgb3ZlcmxheS5sYWJlbFdpZHRoID0gbGFiZWxXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVTRVIgRVZFTlRTXG4gICAgb25Eb3VibGVDbGljayAoZXZlbnQsIGNvb3JkcylcbiAgICB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpO1xuICAgICAgICBjb25zdCBuZXdab29tTGV2ZWwgPSBldmVudC5jdHJsS2V5ID8gc2V0dGluZ3Muem9vbUxldmVsIC0gMSA6IHNldHRpbmdzLnpvb21MZXZlbCArIDE7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VQb3NpdGlvbkF0Vmlld3BvcnRPZmZzZXQoY29vcmRzKTtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS56b29tKG5ld1pvb21MZXZlbCwgcG9zaXRpb24pO1xuICAgIH1cblxuICAgIG9uUGluY2ggKGV2ZW50LCBjb29yZHMsIHN0YXJ0RGlzdGFuY2UsIGVuZERpc3RhbmNlKVxuICAgIHtcbiAgICAgICAgLy8gRklYTUU6IERvIHRoaXMgY2hlY2sgaW4gYSB3YXkgd2hpY2ggaXMgbGVzcyBzcGFnaGV0dGkgY29kZS15XG4gICAgICAgIGNvbnN0IHZpZXdlclN0YXRlID0gdGhpcy5fdmlld2VyQ29yZS5nZXRJbnRlcm5hbFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpO1xuXG4gICAgICAgIGxldCBuZXdab29tTGV2ZWwgPSBNYXRoLmxvZyhNYXRoLnBvdygyLCBzZXR0aW5ncy56b29tTGV2ZWwpICogZW5kRGlzdGFuY2UgLyAoc3RhcnREaXN0YW5jZSAqIE1hdGgubG9nKDIpKSkgLyBNYXRoLmxvZygyKTtcbiAgICAgICAgbmV3Wm9vbUxldmVsID0gTWF0aC5tYXgoc2V0dGluZ3MubWluWm9vbUxldmVsLCBuZXdab29tTGV2ZWwpO1xuICAgICAgICBuZXdab29tTGV2ZWwgPSBNYXRoLm1pbihzZXR0aW5ncy5tYXhab29tTGV2ZWwsIG5ld1pvb21MZXZlbCk7XG5cbiAgICAgICAgaWYgKG5ld1pvb21MZXZlbCA9PT0gc2V0dGluZ3Muem9vbUxldmVsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0UGFnZVBvc2l0aW9uQXRWaWV3cG9ydE9mZnNldChjb29yZHMpO1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpO1xuICAgICAgICBjb25zdCBjZW50ZXJPZmZzZXQgPSBsYXlvdXQuZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQocG9zaXRpb24uYW5jaG9yUGFnZSwgdmlld2VyU3RhdGUudmlld3BvcnQpO1xuICAgICAgICBjb25zdCBzY2FsZVJhdGlvID0gMSAvIE1hdGgucG93KDIsIHNldHRpbmdzLnpvb21MZXZlbCAtIG5ld1pvb21MZXZlbCk7XG5cbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5yZWxvYWQoe1xuICAgICAgICAgICAgem9vbUxldmVsOiBuZXdab29tTGV2ZWwsXG4gICAgICAgICAgICBnb0RpcmVjdGx5VG86IHBvc2l0aW9uLmFuY2hvclBhZ2UsXG4gICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiAoY2VudGVyT2Zmc2V0LnggLSBwb3NpdGlvbi5vZmZzZXQubGVmdCkgKyBwb3NpdGlvbi5vZmZzZXQubGVmdCAqIHNjYWxlUmF0aW8sXG4gICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldDogKGNlbnRlck9mZnNldC55IC0gcG9zaXRpb24ub2Zmc2V0LnRvcCkgKyBwb3NpdGlvbi5vZmZzZXQudG9wICogc2NhbGVSYXRpb1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBWSUVXIEVWRU5UU1xuICAgIG9uVmlld1dpbGxMb2FkICgpXG4gICAge1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goJ0RvY3VtZW50V2lsbExvYWQnLCB0aGlzLl92aWV3ZXJDb3JlLmdldFNldHRpbmdzKCkpO1xuICAgIH1cblxuICAgIG9uVmlld0RpZExvYWQgKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE86IFNob3VsZCBvbmx5IGJlIG5lY2Vzc2FyeSB0byBoYW5kbGUgY2hhbmdlcyBvbiB2aWV3IHVwZGF0ZSwgbm90XG4gICAgICAgIC8vIGluaXRpYWwgbG9hZFxuICAgICAgICB0aGlzLl9oYW5kbGVab29tTGV2ZWxDaGFuZ2UoKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50UGFnZUluZGV4ID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpLmFjdGl2ZVBhZ2VJbmRleDtcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VOYW1lKGN1cnJlbnRQYWdlSW5kZXgpO1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goXCJEb2N1bWVudERpZExvYWRcIiwgY3VycmVudFBhZ2VJbmRleCwgZmlsZU5hbWUpO1xuICAgIH1cblxuICAgIG9uVmlld0RpZFVwZGF0ZSAocmVuZGVyZWRQYWdlcywgdGFyZ2V0UGFnZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gKHRhcmdldFBhZ2UgIT09IG51bGwpID9cbiAgICAgICAgICAgIHRhcmdldFBhZ2UgOlxuICAgICAgICAgICAgZ2V0Q2VudGVybW9zdFBhZ2UocmVuZGVyZWRQYWdlcywgdGhpcy5fdmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCksIHRoaXMuX3ZpZXdlckNvcmUuZ2V0Vmlld3BvcnQoKSk7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSB2aXNpYmxlIHBhZ2VzIGZyb20gdGhlIHJlbmRlcmVkIHBhZ2VzXG4gICAgICAgIGxldCB0ZW1wID0gdGhpcy5fdmlld2VyU3RhdGUudmlld3BvcnQuaW50ZXJzZWN0aW9uVG9sZXJhbmNlO1xuICAgICAgICAvLyB3aXRob3V0IHNldHRpbmcgdG8gMCwgaXNQYWdlVmlzaWJsZSByZXR1cm5zIHRydWUgZm9yIHBhZ2VzIG91dCBvZiB2aWV3cG9ydCBieSBpbnRlcnNlY3Rpb25Ub2xlcmFuY2VcbiAgICAgICAgdGhpcy5fdmlld2VyU3RhdGUudmlld3BvcnQuaW50ZXJzZWN0aW9uVG9sZXJhbmNlID0gMDtcbiAgICAgICAgbGV0IHZpc2libGVQYWdlcyA9IHJlbmRlcmVkUGFnZXMuZmlsdGVyKGluZGV4ID0+IHRoaXMuX3ZpZXdlclN0YXRlLnJlbmRlcmVyLmlzUGFnZVZpc2libGUoaW5kZXgpKTtcbiAgICAgICAgLy8gcmVzZXQgYmFjayB0byBvcmlnaW5hbCB2YWx1ZSBhZnRlciBnZXR0aW5nIHRydWUgdmlzaWJsZSBwYWdlc1xuICAgICAgICB0aGlzLl92aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnRlcnNlY3Rpb25Ub2xlcmFuY2UgPSB0ZW1wO1xuXG4gICAgICAgIC8vIERvbid0IGNoYW5nZSB0aGUgY3VycmVudCBwYWdlIGlmIHRoZXJlIGlzIG5vIHBhZ2UgaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgIC8vIEZJWE1FOiBXb3VsZCBiZSBiZXR0ZXIgdG8gZmFsbCBiYWNrIHRvIHRoZSBwYWdlIGNsb3Nlc3QgdG8gdGhlIHZpZXdwb3J0XG4gICAgICAgIGlmIChjdXJyZW50UGFnZSAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5zZXRDdXJyZW50UGFnZXMoY3VycmVudFBhZ2UsIHZpc2libGVQYWdlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0UGFnZSAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5wdWJsaXNoKFwiVmlld2VyRGlkSnVtcFwiLCB0YXJnZXRQYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hhbmRsZVpvb21MZXZlbENoYW5nZSgpO1xuICAgIH1cblxuICAgIF9oYW5kbGVab29tTGV2ZWxDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHZpZXdlclN0YXRlID0gdGhpcy5fdmlld2VyU3RhdGU7XG4gICAgICAgIGNvbnN0IHpvb21MZXZlbCA9IHZpZXdlclN0YXRlLm9wdGlvbnMuem9vbUxldmVsO1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgbm90IHRoZSBpbml0aWFsIGxvYWQsIHRyaWdnZXIgdGhlIHpvb20gZXZlbnRzXG4gICAgICAgIGlmICh2aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWwgIT09IHpvb21MZXZlbCAmJiB2aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWwgPj0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA8IHpvb21MZXZlbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goXCJWaWV3ZXJEaWRab29tSW5cIiwgem9vbUxldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goXCJWaWV3ZXJEaWRab29tT3V0XCIsIHpvb21MZXZlbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucHVibGlzaChcIlZpZXdlckRpZFpvb21cIiwgem9vbUxldmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA9IHpvb21MZXZlbDtcbiAgICB9XG5cbiAgICBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9vdmVybGF5cy5mb3JFYWNoKChvdmVybGF5KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnJlbW92ZVBhZ2VPdmVybGF5KG92ZXJsYXkpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldENlbnRlcm1vc3RQYWdlIChyZW5kZXJlZFBhZ2VzLCBsYXlvdXQsIHZpZXdwb3J0KVxue1xuICAgIGNvbnN0IGNlbnRlclkgPSB2aWV3cG9ydC50b3AgKyAodmlld3BvcnQuaGVpZ2h0IC8gMik7XG4gICAgY29uc3QgY2VudGVyWCA9IHZpZXdwb3J0LmxlZnQgKyAodmlld3BvcnQud2lkdGggLyAyKTtcblxuICAgIC8vIEZpbmQgdGhlIG1pbmltdW0gZGlzdGFuY2UgZnJvbSB0aGUgdmlld3BvcnQgY2VudGVyIHRvIGEgcGFnZS5cbiAgICAvLyBDb21wdXRlIG1pbnVzIHRoZSBzcXVhcmVkIGRpc3RhbmNlIGZyb20gdmlld3BvcnQgY2VudGVyIHRvIHRoZSBwYWdlJ3MgYm9yZGVyLlxuICAgIC8vIGh0dHA6Ly9nYW1lZGV2LnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy80NDQ4My9ob3ctZG8taS1jYWxjdWxhdGUtZGlzdGFuY2UtYmV0d2Vlbi1hLXBvaW50LWFuZC1hbi1heGlzLWFsaWduZWQtcmVjdGFuZ2xlXG4gICAgY29uc3QgY2VudGVyUGFnZSA9IG1heEJ5KHJlbmRlcmVkUGFnZXMsIHBhZ2VJbmRleCA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgZGltcyA9IGxheW91dC5nZXRQYWdlRGltZW5zaW9ucyhwYWdlSW5kZXgpO1xuICAgICAgICBjb25zdCBpbWFnZU9mZnNldCA9IGxheW91dC5nZXRQYWdlT2Zmc2V0KHBhZ2VJbmRleCwge2luY2x1ZGVQYWRkaW5nOiB0cnVlfSk7XG5cbiAgICAgICAgY29uc3QgbWlkWCA9IGltYWdlT2Zmc2V0LmxlZnQgKyAoZGltcy53aWR0aCAvIDIpO1xuICAgICAgICBjb25zdCBtaWRZID0gaW1hZ2VPZmZzZXQudG9wICsgKGRpbXMuaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgY29uc3QgZHggPSBNYXRoLm1heChNYXRoLmFicyhjZW50ZXJYIC0gbWlkWCkgLSAoZGltcy53aWR0aCAvIDIpLCAwKTtcbiAgICAgICAgY29uc3QgZHkgPSBNYXRoLm1heChNYXRoLmFicyhjZW50ZXJZIC0gbWlkWSkgLSAoZGltcy5oZWlnaHQgLyAyKSwgMCk7XG5cbiAgICAgICAgcmV0dXJuIC0oZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNlbnRlclBhZ2UgIT0gbnVsbCA/IGNlbnRlclBhZ2UgOiBudWxsO1xufVxuIiwiaW1wb3J0IHsgbWF4QnkgfSBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkSGFuZGxlclxue1xuICAgIGNvbnN0cnVjdG9yICh2aWV3ZXJDb3JlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZSA9IHZpZXdlckNvcmU7XG4gICAgfVxuXG4gICAgLy8gVVNFUiBFVkVOVFNcbiAgICBvbkRvdWJsZUNsaWNrIChldmVudCwgY29vcmRzKVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VQb3NpdGlvbkF0Vmlld3BvcnRPZmZzZXQoY29vcmRzKTtcblxuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLl92aWV3ZXJDb3JlLmdldEN1cnJlbnRMYXlvdXQoKTtcbiAgICAgICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFZpZXdwb3J0KCk7XG4gICAgICAgIGNvbnN0IHBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0ID0gbGF5b3V0LmdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0KHBvc2l0aW9uLmFuY2hvclBhZ2UsIHZpZXdwb3J0KTtcblxuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnJlbG9hZCh7XG4gICAgICAgICAgICBpbkdyaWQ6IGZhbHNlLFxuICAgICAgICAgICAgZ29EaXJlY3RseVRvOiBwb3NpdGlvbi5hbmNob3JQYWdlLFxuICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogcGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQueCArIHBvc2l0aW9uLm9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IHBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0LnkgKyBwb3NpdGlvbi5vZmZzZXQudG9wXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUGluY2ggKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucmVsb2FkKHtpbkdyaWQ6IGZhbHNlfSk7XG4gICAgfVxuXG4gICAgLy8gVklFVyBFVkVOVFNcbiAgICBvblZpZXdXaWxsTG9hZCAoKVxuICAgIHtcbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogU2hvdWxkIHNvbWV0aGluZyBoYXBwZW4gaGVyZT9cbiAgICAgICAgLyogTm8tb3AgKi9cbiAgICB9XG5cbiAgICBvblZpZXdEaWRMb2FkICgpXG4gICAge1xuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBTaG91bGQgc29tZXRoaW5nIGhhcHBlbiBoZXJlP1xuICAgICAgICAvKiBOby1vcCAqL1xuICAgIH1cblxuICAgIG9uVmlld0RpZFVwZGF0ZSAocmVuZGVyZWRQYWdlcywgdGFyZ2V0UGFnZSlcbiAgICB7XG4gICAgICAgIC8vIHJldHVybiBlYXJseSBpZiB0aGVyZSBhcmUgbm8gcmVuZGVyZWQgcGFnZXMgaW4gdmlldy5cbiAgICAgICAgaWYgKHJlbmRlcmVkUGFnZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSB2aXNpYmxlIHBhZ2VzIGZyb20gdGhlIHJlbmRlcmVkIHBhZ2VzXG4gICAgICAgIGxldCB0ZW1wID0gdGhpcy5fdmlld2VyQ29yZS52aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG4gICAgICAgIC8vIHdpdGhvdXQgc2V0dGluZyB0byAwLCBpc1BhZ2VWaXNpYmxlIHJldHVybnMgdHJ1ZSBmb3IgcGFnZXMgb3V0IG9mIHZpZXdwb3J0IGJ5IGludGVyc2VjdGlvblRvbGVyYW5jZVxuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdGlvblRvbGVyYW5jZSA9IDA7XG4gICAgICAgIGxldCB2aXNpYmxlUGFnZXMgPSByZW5kZXJlZFBhZ2VzLmZpbHRlcihpbmRleCA9PiB0aGlzLl92aWV3ZXJDb3JlLnZpZXdlclN0YXRlLnJlbmRlcmVyLmlzUGFnZVZpc2libGUoaW5kZXgpKTtcbiAgICAgICAgLy8gcmVzZXQgYmFjayB0byBvcmlnaW5hbCB2YWx1ZSBhZnRlciBnZXR0aW5nIHRydWUgdmlzaWJsZSBwYWdlc1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdGlvblRvbGVyYW5jZSA9IHRlbXA7XG5cbiAgICAgICAgaWYgKHRhcmdldFBhZ2UgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUuc2V0Q3VycmVudFBhZ2VzKHRhcmdldFBhZ2UsIHZpc2libGVQYWdlcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWxlY3QgdGhlIGN1cnJlbnQgcGFnZSBmcm9tIHRoZSBmaXJzdCByb3cgaWYgaXQgaXMgZnVsbHkgdmlzaWJsZSwgb3IgZnJvbVxuICAgICAgICAvLyB0aGUgc2Vjb25kIHJvdyBpZiBpdCBpcyBmdWxseSB2aXNpYmxlLCBvciBmcm9tIHRoZSBjZW50ZXJtb3N0IHJvdyBvdGhlcndpc2UuXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50IHBhZ2UgaXMgaW4gdGhhdCBncm91cCB0aGVuIGRvbid0IGNoYW5nZSBpdC4gT3RoZXJ3aXNlLCBzZXRcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgcGFnZSB0byB0aGUgZ3JvdXAncyBmaXJzdCBwYWdlLlxuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpO1xuICAgICAgICBjb25zdCBncm91cHMgPSBbXTtcblxuICAgICAgICByZW5kZXJlZFBhZ2VzLmZvckVhY2gocGFnZUluZGV4ID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbGF5b3V0LmdldFBhZ2VJbmZvKHBhZ2VJbmRleCkuZ3JvdXA7XG4gICAgICAgICAgICBpZiAoZ3JvdXBzLmxlbmd0aCA9PT0gMCB8fCBncm91cCAhPT0gZ3JvdXBzW2dyb3Vwcy5sZW5ndGggLSAxXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBncm91cHMucHVzaChncm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy5fdmlld2VyQ29yZS5nZXRWaWV3cG9ydCgpO1xuICAgICAgICBsZXQgY2hvc2VuR3JvdXA7XG5cbiAgICAgICAgaWYgKGdyb3Vwcy5sZW5ndGggPT09IDEgfHwgZ3JvdXBzWzBdLnJlZ2lvbi50b3AgPj0gdmlld3BvcnQudG9wKVxuICAgICAgICB7XG4gICAgICAgICAgICBjaG9zZW5Hcm91cCA9IGdyb3Vwc1swXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChncm91cHNbMV0ucmVnaW9uLmJvdHRvbSA8PSB2aWV3cG9ydC5ib3R0b20pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNob3Nlbkdyb3VwID0gZ3JvdXBzWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY2hvc2VuR3JvdXAgPSBnZXRDZW50ZXJtb3N0R3JvdXAoZ3JvdXBzLCB2aWV3cG9ydCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKS5hY3RpdmVQYWdlSW5kZXg7XG5cbiAgICAgICAgY29uc3QgaGFzQ3VycmVudFBhZ2UgPSBjaG9zZW5Hcm91cC5wYWdlcy5zb21lKHBhZ2UgPT4gcGFnZS5pbmRleCA9PT0gY3VycmVudFBhZ2UpO1xuXG4gICAgICAgIGlmICghaGFzQ3VycmVudFBhZ2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUuc2V0Q3VycmVudFBhZ2VzKGNob3Nlbkdyb3VwLnBhZ2VzWzBdLmluZGV4LCB2aXNpYmxlUGFnZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgLy8gTm8tb3BcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldENlbnRlcm1vc3RHcm91cCAoZ3JvdXBzLCB2aWV3cG9ydClcbntcbiAgICBjb25zdCB2aWV3cG9ydE1pZGRsZSA9IHZpZXdwb3J0LnRvcCArIHZpZXdwb3J0LmhlaWdodCAvIDI7XG5cbiAgICByZXR1cm4gbWF4QnkoZ3JvdXBzLCBncm91cCA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgZ3JvdXBNaWRkbGUgPSBncm91cC5yZWdpb24udG9wICsgZ3JvdXAuZGltZW5zaW9ucy5oZWlnaHQgLyAyO1xuICAgICAgICByZXR1cm4gLU1hdGguYWJzKHZpZXdwb3J0TWlkZGxlIC0gZ3JvdXBNaWRkbGUpO1xuICAgIH0pO1xufVxuIiwiLyoqXG4gKiBNYW5hZ2VzIGEgY29sbGVjdGlvbiBvZiBwYWdlIG92ZXJsYXlzLCB3aGljaCBpbXBsZW1lbnQgYSBsb3ctbGV2ZWxcbiAqIEFQSSBmb3Igc3luY2hyb25pemluZyBIVE1MIHBhZ2VzIHRvIHRoZSBjYW52YXMuIEVhY2ggb3ZlcmxheSBuZWVkc1xuICogdG8gaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgcHJvdG9jb2w6XG4gKlxuICogICBtb3VudCgpOiBDYWxsZWQgd2hlbiBhIHBhZ2UgaXMgZmlyc3QgcmVuZGVyZWRcbiAqICAgcmVmcmVzaCgpOiBDYWxsZWQgd2hlbiBhIHBhZ2UgaXMgbW92ZWRcbiAqICAgdW5tb3VudCgpOiBDYWxsZWQgd2hlbiBhIHByZXZpb3VzbHkgcmVuZGVyZWQgcGFnZSBoYXMgc3RvcHBlZCBiZWluZyByZW5kZXJlZFxuICpcbiAqIEBjbGFzc1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2VPdmVybGF5TWFuYWdlclxue1xuICAgIGNvbnN0cnVjdG9yICgpXG4gICAge1xuICAgICAgICB0aGlzLl9wYWdlcyA9IHt9O1xuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzID0gW107XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkUGFnZU1hcCA9IHt9O1xuICAgIH1cblxuICAgIGFkZE92ZXJsYXkgKG92ZXJsYXkpXG4gICAge1xuICAgICAgICBjb25zdCBvdmVybGF5c0J5UGFnZSA9IHRoaXMuX3BhZ2VzW292ZXJsYXkucGFnZV0gfHwgKHRoaXMuX3BhZ2VzW292ZXJsYXkucGFnZV0gPSBbXSk7XG5cbiAgICAgICAgb3ZlcmxheXNCeVBhZ2UucHVzaChvdmVybGF5KTtcblxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWRQYWdlTWFwW292ZXJsYXkucGFnZV0pXG4gICAgICAgICAgICBvdmVybGF5Lm1vdW50KCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlT3ZlcmxheSAob3ZlcmxheSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBvdmVybGF5LnBhZ2U7XG4gICAgICAgIGNvbnN0IG92ZXJsYXlzQnlQYWdlID0gdGhpcy5fcGFnZXNbcGFnZV07XG5cbiAgICAgICAgaWYgKCFvdmVybGF5c0J5UGFnZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjb25zdCBvdmVybGF5SW5kZXggPSBvdmVybGF5c0J5UGFnZS5pbmRleE9mKG92ZXJsYXkpO1xuXG4gICAgICAgIGlmIChvdmVybGF5SW5kZXggPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJlZFBhZ2VNYXBbcGFnZV0pXG4gICAgICAgICAgICBvdmVybGF5c0J5UGFnZVtvdmVybGF5SW5kZXhdLnVubW91bnQoKTtcblxuICAgICAgICBvdmVybGF5c0J5UGFnZS5zcGxpY2Uob3ZlcmxheUluZGV4LCAxKTtcblxuICAgICAgICBpZiAob3ZlcmxheXNCeVBhZ2UubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BhZ2VzW3BhZ2VdO1xuICAgIH1cblxuICAgIHVwZGF0ZU92ZXJsYXlzIChyZW5kZXJlZFBhZ2VzKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNseVJlbmRlcmVkID0gdGhpcy5fcmVuZGVyZWRQYWdlcztcbiAgICAgICAgY29uc3QgbmV3UmVuZGVyZWRNYXAgPSB7fTtcblxuICAgICAgICByZW5kZXJlZFBhZ2VzLm1hcCggKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV3UmVuZGVyZWRNYXBbcGFnZUluZGV4XSA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fcmVuZGVyZWRQYWdlTWFwW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlTWFwW3BhZ2VJbmRleF0gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5faW52b2tlT25PdmVybGF5cyhwYWdlSW5kZXgsIG92ZXJsYXkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkubW91bnQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJldmlvdXNseVJlbmRlcmVkLm1hcCggKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld1JlbmRlcmVkTWFwW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW52b2tlT25PdmVybGF5cyhwYWdlSW5kZXgsIChvdmVybGF5KSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3JlbmRlcmVkUGFnZU1hcFtwYWdlSW5kZXhdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludm9rZU9uT3ZlcmxheXMocGFnZUluZGV4LCBvdmVybGF5ID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5LnVubW91bnQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcyA9IHJlbmRlcmVkUGFnZXM7XG4gICAgfVxuXG4gICAgX2ludm9rZU9uT3ZlcmxheXMgKHBhZ2VJbmRleCwgZnVuYylcbiAgICB7XG4gICAgICAgIGNvbnN0IG92ZXJsYXlzID0gdGhpcy5fcGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgaWYgKG92ZXJsYXlzKVxuICAgICAgICAgICAgb3ZlcmxheXMubWFwKCAobykgPT4gZnVuYyhvKSApO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGVDb3ZlcmFnZU1hcFxue1xuICAgIGNvbnN0cnVjdG9yIChyb3dzLCBjb2xzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcm93cyA9IHJvd3M7XG4gICAgICAgIHRoaXMuX2NvbHMgPSBjb2xzO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgQXJyYXkocm93cykuZmlsbChudWxsKS5tYXAoKCkgPT4gbmV3IEFycmF5KGNvbHMpLmZpbGwoZmFsc2UpKTtcbiAgICB9XG5cbiAgICBpc0xvYWRlZCAocm93LCBjb2wpXG4gICAge1xuICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBmb3Igb3V0IG9mIGJvdW5kcyB0aWxlcyBiZWNhdXNlIHRoZXlcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBsb2FkLiAoVW5mb3J0dW5hdGVseSB0aGlzIHdpbGwgYWxzb1xuICAgICAgICAvLyBtYXNrIGxvZ2ljYWwgZXJyb3JzLilcbiAgICAgICAgaWYgKHJvdyA+PSB0aGlzLl9yb3dzIHx8IGNvbCA+PSB0aGlzLl9jb2xzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcFtyb3ddW2NvbF07XG4gICAgfVxuXG4gICAgc2V0KHJvdywgY29sLCB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX21hcFtyb3ddW2NvbF0gPSB2YWx1ZTtcbiAgICB9XG59IiwiaW1wb3J0IFRpbGVDb3ZlcmFnZU1hcCBmcm9tIFwiLi90aWxlLWNvdmVyYWdlLW1hcFwiO1xuXG4vKipcbiAqIEBjbGFzcyBDb21wb3NpdGVJbWFnZVxuICogQHByaXZhdGVcbiAqXG4gKiBVdGlsaXR5IGNsYXNzIHRvIGNvbXBvc2l0ZSB0aWxlcyBpbnRvIGEgY29tcGxldGUgaW1hZ2VcbiAqIGFuZCB0cmFjayB0aGUgcmVuZGVyZWQgc3RhdGUgb2YgYW4gaW1hZ2UgYXMgbmV3IHRpbGVzXG4gKiBsb2FkLlxuICovXG5cbi8qKlxuICogQHBhcmFtIGxldmVscyB7QXJyYXkuPEFycmF5LjxUaWxlPj59XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9zaXRlSW1hZ2VcbntcbiAgICBjb25zdHJ1Y3RvcihsZXZlbHMpXG4gICAge1xuICAgICAgICB0aGlzLl9sZXZlbHMgPSBsZXZlbHM7ICAvLyBBc3N1bWUgbGV2ZWxzIHNvcnRlZCBoaWdoLXJlcyBmaXJzdFxuICAgICAgICBjb25zdCB1cmxzVG9UaWxlcyA9IHRoaXMuX3VybHNUb1RpbGVzID0ge307XG5cbiAgICAgICAgbGV2ZWxzLmZvckVhY2gobGV2ZWwgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV2ZWwudGlsZXMuZm9yRWFjaCh0aWxlID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXJsc1RvVGlsZXNbdGlsZS51cmxdID0ge1xuICAgICAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IGxldmVsLnpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgcm93OiB0aWxlLnJvdyxcbiAgICAgICAgICAgICAgICAgICAgY29sOiB0aWxlLmNvbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNsZWFyICgpXG4gICAge1xuICAgICAgICBjb25zdCBsb2FkZWRCeUxldmVsID0gdGhpcy5fbG9hZGVkQnlMZXZlbCA9IHt9O1xuXG4gICAgICAgIHRoaXMuX2xldmVscy5mb3JFYWNoKGxldmVsID0+IHtcbiAgICAgICAgICAgIGxvYWRlZEJ5TGV2ZWxbbGV2ZWwuem9vbUxldmVsXSA9IG5ldyBUaWxlQ292ZXJhZ2VNYXAobGV2ZWwucm93cywgbGV2ZWwuY29scyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldFRpbGVzIChiYXNlWm9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgY29uc3QgdG9SZW5kZXJCeUxldmVsID0gW107XG4gICAgICAgIGNvbnN0IGhpZ2hlc3Rab29tTGV2ZWwgPSB0aGlzLl9sZXZlbHNbMF0uem9vbUxldmVsO1xuICAgICAgICBjb25zdCBjb3ZlcmVkID0gbmV3IFRpbGVDb3ZlcmFnZU1hcCh0aGlzLl9sZXZlbHNbMF0ucm93cywgdGhpcy5fbGV2ZWxzWzBdLmNvbHMpO1xuXG4gICAgICAgIGxldCBiZXN0TGV2ZWxJbmRleDtcblxuICAgICAgICAvLyBEZWZhdWx0IHRvIHRoZSBsb3dlc3Qgem9vbSBsZXZlbFxuICAgICAgICBpZiAoYmFzZVpvb21MZXZlbCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgYmVzdExldmVsSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2VpbExldmVsID0gTWF0aC5jZWlsKGJhc2Vab29tTGV2ZWwpO1xuICAgICAgICAgICAgYmVzdExldmVsSW5kZXggPSBmaW5kSW5kZXgodGhpcy5fbGV2ZWxzLCBsZXZlbCA9PiBsZXZlbC56b29tTGV2ZWwgPD0gY2VpbExldmVsKTtcbiAgICAgICAgICAgIC8vIGJlc3RMZXZlbEluZGV4ID0gdGhpcy5fbGV2ZWxzLmZpbmRJbmRleCgobGV2ZWwpID0+IGxldmVsLnpvb21MZXZlbCA8PSBjZWlsTGV2ZWwpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBUaGUgYmVzdCBsZXZlbCwgZm9sbG93ZWQgYnkgaGlnaGVyLXJlcyBsZXZlbHMgaW4gYXNjZW5kaW5nIG9yZGVyIG9mIHJlc29sdXRpb24sXG4gICAgICAgIC8vIGZvbGxvd2VkIGJ5IGxvd2VyLXJlcyBsZXZlbHMgaW4gZGVzY2VuZGluZyBvcmRlciBvZiByZXNvbHV0aW9uXG4gICAgICAgIGNvbnN0IGxldmVsc0J5UHJlZmVyZW5jZSA9IHRoaXMuX2xldmVscy5zbGljZSgwLCBiZXN0TGV2ZWxJbmRleCArIDEpLnJldmVyc2UoKVxuICAgICAgICAgICAgLmNvbmNhdCh0aGlzLl9sZXZlbHMuc2xpY2UoYmVzdExldmVsSW5kZXggKyAxKSk7XG5cbiAgICAgICAgbGV2ZWxzQnlQcmVmZXJlbmNlLmZvckVhY2goIChsZXZlbCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5fbG9hZGVkQnlMZXZlbFtsZXZlbC56b29tTGV2ZWxdO1xuXG4gICAgICAgICAgICBsZXQgYWRkaXRpb25hbFRpbGVzID0gbGV2ZWwudGlsZXMuZmlsdGVyKHRpbGUgPT4gbG9hZGVkLmlzTG9hZGVkKHRpbGUucm93LCB0aWxlLmNvbCkpO1xuXG4gICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IGVudGlyZWx5IGNvdmVyZWQgdGlsZXNcblxuICAgICAgICAgICAgLy8gRklYTUU6IElzIGl0IGJldHRlciB0byBkcmF3IGFsbCBvZiBhIHBhcnRpYWxseSBjb3ZlcmVkIHRpbGUsXG4gICAgICAgICAgICAvLyB3aXRoIHNvbWUgb2YgaXQgdWx0aW1hdGVseSBjb3ZlcmVkLCBvciB0byBwaWNrIG91dCB0aGUgcmVnaW9uXG4gICAgICAgICAgICAvLyB3aGljaCBuZWVkcyB0byBiZSBkcmF3bj9cbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vRERNQUwvZGl2YS5qcy9pc3N1ZXMvMzU4XG4gICAgICAgICAgICBjb25zdCBzY2FsZVJhdGlvID0gTWF0aC5wb3coMiwgaGlnaGVzdFpvb21MZXZlbCAtIGxldmVsLnpvb21MZXZlbCk7XG5cbiAgICAgICAgICAgIGFkZGl0aW9uYWxUaWxlcyA9IGFkZGl0aW9uYWxUaWxlcy5maWx0ZXIodGlsZSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGlzTmVlZGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBoaWdoUmVzUm93ID0gdGlsZS5yb3cgKiBzY2FsZVJhdGlvO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hSZXNDb2wgPSB0aWxlLmNvbCAqIHNjYWxlUmF0aW87XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBzY2FsZVJhdGlvOyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqPTA7IGogPCBzY2FsZVJhdGlvOyBqKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY292ZXJlZC5pc0xvYWRlZChoaWdoUmVzUm93ICsgaSwgaGlnaFJlc0NvbCArIGopKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmVlZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcmVkLnNldChoaWdoUmVzUm93ICsgaSwgaGlnaFJlc0NvbCArIGosIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTmVlZGVkO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRvUmVuZGVyQnlMZXZlbC5wdXNoKGFkZGl0aW9uYWxUaWxlcyk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIC8vIExlc3MtcHJlZmVycmVkIHRpbGVzIHNob3VsZCBjb21lIGZpcnN0XG4gICAgICAgIHRvUmVuZGVyQnlMZXZlbC5yZXZlcnNlKCk7XG5cbiAgICAgICAgY29uc3QgdGlsZXMgPSBbXTtcblxuICAgICAgICB0b1JlbmRlckJ5TGV2ZWwuZm9yRWFjaChieUxldmVsID0+IHtcbiAgICAgICAgICAgIHRpbGVzLnB1c2guYXBwbHkodGlsZXMsIGJ5TGV2ZWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGlsZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBjb21wb3NpdGUgaW1hZ2UgdG8gdGFrZSBpbnRvIGFjY291bnQgYWxsIHRoZSBVUkxzXG4gICAgICogbG9hZGVkIGluIGFuIGltYWdlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhY2hlIHtJbWFnZUNhY2hlfVxuICAgICAqL1xuICAgIHVwZGF0ZUZyb21DYWNoZSAoY2FjaGUpXG4gICAge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5fbGV2ZWxzLmZvckVhY2goIChsZXZlbCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5fbG9hZGVkQnlMZXZlbFtsZXZlbC56b29tTGV2ZWxdO1xuXG4gICAgICAgICAgICBsZXZlbC50aWxlcy5mb3JFYWNoKHRpbGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZS5oYXModGlsZS51cmwpKVxuICAgICAgICAgICAgICAgICAgICBsb2FkZWQuc2V0KHRpbGUucm93LCB0aWxlLmNvbCwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlV2l0aExvYWRlZFVybHMgKHVybHMpXG4gICAge1xuICAgICAgICB1cmxzLmZvckVhY2goICh1cmwpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5fdXJsc1RvVGlsZXNbdXJsXTtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlZEJ5TGV2ZWxbZW50cnkuem9vbUxldmVsXS5zZXQoZW50cnkucm93LCBlbnRyeS5jb2wsIHRydWUpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59XG5cbi8vIGZ1bmN0aW9uIGZpbGwgKGNvdW50LCB2YWx1ZSlcbi8vIHtcbi8vICAgICBjb25zdCBhcnIgPSBuZXcgQXJyYXkoY291bnQpO1xuLy9cbi8vICAgICBmb3IgKGxldCBpPTA7IGkgPCBjb3VudDsgaSsrKVxuLy8gICAgICAgICBhcnJbaV0gPSB2YWx1ZTtcbi8vXG4vLyAgICAgcmV0dXJuIGFycjtcbi8vIH1cblxuZnVuY3Rpb24gZmluZEluZGV4IChhcnJheSwgcHJlZGljYXRlKVxue1xuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpXSwgaSkpXG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59XG4iLCIvKipcbiAqIFRyYW5zbGF0ZSBwYWdlIGxheW91dHMsIGFzIGdlbmVyYXRlZCBieSBwYWdlLWxheW91dHMsIGludG8gYW5cbiAqIG9iamVjdCB3aGljaCBjb21wdXRlcyBsYXlvdXQgaW5mb3JtYXRpb24gZm9yIHRoZSBkb2N1bWVudCBhc1xuICogYSB3aG9sZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9jdW1lbnRMYXlvdXRcbntcbiAgICBjb25zdHJ1Y3RvciAoY29uZmlnLCB6b29tTGV2ZWwpXG4gICAge1xuICAgICAgICBjb25zdCBjb21wdXRlZExheW91dCA9IGdldENvbXB1dGVkTGF5b3V0KGNvbmZpZywgem9vbUxldmVsKTtcblxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBjb21wdXRlZExheW91dC5kaW1lbnNpb25zO1xuICAgICAgICB0aGlzLnBhZ2VHcm91cHMgPSBjb21wdXRlZExheW91dC5wYWdlR3JvdXBzO1xuICAgICAgICB0aGlzLl9wYWdlTG9va3VwID0gZ2V0UGFnZUxvb2t1cChjb21wdXRlZExheW91dC5wYWdlR3JvdXBzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBQYWdlSW5mb1xuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEBwcm9wZXJ0eSB7e2luZGV4LCBkaW1lbnNpb25zLCBwYWdlcywgcmVnaW9uLCBwYWRkaW5nfX0gZ3JvdXBcbiAgICAgKiBAcHJvcGVydHkge3toZWlnaHQ6IG51bWJlciwgd2lkdGg6IG51bWJlcn19IGRpbWVuc2lvbnNcbiAgICAgKiBAcHJvcGVydHkge3t0b3A6IG51bWJlciwgbGVmdDogbnVtYmVyfX0gZ3JvdXBPZmZzZXRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcmV0dXJucyB7UGFnZUluZm98bnVsbH1cbiAgICAgKi9cbiAgICBnZXRQYWdlSW5mbyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VMb29rdXBbcGFnZUluZGV4XSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGltZW5zaW9ucyBvZiBhIHBhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcmV0dXJucyB7e2hlaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyfX1cbiAgICAgKi9cbiAgICBnZXRQYWdlRGltZW5zaW9ucyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wYWdlTG9va3VwIHx8ICF0aGlzLl9wYWdlTG9va3VwW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCByZWdpb24gPSBnZXRQYWdlUmVnaW9uRnJvbVBhZ2VJbmZvKHRoaXMuX3BhZ2VMb29rdXBbcGFnZUluZGV4XSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogcmVnaW9uLmJvdHRvbSAtIHJlZ2lvbi50b3AsXG4gICAgICAgICAgICB3aWR0aDogcmVnaW9uLnJpZ2h0IC0gcmVnaW9uLmxlZnRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBUT0RPKHdhYmFpbik6IEdldCByaWQgb2YgdGhpczsgaXQncyBhIHN1YnNldCBvZiB0aGUgcGFnZSByZWdpb24sIHNvXG4gICAgLy8gZ2l2ZSB0aGF0IGluc3RlYWRcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRvcC1sZWZ0IGNvb3JkaW5hdGVzIG9mIGEgcGFnZSwgaW5jbHVkaW5nKioqIHBhZGRpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHt7dG9wOiBudW1iZXIsIGxlZnQ6IG51bWJlcn0gfCBudWxsfVxuICAgICAqL1xuICAgIGdldFBhZ2VPZmZzZXQgKHBhZ2VJbmRleCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IHRoaXMuZ2V0UGFnZVJlZ2lvbihwYWdlSW5kZXgsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICghcmVnaW9uKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0UGFnZVJlZ2lvbiAocGFnZUluZGV4LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZUluZm8gPSB0aGlzLl9wYWdlTG9va3VwW3BhZ2VJbmRleF07XG5cbiAgICAgICAgaWYgKCFwYWdlSW5mbylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IGdldFBhZ2VSZWdpb25Gcm9tUGFnZUluZm8ocGFnZUluZm8pO1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gcGFnZUluZm8uZ3JvdXAucGFkZGluZztcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmluY2x1ZGVQYWRkaW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCArIHBhZGRpbmcudG9wLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0ICsgcGFkZGluZy5sZWZ0LFxuICAgICAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uLmJvdHRvbSxcbiAgICAgICAgICAgICAgICByaWdodDogcmVnaW9uLnJpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0LFxuICAgICAgICAgICAgLy8gbmVlZCB0byBhY2NvdW50IGZvciBwbHVnaW4gaWNvbnMgYmVsb3cgdGhlIHBhZ2UsIHNlZSBcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ERE1BTC9kaXZhLmpzL2lzc3Vlcy80MzZcbiAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uLmJvdHRvbSArIHBhZGRpbmcudG9wLCBcbiAgICAgICAgICAgIHJpZ2h0OiByZWdpb24ucmlnaHRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHRvcC1yaWdodCBvZiB0aGUgcGFnZSB0byB0aGUgY2VudGVyIG9mIHRoZVxuICAgICAqIHNwZWNpZmllZCB2aWV3cG9ydCByZWdpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcGFyYW0gdmlld3BvcnQge3t0b3A6IG51bWJlciwgbGVmdDogbnVtYmVyLCBib3R0b206IG51bWJlciwgcmlnaHQ6IG51bWJlcn19XG4gICAgICogQHJldHVybnMge3t4OiBudW1iZXIsIHk6IG51bWJlcn19XG4gICAgICovXG4gICAgZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQgKHBhZ2VJbmRleCwgdmlld3BvcnQpXG4gICAge1xuICAgICAgICBjb25zdCBzY3JvbGxMZWZ0ID0gdmlld3BvcnQubGVmdDtcbiAgICAgICAgY29uc3QgZWxlbWVudFdpZHRoID0gdmlld3BvcnQucmlnaHQgLSB2aWV3cG9ydC5sZWZ0O1xuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuZ2V0UGFnZU9mZnNldChwYWdlSW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IHggPSBzY3JvbGxMZWZ0IC0gb2Zmc2V0LmxlZnQgKyBwYXJzZUludChlbGVtZW50V2lkdGggLyAyLCAxMCk7XG5cbiAgICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gdmlld3BvcnQudG9wO1xuICAgICAgICBjb25zdCBlbGVtZW50SGVpZ2h0ID0gdmlld3BvcnQuYm90dG9tIC0gdmlld3BvcnQudG9wO1xuXG4gICAgICAgIGNvbnN0IHkgPSBzY3JvbGxUb3AgLSBvZmZzZXQudG9wICsgcGFyc2VJbnQoZWxlbWVudEhlaWdodCAvIDIsIDEwKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhZ2VSZWdpb25Gcm9tUGFnZUluZm8gKHBhZ2UpXG57XG4gICAgY29uc3QgdG9wICAgID0gcGFnZS5ncm91cE9mZnNldC50b3AgICsgcGFnZS5ncm91cC5yZWdpb24udG9wO1xuICAgIGNvbnN0IGJvdHRvbSA9IHRvcCArIHBhZ2UuZGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgY29uc3QgbGVmdCAgID0gcGFnZS5ncm91cE9mZnNldC5sZWZ0ICsgcGFnZS5ncm91cC5yZWdpb24ubGVmdDtcbiAgICBjb25zdCByaWdodCAgPSBsZWZ0ICsgcGFnZS5kaW1lbnNpb25zLndpZHRoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGJvdHRvbTogYm90dG9tLFxuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICByaWdodDogcmlnaHRcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRQYWdlTG9va3VwIChwYWdlR3JvdXBzKVxue1xuICAgIGNvbnN0IHBhZ2VMb29rdXAgPSB7fTtcblxuICAgIHBhZ2VHcm91cHMuZm9yRWFjaChncm91cCA9PiB7XG4gICAgICAgIGdyb3VwLnBhZ2VzLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICAgICAgICBwYWdlTG9va3VwW3BhZ2UuaW5kZXhdID0ge1xuICAgICAgICAgICAgICAgIGluZGV4OiBwYWdlLmluZGV4LFxuICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cCxcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiBwYWdlLmRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHBhZ2UuZ3JvdXBPZmZzZXRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHBhZ2VMb29rdXA7XG59XG5cbmZ1bmN0aW9uIGdldENvbXB1dGVkTGF5b3V0IChjb25maWcsIHpvb21MZXZlbClcbntcbiAgICBjb25zdCBzY2FsZWRMYXlvdXRzID0gem9vbUxldmVsID09PSBudWxsID8gY29uZmlnLnBhZ2VMYXlvdXRzIDogZ2V0U2NhbGVkUGFnZUxheW91dHMoY29uZmlnLCB6b29tTGV2ZWwpO1xuXG4gICAgY29uc3QgZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQgPSBnZXRFeHRlbnRBbG9uZ1NlY29uZGFyeUF4aXMoY29uZmlnLCBzY2FsZWRMYXlvdXRzKTtcblxuICAgIC8vIFRoZSBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCBhbG9uZyB0aGUgcHJpbWFyeSBheGlzXG4gICAgbGV0IHByaW1hcnlEb2NQb3NpdGlvbiA9IGNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQgP1xuICAgICAgICBjb25maWcucGFkZGluZy5kb2N1bWVudC50b3AgOlxuICAgICAgICBjb25maWcucGFkZGluZy5kb2N1bWVudC5sZWZ0O1xuXG4gICAgY29uc3QgcGFnZUdyb3VwcyA9IFtdO1xuXG4gICAgLy8gVE9ETzogVXNlIGJvdHRvbSwgcmlnaHQgYXMgd2VsbFxuICAgIGNvbnN0IHBhZ2VQYWRkaW5nID0ge1xuICAgICAgICB0b3A6IGNvbmZpZy5wYWRkaW5nLnBhZ2UudG9wLFxuICAgICAgICBsZWZ0OiBjb25maWcucGFkZGluZy5wYWdlLmxlZnRcbiAgICB9O1xuXG4gICAgc2NhbGVkTGF5b3V0cy5mb3JFYWNoKChsYXlvdXQsIGluZGV4KSA9PiB7XG4gICAgICAgIGxldCB0b3AsIGxlZnQ7XG5cbiAgICAgICAgaWYgKGNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvcCA9IHByaW1hcnlEb2NQb3NpdGlvbjtcbiAgICAgICAgICAgIGxlZnQgPSAoZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQgLSBsYXlvdXQuZGltZW5zaW9ucy53aWR0aCkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdG9wID0gKGRvY3VtZW50U2Vjb25kYXJ5RXh0ZW50IC0gbGF5b3V0LmRpbWVuc2lvbnMuaGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICBsZWZ0ID0gcHJpbWFyeURvY1Bvc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVnaW9uID0ge1xuICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICBib3R0b206IHRvcCArIHBhZ2VQYWRkaW5nLnRvcCArIGxheW91dC5kaW1lbnNpb25zLmhlaWdodCxcbiAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICByaWdodDogbGVmdCArIHBhZ2VQYWRkaW5nLmxlZnQgKyBsYXlvdXQuZGltZW5zaW9ucy53aWR0aFxuICAgICAgICB9O1xuXG4gICAgICAgIHBhZ2VHcm91cHMucHVzaCh7XG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBsYXlvdXQuZGltZW5zaW9ucyxcbiAgICAgICAgICAgIHBhZ2VzOiBsYXlvdXQucGFnZXMsXG4gICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgIHBhZGRpbmc6IHBhZ2VQYWRkaW5nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHByaW1hcnlEb2NQb3NpdGlvbiA9IGNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQgPyByZWdpb24uYm90dG9tIDogcmVnaW9uLnJpZ2h0O1xuICAgIH0pO1xuXG4gICAgbGV0IGhlaWdodCwgd2lkdGg7XG5cbiAgICBpZiAoY29uZmlnLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICB7XG4gICAgICAgIGhlaWdodCA9IHByaW1hcnlEb2NQb3NpdGlvbiArIHBhZ2VQYWRkaW5nLnRvcDtcbiAgICAgICAgd2lkdGggPSBkb2N1bWVudFNlY29uZGFyeUV4dGVudDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgaGVpZ2h0ID0gZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQ7XG4gICAgICAgIHdpZHRoID0gcHJpbWFyeURvY1Bvc2l0aW9uICsgcGFnZVBhZGRpbmcubGVmdDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICB9LFxuICAgICAgICBwYWdlR3JvdXBzOiBwYWdlR3JvdXBzXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2NhbGVkUGFnZUxheW91dHMgKGNvbmZpZywgem9vbUxldmVsKVxue1xuICAgIGNvbnN0IHNjYWxlUmF0aW8gPSBNYXRoLnBvdygyLCB6b29tTGV2ZWwgLSBjb25maWcubWF4Wm9vbUxldmVsKTtcblxuICAgIHJldHVybiBjb25maWcucGFnZUxheW91dHMubWFwKGdyb3VwID0+ICh7XG4gICAgICAgIGRpbWVuc2lvbnM6IHNjYWxlRGltZW5zaW9ucyhncm91cC5kaW1lbnNpb25zLCBzY2FsZVJhdGlvKSxcblxuICAgICAgICBwYWdlczogZ3JvdXAucGFnZXMubWFwKHBhZ2UgPT4gKHtcbiAgICAgICAgICAgIGluZGV4OiBwYWdlLmluZGV4LFxuXG4gICAgICAgICAgICBncm91cE9mZnNldDoge1xuICAgICAgICAgICAgICAgIHRvcDogTWF0aC5mbG9vcihwYWdlLmdyb3VwT2Zmc2V0LnRvcCAqIHNjYWxlUmF0aW8pLFxuICAgICAgICAgICAgICAgIGxlZnQ6IE1hdGguZmxvb3IocGFnZS5ncm91cE9mZnNldC5sZWZ0ICogc2NhbGVSYXRpbylcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHNjYWxlRGltZW5zaW9ucyhwYWdlLmRpbWVuc2lvbnMsIHNjYWxlUmF0aW8pXG4gICAgICAgIH0pKVxuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gc2NhbGVEaW1lbnNpb25zIChkaW1lbnNpb25zLCBzY2FsZVJhdGlvKVxue1xuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogTWF0aC5mbG9vcihkaW1lbnNpb25zLmhlaWdodCAqIHNjYWxlUmF0aW8pLFxuICAgICAgICB3aWR0aDogTWF0aC5mbG9vcihkaW1lbnNpb25zLndpZHRoICogc2NhbGVSYXRpbylcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRFeHRlbnRBbG9uZ1NlY29uZGFyeUF4aXMgKGNvbmZpZywgc2NhbGVkTGF5b3V0cylcbntcbiAgICAvLyBHZXQgdGhlIGV4dGVudCBvZiB0aGUgZG9jdW1lbnQgYWxvbmcgdGhlIHNlY29uZGFyeSBheGlzXG4gICAgbGV0IHNlY29uZGFyeURpbSwgc2Vjb25kYXJ5UGFkZGluZztcbiAgICBjb25zdCBkb2NQYWRkaW5nID0gY29uZmlnLnBhZGRpbmcuZG9jdW1lbnQ7XG5cbiAgICBpZiAoY29uZmlnLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICB7XG4gICAgICAgIHNlY29uZGFyeURpbSA9ICd3aWR0aCc7XG4gICAgICAgIHNlY29uZGFyeVBhZGRpbmcgPSBkb2NQYWRkaW5nLmxlZnQgKyBkb2NQYWRkaW5nLnJpZ2h0O1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBzZWNvbmRhcnlEaW0gPSAnaGVpZ2h0JztcbiAgICAgICAgc2Vjb25kYXJ5UGFkZGluZyA9IGRvY1BhZGRpbmcudG9wICsgZG9jUGFkZGluZy5ib3R0b207XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlY29uZGFyeVBhZGRpbmcgKyBzY2FsZWRMYXlvdXRzLnJlZHVjZSgobWF4RGltLCBsYXlvdXQpID0+IE1hdGgubWF4KGxheW91dC5kaW1lbnNpb25zW3NlY29uZGFyeURpbV0sIG1heERpbSksIDApO1xufVxuIiwiY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdkaXZhOkltYWdlQ2FjaGUnKTtcblxuLyogRklYTUUod2FiYWluKTogVGhlIGNhY2hpbmcgc3RyYXRlZ3kgaGVyZSBpcyBjb21wbGV0ZWx5XG4gKiBhcmJpdHJhcnkgYW5kIHRoZSBpbXBsZW1lbnRhdGlvbiBpc24ndCBlc3BlY2lhbGx5IGVmZmljaWVudC5cbiAqL1xuY29uc3QgREVGQVVMVF9NQVhfS0VZUyA9IDEwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VDYWNoZVxue1xuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBtYXhLZXlzOiBERUZBVUxUX01BWF9LRVlTIH07XG4gICAgICAgIHRoaXMubWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cyB8fCBERUZBVUxUX01BWF9LRVlTO1xuXG4gICAgICAgIHRoaXMuX2hlbGQgPSB7fTtcbiAgICAgICAgdGhpcy5fdXJscyA9IHt9O1xuICAgICAgICB0aGlzLl9scnUgPSBbXTtcbiAgICB9XG5cbiAgICBnZXQgKHVybClcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHRoaXMuX3VybHNbdXJsXTtcbiAgICAgICAgcmV0dXJuIHJlY29yZCA/IHJlY29yZC5pbWcgOiBudWxsO1xuICAgIH1cblxuICAgIGhhcyAodXJsKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fdXJsc1t1cmxdO1xuICAgIH1cblxuICAgIHB1dCAodXJsLCBpbWcpXG4gICAge1xuICAgICAgICBsZXQgcmVjb3JkID0gdGhpcy5fdXJsc1t1cmxdO1xuICAgICAgICBpZiAocmVjb3JkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBGSVhNRTogRG9lcyB0aGlzIG1ha2Ugc2Vuc2UgZm9yIHRoaXMgdXNlIGNhc2U/XG4gICAgICAgICAgICByZWNvcmQuaW1nID0gaW1nO1xuICAgICAgICAgICAgdGhpcy5fcHJvbW90ZShyZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjb3JkID0ge1xuICAgICAgICAgICAgICAgIGltZzogaW1nLFxuICAgICAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLl91cmxzW3VybF0gPSByZWNvcmQ7XG4gICAgICAgICAgICB0aGlzLl90cnlFdmljdCgxKTtcbiAgICAgICAgICAgIHRoaXMuX2xydS51bnNoaWZ0KHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJvbW90ZSAocmVjb3JkKVxuICAgIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9scnUuaW5kZXhPZihyZWNvcmQpO1xuICAgICAgICB0aGlzLl9scnUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5fbHJ1LnVuc2hpZnQocmVjb3JkKTtcbiAgICB9XG5cbiAgICBfdHJ5RXZpY3QgKGV4dHJhQ2FwYWNpdHkpXG4gICAge1xuICAgICAgICBjb25zdCBhbGxvd2VkRW50cnlDb3VudCA9IHRoaXMubWF4S2V5cyAtIGV4dHJhQ2FwYWNpdHk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xydS5sZW5ndGggPD0gYWxsb3dlZEVudHJ5Q291bnQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgbGV0IGV2aWN0aW9uSW5kZXggPSB0aGlzLl9scnUubGVuZ3RoIC0gMTtcblxuICAgICAgICBmb3IgKDs7KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl9scnVbZXZpY3Rpb25JbmRleF07XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5faGVsZFt0YXJnZXQudXJsXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZygnRXZpY3RpbmcgaW1hZ2UgJXMnLCB0YXJnZXQudXJsKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9scnUuc3BsaWNlKGV2aWN0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl91cmxzW3RhcmdldC51cmxdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xydS5sZW5ndGggPD0gYWxsb3dlZEVudHJ5Q291bnQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZpY3Rpb25JbmRleCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIGRlYnVnLmVuYWJsZWQgJiYgZGVidWcoJ0NhY2hlIG92ZXJmdWxsIGJ5ICVzIChhbGwgZW50cmllcyBhcmUgYmVpbmcgaGVsZCknLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9scnUubGVuZ3RoIC0gYWxsb3dlZEVudHJ5Q291bnQpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGV2aWN0aW9uSW5kZXgtLTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFjcXVpcmUgKHVybClcbiAgICB7XG4gICAgICAgIHRoaXMuX2hlbGRbdXJsXSA9ICh0aGlzLl9oZWxkW3VybF0gfHwgMCkgKyAxO1xuICAgICAgICB0aGlzLl9wcm9tb3RlKHRoaXMuX3VybHNbdXJsXSk7XG4gICAgfVxuXG4gICAgcmVsZWFzZSAodXJsKVxuICAgIHtcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9oZWxkW3VybF07XG5cbiAgICAgICAgaWYgKGNvdW50ID4gMSlcbiAgICAgICAgICAgIHRoaXMuX2hlbGRbdXJsXS0tO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faGVsZFt1cmxdO1xuXG4gICAgICAgIHRoaXMuX3RyeUV2aWN0KDApO1xuICAgIH1cbn1cbiIsIi8qKlxuICogSGFuZGxlciBmb3IgdGhlIHJlcXVlc3QgZm9yIGFuIGltYWdlIHRpbGVcbiAqXG4gKiBAcGFyYW0gdXJsXG4gKiBAcGFyYW0gY2FsbGJhY2tcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZVJlcXVlc3RIYW5kbGVyXG57XG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLl91cmwgPSBvcHRpb25zLnVybDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBvcHRpb25zLmxvYWQ7XG4gICAgICAgIHRoaXMuX2Vycm9yQ2FsbGJhY2sgPSBvcHRpb25zLmVycm9yO1xuICAgICAgICB0aGlzLnRpbWVvdXRUaW1lID0gb3B0aW9ucy50aW1lb3V0VGltZSB8fCAwO1xuICAgICAgICB0aGlzLl9hYm9ydGVkID0gdGhpcy5fY29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3Jvc3NPcmlnaW4gPSBvcHRpb25zLnNldHRpbmdzLmltYWdlQ3Jvc3NPcmlnaW47XG5cbiAgICAgICAgLy9Vc2UgYSB0aW1lb3V0IHRvIGFsbG93IHRoZSByZXF1ZXN0cyB0byBiZSBkZWJvdW5jZWQgKGFzIHRoZXkgYXJlIGluIHJlbmRlcmVyKVxuICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIC8vIEluaXRpYXRlIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICB0aGlzLl9pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgdGhpcy5faW1hZ2UuY3Jvc3NPcmlnaW4gPSB0aGlzLl9jcm9zc09yaWdpbjtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9IHRoaXMuX2hhbmRsZUxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9uZXJyb3IgPSB0aGlzLl9oYW5kbGVFcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gb3B0aW9ucy51cmw7XG5cbiAgICAgICAgfSwgdGhpcy50aW1lb3V0VGltZSk7XG4gICAgfVxuXG4gICAgYWJvcnQgKClcbiAgICB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXG4gICAgICAgIC8vIEZJWE1FXG4gICAgICAgIC8vIFBlb3BsZSBvbiB0aGUgSW50ZXJuZXQgc2F5IHRoYXQgZG9pbmcgdGhpcyB7e3Nob3VsZC9zaG91bGQgbm90fX0gYWJvcnQgdGhlIHJlcXVlc3QuIEkgYmVsaWV2ZVxuICAgICAgICAvLyBpdCBjb3JyZXNwb25kcyB0byB3aGF0IHRoZSBXSEFUV0cgSFRNTCBzcGVjIHNheXMgc2hvdWxkIGhhcHBlbiB3aGVuIHRoZSBVQVxuICAgICAgICAvLyB1cGRhdGVzIHRoZSBpbWFnZSBkYXRhIGlmIHNlbGVjdGVkIHNvdXJjZSBpcyBudWxsLlxuICAgICAgICAvL1xuICAgICAgICAvLyBTb3VyY2VzOlxuICAgICAgICAvL1xuICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdGhlLWltZy1lbGVtZW50XG4gICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzM5MDg4OC9kb2VzLWNoYW5naW5nLXRoZS1zcmMtYXR0cmlidXRlLW9mLWFuLWltYWdlLXN0b3AtdGhlLWltYWdlLWZyb20tZG93bmxvYWRpbmdcbiAgICAgICAgaWYgKHRoaXMuX2ltYWdlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZS5vbmxvYWQgPSB0aGlzLl9pbWFnZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hYm9ydGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfaGFuZGxlTG9hZCAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2Fib3J0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlUmVxdWVzdEhhbmRsZXIgaW52b2tlZCBvbiBjYW5jZWxsZWQgcmVxdWVzdCBmb3IgJyArIHRoaXMuX3VybCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29tcGxldGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlUmVxdWVzdEhhbmRsZXIgaW52b2tlZCBvbiBjb21wbGV0ZWQgcmVxdWVzdCBmb3IgJyArIHRoaXMuX3VybCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb21wbGV0ZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sodGhpcy5faW1hZ2UpO1xuICAgIH1cblxuICAgIF9oYW5kbGVFcnJvciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZXJyb3JDYWxsYmFjayh0aGlzLl9pbWFnZSk7XG4gICAgfVxufVxuIiwiLy8gVE9ETzogcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZhbGxiYWNrXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBhbmltYXRlLFxuICAgIGVhc2luZzoge1xuICAgICAgICBsaW5lYXI6IGxpbmVhckVhc2luZyxcbiAgICAgICAgY3ViaWM6IGluT3V0Q3ViaWNFYXNpbmdcbiAgICB9XG59O1xuXG5sZXQgbm93O1xuXG5pZiAodHlwZW9mIHBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJyAmJiBwZXJmb3JtYW5jZS5ub3cpXG57XG4gICAgbm93ID0gKCkgPT4geyByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7IH07XG59XG5lbHNlXG57XG4gICAgbm93ID0gKCkgPT4geyByZXR1cm4gRGF0ZS5ub3coKTsgfTtcbn1cblxuXG5mdW5jdGlvbiBhbmltYXRlIChvcHRpb25zKVxue1xuICAgIGNvbnN0IGR1cmF0aW9uTXMgPSBvcHRpb25zLmR1cmF0aW9uO1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBvcHRpb25zLnBhcmFtZXRlcnM7XG4gICAgY29uc3Qgb25VcGRhdGUgPSBvcHRpb25zLm9uVXBkYXRlO1xuICAgIGNvbnN0IG9uRW5kID0gb3B0aW9ucy5vbkVuZDtcblxuICAgIC8vIFNldHVwXG4gICAgLy8gVGltZXMgYXJlIGluIG1pbGxpc2Vjb25kcyBmcm9tIGEgYmFzaWNhbGx5IGFyYml0cmFyeSBzdGFydFxuICAgIGNvbnN0IHN0YXJ0ID0gbm93KCk7XG4gICAgY29uc3QgZW5kID0gc3RhcnQgKyBkdXJhdGlvbk1zO1xuXG4gICAgY29uc3QgdHdlZW5GbnMgPSB7fTtcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICBjb25zdCBwYXJhbUtleXMgPSBPYmplY3Qua2V5cyhwYXJhbWV0ZXJzKTtcblxuICAgIHBhcmFtS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHBhcmFtZXRlcnNba2V5XTtcbiAgICAgICAgdHdlZW5GbnNba2V5XSA9IGludGVycG9sYXRlKGNvbmZpZy5mcm9tLCBjb25maWcudG8sIGNvbmZpZy5lYXNpbmcgfHwgaW5PdXRDdWJpY0Vhc2luZyk7XG4gICAgfSk7XG5cbiAgICAvLyBSdW4gaXQhXG4gICAgbGV0IHJlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FuY2VsKClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RJZCAhPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZXF1ZXN0SWQpO1xuICAgICAgICAgICAgICAgIGhhbmRsZUFuaW1hdGlvbkNvbXBsZXRpb24oe1xuICAgICAgICAgICAgICAgICAgICBpbnRlcnJ1cHRlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gbm93KCk7XG4gICAgICAgIGNvbnN0IGVsYXBzZWQgPSBNYXRoLm1pbigoY3VycmVudCAtIHN0YXJ0KSAvIGR1cmF0aW9uTXMsIDEpO1xuXG4gICAgICAgIHVwZGF0ZVZhbHVlcyhlbGFwc2VkKTtcbiAgICAgICAgb25VcGRhdGUodmFsdWVzKTtcblxuICAgICAgICBpZiAoY3VycmVudCA8IGVuZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVBbmltYXRpb25Db21wbGV0aW9uKHtcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRlZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlVmFsdWVzKGVsYXBzZWQpXG4gICAge1xuICAgICAgICBwYXJhbUtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgdmFsdWVzW2tleV0gPSB0d2VlbkZuc1trZXldKGVsYXBzZWQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVBbmltYXRpb25Db21wbGV0aW9uKGluZm8pXG4gICAge1xuICAgICAgICByZXF1ZXN0SWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChvbkVuZClcbiAgICAgICAgICAgIG9uRW5kKGluZm8pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW50ZXJwb2xhdGUoc3RhcnQsIGVuZCwgZWFzaW5nKVxue1xuICAgIHJldHVybiAoZWxhcHNlZCkgPT4geyByZXR1cm4gc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogZWFzaW5nKGVsYXBzZWQpOyB9O1xufVxuXG4vKipcbiAqIEVhc2luZyBmdW5jdGlvbnMuIGluT3V0Q3ViaWNFYXNpbmcgaXMgdGhlIGRlZmF1bHQsIGJ1dFxuICogb3RoZXJzIGFyZSBnaXZlbiBmb3IgY29udmVuaWVuY2UuXG4gKlxuICoqL1xuZnVuY3Rpb24gbGluZWFyRWFzaW5nKGUpXG57XG4gICAgcmV0dXJuIGU7XG59XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmZ1bmN0aW9uIGluT3V0UXVhZEVhc2luZyAoZSlcbntcbiAgICByZXR1cm4gZSA8IC41ID8gMiAqIGUgKiBlIDogLTErKDQtMiAqIGUpICogZVxufVxuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuXG5mdW5jdGlvbiBpbk91dEN1YmljRWFzaW5nICh0KVxue1xuICAgIHJldHVybiB0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICggdCAtIDEgKSAqICggMiAqIHQgLSAyICkgKiAoIDIgKiB0IC0gMiApICsgMTtcbn1cbiIsImltcG9ydCB7IGVsdCwgc2V0QXR0cmlidXRlcyB9IGZyb20gJy4vdXRpbHMvZWx0JztcbmltcG9ydCBDb21wb3NpdGVJbWFnZSBmcm9tICcuL2NvbXBvc2l0ZS1pbWFnZSc7XG5pbXBvcnQgRG9jdW1lbnRMYXlvdXQgZnJvbSAnLi9kb2N1bWVudC1sYXlvdXQnO1xuaW1wb3J0IEltYWdlQ2FjaGUgZnJvbSAnLi9pbWFnZS1jYWNoZSc7XG5pbXBvcnQgSW1hZ2VSZXF1ZXN0SGFuZGxlciBmcm9tICcuL2ltYWdlLXJlcXVlc3QtaGFuZGxlcic7XG5pbXBvcnQgSW50ZXJwb2xhdGVBbmltYXRpb24gZnJvbSAnLi9pbnRlcnBvbGF0ZS1hbmltYXRpb24nO1xuXG5jb25zdCBSRVFVRVNUX0RFQk9VTkNFX0lOVEVSVkFMID0gMjUwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlclxue1xuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zLCBob29rcylcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0ID0gb3B0aW9ucy52aWV3cG9ydDtcbiAgICAgICAgdGhpcy5fb3V0ZXJFbGVtZW50ID0gb3B0aW9ucy5vdXRlckVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2RvY3VtZW50RWxlbWVudCA9IG9wdGlvbnMuaW5uZXJFbGVtZW50O1xuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IG9wdGlvbnMuc2V0dGluZ3M7XG5cbiAgICAgICAgdGhpcy5faG9va3MgPSBob29rcyB8fCB7fTtcblxuICAgICAgICB0aGlzLl9jYW52YXMgPSBlbHQoJ2NhbnZhcycsIHsgY2xhc3M6ICdkaXZhLXZpZXdlci1jYW52YXMnIH0pO1xuICAgICAgICB0aGlzLl9jdHggPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICB0aGlzLmxheW91dCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc291cmNlUmVzb2x2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgICAgdGhpcy5fem9vbUxldmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29tcG9zaXRlSW1hZ2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRUaWxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG5cbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogV2hhdCBsZXZlbCBzaG91bGQgdGhpcyBiZSBtYWludGFpbmVkIGF0P1xuICAgICAgICAvLyBEaXZhIGdsb2JhbD9cbiAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgSW1hZ2VDYWNoZSgpO1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVxdWVzdHMgPSB7fTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0Q29tcGF0aWJpbGl0eUVycm9ycyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICdZb3VyIGJyb3dzZXIgbGFja3Mgc3VwcG9ydCBmb3IgdGhlICcsIGVsdCgncHJlJywgJ2NhbnZhcycpLFxuICAgICAgICAgICAgJyBlbGVtZW50LiBQbGVhc2UgdXBncmFkZSB5b3VyIGJyb3dzZXIuJ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIGxvYWQgKGNvbmZpZywgdmlld3BvcnRQb3NpdGlvbiwgc291cmNlUmVzb2x2ZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9jbGVhckFuaW1hdGlvbigpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ob29rcy5vblZpZXdXaWxsTG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faG9va3Mub25WaWV3V2lsbExvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NvdXJjZVJlc29sdmVyID0gc291cmNlUmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fY29tcG9zaXRlSW1hZ2VzID0ge307XG4gICAgICAgIHRoaXMuX3NldExheW91dFRvWm9vbUxldmVsKHZpZXdwb3J0UG9zaXRpb24uem9vbUxldmVsKTtcblxuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBSZW1vdmUgdGhpcyB3aGVuIHRoZXJlJ3MgbW9yZSBjb25maWRlbmNlIHRoZSBjaGVjayBzaG91bGRuJ3QgYmUgbmVlZGVkXG4gICAgICAgIGlmICghdGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8odmlld3BvcnRQb3NpdGlvbi5hbmNob3JQYWdlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHBhZ2U6ICcgKyB2aWV3cG9ydFBvc2l0aW9uLmFuY2hvclBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NhbnZhcy53aWR0aCAhPT0gdGhpcy5fdmlld3BvcnQud2lkdGggfHwgdGhpcy5fY2FudmFzLmhlaWdodCAhPT0gdGhpcy5fdmlld3BvcnQuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMud2lkdGggPSB0aGlzLl92aWV3cG9ydC53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSB0aGlzLl92aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGSVhNRTogV2hhdCBob29rcyBzaG91bGQgYmUgY2FsbGVkIGhlcmU/XG4gICAgICAgIHRoaXMuZ290byh2aWV3cG9ydFBvc2l0aW9uLmFuY2hvclBhZ2UsIHZpZXdwb3J0UG9zaXRpb24udmVydGljYWxPZmZzZXQsIHZpZXdwb3J0UG9zaXRpb24uaG9yaXpvbnRhbE9mZnNldCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NhbnZhcy5wYXJlbnROb2RlICE9PSB0aGlzLl9vdXRlckVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX291dGVyRWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5fY2FudmFzLCB0aGlzLl9vdXRlckVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkTG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faG9va3Mub25WaWV3RGlkTG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NldFZpZXdwb3J0UG9zaXRpb24gKHZpZXdwb3J0UG9zaXRpb24pXG4gICAge1xuICAgICAgICBpZiAodmlld3BvcnRQb3NpdGlvbi56b29tTGV2ZWwgIT09IHRoaXMuX3pvb21MZXZlbClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3pvb21MZXZlbCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY3VycmVudCB2aWV3IGlzIG5vdCB6b29tYWJsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmlld3BvcnRQb3NpdGlvbi56b29tTGV2ZWwgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGN1cnJlbnQgdmlldyByZXF1aXJlcyBhIHpvb20gbGV2ZWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2V0TGF5b3V0VG9ab29tTGV2ZWwodmlld3BvcnRQb3NpdGlvbi56b29tTGV2ZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZ290byh2aWV3cG9ydFBvc2l0aW9uLmFuY2hvclBhZ2UsIHZpZXdwb3J0UG9zaXRpb24udmVydGljYWxPZmZzZXQsIHZpZXdwb3J0UG9zaXRpb24uaG9yaXpvbnRhbE9mZnNldCk7XG4gICAgfVxuXG4gICAgX3NldExheW91dFRvWm9vbUxldmVsICh6b29tTGV2ZWwpXG4gICAge1xuICAgICAgICB0aGlzLmxheW91dCA9IG5ldyBEb2N1bWVudExheW91dCh0aGlzLl9jb25maWcsIHpvb21MZXZlbCk7XG4gICAgICAgIHRoaXMuX3pvb21MZXZlbCA9IHpvb21MZXZlbDtcblxuICAgICAgICBzZXRBdHRyaWJ1dGVzKHRoaXMuX2RvY3VtZW50RWxlbWVudCwge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMubGF5b3V0LmRpbWVuc2lvbnMuaGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5sYXlvdXQuZGltZW5zaW9ucy53aWR0aCArICdweCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fdmlld3BvcnQuc2V0SW5uZXJEaW1lbnNpb25zKHRoaXMubGF5b3V0LmRpbWVuc2lvbnMpO1xuICAgIH1cblxuICAgIGFkanVzdCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2xlYXJBbmltYXRpb24oKTtcblxuICAgICAgICB0aGlzLl9yZW5kZXIoKTtcblxuICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ob29rcy5vblZpZXdEaWRVcGRhdGUodGhpcy5fcmVuZGVyZWRQYWdlcy5zbGljZSgpLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZW5kZXIgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IG5ld1JlbmRlcmVkUGFnZXMgPSBbXTtcbiAgICAgICAgdGhpcy5sYXlvdXQucGFnZUdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl92aWV3cG9ydC5pbnRlcnNlY3RzUmVnaW9uKGdyb3VwLnJlZ2lvbikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlUGFnZXMgPSBncm91cC5wYWdlc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhZ2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc1BhZ2VWaXNpYmxlKHBhZ2UuaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpXG4gICAgICAgICAgICAgICAgLm1hcChwYWdlID0+IHBhZ2UuaW5kZXgpO1xuXG4gICAgICAgICAgICBuZXdSZW5kZXJlZFBhZ2VzLnB1c2guYXBwbHkobmV3UmVuZGVyZWRQYWdlcywgdmlzaWJsZVBhZ2VzKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9wYWludE91dGxpbmUobmV3UmVuZGVyZWRQYWdlcyk7XG5cbiAgICAgICAgbmV3UmVuZGVyZWRQYWdlcy5mb3JFYWNoKChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY29tcG9zaXRlSW1hZ2VzW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMubGF5b3V0LmdldFBhZ2VJbmZvKHBhZ2VJbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgem9vbUxldmVscyA9IHRoaXMuX3NvdXJjZVJlc29sdmVyLmdldEFsbFpvb21MZXZlbHNGb3JQYWdlKHBhZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvc2l0ZSA9IG5ldyBDb21wb3NpdGVJbWFnZSh6b29tTGV2ZWxzKTtcbiAgICAgICAgICAgICAgICBjb21wb3NpdGUudXBkYXRlRnJvbUNhY2hlKHRoaXMuX2NhY2hlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XSA9IGNvbXBvc2l0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5faW5pdGlhdGVUaWxlUmVxdWVzdHMobmV3UmVuZGVyZWRQYWdlcyk7XG5cbiAgICAgICAgY29uc3QgY2hhbmdlcyA9IGZpbmRDaGFuZ2VzKHRoaXMuX3JlbmRlcmVkUGFnZXMgfHwgW10sIG5ld1JlbmRlcmVkUGFnZXMpO1xuXG4gICAgICAgIGNoYW5nZXMucmVtb3ZlZC5mb3JFYWNoKChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcyA9IG5ld1JlbmRlcmVkUGFnZXM7XG4gICAgICAgIHRoaXMuX3BhaW50KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hvb2tzLm9uUGFnZVdpbGxMb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjaGFuZ2VzLmFkZGVkLmZvckVhY2goKHBhZ2VJbmRleCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ob29rcy5vblBhZ2VXaWxsTG9hZChwYWdlSW5kZXgpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcGFpbnQgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkVGlsZXMgPSBbXTtcblxuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzLmZvckVhY2goIChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvc2l0ZUltYWdlc1twYWdlSW5kZXhdLmdldFRpbGVzKHRoaXMuX3pvb21MZXZlbCkuZm9yRWFjaCgoc291cmNlKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlZCA9IGdldFNjYWxlZFRpbGVSZWNvcmQoc291cmNlLCB0aGlzLl96b29tTGV2ZWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVGlsZVZpc2libGUocGFnZUluZGV4LCBzY2FsZWQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRUaWxlcy5wdXNoKHNvdXJjZS51cmwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmF3VGlsZShwYWdlSW5kZXgsIHNjYWxlZCwgdGhpcy5fY2FjaGUuZ2V0KHNvdXJjZS51cmwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLl9jYWNoZTtcblxuICAgICAgICBjb25zdCBjaGFuZ2VzID0gZmluZENoYW5nZXModGhpcy5fcmVuZGVyZWRUaWxlcyB8fCBbXSwgcmVuZGVyZWRUaWxlcyk7XG5cbiAgICAgICAgY2hhbmdlcy5hZGRlZC5mb3JFYWNoKHVybCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZS5hY3F1aXJlKHVybCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYW5nZXMucmVtb3ZlZC5mb3JFYWNoKHVybCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZS5yZWxlYXNlKHVybCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjaGFuZ2VzLnJlbW92ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBTaG91bGQgb25seSBuZWVkIHRvIHVwZGF0ZSB0aGUgY29tcG9zaXRlIGltYWdlc1xuICAgICAgICAgICAgLy8gZm9yIHdoaWNoIHRpbGVzIHdlcmUgcmVtb3ZlZFxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcy5mb3JFYWNoKChwYWdlSW5kZXgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcG9zaXRlSW1hZ2VzW3BhZ2VJbmRleF0udXBkYXRlRnJvbUNhY2hlKHRoaXMuX2NhY2hlKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWRUaWxlcyA9IHJlbmRlcmVkVGlsZXM7XG4gICAgfVxuXG4gICAgLy8gUGFpbnQgYSBwYWdlIG91dGxpbmUgd2hpbGUgdGhlIHRpbGVzIGFyZSBsb2FkaW5nLlxuICAgIF9wYWludE91dGxpbmUgKHBhZ2VzKVxuICAgIHtcbiAgICAgICAgcGFnZXMuZm9yRWFjaCggKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHBhZ2VJbmZvID0gdGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8ocGFnZUluZGV4KTtcbiAgICAgICAgICAgIGxldCBwYWdlT2Zmc2V0ID0gdGhpcy5fZ2V0SW1hZ2VPZmZzZXQocGFnZUluZGV4KTtcblxuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBkb2N1bWVudCBpcyBkcmF3biB0byB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgbGV0IHZpZXdwb3J0UGFkZGluZ1ggPSBNYXRoLm1heCgwLCAodGhpcy5fdmlld3BvcnQud2lkdGggLSB0aGlzLmxheW91dC5kaW1lbnNpb25zLndpZHRoKSAvIDIpO1xuICAgICAgICAgICAgbGV0IHZpZXdwb3J0UGFkZGluZ1kgPSBNYXRoLm1heCgwLCAodGhpcy5fdmlld3BvcnQuaGVpZ2h0IC0gdGhpcy5sYXlvdXQuZGltZW5zaW9ucy5oZWlnaHQpIC8gMik7XG5cbiAgICAgICAgICAgIGxldCB2aWV3cG9ydE9mZnNldFggPSBwYWdlT2Zmc2V0LmxlZnQgLSB0aGlzLl92aWV3cG9ydC5sZWZ0ICsgdmlld3BvcnRQYWRkaW5nWDtcbiAgICAgICAgICAgIGxldCB2aWV3cG9ydE9mZnNldFkgPSBwYWdlT2Zmc2V0LnRvcCAtIHRoaXMuX3ZpZXdwb3J0LnRvcCArIHZpZXdwb3J0UGFkZGluZ1k7XG5cbiAgICAgICAgICAgIGxldCBkZXN0WE9mZnNldCA9IHZpZXdwb3J0T2Zmc2V0WCA8IDAgPyAtdmlld3BvcnRPZmZzZXRYIDogMDtcbiAgICAgICAgICAgIGxldCBkZXN0WU9mZnNldCA9IHZpZXdwb3J0T2Zmc2V0WSA8IDAgPyAtdmlld3BvcnRPZmZzZXRZIDogMDtcblxuICAgICAgICAgICAgbGV0IGNhbnZhc1ggPSBNYXRoLm1heCgwLCB2aWV3cG9ydE9mZnNldFgpO1xuICAgICAgICAgICAgbGV0IGNhbnZhc1kgPSBNYXRoLm1heCgwLCB2aWV3cG9ydE9mZnNldFkpO1xuXG4gICAgICAgICAgICBsZXQgZGVzdFdpZHRoID0gcGFnZUluZm8uZGltZW5zaW9ucy53aWR0aCAtIGRlc3RYT2Zmc2V0O1xuICAgICAgICAgICAgbGV0IGRlc3RIZWlnaHQgPSBwYWdlSW5mby5kaW1lbnNpb25zLmhlaWdodCAtIGRlc3RZT2Zmc2V0O1xuXG4gICAgICAgICAgICB0aGlzLl9jdHguc3Ryb2tlU3R5bGUgPSAnI0FBQSc7XG4gICAgICAgICAgICAvLyBJbiBvcmRlciB0byBnZXQgYSAxcHggd2lkZSBsaW5lIHVzaW5nIHN0cm9rZXMsIHdlIG5lZWQgdG8gc3RhcnQgYXQgYSAnaGFsZiBwaXhlbCdcbiAgICAgICAgICAgIHRoaXMuX2N0eC5zdHJva2VSZWN0KGNhbnZhc1ggKyAwLjUsIGNhbnZhc1kgKyAwLjUsIGRlc3RXaWR0aCwgZGVzdEhlaWdodCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBzZW50IGFsbCB2aXNpYmxlIHBhZ2VzIGF0IG9uY2UgYmVjYXVzZSBpdCB3aWxsIGluaXRpYXRlXG4gICAgLy8gYWxsIGltYWdlIHJlcXVlc3RzIGFuZCBjYW5jZWwgYW55IHJlbWFpbmluZyBpbWFnZSByZXF1ZXN0cy4gSW4gdGhlIGNhc2UgdGhhdFxuICAgIC8vIGEgcmVxdWVzdCBpcyBvbmdvaW5nIGFuZCB0aGUgdGlsZSBpcyBzdGlsbCB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydCwgdGhlIG9sZCByZXF1ZXN0XG4gICAgLy8gaXMga2VwdCBhY3RpdmUgaW5zdGVhZCBvZiByZXN0YXJ0aW5nIGl0LiBUaGUgaW1hZ2UgcmVxdWVzdHMgYXJlIGdpdmVuIGEgdGltZW91dFxuICAgIC8vIGJlZm9yZSBsb2FkaW5nIGluIG9yZGVyIHRvIGRlYm91bmNlIHRoZW0gYW5kIGhhdmUgYSBzbWFsbCByZWFjdGlvbiB0aW1lXG4gICAgLy8gdG8gY2FuY2VsIHRoZW0gYW5kIGF2b2lkIHVzZWxlc3MgcmVxdWVzdHMuXG4gICAgX2luaXRpYXRlVGlsZVJlcXVlc3RzIChwYWdlcylcbiAgICB7XG4gICAgICAgIC8vIE9ubHkgcmVxdWVzdHMgaW4gdGhpcyBvYmplY3QgYXJlIGtlcHQgYWxpdmUsIHNpbmNlIGFsbCBvdGhlcnMgYXJlIG5vdCB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydFxuICAgICAgICBjb25zdCBuZXdQZW5kaW5nUmVxdWVzdHMgPSB7fTtcblxuICAgICAgICAvLyBVc2VkIGxhdGVyIGFzIGEgY2xvc3VyZSB0byBpbml0aWF0ZSB0aGUgaW1hZ2UgcmVxdWVzdHMgd2l0aCB0aGUgcmlnaHQgc291cmNlIGFuZCBwYWdlSW5kZXhcbiAgICAgICAgY29uc3QgaW5pdGlhdGVSZXF1ZXN0ID0gKHNvdXJjZSwgcGFnZUluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjb21wb3NpdGUgPSB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XTtcblxuICAgICAgICAgICAgbmV3UGVuZGluZ1JlcXVlc3RzW3NvdXJjZS51cmxdID0gbmV3IEltYWdlUmVxdWVzdEhhbmRsZXIoe1xuICAgICAgICAgICAgICAgIHVybDogc291cmNlLnVybCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0VGltZTogUkVRVUVTVF9ERUJPVU5DRV9JTlRFUlZBTCxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogdGhpcy5fc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgbG9hZDogaW1nID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1JlcXVlc3RzW3NvdXJjZS51cmxdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZS5wdXQoc291cmNlLnVybCwgaW1nKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBBd2t3YXJkIHdheSB0byBjaGVjayBmb3IgdXBkYXRlc1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9zaXRlID09PSB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9zaXRlLnVwZGF0ZVdpdGhMb2FkZWRVcmxzKFtzb3VyY2UudXJsXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1RpbGVGb3JTb3VyY2VWaXNpYmxlKHBhZ2VJbmRleCwgc291cmNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYWludCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVGlsZUZvclNvdXJjZVZpc2libGUocGFnZUluZGV4LCBzb3VyY2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogQ291bGQgbWFrZSBhIGxpbWl0ZWQgbnVtYmVyIG9mIHJldHJpZXMsIGV0Yy5cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tzb3VyY2UudXJsXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwYWdlSW5kZXggPSBwYWdlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVzID0gdGhpcy5fc291cmNlUmVzb2x2ZXIuZ2V0QmVzdFpvb21MZXZlbEZvclBhZ2UodGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8ocGFnZUluZGV4KSkudGlsZXM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGlsZXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gdGlsZXNbal07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlLmhhcyhzb3VyY2UudXJsKSB8fCAhdGhpcy5faXNUaWxlRm9yU291cmNlVmlzaWJsZShwYWdlSW5kZXgsIHNvdXJjZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBEb24ndCBjcmVhdGUgYSBuZXcgcmVxdWVzdCBpZiB0aGUgdGlsZSBpcyBhbHJlYWR5IGJlaW5nIGxvYWRlZFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdQZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF0gPSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF07XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFVzZSBhIGNsb3N1cmUgc2luY2UgdGhlIGxvYWQgYW5kIGVycm9yIG1ldGhvZHMgYXJlIGdvaW5nIHRvIGJlIGNhbGxlZCBsYXRlciBhbmRcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJpZ2h0IHJlZmVyZW5jZSB0byB0aGUgc291cmNlIGFuZCB0aGUgcGFnZSBpbmRleFxuICAgICAgICAgICAgICAgIGluaXRpYXRlUmVxdWVzdChzb3VyY2UsIHBhZ2VJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHVybCBpbiB0aGlzLl9wZW5kaW5nUmVxdWVzdHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1t1cmxdLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcXVlc3RzID0gbmV3UGVuZGluZ1JlcXVlc3RzO1xuICAgIH1cblxuICAgIF9kcmF3VGlsZSAocGFnZUluZGV4LCBzY2FsZWRUaWxlLCBpbWcpXG4gICAge1xuICAgICAgICBsZXQgdGlsZU9mZnNldCA9IHRoaXMuX2dldFRpbGVUb0RvY3VtZW50T2Zmc2V0KHBhZ2VJbmRleCwgc2NhbGVkVGlsZSk7XG5cbiAgICAgICAgLy8gRW5zdXJlIHRoZSBkb2N1bWVudCBpcyBkcmF3biB0byB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICBsZXQgdmlld3BvcnRQYWRkaW5nWCA9IE1hdGgubWF4KDAsICh0aGlzLl92aWV3cG9ydC53aWR0aCAtIHRoaXMubGF5b3V0LmRpbWVuc2lvbnMud2lkdGgpIC8gMik7XG4gICAgICAgIGxldCB2aWV3cG9ydFBhZGRpbmdZID0gTWF0aC5tYXgoMCwgKHRoaXMuX3ZpZXdwb3J0LmhlaWdodCAtIHRoaXMubGF5b3V0LmRpbWVuc2lvbnMuaGVpZ2h0KSAvIDIpO1xuXG4gICAgICAgIGxldCB2aWV3cG9ydE9mZnNldFggPSB0aWxlT2Zmc2V0LmxlZnQgLSB0aGlzLl92aWV3cG9ydC5sZWZ0ICsgdmlld3BvcnRQYWRkaW5nWDtcbiAgICAgICAgbGV0IHZpZXdwb3J0T2Zmc2V0WSA9IHRpbGVPZmZzZXQudG9wIC0gdGhpcy5fdmlld3BvcnQudG9wICsgdmlld3BvcnRQYWRkaW5nWTtcblxuICAgICAgICBsZXQgZGVzdFhPZmZzZXQgPSB2aWV3cG9ydE9mZnNldFggPCAwID8gLXZpZXdwb3J0T2Zmc2V0WCA6IDA7XG4gICAgICAgIGxldCBkZXN0WU9mZnNldCA9IHZpZXdwb3J0T2Zmc2V0WSA8IDAgPyAtdmlld3BvcnRPZmZzZXRZIDogMDtcblxuICAgICAgICBsZXQgY2FudmFzWCA9IE1hdGgubWF4KDAsIHZpZXdwb3J0T2Zmc2V0WCk7XG4gICAgICAgIGxldCBjYW52YXNZID0gTWF0aC5tYXgoMCwgdmlld3BvcnRPZmZzZXRZKTtcblxuICAgICAgICBsZXQgc291cmNlWE9mZnNldCA9IGRlc3RYT2Zmc2V0IC8gc2NhbGVkVGlsZS5zY2FsZVJhdGlvO1xuICAgICAgICBsZXQgc291cmNlWU9mZnNldCA9IGRlc3RZT2Zmc2V0IC8gc2NhbGVkVGlsZS5zY2FsZVJhdGlvO1xuXG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBzcGVjaWZpZWQgZGltZW5zaW9ucyBhcmUgbm8gZ3JlYXRlciB0aGFuIHRoZSBhY3R1YWxcbiAgICAgICAgLy8gc2l6ZSBvZiB0aGUgaW1hZ2UuIFNhZmFyaSB3b24ndCBkaXNwbGF5IHRoZSB0aWxlIGlmIHRoZXkgYXJlLlxuICAgICAgICBsZXQgZGVzdEltZ1dpZHRoID0gTWF0aC5taW4oc2NhbGVkVGlsZS5kaW1lbnNpb25zLndpZHRoLCBpbWcud2lkdGggKiBzY2FsZWRUaWxlLnNjYWxlUmF0aW8pIC0gZGVzdFhPZmZzZXQ7XG4gICAgICAgIGxldCBkZXN0SW1nSGVpZ2h0ID0gTWF0aC5taW4oc2NhbGVkVGlsZS5kaW1lbnNpb25zLmhlaWdodCwgaW1nLmhlaWdodCAqIHNjYWxlZFRpbGUuc2NhbGVSYXRpbykgLSBkZXN0WU9mZnNldDtcblxuICAgICAgICBsZXQgZGVzdFdpZHRoID0gTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChkZXN0SW1nV2lkdGgpKTtcbiAgICAgICAgbGV0IGRlc3RIZWlnaHQgPSBNYXRoLm1heCgxLCBNYXRoLnJvdW5kKGRlc3RJbWdIZWlnaHQpKTtcblxuICAgICAgICBsZXQgc291cmNlV2lkdGggPSBkZXN0V2lkdGggLyBzY2FsZWRUaWxlLnNjYWxlUmF0aW87XG4gICAgICAgIGxldCBzb3VyY2VIZWlnaHQgPSBkZXN0SGVpZ2h0IC8gc2NhbGVkVGlsZS5zY2FsZVJhdGlvO1xuXG4gICAgICAgIHRoaXMuX2N0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICBpbWcsXG4gICAgICAgICAgICBzb3VyY2VYT2Zmc2V0LCBzb3VyY2VZT2Zmc2V0LFxuICAgICAgICAgICAgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCxcbiAgICAgICAgICAgIGNhbnZhc1gsIGNhbnZhc1ksXG4gICAgICAgICAgICBkZXN0V2lkdGgsIGRlc3RIZWlnaHQpO1xuICAgIH1cblxuICAgIF9pc1RpbGVGb3JTb3VyY2VWaXNpYmxlIChwYWdlSW5kZXgsIHRpbGVTb3VyY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNUaWxlVmlzaWJsZShwYWdlSW5kZXgsIGdldFNjYWxlZFRpbGVSZWNvcmQodGlsZVNvdXJjZSwgdGhpcy5fem9vbUxldmVsKSk7XG4gICAgfVxuXG4gICAgX2lzVGlsZVZpc2libGUgKHBhZ2VJbmRleCwgc2NhbGVkVGlsZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHRpbGVPZmZzZXQgPSB0aGlzLl9nZXRUaWxlVG9Eb2N1bWVudE9mZnNldChwYWdlSW5kZXgsIHNjYWxlZFRpbGUpO1xuXG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IFRoaXMgY2hlY2sgaXMgaW5zdWZmaWNpZW50IGR1cmluZyBhIHpvb20gdHJhbnNpdGlvblxuICAgICAgICByZXR1cm4gdGhpcy5fdmlld3BvcnQuaW50ZXJzZWN0c1JlZ2lvbih7XG4gICAgICAgICAgICB0b3A6IHRpbGVPZmZzZXQudG9wLFxuICAgICAgICAgICAgYm90dG9tOiB0aWxlT2Zmc2V0LnRvcCArIHNjYWxlZFRpbGUuZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgICBsZWZ0OiB0aWxlT2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICByaWdodDogdGlsZU9mZnNldC5sZWZ0ICsgc2NhbGVkVGlsZS5kaW1lbnNpb25zLndpZHRoXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9nZXRUaWxlVG9Eb2N1bWVudE9mZnNldCAocGFnZUluZGV4LCBzY2FsZWRUaWxlKVxuICAgIHtcbiAgICAgICAgY29uc3QgaW1hZ2VPZmZzZXQgPSB0aGlzLl9nZXRJbWFnZU9mZnNldChwYWdlSW5kZXgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3A6IGltYWdlT2Zmc2V0LnRvcCArIHNjYWxlZFRpbGUub2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IGltYWdlT2Zmc2V0LmxlZnQgKyBzY2FsZWRUaWxlLm9mZnNldC5sZWZ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2dldEltYWdlT2Zmc2V0IChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXlvdXQuZ2V0UGFnZU9mZnNldChwYWdlSW5kZXgsIHtpbmNsdWRlUGFkZGluZzogdHJ1ZX0pO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFVwZGF0ZSBzaWduYXR1cmVcbiAgICBnb3RvIChwYWdlSW5kZXgsIHZlcnRpY2FsT2Zmc2V0LCBob3Jpem9udGFsT2Zmc2V0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2xlYXJBbmltYXRpb24oKTtcbiAgICAgICAgdGhpcy5fZ290byhwYWdlSW5kZXgsIHZlcnRpY2FsT2Zmc2V0LCBob3Jpem9udGFsT2Zmc2V0KTtcblxuICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ob29rcy5vblZpZXdEaWRVcGRhdGUodGhpcy5fcmVuZGVyZWRQYWdlcy5zbGljZSgpLCBwYWdlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dvdG8gKHBhZ2VJbmRleCwgdmVydGljYWxPZmZzZXQsIGhvcml6b250YWxPZmZzZXQpXG4gICAge1xuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBNb3ZlIHRoaXMgbG9naWMgdG8gdGhlIHZpZXdlclxuICAgICAgICBjb25zdCBwYWdlT2Zmc2V0ID0gdGhpcy5sYXlvdXQuZ2V0UGFnZU9mZnNldChwYWdlSW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IGRlc2lyZWRWZXJ0aWNhbENlbnRlciA9IHBhZ2VPZmZzZXQudG9wICsgdmVydGljYWxPZmZzZXQ7XG4gICAgICAgIGNvbnN0IHRvcCA9IGRlc2lyZWRWZXJ0aWNhbENlbnRlciAtIE1hdGgucm91bmQodGhpcy5fdmlld3BvcnQuaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgY29uc3QgZGVzaXJlZEhvcml6b250YWxDZW50ZXIgPSBwYWdlT2Zmc2V0LmxlZnQgKyBob3Jpem9udGFsT2Zmc2V0O1xuICAgICAgICBjb25zdCBsZWZ0ID0gZGVzaXJlZEhvcml6b250YWxDZW50ZXIgLSBNYXRoLnJvdW5kKHRoaXMuX3ZpZXdwb3J0LndpZHRoIC8gMik7XG5cbiAgICAgICAgdGhpcy5fdmlld3BvcnQudG9wID0gdG9wO1xuICAgICAgICB0aGlzLl92aWV3cG9ydC5sZWZ0ID0gbGVmdDtcblxuICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICB9XG5cbiAgICB0cmFuc2l0aW9uVmlld3BvcnRQb3NpdGlvbiAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMuX2NsZWFyQW5pbWF0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgZ2V0UG9zaXRpb24gPSBvcHRpb25zLmdldFBvc2l0aW9uO1xuICAgICAgICBjb25zdCBvblZpZXdEaWRUcmFuc2l0aW9uID0gdGhpcy5faG9va3Mub25WaWV3RGlkVHJhbnNpdGlvbjtcblxuICAgICAgICB0aGlzLl9hbmltYXRpb24gPSBJbnRlcnBvbGF0ZUFuaW1hdGlvbi5hbmltYXRlKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogb3B0aW9ucy5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgb25VcGRhdGU6ICh2YWx1ZXMpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Vmlld3BvcnRQb3NpdGlvbihnZXRQb3NpdGlvbih2YWx1ZXMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ob29rcy5vblpvb21MZXZlbFdpbGxDaGFuZ2UodmFsdWVzLnpvb21MZXZlbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAob25WaWV3RGlkVHJhbnNpdGlvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9uVmlld0RpZFRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FbmQ6IChpbmZvKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uRW5kKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVuZChpbmZvKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlICYmICFpbmZvLmludGVycnVwdGVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlKHRoaXMuX3JlbmRlcmVkUGFnZXMuc2xpY2UoKSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfY2xlYXJBbmltYXRpb24gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hbmltYXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc1BhZ2VWaXNpYmxlIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMubGF5b3V0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8ocGFnZUluZGV4KTtcblxuICAgICAgICBpZiAoIXBhZ2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3cG9ydC5pbnRlcnNlY3RzUmVnaW9uKHRoaXMubGF5b3V0LmdldFBhZ2VSZWdpb24ocGFnZUluZGV4KSk7XG4gICAgfVxuXG4gICAgZ2V0UmVuZGVyZWRQYWdlcyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVkUGFnZXMuc2xpY2UoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9jbGVhckFuaW1hdGlvbigpO1xuXG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IEkgZG9uJ3Qga25vdyBpZiB3ZSBzaG91bGQgYWN0dWFsbHkgZG8gdGhpc1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9wZW5kaW5nUmVxdWVzdHMpLmZvckVhY2goKHJlcSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tyZXFdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tyZXFdO1xuXG4gICAgICAgICAgICBoYW5kbGVyLmFib3J0KCk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2NhbnZhcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NhbnZhcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRTY2FsZWRUaWxlUmVjb3JkIChzb3VyY2UsIHNjYWxlRmFjdG9yKVxue1xuICAgIGxldCBzY2FsZVJhdGlvO1xuXG4gICAgaWYgKHNjYWxlRmFjdG9yID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgc2NhbGVSYXRpbyA9IDE7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHNjYWxlUmF0aW8gPSBNYXRoLnBvdygyLCBzY2FsZUZhY3RvciAtIHNvdXJjZS56b29tTGV2ZWwpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHNvdXJjZVpvb21MZXZlbDogc291cmNlLnpvb21MZXZlbCxcbiAgICAgICAgc2NhbGVSYXRpbzogc2NhbGVSYXRpbyxcbiAgICAgICAgcm93OiBzb3VyY2Uucm93LFxuICAgICAgICBjb2w6IHNvdXJjZS5jb2wsXG4gICAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgICAgIHdpZHRoOiBzb3VyY2UuZGltZW5zaW9ucy53aWR0aCAqIHNjYWxlUmF0aW8sXG4gICAgICAgICAgICBoZWlnaHQ6IHNvdXJjZS5kaW1lbnNpb25zLmhlaWdodCAqIHNjYWxlUmF0aW9cbiAgICAgICAgfSxcbiAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICBsZWZ0OiBzb3VyY2Uub2Zmc2V0LmxlZnQgKiBzY2FsZVJhdGlvLFxuICAgICAgICAgICAgdG9wOiBzb3VyY2Uub2Zmc2V0LnRvcCAqIHNjYWxlUmF0aW9cbiAgICAgICAgfSxcbiAgICAgICAgdXJsOiBzb3VyY2UudXJsXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZmluZENoYW5nZXMgKG9sZEFycmF5LCBuZXdBcnJheSlcbntcbiAgICBpZiAob2xkQXJyYXkgPT09IG5ld0FycmF5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZGVkOiBbXSxcbiAgICAgICAgICAgIHJlbW92ZWQ6IFtdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgcmVtb3ZlZCA9IG9sZEFycmF5LmZpbHRlcihvbGRFbnRyeSA9PiBuZXdBcnJheS5pbmRleE9mKG9sZEVudHJ5KSA9PT0gLTEpO1xuXG4gICAgY29uc3QgYWRkZWQgPSBuZXdBcnJheS5maWx0ZXIobmV3RW50cnkgPT4gb2xkQXJyYXkuaW5kZXhPZihuZXdFbnRyeSkgPT09IC0xKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZGVkOiBhZGRlZCxcbiAgICAgICAgcmVtb3ZlZDogcmVtb3ZlZFxuICAgIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRQYWdlRGltZW5zaW9ucyAocGFnZUluZGV4LCBtYW5pZmVzdClcbntcbiAgICBjb25zdCBkaW1zID0gbWFuaWZlc3QuZ2V0TWF4UGFnZURpbWVuc2lvbnMocGFnZUluZGV4KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBNYXRoLmZsb29yKGRpbXMud2lkdGgpLFxuICAgICAgICBoZWlnaHQ6IE1hdGguZmxvb3IoZGltcy5oZWlnaHQpXG4gICAgfTtcbn1cbiIsImltcG9ydCBnZXRQYWdlRGltZW5zaW9ucyBmcm9tICcuL3BhZ2UtZGltZW5zaW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEJvb2tMYXlvdXRHcm91cHMgKHZpZXdlckNvbmZpZylcbntcbiAgICBjb25zdCBncm91cGluZ3MgPSBnZXRHcm91cGluZ3Modmlld2VyQ29uZmlnKTtcblxuICAgIHJldHVybiBncm91cGluZ3MubWFwKGdyb3VwaW5nID0+IGdldEdyb3VwTGF5b3V0c0Zyb21QYWdlR3JvdXBpbmcodmlld2VyQ29uZmlnLCBncm91cGluZykpO1xufVxuXG5mdW5jdGlvbiBnZXRHcm91cGluZ3Modmlld2VyQ29uZmlnKVxue1xuICAgIGNvbnN0IG1hbmlmZXN0ID0gdmlld2VyQ29uZmlnLm1hbmlmZXN0O1xuXG4gICAgY29uc3QgcGFnZXNCeUdyb3VwID0gW107XG4gICAgbGV0IGxlZnRQYWdlID0gbnVsbDtcbiAgICBsZXQgbm9uUGFnZWRQYWdlcyA9IFtdOyAvLyBQYWdlcyB0byBkaXNwbGF5IGJlbG93IHRoZSBjdXJyZW50IGdyb3VwXG5cbiAgICBjb25zdCBfYWRkTm9uUGFnZWRQYWdlcyA9ICgpID0+XG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbmxlbiA9IG5vblBhZ2VkUGFnZXMubGVuZ3RoOyBpIDwgbmxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBwYWdlc0J5R3JvdXAucHVzaChbIG5vblBhZ2VkUGFnZXNbaV0gXSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9uUGFnZWRQYWdlcyA9IFtdO1xuICAgIH07XG5cbiAgICBtYW5pZmVzdC5wYWdlcy5mb3JFYWNoKCAocGFnZSwgaW5kZXgpID0+XG4gICAge1xuICAgICAgICBjb25zdCBwYWdlUmVjb3JkID0ge1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgZGltZW5zaW9uczogZ2V0UGFnZURpbWVuc2lvbnMoaW5kZXgsIG1hbmlmZXN0KSxcbiAgICAgICAgICAgIHBhZ2VkOiAoIW1hbmlmZXN0LnBhZ2VkIHx8IHBhZ2UucGFnZWQpXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gT25seSBkaXNwbGF5IG5vbi1wYWdlZCBwYWdlcyBpZiBzcGVjaWZpZWQgaW4gdGhlIHNldHRpbmdzXG4gICAgICAgIGlmICghdmlld2VyQ29uZmlnLnNob3dOb25QYWdlZFBhZ2VzICYmICFwYWdlUmVjb3JkLnBhZ2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICghcGFnZVJlY29yZC5wYWdlZClcbiAgICAgICAge1xuICAgICAgICAgICAgbm9uUGFnZWRQYWdlcy5wdXNoKHBhZ2VSZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluZGV4ID09PSAwIHx8IHBhZ2UuZmFjaW5nUGFnZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRoZSBmaXJzdCBwYWdlIGlzIHBsYWNlZCBvbiBpdHMgb3duXG4gICAgICAgICAgICBwYWdlc0J5R3JvdXAucHVzaChbcGFnZVJlY29yZF0pO1xuICAgICAgICAgICAgX2FkZE5vblBhZ2VkUGFnZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsZWZ0UGFnZSA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgbGVmdFBhZ2UgPSBwYWdlUmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcGFnZXNCeUdyb3VwLnB1c2goW2xlZnRQYWdlLCBwYWdlUmVjb3JkXSk7XG4gICAgICAgICAgICBsZWZ0UGFnZSA9IG51bGw7XG4gICAgICAgICAgICBfYWRkTm9uUGFnZWRQYWdlcygpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBGbHVzaCBhIGZpbmFsIGxlZnQgcGFnZVxuICAgIGlmIChsZWZ0UGFnZSAhPT0gbnVsbClcbiAgICB7XG4gICAgICAgIHBhZ2VzQnlHcm91cC5wdXNoKFtsZWZ0UGFnZV0pO1xuICAgICAgICBfYWRkTm9uUGFnZWRQYWdlcygpO1xuICAgIH1cblxuICAgIHJldHVybiBwYWdlc0J5R3JvdXA7XG59XG5cbmZ1bmN0aW9uIGdldEdyb3VwTGF5b3V0c0Zyb21QYWdlR3JvdXBpbmcodmlld2VyQ29uZmlnLCBncm91cGluZylcbntcbiAgICBjb25zdCB2ZXJ0aWNhbGx5T3JpZW50ZWQgPSB2aWV3ZXJDb25maWcudmVydGljYWxseU9yaWVudGVkO1xuXG4gICAgaWYgKGdyb3VwaW5nLmxlbmd0aCA9PT0gMilcbiAgICAgICAgcmV0dXJuIGdldEZhY2luZ1BhZ2VHcm91cChncm91cGluZ1swXSwgZ3JvdXBpbmdbMV0sIHZlcnRpY2FsbHlPcmllbnRlZCk7XG5cbiAgICBjb25zdCBwYWdlID0gZ3JvdXBpbmdbMF07XG4gICAgY29uc3QgcGFnZURpbXMgPSBwYWdlLmRpbWVuc2lvbnM7XG5cbiAgICAvLyBUaGUgZmlyc3QgcGFnZSBpcyBwbGFjZWQgb24gaXRzIG93biB0byB0aGUgcmlnaHQgaW4gdmVydGljYWwgb3JpZW50YXRpb24uXG4gICAgLy8gTkIgdGhhdCB0aGlzIG5lZWRzIHRvIGJlIHRoZSBwYWdlIHdpdGggaW5kZXggMDsgaWYgdGhlIGZpcnN0IHBhZ2UgaXMgZXhjbHVkZWRcbiAgICAvLyBmcm9tIHRoZSBsYXlvdXQgdGhlbiB0aGlzIHNwZWNpYWwgY2FzZSBzaG91bGRuJ3QgYXBwbHkuXG4gICAgLy8gSWYgdGhlIHBhZ2UgaXMgdGFnZ2VkIGFzICdub24tcGFnZWQnLCBjZW50ZXIgaXQgaG9yaXpvbnRhbGx5XG4gICAgbGV0IGxlZnRPZmZzZXQ7XG4gICAgaWYgKHBhZ2UucGFnZWQpXG4gICAgICAgIGxlZnRPZmZzZXQgPSAocGFnZS5pbmRleCA9PT0gMCAmJiB2ZXJ0aWNhbGx5T3JpZW50ZWQpID8gcGFnZURpbXMud2lkdGggOiAwO1xuICAgIGVsc2VcbiAgICAgICAgbGVmdE9mZnNldCA9ICh2ZXJ0aWNhbGx5T3JpZW50ZWQpID8gcGFnZURpbXMud2lkdGggLyAyIDogMDtcblxuICAgIGNvbnN0IHNob3VsZEJlSG9yaXpvbnRhbGx5QWRqdXN0ZWQgPVxuICAgICAgICB2ZXJ0aWNhbGx5T3JpZW50ZWQgJiYgIXZpZXdlckNvbmZpZy5tYW5pZmVzdC5wYWdlc1twYWdlLmluZGV4XS5mYWNpbmdQYWdlcztcblxuICAgIC8vIFdlIG5lZWQgdG8gbGVmdC1hbGlnbiB0aGUgcGFnZSBpbiB2ZXJ0aWNhbCBvcmllbnRhdGlvbiwgc28gd2UgZG91YmxlXG4gICAgLy8gdGhlIGdyb3VwIHdpZHRoXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGltZW5zaW9uczoge1xuICAgICAgICAgICAgaGVpZ2h0OiBwYWdlRGltcy5oZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogc2hvdWxkQmVIb3Jpem9udGFsbHlBZGp1c3RlZCA/IHBhZ2VEaW1zLndpZHRoICogMiA6IHBhZ2VEaW1zLndpZHRoXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2VzOiBbe1xuICAgICAgICAgICAgaW5kZXg6IHBhZ2UuaW5kZXgsXG4gICAgICAgICAgICBncm91cE9mZnNldDoge1xuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0T2Zmc2V0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZURpbXNcbiAgICAgICAgfV1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRGYWNpbmdQYWdlR3JvdXAobGVmdFBhZ2UsIHJpZ2h0UGFnZSwgdmVydGljYWxseU9yaWVudGVkKVxue1xuICAgIGNvbnN0IGxlZnREaW1zID0gbGVmdFBhZ2UuZGltZW5zaW9ucztcbiAgICBjb25zdCByaWdodERpbXMgPSByaWdodFBhZ2UuZGltZW5zaW9ucztcblxuICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KGxlZnREaW1zLmhlaWdodCwgcmlnaHREaW1zLmhlaWdodCk7XG5cbiAgICBsZXQgd2lkdGgsIGZpcnN0TGVmdE9mZnNldCwgc2Vjb25kTGVmdE9mZnNldDtcblxuICAgIGlmICh2ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAge1xuICAgICAgICBjb25zdCBtaWRXaWR0aCA9IE1hdGgubWF4KGxlZnREaW1zLndpZHRoLCByaWdodERpbXMud2lkdGgpO1xuXG4gICAgICAgIHdpZHRoID0gbWlkV2lkdGggKiAyO1xuXG4gICAgICAgIGZpcnN0TGVmdE9mZnNldCA9IG1pZFdpZHRoIC0gbGVmdERpbXMud2lkdGg7XG4gICAgICAgIHNlY29uZExlZnRPZmZzZXQgPSBtaWRXaWR0aDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBsZWZ0RGltcy53aWR0aCArIHJpZ2h0RGltcy53aWR0aDtcbiAgICAgICAgZmlyc3RMZWZ0T2Zmc2V0ID0gMDtcbiAgICAgICAgc2Vjb25kTGVmdE9mZnNldCA9IGxlZnREaW1zLndpZHRoO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2VzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGxlZnRQYWdlLmluZGV4LFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IGxlZnREaW1zLFxuICAgICAgICAgICAgICAgIGdyb3VwT2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogZmlyc3RMZWZ0T2Zmc2V0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleDogcmlnaHRQYWdlLmluZGV4LFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IHJpZ2h0RGltcyxcbiAgICAgICAgICAgICAgICBncm91cE9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHNlY29uZExlZnRPZmZzZXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRHcmlkTGF5b3V0R3JvdXBzICh2aWV3ZXJDb25maWcpXG57XG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHZpZXdlckNvbmZpZy52aWV3cG9ydC53aWR0aDtcbiAgICBjb25zdCBtYW5pZmVzdCA9IHZpZXdlckNvbmZpZy5tYW5pZmVzdDtcbiAgICBjb25zdCBwYWdlc1BlclJvdyA9IHZpZXdlckNvbmZpZy5wYWdlc1BlclJvdztcbiAgICBjb25zdCBmaXhlZEhlaWdodEdyaWQgPSB2aWV3ZXJDb25maWcuZml4ZWRIZWlnaHRHcmlkO1xuICAgIGNvbnN0IGZpeGVkUGFkZGluZyA9IHZpZXdlckNvbmZpZy5maXhlZFBhZGRpbmc7XG4gICAgY29uc3Qgc2hvd05vblBhZ2VkUGFnZXMgPSB2aWV3ZXJDb25maWcuc2hvd05vblBhZ2VkUGFnZXM7XG5cbiAgICBjb25zdCBob3Jpem9udGFsUGFkZGluZyA9IGZpeGVkUGFkZGluZyAqIChwYWdlc1BlclJvdyArIDEpO1xuICAgIGNvbnN0IHBhZ2VXaWR0aCA9ICh2aWV3cG9ydFdpZHRoIC0gaG9yaXpvbnRhbFBhZGRpbmcpIC8gcGFnZXNQZXJSb3c7XG4gICAgY29uc3QgZ3JpZFBhZ2VXaWR0aCA9IHBhZ2VXaWR0aDtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgcm93IGhlaWdodCBkZXBlbmRpbmcgb24gd2hldGhlciB3ZSB3YW50IHRvIGZpeCB0aGUgd2lkdGggb3IgdGhlIGhlaWdodFxuICAgIGNvbnN0IHJvd0hlaWdodCA9IChmaXhlZEhlaWdodEdyaWQpID8gZml4ZWRQYWRkaW5nICsgbWFuaWZlc3QubWluUmF0aW8gKiBwYWdlV2lkdGggOiBmaXhlZFBhZGRpbmcgKyBtYW5pZmVzdC5tYXhSYXRpbyAqIHBhZ2VXaWR0aDtcblxuICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuICAgIGxldCBjdXJyZW50UGFnZXMgPSBbXTtcblxuICAgIGNvbnN0IGdldEdyaWRQYWdlRGltZW5zaW9ucyA9IHBhZ2VEYXRhID0+XG4gICAge1xuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHdpZHRoLCBoZWlnaHQgYW5kIGhvcml6b250YWwgcGxhY2VtZW50IG9mIHRoaXMgcGFnZVxuICAgICAgICAvLyBHZXQgZGltZW5zaW9ucyBhdCBtYXggem9vbSBsZXZlbCwgYWx0aG91Z2ggYW55IGxldmVsIHNob3VsZCBiZSBmaW5lXG4gICAgICAgIGNvbnN0IHBhZ2VEaW1lbkRhdGEgPSBwYWdlRGF0YS5kW3BhZ2VEYXRhLmQubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGhlaWdodFRvV2lkdGhSYXRpbyA9IHBhZ2VEaW1lbkRhdGEuaCAvIHBhZ2VEaW1lbkRhdGEudztcblxuICAgICAgICBsZXQgcGFnZVdpZHRoLCBwYWdlSGVpZ2h0O1xuXG4gICAgICAgIGlmIChmaXhlZEhlaWdodEdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VXaWR0aCA9IChyb3dIZWlnaHQgLSBmaXhlZFBhZGRpbmcpIC8gaGVpZ2h0VG9XaWR0aFJhdGlvO1xuICAgICAgICAgICAgcGFnZUhlaWdodCA9IHJvd0hlaWdodCAtIGZpeGVkUGFkZGluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VXaWR0aCA9IGdyaWRQYWdlV2lkdGg7XG4gICAgICAgICAgICBwYWdlSGVpZ2h0ID0gcGFnZVdpZHRoICogaGVpZ2h0VG9XaWR0aFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHBhZ2VXaWR0aCksXG4gICAgICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQocGFnZUhlaWdodClcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgcm93RGltZW5zaW9ucyA9IHtcbiAgICAgICAgaGVpZ2h0OiByb3dIZWlnaHQsXG4gICAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoXG4gICAgfTtcblxuICAgIG1hbmlmZXN0LnBhZ2VzLmZvckVhY2goIChwYWdlLCBwYWdlSW5kZXgpID0+XG4gICAge1xuICAgICAgICBpZiAoIXNob3dOb25QYWdlZFBhZ2VzICYmIG1hbmlmZXN0LnBhZ2VkICYmICFwYWdlLnBhZ2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgd2lkdGgsIGhlaWdodCBhbmQgaG9yaXpvbnRhbCBwbGFjZW1lbnQgb2YgdGhpcyBwYWdlXG4gICAgICAgIGNvbnN0IHBhZ2VEaW1lbnMgPSBnZXRHcmlkUGFnZURpbWVuc2lvbnMocGFnZSk7XG4gICAgICAgIGxldCBsZWZ0T2Zmc2V0ID0gTWF0aC5mbG9vcihjdXJyZW50UGFnZXMubGVuZ3RoICogKGZpeGVkUGFkZGluZyArIGdyaWRQYWdlV2lkdGgpICsgZml4ZWRQYWRkaW5nKTtcblxuICAgICAgICAvLyBDZW50ZXIgdGhlIHBhZ2UgaWYgdGhlIGhlaWdodCBpcyBmaXhlZCAob3RoZXJ3aXNlLCB0aGVyZSBpcyBubyBob3Jpem9udGFsIHBhZGRpbmcpXG4gICAgICAgIGlmIChmaXhlZEhlaWdodEdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxlZnRPZmZzZXQgKz0gKGdyaWRQYWdlV2lkdGggLSBwYWdlRGltZW5zLndpZHRoKSAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBQcmVjb21wdXRlIHBhZ2UgZGltZW5zaW9ucyBldmVyeXdoZXJlXG4gICAgICAgIGN1cnJlbnRQYWdlcy5wdXNoKHtcbiAgICAgICAgICAgIGluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBwYWdlRGltZW5zLFxuICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogbGVmdE9mZnNldFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoY3VycmVudFBhZ2VzLmxlbmd0aCA9PT0gcGFnZXNQZXJSb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdyb3Vwcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiByb3dEaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgIHBhZ2VzOiBjdXJyZW50UGFnZXNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjdXJyZW50UGFnZXMgPSBbXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGN1cnJlbnRQYWdlcy5sZW5ndGggPiAwKVxuICAgIHtcbiAgICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICAgICAgZGltZW5zaW9uczogcm93RGltZW5zaW9ucyxcbiAgICAgICAgICAgIHBhZ2VzOiBjdXJyZW50UGFnZXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyb3Vwcztcbn1cbiIsImltcG9ydCBnZXRCb29rTGF5b3V0R3JvdXBzIGZyb20gJy4vYm9vay1sYXlvdXQnO1xuaW1wb3J0IGdldFNpbmdsZXNMYXlvdXRHcm91cHMgZnJvbSAnLi9zaW5nbGVzLWxheW91dCc7XG5pbXBvcnQgZ2V0R3JpZExheW91dEdyb3VwcyBmcm9tICcuL2dyaWQtbGF5b3V0JztcblxuLyoqIEdldCB0aGUgcmVsYXRpdmUgcG9zaXRpb25pbmcgb2YgcGFnZXMgZm9yIHRoZSBjdXJyZW50IHZpZXcgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFBhZ2VMYXlvdXRzIChzZXR0aW5ncylcbntcbiAgICBpZiAoc2V0dGluZ3MuaW5HcmlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGdldEdyaWRMYXlvdXRHcm91cHMocGx1Y2soc2V0dGluZ3MsIFtcbiAgICAgICAgICAgICdtYW5pZmVzdCcsXG4gICAgICAgICAgICAndmlld3BvcnQnLFxuICAgICAgICAgICAgJ3BhZ2VzUGVyUm93JyxcbiAgICAgICAgICAgICdmaXhlZEhlaWdodEdyaWQnLFxuICAgICAgICAgICAgJ2ZpeGVkUGFkZGluZycsXG4gICAgICAgICAgICAnc2hvd05vblBhZ2VkUGFnZXMnXG4gICAgICAgIF0pKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gcGx1Y2soc2V0dGluZ3MsIFsnbWFuaWZlc3QnLCAndmVydGljYWxseU9yaWVudGVkJywgJ3Nob3dOb25QYWdlZFBhZ2VzJ10pO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5pbkJvb2tMYXlvdXQpXG4gICAgICAgICAgICByZXR1cm4gZ2V0Qm9va0xheW91dEdyb3Vwcyhjb25maWcpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gZ2V0U2luZ2xlc0xheW91dEdyb3Vwcyhjb25maWcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcGx1Y2sgKG9iaiwga2V5cylcbntcbiAgICBjb25zdCBvdXQgPSB7fTtcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSlcbiAgICB7XG4gICAgICAgIG91dFtrZXldID0gb2JqW2tleV07XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dDtcbn1cbiIsImltcG9ydCBnZXRQYWdlRGltZW5zaW9ucyBmcm9tICcuL3BhZ2UtZGltZW5zaW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNpbmdsZXNMYXlvdXRHcm91cHMgKHZpZXdlckNvbmZpZylcbntcbiAgICBjb25zdCBtYW5pZmVzdCA9IHZpZXdlckNvbmZpZy5tYW5pZmVzdDtcblxuICAgIC8vIFJlbmRlciBlYWNoIHBhZ2UgYWxvbmUgaW4gYSBncm91cFxuICAgIGNvbnN0IHBhZ2VzID0gW107XG4gICAgbWFuaWZlc3QucGFnZXMuZm9yRWFjaCggKHBhZ2UsIGluZGV4KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKCF2aWV3ZXJDb25maWcuc2hvd05vblBhZ2VkUGFnZXMgJiYgbWFuaWZlc3QucGFnZWQgJiYgIXBhZ2UucGFnZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcGFnZURpbXMgPSBnZXRQYWdlRGltZW5zaW9ucyhpbmRleCwgbWFuaWZlc3QpO1xuXG4gICAgICAgIHBhZ2VzLnB1c2goe1xuICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZURpbXMsXG4gICAgICAgICAgICBwYWdlczogW3tcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXG4gICAgICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZURpbXNcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHBhZ2VzO1xufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVTZXR0aW5nc1ZpZXcoc291cmNlcylcbntcbiAgICBjb25zdCBvYmogPSB7fTtcblxuICAgIHNvdXJjZXMuZm9yRWFjaCggKHNvdXJjZSkgPT5cbiAgICB7XG4gICAgICAgIHJlZ2lzdGVyTWl4aW4ob2JqLCBzb3VyY2UpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJNaXhpbihvYmosIG1peGluKVxue1xuICAgIE9iamVjdC5rZXlzKG1peGluKS5mb3JFYWNoKCAoa2V5KSA9PlxuICAgIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1peGluW2tleV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE1ha2UgZXZlcnl0aGluZyBzdHJpY3QgbW9kZSBzbyB0aGlzIGlzbid0IG5lZWRlZFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBzZXQgc2V0dGluZ3MuJyArIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmFsaWRhdGlvblJ1bm5lclxue1xuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdGhpcy53aGl0ZWxpc3RlZEtleXMgPSBvcHRpb25zLndoaXRlbGlzdGVkS2V5cyB8fCBbXTtcbiAgICAgICAgdGhpcy5hZGRpdGlvbmFsUHJvcGVydGllcyA9IG9wdGlvbnMuYWRkaXRpb25hbFByb3BlcnRpZXMgfHwgW107XG4gICAgICAgIHRoaXMudmFsaWRhdGlvbnMgPSBvcHRpb25zLnZhbGlkYXRpb25zO1xuICAgIH1cblxuICAgIGlzVmFsaWQgKGtleSwgdmFsdWUsIHNldHRpbmdzKVxuICAgIHtcbiAgICAgICAgLy8gR2V0IHRoZSB2YWxpZGF0aW9uIGluZGV4XG4gICAgICAgIGxldCB2YWxpZGF0aW9uSW5kZXggPSBudWxsO1xuXG4gICAgICAgIHRoaXMudmFsaWRhdGlvbnMuc29tZSgodmFsaWRhdGlvbiwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLmtleSAhPT0ga2V5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsaWRhdGlvbkluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHZhbGlkYXRpb25JbmRleCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdW4gdGhlIHZhbGlkYXRpb25cbiAgICAgICAgY29uc3QgZHVtbXlDaGFuZ2VzID0ge307XG4gICAgICAgIGR1bW15Q2hhbmdlc1trZXldID0gdmFsdWU7XG4gICAgICAgIGNvbnN0IHByb3hpZXIgPSBjcmVhdGVTZXR0aW5nc1Byb3hpZXIoc2V0dGluZ3MsIGR1bW15Q2hhbmdlcywgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuICF0aGlzLl9ydW5WYWxpZGF0aW9uKHZhbGlkYXRpb25JbmRleCwgdmFsdWUsIHByb3hpZXIpO1xuICAgIH1cblxuICAgIHZhbGlkYXRlIChzZXR0aW5ncylcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlT3B0aW9ucyh7fSwgc2V0dGluZ3MpO1xuICAgIH1cblxuICAgIGdldFZhbGlkYXRlZE9wdGlvbnMgKHNldHRpbmdzLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlT3B0aW9ucyhzZXR0aW5ncywgY2xvbmVkKTtcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGVPcHRpb25zIChzZXR0aW5ncywgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzUHJveGllciA9IGNyZWF0ZVNldHRpbmdzUHJveGllcihzZXR0aW5ncywgb3B0aW9ucywgdGhpcyk7XG4gICAgICAgIHRoaXMuX2FwcGx5VmFsaWRhdGlvbnMob3B0aW9ucywgc2V0dGluZ3NQcm94aWVyKTtcbiAgICB9XG5cbiAgICBfYXBwbHlWYWxpZGF0aW9ucyAob3B0aW9ucywgcHJveGllcilcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGlvbnMuZm9yRWFjaCgodmFsaWRhdGlvbiwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh2YWxpZGF0aW9uLmtleSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IG9wdGlvbnNbdmFsaWRhdGlvbi5rZXldO1xuICAgICAgICAgICAgY29uc3QgY29ycmVjdGVkID0gdGhpcy5fcnVuVmFsaWRhdGlvbihpbmRleCwgaW5wdXQsIHByb3hpZXIpO1xuXG4gICAgICAgICAgICBpZiAoY29ycmVjdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghY29ycmVjdGVkLndhcm5pbmdTdXBwcmVzc2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdFdhcm5pbmcodmFsaWRhdGlvbi5rZXksIGlucHV0LCBjb3JyZWN0ZWQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG9wdGlvbnNbdmFsaWRhdGlvbi5rZXldID0gY29ycmVjdGVkLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG5cbiAgICBfcnVuVmFsaWRhdGlvbiAoaW5kZXgsIGlucHV0LCBwcm94aWVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMudmFsaWRhdGlvbnNbaW5kZXhdO1xuXG4gICAgICAgIHByb3hpZXIuaW5kZXggPSBpbmRleDtcblxuICAgICAgICBsZXQgd2FybmluZ1N1cHByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgc3VwcHJlc3NXYXJuaW5nOiAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm5pbmdTdXBwcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvdXRwdXRWYWx1ZSA9IHZhbGlkYXRpb24udmFsaWRhdGUoaW5wdXQsIHByb3hpZXIucHJveHksIGNvbmZpZyk7XG5cbiAgICAgICAgaWYgKG91dHB1dFZhbHVlID09PSB1bmRlZmluZWQgfHwgb3V0cHV0VmFsdWUgPT09IGlucHV0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogb3V0cHV0VmFsdWUsXG4gICAgICAgICAgICB3YXJuaW5nU3VwcHJlc3NlZDogd2FybmluZ1N1cHByZXNzZWRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIHNldHRpbmdzIHByb3h5IHdyYXBzIHRoZSBzZXR0aW5ncyBvYmplY3QgYW5kIGVuc3VyZXMgdGhhdFxuICogb25seSB2YWx1ZXMgd2hpY2ggaGF2ZSBwcmV2aW91c2x5IGJlZW4gdmFsaWRhdGVkIGFyZSBhY2Nlc3NlZCxcbiAqIHRocm93aW5nIGEgVHlwZUVycm9yIG90aGVyd2lzZS5cbiAqXG4gKiBGSVhNRSh3YWJhaW4pOiBJcyBpdCB3b3J0aCBrZWVwaW5nIHRoaXM/IFdoZW4gSSB3cm90ZSBpdCBJIGhhZFxuICogbXVsdGlwbGUgdmFsaWRhdGlvbiBzdGFnZXMgYW5kIGl0IHdhcyBhIGxvdCBoYXJkZXIgdG8ga2VlcCB0cmFja1xuICogb2YgZXZlcnl0aGluZywgc28gdGhpcyB3YXMgbW9yZSB2YWx1YWJsZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2V0dGluZ3NQcm94aWVyIChzZXR0aW5ncywgb3B0aW9ucywgcnVubmVyKVxue1xuICAgIGNvbnN0IHByb3hpZXIgPSB7XG4gICAgICAgIHByb3h5OiB7fSxcbiAgICAgICAgaW5kZXg6IG51bGxcbiAgICB9O1xuXG4gICAgY29uc3QgbG9va3VwID0gbG9va3VwVmFsdWUuYmluZChudWxsLCBzZXR0aW5ncywgb3B0aW9ucyk7XG5cbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG5cbiAgICBydW5uZXIud2hpdGVsaXN0ZWRLZXlzLmZvckVhY2goKHdoaXRlbGlzdGVkKSA9PlxuICAgIHtcbiAgICAgICAgcHJvcGVydGllc1t3aGl0ZWxpc3RlZF0gPSB7XG4gICAgICAgICAgICBnZXQ6IGxvb2t1cC5iaW5kKG51bGwsIHdoaXRlbGlzdGVkKVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgcnVubmVyLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLmZvckVhY2goKGFkZGl0aW9uYWwpID0+XG4gICAge1xuICAgICAgICBwcm9wZXJ0aWVzW2FkZGl0aW9uYWwua2V5XSA9IHtcbiAgICAgICAgICAgIGdldDogYWRkaXRpb25hbC5nZXRcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJ1bm5lci52YWxpZGF0aW9ucy5mb3JFYWNoKCAodmFsaWRhdGlvbiwgdmFsaWRhdGlvbkluZGV4KSA9PlxuICAgIHtcbiAgICAgICAgcHJvcGVydGllc1t2YWxpZGF0aW9uLmtleV0gPSB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25JbmRleCA8IHByb3hpZXIuaW5kZXgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9va3VwKHZhbGlkYXRpb24ua2V5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50S2V5ID0gcnVubmVyLnZhbGlkYXRpb25zW3Byb3hpZXIuaW5kZXhdLmtleTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgYWNjZXNzIHNldHRpbmcgJyArIHZhbGlkYXRpb24ua2V5ICsgJyB3aGlsZSB2YWxpZGF0aW5nICcgKyBjdXJyZW50S2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHByb3hpZXIucHJveHksIHByb3BlcnRpZXMpO1xuXG4gICAgcmV0dXJuIHByb3hpZXI7XG59XG5cbmZ1bmN0aW9uIGVtaXRXYXJuaW5nIChrZXksIG9yaWdpbmFsLCBjb3JyZWN0ZWQpXG57XG4gICAgY29uc29sZS53YXJuKCdJbnZhbGlkIHZhbHVlIGZvciAnICsga2V5ICsgJzogJyArIG9yaWdpbmFsICsgJy4gVXNpbmcgJyArIGNvcnJlY3RlZCArICcgaW5zdGVhZC4nKTtcbn1cblxuZnVuY3Rpb24gbG9va3VwVmFsdWUgKGJhc2UsIGV4dGVuc2lvbiwga2V5KVxue1xuICAgIGlmIChrZXkgaW4gZXh0ZW5zaW9uKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbltrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlW2tleV07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3cG9ydFxue1xuICAgIGNvbnN0cnVjdG9yIChvdXRlciwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVG9sZXJhbmNlID0gb3B0aW9ucy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2UgfHwgMDtcbiAgICAgICAgdGhpcy5vdXRlciA9IG91dGVyO1xuICAgICAgICB0aGlzLl90b3AgPSB0aGlzLl9sZWZ0ID0gdGhpcy5fd2lkdGggPSB0aGlzLl9oZWlnaHQgPSB0aGlzLl9pbm5lckRpbWVuc2lvbnMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgIH1cblxuICAgIGludGVyc2VjdHNSZWdpb24gKHJlZ2lvbilcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc0hvcml6b250YWxPdmVybGFwKHJlZ2lvbikgJiYgdGhpcy5oYXNWZXJ0aWNhbE92ZXJsYXAocmVnaW9uKTtcbiAgICB9XG5cbiAgICBoYXNWZXJ0aWNhbE92ZXJsYXAgKHJlZ2lvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IHRvcCA9IHRoaXMudG9wIC0gdGhpcy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG4gICAgICAgIGNvbnN0IGJvdHRvbSA9IHRoaXMuYm90dG9tICsgdGhpcy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGZhbGxzQmV0d2VlbihyZWdpb24udG9wLCB0b3AsIGJvdHRvbSkgfHxcbiAgICAgICAgICAgIGZhbGxzQmV0d2VlbihyZWdpb24uYm90dG9tLCB0b3AsIGJvdHRvbSkgfHxcbiAgICAgICAgICAgIChyZWdpb24udG9wIDw9IHRvcCAmJiByZWdpb24uYm90dG9tID49IGJvdHRvbSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBoYXNIb3Jpem9udGFsT3ZlcmxhcCAocmVnaW9uKVxuICAgIHtcbiAgICAgICAgY29uc3QgbGVmdCA9IHRoaXMubGVmdCAtIHRoaXMuaW50ZXJzZWN0aW9uVG9sZXJhbmNlO1xuICAgICAgICBjb25zdCByaWdodCA9IHRoaXMucmlnaHQgKyB0aGlzLmludGVyc2VjdGlvblRvbGVyYW5jZTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZmFsbHNCZXR3ZWVuKHJlZ2lvbi5sZWZ0LCBsZWZ0LCByaWdodCkgfHxcbiAgICAgICAgICAgIGZhbGxzQmV0d2VlbihyZWdpb24ucmlnaHQsIGxlZnQsIHJpZ2h0KSB8fFxuICAgICAgICAgICAgKHJlZ2lvbi5sZWZ0IDw9IGxlZnQgJiYgcmVnaW9uLnJpZ2h0ID49IHJpZ2h0KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGludmFsaWRhdGUgKClcbiAgICB7XG4gICAgICAgIC8vIEZJWE1FOiBTaG91bGQgdGhpcyBjaGVjayB0aGUgaW5uZXIgZGltZW5zaW9ucyBhcyB3ZWxsP1xuICAgICAgICB0aGlzLl93aWR0aCA9IHRoaXMub3V0ZXIuY2xpZW50V2lkdGg7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHRoaXMub3V0ZXIuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuX3RvcCA9IHRoaXMub3V0ZXIuc2Nyb2xsVG9wO1xuICAgICAgICB0aGlzLl9sZWZ0ID0gdGhpcy5vdXRlci5zY3JvbGxMZWZ0O1xuICAgIH1cblxuICAgIHNldElubmVyRGltZW5zaW9ucyAoZGltZW5zaW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMuX2lubmVyRGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XG5cbiAgICAgICAgaWYgKGRpbWVuc2lvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RvcCA9IGNsYW1wKHRoaXMuX3RvcCwgMCwgZGltZW5zaW9ucy5oZWlnaHQgLSB0aGlzLl9oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5fbGVmdCA9IGNsYW1wKHRoaXMuX2xlZnQsIDAsIGRpbWVuc2lvbnMud2lkdGggLSB0aGlzLl93aWR0aCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFZpZXdwb3J0LnByb3RvdHlwZSwge1xuICAgIHRvcDogZ2V0Q29vcmRpbmF0ZURlc2NyaXB0b3IoJ3RvcCcsICdoZWlnaHQnKSxcbiAgICBsZWZ0OiBnZXRDb29yZGluYXRlRGVzY3JpcHRvcignbGVmdCcsICd3aWR0aCcpLFxuXG4gICAgd2lkdGg6IGdldERpbWVuc2lvbkRlc2NyaXB0b3IoJ3dpZHRoJyksXG4gICAgaGVpZ2h0OiBnZXREaW1lbnNpb25EZXNjcmlwdG9yKCdoZWlnaHQnKSxcblxuICAgIGJvdHRvbToge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3AgKyB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJpZ2h0OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnQgKyB0aGlzLl93aWR0aDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiBnZXRDb29yZGluYXRlRGVzY3JpcHRvciAoY29vcmQsIGFzc29jaWF0ZWREaW1lbnNpb24pXG57XG4gICAgY29uc3QgcHJpdmF0ZVByb3AgPSAnXycgKyBjb29yZDtcbiAgICBjb25zdCBzb3VyY2UgPSAnc2Nyb2xsJyArIGNvb3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY29vcmQuc2xpY2UoMSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3ByaXZhdGVQcm9wXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBub3JtYWxpemVkO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faW5uZXJEaW1lbnNpb25zKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heEFsbG93ZWQgPSB0aGlzLl9pbm5lckRpbWVuc2lvbnNbYXNzb2NpYXRlZERpbWVuc2lvbl0gLSB0aGlzW2Fzc29jaWF0ZWREaW1lbnNpb25dO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQgPSBjbGFtcChuZXdWYWx1ZSwgMCwgbWF4QWxsb3dlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZCA9IGNsYW1wTWluKG5ld1ZhbHVlLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpc1twcml2YXRlUHJvcF0gPSB0aGlzLm91dGVyW3NvdXJjZV0gPSBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGltZW5zaW9uRGVzY3JpcHRvciAoZGltZW4pXG57XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1snXycgKyBkaW1lbl07XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBmYWxsc0JldHdlZW4gKHBvaW50LCBzdGFydCwgZW5kKVxue1xuICAgIHJldHVybiBwb2ludCA+PSBzdGFydCAmJiBwb2ludCA8PSBlbmQ7XG59XG5cbmZ1bmN0aW9uIGNsYW1wICh2YWx1ZSwgbWluLCBtYXgpXG57XG4gICAgcmV0dXJuIGNsYW1wTWluKGNsYW1wTWF4KHZhbHVlLCBtYXgpLCBtaW4pO1xufVxuXG5mdW5jdGlvbiBjbGFtcE1pbiAodmFsdWUsIG1pbilcbntcbiAgICByZXR1cm4gTWF0aC5tYXgodmFsdWUsIG1pbik7XG59XG5cbmZ1bmN0aW9uIGNsYW1wTWF4ICh2YWx1ZSwgbWF4KVxue1xuICAgIHJldHVybiBNYXRoLm1pbih2YWx1ZSwgbWF4KTtcbn1cbiIsImltcG9ydCB7IGVsdCB9IGZyb20gJy4vdXRpbHMvZWx0JztcbmltcG9ydCBnZXRTY3JvbGxiYXJXaWR0aCBmcm9tICcuL3V0aWxzL2dldC1zY3JvbGxiYXItd2lkdGgnO1xuaW1wb3J0IGdlc3R1cmVFdmVudHMgZnJvbSAnLi9nZXN0dXJlLWV2ZW50cyc7XG5pbXBvcnQgZGl2YSBmcm9tICcuL2RpdmEtZ2xvYmFsJztcbmltcG9ydCBEb2N1bWVudEhhbmRsZXIgZnJvbSAnLi9kb2N1bWVudC1oYW5kbGVyJztcbmltcG9ydCBHcmlkSGFuZGxlciBmcm9tICcuL2dyaWQtaGFuZGxlcic7XG5pbXBvcnQgUGFnZU92ZXJsYXlNYW5hZ2VyIGZyb20gJy4vcGFnZS1vdmVybGF5LW1hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuaW1wb3J0IGdldFBhZ2VMYXlvdXRzIGZyb20gJy4vcGFnZS1sYXlvdXRzJztcbmltcG9ydCBjcmVhdGVTZXR0aW5nc1ZpZXcgZnJvbSAnLi9zZXR0aW5ncy12aWV3JztcbmltcG9ydCBWYWxpZGF0aW9uUnVubmVyIGZyb20gJy4vdmFsaWRhdGlvbi1ydW5uZXInO1xuaW1wb3J0IFZpZXdwb3J0IGZyb20gJy4vdmlld3BvcnQnO1xuXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ2RpdmE6Vmlld2VyQ29yZScpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUlkKCkge1xuICAgIHJldHVybiBnZW5lcmF0ZUlkLmNvdW50ZXIrKztcbn1cbmdlbmVyYXRlSWQuY291bnRlciA9IDE7XG5cblxuLy8gRGVmaW5lIHZhbGlkYXRpb25zXG5jb25zdCBvcHRpb25zVmFsaWRhdGlvbnMgPSBbXG4gICAge1xuICAgICAgICBrZXk6ICdnb0RpcmVjdGx5VG8nLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlLCBzZXR0aW5ncykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+PSBzZXR0aW5ncy5tYW5pZmVzdC5wYWdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnbWluUGFnZXNQZXJSb3cnLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ21heFBhZ2VzUGVyUm93JyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2YWx1ZSwgc2V0dGluZ3MubWluUGFnZXNQZXJSb3cpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ3BhZ2VzUGVyUm93JyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gdGhlIG1heGltdW1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IHNldHRpbmdzLm1pblBhZ2VzUGVyUm93IHx8IHZhbHVlID4gc2V0dGluZ3MubWF4UGFnZXNQZXJSb3cpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm1heFBhZ2VzUGVyUm93O1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ21heFpvb21MZXZlbCcsXG4gICAgICAgIHZhbGlkYXRlOiAodmFsdWUsIHNldHRpbmdzLCBjb25maWcpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIENoYW5naW5nIHRoaXMgdmFsdWUgaXNuJ3QgcmVhbGx5IGFuIGVycm9yLCBpdCBqdXN0IGRlcGVuZHMgb24gdGhlXG4gICAgICAgICAgICAvLyBzb3VyY2UgbWFuaWZlc3RcbiAgICAgICAgICAgIGNvbmZpZy5zdXBwcmVzc1dhcm5pbmcoKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IHNldHRpbmdzLm1hbmlmZXN0Lm1heFpvb20pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm1hbmlmZXN0Lm1heFpvb207XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnbWluWm9vbUxldmVsJyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MsIGNvbmZpZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ2hhbmdlcyBiYXNlZCBvbiB0aGUgbWFuaWZlc3QgdmFsdWUgc2hvdWxkbid0IHRyaWdnZXIgYVxuICAgICAgICAgICAgLy8gd2FybmluZ1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gc2V0dGluZ3MubWFuaWZlc3QubWF4Wm9vbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25maWcuc3VwcHJlc3NXYXJuaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiBzZXR0aW5ncy5tYXhab29tTGV2ZWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnem9vbUxldmVsJyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MsIGNvbmZpZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gc2V0dGluZ3MubWFuaWZlc3QubWF4Wm9vbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25maWcuc3VwcHJlc3NXYXJuaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IHNldHRpbmdzLm1pblpvb21MZXZlbCB8fCB2YWx1ZSA+IHNldHRpbmdzLm1heFpvb21MZXZlbClcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MubWluWm9vbUxldmVsO1xuICAgICAgICB9XG4gICAgfVxuXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlld2VyQ29yZVxue1xuICAgIGNvbnN0cnVjdG9yIChlbGVtZW50LCBvcHRpb25zLCBwdWJsaWNJbnN0YW5jZSlcbiAgICB7XG4gICAgICAgIHRoaXMucGFyZW50T2JqZWN0ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5wdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlO1xuXG4gICAgICAgIC8vIFRoaW5ncyB0aGF0IGNhbm5vdCBiZSBjaGFuZ2VkIGJlY2F1c2Ugb2YgdGhlIHdheSB0aGV5IGFyZSB1c2VkIGJ5IHRoZSBzY3JpcHRcbiAgICAgICAgLy8gTWFueSBvZiB0aGVzZSBhcmUgZGVjbGFyZWQgd2l0aCBhcmJpdHJhcnkgdmFsdWVzIHRoYXQgYXJlIGNoYW5nZWQgbGF0ZXIgb25cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZSA9IHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlSW5kaWNlczogWzBdLCAgICAvLyBUaGUgdmlzaWJsZSBwYWdlcyBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJbmRleDogMCwgICAgICAgICAvLyBUaGUgY3VycmVudCAnYWN0aXZlJyBwYWdlIGluIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogMCwgICAgICAgIC8vIERpc3RhbmNlIGZyb20gdGhlIGNlbnRlciBvZiB0aGUgZGl2YSBlbGVtZW50IHRvIHRoZSB0b3Agb2YgdGhlIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgaG9yaXpvbnRhbFBhZGRpbmc6IDAsICAgICAgIC8vIEVpdGhlciB0aGUgZml4ZWQgcGFkZGluZyBvciBhZGFwdGl2ZSBwYWRkaW5nXG4gICAgICAgICAgICBJRDogbnVsbCwgICAgICAgICAgICAgICAgICAgLy8gVGhlIHByZWZpeCBvZiB0aGUgSURzIG9mIHRoZSBlbGVtZW50cyAodXN1YWxseSAxLWRpdmEtKVxuICAgICAgICAgICAgaW5pdGlhbEtleVNjcm9sbDogZmFsc2UsICAgIC8vIEhvbGRzIHRoZSBpbml0aWFsIHN0YXRlIG9mIGVuYWJsZUtleVNjcm9sbFxuICAgICAgICAgICAgaW5pdGlhbFNwYWNlU2Nyb2xsOiBmYWxzZSwgIC8vIEhvbGRzIHRoZSBpbml0aWFsIHN0YXRlIG9mIGVuYWJsZVNwYWNlU2Nyb2xsXG4gICAgICAgICAgICBpbm5lckVsZW1lbnQ6IG51bGwsICAgICAgICAgLy8gVGhlIG5hdGl2ZSAuZGl2YS1vdXRlciBET00gb2JqZWN0XG4gICAgICAgICAgICBpbm5lck9iamVjdDoge30sICAgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2V0dGluZ3MuSUQgKyAnaW5uZXInKSwgZm9yIHNlbGVjdGluZyB0aGUgLmRpdmEtaW5uZXIgZWxlbWVudFxuICAgICAgICAgICAgaXNBY3RpdmVEaXZhOiB0cnVlLCAgICAgICAgIC8vIEluIHRoZSBjYXNlIHRoYXQgbXVsdGlwbGUgZGl2YSBwYW5lcyBleGlzdCBvbiB0aGUgc2FtZSBwYWdlLCB0aGlzIHNob3VsZCBoYXZlIGV2ZW50cyBmdW5uZWxlZCB0byBpdC5cbiAgICAgICAgICAgIGlzU2Nyb2xsYWJsZTogdHJ1ZSwgICAgICAgICAvLyBVc2VkIGluIGVuYWJsZS9kaXNhYmxlU2Nyb2xsYWJsZSBwdWJsaWMgbWV0aG9kc1xuICAgICAgICAgICAgaXNab29taW5nOiBmYWxzZSwgICAgICAgICAgIC8vIEZsYWcgdG8ga2VlcCB0cmFjayBvZiB3aGV0aGVyIHpvb21pbmcgaXMgc3RpbGwgaW4gcHJvZ3Jlc3MsIGZvciBoYW5kbGVab29tXG4gICAgICAgICAgICBsb2FkZWQ6IGZhbHNlLCAgICAgICAgICAgICAgLy8gQSBmbGFnIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgbG9hZGVkIGFuZCByZWFkeSB0byBnby5cbiAgICAgICAgICAgIG1hbmlmZXN0OiBudWxsLFxuICAgICAgICAgICAgbW9iaWxlV2Via2l0OiBmYWxzZSwgICAgICAgIC8vIENoZWNrcyBpZiB0aGUgdXNlciBpcyBvbiBhIHRvdWNoIGRldmljZSAoaVBhZC9pUG9kL2lQaG9uZS9BbmRyb2lkKVxuICAgICAgICAgICAgbnVtUGFnZXM6IDAsICAgICAgICAgICAgICAgIC8vIE51bWJlciBvZiBwYWdlcyBpbiB0aGUgYXJyYXlcbiAgICAgICAgICAgIG9sZFpvb21MZXZlbDogLTEsICAgICAgICAgICAvLyBIb2xkcyB0aGUgcHJldmlvdXMgem9vbSBsZXZlbCBhZnRlciB6b29taW5nIGluIG9yIG91dFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIG91dGVyRWxlbWVudDogbnVsbCwgICAgICAgICAvLyBUaGUgbmF0aXZlIC5kaXZhLW91dGVyIERPTSBvYmplY3RcbiAgICAgICAgICAgIG91dGVyT2JqZWN0OiB7fSwgICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZXR0aW5ncy5JRCArICdvdXRlcicpLCBmb3Igc2VsZWN0aW5nIHRoZSAuZGl2YS1vdXRlciBlbGVtZW50XG4gICAgICAgICAgICBwYWdlT3ZlcmxheXM6IG5ldyBQYWdlT3ZlcmxheU1hbmFnZXIoKSxcbiAgICAgICAgICAgIHBhZ2VUb29sczogW10sICAgICAgICAgICAgICAvLyBUaGUgcGx1Z2lucyB3aGljaCBhcmUgZW5hYmxlZCBhcyBwYWdlIHRvb2xzXG4gICAgICAgICAgICBwYXJlbnRPYmplY3Q6IHRoaXMucGFyZW50T2JqZWN0LCAvLyBKUXVlcnkgb2JqZWN0IHJlZmVyZW5jaW5nIHRoZSBwYXJlbnQgZWxlbWVudFxuICAgICAgICAgICAgcGVuZGluZ01hbmlmZXN0UmVxdWVzdDogbnVsbCwgLy8gUmVmZXJlbmNlIHRvIHRoZSB4aHIgcmVxdWVzdCByZXRyaWV2aW5nIHRoZSBtYW5pZmVzdC4gVXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3Qgb24gZGVzdHJveSgpXG4gICAgICAgICAgICBwbHVnaW5JbnN0YW5jZXM6IFtdLCAgICAgICAgICAgICAgICAvLyBGaWxsZWQgd2l0aCB0aGUgZW5hYmxlZCBwbHVnaW5zIGZyb20gdGhlIHJlZ2lzdHJ5XG4gICAgICAgICAgICByZW5kZXJlcjogbnVsbCxcbiAgICAgICAgICAgIHJlc2l6ZVRpbWVyOiAtMSwgICAgICAgICAgICAvLyBIb2xkcyB0aGUgSUQgb2YgdGhlIHRpbWVvdXQgdXNlZCB3aGVuIHJlc2l6aW5nIHRoZSB3aW5kb3cgKGZvciBjbGVhcmluZylcbiAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoOiAwLCAgICAgICAgICAvLyBTZXQgdG8gdGhlIGFjdHVhbCBzY3JvbGxiYXIgd2lkdGggaW4gaW5pdCgpXG4gICAgICAgICAgICBzZWxlY3RvcjogJycsICAgICAgICAgICAgICAgLy8gVXNlcyB0aGUgZ2VuZXJhdGVkIElEIHByZWZpeCB0byBlYXNpbHkgc2VsZWN0IGVsZW1lbnRzXG4gICAgICAgICAgICB0aHJvYmJlclRpbWVvdXRJRDogLTEsICAgICAgLy8gSG9sZHMgdGhlIElEIG9mIHRoZSB0aHJvYmJlciBsb2FkaW5nIHRpbWVvdXRcbiAgICAgICAgICAgIHRvb2xiYXI6IG51bGwsICAgICAgICAgICAgICAvLyBIb2xkcyBhbiBvYmplY3Qgd2l0aCBzb21lIHRvb2xiYXItcmVsYXRlZCBmdW5jdGlvbnNcbiAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiAwLCAgICAgICAgICAvLyBEaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRpdmEgZWxlbWVudCB0byB0aGUgbGVmdCBzaWRlIG9mIHRoZSBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgIHZlcnRpY2FsUGFkZGluZzogMCwgICAgICAgICAvLyBFaXRoZXIgdGhlIGZpeGVkIHBhZGRpbmcgb3IgYWRhcHRpdmUgcGFkZGluZ1xuICAgICAgICAgICAgdmlld0hhbmRsZXI6IG51bGwsXG4gICAgICAgICAgICB2aWV3cG9ydDogbnVsbCwgICAgICAgICAgICAgLy8gT2JqZWN0IGNhY2hpbmcgdGhlIHZpZXdwb3J0IGRpbWVuc2lvbnNcbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudDogbnVsbCxcbiAgICAgICAgICAgIHZpZXdwb3J0T2JqZWN0OiBudWxsLFxuICAgICAgICAgICAgem9vbUR1cmF0aW9uOiA0MDBcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzID0gY3JlYXRlU2V0dGluZ3NWaWV3KFtvcHRpb25zLCB0aGlzLnZpZXdlclN0YXRlXSk7XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgYW4gSUQgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHByZWZpeCBmb3IgYWxsIHRoZSBvdGhlciBJRHNcbiAgICAgICAgY29uc3QgaWROdW1iZXIgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuSUQgPSAnZGl2YS0nICsgaWROdW1iZXIgKyAnLSc7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuc2VsZWN0b3IgPSB0aGlzLnNldHRpbmdzLklEO1xuXG4gICAgICAgIC8vIEFsaWFzZXMgZm9yIGNvbXBhdGliaWxpdHlcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy5zZXR0aW5ncywge1xuICAgICAgICAgICAgLy8gSGVpZ2h0IG9mIHRoZSBkb2N1bWVudCB2aWV3ZXIgcGFuZVxuICAgICAgICAgICAgcGFuZWxIZWlnaHQ6IHtcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFdpZHRoIG9mIHRoZSBkb2N1bWVudCB2aWV3ZXIgcGFuZVxuICAgICAgICAgICAgcGFuZWxXaWR0aDoge1xuICAgICAgICAgICAgICAgIGdldDogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LndpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zVmFsaWRhdG9yID0gbmV3IFZhbGlkYXRpb25SdW5uZXIoe1xuICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ21hbmlmZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5tYW5pZmVzdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIHZhbGlkYXRpb25zOiBvcHRpb25zVmFsaWRhdGlvbnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5zY3JvbGxiYXJXaWR0aCA9IGdldFNjcm9sbGJhcldpZHRoKCk7XG5cbiAgICAgICAgLy8gSWYgd2luZG93Lm9yaWVudGF0aW9uIGlzIGRlZmluZWQsIHRoZW4gaXQncyBwcm9iYWJseSBtb2JpbGVXZWJraXRcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5tb2JpbGVXZWJraXQgPSB3aW5kb3cub3JpZW50YXRpb24gIT09IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNoUGFyYW1TdWZmaXggPT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIE9taXQgdGhlIHN1ZmZpeCBmcm9tIHRoZSBmaXJzdCBpbnN0YW5jZVxuICAgICAgICAgICAgaWYgKGlkTnVtYmVyID09PSAxKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGFzaFBhcmFtU3VmZml4ID0gJyc7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oYXNoUGFyYW1TdWZmaXggPSBpZE51bWJlciArICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBpbm5lciBhbmQgb3V0ZXIgcGFuZWxzXG4gICAgICAgIGNvbnN0IGlubmVyRWxlbSA9IGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ2lubmVyJywgeyBjbGFzczogJ2RpdmEtaW5uZXInIH0pKTtcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtID0gZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygndmlld3BvcnQnKSwgaW5uZXJFbGVtKTtcbiAgICAgICAgY29uc3Qgb3V0ZXJFbGVtID0gZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygnb3V0ZXInKSxcbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbSxcbiAgICAgICAgICAgIGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ3Rocm9iYmVyJyksXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmUxJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlMicgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTMnIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmU0JyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlNScgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTYnIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmU3JyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlOCcgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTknIH0pLFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICkpO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJFbGVtZW50ID0gaW5uZXJFbGVtO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0RWxlbWVudCA9IHZpZXdwb3J0RWxlbTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vdXRlckVsZW1lbnQgPSBvdXRlckVsZW07XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lck9iamVjdCA9IGlubmVyRWxlbTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdCA9IHZpZXdwb3J0RWxlbTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vdXRlck9iamVjdCA9IG91dGVyRWxlbTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzLnBhcmVudE9iamVjdC5hcHBlbmQob3V0ZXJFbGVtKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRFbGVtZW50LCB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25Ub2xlcmFuY2U6IHRoaXMuc2V0dGluZ3Mudmlld3BvcnRNYXJnaW5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ib3VuZFNjcm9sbEZ1bmN0aW9uID0gdGhpcy5zY3JvbGxGdW5jdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJvdW5kRXNjYXBlTGlzdGVuZXIgPSB0aGlzLmVzY2FwZUxpc3RlbmVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gRG8gYWxsIHRoZSBwbHVnaW4gaW5pdGlhbGlzYXRpb25cbiAgICAgICAgdGhpcy5pbml0UGx1Z2lucygpO1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50cygpO1xuXG4gICAgICAgIC8vIFNob3cgdGhlIHRocm9iYmVyIHdoaWxlIHdhaXRpbmcgZm9yIHRoZSBtYW5pZmVzdCB0byBsb2FkXG4gICAgICAgIHRoaXMuc2hvd1Rocm9iYmVyKCk7XG4gICAgfVxuXG4gICAgaXNWYWxpZE9wdGlvbiAoa2V5LCB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNWYWxpZGF0b3IuaXNWYWxpZChrZXksIHZhbHVlLCB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIGVsZW1BdHRycyAoaWRlbnQsIGJhc2UpXG4gICAge1xuICAgICAgICBjb25zdCBhdHRycyA9IHtcbiAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgaWRlbnQsXG4gICAgICAgICAgICBjbGFzczogJ2RpdmEtJyArIGlkZW50XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGJhc2UpXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihhdHRycywgYmFzZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICBnZXRQYWdlRGF0YSAocGFnZUluZGV4LCBhdHRyaWJ1dGUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdLmRbdGhpcy5zZXR0aW5ncy56b29tTGV2ZWxdW2F0dHJpYnV0ZV07XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgc29tZSBzZXR0aW5ncyBhbmQgZW1wdHkgdGhlIHZpZXdwb3J0XG4gICAgY2xlYXJWaWV3ZXIgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wID0gMDtcblxuICAgICAgICAvLyBDbGVhciBhbGwgdGhlIHRpbWVvdXRzIHRvIHByZXZlbnQgdW5kZXNpcmVkIHBhZ2VzIGZyb20gbG9hZGluZ1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lcik7XG4gICAgfVxuXG4gICAgaGFzQ2hhbmdlZE9wdGlvbiAob3B0aW9ucywga2V5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGtleSBpbiBvcHRpb25zICYmIG9wdGlvbnNba2V5XSAhPT0gdGhpcy5zZXR0aW5nc1trZXldO1xuICAgIH1cblxuICAgIC8vU2hvcnRjdXQgZm9yIGNsb3NpbmcgZnVsbHNjcmVlbiB3aXRoIHRoZSBlc2NhcGUga2V5XG4gICAgZXNjYXBlTGlzdGVuZXIgKGUpXG4gICAge1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdWJsaWNJbnN0YW5jZS5sZWF2ZUZ1bGxzY3JlZW5Nb2RlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc2V0dGluZ3MgdG8gbWF0Y2ggdGhlIHNwZWNpZmllZCBvcHRpb25zLiBMb2FkIHRoZSB2aWV3ZXIsXG4gICAgICogZmlyZSBhcHByb3ByaWF0ZSBldmVudHMgZm9yIGNoYW5nZWQgb3B0aW9ucy5cbiAgICAgKi9cbiAgICByZWxvYWRWaWV3ZXIgKG5ld09wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBxdWV1ZWRFdmVudHMgPSBbXTtcblxuICAgICAgICBuZXdPcHRpb25zID0gdGhpcy5vcHRpb25zVmFsaWRhdG9yLmdldFZhbGlkYXRlZE9wdGlvbnModGhpcy5zZXR0aW5ncywgbmV3T3B0aW9ucyk7XG5cbiAgICAgICAgLy8gU2V0IHRoZSB6b29tIGxldmVsIGlmIHZhbGlkIGFuZCBmaXJlIGEgWm9vbUxldmVsRGlkQ2hhbmdlIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ3pvb21MZXZlbCcpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA9IHRoaXMuc2V0dGluZ3Muem9vbUxldmVsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnpvb21MZXZlbCA9IG5ld09wdGlvbnMuem9vbUxldmVsO1xuICAgICAgICAgICAgcXVldWVkRXZlbnRzLnB1c2goW1wiWm9vbUxldmVsRGlkQ2hhbmdlXCIsIG5ld09wdGlvbnMuem9vbUxldmVsXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIHBhZ2VzIHBlciByb3cgaWYgdmFsaWQgYW5kIGZpcmUgYW4gZXZlbnRcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZE9wdGlvbihuZXdPcHRpb25zLCAncGFnZXNQZXJSb3cnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnBhZ2VzUGVyUm93ID0gbmV3T3B0aW9ucy5wYWdlc1BlclJvdztcbiAgICAgICAgICAgIHF1ZXVlZEV2ZW50cy5wdXNoKFtcIkdyaWRSb3dOdW1iZXJEaWRDaGFuZ2VcIiwgbmV3T3B0aW9ucy5wYWdlc1BlclJvd10pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHZlcnRpY2FsbHlPcmllbnRlZCAobm8gZXZlbnQgZmlyZWQpXG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ3ZlcnRpY2FsbHlPcmllbnRlZCcpKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnZlcnRpY2FsbHlPcmllbnRlZCA9IG5ld09wdGlvbnMudmVydGljYWxseU9yaWVudGVkO1xuXG4gICAgICAgIC8vIFNob3cvSGlkZSBub24tcGFnZWQgcGFnZXNcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZE9wdGlvbihuZXdPcHRpb25zLCAnc2hvd05vblBhZ2VkUGFnZXMnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnNob3dOb25QYWdlZFBhZ2VzID0gbmV3T3B0aW9ucy5zaG93Tm9uUGFnZWRQYWdlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBwYWdlIHBvc2l0aW9uIChubyBldmVudCBmaXJlZCBoZXJlKVxuICAgICAgICBpZiAoJ2dvRGlyZWN0bHlUbycgaW4gbmV3T3B0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmdvRGlyZWN0bHlUbyA9IG5ld09wdGlvbnMuZ29EaXJlY3RseVRvO1xuXG4gICAgICAgICAgICBpZiAoJ3ZlcnRpY2FsT2Zmc2V0JyBpbiBuZXdPcHRpb25zKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgPSBuZXdPcHRpb25zLnZlcnRpY2FsT2Zmc2V0O1xuXG4gICAgICAgICAgICBpZiAoJ2hvcml6b250YWxPZmZzZXQnIGluIG5ld09wdGlvbnMpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0ID0gbmV3T3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZSBkZWZhdWx0IGlzIHRvIHJlbWFpbiBvbiB0aGUgY3VycmVudCBwYWdlXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuZ29EaXJlY3RseVRvID0gdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5oYXNDaGFuZ2VkT3B0aW9uKG5ld09wdGlvbnMsICdpbkdyaWQnKSB8fCB0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ2luQm9va0xheW91dCcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoJ2luR3JpZCcgaW4gbmV3T3B0aW9ucylcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuaW5HcmlkID0gbmV3T3B0aW9ucy5pbkdyaWQ7XG5cbiAgICAgICAgICAgIGlmICgnaW5Cb29rTGF5b3V0JyBpbiBuZXdPcHRpb25zKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5pbkJvb2tMYXlvdXQgPSBuZXdPcHRpb25zLmluQm9va0xheW91dDtcblxuICAgICAgICAgICAgcXVldWVkRXZlbnRzLnB1c2goW1wiVmlld0RpZFN3aXRjaFwiLCB0aGlzLnNldHRpbmdzLmluR3JpZF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90ZTogcHJlcGFyZU1vZGVDaGFuZ2UoKSBkZXBlbmRzIG9uIGluR3JpZCBhbmQgdGhlIHZlcnRpY2FsL2hvcml6b250YWxPZmZzZXQgKGZvciBub3cpXG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ2luRnVsbHNjcmVlbicpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuaW5GdWxsc2NyZWVuID0gbmV3T3B0aW9ucy5pbkZ1bGxzY3JlZW47XG4gICAgICAgICAgICB0aGlzLnByZXBhcmVNb2RlQ2hhbmdlKG5ld09wdGlvbnMpO1xuICAgICAgICAgICAgcXVldWVkRXZlbnRzLnB1c2goW1wiTW9kZURpZFN3aXRjaFwiLCB0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGVhclZpZXdlcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXdIYW5kbGVyQW5kUmVuZGVyaW5nKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFRoZSB1c2FnZSBvZiBwYWRkaW5nIHZhcmlhYmxlcyBpcyBzdGlsbCByZWFsbHlcbiAgICAgICAgICAgIC8vIG1lc3N5IGFuZCBpbmNvbnNpc3RlbnRcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVyQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgIHBhZ2VMYXlvdXRzOiBnZXRQYWdlTGF5b3V0cyh0aGlzLnNldHRpbmdzKSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiB0aGlzLmdldFBhZGRpbmcoKSxcbiAgICAgICAgICAgICAgICBtYXhab29tTGV2ZWw6IHRoaXMuc2V0dGluZ3MuaW5HcmlkID8gbnVsbCA6IHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3QubWF4Wm9vbSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbGx5T3JpZW50ZWQ6IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkIHx8IHRoaXMuc2V0dGluZ3MuaW5HcmlkLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IHRoaXMuc2V0dGluZ3MuaW5HcmlkID8gbnVsbCA6IHRoaXMuc2V0dGluZ3Muem9vbUxldmVsLFxuICAgICAgICAgICAgICAgIGFuY2hvclBhZ2U6IHRoaXMuc2V0dGluZ3MuZ29EaXJlY3RseVRvLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsT2Zmc2V0LFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQ6IHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3Qgc291cmNlUHJvdmlkZXIgPSB0aGlzLmdldEN1cnJlbnRTb3VyY2VQcm92aWRlcigpO1xuXG4gICAgICAgICAgICBpZiAoZGVidWcuZW5hYmxlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkID0gT2JqZWN0LmtleXMocmVuZGVyZXJDb25maWcpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGtleSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG9vIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgIT09ICdwYWdlTGF5b3V0cycgJiYga2V5ICE9PSAncGFkZGluZyc7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZW5kZXJlckNvbmZpZ1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleSArICc6ICcgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcsICcpO1xuXG4gICAgICAgICAgICAgICAgZGVidWcoJ3JlbG9hZCB3aXRoICVzJywgc2VyaWFsaXplZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubG9hZChyZW5kZXJlckNvbmZpZywgdmlld3BvcnRQb3NpdGlvbiwgc291cmNlUHJvdmlkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcXVldWVkRXZlbnRzLmZvckVhY2goIChwYXJhbXMpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaC5hcHBseSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGVzIHN3aXRjaGluZyBpbiBhbmQgb3V0IG9mIGZ1bGxzY3JlZW4gbW9kZVxuICAgIHByZXBhcmVNb2RlQ2hhbmdlIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gVG9nZ2xlIHRoZSBjbGFzc2VzXG4gICAgICAgIGNvbnN0IGNoYW5nZUNsYXNzID0gb3B0aW9ucy5pbkZ1bGxzY3JlZW4gPyAnYWRkJyA6ICdyZW1vdmUnO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm91dGVyT2JqZWN0LmNsYXNzTGlzdFtjaGFuZ2VDbGFzc10oJ2RpdmEtZnVsbHNjcmVlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdFtjaGFuZ2VDbGFzc10oJ2RpdmEtaGlkZS1zY3JvbGxiYXInKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wYXJlbnRPYmplY3QuY2xhc3NMaXN0W2NoYW5nZUNsYXNzXSgnZGl2YS1mdWxsLXdpZHRoJyk7XG5cbiAgICAgICAgLy8gQWRqdXN0IERpdmEncyBpbnRlcm5hbCBwYW5lbCBzaXplLCBrZWVwaW5nIHRoZSBvbGQgdmFsdWVzXG4gICAgICAgIGNvbnN0IHN0b3JlZEhlaWdodCA9IHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHN0b3JlZFdpZHRoID0gdGhpcy5zZXR0aW5ncy5wYW5lbFdpZHRoO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludmFsaWRhdGUoKTtcblxuICAgICAgICAvLyBJZiB0aGlzIGlzbid0IHRoZSBvcmlnaW5hbCBsb2FkLCB0aGUgb2Zmc2V0cyBtYXR0ZXIsIGFuZCB0aGUgcG9zaXRpb24gaXNuJ3QgYmVpbmcgY2hhbmdlZC4uLlxuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUubG9hZGVkICYmICF0aGlzLnNldHRpbmdzLmluR3JpZCAmJiAhKCd2ZXJ0aWNhbE9mZnNldCcgaW4gb3B0aW9ucykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vZ2V0IHRoZSB1cGRhdGVkIHBhbmVsIHNpemVcbiAgICAgICAgICAgIGNvbnN0IG5ld0hlaWdodCA9IHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBuZXdXaWR0aCA9IHRoaXMuc2V0dGluZ3MucGFuZWxXaWR0aDtcblxuICAgICAgICAgICAgLy9hbmQgcmUtY2VudGVyIHRoZSBuZXcgcGFuZWwgb24gdGhlIHNhbWUgcG9pbnRcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgKz0gKChzdG9yZWRIZWlnaHQgLSBuZXdIZWlnaHQpIC8gMik7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXQgKz0gKChzdG9yZWRXaWR0aCAtIG5ld1dpZHRoKSAvIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90dXJuIG9uL29mZiBlc2NhcGUga2V5IGxpc3RlbmVyXG4gICAgICAgIGlmIChvcHRpb25zLmluRnVsbHNjcmVlbilcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5ib3VuZEVzY2FwZUxpc3RlbmVyKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmJvdW5kRXNjYXBlTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdmlldyBoYW5kbGVyIGFuZCB0aGUgdmlldyByZW5kZXJpbmcgZm9yIHRoZSBjdXJyZW50IHZpZXdcbiAgICB1cGRhdGVWaWV3SGFuZGxlckFuZFJlbmRlcmluZyAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgSGFuZGxlciA9IHRoaXMuc2V0dGluZ3MuaW5HcmlkID8gR3JpZEhhbmRsZXIgOiBEb2N1bWVudEhhbmRsZXI7XG5cbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIgJiYgISh0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyIGluc3RhbmNlb2YgSGFuZGxlcikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIpXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyID0gbmV3IEhhbmRsZXIodGhpcyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplUmVuZGVyZXIoKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBUaGlzIGNvdWxkIHByb2JhYmx5IGJlIGRvbmUgdXBvbiBWaWV3ZXJDb3JlIGluaXRpYWxpemF0aW9uXG4gICAgaW5pdGlhbGl6ZVJlbmRlcmVyICgpXG4gICAge1xuICAgICAgICBjb25zdCBjb21wYXRFcnJvcnMgPSBSZW5kZXJlci5nZXRDb21wYXRpYmlsaXR5RXJyb3JzKCk7XG5cbiAgICAgICAgaWYgKGNvbXBhdEVycm9ycylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IoY29tcGF0RXJyb3JzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgdmlld3BvcnQ6IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQsXG4gICAgICAgICAgICAgICAgb3V0ZXJFbGVtZW50OiB0aGlzLnZpZXdlclN0YXRlLm91dGVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICBpbm5lckVsZW1lbnQ6IHRoaXMudmlld2VyU3RhdGUuaW5uZXJFbGVtZW50LFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBob29rcyA9IHtcbiAgICAgICAgICAgICAgICBvblZpZXdXaWxsTG9hZDogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIub25WaWV3V2lsbExvYWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVmlld0RpZExvYWQ6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2VPdmVybGF5cygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uVmlld0RpZExvYWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVmlld0RpZFVwZGF0ZTogKHBhZ2VzLCB0YXJnZXRQYWdlKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQYWdlT3ZlcmxheXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlci5vblZpZXdEaWRVcGRhdGUocGFnZXMsIHRhcmdldFBhZ2UpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25WaWV3RGlkVHJhbnNpdGlvbjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFnZU92ZXJsYXlzKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblBhZ2VXaWxsTG9hZDogKHBhZ2VJbmRleCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaCgnUGFnZVdpbGxMb2FkJywgcGFnZUluZGV4KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uWm9vbUxldmVsV2lsbENoYW5nZTogKHpvb21MZXZlbCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaCgnWm9vbUxldmVsV2lsbENoYW5nZScsIHpvb21MZXZlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlciA9IG5ldyBSZW5kZXJlcihvcHRpb25zLCBob29rcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDdXJyZW50U291cmNlUHJvdmlkZXIgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZ3JpZFNvdXJjZVByb3ZpZGVyID0ge1xuICAgICAgICAgICAgICAgIGdldEFsbFpvb21MZXZlbHNGb3JQYWdlOiAocGFnZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbZ3JpZFNvdXJjZVByb3ZpZGVyLmdldEJlc3Rab29tTGV2ZWxGb3JQYWdlKHBhZ2UpXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldEJlc3Rab29tTGV2ZWxGb3JQYWdlOiAocGFnZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuZ2V0UGFnZUltYWdlVVJMKHBhZ2UuaW5kZXgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBwYWdlLmRpbWVuc2lvbnMud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21MZXZlbDogMSwgLy8gRklYTUVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbUxldmVsOiAxLCAvLyBGSVhNRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2w6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZS5kaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBncmlkU291cmNlUHJvdmlkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aWxlRGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnNldHRpbmdzLnRpbGVXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5zZXR0aW5ncy50aWxlSGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldEJlc3Rab29tTGV2ZWxGb3JQYWdlOiAocGFnZSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRQYWdlSW1hZ2VUaWxlcyhwYWdlLmluZGV4LCBNYXRoLmNlaWwodGhpcy5zZXR0aW5ncy56b29tTGV2ZWwpLCB0aWxlRGltZW5zaW9ucyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0QWxsWm9vbUxldmVsc0ZvclBhZ2U6IChwYWdlKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxldmVscyA9IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxldmVsQ291bnQgPSB0aGlzLnZpZXdlclN0YXRlLm1hbmlmZXN0Lm1heFpvb207XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBsZXZlbD0wOyBsZXZlbCA8PSBsZXZlbENvdW50OyBsZXZlbCsrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxzLnB1c2godGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRQYWdlSW1hZ2VUaWxlcyhwYWdlLmluZGV4LCBsZXZlbCwgdGlsZURpbWVuc2lvbnMpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXZlbHMucmV2ZXJzZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldmVscztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRQYWRkaW5nICgpXG4gICAge1xuICAgICAgICBsZXQgdG9wUGFkZGluZywgbGVmdFBhZGRpbmc7XG4gICAgICAgIGxldCBkb2NWUGFkZGluZywgZG9jSFBhZGRpbmc7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBkb2NWUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MuZml4ZWRQYWRkaW5nO1xuICAgICAgICAgICAgdG9wUGFkZGluZyA9IGxlZnRQYWRkaW5nID0gZG9jSFBhZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdG9wUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkID8gdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbFBhZGRpbmcgOiAwO1xuICAgICAgICAgICAgbGVmdFBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCA/IDAgOiB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxQYWRkaW5nO1xuXG4gICAgICAgICAgICBkb2NWUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkID8gMCA6IHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nO1xuICAgICAgICAgICAgZG9jSFBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCA/IHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbFBhZGRpbmcgOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvY3VtZW50OiB7XG4gICAgICAgICAgICAgICAgdG9wOiBkb2NWUGFkZGluZyxcbiAgICAgICAgICAgICAgICBib3R0b206IGRvY1ZQYWRkaW5nLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGRvY0hQYWRkaW5nLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBkb2NIUGFkZGluZ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhZ2U6IHtcbiAgICAgICAgICAgICAgICB0b3A6IHRvcFBhZGRpbmcsXG4gICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnRQYWRkaW5nLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdXBkYXRlUGFnZU92ZXJsYXlzICgpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBhZ2VPdmVybGF5cy51cGRhdGVPdmVybGF5cyhcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZ2V0UmVuZGVyZWRQYWdlcygpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ2FsbGVkIHRvIGhhbmRsZSBhbnkgem9vbSBsZXZlbFxuICAgIGhhbmRsZVpvb20gKG5ld1pvb21MZXZlbCwgZm9jYWxQb2ludClcbiAgICB7XG4gICAgICAgIC8vIElmIHRoZSB6b29tIGxldmVsIHByb3ZpZGVkIGlzIGludmFsaWQsIHJldHVybiBmYWxzZVxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZE9wdGlvbignem9vbUxldmVsJywgbmV3Wm9vbUxldmVsKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAvLyBXaGlsZSB6b29taW5nLCBkb24ndCB1cGRhdGUgc2Nyb2xsIG9mZnNldHMgYmFzZWQgb24gdGhlIHNjYWxlZCB2ZXJzaW9uIG9mIGRpdmEtaW5uZXJcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmJvdW5kU2Nyb2xsRnVuY3Rpb24pO1xuXG4gICAgICAgIC8vIElmIG5vIGZvY2FsIHBvaW50IHdhcyBnaXZlbiwgem9vbSBvbiB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICBpZiAoIWZvY2FsUG9pbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZWdpb24gPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlUmVnaW9uKHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4KTtcblxuICAgICAgICAgICAgZm9jYWxQb2ludCA9IHtcbiAgICAgICAgICAgICAgICBhbmNob3JQYWdlOiB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogKHZpZXdwb3J0LndpZHRoIC8gMikgLSAoY3VycmVudFJlZ2lvbi5sZWZ0IC0gdmlld3BvcnQubGVmdCksXG4gICAgICAgICAgICAgICAgICAgIHRvcDogKHZpZXdwb3J0LmhlaWdodCAvIDIpIC0gKGN1cnJlbnRSZWdpb24udG9wIC0gdmlld3BvcnQudG9wKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWdlUmVnaW9uID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQuZ2V0UGFnZVJlZ2lvbihmb2NhbFBvaW50LmFuY2hvclBhZ2UpO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBkaXN0YW5jZSBmcm9tIGN1cnNvciBjb29yZGluYXRlcyB0byBjZW50ZXIgb2Ygdmlld3BvcnRcbiAgICAgICAgY29uc3QgZm9jYWxYVG9DZW50ZXIgPSAocGFnZVJlZ2lvbi5sZWZ0ICsgZm9jYWxQb2ludC5vZmZzZXQubGVmdCkgLVxuICAgICAgICAgICAgKHRoaXMuc2V0dGluZ3Mudmlld3BvcnQubGVmdCArICh0aGlzLnNldHRpbmdzLnZpZXdwb3J0LndpZHRoIC8gMikpO1xuICAgICAgICBjb25zdCBmb2NhbFlUb0NlbnRlciA9IChwYWdlUmVnaW9uLnRvcCArIGZvY2FsUG9pbnQub2Zmc2V0LnRvcCkgLVxuICAgICAgICAgICAgKHRoaXMuc2V0dGluZ3Mudmlld3BvcnQudG9wICsgKHRoaXMuc2V0dGluZ3Mudmlld3BvcnQuaGVpZ2h0IC8gMikpO1xuXG4gICAgICAgIGNvbnN0IGdldFBvc2l0aW9uRm9yWm9vbUxldmVsID0gICh6b29tTGV2ZWwsIGluaXRab29tKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB6b29tUmF0aW8gPSBNYXRoLnBvdygyLCB6b29tTGV2ZWwgLSBpbml0Wm9vbSk7XG5cbiAgICAgICAgICAgIC8vVE9ETyhqZXJvbWVwbCk6IENhbGN1bGF0ZSBwb3NpdGlvbiBmcm9tIHBhZ2UgdG9wIGxlZnQgdG8gdmlld3BvcnQgdG9wIGxlZnRcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBob3Jpem9udGFsL3ZlcnRpY2FsT2Zmc2V0OiBkaXN0YW5jZSBmcm9tIHZpZXdwb3J0IGNlbnRlciB0byBwYWdlIHVwcGVyIGxlZnQgY29ybmVyXG4gICAgICAgICAgICBjb25zdCBob3Jpem9udGFsT2Zmc2V0ID0gKGZvY2FsUG9pbnQub2Zmc2V0LmxlZnQgKiB6b29tUmF0aW8pIC0gZm9jYWxYVG9DZW50ZXI7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbE9mZnNldCA9IChmb2NhbFBvaW50Lm9mZnNldC50b3AgKiB6b29tUmF0aW8pIC0gZm9jYWxZVG9DZW50ZXI7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgem9vbUxldmVsOiB6b29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgYW5jaG9yUGFnZTogZm9jYWxQb2ludC5hbmNob3JQYWdlLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiB2ZXJ0aWNhbE9mZnNldCxcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiBob3Jpem9udGFsT2Zmc2V0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy56b29tTGV2ZWwgPSBuZXdab29tTGV2ZWw7XG4gICAgICAgIGxldCBpbml0aWFsWm9vbUxldmVsID0gdGhpcy52aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWw7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub2xkWm9vbUxldmVsID0gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWw7XG4gICAgICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gZ2V0UG9zaXRpb25Gb3Jab29tTGV2ZWwobmV3Wm9vbUxldmVsLCBpbml0aWFsWm9vbUxldmVsKTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmdvRGlyZWN0bHlUbyA9IGVuZFBvc2l0aW9uLmFuY2hvclBhZ2U7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgPSBlbmRQb3NpdGlvbi52ZXJ0aWNhbE9mZnNldDtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0ID0gZW5kUG9zaXRpb24uaG9yaXpvbnRhbE9mZnNldDtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLnRyYW5zaXRpb25WaWV3cG9ydFBvc2l0aW9uKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLnNldHRpbmdzLnpvb21EdXJhdGlvbixcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogaW5pdGlhbFpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgdG86IG5ld1pvb21MZXZlbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRQb3NpdGlvbjogKHBhcmFtZXRlcnMpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFBvc2l0aW9uRm9yWm9vbUxldmVsKHBhcmFtZXRlcnMuem9vbUxldmVsLCBpbml0aWFsWm9vbUxldmVsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVuZDogKGluZm8pID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmJvdW5kU2Nyb2xsRnVuY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZm8uaW50ZXJydXB0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub2xkWm9vbUxldmVsID0gbmV3Wm9vbUxldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEZWFjdGl2YXRlIHpvb20gYnV0dG9ucyB3aGlsZSB6b29taW5nXG4gICAgICAgIGxldCB6b29tSW5CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yICsgJ3pvb20taW4tYnV0dG9uJyk7XG4gICAgICAgIGxldCB6b29tT3V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5zZWxlY3RvciArICd6b29tLW91dC1idXR0b24nKTtcbiAgICAgICAgem9vbUluQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgem9vbU91dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgem9vbUluQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB6b29tT3V0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muem9vbUR1cmF0aW9uKTtcblxuICAgICAgICAvLyBTZW5kIG9mZiB0aGUgem9vbSBsZXZlbCBkaWQgY2hhbmdlIGV2ZW50LlxuICAgICAgICB0aGlzLnB1Ymxpc2goXCJab29tTGV2ZWxEaWRDaGFuZ2VcIiwgbmV3Wm9vbUxldmVsKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICBHZXRzIHRoZSBZLW9mZnNldCBmb3IgYSBzcGVjaWZpYyBwb2ludCBvbiBhIHNwZWNpZmljIHBhZ2VcbiAgICAgQWNjZXB0YWJsZSB2YWx1ZXMgZm9yIFwiYW5jaG9yXCI6XG4gICAgIFwidG9wXCIgKGRlZmF1bHQpIC0gd2lsbCBhbmNob3IgdG9wIG9mIHRoZSBwYWdlIHRvIHRoZSB0b3Agb2YgdGhlIGRpdmEtb3V0ZXIgZWxlbWVudFxuICAgICBcImJvdHRvbVwiIC0gdG9wLCBzL3RvcC9ib3R0b21cbiAgICAgXCJjZW50ZXJcIiAtIHdpbGwgY2VudGVyIHRoZSBwYWdlIG9uIHRoZSBkaXZhIGVsZW1lbnRcbiAgICAgUmV0dXJuZWQgdmFsdWUgd2lsbCBiZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBkaXZhLW91dGVyIGVsZW1lbnQgdG8gdGhlIHRvcCBvZiB0aGUgY3VycmVudCBwYWdlIGZvciB0aGUgc3BlY2lmaWVkIGFuY2hvclxuICAgICAqL1xuICAgIGdldFlPZmZzZXQgKHBhZ2VJbmRleCwgYW5jaG9yKVxuICAgIHtcbiAgICAgICAgbGV0IHBpZHggPSAodHlwZW9mKHBhZ2VJbmRleCkgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCA6IHBhZ2VJbmRleCk7XG5cbiAgICAgICAgaWYgKGFuY2hvciA9PT0gXCJjZW50ZXJcIiB8fCBhbmNob3IgPT09IFwiY2VudHJlXCIpIC8vaG93IHlvdSBjYW4gdGVsbCBhbiBBbWVyaWNhbiBjb2RlZCB0aGlzXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdldFBhZ2VEYXRhKHBpZHgsIFwiaFwiKSAvIDIsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbmNob3IgPT09IFwiYm90dG9tXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdldFBhZ2VEYXRhKHBpZHgsIFwiaFwiKSAtIHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQgLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodCAvIDIsIDEwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vU2FtZSBhcyBnZXRZT2Zmc2V0IHdpdGggXCJsZWZ0XCIgYW5kIFwicmlnaHRcIiBhcyBhY2NlcHRhYmxlIHZhbHVlcyBpbnN0ZWFkIG9mIFwidG9wXCIgYW5kIFwiYm90dG9tXCJcbiAgICBnZXRYT2Zmc2V0IChwYWdlSW5kZXgsIGFuY2hvcilcbiAgICB7XG4gICAgICAgIGxldCBwaWR4ID0gKHR5cGVvZihwYWdlSW5kZXgpID09PSBcInVuZGVmaW5lZFwiID8gdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXggOiBwYWdlSW5kZXgpO1xuXG4gICAgICAgIGlmIChhbmNob3IgPT09IFwibGVmdFwiKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5wYW5lbFdpZHRoIC8gMiwgMTApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFuY2hvciA9PT0gXCJyaWdodFwiKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRQYWdlRGF0YShwaWR4LCBcIndcIikgLSB0aGlzLnNldHRpbmdzLnBhbmVsV2lkdGggLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRQYWdlRGF0YShwaWR4LCBcIndcIikgLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGVzIHBhbmVsSGVpZ2h0L3BhbmVsV2lkdGggb24gcmVzaXplXG4gICAgdXBkYXRlUGFuZWxTaXplICgpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludmFsaWRhdGUoKTtcblxuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBUaGlzIHNob3VsZCByZWFsbHkgb25seSBiZSBjYWxsZWQgYWZ0ZXIgaW5pdGlhbCBsb2FkXG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU9mZnNldHMoKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZ290byh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCwgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHVwZGF0ZU9mZnNldHMgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2VPZmZzZXQgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydCk7XG5cbiAgICAgICAgaWYgKHBhZ2VPZmZzZXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldCA9IHBhZ2VPZmZzZXQueDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgPSBwYWdlT2Zmc2V0Lnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBCaW5kIG1vdXNlIGV2ZW50cyAoZHJhZyB0byBzY3JvbGwsIGRvdWJsZS1jbGljaylcbiAgICBiaW5kTW91c2VFdmVudHMgKClcbiAgICB7XG4gICAgICAgIC8vIFNldCBkcmFnIHNjcm9sbCBvbiB0aGUgdmlld3BvcnQgb2JqZWN0XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuY2xhc3NMaXN0LmFkZCgnZHJhZ3Njcm9sbCcpO1xuXG4gICAgICAgIGdlc3R1cmVFdmVudHMub25Eb3VibGVDbGljayh0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LCAoZXZlbnQsIGNvb3JkcykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZGVidWcoJ0RvdWJsZSBjbGljayBhdCAlcywgJXMnLCBjb29yZHMubGVmdCwgY29vcmRzLnRvcCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uRG91YmxlQ2xpY2soZXZlbnQsIGNvb3Jkcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVzaXplICgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVBhbmVsU2l6ZSgpO1xuICAgICAgICAvLyBDYW5jZWwgYW55IHByZXZpb3VzbHktc2V0IHJlc2l6ZSB0aW1lb3V0c1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lcik7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lciA9IHNldFRpbWVvdXQoICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VPZmZzZXQgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydCk7XG5cbiAgICAgICAgICAgIGlmIChwYWdlT2Zmc2V0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgZ29EaXJlY3RseVRvOiB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IHBhZ2VPZmZzZXQueSxcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogcGFnZU9mZnNldC54XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgICAgICBnb0RpcmVjdGx5VG86IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDIwMCk7XG4gICAgfVxuXG4gICAgLy8gQmluZCB0b3VjaCBhbmQgb3JpZW50YXRpb24gY2hhbmdlIGV2ZW50c1xuICAgIGJpbmRUb3VjaEV2ZW50cyAoKVxuICAgIHtcbiAgICAgICAgLy8gQmxvY2sgdGhlIHVzZXIgZnJvbSBtb3ZpbmcgdGhlIHdpbmRvdyBvbmx5IGlmIGl0J3Mgbm90IGludGVncmF0ZWRcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYmxvY2tNb2JpbGVNb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChldmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRvdWNoIGV2ZW50cyBmb3Igc3dpcGluZyBpbiB0aGUgdmlld3BvcnQgdG8gc2Nyb2xsIHBhZ2VzXG4gICAgICAgIC8vIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxGdW5jdGlvbi5iaW5kKHRoaXMpKTtcblxuICAgICAgICBnZXN0dXJlRXZlbnRzLm9uUGluY2godGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdCwgZnVuY3Rpb24gKGV2ZW50LCBjb29yZHMsIHN0YXJ0LCBlbmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlYnVnKCdQaW5jaCAlcyBhdCAlcywgJXMnLCBlbmQgLSBzdGFydCwgY29vcmRzLmxlZnQsIGNvb3Jkcy50b3ApO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlci5vblBpbmNoKGV2ZW50LCBjb29yZHMsIHN0YXJ0LCBlbmQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBnZXN0dXJlRXZlbnRzLm9uRG91YmxlVGFwKHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QsIGZ1bmN0aW9uIChldmVudCwgY29vcmRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWJ1ZygnRG91YmxlIHRhcCBhdCAlcywgJXMnLCBjb29yZHMubGVmdCwgY29vcmRzLnRvcCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uRG91YmxlQ2xpY2soZXZlbnQsIGNvb3Jkcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSB0aGUgc2Nyb2xsXG4gICAgc2Nyb2xsRnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVG9wU2Nyb2xsID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3A7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzTGVmdFNjcm9sbCA9IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdDtcblxuICAgICAgICBsZXQgZGlyZWN0aW9uO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IG5ld1Njcm9sbFRvcCA9IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wO1xuICAgICAgICBjb25zdCBuZXdTY3JvbGxMZWZ0ID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5sZWZ0O1xuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCB8fCB0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IG5ld1Njcm9sbFRvcCAtIHByZXZpb3VzVG9wU2Nyb2xsO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBuZXdTY3JvbGxMZWZ0IC0gcHJldmlvdXNMZWZ0U2Nyb2xsO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuYWRqdXN0KCk7XG5cbiAgICAgICAgY29uc3QgcHJpbWFyeVNjcm9sbCA9ICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCB8fCB0aGlzLnNldHRpbmdzLmluR3JpZCkgPyBuZXdTY3JvbGxUb3AgOiBuZXdTY3JvbGxMZWZ0O1xuXG4gICAgICAgIHRoaXMucHVibGlzaChcIlZpZXdlckRpZFNjcm9sbFwiLCBwcmltYXJ5U2Nyb2xsKTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoKFwiVmlld2VyRGlkU2Nyb2xsRG93blwiLCBwcmltYXJ5U2Nyb2xsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2goXCJWaWV3ZXJEaWRTY3JvbGxVcFwiLCBwcmltYXJ5U2Nyb2xsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlT2Zmc2V0cygpO1xuICAgIH1cblxuICAgIC8vIEJpbmRzIG1vc3Qgb2YgdGhlIGV2ZW50IGhhbmRsZXJzIChzb21lIG1vcmUgaW4gY3JlYXRlVG9vbGJhcilcbiAgICBoYW5kbGVFdmVudHMgKClcbiAgICB7XG4gICAgICAgIC8vIENoYW5nZSB0aGUgY3Vyc29yIGZvciBkcmFnZ2luZ1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyT2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJPYmplY3QuY2xhc3NMaXN0LmFkZCgnZGl2YS1ncmFiYmluZycpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyT2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyT2JqZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2RpdmEtZ3JhYmJpbmcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5iaW5kTW91c2VFdmVudHMoKTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmJvdW5kU2Nyb2xsRnVuY3Rpb24pO1xuXG4gICAgICAgIGNvbnN0IHVwQXJyb3dLZXkgPSAzOCwgZG93bkFycm93S2V5ID0gNDAsIGxlZnRBcnJvd0tleSA9IDM3LCByaWdodEFycm93S2V5ID0gMzksIHNwYWNlS2V5ID0gMzIsIHBhZ2VVcEtleSA9IDMzLCBwYWdlRG93bktleSA9IDM0LCBob21lS2V5ID0gMzYsIGVuZEtleSA9IDM1O1xuXG4gICAgICAgIC8vIENhdGNoIHRoZSBrZXkgcHJlc3NlcyBpbiBkb2N1bWVudFxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duLmRpdmEnLCAoZXZlbnQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS5pc0FjdGl2ZURpdmEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIC8vIFNwYWNlIG9yIHBhZ2UgZG93biAtIGdvIHRvIHRoZSBuZXh0IHBhZ2VcbiAgICAgICAgICAgIGlmICgodGhpcy5zZXR0aW5ncy5lbmFibGVTcGFjZVNjcm9sbCAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgZXZlbnQua2V5Q29kZSA9PT0gc3BhY2VLZXkpIHx8ICh0aGlzLnNldHRpbmdzLmVuYWJsZUtleVNjcm9sbCAmJiBldmVudC5rZXlDb2RlID09PSBwYWdlRG93bktleSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3AgKz0gdGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5zZXR0aW5ncy5lbmFibGVTcGFjZVNjcm9sbCAmJiBldmVudC5rZXlDb2RlID09PSBzcGFjZUtleSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVLZXlTY3JvbGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3Qgc3RlYWwga2V5Ym9hcmQgc2hvcnRjdXRzIChtZXRhS2V5ID0gY29tbWFuZCBbT1MgWF0sIHN1cGVyIFtXaW4vTGludXhdKVxuICAgICAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwYWdlVXBLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYWdlIHVwIC0gZ28gdG8gdGhlIHByZXZpb3VzIHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wIC09IHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSB1cEFycm93S2V5OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXAgYXJyb3cgLSBzY3JvbGwgdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wIC09IHRoaXMuc2V0dGluZ3MuYXJyb3dTY3JvbGxBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBkb3duQXJyb3dLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb3duIGFycm93IC0gc2Nyb2xsIGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wICs9IHRoaXMuc2V0dGluZ3MuYXJyb3dTY3JvbGxBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBsZWZ0QXJyb3dLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMZWZ0IGFycm93IC0gc2Nyb2xsIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdCAtPSB0aGlzLnNldHRpbmdzLmFycm93U2Nyb2xsQW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcmlnaHRBcnJvd0tleTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJpZ2h0IGFycm93IC0gc2Nyb2xsIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmxlZnQgKz0gdGhpcy5zZXR0aW5ncy5hcnJvd1Njcm9sbEFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIGhvbWVLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIb21lIGtleSAtIGdvIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbmRLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbmQga2V5IC0gZ28gdG8gdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50IG9uIHRoZSB2aWV3cG9ydCBjb29yZGluYXRlIHZhbHVlIGJlaW5nIG5vcm1hbGl6ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcCA9IEluZmluaXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdCA9IEluZmluaXR5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1ZpZXdlckRpZFRlcm1pbmF0ZScsIGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bi5kaXZhJyk7XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3MuSUQpO1xuXG4gICAgICAgIC8vIHRoaXMuYmluZFRvdWNoRXZlbnRzKCk7XG5cbiAgICAgICAgLy8gSGFuZGxlIHdpbmRvdyByZXNpemluZyBldmVudHNcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuXG4gICAgICAgIGRpdmEuRXZlbnRzLnN1YnNjcmliZSgnVmlld2VyRGlkVGVybWluYXRlJywgZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSwgZmFsc2UpO1xuICAgICAgICB9LCB0aGlzLnNldHRpbmdzLklEKTtcblxuICAgICAgICAvLyBIYW5kbGUgb3JpZW50YXRpb24gY2hhbmdlIHNlcGFyYXRlbHlcbiAgICAgICAgaWYgKCdvbm9yaWVudGF0aW9uY2hhbmdlJyBpbiB3aW5kb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMub25SZXNpemUsIGZhbHNlKTtcblxuICAgICAgICAgICAgZGl2YS5FdmVudHMuc3Vic2NyaWJlKCdWaWV3ZXJEaWRUZXJtaW5hdGUnLCBmdW5jdGlvbigpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5vblJlc2l6ZSwgZmFsc2UpO1xuICAgICAgICAgICAgfSwgdGhpcy5zZXR0aW5ncy5JRCk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1BhbmVsU2l6ZURpZENoYW5nZScsIHRoaXMudXBkYXRlUGFuZWxTaXplLCB0aGlzLnNldHRpbmdzLklEKTtcblxuICAgICAgICAvLyBDbGVhciBwYWdlIGFuZCByZXNpemUgdGltZW91dHMgd2hlbiB0aGUgdmlld2VyIGlzIGRlc3Ryb3llZFxuICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1ZpZXdlckRpZFRlcm1pbmF0ZScsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lcik7XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3MuSUQpO1xuICAgIH1cblxuICAgIGluaXRQbHVnaW5zICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoJ3BsdWdpbnMnKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucGx1Z2luSW5zdGFuY2VzID0gdGhpcy5zZXR0aW5ncy5wbHVnaW5zLm1hcCggKHBsdWdpbikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcCA9IG5ldyBwbHVnaW4odGhpcyk7XG5cbiAgICAgICAgICAgIGlmIChwLmlzUGFnZVRvb2wpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5wYWdlVG9vbHMucHVzaChwKTtcblxuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNob3dUaHJvYmJlciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5oaWRlVGhyb2JiZXIoKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnRocm9iYmVyVGltZW91dElEID0gc2V0VGltZW91dCggKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRoYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAndGhyb2JiZXInKTtcbiAgICAgICAgICAgIGlmICh0aGIpIHRoYi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfSwgdGhpcy5zZXR0aW5ncy50aHJvYmJlclRpbWVvdXQpO1xuICAgIH1cblxuICAgIGhpZGVUaHJvYmJlciAoKVxuICAgIHtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIHRpbWVvdXQsIGlmIGl0IGhhc24ndCBleGVjdXRlZCB5ZXRcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudmlld2VyU3RhdGUudGhyb2JiZXJUaW1lb3V0SUQpO1xuXG4gICAgICAgIGxldCB0aGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yICsgJ3Rocm9iYmVyJyk7XG4gICAgICAgIC8vIEhpZGUgdGhlIHRocm9iYmVyIGlmIGl0IGhhcyBhbHJlYWR5IGV4ZWN1dGVkXG4gICAgICAgIGlmICh0aGIpIHRoYi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIHNob3dFcnJvciAobWVzc2FnZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ2Vycm9yJyksIFtcbiAgICAgICAgICAgIGVsdCgnYnV0dG9uJywgdGhpcy5lbGVtQXR0cnMoJ2Vycm9yLWNsb3NlJywgeydhcmlhLWxhYmVsJzogJ0Nsb3NlIGRpYWxvZyd9KSksXG4gICAgICAgICAgICBlbHQoJ3AnLFxuICAgICAgICAgICAgICAgIGVsdCgnc3Ryb25nJywgJ0Vycm9yJylcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBlbHQoJ2RpdicsIG1lc3NhZ2UpXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub3V0ZXJPYmplY3QuYXBwZW5kQ2hpbGQoZXJyb3JFbGVtZW50KTtcblxuICAgICAgICAvLyBCaW5kIGRpYWxvZyBjbG9zZSBidXR0b25cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5zZWxlY3RvciArICdlcnJvci1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZXJyb3JFbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0TWFuaWZlc3QgKG1hbmlmZXN0LCBsb2FkT3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3QgPSBtYW5pZmVzdDtcblxuICAgICAgICB0aGlzLmhpZGVUaHJvYmJlcigpO1xuXG4gICAgICAgIC8vIENvbnZlbmllbmNlIHZhbHVlXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUubnVtUGFnZXMgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzLmxlbmd0aDtcblxuICAgICAgICB0aGlzLm9wdGlvbnNWYWxpZGF0b3IudmFsaWRhdGUodGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zKTtcblxuICAgICAgICB0aGlzLnB1Ymxpc2goJ051bWJlck9mUGFnZXNEaWRDaGFuZ2UnLCB0aGlzLnNldHRpbmdzLm51bVBhZ2VzKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGludGVyLXBhZ2UgcGFkZGluZyBiYXNlZCBvbiB0aGUgZGltZW5zaW9ucyBvZiB0aGUgYXZlcmFnZSB6b29tIGxldmVsXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmFkYXB0aXZlUGFkZGluZyA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHogPSBNYXRoLmZsb29yKCh0aGlzLnNldHRpbmdzLm1pblpvb21MZXZlbCArIHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsKSAvIDIpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsUGFkZGluZyA9IHBhcnNlSW50KHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuZ2V0QXZlcmFnZVdpZHRoKHopICogdGhpcy5zZXR0aW5ncy5hZGFwdGl2ZVBhZGRpbmcsIDEwKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nID0gcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRBdmVyYWdlSGVpZ2h0KHopICogdGhpcy5zZXR0aW5ncy5hZGFwdGl2ZVBhZGRpbmcsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEl0J3MgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDA7IHVzZSBmaXhlZFBhZGRpbmcgaW5zdGVhZFxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MuZml4ZWRQYWRkaW5nO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbFBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLmZpeGVkUGFkZGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdmVydGljYWwgcGFkZGluZyBpcyBhdCBsZWFzdCA0MCwgaWYgcGx1Z2luIGljb25zIGFyZSBlbmFibGVkXG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnBhZ2VUb29scy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nID0gTWF0aC5tYXgoNDAsIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGRldGVjdCBhIHZpZXdpbmdIaW50IG9mICdwYWdlZCcgaW4gdGhlIG1hbmlmZXN0IG9yIHNlcXVlbmNlLCBlbmFibGUgYm9vayB2aWV3IGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5pbkJvb2tMYXlvdXQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGx1Z2luIHNldHVwIGhvb2tzIHNob3VsZCBiZSBib3VuZCB0byB0aGUgT2JqZWN0RGlkTG9hZCBldmVudFxuICAgICAgICB0aGlzLnB1Ymxpc2goJ09iamVjdERpZExvYWQnLCB0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBBZGp1c3QgdGhlIGRvY3VtZW50IHBhbmVsIGRpbWVuc2lvbnNcbiAgICAgICAgdGhpcy51cGRhdGVQYW5lbFNpemUoKTtcblxuICAgICAgICBsZXQgbmVlZHNYQ29vcmQsIG5lZWRzWUNvb3JkO1xuXG4gICAgICAgIGxldCBhbmNob3JlZFZlcnRpY2FsbHkgPSBmYWxzZTtcbiAgICAgICAgbGV0IGFuY2hvcmVkSG9yaXpvbnRhbGx5ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTkI6IGA9PWAgaGVyZSB3aWxsIGNoZWNrIGJvdGggbnVsbCBhbmQgdW5kZWZpbmVkXG4gICAgICAgIGlmIChsb2FkT3B0aW9ucy5nb0RpcmVjdGx5VG8gPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgbG9hZE9wdGlvbnMuZ29EaXJlY3RseVRvID0gdGhpcy5zZXR0aW5ncy5nb0RpcmVjdGx5VG87XG4gICAgICAgICAgICBuZWVkc1hDb29yZCA9IG5lZWRzWUNvb3JkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5lZWRzWENvb3JkID0gbG9hZE9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCA9PSBudWxsIHx8IGlzTmFOKGxvYWRPcHRpb25zLmhvcml6b250YWxPZmZzZXQpO1xuICAgICAgICAgICAgbmVlZHNZQ29vcmQgPSBsb2FkT3B0aW9ucy52ZXJ0aWNhbE9mZnNldCA9PSBudWxsIHx8IGlzTmFOKGxvYWRPcHRpb25zLnZlcnRpY2FsT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHZhbHVlcyBmb3IgdGhlIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIG9mZnNldHNcbiAgICAgICAgaWYgKG5lZWRzWENvb3JkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBGSVhNRTogV2hhdCBpZiBpbkJvb2tMYXlvdXQvdmVydGljYWxseU9yaWVudGVkIGlzIGNoYW5nZWQgYnkgbG9hZE9wdGlvbnM/XG4gICAgICAgICAgICBpZiAobG9hZE9wdGlvbnMuZ29EaXJlY3RseVRvID09PSAwICYmIHRoaXMuc2V0dGluZ3MuaW5Cb29rTGF5b3V0ICYmIHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIGluIGJvb2sgbGF5b3V0LCBjZW50ZXIgdGhlIGZpcnN0IG9wZW5pbmcgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgIGxvYWRPcHRpb25zLmhvcml6b250YWxPZmZzZXQgPSB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxQYWRkaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFuY2hvcmVkSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb2FkT3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0ID0gdGhpcy5nZXRYT2Zmc2V0KGxvYWRPcHRpb25zLmdvRGlyZWN0bHlUbywgXCJjZW50ZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmVlZHNZQ29vcmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFuY2hvcmVkVmVydGljYWxseSA9IHRydWU7XG4gICAgICAgICAgICBsb2FkT3B0aW9ucy52ZXJ0aWNhbE9mZnNldCA9IHRoaXMuZ2V0WU9mZnNldChsb2FkT3B0aW9ucy5nb0RpcmVjdGx5VG8sIFwidG9wXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWxvYWRWaWV3ZXIobG9hZE9wdGlvbnMpO1xuXG4gICAgICAgIC8vcHJlcCBkaW1lbnNpb25zIG9uZSBsYXN0IHRpbWUgbm93IHRoYXQgcGFnZXMgaGF2ZSBsb2FkZWRcbiAgICAgICAgdGhpcy51cGRhdGVQYW5lbFNpemUoKTtcblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVBdXRvVGl0bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAndGl0bGUnKTtcblxuICAgICAgICAgICAgaWYgKHRpdGxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlLmlubmVySFRNTCA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuaXRlbVRpdGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0Lmluc2VydEJlZm9yZShcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygndGl0bGUnKSwgW3RoaXMuc2V0dGluZ3MubWFuaWZlc3QuaXRlbVRpdGxlXSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0LmZpcnN0Q2hpbGRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRklYTUU6IFRoaXMgaXMgYSBoYWNrIHRvIGVuc3VyZSB0aGF0IHRoZSBvdXRlckVsZW1lbnQgc2Nyb2xsYmFycyBhcmUgdGFrZW4gaW50byBhY2NvdW50XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJFbGVtZW50LnN0eWxlLm1pbldpZHRoID0gdGhpcy5zZXR0aW5ncy5wYW5lbFdpZHRoICsgJ3B4JztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lckVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gdGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodCArICdweCc7XG5cbiAgICAgICAgLy8gRklYTUU6IElmIHRoZSBwYWdlIHdhcyBzdXBwb3NlZCB0byBiZSBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIHJlY2FsY3VsYXRlIGl0IHRvIHRha2UgaW50byBhY2NvdW50IHRoZSBzY3JvbGxiYXJzXG4gICAgICAgIGlmIChhbmNob3JlZFZlcnRpY2FsbHkgfHwgYW5jaG9yZWRIb3Jpem9udGFsbHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChhbmNob3JlZFZlcnRpY2FsbHkpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCA9IHRoaXMuZ2V0WU9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgXCJ0b3BcIik7XG5cbiAgICAgICAgICAgIGlmIChhbmNob3JlZEhvcml6b250YWxseSlcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXQgPSB0aGlzLmdldFhPZmZzZXQodGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsIFwiY2VudGVyXCIpO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmdvdG8odGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQsIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaWduYWwgdGhhdCBldmVyeXRoaW5nIHNob3VsZCBiZSBzZXQgdXAgYW5kIHJlYWR5IHRvIGdvLlxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmxvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoKFwiVmlld2VyRGlkTG9hZFwiLCB0aGlzLnNldHRpbmdzKTtcbiAgICB9XG5cbiAgICBwdWJsaXNoIChldmVudClcbiAgICB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBkaXZhLkV2ZW50cy5wdWJsaXNoKGV2ZW50LCBhcmdzLCB0aGlzLnB1YmxpY0luc3RhbmNlKTtcbiAgICB9XG5cbiAgICBnZXRTZXR0aW5ncyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3M7XG4gICAgfVxuXG4gICAgLy8gVGVtcG9yYXJ5IGFjY2Vzc29yIGZvciB0aGUgc3RhdGUgb2YgdGhlIHZpZXdlciBjb3JlXG4gICAgLy8gVE9ETzogUmVwbGFjZSB0aGlzIHdpdGggYSBtb3JlIHJlc3RyaWN0ZWQgdmlldyBvZiB3aGF0ZXZlciBuZWVkc1xuICAgIC8vIGJlIGV4cG9zZWQgdGhyb3VnaCBzZXR0aW5ncyBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICAgIGdldEludGVybmFsU3RhdGUgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlO1xuICAgIH1cblxuICAgIGdldFB1YmxpY0luc3RhbmNlICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wdWJsaWNJbnN0YW5jZTtcbiAgICB9XG5cbiAgICBnZXRQYWdlVG9vbHMgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnBhZ2VUb29scztcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50TGF5b3V0ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlciA/IHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubGF5b3V0IDogbnVsbDtcbiAgICB9XG5cbiAgICAvKiogR2V0IGEgY29weSBvZiB0aGUgY3VycmVudCB2aWV3cG9ydCBkaW1lbnNpb25zICovXG4gICAgZ2V0Vmlld3BvcnQgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOiB2aWV3cG9ydC50b3AsXG4gICAgICAgICAgICBsZWZ0OiB2aWV3cG9ydC5sZWZ0LFxuICAgICAgICAgICAgYm90dG9tOiB2aWV3cG9ydC5ib3R0b20sXG4gICAgICAgICAgICByaWdodDogdmlld3BvcnQucmlnaHQsXG5cbiAgICAgICAgICAgIHdpZHRoOiB2aWV3cG9ydC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdmlld3BvcnQuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYWRkUGFnZU92ZXJsYXkgKG92ZXJsYXkpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBhZ2VPdmVybGF5cy5hZGRPdmVybGF5KG92ZXJsYXkpO1xuICAgIH1cblxuICAgIHJlbW92ZVBhZ2VPdmVybGF5IChvdmVybGF5KVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5wYWdlT3ZlcmxheXMucmVtb3ZlT3ZlcmxheShvdmVybGF5KTtcbiAgICB9XG5cbiAgICBnZXRQYWdlUmVnaW9uIChwYWdlSW5kZXgsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dDtcbiAgICAgICAgY29uc3QgcmVnaW9uID0gbGF5b3V0LmdldFBhZ2VSZWdpb24ocGFnZUluZGV4LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmluY29ycG9yYXRlVmlld3BvcnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZGFyeURpbSA9IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydFtzZWNvbmRhcnlEaW1dID4gbGF5b3V0LmRpbWVuc2lvbnNbc2Vjb25kYXJ5RGltXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NPZmZzZXQgPSAodGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydFtzZWNvbmRhcnlEaW1dIC0gbGF5b3V0LmRpbWVuc2lvbnNbc2Vjb25kYXJ5RGltXSkgLyAyO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uLmJvdHRvbSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogcmVnaW9uLmxlZnQgKyBkb2NPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogcmVnaW9uLnJpZ2h0ICsgZG9jT2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHJlZ2lvbi50b3AgKyBkb2NPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IHJlZ2lvbi5ib3R0b20gKyBkb2NPZmZzZXQsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHJlZ2lvbi5yaWdodFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWdpb247XG4gICAgfVxuXG4gICAgZ2V0UGFnZVBvc2l0aW9uQXRWaWV3cG9ydE9mZnNldCAoY29vcmRzKVxuICAgIHtcbiAgICAgICAgY29uc3QgZG9jQ29vcmRzID0ge1xuICAgICAgICAgICAgbGVmdDogY29vcmRzLmxlZnQgKyB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmxlZnQsXG4gICAgICAgICAgICB0b3A6IGNvb3Jkcy50b3AgKyB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbmRlcmVkUGFnZXMgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmdldFJlbmRlcmVkUGFnZXMoKTtcbiAgICAgICAgY29uc3QgcGFnZUNvdW50ID0gcmVuZGVyZWRQYWdlcy5sZW5ndGg7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgcGFnZSBvbiB3aGljaCB0aGUgY29vcmRzIG9jY3VyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IHBhZ2VDb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwYWdlSW5kZXggPSByZW5kZXJlZFBhZ2VzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmVnaW9uID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQuZ2V0UGFnZVJlZ2lvbihwYWdlSW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAocmVnaW9uLmxlZnQgPD0gZG9jQ29vcmRzLmxlZnQgJiYgcmVnaW9uLnJpZ2h0ID49IGRvY0Nvb3Jkcy5sZWZ0ICYmXG4gICAgICAgICAgICAgICAgcmVnaW9uLnRvcCA8PSBkb2NDb29yZHMudG9wICYmIHJlZ2lvbi5ib3R0b20gPj0gZG9jQ29vcmRzLnRvcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JQYWdlOiBwYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogZG9jQ29vcmRzLmxlZnQgLSByZWdpb24ubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZG9jQ29vcmRzLnRvcCAtIHJlZ2lvbi50b3BcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGYWxsIGJhY2sgdG8gY3VycmVudCBwYWdlXG4gICAgICAgIC8vIEZJWE1FOiBXb3VsZCBiZSBiZXR0ZXIgdG8gdXNlIHRoZSBjbG9zZXN0IHBhZ2Ugb3Igc29tZXRoaW5nXG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZWdpb24gPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlUmVnaW9uKHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYW5jaG9yUGFnZTogdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsXG4gICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBkb2NDb29yZHMubGVmdCAtIGN1cnJlbnRSZWdpb24ubGVmdCxcbiAgICAgICAgICAgICAgICB0b3A6IGRvY0Nvb3Jkcy50b3AgLSBjdXJyZW50UmVnaW9uLnRvcFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIHNldE1hbmlmZXN0IChtYW5pZmVzdCwgbG9hZE9wdGlvbnMpXG4gICAgLy8ge1xuICAgIC8vICAgICBzZXRNYW5pZmVzdChtYW5pZmVzdCwgbG9hZE9wdGlvbnMgfHwge30pO1xuICAgIC8vIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudCBwYWdlIHRvIHRoZSBnaXZlbiBpbmRleCwgZmlyaW5nIFZpc2libGVQYWdlRGlkQ2hhbmdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUluZGV4XG4gICAgICovXG4gICAgc2V0Q3VycmVudFBhZ2VzIChhY3RpdmVQYWdlLCB2aXNpYmxlUGFnZXMpXG4gICAge1xuICAgICAgICBpZiAoIWFycmF5c0VxdWFsKHRoaXMudmlld2VyU3RhdGUuY3VycmVudFBhZ2VJbmRpY2VzLCB2aXNpYmxlUGFnZXMpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmN1cnJlbnRQYWdlSW5kaWNlcyA9IHZpc2libGVQYWdlcztcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLmFjdGl2ZVBhZ2VJbmRleCAhPT0gYWN0aXZlUGFnZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmFjdGl2ZVBhZ2VJbmRleCA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoKFwiQWN0aXZlUGFnZURpZENoYW5nZVwiLCBhY3RpdmVQYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHVibGlzaChcIlZpc2libGVQYWdlRGlkQ2hhbmdlXCIsIHZpc2libGVQYWdlcyk7XG5cbiAgICAgICAgICAgIC8vIFB1Ymxpc2ggYW4gZXZlbnQgaWYgdGhlIHBhZ2Ugd2UncmUgc3dpdGNoaW5nIHRvIGhhcyBvdGhlciBpbWFnZXMuXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS5tYW5pZmVzdC5wYWdlc1thY3RpdmVQYWdlXS5vdGhlckltYWdlcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaCgnVmlzaWJsZVBhZ2VIYXNBbHRlcm5hdGVWaWV3cycsIGFjdGl2ZVBhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudmlld2VyU3RhdGUuYWN0aXZlUGFnZUluZGV4ICE9PSBhY3RpdmVQYWdlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmFjdGl2ZVBhZ2VJbmRleCA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2goXCJBY3RpdmVQYWdlRGlkQ2hhbmdlXCIsIGFjdGl2ZVBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYXJyYXlzRXF1YWwgKGEsIGIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYS5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQYWdlTmFtZSAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3QucGFnZXNbcGFnZUluZGV4XS5mO1xuICAgIH1cblxuICAgIHJlbG9hZCAobmV3T3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMucmVsb2FkVmlld2VyKG5ld09wdGlvbnMpO1xuICAgIH1cblxuICAgIHpvb20gKHpvb21MZXZlbCwgZm9jYWxQb2ludClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVpvb20oem9vbUxldmVsLCBmb2NhbFBvaW50KTtcbiAgICB9XG5cbiAgICBlbmFibGVTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUuaXNTY3JvbGxhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJpbmRNb3VzZUV2ZW50cygpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVEcmFnU2Nyb2xsYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmVuYWJsZUtleVNjcm9sbCA9IHRoaXMudmlld2VyU3RhdGUuaW5pdGlhbEtleVNjcm9sbDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5lbmFibGVTcGFjZVNjcm9sbCA9IHRoaXMudmlld2VyU3RhdGUuaW5pdGlhbFNwYWNlU2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlzU2Nyb2xsYWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGVEcmFnU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuaGFzQXR0cmlidXRlKCdub2NoaWxkZHJhZycpKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5yZW1vdmVBdHRyaWJ1dGUoJ25vY2hpbGRkcmFnJyk7XG4gICAgfVxuXG4gICAgZGlzYWJsZVNjcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLmlzU2Nyb2xsYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYmxvY2sgZHJhZ2dpbmdcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZURyYWdTY3JvbGxhYmxlKCk7XG5cbiAgICAgICAgICAgIC8vIGJsb2NrIGRvdWJsZS1jbGljayB6b29taW5nXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm91dGVyT2JqZWN0LmRibGNsaWNrID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3V0ZXJPYmplY3QuY29udGV4dG1lbnUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBkaXNhYmxlIGFsbCBvdGhlciBzY3JvbGxpbmcgYWN0aW9uc1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAgICAgICAgICAgLy8gYmxvY2sgc2Nyb2xsaW5nIGtleXMgYmVoYXZpb3IsIHJlc3BlY3RpbmcgaW5pdGlhbCBzY3JvbGwgc2V0dGluZ3NcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5pdGlhbEtleVNjcm9sbCA9IHRoaXMuc2V0dGluZ3MuZW5hYmxlS2V5U2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbml0aWFsU3BhY2VTY3JvbGwgPSB0aGlzLnNldHRpbmdzLmVuYWJsZVNwYWNlU2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmVuYWJsZUtleVNjcm9sbCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmVuYWJsZVNwYWNlU2Nyb2xsID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaXNTY3JvbGxhYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNhYmxlRHJhZ1Njcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5oYXNBdHRyaWJ1dGUoJ25vY2hpbGRkcmFnJykpXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LnNldEF0dHJpYnV0ZSgnbm9jaGlsZGRyYWcnLCBcIlwiKTtcbiAgICB9XG5cbiAgICAvLyBpc1ZhbGlkT3B0aW9uIChrZXksIHZhbHVlKVxuICAgIC8vIHtcbiAgICAvLyAgICAgcmV0dXJuIGlzVmFsaWRPcHRpb24oa2V5LCB2YWx1ZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gZ2V0WE9mZnNldCAocGFnZUluZGV4LCB4QW5jaG9yKVxuICAgIC8vIHtcbiAgICAvLyAgICAgcmV0dXJuIGdldFhPZmZzZXQocGFnZUluZGV4LCB4QW5jaG9yKTtcbiAgICAvLyB9XG5cbiAgICAvLyBnZXRZT2Zmc2V0IChwYWdlSW5kZXgsIHlBbmNob3IpXG4gICAgLy8ge1xuICAgIC8vICAgICByZXR1cm4gZ2V0WU9mZnNldChwYWdlSW5kZXgsIHlBbmNob3IpO1xuICAgIC8vIH1cblxuICAgIC8vIHRoaXMucHVibGlzaCA9IHB1Ymxpc2g7XG5cbiAgICBjbGVhciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jbGVhclZpZXdlcigpO1xuICAgIH1cblxuICAgIHNldFBlbmRpbmdNYW5pZmVzdFJlcXVlc3QgKHBlbmRpbmdNYW5pZmVzdFJlcXVlc3QpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBlbmRpbmdNYW5pZmVzdFJlcXVlc3QgPSBwZW5kaW5nTWFuaWZlc3RSZXF1ZXN0O1xuICAgIH1cblxuICAgIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIC8vIFVzZWZ1bCBldmVudCB0byBhY2Nlc3MgZWxlbWVudHMgaW4gZGl2YSBiZWZvcmUgdGhleSBnZXQgZGVzdHJveWVkLiBVc2VkIGJ5IHRoZSBoaWdobGlnaHQgcGx1Z2luLlxuICAgICAgICB0aGlzLnB1Ymxpc2goJ1ZpZXdlcldpbGxUZXJtaW5hdGUnLCB0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBDYW5jZWwgYW55IHBlbmRpbmcgcmVxdWVzdCByZXRyaWV2aW5nIGEgbWFuaWZlc3RcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucGVuZGluZ01hbmlmZXN0UmVxdWVzdClcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucGVuZGluZ01hbmlmZXN0UmVxdWVzdC5hYm9ydCgpO1xuXG4gICAgICAgIC8vIFJlbW92ZXMgdGhlIGhpZGUtc2Nyb2xsYmFyIGNsYXNzIGZyb20gdGhlIGJvZHlcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcygnZGl2YS1oaWRlLXNjcm9sbGJhcicpO1xuXG4gICAgICAgIC8vIEVtcHR5IHRoZSBwYXJlbnQgY29udGFpbmVyIGFuZCByZW1vdmUgYW55IGRpdmEtcmVsYXRlZCBkYXRhXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0LnBhcmVudCgpLmVtcHR5KCkucmVtb3ZlRGF0YSgnZGl2YScpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBhbnkgYWRkaXRpb25hbCBzdHlsaW5nIG9uIHRoZSBwYXJlbnQgZWxlbWVudFxuICAgICAgICB0aGlzLnNldHRpbmdzLnBhcmVudE9iamVjdC5wYXJlbnQoKS5yZW1vdmVBdHRyKCdzdHlsZScpLnJlbW92ZUF0dHIoJ2NsYXNzJyk7XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoKCdWaWV3ZXJEaWRUZXJtaW5hdGUnLCB0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBDbGVhciB0aGUgRXZlbnRzIGNhY2hlXG4gICAgICAgIGRpdmEuRXZlbnRzLnVuc3Vic2NyaWJlQWxsKHRoaXMuc2V0dGluZ3MuSUQpO1xuICAgIH1cbn1cbiIsIi8vIEZyb20gaHR0cDovL3d3dy5hbGV4YW5kcmUtZ29tZXMuY29tLz9wPTExNSwgbW9kaWZpZWQgc2xpZ2h0bHlcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNjcm9sbGJhcldpZHRoKClcbntcbiAgICBsZXQgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgaW5uZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgaW5uZXIuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4JztcblxuICAgIGxldCBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG91dGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBvdXRlci5zdHlsZS50b3AgPSAnMHB4JztcbiAgICBvdXRlci5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgb3V0ZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIG91dGVyLnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICBvdXRlci5zdHlsZS5oZWlnaHQgPSAnMTUwcHgnO1xuICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdXRlcik7XG5cbiAgICBsZXQgdzEgPSBpbm5lci5vZmZzZXRXaWR0aDtcbiAgICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuICAgIGxldCB3MiA9IGlubmVyLm9mZnNldFdpZHRoO1xuICAgIGlmICh3MSA9PT0gdzIpIHtcbiAgICAgICAgdzIgPSBvdXRlci5jbGllbnRXaWR0aDsgLy8gZm9yIElFIGkgdGhpbmtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG91dGVyKTtcbiAgICByZXR1cm4gdzEgLSB3Mjtcbn1cbiIsIi8qKlxuICogUGFyc2VzIGEgdjMgbWFuaWZlc3QncyBsYWJlbC92YWx1ZSBwYWlyIGZyb20gYW4gb2JqZWN0ICYgYXJyYXkgdG8gYSBzdHJpbmdcbiAqXG4gKiBAcHVibGljXG4gKiBAcGFyYW1zIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgZnJvbSB3aGljaCBhIGxhYmVsL3ZhbHVlIHBhaXIgc2hvdWxkIGJlIGV4dHJhY3RlZC5cbiAqIEByZXR1cm5zIHtvYmplY3R9IC0gVGhlIGxhYmVsL3ZhbHVlIHBhaXIgYXMgc3RyaW5ncy5cbiAqICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlTGFiZWxWYWx1ZSAoa2V5KVxue1xuICAgIGxldCBsID0ga2V5LmxhYmVsOyBcbiAgICBsZXQgbGFiZWwgPSAodHlwZW9mIGwgPT09ICdvYmplY3QnKSA/IGxbT2JqZWN0LmtleXMobClbMF1dWzBdIDogbDtcblxuICAgIGxldCB2ID0ga2V5LnZhbHVlO1xuICAgIGxldCB2YWx1ZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2KSlcbiAgICB7IC8vIGlzIGFycmF5IG9mIG9iamVjdHNcbiAgICAgICAgdmFsdWUgPSB2Lm1hcChlID0+IGVbT2JqZWN0LmtleXMoZSlbMF1dKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHsgLy8gaXMgb2JqZWN0IHdoZXJlIHZhbHVlIGlzIHBvc3NpYmx5IGFuIGFycmF5XG4gICAgICAgIHZhbHVlID0gKHR5cGVvZiB2ID09PSAnb2JqZWN0JykgPyB2W09iamVjdC5rZXlzKHYpWzBdXSA6IHY7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5qb2luKCcsICcpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbn0iLCJpbXBvcnQgcGFyc2VMYWJlbFZhbHVlIGZyb20gJy4vdXRpbHMvcGFyc2UtbGFiZWwtdmFsdWUnO1xuXG5jb25zdCBnZXRNYXhab29tTGV2ZWwgPSAod2lkdGgsIGhlaWdodCkgPT5cbntcbiAgICBjb25zdCBsYXJnZXN0RGltZW5zaW9uID0gTWF0aC5tYXgod2lkdGgsIGhlaWdodCk7XG4gICAgaWYgKGxhcmdlc3REaW1lbnNpb24gPCAxMjgpIFxuICAgICAgICByZXR1cm4gMDtcbiAgICByZXR1cm4gTWF0aC5jZWlsKE1hdGgubG9nKChsYXJnZXN0RGltZW5zaW9uICsgMSkgLyAoMjU2ICsgMSkpIC8gTWF0aC5sb2coMikpO1xufTtcblxuY29uc3QgaW5jb3Jwb3JhdGVab29tID0gKGltYWdlRGltZW5zaW9uLCB6b29tRGlmZmVyZW5jZSkgPT4gaW1hZ2VEaW1lbnNpb24gLyAoTWF0aC5wb3coMiwgem9vbURpZmZlcmVuY2UpKTtcblxuY29uc3QgZ2V0T3RoZXJJbWFnZURhdGEgPSAob3RoZXJJbWFnZXMsIGxvd2VzdE1heFpvb20pID0+XG57XG4gICAgcmV0dXJuIG90aGVySW1hZ2VzLm1hcCggKGl0bSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHcgPSBpdG0ud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSBpdG0uaGVpZ2h0O1xuICAgICAgICBjb25zdCBpbmZvID0gcGFyc2VJbWFnZUluZm8oaXRtKTtcbiAgICAgICAgY29uc3QgdXJsID0gaW5mby51cmwuc2xpY2UoLTEpICE9PSAnLycgPyBpbmZvLnVybCArICcvJyA6IGluZm8udXJsOyAgLy8gYXBwZW5kIHRyYWlsaW5nIHNsYXNoIHRvIHVybCBpZiBpdCdzIG5vdCB0aGVyZS5cblxuICAgICAgICBjb25zdCBkaW1zID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsb3dlc3RNYXhab29tICsgMTsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaW1zW2pdID0ge1xuICAgICAgICAgICAgICAgIGg6IE1hdGguZmxvb3IoaW5jb3Jwb3JhdGVab29tKGgsIGxvd2VzdE1heFpvb20gLSBqKSksXG4gICAgICAgICAgICAgICAgdzogTWF0aC5mbG9vcihpbmNvcnBvcmF0ZVpvb20odywgbG93ZXN0TWF4Wm9vbSAtIGopKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmOiBpbmZvLnVybCxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgaWw6IGl0bS5sYWJlbCB8fCBcIlwiLFxuICAgICAgICAgICAgZDogZGltc1xuICAgICAgICB9O1xuICAgIH0pO1xufTtcblxuY29uc3QgZ2V0SUlJRlByZXNlbnRhdGlvblZlcnNpb24gPSAoY29udGV4dCkgPT5cbntcbiAgICBpZiAoY29udGV4dCA9PT0gXCJodHRwOi8vaWlpZi5pby9hcGkvcHJlc2VudGF0aW9uLzIvY29udGV4dC5qc29uXCIpXG4gICAgICAgIHJldHVybiAyO1xuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dCkgJiYgY29udGV4dC5pbmNsdWRlcyhcImh0dHA6Ly9paWlmLmlvL2FwaS9wcmVzZW50YXRpb24vMi9jb250ZXh0Lmpzb25cIikpXG4gICAgICAgIHJldHVybiAyO1xuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dCkgJiYgY29udGV4dC5pbmNsdWRlcyhcImh0dHA6Ly9paWlmLmlvL2FwaS9wcmVzZW50YXRpb24vMy9jb250ZXh0Lmpzb25cIikpXG4gICAgICAgIHJldHVybiAzO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIDI7IC8vIEFzc3VtZSBhIHYyIG1hbmlmZXN0LlxufTtcblxuLyoqXG4gKiBQYXJzZXMgYW4gSUlJRiBQcmVzZW50YXRpb24gQVBJIE1hbmlmZXN0IGFuZCBjb252ZXJ0cyBpdCBpbnRvIGEgRGl2YS5qcy1mb3JtYXQgb2JqZWN0XG4gKiAoU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ERE1BTC9kaXZhLmpzL3dpa2kvRGV2ZWxvcG1lbnQtbm90ZXMjZGF0YS1yZWNlaXZlZC10aHJvdWdoLWFqYXgtcmVxdWVzdClcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuaWZlc3QgLSBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgdmFsaWQgSUlJRiBtYW5pZmVzdFxuICogQHJldHVybnMge09iamVjdH0gZGl2YVNlcnZpY2VCbG9jayAtIHRoZSBkYXRhIG5lZWRlZCBieSBEaXZhIHRvIHNob3cgYSB2aWV3IG9mIGEgc2luZ2xlIGRvY3VtZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlSUlJRk1hbmlmZXN0IChtYW5pZmVzdClcbntcbiAgICBsZXQgY3R4ID0gbWFuaWZlc3RbXCJAY29udGV4dFwiXTtcblxuICAgIGlmICghY3R4KVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgSUlJRiBNYW5pZmVzdDsgTm8gQGNvbnRleHQgZm91bmQuXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB2ZXJzaW9uID0gZ2V0SUlJRlByZXNlbnRhdGlvblZlcnNpb24oY3R4KTtcbiAgICBjb25zdCBzZXF1ZW5jZSA9IG1hbmlmZXN0LnNlcXVlbmNlcyA/IG1hbmlmZXN0LnNlcXVlbmNlc1swXSA6IG51bGw7XG4gICAgY29uc3QgY2FudmFzZXMgPSBzZXF1ZW5jZSA/IHNlcXVlbmNlLmNhbnZhc2VzIDogbWFuaWZlc3QuaXRlbXM7XG4gICAgY29uc3QgbnVtQ2FudmFzZXMgPSBjYW52YXNlcy5sZW5ndGg7XG5cbiAgICBjb25zdCBwYWdlcyA9IG5ldyBBcnJheShjYW52YXNlcy5sZW5ndGgpO1xuXG4gICAgbGV0IHRoaXNDYW52YXMsIFxuICAgICAgICB0aGlzUmVzb3VyY2UsIFxuICAgICAgICB0aGlzSW1hZ2UsXG4gICAgICAgIHNlY29uZGFyeUltYWdlcyxcbiAgICAgICAgb3RoZXJJbWFnZXMgPSBbXSxcbiAgICAgICAgY29udGV4dCwgXG4gICAgICAgIHVybCwgXG4gICAgICAgIGluZm8sIFxuICAgICAgICBpbWFnZUFQSVZlcnNpb24sIFxuICAgICAgICB3aWR0aCwgXG4gICAgICAgIGhlaWdodCwgXG4gICAgICAgIG1heFpvb20sIFxuICAgICAgICBjYW52YXMsIFxuICAgICAgICBsYWJlbCwgXG4gICAgICAgIGltYWdlTGFiZWwsIFxuICAgICAgICB6b29tRGltZW5zaW9ucywgXG4gICAgICAgIHdpZHRoQXRDdXJyZW50Wm9vbUxldmVsLCBcbiAgICAgICAgaGVpZ2h0QXRDdXJyZW50Wm9vbUxldmVsO1xuXG4gICAgbGV0IGxvd2VzdE1heFpvb20gPSAxMDA7XG4gICAgbGV0IG1heFJhdGlvID0gMDtcbiAgICBsZXQgbWluUmF0aW8gPSAxMDA7XG5cbiAgICAvLyBxdWlja2x5IGRldGVybWluZSB0aGUgbG93ZXN0IHBvc3NpYmxlIG1heCB6b29tIGxldmVsIChpLmUuLCB0aGUgdXBwZXIgYm91bmQgZm9yIGltYWdlcykgYWNyb3NzIGFsbCBjYW52YXNlcy5cbiAgICAvLyB3aGlsZSB3ZSdyZSBoZXJlLCBjb21wdXRlIHRoZSBnbG9iYWwgcmF0aW9zIGFzIHdlbGwuXG4gICAgZm9yIChsZXQgeiA9IDA7IHogPCBudW1DYW52YXNlczsgeisrKVxuICAgIHtcbiAgICAgICAgY29uc3QgYyA9IGNhbnZhc2VzW3pdO1xuICAgICAgICBjb25zdCB3ID0gYy53aWR0aDtcbiAgICAgICAgY29uc3QgaCA9IGMuaGVpZ2h0O1xuICAgICAgICBjb25zdCBteiA9IGdldE1heFpvb21MZXZlbCh3LCBoKTtcbiAgICAgICAgY29uc3QgcmF0aW8gPSBoIC8gdztcbiAgICAgICAgbWF4UmF0aW8gPSBNYXRoLm1heChyYXRpbywgbWF4UmF0aW8pO1xuICAgICAgICBtaW5SYXRpbyA9IE1hdGgubWluKHJhdGlvLCBtaW5SYXRpbyk7XG5cbiAgICAgICAgbG93ZXN0TWF4Wm9vbSA9IE1hdGgubWluKGxvd2VzdE1heFpvb20sIG16KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAgICBUaGVzZSBhcnJheXMgbmVlZCB0byBiZSBwcmUtaW5pdGlhbGl6ZWQgc2luY2Ugd2Ugd2lsbCBkbyBhcml0aG1ldGljIGFuZCB2YWx1ZSBjaGVja2luZyBvbiB0aGVtXG4gICAgKi9cbiAgICBjb25zdCB0b3RhbFdpZHRocyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSkuZmlsbCgwKTtcbiAgICBjb25zdCB0b3RhbEhlaWdodHMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpLmZpbGwoMCk7XG4gICAgY29uc3QgbWF4V2lkdGhzID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKS5maWxsKDApO1xuICAgIGNvbnN0IG1heEhlaWdodHMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpLmZpbGwoMCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNhbnZhc2VzOyBpKyspXG4gICAge1xuICAgICAgICB0aGlzQ2FudmFzID0gY2FudmFzZXNbaV07XG4gICAgICAgIGNhbnZhcyA9IHRoaXNDYW52YXNbJ0BpZCddIHx8IHRoaXNDYW52YXMuaWQ7XG4gICAgICAgIGxhYmVsID0gdGhpc0NhbnZhcy5sYWJlbDtcbiAgICAgICAgdGhpc1Jlc291cmNlID0gdGhpc0NhbnZhcy5pbWFnZXMgPyB0aGlzQ2FudmFzLmltYWdlc1swXS5yZXNvdXJjZSA6IHRoaXNDYW52YXMuaXRlbXNbMF0uaXRlbXNbMF0uYm9keTtcblxuICAgICAgICAvKlxuICAgICAgICAgKiBJZiBhIGNhbnZhcyBoYXMgbXVsdGlwbGUgaW1hZ2VzIGl0IHdpbGwgYmUgZW5jb2RlZFxuICAgICAgICAgKiB3aXRoIGEgcmVzb3VyY2UgdHlwZSBvZiBcIm9hOkNob2ljZVwiICh2Mikgb3IgXCJDaG9pY2VcIiAodjMpLlxuICAgICAgICAgKiovXG4gICAgICAgIG90aGVySW1hZ2VzID0gW107IC8vIHJlc2V0IGFycmF5XG4gICAgICAgIGlmICh0aGlzUmVzb3VyY2VbJ0B0eXBlJ10gPT09IFwib2E6Q2hvaWNlXCIgfHwgdGhpc1Jlc291cmNlLnR5cGUgPT09IFwiQ2hvaWNlXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXNJbWFnZSA9IHRoaXNSZXNvdXJjZS5kZWZhdWx0IHx8IHRoaXNSZXNvdXJjZS5pdGVtc1swXTtcbiAgICAgICAgICAgIHNlY29uZGFyeUltYWdlcyA9IHRoaXNSZXNvdXJjZS5pdGVtIHx8IHRoaXNSZXNvdXJjZS5pdGVtcy5zbGljZSgxKTtcbiAgICAgICAgICAgIG90aGVySW1hZ2VzID0gZ2V0T3RoZXJJbWFnZURhdGEoc2Vjb25kYXJ5SW1hZ2VzLCBsb3dlc3RNYXhab29tKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXNJbWFnZSA9IHRoaXNSZXNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByaW9yaXRpemUgdGhlIGNhbnZhcyBoZWlnaHQgLyB3aWR0aCBmaXJzdCwgc2luY2UgaW1hZ2VzIG1heSBub3QgaGF2ZSBoL3dcbiAgICAgICAgd2lkdGggPSB0aGlzQ2FudmFzLndpZHRoIHx8IHRoaXNJbWFnZS53aWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gdGhpc0NhbnZhcy5oZWlnaHQgfHwgdGhpc0ltYWdlLmhlaWdodDtcblxuICAgICAgICBpZiAod2lkdGggPD0gMCB8fCBoZWlnaHQgPD0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbnZhbGlkIHdpZHRoIG9yIGhlaWdodCBmb3IgY2FudmFzICcgKyBsYWJlbCArICcuIFNraXBwaW5nJyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1heFpvb20gPSBnZXRNYXhab29tTGV2ZWwod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgaW1hZ2VMYWJlbCA9IHRoaXNJbWFnZS5sYWJlbCB8fCBudWxsO1xuXG4gICAgICAgIGluZm8gPSBwYXJzZUltYWdlSW5mbyh0aGlzSW1hZ2UpO1xuICAgICAgICB1cmwgPSBpbmZvLnVybC5zbGljZSgtMSkgIT09ICcvJyA/IGluZm8udXJsICsgJy8nIDogaW5mby51cmw7ICAvLyBhcHBlbmQgdHJhaWxpbmcgc2xhc2ggdG8gdXJsIGlmIGl0J3Mgbm90IHRoZXJlLlxuXG4gICAgICAgIGNvbnRleHQgPSB0aGlzSW1hZ2Uuc2VydmljZVsnQGNvbnRleHQnXSB8fCB0aGlzSW1hZ2Uuc2VydmljZS50eXBlO1xuXG4gICAgICAgIGlmIChjb250ZXh0ID09PSAnaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvY29udGV4dC5qc29uJyB8fCBjb250ZXh0ID09PSBcIkltYWdlU2VydmljZTJcIilcbiAgICAgICAge1xuICAgICAgICAgICAgaW1hZ2VBUElWZXJzaW9uID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb250ZXh0ID09PSAnaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb250ZXh0Lmpzb24nKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZUFQSVZlcnNpb24gPSAxLjE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZUFQSVZlcnNpb24gPSAxLjA7XG4gICAgICAgIH1cblxuICAgICAgICB6b29tRGltZW5zaW9ucyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSk7XG5cbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBsb3dlc3RNYXhab29tICsgMTsgaysrKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aEF0Q3VycmVudFpvb21MZXZlbCA9IE1hdGguZmxvb3IoaW5jb3Jwb3JhdGVab29tKHdpZHRoLCBsb3dlc3RNYXhab29tIC0gaykpO1xuICAgICAgICAgICAgaGVpZ2h0QXRDdXJyZW50Wm9vbUxldmVsID0gTWF0aC5mbG9vcihpbmNvcnBvcmF0ZVpvb20oaGVpZ2h0LCBsb3dlc3RNYXhab29tIC0gaykpO1xuICAgICAgICAgICAgem9vbURpbWVuc2lvbnNba10gPSB7XG4gICAgICAgICAgICAgICAgaDogaGVpZ2h0QXRDdXJyZW50Wm9vbUxldmVsLFxuICAgICAgICAgICAgICAgIHc6IHdpZHRoQXRDdXJyZW50Wm9vbUxldmVsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0b3RhbFdpZHRoc1trXSArPSB3aWR0aEF0Q3VycmVudFpvb21MZXZlbDtcbiAgICAgICAgICAgIHRvdGFsSGVpZ2h0c1trXSArPSBoZWlnaHRBdEN1cnJlbnRab29tTGV2ZWw7XG4gICAgICAgICAgICBtYXhXaWR0aHNba10gPSBNYXRoLm1heCh3aWR0aEF0Q3VycmVudFpvb21MZXZlbCwgbWF4V2lkdGhzW2tdKTtcbiAgICAgICAgICAgIG1heEhlaWdodHNba10gPSBNYXRoLm1heChoZWlnaHRBdEN1cnJlbnRab29tTGV2ZWwsIG1heEhlaWdodHNba10pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGlzUGFnZWQgPSB0aGlzQ2FudmFzLnZpZXdpbmdIaW50ICE9PSAnbm9uLXBhZ2VkJyB8fCAodGhpc0NhbnZhcy5iZWhhdmlvciA/IHRoaXNDYW52YXMuYmVoYXZpb3JbMF0gIT09ICdub24tcGFnZWQnIDogZmFsc2UpO1xuICAgICAgICBsZXQgaXNGYWNpbmcgPSB0aGlzQ2FudmFzLnZpZXdpbmdIaW50ID09PSAnZmFjaW5nLXBhZ2VzJyB8fCAodGhpc0NhbnZhcy5iZWhhdmlvciA/IHRoaXNDYW52YXMuYmVoYXZpb3JbMF0gPT09ICdmYWNpbmctcGFnZXMnIDogZmFsc2UpO1xuXG4gICAgICAgIHBhZ2VzW2ldID0ge1xuICAgICAgICAgICAgZDogem9vbURpbWVuc2lvbnMsXG4gICAgICAgICAgICBtOiBtYXhab29tLFxuICAgICAgICAgICAgbDogbGFiZWwsICAgICAgICAgLy8gY2FudmFzIGxhYmVsICgncGFnZSAxLCBwYWdlIDInLCBldGMuKVxuICAgICAgICAgICAgaWw6IGltYWdlTGFiZWwsICAgLy8gZGVmYXVsdCBpbWFnZSBsYWJlbCAoJ3ByaW1hcnkgaW1hZ2UnLCAnVVYgbGlnaHQnLCBldGMuKVxuICAgICAgICAgICAgZjogaW5mby51cmwsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGFwaTogaW1hZ2VBUElWZXJzaW9uLFxuICAgICAgICAgICAgcGFnZWQ6IGlzUGFnZWQsXG4gICAgICAgICAgICBmYWNpbmdQYWdlczogaXNGYWNpbmcsXG4gICAgICAgICAgICBjYW52YXM6IGNhbnZhcyxcbiAgICAgICAgICAgIG90aGVySW1hZ2VzOiBvdGhlckltYWdlcyxcbiAgICAgICAgICAgIHhvZmZzZXQ6IGluZm8ueCB8fCBudWxsLFxuICAgICAgICAgICAgeW9mZnNldDogaW5mby55IHx8IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBhdmVyYWdlV2lkdGhzID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKTtcbiAgICBjb25zdCBhdmVyYWdlSGVpZ2h0cyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSk7XG5cbiAgICBmb3IgKGxldCBhID0gMDsgYSA8IGxvd2VzdE1heFpvb20gKyAxOyBhKyspXG4gICAge1xuICAgICAgICBhdmVyYWdlV2lkdGhzW2FdID0gdG90YWxXaWR0aHNbYV0gLyBudW1DYW52YXNlcztcbiAgICAgICAgYXZlcmFnZUhlaWdodHNbYV0gPSB0b3RhbEhlaWdodHNbYV0gLyBudW1DYW52YXNlcztcbiAgICB9XG5cbiAgICBjb25zdCBkaW1zID0ge1xuICAgICAgICBhX3dpZDogYXZlcmFnZVdpZHRocyxcbiAgICAgICAgYV9oZWk6IGF2ZXJhZ2VIZWlnaHRzLFxuICAgICAgICBtYXhfdzogbWF4V2lkdGhzLFxuICAgICAgICBtYXhfaDogbWF4SGVpZ2h0cyxcbiAgICAgICAgbWF4X3JhdGlvOiBtYXhSYXRpbyxcbiAgICAgICAgbWluX3JhdGlvOiBtaW5SYXRpbyxcbiAgICAgICAgdF9oZWk6IHRvdGFsSGVpZ2h0cyxcbiAgICAgICAgdF93aWQ6IHRvdGFsV2lkdGhzXG4gICAgfTtcblxuICAgIC8vIGFzc3VtZXMgcGFnZWQgaXMgZmFsc2UgZm9yIG5vbi1wYWdlZCB2YWx1ZXNcbiAgICByZXR1cm4ge1xuICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICBpdGVtX3RpdGxlOiBwYXJzZUxhYmVsVmFsdWUobWFuaWZlc3QpLmxhYmVsLFxuICAgICAgICBtZXRhZGF0YTogbWFuaWZlc3QubWV0YWRhdGEgfHwgbnVsbCxcbiAgICAgICAgZGltczogZGltcyxcbiAgICAgICAgbWF4X3pvb206IGxvd2VzdE1heFpvb20sXG4gICAgICAgIHBnczogcGFnZXMsXG4gICAgICAgIHBhZ2VkOiBtYW5pZmVzdC52aWV3aW5nSGludCA9PT0gJ3BhZ2VkJyB8fCAobWFuaWZlc3QuYmVoYXZpb3VyID8gbWFuaWZlc3QuYmVoYXZpb3VyWzBdID09PSAncGFnZWQnIDogZmFsc2UpIHx8IChzZXF1ZW5jZSA/IHNlcXVlbmNlLnZpZXdpbmdIaW50ID09PSAncGFnZWQnIDogZmFsc2UpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBUYWtlcyBpbiBhIHJlc291cmNlIGJsb2NrIGZyb20gYSBjYW52YXMgYW5kIG91dHB1dHMgdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhhdCByZXNvdXJjZTpcbiAqIC0gSW1hZ2UgVVJMXG4gKiAtIEltYWdlIHJlZ2lvbiB0byBiZSBkaXNwbGF5ZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzb3VyY2UgLSBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZXNvdXJjZSBibG9jayBvZiBhIGNhbnZhcyBzZWN0aW9uIGluIGEgSUlJRiBtYW5pZmVzdFxuICogQHJldHVybnMge09iamVjdH0gaW1hZ2VJbmZvIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgaW1hZ2UgVVJMIGFuZCByZWdpb25cbiAqL1xuZnVuY3Rpb24gcGFyc2VJbWFnZUluZm8gKHJlc291cmNlKVxue1xuICAgIGxldCB1cmwgPSByZXNvdXJjZVsnQGlkJ10gfHwgcmVzb3VyY2UuaWQ7XG4gICAgY29uc3QgZnJhZ21lbnRSZWdleCA9IC8jeHl3aD0oWzAtOV0rLFswLTldKyxbMC05XSssWzAtOV0rKS87XG4gICAgbGV0IHh5d2ggPSAnJztcbiAgICBsZXQgc3RyaXBVUkwgPSB0cnVlO1xuXG4gICAgaWYgKC9cXC8oWzAtOV0rLFswLTldKyxbMC05XSssWzAtOV0rKVxcLy8udGVzdCh1cmwpKVxuICAgIHtcbiAgICAgICAgLy8gaWYgcmVzb3VyY2UgaW4gaW1hZ2UgQVBJIGZvcm1hdCwgZXh0cmFjdCByZWdpb24geCx5LHcsaCBmcm9tIFVSTCAoYWZ0ZXIgNHRoIHNsYXNoIGZyb20gbGFzdClcbiAgICAgICAgLy8gbWF0Y2hlcyBjb29yZGluYXRlcyBpbiBVUkxzIG9mIHRoZSBmb3JtIGh0dHA6Ly93d3cuZXhhbXBsZS5vcmcvaWlpZi9ib29rMS1wYWdlMS80MCw1MCwxMjAwLDE4MDAvZnVsbC8wL2RlZmF1bHQuanBnXG4gICAgICAgIGNvbnN0IHVybEFycmF5ID0gdXJsLnNwbGl0KCcvJyk7XG4gICAgICAgIHh5d2ggPSB1cmxBcnJheVt1cmxBcnJheS5sZW5ndGggLSA0XTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZnJhZ21lbnRSZWdleC50ZXN0KHVybCkpXG4gICAge1xuICAgICAgICAvLyBtYXRjaGVzIGNvb3JkaW5hdGVzIG9mIHRoZSBzdHlsZSBodHRwOi8vd3d3LmV4YW1wbGUub3JnL2lpaWYvYm9vazEvY2FudmFzL3AxI3h5d2g9NTAsNTAsMzIwLDI0MFxuICAgICAgICBjb25zdCByZXN1bHQgPSBmcmFnbWVudFJlZ2V4LmV4ZWModXJsKTtcbiAgICAgICAgeHl3aCA9IHJlc3VsdFsxXTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzb3VyY2Uuc2VydmljZSAmJiAocmVzb3VyY2Uuc2VydmljZVsnQGlkJ10gfHwgcmVzb3VyY2Uuc2VydmljZS5pZCkpXG4gICAge1xuICAgICAgICAvLyB0aGlzIFVSTCBleGNsdWRlcyByZWdpb24gcGFyYW1ldGVycyBzbyB3ZSBkb24ndCBuZWVkIHRvIHJlbW92ZSB0aGVtXG4gICAgICAgIHVybCA9IHJlc291cmNlLnNlcnZpY2VbJ0BpZCddIHx8IHJlc291cmNlLnNlcnZpY2UuaWQ7XG4gICAgICAgIHN0cmlwVVJMID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHN0cmlwVVJMKVxuICAgIHtcbiAgICAgICAgLy8gZXh0cmFjdCBVUkwgdXAgdG8gaWRlbnRpZmllciAod2UgZWxpbWluYXRlIHRoZSBsYXN0IDUgcGFyYW1ldGVyczogL3JlZ2lvbi9zaXplL3JvdGF0aW9uL3F1YWxpdHkuZm9ybWF0KVxuICAgICAgICB1cmwgPSB1cmwuc3BsaXQoJy8nKS5zbGljZSgwLCAtNCkuam9pbignLycpO1xuICAgIH1cblxuICAgIGNvbnN0IGltYWdlSW5mbyA9IHtcbiAgICAgICAgdXJsOiB1cmxcbiAgICB9O1xuXG4gICAgaWYgKHh5d2gubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgLy8gcGFyc2UgaW50byBzZXBhcmF0ZSBjb21wb25lbnRzXG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB4eXdoLnNwbGl0KCcsJyk7XG4gICAgICAgIGltYWdlSW5mby54ID0gcGFyc2VJbnQoZGltZW5zaW9uc1swXSwgMTApO1xuICAgICAgICBpbWFnZUluZm8ueSA9IHBhcnNlSW50KGRpbWVuc2lvbnNbMV0sIDEwKTtcbiAgICAgICAgaW1hZ2VJbmZvLncgPSBwYXJzZUludChkaW1lbnNpb25zWzJdLCAxMCk7XG4gICAgICAgIGltYWdlSW5mby5oID0gcGFyc2VJbnQoZGltZW5zaW9uc1szXSwgMTApO1xuICAgIH1cblxuICAgIHJldHVybiBpbWFnZUluZm87XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJSUlGU291cmNlQWRhcHRlclxue1xuICAgIGdldFBhZ2VJbWFnZVVSTCAobWFuaWZlc3QsIHBhZ2VJbmRleCwgc2l6ZSlcbiAgICB7XG4gICAgICAgIGxldCBkaW1lbnM7XG5cbiAgICAgICAgaWYgKCFzaXplIHx8IChzaXplLndpZHRoID09IG51bGwgJiYgc2l6ZS5oZWlnaHQgPT0gbnVsbCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpbWVucyA9ICdmdWxsJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpbWVucyA9IChzaXplLndpZHRoID09IG51bGwgPyAnJyA6IHNpemUud2lkdGgpICsgJywnICsgKHNpemUuaGVpZ2h0ID09IG51bGwgPyAnJyA6IHNpemUuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBtYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdO1xuICAgICAgICBjb25zdCBxdWFsaXR5ID0gKHBhZ2UuYXBpID4gMS4xKSA/ICdkZWZhdWx0JyA6ICduYXRpdmUnO1xuXG4gICAgICAgIHJldHVybiBlbmNvZGVVUkkocGFnZS51cmwgKyAnZnVsbC8nICsgZGltZW5zICsgJy8wLycgKyBxdWFsaXR5ICsgJy5qcGcnKTtcbiAgICB9XG5cbiAgICBnZXRUaWxlSW1hZ2VVUkwgKG1hbmlmZXN0LCBwYWdlSW5kZXgsIHBhcmFtcylcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBtYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdO1xuXG4gICAgICAgIGxldCBoZWlnaHQsIHdpZHRoO1xuXG4gICAgICAgIGlmIChwYXJhbXMucm93ID09PSBwYXJhbXMucm93Q291bnQgLSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBoZWlnaHQgPSBwYWdlLmRbcGFyYW1zLnpvb21MZXZlbF0uaCAtIChwYXJhbXMucm93Q291bnQgLSAxKSAqIHBhcmFtcy50aWxlRGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBoZWlnaHQgPSBwYXJhbXMudGlsZURpbWVuc2lvbnMuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy5jb2wgPT09IHBhcmFtcy5jb2xDb3VudCAtIDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoID0gcGFnZS5kW3BhcmFtcy56b29tTGV2ZWxdLncgLSAocGFyYW1zLmNvbENvdW50IC0gMSkgKiBwYXJhbXMudGlsZURpbWVuc2lvbnMud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IHBhcmFtcy50aWxlRGltZW5zaW9ucy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHpvb21EaWZmZXJlbmNlID0gTWF0aC5wb3coMiwgbWFuaWZlc3QubWF4Wm9vbSAtIHBhcmFtcy56b29tTGV2ZWwpO1xuXG4gICAgICAgIGxldCB4ID0gcGFyYW1zLmNvbCAqIHBhcmFtcy50aWxlRGltZW5zaW9ucy53aWR0aCAqIHpvb21EaWZmZXJlbmNlO1xuICAgICAgICBsZXQgeSA9IHBhcmFtcy5yb3cgKiBwYXJhbXMudGlsZURpbWVuc2lvbnMuaGVpZ2h0ICogem9vbURpZmZlcmVuY2U7XG5cbiAgICAgICAgaWYgKHBhZ2UuaGFzT3duUHJvcGVydHkoJ3hvZmZzZXQnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgeCArPSBwYWdlLnhvZmZzZXQ7XG4gICAgICAgICAgICB5ICs9IHBhZ2UueW9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IFt4LCB5LCB3aWR0aCAqIHpvb21EaWZmZXJlbmNlLCBoZWlnaHQgKiB6b29tRGlmZmVyZW5jZV0uam9pbignLCcpO1xuXG4gICAgICAgIGNvbnN0IHF1YWxpdHkgPSAocGFnZS5hcGkgPiAxLjEpID8gJ2RlZmF1bHQnIDogJ25hdGl2ZSc7XG5cbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSShwYWdlLnVybCArIHJlZ2lvbiArICcvJyArIHdpZHRoICsgJywnICsgaGVpZ2h0ICsgJy8wLycgKyBxdWFsaXR5ICsgJy5qcGcnKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgcGFyc2VJSUlGTWFuaWZlc3QgZnJvbSAnLi9wYXJzZS1paWlmLW1hbmlmZXN0JztcbmltcG9ydCBJSUlGU291cmNlQWRhcHRlciBmcm9tIFwiLi9paWlmLXNvdXJjZS1hZGFwdGVyXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VNYW5pZmVzdFxue1xuICAgIGNvbnN0cnVjdG9yIChkYXRhLCB1cmxBZGFwdGVyKVxuICAgIHtcbiAgICAgICAgLy8gU2F2ZSBhbGwgdGhlIGRhdGEgd2UgbmVlZFxuICAgICAgICB0aGlzLnBhZ2VzID0gZGF0YS5wZ3M7XG4gICAgICAgIHRoaXMubWF4Wm9vbSA9IGRhdGEubWF4X3pvb207XG4gICAgICAgIHRoaXMubWF4UmF0aW8gPSBkYXRhLmRpbXMubWF4X3JhdGlvO1xuICAgICAgICB0aGlzLm1pblJhdGlvID0gZGF0YS5kaW1zLm1pbl9yYXRpbztcbiAgICAgICAgdGhpcy5pdGVtVGl0bGUgPSBkYXRhLml0ZW1fdGl0bGU7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBkYXRhLm1ldGFkYXRhO1xuXG4gICAgICAgIC8vIE9ubHkgZ2l2ZW4gZm9yIElJSUYgbWFuaWZlc3RzXG4gICAgICAgIHRoaXMucGFnZWQgPSAhIWRhdGEucGFnZWQ7XG5cbiAgICAgICAgLy8gVGhlc2UgYXJlIGFycmF5cywgdGhlIGluZGV4IGNvcnJlc3BvbmRpbmcgdG8gdGhlIHpvb20gbGV2ZWxcbiAgICAgICAgdGhpcy5fbWF4V2lkdGhzID0gZGF0YS5kaW1zLm1heF93O1xuICAgICAgICB0aGlzLl9tYXhIZWlnaHRzID0gZGF0YS5kaW1zLm1heF9oO1xuICAgICAgICB0aGlzLl9hdmVyYWdlV2lkdGhzID0gZGF0YS5kaW1zLmFfd2lkO1xuICAgICAgICB0aGlzLl9hdmVyYWdlSGVpZ2h0cyA9IGRhdGEuZGltcy5hX2hlaTtcbiAgICAgICAgdGhpcy5fdG90YWxIZWlnaHRzID0gZGF0YS5kaW1zLnRfaGVpO1xuICAgICAgICB0aGlzLl90b3RhbFdpZHRocyA9IGRhdGEuZGltcy50X3dpZDtcblxuICAgICAgICB0aGlzLl91cmxBZGFwdGVyID0gdXJsQWRhcHRlcjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUlJSUYgKGlpaWZNYW5pZmVzdClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBwYXJzZUlJSUZNYW5pZmVzdChpaWlmTWFuaWZlc3QpO1xuICAgICAgICByZXR1cm4gbmV3IEltYWdlTWFuaWZlc3QoZGF0YSwgbmV3IElJSUZTb3VyY2VBZGFwdGVyKCkpO1xuICAgIH1cblxuICAgIGlzUGFnZVZhbGlkIChwYWdlSW5kZXgsIHNob3dOb25QYWdlZFBhZ2VzKVxuICAgIHtcbiAgICAgICAgaWYgKCFzaG93Tm9uUGFnZWRQYWdlcyAmJiB0aGlzLnBhZ2VkICYmICF0aGlzLnBhZ2VzW3BhZ2VJbmRleF0ucGFnZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWdlSW5kZXggPj0gMCAmJiBwYWdlSW5kZXggPCB0aGlzLnBhZ2VzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBnZXRNYXhQYWdlRGltZW5zaW9ucyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF4RGltcyA9IHRoaXMucGFnZXNbcGFnZUluZGV4XS5kW3RoaXMubWF4Wm9vbV07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogbWF4RGltcy5oLFxuICAgICAgICAgICAgd2lkdGg6IG1heERpbXMud1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFBhZ2VEaW1lbnNpb25zQXRab29tTGV2ZWwgKHBhZ2VJbmRleCwgem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF4RGltcyA9IHRoaXMucGFnZXNbcGFnZUluZGV4XS5kW3RoaXMubWF4Wm9vbV07XG5cbiAgICAgICAgY29uc3Qgc2NhbGVSYXRpbyA9IGdldFNjYWxlUmF0aW8odGhpcy5tYXhab29tLCB6b29tTGV2ZWwpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWlnaHQ6IG1heERpbXMuaCAqIHNjYWxlUmF0aW8sXG4gICAgICAgICAgICB3aWR0aDogbWF4RGltcy53ICogc2NhbGVSYXRpb1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBVUkwgZm9yIHRoZSBpbWFnZSBvZiB0aGUgZ2l2ZW4gcGFnZS4gVGhlIG9wdGlvbmFsIHNpemVcbiAgICAgKiBwYXJhbWV0ZXIgc3VwcG9ydHMgc2V0dGluZyB0aGUgaW1hZ2Ugd2lkdGggb3IgaGVpZ2h0IChkZWZhdWx0IGlzXG4gICAgICogZnVsbC1zaXplZCkuXG4gICAgICovXG4gICAgZ2V0UGFnZUltYWdlVVJMIChwYWdlSW5kZXgsIHNpemUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXJsQWRhcHRlci5nZXRQYWdlSW1hZ2VVUkwodGhpcywgcGFnZUluZGV4LCBzaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgdGlsZSBvYmplY3RzIGZvciB0aGUgc3BlY2lmaWVkIHBhZ2UgYW5kIGludGVnZXIgem9vbSBsZXZlbFxuICAgICAqL1xuICAgIGdldFBhZ2VJbWFnZVRpbGVzIChwYWdlSW5kZXgsIHpvb21MZXZlbCwgdGlsZURpbWVuc2lvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5wYWdlc1twYWdlSW5kZXhdO1xuXG4gICAgICAgIGlmICghaXNGaW5pdGUoem9vbUxldmVsKSB8fCB6b29tTGV2ZWwgJSAxICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdab29tIGxldmVsIG11c3QgYmUgYW4gaW50ZWdlcjogJyArIHpvb21MZXZlbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByb3dzID0gTWF0aC5jZWlsKHBhZ2UuZFt6b29tTGV2ZWxdLmggLyB0aWxlRGltZW5zaW9ucy5oZWlnaHQpO1xuICAgICAgICBjb25zdCBjb2xzID0gTWF0aC5jZWlsKHBhZ2UuZFt6b29tTGV2ZWxdLncgLyB0aWxlRGltZW5zaW9ucy53aWR0aCk7XG5cbiAgICAgICAgY29uc3QgdGlsZXMgPSBbXTtcblxuICAgICAgICBsZXQgcm93LCBjb2wsIHVybDtcblxuICAgICAgICBmb3IgKHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGNvbCA9IDA7IGNvbCA8IGNvbHM7IGNvbCsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuX3VybEFkYXB0ZXIuZ2V0VGlsZUltYWdlVVJMKHRoaXMsIHBhZ2VJbmRleCwge1xuICAgICAgICAgICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgICAgICAgICAgY29sOiBjb2wsXG4gICAgICAgICAgICAgICAgICAgIHJvd0NvdW50OiByb3dzLFxuICAgICAgICAgICAgICAgICAgICBjb2xDb3VudDogY29scyxcbiAgICAgICAgICAgICAgICAgICAgem9vbUxldmVsOiB6b29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIHRpbGVEaW1lbnNpb25zOiB0aWxlRGltZW5zaW9uc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IERpbWVuc2lvbnMgc2hvdWxkIGFjY291bnQgZm9yIHBhcnRpYWwgdGlsZXMgKGUuZy4gdGhlXG4gICAgICAgICAgICAgICAgLy8gbGFzdCByb3cgYW5kIGNvbHVtbiBpbiBhIHRpbGVkIGltYWdlKVxuICAgICAgICAgICAgICAgIHRpbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgICAgICAgICAgY29sOiBjb2wsXG4gICAgICAgICAgICAgICAgICAgIHpvb21MZXZlbDogem9vbUxldmVsLFxuICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRpbGVEaW1lbnNpb25zLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aWxlRGltZW5zaW9ucy53aWR0aFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcm93ICogdGlsZURpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogY29sICogdGlsZURpbWVuc2lvbnMud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB6b29tTGV2ZWw6IHpvb21MZXZlbCxcbiAgICAgICAgICAgIHJvd3M6IHJvd3MsXG4gICAgICAgICAgICBjb2xzOiBjb2xzLFxuICAgICAgICAgICAgdGlsZXM6IHRpbGVzXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRNYXhXaWR0aCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfbWF4V2lkdGhzJyk7XG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRNYXhIZWlnaHQgPSB6b29tZWRQcm9wZXJ0eUdldHRlcignX21heEhlaWdodHMnKTtcbkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldEF2ZXJhZ2VXaWR0aCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfYXZlcmFnZVdpZHRocycpO1xuSW1hZ2VNYW5pZmVzdC5wcm90b3R5cGUuZ2V0QXZlcmFnZUhlaWdodCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfYXZlcmFnZUhlaWdodHMnKTtcbkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldFRvdGFsV2lkdGggPSB6b29tZWRQcm9wZXJ0eUdldHRlcignX3RvdGFsV2lkdGhzJyk7XG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRUb3RhbEhlaWdodCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfdG90YWxIZWlnaHRzJyk7XG5cbmZ1bmN0aW9uIHpvb21lZFByb3BlcnR5R2V0dGVyIChwcml2YXRlTmFtZSlcbntcbiAgICByZXR1cm4gZnVuY3Rpb24gKHpvb21MZXZlbClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzW3ByaXZhdGVOYW1lXVt6b29tTGV2ZWxdO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFNjYWxlUmF0aW8gKHNvdXJjZVpvb21MZXZlbCwgdGFyZ2V0Wm9vbUxldmVsKVxue1xuICAgIHJldHVybiAxIC8gTWF0aC5wb3coMiwgc291cmNlWm9vbUxldmVsIC0gdGFyZ2V0Wm9vbUxldmVsKTtcbn1cbiIsImltcG9ydCBkaXZhIGZyb20gJy4vZGl2YS1nbG9iYWwnO1xuaW1wb3J0IHsgZWx0IH0gZnJvbSAnLi91dGlscy9lbHQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sYmFyXG57XG4gICAgY29uc3RydWN0b3IgKHZpZXdlcilcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gdmlld2VyLnNldHRpbmdzO1xuICAgIH1cblxuICAgIF9lbGVtQXR0cnMgKGlkZW50LCBiYXNlKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArIGlkZW50LFxuICAgICAgICAgICAgY2xhc3M6ICdkaXZhLScgKyBpZGVudFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChiYXNlKVxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYXR0cnMsIGJhc2UpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG5cbiAgICAvKiogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc3Vic2NyaWJlIHRvIGEgRGl2YSBldmVudCAqL1xuICAgIF9zdWJzY3JpYmUgKGV2ZW50LCBjYWxsYmFjaylcbiAgICB7XG4gICAgICAgIGRpdmEuRXZlbnRzLnN1YnNjcmliZShldmVudCwgY2FsbGJhY2ssIHRoaXMuc2V0dGluZ3MuSUQpO1xuICAgIH1cblxuXG4gICAgY3JlYXRlQnV0dG9uIChuYW1lLCBsYWJlbCwgY2FsbGJhY2ssIGljb24pXG4gICAge1xuICAgICAgICBjb25zdCBidXR0b24gPSBlbHQoJ2J1dHRvbicsIHtcbiAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBuYW1lLFxuICAgICAgICAgICAgY2xhc3M6ICdkaXZhLScgKyBuYW1lICsgJyBkaXZhLWJ1dHRvbicsXG4gICAgICAgICAgICB0aXRsZTogbGFiZWwsXG4gICAgICAgICAgICAnYXJpYS1sYWJlbCc6IGxhYmVsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChpY29uKVxuICAgICAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKGljb24pO1xuXG4gICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbGxiYWNrKTtcblxuICAgICAgICByZXR1cm4gYnV0dG9uO1xuICAgIH1cblxuICAgIGNyZWF0ZUxhYmVsIChuYW1lLCBpZCwgbGFiZWwsIGlubmVyTmFtZSwgaW5uZXJWYWx1ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBlbHQoJ2RpdicsIHsgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBpZCwgY2xhc3M6IG5hbWUgKyAnIGRpdmEtbGFiZWwnfSxcbiAgICAgICAgICAgICAgICAgICAgWyBsYWJlbCwgZWx0KCdzcGFuJywgeyBpZDogdGhpcy5zZXR0aW5ncy5JRCArIGlubmVyTmFtZSB9LCBpbm5lclZhbHVlKVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICB9XG5cbiAgICBjcmVhdGVab29tQnV0dG9ucyAoKVxuICAgIHtcbiAgICAgICAgbGV0IHpvb21PdXRJY29uID0gdGhpcy5fY3JlYXRlWm9vbU91dEljb24oKTtcbiAgICAgICAgbGV0IHpvb21Jbkljb24gPSB0aGlzLl9jcmVhdGVab29tSW5JY29uKCk7XG5cbiAgICAgICAgbGV0IHpvb21CdXR0b25zID0gW1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdXR0b24oJ3pvb20tb3V0LWJ1dHRvbicsICdab29tIE91dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5zZXRab29tTGV2ZWwodGhpcy5zZXR0aW5ncy56b29tTGV2ZWwgLSAxKTtcbiAgICAgICAgICAgIH0sIHpvb21PdXRJY29uKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnV0dG9uKCd6b29tLWluLWJ1dHRvbicsICdab29tIEluJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLnNldFpvb21MZXZlbCh0aGlzLnNldHRpbmdzLnpvb21MZXZlbCArIDEpO1xuICAgICAgICAgICAgfSwgem9vbUluSWNvbiksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxhYmVsKCdkaXZhLXpvb20tbGFiZWwnLCAnem9vbS1sYWJlbCcsICdab29tIGxldmVsOiAnLCAnem9vbS1sZXZlbCcsIHRoaXMuc2V0dGluZ3Muem9vbUxldmVsICsgMSlcbiAgICAgICAgXTtcblxuICAgICAgICBsZXQgem9vbUhhbmRsZXIgPSBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbGFiZWxFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyAnem9vbS1sZXZlbCcpO1xuICAgICAgICAgICAgbGFiZWxFbC50ZXh0Q29udGVudCA9IHRoaXMuc2V0dGluZ3Muem9vbUxldmVsICsgMTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1pvb21MZXZlbERpZENoYW5nZScsIHpvb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdWaWV3ZXJEaWRMb2FkJywgem9vbUhhbmRsZXIpO1xuXG4gICAgICAgIHJldHVybiBlbHQoJ2RpdicsIHsgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBcInpvb20tY29udHJvbHNcIiwgc3R5bGU6IFwiZGlzcGxheTogbm9uZVwifSwgem9vbUJ1dHRvbnMpO1xuICAgIH1cblxuICAgIGNyZWF0ZUdyaWRDb250cm9scyAoKVxuICAgIHtcbiAgICAgICAgbGV0IGdyaWRNb3JlSWNvbiA9IHRoaXMuX2NyZWF0ZUdyaWRNb3JlSWNvbigpO1xuICAgICAgICBsZXQgZ3JpZEZld2VySWNvbiA9IHRoaXMuX2NyZWF0ZUdyaWRGZXdlckljb24oKTtcblxuICAgICAgICBsZXQgZ3JpZEJ1dHRvbnMgPSBbXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1dHRvbignZ3JpZC1vdXQtYnV0dG9uJywgJ0Zld2VyJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLnNldEdyaWRQYWdlc1BlclJvdyh0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93IC0gMSk7XG4gICAgICAgICAgICB9LCBncmlkRmV3ZXJJY29uKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnV0dG9uKCdncmlkLWluLWJ1dHRvbicsICdNb3JlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLnNldEdyaWRQYWdlc1BlclJvdyh0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93ICsgMSk7XG4gICAgICAgICAgICB9LCBncmlkTW9yZUljb24pLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbCgnZGl2YS1ncmlkLWxhYmVsJywgJ2dyaWQtbGFiZWwnLCAnUGFnZXMgcGVyIHJvdzogJywgJ3BhZ2VzLXBlci1yb3cnLCB0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93KVxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCBncmlkQ2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBsYWJlbEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5JRCArICdwYWdlcy1wZXItcm93Jyk7XG4gICAgICAgICAgICBsYWJlbEVsLnRleHRDb250ZW50ID0gdGhpcy5zZXR0aW5ncy5wYWdlc1BlclJvdztcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ0dyaWRSb3dOdW1iZXJEaWRDaGFuZ2UnLCBncmlkQ2hhbmdlSGFuZGxlcik7XG5cbiAgICAgICAgcmV0dXJuIGVsdCgnZGl2Jywge2lkOiB0aGlzLnNldHRpbmdzLklEICsgXCJncmlkLWNvbnRyb2xzXCIsIHN0eWxlOiBcImRpc3BsYXk6bm9uZVwiIH0sIGdyaWRCdXR0b25zKTtcbiAgICB9XG5cbiAgICBjcmVhdGVQYWdlTGFiZWwgKClcbiAgICB7XG4gICAgICAgIC8vIEN1cnJlbnQgcGFnZVxuICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IGVsdCgnc3BhbicsIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgJ2N1cnJlbnQtcGFnZSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2UgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnZXQgbGFiZWxzIGZvciBpbmRleCByYW5nZVxuICAgICAgICAgICAgbGV0IGluZGljZXMgPSB0aGlzLnZpZXdlci5nZXRDdXJyZW50UGFnZUluZGljZXMoKTtcbiAgICAgICAgICAgIGxldCBzdGFydEluZGV4ID0gaW5kaWNlc1swXTtcbiAgICAgICAgICAgIGxldCBlbmRJbmRleCA9IGluZGljZXNbaW5kaWNlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxldCBzdGFydExhYmVsID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1tzdGFydEluZGV4XS5sO1xuICAgICAgICAgICAgbGV0IGVuZExhYmVsID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1tlbmRJbmRleF0ubDtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggIT09IGVuZEluZGV4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgXHRpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVJbmRleEFzTGFiZWwpXG4gICAgICAgICAgICAgICAgXHRjdXJyZW50UGFnZS50ZXh0Q29udGVudCA9IHN0YXJ0SW5kZXggKyBcIiAtIFwiICsgZW5kSW5kZXg7XG4gICAgICAgICAgICBcdGVsc2VcbiAgICAgICAgICAgIFx0XHRjdXJyZW50UGFnZS50ZXh0Q29udGVudCA9IHN0YXJ0TGFiZWwgKyBcIiAtIFwiICsgZW5kTGFiZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgIFx0e1xuICAgICAgICAgICAgXHRpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVJbmRleEFzTGFiZWwpXG4gICAgICAgICAgICBcdFx0Y3VycmVudFBhZ2UudGV4dENvbnRlbnQgPSBzdGFydEluZGV4O1xuICAgICAgICAgICAgXHRlbHNlXG4gICAgICAgICAgICBcdFx0Y3VycmVudFBhZ2UudGV4dENvbnRlbnQgPSBzdGFydExhYmVsO1xuICAgICAgICBcdH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1Zpc2libGVQYWdlRGlkQ2hhbmdlJywgdXBkYXRlQ3VycmVudFBhZ2UpO1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1ZpZXdlckRpZExvYWQnLCB1cGRhdGVDdXJyZW50UGFnZSk7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnVmlld0RpZFN3aXRjaCcsIHVwZGF0ZUN1cnJlbnRQYWdlKTtcblxuICAgICAgICByZXR1cm4gZWx0KCdzcGFuJywge1xuICAgICAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1wYWdlLWxhYmVsIGRpdmEtbGFiZWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VycmVudFBhZ2VcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjcmVhdGVHb3RvUGFnZUZvcm0gKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdvdG9QYWdlSW5wdXQgPSBlbHQoJ2lucHV0Jywge1xuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyAnZ290by1wYWdlLWlucHV0JyxcbiAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1pbnB1dCBkaXZhLWdvdG8tcGFnZS1pbnB1dCcsXG4gICAgICAgICAgICBhdXRvY29tcGxldGU6ICdvZmYnLFxuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnUGFnZSBJbnB1dCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZ290b1BhZ2VTdWJtaXQgPSBlbHQoJ2lucHV0Jywge1xuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyAnZ290by1wYWdlLXN1Ym1pdCcsXG4gICAgICAgICAgICBjbGFzczogJ2RpdmEtYnV0dG9uIGRpdmEtYnV0dG9uLXRleHQnLFxuICAgICAgICAgICAgdHlwZTogJ3N1Ym1pdCcsXG4gICAgICAgICAgICB2YWx1ZTogJ0dvJ1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBpbnB1dFN1Z2dlc3Rpb25zID0gZWx0KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyAnaW5wdXQtc3VnZ2VzdGlvbnMnLFxuICAgICAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1pbnB1dC1zdWdnZXN0aW9ucydcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBnb3RvRm9ybSA9IGVsdCgnZm9ybScsIHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArICdnb3RvLXBhZ2UnLFxuICAgICAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1nb3RvLWZvcm0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ290b1BhZ2VJbnB1dCxcbiAgICAgICAgICAgIGdvdG9QYWdlU3VibWl0LFxuICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9uc1xuICAgICAgICApO1xuXG4gICAgICAgIGdvdG9Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRlc2lyZWRQYWdlTGFiZWwgPSBnb3RvUGFnZUlucHV0LnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5vbkdvdG9TdWJtaXQgJiYgdHlwZW9mIHRoaXMuc2V0dGluZ3Mub25Hb3RvU3VibWl0ID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5zZXR0aW5ncy5vbkdvdG9TdWJtaXQoZGVzaXJlZFBhZ2VMYWJlbCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXdlci5nb3RvUGFnZUJ5SW5kZXgocGFnZUluZGV4KSlcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KFwiTm8gcGFnZSBjb3VsZCBiZSBmb3VuZCB3aXRoIHRoYXQgbGFiZWwgb3IgcGFnZSBudW1iZXJcIik7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgLy8gRGVmYXVsdCBpZiBubyBmdW5jdGlvbiBpcyBzcGVjaWZpZWQgaW4gdGhlIHNldHRpbmdzXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXdlci5nb3RvUGFnZUJ5TGFiZWwoZGVzaXJlZFBhZ2VMYWJlbCkpXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hbGVydChcIk5vIHBhZ2UgY291bGQgYmUgZm91bmQgd2l0aCB0aGF0IGxhYmVsIG9yIHBhZ2UgbnVtYmVyXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBzdWdnZXN0aW9uc1xuICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSBkZWZhdWx0IGFjdGlvbiBvZiByZWxvYWRpbmcgdGhlIHBhZ2VcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgWydpbnB1dCcsICdmb2N1cyddLmZvckVhY2goZXZlbnQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZ290b1BhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5pbm5lckhUTUwgPSAnJzsgLy8gUmVtb3ZlIGFsbCBwcmV2aW91cyBzdWdnZXN0aW9uc1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBnb3RvUGFnZUlucHV0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBudW1TdWdnZXN0aW9ucyA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlR290b1N1Z2dlc3Rpb25zICYmIHZhbHVlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZXMgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGFnZXMubGVuZ3RoOyBpIDwgbGVuICYmIG51bVN1Z2dlc3Rpb25zIDwgMTA7IGkrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VzW2ldLmwudG9Mb3dlckNhc2UoKS5pbmRleE9mKHZhbHVlLnRvTG93ZXJDYXNlKCkpID4gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SW5wdXRTdWdnZXN0aW9uID0gZWx0KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2RpdmEtaW5wdXQtc3VnZ2VzdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZXNbaV0ubFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLmFwcGVuZENoaWxkKG5ld0lucHV0U3VnZ2VzdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1TdWdnZXN0aW9ucysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBsYWJlbCBzdWdnZXN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtU3VnZ2VzdGlvbnMgPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ290b1BhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICAgICAgICBsZXQgZWw7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykgLy8gJ0VudGVyJyBrZXlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhY3RpdmUnKVswXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdGl2ZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIGdvdG9QYWdlSW5wdXQudmFsdWUgPSBhY3RpdmUuaW5uZXJUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzgpIC8vIFVwIGFycm93IGtleVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlJylbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkVsID0gZWwgPyBlbC5wcmV2aW91c1NpYmxpbmcgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcmV2RWwgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RWwgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2RWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2YS1pbnB1dC1zdWdnZXN0aW9uJykubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2YS1pbnB1dC1zdWdnZXN0aW9uJylbbGFzdF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSA0MCkgLy8gRG93biBhcnJvdyBrZXlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZScpWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRFbCA9IGVsID8gZWwubmV4dFNpYmxpbmcgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXh0RWwgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RWwgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0RWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RpdmEtaW5wdXQtc3VnZ2VzdGlvbicpWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgb25FdmVudChpbnB1dFN1Z2dlc3Rpb25zLCAnbW91c2Vkb3duJywgJy5kaXZhLWlucHV0LXN1Z2dlc3Rpb24nLCBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICBnb3RvUGFnZUlucHV0LnZhbHVlID0gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIGlucHV0U3VnZ2VzdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIGxldCBzdWJtaXRFdmVudCA9IG5ldyBFdmVudCgnc3VibWl0Jywge1xuICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ290b0Zvcm0uZGlzcGF0Y2hFdmVudChzdWJtaXRFdmVudCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGphdmFzY3JpcHQgZXF1aXZhbGVudCB0byBqcXVlcnkgLm9uKGV2ZW50LCBzZWxlY3RvciwgZnVuY3Rpb24pXG4gICAgICAgIGZ1bmN0aW9uIG9uRXZlbnQgKGVsZW0sIGV2dCwgc2VsLCBoYW5kbGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBmdW5jdGlvbiAoZXZlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHQgJiYgdCAhPT0gdGhpcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0Lm1hdGNoZXMoc2VsKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbCh0LCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHQgPSB0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBnb3RvUGFnZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBIaWRlIGxhYmVsIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBnb3RvRm9ybTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaWV3TWVudSAoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgdmlld09wdGlvbnNMaXN0ID0gZWx0KCdkaXYnLCB0aGlzLl9lbGVtQXR0cnMoJ3ZpZXctb3B0aW9ucycpKTtcbiAgICAgICAgY29uc3QgZ3JpZFZpZXdJY29uID0gdGhpcy5fY3JlYXRlR3JpZFZpZXdJY29uKCk7XG4gICAgICAgIGNvbnN0IGJvb2tWaWV3SWNvbiA9IHRoaXMuX2NyZWF0ZUJvb2tWaWV3SWNvbigpO1xuICAgICAgICBjb25zdCBwYWdlVmlld0ljb24gPSB0aGlzLl9jcmVhdGVQYWdlVmlld0ljb24oKTtcblxuICAgICAgICBjb25zdCB2aWV3T3B0aW9uc1RvZ2dsZSA9ICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXdPcHRpb25zTGlzdC5zdHlsZS5kaXNwbGF5ID0gdmlld09wdGlvbnNMaXN0LnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY2hhbmdlVmlld0J1dHRvbiA9IHRoaXMuY3JlYXRlQnV0dG9uKCd2aWV3LWljb24nLCAnQ2hhbmdlIHZpZXcnLCB2aWV3T3B0aW9uc1RvZ2dsZSk7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0VmlldyA9ICh2aWV3KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5jaGFuZ2VWaWV3KHZpZXcpO1xuXG4gICAgICAgICAgICAvL2hpZGUgdmlldyBtZW51XG4gICAgICAgICAgICB2aWV3T3B0aW9uc0xpc3Quc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZVZpZXdNZW51ID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgdmlld0ljb25DbGFzc2VzID0gJyBkaXZhLXZpZXctaWNvbiBkaXZhLWJ1dHRvbic7XG5cblxuICAgICAgICAgICAgLy8gZGlzcGxheSB0aGUgaWNvbiBvZiB0aGUgbW9kZSB3ZSdyZSBjdXJyZW50bHkgaW4gKD8pXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hhbmdlVmlld0J1dHRvbi5hcHBlbmRDaGlsZChncmlkVmlld0ljb24pO1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uY2xhc3NOYW1lID0gJ2RpdmEtZ3JpZC1pY29uJyArIHZpZXdJY29uQ2xhc3NlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuaW5Cb29rTGF5b3V0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uYXBwZW5kQ2hpbGQoYm9va1ZpZXdJY29uKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VWaWV3QnV0dG9uLmNsYXNzTmFtZSA9ICdkaXZhLWJvb2staWNvbicgKyB2aWV3SWNvbkNsYXNzZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hhbmdlVmlld0J1dHRvbi5hcHBlbmRDaGlsZChwYWdlVmlld0ljb24pO1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uY2xhc3NOYW1lID0gJ2RpdmEtZG9jdW1lbnQtaWNvbicgKyB2aWV3SWNvbkNsYXNzZXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHZpZXdPcHRpb25zID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgICAgICAgICAvLyB0aGVuIGRpc3BsYXkgZG9jdW1lbnQsIGJvb2ssIGFuZCBncmlkIGJ1dHRvbnMgaW4gdGhhdCBvcmRlciwgZXhjbHVkaW5nIHRoZSBjdXJyZW50IHZpZXdcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZCB8fCB0aGlzLnNldHRpbmdzLmluQm9va0xheW91dClcbiAgICAgICAgICAgICAgICB2aWV3T3B0aW9ucy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUJ1dHRvbignZG9jdW1lbnQtaWNvbicsICdEb2N1bWVudCBWaWV3Jywgc2VsZWN0Vmlldy5iaW5kKG51bGwsICdkb2N1bWVudCcpLCBwYWdlVmlld0ljb24pKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkIHx8ICF0aGlzLnNldHRpbmdzLmluQm9va0xheW91dClcbiAgICAgICAgICAgICAgICB2aWV3T3B0aW9ucy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUJ1dHRvbignYm9vay1pY29uJywgJ0Jvb2sgVmlldycsIHNlbGVjdFZpZXcuYmluZChudWxsLCAnYm9vaycpLCBib29rVmlld0ljb24pKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAgICAgICAgICB2aWV3T3B0aW9ucy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUJ1dHRvbignZ3JpZC1pY29uJywgJ0dyaWQgVmlldycsIHNlbGVjdFZpZXcuYmluZChudWxsLCAnZ3JpZCcpLCBncmlkVmlld0ljb24pKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBtZW51XG4gICAgICAgICAgICB3aGlsZSAodmlld09wdGlvbnNMaXN0LmZpcnN0Q2hpbGQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0LnJlbW92ZUNoaWxkKHZpZXdPcHRpb25zTGlzdC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5zZXJ0IG5ldyBtZW51XG4gICAgICAgICAgICB2aWV3T3B0aW9uc0xpc3QuYXBwZW5kQ2hpbGQodmlld09wdGlvbnMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBldmVudCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmlld09wdGlvbnNMaXN0ICE9PSBldmVudC50YXJnZXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnVmlld0RpZFN3aXRjaCcsIHVwZGF0ZVZpZXdNZW51KTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdPYmplY3REaWRMb2FkJywgdXBkYXRlVmlld01lbnUpO1xuXG4gICAgICAgIHJldHVybiBlbHQoJ2RpdicsIHRoaXMuX2VsZW1BdHRycygndmlldy1tZW51JyksXG4gICAgICAgICAgICBjaGFuZ2VWaWV3QnV0dG9uLFxuICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY3JlYXRlRnVsbHNjcmVlbkJ1dHRvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IGZ1bGxzY3JlZW5JY29uID0gdGhpcy5fY3JlYXRlRnVsbHNjcmVlbkljb24oKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVCdXR0b24oJ2Z1bGxzY3JlZW4taWNvbicsICdUb2dnbGUgZnVsbHNjcmVlbiBtb2RlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIudG9nZ2xlRnVsbHNjcmVlbk1vZGUoKTtcbiAgICAgICAgfSwgZnVsbHNjcmVlbkljb24pO1xuICAgIH1cblxuICAgIHRvZ2dsZVpvb21HcmlkQ29udHJvbHMgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyBcInpvb20tY29udHJvbHNcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyBcImdyaWQtY29udHJvbHNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5JRCArIFwiem9vbS1jb250cm9sc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLklEICsgXCJncmlkLWNvbnRyb2xzXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJlbmRlciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKFwiVmlld0RpZFN3aXRjaFwiLCB0aGlzLnRvZ2dsZVpvb21HcmlkQ29udHJvbHMpO1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoXCJPYmplY3REaWRMb2FkXCIsIHRoaXMudG9nZ2xlWm9vbUdyaWRDb250cm9scyk7XG5cbiAgICAgICAgbGV0IGxlZnRUb29scyA9IFtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlWm9vbUJ1dHRvbnMoKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlR3JpZENvbnRyb2xzKClcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IHJpZ2h0VG9vbHMgPSBbXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVBhZ2VMYWJlbCgpLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3TWVudSgpXG4gICAgICAgIF07XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZUZ1bGxzY3JlZW4pXG4gICAgICAgICAgICByaWdodFRvb2xzLnB1c2godGhpcy5jcmVhdGVGdWxsc2NyZWVuQnV0dG9uKCkpO1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVHb3RvUGFnZSlcbiAgICAgICAgICAgIHJpZ2h0VG9vbHMuc3BsaWNlKDEsIDAsIHRoaXMuY3JlYXRlR290b1BhZ2VGb3JtKCkpO1xuXG4gICAgICAgIC8vIGFzc2lnbiB0b29sYmFyIHBsdWdpbnMgdG8gcHJvcGVyIHNpZGVcbiAgICAgICAgbGV0IHBsdWdpbnMgPSB0aGlzLnZpZXdlci52aWV3ZXJTdGF0ZS5wbHVnaW5JbnN0YW5jZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwbHVnaW5zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcGx1Z2luID0gcGx1Z2luc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFwbHVnaW4udG9vbGJhclNpZGUpIC8vIG5vdCBhIHRvb2xiYXIgdG9vbFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBwbHVnaW4udG9vbGJhckljb24gPSBwbHVnaW4uY3JlYXRlSWNvbigpO1xuICAgICAgICAgICAgaWYgKCFwbHVnaW4udG9vbGJhckljb24pIC8vIGljb24gY291bGRuJ3QgYmUgY3JlYXRlZFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBhZGQgcGx1Z2luIHRvb2xzIGFmdGVyIHRoZSBnby10by1wYWdlIGFuZCBwYWdlLWxhYmVsIHRvb2xzXG4gICAgICAgICAgICBpZiAocGx1Z2luLnRvb2xiYXJTaWRlID09PSAncmlnaHQnKVxuICAgICAgICAgICAgICAgIHJpZ2h0VG9vbHMuc3BsaWNlKDIsIDAsIHBsdWdpbi50b29sYmFySWNvbik7XG4gICAgICAgICAgICBlbHNlIGlmIChwbHVnaW4udG9vbGJhclNpZGUgPT09ICdsZWZ0JylcbiAgICAgICAgICAgICAgICBsZWZ0VG9vbHMuc3BsaWNlKDIsIDAsIHBsdWdpbi50b29sYmFySWNvbik7XG5cbiAgICAgICAgICAgIHBsdWdpbi50b29sYmFySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVBsdWdpbkNsaWNrLmJpbmQodGhpcywgcGx1Z2luKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVQbHVnaW5DbGljayAocGx1Z2luKVxuICAgICAgICB7XG4gICAgICAgICAgICBwbHVnaW4uaGFuZGxlQ2xpY2sodGhpcy52aWV3ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG9vbHMgPSBlbHQoJ2RpdicsIHRoaXMuX2VsZW1BdHRycygndG9vbHMnKSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB0aGlzLl9lbGVtQXR0cnMoJ3Rvb2xzLWxlZnQnKSwgbGVmdFRvb2xzKSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB0aGlzLl9lbGVtQXR0cnMoJ3Rvb2xzLXJpZ2h0JyksIHJpZ2h0VG9vbHMpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzLnRvb2xiYXJQYXJlbnRPYmplY3QuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnRvb2xiYXJQYXJlbnRPYmplY3QuZmlyc3RDaGlsZFxuICAgICAgICApO1xuICAgIH1cblxuICAgIF9jcmVhdGVUb29sYmFySWNvbiAocGF0aHMpXG4gICAge1xuICAgICAgICBsZXQgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgICAgICBpY29uLnNldEF0dHJpYnV0ZU5TKG51bGwsICd2aWV3Qm94JywgXCIwIDAgMjUgMjVcIik7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCAnMHB4Jyk7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3knLCAnMHB4Jyk7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0eWxlJywgXCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ4IDQ4O1wiKTtcblxuICAgICAgICBsZXQgZ2x5cGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIik7XG4gICAgICAgIGdseXBoLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidHJhbnNmb3JtXCIsIFwibWF0cml4KDEsIDAsIDAsIDEsIC0xMiwgLTEyKVwiKTtcblxuICAgICAgICBwYXRocy5mb3JFYWNoKCAocGF0aCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgICAgIHBFbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgcGF0aCk7XG4gICAgICAgICAgICBnbHlwaC5hcHBlbmRDaGlsZChwRWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpY29uLmFwcGVuZENoaWxkKGdseXBoKTtcbiAgICAgICAgcmV0dXJuIGljb247XG4gICAgfVxuXG4gICAgX2NyZWF0ZVpvb21PdXRJY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0xOS41LDIzYy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di0xYzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoN2MwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djFjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxOS41elwiLFxuICAgICAgICAgICAgXCJNMzcuMjE5LDM0LjI1N2wtMi4yMTMsMi4yMTJjLTAuMjAyLDAuMjAyLTAuNTM0LDAuMjAyLTAuNzM2LDBsLTYuMDk4LTYuMDk5Yy0xLjUzNywwLjk5My0zLjM2MiwxLjU3Ny01LjMyMywxLjU3N2MtNS40MzEsMC05Ljg0OS00LjQxOC05Ljg0OS05Ljg0OWMwLTUuNDMxLDQuNDE4LTkuODQ5LDkuODQ5LTkuODQ5YzUuNDMxLDAsOS44NDksNC40MTgsOS44NDksOS44NDljMCwxLjk2MS0wLjU4NCwzLjc4Ni0xLjU3Niw1LjMyM2w2LjA5OCw2LjA5OEMzNy40MjIsMzMuNzIyLDM3LjQyMiwzNC4wNTQsMzcuMjE5LDM0LjI1N3ogTTI5LjU2OCwyMi4wOTljMC0zLjcwNi0zLjAxNC02LjcyLTYuNzItNi43MmMtMy43MDYsMC02LjcyLDMuMDE0LTYuNzIsNi43MmMwLDMuNzA2LDMuMDE0LDYuNzIsNi43Miw2LjcyQzI2LjU1NSwyOC44MTgsMjkuNTY4LDI1LjgwNSwyOS41NjgsMjIuMDk5elwiXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlWm9vbUluSWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMzcuNDY5LDM0LjI1N2wtMi4yMTMsMi4yMTJjLTAuMjAyLDAuMjAyLTAuNTM0LDAuMjAyLTAuNzM2LDBsLTYuMDk4LTYuMDk5Yy0xLjUzNywwLjk5My0zLjM2MiwxLjU3Ny01LjMyMywxLjU3N2MtNS40MzEsMC05Ljg0OS00LjQxOC05Ljg0OS05Ljg0OWMwLTUuNDMxLDQuNDE4LTkuODQ5LDkuODQ5LTkuODQ5YzUuNDMxLDAsOS44NDksNC40MTgsOS44NDksOS44NDljMCwxLjk2MS0wLjU4NCwzLjc4Ni0xLjU3Niw1LjMyM2w2LjA5OCw2LjA5OEMzNy42NzIsMzMuNzIyLDM3LjY3MiwzNC4wNTQsMzcuNDY5LDM0LjI1N3ogTTI5LjgxOCwyMi4wOTljMC0zLjcwNi0zLjAxNC02LjcyLTYuNzItNi43MmMtMy43MDYsMC02LjcyLDMuMDE0LTYuNzIsNi43MmMwLDMuNzA2LDMuMDE0LDYuNzIsNi43Miw2LjcyQzI2LjgwNSwyOC44MTgsMjkuODE4LDI1LjgwNSwyOS44MTgsMjIuMDk5eiBNMjYuNSwyMUgyNHYtMi41YzAtMC4yNzUtMC4yMjUtMC41LTAuNS0wLjVoLTFjLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjVWMjFoLTIuNWMtMC4yNzUsMC0wLjUsMC4yMjUtMC41LDAuNXYxYzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVIMjJ2Mi41YzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVoMWMwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41VjIzaDIuNWMwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41di0xQzI3LDIxLjIyNSwyNi43NzUsMjEsMjYuNSwyMXpcIlxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVHcmlkTW9yZUljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTI5LjUsMzVjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwzNWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXogTTI5LjUsMjdjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDI3Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwyN2MtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXogTTI5LjUsMTljLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDE5Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwxOWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXpcIlxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVHcmlkRmV3ZXJJY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0yNS41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di05YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoOWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djljMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyNS41eiBNMjIuNSwzNWMwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41di05YzAtMC4yNzUtMC4yMjUtMC41LTAuNS0wLjVoLTljLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjV2OWMwLDAuMjc1LDAuMjI1LDAuNSwwLjUsMC41SDIyLjV6IE0zNC41LDIzYzAuMjc1LDAsMC41LTAuMjI1LDAuNS0wLjV2LTljMC0wLjI3NS0wLjIyNS0wLjUtMC41LTAuNWgtOWMtMC4yNzUsMC0wLjUsMC4yMjUtMC41LDAuNXY5YzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVIMzQuNXogTTIyLjUsMjNjMC4yNzUsMCwwLjUtMC4yMjUsMC41LTAuNXYtOWMwLTAuMjc1LTAuMjI1LTAuNS0wLjUtMC41aC05Yy0wLjI3NSwwLTAuNSwwLjIyNS0wLjUsMC41djljMCwwLjI3NSwwLjIyNSwwLjUsMC41LDAuNUgyMi41elwiXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUdyaWRWaWV3SWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMjkuNSwzNWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMzVjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41eiBNMjkuNSwyN2MtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMjdjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDI3Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41eiBNMjkuNSwxOWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMTljLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDE5Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41elwiXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUJvb2tWaWV3SWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMzUsMTYuOHYtMS4zMjNjMCwwLTIuMjkyLTEuMzI4LTUuNzQtMS4zMjhjLTMuNDQ4LDAtNS4yNiwxLjI1LTUuMjYsMS4yNXMtMS44MTMtMS4yNS01LjI2LTEuMjVjLTMuNDQ4LDAtNS43NCwxLjMyOC01Ljc0LDEuMzI4VjE2LjhsLTEsMC41MzF2MC4wMjF2MTUuNjg3YzAsMCw0LjUzMS0xLjU3OCw2Ljk5OS0xLjU3OGMyLjQ2OCwwLDUuMDAxLDAuODg1LDUuMDAxLDAuODg1czIuNTMyLTAuODg1LDUtMC44ODVjMC4zMDYsMCwwLjY0MywwLjAyNCwxLDAuMDY2djQuMzI1bDEuNTMxLTIuMDE2TDMzLDM1Ljg1MnYtMy43MmMyLDAuNDMsMywwLjkwNiwzLDAuOTA2VjE3LjM1MnYtMC4wMjFMMzUsMTYuOHogTTIzLDI5LjAzYy0xLTAuMjkyLTIuNTg0LTAuNjc5LTMuOTgxLTAuNjc5Yy0yLjI0NiwwLTMuMDE5LDAuNDA0LTQuMDE5LDAuNjk5VjE2LjYzNGMwLDAsMS4xMjUtMC42OTksNC4wMTktMC42OTljMS42OTQsMCwyLjk4MSwwLjQxNywzLjk4MSwxLjEyNlYyOS4wM3ogTTMzLDI5LjA1MWMtMS0wLjI5NS0xLjc3My0wLjY5OS00LjAyLTAuNjk5Yy0xLjM5NiwwLTIuOTgxLDAuMzg3LTMuOTgsMC42NzlWMTcuMDZjMS0wLjcwOSwyLjI4Ni0xLjEyNiwzLjk4LTEuMTI2YzIuODk1LDAsNC4wMiwwLjY5OSw0LjAyLDAuNjk5VjI5LjA1MXpcIlxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVQYWdlVmlld0ljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTI5LjQyNSwyOWg0LjQ3TDI5LDMzLjkzNHYtNC40N0MyOSwyOS4xOSwyOS4xNTEsMjksMjkuNDI1LDI5eiBNMzQsMTQuNTYzVjI4aC01LjU2OUMyOC4xNTcsMjgsMjgsMjguMTk2LDI4LDI4LjQ3VjM0SDE0LjQ5N0MxNC4yMjMsMzQsMTQsMzMuNzEsMTQsMzMuNDM3VjE0LjU2M0MxNCwxNC4yOSwxNC4yMjMsMTQsMTQuNDk3LDE0aDE4LjlDMzMuNjcyLDE0LDM0LDE0LjI5LDM0LDE0LjU2M3ogTTI1LjQ5NywyNi40OTdDMjUuNDk3LDI2LjIyMywyNS4yNzUsMjYsMjUsMjZoLTdjLTAuMjc1LDAtMC40OTcsMC4yMjMtMC40OTcsMC40OTd2MS4wMDZDMTcuNTAzLDI3Ljc3NywxNy43MjUsMjgsMTgsMjhoN2MwLjI3NSwwLDAuNDk3LTAuMjIzLDAuNDk3LTAuNDk3VjI2LjQ5N3ogTTMwLjQ5NywyMi40OTdDMzAuNDk3LDIyLjIyMywzMC4yNzUsMjIsMzAsMjJIMThjLTAuMjc1LDAtMC40OTcsMC4yMjMtMC40OTcsMC40OTd2MS4wMDZDMTcuNTAzLDIzLjc3NywxNy43MjUsMjQsMTgsMjRoMTJjMC4yNzUsMCwwLjQ5Ny0wLjIyMywwLjQ5Ny0wLjQ5N1YyMi40OTd6IE0zMC40OTcsMTguNDk3QzMwLjQ5NywxOC4yMjMsMzAuMjc1LDE4LDMwLDE4SDE4Yy0wLjI3NSwwLTAuNDk3LDAuMjIzLTAuNDk3LDAuNDk3djEuMDA2QzE3LjUwMywxOS43NzcsMTcuNzI1LDIwLDE4LDIwaDEyYzAuMjc1LDAsMC40OTctMC4yMjMsMC40OTctMC40OTdWMTguNDk3elwiXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlRnVsbHNjcmVlbkljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTM1LDEySDEzYy0wLjU1LDAtMSwwLjQ1LTEsMXYyMmMwLDAuNTUsMC40NSwxLDEsMWgyMmMwLjU1LDAsMS0wLjQ1LDEtMVYxM0MzNiwxMi40NSwzNS41NSwxMiwzNSwxMnogTTM0LDM0SDE0VjE0aDIwVjM0elwiLFxuICAgICAgICAgICAgXCJNMTcsMjEuNzV2LTQuNWMwLTAuMTM4LDAuMTEyLTAuMjUsMC4yNS0wLjI1aDQuNWMwLjEzOCwwLDAuMTcsMC4wOCwwLjA3MywwLjE3N2wtMS42MTYsMS42MTZsMS44MjMsMS44MjNjMC4wOTcsMC4wOTcsMC4wOTcsMC4yNTYsMCwwLjM1NGwtMS4wNjEsMS4wNmMtMC4wOTcsMC4wOTctMC4yNTYsMC4wOTctMC4zNTQsMGwtMS44MjMtMS44MjNsLTEuNjE2LDEuNjE2QzE3LjA4LDIxLjkyLDE3LDIxLjg4OCwxNywyMS43NXogTTIwLjk3LDI1Ljk3Yy0wLjA5Ny0wLjA5Ny0wLjI1Ni0wLjA5Ny0wLjM1NCwwbC0xLjgyMywxLjgyM2wtMS42MTYtMS42MTZDMTcuMDgsMjYuMDgsMTcsMjYuMTEyLDE3LDI2LjI1djQuNWMwLDAuMTM4LDAuMTEyLDAuMjUsMC4yNSwwLjI1aDQuNWMwLjEzOCwwLDAuMTctMC4wOCwwLjA3My0wLjE3N2wtMS42MTYtMS42MTZsMS44MjMtMS44MjNjMC4wOTctMC4wOTcsMC4wOTctMC4yNTYsMC0wLjM1NEwyMC45NywyNS45N3ogTTMwLjc1LDE3aC00LjVjLTAuMTM4LDAtMC4xNywwLjA4LTAuMDczLDAuMTc3bDEuNjE2LDEuNjE2bC0xLjgyMywxLjgyM2MtMC4wOTcsMC4wOTctMC4wOTcsMC4yNTYsMCwwLjM1NGwxLjA2MSwxLjA2YzAuMDk3LDAuMDk3LDAuMjU2LDAuMDk3LDAuMzU0LDBsMS44MjMtMS44MjNsMS42MTYsMS42MTZDMzAuOTIsMjEuOTIsMzEsMjEuODg4LDMxLDIxLjc1di00LjVDMzEsMTcuMTEyLDMwLjg4OCwxNywzMC43NSwxN3ogTTMwLjgyMywyNi4xNzdsLTEuNjE2LDEuNjE2bC0xLjgyMy0xLjgyM2MtMC4wOTctMC4wOTctMC4yNTYtMC4wOTctMC4zNTQsMGwtMS4wNjEsMS4wNmMtMC4wOTcsMC4wOTctMC4wOTcsMC4yNTYsMCwwLjM1NGwxLjgyMywxLjgyM2wtMS42MTYsMS42MTZDMjYuMDgsMzAuOTIsMjYuMTEyLDMxLDI2LjI1LDMxaDQuNWMwLjEzOCwwLDAuMjUtMC4xMTIsMC4yNS0wLjI1di00LjVDMzEsMjYuMTEyLDMwLjkyLDI2LjA4LDMwLjgyMywyNi4xNzd6IE0yNiwyMi41YzAtMC4yNzUtMC4yMjUtMC41LTAuNS0wLjVoLTNjLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjV2M2MwLDAuMjc1LDAuMjI1LDAuNSwwLjUsMC41aDNjMC4yNzUsMCwwLjUtMC4yMjUsMC41LTAuNVYyMi41elwiXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG59XG4iLCJsZXQgSGFzaFBhcmFtcyA9IHtcbiAgICBnZXQ6IGdldEhhc2hQYXJhbSxcbiAgICB1cGRhdGU6IHVwZGF0ZUhhc2hQYXJhbVxufTtcblxuZXhwb3J0IGRlZmF1bHQgSGFzaFBhcmFtcztcblxuXG4vLyBGb3IgZ2V0dGluZyB0aGUgI2tleSB2YWx1ZXMgZnJvbSB0aGUgVVJMLiBGb3Igc3BlY2lmeWluZyBhIHBhZ2UgYW5kIHpvb20gbGV2ZWxcbi8vIExvb2sgaW50byBjYWNoaW5nLCBiZWNhdXNlIHdlIG9ubHkgbmVlZCB0byBnZXQgdGhpcyBkdXJpbmcgdGhlIGluaXRpYWwgbG9hZFxuLy8gQWx0aG91Z2ggZm9yIHRoZSB0ZXN0cyBJIGd1ZXNzIHdlIHdvdWxkIG5lZWQgdG8gb3ZlcnJpZGUgY2FjaGluZyBzb21laG93XG5mdW5jdGlvbiBnZXRIYXNoUGFyYW0gKGtleSlcbntcbiAgICBjb25zdCBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cbiAgICBpZiAoaGFzaCAhPT0gJycpXG4gICAge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBzb21ldGhpbmcgdGhhdCBsb29rcyBsaWtlIGVpdGhlciAma2V5PSBvciAja2V5PVxuICAgICAgICBsZXQgc3RhcnRJbmRleCA9IChoYXNoLmluZGV4T2YoJyYnICsga2V5ICsgJz0nKSA+IDApID8gaGFzaC5pbmRleE9mKCcmJyArIGtleSArICc9JykgOiBoYXNoLmluZGV4T2YoJyMnICsga2V5ICsgJz0nKTtcblxuICAgICAgICAvLyBJZiBzdGFydEluZGV4IGlzIHN0aWxsIC0xLCBpdCBtZWFucyBpdCBjYW4ndCBmaW5kIGVpdGhlclxuICAgICAgICBpZiAoc3RhcnRJbmRleCA+PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIGxlbmd0aCBvZiB0aGUga2V5IHBsdXMgdGhlICYgYW5kID1cbiAgICAgICAgICAgIHN0YXJ0SW5kZXggKz0ga2V5Lmxlbmd0aCArIDI7XG5cbiAgICAgICAgICAgIC8vIEVpdGhlciB0byB0aGUgbmV4dCBhbXBlcnNhbmQgb3IgdG8gdGhlIGVuZCBvZiB0aGUgc3RyaW5nXG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IGhhc2guaW5kZXhPZignJicsIHN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgaWYgKGVuZEluZGV4ID4gc3RhcnRJbmRleClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGhhc2guc3Vic3RyaW5nKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbmRJbmRleCA8IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB0aGlzIGhhc2ggcGFyYW0gaXMgdGhlIGxhc3Qgb25lXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChoYXNoLnN1YnN0cmluZyhzdGFydEluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUga2V5IGRvZXNuJ3QgaGF2ZSBhIHZhbHVlIEkgdGhpbmtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIGl0IGNhbid0IGZpbmQgdGhlIGtleVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBoYXNoIHBhcmFtcyBqdXN0IHJldHVybiBmYWxzZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVIYXNoUGFyYW0gKGtleSwgdmFsdWUpXG57XG4gICAgLy8gRmlyc3QgbWFrZSBzdXJlIHRoYXQgd2UgaGF2ZSB0byBkbyBhbnkgd29yayBhdCBhbGxcbiAgICBjb25zdCBvcmlnaW5hbFZhbHVlID0gZ2V0SGFzaFBhcmFtKGtleSk7XG4gICAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXG4gICAgaWYgKG9yaWdpbmFsVmFsdWUgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgLy8gSXMgdGhlIGtleSBhbHJlYWR5IGluIHRoZSBVUkw/XG4gICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxWYWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEFscmVhZHkgaW4gdGhlIFVSTC4gSnVzdCBnZXQgcmlkIG9mIHRoZSBvcmlnaW5hbCB2YWx1ZVxuICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IChoYXNoLmluZGV4T2YoJyYnICsga2V5ICsgJz0nKSA+IDApID8gaGFzaC5pbmRleE9mKCcmJyArIGtleSArICc9JykgOiBoYXNoLmluZGV4T2YoJyMnICsga2V5ICsgJz0nKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gc3RhcnRJbmRleCArIGtleS5sZW5ndGggKyAyICsgb3JpZ2luYWxWYWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAvLyAjIGlmIGl0J3MgdGhlIGZpcnN0LCAmIG90aGVyd2lzZVxuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaGluZyA9IChzdGFydEluZGV4ID09PSAwKSA/ICcjJyA6ICcmJztcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhhc2guc3Vic3RyaW5nKDAsIHN0YXJ0SW5kZXgpICsgc3RhcnRUaGluZyArIGtleSArICc9JyArIHZhbHVlICsgaGFzaC5zdWJzdHJpbmcoZW5kSW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEl0J3Mgbm90IHByZXNlbnQgLSBhZGQgaXRcbiAgICAgICAgICAgIGlmIChoYXNoLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnIycgKyBrZXkgKyAnPScgKyB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gQXBwZW5kIGl0XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaGFzaCArICcmJyArIGtleSArICc9JyArIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCAnLi91dGlscy92YW5pbGxhLmtpbmV0aWMnO1xuaW1wb3J0ICcuL3V0aWxzL2RyYWdzY3JvbGwnO1xuaW1wb3J0IHsgZWx0IH0gZnJvbSBcIi4vdXRpbHMvZWx0XCI7XG5pbXBvcnQge1xuICAgIERpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb24sXG4gICAgTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb24sXG4gICAgT2JqZWN0RGF0YU5vdFN1cHBsaWVkRXhjZXB0aW9uXG59IGZyb20gXCIuL2V4Y2VwdGlvbnNcIjtcbmltcG9ydCBkaXZhIGZyb20gXCIuL2RpdmEtZ2xvYmFsXCI7XG5pbXBvcnQgVmlld2VyQ29yZSBmcm9tIFwiLi92aWV3ZXItY29yZVwiO1xuaW1wb3J0IEltYWdlTWFuaWZlc3QgZnJvbSBcIi4vaW1hZ2UtbWFuaWZlc3RcIjtcbmltcG9ydCBUb29sYmFyIGZyb20gXCIuL3Rvb2xiYXJcIjtcbmltcG9ydCBIYXNoUGFyYW1zIGZyb20gXCIuL3V0aWxzL2hhc2gtcGFyYW1zXCI7XG5cblxuLyoqXG4gKiBUaGUgdG9wLWxldmVsIGNsYXNzIGZvciBEaXZhIG9iamVjdHMuIFRoaXMgaXMgaW5zdGFudGlhdGVkIGJ5IHBhc3NpbmcgaW4gYW4gSFRNTCBlbGVtZW50XG4gKiBJRCBvciBIVE1MIEVsZW1lbnQgbm9kZSBhbmQgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBsaXN0IG9mIG9wdGlvbnMsIG9mIHdoaWNoIHRoZSAnb2JqZWN0RGF0YSdcbiAqIG9wdGlvbiBpcyByZXF1aXJlZCBhbmQgd2hpY2ggbXVzdCBwb2ludCB0byBhIElJSUYgUHJlc2VudGF0aW9uIEFQSSBNYW5pZmVzdDpcbiAqXG4gKiB2YXIgZGl2YSA9IG5ldyBEaXZhKCdlbGVtZW50LWlkJywge1xuICogICAgIG9iamVjdERhdGE6IFwiaHR0cDovL2V4YW1wbGUuY29tL2lpaWYtbWFuaWZlc3QuanNvblwiXG4gKiB9KTtcbiAqXG4gKiBUaGlzIGNsYXNzIGFsc28gc2VydmVzIGFzIHRoZSBlbnRyeSBwb2ludCBmb3IgdGhlIEV2ZW50cyBzeXN0ZW0sIGluIHdoaWNoIGFwcGxpY2F0aW9ucyBjYW4gc3Vic2NyaWJlXG4gKiB0byBub3RpZmljYXRpb25zIHNlbnQgZnJvbSBEaXZhIGluc3RhbmNlczpcbiAqXG4gKiBEaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1Zpc2libGVQYWdlRGlkQ2hhbmdlJywgZnVuY3Rpb24gKCkgeyBjb25zb2xlLmxvZyhcIlZpc2libGUgUGFnZSBDaGFuZ2VkXCIpOyB9KTtcbiAqXG4gKlxuICpcbiAqKi9cbmNsYXNzIERpdmFcbntcbiAgICBjb25zdHJ1Y3RvciAoZWxlbWVudCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8qXG4gICAgICAgICAqIElmIGEgc3RyaW5nIGlzIHBhc3NlZCBpbiwgY29udmVydCB0aGF0IHRvIGFuIGVsZW1lbnQuXG4gICAgICAgICAqICovXG4gICAgICAgIGlmICghKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50ID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBEaXZhUGFyZW50RWxlbWVudE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMub2JqZWN0RGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbignWW91IG11c3Qgc3VwcGx5IGVpdGhlciBhIFVSTCBvciBhIGxpdGVyYWwgb2JqZWN0IHRvIHRoZSBgb2JqZWN0RGF0YWAga2V5LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBhZGFwdGl2ZVBhZGRpbmc6IDAuMDUsICAgICAgLy8gVGhlIHJhdGlvIG9mIHBhZGRpbmcgdG8gdGhlIHBhZ2UgZGltZW5zaW9uXG4gICAgICAgICAgICBhcnJvd1Njcm9sbEFtb3VudDogNDAsICAgICAgLy8gVGhlIGFtb3VudCAoaW4gcGl4ZWxzKSB0byBzY3JvbGwgYnkgd2hlbiB1c2luZyBhcnJvdyBrZXlzXG4gICAgICAgICAgICBibG9ja01vYmlsZU1vdmU6IGZhbHNlLCAgICAgLy8gUHJldmVudCBtb3Zpbmcgb3Igc2Nyb2xsaW5nIHRoZSBwYWdlIG9uIG1vYmlsZSBkZXZpY2VzXG4gICAgICAgICAgICBvYmplY3REYXRhOiAnJywgICAgICAgICAgICAgLy8gQSBJSUlGIE1hbmlmZXN0IG9yIGEgSlNPTiBmaWxlIGdlbmVyYXRlZCBieSBwcm9jZXNzLnB5IHRoYXQgcHJvdmlkZXMgdGhlIG9iamVjdCBkaW1lbnNpb24gZGF0YSwgb3IgYSBVUkwgcG9pbnRpbmcgdG8gc3VjaCBkYXRhIC0gKlJFUVVJUkVEKlxuICAgICAgICAgICAgZW5hYmxlQXV0b1RpdGxlOiB0cnVlLCAgICAgIC8vIFNob3dzIHRoZSB0aXRsZSB3aXRoaW4gYSBkaXYgb2YgaWQgZGl2YS10aXRsZVxuICAgICAgICAgICAgZW5hYmxlRmlsZW5hbWU6IHRydWUsICAgICAgIC8vIFVzZXMgZmlsZW5hbWVzIGFuZCBub3QgcGFnZSBudW1iZXJzIGZvciBsaW5rcyAoaT1ibV8wMDEudGlmLCBub3QgcD0xKVxuICAgICAgICAgICAgZW5hYmxlRnVsbHNjcmVlbjogdHJ1ZSwgICAgIC8vIEVuYWJsZSBvciBkaXNhYmxlIGZ1bGxzY3JlZW4gaWNvbiAobW9kZSBzdGlsbCBhdmFpbGFibGUpXG4gICAgICAgICAgICBlbmFibGVHb3RvUGFnZTogdHJ1ZSwgICAgICAgLy8gQSBcImdvIHRvIHBhZ2VcIiBqdW1wIGJveFxuICAgICAgICAgICAgZW5hYmxlR290b1N1Z2dlc3Rpb25zOiB0cnVlLCAvLyBDb250cm9scyB3aGV0aGVyIHN1Z2dlc3Rpb25zIGFyZSBzaG93biB1bmRlciB0aGUgaW5wdXQgZmllbGQgd2hlbiB0aGUgdXNlciBpcyB0eXBpbmcgaW4gdGhlICdnbyB0byBwYWdlJyBmb3JtXG4gICAgICAgICAgICBlbmFibGVHcmlkSWNvbjogdHJ1ZSwgICAgICAgLy8gQSBncmlkIHZpZXcgb2YgYWxsIHRoZSBwYWdlc1xuICAgICAgICAgICAgZW5hYmxlR3JpZENvbnRyb2xzOiAnYnV0dG9ucycsICAvLyBTcGVjaWZ5IGNvbnRyb2wgb2YgcGFnZXMgcGVyIGdyaWQgcm93IGluIEdyaWQgdmlldy4gUG9zc2libGUgdmFsdWVzOiAnYnV0dG9ucycgKCsvLSksICdzbGlkZXInLiBBbnkgb3RoZXIgdmFsdWUgZGlzYWJsZXMgdGhlIGNvbnRyb2xzLlxuICAgICAgICAgICAgZW5hYmxlSW1hZ2VUaXRsZXM6IHRydWUsICAgIC8vIEFkZHMgXCJQYWdlIHtufVwiIHRpdGxlIHRvIHBhZ2UgaW1hZ2VzIGlmIHRydWVcbiAgICAgICAgICAgIGVuYWJsZUluZGV4QXNMYWJlbDogZmFsc2UsICAvLyBVc2UgaW5kZXggbnVtYmVycyBpbnN0ZWFkIG9mIHBhZ2UgbGFiZWxzIGluIHRoZSBwYWdlIG4tbSBkaXNwbGF5LlxuICAgICAgICAgICAgZW5hYmxlS2V5U2Nyb2xsOiB0cnVlLCAgICAgIC8vIENhcHR1cmVzIHNjcm9sbGluZyB1c2luZyB0aGUgYXJyb3cgYW5kIHBhZ2UgdXAvZG93biBrZXlzIHJlZ2FyZGxlc3Mgb2YgcGFnZSBmb2N1cy4gV2hlbiBvZmYsIGRlZmVycyB0byBkZWZhdWx0IGJyb3dzZXIgc2Nyb2xsaW5nIGJlaGF2aW9yLlxuICAgICAgICAgICAgZW5hYmxlTGlua0ljb246IHRydWUsICAgICAgIC8vIENvbnRyb2xzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsaW5rIGljb25cbiAgICAgICAgICAgIGVuYWJsZU5vblBhZ2VkVmlzaWJpbGl0eUljb246IHRydWUsIC8vIENvbnRyb2xzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBpY29uIHRvIHRvZ2dsZSB0aGUgdmlzaWJpbGl0eSBvZiBub24tcGFnZWQgcGFnZXMuIChBdXRvbWF0aWNhbGx5IGhpZGRlbiBpZiBubyAnbm9uLXBhZ2VkJyBwYWdlcykuXG4gICAgICAgICAgICBlbmFibGVTcGFjZVNjcm9sbDogZmFsc2UsICAgLy8gU2Nyb2xsaW5nIGRvd24gYnkgcHJlc3NpbmcgdGhlIHNwYWNlIGtleVxuICAgICAgICAgICAgZW5hYmxlVG9vbGJhcjogdHJ1ZSwgICAgICAgIC8vIEVuYWJsZXMgdGhlIHRvb2xiYXIuIE5vdGUgdGhhdCBkaXNhYmxpbmcgdGhpcyBtZWFucyB5b3UgaGF2ZSB0byBoYW5kbGUgYWxsIGNvbnRyb2xzIHlvdXJzZWxmLlxuICAgICAgICAgICAgZW5hYmxlWm9vbUNvbnRyb2xzOiAnYnV0dG9ucycsIC8vIFNwZWNpZnkgY29udHJvbHMgZm9yIHpvb21pbmcgaW4gYW5kIG91dC4gUG9zc2libGUgdmFsdWVzOiAnYnV0dG9ucycgKCsvLSksICdzbGlkZXInLiBBbnkgb3RoZXIgdmFsdWUgZGlzYWJsZXMgdGhlIGNvbnRyb2xzLlxuICAgICAgICAgICAgZmlsbFBhcmVudEhlaWdodDogdHJ1ZSwgICAgIC8vIFVzZSBhIGZsZXhib3ggbGF5b3V0IHRvIGFsbG93IERpdmEgdG8gZmlsbCBpdHMgcGFyZW50J3MgaGVpZ2h0XG4gICAgICAgICAgICBmaXhlZFBhZGRpbmc6IDEwLCAgICAgICAgICAgLy8gRmFsbGJhY2sgaWYgYWRhcHRpdmUgcGFkZGluZyBpcyBzZXQgdG8gMFxuICAgICAgICAgICAgZml4ZWRIZWlnaHRHcmlkOiB0cnVlLCAgICAgIC8vIFNvIGVhY2ggcGFnZSBpbiBncmlkIHZpZXcgaGFzIHRoZSBzYW1lIGhlaWdodCAob25seSB3aWR0aHMgZGlmZmVyKVxuICAgICAgICAgICAgZ29EaXJlY3RseVRvOiAwLCAgICAgICAgICAgIC8vIERlZmF1bHQgaW5pdGlhbCBwYWdlIHRvIHNob3cgKDAtaW5kZXhlZClcbiAgICAgICAgICAgIGhhc2hQYXJhbVN1ZmZpeDogbnVsbCwgICAgICAvLyBVc2VkIHdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGRvY3VtZW50IHZpZXdlcnMgb24gYSBwYWdlXG4gICAgICAgICAgICBpbWFnZUNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJywgLy8gU2V0IGNyb3NzT3JpZ2luIHByb3BlcnR5IGZvciBpbWFnZSByZXF1ZXN0c1xuICAgICAgICAgICAgaW5GdWxsc2NyZWVuOiBmYWxzZSwgICAgICAgIC8vIFNldCB0byB0cnVlIHRvIGxvYWQgZnVsbHNjcmVlbiBtb2RlIGluaXRpYWxseVxuICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZSwgICAgICAgLy8gU2V0IHRvIHRydWUgdG8gdmlldyB0aGUgZG9jdW1lbnQgd2l0aCBmYWNpbmcgcGFnZXMgaW4gZG9jdW1lbnQgbW9kZVxuICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSwgICAgICAgICAgICAgIC8vIFNldCB0byB0cnVlIHRvIGxvYWQgZ3JpZCB2aWV3IGluaXRpYWxseVxuICAgICAgICAgICAgbWF4UGFnZXNQZXJSb3c6IDgsICAgICAgICAgIC8vIE1heGltdW0gbnVtYmVyIG9mIHBhZ2VzIHBlciByb3cgaW4gZ3JpZCB2aWV3XG4gICAgICAgICAgICBtYXhab29tTGV2ZWw6IC0xLCAgICAgICAgICAgLy8gT3B0aW9uYWw7IGRlZmF1bHRzIHRvIHRoZSBtYXggem9vbSByZXR1cm5lZCBpbiB0aGUgSlNPTiByZXNwb25zZVxuICAgICAgICAgICAgbWluUGFnZXNQZXJSb3c6IDIsICAgICAgICAgIC8vIE1pbmltdW0gcGFnZXMgcGVyIHJvdyBpbiBncmlkIHZpZXcuIFJlY29tbWVuZGVkIGRlZmF1bHQuXG4gICAgICAgICAgICBtaW5ab29tTGV2ZWw6IDAsICAgICAgICAgICAgLy8gRGVmYXVsdHMgdG8gMCAodGhlIG1pbmltdW0gem9vbSlcbiAgICAgICAgICAgIG9uR290b1N1Ym1pdDogbnVsbCwgICAgICAgICAvLyBXaGVuIHNldCB0byBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBzdHJpbmcgYW5kIHJldHVybnMgYSBwYWdlIGluZGV4LCB0aGlzIHdpbGwgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIHRoZSAnZ28gdG8gcGFnZScgZm9ybSBzdWJtaXNzaW9uXG4gICAgICAgICAgICBwYWdlQWxpYXNlczoge30sICAgICAgICAgICAgLy8gQW4gb2JqZWN0IG1hcHBpbmcgc3BlY2lmaWMgcGFnZSBpbmRpY2VzIHRvIGFsaWFzZXMgKGhhcyBwcmlvcml0eSBvdmVyICdwYWdlQWxpYXNGdW5jdGlvbidcbiAgICAgICAgICAgIHBhZ2VBbGlhc0Z1bmN0aW9uOiBmdW5jdGlvbigpe3JldHVybiBmYWxzZTt9LCAgLy8gQSBmdW5jdGlvbiBtYXBwaW5nIHBhZ2UgaW5kaWNlcyB0byBhbiBhbGlhcy4gSWYgZmFsc2UgaXMgcmV0dXJuZWQsIGRlZmF1bHQgcGFnZSBudW1iZXIgaXMgZGlzcGxheWVkXG4gICAgICAgICAgICBwYWdlTG9hZFRpbWVvdXQ6IDIwMCwgICAgICAgLy8gTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBsb2FkaW5nIHBhZ2VzXG4gICAgICAgICAgICBwYWdlc1BlclJvdzogNSwgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgbnVtYmVyIG9mIHBhZ2VzIHBlciByb3cgaW4gZ3JpZCB2aWV3XG4gICAgICAgICAgICByZXF1ZXN0SGVhZGVyczoge1wiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvblwifSwgLy8gRGVmYXVsdCBoZWFkZXIgc2VudCBvZmYgdG8gdGhlIHNlcnZlciBpbiBjb250ZW50IG5lZ290aWF0aW9uXG4gICAgICAgICAgICBzaG93Tm9uUGFnZWRQYWdlczogZmFsc2UsICAgLy8gV2hldGhlciBwYWdlcyB0YWdnZWQgYXMgJ25vbi1wYWdlZCcgKGluIElJSUYgbWFuaWZlc3RzIG9ubHkpIHNob3VsZCBiZSB2aXNpYmxlIGFmdGVyIGluaXRpYWwgbG9hZFxuICAgICAgICAgICAgdGhyb2JiZXJUaW1lb3V0OiAxMDAsICAgICAgIC8vIE51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgc2hvd2luZyB0aHJvYmJlclxuICAgICAgICAgICAgdGlsZUhlaWdodDogMjU2LCAgICAgICAgICAgIC8vIFRoZSBoZWlnaHQgb2YgZWFjaCB0aWxlLCBpbiBwaXhlbHM7IHVzdWFsbHkgMjU2XG4gICAgICAgICAgICB0aWxlV2lkdGg6IDI1NiwgICAgICAgICAgICAgLy8gVGhlIHdpZHRoIG9mIGVhY2ggdGlsZSwgaW4gcGl4ZWxzOyB1c3VhbGx5IDI1NlxuICAgICAgICAgICAgdG9vbGJhclBhcmVudE9iamVjdDogbnVsbCwgIC8vIFRoZSB0b29sYmFyIHBhcmVudCBvYmplY3QuXG4gICAgICAgICAgICB2ZXJ0aWNhbGx5T3JpZW50ZWQ6IHRydWUsICAgLy8gRGV0ZXJtaW5lcyB2ZXJ0aWNhbCB2cy4gaG9yaXpvbnRhbCBvcmllbnRhdGlvblxuICAgICAgICAgICAgdmlld3BvcnRNYXJnaW46IDIwMCwgICAgICAgIC8vIFByZXRlbmQgdGlsZXMgKy8tIDIwMHB4IGF3YXkgZnJvbSB2aWV3cG9ydCBhcmUgaW5cbiAgICAgICAgICAgIHpvb21MZXZlbDogMiAgICAgICAgICAgICAgICAvLyBUaGUgaW5pdGlhbCB6b29tIGxldmVsICh1c2VkIHRvIHN0b3JlIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwpXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIEluIG9yZGVyIHRvIGZpbGwgdGhlIGhlaWdodCwgdXNlIGEgd3JhcHBlciBkaXYgZGlzcGxheWVkIHVzaW5nIGEgZmxleGJveCBsYXlvdXRcbiAgICAgICAgY29uc3Qgd3JhcHBlckVsZW1lbnQgPSBlbHQoJ2RpdicsIHtcbiAgICAgICAgICAgIGNsYXNzOiBgZGl2YS13cmFwcGVyJHt0aGlzLm9wdGlvbnMuZmlsbFBhcmVudEhlaWdodCA/IFwiIGRpdmEtd3JhcHBlci1mbGV4Ym94XCIgOiBcIlwifWBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHdyYXBwZXJFbGVtZW50KTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMudG9vbGJhclBhcmVudE9iamVjdCA9IHRoaXMub3B0aW9ucy50b29sYmFyUGFyZW50T2JqZWN0IHx8IHdyYXBwZXJFbGVtZW50O1xuXG4gICAgICAgIGNvbnN0IHZpZXdlckNvcmUgPSBuZXcgVmlld2VyQ29yZSh3cmFwcGVyRWxlbWVudCwgdGhpcy5vcHRpb25zLCB0aGlzKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlID0gdmlld2VyQ29yZS5nZXRJbnRlcm5hbFN0YXRlKCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB2aWV3ZXJDb3JlLmdldFNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMudG9vbGJhciA9IHRoaXMuc2V0dGluZ3MuZW5hYmxlVG9vbGJhciA/IG5ldyBUb29sYmFyKHRoaXMpIDogbnVsbDtcblxuICAgICAgICB3cmFwcGVyRWxlbWVudC5pZCA9IHRoaXMuc2V0dGluZ3MuSUQgKyAnd3JhcHBlcic7XG5cbiAgICAgICAgdGhpcy5kaXZhU3RhdGUgPSB7XG4gICAgICAgICAgICB2aWV3ZXJDb3JlOiB2aWV3ZXJDb3JlLFxuICAgICAgICAgICAgdG9vbGJhcjogdGhpcy50b29sYmFyXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgdGhlIHRvb2xiYXIgYWZ0ZXIgdGhlIG9iamVjdCBoYXMgYmVlbiBsb2FkZWRcbiAgICAgICAgbGV0IGhhbmRsZSA9IGRpdmEuRXZlbnRzLnN1YnNjcmliZSgnT2JqZWN0RGlkTG9hZCcsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvb2xiYXIgIT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy50b29sYmFyLnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXZhLkV2ZW50cy51bnN1YnNjcmliZShoYW5kbGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmhhc2hTdGF0ZSA9IHRoaXMuX2dldEhhc2hQYXJhbVN0YXRlKCk7XG5cbiAgICAgICAgdGhpcy5fbG9hZE9yRmV0Y2hPYmplY3REYXRhKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2xvYWRPckZldGNoT2JqZWN0RGF0YSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLm9iamVjdERhdGEgPT09ICdvYmplY3QnKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBEZWZlciBleGVjdXRpb24gdW50aWwgaW5pdGlhbGl6YXRpb24gaGFzIGNvbXBsZXRlZFxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRPYmplY3REYXRhKHRoaXMuc2V0dGluZ3Mub2JqZWN0RGF0YSwgdGhpcy5oYXNoU3RhdGUpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwZW5kaW5nTWFuaWZlc3RSZXF1ZXN0ID0gZmV0Y2godGhpcy5zZXR0aW5ncy5vYmplY3REYXRhLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5zZXR0aW5ncy5yZXF1ZXN0SGVhZGVyc1xuICAgICAgICAgICAgfSkudGhlbiggKHJlc3BvbnNlKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIG1hbmlmZXN0IGxvYWQgZXJyb3IgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgZGl2YS5FdmVudHMucHVibGlzaCgnTWFuaWZlc3RGZXRjaEVycm9yJywgW3Jlc3BvbnNlXSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWpheEVycm9yKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgICAgICB9KS50aGVuKCAoZGF0YSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkT2JqZWN0RGF0YShkYXRhLCB0aGlzLmhhc2hTdGF0ZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIHBlbmRpbmcgcmVxdWVzdCBzbyB0aGF0IGl0IGNhbiBiZSBjYW5jZWxsZWQgaW4gdGhlIGV2ZW50IHRoYXQgRGl2YSBuZWVkcyB0byBiZSBkZXN0cm95ZWRcbiAgICAgICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuc2V0UGVuZGluZ01hbmlmZXN0UmVxdWVzdChwZW5kaW5nTWFuaWZlc3RSZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9zaG93RXJyb3IgKG1lc3NhZ2UpXG4gICAge1xuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLnNob3dFcnJvcihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX2FqYXhFcnJvciAocmVzcG9uc2UpXG4gICAge1xuICAgICAgICAvLyBTaG93IGEgYmFzaWMgZXJyb3IgbWVzc2FnZSB3aXRoaW4gdGhlIGRvY3VtZW50IHZpZXdlciBwYW5lXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IFsnSW52YWxpZCBvYmplY3REYXRhIHNldHRpbmcuIEVycm9yIGNvZGU6ICcgKyByZXNwb25zZS5zdGF0dXMgKyAnICcgKyByZXNwb25zZS5zdGF0dXNUZXh0XTtcblxuICAgICAgICAvLyBEZXRlY3QgYW5kIGhhbmRsZSBDT1JTIGVycm9yc1xuICAgICAgICBjb25zdCBkYXRhSGFzQWJzb2x1dGVQYXRoID0gdGhpcy5zZXR0aW5ncy5vYmplY3REYXRhLmxhc3RJbmRleE9mKCdodHRwJywgMCkgPT09IDA7XG5cbiAgICAgICAgaWYgKGRhdGFIYXNBYnNvbHV0ZVBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGpzb25Ib3N0ID0gdGhpcy5zZXR0aW5ncy5vYmplY3REYXRhLnJlcGxhY2UoL2h0dHBzPzpcXC9cXC8vaSwgXCJcIikuc3BsaXQoL1svPyNdLylbMF07XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgIT09IGpzb25Ib3N0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZS5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ3AnLCAnQXR0ZW1wdGVkIHRvIGFjY2VzcyBjcm9zcy1vcmlnaW4gZGF0YSB3aXRob3V0IENPUlMuJyksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgncCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnWW91IG1heSBuZWVkIHRvIHVwZGF0ZSB5b3VyIHNlcnZlciBjb25maWd1cmF0aW9uIHRvIHN1cHBvcnQgQ09SUy4gRm9yIGhlbHAsIHNlZSB0aGUgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsdCgnYScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9naXRodWIuY29tL0RETUFML2RpdmEuanMvd2lraS9JbnN0YWxsYXRpb24jYS1ub3RlLWFib3V0LWNyb3NzLXNpdGUtcmVxdWVzdHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ19ibGFuaydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICdjcm9zcy1zaXRlIHJlcXVlc3QgZG9jdW1lbnRhdGlvbi4nKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Nob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9sb2FkT2JqZWN0RGF0YSAocmVzcG9uc2VEYXRhLCBoYXNoU3RhdGUpXG4gICAge1xuICAgICAgICBsZXQgbWFuaWZlc3Q7XG5cbiAgICAgICAgLy8gVE9ETyBpbXByb3ZlIElJSUYgZGV0ZWN0aW9uIG1ldGhvZFxuICAgICAgICBpZiAoIXJlc3BvbnNlRGF0YS5oYXNPd25Qcm9wZXJ0eSgnQGNvbnRleHQnKSAmJiAocmVzcG9uc2VEYXRhWydAY29udGV4dCddLmluZGV4T2YoJ2lpaWYnKSA9PT0gLTEgfHwgcmVzcG9uc2VEYXRhWydAY29udGV4dCddLmluZGV4T2YoJ3NoYXJlZC1jYW52YXMnKSA9PT0gLTEpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb24oJ1RoaXMgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgSUlJRiBNYW5pZmVzdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyaWdnZXIgTWFuaWZlc3REaWRMb2FkIGV2ZW50XG4gICAgICAgIGRpdmEuRXZlbnRzLnB1Ymxpc2goJ01hbmlmZXN0RGlkTG9hZCcsIFtyZXNwb25zZURhdGFdLCB0aGlzKTtcbiAgICAgICAgbWFuaWZlc3QgPSBJbWFnZU1hbmlmZXN0LmZyb21JSUlGKHJlc3BvbnNlRGF0YSk7XG4gICAgICAgIGNvbnN0IGxvYWRPcHRpb25zID0gaGFzaFN0YXRlID8gdGhpcy5fZ2V0TG9hZE9wdGlvbnNGb3JTdGF0ZShoYXNoU3RhdGUsIG1hbmlmZXN0KSA6IHt9O1xuXG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuc2V0TWFuaWZlc3QobWFuaWZlc3QsIGxvYWRPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSB0aGUgaGFzaCBwYXJhbWV0ZXJzIGludG8gdGhlIGZvcm1hdCB1c2VkIGJ5IGdldFN0YXRlIGFuZCBzZXRTdGF0ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2dldEhhc2hQYXJhbVN0YXRlICgpXG4gICAge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHt9O1xuXG4gICAgICAgIFsnZicsICd2JywgJ3onLCAnbicsICdpJywgJ3AnLCAneScsICd4J10uZm9yRWFjaCggKHBhcmFtKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IEhhc2hQYXJhbXMuZ2V0KHBhcmFtICsgdGhpcy5zZXR0aW5ncy5oYXNoUGFyYW1TdWZmaXgpO1xuXG4gICAgICAgICAgICAvLyBgZmFsc2VgIGlzIHJldHVybmVkIGlmIHRoZSB2YWx1ZSBpcyBtaXNzaW5nXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHN0YXRlW3BhcmFtXSA9IHZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEbyBzb21lIGF3a3dhcmQgc3BlY2lhbC1jYXNpbmcsIHNpbmNlIHRoaXMgZm9ybWF0IGlzIGtpbmQgb2Ygd2VpcmQuXG5cbiAgICAgICAgLy8gRm9yIGluRnVsbHNjcmVlbiAoZiksIHRydWUgYW5kIGZhbHNlIHN0cmluZ3Mgc2hvdWxkIGJlIGludGVycHJldGVkXG4gICAgICAgIC8vIGFzIGJvb2xlYW5zLlxuICAgICAgICBpZiAoc3RhdGUuZiA9PT0gJ3RydWUnKVxuICAgICAgICAgICAgc3RhdGUuZiA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmYgPT09ICdmYWxzZScpXG4gICAgICAgICAgICBzdGF0ZS5mID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQ29udmVydCBudW1lcmljYWwgdmFsdWVzIHRvIGludGVnZXJzLCBpZiBwcm92aWRlZFxuICAgICAgICBbJ3onLCAnbicsICdwJywgJ3gnLCAneSddLmZvckVhY2goIChwYXJhbSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhcmFtIGluIHN0YXRlKVxuICAgICAgICAgICAgICAgIHN0YXRlW3BhcmFtXSA9IHBhcnNlSW50KHN0YXRlW3BhcmFtXSwgMTApO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2dldExvYWRPcHRpb25zRm9yU3RhdGUgKHN0YXRlLCBtYW5pZmVzdClcbiAgICB7XG4gICAgICAgIG1hbmlmZXN0ID0gbWFuaWZlc3QgfHwgdGhpcy5zZXR0aW5ncy5tYW5pZmVzdDtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gKCd2JyBpbiBzdGF0ZSkgPyB0aGlzLl9nZXRWaWV3U3RhdGUoc3RhdGUudikgOiB7fTtcblxuICAgICAgICBpZiAoJ2YnIGluIHN0YXRlKVxuICAgICAgICAgICAgb3B0aW9ucy5pbkZ1bGxzY3JlZW4gPSBzdGF0ZS5mO1xuXG4gICAgICAgIGlmICgneicgaW4gc3RhdGUpXG4gICAgICAgICAgICBvcHRpb25zLnpvb21MZXZlbCA9IHN0YXRlLno7XG5cbiAgICAgICAgaWYgKCduJyBpbiBzdGF0ZSlcbiAgICAgICAgICAgIG9wdGlvbnMucGFnZXNQZXJSb3cgPSBzdGF0ZS5uO1xuXG4gICAgICAgIC8vIE9ubHkgY2hhbmdlIHNwZWNpZnkgdGhlIHBhZ2UgaWYgc3RhdGUuaSBvciBzdGF0ZS5wIGlzIHZhbGlkXG4gICAgICAgIGxldCBwYWdlSW5kZXggPSB0aGlzLl9nZXRQYWdlSW5kZXhGb3JNYW5pZmVzdChtYW5pZmVzdCwgc3RhdGUuaSk7XG5cbiAgICAgICAgaWYgKCEocGFnZUluZGV4ID49IDAgJiYgcGFnZUluZGV4IDwgbWFuaWZlc3QucGFnZXMubGVuZ3RoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcGFnZUluZGV4ID0gc3RhdGUucCAtIDE7XG5cbiAgICAgICAgICAgIC8vIFBvc3NpYmx5IE5hTlxuICAgICAgICAgICAgaWYgKCEocGFnZUluZGV4ID49IDAgJiYgcGFnZUluZGV4IDwgbWFuaWZlc3QucGFnZXMubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXggPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VJbmRleCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbE9mZnNldCA9IHBhcnNlSW50KHN0YXRlLngsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsT2Zmc2V0ID0gcGFyc2VJbnQoc3RhdGUueSwgMTApO1xuXG4gICAgICAgICAgICBvcHRpb25zLmdvRGlyZWN0bHlUbyA9IHBhZ2VJbmRleDtcbiAgICAgICAgICAgIG9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCA9IGhvcml6b250YWxPZmZzZXQ7XG4gICAgICAgICAgICBvcHRpb25zLnZlcnRpY2FsT2Zmc2V0ID0gdmVydGljYWxPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX2dldFZpZXdTdGF0ZSAodmlldylcbiAgICB7XG4gICAgICAgIHN3aXRjaCAodmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNhc2UgJ2InOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGluQm9va0xheW91dDogdHJ1ZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNhc2UgJ2cnOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuICAgIF9nZXRQYWdlSW5kZXhGb3JNYW5pZmVzdCAobWFuaWZlc3QsIGZpbGVuYW1lKVxuICAgIHtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGNvbnN0IG5wID0gbWFuaWZlc3QucGFnZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBucDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobWFuaWZlc3QucGFnZXNbaV0uZiA9PT0gZmlsZW5hbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuICAgIF9nZXRTdGF0ZSAoKVxuICAgIHtcbiAgICAgICAgbGV0IHZpZXc7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3ID0gJ2cnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuaW5Cb29rTGF5b3V0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3ID0gJ2InO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmlldyA9ICdkJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpO1xuICAgICAgICBjb25zdCBwYWdlT2Zmc2V0ID0gbGF5b3V0LmdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0KHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LCB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2YnOiB0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbixcbiAgICAgICAgICAgICd2JzogdmlldyxcbiAgICAgICAgICAgICd6JzogdGhpcy5zZXR0aW5ncy56b29tTGV2ZWwsXG4gICAgICAgICAgICAnbic6IHRoaXMuc2V0dGluZ3MucGFnZXNQZXJSb3csXG4gICAgICAgICAgICAnaSc6IHRoaXMuc2V0dGluZ3MuZW5hYmxlRmlsZW5hbWUgPyB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3RoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4XS5mIDogZmFsc2UsXG4gICAgICAgICAgICAncCc6IHRoaXMuc2V0dGluZ3MuZW5hYmxlRmlsZW5hbWUgPyBmYWxzZSA6IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4ICsgMSxcbiAgICAgICAgICAgICd5JzogcGFnZU9mZnNldCA/IHBhZ2VPZmZzZXQueSA6IGZhbHNlLFxuICAgICAgICAgICAgJ3gnOiBwYWdlT2Zmc2V0ID8gcGFnZU9mZnNldC54IDogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfZ2V0VVJMSGFzaCAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgaGFzaFBhcmFtcyA9IHRoaXMuX2dldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGhhc2hTdHJpbmdCdWlsZGVyID0gW107XG4gICAgICAgIGxldCBwYXJhbTtcblxuICAgICAgICBmb3IgKHBhcmFtIGluIGhhc2hQYXJhbXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChoYXNoUGFyYW1zW3BhcmFtXSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgaGFzaFN0cmluZ0J1aWxkZXIucHVzaChwYXJhbSArIHRoaXMuc2V0dGluZ3MuaGFzaFBhcmFtU3VmZml4ICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGhhc2hQYXJhbXNbcGFyYW1dKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGFzaFN0cmluZ0J1aWxkZXIuam9pbignJicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBhZ2UgaW5kZXggYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBmaWxlbmFtZTsgbXVzdCBjYWxsZWQgYWZ0ZXIgc2V0dGluZyBzZXR0aW5ncy5tYW5pZmVzdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2dldFBhZ2VJbmRleCAoZmlsZW5hbWUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UGFnZUluZGV4Rm9yTWFuaWZlc3QodGhpcy5zZXR0aW5ncy5tYW5pZmVzdCwgZmlsZW5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cbiAgICBfY2hlY2tMb2FkZWQgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS5sb2FkZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRoZSB2aWV3ZXIgaXMgbm90IGNvbXBsZXRlbHkgaW5pdGlhbGl6ZWQuIFRoaXMgaXMgbGlrZWx5IGJlY2F1c2UgaXQgaXMgc3RpbGwgZG93bmxvYWRpbmcgZGF0YS4gVG8gZml4IHRoaXMsIG9ubHkgY2FsbCB0aGlzIGZ1bmN0aW9uIGlmIHRoZSBpc1JlYWR5KCkgbWV0aG9kIHJldHVybnMgdHJ1ZS5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGZ1bGxzY3JlZW4gaWNvbiBpcyBjbGlja2VkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfdG9nZ2xlRnVsbHNjcmVlbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgIGluRnVsbHNjcmVlbjogIXRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGhhbmRsZSB0b29sYmFyIG9wYWNpdHkgaW4gZnVsbHNjcmVlblxuICAgICAgICBsZXQgdDtcbiAgICAgICAgbGV0IGhvdmVyID0gZmFsc2U7XG4gICAgICAgIGxldCB0b29scyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAndG9vbHMnKTtcbiAgICAgICAgY29uc3QgVElNRU9VVCA9IDIwMDA7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b29scy5jbGFzc0xpc3QuYWRkKFwiZGl2YS1mdWxsc2NyZWVuLXRvb2xzXCIpO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0b2dnbGVPcGFjaXR5LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2YS12aWV3cG9ydCcpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRvZ2dsZU9wYWNpdHkuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0b29scy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGhvdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9vbHMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBob3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0b29scy5jbGFzc0xpc3QucmVtb3ZlKFwiZGl2YS1mdWxsc2NyZWVuLXRvb2xzXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlT3BhY2l0eSAoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b29scy5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgICAgICAgIGlmICghaG92ZXIgJiYgdGhpcy5zZXR0aW5ncy5pbkZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHMuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgfSwgVElNRU9VVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIGJldHdlZW4gb3JpZW50YXRpb25zXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX3RvZ2dsZVBhZ2VMYXlvdXRPcmllbnRhdGlvbiAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgdmVydGljYWxseU9yaWVudGVkID0gIXRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkO1xuXG4gICAgICAgIC8vaWYgaW4gZ3JpZCwgc3dpdGNoIG91dCBvZiBncmlkXG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICBpbkdyaWQ6IGZhbHNlLFxuICAgICAgICAgICAgdmVydGljYWxseU9yaWVudGVkOiB2ZXJ0aWNhbGx5T3JpZW50ZWQsXG4gICAgICAgICAgICBnb0RpcmVjdGx5VG86IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LFxuICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0WU9mZnNldCgpLFxuICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRYT2Zmc2V0KClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsbHlPcmllbnRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY2hhbmdlIHZpZXcgaWNvbiBpcyBjbGlja2VkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfY2hhbmdlVmlldyAoZGVzdGluYXRpb25WaWV3KVxuICAgIHtcbiAgICAgICAgc3dpdGNoIChkZXN0aW5hdGlvblZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgJ2RvY3VtZW50JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYXNlICdib29rJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhc2UgJ2dyaWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgICAgICBpbkdyaWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBhZ2VJbmRleCAtIDAtYmFzZWQgcGFnZSBpbmRleC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geEFuY2hvciAtIHggY29vcmRpbmF0ZSB0byBqdW1wIHRvIG9uIHJlc3VsdGluZyBwYWdlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5QW5jaG9yIC0geSBjb29yZGluYXRlIHRvIGp1bXAgdG8gb24gcmVzdWx0aW5nIHBhZ2UuXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IC0gV2hldGhlciB0aGUganVtcCB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKiovXG4gICAgX2dvdG9QYWdlQnlJbmRleCAocGFnZUluZGV4LCB4QW5jaG9yLCB5QW5jaG9yKVxuICAgIHtcbiAgICAgICAgbGV0IHBpZHggPSBwYXJzZUludChwYWdlSW5kZXgsIDEwKTtcblxuICAgICAgICBpZiAodGhpcy5faXNQYWdlSW5kZXhWYWxpZChwaWR4KSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeE9mZnNldCA9IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0WE9mZnNldChwaWR4LCB4QW5jaG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHlPZmZzZXQgPSB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmdldFlPZmZzZXQocGlkeCwgeUFuY2hvcik7XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZ290byhwaWR4LCB5T2Zmc2V0LCB4T2Zmc2V0KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgcGFnZSBpbmRleCBpcyB2YWxpZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFnZUluZGV4IC0gTnVtZXJpYyAoMC1iYXNlZCkgcGFnZSBpbmRleFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHdoZXRoZXIgdGhlIHBhZ2UgaW5kZXggaXMgdmFsaWQgb3Igbm90LlxuICAgICAqL1xuICAgIF9pc1BhZ2VJbmRleFZhbGlkIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5pc1BhZ2VWYWxpZChwYWdlSW5kZXgsIHRoaXMuc2V0dGluZ3Muc2hvd05vblBhZ2VkUGFnZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcGFnZVggYW5kIHBhZ2VZIHZhbHVlLCByZXR1cm5zIGVpdGhlciB0aGUgcGFnZSB2aXNpYmxlIGF0IHRoYXQgKHgseSlcbiAgICAgKiBwb3NpdGlvbiBvciAtMSBpZiBubyBwYWdlIGlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0UGFnZUluZGV4Rm9yUGFnZVhZVmFsdWVzIChwYWdlWCwgcGFnZVkpXG4gICAge1xuICAgICAgICAvL2dldCB0aGUgZm91ciBlZGdlcyBvZiB0aGUgb3V0ZXIgZWxlbWVudFxuICAgICAgICBjb25zdCBvdXRlck9mZnNldCA9IHRoaXMudmlld2VyU3RhdGUub3V0ZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBvdXRlclRvcCA9IG91dGVyT2Zmc2V0LnRvcDtcbiAgICAgICAgY29uc3Qgb3V0ZXJMZWZ0ID0gb3V0ZXJPZmZzZXQubGVmdDtcbiAgICAgICAgY29uc3Qgb3V0ZXJCb3R0b20gPSBvdXRlck9mZnNldC5ib3R0b207XG4gICAgICAgIGNvbnN0IG91dGVyUmlnaHQgPSBvdXRlck9mZnNldC5yaWdodDtcblxuICAgICAgICAvL2lmIHRoZSBjbGlja2VkIHBvc2l0aW9uIHdhcyBvdXRzaWRlIHRoZSBkaXZhLW91dGVyIG9iamVjdCwgaXQgd2FzIG5vdCBvbiBhIHZpc2libGUgcG9ydGlvbiBvZiBhIHBhZ2VcbiAgICAgICAgaWYgKHBhZ2VYIDwgb3V0ZXJMZWZ0IHx8IHBhZ2VYID4gb3V0ZXJSaWdodClcbiAgICAgICAgICAgIHJldHVybiAtMTtcblxuICAgICAgICBpZiAocGFnZVkgPCBvdXRlclRvcCB8fCBwYWdlWSA+IG91dGVyQm90dG9tKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuXG4gICAgICAgIC8vbmF2aWdhdGUgdGhyb3VnaCBhbGwgZGl2YSBwYWdlIG9iamVjdHNcbiAgICAgICAgY29uc3QgcGFnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkaXZhLXBhZ2UnKTtcbiAgICAgICAgbGV0IGN1clBhZ2VJZHggPSBwYWdlcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChjdXJQYWdlSWR4LS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vZ2V0IHRoZSBvZmZzZXQgZm9yIGVhY2ggcGFnZVxuICAgICAgICAgICAgY29uc3QgY3VyUGFnZSA9IHBhZ2VzW2N1clBhZ2VJZHhdO1xuICAgICAgICAgICAgY29uc3QgY3VyT2Zmc2V0ID0gY3VyUGFnZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgLy9pZiB0aGlzIHBvaW50IGlzIG91dHNpZGUgdGhlIGhvcml6b250YWwgYm91bmRhcmllcyBvZiB0aGUgcGFnZSwgY29udGludWVcbiAgICAgICAgICAgIGlmIChwYWdlWCA8IGN1ck9mZnNldC5sZWZ0IHx8IHBhZ2VYID4gY3VyT2Zmc2V0LnJpZ2h0KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvL3NhbWUgd2l0aCB2ZXJ0aWNhbCBib3VuZGFyaWVzXG4gICAgICAgICAgICBpZiAocGFnZVkgPCBjdXJPZmZzZXQudG9wIHx8IHBhZ2VZID4gY3VyT2Zmc2V0LmJvdHRvbSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy9pZiB3ZSBtYWRlIGl0IHRocm91Z2ggdGhlIGFib3ZlIHR3bywgd2UgZm91bmQgdGhlIHBhZ2Ugd2UncmUgbG9va2luZyBmb3JcbiAgICAgICAgICAgIHJldHVybiBjdXJQYWdlLmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pZiB3ZSBtYWRlIGl0IHRocm91Z2ggdGhhdCBlbnRpcmUgd2hpbGUgbG9vcCwgd2UgZGlkbid0IGNsaWNrIG9uIGEgcGFnZVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX3JlbG9hZFZpZXdlciAobmV3T3B0aW9ucylcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLnJlbG9hZChuZXdPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRDdXJyZW50VVJMICgpXG4gICAge1xuICAgICAgICByZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCArIGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoICsgJyMnICsgdGhpcy5fZ2V0VVJMSGFzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICogICAgICAgICAgICAgICAgUFVCTElDIEZVTkNUSU9OU1xuICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICoqL1xuXG4gICAgLyoqXG4gICAgICogIEFjdGl2YXRlIHRoaXMgaW5zdGFuY2Ugb2YgZGl2YSB2aWEgdGhlIGFjdGl2ZSBEaXZhIGNvbnRyb2xsZXIuXG4gICAgICpcbiAgICAgKiAgQHB1YmxpY1xuICAgICAqL1xuICAgIGFjdGl2YXRlICgpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlzQWN0aXZlRGl2YSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSBvYmplY3QgKG9iamVjdERhdGEpIHBhcmFtZXRlciBjdXJyZW50bHkgYmVpbmcgcmVuZGVyZWQgYnkgRGl2YS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtvYmplY3R9IG9iamVjdERhdGEgLSBBbiBJSUlGIE1hbmlmZXN0IG9iamVjdCBPUiBhIFVSTCB0byBhIElJSUYgbWFuaWZlc3QuXG4gICAgICovXG4gICAgY2hhbmdlT2JqZWN0IChvYmplY3REYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5jbGVhcigpO1xuXG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLm9iamVjdERhdGEgPSBvYmplY3REYXRhO1xuXG4gICAgICAgIHRoaXMuX2xvYWRPckZldGNoT2JqZWN0RGF0YSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZSB2aWV3cy4gVGFrZXMgJ2RvY3VtZW50JywgJ2Jvb2snLCBvciAnZ3JpZCcgdG8gc3BlY2lmeSB3aGljaCB2aWV3IHRvIHN3aXRjaCBpbnRvXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7c3RyaW5nfSBkZXN0aW5hdGlvblZpZXcgLSB0aGUgZGVzdGluYXRpb24gdmlldyB0byBjaGFuZ2UgdG8uXG4gICAgICovXG4gICAgY2hhbmdlVmlldyAoZGVzdGluYXRpb25WaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2hhbmdlVmlldyhkZXN0aW5hdGlvblZpZXcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBEZWFjdGl2YXRlIHRoaXMgZGl2YSBpbnN0YW5jZSB0aHJvdWdoIHRoZSBhY3RpdmUgRGl2YSBjb250cm9sbGVyLlxuICAgICAqXG4gICAgICogIEBwdWJsaWNcbiAgICAgKiovXG4gICAgZGVhY3RpdmF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pc0FjdGl2ZURpdmEgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGluc3RhbmNlLCB0ZWxscyBwbHVnaW5zIHRvIGRvIHRoZSBzYW1lXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICoqL1xuICAgIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGRvY3VtZW50IGRyYWdnaW5nLCBzY3JvbGxpbmcgKGJ5IGtleWJvYXJkIGlmIHNldCksIGFuZCB6b29taW5nIGJ5IGRvdWJsZS1jbGlja2luZ1xuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqKi9cbiAgICBkaXNhYmxlU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5kaXNhYmxlU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlLWVuYWJsZXMgZG9jdW1lbnQgZHJhZ2dpbmcsIHNjcm9sbGluZyAoYnkga2V5Ym9hcmQgaWYgc2V0KSwgYW5kIHpvb21pbmcgYnkgZG91YmxlLWNsaWNraW5nXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICoqL1xuICAgIGVuYWJsZVNjcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZW5hYmxlU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGRvY3VtZW50IGRyYWcgc2Nyb2xsaW5nXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZGlzYWJsZURyYWdTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmRpc2FibGVEcmFnU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgZG9jdW1lbnQgZHJhZyBzY3JvbGxpbmdcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBlbmFibGVEcmFnU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5lbmFibGVEcmFnU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVudGVyIGZ1bGxzY3JlZW4gbW9kZSBpZiBjdXJyZW50bHkgbm90IGluIGZ1bGxzY3JlZW4gbW9kZS4gSWYgY3VycmVudGx5IGluIGZ1bGxzY3JlZW5cbiAgICAgKiBtb2RlIHRoaXMgd2lsbCBoYXZlIG5vIGVmZmVjdC5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCB3b3JrIGV2ZW4gaWYgZW5hYmxlRnVsbHNjcmVlbiBpcyBzZXQgdG8gZmFsc2UgaW4gdGhlIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gV2hldGhlciB0aGUgc3dpdGNoIHRvIGZ1bGxzY3JlZW4gd2FzIHN1Y2Nlc3NmdWwgb3Igbm90LlxuICAgICAqKi9cbiAgICBlbnRlckZ1bGxzY3JlZW5Nb2RlICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnRlciBncmlkIHZpZXcgaWYgY3VycmVudGx5IG5vdCBpbiBncmlkIHZpZXcuIElmIGN1cnJlbnRseSBpbiBncmlkIHZpZXcgbW9kZVxuICAgICAqIHRoaXMgd2lsbCBoYXZlIG5vIGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSBzd2l0Y2ggdG8gZ3JpZCB2aWV3IHdhcyBzdWNjZXNzZnVsIG9yIG5vdC5cbiAgICAgKiovXG4gICAgZW50ZXJHcmlkVmlldyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlVmlldygnZ3JpZCcpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgcGFnZSBpbWFnZSBVUklzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IC0gQW4gYXJyYXkgb2YgYWxsIHRoZSBVUklzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKiAqL1xuICAgIGdldEFsbFBhZ2VVUklzICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlcy5tYXAoIChwZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBnLmY7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2FudmFzIGlkZW50aWZpZXIgZm9yIHRoZSBjdXJyZW50bHkgdmlzaWJsZSBwYWdlLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIFVSSSBvZiB0aGUgY3VycmVudGx5IHZpc2libGUgY2FudmFzLlxuICAgICAqKi9cbiAgICBnZXRDdXJyZW50Q2FudmFzICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1t0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleF0uY2FudmFzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGN1cnJlbnQgcGFnZSBhdCB0aGUgY3VycmVudCB6b29tIGxldmVsLiBBbHNvIHdvcmtzIGluXG4gICAgICogZ3JpZCB2aWV3LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGN1cnJlbnQgcGFnZSBkaW1lbnNpb25zIGF0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICoqL1xuICAgIGdldEN1cnJlbnRQYWdlRGltZW5zaW9uc0F0Q3VycmVudFpvb21MZXZlbCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFnZURpbWVuc2lvbnNBdEN1cnJlbnRab29tTGV2ZWwodGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgZmlsZW5hbWUgKGRlcHJlY2F0ZWQpLiBSZXR1cm5zIHRoZSBVUkkgZm9yIGN1cnJlbnQgcGFnZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIFVSSSBmb3IgdGhlIGN1cnJlbnQgcGFnZSBpbWFnZS5cbiAgICAgKiovXG4gICAgZ2V0Q3VycmVudFBhZ2VGaWxlbmFtZSAoKVxuICAgIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGlzIG1ldGhvZCB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdGhlIG5leHQgdmVyc2lvbiBvZiBEaXZhLiBQbGVhc2UgdXNlIGdldEN1cnJlbnRQYWdlVVJJIGluc3RlYWQuJyk7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3RoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4XS5mO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgcGFnZSBpbmRpY2VzIHRoYXQgYXJlIHZpc2libGUgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHthcnJheX0gLSBUaGUgMC1iYXNlZCBpbmRpY2VzIGFycmF5IGZvciB0aGUgY3VycmVudGx5IHZpc2libGUgcGFnZXMuXG4gICAgICoqL1xuICAgIGdldEN1cnJlbnRQYWdlSW5kaWNlcyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuY3VycmVudFBhZ2VJbmRpY2VzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIDAtYmFzZWQgaW5kZXggZm9yIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgMC1iYXNlZCBpbmRleCBmb3IgdGhlIGN1cnJlbnRseSB2aXNpYmxlIHBhZ2UuXG4gICAgICoqL1xuICAgICBnZXRBY3RpdmVQYWdlSW5kZXggKClcbiAgICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXg7XG4gICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3J0Y3V0IHRvIGdldFBhZ2VPZmZzZXQgZm9yIGN1cnJlbnQgcGFnZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7fSAtXG4gICAgICogKi9cbiAgICBnZXRDdXJyZW50UGFnZU9mZnNldCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFnZU9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBVUkkgZm9yIHRoZSB2aXNpYmxlIHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgVVJJIGZvciB0aGUgY3VycmVudCBwYWdlIGltYWdlLlxuICAgICAqKi9cbiAgICBnZXRDdXJyZW50UGFnZVVSSSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXhdLmY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjdXJyZW50IFVSTCBmb3IgdGhlIHZpZXdlciwgaW5jbHVkaW5nIHRoZSBoYXNoIHBhcmFtZXRlcnMgcmVmbGVjdGluZ1xuICAgICAqIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSB2aWV3ZXIuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgVVJMIGZvciB0aGUgY3VycmVudCB2aWV3IHN0YXRlLlxuICAgICAqICovXG4gICAgZ2V0Q3VycmVudFVSTCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEN1cnJlbnRVUkwoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCBmaWxlbmFtZXMgaW4gdGhlIGRvY3VtZW50LiBEZXByZWNhdGVkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHJldHVybnMge0FycmF5fSAtIEFuIGFycmF5IG9mIGFsbCB0aGUgVVJJcyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICogKi9cbiAgICBnZXRGaWxlbmFtZXMgKClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgdmVyc2lvbiBvZiBEaXZhLiBVc2UgZ2V0QWxsUGFnZVVSSXMgaW5zdGVhZC4nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlcy5tYXAoIChwZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBnLmY7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbnVtYmVyIG9mIGdyaWQgcGFnZXMgcGVyIHJvdy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBudW1iZXIgb2YgZ3JpZCBwYWdlcyBwZXIgcm93LlxuICAgICAqKi9cbiAgICBnZXRHcmlkUGFnZXNQZXJSb3cgKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8od2FiYWluKTogQWRkIHRlc3QgY2FzZVxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wYWdlc1BlclJvdztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGluc3RhbmNlIElEIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBpbnN0YW5jZSBJRC5cbiAgICAgKiAqL1xuICAgIC8vXG4gICAgZ2V0SW5zdGFuY2VJZCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuSUQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbnN0YW5jZSBzZWxlY3RvciBmb3IgdGhpcyBpbnN0YW5jZS4gVGhpcyBpcyB0aGUgc2VsZWN0b3IgZm9yIHRoZSBwYXJlbnRcbiAgICAgKiBkaXYuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgdmlld3BvcnQgc2VsZWN0b3IuXG4gICAgICogKi9cbiAgICBnZXRJbnN0YW5jZVNlbGVjdG9yICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5zZWxlY3RvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0aXRsZSBvZiB0aGUgZG9jdW1lbnQsIGJhc2VkIG9uIHRoZSBsYWJlbCBpbiB0aGUgSUlJRiBtYW5pZmVzdC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBjdXJyZW50IHRpdGxlIG9mIHRoZSBvYmplY3QgZnJvbSB0aGUgbGFiZWwga2V5IGluIHRoZSBJSUlGIE1hbmlmZXN0LlxuICAgICAqKi9cbiAgICBnZXRJdGVtVGl0bGUgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0Lml0ZW1UaXRsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBlbnRpcmUgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgbWF4aW11bSB6b29tIGxldmVsIGZvciB0aGUgZG9jdW1lbnRcbiAgICAgKiAqL1xuICAgIGdldE1heFpvb21MZXZlbCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1heCB6b29tIGxldmVsIGZvciBhIGdpdmVuIHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2VJZHggLSBUaGUgMC1iYXNlZCBpbmRleCBudW1iZXIgZm9yIHRoZSBwYWdlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhhdCBwYWdlLlxuICAgICAqICovXG4gICAgZ2V0TWF4Wm9vbUxldmVsRm9yUGFnZSAocGFnZUlkeClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fY2hlY2tMb2FkZWQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1twYWdlSWR4XS5tO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1pbmltdW0gem9vbSBsZXZlbCBmb3IgdGhlIGVudGlyZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBkb2N1bWVudFxuICAgICAqICovXG4gICAgZ2V0TWluWm9vbUxldmVsICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5taW5ab29tTGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHBhZ2VzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBudW1iZXIgb2YgcGFnZXMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqICovXG4gICAgZ2V0TnVtYmVyT2ZQYWdlcyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGVja0xvYWRlZCgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm51bVBhZ2VzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIGEgY2FudmFzIGhhcyBtdWx0aXBsZSBpbWFnZXMgZGVmaW5lZCwgcmV0dXJucyB0aGUgbm9uLXByaW1hcnkgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgcGFnZSBpbmRleCBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBvdGhlciBpbWFnZXMuXG4gICAgICogQHJldHVybnMge29iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG90aGVyIGltYWdlcy5cbiAgICAgKiovXG4gICAgZ2V0T3RoZXJJbWFnZXMgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3BhZ2VJbmRleF0ub3RoZXJJbWFnZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHBhZ2UgZGltZW5zaW9ucyBpbiB0aGUgY3VycmVudCB2aWV3IGFuZCB6b29tIGxldmVsXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBBIHZhbGlkIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHBhZ2VcbiAgICAgKiAqL1xuICAgIGdldFBhZ2VEaW1lbnNpb25zIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2NoZWNrTG9hZGVkKCkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCkuZ2V0UGFnZURpbWVuc2lvbnMocGFnZUluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaW1lbnNpb25zIG9mIGEgZ2l2ZW4gcGFnZSBhdCB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqIEFsc28gd29ya3MgaW4gR3JpZCB2aWV3XG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2VJbmRleCAtIFRoZSAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBwYWdlIGRpbWVuc2lvbnMgYXQgdGhlIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKiAqL1xuICAgIGdldFBhZ2VEaW1lbnNpb25zQXRDdXJyZW50Wm9vbUxldmVsIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICBsZXQgcGlkeCA9IHBhcnNlSW50KHBhZ2VJbmRleCwgMTApO1xuXG4gICAgICAgIGlmICghdGhpcy5faXNQYWdlSW5kZXhWYWxpZChwaWR4KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBQYWdlIEluZGV4Jyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpLmdldFBhZ2VEaW1lbnNpb25zKHBpZHgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwYWdlIGRpbWVuc2lvbnMgYXQgYSBnaXZlbiB6b29tIGxldmVsXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSWR4IC0gQSB2YWxpZCAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHpvb21MZXZlbCAtIEEgY2FuZGlkYXRlIHpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgcGFnZSBhdCB0aGUgZ2l2ZW4gem9vbSBsZXZlbC5cbiAgICAgKiovXG4gICAgZ2V0UGFnZURpbWVuc2lvbnNBdFpvb21MZXZlbCAocGFnZUlkeCwgem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGVja0xvYWRlZCgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmICh6b29tTGV2ZWwgPiB0aGlzLnNldHRpbmdzLm1heFpvb21MZXZlbClcbiAgICAgICAgICAgIHpvb21MZXZlbCA9IHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsO1xuXG4gICAgICAgIGNvbnN0IHBnID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1twYXJzZUludChwYWdlSWR4LCAxMCldO1xuICAgICAgICBjb25zdCBwZ0F0Wm9vbSA9IHBnLmRbcGFyc2VJbnQoem9vbUxldmVsLCAxMCldO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogcGdBdFpvb20udyxcbiAgICAgICAgICAgIGhlaWdodDogcGdBdFpvb20uaFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBVUkwgZm9yIHRoZSBpbWFnZSBvZiB0aGUgcGFnZSBhdCB0aGUgZ2l2ZW4gaW5kZXguIFRoZVxuICAgICAqIG9wdGlvbmFsIHNpemUgcGFyYW1ldGVyIHN1cHBvcnRzIHNldHRpbmcgdGhlIGltYWdlIHdpZHRoIG9yIGhlaWdodFxuICAgICAqIChkZWZhdWx0IGlzIGZ1bGwtc2l6ZWQpLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHBhcmFtcyB7P29iamVjdH0gc2l6ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHdpZHRoIGFuZCBoZWlnaHQgaW5mb3JtYXRpb25cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBJSUlGIFVSTCBmb3IgYSBnaXZlbiBwYWdlIGF0IGFuIG9wdGlvbmFsIHNpemVcbiAgICAgKi9cbiAgICBnZXRQYWdlSW1hZ2VVUkwgKHBhZ2VJbmRleCwgc2l6ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LmdldFBhZ2VJbWFnZVVSTChwYWdlSW5kZXgsIHNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgc2V0IG9mIGNvLW9yZGluYXRlcyAoZS5nLiwgZnJvbSBhIG1vdXNlIGNsaWNrKSwgcmV0dXJuIHRoZSAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBmb3Igd2hpY2ggaXQgbWF0Y2hlcy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VYIC0gVGhlIHggY28tb3JkaW5hdGVcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VZIC0gVGhlIHkgY28tb3JkaW5hdGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBwYWdlIGluZGV4IG1hdGNoaW5nIHRoZSBjby1vcmRpbmF0ZXMuXG4gICAgICogKi9cbiAgICBnZXRQYWdlSW5kZXhGb3JQYWdlWFlWYWx1ZXMgKHBhZ2VYLCBwYWdlWSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRQYWdlSW5kZXhGb3JQYWdlWFlWYWx1ZXMocGFnZVgsIHBhZ2VZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGRpc3RhbmNlIGJldHdlZW4gdGhlIG5vcnRod2VzdCBjb3JuZXJzIG9mIGRpdmEtaW5uZXIgYW5kIHBhZ2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHBhcmFtcyB7P29wdGlvbnN9IG9wdGlvbnMgLSBBIHNldCBvZiBvcHRpb25zIHRvIHBhc3MgaW4uXG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBUaGUgb2Zmc2V0IGJldHdlZW4gdGhlIHVwcGVyIGxlZnQgY29ybmVyIGFuZCB0aGUgcGFnZS5cbiAgICAgKlxuICAgICAqICovXG4gICAgZ2V0UGFnZU9mZnNldCAocGFnZUluZGV4LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVnaW9uID0gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRQYWdlUmVnaW9uKHBhZ2VJbmRleCwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbnN0YW5jZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIFRoZSBjdXJyZW50IGluc3RhbmNlIHNldHRpbmdzLlxuICAgICAqICovXG4gICAgZ2V0U2V0dGluZ3MgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjb21wbGV0ZSBzdGF0ZSBvZiB0aGUgdmlld2VyLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gVGhlIGN1cnJlbnQgaW5zdGFuY2Ugc3RhdGUuXG4gICAgICogKi9cbiAgICBnZXRTdGF0ZSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFN0YXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqICovXG4gICAgZ2V0Wm9vbUxldmVsICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIEdvIHRvIGEgcGFydGljdWxhciBwYWdlICh3aXRoIGluZGV4aW5nIHN0YXJ0aW5nIGF0IDApLlxuICAgICAqICBUaGUgKHhBbmNob3IpIHNpZGUgb2YgdGhlIHBhZ2Ugd2lsbCBiZSBhbmNob3JlZCB0byB0aGUgKHhBbmNob3IpIHNpZGUgb2YgdGhlIGRpdmEtb3V0ZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogIEBwdWJsaWNcbiAgICAgKiAgQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSAwLWJhc2VkIHBhZ2UgaW5kZXguXG4gICAgICogIEBwYXJhbXMgez9zdHJpbmd9IHhBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwibGVmdFwiLCBcInJpZ2h0XCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqICBAcGFyYW1zIHs/c3RyaW5nfSB5QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcInRvcFwiLCBcImJvdHRvbVwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCI7IHNhbWUgcHJvY2VzcyBhcyB4QW5jaG9yLlxuICAgICAqICBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBwYWdlIGluZGV4IGlzIHZhbGlkOyBmYWxzZSBpZiBpdCBpcyBub3QuXG4gICAgICogKi9cbiAgICBnb3RvUGFnZUJ5SW5kZXggKHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcilcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nb3RvUGFnZUJ5SW5kZXgocGFnZUluZGV4LCB4QW5jaG9yLCB5QW5jaG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGNhbnZhcyBsYWJlbCwgYXR0ZW1wdCB0byBnbyB0byB0aGF0IHBhZ2UuIElmIG5vIGxhYmVsIHdhcyBmb3VuZC5cbiAgICAgKiB0aGUgbGFiZWwgd2lsbCBiZSBhdHRlbXB0ZWQgdG8gbWF0Y2ggYWdhaW5zdCB0aGUgcGFnZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtzdHJpbmd9IGxhYmVsIC0gVGhlIGxhYmVsIHRvIHNlYXJjaCBvbi5cbiAgICAgKiBAcGFyYW1zIHs/c3RyaW5nfSB4QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcImxlZnRcIiwgXCJyaWdodFwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCJcbiAgICAgKiBAcGFyYW1zIHs/c3RyaW5nfSB5QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcInRvcFwiLCBcImJvdHRvbVwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBwYWdlIGluZGV4IGlzIHZhbGlkOyBmYWxzZSBpZiBpdCBpcyBub3QuXG4gICAgICogKi9cbiAgICBnb3RvUGFnZUJ5TGFiZWwgKGxhYmVsLCB4QW5jaG9yLCB5QW5jaG9yKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZXMgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzO1xuICAgICAgICBsZXQgbGxjID0gbGFiZWwudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGFnZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwYWdlc1tpXS5sLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihsbGMpID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dvdG9QYWdlQnlJbmRleChpLCB4QW5jaG9yLCB5QW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHBhcnNlSW50KGxhYmVsLCAxMCkgLSAxO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ290b1BhZ2VCeUluZGV4KHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSnVtcCB0byBhIHBhZ2UgYmFzZWQgb24gaXRzIGZpbGVuYW1lLiBEZXByZWNhdGVkLiBVc2UgZ290b1BhZ2VCeVVSSSBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge3N0cmluZ30gZmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUgb2YgdGhlIGltYWdlIHRvIGp1bXAgdG8uXG4gICAgICogQHBhcmFtcyB7P3N0cmluZ30geEFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJsZWZ0XCIsIFwicmlnaHRcIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiXG4gICAgICogQHBhcmFtcyB7P3N0cmluZ30geUFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJ0b3BcIiwgXCJib3R0b21cIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgc3VjY2Vzc2Z1bCBhbmQgZmFsc2UgaWYgdGhlIGZpbGVuYW1lIGlzIG5vdCBmb3VuZC5cbiAgICAqL1xuICAgIGdvdG9QYWdlQnlOYW1lIChmaWxlbmFtZSwgeEFuY2hvciwgeUFuY2hvcilcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhpcyBtZXRob2Qgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IHZlcnNpb24gb2YgRGl2YS5qcy4gVXNlIGdvdG9QYWdlQnlVUkkgaW5zdGVhZC4nKTtcbiAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5fZ2V0UGFnZUluZGV4KGZpbGVuYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dvdG9QYWdlQnlJbmRleChwYWdlSW5kZXgsIHhBbmNob3IsIHlBbmNob3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEp1bXAgdG8gYSBwYWdlIGJhc2VkIG9uIGl0cyBVUkkuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7c3RyaW5nfSB1cmkgLSBUaGUgVVJJIG9mIHRoZSBpbWFnZSB0byBqdW1wIHRvLlxuICAgICAqIEBwYXJhbXMgez9zdHJpbmd9IHhBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwibGVmdFwiLCBcInJpZ2h0XCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqIEBwYXJhbXMgez9zdHJpbmd9IHlBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwidG9wXCIsIFwiYm90dG9tXCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHN1Y2Nlc3NmdWwgYW5kIGZhbHNlIGlmIHRoZSBVUkkgaXMgbm90IGZvdW5kLlxuICAgICAqL1xuICAgIGdvdG9QYWdlQnlVUkkgKHVyaSwgeEFuY2hvciwgeUFuY2hvcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuX2dldFBhZ2VJbmRleCh1cmkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ290b1BhZ2VCeUluZGV4KHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgcGFnZSBoYXMgb3RoZXIgaW1hZ2VzIHRvIGRpc3BsYXkuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHBhZ2UgaGFzIG90aGVyIGltYWdlcyB0byBkaXNwbGF5LlxuICAgICAqKi9cbiAgICBoYXNPdGhlckltYWdlcyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbcGFnZUluZGV4XS5vdGhlckltYWdlcyA9PT0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgcGFnZXMgdGhhdCBhcmUgbWFya2VkIFwibm9uLXBhZ2VkXCIgaW4gdGhlIElJSUYgbWFuaWZlc3QuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICoqL1xuICAgIGhpZGVOb25QYWdlZFBhZ2VzICgpXG4gICAge1xuICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoeyBzaG93Tm9uUGFnZWRQYWdlczogZmFsc2UgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdGhlIHZpZXdlciBjdXJyZW50bHkgaW4gZnVsbC1zY3JlZW4gbW9kZT9cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSB2aWV3ZXIgaXMgaW4gZnVsbHNjcmVlbiBtb2RlLlxuICAgICAqKi9cbiAgICBpc0luRnVsbHNjcmVlbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgcGFnZSBpbmRleCBpcyB3aXRoaW4gdGhlIHJhbmdlIG9mIHRoZSBkb2N1bWVudFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHBhZ2UgaW5kZXggaXMgdmFsaWQuXG4gICAgICoqL1xuICAgIGlzUGFnZUluZGV4VmFsaWQgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1BhZ2VJbmRleFZhbGlkKHBhZ2VJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhIHBhZ2UgaXMgY3VycmVudGx5IGluIHRoZSB2aWV3cG9ydFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gVGhlIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHBhZ2UgaXMgY3VycmVudGx5IGluIHRoZSB2aWV3cG9ydC5cbiAgICAgKiovXG4gICAgaXNQYWdlSW5WaWV3cG9ydCAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuaXNQYWdlVmlzaWJsZShwYWdlSW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIERpdmEgdmlld2VyIGhhcyBiZWVuIGZ1bGx5IGluaXRpYWxpemVkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIHZpZXdlciBpcyBpbml0aWFsaXplZDsgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqKi9cbiAgICBpc1JlYWR5ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5sb2FkZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgc29tZXRoaW5nIChlLmcuIGEgaGlnaGxpZ2h0IGJveCBvbiBhIHBhcnRpY3VsYXIgcGFnZSkgaXMgdmlzaWJsZVxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gVGhlIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEBwYXJhbXMge251bWJlcn0gbGVmdE9mZnNldCAtIFRoZSBkaXN0YW5jZSBvZiB0aGUgcmVnaW9uIGZyb20gdGhlIGxlZnQgb2YgdGhlIHZpZXdwb3J0XG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSB0b3BPZmZzZXQgLSBUaGUgZGlzdGFuY2Ugb2YgdGhlIHJlZ2lvbiBmcm9tIHRoZSB0b3Agb2YgdGhlIHZpZXdwb3J0XG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVnaW9uXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWdpb25cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSByZWdpb24gaXMgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqKi9cbiAgICBpc1JlZ2lvbkluVmlld3BvcnQgKHBhZ2VJbmRleCwgbGVmdE9mZnNldCwgdG9wT2Zmc2V0LCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCk7XG5cbiAgICAgICAgaWYgKCFsYXlvdXQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbGF5b3V0LmdldFBhZ2VPZmZzZXQocGFnZUluZGV4KTtcblxuICAgICAgICBjb25zdCB0b3AgPSBvZmZzZXQudG9wICsgdG9wT2Zmc2V0O1xuICAgICAgICBjb25zdCBsZWZ0ID0gb2Zmc2V0LmxlZnQgKyBsZWZ0T2Zmc2V0O1xuXG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdHNSZWdpb24oe1xuICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICBib3R0b206IHRvcCArIGhlaWdodCxcbiAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICByaWdodDogbGVmdCArIHdpZHRoXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHBhZ2UgbGF5b3V0IGlzIHZlcnRpY2FsbHkgb3IgaG9yaXpvbnRhbGx5IG9yaWVudGVkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdmVydGljYWw7IGZhbHNlIGlmIGhvcml6b250YWwuXG4gICAgICoqL1xuICAgIGlzVmVydGljYWxseU9yaWVudGVkICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGVhdmUgZnVsbHNjcmVlbiBtb2RlIGlmIGN1cnJlbnRseSBpbiBmdWxsc2NyZWVuIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gdHJ1ZSBpZiBpbiBmdWxsc2NyZWVuIG1vZGUgaW50aXRpYWxseSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICoqL1xuICAgIGxlYXZlRnVsbHNjcmVlbk1vZGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGVhdmUgZ3JpZCB2aWV3IGlmIGN1cnJlbnRseSBpbiBncmlkIHZpZXcuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gdHJ1ZSBpZiBpbiBncmlkIHZpZXcgaW5pdGlhbGx5LCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiovXG4gICAgbGVhdmVHcmlkVmlldyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoeyBpbkdyaWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBudW1iZXIgb2YgZ3JpZCBwYWdlcyBwZXIgcm93LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZXNQZXJSb3cgLSBUaGUgbnVtYmVyIG9mIHBhZ2VzIHBlciByb3dcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHNldEdyaWRQYWdlc1BlclJvdyAocGFnZXNQZXJSb3cpXG4gICAge1xuICAgICAgICAvLyBUT0RPKHdhYmFpbik6IEFkZCB0ZXN0IGNhc2VcbiAgICAgICAgaWYgKCF0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmlzVmFsaWRPcHRpb24oJ3BhZ2VzUGVyUm93JywgcGFnZXNQZXJSb3cpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgaW5HcmlkOiB0cnVlLFxuICAgICAgICAgICAgcGFnZXNQZXJSb3c6IHBhZ2VzUGVyUm93XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWduIHRoaXMgZGl2YSBpbnN0YW5jZSB3aXRoIGEgc3RhdGUgb2JqZWN0IChhcyByZXR1cm5lZCBieSBnZXRTdGF0ZSlcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtvYmplY3R9IHN0YXRlIC0gQSBEaXZhIHN0YXRlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHNldFN0YXRlIChzdGF0ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih0aGlzLl9nZXRMb2FkT3B0aW9uc0ZvclN0YXRlKHN0YXRlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHNldFpvb21MZXZlbCAoem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgIGluR3JpZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuem9vbSh6b29tTGV2ZWwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgbm9uLXBhZ2VkIHBhZ2VzLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKiovXG4gICAgc2hvd05vblBhZ2VkUGFnZXMgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih7IHNob3dOb25QYWdlZFBhZ2VzOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSBmdWxsc2NyZWVuIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLlxuICAgICAqKi9cbiAgICB0b2dnbGVGdWxsc2NyZWVuTW9kZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cvSGlkZSBub24tcGFnZWQgcGFnZXNcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHRvZ2dsZU5vblBhZ2VkUGFnZXNWaXNpYmlsaXR5ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgc2hvd05vblBhZ2VkUGFnZXM6ICF0aGlzLnNldHRpbmdzLnNob3dOb25QYWdlZFBhZ2VzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vQ2hhbmdlcyBiZXR3ZWVuIGhvcml6b250YWwgbGF5b3V0IGFuZCB2ZXJ0aWNhbCBsYXlvdXQuIFJldHVybnMgdHJ1ZSBpZiBkb2N1bWVudCBpcyBub3cgdmVydGljYWxseSBvcmllbnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgIHRvZ2dsZU9yaWVudGF0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9nZ2xlUGFnZUxheW91dE9yaWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyBhIG1lYXN1cmVtZW50IGZyb20gdGhlIHpvb20gbGV2ZWwgb24gdGhlIGxhcmdlc3Qgc2l6ZVxuICAgICAqIHRvIG9uZSBvbiB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUsIGEgcG9pbnQgMTAwMCBvbiBhbiBpbWFnZSB0aGF0IGlzIG9uIHpvb20gbGV2ZWwgMiBvZiA1XG4gICAgICogdHJhbnNsYXRlcyB0byBhIHBvc2l0aW9uIG9mIDExMS4xMTEuLi4gKDEwMDAgLyAoNSAtIDIpXjIpLlxuICAgICAqXG4gICAgICogV29ya3MgZm9yIGEgc2luZ2xlIHBpeGVsIGNvLW9yZGluYXRlIG9yIGEgZGltZW5zaW9uIChlLmcuLCB0cmFuc2xhdGVzIGEgYm94XG4gICAgICogdGhhdCBpcyAxMDAwIHBpeGVscyB3aWRlIG9uIHRoZSBvcmlnaW5hbCB0byBvbmUgdGhhdCBpcyAxMTEuMTExIHBpeGVscyB3aWRlXG4gICAgICogb24gdGhlIGN1cnJlbnQgem9vbSBsZXZlbCkuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwb3NpdGlvbiAtIEEgcG9pbnQgb24gdGhlIG1heCB6b29tIGxldmVsXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgc2FtZSBwb2ludCBvbiB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICovXG4gICAgdHJhbnNsYXRlRnJvbU1heFpvb21MZXZlbCAocG9zaXRpb24pXG4gICAge1xuICAgICAgICBjb25zdCB6b29tRGlmZmVyZW5jZSA9IHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsIC0gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWw7XG4gICAgICAgIHJldHVybiBwb3NpdGlvbiAvIE1hdGgucG93KDIsIHpvb21EaWZmZXJlbmNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIGEgbWVhc3VyZW1lbnQgZnJvbSB0aGUgY3VycmVudCB6b29tIGxldmVsIHRvIHRoZSBwb3NpdGlvbiBvbiB0aGVcbiAgICAgKiBsYXJnZXN0IHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBXb3JrcyBmb3IgYSBzaW5nbGUgcGl4ZWwgY28tb3JkaW5hdGUgb3IgYSBkaW1lbnNpb24gKGUuZy4sIHRyYW5zbGF0ZXMgYSBib3hcbiAgICAgKiB0aGF0IGlzIDExMS4xMTEgcGl4ZWxzIHdpZGUgb24gdGhlIGN1cnJlbnQgaW1hZ2UgdG8gb25lIHRoYXQgaXMgMTAwMCBwaXhlbHMgd2lkZVxuICAgICAqIG9uIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwpLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcG9zaXRpb24gLSBBIHBvaW50IG9uIHRoZSBjdXJyZW50IHpvb20gbGV2ZWxcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBzYW1lIHBvaW50IG9uIHRoZSBtYXggem9vbSBsZXZlbC5cbiAgICAqL1xuICAgIHRyYW5zbGF0ZVRvTWF4Wm9vbUxldmVsIChwb3NpdGlvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IHpvb21EaWZmZXJlbmNlID0gdGhpcy5zZXR0aW5ncy5tYXhab29tTGV2ZWwgLSB0aGlzLnNldHRpbmdzLnpvb21MZXZlbDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBkaWZmZXJlbmNlLCBpdCdzIGEgYm94IG9uIHRoZSBtYXggem9vbSBsZXZlbCBhbmRcbiAgICAgICAgLy8gd2UgY2FuIGp1c3QgcmV0dXJuIHRoZSBwb3NpdGlvbi5cbiAgICAgICAgaWYgKHpvb21EaWZmZXJlbmNlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbiAqIE1hdGgucG93KDIsIHpvb21EaWZmZXJlbmNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBab29tIGluLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIGZhbHNlIGlmIGl0J3MgYXQgdGhlIG1heGltdW0gem9vbVxuICAgICAqKi9cbiAgICB6b29tSW4gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFpvb21MZXZlbCh0aGlzLnNldHRpbmdzLnpvb21MZXZlbCArIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFpvb20gb3V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIGZhbHNlIGlmIGl0J3MgYXQgdGhlIG1pbmltdW0gem9vbVxuICAgICAqKi9cbiAgICB6b29tT3V0ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRab29tTGV2ZWwodGhpcy5zZXR0aW5ncy56b29tTGV2ZWwgLSAxKTtcbiAgICB9XG59XG5cbkRpdmEuRXZlbnRzID0gZGl2YS5FdmVudHM7XG5cbmV4cG9ydCBkZWZhdWx0IERpdmE7XG5cbi8qKlxuICogTWFrZSBgRGl2YWAgYXZhaWxhYmxlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cbiAqICovXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAoZnVuY3Rpb24gKGdsb2JhbClcbiAgICB7XG4gICAgICAgIGdsb2JhbC5EaXZhID0gZ2xvYmFsLkRpdmEgfHwgRGl2YTtcbiAgICB9KSh3aW5kb3cpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==