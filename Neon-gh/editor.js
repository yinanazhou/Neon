!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=58)}([function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,s=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,s),i(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,s,o,a;if(l(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=u(e))>0&&o.length>r&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function g(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):m(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(s){i.once&&e.removeEventListener(t,r),n(s)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var l=c.length,u=m(c,l);for(n=0;n<l;++n)s(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,s,o;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,s=Object.keys(n);for(i=0;i<s.length;++i)"removeListener"!==(r=s[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return g(this,e,!0)},a.prototype.rawListeners=function(e){return g(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i,r,s,o=[n(37),n(38),n(39),n(40),n(41),n(42)],a=-1,c=[],l=!1;function u(){i&&r&&(i=!1,r.length?c=r.concat(c):a=-1,c.length&&d())}function d(){if(!i){l=!1,i=!0;for(var e=c.length,t=setTimeout(u);e;){for(r=c,c=[];r&&++a<e;)r[a].run();a=-1,e=c.length}r=null,a=-1,i=!1,clearTimeout(t)}}for(var h=-1,f=o.length;++h<f;)if(o[h]&&o[h].test&&o[h].test()){s=o[h].install(d);break}function g(e,t){this.fun=e,this.array=t}g.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),l||i||(l=!0,s())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueNotification=t.Notification=void 0;const i=n(26),r=n(17),s=new Array(0);let o=null;const a={default:"",warning:"âš ï¸ ",error:"ðŸ”´ ",success:"âœ… "};class c{constructor(e,t,n=null){this.message=a[t]+e,this.displayed=!1,this.id=(0,r.uuidv4)(),this.isModeMessage=-1!==e.search("Mode"),this.logInfo=n,this.timeoutID=-1,this.type=t}setTimeoutId(e){this.timeoutID=Math.max(e,-1)}display(){this.displayed=!0}getId(){return this.id}}function l(e){document.getElementById(e)&&document.getElementById(e).remove()}function u(e){!function(e){if(e.isModeMessage){if(null!==o)return void window.clearTimeout(o.timeoutID);o=e}if(s.push(e),s.length>3){l(s.shift().getId())}const t=document.getElementById("notification-content"),n=document.createElement("div");n.classList.add("neon-notification"),n.classList.add("neon-notification-"+e.type),n.id=e.getId(),n.innerHTML=e.message,t.append(n),t.style.display="",e.display()}(e),e.setTimeoutId(window.setTimeout(l,5e3,e.getId())),document.getElementById(e.getId()).addEventListener("click",()=>{window.clearTimeout(e.timeoutID),l(e.getId())})}function d(e,t="default",n=null){const r=new c(e,t,n);"error"!=r.type&&"warning"!=r.type||(0,i.recordNotification)(r),u(r)}t.Notification=c,t.queueNotification=d,t.default={queueNotification:d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.getSettings=void 0;let i=null;const r={zoom:100,glyphOpacity:100,imageOpacity:100,circleSize:25,highlightMode:"none",userMode:"edit",insertMode:"punctum",insertTab:"primitiveTab",selectionMode:"selBySyllable",debugMode:!1,displayBBox:!1,displayText:!1,displayInfo:!1,displayErrLog:!1,viewBox:null};t.getSettings=function(){return i.settings},t.setSettings=function(e){i.set(e)},t.default=class{constructor(e){i=this,this.id=e,this.load()}load(){try{const e=JSON.parse(window.localStorage.getItem(this.id));this.sync(e)}catch(e){this.sync({})}}set(e){this.settings=Object.assign(Object.assign({},this.settings),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}sync(e){this.settings=Object.assign(Object.assign({},r),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAll=t.selectNn=t.selectBBox=t.getStaffBBox=t.isMultiStaveSelection=t.sharedSecondLevelParent=t.elementsHaveCorrectType=t.sharedLogicalParent=t.areAdjacent=t.isLigature=t.selectNcs=t.select=t.selectLayerElement=t.selectStaff=t.unselect=t.getSelectionType=void 0;const i=n(18),r=n(13),s=n(24),o=n(27),a=n(14),c=n(3),l=n(7);function u(){const e=document.getElementsByClassName("sel-by is-active");return 0!==e.length?e[0].id:null}function d(){document.querySelectorAll(".no-moving").forEach(e=>e.classList.remove("no-moving")),document.querySelectorAll(".selected").forEach(e=>{e.classList.remove("selected"),e.classList.contains("staff")?(e.removeAttribute("style"),i.unhighlight(e)):(e.removeAttribute("style"),e.style.fill=""),Array.from(e.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""}),Array.from(e.querySelectorAll(".sylTextRect-display")).forEach(e=>{e.style.fill="blue"}),e.parentElement.classList.contains("syllable-highlighted")&&(e.parentElement.style.fill="",e.parentElement.classList.add("syllable"),e.parentElement.classList.remove("syllable-highlighted"),Array.from(e.parentElement.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.parentElement.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""})),l.selectAll("#resizeRect").remove(),l.selectAll(".resizePoint").remove(),l.selectAll(".rotatePoint").remove()}),Array.from(document.querySelectorAll(".text-select")).forEach(e=>{e.style.color="",e.style.fontWeight="",e.classList.remove("text-select")}),document.getElementById("selByStaff").classList.contains("is-active")?a.endOptionsSelection():s.endGroupingSelection(),document.getElementById("extraEdit").innerHTML="",document.getElementById("extraEdit").parentElement.classList.add("hidden"),(0,r.updateHighlight)()}function h(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),a.triggerSingleStaffActions(),s.initGroupingListeners(),t.dragInit())}function f(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),t.dragInit())}function g(e,t,n=!0){if(e){if(e.classList.contains("staff"))return h(e,t);if(e.classList.contains("layer"))return f(e,t);if(!e.classList.contains("selected")&&!e.classList.contains("sylTextRect")&&!e.classList.contains("sylTextRect-display")){let t;if(e.classList.add("selected"),e.style.fill="#d00",e.style.stroke=e.classList.contains("divLine")?"#d00":"black",e.querySelectorAll(".sylTextRect-display").length&&e.querySelectorAll(".sylTextRect-display").forEach(e=>{e.style.fill="#d00"}),e.querySelectorAll(".divLine").length&&e.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"}),e.classList.contains("syllable")&&e.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),e.classList.contains("syllable")?t=e.id:null!==e.closest(".syllable")&&(t=e.closest(".syllable").id),void 0!==t){document.querySelectorAll("span."+t).forEach(e=>{e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select")})}}n&&(0,r.updateHighlight)()}}async function p(e,t){const n=await t.getElementAttr(e.id,t.view.getCurrentPageURI());return Boolean(n.ligated)}function m(e,t){if(t.length<2)return!1;switch(e){case"selBySyllable":t.forEach(e=>{if(!e.classList.contains("syllable"))return!1});break;case"selByNeume":t.forEach(e=>{if(!e.classList.contains("neume"))return!1});break;case"selByStaff":t.forEach(e=>{if(!e.classList.contains("staff"))return!1});break;default:return!1}return!0}function v(e){const t=Array.from(e),n=t.pop().parentElement.parentElement;for(const e of t){if(e.parentElement.parentElement.id!==n.id)return!1}return!0}function y(e,t,n){const i=e,r=i.closest(".syl");if(!r.classList.contains("selected")){r.classList.add("selected"),i.style.fill="#d00";const s=e.closest(".syllable");s.style.fill="#d00",s.classList.add("syllable-highlighted"),s.querySelectorAll(".divLine").length&&(s.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),s.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"})),void 0!==n&&(0,o.resize)(r,n,t),void 0!==t&&t.dragInit();const a=e.closest(".syllable").id;if(void 0!==a){const e=document.querySelector("span."+a);e&&(e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select"))}}a.triggerBBoxActions()}t.getSelectionType=u,t.unselect=d,t.selectStaff=h,t.selectLayerElement=f,t.select=g,t.selectNcs=async function(e,t,n){if(!e.parentElement.classList.contains("selected")){const i=e.parentElement;if(d(),g(i),await p(i,t)){const e=i.previousSibling;if(await p(e,t))g(e);else{const e=i.nextSibling;await p(e,t)?g(e):console.warn("Error: Neither prev or next nc are ligatures")}s.triggerGrouping("ligature")}else i.classList.contains("nc")?a.triggerNcActions(i):console.warn("No action triggered!");n.dragInit()}},t.isLigature=p,t.areAdjacent=function(e,t){if(t.length<2)return!1;let n;switch(e){case"selBySyllable":n=Array.from(document.querySelectorAll(".syllable"));break;case"selByNeume":return!0;case"selByNc":n=Array.from(document.querySelectorAll(".nc"));break;case"selByStaff":n=Array.from(document.querySelectorAll(".staff"));break;default:return!1}const i=[];for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)n[e].isSameNode(t[r])&&i.push(t[r]);for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],s=n.indexOf(t),o=n.indexOf(r);if(1!==Math.abs(s-o))return!1}return!0},t.sharedLogicalParent=function(e,t){if(!m(e,t=t.filter(e=>!(e.classList.contains("divLine")||e.classList.contains("accid")||e.classList.contains("clef")))))return!1;switch(e){case"selBySyllable":const e=t[0].closest(".staff");for(let n=0;n<t.length;n++){if(!t[n].closest(".staff").isSameNode(e))return!1}return!0;case"selByNeume":const n=t[0].closest(".syllable");for(let e=0;e<t.length;e++){if(!t[e].closest(".syllable").isSameNode(n))return!1}return!0;case"selByStaff":return!0;default:return!1}},t.elementsHaveCorrectType=m,t.sharedSecondLevelParent=v,t.isMultiStaveSelection=function(e){const t=Array.from(e);for(let e=0;e<t.length;e++){const n=t[e].closest(".staff");for(let i=e;i<t.length;i++){const e=t[i].closest(".staff");if(!n.isSameNode(e))return!0}}return!1},t.getStaffBBox=function(e){let t,n,i,r,s;return e.querySelectorAll("path").forEach(e=>{const o=e.getAttribute("d").match(/\d+/g).map(e=>Number(e));void 0===s&&(s=Math.atan((o[3]-o[1])/(o[2]-o[0]))),(void 0===n||Math.min(o[1],o[3])<n)&&(n=Math.min(o[1],o[3])),(void 0===t||o[0]<t)&&(t=o[0]),(void 0===r||Math.max(o[1],o[3])>r)&&(r=Math.max(o[1],o[3])),(void 0===i||o[2]>i)&&(i=o[2])}),{id:e.id,ulx:t,uly:n,lrx:i,lry:r,rotate:s}},t.selectBBox=y,t.selectNn=function(e){return!(e.length>0)||(e.forEach(e=>{g(e)}),!1)},t.selectAll=async function(e,t,n){const i=u();if(d(),0===e.length)return;let r,l=!1,h=!1;switch(i){case"selBySyllable":r=".syllable";break;case"selByNeume":r=".neume";break;case"selByNc":r=".nc";break;case"selByStaff":r=".staff";break;case"selByBBox":r=".sylTextRect-display";break;case"selByLayerElement":r=".clef, .custos, .accid, .divLine";break;default:return void console.error("Unknown selection type "+i)}const f=new Set;for(const t of e){let e=t.closest(r);if(null===e){if(e=t.closest(".clef, .custos, .accid, .divLine"),null===e){console.warn("Element "+t.id+" is not part of specified group and is not a clef or custos or accid or divLine.");continue}l=l||!0}else h=h||!0;f.add(e);let n=e,i=n.getAttribute("mei:follows"),s=n.getAttribute("mei:precedes");for(;i||s;){if(i){if(n=document.querySelector("#"+i.slice(1)),f.has(n))break;n.classList.add("no-moving"),f.add(n),i=n.getAttribute("mei:follows")}if(s){if(n=document.querySelector("#"+s.slice(1)),f.has(n))break;n.classList.add("no-moving"),f.add(n),s=n.getAttribute("mei:precedes")}}}f.forEach(e=>g(e,n,!1));const p=Array.from(f.values());if(!l||h)switch(i){case"selByStaff":switch(p.length){case 1:a.triggerSingleStaffActions(),s.initGroupingListeners(),(0,o.resize)(p[0],t,n);break;default:a.triggerMultiStaffActions(),s.initGroupingListeners()}break;case"selByLayerElement":1===f.size?a.triggerLayerElementActions(p[0]):a.triggerDefaultActions();break;case"selBySyllable":switch(p.length){case 1:null===p[0].querySelector(".syl > rect")?(c.queueNotification('The selected syllable does not contain a &lt;syl&gt; element, please insert one using button "Add Syllable Text".',"warning"),a.triggerSyllableActions("noSyl"),a.addAddSylListener()):a.triggerSyllableActions("singleSelect");break;default:s.isLinkable("selBySyllable",p)?a.triggerSyllableActions("linkableSelect"):s.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default")}break;case"selByNeume":switch(p.length){case 1:a.triggerNeumeActions(),s.initGroupingListeners();break;default:s.isGroupable("selByNeume",p)?s.triggerGrouping("neume"):a.triggerDefaultActions()}break;case"selByNc":switch(p.length){case 1:a.triggerNcActions(p[0]);break;case 2:if(v(p)){if(p[0].parentElement===p[1].parentElement){const e=Array.from(p[0].parentElement.children);if(1===Math.abs(e.indexOf(p[0])-e.indexOf(p[1]))){let e=p[0].children[0],t=p[1].children[0],n=e.x.baseVal.value,i=t.x.baseVal.value,r=e.y.baseVal.value,o=t.y.baseVal.value;if((n>i||n===i&&r<o)&&([e,t]=[t,e],[n,r,i,o]=[i,o,n,r]),n===i||r<o){s.triggerGrouping("ligature");break}}}s.triggerGrouping("nc")}else a.triggerDefaultActions();break;default:v(p)?s.triggerGrouping("nc"):a.triggerDefaultActions()}break;case"selByBBox":switch(p.length){case 1:y(p[0],n,t),a.triggerBBoxActions();break;default:p.forEach(e=>y(e,n,void 0))}break;default:console.error("Unknown selection type. This should not have occurred.")}else 1===f.size?a.triggerLayerElementActions(p[0]):"selBySyllable"==i?a.triggerDefaultSylActions():a.triggerDefaultActions()}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],i=-1;++i<t;)n[i]=arguments[i];return e.call(this,n)}return e.call(this,[])}}},function(e,t){e.exports=d3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorLogsPanelContents=t.syllableActionsContent=t.hotkeysModal=t.editTextModal=t.addTextModal=t.groupingMenu=t.bboxActionContents=t.divLineActionContents=t.clefActionContents=t.columnActionContents=t.staffMergeActionContents=t.staffSplitActionContents=t.accidActionContents=t.layerElementInActionContents=t.layerElementOutActionContents=t.custosActionContents=t.defaultSylActionContents=t.defaultActionContents=t.neumeActionContents=t.defaultNeumeActionContents=t.ncActionContents=t.editControlsPanel=t.insertControlsPanel=t.insertTabHtml=void 0,t.insertTabHtml={primitiveTab:'<p class="insert-element-container">\n            <button id="punctum" class="side-panel-btn insertel smallel" aria-label="punctum" title="punctum"><img src="/Neon/Neon-gh/assets/img/punctum.png" class="image"/></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virga" class="side-panel-btn insertel smallel" aria-label="virga" title="virga"><img src="/Neon/Neon-gh/assets/img/virga.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virgaReversed" class="side-panel-btn insertel smallel" aria-label="Reversed Virga" title="Reversed Virga"><img src="/Neon/Neon-gh/assets/img/virga_reversed.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="diamond" class="side-panel-btn insertel smallel" aria-label="inclinatum" title="inclinatum"><img src="/Neon/Neon-gh/assets/img/diamond.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="custos" class="side-panel-btn insertel smallel" aria-label="custos" title="custos"><img src="/Neon/Neon-gh/assets/img/custos.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="cClef" class="side-panel-btn insertel smallel" aria-label="C Clef" title=" C Clef"><img src="/Neon/Neon-gh/assets/img/cClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="fClef" class="side-panel-btn insertel smallel" aria-label="F Clef" title="F Clef"><img src="/Neon/Neon-gh/assets/img/fClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentA" class="side-panel-btn insertel smallel" aria-label="Liquescent A" title="Liquescent A"><img src="/Neon/Neon-gh/assets/img/liquescentA.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentC" class="side-panel-btn insertel smallel" aria-label="Liquescent C" title="Liquescent C"><img src="/Neon/Neon-gh/assets/img/liquescentC.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="flat" class="side-panel-btn insertel smallel" aria-label="Flat" title="Flat"><img src="/Neon/Neon-gh/assets/img/accidFlat.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="natural" class="side-panel-btn insertel smallel" aria-label="Natural" title="Natural"><img src="/Neon/Neon-gh/assets/img/accidNatural.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="divLineMaxima" class="side-panel-btn insertel smallel" aria-label="DivLine Maxima" title="DivLine Maxima"><img src="/Neon/Neon-gh/assets/img/divisio.png" class="image"></button>\n        </p>',groupingTab:'<p class="insert-element-container">\n            <button id="pes" class="side-panel-btn insertel smallel" aria-label="pes" title="pes"><img src="/Neon/Neon-gh/assets/img/pes.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="clivis" class="side-panel-btn insertel smallel" aria-label="clivis" title="clivis"><img src="/Neon/Neon-gh/assets/img/clivis.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="scandicus" class="side-panel-btn insertel smallel" aria-label="scandicus" title="scandicus"><img src="/Neon/Neon-gh/assets/img/scandicus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="climacus" class="side-panel-btn insertel smallel" aria-label="climacus" title="climacus"><img src="/Neon/Neon-gh/assets/img/climacus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="torculus" class="side-panel-btn insertel smallel" aria-label="toculus" title="toculus"><img src="/Neon/Neon-gh/assets/img/torculus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="porrectus" class="side-panel-btn insertel smallel" aria-label="porrectus" title="porrectus"><img src="/Neon/Neon-gh/assets/img/porrectus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="pressus" class="side-panel-btn insertel smallel" aria-label="pressus" title="pressus"><img src="/Neon/Neon-gh/assets/img/pressus.png" class="image"></button>\n        </p>',systemTab:'<p class="insert-element-container">\n            <button id="staff" class="side-panel-btn insertel longel" aria-label="system" title="system"><img src="/Neon/Neon-gh/assets/img/staff.png" class="image"></button>\n        </p>\n        <p>Click upper left and lower right corners of new staff.</p>'},t.insertControlsPanel='<div class="panel-heading" id="insertMenu">\n        <div class="panel-heading-title">INSERT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleInsert" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n\t<div class="panel-content-subsection first-subsection">\n        <div id="insertContents" class="panel-contents" style="overflow-y: hidden;">\n            <p class="panel-tabs">\n                <a id="primitiveTab" class="insertTab">Primitive Elements</a>\n                <a id="groupingTab" class="insertTab">Grouping</a>\n                <a id="systemTab" class="insertTab">System</a>\n            </p>\n            <div id="insert_data"></div>\n        </div>\n    </div>',t.editControlsPanel='<div class="panel-heading" id="editMenu">\n        <div class="panel-heading-title focused">EDIT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleEdit" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div id="editContents" class="panel-contents">\n        <div class="panel-content-subsection first-subsection">\n            <div id="selection-mode-container">\n                <div class="panel-sub-title">Selection Mode:</div>\n                <div id="selection-mode-btns-container"  class="right-side-panel-btns-container" style="overflow-x: auto;">\n\n                        <button class="side-panel-btn sel-by" id="selBySyllable">Syllable</button>\n                        <button class="side-panel-btn sel-by" id="selByNeume">Neume</button>\n                        <button class="side-panel-btn sel-by" id="selByNc">Neume Component</button>\n                        <button class="side-panel-btn sel-by" id="selByStaff">Staff</button>\n                        <button class="side-panel-btn sel-by" id="selByLayerElement">Layer Element</button>\n\n                </div>\n            </div>\n        </div>\n\n        <div id="display-slider-actions-container">\n                <div class="panel-content-subsection hidden">\n                    <div id="moreEdit"></div>\n                </div>\n                <div class="panel-content-subsection hidden">\n                    <div id="extraEdit"></div>\n                </div>\n                    \x3c!--\n                    * The extraEdit panel is added for edit options that have dropdown menus\n                    * Like the Neume and Clef menus\n                    * This is done because the moreEdit menu needs to have overflow for cases where it has lots of buttons\n                    * But overflow ruins dropdown menus\n                    --\x3e\n                <div class="panel-content-subsection hidden">\n                    <div id="neumeEdit"></div>\n                </div>\n                <div class="panel-content-subsection">\n                    <div id="undoRedo_controls"></div>\n                </div>\n        </div>\n    </div>',t.ncActionContents='<label>Change Head Shape:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Head Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="Punctum" class="dropdown-item">Punctum</a>\n                <a id="Virga" class="dropdown-item">Virga</a>\n                <a id="VirgaReversed" class="dropdown-item">Reversed Virga</a>\n                <a id="Inclinatum" class="dropdown-item">Inclinatum</a>\n                <a id="LiquescentAnticlockwise" class="dropdown-item">Liquescent A</a>\n                <a id="LiquescentClockwise" class="dropdown-item">Liquescent C</a>\n            </div>\n        </div>\n    </div>',t.defaultNeumeActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="split-neume">Split Neumes</button>\n    </div>',t.neumeActionContents='<label>Grouping Options:</label>\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Groupings</span>\n                    <svg class="icon">\n                        <use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content scrollable-dropdown">\n                <a id="Climacus" class="dropdown-item grouping">Climacus</a>\n                <a id="ClimacusResupinus" class="dropdown-item grouping">Climacus Resupinus</a>\n                <a id="Clivis" class="dropdown-item grouping">Clivis</a>\n                <a id="Pes" class="dropdown-item grouping">Pes</a>\n                <a id="PesSubpunctis" class="dropdown-item grouping">Pes Subpunctis</a>\n                <a id="Porrectus" class="dropdown-item grouping">Porrectus</a>\n                <a id="PorrectusFlexus" class="dropdown-item grouping">Porrectus Flexus</a>\n                <a id="PorrectusSubpunctis" class="dropdown-item grouping">Porrectus Subpunctis</a>\n                <a id="Pressus" class="dropdown-item grouping">Pressus</a>\n                <a id="Scandicus" class="dropdown-item grouping">Scandicus</a>\n                <a id="ScandicusFlexus" class="dropdown-item grouping">Scandicus Flexus</a>\n                <a id="ScandicusSubpunctis" class="dropdown-item grouping">Scandicus Subpunctis</a>\n                <a id="Torculus" class="dropdown-item grouping">Torculus</a>\n                <a id="TorculusResupinus" class="dropdown-item grouping">Torculus Resupinus</a>\n            </div>\n        </div>\n    </div>\n    <button class="side-panel-btn" id="ungroupNcs">Ungroup</button>',t.defaultActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.defaultSylActionContents='<button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>',t.custosActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementOutActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="insertToSyllable">Insert to nearest syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementInActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="moveOutsideSyllable">Move outside syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.accidActionContents='<label>Change Accidental:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger"overflow="auto">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="ChangeToFlat" class="dropdown-item">Flat</a>\n                <a id="ChangeToNatural" class="dropdown-item">Natural</a>\n            </div>\n        </div>\n    </div>',t.staffSplitActionContents='<div>Split System:</div>\n    <div id="split-system-btns-container" class="right-side-panel-btns-container">\n        <button id="split-system" class="side-panel-btn">Split</button>\n        <button id="reset-rotate" class="side-panel-btn">Reset Rotate</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.staffMergeActionContents='<label>Merge Systems:</label>\n    <div id="merge-system-btns-container" class="right-side-panel-btns-container">\n        <button id="merge-systems" class="side-panel-btn">Merge</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.columnActionContents='<div class="col-edit-container">\n        Edit Column Information:\n        <div id="col-stepper-btns-container" class="right-side-panel-btns-container">\n            <button id="col-decrement" class="side-panel-btn col-stepper-btn">â€“</button>\n            <input type="text" id="col-input" class="side-panel-stepper-input" value="0">\n            <button id="col-increment" class="side-panel-btn col-stepper-btn">+</button>\n            <button id="col-confirm" class="side-panel-btn side-panel-confirm-btn" style="display:none">Confirm</button>\n            <div id="col-warning" class="side-panel-warning"></div>\n        </div>\n    </div>',t.clefActionContents='\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Displace Octave</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="increment-octave" class="dropdown-item">+1 Octave</a>\n                    <a id="decrement-octave" class="dropdown-item">-1 Octave</a>\n                </div>\n            </div>\n        </div>\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Change Clef Shape</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="CClef" class="dropdown-item">C Clef</a>\n                    <a id="FClef" class="dropdown-item">F Clef</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',t.divLineActionContents='<label>Change DivLine:</label>\n<div class="drop_select dropdown">\n    <div class="dropdown-trigger"overflow="auto">\n        <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n            <span>Shapes</span>\n            <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n        </button>\n    </div>\n    <div class="dropdown-menu" id="dropdown-menu" role="menu">\n        <div class="dropdown-content">\n            <a id="ChangeToCaesura" class="dropdown-item">Caesura</a>\n            <a id="ChangeToFinalis" class="dropdown-item">Finalis</a>\n            <a id="ChangeToMinima" class="dropdown-item">Minima</a>\n            <a id="ChangeToMaior" class="dropdown-item">Maior</a>\n            <a id="ChangeToMaxima" class="dropdown-item">Maxima</a>\n            <a id="ChangeToVirgula" class="dropdown-item">Virgula</a>\n        </div>\n    </div>\n</div>',t.bboxActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="matchHeight">Match Height for Entire Row</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.groupingMenu={nc:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn more-edit-btn" id="groupNcs">Group Neume Components</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',neume:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="groupNeumes">Group Neumes</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',syl:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n                <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n            </div>\n\t\t</div>',ligatureNc:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="groupNcs">Group Neume Components</button>\n                        <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>',ligature:'<div class="more-edit-btn panel-btn">\n                <div class="right-side-panel-btns-container">\n                    <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                    <button class="side-panel-btn" id="delete">Delete</button>\n                </div>\n            </div>',splitSyllable:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>'},t.addTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-add">Add</div>\n        </div>\n    </div>',t.editTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-save">Save</div>\n        </div>\n    </div>',t.hotkeysModal='\n    <div class="neon-modal-window-content" id="neon-modal-window-content-hotkeys">\n        \x3c!-- "Display" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Display</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">+</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom In</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">-</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Out</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">0</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Reset</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">h</div>\n                </div>\n                <div class="hotkey-entry-description">Hide Glyph</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">T</div>\n                </div>\n                <div class="hotkey-entry-description">Scroll To Syllable Text</div>\n            </div>\n        </div>\n\n        \x3c!-- "Edit" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Edit</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Undo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Redo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">q/w/e/r/t/y</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Highlight by Staff/Syllable/Neume/LayerElement/Selection/Off\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">1/2/3/4/5/6</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Select by Syllable/Neume/Neume Component/Staff/Layer Element/BBox\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Number</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Begin Insert for the <i>nth</i> Option in the Selected Tab\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">g</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Group/Ungroup Selected Element(s)\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- "Other" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Other</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">s</div>\n                </div>\n                <div class="hotkey-entry-description">Save File</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Esc</div>\n                </div>\n                <div class="hotkey-entry-description">Return to Edit Mode</div>\n            </div>\n        </div>\n    </div>',t.syllableActionsContent='\n  <div class="right-side-panel-btns-container">\n    <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n    <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n    <button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n  </div>\n',t.errorLogsPanelContents='<div class="panel-heading" id="errorLogHeading">\n        <div class="panel-heading-title">Error Log</div>\n        <svg class="icon">\n            <use id="toggleErrorLog" xlink:href="/Neon/Neon-gh//assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div class="panel-contents" id="errorLogContents" style="overflow: scroll; padding: 0.5em 0.75em; max-height: 300px;"><div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=t.ModalWindowView=void 0;const i=n(8),r=n(33),s=n(5);var o,a;!function(e){e[e.ADD_TEXT=0]="ADD_TEXT",e[e.EDIT_TEXT=1]="EDIT_TEXT",e[e.HOTKEYS=2]="HOTKEYS",e[e.ERROR_LOG=3]="ERROR_LOG",e[e.DOCUMENT_UPLOAD=4]="DOCUMENT_UPLOAD",e[e.MOVE_TO=5]="MOVE_TO",e[e.NEW_FOLDER=6]="NEW_FOLDER",e[e.RENAME=7]="RENAME"}(o=t.ModalWindowView||(t.ModalWindowView={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED"}(a||(a={}));t.ModalWindow=class{constructor(e){this.openAddSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-add").removeEventListener("click",this.addSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-add").addEventListener("click",this.addSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.openEditSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-save").removeEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-save").addEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.addSylText=function(){const e={action:"addSyl",param:{elementId:document.getElementsByClassName("syllable selected")[0].id,sylText:document.getElementById("neon-modal-window-edit-text-input").value}};this.neonView.edit(e,this.neonView.view.getCurrentPageURI()).then(e=>{e&&this.neonView.updateForCurrentPage().then(()=>{})}),this.hideModalWindow()},this.updateSylText=function(){const e=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0],t=e.textContent.replace(/\u{25CA}/u,"").trim(),n=document.getElementById("neon-modal-window-edit-text-input").value;if(null!==n&&n!==t){const t={action:"setText",param:{elementId:[...e.classList.entries()].filter(e=>"text-select"!==e[1]&&"selected-to-edit"!==e[1])[0][1],text:n}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(t=>{t&&this.neonView.updateForCurrentPage().then(()=>{this.updateSelectedBBox(e,this.dragHandler,this.neonView)})})}else this.updateSelectedBBox(e,this.dragHandler,this.neonView);this.hideModalWindow()},this.keydownListener=function(e){switch(e.stopImmediatePropagation(),this.modalWindowView){case o.ADD_TEXT:"Enter"===e.key&&this.addSylText(),"Escape"===e.key&&this.hideModalWindow();break;case o.EDIT_TEXT:"Enter"===e.key&&this.updateSylText(),"Escape"===e.key&&this.hideModalWindow();break;default:"Escape"===e.key&&this.hideModalWindow()}},this.focusModalWindow=function(){switch(this.modalWindowView){case o.ADD_TEXT:case o.EDIT_TEXT:document.getElementById("neon-modal-window-edit-text-input").select();break;case o.DOCUMENT_UPLOAD:case o.NEW_FOLDER:case o.RENAME:break;default:document.getElementById("neon-modal-window").focus()}},this.neonView=e,this.modalWindowState=a.CLOSED,this.setupEventListeners()}setupEventListeners(){document.getElementById("neon-modal-window-header-close").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").addEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").addEventListener("click",this.focusModalWindow.bind(this))}removeEventListeners(){document.getElementById("neon-modal-window-header-close").removeEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").removeEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").removeEventListener("click",this.focusModalWindow.bind(this))}setModalWindowView(e,t){this.modalWindowView=e,this.setModalWindowContent(t)}getModalWindowView(){return this.modalWindowView.toString()}openModalWindow(){switch(Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),this.modalWindowView){case o.ADD_TEXT:this.openAddSylTextModalWindow();break;case o.EDIT_TEXT:this.openEditSylTextModalWindow();break;case o.HOTKEYS:document.getElementById("neon-modal-window-content-hotkeys").classList.add("visible");case o.DOCUMENT_UPLOAD:case o.MOVE_TO:case o.NEW_FOLDER:case o.RENAME:default:document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()}document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",this.modalWindowState=a.OPEN}hideModalWindow(){switch(this.modalWindowView){case o.EDIT_TEXT:document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].classList.remove("selected-to-edit");break;case o.DOCUMENT_UPLOAD:case o.MOVE_TO:case o.NEW_FOLDER:case o.RENAME:document.getElementById("neon-modal-window-content-container").innerHTML=""}document.getElementById("neon-modal-window-container").style.display="none",document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",this.modalWindowState=a.CLOSED,this.removeEventListeners()}setModalWindowContent(e){const t=document.getElementById("neon-modal-window-content-container"),n=document.getElementById("neon-modal-window-header-title");switch(this.modalWindowView){case o.ADD_TEXT:t.innerHTML=i.addTextModal,n.innerText="ENTER SYLLABLE TEXT";break;case o.EDIT_TEXT:t.innerHTML=i.editTextModal,n.innerText="EDIT SYLLABLE TEXT";const s=/\u{25CA}/u,a=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].textContent.replace(s,"").trim();document.getElementById("neon-modal-window-edit-text-input").value=a;break;case o.HOTKEYS:t.innerHTML=i.hotkeysModal,n.innerText="HOTKEYS";break;case o.ERROR_LOG:t.innerHTML=`<div style="margin-bottom: 30px;white-space: pre-line;">${e}</div>\n          <div class="neon-modal-window-btn">\n            <a href="data:text/plain;charset=utf-8,${encodeURI(e)}" download="error.log">\n              Export\n            </a>\n            </div>`,n.innerText="ERROR LOG";break;case o.DOCUMENT_UPLOAD:n.innerText="DOCUMENT UPLOAD",t.innerHTML=r.uploadAreaHTML;break;case o.MOVE_TO:n.innerText="MOVE TO";break;case o.NEW_FOLDER:n.innerText="NEW FOLDER",t.innerHTML=r.newFolderHTML;break;case o.RENAME:n.innerText="RENAME",t.innerHTML=r.renameHTML;break;default:console.error("Unknown selection type. This should not have occurred.")}}updateSelectedBBox(e,t,n){(0,s.unselect)();const i=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(i)){const e=document.getElementById(i).querySelector(".sylTextRect-display");(0,s.selectBBox)(e,t,n)}}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";for(var i=n(12),r=[],s=0;s<256;++s)r.push((s+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!Object(i.a)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t,n){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayControls=t.loadHighlightSettings=t.updateDisplayAllBtn=t.updateHighlight=t.setHighlightSelectionControls=t.setHighlightControls=t.setHighlightOption=t.getHighlightType=t.setCircleSizeControls=t.setBgOpacityFromSlider=t.setGlyphOpacityFromSlider=t.setZoomControls=void 0;const i=n(18),r=n(4),s=n(7);let o,a,c;function l(e){const t=document.getElementById("opacityOutput");document.getElementById("opacitySlider").value=t.value,(0,r.setSettings)({glyphOpacity:Number(t.value)});const n=document.querySelector("#toggle-glyph-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show glyph")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide glyph"));try{document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=(Number(t.value)/100).toString()})}catch(e){console.warn("Unable to properly set opacity to pages")}}function u(e){const t=document.querySelector("#bgOpacityOutput");(0,r.setSettings)({imageOpacity:Number(t.value)});const n=document.querySelector("#toggle-bg-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show background image")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide background image"));const i=document.querySelector("."+e);i&&(i.style.opacity=String(Number(t.value)/100))}function d(e){const t=document.getElementById("highlight-"+e),n=document.getElementById("highlight-dropdown"),s=document.getElementById("highlight-type");if((0,r.setSettings)({highlightMode:e}),n.classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),"none"===e)return s.textContent="Â - Off",void i.unsetGroupingHighlight();t.classList.add("highlight-selected"),s.textContent="Â - "+(e[0].toUpperCase()+e.slice(1)),i.setGroupingHighlight(e)}function h(e){document.getElementById("highlight-"+e).addEventListener("click",()=>{d(e)})}function f(){document.body.removeEventListener("click",f),document.getElementById("highlight-dropdown").classList.remove("is-active")}function g(){const e=document.getElementById("highlight-dropdown");document.getElementById("highlight-button").addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("is-active"),e.classList.contains("is-active")?(document.body.addEventListener("click",f),h("column"),h("staff"),h("syllable"),h("neume"),h("layerElement"),h("none")):document.body.removeEventListener("click",f)})}function p(){const{highlightMode:e}=(0,r.getSettings)();d(e)}t.setZoomControls=function(e){if(void 0===e)return;const t=document.getElementById("zoomSlider"),n=document.getElementById("zoomOutput"),{zoom:i}=(0,r.getSettings)();t.value=String(i),n.value=String(i),e.zoomTo(i/100),document.getElementById("reset-zoom").addEventListener("click",()=>{n.value="100",t.value="100",e.resetZoomAndPan()}),document.querySelector("#set-zoom-easy-edit").addEventListener("click",()=>{n.value="180",t.value="180",e.zoomTo(1.8)}),t.addEventListener("mouseup",(function(){n.value=t.value,e.zoomTo(Number(n.value)/100)})),t.disabled=!1,document.body.addEventListener("keydown",i=>{const r=parseInt(n.value);if("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowRight"===i.key||"ArrowLeft"===i.key)i.preventDefault();else if("+"===i.key){const i=Math.min(r+20,parseInt(t.getAttribute("max")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else if("_"===i.key){const i=Math.max(r-20,parseInt(t.getAttribute("min")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else"0"===i.key&&(n.value="100",t.value="100",e.resetZoomAndPan())})},t.setGlyphOpacityFromSlider=l,t.setBgOpacityFromSlider=u,t.setCircleSizeControls=function(){const e=document.getElementById("circleSlider"),t=document.getElementById("circleOutput"),{circleSize:n}=(0,r.getSettings)();function i(){t.value=e.value,c=Number(e.value),(0,r.setSettings)({circleSize:Number(c)});const n=s.selectAll(".resizePoint");n.empty()||n.attr("r",c)}c=n,e.value=String(n),t.value=String(n),document.getElementById("reset-circle-size").addEventListener("click",()=>{const n=s.selectAll(".resizePoint");n.empty()||n.attr("r",25),c=Number(25),e.value=String(25),t.value=String(25),(0,r.setSettings)({circleSize:Number(25)}),i()}),e.addEventListener("input",i),e.addEventListener("change",i),e.disabled=!1},t.getHighlightType=function(){return document.getElementById("highlight-type").textContent.slice(3).toLowerCase()},t.setHighlightOption=h,t.setHighlightControls=g,t.setHighlightSelectionControls=function(){const e=document.getElementById("highlight-selection");e.addEventListener("click",()=>{document.getElementById("highlight-dropdown").classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),e.classList.add("highlight-selected"),document.getElementById("highlight-type").textContent=" - Selection",i.setGroupingHighlight("selection")})},t.updateHighlight=function(){let e;try{e=document.querySelector(".highlight-selected").id}catch(t){e=""}switch(e){case"highlight-column":i.setGroupingHighlight("column");break;case"highlight-staff":i.setGroupingHighlight("staff");break;case"highlight-syllable":i.setGroupingHighlight("syllable");break;case"highlight-neume":i.setGroupingHighlight("neume");break;case"highlight-layerElement":i.setGroupingHighlight("layerElement");break;case"highlight-selection":i.setGroupingHighlight("selection");break;default:i.unsetGroupingHighlight()}},t.updateDisplayAllBtn=function(){const e=document.getElementById("display-all-btn"),t=document.getElementById("displayInfo"),n=document.getElementById("displayBBox"),i=document.getElementById("displayText"),r=document.getElementById("display-errors");(null==t?void 0:t.checked)&&(null==n?void 0:n.checked)&&(null==i?void 0:i.checked)&&(null==r?void 0:r.checked)?(e.classList.add("selected"),e.innerHTML="Hide All"):e.classList.contains("selected")&&(e.classList.remove("selected"),e.innerHTML="Display All")},t.loadHighlightSettings=p,t.initDisplayControls=function(e,t){!function(e){const t=document.getElementById("opacitySlider"),n=document.getElementById("opacityOutput"),{glyphOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,o=Number(t.value),l(e)}o=i,t.value=String(i),n.value=String(i);const a=document.getElementById("toggle-glyph-opacity");100==i&&a.classList.add("hide-icon"),null==a||a.addEventListener("click",()=>{let i;a.classList.contains("hide-icon")?(a.classList.remove("hide-icon"),i=0):(a.classList.add("hide-icon"),i=1),document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=i.toString()}),o=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({glyphOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(e),function(e){const t=document.getElementById("bgOpacitySlider"),n=document.getElementById("bgOpacityOutput"),{imageOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,a=Number(t.value),u(e)}a=i,t.value=String(i),n.value=String(i);const o=document.getElementById("toggle-bg-opacity");100==i&&o.classList.add("hide-icon"),o.addEventListener("click",()=>{let i;o.classList.contains("hide-icon")?(o.classList.remove("hide-icon"),i=0):(o.classList.add("hide-icon"),i=1),document.getElementsByClassName(e)[0].style.opacity=i.toString(),a=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({imageOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(t),g(),document.getElementById("burgerMenu").addEventListener("click",()=>{document.getElementById("burgerMenu").classList.toggle("is-active"),document.getElementById("navMenu").classList.toggle("is-active")}),document.body.addEventListener("keydown",e=>{if(!e.metaKey)switch(e.key){case"q":d("staff");break;case"w":d("syllable");break;case"e":d("neume");break;case"r":d("layerElement");break;case"t":d("selection");break;case"y":d("none")}}),function(){const e=document.querySelector("#display-all-btn");e.addEventListener("click",()=>{if(e.classList.contains("selected")){e.classList.remove("selected"),e.innerHTML="Display All";const t=document.querySelectorAll('.checkbox-container:not([style*="display: none;"]) > .checkbox');Array.from(t).forEach(e=>{e.checked&&e.click()})}else{e.classList.add("selected"),e.innerHTML="Hide All";const t=document.querySelectorAll('.checkbox-container:not([style*="display: none;"]) > .checkbox');Array.from(t).forEach(e=>{e.checked||e.click()})}})}(),p();const n=document.getElementById("displayContents"),i=document.getElementById("toggleDisplay");document.getElementById("displayHeader").addEventListener("click",e=>{e.stopPropagation(),n.classList.contains("closed")?(n.classList.remove("closed"),n.style.padding="0.5em 0.75em",setTimeout(()=>{n.style.overflow="visible"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(n.classList.add("closed"),n.style.overflow="hidden",setTimeout(()=>{n.style.padding="0px"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDefaultActions=t.triggerDefaultSylActions=t.triggerBBoxActions=t.triggerSingleStaffActions=t.triggerStaffSplitMode=t.triggerMultiStaffActions=t.triggerLayerElementActions=t.triggerSyllableActions=t.triggerNeumeActions=t.triggerNcActions=t.addChangeStaffListener=t.addAddSylListener=t.matchHeightHandler=t.moveOutsideSyllableHandler=t.insertToSyllableHandler=t.changeStaffHandler=t.removeHandler=t.endOptionsSelection=t.deleteButtonHandler=t.unsetLiquescentAnticlockwiseAction=t.unsetLiquescentClockwiseAction=t.unsetVirgaReversedAction=t.unsetVirgaAction=t.unsetInclinatumAction=t.initNeonView=void 0;const i=n(8),r=n(24),s=n(3),o=n(35),a=n(36),c=n(5),l=n(9);let u;function d(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function h(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function f(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function g(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function p(e){return{action:"setLiquescent",param:{elementId:e,curve:""}}}function m(e){"d"!==e.key&&"Backspace"!==e.key||(y(),e.preventDefault())}function v(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden")),document.body.removeEventListener("keydown",m)}function y(){if(r.containsLinked((0,c.getSelectionType)()))return;const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{t.classList.contains("syl")&&(t=t.closest(".syllable")),t.classList.contains("accid")&&(t=t.closest(".accid")),t.classList.contains("divLine")&&(t=t.closest(".divLine")),e.push({action:"remove",param:{elementId:t.id}})});const t={action:"chain",param:e};v(),u.edit(t,u.view.getCurrentPageURI()).then(()=>{u.updateForCurrentPage()})}function b(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"changeStaff",param:{elementId:t.id}})});const t={action:"chain",param:e};v(),u.edit(t,u.view.getCurrentPageURI()).then(()=>{u.updateForCurrentPage()})}function w(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"insertToSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};u.edit(t,u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Insert Success","success"):s.default.queueNotification("Insert Failed XoX","error"),v(),u.updateForCurrentPage()})}function _(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"moveOutsideSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};u.edit(t,u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Move Success","success"):s.default.queueNotification("Move Failed XoX","error"),v(),u.updateForCurrentPage()})}function E(){const e=Array.from(document.getElementsByClassName("selected"));e.length>1&&s.default.queueNotification("Cannot match height to multiple bbox","error");const t={action:"matchHeight",param:{elementId:e[0].id}};u.edit(t,u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Height Match Success","success"):s.default.queueNotification("Height Match Failed XoX","error"),v(),u.updateForCurrentPage()})}function S(){const e=u.modal;e.setModalWindowView(l.ModalWindowView.ADD_TEXT),e.openModalWindow()}function x(){const e=document.getElementById("delete");e&&(e.removeEventListener("click",y),e.addEventListener("click",y),document.body.addEventListener("keydown",m))}function L(){const e=document.getElementById("changeStaff");null==e||e.removeEventListener("click",b),null==e||e.addEventListener("click",b)}function A(){const e=document.getElementById("col-input"),t=document.querySelectorAll(".staff.selected");let n;for(const e of t){const t=Array.from(e.classList).join(" ").match(/\bcolumn(\d+)\b/);if(t){const e=parseInt(t[1],10);if(n&&n!=e){document.getElementById("col-warning").innerText="The selected staves are not of the same column!",n=0;break}n=e}}n&&(e.value=n.toString())}function k(){const e=document.getElementById("col-decrement"),t=document.getElementById("col-increment"),n=document.getElementById("col-confirm"),i=document.getElementById("col-input");function r(e){let t=parseInt(i.value,10)||0;t+=e,t=Math.min(Math.max(t,1),5),t.toString()!=i.value&&(n.style.display=""),i.value=t.toString()}e.addEventListener("click",(function(){r(-1)})),t.addEventListener("click",(function(){r(1)})),n.addEventListener("click",(function(){const e=[];document.querySelectorAll(".staff.selected").forEach(t=>{e.push({action:"set",param:{elementId:t.id,attrType:"type",attrValue:"column"+i.value}})});const t={action:"chain",param:e};u.edit(t,u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Column Value Update Success","success"):s.default.queueNotification("Column Value Update Failed XoX","error"),v(),u.updateForCurrentPage()})}))}function C(e,t,n=!0){const i=document.getElementById(e);i&&(i.parentElement.classList.remove("hidden"),n?i.innerHTML=t:i.innerHTML+=t)}function I(e){u.edit(e,u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),u.updateForCurrentPage()})}function P(){const e=document.querySelector(".staff.selected");if(null!==e){new o.SplitStaffHandler(u,e).startSplit(),v()}else console.error("No staff was selected!"),v()}function O(){document.querySelectorAll(".drop_select").forEach(e=>{const t=()=>{document.body.removeEventListener("click",t),e.classList.remove("is-active")};e.addEventListener("click",n=>{e.classList.toggle("is-active"),Array.from(document.querySelectorAll(".drop_select")).filter(t=>t!==e).forEach(e=>e.classList.remove("is-active")),n.stopPropagation(),e.classList.contains("is-active")?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)})})}t.initNeonView=function(e){u=e,r.initNeonView(e)},t.unsetInclinatumAction=d,t.unsetVirgaAction=h,t.unsetVirgaReversedAction=f,t.unsetLiquescentClockwiseAction=g,t.unsetLiquescentAnticlockwiseAction=p,t.deleteButtonHandler=m,t.endOptionsSelection=v,t.removeHandler=y,t.changeStaffHandler=b,t.insertToSyllableHandler=w,t.moveOutsideSyllableHandler=_,t.matchHeightHandler=E,t.addAddSylListener=function(){const e=document.getElementById("addSyl");null==e||e.removeEventListener("click",S),null==e||e.addEventListener("click",S)},t.addChangeStaffListener=L,t.triggerNcActions=function(e){v(),C("moreEdit",i.defaultActionContents),C("extraEdit",i.ncActionContents),x(),document.querySelector("#Punctum.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=h(e.id),i=f(e.id),r=g(e.id),o=p(e.id);u.edit({action:"chain",param:[t,n,i,r,o]},u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),u.updateForCurrentPage()})}),document.querySelector("#Inclinatum.dropdown-item").addEventListener("click",()=>{const t=h(e.id),n=f(e.id),i=g(e.id),r=p(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"se"}};u.edit({action:"chain",param:[t,n,i,r,o]},u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),u.updateForCurrentPage()})}),document.querySelector("#Virga.dropdown-item").addEventListener("click",()=>{const t=f(e.id),n=d(e.id),i=g(e.id),r=p(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"s"}};u.edit({action:"chain",param:[t,n,i,r,o]},u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),u.updateForCurrentPage()})}),document.querySelector("#VirgaReversed.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=h(e.id),i=g(e.id),r=p(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"n"}};u.edit({action:"chain",param:[t,n,i,r,o]},u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),u.updateForCurrentPage()})}),document.querySelector("#LiquescentClockwise.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=h(e.id),i=f(e.id),r=p(e.id),o={action:"setLiquescent",param:{elementId:e.id,curve:"c"}};u.edit({action:"chain",param:[t,n,i,r,o]},u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),u.updateForCurrentPage()})}),document.querySelector("#LiquescentAnticlockwise.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=h(e.id),i=f(e.id),r=g(e.id),o={action:"setLiquescent",param:{elementId:e.id,curve:"a"}};u.edit({action:"chain",param:[t,n,i,r,o]},u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),u.updateForCurrentPage()})}),O()},t.triggerNeumeActions=function(){v(),C("moreEdit",i.defaultNeumeActionContents),C("extraEdit",i.neumeActionContents),x();const e=document.querySelectorAll(".selected");function t(t){const n={action:"changeGroup",param:{elementId:e[0].id,contour:t}};u.edit(n,u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Grouping Changed","success"):s.default.queueNotification("Grouping Failed","error"),v(),u.updateForCurrentPage()})}1===e.length?(document.getElementById("split-neume").addEventListener("click",()=>{const e=document.querySelector(".neume.selected");if(null!==e){new a.SplitNeumeHandler(u,e).startSplit(),v()}else console.error("No staff was selected!"),v()}),document.querySelector("#Pes.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#PesSubpunctis.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#Clivis.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#Scandicus.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusFlexus.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusSubpunctis.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#Climacus.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#ClimacusResupinus.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#Torculus.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#TorculusResupinus.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#Porrectus.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusFlexus.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusSubpunctis.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),document.querySelector("#Pressus.dropdown-item").addEventListener("click",e=>{t(u.info.getContourByValue(e.target.id))}),O()):console.warn("More than one neume selected! Cannot trigger Neume ClickSelect actions.")},t.triggerSyllableActions=function(e){v(),C("moreEdit",i.syllableActionsContent);let t="";switch(e){case"noSyl":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="addSyl">Add Syllable Text</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"singleSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"linkableSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"multiSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"default":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>'}C("moreEdit",t,!0),L(),x(),r.initGroupingListeners()},t.triggerLayerElementActions=function(e){var t,n,r,o;if(v(),e.classList.contains("custos"))return C("moreEdit",i.custosActionContents),L(),void x();C("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),e.classList.contains("accid")?(C("extraEdit",i.accidActionContents),function(e){document.querySelector("#ChangeToFlat.dropdown-item").addEventListener("click",()=>{I({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"f"}})}),document.querySelector("#ChangeToNatural.dropdown-item").addEventListener("click",()=>{I({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"n"}})}),O()}(e)):e.classList.contains("clef")?(C("extraEdit",i.clefActionContents),function(e){document.querySelector("#increment-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"above"}};u.edit(t,u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Clef octave incremented.","success"):s.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),v(),u.updateForCurrentPage()})}),document.querySelector("#decrement-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"below"}};u.edit(t,u.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Clef octave decremented.","success"):s.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),v(),u.updateForCurrentPage()})}),document.querySelector("#CClef.dropdown-item").addEventListener("click",()=>{I({action:"setClef",param:{elementId:e.id,shape:"C"}})}),document.querySelector("#FClef.dropdown-item").addEventListener("click",()=>{I({action:"setClef",param:{elementId:e.id,shape:"F"}})}),O()}(e)):e.classList.contains("divLine")&&(C("extraEdit",i.divLineActionContents),function(e){document.querySelector("#ChangeToMinima.dropdown-item").addEventListener("click",()=>{I({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"minima"}})}),document.querySelector("#ChangeToMaior.dropdown-item").addEventListener("click",()=>{I({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maior"}})}),document.querySelector("#ChangeToMaxima.dropdown-item").addEventListener("click",()=>{I({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maxima"}})}),document.querySelector("#ChangeToFinalis.dropdown-item").addEventListener("click",()=>{I({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"finalis"}})}),document.querySelector("#ChangeToCaesura.dropdown-item").addEventListener("click",()=>{I({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"caesura"}})}),document.querySelector("#ChangeToVirgula.dropdown-item").addEventListener("click",()=>{I({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"virgula"}})}),O()}(e)),L(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",w),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_),x(),L(),null===(r=document.getElementById("insertToSyllable"))||void 0===r||r.addEventListener("click",w),null===(o=document.getElementById("moveOutsideSyllable"))||void 0===o||o.addEventListener("click",_)},t.triggerMultiStaffActions=function(){v(),C("moreEdit",i.staffMergeActionContents),C("extraEdit",i.columnActionContents),x(),A(),k(),document.getElementById("merge-systems").addEventListener("click",()=>{r.mergeStaves()})},t.triggerStaffSplitMode=P,t.triggerSingleStaffActions=function(){v(),C("moreEdit",i.staffSplitActionContents),C("extraEdit",i.columnActionContents),x(),A(),k(),document.getElementById("split-system").addEventListener("click",()=>{P()}),document.getElementById("reset-rotate").addEventListener("click",()=>{const e=document.querySelector(".staff.selected"),t=(0,c.getStaffBBox)(e),n=Math.tan(t.rotate)*(t.lrx-t.ulx);if(null!==e){const i={action:"resizeRotate",param:{elementId:e.id,ulx:t.ulx,uly:t.rotate>0?t.uly+n/2:t.uly-n/2,lrx:t.lrx,lry:t.rotate>0?t.lry-n/2:t.lry+n/2,rotate:0}};u.edit(i,u.view.getCurrentPageURI()).then(async e=>{e&&await u.updateForCurrentPage()}),v()}else console.error("No staff was selected"),v()})},t.triggerBBoxActions=function(){v(),C("moreEdit",i.bboxActionContents),x(),document.getElementById("matchHeight").addEventListener("click",()=>{E()})},t.triggerDefaultSylActions=function(){v(),C("moreEdit",i.defaultSylActionContents),x(),L()},t.triggerDefaultActions=function(){v(),C("moreEdit",i.defaultActionContents),x()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlyphBBox=t.isOutOfSVGBounds=t.getStaffByCoords=t.getStaffIdByCoords=t.getSVGRelCoords=void 0;const i=n(5);function r(e,t){const n=new DOMPoint(e,t),i=document.querySelector(".active-page > .definition-scale").querySelector(".page-margin"),{x:r,y:s}=n.matrixTransform(i.getScreenCTM().inverse());return{x:r,y:s}}function s(e,t){const n=Array.from(document.querySelectorAll(".staff")).map(e=>(0,i.getStaffBBox)(e)),{x:s,y:o}=r(e,t),a=n.find(e=>s<=e.lrx&&s>=e.ulx&&o<=e.lry&&o>=e.uly);return a?a.id:null}t.getSVGRelCoords=r,t.getStaffIdByCoords=s,t.getStaffByCoords=function(e,t){const n=s(e,t);return document.querySelector("#"+n)},t.isOutOfSVGBounds=function(e,t){const n=document.querySelector("#bgimg");return e<=0||e>=Number(n.getAttribute("width"))||t<=0||t>=Number(n.getAttribute("height"))},t.getGlyphBBox=function(e){const t="rect"==e.tagName?e.getBBox():e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],s=e[3];i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&i)+t[2]+606105819|0)<<17|r>>>15)+s|0)&s|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&i)+t[6]-1473231341|0)<<17|r>>>15)+s|0)&s|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&i)+t[10]-42063|0)<<17|r>>>15)+s|0)&s|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&i)+t[14]-1502002290|0)<<17|r>>>15)+s|0)&s|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|s>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+s|0)&n|s&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|s>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+s|0)&n|s&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|s>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+s|0)&n|s&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|s>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+s|0)&n|s&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|s>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+s|0)^s^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|s>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+s|0)^s^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|s>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+s|0)^s^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|s>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+s|0)^s^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[14]-1416354905|0)<<15|r>>>17)+s|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[10]-1051523|0)<<15|r>>>17)+s|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[6]-1560198380|0)<<15|r>>>17)+s|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[2]+718787259|0)<<15|r>>>17)+s|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=s+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function s(e){var t,r,s,o,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,s[14]=a,s[15]=c,n(u,s),u}function o(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return a(s("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,s,o,a,c=this.byteLength,l=t(n,c),u=c;return i!==e&&(u=t(i,c)),l>u?new ArrayBuffer(0):(r=u-l,s=new ArrayBuffer(r),o=new Uint8Array(s),a=new Uint8Array(this,l,r),o.set(a),s)}}(),u.prototype.append=function(e){return this.appendBinary(c(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var i,r,s,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,e),o=0;o<16;o+=1)e[o]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),s=parseInt(i[1],16)||0,e[14]=r,e[15]=s,n(this._hash,e)},u.hash=function(e,t){return u.hashBinary(c(e),t)},u.hashBinary=function(e,t){var n=a(s(e));return t?l(n):n},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,i,s,o,a,c=(i=this._buff.buffer,s=e,o=!0,(a=new Uint8Array(i.byteLength+s.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(s),i.byteLength),o?a:a.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)n(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i[t]<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),s=new Uint8Array(r);for(n=0;n<i;n+=1)s[n]=e.charCodeAt(n);return t?s:r}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,s,o,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,r(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),i=e.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)s[t>>2]|=e[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,s[14]=a,s[15]=c,n(u,s),u}(new Uint8Array(e)));return t?l(i):i},u}()},function(e,t,n){"use strict";function i(e){if(16!==e.length)return"";function t(e,t){return e+t.toString(16).padStart(2,"0")}return e.slice(0,4).reduce(t,"")+"-"+e.slice(4,6).reduce(t,"")+"-"+e.slice(6,8).reduce(t,"")+"-"+e.slice(8,10).reduce(t,"")+"-"+e.slice(10).reduce(t,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){if(void 0===window.crypto)return i(new Uint8Array(16));const e=new Uint8Array(16),t=Uint8Array.from([parseInt("01000000",2),parseInt("10000000",2),parseInt("00001111",2),parseInt("00111111",2)]);return window.crypto.getRandomValues(e),e[6]=e[6]&t[2]|t[0],e[8]=e[8]&t[3]|t[1],i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupingHighlight=t.setStaffHighlight=t.highlight=t.unsetGroupingHighlight=t.unsetStaffHighlight=t.unhighlight=void 0;const i=["rgb(230, 159, 0)","rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(240, 228, 66)","rgb(0, 114, 178)","rgb(213, 94, 0)","rgb(204, 121, 167)"];function r(e){let t;t=e?e.querySelectorAll(":not(.selected) .highlighted"):document.querySelectorAll(":not(.selected) .highlighted"),t.forEach(e=>{if("path"!==e.tagName||e.closest(".staff").classList.contains("selected"))if(e.classList.contains("divLine")&&!e.closest(".staff").classList.contains("selected"))e.setAttribute("stroke","#000000");else{e.removeAttribute("fill");let t=e.querySelectorAll(".sylTextRect-display");if(!t.length)try{t=e.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(e){t=[]}t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")}))}else e.setAttribute("stroke","#000000");e.classList.remove("highlighted")})}function s(){r()}function o(){s();Array.from(document.getElementsByClassName("highlighted")).filter(e=>!e.parentElement.classList.contains("selected")).forEach(e=>{e.setAttribute("#d00",null);let t=e.querySelectorAll(".sylTextRect-display");t.length||null!==e.closest(".syllable")&&(t=e.closest(".syllable").querySelectorAll("sylTextRect-display")),t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")})),e.classList.remove("highlighted"),e.querySelectorAll("sylTextRect-display").forEach(e=>{e.classList.remove("highlighted")})}),Array.from(document.getElementsByClassName("selected")).forEach(e=>{e.setAttribute("fill","")})}function a(e,t){const n=Array.from(e.children);for(let e=0;e<n.length;e++){const i=n[e];if("path"===i.tagName)i.setAttribute("stroke",t);else if(i.classList.contains("divLine"))i.setAttribute("stroke",t),i.setAttribute("stroke-width","30px");else if(i.querySelectorAll(".divLine").length&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.querySelectorAll(".divLine")).forEach(e=>{n.push(e)});else{if(i.classList.contains("resizePoint")||"resizeRect"===i.id||i.classList.contains("rotatePoint"))return;if(i.classList.contains("layer"))Array.from(i.children).forEach(e=>{n.push(e)});else if(document.getElementsByClassName("highlight-selected").length&&"highlight-neume"===document.getElementsByClassName("highlight-selected")[0].id&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.classList.contains("neume")).forEach(e=>{n.push(e)});else{i.setAttribute("fill",t);let e=i.querySelectorAll(".sylTextRect-display");if(!e.length)try{e=i.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(t){e=[]}e.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t,e.classList.add("highlighted"))}))}}i.classList.add("highlighted")}let i;i="30px",e.querySelectorAll(".nc, .custos, .clef, .accid").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width",i)})}function c(){const e=Array.from(document.getElementsByClassName("staff"));for(let t=0;t<e.length;t++){const n=i[t%i.length];a(e[t],n)}}t.unhighlight=r,t.unsetStaffHighlight=s,t.unsetGroupingHighlight=o,t.highlight=a,t.setStaffHighlight=c,t.setGroupingHighlight=function e(t){if(o(),"staff"===t)return void c();if("column"===t)return void function(){const e={};document.querySelectorAll(".staff").forEach(t=>{const n=Array.from(t.classList).join(" ").match(/\bcolumn(\d+)\b/);let i=0;n&&(i=parseInt(n[1],10)-1),e[i]||(e[i]=[]),e[i].push(t)});for(const[t,n]of Object.entries(e)){const e=i[Number(t)%i.length];for(const t of n)a(t,e)}}();if("selection"===t){switch(document.querySelector(".sel-by.is-active").id){case"selBySyllable":case"selByBBox":t="syllable";break;case"selByColumn":t="column";break;case"selByStaff":t="staff";break;case"selByLayerElement":t="layerElement";break;case"selByNeume":default:t="neume"}return void e(t)}let n;n="layerElement"==t?document.querySelectorAll(".accid, .clef, .custos, .divLine"):document.getElementsByClassName(t),document.querySelectorAll(".nc, .custos, .clef, .accid, .divLine").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")});for(let e=0;e<n.length;e++){const t=i[e%i.length];if(null!==n[e].closest(".selected")||n[e].classList.contains("selected"))n[e].classList.contains("selected")?n[e].setAttribute("fill","#d00"):n[e].setAttribute("fill",null),n[e].classList.remove("highlighted");else{n[e].setAttribute("fill",t);n[e].querySelectorAll(".sylTextRect-display").forEach((function(e){e.closest(".syl").classList.contains("selected")||e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t)})),n[e].classList.add("highlighted"),n[e].querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("highlighted")})}const r=n[e].querySelectorAll(".divLine");if(r)for(let e=0;e<r.length;e++)r[e].setAttribute("stroke",t),r[e].setAttribute("stroke-width","30px")}}},function(e,t,n){"use strict";var i=n(43),r=t.ValidationError=function(e,t,n,i,r,s){if(Array.isArray(i)?(this.path=i,this.property=i.reduce((function(e,t){return e+d(t)}),"instance")):void 0!==i&&(this.property=i),e&&(this.message=e),n){var o=n.$id||n.id;this.schema=o||n}void 0!==t&&(this.instance=t),this.name=r,this.argument=s,this.stack=this.toString()};r.prototype.toString=function(){return this.property+" "+this.message};var s=t.ValidatorResult=function(e,t,n,i){this.instance=e,this.schema=t,this.options=n,this.path=i.path,this.propertyPath=i.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&!0===n.disableFormat};function o(e,t){return t+": "+e.toString()+"\n"}function a(e){Error.captureStackTrace&&Error.captureStackTrace(this,a),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}s.prototype.addError=function(e){var t;if("string"==typeof e)t=new r(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new r(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new a(this);if(this.throwError)throw t;return t},s.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))},s.prototype.toString=function(e){return this.errors.map(o).join("")},Object.defineProperty(s.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=a,a.prototype=new Error,a.prototype.constructor=a,a.prototype.name="Validation Error";var c=t.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};c.prototype=Object.create(Error.prototype,{constructor:{value:c,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var l=t.SchemaContext=function(e,t,n,i,r){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce((function(e,t){return e+d(t)}),"instance")):this.propertyPath=n,this.base=i,this.schemas=r};l.prototype.resolve=function(e){return i.resolve(this.base,e)},l.prototype.makeChild=function(e,t){var n=void 0===t?this.path:this.path.concat([t]),r=e.$id||e.id,s=i.resolve(this.base,r||""),o=new l(e,this.options,n,s,Object.create(this.schemas));return r&&!o.schemas[s]&&(o.schemas[s]=e),o};var u=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],t.isFormat=function(e,t,n){if("string"==typeof e&&void 0!==u[t]){if(u[t]instanceof RegExp)return u[t].test(e);if("function"==typeof u[t])return u[t](e)}else if(n&&n.customFormats&&"function"==typeof n.customFormats[t])return n.customFormats[t](e);return!0};var d=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function h(e,t,n,i){"object"==typeof n?t[i]=p(e[i],n):-1===e.indexOf(n)&&t.push(n)}function f(e,t,n){t[n]=e[n]}function g(e,t,n,i){"object"==typeof t[i]&&t[i]&&e[i]?n[i]=p(e[i],t[i]):n[i]=t[i]}function p(e,t){var n=Array.isArray(t),i=n&&[]||{};return n?(e=e||[],i=i.concat(e),t.forEach(h.bind(null,e,i))):(e&&"object"==typeof e&&Object.keys(e).forEach(f.bind(null,e,i)),Object.keys(t).forEach(g.bind(null,e,t,i))),i}function m(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,n){if(typeof t!=typeof n)return!1;if(Array.isArray(t))return!!Array.isArray(n)&&(t.length===n.length&&t.every((function(i,r){return e(t[r],n[r])})));if("object"==typeof t){if(!t||!n)return t===n;var i=Object.keys(t),r=Object.keys(n);return i.length===r.length&&i.every((function(i){return e(t[i],n[i])}))}return t===n},e.exports.deepMerge=p,t.objectGetPath=function(e,t){for(var n,i=t.split("/").slice(1);"string"==typeof(n=i.shift());){var r=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(r in e))return;e=e[r]}return e},t.encodePath=function(e){return e.map(m).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var i=n[0].split(".");return 2===i.length&&(t+=i[1].length),t},t.isSchema=function(e){return"object"==typeof e&&e||"boolean"==typeof e}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return s}));var r=new Uint8Array(16);function s(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},function(e,t,n){"use strict";function i(e,t,n){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,s=i.index;if(Array.isArray(r))r.push(e);else if(s===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,i,r,s,o,a,c,l,u,d,h="";n=t.pop();)if(i=n.obj,h+=n.prefix||"",r=n.val||"")h+=r;else if("object"!=typeof i)h+=void 0===i?null:JSON.stringify(i);else if(null===i)h+="null";else if(Array.isArray(i)){for(t.push({val:"]"}),s=i.length-1;s>=0;s--)o=0===s?"":",",t.push({obj:i[s],prefix:o});t.push({val:"["})}else{for(c in a=[],i)i.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),s=a.length-1;s>=0;s--)u=i[l=a[s]],d=s>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:u,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,n,r,s,o,a,c,l,u,d=[],h=[],f=0;;)if("}"!==(t=e[f++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":f+=3,i(null,d,h);break;case"t":f+=3,i(!0,d,h);break;case"f":f+=4,i(!1,d,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",f--;;){if(r=e[f++],!/[\d\.\-e\+]/.test(r)){f--;break}n+=r}i(parseFloat(n),d,h);break;case'"':for(s="",o=void 0,a=0;'"'!==(c=e[f++])||"\\"===o&&a%2==1;)s+=c,"\\"===(o=c)?a++:a=0;i(JSON.parse('"'+s+'"'),d,h);break;case"[":l={element:[],index:d.length},d.push(l.element),h.push(l);break;case"{":u={element:{},index:d.length},d.push(u.element),h.push(u);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();i(d.pop(),d,h)}}},function(e,t,n){"use strict";var i=n(20),r=n(11);t.a=function(e,t,n){var s=(e=e||{}).random||(e.rng||i.a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=s[o];return t}return Object(r.a)(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(7),r=n(15),s=n(3),o=n(5);t.default=class{constructor(e,t){this.dragStartCoords=[-1,-1],this.neonView=e,this.selector=t}dragInit(){const e=i.drag().on("start",function(){this.dragStartCoords=[i.event.x,i.event.y],this.dx=0,this.dy=0,i.event.sourceEvent.target.classList.contains("staff")&&i.select(this.selector).call(e)}.bind(this)).on("drag",this.dragging.bind(this)).on("end",this.dragEnded.bind(this));i.selectAll(".selected").call(e);let t=Array.from(document.querySelectorAll(".selected"));this.noMovePrecedes=t.filter(e=>e.classList.contains("no-moving")&&e.hasAttribute("mei:precedes")),t=t.filter(e=>!e.classList.contains("no-moving")),this.selection=t.concat(Array.from(document.querySelectorAll(".resizePoint")))}dragging(){this.dx=i.event.x-this.dragStartCoords[0],this.dy=i.event.y-this.dragStartCoords[1],this.moveElements(this.selection,this.dx,this.dy);if(0===this.selection.filter(e=>e.classList.contains("syl")).length&&0===this.noMovePrecedes.length){const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));this.moveElements(e,-this.dx,-this.dy)}}dragEnded(){const e=Math.abs(this.dx),t=Math.abs(this.dy);if(e<=5&&t<=5)return this.reset(),void this.dragInit();const n=this.selection.filter(e=>!e.classList.contains("resizePoint"));if(this.isCursorOutOfBounds()||this.isDragOutOfBounds(n)){this.returnElements(this.selection);const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));return this.returnElements(e),this.reset(),this.dragInit(),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Drag action failed.","error")}const i=[];n.forEach(e=>{const t={action:"drag",param:{elementId:"rect"===e.tagName?e.closest(".syl").id:e.id,x:this.dx,y:-this.dy}};i.push(t)});const r={action:"chain",param:i};this.neonView.edit(r,this.neonView.view.getCurrentPageURI()).then(async()=>{const e=Array.from(document.querySelectorAll(".selected")).filter(e=>!e.classList.contains("no-moving")).map(e=>e.id);await this.neonView.updateForCurrentPage(),this.endOptionsSelection(),this.reset(),await this.reselect(e),this.dragInit()})}async reselect(e){const t=e.map(e=>document.querySelector("#"+e));t.filter(e=>!e.classList.contains("syl")).forEach(async()=>await(0,o.selectAll)(t,this.neonView,this)),t.filter(e=>e.classList.contains("syl")).forEach(e=>(0,o.selectBBox)(e.querySelector(".sylTextRect-display"),this,this.neonView)),t.filter(e=>e.classList.contains("staff")).forEach(e=>(0,o.selectStaff)(e,this))}resetTo(e){this.resetToAction=e}reset(){void 0!==this.resetToAction&&i.select(this.selector).call(this.resetToAction)}endOptionsSelection(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}moveElements(e,t,n){e.filter(e=>null!==e).forEach(e=>{e.setAttribute("transform",`translate(${t},${n})`)})}returnElements(e){e.filter(e=>null!==e).forEach(e=>{e.removeAttribute("transform")})}isCursorOutOfBounds(){const e=this.dragStartCoords[0]+this.dx,t=this.dragStartCoords[1]+this.dy;return(0,r.isOutOfSVGBounds)(e,t)}isDragOutOfBounds(e){let t=document.querySelector("#displayBBox").checked?"use, rect":"use";e[0].classList.contains("staff")&&(t="path");const n=e.reduce((e,n)=>e.concat(...n.querySelectorAll(t)),[]).map(r.getGlyphBBox).reduce((e,t)=>({ulx:Math.min(e.ulx,t.ulx),uly:Math.min(e.uly,t.uly),lrx:Math.max(e.lrx,t.lrx),lry:Math.max(e.lry,t.lry)}),{ulx:Number.MAX_VALUE,uly:Number.MAX_VALUE,lrx:Number.MIN_VALUE,lry:Number.MIN_VALUE}),{ulx:i,uly:s,lrx:o,lry:a}=n;return(0,r.isOutOfSVGBounds)(i+this.dx,s+this.dy)||(0,r.isOutOfSVGBounds)(o+this.dx,a+this.dy)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupingListeners=t.endGroupingSelection=t.triggerGrouping=t.mergeStaves=t.isLinkable=t.canBeLinked=t.isLinked=t.containsLinked=t.isGroupable=t.initNeonView=void 0;const i=n(8),r=n(34),s=n(3),o=n(5),a=n(14),c=n(14);let l;function u(e,t){if(Array.from(t.values()).length<2)return!1;switch(e){case"selByNeume":if(o.sharedLogicalParent(e,t))return!1;default:return!!o.areAdjacent(e,t)}}function d(e,t){switch(t||(t=Array.from(document.querySelectorAll(".selected"))),e){case"selBySyllable":for(const e of t)if(e.hasAttribute("mei:follows")||e.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNeume":for(const e of t)if(e.parentElement.hasAttribute("mei:follows")||e.parentElement.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNc":for(const e of t)if(e.parentElement.parentElement.hasAttribute("mei:follows")||e.parentElement.parentElement.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1}}function h(e){for(const t of e)if(!t.hasAttribute("mei:precedes")&&!t.hasAttribute("mei:follows"))return!1;return!0}function f(e){e.sort((e,t)=>{const n=e.closest(".staff"),i=t.closest(".staff");return n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1});const t=Array.from(document.querySelectorAll(".staff")),n=Array.from(document.querySelectorAll(".syllable"));for(let i=0;i<e.length-1;i++){const r=e[i],s=e[i+1],o=n.indexOf(r);if(n.indexOf(s)-o!=1)return!1;const a=r.closest(".staff"),c=s.closest(".staff"),l=t.indexOf(a);if(t.indexOf(c)-l!=1)return!1}if(2===e.length)return e.every(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));const i=e.filter(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));if(1!==i.length)return!1;const r=i[0];return 0===e.indexOf(r)||e.indexOf(r)===e.length-1}function g(e,t){return!(t.length<2)&&("selBySyllable"===e&&(function(e){e.sort((e,t)=>e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?-1:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?1:0);for(let t=0;t<e.length;t++){const n=e.at(t);if(n.hasAttribute("mei:precedes")){const i=n.getAttribute("mei:precedes").replace("#","");let r;const s=e.find((e,t)=>e.id===i&&(r=t,!0));if(!s)return!0;if(!s.hasAttribute("mei:follows"))return!0;if(s.getAttribute("mei:follows")!="#"+n.id)return!0;if(r!==t+1)return!0}if(n.hasAttribute("mei:follows")){const t=n.getAttribute("mei:follows").replace("#",""),i=e.find(e=>e.id===t);if(!i)return!0;if(!i.hasAttribute("mei:precedes"))return!0;if(i.getAttribute("mei:precedes")!="#"+n.id)return!0}return!1}}(t)?(s.queueNotification("The selected syllables include invalid linked syllable(s)!","warning"),!1):!!h(t)||!!f(t)))}function p(){const e=document.querySelectorAll(".staff.selected"),t=[];e.forEach(e=>{t.push(e.id)});const n={action:"merge",param:{elementIds:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?(s.queueNotification("Staff Merged","success"),a.endOptionsSelection(),l.updateForCurrentPage()):s.queueNotification("Merge Failed","error")})}function m(){const e=document.getElementById("moreEdit");e.innerHTML="",e.parentElement.classList.add("hidden"),document.body.removeEventListener("keydown",c.deleteButtonHandler),document.body.removeEventListener("keydown",y)}function v(){const e=document.getElementById("delete");e.removeEventListener("click",c.removeHandler),e.addEventListener("click",c.removeHandler),document.body.addEventListener("keydown",c.deleteButtonHandler),document.body.addEventListener("keydown",y);try{document.getElementById("mergeSyls").addEventListener("click",()=>{if(d(o.getSelectionType()))return;b("group","neume",S().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNeumes").addEventListener("click",()=>{if(d(o.getSelectionType()))return;b("group","neume",E().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNcs").addEventListener("click",()=>{b("group","nc",E().filter(e=>document.getElementById(e).classList.contains("nc")))})}catch(e){}try{document.getElementById("ungroupNeumes").addEventListener("click",()=>{b("ungroup","neume",S())})}catch(e){}try{document.getElementById("ungroupNcs").addEventListener("click",()=>{b("ungroup","nc",S())})}catch(e){}try{document.getElementById("toggle-ligature").addEventListener("click",async()=>{const e={action:"toggleLigature",param:{elementIds:E()}};l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?s.queueNotification("Ligature Toggled","success"):s.queueNotification("Ligature Toggle Failed","error"),m(),l.updateForCurrentPage()})})}catch(e){}try{document.getElementById("toggle-link").addEventListener("click",()=>{_()})}catch(e){}}t.initNeonView=function(e){l=e},t.isGroupable=u,t.containsLinked=d,t.isLinked=h,t.canBeLinked=f,t.isLinkable=g,t.mergeStaves=p,t.triggerGrouping=function(e){const t=document.getElementById("moreEdit");t.parentElement.classList.remove("hidden"),t.innerHTML+=i.groupingMenu[e],v()},t.endGroupingSelection=m,t.initGroupingListeners=v;const y=function(e){if("g"===e.key){const e=Array.from(document.querySelectorAll(".selected"));if(0==e.length)return;const t=o.getSelectionType();if(d(t,e))return;switch(t){case"selBySyllable":if(g(t,e))_();else if(u(t,e)){b("group","neume",S().filter(e=>document.getElementById(e).classList.contains("neume")))}else if(1===e.length){b("ungroup","neume",S())}break;case"selByNeume":if(u(t,e)){b("group","neume",E())}else{b("ungroup","nc",S())}break;case"selByNc":if(u(t,e)){b("group","nc",E())}else{b("ungroup","nc",S())}break;case"selByStaff":u(t,e)?p():a.triggerStaffSplitMode();break;default:return void console.error(`Can't perform grouping/ungrouping action on selection type ${t}.`)}}};function b(e,t,n){const i={action:e,param:{groupType:t,elementIds:n}};l.edit(i,l.view.getCurrentPageURI()).then(i=>{if(i?"group"===e?s.queueNotification("Grouping Success","success"):s.queueNotification("Ungrouping Success","success"):"group"===e?s.queueNotification("Grouping Failed","error"):s.queueNotification("Ungrouping Failed","error"),l.updateForCurrentPage(),"nc"===t){const e=document.getElementById(n[0]).parentElement,t=Array.from(e.children);void 0===l.info.getContour(t)&&r.groupingNotRecognized()}m()})}function w(e){const t=document.getElementById(e);return t instanceof SVGGraphicsElement?t:null}function _(){const e=E(),t={action:"chain",param:[]},n=new Array,i=e.map(w).filter(e=>null!==e);if(h(i))n.push(...function(e){const t=new Array;for(const n of e){const e=document.getElementById(n);e.getAttribute("mei:precedes")&&t.push({action:"set",param:{elementId:n,attrType:"precedes",attrValue:""}}),e.getAttribute("mei:follows")&&(t.push({action:"set",param:{elementId:n,attrType:"follows",attrValue:""}}),t.push({action:"setText",param:{elementId:n,text:""}}))}return t}(e));else{const[e,t]=function(e){if(e.sort((e,t)=>{const n=e.closest(".staff"),i=t.closest(".staff");return n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}),2===e.length)return[e[0],e[1]];const t=e.find(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));if(t){const n=e.indexOf(t);if(0===n)return[e[n],e[n+1]];if(n===e.length-1)return[e[n-1],e[n]]}}(i);console.log(e.id,t.id),n.push({action:"set",param:{elementId:e.id,attrType:"precedes",attrValue:"#"+t.id}}),n.push({action:"set",param:{elementId:t.id,attrType:"follows",attrValue:"#"+e.id}});const r=t.querySelector(".syl");null!==r&&n.push({action:"remove",param:{elementId:r.id}})}t.param=n,l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.queueNotification("Toggled Syllable Link","success"):s.queueNotification("Failed to Toggle Syllable Link","error"),m(),l.updateForCurrentPage()})}function E(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push(t.id)}),e}function S(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{if(t.classList.contains("divLine")||t.classList.contains("accid")||t.classList.contains("clef"))return;Array.from(t.children).forEach(t=>{e.push(t.id)})}),e}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateErrorLogVisibility=t.initDisplayListener=t.initErrorLogControls=t.initErrorLog=t.recordNotification=void 0;const i=n(8),r=n(4),s=n(9);function o(e){const t=document.createElement("div");t.classList.add("notification-container"),t.innerHTML=`\n      <div class="notification-wrapper">\n        <div class="log-main">${e.message}</div>\n        <div class="log-extra"></div>\n      </div>\n\n      <div class="notification-btn-container" style="display: flex;">\n        <div class="notif-log-info-icon-wrapper">\n          <img style="display: none;" class="notif-log-info-icon" src="/Neon/Neon-gh//assets/img/notification-info-icon-light.svg" title="Log Message">\n        </div>\n\n        <div class="notif-remove-icon-wrapper">\n          <img class="log-remove notif-remove-icon" src="/Neon/Neon-gh//assets/img/garbage-closed.svg" title="Remove">\n        </div>\n      </div>\n  `;const n=t.querySelector(".log-remove");if(n.onclick=()=>t.remove(),n.addEventListener("mouseover",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-open.svg")}),n.addEventListener("mouseout",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-closed.svg")}),e.logInfo){const i=t.querySelector(".notif-log-info-icon");i.style.display="",n.style.height="20px",i.addEventListener("mouseover",()=>{i.setAttribute("src","/Neon/Neon-gh//assets/img/notification-info-icon-dark.svg")}),i.addEventListener("mouseout",()=>{i.setAttribute("src","/Neon/Neon-gh//assets/img/notification-info-icon-light.svg")}),i.addEventListener("click",()=>function(e){const t=new s.ModalWindow;t.setModalWindowView(s.ModalWindowView.ERROR_LOG,e),t.openModalWindow()}(e.logInfo))}return t}function a(){const e=document.querySelector("#error_log"),t=document.querySelector("#errorLogHeading"),n=t.querySelector("svg > use"),i=document.querySelector("#errorLogContents"),{displayErrLog:s}=(0,r.getSettings)();s&&e.classList.add("visible"),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),c()}function c(){const e=document.querySelector("#display-single-container"),t=document.createElement("label"),n=document.createElement("input");n.classList.add("checkbox"),t.classList.add("checkbox-container","side-panel-btn"),t.textContent="Errors",n.id="display-errors",n.type="checkbox",n.checked=!1,t.appendChild(n),e.append(t);const{displayErrLog:i}=(0,r.getSettings)();n.checked=i,n.addEventListener("click",()=>{(0,r.setSettings)({displayErrLog:n.checked}),l()})}function l(){const e=document.querySelector("#error_log"),{debugMode:t,displayErrLog:n,displayInfo:i,displayBBox:s,displayText:o}=(0,r.getSettings)(),a=document.getElementById("display-all-btn");t?n?(e.classList.add("visible"),i&&s&&o&&n&&(a.classList.add("selected"),a.innerHTML="Hide All")):(e.classList.remove("visible"),a.classList.contains("selected")&&(a.classList.remove("selected"),a.innerHTML="Display All")):(e.classList.remove("visible"),i&&s&&o?(a.classList.add("selected"),a.innerHTML="Hide All"):(a.classList.remove("selected"),a.innerHTML="Display All"))}t.recordNotification=function(e){document.querySelector("#errorLogContents").prepend(o(e))},t.initErrorLog=function(){document.querySelector("#error_log").innerHTML=i.errorLogsPanelContents,a()},t.initErrorLogControls=a,t.initDisplayListener=c,t.updateErrorLogVisibility=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;const i=n(5),r=n(7),s=n(15),o=n(3),a=n(4),c={TopLeft:0,Top:1,TopRight:2,Right:3,BottomRight:4,Bottom:5,BottomLeft:6,Left:7};function l(e,t,n,i,r){let s;if(r>=0)s=[{x:e,y:t,name:c.TopLeft},{x:(e+n)/2,y:t+(n-e)/2*Math.sin(r),name:c.Top},{x:n,y:t+(n-e)*Math.sin(r),name:c.TopRight},{x:n,y:(t+i+(n-e)*Math.sin(r))/2,name:c.Right},{x:n,y:i,name:c.BottomRight},{x:(e+n)/2,y:i-(n-e)/2*Math.sin(r),name:c.Bottom},{x:e,y:i-(n-e)*Math.sin(r),name:c.BottomLeft},{x:e,y:(t+i-(n-e)*Math.sin(r))/2,name:c.Left}];else{const o=(n-e)*Math.tan(Math.abs(r)),a=i-t-o;s=[{x:e,y:t+o,name:c.TopLeft},{x:(e+n)/2,y:t+o/2,name:c.Top},{x:n,y:t,name:c.TopRight},{x:n,y:t+a/2,name:c.Right},{x:n,y:t+a,name:c.BottomRight},{x:(e+n)/2,y:i-o/2,name:c.Bottom},{x:e,y:i,name:c.BottomLeft},{x:e,y:i-a/2,name:c.Left}]}return s}t.resize=function(e,t,n){let u,d,h,f,g,p,m,v,y,b,w,_,E,S,x;function L(){const e=l(u,d,h,f,g),t=e.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");document.querySelector("#resizeRect").setAttribute("points",t);const n=document.querySelector(".syl.selected > .sylTextRect-display");n&&(n.setAttribute("x",String(Math.min(u,h))),n.setAttribute("y",String(Math.min(d,f))),n.setAttribute("width",String(Math.abs(h-u))),n.setAttribute("height",String(Math.abs(f-d))));for(const t in c){const n=e[c[t]];r.select("#p-"+t).filter(".resizePoint").attr("cx",n.x).attr("cy",n.y)}let i=e[3].x,s=e[3].y;const o=i+100+","+(s+85)+" "+(i+70)+","+(s+50)+" "+(i+100)+","+(s+15)+" "+(i+130)+","+(s+50);i=e[7].x,s=e[7].y;const a=i-100+","+(s-15)+" "+(i-130)+","+(s-50)+" "+(i-100)+","+(s-85)+" "+(i-70)+","+(s-50);r.select("#rotateLeft").attr("points",a),r.select("#rotateRight").attr("points",o)}!function A(){if(null===e)return;if(r.selectAll(".resizePoint").remove(),r.selectAll("#resizeRect").remove(),r.selectAll(".rotatePoint").remove(),e.classList.contains("syl")){const t=e.querySelector(".sylTextRect-display");if(null===t)return void console.warn("Tried to draw resize rect for a sylTextRect that doesn't exist (or isn't displaying)");u=Number(t.getAttribute("x")),d=Number(t.getAttribute("y")),h=+u+ +t.getAttribute("width"),f=+d+ +t.getAttribute("height"),g=0}if(e.classList.contains("staff")){const t=(0,i.getStaffBBox)(e);u=t.ulx,d=t.uly,h=t.lrx,f=t.lry;const n=e.querySelector("path").getAttribute("d").match(/\d+/g).map(e=>Number(e));g=Math.atan((n[3]-n[1])/(n[2]-n[0]))}let k;p=u,y=d,m=h,b=f;const C=l(u,d,h,f,g);E=C[2].x-C[0].x;const I=C.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");r.select("#"+e.id).append("polygon").attr("points",I).attr("id","resizeRect").attr("stroke","black").attr("stroke-width",10).attr("fill","none").style("cursor","move").style("stroke-dasharray","20 10");const{circleSize:P}=(0,a.getSettings)();for(const t in c){const n=C[c[t]];r.select(e.viewportElement).append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",P).attr("stroke","black").attr("stroke-width",4).attr("fill","#0099ff").attr("class","resizePoint").attr("id","p-"+t)}for(const e in c)r.select("#p-"+e).filter(".resizePoint").call(r.drag().on("start",()=>{O(e)}).on("drag",B).on("end",T.bind(this)));if(e.classList.contains("staff")){let t=C[3].x,n=C[3].y;const i=t+100+","+(n+85)+" "+(t+70)+","+(n+50)+" "+(t+100)+","+(n+15)+" "+(t+130)+","+(n+50);t=C[7].x,n=C[7].y;const s=t-100+","+(n-15)+" "+(t-130)+","+(n-50)+" "+(t-100)+","+(n-85)+" "+(t-70)+","+(n-50);r.select("#"+e.id).append("polygon").attr("points",i).attr("id","rotateRight").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#"+e.id).append("polygon").attr("points",s).attr("id","rotateLeft").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#rotateLeft").call(r.drag().on("start",N).on("drag",(function(){const e=r.mouse(this)[1]-w,t=x-Math.atan(e/E);t>-.2&&t<.2&&(S=e,d=_+S,g=t,g>=0?(d=S+C.filter(e=>e.name===c.TopLeft)[0].y,f=C.filter(e=>e.name===c.BottomRight)[0].y):(d=C.filter(e=>e.name===c.TopRight)[0].y,f=S+C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M)),r.select("#rotateRight").call(r.drag().on("start",N).on("drag",(function(){const e=r.mouse(this)[1]-w,t=x+Math.atan(e/E);t>-.2&&t<.2&&(S=e,g=t,g>=0?(f=S+C.filter(e=>e.name===c.BottomRight)[0].y,d=C.filter(e=>e.name===c.TopLeft)[0].y):(d=S+C.filter(e=>e.name===c.TopRight)[0].y,f=C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M))}function O(e){k=e;const t=C.find(t=>t.name===c[e]);v=[t.x,t.y],y=d,b=f}function B(){const e=r.mouse(this);switch(c[k]){case c.TopLeft:u=e[0],d=e[1];break;case c.Top:d=e[1]-(h-u)*Math.tan(g)/2;break;case c.TopRight:h=e[0],d=e[1]-(h-u)*Math.tan(g);break;case c.Right:h=e[0],f=b+(e[0]-v[0])*Math.tan(g);break;case c.BottomRight:h=e[0],f=e[1];break;case c.Bottom:f=e[1]+(h-u)*Math.tan(g)/2;break;case c.BottomLeft:u=e[0],f=e[1]+(h-u)*Math.tan(g);break;case c.Left:u=e[0],d=y+(e[0]-v[0])*Math.tan(g);break;default:console.error("Something that wasn't a side of the rectangle was dragged. This shouldn't happen.")}L()}function T(){if((0,s.isOutOfSVGBounds)(u,d)||(0,s.isOutOfSVGBounds)(h,f))return u=p,d=y,h=m,f=b,L(),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Resize action failed.","error");const r={action:"resize",param:{elementId:e.id,ulx:u,uly:d,lrx:h,lry:f}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{if(r&&await t.updateForCurrentPage(),e=document.querySelector("#"+e.id),u=void 0,d=void 0,h=void 0,f=void 0,A(),e.classList.contains("syl"))(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this);else{(0,i.selectAll)([document.querySelector("#"+e.id)],t,n);const r=document.querySelector("moreEdit");r&&(r.innerHTML="",r.parentElement.classList.add("hidden"))}})}function N(){const e=r.event.sourceEvent.target.id;w=r.mouse(this)[1],b=f,y=d,_="rotateRight"===e?f:d,x=g}function M(){if(void 0===S&&(S=0),(0,s.isOutOfSVGBounds)(u,d)||(0,s.isOutOfSVGBounds)(h,f))return document.querySelectorAll(".resizePoint").forEach(e=>e.remove()),document.querySelectorAll("#resizeRect").forEach(e=>e.remove()),document.querySelectorAll(".rotatePoint").forEach(e=>e.remove()),e=document.getElementById(e.id),u=void 0,d=void 0,h=void 0,f=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Rotate action failed.","error");const r={action:"resizeRotate",param:{elementId:e.id,ulx:u,uly:d,lrx:h,lry:f,rotate:180*g/Math.PI}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{r&&await t.updateForCurrentPage(),e=document.getElementById(e.id),u=void 0,d=void 0,h=void 0,f=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n)})}}()}},function(e,t,n){"use strict";n.r(t),function(e){var i,r,s=n(2),o=n.n(s),a=n(22),c=n(16),l=n.n(c),u=n(21),d=n.n(u),h=n(6),f=n.n(h),g=n(1),p=n.n(g),m=n(0),v=n.n(m);function y(e){return"$"+e}function b(e){return e.substring(1)}function w(){this._store={}}function _(e){if(this._store=new w,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function E(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),i=new Uint8Array(e);return n.set(i),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}w.prototype.get=function(e){var t=y(e);return this._store[t]},w.prototype.set=function(e,t){var n=y(e);return this._store[n]=t,!0},w.prototype.has=function(e){return y(e)in this._store},w.prototype.keys=function(){return Object.keys(this._store).map(e=>b(e))},w.prototype.delete=function(e){var t=y(e),n=t in this._store;return delete this._store[t],n},w.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,i=t.length;n<i;n++){var r=t[n];e(this._store[r],r=b(r))}},Object.defineProperty(w.prototype,"size",{get:function(){return Object.keys(this._store).length}}),_.prototype.add=function(e){return this._store.set(e,!0)},_.prototype.has=function(e){return this._store.has(e)},_.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(_.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(i=_,r=w):(i=Set,r=Map);var S=Function.prototype.toString,x=S.call(Object);function L(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=L(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return E(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==x}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=L(e[n]);void 0!==r&&(t[n]=r)}return t}function A(e){var t=!1;return f()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function k(e){return f()((function(t){t=L(t);var n=this,i="function"==typeof t[t.length-1]&&t.pop(),r=new Promise((function(i,r){var s;try{var o=A((function(e,t){e?r(e):i(t)}));t.push(o),(s=e.apply(n,t))&&"function"==typeof s.then&&i(s)}catch(e){r(e)}}));return i&&r.then((function(e){i(null,e)}),i),r}))}function C(e,t){return k(f()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],r=0;r<n.length-1;r++)i.push(n[r]);e.constructor.emit("debug",i);var s=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",e.name,t];r=r.concat(n?["error",n]:["success",i]),e.constructor.emit("debug",r),s(n,i)}}}(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,r){i.taskqueue.addTask((function(s){s?r(s):t(i[e].apply(i,n))}))}))})))}function I(e,t){for(var n={},i=0,r=t.length;i<r;i++){var s=t[i];s in e&&(n[s]=e[s])}return n}var P;function O(e){return e}function B(e){return[{ok:e}]}function T(e,t,n){var i=t.docs,s=new r;i.forEach((function(e){s.has(e.id)?s.get(e.id).push(e):s.set(e.id,[e])}));var o=s.size,a=0,c=new Array(o);function l(){var e;++a===o&&(e=[],c.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var u=[];s.forEach((function(e,t){u.push(t)}));var d=0;function h(){if(!(d>=u.length)){var n=Math.min(d+6,u.length),i=u.slice(d,n);!function(n,i){n.forEach((function(n,r){var o=i+r,a=s.get(n),u=I(a[0],["atts_since","attachments"]);u.open_revs=a.map((function(e){return e.rev})),u.open_revs=u.open_revs.filter(O);var d=O;0===u.open_revs.length&&(delete u.open_revs,d=B),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(u[e]=t[e])})),e.get(n,u,(function(e,t){var i,r,s;i=e?[{error:e}]:d(t),r=n,s=i,c[o]={id:r,docs:s},l(),h()}))}))}(i,d),d+=i.length}}h()}try{localStorage.setItem("_pouch_check_localstorage",1),P=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){P=!1}function N(){return P}function M(){v.a.call(this),this._listeners={},function(e){N()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function q(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function D(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function F(e,t){q("info","The above "+e+" is totally normal. "+t)}p()(M,v.a),M.prototype.addListener=function(e,t,n,i){if(!this._listeners[t]){var r=this,s=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(r._listeners[t])if(s)s="waiting";else{s=!0;var e=I(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,i.onChange(e))})).on("complete",(function(){"waiting"===s&&o()(a),s=!1})).on("error",(function(){s=!1}))}}},M.prototype.removeListener=function(e,t){t in this._listeners&&(v.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},M.prototype.notifyLocalWindows=function(e){N()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},M.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var j="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function R(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}p()(R,Error),R.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new R(401,"unauthorized","Name or password is incorrect.");var V=new R(400,"bad_request","Missing JSON list of 'docs'"),z=new R(404,"not_found","missing"),H=new R(409,"conflict","Document update conflict"),U=new R(400,"bad_request","_id field must contain a string"),$=new R(412,"missing_id","_id is required for puts"),Z=new R(400,"bad_request","Only reserved document ids may start with underscore."),G=(new R(412,"precondition_failed","Database not open"),new R(500,"unknown_error","Database encountered an unknown error")),W=new R(500,"badarg","Some query argument is invalid"),K=(new R(400,"invalid_request","Request was invalid"),new R(400,"query_parse_error","Some query parameter is invalid")),Y=new R(500,"doc_validation","Bad special document member"),X=new R(400,"bad_request","Something wrong with the request"),J=new R(400,"bad_request","Document must be a JSON object"),Q=(new R(404,"not_found","Database not found"),new R(500,"indexed_db_went_bad","unknown")),ee=(new R(500,"web_sql_went_bad","unknown"),new R(500,"levelDB_went_went_bad","unknown"),new R(403,"forbidden","Forbidden by design doc validate_doc_update function"),new R(400,"bad_request","Invalid rev format")),te=(new R(412,"file_exists","The database could not be created, the file already exists."),new R(412,"missing_stub","A pre-existing attachment stub wasn't found"));new R(413,"invalid_url","Provided URL is invalid");function ne(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),i=0,r=n.length;i<r;i++)"function"!=typeof e[n[i]]&&(this[n[i]]=e[n[i]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=R.prototype,new n(t)}function ie(e){if("object"!=typeof e){var t=e;(e=G).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function re(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var r=n&&function(e,t,n){try{return!e(t,n)}catch(e){var i="Filter function threw: "+e.toString();return ne(X,i)}}(e.filter,i.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var s in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,s)&&(i.doc._attachments[s].stub=!0)}else delete i.doc;return!0}}function se(e){for(var t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n]);return t}function oe(e){var t;if(e?"string"!=typeof e?t=ne(U):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ne(Z)):t=ne($),t)throw t}function ae(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(q("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ce(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function le(e){var t=ce(e);return t?t.join("/"):null}var ue=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],de=/(?:^|&)([^&=]*)=?([^&]*)/g,he=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function fe(e){for(var t=he.exec(e),n={},i=14;i--;){var r=ue[i],s=t[i]||"",o=-1!==["user","password"].indexOf(r);n[r]=o?decodeURIComponent(s):s}return n.queryKey={},n[ue[12]].replace(de,(function(e,t,i){t&&(n.queryKey[t]=i)})),n}function ge(e,t){var n=[],i=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.push(r),i.push(t[r]));return n.push(e),Function.apply(null,n).apply(null,i)}function pe(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(i){var r=i._rev,s=n(i);return s?(s._id=t,s._rev=r,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return pe(e,t._id,n)}))}(e,s,n)):{updated:!1,rev:r}}))}var me=function(e){return atob(e)},ve=function(e){return btoa(e)};function ye(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function be(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function we(e,t){return ye([be(e)],{type:t})}function _e(e,t){return we(me(e),t)}function Ee(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(i)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return t}(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Se(e,t){Ee(e,(function(e){t(e)}))}function xe(e,t){Se(e,(function(e){t(ve(e))}))}var Le=self.setImmediate||self.setTimeout;function Ae(e,t,n,i,r){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),r()}))}function ke(e,t,n,i,r){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),r()}function Ce(e,t){var n="string"==typeof e,i=n?e.length:e.size,r=Math.min(32768,i),s=Math.ceil(i/r),o=0,a=n?new l.a:new l.a.ArrayBuffer,c=n?ke:Ae;function u(){Le(h)}function d(){var e=function(e){return ve(e)}(a.end(!0));t(e),a.destroy()}function h(){var t=o*r,n=t+r;o++,c(a,e,t,n,o<s?u:d)}h()}function Ie(e){return l.a.hash(e)}function Pe(e,t){if(!t)return Object(a.a)().replace(/-/g,"").toLowerCase();var n=j({},e);return delete n._rev_tree,Ie(JSON.stringify(n))}var Oe=a.a;function Be(e){for(var t,n,i,r,s=e.rev_tree.slice();r=s.pop();){var o=r.ids,a=o[2],c=r.pos;if(a.length)for(var l=0,u=a.length;l<u;l++)s.push({pos:c+1,ids:a[l]});else{var d=!!o[1].deleted,h=o[0];t&&!(i!==d?i:n!==c?n<c:t<h)||(t=h,n=c,i=d)}}return n+"-"+t}function Te(e,t){for(var n,i=e.slice();n=i.pop();)for(var r=n.pos,s=n.ids,o=s[2],a=t(0===o.length,r,s[0],n.ctx,s[1]),c=0,l=o.length;c<l;c++)i.push({pos:r+1,ids:o[c],ctx:a})}function Ne(e,t){return e.pos-t.pos}function Me(e){var t=[];Te(e,(function(e,n,i,r,s){e&&t.push({rev:n+"-"+i,pos:n,opts:s})})),t.sort(Ne).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function qe(e){for(var t=Be(e),n=Me(e.rev_tree),i=[],r=0,s=n.length;r<s;r++){var o=n[r];o.rev===t||o.opts.deleted||i.push(o.rev)}return i}function De(e){for(var t,n=[],i=e.slice();t=i.pop();){var r=t.pos,s=t.ids,o=s[0],a=s[1],c=s[2],l=0===c.length,u=t.history?t.history.slice():[];u.push({id:o,opts:a}),l&&n.push({pos:r+1-u.length,ids:u});for(var d=0,h=c.length;d<h;d++)i.push({pos:r+1,ids:c[d],history:u})}return n.reverse()}function Fe(e,t){return e.pos-t.pos}function je(e,t,n){var i=function(e,t,n){for(var i,r=0,s=e.length;r<s;)n(e[i=r+s>>>1],t)<0?r=i+1:s=i;return r}(e,t,n);e.splice(i,0,t)}function Re(e,t){for(var n,i,r=t,s=e.length;r<s;r++){var o=e[r],a=[o.id,o.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function Ve(e,t){return e[0]<t[0]?-1:1}function ze(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var r=n.pop(),s=r.tree1,o=r.tree2;(s[1].status||o[1].status)&&(s[1].status="available"===s[1].status||"available"===o[1].status?"available":"missing");for(var a=0;a<o[2].length;a++)if(s[2][0]){for(var c=!1,l=0;l<s[2].length;l++)s[2][l][0]===o[2][a][0]&&(n.push({tree1:s[2][l],tree2:o[2][a]}),c=!0);c||(i="new_branch",je(s[2],o[2][a],Ve))}else i="new_leaf",s[2][0]=o[2][a]}return{conflicts:i,tree:e}}function He(e,t,n){var i,r=[],s=!1,o=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])i=ze(l.ids,t.ids),r.push({pos:l.pos,ids:i.tree}),s=s||i.conflicts,o=!0;else if(!0!==n){var u=l.pos<t.pos?l:t,d=l.pos<t.pos?t:l,h=d.pos-u.pos,f=[],g=[];for(g.push({ids:u.ids,diff:h,parent:null,parentIdx:null});g.length>0;){var p=g.pop();if(0!==p.diff)for(var m=p.ids[2],v=0,y=m.length;v<y;v++)g.push({ids:m[v],diff:p.diff-1,parent:p.ids,parentIdx:v});else p.ids[0]===d.ids[0]&&f.push(p)}var b=f[0];b?(i=ze(b.ids,d.ids),b.parent[2][b.parentIdx]=i.tree,r.push({pos:u.pos,ids:u.ids}),s=s||i.conflicts,o=!0):r.push(l)}else r.push(l)}return o||r.push(t),r.sort(Fe),{tree:r,conflicts:s||"internal_node"}}function Ue(e,t,n){var i=He(e,t),r=function(e,t){for(var n,i,r=De(e),s=0,o=r.length;s<o;s++){var a,c=r[s],l=c.ids;if(l.length>t){n||(n={});var u=l.length-t;a={pos:c.pos+u,ids:Re(l,u)};for(var d=0;d<u;d++){var h=c.pos+d+"-"+l[d].id;n[h]=!0}}else a={pos:c.pos,ids:Re(l,0)};i=i?He(i,a,!0).tree:[a]}return n&&Te(i,(function(e,t,i){delete n[t+"-"+i]})),{tree:i,revs:n?Object.keys(n):[]}}(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function $e(e){return e.ids}function Ze(e,t){t||(t=Be(e));for(var n,i=t.substring(t.indexOf("-")+1),r=e.rev_tree.map($e);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function Ge(e){return/^_local/.test(e)}function We(e,t,n){v.a.call(this);var i=this;this.db=e;var r=(t=t?L(t):{}).complete=A((function(t,n){var r,o;t?(o="error",("listenerCount"in(r=i)?r.listenerCount(o):v.a.listenerCount(r,o))>0&&i.emit("error",t)):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",s)}));function s(){i.cancel()}n&&(i.on("complete",(function(e){n(null,e)})),i.on("error",n)),e.once("destroyed",s),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,i){try{e.emit("change",t,n,i)}catch(e){q("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var o=new Promise((function(e,n){t.complete=function(t,i){t?n(t):e(i)}}));i.once("cancel",(function(){e.removeListener("destroyed",s),t.complete(null,{status:"cancelled"})})),this.then=o.then.bind(o),this.catch=o.catch.bind(o),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)}))}function Ke(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=Me(t.rev_tree).map((function(e){return{rev:e.rev}})));var r={id:t.id,changes:i,doc:e};return Ze(t,e._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=qe(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Ye(e,t){return e<t?-1:e>t?1:0}function Xe(e,t){return function(n,i){n||i[0]&&i[0].error?((n=n||i[0]).docId=t,e(n)):e(null,i.length?i[0]:i)}}function Je(e,t){var n=Ye(e._id,t._id);return 0!==n?n:Ye(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Qe(){for(var e in v.a.call(this),Qe.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function et(){this.isReady=!1,this.failed=!1,this.queue=[]}function tt(e,t){if(!(this instanceof tt))return new tt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=L(t),n.auto_compaction=t.auto_compaction,n.prefix=tt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=tt.adapters,r=tt.preferredAdapters,s=tt.prefix,o=t.adapter;if(!o)for(var a=0;a<r.length&&("idb"===(o=r[a])&&"websql"in i&&N()&&localStorage["_pouch__websqldb_"+s+e]);++a)q("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=i[o];return{name:!c||!("use_prefix"in c)||c.use_prefix?s+e:e,adapter:o}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);Qe.call(n),n.taskqueue=new et,n.adapter=t.adapter,tt.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),tt.emit("created",n.name),n.taskqueue.ready(n)}))}p()(We,v.a),We.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},We.prototype.validateChanges=function(e){var t=e.complete,n=this;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(function(i){if(i)return t(i);n.doChanges(e)})):n.doChanges(e)},We.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=L(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Ke,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&q("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var r=t.cancel;t.cancel=f()((function(e){i.cancel(),r.apply(this,e)}))}}else this.db.info().then((function(i){t.isCancelled?n(null,{status:"cancelled"}):(e.since=i.update_seq,t.doChanges(e))}),n)},p()(Qe,v.a),Qe.prototype.post=C("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(J));this.bulkDocs({docs:[e]},t,Xe(n,e._id))})),Qe.prototype.put=C("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(J));if(oe(e._id),Ge(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var i,r,s,o,a=this;function c(n){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,n):a.bulkDocs({docs:[e]},t,Xe(n,e._id))}t.force&&e._rev?(i=e._rev.split("-"),r=i[1],s=parseInt(i[0],10)+1,o=Pe(),e._revisions={start:s,ids:[o,r]},e._rev=s+"-"+o,t.new_edits=!1,c((function(t){var i=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,i)}))):c(n)})),Qe.prototype.putAttachment=C("putAttachment",(function(e,t,n,i,r){var s=this;function o(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:i,revpos:++n},s.put(e)}return"function"==typeof r&&(r=i,i=n,n=null),void 0===r&&(r=i,i=n,n=null),r||q("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then((function(e){if(e._rev!==n)throw ne(H);return o(e)}),(function(t){if(t.reason===z.message)return o({_id:e});throw t}))})),Qe.prototype.removeAttachment=C("removeAttachment",(function(e,t,n,i){var r=this;r.get(e,(function(e,s){if(e)i(e);else if(s._rev===n){if(!s._attachments)return i();delete s._attachments[t],0===Object.keys(s._attachments).length&&delete s._attachments,r.put(s,i)}else i(ne(H))}))})),Qe.prototype.remove=C("remove",(function(e,t,n,i){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(r=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),(n=n||{}).was_delete=!0;var s={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(Ge(s._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[s]},n,Xe(i,s._id))})),Qe.prototype.revsDiff=C("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var s=0,o=new r;function a(e,t){o.has(e)||o.set(e,{missing:[]}),o.get(e).missing.push(t)}i.map((function(t){this._getRevisionTree(t,(function(r,c){if(r&&404===r.status&&"missing"===r.message)o.set(t,{missing:e[t]});else{if(r)return n(r);!function(t,n){var i=e[t].slice(0);Te(n,(function(e,n,r,s,o){var c=n+"-"+r,l=i.indexOf(c);-1!==l&&(i.splice(l,1),"available"!==o.status&&a(t,c))})),i.forEach((function(e){a(t,e)}))}(t,c)}if(++s===i.length){var l={};return o.forEach((function(e,t){l[t]=e})),n(null,l)}}))}),this)})),Qe.prototype.bulkGet=C("bulkGet",(function(e,t){T(this,e,t)})),Qe.prototype.compactDocument=C("compactDocument",(function(e,t,n){var i=this;this._getRevisionTree(e,(function(r,s){if(r)return n(r);var o=function(e){var t={},n=[];return Te(e,(function(e,i,r,s){var o=i+"-"+r;return e&&(t[o]=0),void 0!==s&&n.push({from:s,to:o}),o})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(s),a=[],c=[];Object.keys(o).forEach((function(e){o[e]>t&&a.push(e)})),Te(s,(function(e,t,n,i,r){var s=t+"-"+n;"available"===r.status&&-1!==a.indexOf(s)&&c.push(s)})),i._doCompaction(e,c,n)}))})),Qe.prototype.compact=C("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],i=n.opts,r=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(i.last_seq=n.last_seq),t._compact(i,(function(n,i){n?r(n):r(null,i),o()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),Qe.prototype._compact=function(e,t){var n=this,i={return_docs:!1,last_seq:e.last_seq||0},r=[];n.changes(i).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return pe(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},Qe.prototype.get=C("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(ne(U));if(Ge(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],r=this;function s(){var s=[],o=i.length;if(!o)return n(null,s);i.forEach((function(i){r.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)s.push({missing:i});else{for(var r,a=0,c=s.length;a<c;a++)if(s[a].ok&&s[a].ok._rev===t._rev){r=!0;break}r||s.push({ok:t})}--o||n(null,s)}))}))}if(!t.open_revs)return this._get(e,t,(function(i,s){if(i)return i.docId=e,n(i);var o=s.doc,a=s.metadata,c=s.ctx;if(t.conflicts){var l=qe(a);l.length&&(o._conflicts=l)}if(Ze(a,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var u=o._rev.split("-"),d=parseInt(u[0],10),h=u[1],f=De(a.rev_tree),g=null,p=0;p<f.length;p++){var m=f[p],v=m.ids.map((function(e){return e.id})).indexOf(h);(v===d-1||!g&&-1!==v)&&(g=m)}if(!g)return(i=new Error("invalid rev tree")).docId=e,n(i);var y=g.ids.map((function(e){return e.id})).indexOf(o._rev.split("-")[1])+1,b=g.ids.length-y;if(g.ids.splice(y,b),g.ids.reverse(),t.revs&&(o._revisions={start:g.pos+g.ids.length-1,ids:g.ids.map((function(e){return e.id}))}),t.revs_info){var w=g.pos+g.ids.length;o._revs_info=g.ids.map((function(e){return{rev:--w+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&o._attachments){var _=o._attachments,E=Object.keys(_).length;if(0===E)return n(null,o);Object.keys(_).forEach((function(e){this._getAttachment(o._id,e,_[e],{rev:o._rev,binary:t.binary,ctx:c},(function(t,i){var r=o._attachments[e];r.data=i,delete r.stub,delete r.length,--E||n(null,o)}))}),r)}else{if(o._attachments)for(var S in o._attachments)Object.prototype.hasOwnProperty.call(o._attachments,S)&&(o._attachments[S].stub=!0);n(null,o)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=Me(t).map((function(e){return e.rev})),s()}));else{if(!Array.isArray(t.open_revs))return n(ne(G,"function_clause"));i=t.open_revs;for(var o=0;o<i.length;o++){var a=i[o];if("string"!=typeof a||!/^\d+-/.test(a))return n(ne(ee))}s()}})),Qe.prototype.getAttachment=C("getAttachment",(function(e,t,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(e,n,(function(s,o){return s?i(s):o.doc._attachments&&o.doc._attachments[t]?(n.ctx=o.ctx,n.binary=!0,void r._getAttachment(e,t,o.doc._attachments[t],n,i)):i(ne(z))}))})),Qe.prototype.allDocs=C("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(ne(K,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ae(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),Qe.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new We(this,e,t)},Qe.prototype.close=C("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),Qe.prototype.info=C("info",(function(e){var t=this;this._info((function(n,i){if(n)return e(n);i.db_name=i.db_name||t.name,i.auto_compaction=!(!t.auto_compaction||ae(t)),i.adapter=t.adapter,e(null,i)}))})),Qe.prototype.id=C("id",(function(e){return this._id(e)})),Qe.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Qe.prototype.bulkDocs=C("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(ne(V));for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return n(ne(J));var r;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||q("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),r)return n(ne(X,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var s=this;t.new_edits||ae(s)||e.docs.sort(Je),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var s=i[r];n._attachments[s]=I(n._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var o=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,i){if(e)return n(e);if(t.new_edits||(i=i.filter((function(e){return e.error}))),!ae(s))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||o[r];n(null,i)}))})),Qe.prototype.registerDependentDatabase=C("registerDependentDatabase",(function(e,t){var n=L(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(e,n);pe(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:i})})).catch(t)})),Qe.prototype.destroy=C("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(e,(function(e,i){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,i||{ok:!0})}))}if(ae(n))return r();n.get("_local/_pouch_dependentDbs",(function(e,s){if(e)return 404!==e.status?t(e):r();var o=s.dependentDbs,a=n.constructor,c=Object.keys(o).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(c).then(r,t)}))})),et.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},et.prototype.fail=function(e){this.failed=e,this.execute()},et.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},et.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},p()(tt,Qe);var nt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},it=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var st=new v.a;!function(e){Object.keys(v.a.prototype).forEach((function(t){"function"==typeof v.a.prototype[t]&&(e[t]=st[t].bind(st))}));var t=e._destructionListeners=new r;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),i=n.indexOf(e);i<0||(n.splice(i,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"==typeof e)e(tt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=j({},this.__defaults)),tt},tt.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=j({},t.__defaults,n),tt.call(this,e,n)}return p()(t,tt),t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=j({},this.__defaults,e),t},tt.fetch=function(e,t){return it(e,t)};function ot(e,t){for(var n=e,i=0,r=t.length;i<r;i++){if(!(n=n[t[i]]))break}return n}function at(e){for(var t=[],n="",i=0,r=e.length;i<r;i++){var s=e[i];i>0&&"\\"===e[i-1]&&("$"===s||"."===s)?n=n.substring(0,n.length-1)+s:"."===s?(t.push(n),n=""):n+=s}return t.push(n),t}var ct=["$or","$nor","$not"];function lt(e){return ct.indexOf(e)>-1}function ut(e){return Object.keys(e)[0]}function dt(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("object"!=typeof r&&(r={$eq:r}),lt(i))if(r instanceof Array){if(n[i])return n[i]=!1,void(t[i]=r);var s=[];t[i].forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t],i=Math.max(Object.keys(e).length,Object.keys(n).length),o=dt([e,n]);Object.keys(o).length<=i||s.push(o)}))})),t[i]=s}else t[i]=dt([r]);else{var o=t[i]=t[i]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,o):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,o):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,o):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,o):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,o):void(o[e]=t)}))}}))})),t}function ht(e){var t=L(e),n=!1;(function e(t,n){for(var i in t){"$and"===i&&(n=!0);var r=t[i];"object"==typeof r&&(n=e(r,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=dt(t[i].$and));var r=t[n];"object"==typeof r&&e(r)}return t}(t))&&(t=dt(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n],r=e[i];"object"==typeof r&&null!==r||(e[i]={$eq:r})}}))})),"$not"in t&&(t.$not=dt([t.$not]));for(var i=Object.keys(t),r=0;r<i.length;r++){var s=i[r],o=t[s];"object"!=typeof o||null===o?o={$eq:o}:n||("$ne"in o&&(o.$ne=[o.$ne]),"$regex"in o&&(o.$regex=[o.$regex])),t[s]=o}return t}function ft(e,t){if(e===t)return 0;e=gt(e),t=gt(t);var n=bt(e),i=bt(t);if(n-i!=0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=ft(e[i],t[i]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),i=Object.keys(t),r=Math.min(n.length,i.length),s=0;s<r;s++){var o=ft(n[s],i[s]);if(0!==o)return o;if(0!==(o=ft(e[n[s]],t[i[s]])))return o}return n.length===i.length?0:n.length>i.length?1:-1}(e,t)}function gt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=gt(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=t[r];void 0!==s&&(e[r]=gt(s))}}}return e}function pt(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,r=i?"0":"2",s=(o=((i?-n:n)- -324).toString(),a="0",c=3,function(e,t,n){for(var i="",r=n-e.length;i.length<r;)i+=t;return i}(o,a,c)+o);var o,a,c;r+=""+s;var l=Math.abs(parseFloat(t[0]));i&&(l=10-l);var u=l.toFixed(20);return u=u.replace(/\.?0+$/,""),r+=""+u}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,r=n.length,s="";if(t)for(;++i<r;)s+=mt(n[i]);else for(;++i<r;){var o=n[i];s+=mt(o)+mt(e[o])}return s}return""}function mt(e){return bt(e=gt(e))+""+pt(e)+"\0"}function vt(e,t){var n,i=t;if("1"===e[t])n=0,t++;else{var r="0"===e[t];t++;var s="",o=e.substring(t,t+3),a=parseInt(o,10)+-324;for(r&&(a=-a),t+=3;;){var c=e[t];if("\0"===c)break;s+=c,t++}n=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),r&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-i}}function yt(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var r=i.element,s=i.index;if(Array.isArray(r))r.push(n);else if(s===e.length-2){r[e.pop()]=n}else e.push(n)}}function bt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function wt(e,t,n){if(e=e.filter((function(e){return _t(e.doc,t.selector,n)})),t.sort){var i=function(e){function t(t){return e.map((function(e){var n=at(ut(e));return ot(t,n)}))}return function(e,n){var i,r,s=ft(t(e.doc),t(n.doc));return 0!==s?s:(i=e.doc._id,r=n.doc._id,i<r?-1:i>r?1:0)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[ut(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var s=t.skip||0,o=("limit"in t?t.limit:e.length)+s;e=e.slice(s,o)}return e}function _t(e,t,n){return n.every((function(n){var i=t[n],r=at(n),s=ot(e,r);return lt(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return _t(n,e,Object.keys(e))}));if("$not"===e)return!_t(n,t,Object.keys(t));return!t.find((function(e){return _t(n,e,Object.keys(e))}))}(n,i,e):Et(i,e,r,s)}))}function Et(e,t,n,i){return!e||("object"==typeof e?Object.keys(e).every((function(r){var s=e[r];if(0===r.indexOf("$"))return St(r,t,s,n,i);var o=at(r);if(void 0===i&&"object"!=typeof s&&o.length>0)return!1;var a=ot(i,o);return"object"==typeof s?Et(s,t,n,a):St("$eq",t,s,o,a)})):e===i)}function St(e,t,n,i,r){if(!kt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return kt[e](t,n,i,r)}function xt(e){return null!=e}function Lt(e){return void 0!==e}function At(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===ft(t,e)})):0===ft(t,e)}))}var kt={$elemMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some((function(e){return _t(e,t,Object.keys(t))})):i.some((function(i){return Et(t,e,n,i)}))))},$allMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every((function(e){return _t(e,t,Object.keys(t))})):i.every((function(i){return Et(t,e,n,i)}))))},$eq:function(e,t,n,i){return Lt(i)&&0===ft(i,t)},$gte:function(e,t,n,i){return Lt(i)&&ft(i,t)>=0},$gt:function(e,t,n,i){return Lt(i)&&ft(i,t)>0},$lte:function(e,t,n,i){return Lt(i)&&ft(i,t)<=0},$lt:function(e,t,n,i){return Lt(i)&&ft(i,t)<0},$exists:function(e,t,n,i){return t?Lt(i):!Lt(i)},$mod:function(e,t,n,i){return xt(i)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(i,t)},$ne:function(e,t,n,i){return t.every((function(e){return 0!==ft(i,e)}))},$in:function(e,t,n,i){return xt(i)&&At(i,t)},$nin:function(e,t,n,i){return xt(i)&&!At(i,t)},$size:function(e,t,n,i){return xt(i)&&Array.isArray(i)&&function(e,t){return e.length===t}(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===ft(t,e)}))}))}(i,t)},$regex:function(e,t,n,i){return xt(i)&&"string"==typeof i&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(i,e)}))},$type:function(e,t,n,i){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(i,t)}};function Ct(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function It(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=le(e.view):e.filter=le(e.filter))}function Pt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ae(e.db)}function Ot(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var i=ne(X,"`view` filter parameter not found or invalid.");return n(i)}var r=ce(t.view);e.db.get("_design/"+r[0],(function(i,s){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var o=s&&s.views&&s.views[r[1]]&&s.views[r[1]].map;if(!o)return n(ne(z,s.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=ge(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+o+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=wt([{doc:e}],{selector:t=ht(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var s=ce(t.filter);e.db.get("_design/"+s[0],(function(i,r){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var o=r&&r.filters&&r.filters[s[1]];if(!o)return n(ne(z,r&&r.filters?"missing json key: "+s[1]:"missing json key: filters"));t.filter=ge('"use strict";\nreturn '+o+";",{}),e.doChanges(t)}))}}function Bt(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Ct,normalize:It,shouldFilter:Pt,filter:Ot}})),tt.version="7.3.0";var Tt=Bt(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Nt=Bt(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Mt(e){if(!/^\d+-/.test(e))return ne(ee);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function qt(e,t,n){var i,r,s;n||(n={deterministic_revs:!0});var o={status:"available"};if(e._deleted&&(o.deleted=!0),t)if(e._id||(e._id=Oe()),r=Pe(e,n.deterministic_revs),e._rev){if((s=Mt(e._rev)).error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[r,o,[]]]]}],i=s.prefix+1}else e._rev_tree=[{pos:1,ids:[r,o,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,r=[i[0],t,[]],s=1,o=i.length;s<o;s++)r=[i[s],{status:"missing"},[r]];return[{pos:n,ids:r}]}(e._revisions,o),i=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((s=Mt(e._rev)).error)return s;i=s.prefix,r=s.id,e._rev_tree=[{pos:i,ids:[r,o,[]]}]}oe(e._id),e._rev=i+"-"+r;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!Tt[c]){var u=ne(Y,c);throw u.message=Y.message+": "+c,u}l&&!Nt[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function Dt(e,t,n){var i=function(e){try{return me(e)}catch(e){return{error:ne(W,"Attachment is not a valid base64 string")}}}(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===t?we(i,e.content_type):"base64"===t?ve(i):i,Ce(i,(function(t){e.digest="md5-"+t,n()}))}function Ft(e,t,n){if(e.stub)return n();"string"==typeof e.data?Dt(e,t,n):function(e,t,n){Ce(e.data,(function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,"binary"===t?Se(e.data,(function(t){e.data=t,n()})):"base64"===t?xe(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function jt(e,t,n,i,r,s,o,a){if(function(e,t){for(var n,i=e.slice(),r=t.split("-"),s=parseInt(r[0],10),o=r[1];n=i.pop();){if(n.pos===s&&n.ids[0]===o)return!0;for(var a=n.ids[2],c=0,l=a.length;c<l;c++)i.push({pos:n.pos+1,ids:a[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return i[r]=n,s();var c=t.winningRev||Be(t),l="deleted"in t?t.deleted:Ze(t,c),u="deleted"in n.metadata?n.metadata.deleted:Ze(n.metadata),d=/^1-/.test(n.metadata.rev);if(l&&!u&&a&&d){var h=n.data;h._rev=c,h._id=n.metadata.id,n=qt(h,a)}var f=Ue(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&u&&"new_leaf"!==f.conflicts||!l&&"new_leaf"!==f.conflicts||l&&!u&&"new_branch"===f.conflicts)){var g=ne(H);return i[r]=g,s()}var p=n.metadata.rev;n.metadata.rev_tree=f.tree,n.stemmedRevs=f.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var m=Be(n.metadata),v=Ze(n.metadata,m),y=l===v?0:l<v?-1:1;o(n,m,v,p===m?v:Ze(n.metadata,p),!0,y,r,s)}function Rt(e,t,n,i,s,o,a,c,l){e=e||1e3;var u=c.new_edits,d=new r,h=0,f=t.length;function g(){++h===f&&l&&l()}t.forEach((function(e,t){if(e._id&&Ge(e._id)){var i=e._deleted?"_removeLocal":"_putLocal";n[i](e,{ctx:s},(function(e,n){o[t]=e||n,g()}))}else{var r=e.metadata.id;d.has(r)?(f--,d.get(r).push([e,t])):d.set(r,[[e,t]])}})),d.forEach((function(t,n){var r=0;function s(){++r<t.length?l():g()}function l(){var l=t[r],d=l[0],h=l[1];if(i.has(n))jt(e,i.get(n),d,o,h,s,a,u);else{var f=Ue([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=f.tree,d.stemmedRevs=f.stemmedRevs||[],function(e,t,n){var i=Be(e.metadata),r=Ze(e.metadata,i);if("was_delete"in c&&r)return o[t]=ne(z,"deleted"),n();if(u&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var s=ne(H);return o[t]=s,n()}a(e,i,r,r,!1,r?0:1,t,n)}(d,h,s)}}l()}))}var Vt="document-store",zt="meta-store";function Ht(e){try{return JSON.stringify(e)}catch(t){return d.a.stringify(e)}}function Ut(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(ne(Q,n,t.type))}}function $t(e,t,n){return{data:Ht(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Zt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return d.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Gt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Wt(e,t,n,i){n?i(e?"string"!=typeof e?e:_e(e,t):ye([""],{type:t})):e?"string"!=typeof e?Ee(e,(function(e){i(ve(e))})):i(e):i("")}function Kt(e,t,n,i){var r=Object.keys(e._attachments||{});if(!r.length)return i&&i();var s=0;function o(){++s===r.length&&i&&i()}r.forEach((function(i){t.attachments&&t.include_docs?function(e,t){var i=e._attachments[t],r=i.digest;n.objectStore("attach-store").get(r).onsuccess=function(e){i.body=e.target.result.body,o()}}(e,i):(e._attachments[i].stub=!0,o())}))}function Yt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var r=i.body,s=i.content_type;return new Promise((function(o){Wt(r,s,t,(function(t){e.doc._attachments[n]=j(I(i,["digest","content_type"]),{data:t}),o()}))}))}})))}})))}function Xt(e,t,n){var i=[],r=n.objectStore("by-sequence"),s=n.objectStore("attach-store"),o=n.objectStore("attach-seq-store"),a=e.length;function c(){--a||function(){if(!i.length)return;i.forEach((function(e){o.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::ï¿¿",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}}))}()}e.forEach((function(e){var n=r.index("_doc_id_rev"),s=t+"::"+e;n.getKey(s).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();r.delete(t),o.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),o.delete(t.primaryKey),t.continue()}else c()}}}))}function Jt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var Qt=new M;function en(e,t,n,i,s,o){for(var a,c,l,u,d,h,f,g,p=t.docs,m=0,v=p.length;m<v;m++){var y=p[m];y._id&&Ge(y._id)||(y=p[m]=qt(y,n.new_edits,e)).error&&!f&&(f=y)}if(f)return o(f);var b=!1,w=0,_=new Array(p.length),E=new r,S=!1,x=i._meta.blobSupport?"blob":"base64";function L(){b=!0,A()}function A(){g&&b&&(g.docCount+=w,h.put(g))}function k(){S||(Qt.notify(i._meta.name),o(null,_))}function C(e,t,n,i,r,s,o,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,i&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,i,r,s){var o=e.data,a=0,c=Object.keys(o._attachments);function l(){a===c.length&&I(e,t,n,i,r,s)}function d(){a++,l()}c.forEach((function(n){var i=e.data._attachments[n];if(i.stub)a++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(t,10),function(e,t,n){u.count(e).onsuccess=function(i){if(i.target.result)return n();var r={digest:e,body:t};u.put(r).onsuccess=n}}(i.digest,r,d)}}))}(e,t,n,r,o,a);w+=s,A(),I(e,t,n,r,o,a)}function I(e,t,n,r,s,o){var u=e.data,h=e.metadata;function f(s){var o=e.stemmedRevs||[];r&&i.auto_compaction&&(o=o.concat(function(e){var t=[];return Te(e.rev_tree,(function(e,n,i,r,s){"available"!==s.status||e||(t.push(n+"-"+i),s.status="missing")})),t}(e.metadata))),o&&o.length&&Xt(o,e.metadata.id,a),h.seq=s.target.result;var l=$t(h,t,n);c.put(l).onsuccess=g}function g(){_[s]={ok:!0,id:h.id,rev:h.rev},E.set(e.metadata.id,e.metadata),function(e,t,n){var i=0,r=Object.keys(e.data._attachments||{});if(!r.length)return n();function s(){++i===r.length&&n()}function o(n){var i=e.data._attachments[n].digest,r=d.put({seq:t,digestSeq:i+"::"+t});r.onsuccess=s,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),s()}}for(var a=0;a<r.length;a++)o(r[a])}(e,h.seq,o)}u._doc_id_rev=h.id+"::"+h.rev,delete u._id,delete u._rev;var p=l.put(u);p.onsuccess=f,p.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(u._doc_id_rev).onsuccess=function(e){l.put(u,e.target.result).onsuccess=f}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function s(){r++,e.length===r&&(i?n(i):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return s();function o(e){i=e,++r===n.length&&s()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&Ft(e.data._attachments[a],t,o)}))}(p,x,(function(t){if(t)return o(t);!function(){var t=Jt(s,[Vt,"by-sequence","attach-store","local-store","attach-seq-store",zt],"readwrite");if(t.error)return o(t.error);(a=t.txn).onabort=Ut(o),a.ontimeout=Ut(o),a.oncomplete=k,c=a.objectStore(Vt),l=a.objectStore("by-sequence"),u=a.objectStore("attach-store"),d=a.objectStore("attach-seq-store"),(h=a.objectStore(zt)).get(zt).onsuccess=function(e){g=e.target.result,A()},function(e){var t=[];if(p.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var i=e.data._attachments[n];i.stub&&t.push(i.digest)}))})),!t.length)return e();var n,i=0;t.forEach((function(r){!function(e,t){u.get(e).onsuccess=function(n){if(n.target.result)t();else{var i=ne(te,"unknown stub attachment with digest "+e);i.status=412,t(i)}}}(r,(function(r){r&&!n&&(n=r),++i===t.length&&e(n)}))}))}((function(t){if(t)return S=!0,o(t);!function(){if(!p.length)return;var t=0;function r(){++t===p.length&&Rt(e.revs_limit,p,i,E,a,_,C,n,L)}function s(e){var t=Zt(e.target.result);t&&E.set(t.id,t),r()}for(var o=0,l=p.length;o<l;o++){var u=p[o];if(u._id&&Ge(u._id))r();else c.get(u.metadata.id).onsuccess=s}}()}))}()}))}function tn(e,t,n,i,r){var s,o,a;function c(e){o=e.target.result,s&&r(s,o,a)}function l(e){s=e.target.result,o&&r(s,o,a)}function u(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}-1===i&&(i=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&i>1&&!n?(a={continue:function(){if(!s.length)return r();var n,a=s[s.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);t=n,s=null,o=null,e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l}},e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l):n?e.openCursor(t,"prev").onsuccess=u:e.openCursor(t).onsuccess=u}function nn(e,t,n){var i,r,s="startkey"in e&&e.startkey,o="endkey"in e&&e.endkey,a="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,u="number"==typeof e.limit?e.limit:-1,d=!1!==e.inclusive_end;if(!c&&(r=(i=function(e,t,n,i,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(e){return{error:e}}return null}(s,o,d,a,e.descending))&&i.error)&&("DataError"!==r.name||0!==r.code))return n(ne(Q,r.name,r.message));var h=[Vt,"by-sequence",zt];e.attachments&&h.push("attach-store");var f=Jt(t,h,"readonly");if(f.error)return n(f.error);var g=f.txn;g.oncomplete=function(){e.attachments?Yt(E,e.binary).then(A):A()},g.onabort=Ut(n);var p,m,v,y=g.objectStore(Vt),b=g.objectStore("by-sequence"),w=g.objectStore(zt),_=b.index("_doc_id_rev"),E=[];function S(t,n){var i={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(E.push(i),i.value.deleted=!0,i.doc=null):l--<=0&&(E.push(i),e.include_docs&&function(t,n,i){var r=t.id+"::"+i;_.get(r).onsuccess=function(i){if(n.doc=Gt(i.target.result)||{},e.conflicts){var r=qe(t);r.length&&(n.doc._conflicts=r)}Kt(n.doc,e,g)}}(n,i,t))}function x(e){for(var t=0,n=e.length;t<n&&E.length!==u;t++){var i=e[t];if(i.error&&c)E.push(i);else{var r=Zt(i);S(r.winningRev,r)}}}function L(e,t,n){n&&(x(t),E.length<u&&n.continue())}function A(){var t={total_rows:p,offset:e.skip,rows:E};e.update_seq&&void 0!==m&&(t.update_seq=m),n(null,t)}return w.get(zt).onsuccess=function(e){p=e.target.result.docCount},e.update_seq&&(v=function(e){e.target.result&&e.target.result.length>0&&(m=e.target.result[0])},b.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),v({target:{result:[n]}})}),r||0===u?void 0:c?function(e,t,n){var i=new Array(e.length),r=0;e.forEach((function(s,o){t.get(s).onsuccess=function(t){t.target.result?i[o]=t.target.result:i[o]={key:s,error:"not_found"},++r===e.length&&n(e,i,{})}}))}(e.keys,y,L):-1===u?function(e,t,n){if("function"!=typeof e.getAll){var i=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}}else e.getAll(t).onsuccess=n}(y,i,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),x(n)})):void tn(y,i,e.descending,u+l,L)}var rn=!1,sn=[];function on(){!rn&&sn.length&&(rn=!0,sn.shift()())}function an(e,t,n,s){if((e=L(e)).continuous){var o=n+":"+Oe();return Qt.addListener(n,o,t,e),Qt.notify(n),{cancel:function(){Qt.removeListener(n,o)}}}var a=e.doc_ids&&new i(e.doc_ids);e.since=e.since||0;var c=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var u,d,h,f,g=[],p=0,m=re(e),v=new r;function y(e,t,n,i){if(n.seq!==t)return i();if(n.winningRev===e._rev)return i(n,e);var r=e._id+"::"+n.winningRev;f.get(r).onsuccess=function(e){i(n,Gt(e.target.result))}}function b(){e.complete(null,{results:g,last_seq:c})}var w=[Vt,"by-sequence"];e.attachments&&w.push("attach-store");var _=Jt(s,w,"readonly");if(_.error)return e.complete(_.error);(u=_.txn).onabort=Ut(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?Yt(g).then(b):b()},d=u.objectStore("by-sequence"),h=u.objectStore(Vt),f=d.index("_doc_id_rev"),tn(d,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,(function(t,n,i){if(i&&t.length){var r=new Array(t.length),s=new Array(t.length),o=0;n.forEach((function(n,c){!function(e,t,n){if(a&&!a.has(e._id))return n();var i=v.get(e._id);if(i)return y(e,t,i,n);h.get(e._id).onsuccess=function(r){i=Zt(r.target.result),v.set(e._id,i),y(e,t,i,n)}}(Gt(n),t[c],(function(n,a){s[c]=n,r[c]=a,++o===t.length&&function(){for(var t=[],n=0,o=r.length;n<o&&p!==l;n++){var a=r[n];if(a){var c=s[n];t.push(d(c,a))}}Promise.all(t).then((function(t){for(var n=0,i=t.length;n<i;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),p!==l&&i.continue()}()}))}))}function d(t,n){var i=e.processChange(n,t,e);c=i.seq=t.seq;var r=m(i);return"object"==typeof r?Promise.reject(r):r?(p++,e.return_docs&&g.push(i),e.attachments&&e.include_docs?new Promise((function(t){Kt(n,e,u,(function(){Yt([i],e.binary).then((function(){t(i)}))}))})):Promise.resolve(i)):Promise.resolve()}}))}var cn,ln=new r,un=new r;function dn(e,t){var n=this;!function(e,t,n){sn.push((function(){e((function(e,i){!function(e,t,n,i){try{e(t,n)}catch(t){i.emit("error",t)}}(t,e,i,n),rn=!1,o()((function(){on()}))}))})),on()}((function(t){!function(e,t,n){var i=t.name,r=null,s=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&s&&(t.reason=s),e(t,n)}}function c(e,t){var n=e.objectStore(Vt);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r=i.value,s=Ze(r);r.deletedOrLocal=s?"1":"0",n.put(r),i.continue()}else t()}}function l(e,t){var n=e.objectStore("local-store"),i=e.objectStore(Vt),r=e.objectStore("by-sequence");i.openCursor().onsuccess=function(e){var s=e.target.result;if(s){var o=s.value,a=o.id,c=Ge(a),l=Be(o);if(c){var u=a+"::"+l,d=a+"::",h=a+"::~",f=r.index("_doc_id_rev"),g=IDBKeyRange.bound(d,h,!1,!1),p=f.openCursor(g);p.onsuccess=function(e){if(p=e.target.result){var t=p.value;t._doc_id_rev===u&&n.put(t),r.delete(p.primaryKey),p.continue()}else i.delete(s.primaryKey),s.continue()}}else s.continue()}else t&&t()}}function u(e,t){var n=e.objectStore("by-sequence"),i=e.objectStore("attach-store"),r=e.objectStore("attach-seq-store");i.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var i=n.value,s=n.primaryKey,o=Object.keys(i._attachments||{}),a={},c=0;c<o.length;c++){a[i._attachments[o[c]].digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var u=l[c];r.put({seq:s,digestSeq:u+"::"+s})}n.continue()}}}function d(e){var t=e.objectStore("by-sequence"),n=e.objectStore(Vt);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r,s=(r=i.value).data?Zt(r):(r.deleted="1"===r.deletedOrLocal,r);if(s.winningRev=s.winningRev||Be(s),s.seq)return o();!function(){var e=s.id+"::",n=s.id+"::ï¿¿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),r=0;i.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=r,o();var n=t.primaryKey;n>r&&(r=n),t.continue()}}()}function o(){var e=$t(s,s.winningRev,s.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=k((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,i,s){en(t,n,i,e,r,a(s))},e._get=function(e,t,n){var i,s,o,a=t.ctx;if(!a){var c=Jt(r,[Vt,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function l(){n(o,{doc:i,metadata:s,ctx:a})}a.objectStore(Vt).get(e).onsuccess=function(e){if(!(s=Zt(e.target.result)))return o=ne(z,"missing"),l();var n;if(t.rev)n=t.latest?function(e,t){for(var n,i=t.rev_tree.slice();n=i.pop();){var r=n.pos,s=n.ids,o=s[0],a=s[1],c=s[2],l=0===c.length,u=n.history?n.history.slice():[];if(u.push({id:o,pos:r,opts:a}),l)for(var d=0,h=u.length;d<h;d++){var f=u[d];if(f.pos+"-"+f.id===e)return r+"-"+o}for(var g=0,p=c.length;g<p;g++)i.push({pos:r+1,ids:c[g],history:u})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,s):t.rev;else if(n=s.winningRev,Ze(s))return o=ne(z,"deleted"),l();var r=a.objectStore("by-sequence"),c=s.id+"::"+n;r.index("_doc_id_rev").get(c).onsuccess=function(e){if((i=e.target.result)&&(i=Gt(i)),!i)return o=ne(z,"missing"),l();l()}}},e._getAttachment=function(e,t,n,i,s){var o;if(i.ctx)o=i.ctx;else{var a=Jt(r,[Vt,"by-sequence","attach-store"],"readonly");if(a.error)return s(a.error);o=a.txn}var c=n.digest,l=n.content_type;o.objectStore("attach-store").get(c).onsuccess=function(e){Wt(e.target.result.body,l,i.binary,(function(e){s(null,e)}))}},e._info=function(t){var n,i,s=Jt(r,[zt,"by-sequence"],"readonly");if(s.error)return t(s.error);var o=s.txn;o.objectStore(zt).get(zt).onsuccess=function(e){i=e.target.result.docCount},o.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},o.oncomplete=function(){t(null,{doc_count:i,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){nn(e,r,a(t))},e._changes=function(t){return an(t,e,i,r)},e._close=function(e){r.close(),ln.delete(i),e()},e._getRevisionTree=function(e,t){var n=Jt(r,[Vt],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Vt).get(e).onsuccess=function(e){var n=Zt(e.target.result);n?t(null,n.rev_tree):t(ne(z))}},e._doCompaction=function(e,t,n){var i=Jt(r,[Vt,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(i.error)return n(i.error);var s=i.txn;s.objectStore(Vt).get(e).onsuccess=function(n){var i=Zt(n.target.result);Te(i.rev_tree,(function(e,n,i,r,s){var o=n+"-"+i;-1!==t.indexOf(o)&&(s.status="missing")})),Xt(t,e,s);var r=i.winningRev,o=i.deleted;s.objectStore(Vt).put($t(i,r,o))},s.onabort=Ut(n),s.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Jt(r,["local-store"],"readonly");if(n.error)return t(n.error);var i=n.txn.objectStore("local-store").get(e);i.onerror=Ut(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(ne(z))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var i=e._rev,s=e._id;e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var o,a=t.ctx;if(!a){var c=Jt(r,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Ut(n),a.oncomplete=function(){o&&n(null,o)}}var l,u=a.objectStore("local-store");i?(l=u.get(s)).onsuccess=function(r){var s=r.target.result;s&&s._rev===i?u.put(e).onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}:n(ne(H))}:((l=u.add(e)).onerror=function(e){n(ne(H)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var i,s=t.ctx;if(!s){var o=Jt(r,["local-store"],"readwrite");if(o.error)return n(o.error);(s=o.txn).oncomplete=function(){i&&n(null,i)}}var a=e._id,c=s.objectStore("local-store"),l=c.get(a);l.onerror=Ut(n),l.onsuccess=function(r){var s=r.target.result;s&&s._rev===e._rev?(c.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(ne(z))}},e._destroy=function(e,t){Qt.removeAllListeners(i);var n=un.get(i);n&&n.result&&(n.result.close(),ln.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){un.delete(i),N()&&i in localStorage&&delete localStorage[i],t(null,{ok:!0})},r.onerror=Ut(t)};var h=ln.get(i);if(h)return r=h.idb,e._meta=h.global,o()((function(){n(null,e)}));var f=indexedDB.open(i,5);un.set(i,f),f.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Vt,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(zt,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[c,l,u,d],r=e.oldVersion;!function e(){var t=i[r-1];r++,t&&t(n,e)}()},f.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),ln.delete(i)},r.onabort=function(e){q("error","Database has a global failure",e.target.error),s=e.target.error,r.close(),ln.delete(i)};var o,a,c,l,u=r.transaction([zt,"detect-blob-support",Vt],"readwrite"),d=!1;function h(){void 0!==c&&d&&(e._meta={name:i,instanceId:l,blobSupport:c},ln.set(i,{idb:r,global:e._meta}),n(null,e))}function f(){if(void 0!==a&&void 0!==o){var e=i+"_id";e in o?l=o[e]:o[e]=l=Oe(),o.docCount=a,u.objectStore(zt).put(o)}}u.objectStore(zt).get(zt).onsuccess=function(e){o=e.target.result||{id:zt},f()},function(e,t){e.objectStore(Vt).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(u,(function(e){a=e,f()})),cn||(cn=function(e){return new Promise((function(t){var n=ye([""]),i=e.objectStore("detect-blob-support").put(n,"key");i.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},i.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(u)),cn.then((function(e){c=e,h()})),u.oncomplete=function(){d=!0,h()},u.onabort=Ut(n)},f.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",q("error",t),n(ne(Q,t))}}(n,e,t)}),t,n.constructor)}dn.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var hn={};function fn(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=_e(t.data,t.content_type)}))}function gn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function pn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){xe(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function mn(e,t){if(function(e){if(!e.prefix)return!1;var t=fe(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var i=fe(e);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),-1===i.db.indexOf("%")&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function vn(e,t){return yn(e,e.db+"/"+t)}function yn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function bn(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function wn(t,n){var i=this,r=mn(t.name,t),s=vn(r,"");t=L(t);var a,c=function(e,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,s=i.username+":"+i.password,o=ve(unescape(encodeURIComponent(s)));n.headers.set("Authorization","Basic "+o)}var a=t.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),i=-1!==t.indexOf("trident"),r=-1!==t.indexOf("edge"),s=!("method"in e)||"GET"===e.method;return(n||i||r)&&s}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||it)(e,n)};function l(e,t){return C(e,f()((function(e){d().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(i)}function u(e,t,n){var i={};return(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),c(e,t).then((function(e){return i.ok=e.ok,i.status=e.status,e.json()})).then((function(e){if(i.data=e,!i.ok){i.data.status=i.status;var t=ie(i.data);if(n)return n(t);throw t}if(Array.isArray(i.data)&&(i.data=i.data.map((function(e){return e.error||e.missing?ie(e):e}))),!n)return i;n(null,i.data)}))}function d(){return t.skip_setup?Promise.resolve():a||((a=u(s).catch((function(e){return e&&e.status&&404===e.status?(F(404,"PouchDB is just detecting if the remote exists."),u(s,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){a=null})),a)}function h(e){return e.split("/").map(encodeURIComponent).join("/")}o()((function(){n(null,i)})),i._remote=!0,i.type=function(){return"http"},i.id=l("id",(function(e){c(yn(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:vn(r,"");e(null,n)}))})),i.compact=l("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=L(e),u(vn(r,"_compact"),{method:"POST"}).then((function(){!function n(){i.info((function(i,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),i.bulkGet=C("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(vn(r,"_bulk_get"+bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(fn)})),t(null,n.data)})).catch(t)}function s(){var i=Math.ceil(e.docs.length/50),r=0,s=new Array(i);function o(e){return function(n,o){s[e]=o.results,++r===i&&t(null,{results:se(s)})}}for(var a=0;a<i;a++){var c=I(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1))),T(n,c,o(a))}}var o=yn(r,""),a=hn[o];"boolean"!=typeof a?i((function(e,n){e?(hn[o]=!1,F(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),s()):(hn[o]=!0,t(null,n))})):a?i(t):s()})),i._info=function(e){d().then((function(){return c(vn(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=vn(r,""),e(null,t)})).catch(e)},i.fetch=function(e,t){return d().then((function(){var n="/"===e.substring(0,1)?yn(r,e.substring(1)):vn(r,e);return c(n,t)}))},i.get=l("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function s(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return function(e,t){return new Promise((function(n,i){var r,s=0,o=0,a=0,c=e.length;function l(){++a===c?r?i(r):n():h()}function u(){s--,l()}function d(e){s--,r=r||e,l()}function h(){for(;s<t&&o<c;)s++,e[o++]().then(u,d)}h()}))}(i.map((function(i){return function(){return function(i){var s=n[i],o=gn(e._id)+"/"+h(i)+"?rev="+e._rev;return c(vn(r,o)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=s.content_type),e}return new Promise((function(t){xe(e,t)}))})).then((function(e){delete s.stub,delete s.length,s.data=e}))}(i)}})),5)}(t=L(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=gn(e),u(vn(r,e+bn(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return s(e.ok)}))):s(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),i.remove=l("remove",(function(e,t,n,i){var s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(s=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var o=s._rev||n.rev;u(vn(r,gn(s._id))+"?rev="+o,{method:"DELETE"},i).catch(i)})),i.getAttachment=l("getAttachment",(function(t,n,i,s){"function"==typeof i&&(s=i,i={});var o,a=i.rev?"?rev="+i.rev:"",l=vn(r,gn(t))+"/"+h(n)+a;c(l,{method:"GET"}).then((function(t){if(o=t.headers.get("content-type"),t.ok)return void 0===e||e.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){void 0===e||e.browser||(t.type=o),s(null,t)})).catch((function(e){s(e)}))})),i.removeAttachment=l("removeAttachment",(function(e,t,n,i){u(vn(r,gn(e)+"/"+h(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),i.putAttachment=l("putAttachment",(function(e,t,n,i,s,o){"function"==typeof s&&(o=s,s=i,i=n,n=null);var a=gn(e)+"/"+h(t),c=vn(r,a);if(n&&(c+="?rev="+n),"string"==typeof i){var l;try{l=me(i)}catch(e){return o(ne(W,"Attachment is not a valid base64 string"))}i=l?we(l,s):""}u(c,{headers:new rt({"Content-Type":s}),method:"PUT",body:i},o).catch(o)})),i._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,d().then((function(){return Promise.all(e.docs.map(pn))})).then((function(){return u(vn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},i._put=function(e,t,n){d().then((function(){return pn(e)})).then((function(){return u(vn(r,gn(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},i.allDocs=l("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},s="GET";(e=L(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var o=bn(i);void 0!==e.keys&&(s="POST",n={keys:e.keys}),u(vn(r,"_all_docs"+o),{method:s,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(fn),t(null,n.data)})).catch(t)})),i._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=L(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var s=void 0!==e.limit&&e.limit,a=s;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,c)&&(i[c]=e.query_params[c]);var l,h="GET";e.doc_ids?(i.filter="_doc_ids",h="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",h="POST",l={selector:e.selector});var f,g=new nt,p=function(n,o){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?s&&(i.limit=a):i.limit=!s||a>t?t:a;var c=vn(r,"_changes"+bn(i)),p={signal:g.signal,method:h,body:JSON.stringify(l)};f=n,e.aborted||d().then((function(){return u(c,p,o)})).catch(o)}},m={results:[]},v=function(n,i){if(!e.aborted){var r=0;if(i&&i.results){r=i.results.length,m.last_seq=i.last_seq;var c=null,l=null;"number"==typeof i.pending&&(c=i.pending),"string"!=typeof m.last_seq&&"number"!=typeof m.last_seq||(l=m.last_seq);e.query_params,i.results=i.results.filter((function(t){a--;var n=re(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&fn(t),e.return_docs&&m.results.push(t),e.onChange(t,c,l)),n}))}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(f=i.last_seq);var u=s&&a<=0||i&&r<t||e.descending;(!e.continuous||s&&a<=0)&&u?e.complete(null,m):o()((function(){p(f,v)}))}};return p(e.since||0,v),{cancel:function(){e.aborted=!0,g.abort()}}},i.revsDiff=l("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),u(vn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),i._close=function(e){e()},i._destroy=function(e,t){u(vn(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function _n(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,_n)}catch(e){}}function En(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,En)}catch(e){}}function Sn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Sn)}catch(e){}}function xn(e,t){return t&&e.then((function(e){o()((function(){t(null,e)}))}),(function(e){o()((function(){t(e)}))})),e}function Ln(e,t){return function(){var n=arguments,i=this;return e.add((function(){return t.apply(i,n)}))}}function An(e){var t=new i(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function kn(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,i){t[++n]=i})),t}function Cn(e){return new Sn("builtin "+e+" function requires map values to be numbers or number arrays")}function In(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];if("number"!=typeof r){if(!Array.isArray(r))throw Cn("_sum");t="number"==typeof t?[t]:t;for(var s=0,o=r.length;s<o;s++){var a=r[s];if("number"!=typeof a)throw Cn("_sum");void 0===t[s]?t.push(a):t[s]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}wn.valid=function(){return!0},p()(_n,Error),p()(En,Error),p()(Sn,Error);var Pn=q.bind(null,"log"),On=Array.isArray,Bn=JSON.parse;function Tn(e,t){return ge("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:In,log:Pn,isArray:On,toJSON:Bn})}function Nn(){this.promise=new Promise((function(e){e()}))}function Mn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function qn(e,t,n,i,r,s){var o,a=function(e,t){return Mn(e)+Mn(t)+"undefined"}(n,i);if(!r&&(o=e._cachedViews=e._cachedViews||{})[a])return o[a];var c=e.info().then((function(c){var l=c.db_name+"-mrview-"+(r?"temp":Ie(a));return pe(e,"_local/"+s,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var i=e.views[n]=e.views[n]||{};if(!i[l])return i[l]=!0,e})).then((function(){return e.registerDependentDatabase(l).then((function(t){var r=t.db;r.auto_compaction=!0;var s={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};return s.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return s.seq=e?e.seq:0,o&&s.db.once("destroyed",(function(){delete o[a]})),s}))}))}))}));return o&&(o[a]=c),c}Nn.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Nn.prototype.finish=function(){return this.promise};var Dn={},Fn=new Nn;function jn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Rn(e,t){try{e.emit("error",t)}catch(e){q("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),q("error",t)}}var Vn=function(e,t){return In(t)},zn=function(e,t){return t.length},Hn=function(e,t){return{sum:In(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];t+=r*r}return t}(t)}};var Un=function(e,t,n,s){function a(e,t,n){try{t(n)}catch(t){Rn(e,t)}}function c(e,t,n,i,r){try{return{output:t(n,i,r)}}catch(t){return Rn(e,t),{error:t}}}function l(e,t){var n=ft(e.key,t.key);return 0!==n?n:ft(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function d(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function h(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=_e(n.data,n.content_type)}))}))}(t),t}}function g(e,t,n,i){var r=t[e];void 0!==r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(e+"="+r))}function p(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function m(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[i]&&ft(e[n],e[i])>0)throw new _n("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new _n("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new _n("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new _n('Invalid value for integer: "'+e+'"');if(e<0)return new _n('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function v(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/doc_"+e,s={_id:r,keys:[]},o=n.get(e),a=o[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(o[1])?Promise.resolve(s):t.db.get(r).catch(v(s))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new i,s=0,o=t.rows.length;s<o;s++){var c=t.rows[s].doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var l=a.get(c._id);"value"in l&&(c.value=l.value)}}var u=kn(a);return u.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=An(u.concat(e.keys)),n.push(e),n}(e,t)}))}))}function b(e){var t="string"==typeof e?e:e.name,n=Dn[t];return n||(n=Dn[t]=new Nn),n}function w(e,n){return Ln(b(e),(function(){return function(e,n){var i,s;var o=t(e.mapFun,(function(e,t){var n={id:s._id,key:gt(e)};null!=t&&(n.value=gt(t)),i.push(n)})),c=e.seq||0;function u(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(v({_id:"_local/lastSeq",seq:0})).then((function(i){var r=kn(t);return Promise.all(r.map((function(n){return y(n,e,t)}))).then((function(t){var r=se(t);return i.seq=n,r.push(i),e.db.bulkDocs({docs:r})}))}))}(e,t,n)}}let d=0,h={view:e.name,indexed_docs:d};e.sourceDB.emit("indexing",h);var f=new Nn;function g(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:n.changes_batch_size}).then(p)}function p(t){var h=t.results;if(!h.length)return;var p=function(t){for(var n=new r,u=0,d=t.length;u<d;u++){var h=t[u];if("_"!==h.doc._id[0]){i=[],(s=h.doc)._deleted||a(e.sourceDB,o,s),i.sort(l);var f=m(i);n.set(h.doc._id,[f,h.changes])}c=h.seq}return n}(h);f.add(u(p,c)),d+=h.length;let v={view:e.name,last_seq:t.last_seq,results_count:h.length,indexed_docs:d};return e.sourceDB.emit("indexing",v),h.length<n.changes_batch_size?void 0:g()}function m(e){for(var t,n=new r,i=0,s=e.length;i<s;i++){var o=e[i],a=[o.key,o.id];i>0&&0===ft(o.key,t)&&a.push(i),n.set(mt(a),o),t=o.key}return n}return g().then((function(){return f.finish()})).then((function(){e.seq=c}))}(e,n)}))()}function _(e,t){return Ln(b(e),(function(){return function(e,t){var i,s=e.reduceFun&&!1!==t.reduce,o=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return i=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var i=function(e){for(var t=[],n=[],i=0;;){var r=e[i++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[i]),i++;break;case"3":var s=vt(e,i);t.push(s.num),i+=s.length;break;case"4":for(var o="";;){var a=e[i];if("\0"===a)break;o+=a,i++}o=o.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(o);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();yt(t,n)}}}(e.doc._id);return{key:i[0],id:i[1],value:"value"in e.doc?e.doc.value:null}}))}))}function l(a){var l;if(l=s?function(e,t,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,s=n(e.reduceFun),o=[],a=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;t.forEach((function(e){var t=o[o.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===ft(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);o.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var l=0,d=o.length;l<d;l++){var h=o[l],f=c(e.sourceDB,s,h.keys,h.values,!1);if(f.error&&f.error instanceof Sn)throw f.error;t.push({value:f.error?null:f.output,key:h.groupKey})}return{rows:u(t,i.limit,i.skip)}}(e,a,t):void 0===t.keys?{total_rows:i,offset:o,rows:a}:{total_rows:i,offset:o,rows:u(a,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){var h=An(a.map(d));return e.sourceDB.allDocs({keys:h,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new r;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=d(e),i=t.get(n);i&&(e.doc=i)})),l}))}return l}if(void 0!==t.keys){var h=t.keys.map((function(e){var n={startkey:mt([e]),endkey:mt([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(h).then(se).then(l)}var f,g,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(f=t.start_key),"startkey"in t&&(f=t.startkey),"end_key"in t&&(g=t.end_key),"endkey"in t&&(g=t.endkey),void 0!==f&&(p.startkey=t.descending?mt([f,{}]):mt([f])),void 0!==g){var m=!1!==t.inclusive_end;t.descending&&(m=!m),p.endkey=mt(m?[g,{}]:[g])}if(void 0!==t.key){var v=mt([t.key]),y=mt([t.key,{}]);p.descending?(p.endkey=v,p.startkey=y):(p.startkey=v,p.endkey=y)}return s||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=o),a(p).then(l)}(e,t)}))()}function E(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(i,r){e._query(t,n,(function(e,t){if(e)return r(e);i(t)}))}))}(t,n,i);if(ae(t))return function(e,t,n){var i,r,s,o=[],a="GET";if(g("reduce",n,o),g("include_docs",n,o),g("attachments",n,o),g("limit",n,o),g("descending",n,o),g("group",n,o),g("group_level",n,o),g("skip",n,o),g("stale",n,o),g("conflicts",n,o),g("startkey",n,o,!0),g("start_key",n,o,!0),g("endkey",n,o,!0),g("end_key",n,o,!0),g("inclusive_end",n,o),g("key",n,o,!0),g("update_seq",n,o),o=""===(o=o.join("&"))?"":"?"+o,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+c:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=jn(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+o,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(i)}).then((function(e){return r=e.ok,s=e.status,e.json()})).then((function(e){if(!r)throw e.status=s,ie(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(h(n))}return i=i||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()})),e.fetch("_temp_view"+o,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then((function(e){return r=e.ok,s=e.status,e.json()})).then((function(e){if(!r)throw e.status=s,ie(e);return e})).then(h(n))}(t,n,i);var r={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return m(i,n),Fn.add((function(){return qn(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=w(e,r).then((function(){return _(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),Fn.finish();var a=n,c=jn(a),l=c[0],u=c[1];return t.get("_design/"+l).then((function(n){var c=n.views&&n.views[u];if(!c)throw new En("ddoc "+n._id+" has no view named "+u);return s(n,u),m(i,c),qn(t,a,c.map,c.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&o()((function(){w(e,r)})),_(e,i)):w(e,r).then((function(){return _(e,i)}))}))}))}var S;return{query:function(e,t,n){var i=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=p(e.group_level),e.limit=p(e.limit),e.skip=p(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=Promise.resolve().then((function(){return E(i,e,t)}));return xn(r,n),r},viewCleanup:(S=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,i){if(e)return n(e);t(i)}))}))}(t):ae(t)?function(e){return e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new r;Object.keys(e.views).forEach((function(e){var t=jn(e),r="_design/"+t[0],s=t[1],o=n.get(r);o||(o=new i,n.set(r,o)),o.add(s)}));var s={keys:kn(n),include_docs:!0};return t.allDocs(s).then((function(i){var r={};i.rows.forEach((function(t){var i=t.key.substring(8);n.get(t.key).forEach((function(n){var s=i+"/"+n;e.views[s]||(s=n);var o=Object.keys(e.views[s]),a=t.doc&&t.doc.views&&t.doc.views[n];o.forEach((function(e){r[e]=r[e]||a}))}))}));var s=Object.keys(r).filter((function(e){return!r[e]})).map((function(e){return Ln(b(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(s).then((function(){return{ok:!0}}))}))}),v({ok:!0}))}(t)},f()((function(e){var t=e.pop(),n=S.apply(this,e);return"function"==typeof t&&xn(n,t),n})))}}("mrviews",(function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Tn(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return Vn;if(/^_count/.test(e))return zn;if(/^_stats/.test(e))return Hn;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||Tn(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new En("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var $n={query:function(e,t,n){return Un.query.call(this,e,t,n)},viewCleanup:function(e){return Un.viewCleanup.call(this,e)}};function Zn(e){return/^1-/.test(e)}function Gn(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function Wn(e,t,n,i){n=L(n);var r=[],s=!0;function o(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!Zn(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&Zn(t[0])}));if(e.length>0)return o(e)})).then((function(){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(o.docs.length)return e.bulkGet(o).then((function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var i=n.ok;return n.error&&(s=!1),i&&i._attachments?function(e,t,n){var i=ae(t)&&!ae(e),r=Object.keys(n._attachments);return i?e.get(n._id).then((function(i){return Promise.all(r.map((function(r){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(i,n,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)})))})).catch((function(e){if(404!==e.status)throw e;return Gn(t,n)})):Gn(t,n)}(t,e,i).then((function(e){var t=Object.keys(i._attachments);return e.forEach((function(e,n){var r=i._attachments[t[n]];delete r.stub,delete r.length,r.data=e})),i})):i})))}))).then((function(e){r=r.concat(se(e).filter(Boolean))}))}))})).then((function(){return{ok:s,docs:r}}))}function Kn(e,t,n,i,r){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||F(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(s){if(!r.cancelled&&s.last_seq!==n)return s.history=(s.history||[]).filter((function(e){return e.session_id!==i})),s.history.unshift({last_seq:n,session_id:i}),s.history=s.history.slice(0,5),s.version=1,s.replicator="pouchdb",s.session_id=i,s.last_seq=n,e.put(s).catch((function(s){if(409===s.status)return Kn(e,t,n,i,r);throw s}))}))}function Yn(e,t,n,i,r){this.src=e,this.target=t,this.id=n,this.returnValue=i,this.opts=r||{}}Yn.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},Yn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Kn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Yn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return Kn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Qn(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var Xn={undefined:function(e,t){return 0===ft(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var i=t[0],r=t.slice(1),s=n[0],o=n.slice(1);if(!i||0===n.length)return{last_seq:0,history:[]};if(Jn(i.session_id,n))return{last_seq:i.last_seq,history:t};if(Jn(s.session_id,r))return{last_seq:s.last_seq,history:o};return e(r,o)}(e.history,t.history)}(t,e).last_seq}};function Jn(e,t){var n=t[0],i=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Jn(e,i))}function Qn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Yn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in Xn?Xn[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Qn(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};function ei(e,t,n){var i=n.doc_ids?n.doc_ids.sort(ft):"",r=n.filter?n.filter.toString():"",s="",o="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(s=JSON.stringify(function(e){return Object.keys(e).sort(ft).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(o=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+r+o+s+i+a;return new Promise((function(e){Ce(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function ti(e,t,n,i,r){var s,a,c,l=[],u={seq:0,changes:[],docs:[]},d=!1,h=!1,f=!1,g=0,p=n.continuous||n.live||!1,m=n.batch_size||100,v=n.batches_limit||10,y=n.style||"all_docs",b=!1,w=n.doc_ids,_=n.selector,E=[],S=Oe();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var x={};function A(){return c?Promise.resolve():ei(e,t,n).then((function(r){a=r;var s={};s=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new Yn(e,t,a,i,s)}))}function k(){if(E=[],0!==s.docs.length){var e=s.docs,o={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},o).then((function(t){if(i.cancelled)throw T(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var s=Object.keys(n).length;r.doc_write_failures+=s,r.docs_written+=e.length-s,e.forEach((function(e){var t=n[e._id];if(t){r.errors.push(t);var s=(t.name||"").toLowerCase();if("unauthorized"!==s&&"forbidden"!==s)throw t;i.emit("denied",L(t))}else E.push(e)}))}),(function(t){throw r.doc_write_failures+=e.length,t}))}}function C(){if(s.error)throw new Error("There was a problem getting docs.");r.last_seq=g=s.seq;var e=L(r);return E.length&&(e.docs=E,"number"==typeof s.pending&&(e.pending=s.pending,delete s.pending),i.emit("change",e)),d=!0,c.writeCheckpoint(s.seq,S).then((function(){if(i.emit("checkpoint",{checkpoint:s.seq}),d=!1,i.cancelled)throw T(),new Error("cancelled");s=void 0,F()})).catch((function(e){throw R(e),e}))}function I(){return Wn(e,t,s.diffs,i).then((function(e){s.error=!e.ok,e.docs.forEach((function(e){delete s.diffs[e._id],r.docs_read++,s.docs.push(e)}))}))}function P(){var e;i.cancelled||s||(0!==l.length?(s=l.shift(),i.emit("checkpoint",{start_next_batch:s.seq}),(e={},s.changes.forEach((function(t){i.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(i.cancelled)throw T(),new Error("cancelled");s.diffs=e}))).then(I).then(k).then(C).then(P).catch((function(e){B("batch processing terminated with error",e)}))):O(!0))}function O(e){0!==u.changes.length?(e||h||u.changes.length>=m)&&(l.push(u),u={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),P()):0!==l.length||s||((p&&x.live||h)&&(i.state="pending",i.emit("paused")),h&&T())}function B(e,t){f||(t.message||(t.message=e),r.ok=!1,r.status="aborting",l=[],u={seq:0,changes:[],docs:[]},T(t))}function T(s){if(!(f||i.cancelled&&(r.status="cancelled",d)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=g,f=!0,s){(s=ne(s)).result=r;var o=(s.name||"").toLowerCase();"unauthorized"===o||"forbidden"===o?(i.emit("error",s),i.removeAllListeners()):function(e,t,n,i){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=D),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var r=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",r)})),t.once("active",r)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}(n,i,s,(function(){ti(e,t,n,i)}))}else i.emit("complete",r),i.removeAllListeners()}function N(e,t,r){if(i.cancelled)return T();"number"==typeof t&&(u.pending=t),re(n)(e)&&(u.seq=e.seq||r,u.changes.push(e),i.emit("checkpoint",{pending_batch:u.seq}),o()((function(){O(0===l.length&&x.live)})))}function M(e){if(b=!1,i.cancelled)return T();if(e.results.length>0)x.since=e.results[e.results.length-1].seq,F(),O(!0);else{var t=function(){p?(x.live=!0,F()):h=!0,O(!0)};s||0!==e.results.length?t():(d=!0,c.writeCheckpoint(e.last_seq,S).then((function(){d=!1,r.last_seq=g=e.last_seq,t()})).catch(R))}}function q(e){if(b=!1,i.cancelled)return T();B("changes rejected",e)}function F(){if(!b&&!h&&l.length<v){b=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var t=e.changes(x).on("change",N);t.then(s,s),t.then(M).catch(q),n.retry&&(i._changes=t,i._abortChanges=r)}function r(){t.cancel()}function s(){i.removeListener("cancel",r)}}function j(){A().then((function(){if(!i.cancelled)return c.getCheckpoint().then((function(e){x={since:g=e,limit:m,batch_size:m,style:y,doc_ids:w,selector:_,return_docs:!0},n.filter&&("string"!=typeof n.filter?x.include_docs=!0:x.filter=n.filter),"heartbeat"in n&&(x.heartbeat=n.heartbeat),"timeout"in n&&(x.timeout=n.timeout),n.query_params&&(x.query_params=n.query_params),n.view&&(x.view=n.view),F()}));T()})).catch((function(e){B("getCheckpoint rejected with ",e)}))}function R(e){d=!1,B("writeCheckpoint completed with error",e)}i.ready(e,t),i.cancelled?T():(i._addedListeners||(i.once("cancel",T),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",(function(e){n.complete(null,e)}))),i._addedListeners=!0),void 0===n.since?j():A().then((function(){return d=!0,c.writeCheckpoint(n.since,S)})).then((function(){d=!1,i.cancelled?T():(g=n.since,j())})).catch(R))}function ni(){v.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ii(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function ri(e,t,n,i){if("function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ne(X,"`doc_ids` filter parameter is not a list.");n.complete=i,(n=L(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new ni(n);return ti(ii(e,n),ii(t,n),n,r),r}function si(e,t,n,i){return"function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),(n=L(n)).PouchConstructor=n.PouchConstructor||this,new oi(e=ii(e,n),t=ii(t,n),n,i)}function oi(e,t,n,i){var r=this;this.canceled=!1;var s=n.push?j({},n,n.push):n,o=n.pull?j({},n,n.pull):n;function a(e){r.emit("change",{direction:"pull",change:e})}function c(e){r.emit("change",{direction:"push",change:e})}function l(e){r.emit("denied",{direction:"push",doc:e})}function u(e){r.emit("denied",{direction:"pull",doc:e})}function d(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function h(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function f(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function g(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ri(e,t,s),this.pull=ri(t,e,o),this.pushPaused=!0,this.pullPaused=!0;var p={};function m(e){return function(t,n){("change"===t&&(n===a||n===c)||"denied"===t&&(n===u||n===l)||"paused"===t&&(n===h||n===d)||"active"===t&&(n===g||n===f))&&(t in p||(p[t]={}),p[t][e]=!0,2===Object.keys(p[t]).length&&r.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",(function(e){"change"===e?(v(r.pull,"change",a),v(r.push,"change",c)):"denied"===e?(v(r.pull,"denied",u),v(r.push,"denied",l)):"active"===e?(v(r.pull,"active",g),v(r.push,"active",f)):"paused"===e&&(v(r.pull,"paused",h),v(r.push,"paused",d))})),this.on("removeListener",(function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",c)):"denied"===e?(r.pull.removeListener("denied",u),r.push.removeListener("denied",l)):"active"===e?(r.pull.removeListener("active",g),r.push.removeListener("active",f)):"paused"===e&&(r.pull.removeListener("paused",h),r.push.removeListener("paused",d))})),this.pull.on("removeListener",m("pull")),this.push.on("removeListener",m("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),i&&i(null,t),r.removeAllListeners(),t}),(function(e){if(r.cancel(),i?i(e):r.emit("error",e),r.removeAllListeners(),i)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}p()(ni,v.a),ni.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ni.prototype.ready=function(e,t){var n=this;function i(){n.cancel()}function r(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",i),t.once("destroyed",i),n.once("complete",r),n.once("error",r))},p()(oi,v.a),oi.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},tt.plugin((function(e){e.adapter("idb",dn,!0)})).plugin((function(e){e.adapter("http",wn,!1),e.adapter("https",wn,!1)})).plugin($n).plugin((function(e){e.replicate=ri,e.sync=si,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,i){return e.constructor.replicate(t,e,n,i)},to:function(t,n,i){return e.constructor.replicate(e,t,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}})),t.default=tt}.call(this,n(29))},function(e,t){var n,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=a(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||u||a(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,function(e,t,n){(function(e,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var s="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",g="[object GeneratorFunction]",p="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",E="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",L="[object Float32Array]",A="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",O="[object Uint16Array]",B="[object Uint32Array]",T=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,D=/[&<>"']/g,F=RegExp(q.source),j=RegExp(D.source),R=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,z=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/[\\^$.*+?()[\]{}|]/g,G=RegExp(Z.source),W=/^\s+/,K=/\s/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ie=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,ce=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,de=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ge="[\\ud800-\\udfff]",pe="["+fe+"]",me="["+he+"]",ve="\\d+",ye="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",we="[^\\ud800-\\udfff"+fe+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_e="\\ud83c[\\udffb-\\udfff]",Ee="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ae="(?:"+be+"|"+we+")",ke="(?:"+Le+"|"+we+")",Ce="(?:"+me+"|"+_e+")"+"?",Ie="[\\ufe0e\\ufe0f]?"+Ce+("(?:\\u200d(?:"+[Ee,Se,xe].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*"),Pe="(?:"+[ye,Se,xe].join("|")+")"+Ie,Oe="(?:"+[Ee+me+"?",me,Se,xe,ge].join("|")+")",Be=RegExp("['â€™]","g"),Te=RegExp(me,"g"),Ne=RegExp(_e+"(?="+_e+")|"+Oe+Ie,"g"),Me=RegExp([Le+"?"+be+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?(?="+[pe,Le,"$"].join("|")+")",ke+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?(?="+[pe,Le+Ae,"$"].join("|")+")",Le+"?"+Ae+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?",Le+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Pe].join("|"),"g"),qe=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),De=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],je=-1,Re={};Re[L]=Re[A]=Re[k]=Re[C]=Re[I]=Re[P]=Re["[object Uint8ClampedArray]"]=Re[O]=Re[B]=!0,Re[c]=Re[l]=Re[S]=Re[u]=Re[x]=Re[d]=Re[h]=Re[f]=Re[p]=Re[m]=Re[v]=Re[y]=Re[b]=Re[w]=Re[E]=!1;var Ve={};Ve[c]=Ve[l]=Ve[S]=Ve[x]=Ve[u]=Ve[d]=Ve[L]=Ve[A]=Ve[k]=Ve[C]=Ve[I]=Ve[p]=Ve[m]=Ve[v]=Ve[y]=Ve[b]=Ve[w]=Ve[_]=Ve[P]=Ve["[object Uint8ClampedArray]"]=Ve[O]=Ve[B]=!0,Ve[h]=Ve[f]=Ve[E]=!1;var ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},He=parseFloat,Ue=parseInt,$e="object"==typeof e&&e&&e.Object===Object&&e,Ze="object"==typeof self&&self&&self.Object===Object&&self,Ge=$e||Ze||Function("return this")(),We=t&&!t.nodeType&&t,Ke=We&&"object"==typeof i&&i&&!i.nodeType&&i,Ye=Ke&&Ke.exports===We,Xe=Ye&&$e.process,Je=function(){try{var e=Ke&&Ke.require&&Ke.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Qe=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,it=Je&&Je.isSet,rt=Je&&Je.isTypedArray;function st(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,i){for(var r=-1,s=null==e?0:e.length;++r<s;){var o=e[r];t(i,o,n(o),e)}return i}function at(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function ut(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}function dt(e,t){return!!(null==e?0:e.length)&&_t(e,t,0)>-1}function ht(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function ft(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function gt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function pt(e,t,n,i){var r=-1,s=null==e?0:e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function mt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function vt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var yt=Lt("length");function bt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function wt(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}function _t(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):wt(e,St,n)}function Et(e,t,n,i){for(var r=n-1,s=e.length;++r<s;)if(i(e[r],t))return r;return-1}function St(e){return e!=e}function xt(e,t){var n=null==e?0:e.length;return n?Ct(e,t)/n:NaN}function Lt(e){return function(t){return null==t?void 0:t[e]}}function At(e){return function(t){return null==e?void 0:e[t]}}function kt(e,t,n,i,r){return r(e,(function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)})),n}function Ct(e,t){for(var n,i=-1,r=e.length;++i<r;){var s=t(e[i]);void 0!==s&&(n=void 0===n?s:n+s)}return n}function It(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Pt(e){return e?e.slice(0,Wt(e)+1).replace(W,""):e}function Ot(e){return function(t){return e(t)}}function Bt(e,t){return ft(t,(function(t){return e[t]}))}function Tt(e,t){return e.has(t)}function Nt(e,t){for(var n=-1,i=e.length;++n<i&&_t(t,e[n],0)>-1;);return n}function Mt(e,t){for(var n=e.length;n--&&_t(t,e[n],0)>-1;);return n}function qt(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var Dt=At({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"}),Ft=At({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function jt(e){return"\\"+ze[e]}function Rt(e){return qe.test(e)}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function zt(e,t){return function(n){return e(t(n))}}function Ht(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[r++]=n)}return s}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function $t(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Zt(e){return Rt(e)?function(e){var t=Ne.lastIndex=0;for(;Ne.test(e);)++t;return t}(e):yt(e)}function Gt(e){return Rt(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.split("")}(e)}function Wt(e){for(var t=e.length;t--&&K.test(e.charAt(t)););return t}var Kt=At({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Yt=function e(t){var n,i=(t=null==t?Ge:Yt.defaults(Ge.Object(),t,Yt.pick(Ge,Fe))).Array,r=t.Date,K=t.Error,he=t.Function,fe=t.Math,ge=t.Object,pe=t.RegExp,me=t.String,ve=t.TypeError,ye=i.prototype,be=he.prototype,we=ge.prototype,_e=t["__core-js_shared__"],Ee=be.toString,Se=we.hasOwnProperty,xe=0,Le=(n=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ae=we.toString,ke=Ee.call(ge),Ce=Ge._,Ie=pe("^"+Ee.call(Se).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=Ye?t.Buffer:void 0,Oe=t.Symbol,Ne=t.Uint8Array,qe=Pe?Pe.allocUnsafe:void 0,ze=zt(ge.getPrototypeOf,ge),$e=ge.create,Ze=we.propertyIsEnumerable,We=ye.splice,Ke=Oe?Oe.isConcatSpreadable:void 0,Xe=Oe?Oe.iterator:void 0,Je=Oe?Oe.toStringTag:void 0,yt=function(){try{var e=es(ge,"defineProperty");return e({},"",{}),e}catch(e){}}(),At=t.clearTimeout!==Ge.clearTimeout&&t.clearTimeout,Xt=r&&r.now!==Ge.Date.now&&r.now,Jt=t.setTimeout!==Ge.setTimeout&&t.setTimeout,Qt=fe.ceil,en=fe.floor,tn=ge.getOwnPropertySymbols,nn=Pe?Pe.isBuffer:void 0,rn=t.isFinite,sn=ye.join,on=zt(ge.keys,ge),an=fe.max,cn=fe.min,ln=r.now,un=t.parseInt,dn=fe.random,hn=ye.reverse,fn=es(t,"DataView"),gn=es(t,"Map"),pn=es(t,"Promise"),mn=es(t,"Set"),vn=es(t,"WeakMap"),yn=es(ge,"create"),bn=vn&&new vn,wn={},_n=ks(fn),En=ks(gn),Sn=ks(pn),xn=ks(mn),Ln=ks(vn),An=Oe?Oe.prototype:void 0,kn=An?An.valueOf:void 0,Cn=An?An.toString:void 0;function In(e){if($o(e)&&!No(e)&&!(e instanceof Tn)){if(e instanceof Bn)return e;if(Se.call(e,"__wrapped__"))return Cs(e)}return new Bn(e)}var Pn=function(){function e(){}return function(t){if(!Uo(t))return{};if($e)return $e(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function On(){}function Bn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Tn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Fn(e){var t=this.__data__=new Mn(e);this.size=t.size}function jn(e,t){var n=No(e),i=!n&&To(e),r=!n&&!i&&Fo(e),s=!n&&!i&&!r&&Qo(e),o=n||i||r||s,a=o?It(e.length,me):[],c=a.length;for(var l in e)!t&&!Se.call(e,l)||o&&("length"==l||r&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||as(l,c))||a.push(l);return a}function Rn(e){var t=e.length;return t?e[Di(0,t-1)]:void 0}function Vn(e,t){return xs(yr(e),Yn(t,0,e.length))}function zn(e){return xs(yr(e))}function Hn(e,t,n){(void 0!==n&&!Po(e[t],n)||void 0===n&&!(t in e))&&Wn(e,t,n)}function Un(e,t,n){var i=e[t];Se.call(e,t)&&Po(i,n)&&(void 0!==n||t in e)||Wn(e,t,n)}function $n(e,t){for(var n=e.length;n--;)if(Po(e[n][0],t))return n;return-1}function Zn(e,t,n,i){return ti(e,(function(e,r,s){t(i,e,n(e),s)})),i}function Gn(e,t){return e&&br(t,_a(t),e)}function Wn(e,t,n){"__proto__"==t&&yt?yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Kn(e,t){for(var n=-1,r=t.length,s=i(r),o=null==e;++n<r;)s[n]=o?void 0:ma(e,t[n]);return s}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,i,r,s){var o,a=1&t,l=2&t,h=4&t;if(n&&(o=r?n(e,i,r,s):n(e)),void 0!==o)return o;if(!Uo(e))return e;var E=No(e);if(E){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!a)return yr(e,o)}else{var T=is(e),N=T==f||T==g;if(Fo(e))return hr(e,a);if(T==v||T==c||N&&!r){if(o=l||N?{}:ss(e),!a)return l?function(e,t){return br(e,ns(e),t)}(e,function(e,t){return e&&br(t,Ea(t),e)}(o,e)):function(e,t){return br(e,ts(e),t)}(e,Gn(o,e))}else{if(!Ve[T])return r?e:{};o=function(e,t,n){var i=e.constructor;switch(t){case S:return fr(e);case u:case d:return new i(+e);case x:return function(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case A:case k:case C:case I:case P:case"[object Uint8ClampedArray]":case O:case B:return gr(e,n);case p:return new i;case m:case w:return new i(e);case y:return function(e){var t=new e.constructor(e.source,ie.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new i;case _:return r=e,kn?ge(kn.call(r)):{}}var r}(e,T,a)}}s||(s=new Fn);var M=s.get(e);if(M)return M;s.set(e,o),Yo(e)?e.forEach((function(i){o.add(Xn(i,t,n,i,e,s))})):Zo(e)&&e.forEach((function(i,r){o.set(r,Xn(i,t,n,r,e,s))}));var q=E?void 0:(h?l?Gr:Zr:l?Ea:_a)(e);return at(q||e,(function(i,r){q&&(i=e[r=i]),Un(o,r,Xn(i,t,n,r,e,s))})),o}function Jn(e,t,n){var i=n.length;if(null==e)return!i;for(e=ge(e);i--;){var r=n[i],s=t[r],o=e[r];if(void 0===o&&!(r in e)||!s(o))return!1}return!0}function Qn(e,t,n){if("function"!=typeof e)throw new ve(s);return ws((function(){e.apply(void 0,n)}),t)}function ei(e,t,n,i){var r=-1,s=dt,o=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=ft(t,Ot(n))),i?(s=ht,o=!1):t.length>=200&&(s=Tt,o=!1,t=new Dn(t));e:for(;++r<a;){var u=e[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,o&&d==d){for(var h=l;h--;)if(t[h]===d)continue e;c.push(u)}else s(t,d,i)||c.push(u)}return c}In.templateSettings={escape:R,evaluate:V,interpolate:z,variable:"",imports:{_:In}},In.prototype=On.prototype,In.prototype.constructor=In,Bn.prototype=Pn(On.prototype),Bn.prototype.constructor=Bn,Tn.prototype=Pn(On.prototype),Tn.prototype.constructor=Tn,Nn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Se.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=$n(t,e);return!(n<0)&&(n==t.length-1?t.pop():We.call(t,n,1),--this.size,!0)},Mn.prototype.get=function(e){var t=this.__data__,n=$n(t,e);return n<0?void 0:t[n][1]},Mn.prototype.has=function(e){return $n(this.__data__,e)>-1},Mn.prototype.set=function(e,t){var n=this.__data__,i=$n(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(gn||Mn),string:new Nn}},qn.prototype.delete=function(e){var t=Jr(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return Jr(this,e).get(e)},qn.prototype.has=function(e){return Jr(this,e).has(e)},qn.prototype.set=function(e,t){var n=Jr(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Dn.prototype.add=Dn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Dn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.clear=function(){this.__data__=new Mn,this.size=0},Fn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Fn.prototype.get=function(e){return this.__data__.get(e)},Fn.prototype.has=function(e){return this.__data__.has(e)},Fn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Mn){var i=n.__data__;if(!gn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(i)}return n.set(e,t),this.size=n.size,this};var ti=Er(li),ni=Er(ui,!0);function ii(e,t){var n=!0;return ti(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function ri(e,t,n){for(var i=-1,r=e.length;++i<r;){var s=e[i],o=t(s);if(null!=o&&(void 0===a?o==o&&!Jo(o):n(o,a)))var a=o,c=s}return c}function si(e,t){var n=[];return ti(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function oi(e,t,n,i,r){var s=-1,o=e.length;for(n||(n=os),r||(r=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?oi(a,t-1,n,i,r):gt(r,a):i||(r[r.length]=a)}return r}var ai=Sr(),ci=Sr(!0);function li(e,t){return e&&ai(e,t,_a)}function ui(e,t){return e&&ci(e,t,_a)}function di(e,t){return ut(t,(function(t){return Vo(e[t])}))}function hi(e,t){for(var n=0,i=(t=cr(t,e)).length;null!=e&&n<i;)e=e[As(t[n++])];return n&&n==i?e:void 0}function fi(e,t,n){var i=t(e);return No(e)?i:gt(i,n(e))}function gi(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in ge(e)?function(e){var t=Se.call(e,Je),n=e[Je];try{e[Je]=void 0;var i=!0}catch(e){}var r=Ae.call(e);i&&(t?e[Je]=n:delete e[Je]);return r}(e):function(e){return Ae.call(e)}(e)}function pi(e,t){return e>t}function mi(e,t){return null!=e&&Se.call(e,t)}function vi(e,t){return null!=e&&t in ge(e)}function yi(e,t,n){for(var r=n?ht:dt,s=e[0].length,o=e.length,a=o,c=i(o),l=1/0,u=[];a--;){var d=e[a];a&&t&&(d=ft(d,Ot(t))),l=cn(d.length,l),c[a]=!n&&(t||s>=120&&d.length>=120)?new Dn(a&&d):void 0}d=e[0];var h=-1,f=c[0];e:for(;++h<s&&u.length<l;){var g=d[h],p=t?t(g):g;if(g=n||0!==g?g:0,!(f?Tt(f,p):r(u,p,n))){for(a=o;--a;){var m=c[a];if(!(m?Tt(m,p):r(e[a],p,n)))continue e}f&&f.push(p),u.push(g)}}return u}function bi(e,t,n){var i=null==(e=ms(e,t=cr(t,e)))?e:e[As(js(t))];return null==i?void 0:st(i,e,n)}function wi(e){return $o(e)&&gi(e)==c}function _i(e,t,n,i,r){return e===t||(null==e||null==t||!$o(e)&&!$o(t)?e!=e&&t!=t:function(e,t,n,i,r,s){var o=No(e),a=No(t),f=o?l:is(e),g=a?l:is(t),E=(f=f==c?v:f)==v,L=(g=g==c?v:g)==v,A=f==g;if(A&&Fo(e)){if(!Fo(t))return!1;o=!0,E=!1}if(A&&!E)return s||(s=new Fn),o||Qo(e)?Ur(e,t,n,i,r,s):function(e,t,n,i,r,s,o){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!s(new Ne(e),new Ne(t)));case u:case d:case m:return Po(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case w:return e==t+"";case p:var a=Vt;case b:var c=1&i;if(a||(a=Ut),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;i|=2,o.set(e,t);var f=Ur(a(e),a(t),i,r,s,o);return o.delete(e),f;case _:if(kn)return kn.call(e)==kn.call(t)}return!1}(e,t,f,n,i,r,s);if(!(1&n)){var k=E&&Se.call(e,"__wrapped__"),C=L&&Se.call(t,"__wrapped__");if(k||C){var I=k?e.value():e,P=C?t.value():t;return s||(s=new Fn),r(I,P,n,i,s)}}if(!A)return!1;return s||(s=new Fn),function(e,t,n,i,r,s){var o=1&n,a=Zr(e),c=a.length,l=Zr(t).length;if(c!=l&&!o)return!1;var u=c;for(;u--;){var d=a[u];if(!(o?d in t:Se.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var g=!0;s.set(e,t),s.set(t,e);var p=o;for(;++u<c;){d=a[u];var m=e[d],v=t[d];if(i)var y=o?i(v,m,d,t,e,s):i(m,v,d,e,t,s);if(!(void 0===y?m===v||r(m,v,n,i,s):y)){g=!1;break}p||(p="constructor"==d)}if(g&&!p){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,i,r,s)}(e,t,n,i,_i,r))}function Ei(e,t,n,i){var r=n.length,s=r,o=!i;if(null==e)return!s;for(e=ge(e);r--;){var a=n[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<s;){var c=(a=n[r])[0],l=e[c],u=a[1];if(o&&a[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Fn;if(i)var h=i(l,u,c,e,t,d);if(!(void 0===h?_i(u,l,3,i,d):h))return!1}}return!0}function Si(e){return!(!Uo(e)||(t=e,Le&&Le in t))&&(Vo(e)?Ie:oe).test(ks(e));var t}function xi(e){return"function"==typeof e?e:null==e?Ga:"object"==typeof e?No(e)?Pi(e[0],e[1]):Ii(e):nc(e)}function Li(e){if(!hs(e))return on(e);var t=[];for(var n in ge(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ai(e){if(!Uo(e))return function(e){var t=[];if(null!=e)for(var n in ge(e))t.push(n);return t}(e);var t=hs(e),n=[];for(var i in e)("constructor"!=i||!t&&Se.call(e,i))&&n.push(i);return n}function ki(e,t){return e<t}function Ci(e,t){var n=-1,r=qo(e)?i(e.length):[];return ti(e,(function(e,i,s){r[++n]=t(e,i,s)})),r}function Ii(e){var t=Qr(e);return 1==t.length&&t[0][2]?gs(t[0][0],t[0][1]):function(n){return n===e||Ei(n,e,t)}}function Pi(e,t){return ls(e)&&fs(t)?gs(As(e),t):function(n){var i=ma(n,e);return void 0===i&&i===t?va(n,e):_i(t,i,3)}}function Oi(e,t,n,i,r){e!==t&&ai(t,(function(s,o){if(r||(r=new Fn),Uo(s))!function(e,t,n,i,r,s,o){var a=ys(e,n),c=ys(t,n),l=o.get(c);if(l)return void Hn(e,n,l);var u=s?s(a,c,n+"",e,t,o):void 0,d=void 0===u;if(d){var h=No(c),f=!h&&Fo(c),g=!h&&!f&&Qo(c);u=c,h||f||g?No(a)?u=a:Do(a)?u=yr(a):f?(d=!1,u=hr(c,!0)):g?(d=!1,u=gr(c,!0)):u=[]:Wo(c)||To(c)?(u=a,To(a)?u=aa(a):Uo(a)&&!Vo(a)||(u=ss(c))):d=!1}d&&(o.set(c,u),r(u,c,i,s,o),o.delete(c));Hn(e,n,u)}(e,t,o,n,Oi,i,r);else{var a=i?i(ys(e,o),s,o+"",e,t,r):void 0;void 0===a&&(a=s),Hn(e,o,a)}}),Ea)}function Bi(e,t){var n=e.length;if(n)return as(t+=t<0?n:0,n)?e[t]:void 0}function Ti(e,t,n){t=t.length?ft(t,(function(e){return No(e)?function(t){return hi(t,1===e.length?e[0]:e)}:e})):[Ga];var i=-1;return t=ft(t,Ot(Xr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ci(e,(function(e,n,r){return{criteria:ft(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,s=t.criteria,o=r.length,a=n.length;for(;++i<o;){var c=pr(r[i],s[i]);if(c){if(i>=a)return c;var l=n[i];return c*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)}))}function Ni(e,t,n){for(var i=-1,r=t.length,s={};++i<r;){var o=t[i],a=hi(e,o);n(a,o)&&zi(s,cr(o,e),a)}return s}function Mi(e,t,n,i){var r=i?Et:_t,s=-1,o=t.length,a=e;for(e===t&&(t=yr(t)),n&&(a=ft(e,Ot(n)));++s<o;)for(var c=0,l=t[s],u=n?n(l):l;(c=r(a,u,c,i))>-1;)a!==e&&We.call(a,c,1),We.call(e,c,1);return e}function qi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==s){var s=r;as(r)?We.call(e,r,1):er(e,r)}}return e}function Di(e,t){return e+en(dn()*(t-e+1))}function Fi(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function ji(e,t){return _s(ps(e,t,Ga),e+"")}function Ri(e){return Rn(Pa(e))}function Vi(e,t){var n=Pa(e);return xs(n,Yn(t,0,n.length))}function zi(e,t,n,i){if(!Uo(e))return e;for(var r=-1,s=(t=cr(t,e)).length,o=s-1,a=e;null!=a&&++r<s;){var c=As(t[r]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=o){var u=a[c];void 0===(l=i?i(u,c,a):void 0)&&(l=Uo(u)?u:as(t[r+1])?[]:{})}Un(a,c,l),a=a[c]}return e}var Hi=bn?function(e,t){return bn.set(e,t),e}:Ga,Ui=yt?function(e,t){return yt(e,"toString",{configurable:!0,enumerable:!1,value:Ua(t),writable:!0})}:Ga;function $i(e){return xs(Pa(e))}function Zi(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=i(s);++r<s;)o[r]=e[r+t];return o}function Gi(e,t){var n;return ti(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function Wi(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var s=i+r>>>1,o=e[s];null!==o&&!Jo(o)&&(n?o<=t:o<t)?i=s+1:r=s}return r}return Ki(e,t,Ga,n)}function Ki(e,t,n,i){var r=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=n(t))!=t,a=null===t,c=Jo(t),l=void 0===t;r<s;){var u=en((r+s)/2),d=n(e[u]),h=void 0!==d,f=null===d,g=d==d,p=Jo(d);if(o)var m=i||g;else m=l?g&&(i||h):a?g&&h&&(i||!f):c?g&&h&&!f&&(i||!p):!f&&!p&&(i?d<=t:d<t);m?r=u+1:s=u}return cn(s,4294967294)}function Yi(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n],a=t?t(o):o;if(!n||!Po(a,c)){var c=a;s[r++]=0===o?0:o}}return s}function Xi(e){return"number"==typeof e?e:Jo(e)?NaN:+e}function Ji(e){if("string"==typeof e)return e;if(No(e))return ft(e,Ji)+"";if(Jo(e))return Cn?Cn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qi(e,t,n){var i=-1,r=dt,s=e.length,o=!0,a=[],c=a;if(n)o=!1,r=ht;else if(s>=200){var l=t?null:Fr(e);if(l)return Ut(l);o=!1,r=Tt,c=new Dn}else c=t?[]:a;e:for(;++i<s;){var u=e[i],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),a.push(u)}else r(c,d,n)||(c!==a&&c.push(d),a.push(u))}return a}function er(e,t){return null==(e=ms(e,t=cr(t,e)))||delete e[As(js(t))]}function tr(e,t,n,i){return zi(e,t,n(hi(e,t)),i)}function nr(e,t,n,i){for(var r=e.length,s=i?r:-1;(i?s--:++s<r)&&t(e[s],s,e););return n?Zi(e,i?0:s,i?s+1:r):Zi(e,i?s+1:0,i?r:s)}function ir(e,t){var n=e;return n instanceof Tn&&(n=n.value()),pt(t,(function(e,t){return t.func.apply(t.thisArg,gt([e],t.args))}),n)}function rr(e,t,n){var r=e.length;if(r<2)return r?Qi(e[0]):[];for(var s=-1,o=i(r);++s<r;)for(var a=e[s],c=-1;++c<r;)c!=s&&(o[s]=ei(o[s]||a,e[c],t,n));return Qi(oi(o,1),t,n)}function sr(e,t,n){for(var i=-1,r=e.length,s=t.length,o={};++i<r;){var a=i<s?t[i]:void 0;n(o,e[i],a)}return o}function or(e){return Do(e)?e:[]}function ar(e){return"function"==typeof e?e:Ga}function cr(e,t){return No(e)?e:ls(e,t)?[e]:Ls(ca(e))}var lr=ji;function ur(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Zi(e,t,n)}var dr=At||function(e){return Ge.clearTimeout(e)};function hr(e,t){if(t)return e.slice();var n=e.length,i=qe?qe(n):new e.constructor(n);return e.copy(i),i}function fr(e){var t=new e.constructor(e.byteLength);return new Ne(t).set(new Ne(e)),t}function gr(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function pr(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e==e,s=Jo(e),o=void 0!==t,a=null===t,c=t==t,l=Jo(t);if(!a&&!l&&!s&&e>t||s&&o&&c&&!a&&!l||i&&o&&c||!n&&c||!r)return 1;if(!i&&!s&&!l&&e<t||l&&n&&r&&!i&&!s||a&&n&&r||!o&&r||!c)return-1}return 0}function mr(e,t,n,r){for(var s=-1,o=e.length,a=n.length,c=-1,l=t.length,u=an(o-a,0),d=i(l+u),h=!r;++c<l;)d[c]=t[c];for(;++s<a;)(h||s<o)&&(d[n[s]]=e[s]);for(;u--;)d[c++]=e[s++];return d}function vr(e,t,n,r){for(var s=-1,o=e.length,a=-1,c=n.length,l=-1,u=t.length,d=an(o-c,0),h=i(d+u),f=!r;++s<d;)h[s]=e[s];for(var g=s;++l<u;)h[g+l]=t[l];for(;++a<c;)(f||s<o)&&(h[g+n[a]]=e[s++]);return h}function yr(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function br(e,t,n,i){var r=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],c=i?i(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),r?Wn(n,a,c):Un(n,a,c)}return n}function wr(e,t){return function(n,i){var r=No(n)?ot:Zn,s=t?t():{};return r(n,e,Xr(i,2),s)}}function _r(e){return ji((function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&cs(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),t=ge(t);++i<r;){var a=n[i];a&&e(t,a,i,s)}return t}))}function Er(e,t){return function(n,i){if(null==n)return n;if(!qo(n))return e(n,i);for(var r=n.length,s=t?r:-1,o=ge(n);(t?s--:++s<r)&&!1!==i(o[s],s,o););return n}}function Sr(e){return function(t,n,i){for(var r=-1,s=ge(t),o=i(t),a=o.length;a--;){var c=o[e?a:++r];if(!1===n(s[c],c,s))break}return t}}function xr(e){return function(t){var n=Rt(t=ca(t))?Gt(t):void 0,i=n?n[0]:t.charAt(0),r=n?ur(n,1).join(""):t.slice(1);return i[e]()+r}}function Lr(e){return function(t){return pt(Va(Ta(t).replace(Be,"")),e,"")}}function Ar(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Pn(e.prototype),i=e.apply(n,t);return Uo(i)?i:n}}function kr(e){return function(t,n,i){var r=ge(t);if(!qo(t)){var s=Xr(n,3);t=_a(t),n=function(e){return s(r[e],e,r)}}var o=e(t,n,i);return o>-1?r[s?t[o]:o]:void 0}}function Cr(e){return $r((function(t){var n=t.length,i=n,r=Bn.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new ve(s);if(r&&!a&&"wrapper"==Kr(o))var a=new Bn([],!0)}for(i=a?i:n;++i<n;){var c=Kr(o=t[i]),l="wrapper"==c?Wr(o):void 0;a=l&&us(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Kr(l[0])].apply(a,l[3]):1==o.length&&us(o)?a[c]():a.thru(o)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&No(i))return a.plant(i).value();for(var r=0,s=n?t[r].apply(this,e):i;++r<n;)s=t[r].call(this,s);return s}}))}function Ir(e,t,n,r,s,o,a,c,l,u){var d=128&t,h=1&t,f=2&t,g=24&t,p=512&t,m=f?void 0:Ar(e);return function v(){for(var y=arguments.length,b=i(y),w=y;w--;)b[w]=arguments[w];if(g)var _=Yr(v),E=qt(b,_);if(r&&(b=mr(b,r,s,g)),o&&(b=vr(b,o,a,g)),y-=E,g&&y<u){var S=Ht(b,_);return qr(e,t,Ir,v.placeholder,n,b,S,c,l,u-y)}var x=h?n:this,L=f?x[e]:e;return y=b.length,c?b=vs(b,c):p&&y>1&&b.reverse(),d&&l<y&&(b.length=l),this&&this!==Ge&&this instanceof v&&(L=m||Ar(L)),L.apply(x,b)}}function Pr(e,t){return function(n,i){return function(e,t,n,i){return li(e,(function(e,r,s){t(i,n(e),r,s)})),i}(n,e,t(i),{})}}function Or(e,t){return function(n,i){var r;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Ji(n),i=Ji(i)):(n=Xi(n),i=Xi(i)),r=e(n,i)}return r}}function Br(e){return $r((function(t){return t=ft(t,Ot(Xr())),ji((function(n){var i=this;return e(t,(function(e){return st(e,i,n)}))}))}))}function Tr(e,t){var n=(t=void 0===t?" ":Ji(t)).length;if(n<2)return n?Fi(t,e):t;var i=Fi(t,Qt(e/Zt(t)));return Rt(t)?ur(Gt(i),0,e).join(""):i.slice(0,e)}function Nr(e){return function(t,n,r){return r&&"number"!=typeof r&&cs(t,n,r)&&(n=r=void 0),t=ia(t),void 0===n?(n=t,t=0):n=ia(n),function(e,t,n,r){for(var s=-1,o=an(Qt((t-e)/(n||1)),0),a=i(o);o--;)a[r?o:++s]=e,e+=n;return a}(t,n,r=void 0===r?t<n?1:-1:ia(r),e)}}function Mr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=oa(t),n=oa(n)),e(t,n)}}function qr(e,t,n,i,r,s,o,a,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=[e,t,r,u?s:void 0,u?o:void 0,u?void 0:s,u?void 0:o,a,c,l],h=n.apply(void 0,d);return us(e)&&bs(h,d),h.placeholder=i,Es(h,e,t)}function Dr(e){var t=fe[e];return function(e,n){if(e=oa(e),(n=null==n?0:cn(ra(n),292))&&rn(e)){var i=(ca(e)+"e").split("e");return+((i=(ca(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Fr=mn&&1/Ut(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Ja;function jr(e){return function(t){var n=is(t);return n==p?Vt(t):n==b?$t(t):function(e,t){return ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Rr(e,t,n,r,a,c,l,u){var d=2&t;if(!d&&"function"!=typeof e)throw new ve(s);var h=r?r.length:0;if(h||(t&=-97,r=a=void 0),l=void 0===l?l:an(ra(l),0),u=void 0===u?u:ra(u),h-=a?a.length:0,64&t){var f=r,g=a;r=a=void 0}var p=d?void 0:Wr(e),m=[e,t,n,r,a,f,g,c,l,u];if(p&&function(e,t){var n=e[1],i=t[1],r=n|i,s=r<131,a=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?mr(l,c,t[4]):c,e[4]=l?Ht(e[3],o):t[4]}(c=t[5])&&(l=e[5],e[5]=l?vr(l,c,t[6]):c,e[6]=l?Ht(e[5],o):t[6]);(c=t[7])&&(e[7]=c);128&i&&(e[8]=null==e[8]?t[8]:cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(m,p),e=m[0],t=m[1],n=m[2],r=m[3],a=m[4],!(u=m[9]=void 0===m[9]?d?0:e.length:an(m[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var r=Ar(e);return function s(){for(var o=arguments.length,a=i(o),c=o,l=Yr(s);c--;)a[c]=arguments[c];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:Ht(a,l);if((o-=u.length)<n)return qr(e,t,Ir,s.placeholder,void 0,a,u,void 0,void 0,n-o);var d=this&&this!==Ge&&this instanceof s?r:e;return st(d,this,a)}}(e,t,u):32!=t&&33!=t||a.length?Ir.apply(void 0,m):function(e,t,n,r){var s=1&t,o=Ar(e);return function t(){for(var a=-1,c=arguments.length,l=-1,u=r.length,d=i(u+c),h=this&&this!==Ge&&this instanceof t?o:e;++l<u;)d[l]=r[l];for(;c--;)d[l++]=arguments[++a];return st(h,s?n:this,d)}}(e,t,n,r);else var v=function(e,t,n){var i=1&t,r=Ar(e);return function t(){var s=this&&this!==Ge&&this instanceof t?r:e;return s.apply(i?n:this,arguments)}}(e,t,n);return Es((p?Hi:bs)(v,m),e,t)}function Vr(e,t,n,i){return void 0===e||Po(e,we[n])&&!Se.call(i,n)?t:e}function zr(e,t,n,i,r,s){return Uo(e)&&Uo(t)&&(s.set(t,e),Oi(e,t,void 0,zr,s),s.delete(t)),e}function Hr(e){return Wo(e)?void 0:e}function Ur(e,t,n,i,r,s){var o=1&n,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var l=s.get(e),u=s.get(t);if(l&&u)return l==t&&u==e;var d=-1,h=!0,f=2&n?new Dn:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],p=t[d];if(i)var m=o?i(p,g,d,t,e,s):i(g,p,d,e,t,s);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!vt(t,(function(e,t){if(!Tt(f,t)&&(g===e||r(g,e,n,i,s)))return f.push(t)}))){h=!1;break}}else if(g!==p&&!r(g,p,n,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function $r(e){return _s(ps(e,void 0,Ns),e+"")}function Zr(e){return fi(e,_a,ts)}function Gr(e){return fi(e,Ea,ns)}var Wr=bn?function(e){return bn.get(e)}:Ja;function Kr(e){for(var t=e.name+"",n=wn[t],i=Se.call(wn,t)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==e)return r.name}return t}function Yr(e){return(Se.call(In,"placeholder")?In:e).placeholder}function Xr(){var e=In.iteratee||Wa;return e=e===Wa?xi:e,arguments.length?e(arguments[0],arguments[1]):e}function Jr(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Qr(e){for(var t=_a(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,fs(r)]}return t}function es(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Si(n)?n:void 0}var ts=tn?function(e){return null==e?[]:(e=ge(e),ut(tn(e),(function(t){return Ze.call(e,t)})))}:sc,ns=tn?function(e){for(var t=[];e;)gt(t,ts(e)),e=ze(e);return t}:sc,is=gi;function rs(e,t,n){for(var i=-1,r=(t=cr(t,e)).length,s=!1;++i<r;){var o=As(t[i]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++i!=r?s:!!(r=null==e?0:e.length)&&Ho(r)&&as(o,r)&&(No(e)||To(e))}function ss(e){return"function"!=typeof e.constructor||hs(e)?{}:Pn(ze(e))}function os(e){return No(e)||To(e)||!!(Ke&&e&&e[Ke])}function as(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ce.test(e))&&e>-1&&e%1==0&&e<t}function cs(e,t,n){if(!Uo(n))return!1;var i=typeof t;return!!("number"==i?qo(n)&&as(t,n.length):"string"==i&&t in n)&&Po(n[t],e)}function ls(e,t){if(No(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Jo(e))||(U.test(e)||!H.test(e)||null!=t&&e in ge(t))}function us(e){var t=Kr(e),n=In[t];if("function"!=typeof n||!(t in Tn.prototype))return!1;if(e===n)return!0;var i=Wr(n);return!!i&&e===i[0]}(fn&&is(new fn(new ArrayBuffer(1)))!=x||gn&&is(new gn)!=p||pn&&"[object Promise]"!=is(pn.resolve())||mn&&is(new mn)!=b||vn&&is(new vn)!=E)&&(is=function(e){var t=gi(e),n=t==v?e.constructor:void 0,i=n?ks(n):"";if(i)switch(i){case _n:return x;case En:return p;case Sn:return"[object Promise]";case xn:return b;case Ln:return E}return t});var ds=_e?Vo:oc;function hs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function fs(e){return e==e&&!Uo(e)}function gs(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in ge(n)))}}function ps(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=an(r.length-t,0),a=i(o);++s<o;)a[s]=r[t+s];s=-1;for(var c=i(t+1);++s<t;)c[s]=r[s];return c[t]=n(a),st(e,this,c)}}function ms(e,t){return t.length<2?e:hi(e,Zi(t,0,-1))}function vs(e,t){for(var n=e.length,i=cn(t.length,n),r=yr(e);i--;){var s=t[i];e[i]=as(s,n)?r[s]:void 0}return e}function ys(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var bs=Ss(Hi),ws=Jt||function(e,t){return Ge.setTimeout(e,t)},_s=Ss(Ui);function Es(e,t,n){var i=t+"";return _s(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return at(a,(function(n){var i="_."+n[0];t&n[1]&&!dt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(J):[]}(i),n)))}function Ss(e){var t=0,n=0;return function(){var i=ln(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xs(e,t){var n=-1,i=e.length,r=i-1;for(t=void 0===t?i:t;++n<t;){var s=Di(n,r),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}var Ls=function(e){var t=xo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($,(function(e,n,i,r){t.push(i?r.replace(te,"$1"):n||e)})),t}));function As(e){if("string"==typeof e||Jo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ks(e){if(null!=e){try{return Ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Cs(e){if(e instanceof Tn)return e.clone();var t=new Bn(e.__wrapped__,e.__chain__);return t.__actions__=yr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Is=ji((function(e,t){return Do(e)?ei(e,oi(t,1,Do,!0)):[]})),Ps=ji((function(e,t){var n=js(t);return Do(n)&&(n=void 0),Do(e)?ei(e,oi(t,1,Do,!0),Xr(n,2)):[]})),Os=ji((function(e,t){var n=js(t);return Do(n)&&(n=void 0),Do(e)?ei(e,oi(t,1,Do,!0),void 0,n):[]}));function Bs(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=an(i+r,0)),wt(e,Xr(t,3),r)}function Ts(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=ra(n),r=n<0?an(i+r,0):cn(r,i-1)),wt(e,Xr(t,3),r,!0)}function Ns(e){return(null==e?0:e.length)?oi(e,1):[]}function Ms(e){return e&&e.length?e[0]:void 0}var qs=ji((function(e){var t=ft(e,or);return t.length&&t[0]===e[0]?yi(t):[]})),Ds=ji((function(e){var t=js(e),n=ft(e,or);return t===js(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yi(n,Xr(t,2)):[]})),Fs=ji((function(e){var t=js(e),n=ft(e,or);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yi(n,void 0,t):[]}));function js(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Rs=ji(Vs);function Vs(e,t){return e&&e.length&&t&&t.length?Mi(e,t):e}var zs=$r((function(e,t){var n=null==e?0:e.length,i=Kn(e,t);return qi(e,ft(t,(function(e){return as(e,n)?+e:e})).sort(pr)),i}));function Hs(e){return null==e?e:hn.call(e)}var Us=ji((function(e){return Qi(oi(e,1,Do,!0))})),$s=ji((function(e){var t=js(e);return Do(t)&&(t=void 0),Qi(oi(e,1,Do,!0),Xr(t,2))})),Zs=ji((function(e){var t=js(e);return t="function"==typeof t?t:void 0,Qi(oi(e,1,Do,!0),void 0,t)}));function Gs(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(Do(e))return t=an(e.length,t),!0})),It(t,(function(t){return ft(e,Lt(t))}))}function Ws(e,t){if(!e||!e.length)return[];var n=Gs(e);return null==t?n:ft(n,(function(e){return st(t,void 0,e)}))}var Ks=ji((function(e,t){return Do(e)?ei(e,t):[]})),Ys=ji((function(e){return rr(ut(e,Do))})),Xs=ji((function(e){var t=js(e);return Do(t)&&(t=void 0),rr(ut(e,Do),Xr(t,2))})),Js=ji((function(e){var t=js(e);return t="function"==typeof t?t:void 0,rr(ut(e,Do),void 0,t)})),Qs=ji(Gs);var eo=ji((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ws(e,n)}));function to(e){var t=In(e);return t.__chain__=!0,t}function no(e,t){return t(e)}var io=$r((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return Kn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Tn&&as(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:no,args:[r],thisArg:void 0}),new Bn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(r)}));var ro=wr((function(e,t,n){Se.call(e,n)?++e[n]:Wn(e,n,1)}));var so=kr(Bs),oo=kr(Ts);function ao(e,t){return(No(e)?at:ti)(e,Xr(t,3))}function co(e,t){return(No(e)?ct:ni)(e,Xr(t,3))}var lo=wr((function(e,t,n){Se.call(e,n)?e[n].push(t):Wn(e,n,[t])}));var uo=ji((function(e,t,n){var r=-1,s="function"==typeof t,o=qo(e)?i(e.length):[];return ti(e,(function(e){o[++r]=s?st(t,e,n):bi(e,t,n)})),o})),ho=wr((function(e,t,n){Wn(e,n,t)}));function fo(e,t){return(No(e)?ft:Ci)(e,Xr(t,3))}var go=wr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var po=ji((function(e,t){if(null==e)return[];var n=t.length;return n>1&&cs(e,t[0],t[1])?t=[]:n>2&&cs(t[0],t[1],t[2])&&(t=[t[0]]),Ti(e,oi(t,1),[])})),mo=Xt||function(){return Ge.Date.now()};function vo(e,t,n){return t=n?void 0:t,Rr(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function yo(e,t){var n;if("function"!=typeof t)throw new ve(s);return e=ra(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var bo=ji((function(e,t,n){var i=1;if(n.length){var r=Ht(n,Yr(bo));i|=32}return Rr(e,i,t,n,r)})),wo=ji((function(e,t,n){var i=3;if(n.length){var r=Ht(n,Yr(wo));i|=32}return Rr(t,i,e,n,r)}));function _o(e,t,n){var i,r,o,a,c,l,u=0,d=!1,h=!1,f=!0;if("function"!=typeof e)throw new ve(s);function g(t){var n=i,s=r;return i=r=void 0,u=t,a=e.apply(s,n)}function p(e){return u=e,c=ws(v,t),d?g(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=o}function v(){var e=mo();if(m(e))return y(e);c=ws(v,function(e){var n=t-(e-l);return h?cn(n,o-(e-u)):n}(e))}function y(e){return c=void 0,f&&i?g(e):(i=r=void 0,a)}function b(){var e=mo(),n=m(e);if(i=arguments,r=this,l=e,n){if(void 0===c)return p(l);if(h)return dr(c),c=ws(v,t),g(l)}return void 0===c&&(c=ws(v,t)),a}return t=oa(t)||0,Uo(n)&&(d=!!n.leading,o=(h="maxWait"in n)?an(oa(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==c&&dr(c),u=0,i=l=r=c=void 0},b.flush=function(){return void 0===c?a:y(mo())},b}var Eo=ji((function(e,t){return Qn(e,1,t)})),So=ji((function(e,t,n){return Qn(e,oa(t)||0,n)}));function xo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(s);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(xo.Cache||qn),n}function Lo(e){if("function"!=typeof e)throw new ve(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xo.Cache=qn;var Ao=lr((function(e,t){var n=(t=1==t.length&&No(t[0])?ft(t[0],Ot(Xr())):ft(oi(t,1),Ot(Xr()))).length;return ji((function(i){for(var r=-1,s=cn(i.length,n);++r<s;)i[r]=t[r].call(this,i[r]);return st(e,this,i)}))})),ko=ji((function(e,t){return Rr(e,32,void 0,t,Ht(t,Yr(ko)))})),Co=ji((function(e,t){return Rr(e,64,void 0,t,Ht(t,Yr(Co)))})),Io=$r((function(e,t){return Rr(e,256,void 0,void 0,void 0,t)}));function Po(e,t){return e===t||e!=e&&t!=t}var Oo=Mr(pi),Bo=Mr((function(e,t){return e>=t})),To=wi(function(){return arguments}())?wi:function(e){return $o(e)&&Se.call(e,"callee")&&!Ze.call(e,"callee")},No=i.isArray,Mo=Qe?Ot(Qe):function(e){return $o(e)&&gi(e)==S};function qo(e){return null!=e&&Ho(e.length)&&!Vo(e)}function Do(e){return $o(e)&&qo(e)}var Fo=nn||oc,jo=et?Ot(et):function(e){return $o(e)&&gi(e)==d};function Ro(e){if(!$o(e))return!1;var t=gi(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wo(e)}function Vo(e){if(!Uo(e))return!1;var t=gi(e);return t==f||t==g||"[object AsyncFunction]"==t||"[object Proxy]"==t}function zo(e){return"number"==typeof e&&e==ra(e)}function Ho(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Uo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $o(e){return null!=e&&"object"==typeof e}var Zo=tt?Ot(tt):function(e){return $o(e)&&is(e)==p};function Go(e){return"number"==typeof e||$o(e)&&gi(e)==m}function Wo(e){if(!$o(e)||gi(e)!=v)return!1;var t=ze(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ee.call(n)==ke}var Ko=nt?Ot(nt):function(e){return $o(e)&&gi(e)==y};var Yo=it?Ot(it):function(e){return $o(e)&&is(e)==b};function Xo(e){return"string"==typeof e||!No(e)&&$o(e)&&gi(e)==w}function Jo(e){return"symbol"==typeof e||$o(e)&&gi(e)==_}var Qo=rt?Ot(rt):function(e){return $o(e)&&Ho(e.length)&&!!Re[gi(e)]};var ea=Mr(ki),ta=Mr((function(e,t){return e<=t}));function na(e){if(!e)return[];if(qo(e))return Xo(e)?Gt(e):yr(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=is(e);return(t==p?Vt:t==b?Ut:Pa)(e)}function ia(e){return e?(e=oa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ra(e){var t=ia(e),n=t%1;return t==t?n?t-n:t:0}function sa(e){return e?Yn(ra(e),0,4294967295):0}function oa(e){if("number"==typeof e)return e;if(Jo(e))return NaN;if(Uo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Uo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Pt(e);var n=se.test(e);return n||ae.test(e)?Ue(e.slice(2),n?2:8):re.test(e)?NaN:+e}function aa(e){return br(e,Ea(e))}function ca(e){return null==e?"":Ji(e)}var la=_r((function(e,t){if(hs(t)||qo(t))br(t,_a(t),e);else for(var n in t)Se.call(t,n)&&Un(e,n,t[n])})),ua=_r((function(e,t){br(t,Ea(t),e)})),da=_r((function(e,t,n,i){br(t,Ea(t),e,i)})),ha=_r((function(e,t,n,i){br(t,_a(t),e,i)})),fa=$r(Kn);var ga=ji((function(e,t){e=ge(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&cs(t[0],t[1],r)&&(i=1);++n<i;)for(var s=t[n],o=Ea(s),a=-1,c=o.length;++a<c;){var l=o[a],u=e[l];(void 0===u||Po(u,we[l])&&!Se.call(e,l))&&(e[l]=s[l])}return e})),pa=ji((function(e){return e.push(void 0,zr),st(xa,void 0,e)}));function ma(e,t,n){var i=null==e?void 0:hi(e,t);return void 0===i?n:i}function va(e,t){return null!=e&&rs(e,t,vi)}var ya=Pr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=n}),Ua(Ga)),ba=Pr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Xr),wa=ji(bi);function _a(e){return qo(e)?jn(e):Li(e)}function Ea(e){return qo(e)?jn(e,!0):Ai(e)}var Sa=_r((function(e,t,n){Oi(e,t,n)})),xa=_r((function(e,t,n,i){Oi(e,t,n,i)})),La=$r((function(e,t){var n={};if(null==e)return n;var i=!1;t=ft(t,(function(t){return t=cr(t,e),i||(i=t.length>1),t})),br(e,Gr(e),n),i&&(n=Xn(n,7,Hr));for(var r=t.length;r--;)er(n,t[r]);return n}));var Aa=$r((function(e,t){return null==e?{}:function(e,t){return Ni(e,t,(function(t,n){return va(e,n)}))}(e,t)}));function ka(e,t){if(null==e)return{};var n=ft(Gr(e),(function(e){return[e]}));return t=Xr(t),Ni(e,n,(function(e,n){return t(e,n[0])}))}var Ca=jr(_a),Ia=jr(Ea);function Pa(e){return null==e?[]:Bt(e,_a(e))}var Oa=Lr((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return Ra(ca(e).toLowerCase())}function Ta(e){return(e=ca(e))&&e.replace(le,Dt).replace(Te,"")}var Na=Lr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ma=Lr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qa=xr("toLowerCase");var Da=Lr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Fa=Lr((function(e,t,n){return e+(n?" ":"")+Ra(t)}));var ja=Lr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ra=xr("toUpperCase");function Va(e,t,n){return e=ca(e),void 0===(t=n?void 0:t)?function(e){return De.test(e)}(e)?function(e){return e.match(Me)||[]}(e):function(e){return e.match(Q)||[]}(e):e.match(t)||[]}var za=ji((function(e,t){try{return st(e,void 0,t)}catch(e){return Ro(e)?e:new K(e)}})),Ha=$r((function(e,t){return at(t,(function(t){t=As(t),Wn(e,t,bo(e[t],e))})),e}));function Ua(e){return function(){return e}}var $a=Cr(),Za=Cr(!0);function Ga(e){return e}function Wa(e){return xi("function"==typeof e?e:Xn(e,1))}var Ka=ji((function(e,t){return function(n){return bi(n,e,t)}})),Ya=ji((function(e,t){return function(n){return bi(e,n,t)}}));function Xa(e,t,n){var i=_a(t),r=di(t,i);null!=n||Uo(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=di(t,_a(t)));var s=!(Uo(n)&&"chain"in n&&!n.chain),o=Vo(e);return at(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),r=n.__actions__=yr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,gt([this.value()],arguments))})})),e}function Ja(){}var Qa=Br(ft),ec=Br(lt),tc=Br(vt);function nc(e){return ls(e)?Lt(As(e)):function(e){return function(t){return hi(t,e)}}(e)}var ic=Nr(),rc=Nr(!0);function sc(){return[]}function oc(){return!1}var ac=Or((function(e,t){return e+t}),0),cc=Dr("ceil"),lc=Or((function(e,t){return e/t}),1),uc=Dr("floor");var dc,hc=Or((function(e,t){return e*t}),1),fc=Dr("round"),gc=Or((function(e,t){return e-t}),0);return In.after=function(e,t){if("function"!=typeof t)throw new ve(s);return e=ra(e),function(){if(--e<1)return t.apply(this,arguments)}},In.ary=vo,In.assign=la,In.assignIn=ua,In.assignInWith=da,In.assignWith=ha,In.at=fa,In.before=yo,In.bind=bo,In.bindAll=Ha,In.bindKey=wo,In.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return No(e)?e:[e]},In.chain=to,In.chunk=function(e,t,n){t=(n?cs(e,t,n):void 0===t)?1:an(ra(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var s=0,o=0,a=i(Qt(r/t));s<r;)a[o++]=Zi(e,s,s+=t);return a},In.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var s=e[t];s&&(r[i++]=s)}return r},In.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return gt(No(n)?yr(n):[n],oi(t,1))},In.cond=function(e){var t=null==e?0:e.length,n=Xr();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new ve(s);return[n(e[0]),e[1]]})):[],ji((function(n){for(var i=-1;++i<t;){var r=e[i];if(st(r[0],this,n))return st(r[1],this,n)}}))},In.conforms=function(e){return function(e){var t=_a(e);return function(n){return Jn(n,e,t)}}(Xn(e,1))},In.constant=Ua,In.countBy=ro,In.create=function(e,t){var n=Pn(e);return null==t?n:Gn(n,t)},In.curry=function e(t,n,i){var r=Rr(t,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.curryRight=function e(t,n,i){var r=Rr(t,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.debounce=_o,In.defaults=ga,In.defaultsDeep=pa,In.defer=Eo,In.delay=So,In.difference=Is,In.differenceBy=Ps,In.differenceWith=Os,In.drop=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,(t=n||void 0===t?1:ra(t))<0?0:t,i):[]},In.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,0,(t=i-(t=n||void 0===t?1:ra(t)))<0?0:t):[]},In.dropRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0,!0):[]},In.dropWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0):[]},In.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&cs(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=ra(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:ra(i))<0&&(i+=r),i=n>i?0:sa(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},In.filter=function(e,t){return(No(e)?ut:si)(e,Xr(t,3))},In.flatMap=function(e,t){return oi(fo(e,t),1)},In.flatMapDeep=function(e,t){return oi(fo(e,t),1/0)},In.flatMapDepth=function(e,t,n){return n=void 0===n?1:ra(n),oi(fo(e,t),n)},In.flatten=Ns,In.flattenDeep=function(e){return(null==e?0:e.length)?oi(e,1/0):[]},In.flattenDepth=function(e,t){return(null==e?0:e.length)?oi(e,t=void 0===t?1:ra(t)):[]},In.flip=function(e){return Rr(e,512)},In.flow=$a,In.flowRight=Za,In.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},In.functions=function(e){return null==e?[]:di(e,_a(e))},In.functionsIn=function(e){return null==e?[]:di(e,Ea(e))},In.groupBy=lo,In.initial=function(e){return(null==e?0:e.length)?Zi(e,0,-1):[]},In.intersection=qs,In.intersectionBy=Ds,In.intersectionWith=Fs,In.invert=ya,In.invertBy=ba,In.invokeMap=uo,In.iteratee=Wa,In.keyBy=ho,In.keys=_a,In.keysIn=Ea,In.map=fo,In.mapKeys=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Wn(n,t(e,i,r),e)})),n},In.mapValues=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Wn(n,i,t(e,i,r))})),n},In.matches=function(e){return Ii(Xn(e,1))},In.matchesProperty=function(e,t){return Pi(e,Xn(t,1))},In.memoize=xo,In.merge=Sa,In.mergeWith=xa,In.method=Ka,In.methodOf=Ya,In.mixin=Xa,In.negate=Lo,In.nthArg=function(e){return e=ra(e),ji((function(t){return Bi(t,e)}))},In.omit=La,In.omitBy=function(e,t){return ka(e,Lo(Xr(t)))},In.once=function(e){return yo(2,e)},In.orderBy=function(e,t,n,i){return null==e?[]:(No(t)||(t=null==t?[]:[t]),No(n=i?void 0:n)||(n=null==n?[]:[n]),Ti(e,t,n))},In.over=Qa,In.overArgs=Ao,In.overEvery=ec,In.overSome=tc,In.partial=ko,In.partialRight=Co,In.partition=go,In.pick=Aa,In.pickBy=ka,In.property=nc,In.propertyOf=function(e){return function(t){return null==e?void 0:hi(e,t)}},In.pull=Rs,In.pullAll=Vs,In.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,Xr(n,2)):e},In.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,void 0,n):e},In.pullAt=zs,In.range=ic,In.rangeRight=rc,In.rearg=Io,In.reject=function(e,t){return(No(e)?ut:si)(e,Lo(Xr(t,3)))},In.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],s=e.length;for(t=Xr(t,3);++i<s;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return qi(e,r),n},In.rest=function(e,t){if("function"!=typeof e)throw new ve(s);return ji(e,t=void 0===t?t:ra(t))},In.reverse=Hs,In.sampleSize=function(e,t,n){return t=(n?cs(e,t,n):void 0===t)?1:ra(t),(No(e)?Vn:Vi)(e,t)},In.set=function(e,t,n){return null==e?e:zi(e,t,n)},In.setWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:zi(e,t,n,i)},In.shuffle=function(e){return(No(e)?zn:$i)(e)},In.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&cs(e,t,n)?(t=0,n=i):(t=null==t?0:ra(t),n=void 0===n?i:ra(n)),Zi(e,t,n)):[]},In.sortBy=po,In.sortedUniq=function(e){return e&&e.length?Yi(e):[]},In.sortedUniqBy=function(e,t){return e&&e.length?Yi(e,Xr(t,2)):[]},In.split=function(e,t,n){return n&&"number"!=typeof n&&cs(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ca(e))&&("string"==typeof t||null!=t&&!Ko(t))&&!(t=Ji(t))&&Rt(e)?ur(Gt(e),0,n):e.split(t,n):[]},In.spread=function(e,t){if("function"!=typeof e)throw new ve(s);return t=null==t?0:an(ra(t),0),ji((function(n){var i=n[t],r=ur(n,0,t);return i&&gt(r,i),st(e,this,r)}))},In.tail=function(e){var t=null==e?0:e.length;return t?Zi(e,1,t):[]},In.take=function(e,t,n){return e&&e.length?Zi(e,0,(t=n||void 0===t?1:ra(t))<0?0:t):[]},In.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,(t=i-(t=n||void 0===t?1:ra(t)))<0?0:t,i):[]},In.takeRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!1,!0):[]},In.takeWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3)):[]},In.tap=function(e,t){return t(e),e},In.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new ve(s);return Uo(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),_o(e,t,{leading:i,maxWait:t,trailing:r})},In.thru=no,In.toArray=na,In.toPairs=Ca,In.toPairsIn=Ia,In.toPath=function(e){return No(e)?ft(e,As):Jo(e)?[e]:yr(Ls(ca(e)))},In.toPlainObject=aa,In.transform=function(e,t,n){var i=No(e),r=i||Fo(e)||Qo(e);if(t=Xr(t,4),null==n){var s=e&&e.constructor;n=r?i?new s:[]:Uo(e)&&Vo(s)?Pn(ze(e)):{}}return(r?at:li)(e,(function(e,i,r){return t(n,e,i,r)})),n},In.unary=function(e){return vo(e,1)},In.union=Us,In.unionBy=$s,In.unionWith=Zs,In.uniq=function(e){return e&&e.length?Qi(e):[]},In.uniqBy=function(e,t){return e&&e.length?Qi(e,Xr(t,2)):[]},In.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qi(e,void 0,t):[]},In.unset=function(e,t){return null==e||er(e,t)},In.unzip=Gs,In.unzipWith=Ws,In.update=function(e,t,n){return null==e?e:tr(e,t,ar(n))},In.updateWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:tr(e,t,ar(n),i)},In.values=Pa,In.valuesIn=function(e){return null==e?[]:Bt(e,Ea(e))},In.without=Ks,In.words=Va,In.wrap=function(e,t){return ko(ar(t),e)},In.xor=Ys,In.xorBy=Xs,In.xorWith=Js,In.zip=Qs,In.zipObject=function(e,t){return sr(e||[],t||[],Un)},In.zipObjectDeep=function(e,t){return sr(e||[],t||[],zi)},In.zipWith=eo,In.entries=Ca,In.entriesIn=Ia,In.extend=ua,In.extendWith=da,Xa(In,In),In.add=ac,In.attempt=za,In.camelCase=Oa,In.capitalize=Ba,In.ceil=cc,In.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=oa(n))==n?n:0),void 0!==t&&(t=(t=oa(t))==t?t:0),Yn(oa(e),t,n)},In.clone=function(e){return Xn(e,4)},In.cloneDeep=function(e){return Xn(e,5)},In.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},In.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},In.conformsTo=function(e,t){return null==t||Jn(e,t,_a(t))},In.deburr=Ta,In.defaultTo=function(e,t){return null==e||e!=e?t:e},In.divide=lc,In.endsWith=function(e,t,n){e=ca(e),t=Ji(t);var i=e.length,r=n=void 0===n?i:Yn(ra(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},In.eq=Po,In.escape=function(e){return(e=ca(e))&&j.test(e)?e.replace(D,Ft):e},In.escapeRegExp=function(e){return(e=ca(e))&&G.test(e)?e.replace(Z,"\\$&"):e},In.every=function(e,t,n){var i=No(e)?lt:ii;return n&&cs(e,t,n)&&(t=void 0),i(e,Xr(t,3))},In.find=so,In.findIndex=Bs,In.findKey=function(e,t){return bt(e,Xr(t,3),li)},In.findLast=oo,In.findLastIndex=Ts,In.findLastKey=function(e,t){return bt(e,Xr(t,3),ui)},In.floor=uc,In.forEach=ao,In.forEachRight=co,In.forIn=function(e,t){return null==e?e:ai(e,Xr(t,3),Ea)},In.forInRight=function(e,t){return null==e?e:ci(e,Xr(t,3),Ea)},In.forOwn=function(e,t){return e&&li(e,Xr(t,3))},In.forOwnRight=function(e,t){return e&&ui(e,Xr(t,3))},In.get=ma,In.gt=Oo,In.gte=Bo,In.has=function(e,t){return null!=e&&rs(e,t,mi)},In.hasIn=va,In.head=Ms,In.identity=Ga,In.includes=function(e,t,n,i){e=qo(e)?e:Pa(e),n=n&&!i?ra(n):0;var r=e.length;return n<0&&(n=an(r+n,0)),Xo(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&_t(e,t,n)>-1},In.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=an(i+r,0)),_t(e,t,r)},In.inRange=function(e,t,n){return t=ia(t),void 0===n?(n=t,t=0):n=ia(n),function(e,t,n){return e>=cn(t,n)&&e<an(t,n)}(e=oa(e),t,n)},In.invoke=wa,In.isArguments=To,In.isArray=No,In.isArrayBuffer=Mo,In.isArrayLike=qo,In.isArrayLikeObject=Do,In.isBoolean=function(e){return!0===e||!1===e||$o(e)&&gi(e)==u},In.isBuffer=Fo,In.isDate=jo,In.isElement=function(e){return $o(e)&&1===e.nodeType&&!Wo(e)},In.isEmpty=function(e){if(null==e)return!0;if(qo(e)&&(No(e)||"string"==typeof e||"function"==typeof e.splice||Fo(e)||Qo(e)||To(e)))return!e.length;var t=is(e);if(t==p||t==b)return!e.size;if(hs(e))return!Li(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},In.isEqual=function(e,t){return _i(e,t)},In.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?_i(e,t,void 0,n):!!i},In.isError=Ro,In.isFinite=function(e){return"number"==typeof e&&rn(e)},In.isFunction=Vo,In.isInteger=zo,In.isLength=Ho,In.isMap=Zo,In.isMatch=function(e,t){return e===t||Ei(e,t,Qr(t))},In.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Ei(e,t,Qr(t),n)},In.isNaN=function(e){return Go(e)&&e!=+e},In.isNative=function(e){if(ds(e))throw new K("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Si(e)},In.isNil=function(e){return null==e},In.isNull=function(e){return null===e},In.isNumber=Go,In.isObject=Uo,In.isObjectLike=$o,In.isPlainObject=Wo,In.isRegExp=Ko,In.isSafeInteger=function(e){return zo(e)&&e>=-9007199254740991&&e<=9007199254740991},In.isSet=Yo,In.isString=Xo,In.isSymbol=Jo,In.isTypedArray=Qo,In.isUndefined=function(e){return void 0===e},In.isWeakMap=function(e){return $o(e)&&is(e)==E},In.isWeakSet=function(e){return $o(e)&&"[object WeakSet]"==gi(e)},In.join=function(e,t){return null==e?"":sn.call(e,t)},In.kebabCase=Na,In.last=js,In.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=ra(n))<0?an(i+r,0):cn(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):wt(e,St,r,!0)},In.lowerCase=Ma,In.lowerFirst=qa,In.lt=ea,In.lte=ta,In.max=function(e){return e&&e.length?ri(e,Ga,pi):void 0},In.maxBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),pi):void 0},In.mean=function(e){return xt(e,Ga)},In.meanBy=function(e,t){return xt(e,Xr(t,2))},In.min=function(e){return e&&e.length?ri(e,Ga,ki):void 0},In.minBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),ki):void 0},In.stubArray=sc,In.stubFalse=oc,In.stubObject=function(){return{}},In.stubString=function(){return""},In.stubTrue=function(){return!0},In.multiply=hc,In.nth=function(e,t){return e&&e.length?Bi(e,ra(t)):void 0},In.noConflict=function(){return Ge._===this&&(Ge._=Ce),this},In.noop=Ja,In.now=mo,In.pad=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Tr(en(r),n)+e+Tr(Qt(r),n)},In.padEnd=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;return t&&i<t?e+Tr(t-i,n):e},In.padStart=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;return t&&i<t?Tr(t-i,n)+e:e},In.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(ca(e).replace(W,""),t||0)},In.random=function(e,t,n){if(n&&"boolean"!=typeof n&&cs(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ia(e),void 0===t?(t=e,e=0):t=ia(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=dn();return cn(e+r*(t-e+He("1e-"+((r+"").length-1))),t)}return Di(e,t)},In.reduce=function(e,t,n){var i=No(e)?pt:kt,r=arguments.length<3;return i(e,Xr(t,4),n,r,ti)},In.reduceRight=function(e,t,n){var i=No(e)?mt:kt,r=arguments.length<3;return i(e,Xr(t,4),n,r,ni)},In.repeat=function(e,t,n){return t=(n?cs(e,t,n):void 0===t)?1:ra(t),Fi(ca(e),t)},In.replace=function(){var e=arguments,t=ca(e[0]);return e.length<3?t:t.replace(e[1],e[2])},In.result=function(e,t,n){var i=-1,r=(t=cr(t,e)).length;for(r||(r=1,e=void 0);++i<r;){var s=null==e?void 0:e[As(t[i])];void 0===s&&(i=r,s=n),e=Vo(s)?s.call(e):s}return e},In.round=fc,In.runInContext=e,In.sample=function(e){return(No(e)?Rn:Ri)(e)},In.size=function(e){if(null==e)return 0;if(qo(e))return Xo(e)?Zt(e):e.length;var t=is(e);return t==p||t==b?e.size:Li(e).length},In.snakeCase=Da,In.some=function(e,t,n){var i=No(e)?vt:Gi;return n&&cs(e,t,n)&&(t=void 0),i(e,Xr(t,3))},In.sortedIndex=function(e,t){return Wi(e,t)},In.sortedIndexBy=function(e,t,n){return Ki(e,t,Xr(n,2))},In.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Wi(e,t);if(i<n&&Po(e[i],t))return i}return-1},In.sortedLastIndex=function(e,t){return Wi(e,t,!0)},In.sortedLastIndexBy=function(e,t,n){return Ki(e,t,Xr(n,2),!0)},In.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Wi(e,t,!0)-1;if(Po(e[n],t))return n}return-1},In.startCase=Fa,In.startsWith=function(e,t,n){return e=ca(e),n=null==n?0:Yn(ra(n),0,e.length),t=Ji(t),e.slice(n,n+t.length)==t},In.subtract=gc,In.sum=function(e){return e&&e.length?Ct(e,Ga):0},In.sumBy=function(e,t){return e&&e.length?Ct(e,Xr(t,2)):0},In.template=function(e,t,n){var i=In.templateSettings;n&&cs(e,t,n)&&(t=void 0),e=ca(e),t=da({},t,i,Vr);var r,s,o=da({},t.imports,i.imports,Vr),a=_a(o),c=Bt(o,a),l=0,u=t.interpolate||ue,d="__p += '",h=pe((t.escape||ue).source+"|"+u.source+"|"+(u===z?ne:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),f="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++je+"]")+"\n";e.replace(h,(function(t,n,i,o,a,c){return i||(i=o),d+=e.slice(l,c).replace(de,jt),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var g=Se.call(t,"variable")&&t.variable;if(g){if(ee.test(g))throw new K("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(T,""):d).replace(N,"$1").replace(M,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var p=za((function(){return he(a,f+"return "+d).apply(void 0,c)}));if(p.source=d,Ro(p))throw p;return p},In.times=function(e,t){if((e=ra(e))<1||e>9007199254740991)return[];var n=4294967295,i=cn(e,4294967295);e-=4294967295;for(var r=It(i,t=Xr(t));++n<e;)t(n);return r},In.toFinite=ia,In.toInteger=ra,In.toLength=sa,In.toLower=function(e){return ca(e).toLowerCase()},In.toNumber=oa,In.toSafeInteger=function(e){return e?Yn(ra(e),-9007199254740991,9007199254740991):0===e?e:0},In.toString=ca,In.toUpper=function(e){return ca(e).toUpperCase()},In.trim=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return Pt(e);if(!e||!(t=Ji(t)))return e;var i=Gt(e),r=Gt(t);return ur(i,Nt(i,r),Mt(i,r)+1).join("")},In.trimEnd=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.slice(0,Wt(e)+1);if(!e||!(t=Ji(t)))return e;var i=Gt(e);return ur(i,0,Mt(i,Gt(t))+1).join("")},In.trimStart=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Ji(t)))return e;var i=Gt(e);return ur(i,Nt(i,Gt(t))).join("")},In.truncate=function(e,t){var n=30,i="...";if(Uo(t)){var r="separator"in t?t.separator:r;n="length"in t?ra(t.length):n,i="omission"in t?Ji(t.omission):i}var s=(e=ca(e)).length;if(Rt(e)){var o=Gt(e);s=o.length}if(n>=s)return e;var a=n-Zt(i);if(a<1)return i;var c=o?ur(o,0,a).join(""):e.slice(0,a);if(void 0===r)return c+i;if(o&&(a+=c.length-a),Ko(r)){if(e.slice(a).search(r)){var l,u=c;for(r.global||(r=pe(r.source,ca(ie.exec(r))+"g")),r.lastIndex=0;l=r.exec(u);)var d=l.index;c=c.slice(0,void 0===d?a:d)}}else if(e.indexOf(Ji(r),a)!=a){var h=c.lastIndexOf(r);h>-1&&(c=c.slice(0,h))}return c+i},In.unescape=function(e){return(e=ca(e))&&F.test(e)?e.replace(q,Kt):e},In.uniqueId=function(e){var t=++xe;return ca(e)+t},In.upperCase=ja,In.upperFirst=Ra,In.each=ao,In.eachRight=co,In.first=Ms,Xa(In,(dc={},li(In,(function(e,t){Se.call(In.prototype,t)||(dc[t]=e)})),dc),{chain:!1}),In.VERSION="4.17.21",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){In[e].placeholder=In})),at(["drop","take"],(function(e,t){Tn.prototype[e]=function(n){n=void 0===n?1:an(ra(n),0);var i=this.__filtered__&&!t?new Tn(this):this.clone();return i.__filtered__?i.__takeCount__=cn(n,i.__takeCount__):i.__views__.push({size:cn(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},Tn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Tn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Xr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),at(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Tn.prototype[e]=function(){return this[n](1).value()[0]}})),at(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Tn.prototype[e]=function(){return this.__filtered__?new Tn(this):this[n](1)}})),Tn.prototype.compact=function(){return this.filter(Ga)},Tn.prototype.find=function(e){return this.filter(e).head()},Tn.prototype.findLast=function(e){return this.reverse().find(e)},Tn.prototype.invokeMap=ji((function(e,t){return"function"==typeof e?new Tn(this):this.map((function(n){return bi(n,e,t)}))})),Tn.prototype.reject=function(e){return this.filter(Lo(Xr(e)))},Tn.prototype.slice=function(e,t){e=ra(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Tn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ra(t))<0?n.dropRight(-t):n.take(t-e)),n)},Tn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tn.prototype.toArray=function(){return this.take(4294967295)},li(Tn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=In[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);r&&(In.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,a=t instanceof Tn,c=o[0],l=a||No(t),u=function(e){var t=r.apply(In,gt([e],o));return i&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(a=l=!1);var d=this.__chain__,h=!!this.__actions__.length,f=s&&!d,g=a&&!h;if(!s&&l){t=g?t:new Tn(this);var p=e.apply(t,o);return p.__actions__.push({func:no,args:[u],thisArg:void 0}),new Bn(p,d)}return f&&g?e.apply(this,o):(p=this.thru(u),f?i?p.value()[0]:p.value():p)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);In.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(No(r)?r:[],e)}return this[n]((function(n){return t.apply(No(n)?n:[],e)}))}})),li(Tn.prototype,(function(e,t){var n=In[t];if(n){var i=n.name+"";Se.call(wn,i)||(wn[i]=[]),wn[i].push({name:t,func:n})}})),wn[Ir(void 0,2).name]=[{name:"wrapper",func:void 0}],Tn.prototype.clone=function(){var e=new Tn(this.__wrapped__);return e.__actions__=yr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yr(this.__views__),e},Tn.prototype.reverse=function(){if(this.__filtered__){var e=new Tn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Tn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=No(e),i=t<0,r=n?e.length:0,s=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=cn(t,e+o);break;case"takeRight":e=an(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=s.start,a=s.end,c=a-o,l=i?a:o-1,u=this.__iteratees__,d=u.length,h=0,f=cn(c,this.__takeCount__);if(!n||!i&&r==c&&f==c)return ir(e,this.__actions__);var g=[];e:for(;c--&&h<f;){for(var p=-1,m=e[l+=t];++p<d;){var v=u[p],y=v.iteratee,b=v.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}g[h++]=m}return g},In.prototype.at=io,In.prototype.chain=function(){return to(this)},In.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},In.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},In.prototype.plant=function(e){for(var t,n=this;n instanceof On;){var i=Cs(n);i.__index__=0,i.__values__=void 0,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},In.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Tn){var t=e;return this.__actions__.length&&(t=new Tn(this)),(t=t.reverse()).__actions__.push({func:no,args:[Hs],thisArg:void 0}),new Bn(t,this.__chain__)}return this.thru(Hs)},In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=function(){return ir(this.__wrapped__,this.__actions__)},In.prototype.first=In.prototype.head,Xe&&(In.prototype[Xe]=function(){return this}),In}();Ge._=Yt,void 0===(r=function(){return Yt}.call(t,n,t,i))||(i.exports=r)}).call(this)}).call(this,n(10),n(50)(e))},function(e,t){
/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],i=0;i<100;i++)n.push(n[i]+t);return n}function i(){this.step="    ",this.shift=n(this.step)}function r(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function s(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}i.prototype.xml=function(e,t){var i=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=i.length,s=!1,o=0,a="",c=0,l=t?n(t):this.shift;for(c=0;c<r;c++)i[c].search(/<!/)>-1?(a+=l[o]+i[c],s=!0,(i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1||i[c].search(/!DOCTYPE/)>-1)&&(s=!1)):i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1?(a+=i[c],s=!1):/^<\w/.exec(i[c-1])&&/^<\/\w/.exec(i[c])&&/^<[\w:\-\.\,]+/.exec(i[c-1])==/^<\/[\w:\-\.\,]+/.exec(i[c])[0].replace("/","")?(a+=i[c],s||o--):i[c].search(/<\w/)>-1&&-1==i[c].search(/<\//)&&-1==i[c].search(/\/>/)?a=a+=s?i[c]:l[o++]+i[c]:i[c].search(/<\w/)>-1&&i[c].search(/<\//)>-1?a=a+=s?i[c]:l[o]+i[c]:i[c].search(/<\//)>-1?a=a+=s?i[c]:l[--o]+i[c]:i[c].search(/\/>/)>-1?a=a+=s?i[c]:l[o]+i[c]:i[c].search(/<\?/)>-1||i[c].search(/xmlns\:/)>-1||i[c].search(/xmlns\=/)>-1?a+=l[o]+i[c]:a+=i[c];return"\n"==a[0]?a.slice(1):a},i.prototype.json=function(e,t){t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},i.prototype.css=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=i.length,s=0,o="",a=0,c=t?n(t):this.shift;for(a=0;a<r;a++)/\{/.exec(i[a])?o+=c[s++]+i[a]:/\}/.exec(i[a])?o+=c[--s]+i[a]:(/\*\\/.exec(i[a]),o+=c[s]+i[a]);return o.replace(/^\n{1,}/,"")},i.prototype.sql=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),o=i.length,a=[],c=0,l=this.step,u=0,d="",h=0,f=t?n(t):this.shift;for(h=0;h<o;h++)a=h%2?a.concat(i[h]):a.concat(s(i[h],l));for(o=a.length,h=0;h<o;h++){u=r(a[h],u),/\s{0,}\s{0,}SELECT\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\s{0,}SET\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(a[h])?d+=f[++c]+a[h]:/\'/.exec(a[h])?(u<1&&c&&c--,d+=a[h]):(d+=f[c]+a[h],u<1&&c&&c--)}return d=d.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},i.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},i.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},i.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},i.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renameHTML=t.newFolderHTML=t.uploadAreaHTML=void 0,t.uploadAreaHTML='<div id="document-upload-container">\n\n    <div id="initial_upload_container">\n      <div id="initial_upload_area">\n        <div id="initial_upload_message">Upload Files</div>\n      </div>\n    </div>\n    \n    <div id="uploading_container">\n      <div class="file_container" id="unpaired_container">\n\n        <div class="file-container-title">Unpaired Documents</div>\n\n        <div id="files_container">\n\n          <div id="mei_container">\n            <div class="file_heading">MEI</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="mei_list">\n              <div class="unpaired_item_container" style="width: 100%; background: #DAEAF1; border-radius: 5px;">\n                <label class="unpaired_item_label">\n                  <input type="radio" class="unpaired_item_radio" name="mei_radio_group" value="create_mei">\n                    <span style="margin-top: auto;margin-left: 3px;">\n                      Create new MEI file\n                    </span>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <div id="image_container">\n            <div class="file_heading">Images</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="image_list"></div>\n          </div>\n\n        </div>\n\n        <div id="generate-pair-button-container">\n          <div class="action_button" id="make_pair">Make Pair</div>\n        </div>\n      </div>\n\n      <div class="file_container" id="paired_container">\n\n        <div class="file-container-title">Paired Folios</div>\n        <div class="file_sort_name">\n          <div>Name</div>\n          <div class="sort_name arrow_btn">&#x22C0;</div>\n        </div>\n        <div class="folio_list" id="paired_list"></div>\n\n        <div id="upload_button_container">\n          <div class="action_button" id="upload_button">\n            Upload\n            <div id="uploading_spinner">â†»</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!--\n      <div class="file_container" id="manuscripts_container">\n        <h2 class="file_heading">Manuscripts</h2>\n        <div class="folio_list" id="manuscript_list"></div>\n      </div>\n      --\x3e\n\n    </div>\n  </div>',t.newFolderHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Create</button>\n      </div>\n    </div>\n  ',t.renameHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Confirm</button>\n      </div>\n    </div>\n  '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupingNotRecognized=void 0,t.groupingNotRecognized=function(){window.confirm("Neon does not recognize this neume grouping. Would you like to create a compound neume?")||document.getElementById("undo").click()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStaffHandler=void 0;const i=n(3),r=n(5),s=n(23),o=n(15);t.SplitStaffHandler=class{constructor(e,t){this.handler=(e=>{const t=this.staff.id,n=(0,o.getSVGRelCoords)(e.clientX,e.clientY),a={action:"split",param:{elementId:t,x:n.x}};this.neonView.edit(a,this.neonView.view.getCurrentPageURI()).then(async e=>{e&&(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success"));const n=new s.default(this.neonView,".staff");this.splitDisable(),(0,r.selectAll)([document.querySelector("#"+t)],this.neonView,n);const o=document.getElementById("moreEdit");o&&(o.innerHTML="",o.parentElement.classList.add("hidden"))})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.staff=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click Where to Split")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitNeumeHandler=void 0;const i=n(3);t.SplitNeumeHandler=class{constructor(e,t){this.handler=(e=>{const t={action:"splitNeume",param:{elementId:this.neume.id,ncId:e.target.parentElement.id}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(async e=>{e?(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success")):(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action failed","error")),this.splitDisable()})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.neume=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click The Beginning of The Second Neume")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(10))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var i=0,r=new n(t),s=e.document.createTextNode("");return r.observe(s,{characterData:!0}),function(){s.data=i=++i%2}}}).call(this,n(10))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(10))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(10))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},function(e,t,n){"use strict";var i=n(67),r=n(68);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=b(e));return e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(69);function b(e,t,n){if(e&&r.isObject(e)&&e instanceof s)return e;var i=new s;return i.parse(e,t,n),i}s.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=o.exec(b);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||_&&m[_]||(b=b.substr(2),this.slashes=!0)}if(!m[_]&&(S||_&&!v[_])){for(var x,L,A=-1,k=0;k<h.length;k++){-1!==(C=b.indexOf(h[k]))&&(-1===A||C<A)&&(A=C)}-1!==(L=-1===A?b.lastIndexOf("@"):b.lastIndexOf("@",A))&&(x=b.slice(0,L),b=b.slice(L+1),this.auth=decodeURIComponent(x)),A=-1;for(k=0;k<d.length;k++){var C;-1!==(C=b.indexOf(d[k]))&&(-1===A||C<A)&&(A=C)}-1===A&&(A=b.length),this.host=b.slice(0,A),b=b.slice(A),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),O=(k=0,P.length);k<O;k++){var B=P[k];if(B&&!B.match(f)){for(var T="",N=0,M=B.length;N<M;N++)B.charCodeAt(N)>127?T+="x":T+=B[N];if(!T.match(f)){var q=P.slice(0,k),D=P.slice(k+1),F=B.match(g);F&&(q.push(F[1]),D.unshift(F[2])),D.length&&(b="/"+D.join(".")+b),this.hostname=q.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var j=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+j,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!p[E])for(k=0,O=u.length;k<O;k++){var V=u[k];if(-1!==b.indexOf(V)){var z=encodeURIComponent(V);z===V&&(z=escape(V)),b=b.split(V).join(z)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var U=b.indexOf("?");if(-1!==U?(this.search=b.substr(U),this.query=b.substr(U+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,U)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var $=this.search||"";this.path=j+$}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+i},s.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(r.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var n=new s,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==g[0]&&g.unshift(""),g.length<2&&g.unshift(""),n.pathname=g.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",y=n.search||"";n.path=p+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||b||n.host&&e.pathname,E=_,S=n.pathname&&n.pathname.split("/")||[],x=(g=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===g[0]?g[0]=e.host:g.unshift(e.host)),e.host=null),_=_&&(""===g[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=g;else if(g.length)S||(S=[]),S.pop(),S=S.concat(g),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(x)n.hostname=n.host=S.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift());return n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var L=S.slice(-1)[0],A=(n.host||e.host||S.length>1)&&("."===L||".."===L)||""===L,k=0,C=S.length;C>=0;C--)"."===(L=S[C])?S.splice(C,1):".."===L?(S.splice(C,1),k++):k&&(S.splice(C,1),k--);if(!_&&!E)for(;k--;k)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),A&&"/"!==S.join("/").substr(-1)&&S.push("");var I,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);x&&(n.hostname=n.host=P?"":S.length?S.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift()));return(_=_||n.host&&S.length)&&!P&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var i=n(43),r=n(19);function s(e,t){this.id=e,this.ref=t}e.exports.SchemaScanResult=s,e.exports.scan=function(e,t){function n(e,t){if(t&&"object"==typeof t)if(t.$ref){var s=i.resolve(e,t.$ref);l[s]=l[s]?l[s]+1:0}else{var u=t.$id||t.id,d=u?i.resolve(e,u):e;if(d){if(d.indexOf("#")<0&&(d+="#"),c[d]){if(!r.deepCompareStrict(c[d],t))throw new Error("Schema <"+d+"> already exists with different definition");return c[d]}c[d]=t,"#"==d[d.length-1]&&(c[d.substring(0,d.length-1)]=t)}o(d+"/items",Array.isArray(t.items)?t.items:[t.items]),o(d+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),n(d+"/additionalItems",t.additionalItems),a(d+"/properties",t.properties),n(d+"/additionalProperties",t.additionalProperties),a(d+"/definitions",t.definitions),a(d+"/patternProperties",t.patternProperties),a(d+"/dependencies",t.dependencies),o(d+"/disallow",t.disallow),o(d+"/allOf",t.allOf),o(d+"/anyOf",t.anyOf),o(d+"/oneOf",t.oneOf),n(d+"/not",t.not)}}function o(e,t){if(Array.isArray(t))for(var i=0;i<t.length;i++)n(e+"/"+i,t[i])}function a(e,t){if(t&&"object"==typeof t)for(var i in t)n(e+"/"+i,t[i])}var c={},l={};return n(e,t),new s(c,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragSelect=t.clickSelect=t.setSelectHelperObjects=t.setSelectStrokeWidth=void 0;const i=n(5),r=n(27),s=n(7),o=n(15);let a,c,l,u,d=7;function h(e){"Escape"===e.key&&(document.getElementsByClassName("selected").length>0&&l.infoListeners(),(0,i.unselect)())}function f(e){if("selByBBox"!==(0,i.getSelectionType)()||!document.getElementById("displayText").checked||"Enter"!==e.key)return;const t=document.querySelector(".syllable-highlighted");if(t){document.querySelector("span."+t.id).click()}}function g(e){if("selByBBox"!==(0,i.getSelectionType)()||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Tab"!==e.key&&e.shiftKey)return;e.preventDefault();const t=document.querySelector(".syllable-highlighted"),n=Array.from(document.querySelectorAll(".syllable")).filter(e=>null!==e.querySelector(".sylTextRect-display")),r=n.indexOf(t);if(("ArrowLeft"===e.key||"Tab"===e.key&&e.shiftKey)&&r>0){(0,i.unselect)();const e=n[r-1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}else if(("ArrowRight"===e.key||"Tab"===e.key&&!e.shiftKey)&&r<n.length-1){(0,i.unselect)();const e=n[r+1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}const s=document.querySelector(".text-select");s&&s.scrollIntoView({behavior:"smooth"})}function p(){const e=document.getElementById("selByBBox");return!!e&&e.classList.contains("is-active")}function m(e){e.stopPropagation()}function v(e,t,n){if(p()||"use"===e.tagName){const r=function(e){if(p()){const t=Number(e.getAttribute("x")),n=Number(e.getAttribute("y"));return{ulx:t,uly:n,lrx:t+Number(e.getAttribute("width").slice(0,-2)),lry:n+Number(e.getAttribute("height").slice(0,-2))}}if("use"===e.tagName){const t=e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}return(0,i.getStaffBBox)(e)}(e);return!(n.x<r.ulx||t.x>r.lrx||n.y<r.uly||t.y>r.lry)}const r=(0,i.getStaffBBox)(e);return!(t.x<r.ulx&&n.x<r.ulx||t.x>r.lrx&&n.x>r.lrx||t.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)&&n.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)||t.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate)&&n.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate))}function y(e){if(c&&"insert"!==c.getUserMode()&&!e.shiftKey)if("use"===this.tagName&&"selByBBox"!==(0,i.getSelectionType)()){if(null===this.closest(".selected")){let e=[this];const n=/E9B[45678]/,r=/E9B[9ABC]/;if(this.getAttribute("xlink:href").match(r)){const t=this.closest(".nc"),i=this.closest(".neume"),r=Array.from(i.children).indexOf(t),s=i.children[r-1].children[0];console.assert(s.getAttribute("xlink:href").match(n),"First glyph of ligature unexpected!"),null===s.closest(".selected")&&e.unshift(s)}else if(this.getAttribute("xlink:href").match(n)){const t=this.closest(".nc"),n=this.closest(".neume"),i=Array.from(n.children).indexOf(t),s=n.children[i+1].children[0];console.assert(s.getAttribute("xlink:href").match(r),"Second glyph of ligature unexpected!"),null===s.closest(".selected")&&e.push(s)}t()&&(e=e.concat(Array.from(document.querySelectorAll(".selected")))),(0,i.selectAll)(e,c,a),a&&a.dragInit()}else if(t()){const e={selByStaff:".staff",selByNeume:".neume",selByNc:".nc",selByLayerElement:".accid"}[document.querySelector(".sel-by .is-active").id]||".syllable",t=[this.closest(e)];let n=[];n=Array.from(document.getElementsByClassName("selected")),n=n.filter(e=>!t.includes(e)),(0,i.selectAll)(n,c,a),a&&a.dragInit()}}else if("rect"===e.target.tagName&&"selByBBox"===(0,i.getSelectionType)())if(null===this.closest(".selected")){let n=[e.target];t()&&(n=n.concat(Array.from(document.getElementsByClassName("selected"))),n=n.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display"))),(0,i.selectAll)(n,c,a),a&&a.dragInit()}else{let e=[];if(t()){const t=[this];e=Array.from(document.getElementsByClassName("selected")),e=e.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display")),e=e.filter(e=>!t.includes(e)),(0,i.selectAll)(e,c,a),a&&a.dragInit()}}else{if("selByStaff"!==(0,i.getSelectionType)())return void l.infoListeners();t()||(0,i.unselect)();const n=(0,o.getStaffByCoords)(e.clientX,e.clientY);if(!n)return;n.classList.contains("selected")||((0,i.selectStaff)(n,a),(0,r.resize)(n,c,a),a&&a.dragInit()),n.dispatchEvent(new MouseEvent("mousedown",{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,view:e.view}))}function t(){return window.navigator.userAgent.match(/Mac/)?e.metaKey:e.ctrlKey}}t.setSelectStrokeWidth=function(e){d=e},t.setSelectHelperObjects=function(e,t){a=t,c=e,l=c.info,u=c.view.zoomHandler},t.clickSelect=function(e){document.querySelectorAll(e).forEach(e=>{e.removeEventListener("mousedown",y),e.addEventListener("mousedown",y)}),document.body.removeEventListener("keydown",h),document.body.addEventListener("keydown",h),document.body.removeEventListener("keydown",f),document.body.addEventListener("keydown",f),document.body.removeEventListener("keydown",g),document.body.addEventListener("keydown",g),document.getElementById("container").addEventListener("contextmenu",e=>{e.preventDefault()}),document.querySelectorAll("use,rect,#moreEdit").forEach(e=>{e.removeEventListener("click",m),e.addEventListener("click",m)})},t.dragSelect=function(e){let t=0,n=0,r=!1,o=!1;const l=s.select(e);s.selectAll(e.replace(".active-page","").trim()).on(".drag",null);const h=s.drag().on("start",(function(){if(!c)return;const e=c.getUserMode();if("use"!==s.event.sourceEvent.target.nodeName&&"insert"!==e&&"rect"!==s.event.sourceEvent.target.nodeName){if(s.event.sourceEvent.shiftKey)r=!0,void 0!==u&&u.startDrag();else if(!document.getElementById("selByStaff").classList.contains("is-active")||(f=s.mouse(this),0===Array.from(document.getElementsByClassName("staff")).filter(e=>{const t=(0,i.getStaffBBox)(e),n=t.ulx,r=t.uly,s=t.lrx,o=t.lry,a=t.rotate;return f[0]>n&&f[0]<s&&f[1]>r+(f[0]-n)*Math.tan(a)&&f[1]<o-(s-f[0])*Math.tan(a)}).length)){(0,i.unselect)(),o=!0;const e=s.mouse(this);t=e[0],n=e[1],a=t,h=n,l.append("rect").attr("x",a).attr("y",h).attr("width",0).attr("height",0).attr("id","selectRect").attr("stroke","black").attr("stroke-width",d).attr("fill","none")}}else s.event.sourceEvent.shiftKey&&(r=!0,void 0!==u&&u.startDrag());var a,h,f})).on("drag",(function(){if(!r&&o){const e=s.mouse(this),i=e[0],r=e[1];!function(e,t,n,i){s.select("#selectRect").attr("x",e).attr("y",t).attr("width",n).attr("height",i)}(i<t?i:t,r<n?r:n,i<t?t-i:i-t,r<n?n-r:r-n)}else r&&void 0!==u&&u.dragging()})).on("end",(function(){if(!r&&o){const t=document.getElementById("selectRect"),n=parseInt(t.getAttribute("x")),r=parseInt(t.getAttribute("y")),u=n+parseInt(t.getAttribute("width")),d=r+parseInt(t.getAttribute("height")),h=l.node();let f=new DOMPoint(n,r),g=new DOMPoint(u,d);const m=h.getScreenCTM().inverse().multiply(l.select(".system").node().getScreenCTM()).inverse();f=f.matrixTransform(m),g=g.matrixTransform(m);const y=function(e){return document.getElementById("selByStaff").classList.contains("is-active")?Array.from(document.querySelectorAll(e+" use, "+e+" .staff")):p()?Array.from(document.querySelectorAll(e+" .sylTextRect-display")):Array.from(document.querySelectorAll(e+" use"))}(e).filter(e=>v(e,f,g));y.forEach(e=>{if("use"===e.tagName&&e.getAttribute("xlink:href").match(/E9B[456789ABC]/)){const t=e.closest(".neume"),n=Array.from(t.children).indexOf(e.closest(".nc"));if(e.getAttribute("xlink:href").match(/E9B[45678]/)){const e=t.children[n+1].querySelector("use");y.indexOf(e)<0&&y.push(e)}else{const e=t.children[n-1].querySelector("use");y.indexOf(e)<0&&y.push(e)}}}),(0,i.selectAll)(y,c,a),a&&a.dragInit(),s.selectAll("#selectRect").remove(),o=!1}r=!1}));l.call(h),a&&a.resetTo(h)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeColumnLabel=t.checkOutOfBoundsGlyphs=t.convertToVerovio=t.isInvalidBBox=t.getSyllableText=t.convertToNeon=t.zip=void 0;const i=n(17),r=n(32),s=n(3);function o(e,t){for(const n of e.attributes)t.setAttribute(n.name,n.value)}function a(e){var t;const n=null===(t=e.querySelector("syl"))||void 0===t?void 0:t.childNodes[0];let i;return i=n?n.nodeValue:"â—Š",i}function c(e,t){const n=parseInt(t.getAttribute("lrx")),i=parseInt(t.getAttribute("lry")),r=parseInt(t.getAttribute("ulx")),s=parseInt(t.getAttribute("uly")),o=0===n&&0===i&&0===r&&0===s,a=n<0||i<0||r<0||s<0,c=e.querySelector(`*[facs="${"#"+t.getAttribute("xml:id")}"]`);return o||a||!c?[!0,c]:[!1]}function l(e,t,n){const i=e.getAttribute("precedes").replace("#","");let r;const s=n.find((e,t)=>e.getAttribute("xml:id")===i&&(r=t,!0));if(!s)return`- &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is missing the following part\n`;if(!s.hasAttribute("follows"))return`- The following syllable of &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is not linked to any syllable\n`;if(s.getAttribute("follows")!="#"+e.getAttribute("xml:id"))return`- The following syllable of &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is linked to the wrong syllable\n`;if(r!==t+1){const i=[a(e),...n.slice(t+1,r).map(e=>a(e))].join(" - ");return`- Unexpected syllable(s) inside toggle-linked &lt;${e.tagName}&gt; (${i}) with xml:id: ${e.getAttribute("xml:id")} is linked to the wrong syllable\n`}}function u(e,t){const n=e.getAttribute("follows").replace("#",""),i=t.find(e=>e.getAttribute("xml:id")===n);return i?i.hasAttribute("precedes")?i.getAttribute("precedes")!="#"+e.getAttribute("xml:id")?`- The preceding syllable of &lt;${e.tagName}&gt; (${a(i)}) with xml:id: ${e.getAttribute("xml:id")} is linked to the wrong syllable\n`:void 0:`- The preceding syllable of &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is not linked to any syllable\n`:`- &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is missing the preceding part\n`}function d(e){const t=e.querySelectorAll("nc");let n=0,i="";for(;n<t.length;)t[n].getAttribute("ligated")&&((n<t.length-1&&!t[n+1].getAttribute("ligated")||n==t.length-1)&&(i+=`- The oblique in syllable (${a(e)}) with xml:id: ${e.getAttribute("xml:id")}\n`),n+=2),n+=1;return i}function h(e,t){e.hasAttribute("facs")&&t.push(e);for(const n of e.children)h(n,t);return t}t.zip=function(e,t){const n=[];for(let i=0;i<(e.length>t.length?t.length:e.length);i++)n.push([e[i],t[i]]);return n},t.convertToNeon=function(e){const t=new DOMParser,n=new XMLSerializer,s=t.parseFromString(e,"text/xml"),o=s.documentElement;let a=0;const c=Array.from(o.querySelectorAll('section:not([type="neon-neume-line"])'));for(const e of c){e.querySelectorAll("pb").forEach(e=>e.remove());e.querySelectorAll("sb").forEach(e=>e.remove());const t=s.createElementNS("http://www.music-encoding.org/ns/mei","staff"),n=s.createElementNS("http://www.music-encoding.org/ns/mei","layer");t.setAttribute("n","1"),n.setAttribute("n","1"),t.appendChild(n);const r=o.querySelector("surface"),c=r.getAttribute("xml:id"),u=s.createElementNS("http://www.music-encoding.org/ns/mei","pb");u.setAttribute("xml:id","m-"+(0,i.uuidv4)()),u.setAttribute("facs","#"+c),n.appendChild(u);const d=Array.from(e.querySelectorAll('section[type="neon-neume-line"]'));let h=0,f=null;for(const e of d){h+=1;const t=e.querySelector("staff");if(!t){e.remove();continue}const o=t.querySelector("layer");if(t.hasAttribute("type")&&t.getAttribute("type")!="column"+a.toString()){a+=1;const e=s.createElementNS("http://www.music-encoding.org/ns/mei","cb");e.setAttribute("n",a.toString()),e.setAttribute("xml:id","m-"+(0,i.uuidv4)()),e.setAttribute("facs","#m-"+(0,i.uuidv4)()),n.appendChild(e),f&&l(f,e,r),f=e}const c=s.createElementNS("http://www.music-encoding.org/ns/mei","sb");c.setAttribute("n",h.toString()),c.setAttribute("facs",t.getAttribute("facs")),c.setAttribute("xml:id",t.getAttribute("xml:id"));let u=void 0;for(null!==n.lastElementChild&&"custos"===n.lastElementChild.tagName&&(u=n.removeChild(n.lastElementChild)),void 0!==u&&n.appendChild(u),n.appendChild(c);null!==o.firstElementChild;)n.appendChild(o.firstElementChild);e.remove()}f&&l(f,null,r),e.appendChild(t)}if(a){const e=o.querySelector("scoreDef"),t=s.createElementNS("http://www.music-encoding.org/ns/mei","colLayout");t.setAttribute("xml:id","m-"+(0,i.uuidv4)()),t.setAttribute("n",a.toString()),e.insertAdjacentElement("afterend",t)}return r.xml(n.serializeToString(s));function l(e,t,n){const i=function e(t,n,i=[]){if(t&&t!==n){if(t.hasAttribute("facs")&&i.push(t),t.children.length>0)for(const r of t.children)e(r,n,i);t.nextElementSibling&&e(t.nextElementSibling,n,i)}return i}(e.nextElementSibling,t),r=s.createElementNS("http://www.music-encoding.org/ns/mei","zone"),o=function(e,t){let n=1/0,i=0,r=0,s=1/0;return e.forEach(e=>{const o=Array.from(t.children).find(t=>t.getAttribute("xml:id")===e.getAttribute("facs").slice(1));n=Math.min(n,parseInt(o.getAttribute("lrx"))),i=Math.max(i,parseInt(o.getAttribute("lry"))),r=Math.max(r,parseInt(o.getAttribute("ulx"))),s=Math.min(s,parseInt(o.getAttribute("uly")))}),{lrx:n,lry:i,ulx:r,uly:s}}(i,n);r.setAttribute("lrx",o.lrx.toString()),r.setAttribute("lry",o.lry.toString()),r.setAttribute("ulx",o.ulx.toString()),r.setAttribute("uly",o.uly.toString()),r.setAttribute("xml:id",e.getAttribute("facs").slice(1)),n.insertBefore(r,n.firstElementChild)}},t.getSyllableText=a,t.isInvalidBBox=c,t.convertToVerovio=function(e){const t=(new DOMParser).parseFromString(e,"text/xml"),n=t.documentElement;let a=!1;n.querySelector("facsimile").setAttribute("type","transcription");const f=n.querySelector("surface");let g=!1;const p=Array.from(f.getElementsByTagName("zone"));let m="The following zones are invalid: \n\n";for(const e of p){const[t,i]=c(n,e);t&&(g=!0,m+=`- Zone with xml:id: ${e.getAttribute("xml:id")} `,i?(m+=`for &lt;${i.tagName}&gt; with xml:id: ${i.getAttribute("xml:id")}\n`,i.parentNode.removeChild(i)):m+="is not linked with any glyphs\n",e.parentNode.removeChild(e))}g&&s.queueNotification("Removed invalid zones contained in this file","warning",m);const v=n.querySelector("colLayout");v&&(a=!0,v.parentNode.removeChild(v));const y=Array.from(n.getElementsByTagName("syllable"));let b=!1,w=!1,_=!1,E="The following divLine(s) are the only element inside the syllable(s): \n\n",S=!1,x="The following accid(s) are the only element inside the syllable(s): \n\n",L="The following syllable(s) have no neumes: \n\n",A="The following neume(s) have no neume components: \n\n";for(const e of y){0===e.getElementsByTagName("neume").length&&(b=!0,L+=`- &lt;${e.tagName}&gt; with xml:id: ${e.getAttribute("xml:id")}\n`,e.getElementsByTagName("divLine").length>0&&(_=!0,E+=`- &lt;divLine&gt; inside &lt;syllable&gt; with xml:id: ${e.getAttribute("xml:id")}\n`),e.getElementsByTagName("accid").length>0&&(S=!0,x+=`- &lt;accid&gt; inside &lt;syllable&gt; with xml:id: ${e.getAttribute("xml:id")}\n`));const n=e.getElementsByTagName("neume");for(const e of n){const n=Array.from(e.getElementsByTagName("nc"));if(0===n.length)w=!0,A+=`- &lt;${e.tagName}&gt; with xml:id: ${e.getAttribute("xml:id")}\n`;else for(const e of n)if(e.hasAttribute("curve")&&0===e.children.length){const n=t.createElementNS("http://www.music-encoding.org/ns/mei","liquescent");n.setAttribute("xml:id","m-"+(0,i.uuidv4)()),e.appendChild(n)}}}b&&s.queueNotification("This file contains syllable(s) without neume!","warning",L),w&&s.queueNotification("This file contains neume(s) without neume component!","warning",A),_&&s.queueNotification("This file contains divLine(s) inside empty syllable(s)!","warning",E),S&&s.queueNotification("This file contains accid(s) inside empty syllable(s)!","warning",x);const k=Array.from(n.getElementsByTagName("section"));for(const e of k){const n=Array.from(e.getElementsByTagName("staff"));for(const r of n){const n=t.createElementNS("http://www.music-encoding.org/ns/mei","pb");n.setAttribute("facs","#"+f.getAttribute("xml:id")),e.insertBefore(n,r);const s=r.querySelector("layer"),c=Array.from(s.getElementsByTagName("sb"));for(const e of c)if("layer"!==e.parentElement.tagName){const n=e.parentElement;let r=!1,s=!1;const o=Array.from(n.children),a=o.indexOf(e);for(const e of n.getElementsByTagName("neume")){const t=o.indexOf(e);t<a?r=!0:t>a&&(s=!0)}if(!r&&s)n.insertAdjacentElement("beforebegin",e);else if(r&&!s)n.insertAdjacentElement("afterend",e);else if(r&&s){const r=t.createElementNS("http://www.music-encoding.org/ns/mei","syllable");r.setAttribute("xml:id","m-"+(0,i.uuidv4)()),r.setAttribute("follows","#"+n.getAttribute("xml:id")),n.setAttribute("precedes","#"+r.getAttribute("xml:id"));const s=o.indexOf(e);for(const e of o){o.indexOf(e)>s&&r.appendChild(e)}n.insertAdjacentElement("afterend",e),e.insertAdjacentElement("afterend",r);for(const e of n.getElementsByTagName("custos"))n.insertAdjacentElement("afterend",e);for(const e of r.getElementsByTagName("clef"))r.insertAdjacentElement("beforebegin",e)}else console.warn("NONE BEHIND NONE AHEAD"),console.debug(n)}const l=Array.from(s.getElementsByTagName("sb")),u=Array.from(s.children);let d=0;for(let n=0;n<l.length;n++){const c=l[n],g=l.length>n+1?l[n+1]:void 0,m=t.createElementNS("http://www.music-encoding.org/ns/mei","sb");m.setAttribute("xml:id","m-"+(0,i.uuidv4)()),m.setAttribute("facs",c.getAttribute("facs"));const v=t.createElementNS("http://www.music-encoding.org/ns/mei","section");v.setAttribute("type","neon-neume-line");const y=t.createElementNS("http://www.music-encoding.org/ns/mei","staff");o(c,y),y.setAttribute("n","1");const b=u.indexOf(c);if(a){if("cb"===u.at(b-1).tagName){d+=1;const e=u.at(b-1),t=e.getAttribute("facs"),n=Array.from(f.querySelectorAll("zone")).find(e=>e.getAttribute("xml:id")===t.slice(1));e.parentNode.removeChild(e),n.parentNode.removeChild(n)}y.setAttribute("type","column"+d.toString())}const w=t.createElementNS("http://www.music-encoding.org/ns/mei","layer");w.setAttribute("n","1"),w.setAttribute("xml:id","m-"+(0,i.uuidv4)()),v.appendChild(y),y.appendChild(w);const _=Array.from(s.children),E=_.slice(_.indexOf(c)+1,_.indexOf(g));for(const e of E)w.appendChild(e);if(!g){const e=h(_.at(-1),[]);for(const t of e){const e=p.find(e=>e.getAttribute("xml:id")==t.getAttribute("facs").slice(1));e&&p.length>1&&e.parentNode.removeChild(e)}}e.insertBefore(m,r),e.insertBefore(v,r)}r.remove()}}const C=Array.from(n.getElementsByTagName("syllable"));let I=!1,P="The following linked syllables are not encoded correctly: \n\n",O=!1,B="The following obliques are incomplete: \n\n";for(const e of n.querySelectorAll("syllable")){for(const t of e.querySelectorAll("clef"))e.insertAdjacentElement("beforebegin",t);for(const t of e.querySelectorAll("custos"))e.insertAdjacentElement("afterend",t);const t=d(e);t&&(O=!0,B+=t);const n=C.indexOf(e);if(e.hasAttribute("precedes")){const t=l(e,n,C);t&&(I=!0,P+=t)}if(e.hasAttribute("follows")){const t=u(e,C);t&&(I=!0,P+=t)}}O&&s.queueNotification("This file contains incomplete oblique(s)","error",B),I&&s.queueNotification("This file contains invalid linked syllable(s)","error",P);const T=new XMLSerializer;return r.xml(T.serializeToString(t))},t.checkOutOfBoundsGlyphs=function(e){const t=(new DOMParser).parseFromString(e,"text/xml").documentElement,n=Array.from(t.querySelectorAll("zone")),i=t.querySelector("surface"),r=Number(i.getAttribute("lrx")),o=Number(i.getAttribute("lry"));let a="The following glyphs are out of bounds: \n\n";n.some(e=>{const n=["ulx","uly","lrx","lry"].some(t=>function(e,t){const n=Number(e.getAttribute(t));return n<0||n>("lrx"==t||"ulx"==t?r:o)}(e,t));if(n){const n=t.querySelector(`*[facs="${"#"+e.getAttribute("xml:id")}"]`);a+=`- &lt;${n.tagName}&gt; with xml:id: ${n.getAttribute("xml:id")}\n`}return n})&&s.queueNotification("This folio contains glyph(s) placed out-of-bounds!","warning",a)},t.removeColumnLabel=function(e){const t=(new DOMParser).parseFromString(e,"text/xml").documentElement;for(const e of Array.from(t.getElementsByTagName("staff")))e.hasAttribute("type")&&e.removeAttribute("type");const n=new XMLSerializer;return r.xml(n.serializeToString(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blankPage=t.sendForValidation=t.init=void 0;const i=n(9),r=fetch("/Neon/Neon-gh/assets/mei-all.rng");let s,o,a,c;function l(e){const t=e.data;if(null===t){c.textContent="VALID",c.style.color="#4bc14b";for(const e of c.children)e.remove()}else{let e="";t.forEach(t=>{e+=t+"\n"}),c.textContent="",c.style.color="red";const n=document.createElement("div");n.textContent="INVALID",n.style.cursor="pointer",c.appendChild(n),n.addEventListener("click",u.bind(this,e))}}function u(e){this.modal.setModalWindowView(i.ModalWindowView.ERROR_LOG,e),this.modal.openModalWindow()}t.init=async function(e){if(null!==document.getElementById("file-status")){const t=document.getElementById("mei_version");t.textContent="unknown",a=t;const n=document.getElementById("validation_status");n.textContent="unknown",c=n,s=new Worker("/Neon/Neon-gh/workers/Worker.js"),s.onmessage=l.bind(e)}},t.sendForValidation=async function(e){if(void 0===c||void 0===a)return;if(void 0===o){const e=await r;o=await e.text()}c.textContent="checking...",c.style.color="gray",s.postMessage({mei:e,schema:o}),a.textContent="checking...",a.style.color="gray",function(e){if(e)switch(e){case"unknown":a.textContent=e,a.style.color="gray";break;default:a.textContent=e,a.style.color="#68A7AD"}}(await async function(e){const t=(new DOMParser).parseFromString(e,"text/xml"),n=t.documentElement.getAttribute("meiversion");return n||"unknown"}(e))},t.blankPage=function(){if(void 0!==c&&void 0!==a){for(const e of c.children)e.remove();c.textContent="No MEI",c.style.color="color:gray",a.textContent="No MEI",a.style.color="color:gray"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listenUnsavedChanges=t.setSavedStatus=void 0;let i=!0;t.setSavedStatus=function(e=!1){i=e,function(){const e=document.querySelector("#file-saved"),t=i?"/Neon/Neon-gh/assets/img/saved-icon.svg":"/Neon/Neon-gh/assets/img/unsaved-icon.svg";e.setAttribute("src",t);const n=i?"Your work is saved":"You have unsaved work";e.setAttribute("alt",n)}()},t.listenUnsavedChanges=function(){window.onbeforeunload=e=>{if(!i)return e.preventDefault(),"You have unsaved changes!"}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(i){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(79)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(29))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initSelectionButtons=t.initInsertEditControls=t.bindInsertTabs=void 0;const i=n(8),r=n(18),s=n(5),o=n(4);function a(e,t){document.getElementById(e).classList.add("is-active"),document.getElementById(e).classList.contains("insertel")&&(t.insertActive(e),(0,o.setSettings)({insertMode:e}))}function c(e){document.querySelectorAll(e).forEach(e=>{e.classList.remove("is-active"),e.classList.remove("unfocused")})}t.bindInsertTabs=function(e){const t=Array.from(document.getElementsByClassName("insertTab")).map(e=>e.id);document.body.addEventListener("keydown",e=>{if(e.code.match(/^Digit\d$/)&&e.shiftKey)try{const t=Number(e.code[e.code.length-1])-1,n=document.getElementsByClassName("insertel");n[t].click()}catch(e){console.debug(e)}}),t.forEach(t=>{document.getElementById(t).addEventListener("click",()=>{c(".insertTab"),a(t,e),(0,o.setSettings)({insertTab:t}),document.getElementById("insert_data").innerHTML=i.insertTabHtml[t],function(e){const t=Array.from(document.getElementsByClassName("insertel"));t.map(e=>e.id).forEach(t=>{document.getElementById(t).addEventListener("click",()=>{c(".insertel"),a(t,e)})})}(e),c(".insertel");try{const{insertMode:t}=(0,o.getSettings)();a(t,e)}catch(t){a(document.getElementsByClassName("insertel")[0].id,e)}})})},t.initInsertEditControls=function(){const e=document.getElementById("insert_controls"),t=document.getElementById("insertMenu"),n=t.querySelector(".panel-heading-title"),i=document.getElementById("insertContents"),r=t.querySelector("svg > use"),s=document.getElementById("edit_controls"),a=document.getElementById("editMenu"),c=a.querySelector(".panel-heading-title"),l=document.getElementById("editContents"),u=a.querySelector("svg > use");e.addEventListener("click",()=>{c.classList.remove("focused"),n.classList.add("focused"),(0,o.setSettings)({userMode:"insert"}),document.querySelector(".insertel.is-active").click(),s.querySelector(".side-panel-btn.sel-by.is-active").classList.add("unfocused"),e.querySelector(".side-panel-btn.insertel.is-active").classList.remove("unfocused")}),s.addEventListener("click",()=>{n.classList.remove("focused"),c.classList.add("focused"),(0,o.setSettings)({userMode:"edit"}),e.querySelector(".side-panel-btn.insertel.is-active").classList.add("unfocused"),s.querySelector(".side-panel-btn.sel-by.is-active").classList.remove("unfocused")}),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),r.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),r.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),a.addEventListener("click",e=>{e.stopPropagation(),l.classList.contains("closed")?(l.classList.remove("closed"),l.style.padding="0.5em 0.75em",setTimeout(()=>{l.style.overflow="visible"},200),u.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(l.classList.add("closed"),l.style.overflow="hidden",setTimeout(()=>{l.style.padding="0px"},200),u.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})},t.initSelectionButtons=function(){const e=document.getElementById("selBySyllable"),t=document.getElementById("selByNeume"),n=document.getElementById("selByNc"),i=document.getElementById("selByStaff"),a=document.getElementById("selByLayerElement");e.addEventListener("click",(function(){if(!e.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selBySyllable"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),e.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("syllable")}catch(e){}}})),t.addEventListener("click",(function(){if(!t.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByNeume"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),t.classList.add("is-active"),n.classList.remove("is-active"),e.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("neume")}catch(e){}}})),n.addEventListener("click",(function(){if(!n.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByNc"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),n.classList.add("is-active"),t.classList.remove("is-active"),e.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("neume")}catch(e){}}})),i.addEventListener("click",(function(){if(!i.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByStaff"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),i.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),e.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("staff")}catch(e){}}})),a.addEventListener("click",(function(){if(!a.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByLayerElement"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),a.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),i.classList.remove("is-active"),e.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("layerElement")}catch(e){}}})),document.body.addEventListener("keydown",r=>{"1"===r.key&&e.click(),"2"===r.key&&t.click(),"3"===r.key&&n.click(),"4"===r.key&&i.click(),"5"===r.key&&a.click()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(7),r=n(15),s=n(3),o=n(4);t.default=class{constructor(e,t){this.firstClick=!0,this.insertDisabled=function(){this.type="",this.removeInsertClickHandlers(),document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetInsertHandler),document.body.removeEventListener("click",this.clickawayHandler),this.firstClick=!0;try{document.getElementById("returnToEditMode").remove()}catch(e){}const e=document.getElementById("insert_controls"),t=document.getElementById("insertMenu").querySelector(".panel-heading-title"),n=document.getElementById("edit_controls"),i=document.getElementById("editMenu").querySelector(".panel-heading-title");t.classList.remove("focused"),i.classList.add("focused"),e.querySelector(".side-panel-btn.insertel.is-active").classList.add("unfocused"),n.querySelector(".side-panel-btn.sel-by.is-active").classList.remove("unfocused"),(0,o.setSettings)({userMode:"edit"})}.bind(this),this.clickawayHandler=function(e){const t=e.target;null===t.closest(".active-page")&&null===t.closest("#insert_controls")&&null===t.closest("#svg_group")&&(this.insertDisabled(),document.body.removeEventListener("keydown",this.staffHandler),document.body.removeEventListener("keydown",this.handler))}.bind(this),this.resetInsertHandler=function(e){"Shift"===e.key&&document.querySelector(this.selector).addEventListener("click","staff"===this.type?this.staffHandler:this.handler)}.bind(this),this.keydownListener=function(e){"Escape"===e.key?(this.insertDisabled(),document.body.removeEventListener("keydown",this.staffHandler),document.body.removeEventListener("keydown",this.handler)):"Shift"===e.key&&this.removeInsertClickHandlers()}.bind(this),this.handler=function(e){e.stopPropagation();const t=(0,r.getSVGRelCoords)(e.clientX,e.clientY);if((0,r.isOutOfSVGBounds)(t.x,t.y))return(0,s.queueNotification)("[FAIL] Glyph was placed out of bounds! Insertion failed.","error");const n={action:"insert",param:{elementType:this.type,staffId:"auto",ulx:t.x,uly:t.y}};null!==this.attributes&&(n.param.attributes=this.attributes,"F"===this.attributes.shape&&(n.param.ulx-=50)),this.neonView.edit(n,this.neonView.view.getCurrentPageURI()).then(()=>this.neonView.updateForCurrentPage()).then(()=>{document.querySelector(this.selector).addEventListener("click",this.handler)})}.bind(this),this.staffHandler=function(e){const t=(0,r.getSVGRelCoords)(e.clientX,e.clientY);if((0,r.isOutOfSVGBounds)(t.x,t.y))return(0,s.queueNotification)("Staff cannot be placed out of bounds!","error");const n=document.querySelector(".active-page > .definition-scale");if(this.firstClick)this.coord=t,i.select(n).append("circle").attr("cx",t.x).attr("cy",t.y).attr("r",10).attr("id","staff-circle").attr("fill","green"),this.firstClick=!1;else{let e,n;t.x<this.coord.x||t.y<this.coord.y?(e=t,n=this.coord):(e=this.coord,n=t),document.getElementById("staff-circle").remove();const i={action:"insert",param:{elementType:"staff",staffId:"auto",ulx:e.x,uly:e.y,lrx:n.x,lry:n.y}};this.neonView.edit(i,this.neonView.view.getCurrentPageURI()).then(()=>{this.neonView.updateForCurrentPage(),this.firstClick=!0})}}.bind(this),this.removeInsertClickHandlers=function(){try{document.querySelector(this.selector).removeEventListener("click",this.staffHandler),document.querySelector(this.selector).removeEventListener("click",this.handler)}catch(e){}}.bind(this),this.neonView=e,this.selector=t}insertActive(e){const t=this.isInsertMode();switch(e){case"punctum":this.type="nc",this.attributes=null;break;case"diamond":this.type="nc",this.attributes={tilt:"se"};break;case"virga":this.type="nc",this.attributes={tilt:"s"};break;case"liquescentA":this.type="nc",this.attributes={curve:"a"};break;case"liquescentC":this.type="nc",this.attributes={curve:"c"};break;case"virgaReversed":this.type="nc",this.attributes={tilt:"n"};break;case"pes":case"clivis":case"scandicus":case"climacus":case"torculus":case"porrectus":case"pressus":const t=this.neonView.info.getContourByValue(e.charAt(0).toUpperCase()+e.slice(1));this.type="grouping",this.attributes={contour:t};break;case"cClef":case"fClef":this.type="clef",this.attributes={shape:e.charAt(0).toUpperCase()};break;case"custos":this.type="custos",this.attributes=null;break;case"divLineMaxima":this.type="divLine",this.attributes={form:"maxima"};break;case"staff":this.type="staff",this.attributes=null;break;case"flat":this.type="accid",this.attributes={accid:"f"};break;case"natural":this.type="accid",this.attributes={accid:"n"};break;default:return this.type="",this.attributes=null,void console.error("Invalid button for insertion: "+e+".")}this.removeInsertClickHandlers();try{"staff"===this.type?document.querySelector(this.selector).addEventListener("click",this.staffHandler):document.querySelector(this.selector).addEventListener("click",this.handler)}catch(e){}if(document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetInsertHandler),!t){const e=document.createElement("button");e.id="returnToEditMode",e.classList.add("side-panel-btn"),e.innerHTML="Return to Edit Mode",document.getElementById("redo").parentNode.appendChild(e),e.addEventListener("click",this.insertDisabled)}document.getElementById("editContents").addEventListener("click",this.clickawayHandler)}isInsertMode(){return""!==this.type}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undoRedoPanel=t.navbarFinalize=t.navbarDropdownMEIActionsMenu=t.navbarDropdownFileMenu=void 0,t.navbarDropdownFileMenu=document.createElement("div"),t.navbarDropdownFileMenu.classList.add("navbar-item","has-dropdown","is-hoverable");const i=document.createElement("div");i.classList.add("navbar-btn"),i.innerHTML="<div>File</div>";const r=document.createElement("div");r.classList.add("navbar-dropdown"),r.id="navbar-dropdown-options";[["save","Save"],["export","Save and Export to File"],["getmei","Download MEI"]].forEach(e=>{const t=document.createElement("div");t.id=e[0],t.classList.add("navbar-dropdown-item"),t.textContent=e[1],r.appendChild(t)}),t.navbarDropdownFileMenu.appendChild(i),t.navbarDropdownFileMenu.appendChild(r),t.navbarDropdownMEIActionsMenu=document.createElement("div"),t.navbarDropdownMEIActionsMenu.classList.add("navbar-item","has-dropdown","is-hoverable");const s=document.createElement("div");s.classList.add("navbar-btn"),s.innerHTML="<div>MEI Actions</div>";const o=document.createElement("div");o.classList.add("navbar-dropdown"),o.id="navbar-dropdown-options";[["remove-empty-syls","Remove Empty Syllables"],["remove-empty-neumes","Remove Empty Neumes"],["revert","Revert"]].forEach(e=>{const t=document.createElement("div");t.id=e[0],t.classList.add("navbar-dropdown-item"),t.textContent=e[1],o.appendChild(t)}),t.navbarDropdownMEIActionsMenu.appendChild(s),t.navbarDropdownMEIActionsMenu.appendChild(o),t.navbarFinalize='<a id="finalize" class="navbar-item"> Finalize MEI </a>',t.undoRedoPanel='<button class="side-panel-btn" id="undo">Undo</button>\n  <button class="side-panel-btn" id="redo">Redo</button>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initUndoRedoPanel=t.initNavbar=void 0;const i=n(3),r=n(47);function s(e){const t=new Array;for(const n of e)n&&!n.getElementsByTagName("syl").length&&t.push({action:"setText",param:{elementId:n.getAttribute("xml:id"),text:""}});return t}t.initNavbar=function(e){const t=document.querySelectorAll(".navbar-item.has-dropdown.is-hoverable");Array.from(t).forEach(e=>{e.addEventListener("mouseover",()=>{})}),document.getElementById("save").addEventListener("click",()=>{e.save().then(()=>{i.queueNotification("Saved","success")})}),document.body.addEventListener("keydown",t=>{"s"===t.key&&e.save().then(()=>{i.queueNotification("Saved","success")})}),document.getElementById("export").addEventListener("click",()=>{e.export().then(t=>{const n=document.createElement("a");n.href=t,n.download=e.name+".jsonld",document.body.appendChild(n),n.click(),n.remove(),i.queueNotification("Saved","success")})}),document.getElementById("getmei").addEventListener("click",()=>{const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n="data:application/mei+xml;base64,"+window.btoa((0,r.convertToNeon)(t));document.getElementById("getmei").setAttribute("href",n),document.getElementById("getmei").setAttribute("download",e.view.getPageName()+".mei")})}),document.getElementById("remove-empty-syls").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=Array.from(r.getElementsByTagName("syllable"));let o=!1;const a=[];for(const e of s)if(0===e.getElementsByTagName("neume").length){const t={action:"remove",param:{elementId:e.getAttribute("xml:id")}};a.push(t),o=!0}if(o){const n={action:"chain",param:a};e.edit(n,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Removed empty Syllables","success")):i.queueNotification("Failed to remove empty Syllables","error")})}else i.queueNotification("No empty syllables found","warning")})})),document.getElementById("remove-empty-neumes").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=Array.from(r.getElementsByTagName("neume"));let o=!1;const a=[];for(const e of s)if(0===e.getElementsByTagName("nc").length){const t={action:"remove",param:{elementId:e.getAttribute("xml:id")}};a.push(t),o=!0}if(o){const n={action:"chain",param:a};e.edit(n,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Removed empty Neumes","success")):i.queueNotification("Failed to remove empty Neumes","error")})}else i.queueNotification("No empty Neumes found","warning")})})),document.getElementById("remove-out-of-bounds-glyphs").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=r.querySelector("surface"),o=Number(s.getAttribute("lrx")),a=Number(s.getAttribute("lry"));const c=Array.from(r.querySelectorAll("zone")).filter(e=>["ulx","uly","lrx","lry"].some(t=>function(e,t){const n=Number(e.getAttribute(t));return n<0||n>("lrx"==t||"ulx"==t?o:a)}(e,t))),l=new Map(c.map(e=>[e.getAttribute("xml:id"),e])),u=Array.from(r.querySelectorAll("nc, divLine, clef, accid")).filter(e=>{if(e.hasAttribute("facs")){const t=e.getAttribute("facs").slice(1);return l.has(t)}return!1});if(0===u.length)return i.queueNotification("There are no out-of-bound glyphs to remove.","warning");const d={action:"chain",param:u.map(e=>({action:"remove",param:{elementId:e.getAttribute("xml:id")}}))};e.edit(d,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Successfully removed out-of-bounds syllables.","success")):i.queueNotification("Failed to remove out-of-bound syllables.","error")})})})),document.getElementById("untoggle-invalid-oblique").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n=(new DOMParser).parseFromString(t,"text/xml").documentElement,r=Array.from(n.getElementsByTagName("nc"));let s=!1;const o={action:"chain",param:[]},a=new Array;let c=0;for(;c<r.length;)r[c].getAttribute("ligated")&&((c<r.length-1&&!r[c+1].getAttribute("ligated")||c==r.length-1)&&(s=!0,a.push({action:"set",param:{elementId:r[c].getAttribute("xml:id"),attrType:"ligated",attrValue:""}})),c+=2),c+=1;s?(o.param=a,e.edit(o,e.view.getCurrentPageURI()).then(t=>{t?i.queueNotification("Untoggled invalid obliques","success"):i.queueNotification("Failed to untoggle invalid obliques","error"),e.updateForCurrentPage()})):i.queueNotification("No invalid obliques found","warning")})})),document.getElementById("untoggle-invalid-syls").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n=(new DOMParser).parseFromString(t,"text/xml").documentElement,r=Array.from(n.getElementsByTagName("syllable")),o=function(e){const t=[];for(let n=0;n<e.length;n++){const i=e.at(n);if(i.hasAttribute("precedes")){const r=i.getAttribute("precedes").replace("#","");let s;const o=e.find((e,t)=>e.getAttribute("xml:id")===r&&(s=t,!0));o||t.push(i),o.hasAttribute("follows")||t.push(i),o.getAttribute("follows")!="#"+i.getAttribute("xml:id")&&t.push(i),s!==n+1&&t.push(i)}if(i.hasAttribute("follows")){const n=i.getAttribute("follows").replace("#",""),r=e.find(e=>e.getAttribute("xml:id")===n);r||t.push(i),r.hasAttribute("precedes")||t.push(i),r.getAttribute("precedes")!="#"+i.getAttribute("xml:id")&&t.push(i)}}return t}(r);if(0===o.length)i.queueNotification("No invalid syllables found","warning");else{const t={action:"chain",param:[]},n=new Array;for(const e of o)if(e.hasAttribute("precedes")&&e.hasAttribute("follows")){const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("precedes").substring(1)),i=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("follows").substring(1));n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:i.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push(...s([e,t,i]))}else if(e.hasAttribute("precedes")){const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("precedes").substring(1));n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push(...s([e,t]))}else if(e.hasAttribute("follows")){const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("follows").substring(1));n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push(...s([e,t]))}t.param=n,e.edit(t,e.view.getCurrentPageURI()).then(t=>{t?i.queueNotification("Untoggled invalid syllables","success"):i.queueNotification("Failed to untoggle invalid syllables","error"),e.updateForCurrentPage()})}})})),document.getElementById("revert").addEventListener("click",(function(){window.confirm("Reverting will cause all changes to be lost. Press OK to continue.")&&e.deleteDb().then(()=>{window.location.reload()})}))},t.initUndoRedoPanel=function(e){function t(){e.undo().then(t=>{t?e.updateForCurrentPage():(i.queueNotification("There is nothing left to undo."),console.warn("Failed to undo action"))})}function n(){e.redo().then(t=>{t?e.updateForCurrentPage():(i.queueNotification("There is nothing left to redo."),console.warn("Failed to redo action"))})}document.getElementById("undo").addEventListener("click",t),document.body.addEventListener("keydown",e=>{"z"===e.key&&(e.ctrlKey||e.metaKey)&&t()}),document.getElementById("redo").addEventListener("click",n),document.body.addEventListener("keydown",e=>{("Z"===e.key||"z"===e.key&&e.shiftKey)&&(e.ctrlKey||e.metaKey)&&n()})}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(59),r=n(75),s=n(76),o=n(81),a=n(83),c=n(84),l=n(85),u=n(86),d=n(87),h=n(28),f=p("manifest"),g=p("storage");if(f){const e=`./samples/manifests/${f}.jsonld`;window.fetch(e).then(e=>{if(e.ok)return e.text();throw new Error(e.statusText)}).then(async e=>{let t;try{t=JSON.parse(e)}catch(t){return console.error(t),void console.debug(e)}let n;n=(await new Promise((e,n)=>{window.fetch(t.image).then(t=>{e(t.headers.get("Content-Type"))}).catch(e=>{n(e)})})).match(/image\/*/)?{manifest:t,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:o.default,NeumeEdit:c.default}:{manifest:t,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:s.default,NeumeEdit:a.default};new i.default(n).start()})}else{new h.default("Neon-User-Storage").getAttachment(g,"manifest").then(e=>new window.Response(e).json()).then(async e=>{let t;t=(await new Promise((t,n)=>{window.fetch(e.image).then(e=>{t(e.headers.get("Content-Type"))}).catch(e=>{n(e)})})).match(/image\/*/)?{manifest:e,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:o.default,NeumeEdit:c.default}:{manifest:e,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:s.default,NeumeEdit:a.default};new i.default(t).start()})}function p(e){let t;return window.location.search.substr(1).split("&").forEach(n=>{const i=n.split("=");i[0]===e&&(t=decodeURIComponent(i[1]))}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(60),r=n(48),s=n(62),o=n(73),a=n(9),c=n(74),l=n(49),u=n(4);t.default=class{constructor(e){(0,s.parseManifest)(e.manifest)||console.error("Unable to parse the manifest"),this.params=e,this.manifest=e.manifest}setupEdit(e){if(void 0!==e.TextView&&(this.textView=new e.TextView(this),void 0!==e.TextEdit&&(this.TextEdit=new e.TextEdit(this))),void 0!==e.NeumeEdit){this.NeumeEdit=new e.NeumeEdit(this),this.textView.updateBBoxVisibility();const{userMode:t,insertMode:n,selectionMode:i}=(0,u.getSettings)();switch(document.getElementById(n).classList.add("is-active"),document.getElementById(i).classList.add("is-active"),t){case"insert":document.getElementById(n).click();break;case"edit":default:document.getElementById(i).click()}}}start(){(0,o.default)(this).then(()=>(this.localSettings=new u.default(this.manifest["@id"]),this.view=new this.params.View(this,this.params.Display,this.manifest.image),this.name=this.manifest.title,this.core=new i.default(this.manifest),this.info=new this.params.Info(this),this.modal=new a.ModalWindow(this),r.init(this),(0,c.setDebugMode)(),(0,l.listenUnsavedChanges)(),this.setupEdit(this.params),this.core.initDb())).then(()=>this.updateForCurrentPage(!0)).then(()=>{this.view.onSVGLoad()})}updateForCurrentPage(e=!1){const t=this.view.getCurrentPage();return this.view.changePage(t,e)}redo(){return(0,l.setSavedStatus)(!1),this.core.redo(this.view.getCurrentPageURI())}undo(){return(0,l.setSavedStatus)(!1),this.core.undo(this.view.getCurrentPageURI())}getUserMode(){const{userMode:e}=(0,u.getSettings)();return e}edit(e,t){return this.core.edit(e,t)}getElementAttr(e,t){return this.core.getElementAttr(e,t)}export(){return new Promise((e,t)=>{this.core.updateDatabase().then(()=>{this.manifest.mei_annotations=this.core.getAnnotations(),this.manifest.timestamp=(new Date).toISOString();const t=new window.Blob([JSON.stringify(this.manifest,null,2)],{type:"application/ld+json"}),n=new FileReader;n.addEventListener("load",()=>{e(n.result)}),n.readAsDataURL(t)}).catch(e=>{t(e)})})}save(){return(0,l.setSavedStatus)(!0),this.core.updateDatabase()}deleteDb(){return this.core.deleteDb()}getPageURI(e){return void 0===e&&(e=this.view.getCurrentPageURI()),new Promise(t=>{this.core.getMEI(e).then(e=>{t("data:application/mei+xml;charset=utf-8,"+encodeURIComponent(e))})})}getPageMEI(e){return this.core.getMEI(e)}getPageSVG(e){return this.core.getSVG(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(47),r=n(48),s=n(61),o=n(17),a=n(28),c=n(49);t.default=class{constructor(e){this.verovioWrapper=new s.default,this.undoStacks=new Map,this.redoStacks=new Map,this.neonCache=new Map,this.parser=new DOMParser,this.db=new a.default("Neon"),this.blankPages=[],this.manifest=e,this.annotations=e.mei_annotations,this.lastPageLoaded=""}getAnnotations(){return this.annotations}async initDb(e=!1){return await new Promise((t,n)=>{this.db.get(this.manifest["@id"]).catch(e=>{if("not_found"===e.name){const e={_id:this.manifest["@id"],timestamp:this.manifest.timestamp,image:this.manifest.image,title:this.manifest.title,annotations:[]};return this.annotations.forEach(t=>{e.annotations.push(t.id)}),e}return console.error(e),n(e)}).then(async i=>{const r=/(.+[-+\u2212]\d\d)(\d\d)$/;if(new Date(i.timestamp).getTime()>(r.test(this.manifest.timestamp)?new Date(this.manifest.timestamp.replace(r,"$1:$2")).getTime():new Date(this.manifest.timestamp).getTime())&&!e){this.annotations=[];const e=i.annotations.map(e=>new Promise(t=>{this.db.get(e).then(e=>{this.annotations.push({id:e._id,type:"Annotation",body:e.body,target:e.target}),t("")}).catch(e=>{console.error(e),t("")})}));return await Promise.all(e),t(!1)}for(const e of this.annotations)await this.db.get(e.id).catch(t=>"not_found"===t.name?{_id:e.id}:(console.error(t),n(t))).then(t=>(t.body=e.body,t.target=e.target,this.db.put(t))).catch(e=>{n(e),console.error(e)});return this.db.put(i)}).then(()=>t(!0)).catch(e=>{n(e),console.error(e)})})}loadPage(e){return new Promise((t,n)=>{if(this.lastPageLoaded===e&&this.neonCache.has(e))t(this.neonCache.get(e));else if(this.neonCache.has(e))this.loadData(e,this.neonCache.get(e).mei).then(()=>{t(this.neonCache.get(e))});else if(this.blankPages.includes(e)){r.blankPage();const t=new Error("No MEI file for page "+e);t.name="missing_mei",n(t)}else{const s=this.annotations.find(t=>t.target===e);s?window.fetch(s.body).then(e=>{if(e.ok)return e.text();throw new Error(e.statusText)}).then(n=>{/<section\b[^>]*\btype="neon-neume-line"[^>]*>/.test(n)||(n=(0,i.convertToVerovio)(n)),(0,i.checkOutOfBoundsGlyphs)(n),this.loadData(e,n).then(()=>{t(this.neonCache.get(e))})}).catch(e=>{n(e)}):(r.blankPage(),this.blankPages.push(e))}})}loadData(e,t,n=!1){return r.sendForValidation((0,i.removeColumnLabel)(t)),this.lastPageLoaded=e,new Promise(i=>{const r={id:(0,o.uuidv4)(),action:"renderData",mei:t};this.verovioWrapper.addEventListener("message",function s(o){if(o.data.id===r.id){const r=this.parser.parseFromString(o.data.svg,"image/svg+xml").documentElement;this.neonCache.set(e,{svg:r,mei:t,dirty:n}),o.target.removeEventListener("message",s),i()}}.bind(this)),this.verovioWrapper.postMessage(r)})}getSVG(e){return new Promise((t,n)=>{this.loadPage(e).then(e=>{t(e.svg)}).catch(e=>{n(e)})})}getMEI(e){return new Promise((t,n)=>{this.loadPage(e).then(e=>{t(e.mei)}).catch(e=>{n(e)})})}getElementAttr(e,t){return new Promise(n=>{this.loadPage(t).then(()=>{const t={id:(0,o.uuidv4)(),action:"getElementAttr",elementId:e};this.verovioWrapper.addEventListener("message",(function e(i){i.data.id===t.id&&(i.target.removeEventListener("message",e),n(i.data.attributes))})),this.verovioWrapper.postMessage(t)})})}edit(e,t){let n;return n=this.lastPageLoaded===t?Promise.resolve(this.neonCache.get(t)):this.loadPage(t),new Promise(i=>{n.then(n=>{n.svg=null;const r=n.mei,s={id:(0,o.uuidv4)(),action:"edit",editorAction:e};this.verovioWrapper.addEventListener("message",function e(n){if(n.data.id===s.id){if(n.data.result){this.undoStacks.has(t)||this.undoStacks.set(t,[]);const e=this.undoStacks.get(t);e.push(r)>10&&this.undoStacks.set(t,e.slice(1)),this.redoStacks.set(t,[])}n.target.removeEventListener("message",e),this.updateCache(t,!0).then(()=>{i(n.data.result)}),(0,c.setSavedStatus)(!1)}}.bind(this)),this.verovioWrapper.postMessage(s)})})}updateCache(e,t){return new Promise(n=>{let s,a;const c=new Promise(e=>{const t={id:(0,o.uuidv4)(),action:"getMEI"};this.verovioWrapper.addEventListener("message",(function n(o){o.data.id===t.id&&(s=o.data.mei,o.target.removeEventListener("message",n),r.sendForValidation((0,i.removeColumnLabel)(s)),e(""))})),this.verovioWrapper.postMessage(t)}),l=new Promise(e=>{const t={id:(0,o.uuidv4)(),action:"renderToSVG"};this.verovioWrapper.addEventListener("message",(function n(i){i.data.id===t.id&&(a=i.data.svg,i.target.removeEventListener("message",n),e(""))})),this.verovioWrapper.postMessage(t)});c.then(()=>l).then(()=>{const i=this.parser.parseFromString(a,"image/svg+xml").documentElement;this.neonCache.set(e,{mei:s,svg:i,dirty:t}),n()})})}info(e){let t;return t=this.lastPageLoaded===e?Promise.resolve():this.loadPage(e),new Promise(e=>{t.then(()=>{const t={id:(0,o.uuidv4)(),action:"editInfo"};this.verovioWrapper.addEventListener("message",(function n(i){i.data.id===t.id&&(i.target.removeEventListener("message",n),e(i.data.info))})),this.verovioWrapper.postMessage(t)})})}undo(e){return new Promise(async t=>{if(!this.undoStacks.has(e))return t(!1);const n=this.undoStacks.get(e).pop();if(!n)return t(!1);const i=await this.getMEI(e);return this.redoStacks.get(e).push(i),await this.loadData(e,n,!0),t(!0)})}redo(e){return new Promise(async t=>{if(!this.redoStacks.has(e))return t(!1);const n=this.redoStacks.get(e).pop();if(!n)return t(!1);const i=await this.getMEI(e);return this.undoStacks.get(e).push(i),await this.loadData(e,n,!0),t(!0)})}async updateDatabase(){let e=!1;for(const t of this.neonCache){const n=t[0],i=t[1];if(i.dirty){e=!0;const t=this.annotations.findIndex(e=>e.target===n);let r;this.annotations[t].body.match(/^data:/)?r="data:application/mei+xml;base64,"+window.btoa(i.mei):await window.fetch(this.annotations[t].body,{method:"PUT",headers:{"Content-Type":"application/mei+xml"},body:i.mei}).then(e=>{r=e.ok?this.annotations[t].body:"data:application/mei+xml;base64,"+window.btoa(i.mei)}).catch(e=>{console.error(e),console.warn("Falling back to data URI"),r="data:application/mei+xml;base64,"+window.btoa(i.mei)}),this.annotations[t].body=r,await this.db.get(this.annotations[t].id).then(e=>(e.body=r,this.db.put(e))).then(()=>{i.dirty=!1}).catch(e=>{console.error(e)})}}e&&await this.db.get(this.manifest["@id"]).then(e=>(e.timestamp=(new Date).toISOString(),this.db.put(e))).catch(e=>{console.error(e)})}async deleteDb(){const e=await this.db.get(this.manifest["@id"]).then(e=>e.annotations);e.push(this.manifest["@id"]);const t=e.map(e=>new Promise(t=>{this.db.get(e).then(e=>this.db.remove(e)).then(()=>t())}));return Promise.all(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.verovioWorker=new Worker("/Neon/Neon-gh/workers/VerovioWorker.js"),this.verovioWorker.addEventListener("message",this.handleMessage.bind(this)),this.verovioWorker.addEventListener("error",this.handleError.bind(this))}addEventListener(e,t){return this.verovioWorker.addEventListener(e,t)}removeEventListener(e,t){return this.verovioWorker.removeEventListener(e,t)}postMessage(e){return console.log("VerovioWrapper: posting message",e),this.verovioWorker.postMessage(e)}handleMessage(e){console.log("VerovioWrapper: received message",e.data)}handleError(e){console.error("VerovioWrapper: error",e.message)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseManifest=void 0;const i=n(63),r=n(64),s=n(65);t.parseManifest=function(e){const t=(0,s.validate)(e,i),n=t.instance;if(t.errors.length>0)return console.error(t.errors),!1;const o=n["@context"];return"https://ddmal.music.mcgill.ca/Neon/contexts/1/manifest.jsonld"===o||(o[0]===r[0]&&o[1].schema===r[1].schema&&o[1].title===r[1].title&&o[1].timestamp===r[1].timestamp&&o[1].image["@id"]===r[1].image["@id"]&&o[1].image["@type"]===r[1].image["@type"]&&o[1].mei_annotations["@id"]===r[1].mei_annotations["@id"]&&o[1].mei_annotations["@type"]===r[1].mei_annotations["@type"]&&o[1].mei_annotations["@container"]===r[1].mei_annotations["@container"]||(console.error("Context mismatch"),console.error(o),console.error(r),!1))}},function(e){e.exports=JSON.parse('{"type":"object","required":["@context","title","timestamp","image","mei_annotations"],"properties":{"@context":{"type":["array","string"]},"title":{"type":"string"},"timestamp":{"type":"string"},"image":{"type":"string"},"mei_annotations":{"type":"array","items":{"type":"object","required":["id","type","body","target"],"properties":{"id":{"type":"string"},"type":{"type":"string"},"body":{"type":"string"},"target":{"type":"string"}}}}}}')},function(e){e.exports=JSON.parse('["http://www.w3.org/ns/anno.jsonld",{"schema":"http://schema.org/","title":"schema:name","timestamp":"schema:dateModified","image":{"@id":"schema:image","@type":"@id"},"mei_annotations":{"@id":"Annotation","@type":"@id","@container":"@list"}}]')},function(e,t,n){"use strict";var i=e.exports.Validator=n(66);e.exports.ValidatorResult=n(19).ValidatorResult,e.exports.ValidatorResultError=n(19).ValidatorResultError,e.exports.ValidationError=n(19).ValidationError,e.exports.SchemaError=n(19).SchemaError,e.exports.SchemaScanResult=n(44).SchemaScanResult,e.exports.scan=n(44).scan,e.exports.validate=function(e,t,n){return(new i).validate(e,t,n)}},function(e,t,n){"use strict";var i=n(43),r=n(72),s=n(19),o=n(44).scan,a=s.ValidatorResult,c=s.ValidatorResultError,l=s.SchemaError,u=s.SchemaContext,d=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(f),this.attributes=Object.create(r.validators)};function h(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}d.prototype.customFormats={},d.prototype.schemas=null,d.prototype.types=null,d.prototype.attributes=null,d.prototype.unresolvedRefs=null,d.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var i=o(t||"/",e),r=t||e.$id||e.id;for(var s in i.id)this.schemas[s]=i.id[s];for(var s in i.ref)this.unresolvedRefs.push(s);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===n.schemas[e]})),this.schemas[r]},d.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},d.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},d.prototype.setSchemas=function(e){this.schemas=e},d.prototype.getSchema=function(e){return this.schemas[e]},d.prototype.validate=function(e,t,n,r){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new l("Expected `schema` to be an object or boolean");n||(n={});var s,d=t.$id||t.id,h=i.resolve(n.base||"/",d||"");if(!r){(r=new u(t,n,[],h,Object.create(this.schemas))).schemas[h]||(r.schemas[h]=t);var f=o(h,t);for(var g in f.id){var p=f.id[g];r.schemas[g]=p}}if(n.required&&void 0===e)return(s=new a(e,t,n,r)).addError("is required, but is undefined"),s;if(!(s=this.validateSchema(e,t,n,r)))throw new Error("Result undefined");if(n.throwAll&&s.errors.length)throw new c(s);return s},d.prototype.validateSchema=function(e,t,n,i){var o=new a(e,t,n,i);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var c={schema:t,ctx:i};t.extends.forEach(this.schemaTraverser.bind(this,c)),t=c.schema,c.schema=null,c.ctx=null,c=null}else t=s.deepMerge(t,this.superResolve(t.extends,i));var d=h(t);if(d){var f=this.resolve(t,d,i),g=new u(f.subschema,n,i.path,f.switchSchema,i.schemas);return this.validateSchema(e,f.subschema,n,g)}var p=n&&n.skipAttributes||[];for(var m in t)if(!r.ignoreProperties[m]&&p.indexOf(m)<0){var v=null,y=this.attributes[m];if(y)v=y.call(this,e,t,n,i);else if(!1===n.allowUnknownAttributes)throw new l("Unsupported attribute: "+m,t);v&&o.importErrors(v)}if("function"==typeof n.rewrite){var b=n.rewrite.call(this,e,t,n,i);o.instance=b}return o},d.prototype.schemaTraverser=function(e,t){e.schema=s.deepMerge(e.schema,this.superResolve(t,e.ctx))},d.prototype.superResolve=function(e,t){var n=h(e);return n?this.resolve(e,n,t).subschema:e},d.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var r=i.parse(t),o=r&&r.hash,a=o&&o.length&&t.substr(0,t.length-o.length);if(!a||!n.schemas[a])throw new l("no such schema <"+t+">",e);var c=s.objectGetPath(n.schemas[a],o.substr(1));if(void 0===c)throw new l("no such schema "+o+" located in <"+a+">",e);return{subschema:c,switchSchema:t}},d.prototype.testType=function(e,t,n,i,r){if(void 0!==r){if(null===r)throw new l('Unexpected null in "type" keyword');if("function"==typeof this.types[r])return this.types[r].call(this,e);if(r&&"object"==typeof r){var s=this.validateSchema(e,r,n,i);return void 0===s||!(s&&s.errors.length)}return!0}};var f=d.prototype.types={};f.string=function(e){return"string"==typeof e},f.number=function(e){return"number"==typeof e&&isFinite(e)},f.integer=function(e){return"number"==typeof e&&e%1==0},f.boolean=function(e){return"boolean"==typeof e},f.array=function(e){return Array.isArray(e)},f.null=function(e){return null===e},f.date=function(e){return e instanceof Date},f.any=function(e){return!0},f.object=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=d},function(e,t,n){(function(e,i){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof i&&i;o.global!==o&&o.window!==o&&o.self;var a,c=2147483647,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,g=String.fromCharCode;function p(e){throw new RangeError(h[e])}function m(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function v(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+m((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,i=[],r=0,s=e.length;r<s;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<s?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=g(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var i=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;i+=36)e=f(e/35);return f(i+36*e/(e+38))}function E(e){var t,n,i,r,s,o,a,l,u,d,h,g=[],m=e.length,v=0,y=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&p("not-basic"),g.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<m;){for(s=v,o=1,a=36;r>=m&&p("invalid-input"),((l=(h=e.charCodeAt(r++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||l>f((c-v)/o))&&p("overflow"),v+=l*o,!(l<(u=a<=w?1:a>=w+26?26:a-w));a+=36)o>f(c/(d=36-u))&&p("overflow"),o*=d;w=_(v-s,t=g.length+1,0==s),f(v/t)>c-y&&p("overflow"),y+=f(v/t),v%=t,g.splice(v++,0,y)}return b(g)}function S(e){var t,n,i,r,s,o,a,l,u,d,h,m,v,b,E,S=[];for(m=(e=y(e)).length,t=128,n=0,s=72,o=0;o<m;++o)(h=e[o])<128&&S.push(g(h));for(i=r=S.length,r&&S.push("-");i<m;){for(a=c,o=0;o<m;++o)(h=e[o])>=t&&h<a&&(a=h);for(a-t>f((c-n)/(v=i+1))&&p("overflow"),n+=(a-t)*v,t=a,o=0;o<m;++o)if((h=e[o])<t&&++n>c&&p("overflow"),h==t){for(l=n,u=36;!(l<(d=u<=s?1:u>=s+26?26:u-s));u+=36)E=l-d,b=36-d,S.push(g(w(d+E%b,0))),l=f(E/b);S.push(g(w(l,0))),s=_(n,v,i==r),n=0,++i}++n,++t}return S.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:b},decode:E,encode:S,toASCII:function(e){return v(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return v(e,(function(e){return l.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(50)(e),n(10))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(70),t.encode=t.stringify=n(71)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,s){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,h,f,g,p=e[u].replace(a,"%20"),m=p.indexOf(n);m>=0?(d=p.substr(0,m),h=p.substr(m+1)):(d=p,h=""),f=decodeURIComponent(d),g=decodeURIComponent(h),i(o,f)?r(o[f])?o[f].push(g):o[f]=[o[f],g]:o[f]=g}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?s(o(e),(function(o){var a=encodeURIComponent(i(o))+n;return r(e[o])?s(e[o],(function(e){return a+encodeURIComponent(i(e))})).join(t):a+encodeURIComponent(i(e[o]))})).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var i=n(19),r=i.ValidatorResult,s=i.SchemaError,o={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},a=o.validators={};function c(e,t,n,i,r){var s=t.throwError,o=t.throwAll;t.throwError=!1,t.throwAll=!1;var a=this.validateSchema(e,r,t,n);return t.throwError=s,t.throwAll=o,!a.valid&&i instanceof Function&&i(a),a.valid}function l(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function u(e,t,n,i,r,s){if(this.types.object(e)&&(!t.properties||void 0===t.properties[r]))if(!1===t.additionalProperties)s.addError({name:"additionalProperties",argument:r,message:"is not allowed to have the additional property "+JSON.stringify(r)});else{var o=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,r,o,n,i);var a=this.validateSchema(e[r],o,n,i.makeChild(o,r));a.instance!==s.instance[r]&&(s.instance[r]=a.instance),s.importErrors(a)}}a.type=function(e,t,n,i){if(void 0===e)return null;var s=new r(e,t,n,i),o=Array.isArray(t.type)?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,n,i))){var a=o.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));s.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return s},a.anyOf=function(e,t,n,i){if(void 0===e)return null;var o=new r(e,t,n,i),a=new r(e,t,n,i);if(!Array.isArray(t.anyOf))throw new s("anyOf must be an array");if(!t.anyOf.some(c.bind(this,e,n,i,(function(e){a.importErrors(e)})))){var l=t.anyOf.map((function(e,t){var n=e.$id||e.id;return n?"<"+n+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));n.nestedErrors&&o.importErrors(a),o.addError({name:"anyOf",argument:l,message:"is not any of "+l.join(",")})}return o},a.allOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new s("allOf must be an array");var o=new r(e,t,n,i),a=this;return t.allOf.forEach((function(t,r){var s=a.validateSchema(e,t,n,i);if(!s.valid){var c=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+r+"]";o.addError({name:"allOf",argument:{id:c,length:s.errors.length,valid:s},message:"does not match allOf schema "+c+" with "+s.errors.length+" error[s]:"}),o.importErrors(s)}})),o},a.oneOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new s("oneOf must be an array");var o=new r(e,t,n,i),a=new r(e,t,n,i),l=t.oneOf.filter(c.bind(this,e,n,i,(function(e){a.importErrors(e)}))).length,u=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==l&&(n.nestedErrors&&o.importErrors(a),o.addError({name:"oneOf",argument:u,message:"is not exactly one from "+u.join(",")})),o},a.if=function(e,t,n,s){if(void 0===e)return null;if(!i.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var o,a=c.call(this,e,n,s,null,t.if),l=new r(e,t,n,s);if(a){if(void 0===t.then)return;if(!i.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');o=this.validateSchema(e,t.then,n,s.makeChild(t.then)),l.importErrors(o)}else{if(void 0===t.else)return;if(!i.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');o=this.validateSchema(e,t.else,n,s.makeChild(t.else)),l.importErrors(o)}return l},a.propertyNames=function(e,t,n,o){if(this.types.object(e)){var a=new r(e,t,n,o),c=void 0!==t.propertyNames?t.propertyNames:{};if(!i.isSchema(c))throw new s('Expected "propertyNames" to be a schema (object or boolean)');for(var u in e)if(void 0!==l(e,u)){var d=this.validateSchema(u,c,n,o.makeChild(c));a.importErrors(d)}return a}},a.properties=function(e,t,n,i){if(this.types.object(e)){var o=new r(e,t,n,i),a=t.properties||{};for(var c in a){var u=a[c];if(void 0!==u){if(null===u)throw new s('Unexpected null, expected schema in "properties"');"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,u,n,i);var d=l(e,c),h=this.validateSchema(d,u,n,i.makeChild(u,c));h.instance!==o.instance[c]&&(o.instance[c]=h.instance),o.importErrors(h)}}return o}},a.patternProperties=function(e,t,n,i){if(this.types.object(e)){var o=new r(e,t,n,i),a=t.patternProperties||{};for(var c in e){var l=!0;for(var d in a){var h=a[d];if(void 0!==h){if(null===h)throw new s('Unexpected null, expected schema in "patternProperties"');try{var f=new RegExp(d,"u")}catch(e){f=new RegExp(d)}if(f.test(c)){l=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,h,n,i);var g=this.validateSchema(e[c],h,n,i.makeChild(h,c));g.instance!==o.instance[c]&&(o.instance[c]=g.instance),o.importErrors(g)}}}l&&u.call(this,e,t,n,i,c,o)}return o}},a.additionalProperties=function(e,t,n,i){if(this.types.object(e)){if(t.patternProperties)return null;var s=new r(e,t,n,i);for(var o in e)u.call(this,e,t,n,i,o,s);return s}},a.minProperties=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);return Object.keys(e).length>=t.minProperties||s.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),s}},a.maxProperties=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);return Object.keys(e).length<=t.maxProperties||s.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),s}},a.items=function(e,t,n,i){var s=this;if(this.types.array(e)&&void 0!==t.items){var o=new r(e,t,n,i);return e.every((function(e,r){if(Array.isArray(t.items))var a=void 0===t.items[r]?t.additionalItems:t.items[r];else a=t.items;if(void 0===a)return!0;if(!1===a)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var c=s.validateSchema(e,a,n,i.makeChild(a,r));return c.instance!==o.instance[r]&&(o.instance[r]=c.instance),o.importErrors(c),!0})),o}},a.contains=function(e,t,n,s){var o=this;if(this.types.array(e)&&void 0!==t.contains){if(!i.isSchema(t.contains))throw new Error('Expected "contains" keyword to be a schema');var a=new r(e,t,n,s);return!1===e.some((function(e,i){return 0===o.validateSchema(e,t.contains,n,s.makeChild(t.contains,i)).errors.length}))&&a.addError({name:"contains",argument:t.contains,message:"must contain an item matching given schema"}),a}},a.minimum=function(e,t,n,i){if(this.types.number(e)){var s=new r(e,t,n,i);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),s}},a.maximum=function(e,t,n,i){if(this.types.number(e)){var s=new r(e,t,n,i);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),s}},a.exclusiveMinimum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMinimum&&this.types.number(e)){var s=new r(e,t,n,i);return e>t.exclusiveMinimum||s.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),s}},a.exclusiveMaximum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var s=new r(e,t,n,i);return e<t.exclusiveMaximum||s.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),s}};var d=function(e,t,n,o,a,c){if(this.types.number(e)){var l=t[a];if(0==l)throw new s(a+" cannot be zero");var u=new r(e,t,n,o),d=i.getDecimalPlaces(e),h=i.getDecimalPlaces(l),f=Math.max(d,h),g=Math.pow(10,f);return Math.round(e*g)%Math.round(l*g)!=0&&u.addError({name:a,argument:l,message:c+JSON.stringify(l)}),u}};function h(e,t,n){var r,s=n.length;for(r=t+1;r<s;r++)if(i.deepCompareStrict(e,n[r]))return!1;return!0}a.multipleOf=function(e,t,n,i){return d.call(this,e,t,n,i,"multipleOf","is not a multiple of (divisible by) ")},a.divisibleBy=function(e,t,n,i){return d.call(this,e,t,n,i,"divisibleBy","is not divisible by (multiple of) ")},a.required=function(e,t,n,i){var s=new r(e,t,n,i);return void 0===e&&!0===t.required?s.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===l(e,t)&&s.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),s},a.pattern=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=t.pattern;try{var a=new RegExp(o,"u")}catch(e){a=new RegExp(o)}return e.match(a)||s.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),s}},a.format=function(e,t,n,s){if(void 0!==e){var o=new r(e,t,n,s);return o.disableFormat||i.isFormat(e,t.format,this)||o.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),o}},a.minLength=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)>=t.minLength||s.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),s}},a.maxLength=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)<=t.maxLength||s.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),s}},a.minItems=function(e,t,n,i){if(this.types.array(e)){var s=new r(e,t,n,i);return e.length>=t.minItems||s.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),s}},a.maxItems=function(e,t,n,i){if(this.types.array(e)){var s=new r(e,t,n,i);return e.length<=t.maxItems||s.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),s}},a.uniqueItems=function(e,t,n,i){if(!0===t.uniqueItems&&this.types.array(e)){var s=new r(e,t,n,i);return e.every(h)||s.addError({name:"uniqueItems",message:"contains duplicate item"}),s}},a.dependencies=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);for(var o in t.dependencies)if(void 0!==e[o]){var a=t.dependencies[o],c=i.makeChild(a,o);if("string"==typeof a&&(a=[a]),Array.isArray(a))a.forEach((function(t){void 0===e[t]&&s.addError({name:"dependencies",argument:c.propertyPath,message:"property "+t+" not found, required by "+c.propertyPath})}));else{var l=this.validateSchema(e,a,n,c);s.instance!==l.instance&&(s.instance=l.instance),l&&l.errors.length&&(s.addError({name:"dependencies",argument:c.propertyPath,message:"does not meet dependency required by "+c.propertyPath}),s.importErrors(l))}}return s}},a.enum=function(e,t,n,o){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new s("enum expects an array",t);var a=new r(e,t,n,o);return t.enum.some(i.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),a},a.const=function(e,t,n,s){if(void 0===e)return null;var o=new r(e,t,n,s);return i.deepCompareStrict(t.const,e)||o.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),o},a.not=a.disallow=function(e,t,n,i){var s=this;if(void 0===e)return null;var o=new r(e,t,n,i),a=t.not||t.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach((function(r){if(s.testType(e,t,n,i,r)){var a=r&&(r.$id||r.id)||r;o.addError({name:"not",argument:a,message:"is of prohibited type "+a})}})),o):null},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(9);t.default=async function(e){const t=await fetch("/Neon/Neon-gh/assets/template.html");document.body.innerHTML=await t.text(),document.getElementById("home-link").href="https://ddmal.music.mcgill.ca/Neon",document.getElementById("neon-version").textContent="651901e6\n",document.getElementById("neon-main-icon").src="/Neon/Neon-gh/assets/img/Neon_Icon_3.svg",Array.from(document.getElementsByClassName("external-link-icon")).forEach(e=>{e.src="/Neon/Neon-gh/assets/img/external-link.svg"}),document.getElementById("filename").innerText=e.manifest.title,document.title=e.manifest.title,document.getElementById("navbar-item-hotkeys").addEventListener("click",(function(){e.modal.setModalWindowView(i.ModalWindowView.HOTKEYS),e.modal.openModalWindow()})),document.querySelector("#debug-mode-tooltip-icon").setAttribute("src","/Neon/Neon-gh/assets/img/debug-tooltip-light.svg");const n=document.querySelector("#file-saved");n.setAttribute("src","/Neon/Neon-gh/assets/img/saved-icon.svg"),n.setAttribute("alt","Your work is saved")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDebugModeStatus=t.setDebugMode=void 0;const i=n(26),r=n(4);function s(){const e=document.getElementById("debug-mode-checkbox");(0,r.setSettings)({debugMode:e.checked});const t=document.getElementById("display-errors").parentNode,n=document.querySelector("#error_log");e.checked?t.style.display="":(t.style.display="none",n.classList.remove("visible")),(0,i.updateErrorLogVisibility)()}t.setDebugMode=function(){const e=document.querySelector("#debug-mode-checkbox"),{debugMode:t}=(0,r.getSettings)();e.checked=t,(0,i.initErrorLog)(),s(),e.addEventListener("click",()=>{s()})},t.updateDebugModeStatus=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(13),r=n(4);t.default=class{constructor(e,t,n,i){this.view=e,this.meiClass=t,this.background=n,this.zoomHandler=i;document.getElementById("display_controls").innerHTML=function(e){let t='\n    <div class="panel-heading" id="displayHeader">\n      <div class="panel-heading-title">DISPLAY</div>\n      <svg class="icon is-pulled-right">\n        <use id="toggleDisplay" class="panel-dropdown-icon" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n      </svg>\n    </div>\n    <div id="displayContents" class="panel-contents">\n      <div class="panel-content-subsection first-subsection" id="display-slider-section">\n  ';return void 0!==e&&(t+='\n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n            <div class="display-slider-title">Zoom</div>\n            <button class="side-panel-btn slider-btn" id="reset-zoom" title="Reset zoom setting">\n              <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/arrow-rotate-left-solid.svg">\n            </button>\n            <button class="side-panel-btn slider-btn" id="set-zoom-easy-edit" title="Fit to page">\n              <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/expand-icon.svg">\n            </button>\n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="25" max="400" value="100"\n              aria-labelledby="reset-zoom"\n              class="slider is-fullwidth is-large"\n              id="zoomSlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n              disabled="disabled"\n            />\n            <output id="zoomOutput" for="zoomSlider">100</output>\n          </div>\n        </div>'),t+='\n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n          <div class="display-slider-title">Glyph Opacity</div>\n            <button class="side-panel-btn slider-btn" id="toggle-glyph-opacity">\n              <img class="slider-btn-img" src="/Neon/Neon-gh//assets/img/hide-icon.svg">\n            </button>   \n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="0" max="100" value="100"\n              aria-labelledby="toggle-glyph-opacity"\n              class="slider is-fullwidth is-large"\n              id="opacitySlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n            />\n            <output id="opacityOutput" for="opacitySlider">100</output>\n          </div>\n        </div>\n        \n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n          <div class="display-slider-title">Image Opacity</div> \n            <button class="side-panel-btn slider-btn" id="toggle-bg-opacity">\n              <img class="slider-btn-img" src="/Neon/Neon-gh//assets/img/hide-icon.svg">\n            </button>   \n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="0" max="100" value="100"\n              aria-labelledby="toggle-bg-opacity"\n              class="slider is-fullwidth is-large"\n              id="bgOpacitySlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n            />\n            <output id="bgOpacityOutput" for="bgOpacitySlider">100</output>\n          </div>\n        </div>\n      </div>\n      \n      <div class="panel-content-subsection">\n\n        <div id="highlight-options-title" class="panel-sub-title">Highlight Options:</div>\n        <div class="dropdown" id="highlight-dropdown">\n          <div class="dropdown-trigger">\n            <button class="side-panel-btn" id="highlight-button" aria-haspopup="true" aria-controls="highlight-menu" style="width: auto">\n              <span>Highlight</span>\n              <span id="highlight-type">&nbsp;- Off</span>\n              <svg class="icon">\n                <use id="toggleDisplay" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n              </svg>\n            </button>\n          </div>\n          <div class="dropdown-menu" id="highlight-menu" role="menu">\n            <div class="dropdown-content">\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-selection">By Selection Mode</a>\n              <hr class="dropdown-divider"/>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-column">Column</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-staff">Staff</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-syllable">Syllable</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-neume">Neume</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-layerElement">LayerElement</a>\n              <hr class="dropdown-divider"/>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-none">None</a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="panel-content-subsection">\n        <div id="display-options-container">\n          <div id="display-options-title" class="panel-sub-title">Display Options:</div>\n\n          <div id="display-options-items">\n\n            <div id="checkbox-display-options">\n\n              <div id="display-all-container">\n                <div id="display-options-separator">\n                <div class="side-panel-btn" id="display-all-btn">Display All</div>\n              </div>\n              <div id="display-single-container"></div>\n\n              \n            </div>\n\n          </div>\n\n        </div>\n      </div>\n      \n    </div>',t}(this.zoomHandler),this.loadSettings(),this.view.addUpdateCallback(this.updateVisualization.bind(this))}setDisplayListeners(){this.zoomHandler&&i.setZoomControls(this.zoomHandler),i.initDisplayControls(this.meiClass,this.background)}loadSettings(){const{zoom:e,glyphOpacity:t,imageOpacity:n,highlightMode:i}=(0,r.getSettings)();document.querySelector("#zoomOutput")&&(document.querySelector("#zoomOutput").value=String(e),document.querySelector("#zoomSlider").value=String(e)),document.querySelector("#bgOpacityOutput").value=String(n),document.querySelector("#bgOpacitySlider").value=String(n),document.querySelector("#opacityOutput").value=String(t),document.querySelector("#opacitySlider").value=String(t);const s="none"===i?"Off":i[0].toUpperCase()+i.slice(1);document.querySelector("#highlight-type").textContent="Â - "+s}updateVisualization(){i.setGlyphOpacityFromSlider(this.meiClass),i.setBgOpacityFromSlider(this.background),i.updateHighlight()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(99);t.default=class{constructor(e,t,n){this.neonView=e,this.updateCallbacks=[],this.divaReady=!1,this.diva=new i.default("container",{objectData:n}),document.getElementById("container").style.minHeight="100%",this.indexMap=new Map,this.diva.disableDragScrollable(),this.displayPanel=new t(this,"neon-container","diva-viewer-canvas"),this.loadDelay=500,this.initDivaEvents(),document.querySelector(".diva-inner").style.cursor="auto",window.onresize=()=>{const e=window.innerHeight,t=window.innerWidth;window.setTimeout(()=>{e===window.innerHeight&&t===window.innerWidth&&this.changePage(this.getCurrentPage(),!1)},this.loadDelay)}}initDivaEvents(){i.default.Events.subscribe("ManifestDidLoad",this.parseManifest.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ObjectDidLoad",this.didLoad.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ActivePageDidChange",this.changePage.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ZoomLevelDidChange",this.adjustZoom.bind(this),this.diva.settings.ID)}async changePage(e,t=!0){function n(e){if(e===this.getCurrentPage()){const t=this.indexMap.get(e);this.neonView.getPageSVG(t).then(t=>{this.updateSVG(t,e);const n="neon-container-"+e,i=document.getElementById(n);null!==i&&i.classList.add("active-page"),this.updateCallbacks.forEach(e=>e())}).catch(e=>{"not_found"!==e.name&&"missing_mei"!==e.name&&console.error(e)})}}const i=[e];Array.from(document.getElementsByClassName("active-page")).forEach(e=>{e.classList.remove("active-page")});for(const e of i)t?window.setTimeout(n.bind(this),this.loadDelay,e):n.bind(this)(e)}getCurrentPage(){return this.diva.getActivePageIndex()}getCurrentPageURI(){return this.indexMap.get(this.getCurrentPage())}adjustZoom(){new Promise(e=>{Array.from(document.getElementsByClassName("neon-container")).forEach(e=>{e.style.display="none"}),setTimeout(e,this.diva.settings.zoomDuration+100)}).then(()=>{this.changePage(this.diva.getActivePageIndex(),!0),Array.from(document.getElementsByClassName("neon-container")).forEach(e=>{const t=e.firstChild,n=parseInt(e.id.match(/\d+/)[0]);this.updateSVG(t,n),e.style.display=""})})}onSVGLoad(){this.setViewEventHandlers()}updateSVG(e,t){const n=document.getElementById("diva-1-inner"),i=this.diva.getPageDimensionsAtCurrentZoomLevel(t),r=this.diva.settings.viewHandler._viewerCore.getPageRegion(t,{includePadding:!0,incorporateViewport:!0}),s=window.getComputedStyle(n,null).getPropertyValue("margin-left"),o="neon-container-"+t.toString();let a=document.getElementById(o);for(null===a&&(a=document.createElement("div"),a.id=o,a.classList.add("neon-container"),n.appendChild(a));a.firstChild;)a.removeChild(a.firstChild);e.setAttribute("width",i.width.toString()),e.setAttribute("height",i.height.toString()),a.style.position="absolute",a.style.top=r.top+"px",a.style.left=r.left-parseInt(s)+"px",a.appendChild(e)}didLoad(){this.divaReady=!0,this.displayPanel.setDisplayListeners(),document.getElementById("loading").style.display="none"}addUpdateCallback(e){this.updateCallbacks.push(e)}removeUpdateCallback(e){const t=this.updateCallbacks.findIndex(t=>t===e);-1!==t&&this.updateCallbacks.splice(t,1)}setViewEventHandlers(){document.body.addEventListener("keydown",e=>{switch(e.key){case"h":for(const e of document.getElementsByClassName("neon-container"))e.style.visibility="hidden"}}),document.body.addEventListener("keyup",e=>{switch(e.key){case"h":for(const e of document.getElementsByClassName("neon-container"))e.style.visibility=""}})}parseManifest(e){this.indexMap.clear();for(const t of e.sequences)for(const e of t.canvases)this.indexMap.set(t.canvases.indexOf(e),e["@id"])}getPageName(){return this.diva.settings.manifest.itemTitle+" â€” "+this.diva.settings.manifest.pages[this.getCurrentPage()].l}}},function(e,t){var n,i,r,s;n=window.requestAnimationFrame,i="ontouchend"in document,r=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},(s=function(e,t){return this.settings=r({},s.DEFAULTS,t),this.el=e,this.ACTIVE_CLASS="kinetic-active",this._initElements(),this.el._VanillaKinetic=this,this}).DEFAULTS={cursor:"move",decelerate:!0,triggerHardware:!1,threshold:0,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,invert:!1,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},s.prototype.start=function(e){this.settings=r(this.settings,e),this.velocity=e.velocity||this.velocity,this.velocityY=e.velocityY||this.velocityY,this.settings.decelerate=!1,this._move()},s.prototype.end=function(){this.settings.decelerate=!0},s.prototype.stop=function(){this.velocity=0,this.velocityY=0,this.settings.decelerate=!0,"function"==typeof this.settings.stopped&&this.settings.stopped.call(this)},s.prototype.detach=function(){this._detachListeners(),this.el.classList.remove(this.ACTIVE_CLASS),this.el.style.cursor=""},s.prototype.attach=function(){this.el.classList.contains(this.ACTIVE_CLASS)||(this._attachListeners(),this.el.classList.add(this.ACTIVE_CLASS),this.el.style.cursor=this.settings.cursor)},s.prototype._initElements=function(){this.el.classList.add(this.ACTIVE_CLASS),r(this,{xpos:null,prevXPos:!1,ypos:null,prevYPos:!1,mouseDown:!1,throttleTimeout:1e3/this.settings.throttleFPS,lastMove:null,elementFocused:null}),this.velocity=0,this.velocityY=0;var e=this;this.documentResetHandler=function(){e._resetMouse.apply(e)};var t=document.documentElement;if(t.addEventListener("mouseup",this.documentResetHandler,!1),t.addEventListener("click",this.documentResetHandler,!1),this._initEvents(),this.el.style.cursor=this.settings.cursor,this.settings.triggerHardware)for(var n=["","-ms-","-webkit-","-moz-"],i={transform:"translate3d(0,0,0)",perspective:"1000","backface-visibility":"hidden"},s=0;s<n.length;s++){var o=n[s];for(var a in i)i.hasOwnProperty(a)&&(this.el.style[o+a]=i[a])}},s.prototype._initEvents=function(){var e=this;this.settings.events={touchStart:function(t){var n;e._useTarget(t.target,t)&&(n=t.originalEvent.touches[0],e.threshold=e._threshold(t.target,t),e._start(n.clientX,n.clientY),t.stopPropagation())},touchMove:function(t){var n;e.mouseDown&&(n=t.originalEvent.touches[0],e._inputmove(n.clientX,n.clientY),t.preventDefault&&t.preventDefault())},inputDown:function(t){e._useTarget(t.target,t)&&(e.threshold=e._threshold(t.target,t),e._start(t.clientX,t.clientY),e.elementFocused=t.target,"IMG"===t.target.nodeName&&t.preventDefault(),t.stopPropagation())},inputEnd:function(t){e._useTarget(t.target,t)&&(e._end(),e.elementFocused=null,t.preventDefault&&t.preventDefault())},inputMove:function(t){e.mouseDown&&(e._inputmove(t.clientX,t.clientY),t.preventDefault&&t.preventDefault())},scroll:function(t){"function"==typeof e.settings.moved&&e.settings.moved.call(e,e.settings),t.preventDefault&&t.preventDefault()},inputClick:function(t){if(Math.abs(e.velocity)>0||Math.abs(e.velocityY)>0)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},dragStart:function(t){if(e._useTarget(t.target,t)&&e.elementFocused)return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},selectStart:function(t){return"function"==typeof e.settings.selectStart?e.settings.selectStart.apply(e,arguments):e._useTarget(t.target,t)?(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1):void 0}},this._attachListeners()},s.prototype._inputmove=function(e,t){if((!this.lastMove||new Date>new Date(this.lastMove.getTime()+this.throttleTimeout))&&(this.lastMove=new Date,this.mouseDown&&(this.xpos||this.ypos))){var n=e-this.xpos,i=t-this.ypos;if(this.settings.invert&&(n*=-1,i*=-1),this.threshold>0){var r=Math.sqrt(n*n+i*i);if(this.threshold>r)return;this.threshold=0}this.elementFocused&&(this.elementFocused.blur(),this.elementFocused=null,this.el.focus()),this.settings.decelerate=!1,this.velocity=this.velocityY=0;var s=this.scrollLeft(),o=this.scrollTop();this.scrollLeft(this.settings.x?s-n:s),this.scrollTop(this.settings.y?o-i:o),this.prevXPos=this.xpos,this.prevYPos=this.ypos,this.xpos=e,this.ypos=t,this._calculateVelocities(),this._setMoveClasses(this.settings.movingClass),"function"==typeof this.settings.moved&&this.settings.moved.call(this,this.settings)}},s.prototype._calculateVelocities=function(){this.velocity=this._capVelocity(this.prevXPos-this.xpos,this.settings.maxvelocity),this.velocityY=this._capVelocity(this.prevYPos-this.ypos,this.settings.maxvelocity),this.settings.invert&&(this.velocity*=-1,this.velocityY*=-1)},s.prototype._end=function(){this.xpos&&this.prevXPos&&!1===this.settings.decelerate&&(this.settings.decelerate=!0,this._calculateVelocities(),this.xpos=this.prevXPos=this.mouseDown=!1,this._move())},s.prototype._useTarget=function(e,t){return"function"!=typeof this.settings.filterTarget||!1!==this.settings.filterTarget.call(this,e,t)},s.prototype._threshold=function(e,t){return"function"==typeof this.settings.threshold?this.settings.threshold.call(this,e,t):this.settings.threshold},s.prototype._start=function(e,t){this.mouseDown=!0,this.velocity=this.prevXPos=0,this.velocityY=this.prevYPos=0,this.xpos=e,this.ypos=t},s.prototype._resetMouse=function(){this.xpos=!1,this.ypos=!1,this.mouseDown=!1},s.prototype._decelerateVelocity=function(e,t){return 0===Math.floor(Math.abs(e))?0:e*t},s.prototype._capVelocity=function(e,t){var n=e;return e>0?e>t&&(n=t):e<0-t&&(n=0-t),n},s.prototype._setMoveClasses=function(e){var t=this.settings,n=this.el;n.classList.remove(t.movingClass.up),n.classList.remove(t.movingClass.down),n.classList.remove(t.movingClass.left),n.classList.remove(t.movingClass.right),n.classList.remove(t.deceleratingClass.up),n.classList.remove(t.deceleratingClass.down),n.classList.remove(t.deceleratingClass.left),n.classList.remove(t.deceleratingClass.right),this.velocity>0&&n.classList.add(e.right),this.velocity<0&&n.classList.add(e.left),this.velocityY>0&&n.classList.add(e.down),this.velocityY<0&&n.classList.add(e.up)},s.prototype._move=function(){var e=this._getScroller(),t=this,i=this.settings;i.x&&e.scrollWidth>0?(this.scrollLeft(this.scrollLeft()+this.velocity),Math.abs(this.velocity)>0&&(this.velocity=i.decelerate?t._decelerateVelocity(this.velocity,i.slowdown):this.velocity)):this.velocity=0,i.y&&e.scrollHeight>0?(this.scrollTop(this.scrollTop()+this.velocityY),Math.abs(this.velocityY)>0&&(this.velocityY=i.decelerate?t._decelerateVelocity(this.velocityY,i.slowdown):this.velocityY)):this.velocityY=0,t._setMoveClasses(i.deceleratingClass),"function"==typeof i.moved&&i.moved.call(this,i),Math.abs(this.velocity)>0||Math.abs(this.velocityY)>0?this.moving||(this.moving=!0,n((function(){t.moving=!1,t._move()}))):t.stop()},s.prototype._getScroller=function(){return this.el},s.prototype.scrollLeft=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollLeft;t.scrollLeft=e,this.settings.scrollLeft=e},s.prototype.scrollTop=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollTop;t.scrollTop=e,this.settings.scrollTop=e},s.prototype._attachListeners=function(){var e=this.el,t=this.settings;i&&(e.addEventListener("touchstart",t.events.touchStart,!1),e.addEventListener("touchend",t.events.inputEnd,!1),e.addEventListener("touchmove",t.events.touchMove,!1)),e.addEventListener("mousedown",t.events.inputDown,!1),e.addEventListener("mouseup",t.events.inputEnd,!1),e.addEventListener("mousemove",t.events.inputMove,!1),e.addEventListener("click",t.events.inputClick,!1),e.addEventListener("scroll",t.events.scroll,!1),e.addEventListener("selectstart",t.events.selectStart,!1),e.addEventListener("dragstart",t.events.dragStart,!1)},s.prototype._detachListeners=function(){var e=this.el,t=this.settings;i&&(e.removeEventListener("touchstart",t.events.touchStart,!1),e.removeEventListener("touchend",t.events.inputEnd,!1),e.removeEventListener("touchmove",t.events.touchMove,!1)),e.removeEventListener("mousedown",t.events.inputDown,!1),e.removeEventListener("mouseup",t.events.inputEnd,!1),e.removeEventListener("mousemove",t.events.inputMove,!1),e.removeEventListener("click",t.events.inputClick,!1),e.removeEventListener("scroll",t.events.scroll,!1),e.removeEventListener("selectstart",t.events.selectStart,!1),e.removeEventListener("dragstart",t.events.dragStart,!1)},window.VanillaKinetic=s},function(e,t,n){var i,r,s;
/**
 * @fileoverview dragscroll - scroll area by dragging
 * @version 0.0.8
 *
 * @license MIT, see http://github.com/asvd/dragscroll
 * @copyright 2015 asvd <heliosframework@gmail.com>
 */r=[t],void 0===(s="function"==typeof(i=function(e){var t,n,i=window,r=document,s=[],o=function(e,o){for(e=0;e<s.length;)(o=(o=s[e++]).container||o).removeEventListener("mousedown",o.md,0),i.removeEventListener("mouseup",o.mu,0),i.removeEventListener("mousemove",o.mm,0);for(s=[].slice.call(r.getElementsByClassName("dragscroll")),e=0;e<s.length;)!function(e,s,o,a,c,l){(l=e.container||e).addEventListener("mousedown",l.md=function(t){e.hasAttribute("nochilddrag")&&r.elementFromPoint(t.pageX,t.pageY)!==l||(a=1,s=t.clientX,o=t.clientY,t.preventDefault())},0),i.addEventListener("mouseup",l.mu=function(){a=0},0),i.addEventListener("mousemove",l.mm=function(i){a&&((c=e.scroller||e).scrollLeft-=t=-s+(s=i.clientX),c.scrollTop-=n=-o+(o=i.clientY),e===r.body&&((c=r.documentElement).scrollLeft-=t,c.scrollTop-=n))},0)}(s[e++])};"complete"===r.readyState?o():i.addEventListener("load",o,0),e.reset=o,window.resetDragscroll=o})?i.apply(t,r):i)||(e.exports=s)},function(e,t,n){e.exports=function(e){function t(e){let n,r,s,o=null;function a(...e){if(!a.enabled)return;const i=a,r=Number(new Date),s=r-(n||r);i.diff=s,i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";o++;const s=t.formatters[r];if("function"==typeof s){const t=e[o];n=s.call(i,t),e.splice(o,1),o--}return n}),t.formatArgs.call(i,e);(i.log||t.log).apply(i,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(r!==t.namespaces&&(r=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(80),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var n=1e3,i=6e4,r=60*i,s=24*r;function o(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*i;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return o(e,t,s,"day");if(t>=r)return o(e,t,r,"hour");if(t>=i)return o(e,t,i,"minute");if(t>=n)return o(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=r)return Math.round(e/r)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(13),r=n(82),s=n(7),o=n(4);t.default=class{constructor(e,t,n){this.neonView=e,this.container=document.getElementById("container"),this.updateCallbacks=new Array(0),this.group=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.group.id="svg_group",this.group.setAttribute("height",window.innerHeight.toString()),this.group.setAttribute("width","100%"),this.bg=document.createElementNS("http://www.w3.org/2000/svg","image"),this.bg.id="bgimg",this.bg.classList.add("background"),this.bg.setAttribute("x","0"),this.bg.setAttribute("y","0");const i=new FileReader;fetch(n).then(e=>{if(e.ok)return i.addEventListener("load",()=>{this.bg.setAttributeNS("http://www.w3.org/1999/xlink","href",i.result.toString());const e=this.bg.getBBox();if(!this.group.hasAttribute("viewBox")){let{viewBox:t}=(0,o.getSettings)();t||(t="0 0 "+e.width.toString()+" "+e.height.toString()),this.group.setAttribute("viewBox",t)}}),e.blob()}).then(e=>{i.readAsDataURL(e)}),this.svg=document.createElementNS("http://www.w3.org/svg","svg"),this.svg.id="mei_output",this.svg.classList.add("neon-container","active-page"),this.group.appendChild(this.bg),this.group.appendChild(this.svg),this.container.appendChild(this.group),this.zoomHandler=new r.default,this.displayPanel=new t(this,"neon-container","background",this.zoomHandler),this.pageURI=n,document.getElementById("loading").style.display="none"}onSVGLoad(){this.setViewEventHandlers(),this.displayPanel.setDisplayListeners()}updateSVG(e){this.group.replaceChild(e,this.svg),this.svg=e,this.svg.id="mei_output",this.svg.classList.add("neon-container","active-page");const t=parseInt(this.svg.getAttribute("height")),n=parseInt(this.svg.getAttribute("width"));this.bg.setAttribute("height",t.toString()),this.bg.setAttribute("width",n.toString());const{viewBox:r}=(0,o.getSettings)();r?this.group.setAttribute("viewBox",r):this.group.setAttribute("viewBox","0 0 "+n+" "+t),(0,i.updateHighlight)(),this.resetTransformations(),this.updateCallbacks.forEach(e=>e())}async changePage(e,t){const n=await this.neonView.getPageSVG(this.getCurrentPageURI());this.updateSVG(n)}addUpdateCallback(e){this.updateCallbacks.push(e)}removeUpdateCallback(e){const t=this.updateCallbacks.findIndex(t=>t===e);-1!==t&&this.updateCallbacks.splice(t,1)}resetTransformations(){this.displayPanel.zoomHandler.restoreTransformation(),(0,i.setGlyphOpacityFromSlider)(),(0,i.setBgOpacityFromSlider)()}getCurrentPage(){return 0}getCurrentPageURI(){return this.pageURI}setViewEventHandlers(){document.body.addEventListener("keydown",e=>{switch(e.key){case"Shift":s.select("#svg_group").on(".drag",null),s.select("#svg_group").call(s.drag().on("start",this.displayPanel.zoomHandler.startDrag.bind(this.displayPanel.zoomHandler)).on("drag",this.displayPanel.zoomHandler.dragging.bind(this.displayPanel.zoomHandler)));break;case"h":document.getElementById("mei_output").setAttribute("visibility","hidden")}}),document.body.addEventListener("keyup",e=>{switch(e.key){case"Shift":s.select("#svg_group").on(".drag",null),"viewer"!==this.neonView.getUserMode()&&this.neonView.NeumeEdit.setSelectListeners();break;case"h":document.getElementById("mei_output").setAttribute("visibility","visible")}}),s.select("#container").on("touchstart",()=>{2===s.event.touches.length&&(this.displayPanel.zoomHandler.startDrag(),s.select("#container").on("touchmove",this.displayPanel.zoomHandler.dragging.bind(this.displayPanel.zoomHandler)),s.select("#container").on("touchend",()=>{s.select("#container").on("touchmove",null)}))}),s.select("#container").on("wheel",this.displayPanel.zoomHandler.scrollZoom.bind(this.displayPanel.zoomHandler),!1),window.onresize=()=>{const e=window.innerHeight,t=document.getElementById("container");e>Number(t.getAttribute("height"))&&t.setAttribute("height",e.toString())}}getPageName(){return this.neonView.name}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ZoomHandler=t.ViewBox=void 0;const i=n(7),r=n(4);class s{constructor(e,t){this.minX=0,this.minY=0,this.width=e,this.height=t,this.imageWidth=e,this.imageHeight=t}set(e,t,n,i){this.minX=e,this.minY=t,this.width=n,this.height=i}get(){return this.minX.toString()+" "+this.minY.toString()+" "+this.width+" "+this.height}zoomTo(e){const t=this.imageHeight/e,n=this.imageWidth/e;this.width=n,this.height=t}getZoom(){return this.imageWidth/this.width}translate(e,t){this.minX+=e,this.minY+=t}}t.ViewBox=s;class o{resetZoomAndPan(e=!0){const t=document.getElementById("bgimg");this.viewBox=new s(parseInt(t.getAttribute("width")),parseInt(t.getAttribute("height"))),e&&(this.updateSVGViewBox(),(0,r.setSettings)({zoom:100}))}zoomTo(e){this.setViewBox(),this.viewBox.zoomTo(e),this.updateSVGViewBox(),(0,r.setSettings)({zoom:Math.floor(100*e)})}translate(e,t){this.setViewBox(),this.viewBox.translate(e,t),this.updateSVGViewBox()}restoreTransformation(){void 0===this.viewBox?this.resetZoomAndPan(!1):this.updateSVGViewBox()}setViewBox(){if(void 0===this.viewBox){const e=document.getElementById("bgimg");this.viewBox=new s(parseInt(e.getAttribute("width")),parseInt(e.getAttribute("height")))}const e=document.getElementById("svg_group").getAttribute("viewBox").split(" ");this.viewBox.set(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]),parseInt(e[3]))}updateSVGViewBox(){const e=this.viewBox.get();document.getElementById("svg_group").setAttribute("viewBox",e),(0,r.setSettings)({viewBox:e})}startDrag(){const e=document.getElementById("svg_group");this.dragCoordinates=e.createSVGPoint(),"touchstart"===i.event.type?(this.dragCoordinates.x=i.event.touches[0].screenX,this.dragCoordinates.y=i.event.touches[0].screenY):(this.dragCoordinates.x=i.event.x,this.dragCoordinates.y=i.event.y),this.matrix=e.getScreenCTM().inverse()}dragging(){const e=document.getElementById("svg_group"),t=e.createSVGPoint();"touchmove"===i.event.type?(t.x=i.event.touches[0].screenX,t.y=i.event.touches[0].screenY):"wheel"===i.event.type&&!1===i.event.shiftKey?(void 0===this.matrix&&(this.matrix=e.getScreenCTM().inverse()),void 0===this.dragCoordinates&&(this.dragCoordinates=e.createSVGPoint()),this.dragCoordinates.x=i.event.x,this.dragCoordinates.y=i.event.y,t.x=this.dragCoordinates.x-i.event.deltaX,t.y=this.dragCoordinates.y-i.event.deltaY,i.event.preventDefault()):(t.x=i.event.x,t.y=i.event.y);const n=t.matrixTransform(this.matrix),r=this.dragCoordinates.matrixTransform(this.matrix);this.translate(-n.x+r.x,-n.y+r.y),this.dragCoordinates=t}scrollZoom(){if("wheel"!==i.event.type)return;if(!i.event.shiftKey)return void this.dragging();const e=document.getElementById("zoomSlider");this.setViewBox();let t=this.viewBox.getZoom()-i.event.deltaX/100;t<parseInt(e.getAttribute("min"))/100&&(t=.25),t>parseInt(e.getAttribute("max"))/100&&(t=4),this.zoomTo(t),e.value=(100*t).toString(),document.getElementById("zoomOutput").value=String(Math.round(100*t))}}t.ZoomHandler=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(52),r=n(45),s=n(53),o=n(14),a=n(13),c=n(23),l=n(8),u=n(54),d=n(4);t.default=class{constructor(e){this.neonView=e,this.initEditMode()}initEditMode(){document.getElementById("insert_controls").innerHTML+=l.insertControlsPanel,document.getElementById("edit_controls").innerHTML+=l.editControlsPanel,document.getElementById("undoRedo_controls").innerHTML=u.undoRedoPanel,this.dragHandler=new c.default(this.neonView,".active-page > svg"),this.insertHandler=new s.default(this.neonView,".active-page > svg"),(0,i.bindInsertTabs)(this.insertHandler);const{insertTab:e}=(0,d.getSettings)();document.getElementById(e).click(),r.setSelectHelperObjects(this.neonView,this.dragHandler),this.setSelectListeners(),o.initNeonView(this.neonView),(0,i.initInsertEditControls)(),r.setSelectStrokeWidth(1),(0,i.initSelectionButtons)(),(0,a.setHighlightSelectionControls)(),this.neonView.view.addUpdateCallback(this.setSelectListeners.bind(this))}getUserMode(){const{userMode:e}=(0,d.getSettings)();return e}setSelectListeners(){r.clickSelect(".active-page > svg > svg, .active-page > svg > svg use, .active-page > svg > svg rect"),r.dragSelect(".active-page svg")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(52),r=n(13),s=n(55),o=n(45),a=n(53),c=n(14),l=n(23),u=n(8),d=n(54),h=n(55),f=n(4);t.default=class{constructor(e){this.neonView=e,this.initEditMode()}initEditMode(){(0,h.initNavbar)(this.neonView),document.getElementById("insert_controls").innerHTML+=u.insertControlsPanel,document.getElementById("edit_controls").innerHTML+=u.editControlsPanel,document.getElementById("undoRedo_controls").innerHTML=d.undoRedoPanel,this.dragHandler=new l.default(this.neonView,"#svg_group"),this.insertHandler=new a.default(this.neonView,"#svg_group"),(0,i.bindInsertTabs)(this.insertHandler);const{insertTab:e}=(0,f.getSettings)();document.getElementById(e).click(),o.setSelectHelperObjects(this.neonView,this.dragHandler),this.setSelectListeners(),c.initNeonView(this.neonView),(0,i.initInsertEditControls)(),(0,i.initSelectionButtons)(),(0,s.initUndoRedoPanel)(this.neonView),(0,r.setHighlightOption)("selection"),this.neonView.view.addUpdateCallback(this.setSelectListeners.bind(this))}getUserMode(){const{userMode:e}=(0,f.getSettings)();return e}setSelectListeners(){o.clickSelect("#svg_group, #svg_group use, #svg_group rect"),o.dragSelect("#svg_group")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(4),r=n(13),s=new Map([["","Punctum"],["u","Pes"],["d","Clivis"],["uu","Scandicus"],["ud","Torculus"],["du","Porrectus"],["s","Distropha"],["ss","Tristopha"],["sd","Pressus"],["dd","Climacus"],["ddu","ClimacusResupinus"],["udu","TorculusResupinus"],["dud","PorrectusFlexus"],["udd","PesSubpunctis"],["uud","ScandicusFlexus"],["uudd","ScandicusSubpunctis"],["dudd","PorrectusSubpunctis"]]);function o(){const e=document.getElementById("element_info"),t=document.getElementById("displayInfo");(0,i.setSettings)({displayInfo:t.checked}),t.checked?e.setAttribute("style",""):e.setAttribute("style","display: none"),(0,r.updateDisplayAllBtn)()}function a(){document.getElementById("element_info").innerHTML='<div class="info-bubble-container">\n      <div class="info-bubble-header">Element Info</div>\n      <div class="info-bubble-body"><i>Hover over any element to see its metadata</i></div>\n    </div>',document.getElementById("element_info").setAttribute("style","display: none"),function(){const{displayInfo:e}=(0,i.getSettings)();document.querySelector("#displayInfo").checked=e}(),o(),document.getElementById("displayInfo").addEventListener("click",o)}t.default=class{constructor(e){this.neonView=e;const t=document.getElementById("display-single-container"),n=document.createElement("label");n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Info";const i=document.createElement("input");i.id="displayInfo",i.classList.add("checkbox"),i.type="checkbox",i.checked=!1,n.appendChild(i),t.prepend(n),this.neonView.view.addUpdateCallback(this.resetInfoListeners.bind(this)),a(),this.resetInfoListeners()}infoListeners(){try{document.getElementsByClassName("active-page")[0].querySelectorAll(".neume,.custos,.clef,.accid,.divLine,.staff").forEach(e=>{e.addEventListener("mouseover",t=>{e.classList.contains("staff")||(this.isHoveringChild=!0),this.updateInfo(t)})}),document.getElementsByClassName("active-page")[0].querySelectorAll(".neume,.custos,.clef,.accid,.divLine").forEach(e=>{e.addEventListener("mouseleave",()=>{this.isHoveringChild=!1})})}catch(e){}}stopListeners(){document.querySelectorAll(".neume,.custos,.clef,.accid,.divLine,.staff").forEach(e=>{e.removeEventListener("mouseover",this.updateInfo.bind(this))}),document.querySelectorAll(".neume, .custos, .clef, .accid, .divLine").forEach(e=>{e.removeEventListener("mouseleave",()=>{this.isHoveringChild=!1})})}resetInfoListeners(){this.stopListeners(),this.infoListeners()}async updateInfo(e){const t=e.currentTarget.id;if(""===t)return Array.from(document.getElementById("element_info").children).forEach(e=>{e.remove()}),void console.log("No id!");const n=document.getElementById(t),i=n.getAttribute("class").match(/neume|clef|custos|staff|accid|divLine/)[0];let r,s="";switch(i){case"neume":{const e=n.querySelectorAll(".nc");if(1===e.length){const t=await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI());if("a"===t.curve||"c"===t.curve){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Liquescent\r\nPitch(es): "+t;break}}let t=await this.getContour(e);if(1===e.length){const t=await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI());if("s"===t.tilt){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Virga \r\nPitch(es): "+t;break}if("n"===t.tilt){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Reversed Virga \r\nPitch(es): "+t;break}}if("Clivis"===t){(await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI())).ligated&&(t="Ligature")}let i=await this.getPitches(e);i=i.trim().toUpperCase(),s="Shape: "+(void 0===t?"Compound":t)+"\r\nPitch(es): "+i;break}case"custos":r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),s+="Pitch: "+r.pname.toUpperCase()+r.oct;break;case"accid":{r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI());let e="";"F"==r.accid.toUpperCase()?e="Flat":"N"==r.accid.toUpperCase()&&(e="Natural"),s+="Accid Type: "+e;break}case"clef":{const e=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI());if(e["dis.place"]&&void 0!==e.dis){s+="Octave Displacement: "+((e,t)=>("above"===e?"+":"-")+String(Math.floor(Number(t)/7)))(e["dis.place"],e.dis)+"\r\n"}else s+="Octave Displacement: None\r\n";s+="Shape: "+e.shape+"\r\nLine: "+e.line;break}case"divLine":r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),s+="DivLine Type: "+r.form;break;case"staff":if(this.isHoveringChild)return;r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),r.type&&(s+="Column: "+r.type.replace(/^column/,""));break;default:s+="nothing"}s=`Element Type: ${i.charAt(0).toUpperCase()+i.slice(1)}\n${s}`,this.updateInfoModule(s)}async getPitches(e){let t="";for(const n of e){const e=await this.neonView.getElementAttr(n.id,this.neonView.view.getCurrentPageURI());t+=e.pname+e.oct+" "}return t}async getContour(e){let t="",n=null;for(const i of e){const e=await this.neonView.getElementAttr(i.id,this.neonView.view.getCurrentPageURI());null!==n&&(n.oct>e.oct?t+="d":n.oct<e.oct||this.pitchNameToNum(n.pname)<this.pitchNameToNum(e.pname)?t+="u":this.pitchNameToNum(n.pname)>this.pitchNameToNum(e.pname)?t+="d":t+="s"),n=e}return void 0===s.get(t)&&console.warn("Unknown contour: "+t),s.get(t)}updateInfoModule(e){document.getElementsByClassName("info-bubble-body")[0].innerText=e,document.getElementById("displayInfo").checked&&(document.getElementsByClassName("info-bubble-container")[0].style.display="")}pitchNameToNum(e){switch(e){case"c":return 1;case"d":return 2;case"e":return 3;case"f":return 4;case"g":return 5;case"a":return 6;case"b":return 7;default:console.log("Unknown pitch name")}}getContourByValue(e){for(const[t,n]of s.entries())if(n===e)return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(3),r=n(5),s=n(13),o=n(4);t.default=class{constructor(e){this.neonView=e,this.notificationSent=!1;const t=document.getElementById("display-single-container"),n=document.createElement("label"),i=document.createElement("label"),r=document.createElement("input"),s=document.createElement("input");r.classList.add("checkbox"),s.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),i.classList.add("checkbox-container","side-panel-btn"),n.textContent="Text",i.textContent="BBoxes",r.id="displayText",r.type="checkbox",s.id="displayBBox",s.type="checkbox",r.checked=!1,s.checked=!1,n.appendChild(r),i.appendChild(s),t.prepend(i),t.prepend(n),this.loadSettings(),this.setTextViewControls(),this.neonView.view.addUpdateCallback(this.updateTextViewVisibility.bind(this)),this.neonView.view.addUpdateCallback(this.updateBBoxVisibility.bind(this))}setTextViewControls(){this.updateTextViewVisibility(),this.updateBBoxVisibility(),document.getElementById("displayText").addEventListener("click",()=>{this.updateTextViewVisibility(),(0,s.updateDisplayAllBtn)()}),document.getElementById("displayBBox").addEventListener("click",()=>{this.updateBBoxVisibility(),(0,s.updateDisplayAllBtn)()})}loadSettings(){const{displayText:e,displayBBox:t}=(0,o.getSettings)();document.querySelector("#displayText").checked=e,document.querySelector("#displayBBox").checked=t}updateBBoxVisibility(){var e;const t=document.getElementById("displayBBox");if((0,o.setSettings)({displayBBox:t.checked}),t.checked){if(document.querySelectorAll(".sylTextRect").forEach(e=>{e.classList.add("sylTextRect-display"),e.classList.remove("sylTextRect")}),document.querySelectorAll(".syl.selected .sylTextRect-display").forEach(e=>{e.style.fill="red"}),"viewer"!==this.neonView.getUserMode()&&void 0!==this.neonView.TextEdit){this.neonView.TextEdit.initSelectByBBoxButton(),this.neonView.TextEdit.initBBoxCircleSlider();const{circleSize:e}=(0,o.getSettings)();document.querySelector("#circleOutput").value=String(e),document.querySelector("#circleSlider").value=String(e)}}else{(null===(e=document.getElementById("selByBBox"))||void 0===e?void 0:e.classList.contains("is-active"))&&((0,r.unselect)(),document.getElementById("selByBBox").classList.remove("is-active"),document.getElementById("selBySyllable").classList.add("is-active"),(0,o.setSettings)({selectionMode:"selBySyllable"})),document.querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("sylTextRect"),e.classList.remove("sylTextRect-display")}),document.querySelectorAll(".syl.selected .sylTextRect").forEach(e=>{e.style.fill="none"});try{document.getElementById("selByBBox").style.display="none"}catch(e){}try{document.getElementById("bbox-circle-slider").style.display="none"}catch(e){}}(0,s.updateHighlight)()}updateTextViewVisibility(){const e=document.getElementById("displayText");if((0,o.setSettings)({displayText:e.checked}),e.checked){const e=document.getElementById("syl_text");e.style.display="",e.innerHTML=`<div class="info-bubble-container">\n          <div class="info-bubble-header">Syllables on this page</div>\n          <div class="info-bubble-body">${this.getSylText()}</div>\n        </div>`;e.querySelectorAll("span").forEach(e=>{const t=document.getElementById(e.classList[0]),n=t.querySelector(".syl"),i=n.querySelector("text"),r=n.querySelector("rect");0===i.classList.length&&i.classList.add("text"),e.addEventListener("mouseover",()=>{t.classList.contains("syllable-highlighted")||(t.classList.add("selected"),t.querySelectorAll(".neume").forEach(e=>{e.classList.add("selected")}),null!==r&&(r.style.fill="#d00"))}),e.addEventListener("mouseleave",()=>{t.classList.contains("syllable-highlighted")||(t.classList.remove("selected"),t.querySelectorAll(".neume").forEach(e=>{e.classList.remove("selected")}),null!==r&&("rgb(0, 0, 0)"!==t.style.fill?r.style.fill=t.getAttribute("fill"):r.style.fill="blue"))})}),"viewer"!==this.neonView.getUserMode()&&void 0!==this.neonView.TextEdit&&this.neonView.TextEdit.initTextEdit()}else document.getElementById("syl_text").style.display="none"}getSylText(){let e="";return document.querySelectorAll(".active-page .syllable").forEach(t=>{if(null!==t.querySelector(".syl")){const n=t.querySelector(".syl");e+=`<span class="${t.id} syl-text-side-panel">`,""===n.textContent.trim()?e+="&#x25CA; ":Array.from(n.children[0].children[0].children).forEach(t=>{e+=""!==t.textContent?t.textContent:"&#x25CA; "}),e+=" </span>"}}),this.notificationSent||(i.queueNotification("Blank syllables are represented by â—Š!"),this.notificationSent=!0),e.replace(/\ue551/g,"-")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5),r=n(23),s=n(45),o=n(18),a=n(9),c=n(4),l=n(13);function u(){if(!document.getElementById("selByBBox").classList.contains("is-active")){(0,i.unselect)(),(0,c.setSettings)({selectionMode:"selByBBox"});try{document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden")}catch(e){}document.getElementById("selByBBox").classList.add("is-active");try{document.getElementById("selByNc").classList.remove("is-active"),document.getElementById("selByNeume").classList.remove("is-active"),document.getElementById("selByStaff").classList.remove("is-active"),document.getElementById("selBySyllable").classList.remove("is-active"),document.getElementById("selByLayerElement").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,o.setGroupingHighlight)("syllable")}catch(e){}}this.addBBoxListeners()}t.default=class{constructor(e){this.neonView=e,this.initTextEdit()}initTextEdit(){const e=document.getElementById("syl_text").querySelectorAll("span"),t=this.neonView.modal;e.forEach(e=>{function n(){e.classList.add("selected-to-edit"),t.setModalWindowView(a.ModalWindowView.EDIT_TEXT),t.openModalWindow()}e.removeEventListener("click",n),e.addEventListener("click",n)}),document.addEventListener("keydown",e=>{if(e.shiftKey&&"T"===e.key){const e=document.querySelector(".text-select");e&&e.scrollIntoView({behavior:"smooth"})}})}initSelectByBBoxButton(){if(void 0!==this.neonView.NeumeEdit){const e=document.getElementById("selByBBox");if(e)return void(e.style.display="");const t=document.getElementById("selection-mode-btns-container"),n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),n.addEventListener("click",u.bind(this)),document.body.addEventListener("keydown",e=>{"6"===e.key&&""===document.getElementById("selByBBox").style.display&&u.bind(this)()}),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}else{const e=document.getElementById("undo").closest(".control"),t=document.createElement("p");t.classList.add("control");const n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),e.appendChild(t),n.classList.add("is-active"),n.style.display="none",this.addBBoxListeners(),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}}addBBoxListeners(){document.getElementById("selByBBox").classList.contains("is-active")&&((0,i.unselect)(),void 0===this.neonView.NeumeEdit&&(this.dragHandler=new r.default(this.neonView,".sylTextRect-display"),(0,s.setSelectHelperObjects)(this.neonView,this.dragHandler),"SingleView"===this.neonView.view.constructor.name?((0,s.clickSelect)("#mei_output, #mei_output rect"),(0,s.dragSelect)("#svg_group")):((0,s.clickSelect)(".active-page > svg > svg, .active-page > svg > svg rect"),(0,s.dragSelect)(".active-page svg"))))}initBBoxCircleSlider(){const e=document.getElementById("bbox-circle-slider");if(e)return void(e.style.display="");const t=document.getElementById("display-slider-section"),n=document.createElement("div");n.classList.add("slider-and-slider-actions-container","display-panel"),n.style.cursor="default",n.id="bbox-circle-slider",n.innerHTML='\n    <div class="slider-actions-container">\n        <div class="display-slider-title">BBox Circle</div>\n        <button class="side-panel-btn slider-btn" id="reset-circle-size" title="Reset circle size">\n            <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/arrow-rotate-left-solid.svg">\n        </button>\n    </div>\n    <div class="slider-container">\n        <input type="range"\n            step="1" min="0" max="50" value="25"\n            aria-labelledby="reset-circle-size"\n            class="slider is-fullwidth is-large"\n            id="circleSlider"\n            style="padding-left: 1rem; padding-right: 1rem;"\n            disabled="disabled"\n        />\n        <output id="circleOutput" for="circleSlider">25</output>\n    </div>',t.appendChild(n),void 0===this.neonView.NeumeEdit&&(n.style.display="none"),(0,l.setCircleSizeControls)()}}},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(77),n(78);function i(e){const t=document.createElement(e),n=Array.prototype.slice.call(arguments,1);for(;n.length;){r(t,n.shift())}return t}function r(e,t){if(null!=t)if("object"!=typeof t&&"function"!=typeof t)e.appendChild(document.createTextNode(t));else if(t instanceof window.Node)e.appendChild(t);else if(t instanceof Array){const n=t.length;for(let i=0;i<n;i++)r(e,t[i])}else s(e,t)}function s(e,t){for(const n in t)t.hasOwnProperty(n)&&("style"===n?o(e,t.style):e.setAttribute(n,t[n]))}function o(e,t){if(t)if("object"==typeof t)for(const n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);else e.style.cssText=t}function a(e){this.name="DivaParentElementNotFoundException",this.message=e,this.stack=(new Error).stack}function c(e){this.name="NotAnIIIFManifestException",this.message=e,this.stack=(new Error).stack}function l(e){this.name="ObjectDataNotSuppliedException",this.message=e,this.stack=(new Error).stack}a.prototype=new Error,c.prototype=new Error,l.prototype=new Error;var u={Events:new class{constructor(){this._cache={}}publish(e,t,n){if(this._cache[e]){const i=this._cache[e];if(void 0!==i.global){const e=i.global,r=e.length;for(let i=0;i<r;i++)e[i].apply(n||null,t||[])}if(n&&void 0!==n.getInstanceId){const i=n.getInstanceId();if(this._cache[e][i]){const r=this._cache[e][i],s=r.length;for(let e=0;e<s;e++)r[e].apply(n,t||[])}}}}subscribe(e,t,n){return this._cache[e]||(this._cache[e]={}),"string"==typeof n?(this._cache[e][n]||(this._cache[e][n]=[]),this._cache[e][n].push(t)):(this._cache[e].global||(this._cache[e].global=[]),this._cache[e].global.push(t)),n?[e,t,n]:[e,t]}unsubscribe(e,t){const n=e[0];if(this._cache[n]){let i;const r=3===e.length?e[2]:"global";if(i=this._cache[n][r],!i)return!1;if(t)return delete this._cache[n][r],i.length>0;let s=i.length;for(;s--;)if(i[s]===e[1])return this._cache[n][r].splice(s,1),!0}return!1}unsubscribeAll(e){if(e){const t=Object.keys(this._cache);let n,i=t.length;for(;i--;)n=t[i],void 0!==this._cache[n][e]&&delete this._cache[n][e]}else this._cache={}}}};var d={onDoubleClick:function(e,t){e.addEventListener("dblclick",(function(e){e.ctrlKey||t(e,g(e.currentTarget,e))}));const n=f(500);e.addEventListener("contextmenu",(function(e){e.preventDefault(),e.ctrlKey&&(n.isTriggered()?(n.reset(),t(e,g(e.currentTarget,e))):n.trigger())}))},onPinch:function(e,t){let n=0;e.addEventListener("touchstart",(function(e){e.preventDefault(),2===e.originalEvent.touches.length&&(n=h(e.originalEvent.touches[0].clientX,e.originalEvent.touches[0].clientY,e.originalEvent.touches[1].clientX,e.originalEvent.touches[1].clientY))})),e.addEventListener("touchmove",(function(e){if(e.preventDefault(),2===e.originalEvent.touches.length){const i=e.originalEvent.touches,r=h(i[0].clientX,i[0].clientY,i[1].clientX,i[1].clientY),s=r-n;if(Math.abs(s)>0){const s={pageX:(i[0].clientX+i[1].clientX)/2,pageY:(i[0].clientY+i[1].clientY)/2};t(e,g(e.currentTarget,s),n,r)}}}))},onDoubleTap:function(e,t){const n=f(250);let i=null;e.addEventListener("touchend",e=>{if(e.preventDefault(),n.isTriggered()){n.reset();const r={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY};h(i.pageX,i.pageY,r.pageX,r.pageY)<50&&t(e,g(e.currentTarget,r)),i=null}else i={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY},n.trigger()})}};function h(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))}function f(e){let t=!1,n=null;return{trigger(){t=!0,i(),n=setTimeout((function(){t=!1,n=null}),e)},isTriggered:()=>t,reset(){t=!1,i()}};function i(){null!==n&&(clearTimeout(n),n=null)}}function g(e,t){const n=e.getBoundingClientRect();return{left:t.pageX-n.left,top:t.pageY-n.top}}var p=n(31);class m{constructor(e,t){this.page=e,this._viewerCore=t,this._innerElement=this._viewerCore.getSettings().innerElement,this._pageToolsElem=null,this.labelWidth=0}mount(){null===this._pageToolsElem&&(this._buttons=this._initializePageToolButtons(),this._pageToolsElem=i("div",{class:"diva-page-tools-wrapper"},i("div",{class:"diva-page-tools"},this._buttons)),this._pageLabelsElem=i("div",{class:"diva-page-labels-wrapper"},i("div",{class:"diva-page-labels"},this._viewerCore.settings.manifest.pages[this.page].l))),this.refresh(),this._innerElement.appendChild(this._pageToolsElem),this._innerElement.appendChild(this._pageLabelsElem)}_initializePageToolButtons(){const e=this._viewerCore.getSettings(),t=this._viewerCore.getPublicInstance(),n=this.page;return this._viewerCore.getPageTools().map(i=>{const r=i.pageToolsIcon.cloneNode(!0);return r.addEventListener("click",r=>{i.handleClick.call(i,r,e,t,n)},!1),r.addEventListener("touchend",r=>{r.preventDefault(),i.handleClick.call(i,r,e,t,n)},!1),r})}unmount(){this._innerElement.removeChild(this._pageToolsElem),this._innerElement.removeChild(this._pageLabelsElem)}refresh(){const e=this._viewerCore.getPageRegion(this.page,{includePadding:!0,incorporateViewport:!0});let t=window.getComputedStyle(this._innerElement,null).getPropertyValue("margin-left");this._pageToolsElem.style.top=e.top+"px",this._pageToolsElem.style.left=e.left-parseInt(t)+"px",this._pageLabelsElem.style.top=e.top+"px",this._pageLabelsElem.style.left=e.right-parseInt(t)-this.labelWidth-5+"px"}}class v{constructor(e){if(this._viewerCore=e,this._viewerState=e.getInternalState(),this._overlays=[],this._viewerCore.getPageTools().length){const t=e.getSettings().numPages;for(let n=0;n<t;n++){const t=new m(n,e);this._overlays.push(t),this._viewerCore.addPageOverlay(t);let i=document.createElement("span");i.innerHTML=e.settings.manifest.pages[n].l,i.classList.add("diva-page-labels"),i.setAttribute("style","display: inline-block;"),document.body.appendChild(i);let r=i.clientWidth;document.body.removeChild(i),t.labelWidth=r}}}onDoubleClick(e,t){const n=this._viewerCore.getSettings(),i=e.ctrlKey?n.zoomLevel-1:n.zoomLevel+1,r=this._viewerCore.getPagePositionAtViewportOffset(t);this._viewerCore.zoom(i,r)}onPinch(e,t,n,i){const r=this._viewerCore.getInternalState(),s=this._viewerCore.getSettings();let o=Math.log(Math.pow(2,s.zoomLevel)*i/(n*Math.log(2)))/Math.log(2);if(o=Math.max(s.minZoomLevel,o),o=Math.min(s.maxZoomLevel,o),o===s.zoomLevel)return;const a=this._viewerCore.getPagePositionAtViewportOffset(t),c=this._viewerCore.getCurrentLayout().getPageToViewportCenterOffset(a.anchorPage,r.viewport),l=1/Math.pow(2,s.zoomLevel-o);this._viewerCore.reload({zoomLevel:o,goDirectlyTo:a.anchorPage,horizontalOffset:c.x-a.offset.left+a.offset.left*l,verticalOffset:c.y-a.offset.top+a.offset.top*l})}onViewWillLoad(){this._viewerCore.publish("DocumentWillLoad",this._viewerCore.getSettings())}onViewDidLoad(){this._handleZoomLevelChange();const e=this._viewerCore.getSettings().activePageIndex,t=this._viewerCore.getPageName(e);this._viewerCore.publish("DocumentDidLoad",e,t)}onViewDidUpdate(e,t){const n=null!==t?t:function(e,t,n){const i=n.top+n.height/2,r=n.left+n.width/2,s=Object(p.maxBy)(e,e=>{const n=t.getPageDimensions(e),s=t.getPageOffset(e,{includePadding:!0}),o=s.left+n.width/2,a=s.top+n.height/2,c=Math.max(Math.abs(r-o)-n.width/2,0),l=Math.max(Math.abs(i-a)-n.height/2,0);return-(c*c+l*l)});return null!=s?s:null}(e,this._viewerCore.getCurrentLayout(),this._viewerCore.getViewport());let i=this._viewerState.viewport.intersectionTolerance;this._viewerState.viewport.intersectionTolerance=0;let r=e.filter(e=>this._viewerState.renderer.isPageVisible(e));this._viewerState.viewport.intersectionTolerance=i,null!==n&&this._viewerCore.setCurrentPages(n,r),null!==t&&this._viewerCore.publish("ViewerDidJump",t),this._handleZoomLevelChange()}_handleZoomLevelChange(){const e=this._viewerState,t=e.options.zoomLevel;e.oldZoomLevel!==t&&e.oldZoomLevel>=0&&(e.oldZoomLevel<t?this._viewerCore.publish("ViewerDidZoomIn",t):this._viewerCore.publish("ViewerDidZoomOut",t),this._viewerCore.publish("ViewerDidZoom",t)),e.oldZoomLevel=t}destroy(){this._overlays.forEach(e=>{this._viewerCore.removePageOverlay(e)},this)}}class y{constructor(e){this._viewerCore=e}onDoubleClick(e,t){const n=this._viewerCore.getPagePositionAtViewportOffset(t),i=this._viewerCore.getCurrentLayout(),r=this._viewerCore.getViewport(),s=i.getPageToViewportCenterOffset(n.anchorPage,r);this._viewerCore.reload({inGrid:!1,goDirectlyTo:n.anchorPage,horizontalOffset:s.x+n.offset.left,verticalOffset:s.y+n.offset.top})}onPinch(){this._viewerCore.reload({inGrid:!1})}onViewWillLoad(){}onViewDidLoad(){}onViewDidUpdate(e,t){if(0===e.length)return;let n=this._viewerCore.viewerState.viewport.intersectionTolerance;this._viewerCore.viewerState.viewport.intersectionTolerance=0;let i=e.filter(e=>this._viewerCore.viewerState.renderer.isPageVisible(e));if(this._viewerCore.viewerState.viewport.intersectionTolerance=n,null!==t)return void this._viewerCore.setCurrentPages(t,i);const r=this._viewerCore.getCurrentLayout(),s=[];e.forEach(e=>{const t=r.getPageInfo(e).group;0!==s.length&&t===s[s.length-1]||s.push(t)});const o=this._viewerCore.getViewport();let a;a=1===s.length||s[0].region.top>=o.top?s[0]:s[1].region.bottom<=o.bottom?s[1]:function(e,t){const n=t.top+t.height/2;return Object(p.maxBy)(e,e=>{const t=e.region.top+e.dimensions.height/2;return-Math.abs(n-t)})}(s,o);const c=this._viewerCore.getSettings().activePageIndex;a.pages.some(e=>e.index===c)||this._viewerCore.setCurrentPages(a.pages[0].index,i)}destroy(){}}class b{constructor(){this._pages={},this._renderedPages=[],this._renderedPageMap={}}addOverlay(e){(this._pages[e.page]||(this._pages[e.page]=[])).push(e),this._renderedPageMap[e.page]&&e.mount()}removeOverlay(e){const t=e.page,n=this._pages[t];if(!n)return;const i=n.indexOf(e);-1!==i&&(this._renderedPageMap[t]&&n[i].unmount(),n.splice(i,1),0===n.length&&delete this._pages[t])}updateOverlays(e){const t=this._renderedPages,n={};e.map(e=>{n[e]=!0,this._renderedPageMap[e]||(this._renderedPageMap[e]=!0,this._invokeOnOverlays(e,e=>{e.mount()}))}),t.map(e=>{n[e]?this._invokeOnOverlays(e,e=>{e.refresh()}):(delete this._renderedPageMap[e],this._invokeOnOverlays(e,e=>{e.unmount()}))}),this._renderedPages=e}_invokeOnOverlays(e,t){const n=this._pages[e];n&&n.map(e=>t(e))}}class w{constructor(e,t){this._rows=e,this._cols=t,this._map=new Array(e).fill(null).map(()=>new Array(t).fill(!1))}isLoaded(e,t){return e>=this._rows||t>=this._cols||this._map[e][t]}set(e,t,n){this._map[e][t]=n}}class _{constructor(e){this._levels=e;const t=this._urlsToTiles={};e.forEach(e=>{e.tiles.forEach(n=>{t[n.url]={zoomLevel:e.zoomLevel,row:n.row,col:n.col}})}),this.clear()}clear(){const e=this._loadedByLevel={};this._levels.forEach(t=>{e[t.zoomLevel]=new w(t.rows,t.cols)})}getTiles(e){const t=[],n=this._levels[0].zoomLevel,i=new w(this._levels[0].rows,this._levels[0].cols);let r;if(null===e)r=0;else{const t=Math.ceil(e);r=function(e,t){const n=e.length;for(let i=0;i<n;i++)if(t(e[i],i))return i;return-1}(this._levels,e=>e.zoomLevel<=t)}this._levels.slice(0,r+1).reverse().concat(this._levels.slice(r+1)).forEach(e=>{const r=this._loadedByLevel[e.zoomLevel];let s=e.tiles.filter(e=>r.isLoaded(e.row,e.col));const o=Math.pow(2,n-e.zoomLevel);s=s.filter(e=>{let t=!1;const n=e.row*o,r=e.col*o;for(let e=0;e<o;e++)for(let s=0;s<o;s++)i.isLoaded(n+e,r+s)||(t=!0,i.set(n+e,r+s,!0));return t}),t.push(s)},this),t.reverse();const s=[];return t.forEach(e=>{s.push.apply(s,e)}),s}updateFromCache(e){this.clear(),this._levels.forEach(t=>{const n=this._loadedByLevel[t.zoomLevel];t.tiles.forEach(t=>{e.has(t.url)&&n.set(t.row,t.col,!0)})},this)}updateWithLoadedUrls(e){e.forEach(e=>{const t=this._urlsToTiles[e];this._loadedByLevel[t.zoomLevel].set(t.row,t.col,!0)},this)}}class E{constructor(e,t){const n=function(e,t){const n=null===t?e.pageLayouts:function(e,t){const n=Math.pow(2,t-e.maxZoomLevel);return e.pageLayouts.map(e=>({dimensions:x(e.dimensions,n),pages:e.pages.map(e=>({index:e.index,groupOffset:{top:Math.floor(e.groupOffset.top*n),left:Math.floor(e.groupOffset.left*n)},dimensions:x(e.dimensions,n)}))}))}(e,t),i=function(e,t){let n,i;const r=e.padding.document;e.verticallyOriented?(n="width",i=r.left+r.right):(n="height",i=r.top+r.bottom);return i+t.reduce((e,t)=>Math.max(t.dimensions[n],e),0)}(e,n);let r=e.verticallyOriented?e.padding.document.top:e.padding.document.left;const s=[],o={top:e.padding.page.top,left:e.padding.page.left};let a,c;n.forEach((t,n)=>{let a,c;e.verticallyOriented?(a=r,c=(i-t.dimensions.width)/2):(a=(i-t.dimensions.height)/2,c=r);const l={top:a,bottom:a+o.top+t.dimensions.height,left:c,right:c+o.left+t.dimensions.width};s.push({index:n,dimensions:t.dimensions,pages:t.pages,region:l,padding:o}),r=e.verticallyOriented?l.bottom:l.right}),e.verticallyOriented?(a=r+o.top,c=i):(a=i,c=r+o.left);return{dimensions:{height:a,width:c},pageGroups:s}}(e,t);this.dimensions=n.dimensions,this.pageGroups=n.pageGroups,this._pageLookup=function(e){const t={};return e.forEach(e=>{e.pages.forEach(n=>{t[n.index]={index:n.index,group:e,dimensions:n.dimensions,groupOffset:n.groupOffset}})}),t}(n.pageGroups)}getPageInfo(e){return this._pageLookup[e]||null}getPageDimensions(e){if(!this._pageLookup||!this._pageLookup[e])return null;const t=S(this._pageLookup[e]);return{height:t.bottom-t.top,width:t.right-t.left}}getPageOffset(e,t){const n=this.getPageRegion(e,t);return n?{top:n.top,left:n.left}:null}getPageRegion(e,t){const n=this._pageLookup[e];if(!n)return null;const i=S(n),r=n.group.padding;return t&&t.includePadding?{top:i.top+r.top,left:i.left+r.left,bottom:i.bottom,right:i.right}:{top:i.top,left:i.left,bottom:i.bottom+r.top,right:i.right}}getPageToViewportCenterOffset(e,t){const n=t.left,i=t.right-t.left,r=this.getPageOffset(e),s=n-r.left+parseInt(i/2,10),o=t.top,a=t.bottom-t.top;return{x:s,y:o-r.top+parseInt(a/2,10)}}}function S(e){const t=e.groupOffset.top+e.group.region.top,n=t+e.dimensions.height,i=e.groupOffset.left+e.group.region.left;return{top:t,bottom:n,left:i,right:i+e.dimensions.width}}function x(e,t){return{height:Math.floor(e.height*t),width:Math.floor(e.width*t)}}const L=n(51)("diva:ImageCache");class A{constructor(e){e=e||{maxKeys:100},this.maxKeys=e.maxKeys||100,this._held={},this._urls={},this._lru=[]}get(e){const t=this._urls[e];return t?t.img:null}has(e){return!!this._urls[e]}put(e,t){let n=this._urls[e];n?(n.img=t,this._promote(n)):(n={img:t,url:e},this._urls[e]=n,this._tryEvict(1),this._lru.unshift(n))}_promote(e){const t=this._lru.indexOf(e);this._lru.splice(t,1),this._lru.unshift(e)}_tryEvict(e){const t=this.maxKeys-e;if(this._lru.length<=t)return;let n=this._lru.length-1;for(;;){const e=this._lru[n];if(!this._held[e.url]&&(L("Evicting image %s",e.url),this._lru.splice(n,1),delete this._urls[e.url],this._lru.length<=t))break;if(0===n){L.enabled&&L("Cache overfull by %s (all entries are being held)",this._lru.length-t);break}n--}}acquire(e){this._held[e]=(this._held[e]||0)+1,this._promote(this._urls[e])}release(e){this._held[e]>1?this._held[e]--:delete this._held[e],this._tryEvict(0)}}class k{constructor(e){this._url=e.url,this._callback=e.load,this._errorCallback=e.error,this.timeoutTime=e.timeoutTime||0,this._aborted=this._complete=!1,this._crossOrigin=e.settings.imageCrossOrigin,this.timeout=setTimeout(()=>{this._image=new Image,this._image.crossOrigin=this._crossOrigin,this._image.onload=this._handleLoad.bind(this),this._image.onerror=this._handleError.bind(this),this._image.src=e.url},this.timeoutTime)}abort(){clearTimeout(this.timeout),this._image&&(this._image.onload=this._image.onerror=null,this._image.src=""),this._aborted=!0}_handleLoad(){this._aborted?console.error("ImageRequestHandler invoked on cancelled request for "+this._url):this._complete?console.error("ImageRequestHandler invoked on completed request for "+this._url):(this._complete=!0,this._callback(this._image))}_handleError(){this._errorCallback(this._image)}}var C={animate:function(e){const t=e.duration,n=e.parameters,i=e.onUpdate,r=e.onEnd,s=I(),o=s+t,a={},c={},l=Object.keys(n);l.forEach(e=>{const t=n[e];a[e]=function(e,t,n){return i=>e+(t-e)*n(i)}(t.from,t.to,t.easing||P)});let u=requestAnimationFrame((function e(){const n=I();(function(e){l.forEach(t=>{c[t]=a[t](e)})})(Math.min((n-s)/t,1)),i(c),n<o?u=requestAnimationFrame(e):d({interrupted:!1})}));return{cancel(){null!==u&&(cancelAnimationFrame(u),d({interrupted:!0}))}};function d(e){u=null,r&&r(e)}},easing:{linear:function(e){return e},cubic:P}};let I;function P(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}I="undefined"!=typeof performance&&performance.now?()=>performance.now():()=>Date.now();class O{constructor(e,t){this._viewport=e.viewport,this._outerElement=e.outerElement,this._documentElement=e.innerElement,this._settings=e.settings,this._hooks=t||{},this._canvas=i("canvas",{class:"diva-viewer-canvas"}),this._ctx=this._canvas.getContext("2d"),this.layout=null,this._sourceResolver=null,this._renderedPages=null,this._config=null,this._zoomLevel=null,this._compositeImages=null,this._renderedTiles=null,this._animation=null,this._cache=new A,this._pendingRequests={}}static getCompatibilityErrors(){return"undefined"!=typeof HTMLCanvasElement?null:["Your browser lacks support for the ",i("pre","canvas")," element. Please upgrade your browser."]}load(e,t,n){if(this._clearAnimation(),this._hooks.onViewWillLoad&&this._hooks.onViewWillLoad(),this._sourceResolver=n,this._config=e,this._compositeImages={},this._setLayoutToZoomLevel(t.zoomLevel),!this.layout.getPageInfo(t.anchorPage))throw new Error("invalid page: "+t.anchorPage);this._canvas.width===this._viewport.width&&this._canvas.height===this._viewport.height||(this._canvas.width=this._viewport.width,this._canvas.height=this._viewport.height),this.goto(t.anchorPage,t.verticalOffset,t.horizontalOffset),this._canvas.parentNode!==this._outerElement&&this._outerElement.insertBefore(this._canvas,this._outerElement.firstChild),this._hooks.onViewDidLoad&&this._hooks.onViewDidLoad()}_setViewportPosition(e){if(e.zoomLevel!==this._zoomLevel){if(null===this._zoomLevel)throw new TypeError("The current view is not zoomable");if(null===e.zoomLevel)throw new TypeError("The current view requires a zoom level");this._setLayoutToZoomLevel(e.zoomLevel)}this._goto(e.anchorPage,e.verticalOffset,e.horizontalOffset)}_setLayoutToZoomLevel(e){this.layout=new E(this._config,e),this._zoomLevel=e,s(this._documentElement,{style:{height:this.layout.dimensions.height+"px",width:this.layout.dimensions.width+"px"}}),this._viewport.setInnerDimensions(this.layout.dimensions)}adjust(){this._clearAnimation(),this._render(),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),null)}_render(){const e=[];this.layout.pageGroups.forEach(t=>{if(!this._viewport.intersectsRegion(t.region))return;const n=t.pages.filter((function(e){return this.isPageVisible(e.index)}),this).map(e=>e.index);e.push.apply(e,n)},this),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._paintOutline(e),e.forEach(e=>{if(!this._compositeImages[e]){const t=this.layout.getPageInfo(e),n=this._sourceResolver.getAllZoomLevelsForPage(t),i=new _(n);i.updateFromCache(this._cache),this._compositeImages[e]=i}},this),this._initiateTileRequests(e);const t=T(this._renderedPages||[],e);t.removed.forEach(e=>{delete this._compositeImages[e]},this),this._renderedPages=e,this._paint(),this._hooks.onPageWillLoad&&t.added.forEach(e=>{this._hooks.onPageWillLoad(e)},this)}_paint(){const e=[];this._renderedPages.forEach(t=>{this._compositeImages[t].getTiles(this._zoomLevel).forEach(n=>{const i=B(n,this._zoomLevel);this._isTileVisible(t,i)&&(e.push(n.url),this._drawTile(t,i,this._cache.get(n.url)))})});const t=this._cache,n=T(this._renderedTiles||[],e);n.added.forEach(e=>{t.acquire(e)}),n.removed.forEach(e=>{t.release(e)}),n.removed&&this._renderedPages.forEach(e=>{this._compositeImages[e].updateFromCache(this._cache)},this),this._renderedTiles=e}_paintOutline(e){e.forEach(e=>{let t=this.layout.getPageInfo(e),n=this._getImageOffset(e),i=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),r=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),s=n.left-this._viewport.left+i,o=n.top-this._viewport.top+r,a=s<0?-s:0,c=o<0?-o:0,l=Math.max(0,s),u=Math.max(0,o),d=t.dimensions.width-a,h=t.dimensions.height-c;this._ctx.strokeStyle="#AAA",this._ctx.strokeRect(l+.5,u+.5,d,h)})}_initiateTileRequests(e){const t={},n=(e,n)=>{const i=this._compositeImages[n];t[e.url]=new k({url:e.url,timeoutTime:250,settings:this._settings,load:t=>{delete this._pendingRequests[e.url],this._cache.put(e.url,t),i===this._compositeImages[n]?(i.updateWithLoadedUrls([e.url]),this._isTileForSourceVisible(n,e)&&this._paint()):this._isTileForSourceVisible(n,e)&&this._paint()},error:()=>{delete this._pendingRequests[e.url]}})};for(let i=0;i<e.length;i++){const r=e[i],s=this._sourceResolver.getBestZoomLevelForPage(this.layout.getPageInfo(r)).tiles;for(let e=0;e<s.length;e++){const i=s[e];!this._cache.has(i.url)&&this._isTileForSourceVisible(r,i)&&(this._pendingRequests[i.url]?(t[i.url]=this._pendingRequests[i.url],delete this._pendingRequests[i.url]):n(i,r))}}for(const e in this._pendingRequests)this._pendingRequests[e].abort();this._pendingRequests=t}_drawTile(e,t,n){let i=this._getTileToDocumentOffset(e,t),r=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),s=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),o=i.left-this._viewport.left+r,a=i.top-this._viewport.top+s,c=o<0?-o:0,l=a<0?-a:0,u=Math.max(0,o),d=Math.max(0,a),h=c/t.scaleRatio,f=l/t.scaleRatio,g=Math.min(t.dimensions.width,n.width*t.scaleRatio)-c,p=Math.min(t.dimensions.height,n.height*t.scaleRatio)-l,m=Math.max(1,Math.round(g)),v=Math.max(1,Math.round(p)),y=m/t.scaleRatio,b=v/t.scaleRatio;this._ctx.drawImage(n,h,f,y,b,u,d,m,v)}_isTileForSourceVisible(e,t){return this._isTileVisible(e,B(t,this._zoomLevel))}_isTileVisible(e,t){const n=this._getTileToDocumentOffset(e,t);return this._viewport.intersectsRegion({top:n.top,bottom:n.top+t.dimensions.height,left:n.left,right:n.left+t.dimensions.width})}_getTileToDocumentOffset(e,t){const n=this._getImageOffset(e);return{top:n.top+t.offset.top,left:n.left+t.offset.left}}_getImageOffset(e){return this.layout.getPageOffset(e,{includePadding:!0})}goto(e,t,n){this._clearAnimation(),this._goto(e,t,n),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),e)}_goto(e,t,n){const i=this.layout.getPageOffset(e),r=i.top+t-Math.round(this._viewport.height/2),s=i.left+n-Math.round(this._viewport.width/2);this._viewport.top=r,this._viewport.left=s,this._render()}transitionViewportPosition(e){this._clearAnimation();const t=e.getPosition,n=this._hooks.onViewDidTransition;this._animation=C.animate({duration:e.duration,parameters:e.parameters,onUpdate:e=>{this._setViewportPosition(t(e)),this._hooks.onZoomLevelWillChange(e.zoomLevel),n&&n()},onEnd:t=>{e.onEnd&&e.onEnd(t),this._hooks.onViewDidUpdate&&!t.interrupted&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),null)}})}_clearAnimation(){this._animation&&(this._animation.cancel(),this._animation=null)}isPageVisible(e){if(!this.layout)return!1;return!!this.layout.getPageInfo(e)&&this._viewport.intersectsRegion(this.layout.getPageRegion(e))}getRenderedPages(){return this._renderedPages.slice()}destroy(){this._clearAnimation(),Object.keys(this._pendingRequests).forEach(e=>{const t=this._pendingRequests[e];delete this._pendingRequests[e],t.abort()},this),this._canvas.parentNode.removeChild(this._canvas)}}function B(e,t){let n;return n=null===t?1:Math.pow(2,t-e.zoomLevel),{sourceZoomLevel:e.zoomLevel,scaleRatio:n,row:e.row,col:e.col,dimensions:{width:e.dimensions.width*n,height:e.dimensions.height*n},offset:{left:e.offset.left*n,top:e.offset.top*n},url:e.url}}function T(e,t){if(e===t)return{added:[],removed:[]};const n=e.filter(e=>-1===t.indexOf(e));return{added:t.filter(t=>-1===e.indexOf(t)),removed:n}}function N(e,t){const n=t.getMaxPageDimensions(e);return{width:Math.floor(n.width),height:Math.floor(n.height)}}function M(e){return function(e){const t=e.manifest,n=[];let i=null,r=[];const s=()=>{for(let e=0,t=r.length;e<t;e++)n.push([r[e]]);r=[]};t.pages.forEach((o,a)=>{const c={index:a,dimensions:N(a,t),paged:!t.paged||o.paged};(e.showNonPagedPages||c.paged)&&(c.paged?0===a||o.facingPages?(n.push([c]),s()):null===i?i=c:(n.push([i,c]),i=null,s()):r.push(c))}),null!==i&&(n.push([i]),s());return n}(e).map(t=>function(e,t){const n=e.verticallyOriented;if(2===t.length)return function(e,t,n){const i=e.dimensions,r=t.dimensions,s=Math.max(i.height,r.height);let o,a,c;if(n){const e=Math.max(i.width,r.width);o=2*e,a=e-i.width,c=e}else o=i.width+r.width,a=0,c=i.width;return{dimensions:{height:s,width:o},pages:[{index:e.index,dimensions:i,groupOffset:{top:0,left:a}},{index:t.index,dimensions:r,groupOffset:{top:0,left:c}}]}}(t[0],t[1],n);const i=t[0],r=i.dimensions;let s;s=i.paged?0===i.index&&n?r.width:0:n?r.width/2:0;const o=n&&!e.manifest.pages[i.index].facingPages;return{dimensions:{height:r.height,width:o?2*r.width:r.width},pages:[{index:i.index,groupOffset:{top:0,left:s},dimensions:r}]}}(e,t))}function q(e){const t=e.viewport.width,n=e.manifest,i=e.pagesPerRow,r=e.fixedHeightGrid,s=e.fixedPadding,o=e.showNonPagedPages,a=(t-s*(i+1))/i,c=a,l=r?s+n.minRatio*a:s+n.maxRatio*a,u=[];let d=[];const h={height:l,width:t};return n.pages.forEach((e,t)=>{if(!o&&n.paged&&!e.paged)return;const a=(e=>{const t=e.d[e.d.length-1],n=t.h/t.w;let i,o;return r?(i=(l-s)/n,o=l-s):(i=c,o=i*n),{width:Math.round(i),height:Math.round(o)}})(e);let f=Math.floor(d.length*(s+c)+s);r&&(f+=(c-a.width)/2),d.push({index:t,dimensions:a,groupOffset:{top:0,left:f}}),d.length===i&&(u.push({dimensions:h,pages:d}),d=[])}),d.length>0&&u.push({dimensions:h,pages:d}),u}function D(e){if(e.inGrid)return q(F(e,["manifest","viewport","pagesPerRow","fixedHeightGrid","fixedPadding","showNonPagedPages"]));{const t=F(e,["manifest","verticallyOriented","showNonPagedPages"]);return e.inBookLayout?M(t):function(e){const t=e.manifest,n=[];return t.pages.forEach((i,r)=>{if(!e.showNonPagedPages&&t.paged&&!i.paged)return;const s=N(r,t);n.push({dimensions:s,pages:[{index:r,groupOffset:{top:0,left:0},dimensions:s}]})}),n}(t)}}function F(e,t){const n={};return t.forEach((function(t){n[t]=e[t]})),n}function j(e){const t={};return e.forEach(e=>{!function(e,t){Object.keys(t).forEach(n=>{Object.defineProperty(e,n,{get:()=>t[n],set:()=>{throw new TypeError("Cannot set settings."+n)}})})}(t,e)}),t}class R{constructor(e){this.whitelistedKeys=e.whitelistedKeys||[],this.additionalProperties=e.additionalProperties||[],this.validations=e.validations}isValid(e,t,n){let i=null;if(this.validations.some((t,n)=>t.key===e&&(i=n,!0)),null===i)return!0;const r={};r[e]=t;const s=V(n,r,this);return!this._runValidation(i,t,s)}validate(e){this._validateOptions({},e)}getValidatedOptions(e,t){const n=Object.assign({},t);return this._validateOptions(e,n),n}_validateOptions(e,t){const n=V(e,t,this);this._applyValidations(t,n)}_applyValidations(e,t){this.validations.forEach((n,i)=>{if(!e.hasOwnProperty(n.key))return;const r=e[n.key],s=this._runValidation(i,r,t);s&&(s.warningSuppressed||function(e,t,n){console.warn("Invalid value for "+e+": "+t+". Using "+n+" instead.")}(n.key,r,s.value),e[n.key]=s.value)},this)}_runValidation(e,t,n){const i=this.validations[e];n.index=e;let r=!1;const s={suppressWarning:()=>{r=!0}},o=i.validate(t,n.proxy,s);return void 0===o||o===t?null:{value:o,warningSuppressed:r}}}function V(e,t,n){const i={proxy:{},index:null},r=z.bind(null,e,t),s={};return n.whitelistedKeys.forEach(e=>{s[e]={get:r.bind(null,e)}}),n.additionalProperties.forEach(e=>{s[e.key]={get:e.get}}),n.validations.forEach((e,t)=>{s[e.key]={get:()=>{if(t<i.index)return r(e.key);const s=n.validations[i.index].key;throw new TypeError("Cannot access setting "+e.key+" while validating "+s)}}}),Object.defineProperties(i.proxy,s),i}function z(e,t,n){return n in t?t[n]:e[n]}class H{constructor(e,t){t=t||{},this.intersectionTolerance=t.intersectionTolerance||0,this.outer=e,this._top=this._left=this._width=this._height=this._innerDimensions=null,this.invalidate()}intersectsRegion(e){return this.hasHorizontalOverlap(e)&&this.hasVerticalOverlap(e)}hasVerticalOverlap(e){const t=this.top-this.intersectionTolerance,n=this.bottom+this.intersectionTolerance;return Z(e.top,t,n)||Z(e.bottom,t,n)||e.top<=t&&e.bottom>=n}hasHorizontalOverlap(e){const t=this.left-this.intersectionTolerance,n=this.right+this.intersectionTolerance;return Z(e.left,t,n)||Z(e.right,t,n)||e.left<=t&&e.right>=n}invalidate(){this._width=this.outer.clientWidth,this._height=this.outer.clientHeight,this._top=this.outer.scrollTop,this._left=this.outer.scrollLeft}setInnerDimensions(e){this._innerDimensions=e,e&&(this._top=G(this._top,0,e.height-this._height),this._left=G(this._left,0,e.width-this._width))}}function U(e,t){const n="_"+e,i="scroll"+e.charAt(0).toUpperCase()+e.slice(1);return{get:function(){return this[n]},set:function(e){let r;if(this._innerDimensions){r=G(e,0,this._innerDimensions[t]-this[t])}else r=W(e,0);this[n]=this.outer[i]=r}}}function $(e){return{get:function(){return this["_"+e]}}}function Z(e,t,n){return e>=t&&e<=n}function G(e,t,n){return W(function(e,t){return Math.min(e,t)}(e,n),t)}function W(e,t){return Math.max(e,t)}Object.defineProperties(H.prototype,{top:U("top","height"),left:U("left","width"),width:$("width"),height:$("height"),bottom:{get:function(){return this._top+this._height}},right:{get:function(){return this._left+this._width}}});const K=n(51)("diva:ViewerCore");function Y(){return Y.counter++}Y.counter=1;const X=[{key:"goDirectlyTo",validate:(e,t)=>{if(e<0||e>=t.manifest.pages.length)return 0}},{key:"minPagesPerRow",validate:e=>Math.max(2,e)},{key:"maxPagesPerRow",validate:(e,t)=>Math.max(e,t.minPagesPerRow)},{key:"pagesPerRow",validate:(e,t)=>{if(e<t.minPagesPerRow||e>t.maxPagesPerRow)return t.maxPagesPerRow}},{key:"maxZoomLevel",validate:(e,t,n)=>{if(n.suppressWarning(),e<0||e>t.manifest.maxZoom)return t.manifest.maxZoom}},{key:"minZoomLevel",validate:(e,t,n)=>e>t.manifest.maxZoom?(n.suppressWarning(),0):e<0||e>t.maxZoomLevel?0:void 0},{key:"zoomLevel",validate:(e,t,n)=>e>t.manifest.maxZoom?(n.suppressWarning(),0):e<t.minZoomLevel||e>t.maxZoomLevel?t.minZoomLevel:void 0}];class J{constructor(e,t,n){this.parentObject=e,this.publicInstance=n,this.viewerState={currentPageIndices:[0],activePageIndex:0,horizontalOffset:0,horizontalPadding:0,ID:null,initialKeyScroll:!1,initialSpaceScroll:!1,innerElement:null,innerObject:{},isActiveDiva:!0,isScrollable:!0,isZooming:!1,loaded:!1,manifest:null,mobileWebkit:!1,numPages:0,oldZoomLevel:-1,options:t,outerElement:null,outerObject:{},pageOverlays:new b,pageTools:[],parentObject:this.parentObject,pendingManifestRequest:null,pluginInstances:[],renderer:null,resizeTimer:-1,scrollbarWidth:0,selector:"",throbberTimeoutID:-1,toolbar:null,verticalOffset:0,verticalPadding:0,viewHandler:null,viewport:null,viewportElement:null,viewportObject:null,zoomDuration:400},this.settings=j([t,this.viewerState]);const r=Y();this.viewerState.ID="diva-"+r+"-",this.viewerState.selector=this.settings.ID,Object.defineProperties(this.settings,{panelHeight:{get:()=>this.viewerState.viewport.height},panelWidth:{get:()=>this.viewerState.viewport.width}}),this.optionsValidator=new R({additionalProperties:[{key:"manifest",get:()=>this.viewerState.manifest}],validations:X}),this.viewerState.scrollbarWidth=function(){let e=document.createElement("p");e.style.width="100%",e.style.height="200px";let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);let n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),document.body.removeChild(t),n-i}(),this.viewerState.mobileWebkit=void 0!==window.orientation,null===t.hashParamSuffix&&(t.hashParamSuffix=1===r?"":r+"");const s=i("div",this.elemAttrs("inner",{class:"diva-inner"})),o=i("div",this.elemAttrs("viewport"),s),a=i("div",this.elemAttrs("outer"),o,i("div",this.elemAttrs("throbber"),[i("div",{class:"cube cube1"}),i("div",{class:"cube cube2"}),i("div",{class:"cube cube3"}),i("div",{class:"cube cube4"}),i("div",{class:"cube cube5"}),i("div",{class:"cube cube6"}),i("div",{class:"cube cube7"}),i("div",{class:"cube cube8"}),i("div",{class:"cube cube9"})]));this.viewerState.innerElement=s,this.viewerState.viewportElement=o,this.viewerState.outerElement=a,this.viewerState.innerObject=s,this.viewerState.viewportObject=o,this.viewerState.outerObject=a,this.settings.parentObject.append(a),this.viewerState.viewport=new H(this.viewerState.viewportElement,{intersectionTolerance:this.settings.viewportMargin}),this.boundScrollFunction=this.scrollFunction.bind(this),this.boundEscapeListener=this.escapeListener.bind(this),this.initPlugins(),this.handleEvents(),this.showThrobber()}isValidOption(e,t){return this.optionsValidator.isValid(e,t,this.viewerState.options)}elemAttrs(e,t){const n={id:this.settings.ID+e,class:"diva-"+e};return t?Object.assign(n,t):n}getPageData(e,t){return this.settings.manifest.pages[e].d[this.settings.zoomLevel][t]}clearViewer(){this.viewerState.viewport.top=0,clearTimeout(this.viewerState.resizeTimer)}hasChangedOption(e,t){return t in e&&e[t]!==this.settings[t]}escapeListener(e){27===e.keyCode&&this.publicInstance.leaveFullscreenMode()}reloadViewer(e){const t=[];if(e=this.optionsValidator.getValidatedOptions(this.settings,e),this.hasChangedOption(e,"zoomLevel")&&(this.viewerState.oldZoomLevel=this.settings.zoomLevel,this.viewerState.options.zoomLevel=e.zoomLevel,t.push(["ZoomLevelDidChange",e.zoomLevel])),this.hasChangedOption(e,"pagesPerRow")&&(this.viewerState.options.pagesPerRow=e.pagesPerRow,t.push(["GridRowNumberDidChange",e.pagesPerRow])),this.hasChangedOption(e,"verticallyOriented")&&(this.viewerState.options.verticallyOriented=e.verticallyOriented),this.hasChangedOption(e,"showNonPagedPages")&&(this.viewerState.options.showNonPagedPages=e.showNonPagedPages),"goDirectlyTo"in e?(this.viewerState.options.goDirectlyTo=e.goDirectlyTo,"verticalOffset"in e&&(this.viewerState.verticalOffset=e.verticalOffset),"horizontalOffset"in e&&(this.viewerState.horizontalOffset=e.horizontalOffset)):this.viewerState.options.goDirectlyTo=this.settings.activePageIndex,(this.hasChangedOption(e,"inGrid")||this.hasChangedOption(e,"inBookLayout"))&&("inGrid"in e&&(this.viewerState.options.inGrid=e.inGrid),"inBookLayout"in e&&(this.viewerState.options.inBookLayout=e.inBookLayout),t.push(["ViewDidSwitch",this.settings.inGrid])),this.hasChangedOption(e,"inFullscreen")&&(this.viewerState.options.inFullscreen=e.inFullscreen,this.prepareModeChange(e),t.push(["ModeDidSwitch",this.settings.inFullscreen])),this.clearViewer(),this.updateViewHandlerAndRendering(),this.viewerState.renderer){const e={pageLayouts:D(this.settings),padding:this.getPadding(),maxZoomLevel:this.settings.inGrid?null:this.viewerState.manifest.maxZoom,verticallyOriented:this.settings.verticallyOriented||this.settings.inGrid},t={zoomLevel:this.settings.inGrid?null:this.settings.zoomLevel,anchorPage:this.settings.goDirectlyTo,verticalOffset:this.viewerState.verticalOffset,horizontalOffset:this.viewerState.horizontalOffset},n=this.getCurrentSourceProvider();if(K.enabled){const t=Object.keys(e).filter((function(e){return"pageLayouts"!==e&&"padding"!==e})).map((function(t){const n=e[t];return t+": "+JSON.stringify(n)})).join(", ");K("reload with %s",t)}this.viewerState.renderer.load(e,t,n)}return t.forEach(e=>{this.publish.apply(this,e)}),!0}prepareModeChange(e){const t=e.inFullscreen?"add":"remove";this.viewerState.outerObject.classList[t]("diva-fullscreen"),document.body.classList[t]("diva-hide-scrollbar"),this.settings.parentObject.classList[t]("diva-full-width");const n=this.settings.panelHeight,i=this.settings.panelWidth;if(this.viewerState.viewport.invalidate(),!this.viewerState.loaded&&!this.settings.inGrid&&!("verticalOffset"in e)){const e=this.settings.panelHeight,t=this.settings.panelWidth;this.viewerState.verticalOffset+=(n-e)/2,this.viewerState.horizontalOffset+=(i-t)/2}e.inFullscreen?document.addEventListener("keyup",this.boundEscapeListener):document.removeEventListener("keyup",this.boundEscapeListener)}updateViewHandlerAndRendering(){const e=this.settings.inGrid?y:v;!this.viewerState.viewHandler||this.viewerState.viewHandler instanceof e||(this.viewerState.viewHandler.destroy(),this.viewerState.viewHandler=null),this.viewerState.viewHandler||(this.viewerState.viewHandler=new e(this)),this.viewerState.renderer||this.initializeRenderer()}initializeRenderer(){const e=O.getCompatibilityErrors();if(e)this.showError(e);else{const e={viewport:this.viewerState.viewport,outerElement:this.viewerState.outerElement,innerElement:this.viewerState.innerElement,settings:this.settings},t={onViewWillLoad:()=>{this.viewerState.viewHandler.onViewWillLoad()},onViewDidLoad:()=>{this.updatePageOverlays(),this.viewerState.viewHandler.onViewDidLoad()},onViewDidUpdate:(e,t)=>{this.updatePageOverlays(),this.viewerState.viewHandler.onViewDidUpdate(e,t)},onViewDidTransition:()=>{this.updatePageOverlays()},onPageWillLoad:e=>{this.publish("PageWillLoad",e)},onZoomLevelWillChange:e=>{this.publish("ZoomLevelWillChange",e)}};this.viewerState.renderer=new O(e,t)}}getCurrentSourceProvider(){if(this.settings.inGrid){const e={getAllZoomLevelsForPage:t=>[e.getBestZoomLevelForPage(t)],getBestZoomLevelForPage:e=>({zoomLevel:1,rows:1,cols:1,tiles:[{url:this.settings.manifest.getPageImageURL(e.index,{width:e.dimensions.width}),zoomLevel:1,row:0,col:0,dimensions:e.dimensions,offset:{top:0,left:0}}]})};return e}const e={width:this.settings.tileWidth,height:this.settings.tileHeight};return{getBestZoomLevelForPage:t=>this.settings.manifest.getPageImageTiles(t.index,Math.ceil(this.settings.zoomLevel),e),getAllZoomLevelsForPage:t=>{const n=[],i=this.viewerState.manifest.maxZoom;for(let r=0;r<=i;r++)n.push(this.settings.manifest.getPageImageTiles(t.index,r,e));return n.reverse(),n}}}getPadding(){let e,t,n,i;return this.settings.inGrid?(n=this.settings.fixedPadding,e=t=i=0):(e=this.settings.verticallyOriented?this.viewerState.verticalPadding:0,t=this.settings.verticallyOriented?0:this.viewerState.horizontalPadding,n=this.settings.verticallyOriented?0:this.viewerState.verticalPadding,i=this.settings.verticallyOriented?this.viewerState.horizontalPadding:0),{document:{top:n,bottom:n,left:i,right:i},page:{top:e,bottom:0,left:t,right:0}}}updatePageOverlays(){this.viewerState.pageOverlays.updateOverlays(this.viewerState.renderer.getRenderedPages())}handleZoom(e,t){if(!this.isValidOption("zoomLevel",e))return!1;if(this.viewerState.viewportObject.removeEventListener("scroll",this.boundScrollFunction),!t){const e=this.viewerState.viewport,n=this.viewerState.renderer.layout.getPageRegion(this.settings.activePageIndex);t={anchorPage:this.settings.activePageIndex,offset:{left:e.width/2-(n.left-e.left),top:e.height/2-(n.top-e.top)}}}const n=this.viewerState.renderer.layout.getPageRegion(t.anchorPage),i=n.left+t.offset.left-(this.settings.viewport.left+this.settings.viewport.width/2),r=n.top+t.offset.top-(this.settings.viewport.top+this.settings.viewport.height/2),s=(e,n)=>{const s=Math.pow(2,e-n),o=t.offset.left*s-i,a=t.offset.top*s-r;return{zoomLevel:e,anchorPage:t.anchorPage,verticalOffset:a,horizontalOffset:o}};this.viewerState.options.zoomLevel=e;let o=this.viewerState.oldZoomLevel;this.viewerState.oldZoomLevel=this.settings.zoomLevel;const a=s(e,o);this.viewerState.options.goDirectlyTo=a.anchorPage,this.viewerState.verticalOffset=a.verticalOffset,this.viewerState.horizontalOffset=a.horizontalOffset,this.viewerState.renderer.transitionViewportPosition({duration:this.settings.zoomDuration,parameters:{zoomLevel:{from:o,to:e}},getPosition:e=>s(e.zoomLevel,o),onEnd:t=>{this.viewerState.viewportObject.addEventListener("scroll",this.boundScrollFunction),t.interrupted&&(this.viewerState.oldZoomLevel=e)}});let c=document.getElementById(this.settings.selector+"zoom-in-button"),l=document.getElementById(this.settings.selector+"zoom-out-button");return c.disabled=!0,l.disabled=!0,setTimeout(()=>{c.disabled=!1,l.disabled=!1},this.settings.zoomDuration),this.publish("ZoomLevelDidChange",e),!0}getYOffset(e,t){let n=void 0===e?this.settings.activePageIndex:e;return"center"===t||"centre"===t?parseInt(this.getPageData(n,"h")/2,10):"bottom"===t?parseInt(this.getPageData(n,"h")-this.settings.panelHeight/2,10):parseInt(this.settings.panelHeight/2,10)}getXOffset(e,t){let n=void 0===e?this.settings.activePageIndex:e;return"left"===t?parseInt(this.settings.panelWidth/2,10):"right"===t?parseInt(this.getPageData(n,"w")-this.settings.panelWidth/2,10):parseInt(this.getPageData(n,"w")/2,10)}updatePanelSize(){return this.viewerState.viewport.invalidate(),this.viewerState.renderer&&(this.updateOffsets(),this.viewerState.renderer.goto(this.settings.activePageIndex,this.viewerState.verticalOffset,this.viewerState.horizontalOffset)),!0}updateOffsets(){const e=this.viewerState.renderer.layout.getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);e&&(this.viewerState.horizontalOffset=e.x,this.viewerState.verticalOffset=e.y)}bindMouseEvents(){this.viewerState.viewportObject.classList.add("dragscroll"),d.onDoubleClick(this.viewerState.viewportObject,(e,t)=>{K("Double click at %s, %s",t.left,t.top),this.viewerState.viewHandler.onDoubleClick(e,t)})}onResize(){this.updatePanelSize(),clearTimeout(this.viewerState.resizeTimer),this.viewerState.resizeTimer=setTimeout(()=>{const e=this.viewerState.renderer.layout.getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);e?this.reloadViewer({goDirectlyTo:this.settings.activePageIndex,verticalOffset:e.y,horizontalOffset:e.x}):this.reloadViewer({goDirectlyTo:this.settings.activePageIndex})},200)}bindTouchEvents(){this.settings.blockMobileMove&&document.body.addEventListener("touchmove",e=>(e.originalEvent.preventDefault(),!1)),d.onPinch(this.viewerState.viewportObject,(function(e,t,n,i){K("Pinch %s at %s, %s",i-n,t.left,t.top),this.viewerState.viewHandler.onPinch(e,t,n,i)})),d.onDoubleTap(this.viewerState.viewportObject,(function(e,t){K("Double tap at %s, %s",t.left,t.top),this.viewerState.viewHandler.onDoubleClick(e,t)}))}scrollFunction(){const e=this.viewerState.viewport.top,t=this.viewerState.viewport.left;let n;this.viewerState.viewport.invalidate();const i=this.viewerState.viewport.top,r=this.viewerState.viewport.left;n=this.settings.verticallyOriented||this.settings.inGrid?i-e:r-t,this.viewerState.renderer.adjust();const s=this.settings.verticallyOriented||this.settings.inGrid?i:r;this.publish("ViewerDidScroll",s),n>0?this.publish("ViewerDidScrollDown",s):n<0&&this.publish("ViewerDidScrollUp",s),this.updateOffsets()}handleEvents(){this.viewerState.innerObject.addEventListener("mousedown",()=>{this.viewerState.innerObject.classList.add("diva-grabbing")}),this.viewerState.innerObject.addEventListener("mouseup",()=>{this.viewerState.innerObject.classList.remove("diva-grabbing")}),this.bindMouseEvents(),this.viewerState.viewportObject.addEventListener("scroll",this.boundScrollFunction);document.addEventListener("keydown.diva",e=>{if(!this.viewerState.isActiveDiva)return!0;if(this.settings.enableSpaceScroll&&!e.shiftKey&&32===e.keyCode||this.settings.enableKeyScroll&&34===e.keyCode)return this.viewerState.viewport.top+=this.settings.panelHeight,!1;if(this.settings.enableSpaceScroll||32!==e.keyCode||e.preventDefault(),this.settings.enableKeyScroll){if(e.shiftKey||e.ctrlKey||e.metaKey)return!0;switch(e.keyCode){case 33:return this.viewerState.viewport.top-=this.settings.panelHeight,!1;case 38:return this.viewerState.viewport.top-=this.settings.arrowScrollAmount,!1;case 40:return this.viewerState.viewport.top+=this.settings.arrowScrollAmount,!1;case 37:return this.viewerState.viewport.left-=this.settings.arrowScrollAmount,!1;case 39:return this.viewerState.viewport.left+=this.settings.arrowScrollAmount,!1;case 36:return this.viewerState.viewport.top=0,!1;case 35:return this.settings.verticallyOriented?this.viewerState.viewport.top=1/0:this.viewerState.viewport.left=1/0,!1;default:return!0}}return!0}),u.Events.subscribe("ViewerDidTerminate",(function(){document.removeEventListener("keydown.diva")}),this.settings.ID),window.addEventListener("resize",this.onResize.bind(this),!1),u.Events.subscribe("ViewerDidTerminate",(function(){window.removeEventListener("resize",this.onResize,!1)}),this.settings.ID),"onorientationchange"in window&&(window.addEventListener("orientationchange",this.onResize,!1),u.Events.subscribe("ViewerDidTerminate",(function(){window.removeEventListener("orientationchange",this.onResize,!1)}),this.settings.ID)),u.Events.subscribe("PanelSizeDidChange",this.updatePanelSize,this.settings.ID),u.Events.subscribe("ViewerDidTerminate",()=>{this.viewerState.renderer&&this.viewerState.renderer.destroy(),clearTimeout(this.viewerState.resizeTimer)},this.settings.ID)}initPlugins(){if(!this.settings.hasOwnProperty("plugins"))return null;this.viewerState.pluginInstances=this.settings.plugins.map(e=>{const t=new e(this);return t.isPageTool&&this.viewerState.pageTools.push(t),t})}showThrobber(){this.hideThrobber(),this.viewerState.throbberTimeoutID=setTimeout(()=>{let e=document.getElementById(this.settings.selector+"throbber");e&&(e.style.display="block")},this.settings.throbberTimeout)}hideThrobber(){clearTimeout(this.viewerState.throbberTimeoutID);let e=document.getElementById(this.settings.selector+"throbber");e&&(e.style.display="none")}showError(e){const t=i("div",this.elemAttrs("error"),[i("button",this.elemAttrs("error-close",{"aria-label":"Close dialog"})),i("p",i("strong","Error")),i("div",e)]);this.viewerState.outerObject.appendChild(t),document.getElementById(this.settings.selector+"error-close").addEventListener("click",()=>{t.parentNode.removeChild(t)})}setManifest(e,t){if(this.viewerState.manifest=e,this.hideThrobber(),this.viewerState.numPages=this.settings.manifest.pages.length,this.optionsValidator.validate(this.viewerState.options),this.publish("NumberOfPagesDidChange",this.settings.numPages),this.settings.adaptivePadding>0){const e=Math.floor((this.settings.minZoomLevel+this.settings.maxZoomLevel)/2);this.viewerState.horizontalPadding=parseInt(this.settings.manifest.getAverageWidth(e)*this.settings.adaptivePadding,10),this.viewerState.verticalPadding=parseInt(this.settings.manifest.getAverageHeight(e)*this.settings.adaptivePadding,10)}else this.viewerState.horizontalPadding=this.settings.fixedPadding,this.viewerState.verticalPadding=this.settings.fixedPadding;let n,r;this.viewerState.pageTools.length&&(this.viewerState.verticalPadding=Math.max(40,this.viewerState.verticalPadding)),this.settings.manifest.paged&&(this.viewerState.options.inBookLayout=!0),this.publish("ObjectDidLoad",this.settings),this.updatePanelSize();let s=!1,o=!1;if(null==t.goDirectlyTo?(t.goDirectlyTo=this.settings.goDirectlyTo,n=r=!0):(n=null==t.horizontalOffset||isNaN(t.horizontalOffset),r=null==t.verticalOffset||isNaN(t.verticalOffset)),n&&(0===t.goDirectlyTo&&this.settings.inBookLayout&&this.settings.verticallyOriented?t.horizontalOffset=this.viewerState.horizontalPadding:(o=!0,t.horizontalOffset=this.getXOffset(t.goDirectlyTo,"center"))),r&&(s=!0,t.verticalOffset=this.getYOffset(t.goDirectlyTo,"top")),this.reloadViewer(t),this.updatePanelSize(),this.settings.enableAutoTitle){let e=document.getElementById(this.settings.selector+"title");e?e.innerHTML=this.settings.manifest.itemTitle:this.settings.parentObject.insertBefore(i("div",this.elemAttrs("title"),[this.settings.manifest.itemTitle]),this.settings.parentObject.firstChild)}this.settings.verticallyOriented?this.viewerState.innerElement.style.minWidth=this.settings.panelWidth+"px":this.viewerState.innerElement.style.minHeight=this.settings.panelHeight+"px",(s||o)&&(s&&(this.viewerState.verticalOffset=this.getYOffset(this.settings.activePageIndex,"top")),o&&(this.viewerState.horizontalOffset=this.getXOffset(this.settings.activePageIndex,"center")),this.viewerState.renderer.goto(this.settings.activePageIndex,this.viewerState.verticalOffset,this.viewerState.horizontalOffset)),this.viewerState.loaded=!0,this.publish("ViewerDidLoad",this.settings)}publish(e){const t=Array.prototype.slice.call(arguments,1);u.Events.publish(e,t,this.publicInstance)}getSettings(){return this.settings}getInternalState(){return this.viewerState}getPublicInstance(){return this.publicInstance}getPageTools(){return this.viewerState.pageTools}getCurrentLayout(){return this.viewerState.renderer?this.viewerState.renderer.layout:null}getViewport(){const e=this.viewerState.viewport;return{top:e.top,left:e.left,bottom:e.bottom,right:e.right,width:e.width,height:e.height}}addPageOverlay(e){this.viewerState.pageOverlays.addOverlay(e)}removePageOverlay(e){this.viewerState.pageOverlays.removeOverlay(e)}getPageRegion(e,t){const n=this.viewerState.renderer.layout,i=n.getPageRegion(e,t);if(t&&t.incorporateViewport){const e=this.settings.verticallyOriented?"width":"height";if(this.viewerState.viewport[e]>n.dimensions[e]){const t=(this.viewerState.viewport[e]-n.dimensions[e])/2;return this.settings.verticallyOriented?{top:i.top,bottom:i.bottom,left:i.left+t,right:i.right+t}:{top:i.top+t,bottom:i.bottom+t,left:i.left,right:i.right}}}return i}getPagePositionAtViewportOffset(e){const t=e.left+this.viewerState.viewport.left,n=e.top+this.viewerState.viewport.top,i=this.viewerState.renderer.getRenderedPages(),r=i.length;for(let e=0;e<r;e++){const r=i[e],s=this.viewerState.renderer.layout.getPageRegion(r);if(s.left<=t&&s.right>=t&&s.top<=n&&s.bottom>=n)return{anchorPage:r,offset:{left:t-s.left,top:n-s.top}}}const s=this.viewerState.renderer.layout.getPageRegion(this.settings.activePageIndex);return{anchorPage:this.settings.activePageIndex,offset:{left:t-s.left,top:n-s.top}}}setCurrentPages(e,t){!function(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}(this.viewerState.currentPageIndices,t)?(this.viewerState.currentPageIndices=t,this.viewerState.activePageIndex!==e&&(this.viewerState.activePageIndex=e,this.publish("ActivePageDidChange",e)),this.publish("VisiblePageDidChange",t),this.viewerState.manifest.pages[e].otherImages.length>0&&this.publish("VisiblePageHasAlternateViews",e)):this.viewerState.activePageIndex!==e&&(this.viewerState.activePageIndex=e,this.publish("ActivePageDidChange",e))}getPageName(e){return this.viewerState.manifest.pages[e].f}reload(e){this.reloadViewer(e)}zoom(e,t){return this.handleZoom(e,t)}enableScrollable(){this.viewerState.isScrollable||(this.bindMouseEvents(),this.enableDragScrollable(),this.viewerState.options.enableKeyScroll=this.viewerState.initialKeyScroll,this.viewerState.options.enableSpaceScroll=this.viewerState.initialSpaceScroll,this.viewerState.viewportElement.style.overflow="auto",this.viewerState.isScrollable=!0)}enableDragScrollable(){this.viewerState.viewportObject.hasAttribute("nochilddrag")&&this.viewerState.viewportObject.removeAttribute("nochilddrag")}disableScrollable(){this.viewerState.isScrollable&&(this.disableDragScrollable(),this.viewerState.outerObject.dblclick=null,this.viewerState.outerObject.contextmenu=null,this.viewerState.viewportElement.style.overflow="hidden",this.viewerState.initialKeyScroll=this.settings.enableKeyScroll,this.viewerState.initialSpaceScroll=this.settings.enableSpaceScroll,this.viewerState.options.enableKeyScroll=!1,this.viewerState.options.enableSpaceScroll=!1,this.viewerState.isScrollable=!1)}disableDragScrollable(){this.viewerState.viewportObject.hasAttribute("nochilddrag")||this.viewerState.viewportObject.setAttribute("nochilddrag","")}clear(){this.clearViewer()}setPendingManifestRequest(e){this.viewerState.pendingManifestRequest=e}destroy(){this.publish("ViewerWillTerminate",this.settings),this.settings.pendingManifestRequest&&this.settings.pendingManifestRequest.abort(),document.body.removeClass("diva-hide-scrollbar"),this.settings.parentObject.parent().empty().removeData("diva"),this.settings.parentObject.parent().removeAttr("style").removeAttr("class"),this.publish("ViewerDidTerminate",this.settings),u.Events.unsubscribeAll(this.settings.ID)}}function Q(e){let t,n=e.label,i="object"==typeof n?n[Object.keys(n)[0]][0]:n,r=e.value;return t=Array.isArray(r)?r.map(e=>e[Object.keys(e)[0]]):"object"==typeof r?r[Object.keys(r)[0]]:r,Array.isArray(t)&&(t=t.join(", ")),{label:i,value:t}}const ee=(e,t)=>{const n=Math.max(e,t);return n<128?0:Math.ceil(Math.log((n+1)/257)/Math.log(2))},te=(e,t)=>e/Math.pow(2,t),ne=(e,t)=>e.map(e=>{const n=e.width,i=e.height,r=re(e),s="/"!==r.url.slice(-1)?r.url+"/":r.url,o=new Array(t+1);for(let e=0;e<t+1;e++)o[e]={h:Math.floor(te(i,t-e)),w:Math.floor(te(n,t-e))};return{f:r.url,url:s,il:e.label||"",d:o}});function ie(e){let t=e["@context"];if(!t)return console.error("Invalid IIIF Manifest; No @context found."),null;const n=(e=>"http://iiif.io/api/presentation/2/context.json"===e||Array.isArray(e)&&e.includes("http://iiif.io/api/presentation/2/context.json")?2:Array.isArray(e)&&e.includes("http://iiif.io/api/presentation/3/context.json")?3:2)(t),i=e.sequences?e.sequences[0]:null,r=i?i.canvases:e.items,s=r.length,o=new Array(r.length);let a,c,l,u,d,h,f,g,p,m,v,y,b,w,_,E,S,x=[],L=100,A=0,k=100;for(let e=0;e<s;e++){const t=r[e],n=t.width,i=t.height,s=ee(n,i),o=i/n;A=Math.max(o,A),k=Math.min(o,k),L=Math.min(L,s)}const C=new Array(L+1).fill(0),I=new Array(L+1).fill(0),P=new Array(L+1).fill(0),O=new Array(L+1).fill(0);for(let e=0;e<s;e++){if(a=r[e],y=a["@id"]||a.id,b=a.label,c=a.images?a.images[0].resource:a.items[0].items[0].body,x=[],"oa:Choice"===c["@type"]||"Choice"===c.type?(l=c.default||c.items[0],u=c.item||c.items.slice(1),x=ne(u,L)):l=c,p=a.width||l.width,m=a.height||l.height,p<=0||m<=0){console.warn("Invalid width or height for canvas "+b+". Skipping");continue}v=ee(p,m),w=l.label||null,f=re(l),h="/"!==f.url.slice(-1)?f.url+"/":f.url,d=l.service["@context"]||l.service.type,g="http://iiif.io/api/image/2/context.json"===d||"ImageService2"===d?2:"http://library.stanford.edu/iiif/image-api/1.1/context.json"===d?1.1:1,_=new Array(L+1);for(let e=0;e<L+1;e++)E=Math.floor(te(p,L-e)),S=Math.floor(te(m,L-e)),_[e]={h:S,w:E},C[e]+=E,I[e]+=S,P[e]=Math.max(E,P[e]),O[e]=Math.max(S,O[e]);let t="non-paged"!==a.viewingHint||!!a.behavior&&"non-paged"!==a.behavior[0],n="facing-pages"===a.viewingHint||!!a.behavior&&"facing-pages"===a.behavior[0];o[e]={d:_,m:v,l:b,il:w,f:f.url,url:h,api:g,paged:t,facingPages:n,canvas:y,otherImages:x,xoffset:f.x||null,yoffset:f.y||null}}const B=new Array(L+1),T=new Array(L+1);for(let e=0;e<L+1;e++)B[e]=C[e]/s,T[e]=I[e]/s;const N={a_wid:B,a_hei:T,max_w:P,max_h:O,max_ratio:A,min_ratio:k,t_hei:I,t_wid:C};return{version:n,item_title:Q(e).label,metadata:e.metadata||null,dims:N,max_zoom:L,pgs:o,paged:"paged"===e.viewingHint||!!e.behaviour&&"paged"===e.behaviour[0]||!!i&&"paged"===i.viewingHint}}function re(e){let t=e["@id"]||e.id;const n=/#xywh=([0-9]+,[0-9]+,[0-9]+,[0-9]+)/;let i="",r=!0;if(/\/([0-9]+,[0-9]+,[0-9]+,[0-9]+)\//.test(t)){const e=t.split("/");i=e[e.length-4]}else if(n.test(t)){i=n.exec(t)[1]}else e.service&&(e.service["@id"]||e.service.id)&&(t=e.service["@id"]||e.service.id,r=!1);r&&(t=t.split("/").slice(0,-4).join("/"));const s={url:t};if(i.length){const e=i.split(",");s.x=parseInt(e[0],10),s.y=parseInt(e[1],10),s.w=parseInt(e[2],10),s.h=parseInt(e[3],10)}return s}class se{getPageImageURL(e,t,n){let i;i=!n||null==n.width&&null==n.height?"full":(null==n.width?"":n.width)+","+(null==n.height?"":n.height);const r=e.pages[t],s=r.api>1.1?"default":"native";return encodeURI(r.url+"full/"+i+"/0/"+s+".jpg")}getTileImageURL(e,t,n){const i=e.pages[t];let r,s;r=n.row===n.rowCount-1?i.d[n.zoomLevel].h-(n.rowCount-1)*n.tileDimensions.height:n.tileDimensions.height,s=n.col===n.colCount-1?i.d[n.zoomLevel].w-(n.colCount-1)*n.tileDimensions.width:n.tileDimensions.width;const o=Math.pow(2,e.maxZoom-n.zoomLevel);let a=n.col*n.tileDimensions.width*o,c=n.row*n.tileDimensions.height*o;i.hasOwnProperty("xoffset")&&(a+=i.xoffset,c+=i.yoffset);const l=[a,c,s*o,r*o].join(","),u=i.api>1.1?"default":"native";return encodeURI(i.url+l+"/"+s+","+r+"/0/"+u+".jpg")}}class oe{constructor(e,t){this.pages=e.pgs,this.maxZoom=e.max_zoom,this.maxRatio=e.dims.max_ratio,this.minRatio=e.dims.min_ratio,this.itemTitle=e.item_title,this.metadata=e.metadata,this.paged=!!e.paged,this._maxWidths=e.dims.max_w,this._maxHeights=e.dims.max_h,this._averageWidths=e.dims.a_wid,this._averageHeights=e.dims.a_hei,this._totalHeights=e.dims.t_hei,this._totalWidths=e.dims.t_wid,this._urlAdapter=t}static fromIIIF(e){const t=ie(e);return new oe(t,new se)}isPageValid(e,t){return!(!t&&this.paged&&!this.pages[e].paged)&&(e>=0&&e<this.pages.length)}getMaxPageDimensions(e){const t=this.pages[e].d[this.maxZoom];return{height:t.h,width:t.w}}getPageDimensionsAtZoomLevel(e,t){const n=this.pages[e].d[this.maxZoom],i=(r=this.maxZoom,s=t,1/Math.pow(2,r-s));var r,s;return{height:n.h*i,width:n.w*i}}getPageImageURL(e,t){return this._urlAdapter.getPageImageURL(this,e,t)}getPageImageTiles(e,t,n){const i=this.pages[e];if(!isFinite(t)||t%1!=0)throw new TypeError("Zoom level must be an integer: "+t);const r=Math.ceil(i.d[t].h/n.height),s=Math.ceil(i.d[t].w/n.width),o=[];let a,c,l;for(a=0;a<r;a++)for(c=0;c<s;c++)l=this._urlAdapter.getTileImageURL(this,e,{row:a,col:c,rowCount:r,colCount:s,zoomLevel:t,tileDimensions:n}),o.push({row:a,col:c,zoomLevel:t,dimensions:{height:n.height,width:n.width},offset:{top:a*n.height,left:c*n.width},url:l});return{zoomLevel:t,rows:r,cols:s,tiles:o}}}function ae(e){return function(t){return this[e][t]}}oe.prototype.getMaxWidth=ae("_maxWidths"),oe.prototype.getMaxHeight=ae("_maxHeights"),oe.prototype.getAverageWidth=ae("_averageWidths"),oe.prototype.getAverageHeight=ae("_averageHeights"),oe.prototype.getTotalWidth=ae("_totalWidths"),oe.prototype.getTotalHeight=ae("_totalHeights");class ce{constructor(e){this.viewer=e,this.settings=e.settings}_elemAttrs(e,t){const n={id:this.settings.ID+e,class:"diva-"+e};return t?Object.assign(n,t):n}_subscribe(e,t){u.Events.subscribe(e,t,this.settings.ID)}createButton(e,t,n,r){const s=i("button",{type:"button",id:this.settings.ID+e,class:"diva-"+e+" diva-button",title:t,"aria-label":t});return r&&s.appendChild(r),n&&s.addEventListener("click",n),s}createLabel(e,t,n,r,s){return i("div",{id:this.settings.ID+t,class:e+" diva-label"},[n,i("span",{id:this.settings.ID+r},s)])}createZoomButtons(){let e=this._createZoomOutIcon(),t=this._createZoomInIcon(),n=[this.createButton("zoom-out-button","Zoom Out",()=>{this.viewer.setZoomLevel(this.settings.zoomLevel-1)},e),this.createButton("zoom-in-button","Zoom In",()=>{this.viewer.setZoomLevel(this.settings.zoomLevel+1)},t),this.createLabel("diva-zoom-label","zoom-label","Zoom level: ","zoom-level",this.settings.zoomLevel+1)],r=function(){document.getElementById(this.settings.ID+"zoom-level").textContent=this.settings.zoomLevel+1};return this._subscribe("ZoomLevelDidChange",r),this._subscribe("ViewerDidLoad",r),i("div",{id:this.settings.ID+"zoom-controls",style:"display: none"},n)}createGridControls(){let e=this._createGridMoreIcon(),t=this._createGridFewerIcon(),n=[this.createButton("grid-out-button","Fewer",()=>{this.viewer.setGridPagesPerRow(this.settings.pagesPerRow-1)},t),this.createButton("grid-in-button","More",()=>{this.viewer.setGridPagesPerRow(this.settings.pagesPerRow+1)},e),this.createLabel("diva-grid-label","grid-label","Pages per row: ","pages-per-row",this.settings.pagesPerRow)];return this._subscribe("GridRowNumberDidChange",(function(){document.getElementById(this.settings.ID+"pages-per-row").textContent=this.settings.pagesPerRow})),i("div",{id:this.settings.ID+"grid-controls",style:"display:none"},n)}createPageLabel(){const e=i("span",{id:this.settings.ID+"current-page"}),t=()=>{let t=this.viewer.getCurrentPageIndices(),n=t[0],i=t[t.length-1],r=this.settings.manifest.pages[n].l,s=this.settings.manifest.pages[i].l;n!==i?this.settings.enableIndexAsLabel?e.textContent=n+" - "+i:e.textContent=r+" - "+s:this.settings.enableIndexAsLabel?e.textContent=n:e.textContent=r};return this._subscribe("VisiblePageDidChange",t),this._subscribe("ViewerDidLoad",t),this._subscribe("ViewDidSwitch",t),i("span",{class:"diva-page-label diva-label"},e)}createGotoPageForm(){const e=i("input",{id:this.settings.ID+"goto-page-input",class:"diva-input diva-goto-page-input",autocomplete:"off",type:"text","aria-label":"Page Input"}),t=i("input",{id:this.settings.ID+"goto-page-submit",class:"diva-button diva-button-text",type:"submit",value:"Go"}),n=i("div",{id:this.settings.ID+"input-suggestions",class:"diva-input-suggestions"}),r=i("form",{id:this.settings.ID+"goto-page",class:"diva-goto-form"},e,t,n);var s,o,a;return r.addEventListener("submit",t=>{t.preventDefault();const i=e.value;if(this.settings.onGotoSubmit&&"function"==typeof this.settings.onGotoSubmit){const e=this.settings.onGotoSubmit(i);this.viewer.gotoPageByIndex(e)||window.alert("No page could be found with that label or page number")}else this.viewer.gotoPageByLabel(i)||window.alert("No page could be found with that label or page number");return n.style.display="none",!1}),["input","focus"].forEach(t=>{e.addEventListener(t,()=>{n.innerHTML="";const t=e.value;let r=0;if(this.settings.enableGotoSuggestions&&t){const e=this.settings.manifest.pages;for(let s=0,o=e.length;s<o&&r<10;s++)if(e[s].l.toLowerCase().indexOf(t.toLowerCase())>-1){const t=i("div",{class:"diva-input-suggestion"},e[s].l);n.appendChild(t),r++}r>0&&(n.style.display="block")}else n.style.display="none"})}),e.addEventListener("keydown",t=>{let n;if(13===t.keyCode){const t=document.getElementsByClassName("active")[0];void 0!==t&&(e.value=t.innerText)}if(38===t.keyCode){n=document.getElementsByClassName("active")[0];const e=n?n.previousSibling:void 0;if(void 0!==e)n.classList.remove("active"),null!==e&&e.classList.add("active");else{let e=document.getElementsByClassName("diva-input-suggestion").length-1;document.getElementsByClassName("diva-input-suggestion")[e].classList.add("active")}}else if(40===t.keyCode){n=document.getElementsByClassName("active")[0];const e=n?n.nextSibling:void 0;void 0!==e?(n.classList.remove("active"),null!==e&&e.classList.add("active")):document.getElementsByClassName("diva-input-suggestion")[0].classList.add("active")}}),s="mousedown",o=".diva-input-suggestion",a=function(){e.value=this.textContent,n.style.display="none";let t=new Event("submit",{cancelable:!0});r.dispatchEvent(t)},n.addEventListener(s,(function(e){for(var t=e.target;t&&t!==this;)t.matches(o)&&a.call(t,e),t=t.parentNode})),e.addEventListener("blur",()=>{n.style.display="none"}),r}createViewMenu(){const e=i("div",this._elemAttrs("view-options")),t=this._createGridViewIcon(),n=this._createBookViewIcon(),r=this._createPageViewIcon(),s=this.createButton("view-icon","Change view",()=>{e.style.display="none"===e.style.display?"block":"none"}),o=t=>{this.viewer.changeView(t),e.style.display="none"},a=()=>{this.settings.inGrid?(s.appendChild(t),s.className="diva-grid-icon diva-view-icon diva-button"):this.settings.inBookLayout?(s.appendChild(n),s.className="diva-book-icon diva-view-icon diva-button"):(s.appendChild(r),s.className="diva-document-icon diva-view-icon diva-button");const i=document.createDocumentFragment();for((this.settings.inGrid||this.settings.inBookLayout)&&i.appendChild(this.createButton("document-icon","Document View",o.bind(null,"document"),r)),!this.settings.inGrid&&this.settings.inBookLayout||i.appendChild(this.createButton("book-icon","Book View",o.bind(null,"book"),n)),this.settings.inGrid||i.appendChild(this.createButton("grid-icon","Grid View",o.bind(null,"grid"),t));e.firstChild;)e.removeChild(e.firstChild);e.appendChild(i)};return document.addEventListener("mouseup",t=>{e!==t.target&&(e.style.display="none")}),this._subscribe("ViewDidSwitch",a),this._subscribe("ObjectDidLoad",a),i("div",this._elemAttrs("view-menu"),s,e)}createFullscreenButton(){let e=this._createFullscreenIcon();return this.createButton("fullscreen-icon","Toggle fullscreen mode",()=>{this.viewer.toggleFullscreenMode()},e)}toggleZoomGridControls(){this.settings.inGrid?(document.getElementById(this.settings.ID+"zoom-controls").style.display="none",document.getElementById(this.settings.ID+"grid-controls").style.display="block"):(document.getElementById(this.settings.ID+"zoom-controls").style.display="block",document.getElementById(this.settings.ID+"grid-controls").style.display="none")}render(){this._subscribe("ViewDidSwitch",this.toggleZoomGridControls),this._subscribe("ObjectDidLoad",this.toggleZoomGridControls);let e=[this.createZoomButtons(),this.createGridControls()],t=[this.createPageLabel(),this.createViewMenu()];this.settings.enableFullscreen&&t.push(this.createFullscreenButton()),this.settings.enableGotoPage&&t.splice(1,0,this.createGotoPageForm());let n=this.viewer.viewerState.pluginInstances;for(let i=0,s=n.length;i<s;i++){let s=n[i];s.toolbarSide&&(s.toolbarIcon=s.createIcon(),s.toolbarIcon&&("right"===s.toolbarSide?t.splice(2,0,s.toolbarIcon):"left"===s.toolbarSide&&e.splice(2,0,s.toolbarIcon),s.toolbarIcon.addEventListener("click",r.bind(this,s))))}function r(e){e.handleClick(this.viewer)}const s=i("div",this._elemAttrs("tools"),i("div",this._elemAttrs("tools-left"),e),i("div",this._elemAttrs("tools-right"),t));this.settings.toolbarParentObject.insertBefore(s,this.settings.toolbarParentObject.firstChild)}_createToolbarIcon(e){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"viewBox","0 0 25 25"),t.setAttributeNS(null,"x","0px"),t.setAttributeNS(null,"y","0px"),t.setAttributeNS(null,"style","enable-background:new 0 0 48 48;");let n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttributeNS(null,"transform","matrix(1, 0, 0, 1, -12, -12)"),e.forEach(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttributeNS(null,"d",e),n.appendChild(t)}),t.appendChild(n),t}_createZoomOutIcon(){return this._createToolbarIcon(["M19.5,23c-0.275,0-0.5-0.225-0.5-0.5v-1c0-0.275,0.225-0.5,0.5-0.5h7c0.275,0,0.5,0.225,0.5,0.5v1c0,0.275-0.225,0.5-0.5,0.5H19.5z","M37.219,34.257l-2.213,2.212c-0.202,0.202-0.534,0.202-0.736,0l-6.098-6.099c-1.537,0.993-3.362,1.577-5.323,1.577c-5.431,0-9.849-4.418-9.849-9.849c0-5.431,4.418-9.849,9.849-9.849c5.431,0,9.849,4.418,9.849,9.849c0,1.961-0.584,3.786-1.576,5.323l6.098,6.098C37.422,33.722,37.422,34.054,37.219,34.257z M29.568,22.099c0-3.706-3.014-6.72-6.72-6.72c-3.706,0-6.72,3.014-6.72,6.72c0,3.706,3.014,6.72,6.72,6.72C26.555,28.818,29.568,25.805,29.568,22.099z"])}_createZoomInIcon(){return this._createToolbarIcon(["M37.469,34.257l-2.213,2.212c-0.202,0.202-0.534,0.202-0.736,0l-6.098-6.099c-1.537,0.993-3.362,1.577-5.323,1.577c-5.431,0-9.849-4.418-9.849-9.849c0-5.431,4.418-9.849,9.849-9.849c5.431,0,9.849,4.418,9.849,9.849c0,1.961-0.584,3.786-1.576,5.323l6.098,6.098C37.672,33.722,37.672,34.054,37.469,34.257z M29.818,22.099c0-3.706-3.014-6.72-6.72-6.72c-3.706,0-6.72,3.014-6.72,6.72c0,3.706,3.014,6.72,6.72,6.72C26.805,28.818,29.818,25.805,29.818,22.099z M26.5,21H24v-2.5c0-0.275-0.225-0.5-0.5-0.5h-1c-0.275,0-0.5,0.225-0.5,0.5V21h-2.5c-0.275,0-0.5,0.225-0.5,0.5v1c0,0.275,0.225,0.5,0.5,0.5H22v2.5c0,0.275,0.225,0.5,0.5,0.5h1c0.275,0,0.5-0.225,0.5-0.5V23h2.5c0.275,0,0.5-0.225,0.5-0.5v-1C27,21.225,26.775,21,26.5,21z"])}_createGridMoreIcon(){return this._createToolbarIcon(["M29.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z"])}_createGridFewerIcon(){return this._createToolbarIcon(["M25.5,35c-0.275,0-0.5-0.225-0.5-0.5v-9c0-0.275,0.225-0.5,0.5-0.5h9c0.275,0,0.5,0.225,0.5,0.5v9c0,0.275-0.225,0.5-0.5,0.5H25.5z M22.5,35c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H22.5z M34.5,23c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H34.5z M22.5,23c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H22.5z"])}_createGridViewIcon(){return this._createToolbarIcon(["M29.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z"])}_createBookViewIcon(){return this._createToolbarIcon(["M35,16.8v-1.323c0,0-2.292-1.328-5.74-1.328c-3.448,0-5.26,1.25-5.26,1.25s-1.813-1.25-5.26-1.25c-3.448,0-5.74,1.328-5.74,1.328V16.8l-1,0.531v0.021v15.687c0,0,4.531-1.578,6.999-1.578c2.468,0,5.001,0.885,5.001,0.885s2.532-0.885,5-0.885c0.306,0,0.643,0.024,1,0.066v4.325l1.531-2.016L33,35.852v-3.72c2,0.43,3,0.906,3,0.906V17.352v-0.021L35,16.8z M23,29.03c-1-0.292-2.584-0.679-3.981-0.679c-2.246,0-3.019,0.404-4.019,0.699V16.634c0,0,1.125-0.699,4.019-0.699c1.694,0,2.981,0.417,3.981,1.126V29.03z M33,29.051c-1-0.295-1.773-0.699-4.02-0.699c-1.396,0-2.981,0.387-3.98,0.679V17.06c1-0.709,2.286-1.126,3.98-1.126c2.895,0,4.02,0.699,4.02,0.699V29.051z"])}_createPageViewIcon(){return this._createToolbarIcon(["M29.425,29h4.47L29,33.934v-4.47C29,29.19,29.151,29,29.425,29z M34,14.563V28h-5.569C28.157,28,28,28.196,28,28.47V34H14.497C14.223,34,14,33.71,14,33.437V14.563C14,14.29,14.223,14,14.497,14h18.9C33.672,14,34,14.29,34,14.563z M25.497,26.497C25.497,26.223,25.275,26,25,26h-7c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,27.777,17.725,28,18,28h7c0.275,0,0.497-0.223,0.497-0.497V26.497z M30.497,22.497C30.497,22.223,30.275,22,30,22H18c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,23.777,17.725,24,18,24h12c0.275,0,0.497-0.223,0.497-0.497V22.497z M30.497,18.497C30.497,18.223,30.275,18,30,18H18c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,19.777,17.725,20,18,20h12c0.275,0,0.497-0.223,0.497-0.497V18.497z"])}_createFullscreenIcon(){return this._createToolbarIcon(["M35,12H13c-0.55,0-1,0.45-1,1v22c0,0.55,0.45,1,1,1h22c0.55,0,1-0.45,1-1V13C36,12.45,35.55,12,35,12z M34,34H14V14h20V34z","M17,21.75v-4.5c0-0.138,0.112-0.25,0.25-0.25h4.5c0.138,0,0.17,0.08,0.073,0.177l-1.616,1.616l1.823,1.823c0.097,0.097,0.097,0.256,0,0.354l-1.061,1.06c-0.097,0.097-0.256,0.097-0.354,0l-1.823-1.823l-1.616,1.616C17.08,21.92,17,21.888,17,21.75z M20.97,25.97c-0.097-0.097-0.256-0.097-0.354,0l-1.823,1.823l-1.616-1.616C17.08,26.08,17,26.112,17,26.25v4.5c0,0.138,0.112,0.25,0.25,0.25h4.5c0.138,0,0.17-0.08,0.073-0.177l-1.616-1.616l1.823-1.823c0.097-0.097,0.097-0.256,0-0.354L20.97,25.97z M30.75,17h-4.5c-0.138,0-0.17,0.08-0.073,0.177l1.616,1.616l-1.823,1.823c-0.097,0.097-0.097,0.256,0,0.354l1.061,1.06c0.097,0.097,0.256,0.097,0.354,0l1.823-1.823l1.616,1.616C30.92,21.92,31,21.888,31,21.75v-4.5C31,17.112,30.888,17,30.75,17z M30.823,26.177l-1.616,1.616l-1.823-1.823c-0.097-0.097-0.256-0.097-0.354,0l-1.061,1.06c-0.097,0.097-0.097,0.256,0,0.354l1.823,1.823l-1.616,1.616C26.08,30.92,26.112,31,26.25,31h4.5c0.138,0,0.25-0.112,0.25-0.25v-4.5C31,26.112,30.92,26.08,30.823,26.177z M26,22.5c0-0.275-0.225-0.5-0.5-0.5h-3c-0.275,0-0.5,0.225-0.5,0.5v3c0,0.275,0.225,0.5,0.5,0.5h3c0.275,0,0.5-0.225,0.5-0.5V22.5z"])}}var le={get:ue,update:function(e,t){const n=ue(e),i=window.location.hash;if(n!==t)if("string"==typeof n){const r=i.indexOf("&"+e+"=")>0?i.indexOf("&"+e+"="):i.indexOf("#"+e+"="),s=r+e.length+2+n.length,o=0===r?"#":"&";window.location.replace(i.substring(0,r)+o+e+"="+t+i.substring(s))}else 0===i.length?window.location.replace("#"+e+"="+t):window.location.replace(i+"&"+e+"="+t)}};function ue(e){const t=window.location.hash;if(""!==t){let n=t.indexOf("&"+e+"=")>0?t.indexOf("&"+e+"="):t.indexOf("#"+e+"=");if(n>=0){n+=e.length+2;const i=t.indexOf("&",n);return i>n?decodeURIComponent(t.substring(n,i)):i<0?decodeURIComponent(t.substring(n)):""}return!1}return!1}class de{constructor(e,t){if(!(e instanceof HTMLElement)&&(this.element=document.getElementById(e),null===this.element))throw new a;if(!t.objectData)throw new l("You must supply either a URL or a literal object to the `objectData` key.");this.options=Object.assign({adaptivePadding:.05,arrowScrollAmount:40,blockMobileMove:!1,objectData:"",enableAutoTitle:!0,enableFilename:!0,enableFullscreen:!0,enableGotoPage:!0,enableGotoSuggestions:!0,enableGridIcon:!0,enableGridControls:"buttons",enableImageTitles:!0,enableIndexAsLabel:!1,enableKeyScroll:!0,enableLinkIcon:!0,enableNonPagedVisibilityIcon:!0,enableSpaceScroll:!1,enableToolbar:!0,enableZoomControls:"buttons",fillParentHeight:!0,fixedPadding:10,fixedHeightGrid:!0,goDirectlyTo:0,hashParamSuffix:null,imageCrossOrigin:"anonymous",inFullscreen:!1,inBookLayout:!1,inGrid:!1,maxPagesPerRow:8,maxZoomLevel:-1,minPagesPerRow:2,minZoomLevel:0,onGotoSubmit:null,pageAliases:{},pageAliasFunction:function(){return!1},pageLoadTimeout:200,pagesPerRow:5,requestHeaders:{Accept:"application/json"},showNonPagedPages:!1,throbberTimeout:100,tileHeight:256,tileWidth:256,toolbarParentObject:null,verticallyOriented:!0,viewportMargin:200,zoomLevel:2},t);const n=i("div",{class:"diva-wrapper"+(this.options.fillParentHeight?" diva-wrapper-flexbox":"")});this.element.appendChild(n),this.options.toolbarParentObject=this.options.toolbarParentObject||n;const r=new J(n,this.options,this);this.viewerState=r.getInternalState(),this.settings=r.getSettings(),this.toolbar=this.settings.enableToolbar?new ce(this):null,n.id=this.settings.ID+"wrapper",this.divaState={viewerCore:r,toolbar:this.toolbar};let s=u.Events.subscribe("ObjectDidLoad",()=>{null!==this.toolbar&&this.toolbar.render(),u.Events.unsubscribe(s)});this.hashState=this._getHashParamState(),this._loadOrFetchObjectData()}_loadOrFetchObjectData(){if("object"==typeof this.settings.objectData)setTimeout(()=>{this._loadObjectData(this.settings.objectData,this.hashState)},0);else{const e=fetch(this.settings.objectData,{headers:this.settings.requestHeaders}).then(e=>{if(!e.ok){u.Events.publish("ManifestFetchError",[e],this),this._ajaxError(e);let t=new Error(e.statusText);throw t.response=e,t}return e.json()}).then(e=>{this._loadObjectData(e,this.hashState)});this.divaState.viewerCore.setPendingManifestRequest(e)}}_showError(e){this.divaState.viewerCore.showError(e)}_ajaxError(e){const t=["Invalid objectData setting. Error code: "+e.status+" "+e.statusText];if(0===this.settings.objectData.lastIndexOf("http",0)){const e=this.settings.objectData.replace(/https?:\/\//i,"").split(/[/?#]/)[0];window.location.hostname!==e&&t.push(i("p","Attempted to access cross-origin data without CORS."),i("p","You may need to update your server configuration to support CORS. For help, see the ",i("a",{href:"https://github.com/DDMAL/diva.js/wiki/Installation#a-note-about-cross-site-requests",target:"_blank"},"cross-site request documentation.")))}this._showError(t)}_loadObjectData(e,t){let n;if(!e.hasOwnProperty("@context")&&(-1===e["@context"].indexOf("iiif")||-1===e["@context"].indexOf("shared-canvas")))throw new c("This does not appear to be a IIIF Manifest.");u.Events.publish("ManifestDidLoad",[e],this),n=oe.fromIIIF(e);const i=t?this._getLoadOptionsForState(t,n):{};this.divaState.viewerCore.setManifest(n,i)}_getHashParamState(){const e={};return["f","v","z","n","i","p","y","x"].forEach(t=>{const n=le.get(t+this.settings.hashParamSuffix);!1!==n&&(e[t]=n)}),"true"===e.f?e.f=!0:"false"===e.f&&(e.f=!1),["z","n","p","x","y"].forEach(t=>{t in e&&(e[t]=parseInt(e[t],10))}),e}_getLoadOptionsForState(e,t){t=t||this.settings.manifest;const n="v"in e?this._getViewState(e.v):{};"f"in e&&(n.inFullscreen=e.f),"z"in e&&(n.zoomLevel=e.z),"n"in e&&(n.pagesPerRow=e.n);let i=this._getPageIndexForManifest(t,e.i);if(i>=0&&i<t.pages.length||(i=e.p-1,i>=0&&i<t.pages.length||(i=null)),null!==i){const t=parseInt(e.x,10),r=parseInt(e.y,10);n.goDirectlyTo=i,n.horizontalOffset=t,n.verticalOffset=r}return n}_getViewState(e){switch(e){case"d":return{inGrid:!1,inBookLayout:!1};case"b":return{inGrid:!1,inBookLayout:!0};case"g":return{inGrid:!0,inBookLayout:!1};default:return{}}}_getPageIndexForManifest(e,t){let n;const i=e.pages.length;for(n=0;n<i;n++)if(e.pages[n].f===t)return n;return-1}_getState(){let e;e=this.settings.inGrid?"g":this.settings.inBookLayout?"b":"d";const t=this.divaState.viewerCore.getCurrentLayout().getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);return{f:this.settings.inFullscreen,v:e,z:this.settings.zoomLevel,n:this.settings.pagesPerRow,i:!!this.settings.enableFilename&&this.settings.manifest.pages[this.settings.activePageIndex].f,p:!this.settings.enableFilename&&this.settings.activePageIndex+1,y:!!t&&t.y,x:!!t&&t.x}}_getURLHash(){const e=this._getState(),t=[];let n;for(n in e)!1!==e[n]&&t.push(n+this.settings.hashParamSuffix+"="+encodeURIComponent(e[n]));return t.join("&")}_getPageIndex(e){return this._getPageIndexForManifest(this.settings.manifest,e)}_checkLoaded(){return!!this.viewerState.loaded||(console.warn("The viewer is not completely initialized. This is likely because it is still downloading data. To fix this, only call this function if the isReady() method returns true."),!1)}_toggleFullscreen(){let e;this._reloadViewer({inFullscreen:!this.settings.inFullscreen});let t=!1,n=document.getElementById(this.settings.selector+"tools");function i(){n.style.opacity=1,clearTimeout(e),!t&&this.settings.inFullscreen&&(e=setTimeout((function(){n.style.opacity=0}),2e3))}this.settings.inFullscreen?(n.classList.add("diva-fullscreen-tools"),document.addEventListener("mousemove",i.bind(this)),document.getElementsByClassName("diva-viewport")[0].addEventListener("scroll",i.bind(this)),n.addEventListener("mouseenter",(function(){t=!0})),n.addEventListener("mouseleave",(function(){t=!1}))):n.classList.remove("diva-fullscreen-tools")}_togglePageLayoutOrientation(){const e=!this.settings.verticallyOriented;return this._reloadViewer({inGrid:!1,verticallyOriented:e,goDirectlyTo:this.settings.activePageIndex,verticalOffset:this.divaState.viewerCore.getYOffset(),horizontalOffset:this.divaState.viewerCore.getXOffset()}),e}_changeView(e){switch(e){case"document":return this._reloadViewer({inGrid:!1,inBookLayout:!1});case"book":return this._reloadViewer({inGrid:!1,inBookLayout:!0});case"grid":return this._reloadViewer({inGrid:!0});default:return!1}}_gotoPageByIndex(e,t,n){let i=parseInt(e,10);if(this._isPageIndexValid(i)){const e=this.divaState.viewerCore.getXOffset(i,t),r=this.divaState.viewerCore.getYOffset(i,n);return this.viewerState.renderer.goto(i,r,e),!0}return!1}_isPageIndexValid(e){return this.settings.manifest.isPageValid(e,this.settings.showNonPagedPages)}_getPageIndexForPageXYValues(e,t){const n=this.viewerState.outerElement.getBoundingClientRect(),i=n.top,r=n.left,s=n.bottom,o=n.right;if(e<r||e>o)return-1;if(t<i||t>s)return-1;const a=document.getElementsByClassName("diva-page");let c=a.length;for(;c--;){const n=a[c],i=n.getBoundingClientRect();if(!(e<i.left||e>i.right)&&!(t<i.top||t>i.bottom))return n.getAttribute("data-index")}return-1}_reloadViewer(e){return this.divaState.viewerCore.reload(e)}_getCurrentURL(){return location.protocol+"//"+location.host+location.pathname+location.search+"#"+this._getURLHash()}activate(){this.viewerState.isActiveDiva=!0}changeObject(e){this.viewerState.loaded=!1,this.divaState.viewerCore.clear(),this.viewerState.renderer&&this.viewerState.renderer.destroy(),this.viewerState.options.objectData=e,this._loadOrFetchObjectData()}changeView(e){this._changeView(e)}deactivate(){this.viewerState.isActiveDiva=!1}destroy(){this.divaState.viewerCore.destroy()}disableScrollable(){this.divaState.viewerCore.disableScrollable()}enableScrollable(){this.divaState.viewerCore.enableScrollable()}disableDragScrollable(){this.divaState.viewerCore.disableDragScrollable()}enableDragScrollable(){this.divaState.viewerCore.enableDragScrollable()}enterFullscreenMode(){return!this.settings.inFullscreen&&(this._toggleFullscreen(),!0)}enterGridView(){return!this.settings.inGrid&&(this._changeView("grid"),!0)}getAllPageURIs(){return this.settings.manifest.pages.map(e=>e.f)}getCurrentCanvas(){return this.settings.manifest.pages[this.settings.activePageIndex].canvas}getCurrentPageDimensionsAtCurrentZoomLevel(){return this.getPageDimensionsAtCurrentZoomLevel(this.settings.activePageIndex)}getCurrentPageFilename(){return console.warn("This method will be deprecated in the next version of Diva. Please use getCurrentPageURI instead."),this.settings.manifest.pages[this.settings.activePageIndex].f}getCurrentPageIndices(){return this.settings.currentPageIndices}getActivePageIndex(){return this.settings.activePageIndex}getCurrentPageOffset(){return this.getPageOffset(this.settings.activePageIndex)}getCurrentPageURI(){return this.settings.manifest.pages[this.settings.activePageIndex].f}getCurrentURL(){return this._getCurrentURL()}getFilenames(){return console.warn("This will be removed in the next version of Diva. Use getAllPageURIs instead."),this.settings.manifest.pages.map(e=>e.f)}getGridPagesPerRow(){return this.settings.pagesPerRow}getInstanceId(){return this.settings.ID}getInstanceSelector(){return this.divaState.viewerCore.selector}getItemTitle(){return this.settings.manifest.itemTitle}getMaxZoomLevel(){return this.settings.maxZoomLevel}getMaxZoomLevelForPage(e){return!!this._checkLoaded()&&this.settings.manifest.pages[e].m}getMinZoomLevel(){return this.settings.minZoomLevel}getNumberOfPages(){return!!this._checkLoaded()&&this.settings.numPages}getOtherImages(e){return this.settings.manifest.pages[e].otherImages}getPageDimensions(e){return this._checkLoaded()?this.divaState.viewerCore.getCurrentLayout().getPageDimensions(e):null}getPageDimensionsAtCurrentZoomLevel(e){let t=parseInt(e,10);if(!this._isPageIndexValid(t))throw new Error("Invalid Page Index");return this.divaState.viewerCore.getCurrentLayout().getPageDimensions(t)}getPageDimensionsAtZoomLevel(e,t){if(!this._checkLoaded())return!1;t>this.settings.maxZoomLevel&&(t=this.settings.maxZoomLevel);const n=this.settings.manifest.pages[parseInt(e,10)].d[parseInt(t,10)];return{width:n.w,height:n.h}}getPageImageURL(e,t){return this.settings.manifest.getPageImageURL(e,t)}getPageIndexForPageXYValues(e,t){return this._getPageIndexForPageXYValues(e,t)}getPageOffset(e,t){const n=this.divaState.viewerCore.getPageRegion(e,t);return{top:n.top,left:n.left}}getSettings(){return this.settings}getState(){return this._getState()}getZoomLevel(){return this.settings.zoomLevel}gotoPageByIndex(e,t,n){return this._gotoPageByIndex(e,t,n)}gotoPageByLabel(e,t,n){const i=this.settings.manifest.pages;let r=e.toLowerCase();for(let e=0,s=i.length;e<s;e++)if(i[e].l.toLowerCase().indexOf(r)>-1)return this._gotoPageByIndex(e,t,n);const s=parseInt(e,10)-1;return this._gotoPageByIndex(s,t,n)}gotoPageByName(e,t,n){console.warn("This method will be removed in the next version of Diva.js. Use gotoPageByURI instead.");const i=this._getPageIndex(e);return this._gotoPageByIndex(i,t,n)}gotoPageByURI(e,t,n){const i=this._getPageIndex(e);return this._gotoPageByIndex(i,t,n)}hasOtherImages(e){return!0===this.settings.manifest.pages[e].otherImages}hideNonPagedPages(){this._reloadViewer({showNonPagedPages:!1})}isInFullscreen(){return this.settings.inFullscreen}isPageIndexValid(e){return this._isPageIndexValid(e)}isPageInViewport(e){return this.viewerState.renderer.isPageVisible(e)}isReady(){return this.viewerState.loaded}isRegionInViewport(e,t,n,i,r){const s=this.divaState.viewerCore.getCurrentLayout();if(!s)return!1;const o=s.getPageOffset(e),a=o.top+n,c=o.left+t;return this.viewerState.viewport.intersectsRegion({top:a,bottom:a+r,left:c,right:c+i})}isVerticallyOriented(){return this.settings.verticallyOriented}leaveFullscreenMode(){return!!this.settings.inFullscreen&&(this._toggleFullscreen(),!0)}leaveGridView(){return!!this.settings.inGrid&&(this._reloadViewer({inGrid:!1}),!0)}setGridPagesPerRow(e){return!!this.divaState.viewerCore.isValidOption("pagesPerRow",e)&&this._reloadViewer({inGrid:!0,pagesPerRow:e})}setState(e){this._reloadViewer(this._getLoadOptionsForState(e))}setZoomLevel(e){return this.settings.inGrid&&this._reloadViewer({inGrid:!1}),this.divaState.viewerCore.zoom(e)}showNonPagedPages(){this._reloadViewer({showNonPagedPages:!0})}toggleFullscreenMode(){this._toggleFullscreen()}toggleNonPagedPagesVisibility(){this._reloadViewer({showNonPagedPages:!this.settings.showNonPagedPages})}toggleOrientation(){return this._togglePageLayoutOrientation()}translateFromMaxZoomLevel(e){const t=this.settings.maxZoomLevel-this.settings.zoomLevel;return e/Math.pow(2,t)}translateToMaxZoomLevel(e){const t=this.settings.maxZoomLevel-this.settings.zoomLevel;return 0===t?e:e*Math.pow(2,t)}zoomIn(){return this.setZoomLevel(this.settings.zoomLevel+1)}zoomOut(){return this.setZoomLevel(this.settings.zoomLevel-1)}}de.Events=u.Events;var he;t.default=de;"undefined"!=typeof window&&((he=window).Diva=he.Diva||de)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ltbWVkaWF0ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL05vdGlmaWNhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTG9jYWxTZXR0aW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvU2VsZWN0VG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyZ3NhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L0NvbnRlbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Nb2RhbFdpbmRvdy50cyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db29yZGluYXRlcy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3BhcmstbWQ1L3NwYXJrLW1kNS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvcmFuZG9tLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db2xvci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbnNjaGVtYS9saWIvaGVscGVycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnV2dXplbGEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRHJhZ0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvR3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0Vycm9yTG9nLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9SZXNpemUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvdWNoZGIvbGliL2luZGV4LWJyb3dzZXIuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2xvZGFzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdmtiZWF1dGlmeS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL0Rhc2hib2FyZENvbnRlbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1dhcm5pbmdzLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L1N0YWZmVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvTmV1bWVUb29scy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9xdWV1ZU1pY3JvdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tdXRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tZXNzYWdlQ2hhbm5lbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9zdGF0ZUNoYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi90aW1lb3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uc2NoZW1hL2xpYi9zY2FuLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9TZWxlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0NvbnZlcnRNZWkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1ZhbGlkYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1Vuc2F2ZWQudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvQ29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvSW5zZXJ0SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRWRpdENvbnRlbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FZGl0Q29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vZGVwbG95bWVudC9zY3JpcHRzL2VkaXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTmVvblZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL05lb25Db3JlLnRzIiwid2VicGFjazovLy8uL3NyYy9WZXJvdmlvV3JhcHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTmVvbk1hbmlmZXN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uc2NoZW1hL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbnNjaGVtYS9saWIvdmFsaWRhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzb25zY2hlbWEvbGliL2F0dHJpYnV0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdGVtcGxhdGUvVGVtcGxhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0RlYnVnTW9kZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGlzcGxheVBhbmVsL0Rpc3BsYXlQYW5lbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGl2YVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL3ZhbmlsbGEua2luZXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdXRpbHMvZHJhZ3Njcm9sbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9TaW5nbGVWaWV3L1NpbmdsZVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NpbmdsZVZpZXcvWm9vbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9EaXZhRWRpdE1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvU2luZ2xlRWRpdE1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0luZm9Nb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RleHRWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9UZXh0RWRpdE1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2VsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZXhjZXB0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZGl2YS1nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZ2VzdHVyZS1ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhZ2UtdG9vbHMtb3ZlcmxheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZG9jdW1lbnQtaGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZ3JpZC1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLW92ZXJsYXktbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdGlsZS1jb3ZlcmFnZS1tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2NvbXBvc2l0ZS1pbWFnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZG9jdW1lbnQtbGF5b3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9pbWFnZS1jYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvaW1hZ2UtcmVxdWVzdC1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9pbnRlcnBvbGF0ZS1hbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLWxheW91dHMvcGFnZS1kaW1lbnNpb25zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLWxheW91dHMvYm9vay1sYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhZ2UtbGF5b3V0cy9ncmlkLWxheW91dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvcGFnZS1sYXlvdXRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLWxheW91dHMvc2luZ2xlcy1sYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3NldHRpbmdzLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3ZhbGlkYXRpb24tcnVubmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy92aWV3cG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdmlld2VyLWNvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2dldC1zY3JvbGxiYXItd2lkdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL3BhcnNlLWxhYmVsLXZhbHVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYXJzZS1paWlmLW1hbmlmZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9paWlmLXNvdXJjZS1hZGFwdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9pbWFnZS1tYW5pZmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdG9vbGJhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdXRpbHMvaGFzaC1wYXJhbXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2RpdmEuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJSZWZsZWN0T3duS2V5cyIsIlIiLCJSZWZsZWN0IiwiUmVmbGVjdEFwcGx5IiwiYXBwbHkiLCJ0YXJnZXQiLCJyZWNlaXZlciIsImFyZ3MiLCJGdW5jdGlvbiIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uY2F0IiwiTnVtYmVySXNOYU4iLCJOdW1iZXIiLCJpc05hTiIsIkV2ZW50RW1pdHRlciIsImluaXQiLCJ0aGlzIiwib25jZSIsImVtaXR0ZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImVycm9yTGlzdGVuZXIiLCJlcnIiLCJyZW1vdmVMaXN0ZW5lciIsInJlc29sdmVyIiwic2xpY2UiLCJhcmd1bWVudHMiLCJldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIiLCJoYW5kbGVyIiwiZmxhZ3MiLCJvbiIsImFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyIiwiX2V2ZW50cyIsInVuZGVmaW5lZCIsIl9ldmVudHNDb3VudCIsIl9tYXhMaXN0ZW5lcnMiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwiY2hlY2tMaXN0ZW5lciIsImxpc3RlbmVyIiwiVHlwZUVycm9yIiwiX2dldE1heExpc3RlbmVycyIsInRoYXQiLCJfYWRkTGlzdGVuZXIiLCJ0eXBlIiwicHJlcGVuZCIsImV2ZW50cyIsImV4aXN0aW5nIiwid2FybmluZyIsIm5ld0xpc3RlbmVyIiwiZW1pdCIsInVuc2hpZnQiLCJwdXNoIiwibGVuZ3RoIiwid2FybmVkIiwidyIsIkVycm9yIiwiU3RyaW5nIiwiY291bnQiLCJjb25zb2xlIiwid2FybiIsIm9uY2VXcmFwcGVyIiwiZmlyZWQiLCJ3cmFwRm4iLCJfb25jZVdyYXAiLCJzdGF0ZSIsIndyYXBwZWQiLCJfbGlzdGVuZXJzIiwidW53cmFwIiwiZXZsaXN0ZW5lciIsImFyciIsInJldCIsIkFycmF5IiwidW53cmFwTGlzdGVuZXJzIiwiYXJyYXlDbG9uZSIsImxpc3RlbmVyQ291bnQiLCJjb3B5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndyYXBMaXN0ZW5lciIsImFyZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXQiLCJSYW5nZUVycm9yIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRNYXhMaXN0ZW5lcnMiLCJnZXRNYXhMaXN0ZW5lcnMiLCJkb0Vycm9yIiwiZXJyb3IiLCJlciIsIm1lc3NhZ2UiLCJjb250ZXh0IiwibGVuIiwibGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdCIsInBvc2l0aW9uIiwib3JpZ2luYWxMaXN0ZW5lciIsInNoaWZ0IiwiaW5kZXgiLCJwb3AiLCJzcGxpY2VPbmUiLCJvZmYiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJrZXlzIiwicmF3TGlzdGVuZXJzIiwiZXZlbnROYW1lcyIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJjb25zdHJ1Y3RvciIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiVGVtcEN0b3IiLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInNjaGVkdWxlRHJhaW4iLCJ0eXBlcyIsInF1ZXVlSW5kZXgiLCJxdWV1ZSIsInNjaGVkdWxlZCIsImNsZWFuVXBOZXh0VGljayIsIm5leHRUaWNrIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJydW4iLCJjbGVhclRpbWVvdXQiLCJ0ZXN0IiwiaW5zdGFsbCIsIkl0ZW0iLCJmdW4iLCJhcnJheSIsInRhc2siLCJub3RpZmljYXRpb25zIiwiY3VycmVudE1vZGVNZXNzYWdlIiwibm90aWZpY2F0aW9uSWNvbiIsImRlZmF1bHQiLCJzdWNjZXNzIiwiTm90aWZpY2F0aW9uIiwibG9nSW5mbyIsImRpc3BsYXllZCIsImlkIiwidXVpZHY0IiwiaXNNb2RlTWVzc2FnZSIsInNlYXJjaCIsInRpbWVvdXRJRCIsIk1hdGgiLCJtYXgiLCJjbGVhck5vdGlmaWNhdGlvbiIsImN1cnJlbnRJZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJyZW1vdmUiLCJzdGFydE5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbiIsIndpbmRvdyIsImdldElkIiwibm90aWZpY2F0aW9uQ29udGVudCIsIm5ld05vdGlmaWNhdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJhcHBlbmQiLCJzdHlsZSIsImRpc3BsYXkiLCJkaXNwbGF5Tm90aWZpY2F0aW9uIiwic2V0VGltZW91dElkIiwicXVldWVOb3RpZmljYXRpb24iLCJyZWNvcmROb3RpZmljYXRpb24iLCJsb2NhbFNldHRpbmdzIiwiREVGQVVMVF9TRVRUSU5HUyIsInpvb20iLCJnbHlwaE9wYWNpdHkiLCJpbWFnZU9wYWNpdHkiLCJjaXJjbGVTaXplIiwiaGlnaGxpZ2h0TW9kZSIsInVzZXJNb2RlIiwiaW5zZXJ0TW9kZSIsImluc2VydFRhYiIsInNlbGVjdGlvbk1vZGUiLCJkZWJ1Z01vZGUiLCJkaXNwbGF5QkJveCIsImRpc3BsYXlUZXh0IiwiZGlzcGxheUluZm8iLCJkaXNwbGF5RXJyTG9nIiwidmlld0JveCIsInNldHRpbmdzIiwicGFyYW1zIiwiZm9saW9JZCIsImxvYWQiLCJzdG9yZWQiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3luYyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJnZXRTZWxlY3Rpb25UeXBlIiwiZWxlbWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJ1bnNlbGVjdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwic2VsZWN0ZWQiLCJjb250YWlucyIsInJlbW92ZUF0dHJpYnV0ZSIsIkNvbG9yIiwidW5oaWdobGlnaHQiLCJmaWxsIiwiZnJvbSIsImRpdkxpbmUiLCJzdHJva2UiLCJzZXRBdHRyaWJ1dGUiLCJuZXVtZSIsInN5bFJlY3QiLCJwYXJlbnRFbGVtZW50IiwiZDMiLCJzZWxlY3RBbGwiLCJlbCIsImNvbG9yIiwiZm9udFdlaWdodCIsIlNlbGVjdE9wdGlvbnMiLCJlbmRPcHRpb25zU2VsZWN0aW9uIiwiR3JvdXBpbmciLCJlbmRHcm91cGluZ1NlbGVjdGlvbiIsInVwZGF0ZUhpZ2hsaWdodCIsInNlbGVjdFN0YWZmIiwic3RhZmYiLCJkcmFnSGFuZGxlciIsImhpZ2hsaWdodCIsInRyaWdnZXJTaW5nbGVTdGFmZkFjdGlvbnMiLCJpbml0R3JvdXBpbmdMaXN0ZW5lcnMiLCJkcmFnSW5pdCIsInNlbGVjdExheWVyRWxlbWVudCIsImxheWVyRWxlbWVudCIsInNlbGVjdCIsIm5lZWRzSGlnaGxpZ2h0VXBkYXRlIiwic3lsSWQiLCJlbGVtIiwiY2xvc2VzdCIsInNwYW4iLCJhc3luYyIsImlzTGlnYXR1cmUiLCJuYyIsIm5lb25WaWV3IiwiYXR0cmlidXRlcyIsImdldEVsZW1lbnRBdHRyIiwidmlldyIsImdldEN1cnJlbnRQYWdlVVJJIiwiQm9vbGVhbiIsImxpZ2F0ZWQiLCJlbGVtZW50c0hhdmVDb3JyZWN0VHlwZSIsInNlbGVjdGlvblR5cGUiLCJlbGVtZW50cyIsInNoYXJlZFNlY29uZExldmVsUGFyZW50IiwidGVtcEVsZW1lbnRzIiwic2Vjb25kUGFyZW50Iiwic2VsZWN0QkJveCIsImJib3giLCJzeWwiLCJyZXNpemUiLCJxdWVyeVNlbGVjdG9yIiwidHJpZ2dlckJCb3hBY3Rpb25zIiwicGFyZW50IiwicHJldk5jIiwicHJldmlvdXNTaWJsaW5nIiwibmV4dE5jIiwibmV4dFNpYmxpbmciLCJ0cmlnZ2VyR3JvdXBpbmciLCJ0cmlnZ2VyTmNBY3Rpb25zIiwiYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUiLCJzb3J0ZWRFbGVtZW50cyIsImoiLCJpc1NhbWVOb2RlIiwiZmlyc3RFbGVtIiwic2Vjb25kRWxlbSIsImluZGV4MSIsImluZGV4T2YiLCJpbmRleDIiLCJhYnMiLCJmaWx0ZXIiLCJyZWZlcmVuY2VQYXJlbnRTdGFmZiIsInJlZmVyZW5jZVBhcmVudFN5bGxhYmxlIiwiZWxlbWVudHNBcnJheSIsImFub3RoZXJTdGFmZiIsInVseCIsInVseSIsImxyeCIsImxyeSIsInJvdGF0ZSIsInBhdGgiLCJjb29yZGluYXRlcyIsImdldEF0dHJpYnV0ZSIsIm1hdGNoIiwibWFwIiwiYXRhbiIsIm1pbiIsIm5vdE5ldW1lcyIsIm5uIiwic2VsZWN0aW9uQ2xhc3MiLCJjb250YWluc0xheWVyRWxlbWVudHMiLCJjb250YWluc05jIiwiZ3JvdXBzVG9TZWxlY3QiLCJTZXQiLCJncm91cGluZyIsImZvbGxvd3MiLCJwcmVjZWRlcyIsImhhcyIsImdyb3VwIiwiZ3JvdXBzIiwidmFsdWVzIiwidHJpZ2dlck11bHRpU3RhZmZBY3Rpb25zIiwic2l6ZSIsInRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zIiwidHJpZ2dlckRlZmF1bHRBY3Rpb25zIiwidHJpZ2dlclN5bGxhYmxlQWN0aW9ucyIsImFkZEFkZFN5bExpc3RlbmVyIiwiaXNMaW5rYWJsZSIsImlzR3JvdXBhYmxlIiwidHJpZ2dlck5ldW1lQWN0aW9ucyIsImNoaWxkcmVuIiwiZmlyc3ROQyIsInNlY29uZE5DIiwiZmlyc3ROQ1giLCJ4IiwiYmFzZVZhbCIsInNlY29uZE5DWCIsImZpcnN0TkNZIiwieSIsInNlY29uZE5DWSIsImciLCJ0cmlnZ2VyRGVmYXVsdFN5bEFjdGlvbnMiLCJpbnNlcnRUYWJIdG1sIiwicHJpbWl0aXZlVGFiIiwiZ3JvdXBpbmdUYWIiLCJzeXN0ZW1UYWIiLCJpbnNlcnRDb250cm9sc1BhbmVsIiwiZWRpdENvbnRyb2xzUGFuZWwiLCJuY0FjdGlvbkNvbnRlbnRzIiwiZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMiLCJuZXVtZUFjdGlvbkNvbnRlbnRzIiwiZGVmYXVsdEFjdGlvbkNvbnRlbnRzIiwiZGVmYXVsdFN5bEFjdGlvbkNvbnRlbnRzIiwiY3VzdG9zQWN0aW9uQ29udGVudHMiLCJsYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cyIsImxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHMiLCJhY2NpZEFjdGlvbkNvbnRlbnRzIiwic3RhZmZTcGxpdEFjdGlvbkNvbnRlbnRzIiwic3RhZmZNZXJnZUFjdGlvbkNvbnRlbnRzIiwiY29sdW1uQWN0aW9uQ29udGVudHMiLCJjbGVmQWN0aW9uQ29udGVudHMiLCJkaXZMaW5lQWN0aW9uQ29udGVudHMiLCJiYm94QWN0aW9uQ29udGVudHMiLCJncm91cGluZ01lbnUiLCJsaWdhdHVyZU5jIiwibGlnYXR1cmUiLCJzcGxpdFN5bGxhYmxlIiwiYWRkVGV4dE1vZGFsIiwiZWRpdFRleHRNb2RhbCIsImhvdGtleXNNb2RhbCIsInN5bGxhYmxlQWN0aW9uc0NvbnRlbnQiLCJlcnJvckxvZ3NQYW5lbENvbnRlbnRzIiwiTW9kYWxXaW5kb3dWaWV3IiwiTW9kYWxXaW5kb3dTdGF0ZSIsIm9wZW5BZGRTeWxUZXh0TW9kYWxXaW5kb3ciLCJoaWRlTW9kYWxXaW5kb3ciLCJhZGRTeWxUZXh0IiwiZm9jdXNNb2RhbFdpbmRvdyIsIm9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93IiwidXBkYXRlU3lsVGV4dCIsImVkaXRvckFjdGlvbiIsImFjdGlvbiIsInBhcmFtIiwiZWxlbWVudElkIiwic3lsVGV4dCIsImVkaXQiLCJ0aGVuIiwicmVzcG9uc2UiLCJ1cGRhdGVGb3JDdXJyZW50UGFnZSIsIm9yaWciLCJ0ZXh0Q29udGVudCIsInJlcGxhY2UiLCJ0cmltIiwidXBkYXRlZFN5bFRleHQiLCJlbnRyaWVzIiwiY2xhc3NOYW1lIiwidGV4dCIsInVwZGF0ZVNlbGVjdGVkQkJveCIsImtleWRvd25MaXN0ZW5lciIsImUiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJtb2RhbFdpbmRvd1ZpZXciLCJBRERfVEVYVCIsIkVESVRfVEVYVCIsIkRPQ1VNRU5UX1VQTE9BRCIsIk5FV19GT0xERVIiLCJSRU5BTUUiLCJmb2N1cyIsIm1vZGFsV2luZG93U3RhdGUiLCJDTE9TRUQiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwiY29udGVudCIsInNldE1vZGFsV2luZG93Q29udGVudCIsInRvU3RyaW5nIiwiSE9US0VZUyIsIk1PVkVfVE8iLCJib2R5Iiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwiT1BFTiIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiY29udGFpbmVyIiwidGl0bGUiLCJpbm5lclRleHQiLCJyZW1vdmVTeW1ib2wiLCJFUlJPUl9MT0ciLCJlbmNvZGVVUkkiLCJ1cGxvYWRBcmVhSFRNTCIsIm5ld0ZvbGRlckhUTUwiLCJyZW5hbWVIVE1MIiwiYmJveElkIiwiZmluZCIsImNoZWNrZWQiLCJkaXNwbGF5UmVjdCIsImJ5dGVUb0hleCIsInN1YnN0ciIsIm9mZnNldCIsInV1aWQiLCJ0b0xvd2VyQ2FzZSIsImxhc3RHbHlwaE9wYWNpdHkiLCJsYXN0SW1hZ2VPcGFjaXR5IiwibGFzdENpcmNsZVNpemUiLCJzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyIiwibWVpQ2xhc3NOYW1lIiwib3BhY2l0eU91dHB1dCIsInNldFNldHRpbmdzIiwiaGlkZUdseXBoSW1nIiwib3BhY2l0eSIsInNldEJnT3BhY2l0eUZyb21TbGlkZXIiLCJiYWNrZ3JvdW5kIiwiYmdPcGFjaXR5T3V0cHV0IiwiaGlkZUJnSW1nIiwiYmciLCJ1cGRhdGVIaWdobGlnaHRPcHRpb24iLCJvcHRpb24iLCJkcm9wZG93biIsImhpZ2hsaWdodFR5cGUiLCJ1bnNldEdyb3VwaW5nSGlnaGxpZ2h0IiwidG9VcHBlckNhc2UiLCJzZXRHcm91cGluZ0hpZ2hsaWdodCIsInNldEhpZ2hsaWdodE9wdGlvbiIsImhpZ2hsaWdodENsaWNrYXdheSIsInNldEhpZ2hsaWdodENvbnRyb2xzIiwiZXZ0Iiwic3RvcFByb3BhZ2F0aW9uIiwidG9nZ2xlIiwibG9hZEhpZ2hsaWdodFNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJ6b29tSGFuZGxlciIsInpvb21TbGlkZXIiLCJ6b29tT3V0cHV0Iiwiem9vbVRvIiwicmVzZXRab29tQW5kUGFuIiwiZGlzYWJsZWQiLCJjdXJyZW50Wm9vbSIsInBhcnNlSW50IiwicHJldmVudERlZmF1bHQiLCJuZXdab29tIiwiY2lyY2xlU2xpZGVyIiwiY2lyY2xlT3V0cHV0IiwiY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlciIsInJlc2l6ZVBvaW50cyIsImVtcHR5IiwiYXR0ciIsImhpZ2hsaWdodFNlbGVjdGlvbiIsImhpZ2hsaWdodElkIiwiZGlzcGxheUFsbEJ0biIsImRpc3BsYXlCQm94ZXMiLCJvcGFjaXR5U2xpZGVyIiwiaW5wdXRDaGFuZ2VPcGFjaXR5IiwidG9nZ2xlT3BhY2l0eUJ0biIsIm5ld09wYWNpdHkiLCJyb3VuZCIsInNldEdseXBoT3BhY2l0eUNvbnRyb2xzIiwiYmdPcGFjaXR5U2xpZGVyIiwiYmdJbnB1dENoYW5nZUhhbmRsZXIiLCJ0b2dnbGVCZ09wYWNpdHlCdG4iLCJzZXRCZ09wYWNpdHlDb250cm9scyIsIm1ldGFLZXkiLCJzZWxlY3RBbGxCdG4iLCJvcHRpb25zIiwiY2xpY2siLCJzZXREaXNwbGF5QWxsTGlzdGVuZXIiLCJkaXNwbGF5Q29udGVudHMiLCJ0b2dnbGVEaXNwbGF5IiwicGFkZGluZyIsIm92ZXJmbG93IiwidW5zZXRJbmNsaW5hdHVtQWN0aW9uIiwiYXR0clR5cGUiLCJhdHRyVmFsdWUiLCJ1bnNldFZpcmdhQWN0aW9uIiwidW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbiIsImN1cnZlIiwiZGVsZXRlQnV0dG9uSGFuZGxlciIsInJlbW92ZUhhbmRsZXIiLCJtb3JlRWRpdCIsImV4dHJhRWRpdCIsImNvbnRhaW5zTGlua2VkIiwidG9SZW1vdmUiLCJjaGFpbkFjdGlvbiIsImNoYW5nZVN0YWZmSGFuZGxlciIsInRvQ2hhbmdlIiwiaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIiLCJ0b0luc2VydCIsInJlc3VsdCIsIm1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyIiwidG9Nb3ZlIiwibWF0Y2hIZWlnaHRIYW5kbGVyIiwib3BlbkFkZFN5bFdpbmRvdyIsIm1vZGFsV2luZG93IiwibW9kYWwiLCJzZXRNb2RhbFdpbmRvd1ZpZXciLCJvcGVuTW9kYWxXaW5kb3ciLCJhZGREZWxldGVMaXN0ZW5lciIsImRlbCIsImFkZENoYW5nZVN0YWZmTGlzdGVuZXIiLCJjaGFuZ2VTdGFmZiIsInVwZGF0ZUNvbHVtbkluZm8iLCJjb2xJbnB1dCIsInN0YXZlcyIsImNvbEluZm8iLCJoYXNDb2x1bW4iLCJqb2luIiwic3RhZmZDb2wiLCJhZGRDb2x1bW5JbmZvU3RlcEhhbmRsZXIiLCJkZWNyZW1lbnRCdXR0b24iLCJpbmNyZW1lbnRCdXR0b24iLCJjb25maXJtQnV0dG9uIiwidXBkYXRlTnVtYmVyIiwiY2hhbmdlIiwiY3VycmVudFZhbHVlIiwidG9TZXRDb2x1bW4iLCJzZXRFZGl0Q29udHJvbHMiLCJlZGl0VHlwZSIsImNvbnRlbnRzIiwicGFyc2VTaGFwZUNoYW5nZUFjdGlvbiIsInRyaWdnZXJTdGFmZlNwbGl0TW9kZSIsIlNwbGl0U3RhZmZIYW5kbGVyIiwic3RhcnRTcGxpdCIsImluaXRPcHRpb25zTGlzdGVuZXJzIiwiZHJvcCIsIm9wdGlvbnNDbGlja2F3YXkiLCJvdGhlciIsImluaXROZW9uVmlldyIsImFkZFN5bCIsIkNvbnRlbnRzIiwidW5zZXRJbmNsaW5hdHVtIiwidW5zZXRWaXJnYSIsInVuc2V0VmlyZ2FSZXZlcnNlZCIsInVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSIsInVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UiLCJzZXRJbmNsaW5hdHVtIiwic2V0VmlyZ2EiLCJzZXRWaXJnYVJldmVyc2VkIiwic2V0TGlxdWVzY2VudENsb2Nrd2lzZSIsInNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIiwidHJpZ2dlckNoYW5nZUdyb3VwIiwiY29udG91ciIsImNoYW5nZUdyb3VwaW5nQWN0aW9uIiwiU3BsaXROZXVtZUhhbmRsZXIiLCJpbmZvIiwiZ2V0Q29udG91ckJ5VmFsdWUiLCJleHRyYUFjdGlvbnNIVE1MIiwiYWNjaWRPcHRpb25zTGlzdGVuZXIiLCJpbmNyZW1lbnRPY3RhdmUiLCJkaXJlY3Rpb24iLCJzaGFwZSIsImNsZWZPcHRpb25zTGlzdGVuZXIiLCJkaXZMaW5lT3B0aW9uc0xpc3RlbmVyIiwibWVyZ2VTdGF2ZXMiLCJwb2ludHMiLCJnZXRTdGFmZkJCb3giLCJ5X2NoYW5nZSIsInRhbiIsImdldFNWR1JlbENvb3JkcyIsImNsaWVudFgiLCJjbGllbnRZIiwicHQiLCJET01Qb2ludCIsInBhZ2VNYXJnaW4iLCJtYXRyaXhUcmFuc2Zvcm0iLCJnZXRTY3JlZW5DVE0iLCJpbnZlcnNlIiwiZ2V0U3RhZmZJZEJ5Q29vcmRzIiwic3RhZmZCQm94ZXMiLCJzdGFmZklkIiwiYmdJbWciLCJyZWN0IiwidGFnTmFtZSIsImdldEJCb3giLCJwYXJlbnROb2RlIiwid2lkdGgiLCJoZWlnaHQiLCJoZXhfY2hyIiwibWQ1Y3ljbGUiLCJrIiwiYSIsImIiLCJtZDVibGsiLCJtZDVibGtzIiwiY2hhckNvZGVBdCIsIm1kNWJsa19hcnJheSIsIm1kNTEiLCJ0YWlsIiwidG1wIiwibG8iLCJoaSIsInN1YnN0cmluZyIsInJoZXgiLCJoZXgiLCJ0b1V0ZjgiLCJzdHIiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImhleFRvQmluYXJ5U3RyaW5nIiwiYnl0ZXMiLCJmcm9tQ2hhckNvZGUiLCJTcGFya01ENSIsInJlc2V0IiwiQXJyYXlCdWZmZXIiLCJjbGFtcCIsInZhbCIsInRvIiwibnVtIiwidGFyZ2V0QXJyYXkiLCJzb3VyY2VBcnJheSIsImJ5dGVMZW5ndGgiLCJiZWdpbiIsImVuZCIsIlVpbnQ4QXJyYXkiLCJhcHBlbmRCaW5hcnkiLCJfYnVmZiIsIl9sZW5ndGgiLCJfaGFzaCIsInJhdyIsImJ1ZmYiLCJfZmluaXNoIiwiZ2V0U3RhdGUiLCJoYXNoIiwic2V0U3RhdGUiLCJkZXN0cm95IiwiaGFzaEJpbmFyeSIsImZpcnN0Iiwic2Vjb25kIiwicmV0dXJuVUludDhBcnJheSIsImJ1ZmZlciIsInN1YmFycmF5IiwidXRmOFN0cjJBcnJheUJ1ZmZlciIsIm1kNTFfYXJyYXkiLCJmYWN0b3J5IiwidWludDhUb1V1aWQiLCJkYXRhIiwiY2IiLCJwcmV2aW91cyIsImN1cnJlbnQiLCJwYWRTdGFydCIsInJlZHVjZSIsImNyeXB0byIsIm9jdGV0cyIsIm1vZGlmaWVycyIsImdldFJhbmRvbVZhbHVlcyIsIkNvbG9yUGFsZXR0ZSIsInJlY3RzIiwidW5zZXRTdGFmZkhpZ2hsaWdodCIsImNoaWxkIiwiY2NoaWxkIiwic2V0U3RhZmZIaWdobGlnaHQiLCJzdGFmZkNvbG9yIiwiY29sdW1uTnVtIiwiY29sdW1uIiwic2V0Q29sdW1uSGlnaGxpZ2h0IiwiZ3JvdXBDb2xvciIsImRpdkxpbmVDaGlsZHJlbiIsInVyaSIsIlZhbGlkYXRpb25FcnJvciIsImluc3RhbmNlIiwic2NoZW1hIiwiYXJndW1lbnQiLCJpc0FycmF5Iiwic3VtIiwiaXRlbSIsIm1ha2VTdWZmaXgiLCIkaWQiLCJzdGFjayIsIlZhbGlkYXRvclJlc3VsdCIsImN0eCIsInByb3BlcnR5UGF0aCIsImVycm9ycyIsInRocm93RXJyb3IiLCJ0aHJvd0ZpcnN0IiwidGhyb3dBbGwiLCJkaXNhYmxlRm9ybWF0Iiwic3RyaW5naXplciIsInYiLCJWYWxpZGF0b3JSZXN1bHRFcnJvciIsImNhcHR1cmVTdGFja1RyYWNlIiwiYWRkRXJyb3IiLCJkZXRhaWwiLCJpbXBvcnRFcnJvcnMiLCJyZXMiLCJ2YWxpZGF0b3JUeXBlIiwiU2NoZW1hRXJyb3IiLCJtc2ciLCJTY2hlbWFDb250ZXh0IiwiYmFzZSIsInNjaGVtYXMiLCJtYWtlQ2hpbGQiLCJwcm9wZXJ0eU5hbWUiLCJGT1JNQVRfUkVHRVhQUyIsImlucHV0IiwicGFyc2VGbG9hdCIsIlJlZ0V4cCIsInJlZ2V4cCIsInJlZ2V4IiwicGF0dGVybiIsImlwdjQiLCJpc0Zvcm1hdCIsImZvcm1hdCIsInZhbGlkYXRvciIsImN1c3RvbUZvcm1hdHMiLCJkZWVwTWVyZ2VyIiwiZHN0IiwiZGVlcE1lcmdlIiwiY29weWlzdCIsInNyYyIsImNvcHlpc3RXaXRoRGVlcE1lcmdlIiwicGF0aEVuY29kZXIiLCJkZWVwQ29tcGFyZVN0cmljdCIsImV2ZXJ5IiwiYUtleXMiLCJiS2V5cyIsIm9iamVjdEdldFBhdGgiLCJwYXJ0cyIsInNwbGl0IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlUGF0aCIsImdldERlY2ltYWxQbGFjZXMiLCJudW1iZXIiLCJkZWNpbWFsUGxhY2VzIiwiZGVjaW1hbFBhcnRzIiwiaXNTY2hlbWEiLCJybmRzOCIsInJuZyIsIm1zQ3J5cHRvIiwib2JqIiwibWV0YVN0YWNrIiwibGFzdE1ldGFFbGVtZW50IiwibGFzdEVsZW1lbnRJbmRleCIsIm5leHQiLCJhcnJheVByZWZpeCIsIm9ialByZWZpeCIsInByZWZpeCIsImNvbGxhdGlvbkluZGV4IiwicGFyc2VkTnVtIiwibnVtQ2hhciIsInBhcnNlZFN0cmluZyIsImxhc3RDaCIsIm51bUNvbnNlY3V0aXZlU2xhc2hlcyIsImNoIiwiYXJyYXlFbGVtZW50Iiwib2JqRWxlbWVudCIsImJ1ZiIsInJuZHMiLCJyYW5kb20iLCJzZWxlY3RvciIsImRyYWdTdGFydENvb3JkcyIsImRyYWdCZWhhdmlvdXIiLCJkcmFnIiwiZXZlbnQiLCJkeCIsImR5Iiwic291cmNlRXZlbnQiLCJkcmFnZ2luZyIsImRyYWdFbmRlZCIsInNlbGVjdGlvbiIsIm5vTW92ZVByZWNlZGVzIiwiaGFzQXR0cmlidXRlIiwibW92ZUVsZW1lbnRzIiwiYmJveGVzIiwieERpZmYiLCJ5RGlmZiIsImlzQ3Vyc29yT3V0T2ZCb3VuZHMiLCJpc0RyYWdPdXRPZkJvdW5kcyIsInJldHVybkVsZW1lbnRzIiwicGFyYW1BcnJheSIsImRyYWdBY3Rpb24iLCJ0b1Jlc2VsZWN0IiwicmVzZWxlY3QiLCJyZXNlbGVjdGVkIiwicmVzZXRUb0FjdGlvbiIsImVuZFgiLCJlbmRZIiwiaXNPdXRPZlNWR0JvdW5kcyIsImdseXBoU2VsZWN0b3IiLCJzZWxlY3Rpb25CQm94IiwiYWNjIiwiZ2V0R2x5cGhCQm94IiwiY3VyciIsIk1BWF9WQUxVRSIsIk1JTl9WQUxVRSIsIlNlbGVjdFRvb2xzIiwic2hhcmVkTG9naWNhbFBhcmVudCIsImFyZUFkamFjZW50IiwiaXNMaW5rZWQiLCJjYW5CZUxpbmtlZCIsInNvcnQiLCJzdGFmZkEiLCJzdGFmZkIiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIk5vZGUiLCJET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkciLCJzeWxsYWJsZXMiLCJjdXJyZW50U3lsbGFibGVJbmRleCIsImN1cnJlbnRTdGFmZiIsIm5leHRTdGFmZiIsImN1cnJlbnRTdGFmZkluZGV4IiwidW5saW5rZWRFbGVtZW50cyIsImZpcnN0VW5saW5rZWQiLCJET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkciLCJpZHgiLCJzeWxsYWJsZSIsImF0IiwibmV4dFN5bGxhYmxlSWQiLCJuZXh0U3lsbGFibGVJZHgiLCJuZXh0U3lsbGFibGUiLCJwcmV2U3lsbGFibGVJZCIsInByZXZTeWxsYWJsZSIsImhhc0ludmFsaWRMaW5rZWRTeWxsYWJsZSIsInN5c3RlbXMiLCJlbGVtZW50SWRzIiwiZ3JvdXBpbmdBY3Rpb24iLCJnZXRDaGlsZHJlbklkcyIsImdldElkcyIsInRvZ2dsZUxpbmtlZFN5bGxhYmxlcyIsImdyb3VwVHlwZSIsIm5ldW1lUGFyZW50IiwibmNzIiwiZ2V0Q29udG91ciIsIldhcm5pbmdzIiwiZ3JvdXBpbmdOb3RSZWNvZ25pemVkIiwiZ2V0U1ZHR3JhcGhpY3NFbGVtZW50QnlJZCIsIlNWR0dyYXBoaWNzRWxlbWVudCIsInVubGluayIsImZpcnN0U3lsbGFibGUiLCJzZWNvbmRTeWxsYWJsZSIsInVubGlua2VkRWxlbWVudCIsImdldFRvZ2dsZVN5bGxhYmxlSWRzIiwibG9nIiwiaWRzIiwiY2hpbGRyZW5JZHMiLCJjcmVhdGVMb2dNZXNzYWdlIiwibm90aWYiLCJub3RpZkRpdiIsInJlbW92ZUJ0biIsIm9uY2xpY2siLCJpbmZvQnRuIiwiTW9kYWxXaW5kb3ciLCJvcGVuRXJyb3JMb2dXaW5kb3ciLCJpbml0RXJyb3JMb2dDb250cm9scyIsImVycm9yUGFuZWwiLCJoZWFkaW5nIiwiZHJvcGRvd25JY29uIiwiaW5pdERpc3BsYXlMaXN0ZW5lciIsImNoZWNrYm94ZXNDb250YWluZXIiLCJlcnJvcnNMYWJlbCIsImVyb3Jyc0J0biIsImFwcGVuZENoaWxkIiwidXBkYXRlRXJyb3JMb2dWaXNpYmlsaXR5Iiwibm90aWZQYW5lbCIsIlBvaW50TmFtZXMiLCJUb3BMZWZ0IiwiVG9wIiwiVG9wUmlnaHQiLCJSaWdodCIsIkJvdHRvbVJpZ2h0IiwiQm90dG9tIiwiQm90dG9tTGVmdCIsIkxlZnQiLCJnZXRQb2ludHMiLCJzaW4iLCJpbml0aWFsVWx4IiwiaW5pdGlhbExyeCIsImluaXRpYWxQb2ludCIsImluaXRpYWxVbHkiLCJpbml0aWFsTHJ5IiwiaW5pdGlhbFkiLCJpbml0aWFsUmVjdFkiLCJwb2x5TGVuIiwiaW5pdGlhbFJvdGF0ZSIsInJlZHJhdyIsInBvaW50U3RyaW5nIiwiX2VsZW0iLCJ0ZXh0UmVjdCIsInBvaW50TmFtZSIsInBvaW50IiwicG9pbnRTdHJpbmdSaWdodCIsInBvaW50U3RyaW5nTGVmdCIsImRyYXdJbml0aWFsUmVjdCIsIndoaWNoUG9pbnQiLCJfIiwidmlld3BvcnRFbGVtZW50IiwicmVzaXplU3RhcnQiLCJyZXNpemVEcmFnIiwicmVzaXplRW5kIiwicm90YXRlU3RhcnQiLCJ0ZW1wIiwibW91c2UiLCJ0ZW1wUm90YXRlIiwicm90YXRlRW5kIiwiY3VycmVudFBvaW50Iiwid2hpY2giLCJQSSIsIkV4cG9ydGVkU2V0IiwiRXhwb3J0ZWRNYXAiLCJtYW5nbGUiLCJ1bm1hbmdsZSIsIk1hcCQxIiwiX3N0b3JlIiwiU2V0JDEiLCJjbG9uZUJpbmFyeU9iamVjdCIsImNsb25lQXJyYXlCdWZmZXIiLCJ3ZWJraXRTbGljZSIsIm1hbmdsZWQiLCJkZWxldGUiLCJNYXAiLCJwcm9wIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwic3BlY2llcyIsInN1cHBvcnRzTWFwQW5kU2V0IiwiZnVuY1RvU3RyaW5nIiwib2JqZWN0Q3RvclN0cmluZyIsImNsb25lIiwibmV3T2JqZWN0IiwiRGF0ZSIsImlzRmluaXRlIiwidG9JU09TdHJpbmciLCJCbG9iIiwiaXNCaW5hcnlPYmplY3QiLCJwcm90byIsIkN0b3IiLCJpc1BsYWluT2JqZWN0IiwiY2FsbGVkIiwidG9Qcm9taXNlIiwiZnVuYyIsInNlbGYiLCJ1c2VkQ0IiLCJwcm9taXNlIiwiZnVsZmlsbCIsInJlc3AiLCJjYWxsYmFjayIsIm1lc2ciLCJhZGFwdGVyRnVuIiwiX2Nsb3NlZCIsIl9kZXN0cm95ZWQiLCJsb2dBcmdzIiwib3JpZ0NhbGxiYWNrIiwicmVzcG9uc2VBcmdzIiwibG9nQXBpQ2FsbCIsInRhc2txdWV1ZSIsImlzUmVhZHkiLCJhZGRUYXNrIiwiZmFpbGVkIiwicGljayIsImhhc0xvY2FsIiwiaWRlbnRpdHlGdW5jdGlvbiIsImZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0Iiwib2siLCJidWxrR2V0IiwiZGIiLCJvcHRzIiwicmVxdWVzdHMiLCJkb2NzIiwicmVxdWVzdHNCeUlkIiwicmVxdWVzdCIsIm51bURvY3MiLCJudW1Eb25lIiwicGVyRG9jUmVzdWx0cyIsImNoZWNrRG9uZSIsInJlc3VsdHMiLCJhbGxSZXF1ZXN0cyIsIm5leHRCYXRjaCIsInVwVG8iLCJiYXRjaCIsImRvY0lkIiwiZG9jSWR4IiwiZG9jUmVxdWVzdHMiLCJkb2NPcHRzIiwib3Blbl9yZXZzIiwicmV2IiwiZm9ybWF0UmVzdWx0IiwicHJvY2Vzc0JhdGNoIiwiaGFzTG9jYWxTdG9yYWdlIiwiQ2hhbmdlcyIsImF0dGFjaEJyb3dzZXJFdmVudHMiLCJndWFyZGVkQ29uc29sZSIsIm1ldGhvZCIsImRlZmF1bHRCYWNrT2ZmIiwibWF4VGltZW91dCIsInJhbmRvbU51bWJlciIsImV4cGxhaW5FcnJvciIsInN0YXR1cyIsImRiTmFtZSIsImlucHJvZ3Jlc3MiLCJldmVudEZ1bmN0aW9uIiwiY2hhbmdlc09wdHMiLCJjaGFuZ2VzIiwic2VxIiwic2luY2UiLCJjYW5jZWxsZWQiLCJvbkNoYW5nZSIsIm5vdGlmeUxvY2FsV2luZG93cyIsIm5vdGlmeSIsIiRpbmplY3RfT2JqZWN0X2Fzc2lnbiIsImFzc2lnbiIsIm5leHRTb3VyY2UiLCJuZXh0S2V5IiwiUG91Y2hFcnJvciIsInJlYXNvbiIsIk1JU1NJTkdfQlVMS19ET0NTIiwiTUlTU0lOR19ET0MiLCJSRVZfQ09ORkxJQ1QiLCJJTlZBTElEX0lEIiwiTUlTU0lOR19JRCIsIlJFU0VSVkVEX0lEIiwiVU5LTk9XTl9FUlJPUiIsIkJBRF9BUkciLCJRVUVSWV9QQVJTRV9FUlJPUiIsIkRPQ19WQUxJREFUSU9OIiwiQkFEX1JFUVVFU1QiLCJOT1RfQU5fT0JKRUNUIiwiSURCX0VSUk9SIiwiSU5WQUxJRF9SRVYiLCJNSVNTSU5HX1NUVUIiLCJjcmVhdGVFcnJvciIsIkN1c3RvbVBvdWNoRXJyb3IiLCJuYW1lcyIsImdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UiLCJmaWx0ZXJDaGFuZ2UiLCJyZXEiLCJoYXNGaWx0ZXIiLCJxdWVyeSIsInF1ZXJ5X3BhcmFtcyIsImRvYyIsImZpbHRlclJldHVybiIsInRyeUZpbHRlciIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwiYXR0IiwiX2F0dGFjaG1lbnRzIiwic3R1YiIsImZsYXR0ZW4iLCJhcnJzIiwiaW52YWxpZElkRXJyb3IiLCJpc1JlbW90ZSIsIl9yZW1vdGUiLCJwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZSIsIm5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZSIsIm5vcm1hbGl6ZWQiLCJxUGFyc2VyIiwicGFyc2VyIiwicGFyc2VVcmkiLCJleGVjIiwiZW5jb2RlZCIsIiQwIiwiJDEiLCIkMiIsInNjb3BlRXZhbCIsInNvdXJjZSIsInNjb3BlIiwidXBzZXJ0IiwiZGlmZkZ1biIsImNhdGNoIiwiZG9jUmV2IiwiX3JldiIsIm5ld0RvYyIsIl9pZCIsInB1dCIsInVwZGF0ZWQiLCJ0cnlBbmRQdXQiLCJ0aGlzQXRvYiIsImF0b2IiLCJ0aGlzQnRvYSIsImJ0b2EiLCJjcmVhdGVCbG9iIiwicHJvcGVydGllcyIsImJ1aWxkZXIiLCJCbG9iQnVpbGRlciIsIk1TQmxvYkJ1aWxkZXIiLCJNb3pCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiZ2V0QmxvYiIsImJpbmFyeVN0cmluZ1RvQXJyYXlCdWZmZXIiLCJiaW4iLCJiaW5TdHJpbmdUb0JsdWZmZXIiLCJiaW5TdHJpbmciLCJiNjRUb0JsdWZmZXIiLCJiNjQiLCJyZWFkQXNCaW5hcnlTdHJpbmciLCJibG9iIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsImhhc0JpbmFyeVN0cmluZyIsIm9ubG9hZGVuZCIsImJpbmFyeSIsImFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmciLCJyZWFkQXNBcnJheUJ1ZmZlciIsImJsb2JUb0JpbmFyeVN0cmluZyIsImJsb2JPckJ1ZmZlciIsImJsb2JUb0Jhc2U2NCIsImJhc2U2NCIsInNldEltbWVkaWF0ZVNoaW0iLCJzZXRJbW1lZGlhdGUiLCJhcHBlbmRCbG9iIiwic3RhcnQiLCJzbGljZUJsb2IiLCJhcnJheUJ1ZmZlciIsImFwcGVuZFN0cmluZyIsInN0cmluZyIsImJpbmFyeU1kNSIsImlucHV0SXNTdHJpbmciLCJjaHVua1NpemUiLCJjaHVua3MiLCJjZWlsIiwiY3VycmVudENodW5rIiwibG9hZE5leHRDaHVuayIsImRvbmUiLCJyYXdUb0Jhc2U2NCIsInN0cmluZ01kNSIsInJldiQkMSIsImRldGVybWluaXN0aWNfcmV2cyIsIm11dGF0ZWFibGVEb2MiLCJfcmV2X3RyZWUiLCJ3aW5uaW5nUmV2IiwibWV0YWRhdGEiLCJ3aW5uaW5nSWQiLCJ3aW5uaW5nUG9zIiwid2lubmluZ0RlbGV0ZWQiLCJub2RlIiwidG9WaXNpdCIsInJldl90cmVlIiwidHJlZSIsImJyYW5jaGVzIiwicG9zIiwiZGVsZXRlZCIsInRyYXZlcnNlUmV2VHJlZSIsInJldnMiLCJuZXdDdHgiLCJzb3J0QnlQb3MiLCJjb2xsZWN0TGVhdmVzIiwibGVhdmVzIiwiaXNMZWFmIiwicmV2ZXJzZSIsImNvbGxlY3RDb25mbGljdHMiLCJ3aW4iLCJjb25mbGljdHMiLCJsZWFmIiwicm9vdFRvTGVhZiIsInBhdGhzIiwiaGlzdG9yeSIsInNvcnRCeVBvcyQxIiwiaW5zZXJ0U29ydGVkIiwiY29tcGFyYXRvciIsIm1pZCIsImxvdyIsImhpZ2giLCJiaW5hcnlTZWFyY2giLCJzcGxpY2UiLCJwYXRoVG9UcmVlIiwibnVtU3RlbW1lZCIsInJvb3QiLCJjdXJyZW50TGVhZiIsImNvbXBhcmVUcmVlIiwibWVyZ2VUcmVlIiwiaW5fdHJlZTEiLCJpbl90cmVlMiIsInRyZWUxIiwidHJlZTIiLCJtZXJnZWQiLCJkb01lcmdlIiwiZG9udEV4cGFuZCIsInJlc3RyZWUiLCJicmFuY2giLCJ0MSIsInQyIiwiZGlmZiIsImNhbmRpZGF0ZVBhcmVudHMiLCJ0cmVlcyIsInBhcmVudElkeCIsImVsZW1lbnRzTGVuIiwibWVyZ2UiLCJkZXB0aCIsIm5ld1RyZWUiLCJzdGVtbWVkIiwic3RlbW1lZFJldnMiLCJyZXZIYXNoIiwic3RlbSIsImdldFRyZWVzIiwiaXNEZWxldGVkIiwiaXNMb2NhbElkIiwiQ2hhbmdlcyQxIiwiY29tcGxldGUiLCJlZSIsIm9uRGVzdHJveSIsImNhbmNlbCIsInBlbmRpbmciLCJsYXN0U2VxIiwiaXNDYW5jZWxsZWQiLCJ0cnlDYXRjaEluQ2hhbmdlTGlzdGVuZXIiLCJ2YWxpZGF0ZUNoYW5nZXMiLCJwcm9jZXNzQ2hhbmdlIiwiY2hhbmdlTGlzdCIsIl9jb25mbGljdHMiLCJjb21wYXJlIiwibGVmdCIsInJpZ2h0IiwieWFua0Vycm9yIiwiY29tcGFyZUJ5SWRUaGVuUmV2IiwiaWRDb21wYXJlIiwiX3JldmlzaW9ucyIsIkFic3RyYWN0UG91Y2hEQiIsIlRhc2tRdWV1ZSIsIlBvdWNoREIiLCJfX29wdHMiLCJhdXRvX2NvbXBhY3Rpb24iLCJiYWNrZW5kIiwiYWRhcHRlciIsImFkYXB0ZXJzIiwicHJlZmVycmVkQWRhcHRlcnMiLCJhZGFwdGVyTmFtZSIsInVzZV9wcmVmaXgiLCJwYXJzZUFkYXB0ZXIiLCJfYWRhcHRlciIsInZhbGlkIiwidmlld19hZGFwdGVyIiwiZmFpbCIsIm9uRGVzdHJveWVkIiwiZnJvbV9jb25zdHJ1Y3RvciIsIm9uQ2xvc2VkIiwicHJlcGFyZUZvckRlc3RydWN0aW9uIiwicmVhZHkiLCJfY2hhbmdlc0ZpbHRlclBsdWdpbiIsInZhbGlkYXRlIiwiZG9DaGFuZ2VzIiwiY29udGludW91cyIsImxpdmUiLCJub3JtYWxpemUiLCJzaG91bGRGaWx0ZXIiLCJkZXNjZW5kaW5nIiwibGltaXQiLCJuZXdQcm9taXNlIiwiX2NoYW5nZXMiLCJ1cGRhdGVfc2VxIiwicG9zdCIsImJ1bGtEb2NzIiwiX3B1dExvY2FsIiwiX2RlbGV0ZWQiLCJfcmVtb3ZlTG9jYWwiLCJvbGRSZXZJZCIsIm5ld1Jldk51bSIsIm5ld1JldklkIiwicHV0RG9jIiwiX3B1dCIsIm5ld19lZGl0cyIsImZvcmNlIiwicHV0QXR0YWNobWVudCIsImF0dGFjaG1lbnRJZCIsImFwaSIsImNyZWF0ZUF0dGFjaG1lbnQiLCJwcmV2cmV2cG9zIiwiY29udGVudF90eXBlIiwicmV2cG9zIiwicmVtb3ZlQXR0YWNobWVudCIsImRvY09ySWQiLCJvcHRzT3JSZXYiLCJ3YXNfZGVsZXRlIiwicmV2c0RpZmYiLCJtaXNzaW5nIiwiYWRkVG9NaXNzaW5nIiwicmV2SWQiLCJfZ2V0UmV2aXNpb25UcmVlIiwibWlzc2luZ0ZvcklkIiwicHJvY2Vzc0RvYyIsIm1pc3NpbmdPYmoiLCJjb21wYWN0RG9jdW1lbnQiLCJtYXhIZWlnaHQiLCJyZXZUcmVlIiwiZWRnZXMiLCJwcm50IiwiZWRnZSIsImNvbXB1dGVIZWlnaHQiLCJjYW5kaWRhdGVzIiwiX2RvQ29tcGFjdGlvbiIsImNvbXBhY3QiLCJfY29tcGFjdGlvblF1ZXVlIiwiZG9OZXh0Q29tcGFjdGlvbiIsImxhc3Rfc2VxIiwiX2NvbXBhY3QiLCJyZXR1cm5fZG9jcyIsInByb21pc2VzIiwicm93IiwiYWxsIiwiX2dldExvY2FsIiwiZmluaXNoT3BlblJldnMiLCJsYXRlc3QiLCJfZ2V0IiwicmV2c19pbmZvIiwic3BsaXR0ZWRSZXYiLCJyZXZObyIsImN1cnJlbnRQYXRoIiwiaGFzaEluZGV4IiwiaW5kZXhPZlJldiIsImhvd01hbnkiLCJfcmV2c19pbmZvIiwiX2dldEF0dGFjaG1lbnQiLCJnZXRBdHRhY2htZW50IiwiYWxsRG9jcyIsInNraXAiLCJzdGFydF9rZXkiLCJzdGFydGtleSIsImVuZF9rZXkiLCJlbmRrZXkiLCJpbmNvbXBhdGlibGVPcHQiLCJhbGxEb2NzS2V5c1BhcnNlIiwiX2FsbERvY3MiLCJjbG9zZSIsIl9jbG9zZSIsIl9pbmZvIiwiZGJfbmFtZSIsIl90eXBlIiwiYXR0YWNobWVudEVycm9yIiwiY2hhckF0IiwiYXR0YWNobWVudE5hbWVFcnJvciIsImF0dHMiLCJjbGVhbkRvY3MiLCJfYnVsa0RvY3MiLCJyZWdpc3RlckRlcGVuZGVudERhdGFiYXNlIiwiZGVwZW5kZW50RGIiLCJkYk9wdGlvbnMiLCJkZXBEQiIsImRlcGVuZGVudERicyIsInVzZVByZWZpeCIsImRlc3Ryb3lEYiIsIl9kZXN0cm95IiwibG9jYWxEb2MiLCJkZWxldGVkTWFwIiwidHJ1ZU5hbWUiLCJleGVjdXRlIiwiQWJvcnRDb250cm9sbGVyIiwiYWJvcnQiLCJmJDEiLCJmZXRjaCIsImgiLCJIZWFkZXJzIiwiZXZlbnRFbWl0dGVyIiwiUG91Y2giLCJkZXN0cnVjdExpc3RlbmVycyIsIl9kZXN0cnVjdGlvbkxpc3RlbmVycyIsImRiTGlzdCIsInNldFVwRXZlbnRFbWl0dGVyIiwiYWRkVG9QcmVmZXJyZWRBZGFwdGVycyIsInBsdWdpbiIsIl9fZGVmYXVsdHMiLCJkZWZhdWx0cyIsImRlZmF1bHRPcHRzIiwiUG91Y2hBbHQiLCJ1cmwiLCJnZXRGaWVsZEZyb21Eb2MiLCJwYXJzZWRGaWVsZCIsInBhcnNlRmllbGQiLCJmaWVsZE5hbWUiLCJmaWVsZHMiLCJjb21iaW5hdGlvbkZpZWxkcyIsImlzQ29tYmluYXRpb25hbEZpZWxkIiwiZmllbGQiLCJnZXRLZXkiLCJtZXJnZUFuZGVkU2VsZWN0b3JzIiwic2VsZWN0b3JzIiwiJG9yIiwiJG5vciIsIm1hdGNoZXIiLCIkZXEiLCJsb25nZXN0IiwiZmllbGRNYXRjaGVycyIsIm9wZXJhdG9yIiwiJGd0ZSIsIiRndCIsIm1lcmdlR3RHdGUiLCIkbHRlIiwiJGx0IiwibWVyZ2VMdEx0ZSIsIiRuZSIsIm1lcmdlTmUiLCJtZXJnZUVxIiwiJHJlZ2V4IiwibWVyZ2VSZWdleCIsIm1hc3NhZ2VTZWxlY3RvciIsIndhc0FuZGVkIiwiaXNBbmRJblNlbGVjdG9yIiwiaXNBbmQiLCJtZXJnZUFuZGVkU2VsZWN0b3JzTmVzdGVkIiwib3JPck5vciIsInN1YlNlbGVjdG9yIiwiY29sbGF0ZSIsIm5vcm1hbGl6ZUtleSIsImFpIiwiYmkiLCJzdHJpbmdDb2xsYXRlIiwiYXJyYXlDb2xsYXRlIiwiYWsiLCJiayIsIm9iamVjdENvbGxhdGUiLCJJbmZpbml0eSIsIm9yaWdLZXkiLCJ0b0pTT04iLCJpbmRleGlmeSIsImV4cEZvcm1hdCIsInRvRXhwb25lbnRpYWwiLCJtYWduaXR1ZGUiLCJuZWciLCJtYWdTdHJpbmciLCJwYWRXaXRoIiwidXBUb0xlbmd0aCIsInRhcmdldExlbmd0aCIsInBhZCIsImZhY3RvciIsImZhY3RvclN0ciIsInRvRml4ZWQiLCJudW1Ub0luZGV4YWJsZVN0cmluZyIsInRvSW5kZXhhYmxlU3RyaW5nIiwib2JqS2V5IiwicGFyc2VOdW1iZXIiLCJvcmlnaW5hbElkeCIsIm51bUFzU3RyaW5nIiwibWFnQXNTdHJpbmciLCJmaWx0ZXJJbk1lbW9yeUZpZWxkcyIsInJvd3MiLCJyZXF1ZXN0RGVmIiwiaW5NZW1vcnlGaWVsZHMiLCJyb3dGaWx0ZXIiLCJmaWVsZFNvcnRlciIsImdldEZpZWxkVmFsdWVzQXNBcnJheSIsInNvcnRpbmciLCJhUm93IiwiYlJvdyIsImNvbGxhdGlvbiIsImNyZWF0ZUZpZWxkU29ydGVyIiwiZG9jRmllbGRWYWx1ZSIsInNvbWUiLCJvck1hdGNoZXJzIiwibWF0Y2hDb21pbmF0aW9uYWxTZWxlY3RvciIsIm1hdGNoU2VsZWN0b3IiLCJtYXliZVVzZXJPcGVyYXRvciIsInVzZXJWYWx1ZSIsInN1YlBhcnNlZEZpZWxkIiwic3ViRG9jRmllbGRWYWx1ZSIsInVzZXJPcGVyYXRvciIsIm1hdGNoZXJzIiwiZmllbGRFeGlzdHMiLCJmaWVsZElzTm90VW5kZWZpbmVkIiwiYXJyYXlDb250YWluc1ZhbHVlIiwiZG9jRmllbGRWYWx1ZUl0ZW0iLCJtb2RGaWVsZCIsIm5lVmFsdWUiLCJhcnJheVNpemUiLCJhcnJheUNvbnRhaW5zQWxsVmFsdWVzIiwicmVnZXhWYWx1ZSIsInJlZ2V4TWF0Y2giLCJ0eXBlTWF0Y2giLCJmaWx0ZXJOYW1lIiwiY2hhbmdlc0hhbmRsZXIiLCJkb2NfaWRzIiwidmlld05hbWUiLCJkZG9jIiwibWFwRnVuIiwidmlld3MiLCJyb3dzTWF0Y2hlZCIsIm1hdGNoZXNTZWxlY3RvciIsImZpbHRlckZ1biIsImZpbHRlcnMiLCJ0b09iamVjdCIsInZlcnNpb24iLCJyZXNlcnZlZFdvcmRzIiwiZGF0YVdvcmRzIiwicGFyc2VSZXZpc2lvbkluZm8iLCJwYXJzZURvYyIsIm5ld0VkaXRzIiwiZGJPcHRzIiwiblJldk51bSIsInJldkluZm8iLCJyZXZpc2lvbnMiLCJyZXZpc2lvbklkcyIsIm1ha2VSZXZUcmVlRnJvbVJldmlzaW9ucyIsInNwZWNpYWxLZXkiLCJwcmVwcm9jZXNzU3RyaW5nIiwiYmxvYlR5cGUiLCJhc0JpbmFyeSIsInBhcnNlQmFzZTY0IiwiZGlnZXN0IiwicHJlcHJvY2Vzc0F0dGFjaG1lbnQiLCJtZDUiLCJwcmVwcm9jZXNzQmxvYiIsInVwZGF0ZURvYyIsInJldkxpbWl0IiwicHJldiIsImRvY0luZm8iLCJ3cml0ZURvYyIsInNwbGl0UmV2IiwidGFyZ2V0UG9zIiwidGFyZ2V0SWQiLCJyZXZFeGlzdHMiLCJwcmV2aW91c1dpbm5pbmdSZXYiLCJwcmV2aW91c2x5RGVsZXRlZCIsImlzUm9vdCIsIm5ld1JldiIsInJldl9tYXAiLCJ3aW5uaW5nUmV2JCQxIiwid2lubmluZ1JldklzRGVsZXRlZCIsImRlbHRhIiwicHJvY2Vzc0RvY3MiLCJkb2NJbmZvcyIsImZldGNoZWREb2NzIiwidHgiLCJvdmVyYWxsQ2FsbGJhY2siLCJpZHNUb0RvY3MiLCJkb2NzRG9uZSIsImRvY3NUb0RvIiwiY2hlY2tBbGxEb2NzRG9uZSIsImN1cnJlbnREb2MiLCJyZXN1bHRzSWR4IiwiZG9jV3JpdHRlbiIsIm5leHREb2MiLCJyb290SXNNaXNzaW5nIiwiaW5zZXJ0RG9jIiwiRE9DX1NUT1JFIiwiTUVUQV9TVE9SRSIsInNhZmVKc29uU3RyaW5naWZ5IiwianNvbiIsImlkYkVycm9yIiwiZW5jb2RlTWV0YWRhdGEiLCJkZWxldGVkT3JMb2NhbCIsImRlY29kZU1ldGFkYXRhIiwic3RvcmVkT2JqZWN0Iiwic2FmZUpzb25QYXJzZSIsImRlY29kZURvYyIsIl9kb2NfaWRfcmV2IiwibGFzdEluZGV4T2YiLCJyZWFkQmxvYkRhdGEiLCJhc0Jsb2IiLCJmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3NhcnkiLCJ0eG4iLCJhdHRPYmoiLCJvYmplY3RTdG9yZSIsIm9uc3VjY2VzcyIsImZldGNoQXR0YWNobWVudCIsInBvc3RQcm9jZXNzQXR0YWNobWVudHMiLCJhdHROYW1lcyIsImNvbXBhY3RSZXZzIiwicG9zc2libHlPcnBoYW5lZERpZ2VzdHMiLCJzZXFTdG9yZSIsImF0dFN0b3JlIiwiYXR0QW5kU2VxU3RvcmUiLCJJREJLZXlSYW5nZSIsImJvdW5kIiwiZGVsZXRlT3JwaGFuZWRBdHRhY2htZW50cyIsIm9wZW5DdXJzb3IiLCJvbmx5IiwiY3Vyc29yIiwiZGlnZXN0U2VxIiwicHJpbWFyeUtleSIsImNvbnRpbnVlIiwib3BlblRyYW5zYWN0aW9uU2FmZWx5IiwiaWRiIiwic3RvcmVzIiwidHJhbnNhY3Rpb24iLCJpZGJCdWxrRG9jcyIsImRvY1N0b3JlIiwiYnlTZXFTdG9yZSIsImF0dGFjaFN0b3JlIiwiYXR0YWNoQW5kU2VxU3RvcmUiLCJtZXRhU3RvcmUiLCJkb2NJbmZvRXJyb3IiLCJtZXRhRG9jIiwiYWxsRG9jc1Byb2Nlc3NlZCIsImRvY0NvdW50RGVsdGEiLCJwcmVjb25kaXRpb25FcnJvcmVkIiwiX21ldGEiLCJibG9iU3VwcG9ydCIsIm9uQWxsRG9jc1Byb2Nlc3NlZCIsInVwZGF0ZURvY0NvdW50SWZSZWFkeSIsImRvY0NvdW50IiwibmV3UmV2SXNEZWxldGVkIiwiaXNVcGRhdGUiLCJjb2xsZWN0UmVzdWx0cyIsImZpbmlzaERvYyIsImF0dGFjaG1lbnRTYXZlZCIsIm5ld0F0dCIsInNhdmVBdHRhY2htZW50Iiwid3JpdGVBdHRhY2htZW50cyIsImFmdGVyUHV0RG9jIiwicmV2c1RvRGVsZXRlIiwiY29tcGFjdFRyZWUiLCJtZXRhZGF0YVRvU3RvcmUiLCJhZnRlclB1dE1ldGFkYXRhIiwiYXR0c0FkZGVkIiwiYXR0c1RvQWRkIiwib25lcnJvciIsImluc2VydEF0dGFjaG1lbnRNYXBwaW5ncyIsInB1dFJlcSIsIm92ZXJhbGxFcnIiLCJkb2N2IiwicmVjdiIsInByb2Nlc3NlZEF0dGFjaG1lbnQiLCJwcmVwcm9jZXNzQXR0YWNobWVudHMiLCJ0eG5SZXN1bHQiLCJvbmFib3J0Iiwib250aW1lb3V0Iiwib25jb21wbGV0ZSIsImZpbmlzaCIsImRpZ2VzdHMiLCJmaWxlbmFtZSIsInZlcmlmeUF0dGFjaG1lbnQiLCJhdHRFcnIiLCJ2ZXJpZnlBdHRhY2htZW50cyIsIm51bUZldGNoZWQiLCJyZXZzX2xpbWl0IiwicmVhZE1ldGFkYXRhIiwiZmV0Y2hFeGlzdGluZ0RvY3MiLCJzdGFydFRyYW5zYWN0aW9uIiwicnVuQmF0Y2hlZEN1cnNvciIsImtleVJhbmdlIiwiYmF0Y2hTaXplIiwib25CYXRjaCIsImtleXNCYXRjaCIsInZhbHVlc0JhdGNoIiwicHNldWRvQ3Vyc29yIiwib25HZXRBbGwiLCJvbkdldEFsbEtleXMiLCJvbkN1cnNvciIsImdldEFsbCIsImdldEFsbEtleXMiLCJuZXdLZXlSYW5nZSIsImxhc3RLZXkiLCJ1cHBlciIsInVwcGVyT3BlbiIsImNvZGUiLCJsb3dlckJvdW5kIiwiaWRiQWxsRG9jcyIsImtleVJhbmdlRXJyb3IiLCJpbmNsdXNpdmVFbmQiLCJpbmNsdXNpdmVfZW5kIiwidXBwZXJCb3VuZCIsImNyZWF0ZUtleVJhbmdlIiwib25SZXN1bHRzUmVhZHkiLCJ1cGRhdGVTZXEiLCJvblN1Y2Nlc3MiLCJkb2NJZFJldkluZGV4IiwiYWxsRG9jc0lubmVyIiwiZmV0Y2hEb2NBc3luY2hyb25vdXNseSIsImJhdGNoVmFsdWVzIiwiYmF0Y2hWYWx1ZSIsImJhdGNoS2V5cyIsInJldHVyblZhbCIsInRvdGFsX3Jvd3MiLCJtYXhLZXkiLCJhbGxEb2NzS2V5cyIsInJ1bm5pbmciLCJhcHBseU5leHQiLCJkb2NJZHMiLCJudW1SZXN1bHRzIiwiZG9jSWRzVG9NZXRhZGF0YSIsIm9uR2V0TWV0YWRhdGEiLCJkb2NJZFJldiIsIm9iamVjdFN0b3JlcyIsIndpbm5pbmdEb2NzIiwibWV0YWRhdGFzIiwiZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEiLCJ3aW5uaW5nRG9jIiwicHJvY2Vzc01ldGFkYXRhQW5kV2lubmluZ0RvYyIsIm9uQmF0Y2hEb25lIiwiZmlsdGVyZWQiLCJibG9iU3VwcG9ydFByb21pc2UiLCJjYWNoZWREQnMiLCJvcGVuUmVxTGlzdCIsIklkYlBvdWNoIiwidHJ5Q29kZSIsImVucXVldWVUYXNrIiwidGhpc0NhbGxiYWNrIiwiaWRiR2xvYmFsRmFpbHVyZUVycm9yIiwiZW5yaWNoQ2FsbGJhY2tFcnJvciIsImFkZERlbGV0ZWRPckxvY2FsSW5kZXgiLCJjcmVhdGVJbmRleCIsInVuaXF1ZSIsIm1pZ3JhdGVMb2NhbFN0b3JlIiwibG9jYWxTdG9yZSIsImxvY2FsIiwicmFuZ2UiLCJzZXFDdXJzb3IiLCJtaWdyYXRlQXR0c0FuZFNlcXMiLCJkaWdlc3RNYXAiLCJtaWdyYXRlTWV0YWRhdGEiLCJvbkdldE1ldGFkYXRhU2VxIiwibWV0YWRhdGFTZXEiLCJmZXRjaE1ldGFkYXRhU2VxIiwiaW5zdGFuY2VJZCIsInJlcU9wdHMiLCJoaXN0b3J5Tm9kZSIsImF0dGFjaElkIiwiYXR0YWNobWVudCIsImJsb2JEYXRhIiwiZG9jX2NvdW50IiwiaWRiX2F0dGFjaG1lbnRfZm9ybWF0Iiwib2xkUmV2Iiwib1N0b3JlIiwib2xkRG9jIiwib3BlblJlcSIsImluZGV4ZWREQiIsImRlbGV0ZURhdGFiYXNlIiwiY2FjaGVkIiwiZ2xvYmFsIiwib3BlbiIsIm9udXBncmFkZW5lZWRlZCIsIm9sZFZlcnNpb24iLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJhdXRvSW5jcmVtZW50IiwiY3JlYXRlU2NoZW1hIiwiY3VycmVudFRhcmdldCIsImNyZWF0ZUxvY2FsU3RvcmVTY2hlbWEiLCJhZGRBdHRhY2hBbmRTZXFTdG9yZSIsIm1pZ3JhdGlvbnMiLCJtaWdyYXRpb24iLCJvbnZlcnNpb25jaGFuZ2UiLCJzdG9yZWRNZXRhRG9jIiwiY29tcGxldGVTZXR1cCIsInN0b3JlTWV0YURvY0lmUmVhZHkiLCJpbnN0YW5jZUtleSIsImNvdW50RG9jcyIsImJsb2IkJDEiLCJtYXRjaGVkQ2hyb21lIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2hlZEVkZ2UiLCJjaGVja0Jsb2JTdXBwb3J0Iiwic3VwcG9ydHNCdWxrR2V0TWFwIiwicmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIiLCJlbmNvZGVEb2NJZCIsInByZXByb2Nlc3NBdHRhY2htZW50cyQxIiwiZ2V0SG9zdCIsInByb3RvY29sIiwiaGFzVXJsUHJlZml4IiwidXNlciIsInBhc3N3b3JkIiwiYXV0aCIsInVzZXJuYW1lIiwiZ2VuREJVcmwiLCJnZW5VcmwiLCJwYXRoRGVsIiwiaG9zdCIsInBvcnQiLCJwYXJhbXNUb1N0ciIsIkh0dHBQb3VjaCIsImRiVXJsIiwic2V0dXBQcm9taXNlIiwib3VyRmV0Y2giLCJoZWFkZXJzIiwiY3JlZGVudGlhbHMiLCJuQXV0aCIsInRva2VuIiwidWEiLCJpc0lFIiwiaXNUcmlkZW50IiwiaXNFZGdlIiwiaXNHRVQiLCJzaG91bGRDYWNoZUJ1c3QiLCJub3ciLCJhZGFwdGVyRnVuJCQxIiwic2V0dXAiLCJmZXRjaEpTT04iLCJza2lwX3NldHVwIiwiZW5jb2RlQXR0YWNobWVudElkIiwidXVpZCQkMSIsInBpbmciLCJjb21wYWN0X3J1bm5pbmciLCJpbnRlcnZhbCIsImRvQnVsa0dldCIsImRvQnVsa0dldFNoaW0iLCJudW1CYXRjaGVzIiwib25SZXN1bHQiLCJiYXRjaE51bSIsInN1Yk9wdHMiLCJzdXBwb3J0c0J1bGtHZXQiLCJmZXRjaEF0dGFjaG1lbnRzIiwiZmlsZW5hbWVzIiwicHJvbWlzZUZhY3RvcmllcyIsImRvTmV4dCIsInJ1bk5leHRCYXRjaCIsIm9uRXJyb3IiLCJ0aGlzRXJyIiwicG9vbCIsInR5cGVGaWVsZERlc2NyaXB0b3IiLCJfX3Byb3RvX18iLCJmZXRjaERhdGEiLCJkb2NPckRvY3MiLCJjb250ZW50VHlwZSIsInByb2Nlc3MiLCJicm93c2VyIiwicGFyYW1TdHIiLCJiYXRjaF9zaXplIiwiaGVhcnRiZWF0IiwicmVxdWVzdFRpbWVvdXQiLCJsZWZ0VG9GZXRjaCIsImZlZWQiLCJzZXFfaW50ZXJ2YWwiLCJwYXJhbV9uYW1lIiwibGFzdEZldGNoZWRTZXEiLCJjb250cm9sbGVyIiwiYWJvcnRlZCIsImZldGNoT3B0cyIsInNpZ25hbCIsImZldGNoZWQiLCJyYXdfcmVzdWx0c19sZW5ndGgiLCJmaW5pc2hlZCIsIlF1ZXJ5UGFyc2VFcnJvciIsIk5vdEZvdW5kRXJyb3IiLCJCdWlsdEluRXJyb3IiLCJwcm9taXNlZENhbGxiYWNrIiwic2VxdWVudGlhbGl6ZSIsInByb21pc2VGYWN0b3J5IiwidW5pcSIsInRoZVNldCIsIm1hcFRvS2V5c0FycmF5IiwiY3JlYXRlQnVpbHRJbkVycm9yIiwiakxlbiIsImpOdW0iLCJldmFsRnVuY3Rpb25XaXRoRXZhbCIsIlRhc2tRdWV1ZSQxIiwiY3JlYXRlVmlldyIsInNvdXJjZURCIiwicmVkdWNlRnVuIiwidGVtcG9yYXJ5IiwibG9jYWxEb2NOYW1lIiwiY2FjaGVkVmlld3MiLCJ2aWV3U2lnbmF0dXJlIiwiY3JlYXRlVmlld1NpZ25hdHVyZSIsIl9jYWNoZWRWaWV3cyIsInByb21pc2VGb3JWaWV3IiwiZGVwRGJOYW1lIiwiZnVsbFZpZXdOYW1lIiwiZGVwRGJzIiwibGFzdFNlcURvYyIsInBlcnNpc3RlbnRRdWV1ZXMiLCJ0ZW1wVmlld1F1ZXVlIiwicGFyc2VWaWV3TmFtZSIsImVtaXRFcnJvciIsImJ1aWx0SW5SZWR1Y2UiLCJzdW1zcXIiLCJfc3Vtc3FyIiwiYWJzdHJhY3QiLCJtYXBwZXIiLCJyZWR1Y2VyIiwiZGRvY1ZhbGlkYXRvciIsInRyeU1hcCIsInRyeVJlZHVjZSIsInJlcmVkdWNlIiwib3V0cHV0Iiwic29ydEJ5S2V5VGhlblZhbHVlIiwia2V5Q29tcGFyZSIsInNsaWNlUmVzdWx0cyIsInJvd1RvRG9jSWQiLCJwb3N0cHJvY2Vzc0F0dGFjaG1lbnRzIiwiYWRkSHR0cFBhcmFtIiwicGFyYW1OYW1lIiwiYXNKc29uIiwiY29lcmNlSW50ZWdlciIsImludGVnZXJDYW5kaWRhdGUiLCJhc051bWJlciIsImNoZWNrUXVlcnlQYXJzZUVycm9yIiwic3RhcnRrZXlOYW1lIiwiZW5ka2V5TmFtZSIsImdyb3VwX2xldmVsIiwib3B0aW9uTmFtZSIsImNoZWNrUG9zaXRpdmVJbnRlZ2VyIiwiZGVmYXVsdHNUbyIsImdldERvY3NUb1BlcnNpc3QiLCJkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyIsIm1ldGFEb2NJZCIsImRlZmF1bHRNZXRhRG9jIiwiZG9jRGF0YSIsImluZGV4YWJsZUtleXNUb0tleVZhbHVlcyIsImlzR2VuT25lIiwiZ2V0S2V5VmFsdWVEb2NzIiwia3ZEb2NzUmVzIiwia3ZEb2NzIiwib2xkS2V5cyIsImtleVZhbHVlIiwibmV3S2V5cyIsImt2RG9jIiwicHJvY2Vzc0tleVZhbHVlRG9jcyIsImdldFF1ZXVlIiwidXBkYXRlVmlldyIsIm1hcFJlc3VsdHMiLCJjdXJyZW50U2VxIiwibGlzdE9mRG9jc1RvUGVyc2lzdCIsImRvY3NUb1BlcnNpc3QiLCJzYXZlS2V5VmFsdWVzIiwiaW5kZXhlZF9kb2NzIiwicHJvZ3Jlc3MiLCJwcm9jZXNzTmV4dEJhdGNoIiwiY2hhbmdlc19iYXRjaF9zaXplIiwiY3JlYXRlSW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzIiwiY3JlYXRlRG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMiLCJyZXN1bHRzX2NvdW50IiwiZW1pdHRlZEtleVZhbHVlIiwiY29tcGxleEtleSIsInVwZGF0ZVZpZXdJblF1ZXVlIiwicXVlcnlWaWV3IiwidG90YWxSb3dzIiwic2hvdWxkUmVkdWNlIiwiZmV0Y2hGcm9tVmlldyIsInZpZXdPcHRzIiwiZXhwZWN0ZWRLZXlzIiwicGFyc2VkS2V5QW5kRG9jSWQiLCJwYXJzZWRTdHIiLCJwYXJzZUluZGV4YWJsZVN0cmluZyIsIm9uTWFwUmVzdWx0c1JlYWR5IiwiZmluYWxSZXN1bHRzIiwic2hvdWxkR3JvdXAiLCJsdmwiLCJQT1NJVElWRV9JTkZJTklUWSIsImxhc3QiLCJncm91cEtleSIsInJlZHVjZVRyeSIsInJlZHVjZVZpZXciLCJhbGxEb2NzUmVzIiwiZG9jSWRzVG9Eb2NzIiwiZmV0Y2hQcm9taXNlcyIsImtleVN0YXJ0Iiwia2V5RW5kIiwicXVlcnlWaWV3SW5RdWV1ZSIsInF1ZXJ5UHJvbWlzZWQiLCJfcXVlcnkiLCJjdXN0b21RdWVyeSIsImtleXNBc1N0cmluZyIsImh0dHBRdWVyeSIsInVwZGF0ZVZpZXdPcHRzIiwidmlld191cGRhdGVfY2hhbmdlc19iYXRjaF9zaXplIiwiZmluYWxQcm9taXNlRmFjdG9yeSIsImRlc2lnbkRvY05hbWUiLCJzdGFsZSIsImNvZXJjZU9wdGlvbnMiLCJ2aWV3Q2xlYW51cCIsIl92aWV3Q2xlYW51cCIsImN1c3RvbVZpZXdDbGVhbnVwIiwiaHR0cFZpZXdDbGVhbnVwIiwiZG9jc1RvVmlld3MiLCJ2aWV3c1RvU3RhdHVzIiwiZGRvY05hbWUiLCJ2aWV3REJOYW1lcyIsInN0YXR1c0lzR29vZCIsInZpZXdEQk5hbWUiLCJkZXN0cm95UHJvbWlzZXMiLCJsb2NhbFZpZXdDbGVhbnVwIiwiY3JlYXRlQWJzdHJhY3RNYXBSZWR1Y2UiLCJvcmlnTWFwIiwicmVkdWNlRnVuU3RyaW5nIiwiYnVpbHRJbiIsImdldEJ1aWx0SW4iLCJtYXByZWR1Y2UiLCJpc0dlbk9uZSQxIiwiZ2V0RG9jQXR0YWNobWVudHMiLCJnZXREb2NzIiwiZGlmZnMiLCJyZXN1bHREb2NzIiwiZmV0Y2hSZXZpc2lvbk9uZURvY3MiLCJoYXNDb25mbGljdHMiLCJidWxrR2V0T3B0cyIsIm1pc3NpbmdSZXYiLCJjcmVhdGVCdWxrR2V0T3B0cyIsImJ1bGtHZXRSZXNwb25zZSIsImJ1bGtHZXRJbmZvIiwicmVtb3RlRG9jIiwiZG9DaGVja0ZvckxvY2FsQXR0YWNobWVudHMiLCJmaWxlSGFzQ2hhbmdlZCIsImdldERvY0F0dGFjaG1lbnRzRnJvbVRhcmdldE9yU291cmNlIiwidXBkYXRlQ2hlY2twb2ludCIsImNoZWNrcG9pbnQiLCJzZXNzaW9uIiwicmV0dXJuVmFsdWUiLCJzZXNzaW9uX2lkIiwicmVwbGljYXRvciIsIkNoZWNrcG9pbnRlciIsIndyaXRlQ2hlY2twb2ludCIsInVwZGF0ZVRhcmdldCIsInVwZGF0ZVNvdXJjZSIsIndyaXRlVGFyZ2V0Q2hlY2twb2ludCIsIndyaXRlU291cmNlQ2hlY2twb2ludCIsImlzRm9yYmlkZGVuRXJyb3IiLCJjb21wYXJpc29ucyIsInRhcmdldERvYyIsInNvdXJjZURvYyIsInNyY0RvYyIsInRndERvYyIsImNvbXBhcmVSZXBsaWNhdGlvbkhpc3RvcnkiLCJzb3VyY2VIaXN0b3J5IiwidGFyZ2V0SGlzdG9yeSIsIlMiLCJzb3VyY2VSZXN0IiwiVCIsInRhcmdldFJlc3QiLCJoYXNTZXNzaW9uSWQiLCJjb21wYXJlUmVwbGljYXRpb25Mb2dzIiwic2Vzc2lvbklkIiwicHJvcHMiLCJyZXN0IiwiZmxvb3IiLCJnZXRDaGVja3BvaW50IiwiZ2VuZXJhdGVSZXBsaWNhdGlvbklkIiwicXVlcnlQYXJhbXMiLCJmaWx0ZXJWaWV3TmFtZSIsInNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkiLCJxdWVyeURhdGEiLCJtZDVzdW0iLCJyZXBsaWNhdGUiLCJjdXJyZW50QmF0Y2giLCJyZXBJZCIsImNoZWNrcG9pbnRlciIsImJhdGNoZXMiLCJwZW5kaW5nQmF0Y2giLCJ3cml0aW5nQ2hlY2twb2ludCIsImNoYW5nZXNDb21wbGV0ZWQiLCJyZXBsaWNhdGlvbkNvbXBsZXRlZCIsImJhdGNoZXNfbGltaXQiLCJjaGFuZ2VzUGVuZGluZyIsImNoYW5nZWREb2NzIiwic3RhcnRfdGltZSIsImRvY3NfcmVhZCIsImRvY3Nfd3JpdHRlbiIsImRvY193cml0ZV9mYWlsdXJlcyIsImluaXRDaGVja3BvaW50ZXIiLCJjaGVja3BvaW50T3B0cyIsIndyaXRlRG9jcyIsImJ1bGtPcHRzIiwiY29tcGxldGVSZXBsaWNhdGlvbiIsImVycm9yc0J5SWQiLCJlcnJvcnNObyIsImVycm9yTmFtZSIsImZpbmlzaEJhdGNoIiwib3V0UmVzdWx0IiwiZ2V0Q2hhbmdlcyIsIm9uQ2hlY2twb2ludEVycm9yIiwiZ2V0QmF0Y2hEb2NzIiwiZ290Iiwic3RhcnROZXh0QmF0Y2giLCJhYm9ydFJlcGxpY2F0aW9uIiwicHJvY2Vzc1BlbmRpbmdCYXRjaCIsImltbWVkaWF0ZSQkMSIsImZhdGFsRXJyb3IiLCJlbmRfdGltZSIsInJldHJ5IiwiYmFja19vZmZfZnVuY3Rpb24iLCJiYWNrT2ZmU2V0IiwiY3VycmVudF9iYWNrX29mZiIsImJhY2tPZmYiLCJvbkNoYW5nZXNDb21wbGV0ZSIsIm9uQ2hhbmdlc0Vycm9yIiwiX2Fib3J0Q2hhbmdlcyIsImFib3J0Q2hhbmdlcyIsInN0YXJ0Q2hhbmdlcyIsIl9hZGRlZExpc3RlbmVycyIsIlJlcGxpY2F0aW9uIiwidG9Qb3VjaCIsIlBvdWNoQ29uc3RydWN0b3IiLCJyZXBsaWNhdGVXcmFwcGVyIiwicmVwbGljYXRlUmV0IiwiU3luYyIsImNhbmNlbGVkIiwib3B0c1B1c2giLCJvcHRzUHVsbCIsInB1bGwiLCJwdWxsQ2hhbmdlIiwicHVzaENoYW5nZSIsInB1c2hEZW5pZWQiLCJwdWxsRGVuaWVkIiwicHVzaFBhdXNlZCIsInB1bGxQYXVzZWQiLCJwdXNoQWN0aXZlIiwicHVsbEFjdGl2ZSIsInJlbW92ZWQiLCJyZW1vdmVBbGwiLCJhZGRPbmVMaXN0ZW5lciIsIm91dCIsImNsZWFudXAiLCJfcmVhZHlDYWxsZWQiLCJyZXBsaWNhdGVNZXRob2RzIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImRyYWluUXVldWUiLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJub29wIiwiZW52IiwiYXJndiIsInZlcnNpb25zIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJGVU5DX0VSUk9SX1RFWFQiLCJQTEFDRUhPTERFUiIsIndyYXBGbGFncyIsImFyZ3NUYWciLCJhcnJheVRhZyIsImJvb2xUYWciLCJkYXRlVGFnIiwiZXJyb3JUYWciLCJmdW5jVGFnIiwiZ2VuVGFnIiwibWFwVGFnIiwibnVtYmVyVGFnIiwib2JqZWN0VGFnIiwicmVnZXhwVGFnIiwic2V0VGFnIiwic3RyaW5nVGFnIiwic3ltYm9sVGFnIiwid2Vha01hcFRhZyIsImFycmF5QnVmZmVyVGFnIiwiZGF0YVZpZXdUYWciLCJmbG9hdDMyVGFnIiwiZmxvYXQ2NFRhZyIsImludDhUYWciLCJpbnQxNlRhZyIsImludDMyVGFnIiwidWludDhUYWciLCJ1aW50MTZUYWciLCJ1aW50MzJUYWciLCJyZUVtcHR5U3RyaW5nTGVhZGluZyIsInJlRW1wdHlTdHJpbmdNaWRkbGUiLCJyZUVtcHR5U3RyaW5nVHJhaWxpbmciLCJyZUVzY2FwZWRIdG1sIiwicmVVbmVzY2FwZWRIdG1sIiwicmVIYXNFc2NhcGVkSHRtbCIsInJlSGFzVW5lc2NhcGVkSHRtbCIsInJlRXNjYXBlIiwicmVFdmFsdWF0ZSIsInJlSW50ZXJwb2xhdGUiLCJyZUlzRGVlcFByb3AiLCJyZUlzUGxhaW5Qcm9wIiwicmVQcm9wTmFtZSIsInJlUmVnRXhwQ2hhciIsInJlSGFzUmVnRXhwQ2hhciIsInJlVHJpbVN0YXJ0IiwicmVXaGl0ZXNwYWNlIiwicmVXcmFwQ29tbWVudCIsInJlV3JhcERldGFpbHMiLCJyZVNwbGl0RGV0YWlscyIsInJlQXNjaWlXb3JkIiwicmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMiLCJyZUVzY2FwZUNoYXIiLCJyZUVzVGVtcGxhdGUiLCJyZUZsYWdzIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzSG9zdEN0b3IiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsInJlTGF0aW4iLCJyZU5vTWF0Y2giLCJyZVVuZXNjYXBlZFN0cmluZyIsInJzQ29tYm9SYW5nZSIsInJzQ29tYm9NYXJrc1JhbmdlIiwicnNCcmVha1JhbmdlIiwicnNNYXRoT3BSYW5nZSIsInJzQXN0cmFsIiwicnNCcmVhayIsInJzQ29tYm8iLCJyc0RpZ2l0cyIsInJzRGluZ2JhdCIsInJzTG93ZXIiLCJyc01pc2MiLCJyc0ZpdHoiLCJyc05vbkFzdHJhbCIsInJzUmVnaW9uYWwiLCJyc1N1cnJQYWlyIiwicnNVcHBlciIsInJzTWlzY0xvd2VyIiwicnNNaXNjVXBwZXIiLCJyZU9wdE1vZCIsInJzU2VxIiwicnNFbW9qaSIsInJzU3ltYm9sIiwicmVBcG9zIiwicmVDb21ib01hcmsiLCJyZVVuaWNvZGUiLCJyZVVuaWNvZGVXb3JkIiwicmVIYXNVbmljb2RlIiwicmVIYXNVbmljb2RlV29yZCIsImNvbnRleHRQcm9wcyIsInRlbXBsYXRlQ291bnRlciIsInR5cGVkQXJyYXlUYWdzIiwiY2xvbmVhYmxlVGFncyIsInN0cmluZ0VzY2FwZXMiLCJmcmVlUGFyc2VGbG9hdCIsImZyZWVQYXJzZUludCIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsImZyZWVFeHBvcnRzIiwibm9kZVR5cGUiLCJmcmVlTW9kdWxlIiwibW9kdWxlRXhwb3J0cyIsImZyZWVQcm9jZXNzIiwibm9kZVV0aWwiLCJyZXF1aXJlIiwibm9kZUlzQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyIiwibm9kZUlzRGF0ZSIsImlzRGF0ZSIsIm5vZGVJc01hcCIsImlzTWFwIiwibm9kZUlzUmVnRXhwIiwiaXNSZWdFeHAiLCJub2RlSXNTZXQiLCJpc1NldCIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJ0aGlzQXJnIiwiYXJyYXlBZ2dyZWdhdG9yIiwic2V0dGVyIiwiaXRlcmF0ZWUiLCJhY2N1bXVsYXRvciIsImFycmF5RWFjaCIsImFycmF5RWFjaFJpZ2h0IiwiYXJyYXlFdmVyeSIsInByZWRpY2F0ZSIsImFycmF5RmlsdGVyIiwicmVzSW5kZXgiLCJhcnJheUluY2x1ZGVzIiwiYmFzZUluZGV4T2YiLCJhcnJheUluY2x1ZGVzV2l0aCIsImFycmF5TWFwIiwiYXJyYXlQdXNoIiwiYXJyYXlSZWR1Y2UiLCJpbml0QWNjdW0iLCJhcnJheVJlZHVjZVJpZ2h0IiwiYXJyYXlTb21lIiwiYXNjaWlTaXplIiwiYmFzZVByb3BlcnR5IiwiYmFzZUZpbmRLZXkiLCJjb2xsZWN0aW9uIiwiZWFjaEZ1bmMiLCJiYXNlRmluZEluZGV4IiwiZnJvbUluZGV4IiwiZnJvbVJpZ2h0Iiwic3RyaWN0SW5kZXhPZiIsImJhc2VJc05hTiIsImJhc2VJbmRleE9mV2l0aCIsImJhc2VNZWFuIiwiYmFzZVN1bSIsImJhc2VQcm9wZXJ0eU9mIiwiYmFzZVJlZHVjZSIsImJhc2VUaW1lcyIsImJhc2VUcmltIiwidHJpbW1lZEVuZEluZGV4IiwiYmFzZVVuYXJ5IiwiYmFzZVZhbHVlcyIsImNhY2hlSGFzIiwiY2FjaGUiLCJjaGFyc1N0YXJ0SW5kZXgiLCJzdHJTeW1ib2xzIiwiY2hyU3ltYm9scyIsImNoYXJzRW5kSW5kZXgiLCJjb3VudEhvbGRlcnMiLCJwbGFjZWhvbGRlciIsImRlYnVyckxldHRlciIsImVzY2FwZUh0bWxDaGFyIiwiZXNjYXBlU3RyaW5nQ2hhciIsImNociIsImhhc1VuaWNvZGUiLCJtYXBUb0FycmF5Iiwib3ZlckFyZyIsInRyYW5zZm9ybSIsInJlcGxhY2VIb2xkZXJzIiwic2V0VG9BcnJheSIsInNldFRvUGFpcnMiLCJzdHJpbmdTaXplIiwibGFzdEluZGV4IiwidW5pY29kZVNpemUiLCJzdHJpbmdUb0FycmF5IiwidW5pY29kZVRvQXJyYXkiLCJhc2NpaVRvQXJyYXkiLCJ1bmVzY2FwZUh0bWxDaGFyIiwicnVuSW5Db250ZXh0IiwidWlkIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImlkQ291bnRlciIsIm1hc2tTcmNLZXkiLCJJRV9QUk9UTyIsIm5hdGl2ZU9iamVjdFRvU3RyaW5nIiwib2xkRGFzaCIsInJlSXNOYXRpdmUiLCJCdWZmZXIiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3ByZWFkYWJsZVN5bWJvbCIsImlzQ29uY2F0U3ByZWFkYWJsZSIsInN5bUl0ZXJhdG9yIiwiaXRlcmF0b3IiLCJzeW1Ub1N0cmluZ1RhZyIsImdldE5hdGl2ZSIsImN0eENsZWFyVGltZW91dCIsImN0eE5vdyIsImN0eFNldFRpbWVvdXQiLCJuYXRpdmVDZWlsIiwibmF0aXZlRmxvb3IiLCJuYXRpdmVHZXRTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUlzRmluaXRlIiwibmF0aXZlSm9pbiIsIm5hdGl2ZUtleXMiLCJuYXRpdmVNYXgiLCJuYXRpdmVNaW4iLCJuYXRpdmVOb3ciLCJuYXRpdmVQYXJzZUludCIsIm5hdGl2ZVJhbmRvbSIsIm5hdGl2ZVJldmVyc2UiLCJEYXRhVmlldyIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJtZXRhTWFwIiwicmVhbE5hbWVzIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwic3ltYm9sVG9TdHJpbmciLCJsb2Rhc2giLCJpc09iamVjdExpa2UiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwiaXNPYmplY3QiLCJiYXNlTG9kYXNoIiwiY2hhaW5BbGwiLCJfX3dyYXBwZWRfXyIsIl9fYWN0aW9uc19fIiwiX19jaGFpbl9fIiwiX19pbmRleF9fIiwiX192YWx1ZXNfXyIsIl9fZGlyX18iLCJfX2ZpbHRlcmVkX18iLCJfX2l0ZXJhdGVlc19fIiwiX190YWtlQ291bnRfXyIsIl9fdmlld3NfXyIsIkhhc2giLCJjbGVhciIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsIl9fZGF0YV9fIiwiU3RhY2siLCJhcnJheUxpa2VLZXlzIiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXJyYXlTYW1wbGUiLCJiYXNlUmFuZG9tIiwiYXJyYXlTYW1wbGVTaXplIiwic2h1ZmZsZVNlbGYiLCJjb3B5QXJyYXkiLCJiYXNlQ2xhbXAiLCJhcnJheVNodWZmbGUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiZXEiLCJiYXNlQXNzaWduVmFsdWUiLCJhc3NpZ25WYWx1ZSIsIm9ialZhbHVlIiwiYXNzb2NJbmRleE9mIiwiYmFzZUFnZ3JlZ2F0b3IiLCJiYXNlRWFjaCIsImJhc2VBc3NpZ24iLCJjb3B5T2JqZWN0IiwiYmFzZUF0IiwibG93ZXIiLCJiYXNlQ2xvbmUiLCJiaXRtYXNrIiwiY3VzdG9taXplciIsImlzRGVlcCIsImlzRmxhdCIsImlzRnVsbCIsImluaXRDbG9uZUFycmF5IiwidGFnIiwiZ2V0VGFnIiwiaXNGdW5jIiwiY2xvbmVCdWZmZXIiLCJpbml0Q2xvbmVPYmplY3QiLCJnZXRTeW1ib2xzSW4iLCJjb3B5U3ltYm9sc0luIiwia2V5c0luIiwiYmFzZUFzc2lnbkluIiwiZ2V0U3ltYm9scyIsImNvcHlTeW1ib2xzIiwiZGF0YVZpZXciLCJieXRlT2Zmc2V0IiwiY2xvbmVEYXRhVmlldyIsImNsb25lVHlwZWRBcnJheSIsImNsb25lUmVnRXhwIiwic3ltYm9sIiwiaW5pdENsb25lQnlUYWciLCJzdGFja2VkIiwic3ViVmFsdWUiLCJnZXRBbGxLZXlzSW4iLCJiYXNlQ29uZm9ybXNUbyIsImJhc2VEZWxheSIsIndhaXQiLCJiYXNlRGlmZmVyZW5jZSIsImluY2x1ZGVzIiwiaXNDb21tb24iLCJ2YWx1ZXNMZW5ndGgiLCJvdXRlciIsImNvbXB1dGVkIiwidmFsdWVzSW5kZXgiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwiZ2V0TWFwRGF0YSIsInBhaXJzIiwiTEFSR0VfQVJSQVlfU0laRSIsImNyZWF0ZUJhc2VFYWNoIiwiYmFzZUZvck93biIsImJhc2VFYWNoUmlnaHQiLCJiYXNlRm9yT3duUmlnaHQiLCJiYXNlRXZlcnkiLCJiYXNlRXh0cmVtdW0iLCJpc1N5bWJvbCIsImJhc2VGaWx0ZXIiLCJiYXNlRmxhdHRlbiIsImlzU3RyaWN0IiwiaXNGbGF0dGVuYWJsZSIsImJhc2VGb3IiLCJjcmVhdGVCYXNlRm9yIiwiYmFzZUZvclJpZ2h0IiwiYmFzZUZ1bmN0aW9ucyIsImlzRnVuY3Rpb24iLCJiYXNlR2V0IiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJpc093biIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJiYXNlSGFzIiwiYmFzZUhhc0luIiwiYmFzZUludGVyc2VjdGlvbiIsImFycmF5cyIsIm90aExlbmd0aCIsIm90aEluZGV4IiwiY2FjaGVzIiwibWF4TGVuZ3RoIiwic2VlbiIsImJhc2VJbnZva2UiLCJiYXNlSXNBcmd1bWVudHMiLCJiYXNlSXNFcXVhbCIsImVxdWFsRnVuYyIsIm9iaklzQXJyIiwib3RoSXNBcnIiLCJvYmpUYWciLCJvdGhUYWciLCJvYmpJc09iaiIsIm90aElzT2JqIiwiaXNTYW1lVGFnIiwiZXF1YWxBcnJheXMiLCJjb252ZXJ0IiwiaXNQYXJ0aWFsIiwiZXF1YWxCeVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIm9ialByb3BzIiwib2JqTGVuZ3RoIiwib2JqU3RhY2tlZCIsIm90aFN0YWNrZWQiLCJza2lwQ3RvciIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsImJhc2VJc05hdGl2ZSIsImJhc2VJdGVyYXRlZSIsImlkZW50aXR5IiwiYmFzZU1hdGNoZXNQcm9wZXJ0eSIsImJhc2VNYXRjaGVzIiwiYmFzZUtleXMiLCJpc1Byb3RvdHlwZSIsImJhc2VLZXlzSW4iLCJuYXRpdmVLZXlzSW4iLCJpc1Byb3RvIiwiYmFzZUx0IiwiYmFzZU1hcCIsImlzQXJyYXlMaWtlIiwiZ2V0TWF0Y2hEYXRhIiwibWF0Y2hlc1N0cmljdENvbXBhcmFibGUiLCJpc0tleSIsImlzU3RyaWN0Q29tcGFyYWJsZSIsImhhc0luIiwiYmFzZU1lcmdlIiwic3JjSW5kZXgiLCJtZXJnZUZ1bmMiLCJzYWZlR2V0IiwibmV3VmFsdWUiLCJpc1R5cGVkIiwiaXNBcnJheUxpa2VPYmplY3QiLCJ0b1BsYWluT2JqZWN0IiwiYmFzZU1lcmdlRGVlcCIsImJhc2VOdGgiLCJiYXNlT3JkZXJCeSIsIml0ZXJhdGVlcyIsIm9yZGVycyIsImdldEl0ZXJhdGVlIiwiY29tcGFyZXIiLCJiYXNlU29ydEJ5Iiwib2JqQ3JpdGVyaWEiLCJjcml0ZXJpYSIsIm90aENyaXRlcmlhIiwib3JkZXJzTGVuZ3RoIiwiY29tcGFyZUFzY2VuZGluZyIsIm9yZGVyIiwiY29tcGFyZU11bHRpcGxlIiwiYmFzZVBpY2tCeSIsImJhc2VTZXQiLCJiYXNlUHVsbEFsbCIsImJhc2VQdWxsQXQiLCJpbmRleGVzIiwiYmFzZVVuc2V0IiwiYmFzZVJlcGVhdCIsImJhc2VSZXN0Iiwic2V0VG9TdHJpbmciLCJvdmVyUmVzdCIsImJhc2VTYW1wbGUiLCJiYXNlU2FtcGxlU2l6ZSIsIm5lc3RlZCIsImJhc2VTZXREYXRhIiwiYmFzZVNldFRvU3RyaW5nIiwiY29uc3RhbnQiLCJiYXNlU2h1ZmZsZSIsImJhc2VTbGljZSIsImJhc2VTb21lIiwiYmFzZVNvcnRlZEluZGV4IiwicmV0SGlnaGVzdCIsIk1BWF9BUlJBWV9MRU5HVEgiLCJiYXNlU29ydGVkSW5kZXhCeSIsInZhbElzTmFOIiwidmFsSXNOdWxsIiwidmFsSXNTeW1ib2wiLCJ2YWxJc1VuZGVmaW5lZCIsIm90aElzRGVmaW5lZCIsIm90aElzTnVsbCIsIm90aElzUmVmbGV4aXZlIiwib3RoSXNTeW1ib2wiLCJzZXRMb3ciLCJiYXNlU29ydGVkVW5pcSIsImJhc2VUb051bWJlciIsImJhc2VUb1N0cmluZyIsImJhc2VVbmlxIiwiY3JlYXRlU2V0Iiwic2VlbkluZGV4IiwiYmFzZVVwZGF0ZSIsInVwZGF0ZXIiLCJiYXNlV2hpbGUiLCJpc0Ryb3AiLCJiYXNlV3JhcHBlclZhbHVlIiwiYWN0aW9ucyIsImJhc2VYb3IiLCJiYXNlWmlwT2JqZWN0IiwiYXNzaWduRnVuYyIsInZhbHNMZW5ndGgiLCJjYXN0QXJyYXlMaWtlT2JqZWN0IiwiY2FzdEZ1bmN0aW9uIiwic3RyaW5nVG9QYXRoIiwiY2FzdFJlc3QiLCJjYXN0U2xpY2UiLCJ0eXBlZEFycmF5IiwidmFsSXNEZWZpbmVkIiwidmFsSXNSZWZsZXhpdmUiLCJjb21wb3NlQXJncyIsInBhcnRpYWxzIiwiaG9sZGVycyIsImlzQ3VycmllZCIsImFyZ3NJbmRleCIsImFyZ3NMZW5ndGgiLCJob2xkZXJzTGVuZ3RoIiwibGVmdEluZGV4IiwibGVmdExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaXNVbmN1cnJpZWQiLCJjb21wb3NlQXJnc1JpZ2h0IiwiaG9sZGVyc0luZGV4IiwicmlnaHRJbmRleCIsInJpZ2h0TGVuZ3RoIiwiaXNOZXciLCJjcmVhdGVBZ2dyZWdhdG9yIiwiaW5pdGlhbGl6ZXIiLCJjcmVhdGVBc3NpZ25lciIsImFzc2lnbmVyIiwic291cmNlcyIsImd1YXJkIiwiaXNJdGVyYXRlZUNhbGwiLCJpdGVyYWJsZSIsImNyZWF0ZUNhc2VGaXJzdCIsIm1ldGhvZE5hbWUiLCJ0cmFpbGluZyIsImNyZWF0ZUNvbXBvdW5kZXIiLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1Iiwid3JhcHBlciIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBsYW50IiwiY3JlYXRlSHlicmlkIiwicGFydGlhbHNSaWdodCIsImhvbGRlcnNSaWdodCIsImFyZ1BvcyIsImFyeSIsImFyaXR5IiwiaXNBcnkiLCJpc0JpbmQiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJnZXRIb2xkZXIiLCJob2xkZXJzQ291bnQiLCJuZXdIb2xkZXJzIiwiY3JlYXRlUmVjdXJyeSIsImZuIiwicmVvcmRlciIsImNyZWF0ZUludmVydGVyIiwidG9JdGVyYXRlZSIsImJhc2VJbnZlcnRlciIsImNyZWF0ZU1hdGhPcGVyYXRpb24iLCJkZWZhdWx0VmFsdWUiLCJjcmVhdGVPdmVyIiwiYXJyYXlGdW5jIiwiY3JlYXRlUGFkZGluZyIsImNoYXJzIiwiY2hhcnNMZW5ndGgiLCJjcmVhdGVSYW5nZSIsInN0ZXAiLCJ0b0Zpbml0ZSIsImJhc2VSYW5nZSIsImNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24iLCJ0b051bWJlciIsIndyYXBGdW5jIiwiaXNDdXJyeSIsIm5ld0RhdGEiLCJzZXREYXRhIiwic2V0V3JhcFRvU3RyaW5nIiwiY3JlYXRlUm91bmQiLCJwcmVjaXNpb24iLCJ0b0ludGVnZXIiLCJwYWlyIiwiY3JlYXRlVG9QYWlycyIsImJhc2VUb1BhaXJzIiwiY3JlYXRlV3JhcCIsInNyY0JpdG1hc2siLCJuZXdCaXRtYXNrIiwiaXNDb21ibyIsIm1lcmdlRGF0YSIsImNyZWF0ZUN1cnJ5IiwiY3JlYXRlUGFydGlhbCIsImNyZWF0ZUJpbmQiLCJjdXN0b21EZWZhdWx0c0Fzc2lnbkluIiwiY3VzdG9tRGVmYXVsdHNNZXJnZSIsImN1c3RvbU9taXRDbG9uZSIsImFyckxlbmd0aCIsImFyclN0YWNrZWQiLCJhcnJWYWx1ZSIsIm90aGVyRnVuYyIsImdldFZhbHVlIiwic3R1YkFycmF5IiwiaGFzUGF0aCIsImhhc0Z1bmMiLCJpc0xlbmd0aCIsImN0b3JTdHJpbmciLCJpc01hc2thYmxlIiwic3R1YkZhbHNlIiwib3RoZXJBcmdzIiwib2xkQXJyYXkiLCJzaG9ydE91dCIsInJlZmVyZW5jZSIsImRldGFpbHMiLCJpbnNlcnRXcmFwRGV0YWlscyIsInVwZGF0ZVdyYXBEZXRhaWxzIiwiZ2V0V3JhcERldGFpbHMiLCJsYXN0Q2FsbGVkIiwic3RhbXAiLCJyZW1haW5pbmciLCJyYW5kIiwibWVtb2l6ZSIsIm1lbW9pemVDYXBwZWQiLCJxdW90ZSIsInN1YlN0cmluZyIsImRpZmZlcmVuY2UiLCJkaWZmZXJlbmNlQnkiLCJkaWZmZXJlbmNlV2l0aCIsImZpbmRJbmRleCIsImZpbmRMYXN0SW5kZXgiLCJoZWFkIiwiaW50ZXJzZWN0aW9uIiwibWFwcGVkIiwiaW50ZXJzZWN0aW9uQnkiLCJpbnRlcnNlY3Rpb25XaXRoIiwicHVsbEFsbCIsInB1bGxBdCIsInVuaW9uIiwidW5pb25CeSIsInVuaW9uV2l0aCIsInVuemlwIiwidW56aXBXaXRoIiwid2l0aG91dCIsInhvciIsInhvckJ5IiwieG9yV2l0aCIsInppcCIsInppcFdpdGgiLCJjaGFpbiIsImludGVyY2VwdG9yIiwid3JhcHBlckF0IiwiY291bnRCeSIsImZpbmRMYXN0IiwiZm9yRWFjaFJpZ2h0IiwiZ3JvdXBCeSIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwic29ydEJ5IiwiYmVmb3JlIiwiYmluZEtleSIsIldSQVBfQklORF9GTEFHIiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwidGltZSIsImxlYWRpbmdFZGdlIiwidGltZXJFeHBpcmVkIiwic2hvdWxkSW52b2tlIiwidGltZVNpbmNlTGFzdENhbGwiLCJ0cmFpbGluZ0VkZ2UiLCJ0aW1lV2FpdGluZyIsInJlbWFpbmluZ1dhaXQiLCJkZWJvdW5jZWQiLCJpc0ludm9raW5nIiwiZmx1c2giLCJkZWZlciIsImRlbGF5IiwibWVtb2l6ZWQiLCJDYWNoZSIsIm5lZ2F0ZSIsIm92ZXJBcmdzIiwidHJhbnNmb3JtcyIsImZ1bmNzTGVuZ3RoIiwicGFydGlhbCIsInBhcnRpYWxSaWdodCIsInJlYXJnIiwiZ3QiLCJndGUiLCJpc0Vycm9yIiwiaXNJbnRlZ2VyIiwiaXNOdW1iZXIiLCJpc1N0cmluZyIsImx0IiwibHRlIiwidG9BcnJheSIsIml0ZXJhdG9yVG9BcnJheSIsInJlbWFpbmRlciIsInRvTGVuZ3RoIiwiaXNCaW5hcnkiLCJhc3NpZ25JbiIsImFzc2lnbkluV2l0aCIsImFzc2lnbldpdGgiLCJwcm9wc0luZGV4IiwicHJvcHNMZW5ndGgiLCJkZWZhdWx0c0RlZXAiLCJtZXJnZVdpdGgiLCJpbnZlcnQiLCJpbnZlcnRCeSIsImludm9rZSIsIm9taXQiLCJDTE9ORV9ERUVQX0ZMQUciLCJiYXNlUGljayIsInBpY2tCeSIsInRvUGFpcnMiLCJ0b1BhaXJzSW4iLCJjYW1lbENhc2UiLCJ3b3JkIiwiY2FwaXRhbGl6ZSIsInVwcGVyRmlyc3QiLCJrZWJhYkNhc2UiLCJsb3dlckNhc2UiLCJsb3dlckZpcnN0Iiwic25ha2VDYXNlIiwic3RhcnRDYXNlIiwidXBwZXJDYXNlIiwiaGFzVW5pY29kZVdvcmQiLCJ1bmljb2RlV29yZHMiLCJhc2NpaVdvcmRzIiwiYXR0ZW1wdCIsImJpbmRBbGwiLCJtZXRob2ROYW1lcyIsImZsb3ciLCJmbG93UmlnaHQiLCJtZXRob2RPZiIsIm1peGluIiwib3ZlciIsIm92ZXJFdmVyeSIsIm92ZXJTb21lIiwiYmFzZVByb3BlcnR5RGVlcCIsInJhbmdlUmlnaHQiLCJhdWdlbmQiLCJhZGRlbmQiLCJkaXZpZGUiLCJkaXZpZGVuZCIsImRpdmlzb3IiLCJtdWx0aXBseSIsIm11bHRpcGxpZXIiLCJtdWx0aXBsaWNhbmQiLCJzdWJ0cmFjdCIsIm1pbnVlbmQiLCJzdWJ0cmFoZW5kIiwiYWZ0ZXIiLCJjYXN0QXJyYXkiLCJjaHVuayIsImNvbmQiLCJjb25mb3JtcyIsImJhc2VDb25mb3JtcyIsImN1cnJ5IiwiY3VycnlSaWdodCIsImRyb3BSaWdodCIsImRyb3BSaWdodFdoaWxlIiwiZHJvcFdoaWxlIiwiYmFzZUZpbGwiLCJmbGF0TWFwIiwiZmxhdE1hcERlZXAiLCJmbGF0TWFwRGVwdGgiLCJmbGF0dGVuRGVlcCIsImZsYXR0ZW5EZXB0aCIsImZsaXAiLCJmcm9tUGFpcnMiLCJmdW5jdGlvbnMiLCJmdW5jdGlvbnNJbiIsImluaXRpYWwiLCJtYXBLZXlzIiwibWFwVmFsdWVzIiwibWF0Y2hlcyIsIm1hdGNoZXNQcm9wZXJ0eSIsIm50aEFyZyIsIm9taXRCeSIsIm9yZGVyQnkiLCJwcm9wZXJ0eU9mIiwicHVsbEFsbEJ5IiwicHVsbEFsbFdpdGgiLCJzYW1wbGVTaXplIiwic2V0V2l0aCIsInNodWZmbGUiLCJzb3J0ZWRVbmlxIiwic29ydGVkVW5pcUJ5Iiwic2VwYXJhdG9yIiwic3ByZWFkIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmFyeSIsInVuaXFCeSIsInVuaXFXaXRoIiwidW5zZXQiLCJ1cGRhdGUiLCJ1cGRhdGVXaXRoIiwidmFsdWVzSW4iLCJ3cmFwIiwiemlwT2JqZWN0IiwiemlwT2JqZWN0RGVlcCIsImVudHJpZXNJbiIsImV4dGVuZCIsImV4dGVuZFdpdGgiLCJjbG9uZURlZXAiLCJjbG9uZURlZXBXaXRoIiwiY2xvbmVXaXRoIiwiY29uZm9ybXNUbyIsImRlZmF1bHRUbyIsImVuZHNXaXRoIiwiZXNjYXBlIiwiZXNjYXBlUmVnRXhwIiwiZmluZEtleSIsImZpbmRMYXN0S2V5IiwiZm9ySW4iLCJmb3JJblJpZ2h0IiwiZm9yT3duIiwiZm9yT3duUmlnaHQiLCJpblJhbmdlIiwiYmFzZUluUmFuZ2UiLCJpc0Jvb2xlYW4iLCJpc0VsZW1lbnQiLCJpc0VtcHR5IiwiaXNFcXVhbCIsImlzRXF1YWxXaXRoIiwiaXNNYXRjaCIsImlzTWF0Y2hXaXRoIiwiaXNOYXRpdmUiLCJpc05pbCIsImlzTnVsbCIsImlzU2FmZUludGVnZXIiLCJpc1VuZGVmaW5lZCIsImlzV2Vha01hcCIsImlzV2Vha1NldCIsInN0cmljdExhc3RJbmRleE9mIiwibWF4QnkiLCJtZWFuIiwibWVhbkJ5IiwibWluQnkiLCJzdHViT2JqZWN0Iiwic3R1YlN0cmluZyIsInN0dWJUcnVlIiwibnRoIiwibm9Db25mbGljdCIsInN0ckxlbmd0aCIsInBhZEVuZCIsInJhZGl4IiwiZmxvYXRpbmciLCJyZWR1Y2VSaWdodCIsInJlcGVhdCIsInNhbXBsZSIsInNvcnRlZEluZGV4Iiwic29ydGVkSW5kZXhCeSIsInNvcnRlZEluZGV4T2YiLCJzb3J0ZWRMYXN0SW5kZXgiLCJzb3J0ZWRMYXN0SW5kZXhCeSIsInNvcnRlZExhc3RJbmRleE9mIiwic3RhcnRzV2l0aCIsInN1bUJ5IiwidGVtcGxhdGUiLCJpc0VzY2FwaW5nIiwiaXNFdmFsdWF0aW5nIiwiaW1wb3J0cyIsImltcG9ydHNLZXlzIiwiaW1wb3J0c1ZhbHVlcyIsImludGVycG9sYXRlIiwicmVEZWxpbWl0ZXJzIiwiZXZhbHVhdGUiLCJzb3VyY2VVUkwiLCJlc2NhcGVWYWx1ZSIsImludGVycG9sYXRlVmFsdWUiLCJlc1RlbXBsYXRlVmFsdWUiLCJldmFsdWF0ZVZhbHVlIiwidmFyaWFibGUiLCJ0aW1lcyIsInRvTG93ZXIiLCJ0b1NhZmVJbnRlZ2VyIiwidG9VcHBlciIsInRyaW1FbmQiLCJ0cmltU3RhcnQiLCJ0cnVuY2F0ZSIsIm9taXNzaW9uIiwibmV3RW5kIiwidW5pcXVlSWQiLCJlYWNoIiwiZWFjaFJpZ2h0IiwiVkVSU0lPTiIsImlzRmlsdGVyIiwidGFrZU5hbWUiLCJkcm9wTmFtZSIsImNoZWNrSXRlcmF0ZWUiLCJpc1Rha2VyIiwibG9kYXNoRnVuYyIsInJldFVud3JhcHBlZCIsImlzTGF6eSIsInVzZUxhenkiLCJpc0h5YnJpZCIsImlzVW53cmFwcGVkIiwib25seUxhenkiLCJjaGFpbk5hbWUiLCJpc1JpZ2h0IiwiZ2V0VmlldyIsIml0ZXJMZW5ndGgiLCJ0YWtlQ291bnQiLCJpdGVySW5kZXgiLCJjb21taXQiLCJjcmVhdGVTaGlmdEFyciIsInNwYWNlIiwiaXgiLCJ2a2JlYXV0aWZ5IiwiaXNTdWJxdWVyeSIsInBhcmVudGhlc2lzTGV2ZWwiLCJzcGxpdF9zcWwiLCJ0YWIiLCJ4bWwiLCJhciIsImluQ29tbWVudCIsImRlZXAiLCJjc3MiLCJzcWwiLCJhcl9ieV9xdW90ZSIsInhtbG1pbiIsInByZXNlcnZlQ29tbWVudHMiLCJqc29ubWluIiwiY3NzbWluIiwic3FsbWluIiwiY29uZmlybSIsInNwbGl0RGlzYWJsZSIsImNhcHR1cmUiLCJjbGlja2F3YXlIYW5kbGVyIiwicmVzZXRIYW5kbGVyIiwibmNJZCIsInF1ZXVlTWljcm90YXNrIiwiTXV0YXRpb24iLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImhhbmRsZSIsIm9ic2VydmVyIiwiY3JlYXRlVGV4dE5vZGUiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsIk1lc3NhZ2VDaGFubmVsIiwiY2hhbm5lbCIsInBvcnQxIiwib25tZXNzYWdlIiwicG9ydDIiLCJwb3N0TWVzc2FnZSIsInNjcmlwdEVsIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVtb3ZlQ2hpbGQiLCJkb2N1bWVudEVsZW1lbnQiLCJwdW55Y29kZSIsInV0aWwiLCJVcmwiLCJzbGFzaGVzIiwiaG9zdG5hbWUiLCJwYXRobmFtZSIsImhyZWYiLCJ1cmxQYXJzZSIsInJlbGF0aXZlIiwicmVzb2x2ZU9iamVjdCIsInByb3RvY29sUGF0dGVybiIsInBvcnRQYXR0ZXJuIiwic2ltcGxlUGF0aFBhdHRlcm4iLCJ1bndpc2UiLCJhdXRvRXNjYXBlIiwibm9uSG9zdENoYXJzIiwiaG9zdEVuZGluZ0NoYXJzIiwiaG9zdG5hbWVQYXJ0UGF0dGVybiIsImhvc3RuYW1lUGFydFN0YXJ0IiwidW5zYWZlUHJvdG9jb2wiLCJob3N0bGVzc1Byb3RvY29sIiwic2xhc2hlZFByb3RvY29sIiwicXVlcnlzdHJpbmciLCJwYXJzZVF1ZXJ5U3RyaW5nIiwic2xhc2hlc0Rlbm90ZUhvc3QiLCJ1IiwicXVlcnlJbmRleCIsInNwbGl0dGVyIiwidVNwbGl0Iiwic2ltcGxlUGF0aCIsImxvd2VyUHJvdG8iLCJhdFNpZ24iLCJob3N0RW5kIiwiaGVjIiwicGFyc2VIb3N0IiwiaXB2Nkhvc3RuYW1lIiwiaG9zdHBhcnRzIiwicGFydCIsIm5ld3BhcnQiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInRvQVNDSUkiLCJhZSIsImVzYyIsInFtIiwicmVsIiwidGtleXMiLCJ0ayIsInRrZXkiLCJya2V5cyIsInJrIiwicmtleSIsInJlbFBhdGgiLCJpc1NvdXJjZUFicyIsImlzUmVsQWJzIiwibXVzdEVuZEFicyIsInJlbW92ZUFsbERvdHMiLCJzcmNQYXRoIiwicHN5Y2hvdGljIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJhdXRoSW5Ib3N0IiwiaGFzVHJhaWxpbmdTbGFzaCIsInVwIiwiaXNBYnNvbHV0ZSIsInVyaWxpYiIsImhlbHBlcnMiLCJTY2hlbWFTY2FuUmVzdWx0IiwiZm91bmQiLCJyZWYiLCJzY2FuIiwic2NhblNjaGVtYSIsImJhc2V1cmkiLCIkcmVmIiwicmVzb2x2ZWRVcmkiLCJvdXJCYXNlIiwic2NhbkFycmF5IiwiaXRlbXMiLCJleHRlbmRzIiwiYWRkaXRpb25hbEl0ZW1zIiwic2Nhbk9iamVjdCIsImFkZGl0aW9uYWxQcm9wZXJ0aWVzIiwiZGVmaW5pdGlvbnMiLCJwYXR0ZXJuUHJvcGVydGllcyIsImRlcGVuZGVuY2llcyIsImRpc2FsbG93IiwiYWxsT2YiLCJhbnlPZiIsIm9uZU9mIiwibm90Iiwic3Ryb2tlV2lkdGgiLCJlc2NhcGVLZXlMaXN0ZW5lciIsImluZm9MaXN0ZW5lcnMiLCJlbnRlcktleUxpc3RlbmVyIiwiYXJyb3dLZXlMaXN0ZW5lciIsInNoaWZ0S2V5IiwiYmJveFN5bGxhYmxlcyIsImluZCIsInNlbGVjdGVkU3lsVGV4dCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJpc1NlbEJ5QkJveCIsInNlbEJ5QkJveCIsInN0b3BQcm9wSGFuZGxlciIsImlzRWxlbWVudEluUmVjdCIsInVsIiwibHIiLCJnZXRCQm94Q29vcmRzIiwiYm94IiwiY2xpY2tIYW5kbGVyIiwiZ2V0VXNlck1vZGUiLCJmaXJzdExpZ2F0dXJlSGFsZiIsInNlY29uZExpZ2F0dXJlSGFsZiIsIm5jSW5kZXgiLCJmaXJzdFVzZSIsImFzc2VydCIsInNlY29uZFVzZSIsImlzTXVsdGlTZWxlY3QiLCJzZWxlY3RlZENsYXNzIiwic2VsQnlTdGFmZiIsInNlbEJ5TmV1bWUiLCJzZWxCeU5jIiwic2VsQnlMYXllckVsZW1lbnQiLCJnZXRTdGFmZkJ5Q29vcmRzIiwiZGlzcGF0Y2hFdmVudCIsIk1vdXNlRXZlbnQiLCJzY3JlZW5YIiwic2NyZWVuWSIsImN0cmxLZXkiLCJhbHRLZXkiLCJudiIsImRoIiwic2VsIiwiaW5pdGlhbFgiLCJwYW5uaW5nIiwiZHJhZ1NlbGVjdGluZyIsImNhbnZhcyIsImRyYWdTZWxlY3RBY3Rpb24iLCJub2RlTmFtZSIsInN0YXJ0RHJhZyIsImluaXRpYWxQIiwiY3VycmVudFB0IiwiY3VyWCIsImN1clkiLCJuZXdYIiwibmV3WSIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRIZWlnaHQiLCJ1cGRhdGVSZWN0Iiwic2VsZWN0UmVjdCIsInJ4IiwicnkiLCJseCIsImx5Iiwic2VsZWN0ZWRFbGVtZW50cyIsImdldEVsZW1lbnRzQnlTZWxlY3RvciIsInJlc2V0VG8iLCJjb3B5QXR0cmlidXRlcyIsImdldFN5bGxhYmxlVGV4dCIsImNoaWxkTm9kZXMiLCJub2RlVmFsdWUiLCJpc0ludmFsaWRCQm94IiwibWVpIiwiem9uZSIsImlzQWxsWmVybyIsImhhc05lZ2F0aXZlQ29vcmRpbmF0ZXMiLCJjaGVja1ByZWNlZGVzU3lsbGFibGUiLCJzeWxzVGV4dCIsImNoZWNrRm9sbG93c1N5bGxhYmxlIiwiY2hlY2tPYmxpcXVlIiwibmNJZHgiLCJjb2xsZWN0RmFjc0NoaWxkcmVuIiwiYXJyYXkxIiwiYXJyYXkyIiwic3RhZmZCYXNlZE1laSIsIkRPTVBhcnNlciIsInNlcmlhbGl6ZXIiLCJYTUxTZXJpYWxpemVyIiwibWVpRG9jIiwicGFyc2VGcm9tU3RyaW5nIiwibkNvbCIsInNlY3Rpb25zIiwic2VjdGlvbiIsInBiIiwic2IiLCJuZXdTdGFmZiIsImNyZWF0ZUVsZW1lbnROUyIsIm5ld0xheWVyIiwic3VyZmFjZSIsInN1cmZhY2VJZCIsIm5lb25OZXVtZUxpbmVTZWN0aW9ucyIsIm5TdGFmZiIsImxhc3RDYiIsIm5lb25OZXVtZUxpbmVTZWN0aW9uIiwibGF5ZXIiLCJjYWxjdWxhdGVBbmRBZGRab25lIiwiY3VzdG9zIiwibGFzdEVsZW1lbnRDaGlsZCIsImZpcnN0RWxlbWVudENoaWxkIiwic2NvcmVEZWYiLCJjb2xMYXlvdXQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJzZXJpYWxpemVUb1N0cmluZyIsInN0YXJ0RWxlbWVudCIsImVuZEVsZW1lbnQiLCJlbGVtZW50c0JldHdlZW4iLCJjb2xsZWN0QWxsRWxlbWVudHNXaXRoRmFjcyIsIm5leHRFbGVtZW50U2libGluZyIsIkJCb3giLCJjYWxjdWxhdGVCQm94IiwiaW5zZXJ0QmVmb3JlIiwic2JCYXNlZE1laSIsImhhc0NvbHMiLCJoYXNJbnZhbGlkQkJveCIsInpvbmVzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbnZhbGlkWm9uZXNJbmZvIiwiaXNJbnZhbGlkIiwiaGFzRW1wdHlTeWxsYWJsZSIsImhhc0VtcHR5TmV1bWUiLCJoYXNJbnZhbGlkRGl2TGluZSIsImludmFsaWREaXZMaW5lSW5mbyIsImhhc0ludmFsaWRBY2NpZCIsImludmFsaWRBY2NpZEluZm8iLCJlbXB0eVN5bGxhYmxlSW5mbyIsImVtcHR5TmV1bWVJbmZvIiwibmV1bWVzIiwibGlxIiwib3JpZ2luYWxTdGF2ZXMiLCJuZXdQYiIsInNiQXJyYXkiLCJvcmlnU3lsbGFibGUiLCJuZXVtZUJlaGluZCIsIm5ldW1lQWhlYWQiLCJjaGlsZEFycmF5Iiwic2JJbmRleCIsIm5ld1N5bGxhYmxlIiwiY2xlZiIsImRlYnVnIiwic2JzIiwibGF5ZXJDaGlsZHJlbiIsImN1cnJlbnRTYiIsIm5leHRTYiIsIm5ld1NiIiwibmV3U2VjdGlvbiIsImN1cnJlbnRJZHgiLCJjYkZhY3MiLCJjYlpvbmUiLCJjaGlsZHJlbkFycmF5IiwiZmFjc0NoaWxkcmVuIiwieiIsIm5ld1N5bGxhYmxlcyIsImludmFsaWRMaW5rZWQiLCJpbnZhbGlkTGlua2VkSW5mbyIsImludmFsaWRPYmxpcXVlIiwiaW52YWxpZE9ibGlxdWVJbmZvIiwib2JsaXF1ZUluZm8iLCJzeWxsYWJsZUlkeCIsIm1laVN0cmluZyIsImRpbWVuc2lvbnMiLCJtZWlMcngiLCJtZWlMcnkiLCJpc091dE9mQm91bmRzIiwiY29vcmQiLCJpc0F0dHJPdXRPZkJvdW5kcyIsIm1laUZvclZhbGlkYXRpb24iLCJzY2hlbWFSZXNwb25zZSIsIndvcmtlciIsInZlcnNpb25GaWVsZCIsInN0YXR1c0ZpZWxkIiwidXBkYXRlU3RhdHVzVUkiLCJsaW5lIiwic3RhdHVzT25DbGljayIsIm1laVZlcnNpb24iLCJtZWlTdGF0dXMiLCJXb3JrZXIiLCJtZWlEYXRhIiwidXBkYXRlVmVyc2lvblVJIiwiZ2V0TWVpVmVyc2lvbiIsInNhdmVkIiwiaW5kaWNhdG9yIiwiYWx0TWVzc2FnZSIsInVwZGF0ZUluZGljYXRvciIsIm9uYmVmb3JldW5sb2FkIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwiZm9ybWF0QXJncyIsInVzZUNvbG9ycyIsIm5hbWVzcGFjZSIsImh1bWFuaXplIiwibGFzdEMiLCJzYXZlIiwibmFtZXNwYWNlcyIsInN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiREVCVUciLCJfX253anMiLCJXZWJraXRBcHBlYXJhbmNlIiwiZmlyZWJ1ZyIsImV4Y2VwdGlvbiIsInRhYmxlIiwibG9jYWxzdG9yYWdlIiwiY29sb3JzIiwiZm9ybWF0dGVycyIsImFjdGl2YXRlIiwiaW5zZXJ0SGFuZGxlciIsImluc2VydEFjdGl2ZSIsImRlYWN0aXZhdGUiLCJ0YWJJZHMiLCJpbnNlcnRPcHRpb25zIiwiaW5zZXJ0RWxlbWVudHMiLCJiaW5kRWxlbWVudHMiLCJpbnNlcnRQYW5lbCIsImluc2VydEhlYWRpbmciLCJpbnNlcnRIZWFkaW5nVGl0bGUiLCJpbnNlcnRDb250ZW50cyIsImluc2VydERyb3Bkb3duSWNvbiIsImVkaXRQYW5lbCIsImVkaXRIZWFkaW5nIiwiZGlzcGxheUhlYWRpbmdUaXRsZSIsImVkaXRDb250ZW50cyIsImVkaXREcm9wZG93bkljb24iLCJzZWxCeVN5bGxhYmxlIiwiZmlyc3RDbGljayIsImluc2VydERpc2FibGVkIiwicmVtb3ZlSW5zZXJ0Q2xpY2tIYW5kbGVycyIsInJlc2V0SW5zZXJ0SGFuZGxlciIsInN0YWZmSGFuZGxlciIsImVsZW1lbnRUeXBlIiwiYnV0dG9uSWQiLCJhbHJlYWR5SW5JbnNlcnRNb2RlIiwiaXNJbnNlcnRNb2RlIiwidGlsdCIsImZvcm0iLCJhY2NpZCIsImVkaXRNb2RlQnV0dG9uIiwibmF2YmFyRHJvcGRvd25GaWxlTWVudSIsImZpbGVEcm9wZG93bkJ0biIsImZpbGVOYXZiYXJDb250ZW50cyIsIm5hdmJhckRyb3Bkb3duTUVJQWN0aW9uc01lbnUiLCJtZWlBY3Rpb25zRHJvcGRvd25CdG4iLCJtZWlBY3Rpb25zTmF2YmFyQ29udGVudHMiLCJuYXZiYXJGaW5hbGl6ZSIsInVuZG9SZWRvUGFuZWwiLCJhZGRTeWxBY3Rpb24iLCJuYXZiYXJEcm9wZG93bnMiLCJkcm9wRG93biIsImV4cG9ydCIsIm1hbmlmZXN0IiwibGluayIsImRvd25sb2FkIiwiZ2V0UGFnZU1FSSIsImNvbnZlcnRUb05lb24iLCJnZXRQYWdlTmFtZSIsImhhc0VtcHR5U3lsbGFibGVzIiwicmVtb3ZlU3lsbGFibGVBY3Rpb25zIiwiY2hhaW5SZW1vdmVBY3Rpb24iLCJoYXNFbXB0eU5ldW1lcyIsInJlbW92ZU5ldW1lQWN0aW9ucyIsIm91dE9mQm91bmRab25lcyIsInpvbmVNYXAiLCJvdXRPZkJvdW5kR2x5cGhzIiwiZ2x5cGgiLCJmYWNzSWQiLCJoYXNJbnZhbGlkT2JsaXF1ZSIsImludmFsaWRTeWxsYWJsZXMiLCJnZXRJbnZhbGlkU3lsbGFibGVzIiwicHJlY2VkZXNTeWxsYWJsZSIsImZvbGxvd3NTeWxsYWJsZSIsImRlbGV0ZURiIiwibG9jYXRpb24iLCJyZWxvYWQiLCJ1bmRvSGFuZGxlciIsInVuZG8iLCJyZWRvSGFuZGxlciIsInJlZG8iLCJnZXRHZXRQYXJhbSIsIm1hbmlmZXN0TG9jYXRpb24iLCJzdGF0dXNUZXh0IiwiaW1hZ2UiLCJEaXNwbGF5IiwiSW5mbyIsIlRleHRWaWV3IiwiVGV4dEVkaXQiLCJWaWV3IiwiTmV1bWVFZGl0IiwiUmVzcG9uc2UiLCJwYXJzZU1hbmlmZXN0IiwidGV4dFZpZXciLCJ1cGRhdGVCQm94VmlzaWJpbGl0eSIsImNvcmUiLCJWYWxpZGF0aW9uIiwic2V0RGVidWdNb2RlIiwibGlzdGVuVW5zYXZlZENoYW5nZXMiLCJzZXR1cEVkaXQiLCJpbml0RGIiLCJvblNWR0xvYWQiLCJwYWdlTm8iLCJnZXRDdXJyZW50UGFnZSIsImNoYW5nZVBhZ2UiLCJzZXRTYXZlZFN0YXR1cyIsInBhZ2VVUkkiLCJlbGVtZW50SUQiLCJ1cGRhdGVEYXRhYmFzZSIsImdldEFubm90YXRpb25zIiwidGltZXN0YW1wIiwicmVhZEFzRGF0YVVSTCIsImdldE1FSSIsImdldFNWRyIsInZlcm92aW9XcmFwcGVyIiwidW5kb1N0YWNrcyIsInJlZG9TdGFja3MiLCJuZW9uQ2FjaGUiLCJibGFua1BhZ2VzIiwiYW5ub3RhdGlvbnMiLCJtZWlfYW5ub3RhdGlvbnMiLCJsYXN0UGFnZUxvYWRlZCIsImFubm90YXRpb24iLCJ0aW1lWm9uZVJlZ2V4cCIsImdldFRpbWUiLCJuZXdBbm5vdGF0aW9uIiwibG9hZERhdGEiLCJibGFua1BhZ2UiLCJjb252ZXJ0VG9WZXJvdmlvIiwiY2hlY2tPdXRPZkJvdW5kc0dseXBocyIsImRpcnR5Iiwic2VuZEZvclZhbGlkYXRpb24iLCJyZW1vdmVDb2x1bW5MYWJlbCIsInN2ZyIsImxvYWRQYWdlIiwiY3VycmVudE1FSSIsInVuZG9TdGFjayIsInVwZGF0ZUNhY2hlIiwic3ZnVGV4dCIsIm1laVByb21pc2UiLCJzdmdQcm9taXNlIiwidXBkYXRlVGltZXN0YW1wIiwidmVyb3Zpb1dvcmtlciIsImhhbmRsZU1lc3NhZ2UiLCJoYW5kbGVFcnJvciIsIk5lb25TY2hlbWEiLCJOZW9uQ29udGV4dCIsIm1hbmlmZXN0U3RyaW5nIiwiVmFsaWRhdG9yIiwiYXR0cmlidXRlIiwidW5yZXNvbHZlZFJlZnMiLCJ2YWxpZGF0b3JzIiwic2hvdWxkUmVzb2x2ZSIsImFkZFNjaGVtYSIsIm91clVyaSIsImFkZFN1YlNjaGVtYUFycmF5IiwiYWRkU3ViU2NoZW1hIiwiYWRkU3ViU2NoZW1hT2JqZWN0Iiwic2V0U2NoZW1hcyIsImdldFNjaGVtYSIsInVybiIsInNjaCIsInJlcXVpcmVkIiwidmFsaWRhdGVTY2hlbWEiLCJzY2hlbWFvYmoiLCJzY2hlbWFUcmF2ZXJzZXIiLCJzdXBlclJlc29sdmUiLCJzd2l0Y2hTY2hlbWEiLCJyZXNvbHZlZCIsInN1YmN0eCIsInN1YnNjaGVtYSIsInNraXBBdHRyaWJ1dGVzIiwiaWdub3JlUHJvcGVydGllcyIsInZhbGlkYXRvckVyciIsImFsbG93VW5rbm93bkF0dHJpYnV0ZXMiLCJyZXdyaXRlIiwicGFyc2VkIiwiZnJhZ21lbnQiLCJ0ZXN0VHlwZSIsImludGVnZXIiLCJib29sZWFuIiwiZGF0ZSIsImFueSIsIm1heEludCIsInJlZ2V4UHVueWNvZGUiLCJyZWdleE5vbkFTQ0lJIiwicmVnZXhTZXBhcmF0b3JzIiwic3RyaW5nRnJvbUNoYXJDb2RlIiwibWFwRG9tYWluIiwidWNzMmRlY29kZSIsImV4dHJhIiwiY291bnRlciIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImZsYWciLCJhZGFwdCIsIm51bVBvaW50cyIsImZpcnN0VGltZSIsImJhc2VNaW51c1RNaW4iLCJkZWNvZGUiLCJiYXNpYyIsIm9sZGkiLCJiYXNlTWludXNUIiwiY29kZVBvaW50IiwiaW5wdXRMZW5ndGgiLCJiaWFzIiwiZW5jb2RlIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsInEiLCJoYW5kbGVkQ1BDb3VudFBsdXNPbmUiLCJxTWludXNUIiwicXMiLCJzZXAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJ4cyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsIm9iamVjdEtleXMiLCJrcyIsImYiLCJ0ZXN0U2NoZW1hTm9UaHJvdyIsImdldEVudW1lcmFibGVQcm9wZXJ0eSIsInRlc3RBZGRpdGlvbmFsUHJvcGVydHkiLCJwcmVWYWxpZGF0ZVByb3BlcnR5IiwiaW5uZXIiLCJuZXN0ZWRFcnJvcnMiLCJpZiIsImlmVmFsaWQiLCJlbHNlIiwicHJvcGVydHlOYW1lcyIsIl9lIiwibWluUHJvcGVydGllcyIsIm1heFByb3BlcnRpZXMiLCJtaW5pbXVtIiwiZXhjbHVzaXZlTWluaW11bSIsIm1heGltdW0iLCJleGNsdXNpdmVNYXhpbXVtIiwidmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5IiwidmFsaWRhdGlvblR5cGUiLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uQXJndW1lbnQiLCJpbnN0YW5jZURlY2ltYWxzIiwiZGl2aXNvckRlY2ltYWxzIiwibWF4RGVjaW1hbHMiLCJwb3ciLCJ0ZXN0QXJyYXlzIiwibXVsdGlwbGVPZiIsImRpdmlzaWJsZUJ5IiwibWluTGVuZ3RoIiwiaHNwIiwibWluSXRlbXMiLCJtYXhJdGVtcyIsInVuaXF1ZUl0ZW1zIiwiZGVwIiwiY2hpbGRDb250ZXh0Iiwibm90VHlwZXMiLCJzY2hlbWFJZCIsInVwZGF0ZURlYnVnTW9kZVN0YXR1cyIsImRlYnVnTW9kZUNoZWNrYm94IiwiZXJyb3JMb2dMYWJlbCIsImluaXRFcnJvckxvZyIsIm1laUNsYXNzIiwiaGFuZGxlWm9vbSIsImRpc3BsYXlDb250cm9sc1BhbmVsIiwibG9hZFNldHRpbmdzIiwiYWRkVXBkYXRlQ2FsbGJhY2siLCJ1cGRhdGVWaXN1YWxpemF0aW9uIiwiRGlzcGxheUNvbnRyb2xzIiwic2V0Wm9vbUNvbnRyb2xzIiwiaW5pdERpc3BsYXlDb250cm9scyIsInVwZGF0ZUNhbGxiYWNrcyIsImRpdmFSZWFkeSIsImRpdmEiLCJvYmplY3REYXRhIiwibWluSGVpZ2h0IiwiaW5kZXhNYXAiLCJkaXNhYmxlRHJhZ1Njcm9sbGFibGUiLCJkaXNwbGF5UGFuZWwiLCJsb2FkRGVsYXkiLCJpbml0RGl2YUV2ZW50cyIsIm9ucmVzaXplIiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwiRXZlbnRzIiwic3Vic2NyaWJlIiwiSUQiLCJkaWRMb2FkIiwiYWRqdXN0Wm9vbSIsInBhZ2VJbmRleCIsImNoZWNrQW5kTG9hZCIsInBhZ2UiLCJnZXRQYWdlU1ZHIiwidXBkYXRlU1ZHIiwiY29udGFpbmVySWQiLCJwYWdlSW5kZXhlcyIsImdldEFjdGl2ZVBhZ2VJbmRleCIsInpvb21EdXJhdGlvbiIsImZpcnN0Q2hpbGQiLCJzZXRWaWV3RXZlbnRIYW5kbGVycyIsImdldFBhZ2VEaW1lbnNpb25zQXRDdXJyZW50Wm9vbUxldmVsIiwidmlld0hhbmRsZXIiLCJfdmlld2VyQ29yZSIsImdldFBhZ2VSZWdpb24iLCJpbmNsdWRlUGFkZGluZyIsImluY29ycG9yYXRlVmlld3BvcnQiLCJtYXJnaW5MZWZ0IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJ0b3AiLCJzZXREaXNwbGF5TGlzdGVuZXJzIiwidmlzaWJpbGl0eSIsInNlcXVlbmNlIiwic2VxdWVuY2VzIiwiY2FudmFzZXMiLCJpdGVtVGl0bGUiLCJwYWdlcyIsIl9yYWYiLCJfaXNUb3VjaCIsIl9leHRlbmQiLCJWYW5pbGxhS2luZXRpYyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkRFRkFVTFRTIiwiQUNUSVZFX0NMQVNTIiwiX2luaXRFbGVtZW50cyIsIl9WYW5pbGxhS2luZXRpYyIsImRlY2VsZXJhdGUiLCJ0cmlnZ2VySGFyZHdhcmUiLCJ0aHJlc2hvbGQiLCJzbG93ZG93biIsIm1heHZlbG9jaXR5IiwidGhyb3R0bGVGUFMiLCJtb3ZpbmdDbGFzcyIsImRvd24iLCJkZWNlbGVyYXRpbmdDbGFzcyIsInZlbG9jaXR5IiwidmVsb2NpdHlZIiwiX21vdmUiLCJzdG9wIiwic3RvcHBlZCIsImRldGFjaCIsIl9kZXRhY2hMaXN0ZW5lcnMiLCJhdHRhY2giLCJfYXR0YWNoTGlzdGVuZXJzIiwieHBvcyIsInByZXZYUG9zIiwieXBvcyIsInByZXZZUG9zIiwibW91c2VEb3duIiwidGhyb3R0bGVUaW1lb3V0IiwibGFzdE1vdmUiLCJlbGVtZW50Rm9jdXNlZCIsImRvY3VtZW50UmVzZXRIYW5kbGVyIiwiX3Jlc2V0TW91c2UiLCJodG1sIiwiX2luaXRFdmVudHMiLCJwcmVmaXhlcyIsInN0eWxlcyIsInRvdWNoU3RhcnQiLCJ0b3VjaCIsIl91c2VUYXJnZXQiLCJvcmlnaW5hbEV2ZW50IiwidG91Y2hlcyIsIl90aHJlc2hvbGQiLCJfc3RhcnQiLCJ0b3VjaE1vdmUiLCJfaW5wdXRtb3ZlIiwiaW5wdXREb3duIiwiaW5wdXRFbmQiLCJfZW5kIiwiaW5wdXRNb3ZlIiwic2Nyb2xsIiwibW92ZWQiLCJpbnB1dENsaWNrIiwiZHJhZ1N0YXJ0Iiwic2VsZWN0U3RhcnQiLCJtb3ZlZFgiLCJtb3ZlZFkiLCJzcXJ0IiwiYmx1ciIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJfY2FsY3VsYXRlVmVsb2NpdGllcyIsIl9zZXRNb3ZlQ2xhc3NlcyIsIl9jYXBWZWxvY2l0eSIsImZpbHRlclRhcmdldCIsIl9kZWNlbGVyYXRlVmVsb2NpdHkiLCJuZXdWZWxvY2l0eSIsImNsYXNzZXMiLCJzY3JvbGxlciIsIl9nZXRTY3JvbGxlciIsInNjcm9sbFdpZHRoIiwic2Nyb2xsSGVpZ2h0IiwibW92aW5nIiwibmV3U2Nyb2xsWCIsIm5ld1Njcm9sbFkiLCJfd2luZG93IiwiX2RvY3VtZW50IiwiZHJhZ2dlZCIsIm1kIiwibXUiLCJtbSIsImxhc3RDbGllbnRYIiwibGFzdENsaWVudFkiLCJwdXNoZWQiLCJjb250IiwiZWxlbWVudEZyb21Qb2ludCIsInBhZ2VYIiwicGFnZVkiLCJyZWFkeVN0YXRlIiwicmVzZXREcmFnc2Nyb2xsIiwiY3JlYXRlRGVidWciLCJwcmV2VGltZSIsIm5hbWVzcGFjZXNDYWNoZSIsImVuYWJsZWRDYWNoZSIsImVuYWJsZU92ZXJyaWRlIiwiZW5hYmxlZCIsIm1zIiwiY29lcmNlIiwiZm9ybWF0dGVyIiwic2VsZWN0Q29sb3IiLCJkZWxpbWl0ZXIiLCJuZXdEZWJ1ZyIsInRvTmFtZXNwYWNlIiwiZGlzYWJsZSIsInNraXBzIiwiZW5hYmxlIiwicGx1cmFsIiwibXNBYnMiLCJpc1BsdXJhbCIsImxvbmciLCJmbXRMb25nIiwiZm10U2hvcnQiLCJwYW5lbCIsInNldEF0dHJpYnV0ZU5TIiwicmVwbGFjZUNoaWxkIiwicmVzZXRUcmFuc2Zvcm1hdGlvbnMiLCJfcGFnZSIsIl9kZWxheSIsInJlc3RvcmVUcmFuc2Zvcm1hdGlvbiIsInNldFNlbGVjdExpc3RlbmVycyIsInNjcm9sbFpvb20iLCJuZXdIZWlnaHQiLCJWaWV3Qm94IiwiaW1hZ2VXaWR0aCIsImltYWdlSGVpZ2h0IiwibWluWCIsIm1pblkiLCJ6b29tSGVpZ2h0Iiwiem9vbVdpZHRoIiwiWm9vbUhhbmRsZXIiLCJyZXNldFNldHRpbmdzIiwiYmdpbWciLCJ1cGRhdGVTVkdWaWV3Qm94Iiwic2V0Vmlld0JveCIsInRyYW5zbGF0ZSIsInJhd1ZpZXdCb3giLCJ2aWV3Qm94U3RyaW5nIiwiZHJhZ0Nvb3JkaW5hdGVzIiwiY3JlYXRlU1ZHUG9pbnQiLCJtYXRyaXgiLCJuZXdDb29yZGluYXRlcyIsImRlbHRhWCIsImRlbHRhWSIsIm5ld1RyYW5zZm9ybSIsImRyYWdUcmFuc2Zvcm0iLCJzbGlkZXIiLCJuZXdLIiwiZ2V0Wm9vbSIsImluaXRFZGl0TW9kZSIsImJpbmRJbnNlcnRUYWJzIiwiU2VsZWN0Iiwic2V0U2VsZWN0SGVscGVyT2JqZWN0cyIsImluaXRJbnNlcnRFZGl0Q29udHJvbHMiLCJzZXRTZWxlY3RTdHJva2VXaWR0aCIsImluaXRTZWxlY3Rpb25CdXR0b25zIiwic2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMiLCJjbGlja1NlbGVjdCIsImRyYWdTZWxlY3QiLCJpbml0TmF2YmFyIiwiaW5pdFVuZG9SZWRvUGFuZWwiLCJuZXVtZUdyb3VwcyIsInVwZGF0ZUluZm9WaXNpYmlsaXR5IiwiZWxlbWVudEluZm8iLCJ1cGRhdGVEaXNwbGF5QWxsQnRuIiwic2V0SW5mb0NvbnRyb2xzIiwibGFiZWwiLCJyZXNldEluZm9MaXN0ZW5lcnMiLCJpc0hvdmVyaW5nQ2hpbGQiLCJ1cGRhdGVJbmZvIiwic3RvcExpc3RlbmVycyIsImVsZW1lbnRDbGFzcyIsInBpdGNoZXMiLCJnZXRQaXRjaGVzIiwiZGlzIiwiZGlzcGxhY2UiLCJ1cGRhdGVJbmZvTW9kdWxlIiwicGl0Y2hOYW1lVG9OdW0iLCJwbmFtZSIsIm5vdGlmaWNhdGlvblNlbnQiLCJ0ZXh0TGFiZWwiLCJiYm94TGFiZWwiLCJ0ZXh0QnV0dG9uIiwiYmJveEJ1dHRvbiIsInNldFRleHRWaWV3Q29udHJvbHMiLCJ1cGRhdGVUZXh0Vmlld1Zpc2liaWxpdHkiLCJpbml0U2VsZWN0QnlCQm94QnV0dG9uIiwiaW5pdEJCb3hDaXJjbGVTbGlkZXIiLCJnZXRTeWxUZXh0IiwiaW5pdFRleHRFZGl0IiwibHlyaWNzIiwic2VsQnlCQm94TGlzdGVuZXIiLCJhZGRCQm94TGlzdGVuZXJzIiwic3BhbnMiLCJzZWxlY3RTeWxUZXh0IiwiYmxvY2siLCJidXR0b24iLCJzbGlkZXJTZWN0aW9uIiwiY2lyY2xlU2xpZGVyQ29udGFpbmVyIiwic2V0Q2lyY2xlU2l6ZUNvbnRyb2xzIiwiZWx0IiwiaGFuZGxlRWx0Q29uc3RydWN0b3JBcmciLCJjaGlsZENvdW50Iiwic2V0RE9NQXR0cmlidXRlcyIsInNldFN0eWxlIiwiY3NzUHJvcCIsImNzc1RleHQiLCJEaXZhUGFyZW50RWxlbWVudE5vdEZvdW5kRXhjZXB0aW9uIiwiTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb24iLCJPYmplY3REYXRhTm90U3VwcGxpZWRFeGNlcHRpb24iLCJfY2FjaGUiLCJ0b3BpYyIsInRoaXNUb3BpYyIsInRoaXNUb3BpY0dsb2JhbCIsImdsb2JhbENvdW50IiwiZ2V0SW5zdGFuY2VJZCIsImluc3RhbmNlSUQiLCJ0aGlzVG9waWNJbnN0YW5jZSIsInNjb3BlZENvdW50IiwiY29tcGxldGVseSIsInRvcGljQXJyYXkiLCJ0b3BpY3MiLCJvbkRvdWJsZUNsaWNrIiwiZ2V0UmVsYXRpdmVPZmZzZXQiLCJ0cmFja2VyIiwiY3JlYXRlRG91YmxlRXZlbnRUcmFja2VyIiwiaXNUcmlnZ2VyZWQiLCJ0cmlnZ2VyIiwib25QaW5jaCIsInN0YXJ0RGlzdGFuY2UiLCJkaXN0YW5jZSIsIm1vdmVEaXN0YW5jZSIsInpvb21EZWx0YSIsInRvdWNoQ2VudGVyIiwib25Eb3VibGVUYXAiLCJmaXJzdFRhcCIsInNlY29uZFRhcCIsImNoYW5nZWRUb3VjaGVzIiwieDEiLCJ5MSIsIngyIiwieTIiLCJ0aW1lb3V0RHVyYXRpb24iLCJ0cmlnZ2VyZWQiLCJ0aW1lb3V0SWQiLCJyZXNldFRpbWVvdXQiLCJwYWdlQ29vcmRzIiwiYm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwidmlld2VyQ29yZSIsIl9pbm5lckVsZW1lbnQiLCJpbm5lckVsZW1lbnQiLCJfcGFnZVRvb2xzRWxlbSIsImxhYmVsV2lkdGgiLCJfYnV0dG9ucyIsIl9pbml0aWFsaXplUGFnZVRvb2xCdXR0b25zIiwiY2xhc3MiLCJfcGFnZUxhYmVsc0VsZW0iLCJyZWZyZXNoIiwicHVibGljSW5zdGFuY2UiLCJnZXRQdWJsaWNJbnN0YW5jZSIsImdldFBhZ2VUb29scyIsInBhZ2VUb29sc0ljb24iLCJjbG9uZU5vZGUiLCJoYW5kbGVDbGljayIsIl92aWV3ZXJTdGF0ZSIsImdldEludGVybmFsU3RhdGUiLCJfb3ZlcmxheXMiLCJudW1QYWdlcyIsIm92ZXJsYXkiLCJhZGRQYWdlT3ZlcmxheSIsImR1bW15TGFiZWwiLCJjbGllbnRXaWR0aCIsImNvb3JkcyIsIm5ld1pvb21MZXZlbCIsInpvb21MZXZlbCIsImdldFBhZ2VQb3NpdGlvbkF0Vmlld3BvcnRPZmZzZXQiLCJlbmREaXN0YW5jZSIsInZpZXdlclN0YXRlIiwibWluWm9vbUxldmVsIiwibWF4Wm9vbUxldmVsIiwiY2VudGVyT2Zmc2V0IiwiZ2V0Q3VycmVudExheW91dCIsImdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0IiwiYW5jaG9yUGFnZSIsInZpZXdwb3J0Iiwic2NhbGVSYXRpbyIsImdvRGlyZWN0bHlUbyIsImhvcml6b250YWxPZmZzZXQiLCJ2ZXJ0aWNhbE9mZnNldCIsInB1Ymxpc2giLCJfaGFuZGxlWm9vbUxldmVsQ2hhbmdlIiwiY3VycmVudFBhZ2VJbmRleCIsImFjdGl2ZVBhZ2VJbmRleCIsImZpbGVOYW1lIiwicmVuZGVyZWRQYWdlcyIsInRhcmdldFBhZ2UiLCJjdXJyZW50UGFnZSIsImxheW91dCIsImNlbnRlclkiLCJjZW50ZXJYIiwiY2VudGVyUGFnZSIsImRpbXMiLCJnZXRQYWdlRGltZW5zaW9ucyIsImltYWdlT2Zmc2V0IiwiZ2V0UGFnZU9mZnNldCIsIm1pZFgiLCJtaWRZIiwiZ2V0Q2VudGVybW9zdFBhZ2UiLCJnZXRWaWV3cG9ydCIsImludGVyc2VjdGlvblRvbGVyYW5jZSIsInZpc2libGVQYWdlcyIsInJlbmRlcmVyIiwiaXNQYWdlVmlzaWJsZSIsInNldEN1cnJlbnRQYWdlcyIsIm9sZFpvb21MZXZlbCIsInJlbW92ZVBhZ2VPdmVybGF5IiwiR3JpZEhhbmRsZXIiLCJwYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldCIsImluR3JpZCIsImdldFBhZ2VJbmZvIiwiY2hvc2VuR3JvdXAiLCJyZWdpb24iLCJib3R0b20iLCJ2aWV3cG9ydE1pZGRsZSIsImdyb3VwTWlkZGxlIiwiZ2V0Q2VudGVybW9zdEdyb3VwIiwiUGFnZU92ZXJsYXlNYW5hZ2VyIiwiX3BhZ2VzIiwiX3JlbmRlcmVkUGFnZXMiLCJfcmVuZGVyZWRQYWdlTWFwIiwibW91bnQiLCJvdmVybGF5c0J5UGFnZSIsIm92ZXJsYXlJbmRleCIsInVubW91bnQiLCJwcmV2aW91c2x5UmVuZGVyZWQiLCJuZXdSZW5kZXJlZE1hcCIsIl9pbnZva2VPbk92ZXJsYXlzIiwib3ZlcmxheXMiLCJUaWxlQ292ZXJhZ2VNYXAiLCJjb2xzIiwiX3Jvd3MiLCJfY29scyIsIl9tYXAiLCJjb2wiLCJsZXZlbHMiLCJfbGV2ZWxzIiwidXJsc1RvVGlsZXMiLCJfdXJsc1RvVGlsZXMiLCJsZXZlbCIsInRpbGVzIiwidGlsZSIsImxvYWRlZEJ5TGV2ZWwiLCJfbG9hZGVkQnlMZXZlbCIsImJhc2Vab29tTGV2ZWwiLCJ0b1JlbmRlckJ5TGV2ZWwiLCJoaWdoZXN0Wm9vbUxldmVsIiwiY292ZXJlZCIsImJlc3RMZXZlbEluZGV4IiwiY2VpbExldmVsIiwibG9hZGVkIiwiYWRkaXRpb25hbFRpbGVzIiwiaXNMb2FkZWQiLCJpc05lZWRlZCIsImhpZ2hSZXNSb3ciLCJoaWdoUmVzQ29sIiwiYnlMZXZlbCIsInVybHMiLCJEb2N1bWVudExheW91dCIsImNvbmZpZyIsImNvbXB1dGVkTGF5b3V0Iiwic2NhbGVkTGF5b3V0cyIsInBhZ2VMYXlvdXRzIiwic2NhbGVEaW1lbnNpb25zIiwiZ3JvdXBPZmZzZXQiLCJnZXRTY2FsZWRQYWdlTGF5b3V0cyIsImRvY3VtZW50U2Vjb25kYXJ5RXh0ZW50Iiwic2Vjb25kYXJ5RGltIiwic2Vjb25kYXJ5UGFkZGluZyIsImRvY1BhZGRpbmciLCJ2ZXJ0aWNhbGx5T3JpZW50ZWQiLCJtYXhEaW0iLCJnZXRFeHRlbnRBbG9uZ1NlY29uZGFyeUF4aXMiLCJwcmltYXJ5RG9jUG9zaXRpb24iLCJwYWdlR3JvdXBzIiwicGFnZVBhZGRpbmciLCJnZXRDb21wdXRlZExheW91dCIsIl9wYWdlTG9va3VwIiwicGFnZUxvb2t1cCIsImdldFBhZ2VMb29rdXAiLCJnZXRQYWdlUmVnaW9uRnJvbVBhZ2VJbmZvIiwicGFnZUluZm8iLCJlbGVtZW50V2lkdGgiLCJlbGVtZW50SGVpZ2h0IiwiSW1hZ2VDYWNoZSIsIl9oZWxkIiwiX3VybHMiLCJfbHJ1IiwicmVjb3JkIiwiaW1nIiwiX3Byb21vdGUiLCJfdHJ5RXZpY3QiLCJleHRyYUNhcGFjaXR5IiwiYWxsb3dlZEVudHJ5Q291bnQiLCJldmljdGlvbkluZGV4IiwiSW1hZ2VSZXF1ZXN0SGFuZGxlciIsIl91cmwiLCJfY2FsbGJhY2siLCJfZXJyb3JDYWxsYmFjayIsInRpbWVvdXRUaW1lIiwiX2Fib3J0ZWQiLCJfY29tcGxldGUiLCJfY3Jvc3NPcmlnaW4iLCJpbWFnZUNyb3NzT3JpZ2luIiwiX2ltYWdlIiwiSW1hZ2UiLCJjcm9zc09yaWdpbiIsIm9ubG9hZCIsIl9oYW5kbGVMb2FkIiwiX2hhbmRsZUVycm9yIiwiYW5pbWF0ZSIsImR1cmF0aW9uTXMiLCJkdXJhdGlvbiIsInBhcmFtZXRlcnMiLCJvblVwZGF0ZSIsIm9uRW5kIiwidHdlZW5GbnMiLCJwYXJhbUtleXMiLCJlYXNpbmciLCJlbGFwc2VkIiwiaW5PdXRDdWJpY0Vhc2luZyIsInJlcXVlc3RJZCIsInVwZGF0ZVZhbHVlcyIsImhhbmRsZUFuaW1hdGlvbkNvbXBsZXRpb24iLCJpbnRlcnJ1cHRlZCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibGluZWFyIiwiY3ViaWMiLCJwZXJmb3JtYW5jZSIsImhvb2tzIiwiX3ZpZXdwb3J0IiwiX291dGVyRWxlbWVudCIsIm91dGVyRWxlbWVudCIsIl9kb2N1bWVudEVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfaG9va3MiLCJfY2FudmFzIiwiX2N0eCIsImdldENvbnRleHQiLCJfc291cmNlUmVzb2x2ZXIiLCJfY29uZmlnIiwiX3pvb21MZXZlbCIsIl9jb21wb3NpdGVJbWFnZXMiLCJfcmVuZGVyZWRUaWxlcyIsIl9hbmltYXRpb24iLCJfcGVuZGluZ1JlcXVlc3RzIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJ2aWV3cG9ydFBvc2l0aW9uIiwic291cmNlUmVzb2x2ZXIiLCJfY2xlYXJBbmltYXRpb24iLCJvblZpZXdXaWxsTG9hZCIsIl9zZXRMYXlvdXRUb1pvb21MZXZlbCIsImdvdG8iLCJvblZpZXdEaWRMb2FkIiwiX2dvdG8iLCJzZXRJbm5lckRpbWVuc2lvbnMiLCJfcmVuZGVyIiwib25WaWV3RGlkVXBkYXRlIiwibmV3UmVuZGVyZWRQYWdlcyIsImludGVyc2VjdHNSZWdpb24iLCJjbGVhclJlY3QiLCJfcGFpbnRPdXRsaW5lIiwiem9vbUxldmVscyIsImdldEFsbFpvb21MZXZlbHNGb3JQYWdlIiwiY29tcG9zaXRlIiwidXBkYXRlRnJvbUNhY2hlIiwiX2luaXRpYXRlVGlsZVJlcXVlc3RzIiwiZmluZENoYW5nZXMiLCJfcGFpbnQiLCJvblBhZ2VXaWxsTG9hZCIsImFkZGVkIiwicmVuZGVyZWRUaWxlcyIsImdldFRpbGVzIiwic2NhbGVkIiwiZ2V0U2NhbGVkVGlsZVJlY29yZCIsIl9pc1RpbGVWaXNpYmxlIiwiX2RyYXdUaWxlIiwiYWNxdWlyZSIsInJlbGVhc2UiLCJwYWdlT2Zmc2V0IiwiX2dldEltYWdlT2Zmc2V0Iiwidmlld3BvcnRQYWRkaW5nWCIsInZpZXdwb3J0UGFkZGluZ1kiLCJ2aWV3cG9ydE9mZnNldFgiLCJ2aWV3cG9ydE9mZnNldFkiLCJkZXN0WE9mZnNldCIsImRlc3RZT2Zmc2V0IiwiY2FudmFzWCIsImNhbnZhc1kiLCJkZXN0V2lkdGgiLCJkZXN0SGVpZ2h0Iiwic3Ryb2tlU3R5bGUiLCJzdHJva2VSZWN0IiwibmV3UGVuZGluZ1JlcXVlc3RzIiwiaW5pdGlhdGVSZXF1ZXN0IiwidXBkYXRlV2l0aExvYWRlZFVybHMiLCJfaXNUaWxlRm9yU291cmNlVmlzaWJsZSIsImdldEJlc3Rab29tTGV2ZWxGb3JQYWdlIiwic2NhbGVkVGlsZSIsInRpbGVPZmZzZXQiLCJfZ2V0VGlsZVRvRG9jdW1lbnRPZmZzZXQiLCJzb3VyY2VYT2Zmc2V0Iiwic291cmNlWU9mZnNldCIsImRlc3RJbWdXaWR0aCIsImRlc3RJbWdIZWlnaHQiLCJzb3VyY2VXaWR0aCIsInNvdXJjZUhlaWdodCIsImRyYXdJbWFnZSIsInRpbGVTb3VyY2UiLCJnZXRQb3NpdGlvbiIsIm9uVmlld0RpZFRyYW5zaXRpb24iLCJfc2V0Vmlld3BvcnRQb3NpdGlvbiIsIm9uWm9vbUxldmVsV2lsbENoYW5nZSIsInNjYWxlRmFjdG9yIiwic291cmNlWm9vbUxldmVsIiwibmV3QXJyYXkiLCJvbGRFbnRyeSIsIm5ld0VudHJ5IiwiZ2V0TWF4UGFnZURpbWVuc2lvbnMiLCJnZXRCb29rTGF5b3V0R3JvdXBzIiwidmlld2VyQ29uZmlnIiwicGFnZXNCeUdyb3VwIiwibGVmdFBhZ2UiLCJub25QYWdlZFBhZ2VzIiwiX2FkZE5vblBhZ2VkUGFnZXMiLCJubGVuIiwicGFnZVJlY29yZCIsInBhZ2VkIiwic2hvd05vblBhZ2VkUGFnZXMiLCJmYWNpbmdQYWdlcyIsImdldEdyb3VwaW5ncyIsInJpZ2h0UGFnZSIsImxlZnREaW1zIiwicmlnaHREaW1zIiwiZmlyc3RMZWZ0T2Zmc2V0Iiwic2Vjb25kTGVmdE9mZnNldCIsIm1pZFdpZHRoIiwiZ2V0RmFjaW5nUGFnZUdyb3VwIiwicGFnZURpbXMiLCJsZWZ0T2Zmc2V0Iiwic2hvdWxkQmVIb3Jpem9udGFsbHlBZGp1c3RlZCIsImdldEdyb3VwTGF5b3V0c0Zyb21QYWdlR3JvdXBpbmciLCJnZXRHcmlkTGF5b3V0R3JvdXBzIiwidmlld3BvcnRXaWR0aCIsInBhZ2VzUGVyUm93IiwiZml4ZWRIZWlnaHRHcmlkIiwiZml4ZWRQYWRkaW5nIiwicGFnZVdpZHRoIiwiZ3JpZFBhZ2VXaWR0aCIsInJvd0hlaWdodCIsIm1pblJhdGlvIiwibWF4UmF0aW8iLCJjdXJyZW50UGFnZXMiLCJyb3dEaW1lbnNpb25zIiwicGFnZURpbWVucyIsInBhZ2VEYXRhIiwicGFnZURpbWVuRGF0YSIsImhlaWdodFRvV2lkdGhSYXRpbyIsInBhZ2VIZWlnaHQiLCJnZXRHcmlkUGFnZURpbWVuc2lvbnMiLCJnZXRQYWdlTGF5b3V0cyIsInBsdWNrIiwiaW5Cb29rTGF5b3V0IiwiZ2V0U2luZ2xlc0xheW91dEdyb3VwcyIsImNyZWF0ZVNldHRpbmdzVmlldyIsInJlZ2lzdGVyTWl4aW4iLCJWYWxpZGF0aW9uUnVubmVyIiwid2hpdGVsaXN0ZWRLZXlzIiwidmFsaWRhdGlvbnMiLCJ2YWxpZGF0aW9uSW5kZXgiLCJ2YWxpZGF0aW9uIiwiZHVtbXlDaGFuZ2VzIiwicHJveGllciIsImNyZWF0ZVNldHRpbmdzUHJveGllciIsIl9ydW5WYWxpZGF0aW9uIiwiX3ZhbGlkYXRlT3B0aW9ucyIsImNsb25lZCIsInNldHRpbmdzUHJveGllciIsIl9hcHBseVZhbGlkYXRpb25zIiwiY29ycmVjdGVkIiwid2FybmluZ1N1cHByZXNzZWQiLCJvcmlnaW5hbCIsImVtaXRXYXJuaW5nIiwic3VwcHJlc3NXYXJuaW5nIiwib3V0cHV0VmFsdWUiLCJwcm94eSIsInJ1bm5lciIsImxvb2t1cCIsImxvb2t1cFZhbHVlIiwid2hpdGVsaXN0ZWQiLCJhZGRpdGlvbmFsIiwiY3VycmVudEtleSIsImRlZmluZVByb3BlcnRpZXMiLCJleHRlbnNpb24iLCJWaWV3cG9ydCIsIl90b3AiLCJfbGVmdCIsIl93aWR0aCIsIl9oZWlnaHQiLCJfaW5uZXJEaW1lbnNpb25zIiwiaW52YWxpZGF0ZSIsImhhc0hvcml6b250YWxPdmVybGFwIiwiaGFzVmVydGljYWxPdmVybGFwIiwiZmFsbHNCZXR3ZWVuIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Q29vcmRpbmF0ZURlc2NyaXB0b3IiLCJhc3NvY2lhdGVkRGltZW5zaW9uIiwicHJpdmF0ZVByb3AiLCJjbGFtcE1pbiIsImdldERpbWVuc2lvbkRlc2NyaXB0b3IiLCJkaW1lbiIsImNsYW1wTWF4IiwiZ2VuZXJhdGVJZCIsIm9wdGlvbnNWYWxpZGF0aW9ucyIsIm1pblBhZ2VzUGVyUm93IiwibWF4UGFnZXNQZXJSb3ciLCJtYXhab29tIiwicGFyZW50T2JqZWN0IiwiY3VycmVudFBhZ2VJbmRpY2VzIiwiaG9yaXpvbnRhbFBhZGRpbmciLCJpbml0aWFsS2V5U2Nyb2xsIiwiaW5pdGlhbFNwYWNlU2Nyb2xsIiwiaW5uZXJPYmplY3QiLCJpc0FjdGl2ZURpdmEiLCJpc1Njcm9sbGFibGUiLCJpc1pvb21pbmciLCJtb2JpbGVXZWJraXQiLCJvdXRlck9iamVjdCIsInBhZ2VPdmVybGF5cyIsInBhZ2VUb29scyIsInBlbmRpbmdNYW5pZmVzdFJlcXVlc3QiLCJwbHVnaW5JbnN0YW5jZXMiLCJyZXNpemVUaW1lciIsInNjcm9sbGJhcldpZHRoIiwidGhyb2JiZXJUaW1lb3V0SUQiLCJ0b29sYmFyIiwidmVydGljYWxQYWRkaW5nIiwidmlld3BvcnRPYmplY3QiLCJpZE51bWJlciIsInBhbmVsSGVpZ2h0IiwicGFuZWxXaWR0aCIsIm9wdGlvbnNWYWxpZGF0b3IiLCJ3MSIsIm9mZnNldFdpZHRoIiwidzIiLCJnZXRTY3JvbGxiYXJXaWR0aCIsIm9yaWVudGF0aW9uIiwiaGFzaFBhcmFtU3VmZml4IiwiaW5uZXJFbGVtIiwiZWxlbUF0dHJzIiwidmlld3BvcnRFbGVtIiwib3V0ZXJFbGVtIiwidmlld3BvcnRNYXJnaW4iLCJib3VuZFNjcm9sbEZ1bmN0aW9uIiwic2Nyb2xsRnVuY3Rpb24iLCJib3VuZEVzY2FwZUxpc3RlbmVyIiwiZXNjYXBlTGlzdGVuZXIiLCJpbml0UGx1Z2lucyIsImhhbmRsZUV2ZW50cyIsInNob3dUaHJvYmJlciIsImlzVmFsaWQiLCJpZGVudCIsImF0dHJzIiwia2V5Q29kZSIsImxlYXZlRnVsbHNjcmVlbk1vZGUiLCJuZXdPcHRpb25zIiwicXVldWVkRXZlbnRzIiwiZ2V0VmFsaWRhdGVkT3B0aW9ucyIsImhhc0NoYW5nZWRPcHRpb24iLCJpbkZ1bGxzY3JlZW4iLCJwcmVwYXJlTW9kZUNoYW5nZSIsImNsZWFyVmlld2VyIiwidXBkYXRlVmlld0hhbmRsZXJBbmRSZW5kZXJpbmciLCJyZW5kZXJlckNvbmZpZyIsImdldFBhZGRpbmciLCJzb3VyY2VQcm92aWRlciIsImdldEN1cnJlbnRTb3VyY2VQcm92aWRlciIsInNlcmlhbGl6ZWQiLCJjaGFuZ2VDbGFzcyIsInN0b3JlZEhlaWdodCIsInN0b3JlZFdpZHRoIiwibmV3V2lkdGgiLCJIYW5kbGVyIiwiaW5pdGlhbGl6ZVJlbmRlcmVyIiwiY29tcGF0RXJyb3JzIiwiZ2V0Q29tcGF0aWJpbGl0eUVycm9ycyIsInNob3dFcnJvciIsInVwZGF0ZVBhZ2VPdmVybGF5cyIsImdyaWRTb3VyY2VQcm92aWRlciIsImdldFBhZ2VJbWFnZVVSTCIsInRpbGVEaW1lbnNpb25zIiwidGlsZVdpZHRoIiwidGlsZUhlaWdodCIsImdldFBhZ2VJbWFnZVRpbGVzIiwibGV2ZWxDb3VudCIsInRvcFBhZGRpbmciLCJsZWZ0UGFkZGluZyIsImRvY1ZQYWRkaW5nIiwiZG9jSFBhZGRpbmciLCJ1cGRhdGVPdmVybGF5cyIsImdldFJlbmRlcmVkUGFnZXMiLCJmb2NhbFBvaW50IiwiaXNWYWxpZE9wdGlvbiIsImN1cnJlbnRSZWdpb24iLCJwYWdlUmVnaW9uIiwiZm9jYWxYVG9DZW50ZXIiLCJmb2NhbFlUb0NlbnRlciIsImdldFBvc2l0aW9uRm9yWm9vbUxldmVsIiwiaW5pdFpvb20iLCJ6b29tUmF0aW8iLCJpbml0aWFsWm9vbUxldmVsIiwiZW5kUG9zaXRpb24iLCJ0cmFuc2l0aW9uVmlld3BvcnRQb3NpdGlvbiIsInpvb21JbkJ1dHRvbiIsInpvb21PdXRCdXR0b24iLCJhbmNob3IiLCJwaWR4IiwiZ2V0UGFnZURhdGEiLCJ1cGRhdGVPZmZzZXRzIiwidXBkYXRlUGFuZWxTaXplIiwicmVsb2FkVmlld2VyIiwiYmxvY2tNb2JpbGVNb3ZlIiwicHJldmlvdXNUb3BTY3JvbGwiLCJwcmV2aW91c0xlZnRTY3JvbGwiLCJuZXdTY3JvbGxUb3AiLCJuZXdTY3JvbGxMZWZ0IiwiYWRqdXN0IiwicHJpbWFyeVNjcm9sbCIsImJpbmRNb3VzZUV2ZW50cyIsImVuYWJsZVNwYWNlU2Nyb2xsIiwiZW5hYmxlS2V5U2Nyb2xsIiwiYXJyb3dTY3JvbGxBbW91bnQiLCJvblJlc2l6ZSIsInBsdWdpbnMiLCJpc1BhZ2VUb29sIiwiaGlkZVRocm9iYmVyIiwidGhiIiwidGhyb2JiZXJUaW1lb3V0IiwiZXJyb3JFbGVtZW50IiwibG9hZE9wdGlvbnMiLCJhZGFwdGl2ZVBhZGRpbmciLCJnZXRBdmVyYWdlV2lkdGgiLCJnZXRBdmVyYWdlSGVpZ2h0IiwibmVlZHNYQ29vcmQiLCJuZWVkc1lDb29yZCIsImFuY2hvcmVkVmVydGljYWxseSIsImFuY2hvcmVkSG9yaXpvbnRhbGx5IiwiZ2V0WE9mZnNldCIsImdldFlPZmZzZXQiLCJlbmFibGVBdXRvVGl0bGUiLCJtaW5XaWR0aCIsImFkZE92ZXJsYXkiLCJyZW1vdmVPdmVybGF5IiwiZG9jT2Zmc2V0IiwiZG9jQ29vcmRzIiwicGFnZUNvdW50IiwiYWN0aXZlUGFnZSIsImFycmF5c0VxdWFsIiwib3RoZXJJbWFnZXMiLCJlbmFibGVEcmFnU2Nyb2xsYWJsZSIsImRibGNsaWNrIiwiY29udGV4dG1lbnUiLCJyZW1vdmVDbGFzcyIsInJlbW92ZURhdGEiLCJyZW1vdmVBdHRyIiwidW5zdWJzY3JpYmVBbGwiLCJwYXJzZUxhYmVsVmFsdWUiLCJnZXRNYXhab29tTGV2ZWwiLCJsYXJnZXN0RGltZW5zaW9uIiwiaW5jb3Jwb3JhdGVab29tIiwiaW1hZ2VEaW1lbnNpb24iLCJ6b29tRGlmZmVyZW5jZSIsImdldE90aGVySW1hZ2VEYXRhIiwibG93ZXN0TWF4Wm9vbSIsIml0bSIsInBhcnNlSW1hZ2VJbmZvIiwiaWwiLCJwYXJzZUlJSUZNYW5pZmVzdCIsImdldElJSUZQcmVzZW50YXRpb25WZXJzaW9uIiwibnVtQ2FudmFzZXMiLCJ0aGlzQ2FudmFzIiwidGhpc1Jlc291cmNlIiwidGhpc0ltYWdlIiwic2Vjb25kYXJ5SW1hZ2VzIiwiaW1hZ2VBUElWZXJzaW9uIiwiaW1hZ2VMYWJlbCIsInpvb21EaW1lbnNpb25zIiwid2lkdGhBdEN1cnJlbnRab29tTGV2ZWwiLCJoZWlnaHRBdEN1cnJlbnRab29tTGV2ZWwiLCJteiIsInJhdGlvIiwidG90YWxXaWR0aHMiLCJ0b3RhbEhlaWdodHMiLCJtYXhXaWR0aHMiLCJtYXhIZWlnaHRzIiwiaW1hZ2VzIiwicmVzb3VyY2UiLCJzZXJ2aWNlIiwiaXNQYWdlZCIsInZpZXdpbmdIaW50IiwiaXNGYWNpbmciLCJ4b2Zmc2V0IiwieW9mZnNldCIsImF2ZXJhZ2VXaWR0aHMiLCJhdmVyYWdlSGVpZ2h0cyIsImFfd2lkIiwiYV9oZWkiLCJtYXhfdyIsIm1heF9oIiwibWF4X3JhdGlvIiwibWluX3JhdGlvIiwidF9oZWkiLCJ0X3dpZCIsIml0ZW1fdGl0bGUiLCJtYXhfem9vbSIsInBncyIsImJlaGF2aW91ciIsImZyYWdtZW50UmVnZXgiLCJ4eXdoIiwic3RyaXBVUkwiLCJ1cmxBcnJheSIsImltYWdlSW5mbyIsIklJSUZTb3VyY2VBZGFwdGVyIiwiZGltZW5zIiwicXVhbGl0eSIsInJvd0NvdW50IiwiY29sQ291bnQiLCJ1cmxBZGFwdGVyIiwiX21heFdpZHRocyIsIl9tYXhIZWlnaHRzIiwiX2F2ZXJhZ2VXaWR0aHMiLCJfYXZlcmFnZUhlaWdodHMiLCJfdG90YWxIZWlnaHRzIiwiX3RvdGFsV2lkdGhzIiwiX3VybEFkYXB0ZXIiLCJpaWlmTWFuaWZlc3QiLCJtYXhEaW1zIiwidGFyZ2V0Wm9vbUxldmVsIiwiZ2V0VGlsZUltYWdlVVJMIiwiem9vbWVkUHJvcGVydHlHZXR0ZXIiLCJwcml2YXRlTmFtZSIsImdldE1heFdpZHRoIiwiZ2V0TWF4SGVpZ2h0IiwiZ2V0VG90YWxXaWR0aCIsImdldFRvdGFsSGVpZ2h0Iiwidmlld2VyIiwiaWNvbiIsImlubmVyTmFtZSIsImlubmVyVmFsdWUiLCJ6b29tT3V0SWNvbiIsIl9jcmVhdGVab29tT3V0SWNvbiIsInpvb21Jbkljb24iLCJfY3JlYXRlWm9vbUluSWNvbiIsInpvb21CdXR0b25zIiwiY3JlYXRlQnV0dG9uIiwic2V0Wm9vbUxldmVsIiwiY3JlYXRlTGFiZWwiLCJfc3Vic2NyaWJlIiwiZ3JpZE1vcmVJY29uIiwiX2NyZWF0ZUdyaWRNb3JlSWNvbiIsImdyaWRGZXdlckljb24iLCJfY3JlYXRlR3JpZEZld2VySWNvbiIsImdyaWRCdXR0b25zIiwic2V0R3JpZFBhZ2VzUGVyUm93IiwidXBkYXRlQ3VycmVudFBhZ2UiLCJpbmRpY2VzIiwiZ2V0Q3VycmVudFBhZ2VJbmRpY2VzIiwic3RhcnRJbmRleCIsImVuZEluZGV4Iiwic3RhcnRMYWJlbCIsImVuZExhYmVsIiwiZW5hYmxlSW5kZXhBc0xhYmVsIiwiZ290b1BhZ2VJbnB1dCIsImF1dG9jb21wbGV0ZSIsImdvdG9QYWdlU3VibWl0IiwiaW5wdXRTdWdnZXN0aW9ucyIsImdvdG9Gb3JtIiwiZGVzaXJlZFBhZ2VMYWJlbCIsIm9uR290b1N1Ym1pdCIsImdvdG9QYWdlQnlJbmRleCIsImFsZXJ0IiwiZ290b1BhZ2VCeUxhYmVsIiwibnVtU3VnZ2VzdGlvbnMiLCJlbmFibGVHb3RvU3VnZ2VzdGlvbnMiLCJuZXdJbnB1dFN1Z2dlc3Rpb24iLCJhY3RpdmUiLCJwcmV2RWwiLCJuZXh0RWwiLCJzdWJtaXRFdmVudCIsIkV2ZW50IiwiY2FuY2VsYWJsZSIsInZpZXdPcHRpb25zTGlzdCIsIl9lbGVtQXR0cnMiLCJncmlkVmlld0ljb24iLCJfY3JlYXRlR3JpZFZpZXdJY29uIiwiYm9va1ZpZXdJY29uIiwiX2NyZWF0ZUJvb2tWaWV3SWNvbiIsInBhZ2VWaWV3SWNvbiIsIl9jcmVhdGVQYWdlVmlld0ljb24iLCJjaGFuZ2VWaWV3QnV0dG9uIiwic2VsZWN0VmlldyIsImNoYW5nZVZpZXciLCJ1cGRhdGVWaWV3TWVudSIsInZpZXdPcHRpb25zIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImZ1bGxzY3JlZW5JY29uIiwiX2NyZWF0ZUZ1bGxzY3JlZW5JY29uIiwidG9nZ2xlRnVsbHNjcmVlbk1vZGUiLCJ0b2dnbGVab29tR3JpZENvbnRyb2xzIiwibGVmdFRvb2xzIiwiY3JlYXRlWm9vbUJ1dHRvbnMiLCJjcmVhdGVHcmlkQ29udHJvbHMiLCJyaWdodFRvb2xzIiwiY3JlYXRlUGFnZUxhYmVsIiwiY3JlYXRlVmlld01lbnUiLCJlbmFibGVGdWxsc2NyZWVuIiwiY3JlYXRlRnVsbHNjcmVlbkJ1dHRvbiIsImVuYWJsZUdvdG9QYWdlIiwiY3JlYXRlR290b1BhZ2VGb3JtIiwidG9vbGJhclNpZGUiLCJ0b29sYmFySWNvbiIsImNyZWF0ZUljb24iLCJoYW5kbGVQbHVnaW5DbGljayIsInRvb2xzIiwidG9vbGJhclBhcmVudE9iamVjdCIsInBFbCIsIl9jcmVhdGVUb29sYmFySWNvbiIsImdldEhhc2hQYXJhbSIsIm9yaWdpbmFsVmFsdWUiLCJzdGFydFRoaW5nIiwiSFRNTEVsZW1lbnQiLCJlbmFibGVGaWxlbmFtZSIsImVuYWJsZUdyaWRJY29uIiwiZW5hYmxlR3JpZENvbnRyb2xzIiwiZW5hYmxlSW1hZ2VUaXRsZXMiLCJlbmFibGVMaW5rSWNvbiIsImVuYWJsZU5vblBhZ2VkVmlzaWJpbGl0eUljb24iLCJlbmFibGVUb29sYmFyIiwiZW5hYmxlWm9vbUNvbnRyb2xzIiwiZmlsbFBhcmVudEhlaWdodCIsInBhZ2VBbGlhc2VzIiwicGFnZUFsaWFzRnVuY3Rpb24iLCJwYWdlTG9hZFRpbWVvdXQiLCJyZXF1ZXN0SGVhZGVycyIsIndyYXBwZXJFbGVtZW50IiwiZGl2YVN0YXRlIiwicmVuZGVyIiwidW5zdWJzY3JpYmUiLCJoYXNoU3RhdGUiLCJfZ2V0SGFzaFBhcmFtU3RhdGUiLCJfbG9hZE9yRmV0Y2hPYmplY3REYXRhIiwiX2xvYWRPYmplY3REYXRhIiwiX2FqYXhFcnJvciIsInNldFBlbmRpbmdNYW5pZmVzdFJlcXVlc3QiLCJqc29uSG9zdCIsIl9zaG93RXJyb3IiLCJyZXNwb25zZURhdGEiLCJmcm9tSUlJRiIsIl9nZXRMb2FkT3B0aW9uc0ZvclN0YXRlIiwic2V0TWFuaWZlc3QiLCJfZ2V0Vmlld1N0YXRlIiwiX2dldFBhZ2VJbmRleEZvck1hbmlmZXN0IiwibnAiLCJoYXNoUGFyYW1zIiwiX2dldFN0YXRlIiwiaGFzaFN0cmluZ0J1aWxkZXIiLCJfcmVsb2FkVmlld2VyIiwiaG92ZXIiLCJ0b2dnbGVPcGFjaXR5IiwiZGVzdGluYXRpb25WaWV3IiwieEFuY2hvciIsInlBbmNob3IiLCJfaXNQYWdlSW5kZXhWYWxpZCIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwiaXNQYWdlVmFsaWQiLCJvdXRlck9mZnNldCIsIm91dGVyVG9wIiwib3V0ZXJMZWZ0Iiwib3V0ZXJCb3R0b20iLCJvdXRlclJpZ2h0IiwiY3VyUGFnZUlkeCIsImN1clBhZ2UiLCJjdXJPZmZzZXQiLCJfZ2V0VVJMSGFzaCIsIl9jaGFuZ2VWaWV3IiwiZGlzYWJsZVNjcm9sbGFibGUiLCJlbmFibGVTY3JvbGxhYmxlIiwiX3RvZ2dsZUZ1bGxzY3JlZW4iLCJwZyIsIl9nZXRDdXJyZW50VVJMIiwicGFnZUlkeCIsIl9jaGVja0xvYWRlZCIsInBnQXRab29tIiwiX2dldFBhZ2VJbmRleEZvclBhZ2VYWVZhbHVlcyIsIl9nb3RvUGFnZUJ5SW5kZXgiLCJsbGMiLCJfZ2V0UGFnZUluZGV4IiwidG9wT2Zmc2V0IiwiX3RvZ2dsZVBhZ2VMYXlvdXRPcmllbnRhdGlvbiIsIkRpdmEiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0QlgsT0FBT0MsZUFBZVUsRUFBSSxVQUFXLENBQUVULFlBQVksRUFBTUssTUFBT0EsSUFDdEQsRUFBUEUsR0FBNEIsaUJBQVRGLEVBQW1CLElBQUksSUFBSU0sS0FBT04sRUFBT3JCLEVBQW9CVSxFQUFFZSxFQUFJRSxFQUFLLFNBQVNBLEdBQU8sT0FBT04sRUFBTU0sSUFBUUMsS0FBSyxLQUFNRCxJQUM5SSxPQUFPRixHQUlSekIsRUFBb0I2QixFQUFJLFNBQVMxQixHQUNoQyxJQUFJUyxFQUFTVCxHQUFVQSxFQUFPcUIsV0FDN0IsV0FBd0IsT0FBT3JCLEVBQWdCLFNBQy9DLFdBQThCLE9BQU9BLEdBRXRDLE9BREFILEVBQW9CVSxFQUFFRSxFQUFRLElBQUtBLEdBQzVCQSxHQUlSWixFQUFvQmEsRUFBSSxTQUFTaUIsRUFBUUMsR0FBWSxPQUFPakIsT0FBT2tCLFVBQVVDLGVBQWUxQixLQUFLdUIsRUFBUUMsSUFHekcvQixFQUFvQmtDLEVBQUksR0FJakJsQyxFQUFvQkEsRUFBb0JtQyxFQUFJLEksK0JDM0RyRCxJQU9JQyxFQVBBQyxFQUF1QixpQkFBWkMsUUFBdUJBLFFBQVUsS0FDNUNDLEVBQWVGLEdBQXdCLG1CQUFaQSxFQUFFRyxNQUM3QkgsRUFBRUcsTUFDRixTQUFzQkMsRUFBUUMsRUFBVUMsR0FDeEMsT0FBT0MsU0FBU1osVUFBVVEsTUFBTWpDLEtBQUtrQyxFQUFRQyxFQUFVQyxJQUt6RFAsRUFERUMsR0FBMEIsbUJBQWRBLEVBQUVRLFFBQ0NSLEVBQUVRLFFBQ1YvQixPQUFPZ0Msc0JBQ0MsU0FBd0JMLEdBQ3ZDLE9BQU8zQixPQUFPaUMsb0JBQW9CTixHQUMvQk8sT0FBT2xDLE9BQU9nQyxzQkFBc0JMLEtBR3hCLFNBQXdCQSxHQUN2QyxPQUFPM0IsT0FBT2lDLG9CQUFvQk4sSUFRdEMsSUFBSVEsRUFBY0MsT0FBT0MsT0FBUyxTQUFxQjlCLEdBQ3JELE9BQU9BLEdBQVVBLEdBR25CLFNBQVMrQixJQUNQQSxFQUFhQyxLQUFLOUMsS0FBSytDLE1BRXpCbkQsRUFBT0QsUUFBVWtELEVBQ2pCakQsRUFBT0QsUUFBUXFELEtBd1lmLFNBQWNDLEVBQVM3QyxHQUNyQixPQUFPLElBQUk4QyxTQUFRLFNBQVVDLEVBQVNDLEdBQ3BDLFNBQVNDLEVBQWNDLEdBQ3JCTCxFQUFRTSxlQUFlbkQsRUFBTW9ELEdBQzdCSixFQUFPRSxHQUdULFNBQVNFLElBQytCLG1CQUEzQlAsRUFBUU0sZ0JBQ2pCTixFQUFRTSxlQUFlLFFBQVNGLEdBRWxDRixFQUFRLEdBQUdNLE1BQU16RCxLQUFLMEQsWUFHeEJDLEVBQStCVixFQUFTN0MsRUFBTW9ELEVBQVUsQ0FBRVIsTUFBTSxJQUNuRCxVQUFUNUMsR0FNUixTQUF1QzZDLEVBQVNXLEVBQVNDLEdBQzdCLG1CQUFmWixFQUFRYSxJQUNqQkgsRUFBK0JWLEVBQVMsUUFBU1csRUFBU0MsR0FQeERFLENBQThCZCxFQUFTSSxFQUFlLENBQUVMLE1BQU0sUUFyWnBFSCxFQUFhQSxhQUFlQSxFQUU1QkEsRUFBYXBCLFVBQVV1QyxhQUFVQyxFQUNqQ3BCLEVBQWFwQixVQUFVeUMsYUFBZSxFQUN0Q3JCLEVBQWFwQixVQUFVMEMsbUJBQWdCRixFQUl2QyxJQUFJRyxFQUFzQixHQUUxQixTQUFTQyxFQUFjQyxHQUNyQixHQUF3QixtQkFBYkEsRUFDVCxNQUFNLElBQUlDLFVBQVUsMEVBQTRFRCxHQXNDcEcsU0FBU0UsRUFBaUJDLEdBQ3hCLFlBQTJCUixJQUF2QlEsRUFBS04sY0FDQXRCLEVBQWF1QixvQkFDZkssRUFBS04sY0FtRGQsU0FBU08sRUFBYXhDLEVBQVF5QyxFQUFNTCxFQUFVTSxHQUM1QyxJQUFJM0UsRUFDQTRFLEVBQ0FDLEVBMUhzQkMsRUFnSjFCLEdBcEJBVixFQUFjQyxRQUdDTCxLQURmWSxFQUFTM0MsRUFBTzhCLFVBRWRhLEVBQVMzQyxFQUFPOEIsUUFBVXpELE9BQU9ZLE9BQU8sTUFDeENlLEVBQU9nQyxhQUFlLFNBSUtELElBQXZCWSxFQUFPRyxjQUNUOUMsRUFBTytDLEtBQUssY0FBZU4sRUFDZkwsRUFBU0EsU0FBV0EsRUFBU0EsU0FBV0EsR0FJcERPLEVBQVMzQyxFQUFPOEIsU0FFbEJjLEVBQVdELEVBQU9GLFNBR0hWLElBQWJhLEVBRUZBLEVBQVdELEVBQU9GLEdBQVFMLElBQ3hCcEMsRUFBT2dDLGtCQWVULEdBYndCLG1CQUFiWSxFQUVUQSxFQUFXRCxFQUFPRixHQUNoQkMsRUFBVSxDQUFDTixFQUFVUSxHQUFZLENBQUNBLEVBQVVSLEdBRXJDTSxFQUNURSxFQUFTSSxRQUFRWixHQUVqQlEsRUFBU0ssS0FBS2IsSUFJaEJyRSxFQUFJdUUsRUFBaUJ0QyxJQUNiLEdBQUs0QyxFQUFTTSxPQUFTbkYsSUFBTTZFLEVBQVNPLE9BQVEsQ0FDcERQLEVBQVNPLFFBQVMsRUFHbEIsSUFBSUMsRUFBSSxJQUFJQyxNQUFNLCtDQUNFVCxFQUFTTSxPQUFTLElBQU1JLE9BQU9iLEdBRGpDLHFFQUlsQlcsRUFBRWxGLEtBQU8sOEJBQ1RrRixFQUFFckMsUUFBVWYsRUFDWm9ELEVBQUVYLEtBQU9BLEVBQ1RXLEVBQUVHLE1BQVFYLEVBQVNNLE9BN0tHTCxFQThLSE8sRUE3S25CSSxTQUFXQSxRQUFRQyxNQUFNRCxRQUFRQyxLQUFLWixHQWlMMUMsT0FBTzdDLEVBY1QsU0FBUzBELElBQ1AsSUFBSzdDLEtBQUs4QyxNQUdSLE9BRkE5QyxLQUFLYixPQUFPcUIsZUFBZVIsS0FBSzRCLEtBQU01QixLQUFLK0MsUUFDM0MvQyxLQUFLOEMsT0FBUSxFQUNZLElBQXJCbkMsVUFBVTBCLE9BQ0xyQyxLQUFLdUIsU0FBU3RFLEtBQUsrQyxLQUFLYixRQUMxQmEsS0FBS3VCLFNBQVNyQyxNQUFNYyxLQUFLYixPQUFRd0IsV0FJNUMsU0FBU3FDLEVBQVU3RCxFQUFReUMsRUFBTUwsR0FDL0IsSUFBSTBCLEVBQVEsQ0FBRUgsT0FBTyxFQUFPQyxZQUFRN0IsRUFBVy9CLE9BQVFBLEVBQVF5QyxLQUFNQSxFQUFNTCxTQUFVQSxHQUNqRjJCLEVBQVVMLEVBQVl2RSxLQUFLMkUsR0FHL0IsT0FGQUMsRUFBUTNCLFNBQVdBLEVBQ25CMEIsRUFBTUYsT0FBU0csRUFDUkEsRUEwSFQsU0FBU0MsRUFBV2hFLEVBQVF5QyxFQUFNd0IsR0FDaEMsSUFBSXRCLEVBQVMzQyxFQUFPOEIsUUFFcEIsUUFBZUMsSUFBWFksRUFDRixNQUFPLEdBRVQsSUFBSXVCLEVBQWF2QixFQUFPRixHQUN4QixZQUFtQlYsSUFBZm1DLEVBQ0ssR0FFaUIsbUJBQWZBLEVBQ0ZELEVBQVMsQ0FBQ0MsRUFBVzlCLFVBQVk4QixHQUFjLENBQUNBLEdBRWxERCxFQXNEVCxTQUF5QkUsR0FFdkIsSUFEQSxJQUFJQyxFQUFNLElBQUlDLE1BQU1GLEVBQUlqQixRQUNmdkYsRUFBSSxFQUFHQSxFQUFJeUcsRUFBSWxCLFNBQVV2RixFQUNoQ3lHLEVBQUl6RyxHQUFLd0csRUFBSXhHLEdBQUd5RSxVQUFZK0IsRUFBSXhHLEdBRWxDLE9BQU95RyxFQTFETEUsQ0FBZ0JKLEdBQWNLLEVBQVdMLEVBQVlBLEVBQVdoQixRQW9CcEUsU0FBU3NCLEVBQWMvQixHQUNyQixJQUFJRSxFQUFTOUIsS0FBS2lCLFFBRWxCLFFBQWVDLElBQVhZLEVBQXNCLENBQ3hCLElBQUl1QixFQUFhdkIsRUFBT0YsR0FFeEIsR0FBMEIsbUJBQWZ5QixFQUNULE9BQU8sRUFDRixRQUFtQm5DLElBQWZtQyxFQUNULE9BQU9BLEVBQVdoQixPQUl0QixPQUFPLEVBT1QsU0FBU3FCLEVBQVdKLEVBQUsvRSxHQUV2QixJQURBLElBQUlxRixFQUFPLElBQUlKLE1BQU1qRixHQUNaekIsRUFBSSxFQUFHQSxFQUFJeUIsSUFBS3pCLEVBQ3ZCOEcsRUFBSzlHLEdBQUt3RyxFQUFJeEcsR0FDaEIsT0FBTzhHLEVBNENULFNBQVNoRCxFQUErQlYsRUFBUzdDLEVBQU1rRSxFQUFVVCxHQUMvRCxHQUEwQixtQkFBZlosRUFBUWEsR0FDYkQsRUFBTWIsS0FDUkMsRUFBUUQsS0FBSzVDLEVBQU1rRSxHQUVuQnJCLEVBQVFhLEdBQUcxRCxFQUFNa0UsT0FFZCxJQUF3QyxtQkFBN0JyQixFQUFRMkQsaUJBWXhCLE1BQU0sSUFBSXJDLFVBQVUsNkVBQStFdEIsR0FUbkdBLEVBQVEyRCxpQkFBaUJ4RyxHQUFNLFNBQVN5RyxFQUFhQyxHQUcvQ2pELEVBQU1iLE1BQ1JDLEVBQVE4RCxvQkFBb0IzRyxFQUFNeUcsR0FFcEN2QyxFQUFTd0MsT0FoYWZ2RyxPQUFPQyxlQUFlcUMsRUFBYyxzQkFBdUIsQ0FDekRwQyxZQUFZLEVBQ1pDLElBQUssV0FDSCxPQUFPMEQsR0FFVDRDLElBQUssU0FBU0YsR0FDWixHQUFtQixpQkFBUkEsR0FBb0JBLEVBQU0sR0FBS3BFLEVBQVlvRSxHQUNwRCxNQUFNLElBQUlHLFdBQVcsa0dBQW9HSCxFQUFNLEtBRWpJMUMsRUFBc0IwQyxLQUkxQmpFLEVBQWFDLEtBQU8sZ0JBRUdtQixJQUFqQmxCLEtBQUtpQixTQUNMakIsS0FBS2lCLFVBQVl6RCxPQUFPMkcsZUFBZW5FLE1BQU1pQixVQUMvQ2pCLEtBQUtpQixRQUFVekQsT0FBT1ksT0FBTyxNQUM3QjRCLEtBQUttQixhQUFlLEdBR3RCbkIsS0FBS29CLGNBQWdCcEIsS0FBS29CLG9CQUFpQkYsR0FLN0NwQixFQUFhcEIsVUFBVTBGLGdCQUFrQixTQUF5QjdGLEdBQ2hFLEdBQWlCLGlCQUFOQSxHQUFrQkEsRUFBSSxHQUFLb0IsRUFBWXBCLEdBQ2hELE1BQU0sSUFBSTJGLFdBQVcsZ0ZBQWtGM0YsRUFBSSxLQUc3RyxPQURBeUIsS0FBS29CLGNBQWdCN0MsRUFDZHlCLE1BU1RGLEVBQWFwQixVQUFVMkYsZ0JBQWtCLFdBQ3ZDLE9BQU81QyxFQUFpQnpCLE9BRzFCRixFQUFhcEIsVUFBVXdELEtBQU8sU0FBY04sR0FFMUMsSUFEQSxJQUFJdkMsRUFBTyxHQUNGdkMsRUFBSSxFQUFHQSxFQUFJNkQsVUFBVTBCLE9BQVF2RixJQUFLdUMsRUFBSytDLEtBQUt6QixVQUFVN0QsSUFDL0QsSUFBSXdILEVBQW9CLFVBQVQxQyxFQUVYRSxFQUFTOUIsS0FBS2lCLFFBQ2xCLFFBQWVDLElBQVhZLEVBQ0Z3QyxFQUFXQSxRQUE0QnBELElBQWpCWSxFQUFPeUMsV0FDMUIsSUFBS0QsRUFDUixPQUFPLEVBR1QsR0FBSUEsRUFBUyxDQUNYLElBQUlFLEVBR0osR0FGSW5GLEVBQUtnRCxPQUFTLElBQ2hCbUMsRUFBS25GLEVBQUssSUFDUm1GLGFBQWNoQyxNQUdoQixNQUFNZ0MsRUFHUixJQUFJakUsRUFBTSxJQUFJaUMsTUFBTSxvQkFBc0JnQyxFQUFLLEtBQU9BLEVBQUdDLFFBQVUsSUFBTSxLQUV6RSxNQURBbEUsRUFBSW1FLFFBQVVGLEVBQ1JqRSxFQUdSLElBQUlNLEVBQVVpQixFQUFPRixHQUVyQixRQUFnQlYsSUFBWkwsRUFDRixPQUFPLEVBRVQsR0FBdUIsbUJBQVpBLEVBQ1Q1QixFQUFhNEIsRUFBU2IsS0FBTVgsT0FFNUIsS0FBSXNGLEVBQU05RCxFQUFRd0IsT0FDZHVDLEVBQVlsQixFQUFXN0MsRUFBUzhELEdBQ3BDLElBQVM3SCxFQUFJLEVBQUdBLEVBQUk2SCxJQUFPN0gsRUFDekJtQyxFQUFhMkYsRUFBVTlILEdBQUlrRCxLQUFNWCxHQUdyQyxPQUFPLEdBaUVUUyxFQUFhcEIsVUFBVW1HLFlBQWMsU0FBcUJqRCxFQUFNTCxHQUM5RCxPQUFPSSxFQUFhM0IsS0FBTTRCLEVBQU1MLEdBQVUsSUFHNUN6QixFQUFhcEIsVUFBVXFDLEdBQUtqQixFQUFhcEIsVUFBVW1HLFlBRW5EL0UsRUFBYXBCLFVBQVVvRyxnQkFDbkIsU0FBeUJsRCxFQUFNTCxHQUM3QixPQUFPSSxFQUFhM0IsS0FBTTRCLEVBQU1MLEdBQVUsSUFxQmhEekIsRUFBYXBCLFVBQVV1QixLQUFPLFNBQWMyQixFQUFNTCxHQUdoRCxPQUZBRCxFQUFjQyxHQUNkdkIsS0FBS2UsR0FBR2EsRUFBTW9CLEVBQVVoRCxLQUFNNEIsRUFBTUwsSUFDN0J2QixNQUdURixFQUFhcEIsVUFBVXFHLG9CQUNuQixTQUE2Qm5ELEVBQU1MLEdBR2pDLE9BRkFELEVBQWNDLEdBQ2R2QixLQUFLOEUsZ0JBQWdCbEQsRUFBTW9CLEVBQVVoRCxLQUFNNEIsRUFBTUwsSUFDMUN2QixNQUliRixFQUFhcEIsVUFBVThCLGVBQ25CLFNBQXdCb0IsRUFBTUwsR0FDNUIsSUFBSXlELEVBQU1sRCxFQUFRbUQsRUFBVW5JLEVBQUdvSSxFQUsvQixHQUhBNUQsRUFBY0MsUUFHQ0wsS0FEZlksRUFBUzlCLEtBQUtpQixTQUVaLE9BQU9qQixLQUdULFFBQWFrQixLQURiOEQsRUFBT2xELEVBQU9GLElBRVosT0FBTzVCLEtBRVQsR0FBSWdGLElBQVN6RCxHQUFZeUQsRUFBS3pELFdBQWFBLEVBQ2IsS0FBdEJ2QixLQUFLbUIsYUFDVG5CLEtBQUtpQixRQUFVekQsT0FBT1ksT0FBTyxjQUV0QjBELEVBQU9GLEdBQ1ZFLEVBQU90QixnQkFDVFIsS0FBS2tDLEtBQUssaUJBQWtCTixFQUFNb0QsRUFBS3pELFVBQVlBLFNBRWxELEdBQW9CLG1CQUFUeUQsRUFBcUIsQ0FHckMsSUFGQUMsR0FBWSxFQUVQbkksRUFBSWtJLEVBQUszQyxPQUFTLEVBQUd2RixHQUFLLEVBQUdBLElBQ2hDLEdBQUlrSSxFQUFLbEksS0FBT3lFLEdBQVl5RCxFQUFLbEksR0FBR3lFLFdBQWFBLEVBQVUsQ0FDekQyRCxFQUFtQkYsRUFBS2xJLEdBQUd5RSxTQUMzQjBELEVBQVduSSxFQUNYLE1BSUosR0FBSW1JLEVBQVcsRUFDYixPQUFPakYsS0FFUSxJQUFiaUYsRUFDRkQsRUFBS0csUUFpSWYsU0FBbUJILEVBQU1JLEdBQ3ZCLEtBQU9BLEVBQVEsRUFBSUosRUFBSzNDLE9BQVErQyxJQUM5QkosRUFBS0ksR0FBU0osRUFBS0ksRUFBUSxHQUM3QkosRUFBS0ssTUFsSUdDLENBQVVOLEVBQU1DLEdBR0UsSUFBaEJELEVBQUszQyxTQUNQUCxFQUFPRixHQUFRb0QsRUFBSyxTQUVROUQsSUFBMUJZLEVBQU90QixnQkFDVFIsS0FBS2tDLEtBQUssaUJBQWtCTixFQUFNc0QsR0FBb0IzRCxHQUcxRCxPQUFPdkIsTUFHYkYsRUFBYXBCLFVBQVU2RyxJQUFNekYsRUFBYXBCLFVBQVU4QixlQUVwRFYsRUFBYXBCLFVBQVU4RyxtQkFDbkIsU0FBNEI1RCxHQUMxQixJQUFJZ0QsRUFBVzlDLEVBQVFoRixFQUd2QixRQUFlb0UsS0FEZlksRUFBUzlCLEtBQUtpQixTQUVaLE9BQU9qQixLQUdULFFBQThCa0IsSUFBMUJZLEVBQU90QixlQVVULE9BVHlCLElBQXJCRyxVQUFVMEIsUUFDWnJDLEtBQUtpQixRQUFVekQsT0FBT1ksT0FBTyxNQUM3QjRCLEtBQUttQixhQUFlLFFBQ01ELElBQWpCWSxFQUFPRixLQUNZLEtBQXRCNUIsS0FBS21CLGFBQ1RuQixLQUFLaUIsUUFBVXpELE9BQU9ZLE9BQU8sYUFFdEIwRCxFQUFPRixJQUVYNUIsS0FJVCxHQUF5QixJQUFyQlcsVUFBVTBCLE9BQWMsQ0FDMUIsSUFDSWhFLEVBREFvSCxFQUFPakksT0FBT2lJLEtBQUszRCxHQUV2QixJQUFLaEYsRUFBSSxFQUFHQSxFQUFJMkksRUFBS3BELFNBQVV2RixFQUVqQixvQkFEWnVCLEVBQU1vSCxFQUFLM0ksS0FFWGtELEtBQUt3RixtQkFBbUJuSCxHQUsxQixPQUhBMkIsS0FBS3dGLG1CQUFtQixrQkFDeEJ4RixLQUFLaUIsUUFBVXpELE9BQU9ZLE9BQU8sTUFDN0I0QixLQUFLbUIsYUFBZSxFQUNibkIsS0FLVCxHQUF5QixtQkFGekI0RSxFQUFZOUMsRUFBT0YsSUFHakI1QixLQUFLUSxlQUFlb0IsRUFBTWdELFFBQ3JCLFFBQWtCMUQsSUFBZDBELEVBRVQsSUFBSzlILEVBQUk4SCxFQUFVdkMsT0FBUyxFQUFHdkYsR0FBSyxFQUFHQSxJQUNyQ2tELEtBQUtRLGVBQWVvQixFQUFNZ0QsRUFBVTlILElBSXhDLE9BQU9rRCxNQW9CYkYsRUFBYXBCLFVBQVVrRyxVQUFZLFNBQW1CaEQsR0FDcEQsT0FBT3VCLEVBQVduRCxLQUFNNEIsR0FBTSxJQUdoQzlCLEVBQWFwQixVQUFVZ0gsYUFBZSxTQUFzQjlELEdBQzFELE9BQU91QixFQUFXbkQsS0FBTTRCLEdBQU0sSUFHaEM5QixFQUFhNkQsY0FBZ0IsU0FBU3pELEVBQVMwQixHQUM3QyxNQUFxQyxtQkFBMUIxQixFQUFReUQsY0FDVnpELEVBQVF5RCxjQUFjL0IsR0FFdEIrQixFQUFjMUcsS0FBS2lELEVBQVMwQixJQUl2QzlCLEVBQWFwQixVQUFVaUYsY0FBZ0JBLEVBaUJ2QzdELEVBQWFwQixVQUFVaUgsV0FBYSxXQUNsQyxPQUFPM0YsS0FBS21CLGFBQWUsRUFBSXJDLEVBQWVrQixLQUFLaUIsU0FBVyxLLGNDeGFuQyxtQkFBbEJ6RCxPQUFPWSxPQUVoQnZCLEVBQU9ELFFBQVUsU0FBa0JnSixFQUFNQyxHQUNuQ0EsSUFDRkQsRUFBS0UsT0FBU0QsRUFDZEQsRUFBS2xILFVBQVlsQixPQUFPWSxPQUFPeUgsRUFBVW5ILFVBQVcsQ0FDbERxSCxZQUFhLENBQ1hoSSxNQUFPNkgsRUFDUGxJLFlBQVksRUFDWnNJLFVBQVUsRUFDVkMsY0FBYyxPQU90QnBKLEVBQU9ELFFBQVUsU0FBa0JnSixFQUFNQyxHQUN2QyxHQUFJQSxFQUFXLENBQ2JELEVBQUtFLE9BQVNELEVBQ2QsSUFBSUssRUFBVyxhQUNmQSxFQUFTeEgsVUFBWW1ILEVBQVVuSCxVQUMvQmtILEVBQUtsSCxVQUFZLElBQUl3SCxFQUNyQk4sRUFBS2xILFVBQVVxSCxZQUFjSCxLLDZCQ3RCbkMsSUFRSU8sRUFDQUMsRUEwQ0FDLEVBbkRBQyxFQUFRLENBQ1YsRUFBUSxJQUNSLEVBQVEsSUFDUixFQUFRLElBQ1IsRUFBUSxJQUNSLEVBQVEsSUFDUixFQUFRLEtBSU5DLEdBQWMsRUFDZEMsRUFBUSxHQUNSQyxHQUFZLEVBQ2hCLFNBQVNDLElBQ0ZQLEdBQWFDLElBR2xCRCxHQUFXLEVBQ1BDLEVBQWEvRCxPQUNmbUUsRUFBUUosRUFBYTFHLE9BQU84RyxHQUU1QkQsR0FBYyxFQUVaQyxFQUFNbkUsUUFDUnNFLEtBS0osU0FBU0EsSUFDUCxJQUFJUixFQUFKLENBR0FNLEdBQVksRUFDWk4sR0FBVyxFQUdYLElBRkEsSUFBSXhCLEVBQU02QixFQUFNbkUsT0FDWnVFLEVBQVVDLFdBQVdILEdBQ2xCL0IsR0FBSyxDQUdWLElBRkF5QixFQUFlSSxFQUNmQSxFQUFRLEdBQ0RKLEtBQWtCRyxFQUFhNUIsR0FDcEN5QixFQUFhRyxHQUFZTyxNQUUzQlAsR0FBYyxFQUNkNUIsRUFBTTZCLEVBQU1uRSxPQUVkK0QsRUFBZSxLQUNmRyxHQUFjLEVBQ2RKLEdBQVcsRUFDWFksYUFBYUgsSUFLZixJQUZBLElBQUk5SixHQUFLLEVBQ0w2SCxFQUFNMkIsRUFBTWpFLFNBQ1B2RixFQUFJNkgsR0FDWCxHQUFJMkIsRUFBTXhKLElBQU13SixFQUFNeEosR0FBR2tLLE1BQVFWLEVBQU14SixHQUFHa0ssT0FBUSxDQUNoRFgsRUFBZ0JDLEVBQU14SixHQUFHbUssUUFBUU4sR0FDakMsTUFJSixTQUFTTyxFQUFLQyxFQUFLQyxHQUNqQnBILEtBQUttSCxJQUFNQSxFQUNYbkgsS0FBS29ILE1BQVFBLEVBRWZGLEVBQUt4SSxVQUFVb0ksSUFBTSxXQUNuQixJQUFJSyxFQUFNbkgsS0FBS21ILElBQ1hDLEVBQVFwSCxLQUFLb0gsTUFDakIsT0FBUUEsRUFBTS9FLFFBQ2QsS0FBSyxFQUNILE9BQU84RSxJQUNULEtBQUssRUFDSCxPQUFPQSxFQUFJQyxFQUFNLElBQ25CLEtBQUssRUFDSCxPQUFPRCxFQUFJQyxFQUFNLEdBQUlBLEVBQU0sSUFDN0IsS0FBSyxFQUNILE9BQU9ELEVBQUlDLEVBQU0sR0FBSUEsRUFBTSxHQUFJQSxFQUFNLElBQ3ZDLFFBQ0UsT0FBT0QsRUFBSWpJLE1BQU0sS0FBTWtJLEtBSTNCdkssRUFBT0QsUUFDUCxTQUFtQnlLLEdBQ2pCLElBQUloSSxFQUFPLElBQUltRSxNQUFNN0MsVUFBVTBCLE9BQVMsR0FDeEMsR0FBSTFCLFVBQVUwQixPQUFTLEVBQ3JCLElBQUssSUFBSXZGLEVBQUksRUFBR0EsRUFBSTZELFVBQVUwQixPQUFRdkYsSUFDcEN1QyxFQUFLdkMsRUFBSSxHQUFLNkQsVUFBVTdELEdBRzVCMEosRUFBTXBFLEtBQUssSUFBSThFLEVBQUtHLEVBQU1oSSxJQUNyQm9ILEdBQWNOLElBQ2pCTSxHQUFZLEVBQ1pKLE8sd0hDOUZKLGNBQ0EsUUFJTWlCLEVBQWdDLElBQUk5RCxNQUFNLEdBQ2hELElBQUkrRCxFQUFtQyxLQUt2QyxNQU9NQyxFQUFxRCxDQUN6REMsUUFBUyxHQUNUekYsUUFBUyxNQUNUdUMsTUFBTyxNQUNQbUQsUUFBUyxNQU1YLE1BQWFDLEVBWVgsWUFBYWxELEVBQWlCN0MsRUFBd0JnRyxFQUFrQixNQUN0RTVILEtBQUt5RSxRQUFVK0MsRUFBaUI1RixHQUFRNkMsRUFDeEN6RSxLQUFLNkgsV0FBWSxFQUNqQjdILEtBQUs4SCxJQUFLLElBQUFDLFVBQ1YvSCxLQUFLZ0ksZUFBNEMsSUFBNUJ2RCxFQUFRd0QsT0FBTyxRQUNwQ2pJLEtBQUs0SCxRQUFVQSxFQUNmNUgsS0FBS2tJLFdBQWEsRUFDbEJsSSxLQUFLNEIsS0FBT0EsRUFJZCxhQUFja0csR0FDWjlILEtBQUtrSSxVQUFZQyxLQUFLQyxJQUFJTixHQUFLLEdBSWpDLFVBQ0U5SCxLQUFLNkgsV0FBWSxFQU1uQixRQUNFLE9BQU83SCxLQUFLOEgsSUFRaEIsU0FBU08sRUFBbUJDLEdBQ3RCQyxTQUFTQyxlQUFlRixJQUMxQkMsU0FBU0MsZUFBZUYsR0FBV0csU0F1Q3ZDLFNBQVNDLEVBQW1CQyxJQS9CNUIsU0FBOEJBLEdBRTVCLEdBQUlBLEVBQWFYLGNBQWUsQ0FDOUIsR0FBMkIsT0FBdkJULEVBSUYsWUFEQXFCLE9BQU83QixhQUFhUSxFQUFtQlcsV0FGdkNYLEVBQXFCb0IsRUFTekIsR0FEQXJCLEVBQWNsRixLQUFLdUcsR0FDZnJCLEVBQWNqRixPQXBGTSxFQW9Gc0IsQ0FFNUNnRyxFQURpQmYsRUFBY25DLFFBQ0owRCxTQUU3QixNQUFNQyxFQUFzQlAsU0FBU0MsZUFBZSx3QkFDOUNPLEVBQWtCUixTQUFTUyxjQUFjLE9BQy9DRCxFQUFnQkUsVUFBVUMsSUFBSSxxQkFDOUJILEVBQWdCRSxVQUFVQyxJQUFJLHFCQUFxQlAsRUFBYS9HLE1BQ2hFbUgsRUFBZ0JqQixHQUFLYSxFQUFhRSxRQUNsQ0UsRUFBZ0JJLFVBQVlSLEVBQWFsRSxRQUN6Q3FFLEVBQW9CTSxPQUFPTCxHQUMzQkQsRUFBb0JPLE1BQU1DLFFBQVUsR0FDcENYLEVBQWFXLFVBT2JDLENBQW9CWixHQUNwQkEsRUFBYWEsYUFDWFosT0FBTy9CLFdBQVd3QixFQXBHTixJQW9Ha0NNLEVBQWFFLFVBRTdETixTQUNHQyxlQUFlRyxFQUFhRSxTQUM1QmhGLGlCQUFpQixRQUFTLEtBQ3pCK0UsT0FBTzdCLGFBQWE0QixFQUFhVCxXQUNqQ0csRUFBa0JNLEVBQWFFLFdBUXJDLFNBQWdCWSxFQUFtQlgsRUFBNkJsSCxFQUF5QixVQUFXZ0csRUFBa0IsTUFDcEgsTUFBTWUsRUFBZSxJQUFJaEIsRUFBYW1CLEVBQXFCbEgsRUFBTWdHLEdBRXhDLFNBQXJCZSxFQUFhL0csTUFBd0MsV0FBckIrRyxFQUFhL0csT0FDL0MsSUFBQThILG9CQUFtQmYsR0FHckJELEVBQWtCQyxHQTdHcEIsaUJBc0dBLHNCQVVBLFVBQWUsQ0FBRWMsc0IsaUhDbklqQixJQUFJRSxFQUErQixLQWtDbkMsTUFBTUMsRUFBNkIsQ0FDakNDLEtBQU0sSUFDTkMsYUFBYyxJQUNkQyxhQUFjLElBQ2RDLFdBQVksR0FDWkMsY0FBZSxPQUNmQyxTQUFVLE9BQ1ZDLFdBQVksVUFDWkMsVUFBVyxlQUNYQyxjQUFlLGdCQUNmQyxXQUFXLEVBQ1hDLGFBQWEsRUFDYkMsYUFBYSxFQUNiQyxhQUFhLEVBQ2JDLGVBQWUsRUFDZkMsUUFBUyxNQW1EWCx5QkFDRSxPQUFPaEIsRUFBY2lCLFVBTXZCLHVCQUE2QkMsR0FDM0JsQixFQUFjMUYsSUFBSTRHLElBR3BCLFVBM0RBLE1BSUUsWUFBYUMsR0FDWG5CLEVBQWdCM0osS0FDaEJBLEtBQUs4SCxHQUFLZ0QsRUFDVjlLLEtBQUsrSyxPQU9QLE9BQ0UsSUFDRSxNQUFNQyxFQUE0QkMsS0FBS0MsTUFBTXRDLE9BQU91QyxhQUFhQyxRQUFRcEwsS0FBSzhILEtBQzlFOUgsS0FBS3FMLEtBQUtMLEdBQ1YsTUFBT3pHLEdBSVB2RSxLQUFLcUwsS0FBSyxLQU9kLElBQUtSLEdBQ0g3SyxLQUFLNEssU0FBVyxPQUFILHdCQUFRNUssS0FBSzRLLFVBQWFDLEdBQ3ZDakMsT0FBT3VDLGFBQWFHLFFBQVF0TCxLQUFLOEgsR0FBSW1ELEtBQUtNLFVBQVV2TCxLQUFLNEssV0FRM0QsS0FBTUksR0FDSmhMLEtBQUs0SyxTQUFXLE9BQUgsd0JBQVFoQixHQUFxQm9CLEdBQzFDcEMsT0FBT3VDLGFBQWFHLFFBQVF0TCxLQUFLOEgsR0FBSW1ELEtBQUtNLFVBQVV2TCxLQUFLNEssYywyVkN0RzdELGNBQ0EsUUFDQSxRQUNBLFFBSUEsUUFDQSxPQUNBLE9BS0EsU0FBZ0JZLElBQ2QsTUFBTUMsRUFBVWxELFNBQVNtRCx1QkFBdUIsb0JBQ2hELE9BQXVCLElBQW5CRCxFQUFRcEosT0FDSG9KLEVBQVEsR0FBRzNELEdBRVgsS0FRWCxTQUFnQjZELElBQ2RwRCxTQUNHcUQsaUJBQWlCLGNBQ2pCQyxRQUFTQyxHQUEwQkEsRUFBUzdDLFVBQVVSLE9BQU8sY0FDaEVGLFNBQVNxRCxpQkFBaUIsYUFBYUMsUUFBU0MsSUFDOUNBLEVBQVM3QyxVQUFVUixPQUFPLFlBQ3RCcUQsRUFBUzdDLFVBQVU4QyxTQUFTLFVBQzlCRCxFQUFTRSxnQkFBZ0IsU0FDekJDLEVBQU1DLFlBQVlKLEtBRWxCQSxFQUFTRSxnQkFBZ0IsU0FDekJGLEVBQVN6QyxNQUFNOEMsS0FBTyxJQUd4QjNJLE1BQU00SSxLQUFLTixFQUFTRixpQkFBaUIsYUFBYUMsUUFDL0NRLElBQ0NBLEVBQVFoRCxNQUFNaUQsT0FBUyxHQUN2QkQsRUFBUUUsYUFBYSxlQUFnQixVQUl6Qy9JLE1BQU00SSxLQUFLTixFQUFTRixpQkFBaUIsV0FBV0MsUUFDN0NXLElBQ0NBLEVBQU1uRCxNQUFNOEMsS0FBTyxLQUl2QjNJLE1BQU00SSxLQUFLTixFQUFTRixpQkFBaUIseUJBQXlCQyxRQUMzRFksSUFDQ0EsRUFBUXBELE1BQU04QyxLQUFPLFNBSXJCTCxFQUFTWSxjQUFjekQsVUFBVThDLFNBQVMsMEJBQzVDRCxFQUFTWSxjQUFjckQsTUFBTThDLEtBQU8sR0FDcENMLEVBQVNZLGNBQWN6RCxVQUFVQyxJQUFJLFlBQ3JDNEMsRUFBU1ksY0FBY3pELFVBQVVSLE9BQU8sd0JBRXhDakYsTUFBTTRJLEtBQUtOLEVBQVNZLGNBQWNkLGlCQUFpQixhQUFhQyxRQUM3RFEsSUFDQ0EsRUFBUWhELE1BQU1pRCxPQUFTLEdBQ3ZCRCxFQUFRRSxhQUFhLGVBQWdCLFVBSXpDL0ksTUFBTTRJLEtBQUtOLEVBQVNZLGNBQWNkLGlCQUFpQixXQUFXQyxRQUMzRFcsSUFDQ0EsRUFBTW5ELE1BQU04QyxLQUFPLE1BS3pCUSxFQUFHQyxVQUFVLGVBQWVuRSxTQUM1QmtFLEVBQUdDLFVBQVUsZ0JBQWdCbkUsU0FDN0JrRSxFQUFHQyxVQUFVLGdCQUFnQm5FLFdBRy9CakYsTUFBTTRJLEtBQUs3RCxTQUFTcUQsaUJBQWlCLGlCQUFpQkMsUUFDbkRnQixJQUNDQSxFQUFHeEQsTUFBTXlELE1BQVEsR0FDakJELEVBQUd4RCxNQUFNMEQsV0FBYSxHQUN0QkYsRUFBRzVELFVBQVVSLE9BQU8saUJBSW5CRixTQUFTQyxlQUFlLGNBQWNTLFVBQVU4QyxTQUFTLGFBRzVEaUIsRUFBY0Msc0JBRmRDLEVBQVNDLHVCQUlYNUUsU0FBU0MsZUFBZSxhQUFhVyxVQUFZLEdBQ2pEWixTQUFTQyxlQUFlLGFBQWFrRSxjQUFjekQsVUFBVUMsSUFBSSxXQUNqRSxJQUFBa0UsbUJBUUYsU0FBZ0JDLEVBQ2RDLEVBQ0FDLEdBRUtELEVBQU1yRSxVQUFVOEMsU0FBUyxjQUM1QnVCLEVBQU1yRSxVQUFVQyxJQUFJLFlBQ3BCK0MsRUFBTUMsWUFBWW9CLEdBQ2xCckIsRUFBTXVCLFVBQVVGLEVBQU8sUUFDdkJOLEVBQWNTLDRCQUNkUCxFQUFTUSx3QkFDVEgsRUFBWUksWUFTaEIsU0FBZ0JDLEVBQ2RDLEVBQ0FOLEdBRUtNLEVBQWE1RSxVQUFVOEMsU0FBUyxjQUNuQzhCLEVBQWE1RSxVQUFVQyxJQUFJLFlBQzNCK0MsRUFBTUMsWUFBWTJCLEdBQ2xCNUIsRUFBTXVCLFVBQVVLLEVBQWMsUUFDOUJOLEVBQVlJLFlBVWhCLFNBQWdCRyxFQUNkakIsRUFDQVUsRUFDQVEsR0FBdUIsR0FHdkIsR0FBS2xCLEVBQUwsQ0FFQSxHQUFJQSxFQUFHNUQsVUFBVThDLFNBQVMsU0FDeEIsT0FBT3NCLEVBQVlSLEVBQUlVLEdBRXpCLEdBQUlWLEVBQUc1RCxVQUFVOEMsU0FBUyxTQUN4QixPQUFPNkIsRUFBbUJmLEVBQUlVLEdBR2hDLElBQ0dWLEVBQUc1RCxVQUFVOEMsU0FBUyxjQUN0QmMsRUFBRzVELFVBQVU4QyxTQUFTLGlCQUN0QmMsRUFBRzVELFVBQVU4QyxTQUFTLHVCQUN2QixDQTRCQSxJQUFJaUMsRUFNSixHQWpDQW5CLEVBQUc1RCxVQUFVQyxJQUFJLFlBR2pCMkQsRUFBR3hELE1BQU04QyxLQUFPLE9BQ2hCVSxFQUFHeEQsTUFBTWlELE9BQVNPLEVBQUc1RCxVQUFVOEMsU0FBUyxXQUFhLE9BQVMsUUFFMURjLEVBQUdqQixpQkFBaUIsd0JBQXdCdkosUUFDOUN3SyxFQUFHakIsaUJBQWlCLHdCQUF3QkMsUUFDekNvQyxJQUNDQSxFQUFLNUUsTUFBTThDLEtBQU8sU0FLcEJVLEVBQUdqQixpQkFBaUIsWUFBWXZKLFFBQ2xDd0ssRUFBR2pCLGlCQUFpQixZQUFZQyxRQUFTb0MsSUFDdkNBLEVBQUs1RSxNQUFNaUQsT0FBUyxTQUlwQk8sRUFBRzVELFVBQVU4QyxTQUFTLGFBQ3hCYyxFQUFHakIsaUJBQWlCLFVBQVVDLFFBQVNvQyxJQUNyQ0EsRUFBSzVFLE1BQU04QyxLQUFPLFNBTWxCVSxFQUFHNUQsVUFBVThDLFNBQVMsWUFDeEJpQyxFQUFRbkIsRUFBRy9FLEdBQzBCLE9BQTVCK0UsRUFBR3FCLFFBQVEsZUFDcEJGLEVBQVFuQixFQUFHcUIsUUFBUSxhQUFhcEcsU0FFcEI1RyxJQUFWOE0sRUFBcUIsQ0FDVHpGLFNBQVNxRCxpQkFBaUIsUUFBVW9DLEdBQzVDbkMsUUFBU3NDLElBQ2JBLEVBQUs5RSxNQUFNeUQsTUFBUSxPQUNuQnFCLEVBQUs5RSxNQUFNMEQsV0FBYSxPQUN4Qm9CLEVBQUtsRixVQUFVQyxJQUFJLGtCQUlyQjZFLElBQ0YsSUFBQVgsb0JBNENHZ0IsZUFBZUMsRUFDcEJDLEVBQ0FDLEdBRUEsTUFBTUMsUUFBK0JELEVBQVNFLGVBQzVDSCxFQUFHeEcsR0FDSHlHLEVBQVNHLEtBQUtDLHFCQUVoQixPQUFPQyxRQUFRSixFQUFXSyxTQXlJNUIsU0FBZ0JDLEVBQ2RDLEVBQ0FDLEdBRUEsR0FBSUEsRUFBUzNNLE9BQVMsRUFBRyxPQUFPLEVBRWhDLE9BQVEwTSxHQUNOLElBQUssZ0JBQ0hDLEVBQVNuRCxRQUFTb0MsSUFDaEIsSUFBS0EsRUFBS2hGLFVBQVU4QyxTQUFTLFlBQWEsT0FBTyxJQUVuRCxNQUVGLElBQUssYUFDSGlELEVBQVNuRCxRQUFTb0MsSUFDaEIsSUFBS0EsRUFBS2hGLFVBQVU4QyxTQUFTLFNBQVUsT0FBTyxJQUVoRCxNQUVGLElBQUssYUFDSGlELEVBQVNuRCxRQUFTb0MsSUFDaEIsSUFBS0EsRUFBS2hGLFVBQVU4QyxTQUFTLFNBQVUsT0FBTyxJQUVoRCxNQUVGLFFBQ0UsT0FBTyxFQUdYLE9BQU8sRUFPVCxTQUFnQmtELEVBQ2RELEdBRUEsTUFBTUUsRUFBZTFMLE1BQU00SSxLQUFLNEMsR0FFMUJHLEVBRGVELEVBQWE3SixNQUNBcUgsY0FBY0EsY0FDaEQsSUFBSyxNQUFNakIsS0FBV3lELEVBQWMsQ0FFbEMsR0FEZXpELEVBQVFpQixjQUFjQSxjQUMxQjVFLEtBQU9xSCxFQUFhckgsR0FDN0IsT0FBTyxFQUdYLE9BQU8sRUEyRVQsU0FBZ0JzSCxFQUNkdkMsRUFDQVUsRUFDQWdCLEdBRUEsTUFBTWMsRUFBT3hDLEVBQ1B5QyxFQUFNRCxFQUFLbkIsUUFBUSxRQUN6QixJQUFLb0IsRUFBSXJHLFVBQVU4QyxTQUFTLFlBQWEsQ0FDdkN1RCxFQUFJckcsVUFBVUMsSUFBSSxZQUNsQm1HLEVBQUtoRyxNQUFNOEMsS0FBTyxPQUNsQixNQUFNK0IsRUFBVXJCLEVBQUdxQixRQUFRLGFBQzNCQSxFQUFRN0UsTUFBTThDLEtBQU8sT0FDckIrQixFQUFRakYsVUFBVUMsSUFBSSx3QkFDbEJnRixFQUFRdEMsaUJBQWlCLFlBQVl2SixTQUN2QzZMLEVBQVF0QyxpQkFBaUIsVUFBVUMsUUFBU29DLElBQzFDQSxFQUFLNUUsTUFBTThDLEtBQU8sU0FFcEIrQixFQUFRdEMsaUJBQWlCLFlBQVlDLFFBQVNvQyxJQUM1Q0EsRUFBSzVFLE1BQU1pRCxPQUFTLGVBSVBwTCxJQUFicU4sSUFDRixJQUFBZ0IsUUFBT0QsRUFBMkJmLEVBQVVoQixRQUUxQnJNLElBQWhCcU0sR0FDRkEsRUFBWUksV0FFZCxNQUFNSyxFQUFRbkIsRUFBR3FCLFFBQVEsYUFBYXBHLEdBQ3RDLFFBQWM1RyxJQUFWOE0sRUFBcUIsQ0FDdkIsTUFBTUcsRUFBd0I1RixTQUFTaUgsY0FBYyxRQUFVeEIsR0FDM0RHLElBQ0ZBLEVBQUs5RSxNQUFNeUQsTUFBUSxPQUNuQnFCLEVBQUs5RSxNQUFNMEQsV0FBYSxPQUN4Qm9CLEVBQUtsRixVQUFVQyxJQUFJLGlCQUl6QjhELEVBQWN5QyxxQkEvaEJoQixxQkFhQSxhQWdGQSxnQkFtQkEsdUJBa0JBLFdBdUVBLFlBQU9yQixlQUNMdkIsRUFDQTBCLEVBQ0FoQixHQUVBLElBQUtWLEVBQUdILGNBQWN6RCxVQUFVOEMsU0FBUyxZQUFhLENBQ3BELE1BQU0yRCxFQUFTN0MsRUFBR0gsY0FHbEIsR0FGQWYsSUFDQW1DLEVBQU80QixTQUNHckIsRUFBV3FCLEVBQVFuQixHQUFXLENBQ3RDLE1BQU1vQixFQUFTRCxFQUFPRSxnQkFDdEIsU0FBVXZCLEVBQVdzQixFQUFRcEIsR0FDM0JULEVBQU82QixPQUNGLENBQ0wsTUFBTUUsRUFBU0gsRUFBT0ksa0JBQ1p6QixFQUFXd0IsRUFBUXRCLEdBQzNCVCxFQUFPK0IsR0FFUGxOLFFBQVFDLEtBQUssZ0RBR2pCc0ssRUFBUzZDLGdCQUFnQixpQkFDaEJMLEVBQU96RyxVQUFVOEMsU0FBUyxNQUNuQ2lCLEVBQWNnRCxpQkFBaUJOLEdBRS9CL00sUUFBUUMsS0FBSyx3QkFFZjJLLEVBQVlJLGFBU2hCLGVBb0JBLHVCQUNFb0IsRUFDQUMsR0FHQSxHQUFJQSxFQUFTM00sT0FBUyxFQUFHLE9BQU8sRUFHaEMsSUFBSTROLEVBQ0osT0FBUWxCLEdBQ04sSUFBSyxnQkFDSGtCLEVBQTBCek0sTUFBTTRJLEtBQzlCN0QsU0FBU3FELGlCQUFpQixjQUU1QixNQUVGLElBQUssYUFNSCxPQUFPLEVBRVQsSUFBSyxVQUNIcUUsRUFBMEJ6TSxNQUFNNEksS0FBSzdELFNBQVNxRCxpQkFBaUIsUUFDL0QsTUFFRixJQUFLLGFBQ0hxRSxFQUEwQnpNLE1BQU00SSxLQUFLN0QsU0FBU3FELGlCQUFpQixXQUMvRCxNQUVGLFFBQ0UsT0FBTyxFQUtYLE1BQU1zRSxFQUFpQixHQUN2QixJQUFLLElBQUlwVCxFQUFJLEVBQUdBLEVBQUltVCxFQUF3QjVOLE9BQVF2RixJQUNsRCxJQUFLLElBQUlxVCxFQUFJLEVBQUdBLEVBQUluQixFQUFTM00sT0FBUThOLElBQy9CRixFQUF3Qm5ULEdBQUdzVCxXQUFXcEIsRUFBU21CLEtBQ2pERCxFQUFlOU4sS0FBSzRNLEVBQVNtQixJQU9uQyxJQUFLLElBQUlyVCxFQUFJLEVBQUdBLEVBQUlvVCxFQUFlN04sT0FBUyxFQUFHdkYsSUFBSyxDQUNsRCxNQUFNdVQsRUFBWUgsRUFBZXBULEdBQzNCd1QsRUFBYUosRUFBZXBULEVBQUksR0FFaEN5VCxFQUFTTixFQUF3Qk8sUUFBUUgsR0FDekNJLEVBQVNSLEVBQXdCTyxRQUFRRixHQUUvQyxHQUFrQyxJQUE5Qm5JLEtBQUt1SSxJQUFJSCxFQUFTRSxHQUFlLE9BQU8sRUFHOUMsT0FBTyxHQWNULCtCQUNFMUIsRUFDQUMsR0FXQSxJQUFLRixFQUF3QkMsRUFUN0JDLEVBQVdBLEVBQVMyQixPQUNqQjFDLEtBRUdBLEVBQUtoRixVQUFVOEMsU0FBUyxZQUN4QmtDLEVBQUtoRixVQUFVOEMsU0FBUyxVQUN4QmtDLEVBQUtoRixVQUFVOEMsU0FBUyxXQUl5QixPQUFPLEVBRTlELE9BQVFnRCxHQUNOLElBQUssZ0JBQ0gsTUFBTTZCLEVBQXVCNUIsRUFBUyxHQUFHZCxRQUFRLFVBQ2pELElBQUssSUFBSXBSLEVBQUksRUFBR0EsRUFBSWtTLEVBQVMzTSxPQUFRdkYsSUFBSyxDQUV4QyxJQURha1MsRUFBU2xTLEdBQ1pvUixRQUFRLFVBQVVrQyxXQUFXUSxHQUNyQyxPQUFPLEVBRVgsT0FBTyxFQUVULElBQUssYUFDSCxNQUFNQyxFQUEwQjdCLEVBQVMsR0FBR2QsUUFBUSxhQUNwRCxJQUFLLElBQUlwUixFQUFJLEVBQUdBLEVBQUlrUyxFQUFTM00sT0FBUXZGLElBQUssQ0FFeEMsSUFEYWtTLEVBQVNsUyxHQUNab1IsUUFBUSxhQUFha0MsV0FBV1MsR0FDeEMsT0FBTyxFQUVYLE9BQU8sRUFFVCxJQUFLLGFBQ0gsT0FBTyxFQUVULFFBQ0UsT0FBTyxJQWNiLDRCQW9DQSw0QkFvQkEsaUNBQXNDN0IsR0FDcEMsTUFBTThCLEVBQWdCdE4sTUFBTTRJLEtBQUs0QyxHQUVqQyxJQUFLLElBQUlsUyxFQUFJLEVBQUdBLEVBQUlnVSxFQUFjek8sT0FBUXZGLElBQUssQ0FDN0MsTUFBTXdRLEVBQVF3RCxFQUFjaFUsR0FBR29SLFFBQVEsVUFFdkMsSUFBSyxJQUFJaUMsRUFBSXJULEVBQUdxVCxFQUFJVyxFQUFjek8sT0FBUThOLElBQUssQ0FDN0MsTUFBTVksRUFBZUQsRUFBY1gsR0FBR2pDLFFBQVEsVUFFOUMsSUFBS1osRUFBTThDLFdBQVdXLEdBQWUsT0FBTyxHQUloRCxPQUFPLEdBbUJULHdCQUE2QnpELEdBQzNCLElBQUkwRCxFQUFLQyxFQUFLQyxFQUFLQyxFQUFLQyxFQTBCeEIsT0F6QkE5RCxFQUFNMUIsaUJBQWlCLFFBQVFDLFFBQVN3RixJQUN0QyxNQUFNQyxFQUF3QkQsRUFDM0JFLGFBQWEsS0FDYkMsTUFBTSxRQUNOQyxJQUFLaEcsR0FBWTdMLE9BQU82TCxTQUNadkssSUFBWGtRLElBQ0ZBLEVBQVNqSixLQUFLdUosTUFDWEosRUFBWSxHQUFLQSxFQUFZLEtBQU9BLEVBQVksR0FBS0EsRUFBWSxZQUkxRHBRLElBQVIrUCxHQUFxQjlJLEtBQUt3SixJQUFJTCxFQUFZLEdBQUlBLEVBQVksSUFBTUwsS0FDbEVBLEVBQU05SSxLQUFLd0osSUFBSUwsRUFBWSxHQUFJQSxFQUFZLFdBRWpDcFEsSUFBUjhQLEdBQXFCTSxFQUFZLEdBQUtOLEtBQ3hDQSxFQUFNTSxFQUFZLFVBRVJwUSxJQUFSaVEsR0FBcUJoSixLQUFLQyxJQUFJa0osRUFBWSxHQUFJQSxFQUFZLElBQU1ILEtBQ2xFQSxFQUFNaEosS0FBS0MsSUFBSWtKLEVBQVksR0FBSUEsRUFBWSxXQUVqQ3BRLElBQVJnUSxHQUFxQkksRUFBWSxHQUFLSixLQUN4Q0EsRUFBTUksRUFBWSxNQUlmLENBQUV4SixHQUFJd0YsRUFBTXhGLEdBQUlrSixNQUFLQyxNQUFLQyxNQUFLQyxNQUFLQyxXQVE3QyxlQTZDQSxvQkFBeUJRLEdBQ3ZCLFFBQUlBLEVBQVV2UCxPQUFTLEtBQ3JCdVAsRUFBVS9GLFFBQVNnRyxJQUNqQi9ELEVBQU8rRCxNQUVGLElBU1gsWUFBT3pELGVBQ0xZLEVBQ0FULEVBQ0FoQixHQUVBLE1BQU13QixFQUFnQnZELElBRXRCLEdBREFHLElBQ3dCLElBQXBCcUQsRUFBUzNNLE9BQ1gsT0FFRixJQUFJeVAsRUFDQUMsR0FBd0IsRUFDeEJDLEdBQWEsRUFFakIsT0FBUWpELEdBQ04sSUFBSyxnQkFDSCtDLEVBQWlCLFlBQ2pCLE1BQ0YsSUFBSyxhQUNIQSxFQUFpQixTQUNqQixNQUNGLElBQUssVUFDSEEsRUFBaUIsTUFDakIsTUFDRixJQUFLLGFBQ0hBLEVBQWlCLFNBQ2pCLE1BQ0YsSUFBSyxZQUNIQSxFQUFpQix1QkFDakIsTUFDRixJQUFLLG9CQUNIQSxFQUFpQixtQ0FDakIsTUFDRixRQUVFLFlBREFuUCxRQUFRNEIsTUFBTSwwQkFBNEJ3SyxHQU05QyxNQUFNa0QsRUFBaUIsSUFBSUMsSUFDM0IsSUFBSyxNQUFNekcsS0FBV3VELEVBQVUsQ0FDOUIsSUFBSW1ELEVBQVcxRyxFQUFReUMsUUFBcUI0RCxHQUM1QyxHQUFpQixPQUFiSyxFQUFtQixDQUdyQixHQURBQSxFQUFXMUcsRUFBUXlDLFFBQVEsb0NBQ1YsT0FBYmlFLEVBQW1CLENBQ3JCeFAsUUFBUUMsS0FDTixXQUNFNkksRUFBUTNELEdBQ1Isb0ZBRUosU0FFRmlLLEVBQXdCQSxJQUF5QixPQUVqREMsRUFBYUEsSUFBYyxFQUU3QkMsRUFBZS9JLElBQUlpSixHQUduQixJQUFJckcsRUFBV3FHLEVBQ1hDLEVBQVV0RyxFQUFTeUYsYUFBYSxlQUNoQ2MsRUFBV3ZHLEVBQVN5RixhQUFhLGdCQUNyQyxLQUFPYSxHQUFXQyxHQUFVLENBQzFCLEdBQUlELEVBQVMsQ0FFWCxHQURBdEcsRUFBV3ZELFNBQVNpSCxjQUFjLElBQU00QyxFQUFRMVIsTUFBTSxJQUNsRHVSLEVBQWVLLElBQUl4RyxHQUNyQixNQUVGQSxFQUFTN0MsVUFBVUMsSUFBSSxhQUN2QitJLEVBQWUvSSxJQUFJNEMsR0FDbkJzRyxFQUFVdEcsRUFBU3lGLGFBQWEsZUFFbEMsR0FBSWMsRUFBVSxDQUVaLEdBREF2RyxFQUFXdkQsU0FBU2lILGNBQWMsSUFBTTZDLEVBQVMzUixNQUFNLElBQ25EdVIsRUFBZUssSUFBSXhHLEdBQ3JCLE1BRUZBLEVBQVM3QyxVQUFVQyxJQUFJLGFBQ3ZCK0ksRUFBZS9JLElBQUk0QyxHQUNuQnVHLEVBQVd2RyxFQUFTeUYsYUFBYSxrQkFLdkNVLEVBQWVwRyxRQUFTMEcsR0FDdEJ6RSxFQUFPeUUsRUFBT2hGLEdBQWEsSUFLN0IsTUFBTWlGLEVBQVNoUCxNQUFNNEksS0FBSzZGLEVBQWVRLFVBR3pDLElBQUlWLEdBQTBCQyxFQWM5QixPQUFRakQsR0FDTixJQUFLLGFBQ0gsT0FBUXlELEVBQU9uUSxRQUNiLEtBQUssRUFDSDJLLEVBQWNTLDRCQUNkUCxFQUFTUSx5QkFDVCxJQUFBNkIsUUFBT2lELEVBQU8sR0FBSWpFLEVBQVVoQixHQUM1QixNQUNGLFFBQ0VQLEVBQWMwRiwyQkFDZHhGLEVBQVNRLHdCQUViLE1BRUYsSUFBSyxvQkFDeUIsSUFBeEJ1RSxFQUFlVSxLQUNqQjNGLEVBQWM0RiwyQkFBMkJKLEVBQU8sSUFFaER4RixFQUFjNkYsd0JBRWhCLE1BRUYsSUFBSyxnQkFDSCxPQUFRTCxFQUFPblEsUUFDYixLQUFLLEVBRzRDLE9BQTNDbVEsRUFBTyxHQUFHaEQsY0FBYyxnQkFDMUI3SCxFQUFhOEIsa0JBQ1gsb0hBQ0EsV0FFRnVELEVBQWM4Rix1QkFBdUIsU0FDckM5RixFQUFjK0YscUJBRWQvRixFQUFjOEYsdUJBQXVCLGdCQUd2QyxNQUVGLFFBR001RixFQUFTOEYsV0FBVyxnQkFBaUJSLEdBQ3ZDeEYsRUFBYzhGLHVCQUF1QixrQkFHOUI1RixFQUFTK0YsWUFBWSxnQkFBaUJULEdBQzdDeEYsRUFBYzhGLHVCQUF1QixlQUlyQzlGLEVBQWM4Rix1QkFBdUIsV0FHM0MsTUFFRixJQUFLLGFBQ0gsT0FBUU4sRUFBT25RLFFBQ2IsS0FBSyxFQUVIMkssRUFBY2tHLHNCQUNkaEcsRUFBU1Esd0JBQ1QsTUFDRixRQUNNUixFQUFTK0YsWUFBWSxhQUFjVCxHQUNyQ3RGLEVBQVM2QyxnQkFBZ0IsU0FFekIvQyxFQUFjNkYsd0JBR3BCLE1BRUYsSUFBSyxVQUNILE9BQVFMLEVBQU9uUSxRQUNiLEtBQUssRUFDSDJLLEVBQWNnRCxpQkFBaUJ3QyxFQUFPLElBQ3RDLE1BQ0YsS0FBSyxFQUNILEdBQUl2RCxFQUF3QnVELEdBQVMsQ0FHbkMsR0FBSUEsRUFBTyxHQUFHOUYsZ0JBQWtCOEYsRUFBTyxHQUFHOUYsY0FBZSxDQUN2RCxNQUFNeUcsRUFBVzNQLE1BQU00SSxLQUFLb0csRUFBTyxHQUFHOUYsY0FBY3lHLFVBR3BELEdBR1EsSUFGTmhMLEtBQUt1SSxJQUNIeUMsRUFBUzNDLFFBQVFnQyxFQUFPLElBQU1XLEVBQVMzQyxRQUFRZ0MsRUFBTyxLQUV4RCxDQUlBLElBQUlZLEVBQVVaLEVBQU8sR0FBR1csU0FBUyxHQUM3QkUsRUFBV2IsRUFBTyxHQUFHVyxTQUFTLEdBRTlCRyxFQUFXRixFQUFRRyxFQUFFQyxRQUFRelYsTUFDN0IwVixFQUFZSixFQUFTRSxFQUFFQyxRQUFRelYsTUFDL0IyVixFQUFXTixFQUFRTyxFQUFFSCxRQUFRelYsTUFDN0I2VixFQUFZUCxFQUFTTSxFQUFFSCxRQUFRelYsTUFpQm5DLElBYkV1VixFQUFXRyxHQUNWSCxJQUFhRyxHQUFhQyxFQUFXRSxNQUVyQ1IsRUFBU0MsR0FBWSxDQUFDQSxFQUFVRCxJQUNoQ0UsRUFBVUksRUFBVUQsRUFBV0csR0FBYSxDQUMzQ0gsRUFDQUcsRUFDQU4sRUFDQUksSUFLQUosSUFBYUcsR0FBYUMsRUFBV0UsRUFBVyxDQUNsRDFHLEVBQVM2QyxnQkFBZ0IsWUFDekIsUUFJTjdDLEVBQVM2QyxnQkFBZ0IsV0FFekIvQyxFQUFjNkYsd0JBRWhCLE1BQ0YsUUFDTTVELEVBQXdCdUQsR0FDMUJ0RixFQUFTNkMsZ0JBQWdCLE1BRXpCL0MsRUFBYzZGLHdCQUdwQixNQUNGLElBQUssWUFDSCxPQUFRTCxFQUFPblEsUUFDYixLQUFLLEVBQ0grTSxFQUFXb0QsRUFBTyxHQUFJakYsRUFBYWdCLEdBQ25DdkIsRUFBY3lDLHFCQUNkLE1BQ0YsUUFDRStDLEVBQU8zRyxRQUFTZ0ksR0FBTXpFLEVBQVd5RSxFQUFHdEcsT0FBYXJNLElBR3JELE1BQ0YsUUFDRXlCLFFBQVE0QixNQUFNLCtEQWhLWSxJQUF4QjBOLEVBQWVVLEtBQ2pCM0YsRUFBYzRGLDJCQUEyQkosRUFBTyxJQUUzQixpQkFBakJ6RCxFQUNGL0IsRUFBYzhHLDJCQUVkOUcsRUFBYzZGLDBCLDZCQ3ZxQnRCaFcsRUFBT0QsUUFFUCxTQUFtQnVLLEdBQ2pCLE9BQU8sV0FDTCxJQUFJeEMsRUFBTWhFLFVBQVUwQixPQUNwQixHQUFJc0MsRUFBSyxDQUdQLElBRkEsSUFBSXRGLEVBQU8sR0FDUHZDLEdBQUssSUFDQUEsRUFBSTZILEdBQ1h0RixFQUFLdkMsR0FBSzZELFVBQVU3RCxHQUV0QixPQUFPcUssRUFBSWxLLEtBQUsrQyxLQUFNWCxHQUV0QixPQUFPOEgsRUFBSWxLLEtBQUsrQyxLQUFNLE8sY0NmNUJuRCxFQUFPRCxRQUFVK1AsSSxrbkJDR0osRUFBQW9ILGNBQXdDLENBQ25EQyxhQUFjLDg1RkFvQ2RDLFlBQWEsZ3FEQXFCYkMsVUFBVyw2U0FpQkEsRUFBQUMsb0JBQXNCLHN2QkFvQnRCLEVBQUFDLGtCQUFvQixpcUVBK0NwQixFQUFBQyxpQkFBbUIsbWhDQXVCbkIsRUFBQUMsMkJBQTZCLCtNQVE3QixFQUFBQyxvQkFBc0IsMDlEQW1DdEIsRUFBQUMsc0JBQXdCLGdJQVF4QixFQUFBQyx5QkFBMkIseUpBTTNCLEVBQUFDLHFCQUF1QixnT0FRdkIsRUFBQUMsOEJBQWdDLGtVQVNoQyxFQUFBQyw2QkFBK0IsZ1VBUy9CLEVBQUFDLG9CQUFzQixzdUJBbUJ0QixFQUFBQyx5QkFBMkIsd1ZBVTNCLEVBQUFDLHlCQUEyQiw4UUFTM0IsRUFBQUMscUJBQXVCLHNvQkFjdkIsRUFBQUMsbUJBQXFCLDhrREFvQ3JCLEVBQUFDLHNCQUF3QixxOEJBdUJ4QixFQUFBQyxtQkFBcUIsOE5BUXJCLEVBQUFDLGFBQWUsQ0FDMUI5RyxHQUFJLCtUQU1KOUIsTUFBTywwU0FNUDhDLElBQUssK1lBT0wrRixXQUFZLCtiQU9aQyxTQUFVLHFVQU1WQyxjQUFlLDhWQWFKLEVBQUFDLGFBQWUsZ2lCQVlmLEVBQUFDLGNBQWdCLGtpQkFZaEIsRUFBQUMsYUFBZSw4OEtBZ0lmLEVBQUFDLHVCQUF5QixnWEFTekIsRUFBQUMsdUJBQXlCLG1aLHFIQzlqQnRDLGFBS0EsUUFNQSxPQU1BLElBQVlDLEVBV1BDLEdBWEwsU0FBWUQsR0FDViwyQkFDQSw2QkFDQSx5QkFDQSw2QkFDQSx5Q0FDQSx5QkFDQSwrQkFDQSx1QkFSRixDQUFZQSxFQUFBLEVBQUFBLGtCQUFBLEVBQUFBLGdCQUFlLEtBVzNCLFNBQUtDLEdBQ0gsbUJBQ0EsdUJBRkYsQ0FBS0EsTUFBZ0IsS0FTckIsb0JBU0UsWUFBWXZILEdBd05KLEtBQUF3SCwwQkFBNEIsV0FFbEN2UyxNQUFNNEksS0FDSjdELFNBQVNtRCx1QkFBdUIsOEJBQ2hDRyxRQUFTb0MsSUFDVEEsRUFBS2hGLFVBQVVSLE9BQU8sYUFJeEJGLFNBQ0dDLGVBQWUsdUNBQ2ZTLFVBQVVDLElBQUksV0FHakJYLFNBQ0dDLGVBQWUsc0NBQ2Z4RSxvQkFBb0IsUUFBU2hFLEtBQUtnVyxpQkFDckN6TixTQUNHQyxlQUFlLHNDQUNmM0UsaUJBQWlCLFFBQVM3RCxLQUFLZ1csZ0JBQWdCMVgsS0FBSzBCLE9BR3ZEdUksU0FDR0MsZUFBZSxtQ0FDZnhFLG9CQUFvQixRQUFTaEUsS0FBS2lXLFdBQVczWCxLQUFLMEIsT0FDckR1SSxTQUNHQyxlQUFlLG1DQUNmM0UsaUJBQWlCLFFBQVM3RCxLQUFLaVcsV0FBVzNYLEtBQUswQixPQUdsRHVJLFNBQVNDLGVBQWUsK0JBQStCYSxNQUFNQyxRQUMzRCxPQUNGdEosS0FBS2tXLG9CQU1DLEtBQUFDLDJCQUE2QixXQUVuQzNTLE1BQU00SSxLQUNKN0QsU0FBU21ELHVCQUF1Qiw4QkFDaENHLFFBQVNvQyxJQUNUQSxFQUFLaEYsVUFBVVIsT0FBTyxhQUl4QkYsU0FDR0MsZUFBZSx1Q0FDZlMsVUFBVUMsSUFBSSxXQUdqQlgsU0FDR0MsZUFBZSxzQ0FDZnhFLG9CQUFvQixRQUFTaEUsS0FBS2dXLGlCQUNyQ3pOLFNBQ0dDLGVBQWUsc0NBQ2YzRSxpQkFBaUIsUUFBUzdELEtBQUtnVyxnQkFBZ0IxWCxLQUFLMEIsT0FHdkR1SSxTQUNHQyxlQUFlLG9DQUNmeEUsb0JBQW9CLFFBQVNoRSxLQUFLb1csY0FBYzlYLEtBQUswQixPQUN4RHVJLFNBQ0dDLGVBQWUsb0NBQ2YzRSxpQkFBaUIsUUFBUzdELEtBQUtvVyxjQUFjOVgsS0FBSzBCLE9BR3JEdUksU0FBU0MsZUFBZSwrQkFBK0JhLE1BQU1DLFFBQzNELE9BQ0Z0SixLQUFLa1csb0JBTUMsS0FBQUQsV0FBYSxXQUVuQixNQU9NSSxFQUE2QixDQUNqQ0MsT0FBUSxTQUNSQyxNQUFPLENBQ0xDLFVBVEZqTyxTQUFTbUQsdUJBQXVCLHFCQUFxQixHQUFHNUQsR0FVdEQyTyxRQVBGbE8sU0FBU0MsZUFBZSxxQ0FDdkJ6SyxRQVdIaUMsS0FBS3VPLFNBQ0ZtSSxLQUFLTCxFQUFjclcsS0FBS3VPLFNBQVNHLEtBQUtDLHFCQUN0Q2dJLEtBQU1DLElBQ0RBLEdBRUY1VyxLQUFLdU8sU0FBU3NJLHVCQUF1QkYsS0FBSyxVQVVoRDNXLEtBQUtnVyxtQkFNQyxLQUFBSSxjQUFnQixXQUV0QixNQUFNakksRUFDSjVGLFNBQ0dDLGVBQWUsWUFDZm9ELGlCQUFpQix5QkFBeUIsR0FHekNrTCxFQUFPM0ksRUFBSzRJLFlBQVlDLFFBRFQsWUFDK0IsSUFBSUMsT0FDbERDLEVBQ0ozTyxTQUFTQyxlQUFlLHFDQUN2QnpLLE1BRUgsR0FBdUIsT0FBbkJtWixHQUEyQkEsSUFBbUJKLEVBQU0sQ0FFdEQsTUFJTVQsRUFBOEIsQ0FDbENDLE9BQVEsVUFDUkMsTUFBTyxDQUNMQyxVQVBjLElBQUlySSxFQUFLbEYsVUFBVWtPLFdBQVd4RyxPQUM3Q3lHLEdBQ2tCLGdCQUFqQkEsRUFBVSxJQUF5QyxxQkFBakJBLEVBQVUsSUFDOUMsR0FBRyxHQUtEQyxLQUFNSCxJQUlWbFgsS0FBS3VPLFNBQ0ZtSSxLQUFLTCxFQUFjclcsS0FBS3VPLFNBQVNHLEtBQUtDLHFCQUN0Q2dJLEtBQU1DLElBQ0RBLEdBRUY1VyxLQUFLdU8sU0FBU3NJLHVCQUF1QkYsS0FBSyxLQUl4QzNXLEtBQUtzWCxtQkFBbUJuSixFQUFNbk8sS0FBS3VOLFlBQWF2TixLQUFLdU8sbUJBTTdEdk8sS0FBS3NYLG1CQUFtQm5KLEVBQU1uTyxLQUFLdU4sWUFBYXZOLEtBQUt1TyxVQUd2RHZPLEtBQUtnVyxtQkFnREMsS0FBQXVCLGdCQUFrQixTQUFVQyxHQUdsQyxPQUZBQSxFQUFFQywyQkFFTXpYLEtBQUswWCxpQkFDWCxLQUFLN0IsRUFBZ0I4QixTQUNMLFVBQVZILEVBQUVuWixLQUFpQjJCLEtBQUtpVyxhQUNkLFdBQVZ1QixFQUFFblosS0FBa0IyQixLQUFLZ1csa0JBQzdCLE1BRUYsS0FBS0gsRUFBZ0IrQixVQUNMLFVBQVZKLEVBQUVuWixLQUFpQjJCLEtBQUtvVyxnQkFDZCxXQUFWb0IsRUFBRW5aLEtBQWtCMkIsS0FBS2dXLGtCQUM3QixNQUVGLFFBQ2dCLFdBQVZ3QixFQUFFblosS0FBa0IyQixLQUFLZ1csb0JBTzNCLEtBQUFFLGlCQUFtQixXQUN6QixPQUFRbFcsS0FBSzBYLGlCQUNYLEtBQUs3QixFQUFnQjhCLFNBQ3JCLEtBQUs5QixFQUFnQitCLFVBRWpCclAsU0FBU0MsZUFBZSxxQ0FDdkJzRixTQUNILE1BQ0YsS0FBSytILEVBQWdCZ0MsZ0JBQ3JCLEtBQUtoQyxFQUFnQmlDLFdBQ3JCLEtBQUtqQyxFQUFnQmtDLE9BQ25CLE1BQ0YsUUFDRXhQLFNBQVNDLGVBQWUscUJBQXFCd1AsVUExY2pEaFksS0FBS3VPLFNBQVdBLEVBQ2hCdk8sS0FBS2lZLGlCQUFtQm5DLEVBQWlCb0MsT0FDekNsWSxLQUFLbVksc0JBTUMsc0JBQ041UCxTQUNHQyxlQUFlLGtDQUNmM0UsaUJBQWlCLFFBQVM3RCxLQUFLZ1csZ0JBQWdCMVgsS0FBSzBCLE9BQ3ZEdUksU0FDR0MsZUFBZSxxQkFDZjNFLGlCQUFpQixVQUFXN0QsS0FBS3VYLGdCQUFnQmpaLEtBQUswQixPQUN6RHVJLFNBQ0dDLGVBQWUsK0JBQ2YzRSxpQkFBaUIsUUFBUzdELEtBQUtrVyxpQkFBaUI1WCxLQUFLMEIsT0FNbEQsdUJBQ051SSxTQUNHQyxlQUFlLGtDQUNmeEUsb0JBQW9CLFFBQVNoRSxLQUFLZ1csZ0JBQWdCMVgsS0FBSzBCLE9BQzFEdUksU0FDR0MsZUFBZSxxQkFDZnhFLG9CQUFvQixVQUFXaEUsS0FBS3VYLGdCQUFnQmpaLEtBQUswQixPQUM1RHVJLFNBQ0dDLGVBQWUsK0JBQ2Z4RSxvQkFBb0IsUUFBU2hFLEtBQUtrVyxpQkFBaUI1WCxLQUFLMEIsT0FRN0QsbUJBQW1CME8sRUFBdUIwSixHQUN4Q3BZLEtBQUswWCxnQkFBa0JoSixFQUN2QjFPLEtBQUtxWSxzQkFBc0JELEdBTTdCLHFCQUNFLE9BQU9wWSxLQUFLMFgsZ0JBQWdCWSxXQU05QixrQkFPRSxPQUxBOVUsTUFBTTRJLEtBQ0o3RCxTQUFTbUQsdUJBQXVCLDhCQUNoQ0csUUFBU29DLElBQ1RBLEVBQUtoRixVQUFVUixPQUFPLGFBRWhCekksS0FBSzBYLGlCQUNYLEtBQUs3QixFQUFnQjhCLFNBQ25CM1gsS0FBSytWLDRCQUNMLE1BRUYsS0FBS0YsRUFBZ0IrQixVQUNuQjVYLEtBQUttVyw2QkFDTCxNQUVGLEtBQUtOLEVBQWdCMEMsUUFFbkJoUSxTQUNHQyxlQUFlLHFDQUNmUyxVQUFVQyxJQUFJLFdBRW5CLEtBQUsyTSxFQUFnQmdDLGdCQUlyQixLQUFLaEMsRUFBZ0IyQyxRQUdyQixLQUFLM0MsRUFBZ0JpQyxXQUVyQixLQUFLakMsRUFBZ0JrQyxPQUVyQixRQUNFeFAsU0FBU0MsZUFBZSwrQkFBK0JhLE1BQU1DLFFBQzNELE9BQ0Z0SixLQUFLa1csbUJBSVQzTixTQUFTa1EsS0FBS3BQLE1BQU1xUCxVQUFZLFNBQ2hDblEsU0FBU2tRLEtBQUtwUCxNQUFNc1AsVUFBWSxTQUNoQzNZLEtBQUtpWSxpQkFBbUJuQyxFQUFpQjhDLEtBTTNDLGtCQUNFLE9BQVE1WSxLQUFLMFgsaUJBQ1gsS0FBSzdCLEVBQWdCK0IsVUFFakJyUCxTQUNHQyxlQUFlLFlBQ2ZvRCxpQkFBaUIseUJBQXlCLEdBRTFDM0MsVUFBVVIsT0FBTyxvQkFDdEIsTUFFRixLQUFLb04sRUFBZ0JnQyxnQkFDckIsS0FBS2hDLEVBQWdCMkMsUUFDckIsS0FBSzNDLEVBQWdCaUMsV0FDckIsS0FBS2pDLEVBQWdCa0MsT0FDbkJ4UCxTQUFTQyxlQUNQLHVDQUNBVyxVQUFZLEdBTWxCWixTQUFTQyxlQUFlLCtCQUErQmEsTUFBTUMsUUFDM0QsT0FFRmYsU0FBU2tRLEtBQUtwUCxNQUFNcVAsVUFBWSxTQUNoQ25RLFNBQVNrUSxLQUFLcFAsTUFBTXNQLFVBQVksU0FDaEMzWSxLQUFLaVksaUJBQW1CbkMsRUFBaUJvQyxPQUN6Q2xZLEtBQUs2WSx1QkFNQyxzQkFBc0JULEdBQzVCLE1BQU1VLEVBQVl2USxTQUFTQyxlQUN6Qix1Q0FFSXVRLEVBQVF4USxTQUFTQyxlQUFlLGtDQUV0QyxPQUFReEksS0FBSzBYLGlCQUNYLEtBQUs3QixFQUFnQjhCLFNBQ25CbUIsRUFBVTNQLFVBQVksRUFBQXFNLGFBRXRCdUQsRUFBTUMsVUFBWSxzQkFDbEIsTUFFRixLQUFLbkQsRUFBZ0IrQixVQUNuQmtCLEVBQVUzUCxVQUFZLEVBQUFzTSxjQUV0QnNELEVBQU1DLFVBQVkscUJBR2xCLE1BS01DLEVBQWUsWUFDZm5DLEVBTEp2TyxTQUNHQyxlQUFlLFlBQ2ZvRCxpQkFBaUIseUJBQXlCLEdBRzdCbUwsWUFBWUMsUUFBUWlDLEVBQWMsSUFBSWhDLE9BSXREMU8sU0FBU0MsZUFBZSxxQ0FDdkJ6SyxNQUFRK1ksRUFDWCxNQUVGLEtBQUtqQixFQUFnQjBDLFFBQ25CTyxFQUFVM1AsVUFBWSxFQUFBdU0sYUFDdEJxRCxFQUFNQyxVQUFZLFVBQ2xCLE1BRUYsS0FBS25ELEVBQWdCcUQsVUFDbkJKLEVBQVUzUCxVQUFZLDJEQUEyRGlQLDhHQUVwQ2UsVUFDdkNmLHdGQUtOVyxFQUFNQyxVQUFZLFlBQ2xCLE1BRUYsS0FBS25ELEVBQWdCZ0MsZ0JBQ25Ca0IsRUFBTUMsVUFBWSxrQkFDbEJGLEVBQVUzUCxVQUFZLEVBQUFpUSxlQUN0QixNQUVGLEtBQUt2RCxFQUFnQjJDLFFBQ25CTyxFQUFNQyxVQUFZLFVBQ2xCLE1BRUYsS0FBS25ELEVBQWdCaUMsV0FDbkJpQixFQUFNQyxVQUFZLGFBQ2xCRixFQUFVM1AsVUFBWSxFQUFBa1EsY0FDdEIsTUFFRixLQUFLeEQsRUFBZ0JrQyxPQUNuQmdCLEVBQU1DLFVBQVksU0FDbEJGLEVBQVUzUCxVQUFZLEVBQUFtUSxXQUN0QixNQUVGLFFBQ0UzVyxRQUFRNEIsTUFBTSwyREE2S3BCLG1CQUNFNEosRUFDQVosRUFDQWdCLElBRUEsSUFBQTVDLFlBRUEsTUFBTTROLEVBQVMvVixNQUFNNEksS0FBSytCLEVBQUtsRixXQUFXdVEsS0FDdkNoQyxHQUFZLGdCQUFOQSxHQUE2QixxQkFBTkEsR0FHaEMsR0FBS2pQLFNBQVNDLGVBQWUsZUFBb0NpUixTQUMzRGxSLFNBQVNDLGVBQWUrUSxHQUFTLENBQ25DLE1BQU1HLEVBQWNuUixTQUNqQkMsZUFBZStRLEdBQ2YvSixjQUFjLHlCQUNqQixJQUFBSixZQUFXc0ssRUFBYW5NLEVBQWFnQixPLGNDL2I3QyxJQUFJc0YsRUFHSkEsRUFBSSxXQUNILE9BQU83VCxLQURKLEdBSUosSUFFQzZULEVBQUlBLEdBQUssSUFBSXZVLFNBQVMsY0FBYixHQUNSLE1BQU9rWSxHQUVjLGlCQUFYNU8sU0FBcUJpTCxFQUFJakwsUUFPckMvTCxFQUFPRCxRQUFVaVgsRyw2QkNYakIsSUFSQSxZQU1JOEYsRUFBWSxHQUVQN2MsRUFBSSxFQUFHQSxFQUFJLE1BQU9BLEVBQ3pCNmMsRUFBVXZYLE1BQU10RixFQUFJLEtBQU93YixTQUFTLElBQUlzQixPQUFPLElBb0JsQyxJQWpCZixTQUFtQnRXLEdBQ2pCLElBQUl1VyxFQUFTbFosVUFBVTBCLE9BQVMsUUFBc0JuQixJQUFqQlAsVUFBVSxHQUFtQkEsVUFBVSxHQUFLLEVBRzdFbVosR0FBUUgsRUFBVXJXLEVBQUl1VyxFQUFTLElBQU1GLEVBQVVyVyxFQUFJdVcsRUFBUyxJQUFNRixFQUFVclcsRUFBSXVXLEVBQVMsSUFBTUYsRUFBVXJXLEVBQUl1VyxFQUFTLElBQU0sSUFBTUYsRUFBVXJXLEVBQUl1VyxFQUFTLElBQU1GLEVBQVVyVyxFQUFJdVcsRUFBUyxJQUFNLElBQU1GLEVBQVVyVyxFQUFJdVcsRUFBUyxJQUFNRixFQUFVclcsRUFBSXVXLEVBQVMsSUFBTSxJQUFNRixFQUFVclcsRUFBSXVXLEVBQVMsSUFBTUYsRUFBVXJXLEVBQUl1VyxFQUFTLElBQU0sSUFBTUYsRUFBVXJXLEVBQUl1VyxFQUFTLEtBQU9GLEVBQVVyVyxFQUFJdVcsRUFBUyxLQUFPRixFQUFVclcsRUFBSXVXLEVBQVMsS0FBT0YsRUFBVXJXLEVBQUl1VyxFQUFTLEtBQU9GLEVBQVVyVyxFQUFJdVcsRUFBUyxLQUFPRixFQUFVclcsRUFBSXVXLEVBQVMsTUFBTUUsY0FNemYsSUFBSyxZQUFTRCxHQUNaLE1BQU10WSxVQUFVLCtCQUdsQixPQUFPc1ksSSw2QkMxQk0sNEhDTUEsSUFKZixTQUFrQkEsR0FDaEIsTUFBdUIsaUJBQVRBLEdBQXFCLEVBQU05UyxLQUFLOFMsSyx5V0NEaEQsY0FHQSxPQUNBLE9BRUEsSUFBSUUsRUFBMEJDLEVBQTBCQyxFQWlFeEQsU0FBZ0JDLEVBQTJCQyxHQUN6QyxNQUFNQyxFQUFnQjlSLFNBQVNDLGVBQWUsaUJBQ3hCRCxTQUFTQyxlQUFlLGlCQUVoQ3pLLE1BQVFzYyxFQUFjdGMsT0FFcEMsSUFBQXVjLGFBQVksQ0FBRXhRLGFBQWNsSyxPQUFPeWEsRUFBY3RjLFNBR2pELE1BQU13YyxFQUFlaFMsU0FBU2lILGNBQWMsK0JBQ1IsSUFBaEM1UCxPQUFPeWEsRUFBY3RjLFFBQ3ZCd2MsRUFBYWhPLGFBQWEsTUFBTywwQ0FDakNnTyxFQUFhN04sY0FBY0gsYUFBYSxRQUFTLGdCQUdqRGdPLEVBQWFoTyxhQUFhLE1BQU8sMENBQ2pDZ08sRUFBYTdOLGNBQWNILGFBQWEsUUFBUyxlQUduRCxJQUNJaEUsU0FBU3FELGlCQUFpQixJQUFNd08sR0FBMkN2TyxRQUFRZ0ksSUFDbkZBLEVBQUV4SyxNQUFNbVIsU0FBVzVhLE9BQU95YSxFQUFjdGMsT0FBUyxLQUFPdWEsYUFFMUQsTUFBT2QsR0FDUDdVLFFBQVFDLEtBQUssNENBdUhqQixTQUFnQjZYLEVBQXdCQyxHQUN0QyxNQUFNQyxFQUFxQ3BTLFNBQVNpSCxjQUFjLHFCQUVsRSxJQUFBOEssYUFBWSxDQUFFdlEsYUFBY25LLE9BQU8rYSxFQUFnQjVjLFNBR25ELE1BQU02YyxFQUFZclMsU0FBU2lILGNBQWMsNEJBQ0gsSUFBbEM1UCxPQUFPK2EsRUFBZ0I1YyxRQUN6QjZjLEVBQVVyTyxhQUFhLE1BQU8sMENBQzlCcU8sRUFBVWxPLGNBQWNILGFBQWEsUUFBUywyQkFHOUNxTyxFQUFVck8sYUFBYSxNQUFPLDBDQUM5QnFPLEVBQVVsTyxjQUFjSCxhQUFhLFFBQVMsMEJBR2hELE1BQU1zTyxFQUFrQnRTLFNBQVNpSCxjQUFjLElBQUlrTCxHQUMvQ0csSUFBSUEsRUFBR3hSLE1BQU1tUixRQUFVL1gsT0FBTzdDLE9BQU8rYSxFQUFnQjVjLE9BQVMsTUFvRHBFLFNBQVMrYyxFQUF1QnZJLEdBQzlCLE1BQU13SSxFQUFTeFMsU0FBU0MsZUFBZSxhQUFhK0osR0FDOUN5SSxFQUFXelMsU0FBU0MsZUFBZSxzQkFDbkN5UyxFQUFnQjFTLFNBQVNDLGVBQWUsa0JBVTlDLElBUEEsSUFBQThSLGFBQVksQ0FBRXJRLGNBQWVzSSxJQUU3QnlJLEVBQVMvUixVQUFVUixPQUFPLGFBQzFCRixTQUFTcUQsaUJBQWlCLHVCQUF1QkMsUUFBUW9DLElBQ3ZEQSxFQUFLaEYsVUFBVVIsT0FBTyx3QkFHVixTQUFWOEosRUFHRixPQUZBMEksRUFBY2xFLFlBQWMsY0FDNUI5SyxFQUFNaVAseUJBSVJILEVBQU85UixVQUFVQyxJQUFJLHNCQUdyQitSLEVBQWNsRSxZQUFjLE9BQVN4RSxFQUFNLEdBQUc0SSxjQUFnQjVJLEVBQU03UixNQUFNLElBQzFFdUwsRUFBTW1QLHFCQUFxQjdJLEdBZTdCLFNBQWdCOEksRUFBb0I5SSxHQUNuQmhLLFNBQVNDLGVBQWUsYUFBYStKLEdBQzdDMU8saUJBQWlCLFFBQVMsS0FDL0JpWCxFQUFzQnZJLEtBTzFCLFNBQVMrSSxJQUNQL1MsU0FBU2tRLEtBQUt6VSxvQkFBb0IsUUFBU3NYLEdBQzNDL1MsU0FBU0MsZUFBZSxzQkFBc0JTLFVBQVVSLE9BQU8sYUFNakUsU0FBZ0I4UyxJQUNkLE1BQU1QLEVBQVd6UyxTQUFTQyxlQUFlLHNCQUV6Q0QsU0FBU0MsZUFBZSxvQkFBb0IzRSxpQkFBaUIsUUFBVTJYLElBQ3JFQSxFQUFJQyxrQkFDSlQsRUFBUy9SLFVBQVV5UyxPQUFPLGFBQ3RCVixFQUFTL1IsVUFBVThDLFNBQVMsY0FDOUJ4RCxTQUFTa1EsS0FBSzVVLGlCQUFpQixRQUFTeVgsR0FFeENELEVBQW1CLFVBQ25CQSxFQUFtQixTQUNuQkEsRUFBbUIsWUFDbkJBLEVBQW1CLFNBQ25CQSxFQUFtQixnQkFDbkJBLEVBQW1CLFNBRW5COVMsU0FBU2tRLEtBQUt6VSxvQkFBb0IsUUFBU3NYLEtBdUpqRCxTQUFnQkssSUFDZCxNQUFNLGNBQUUxUixJQUFrQixJQUFBMlIsZUFDMUJkLEVBQXNCN1EsR0FoZnhCLDJCQUFpQzRSLEdBQy9CLFFBQW9CM2EsSUFBaEIyYSxFQUNGLE9BRUYsTUFBTUMsRUFBYXZULFNBQVNDLGVBQWUsY0FDckN1VCxFQUFheFQsU0FBU0MsZUFBZSxlQUVyQyxLQUFFcUIsSUFBUyxJQUFBK1IsZUFDakJFLEVBQVcvZCxNQUFRMEUsT0FBT29ILEdBQzFCa1MsRUFBV2hlLE1BQVEwRSxPQUFPb0gsR0FDMUJnUyxFQUFZRyxPQUFPblMsRUFBTyxLQUMxQnRCLFNBQVNDLGVBQWUsY0FBYzNFLGlCQUFpQixRQUFTLEtBQzlEa1ksRUFBV2hlLE1BQVEsTUFDbkIrZCxFQUFXL2QsTUFBUSxNQUNuQjhkLEVBQVlJLG9CQUdkMVQsU0FBU2lILGNBQWMsdUJBQXVCM0wsaUJBQWlCLFFBQVMsS0FDdEVrWSxFQUFXaGUsTUFBUSxNQUNuQitkLEVBQVcvZCxNQUFRLE1BQ25COGQsRUFBWUcsT0FBTyxPQVNyQkYsRUFBV2pZLGlCQUFpQixXQU41QixXQUNFa1ksRUFBV2hlLE1BQVErZCxFQUFXL2QsTUFDOUI4ZCxFQUFZRyxPQUFPcGMsT0FBT21jLEVBQVdoZSxPQUFTLFFBS2hEK2QsRUFBV0ksVUFBVyxFQUV0QjNULFNBQVNrUSxLQUFLNVUsaUJBQWlCLFVBQVkyWCxJQUN6QyxNQUFNVyxFQUFjQyxTQUFTTCxFQUFXaGUsT0FDeEMsR0FBZ0IsWUFBWnlkLEVBQUluZCxLQUFpQyxjQUFabWQsRUFBSW5kLEtBQ3JCLGVBQVptZCxFQUFJbmQsS0FBb0MsY0FBWm1kLEVBQUluZCxJQUM5Qm1kLEVBQUlhLHNCQUNDLEdBQWdCLE1BQVpiLEVBQUluZCxJQUFhLENBQzFCLE1BQU1pZSxFQUFVblUsS0FBS3dKLElBQUl3SyxFQUFjLEdBQUlDLFNBQVNOLEVBQVd2SyxhQUFhLFNBQzVFc0ssRUFBWUcsT0FBT00sRUFBVSxLQUM3QlAsRUFBV2hlLE1BQVEwRSxPQUFPNlosR0FDMUJSLEVBQVcvZCxNQUFRMEUsT0FBTzZaLFFBQ3JCLEdBQWdCLE1BQVpkLEVBQUluZCxJQUFhLENBQzFCLE1BQU1pZSxFQUFVblUsS0FBS0MsSUFBSStULEVBQWMsR0FBSUMsU0FBU04sRUFBV3ZLLGFBQWEsU0FDNUVzSyxFQUFZRyxPQUFPTSxFQUFVLEtBQzdCUCxFQUFXaGUsTUFBUTBFLE9BQU82WixHQUMxQlIsRUFBVy9kLE1BQVEwRSxPQUFPNlosT0FDTCxNQUFaZCxFQUFJbmQsTUFDYjBkLEVBQVdoZSxNQUFRLE1BQ25CK2QsRUFBVy9kLE1BQVEsTUFDbkI4ZCxFQUFZSSxzQkFTbEIsOEJBK0lBLDJCQXVCQSxtQ0FDRSxNQUFNTSxFQUFlaFUsU0FBU0MsZUFBZSxnQkFDdkNnVSxFQUFlalUsU0FBU0MsZUFBZSxpQkFFdkMsV0FBRXdCLElBQWUsSUFBQTRSLGVBS3ZCLFNBQVNhLElBQ1BELEVBQWF6ZSxNQUFRd2UsRUFBYXhlLE1BQ2xDbWMsRUFBaUJ0YSxPQUFPMmMsRUFBYXhlLFFBQ3JDLElBQUF1YyxhQUFZLENBQUV0USxXQUFZcEssT0FBT3NhLEtBQ2pDLE1BQU13QyxFQUFlL1AsRUFBR0MsVUFBVSxnQkFDN0I4UCxFQUFhQyxTQUNoQkQsRUFBYUUsS0FBSyxJQUFLMUMsR0FWM0JBLEVBQWlCbFEsRUFDakJ1UyxFQUFheGUsTUFBUTBFLE9BQU91SCxHQUM1QndTLEVBQWF6ZSxNQUFRMEUsT0FBT3VILEdBWVh6QixTQUFTQyxlQUFlLHFCQUNoQzNFLGlCQUFpQixRQUFTLEtBQ2pDLE1BRU02WSxFQUFlL1AsRUFBR0MsVUFBVSxnQkFDN0I4UCxFQUFhQyxTQUNoQkQsRUFBYUUsS0FBSyxJQUpBLElBT3BCMUMsRUFBaUJ0YSxPQVBHLElBUXBCMmMsRUFBYXhlLE1BQVEwRSxPQVJELElBU3BCK1osRUFBYXplLE1BQVEwRSxPQVRELEtBV3BCLElBQUE2WCxhQUFZLENBQUV0USxXQUFZcEssT0FYTixNQVlwQjZjLE1BR0ZGLEVBQWExWSxpQkFBaUIsUUFBUzRZLEdBQ3ZDRixFQUFhMVksaUJBQWlCLFNBQVU0WSxHQUV4Q0YsRUFBYUwsVUFBVyxHQW9DMUIsOEJBRUUsT0FEc0IzVCxTQUFTQyxlQUFlLGtCQUN6QnVPLFlBQVlyVyxNQUFNLEdBQUdxWixlQU81Qyx1QkFrQkEseUJBc0RBLDJDQUNFLE1BQU04QyxFQUFxQnRVLFNBQVNDLGVBQWUsdUJBQ25EcVUsRUFBbUJoWixpQkFBaUIsUUFBUyxLQUMzQzBFLFNBQVNDLGVBQWUsc0JBQXNCUyxVQUFVUixPQUFPLGFBQy9ERixTQUFTcUQsaUJBQWlCLHVCQUF1QkMsUUFBUW9DLElBQ3ZEQSxFQUFLaEYsVUFBVVIsT0FBTyx3QkFFeEJvVSxFQUFtQjVULFVBQVVDLElBQUksc0JBQ2pDWCxTQUFTQyxlQUFlLGtCQUFrQnVPLFlBQWMsZUFDeEQ5SyxFQUFNbVAscUJBQXFCLGdCQU8vQiw2QkFDRSxJQUFJMEIsRUFDSixJQUNFQSxFQUFjdlUsU0FBU2lILGNBQWMsdUJBQXVCMUgsR0FDNUQsTUFBTzBQLEdBQ1BzRixFQUFjLEdBRWhCLE9BQVFBLEdBQ04sSUFBSyxtQkFDSDdRLEVBQU1tUCxxQkFBcUIsVUFDM0IsTUFDRixJQUFLLGtCQUNIblAsRUFBTW1QLHFCQUFxQixTQUMzQixNQUNGLElBQUsscUJBQ0huUCxFQUFNbVAscUJBQXFCLFlBQzNCLE1BQ0YsSUFBSyxrQkFDSG5QLEVBQU1tUCxxQkFBcUIsU0FDM0IsTUFDRixJQUFLLHlCQUNIblAsRUFBTW1QLHFCQUFxQixnQkFDM0IsTUFDRixJQUFLLHNCQUNIblAsRUFBTW1QLHFCQUFxQixhQUMzQixNQUNGLFFBQ0VuUCxFQUFNaVAsMkJBNkNaLGlDQUNFLE1BQU02QixFQUFnQnhVLFNBQVNDLGVBQWUsbUJBQ3hDaUMsRUFBY2xDLFNBQVNDLGVBQWUsZUFDdEN3VSxFQUFnQnpVLFNBQVNDLGVBQWUsZUFDeENnQyxFQUFjakMsU0FBU0MsZUFBZSxlQUN0Q2tDLEVBQWdCbkMsU0FBU0MsZUFBZSxtQkFJMUNpQyxhQUFXLEVBQVhBLEVBQWFnUCxXQUFXdUQsYUFBYSxFQUFiQSxFQUFldkQsV0FDekNqUCxhQUFXLEVBQVhBLEVBQWFpUCxXQUFXL08sYUFBYSxFQUFiQSxFQUFlK08sVUFDdkNzRCxFQUFjOVQsVUFBVUMsSUFBSSxZQUM1QjZULEVBQWM1VCxVQUFZLFlBR3RCNFQsRUFBYzlULFVBQVU4QyxTQUFTLGNBQ25DZ1IsRUFBYzlULFVBQVVSLE9BQU8sWUFDL0JzVSxFQUFjNVQsVUFBWSxnQkFRaEMsMEJBVUEsK0JBQXFDaVIsRUFBc0JNLElBN1ozRCxTQUFrQ04sR0FDaEMsTUFBTTZDLEVBQWdCMVUsU0FBU0MsZUFBZSxpQkFDeEM2UixFQUFnQjlSLFNBQVNDLGVBQWUsa0JBRXhDLGFBQUVzQixJQUFpQixJQUFBOFIsZUFLekIsU0FBU3NCLElBQ1A3QyxFQUFjdGMsTUFBUWtmLEVBQWNsZixNQUNwQ2ljLEVBQW1CcGEsT0FBT3FkLEVBQWNsZixPQUN4Q29jLEVBQTBCQyxHQVA1QkosRUFBbUJsUSxFQUNuQm1ULEVBQWNsZixNQUFRMEUsT0FBT3FILEdBQzdCdVEsRUFBY3RjLE1BQVEwRSxPQUFPcUgsR0FRN0IsTUFBTXFULEVBQW1CNVUsU0FBU0MsZUFBZSx3QkFFN0IsS0FBaEJzQixHQUNGcVQsRUFBaUJsVSxVQUFVQyxJQUFJLGFBR2pDaVUsV0FBa0J0WixpQkFBaUIsUUFBUyxLQUUxQyxJQUFJdVosRUFDQUQsRUFBaUJsVSxVQUFVOEMsU0FBUyxjQUN0Q29SLEVBQWlCbFUsVUFBVVIsT0FBTyxhQUNsQzJVLEVBQWEsSUFHYkQsRUFBaUJsVSxVQUFVQyxJQUFJLGFBQy9Ca1UsRUFBYSxHQUtkN1UsU0FBU3FELGlCQUFpQixJQUFNd08sR0FBMEN2TyxRQUFRZ0ksSUFDakZBLEVBQUV4SyxNQUFNbVIsUUFBVTRDLEVBQVc5RSxhQUcvQjBCLEVBQW1CcGEsT0FBT3FkLEVBQWNsZixPQUN4Q2tmLEVBQWNsZixNQUFRMEUsT0FBb0IsSUFBYjJhLEdBQzdCL0MsRUFBY3RjLE1BQVEwRSxPQUFPMEYsS0FBS2tWLE1BQW1CLElBQWJELEtBRXhDLElBQUE5QyxhQUFZLENBQUV4USxhQUEyQixJQUFic1QsSUFFNUJGLE1BR0ZELEVBQWNwWixpQkFBaUIsUUFBU3FaLEdBQ3hDRCxFQUFjcFosaUJBQWlCLFNBQVVxWixHQUV6Q0QsRUFBY2YsVUFBVyxFQTJXekJvQixDQUF3QmxELEdBblcxQixTQUErQk0sR0FDN0IsTUFBTTZDLEVBQWtCaFYsU0FBU0MsZUFBZSxtQkFDMUNtUyxFQUFrQnBTLFNBQVNDLGVBQWUsb0JBRTFDLGFBQUV1QixJQUFpQixJQUFBNlIsZUFLekIsU0FBUzRCLElBQ1A3QyxFQUFnQjVjLE1BQVF3ZixFQUFnQnhmLE1BQ3hDa2MsRUFBbUJyYSxPQUFPMmQsRUFBZ0J4ZixPQUMxQzBjLEVBQXVCQyxHQVB6QlQsRUFBbUJsUSxFQUNuQndULEVBQWdCeGYsTUFBUTBFLE9BQU9zSCxHQUMvQjRRLEVBQWdCNWMsTUFBUTBFLE9BQU9zSCxHQVMvQixNQUFNMFQsRUFBcUJsVixTQUFTQyxlQUFlLHFCQUUvQixLQUFoQnVCLEdBQ0YwVCxFQUFtQnhVLFVBQVVDLElBQUksYUFHbkN1VSxFQUFtQjVaLGlCQUFpQixRQUFTLEtBRTNDLElBQUl1WixFQUVBSyxFQUFtQnhVLFVBQVU4QyxTQUFTLGNBQ3hDMFIsRUFBbUJ4VSxVQUFVUixPQUFPLGFBQ3BDMlUsRUFBYSxJQUdiSyxFQUFtQnhVLFVBQVVDLElBQUksYUFDakNrVSxFQUFhLEdBRWQ3VSxTQUFTbUQsdUJBQXVCZ1AsR0FBWSxHQUMxQ3JSLE1BQU1tUixRQUFVNEMsRUFBVzlFLFdBRTlCMkIsRUFBbUJyYSxPQUFPMmQsRUFBZ0J4ZixPQUMxQ3dmLEVBQWdCeGYsTUFBUTBFLE9BQW9CLElBQWIyYSxHQUMvQnpDLEVBQWdCNWMsTUFBUTBFLE9BQU8wRixLQUFLa1YsTUFBbUIsSUFBYkQsS0FFMUMsSUFBQTlDLGFBQVksQ0FBRXZRLGFBQTJCLElBQWJxVCxJQUM1QkksTUFHRkQsRUFBZ0IxWixpQkFBaUIsUUFBUzJaLEdBQzFDRCxFQUFnQjFaLGlCQUFpQixTQUFVMlosR0FFM0NELEVBQWdCckIsVUFBVyxFQW9UM0J3QixDQUFxQmhELEdBQ3JCYSxJQTNFQWhULFNBQVNDLGVBQWUsY0FBYzNFLGlCQUFpQixRQUFTLEtBQzlEMEUsU0FBU0MsZUFBZSxjQUFjUyxVQUFVeVMsT0FBTyxhQUN2RG5ULFNBQVNDLGVBQWUsV0FBV1MsVUFBVXlTLE9BQU8sZUFoRnREblQsU0FBU2tRLEtBQUs1VSxpQkFBaUIsVUFBWTJYLElBRXpDLElBQUlBLEVBQUltQyxRQUVSLE9BQVFuQyxFQUFJbmQsS0FDVixJQUFLLElBQ0h5YyxFQUFzQixTQUN0QixNQUNGLElBQUssSUFDSEEsRUFBc0IsWUFDdEIsTUFDRixJQUFLLElBQ0hBLEVBQXNCLFNBQ3RCLE1BQ0YsSUFBSyxJQUNIQSxFQUFzQixnQkFDdEIsTUFDRixJQUFLLElBQ0hBLEVBQXNCLGFBQ3RCLE1BQ0YsSUFBSyxJQUNIQSxFQUFzQixXQWtFOUIsV0FDRSxNQUFNOEMsRUFBZXJWLFNBQVNpSCxjQUFjLG9CQUM1Q29PLEVBQWEvWixpQkFBaUIsUUFBUyxLQUVyQyxHQUFJK1osRUFBYTNVLFVBQVU4QyxTQUFTLFlBQWEsQ0FDL0M2UixFQUFhM1UsVUFBVVIsT0FBTyxZQUM5Qm1WLEVBQWF6VSxVQUFZLGNBQ3pCLE1BQU0wVSxFQUFXdFYsU0FBU3FELGlCQUFpQixrRUFFM0NwSSxNQUFNNEksS0FBS3lSLEdBQVNoUyxRQUFTa1AsSUFDdkJBLEVBQU90QixTQUFTc0IsRUFBTytDLGNBRzFCLENBQ0hGLEVBQWEzVSxVQUFVQyxJQUFJLFlBQzNCMFUsRUFBYXpVLFVBQVksV0FDekIsTUFBTTBVLEVBQVd0VixTQUFTcUQsaUJBQWlCLGtFQUUzQ3BJLE1BQU00SSxLQUFLeVIsR0FBU2hTLFFBQVNrUCxJQUN0QkEsRUFBT3RCLFNBQVNzQixFQUFPK0MsYUFrRGxDQyxHQUNBcEMsSUFFQSxNQUFNcUMsRUFBa0J6VixTQUFTQyxlQUFlLG1CQUMxQ3lWLEVBQWdCMVYsU0FBU0MsZUFBZSxpQkFDeEJELFNBQVNDLGVBQWUsaUJBRWhDM0UsaUJBQWlCLFFBQVUyVCxJQUN2Q0EsRUFBRWlFLGtCQUVFdUMsRUFBZ0IvVSxVQUFVOEMsU0FBUyxXQUNyQ2lTLEVBQWdCL1UsVUFBVVIsT0FBTyxVQUNqQ3VWLEVBQWdCM1UsTUFBTTZVLFFBQVUsZUFDaENyWCxXQUFXLEtBQ1RtWCxFQUFnQjNVLE1BQU04VSxTQUFXLFdBQ2hDLEtBQ0hGLEVBQWMxUixhQUFhLGFBQWMsc0RBSXpDeVIsRUFBZ0IvVSxVQUFVQyxJQUFJLFVBQzlCOFUsRUFBZ0IzVSxNQUFNOFUsU0FBVyxTQUNqQ3RYLFdBQVcsS0FDVG1YLEVBQWdCM1UsTUFBTTZVLFFBQVUsT0FDL0IsS0FDSEQsRUFBYzFSLGFBQWEsYUFBYyx5RCxnckJDcmlCL0MsYUFDQSxRQUNBLE9BRUEsUUFDQSxRQVlBLE9BQ0EsT0FLQSxJQUFJZ0MsRUFjSixTQUFnQjZQLEVBQXNCdFcsR0FDcEMsTUFBTyxDQUNMd08sT0FBUSxNQUNSQyxNQUFPLENBQ0xDLFVBQVcxTyxFQUNYdVcsU0FBVSxPQUNWQyxVQUFXLEtBU2pCLFNBQWdCQyxFQUFpQnpXLEdBQy9CLE1BQU8sQ0FDTHdPLE9BQVEsTUFDUkMsTUFBTyxDQUNMQyxVQUFXMU8sRUFDWHVXLFNBQVUsT0FDVkMsVUFBVyxLQVNqQixTQUFnQkUsRUFBeUIxVyxHQUN2QyxNQUFPLENBQ0x3TyxPQUFRLE1BQ1JDLE1BQU8sQ0FDTEMsVUFBVzFPLEVBQ1h1VyxTQUFVLE9BQ1ZDLFVBQVcsS0FTakIsU0FBZ0JHLEVBQStCM1csR0FDN0MsTUFBTyxDQUNMd08sT0FBUSxNQUNSQyxNQUFPLENBQ0xDLFVBQVcxTyxFQUNYdVcsU0FBVSxRQUNWQyxVQUFXLEtBU2pCLFNBQWdCSSxFQUNkNVcsR0FFQSxNQUFPLENBQ0x3TyxPQUFRLGdCQUNSQyxNQUFPLENBQ0xDLFVBQVcxTyxFQUNYNlcsTUFBTyxLQU1iLFNBQWdCQyxFQUFvQnBELEdBQ2xCLE1BQVpBLEVBQUluZCxLQUEyQixjQUFabWQsRUFBSW5kLE1BQ3pCd2dCLElBQ0FyRCxFQUFJYSxrQkFPUixTQUFnQnBQLElBQ2QsTUFBTTZSLEVBQVd2VyxTQUFTQyxlQUFlLFlBQ25DdVcsRUFBWXhXLFNBQVNDLGVBQWUsYUFDdENzVyxJQUNGQSxFQUFTM1YsVUFBWSxHQUNyQjJWLEVBQVNwUyxjQUFjekQsVUFBVUMsSUFBSSxXQUVuQzZWLElBQ0ZBLEVBQVU1VixVQUFZLEdBQ3RCNFYsRUFBVXJTLGNBQWN6RCxVQUFVQyxJQUFJLFdBRXhDWCxTQUFTa1EsS0FBS3pVLG9CQUFvQixVQUFXNGEsR0FNL0MsU0FBZ0JDLElBQ2QsR0FBSTNSLEVBQVM4UixnQkFBZSxJQUFBeFQscUJBQzFCLE9BRUYsTUFBTXlULEVBQTJCLEdBQ2hCemIsTUFBTTRJLEtBQUs3RCxTQUFTbUQsdUJBQXVCLGFBQ25ERyxRQUFTb0MsSUFDWkEsRUFBS2hGLFVBQVU4QyxTQUFTLFNBQzFCa0MsRUFBT0EsRUFBS0MsUUFBUSxjQUVsQkQsRUFBS2hGLFVBQVU4QyxTQUFTLFdBQzFCa0MsRUFBT0EsRUFBS0MsUUFBUSxXQUVsQkQsRUFBS2hGLFVBQVU4QyxTQUFTLGFBQzFCa0MsRUFBT0EsRUFBS0MsUUFBUSxhQUV0QitRLEVBQVM3YyxLQUFLLENBQ1prVSxPQUFRLFNBQ1JDLE1BQU8sQ0FDTEMsVUFBV3ZJLEVBQUtuRyxRQUl0QixNQUFNb1gsRUFBMkIsQ0FDL0I1SSxPQUFRLFFBQ1JDLE1BQU8wSSxHQUVUaFMsSUFDQXNCLEVBQVNtSSxLQUFLd0ksRUFBYTNRLEVBQVNHLEtBQUtDLHFCQUFxQmdJLEtBQUssS0FDakVwSSxFQUFTc0kseUJBT2IsU0FBZ0JzSSxJQUNkLE1BQU1DLEVBQWdDLEdBQ3JCNWIsTUFBTTRJLEtBQUs3RCxTQUFTbUQsdUJBQXVCLGFBQ25ERyxRQUFTb0MsSUFDaEJtUixFQUFTaGQsS0FBSyxDQUNaa1UsT0FBUSxjQUNSQyxNQUFPLENBQ0xDLFVBQVd2SSxFQUFLbkcsUUFJdEIsTUFBTW9YLEVBQTRCLENBQ2hDNUksT0FBUSxRQUNSQyxNQUFPNkksR0FFVG5TLElBQ0FzQixFQUFTbUksS0FBS3dJLEVBQWEzUSxFQUFTRyxLQUFLQyxxQkFBcUJnSSxLQUFLLEtBQ2pFcEksRUFBU3NJLHlCQU9iLFNBQWdCd0ksSUFDZCxNQUFNQyxFQUEyQixHQUNoQjliLE1BQU00SSxLQUFLN0QsU0FBU21ELHVCQUF1QixhQUNuREcsUUFBU29DLElBQ2hCcVIsRUFBU2xkLEtBQUssQ0FDWmtVLE9BQVEsbUJBQ1JDLE1BQU8sQ0FDTEMsVUFBV3ZJLEVBQUtuRyxRQUl0QixNQUFNb1gsRUFBMkIsQ0FDL0I1SSxPQUFRLFFBQ1JDLE1BQU8rSSxHQUVUL1EsRUFDR21JLEtBQUt3SSxFQUFhM1EsRUFBU0csS0FBS0MscUJBQ2hDZ0ksS0FBTTRJLElBQ0RBLEVBQ0YsVUFBYTlWLGtCQUFrQixpQkFBa0IsV0FFakQsVUFBYUEsa0JBQWtCLG9CQUFxQixTQUV0RHdELElBQ0FzQixFQUFTc0kseUJBT2YsU0FBZ0IySSxJQUNkLE1BQU1DLEVBQXlCLEdBQ2RqYyxNQUFNNEksS0FBSzdELFNBQVNtRCx1QkFBdUIsYUFDbkRHLFFBQVNvQyxJQUNoQndSLEVBQU9yZCxLQUFLLENBQ1ZrVSxPQUFRLHNCQUNSQyxNQUFPLENBQ0xDLFVBQVd2SSxFQUFLbkcsUUFJdEIsTUFBTW9YLEVBQTJCLENBQy9CNUksT0FBUSxRQUNSQyxNQUFPa0osR0FFVGxSLEVBQ0dtSSxLQUFLd0ksRUFBYTNRLEVBQVNHLEtBQUtDLHFCQUNoQ2dJLEtBQU00SSxJQUNEQSxFQUNGLFVBQWE5VixrQkFBa0IsZUFBZ0IsV0FFL0MsVUFBYUEsa0JBQWtCLGtCQUFtQixTQUVwRHdELElBQ0FzQixFQUFTc0kseUJBT2YsU0FBZ0I2SSxJQUNkLE1BQU01VCxFQUFXdEksTUFBTTRJLEtBQUs3RCxTQUFTbUQsdUJBQXVCLGFBQ3hESSxFQUFTekosT0FBUyxHQUNwQixVQUFhb0gsa0JBQ1gsdUNBQ0EsU0FHSixNQUFNMlYsRUFBOEIsQ0FDbEM5SSxPQUFRLGNBQ1JDLE1BQU8sQ0FDTEMsVUFBVzFLLEVBQVMsR0FBR2hFLEtBSTNCeUcsRUFBU21JLEtBQUswSSxFQUFVN1EsRUFBU0csS0FBS0MscUJBQXFCZ0ksS0FBTTRJLElBQzNEQSxFQUNGLFVBQWE5VixrQkFBa0IsdUJBQXdCLFdBRXZELFVBQWFBLGtCQUFrQiwwQkFBMkIsU0FFNUR3RCxJQUNBc0IsRUFBU3NJLHlCQU9iLFNBQVM4SSxJQUVQLE1BQU1DLEVBQWNyUixFQUFTc1IsTUFDN0JELEVBQVlFLG1CQUFtQixFQUFBakssZ0JBQWdCOEIsVUFDL0NpSSxFQUFZRyxrQkFTZCxTQUFTQyxJQUNQLE1BQU1DLEVBQU0xWCxTQUFTQyxlQUFlLFVBRWhDeVgsSUFDRkEsRUFBSWpjLG9CQUFvQixRQUFTNmEsR0FDakNvQixFQUFJcGMsaUJBQWlCLFFBQVNnYixHQUc5QnRXLFNBQVNrUSxLQUFLNVUsaUJBQWlCLFVBQVcrYSxJQUk5QyxTQUFnQnNCLElBQ2QsTUFBTUMsRUFBYzVYLFNBQVNDLGVBQWUsZUFDNUMyWCxXQUFhbmMsb0JBQW9CLFFBQVNtYixHQUMxQ2dCLFdBQWF0YyxpQkFBaUIsUUFBU3NiLEdBTXpDLFNBQVNpQixJQUNQLE1BQU1DLEVBQVc5WCxTQUFTQyxlQUFlLGFBQ25DOFgsRUFBUy9YLFNBQVNxRCxpQkFBaUIsbUJBQ3pDLElBQUkyVSxFQUNKLElBQUssTUFBTWpULEtBQVNnVCxFQUFRLENBQzFCLE1BQU1FLEVBQVloZCxNQUFNNEksS0FBS2tCLEVBQU1yRSxXQUNoQ3dYLEtBQUssS0FDTGpQLE1BQU0sbUJBQ1QsR0FBSWdQLEVBQVcsQ0FDYixNQUFNRSxFQUFXdEUsU0FBU29FLEVBQVUsR0FBSSxJQUN4QyxHQUFJRCxHQUFXQSxHQUFXRyxFQUFVLENBQ2xCblksU0FBU0MsZUFBZSxlQUNoQ3dRLFVBQVksa0RBQ3BCdUgsRUFBVSxFQUNWLE1BRUFBLEVBQVVHLEdBSVpILElBQVNGLEVBQVN0aUIsTUFBUXdpQixFQUFRakksWUFNeEMsU0FBU3FJLElBQ1AsTUFBTUMsRUFBa0JyWSxTQUFTQyxlQUMvQixpQkFFSXFZLEVBQWtCdFksU0FBU0MsZUFDL0IsaUJBRUlzWSxFQUFnQnZZLFNBQVNDLGVBQzdCLGVBRUk2WCxFQUFXOVgsU0FBU0MsZUFBZSxhQStDekMsU0FBU3VZLEVBQWFDLEdBR3BCLElBQUlDLEVBQWU3RSxTQUFTaUUsRUFBU3RpQixNQUFPLEtBQU8sRUFDbkRrakIsR0FBZ0JELEVBRWhCQyxFQUFlOVksS0FBS3dKLElBQUl4SixLQUFLQyxJQUFJNlksRUFMbEIsR0FDQSxHQUtYQSxFQUFhM0ksWUFBYytILEVBQVN0aUIsUUFDdEMraUIsRUFBY3pYLE1BQU1DLFFBQVUsSUFDaEMrVyxFQUFTdGlCLE1BQVFrakIsRUFBYTNJLFdBdERoQ3NJLEVBQWdCL2MsaUJBQWlCLFNBQVMsV0FDeENrZCxHQUFjLE1BR2hCRixFQUFnQmhkLGlCQUFpQixTQUFTLFdBQ3hDa2QsRUFBYSxNQUlmRCxFQUFjamQsaUJBQWlCLFNBQVMsV0FDdEMsTUFBTXFkLEVBQThCLEdBQ3JCM1ksU0FBU3FELGlCQUFpQixtQkFDbENDLFFBQVN5QixJQUNkNFQsRUFBWTllLEtBQUssQ0FDZmtVLE9BQVEsTUFDUkMsTUFBTyxDQUNMQyxVQUFXbEosRUFBTXhGLEdBQ2pCdVcsU0FBVSxPQUNWQyxVQUFXLFNBQVcrQixFQUFTdGlCLFdBSXJDLE1BQU1taEIsRUFBMkIsQ0FDL0I1SSxPQUFRLFFBQ1JDLE1BQU8ySyxHQUVUM1MsRUFDR21JLEtBQUt3SSxFQUFhM1EsRUFBU0csS0FBS0MscUJBQ2hDZ0ksS0FBTTRJLElBQ0RBLEVBQ0YsVUFBYTlWLGtCQUNYLDhCQUNBLFdBR0YsVUFBYUEsa0JBQ1gsaUNBQ0EsU0FHSndELElBQ0FzQixFQUFTc0ksNEJBd0JqQixTQUFTc0ssRUFDUEMsRUFDQUMsRUFDQXJLLEdBQVUsR0FFVixNQUFNTixFQUFPbk8sU0FBU0MsZUFBZTRZLEdBRWpDMUssSUFDRkEsRUFBS2hLLGNBQWN6RCxVQUFVUixPQUFPLFVBQ2hDdU8sRUFBU04sRUFBS3ZOLFVBQVlrWSxFQUN6QjNLLEVBQUt2TixXQUFha1ksR0FzdUIzQixTQUFTQyxFQUF1QmhMLEdBQzlCL0gsRUFBU21JLEtBQUtKLEVBQVEvSCxFQUFTRyxLQUFLQyxxQkFBcUJnSSxLQUFNNEksSUFDekRBLEVBQ0YsVUFBYTlWLGtCQUFrQixnQkFBaUIsV0FFaEQsVUFBYUEsa0JBQWtCLHNCQUF1QixTQUV4RHdELElBQ0FzQixFQUFTc0kseUJBeUJiLFNBQWdCMEssSUFDZCxNQUFNalUsRUFBUS9FLFNBQVNpSCxjQUFjLG1CQUNyQyxHQUFjLE9BQVZsQyxFQUFnQixDQUNKLElBQUksRUFBQWtVLGtCQUFrQmpULEVBQVVqQixHQUN4Q21VLGFBQ054VSxTQUVBdEssUUFBUTRCLE1BQU0sMEJBQ2QwSSxJQWtHSixTQUFTeVUsSUFDUG5aLFNBQVNxRCxpQkFBaUIsZ0JBQWdCQyxRQUFTOFYsSUFHakQsTUFBTUMsRUFBbUIsS0FDdkJyWixTQUFTa1EsS0FBS3pVLG9CQUFvQixRQUFTNGQsR0FDM0NELEVBQUsxWSxVQUFVUixPQUFPLGNBR3hCa1osRUFBSzlkLGlCQUFpQixRQUFVMlgsSUFFOUJtRyxFQUFLMVksVUFBVXlTLE9BQU8sYUFHdEJsWSxNQUFNNEksS0FBSzdELFNBQVNxRCxpQkFBaUIsaUJBQ2xDK0UsT0FBUWtSLEdBQVVBLElBQVVGLEdBQzVCOVYsUUFBU2dXLEdBQVVBLEVBQU01WSxVQUFVUixPQUFPLGNBRzdDK1MsRUFBSUMsa0JBRUFrRyxFQUFLMVksVUFBVThDLFNBQVMsYUFDMUJ4RCxTQUFTa1EsS0FBSzVVLGlCQUFpQixRQUFTK2QsR0FDckNyWixTQUFTa1EsS0FBS3pVLG9CQUFvQixRQUFTNGQsT0EveEN0RCx3QkFBNkJsVCxHQUMzQkgsRUFBV0csRUFDWHhCLEVBQVM0VSxhQUFhcFQsSUFPeEIsMEJBZUEscUJBZUEsNkJBZUEsbUNBZUEsdUNBYUEsd0JBVUEsd0JBaUJBLGtCQW9DQSx1QkF3QkEsNEJBK0JBLCtCQStCQSx1QkFvQ0EsK0JBQ0UsTUFBTXFULEVBQVN4WixTQUFTQyxlQUFlLFVBQ3ZDdVosV0FBUS9kLG9CQUFvQixRQUFTMmIsR0FDckNvQyxXQUFRbGUsaUJBQWlCLFFBQVM4YixJQWVwQywyQkFpSUEsNEJBQWlDclIsR0FDL0JyQixJQUVBa1UsRUFBZ0IsV0FBWWEsRUFBU3hOLHVCQUNyQzJNLEVBQWdCLFlBQWFhLEVBQVMzTixrQkFDdEMyTCxJQUVBelgsU0FDR2lILGNBQWMsMEJBQ2QzTCxpQkFBaUIsUUFBUyxLQUN6QixNQUFNb2UsRUFBa0I3RCxFQUFzQjlQLEVBQUd4RyxJQUMzQ29hLEVBQWEzRCxFQUFpQmpRLEVBQUd4RyxJQUNqQ3FhLEVBQXFCM0QsRUFBeUJsUSxFQUFHeEcsSUFDakRzYSxFQUEyQjNELEVBQStCblEsRUFBR3hHLElBQzdEdWEsRUFBK0IzRCxFQUNuQ3BRLEVBQUd4RyxJQUVMeUcsRUFDR21JLEtBQ0MsQ0FDRUosT0FBUSxRQUNSQyxNQUFPLENBQ0wwTCxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxJQUdKOVQsRUFBU0csS0FBS0MscUJBRWZnSSxLQUFNNEksSUFDREEsRUFDRixVQUFhOVYsa0JBQWtCLGdCQUFpQixXQUVoRCxVQUFhQSxrQkFBa0Isc0JBQXVCLFNBRXhEd0QsSUFDQXNCLEVBQVNzSSwyQkFJakJ0TyxTQUNHaUgsY0FBYyw2QkFDZDNMLGlCQUFpQixRQUFTLEtBQ3pCLE1BQU1xZSxFQUFhM0QsRUFBaUJqUSxFQUFHeEcsSUFDakNxYSxFQUFxQjNELEVBQXlCbFEsRUFBR3hHLElBQ2pEc2EsRUFBMkIzRCxFQUErQm5RLEVBQUd4RyxJQUM3RHVhLEVBQStCM0QsRUFDbkNwUSxFQUFHeEcsSUFFQ3dhLEVBQTJCLENBQy9CaE0sT0FBUSxNQUNSQyxNQUFPLENBQ0xDLFVBQVdsSSxFQUFHeEcsR0FDZHVXLFNBQVUsT0FDVkMsVUFBVyxPQUdmL1AsRUFDR21JLEtBQ0MsQ0FDRUosT0FBUSxRQUNSQyxNQUFPLENBQ0wyTCxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxJQUdKL1QsRUFBU0csS0FBS0MscUJBRWZnSSxLQUFNNEksSUFDREEsRUFDRixVQUFhOVYsa0JBQWtCLGdCQUFpQixXQUVoRCxVQUFhQSxrQkFBa0Isc0JBQXVCLFNBRXhEd0QsSUFDQXNCLEVBQVNzSSwyQkFJakJ0TyxTQUNHaUgsY0FBYyx3QkFDZDNMLGlCQUFpQixRQUFTLEtBQ3pCLE1BQU1zZSxFQUFxQjNELEVBQXlCbFEsRUFBR3hHLElBQ2pEbWEsRUFBa0I3RCxFQUFzQjlQLEVBQUd4RyxJQUMzQ3NhLEVBQTJCM0QsRUFBK0JuUSxFQUFHeEcsSUFDN0R1YSxFQUErQjNELEVBQ25DcFEsRUFBR3hHLElBRUN5YSxFQUFzQixDQUMxQmpNLE9BQVEsTUFDUkMsTUFBTyxDQUNMQyxVQUFXbEksRUFBR3hHLEdBQ2R1VyxTQUFVLE9BQ1ZDLFVBQVcsTUFHZi9QLEVBQ0dtSSxLQUNDLENBQ0VKLE9BQVEsUUFDUkMsTUFBTyxDQUNMNEwsRUFDQUYsRUFDQUcsRUFDQUMsRUFDQUUsSUFHSmhVLEVBQVNHLEtBQUtDLHFCQUVmZ0ksS0FBTTRJLElBQ0RBLEVBQ0YsVUFBYTlWLGtCQUFrQixnQkFBaUIsV0FFaEQsVUFBYUEsa0JBQWtCLHNCQUF1QixTQUV4RHdELElBQ0FzQixFQUFTc0ksMkJBSWpCdE8sU0FDR2lILGNBQWMsZ0NBQ2QzTCxpQkFBaUIsUUFBUyxLQUN6QixNQUFNb2UsRUFBa0I3RCxFQUFzQjlQLEVBQUd4RyxJQUMzQ29hLEVBQWEzRCxFQUFpQmpRLEVBQUd4RyxJQUNqQ3NhLEVBQTJCM0QsRUFBK0JuUSxFQUFHeEcsSUFDN0R1YSxFQUErQjNELEVBQ25DcFEsRUFBR3hHLElBRUMwYSxFQUE4QixDQUNsQ2xNLE9BQVEsTUFDUkMsTUFBTyxDQUNMQyxVQUFXbEksRUFBR3hHLEdBQ2R1VyxTQUFVLE9BQ1ZDLFVBQVcsTUFHZi9QLEVBQ0dtSSxLQUNDLENBQ0VKLE9BQVEsUUFDUkMsTUFBTyxDQUNMMEwsRUFDQUMsRUFDQUUsRUFDQUMsRUFDQUcsSUFHSmpVLEVBQVNHLEtBQUtDLHFCQUVmZ0ksS0FBTTRJLElBQ0RBLEVBQ0YsVUFBYTlWLGtCQUFrQixnQkFBaUIsV0FFaEQsVUFBYUEsa0JBQWtCLHNCQUF1QixTQUV4RHdELElBQ0FzQixFQUFTc0ksMkJBSWpCdE8sU0FDR2lILGNBQWMsc0NBQ2QzTCxpQkFBaUIsUUFBUyxLQUN6QixNQUFNb2UsRUFBa0I3RCxFQUFzQjlQLEVBQUd4RyxJQUMzQ29hLEVBQWEzRCxFQUFpQmpRLEVBQUd4RyxJQUNqQ3FhLEVBQXFCM0QsRUFBeUJsUSxFQUFHeEcsSUFDakR1YSxFQUErQjNELEVBQ25DcFEsRUFBR3hHLElBRUMyYSxFQUE4QyxDQUNsRG5NLE9BQVEsZ0JBQ1JDLE1BQU8sQ0FDTEMsVUFBV2xJLEVBQUd4RyxHQUNkNlcsTUFBTyxNQUdYcFEsRUFDR21JLEtBQ0MsQ0FDRUosT0FBUSxRQUNSQyxNQUFPLENBQ0wwTCxFQUNBQyxFQUNBQyxFQUNBRSxFQUNBSSxJQUdKbFUsRUFBU0csS0FBS0MscUJBRWZnSSxLQUFNNEksSUFDREEsRUFDRixVQUFhOVYsa0JBQWtCLGdCQUFpQixXQUVoRCxVQUFhQSxrQkFBa0Isc0JBQXVCLFNBRXhEd0QsSUFDQXNCLEVBQVNzSSwyQkFJakJ0TyxTQUNHaUgsY0FBYywwQ0FDZDNMLGlCQUFpQixRQUFTLEtBQ3pCLE1BQU1vZSxFQUFrQjdELEVBQXNCOVAsRUFBR3hHLElBQzNDb2EsRUFBYTNELEVBQWlCalEsRUFBR3hHLElBQ2pDcWEsRUFBcUIzRCxFQUF5QmxRLEVBQUd4RyxJQUNqRHNhLEVBQTJCM0QsRUFBK0JuUSxFQUFHeEcsSUFDN0Q0YSxFQUFrRCxDQUN0RHBNLE9BQVEsZ0JBQ1JDLE1BQU8sQ0FDTEMsVUFBV2xJLEVBQUd4RyxHQUNkNlcsTUFBTyxNQUdYcFEsRUFDR21JLEtBQ0MsQ0FDRUosT0FBUSxRQUNSQyxNQUFPLENBQ0wwTCxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBTSxJQUdKblUsRUFBU0csS0FBS0MscUJBRWZnSSxLQUFNNEksSUFDREEsRUFDRixVQUFhOVYsa0JBQWtCLGdCQUFpQixXQUVoRCxVQUFhQSxrQkFBa0Isc0JBQXVCLFNBRXhEd0QsSUFDQXNCLEVBQVNzSSwyQkFJakI2SyxLQU1GLGlDQUNFelUsSUFFQWtVLEVBQWdCLFdBQVlhLEVBQVMxTiw0QkFDckM2TSxFQUFnQixZQUFhYSxFQUFTek4scUJBQ3RDeUwsSUFFQSxNQUFNeFQsRUFBUWpFLFNBQVNxRCxpQkFBaUIsYUFzSXhDLFNBQVMrVyxFQUFtQkMsR0FDMUIsTUFBTUMsRUFBcUMsQ0FDekN2TSxPQUFRLGNBQ1JDLE1BQU8sQ0FDTEMsVUFBV2hLLEVBQU0sR0FBRzFFLEdBQ3BCOGEsUUFBU0EsSUFHYnJVLEVBQ0dtSSxLQUFLbU0sRUFBc0J0VSxFQUFTRyxLQUFLQyxxQkFDekNnSSxLQUFNNEksSUFDREEsRUFDRixVQUFhOVYsa0JBQWtCLG1CQUFvQixXQUVuRCxVQUFhQSxrQkFBa0Isa0JBQW1CLFNBRXBEd0QsSUFDQXNCLEVBQVNzSSx5QkF0Sk0sSUFBakJySyxFQUFNbkssUUFRVmtHLFNBQVNDLGVBQWUsZUFBZTNFLGlCQUFpQixRQUFTLEtBQy9ELE1BQU0ySSxFQUFRakUsU0FBU2lILGNBQWMsbUJBQ3JDLEdBQWMsT0FBVmhELEVBQWdCLENBQ0osSUFBSSxFQUFBc1csa0JBQWtCdlUsRUFBVS9CLEdBQ3hDaVYsYUFDTnhVLFNBRUF0SyxRQUFRNEIsTUFBTSwwQkFDZDBJLE1BSUoxRSxTQUNHaUgsY0FBYyxzQkFDZDNMLGlCQUFpQixRQUFVMlQsSUFJMUJtTCxFQUhnQnBVLEVBQVN3VSxLQUFLQyxrQkFDM0J4TCxFQUFFclksT0FBdUIySSxPQUloQ1MsU0FDR2lILGNBQWMsZ0NBQ2QzTCxpQkFBaUIsUUFBVTJULElBSTFCbUwsRUFIZ0JwVSxFQUFTd1UsS0FBS0Msa0JBQzNCeEwsRUFBRXJZLE9BQXVCMkksT0FJaENTLFNBQ0dpSCxjQUFjLHlCQUNkM0wsaUJBQWlCLFFBQVUyVCxJQUkxQm1MLEVBSGdCcFUsRUFBU3dVLEtBQUtDLGtCQUMzQnhMLEVBQUVyWSxPQUF1QjJJLE9BSWhDUyxTQUNHaUgsY0FBYyw0QkFDZDNMLGlCQUFpQixRQUFVMlQsSUFJMUJtTCxFQUhnQnBVLEVBQVN3VSxLQUFLQyxrQkFDM0J4TCxFQUFFclksT0FBdUIySSxPQUloQ1MsU0FDR2lILGNBQWMsa0NBQ2QzTCxpQkFBaUIsUUFBVTJULElBSTFCbUwsRUFIZ0JwVSxFQUFTd1UsS0FBS0Msa0JBQzNCeEwsRUFBRXJZLE9BQXVCMkksT0FJaENTLFNBQ0dpSCxjQUFjLHNDQUNkM0wsaUJBQWlCLFFBQVUyVCxJQUkxQm1MLEVBSGdCcFUsRUFBU3dVLEtBQUtDLGtCQUMzQnhMLEVBQUVyWSxPQUF1QjJJLE9BSWhDUyxTQUNHaUgsY0FBYywyQkFDZDNMLGlCQUFpQixRQUFVMlQsSUFJMUJtTCxFQUhnQnBVLEVBQVN3VSxLQUFLQyxrQkFDM0J4TCxFQUFFclksT0FBdUIySSxPQUloQ1MsU0FDR2lILGNBQWMsb0NBQ2QzTCxpQkFBaUIsUUFBVTJULElBSTFCbUwsRUFIZ0JwVSxFQUFTd1UsS0FBS0Msa0JBQzNCeEwsRUFBRXJZLE9BQXVCMkksT0FJaENTLFNBQ0dpSCxjQUFjLDJCQUNkM0wsaUJBQWlCLFFBQVUyVCxJQUkxQm1MLEVBSGdCcFUsRUFBU3dVLEtBQUtDLGtCQUMzQnhMLEVBQUVyWSxPQUF1QjJJLE9BSWhDUyxTQUNHaUgsY0FBYyxvQ0FDZDNMLGlCQUFpQixRQUFVMlQsSUFJMUJtTCxFQUhnQnBVLEVBQVN3VSxLQUFLQyxrQkFDM0J4TCxFQUFFclksT0FBdUIySSxPQUloQ1MsU0FDR2lILGNBQWMsNEJBQ2QzTCxpQkFBaUIsUUFBVTJULElBSTFCbUwsRUFIZ0JwVSxFQUFTd1UsS0FBS0Msa0JBQzNCeEwsRUFBRXJZLE9BQXVCMkksT0FJaENTLFNBQ0dpSCxjQUFjLGtDQUNkM0wsaUJBQWlCLFFBQVUyVCxJQUkxQm1MLEVBSGdCcFUsRUFBU3dVLEtBQUtDLGtCQUMzQnhMLEVBQUVyWSxPQUF1QjJJLE9BSWhDUyxTQUNHaUgsY0FBYyxzQ0FDZDNMLGlCQUFpQixRQUFVMlQsSUFJMUJtTCxFQUhnQnBVLEVBQVN3VSxLQUFLQyxrQkFDM0J4TCxFQUFFclksT0FBdUIySSxPQUloQ1MsU0FDR2lILGNBQWMsMEJBQ2QzTCxpQkFBaUIsUUFBVTJULElBSTFCbUwsRUFIZ0JwVSxFQUFTd1UsS0FBS0Msa0JBQzNCeEwsRUFBRXJZLE9BQXVCMkksT0EwQmhDNFosS0F6SkUvZSxRQUFRQyxLQUNOLDRFQThKTixrQ0FBdUNtTSxHQUNyQzlCLElBRUFrVSxFQUFnQixXQUFZYSxFQUFTck0sd0JBRXJDLElBQUlzTixFQUFtQixHQUd2QixPQUFRbFUsR0FFTixJQUFLLFFBQ0hrVSxHQUFvQix1TkFJcEIsTUFHRixJQUFLLGVBQ0hBLEdBQW9CLHNUQUtwQixNQUdGLElBQUssaUJBQ0hBLEdBQW9CLG9VQUtwQixNQUdGLElBQUssY0FDSEEsR0FBb0IsMFRBS3BCLE1BR0YsSUFBSyxVQUNIQSxHQUFvQix3T0FTeEI5QixFQUFnQixXQUFZOEIsR0FBa0IsR0FDOUMvQyxJQUNBRixJQUNBOVMsRUFBU1EseUJBTVgsc0NBQTJDakMsRyxZQUd6QyxHQUZBd0IsSUFFSXhCLEVBQVF4QyxVQUFVOEMsU0FBUyxVQUs3QixPQUpBb1YsRUFBZ0IsV0FBWWEsRUFBU3ROLHNCQUNyQ3dMLFNBQ0FGLElBVUZtQixFQUFnQixXQUxTMVYsRUFBUWlCLGNBQWN6RCxVQUFVOEMsU0FBUyxZQUU5RGlXLEVBQVNwTiw2QkFDVG9OLEVBQVNyTiwrQkFFb0MsR0FHN0NsSixFQUFReEMsVUFBVThDLFNBQVMsVUFDN0JvVixFQUFnQixZQUFhYSxFQUFTbk4scUJBNEIxQyxTQUE4QnBKLEdBQzVCbEQsU0FDR2lILGNBQWMsK0JBQ2QzTCxpQkFBaUIsUUFBUyxLQVN6QnlkLEVBUmdDLENBQzlCaEwsT0FBUSxNQUNSQyxNQUFPLENBQ0xDLFVBQVcvSyxFQUFRM0QsR0FDbkJ1VyxTQUFVLFFBQ1ZDLFVBQVcsU0FLbkIvVixTQUNHaUgsY0FBYyxrQ0FDZDNMLGlCQUFpQixRQUFTLEtBU3pCeWQsRUFSc0MsQ0FDcENoTCxPQUFRLE1BQ1JDLE1BQU8sQ0FDTEMsVUFBVy9LLEVBQVEzRCxHQUNuQnVXLFNBQVUsUUFDVkMsVUFBVyxTQU1uQm9ELElBdkRFd0IsQ0FBcUJ6WCxJQUNaQSxFQUFReEMsVUFBVThDLFNBQVMsU0FDcENvVixFQUFnQixZQUFhYSxFQUFTL00sb0JBd0QxQyxTQUE2QnhKLEdBQzNCbEQsU0FBU2lILGNBQWMscUJBQXFCM0wsaUJBQWlCLFFBQVMsS0FDcEUsTUFBTXNmLEVBQTRDLENBQ2hEN00sT0FBUSxxQkFDUkMsTUFBTyxDQUNMQyxVQUFXL0ssRUFBUTNELEdBQ25Cc2IsVUFBVyxVQUlmN1UsRUFDR21JLEtBQUt5TSxFQUFpQjVVLEVBQVNHLEtBQUtDLHFCQUNwQ2dJLEtBQU00SSxJQUNEQSxFQUNGLFVBQWE5VixrQkFBa0IsMkJBQTRCLFdBRTNELFVBQWFBLGtCQUNYLG1GQUNBLFNBR0p3RCxJQUNBc0IsRUFBU3NJLDJCQUlmdE8sU0FBU2lILGNBQWMscUJBQXFCM0wsaUJBQWlCLFFBQVMsS0FDcEUsTUFBTXNmLEVBQTRDLENBQ2hEN00sT0FBUSxxQkFDUkMsTUFBTyxDQUNMQyxVQUFXL0ssRUFBUTNELEdBQ25Cc2IsVUFBVyxVQUlmN1UsRUFDR21JLEtBQUt5TSxFQUFpQjVVLEVBQVNHLEtBQUtDLHFCQUNwQ2dJLEtBQU00SSxJQUNEQSxFQUNGLFVBQWE5VixrQkFBa0IsMkJBQTRCLFdBRTNELFVBQWFBLGtCQUNYLG1GQUNBLFNBR0p3RCxJQUNBc0IsRUFBU3NJLDJCQUlmdE8sU0FDR2lILGNBQWMsd0JBQ2QzTCxpQkFBaUIsUUFBUyxLQVF6QnlkLEVBUGdDLENBQzlCaEwsT0FBUSxVQUNSQyxNQUFPLENBQ0xDLFVBQVcvSyxFQUFRM0QsR0FDbkJ1YixNQUFPLFNBS2Y5YSxTQUNHaUgsY0FBYyx3QkFDZDNMLGlCQUFpQixRQUFTLEtBUXpCeWQsRUFQZ0MsQ0FDOUJoTCxPQUFRLFVBQ1JDLE1BQU8sQ0FDTEMsVUFBVy9LLEVBQVEzRCxHQUNuQnViLE1BQU8sU0FNZjNCLElBbklFNEIsQ0FBb0I3WCxJQUNYQSxFQUFReEMsVUFBVThDLFNBQVMsYUFDcENvVixFQUFnQixZQUFhYSxFQUFTOU0sdUJBb0kxQyxTQUFnQ3pKLEdBQzlCbEQsU0FDR2lILGNBQWMsaUNBQ2QzTCxpQkFBaUIsUUFBUyxLQVN6QnlkLEVBUmtDLENBQ2hDaEwsT0FBUSxNQUNSQyxNQUFPLENBQ0xDLFVBQVcvSyxFQUFRM0QsR0FDbkJ1VyxTQUFVLE9BQ1ZDLFVBQVcsY0FNbkIvVixTQUNHaUgsY0FBYyxnQ0FDZDNMLGlCQUFpQixRQUFTLEtBU3pCeWQsRUFSb0MsQ0FDbENoTCxPQUFRLE1BQ1JDLE1BQU8sQ0FDTEMsVUFBVy9LLEVBQVEzRCxHQUNuQnVXLFNBQVUsT0FDVkMsVUFBVyxhQU1uQi9WLFNBQ0dpSCxjQUFjLGlDQUNkM0wsaUJBQWlCLFFBQVMsS0FTekJ5ZCxFQVJxQyxDQUNuQ2hMLE9BQVEsTUFDUkMsTUFBTyxDQUNMQyxVQUFXL0ssRUFBUTNELEdBQ25CdVcsU0FBVSxPQUNWQyxVQUFXLGNBTW5CL1YsU0FDR2lILGNBQWMsa0NBQ2QzTCxpQkFBaUIsUUFBUyxLQVN6QnlkLEVBUnNDLENBQ3BDaEwsT0FBUSxNQUNSQyxNQUFPLENBQ0xDLFVBQVcvSyxFQUFRM0QsR0FDbkJ1VyxTQUFVLE9BQ1ZDLFVBQVcsZUFNbkIvVixTQUNHaUgsY0FBYyxrQ0FDZDNMLGlCQUFpQixRQUFTLEtBU3pCeWQsRUFSc0MsQ0FDcENoTCxPQUFRLE1BQ1JDLE1BQU8sQ0FDTEMsVUFBVy9LLEVBQVEzRCxHQUNuQnVXLFNBQVUsT0FDVkMsVUFBVyxlQU1uQi9WLFNBQ0dpSCxjQUFjLGtDQUNkM0wsaUJBQWlCLFFBQVMsS0FTekJ5ZCxFQVJzQyxDQUNwQ2hMLE9BQVEsTUFDUkMsTUFBTyxDQUNMQyxVQUFXL0ssRUFBUTNELEdBQ25CdVcsU0FBVSxPQUNWQyxVQUFXLGVBTW5Cb0QsSUF4TkU2QixDQUF1QjlYLElBRXpCeVUsSUFFcUMsUUFEckMsRUFBQTNYLFNBQ0dDLGVBQWUsMkJBQW1CLFNBQ2pDM0UsaUJBQWlCLFFBQVN3YixHQUVVLFFBRHhDLEVBQUE5VyxTQUNHQyxlQUFlLDhCQUFzQixTQUNwQzNFLGlCQUFpQixRQUFTMmIsR0FFOUJRLElBRUFFLElBRXFDLFFBRHJDLEVBQUEzWCxTQUNHQyxlQUFlLDJCQUFtQixTQUNqQzNFLGlCQUFpQixRQUFTd2IsR0FFVSxRQUR4QyxFQUFBOVcsU0FDR0MsZUFBZSw4QkFBc0IsU0FDcEMzRSxpQkFBaUIsUUFBUzJiLElBMk5oQyxzQ0FDRXZTLElBQ0FrVSxFQUFnQixXQUFZYSxFQUFTak4sMEJBQ3JDb00sRUFBZ0IsWUFBYWEsRUFBU2hOLHNCQUN0Q2dMLElBR0FJLElBQ0FPLElBRUFwWSxTQUFTQyxlQUFlLGlCQUFpQjNFLGlCQUFpQixRQUFTLEtBQ2pFcUosRUFBU3NXLGlCQU9iLDBCQWVBLHVDQUNFdlcsSUFDQWtVLEVBQWdCLFdBQVlhLEVBQVNsTiwwQkFDckNxTSxFQUFnQixZQUFhYSxFQUFTaE4sc0JBQ3RDZ0wsSUFHQUksSUFDQU8sSUFHQXBZLFNBQVNDLGVBQWUsZ0JBQWdCM0UsaUJBQWlCLFFBQVMsS0FDaEUwZCxNQUdGaFosU0FBU0MsZUFBZSxnQkFBZ0IzRSxpQkFBaUIsUUFBUyxLQUNoRSxNQUFNeUosRUFBUS9FLFNBQVNpSCxjQUFjLG1CQUsvQmlVLEdBQVMsSUFBQUMsY0FBYXBXLEdBQ3RCcVcsRUFBV3hiLEtBQUt5YixJQUFJSCxFQUFPclMsU0FBV3FTLEVBQU92UyxJQUFNdVMsRUFBT3pTLEtBQ2hFLEdBQWMsT0FBVjFELEVBQWdCLENBQ2xCLE1BQU0rSSxFQUE2QixDQUNqQ0MsT0FBUSxlQUNSQyxNQUFPLENBQ0xDLFVBQVdsSixFQUFNeEYsR0FDakJrSixJQUFLeVMsRUFBT3pTLElBQ1pDLElBQ0V3UyxFQUFPclMsT0FBUyxFQUNacVMsRUFBT3hTLElBQU0wUyxFQUFXLEVBQ3hCRixFQUFPeFMsSUFBTTBTLEVBQVcsRUFDOUJ6UyxJQUFLdVMsRUFBT3ZTLElBQ1pDLElBQ0VzUyxFQUFPclMsT0FBUyxFQUNacVMsRUFBT3RTLElBQU13UyxFQUFXLEVBQ3hCRixFQUFPdFMsSUFBTXdTLEVBQVcsRUFDOUJ2UyxPQUFRLElBR1o3QyxFQUNHbUksS0FBS0wsRUFBYzlILEVBQVNHLEtBQUtDLHFCQUNqQ2dJLEtBQUt2SSxNQUFPbVIsSUFDUEEsU0FDSWhSLEVBQVNzSSx5QkFHckI1SixTQUVBdEssUUFBUTRCLE1BQU0seUJBQ2QwSSxPQVFOLGdDQUNFQSxJQUNBa1UsRUFBZ0IsV0FBWWEsRUFBUzdNLG9CQUNyQzZLLElBQ0F6WCxTQUFTQyxlQUFlLGVBQWUzRSxpQkFBaUIsUUFBUyxLQUMvRDZiLE9BT0osc0NBQ0V6UyxJQUNBa1UsRUFBZ0IsV0FBWWEsRUFBU3ZOLDBCQUNyQ3VMLElBQ0FFLEtBTUYsbUNBQ0VqVCxJQUNBa1UsRUFBZ0IsV0FBWWEsRUFBU3hOLHVCQUNyQ3dMLE0saUxDN3hDRixhQWtCQSxTQUFnQjZELEVBQWlCQyxFQUFpQkMsR0FDaEQsTUFBTUMsRUFBSyxJQUFJQyxTQUFTSCxFQUFTQyxHQUUzQkcsRUFETTNiLFNBQVNpSCxjQUE2QixvQ0FDM0JBLGNBQTJCLGlCQUU1QyxFQUFFK0QsRUFBQyxFQUFFSSxHQUFNcVEsRUFBR0csZ0JBQWdCRCxFQUFXRSxlQUFlQyxXQUM5RCxNQUFPLENBQUU5USxJQUFHSSxLQVlkLFNBQWdCMlEsRUFBb0JSLEVBQWlCQyxHQUNuRCxNQUNNUSxFQURTL2dCLE1BQU00SSxLQUFLN0QsU0FBU3FELGlCQUE4QixXQUN0QzZGLElBQUluRSxJQUFTLElBQUFvVyxjQUFhcFcsS0FHL0MsRUFBRWlHLEVBQUMsRUFBRUksR0FBTWtRLEVBQWdCQyxFQUFTQyxHQUNwQ3pXLEVBQVFpWCxFQUFZL0ssS0FDdkJuSyxHQUFTa0UsR0FBS2xFLEVBQUs2QixLQUFPcUMsR0FBS2xFLEVBQUsyQixLQUFPMkMsR0FBS3RFLEVBQUs4QixLQUFPd0MsR0FBS3RFLEVBQUs0QixLQVN6RSxPQUFPM0QsRUFBUUEsRUFBTXhGLEdBQUssS0FsQzVCLG9CQWtCQSx1QkF1QkEsNEJBQWtDZ2MsRUFBaUJDLEdBQ2pELE1BQU1TLEVBQVVGLEVBQW1CUixFQUFTQyxHQUM1QyxPQUFPeGIsU0FBU2lILGNBQWMsSUFBSWdWLElBR3BDLDRCQUFrQ2pSLEVBQVdJLEdBQzNDLE1BQU04USxFQUFRbGMsU0FBU2lILGNBQStCLFVBRXRELE9BQ0UrRCxHQUFLLEdBQUtBLEdBQUszVCxPQUFPNmtCLEVBQU1sVCxhQUFhLFdBQ3pDb0MsR0FBSyxHQUFLQSxHQUFLL1QsT0FBTzZrQixFQUFNbFQsYUFBYSxZQVE3Qyx3QkFBOEJzQyxHQUM1QixNQUFNNlEsRUFBcUIsUUFBYjdRLEVBQUU4USxRQUFxQjlRLEVBQUUrUSxVQUFhL1EsRUFBRWdSLFdBQTJCRCxVQUVqRixNQUFPLENBQ0w1VCxJQUFLMFQsRUFBS25SLEVBQ1Z0QyxJQUFLeVQsRUFBSy9RLEVBQ1Z6QyxJQUFLd1QsRUFBS25SLEVBQUltUixFQUFLSSxNQUNuQjNULElBQUt1VCxFQUFLL1EsRUFBSStRLEVBQUtLLFUsZ0JDakZmbG9CLEVBQU9ELFFBZ0JiLFNBQVVzRSxHQUVSLGFBZUEsSUFHSThqQixFQUFVLENBQUMsSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FRMUYsU0FBU0MsRUFBUzFSLEVBQUcyUixHQUNqQixJQUFJQyxFQUFJNVIsRUFBRSxHQUNONlIsRUFBSTdSLEVBQUUsR0FDTnBXLEVBQUlvVyxFQUFFLEdBQ05uVyxFQUFJbVcsRUFBRSxHQVNWNlIsSUFEQUEsS0FEQWpvQixJQURBQSxLQURBQyxJQURBQSxLQURBK25CLElBREFBLElBQU1DLEVBQUlqb0IsR0FBS2lvQixFQUFJaG9CLEdBQUs4bkIsRUFBRSxHQUFLLFVBQVksSUFDaEMsRUFBSUMsSUFBTSxJQUFNQyxFQUFJLEdBQ3JCQSxHQUFLRCxFQUFJaG9CLEdBQUsrbkIsRUFBRSxHQUFLLFVBQVksSUFDaEMsR0FBSzluQixJQUFNLElBQU0rbkIsRUFBSSxHQUN0QkEsR0FBSy9uQixFQUFJZ29CLEdBQUtGLEVBQUUsR0FBSyxVQUFZLElBQ2hDLEdBQUsvbkIsSUFBTSxJQUFNQyxFQUFJLEdBQ3RCQSxHQUFLRCxFQUFJZ29CLEdBQUtELEVBQUUsR0FBSyxXQUFhLElBQ2pDLEdBQUtFLElBQU0sSUFBTWpvQixFQUFJLEVBUWhDaW9CLElBREFBLEtBREFqb0IsSUFEQUEsS0FEQUMsSUFEQUEsS0FEQStuQixJQURBQSxJQUFNQyxFQUFJam9CLEdBQUtpb0IsRUFBSWhvQixHQUFLOG5CLEVBQUUsR0FBSyxVQUFZLElBQ2hDLEVBQUlDLElBQU0sSUFBTUMsRUFBSSxHQUNyQkEsR0FBS0QsRUFBSWhvQixHQUFLK25CLEVBQUUsR0FBSyxXQUFhLElBQ2pDLEdBQUs5bkIsSUFBTSxJQUFNK25CLEVBQUksR0FDdEJBLEdBQUsvbkIsRUFBSWdvQixHQUFLRixFQUFFLEdBQUssV0FBYSxJQUNqQyxHQUFLL25CLElBQU0sSUFBTUMsRUFBSSxHQUN0QkEsR0FBS0QsRUFBSWdvQixHQUFLRCxFQUFFLEdBQUssU0FBVyxJQUMvQixHQUFLRSxJQUFNLElBQU1qb0IsRUFBSSxFQVFoQ2lvQixJQURBQSxLQURBam9CLElBREFBLEtBREFDLElBREFBLEtBREErbkIsSUFEQUEsSUFBTUMsRUFBSWpvQixHQUFLaW9CLEVBQUlob0IsR0FBSzhuQixFQUFFLEdBQUssV0FBYSxJQUNqQyxFQUFJQyxJQUFNLElBQU1DLEVBQUksR0FDckJBLEdBQUtELEVBQUlob0IsR0FBSytuQixFQUFFLEdBQUssV0FBYSxJQUNqQyxHQUFLOW5CLElBQU0sSUFBTStuQixFQUFJLEdBQ3RCQSxHQUFLL25CLEVBQUlnb0IsR0FBS0YsRUFBRSxJQUFNLE1BQVEsSUFDN0IsR0FBSy9uQixJQUFNLElBQU1DLEVBQUksR0FDdEJBLEdBQUtELEVBQUlnb0IsR0FBS0QsRUFBRSxJQUFNLFdBQWEsSUFDbEMsR0FBS0UsSUFBTSxJQUFNam9CLEVBQUksRUFRaENpb0IsSUFEQUEsS0FEQWpvQixJQURBQSxLQURBQyxJQURBQSxLQURBK25CLElBREFBLElBQU1DLEVBQUlqb0IsR0FBS2lvQixFQUFJaG9CLEdBQUs4bkIsRUFBRSxJQUFNLFdBQWEsSUFDbEMsRUFBSUMsSUFBTSxJQUFNQyxFQUFJLEdBQ3JCQSxHQUFLRCxFQUFJaG9CLEdBQUsrbkIsRUFBRSxJQUFNLFNBQVcsSUFDaEMsR0FBSzluQixJQUFNLElBQU0rbkIsRUFBSSxHQUN0QkEsR0FBSy9uQixFQUFJZ29CLEdBQUtGLEVBQUUsSUFBTSxXQUFhLElBQ2xDLEdBQUsvbkIsSUFBTSxJQUFNQyxFQUFJLEdBQ3RCQSxHQUFLRCxFQUFJZ29CLEdBQUtELEVBQUUsSUFBTSxXQUFhLElBQ2xDLEdBQUtFLElBQU0sSUFBTWpvQixFQUFJLEVBU2hDaW9CLElBREFBLEtBREFqb0IsSUFEQUEsS0FEQUMsSUFEQUEsS0FEQStuQixJQURBQSxJQUFNQyxFQUFJaG9CLEVBQUlELEdBQUtDLEdBQUs4bkIsRUFBRSxHQUFLLFVBQVksSUFDaEMsRUFBSUMsSUFBTSxJQUFNQyxFQUFJLEdBQ3JCam9CLEVBQUlpb0IsR0FBS2pvQixHQUFLK25CLEVBQUUsR0FBSyxXQUFhLElBQ2pDLEVBQUk5bkIsSUFBTSxJQUFNK25CLEVBQUksR0FDckJDLEVBQUlELEdBQUtDLEdBQUtGLEVBQUUsSUFBTSxVQUFZLElBQ2pDLEdBQUsvbkIsSUFBTSxJQUFNQyxFQUFJLEdBQ3RCK25CLEVBQUkvbkIsR0FBSytuQixHQUFLRCxFQUFFLEdBQUssVUFBWSxJQUNoQyxHQUFLRSxJQUFNLElBQU1qb0IsRUFBSSxFQVFoQ2lvQixJQURBQSxLQURBam9CLElBREFBLEtBREFDLElBREFBLEtBREErbkIsSUFEQUEsSUFBTUMsRUFBSWhvQixFQUFJRCxHQUFLQyxHQUFLOG5CLEVBQUUsR0FBSyxVQUFZLElBQ2hDLEVBQUlDLElBQU0sSUFBTUMsRUFBSSxHQUNyQmpvQixFQUFJaW9CLEdBQUtqb0IsR0FBSytuQixFQUFFLElBQU0sU0FBVyxJQUNoQyxFQUFJOW5CLElBQU0sSUFBTStuQixFQUFJLEdBQ3JCQyxFQUFJRCxHQUFLQyxHQUFLRixFQUFFLElBQU0sVUFBWSxJQUNqQyxHQUFLL25CLElBQU0sSUFBTUMsRUFBSSxHQUN0QituQixFQUFJL25CLEdBQUsrbkIsR0FBS0QsRUFBRSxHQUFLLFVBQVksSUFDaEMsR0FBS0UsSUFBTSxJQUFNam9CLEVBQUksRUFRaENpb0IsSUFEQUEsS0FEQWpvQixJQURBQSxLQURBQyxJQURBQSxLQURBK25CLElBREFBLElBQU1DLEVBQUlob0IsRUFBSUQsR0FBS0MsR0FBSzhuQixFQUFFLEdBQUssVUFBWSxJQUNoQyxFQUFJQyxJQUFNLElBQU1DLEVBQUksR0FDckJqb0IsRUFBSWlvQixHQUFLam9CLEdBQUsrbkIsRUFBRSxJQUFNLFdBQWEsSUFDbEMsRUFBSTluQixJQUFNLElBQU0rbkIsRUFBSSxHQUNyQkMsRUFBSUQsR0FBS0MsR0FBS0YsRUFBRSxHQUFLLFVBQVksSUFDaEMsR0FBSy9uQixJQUFNLElBQU1DLEVBQUksR0FDdEIrbkIsRUFBSS9uQixHQUFLK25CLEdBQUtELEVBQUUsR0FBSyxXQUFhLElBQ2pDLEdBQUtFLElBQU0sSUFBTWpvQixFQUFJLEVBUWhDaW9CLElBREFBLEtBREFqb0IsSUFEQUEsS0FEQUMsSUFEQUEsS0FEQStuQixJQURBQSxJQUFNQyxFQUFJaG9CLEVBQUlELEdBQUtDLEdBQUs4bkIsRUFBRSxJQUFNLFdBQWEsSUFDbEMsRUFBSUMsSUFBTSxJQUFNQyxFQUFJLEdBQ3JCam9CLEVBQUlpb0IsR0FBS2pvQixHQUFLK25CLEVBQUUsR0FBSyxTQUFXLElBQy9CLEVBQUk5bkIsSUFBTSxJQUFNK25CLEVBQUksR0FDckJDLEVBQUlELEdBQUtDLEdBQUtGLEVBQUUsR0FBSyxXQUFhLElBQ2pDLEdBQUsvbkIsSUFBTSxJQUFNQyxFQUFJLEdBQ3RCK25CLEVBQUkvbkIsR0FBSytuQixHQUFLRCxFQUFFLElBQU0sV0FBYSxJQUNsQyxHQUFLRSxJQUFNLElBQU1qb0IsRUFBSSxFQVNoQ2lvQixJQURBQSxLQURBam9CLElBREFBLEtBREFDLElBREFBLEtBREErbkIsSUFEQUEsSUFBTUMsRUFBSWpvQixFQUFJQyxHQUFLOG5CLEVBQUUsR0FBSyxPQUFTLElBQ3hCLEVBQUlDLElBQU0sSUFBTUMsRUFBSSxHQUNyQkEsRUFBSWpvQixHQUFLK25CLEVBQUUsR0FBSyxXQUFhLElBQzVCLEdBQUs5bkIsSUFBTSxJQUFNK25CLEVBQUksR0FDdEJBLEVBQUlDLEdBQUtGLEVBQUUsSUFBTSxXQUFhLElBQzdCLEdBQUsvbkIsSUFBTSxJQUFNQyxFQUFJLEdBQ3RCQSxFQUFJK25CLEdBQUtELEVBQUUsSUFBTSxTQUFXLElBQzNCLEdBQUtFLElBQU0sR0FBS2pvQixFQUFJLEVBUS9CaW9CLElBREFBLEtBREFqb0IsSUFEQUEsS0FEQUMsSUFEQUEsS0FEQStuQixJQURBQSxJQUFNQyxFQUFJam9CLEVBQUlDLEdBQUs4bkIsRUFBRSxHQUFLLFdBQWEsSUFDNUIsRUFBSUMsSUFBTSxJQUFNQyxFQUFJLEdBQ3JCQSxFQUFJam9CLEdBQUsrbkIsRUFBRSxHQUFLLFdBQWEsSUFDNUIsR0FBSzluQixJQUFNLElBQU0rbkIsRUFBSSxHQUN0QkEsRUFBSUMsR0FBS0YsRUFBRSxHQUFLLFVBQVksSUFDM0IsR0FBSy9uQixJQUFNLElBQU1DLEVBQUksR0FDdEJBLEVBQUkrbkIsR0FBS0QsRUFBRSxJQUFNLFdBQWEsSUFDN0IsR0FBS0UsSUFBTSxHQUFLam9CLEVBQUksRUFRL0Jpb0IsSUFEQUEsS0FEQWpvQixJQURBQSxLQURBQyxJQURBQSxLQURBK25CLElBREFBLElBQU1DLEVBQUlqb0IsRUFBSUMsR0FBSzhuQixFQUFFLElBQU0sVUFBWSxJQUM1QixFQUFJQyxJQUFNLElBQU1DLEVBQUksR0FDckJBLEVBQUlqb0IsR0FBSytuQixFQUFFLEdBQUssVUFBWSxJQUMzQixHQUFLOW5CLElBQU0sSUFBTStuQixFQUFJLEdBQ3RCQSxFQUFJQyxHQUFLRixFQUFFLEdBQUssVUFBWSxJQUMzQixHQUFLL25CLElBQU0sSUFBTUMsRUFBSSxHQUN0QkEsRUFBSStuQixHQUFLRCxFQUFFLEdBQUssU0FBVyxJQUMxQixHQUFLRSxJQUFNLEdBQUtqb0IsRUFBSSxFQVEvQmlvQixJQURBQSxLQURBam9CLElBREFBLEtBREFDLElBREFBLEtBREErbkIsSUFEQUEsSUFBTUMsRUFBSWpvQixFQUFJQyxHQUFLOG5CLEVBQUUsR0FBSyxVQUFZLElBQzNCLEVBQUlDLElBQU0sSUFBTUMsRUFBSSxHQUNyQkEsRUFBSWpvQixHQUFLK25CLEVBQUUsSUFBTSxVQUFZLElBQzVCLEdBQUs5bkIsSUFBTSxJQUFNK25CLEVBQUksR0FDdEJBLEVBQUlDLEdBQUtGLEVBQUUsSUFBTSxVQUFZLElBQzVCLEdBQUsvbkIsSUFBTSxJQUFNQyxFQUFJLEdBQ3RCQSxFQUFJK25CLEdBQUtELEVBQUUsR0FBSyxVQUFZLElBQzNCLEdBQUtFLElBQU0sR0FBS2pvQixFQUFJLEVBUy9CaW9CLElBREFBLEtBSEFob0IsSUFEQUEsSUFBTWdvQixJQURORCxJQURBQSxJQUFNaG9CLEdBQUtpb0IsR0FBS2hvQixJQUFNOG5CLEVBQUUsR0FBSyxVQUFZLElBQzlCLEVBQUlDLElBQU0sSUFBTUMsRUFBSSxJQUNmam9CLElBQU0rbkIsRUFBRSxHQUFLLFdBQWEsSUFDL0IsR0FBSzluQixJQUFNLElBQU0rbkIsRUFBSSxLQUVoQ2hvQixJQURBQSxJQUFNZ29CLEdBQUsvbkIsR0FBS2dvQixJQUFNRixFQUFFLElBQU0sV0FBYSxJQUNoQyxHQUFLL25CLElBQU0sSUFBTUMsRUFBSSxJQUNoQituQixJQUFNRCxFQUFFLEdBQUssU0FBVyxJQUM3QixHQUFJRSxJQUFNLElBQU1qb0IsRUFBSSxFQVEvQmlvQixJQURBQSxLQUhBaG9CLElBREFBLElBQU1nb0IsSUFETkQsSUFEQUEsSUFBTWhvQixHQUFLaW9CLEdBQUtob0IsSUFBTThuQixFQUFFLElBQU0sV0FBYSxJQUNoQyxFQUFJQyxJQUFNLElBQU1DLEVBQUksSUFDZmpvQixJQUFNK25CLEVBQUUsR0FBSyxXQUFhLElBQy9CLEdBQUs5bkIsSUFBTSxJQUFNK25CLEVBQUksS0FFaENob0IsSUFEQUEsSUFBTWdvQixHQUFLL25CLEdBQUtnb0IsSUFBTUYsRUFBRSxJQUFNLFFBQVUsSUFDN0IsR0FBSy9uQixJQUFNLElBQU1DLEVBQUksSUFDaEIrbkIsSUFBTUQsRUFBRSxHQUFLLFdBQWEsSUFDL0IsR0FBSUUsSUFBTSxJQUFNam9CLEVBQUksRUFRL0Jpb0IsSUFEQUEsS0FIQWhvQixJQURBQSxJQUFNZ29CLElBRE5ELElBREFBLElBQU1ob0IsR0FBS2lvQixHQUFLaG9CLElBQU04bkIsRUFBRSxHQUFLLFdBQWEsSUFDL0IsRUFBSUMsSUFBTSxJQUFNQyxFQUFJLElBQ2Zqb0IsSUFBTStuQixFQUFFLElBQU0sU0FBVyxJQUM5QixHQUFLOW5CLElBQU0sSUFBTStuQixFQUFJLEtBRWhDaG9CLElBREFBLElBQU1nb0IsR0FBSy9uQixHQUFLZ29CLElBQU1GLEVBQUUsR0FBSyxXQUFhLElBQy9CLEdBQUsvbkIsSUFBTSxJQUFNQyxFQUFJLElBQ2hCK25CLElBQU1ELEVBQUUsSUFBTSxXQUFhLElBQ2hDLEdBQUlFLElBQU0sSUFBTWpvQixFQUFJLEVBUS9CaW9CLElBREFBLEtBSEFob0IsSUFEQUEsSUFBTWdvQixJQURORCxJQURBQSxJQUFNaG9CLEdBQUtpb0IsR0FBS2hvQixJQUFNOG5CLEVBQUUsR0FBSyxVQUFZLElBQzlCLEVBQUlDLElBQU0sSUFBTUMsRUFBSSxJQUNmam9CLElBQU0rbkIsRUFBRSxJQUFNLFdBQWEsSUFDaEMsR0FBSzluQixJQUFNLElBQU0rbkIsRUFBSSxLQUVoQ2hvQixJQURBQSxJQUFNZ29CLEdBQUsvbkIsR0FBS2dvQixJQUFNRixFQUFFLEdBQUssVUFBWSxJQUM5QixHQUFLL25CLElBQU0sSUFBTUMsRUFBSSxJQUNoQituQixJQUFNRCxFQUFFLEdBQUssVUFBWSxJQUM5QixHQUFLRSxJQUFNLElBQU1qb0IsRUFBSSxFQUVoQ29XLEVBQUUsR0FBSzRSLEVBQUk1UixFQUFFLEdBQUssRUFDbEJBLEVBQUUsR0FBSzZSLEVBQUk3UixFQUFFLEdBQUssRUFDbEJBLEVBQUUsR0FBS3BXLEVBQUlvVyxFQUFFLEdBQUssRUFDbEJBLEVBQUUsR0FBS25XLEVBQUltVyxFQUFFLEdBQUssRUFHdEIsU0FBUzhSLEVBQU94bUIsR0FDWixJQUNJL0IsRUFEQXdvQixFQUFVLEdBR2QsSUFBS3hvQixFQUFJLEVBQUdBLEVBQUksR0FBSUEsR0FBSyxFQUNyQndvQixFQUFReG9CLEdBQUssR0FBSytCLEVBQUUwbUIsV0FBV3pvQixJQUFNK0IsRUFBRTBtQixXQUFXem9CLEVBQUksSUFBTSxJQUFNK0IsRUFBRTBtQixXQUFXem9CLEVBQUksSUFBTSxLQUFPK0IsRUFBRTBtQixXQUFXem9CLEVBQUksSUFBTSxJQUUzSCxPQUFPd29CLEVBR1gsU0FBU0UsRUFBYUwsR0FDbEIsSUFDSXJvQixFQURBd29CLEVBQVUsR0FHZCxJQUFLeG9CLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxHQUFLLEVBQ3JCd29CLEVBQVF4b0IsR0FBSyxHQUFLcW9CLEVBQUVyb0IsSUFBTXFvQixFQUFFcm9CLEVBQUksSUFBTSxJQUFNcW9CLEVBQUVyb0IsRUFBSSxJQUFNLEtBQU9xb0IsRUFBRXJvQixFQUFJLElBQU0sSUFFL0UsT0FBT3dvQixFQUdYLFNBQVNHLEVBQUs1bUIsR0FDVixJQUVJL0IsRUFDQXVGLEVBQ0FxakIsRUFDQUMsRUFDQUMsRUFDQUMsRUFQQXRuQixFQUFJTSxFQUFFd0QsT0FDTlksRUFBUSxDQUFDLFlBQWEsV0FBWSxXQUFZLFdBUWxELElBQUtuRyxFQUFJLEdBQUlBLEdBQUt5QixFQUFHekIsR0FBSyxHQUN0Qm1vQixFQUFTaGlCLEVBQU9vaUIsRUFBT3htQixFQUFFaW5CLFVBQVVocEIsRUFBSSxHQUFJQSxLQUsvQyxJQUZBdUYsR0FEQXhELEVBQUlBLEVBQUVpbkIsVUFBVWhwQixFQUFJLEtBQ1R1RixPQUNYcWpCLEVBQU8sQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNoRDVvQixFQUFJLEVBQUdBLEVBQUl1RixFQUFRdkYsR0FBSyxFQUN6QjRvQixFQUFLNW9CLEdBQUssSUFBTStCLEVBQUUwbUIsV0FBV3pvQixLQUFRQSxFQUFJLEdBQU0sR0FHbkQsR0FEQTRvQixFQUFLNW9CLEdBQUssSUFBTSxNQUFVQSxFQUFJLEdBQU0sR0FDaENBLEVBQUksR0FFSixJQURBbW9CLEVBQVNoaUIsRUFBT3lpQixHQUNYNW9CLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxHQUFLLEVBQ3JCNG9CLEVBQUs1b0IsR0FBSyxFQWNsQixPQVJBNm9CLEdBREFBLEVBQVUsRUFBSnBuQixHQUNJK1osU0FBUyxJQUFJOUcsTUFBTSxrQkFDN0JvVSxFQUFLeEosU0FBU3VKLEVBQUksR0FBSSxJQUN0QkUsRUFBS3pKLFNBQVN1SixFQUFJLEdBQUksS0FBTyxFQUU3QkQsRUFBSyxJQUFNRSxFQUNYRixFQUFLLElBQU1HLEVBRVhaLEVBQVNoaUIsRUFBT3lpQixHQUNUemlCLEVBbURYLFNBQVM4aUIsRUFBS3huQixHQUNWLElBQ0k0UixFQURBdFIsRUFBSSxHQUVSLElBQUtzUixFQUFJLEVBQUdBLEVBQUksRUFBR0EsR0FBSyxFQUNwQnRSLEdBQUttbUIsRUFBU3ptQixHQUFVLEVBQUo0UixFQUFRLEVBQU0sSUFBUTZVLEVBQVN6bUIsR0FBVSxFQUFKNFIsRUFBVSxJQUV2RSxPQUFPdFIsRUFHWCxTQUFTbW5CLEVBQUl6UyxHQUNULElBQUl6VyxFQUNKLElBQUtBLEVBQUksRUFBR0EsRUFBSXlXLEVBQUVsUixPQUFRdkYsR0FBSyxFQUMzQnlXLEVBQUV6VyxHQUFLaXBCLEVBQUt4UyxFQUFFelcsSUFFbEIsT0FBT3lXLEVBQUVrTixLQUFLLElBbUVsQixTQUFTd0YsRUFBT0MsR0FLWixNQUpJLGtCQUFrQmxmLEtBQUtrZixLQUN2QkEsRUFBTUMsU0FBU0MsbUJBQW1CRixLQUcvQkEsRUE2QlgsU0FBU0csRUFBa0JMLEdBQ3ZCLElBRUl6UyxFQUZBK1MsRUFBUSxHQUNSamtCLEVBQVMyakIsRUFBSTNqQixPQUdqQixJQUFLa1IsRUFBSSxFQUFHQSxFQUFJbFIsRUFBUyxFQUFHa1IsR0FBSyxFQUM3QitTLEVBQU1sa0IsS0FBS2dhLFNBQVM0SixFQUFJcE0sT0FBT3JHLEVBQUcsR0FBSSxLQUcxQyxPQUFPOVEsT0FBTzhqQixhQUFhcm5CLE1BQU11RCxPQUFRNmpCLEdBWTdDLFNBQVNFLElBRUx4bUIsS0FBS3ltQixRQXdUVCxPQWhiSVQsRUFBSVAsRUFBSyxVQWdCYyxvQkFBaEJpQixhQUFnQ0EsWUFBWWhvQixVQUFVZ0MsT0FDN0QsV0FDSSxTQUFTaW1CLEVBQU1DLEVBQUt2a0IsR0FHaEIsT0FGQXVrQixFQUFhLEVBQU5BLEdBQVksR0FFVCxFQUNDemUsS0FBS0MsSUFBSXdlLEVBQU12a0IsRUFBUSxHQUczQjhGLEtBQUt3SixJQUFJaVYsRUFBS3ZrQixHQUd6QnFrQixZQUFZaG9CLFVBQVVnQyxNQUFRLFNBQVUwTCxFQUFNeWEsR0FDMUMsSUFHSUMsRUFDQTNuQixFQUNBNG5CLEVBQ0FDLEVBTkEza0IsRUFBU3JDLEtBQUtpbkIsV0FDZEMsRUFBUVAsRUFBTXZhLEVBQU0vSixHQUNwQjhrQixFQUFNOWtCLEVBVVYsT0FKSXdrQixJQUFPM2xCLElBQ1BpbUIsRUFBTVIsRUFBTUUsRUFBSXhrQixJQUdoQjZrQixFQUFRQyxFQUNELElBQUlULFlBQVksSUFHM0JJLEVBQU1LLEVBQU1ELEVBQ1ovbkIsRUFBUyxJQUFJdW5CLFlBQVlJLEdBQ3pCQyxFQUFjLElBQUlLLFdBQVdqb0IsR0FFN0I2bkIsRUFBYyxJQUFJSSxXQUFXcG5CLEtBQU1rbkIsRUFBT0osR0FDMUNDLEVBQVk5aUIsSUFBSStpQixHQUVUN25CLElBbkNmLEdBa0hKcW5CLEVBQVM5bkIsVUFBVTBLLE9BQVMsU0FBVThjLEdBS2xDLE9BRkFsbUIsS0FBS3FuQixhQUFhcEIsRUFBT0MsSUFFbEJsbUIsTUFVWHdtQixFQUFTOW5CLFVBQVUyb0IsYUFBZSxTQUFVaEcsR0FDeENyaEIsS0FBS3NuQixPQUFTakcsRUFDZHJoQixLQUFLdW5CLFNBQVdsRyxFQUFTaGYsT0FFekIsSUFDSXZGLEVBREF1RixFQUFTckMsS0FBS3NuQixNQUFNamxCLE9BR3hCLElBQUt2RixFQUFJLEdBQUlBLEdBQUt1RixFQUFRdkYsR0FBSyxHQUMzQm1vQixFQUFTamxCLEtBQUt3bkIsTUFBT25DLEVBQU9ybEIsS0FBS3NuQixNQUFNeEIsVUFBVWhwQixFQUFJLEdBQUlBLEtBSzdELE9BRkFrRCxLQUFLc25CLE1BQVF0bkIsS0FBS3NuQixNQUFNeEIsVUFBVWhwQixFQUFJLElBRS9Ca0QsTUFXWHdtQixFQUFTOW5CLFVBQVV5b0IsSUFBTSxTQUFVTSxHQUMvQixJQUVJM3FCLEVBRUF5RyxFQUpBbWtCLEVBQU8xbkIsS0FBS3NuQixNQUNaamxCLEVBQVNxbEIsRUFBS3JsQixPQUVkcWpCLEVBQU8sQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUd6RCxJQUFLNW9CLEVBQUksRUFBR0EsRUFBSXVGLEVBQVF2RixHQUFLLEVBQ3pCNG9CLEVBQUs1b0IsR0FBSyxJQUFNNHFCLEVBQUtuQyxXQUFXem9CLEtBQVFBLEVBQUksR0FBTSxHQVl0RCxPQVRBa0QsS0FBSzJuQixRQUFRakMsRUFBTXJqQixHQUNuQmtCLEVBQU15aUIsRUFBSWhtQixLQUFLd25CLE9BRVhDLElBQ0Fsa0IsRUFBTThpQixFQUFrQjlpQixJQUc1QnZELEtBQUt5bUIsUUFFRWxqQixHQVFYaWpCLEVBQVM5bkIsVUFBVStuQixNQUFRLFdBS3ZCLE9BSkF6bUIsS0FBS3NuQixNQUFRLEdBQ2J0bkIsS0FBS3VuQixRQUFVLEVBQ2Z2bkIsS0FBS3duQixNQUFRLENBQUMsWUFBYSxXQUFZLFdBQVksV0FFNUN4bkIsTUFRWHdtQixFQUFTOW5CLFVBQVVrcEIsU0FBVyxXQUMxQixNQUFPLENBQ0hGLEtBQU0xbkIsS0FBS3NuQixNQUNYamxCLE9BQVFyQyxLQUFLdW5CLFFBQ2JNLEtBQU03bkIsS0FBS3duQixNQUFNOW1CLFVBV3pCOGxCLEVBQVM5bkIsVUFBVW9wQixTQUFXLFNBQVU3a0IsR0FLcEMsT0FKQWpELEtBQUtzbkIsTUFBUXJrQixFQUFNeWtCLEtBQ25CMW5CLEtBQUt1bkIsUUFBVXRrQixFQUFNWixPQUNyQnJDLEtBQUt3bkIsTUFBUXZrQixFQUFNNGtCLEtBRVo3bkIsTUFPWHdtQixFQUFTOW5CLFVBQVVxcEIsUUFBVSxrQkFDbEIvbkIsS0FBS3duQixhQUNMeG5CLEtBQUtzbkIsYUFDTHRuQixLQUFLdW5CLFNBU2hCZixFQUFTOW5CLFVBQVVpcEIsUUFBVSxTQUFVakMsRUFBTXJqQixHQUN6QyxJQUNJc2pCLEVBQ0FDLEVBQ0FDLEVBSEEvb0IsRUFBSXVGLEVBTVIsR0FEQXFqQixFQUFLNW9CLEdBQUssSUFBTSxNQUFVQSxFQUFJLEdBQU0sR0FDaENBLEVBQUksR0FFSixJQURBbW9CLEVBQVNqbEIsS0FBS3duQixNQUFPOUIsR0FDaEI1b0IsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLEdBQUssRUFDckI0b0IsRUFBSzVvQixHQUFLLEVBT2xCNm9CLEdBREFBLEVBQXFCLEVBQWYzbEIsS0FBS3VuQixTQUNEalAsU0FBUyxJQUFJOUcsTUFBTSxrQkFDN0JvVSxFQUFLeEosU0FBU3VKLEVBQUksR0FBSSxJQUN0QkUsRUFBS3pKLFNBQVN1SixFQUFJLEdBQUksS0FBTyxFQUU3QkQsRUFBSyxJQUFNRSxFQUNYRixFQUFLLElBQU1HLEVBQ1haLEVBQVNqbEIsS0FBS3duQixNQUFPOUIsSUFZekJjLEVBQVNxQixLQUFPLFNBQVUzQixFQUFLdUIsR0FHM0IsT0FBT2pCLEVBQVN3QixXQUFXL0IsRUFBT0MsR0FBTXVCLElBVzVDakIsRUFBU3dCLFdBQWEsU0FBVTVQLEVBQVNxUCxHQUNyQyxJQUNJbGtCLEVBQU15aUIsRUFEQ1AsRUFBS3JOLElBR2hCLE9BQU9xUCxFQUFNcEIsRUFBa0I5aUIsR0FBT0EsR0FVMUNpakIsRUFBU0UsWUFBYyxXQUVuQjFtQixLQUFLeW1CLFNBVVRELEVBQVNFLFlBQVlob0IsVUFBVTBLLE9BQVMsU0FBVTlGLEdBQzlDLElBRUl4RyxFQWhQeUJtckIsRUFBT0MsRUFBUUMsRUFDeEM1SSxFQTZPQW1JLEdBOU95Qk8sRUE4T01qb0IsS0FBS3NuQixNQUFNYyxPQTlPVkYsRUE4T2tCNWtCLEVBOU9WNmtCLEdBOE9lLEdBN092RDVJLEVBQVMsSUFBSTZILFdBQVdhLEVBQU1oQixXQUFhaUIsRUFBT2pCLGFBRS9DaGpCLElBQUksSUFBSW1qQixXQUFXYSxJQUMxQjFJLEVBQU90YixJQUFJLElBQUltakIsV0FBV2MsR0FBU0QsRUFBTWhCLFlBRWxDa0IsRUFBbUI1SSxFQUFTQSxFQUFPNkksUUF5T3RDL2xCLEVBQVNxbEIsRUFBS3JsQixPQUtsQixJQUZBckMsS0FBS3VuQixTQUFXamtCLEVBQUkyakIsV0FFZm5xQixFQUFJLEdBQUlBLEdBQUt1RixFQUFRdkYsR0FBSyxHQUMzQm1vQixFQUFTamxCLEtBQUt3bkIsTUFBT2hDLEVBQWFrQyxFQUFLVyxTQUFTdnJCLEVBQUksR0FBSUEsS0FLNUQsT0FGQWtELEtBQUtzbkIsTUFBU3hxQixFQUFJLEdBQU11RixFQUFTLElBQUkra0IsV0FBV00sRUFBS1UsT0FBTzFuQixNQUFNNUQsRUFBSSxLQUFPLElBQUlzcUIsV0FBVyxHQUVyRnBuQixNQVdYd21CLEVBQVNFLFlBQVlob0IsVUFBVXlvQixJQUFNLFNBQVVNLEdBQzNDLElBR0kzcUIsRUFDQXlHLEVBSkFta0IsRUFBTzFuQixLQUFLc25CLE1BQ1pqbEIsRUFBU3FsQixFQUFLcmxCLE9BQ2RxakIsRUFBTyxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBSXpELElBQUs1b0IsRUFBSSxFQUFHQSxFQUFJdUYsRUFBUXZGLEdBQUssRUFDekI0b0IsRUFBSzVvQixHQUFLLElBQU00cUIsRUFBSzVxQixLQUFRQSxFQUFJLEdBQU0sR0FZM0MsT0FUQWtELEtBQUsybkIsUUFBUWpDLEVBQU1yakIsR0FDbkJrQixFQUFNeWlCLEVBQUlobUIsS0FBS3duQixPQUVYQyxJQUNBbGtCLEVBQU04aUIsRUFBa0I5aUIsSUFHNUJ2RCxLQUFLeW1CLFFBRUVsakIsR0FRWGlqQixFQUFTRSxZQUFZaG9CLFVBQVUrbkIsTUFBUSxXQUtuQyxPQUpBem1CLEtBQUtzbkIsTUFBUSxJQUFJRixXQUFXLEdBQzVCcG5CLEtBQUt1bkIsUUFBVSxFQUNmdm5CLEtBQUt3bkIsTUFBUSxDQUFDLFlBQWEsV0FBWSxXQUFZLFdBRTVDeG5CLE1BUVh3bUIsRUFBU0UsWUFBWWhvQixVQUFVa3BCLFNBQVcsV0FDdEMsSUFuVHlCRixFQW1UckJ6a0IsRUFBUXVqQixFQUFTOW5CLFVBQVVrcEIsU0FBUzNxQixLQUFLK0MsTUFLN0MsT0FGQWlELEVBQU15a0IsTUF0VG1CQSxFQXNUUXprQixFQUFNeWtCLEtBclRoQ2psQixPQUFPOGpCLGFBQWFybkIsTUFBTSxLQUFNLElBQUlrb0IsV0FBV00sS0F1VC9DemtCLEdBVVh1akIsRUFBU0UsWUFBWWhvQixVQUFVb3BCLFNBQVcsU0FBVTdrQixHQUloRCxPQUZBQSxFQUFNeWtCLEtBalZWLFNBQTZCeEIsRUFBS2lDLEdBQzlCLElBR0dyckIsRUFIQ3VGLEVBQVM2akIsRUFBSTdqQixPQUNkcWxCLEVBQU8sSUFBSWhCLFlBQVlya0IsR0FDdkJpQixFQUFNLElBQUk4akIsV0FBV00sR0FHeEIsSUFBSzVxQixFQUFJLEVBQUdBLEVBQUl1RixFQUFRdkYsR0FBSyxFQUN6QndHLEVBQUl4RyxHQUFLb3BCLEVBQUlYLFdBQVd6b0IsR0FHNUIsT0FBT3FyQixFQUFtQjdrQixFQUFNb2tCLEVBdVVuQlksQ0FBb0JybEIsRUFBTXlrQixNQUFNLEdBRXRDbEIsRUFBUzluQixVQUFVb3BCLFNBQVM3cUIsS0FBSytDLEtBQU1pRCxJQUdsRHVqQixFQUFTRSxZQUFZaG9CLFVBQVVxcEIsUUFBVXZCLEVBQVM5bkIsVUFBVXFwQixRQUU1RHZCLEVBQVNFLFlBQVlob0IsVUFBVWlwQixRQUFVbkIsRUFBUzluQixVQUFVaXBCLFFBVTVEbkIsRUFBU0UsWUFBWW1CLEtBQU8sU0FBVXZrQixFQUFLbWtCLEdBQ3ZDLElBQ0lsa0IsRUFBTXlpQixFQTdlZCxTQUFvQmIsR0FDaEIsSUFFSXJvQixFQUNBdUYsRUFDQXFqQixFQUNBQyxFQUNBQyxFQUNBQyxFQVBBdG5CLEVBQUk0bUIsRUFBRTlpQixPQUNOWSxFQUFRLENBQUMsWUFBYSxXQUFZLFdBQVksV0FRbEQsSUFBS25HLEVBQUksR0FBSUEsR0FBS3lCLEVBQUd6QixHQUFLLEdBQ3RCbW9CLEVBQVNoaUIsRUFBT3VpQixFQUFhTCxFQUFFa0QsU0FBU3ZyQixFQUFJLEdBQUlBLEtBV3BELElBSkFxb0IsRUFBS3JvQixFQUFJLEdBQU15QixFQUFJNG1CLEVBQUVrRCxTQUFTdnJCLEVBQUksSUFBTSxJQUFJc3FCLFdBQVcsR0FFdkQva0IsRUFBUzhpQixFQUFFOWlCLE9BQ1hxakIsRUFBTyxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ2hENW9CLEVBQUksRUFBR0EsRUFBSXVGLEVBQVF2RixHQUFLLEVBQ3pCNG9CLEVBQUs1b0IsR0FBSyxJQUFNcW9CLEVBQUVyb0IsS0FBUUEsRUFBSSxHQUFNLEdBSXhDLEdBREE0b0IsRUFBSzVvQixHQUFLLElBQU0sTUFBVUEsRUFBSSxHQUFNLEdBQ2hDQSxFQUFJLEdBRUosSUFEQW1vQixFQUFTaGlCLEVBQU95aUIsR0FDWDVvQixFQUFJLEVBQUdBLEVBQUksR0FBSUEsR0FBSyxFQUNyQjRvQixFQUFLNW9CLEdBQUssRUFlbEIsT0FUQTZvQixHQURBQSxFQUFVLEVBQUpwbkIsR0FDSStaLFNBQVMsSUFBSTlHLE1BQU0sa0JBQzdCb1UsRUFBS3hKLFNBQVN1SixFQUFJLEdBQUksSUFDdEJFLEVBQUt6SixTQUFTdUosRUFBSSxHQUFJLEtBQU8sRUFFN0JELEVBQUssSUFBTUUsRUFDWEYsRUFBSyxJQUFNRyxFQUVYWixFQUFTaGlCLEVBQU95aUIsR0FFVHppQixFQStiSXNsQixDQUFXLElBQUluQixXQUFXOWpCLEtBR3JDLE9BQU9ta0IsRUFBTXBCLEVBQWtCOWlCLEdBQU9BLEdBR25DaWpCLEVBMXVCY2dDLEksNkJDRXpCLFNBQVNDLEVBQWFDLEdBQ3BCLEdBQW9CLEtBQWhCQSxFQUFLcm1CLE9BQ1AsTUFBTyxHQUdULFNBQVNzbUIsRUFBSUMsRUFBa0JDLEdBQzdCLE9BQU9ELEVBQVdDLEVBQVF2USxTQUFTLElBQUl3USxTQUFTLEVBQUcsS0FHckQsT0FBT0osRUFBS2hvQixNQUFNLEVBQUcsR0FBR3FvQixPQUFPSixFQUFJLElBQ2pDLElBQU1ELEVBQUtob0IsTUFBTSxFQUFHLEdBQUdxb0IsT0FBT0osRUFBSSxJQUNsQyxJQUFNRCxFQUFLaG9CLE1BQU0sRUFBRyxHQUFHcW9CLE9BQU9KLEVBQUksSUFDbEMsSUFBTUQsRUFBS2hvQixNQUFNLEVBQUcsSUFBSXFvQixPQUFPSixFQUFJLElBQ25DLElBQU1ELEVBQUtob0IsTUFBTSxJQUFJcW9CLE9BQU9KLEVBQUksSSxpRUFNcEMsb0JBRUUsUUFBc0J6bkIsSUFBbEIwSCxPQUFPb2dCLE9BQ1QsT0FBT1AsRUFBWSxJQUFJckIsV0FBVyxLQUlwQyxNQUFNNkIsRUFBUyxJQUFJN0IsV0FBVyxJQUN4QjhCLEVBQVk5QixXQUFXaGIsS0FBSyxDQUNoQ2dRLFNBQVMsV0FBWSxHQUNyQkEsU0FBUyxXQUFZLEdBQ3JCQSxTQUFTLFdBQVksR0FDckJBLFNBQVMsV0FBWSxLQU92QixPQUxBeFQsT0FBT29nQixPQUFPRyxnQkFBZ0JGLEdBRTlCQSxFQUFPLEdBQU1BLEVBQU8sR0FBS0MsRUFBVSxHQUFNQSxFQUFVLEdBQ25ERCxFQUFPLEdBQU1BLEVBQU8sR0FBS0MsRUFBVSxHQUFNQSxFQUFVLEdBRTVDVCxFQUFZUSxLLHlNQ3BDckIsTUFBTUcsRUFBeUIsQ0FDN0IsbUJBQ0Esb0JBQ0EsbUJBQ0Esb0JBQ0EsbUJBQ0Esa0JBQ0Esc0JBT0YsU0FBZ0JsZCxFQUFZb0IsR0FDMUIsSUFBSTZGLEVBRUZBLEVBREU3RixFQUNTQSxFQUFNMUIsaUJBQWlCLGdDQUV2QnJELFNBQVNxRCxpQkFBaUIsZ0NBRXZDdUgsRUFBU3RILFFBQVFvQyxJQUNmLEdBQXFCLFNBQWpCQSxFQUFLMFcsU0FBdUIxVyxFQUFLQyxRQUFRLFVBQVVqRixVQUFVOEMsU0FBUyxZQUVuRSxHQUFJa0MsRUFBS2hGLFVBQVU4QyxTQUFTLGFBQWVrQyxFQUFLQyxRQUFRLFVBQVVqRixVQUFVOEMsU0FBUyxZQUMxRmtDLEVBQUsxQixhQUFhLFNBQVUsZUFFekIsQ0FDSDBCLEVBQUtqQyxnQkFBZ0IsUUFDckIsSUFBSXFkLEVBQVFwYixFQUFLckMsaUJBQWlCLHdCQUNsQyxJQUFLeWQsRUFBTWhuQixPQUNULElBQ0VnbkIsRUFBUXBiLEVBQUtDLFFBQVEsYUFBYXRDLGlCQUFpQix3QkFDbkQsTUFBTzRMLEdBQ1A2UixFQUFRLEdBR1pBLEVBQU14ZCxTQUFRLFNBQVU2WSxHQUNsQkEsRUFBS3hXLFFBQVEsYUFBYWpGLFVBQVU4QyxTQUFTLGFBQy9DMlksRUFBS3hXLFFBQVEsVUFBVWpGLFVBQVU4QyxTQUFTLGFBQzFDMlksRUFBS3hXLFFBQVEsUUFBUWpGLFVBQVU4QyxTQUFTLFlBR3hDMlksRUFBS3JiLE1BQU04QyxLQUFPLE9BRWxCdVksRUFBS3JiLE1BQU04QyxLQUFPLE9BRXBCdVksRUFBS3piLFVBQVVSLE9BQU8sdUJBeEJ4QndGLEVBQUsxQixhQUFhLFNBQVUsV0EyQjlCMEIsRUFBS2hGLFVBQVVSLE9BQU8saUJBTzFCLFNBQWdCNmdCLElBQ2RwZCxJQU1GLFNBQWdCZ1AsSUFDZG9PLElBQ29COWxCLE1BQU00SSxLQUFLN0QsU0FBU21ELHVCQUF1QixnQkFDNURpRixPQUFRMUMsSUFBdUJBLEVBQUt2QixjQUFjekQsVUFBVThDLFNBQVMsYUFDNURGLFFBQVNvQyxJQUNuQkEsRUFBSzFCLGFBQWEsT0FBUSxNQUMxQixJQUFJOGMsRUFBUXBiLEVBQUtyQyxpQkFBaUIsd0JBQzdCeWQsRUFBTWhuQixRQUN5QixPQUE5QjRMLEVBQUtDLFFBQVEsZUFDZm1iLEVBQVFwYixFQUFLQyxRQUFRLGFBQWF0QyxpQkFBaUIsd0JBR3ZEeWQsRUFBTXhkLFNBQVEsU0FBVTZZLEdBQ2xCQSxFQUFLeFcsUUFBUSxhQUFhakYsVUFBVThDLFNBQVMsYUFDakQyWSxFQUFLeFcsUUFBUSxRQUFRakYsVUFBVThDLFNBQVMsWUFFdEMyWSxFQUFLcmIsTUFBTThDLEtBQU8sT0FFbEJ1WSxFQUFLcmIsTUFBTThDLEtBQU8sT0FFcEJ1WSxFQUFLemIsVUFBVVIsT0FBTyxrQkFFeEJ3RixFQUFLaEYsVUFBVVIsT0FBTyxlQUN0QndGLEVBQUtyQyxpQkFBaUIsdUJBQXVCQyxRQUFRNlksSUFDbkRBLEVBQUt6YixVQUFVUixPQUFPLG1CQUcxQmpGLE1BQU00SSxLQUFLN0QsU0FBU21ELHVCQUF1QixhQUFhRyxRQUFTZ0IsSUFBU0EsRUFBR04sYUFBYSxPQUFRLE1BTXBHLFNBQWdCaUIsRUFBVUYsRUFBb0JSLEdBQzVDLE1BQU1xRyxFQUFXM1AsTUFBTTRJLEtBQUtrQixFQUFNNkYsVUFDbEMsSUFBSyxJQUFJclcsRUFBSSxFQUFHQSxFQUFJcVcsRUFBUzlRLE9BQVF2RixJQUFLLENBQ3hDLE1BQU15c0IsRUFBUXBXLEVBQVNyVyxHQUN2QixHQUFzQixTQUFsQnlzQixFQUFNNUUsUUFDUjRFLEVBQU1oZCxhQUFhLFNBQVVPLFFBQ3hCLEdBQUl5YyxFQUFNdGdCLFVBQVU4QyxTQUFTLFdBQ2xDd2QsRUFBTWhkLGFBQWEsU0FBVU8sR0FDN0J5YyxFQUFNaGQsYUFBYSxlQUFnQixhQUM5QixHQUFJZ2QsRUFBTTNkLGlCQUFpQixZQUFZdkosUUFBVWtuQixFQUFNdGdCLFVBQVU4QyxTQUFTLFlBQy9FdkksTUFBTTRJLEtBQUttZCxFQUFNcFcsVUFBVXhDLE9BQU85RCxHQUFNQSxFQUFHakIsaUJBQWlCLGFBQWFDLFFBQVEyZCxJQUFZclcsRUFBUy9RLEtBQUtvbkIsU0FFeEcsSUFBSUQsRUFBTXRnQixVQUFVOEMsU0FBUyxnQkFBK0IsZUFBYndkLEVBQU16aEIsSUFBdUJ5aEIsRUFBTXRnQixVQUFVOEMsU0FBUyxlQUN4RyxPQUNLLEdBQUl3ZCxFQUFNdGdCLFVBQVU4QyxTQUFTLFNBQ2xDdkksTUFBTTRJLEtBQUttZCxFQUFNcFcsVUFBVXRILFFBQVEyZCxJQUFZclcsRUFBUy9RLEtBQUtvbkIsVUFDeEQsR0FBSWpoQixTQUFTbUQsdUJBQXVCLHNCQUFzQnJKLFFBQ0Msb0JBQWhFa0csU0FBU21ELHVCQUF1QixzQkFBc0IsR0FBRzVELElBQ3REeWhCLEVBQU10Z0IsVUFBVThDLFNBQVMsWUFDNUJ2SSxNQUFNNEksS0FBS21kLEVBQU1wVyxVQUFVeEMsT0FBTzlELEdBQU1BLEVBQUc1RCxVQUFVOEMsU0FBUyxVQUFVRixRQUFRMmQsSUFBWXJXLEVBQVMvUSxLQUFLb25CLFNBQ3JHLENBQ0xELEVBQU1oZCxhQUFhLE9BQVFPLEdBQzNCLElBQUl1YyxFQUFRRSxFQUFNM2QsaUJBQWlCLHdCQUNuQyxJQUFLeWQsRUFBTWhuQixPQUNULElBQ0VnbkIsRUFBUUUsRUFBTXJiLFFBQVEsYUFBYXRDLGlCQUFpQix3QkFDcEQsTUFBTzRMLEdBQ1A2UixFQUFRLEdBR1pBLEVBQU14ZCxTQUFRLFNBQVU2WSxHQUNoQkEsRUFBS3hXLFFBQVEsYUFBYWpGLFVBQVU4QyxTQUFTLGFBQ2pEMlksRUFBS3hXLFFBQVEsUUFBUWpGLFVBQVU4QyxTQUFTLGFBQ3hDMlksRUFBS3hXLFFBQVEsVUFBVWpGLFVBQVU4QyxTQUFTLGNBRzFDMlksRUFBS3JiLE1BQU04QyxLQUFPVyxFQUNsQjRYLEVBQUt6YixVQUFVQyxJQUFJLG9CQUl6QnFnQixFQUFNdGdCLFVBQVVDLElBQUksZUFFdEIsSUFPSW9ELEVBT0ZBLEVBQVMsT0FFWGdCLEVBQU0xQixpQkFBaUIsK0JBQStCQyxRQUFRZ0IsSUFDNURBLEVBQUdOLGFBQWEsU0FBVSxTQUMxQk0sRUFBR04sYUFBYSxlQUFnQkQsS0FPcEMsU0FBZ0JtZCxJQUNkLE1BQU1uSixFQUFTOWMsTUFBTTRJLEtBQUs3RCxTQUFTbUQsdUJBQXVCLFVBQzFELElBQUssSUFBSTVPLEVBQUksRUFBR0EsRUFBSXdqQixFQUFPamUsT0FBUXZGLElBQUssQ0FDdEMsTUFBTTRzQixFQUFhTixFQUFhdHNCLEVBQUlzc0IsRUFBYS9tQixRQUNqRG1MLEVBQVU4UyxFQUFPeGpCLEdBQUk0c0IsSUEzSnpCLGdCQTJDQSx3QkFPQSwyQkFpQ0EsY0FvRUEsc0JBcUNBLGdDQUFnQnRPLEVBQXFCakosR0FFbkMsR0FEQStJLElBQ2lCLFVBQWIvSSxFQUVGLFlBREFzWCxJQUdHLEdBQWlCLFdBQWJ0WCxFQUVQLFlBckNKLFdBQ0UsTUFBT0ssRUFBMkMsR0FFbERqSyxTQUFTcUQsaUJBQWlCLFVBQVVDLFFBQVN5QixJQUMzQyxNQUFNa1QsRUFBWWhkLE1BQU00SSxLQUFLa0IsRUFBTXJFLFdBQVd3WCxLQUFLLEtBQUtqUCxNQUFNLG1CQUM5RCxJQUFJbVksRUFBWSxFQUNabkosSUFDRm1KLEVBQVl2TixTQUFTb0UsRUFBVSxHQUFJLElBQU0sR0FHdENoTyxFQUFPbVgsS0FDVm5YLEVBQU9tWCxHQUFhLElBR3RCblgsRUFBT21YLEdBQVd2bkIsS0FBS2tMLEtBR3pCLElBQUssTUFBT3NjLEVBQVF0SixLQUFXOWlCLE9BQU8yWixRQUFRM0UsR0FBUyxDQUNyRCxNQUFNMUYsRUFBUXNjLEVBQWF4cEIsT0FBT2dxQixHQUFVUixFQUFhL21CLFFBQ3pELElBQUssTUFBTWlMLEtBQVNnVCxFQUNsQjlTLEVBQVVGLEVBQU9SLElBZ0JuQitjLEdBR0csR0FBaUIsY0FBYjFYLEVBQTBCLENBRWpDLE9BRGE1SixTQUFTaUgsY0FBYyxxQkFBcUIxSCxJQUV2RCxJQUFLLGdCQUNMLElBQUssWUFDSHFLLEVBQVcsV0FDWCxNQUNGLElBQUssY0FDSEEsRUFBVyxTQUNYLE1BQ0YsSUFBSyxhQUNIQSxFQUFXLFFBQ1gsTUFDRixJQUFLLG9CQUNIQSxFQUFXLGVBQ1gsTUFDRixJQUFLLGFBQ0wsUUFDRUEsRUFBVyxRQUlmLFlBREFpSixFQUFxQmpKLEdBR3ZCLElBQUlLLEVBR0ZBLEVBRGMsZ0JBQVpMLEVBQ081SixTQUFTcUQsaUJBQWlCLG9DQUcxQnJELFNBQVNtRCx1QkFBdUJ5RyxHQUczQzVKLFNBQVNxRCxpQkFBaUIseUNBQXlDQyxRQUFRZ0IsSUFDekVBLEVBQUdOLGFBQWEsU0FBVSxTQUMxQk0sRUFBR04sYUFBYSxlQUFnQixVQUdsQyxJQUFLLElBQUl6UCxFQUFJLEVBQUdBLEVBQUkwVixFQUFPblEsT0FBUXZGLElBQUssQ0FDdEMsTUFBTWd0QixFQUFhVixFQUFhdHNCLEVBQUlzc0IsRUFBYS9tQixRQUNqRCxHQUF3QyxPQUFuQ21RLEVBQU8xVixHQUFHb1IsUUFBUSxjQUEyQnNFLEVBQU8xVixHQUFHbU0sVUFBVThDLFNBQVMsWUFpQnhFeUcsRUFBTzFWLEdBQUdtTSxVQUFVOEMsU0FBUyxZQUdoQ3lHLEVBQU8xVixHQUFHeVAsYUFBYSxPQUFRLFFBRi9CaUcsRUFBTzFWLEdBQUd5UCxhQUFhLE9BQVEsTUFJakNpRyxFQUFPMVYsR0FBR21NLFVBQVVSLE9BQU8sbUJBdEIrRCxDQUMxRitKLEVBQU8xVixHQUFHeVAsYUFBYSxPQUFRdWQsR0FDakJ0WCxFQUFPMVYsR0FBRzhPLGlCQUFpQix3QkFDbkNDLFNBQVEsU0FBVTZZLEdBQ2xCQSxFQUFLeFcsUUFBUSxRQUFRakYsVUFBVThDLFNBQVMsYUFDMUMyWSxFQUFLeFcsUUFBUSxhQUFhakYsVUFBVThDLFNBQVMsYUFDN0MyWSxFQUFLeFcsUUFBUSxVQUFVakYsVUFBVThDLFNBQVMsY0FJNUMyWSxFQUFLcmIsTUFBTThDLEtBQU8yZCxNQUVwQnRYLEVBQU8xVixHQUFHbU0sVUFBVUMsSUFBSSxlQUN4QnNKLEVBQU8xVixHQUFHOE8saUJBQWlCLHdCQUF3QkMsUUFBUTZZLElBQ3pEQSxFQUFLemIsVUFBVUMsSUFBSSxpQkFXdkIsTUFBTTZnQixFQUFrQnZYLEVBQU8xVixHQUFHOE8saUJBQWlCLFlBQ25ELEdBQUltZSxFQUNGLElBQUssSUFBSTVaLEVBQUksRUFBR0EsRUFBSTRaLEVBQWdCMW5CLE9BQVE4TixJQUMxQzRaLEVBQWdCNVosR0FBRzVELGFBQWEsU0FBVXVkLEdBQzFDQyxFQUFnQjVaLEdBQUc1RCxhQUFhLGVBQWdCLFcsNkJDOVJ4RCxJQUFJeWQsRUFBTSxFQUFRLElBRWRDLEVBQWtCcnRCLEVBQVFxdEIsZ0JBQWtCLFNBQTBCeGxCLEVBQVN5bEIsRUFBVUMsRUFBUTlZLEVBQU1oVSxFQUFNK3NCLEdBWS9HLEdBWEc1bUIsTUFBTTZtQixRQUFRaFosSUFDZnJSLEtBQUtxUixLQUFPQSxFQUNaclIsS0FBS3ZCLFNBQVc0UyxFQUFLMFgsUUFBTyxTQUFTdUIsRUFBS0MsR0FDeEMsT0FBT0QsRUFBTUUsRUFBV0QsS0FDdkIsa0JBQ2FycEIsSUFBVG1RLElBQ1ByUixLQUFLdkIsU0FBVzRTLEdBRWQ1TSxJQUNGekUsS0FBS3lFLFFBQVVBLEdBRWIwbEIsRUFBUSxDQUNWLElBQUlyaUIsRUFBS3FpQixFQUFPTSxLQUFPTixFQUFPcmlCLEdBQzlCOUgsS0FBS21xQixPQUFTcmlCLEdBQU1xaUIsT0FFTGpwQixJQUFiZ3BCLElBQ0ZscUIsS0FBS2txQixTQUFXQSxHQUVsQmxxQixLQUFLM0MsS0FBT0EsRUFDWjJDLEtBQUtvcUIsU0FBV0EsRUFDaEJwcUIsS0FBSzBxQixNQUFRMXFCLEtBQUtzWSxZQUdwQjJSLEVBQWdCdnJCLFVBQVU0WixTQUFXLFdBQ25DLE9BQU90WSxLQUFLdkIsU0FBVyxJQUFNdUIsS0FBS3lFLFNBR3BDLElBQUlrbUIsRUFBa0IvdEIsRUFBUSt0QixnQkFBa0IsU0FBeUJULEVBQVVDLEVBQVF0TSxFQUFTK00sR0FDbEc1cUIsS0FBS2txQixTQUFXQSxFQUNoQmxxQixLQUFLbXFCLE9BQVNBLEVBQ2RucUIsS0FBSzZkLFFBQVVBLEVBQ2Y3ZCxLQUFLcVIsS0FBT3VaLEVBQUl2WixLQUNoQnJSLEtBQUs2cUIsYUFBZUQsRUFBSUMsYUFDeEI3cUIsS0FBSzhxQixPQUFTLEdBQ2Q5cUIsS0FBSytxQixXQUFhbE4sR0FBV0EsRUFBUWtOLFdBQ3JDL3FCLEtBQUtnckIsV0FBYW5OLEdBQVdBLEVBQVFtTixXQUNyQ2hyQixLQUFLaXJCLFNBQVdwTixHQUFXQSxFQUFRb04sU0FDbkNqckIsS0FBS2tyQixjQUFnQnJOLElBQXFDLElBQTFCQSxFQUFRcU4sZUErQjFDLFNBQVNDLEVBQVlDLEVBQUV0dUIsR0FDckIsT0FBT0EsRUFBRSxLQUFLc3VCLEVBQUU5UyxXQUFXLEtBVzdCLFNBQVMrUyxFQUFxQjlMLEdBQ3pCL2MsTUFBTThvQixtQkFDUDlvQixNQUFNOG9CLGtCQUFrQnRyQixLQUFNcXJCLEdBRWhDcnJCLEtBQUtrcUIsU0FBVzNLLEVBQU8ySyxTQUN2QmxxQixLQUFLbXFCLE9BQVM1SyxFQUFPNEssT0FDckJucUIsS0FBSzZkLFFBQVUwQixFQUFPMUIsUUFDdEI3ZCxLQUFLOHFCLE9BQVN2TCxFQUFPdUwsT0EvQ3ZCSCxFQUFnQmpzQixVQUFVNnNCLFNBQVcsU0FBa0JDLEdBQ3JELElBQUlqckIsRUFDSixHQUFxQixpQkFBVmlyQixFQUNUanJCLEVBQU0sSUFBSTBwQixFQUFnQnVCLEVBQVF4ckIsS0FBS2txQixTQUFVbHFCLEtBQUttcUIsT0FBUW5xQixLQUFLcVIsVUFDOUQsQ0FDTCxJQUFLbWEsRUFBUSxNQUFNLElBQUlocEIsTUFBTSx3QkFDN0IsSUFBS2dwQixFQUFPL21CLFFBQVMsTUFBTSxJQUFJakMsTUFBTSx5QkFDckMsSUFBS2dwQixFQUFPbnVCLEtBQU0sTUFBTSxJQUFJbUYsTUFBTSwwQkFDbENqQyxFQUFNLElBQUkwcEIsRUFBZ0J1QixFQUFPL21CLFFBQVN6RSxLQUFLa3FCLFNBQVVscUIsS0FBS21xQixPQUFRbnFCLEtBQUtxUixLQUFNbWEsRUFBT251QixLQUFNbXVCLEVBQU9wQixVQUl2RyxHQURBcHFCLEtBQUs4cUIsT0FBTzFvQixLQUFLN0IsR0FDYlAsS0FBS2dyQixXQUNQLE1BQU0sSUFBSUssRUFBcUJyckIsTUFDM0IsR0FBR0EsS0FBSytxQixXQUNaLE1BQU14cUIsRUFFUixPQUFPQSxHQUdUb3FCLEVBQWdCanNCLFVBQVUrc0IsYUFBZSxTQUFzQkMsR0FDM0MsaUJBQVBBLEdBQW9CQSxHQUFPQSxFQUFJQyxjQUN4QzNyQixLQUFLdXJCLFNBQVNHLEdBQ0xBLEdBQU9BLEVBQUlaLFNBQ3BCOXFCLEtBQUs4cUIsT0FBUzlxQixLQUFLOHFCLE9BQU9wckIsT0FBT2dzQixFQUFJWixVQU96Q0gsRUFBZ0Jqc0IsVUFBVTRaLFNBQVcsU0FBa0JvVCxHQUNyRCxPQUFPMXJCLEtBQUs4cUIsT0FBT3JaLElBQUkwWixHQUFZMUssS0FBSyxLQUcxQ2pqQixPQUFPQyxlQUFla3RCLEVBQWdCanNCLFVBQVcsUUFBUyxDQUFFZixJQUFLLFdBQy9ELE9BQVFxQyxLQUFLOHFCLE9BQU96b0IsVUFHdEJ4RixFQUFPRCxRQUFReXVCLHFCQUF1QkEsRUFVdENBLEVBQXFCM3NCLFVBQVksSUFBSThELE1BQ3JDNm9CLEVBQXFCM3NCLFVBQVVxSCxZQUFjc2xCLEVBQzdDQSxFQUFxQjNzQixVQUFVckIsS0FBTyxtQkFPdEMsSUFBSXV1QixFQUFjaHZCLEVBQVFndkIsWUFBYyxTQUFTQSxFQUFhQyxFQUFLMUIsR0FDakVucUIsS0FBS3lFLFFBQVVvbkIsRUFDZjdyQixLQUFLbXFCLE9BQVNBLEVBQ2QzbkIsTUFBTXZGLEtBQUsrQyxLQUFNNnJCLEdBQ2pCcnBCLE1BQU04b0Isa0JBQWtCdHJCLEtBQU00ckIsSUFFaENBLEVBQVlsdEIsVUFBWWxCLE9BQU9ZLE9BQU9vRSxNQUFNOUQsVUFDMUMsQ0FDRXFILFlBQWEsQ0FBQ2hJLE1BQU82dEIsRUFBYWx1QixZQUFZLEdBQzlDTCxLQUFNLENBQUNVLE1BQU8sY0FBZUwsWUFBWSxLQUc3QyxJQUFJb3VCLEVBQWdCbHZCLEVBQVFrdkIsY0FBZ0IsU0FBd0IzQixFQUFRdE0sRUFBU3hNLEVBQU0wYSxFQUFNQyxHQUMvRmhzQixLQUFLbXFCLE9BQVNBLEVBQ2RucUIsS0FBSzZkLFFBQVVBLEVBQ1pyYSxNQUFNNm1CLFFBQVFoWixJQUNmclIsS0FBS3FSLEtBQU9BLEVBQ1pyUixLQUFLNnFCLGFBQWV4WixFQUFLMFgsUUFBTyxTQUFTdUIsRUFBS0MsR0FDNUMsT0FBT0QsRUFBTUUsRUFBV0QsS0FDdkIsYUFFSHZxQixLQUFLNnFCLGFBQWV4WixFQUV0QnJSLEtBQUsrckIsS0FBT0EsRUFDWi9yQixLQUFLZ3NCLFFBQVVBLEdBR2pCRixFQUFjcHRCLFVBQVUwQixRQUFVLFNBQWtCakIsR0FDbEQsT0FBTzZxQixFQUFJNXBCLFFBQVFKLEtBQUsrckIsS0FBTTVzQixJQUdoQzJzQixFQUFjcHRCLFVBQVV1dEIsVUFBWSxTQUFtQjlCLEVBQVErQixHQUM3RCxJQUFJN2EsT0FBdUJuUSxJQUFmZ3JCLEVBQTRCbHNCLEtBQUtxUixLQUFPclIsS0FBS3FSLEtBQUszUixPQUFPLENBQUN3c0IsSUFDbEVwa0IsRUFBS3FpQixFQUFPTSxLQUFPTixFQUFPcmlCLEdBQzFCaWtCLEVBQU8vQixFQUFJNXBCLFFBQVFKLEtBQUsrckIsS0FBTWprQixHQUFJLElBQ2xDOGlCLEVBQU0sSUFBSWtCLEVBQWMzQixFQUFRbnFCLEtBQUs2ZCxRQUFTeE0sRUFBTTBhLEVBQU12dUIsT0FBT1ksT0FBTzRCLEtBQUtnc0IsVUFJakYsT0FIR2xrQixJQUFPOGlCLEVBQUlvQixRQUFRRCxLQUNwQm5CLEVBQUlvQixRQUFRRCxHQUFRNUIsR0FFZlMsR0FHVCxJQUFJdUIsRUFBaUJ2dkIsRUFBUXV2QixlQUFpQixDQUU1QyxZQUFhLDhKQUNiLEtBQVEsMkRBQ1IsS0FBUSxvREFDUixTQUFZLCtHQUlaLE1BQVMseVNBQ1QsWUFBYSw4TkFLYixhQUFjLDhGQUVkLEtBQVEsMGpDQUtSLElBQU8sbUNBQ1AsZ0JBQWlCLHF4Q0FDakIsSUFBTyxtQ0FDUCxnQkFBaUIsbWhEQUNqQixLQUFRLGtFQUdSLGVBQWdCLG9OQUdoQixlQUFnQiwyQ0FDaEIsd0JBQXlCLGtEQUd6QixTQUFZLGdJQUNaLFlBQWEsZ0lBRWIsZUFBZ0IsU0FBVUMsR0FDeEIsTUFBeUIsaUJBQVZBLEdBQXVCQyxXQUFXRCxLQUFXaFEsU0FBU2dRLEVBQU8sTUFBUXZzQixNQUFNdXNCLElBSTVGLE1BQVMsU0FBVUEsR0FDakIsSUFBSTdNLEdBQVMsRUFDYixJQUNFLElBQUkrTSxPQUFPRixHQUNYLE1BQU81VSxHQUNQK0gsR0FBUyxFQUVYLE9BQU9BLEdBS1QsTUFBUywrREFFVCxNQUFTLDZZQUNULE1BQVMsNkJBQ1QsTUFBUyxjQUNULGFBQWdCLGtCQUdsQjRNLEVBQWVJLE9BQVNKLEVBQWVLLE1BQ3ZDTCxFQUFlTSxRQUFVTixFQUFlSyxNQUN4Q0wsRUFBZU8sS0FBT1AsRUFBZSxjQUVyQ3Z2QixFQUFRK3ZCLFNBQVcsU0FBbUJQLEVBQU9RLEVBQVFDLEdBQ25ELEdBQXFCLGlCQUFWVCxRQUFpRGxyQixJQUEzQmlyQixFQUFlUyxHQUF1QixDQUNyRSxHQUFJVCxFQUFlUyxhQUFtQk4sT0FDcEMsT0FBT0gsRUFBZVMsR0FBUTVsQixLQUFLb2xCLEdBRXJDLEdBQXNDLG1CQUEzQkQsRUFBZVMsR0FDeEIsT0FBT1QsRUFBZVMsR0FBUVIsUUFFM0IsR0FBSVMsR0FBYUEsRUFBVUMsZUFDYSxtQkFBcENELEVBQVVDLGNBQWNGLEdBQ2pDLE9BQU9DLEVBQVVDLGNBQWNGLEdBQVFSLEdBRXpDLE9BQU8sR0FHVCxJQUFJNUIsRUFBYTV0QixFQUFRNHRCLFdBQWEsU0FBcUJuc0IsR0FLekQsT0FKQUEsRUFBTUEsRUFBSWlhLFlBSUQ5RyxNQUFNLGNBQWlCblQsRUFBSW1ULE1BQU0sU0FHdENuVCxFQUFJbVQsTUFBTSxTQUNMLElBQU1uVCxFQUFNLElBRWQsSUFBTTRNLEtBQUtNLFVBQVVsTixHQUFPLElBTDFCLElBQU1BLEdBdUNqQixTQUFTMHVCLEVBQVk1dEIsRUFBUTZ0QixFQUFLeFYsRUFBRzFhLEdBQ2xCLGlCQUFOMGEsRUFDVHdWLEVBQUlsd0IsR0FBS213QixFQUFVOXRCLEVBQU9yQyxHQUFJMGEsSUFFSCxJQUF2QnJZLEVBQU9xUixRQUFRZ0gsSUFDakJ3VixFQUFJNXFCLEtBQUtvVixHQUtmLFNBQVMwVixFQUFTQyxFQUFLSCxFQUFLM3VCLEdBQzFCMnVCLEVBQUkzdUIsR0FBTzh1QixFQUFJOXVCLEdBR2pCLFNBQVMrdUIsRUFBc0JqdUIsRUFBUWd1QixFQUFLSCxFQUFLM3VCLEdBQ3ZCLGlCQUFiOHVCLEVBQUk5dUIsSUFBc0I4dUIsRUFBSTl1QixJQUlsQ2MsRUFBT2QsR0FHVjJ1QixFQUFJM3VCLEdBQU80dUIsRUFBVTl0QixFQUFPZCxHQUFNOHVCLEVBQUk5dUIsSUFOeEMydUIsRUFBSTN1QixHQUFPOHVCLEVBQUk5dUIsR0FXbkIsU0FBUzR1QixFQUFXOXRCLEVBQVFndUIsR0FDMUIsSUFBSS9sQixFQUFRNUQsTUFBTTZtQixRQUFROEMsR0FDdEJILEVBQU01bEIsR0FBUyxJQUFNLEdBYXpCLE9BWElBLEdBQ0ZqSSxFQUFTQSxHQUFVLEdBQ25CNnRCLEVBQU1BLEVBQUl0dEIsT0FBT1AsR0FDakJndUIsRUFBSXRoQixRQUFRa2hCLEVBQVd6dUIsS0FBSyxLQUFNYSxFQUFRNnRCLE1BRXRDN3RCLEdBQTRCLGlCQUFYQSxHQUNuQjNCLE9BQU9pSSxLQUFLdEcsR0FBUTBNLFFBQVFxaEIsRUFBUTV1QixLQUFLLEtBQU1hLEVBQVE2dEIsSUFFekR4dkIsT0FBT2lJLEtBQUswbkIsR0FBS3RoQixRQUFRdWhCLEVBQXFCOXVCLEtBQUssS0FBTWEsRUFBUWd1QixFQUFLSCxLQUdqRUEsRUF1QlQsU0FBU0ssRUFBYWpDLEdBQ3BCLE1BQU8sSUFBSWhGLG1CQUFtQmdGLEdBQUdwVSxRQUFRLEtBQUssT0FqR2hEcGEsRUFBUTB3QixrQkFBb0IsU0FBU0EsRUFBbUJuSSxFQUFHQyxHQUN6RCxVQUFXRCxVQUFhQyxFQUN0QixPQUFPLEVBRVQsR0FBSTVoQixNQUFNNm1CLFFBQVFsRixHQUNoQixRQUFLM2hCLE1BQU02bUIsUUFBUWpGLEtBR2ZELEVBQUU5aUIsU0FBVytpQixFQUFFL2lCLFFBR1o4aUIsRUFBRW9JLE9BQU0sU0FBVW5DLEVBQUd0dUIsR0FDMUIsT0FBT3d3QixFQUFrQm5JLEVBQUVyb0IsR0FBSXNvQixFQUFFdG9CLFFBR3JDLEdBQWlCLGlCQUFOcW9CLEVBQWdCLENBQ3pCLElBQUtBLElBQU1DLEVBQ1QsT0FBT0QsSUFBTUMsRUFFZixJQUFJb0ksRUFBUWh3QixPQUFPaUksS0FBSzBmLEdBQ3BCc0ksRUFBUWp3QixPQUFPaUksS0FBSzJmLEdBQ3hCLE9BQUlvSSxFQUFNbnJCLFNBQVdvckIsRUFBTXByQixRQUdwQm1yQixFQUFNRCxPQUFNLFNBQVVuQyxHQUMzQixPQUFPa0MsRUFBa0JuSSxFQUFFaUcsR0FBSWhHLEVBQUVnRyxPQUdyQyxPQUFPakcsSUFBTUMsR0FnRGZ2b0IsRUFBT0QsUUFBUXF3QixVQUFZQSxFQVMzQnJ3QixFQUFROHdCLGNBQWdCLFNBQXVCbndCLEVBQUdzQixHQUdoRCxJQUZBLElBQ0lxbUIsRUFEQXlJLEVBQVE5dUIsRUFBRSt1QixNQUFNLEtBQUtsdEIsTUFBTSxHQUVJLGlCQUFwQndrQixFQUFFeUksRUFBTXhvQixVQUFzQixDQUMzQyxJQUFJNUcsRUFBSXN2QixtQkFBbUIzSSxFQUFFbE8sUUFBUSxLQUFLLEtBQUtBLFFBQVEsTUFBTSxNQUM3RCxLQUFNelksS0FBS2hCLEdBQUksT0FDZkEsRUFBSUEsRUFBRWdCLEdBRVIsT0FBT2hCLEdBV1RYLEVBQVFreEIsV0FBYSxTQUF1QjNJLEdBRzFDLE9BQU9BLEVBQUUxVCxJQUFJNGIsR0FBYTVNLEtBQUssS0FXakM3akIsRUFBUW14QixpQkFBbUIsU0FBMEJDLEdBRW5ELElBQUlDLEVBQWdCLEVBQ3BCLEdBQUlwdUIsTUFBTW11QixHQUFTLE9BQU9DLEVBRUosaUJBQVhELElBQ1RBLEVBQVNwdUIsT0FBT291QixJQUdsQixJQUFJTCxFQUFRSyxFQUFPMVYsV0FBV3NWLE1BQU0sS0FDcEMsR0FBcUIsSUFBakJELEVBQU10ckIsT0FBYyxDQUN0QixHQUFvQixNQUFoQnNyQixFQUFNLEdBQUcsR0FDWCxPQUFPTSxFQUVQQSxFQUFnQnJ1QixPQUFPK3RCLEVBQU0sR0FBR2p0QixNQUFNLElBSTFDLElBQUl3dEIsRUFBZVAsRUFBTSxHQUFHQyxNQUFNLEtBS2xDLE9BSjRCLElBQXhCTSxFQUFhN3JCLFNBQ2Y0ckIsR0FBaUJDLEVBQWEsR0FBRzdyQixRQUc1QjRyQixHQUdUcnhCLEVBQVF1eEIsU0FBVyxTQUFrQnZILEdBQ25DLE1BQXVCLGlCQUFSQSxHQUFvQkEsR0FBd0Isa0JBQVJBLEksNkJDaFlyRCxJQUFJdUMsRUFISixrQ0FJQSxJQUFJaUYsRUFBUSxJQUFJaEgsV0FBVyxJQUNaLFNBQVNpSCxJQUV0QixJQUFLbEYsS0FHSEEsRUFBb0Msb0JBQVhILFFBQTBCQSxPQUFPRyxpQkFBbUJILE9BQU9HLGdCQUFnQjdxQixLQUFLMHFCLFNBQStCLG9CQUFic0YsVUFBZ0UsbUJBQTdCQSxTQUFTbkYsaUJBQWtDbUYsU0FBU25GLGdCQUFnQjdxQixLQUFLZ3dCLFdBR3JPLE1BQU0sSUFBSTlyQixNQUFNLDRHQUlwQixPQUFPMm1CLEVBQWdCaUYsSyw2QkNzQ3pCLFNBQVMvb0IsRUFBSWtwQixFQUFLN0QsRUFBTzhELEdBQ3ZCLElBQUlDLEVBQWtCRCxFQUFVQSxFQUFVbnNCLE9BQVMsR0FDL0Nrc0IsSUFBUUUsRUFBZ0JoakIsVUFFMUIraUIsRUFBVW5wQixNQUNWb3BCLEVBQWtCRCxFQUFVQSxFQUFVbnNCLE9BQVMsSUFFakQsSUFBSW9KLEVBQVVnakIsRUFBZ0JoakIsUUFDMUJpakIsRUFBbUJELEVBQWdCcnBCLE1BQ3ZDLEdBQUk1QixNQUFNNm1CLFFBQVE1ZSxHQUNoQkEsRUFBUXJKLEtBQUttc0IsUUFDUixHQUFJRyxJQUFxQmhFLEVBQU1yb0IsT0FBUyxFQUFHLENBRWhEb0osRUFEVWlmLEVBQU1ybEIsT0FDRGtwQixPQUVmN0QsRUFBTXRvQixLQUFLbXNCLEdBL0RmM3hCLEVBQVEyTyxVQUFZLFNBQW1CNmdCLEdBQ3JDLElBQUk1bEIsRUFBUSxHQUNaQSxFQUFNcEUsS0FBSyxDQUFDbXNCLElBQUtuQyxJQUlqQixJQUZBLElBQ0l1QyxFQUFNSixFQUFhM0gsRUFBSzlwQixFQUFHOHhCLEVBQWFucEIsRUFBTXlmLEVBQUc3bUIsRUFBS04sRUFBTzh3QixFQUQ3RG5ELEVBQU0sR0FFRmlELEVBQU9ub0IsRUFBTW5CLE9BS25CLEdBSkFrcEIsRUFBTUksRUFBS0osSUFHWDdDLEdBRlNpRCxFQUFLRyxRQUFVLEdBQ3hCbEksRUFBTStILEVBQUsvSCxLQUFPLEdBR2hCOEUsR0FBTzlFLE9BQ0YsR0FBbUIsaUJBQVIySCxFQUNoQjdDLFFBQXNCLElBQVI2QyxFQUFzQixLQUFPdGpCLEtBQUtNLFVBQVVnakIsUUFDckQsR0FBWSxPQUFSQSxFQUNUN0MsR0FBTyxZQUNGLEdBQUlsb0IsTUFBTTZtQixRQUFRa0UsR0FBTSxDQUU3QixJQURBL25CLEVBQU1wRSxLQUFLLENBQUN3a0IsSUFBSyxNQUNaOXBCLEVBQUl5eEIsRUFBSWxzQixPQUFTLEVBQUd2RixHQUFLLEVBQUdBLElBQy9COHhCLEVBQW9CLElBQU45eEIsRUFBVSxHQUFLLElBQzdCMEosRUFBTXBFLEtBQUssQ0FBQ21zQixJQUFLQSxFQUFJenhCLEdBQUlneUIsT0FBUUYsSUFFbkNwb0IsRUFBTXBFLEtBQUssQ0FBQ3drQixJQUFLLFVBQ1osQ0FFTCxJQUFLMUIsS0FETHpmLEVBQU8sR0FDRzhvQixFQUNKQSxFQUFJNXZCLGVBQWV1bUIsSUFDckJ6ZixFQUFLckQsS0FBSzhpQixHQUlkLElBREExZSxFQUFNcEUsS0FBSyxDQUFDd2tCLElBQUssTUFDWjlwQixFQUFJMkksRUFBS3BELE9BQVMsRUFBR3ZGLEdBQUssRUFBR0EsSUFFaENpQixFQUFRd3dCLEVBRFJsd0IsRUFBTW9ILEVBQUszSSxJQUVYK3hCLEVBQWEveEIsRUFBSSxFQUFJLElBQU0sR0FDM0IreEIsR0FBYTVqQixLQUFLTSxVQUFVbE4sR0FBTyxJQUNuQ21JLEVBQU1wRSxLQUFLLENBQUNtc0IsSUFBS3h3QixFQUFPK3dCLE9BQVFELElBRWxDcm9CLEVBQU1wRSxLQUFLLENBQUN3a0IsSUFBSyxNQUdyQixPQUFPOEUsR0F5QlQ5dUIsRUFBUXNPLE1BQVEsU0FBVWdiLEdBT3hCLElBTkEsSUFHSTZJLEVBQWVDLEVBQVVDLEVBQ3pCQyxFQUFhQyxFQUFPQyxFQUFzQkMsRUFDMUNDLEVBQWNDLEVBTGQ3RSxFQUFRLEdBQ1I4RCxFQUFZLEdBQ1oxeEIsRUFBSSxJQU1OLEdBQXVCLE9BRHZCaXlCLEVBQWlCN0ksRUFBSXBwQixPQUVFLE1BQW5CaXlCLFFBQzBCLElBQW5CQSxFQVFYLE9BQVFBLEdBQ04sSUFBSyxJQUNMLElBQUssS0FDTCxJQUFLLEtBQ0wsSUFBSyxJQUNMLElBQUssSUFDSCxNQUNGLElBQUssSUFDSGp5QixHQUFLLEVBQ0x1SSxFQUFJLEtBQU1xbEIsRUFBTzhELEdBQ2pCLE1BQ0YsSUFBSyxJQUNIMXhCLEdBQUssRUFDTHVJLEdBQUksRUFBTXFsQixFQUFPOEQsR0FDakIsTUFDRixJQUFLLElBQ0gxeEIsR0FBSyxFQUNMdUksR0FBSSxFQUFPcWxCLEVBQU84RCxHQUNsQixNQUNGLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBR0gsSUFGQVEsRUFBWSxHQUNabHlCLE1BQ2EsQ0FFWCxHQURBbXlCLEVBQVUvSSxFQUFJcHBCLE1BQ1YsY0FBY2tLLEtBQUtpb0IsR0FFaEIsQ0FDTG55QixJQUNBLE1BSEFreUIsR0FBYUMsRUFNakI1cEIsRUFBSWduQixXQUFXMkMsR0FBWXRFLEVBQU84RCxHQUNsQyxNQUNGLElBQUssSUFJSCxJQUhBVSxFQUFlLEdBQ2ZDLE9BQVMsRUFDVEMsRUFBd0IsRUFHWCxPQURYQyxFQUFLbkosRUFBSXBwQixPQUNxQixPQUFYcXlCLEdBQ2ZDLEVBQXdCLEdBQU0sR0FDaENGLEdBQWdCRyxFQUVELFFBRGZGLEVBQVNFLEdBRVBELElBRUFBLEVBQXdCLEVBTTlCL3BCLEVBQUk0RixLQUFLQyxNQUFNLElBQU1na0IsRUFBZSxLQUFNeEUsRUFBTzhELEdBQ2pELE1BQ0YsSUFBSyxJQUNIYyxFQUFlLENBQUU3akIsUUFBUyxHQUFJckcsTUFBT3NsQixFQUFNcm9CLFFBQzNDcW9CLEVBQU10b0IsS0FBS2t0QixFQUFhN2pCLFNBQ3hCK2lCLEVBQVVwc0IsS0FBS2t0QixHQUNmLE1BQ0YsSUFBSyxJQUNIQyxFQUFhLENBQUU5akIsUUFBUyxHQUFJckcsTUFBT3NsQixFQUFNcm9CLFFBQ3pDcW9CLEVBQU10b0IsS0FBS210QixFQUFXOWpCLFNBQ3RCK2lCLEVBQVVwc0IsS0FBS210QixHQUNmLE1BQ0YsUUFDRSxNQUFNLElBQUkvc0IsTUFDUixzQ0FBd0N1c0IsT0F0RjlDLENBR0UsR0FBcUIsSUFBakJyRSxFQUFNcm9CLE9BQ1IsT0FBT3FvQixFQUFNcmxCLE1BRWJBLEVBQUlxbEIsRUFBTXJsQixNQUFPcWxCLEVBQU84RCxNLDZCQ3pGaEMsb0JBdUJlLElBcEJmLFNBQVkzUSxFQUFTMlIsRUFBSzNWLEdBRXhCLElBQUk0VixHQURKNVIsRUFBVUEsR0FBVyxJQUNGNlIsU0FBVzdSLEVBQVF3USxLQUFPLE9BSzdDLEdBSEFvQixFQUFLLEdBQWUsR0FBVkEsRUFBSyxHQUFZLEdBQzNCQSxFQUFLLEdBQWUsR0FBVkEsRUFBSyxHQUFZLElBRXZCRCxFQUFLLENBQ1AzVixFQUFTQSxHQUFVLEVBRW5CLElBQUssSUFBSS9jLEVBQUksRUFBR0EsRUFBSSxLQUFNQSxFQUN4QjB5QixFQUFJM1YsRUFBUy9jLEdBQUsyeUIsRUFBSzN5QixHQUd6QixPQUFPMHlCLEVBR1QsT0FBTyxZQUFVQyxLLCtGQ2xCbkIsYUFDQSxRQUNBLE9BQ0EsT0F5UXdCLEVBQUFob0IsUUF2UXhCLE1BZUUsWUFBYThHLEVBQW9Cb2hCLEdBVHpCLEtBQUFDLGdCQUFvQyxFQUFFLEdBQUksR0FVaEQ1dkIsS0FBS3VPLFNBQVdBLEVBQ2hCdk8sS0FBSzJ2QixTQUFXQSxFQU1sQixXQWFFLE1BQU1FLEVBQWdCbGpCLEVBQUdtakIsT0FDdEIvdUIsR0FBRyxRQVpOLFdBQ0VmLEtBQUs0dkIsZ0JBQWtCLENBQUNqakIsRUFBR29qQixNQUFNeGMsRUFBRzVHLEVBQUdvakIsTUFBTXBjLEdBQzdDM1QsS0FBS2d3QixHQUFLLEVBQ1Zod0IsS0FBS2l3QixHQUFLLEVBQ0t0akIsRUFBR29qQixNQUFNRyxZQUFZL3dCLE9BQ3pCOEosVUFBVThDLFNBQVMsVUFDNUJZLEVBQUdtQixPQUFPOU4sS0FBSzJ2QixVQUFVMXlCLEtBQUs0eUIsSUFNUHZ4QixLQUFLMEIsT0FDN0JlLEdBQUcsT0FBUWYsS0FBS213QixTQUFTN3hCLEtBQUswQixPQUM5QmUsR0FBRyxNQUFPZixLQUFLb3dCLFVBQVU5eEIsS0FBSzBCLE9BRWhCMk0sRUFBR0MsVUFBVSxhQUNyQjNQLEtBQUs0eUIsR0FFZCxJQUFJUSxFQUFZN3NCLE1BQU00SSxLQUFLN0QsU0FBU3FELGlCQUFxQyxjQUl6RTVMLEtBQUtzd0IsZUFBaUJELEVBQVUxZixPQUFROUQsR0FBT0EsRUFBRzVELFVBQVU4QyxTQUFTLGNBQWdCYyxFQUFHMGpCLGFBQWEsaUJBQ3JHRixFQUFZQSxFQUFVMWYsT0FBTzlELElBQU9BLEVBQUc1RCxVQUFVOEMsU0FBUyxjQUUxRC9MLEtBQUtxd0IsVUFBWUEsRUFBVTN3QixPQUFPOEQsTUFBTTRJLEtBQUs3RCxTQUFTcUQsaUJBQXFDLGtCQUc3RixXQUNFNUwsS0FBS2d3QixHQUFLcmpCLEVBQUdvakIsTUFBTXhjLEVBQUl2VCxLQUFLNHZCLGdCQUFnQixHQUM1QzV2QixLQUFLaXdCLEdBQUt0akIsRUFBR29qQixNQUFNcGMsRUFBSTNULEtBQUs0dkIsZ0JBQWdCLEdBRTVDNXZCLEtBQUt3d0IsYUFBYXh3QixLQUFLcXdCLFVBQVdyd0IsS0FBS2d3QixHQUFJaHdCLEtBQUtpd0IsSUFTaEQsR0FBb0IsSUFEUGp3QixLQUFLcXdCLFVBQVUxZixPQUFROUQsR0FBT0EsRUFBRzVELFVBQVU4QyxTQUFTLFFBQ3hEMUosUUFBK0MsSUFBL0JyQyxLQUFLc3dCLGVBQWVqdUIsT0FBYyxDQUN6RCxNQUFNb3VCLEVBQVNqdEIsTUFBTTRJLEtBQUs3RCxTQUFTcUQsaUJBQWlCLHVCQUNqRDZGLElBQUk1RSxHQUFNQSxFQUFHMkMsY0FBYyx5QkFDOUJ4UCxLQUFLd3dCLGFBQWFDLEdBQVN6d0IsS0FBS2d3QixJQUFLaHdCLEtBQUtpd0IsS0FLOUMsWUFHRSxNQUFNUyxFQUFRdm9CLEtBQUt1SSxJQUFJMVEsS0FBS2d3QixJQUFLVyxFQUFReG9CLEtBQUt1SSxJQUFJMVEsS0FBS2l3QixJQUN2RCxHQUFJUyxHQUFTLEdBQUtDLEdBQVMsRUFHekIsT0FGQTN3QixLQUFLeW1CLGFBQ0x6bUIsS0FBSzJOLFdBS1AsTUFBTTBpQixFQUFZcndCLEtBQUtxd0IsVUFBVTFmLE9BQVE5RCxJQUFRQSxFQUFHNUQsVUFBVThDLFNBQVMsZ0JBS3ZFLEdBQUkvTCxLQUFLNHdCLHVCQUF5QjV3QixLQUFLNndCLGtCQUFrQlIsR0FBWSxDQUVuRXJ3QixLQUFLOHdCLGVBQWU5d0IsS0FBS3F3QixXQUd6QixNQUFNSSxFQUFTanRCLE1BQU00SSxLQUFLN0QsU0FBU3FELGlCQUFpQix1QkFDakQ2RixJQUFJNUUsR0FBTUEsRUFBRzJDLGNBQWMseUJBSzlCLE9BSkF4UCxLQUFLOHdCLGVBQWVMLEdBRXBCendCLEtBQUt5bUIsUUFDTHptQixLQUFLMk4sWUFDRSxJQUFBbEUsbUJBQWtCLCtEQUFnRSxTQUkzRixNQUFNc25CLEVBQTZCLEdBQ25DVixFQUFVeGtCLFFBQVNnQixJQUNqQixNQUVNbWtCLEVBQXlCLENBQzdCMWEsT0FBUSxPQUNSQyxNQUFPLENBQ0xDLFVBTHNCLFNBQWYzSixFQUFHOFgsUUFBcUI5WCxFQUFHcUIsUUFBUSxRQUFRcEcsR0FBSytFLEVBQUcvRSxHQU0xRHlMLEVBQUd2VCxLQUFLZ3dCLEdBQ1JyYyxHQUFJM1QsS0FBS2l3QixLQUliYyxFQUFXM3VCLEtBQUs0dUIsS0FFbEIsTUFBTTNhLEVBQTZCLENBQ2pDQyxPQUFRLFFBQ1JDLE1BQU93YSxHQUlUL3dCLEtBQUt1TyxTQUNGbUksS0FBS0wsRUFBY3JXLEtBQUt1TyxTQUFTRyxLQUFLQyxxQkFDdENnSSxLQUFLdkksVUFJSixNQUFNNmlCLEVBQWF6dEIsTUFBTTRJLEtBQUs3RCxTQUFTcUQsaUJBQWlCLGNBQ3JEK0UsT0FBTzlELElBQU9BLEVBQUc1RCxVQUFVOEMsU0FBUyxjQUNwQzBGLElBQUk1RSxHQUFNQSxFQUFHL0UsVUFJVjlILEtBQUt1TyxTQUFTc0ksdUJBQ3BCN1csS0FBS2lOLHNCQUNMak4sS0FBS3ltQixjQUdDem1CLEtBQUtreEIsU0FBU0QsR0FDcEJqeEIsS0FBSzJOLGFBSVgsZUFBZ0JzakIsR0FDZCxNQUFNRSxFQUFhRixFQUFXeGYsSUFBSTNKLEdBQU1TLFNBQVNpSCxjQUFrQyxJQUFJMUgsSUFJdkZxcEIsRUFDR3hnQixPQUFPOUQsSUFBT0EsRUFBRzVELFVBQVU4QyxTQUFTLFFBQ3BDRixRQUFRdUMsZUFBa0IsSUFBQXhCLFdBQVV1a0IsRUFBWW54QixLQUFLdU8sU0FBVXZPLE9BR2xFbXhCLEVBQ0d4Z0IsT0FBTzlELEdBQU1BLEVBQUc1RCxVQUFVOEMsU0FBUyxRQUNuQ0YsUUFDQ2dCLElBQU0sSUFBQXVDLFlBQVd2QyxFQUFHMkMsY0FBYyx3QkFBeUJ4UCxLQUFNQSxLQUFLdU8sV0FLMUU0aUIsRUFDR3hnQixPQUFPOUQsR0FBTUEsRUFBRzVELFVBQVU4QyxTQUFTLFVBQ25DRixRQUFRZ0IsSUFBTSxJQUFBUSxhQUFZUixFQUFJN00sT0FJbkMsUUFBU3ltQixHQUNQem1CLEtBQUtveEIsY0FBZ0IzSyxFQUl2QixhQUM2QnZsQixJQUF2QmxCLEtBQUtveEIsZUFDUHprQixFQUFHbUIsT0FBTzlOLEtBQUsydkIsVUFBVTF5QixLQUFLK0MsS0FBS294QixlQUl2QyxzQkFDRSxNQUFNdFMsRUFBV3ZXLFNBQVNDLGVBQWUsWUFDbkN1VyxFQUFZeFcsU0FBU0MsZUFBZSxhQUN0Q3NXLElBQ0ZBLEVBQVMzVixVQUFZLEdBQ3JCMlYsRUFBU3BTLGNBQWN6RCxVQUFVQyxJQUFJLFdBRW5DNlYsSUFDRkEsRUFBVTVWLFVBQVksR0FDdEI0VixFQUFVclMsY0FBY3pELFVBQVVDLElBQUksV0FPMUMsYUFBY21uQixFQUFzQkwsRUFBWUMsR0FDOUNJLEVBQVUxZixPQUFPOUQsR0FBYSxPQUFQQSxHQUFhaEIsUUFBU2dCLElBQzNDQSxFQUFHTixhQUFhLFlBQWEsYUFBYXlqQixLQUFNQyxRQVFwRCxlQUFnQkksR0FDZEEsRUFBVTFmLE9BQU85RCxHQUFhLE9BQVBBLEdBQWFoQixRQUFTZ0IsSUFDM0NBLEVBQUdiLGdCQUFnQixlQUl2QixzQkFDRSxNQUFNcWxCLEVBQU9yeEIsS0FBSzR2QixnQkFBZ0IsR0FBSzV2QixLQUFLZ3dCLEdBQ3RDc0IsRUFBT3R4QixLQUFLNHZCLGdCQUFnQixHQUFLNXZCLEtBQUtpd0IsR0FFNUMsT0FBTyxJQUFBc0Isa0JBQWlCRixFQUFNQyxHQVFoQyxrQkFBbUJqQixHQUdqQixJQUFJbUIsRUFEb0JqcEIsU0FBU2lILGNBQWdDLGdCQUFnQmlLLFFBQzNDLFlBQWMsTUFFaEQ0VyxFQUFVLEdBQUdwbkIsVUFBVThDLFNBQVMsV0FBVXlsQixFQUFnQixRQUU5RCxNQU1NQyxFQU4wQnBCLEVBQVV0SCxPQUN4QyxDQUFDMkksRUFBSzdrQixJQUFPNmtCLEVBQUloeUIsVUFBVW1OLEVBQUdqQixpQkFBaUI0bEIsSUFBaUIsSUFFL0IvZixJQUFJLEVBQUFrZ0IsY0FHQzVJLE9BQ3RDLENBQUMxWixFQUFNdWlCLEtBQ0UsQ0FDTDVnQixJQUFLN0ksS0FBS3dKLElBQUl0QyxFQUFLMkIsSUFBSzRnQixFQUFLNWdCLEtBQzdCQyxJQUFLOUksS0FBS3dKLElBQUl0QyxFQUFLNEIsSUFBSzJnQixFQUFLM2dCLEtBQzdCQyxJQUFLL0ksS0FBS0MsSUFBSWlILEVBQUs2QixJQUFLMGdCLEVBQUsxZ0IsS0FDN0JDLElBQUtoSixLQUFLQyxJQUFJaUgsRUFBSzhCLElBQUt5Z0IsRUFBS3pnQixPQUdqQyxDQUNFSCxJQUFLcFIsT0FBT2l5QixVQUNaNWdCLElBQUtyUixPQUFPaXlCLFVBQ1ozZ0IsSUFBS3RSLE9BQU9reUIsVUFDWjNnQixJQUFLdlIsT0FBT2t5QixhQUlWLElBQUU5Z0IsRUFBRyxJQUFFQyxFQUFHLElBQUVDLEVBQUcsSUFBRUMsR0FBUXNnQixFQUMvQixPQUFPLElBQUFGLGtCQUFpQnZnQixFQUFNaFIsS0FBS2d3QixHQUFJL2UsRUFBTWpSLEtBQUtpd0IsTUFBTyxJQUFBc0Isa0JBQWlCcmdCLEVBQU1sUixLQUFLZ3dCLEdBQUk3ZSxFQUFNblIsS0FBS2l3QixPLHdQQzFReEcsYUFDQSxRQUNBLE9BQ0EsT0FDQSxRQUdBLFFBS0EsSUFBSTFoQixFQWFKLFNBQWdCMEUsRUFDZGxFLEVBQ0FDLEdBSUEsR0FGZXhMLE1BQU00SSxLQUFLNEMsRUFBU3lELFVBRXhCcFEsT0FBUyxFQUVsQixPQUFPLEVBR1QsT0FBUTBNLEdBQ04sSUFBSyxhQUVILEdBQUlnakIsRUFBWUMsb0JBQW9CampCLEVBQWVDLEdBQ2pELE9BQU8sRUFFWCxRQUVFLFFBQUkraUIsRUFBWUUsWUFBWWxqQixFQUFlQyxJQVFqRCxTQUFnQmdRLEVBQ2RqUSxFQUNBQyxHQU9BLE9BTEtBLElBQ0hBLEVBQVd4TCxNQUFNNEksS0FDZjdELFNBQVNxRCxpQkFBaUIsZUFHdEJtRCxHQUNOLElBQUssZ0JBQ0gsSUFBSyxNQUFNdEQsS0FBV3VELEVBQ3BCLEdBQ0V2RCxFQUFROGtCLGFBQWEsZ0JBQ3JCOWtCLEVBQVE4a0IsYUFBYSxnQkFNckIsT0FKQTVvQixFQUFhOEIsa0JBQ1gsbUVBQ0EsWUFFSyxFQUdYLE9BQU8sRUFFVCxJQUFLLGFBQ0gsSUFBSyxNQUFNZ0MsS0FBV3VELEVBQ3BCLEdBQ0V2RCxFQUFRaUIsY0FBYzZqQixhQUFhLGdCQUNuQzlrQixFQUFRaUIsY0FBYzZqQixhQUFhLGdCQU1uQyxPQUpBNW9CLEVBQWE4QixrQkFDWCxtRUFDQSxZQUVLLEVBR1gsT0FBTyxFQUVULElBQUssVUFDSCxJQUFLLE1BQU1nQyxLQUFXdUQsRUFDcEIsR0FDRXZELEVBQVFpQixjQUFjQSxjQUFjNmpCLGFBQWEsZ0JBQ2pEOWtCLEVBQVFpQixjQUFjQSxjQUFjNmpCLGFBQWEsZ0JBTWpELE9BSkE1b0IsRUFBYThCLGtCQUNYLG1FQUNBLFlBRUssRUFHWCxPQUFPLEdBNkZiLFNBQWdCeW9CLEVBQVNsakIsR0FFdkIsSUFBSyxNQUFNdkQsS0FBV3VELEVBQ3BCLElBQ0d2RCxFQUFROGtCLGFBQWEsa0JBQ3JCOWtCLEVBQVE4a0IsYUFBYSxlQUV0QixPQUFPLEVBRVgsT0FBTyxFQWdCVCxTQUFnQjRCLEVBQVluakIsR0FFMUJBLEVBQVNvakIsS0FBSyxDQUFDak4sRUFBR0MsS0FDaEIsTUFBTWlOLEVBQVNsTixFQUFFalgsUUFBUSxVQUNuQm9rQixFQUFTbE4sRUFBRWxYLFFBQVEsVUFDekIsT0FBT21rQixFQUFPRSx3QkFBd0JELEdBQ3BDRSxLQUFLQyw2QkFDRixFQUNELElBR04sTUFBTW5TLEVBQVM5YyxNQUFNNEksS0FBSzdELFNBQVNxRCxpQkFBaUIsV0FDOUM4bUIsRUFBWWx2QixNQUFNNEksS0FBSzdELFNBQVNxRCxpQkFBaUIsY0FHdkQsSUFBSyxJQUFJOU8sRUFBSSxFQUFHQSxFQUFJa1MsRUFBUzNNLE9BQVMsRUFBR3ZGLElBQUssQ0FDNUMsTUFBTStyQixFQUFVN1osRUFBU2xTLEdBQ25CNnhCLEVBQU8zZixFQUFTbFMsRUFBSSxHQUNwQjYxQixFQUF1QkQsRUFBVWxpQixRQUFRcVksR0FFL0MsR0FEMEI2SixFQUFVbGlCLFFBQVFtZSxHQUNwQmdFLEdBQXlCLEVBQy9DLE9BQU8sRUFHVCxNQUFNQyxFQUFlL0osRUFBUTNhLFFBQVEsVUFDL0Iya0IsRUFBWWxFLEVBQUt6Z0IsUUFBUSxVQUV6QjRrQixFQUFvQnhTLEVBQU85UCxRQUFRb2lCLEdBRXpDLEdBRHVCdFMsRUFBTzlQLFFBQVFxaUIsR0FDakJDLEdBQXNCLEVBQ3pDLE9BQU8sRUFLWCxHQUF3QixJQUFwQjlqQixFQUFTM00sT0FDWCxPQUFPMk0sRUFBU3VlLE1BQ2I5aEIsSUFDRUEsRUFBUThrQixhQUFhLGtCQUNyQjlrQixFQUFROGtCLGFBQWEsZ0JBSzVCLE1BQU13QyxFQUFtQi9qQixFQUFTMkIsT0FDL0JsRixJQUNFQSxFQUFROGtCLGFBQWEsa0JBQ3JCOWtCLEVBQVE4a0IsYUFBYSxnQkFHMUIsR0FBZ0MsSUFBNUJ3QyxFQUFpQjF3QixPQUNuQixPQUFPLEVBSVQsTUFBTTJ3QixFQUFnQkQsRUFBaUIsR0FFdkMsT0FDc0MsSUFBcEMvakIsRUFBU3dCLFFBQVF3aUIsSUFDakJoa0IsRUFBU3dCLFFBQVF3aUIsS0FBbUJoa0IsRUFBUzNNLE9BQVMsRUFVMUQsU0FBZ0IyUSxFQUNkakUsRUFDQUMsR0FJQSxRQUFJQSxFQUFTM00sT0FBUyxLQUtBLGtCQUFsQjBNLElBbE1OLFNBQ0VDLEdBR0FBLEVBQVNvakIsS0FBSyxDQUFDak4sRUFBR0MsSUFDWkQsRUFBRW9OLHdCQUF3Qm5OLEdBQUtvTixLQUFLQyw2QkFDOUIsRUFFUnROLEVBQUVvTix3QkFBd0JuTixHQUFLb04sS0FBS1MsNEJBRTdCLEVBRUYsR0FHVCxJQUFLLElBQUlDLEVBQU0sRUFBR0EsRUFBTWxrQixFQUFTM00sT0FBUTZ3QixJQUFPLENBQzlDLE1BQU1DLEVBQVdua0IsRUFBU29rQixHQUFHRixHQUM3QixHQUFJQyxFQUFTNUMsYUFBYSxnQkFBaUIsQ0FFekMsTUFBTThDLEVBQWlCRixFQUNwQjVoQixhQUFhLGdCQUNieUYsUUFBUSxJQUFLLElBR2hCLElBQUlzYyxFQUNKLE1BQU1DLEVBQWV2a0IsRUFBU3dLLEtBQUssQ0FBQy9OLEVBQVN5bkIsSUFDdkN6bkIsRUFBUTNELEtBQU91ckIsSUFDakJDLEVBQWtCSixHQUNYLElBT1gsSUFBS0ssRUFDSCxPQUFPLEVBSVQsSUFBS0EsRUFBYWhELGFBQWEsZUFDN0IsT0FBTyxFQUlULEdBQUlnRCxFQUFhaGlCLGFBQWEsZ0JBQWtCLElBQU00aEIsRUFBU3JyQixHQUM3RCxPQUFPLEVBTVQsR0FBSXdyQixJQUFvQkosRUFBTSxFQUM1QixPQUFPLEVBR1gsR0FBSUMsRUFBUzVDLGFBQWEsZUFBZ0IsQ0FDeEMsTUFBTWlELEVBQWlCTCxFQUNwQjVoQixhQUFhLGVBQ2J5RixRQUFRLElBQUssSUFDVnljLEVBQWV6a0IsRUFBU3dLLEtBQzNCMlosR0FBYUEsRUFBU3JyQixLQUFPMHJCLEdBSWhDLElBQUtDLEVBQ0gsT0FBTyxFQUlULElBQUtBLEVBQWFsRCxhQUFhLGdCQUM3QixPQUFPLEVBSVQsR0FBSWtELEVBQWFsaUIsYUFBYSxpQkFBbUIsSUFBTTRoQixFQUFTcnJCLEdBQzlELE9BQU8sRUFJWCxPQUFPLEdBcUhMNHJCLENBQXlCMWtCLElBQzNCckgsRUFBYThCLGtCQUNYLDZEQUNBLFlBRUssS0FJTHlvQixFQUFTbGpCLE1BSUptakIsRUFBWW5qQixLQVV2QixTQUFnQndVLElBQ2QsTUFBTW1RLEVBQVVwckIsU0FBU3FELGlCQUFpQixtQkFDcENnb0IsRUFBYSxHQUNuQkQsRUFBUTluQixRQUFTeUIsSUFDZnNtQixFQUFXeHhCLEtBQUtrTCxFQUFNeEYsTUFFeEIsTUFBTXVPLEVBQTZCLENBQ2pDQyxPQUFRLFFBQ1JDLE1BQU8sQ0FDTHFkLFdBQVlBLElBR2hCcmxCLEVBQ0dtSSxLQUFLTCxFQUFjOUgsRUFBU0csS0FBS0MscUJBQ2pDZ0ksS0FBTTRJLElBQ0RBLEdBQ0Y1WCxFQUFhOEIsa0JBQWtCLGVBQWdCLFdBQy9DdUQsRUFBY0Msc0JBQ2RzQixFQUFTc0ksd0JBRVRsUCxFQUFhOEIsa0JBQWtCLGVBQWdCLFdBbUJ2RCxTQUFnQjBELElBQ2QsTUFBTTJSLEVBQVd2VyxTQUFTQyxlQUFlLFlBQ3pDc1csRUFBUzNWLFVBQVksR0FDckIyVixFQUFTcFMsY0FBY3pELFVBQVVDLElBQUksVUFDckNYLFNBQVNrUSxLQUFLelUsb0JBQW9CLFVBQVcsRUFBQTRhLHFCQUM3Q3JXLFNBQVNrUSxLQUFLelUsb0JBQW9CLFVBQVd1VCxHQU0vQyxTQUFnQjdKLElBQ2QsTUFBTXVTLEVBQU0xWCxTQUFTQyxlQUFlLFVBQ3BDeVgsRUFBSWpjLG9CQUFvQixRQUFTLEVBQUE2YSxlQUNqQ29CLEVBQUlwYyxpQkFBaUIsUUFBUyxFQUFBZ2IsZUFDOUJ0VyxTQUFTa1EsS0FBSzVVLGlCQUFpQixVQUFXLEVBQUErYSxxQkFDMUNyVyxTQUFTa1EsS0FBSzVVLGlCQUFpQixVQUFXMFQsR0FFMUMsSUFDRWhQLFNBQVNDLGVBQWUsYUFBYTNFLGlCQUFpQixRQUFTLEtBQzdELEdBQUltYixFQUFlK1MsRUFBWXZtQixvQkFBcUIsT0FJcERxb0IsRUFBZSxRQUFTLFFBSExDLElBQWlCbmpCLE9BQVE2RyxHQUMxQ2pQLFNBQVNDLGVBQWVnUCxHQUFHdk8sVUFBVThDLFNBQVMsYUFJbEQsTUFBT3lMLElBRVQsSUFDRWpQLFNBQVNDLGVBQWUsZUFBZTNFLGlCQUFpQixRQUFTLEtBQy9ELEdBQUltYixFQUFlK1MsRUFBWXZtQixvQkFBcUIsT0FJcERxb0IsRUFBZSxRQUFTLFFBSExFLElBQVNwakIsT0FBUTZHLEdBQ2xDalAsU0FBU0MsZUFBZWdQLEdBQUd2TyxVQUFVOEMsU0FBUyxhQUlsRCxNQUFPeUwsSUFFVCxJQUNFalAsU0FBU0MsZUFBZSxZQUFZM0UsaUJBQWlCLFFBQVMsS0FJNURnd0IsRUFBZSxRQUFTLEtBSExFLElBQVNwakIsT0FBUTZHLEdBQ2xDalAsU0FBU0MsZUFBZWdQLEdBQUd2TyxVQUFVOEMsU0FBUyxVQUlsRCxNQUFPeUwsSUFFVCxJQUNFalAsU0FBU0MsZUFBZSxpQkFBaUIzRSxpQkFBaUIsUUFBUyxLQUVqRWd3QixFQUFlLFVBQVcsUUFEUEMsT0FHckIsTUFBT3RjLElBRVQsSUFDRWpQLFNBQVNDLGVBQWUsY0FBYzNFLGlCQUFpQixRQUFTLEtBRTlEZ3dCLEVBQWUsVUFBVyxLQURQQyxPQUdyQixNQUFPdGMsSUFFVCxJQUNFalAsU0FDR0MsZUFBZSxtQkFDZjNFLGlCQUFpQixRQUFTdUssVUFDekIsTUFFTWlJLEVBQXFDLENBQ3pDQyxPQUFRLGlCQUNSQyxNQUFPLENBQ0xxZCxXQUxlRyxNQVFuQnhsQixFQUNHbUksS0FBS0wsRUFBYzlILEVBQVNHLEtBQUtDLHFCQUNqQ2dJLEtBQU00SSxJQUNEQSxFQUNGNVgsRUFBYThCLGtCQUFrQixtQkFBb0IsV0FFbkQ5QixFQUFhOEIsa0JBQWtCLHlCQUEwQixTQUUzRDBELElBQ0FvQixFQUFTc0ksMkJBR2pCLE1BQU9XLElBRVQsSUFDRWpQLFNBQVNDLGVBQWUsZUFBZTNFLGlCQUFpQixRQUFTLEtBQy9EbXdCLE1BRUYsTUFBT3hjLEtBMWJYLHdCQUE2QjlJLEdBQzNCSCxFQUFXRyxHQU9iLGdCQTJCQSxtQkFrSkEsYUF5QkEsZ0JBcUVBLGVBcUNBLGdCQTZCQSwyQkFBZ0M5TSxHQUM5QixNQUFNa2QsRUFBV3ZXLFNBQVNDLGVBQWUsWUFDekNzVyxFQUFTcFMsY0FBY3pELFVBQVVSLE9BQU8sVUFDeENxVyxFQUFTM1YsV0FBYTZZLEVBQVM1TSxhQUFheFQsR0FDNUM4TCxLQU1GLHlCQVdBLDBCQXNGQSxNQUFNNkosRUFBa0IsU0FBVUMsR0FDaEMsR0FBYyxNQUFWQSxFQUFFblosSUFBYSxDQUVqQixNQUFNMlEsRUFBV3hMLE1BQU00SSxLQUNyQjdELFNBQVNxRCxpQkFBaUIsY0FFNUIsR0FBdUIsR0FBbkJvRCxFQUFTM00sT0FBYSxPQUUxQixNQUFNME0sRUFBZ0JnakIsRUFBWXZtQixtQkFFbEMsR0FBSXdULEVBQWVqUSxFQUFlQyxHQUFXLE9BRzdDLE9BQVFELEdBQ04sSUFBSyxnQkFHSCxHQUFJaUUsRUFBV2pFLEVBQWVDLEdBQzVCZ2xCLFNBR0csR0FBSS9nQixFQUFZbEUsRUFBZUMsR0FBVyxDQUk3QzZrQixFQUFlLFFBQVMsUUFITEMsSUFBaUJuakIsT0FBUTZHLEdBQzFDalAsU0FBU0MsZUFBZWdQLEdBQUd2TyxVQUFVOEMsU0FBUyxnQkFNN0MsR0FBd0IsSUFBcEJpRCxFQUFTM00sT0FBYyxDQUU5Qnd4QixFQUFlLFVBQVcsUUFEUEMsS0FHckIsTUFFRixJQUFLLGFBQ0gsR0FBSTdnQixFQUFZbEUsRUFBZUMsR0FBVyxDQUV4QzZrQixFQUFlLFFBQVMsUUFETEUsU0FFZCxDQUVMRixFQUFlLFVBQVcsS0FEUEMsS0FHckIsTUFFRixJQUFLLFVBQ0gsR0FBSTdnQixFQUFZbEUsRUFBZUMsR0FBVyxDQUV4QzZrQixFQUFlLFFBQVMsS0FETEUsU0FFZCxDQUVMRixFQUFlLFVBQVcsS0FEUEMsS0FHckIsTUFFRixJQUFLLGFBQ0M3Z0IsRUFBWWxFLEVBQWVDLEdBQzdCd1UsSUFFQXhXLEVBQWN1VSx3QkFFaEIsTUFFRixRQUlFLFlBSEE1ZSxRQUFRNEIsTUFDTiw4REFBOER3SyxTQWF4RSxTQUFTOGtCLEVBQ1B2ZCxFQUNBMmQsRUFDQUwsR0FFQSxNQUFNdmQsRUFBNkIsQ0FDakNDLE9BQVFBLEVBQ1JDLE1BQU8sQ0FDTDBkLFVBQVdBLEVBQ1hMLFdBQVlBLElBR2hCcmxCLEVBQ0dtSSxLQUFLTCxFQUFjOUgsRUFBU0csS0FBS0MscUJBQ2pDZ0ksS0FBTTRJLElBaUJMLEdBaEJJQSxFQUNhLFVBQVhqSixFQUNGM08sRUFBYThCLGtCQUFrQixtQkFBb0IsV0FFbkQ5QixFQUFhOEIsa0JBQWtCLHFCQUFzQixXQUd4QyxVQUFYNk0sRUFDRjNPLEVBQWE4QixrQkFBa0Isa0JBQW1CLFNBRWxEOUIsRUFBYThCLGtCQUFrQixvQkFBcUIsU0FHeEQ4RSxFQUFTc0ksdUJBR1MsT0FBZG9kLEVBQW9CLENBQ3RCLE1BQU1DLEVBQWMzckIsU0FBU0MsZUFDM0JvckIsRUFBVyxJQUNYbG5CLGNBQ0l5bkIsRUFBTTN3QixNQUFNNEksS0FBSzhuQixFQUFZL2dCLGVBRW5CalMsSUFEQXFOLEVBQVN3VSxLQUFLcVIsV0FBV0QsSUFFdkNFLEVBQVNDLHdCQUdibm5CLE1BeUNOLFNBQVNvbkIsRUFBMEJ6c0IsR0FDakMsTUFBTTJELEVBQVVsRCxTQUFTQyxlQUFlVixHQUN4QyxPQUFJMkQsYUFBbUIrb0IsbUJBQ2Qvb0IsRUFFRixLQXVDVCxTQUFTdW9CLElBQ1AsTUFBTUosRUFBYUcsSUFDYjdVLEVBQTRCLENBQ2hDNUksT0FBUSxRQUNSQyxNQUFPLElBRUhBLEVBQVEsSUFBSS9TLE1BRVp3TCxFQUFXNGtCLEVBQ2RuaUIsSUFBSThpQixHQUNKNWpCLE9BQVE5RCxHQUF3QyxPQUFQQSxHQUU1QyxHQUFJcWxCLEVBQVNsakIsR0FDWHVILEVBQU1uVSxRQTlGVixTQUFnQnd4QixHQUNkLE1BQU1yZCxFQUFRLElBQUkvUyxNQUNsQixJQUFLLE1BQU1zRSxLQUFNOHJCLEVBQVksQ0FDM0IsTUFBTW5vQixFQUFVbEQsU0FBU0MsZUFBZVYsR0FDcEMyRCxFQUFROEYsYUFBYSxpQkFDdkJnRixFQUFNblUsS0FBSyxDQUNUa1UsT0FBUSxNQUNSQyxNQUFPLENBQ0xDLFVBQVcxTyxFQUNYdVcsU0FBVSxXQUNWQyxVQUFXLE1BSWI3UyxFQUFROEYsYUFBYSxpQkFDdkJnRixFQUFNblUsS0FBSyxDQUNUa1UsT0FBUSxNQUNSQyxNQUFPLENBQ0xDLFVBQVcxTyxFQUNYdVcsU0FBVSxVQUNWQyxVQUFXLE1BR2YvSCxFQUFNblUsS0FBSyxDQUNUa1UsT0FBUSxVQUNSQyxNQUFPLENBQ0xDLFVBQVcxTyxFQUNYdVAsS0FBTSxPQU1kLE9BQU9kLEVBNkRTa2UsQ0FBT2IsUUFDaEIsQ0FDTCxNQUFPYyxFQUFlQyxHQW5EMUIsU0FDRTNsQixHQVlBLEdBVEFBLEVBQVNvakIsS0FBSyxDQUFDak4sRUFBR0MsS0FDaEIsTUFBTWlOLEVBQVNsTixFQUFFalgsUUFBUSxVQUNuQm9rQixFQUFTbE4sRUFBRWxYLFFBQVEsVUFDekIsT0FBT21rQixFQUFPRSx3QkFBd0JELEdBQ3BDRSxLQUFLQyw2QkFDRixFQUNELElBR2tCLElBQXBCempCLEVBQVMzTSxPQUNYLE1BQU8sQ0FBQzJNLEVBQVMsR0FBSUEsRUFBUyxJQUdoQyxNQUFNNGxCLEVBQWtCNWxCLEVBQVN3SyxLQUM5QjNNLElBQVFBLEVBQUcwakIsYUFBYSxrQkFBb0IxakIsRUFBRzBqQixhQUFhLGdCQUcvRCxHQUFJcUUsRUFBaUIsQ0FDbkIsTUFBTXh2QixFQUFRNEosRUFBU3dCLFFBQVFva0IsR0FFL0IsR0FBYyxJQUFWeHZCLEVBQ0YsTUFBTyxDQUFDNEosRUFBUzVKLEdBQVE0SixFQUFTNUosRUFBUSxJQUNyQyxHQUFJQSxJQUFVNEosRUFBUzNNLE9BQVMsRUFDckMsTUFBTyxDQUFDMk0sRUFBUzVKLEVBQVEsR0FBSTRKLEVBQVM1SixLQXdCQXl2QixDQUFxQjdsQixHQUM3RHJNLFFBQVFteUIsSUFBSUosRUFBYzVzQixHQUFJNnNCLEVBQWU3c0IsSUFDN0N5TyxFQUFNblUsS0FBSyxDQUNUa1UsT0FBUSxNQUNSQyxNQUFPLENBQ0xDLFVBQVdrZSxFQUFjNXNCLEdBQ3pCdVcsU0FBVSxXQUNWQyxVQUFXLElBQU1xVyxFQUFlN3NCLE1BR3BDeU8sRUFBTW5VLEtBQUssQ0FDVGtVLE9BQVEsTUFDUkMsTUFBTyxDQUNMQyxVQUFXbWUsRUFBZTdzQixHQUMxQnVXLFNBQVUsVUFDVkMsVUFBVyxJQUFNb1csRUFBYzVzQixNQUluQyxNQUFNd0gsRUFBTXFsQixFQUFlbmxCLGNBQWMsUUFDN0IsT0FBUkYsR0FDRmlILEVBQU1uVSxLQUFLLENBQ1RrVSxPQUFRLFNBQ1JDLE1BQU8sQ0FDTEMsVUFBV2xILEVBQUl4SCxNQU12Qm9YLEVBQVkzSSxNQUFRQSxFQUNwQmhJLEVBQ0dtSSxLQUFLd0ksRUFBYTNRLEVBQVNHLEtBQUtDLHFCQUNoQ2dJLEtBQU00SSxJQUNEQSxFQUNGNVgsRUFBYThCLGtCQUFrQix3QkFBeUIsV0FFeEQ5QixFQUFhOEIsa0JBQ1gsaUNBQ0EsU0FHSjBELElBQ0FvQixFQUFTc0kseUJBT2YsU0FBU2tkLElBQ1AsTUFBTWdCLEVBQU0sR0FLWixPQUppQnZ4QixNQUFNNEksS0FBSzdELFNBQVNtRCx1QkFBdUIsYUFDbkRHLFFBQVNnQixJQUNoQmtvQixFQUFJM3lCLEtBQUt5SyxFQUFHL0UsTUFFUGl0QixFQU1ULFNBQVNqQixJQUNQLE1BQU1rQixFQUFjLEdBZXBCLE9BZGlCeHhCLE1BQU00SSxLQUFLN0QsU0FBU21ELHVCQUF1QixhQUNuREcsUUFBU2dCLElBQ2hCLEdBQ0VBLEVBQUc1RCxVQUFVOEMsU0FBUyxZQUN0QmMsRUFBRzVELFVBQVU4QyxTQUFTLFVBQ3RCYyxFQUFHNUQsVUFBVThDLFNBQVMsUUFFdEIsT0FFZXZJLE1BQU00SSxLQUFLUyxFQUFHc0csVUFDdEJ0SCxRQUFTd2pCLElBQ2hCMkYsRUFBWTV5QixLQUFLaXRCLEVBQUd2bkIsUUFHakJrdEIsSSxrTUN6dkJULGFBQ0EsT0FDQSxPQUVBLFNBQVNDLEVBQWtCQyxHQUN6QixNQUFNQyxFQUFXNXNCLFNBQVNTLGNBQWMsT0FDeENtc0IsRUFBU2xzQixVQUFVQyxJQUFJLDBCQUN2QmlzQixFQUFTaHNCLFVBQVksNkVBRVMrckIsRUFBTXp3Qix1akJBZXBDLE1BQU0yd0IsRUFBWUQsRUFBUzNsQixjQUFpQyxlQVM1RCxHQVJBNGxCLEVBQVVDLFFBQVUsSUFBTUYsRUFBUzFzQixTQUNuQzJzQixFQUFVdnhCLGlCQUFpQixZQUFhLEtBQ3RDdXhCLEVBQVU3b0IsYUFBYSxNQUFPLGdEQUVoQzZvQixFQUFVdnhCLGlCQUFpQixXQUFZLEtBQ3JDdXhCLEVBQVU3b0IsYUFBYSxNQUFPLGtEQUc1QjJvQixFQUFNdHRCLFFBQVMsQ0FDakIsTUFBTTB0QixFQUFVSCxFQUFTM2xCLGNBQTJCLHdCQUNwRDhsQixFQUFRanNCLE1BQU1DLFFBQVUsR0FFeEI4ckIsRUFBVS9yQixNQUFNMGIsT0FBUyxPQUV6QnVRLEVBQVF6eEIsaUJBQWlCLFlBQWEsS0FDcEN5eEIsRUFBUS9vQixhQUFhLE1BQU8sK0RBRTlCK29CLEVBQVF6eEIsaUJBQWlCLFdBQVksS0FDbkN5eEIsRUFBUS9vQixhQUFhLE1BQU8sZ0VBRTlCK29CLEVBQVF6eEIsaUJBQWlCLFFBQVMsSUFpR3RDLFNBQTRCaXhCLEdBQzFCLE1BQU1sVixFQUFjLElBQUksRUFBQTJWLFlBQ3hCM1YsRUFBWUUsbUJBQW1CLEVBQUFqSyxnQkFBZ0JxRCxVQUFXNGIsR0FDMURsVixFQUFZRyxrQkFwRzhCeVYsQ0FBbUJOLEVBQU10dEIsVUFHbkUsT0FBT3V0QixFQThCVCxTQUFnQk0sSUFDZCxNQUFNQyxFQUFhbnRCLFNBQVNpSCxjQUFjLGNBQ3BDbW1CLEVBQVVwdEIsU0FBU2lILGNBQWMsb0JBQ2pDb21CLEVBQWVELEVBQVFubUIsY0FBYyxhQUNyQzZSLEVBQVc5WSxTQUFTaUgsY0FBYyxzQkFFbEMsY0FBRTlFLElBQWtCLElBQUFrUixlQUN0QmxSLEdBQWVnckIsRUFBV3pzQixVQUFVQyxJQUFJLFdBRTVDeXNCLEVBQVE5eEIsaUJBQWlCLFFBQVUyVCxJQUNqQ0EsRUFBRWlFLGtCQUVFNEYsRUFBU3BZLFVBQVU4QyxTQUFTLFdBRTlCc1YsRUFBU3BZLFVBQVVSLE9BQU8sVUFDMUI0WSxFQUFTaFksTUFBTTZVLFFBQVUsZUFDekJyWCxXQUFXLEtBQ1R3YSxFQUFTaFksTUFBTThVLFNBQVcsV0FDekIsS0FDSHlYLEVBQWFycEIsYUFBYSxhQUFjLHNEQUt4QzhVLEVBQVNwWSxVQUFVQyxJQUFJLFVBQ3ZCbVksRUFBU2hZLE1BQU04VSxTQUFXLFNBQzFCdFgsV0FBVyxLQUNUd2EsRUFBU2hZLE1BQU02VSxRQUFVLE9BQ3hCLEtBQ0gwWCxFQUFhcnBCLGFBQWEsYUFBYyx1REFJNUNzcEIsSUFPRixTQUFnQkEsSUFDZCxNQUFNQyxFQUFzQnZ0QixTQUFTaUgsY0FBYyw2QkFDN0N1bUIsRUFBY3h0QixTQUFTUyxjQUFjLFNBQ3JDZ3RCLEVBQVl6dEIsU0FBU1MsY0FBYyxTQUV6Q2d0QixFQUFVL3NCLFVBQVVDLElBQUksWUFDeEI2c0IsRUFBWTlzQixVQUFVQyxJQUFJLHFCQUFzQixrQkFDaEQ2c0IsRUFBWWhmLFlBQWMsU0FDMUJpZixFQUFVbHVCLEdBQUssaUJBQ2ZrdUIsRUFBVXAwQixLQUFPLFdBQ2pCbzBCLEVBQVV2YyxTQUFVLEVBQ3BCc2MsRUFBWUUsWUFBWUQsR0FDeEJGLEVBQW9CMXNCLE9BQU8yc0IsR0FFM0IsTUFBTSxjQUFFcnJCLElBQWtCLElBQUFrUixlQUMxQm9hLEVBQVV2YyxRQUFVL08sRUFFcEJzckIsRUFBVW55QixpQkFBaUIsUUFBUyxNQUNsQyxJQUFBeVcsYUFBWSxDQUFFNVAsY0FBZXNyQixFQUFVdmMsVUFDdkN5YyxNQVdKLFNBQWdCQSxJQUNkLE1BQU1DLEVBQWE1dEIsU0FBU2lILGNBQWMsZUFDcEMsVUFBRWxGLEVBQVMsY0FBRUksRUFBYSxZQUFFRCxFQUFXLFlBQUVGLEVBQVcsWUFBRUMsSUFBZ0IsSUFBQW9SLGVBRXRFbUIsRUFBZ0J4VSxTQUFTQyxlQUFlLG1CQUUxQzhCLEVBQ0VJLEdBQ0Z5ckIsRUFBV2x0QixVQUFVQyxJQUFJLFdBQ3JCdUIsR0FBZUYsR0FDakJDLEdBQWVFLElBQ2ZxUyxFQUFjOVQsVUFBVUMsSUFBSSxZQUM1QjZULEVBQWM1VCxVQUFZLGNBSTVCZ3RCLEVBQVdsdEIsVUFBVVIsT0FBTyxXQUN4QnNVLEVBQWM5VCxVQUFVOEMsU0FBUyxjQUNuQ2dSLEVBQWM5VCxVQUFVUixPQUFPLFlBQy9Cc1UsRUFBYzVULFVBQVksaUJBSTlCZ3RCLEVBQVdsdEIsVUFBVVIsT0FBTyxXQUN4QmdDLEdBQWVGLEdBQWVDLEdBQ2hDdVMsRUFBYzlULFVBQVVDLElBQUksWUFDNUI2VCxFQUFjNVQsVUFBWSxhQUUxQjRULEVBQWM5VCxVQUFVUixPQUFPLFlBQy9Cc1UsRUFBYzVULFVBQVksZ0JBekhoQyw4QkFBb0MrckIsR0FDdEIzc0IsU0FBU2lILGNBQWMscUJBQy9CM04sUUFBUW96QixFQUFpQkMsS0FRL0IsMEJBRWMzc0IsU0FBU2lILGNBQWMsY0FDL0JyRyxVQUFZLEVBQUF5TSx1QkFFaEI2ZixLQU9GLHlCQXdDQSx3QkE4QkEsOEIsOEZDckpBLGFBSUEsT0FFQSxRQUNBLE9BQ0EsT0FXTVcsRUFBYSxDQUNqQkMsUUFBUyxFQUNUQyxJQUFLLEVBQ0xDLFNBQVUsRUFDVkMsTUFBTyxFQUNQQyxZQUFhLEVBQ2JDLE9BQVEsRUFDUkMsV0FBWSxFQUNaQyxLQUFNLEdBR1IsU0FBU0MsRUFBVTdsQixFQUFhQyxFQUFhQyxFQUFhQyxFQUFhQyxHQUVyRSxJQUFJcVMsRUFFSixHQUFJclMsR0FBVSxFQUNacVMsRUFBUyxDQUNQLENBQUVsUSxFQUFHdkMsRUFBSzJDLEVBQUcxQyxFQUFLNVQsS0FBTSs0QixFQUFXQyxTQUNuQyxDQUFFOWlCLEdBQUl2QyxFQUFNRSxHQUFPLEVBQUd5QyxFQUFHMUMsR0FBT0MsRUFBTUYsR0FBTyxFQUFJN0ksS0FBSzJ1QixJQUFJMWxCLEdBQVMvVCxLQUFNKzRCLEVBQVdFLEtBQ3BGLENBQUUvaUIsRUFBR3JDLEVBQUt5QyxFQUFHMUMsR0FBT0MsRUFBTUYsR0FBTzdJLEtBQUsydUIsSUFBSTFsQixHQUFTL1QsS0FBTSs0QixFQUFXRyxVQUNwRSxDQUFFaGpCLEVBQUdyQyxFQUFLeUMsR0FBSTFDLEVBQU1FLEdBQU9ELEVBQU1GLEdBQU83SSxLQUFLMnVCLElBQUkxbEIsSUFBVyxFQUFHL1QsS0FBTSs0QixFQUFXSSxPQUNoRixDQUFFampCLEVBQUdyQyxFQUFLeUMsRUFBR3hDLEVBQUs5VCxLQUFNKzRCLEVBQVdLLGFBQ25DLENBQUVsakIsR0FBSXZDLEVBQU1FLEdBQU8sRUFBR3lDLEVBQUd4QyxHQUFPRCxFQUFNRixHQUFPLEVBQUk3SSxLQUFLMnVCLElBQUkxbEIsR0FBUy9ULEtBQU0rNEIsRUFBV00sUUFDcEYsQ0FBRW5qQixFQUFHdkMsRUFBSzJDLEVBQUd4QyxHQUFPRCxFQUFNRixHQUFPN0ksS0FBSzJ1QixJQUFJMWxCLEdBQVMvVCxLQUFNKzRCLEVBQVdPLFlBQ3BFLENBQUVwakIsRUFBR3ZDLEVBQUsyQyxHQUFJMUMsRUFBTUUsR0FBT0QsRUFBTUYsR0FBTzdJLEtBQUsydUIsSUFBSTFsQixJQUFXLEVBQUcvVCxLQUFNKzRCLEVBQVdRLFdBSS9FLENBQ0gsTUFBTXpSLEdBQUtqVSxFQUFNRixHQUFPN0ksS0FBS3liLElBQUl6YixLQUFLdUksSUFBSVUsSUFDcENnVSxFQUFJalUsRUFBTUYsRUFBTWtVLEVBQ3RCMUIsRUFBUyxDQUNQLENBQUVsUSxFQUFHdkMsRUFBSzJDLEVBQUcxQyxFQUFNa1UsRUFBRzluQixLQUFNKzRCLEVBQVdDLFNBQ3ZDLENBQUU5aUIsR0FBSXZDLEVBQU1FLEdBQU8sRUFBR3lDLEVBQUcxQyxFQUFNa1UsRUFBSSxFQUFHOW5CLEtBQU0rNEIsRUFBV0UsS0FDdkQsQ0FBRS9pQixFQUFHckMsRUFBS3lDLEVBQUcxQyxFQUFLNVQsS0FBTSs0QixFQUFXRyxVQUNuQyxDQUFFaGpCLEVBQUdyQyxFQUFLeUMsRUFBRzFDLEVBQU1tVSxFQUFJLEVBQUcvbkIsS0FBTSs0QixFQUFXSSxPQUMzQyxDQUFFampCLEVBQUdyQyxFQUFLeUMsRUFBRzFDLEVBQU1tVSxFQUFHL25CLEtBQU0rNEIsRUFBV0ssYUFDdkMsQ0FBRWxqQixHQUFJdkMsRUFBTUUsR0FBTyxFQUFHeUMsRUFBR3hDLEVBQU1nVSxFQUFJLEVBQUc5bkIsS0FBTSs0QixFQUFXTSxRQUN2RCxDQUFFbmpCLEVBQUd2QyxFQUFLMkMsRUFBR3hDLEVBQUs5VCxLQUFNKzRCLEVBQVdPLFlBQ25DLENBQUVwakIsRUFBR3ZDLEVBQUsyQyxFQUFHeEMsRUFBTWlVLEVBQUksRUFBRy9uQixLQUFNKzRCLEVBQVdRLE9BRy9DLE9BQU9uVCxFQUdULGtCQUF3QmhZLEVBQTZCOEMsRUFBb0JoQixHQUN2RSxJQUFJeUQsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFFQTJsQixFQUFvQkMsRUFDcEJDLEVBQXdCQyxFQUFvQkMsRUFDOUNDLEVBQWtCQyxFQUFzQkMsRUFBaUJySCxFQUFZc0gsRUFPdkUsU0FBU0MsSUFDUCxNQUFNL1QsRUFBa0JvVCxFQUFVN2xCLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUtDLEdBRWhEcW1CLEVBQXNCaFUsRUFBTzlTLE9BQU8sQ0FBQyttQixFQUFPdHlCLElBQW1CQSxFQUFRLEdBQU0sR0FDaEZxTSxJQUFJeEQsR0FBUUEsRUFBS3NGLEVBQUksSUFBTXRGLEVBQUswRixHQUNoQzhNLEtBQUssS0FFUmxZLFNBQVNpSCxjQUFjLGVBQWVqRCxhQUFhLFNBQVVrckIsR0FFN0QsTUFBTUUsRUFBV3B2QixTQUFTaUgsY0FBYyx3Q0FDcENtb0IsSUFDRkEsRUFBU3ByQixhQUFhLElBQUs5SixPQUFPMEYsS0FBS3dKLElBQUlYLEVBQUtFLEtBQ2hEeW1CLEVBQVNwckIsYUFBYSxJQUFLOUosT0FBTzBGLEtBQUt3SixJQUFJVixFQUFLRSxLQUNoRHdtQixFQUFTcHJCLGFBQWEsUUFBUzlKLE9BQU8wRixLQUFLdUksSUFBSVEsRUFBTUYsS0FDckQybUIsRUFBU3ByQixhQUFhLFNBQVU5SixPQUFPMEYsS0FBS3VJLElBQUlTLEVBQU1GLE1BSXhELElBQUssTUFBTTJtQixLQUFheEIsRUFBWSxDQUNsQyxNQUFNeUIsRUFBZXBVLEVBQU8yUyxFQUFXd0IsSUFDdkNqckIsRUFBR21CLE9BQU8sTUFBUThwQixHQUFXam5CLE9BQU8sZ0JBQ2pDaU0sS0FBSyxLQUFNaWIsRUFBTXRrQixHQUNqQnFKLEtBQUssS0FBTWliLEVBQU1sa0IsR0FHdEIsSUFBSUosRUFBSWtRLEVBQU8sR0FBR2xRLEVBQ2RJLEVBQUk4UCxFQUFPLEdBQUc5UCxFQUNsQixNQUFNbWtCLEVBQW9CdmtCLEVBQUksSUFBTyxLQUFPSSxFQUFJLElBQU0sS0FDbkRKLEVBQUksSUFBTSxLQUFPSSxFQUFJLElBQU0sS0FBT0osRUFBSSxLQUFPLEtBQU9JLEVBQUksSUFBTSxLQUFPSixFQUFJLEtBQU8sS0FBT0ksRUFBSSxJQUM5RkosRUFBSWtRLEVBQU8sR0FBR2xRLEVBQ2RJLEVBQUk4UCxFQUFPLEdBQUc5UCxFQUNkLE1BQU1va0IsRUFBbUJ4a0IsRUFBSSxJQUFPLEtBQU9JLEVBQUksSUFBTSxLQUNsREosRUFBSSxLQUFPLEtBQU9JLEVBQUksSUFBTSxLQUFPSixFQUFJLEtBQU8sS0FBT0ksRUFBSSxJQUFNLEtBQU9KLEVBQUksSUFBTSxLQUFPSSxFQUFJLElBRTlGaEgsRUFBR21CLE9BQU8sZUFBZThPLEtBQUssU0FBVW1iLEdBQ3hDcHJCLEVBQUdtQixPQUFPLGdCQUFnQjhPLEtBQUssU0FBVWtiLElBTzNDLFNBQVNFLElBQ1AsR0FBZ0IsT0FBWnZzQixFQUFrQixPQU90QixHQUxBa0IsRUFBR0MsVUFBVSxnQkFBZ0JuRSxTQUM3QmtFLEVBQUdDLFVBQVUsZUFBZW5FLFNBQzVCa0UsRUFBR0MsVUFBVSxnQkFBZ0JuRSxTQUd6QmdELEVBQVF4QyxVQUFVOEMsU0FBUyxPQUFRLENBQ3JDLE1BQU0yWSxFQUFPalosRUFBUStELGNBQWMsd0JBQ25DLEdBQWEsT0FBVGtWLEVBRUYsWUFEQS9oQixRQUFRQyxLQUFLLHdGQUdmb08sRUFBTXBSLE9BQU84a0IsRUFBS25ULGFBQWEsTUFDL0JOLEVBQU1yUixPQUFPOGtCLEVBQUtuVCxhQUFhLE1BQy9CTCxHQUFPRixJQUFPMFQsRUFBS25ULGFBQWEsU0FDaENKLEdBQU9GLElBQU95VCxFQUFLblQsYUFBYSxVQUVoQ0gsRUFBUyxFQUlYLEdBQUkzRixFQUFReEMsVUFBVThDLFNBQVMsU0FBVSxDQUN2QyxNQUFNc0QsR0FBTyxJQUFBcVUsY0FBYWpZLEdBQzFCdUYsRUFBTTNCLEVBQUsyQixJQUNYQyxFQUFNNUIsRUFBSzRCLElBQ1hDLEVBQU03QixFQUFLNkIsSUFDWEMsRUFBTTlCLEVBQUs4QixJQUVYLE1BQU1HLEVBQXdCN0YsRUFBUStELGNBQWMsUUFDakQrQixhQUFhLEtBQ2JDLE1BQU0sUUFDTkMsSUFBSWhHLEdBQVc3TCxPQUFPNkwsSUFDekIyRixFQUFTakosS0FBS3VKLE1BQU1KLEVBQVksR0FBS0EsRUFBWSxLQUM5Q0EsRUFBWSxHQUFLQSxFQUFZLEtBS2xDLElBQUkybUIsRUFGSmxCLEVBQWEvbEIsRUFBS2ttQixFQUFham1CLEVBQUsrbEIsRUFBYTlsQixFQUFLaW1CLEVBQWFobUIsRUFJbkUsTUFBTXNTLEVBQVNvVCxFQUFVN2xCLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUtDLEdBRTdDa21CLEVBQVU3VCxFQUFPLEdBQUdsUSxFQUFJa1EsRUFBTyxHQUFHbFEsRUFFbEMsTUFBTWtrQixFQUFjaFUsRUFBTzlTLE9BQU8sQ0FBQ3VuQixFQUFHOXlCLElBQVVBLEVBQVEsR0FBTSxHQUMzRHFNLElBQUl4RCxHQUFRQSxFQUFLc0YsRUFBSSxJQUFNdEYsRUFBSzBGLEdBQ2hDOE0sS0FBSyxLQUVSOVQsRUFBR21CLE9BQU8sSUFBTXJDLEVBQVEzRCxJQUFJc0IsT0FBTyxXQUNoQ3dULEtBQUssU0FBVTZhLEdBQ2Y3YSxLQUFLLEtBQU0sY0FDWEEsS0FBSyxTQUFVLFNBQ2ZBLEtBQUssZUFBZ0IsSUFDckJBLEtBQUssT0FBUSxRQUNidlQsTUFBTSxTQUFVLFFBQ2hCQSxNQUFNLG1CQUFvQixTQUU3QixNQUFNLFdBQUVXLElBQWUsSUFBQTRSLGVBRXZCLElBQUssTUFBTWdjLEtBQWF4QixFQUFZLENBQ2xDLE1BQU15QixFQUFlcFUsRUFBTzJTLEVBQVd3QixJQUN2Q2pyQixFQUFHbUIsT0FBT3JDLEVBQVEwc0IsaUJBQWlCL3VCLE9BQU8sVUFDdkN3VCxLQUFLLEtBQU1pYixFQUFNdGtCLEdBQ2pCcUosS0FBSyxLQUFNaWIsRUFBTWxrQixHQUNqQmlKLEtBQUssSUFBSzVTLEdBQ1Y0UyxLQUFLLFNBQVUsU0FDZkEsS0FBSyxlQUFnQixHQUNyQkEsS0FBSyxPQUFRLFdBQ2JBLEtBQUssUUFBUyxlQUNkQSxLQUFLLEtBQU0sS0FBT2diLEdBSXZCLElBQUssTUFBTXY2QixLQUFRKzRCLEVBQ2pCenBCLEVBQUdtQixPQUFPLE1BQVF6USxHQUFNc1QsT0FBTyxnQkFBZ0IxVCxLQUM3QzBQLEVBQUdtakIsT0FDQS91QixHQUFHLFFBQVMsS0FBUXEzQixFQUFZLzZCLEtBQ2hDMEQsR0FBRyxPQUFRczNCLEdBQ1h0M0IsR0FBRyxNQUFPdTNCLEVBQVVoNkIsS0FBSzBCLFFBR2hDLEdBQUl5TCxFQUFReEMsVUFBVThDLFNBQVMsU0FBVSxDQUN2QyxJQUFJd0gsRUFBSWtRLEVBQU8sR0FBR2xRLEVBQ2RJLEVBQUk4UCxFQUFPLEdBQUc5UCxFQUNsQixNQUFNbWtCLEVBQW9CdmtCLEVBQUksSUFBTyxLQUFPSSxFQUFJLElBQU0sS0FDbkRKLEVBQUksSUFBTSxLQUFPSSxFQUFJLElBQU0sS0FBT0osRUFBSSxLQUFPLEtBQU9JLEVBQUksSUFBTSxLQUFPSixFQUFJLEtBQU8sS0FBT0ksRUFBSSxJQUM5RkosRUFBSWtRLEVBQU8sR0FBR2xRLEVBQ2RJLEVBQUk4UCxFQUFPLEdBQUc5UCxFQUNkLE1BQU1va0IsRUFBbUJ4a0IsRUFBSSxJQUFPLEtBQU9JLEVBQUksSUFBTSxLQUNsREosRUFBSSxLQUFPLEtBQU9JLEVBQUksSUFBTSxLQUFPSixFQUFJLEtBQU8sS0FBT0ksRUFBSSxJQUFNLEtBQU9KLEVBQUksSUFBTSxLQUFPSSxFQUFJLElBRTlGaEgsRUFBR21CLE9BQU8sSUFBTXJDLEVBQVEzRCxJQUFJc0IsT0FBTyxXQUNoQ3dULEtBQUssU0FBVWtiLEdBQ2ZsYixLQUFLLEtBQU0sZUFDWEEsS0FBSyxTQUFVLFNBQ2ZBLEtBQUssZUFBZ0IsR0FDckJBLEtBQUssT0FBUSxXQUNiQSxLQUFLLFFBQVMsZUFFakJqUSxFQUFHbUIsT0FBTyxJQUFNckMsRUFBUTNELElBQUlzQixPQUFPLFdBQ2hDd1QsS0FBSyxTQUFVbWIsR0FDZm5iLEtBQUssS0FBTSxjQUNYQSxLQUFLLFNBQVUsU0FDZkEsS0FBSyxlQUFnQixHQUNyQkEsS0FBSyxPQUFRLFdBQ2JBLEtBQUssUUFBUyxlQUVqQmpRLEVBQUdtQixPQUFPLGVBQWU3USxLQUN2QjBQLEVBQUdtakIsT0FDQS91QixHQUFHLFFBQVN3M0IsR0FDWngzQixHQUFHLFFBNEdWLFdBQ0UsTUFDTXkzQixFQURXN3JCLEVBQUc4ckIsTUFBTXo0QixNQUFNLEdBQ1JvM0IsRUFDbEJzQixFQUFhbkIsRUFBZ0JwdkIsS0FBS3VKLEtBQUs4bUIsRUFBT2xCLEdBQ2hEb0IsR0FBYyxJQUFPQSxFQUFhLEtBQ3BDekksRUFBS3VJLEVBQ0x2bkIsRUFBTW9tQixFQUFlcEgsRUFDckI3ZSxFQUFTc25CLEVBQ0x0bkIsR0FBVSxHQUNaSCxFQUFNZ2YsRUFBS3hNLEVBQU85UyxPQUFPa25CLEdBQVNBLEVBQU14NkIsT0FBUys0QixFQUFXQyxTQUFTLEdBQUcxaUIsRUFDeEV4QyxFQUFNc1MsRUFBTzlTLE9BQU9rbkIsR0FBU0EsRUFBTXg2QixPQUFTKzRCLEVBQVdLLGFBQWEsR0FBRzlpQixJQUV2RTFDLEVBQU13UyxFQUFPOVMsT0FBT2tuQixHQUFTQSxFQUFNeDZCLE9BQVMrNEIsRUFBV0csVUFBVSxHQUFHNWlCLEVBQ3BFeEMsRUFBTThlLEVBQUt4TSxFQUFPOVMsT0FBT2tuQixHQUFTQSxFQUFNeDZCLE9BQVMrNEIsRUFBV08sWUFBWSxHQUFHaGpCLElBRy9FNmpCLE9BM0hLejJCLEdBQUcsTUFBTzQzQixJQUVmaHNCLEVBQUdtQixPQUFPLGdCQUFnQjdRLEtBQ3hCMFAsRUFBR21qQixPQUNBL3VCLEdBQUcsUUFBU3czQixHQUNaeDNCLEdBQUcsUUF5SFYsV0FDRSxNQUNNeTNCLEVBRFc3ckIsRUFBRzhyQixNQUFNejRCLE1BQU0sR0FDUm8zQixFQUNsQnNCLEVBQWFuQixFQUFnQnB2QixLQUFLdUosS0FBSzhtQixFQUFPbEIsR0FDaERvQixHQUFjLElBQU9BLEVBQWEsS0FDcEN6SSxFQUFLdUksRUFDTHBuQixFQUFTc25CLEVBQ0x0bkIsR0FBVSxHQUNaRCxFQUFNOGUsRUFBS3hNLEVBQU85UyxPQUFPa25CLEdBQVNBLEVBQU14NkIsT0FBUys0QixFQUFXSyxhQUFhLEdBQUc5aUIsRUFDNUUxQyxFQUFNd1MsRUFBTzlTLE9BQU9rbkIsR0FBU0EsRUFBTXg2QixPQUFTKzRCLEVBQVdDLFNBQVMsR0FBRzFpQixJQUVuRTFDLEVBQU1nZixFQUFLeE0sRUFBTzlTLE9BQU9rbkIsR0FBU0EsRUFBTXg2QixPQUFTKzRCLEVBQVdHLFVBQVUsR0FBRzVpQixFQUN6RXhDLEVBQU1zUyxFQUFPOVMsT0FBT2tuQixHQUFTQSxFQUFNeDZCLE9BQVMrNEIsRUFBV08sWUFBWSxHQUFHaGpCLElBRzFFNmpCLE9BdklLejJCLEdBQUcsTUFBTzQzQixJQUdqQixTQUFTUCxFQUFhLzZCLEdBQ3BCNDZCLEVBQWE1NkIsRUFDYixNQUFNdzZCLEVBQVFwVSxFQUFPakssS0FBS3FlLEdBQVNBLEVBQU14NkIsT0FBUys0QixFQUFXLzRCLElBQzdENDVCLEVBQWUsQ0FBQ1ksRUFBTXRrQixFQUFHc2tCLEVBQU1sa0IsR0FDL0J1akIsRUFBYWptQixFQUNia21CLEVBQWFobUIsRUFHZixTQUFTa25CLElBQ1AsTUFBTU8sRUFBZWpzQixFQUFHOHJCLE1BQU16NEIsTUFDOUIsT0FBUW8yQixFQUFXNkIsSUFDakIsS0FBSzdCLEVBQVdDLFFBQ2RybEIsRUFBTTRuQixFQUFhLEdBQ25CM25CLEVBQU0ybkIsRUFBYSxHQUNuQixNQUNGLEtBQUt4QyxFQUFXRSxJQUNkcmxCLEVBQU0ybkIsRUFBYSxJQUFNMW5CLEVBQU1GLEdBQU83SSxLQUFLeWIsSUFBSXhTLEdBQVUsRUFDekQsTUFDRixLQUFLZ2xCLEVBQVdHLFNBQ2RybEIsRUFBTTBuQixFQUFhLEdBQ25CM25CLEVBQU0ybkIsRUFBYSxJQUFNMW5CLEVBQU1GLEdBQU83SSxLQUFLeWIsSUFBSXhTLEdBQy9DLE1BQ0YsS0FBS2dsQixFQUFXSSxNQUNkdGxCLEVBQU0wbkIsRUFBYSxHQUNuQnpuQixFQUFNZ21CLEdBQWN5QixFQUFhLEdBQUszQixFQUFhLElBQU05dUIsS0FBS3liLElBQUl4UyxHQUNsRSxNQUNGLEtBQUtnbEIsRUFBV0ssWUFDZHZsQixFQUFNMG5CLEVBQWEsR0FDbkJ6bkIsRUFBTXluQixFQUFhLEdBQ25CLE1BQ0YsS0FBS3hDLEVBQVdNLE9BQ2R2bEIsRUFBTXluQixFQUFhLElBQU0xbkIsRUFBTUYsR0FBTzdJLEtBQUt5YixJQUFJeFMsR0FBVSxFQUN6RCxNQUNGLEtBQUtnbEIsRUFBV08sV0FDZDNsQixFQUFNNG5CLEVBQWEsR0FDbkJ6bkIsRUFBTXluQixFQUFhLElBQU0xbkIsRUFBTUYsR0FBTzdJLEtBQUt5YixJQUFJeFMsR0FDL0MsTUFDRixLQUFLZ2xCLEVBQVdRLEtBQ2Q1bEIsRUFBTTRuQixFQUFhLEdBQ25CM25CLEVBQU1pbUIsR0FBYzBCLEVBQWEsR0FBSzNCLEVBQWEsSUFBTTl1QixLQUFLeWIsSUFBSXhTLEdBQ2xFLE1BQ0YsUUFDRXpPLFFBQVE0QixNQUFNLHFGQUVsQml6QixJQUdGLFNBQVNjLElBQ1AsSUFBSSxJQUFBL0csa0JBQWlCdmdCLEVBQUtDLEtBQVEsSUFBQXNnQixrQkFBaUJyZ0IsRUFBS0MsR0FJdEQsT0FIQUgsRUFBTStsQixFQUFZOWxCLEVBQU1pbUIsRUFBWWhtQixFQUFNOGxCLEVBQVk3bEIsRUFBTWdtQixFQUM1REssS0FFTyxJQUFBL3RCLG1CQUFrQixpRUFBa0UsU0FHN0YsTUFBTTRNLEVBQTZCLENBQ2pDQyxPQUFRLFNBQ1JDLE1BQU8sQ0FDTEMsVUFBVy9LLEVBQVEzRCxHQUNuQmtKLElBQUtBLEVBQ0xDLElBQUtBLEVBQ0xDLElBQUtBLEVBQ0xDLElBQUtBLElBSVQ1QyxFQUFTbUksS0FBS0wsRUFBYzlILEVBQVNHLEtBQUtDLHFCQUFxQmdJLEtBQUt2SSxNQUFPbVIsSUFRekUsR0FQSUEsU0FDSWhSLEVBQVNzSSx1QkFFakJwTCxFQUFVbEQsU0FBU2lILGNBQWMsSUFBSS9ELEVBQVEzRCxJQUM3Q2tKLE9BQU05UCxFQUFXK1AsT0FBTS9QLEVBQVdnUSxPQUFNaFEsRUFBV2lRLE9BQU1qUSxFQUN6RDgyQixJQUVJdnNCLEVBQVF4QyxVQUFVOEMsU0FBUyxRQUM3QixJQUFBcUQsWUFBVzNELEVBQVErRCxjQUFjLHdCQUF5QmpDLEVBQWF2TixVQUNsRSxFQUNMLElBQUE0TSxXQUFVLENBQUNyRSxTQUFTaUgsY0FBYyxJQUFJL0QsRUFBUTNELEtBQVF5RyxFQUFVaEIsR0FDaEUsTUFBTXVSLEVBQVd2VyxTQUFTaUgsY0FBYyxZQUVwQ3NQLElBQ0ZBLEVBQVMzVixVQUFZLEdBQ3JCMlYsRUFBU3BTLGNBQWN6RCxVQUFVQyxJQUFJLGNBTzdDLFNBQVNxdkIsSUFDUCxNQUFNTSxFQUFRbHNCLEVBQUdvakIsTUFBTUcsWUFBWS93QixPQUFPMkksR0FDMUNzdkIsRUFBV3pxQixFQUFHOHJCLE1BQU16NEIsTUFBTSxHQUMxQm0zQixFQUFhaG1CLEVBQ2IrbEIsRUFBYWptQixFQUNib21CLEVBQTBCLGdCQUFWd0IsRUFBMEIxbkIsRUFBTUYsRUFDaERzbUIsRUFBZ0JubUIsRUF3Q2xCLFNBQVN1bkIsSUFLUCxRQUpXejNCLElBQVArdUIsSUFDRkEsRUFBSyxJQUdILElBQUFzQixrQkFBaUJ2Z0IsRUFBS0MsS0FBUSxJQUFBc2dCLGtCQUFpQnJnQixFQUFLQyxHQWtCdEQsT0FqQkE1SSxTQUFTcUQsaUJBQWlCLGdCQUFnQkMsUUFBUWdCLEdBQU1BLEVBQUdwRSxVQUMzREYsU0FBU3FELGlCQUFpQixlQUFlQyxRQUFRZ0IsR0FBTUEsRUFBR3BFLFVBQzFERixTQUFTcUQsaUJBQWlCLGdCQUFnQkMsUUFBUWdCLEdBQU1BLEVBQUdwRSxVQUUzRGdELEVBQVVsRCxTQUFTQyxlQUFlaUQsRUFBUTNELElBQzFDa0osT0FBTTlQLEVBQ04rUCxPQUFNL1AsRUFDTmdRLE9BQU1oUSxFQUNOaVEsT0FBTWpRLEVBQ04rdUIsT0FBSy91QixFQUNMODJCLElBQ0l2c0IsRUFBUXhDLFVBQVU4QyxTQUFTLFFBQzdCLElBQUFxRCxZQUFXM0QsRUFBUStELGNBQWMsd0JBQXlCakMsRUFBYXZOLE9BRXZFLElBQUFxTixhQUFZNUIsRUFBUzhCLElBR2hCLElBQUE5RCxtQkFBa0IsaUVBQWtFLFNBRzdGLE1BQU00TSxFQUE2QixDQUNqQ0MsT0FBUSxlQUNSQyxNQUFPLENBQ0xDLFVBQVcvSyxFQUFRM0QsR0FDbkJrSixJQUFLQSxFQUNMQyxJQUFLQSxFQUNMQyxJQUFLQSxFQUNMQyxJQUFLQSxFQUNMQyxPQUFpQixJQUFUQSxFQUFlakosS0FBSzJ3QixLQUdoQ3ZxQixFQUFTbUksS0FBS0wsRUFBYzlILEVBQVNHLEtBQUtDLHFCQUFxQmdJLEtBQUt2SSxNQUFPbVIsSUFDckVBLFNBQ0loUixFQUFTc0ksdUJBRWpCcEwsRUFBVWxELFNBQVNDLGVBQWVpRCxFQUFRM0QsSUFDMUNrSixPQUFNOVAsRUFBVytQLE9BQU0vUCxFQUFXZ1EsT0FBTWhRLEVBQVdpUSxPQUFNalEsRUFDekQrdUIsT0FBSy91QixFQUNMODJCLElBRUl2c0IsRUFBUXhDLFVBQVU4QyxTQUFTLFFBQzdCLElBQUFxRCxZQUFXM0QsRUFBUStELGNBQWMsd0JBQXlCakMsRUFBYXZOLE9BRXZFLElBQUFxTixhQUFZNUIsRUFBUzhCLE1Balc3QnlxQixLLDZCQzNFRix1QkE4RkllLEVBQ0FDLEVBL0ZKLDBHQVFBLFNBQVNDLEVBQU81NkIsR0FDZCxNQUFPLElBQU1BLEVBRWYsU0FBUzY2QixFQUFTNzZCLEdBQ2hCLE9BQU9BLEVBQUl5bkIsVUFBVSxHQUV2QixTQUFTcVQsSUFDUG41QixLQUFLbzVCLE9BQVMsR0F1Q2hCLFNBQVNDLEVBQU1qeUIsR0FJYixHQUhBcEgsS0FBS281QixPQUFTLElBQUlELEVBR2QveEIsR0FBUzVELE1BQU02bUIsUUFBUWpqQixHQUN6QixJQUFLLElBQUl0SyxFQUFJLEVBQUc2SCxFQUFNeUMsRUFBTS9FLE9BQVF2RixFQUFJNkgsRUFBSzdILElBQzNDa0QsS0FBS2tKLElBQUk5QixFQUFNdEssSUFnRXJCLFNBQVN3OEIsRUFBa0I5NkIsR0FDekIsR0FBSUEsYUFBa0Jrb0IsWUFDcEIsT0FkSixTQUEwQmdCLEdBQ3hCLEdBQTBCLG1CQUFmQSxFQUFLaG5CLE1BQ2QsT0FBT2duQixFQUFLaG5CLE1BQU0sR0FHcEIsSUFBSXZCLEVBQVMsSUFBSXVuQixZQUFZZ0IsRUFBS1QsWUFDOUJGLEVBQWMsSUFBSUssV0FBV2pvQixHQUM3QjZuQixFQUFjLElBQUlJLFdBQVdNLEdBRWpDLE9BREFYLEVBQVk5aUIsSUFBSStpQixHQUNUN25CLEVBS0VvNkIsQ0FBaUIvNkIsR0FFMUIsSUFBSW1VLEVBQU9uVSxFQUFPbVUsS0FDZC9RLEVBQU9wRCxFQUFPb0QsS0FFbEIsTUFBNEIsbUJBQWpCcEQsRUFBT2tDLE1BQ1RsQyxFQUFPa0MsTUFBTSxFQUFHaVMsRUFBTS9RLEdBR3hCcEQsRUFBT2c3QixZQUFZLEVBQUc3bUIsRUFBTS9RLEdBdEhyQ3UzQixFQUFNejZCLFVBQVVmLElBQU0sU0FBVVUsR0FDOUIsSUFBSW83QixFQUFVUixFQUFPNTZCLEdBQ3JCLE9BQU8yQixLQUFLbzVCLE9BQU9LLElBRXJCTixFQUFNejZCLFVBQVV1RixJQUFNLFNBQVU1RixFQUFLTixHQUNuQyxJQUFJMDdCLEVBQVVSLEVBQU81NkIsR0FFckIsT0FEQTJCLEtBQUtvNUIsT0FBT0ssR0FBVzE3QixHQUNoQixHQUVUbzdCLEVBQU16NkIsVUFBVTRULElBQU0sU0FBVWpVLEdBRTlCLE9BRGM0NkIsRUFBTzU2QixLQUNIMkIsS0FBS281QixRQUV6QkQsRUFBTXo2QixVQUFVK0csS0FBTyxXQUNyQixPQUFPakksT0FBT2lJLEtBQUt6RixLQUFLbzVCLFFBQVEzbkIsSUFBSXlULEdBQUtnVSxFQUFTaFUsS0FFcERpVSxFQUFNejZCLFVBQVVnN0IsT0FBUyxTQUFVcjdCLEdBQ2pDLElBQUlvN0IsRUFBVVIsRUFBTzU2QixHQUNqQnF0QixFQUFNK04sS0FBV3o1QixLQUFLbzVCLE9BRTFCLGNBRE9wNUIsS0FBS281QixPQUFPSyxHQUNaL04sR0FFVHlOLEVBQU16NkIsVUFBVW1OLFFBQVUsU0FBVThjLEdBRWxDLElBREEsSUFBSWxqQixFQUFPakksT0FBT2lJLEtBQUt6RixLQUFLbzVCLFFBQ25CdDhCLEVBQUksRUFBRzZILEVBQU1jLEVBQUtwRCxPQUFRdkYsRUFBSTZILEVBQUs3SCxJQUFLLENBQy9DLElBQUl1QixFQUFNb0gsRUFBSzNJLEdBR2Y2ckIsRUFGWTNvQixLQUFLbzVCLE9BQU8vNkIsR0FDeEJBLEVBQU02NkIsRUFBUzc2QixNQUluQmIsT0FBT0MsZUFBZTA3QixFQUFNejZCLFVBQVcsT0FBUSxDQUM3Q2YsSUFBSyxXQUNILE9BQU9ILE9BQU9pSSxLQUFLekYsS0FBS281QixRQUFRLzJCLFVBY3BDZzNCLEVBQU0zNkIsVUFBVXdLLElBQU0sU0FBVTdLLEdBQzlCLE9BQU8yQixLQUFLbzVCLE9BQU9uMUIsSUFBSTVGLEdBQUssSUFFOUJnN0IsRUFBTTM2QixVQUFVNFQsSUFBTSxTQUFValUsR0FDOUIsT0FBTzJCLEtBQUtvNUIsT0FBTzltQixJQUFJalUsSUFFekJnN0IsRUFBTTM2QixVQUFVbU4sUUFBVSxTQUFVOGMsR0FDbEMzb0IsS0FBS281QixPQUFPdnRCLFNBQVEsU0FBVTlOLEVBQU9NLEdBQ25Dc3FCLEVBQUd0cUIsT0FHUGIsT0FBT0MsZUFBZTQ3QixFQUFNMzZCLFVBQVcsT0FBUSxDQUM3Q2YsSUFBSyxXQUNILE9BQU9xQyxLQUFLbzVCLE9BQU96bUIsU0FPdkIsV0FDRSxHQUFzQixvQkFBWDlVLFFBQXlDLG9CQUFSODdCLEtBQXNDLG9CQUFSem5CLElBQ3hFLE9BQU8sRUFFVCxJQUFJMG5CLEVBQU9wOEIsT0FBT3E4Qix5QkFBeUJGLElBQUs5N0IsT0FBT2k4QixTQUN2RCxPQUFPRixHQUFRLFFBQVNBLEdBQVFELElBQUk5N0IsT0FBT2k4QixXQUFhSCxJQVNwREksSUFJRmhCLEVBQWNNLEVBQ2RMLEVBQWNHLElBSmRKLEVBQWM3bUIsSUFDZDhtQixFQUFjVyxLQTBDbEIsSUFBSUssRUFBZTE2QixTQUFTWixVQUFVNFosU0FDbEMyaEIsRUFBbUJELEVBQWEvOEIsS0FBS08sUUFhekMsU0FBUzA4QixFQUFNMTdCLEdBQ2IsSUFBSTI3QixFQUNBcjlCLEVBQ0E2SCxFQUVKLElBQUtuRyxHQUE0QixpQkFBWEEsRUFDcEIsT0FBT0EsRUFHVCxHQUFJZ0YsTUFBTTZtQixRQUFRN3JCLEdBQVMsQ0FFekIsSUFEQTI3QixFQUFZLEdBQ1ByOUIsRUFBSSxFQUFHNkgsRUFBTW5HLEVBQU82RCxPQUFRdkYsRUFBSTZILEVBQUs3SCxJQUN4Q3E5QixFQUFVcjlCLEdBQUtvOUIsRUFBTTE3QixFQUFPMUIsSUFFOUIsT0FBT3E5QixFQUtULEdBQUkzN0IsYUFBa0I0N0IsTUFBUUMsU0FBUzc3QixHQUNyQyxPQUFPQSxFQUFPODdCLGNBR2hCLEdBeEVGLFNBQXdCOTdCLEdBQ3RCLE1BQStCLG9CQUFoQmtvQixhQUErQmxvQixhQUFrQmtvQixhQUM3QyxvQkFBVDZULE1BQXdCLzdCLGFBQWtCKzdCLEtBc0VoREMsQ0FBZWg4QixHQUNqQixPQUFPODZCLEVBQWtCOTZCLEdBRzNCLElBdENGLFNBQXVCVCxHQUNyQixJQUFJMDhCLEVBQVFqOUIsT0FBTzJHLGVBQWVwRyxHQUVsQyxHQUFjLE9BQVYwOEIsRUFDRixPQUFPLEVBRVQsSUFBSUMsRUFBT0QsRUFBTTEwQixZQUNqQixNQUF1QixtQkFBUjIwQixHQUNiQSxhQUFnQkEsR0FBUVYsRUFBYS84QixLQUFLeTlCLElBQVNULEVBOEJoRFUsQ0FBY244QixHQUNqQixPQUFPQSxFQUlULElBQUsxQixLQURMcTlCLEVBQVksR0FDRjM3QixFQUVSLEdBQUloQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRMUIsR0FBSSxDQUNuRCxJQUFJaUIsRUFBUW04QixFQUFNMTdCLEVBQU8xQixTQUNKLElBQVZpQixJQUNUbzhCLEVBQVVyOUIsR0FBS2lCLEdBSXJCLE9BQU9vOEIsRUFHVCxTQUFTbDZCLEVBQUtrSCxHQUNaLElBQUl5ekIsR0FBUyxFQUNiLE9BQU8sS0FBYSxTQUFVdjdCLEdBRTVCLEdBQUl1N0IsRUFFRixNQUFNLElBQUlwNEIsTUFBTSw4QkFFaEJvNEIsR0FBUyxFQUNUenpCLEVBQUlqSSxNQUFNYyxLQUFNWCxNQUt0QixTQUFTdzdCLEVBQVVDLEdBRWpCLE9BQU8sS0FBYSxTQUFVejdCLEdBRTVCQSxFQUFPNjZCLEVBQU03NkIsR0FDYixJQUFJMDdCLEVBQU8vNkIsS0FFUGc3QixFQUEyQyxtQkFBMUIzN0IsRUFBS0EsRUFBS2dELE9BQVMsSUFBcUJoRCxFQUFLZ0csTUFDOUQ0MUIsRUFBVSxJQUFJOTZCLFNBQVEsU0FBVSs2QixFQUFTNzZCLEdBQzNDLElBQUk4NkIsRUFDSixJQUNFLElBQUlDLEVBQVduN0IsR0FBSyxTQUFVTSxFQUFLODZCLEdBQzdCOTZCLEVBQ0ZGLEVBQU9FLEdBRVAyNkIsRUFBUUcsTUFLWmg4QixFQUFLK0MsS0FBS2c1QixJQUNWRCxFQUFPTCxFQUFLNTdCLE1BQU02N0IsRUFBTTE3QixLQUNTLG1CQUFkODdCLEVBQUt4a0IsTUFDdEJ1a0IsRUFBUUMsR0FFVixNQUFPM2pCLEdBQ1BuWCxFQUFPbVgsT0FTWCxPQUxJd2pCLEdBQ0ZDLEVBQVF0a0IsTUFBSyxTQUFVNEksR0FDckJ5YixFQUFPLEtBQU16YixLQUNaeWIsR0FFRUMsS0EwQlgsU0FBU0ssRUFBV2orQixFQUFNKzlCLEdBQ3hCLE9BQU9QLEVBQVUsS0FBYSxTQUFVeDdCLEdBQ3RDLEdBQUlXLEtBQUt1N0IsUUFDUCxPQUFPcDdCLFFBQVFFLE9BQU8sSUFBSW1DLE1BQU0sdUJBRWxDLEdBQUl4QyxLQUFLdzdCLFdBQ1AsT0FBT3I3QixRQUFRRSxPQUFPLElBQUltQyxNQUFNLDBCQUVsQyxJQUFJdTRCLEVBQU8vNkIsS0FFWCxPQWhDSixTQUFvQis2QixFQUFNMTlCLEVBQU1nQyxHQUU5QixHQUFJMDdCLEVBQUtoMUIsWUFBWW5CLFVBQVUsU0FBU3ZDLE9BQVEsQ0FFOUMsSUFEQSxJQUFJbzVCLEVBQVUsQ0FBQyxNQUFPVixFQUFLMTlCLEtBQU1BLEdBQ3hCUCxFQUFJLEVBQUdBLEVBQUl1QyxFQUFLZ0QsT0FBUyxFQUFHdkYsSUFDbkMyK0IsRUFBUXI1QixLQUFLL0MsRUFBS3ZDLElBRXBCaStCLEVBQUtoMUIsWUFBWTdELEtBQUssUUFBU3U1QixHQUcvQixJQUFJQyxFQUFlcjhCLEVBQUtBLEVBQUtnRCxPQUFTLEdBQ3RDaEQsRUFBS0EsRUFBS2dELE9BQVMsR0FBSyxTQUFVOUIsRUFBS21yQixHQUNyQyxJQUFJaVEsRUFBZSxDQUFDLE1BQU9aLEVBQUsxOUIsS0FBTUEsR0FDdENzK0IsRUFBZUEsRUFBYWo4QixPQUMxQmEsRUFBTSxDQUFDLFFBQVNBLEdBQU8sQ0FBQyxVQUFXbXJCLElBRXJDcVAsRUFBS2gxQixZQUFZN0QsS0FBSyxRQUFTeTVCLEdBQy9CRCxFQUFhbjdCLEVBQUttckIsS0FjcEJrUSxDQUFXYixFQUFNMTlCLEVBQU1nQyxHQUNsQlcsS0FBSzY3QixVQUFVQyxRQVdiVixFQUFTbDhCLE1BQU1jLEtBQU1YLEdBVm5CLElBQUljLFNBQVEsU0FBVSs2QixFQUFTNzZCLEdBQ3BDMDZCLEVBQUtjLFVBQVVFLFNBQVEsU0FBVUMsR0FDM0JBLEVBQ0YzN0IsRUFBTzI3QixHQUVQZCxFQUFRSCxFQUFLMTlCLEdBQU02QixNQUFNNjdCLEVBQU0xN0IsY0FVM0MsU0FBUzQ4QixFQUFLMU4sRUFBS2pyQixHQUVqQixJQURBLElBQUlvb0IsRUFBTSxHQUNENXVCLEVBQUksRUFBRzZILEVBQU1yQixFQUFJakIsT0FBUXZGLEVBQUk2SCxFQUFLN0gsSUFBSyxDQUM5QyxJQUFJODhCLEVBQU90MkIsRUFBSXhHLEdBQ1g4OEIsS0FBUXJMLElBQ1Y3QyxFQUFJa08sR0FBUXJMLEVBQUlxTCxJQUdwQixPQUFPbE8sRUFNVCxJQWdJSXdRLEVBOUhKLFNBQVNDLEVBQWlCNW9CLEdBQ3hCLE9BQU9BLEVBR1QsU0FBUzZvQixFQUEyQjdjLEdBQ2xDLE1BQU8sQ0FBQyxDQUNOOGMsR0FBSTljLElBS1IsU0FBUytjLEVBQVFDLEVBQUlDLEVBQU1wQixHQUN6QixJQUFJcUIsRUFBV0QsRUFBS0UsS0FHaEJDLEVBQWUsSUFBSTNELEVBQ3ZCeUQsRUFBUzV3QixTQUFRLFNBQVUrd0IsR0FDckJELEVBQWFycUIsSUFBSXNxQixFQUFROTBCLElBQzNCNjBCLEVBQWFoL0IsSUFBSWkvQixFQUFROTBCLElBQUkxRixLQUFLdzZCLEdBRWxDRCxFQUFhMTRCLElBQUkyNEIsRUFBUTkwQixHQUFJLENBQUM4MEIsT0FJbEMsSUFBSUMsRUFBVUYsRUFBYWhxQixLQUN2Qm1xQixFQUFVLEVBQ1ZDLEVBQWdCLElBQUl2NUIsTUFBTXE1QixHQWU5QixTQUFTRyxJQWJULElBQ01DLElBYUVILElBQVlELElBYmRJLEVBQVUsR0FDZEYsRUFBY2x4QixTQUFRLFNBQVU2ZixHQUM5QkEsRUFBSWdSLEtBQUs3d0IsU0FBUSxTQUFVa1gsR0FDekJrYSxFQUFRNzZCLEtBQUssQ0FDWDBGLEdBQUk0akIsRUFBSTVqQixHQUNSNDBCLEtBQU0sQ0FBQzNaLFdBSWJxWSxFQUFTLEtBQU0sQ0FBQzZCLFFBQVNBLEtBYzNCLElBQUlDLEVBQWMsR0FDbEJQLEVBQWE5d0IsU0FBUSxTQUFVOU4sRUFBT00sR0FDcEM2K0IsRUFBWTk2QixLQUFLL0QsTUFHbkIsSUFBSXZCLEVBQUksRUFFUixTQUFTcWdDLElBRVAsS0FBSXJnQyxHQUFLb2dDLEVBQVk3NkIsUUFBckIsQ0FJQSxJQUFJKzZCLEVBQU9qMUIsS0FBS3dKLElBQUk3VSxFQW5FVSxFQW1FdUJvZ0MsRUFBWTc2QixRQUM3RGc3QixFQUFRSCxFQUFZeDhCLE1BQU01RCxFQUFHc2dDLElBS25DLFNBQXNCQyxFQUFPeGpCLEdBQzNCd2pCLEVBQU14eEIsU0FBUSxTQUFVeXhCLEVBQU9udEIsR0FDN0IsSUFBSW90QixFQUFTMWpCLEVBQVMxSixFQUNsQnF0QixFQUFjYixFQUFhaC9CLElBQUkyL0IsR0FRL0JHLEVBQVV4QixFQUFLdUIsRUFBWSxHQUFJLENBQUMsYUFBYyxnQkFDbERDLEVBQVFDLFVBQVlGLEVBQVkvckIsS0FBSSxTQUFVbXJCLEdBRTVDLE9BQU9BLEVBQVFlLE9BSWpCRixFQUFRQyxVQUFZRCxFQUFRQyxVQUFVL3NCLE9BQU93ckIsR0FFN0MsSUFBSXlCLEVBQWV6QixFQUVjLElBQTdCc0IsRUFBUUMsVUFBVXI3QixnQkFDYm83QixFQUFRQyxVQUtmRSxFQUFleEIsR0FJakIsQ0FBQyxPQUFRLGNBQWUsU0FBVSxPQUFRLFVBQVV2d0IsU0FBUSxTQUFVMEssR0FDaEVBLEtBQVNpbUIsSUFDWGlCLEVBQVFsbkIsR0FBU2ltQixFQUFLam1CLE9BRzFCZ21CLEVBQUc1K0IsSUFBSTIvQixFQUFPRyxHQUFTLFNBQVVsOUIsRUFBS21yQixHQUNwQyxJQUFJbk0sRUE5RG1CelgsRUFBSTQwQixFQWlFekJuZCxFQURFaGYsRUFDTyxDQUFDLENBQUNnRSxNQUFPaEUsSUFFVHE5QixFQUFhbFMsR0FuRUQ1akIsRUFxRUx3MUIsRUFyRVNaLEVBcUVGbmQsRUFwRTdCd2QsRUFvRWNRLEdBcEVZLENBQUN6MUIsR0FBSUEsRUFBSTQwQixLQUFNQSxHQUN6Q00sSUFvRUlHLFVBbERKVSxDQUFhUixFQUFPdmdDLEdBQ3BCQSxHQUFLdWdDLEVBQU1oN0IsUUFzRGI4NkIsSUFNRixJQUNFaHlCLGFBQWFHLFFBQVEsNEJBQTZCLEdBQ2xENHdCLElBQWEvd0IsYUFBYUMsUUFBUSw2QkFDbEMsTUFBT29NLEdBQ1Awa0IsR0FBVyxFQUdiLFNBQVM0QixJQUNQLE9BQU81QixFQWdCVCxTQUFTNkIsSUFDUCxJQUFHOWdDLEtBQUsrQyxNQUNSQSxLQUFLbUQsV0FBYSxHQVZwQixTQUE2QjQzQixHQUN2QitDLEtBQ0ZqNkIsaUJBQWlCLFdBQVcsU0FBVTJULEdBQ3BDdWpCLEVBQUs3NEIsS0FBS3NWLEVBQUVuWixRQVNoQjIvQixDQUFvQmgrQixNQXNFdEIsU0FBU2krQixFQUFlQyxHQUV0QixHQUF1QixvQkFBWnY3QixTQUFzRCxtQkFBcEJBLFFBQVF1N0IsR0FBd0IsQ0FDM0UsSUFBSTcrQixFQUFPbUUsTUFBTTlFLFVBQVVnQyxNQUFNekQsS0FBSzBELFVBQVcsR0FDakRnQyxRQUFRdTdCLEdBQVFoL0IsTUFBTXlELFFBQVN0RCxJQXdCbkMsU0FBUzgrQixFQUFleHNCLEdBQ3RCLElBQUl2SixFQUFNLEVBSVYsT0FIS3VKLElBQ0h2SixFQUFNLEtBdkJWLFNBQXNCdUosRUFBS3ZKLEdBaUJ6QixPQWZBdUosRUFBTXlLLFNBQVN6SyxFQUFLLEtBQU8sR0FDM0J2SixFQUFNZ1UsU0FBU2hVLEVBQUssTUFDUkEsR0FBT0EsR0FBT3VKLEVBQ3hCdkosR0FBT3VKLEdBQU8sSUFBTSxFQUVwQnZKLEdBQVksRUFHVkEsRUFUYSxNQVVmdUosRUFBTXlzQixJQUNOaDJCLEVBWGUsU0FjTEEsRUFBTXVKLEdBRE54SixLQUFLdW5CLFNBR1MvZCxHQVFuQjBzQixDQUFhMXNCLEVBQUt2SixHQUszQixTQUFTazJCLEVBQWFDLEVBQVFyWSxHQUM1QitYLEVBQWUsT0FBUSxhQUFlTSxFQUFTLHVCQUF5QnJZLEdBNUgxRSxJQUFTNlgsRUFBUyxLQWlCbEJBLEVBQVFyL0IsVUFBVW1HLFlBQWMsU0FBVTI1QixFQUFRMTJCLEVBQUl5MEIsRUFBSUMsR0FFeEQsSUFBSXg4QixLQUFLbUQsV0FBVzJFLEdBQXBCLENBR0EsSUFBSWl6QixFQUFPLzZCLEtBQ1B5K0IsR0FBYSxFQWlDakJ6K0IsS0FBS21ELFdBQVcyRSxHQUFNNDJCLEVBQ3RCMStCLEtBQUtlLEdBQUd5OUIsRUFBUUUsR0FqQ2hCLFNBQVNBLElBRVAsR0FBSzNELEVBQUs1M0IsV0FBVzJFLEdBR3JCLEdBQUkyMkIsRUFDRkEsRUFBYSxjQURmLENBSUFBLEdBQWEsRUFDYixJQUFJRSxFQUFjMUMsRUFBS08sRUFBTSxDQUMzQixRQUFTLGVBQWdCLGNBQWUsWUFBYSxTQUNyRCxVQUFXLE9BQVEsUUFBUyxlQUFnQixTQUFVLGdCQVF4REQsRUFBR3FDLFFBQVFELEdBQWE1OUIsR0FBRyxVQUFVLFNBQVU1RCxHQUN6Q0EsRUFBRTBoQyxJQUFNckMsRUFBS3NDLFFBQVV0QyxFQUFLdUMsWUFDOUJ2QyxFQUFLc0MsTUFBUTNoQyxFQUFFMGhDLElBQ2ZyQyxFQUFLd0MsU0FBUzdoQyxPQUVmNEQsR0FBRyxZQUFZLFdBQ0csWUFBZjA5QixHQUNGLElBQVVDLEdBRVpELEdBQWEsS0FDWjE5QixHQUFHLFNBZE4sV0FDRTA5QixHQUFhLFFBbUJuQlYsRUFBUXIvQixVQUFVOEIsZUFBaUIsU0FBVWcrQixFQUFRMTJCLEdBRTdDQSxLQUFNOUgsS0FBS21ELGFBR2pCLElBQUd6RSxVQUFVOEIsZUFBZXZELEtBQUsrQyxLQUFNdytCLEVBQ3JDeCtCLEtBQUttRCxXQUFXMkUsV0FDWDlILEtBQUttRCxXQUFXMkUsS0FLekJpMkIsRUFBUXIvQixVQUFVdWdDLG1CQUFxQixTQUFVVCxHQUczQ1YsTUFDRjN5QixhQUFhcXpCLEdBQW9DLE1BQXpCcnpCLGFBQWFxekIsR0FBbUIsSUFBTSxNQUlsRVQsRUFBUXIvQixVQUFVd2dDLE9BQVMsU0FBVVYsR0FDbkN4K0IsS0FBS2tDLEtBQUtzOEIsR0FDVngrQixLQUFLaS9CLG1CQUFtQlQsSUF3RTFCLElBQUlXLEVBekIyQixtQkFBbEIzaEMsT0FBTzRoQyxPQUNQNWhDLE9BQU80aEMsT0FJUCxTQUFVamdDLEdBR2pCLElBRkEsSUFBSTBuQixFQUFLcnBCLE9BQU8yQixHQUVQaUcsRUFBUSxFQUFHQSxFQUFRekUsVUFBVTBCLE9BQVErQyxJQUFTLENBQ3JELElBQUlpNkIsRUFBYTErQixVQUFVeUUsR0FFM0IsR0FBa0IsTUFBZGk2QixFQUNGLElBQUssSUFBSUMsS0FBV0QsRUFFZDdoQyxPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUtvaUMsRUFBWUMsS0FDbkR6WSxFQUFHeVksR0FBV0QsRUFBV0MsSUFLakMsT0FBT3pZLEdBU2IsU0FBUzBZLEVBQVdoQixFQUFRaDZCLEVBQU9pN0IsR0FDakNoOUIsTUFBTXZGLEtBQUsrQyxLQUFNdy9CLEdBQ2pCeC9CLEtBQUt1K0IsT0FBU0EsRUFDZHYrQixLQUFLM0MsS0FBT2tILEVBQ1p2RSxLQUFLeUUsUUFBVSs2QixFQUNmeC9CLEtBQUt1RSxPQUFRLEVBUGYsSUFBU2c3QixFQUFZLzhCLE9BVXJCKzhCLEVBQVc3Z0MsVUFBVTRaLFNBQVcsV0FDOUIsT0FBT3JOLEtBQUtNLFVBQVUsQ0FDcEJnekIsT0FBUXYrQixLQUFLdStCLE9BQ2JsaEMsS0FBTTJDLEtBQUszQyxLQUNYb0gsUUFBU3pFLEtBQUt5RSxRQUNkKzZCLE9BQVF4L0IsS0FBS3cvQixVQUlFLElBQUlELEVBQVcsSUFBSyxlQUFnQixrQ0FBdkQsSUFDSUUsRUFBb0IsSUFBSUYsRUFBVyxJQUFLLGNBQWUsK0JBQ3ZERyxFQUFjLElBQUlILEVBQVcsSUFBSyxZQUFhLFdBQy9DSSxFQUFlLElBQUlKLEVBQVcsSUFBSyxXQUFZLDRCQUMvQ0ssRUFBYSxJQUFJTCxFQUFXLElBQUssY0FBZSxtQ0FDaERNLEVBQWEsSUFBSU4sRUFBVyxJQUFLLGFBQWMsNEJBQy9DTyxFQUFjLElBQUlQLEVBQVcsSUFBSyxjQUFlLHlEQUVqRFEsR0FEVyxJQUFJUixFQUFXLElBQUssc0JBQXVCLHFCQUN0QyxJQUFJQSxFQUFXLElBQUssZ0JBQWlCLDBDQUNyRFMsRUFBVSxJQUFJVCxFQUFXLElBQUssU0FBVSxrQ0FFeENVLEdBRGtCLElBQUlWLEVBQVcsSUFBSyxrQkFBbUIsdUJBQ3JDLElBQUlBLEVBQVcsSUFBSyxvQkFBcUIsb0NBQzdEVyxFQUFpQixJQUFJWCxFQUFXLElBQUssaUJBQWtCLCtCQUN2RFksRUFBYyxJQUFJWixFQUFXLElBQUssY0FBZSxvQ0FDakRhLEVBQWdCLElBQUliLEVBQVcsSUFBSyxjQUFlLGtDQUVuRGMsR0FEYSxJQUFJZCxFQUFXLElBQUssWUFBYSxzQkFDbEMsSUFBSUEsRUFBVyxJQUFLLHNCQUF1QixZQUl2RGUsSUFIWSxJQUFJZixFQUFXLElBQUssbUJBQW9CLFdBQ3hDLElBQUlBLEVBQVcsSUFBSyx3QkFBeUIsV0FDN0MsSUFBSUEsRUFBVyxJQUFLLFlBQWEsd0RBQy9CLElBQUlBLEVBQVcsSUFBSyxjQUFlLHVCQUVqRGdCLElBRGMsSUFBSWhCLEVBQVcsSUFBSyxjQUFlLCtEQUNsQyxJQUFJQSxFQUFXLElBQUssZUFBZ0IsZ0RBQ3JDLElBQUlBLEVBQVcsSUFBSyxjQUFlLDJCQUVyRCxTQUFTaUIsR0FBWWo4QixFQUFPaTdCLEdBQzFCLFNBQVNpQixFQUFpQmpCLEdBS3hCLElBREEsSUFBSWtCLEVBQVFsakMsT0FBT2lDLG9CQUFvQjhFLEdBQzlCekgsRUFBSSxFQUFHNkgsRUFBTSs3QixFQUFNcitCLE9BQVF2RixFQUFJNkgsRUFBSzdILElBQ1osbUJBQXBCeUgsRUFBTW04QixFQUFNNWpDLE1BQ3JCa0QsS0FBSzBnQyxFQUFNNWpDLElBQU15SCxFQUFNbThCLEVBQU01akMsVUFJZG9FLElBQWZsQixLQUFLMHFCLFFBQ1AxcUIsS0FBSzBxQixPQUFRLElBQUtsb0IsT0FBU2tvQixZQUlkeHBCLElBQVhzK0IsSUFDRngvQixLQUFLdy9CLE9BQVNBLEdBSWxCLE9BREFpQixFQUFpQi9oQyxVQUFZNmdDLEVBQVc3Z0MsVUFDakMsSUFBSStoQyxFQUFpQmpCLEdBRzlCLFNBQVNtQixHQUEwQnBnQyxHQUVqQyxHQUFtQixpQkFBUkEsRUFBa0IsQ0FDM0IsSUFBSW1vQixFQUFPbm9CLEdBQ1hBLEVBQU13L0IsR0FDRnJYLEtBQU9BLEVBd0JiLE1BckJJLFVBQVdub0IsR0FBcUIsYUFBZEEsRUFBSWdFLFFBQ3hCaEUsRUFBSWxELEtBQU8sV0FDWGtELEVBQUlnK0IsT0FBUyxLQUdULFNBQVVoK0IsSUFDZEEsRUFBSWxELEtBQU9rRCxFQUFJZ0UsT0FBUyxXQUdwQixXQUFZaEUsSUFDaEJBLEVBQUlnK0IsT0FBUyxLQUdULFlBQWFoK0IsSUFDakJBLEVBQUlrRSxRQUFVbEUsRUFBSWtFLFNBQVdsRSxFQUFJaS9CLFFBRzdCLFVBQVdqL0IsSUFDZkEsRUFBSW1xQixPQUFRLElBQUtsb0IsT0FBU2tvQixPQUdyQm5xQixFQVlULFNBQVNxZ0MsR0FBYXBFLEdBQ3BCLElBQUlxRSxFQUFNLEdBQ05DLEVBQVl0RSxFQUFLN3JCLFFBQWlDLG1CQUFoQjZyQixFQUFLN3JCLE9BRzNDLE9BRkFrd0IsRUFBSUUsTUFBUXZFLEVBQUt3RSxhQUVWLFNBQWdCaGdCLEdBQ2hCQSxFQUFPaWdCLE1BR1ZqZ0IsRUFBT2lnQixJQUFNLElBR2YsSUFBSUMsRUFBZUosR0FyQnZCLFNBQW1CbndCLEVBQVFzd0IsRUFBS0osR0FDOUIsSUFDRSxPQUFRbHdCLEVBQU9zd0IsRUFBS0osR0FDcEIsTUFBT3RnQyxHQUNQLElBQUlzckIsRUFBTSwwQkFBNEJ0ckIsRUFBSStYLFdBQzFDLE9BQU9rb0IsR0FBWUwsRUFBYXRVLElBZ0JBc1YsQ0FBVTNFLEVBQUs3ckIsT0FBUXFRLEVBQU9pZ0IsSUFBS0osR0FFbkUsR0FBNEIsaUJBQWpCSyxFQUNULE9BQU9BLEVBR1QsR0FBSUEsRUFDRixPQUFPLEVBR1QsR0FBSzFFLEVBQUs0RSxjQUVILElBQUs1RSxFQUFLNkUsWUFDZixJQUFLLElBQUlDLEtBQU90Z0IsRUFBT2lnQixJQUFJTSxhQUVyQi9qQyxPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUsrakIsRUFBT2lnQixJQUFJTSxhQUFjRCxLQUNoRXRnQixFQUFPaWdCLElBQUlNLGFBQWFELEdBQUtFLE1BQU8sZUFMakN4Z0IsRUFBT2lnQixJQVNoQixPQUFPLEdBSVgsU0FBU1EsR0FBUUMsR0FFZixJQURBLElBQUloVyxFQUFNLEdBQ0Q1dUIsRUFBSSxFQUFHNkgsRUFBTSs4QixFQUFLci9CLE9BQVF2RixFQUFJNkgsRUFBSzdILElBQzFDNHVCLEVBQU1BLEVBQUloc0IsT0FBT2dpQyxFQUFLNWtDLElBRXhCLE9BQU80dUIsRUFVVCxTQUFTaVcsR0FBZTc1QixHQUN0QixJQUFJdkgsRUFRSixHQVBLdUgsRUFFb0IsaUJBQVBBLEVBQ2hCdkgsRUFBTWlnQyxHQUFZWixHQUNULEtBQUs1NEIsS0FBS2MsS0FBUSxtQkFBcUJkLEtBQUtjLEtBQ3JEdkgsRUFBTWlnQyxHQUFZVixJQUpsQnYvQixFQUFNaWdDLEdBQVlYLEdBTWhCdC9CLEVBQ0YsTUFBTUEsRUFNVixTQUFTcWhDLEdBQVNyRixHQUNoQixNQUEwQixrQkFBZkEsRUFBR3NGLFFBQ0x0RixFQUFHc0YsUUFHVyxtQkFBWnRGLEVBQUczNkIsT0FDWnE4QixFQUFlLE9BQ2IsOEVBRW1CLFNBQWQxQixFQUFHMzZCLFFBV2QsU0FBU2tnQyxHQUEyQmpqQyxHQUNsQyxJQUFLQSxFQUNILE9BQU8sS0FFVCxJQUFJOHVCLEVBQVE5dUIsRUFBRSt1QixNQUFNLEtBQ3BCLE9BQXFCLElBQWpCRCxFQUFNdHJCLE9BQ0RzckIsRUFFWSxJQUFqQkEsRUFBTXRyQixPQUNELENBQUN4RCxFQUFHQSxHQUVOLEtBR1QsU0FBU2tqQyxHQUErQmxqQyxHQUN0QyxJQUFJbWpDLEVBQWFGLEdBQTJCampDLEdBQzVDLE9BQU9takMsRUFBYUEsRUFBV3ZoQixLQUFLLEtBQU8sS0FNN0MsSUFBSWhiLEdBQU8sQ0FBQyxTQUFVLFdBQVksWUFBYSxXQUFZLE9BQVEsV0FDL0QsT0FBUSxPQUFRLFdBQVksT0FBUSxZQUFhLE9BQVEsUUFBUyxVQUVsRXc4QixHQUFVLDRCQUlWQyxHQUFTLG1NQUViLFNBQVNDLEdBQVNqYyxHQUtoQixJQUpBLElBQUlocEIsRUFBSWdsQyxHQUFPRSxLQUFLbGMsR0FDaEI4RCxFQUFNLEdBQ05sdEIsRUFBSSxHQUVEQSxLQUFLLENBQ1YsSUFBSXVCLEVBQU1vSCxHQUFLM0ksR0FDWGlCLEVBQVFiLEVBQUVKLElBQU0sR0FDaEJ1bEMsR0FBaUQsSUFBdkMsQ0FBQyxPQUFRLFlBQVk3eEIsUUFBUW5TLEdBQzNDMnJCLEVBQUkzckIsR0FBT2drQyxFQUFVeFUsbUJBQW1COXZCLEdBQVNBLEVBVW5ELE9BUEFpc0IsRUFBUyxTQUFJLEdBQ2JBLEVBQUl2a0IsR0FBSyxLQUFLdVIsUUFBUWlyQixJQUFTLFNBQVVLLEVBQUlDLEVBQUlDLEdBQzNDRCxJQUNGdlksRUFBUyxTQUFFdVksR0FBTUMsTUFJZHhZLEVBT1QsU0FBU3lZLEdBQVVDLEVBQVFDLEdBQ3pCLElBQUlsOUIsRUFBTyxHQUNQZ04sRUFBUyxHQUNiLElBQUssSUFBSXBVLEtBQU9za0MsRUFDVm5sQyxPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUswbEMsRUFBT3RrQyxLQUM5Q29ILEVBQUtyRCxLQUFLL0QsR0FDVm9VLEVBQU9yUSxLQUFLdWdDLEVBQU10a0MsS0FJdEIsT0FEQW9ILEVBQUtyRCxLQUFLc2dDLEdBQ0hwakMsU0FBU0osTUFBTSxLQUFNdUcsR0FBTXZHLE1BQU0sS0FBTXVULEdBTWhELFNBQVNtd0IsR0FBT3JHLEVBQUllLEVBQU91RixHQUN6QixPQUFPdEcsRUFBRzUrQixJQUFJMi9CLEdBQ1h3RixPQUFNLFNBQVV2aUMsR0FFZixHQUFtQixNQUFmQSxFQUFJZytCLE9BQ04sTUFBTWgrQixFQUVSLE1BQU8sTUFFUm9XLE1BQUssU0FBVXNxQixHQUVkLElBQUk4QixFQUFTOUIsRUFBSStCLEtBQ2JDLEVBQVNKLEVBQVE1QixHQUVyQixPQUFLZ0MsR0FRTEEsRUFBT0MsSUFBTTVGLEVBQ2IyRixFQUFPRCxLQUFPRCxFQUtwQixTQUFtQnhHLEVBQUkwRSxFQUFLNEIsR0FDMUIsT0FBT3RHLEVBQUc0RyxJQUFJbEMsR0FBS3RxQixNQUFLLFNBQVUrVSxHQUNoQyxNQUFPLENBQ0wwWCxTQUFTLEVBQ1R6RixJQUFLalMsRUFBSWlTLFFBRVYsU0FBVXA5QixHQUVYLEdBQW1CLE1BQWZBLEVBQUlnK0IsT0FDTixNQUFNaCtCLEVBRVIsT0FBT3FpQyxHQUFPckcsRUFBSTBFLEVBQUlpQyxJQUFLTCxNQWZsQlEsQ0FBVTlHLEVBQUkwRyxFQUFRSixJQVBwQixDQUFDTyxTQUFTLEVBQU96RixJQUFLb0YsTUEwQnJDLElBQUlPLEdBQVcsU0FBVXBkLEdBQ3ZCLE9BQU9xZCxLQUFLcmQsSUFHVnNkLEdBQVcsU0FBVXRkLEdBQ3ZCLE9BQU91ZCxLQUFLdmQsSUFNZCxTQUFTd2QsR0FBVy9WLEVBQU9nVyxHQUV6QmhXLEVBQVFBLEdBQVMsR0FDakJnVyxFQUFhQSxHQUFjLEdBQzNCLElBQ0UsT0FBTyxJQUFJcEosS0FBSzVNLEVBQU9nVyxHQUN2QixNQUFPbnNCLEdBQ1AsR0FBZSxjQUFYQSxFQUFFbmEsS0FDSixNQUFNbWEsRUFPUixJQUxBLElBSUlvc0IsRUFBVSxJQUp1QixvQkFBaEJDLFlBQThCQSxZQUNaLG9CQUFsQkMsY0FBZ0NBLGNBQ2Isb0JBQW5CQyxlQUFpQ0EsZUFDeENDLG1CQUVMbG5DLEVBQUksRUFBR0EsRUFBSTZ3QixFQUFNdHJCLE9BQVF2RixHQUFLLEVBQ3JDOG1DLEVBQVF4NkIsT0FBT3VrQixFQUFNN3dCLElBRXZCLE9BQU84bUMsRUFBUUssUUFBUU4sRUFBVy9oQyxPQU10QyxTQUFTc2lDLEdBQTBCQyxHQUlqQyxJQUhBLElBQUk5aEMsRUFBUzhoQyxFQUFJOWhDLE9BQ2JtdEIsRUFBTSxJQUFJOUksWUFBWXJrQixHQUN0QmlCLEVBQU0sSUFBSThqQixXQUFXb0ksR0FDaEIxeUIsRUFBSSxFQUFHQSxFQUFJdUYsRUFBUXZGLElBQzFCd0csRUFBSXhHLEdBQUtxbkMsRUFBSTVlLFdBQVd6b0IsR0FFMUIsT0FBTzB5QixFQUdULFNBQVM0VSxHQUFtQkMsRUFBV3ppQyxHQUNyQyxPQUFPOGhDLEdBQVcsQ0FBQ1EsR0FBMEJHLElBQWEsQ0FBQ3ppQyxLQUFNQSxJQUduRSxTQUFTMGlDLEdBQWFDLEVBQUszaUMsR0FDekIsT0FBT3dpQyxHQUFtQmQsR0FBU2lCLEdBQU0zaUMsR0FpQjNDLFNBQVM0aUMsR0FBbUJDLEVBQU1ySixHQUNoQyxJQUFJc0osRUFBUyxJQUFJQyxXQUNiQyxFQUF1RCxtQkFBOUJGLEVBQU9GLG1CQUNwQ0UsRUFBT0csVUFBWSxTQUFVcnRCLEdBQzNCLElBQUkrSCxFQUFTL0gsRUFBRXJZLE9BQU9vZ0IsUUFBVSxHQUNoQyxHQUFJcWxCLEVBQ0YsT0FBT3hKLEVBQVM3YixHQUVsQjZiLEVBbkJKLFNBQW1DaFQsR0FJakMsSUFIQSxJQUFJMGMsRUFBUyxHQUNUeGUsRUFBUSxJQUFJYyxXQUFXZ0IsR0FDdkIvbEIsRUFBU2lrQixFQUFNVyxXQUNWbnFCLEVBQUksRUFBR0EsRUFBSXVGLEVBQVF2RixJQUMxQmdvQyxHQUFVcmlDLE9BQU84akIsYUFBYUQsRUFBTXhwQixJQUV0QyxPQUFPZ29DLEVBWUlDLENBQTBCeGxCLEtBRWpDcWxCLEVBQ0ZGLEVBQU9GLG1CQUFtQkMsR0FFMUJDLEVBQU9NLGtCQUFrQlAsR0FJN0IsU0FBU1EsR0FBbUJDLEVBQWM5SixHQUN4Q29KLEdBQW1CVSxHQUFjLFNBQVVmLEdBQ3pDL0ksRUFBUytJLE1BSWIsU0FBU2dCLEdBQWFELEVBQWM5SixHQUNsQzZKLEdBQW1CQyxHQUFjLFNBQVVFLEdBQ3pDaEssRUFBU29JLEdBQVM0QixPQWdCdEIsSUFBSUMsR0FBbUJ0SyxLQUFLdUssY0FBZ0J2SyxLQUFLbDBCLFdBY2pELFNBQVMwK0IsR0FBV25kLEVBQVFxYyxFQUFNZSxFQUFPcmUsRUFBS2lVLElBQ3hDb0ssRUFBUSxHQUFLcmUsRUFBTXNkLEVBQUs5eEIsUUFFMUI4eEIsRUFWSixTQUFtQkEsRUFBTWUsRUFBT3JlLEdBQzlCLE9BQUlzZCxFQUFLakwsWUFDQWlMLEVBQUtqTCxZQUFZZ00sRUFBT3JlLEdBRTFCc2QsRUFBSy9qQyxNQUFNOGtDLEVBQU9yZSxHQU1oQnNlLENBQVVoQixFQUFNZSxFQUFPcmUsSUE1QmxDLFNBQTJCc2QsRUFBTXJKLEdBQy9CLElBQUlzSixFQUFTLElBQUlDLFdBQ2pCRCxFQUFPRyxVQUFZLFNBQVVydEIsR0FDM0IsSUFBSStILEVBQVMvSCxFQUFFclksT0FBT29nQixRQUFVLElBQUltSCxZQUFZLEdBQ2hEMFUsRUFBUzdiLElBRVhtbEIsRUFBT00sa0JBQWtCUCxHQXdCekJPLENBQWtCUCxHQUFNLFNBQVVpQixHQUNoQ3RkLEVBQU9oZixPQUFPczhCLEdBQ2R0SyxPQUlKLFNBQVN1SyxHQUFhdmQsRUFBUXdkLEVBQVFKLEVBQU9yZSxFQUFLaVUsSUFDNUNvSyxFQUFRLEdBQUtyZSxFQUFNeWUsRUFBT3ZqQyxVQUU1QnVqQyxFQUFTQSxFQUFPOWYsVUFBVTBmLEVBQU9yZSxJQUVuQ2lCLEVBQU9mLGFBQWF1ZSxHQUNwQnhLLElBR0YsU0FBU3lLLEdBQVVuZCxFQUFNMFMsR0FDdkIsSUFBSTBLLEVBQWdDLGlCQUFUcGQsRUFDdkIvakIsRUFBTW1oQyxFQUFnQnBkLEVBQUtybUIsT0FBU3FtQixFQUFLL1YsS0FDekNvekIsRUFBWTU5QixLQUFLd0osSUFwQ0YsTUFvQ3NCaE4sR0FDckNxaEMsRUFBUzc5QixLQUFLODlCLEtBQUt0aEMsRUFBTW9oQyxHQUN6QkcsRUFBZSxFQUNmOWQsRUFBUzBkLEVBQWdCLElBQUksSUFBUSxJQUFJLElBQUlwZixZQUU3Q3RkLEVBQVMwOEIsRUFBZ0JILEdBQWVKLEdBRTVDLFNBQVM1VyxJQUNQMFcsR0FBaUJjLEdBR25CLFNBQVNDLElBQ1AsSUFDSWhCLEVBL0NSLFNBQXFCM2QsR0FDbkIsT0FBTytiLEdBQVMvYixHQThDRDRlLENBREhqZSxFQUFPakIsS0FBSSxJQUVyQmlVLEVBQVNnSyxHQUNUaGQsRUFBT0wsVUFHVCxTQUFTb2UsSUFDUCxJQUFJWCxFQUFRVSxFQUFlSCxFQUN2QjVlLEVBQU1xZSxFQUFRTyxFQUNsQkcsSUFFRTk4QixFQUFPZ2YsRUFBUU0sRUFBTThjLEVBQU9yZSxFQUQxQitlLEVBQWVGLEVBQ2dCclgsRUFFQXlYLEdBR3JDRCxJQUdGLFNBQVNHLEdBQVVWLEdBQ2pCLE9BQU8sSUFBSS9kLEtBQUsrZCxHQU9sQixTQUFTVyxHQUFPdEYsRUFBS3VGLEdBQ25CLElBQUtBLEVBQ0gsT0FBTyxjQUFLeHZCLFFBQVEsS0FBTSxJQUFJK0MsY0FHaEMsSUFBSTBzQixFQUFnQnRILEVBQXNCLEdBQUk4QixHQUU5QyxjQURPd0YsRUFBY0MsVUFDZEosR0FBVXI3QixLQUFLTSxVQUFVazdCLElBR2xDLElBQUkzc0IsR0FBTyxJQU9YLFNBQVM2c0IsR0FBV0MsR0FNbEIsSUFMQSxJQUFJQyxFQUNBQyxFQUNBQyxFQUVBQyxFQURBQyxFQUFVTCxFQUFTTSxTQUFTeG1DLFFBRXhCc21DLEVBQU9DLEVBQVE1aEMsT0FBUSxDQUM3QixJQUFJOGhDLEVBQU9ILEVBQUtqUyxJQUNacVMsRUFBV0QsRUFBSyxHQUNoQkUsRUFBTUwsRUFBS0ssSUFDZixHQUFJRCxFQUFTL2tDLE9BQ1gsSUFBSyxJQUFJdkYsRUFBSSxFQUFHNkgsRUFBTXlpQyxFQUFTL2tDLE9BQVF2RixFQUFJNkgsRUFBSzdILElBQzlDbXFDLEVBQVE3a0MsS0FBSyxDQUFDaWxDLElBQUtBLEVBQU0sRUFBR3RTLElBQUtxUyxFQUFTdHFDLFNBRjlDLENBTUEsSUFBSXdxQyxJQUFZSCxFQUFLLEdBQUdHLFFBQ3BCeC9CLEVBQUtxL0IsRUFBSyxHQUVUTixLQUFjRSxJQUFtQk8sRUFBVVAsRUFDNUNELElBQWVPLEVBQU1QLEVBQWFPLEVBQU1SLEVBQVkvK0IsS0FDdEQrK0IsRUFBWS8rQixFQUNaZy9CLEVBQWFPLEVBQ2JOLEVBQWlCTyxJQUlyQixPQUFPUixFQUFhLElBQU1ELEVBTzVCLFNBQVNVLEdBQWdCQyxFQUFNcE0sR0FJN0IsSUFIQSxJQUVJNEwsRUFGQUMsRUFBVU8sRUFBSzltQyxRQUdYc21DLEVBQU9DLEVBQVE1aEMsT0FNckIsSUFMQSxJQUFJZ2lDLEVBQU1MLEVBQUtLLElBQ1hGLEVBQU9ILEVBQUtqUyxJQUNacVMsRUFBV0QsRUFBSyxHQUNoQk0sRUFDRnJNLEVBQTZCLElBQXBCZ00sRUFBUy9rQyxPQUFjZ2xDLEVBQUtGLEVBQUssR0FBSUgsRUFBS3BjLElBQUt1YyxFQUFLLElBQ3REcnFDLEVBQUksRUFBRzZILEVBQU15aUMsRUFBUy9rQyxPQUFRdkYsRUFBSTZILEVBQUs3SCxJQUM5Q21xQyxFQUFRN2tDLEtBQUssQ0FBQ2lsQyxJQUFLQSxFQUFNLEVBQUd0UyxJQUFLcVMsRUFBU3RxQyxHQUFJOHRCLElBQUs2YyxJQUt6RCxTQUFTQyxHQUFVdmlCLEVBQUdDLEdBQ3BCLE9BQU9ELEVBQUVraUIsSUFBTWppQixFQUFFaWlCLElBR25CLFNBQVNNLEdBQWNILEdBQ3JCLElBQUlJLEVBQVMsR0FDYkwsR0FBZ0JDLEdBQU0sU0FBVUssRUFBUVIsRUFBS3YvQixFQUFJNHBCLEVBQUs4SyxHQUNoRHFMLEdBQ0ZELEVBQU94bEMsS0FBSyxDQUFDdTdCLElBQUswSixFQUFNLElBQU12L0IsRUFBSXUvQixJQUFLQSxFQUFLN0ssS0FBTUEsT0FHdERvTCxFQUFPeFYsS0FBS3NWLElBQVdJLFVBQ3ZCLElBQUssSUFBSWhyQyxFQUFJLEVBQUc2SCxFQUFNaWpDLEVBQU92bEMsT0FBUXZGLEVBQUk2SCxFQUFLN0gsV0FDckM4cUMsRUFBTzlxQyxHQUFHdXFDLElBRW5CLE9BQU9PLEVBTVQsU0FBU0csR0FBaUJuQixHQUl4QixJQUhBLElBQUlvQixFQUFNckIsR0FBV0MsR0FDakJnQixFQUFTRCxHQUFjZixFQUFTTSxVQUNoQ2UsRUFBWSxHQUNQbnJDLEVBQUksRUFBRzZILEVBQU1pakMsRUFBT3ZsQyxPQUFRdkYsRUFBSTZILEVBQUs3SCxJQUFLLENBQ2pELElBQUlvckMsRUFBT04sRUFBTzlxQyxHQUNkb3JDLEVBQUt2SyxNQUFRcUssR0FBUUUsRUFBSzFMLEtBQUs4SyxTQUNqQ1csRUFBVTdsQyxLQUFLOGxDLEVBQUt2SyxLQUd4QixPQUFPc0ssRUFrQlQsU0FBU0UsR0FBV1gsR0FJbEIsSUFIQSxJQUVJUixFQUZBb0IsRUFBUSxHQUNSbkIsRUFBVU8sRUFBSzltQyxRQUVYc21DLEVBQU9DLEVBQVE1aEMsT0FBUSxDQUM3QixJQUFJZ2lDLEVBQU1MLEVBQUtLLElBQ1hGLEVBQU9ILEVBQUtqUyxJQUNaanRCLEVBQUtxL0IsRUFBSyxHQUNWM0ssRUFBTzJLLEVBQUssR0FDWkMsRUFBV0QsRUFBSyxHQUNoQlUsRUFBNkIsSUFBcEJULEVBQVMva0MsT0FFbEJnbUMsRUFBVXJCLEVBQUtxQixRQUFVckIsRUFBS3FCLFFBQVEzbkMsUUFBVSxHQUNwRDJuQyxFQUFRam1DLEtBQUssQ0FBQzBGLEdBQUlBLEVBQUkwMEIsS0FBTUEsSUFDeEJxTCxHQUNGTyxFQUFNaG1DLEtBQUssQ0FBQ2lsQyxJQUFNQSxFQUFNLEVBQUlnQixFQUFRaG1DLE9BQVMweUIsSUFBS3NULElBRXBELElBQUssSUFBSXZyQyxFQUFJLEVBQUc2SCxFQUFNeWlDLEVBQVMva0MsT0FBUXZGLEVBQUk2SCxFQUFLN0gsSUFDOUNtcUMsRUFBUTdrQyxLQUFLLENBQUNpbEMsSUFBS0EsRUFBTSxFQUFHdFMsSUFBS3FTLEVBQVN0cUMsR0FBSXVyQyxRQUFTQSxJQUczRCxPQUFPRCxFQUFNTixVQUtmLFNBQVNRLEdBQVluakIsRUFBR0MsR0FDdEIsT0FBT0QsRUFBRWtpQixJQUFNamlCLEVBQUVpaUIsSUFvQm5CLFNBQVNrQixHQUFhamxDLEVBQUtpbkIsRUFBTWllLEdBQy9CLElBQUl0VixFQWpCTixTQUFzQjV2QixFQUFLaW5CLEVBQU1pZSxHQUkvQixJQUhBLElBRUlDLEVBRkFDLEVBQU0sRUFDTkMsRUFBT3JsQyxFQUFJakIsT0FFUnFtQyxFQUFNQyxHQUVQSCxFQUFXbGxDLEVBRGZtbEMsRUFBT0MsRUFBTUMsSUFBVSxHQUNFcGUsR0FBUSxFQUMvQm1lLEVBQU1ELEVBQU0sRUFFWkUsRUFBT0YsRUFHWCxPQUFPQyxFQUtHRSxDQUFhdGxDLEVBQUtpbkIsRUFBTWllLEdBQ2xDbGxDLEVBQUl1bEMsT0FBTzNWLEVBQUssRUFBRzNJLEdBTXJCLFNBQVN1ZSxHQUFXejNCLEVBQU0wM0IsR0FHeEIsSUFGQSxJQUFJQyxFQUNBZCxFQUNLcHJDLEVBQUlpc0MsRUFBWXBrQyxFQUFNME0sRUFBS2hQLE9BQVF2RixFQUFJNkgsRUFBSzdILElBQUssQ0FDeEQsSUFBSWtxQyxFQUFPMzFCLEVBQUt2VSxHQUNabXNDLEVBQWMsQ0FBQ2pDLEVBQUtsL0IsR0FBSWsvQixFQUFLeEssS0FBTSxJQUNuQzBMLEdBQ0ZBLEVBQUssR0FBRzlsQyxLQUFLNm1DLEdBQ2JmLEVBQU9lLEdBRVBELEVBQU9kLEVBQU9lLEVBR2xCLE9BQU9ELEVBSVQsU0FBU0UsR0FBWS9qQixFQUFHQyxHQUN0QixPQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBTSxFQUFJLEVBSzVCLFNBQVMrakIsR0FBVUMsRUFBVUMsR0FHM0IsSUFGQSxJQUFJN2lDLEVBQVEsQ0FBQyxDQUFDOGlDLE1BQU9GLEVBQVVHLE1BQU9GLElBQ2xDcEIsR0FBWSxFQUNUemhDLEVBQU1uRSxPQUFTLEdBQUcsQ0FDdkIsSUFBSWtvQixFQUFPL2pCLEVBQU1uQixNQUNiaWtDLEVBQVEvZSxFQUFLK2UsTUFDYkMsRUFBUWhmLEVBQUtnZixPQUViRCxFQUFNLEdBQUcvSyxRQUFVZ0wsRUFBTSxHQUFHaEwsVUFDOUIrSyxFQUFNLEdBQUcvSyxPQUNlLGNBQXJCK0ssRUFBTSxHQUFHL0ssUUFDVSxjQUFwQmdMLEVBQU0sR0FBR2hMLE9BQTBCLFlBQWMsV0FHckQsSUFBSyxJQUFJemhDLEVBQUksRUFBR0EsRUFBSXlzQyxFQUFNLEdBQUdsbkMsT0FBUXZGLElBQ25DLEdBQUt3c0MsRUFBTSxHQUFHLEdBQWQsQ0FPQSxJQURBLElBQUlFLEdBQVMsRUFDSnI1QixFQUFJLEVBQUdBLEVBQUltNUIsRUFBTSxHQUFHam5DLE9BQVE4TixJQUMvQm01QixFQUFNLEdBQUduNUIsR0FBRyxLQUFPbzVCLEVBQU0sR0FBR3pzQyxHQUFHLEtBQ2pDMEosRUFBTXBFLEtBQUssQ0FBQ2tuQyxNQUFPQSxFQUFNLEdBQUduNUIsR0FBSW81QixNQUFPQSxFQUFNLEdBQUd6c0MsS0FDaEQwc0MsR0FBUyxHQUdSQSxJQUNIdkIsRUFBWSxhQUNaTSxHQUFhZSxFQUFNLEdBQUlDLEVBQU0sR0FBR3pzQyxHQUFJb3NDLFVBZHBDakIsRUFBWSxXQUNacUIsRUFBTSxHQUFHLEdBQUtDLEVBQU0sR0FBR3pzQyxHQWlCN0IsTUFBTyxDQUFDbXJDLFVBQVdBLEVBQVdkLEtBQU1pQyxHQUd0QyxTQUFTSyxHQUFRdEMsRUFBTTkxQixFQUFNcTRCLEdBQzNCLElBR0loZSxFQUhBaWUsRUFBVSxHQUNWMUIsR0FBWSxFQUNadUIsR0FBUyxFQUdiLElBQUtyQyxFQUFLOWtDLE9BQ1IsTUFBTyxDQUFDOGtDLEtBQU0sQ0FBQzkxQixHQUFPNDJCLFVBQVcsWUFHbkMsSUFBSyxJQUFJbnJDLEVBQUksRUFBRzZILEVBQU13aUMsRUFBSzlrQyxPQUFRdkYsRUFBSTZILEVBQUs3SCxJQUFLLENBQy9DLElBQUk4c0MsRUFBU3pDLEVBQUtycUMsR0FDbEIsR0FBSThzQyxFQUFPdkMsTUFBUWgyQixFQUFLZzJCLEtBQU91QyxFQUFPN1UsSUFBSSxLQUFPMWpCLEVBQUswakIsSUFBSSxHQUd4RHJKLEVBQU15ZCxHQUFVUyxFQUFPN1UsSUFBSzFqQixFQUFLMGpCLEtBQ2pDNFUsRUFBUXZuQyxLQUFLLENBQUNpbEMsSUFBS3VDLEVBQU92QyxJQUFLdFMsSUFBS3JKLEVBQUl5YixPQUN4Q2MsRUFBWUEsR0FBYXZjLEVBQUl1YyxVQUM3QnVCLEdBQVMsT0FDSixJQUFtQixJQUFmRSxFQUFxQixDQU05QixJQUFJRyxFQUFLRCxFQUFPdkMsSUFBTWgyQixFQUFLZzJCLElBQU11QyxFQUFTdjRCLEVBQ3RDeTRCLEVBQUtGLEVBQU92QyxJQUFNaDJCLEVBQUtnMkIsSUFBTWgyQixFQUFPdTRCLEVBQ3BDRyxFQUFPRCxFQUFHekMsSUFBTXdDLEVBQUd4QyxJQUVuQjJDLEVBQW1CLEdBRW5CQyxFQUFRLEdBRVosSUFEQUEsRUFBTTduQyxLQUFLLENBQUMyeUIsSUFBSzhVLEVBQUc5VSxJQUFLZ1YsS0FBTUEsRUFBTXI2QixPQUFRLEtBQU13NkIsVUFBVyxPQUN2REQsRUFBTTVuQyxPQUFTLEdBQUcsQ0FDdkIsSUFBSWtvQixFQUFPMGYsRUFBTTVrQyxNQUNqQixHQUFrQixJQUFka2xCLEVBQUt3ZixLQU9ULElBREEsSUFBSS82QixFQUFXdWIsRUFBS3dLLElBQUksR0FDZjVrQixFQUFJLEVBQUdnNkIsRUFBY243QixFQUFTM00sT0FBUThOLEVBQUlnNkIsRUFBYWg2QixJQUM5RDg1QixFQUFNN25DLEtBQUssQ0FDVDJ5QixJQUFLL2xCLEVBQVNtQixHQUNkNDVCLEtBQU14ZixFQUFLd2YsS0FBTyxFQUNsQnI2QixPQUFRNmEsRUFBS3dLLElBQ2JtVixVQUFXLzVCLFNBWFRvYSxFQUFLd0ssSUFBSSxLQUFPK1UsRUFBRy9VLElBQUksSUFDekJpVixFQUFpQjVuQyxLQUFLbW9CLEdBZTVCLElBQUkxZCxFQUFLbTlCLEVBQWlCLEdBRXJCbjlCLEdBR0g2ZSxFQUFNeWQsR0FBVXQ4QixFQUFHa29CLElBQUsrVSxFQUFHL1UsS0FDM0Jsb0IsRUFBRzZDLE9BQU8sR0FBRzdDLEVBQUdxOUIsV0FBYXhlLEVBQUl5YixLQUNqQ3dDLEVBQVF2bkMsS0FBSyxDQUFDaWxDLElBQUt3QyxFQUFHeEMsSUFBS3RTLElBQUs4VSxFQUFHOVUsTUFDbkNrVCxFQUFZQSxHQUFhdmMsRUFBSXVjLFVBQzdCdUIsR0FBUyxHQU5URyxFQUFRdm5DLEtBQUt3bkMsUUFTZkQsRUFBUXZuQyxLQUFLd25DLEdBV2pCLE9BTktKLEdBQ0hHLEVBQVF2bkMsS0FBS2lQLEdBR2ZzNEIsRUFBUXZYLEtBQUtrVyxJQUVOLENBQ0xuQixLQUFNd0MsRUFDTjFCLFVBQVdBLEdBQWEsaUJBOEQ1QixTQUFTbUMsR0FBTWpELEVBQU05MUIsRUFBTWc1QixHQUN6QixJQUFJQyxFQUFVYixHQUFRdEMsRUFBTTkxQixHQUN4Qms1QixFQTNETixTQUFjcEQsRUFBTWtELEdBTWxCLElBSkEsSUFDSUcsRUFFQWpyQixFQUhBNm9CLEVBQVFELEdBQVdoQixHQUlkcnFDLEVBQUksRUFBRzZILEVBQU15akMsRUFBTS9sQyxPQUFRdkYsRUFBSTZILEVBQUs3SCxJQUFLLENBR2hELElBRUlrcUMsRUFGQTMxQixFQUFPKzJCLEVBQU10ckMsR0FDYnl0QyxFQUFVbDVCLEVBQUswakIsSUFFbkIsR0FBSXdWLEVBQVFsb0MsT0FBU2dvQyxFQUFPLENBRXJCRyxJQUNIQSxFQUFjLElBRWhCLElBQUl6QixFQUFhd0IsRUFBUWxvQyxPQUFTZ29DLEVBQ2xDckQsRUFBTyxDQUNMSyxJQUFLaDJCLEVBQUtnMkIsSUFBTTBCLEVBQ2hCaFUsSUFBSytULEdBQVd5QixFQUFTeEIsSUFHM0IsSUFBSyxJQUFJbHFDLEVBQUksRUFBR0EsRUFBSWtxQyxFQUFZbHFDLElBQUssQ0FDbkMsSUFBSTgrQixFQUFPdHNCLEVBQUtnMkIsSUFBTXhvQyxFQUFLLElBQU0wckMsRUFBUTFyQyxHQUFHaUosR0FDNUMwaUMsRUFBWTdNLElBQU8sUUFHckJxSixFQUFPLENBQ0xLLElBQUtoMkIsRUFBS2cyQixJQUNWdFMsSUFBSytULEdBQVd5QixFQUFTLElBTzNCaHJCLEVBREVBLEVBQ09rcUIsR0FBUWxxQixFQUFReW5CLEdBQU0sR0FBTUcsS0FFNUIsQ0FBQ0gsR0FZZCxPQVBJd0QsR0FDRmpELEdBQWdCaG9CLEdBQVEsU0FBVXNvQixFQUFRUixFQUFLb0QsVUFFdENELEVBQVluRCxFQUFNLElBQU1vRCxNQUk1QixDQUNMdEQsS0FBTTVuQixFQUNOaW9CLEtBQU1nRCxFQUFjaHRDLE9BQU9pSSxLQUFLK2tDLEdBQWUsSUFNbkNFLENBQUtKLEVBQVFuRCxLQUFNa0QsR0FDakMsTUFBTyxDQUNMbEQsS0FBTW9ELEVBQVFwRCxLQUNkcUQsWUFBYUQsRUFBUS9DLEtBQ3JCUyxVQUFXcUMsRUFBUXJDLFdBd0J2QixTQUFTMEMsR0FBUzNELEdBQ2hCLE9BQU9BLEVBQUtqUyxJQU1kLFNBQVM2VixHQUFVaEUsRUFBVWpKLEdBQ3RCQSxJQUNIQSxFQUFNZ0osR0FBV0MsSUFNbkIsSUFKQSxJQUdJTyxFQUhBci9CLEVBQUs2MUIsRUFBSTdYLFVBQVU2WCxFQUFJbnRCLFFBQVEsS0FBTyxHQUN0Q3kyQixFQUFVTCxFQUFTTSxTQUFTejFCLElBQUlrNUIsSUFHNUJ4RCxFQUFPRixFQUFRNWhDLE9BQVEsQ0FDN0IsR0FBSThoQyxFQUFLLEtBQU9yL0IsRUFDZCxRQUFTcS9CLEVBQUssR0FBR0csUUFFbkJMLEVBQVVBLEVBQVF2bkMsT0FBT3luQyxFQUFLLEtBSWxDLFNBQVMwRCxHQUFVL2lDLEdBQ2pCLE1BQU8sVUFBWWQsS0FBS2MsR0FrRDFCLFNBQVNnakMsR0FBVXZPLEVBQUlDLEVBQU1wQixHQUMzQixJQUFHbitCLEtBQUsrQyxNQUNSLElBQUkrNkIsRUFBTy82QixLQUNYQSxLQUFLdThCLEdBQUtBLEVBRVYsSUFBSXdPLEdBREp2TyxFQUFPQSxFQUFPdEMsRUFBTXNDLEdBQVEsSUFDUnVPLFNBQVc5cUMsR0FBSyxTQUFVTSxFQUFLNDZCLEdBaHhCckQsSUFBdUI2UCxFQUFJcHBDLEVBaXhCbkJyQixHQWp4Qm1CcUIsRUFreEJHLFNBanhCckIsa0JBRGNvcEMsRUFreEJDalEsR0FqeEJTaVEsRUFBR3JuQyxjQUFjL0IsR0FDakIsSUFBRytCLGNBQWNxbkMsRUFBSXBwQyxJQWd4QmIsR0FDakNtNUIsRUFBSzc0QixLQUFLLFFBQVMzQixJQUdyQnc2QixFQUFLNzRCLEtBQUssV0FBWWk1QixHQUV4QkosRUFBS3YxQixxQkFDTCsyQixFQUFHLzdCLGVBQWUsWUFBYXlxQyxNQVFqQyxTQUFTQSxJQUNQbFEsRUFBS21RLFNBUEg5UCxJQUNGTCxFQUFLaDZCLEdBQUcsWUFBWSxTQUFVbzZCLEdBQzVCQyxFQUFTLEtBQU1ELE1BRWpCSixFQUFLaDZCLEdBQUcsUUFBU3E2QixJQUtuQm1CLEVBQUd0OEIsS0FBSyxZQUFhZ3JDLEdBRXJCek8sRUFBS3dDLFNBQVcsU0FBVWhlLEVBQVFtcUIsRUFBU0MsR0FFckNyUSxFQUFLc1EsYUF0Q2IsU0FBa0N0USxFQUFNL1osRUFBUW1xQixFQUFTQyxHQUV2RCxJQUNFclEsRUFBSzc0QixLQUFLLFNBQVU4ZSxFQUFRbXFCLEVBQVNDLEdBQ3JDLE1BQU81ekIsR0FDUHltQixFQUFlLFFBQVMsb0NBQXFDem1CLElBb0M3RDh6QixDQUF5QnZRLEVBQU0vWixFQUFRbXFCLEVBQVNDLElBR2xELElBQUluUSxFQUFVLElBQUk5NkIsU0FBUSxTQUFVKzZCLEVBQVM3NkIsR0FDM0NtOEIsRUFBS3VPLFNBQVcsU0FBVXhxQyxFQUFLbXJCLEdBQ3pCbnJCLEVBQ0ZGLEVBQU9FLEdBRVAyNkIsRUFBUXhQLE9BSWRxUCxFQUFLOTZCLEtBQUssVUFBVSxXQUNsQnM4QixFQUFHLzdCLGVBQWUsWUFBYXlxQyxHQUMvQnpPLEVBQUt1TyxTQUFTLEtBQU0sQ0FBQ3hNLE9BQVEsaUJBRS9CditCLEtBQUsyVyxLQUFPc2tCLEVBQVF0a0IsS0FBS3JZLEtBQUsyOEIsR0FDOUJqN0IsS0FBWSxNQUFJaTdCLEVBQWUsTUFBRTM4QixLQUFLMjhCLEdBQ3RDajdCLEtBQUsyVyxNQUFLLFNBQVU0SSxHQUNsQndyQixFQUFTLEtBQU14ckIsS0FDZHdyQixHQUlFeE8sRUFBR1YsVUFBVUMsUUFXaEJmLEVBQUt3USxnQkFBZ0IvTyxHQVZyQkQsRUFBR1YsVUFBVUUsU0FBUSxTQUFVQyxHQUN6QkEsRUFDRlEsRUFBS3VPLFNBQVMvTyxHQUNMakIsRUFBS3NRLFlBQ2R0USxFQUFLNzRCLEtBQUssVUFFVjY0QixFQUFLd1EsZ0JBQWdCL08sTUFhN0IsU0FBU2dQLEdBQWN2SyxFQUFLMkYsRUFBVXBLLEdBQ3BDLElBQUlpUCxFQUFhLENBQUMsQ0FBQzlOLElBQUtzRCxFQUFJK0IsT0FDVCxhQUFmeEcsRUFBS256QixRQUNQb2lDLEVBQWE5RCxHQUFjZixFQUFTTSxVQUNuQ3oxQixLQUFJLFNBQVU4QixHQUFLLE1BQU8sQ0FBQ29xQixJQUFLcHFCLEVBQUVvcUIsU0FFckMsSUFBSTNjLEVBQVMsQ0FDWGxaLEdBQUk4K0IsRUFBUzkrQixHQUNiODJCLFFBQVM2TSxFQUNUeEssSUFBS0EsR0FZUCxPQVRJMkosR0FBVWhFLEVBQVUzRixFQUFJK0IsUUFDMUJoaUIsRUFBT3NtQixTQUFVLEdBRWY5SyxFQUFLeUwsWUFDUGpuQixFQUFPaWdCLElBQUl5SyxXQUFhM0QsR0FBaUJuQixHQUNwQzVsQixFQUFPaWdCLElBQUl5SyxXQUFXcnBDLGVBQ2xCMmUsRUFBT2lnQixJQUFJeUssWUFHZjFxQixFQXlGVCxTQUFTMnFCLEdBQVFDLEVBQU1DLEdBQ3JCLE9BQU9ELEVBQU9DLEdBQVMsRUFBSUQsRUFBT0MsRUFBUSxFQUFJLEVBS2hELFNBQVNDLEdBQVUxUSxFQUFVa0MsR0FDM0IsT0FBTyxTQUFVLzhCLEVBQUswOEIsR0FDaEIxOEIsR0FBUTA4QixFQUFRLElBQU1BLEVBQVEsR0FBRzE0QixRQUNuQ2hFLEVBQU1BLEdBQU8wOEIsRUFBUSxJQUNqQkssTUFBUUEsRUFDWmxDLEVBQVM3NkIsSUFFVDY2QixFQUFTLEtBQU02QixFQUFRNTZCLE9BQVM0NkIsRUFBUSxHQUFNQSxJQXdCcEQsU0FBUzhPLEdBQW1CNW1CLEVBQUdDLEdBQzdCLElBQUk0bUIsRUFBWUwsR0FBUXhtQixFQUFFK2QsSUFBSzlkLEVBQUU4ZCxLQUNqQyxPQUFrQixJQUFkOEksRUFDS0EsRUFJRkwsR0FGTXhtQixFQUFFOG1CLFdBQWE5bUIsRUFBRThtQixXQUFXekcsTUFBUSxFQUNwQ3BnQixFQUFFNm1CLFdBQWE3bUIsRUFBRTZtQixXQUFXekcsTUFBUSxHQW1GbkQsU0FBUzBHLEtBSVAsSUFBSyxJQUFJdHRDLEtBSFQsSUFBRzNCLEtBQUsrQyxNQUdNa3NDLEdBQWdCeHRDLFVBQ0wsbUJBQVpzQixLQUFLcEIsS0FDZG9CLEtBQUtwQixHQUFLb0IsS0FBS3BCLEdBQUdOLEtBQUswQixPQWt5QjdCLFNBQVNtc0MsS0FDUG5zQyxLQUFLODdCLFNBQVUsRUFDZjk3QixLQUFLZzhCLFFBQVMsRUFDZGg4QixLQUFLd0csTUFBUSxHQTJHZixTQUFTNGxDLEdBQVEvdUMsRUFBTW0vQixHQUdyQixLQUFNeDhCLGdCQUFnQm9zQyxJQUNwQixPQUFPLElBQUlBLEdBQVEvdUMsRUFBTW0vQixHQUczQixJQUFJekIsRUFBTy82QixLQWtCWCxHQWpCQXc4QixFQUFPQSxHQUFRLEdBRVhuL0IsR0FBd0IsaUJBQVRBLElBRWpCQSxHQURBbS9CLEVBQU9uL0IsR0FDS0EsWUFDTG0vQixFQUFLbi9CLFdBR2tCNkQsSUFBNUJzN0IsRUFBS2dLLHFCQUNQaEssRUFBS2dLLG9CQUFxQixHQUc1QnhtQyxLQUFLcXNDLE9BQVM3UCxFQUFPdEMsRUFBTXNDLEdBRTNCekIsRUFBS3VSLGdCQUFrQjlQLEVBQUs4UCxnQkFDNUJ2UixFQUFLak0sT0FBU3NkLEdBQVF0ZCxPQUVGLGlCQUFUenhCLEVBQ1QsTUFBTSxJQUFJbUYsTUFBTSwyQkFHbEIsSUFDSStwQyxFQXZHTixTQUFzQmx2QyxFQUFNbS9CLEdBQzFCLElBQUlockIsRUFBUW5VLEVBQUttVSxNQUFNLHNCQUN2QixHQUFJQSxFQUVGLE1BQU8sQ0FDTG5VLEtBQU0sU0FBUzJKLEtBQUt3SyxFQUFNLElBQU1BLEVBQU0sR0FBSyxNQUFRQSxFQUFNLEdBQUtBLEVBQU0sR0FDcEVnN0IsUUFBU2g3QixFQUFNLElBSW5CLElBQUlpN0IsRUFBV0wsR0FBUUssU0FDbkJDLEVBQW9CTixHQUFRTSxrQkFDNUI1ZCxFQUFTc2QsR0FBUXRkLE9BQ2pCNmQsRUFBY25RLEVBQUtnUSxRQUV2QixJQUFLRyxFQUNILElBQUssSUFBSTd2QyxFQUFJLEVBQUdBLEVBQUk0dkMsRUFBa0JycUMsU0FJaEIsU0FIcEJzcUMsRUFBY0QsRUFBa0I1dkMsS0FHSCxXQUFZMnZDLEdBQ3JDM08sS0FBcUIzeUIsYUFBYSxvQkFBc0IyakIsRUFBU3p4QixNQUx2QlAsRUFPNUNtaEMsRUFBZSxNQUFPLDJCQUE2QjVnQyxFQUE3Qiw4RUFRNUIsSUFBSW12QyxFQUFVQyxFQUFTRSxHQU12QixNQUFPLENBQ0x0dkMsTUFKZW12QyxLQUFXLGVBQWdCQSxJQUMxQ0EsRUFBUUksV0FHVzlkLEVBQVN6eEIsRUFBUUEsRUFDcENtdkMsUUFBU0csR0FnRUdFLEVBRE1yUSxFQUFLMU4sUUFBVSxJQUFNenhCLEVBQ0FtL0IsR0FTekMsR0FQQUEsRUFBS24vQixLQUFPa3ZDLEVBQVFsdkMsS0FDcEJtL0IsRUFBS2dRLFFBQVVoUSxFQUFLZ1EsU0FBV0QsRUFBUUMsUUFFdkN6UixFQUFLMTlCLEtBQU9BLEVBQ1owOUIsRUFBSytSLFNBQVd0USxFQUFLZ1EsUUFDckJKLEdBQVFscUMsS0FBSyxRQUFTLENBQUMsVUFBVyxtQkFBb0JzNkIsRUFBS2dRLFdBRXRESixHQUFRSyxTQUFTalEsRUFBS2dRLFdBQ3RCSixHQUFRSyxTQUFTalEsRUFBS2dRLFNBQVNPLFFBQ2xDLE1BQU0sSUFBSXZxQyxNQUFNLG9CQUFzQmc2QixFQUFLZ1EsU0FHN0MsR0FBSWhRLEVBQUt3USxnQkFDRlosR0FBUUssU0FBU2pRLEVBQUt3USxnQkFDdEJaLEdBQVFLLFNBQVNqUSxFQUFLd1EsY0FBY0QsU0FDdkMsTUFBTSxJQUFJdnFDLE1BQU0seUJBQTJCZzZCLEVBQUt3USxjQUlwRGQsR0FBZ0JqdkMsS0FBSzg5QixHQUNyQkEsRUFBS2MsVUFBWSxJQUFJc1EsR0FFckJwUixFQUFLeVIsUUFBVWhRLEVBQUtnUSxRQUVwQkosR0FBUUssU0FBU2pRLEVBQUtnUSxTQUFTdnZDLEtBQUs4OUIsRUFBTXlCLEdBQU0sU0FBVWo4QixHQUN4RCxHQUFJQSxFQUNGLE9BQU93NkIsRUFBS2MsVUFBVW9SLEtBQUsxc0MsSUE5RWpDLFNBQStCdzZCLEdBRTdCLFNBQVNtUyxFQUFZQyxHQUNuQnBTLEVBQUt2NkIsZUFBZSxTQUFVNHNDLEdBQ3pCRCxHQUNIcFMsRUFBS2gxQixZQUFZN0QsS0FBSyxZQUFhNjRCLEVBQUsxOUIsTUFJNUMsU0FBUyt2QyxJQUNQclMsRUFBS3Y2QixlQUFlLFlBQWEwc0MsR0FDakNuUyxFQUFLaDFCLFlBQVk3RCxLQUFLLFFBQVM2NEIsR0FHakNBLEVBQUs5NkIsS0FBSyxZQUFhaXRDLEdBQ3ZCblMsRUFBSzk2QixLQUFLLFNBQVVtdEMsR0FDcEJyUyxFQUFLaDFCLFlBQVk3RCxLQUFLLE1BQU82NEIsR0FnRTNCc1MsQ0FBc0J0UyxHQUV0QkEsRUFBSzc0QixLQUFLLFVBQVc2NEIsR0FDckJxUixHQUFRbHFDLEtBQUssVUFBVzY0QixFQUFLMTlCLE1BQzdCMDlCLEVBQUtjLFVBQVV5UixNQUFNdlMsTUF6eEN6QixJQUFTK1AsR0FBVyxLQWlGcEJBLEdBQVVwc0MsVUFBVXdzQyxPQUFTLFdBQzNCbHJDLEtBQUtxckMsYUFBYyxFQUNmcnJDLEtBQUt1OEIsR0FBR1YsVUFBVUMsU0FDcEI5N0IsS0FBS2tDLEtBQUssV0EyQmQ0b0MsR0FBVXBzQyxVQUFVNnNDLGdCQUFrQixTQUFVL08sR0FDOUMsSUFBSXBCLEVBQVdvQixFQUFLdU8sU0FDaEJoUSxFQUFPLzZCLEtBR1Bvc0MsR0FBUW1CLHFCQUNWbkIsR0FBUW1CLHFCQUFxQkMsU0FBU2hSLEdBQU0sU0FBVWo4QixHQUNwRCxHQUFJQSxFQUNGLE9BQU82NkIsRUFBUzc2QixHQUVsQnc2QixFQUFLMFMsVUFBVWpSLE1BR2pCekIsRUFBSzBTLFVBQVVqUixJQUluQnNPLEdBQVVwc0MsVUFBVSt1QyxVQUFZLFNBQVVqUixHQUN4QyxJQUFJekIsRUFBTy82QixLQUNQbzdCLEVBQVdvQixFQUFLdU8sU0FjcEIsR0FYSSxTQURKdk8sRUFBT3RDLEVBQU1zQyxPQUNXLGVBQWdCQSxLQUN0Q0EsRUFBS2tSLFdBQWFsUixFQUFLbVIsTUFFekJuUixFQUFLZ1AsY0FBZ0JBLEdBRUYsV0FBZmhQLEVBQUtzQyxRQUNQdEMsRUFBS3NDLE1BQVEsT0FFVnRDLEVBQUtzQyxRQUNSdEMsRUFBS3NDLE1BQVEsR0FFSSxRQUFmdEMsRUFBS3NDLE1BQVQsQ0FjQSxHQUFJc04sR0FBUW1CLHNCQUVWLEdBREFuQixHQUFRbUIscUJBQXFCSyxVQUFVcFIsR0FDbkM0UCxHQUFRbUIscUJBQXFCTSxhQUFhN3RDLEtBQU13OEIsR0FDbEQsT0FBTzRQLEdBQVFtQixxQkFBcUI1OEIsT0FBTzNRLEtBQU13OEIsT0FHbkQsQ0FBQyxVQUFXLFNBQVUsV0FBWSxRQUFRM3dCLFNBQVEsU0FBVXhOLEdBQ3REQSxLQUFPbStCLEdBQ1R5QixFQUFlLE9BQ2IsUUFBVTUvQixFQUFWLHlLQVFGLGVBQWdCbStCLElBQ3BCQSxFQUFLc1IsWUFBYSxHQUlwQnRSLEVBQUt1UixNQUF1QixJQUFmdlIsRUFBS3VSLE1BQWMsRUFBSXZSLEVBQUt1UixNQUN6Q3ZSLEVBQUt1TyxTQUFXM1AsRUFDaEIsSUFBSTRTLEVBQWFodUMsS0FBS3U4QixHQUFHMFIsU0FBU3pSLEdBRWxDLEdBQUl3UixHQUEyQyxtQkFBdEJBLEVBQVc5QyxPQUF1QixDQUN6RCxJQUFJQSxFQUFTblEsRUFBS21RLE9BQ2xCblEsRUFBS21RLE9BQVMsS0FBYSxTQUFVN3JDLEdBQ25DMnVDLEVBQVc5QyxTQUNYQSxFQUFPaHNDLE1BQU1jLEtBQU1YLFlBM0NyQlcsS0FBS3U4QixHQUFHeFosT0FBT3BNLE1BQUssU0FBVW9NLEdBRXhCZ1ksRUFBS3NRLFlBQ1BqUSxFQUFTLEtBQU0sQ0FBQ21ELE9BQVEsZUFHMUIvQixFQUFLc0MsTUFBUS9iLEVBQUttckIsV0FDbEJuVCxFQUFLMFMsVUFBVWpSLE1BQ2RwQixJQXdLUCxJQUFTOFEsR0FBaUIsS0FhMUJBLEdBQWdCeHRDLFVBQVV5dkMsS0FDeEI3UyxFQUFXLFFBQVEsU0FBVTJGLEVBQUt6RSxFQUFNcEIsR0FLeEMsR0FKb0IsbUJBQVRvQixJQUNUcEIsRUFBV29CLEVBQ1hBLEVBQU8sSUFFVSxpQkFBUnlFLEdBQW9CejlCLE1BQU02bUIsUUFBUTRXLEdBQzNDLE9BQU83RixFQUFTb0YsR0FBWUosSUFFOUJwZ0MsS0FBS291QyxTQUFTLENBQUMxUixLQUFNLENBQUN1RSxJQUFPekUsRUFBTXNQLEdBQVUxUSxFQUFVNkYsRUFBSWlDLFNBRzdEZ0osR0FBZ0J4dEMsVUFBVXlrQyxJQUFNN0gsRUFBVyxPQUFPLFNBQVUyRixFQUFLekUsRUFBTTdULEdBS3JFLEdBSm9CLG1CQUFUNlQsSUFDVDdULEVBQUs2VCxFQUNMQSxFQUFPLElBRVUsaUJBQVJ5RSxHQUFvQno5QixNQUFNNm1CLFFBQVE0VyxHQUMzQyxPQUFPdFksRUFBRzZYLEdBQVlKLElBR3hCLEdBREF1QixHQUFlVixFQUFJaUMsS0FDZjJILEdBQVU1SixFQUFJaUMsTUFBa0MsbUJBQW5CbGpDLEtBQUtxdUMsVUFDcEMsT0FBSXBOLEVBQUlxTixTQUNDdHVDLEtBQUt1dUMsYUFBYXROLEVBQUt0WSxHQUV2QjNvQixLQUFLcXVDLFVBQVVwTixFQUFLdFksR0FHL0IsSUFZTWdGLEVBQ0E2Z0IsRUFHQUMsRUFDQUMsRUFqQkYzVCxFQUFPLzZCLEtBMEJYLFNBQVMydUMsRUFBT2hnQixHQUNXLG1CQUFkb00sRUFBSzZULE9BQTBDLElBQW5CcFMsRUFBS3FTLFVBQzFDOVQsRUFBSzZULEtBQUszTixFQUFLekUsRUFBTTdOLEdBRXJCb00sRUFBS3FULFNBQVMsQ0FBQzFSLEtBQU0sQ0FBQ3VFLElBQU96RSxFQUFNc1AsR0FBVW5kLEVBQU1zUyxFQUFJaUMsTUE3QnZEMUcsRUFBS3NTLE9BQVM3TixFQUFJK0IsTUFXaEJyVixFQUFRc1QsRUFBSStCLEtBQUtwVixNQUFNLEtBQ3ZCNGdCLEVBQVc3Z0IsRUFBTSxHQUdqQjhnQixFQUZZcnlCLFNBQVN1UixFQUFNLEdBQUksSUFFUCxFQUN4QitnQixFQUFXbkksS0FFZnRGLEVBQUlnTCxXQUFhLENBQ2Z6RyxNQUFPaUosRUFDUDFaLElBQUssQ0FBQzJaLEVBQVVGLElBRWxCdk4sRUFBSStCLEtBQU95TCxFQUFZLElBQU1DLEVBQzdCbFMsRUFBS3FTLFdBQVksRUFyQmpCRixHQUFPLFNBQVVwdUMsR0FDZixJQUFJZ2YsRUFBU2hmLEVBQU0sS0FBTyxDQUFDODdCLElBQUksRUFBTXYwQixHQUFJbTVCLEVBQUlpQyxJQUFLdkYsSUFBS3NELEVBQUkrQixNQUMzRHJhLEVBQUdwb0IsRUFBS2dmLE9BR1ZvdkIsRUFBT2htQixNQTJCWHVqQixHQUFnQnh0QyxVQUFVcXdDLGNBQ3hCelQsRUFBVyxpQkFBaUIsU0FBVWdDLEVBQU8wUixFQUFjclIsRUFDZjhHLEVBQU03aUMsR0FDbEQsSUFBSXF0QyxFQUFNanZDLEtBaUJWLFNBQVNrdkMsRUFBaUJqTyxHQUN4QixJQUFJa08sRUFBYSxTQUFVbE8sRUFBTTdrQixTQUFTNmtCLEVBQUkrQixLQUFNLElBQU0sRUFPMUQsT0FOQS9CLEVBQUlNLGFBQWVOLEVBQUlNLGNBQWdCLEdBQ3ZDTixFQUFJTSxhQUFheU4sR0FBZ0IsQ0FDL0JJLGFBQWN4dEMsRUFDZDhtQixLQUFNK2IsRUFDTjRLLFNBQVVGLEdBRUxGLEVBQUk5TCxJQUFJbEMsR0FHakIsTUEzQm9CLG1CQUFUci9CLElBQ1RBLEVBQU82aUMsRUFDUEEsRUFBTzlHLEVBQ1BBLEVBQU0sV0FJWSxJQUFULzdCLElBQ1RBLEVBQU82aUMsRUFDUEEsRUFBTzlHLEVBQ1BBLEVBQU0sTUFFSC83QixHQUNIcThCLEVBQWUsT0FBUSxhQUFjK1EsRUFBYyxjQUFlMVIsRUFBTywyQkFjcEUyUixFQUFJdHhDLElBQUkyL0IsR0FBTzNtQixNQUFLLFNBQVVzcUIsR0FDbkMsR0FBSUEsRUFBSStCLE9BQVNyRixFQUNmLE1BQU02QyxHQUFZYixHQUdwQixPQUFPdVAsRUFBaUJqTyxNQUN2QixTQUFVMWdDLEdBR1gsR0FBSUEsRUFBSWkvQixTQUFXRSxFQUFZajdCLFFBQzdCLE9BQU95cUMsRUFBaUIsQ0FBQ2hNLElBQUs1RixJQUU5QixNQUFNLzhCLFFBS1oyckMsR0FBZ0J4dEMsVUFBVTR3QyxpQkFDeEJoVSxFQUFXLG9CQUFvQixTQUFVZ0MsRUFBTzBSLEVBQWNyUixFQUNmdkMsR0FDL0MsSUFBSUwsRUFBTy82QixLQUNYKzZCLEVBQUtwOUIsSUFBSTIvQixHQUFPLFNBQVUvOEIsRUFBS2d1QixHQUU3QixHQUFJaHVCLEVBQ0Y2NkIsRUFBUzc2QixRQUdYLEdBQUlndUIsRUFBSXlVLE9BQVNyRixFQUFqQixDQUtBLElBQUtwUCxFQUFJZ1QsYUFDUCxPQUFPbkcsV0FFRjdNLEVBQUlnVCxhQUFheU4sR0FDcUIsSUFBekN4eEMsT0FBT2lJLEtBQUs4b0IsRUFBSWdULGNBQWNsL0IsZUFDekJrc0IsRUFBSWdULGFBRWJ4RyxFQUFLb0ksSUFBSTVVLEVBQUs2TSxRQVhaQSxFQUFTb0YsR0FBWWIsVUFlM0J1TSxHQUFnQnh0QyxVQUFVK0osT0FDeEI2eUIsRUFBVyxVQUFVLFNBQVVpVSxFQUFTQyxFQUFXaFQsRUFBTXBCLEdBQ3pELElBQUk2RixFQUNxQixpQkFBZHVPLEdBRVR2TyxFQUFNLENBQ0ppQyxJQUFLcU0sRUFDTHZNLEtBQU13TSxHQUVZLG1CQUFUaFQsSUFDVHBCLEVBQVdvQixFQUNYQSxFQUFPLE1BSVR5RSxFQUFNc08sRUFDbUIsbUJBQWRDLEdBQ1RwVSxFQUFXb1UsRUFDWGhULEVBQU8sS0FFUHBCLEVBQVdvQixFQUNYQSxFQUFPZ1QsS0FHWGhULEVBQU9BLEdBQVEsSUFDVmlULFlBQWEsRUFDbEIsSUFBSXhNLEVBQVMsQ0FBQ0MsSUFBS2pDLEVBQUlpQyxJQUFLRixLQUFPL0IsRUFBSStCLE1BQVF4RyxFQUFLbUIsSUFDcEQsVUFBa0IsR0FDbEIsR0FBSWtOLEdBQVU1SCxFQUFPQyxNQUFxQyxtQkFBdEJsakMsS0FBS3V1QyxhQUN2QyxPQUFPdnVDLEtBQUt1dUMsYUFBYXROLEVBQUs3RixHQUVoQ3A3QixLQUFLb3VDLFNBQVMsQ0FBQzFSLEtBQU0sQ0FBQ3VHLElBQVV6RyxFQUFNc1AsR0FBVTFRLEVBQVU2SCxFQUFPQyxTQUduRWdKLEdBQWdCeHRDLFVBQVVneEMsU0FDeEJwVSxFQUFXLFlBQVksU0FBVXVGLEVBQUtyRSxFQUFNcEIsR0FDeEIsbUJBQVRvQixJQUNUcEIsRUFBV29CLEVBQ1hBLEVBQU8sSUFFVCxJQUFJekgsRUFBTXYzQixPQUFPaUksS0FBS283QixHQUV0QixJQUFLOUwsRUFBSTF5QixPQUNQLE9BQU8rNEIsRUFBUyxLQUFNLElBR3hCLElBQUkxNEIsRUFBUSxFQUNSaXRDLEVBQVUsSUFBSTNXLEVBRWxCLFNBQVM0VyxFQUFhOW5DLEVBQUkrbkMsR0FDbkJGLEVBQVFyOUIsSUFBSXhLLElBQ2Y2bkMsRUFBUTFyQyxJQUFJNkQsRUFBSSxDQUFDNm5DLFFBQVMsS0FFNUJBLEVBQVFoeUMsSUFBSW1LLEdBQUk2bkMsUUFBUXZ0QyxLQUFLeXRDLEdBNEIvQjlhLEVBQUl0akIsS0FBSSxTQUFVM0osR0FDaEI5SCxLQUFLOHZDLGlCQUFpQmhvQyxHQUFJLFNBQVV2SCxFQUFLMm1DLEdBQ3ZDLEdBQUkzbUMsR0FBc0IsTUFBZkEsRUFBSWcrQixRQUFrQyxZQUFoQmgrQixFQUFJa0UsUUFDbkNrckMsRUFBUTFyQyxJQUFJNkQsRUFBSSxDQUFDNm5DLFFBQVM5TyxFQUFJLzRCLFNBQ3pCLElBQUl2SCxFQUVULE9BQU82NkIsRUFBUzc2QixJQS9CdEIsU0FBb0J1SCxFQUFJby9CLEdBRXRCLElBQUk2SSxFQUFlbFAsRUFBSS80QixHQUFJcEgsTUFBTSxHQUNqQzZtQyxHQUFnQkwsR0FBVSxTQUFVVyxFQUFRUixFQUFLb0QsRUFBUzdmLEVBQ3hENFIsR0FDRSxJQUFJbUIsRUFBTTBKLEVBQU0sSUFBTW9ELEVBQ2xCdlgsRUFBTTZjLEVBQWF2L0IsUUFBUW10QixJQUNsQixJQUFUekssSUFJSjZjLEVBQWFsSCxPQUFPM1YsRUFBSyxHQUVMLGNBQWhCc0osRUFBSytCLFFBQ1BxUixFQUFhOW5DLEVBQUk2MUIsT0FNdkJvUyxFQUFhbGtDLFNBQVEsU0FBVTh4QixHQUM3QmlTLEVBQWE5bkMsRUFBSTYxQixNQVlmcVMsQ0FBV2xvQyxFQUFJby9CLEdBR2pCLEtBQU14a0MsSUFBVXF5QixFQUFJMXlCLE9BQVEsQ0FFMUIsSUFBSTR0QyxFQUFhLEdBSWpCLE9BSEFOLEVBQVE5akMsU0FBUSxTQUFVOU4sRUFBT00sR0FDL0I0eEMsRUFBVzV4QyxHQUFPTixLQUVicTlCLEVBQVMsS0FBTTZVLFNBR3pCandDLFNBVUxrc0MsR0FBZ0J4dEMsVUFBVTQ5QixRQUN4QmhCLEVBQVcsV0FBVyxTQUFVa0IsRUFBTXBCLEdBQ3RDa0IsRUFBUXQ4QixLQUFNdzhCLEVBQU1wQixNQU10QjhRLEdBQWdCeHRDLFVBQVV3eEMsZ0JBQ3hCNVUsRUFBVyxtQkFBbUIsU0FBVWdDLEVBQU82UyxFQUFXL1UsR0FDMUQsSUFBSUwsRUFBTy82QixLQUNYQSxLQUFLOHZDLGlCQUFpQnhTLEdBQU8sU0FBVS84QixFQUFLNnZDLEdBRTFDLEdBQUk3dkMsRUFDRixPQUFPNjZCLEVBQVM3NkIsR0FFbEIsSUFBSXdrQixFQWhXUixTQUF1QnlpQixHQUNyQixJQUFJemlCLEVBQVMsR0FDVHNyQixFQUFRLEdBb0JaLE9BbkJBOUksR0FBZ0JDLEdBQU0sU0FBVUssRUFBUVIsRUFBS3YvQixFQUFJd29DLEdBQy9DLElBQUkzUyxFQUFNMEosRUFBTSxJQUFNdi9CLEVBT3RCLE9BTkkrL0IsSUFDRjlpQixFQUFPNFksR0FBTyxRQUVIejhCLElBQVRvdkMsR0FDRkQsRUFBTWp1QyxLQUFLLENBQUNnSyxLQUFNa2tDLEVBQU16cEIsR0FBSThXLElBRXZCQSxLQUdUMFMsRUFBTXZJLFVBQ051SSxFQUFNeGtDLFNBQVEsU0FBVTBrQyxRQUNJcnZDLElBQXRCNmpCLEVBQU93ckIsRUFBS25rQyxNQUNkMlksRUFBT3dyQixFQUFLbmtDLE1BQVEsRUFBSTJZLEVBQU93ckIsRUFBSzFwQixJQUVwQzlCLEVBQU93ckIsRUFBS25rQyxNQUFRakUsS0FBS3dKLElBQUlvVCxFQUFPd3JCLEVBQUtua0MsTUFBTyxFQUFJMlksRUFBT3dyQixFQUFLMXBCLFFBRzdEOUIsRUEwVVF5ckIsQ0FBY0osR0FDdkJLLEVBQWEsR0FDYmpKLEVBQU8sR0FDWGhxQyxPQUFPaUksS0FBS3NmLEdBQVFsWixTQUFRLFNBQVU4eEIsR0FDaEM1WSxFQUFPNFksR0FBT3dTLEdBQ2hCTSxFQUFXcnVDLEtBQUt1N0IsTUFJcEI0SixHQUFnQjZJLEdBQVMsU0FBVXZJLEVBQVFSLEVBQUtvRCxFQUFTN2YsRUFBSzRSLEdBQzVELElBQUltQixFQUFNMEosRUFBTSxJQUFNb0QsRUFDRixjQUFoQmpPLEVBQUsrQixTQUF1RCxJQUE3QmtTLEVBQVdqZ0MsUUFBUW10QixJQUNwRDZKLEVBQUtwbEMsS0FBS3U3QixNQUdkNUMsRUFBSzJWLGNBQWNwVCxFQUFPa0ssRUFBTXBNLFNBTXBDOFEsR0FBZ0J4dEMsVUFBVWl5QyxRQUN4QnJWLEVBQVcsV0FBVyxTQUFVa0IsRUFBTXBCLEdBQ2xCLG1CQUFUb0IsSUFDVHBCLEVBQVdvQixFQUNYQSxFQUFPLElBSVRBLEVBQU9BLEdBQVEsR0FESng4QixLQUdONHdDLGlCQUhNNXdDLEtBR2tCNHdDLGtCQUFvQixHQUh0QzV3QyxLQUlONHdDLGlCQUFpQnh1QyxLQUFLLENBQUNvNkIsS0FBTUEsRUFBTXBCLFNBQVVBLElBQ2IsSUFMMUJwN0IsS0FLRjR3QyxpQkFBaUJ2dUMsUUF6VjVCLFNBQVN3dUMsRUFBaUI5VixHQUN4QixJQUFJMXpCLEVBQU8wekIsRUFBSzZWLGlCQUFpQixHQUM3QnBVLEVBQU9uMUIsRUFBS20xQixLQUNacEIsRUFBVy96QixFQUFLK3pCLFNBQ3BCTCxFQUFLcDlCLElBQUkscUJBQXFCbWxDLE9BQU0sV0FDbEMsT0FBTyxLQUNObnNCLE1BQUssU0FBVXNxQixHQUNaQSxHQUFPQSxFQUFJNlAsV0FDYnRVLEVBQUtzVSxTQUFXN1AsRUFBSTZQLFVBRXRCL1YsRUFBS2dXLFNBQVN2VSxHQUFNLFNBQVVqOEIsRUFBS21yQixHQUU3Qm5yQixFQUNGNjZCLEVBQVM3NkIsR0FFVDY2QixFQUFTLEtBQU0xUCxHQUVqQixLQUFVLFdBQ1JxUCxFQUFLNlYsaUJBQWlCenJDLFFBQ2xCNDFCLEVBQUs2VixpQkFBaUJ2dUMsUUFDeEJ3dUMsRUFBaUI5VixZQXNVdkI4VixDQU5TN3dDLFNBU2Jrc0MsR0FBZ0J4dEMsVUFBVXF5QyxTQUFXLFNBQVV2VSxFQUFNcEIsR0FDbkQsSUFBSUwsRUFBTy82QixLQUNQMitCLEVBQWMsQ0FDaEJxUyxhQUFhLEVBQ2JGLFNBQVV0VSxFQUFLc1UsVUFBWSxHQUV6QkcsRUFBVyxHQW1CZmxXLEVBQUs2RCxRQUFRRCxHQUNWNTlCLEdBQUcsVUFsQk4sU0FBa0Jtd0MsR0FDaEJELEVBQVM3dUMsS0FBSzI0QixFQUFLbVYsZ0JBQWdCZ0IsRUFBSXBwQyxHQUFJLE9Ba0IxQy9HLEdBQUcsWUFoQk4sU0FBb0JvNkIsR0FDbEIsSUFBSWlRLEVBQVVqUSxFQUFLMlYsU0FDbkIzd0MsUUFBUWd4QyxJQUFJRixHQUFVdDZCLE1BQUssV0FDekIsT0FBT2lzQixHQUFPN0gsRUFBTSxxQkFBcUIsU0FBbUJrRyxHQUMxRCxRQUFLQSxFQUFJNlAsVUFBWTdQLEVBQUk2UCxTQUFXMUYsS0FDbENuSyxFQUFJNlAsU0FBVzFGLEVBQ1JuSyxTQUlWdHFCLE1BQUssV0FDTnlrQixFQUFTLEtBQU0sQ0FBQ2lCLElBQUksT0FDbkJ5RyxNQUFNMUgsTUFLUnI2QixHQUFHLFFBQVNxNkIsSUFLakI4USxHQUFnQnh0QyxVQUFVZixJQUFNMjlCLEVBQVcsT0FBTyxTQUFVeHpCLEVBQUkwMEIsRUFBTTdULEdBS3BFLEdBSm9CLG1CQUFUNlQsSUFDVDdULEVBQUs2VCxFQUNMQSxFQUFPLElBRVMsaUJBQVAxMEIsRUFDVCxPQUFPNmdCLEVBQUc2WCxHQUFZWixJQUV4QixHQUFJaUwsR0FBVS9pQyxJQUFpQyxtQkFBbkI5SCxLQUFLb3hDLFVBQy9CLE9BQU9weEMsS0FBS294QyxVQUFVdHBDLEVBQUk2Z0IsR0FFNUIsSUFBSWlmLEVBQVMsR0FBSTdNLEVBQU8vNkIsS0FFeEIsU0FBU3F4QyxJQUNQLElBQUk5eEIsRUFBUyxHQUNUN2MsRUFBUWtsQyxFQUFPdmxDLE9BRW5CLElBQUtLLEVBQ0gsT0FBT2ltQixFQUFHLEtBQU1wSixHQUlsQnFvQixFQUFPLzdCLFNBQVEsU0FBVXE4QixHQUN2Qm5OLEVBQUtwOUIsSUFBSW1LLEVBQUksQ0FDWDYxQixJQUFLdUssRUFDTFYsS0FBTWhMLEVBQUtnTCxLQUNYOEosT0FBUTlVLEVBQUs4VSxPQUNialEsWUFBYTdFLEVBQUs2RSxZQUNsQnlELE9BQVF0SSxFQUFLc0ksU0FDWixTQUFVdmtDLEVBQUswZ0MsR0FDaEIsR0FBSzFnQyxFQWFIZ2YsRUFBT25kLEtBQUssQ0FBQ3V0QyxRQUFTekgsUUFiZCxDQUdSLElBREEsSUFBSW5tQyxFQUNLakYsRUFBSSxFQUFHQyxFQUFJd2lCLEVBQU9sZCxPQUFRdkYsRUFBSUMsRUFBR0QsSUFDeEMsR0FBSXlpQixFQUFPemlCLEdBQUd1L0IsSUFBTTljLEVBQU96aUIsR0FBR3UvQixHQUFHMkcsT0FBUy9CLEVBQUkrQixLQUFNLENBQ2xEamhDLEdBQVcsRUFDWCxNQUdDQSxHQUNId2QsRUFBT25kLEtBQUssQ0FBQ2k2QixHQUFJNEUsTUFLckJ2K0IsR0FFRWltQixFQUFHLEtBQU1wSixTQU1qQixJQUFJaWQsRUFBS2tCLFVBOEJULE9BQU8xOUIsS0FBS3V4QyxLQUFLenBDLEVBQUkwMEIsR0FBTSxTQUFVajhCLEVBQUtnZixHQUN4QyxHQUFJaGYsRUFFRixPQURBQSxFQUFJKzhCLE1BQVF4MUIsRUFDTDZnQixFQUFHcG9CLEdBR1osSUFBSTBnQyxFQUFNMWhCLEVBQU8waEIsSUFDYjJGLEVBQVdybkIsRUFBT3FuQixTQUNsQmhjLEVBQU1yTCxFQUFPcUwsSUFFakIsR0FBSTRSLEVBQUt5TCxVQUFXLENBQ2xCLElBQUlBLEVBQVlGLEdBQWlCbkIsR0FDN0JxQixFQUFVNWxDLFNBQ1o0K0IsRUFBSXlLLFdBQWF6RCxHQVFyQixHQUpJMkMsR0FBVWhFLEVBQVUzRixFQUFJK0IsUUFDMUIvQixFQUFJcU4sVUFBVyxHQUdiOVIsRUFBS2dMLE1BQVFoTCxFQUFLZ1YsVUFBVyxDQVEvQixJQVBBLElBQUlDLEVBQWN4USxFQUFJK0IsS0FBS3BWLE1BQU0sS0FDN0I4akIsRUFBY3QxQixTQUFTcTFCLEVBQVksR0FBSSxJQUN2Q2hILEVBQWNnSCxFQUFZLEdBRTFCckosRUFBUUQsR0FBV3ZCLEVBQVNNLFVBQzVCNzFCLEVBQU8sS0FFRnZVLEVBQUksRUFBR0EsRUFBSXNyQyxFQUFNL2xDLE9BQVF2RixJQUFLLENBQ3JDLElBQUk2MEMsRUFBY3ZKLEVBQU10ckMsR0FDcEI4MEMsRUFBWUQsRUFBWTVjLElBQUl0akIsS0FBSSxTQUFVOEIsR0FBSyxPQUFPQSxFQUFFekwsTUFDekQwSSxRQUFRaTZCLElBQ2FtSCxJQUFlRixFQUFRLElBRXBCcmdDLElBQXVCLElBQWZ1Z0MsS0FDakN2Z0MsRUFBT3NnQyxHQUtYLElBQUt0Z0MsRUFHSCxPQUZBOVEsRUFBTSxJQUFJaUMsTUFBTSxxQkFDWjg2QixNQUFReDFCLEVBQ0w2Z0IsRUFBR3BvQixHQUdaLElBQUlzeEMsRUFBYXhnQyxFQUFLMGpCLElBQUl0akIsS0FBSSxTQUFVOEIsR0FBSyxPQUFPQSxFQUFFekwsTUFDbkQwSSxRQUFReXdCLEVBQUkrQixLQUFLcFYsTUFBTSxLQUFLLElBQU0sRUFDakNra0IsRUFBVXpnQyxFQUFLMGpCLElBQUkxeUIsT0FBU3d2QyxFQVloQyxHQVhBeGdDLEVBQUswakIsSUFBSThULE9BQU9nSixFQUFZQyxHQUM1QnpnQyxFQUFLMGpCLElBQUkrUyxVQUVMdEwsRUFBS2dMLE9BQ1B2RyxFQUFJZ0wsV0FBYSxDQUNmekcsTUFBUW4wQixFQUFLZzJCLElBQU1oMkIsRUFBSzBqQixJQUFJMXlCLE9BQVUsRUFDdEMweUIsSUFBSzFqQixFQUFLMGpCLElBQUl0akIsS0FBSSxTQUFVa3NCLEdBQzFCLE9BQU9BLEVBQUk3MUIsUUFJYjAwQixFQUFLZ1YsVUFBVyxDQUNsQixJQUFJbkssRUFBT2gyQixFQUFLZzJCLElBQU1oMkIsRUFBSzBqQixJQUFJMXlCLE9BQy9CNCtCLEVBQUk4USxXQUFhMWdDLEVBQUswakIsSUFBSXRqQixLQUFJLFNBQVVrc0IsR0FFdEMsTUFBTyxDQUNMQSxNQUZGMEosRUFFYSxJQUFNMUosRUFBSTcxQixHQUNyQnkyQixPQUFRWixFQUFJbkIsS0FBSytCLFlBTXpCLEdBQUkvQixFQUFLNkUsYUFBZUosRUFBSU0sYUFBYyxDQUN4QyxJQUFJRixFQUFjSixFQUFJTSxhQUNsQjcrQixFQUFRbEYsT0FBT2lJLEtBQUs0N0IsR0FBYWgvQixPQUNyQyxHQUFjLElBQVZLLEVBQ0YsT0FBT2ltQixFQUFHLEtBQU1zWSxHQUVsQnpqQyxPQUFPaUksS0FBSzQ3QixHQUFheDFCLFNBQVEsU0FBVXhOLEdBQ3pDMkIsS0FBS2d5QyxlQUFlL1EsRUFBSWlDLElBQUs3a0MsRUFBS2dqQyxFQUFZaGpDLEdBQU0sQ0FJbERzL0IsSUFBS3NELEVBQUkrQixLQUNUOEIsT0FBUXRJLEVBQUtzSSxPQUNibGEsSUFBS0EsSUFDSixTQUFVcnFCLEVBQUttb0IsR0FDaEIsSUFBSTRZLEVBQU1MLEVBQUlNLGFBQWFsakMsR0FDM0JpakMsRUFBSTVZLEtBQU9BLFNBQ0o0WSxFQUFJRSxZQUNKRixFQUFJai9CLFNBQ0pLLEdBQ0xpbUIsRUFBRyxLQUFNc1ksUUFHWmxHLE9BQ0UsQ0FDTCxHQUFJa0csRUFBSU0sYUFDTixJQUFLLElBQUlsakMsS0FBTzRpQyxFQUFJTSxhQUVkL2pDLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS2drQyxFQUFJTSxhQUFjbGpDLEtBQ3pENGlDLEVBQUlNLGFBQWFsakMsR0FBS21qQyxNQUFPLEdBSW5DN1ksRUFBRyxLQUFNc1ksT0F2SVgsR0FBdUIsUUFBbkJ6RSxFQUFLa0IsVUFDUDE5QixLQUFLOHZDLGlCQUFpQmhvQyxHQUFJLFNBQVV2SCxFQUFLMm1DLEdBRXZDLEdBQUkzbUMsRUFDRixPQUFPb29CLEVBQUdwb0IsR0FFWnFuQyxFQUFTRCxHQUFjVCxHQUFVejFCLEtBQUksU0FBVXkyQixHQUM3QyxPQUFPQSxFQUFLdkssT0FFZDBULFdBRUcsQ0FDTCxJQUFJN3RDLE1BQU02bUIsUUFBUW1TLEVBQUtrQixXQVdyQixPQUFPL1UsRUFBRzZYLEdBQVlULEVBQWUsb0JBVnJDNkgsRUFBU3BMLEVBQUtrQixVQUNkLElBQUssSUFBSTVnQyxFQUFJLEVBQUdBLEVBQUk4cUMsRUFBT3ZsQyxPQUFRdkYsSUFBSyxDQUN0QyxJQUFJQyxFQUFJNnFDLEVBQU85cUMsR0FFZixHQUFxQixpQkFBUixJQUFvQixRQUFRa0ssS0FBS2pLLEdBQzVDLE9BQU80ckIsRUFBRzZYLEdBQVlGLEtBRzFCK1EsUUEwSFJuRixHQUFnQnh0QyxVQUFVdXpDLGNBQ3hCM1csRUFBVyxpQkFBaUIsU0FBVWdDLEVBQU8wUixFQUFjeFMsRUFBTXBCLEdBQ2pFLElBQUlMLEVBQU8vNkIsS0FDUHc4QixhQUFnQmw5QixXQUNsQjg3QixFQUFXb0IsRUFDWEEsRUFBTyxJQUVUeDhCLEtBQUt1eEMsS0FBS2pVLEVBQU9kLEdBQU0sU0FBVWo4QixFQUFLbXJCLEdBQ3BDLE9BQUluckIsRUFDSzY2QixFQUFTNzZCLEdBRWRtckIsRUFBSXVWLElBQUlNLGNBQWdCN1YsRUFBSXVWLElBQUlNLGFBQWF5TixJQUMvQ3hTLEVBQUs1UixJQUFNYyxFQUFJZCxJQUNmNFIsRUFBS3NJLFFBQVMsT0FDZC9KLEVBQUtpWCxlQUFlMVUsRUFBTzBSLEVBQ1B0akIsRUFBSXVWLElBQUlNLGFBQWF5TixHQUFleFMsRUFBTXBCLElBRXZEQSxFQUFTb0YsR0FBWWQsVUFLbEN3TSxHQUFnQnh0QyxVQUFVd3pDLFFBQ3hCNVcsRUFBVyxXQUFXLFNBQVVrQixFQUFNcEIsR0FZdEMsR0FYb0IsbUJBQVRvQixJQUNUcEIsRUFBV29CLEVBQ1hBLEVBQU8sSUFFVEEsRUFBSzJWLFVBQTRCLElBQWQzVixFQUFLMlYsS0FBdUIzVixFQUFLMlYsS0FBTyxFQUN2RDNWLEVBQUs0VixZQUNQNVYsRUFBSzZWLFNBQVc3VixFQUFLNFYsV0FFbkI1VixFQUFLOFYsVUFDUDlWLEVBQUsrVixPQUFTL1YsRUFBSzhWLFNBRWpCLFNBQVU5VixFQUFNLENBQ2xCLElBQUtoNUIsTUFBTTZtQixRQUFRbVMsRUFBSy8yQixNQUN0QixPQUFPMjFCLEVBQVMsSUFBSTU1QixVQUFVLGtDQUVoQyxJQUFJZ3hDLEVBQ0YsQ0FBQyxXQUFZLFNBQVUsT0FBTzdoQyxRQUFPLFNBQVU2aEMsR0FDL0MsT0FBT0EsS0FBbUJoVyxLQUN6QixHQUNILEdBQUlnVyxFQUtGLFlBSkFwWCxFQUFTb0YsR0FBWVAsRUFDbkIsb0JBQXNCdVMsRUFDdEIsdUNBSUosSUFBSzVRLEdBQVM1aEMsUUFwb0JsQixTQUEwQnc4QixHQUN4QixJQUFJLzJCLEVBQVMsVUFBVysyQixFQUN0QkEsRUFBSy8yQixLQUFLL0UsTUFBTTg3QixFQUFLMlYsS0FBTTNWLEVBQUt1UixNQUFRdlIsRUFBSzJWLE1BQzVDM1YsRUFBSzJWLEtBQU8sRUFBSzNWLEVBQUsvMkIsS0FBSy9FLE1BQU04N0IsRUFBSzJWLE1BQVEzVixFQUFLLzJCLEtBQ3REKzJCLEVBQUsvMkIsS0FBT0EsRUFDWisyQixFQUFLMlYsS0FBTyxTQUNMM1YsRUFBS3VSLE1BQ1J2UixFQUFLc1IsYUFDUHJvQyxFQUFLcWlDLFVBQ0x0TCxFQUFLc1IsWUFBYSxHQTRuQmhCMkUsQ0FBaUJqVyxHQUNRLElBQXJCQSxFQUFLLzJCLEtBQUtwRCxRQUNaLE9BQU9yQyxLQUFLMHlDLFNBQVMsQ0FBQzNFLE1BQU8sR0FBSTNTLEdBS3ZDLE9BQU9wN0IsS0FBSzB5QyxTQUFTbFcsRUFBTXBCLE1BRzdCOFEsR0FBZ0J4dEMsVUFBVWtnQyxRQUFVLFNBQVVwQyxFQUFNcEIsR0FhbEQsTUFab0IsbUJBQVRvQixJQUNUcEIsRUFBV29CLEVBQ1hBLEVBQU8sS0FHVEEsRUFBT0EsR0FBUSxJQUtWd1UsWUFBZSxnQkFBaUJ4VSxFQUFRQSxFQUFLd1UsYUFBZXhVLEVBQUttUixLQUUvRCxJQUFJN0MsR0FBVTlxQyxLQUFNdzhCLEVBQU1wQixJQUduQzhRLEdBQWdCeHRDLFVBQVVpMEMsTUFBUXJYLEVBQVcsU0FBUyxTQUFVRixHQUc5RCxPQUZBcDdCLEtBQUt1N0IsU0FBVSxFQUNmdjdCLEtBQUtrQyxLQUFLLFVBQ0hsQyxLQUFLNHlDLE9BQU94WCxNQUdyQjhRLEdBQWdCeHRDLFVBQVVxa0IsS0FBT3VZLEVBQVcsUUFBUSxTQUFVRixHQUM1RCxJQUFJTCxFQUFPLzZCLEtBQ1hBLEtBQUs2eUMsT0FBTSxTQUFVdHlDLEVBQUt3aUIsR0FDeEIsR0FBSXhpQixFQUNGLE9BQU82NkIsRUFBUzc2QixHQUdsQndpQixFQUFLK3ZCLFFBQVUvdkIsRUFBSyt2QixTQUFXL1gsRUFBSzE5QixLQUNwQzBsQixFQUFLdXBCLG1CQUFxQnZSLEVBQUt1UixpQkFBb0IxSyxHQUFTN0csSUFDNURoWSxFQUFLeXBCLFFBQVV6UixFQUFLeVIsUUFDcEJwUixFQUFTLEtBQU1yWSxTQUluQm1wQixHQUFnQnh0QyxVQUFVb0osR0FBS3d6QixFQUFXLE1BQU0sU0FBVUYsR0FDeEQsT0FBT3A3QixLQUFLa2pDLElBQUk5SCxNQUlsQjhRLEdBQWdCeHRDLFVBQVVrRCxLQUFPLFdBQy9CLE1BQThCLG1CQUFmNUIsS0FBSyt5QyxNQUF3Qi95QyxLQUFLK3lDLFFBQVUveUMsS0FBS3dzQyxTQUdsRU4sR0FBZ0J4dEMsVUFBVTB2QyxTQUN4QjlTLEVBQVcsWUFBWSxTQUFVdUYsRUFBS3JFLEVBQU1wQixHQWM1QyxHQWJvQixtQkFBVG9CLElBQ1RwQixFQUFXb0IsRUFDWEEsRUFBTyxJQUdUQSxFQUFPQSxHQUFRLEdBRVhoNUIsTUFBTTZtQixRQUFRd1csS0FDaEJBLEVBQU0sQ0FDSm5FLEtBQU1tRSxLQUlMQSxJQUFRQSxFQUFJbkUsT0FBU2w1QixNQUFNNm1CLFFBQVF3VyxFQUFJbkUsTUFDMUMsT0FBT3RCLEVBQVNvRixHQUFZZixJQUc5QixJQUFLLElBQUkzaUMsRUFBSSxFQUFHQSxFQUFJK2pDLEVBQUluRSxLQUFLcjZCLFNBQVV2RixFQUNyQyxHQUEyQixpQkFBaEIrakMsRUFBSW5FLEtBQUs1L0IsSUFBbUIwRyxNQUFNNm1CLFFBQVF3VyxFQUFJbkUsS0FBSzUvQixJQUM1RCxPQUFPcytCLEVBQVNvRixHQUFZSixJQUloQyxJQUFJNFMsRUFZSixHQVhBblMsRUFBSW5FLEtBQUs3d0IsU0FBUSxTQUFVbzFCLEdBQ3JCQSxFQUFJTSxjQUNOL2pDLE9BQU9pSSxLQUFLdzdCLEVBQUlNLGNBQWMxMUIsU0FBUSxTQUFVeE8sR0FDOUMyMUMsRUFBa0JBLEdBL3FCMUIsU0FBNkIzMUMsR0FDM0IsTUFBdUIsTUFBbkJBLEVBQUs0MUMsT0FBTyxJQUNQNTFDLDRFQTZxQmtDNjFDLENBQW9CNzFDLEdBQ3BENGpDLEVBQUlNLGFBQWFsa0MsR0FBTSt4QyxjQUMxQm5SLEVBQWUsT0FBUSxhQUFjNWdDLEVBQU0sY0FBZTRqQyxFQUFJaUMsSUFBSyxpQ0FNdkU4UCxFQUNGLE9BQU81WCxFQUFTb0YsR0FBWUwsRUFBYTZTLElBR3JDLGNBQWV4VyxJQUVqQkEsRUFBS3FTLFlBREgsY0FBZWhPLElBQ0FBLEVBQUlnTyxXQU16QixJQUFJckMsRUFBVXhzQyxLQUNUdzhCLEVBQUtxUyxXQUFjak4sR0FBUzRLLElBRy9CM0wsRUFBSW5FLEtBQUt0SyxLQUFLMlosSUF4eUJsQixTQUFtQnJQLEdBQ2pCLElBQUssSUFBSTUvQixFQUFJLEVBQUdBLEVBQUk0L0IsRUFBS3I2QixPQUFRdkYsSUFBSyxDQUNwQyxJQUFJbWtDLEVBQU12RSxFQUFLNS9CLEdBQ2YsR0FBSW1rQyxFQUFJcU4sZ0JBQ0NyTixFQUFJTSxrQkFDTixHQUFJTixFQUFJTSxhQUdiLElBREEsSUFBSTRSLEVBQU8zMUMsT0FBT2lJLEtBQUt3N0IsRUFBSU0sY0FDbEJweEIsRUFBSSxFQUFHQSxFQUFJZ2pDLEVBQUs5d0MsT0FBUThOLElBQUssQ0FDcEMsSUFBSW14QixFQUFNNlIsRUFBS2hqQyxHQUNmOHdCLEVBQUlNLGFBQWFELEdBQU9yRixFQUFLZ0YsRUFBSU0sYUFBYUQsR0FDNUMsQ0FBQyxPQUFRLFNBQVUsZUFBZ0IsU0FBVSxTQUFVLFdBZ3lCL0Q4UixDQUFVdlMsRUFBSW5FLE1BS2QsSUFBSTNILEVBQU04TCxFQUFJbkUsS0FBS2pyQixLQUFJLFNBQVV3dkIsR0FDL0IsT0FBT0EsRUFBSWlDLE9BR2IsT0FBT2xqQyxLQUFLcXpDLFVBQVV4UyxFQUFLckUsR0FBTSxTQUFVajhCLEVBQUttckIsR0FDOUMsR0FBSW5yQixFQUNGLE9BQU82NkIsRUFBUzc2QixHQVNsQixHQVBLaThCLEVBQUtxUyxZQUVSbmpCLEVBQU1BLEVBQUkvYSxRQUFPLFNBQVU0QyxHQUN6QixPQUFPQSxFQUFFaFAsV0FJUnE5QixHQUFTNEssR0FDWixJQUFLLElBQUkxdkMsRUFBSSxFQUFHQyxFQUFJMnVCLEVBQUlycEIsT0FBUXZGLEVBQUlDLEVBQUdELElBQ3JDNHVCLEVBQUk1dUIsR0FBR2dMLEdBQUs0akIsRUFBSTV1QixHQUFHZ0wsSUFBTWl0QixFQUFJajRCLEdBSWpDcytCLEVBQVMsS0FBTTFQLFNBSW5Cd2dCLEdBQWdCeHRDLFVBQVU0MEMsMEJBQ3hCaFksRUFBVyw2QkFBNkIsU0FBVWlZLEVBQ01uWSxHQUN4RCxJQUFJb1ksRUFBWXRaLEVBQU1sNkIsS0FBS3FzQyxRQUN2QnJzQyxLQUFLcXNDLE9BQU9XLGVBQ2R3RyxFQUFVaEgsUUFBVXhzQyxLQUFLcXNDLE9BQU9XLGNBR2xDLElBQUl5RyxFQUFRLElBQUl6ekMsS0FBSytGLFlBQVl3dEMsRUFBYUMsR0FVOUM1USxHQUFPNWlDLEtBQU0sOEJBUmIsU0FBaUJpaEMsR0FFZixPQURBQSxFQUFJeVMsYUFBZXpTLEVBQUl5UyxjQUFnQixJQUNuQ3pTLEVBQUl5UyxhQUFhSCxLQUdyQnRTLEVBQUl5UyxhQUFhSCxJQUFlLEVBQ3pCdFMsTUFHTnRxQixNQUFLLFdBQ0p5a0IsRUFBUyxLQUFNLENBQUNtQixHQUFJa1gsT0FDbkIzUSxNQUFNMUgsTUFHYjhRLEdBQWdCeHRDLFVBQVVxcEIsUUFDeEJ1VCxFQUFXLFdBQVcsU0FBVWtCLEVBQU1wQixHQUVsQixtQkFBVG9CLElBQ1RwQixFQUFXb0IsRUFDWEEsRUFBTyxJQUdULElBQUl6QixFQUFPLzZCLEtBQ1AyekMsSUFBWSxlQUFnQjVZLElBQU9BLEVBQUs2UixXQUU1QyxTQUFTZ0gsSUFFUDdZLEVBQUs4WSxTQUFTclgsR0FBTSxTQUFVajhCLEVBQUs0NkIsR0FDakMsR0FBSTU2QixFQUNGLE9BQU82NkIsRUFBUzc2QixHQUVsQnc2QixFQUFLUyxZQUFhLEVBQ2xCVCxFQUFLNzRCLEtBQUssYUFDVms1QixFQUFTLEtBQU1ELEdBQVEsQ0FBRSxJQUFNLE9BSW5DLEdBQUl5RyxHQUFTN0csR0FFWCxPQUFPNlksSUFHVDdZLEVBQUtwOUIsSUFBSSw4QkFBOEIsU0FBVTRDLEVBQUt1ekMsR0FDcEQsR0FBSXZ6QyxFQUVGLE9BQW1CLE1BQWZBLEVBQUlnK0IsT0FDQ25ELEVBQVM3NkIsR0FFVHF6QyxJQUdYLElBQUlGLEVBQWVJLEVBQVNKLGFBQ3hCdEgsRUFBVXJSLEVBQUtoMUIsWUFDZmd1QyxFQUFhdjJDLE9BQU9pSSxLQUFLaXVDLEdBQWNqaUMsS0FBSSxTQUFVcFUsR0FHdkQsSUFBSTIyQyxFQUFXTCxFQUNidDJDLEVBQUsyWixRQUFRLElBQUlzVixPQUFPLElBQU04ZixFQUFRdGQsUUFBUyxJQUFNenhCLEVBQ3ZELE9BQU8sSUFBSSt1QyxFQUFRNEgsRUFBVWpaLEVBQUtzUixRQUFRdGtCLGFBRTVDNW5CLFFBQVFneEMsSUFBSTRDLEdBQVlwOUIsS0FBS2k5QixFQUFXeFksU0FVNUMrUSxHQUFVenRDLFVBQVV1MUMsUUFBVSxXQUM1QixJQUFJOXNDLEVBQ0osR0FBSW5ILEtBQUtnOEIsT0FDUCxLQUFRNzBCLEVBQU1uSCxLQUFLd0csTUFBTXJCLFNBQ3ZCZ0MsRUFBSW5ILEtBQUtnOEIsYUFHWCxLQUFRNzBCLEVBQU1uSCxLQUFLd0csTUFBTXJCLFNBQ3ZCZ0MsS0FLTmdsQyxHQUFVenRDLFVBQVV1dUMsS0FBTyxTQUFVMXNDLEdBQ25DUCxLQUFLZzhCLE9BQVN6N0IsRUFDZFAsS0FBS2kwQyxXQUdQOUgsR0FBVXp0QyxVQUFVNHVDLE1BQVEsU0FBVS9RLEdBQ3BDdjhCLEtBQUs4N0IsU0FBVSxFQUNmOTdCLEtBQUt1OEIsR0FBS0EsRUFDVnY4QixLQUFLaTBDLFdBR1A5SCxHQUFVenRDLFVBQVVxOUIsUUFBVSxTQUFVNTBCLEdBQ3RDbkgsS0FBS3dHLE1BQU1wRSxLQUFLK0UsR0FDWm5ILEtBQUtnOEIsUUFDUGg4QixLQUFLaTBDLFdBNEVULElBQVM3SCxHQUFTRixJQXdFbEIsSUFBSS9tQixHQUFnQyxvQkFBcEIrdUIsZ0JBQ1ZBLGdCQUNBLFdBQWMsTUFBTyxDQUFDQyxNQUFPLGVBRS9CQyxHQUFNQyxNQUNOQyxHQUFJQyxRQUVSbkksR0FBUUssU0FBVyxHQUNuQkwsR0FBUU0sa0JBQW9CLEdBRTVCTixHQUFRdGQsT0FBUyxVQUVqQixJQUFJMGxCLEdBQWUsSUFBSSxLQUV2QixTQUEyQkMsR0FDekJqM0MsT0FBT2lJLEtBQUssSUFBRy9HLFdBQVdtTixTQUFRLFNBQVV4TixHQUNULG1CQUF0QixJQUFHSyxVQUFVTCxLQUN0Qm8yQyxFQUFNcDJDLEdBQU9tMkMsR0FBYW4yQyxHQUFLQyxLQUFLazJDLFFBTXhDLElBQUlFLEVBQW9CRCxFQUFNRSxzQkFBd0IsSUFBSTNiLEVBRTFEeWIsRUFBTTF6QyxHQUFHLE9BQU8sU0FBMEJ3N0IsR0FDbkNtWSxFQUFrQnBpQyxJQUFJaXFCLEVBQUdsL0IsT0FDNUJxM0MsRUFBa0J6d0MsSUFBSXM0QixFQUFHbC9CLEtBQU0sSUFFakNxM0MsRUFBa0IvMkMsSUFBSTQrQixFQUFHbC9CLE1BQU0rRSxLQUFLbTZCLE1BR3RDa1ksRUFBTTF6QyxHQUFHLFNBQVMsU0FBNEJ3N0IsR0FDNUMsR0FBS21ZLEVBQWtCcGlDLElBQUlpcUIsRUFBR2wvQixNQUE5QixDQUdBLElBQUl1M0MsRUFBU0YsRUFBa0IvMkMsSUFBSTQrQixFQUFHbC9CLE1BQ2xDZ3FDLEVBQU11TixFQUFPcGtDLFFBQVErckIsR0FDckI4SyxFQUFNLElBSVZ1TixFQUFPL0wsT0FBT3hCLEVBQUssR0FDZnVOLEVBQU92eUMsT0FBUyxFQUVsQnF5QyxFQUFrQnp3QyxJQUFJczRCLEVBQUdsL0IsS0FBTXUzQyxHQUUvQkYsRUFBa0JoYixPQUFPNkMsRUFBR2wvQixXQUloQ28zQyxFQUFNMXpDLEdBQUcsYUFBYSxTQUFnQzFELEdBQ3BELEdBQUtxM0MsRUFBa0JwaUMsSUFBSWpWLEdBQTNCLENBR0EsSUFBSXUzQyxFQUFTRixFQUFrQi8yQyxJQUFJTixHQUNuQ3EzQyxFQUFrQmhiLE9BQU9yOEIsR0FDekJ1M0MsRUFBTy9vQyxTQUFRLFNBQVUwd0IsR0FDdkJBLEVBQUdyNkIsS0FBSyxhQUFZLFVBSzFCMnlDLENBQWtCekksSUFFbEJBLEdBQVFJLFFBQVUsU0FBVTFrQyxFQUFJeW1CLEVBQUt1bUIsR0FFL0J2bUIsRUFBSXdlLFVBQ05YLEdBQVFLLFNBQVMza0MsR0FBTXltQixFQUNuQnVtQixHQUNGMUksR0FBUU0sa0JBQWtCdHFDLEtBQUswRixLQUtyQ3NrQyxHQUFRMkksT0FBUyxTQUFVeG1CLEdBQ3pCLEdBQW1CLG1CQUFSQSxFQUNUQSxFQUFJNmQsUUFDQyxJQUFtQixpQkFBUjdkLEdBQWdELElBQTVCL3dCLE9BQU9pSSxLQUFLOG9CLEdBQUtsc0IsT0FDckQsTUFBTSxJQUFJRyxNQUFNLHdCQUEwQityQixFQUFNLHVDQUVoRC93QixPQUFPaUksS0FBSzhvQixHQUFLMWlCLFNBQVEsU0FBVS9ELEdBQ2pDc2tDLEdBQVExdEMsVUFBVW9KLEdBQU15bUIsRUFBSXptQixNQU1oQyxPQUhJOUgsS0FBS2cxQyxhQUNQNUksR0FBUTRJLFdBQWE3VixFQUFzQixHQUFJbi9CLEtBQUtnMUMsYUFFL0M1SSxJQUdUQSxHQUFRNkksU0FBVyxTQUFVQyxHQUMzQixTQUFTQyxFQUFTOTNDLEVBQU1tL0IsR0FDdEIsS0FBTXg4QixnQkFBZ0JtMUMsR0FDcEIsT0FBTyxJQUFJQSxFQUFTOTNDLEVBQU1tL0IsR0FHNUJBLEVBQU9BLEdBQVEsR0FFWG4vQixHQUF3QixpQkFBVEEsSUFFakJBLEdBREFtL0IsRUFBT24vQixHQUNLQSxZQUNMbS9CLEVBQUtuL0IsTUFHZG0vQixFQUFPMkMsRUFBc0IsR0FBSWdXLEVBQVNILFdBQVl4WSxHQUN0RDRQLEdBQVFudkMsS0FBSytDLEtBQU0zQyxFQUFNbS9CLEdBZ0IzQixPQWJBLElBQVMyWSxFQUFVL0ksSUFFbkIrSSxFQUFTekksa0JBQW9CTixHQUFRTSxrQkFBa0Joc0MsUUFDdkRsRCxPQUFPaUksS0FBSzJtQyxJQUFTdmdDLFNBQVEsU0FBVXhOLEdBQy9CQSxLQUFPODJDLElBQ1hBLEVBQVM5MkMsR0FBTyt0QyxHQUFRL3RDLE9BTTVCODJDLEVBQVNILFdBQWE3VixFQUFzQixHQUFJbi9CLEtBQUtnMUMsV0FBWUUsR0FFMURDLEdBR1QvSSxHQUFRaUksTUFBUSxTQUFVZSxFQUFLNVksR0FDN0IsT0FBTzRYLEdBQUlnQixFQUFLNVksSUFRbEIsU0FBUzZZLEdBQWdCcFUsRUFBS3FVLEdBRTVCLElBREEsSUFBSXYzQyxFQUFRa2pDLEVBQ0hua0MsRUFBSSxFQUFHNkgsRUFBTTJ3QyxFQUFZanpDLE9BQVF2RixFQUFJNkgsRUFBSzdILElBQUssQ0FHdEQsS0FEQWlCLEVBQVFBLEVBREV1M0MsRUFBWXg0QyxLQUdwQixNQUdKLE9BQU9pQixFQVFULFNBQVN3M0MsR0FBV0MsR0FJbEIsSUFGQSxJQUFJQyxFQUFTLEdBQ1Q1c0IsRUFBVSxHQUNML3JCLEVBQUksRUFBRzZILEVBQU02d0MsRUFBVW56QyxPQUFRdkYsRUFBSTZILEVBQUs3SCxJQUFLLENBQ3BELElBQUl1eUIsRUFBS21tQixFQUFVMTRDLEdBQ2ZBLEVBQUksR0FBMEIsT0FBckIwNEMsRUFBVTE0QyxFQUFJLEtBQXVCLE1BQVB1eUIsR0FBcUIsTUFBUEEsR0FFdkR4RyxFQUFVQSxFQUFRL0MsVUFBVSxFQUFHK0MsRUFBUXhtQixPQUFTLEdBQUtndEIsRUFDckMsTUFBUEEsR0FFVG9tQixFQUFPcnpDLEtBQUt5bUIsR0FDWkEsRUFBVSxJQUVWQSxHQUFXd0csRUFJZixPQURBb21CLEVBQU9yekMsS0FBS3ltQixHQUNMNHNCLEVBR1QsSUFBSUMsR0FBb0IsQ0FBQyxNQUFPLE9BQVEsUUFDeEMsU0FBU0MsR0FBcUJDLEdBQzVCLE9BQU9GLEdBQWtCbGxDLFFBQVFvbEMsSUFBVSxFQUc3QyxTQUFTQyxHQUFPdG5CLEdBQ2QsT0FBTy93QixPQUFPaUksS0FBSzhvQixHQUFLLEdBUzFCLFNBQVN1bkIsR0FBb0JDLEdBSzNCLElBQUlycUIsRUFBTSxHQUNOekQsRUFBUSxDQUFDK3RCLEtBQUssRUFBTUMsTUFBTSxHQTREOUIsT0ExREFGLEVBQVVscUMsU0FBUSxTQUFVOGpCLEdBQzFCbnlCLE9BQU9pSSxLQUFLa3FCLEdBQVU5akIsU0FBUSxTQUFVK3BDLEdBQ3RDLElBQUlNLEVBQVV2bUIsRUFBU2ltQixHQUt2QixHQUp1QixpQkFBWk0sSUFDVEEsRUFBVSxDQUFDQyxJQUFLRCxJQUdkUCxHQUFxQkMsR0FFdkIsR0FBSU0sYUFBbUIxeUMsTUFBTyxDQUM1QixHQUFJeWtCLEVBQU0ydEIsR0FHUixPQUZBM3RCLEVBQU0ydEIsSUFBUyxPQUNmbHFCLEVBQUlrcUIsR0FBU00sR0FJZixJQUFJLytCLEVBQVUsR0FDZHVVLEVBQUlrcUIsR0FBTy9wQyxTQUFRLFNBQVU5SixHQUMzQnZFLE9BQU9pSSxLQUFLeXdDLEdBQVNycUMsU0FBUSxTQUFVeE4sR0FDckMsSUFBSW5CLEVBQUlnNUMsRUFBUTczQyxHQUNaKzNDLEVBQVVqdUMsS0FBS0MsSUFBSTVLLE9BQU9pSSxLQUFLMUQsR0FBVU0sT0FBUTdFLE9BQU9pSSxLQUFLdkksR0FBR21GLFFBQ2hFbW5DLEVBQVNzTSxHQUFvQixDQUFDL3pDLEVBQVU3RSxJQUN4Q00sT0FBT2lJLEtBQUsrakMsR0FBUW5uQyxRQUFVK3pDLEdBTWxDai9CLEVBQVEvVSxLQUFLb25DLFNBR2pCOWQsRUFBSWtxQixHQUFTeitCLE9BR2J1VSxFQUFJa3FCLEdBQVNFLEdBQW9CLENBQUNJLFFBRS9CLENBQ0wsSUFBSUcsRUFBZ0IzcUIsRUFBSWtxQixHQUFTbHFCLEVBQUlrcUIsSUFBVSxHQUMvQ3A0QyxPQUFPaUksS0FBS3l3QyxHQUFTcnFDLFNBQVEsU0FBVXlxQyxHQUNyQyxJQUFJdjRDLEVBQVFtNEMsRUFBUUksR0FFcEIsTUFBaUIsUUFBYkEsR0FBbUMsU0FBYkEsRUF1QnBDLFNBQW9CQSxFQUFVdjRDLEVBQU9zNEMsR0FDbkMsUUFBaUMsSUFBdEJBLEVBQWNGLElBQ3ZCLFlBRWdDLElBQXZCRSxFQUFjRSxLQUNOLFNBQWJELEVBQ0V2NEMsRUFBUXM0QyxFQUFjRSxPQUN4QkYsRUFBY0UsS0FBT3g0QyxHQUduQkEsR0FBU3M0QyxFQUFjRSxjQUNsQkYsRUFBY0UsS0FDckJGLEVBQWNHLElBQU16NEMsUUFHYyxJQUF0QnM0QyxFQUFjRyxJQUNiLFNBQWJGLEVBQ0V2NEMsRUFBUXM0QyxFQUFjRyxhQUNqQkgsRUFBY0csSUFDckJILEVBQWNFLEtBQU94NEMsR0FHbkJBLEVBQVFzNEMsRUFBY0csTUFDeEJILEVBQWNHLElBQU16NEMsR0FJeEJzNEMsRUFBY0MsR0FBWXY0QyxFQWpEWDA0QyxDQUFXSCxFQUFVdjRDLEVBQU9zNEMsR0FDYixRQUFiQyxHQUFtQyxTQUFiQSxFQXFEM0MsU0FBb0JBLEVBQVV2NEMsRUFBT3M0QyxHQUNuQyxRQUFpQyxJQUF0QkEsRUFBY0YsSUFDdkIsWUFFZ0MsSUFBdkJFLEVBQWNLLEtBQ04sU0FBYkosRUFDRXY0QyxFQUFRczRDLEVBQWNLLE9BQ3hCTCxFQUFjSyxLQUFPMzRDLEdBR25CQSxHQUFTczRDLEVBQWNLLGNBQ2xCTCxFQUFjSyxLQUNyQkwsRUFBY00sSUFBTTU0QyxRQUdjLElBQXRCczRDLEVBQWNNLElBQ2IsU0FBYkwsRUFDRXY0QyxFQUFRczRDLEVBQWNNLGFBQ2pCTixFQUFjTSxJQUNyQk4sRUFBY0ssS0FBTzM0QyxHQUduQkEsRUFBUXM0QyxFQUFjTSxNQUN4Qk4sRUFBY00sSUFBTTU0QyxHQUl4QnM0QyxFQUFjQyxHQUFZdjRDLEVBL0VYNjRDLENBQVdOLEVBQVV2NEMsRUFBT3M0QyxHQUNiLFFBQWJDLEVBbUZyQixTQUFpQnY0QyxFQUFPczRDLEdBQ2xCLFFBQVNBLEVBRVhBLEVBQWNRLElBQUl6MEMsS0FBS3JFLEdBRXZCczRDLEVBQWNRLElBQU0sQ0FBQzk0QyxHQXZGTis0QyxDQUFRLzRDLEVBQU9zNEMsR0FDQSxRQUFiQyxFQTJGckIsU0FBaUJ2NEMsRUFBT3M0QyxVQUdmQSxFQUFjRyxXQUNkSCxFQUFjRSxZQUNkRixFQUFjTSxXQUNkTixFQUFjSyxZQUNkTCxFQUFjUSxJQUNyQlIsRUFBY0YsSUFBTXA0QyxFQWxHSGc1QyxDQUFRaDVDLEVBQU9zNEMsR0FDQSxXQUFiQyxFQXFHckIsU0FBb0J2NEMsRUFBT3M0QyxHQUNyQixXQUFZQSxFQUVkQSxFQUFjVyxPQUFPNTBDLEtBQUtyRSxHQUUxQnM0QyxFQUFjVyxPQUFTLENBQUNqNUMsR0F6R1RrNUMsQ0FBV2w1QyxFQUFPczRDLFFBRTNCQSxFQUFjQyxHQUFZdjRDLGFBTTNCMnRCLEVBd0lULFNBQVN3ckIsR0FBZ0I5cUIsR0FDdkIsSUFBSTdNLEVBQVMyYSxFQUFNOU4sR0FDZitxQixHQUFXLEdBbEJqQixTQUFTQyxFQUFnQjdvQixFQUFLOG9CLEdBQzFCLElBQUssSUFBSXpkLEtBQVFyTCxFQUFLLENBQ0wsU0FBVHFMLElBQ0F5ZCxHQUFRLEdBRVosSUFBSXQ1QyxFQUFRd3dCLEVBQUlxTCxHQUNLLGlCQUFWNzdCLElBQ1BzNUMsRUFBUUQsRUFBZ0JyNUMsRUFBT3M1QyxJQUd2QyxPQUFPQSxHQVVIRCxDQUFnQjczQixHQUFRLEtBRXBCLFNBREpBLEVBdkNSLFNBQVMrM0IsRUFBMEIvb0IsR0FDL0IsSUFBSyxJQUFJcUwsS0FBUXJMLEVBQUssQ0FDbEIsR0FBSS9xQixNQUFNNm1CLFFBQVFrRSxHQUNkLElBQUssSUFBSXp4QixLQUFLeXhCLEVBQ05BLEVBQUl6eEIsR0FBUyxPQUNieXhCLEVBQUl6eEIsR0FBS2c1QyxHQUFvQnZuQixFQUFJenhCLEdBQVMsT0FJdEQsSUFBSWlCLEVBQVF3d0IsRUFBSXFMLEdBQ0ssaUJBQVY3N0IsR0FDUHU1QyxFQUEwQnY1QyxHQUdsQyxPQUFPd3dCLEVBeUJNK29CLENBQTBCLzNCLE1BRS9CQSxFQUFTdTJCLEdBQW9CdjJCLEVBQWEsT0FFOUM0M0IsR0FBVyxHQUdqQixDQUFDLE1BQU8sUUFBUXRyQyxTQUFRLFNBQVUwckMsR0FDNUJBLEtBQVdoNEIsR0FHYkEsRUFBT2c0QixHQUFTMXJDLFNBQVEsU0FBVTJyQyxHQUVoQyxJQURBLElBQUkvQixFQUFTajRDLE9BQU9pSSxLQUFLK3hDLEdBQ2hCMTZDLEVBQUksRUFBR0EsRUFBSTI0QyxFQUFPcHpDLE9BQVF2RixJQUFLLENBQ3RDLElBQUk4NEMsRUFBUUgsRUFBTzM0QyxHQUNmbzVDLEVBQVVzQixFQUFZNUIsR0FDSCxpQkFBWk0sR0FBb0MsT0FBWkEsSUFDakNzQixFQUFZNUIsR0FBUyxDQUFDTyxJQUFLRCxXQU9qQyxTQUFVMzJCLElBR1pBLEVBQWEsS0FBSXUyQixHQUFvQixDQUFDdjJCLEVBQWEsUUFLckQsSUFGQSxJQUFJazJCLEVBQVNqNEMsT0FBT2lJLEtBQUs4WixHQUVoQnppQixFQUFJLEVBQUdBLEVBQUkyNEMsRUFBT3B6QyxPQUFRdkYsSUFBSyxDQUN0QyxJQUFJODRDLEVBQVFILEVBQU8zNEMsR0FDZm81QyxFQUFVMzJCLEVBQU9xMkIsR0FFRSxpQkFBWk0sR0FBb0MsT0FBWkEsRUFDakNBLEVBQVUsQ0FBQ0MsSUFBS0QsR0FDTmlCLElBR04sUUFBU2pCLElBQ1hBLEVBQVFXLElBQU0sQ0FBQ1gsRUFBUVcsTUFFckIsV0FBWVgsSUFDZEEsRUFBUWMsT0FBUyxDQUFDZCxFQUFRYyxVQUc5QnozQixFQUFPcTJCLEdBQVNNLEVBR2xCLE9BQU8zMkIsRUFzQlQsU0FBU2s0QixHQUFRdHlCLEVBQUdDLEdBRWxCLEdBQUlELElBQU1DLEVBQ1IsT0FBTyxFQUdURCxFQUFJdXlCLEdBQWF2eUIsR0FDakJDLEVBQUlzeUIsR0FBYXR5QixHQUVqQixJQUFJdXlCLEVBQUs1b0IsR0FBZTVKLEdBQ3BCeXlCLEVBQUs3b0IsR0FBZTNKLEdBQ3hCLEdBQUt1eUIsRUFBS0MsR0FBUSxFQUNoQixPQUFPRCxFQUFLQyxFQUVkLGNBQWV6eUIsR0FDYixJQUFLLFNBQ0gsT0FBT0EsRUFBSUMsRUFDYixJQUFLLFVBQ0gsT0FBT0QsRUFBSUMsR0FBSyxFQUFJLEVBQ3RCLElBQUssU0FDSCxPQXNQTixTQUF1QkQsRUFBR0MsR0FJeEIsT0FBUUQsSUFBTUMsRUFBSyxFQUFNRCxFQUFJQyxFQUFLLEdBQUssRUExUDVCeXlCLENBQWMxeUIsRUFBR0MsR0FFNUIsT0FBTzVoQixNQUFNNm1CLFFBQVFsRixHQXlPdkIsU0FBc0JBLEVBQUdDLEdBRXZCLElBREEsSUFBSXpnQixFQUFNd0QsS0FBS3dKLElBQUl3VCxFQUFFOWlCLE9BQVEraUIsRUFBRS9pQixRQUN0QnZGLEVBQUksRUFBR0EsRUFBSTZILEVBQUs3SCxJQUFLLENBQzVCLElBQUlzMUIsRUFBT3FsQixHQUFRdHlCLEVBQUVyb0IsR0FBSXNvQixFQUFFdG9CLElBQzNCLEdBQWEsSUFBVHMxQixFQUNGLE9BQU9BLEVBR1gsT0FBUWpOLEVBQUU5aUIsU0FBVytpQixFQUFFL2lCLE9BQVUsRUFDOUI4aUIsRUFBRTlpQixPQUFTK2lCLEVBQUUvaUIsT0FBVSxHQUFLLEVBbFBMeTFDLENBQWEzeUIsRUFBR0MsR0EwUDVDLFNBQXVCRCxFQUFHQyxHQUd4QixJQUZBLElBQUkyeUIsRUFBS3Y2QyxPQUFPaUksS0FBSzBmLEdBQUk2eUIsRUFBS3g2QyxPQUFPaUksS0FBSzJmLEdBQ3RDemdCLEVBQU13RCxLQUFLd0osSUFBSW9tQyxFQUFHMTFDLE9BQVEyMUMsRUFBRzMxQyxRQUN4QnZGLEVBQUksRUFBR0EsRUFBSTZILEVBQUs3SCxJQUFLLENBRTVCLElBQUlzMUIsRUFBT3FsQixHQUFRTSxFQUFHajdDLEdBQUlrN0MsRUFBR2w3QyxJQUM3QixHQUFhLElBQVRzMUIsRUFDRixPQUFPQSxFQUlULEdBQWEsS0FEYkEsRUFBT3FsQixHQUFRdHlCLEVBQUU0eUIsRUFBR2o3QyxJQUFLc29CLEVBQUU0eUIsRUFBR2w3QyxNQUU1QixPQUFPczFCLEVBSVgsT0FBUTJsQixFQUFHMTFDLFNBQVcyMUMsRUFBRzMxQyxPQUFVLEVBQ2hDMDFDLEVBQUcxMUMsT0FBUzIxQyxFQUFHMzFDLE9BQVUsR0FBSyxFQTNRYzQxQyxDQUFjOXlCLEVBQUdDLEdBS2xFLFNBQVNzeUIsR0FBYXI1QyxHQUNwQixjQUFlQSxHQUNiLElBQUssWUFDSCxPQUFPLEtBQ1QsSUFBSyxTQUNILE9BQUlBLElBQVE2NUMsS0FBWTc1QyxLQUFTNjVDLEtBQVlyNEMsTUFBTXhCLEdBQzFDLEtBRUZBLEVBQ1QsSUFBSyxTQUNILElBQUk4NUMsRUFBVTk1QyxFQUNkLEdBQUltRixNQUFNNm1CLFFBQVFoc0IsR0FBTSxDQUN0QixJQUFJc0csRUFBTXRHLEVBQUlnRSxPQUNkaEUsRUFBTSxJQUFJbUYsTUFBTW1CLEdBQ2hCLElBQUssSUFBSTdILEVBQUksRUFBR0EsRUFBSTZILEVBQUs3SCxJQUN2QnVCLEVBQUl2QixHQUFLNDZDLEdBQWFTLEVBQVFyN0MsUUFHM0IsSUFBSXVCLGFBQWUrN0IsS0FDeEIsT0FBTy83QixFQUFJKzVDLFNBQ04sR0FBWSxPQUFSLzVDLEVBRVQsSUFBSyxJQUFJNm1CLEtBRFQ3bUIsRUFBTSxHQUNRODVDLEVBQ1osR0FBSTM2QyxPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUtrN0MsRUFBU2p6QixHQUFJLENBQ3BELElBQUkwQixFQUFNdXhCLEVBQVFqekIsUUFDQyxJQUFSMEIsSUFDVHZvQixFQUFJNm1CLEdBQUt3eUIsR0FBYTl3QixNQU1sQyxPQUFPdm9CLEVBR1QsU0FBU2c2QyxHQUFTaDZDLEdBQ2hCLEdBQVksT0FBUkEsRUFDRixjQUFlQSxHQUNiLElBQUssVUFDSCxPQUFPQSxFQUFNLEVBQUksRUFDbkIsSUFBSyxTQUNILE9BMlBSLFNBQThCeW9CLEdBRTVCLEdBQVksSUFBUkEsRUFDRixNQUFPLElBS1QsSUFBSXd4QixFQUFZeHhCLEVBQUl5eEIsZ0JBQWdCM3FCLE1BQU0sUUFDdEM0cUIsRUFBWXA4QixTQUFTazhCLEVBQVUsR0FBSSxJQUVuQ0csRUFBTTN4QixFQUFNLEVBRVp2SCxFQUFTazVCLEVBQU0sSUFBTSxJQUtyQkMsR0ExVld4eUIsSUF5VlV1eUIsR0FBT0QsRUFBWUEsS0FwVjFCLEtBcVZ5QmxnQyxXQTFWdkJxZ0MsRUEwVm1DLElBMVYxQkMsRUFNUixFQWhCdkIsU0FBYTF5QixFQUFLeXlCLEVBQVNDLEdBSXpCLElBSEEsSUFBSTE2QixFQUFVLEdBQ1YyNkIsRUFBZUQsRUFBYTF5QixFQUFJN2pCLE9BRTdCNmIsRUFBUTdiLE9BQVN3MkMsR0FDdEIzNkIsR0FBV3k2QixFQUViLE9BQU96NkIsRUFJTzQ2QixDQUFJNXlCLEVBQUt5eUIsRUFBU0MsR0FDZjF5QixHQUZuQixJQUFpQkEsRUFBS3l5QixFQUFTQyxFQTRWN0JyNUIsR0FyVlEsR0FxVlFtNUIsRUFHaEIsSUFBSUssRUFBUzV3QyxLQUFLdUksSUFBSTJiLFdBQVdpc0IsRUFBVSxLQUV2Q0csSUFDRk0sRUFBUyxHQUFLQSxHQUdoQixJQUFJQyxFQUFZRCxFQUFPRSxRQUFRLElBTy9CLE9BSkFELEVBQVlBLEVBQVVoaUMsUUFBUSxTQUFVLElBRXhDdUksR0FuV1EsR0FtV1F5NUIsRUE3UkhFLENBQXFCNzZDLEdBQzlCLElBQUssU0FPSCxPQUFPQSxFQUNKMlksUUFBUSxVQUFXLE1BQ25CQSxRQUFRLFVBQVcsTUFDbkJBLFFBQVEsVUFBVyxNQUV4QixJQUFLLFNBQ0gsSUFBSXFULEVBQVU3bUIsTUFBTTZtQixRQUFRaHNCLEdBQ3hCaUYsRUFBTSttQixFQUFVaHNCLEVBQU1iLE9BQU9pSSxLQUFLcEgsR0FDbEN2QixHQUFLLEVBQ0w2SCxFQUFNckIsRUFBSWpCLE9BQ1ZrZCxFQUFTLEdBQ2IsR0FBSThLLEVBQ0YsT0FBU3Z0QixFQUFJNkgsR0FDWDRhLEdBQVU0NUIsR0FBa0I3MUMsRUFBSXhHLFNBR2xDLE9BQVNBLEVBQUk2SCxHQUFLLENBQ2hCLElBQUl5MEMsRUFBUzkxQyxFQUFJeEcsR0FDakJ5aUIsR0FBVTQ1QixHQUFrQkMsR0FDeEJELEdBQWtCOTZDLEVBQUkrNkMsSUFHOUIsT0FBTzc1QixFQUdiLE1BQU8sR0FNVCxTQUFTNDVCLEdBQWtCOTZDLEdBR3pCLE9BQU8wd0IsR0FEUDF3QixFQUFNcTVDLEdBQWFyNUMsSUEvR1gsR0FnSDJCZzZDLEdBQVNoNkMsR0FGakMsS0FLYixTQUFTZzdDLEdBQVluekIsRUFBS3BwQixHQUN4QixJQUNJZ3FCLEVBREF3eUIsRUFBY3g4QyxFQUdsQixHQURzQixNQUFYb3BCLEVBQUlwcEIsR0FFYmdxQixFQUFNLEVBQ05ocUIsUUFDSyxDQUNMLElBQUkyN0MsRUFBaUIsTUFBWHZ5QixFQUFJcHBCLEdBQ2RBLElBQ0EsSUFBSXk4QyxFQUFjLEdBQ2RDLEVBQWN0ekIsRUFBSUosVUFBVWhwQixFQUFHQSxFQS9IaEIsR0FnSWYwN0MsRUFBWXA4QixTQUFTbzlCLEVBQWEsS0FqSXRCLElBdUloQixJQUpJZixJQUNGRCxHQUFhQSxHQUVmMTdDLEdBckltQixJQXNJTixDQUNYLElBQUl1eUIsRUFBS25KLEVBQUlwcEIsR0FDYixHQUFXLE9BQVB1eUIsRUFDRixNQUVBa3FCLEdBQWVscUIsRUFFakJ2eUIsSUFJQWdxQixFQUR5QixLQUQzQnl5QixFQUFjQSxFQUFZM3JCLE1BQU0sTUFDaEJ2ckIsT0FDUitaLFNBQVNtOUIsRUFBYSxJQUd0Qmx0QixXQUFXa3RCLEVBQVksR0FBSyxJQUFNQSxFQUFZLElBR2xEZCxJQUNGM3hCLEdBQVksSUFHSSxJQUFkMHhCLElBSUYxeEIsRUFBTXVGLFdBQVd2RixFQUFNLElBQU0weEIsSUFHakMsTUFBTyxDQUFDMXhCLElBQUtBLEVBQUt6a0IsT0FBU3ZGLEVBQUl3OEMsR0FLakMsU0FBU2owQyxHQUFJcWxCLEVBQU84RCxHQUNsQixJQUFJRCxFQUFNN0QsRUFBTXJsQixNQUVoQixHQUFJbXBCLEVBQVVuc0IsT0FBUSxDQUNwQixJQUFJb3NCLEVBQWtCRCxFQUFVQSxFQUFVbnNCLE9BQVMsR0FDL0Nrc0IsSUFBUUUsRUFBZ0JoakIsVUFFMUIraUIsRUFBVW5wQixNQUNWb3BCLEVBQWtCRCxFQUFVQSxFQUFVbnNCLE9BQVMsSUFFakQsSUFBSW9KLEVBQVVnakIsRUFBZ0JoakIsUUFDMUJpakIsRUFBbUJELEVBQWdCcnBCLE1BQ3ZDLEdBQUk1QixNQUFNNm1CLFFBQVE1ZSxHQUNoQkEsRUFBUXJKLEtBQUttc0IsUUFDUixHQUFJRyxJQUFxQmhFLEVBQU1yb0IsT0FBUyxFQUFHLENBRWhEb0osRUFEVWlmLEVBQU1ybEIsT0FDRGtwQixPQUVmN0QsRUFBTXRvQixLQUFLbXNCLElBaUhqQixTQUFTUSxHQUFleGIsR0FDdEIsSUFDSTJmLEVBREssQ0FBQyxVQUFXLFNBQVUsU0FBVSxVQUM1QjFpQixlQUFlK0MsR0FFNUIsT0FBSzJmLEVBQ08sT0FBTjNmLEVBQ0ssRUFFTC9QLE1BQU02bUIsUUFBUTlXLEdBQ1QsRUFFRjJmLEVBQU0sRUFBS0EsRUFBTSxFQUFNQSxFQUFNLEVBR2xDMXZCLE1BQU02bUIsUUFBUTlXLEdBQ1QsT0FEVCxFQXlFRixTQUFTa21DLEdBQXFCQyxFQUFNQyxFQUFZQyxHQUs5QyxHQUpBRixFQUFPQSxFQUFLL29DLFFBQU8sU0FBVXVnQyxHQUMzQixPQUFPMkksR0FBVTNJLEVBQUlqUSxJQUFLMFksRUFBV2hxQixTQUFVaXFCLE1BRzdDRCxFQUFXdm5CLEtBQU0sQ0FFbkIsSUFBSTBuQixFQTlCUixTQUEyQjFuQixHQUV6QixTQUFTMm5CLEVBQXNCOVksR0FDN0IsT0FBTzdPLEVBQUszZ0IsS0FBSSxTQUFVdW9DLEdBQ3hCLElBQ0kxRSxFQUFjQyxHQURGTSxHQUFPbUUsSUFHdkIsT0FEb0IzRSxHQUFnQnBVLEVBQUtxVSxNQUs3QyxPQUFPLFNBQVUyRSxFQUFNQyxHQUNyQixJQXByQmV0TyxFQUFNQyxFQXNyQmpCc08sRUFBWTFDLEdBRkdzQyxFQUFzQkUsRUFBS2haLEtBQzNCOFksRUFBc0JHLEVBQUtqWixNQUU5QyxPQUFrQixJQUFka1osRUFDS0EsR0F4ckJNdk8sRUEyckJFcU8sRUFBS2haLElBQUlpQyxJQTNyQkwySSxFQTJyQlVxTyxFQUFLalosSUFBSWlDLElBMXJCbkMwSSxFQUFPQyxHQUFTLEVBQUlELEVBQU9DLEVBQVEsRUFBSSxJQXFzQjFCdU8sQ0FBa0JULEVBQVd2bkIsTUFDL0NzbkIsRUFBT0EsRUFBS3RuQixLQUFLMG5CLEdBQ2lCLGlCQUF2QkgsRUFBV3ZuQixLQUFLLElBQ1UsVUF0cUJ2QjdELEVBc3FCRG9yQixFQUFXdm5CLEtBQUssSUFycUJwQnlqQixHQUFPdG5CLE1Bc3FCZG1yQixFQUFPQSxFQUFLNVIsV0F2cUJsQixJQUFrQnZaLEVBMnFCaEIsR0FBSSxVQUFXb3JCLEdBQWMsU0FBVUEsRUFBWSxDQUVqRCxJQUFJeEgsRUFBT3dILEVBQVd4SCxNQUFRLEVBQzFCcEUsR0FBUyxVQUFXNEwsRUFBYUEsRUFBVzVMLE1BQVEyTCxFQUFLcjNDLFFBQVU4dkMsRUFDdkV1SCxFQUFPQSxFQUFLaDVDLE1BQU15eEMsRUFBTXBFLEdBRTFCLE9BQU8yTCxFQUdULFNBQVNHLEdBQVU1WSxFQUFLdFIsRUFBVWlxQixHQUNoQyxPQUFPQSxFQUFlcnNCLE9BQU0sU0FBVXFvQixHQUNwQyxJQUFJTSxFQUFVdm1CLEVBQVNpbUIsR0FDbkJOLEVBQWNDLEdBQVdLLEdBQ3pCeUUsRUFBZ0JoRixHQUFnQnBVLEVBQUtxVSxHQUN6QyxPQUFJSyxHQUFxQkMsR0FrRDdCLFNBQW1DQSxFQUFPTSxFQUFTalYsR0FFakQsR0FBYyxRQUFWMlUsRUFDRixPQUFPTSxFQUFRb0UsTUFBSyxTQUFVQyxHQUM1QixPQUFPVixHQUFVNVksRUFBS3NaLEVBQVkvOEMsT0FBT2lJLEtBQUs4MEMsT0FJbEQsR0FBYyxTQUFWM0UsRUFDRixPQUFRaUUsR0FBVTVZLEVBQUtpVixFQUFTMTRDLE9BQU9pSSxLQUFLeXdDLElBSTlDLE9BQVFBLEVBQVExOEIsTUFBSyxTQUFVK2dDLEdBQzdCLE9BQU9WLEdBQVU1WSxFQUFLc1osRUFBWS84QyxPQUFPaUksS0FBSzgwQyxPQS9EckNDLENBQTBCNUUsRUFBT00sRUFBU2pWLEdBRzVDd1osR0FBY3ZFLEVBQVNqVixFQUFLcVUsRUFBYStFLE1BSXBELFNBQVNJLEdBQWN2RSxFQUFTalYsRUFBS3FVLEVBQWErRSxHQUNoRCxPQUFLbkUsSUFNa0IsaUJBQVpBLEVBQ0YxNEMsT0FBT2lJLEtBQUt5d0MsR0FBUzNvQixPQUFNLFNBQVVtdEIsR0FDMUMsSUFBSUMsRUFBWXpFLEVBQVN3RSxHQUV6QixHQUF1QyxJQUFuQ0EsRUFBa0JscUMsUUFBUSxLQUM1QixPQUFPZ0IsR0FBTWtwQyxFQUFtQnpaLEVBQUswWixFQUFXckYsRUFBYStFLEdBRTdELElBQUlPLEVBQWlCckYsR0FBV21GLEdBRWhDLFFBQ29CeDVDLElBQWxCbTVDLEdBQ3FCLGlCQUFkTSxHQUNQQyxFQUFldjRDLE9BQVMsRUFHeEIsT0FBTyxFQUdULElBQUl3NEMsRUFBbUJ4RixHQUFnQmdGLEVBQWVPLEdBRXRELE1BQXlCLGlCQUFkRCxFQUVGRixHQUFjRSxFQUFXMVosRUFBS3FVLEVBQWF1RixHQUk3Q3JwQyxHQUFNLE1BQU95dkIsRUFBSzBaLEVBQVdDLEVBQWdCQyxNQU1uRDNFLElBQVltRSxHQXNCckIsU0FBUzdvQyxHQUFNc3BDLEVBQWM3WixFQUFLMFosRUFBV3JGLEVBQWErRSxHQUN4RCxJQUFLVSxHQUFTRCxHQUVaLE1BQU0sSUFBSXQ0QyxNQUFNLHFCQUF1QnM0QyxFQUF2QixzSUFJbEIsT0FBT0MsR0FBU0QsR0FBYzdaLEVBQUswWixFQUFXckYsRUFBYStFLEdBRzdELFNBQVNXLEdBQVlYLEdBQ25CLE9BQU8sTUFBT0EsRUFHaEIsU0FBU1ksR0FBb0JaLEdBQzNCLFlBQWdDLElBQWxCQSxFQWVoQixTQUFTYSxHQUFtQmIsRUFBZU0sR0FDekMsT0FBT0EsRUFBVUwsTUFBSyxTQUFVMXpCLEdBQzlCLE9BQUl5ekIsYUFBeUI3MkMsTUFDcEI2MkMsRUFBY0MsTUFBSyxTQUFVYSxHQUNsQyxPQUEyQyxJQUFwQzFELEdBQVE3d0IsRUFBS3UwQixNQUllLElBQWhDMUQsR0FBUTd3QixFQUFLeXpCLE1Bd0N4QixJQUFJVSxHQUFXLENBRWIsV0FBYyxTQUFVOVosRUFBSzBaLEVBQVdyRixFQUFhK0UsR0FDbkQsUUFBSzcyQyxNQUFNNm1CLFFBQVFnd0IsS0FJVSxJQUF6QkEsRUFBY2g0QyxTQUljLGlCQUFyQmc0QyxFQUFjLEdBQ2hCQSxFQUFjQyxNQUFLLFNBQVUxekIsR0FDbEMsT0FBT2l6QixHQUFVanpCLEVBQUsrekIsRUFBV245QyxPQUFPaUksS0FBS2sxQyxPQUkxQ04sRUFBY0MsTUFBSyxTQUFVMXpCLEdBQ2xDLE9BQU82ekIsR0FBY0UsRUFBVzFaLEVBQUtxVSxFQUFhMXVCLFNBSXRELFVBQWEsU0FBVXFhLEVBQUswWixFQUFXckYsRUFBYStFLEdBQ2xELFFBQUs3MkMsTUFBTTZtQixRQUFRZ3dCLEtBS1UsSUFBekJBLEVBQWNoNEMsU0FJYyxpQkFBckJnNEMsRUFBYyxHQUNoQkEsRUFBYzlzQixPQUFNLFNBQVUzRyxHQUNuQyxPQUFPaXpCLEdBQVVqekIsRUFBSyt6QixFQUFXbjlDLE9BQU9pSSxLQUFLazFDLE9BSTFDTixFQUFjOXNCLE9BQU0sU0FBVTNHLEdBQ25DLE9BQU82ekIsR0FBY0UsRUFBVzFaLEVBQUtxVSxFQUFhMXVCLFNBSXRELElBQU8sU0FBVXFhLEVBQUswWixFQUFXckYsRUFBYStFLEdBQzVDLE9BQU9ZLEdBQW9CWixJQUF3RCxJQUF0QzVDLEdBQVE0QyxFQUFlTSxJQUd0RSxLQUFRLFNBQVUxWixFQUFLMFosRUFBV3JGLEVBQWErRSxHQUM3QyxPQUFPWSxHQUFvQlosSUFBa0I1QyxHQUFRNEMsRUFBZU0sSUFBYyxHQUdwRixJQUFPLFNBQVUxWixFQUFLMFosRUFBV3JGLEVBQWErRSxHQUM1QyxPQUFPWSxHQUFvQlosSUFBa0I1QyxHQUFRNEMsRUFBZU0sR0FBYSxHQUduRixLQUFRLFNBQVUxWixFQUFLMFosRUFBV3JGLEVBQWErRSxHQUM3QyxPQUFPWSxHQUFvQlosSUFBa0I1QyxHQUFRNEMsRUFBZU0sSUFBYyxHQUdwRixJQUFPLFNBQVUxWixFQUFLMFosRUFBV3JGLEVBQWErRSxHQUM1QyxPQUFPWSxHQUFvQlosSUFBa0I1QyxHQUFRNEMsRUFBZU0sR0FBYSxHQUduRixRQUFXLFNBQVUxWixFQUFLMFosRUFBV3JGLEVBQWErRSxHQUVoRCxPQUFJTSxFQUNLTSxHQUFvQlosSUFHckJZLEdBQW9CWixJQUc5QixLQUFRLFNBQVVwWixFQUFLMFosRUFBV3JGLEVBQWErRSxHQUM3QyxPQUFPVyxHQUFZWCxJQXJJdkIsU0FBa0JBLEVBQWVNLEdBQy9CLE1BQTZCLGlCQUFsQk4sR0FDVGorQixTQUFTaStCLEVBQWUsTUFBUUEsR0FPM0JBLEVBSE9NLEVBQVUsS0FDZEEsRUFBVSxHQThIbUJTLENBQVNmLEVBQWVNLElBRy9ELElBQU8sU0FBVTFaLEVBQUswWixFQUFXckYsRUFBYStFLEdBQzVDLE9BQU9NLEVBQVVwdEIsT0FBTSxTQUFVOHRCLEdBQy9CLE9BQTJDLElBQXBDNUQsR0FBUTRDLEVBQWVnQixPQUdsQyxJQUFPLFNBQVVwYSxFQUFLMFosRUFBV3JGLEVBQWErRSxHQUM1QyxPQUFPVyxHQUFZWCxJQUFrQmEsR0FBbUJiLEVBQWVNLElBR3pFLEtBQVEsU0FBVTFaLEVBQUswWixFQUFXckYsRUFBYStFLEdBQzdDLE9BQU9XLEdBQVlYLEtBQW1CYSxHQUFtQmIsRUFBZU0sSUFHMUUsTUFBUyxTQUFVMVosRUFBSzBaLEVBQVdyRixFQUFhK0UsR0FDOUMsT0FBT1csR0FBWVgsSUFDakI3MkMsTUFBTTZtQixRQUFRZ3dCLElBdkhwQixTQUFtQkEsRUFBZU0sR0FDaEMsT0FBT04sRUFBY2g0QyxTQUFXczRDLEVBdUg1QlcsQ0FBVWpCLEVBQWVNLElBRzdCLEtBQVEsU0FBVTFaLEVBQUswWixFQUFXckYsRUFBYStFLEdBQzdDLE9BQU83MkMsTUFBTTZtQixRQUFRZ3dCLElBcEl6QixTQUFnQ0EsRUFBZU0sR0FDN0MsT0FBT0EsRUFBVXB0QixPQUFNLFNBQVUzRyxHQUMvQixPQUFPeXpCLEVBQWNDLE1BQUssU0FBVWEsR0FDbEMsT0FBMkMsSUFBcEMxRCxHQUFRN3dCLEVBQUt1MEIsU0FpSWlCSSxDQUF1QmxCLEVBQWVNLElBRy9FLE9BQVUsU0FBVTFaLEVBQUswWixFQUFXckYsRUFBYStFLEdBQy9DLE9BQU9XLEdBQVlYLElBQ08saUJBQWpCQSxHQUNQTSxFQUFVcHRCLE9BQU0sU0FBVWl1QixHQUN4QixPQS9IUixTQUFvQm5CLEVBQWVNLEdBR2pDLE9BRlMsSUFBSXJ1QixPQUFPcXVCLEdBRVYzekMsS0FBS3F6QyxHQTRIRm9CLENBQVdwQixFQUFlbUIsT0FJdkMsTUFBUyxTQUFVdmEsRUFBSzBaLEVBQVdyRixFQUFhK0UsR0FDOUMsT0E5SEosU0FBbUJBLEVBQWVNLEdBRWhDLE9BQVFBLEdBQ04sSUFBSyxPQUNILE9BQXlCLE9BQWxCTixFQUNULElBQUssVUFDSCxNQUFrQyxrQkFBcEIsRUFDaEIsSUFBSyxTQUNILE1BQWtDLGlCQUFwQixFQUNoQixJQUFLLFNBQ0gsTUFBa0MsaUJBQXBCLEVBQ2hCLElBQUssUUFDSCxPQUFPQSxhQUF5QjcyQyxNQUNsQyxJQUFLLFNBQ0gsTUFBNkMsb0JBQXRDLEdBQUs4VSxTQUFTcmIsS0FBS285QyxJQWdIckJxQixDQUFVckIsRUFBZU0sS0E0Q3BDLFNBQVNuTixHQUFTaFIsRUFBTXBCLEdBQ3RCLEdBQUlvQixFQUFLN00sVUFDSDZNLEVBQUs3ckIsUUFBMEIsY0FBaEI2ckIsRUFBSzdyQixPQUF3QixDQUM5QyxJQUFJZ3JDLEVBQW9DLGlCQUFoQm5mLEVBQUs3ckIsT0FDM0I2ckIsRUFBSzdyQixPQUFTLFdBQ2hCLE9BQU95cUIsRUFBUyxJQUFJNTRCLE1BQU0sZ0NBQWtDbTVDLEVBQWEsTUFHN0V2Z0IsSUFHRixTQUFTd1MsR0FBVXBSLEdBQ2JBLEVBQUs5dEIsT0FBUzh0QixFQUFLN3JCLFNBQ3JCNnJCLEVBQUs3ckIsT0FBUyxTQUdaNnJCLEVBQUs3TSxXQUFhNk0sRUFBSzdyQixTQUN6QjZyQixFQUFLN3JCLE9BQVMsYUFHWjZyQixFQUFLN3JCLFFBQWlDLGlCQUFoQjZyQixFQUFLN3JCLFNBQ1QsVUFBaEI2ckIsRUFBSzdyQixPQUNQNnJCLEVBQUs5dEIsS0FBT3F6QixHQUErQnZGLEVBQUs5dEIsTUFFaEQ4dEIsRUFBSzdyQixPQUFTb3hCLEdBQStCdkYsRUFBSzdyQixTQUt4RCxTQUFTazlCLEdBQWErTixFQUFnQnBmLEdBQ3BDLE9BQU9BLEVBQUs3ckIsUUFBaUMsaUJBQWhCNnJCLEVBQUs3ckIsU0FDL0I2ckIsRUFBS3FmLFVBQVlqYSxHQUFTZ2EsRUFBZXJmLElBRzlDLFNBQVM1ckIsR0FBT2lyQyxFQUFnQnBmLEdBQzlCLElBQUlwQixFQUFXb0IsRUFBS3VPLFNBQ3BCLEdBQW9CLFVBQWhCdk8sRUFBSzdyQixPQUFvQixDQUMzQixJQUFLNnJCLEVBQUs5dEIsTUFBNkIsaUJBQWQ4dEIsRUFBSzl0QixLQUFtQixDQUMvQyxJQUFJbk8sRUFBTWlnQyxHQUFZTCxFQUNwQixpREFDRixPQUFPL0UsRUFBUzc2QixHQUdsQixJQUFJdTdDLEVBQVdoYSxHQUEyQnRGLEVBQUs5dEIsTUFDL0NrdEMsRUFBZXJmLEdBQUc1K0IsSUFBSSxXQUFhbStDLEVBQVMsSUFBSSxTQUFVdjdDLEVBQUt3N0MsR0FFN0QsR0FBSUgsRUFBZXZRLFlBQ2pCLE9BQU9qUSxFQUFTLEtBQU0sQ0FBQ21ELE9BQVEsY0FHakMsR0FBSWgrQixFQUNGLE9BQU82NkIsRUFBU3VGLEdBQTBCcGdDLElBRTVDLElBQUl5N0MsRUFBU0QsR0FBUUEsRUFBS0UsT0FBU0YsRUFBS0UsTUFBTUgsRUFBUyxLQUNyREMsRUFBS0UsTUFBTUgsRUFBUyxJQUFJcnFDLElBQzFCLElBQUt1cUMsRUFDSCxPQUFPNWdCLEVBQVNvRixHQUFZZCxFQUN6QnFjLEVBQUtFLE1BQVEscUJBQXVCSCxFQUFTLEdBQzVDLDRCQUVOdGYsRUFBSzdyQixPQS9ERjh4QixHQWZJLENBQ1QseUJBQ0Esa0JBQ0EseUJBQ0EsaUNBQ0Esc0JBQ0EsT0FDQSxnQkF1RXlCdVosRUF2RUMsSUFDMUIsZUFDQSxtQkFDQSxtQkFDQSxNQUNBLE1BQ0F2N0IsS0FBSyxNQUVnQixJQWdFbkJtN0IsRUFBZW5PLFVBQVVqUixXQUV0QixHQUFJQSxFQUFLN00sU0FDZDZNLEVBQUs3ckIsT0FBUyxTQUFVc3dCLEdBQ3RCLE9BeEdOLFNBQXlCQSxFQUFLdFIsR0FFNUIsR0FBd0IsaUJBQWJBLEVBRVQsTUFBTSxJQUFJbnRCLE1BQU0sMENBSWxCLElBSUkwNUMsRUFBY3pDLEdBQXFCLENBSjdCLENBQ1IsSUFBT3hZLElBR3FDLENBQUUsU0FMaER0UixFQUFXdW5CLEdBQWdCdm5CLElBSzZDbnlCLE9BQU9pSSxLQUFLa3FCLElBQ3BGLE9BQU91c0IsR0FBc0MsSUFBdkJBLEVBQVk3NUMsT0EyRnZCODVDLENBQWdCbGIsRUFBS3pFLEVBQUs3TSxXQUVuQ2lzQixFQUFlbk8sVUFBVWpSLE9BQ3BCLENBRUwsSUFBSW1mLEVBQWE3WixHQUEyQnRGLEVBQUs3ckIsUUFDakRpckMsRUFBZXJmLEdBQUc1K0IsSUFBSSxXQUFhZytDLEVBQVcsSUFBSSxTQUFVcDdDLEVBQUt3N0MsR0FFL0QsR0FBSUgsRUFBZXZRLFlBQ2pCLE9BQU9qUSxFQUFTLEtBQU0sQ0FBQ21ELE9BQVEsY0FHakMsR0FBSWgrQixFQUNGLE9BQU82NkIsRUFBU3VGLEdBQTBCcGdDLElBRTVDLElBQUk2N0MsRUFBWUwsR0FBUUEsRUFBS00sU0FBV04sRUFBS00sUUFBUVYsRUFBVyxJQUNoRSxJQUFLUyxFQUNILE9BQU9oaEIsRUFBU29GLEdBQVlkLEVBQ3hCcWMsR0FBUUEsRUFBS00sUUFBVyxxQkFBdUJWLEVBQVcsR0FDeEQsOEJBRVJuZixFQUFLN3JCLE9BNUdGOHhCLEdBQVUseUJBNEdZMlosRUE1R3VCLElBQUssSUE2R3JEUixFQUFlbk8sVUFBVWpSLE9BbUIvQixTQUFTOGYsR0FBU2wxQyxHQUNoQixPQUFPQSxFQUFNMmhCLFFBQU8sU0FBVXdGLEVBQUtoRSxHQUVqQyxPQURBZ0UsRUFBSWhFLElBQVEsRUFDTGdFLElBQ04sSUFSTDZkLEdBQVEySSxRQVZSLFNBQWtDM0ksR0FDaENBLEVBQVFtQixxQkFBdUIsQ0FDN0JDLFNBQVVBLEdBQ1ZJLFVBQVdBLEdBQ1hDLGFBQWNBLEdBQ2RsOUIsT0FBUUEsT0FPWnk3QixHQUFRbVEsUUEvbkNNLFFBd29DZCxJQUFJQyxHQUFnQkYsR0FBUyxDQUMzQixNQUNBLE9BQ0EsVUFDQSxlQUNBLFdBQ0EsYUFDQSxhQUNBLGFBQ0EscUJBQ0EsYUFDQSxZQUVBLGtCQUNBLHFCQUNBLDBCQUNBLDRCQUNBLHFCQUVBLGFBSUVHLEdBQVlILEdBQVMsQ0FDdkIsVUFDQSxlQUVBLGtCQUNBLHFCQUNBLDBCQUNBLDRCQUNBLHVCQUdGLFNBQVNJLEdBQWtCL2UsR0FDekIsSUFBSyxRQUFRMzJCLEtBQUsyMkIsR0FDaEIsT0FBTzZDLEdBQVlGLElBRXJCLElBQUlwTixFQUFNeUssRUFBSW50QixRQUFRLEtBQ2xCbzdCLEVBQU9qTyxFQUFJN1gsVUFBVSxFQUFHb04sR0FDeEIyWSxFQUFRbE8sRUFBSTdYLFVBQVVvTixFQUFNLEdBQ2hDLE1BQU8sQ0FDTHBFLE9BQVExUyxTQUFTd3ZCLEVBQU0sSUFDdkI5akMsR0FBSStqQyxHQXNCUixTQUFTOFEsR0FBUzFiLEVBQUsyYixFQUFVQyxHQU8vQixJQUFJQyxFQUNBcE8sRUFDQXFPLEVBUkNGLElBQ0hBLEVBQVMsQ0FDUHJXLG9CQUFvQixJQU94QixJQUFJaEssRUFBTyxDQUFDK0IsT0FBUSxhQUtwQixHQUpJMEMsRUFBSXFOLFdBQ045UixFQUFLOEssU0FBVSxHQUdic1YsRUFLRixHQUpLM2IsRUFBSWlDLE1BQ1BqQyxFQUFJaUMsSUFBTXBwQixNQUVaNDBCLEVBQVduSSxHQUFPdEYsRUFBSzRiLEVBQU9yVyxvQkFDMUJ2RixFQUFJK0IsS0FBTSxDQUVaLElBREErWixFQUFVTCxHQUFrQnpiLEVBQUkrQixPQUNwQnorQixNQUNWLE9BQU93NEMsRUFFVDliLEVBQUl5RixVQUFZLENBQUMsQ0FDZlcsSUFBSzBWLEVBQVFqdUIsT0FDYmlHLElBQUssQ0FBQ2dvQixFQUFRajFDLEdBQUksQ0FBQ3kyQixPQUFRLFdBQVksQ0FBQyxDQUFDbVEsRUFBVWxTLEVBQU0sUUFFM0RzZ0IsRUFBVUMsRUFBUWp1QixPQUFTLE9BRTNCbVMsRUFBSXlGLFVBQVksQ0FBQyxDQUNmVyxJQUFLLEVBQ0x0UyxJQUFNLENBQUMyWixFQUFVbFMsRUFBTSxNQUV6QnNnQixFQUFVLE9BUVosR0FMSTdiLEVBQUlnTCxhQUNOaEwsRUFBSXlGLFVBekRWLFNBQWtDc1csRUFBV3hnQixHQU0zQyxJQUxBLElBQUk2SyxFQUFNMlYsRUFBVXhYLE1BQVF3WCxFQUFVam9CLElBQUkxeUIsT0FBUyxFQUUvQzQ2QyxFQUFjRCxFQUFVam9CLElBQ3hCQSxFQUFNLENBQUNrb0IsRUFBWSxHQUFJemdCLEVBQU0sSUFFeEIxL0IsRUFBSSxFQUFHNkgsRUFBTXM0QyxFQUFZNTZDLE9BQVF2RixFQUFJNkgsRUFBSzdILElBQ2pEaTRCLEVBQU0sQ0FBQ2tvQixFQUFZbmdELEdBQUksQ0FBQ3loQyxPQUFRLFdBQVksQ0FBQ3hKLElBRy9DLE1BQU8sQ0FBQyxDQUNOc1MsSUFBS0EsRUFDTHRTLElBQUtBLElBNkNhbW9CLENBQXlCamMsRUFBSWdMLFdBQVl6UCxHQUN6RHNnQixFQUFVN2IsRUFBSWdMLFdBQVd6RyxNQUN6QmtKLEVBQVd6TixFQUFJZ0wsV0FBV2xYLElBQUksS0FFM0JrTSxFQUFJeUYsVUFBVyxDQUVsQixJQURBcVcsRUFBVUwsR0FBa0J6YixFQUFJK0IsT0FDcEJ6K0IsTUFDVixPQUFPdzRDLEVBRVRELEVBQVVDLEVBQVFqdUIsT0FDbEI0ZixFQUFXcU8sRUFBUWoxQyxHQUNuQm01QixFQUFJeUYsVUFBWSxDQUFDLENBQ2ZXLElBQUt5VixFQUNML25CLElBQUssQ0FBQzJaLEVBQVVsUyxFQUFNLE1BSzVCbUYsR0FBZVYsRUFBSWlDLEtBRW5CakMsRUFBSStCLEtBQU84WixFQUFVLElBQU1wTyxFQUUzQixJQUFJbnZCLEVBQVMsQ0FBQ3FuQixTQUFXLEdBQUlsZSxLQUFPLElBQ3BDLElBQUssSUFBSXJxQixLQUFPNGlDLEVBRWQsR0FBSXpqQyxPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUtna0MsRUFBSzVpQyxHQUFNLENBQ2xELElBQUk4K0MsRUFBd0IsTUFBWDkrQyxFQUFJLEdBQ3JCLEdBQUk4K0MsSUFBZVgsR0FBY24rQyxHQUFNLENBQ3JDLElBQUlrRyxFQUFRaThCLEdBQVlOLEVBQWdCN2hDLEdBRXhDLE1BREFrRyxFQUFNRSxRQUFVeTdCLEVBQWV6N0IsUUFBVSxLQUFPcEcsRUFDMUNrRyxFQUNHNDRDLElBQWVWLEdBQVVwK0MsR0FDbENraEIsRUFBT3FuQixTQUFTdm9DLEVBQUlxQyxNQUFNLElBQU11Z0MsRUFBSTVpQyxHQUVwQ2toQixFQUFPbUosS0FBS3JxQixHQUFPNGlDLEVBQUk1aUMsR0FJN0IsT0FBT2toQixFQWFULFNBQVM2OUIsR0FBaUI5YixFQUFLK2IsRUFBVWppQixHQUN2QyxJQUFJa2lCLEVBWE4sU0FBcUI1MEIsR0FDbkIsSUFDRSxPQUFPNGEsR0FBUzVhLEdBQ2hCLE1BQU9sUixHQUdQLE1BQU8sQ0FBQ2pULE1BRkVpOEIsR0FBWVIsRUFDcEIsNkNBTVd1ZCxDQUFZamMsRUFBSTVZLE1BQy9CLEdBQUk0MEIsRUFBUy80QyxNQUNYLE9BQU82MkIsRUFBU2tpQixFQUFTLzRDLE9BRzNCKzhCLEVBQUlqL0IsT0FBU2k3QyxFQUFTajdDLE9BRXBCaS9CLEVBQUk1WSxLQURXLFNBQWIyMEIsRUFDU2paLEdBQW1Ca1osRUFBVWhjLEVBQUk4TixjQUN0QixXQUFiaU8sRUFDRTdaLEdBQVM4WixHQUVUQSxFQUVielgsR0FBVXlYLEdBQVUsU0FBVS85QixHQUM1QitoQixFQUFJa2MsT0FBUyxPQUFTaitCLEVBQ3RCNmIsT0F5QkosU0FBU3FpQixHQUFxQm5jLEVBQUsrYixFQUFVamlCLEdBQzNDLEdBQUlrRyxFQUFJRSxLQUNOLE9BQU9wRyxJQUVlLGlCQUFia0csRUFBSTVZLEtBQ2IwMEIsR0FBaUI5YixFQUFLK2IsRUFBVWppQixHQTFCcEMsU0FBd0JrRyxFQUFLK2IsRUFBVWppQixHQUNyQ3lLLEdBQVV2RSxFQUFJNVksTUFBTSxTQUFVZzFCLEdBQzVCcGMsRUFBSWtjLE9BQVMsT0FBU0UsRUFFdEJwYyxFQUFJai9CLE9BQVNpL0IsRUFBSTVZLEtBQUsvVixNQUFRMnVCLEVBQUk1WSxLQUFLcm1CLFFBQVUsRUFDaEMsV0FBYmc3QyxFQUNGcFksR0FBbUIzRCxFQUFJNVksTUFBTSxTQUFVMmIsR0FDckMvQyxFQUFJNVksS0FBTzJiLEVBQ1hqSixPQUVvQixXQUFiaWlCLEVBQ1RsWSxHQUFhN0QsRUFBSTVZLE1BQU0sU0FBVTZiLEdBQy9CakQsRUFBSTVZLEtBQU82YixFQUNYbkosT0FHRkEsT0FZRnVpQixDQUFlcmMsRUFBSytiLEVBQVVqaUIsR0FrRGxDLFNBQVN3aUIsR0FBVUMsRUFBVUMsRUFBTUMsRUFBUzlnQixFQUN6Qm5nQyxFQUFHNnJCLEVBQUlxMUIsRUFBVXBCLEdBRWxDLEdBNTNGRixTQUFtQnBWLEVBQU03SixHQU92QixJQU5BLElBS0lxSixFQUxBQyxFQUFVTyxFQUFLOW1DLFFBQ2Z1OUMsRUFBV3RnQixFQUFJL1AsTUFBTSxLQUNyQnN3QixFQUFZOWhDLFNBQVM2aEMsRUFBUyxHQUFJLElBQ2xDRSxFQUFXRixFQUFTLEdBR2hCalgsRUFBT0MsRUFBUTVoQyxPQUFRLENBQzdCLEdBQUkyaEMsRUFBS0ssTUFBUTZXLEdBQWFsWCxFQUFLalMsSUFBSSxLQUFPb3BCLEVBQzVDLE9BQU8sRUFHVCxJQURBLElBQUkvVyxFQUFXSixFQUFLalMsSUFBSSxHQUNmajRCLEVBQUksRUFBRzZILEVBQU15aUMsRUFBUy9rQyxPQUFRdkYsRUFBSTZILEVBQUs3SCxJQUM5Q21xQyxFQUFRN2tDLEtBQUssQ0FBQ2lsQyxJQUFLTCxFQUFLSyxJQUFNLEVBQUd0UyxJQUFLcVMsRUFBU3RxQyxLQUduRCxPQUFPLEVBNDJGSHNoRCxDQUFVTixFQUFLNVcsU0FBVTZXLEVBQVFuWCxTQUFTakosT0FBU2lmLEVBRXJELE9BREEzZixFQUFRbmdDLEdBQUtpaEQsRUFDTnAxQixJQUlULElBQUkwMUIsRUFBcUJQLEVBQUtuWCxZQUFjQSxHQUFXbVgsR0FDbkRRLEVBQW9CLFlBQWFSLEVBQU9BLEVBQUt4VyxRQUMvQ3NELEdBQVVrVCxFQUFNTyxHQUNkL1csRUFBVSxZQUFheVcsRUFBUW5YLFNBQVdtWCxFQUFRblgsU0FBU1UsUUFDN0RzRCxHQUFVbVQsRUFBUW5YLFVBQ2hCMlgsRUFBUyxNQUFNdjNDLEtBQUsrMkMsRUFBUW5YLFNBQVNqSixLQUV6QyxHQUFJMmdCLElBQXNCaFgsR0FBV3NWLEdBQVkyQixFQUFRLENBQ3ZELElBQUl0YixFQUFTOGEsRUFBUXIxQixLQUNyQnVhLEVBQU9ELEtBQU9xYixFQUNkcGIsRUFBT0MsSUFBTTZhLEVBQVFuWCxTQUFTOStCLEdBQzlCaTJDLEVBQVVwQixHQUFTMVosRUFBUTJaLEdBRzdCLElBQUlwVCxFQUFTWSxHQUFNMFQsRUFBSzVXLFNBQVU2VyxFQUFRblgsU0FBU00sU0FBUyxHQUFJMlcsR0FPaEUsR0FMaUJqQixJQUNkMEIsR0FBcUJoWCxHQUFnQyxhQUFyQmtDLEVBQU92QixZQUN0Q3FXLEdBQTBDLGFBQXJCOVUsRUFBT3ZCLFdBQzdCcVcsSUFBc0JoWCxHQUFnQyxlQUFyQmtDLEVBQU92QixXQUUzQixDQUNkLElBQUkxbkMsRUFBTWlnQyxHQUFZYixHQUV0QixPQURBMUMsRUFBUW5nQyxHQUFLeUQsRUFDTm9vQixJQUdULElBQUk2MUIsRUFBU1QsRUFBUW5YLFNBQVNqSixJQUM5Qm9nQixFQUFRblgsU0FBU00sU0FBV3NDLEVBQU9yQyxLQUNuQzRXLEVBQVF2VCxZQUFjaEIsRUFBT2dCLGFBQWUsR0FFeENzVCxFQUFLVyxVQUNQVixFQUFRblgsU0FBUzZYLFFBQVVYLEVBQUtXLFNBSWxDLElBQUlDLEVBQWdCL1gsR0FBV29YLEVBQVFuWCxVQUNuQytYLEVBQXNCL1QsR0FBVW1ULEVBQVFuWCxTQUFVOFgsR0FJbERFLEVBQVNOLElBQXNCSyxFQUF1QixFQUN4REwsRUFBb0JLLEdBQXVCLEVBQUksRUFXakRYLEVBQVNELEVBQVNXLEVBQWVDLEVBUjdCSCxJQUFXRSxFQUVLQyxFQUdBL1QsR0FBVW1ULEVBQVFuWCxTQUFVNFgsSUFJOUMsRUFBTUksRUFBTzloRCxFQUFHNnJCLEdBT3BCLFNBQVNrMkIsR0FBWWhCLEVBQVVpQixFQUFVN1AsRUFBSzhQLEVBQWFDLEVBQUkvaEIsRUFDMUMrZ0IsRUFBVXhoQixFQUFNeWlCLEdBR25DcEIsRUFBV0EsR0FBWSxJQTBCdkIsSUFBSWpCLEVBQVdwZ0IsRUFBS3FTLFVBQ2hCcVEsRUFBWSxJQUFJbG1CLEVBRWhCbW1CLEVBQVcsRUFDWEMsRUFBV04sRUFBU3o4QyxPQUV4QixTQUFTZzlDLE1BQ0RGLElBQWFDLEdBQVlILEdBQzdCQSxJQUlKSCxFQUFTanpDLFNBQVEsU0FBVXl6QyxFQUFZQyxHQUVyQyxHQUFJRCxFQUFXcGMsS0FBTzJILEdBQVV5VSxFQUFXcGMsS0FBM0MsQ0FDRSxJQUFJLzdCLEVBQU1tNEMsRUFBV2hSLFNBQVcsZUFBaUIsWUFDakRXLEVBQUk5bkMsR0FBS200QyxFQUFZLENBQUMxMEIsSUFBS28wQixJQUFLLFNBQVV6K0MsRUFBS21yQixHQUM3Q3VSLEVBQVFzaUIsR0FBY2gvQyxHQUFPbXJCLEVBQzdCMnpCLFdBSkosQ0FTQSxJQUFJdjNDLEVBQUt3M0MsRUFBVzFZLFNBQVM5K0IsR0FDekJvM0MsRUFBVTVzQyxJQUFJeEssSUFDaEJzM0MsSUFDQUYsRUFBVXZoRCxJQUFJbUssR0FBSTFGLEtBQUssQ0FBQ2s5QyxFQUFZQyxLQUVwQ0wsRUFBVWo3QyxJQUFJNkQsRUFBSSxDQUFDLENBQUN3M0MsRUFBWUMsU0FNcENMLEVBQVVyekMsU0FBUSxTQUFVNndCLEVBQU01MEIsR0FDaEMsSUFBSWcxQixFQUFVLEVBRWQsU0FBUzBpQixNQUNEMWlCLEVBQVVKLEVBQUtyNkIsT0FDbkJvOUMsSUFFQUosSUFHSixTQUFTSSxJQUNQLElBQUkxaEQsRUFBUTIrQixFQUFLSSxHQUNid2lCLEVBQWF2aEQsRUFBTSxHQUNuQndoRCxFQUFheGhELEVBQU0sR0FFdkIsR0FBSWdoRCxFQUFZenNDLElBQUl4SyxHQUNsQjgxQyxHQUFVQyxFQUFVa0IsRUFBWXBoRCxJQUFJbUssR0FBS3czQyxFQUFZcmlCLEVBQ25Ec2lCLEVBQVlDLEVBQVl4QixFQUFVcEIsT0FDL0IsQ0FFTCxJQUFJcFQsRUFBU1ksR0FBTSxHQUFJa1YsRUFBVzFZLFNBQVNNLFNBQVMsR0FBSTJXLEdBQ3hEeUIsRUFBVzFZLFNBQVNNLFNBQVdzQyxFQUFPckMsS0FDdENtWSxFQUFXOVUsWUFBY2hCLEVBQU9nQixhQUFlLEdBaEZyRCxTQUFtQnVULEVBQVN3QixFQUFZbmtCLEdBRXRDLElBQUlzakIsRUFBZ0IvWCxHQUFXb1gsRUFBUW5YLFVBQ25DVSxFQUFVc0QsR0FBVW1ULEVBQVFuWCxTQUFVOFgsR0FDMUMsR0FBSSxlQUFnQmxpQixHQUFROEssRUFFMUIsT0FEQXJLLEVBQVFzaUIsR0FBYy9lLEdBQVlkLEVBQWEsV0FDeEN0RSxJQU1ULEdBRmlCd2hCLEdBcEJyQixTQUF1Qm1CLEdBQ3JCLE1BQXNELFlBQS9DQSxFQUFRblgsU0FBU00sU0FBUyxHQUFHblMsSUFBSSxHQUFHd0osT0FtQlptaEIsQ0FBYzNCLEdBRTNCLENBQ2QsSUFBSXg5QyxFQUFNaWdDLEdBQVliLEdBRXRCLE9BREExQyxFQUFRc2lCLEdBQWNoL0MsRUFDZjY2QixJQUtUNGlCLEVBQVNELEVBQVNXLEVBQWVwWCxFQUFTQSxHQUFTLEVBRnZDQSxFQUFVLEVBQUksRUFHakJpWSxFQUFZbmtCLEdBNERqQnVrQixDQUFVTCxFQUFZQyxFQUFZQyxJQUd0Q0MsT0FNSixJQUtJRyxHQUFZLGlCQVlaQyxHQUFhLGFBa0JqQixTQUFTQyxHQUFrQkMsR0FDekIsSUFDRSxPQUFPOTBDLEtBQUtNLFVBQVV3MEMsR0FDdEIsTUFBT3ZvQyxHQUVQLE9BQU8sSUFBU2pNLFVBQVV3MEMsSUFJOUIsU0FBU0MsR0FBUzVrQixHQUNoQixPQUFPLFNBQVU1ZixHQUNmLElBQUkvVyxFQUFVLGdCQUNWK1csRUFBSXJjLFFBQVVxYyxFQUFJcmMsT0FBT29GLFFBQzNCRSxFQUFVK1csRUFBSXJjLE9BQU9vRixNQUFNbEgsTUFBUW1lLEVBQUlyYyxPQUFPb0YsTUFBTUUsU0FFdEQyMkIsRUFBU29GLEdBQVlILEVBQVc1N0IsRUFBUytXLEVBQUk1WixRQVdqRCxTQUFTcStDLEdBQWVyWixFQUFVRCxFQUFZVyxHQUM1QyxNQUFPLENBQ0w1ZSxLQUFNbzNCLEdBQWtCbFosR0FDeEJELFdBQVlBLEVBQ1p1WixlQUFnQjVZLEVBQVUsSUFBTSxJQUNoQ3pJLElBQUsrSCxFQUFTL0gsSUFDZC8yQixHQUFJOCtCLEVBQVM5K0IsSUFJakIsU0FBU3E0QyxHQUFlQyxHQUN0QixJQUFLQSxFQUNILE9BQU8sS0FFVCxJQUFJeFosRUFwRE4sU0FBdUIxZ0IsR0FJckIsSUFDRSxPQUFPamIsS0FBS0MsTUFBTWdiLEdBQ2xCLE1BQU8xTyxHQUVQLE9BQU8sSUFBU3RNLE1BQU1nYixJQTRDVG02QixDQUFjRCxFQUFhMTNCLE1BSTFDLE9BSEFrZSxFQUFTRCxXQUFheVosRUFBYXpaLFdBQ25DQyxFQUFTVSxRQUEwQyxNQUFoQzhZLEVBQWFGLGVBQ2hDdFosRUFBUy9ILElBQU11aEIsRUFBYXZoQixJQUNyQitILEVBS1QsU0FBUzBaLEdBQVVyZixHQUNqQixJQUFLQSxFQUNILE9BQU9BLEVBRVQsSUFBSS9OLEVBQU0rTixFQUFJc2YsWUFBWUMsWUFBWSxLQUl0QyxPQUhBdmYsRUFBSWlDLElBQU1qQyxFQUFJc2YsWUFBWXo2QixVQUFVLEVBQUdvTixFQUFNLEdBQzdDK04sRUFBSStCLEtBQU8vQixFQUFJc2YsWUFBWXo2QixVQUFVb04sRUFBTSxVQUNwQytOLEVBQUlzZixZQUNKdGYsRUFNVCxTQUFTd2YsR0FBYWhvQyxFQUFNN1csRUFBTTgrQyxFQUFRdGxCLEdBQ3BDc2xCLEVBSUF0bEIsRUFIRzNpQixFQUVzQixpQkFBVEEsRUFDUEEsRUFFQTZyQixHQUFhN3JCLEVBQU03VyxHQUpuQjhoQyxHQUFXLENBQUMsSUFBSyxDQUFDOWhDLEtBQU1BLEtBTzlCNlcsRUFFc0IsaUJBQVRBLEVBQ2hCK3JCLEdBQW1CL3JCLEdBQU0sU0FBVXFzQixHQUNqQzFKLEVBQVNvSSxHQUFTc0IsT0FHcEIxSixFQUFTM2lCLEdBTlQyaUIsRUFBUyxJQVdmLFNBQVN1bEIsR0FBNEIxZixFQUFLekUsRUFBTW9rQixFQUFLajRCLEdBQ25ELElBQUkwWSxFQUFjN2pDLE9BQU9pSSxLQUFLdzdCLEVBQUlNLGNBQWdCLElBQ2xELElBQUtGLEVBQVloL0IsT0FDZixPQUFPc21CLEdBQU1BLElBRWYsSUFBSW1VLEVBQVUsRUFFZCxTQUFTRSxNQUNERixJQUFZdUUsRUFBWWgvQixRQUFVc21CLEdBQ3RDQSxJQWNKMFksRUFBWXgxQixTQUFRLFNBQVV5MUIsR0FDeEI5RSxFQUFLNkUsYUFBZTdFLEVBQUs0RSxhQVgvQixTQUF5QkgsRUFBS0ssR0FDNUIsSUFBSXVmLEVBQVM1ZixFQUFJTSxhQUFhRCxHQUMxQmtjLEVBQVNxRCxFQUFPckQsT0FDVm9ELEVBQUlFLFlBOUhDLGdCQThIeUJuakQsSUFBSTYvQyxHQUN4Q3VELFVBQVksU0FBVXZwQyxHQUN4QnFwQyxFQUFPcG9DLEtBQU9qQixFQUFFclksT0FBT29nQixPQUFPOUcsS0FDOUJ1a0IsS0FNQWdrQixDQUFnQi9mLEVBQUtLLElBRXJCTCxFQUFJTSxhQUFhRCxHQUFLRSxNQUFPLEVBQzdCeEUsUUFTTixTQUFTaWtCLEdBQXVCaGtCLEVBQVN5akIsR0FDdkMsT0FBT3ZnRCxRQUFRZ3hDLElBQUlsVSxFQUFReHJCLEtBQUksU0FBVXkvQixHQUN2QyxHQUFJQSxFQUFJalEsS0FBT2lRLEVBQUlqUSxJQUFJTSxhQUFjLENBQ25DLElBQUkyZixFQUFXMWpELE9BQU9pSSxLQUFLeXJDLEVBQUlqUSxJQUFJTSxjQUNuQyxPQUFPcGhDLFFBQVFneEMsSUFBSStQLEVBQVN6dkMsS0FBSSxTQUFVNnZCLEdBQ3hDLElBQUl1ZixFQUFTM1AsRUFBSWpRLElBQUlNLGFBQWFELEdBQ2xDLEdBQU0sU0FBVXVmLEVBQWhCLENBR0EsSUFBSXBvQyxFQUFPb29DLEVBQU9wb0MsS0FDZDdXLEVBQU9pL0MsRUFBT3pSLGFBQ2xCLE9BQU8sSUFBSWp2QyxTQUFRLFNBQVVDLEdBQzNCcWdELEdBQWFob0MsRUFBTTdXLEVBQU04K0MsR0FBUSxTQUFVaDRCLEdBQ3pDd29CLEVBQUlqUSxJQUFJTSxhQUFhRCxHQUFPbkMsRUFDMUJsRCxFQUFLNGtCLEVBQVEsQ0FBQyxTQUFVLGlCQUN4QixDQUFDbjRCLEtBQU1BLElBRVR0b0Isb0JBUVosU0FBUytnRCxHQUFZM1osRUFBTWxLLEVBQU9zakIsR0FFaEMsSUFBSVEsRUFBMEIsR0FDMUJDLEVBQVdULEVBQUlFLFlBakxGLGVBa0xiUSxFQUFXVixFQUFJRSxZQWhMRixnQkFpTGJTLEVBQWlCWCxFQUFJRSxZQTlLQSxvQkErS3JCcCtDLEVBQVE4a0MsRUFBS25sQyxPQUVqQixTQUFTMjZCLE1BQ1B0NkIsR0FNRixXQUNFLElBQUswK0MsRUFBd0IvK0MsT0FDM0IsT0FFRisrQyxFQUF3QnYxQyxTQUFRLFNBQVUyeEMsR0FDekIrRCxFQUFlbjhDLE1BQU0sYUFBYTFDLE1BQy9DOCtDLFlBQVlDLE1BQ1ZqRSxFQUFTLEtBQU1BLEVBQVMsT0FBWSxHQUFPLElBQ3RDdUQsVUFBWSxTQUFVdnBDLEdBQ2pCQSxFQUFFclksT0FBT29nQixRQUduQitoQyxFQUFTNW5CLE9BQU84akIsT0FoQnBCa0UsR0FzQkpsYSxFQUFLMzdCLFNBQVEsU0FBVTh4QixHQUNyQixJQUFJdjRCLEVBQVFpOEMsRUFBU2o4QyxNQUFNLGVBQ3ZCL0csRUFBTWkvQixFQUFRLEtBQU9LLEVBQ3pCdjRCLEVBQU15d0MsT0FBT3gzQyxHQUFLMGlELFVBQVksU0FBVXZwQyxHQUN0QyxJQUFJcW5CLEVBQU1ybkIsRUFBRXJZLE9BQU9vZ0IsT0FDbkIsR0FBbUIsaUJBQVJzZixFQUNULE9BQU83QixJQUVUcWtCLEVBQVMzbkIsT0FBT21GLEdBRUgwaUIsRUFBZW44QyxNQUFNLE9BQy9CdThDLFdBQVdILFlBQVlJLEtBQUsvaUIsSUFFeEJraUIsVUFBWSxTQUFVaHhCLEdBQzNCLElBQUk4eEIsRUFBUzl4QixFQUFNNXdCLE9BQU9vZ0IsT0FDMUIsR0FBSXNpQyxFQUFRLENBQ1YsSUFBSXJFLEVBQVNxRSxFQUFPOWpELE1BQU0rakQsVUFBVWwwQixNQUFNLE1BQU0sR0FDaER3ekIsRUFBd0JoL0MsS0FBS283QyxHQUM3QitELEVBQWU3bkIsT0FBT21vQixFQUFPRSxZQUM3QkYsRUFBT0csZ0JBRVBobEIsU0FPVixTQUFTaWxCLEdBQXNCQyxFQUFLQyxFQUFRbGtELEdBQzFDLElBQ0UsTUFBTyxDQUNMMmlELElBQUtzQixFQUFJRSxZQUFZRCxFQUFRbGtELElBRS9CLE1BQU9zQyxHQUNQLE1BQU8sQ0FDTGdFLE1BQU9oRSxJQUtiLElBQUlxN0MsR0FBaUIsSUFBSTdkLEVBRXpCLFNBQVNza0IsR0FBWXhGLEVBQVFoYyxFQUFLckUsRUFBTXlTLEVBQUtpVCxFQUFLOW1CLEdBV2hELElBVkEsSUFDSXdsQixFQUNBMEIsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFSQTlELEVBQVdqZSxFQUFJbkUsS0FVVjUvQixFQUFJLEVBQUc2SCxFQUFNbTZDLEVBQVN6OEMsT0FBUXZGLEVBQUk2SCxFQUFLN0gsSUFBSyxDQUNuRCxJQUFJbWtDLEVBQU02ZCxFQUFTaGlELEdBQ2Zta0MsRUFBSWlDLEtBQU8ySCxHQUFVNUosRUFBSWlDLE9BRzdCakMsRUFBTTZkLEVBQVNoaUQsR0FBSzYvQyxHQUFTMWIsRUFBS3pFLEVBQUtxUyxVQUFXZ08sSUFDMUN0NEMsUUFBVW8rQyxJQUNoQkEsRUFBZTFoQixHQUluQixHQUFJMGhCLEVBQ0YsT0FBT3ZuQixFQUFTdW5CLEdBR2xCLElBQUlFLEdBQW1CLEVBQ25CQyxFQUFnQixFQUNoQjdsQixFQUFVLElBQUl6NUIsTUFBTXM3QyxFQUFTejhDLFFBQzdCMDhDLEVBQWMsSUFBSS9sQixFQUNsQitwQixHQUFzQixFQUN0QjFGLEVBQVdwTyxFQUFJK1QsTUFBTUMsWUFBYyxPQUFTLFNBNkNoRCxTQUFTQyxJQUNQTCxHQUFtQixFQUNuQk0sSUFRRixTQUFTQSxJQUNGUCxHQUFZQyxJQUtqQkQsRUFBUVEsVUFBWU4sRUFDcEJKLEVBQVV2ZixJQUFJeWYsSUFxQ2hCLFNBQVM3WCxJQUNIZ1ksSUFJSm5ILEdBQWUxYyxPQUFPK1AsRUFBSStULE1BQU0zbEQsTUFDaEMrOUIsRUFBUyxLQUFNNkIsSUFzRGpCLFNBQVMrZ0IsRUFBU0QsRUFBU1csRUFBZUMsRUFBcUIwRSxFQUM3Q0MsRUFBVTFFLEVBQU9XLEVBQVlua0IsR0FFN0MyaUIsRUFBUW5YLFNBQVNELFdBQWErWCxFQUM5QlgsRUFBUW5YLFNBQVNVLFFBQVVxWCxFQUUzQixJQUFJMWQsRUFBTThjLEVBQVFyMUIsS0FVbEIsR0FUQXVZLEVBQUlpQyxJQUFNNmEsRUFBUW5YLFNBQVM5K0IsR0FDM0JtNUIsRUFBSStCLEtBQU8rYSxFQUFRblgsU0FBU2pKLElBRXhCMGxCLElBQ0ZwaUIsRUFBSXFOLFVBQVcsR0FHSXJOLEVBQUlNLGNBQ3ZCL2pDLE9BQU9pSSxLQUFLdzdCLEVBQUlNLGNBQWNsL0IsT0FFOUIsT0FxRUosU0FBMEIwN0MsRUFBU1csRUFBZUMsRUFDeEIyRSxFQUFVL0QsRUFBWW5rQixHQUc5QyxJQUFJNkYsRUFBTThjLEVBQVFyMUIsS0FFZG9VLEVBQVUsRUFDVnVFLEVBQWM3akMsT0FBT2lJLEtBQUt3N0IsRUFBSU0sY0FFbEMsU0FBU2dpQixJQUNIem1CLElBQVl1RSxFQUFZaC9CLFFBQzFCbWhELEVBQVV6RixFQUFTVyxFQUFlQyxFQUNoQzJFLEVBQVUvRCxFQUFZbmtCLEdBSTVCLFNBQVNxb0IsSUFDUDNtQixJQUNBeW1CLElBR0ZsaUIsRUFBWXgxQixTQUFRLFNBQVV4TixHQUM1QixJQUFJaWpDLEVBQU15YyxFQUFRcjFCLEtBQUs2WSxhQUFhbGpDLEdBQ3BDLEdBQUtpakMsRUFBSUUsS0FPUDFFLElBQ0F5bUIsUUFSYSxDQUNiLElBQUk3NkIsRUFBTzRZLEVBQUk1WSxZQUNSNFksRUFBSTVZLEtBQ1g0WSxFQUFJK04sT0FBU2p6QixTQUFTc2lDLEVBQWUsSUFpRDNDLFNBQXdCbEIsRUFBUTkwQixFQUFNMFMsR0FHcEJvbkIsRUFBWTkvQyxNQUFNODZDLEdBQ3hCdUQsVUFBWSxTQUFVdnBDLEdBRTlCLEdBRFlBLEVBQUVyWSxPQUFPb2dCLE9BRW5CLE9BQU82YixJQUVULElBQUlzb0IsRUFBUyxDQUNYbEcsT0FBUUEsRUFDUi9rQyxLQUFNaVEsR0FFSzg1QixFQUFZcmYsSUFBSXVnQixHQUN0QjNDLFVBQVkzbEIsR0E3RGpCdW9CLENBRGFyaUIsRUFBSWtjLE9BQ005MEIsRUFBTSs2QixPQWpHeEJHLENBQWlCN0YsRUFBU1csRUFBZUMsRUFDOUMyRSxFQUFVL0QsRUFBWW5rQixHQUcxQjBuQixHQUFpQmxFLEVBQ2pCdUUsSUFFQUssRUFBVXpGLEVBQVNXLEVBQWVDLEVBQ2hDMkUsRUFBVS9ELEVBQVlua0IsR0FHMUIsU0FBU29vQixFQUFVekYsRUFBU1csRUFBZUMsRUFDeEIyRSxFQUFVL0QsRUFBWW5rQixHQUV2QyxJQUFJNkYsRUFBTThjLEVBQVFyMUIsS0FDZGtlLEVBQVdtWCxFQUFRblgsU0FNdkIsU0FBU2lkLEVBQVlyc0MsR0FDbkIsSUFBSXNzQyxFQUFlL0YsRUFBUXZULGFBQWUsR0FFdEM4WSxHQUFZclUsRUFBSTNDLGtCQUNsQndYLEVBQWVBLEVBQWFwa0QsT0E5eEhwQyxTQUFxQmtuQyxHQUNuQixJQUFJWSxFQUFPLEdBUVgsT0FQQUQsR0FBZ0JYLEVBQVNNLFVBQVUsU0FBVVcsRUFBUVIsRUFDUm9ELEVBQVM3ZixFQUFLNFIsR0FDckMsY0FBaEJBLEVBQUsrQixRQUEyQnNKLElBQ2xDTCxFQUFLcGxDLEtBQUtpbEMsRUFBTSxJQUFNb0QsR0FDdEJqTyxFQUFLK0IsT0FBUyxjQUdYaUosRUFxeEhrQ3VjLENBQVloRyxFQUFRblgsWUFHckRrZCxHQUFnQkEsRUFBYXpoRCxRQUMvQjgrQyxHQUFZMkMsRUFBYy9GLEVBQVFuWCxTQUFTOStCLEdBQUk4NEMsR0FHakRoYSxFQUFTL0gsSUFBTXJuQixFQUFFclksT0FBT29nQixPQUd4QixJQUFJeWtDLEVBQWtCL0QsR0FBZXJaLEVBQVU4WCxFQUM3Q0MsR0FDZ0IyRCxFQUFTbmYsSUFBSTZnQixHQUNuQmpELFVBQVlrRCxFQWUxQixTQUFTQSxJQUNQaG5CLEVBQVFzaUIsR0FBYyxDQUNwQmxqQixJQUFJLEVBQ0p2MEIsR0FBSTgrQixFQUFTOStCLEdBQ2I2MUIsSUFBS2lKLEVBQVNqSixLQUVoQm9oQixFQUFZOTZDLElBQUk4NUMsRUFBUW5YLFNBQVM5K0IsR0FBSWkyQyxFQUFRblgsVUFnRGpELFNBQWtDbVgsRUFBU2xmLEVBQUt6RCxHQUU5QyxJQUFJOG9CLEVBQVksRUFDWkMsRUFBWTNtRCxPQUFPaUksS0FBS3M0QyxFQUFRcjFCLEtBQUs2WSxjQUFnQixJQUV6RCxJQUFLNGlCLEVBQVU5aEQsT0FDYixPQUFPKzRCLElBR1QsU0FBUzRCLE1BQ0RrbkIsSUFBY0MsRUFBVTloRCxRQUM1Qis0QixJQUlKLFNBQVNseUIsRUFBSW80QixHQUNYLElBQUlrYyxFQUFTTyxFQUFRcjFCLEtBQUs2WSxhQUFhRCxHQUFLa2MsT0FDeEMzYyxFQUFNNGhCLEVBQWtCdGYsSUFBSSxDQUM5QnRFLElBQUtBLEVBQ0xpakIsVUFBV3RFLEVBQVMsS0FBTzNlLElBRzdCZ0MsRUFBSWtnQixVQUFZL2pCLEVBQ2hCNkQsRUFBSXVqQixRQUFVLFNBQVU1c0MsR0FJdEJBLEVBQUU2RSxpQkFDRjdFLEVBQUVpRSxrQkFDRnVoQixLQUdKLElBQUssSUFBSWxnQyxFQUFJLEVBQUdBLEVBQUlxbkQsRUFBVTloRCxPQUFRdkYsSUFDcENvTSxFQUFJaTdDLEVBQVVybkQsSUFoRmR1bkQsQ0FBeUJ0RyxFQUFTblgsRUFBUy9ILElBQUt6RCxHQTNDbEQ2RixFQUFJc2YsWUFBYzNaLEVBQVM5K0IsR0FBSyxLQUFPOCtCLEVBQVNqSixXQUN6Q3NELEVBQUlpQyxXQUNKakMsRUFBSStCLEtBNENYLElBQUlzaEIsRUFBUy9CLEVBQVdwZixJQUFJbEMsR0FFNUJxakIsRUFBT3ZELFVBQVk4QyxFQUNuQlMsRUFBT0YsUUF6QlAsU0FBMEI1c0MsR0FFeEJBLEVBQUU2RSxpQkFDRjdFLEVBQUVpRSxrQkFDVThtQyxFQUFXbjlDLE1BQU0sZUFDUHl3QyxPQUFPNVUsRUFBSXNmLGFBQ3ZCUSxVQUFZLFNBQVV2cEMsR0FDakIrcUMsRUFBV3BmLElBQUlsQyxFQUFLenBCLEVBQUVyWSxPQUFPb2dCLFFBQ25Dd2hDLFVBQVk4QyxLQXJ0QjNCLFNBQStCL0UsRUFBVXpCLEVBQVVqaUIsR0FFakQsSUFBSzBqQixFQUFTejhDLE9BQ1osT0FBTys0QixJQUdULElBQ0ltcEIsRUFEQUMsRUFBTyxFQTRCWCxTQUFTcGUsSUFDUG9lLElBQ0kxRixFQUFTejhDLFNBQVdtaUQsSUFDbEJELEVBQ0ZucEIsRUFBU21wQixHQUVUbnBCLEtBL0JOMGpCLEVBQVNqekMsU0FBUSxTQUFVa3lDLEdBQ3pCLElBQUkxYyxFQUFjMGMsRUFBUXIxQixNQUFRcTFCLEVBQVFyMUIsS0FBSzZZLGFBQzdDL2pDLE9BQU9pSSxLQUFLczRDLEVBQVFyMUIsS0FBSzZZLGNBQWdCLEdBQ3ZDa2pCLEVBQU8sRUFFWCxJQUFLcGpCLEVBQVloL0IsT0FDZixPQUFPK2pDLElBR1QsU0FBU3NlLEVBQW9CbmtELEdBQzNCZ2tELEVBQWFoa0QsSUFDYmtrRCxJQUNhcGpCLEVBQVloL0IsUUFDdkIrakMsSUFJSixJQUFLLElBQUkvbkMsS0FBTzAvQyxFQUFRcjFCLEtBQUs2WSxhQUN2Qi9qQyxPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUs4Z0QsRUFBUXIxQixLQUFLNlksYUFBY2xqQyxJQUNsRW8vQyxHQUFxQk0sRUFBUXIxQixLQUFLNlksYUFBYWxqQyxHQUM3Q2cvQyxFQUFVcUgsTUF5ZGxCQyxDQUFzQjdGLEVBQVV6QixHQUFVLFNBQVU5OEMsR0FDbEQsR0FBSUEsRUFDRixPQUFPNjZCLEVBQVM3NkIsSUFLcEIsV0FFRSxJQU1JcWtELEVBQVkzQyxHQUFzQkMsRUFOekIsQ0FDWHRDLEdBcFNhLGNBRUEsZUFTRCxjQU5TLG1CQWtTckJDLElBRWlELGFBQ25ELEdBQUkrRSxFQUFVcmdELE1BQ1osT0FBTzYyQixFQUFTd3BCLEVBQVVyZ0QsUUFFNUJxOEMsRUFBTWdFLEVBQVVoRSxLQUNaaUUsUUFBVTdFLEdBQVM1a0IsR0FDdkJ3bEIsRUFBSWtFLFVBQVk5RSxHQUFTNWtCLEdBQ3pCd2xCLEVBQUltRSxXQUFhaGEsRUFDakJ1WCxFQUFXMUIsRUFBSUUsWUFBWWxCLElBQzNCMkMsRUFBYTNCLEVBQUlFLFlBbFRGLGVBbVRmMEIsRUFBYzVCLEVBQUlFLFlBalRILGdCQWtUZjJCLEVBQW9CN0IsRUFBSUUsWUEvU0QscUJBZ1R2QjRCLEVBQVk5QixFQUFJRSxZQUFZakIsS0FFbEJsaUQsSUFBSWtpRCxJQUFZa0IsVUFBWSxTQUFVdnBDLEdBQzlDb3JDLEVBQVVwckMsRUFBRXJZLE9BQU9vZ0IsT0FDbkI0akMsS0EyRkosU0FBMkI2QixHQUd6QixJQUFJQyxFQUFVLEdBV2QsR0FWQW5HLEVBQVNqekMsU0FBUSxTQUFVa3lDLEdBQ3JCQSxFQUFRcjFCLE1BQVFxMUIsRUFBUXIxQixLQUFLNlksY0FDL0IvakMsT0FBT2lJLEtBQUtzNEMsRUFBUXIxQixLQUFLNlksY0FBYzExQixTQUFRLFNBQVVxNUMsR0FDdkQsSUFBSTVqQixFQUFNeWMsRUFBUXIxQixLQUFLNlksYUFBYTJqQixHQUNoQzVqQixFQUFJRSxNQUNOeWpCLEVBQVE3aUQsS0FBS2svQixFQUFJa2MsZUFLcEJ5SCxFQUFRNWlELE9BQ1gsT0FBTzJpRCxJQUVULElBQ0l6a0QsRUFEQXU4QixFQUFVLEVBUWRtb0IsRUFBUXA1QyxTQUFRLFNBQVUyeEMsSUF6QzVCLFNBQTBCQSxFQUFRcGlCLEdBRXRCb25CLEVBQVk3a0QsSUFBSTYvQyxHQUN0QnVELFVBQVksU0FBVXZwQyxHQUN4QixHQUFLQSxFQUFFclksT0FBT29nQixPQU9aNmIsUUFQb0IsQ0FDcEIsSUFBSTc2QixFQUFNaWdDLEdBQVlELEdBQ3BCLHVDQUNBaWQsR0FDRmo5QyxFQUFJZytCLE9BQVMsSUFDYm5ELEVBQVM3NkIsS0FpQ1g0a0QsQ0FBaUIzSCxHQUFRLFNBQVU0SCxHQUM3QkEsSUFBVzdrRCxJQUNiQSxFQUFNNmtELEtBUEp0b0IsSUFBWW1vQixFQUFRNWlELFFBQ3hCMmlELEVBQU96a0QsU0E5R1g4a0QsRUFBa0IsU0FBVTlrRCxHQUMxQixHQUFJQSxFQUVGLE9BREF3aUQsR0FBc0IsRUFDZjNuQixFQUFTNzZCLElBMEJ0QixXQUVFLElBQUt1K0MsRUFBU3o4QyxPQUNaLE9BR0YsSUFBSWlqRCxFQUFhLEVBRWpCLFNBQVN0b0IsTUFDRHNvQixJQUFleEcsRUFBU3o4QyxRQXZCaEN3OEMsR0FBWWhDLEVBQU8wSSxXQUFZekcsRUFBVTdQLEVBQUs4UCxFQUNsQzZCLEVBQUszakIsRUFBUytnQixFQUFVeGhCLEVBQU0wbUIsR0EyQjFDLFNBQVNzQyxFQUFhejFCLEdBQ3BCLElBQUk2VyxFQUFXdVosR0FBZXB3QixFQUFNNXdCLE9BQU9vZ0IsUUFFdkNxbkIsR0FDRm1ZLEVBQVk5NkMsSUFBSTJpQyxFQUFTOStCLEdBQUk4K0IsR0FFL0I1SixJQUdGLElBQUssSUFBSWxnQyxFQUFJLEVBQUc2SCxFQUFNbTZDLEVBQVN6OEMsT0FBUXZGLEVBQUk2SCxFQUFLN0gsSUFBSyxDQUNuRCxJQUFJaWhELEVBQVVlLEVBQVNoaUQsR0FDdkIsR0FBSWloRCxFQUFRN2EsS0FBTzJILEdBQVVrVCxFQUFRN2EsS0FDbkNsRyxTQUdRc2xCLEVBQVMza0QsSUFBSW9nRCxFQUFRblgsU0FBUzkrQixJQUNwQ2k1QyxVQUFZeUUsR0F0RGhCQyxNQW5DRkMsTUFpVkosU0FBU0MsR0FBaUI3RSxFQUFhOEUsRUFBVTlYLEVBQVkrWCxFQUFXQyxHQVd0RSxJQUlJQyxFQUNBQyxFQUNBQyxFQUVKLFNBQVNDLEVBQVMxdUMsR0FDaEJ3dUMsRUFBY3h1QyxFQUFFclksT0FBT29nQixPQUNuQndtQyxHQUNGRCxFQUFRQyxFQUFXQyxFQUFhQyxHQUlwQyxTQUFTRSxFQUFhM3VDLEdBQ3BCdXVDLEVBQVl2dUMsRUFBRXJZLE9BQU9vZ0IsT0FDakJ5bUMsR0FDRkYsRUFBUUMsRUFBV0MsRUFBYUMsR0E4QnBDLFNBQVNHLEVBQVM1dUMsR0FDaEIsSUFBSXFxQyxFQUFTcnFDLEVBQUVyWSxPQUFPb2dCLE9BQ3RCLElBQUtzaUMsRUFDSCxPQUFPaUUsSUFHVEEsRUFBUSxDQUFDakUsRUFBT3hqRCxLQUFNLENBQUN3akQsRUFBTzlqRCxPQUFROGpELElBL0RyQixJQUFmZ0UsSUFDRkEsRUFBWSxLQVFnQyxtQkFBdkIvRSxFQUFZdUYsUUFDQyxtQkFBM0J2RixFQUFZd0YsWUFDbkJULEVBQVksSUFBTS9YLEdBd0RsQm1ZLEVBQWUsQ0FBQyxTQXBDbEIsV0FDRSxJQUFLRixFQUFVMWpELE9BQ2IsT0FBT3lqRCxJQUdULElBQ0lTLEVBREFDLEVBQVVULEVBQVVBLEVBQVUxakQsT0FBUyxHQUUzQyxHQUFJdWpELEdBQVlBLEVBQVNhLE1BQ3ZCLElBQ0VGLEVBQWMvRSxZQUFZQyxNQUFNK0UsRUFBU1osRUFBU2EsT0FDaEQsRUFBTWIsRUFBU2MsV0FDakIsTUFBT2x2QyxHQUNQLEdBQWUsY0FBWEEsRUFBRW5hLE1BQW1DLElBQVhtYSxFQUFFbXZDLEtBQzlCLE9BQU9iLFNBSVhTLEVBQWMvRSxZQUFZb0YsV0FBV0osR0FBUyxHQUVoRFosRUFBV1csRUFDWFIsRUFBWSxLQUNaQyxFQUFjLEtBQ2RsRixFQUFZdUYsT0FBT1QsRUFBVUMsR0FBVzlFLFVBQVltRixFQUNwRHBGLEVBQVl3RixXQUFXVixFQUFVQyxHQUFXOUUsVUFBWW9GLElBY3hEckYsRUFBWXVGLE9BQU9ULEVBQVVDLEdBQVc5RSxVQUFZbUYsRUFDcERwRixFQUFZd0YsV0FBV1YsRUFBVUMsR0FBVzlFLFVBQVlvRixHQUMvQ3JZLEVBQ1RnVCxFQUFZYSxXQUFXaUUsRUFBVSxRQUFRN0UsVUFBWXFGLEVBRXJEdEYsRUFBWWEsV0FBV2lFLEdBQVU3RSxVQUFZcUYsRUErRWpELFNBQVNTLEdBQVdycUIsRUFBTTBsQixFQUFLOW1CLEdBQzdCLElBUUl3cUIsRUFDQWtCLEVBVEF0aEIsRUFBUSxhQUFjaEosR0FBT0EsRUFBSzZWLFNBQ2xDbHJCLEVBQU0sV0FBWXFWLEdBQU9BLEVBQUsrVixPQUM5QmwwQyxFQUFNLFFBQVNtK0IsR0FBT0EsRUFBS24rQixJQUMzQm9ILEVBQU8sU0FBVSsyQixHQUFPQSxFQUFLLzJCLEtBQzdCMHNDLEVBQU8zVixFQUFLMlYsTUFBUSxFQUNwQnBFLEVBQThCLGlCQUFmdlIsRUFBS3VSLE1BQXFCdlIsRUFBS3VSLE9BQVMsRUFDdkRnWixHQUFzQyxJQUF2QnZxQixFQUFLd3FCLGNBSXhCLElBQUt2aEQsSUFFSHFoRCxHQURBbEIsRUF6Q0osU0FBd0JwZ0IsRUFBT3JlLEVBQUs0L0IsRUFBYzFvRCxFQUFLeXZDLEdBQ3JELElBQ0UsR0FBSXRJLEdBQVNyZSxFQUNYLE9BQUkybUIsRUFDSzBULFlBQVlDLE1BQU10NkIsRUFBS3FlLEdBQVF1aEIsR0FBYyxHQUU3Q3ZGLFlBQVlDLE1BQU1qYyxFQUFPcmUsR0FBSyxHQUFRNC9CLEdBRTFDLEdBQUl2aEIsRUFDVCxPQUFJc0ksRUFDSzBULFlBQVl5RixXQUFXemhCLEdBRXZCZ2MsWUFBWW9GLFdBQVdwaEIsR0FFM0IsR0FBSXJlLEVBQ1QsT0FBSTJtQixFQUNLMFQsWUFBWW9GLFdBQVd6L0IsR0FBTTQvQixHQUU3QnZGLFlBQVl5RixXQUFXOS9CLEdBQU00L0IsR0FFakMsR0FBSTFvRCxFQUNULE9BQU9takQsWUFBWUksS0FBS3ZqRCxHQUUxQixNQUFPbVosR0FDUCxNQUFPLENBQUNqVCxNQUFPaVQsR0FFakIsT0FBTyxLQWVNMHZDLENBQWUxaEIsRUFBT3JlLEVBQUs0L0IsRUFBYzFvRCxFQUFLbStCLEVBQUtzUixjQUNsQzhYLEVBQVNyaEQsU0FFVixjQUF2QnVpRCxFQUFjenBELE1BQStDLElBQXZCeXBELEVBQWNILE1BR3RELE9BQU92ckIsRUFBU29GLEdBQVlILEVBQzFCeW1CLEVBQWN6cEQsS0FBTXlwRCxFQUFjcmlELFVBSXhDLElBQUkwOUMsRUFBUyxDQUFDdkMsR0FoeUJHLGNBZ3lCc0JDLElBRW5DcmpCLEVBQUs2RSxhQUNQOGdCLEVBQU8vL0MsS0FqeUJRLGdCQW15QmpCLElBQUl3aUQsRUFBWTNDLEdBQXNCQyxFQUFLQyxFQUFRLFlBQ25ELEdBQUl5QyxFQUFVcmdELE1BQ1osT0FBTzYyQixFQUFTd3BCLEVBQVVyZ0QsT0FFNUIsSUFBSXE4QyxFQUFNZ0UsRUFBVWhFLElBQ3BCQSxFQUFJbUUsV0FnSUosV0FDTXZvQixFQUFLNkUsWUFDUDRmLEdBQXVCaGtCLEVBQVNULEVBQUtzSSxRQUFRbnVCLEtBQUt3d0MsR0FFbERBLEtBbklKdkcsRUFBSWlFLFFBQVU3RSxHQUFTNWtCLEdBQ3ZCLElBS0lnb0IsRUFDQWdFLEVBZWtDQyxFQXJCbEMvRSxFQUFXMUIsRUFBSUUsWUFBWWxCLElBQzNCeUIsRUFBV1QsRUFBSUUsWUE3eUJGLGVBOHlCYjRCLEVBQVk5QixFQUFJRSxZQUFZakIsSUFDNUJ5SCxFQUFnQmpHLEVBQVNqOEMsTUFBTSxlQUMvQjYzQixFQUFVLEdBaURkLFNBQVNzcUIsRUFBYTdJLEVBQWU5WCxHQUNuQyxJQUFJc0ssRUFBTSxDQUNScHBDLEdBQUk4K0IsRUFBUzkrQixHQUNiekosSUFBS3VvQyxFQUFTOStCLEdBQ2QvSixNQUFPLENBQ0w0L0IsSUFBSytnQixJQUdLOVgsRUFBU1UsUUFFakI3aEMsSUFDRnczQixFQUFRNzZCLEtBQUs4dUMsR0FFYkEsRUFBSW56QyxNQUFNdXBDLFNBQVUsRUFDcEI0SixFQUFJalEsSUFBTSxNQUVIa1IsS0FBVSxJQUNuQmxWLEVBQVE3NkIsS0FBSzh1QyxHQUNUMVUsRUFBSzRFLGNBaENiLFNBQWdDd0YsRUFBVXNLLEVBQUt3TixHQUM3QyxJQUFJcmdELEVBQU11b0MsRUFBUzkrQixHQUFLLEtBQU80MkMsRUFDL0I0SSxFQUFjM3BELElBQUlVLEdBQUswaUQsVUFBYSxTQUFrQnZwQyxHQUVwRCxHQURBMDVCLEVBQUlqUSxJQUFNcWYsR0FBVTlvQyxFQUFFclksT0FBT29nQixTQUFXLEdBQ3BDaWQsRUFBS3lMLFVBQVcsQ0FDbEIsSUFBSUEsRUFBWUYsR0FBaUJuQixHQUM3QnFCLEVBQVU1bEMsU0FDWjZ1QyxFQUFJalEsSUFBSXlLLFdBQWF6RCxHQUd6QjBZLEdBQTRCelAsRUFBSWpRLElBQUt6RSxFQUFNb2tCLElBdUJ6QzRHLENBQXVCNWdCLEVBQVVzSyxFQUFLd04sSUFLNUMsU0FBUzdnQixFQUFhNHBCLEdBQ3BCLElBQUssSUFBSTNxRCxFQUFJLEVBQUc2SCxFQUFNOGlELEVBQVlwbEQsT0FBUXZGLEVBQUk2SCxHQUN4Q3M0QixFQUFRNTZCLFNBQVcwckMsRUFEMEJqeEMsSUFBSyxDQUl0RCxJQUFJNHFELEVBQWFELEVBQVkzcUQsR0FDN0IsR0FBSTRxRCxFQUFXbmpELE9BQVNrQixFQUV0QnczQixFQUFRNzZCLEtBQUtzbEQsT0FGZixDQUtBLElBQUk5Z0IsRUFBV3VaLEdBQWV1SCxHQUU5QkgsRUFEb0IzZ0IsRUFBU0QsV0FDREMsS0FJaEMsU0FBU2tmLEVBQVE2QixFQUFXRixFQUFhNUYsR0FDbENBLElBR0xoa0IsRUFBYTRwQixHQUNUeHFCLEVBQVE1NkIsT0FBUzByQyxHQUNuQjhULEVBQU9HLFlBWVgsU0FBU21GLElBQ1AsSUFBSVMsRUFBWSxDQUNkQyxXQUFZekUsRUFDWnZwQyxPQUFRMmlCLEVBQUsyVixLQUNidUgsS0FBTXpjLEdBSUpULEVBQUswUixpQkFBNEJodEMsSUFBZGttRCxJQUNyQlEsRUFBVTFaLFdBQWFrWixHQUV6QmhzQixFQUFTLEtBQU13c0IsR0FZakIsT0EvSEFsRixFQUFVL2tELElBQUlraUQsSUFBWWtCLFVBQVksU0FBVXZwQyxHQUM5QzRyQyxFQUFXNXJDLEVBQUVyWSxPQUFPb2dCLE9BQU82akMsVUFJekI1bUIsRUFBSzBSLGFBUTZCbVosRUFQVixTQUFVN3ZDLEdBQzlCQSxFQUFFclksT0FBT29nQixRQUFVL0gsRUFBRXJZLE9BQU9vZ0IsT0FBT2xkLE9BQVMsSUFDOUMra0QsRUFBWTV2QyxFQUFFclksT0FBT29nQixPQUFPLEtBRmhCOGhDLEVBb0JKTSxXQUFXLEtBQU0sUUFBUVosVUFackMsU0FBa0J2cEMsR0FDaEIsSUFBSXFxQyxFQUFTcnFDLEVBQUVyWSxPQUFPb2dCLE9BQ2xCdW9DLE9BQVM1bUQsRUFJYixPQUhJMmdELEdBQVVBLEVBQU94akQsTUFDbkJ5cEQsRUFBU2pHLEVBQU94akQsS0FFWGdwRCxFQUFVLENBQ2Zsb0QsT0FBUSxDQUNOb2dCLE9BQVEsQ0FBQ3VvQyxRQXlHYmhCLEdBQTJCLElBQVYvWSxPQUFyQixFQUdJdG9DLEVBN05OLFNBQXFCQSxFQUFNNjhDLEVBQVV3RCxHQUVuQyxJQUFJRSxFQUFjLElBQUl4aUQsTUFBTWlDLEVBQUtwRCxRQUM3QkssRUFBUSxFQUNaK0MsRUFBS29HLFNBQVEsU0FBVXhOLEVBQUsrRyxHQUMxQms5QyxFQUFTM2tELElBQUlVLEdBQUswaUQsVUFBWSxTQUFVaHhCLEdBQ2xDQSxFQUFNNXdCLE9BQU9vZ0IsT0FDZnltQyxFQUFZNWdELEdBQVMycUIsRUFBTTV3QixPQUFPb2dCLE9BRWxDeW1DLEVBQVk1Z0QsR0FBUyxDQUFDL0csSUFBS0EsRUFBS2tHLE1BQU8sZUFFekM3QixJQUNjK0MsRUFBS3BELFFBQ2pCeWpELEVBQVFyZ0QsRUFBTXVnRCxFQUFhLFFBaU54QitCLENBQVl2ckIsRUFBSy8yQixLQUFNNjhDLEVBQVV3RCxJQUUzQixJQUFYL1gsRUExUE4sU0FBZ0IrUyxFQUFhOEUsRUFBVXlCLEdBQ3JDLEdBQWtDLG1CQUF2QnZHLEVBQVl1RixPQUF2QixDQU1BLElBQUk1ekMsRUFBUyxHQWdCYnF1QyxFQUFZYSxXQUFXaUUsR0FBVTdFLFVBZGpDLFNBQWtCdnBDLEdBQ2hCLElBQUlxcUMsRUFBU3JxQyxFQUFFclksT0FBT29nQixPQUNsQnNpQyxHQUNGcHZDLEVBQU9yUSxLQUFLeS9DLEVBQU85akQsT0FDbkI4akQsRUFBT0csWUFFUHFGLEVBQVUsQ0FDUmxvRCxPQUFRLENBQ05vZ0IsT0FBUTlNLFdBZGRxdUMsRUFBWXVGLE9BQU9ULEdBQVU3RSxVQUFZc0csRUF3UGxDaEIsQ0FBTy9ELEVBQVVzRCxHQXRDMUIsU0FBa0JwdUMsR0FDaEIsSUFBSS9FLEVBQVMrRSxFQUFFclksT0FBT29nQixPQUNsQmlkLEVBQUtzUixhQUNQcjdCLEVBQVNBLEVBQU9xMUIsV0FFbEJqSyxFQUFhcHJCLFdBcUNma3pDLEdBQWlCckQsRUFBVXNELEVBQVVwcEIsRUFBS3NSLFdBQVlDLEVBQVFvRSxFQUFNMlQsR0FrRHRFLElBQUlrQyxJQUFVLEVBQ1Z4aEQsR0FBUSxHQWFaLFNBQVN5aEQsTUFDSEQsSUFBWXhoRCxHQUFNbkUsU0FHdEIybEQsSUFBVSxFQUNWeGhELEdBQU1yQixPQUFOcUIsSUFnQkYsU0FBU280QixHQUFRcEMsRUFBTXlTLEVBQUt6USxFQUFRMGpCLEdBR2xDLElBRkExbEIsRUFBT3RDLEVBQU1zQyxJQUVKa1IsV0FBWSxDQUNuQixJQUFJNWxDLEVBQUswMkIsRUFBUyxJQUFNMWtCLEtBR3hCLE9BRkE4aEMsR0FBZS8yQyxZQUFZMjVCLEVBQVExMkIsRUFBSW1uQyxFQUFLelMsR0FDNUNvZixHQUFlMWMsT0FBT1YsR0FDZixDQUNMME0sT0FBUSxXQUNOMFEsR0FBZXA3QyxlQUFlZytCLEVBQVExMkIsS0FLNUMsSUFBSW9nRCxFQUFTMXJCLEVBQUtxZixTQUFXLElBQUk5aUIsRUFBWXlELEVBQUtxZixTQUVsRHJmLEVBQUtzQyxNQUFRdEMsRUFBS3NDLE9BQVMsRUFDM0IsSUFBSXNNLEVBQVU1TyxFQUFLc0MsTUFFZmlQLEVBQVEsVUFBV3ZSLEVBQU9BLEVBQUt1UixPQUFTLEVBQzlCLElBQVZBLElBQ0ZBLEVBQVEsR0FHVixJQUtJNlMsRUFDQTJCLEVBQ0FELEVBQ0FnRixFQVJBcnFCLEVBQVUsR0FDVmtyQixFQUFhLEVBQ2J4M0MsRUFBU2l3QixHQUFhcEUsR0FDdEI0ckIsRUFBbUIsSUFBSXB2QixFQTBGM0IsU0FBU3F2QixFQUFjcG5CLEVBQUtwQyxFQUFLK0gsRUFBVWplLEdBQ3pDLEdBQUlpZSxFQUFTL0gsTUFBUUEsRUFFbkIsT0FBT2xXLElBR1QsR0FBSWllLEVBQVNELGFBQWUxRixFQUFJK0IsS0FFOUIsT0FBT3JhLEVBQUdpZSxFQUFVM0YsR0FJdEIsSUFBSXFuQixFQUFXcm5CLEVBQUlpQyxJQUFNLEtBQU8wRCxFQUFTRCxXQUMvQjJnQixFQUFjM3BELElBQUkycUQsR0FDeEJ2SCxVQUFZLFNBQVV2cEMsR0FDeEJtUixFQUFHaWUsRUFBVTBaLEdBQVU5b0MsRUFBRXJZLE9BQU9vZ0IsVUFxQnBDLFNBQVN5bEMsSUFDUHhvQixFQUFLdU8sU0FBUyxLQUFNLENBQ2xCOU4sUUFBU0EsRUFDVDZULFNBQVUxRixJQWNkLElBQUltZCxFQUFlLENBQUMzSSxHQTdyQ0gsZUE4ckNicGpCLEVBQUs2RSxhQUNQa25CLEVBQWFubUQsS0E3ckNFLGdCQStyQ2pCLElBQUl3aUQsRUFBWTNDLEdBQXNCQyxFQUFLcUcsRUFBYyxZQUN6RCxHQUFJM0QsRUFBVXJnRCxNQUNaLE9BQU9pNEIsRUFBS3VPLFNBQVM2WixFQUFVcmdELFFBRWpDcThDLEVBQU1nRSxFQUFVaEUsS0FDWmlFLFFBQVU3RSxHQUFTeGpCLEVBQUt1TyxVQUM1QjZWLEVBQUltRSxXQXBCSixZQUNPdm9CLEVBQUtrUixZQUFjbFIsRUFBSzZFLFlBRzNCNGYsR0FBdUJoa0IsR0FBU3RtQixLQUFLcXVDLEdBRXJDQSxLQWdCSnpDLEVBQWEzQixFQUFJRSxZQXpzQ0EsZUEwc0NqQndCLEVBQVcxQixFQUFJRSxZQUFZbEIsSUFDM0IwSCxFQUFnQi9FLEVBQVduOUMsTUFBTSxlQUtqQ3VnRCxHQUFpQnBELEVBSEQvbEIsRUFBS3NDLFFBQVV0QyxFQUFLc1IsV0FDbEMwVCxZQUFZb0YsV0FBV3BxQixFQUFLc0MsT0FBTyxHQUFRLEtBRU50QyxFQUFLc1IsV0FBWUMsR0EzSnhELFNBQWlCNFosRUFBV0YsRUFBYTVGLEdBQ3ZDLEdBQUtBLEdBQVc4RixFQUFVdGxELE9BQTFCLENBSUEsSUFBSW1tRCxFQUFjLElBQUlobEQsTUFBTW1rRCxFQUFVdGxELFFBQ2xDb21ELEVBQVksSUFBSWpsRCxNQUFNbWtELEVBQVV0bEQsUUErRGhDeTZCLEVBQVUsRUFDZDJxQixFQUFZNTdDLFNBQVEsU0FBVTlOLEVBQU9qQixJQWdDdkMsU0FBb0Nta0MsRUFBS3BDLEVBQUtsVyxHQUM1QyxHQUFJdS9CLElBQVdBLEVBQU81MUMsSUFBSTJ1QixFQUFJaUMsS0FDNUIsT0FBT3ZhLElBR1QsSUFBSWllLEVBQVd3aEIsRUFBaUJ6cUQsSUFBSXNqQyxFQUFJaUMsS0FDeEMsR0FBSTBELEVBQ0YsT0FBT3loQixFQUFjcG5CLEVBQUtwQyxFQUFLK0gsRUFBVWplLEdBRzNDMjVCLEVBQVMza0QsSUFBSXNqQyxFQUFJaUMsS0FBSzZkLFVBQVksU0FBVXZwQyxHQUMxQ292QixFQUFXdVosR0FBZTNvQyxFQUFFclksT0FBT29nQixRQUNuQzZvQyxFQUFpQm5rRCxJQUFJZzlCLEVBQUlpQyxJQUFLMEQsR0FDOUJ5aEIsRUFBY3BuQixFQUFLcEMsRUFBSytILEVBQVVqZSxJQTFDbEMrL0IsQ0FGVXBJLEdBQVV2aUQsR0FDVjRwRCxFQUFVN3FELElBQ2lCLFNBQVU4cEMsRUFBVStoQixHQUN2REYsRUFBVTNyRCxHQUFLOHBDLEVBQ2Y0aEIsRUFBWTFyRCxHQUFLNnJELElBQ1g3ckIsSUFBWTZxQixFQUFVdGxELFFBckNoQyxXQUVFLElBREEsSUFBSTR1QyxFQUFXLEdBQ05uMEMsRUFBSSxFQUFHNkgsRUFBTTZqRCxFQUFZbm1ELE9BQVF2RixFQUFJNkgsR0FDeEN3akQsSUFBZXBhLEVBRDhCanhDLElBQUssQ0FJdEQsSUFBSTZyRCxFQUFhSCxFQUFZMXJELEdBQzdCLEdBQUs2ckQsRUFBTCxDQUdBLElBQUkvaEIsRUFBVzZoQixFQUFVM3JELEdBQ3pCbTBDLEVBQVM3dUMsS0FBS3dtRCxFQUE2QmhpQixFQUFVK2hCLEtBR3ZEeG9ELFFBQVFneEMsSUFBSUYsR0FBVXQ2QixNQUFLLFNBQVVpb0IsR0FDbkMsSUFBSyxJQUFJOWhDLEVBQUksRUFBRzZILEVBQU1pNkIsRUFBUXY4QixPQUFRdkYsRUFBSTZILEVBQUs3SCxJQUN6QzhoQyxFQUFROWhDLElBQ1YwL0IsRUFBS3dDLFNBQVNKLEVBQVE5aEMsT0FHekJnbUMsTUFBTXRHLEVBQUt1TyxVQUVWb2QsSUFBZXBhLEdBQ2pCOFQsRUFBT0csV0FlTDZHLFNBckVOLFNBQVNELEVBQTZCaGlCLEVBQVUraEIsR0FDOUMsSUFBSTNuQyxFQUFTd2IsRUFBS2dQLGNBQWNtZCxFQUFZL2hCLEVBQVVwSyxHQUN0RDRPLEVBQVVwcUIsRUFBTzZkLElBQU0rSCxFQUFTL0gsSUFFaEMsSUFBSWlxQixFQUFXbjRDLEVBQU9xUSxHQUN0QixNQUF3QixpQkFBYjhuQyxFQUNGM29ELFFBQVFFLE9BQU95b0QsR0FHbkJBLEdBR0xYLElBQ0kzckIsRUFBS3dVLGFBQ1AvVCxFQUFRNzZCLEtBQUs0ZSxHQUlYd2IsRUFBSzZFLGFBQWU3RSxFQUFLNEUsYUFDcEIsSUFBSWpoQyxTQUFRLFNBQVVDLEdBQzNCdWdELEdBQTRCZ0ksRUFBWW5zQixFQUFNb2tCLEdBQUssV0FDakRLLEdBQXVCLENBQUNqZ0MsR0FBU3diLEVBQUtzSSxRQUFRbnVCLE1BQUssV0FDakR2VyxFQUFRNGdCLFlBS1A3Z0IsUUFBUUMsUUFBUTRnQixJQWpCaEI3Z0IsUUFBUUMsY0E0SXZCLElBQ0kyb0QsR0FEQUMsR0FBWSxJQUFJaHdCLEVBRWhCaXdCLEdBQWMsSUFBSWp3QixFQUV0QixTQUFTa3dCLEdBQVMxc0IsRUFBTXBCLEdBQ3RCLElBQUk2VCxFQUFNanZDLE1BbE5aLFNBQXFCc1csRUFBUThrQixFQUFVZ1IsR0FDckM1bEMsR0FBTXBFLE1BQUssV0FDVGtVLEdBQU8sU0FBcUIvVixFQUFLbXJCLElBckJyQyxTQUFpQnZrQixFQUFLNUcsRUFBS21yQixFQUFLMGdCLEdBQzlCLElBQ0VqbEMsRUFBSTVHLEVBQUttckIsR0FDVCxNQUFPbnJCLEdBSVA2ckMsRUFBUWxxQyxLQUFLLFFBQVMzQixJQWVwQjRvRCxDQUFRL3RCLEVBQVU3NkIsRUFBS21yQixFQUFLMGdCLEdBQzVCNGIsSUFBVSxFQUNWLEtBQVUsV0FDUkMsY0FJTkEsS0EwTUFtQixFQUFZLFNBQVVDLElBS3hCLFNBQWNwYSxFQUFLelMsRUFBTXBCLEdBRXZCLElBQUlvRCxFQUFTaEMsRUFBS24vQixLQUVkNmtELEVBQU0sS0FDTm9ILEVBQXdCLEtBRzVCLFNBQVNDLEVBQW9CbnVCLEdBQzNCLE9BQU8sU0FBVTcyQixFQUFPZ2IsR0FDbEJoYixHQUFTQSxhQUFpQi9CLFFBQVUrQixFQUFNaTdCLFFBQ3hDOHBCLElBQ0Yva0QsRUFBTWk3QixPQUFTOHBCLEdBSW5CbHVCLEVBQVM3MkIsRUFBT2diLElBNkJwQixTQUFTaXFDLEVBQXVCNUksRUFBS3hsQixHQUNuQyxJQUFJa25CLEVBQVcxQixFQUFJRSxZQUFZbEIsSUFDL0IwQyxFQUFTbUgsWUFBWSxpQkFBa0IsaUJBQWtCLENBQUNDLFFBQVMsSUFFbkVwSCxFQUFTWCxhQUFhWixVQUFZLFNBQVVoeEIsR0FDMUMsSUFBSTh4QixFQUFTOXhCLEVBQU01d0IsT0FBT29nQixPQUMxQixHQUFJc2lDLEVBQVEsQ0FDVixJQUFJamIsRUFBV2liLEVBQU85akQsTUFDbEJ1cEMsRUFBVXNELEdBQVVoRSxHQUN4QkEsRUFBU3NaLGVBQWlCNVksRUFBVSxJQUFNLElBQzFDZ2IsRUFBU25mLElBQUl5RCxHQUNiaWIsRUFBT0csZ0JBRVA1bUIsS0FZTixTQUFTdXVCLEVBQWtCL0ksRUFBS2o0QixHQUM5QixJQUFJaWhDLEVBQWFoSixFQUFJRSxZQTN4Q1AsZUE0eENWd0IsRUFBVzFCLEVBQUlFLFlBQVlsQixJQUMzQnlCLEVBQVdULEVBQUlFLFlBeHlDSixlQTB5Q0Z3QixFQUFTWCxhQUNmWixVQUFZLFNBQVVoeEIsR0FDM0IsSUFBSTh4QixFQUFTOXhCLEVBQU01d0IsT0FBT29nQixPQUMxQixHQUFJc2lDLEVBQVEsQ0FDVixJQUFJamIsRUFBV2liLEVBQU85akQsTUFDbEJ1L0IsRUFBUXNKLEVBQVM5K0IsR0FDakIraEQsRUFBUWhmLEdBQVV2TixHQUNsQkssRUFBTWdKLEdBQVdDLEdBQ3JCLEdBQUlpakIsRUFBTyxDQUNULElBQUl2QixFQUFXaHJCLEVBQVEsS0FBT0ssRUFHMUI2SCxFQUFRbEksRUFBUSxLQUNoQm5XLEVBQU1tVyxFQUFRLE1BQ2RsNEIsRUFBUWk4QyxFQUFTajhDLE1BQU0sZUFDdkIwa0QsRUFBUXRJLFlBQVlDLE1BQU1qYyxFQUFPcmUsR0FBSyxHQUFPLEdBQzdDNGlDLEVBQVkza0QsRUFBTXU4QyxXQUFXbUksR0FDakNDLEVBQVVoSixVQUFZLFNBQVV2cEMsR0FFOUIsR0FEQXV5QyxFQUFZdnlDLEVBQUVyWSxPQUFPb2dCLE9BS2QsQ0FDTCxJQUFJbUosRUFBT3FoQyxFQUFVaHNELE1BQ2pCMnFCLEVBQUs2M0IsY0FBZ0IrSCxHQUN2QnNCLEVBQVd6bUIsSUFBSXphLEdBRWpCMjRCLEVBQVMzbkIsT0FBT3F3QixFQUFVaEksWUFDMUJnSSxFQUFVL0gsZ0JBUlZNLEVBQVM1b0IsT0FBT21vQixFQUFPRSxZQUN2QkYsRUFBT0csaUJBV1hILEVBQU9HLGdCQUVBcjVCLEdBQ1RBLEtBY04sU0FBU3FoQyxFQUFtQnBKLEVBQUt4bEIsR0FDL0IsSUFBSWltQixFQUFXVCxFQUFJRSxZQTcxQ0osZUE4MUNYUSxFQUFXVixFQUFJRSxZQTUxQ0osZ0JBNjFDWFMsRUFBaUJYLEVBQUlFLFlBMTFDRixvQkErMUNiUSxFQUFTNStDLFFBQ2ZxK0MsVUFBWSxTQUFVdnBDLEdBRXhCLElBRFlBLEVBQUVyWSxPQUFPb2dCLE9BRW5CLE9BQU82YixJQUdUaW1CLEVBQVNNLGFBQWFaLFVBQVksU0FBVXZwQyxHQUMxQyxJQUFJcXFDLEVBQVNycUMsRUFBRXJZLE9BQU9vZ0IsT0FDdEIsSUFBS3NpQyxFQUNILE9BQU96bUIsSUFNVCxJQUpBLElBQUk2RixFQUFNNGdCLEVBQU85akQsTUFDYjhnQyxFQUFNZ2pCLEVBQU9FLFdBQ2I1TyxFQUFPMzFDLE9BQU9pSSxLQUFLdzdCLEVBQUlNLGNBQWdCLElBQ3ZDMG9CLEVBQVksR0FDUDk1QyxFQUFJLEVBQUdBLEVBQUlnakMsRUFBSzl3QyxPQUFROE4sSUFBSyxDQUVwQzg1QyxFQURVaHBCLEVBQUlNLGFBQWE0UixFQUFLaGpDLElBQ2xCcXRDLFNBQVUsRUFFMUIsSUFBSXlILEVBQVV6bkQsT0FBT2lJLEtBQUt3a0QsR0FDMUIsSUFBSzk1QyxFQUFJLEVBQUdBLEVBQUk4MEMsRUFBUTVpRCxPQUFROE4sSUFBSyxDQUNuQyxJQUFJcXRDLEVBQVN5SCxFQUFROTBDLEdBQ3JCb3hDLEVBQWVwZSxJQUFJLENBQ2pCdEUsSUFBS0EsRUFDTGlqQixVQUFXdEUsRUFBUyxLQUFPM2UsSUFHL0JnakIsRUFBT0csYUFXYixTQUFTa0ksRUFBZ0J0SixHQWF2QixJQUFJMkIsRUFBYTNCLEVBQUlFLFlBeDVDTixlQXk1Q1h3QixFQUFXMUIsRUFBSUUsWUFBWWxCLElBQ2xCMEMsRUFBU1gsYUFDZlosVUFBWSxTQUFVdnBDLEdBQzNCLElBQUlxcUMsRUFBU3JxQyxFQUFFclksT0FBT29nQixPQUN0QixHQUFLc2lDLEVBQUwsQ0FHQSxJQW5CNEJ6QixFQW1CeEJ4WixHQW5Cd0J3WixFQW1CUXlCLEVBQU85akQsT0FsQnpCMnFCLEtBS1h5M0IsR0FBZUMsSUFIcEJBLEVBQWE5WSxRQUEwQyxNQUFoQzhZLEVBQWFGLGVBQzdCRSxHQXFEVCxHQXBDQXhaLEVBQVNELFdBQWFDLEVBQVNELFlBQzdCQSxHQUFXQyxHQW1DVEEsRUFBUy9ILElBQ1gsT0FBT3NyQixLQWxDVCxXQUdFLElBQUkza0IsRUFBUW9CLEVBQVM5K0IsR0FBSyxLQUN0QnFmLEVBQU15ZixFQUFTOStCLEdBQUssTUFDcEIrNEIsRUFBTTBoQixFQUFXbjlDLE1BQU0sZUFBZXU4QyxXQUN4Q0gsWUFBWUMsTUFBTWpjLEVBQU9yZSxJQUV2QmlqQyxFQUFjLEVBQ2xCdnBCLEVBQUlrZ0IsVUFBWSxTQUFVdnBDLEdBQ3hCLElBQUlxcUMsRUFBU3JxQyxFQUFFclksT0FBT29nQixPQUN0QixJQUFLc2lDLEVBRUgsT0FEQWpiLEVBQVMvSCxJQUFNdXJCLEVBQ1JELElBRVQsSUFBSXRyQixFQUFNZ2pCLEVBQU9FLFdBQ2JsakIsRUFBTXVyQixJQUNSQSxFQUFjdnJCLEdBRWhCZ2pCLEVBQU9HLFlBa0JYcUksR0FkQSxTQUFTRixJQUNQLElBQUluRyxFQUFrQi9ELEdBQWVyWixFQUNuQ0EsRUFBU0QsV0FBWUMsRUFBU1UsU0FFdEJnYixFQUFTbmYsSUFBSTZnQixHQUNuQmpELFVBQVksV0FDZGMsRUFBT0csY0E3TmYvUyxFQUFJK1QsTUFBUSxLQTBPWi9ULEVBQUlwTixTQUFVLEVBQ2RvTixFQUFJcnRDLEtBQU8sV0FDVCxNQUFPLE9BR1RxdEMsRUFBSS9MLElBQU1ySSxHQUFVLFNBQVVPLEdBQzVCQSxFQUFTLEtBQU02VCxFQUFJK1QsTUFBTXNILGVBRzNCcmIsRUFBSW9FLFVBQVksU0FBc0J4UyxFQUFLMHBCLEVBQVNudkIsR0FDbERpbkIsR0FBWTdsQixFQUFNcUUsRUFBSzBwQixFQUFTdGIsRUFBS2lULEVBQUtxSCxFQUFvQm51QixLQUtoRTZULEVBQUlzQyxLQUFPLFNBQWlCenBDLEVBQUkwMEIsRUFBTXBCLEdBQ3BDLElBQUk2RixFQUNBMkYsRUFDQXJtQyxFQUNBcWdELEVBQU1wa0IsRUFBSzVSLElBQ2YsSUFBS2cyQixFQUFLLENBQ1IsSUFBSWdFLEVBQVkzQyxHQUFzQkMsRUFDcEMsQ0FBQ3RDLEdBcitDVSxjQUVBLGdCQW0rQzhCLFlBQzNDLEdBQUlnRixFQUFVcmdELE1BQ1osT0FBTzYyQixFQUFTd3BCLEVBQVVyZ0QsT0FFNUJxOEMsRUFBTWdFLEVBQVVoRSxJQUdsQixTQUFTb0UsSUFDUDVwQixFQUFTNzZCLEVBQUssQ0FBQzBnQyxJQUFLQSxFQUFLMkYsU0FBVUEsRUFBVWhjLElBQUtnMkIsSUFHcERBLEVBQUlFLFlBQVlsQixJQUFXamlELElBQUltSyxHQUFJaTVDLFVBQVksU0FBVXZwQyxHQU92RCxLQU5Bb3ZCLEVBQVd1WixHQUFlM29DLEVBQUVyWSxPQUFPb2dCLFNBUWpDLE9BREFoZixFQUFNaWdDLEdBQVlkLEVBQWEsV0FDeEJzbEIsSUFHVCxJQUFJcm5CLEVBQ0osR0FBS25CLEVBQUttQixJQVFSQSxFQUFNbkIsRUFBSzhVLE9BNy9JbkIsU0FBZ0IzVCxFQUFLaUosR0FHbkIsSUFGQSxJQUNJSSxFQURBQyxFQUFVTCxFQUFTTSxTQUFTeG1DLFFBRXhCc21DLEVBQU9DLEVBQVE1aEMsT0FBUSxDQUM3QixJQUFJZ2lDLEVBQU1MLEVBQUtLLElBQ1hGLEVBQU9ILEVBQUtqUyxJQUNaanRCLEVBQUtxL0IsRUFBSyxHQUNWM0ssRUFBTzJLLEVBQUssR0FDWkMsRUFBV0QsRUFBSyxHQUNoQlUsRUFBNkIsSUFBcEJULEVBQVMva0MsT0FFbEJnbUMsRUFBVXJCLEVBQUtxQixRQUFVckIsRUFBS3FCLFFBQVEzbkMsUUFBVSxHQUdwRCxHQUZBMm5DLEVBQVFqbUMsS0FBSyxDQUFDMEYsR0FBSUEsRUFBSXUvQixJQUFLQSxFQUFLN0ssS0FBTUEsSUFFbENxTCxFQUNGLElBQUssSUFBSS9xQyxFQUFJLEVBQUc2SCxFQUFNMGpDLEVBQVFobUMsT0FBUXZGLEVBQUk2SCxFQUFLN0gsSUFBSyxDQUNsRCxJQUFJMHRELEVBQWNuaUIsRUFBUXZyQyxHQUcxQixHQUZpQjB0RCxFQUFZbmpCLElBQU0sSUFBTW1qQixFQUFZMWlELEtBRWxDNjFCLEVBRWpCLE9BQU8wSixFQUFNLElBQU12L0IsRUFLekIsSUFBSyxJQUFJcUksRUFBSSxFQUFHcFQsRUFBSXFxQyxFQUFTL2tDLE9BQVE4TixFQUFJcFQsRUFBR29ULElBQzFDODJCLEVBQVE3a0MsS0FBSyxDQUFDaWxDLElBQUtBLEVBQU0sRUFBR3RTLElBQUtxUyxFQUFTajNCLEdBQUlrNEIsUUFBU0EsSUFLM0QsTUFBTSxJQUFJN2xDLE1BQU0sNENBQThDb2tDLEVBQVM5K0IsR0FBSyxTQUFXNjFCLEdBNjlJN0QyVCxDQUFPOVUsRUFBS21CLElBQUtpSixHQUFZcEssRUFBS21CLFNBTHRELEdBRkFBLEVBQU1pSixFQUFTRCxXQUNEaUUsR0FBVWhFLEdBR3RCLE9BREFybUMsRUFBTWlnQyxHQUFZZCxFQUFhLFdBQ3hCc2xCLElBTVgsSUFBSWxFLEVBQWNGLEVBQUlFLFlBeGdEVCxlQXlnRFR6aUQsRUFBTXVvQyxFQUFTOStCLEdBQUssS0FBTzYxQixFQUUvQm1qQixFQUFZMTdDLE1BQU0sZUFBZXpILElBQUlVLEdBQUswaUQsVUFBWSxTQUFVdnBDLEdBSzlELElBSkF5cEIsRUFBTXpwQixFQUFFclksT0FBT29nQixVQUViMGhCLEVBQU1xZixHQUFVcmYsS0FFYkEsRUFFSCxPQURBMWdDLEVBQU1pZ0MsR0FBWWQsRUFBYSxXQUN4QnNsQixJQUVUQSxPQUtOL1YsRUFBSStDLGVBQWlCLFNBQVUxVSxFQUFPbXRCLEVBQVVDLEVBQVlsdUIsRUFBTXBCLEdBQ2hFLElBQUl3bEIsRUFDSixHQUFJcGtCLEVBQUs1UixJQUNQZzJCLEVBQU1wa0IsRUFBSzVSLFFBQ04sQ0FDTCxJQUFJZzZCLEVBQVkzQyxHQUFzQkMsRUFDcEMsQ0FBQ3RDLEdBL2hEVSxjQUVBLGdCQTZoRDhCLFlBQzNDLEdBQUlnRixFQUFVcmdELE1BQ1osT0FBTzYyQixFQUFTd3BCLEVBQVVyZ0QsT0FFNUJxOEMsRUFBTWdFLEVBQVVoRSxJQUVsQixJQUFJcEQsRUFBU2tOLEVBQVdsTixPQUNwQjU3QyxFQUFPOG9ELEVBQVd0YixhQUV0QndSLEVBQUlFLFlBdGlEVyxnQkFzaURlbmpELElBQUk2L0MsR0FBUXVELFVBQVksU0FBVXZwQyxHQUU5RGlwQyxHQURXanBDLEVBQUVyWSxPQUFPb2dCLE9BQU85RyxLQUNSN1csRUFBTTQ2QixFQUFLc0ksUUFBUSxTQUFVNmxCLEdBQzlDdnZCLEVBQVMsS0FBTXV2QixRQUtyQjFiLEVBQUk0RCxNQUFRLFNBQWtCelgsR0FDNUIsSUFBSWdzQixFQUNBaEUsRUFFQXdCLEVBQVkzQyxHQUFzQkMsRUFBSyxDQUFDckMsR0FwakQ3QixlQW9qRHdELFlBQ3ZFLEdBQUkrRSxFQUFVcmdELE1BQ1osT0FBTzYyQixFQUFTd3BCLEVBQVVyZ0QsT0FFNUIsSUFBSXE4QyxFQUFNZ0UsRUFBVWhFLElBQ3BCQSxFQUFJRSxZQUFZakIsSUFBWWxpRCxJQUFJa2lELElBQVlrQixVQUFZLFNBQVV2cEMsR0FDaEU0ckMsRUFBVzVyQyxFQUFFclksT0FBT29nQixPQUFPNmpDLFVBRTdCeEMsRUFBSUUsWUE1akRXLGVBNGpEZWEsV0FBVyxLQUFNLFFBQVFaLFVBQVksU0FBVXZwQyxHQUMzRSxJQUFJcXFDLEVBQVNycUMsRUFBRXJZLE9BQU9vZ0IsT0FDdEI2bkMsRUFBWXZGLEVBQVNBLEVBQU94akQsSUFBTSxHQUdwQ3VpRCxFQUFJbUUsV0FBYSxXQUNmM3BCLEVBQVMsS0FBTSxDQUNid3ZCLFVBQVd4SCxFQUNYbFYsV0FBWWtaLEVBRVp5RCxzQkFBd0I1YixFQUFJK1QsTUFBTUMsWUFBYyxTQUFXLGFBS2pFaFUsRUFBSXlELFNBQVcsU0FBcUJsVyxFQUFNcEIsR0FDeEN5ckIsR0FBV3JxQixFQUFNMGxCLEVBQUtxSCxFQUFvQm51QixLQUc1QzZULEVBQUloQixTQUFXLFNBQW9CelIsR0FDakMsT0FBT29DLEdBQVFwQyxFQUFNeVMsRUFBS3pRLEVBQVEwakIsSUFHcENqVCxFQUFJMkQsT0FBUyxTQUFVeFgsR0FHckI4bUIsRUFBSXZQLFFBQ0pxVyxHQUFVdHZCLE9BQU84RSxHQUNqQnBELEtBR0Y2VCxFQUFJYSxpQkFBbUIsU0FBVXhTLEVBQU9sQyxHQUN0QyxJQUFJd3BCLEVBQVkzQyxHQUFzQkMsRUFBSyxDQUFDdEMsSUFBWSxZQUN4RCxHQUFJZ0YsRUFBVXJnRCxNQUNaLE9BQU82MkIsRUFBU3dwQixFQUFVcmdELE9BRWxCcWdELEVBQVVoRSxJQUNORSxZQUFZbEIsSUFBV2ppRCxJQUFJMi9CLEdBQ3JDeWpCLFVBQVksU0FBVWh4QixHQUN4QixJQUFJa1IsRUFBTWtmLEdBQWVwd0IsRUFBTTV3QixPQUFPb2dCLFFBQ2pDMGhCLEVBR0g3RixFQUFTLEtBQU02RixFQUFJaUcsVUFGbkI5TCxFQUFTb0YsR0FBWWQsTUFVM0J1UCxFQUFJeUIsY0FBZ0IsU0FBVXBULEVBQU9rSyxFQUFNcE0sR0FDekMsSUFNSXdwQixFQUFZM0MsR0FBc0JDLEVBTnpCLENBQ1h0QyxHQWpuRGEsY0FFQSxlQUdRLG9CQWluRDRCLGFBQ25ELEdBQUlnRixFQUFVcmdELE1BQ1osT0FBTzYyQixFQUFTd3BCLEVBQVVyZ0QsT0FFNUIsSUFBSXE4QyxFQUFNZ0UsRUFBVWhFLElBRUxBLEVBQUlFLFlBQVlsQixJQUV0QmppRCxJQUFJMi9CLEdBQU95akIsVUFBWSxTQUFVaHhCLEdBQ3hDLElBQUk2VyxFQUFXdVosR0FBZXB3QixFQUFNNXdCLE9BQU9vZ0IsUUFDM0Nnb0IsR0FBZ0JYLEVBQVNNLFVBQVUsU0FBVVcsRUFBUVIsRUFDRm9ELEVBQVM3ZixFQUFLNFIsR0FDL0QsSUFBSW1CLEVBQU0wSixFQUFNLElBQU1vRCxHQUNLLElBQXZCakQsRUFBS2gzQixRQUFRbXRCLEtBQ2ZuQixFQUFLK0IsT0FBUyxjQUdsQjRpQixHQUFZM1osRUFBTWxLLEVBQU9zakIsR0FDekIsSUFBSWxDLEVBQWdCOVgsRUFBU0QsV0FDekJXLEVBQVVWLEVBQVNVLFFBQ3ZCc1osRUFBSUUsWUFBWWxCLElBQVd6YyxJQUN6QjhjLEdBQWVyWixFQUFVOFgsRUFBZXBYLEtBRTVDc1osRUFBSWlFLFFBQVU3RSxHQUFTNWtCLEdBQ3ZCd2xCLEVBQUltRSxXQUFhLFdBQ2YzcEIsTUFLSjZULEVBQUltQyxVQUFZLFNBQVV0cEMsRUFBSXN6QixHQUM1QixJQUFJd3BCLEVBQVkzQyxHQUFzQkMsRUFBSyxDQTFvRDdCLGVBMG9ENEMsWUFDMUQsR0FBSTBDLEVBQVVyZ0QsTUFDWixPQUFPNjJCLEVBQVN3cEIsRUFBVXJnRCxPQUU1QixJQUNJczhCLEVBREsrakIsRUFBVWhFLElBQ05FLFlBL29EQyxlQStvRHdCbmpELElBQUltSyxHQUUxQys0QixFQUFJdWpCLFFBQVVwRSxHQUFTNWtCLEdBQ3ZCeUYsRUFBSWtnQixVQUFZLFNBQVV2cEMsR0FDeEIsSUFBSXlwQixFQUFNenBCLEVBQUVyWSxPQUFPb2dCLE9BQ2QwaEIsVUFHSUEsRUFBaUIsWUFDeEI3RixFQUFTLEtBQU02RixJQUhmN0YsRUFBU29GLEdBQVlkLE1BUTNCdVAsRUFBSVosVUFBWSxTQUFVcE4sRUFBS3pFLEVBQU1wQixHQUNmLG1CQUFUb0IsSUFDVHBCLEVBQVdvQixFQUNYQSxFQUFPLFdBRUZ5RSxFQUFJZ0wsV0FDWCxJQUFJNmUsRUFBUzdwQixFQUFJK0IsS0FDYmw3QixFQUFLbTVCLEVBQUlpQyxJQUlYakMsRUFBSStCLEtBSEQ4bkIsRUFHUSxNQUFRMXVDLFNBQVMwdUMsRUFBT2w5QixNQUFNLEtBQUssR0FBSSxJQUFNLEdBRjdDLE1BS2IsSUFDSXJxQixFQURBeTdDLEVBQUt4aUIsRUFBSzVSLElBRWQsSUFBS28wQixFQUFJLENBQ1AsSUFBSTRGLEVBQVkzQyxHQUFzQkMsRUFBSyxDQTlxRC9CLGVBOHFEOEMsYUFDMUQsR0FBSTBDLEVBQVVyZ0QsTUFDWixPQUFPNjJCLEVBQVN3cEIsRUFBVXJnRCxRQUU1Qnk2QyxFQUFLNEYsRUFBVWhFLEtBQ1p3RCxRQUFVcEUsR0FBUzVrQixHQUN0QjRqQixFQUFHK0YsV0FBYSxXQUNWeGhELEdBQ0Y2M0IsRUFBUyxLQUFNNzNCLElBS3JCLElBQ0lzOUIsRUFEQWtxQixFQUFTL0wsRUFBRzhCLFlBM3JERixlQTZyRFZnSyxHQUNGanFCLEVBQU1rcUIsRUFBT3B0RCxJQUFJbUssSUFDYmk1QyxVQUFZLFNBQVV2cEMsR0FDeEIsSUFBSXd6QyxFQUFTeHpDLEVBQUVyWSxPQUFPb2dCLE9BQ2pCeXJDLEdBQVVBLEVBQU9ob0IsT0FBUzhuQixFQUduQkMsRUFBTzVuQixJQUFJbEMsR0FDakI4ZixVQUFZLFdBQ2R4OUMsRUFBTSxDQUFDODRCLElBQUksRUFBTXYwQixHQUFJbTVCLEVBQUlpQyxJQUFLdkYsSUFBS3NELEVBQUkrQixNQUNuQ3hHLEVBQUs1UixLQUNQd1EsRUFBUyxLQUFNNzNCLElBTm5CNjNCLEVBQVNvRixHQUFZYixPQVl6QmtCLEVBQU1rcUIsRUFBTzdoRCxJQUFJKzNCLElBQ2JtakIsUUFBVSxTQUFVNXNDLEdBRXRCNGpCLEVBQVNvRixHQUFZYixJQUNyQm5vQixFQUFFNkUsaUJBQ0Y3RSxFQUFFaUUsbUJBRUpvbEIsRUFBSWtnQixVQUFZLFdBQ2R4OUMsRUFBTSxDQUFDODRCLElBQUksRUFBTXYwQixHQUFJbTVCLEVBQUlpQyxJQUFLdkYsSUFBS3NELEVBQUkrQixNQUNuQ3hHLEVBQUs1UixLQUNQd1EsRUFBUyxLQUFNNzNCLE1BTXZCMHJDLEVBQUlWLGFBQWUsU0FBVXROLEVBQUt6RSxFQUFNcEIsR0FDbEIsbUJBQVRvQixJQUNUcEIsRUFBV29CLEVBQ1hBLEVBQU8sSUFFVCxJQWFJajVCLEVBYkF5N0MsRUFBS3hpQixFQUFLNVIsSUFDZCxJQUFLbzBCLEVBQUksQ0FDUCxJQUFJNEYsRUFBWTNDLEdBQXNCQyxFQUFLLENBcnVEL0IsZUFxdUQ4QyxhQUMxRCxHQUFJMEMsRUFBVXJnRCxNQUNaLE9BQU82MkIsRUFBU3dwQixFQUFVcmdELFFBRTVCeTZDLEVBQUs0RixFQUFVaEUsS0FDWm1FLFdBQWEsV0FDVnhoRCxHQUNGNjNCLEVBQVMsS0FBTTczQixJQUtyQixJQUFJdUUsRUFBS201QixFQUFJaUMsSUFDVDZuQixFQUFTL0wsRUFBRzhCLFlBbHZERixlQW12RFZqZ0IsRUFBTWtxQixFQUFPcHRELElBQUltSyxHQUVyQis0QixFQUFJdWpCLFFBQVVwRSxHQUFTNWtCLEdBQ3ZCeUYsRUFBSWtnQixVQUFZLFNBQVV2cEMsR0FDeEIsSUFBSXd6QyxFQUFTeHpDLEVBQUVyWSxPQUFPb2dCLE9BQ2pCeXJDLEdBQVVBLEVBQU9ob0IsT0FBUy9CLEVBQUkrQixNQUdqQytuQixFQUFPcnhCLE9BQU81eEIsR0FDZHZFLEVBQU0sQ0FBQzg0QixJQUFJLEVBQU12MEIsR0FBSUEsRUFBSTYxQixJQUFLLE9BQzFCbkIsRUFBSzVSLEtBQ1B3USxFQUFTLEtBQU03M0IsSUFMakI2M0IsRUFBU29GLEdBQVlkLE1BVzNCdVAsRUFBSTRFLFNBQVcsU0FBVXJYLEVBQU1wQixHQUM3QndnQixHQUFlcDJDLG1CQUFtQmc1QixHQUdsQyxJQUFJeXNCLEVBQVVoQyxHQUFZdHJELElBQUk2Z0MsR0FDMUJ5c0IsR0FBV0EsRUFBUTFyQyxTQUNyQjByQyxFQUFRMXJDLE9BQU9vekIsUUFDZnFXLEdBQVV0dkIsT0FBTzhFLElBRW5CLElBQUlxQyxFQUFNcXFCLFVBQVVDLGVBQWUzc0IsR0FFbkNxQyxFQUFJa2dCLFVBQVksV0FFZGtJLEdBQVl2dkIsT0FBTzhFLEdBQ2ZWLEtBQXNCVSxLQUFVcnpCLHFCQUMzQkEsYUFBYXF6QixHQUV0QnBELEVBQVMsS0FBTSxDQUFFLElBQU0sS0FHekJ5RixFQUFJdWpCLFFBQVVwRSxHQUFTNWtCLElBR3pCLElBQUlnd0IsRUFBU3BDLEdBQVVyckQsSUFBSTZnQyxHQUUzQixHQUFJNHNCLEVBR0YsT0FGQWxKLEVBQU1rSixFQUFPbEosSUFDYmpULEVBQUkrVCxNQUFRb0ksRUFBT0MsT0FDWixLQUFVLFdBQ2Zqd0IsRUFBUyxLQUFNNlQsTUFJbkIsSUFBSXBPLEVBQU1xcUIsVUFBVUksS0FBSzlzQixFQXh6REwsR0F5ekRwQnlxQixHQUFZaGxELElBQUl1NkIsRUFBUXFDLEdBRXhCQSxFQUFJMHFCLGdCQUFrQixTQUFVL3pDLEdBQzlCLElBQUkra0IsRUFBSy9rQixFQUFFclksT0FBT29nQixPQUNsQixHQUFJL0gsRUFBRWcwQyxXQUFhLEVBQ2pCLE9BbGtCSixTQUFzQmp2QixHQUNwQixJQUFJK2xCLEVBQVcvbEIsRUFBR2t2QixrQkFBa0I3TCxHQUFXLENBQUM4TCxRQUFVLE9BQzFEbnZCLEVBQUdrdkIsa0JBdHZDWSxjQXN2Q29CLENBQUNFLGVBQWUsSUFDaERsQyxZQUFZLGNBQWUsY0FBZSxDQUFDQyxRQUFRLElBQ3REbnRCLEVBQUdrdkIsa0JBdHZDWSxlQXN2Q29CLENBQUNDLFFBQVMsV0FDN0NudkIsRUFBR2t2QixrQkFBa0I1TCxHQUFZLENBQUM2TCxRQUFTLEtBQU1DLGVBQWUsSUFDaEVwdkIsRUFBR2t2QixrQkE3dUN5Qix1QkFndkM1Qm5KLEVBQVNtSCxZQUFZLGlCQUFrQixpQkFBa0IsQ0FBQ0MsUUFBUyxJQUduRW50QixFQUFHa3ZCLGtCQXJ2Q1csY0FxdkNvQixDQUFDQyxRQUFTLFFBRzVDLElBQUluSyxFQUFpQmhsQixFQUFHa3ZCLGtCQTl2Q0QsbUJBK3ZDckIsQ0FBQ0UsZUFBZSxJQUNsQnBLLEVBQWVrSSxZQUFZLE1BQU8sT0FDbENsSSxFQUFla0ksWUFBWSxZQUFhLFlBQWEsQ0FBQ0MsUUFBUSxJQWdqQnJEa0MsQ0FBYXJ2QixHQUl0QixJQUFJcWtCLEVBQU1wcEMsRUFBRXEwQyxjQUFjekosWUFJdEI1cUMsRUFBRWcwQyxXQUFhLEdBL2hCckIsU0FBZ0NqdkIsR0FDOUJBLEVBQUdrdkIsa0JBcnhDVyxjQXF4Q29CLENBQUNDLFFBQVMsUUFDekNqQyxZQUFZLGNBQWUsY0FBZSxDQUFDQyxRQUFRLElBOGhCcERvQyxDQUF1QnZ2QixHQUVyQi9rQixFQUFFZzBDLFdBQWEsR0E3ZXJCLFNBQThCanZCLEdBQzVCLElBQUlnbEIsRUFBaUJobEIsRUFBR2t2QixrQkFoMUNELG1CQWkxQ3JCLENBQUNFLGVBQWUsSUFDbEJwSyxFQUFla0ksWUFBWSxNQUFPLE9BQ2xDbEksRUFBZWtJLFlBQVksWUFBYSxZQUFhLENBQUNDLFFBQVEsSUEwZTVEcUMsQ0FBcUJ4dkIsR0FHdkIsSUFBSXl2QixFQUFhLENBQ2Z4QyxFQUNBRyxFQUNBSyxFQUNBRSxHQUdFcHRELEVBQUkwYSxFQUFFZzBDLFlBRVYsU0FBUzc4QixJQUNQLElBQUlzOUIsRUFBWUQsRUFBV2x2RCxFQUFJLEdBQy9CQSxJQUNJbXZELEdBQ0ZBLEVBQVVyTCxFQUFLanlCLEdBSW5CQSxJQUdGa1MsRUFBSWtnQixVQUFZLFNBQVV2cEMsSUFFeEIwcUMsRUFBTTFxQyxFQUFFclksT0FBT29nQixRQUVYMnNDLGdCQUFrQixXQUNwQmhLLEVBQUl2UCxRQUNKcVcsR0FBVXR2QixPQUFPOEUsSUFHbkIwakIsRUFBSTJDLFFBQVUsU0FBVXJ0QyxHQUN0QnltQixFQUFlLFFBQVMsZ0NBQWlDem1CLEVBQUVyWSxPQUFPb0YsT0FDbEUra0QsRUFBd0I5eEMsRUFBRXJZLE9BQU9vRixNQUNqQzI5QyxFQUFJdlAsUUFDSnFXLEdBQVV0dkIsT0FBTzhFLElBVW5CLElBT0lva0IsRUFDQVEsRUFDQUgsRUFDQXFILEVBVkExSixFQUFNc0IsRUFBSUUsWUFBWSxDQUN4QnZDLEdBcDJEMEIsc0JBczJEMUJELElBQ0MsYUFFQ3VNLEdBQWdCLEVBTXBCLFNBQVNDLFNBQ29CLElBQWhCbkosR0FBZ0NrSixJQUczQ2xkLEVBQUkrVCxNQUFRLENBQ1YzbEQsS0FBTW1oQyxFQUNOOHJCLFdBQVlBLEVBQ1pySCxZQUFhQSxHQUdmK0YsR0FBVS9rRCxJQUFJdTZCLEVBQVEsQ0FDcEIwakIsSUFBS0EsRUFDTG1KLE9BQVFwYyxFQUFJK1QsUUFFZDVuQixFQUFTLEtBQU02VCxJQUdqQixTQUFTb2QsSUFDUCxRQUF3QixJQUFiakosUUFBK0MsSUFBWlIsRUFBOUMsQ0FHQSxJQUFJMEosRUFBYzl0QixFQUFTLE1BQ3ZCOHRCLEtBQWUxSixFQUNqQjBILEVBQWExSCxFQUFRMEosR0FFckIxSixFQUFRMEosR0FBZWhDLEVBQWF4d0MsS0FFdEM4b0MsRUFBUVEsU0FBV0EsRUFDbkJ4QyxFQUFJRSxZQUFZakIsSUFBWTFjLElBQUl5ZixJQU1sQ2hDLEVBQUlFLFlBQVlqQixJQUFZbGlELElBQUlraUQsSUFBWWtCLFVBQVksU0FBVXZwQyxHQUNoRW9yQyxFQUFVcHJDLEVBQUVyWSxPQUFPb2dCLFFBQVUsQ0FBRXpYLEdBQUkrM0MsSUFDbkN3TSxLQXo3Qk4sU0FBbUJ6TCxFQUFLajRCLEdBQ1ZpNEIsRUFBSUUsWUFBWWxCLElBQVd4NkMsTUFBTSxrQkFDdkMxQyxNQUFNOCtDLFlBQVlJLEtBQUssTUFBTWIsVUFBWSxTQUFVdnBDLEdBQ3ZEbVIsRUFBR25SLEVBQUVyWSxPQUFPb2dCLFNBNDdCWmd0QyxDQUFVM0wsR0FBSyxTQUFVbCtDLEdBQ3ZCMGdELEVBQVcxZ0QsRUFDWDJwRCxPQU1HdEQsS0FFSEEsR0FuK0JOLFNBQTBCbkksR0FDeEIsT0FBTyxJQUFJemdELFNBQVEsU0FBVUMsR0FDM0IsSUFBSW9zRCxFQUFVOW9CLEdBQVcsQ0FBQyxLQUN0QjdDLEVBQU0rZixFQUFJRSxZQW44QmMsdUJBbThCeUIzZCxJQUFJcXBCLEVBQVMsT0FFbEUzckIsRUFBSWtnQixVQUFZLFdBQ2QsSUFBSTBMLEVBQWdCQyxVQUFVQyxVQUFVbjdDLE1BQU0saUJBQzFDbzdDLEVBQWNGLFVBQVVDLFVBQVVuN0MsTUFBTSxVQUc1Q3BSLEVBQVF3c0QsSUFBZ0JILEdBQ3RCcndDLFNBQVNxd0MsRUFBYyxHQUFJLEtBQU8sS0FHdEM1ckIsRUFBSXVqQixRQUFVeEQsRUFBSWlFLFFBQVUsU0FBVXJ0QyxHQUdwQ0EsRUFBRTZFLGlCQUNGN0UsRUFBRWlFLGtCQUNGcmIsR0FBUSxPQUVUMGlDLE9BQU0sV0FDUCxPQUFPLEtBNjhCZ0IrcEIsQ0FBaUJqTSxJQUd4Q21JLEdBQW1CcHlDLE1BQUssU0FBVWlRLEdBQ2hDcThCLEVBQWNyOEIsRUFDZHdsQyxPQUtGeEwsRUFBSW1FLFdBQWEsV0FDZm9ILEdBQWdCLEVBQ2hCQyxLQUVGeEwsRUFBSWlFLFFBQVU3RSxHQUFTNWtCLElBR3pCeUYsRUFBSXVqQixRQUFVLFNBQVU1c0MsR0FDdEIsSUFBSXFVLEVBQU1yVSxFQUFFclksT0FBT29GLE9BQVNpVCxFQUFFclksT0FBT29GLE1BQU1FLFFBRXRDb25CLEdBRThELElBQXhEQSxFQUFJcmIsUUFBUSx5Q0FDckJxYixFQUFNLElBQUlycEIsTUFBTSx1SEFGaEJxcEIsRUFBTSw4REFLUm9TLEVBQWUsUUFBU3BTLEdBQ3hCdVAsRUFBU29GLEdBQVlILEVBQVd4VSxLQWh2QmhDOXJCLENBQUtrdkMsRUFBS3pTLEVBQU02c0IsS0FDZmp1QixFQUFVNlQsRUFBSWxwQyxhQW12Qm5CbWpELEdBQVNuYyxNQUFRLFdBTWYsSUFHRSxNQUE0QixvQkFBZG1lLFdBQW9ELG9CQUFoQjFKLFlBQ2xELE1BQU9ocUMsR0FDUCxPQUFPLElBNERYLElBS0lzMUMsR0FBcUIsR0FFekIsU0FBU0MsR0FBOEI3YixHQUNyQyxJQUFJalEsRUFBTWlRLEVBQUlqUSxLQUFPaVEsRUFBSTdVLEdBQ3JCOFcsRUFBT2xTLEdBQU9BLEVBQUlNLGFBQ2pCNFIsR0FHTDMxQyxPQUFPaUksS0FBSzB0QyxHQUFNdG5DLFNBQVEsU0FBVXE1QyxHQUNsQyxJQUFJNWpCLEVBQU02UixFQUFLK1IsR0FDZjVqQixFQUFJNVksS0FBTzRiLEdBQWFoRCxFQUFJNVksS0FBTTRZLEVBQUk4TixpQkFJMUMsU0FBUzRkLEdBQVlsbEQsR0FDbkIsTUFBSSxXQUFXZCxLQUFLYyxHQUNYLFdBQWFzZSxtQkFBbUJ0ZSxFQUFHcEgsTUFBTSxJQUU5QyxVQUFVc0csS0FBS2MsR0FDVixVQUFZc2UsbUJBQW1CdGUsRUFBR3BILE1BQU0sSUFFMUMwbEIsbUJBQW1CdGUsR0FHNUIsU0FBU21sRCxHQUF3QmhzQixHQUMvQixPQUFLQSxFQUFJTSxjQUFpQi9qQyxPQUFPaUksS0FBS3c3QixFQUFJTSxjQUluQ3BoQyxRQUFRZ3hDLElBQUkzekMsT0FBT2lJLEtBQUt3N0IsRUFBSU0sY0FBYzl2QixLQUFJLFNBQVVwVCxHQUM3RCxJQUFJcXNELEVBQWF6cEIsRUFBSU0sYUFBYWxqQyxHQUNsQyxHQUFJcXNELEVBQVdoaUMsTUFBbUMsaUJBQXBCZ2lDLEVBQVdoaUMsS0FDdkMsT0FBTyxJQUFJdm9CLFNBQVEsU0FBVUMsR0FDM0Ira0MsR0FBYXVsQixFQUFXaGlDLEtBQU10b0IsTUFDN0J1VyxNQUFLLFNBQVU0dEIsR0FDaEJtbUIsRUFBV2hpQyxLQUFPNmIsU0FUZnBrQyxRQUFRQyxVQXlCbkIsU0FBUzhzRCxHQUFRN3ZELEVBQU1tL0IsR0FFckIsR0FaRixTQUFzQkEsR0FDcEIsSUFBS0EsRUFBSzFOLE9BQ1IsT0FBTyxFQUVULElBQUlxK0IsRUFBV2hyQixHQUFTM0YsRUFBSzFOLFFBQVFxK0IsU0FDckMsTUFBb0IsU0FBYkEsR0FBb0MsVUFBYkEsRUFPMUJDLENBQWE1d0IsR0FBTyxDQUN0QixJQUFJZ0MsRUFBU2hDLEVBQUtuL0IsS0FBS3VjLE9BQU80aUIsRUFBSzFOLE9BQU96c0IsUUFHMUNoRixFQURhbS9CLEVBQUsxTixPQUFPOVgsUUFBUSxPQUFRLEtBQ3pCb1AsbUJBQW1Cb1ksR0FHckMsSUFBSXhVLEVBQU1tWSxHQUFTOWtDLElBQ2Yyc0IsRUFBSXFqQyxNQUFRcmpDLEVBQUlzakMsWUFDbEJ0akMsRUFBSXVqQyxLQUFPLENBQUNDLFNBQVV4akMsRUFBSXFqQyxLQUFNQyxTQUFVdGpDLEVBQUlzakMsV0FLaEQsSUFBSTMvQixFQUFRM0QsRUFBSTNZLEtBQUsyRixRQUFRLGFBQWMsSUFBSTRXLE1BQU0sS0FVckQsT0FSQTVELEVBQUl1UyxHQUFLNU8sRUFBTXRvQixPQUVjLElBQXpCMmtCLEVBQUl1UyxHQUFHL3JCLFFBQVEsT0FDakJ3WixFQUFJdVMsR0FBS25XLG1CQUFtQjRELEVBQUl1UyxLQUdsQ3ZTLEVBQUkzWSxLQUFPc2MsRUFBTWxOLEtBQUssS0FFZnVKLEVBSVQsU0FBU3lqQyxHQUFTanhCLEVBQU1uckIsR0FDdEIsT0FBT3E4QyxHQUFPbHhCLEVBQU1BLEVBQUtELEdBQUssSUFBTWxyQixHQUl0QyxTQUFTcThDLEdBQU9seEIsRUFBTW5yQixHQUdwQixJQUFJczhDLEVBQVdueEIsRUFBS25yQixLQUFZLElBQUwsR0FJM0IsT0FBT21yQixFQUFLMndCLFNBQVcsTUFBUTN3QixFQUFLb3hCLE1BQzVCcHhCLEVBQUtxeEIsS0FBUSxJQUFNcnhCLEVBQUtxeEIsS0FBUSxJQUNqQyxJQUFNcnhCLEVBQUtuckIsS0FBT3M4QyxFQUFVdDhDLEVBR3JDLFNBQVN5OEMsR0FBWWpqRCxHQUNuQixNQUFPLElBQU1yTixPQUFPaUksS0FBS29GLEdBQVE0RyxLQUFJLFNBQVV5VCxHQUM3QyxPQUFPQSxFQUFJLElBQU1rQixtQkFBbUJ2YixFQUFPcWEsT0FDMUN6RSxLQUFLLEtBY1YsU0FBU3N0QyxHQUFVdnhCLEVBQU1wQixHQUd2QixJQUFJNlQsRUFBTWp2QyxLQUVONHRELEVBQU9WLEdBQVExd0IsRUFBS24vQixLQUFNbS9CLEdBQzFCd3hCLEVBQVFQLEdBQVNHLEVBQU0sSUFFM0JweEIsRUFBT3RDLEVBQU1zQyxHQUViLElBdUZJeXhCLEVBdkZBQyxFQUFXLFNBQVU5WSxFQUFLdjNCLEdBTzVCLElBTEFBLEVBQVVBLEdBQVcsSUFDYnN3QyxRQUFVdHdDLEVBQVFzd0MsU0FBVyxJQUFJN1osR0FFekN6MkIsRUFBUXV3QyxZQUFjLFVBRWxCNXhCLEVBQUsrd0IsTUFBUUssRUFBS0wsS0FBTSxDQUMxQixJQUFJYyxFQUFRN3hCLEVBQUsrd0IsTUFBUUssRUFBS0wsS0FDMUJybkMsRUFBTW1vQyxFQUFNYixTQUFXLElBQU1hLEVBQU1mLFNBQ25DZ0IsRUFBUTlxQixHQUFTcmQsU0FBU0MsbUJBQW1CRixLQUNqRHJJLEVBQVFzd0MsUUFBUWxxRCxJQUFJLGdCQUFpQixTQUFXcXFELEdBR2xELElBQUlILEVBQVUzeEIsRUFBSzJ4QixTQUFXLEdBVzlCLE9BVkEzd0QsT0FBT2lJLEtBQUswb0QsR0FBU3RpRCxTQUFRLFNBQVV4TixHQUNyQ3dmLEVBQVFzd0MsUUFBUS9rRCxPQUFPL0ssRUFBSzh2RCxFQUFROXZELE9BckMxQyxTQUF5Qm0rQixHQUN2QixJQUFJK3hCLEVBQTJCLG9CQUFkN0IsV0FBNkJBLFVBQVVDLFVBQ3BERCxVQUFVQyxVQUFVNXlDLGNBQWdCLEdBQ3BDeTBDLEdBQStCLElBQXhCRCxFQUFHLzlDLFFBQVEsUUFDbEJpK0MsR0FBdUMsSUFBM0JGLEVBQUcvOUMsUUFBUSxXQUN2QmsrQyxHQUFpQyxJQUF4QkgsRUFBRy85QyxRQUFRLFFBQ3BCbStDLElBQVUsV0FBWW55QixJQUF5QixRQUFoQkEsRUFBSzBCLE9BQ3hDLE9BQVFzd0IsR0FBUUMsR0FBYUMsSUFBV0MsRUFrQ2xDQyxDQUFnQi93QyxLQUNsQnUzQixLQUE4QixJQUF0QkEsRUFBSTVrQyxRQUFRLEtBQWMsSUFBTSxLQUFPLFVBQVk0cEIsS0FBS3kwQixRQUduRHJ5QixFQUFLNlgsT0FBU0QsSUFDYmdCLEVBQUt2M0IsSUFHdkIsU0FBU2l4QyxFQUFjenhELEVBQU04SixHQUMzQixPQUFPbTBCLEVBQVdqK0IsRUFBTSxLQUFhLFNBQVVnQyxHQUM3QzB2RCxJQUFRcDRDLE1BQUssV0FDWCxPQUFPeFAsRUFBSWpJLE1BQU1jLEtBQU1YLE1BQ3RCeWpDLE9BQU0sU0FBVXRyQixHQUNGblksRUFBS2dHLEtBQ3BCKzFCLENBQVM1akIsVUFFVGxaLEtBQUsyd0MsR0FHWCxTQUFTK2YsRUFBVTVaLEVBQUt2M0IsRUFBU3VkLEdBRS9CLElBQUk3YixFQUFTLEdBWWIsT0FWQTFCLEVBQVVBLEdBQVcsSUFDYnN3QyxRQUFVdHdDLEVBQVFzd0MsU0FBVyxJQUFJN1osR0FFcEN6MkIsRUFBUXN3QyxRQUFReHdELElBQUksaUJBQ3ZCa2dCLEVBQVFzd0MsUUFBUWxxRCxJQUFJLGVBQWdCLG9CQUVqQzRaLEVBQVFzd0MsUUFBUXh3RCxJQUFJLFdBQ3ZCa2dCLEVBQVFzd0MsUUFBUWxxRCxJQUFJLFNBQVUsb0JBR3pCaXFELEVBQVM5WSxFQUFLdjNCLEdBQVNsSCxNQUFLLFNBQVVDLEdBRzNDLE9BRkEySSxFQUFPOGMsR0FBS3psQixFQUFTeWxCLEdBQ3JCOWMsRUFBT2dmLE9BQVMzbkIsRUFBUzJuQixPQUNsQjNuQixFQUFTbXBDLFVBQ2ZwcEMsTUFBSyxTQUFVb3BDLEdBRWhCLEdBREF4Z0MsRUFBT21KLEtBQU9xM0IsR0FDVHhnQyxFQUFPOGMsR0FBSSxDQUNkOWMsRUFBT21KLEtBQUs2VixPQUFTaGYsRUFBT2dmLE9BQzVCLElBQUloK0IsRUFBTW9nQyxHQUEwQnBoQixFQUFPbUosTUFDM0MsR0FBSTBTLEVBQ0YsT0FBT0EsRUFBUzc2QixHQUVoQixNQUFNQSxFQWNWLEdBVklpRCxNQUFNNm1CLFFBQVE5SyxFQUFPbUosUUFDdkJuSixFQUFPbUosS0FBT25KLEVBQU9tSixLQUFLalgsS0FBSSxTQUFVMlosR0FDdEMsT0FBSUEsRUFBRTdtQixPQUFTNm1CLEVBQUV1a0IsUUFDUmhQLEdBQTBCdlYsR0FFMUJBLE9BS1RnUSxFQUdGLE9BQU83YixFQUZQNmIsRUFBUyxLQUFNN2IsRUFBT21KLFNBUzVCLFNBQVNxbUMsSUFDUCxPQUFJdnlCLEVBQUt5eUIsV0FDQTl1RCxRQUFRQyxVQU1iNnRELEtBSUpBLEVBQWVlLEVBQVVoQixHQUFPbHJCLE9BQU0sU0FBVXZpQyxHQUM5QyxPQUFJQSxHQUFPQSxFQUFJZytCLFFBQXlCLE1BQWZoK0IsRUFBSWcrQixRQUUzQkQsRUFBYSxJQUFLLG1EQUNYMHdCLEVBQVVoQixFQUFPLENBQUM5dkIsT0FBUSxTQUUxQi85QixRQUFRRSxPQUFPRSxNQUV2QnVpQyxPQUFNLFNBQVV2aUMsR0FJakIsU0FBSUEsSUFBT0EsRUFBSWcrQixRQUF5QixNQUFmaCtCLEVBQUlnK0IsU0FHdEJwK0IsUUFBUUUsT0FBT0UsT0FHWHVpQyxPQUFNLFdBQ2pCbXJCLEVBQWUsUUFHVkEsR0EyVFQsU0FBU2lCLEVBQW1CbGdCLEdBQzFCLE9BQU9BLEVBQWFwaEIsTUFBTSxLQUFLbmMsSUFBSTJVLG9CQUFvQjNGLEtBQUssS0F6VDlELEtBQVUsV0FDUjJhLEVBQVMsS0FBTTZULE1BR2pCQSxFQUFJcE4sU0FBVSxFQUdkb04sRUFBSXJ0QyxLQUFPLFdBQ1QsTUFBTyxRQUdUcXRDLEVBQUlubkMsR0FBS2duRCxFQUFjLE1BQU0sU0FBVTF6QixHQUNyQzh5QixFQUFTUixHQUFPRSxFQUFNLEtBQUtqM0MsTUFBSyxTQUFVQyxHQUN4QyxPQUFPQSxFQUFTbXBDLFVBQ2ZqZCxPQUFNLFdBQ1AsTUFBTyxNQUNObnNCLE1BQUssU0FBVTRJLEdBRWhCLElBQUk0dkMsRUFBVzV2QyxHQUFVQSxFQUFPekYsS0FDM0J5RixFQUFPekYsS0FBTzh6QyxFQUFLcnhCLEdBQU1reEIsR0FBU0csRUFBTSxJQUM3Q3h5QixFQUFTLEtBQU0rekIsU0FNbkJsZ0IsRUFBSTBCLFFBQVVtZSxFQUFjLFdBQVcsU0FBVXR5QixFQUFNcEIsR0FDakMsbUJBQVRvQixJQUNUcEIsRUFBV29CLEVBQ1hBLEVBQU8sSUFFVEEsRUFBT3RDLEVBQU1zQyxHQUVid3lCLEVBQVV2QixHQUFTRyxFQUFNLFlBQWEsQ0FBQzF2QixPQUFRLFNBQVN2bkIsTUFBSyxZQUMzRCxTQUFTeTRDLElBQ1BuZ0IsRUFBSWxzQixNQUFLLFNBQVV4aUIsRUFBS21yQixHQUlsQkEsSUFBUUEsRUFBSTJqQyxnQkFDZGowQixFQUFTLEtBQU0sQ0FBQ2lCLElBQUksSUFFcEJ4MUIsV0FBV3VvRCxFQUFNNXlCLEVBQUs4eUIsVUFBWSxRQUt4Q0YsU0FJSm5nQixFQUFJM1MsUUFBVWhCLEVBQVcsV0FBVyxTQUFVa0IsRUFBTXBCLEdBQ2xELElBQUlMLEVBQU8vNkIsS0FFWCxTQUFTdXZELEVBQVU1bUMsR0FDakIsSUFBSTlkLEVBQVMsR0FDVDJ4QixFQUFLZ0wsT0FDUDM4QixFQUFPMjhCLE1BQU8sR0FFWmhMLEVBQUs2RSxjQUVQeDJCLEVBQU93MkIsYUFBYyxHQUVuQjdFLEVBQUs4VSxTQUNQem1DLEVBQU95bUMsUUFBUyxHQUVsQjBkLEVBQVV2QixHQUFTRyxFQUFNLFlBQWNFLEdBQVlqakQsSUFBVSxDQUMzRHF6QixPQUFRLE9BQ1J6bEIsS0FBTXhOLEtBQUtNLFVBQVUsQ0FBRW14QixLQUFNRixFQUFLRSxTQUNqQy9sQixNQUFLLFNBQVU0SSxHQUNaaWQsRUFBSzZFLGFBQWU3RSxFQUFLc0ksUUFDM0J2bEIsRUFBT21KLEtBQUt1VSxRQUFRcHhCLFNBQVEsU0FBVTZmLEdBQ3BDQSxFQUFJZ1IsS0FBSzd3QixRQUFRa2hELE9BR3JCcGtDLEVBQUcsS0FBTXBKLEVBQU9tSixTQUNmb2EsTUFBTW5hLEdBSVgsU0FBUzZtQyxJQUVQLElBQ0lDLEVBQWF0bkQsS0FBSzg5QixLQUFLekosRUFBS0UsS0FBS3I2QixPQWxWZixJQW1WbEJ5NkIsRUFBVSxFQUNWRyxFQUFVLElBQUl6NUIsTUFBTWlzRCxHQUV4QixTQUFTQyxFQUFTQyxHQUNoQixPQUFPLFNBQVVwdkQsRUFBS21yQixHQUVwQnVSLEVBQVEweUIsR0FBWWprQyxFQUFJdVIsVUFDbEJILElBQVkyeUIsR0FDaEJyMEIsRUFBUyxLQUFNLENBQUM2QixRQUFTd0UsR0FBUXhFLE1BS3ZDLElBQUssSUFBSW5nQyxFQUFJLEVBQUdBLEVBQUkyeUQsRUFBWTN5RCxJQUFLLENBQ25DLElBQUk4eUQsRUFBVTN6QixFQUFLTyxFQUFNLENBQUMsT0FBUSxjQUFlLFNBQVUsV0FDM0RvekIsRUFBUWx6QixLQUFPRixFQUFLRSxLQUFLaDhCLE1BbFdMLEdBa1dXNUQsRUFDN0JxTCxLQUFLd0osSUFBSTZxQixFQUFLRSxLQUFLcjZCLE9BbldELElBbVdVdkYsRUFBSSxLQUNsQ3cvQixFQUFRdkIsRUFBTTYwQixFQUFTRixFQUFTNXlELEtBS3BDLElBQUlreEQsRUFBUU4sR0FBT0UsRUFBTSxJQUNyQmlDLEVBQWtCL0MsR0FBbUJrQixHQUdWLGtCQUFwQjZCLEVBRVROLEdBQVUsU0FBVWh2RCxFQUFLbXJCLEdBQ25CbnJCLEdBQ0Z1c0QsR0FBbUJrQixJQUFTLEVBQzVCMXZCLEVBQ0UvOUIsRUFBSWcrQixPQUNKLHVFQUdGaXhCLE1BRUExQyxHQUFtQmtCLElBQVMsRUFDNUI1eUIsRUFBUyxLQUFNMVAsT0FHVm1rQyxFQUNUTixFQUFVbjBCLEdBRVZvMEIsT0FPSnZnQixFQUFJNEQsTUFBUSxTQUFVelgsR0FDcEIyekIsSUFBUXA0QyxNQUFLLFdBQ1gsT0FBT3UzQyxFQUFTVCxHQUFTRyxFQUFNLFFBQzlCajNDLE1BQUssU0FBVUMsR0FDaEIsT0FBT0EsRUFBU21wQyxVQUNmcHBDLE1BQUssU0FBVW9NLEdBQ2hCQSxFQUFLNnFDLEtBQU9ILEdBQVNHLEVBQU0sSUFDM0J4eUIsRUFBUyxLQUFNclksTUFDZCtmLE1BQU0xSCxJQUdYNlQsRUFBSW9GLE1BQVEsU0FBVWhqQyxFQUFNd00sR0FDMUIsT0FBT2t4QyxJQUFRcDRDLE1BQUssV0FDbEIsSUFBSXkrQixFQUErQixNQUF6Qi9qQyxFQUFLeVUsVUFBVSxFQUFHLEdBQzFCNG5DLEdBQU9FLEVBQU12OEMsRUFBS3lVLFVBQVUsSUFDNUIybkMsR0FBU0csRUFBTXY4QyxHQUNqQixPQUFPNjhDLEVBQVM5WSxFQUFLdjNCLE9BT3pCb3hCLEVBQUl0eEMsSUFBTW14RCxFQUFjLE9BQU8sU0FBVWhuRCxFQUFJMDBCLEVBQU1wQixHQUU3QixtQkFBVG9CLElBQ1RwQixFQUFXb0IsRUFDWEEsRUFBTyxJQUtULElBQUkzeEIsRUFBUyxHQW9DYixTQUFTaWxELEVBQWlCN3VCLEdBQ3hCLElBQUlrUyxFQUFPbFMsRUFBSU0sYUFDWHd1QixFQUFZNWMsR0FBUTMxQyxPQUFPaUksS0FBSzB0QyxHQUNwQyxHQUFLQSxHQUFTNGMsRUFBVTF0RCxPQTRDeEIsT0EzaUJOLFNBQWMydEQsRUFBa0JqaUIsR0FDOUIsT0FBTyxJQUFJNXRDLFNBQVEsU0FBVUMsRUFBU0MsR0FDcEMsSUFJSUUsRUFKQXluRCxFQUFVLEVBQ1ZuL0IsRUFBVSxFQUNWdWQsRUFBTyxFQUNQemhDLEVBQU1xckQsRUFBaUIzdEQsT0FRM0IsU0FBUzR0RCxNQUNEN3BCLElBQVN6aEMsRUFFVHBFLEVBQ0ZGLEVBQU9FLEdBRVBILElBR0Y4dkQsSUFJSixTQUFTN0ksSUFDUFcsSUFDQWlJLElBSUYsU0FBU0UsRUFBUUMsR0FDZnBJLElBQ0F6bkQsRUFBTUEsR0FBTzZ2RCxFQUNiSCxJQUdGLFNBQVNDLElBQ1AsS0FBT2xJLEVBQVVqYSxHQUFTbGxCLEVBQVVsa0IsR0E5QnBDcWpELElBQ0FnSSxFQUFpQm5uQyxPQUFhbFMsS0FBSzB3QyxFQUFXOEksR0FrQ2hERCxPQStmU0csQ0FSZ0JOLEVBQVV0K0MsS0FBSSxTQUFVeXpDLEdBQzdDLE9BQU8sV0FDTCxPQS9CSixTQUFtQkEsR0FDakIsSUFBSTVqQixFQUFNNlIsRUFBSytSLEdBQ1g3ekMsRUFBTzI3QyxHQUFZL3JCLEVBQUlpQyxLQUFPLElBQU1nc0IsRUFBbUJoSyxHQUN2RCxRQUFVamtCLEVBQUkrQixLQUNsQixPQUFPa3JCLEVBQVNULEdBQVNHLEVBQU12OEMsSUFBT3NGLE1BQUssU0FBVUMsR0FDbkQsTUFBSSxXQUFZQSxFQUNQQSxFQUFTd1IsU0FHVHhSLEVBQVM2dEIsVUFFakI5dEIsTUFBSyxTQUFVOHRCLEdBQ2hCLEdBQUlqSSxFQUFLc0ksT0FBUSxDQUNmLElBQUl3ckIsRUFBc0I5eUQsT0FBT3E4Qix5QkFBeUI0SyxFQUFLOHJCLFVBQVcsUUFJMUUsT0FIS0QsSUFBdUJBLEVBQW9CcnNELE1BQzlDd2dDLEVBQUs3aUMsS0FBTzAvQixFQUFJOE4sY0FFWDNLLEVBRVQsT0FBTyxJQUFJdGtDLFNBQVEsU0FBVUMsR0FDM0Ira0MsR0FBYVYsRUFBTXJrQyxTQUVwQnVXLE1BQUssU0FBVStSLFVBQ1Q0WSxFQUFJRSxZQUNKRixFQUFJai9CLE9BQ1hpL0IsRUFBSTVZLEtBQU9BLEtBTUo4bkMsQ0FBVXRMLE9BTVMsSUF0RmhDMW9CLEVBQU90QyxFQUFNc0MsSUFLSmdMLE9BQ1AzOEIsRUFBTzI4QixNQUFPLEdBR1poTCxFQUFLZ1YsWUFDUDNtQyxFQUFPMm1DLFdBQVksR0FHakJoVixFQUFLOFUsU0FDUHptQyxFQUFPeW1DLFFBQVMsR0FHZDlVLEVBQUtrQixZQUNnQixRQUFuQmxCLEVBQUtrQixZQUNQbEIsRUFBS2tCLFVBQVl6eUIsS0FBS00sVUFBVWl4QixFQUFLa0IsWUFFdkM3eUIsRUFBTzZ5QixVQUFZbEIsRUFBS2tCLFdBR3RCbEIsRUFBS21CLE1BQ1A5eUIsRUFBTzh5QixJQUFNbkIsRUFBS21CLEtBR2hCbkIsRUFBS3lMLFlBQ1BwOUIsRUFBT285QixVQUFZekwsRUFBS3lMLFdBSXRCekwsRUFBSzBSLGFBQ1ByakMsRUFBT3FqQyxXQUFhMVIsRUFBSzBSLFlBRzNCcG1DLEVBQUtrbEQsR0FBWWxsRCxHQWdFakJrbkQsRUFEVXZCLEdBQVNHLEVBQU05bEQsRUFBS2dtRCxHQUFZampELEtBQzNCOEwsTUFBSyxTQUFVK1UsR0FDNUIsT0FBT3ZyQixRQUFRQyxVQUFVdVcsTUFBSyxXQUM1QixHQUFJNmxCLEVBQUs2RSxZQUNQLE9BZnVCb3ZCLEVBZUkva0MsRUFBSWhELEtBZC9CbGxCLE1BQU02bUIsUUFBUW9tQyxHQUNUdHdELFFBQVFneEMsSUFBSXNmLEVBQVVoL0MsS0FBSSxTQUFVd3ZCLEdBQ3pDLEdBQUlBLEVBQUk1RSxHQUNOLE9BQU95ekIsRUFBaUI3dUIsRUFBSTVFLFFBSTNCeXpCLEVBQWlCVyxHQVIxQixJQUE2QkEsS0FpQnhCOTVDLE1BQUssV0FDTnlrQixFQUFTLEtBQU0xUCxFQUFJaEQsWUFFcEJvYSxPQUFNLFNBQVV0ckIsR0FDakJBLEVBQUU4bEIsTUFBUXgxQixFQUNWc3pCLEVBQVM1akIsU0FNYnkzQixFQUFJeG1DLE9BQVNxbUQsRUFBYyxVQUFVLFNBQVV2ZixFQUFTQyxFQUFXaFQsRUFBTTdULEdBQ3ZFLElBQUlzWSxFQUNxQixpQkFBZHVPLEdBRVR2TyxFQUFNLENBQ0ppQyxJQUFLcU0sRUFDTHZNLEtBQU13TSxHQUVZLG1CQUFUaFQsSUFDVDdULEVBQUs2VCxFQUNMQSxFQUFPLE1BSVR5RSxFQUFNc08sRUFDbUIsbUJBQWRDLEdBQ1Q3bUIsRUFBSzZtQixFQUNMaFQsRUFBTyxLQUVQN1QsRUFBSzZULEVBQ0xBLEVBQU9nVCxJQUlYLElBQUk3UixFQUFPc0QsRUFBSStCLE1BQVF4RyxFQUFLbUIsSUFHNUJxeEIsRUFGVXZCLEdBQVNHLEVBQU1aLEdBQVkvckIsRUFBSWlDLE1BQVEsUUFBVXZGLEVBRTVDLENBQUNPLE9BQVEsVUFBV3ZWLEdBQUltYSxNQUFNbmEsTUFRL0NzbUIsRUFBSWdELGNBQWdCNmMsRUFBYyxpQkFBaUIsU0FBVXh4QixFQUFPMFIsRUFDVnhTLEVBQU1wQixHQUMxQyxtQkFBVG9CLElBQ1RwQixFQUFXb0IsRUFDWEEsRUFBTyxJQUVULElBR0lrMEIsRUFIQTdsRCxFQUFTMnhCLEVBQUttQixJQUFPLFFBQVVuQixFQUFLbUIsSUFBTyxHQUMzQ3lYLEVBQU1xWSxHQUFTRyxFQUFNWixHQUFZMXZCLElBQVUsSUFDM0M0eEIsRUFBbUJsZ0IsR0FBZ0Jua0MsRUFFdkNxakQsRUFBUzlZLEVBQUssQ0FBQ2xYLE9BQVEsUUFBUXZuQixNQUFLLFNBQVVDLEdBRTVDLEdBREE4NUMsRUFBYzk1QyxFQUFTdTNDLFFBQVF4d0QsSUFBSSxnQkFDOUJpWixFQUFTeWxCLEdBR1osWUFBdUIsSUFBWnMwQixHQUE0QkEsRUFBUUMsU0FBc0MsbUJBQXBCaDZDLEVBQVN3UixPQUlqRXhSLEVBQVM2dEIsT0FIVDd0QixFQUFTd1IsU0FIbEIsTUFBTXhSLEtBU1BELE1BQUssU0FBVTh0QixRQUVPLElBQVprc0IsR0FBNEJBLEVBQVFDLFVBQzdDbnNCLEVBQUs3aUMsS0FBTzh1RCxHQUVkdDFCLEVBQVMsS0FBTXFKLE1BQ2QzQixPQUFNLFNBQVV2aUMsR0FDakI2NkIsRUFBUzc2QixTQUtiMHVDLEVBQUlLLGlCQUFvQndmLEVBQWMsb0JBQW9CLFNBQVV4eEIsRUFDSDBSLEVBQ0FyUixFQUNBdkMsR0FHL0Q0ekIsRUFGVXZCLEdBQVNHLEVBQU1aLEdBQVkxdkIsR0FBUyxJQUMzQjR4QixFQUFtQmxnQixJQUFpQixRQUFVclIsRUFDbEQsQ0FBQ08sT0FBUSxVQUFXOUMsR0FBVTBILE1BQU0xSCxNQU1yRDZULEVBQUlGLGNBQWdCK2YsRUFBYyxpQkFBaUIsU0FBVXh4QixFQUFPMFIsRUFDVnJSLEVBQUs4RyxFQUNMN2lDLEVBQU13NUIsR0FDMUMsbUJBQVR4NUIsSUFDVHc1QixFQUFXeDVCLEVBQ1hBLEVBQU82aUMsRUFDUEEsRUFBTzlHLEVBQ1BBLEVBQU0sTUFFUixJQUFJNzFCLEVBQUtrbEQsR0FBWTF2QixHQUFTLElBQU00eEIsRUFBbUJsZ0IsR0FDbkRvRyxFQUFNcVksR0FBU0csRUFBTTlsRCxHQUt6QixHQUpJNjFCLElBQ0Z5WCxHQUFPLFFBQVV6WCxHQUdDLGlCQUFUOEcsRUFBbUIsQ0FFNUIsSUFBSUssRUFDSixJQUNFQSxFQUFTeEIsR0FBU21CLEdBQ2xCLE1BQU9sa0MsR0FDUCxPQUFPNjZCLEVBQVNvRixHQUFZUixFQUNaLDRDQUVsQnlFLEVBQU9LLEVBQVNWLEdBQW1CVSxFQUFRbGpDLEdBQVEsR0FJckRvdEQsRUFBVTVaLEVBQUssQ0FDYitZLFFBQVMsSUFBSTdaLEdBQUUsQ0FBQyxlQUFnQjF5QyxJQUNoQ3M4QixPQUFRLE1BQ1J6bEIsS0FBTWdzQixHQUNMckosR0FBVTBILE1BQU0xSCxNQUtyQjZULEVBQUlvRSxVQUFZLFNBQVV4UyxFQUFLckUsRUFBTXBCLEdBSW5DeUYsRUFBSWdPLFVBQVlyUyxFQUFLcVMsVUFFckJrZ0IsSUFBUXA0QyxNQUFLLFdBQ1gsT0FBT3hXLFFBQVFneEMsSUFBSXRRLEVBQUluRSxLQUFLanJCLElBQUl3N0MsUUFDL0J0MkMsTUFBSyxXQUVOLE9BQU9xNEMsRUFBVXZCLEdBQVNHLEVBQU0sY0FBZSxDQUM3QzF2QixPQUFRLE9BQ1J6bEIsS0FBTXhOLEtBQUtNLFVBQVVzMUIsSUFDcEJ6RixNQUNGMEgsTUFBTTFILElBS1g2VCxFQUFJTCxLQUFPLFNBQVUzTixFQUFLekUsRUFBTXBCLEdBQzlCMnpCLElBQVFwNEMsTUFBSyxXQUNYLE9BQU9zMkMsR0FBd0Joc0IsTUFDOUJ0cUIsTUFBSyxXQUNOLE9BQU9xNEMsRUFBVXZCLEdBQVNHLEVBQU1aLEdBQVkvckIsRUFBSWlDLE1BQU8sQ0FDckRoRixPQUFRLE1BQ1J6bEIsS0FBTXhOLEtBQUtNLFVBQVUwMUIsUUFFdEJ0cUIsTUFBSyxTQUFVNEksR0FDaEI2YixFQUFTLEtBQU03YixFQUFPbUosU0FDckJvYSxPQUFNLFNBQVV2aUMsR0FDakJBLEVBQUkrOEIsTUFBUTJELEdBQU9BLEVBQUlpQyxJQUN2QjlILEVBQVM3NkIsT0FPYjB1QyxFQUFJaUQsUUFBVTRjLEVBQWMsV0FBVyxTQUFVdHlCLEVBQU1wQixHQUNqQyxtQkFBVG9CLElBQ1RwQixFQUFXb0IsRUFDWEEsRUFBTyxJQUtULElBQ0kvakIsRUFEQTVOLEVBQVMsR0FFVHF6QixFQUFTLE9BTGIxQixFQUFPdEMsRUFBTXNDLElBT0p5TCxZQUNQcDlCLEVBQU9vOUIsV0FBWSxHQUlqQnpMLEVBQUswUixhQUNQcmpDLEVBQU9xakMsWUFBYSxHQUdsQjFSLEVBQUtzUixhQUNQampDLEVBQU9pakMsWUFBYSxHQUdsQnRSLEVBQUs0RSxlQUNQdjJCLEVBQU91MkIsY0FBZSxHQUlwQjVFLEVBQUs2RSxjQUNQeDJCLEVBQU93MkIsYUFBYyxHQUduQjdFLEVBQUtuK0IsTUFDUHdNLEVBQU94TSxJQUFNNE0sS0FBS00sVUFBVWl4QixFQUFLbitCLE1BRy9CbStCLEVBQUs0VixZQUNQNVYsRUFBSzZWLFNBQVc3VixFQUFLNFYsV0FHbkI1VixFQUFLNlYsV0FDUHhuQyxFQUFPd25DLFNBQVdwbkMsS0FBS00sVUFBVWl4QixFQUFLNlYsV0FHcEM3VixFQUFLOFYsVUFDUDlWLEVBQUsrVixPQUFTL1YsRUFBSzhWLFNBR2pCOVYsRUFBSytWLFNBQ1AxbkMsRUFBTzBuQyxPQUFTdG5DLEtBQUtNLFVBQVVpeEIsRUFBSytWLGNBR0osSUFBdkIvVixFQUFLd3FCLGdCQUNkbjhDLEVBQU9tOEMsZ0JBQWtCeHFCLEVBQUt3cUIsb0JBR04sSUFBZnhxQixFQUFLdVIsUUFDZGxqQyxFQUFPa2pDLE1BQVF2UixFQUFLdVIsWUFHRyxJQUFkdlIsRUFBSzJWLE9BQ2R0bkMsRUFBT3NuQyxLQUFPM1YsRUFBSzJWLE1BR3JCLElBQUkwZSxFQUFXL0MsR0FBWWpqRCxRQUVGLElBQWQyeEIsRUFBSy8yQixPQUNkeTRCLEVBQVMsT0FDVHpsQixFQUFPLENBQUNoVCxLQUFNKzJCLEVBQUsvMkIsT0FHckJ1cEQsRUFBVXZCLEdBQVNHLEVBQU0sWUFBY2lELEdBQVcsQ0FDL0MzeUIsT0FBUUEsRUFDVHpsQixLQUFNeE4sS0FBS00sVUFBVWtOLEtBQ3BCOUIsTUFBSyxTQUFVNEksR0FDWmlkLEVBQUs0RSxjQUFnQjVFLEVBQUs2RSxhQUFlN0UsRUFBS3NJLFFBQ2hEdmxCLEVBQU9tSixLQUFLZ3hCLEtBQUs3dEMsUUFBUWtoRCxJQUUzQjN4QixFQUFTLEtBQU03YixFQUFPbUosU0FDckJvYSxNQUFNMUgsTUFNWDZULEVBQUloQixTQUFXLFNBQVV6UixHQU12QixJQUFJcXBCLEVBQVksZUFBZ0JycEIsRUFBT0EsRUFBS3MwQixXQW54QnZCLElBcXhCckJ0MEIsRUFBT3RDLEVBQU1zQyxJQUVKa1IsY0FBZ0IsY0FBZWxSLEtBQ3RDQSxFQUFLdTBCLFVBcnhCYSxLQXd4QnBCLElBQUlDLEVBQWtCLFlBQWF4MEIsRUFBUUEsRUFBSzUxQixRQUFVLElBR3RELFlBQWE0MUIsR0FBUUEsRUFBSzUxQixTQUMzQm9xRCxFQUFpQngwQixFQUFLNTFCLFFBN3hCQSxNQTh4QnJCb3FELEVBQWlCeDBCLEVBQUs1MUIsUUE5eEJELEtBa3lCckIsY0FBZTQxQixHQUFRQSxFQUFLdTBCLFdBQzVCQyxFQUFpQngwQixFQUFLdTBCLFVBbnlCRCxNQW95QnJCQyxFQUFpQngwQixFQUFLdTBCLFVBcHlCRCxLQXV5QnpCLElBQUlsbUQsRUFBUyxHQUNULFlBQWEyeEIsR0FBUUEsRUFBSzUxQixVQUM1QmlFLEVBQU9qRSxRQUFVNDFCLEVBQUs1MUIsU0FHeEIsSUFBSW1uQyxPQUErQixJQUFmdlIsRUFBS3VSLE9BQXlCdlIsRUFBS3VSLE1BQ25Ea2pCLEVBQWNsakIsRUFxRGxCLEdBbkRJdlIsRUFBS256QixRQUNQd0IsRUFBT3hCLE1BQVFtekIsRUFBS256QixRQUdsQm16QixFQUFLNEUsY0FBZ0I1RSxFQUFLN3JCLFFBQWlDLG1CQUFoQjZyQixFQUFLN3JCLFVBQ2xEOUYsRUFBT3UyQixjQUFlLEdBR3BCNUUsRUFBSzZFLGNBQ1B4MkIsRUFBT3cyQixhQUFjLEdBR25CN0UsRUFBS2tSLGFBQ1A3aUMsRUFBT3FtRCxLQUFPLFlBR1oxMEIsRUFBSzIwQixlQUNQdG1ELEVBQU9zbUQsYUFBZTMwQixFQUFLMjBCLGNBR3pCMzBCLEVBQUt5TCxZQUNQcDlCLEVBQU9vOUIsV0FBWSxHQUdqQnpMLEVBQUtzUixhQUNQampDLEVBQU9pakMsWUFBYSxHQUlsQnRSLEVBQUswUixhQUNQcmpDLEVBQU9xakMsWUFBYSxHQUdsQixjQUFlMVIsR0FFYkEsRUFBS3UwQixZQUNQbG1ELEVBQU9rbUQsVUFBWXYwQixFQUFLdTBCLFdBSXhCdjBCLEVBQUs3ckIsUUFBaUMsaUJBQWhCNnJCLEVBQUs3ckIsU0FDN0I5RixFQUFPOEYsT0FBUzZyQixFQUFLN3JCLFFBR25CNnJCLEVBQUs5dEIsTUFBNkIsaUJBQWQ4dEIsRUFBSzl0QixPQUMzQjdELEVBQU84RixPQUFTLFFBQ2hCOUYsRUFBTzZELEtBQU84dEIsRUFBSzl0QixNQUtqQjh0QixFQUFLd0UsY0FBNkMsaUJBQXRCeEUsRUFBS3dFLGFBQ25DLElBQUssSUFBSW93QixLQUFjNTBCLEVBQUt3RSxhQUV0QnhqQyxPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1L0IsRUFBS3dFLGFBQWNvd0IsS0FDMUR2bUQsRUFBT3VtRCxHQUFjNTBCLEVBQUt3RSxhQUFhb3dCLElBSzdDLElBQ0kzNEMsRUFEQXlsQixFQUFTLE1BR1QxQixFQUFLcWYsU0FHUGh4QyxFQUFPOEYsT0FBUyxXQUNoQnV0QixFQUFTLE9BQ1R6bEIsRUFBTyxDQUFDb2pDLFFBQVNyZixFQUFLcWYsVUFHZnJmLEVBQUs3TSxXQUVaOWtCLEVBQU84RixPQUFTLFlBQ2hCdXRCLEVBQVMsT0FDVHpsQixFQUFPLENBQUNrWCxTQUFVNk0sRUFBSzdNLFdBR3pCLElBQ0kwaEMsRUFEQUMsRUFBYSxJQUFJbnNDLEdBS2pCcXJDLEVBQVksU0FBVTF4QixFQUFPMUQsR0FDL0IsSUFBSW9CLEVBQUsrMEIsUUFBVCxDQUdBMW1ELEVBQU9pMEIsTUFBUUEsRUFHYSxpQkFBakJqMEIsRUFBT2kwQixRQUNoQmowQixFQUFPaTBCLE1BQVE3ekIsS0FBS00sVUFBVVYsRUFBT2kwQixRQUduQ3RDLEVBQUtzUixXQUNIQyxJQUNGbGpDLEVBQU9rakMsTUFBUWtqQixHQUdqQnBtRCxFQUFPa2pDLE9BQVVBLEdBQVNrakIsRUFBY3BMLEVBQ3RDQSxFQUFZb0wsRUFJaEIsSUFBSTdiLEVBQU1xWSxHQUFTRyxFQUFNLFdBQWFFLEdBQVlqakQsSUFDOUMybUQsRUFBWSxDQUNkQyxPQUFRSCxFQUFXRyxPQUNuQnZ6QixPQUFRQSxFQUNSemxCLEtBQU14TixLQUFLTSxVQUFVa04sSUFFdkI0NEMsRUFBaUJ2eUIsRUFHYnRDLEVBQUsrMEIsU0FLVHhDLElBQVFwNEMsTUFBSyxXQUNYLE9BQU9xNEMsRUFBVTVaLEVBQUtvYyxFQUFXcDJCLE1BQ2hDMEgsTUFBTTFILEtBTVA2QixFQUFVLENBQUNBLFFBQVMsSUFFcEJ5MEIsRUFBVSxTQUFVbnhELEVBQUttckIsR0FDM0IsSUFBSThRLEVBQUsrMEIsUUFBVCxDQUdBLElBQUlJLEVBQXFCLEVBRXpCLEdBQUlqbUMsR0FBT0EsRUFBSXVSLFFBQVMsQ0FDdEIwMEIsRUFBcUJqbUMsRUFBSXVSLFFBQVE1NkIsT0FDakM0NkIsRUFBUTZULFNBQVdwbEIsRUFBSW9sQixTQUN2QixJQUFJM0YsRUFBVSxLQUNWQyxFQUFVLEtBR2EsaUJBQWhCMWYsRUFBSXlmLFVBQ2JBLEVBQVV6ZixFQUFJeWYsU0FFZ0IsaUJBQXJCbE8sRUFBUTZULFVBQXFELGlCQUFyQjdULEVBQVE2VCxXQUN6RDFGLEVBQVVuTyxFQUFRNlQsVUFJUnRVLEVBQUt3RSxhQUNqQnRWLEVBQUl1UixRQUFVdlIsRUFBSXVSLFFBQVF0c0IsUUFBTyxTQUFVeFQsR0FDekM4ekQsSUFDQSxJQUFJMXRELEVBQU1xOUIsR0FBYXBFLEVBQWJvRSxDQUFtQnpqQyxHQVU3QixPQVRJb0csSUFDRWk1QixFQUFLNEUsY0FBZ0I1RSxFQUFLNkUsYUFBZTdFLEVBQUtzSSxRQUNoRGlvQixHQUE4QjV2RCxHQUU1QnEvQixFQUFLd1UsYUFDUC9ULEVBQVFBLFFBQVE3NkIsS0FBS2pGLEdBRXZCcS9CLEVBQUt3QyxTQUFTN2hDLEVBQUdndUMsRUFBU0MsSUFFckI3bkMsVUFFSixHQUFJaEQsRUFLVCxPQUZBaThCLEVBQUsrMEIsU0FBVSxPQUNmLzBCLEVBQUt1TyxTQUFTeHFDLEdBTVptckIsR0FBT0EsRUFBSW9sQixXQUNidWdCLEVBQWlCM2xDLEVBQUlvbEIsVUFHdkIsSUFBSThnQixFQUFZN2pCLEdBQVNrakIsR0FBZSxHQUNyQ3ZsQyxHQUFPaW1DLEVBQXFCOUwsR0FDNUJycEIsRUFBZSxhQUViQSxFQUFLa1IsWUFBZ0JLLEdBQVNrakIsR0FBZSxJQUFRVyxFQUt4RHAxQixFQUFLdU8sU0FBUyxLQUFNOU4sR0FIcEIsS0FBVSxXQUFjdXpCLEVBQVVhLEVBQWdCSyxRQVV0RCxPQUhBbEIsRUFBVWgwQixFQUFLc0MsT0FBUyxFQUFHNHlCLEdBR3BCLENBQ0x4bUIsT0FBUSxXQUNOMU8sRUFBSyswQixTQUFVLEVBQ2ZELEVBQVduZCxXQVFqQmxGLEVBQUlTLFNBQVdvZixFQUFjLFlBQVksU0FBVWp1QixFQUFLckUsRUFBTXBCLEdBRXhDLG1CQUFUb0IsSUFDVHBCLEVBQVdvQixFQUNYQSxFQUFPLElBSVR3eUIsRUFBVXZCLEdBQVNHLEVBQU0sY0FBZSxDQUN0QzF2QixPQUFRLE9BQ1J6bEIsS0FBTXhOLEtBQUtNLFVBQVVzMUIsSUFDcEJ6RixHQUFVMEgsTUFBTTFILE1BR3JCNlQsRUFBSTJELE9BQVMsU0FBVXhYLEdBQ3JCQSxLQUdGNlQsRUFBSTRFLFNBQVcsU0FBVWgyQixFQUFTdWQsR0FDaEM0ekIsRUFBVXZCLEdBQVNHLEVBQU0sSUFBSyxDQUFDMXZCLE9BQVEsV0FBV3ZuQixNQUFLLFNBQVVvcEMsR0FDL0Qza0IsRUFBUyxLQUFNMmtCLE1BQ2RqZCxPQUFNLFNBQVV2aUMsR0FFRSxNQUFmQSxFQUFJZytCLE9BQ05uRCxFQUFTLEtBQU0sQ0FBQ2lCLElBQUksSUFFcEJqQixFQUFTNzZCLE9BZ0JqQixTQUFTc3hELEdBQWdCcHRELEdBQ3ZCekUsS0FBS3UrQixPQUFTLElBQ2R2K0IsS0FBSzNDLEtBQU8sb0JBQ1oyQyxLQUFLeUUsUUFBVUEsRUFDZnpFLEtBQUt1RSxPQUFRLEVBQ2IsSUFDRS9CLE1BQU04b0Isa0JBQWtCdHJCLEtBQU02eEQsSUFDOUIsTUFBT3I2QyxLQUtYLFNBQVNzNkMsR0FBY3J0RCxHQUNyQnpFLEtBQUt1K0IsT0FBUyxJQUNkditCLEtBQUszQyxLQUFPLFlBQ1oyQyxLQUFLeUUsUUFBVUEsRUFDZnpFLEtBQUt1RSxPQUFRLEVBQ2IsSUFDRS9CLE1BQU04b0Isa0JBQWtCdHJCLEtBQU04eEQsSUFDOUIsTUFBT3Q2QyxLQUtYLFNBQVN1NkMsR0FBYXR0RCxHQUNwQnpFLEtBQUt1K0IsT0FBUyxJQUNkditCLEtBQUszQyxLQUFPLGdCQUNaMkMsS0FBS3lFLFFBQVVBLEVBQ2Z6RSxLQUFLdUUsT0FBUSxFQUNiLElBQ0UvQixNQUFNOG9CLGtCQUFrQnRyQixLQUFNK3hELElBQzlCLE1BQU92NkMsS0FLWCxTQUFTdzZDLEdBQWlCLzJCLEVBQVNHLEdBWWpDLE9BWElBLEdBQ0ZILEVBQVF0a0IsTUFBSyxTQUFVK1UsR0FDckIsS0FBVSxXQUNSMFAsRUFBUyxLQUFNMVAsU0FFaEIsU0FBVThULEdBQ1gsS0FBVSxXQUNScEUsRUFBU29FLFNBSVJ2RSxFQTJCVCxTQUFTZzNCLEdBQWN6ckQsRUFBTzByRCxHQUM1QixPQUFPLFdBQ0wsSUFBSTd5RCxFQUFPc0IsVUFDUGUsRUFBTzFCLEtBQ1gsT0FBT3dHLEVBQU0wQyxLQUFJLFdBQ2YsT0FBT2dwRCxFQUFlaHpELE1BQU13QyxFQUFNckMsT0FPeEMsU0FBUzh5RCxHQUFLN3VELEdBQ1osSUFBSTh1RCxFQUFTLElBQUlyNUIsRUFBWXoxQixHQUN6QmljLEVBQVMsSUFBSS9iLE1BQU00dUQsRUFBT3ovQyxNQUMxQnZOLEdBQVMsRUFJYixPQUhBZ3RELEVBQU92bUQsU0FBUSxTQUFVOU4sR0FDdkJ3aEIsSUFBU25hLEdBQVNySCxLQUVid2hCLEVBR1QsU0FBUzh5QyxHQUFlNWdELEdBQ3RCLElBQUk4TixFQUFTLElBQUkvYixNQUFNaU8sRUFBSWtCLE1BQ3ZCdk4sR0FBUyxFQUliLE9BSEFxTSxFQUFJNUYsU0FBUSxTQUFVOU4sRUFBT00sR0FDM0JraEIsSUFBU25hLEdBQVMvRyxLQUVia2hCLEVBR1QsU0FBUyt5QyxHQUFtQmoxRCxHQUkxQixPQUFPLElBQUkwMEQsR0FIRyxXQUFhMTBELEVBQWIsZ0VBTWhCLFNBQVNpdEIsR0FBSTdYLEdBRVgsSUFEQSxJQUFJOE0sRUFBUyxFQUNKemlCLEVBQUksRUFBRzZILEVBQU04TixFQUFPcFEsT0FBUXZGLEVBQUk2SCxFQUFLN0gsSUFBSyxDQUNqRCxJQUFJZ3FCLEVBQU1yVSxFQUFPM1YsR0FDakIsR0FBbUIsaUJBQVJncUIsRUFBa0IsQ0FDM0IsSUFBSXRqQixNQUFNNm1CLFFBQVF2RCxHQWNoQixNQUFNd3JDLEdBQW1CLFFBWnpCL3lDLEVBQTJCLGlCQUFYQSxFQUFzQixDQUFDQSxHQUFVQSxFQUNqRCxJQUFLLElBQUlwUCxFQUFJLEVBQUdvaUQsRUFBT3pyQyxFQUFJemtCLE9BQVE4TixFQUFJb2lELEVBQU1waUQsSUFBSyxDQUNoRCxJQUFJcWlELEVBQU8xckMsRUFBSTNXLEdBQ2YsR0FBb0IsaUJBQVRxaUQsRUFDVCxNQUFNRixHQUFtQixhQUNLLElBQWQveUMsRUFBT3BQLEdBQ3ZCb1AsRUFBT25kLEtBQUtvd0QsR0FFWmp6QyxFQUFPcFAsSUFBTXFpRCxPQU1RLGlCQUFYanpDLEVBQ2hCQSxHQUFVdUgsRUFFVnZILEVBQU8sSUFBTXVILEVBR2pCLE9BQU92SCxFQXJKVHd1QyxHQUFVaGhCLE1BQVEsV0FDaEIsT0FBTyxHQWtCVCxJQUFTOGtCLEdBQWlCcnZELE9BWTFCLElBQVNzdkQsR0FBZXR2RCxPQVl4QixJQUFTdXZELEdBQWN2dkQsT0E2R3ZCLElBQUlzeUIsR0FBTW1KLEVBQWUzL0IsS0FBSyxLQUFNLE9BQ2hDK3JCLEdBQVU3bUIsTUFBTTZtQixRQUNoQit0QixHQUFTbnRDLEtBQUtDLE1BRWxCLFNBQVN1bkQsR0FBcUIzM0IsRUFBTTU0QixHQUNsQyxPQUFPdWdDLEdBQ0wsV0FBYTNILEVBQUs5akIsUUFBUSxRQUFTLElBQU0sS0FDekMsQ0FDRTlVLEtBQU1BLEVBQ05vb0IsSUFBS0EsR0FDTHdLLElBQUtBLEdBQ0x6SyxRQUFTQSxHQUNUK3RCLE9BQVFBLEtBV2QsU0FBU3NhLEtBQ1AxeUQsS0FBS2k3QixRQUFVLElBQUk5NkIsU0FBUSxTQUFVKzZCLEdBQVVBLE9BY2pELFNBQVMzdkIsR0FBVTZnQixHQUNqQixJQUFLQSxFQUNILE1BQU8sWUFJVCxjQUFlQSxHQUNiLElBQUssV0FHTCxJQUFLLFNBRUgsT0FBT0EsRUFBTTlULFdBQ2YsUUFFRSxPQUFPck4sS0FBS00sVUFBVTZnQixJQVU1QixTQUFTdW1DLEdBQVdDLEVBQVU5VyxFQUFVRSxFQUFRNlcsRUFBV0MsRUFBV0MsR0FDcEUsSUFFSUMsRUFGQUMsRUFOTixTQUE2QmpYLEVBQVE2VyxHQUVuQyxPQUFPdG5ELEdBQVV5d0MsR0FBVXp3QyxHQUFVc25ELEdBQWEsWUFJOUJLLENBQW9CbFgsRUFBUTZXLEdBR2hELElBQUtDLElBRUhFLEVBQWNKLEVBQVNPLGFBQWVQLEVBQVNPLGNBQWdCLElBQy9DRixHQUNkLE9BQU9ELEVBQVlDLEdBSXZCLElBQUlHLEVBQWlCUixFQUFTN3ZDLE9BQU9wTSxNQUFLLFNBQVVvTSxHQUVsRCxJQUFJc3dDLEVBQVl0d0MsRUFBSyt2QixRQUFVLFlBQzVCZ2dCLEVBQVksT0FBU3hzQixHQUFVMnNCLElBa0JsQyxPQUFPcndCLEdBQU9nd0IsRUFBVSxVQUFZRyxHQWRwQyxTQUFzQjl4QixHQUNwQkEsRUFBSWdiLE1BQVFoYixFQUFJZ2IsT0FBUyxHQUN6QixJQUFJcVgsRUFBZXhYLEdBQ2dCLElBQS9Cd1gsRUFBYTlpRCxRQUFRLE9BQ3ZCOGlELEVBQWV4WCxFQUFXLElBQU1BLEdBRWxDLElBQUl5WCxFQUFTdHlCLEVBQUlnYixNQUFNcVgsR0FBZ0JyeUIsRUFBSWdiLE1BQU1xWCxJQUFpQixHQUVsRSxJQUFJQyxFQUFPRixHQUlYLE9BREFFLEVBQU9GLElBQWEsRUFDYnB5QixLQUV1RHRxQixNQUFLLFdBQ25FLE9BQU9pOEMsRUFBU3RmLDBCQUEwQitmLEdBQVcxOEMsTUFBSyxTQUFVK1UsR0FDbEUsSUFBSTZRLEVBQUs3USxFQUFJNlEsR0FDYkEsRUFBRytQLGlCQUFrQixFQUNyQixJQUFJNTlCLEVBQU8sQ0FDVHJSLEtBQU1nMkQsRUFDTjkyQixHQUFJQSxFQUNKcTJCLFNBQVVBLEVBQ1ZwbUIsUUFBU29tQixFQUFTcG1CLFFBQ2xCd1AsT0FBUUEsRUFDUjZXLFVBQVdBLEdBRWIsT0FBT25rRCxFQUFLNnRCLEdBQUc1K0IsSUFBSSxrQkFBa0JtbEMsT0FBTSxTQUFVdmlDLEdBRW5ELEdBQW1CLE1BQWZBLEVBQUlnK0IsT0FDTixNQUFNaCtCLEtBRVBvVyxNQUFLLFNBQVU2OEMsR0FPaEIsT0FOQTlrRCxFQUFLbXdCLElBQU0yMEIsRUFBYUEsRUFBVzMwQixJQUFNLEVBQ3JDbTBCLEdBQ0Z0a0QsRUFBSzZ0QixHQUFHdDhCLEtBQUssYUFBYSxrQkFDakIreUQsRUFBWUMsTUFHaEJ2a0QsY0FTZixPQUhJc2tELElBQ0ZBLEVBQVlDLEdBQWlCRyxHQUV4QkEsRUF2R1RWLEdBQVloMEQsVUFBVXdLLElBQU0sU0FBVWdwRCxHQU1wQyxPQUxBbHlELEtBQUtpN0IsUUFBVWo3QixLQUFLaTdCLFFBQVE2SCxPQUFNLGVBRS9CbnNCLE1BQUssV0FDTixPQUFPdTdDLE9BRUZseUQsS0FBS2k3QixTQUVkeTNCLEdBQVloMEQsVUFBVXNtRCxPQUFTLFdBQzdCLE9BQU9obEQsS0FBS2k3QixTQWlHZCxJQUFJdzRCLEdBQW1CLEdBQ25CQyxHQUFnQixJQUFJaEIsR0FHeEIsU0FBU2lCLEdBQWN0MkQsR0FHckIsT0FBOEIsSUFBdkJBLEVBQUttVCxRQUFRLEtBQWMsQ0FBQ25ULEVBQU1BLEdBQVFBLEVBQUt1d0IsTUFBTSxLQVM5RCxTQUFTZ21DLEdBQVVyM0IsRUFBSS9rQixHQUNyQixJQUNFK2tCLEVBQUdyNkIsS0FBSyxRQUFTc1YsR0FDakIsTUFBT2pYLEdBQ1AwOUIsRUFBZSxRQUNiLHFNQUlGQSxFQUFlLFFBQVN6bUIsSUEyNkI1QixJQUFJcThDLEdBQ0ksU0FBVXB1RCxFQUFNZ04sR0FDcEIsT0FBTzZYLEdBQUk3WCxJQUZYb2hELEdBS00sU0FBVXB1RCxFQUFNZ04sR0FDdEIsT0FBT0EsRUFBT3BRLFFBTmR3eEQsR0FTTSxTQUFVcHVELEVBQU1nTixHQVd0QixNQUFPLENBQ0w2WCxJQUFVQSxHQUFJN1gsR0FDZGQsSUFBVXhKLEtBQUt3SixJQUFJelMsTUFBTSxLQUFNdVQsR0FDL0JySyxJQUFVRCxLQUFLQyxJQUFJbEosTUFBTSxLQUFNdVQsR0FDL0IvUCxNQUFVK1AsRUFBT3BRLE9BQ2pCeXhELE9BYkYsU0FBZ0JyaEQsR0FFZCxJQURBLElBQUlzaEQsRUFBVSxFQUNMajNELEVBQUksRUFBRzZILEVBQU04TixFQUFPcFEsT0FBUXZGLEVBQUk2SCxFQUFLN0gsSUFBSyxDQUNqRCxJQUFJZ3FCLEVBQU1yVSxFQUFPM1YsR0FDakJpM0QsR0FBWWp0QyxFQUFNQSxFQUVwQixPQUFPaXRDLEVBT0VELENBQU9yaEQsS0ErQ3RCLElBQ0l1aEQsR0F0OUJKLFNBQWlDakIsRUFBY2tCLEVBQVFDLEVBQVNDLEdBRTlELFNBQVNDLEVBQU83M0IsRUFBSXAxQixFQUFLODVCLEdBR3ZCLElBQ0U5NUIsRUFBSTg1QixHQUNKLE1BQU96cEIsR0FDUG84QyxHQUFVcjNCLEVBQUkva0IsSUFJbEIsU0FBUzY4QyxFQUFVOTNCLEVBQUlwMUIsRUFBSzFCLEVBQU1nTixFQUFRNmhELEdBS3hDLElBQ0UsTUFBTyxDQUFDQyxPQUFTcHRELEVBQUkxQixFQUFNZ04sRUFBUTZoRCxJQUNuQyxNQUFPOThDLEdBRVAsT0FEQW84QyxHQUFVcjNCLEVBQUkva0IsR0FDUCxDQUFDalQsTUFBT2lULElBSW5CLFNBQVNnOUMsRUFBbUJqaEQsRUFBR0ksR0FDN0IsSUFBSThnRCxFQUFhaGQsR0FBUWxrQyxFQUFFbFYsSUFBS3NWLEVBQUV0VixLQUNsQyxPQUFzQixJQUFmbzJELEVBQW1CQSxFQUFhaGQsR0FBUWxrQyxFQUFFeFYsTUFBTzRWLEVBQUU1VixPQUc1RCxTQUFTMjJELEVBQWF6M0IsRUFBUzhRLEVBQU9vRSxHQUVwQyxPQURBQSxFQUFPQSxHQUFRLEVBQ00saUJBQVZwRSxFQUNGOVEsRUFBUXY4QixNQUFNeXhDLEVBQU1wRSxFQUFRb0UsR0FDMUJBLEVBQU8sRUFDVGxWLEVBQVF2OEIsTUFBTXl4QyxHQUVoQmxWLEVBR1QsU0FBUzAzQixFQUFXempCLEdBQ2xCLElBQUl0cUIsRUFBTXNxQixFQUFJbnpDLE1BSWQsT0FEYTZvQixHQUFzQixpQkFBUkEsR0FBb0JBLEVBQUlzYyxLQUFRZ08sRUFBSXBwQyxHQWlCakUsU0FBUzhzRCxFQUF1QnA0QixHQUM5QixPQUFPLFNBQVU5USxHQUlmLE9BSEk4USxFQUFLNEUsY0FBZ0I1RSxFQUFLNkUsYUFBZTdFLEVBQUtzSSxRQWZ0RCxTQUF1Q3BaLEdBQ3JDQSxFQUFJZ3VCLEtBQUs3dEMsU0FBUSxTQUFVcWxDLEdBQ3pCLElBQUlpQyxFQUFPakMsRUFBSWpRLEtBQU9pUSxFQUFJalEsSUFBSU0sYUFDekI0UixHQUdMMzFDLE9BQU9pSSxLQUFLMHRDLEdBQU10bkMsU0FBUSxTQUFVcTVDLEdBQ2xDLElBQUk1akIsRUFBTTZSLEVBQUsrUixHQUNmL1IsRUFBSytSLEdBQVV4OEIsS0FBTzRiLEdBQWFoRCxFQUFJNVksS0FBTTRZLEVBQUk4TixvQkFRakQyZCxDQUE4QnJoQyxHQUV6QkEsR0FJWCxTQUFTbXBDLEVBQWFDLEVBQVd0NEIsRUFBTTN4QixFQUFRa3FELEdBRTdDLElBQUludUMsRUFBTTRWLEVBQUtzNEIsUUFDSSxJQUFSbHVDLElBQ0xtdUMsSUFDRm51QyxFQUFNUixtQkFBbUJuYixLQUFLTSxVQUFVcWIsS0FFMUMvYixFQUFPekksS0FBSzB5RCxFQUFZLElBQU1sdUMsSUFJbEMsU0FBU291QyxFQUFjQyxHQUNyQixRQUFnQyxJQUFyQkEsRUFBa0MsQ0FDM0MsSUFBSUMsRUFBV3QxRCxPQUFPcTFELEdBRXRCLE9BQUtwMUQsTUFBTXExRCxJQUFhQSxJQUFhOTRDLFNBQVM2NEMsRUFBa0IsSUFHdkRBLEVBRkFDLEdBMkJiLFNBQVNDLEVBQXFCdDNDLEVBQVMxVyxHQUNyQyxJQUFJaXVELEVBQWV2M0MsRUFBUWl3QixXQUFhLFNBQVcsV0FDL0N1bkIsRUFBYXgzQyxFQUFRaXdCLFdBQWEsV0FBYSxTQUVuRCxRQUFxQyxJQUExQmp3QixFQUFRdTNDLFNBQ2MsSUFBeEJ2M0MsRUFBUXczQyxJQUNmNWQsR0FBUTU1QixFQUFRdTNDLEdBQWV2M0MsRUFBUXczQyxJQUFlLEVBQ3RELE1BQU0sSUFBSXhELEdBQWdCLG1HQUVyQixHQUFJMXFELEVBQUk0aEIsU0FBNkIsSUFBbkJsTCxFQUFRa0wsT0FBa0IsQ0FDakQsR0FBSWxMLEVBQVF1akIsYUFDVixNQUFNLElBQUl5d0IsR0FBZ0IsNkNBQ3JCLEdBQUloMEMsRUFBUXBZLE1BQVFvWSxFQUFRcFksS0FBS3BELE9BQVMsSUFDOUN3YixFQUFRdEwsUUFBVXNMLEVBQVF5M0MsWUFDM0IsTUFBTSxJQUFJekQsR0FBZ0IsNkRBSTlCLENBQUMsY0FBZSxRQUFTLFFBQVFobUQsU0FBUSxTQUFVMHBELEdBQ2pELElBQUloeEQsRUFoQ1IsU0FBOEJ5cEIsR0FDNUIsR0FBSUEsRUFBUSxDQUNWLEdBQXNCLGlCQUFYQSxFQUNULE9BQVEsSUFBSTZqQyxHQUFnQiwrQkFDMUI3akMsRUFBUyxLQUViLEdBQUlBLEVBQVMsRUFDWCxPQUFPLElBQUk2akMsR0FBZ0Isd0NBQ25CN2pDLEVBQVMsTUF3QlB3bkMsQ0FBcUIzM0MsRUFBUTAzQyxJQUN6QyxHQUFJaHhELEVBQ0YsTUFBTUEsS0ErSVosU0FBU2t4RCxFQUFXMTNELEdBQ2xCLE9BQU8sU0FBVXloQyxHQUVmLEdBQXNCLE1BQWxCQSxFQUFPakIsT0FDVCxPQUFPeGdDLEVBRVAsTUFBTXloQyxHQVFaLFNBQVNrMkIsRUFBaUJwNEIsRUFBTzV1QixFQUFNaW5ELEdBQ3JDLElBQUlDLEVBQVksY0FBZ0J0NEIsRUFDNUJ1NEIsRUFBaUIsQ0FBQzN5QixJQUFLMHlCLEVBQVdud0QsS0FBTSxJQUN4Q3F3RCxFQUFVSCxFQUF3Qmg0RCxJQUFJMi9CLEdBQ3RDeTRCLEVBQTJCRCxFQUFRLEdBK0R2QyxPQW5aSixTQUFrQmwzQixHQUdoQixPQUEwQixJQUFuQkEsRUFBUXY4QixRQUFnQixNQUFNMkUsS0FBSzQzQixFQUFRLEdBQUdqQixLQXFWN0NxNEIsQ0FIUUYsRUFBUSxJQU1YMzFELFFBQVFDLFFBQVF5MUQsR0FFbEJubkQsRUFBSzZ0QixHQUFHNStCLElBQUlpNEQsR0FBVzl5QixNQUFNMnlCLEVBQVdJLEtBc0Q3QmwvQyxNQUFLLFNBQVVpc0MsR0FDakMsT0FwREYsU0FBeUJBLEdBQ3ZCLE9BQUtBLEVBQVFuOUMsS0FBS3BELE9BSVhxTSxFQUFLNnRCLEdBQUcyVixRQUFRLENBQ3JCenNDLEtBQU1tOUMsRUFBUW45QyxLQUNkMjdCLGNBQWMsSUFKUGpoQyxRQUFRQyxRQUFRLENBQUNzNUMsS0FBTSxLQWlEekJ1YyxDQUFnQnJULEdBQVNqc0MsTUFBSyxTQUFVdS9DLEdBQzdDLE9BMUNKLFNBQTZCdFQsRUFBU3NULEdBSXBDLElBSEEsSUFBSUMsRUFBUyxHQUNUQyxFQUFVLElBQUlyOUIsRUFFVGo4QixFQUFJLEVBQUc2SCxFQUFNdXhELEVBQVV4YyxLQUFLcjNDLE9BQVF2RixFQUFJNkgsRUFBSzdILElBQUssQ0FDekQsSUFDSW1rQyxFQURNaTFCLEVBQVV4YyxLQUFLNThDLEdBQ1hta0MsSUFDZCxHQUFLQSxJQUdMazFCLEVBQU8vekQsS0FBSzYrQixHQUNabTFCLEVBQVFsdEQsSUFBSSszQixFQUFJaUMsS0FDaEJqQyxFQUFJcU4sVUFBWXluQixFQUF5QnpqRCxJQUFJMnVCLEVBQUlpQyxNQUM1Q2pDLEVBQUlxTixVQUFVLENBQ2pCLElBQUkrbkIsRUFBV04sRUFBeUJwNEQsSUFBSXNqQyxFQUFJaUMsS0FDNUMsVUFBV216QixJQUNicDFCLEVBQUlsakMsTUFBUXM0RCxFQUFTdDRELFFBSTNCLElBQUl1NEQsRUFBVWpFLEdBQWUwRCxHQWlCN0IsT0FoQkFPLEVBQVF6cUQsU0FBUSxTQUFVeE4sR0FDeEIsSUFBSyszRCxFQUFROWpELElBQUlqVSxHQUFNLENBRXJCLElBQUlrNEQsRUFBUSxDQUNWcnpCLElBQUs3a0MsR0FFSGc0RCxFQUFXTixFQUF5QnA0RCxJQUFJVSxHQUN4QyxVQUFXZzRELElBQ2JFLEVBQU14NEQsTUFBUXM0RCxFQUFTdDRELE9BRXpCbzRELEVBQU8vekQsS0FBS20wRCxPQUdoQjNULEVBQVFuOUMsS0FBTzBzRCxHQUFLbUUsRUFBUTUyRCxPQUFPa2pELEVBQVFuOUMsT0FDM0Mwd0QsRUFBTy96RCxLQUFLd2dELEdBRUx1VCxFQUtFSyxDQUFvQjVULEVBQVNzVCxTQXlCMUMsU0FBU08sRUFBUy9uRCxHQUNoQixJQUFJb3RDLEVBQTJCLGlCQUFUcHRDLEVBQW9CQSxFQUFPQSxFQUFLclIsS0FDbERtSixFQUFRaXRELEdBQWlCM1gsR0FJN0IsT0FIS3QxQyxJQUNIQSxFQUFRaXRELEdBQWlCM1gsR0FBWSxJQUFJNFcsSUFFcENsc0QsRUFHVCxTQUFTa3dELEVBQVdob0QsRUFBTTh0QixHQUN4QixPQUFPeTFCLEdBQWN3RSxFQUFTL25ELElBQU8sV0FDbkMsT0FJSixTQUEyQkEsRUFBTTh0QixHQUUvQixJQUFJbTZCLEVBQ0ExMUIsRUFZSixJQUFJK2EsRUFBU2lZLEVBQU92bEQsRUFBS3N0QyxRQVZ6QixTQUFjMzlDLEVBQUtOLEdBQ2pCLElBQUl3MkQsRUFBUyxDQUFDenNELEdBQUltNUIsRUFBSWlDLElBQUs3a0MsSUFBS3E1QyxHQUFhcjVDLElBR3pDLE1BQU9OLElBQ1R3MkQsRUFBT3gyRCxNQUFRMjVDLEdBQWEzNUMsSUFFOUI0NEQsRUFBV3YwRCxLQUFLbXlELE1BS2RxQyxFQUFhbG9ELEVBQUttd0IsS0FBTyxFQUU3QixTQUFTMk0sRUFBY21xQixFQUF5QjkyQixHQUM5QyxPQUFPLFdBQ0wsT0F0RE4sU0FBdUJud0IsRUFBTWluRCxFQUF5QjkyQixHQUVwRCxPQUFPbndCLEVBQUs2dEIsR0FBRzUrQixJQURBLGtCQUVabWxDLE1BQU0yeUIsRUFBVyxDQUFDdnlCLElBRk4saUJBRXFCckUsSUFBSyxLQUN0Q2xvQixNQUFLLFNBQVU2OEMsR0FDZCxJQUFJdEwsRUFBU21LLEdBQWVzRCxHQUM1QixPQUFPeDFELFFBQVFneEMsSUFBSStXLEVBQU96MkMsS0FBSSxTQUFVNnJCLEdBQ3RDLE9BQU9vNEIsRUFBaUJwNEIsRUFBTzV1QixFQUFNaW5ELE9BQ25DaC9DLE1BQUssU0FBVWtnRCxHQUNqQixJQUFJQyxFQUFnQnIxQixHQUFRbzFCLEdBSTVCLE9BSEFyRCxFQUFXMzBCLElBQU1BLEVBQ2pCaTRCLEVBQWMxMEQsS0FBS294RCxHQUVaOWtELEVBQUs2dEIsR0FBRzZSLFNBQVMsQ0FBQzFSLEtBQU9vNkIsVUF5QzNCQyxDQUFjcm9ELEVBQU1pbkQsRUFBeUI5MkIsSUFJeEQsSUFBSW00QixFQUFlLEVBQ2ZDLEVBQVcsQ0FDYnZvRCxLQUFNQSxFQUFLclIsS0FDWDI1RCxhQUFjQSxHQUVoQnRvRCxFQUFLa2tELFNBQVMxd0QsS0FBSyxXQUFZKzBELEdBRS9CLElBQUl6d0QsRUFBUSxJQUFJa3NELEdBRWhCLFNBQVN3RSxJQUNQLE9BQU94b0QsRUFBS2trRCxTQUFTaDBCLFFBQVEsQ0FDM0JvUyxhQUFhLEVBQ2IvSSxXQUFXLEVBQ1g3RyxjQUFjLEVBQ2QvM0IsTUFBTyxXQUNQeTFCLE1BQU84M0IsRUFDUDdvQixNQUFPdlIsRUFBSzI2QixxQkFDWHhnRCxLQUFLa25CLEdBR1YsU0FBU0EsRUFBYWpuQixHQUNwQixJQUFJcW1CLEVBQVVybUIsRUFBU3FtQixRQUN2QixJQUFLQSxFQUFRNTZCLE9BQ1gsT0FFRixJQUFJc3pELEVBa0JOLFNBQXVDMTRCLEdBRXJDLElBREEsSUFBSTA0QixFQUEwQixJQUFJMzhCLEVBQ3pCbDhCLEVBQUksRUFBRzZILEVBQU1zNEIsRUFBUTU2QixPQUFRdkYsRUFBSTZILEVBQUs3SCxJQUFLLENBQ2xELElBQUlra0IsRUFBU2ljLEVBQVFuZ0MsR0FDckIsR0FBMEIsTUFBdEJra0IsRUFBT2lnQixJQUFJaUMsSUFBSSxHQUFZLENBQzdCeXpCLEVBQWEsSUFDYjExQixFQUFNamdCLEVBQU9pZ0IsS0FFSnFOLFVBQ1A4bEIsRUFBTzFsRCxFQUFLa2tELFNBQVU1VyxFQUFRL2EsR0FFaEMwMUIsRUFBV3ZrQyxLQUFLb2lDLEdBRWhCLElBQUl1QixFQUEyQnFCLEVBQStCVCxHQUM5RGhCLEVBQXdCMXhELElBQUkrYyxFQUFPaWdCLElBQUlpQyxJQUFLLENBQzFDNnlCLEVBQ0EvMEMsRUFBTzRkLFVBR1hnNEIsRUFBYTUxQyxFQUFPNmQsSUFFdEIsT0FBTzgyQixFQXZDdUIwQixDQUE4QnA2QixHQUM1RHoyQixFQUFNMEMsSUFBSXNpQyxFQUFjbXFCLEVBQXlCaUIsSUFFakRJLEdBQThCLzVCLEVBQVE1NkIsT0FDdEMsSUFBSTQwRCxFQUFXLENBQ2J2b0QsS0FBTUEsRUFBS3JSLEtBQ1h5ekMsU0FBVWw2QixFQUFTazZCLFNBQ25Cd21CLGNBQWVyNkIsRUFBUTU2QixPQUN2QjIwRCxhQUFjQSxHQUloQixPQUZBdG9ELEVBQUtra0QsU0FBUzF3RCxLQUFLLFdBQVkrMEQsR0FFM0JoNkIsRUFBUTU2QixPQUFTbTZCLEVBQUsyNkIsd0JBQTFCLEVBR09ELElBMkJULFNBQVNFLEVBQStCVCxHQUd0QyxJQUZBLElBQ0luUSxFQURBdVAsRUFBMkIsSUFBSS84QixFQUUxQmw4QixFQUFJLEVBQUc2SCxFQUFNZ3lELEVBQVd0MEQsT0FBUXZGLEVBQUk2SCxFQUFLN0gsSUFBSyxDQUNyRCxJQUFJeTZELEVBQWtCWixFQUFXNzVELEdBQzdCMDZELEVBQWEsQ0FBQ0QsRUFBZ0JsNUQsSUFBS2s1RCxFQUFnQnp2RCxJQUNuRGhMLEVBQUksR0FBK0MsSUFBMUMyNkMsR0FBUThmLEVBQWdCbDVELElBQUttb0QsSUFDeENnUixFQUFXcDFELEtBQUt0RixHQUVsQmk1RCxFQUF5Qjl4RCxJQUFJazFDLEdBQWtCcWUsR0FBYUQsR0FDNUQvUSxFQUFVK1EsRUFBZ0JsNUQsSUFFNUIsT0FBTzAzRCxFQUdULE9BQU9tQixJQUFtQnZnRCxNQUFLLFdBQzdCLE9BQU9uUSxFQUFNdytDLFlBQ1pydUMsTUFBSyxXQUNOakksRUFBS213QixJQUFNKzNCLEtBbEhKYSxDQUFrQi9vRCxFQUFNOHRCLEtBRDFCeTFCLEdBeUtULFNBQVN5RixFQUFVaHBELEVBQU04dEIsR0FDdkIsT0FBT3kxQixHQUFjd0UsRUFBUy9uRCxJQUFPLFdBQ25DLE9BSUosU0FBMEJBLEVBQU04dEIsR0FDOUIsSUFBSW03QixFQUNBQyxFQUFlbHBELEVBQUtta0QsWUFBNkIsSUFBaEJyMkIsRUFBS3pULE9BQ3RDb3BCLEVBQU8zVixFQUFLMlYsTUFBUSxPQUNDLElBQWQzVixFQUFLLzJCLE1BQXlCKzJCLEVBQUsvMkIsS0FBS3BELFNBRWpEbTZCLEVBQUt1UixNQUFRLFNBQ052UixFQUFLLzJCLE1BR2QsU0FBU295RCxFQUFjQyxHQUVyQixPQURBQSxFQUFTMTJCLGNBQWUsRUFDakIxeUIsRUFBSzZ0QixHQUFHMlYsUUFBUTRsQixHQUFVbmhELE1BQUssU0FBVStVLEdBRTlDLE9BREFpc0MsRUFBWWpzQyxFQUFJbThCLFdBQ1RuOEIsRUFBSWd1QixLQUFLam9DLEtBQUksU0FBVThOLEdBTTVCLEdBQUksVUFBV0EsRUFBTzBoQixLQUFtQyxpQkFBckIxaEIsRUFBTzBoQixJQUFJbGpDLE9BQ3hCLE9BQXJCd2hCLEVBQU8waEIsSUFBSWxqQyxNQUFnQixDQUMzQixJQUFJMEgsRUFBT2pJLE9BQU9pSSxLQUFLOFosRUFBTzBoQixJQUFJbGpDLE9BQU9xMEIsT0FHckMybEMsRUFBZSxDQUFDLEtBQU0sTUFBTyxTQUNqQyxLQUFNdHlELEVBQU9zeUQsR0FBZ0J0eUQsRUFBT3N5RCxHQUNsQyxPQUFPeDRDLEVBQU8waEIsSUFBSWxqQyxNQUl0QixJQUFJaTZELEVBeGdLZCxTQUE4Qjl4QyxHQU01QixJQUxBLElBQUl3RSxFQUFRLEdBQ1I4RCxFQUFZLEdBQ1oxeEIsRUFBSSxJQUdLLENBQ1gsSUFBSWl5QixFQUFpQjdJLEVBQUlwcEIsS0FDekIsR0FBdUIsT0FBbkJpeUIsRUFRSixPQUFRQSxHQUNOLElBQUssSUFDSHJFLEVBQU10b0IsS0FBSyxNQUNYLE1BQ0YsSUFBSyxJQUNIc29CLEVBQU10b0IsS0FBZ0IsTUFBWDhqQixFQUFJcHBCLElBQ2ZBLElBQ0EsTUFDRixJQUFLLElBQ0gsSUFBSWt5QixFQUFZcXFCLEdBQVluekIsRUFBS3BwQixHQUNqQzR0QixFQUFNdG9CLEtBQUs0c0IsRUFBVWxJLEtBQ3JCaHFCLEdBQUtreUIsRUFBVTNzQixPQUNmLE1BQ0YsSUFBSyxJQUdILElBRkEsSUFBSTQxRCxFQUFZLEtBRUgsQ0FDWCxJQUFJNW9DLEVBQUtuSixFQUFJcHBCLEdBQ2IsR0FBVyxPQUFQdXlCLEVBQ0YsTUFFRjRvQyxHQUFhNW9DLEVBQ2J2eUIsSUFLRm03RCxFQUFZQSxFQUFVamhELFFBQVEsZ0JBQWlCLE1BQzVDQSxRQUFRLGdCQUFpQixLQUN6QkEsUUFBUSxnQkFBaUIsS0FFNUIwVCxFQUFNdG9CLEtBQUs2MUQsR0FDWCxNQUNGLElBQUssSUFDSCxJQUFJM29DLEVBQWUsQ0FBRTdqQixRQUFTLEdBQUlyRyxNQUFPc2xCLEVBQU1yb0IsUUFDL0Nxb0IsRUFBTXRvQixLQUFLa3RCLEVBQWE3akIsU0FDeEIraUIsRUFBVXBzQixLQUFLa3RCLEdBQ2YsTUFDRixJQUFLLElBQ0gsSUFBSUMsRUFBYSxDQUFFOWpCLFFBQVMsR0FBSXJHLE1BQU9zbEIsRUFBTXJvQixRQUM3Q3FvQixFQUFNdG9CLEtBQUttdEIsRUFBVzlqQixTQUN0QitpQixFQUFVcHNCLEtBQUttdEIsR0FDZixNQUVGLFFBQ0UsTUFBTSxJQUFJL3NCLE1BQ1IsNERBQ0V1c0IsT0F2RFIsQ0FDRSxHQUFxQixJQUFqQnJFLEVBQU1yb0IsT0FDUixPQUFPcW9CLEVBQU1ybEIsTUFFYkEsR0FBSXFsQixFQUFPOEQsS0E0L0plMHBDLENBQXFCMzRDLEVBQU8waEIsSUFBSWlDLEtBQ3hELE1BQU8sQ0FDTDdrQyxJQUFLMjVELEVBQWtCLEdBQ3ZCbHdELEdBQUlrd0QsRUFBa0IsR0FDdEJqNkQsTUFBUSxVQUFXd2hCLEVBQU8waEIsSUFBTTFoQixFQUFPMGhCLElBQUlsakMsTUFBUSxZQU0zRCxTQUFTbzZELEVBQWtCemUsR0FDekIsSUFBSTBlLEVBcUJKLEdBbkJFQSxFQURFUixFQW5HUixTQUFvQmxwRCxFQUFNdXVCLEVBQVNwZixHQUNMLElBQXhCQSxFQUFReTNDLG9CQUNIejNDLEVBQVF5M0MsWUFHakIsSUFBSStDLEVBQWN4NkMsRUFBUXRMLE9BQVNzTCxFQUFReTNDLFlBRXZDekMsRUFBWXFCLEVBQVF4bEQsRUFBS21rRCxXQUV6QnJnRCxFQUFTLEdBQ1Q4bEQsRUFBTXo0RCxNQUFNZ2UsRUFBUXkzQyxhQUFlMTFELE9BQU8yNEQsa0JBQzVDMTZDLEVBQVF5M0MsWUFDVnI0QixFQUFRcHhCLFNBQVEsU0FBVTJMLEdBQ3hCLElBQUlnaEQsRUFBT2htRCxFQUFPQSxFQUFPblEsT0FBUyxHQUM5Qm8yRCxFQUFXSixFQUFjN2dELEVBQUVuWixJQUFNLEtBT3JDLEdBSklnNkQsR0FBZTcwRCxNQUFNNm1CLFFBQVFvdUMsS0FDL0JBLEVBQVdBLEVBQVMvM0QsTUFBTSxFQUFHNDNELElBRzNCRSxHQUE2QyxJQUFyQy9nQixHQUFRK2dCLEVBQUtDLFNBQVVBLEdBR2pDLE9BRkFELEVBQUsveUQsS0FBS3JELEtBQUssQ0FBQ29WLEVBQUVuWixJQUFLbVosRUFBRTFQLFVBQ3pCMHdELEVBQUsvbEQsT0FBT3JRLEtBQUtvVixFQUFFelosT0FHckJ5VSxFQUFPcFEsS0FBSyxDQUNWcUQsS0FBTSxDQUFDLENBQUMrUixFQUFFblosSUFBS21aLEVBQUUxUCxLQUNqQjJLLE9BQVEsQ0FBQytFLEVBQUV6WixPQUNYMDZELFNBQVVBLE9BR2R4N0IsRUFBVSxHQUNWLElBQUssSUFBSW5nQyxFQUFJLEVBQUc2SCxFQUFNNk4sRUFBT25RLE9BQVF2RixFQUFJNkgsRUFBSzdILElBQUssQ0FDakQsSUFBSTBhLEVBQUloRixFQUFPMVYsR0FDWDQ3RCxFQUFZckUsRUFBVTNsRCxFQUFLa2tELFNBQVVDLEVBQVdyN0MsRUFBRS9SLEtBQU0rUixFQUFFL0UsUUFBUSxHQUN0RSxHQUFJaW1ELEVBQVVuMEQsT0FBU20wRCxFQUFVbjBELGlCQUFpQnd0RCxHQUVoRCxNQUFNMkcsRUFBVW4wRCxNQUVsQjA0QixFQUFRNzZCLEtBQUssQ0FFWHJFLE1BQU8yNkQsRUFBVW4wRCxNQUFRLEtBQU9tMEQsRUFBVW5FLE9BQzFDbDJELElBQUttWixFQUFFaWhELFdBSVgsTUFBTyxDQUFDL2UsS0FBTWdiLEVBQWF6M0IsRUFBU3BmLEVBQVFrd0IsTUFBT2x3QixFQUFRczBCLE9BcUR4Q3dtQixDQUFXanFELEVBQU1nckMsRUFBTWxkLFFBQ1IsSUFBZEEsRUFBSy8yQixLQUNOLENBQ2JvaUQsV0FBWThQLEVBQ1o5OUMsT0FBUXM0QixFQUNSdUgsS0FBTUEsR0FJTyxDQUNibU8sV0FBWThQLEVBQ1o5OUMsT0FBUXM0QixFQUNSdUgsS0FBTWdiLEVBQWFoYixFQUFLbGQsRUFBS3VSLE1BQU12UixFQUFLMlYsT0FJeEMzVixFQUFLMFIsYUFDUGtxQixFQUFhbHFCLFdBQWF4L0IsRUFBS213QixLQUU3QnJDLEVBQUs0RSxhQUFjLENBQ3JCLElBQUk4bUIsRUFBU2lLLEdBQUt6WSxFQUFLam9DLElBQUlrakQsSUFFM0IsT0FBT2ptRCxFQUFLa2tELFNBQVMxZ0IsUUFBUSxDQUMzQnpzQyxLQUFNeWlELEVBQ045bUIsY0FBYyxFQUNkNkcsVUFBV3pMLEVBQUt5TCxVQUNoQjVHLFlBQWE3RSxFQUFLNkUsWUFDbEJ5RCxPQUFRdEksRUFBS3NJLFNBQ1pudUIsTUFBSyxTQUFVaWlELEdBQ2hCLElBQUlDLEVBQWUsSUFBSTcvQixFQVd2QixPQVZBNC9CLEVBQVdsZixLQUFLN3RDLFNBQVEsU0FBVXFsQyxHQUNoQzJuQixFQUFhNTBELElBQUlpdEMsRUFBSXBwQyxHQUFJb3BDLEVBQUlqUSxRQUUvQnlZLEVBQUs3dEMsU0FBUSxTQUFVcWxDLEdBQ3JCLElBQUk1VCxFQUFRcTNCLEVBQVd6akIsR0FDbkJqUSxFQUFNNDNCLEVBQWFsN0QsSUFBSTIvQixHQUN2QjJELElBQ0ZpUSxFQUFJalEsSUFBTUEsTUFHUG0zQixLQUdULE9BQU9BLEVBSVgsUUFBeUIsSUFBZDU3QixFQUFLLzJCLEtBQXNCLENBQ3BDLElBQ0lxekQsRUFET3Q4QixFQUFLLzJCLEtBQ1NnTSxLQUFJLFNBQVVwVCxHQUNyQyxJQUFJeTVELEVBQVcsQ0FDYnpsQixTQUFXOEcsR0FBa0IsQ0FBQzk2QyxJQUM5QmswQyxPQUFXNEcsR0FBa0IsQ0FBQzk2QyxFQUFLLE1BTXJDLE9BSEltK0IsRUFBSzBSLGFBQ1A0cEIsRUFBUzVwQixZQUFhLEdBRWpCMnBCLEVBQWNDLE1BRXZCLE9BQU8zM0QsUUFBUWd4QyxJQUFJMm5CLEdBQWVuaUQsS0FBSzhxQixJQUFTOXFCLEtBQUt3aEQsR0FFckQsSUFPSTlsQixFQUNBRSxFQVJBdWxCLEVBQVcsQ0FDYmhxQixXQUFhdFIsRUFBS3NSLFlBeUJwQixHQXRCSXRSLEVBQUswUixhQUNQNHBCLEVBQVM1cEIsWUFBYSxHQUlwQixjQUFlMVIsSUFDakI2VixFQUFXN1YsRUFBSzRWLFdBRWQsYUFBYzVWLElBQ2hCNlYsRUFBVzdWLEVBQUs2VixVQUVkLFlBQWE3VixJQUNmK1YsRUFBUy9WLEVBQUs4VixTQUVaLFdBQVk5VixJQUNkK1YsRUFBUy9WLEVBQUsrVixhQUVRLElBQWJGLElBQ1R5bEIsRUFBU3psQixTQUFXN1YsRUFBS3NSLFdBQ3ZCcUwsR0FBa0IsQ0FBQzlHLEVBQVUsS0FDN0I4RyxHQUFrQixDQUFDOUcsVUFFRCxJQUFYRSxFQUF3QixDQUNqQyxJQUFJd1UsR0FBc0MsSUFBdkJ2cUIsRUFBS3dxQixjQUNwQnhxQixFQUFLc1IsYUFDUGlaLEdBQWdCQSxHQUdsQitRLEVBQVN2bEIsT0FBUzRHLEdBQ2hCNE4sRUFBZSxDQUFDeFUsRUFBUSxJQUFNLENBQUNBLElBRW5DLFFBQXdCLElBQWIvVixFQUFLbitCLElBQXFCLENBQ25DLElBQUkwNkQsRUFBVzVmLEdBQWtCLENBQUMzYyxFQUFLbitCLE1BQ25DMjZELEVBQVM3ZixHQUFrQixDQUFDM2MsRUFBS24rQixJQUFLLEtBQ3RDeTVELEVBQVNocUIsWUFDWGdxQixFQUFTdmxCLE9BQVN3bUIsRUFDbEJqQixFQUFTemxCLFNBQVcybUIsSUFFcEJsQixFQUFTemxCLFNBQVcwbUIsRUFDcEJqQixFQUFTdmxCLE9BQVN5bUIsR0FTdEIsT0FOS3BCLElBQ3VCLGlCQUFmcDdCLEVBQUt1UixRQUNkK3BCLEVBQVMvcEIsTUFBUXZSLEVBQUt1UixPQUV4QitwQixFQUFTM2xCLEtBQU9BLEdBRVgwbEIsRUFBY0MsR0FBVW5oRCxLQUFLd2hELEdBbEs3QmMsQ0FBaUJ2cUQsRUFBTTh0QixLQUR6QnkxQixHQXNPVCxTQUFTaUgsRUFBYzM4QixFQUFJcDFCLEVBQUtxMUIsR0FFOUIsR0FBeUIsbUJBQWRELEVBQUc0OEIsT0FDWixPQWxpQkosU0FBcUI1OEIsRUFBSXAxQixFQUFLcTFCLEdBQzVCLE9BQU8sSUFBSXI4QixTQUFRLFNBQVVDLEVBQVNDLEdBQ3BDazhCLEVBQUc0OEIsT0FBT2h5RCxFQUFLcTFCLEdBQU0sU0FBVWo4QixFQUFLbXJCLEdBQ2xDLEdBQUluckIsRUFDRixPQUFPRixFQUFPRSxHQUVoQkgsRUFBUXNyQixTQTRoQkgwdEMsQ0FBWTc4QixFQUFJcDFCLEVBQUtxMUIsR0FFOUIsR0FBSW9GLEdBQVNyRixHQUNYLE9BdHBCSixTQUFtQkEsRUFBSXAxQixFQUFLcTFCLEdBRTFCLElBQ0kvakIsRUFFQTRqQixFQUFJa0MsRUFISjF6QixFQUFTLEdBRVRxekIsRUFBUyxNQStCYixHQXhCQTIyQixFQUFhLFNBQVVyNEIsRUFBTTN4QixHQUM3QmdxRCxFQUFhLGVBQWdCcjRCLEVBQU0zeEIsR0FDbkNncUQsRUFBYSxjQUFlcjRCLEVBQU0zeEIsR0FDbENncUQsRUFBYSxRQUFTcjRCLEVBQU0zeEIsR0FDNUJncUQsRUFBYSxhQUFjcjRCLEVBQU0zeEIsR0FDakNncUQsRUFBYSxRQUFTcjRCLEVBQU0zeEIsR0FDNUJncUQsRUFBYSxjQUFlcjRCLEVBQU0zeEIsR0FDbENncUQsRUFBYSxPQUFRcjRCLEVBQU0zeEIsR0FDM0JncUQsRUFBYSxRQUFTcjRCLEVBQU0zeEIsR0FDNUJncUQsRUFBYSxZQUFhcjRCLEVBQU0zeEIsR0FDaENncUQsRUFBYSxXQUFZcjRCLEVBQU0zeEIsR0FBUSxHQUN2Q2dxRCxFQUFhLFlBQWFyNEIsRUFBTTN4QixHQUFRLEdBQ3hDZ3FELEVBQWEsU0FBVXI0QixFQUFNM3hCLEdBQVEsR0FDckNncUQsRUFBYSxVQUFXcjRCLEVBQU0zeEIsR0FBUSxHQUN0Q2dxRCxFQUFhLGdCQUFpQnI0QixFQUFNM3hCLEdBQ3BDZ3FELEVBQWEsTUFBT3I0QixFQUFNM3hCLEdBQVEsR0FDbENncUQsRUFBYSxhQUFjcjRCLEVBQU0zeEIsR0FJakNBLEVBQW9CLE1BRHBCQSxFQUFTQSxFQUFPNFYsS0FBSyxNQUNJLEdBQUssSUFBTTVWLE9BSVgsSUFBZDJ4QixFQUFLLzJCLEtBQXNCLENBQ3BDLElBSUk0ekQsRUFDRixRQUFVanpDLG1CQUFtQm5iLEtBQUtNLFVBQVVpeEIsRUFBSy8yQixPQUMvQzR6RCxFQUFhaDNELE9BQVN3SSxFQUFPeEksT0FBUyxHQU5yQixJQVNuQndJLElBQXlCLE1BQWRBLEVBQU8sR0FBYSxJQUFNLEtBQU93dUQsR0FFNUNuN0IsRUFBUyxPQUNVLGlCQUFSLzJCLEVBQ1RzUixFQUFPLENBQUNoVCxLQUFNKzJCLEVBQUsvMkIsTUFFbkIwQixFQUFJMUIsS0FBTysyQixFQUFLLzJCLE1BTXRCLEdBQW1CLGlCQUFSMEIsRUFBa0IsQ0FDM0IsSUFBSXdtQixFQUFRZ21DLEdBQWN4c0QsR0FDMUIsT0FBT28xQixFQUFHOFgsTUFBTSxXQUFhMW1CLEVBQU0sR0FBSyxVQUFZQSxFQUFNLEdBQUs5aUIsRUFBUSxDQUNyRXNqRCxRQUFTLElBQUk3WixHQUFFLENBQUMsZUFBZ0IscUJBQ2hDcFcsT0FBUUEsRUFDUnpsQixLQUFNeE4sS0FBS00sVUFBVWtOLEtBQ3BCOUIsTUFBSyxTQUFVQyxHQUdoQixPQUZBeWxCLEVBQUt6bEIsRUFBU3lsQixHQUNka0MsRUFBUzNuQixFQUFTMm5CLE9BQ1gzbkIsRUFBU21wQyxVQUNmcHBDLE1BQUssU0FBVTRJLEdBQ2hCLElBQUs4YyxFQUVILE1BREE5YyxFQUFPZ2YsT0FBU0EsRUFDVm9DLEdBQTBCcGhCLEdBU2xDLE9BTkFBLEVBQU9tNkIsS0FBSzd0QyxTQUFRLFNBQVVxbEMsR0FFNUIsR0FBSUEsRUFBSW56QyxPQUFTbXpDLEVBQUluekMsTUFBTXdHLE9BQTZCLHlCQUFwQjJzQyxFQUFJbnpDLE1BQU13RyxNQUM1QyxNQUFNLElBQUkvQixNQUFNMHVDLEVBQUkxUixXQUdqQmpnQixLQUNONUksS0FBS2krQyxFQUF1QnA0QixJQWFqQyxPQVRBL2pCLEVBQU9BLEdBQVEsR0FDZmpiLE9BQU9pSSxLQUFLMEIsR0FBSzBFLFNBQVEsU0FBVXhOLEdBQzdCbUYsTUFBTTZtQixRQUFRbGpCLEVBQUk5SSxJQUNwQm9hLEVBQUtwYSxHQUFPOEksRUFBSTlJLEdBRWhCb2EsRUFBS3BhLEdBQU84SSxFQUFJOUksR0FBS2lhLGNBSWxCaWtCLEVBQUc4WCxNQUFNLGFBQWV4cEMsRUFBUSxDQUNyQ3NqRCxRQUFTLElBQUk3WixHQUFFLENBQUMsZUFBZ0IscUJBQ2hDcFcsT0FBUSxPQUNSemxCLEtBQU14TixLQUFLTSxVQUFVa04sS0FDcEI5QixNQUFLLFNBQVVDLEdBR2hCLE9BRkV5bEIsRUFBS3psQixFQUFTeWxCLEdBQ2RrQyxFQUFTM25CLEVBQVMybkIsT0FDYjNuQixFQUFTbXBDLFVBQ2ZwcEMsTUFBSyxTQUFVNEksR0FDaEIsSUFBSzhjLEVBRUgsTUFEQTljLEVBQU9nZixPQUFTQSxFQUNWb0MsR0FBMEJwaEIsR0FFbEMsT0FBT0EsS0FDTjVJLEtBQUtpK0MsRUFBdUJwNEIsSUEyaUJ0Qjg4QixDQUFVLzhCLEVBQUlwMUIsRUFBS3ExQixHQUc1QixJQUFJKzhCLEVBQWlCLENBQ25CcEMsbUJBQW9CNTZCLEVBQUc4UCxPQUFPbXRCLGdDQTExQlQsSUE2MUJ2QixHQUFtQixpQkFBUnJ5RCxFQW9CVCxPQWxCQWd1RCxFQUFxQjM0QixFQUFNcjFCLEdBRTNCdXNELEdBQWN4cUQsS0FBSSxXQVFoQixPQVB3QnlwRCxHQUNQcDJCLEVBQ0Esc0JBQ0ZwMUIsRUFBSXNLLElBQ0R0SyxFQUFJNGhCLFFBQ0osRUFDR2dxQyxHQUNJcDhDLE1BQUssU0FBVWpJLEdBQ3RDLE9BaGtDR3VzQixFQWdrQ1F5N0IsRUFBV2hvRCxFQUFNNnFELEdBQWdCNWlELE1BQUssV0FDL0MsT0FBTytnRCxFQUFVaHBELEVBQU04dEIsTUFqa0NiaTlCLEVBa2tDUixXQUNGLE9BQU8vcUQsRUFBSzZ0QixHQUFHeFUsV0Fsa0NsQmtULEVBQVF0a0IsTUFBSyxTQUFVK1UsR0FDNUIsT0FBTyt0QyxJQUFzQjlpRCxNQUFLLFdBQ2hDLE9BQU8rVSxRQUVSLFNBQVU4VCxHQUNYLE9BQU9pNkIsSUFBc0I5aUQsTUFBSyxXQUNoQyxNQUFNNm9CLFFBUFosSUFBYXZFLEVBQVN3K0IsUUF1a0NUL0YsR0FBYzFPLFNBR3JCLElBQUlzTyxFQUFlbnNELEVBQ2Z3bUIsRUFBUWdtQyxHQUFjTCxHQUN0Qm9HLEVBQWdCL3JDLEVBQU0sR0FDdEJtdUIsRUFBV251QixFQUFNLEdBQ3JCLE9BQU80TyxFQUFHNStCLElBQUksV0FBYSs3RCxHQUFlL2lELE1BQUssU0FBVXNxQixHQUN2RCxJQUFJOTVCLEVBQU04NUIsRUFBSWdiLE9BQVNoYixFQUFJZ2IsTUFBTUgsR0FFakMsSUFBSzMwQyxFQUVILE1BQU0sSUFBSTJxRCxHQUFjLFFBQVU3d0IsRUFBSWlDLElBQU0sc0JBQzFDNFksR0FhSixPQVZBcVksRUFBY2x6QixFQUFLNmEsR0FDbkJxWixFQUFxQjM0QixFQUFNcjFCLEdBRUh3ckQsR0FDUHAyQixFQUNBKzJCLEVBQ0Zuc0QsRUFBSXNLLElBQ0R0SyxFQUFJNGhCLFFBQ0osRUFDR2dxQyxHQUNJcDhDLE1BQUssU0FBVWpJLEdBQ3RDLE1BQW1CLE9BQWY4dEIsRUFBS205QixPQUFpQyxpQkFBZm45QixFQUFLbTlCLE9BQ1gsaUJBQWZuOUIsRUFBS205QixPQUNQLEtBQVUsV0FDUmpELEVBQVdob0QsRUFBTTZxRCxNQUdkN0IsRUFBVWhwRCxFQUFNOHRCLElBRWhCazZCLEVBQVdob0QsRUFBTTZxRCxHQUFnQjVpRCxNQUFLLFdBQzNDLE9BQU8rZ0QsRUFBVWhwRCxFQUFNOHRCLFlBMkJuQyxJQWxwQ21CcjFCLEVBOHBDbkIsTUFBTyxDQUNMNDVCLE1BaENGLFNBQXVCNTVCLEVBQUtxMUIsRUFBTXBCLEdBQ2hDLElBQUltQixFQUFLdjhCLEtBQ1csbUJBQVR3OEIsSUFDVHBCLEVBQVdvQixFQUNYQSxFQUFPLElBRVRBLEVBQU9BLEVBanhCVCxTQUF1QkEsR0FJckIsT0FIQUEsRUFBSzg0QixZQUFjTixFQUFjeDRCLEVBQUs4NEIsYUFDdEM5NEIsRUFBS3VSLE1BQVFpbkIsRUFBY3g0QixFQUFLdVIsT0FDaEN2UixFQUFLMlYsS0FBTzZpQixFQUFjeDRCLEVBQUsyVixNQUN4QjNWLEVBNndCT285QixDQUFjcDlCLEdBQVEsR0FFakIsbUJBQVJyMUIsSUFDVEEsRUFBTSxDQUFDc0ssSUFBTXRLLElBR2YsSUFBSTh6QixFQUFVOTZCLFFBQVFDLFVBQVV1VyxNQUFLLFdBQ25DLE9BQU91aUQsRUFBYzM4QixFQUFJcDFCLEVBQUtxMUIsTUFHaEMsT0FEQXcxQixHQUFpQi8yQixFQUFTRyxHQUNuQkgsR0FpQlA0K0IsYUFocUNpQjF5RCxFQWtwQ21CLFdBQ3BDLElBQUlvMUIsRUFBS3Y4QixLQUVULE1BQStCLG1CQUFwQnU4QixFQUFHdTlCLGFBcG5CaEIsU0FBMkJ2OUIsR0FDekIsT0FBTyxJQUFJcDhCLFNBQVEsU0FBVUMsRUFBU0MsR0FDcENrOEIsRUFBR3U5QixjQUFhLFNBQVV2NUQsRUFBS21yQixHQUM3QixHQUFJbnJCLEVBQ0YsT0FBT0YsRUFBT0UsR0FFaEJILEVBQVFzckIsU0ErbUJIcXVDLENBQWtCeDlCLEdBRXZCcUYsR0FBU3JGLEdBcktmLFNBQXlCQSxHQUN2QixPQUFPQSxFQUFHOFgsTUFBTSxnQkFBaUIsQ0FDL0I4WixRQUFTLElBQUk3WixHQUFFLENBQUMsZUFBZ0IscUJBQ2hDcFcsT0FBUSxTQUNQdm5CLE1BQUssU0FBVUMsR0FDaEIsT0FBT0EsRUFBU21wQyxVQWlLVGlhLENBQWdCejlCLEdBN0ozQixTQUEwQkEsR0FDeEIsT0FBT0EsRUFBRzUrQixJQUFJLFVBQVlvMUQsR0FBY3A4QyxNQUFLLFNBQVVpc0MsR0FDckQsSUFBSXFYLEVBQWMsSUFBSWpoQyxFQUN0Qng3QixPQUFPaUksS0FBS205QyxFQUFRM0csT0FBT3B3QyxTQUFRLFNBQVV5bkQsR0FDM0MsSUFBSTNsQyxFQUFRZ21DLEdBQWNMLEdBQ3RCb0csRUFBZ0IsV0FBYS9yQyxFQUFNLEdBQ25DbXVCLEVBQVdudUIsRUFBTSxHQUNqQnN1QixFQUFRZ2UsRUFBWXQ4RCxJQUFJKzdELEdBQ3ZCemQsSUFDSEEsRUFBUSxJQUFJbGpCLEVBQ1praEMsRUFBWWgyRCxJQUFJeTFELEVBQWV6ZCxJQUVqQ0EsRUFBTS95QyxJQUFJNHlDLE1BRVosSUFBSXRmLEVBQU8sQ0FDVC8yQixLQUFPNHNELEdBQWU0SCxHQUN0Qjc0QixjQUFlLEdBRWpCLE9BQU83RSxFQUFHMlYsUUFBUTFWLEdBQU03bEIsTUFBSyxTQUFVK1UsR0FDckMsSUFBSXd1QyxFQUFnQixHQUNwQnh1QyxFQUFJZ3VCLEtBQUs3dEMsU0FBUSxTQUFVcWxDLEdBQ3pCLElBQUlpcEIsRUFBV2pwQixFQUFJN3lDLElBQUl5bkIsVUFBVSxHQUNqQ20wQyxFQUFZdDhELElBQUl1ekMsRUFBSTd5QyxLQUFLd04sU0FBUSxTQUFVaXdDLEdBQ3pDLElBQUl3WCxFQUFlNkcsRUFBVyxJQUFNcmUsRUFFL0I4RyxFQUFRM0csTUFBTXFYLEtBR2pCQSxFQUFleFgsR0FFakIsSUFBSXNlLEVBQWM1OEQsT0FBT2lJLEtBQUttOUMsRUFBUTNHLE1BQU1xWCxJQUV4QytHLEVBQWVucEIsRUFBSWpRLEtBQU9pUSxFQUFJalEsSUFBSWdiLE9BQ3BDL0ssRUFBSWpRLElBQUlnYixNQUFNSCxHQUNoQnNlLEVBQVl2dUQsU0FBUSxTQUFVeXVELEdBQzVCSixFQUFjSSxHQUNaSixFQUFjSSxJQUFlRCxXQUlyQyxJQUVJRSxFQUZjLzhELE9BQU9pSSxLQUFLeTBELEdBQWV2cEQsUUFDM0MsU0FBVTJwRCxHQUFjLE9BQVFKLEVBQWNJLE1BQ2Q3b0QsS0FBSSxTQUFVNm9ELEdBQzlDLE9BQU9ySSxHQUFjd0UsRUFBUzZELElBQWEsV0FDekMsT0FBTyxJQUFJLzlCLEVBQUd4MkIsWUFBWXUwRCxFQUFZLzlCLEVBQUc4UCxRQUFRdGtCLFlBRDVDa3FDLE1BSVQsT0FBTzl4RCxRQUFRZ3hDLElBQUlvcEIsR0FBaUI1akQsTUFBSyxXQUN2QyxNQUFPLENBQUMwbEIsSUFBSSxXQUdmbzVCLEVBQVcsQ0FBQ3A1QixJQUFJLEtBNEdabStCLENBQWlCaitCLElBMXBDbkIsS0FBYSxTQUFVbDlCLEdBQzVCLElBQUlzcEIsRUFBS3RwQixFQUFLZ0csTUFDVjQxQixFQUFVOXpCLEVBQUlqSSxNQUFNYyxLQUFNWCxHQUk5QixNQUhrQixtQkFBUHNwQixHQUNUcXBDLEdBQWlCLzJCLEVBQVN0UyxHQUVyQnNTLE9Bc3VDSXcvQixDQURJLFdBOUJuQixTQUFnQnplLEVBQVE5NUMsR0FFdEIsR0FBc0IsbUJBQVg4NUMsR0FBMkMsSUFBbEJBLEVBQU8zNUMsT0FBYyxDQUN2RCxJQUFJcTRELEVBQVUxZSxFQUNkLE9BQU8sU0FBVS9hLEdBQ2YsT0FBT3k1QixFQUFRejVCLEVBQUsvK0IsSUFHdEIsT0FBT3V3RCxHQUFxQnpXLEVBQU8xakMsV0FBWXBXLE1BSW5ELFNBQWlCMndELEdBQ2YsSUFBSThILEVBQWtCOUgsRUFBVXY2QyxXQUM1QnNpRCxFQTFCTixTQUFvQkQsR0FDbEIsR0FBSSxRQUFRM3pELEtBQUsyekQsR0FDZixPQUFPOUcsR0FDRixHQUFJLFVBQVU3c0QsS0FBSzJ6RCxHQUN4QixPQUFPOUcsR0FDRixHQUFJLFVBQVU3c0QsS0FBSzJ6RCxHQUN4QixPQUFPOUcsR0FDRixHQUFJLEtBQUs3c0QsS0FBSzJ6RCxHQUNuQixNQUFNLElBQUluNEQsTUFBTW00RCxFQUFrQix3Q0FrQnRCRSxDQUFXRixHQUN6QixPQUFJQyxHQUdLbkksR0FBcUJrSSxNQUloQyxTQUF1QjVlLEVBQU1ELEdBQzNCLElBQUkzMEMsRUFBTTQwQyxFQUFLRSxPQUFTRixFQUFLRSxNQUFNSCxHQUNuQyxHQUF1QixpQkFBWjMwQyxFQUFJc0ssSUFDYixNQUFNLElBQUlxZ0QsR0FBYyxRQUFVL1YsRUFBSzdZLElBQU0sNkJBQzNDNFksRUFBVywwQ0FBNEMzMEMsRUFBSXNLLFFBZWpFLElBQUlxcEQsR0FBWSxDQUNkLzVCLE1BVEYsU0FBZTU1QixFQUFLcTFCLEVBQU1wQixHQUN4QixPQUFPNDRCLEdBQVNqekIsTUFBTTlqQyxLQUFLK0MsS0FBTW1ILEVBQUtxMUIsRUFBTXBCLElBUzVDeStCLFlBTkYsU0FBcUJ6K0IsR0FDbkIsT0FBTzQ0QixHQUFTNkYsWUFBWTU4RCxLQUFLK0MsS0FBTW83QixLQVF6QyxTQUFTMi9CLEdBQVdwOUIsR0FDbEIsTUFBTyxNQUFNMzJCLEtBQUsyMkIsR0FTcEIsU0FBU3E5QixHQUFrQnorQixFQUFJMEUsR0FDN0IsSUFBSTh1QixFQUFZdnlELE9BQU9pSSxLQUFLdzdCLEVBQUlNLGNBQ2hDLE9BQU9waEMsUUFBUWd4QyxJQUFJNGUsRUFBVXQrQyxLQUFJLFNBQVV5ekMsR0FDekMsT0FBTzNvQixFQUFHMFYsY0FBY2hSLEVBQUlpQyxJQUFLZ2lCLEVBQVUsQ0FBQ3ZuQixJQUFLc0QsRUFBSStCLFdBdUR6RCxTQUFTaTRCLEdBQVE5dEMsRUFBS2h1QixFQUFRKzdELEVBQU9qNEQsR0FDbkNpNEQsRUFBUWhoQyxFQUFNZ2hDLEdBRWQsSUFBSUMsRUFBYSxHQUNiOStCLEdBQUssRUEyRFQsU0FBUysrQixFQUFxQnJtQyxHQUc1QixPQUFPNUgsRUFBSStrQixRQUFRLENBQ2pCenNDLEtBQU1zdkIsRUFDTnFNLGNBQWMsRUFDZDZHLFdBQVcsSUFDVnR4QixNQUFLLFNBQVUrVSxHQUNoQixHQUFJem9CLEVBQU04N0IsVUFDUixNQUFNLElBQUl2OEIsTUFBTSxhQUVsQmtwQixFQUFJZ3VCLEtBQUs3dEMsU0FBUSxTQUFVcWxDLEdBbkIvQixJQUF3QmpRLEVBb0JkaVEsRUFBSTVKLFVBQVk0SixFQUFJalEsTUFBUTg1QixHQUFXN3BCLEVBQUluekMsTUFBTTQvQixPQXBCbkNzRCxFQXFCQ2lRLEVBQUlqUSxJQXBCcEJBLEVBQUlNLGNBQWdCL2pDLE9BQU9pSSxLQUFLdzdCLEVBQUlNLGNBQWNsL0IsT0FBUyxJQUdwRSxTQUFzQjQrQixHQUNwQixPQUFPQSxFQUFJeUssWUFBY3pLLEVBQUl5SyxXQUFXcnBDLE9BQVMsRUFnQmRnNUQsQ0FBYW5xQixFQUFJalEsT0FPNUNpUSxFQUFJalEsSUFBSXlLLG1CQUNId0YsRUFBSWpRLElBQUl5SyxXQUlqQnl2QixFQUFXLzRELEtBQUs4dUMsRUFBSWpRLFlBQ2JpNkIsRUFBTWhxQixFQUFJcHBDLFdBcUJ2QixPQUFPM0gsUUFBUUMsVUFDWnVXLE1BakJILFdBR0UsSUFBSW9lLEVBQU12M0IsT0FBT2lJLEtBQUt5MUQsR0FBT3ZxRCxRQUFPLFNBQVU3SSxHQUM1QyxJQUFJNm5DLEVBQVV1ckIsRUFBTXB6RCxHQUFJNm5DLFFBQ3hCLE9BQTBCLElBQW5CQSxFQUFRdHRDLFFBQWdCMDRELEdBQVdwckIsRUFBUSxPQUVwRCxHQUFJNWEsRUFBSTF5QixPQUFTLEVBQ2YsT0FBTys0RCxFQUFxQnJtQyxNQVU3QnBlLE1BMUdILFdBRUUsSUFBSTJrRCxFQWpDUixTQUEyQkosR0FDekIsSUFBSXorQixFQUFXLEdBV2YsT0FWQWovQixPQUFPaUksS0FBS3kxRCxHQUFPcnZELFNBQVEsU0FBVS9ELEdBQ2pCb3pELEVBQU1wekQsR0FBSTZuQyxRQUNoQjlqQyxTQUFRLFNBQVUwdkQsR0FDNUI5K0IsRUFBU3I2QixLQUFLLENBQ1owRixHQUFJQSxFQUNKNjFCLElBQUs0OUIsVUFLSixDQUNMNytCLEtBQU1ELEVBQ04rSyxNQUFNLEVBQ044SixRQUFRLEdBa0JVa3FCLENBQWtCTixHQUVwQyxHQUFLSSxFQUFZNStCLEtBQUtyNkIsT0FJdEIsT0FBTzhxQixFQUFJbVAsUUFBUWcvQixHQUFhM2tELE1BQUssU0FBVThrRCxHQUU3QyxHQUFJeDRELEVBQU04N0IsVUFDUixNQUFNLElBQUl2OEIsTUFBTSxhQUVsQixPQUFPckMsUUFBUWd4QyxJQUFJc3FCLEVBQWdCeCtCLFFBQVF4ckIsS0FBSSxTQUFVaXFELEdBQ3ZELE9BQU92N0QsUUFBUWd4QyxJQUFJdXFCLEVBQVloL0IsS0FBS2pyQixLQUFJLFNBQVV3dkIsR0FDaEQsSUFBSTA2QixFQUFZMTZCLEVBQUk1RSxHQVFwQixPQU5JNEUsRUFBSTE4QixRQUdOODNCLEdBQUssR0FHRnMvQixHQUFjQSxFQUFVcDZCLGFBaEZ2QyxTQUE2Q3BpQyxFQUFRZ3VCLEVBQUs4VCxHQUN4RCxJQUFJMjZCLEVBQTZCaDZCLEdBQVN6VSxLQUFTeVUsR0FBU3ppQyxHQUN4RDR3RCxFQUFZdnlELE9BQU9pSSxLQUFLdzdCLEVBQUlNLGNBRWhDLE9BQUtxNkIsRUFJRXo4RCxFQUFPeEIsSUFBSXNqQyxFQUFJaUMsS0FBS3ZzQixNQUFLLFNBQVVtOUIsR0FDeEMsT0FBTzN6QyxRQUFRZ3hDLElBQUk0ZSxFQUFVdCtDLEtBQUksU0FBVXl6QyxHQUN6QyxPQXZCTixTQUF3QnBSLEVBQVU2bkIsRUFBV3pXLEdBQzNDLE9BQVFwUixFQUFTdlMsZUFDVHVTLEVBQVN2UyxhQUFhMmpCLElBQ3ZCcFIsRUFBU3ZTLGFBQWEyakIsR0FBVTFILFNBQVdtZSxFQUFVcDZCLGFBQWEyakIsR0FBVTFILE9Bb0IzRXFlLENBQWUvbkIsRUFBVTdTLEVBQUtpa0IsR0FDekIvM0IsRUFBSThrQixjQUFjaFIsRUFBSWlDLElBQUtnaUIsR0FHN0IvbEQsRUFBTzh5QyxjQUFjNkIsRUFBUzVRLElBQUtnaUIsVUFFM0NwaUIsT0FBTSxTQUFVditCLEdBRWpCLEdBQXFCLE1BQWpCQSxFQUFNZzZCLE9BQ1IsTUFBTWg2QixFQUdSLE9BQU95MkQsR0FBa0I3dEMsRUFBSzhULE1BakJ2Qis1QixHQUFrQjd0QyxFQUFLOFQsR0ErRWpCNjZCLENBQW9DMzhELEVBQVFndUIsRUFBS3d1QyxHQUM5Q2hsRCxNQUFLLFNBQVUwcUIsR0FDUixJQUFJMHVCLEVBQVl2eUQsT0FBT2lJLEtBQUtrMkQsRUFBVXA2QixjQVMzQixPQVJYRixFQUNHeDFCLFNBQVEsU0FBVTYrQyxFQUFZNXRELEdBQ3BCLElBQUl3a0MsRUFBTXE2QixFQUFVcDZCLGFBQWF3dUIsRUFBVWp6RCxXQUNwQ3drQyxFQUFJRSxZQUNKRixFQUFJai9CLE9BQ1hpL0IsRUFBSTVZLEtBQU9naUMsS0FHTmlSLEtBZDFCQSxVQW1CWmhsRCxNQUFLLFNBQVVzbUIsR0FDZGsrQixFQUFhQSxFQUFXejdELE9BQU8raEMsR0FBUXhFLEdBQVN0c0IsT0FBTy9CLG1CQStEMUQrSCxNQVBILFdBQ0UsTUFBTyxDQUFFMGxCLEdBQUdBLEVBQUlLLEtBQUt5K0IsTUFxQnpCLFNBQVNZLEdBQWlCeC9CLEVBQUl6MEIsRUFBSWswRCxFQUFZQyxFQUFTQyxHQUNyRCxPQUFPMy9CLEVBQUc1K0IsSUFBSW1LLEdBQUlnN0IsT0FBTSxTQUFVdmlDLEdBQ2hDLEdBQW1CLE1BQWZBLEVBQUlnK0IsT0FNTixNQUxtQixTQUFmaEMsRUFBR2lRLFNBQXFDLFVBQWZqUSxFQUFHaVEsU0FDOUJsTyxFQUNFLElBQUssMkRBR0YsQ0FDTDY5QixXQUFZRixFQUNaLzRCLElBQUtwN0IsRUFDTHVnQyxRQUFTLEdBQ1QrekIsV0F2QlMsVUF3QlQ3ZixRQXpCaUIsR0E0QnJCLE1BQU1oOEMsS0FDTG9XLE1BQUssU0FBVXNxQixHQUNoQixJQUFJaTdCLEVBQVluOUIsV0FLWmtDLEVBQUk2UCxXQUFha3JCLEVBMEJyQixPQXJCQS82QixFQUFJb0gsU0FBV3BILEVBQUlvSCxTQUFXLElBQUkxM0IsUUFBTyxTQUFVNFosR0FDakQsT0FBT0EsRUFBSzR4QyxhQUFlRixLQUk3Qmg3QixFQUFJb0gsUUFBUWxtQyxRQUFRLENBQ2xCMnVDLFNBQVVrckIsRUFDVkcsV0FBWUYsSUFNZGg3QixFQUFJb0gsUUFBVXBILEVBQUlvSCxRQUFRM25DLE1BQU0sRUE1Q04sR0E4QzFCdWdDLEVBQUlzYixRQXZEaUIsRUF3RHJCdGIsRUFBSW03QixXQXZEUyxVQXlEYm43QixFQUFJazdCLFdBQWFGLEVBQ2pCaDdCLEVBQUk2UCxTQUFXa3JCLEVBRVJ6L0IsRUFBRzRHLElBQUlsQyxHQUFLNkIsT0FBTSxTQUFVdmlDLEdBQ2pDLEdBQW1CLE1BQWZBLEVBQUlnK0IsT0FFTixPQUFPdzlCLEdBQWlCeC9CLEVBQUl6MEIsRUFBSWswRCxFQUFZQyxFQUFTQyxHQUV2RCxNQUFNMzdELFFBS1osU0FBUzg3RCxHQUFhbHZDLEVBQUtodUIsRUFBUTJJLEVBQUlvMEQsRUFBYTEvQixHQUNsRHg4QixLQUFLbXRCLElBQU1BLEVBQ1hudEIsS0FBS2IsT0FBU0EsRUFDZGEsS0FBSzhILEdBQUtBLEVBQ1Y5SCxLQUFLazhELFlBQWNBLEVBQ25CbDhELEtBQUt3OEIsS0FBT0EsR0FBUSxHQUd0QjYvQixHQUFhMzlELFVBQVU0OUQsZ0JBQWtCLFNBQVVOLEVBQVlDLEdBQzdELElBQUlsaEMsRUFBTy82QixLQUNYLE9BQU9BLEtBQUt1OEQsYUFBYVAsRUFBWUMsR0FBU3RsRCxNQUFLLFdBQ2pELE9BQU9va0IsRUFBS3loQyxhQUFhUixFQUFZQyxPQUl6Q0ksR0FBYTM5RCxVQUFVNjlELGFBQWUsU0FBVVAsRUFBWUMsR0FDMUQsT0FBSWo4RCxLQUFLdzhCLEtBQUtpZ0Msc0JBQ0xWLEdBQWlCLzdELEtBQUtiLE9BQVFhLEtBQUs4SCxHQUFJazBELEVBQzVDQyxFQUFTajhELEtBQUtrOEQsYUFFVC83RCxRQUFRQyxTQUFRLElBSTNCaThELEdBQWEzOUQsVUFBVTg5RCxhQUFlLFNBQVVSLEVBQVlDLEdBQzFELEdBQUlqOEQsS0FBS3c4QixLQUFLa2dDLHNCQUF1QixDQUNuQyxJQUFJM2hDLEVBQU8vNkIsS0FDWCxPQUFPKzdELEdBQWlCLzdELEtBQUttdEIsSUFBS250QixLQUFLOEgsR0FBSWswRCxFQUN6Q0MsRUFBU2o4RCxLQUFLazhELGFBQ2JwNUIsT0FBTSxTQUFVdmlDLEdBQ2YsR0FBSW84RCxHQUFpQnA4RCxHQUVuQixPQURBdzZCLEVBQUt5QixLQUFLa2dDLHVCQUF3QixHQUMzQixFQUVULE1BQU1uOEQsS0FHVixPQUFPSixRQUFRQyxTQUFRLElBSTNCLElBQUl3OEQsR0FBYyxDQUNoQixVQUFhLFNBQVVDLEVBQVdDLEdBRWhDLE9BQXdELElBQXBEcmxCLEdBQVFvbEIsRUFBVS9yQixTQUFVZ3NCLEVBQVVoc0IsVUFDakNnc0IsRUFBVWhzQixTQUdaLEdBRVQsRUFBSyxTQUFVK3JCLEVBQVdDLEdBRXhCLE9BeUVKLFNBQWdDQyxFQUFRQyxHQUN0QyxHQUFJRCxFQUFPWixhQUFlYSxFQUFPYixXQUMvQixNQUFPLENBQ0xyckIsU0FBVWlzQixFQUFPanNCLFNBQ2pCekksUUFBUzAwQixFQUFPMTBCLFNBSXBCLE9BR0YsU0FBUzQwQixFQUEwQkMsRUFBZUMsR0FHaEQsSUFBSUMsRUFBSUYsRUFBYyxHQUNsQkcsRUFBYUgsRUFBY3g4RCxNQUFNLEdBQ2pDNDhELEVBQUlILEVBQWMsR0FDbEJJLEVBQWFKLEVBQWN6OEQsTUFBTSxHQUVyQyxJQUFLMDhELEdBQThCLElBQXpCRCxFQUFjOTZELE9BQ3RCLE1BQU8sQ0FDTHl1QyxTQS9NVyxFQWdOWHpJLFFBQVMsSUFNYixHQUFJbTFCLEdBRldKLEVBQUVqQixXQUVVZ0IsR0FDekIsTUFBTyxDQUNMcnNCLFNBQVVzc0IsRUFBRXRzQixTQUNaekksUUFBUzYwQixHQUtiLEdBQUlNLEdBRFdGLEVBQUVuQixXQUNVa0IsR0FDekIsTUFBTyxDQUNMdnNCLFNBQVV3c0IsRUFBRXhzQixTQUNaekksUUFBU2sxQixHQUliLE9BQU9OLEVBQTBCSSxFQUFZRSxHQW5DdENOLENBQTBCRixFQUFPMTBCLFFBQVMyMEIsRUFBTzMwQixTQWpGL0NvMUIsQ0FBdUJYLEVBQVdELEdBQVcvckIsV0F1SHhELFNBQVMwc0IsR0FBYUUsRUFBV3IxQixHQUMvQixJQUFJczFCLEVBQVF0MUIsRUFBUSxHQUNoQnUxQixFQUFPdjFCLEVBQVEzbkMsTUFBTSxHQUV6QixTQUFLZzlELEdBQWdDLElBQW5CcjFCLEVBQVFobUMsVUFJdEJxN0QsSUFBY0MsRUFBTXhCLFlBSWpCcUIsR0FBYUUsRUFBV0UsSUFHakMsU0FBU2pCLEdBQWlCcDhELEdBQ3hCLE1BQTZCLGlCQUFmQSxFQUFJZytCLFFBQXdELElBQWpDcDJCLEtBQUswMUQsTUFBTXQ5RCxFQUFJZytCLE9BQVMsS0FuSW5FODlCLEdBQWEzOUQsVUFBVW8vRCxjQUFnQixXQUNyQyxJQUFJL2lDLEVBQU8vNkIsS0FFWCxPQUFJKzZCLEVBQUt5QixNQUFRekIsRUFBS3lCLEtBQUtrZ0Msd0JBQTBCM2hDLEVBQUt5QixLQUFLaWdDLHNCQUN0RDFoQyxFQUFLNU4sSUFBSXh2QixJQUFJbzlCLEVBQUtqekIsSUFBSTZPLE1BQUssU0FBVW1tRCxHQUMxQyxPQUFPQSxFQUFVaHNCLFVBMUhOLEtBMkhWaE8sT0FBTSxTQUFVdmlDLEdBRWpCLEdBQW1CLE1BQWZBLEVBQUlnK0IsT0FDTixNQUFNaCtCLEVBRVIsT0FoSVcsS0FvSVJ3NkIsRUFBSzU3QixPQUFPeEIsSUFBSW85QixFQUFLanpCLElBQUk2TyxNQUFLLFNBQVVrbUQsR0FDN0MsT0FBSTloQyxFQUFLeUIsTUFBUXpCLEVBQUt5QixLQUFLaWdDLHdCQUEwQjFoQyxFQUFLeUIsS0FBS2tnQyxzQkFDdERHLEVBQVUvckIsVUF0SU4sRUF5SU4vVixFQUFLNU4sSUFBSXh2QixJQUFJbzlCLEVBQUtqekIsSUFBSTZPLE1BQUssU0FBVW1tRCxHQUkxQyxPQUFJRCxFQUFVdGdCLFVBQVl1Z0IsRUFBVXZnQixRQTdJekIsR0FtSlRBLEVBREVzZ0IsRUFBVXRnQixRQUNGc2dCLEVBQVV0Z0IsUUFBUWprQyxXQUVsQixlQUdHc2tELEdBQ05BLEdBQVlyZ0IsR0FBU3NnQixFQUFXQyxHQXpKOUIsRUFpSlgsSUFBSXZnQixLQVlILFNBQVVoOEMsR0FDWCxHQUFtQixNQUFmQSxFQUFJZytCLFFBQWtCcytCLEVBQVUvckIsU0FDbEMsT0FBTy9WLEVBQUs1TixJQUFJZ1csSUFBSSxDQUNsQkQsSUFBS25JLEVBQUtqekIsR0FDVmdwQyxTQWpLTyxJQWtLTm42QixNQUFLLFdBQ04sT0FuS08sS0FvS04sU0FBVXBXLEdBQ1gsT0FBSW84RCxHQUFpQnA4RCxJQUNuQnc2QixFQUFLeUIsS0FBS2tnQyx1QkFBd0IsRUFDM0JHLEVBQVUvckIsVUF2S1osS0E2S1gsTUFBTXZ3QyxRQUVQdWlDLE9BQU0sU0FBVXZpQyxHQUNqQixHQUFtQixNQUFmQSxFQUFJZytCLE9BQ04sTUFBTWgrQixFQUVSLE9BbkxhLE1BbVNqQixTQUFTdzlELEdBQXNCNXdDLEVBQUtodUIsRUFBUXE5QixHQUMxQyxJQUFJMHJCLEVBQVMxckIsRUFBS3FmLFFBQVVyZixFQUFLcWYsUUFBUXpwQixLQUFLcWxCLElBQVcsR0FDckQyRSxFQUFZNWYsRUFBSzdyQixPQUFTNnJCLEVBQUs3ckIsT0FBTzJILFdBQWEsR0FDbkQwbEQsRUFBYyxHQUNkQyxFQUFrQixHQUNsQnR1QyxFQUFXLEdBaUJmLE9BWkk2TSxFQUFLN00sV0FDUEEsRUFBVzFrQixLQUFLTSxVQUFVaXhCLEVBQUs3TSxXQUc3QjZNLEVBQUs3ckIsUUFBVTZyQixFQUFLd0UsZUFDdEJnOUIsRUFBYy95RCxLQUFLTSxVQXhCdkIsU0FBbUN5eUQsR0FDakMsT0FBT3hnRSxPQUFPaUksS0FBS3U0RCxHQUFhNXJDLEtBQUtxbEIsSUFBUzF1QixRQUFPLFNBQVV4SixFQUFRbGhCLEdBRXJFLE9BREFraEIsRUFBT2xoQixHQUFPMi9ELEVBQVkzL0QsR0FDbkJraEIsSUFDTixJQW9CNEIyK0MsQ0FBMEIxaEMsRUFBS3dFLGdCQUcxRHhFLEVBQUs3ckIsUUFBMEIsVUFBaEI2ckIsRUFBSzdyQixTQUN0QnN0RCxFQUFpQnpoQyxFQUFLOXRCLEtBQUs0SixZQUd0Qm5ZLFFBQVFneEMsSUFBSSxDQUFDaGtCLEVBQUlybEIsS0FBTTNJLEVBQU8ySSxPQUFPNk8sTUFBSyxTQUFVK1UsR0FDekQsSUFBSXl5QyxFQUFZenlDLEVBQUksR0FBS0EsRUFBSSxHQUFLMHdCLEVBQVk2aEIsRUFDNUNELEVBQWM5VixFQUFTdjRCLEVBQ3pCLE9BQU8sSUFBSXh2QixTQUFRLFNBQVVDLEdBQzNCeWxDLEdBQVVzNEIsRUFBVy85RCxTQUV0QnVXLE1BQUssU0FBVXluRCxHQUtoQixNQUFPLFdBRFBBLEVBQVNBLEVBQU9wbkQsUUFBUSxNQUFPLEtBQUtBLFFBQVEsTUFBTyxTQUt2RCxTQUFTcW5ELEdBQVVseEMsRUFBS2h1QixFQUFRcTlCLEVBQU0wL0IsRUFBYTM4QyxHQUNqRCxJQUNJKytDLEVBaUJBQyxFQUNBQyxFQW5CQUMsRUFBVSxHQUVWQyxFQUFlLENBQ2pCNy9CLElBQUssRUFDTEQsUUFBUyxHQUNUbEMsS0FBTSxJQUVKaWlDLEdBQW9CLEVBQ3BCQyxHQUFtQixFQUNuQkMsR0FBdUIsRUFDdkIvdEIsRUFBVyxFQUNYcEQsRUFBYWxSLEVBQUtrUixZQUFjbFIsRUFBS21SLE9BQVEsRUFDN0NtakIsRUFBYXQwQixFQUFLczBCLFlBQWMsSUFDaENnTyxFQUFnQnRpQyxFQUFLc2lDLGVBQWlCLEdBQ3RDejFELEVBQVFtekIsRUFBS256QixPQUFTLFdBQ3RCMDFELEdBQWlCLEVBQ2pCbGpCLEVBQVVyZixFQUFLcWYsUUFDZmxzQixFQUFXNk0sRUFBSzdNLFNBR2hCcXZDLEVBQWMsR0FFZC9DLEVBQVVuaUQsS0FFZHlGLEVBQVNBLEdBQVUsQ0FDakI4YyxJQUFJLEVBQ0o0aUMsWUFBWSxJQUFJN2tDLE1BQU9FLGNBQ3ZCNGtDLFVBQVcsRUFDWEMsYUFBYyxFQUNkQyxtQkFBb0IsRUFDcEJ0MEMsT0FBUSxJQUdWLElBQUk2VCxFQUFjLEdBR2xCLFNBQVMwZ0MsSUFDUCxPQUFJYixFQUNLcitELFFBQVFDLFVBRVYyOUQsR0FBc0I1d0MsRUFBS2h1QixFQUFRcTlCLEdBQU03bEIsTUFBSyxTQUFVK1UsR0FDN0Q2eUMsRUFBUTd5QyxFQUVSLElBQUk0ekMsRUFBaUIsR0FFbkJBLEdBRHNCLElBQXBCOWlDLEVBQUt3L0IsV0FDVSxDQUFFVSx1QkFBdUIsRUFBT0QsdUJBQXVCLEdBQzNDLFdBQXBCamdDLEVBQUt3L0IsV0FDRyxDQUFFVSx1QkFBdUIsRUFBTUQsdUJBQXVCLEdBQzFDLFdBQXBCamdDLEVBQUt3L0IsV0FDRyxDQUFFVSx1QkFBdUIsRUFBT0QsdUJBQXVCLEdBRXZELENBQUVDLHVCQUF1QixFQUFNRCx1QkFBdUIsR0FHekUrQixFQUFlLElBQUluQyxHQUFhbHZDLEVBQUtodUIsRUFBUW8vRCxFQUFPckMsRUFBYW9ELE1BSXJFLFNBQVNDLElBR1AsR0FGQVAsRUFBYyxHQUVtQixJQUE3QlYsRUFBYTVoQyxLQUFLcjZCLE9BQXRCLENBR0EsSUFBSXE2QixFQUFPNGhDLEVBQWE1aEMsS0FDcEI4aUMsRUFBVyxDQUFDNTRELFFBQVM0MUIsRUFBSzUxQixTQUM5QixPQUFPekgsRUFBT2l2QyxTQUFTLENBQUMxUixLQUFNQSxFQUFNbVMsV0FBVyxHQUFRMndCLEdBQVU3b0QsTUFBSyxTQUFVK1UsR0FFOUUsR0FBSXd3QyxFQUFZbjlCLFVBRWQsTUFEQTBnQyxJQUNNLElBQUlqOUQsTUFBTSxhQUtsQixJQUFJazlELEVBQWFsaUUsT0FBT1ksT0FBTyxNQUMvQnN0QixFQUFJN2YsU0FBUSxTQUFVNmYsR0FDaEJBLEVBQUlubkIsUUFDTm03RCxFQUFXaDBDLEVBQUk1akIsSUFBTTRqQixNQUl6QixJQUFJaTBDLEVBQVduaUUsT0FBT2lJLEtBQUtpNkQsR0FBWXI5RCxPQUN2Q2tkLEVBQU82L0Msb0JBQXNCTyxFQUM3QnBnRCxFQUFPNC9DLGNBQWdCemlDLEVBQUtyNkIsT0FBU3M5RCxFQUVyQ2pqQyxFQUFLN3dCLFNBQVEsU0FBVW8xQixHQUNyQixJQUFJMThCLEVBQVFtN0QsRUFBV3orQixFQUFJaUMsS0FDM0IsR0FBSTMrQixFQUFPLENBQ1RnYixFQUFPdUwsT0FBTzFvQixLQUFLbUMsR0FFbkIsSUFBSXE3RCxHQUFhcjdELEVBQU1sSCxNQUFRLElBQUkwYyxjQUNuQyxHQUFrQixpQkFBZDZsRCxHQUE4QyxjQUFkQSxFQUdsQyxNQUFNcjdELEVBRk4yM0QsRUFBWWg2RCxLQUFLLFNBQVVnNEIsRUFBTTMxQixTQUtuQ3k2RCxFQUFZNThELEtBQUs2K0IsU0FJcEIsU0FBVTFnQyxHQUVYLE1BREFnZixFQUFPNi9DLG9CQUFzQjFpQyxFQUFLcjZCLE9BQzVCOUIsTUFJVixTQUFTcy9ELElBQ1AsR0FBSXZCLEVBQWEvNUQsTUFDZixNQUFNLElBQUkvQixNQUFNLHFDQUVsQitjLEVBQU91eEIsU0FBV0EsRUFBV3d0QixFQUFhei9CLElBQzFDLElBQUlpaEMsRUFBWTVsQyxFQUFNM2EsR0FZdEIsT0FYSXkvQyxFQUFZMzhELFNBQ2R5OUQsRUFBVXBqQyxLQUFPc2lDLEVBR21CLGlCQUF6QlYsRUFBYW56QixVQUN0QjIwQixFQUFVMzBCLFFBQVVtekIsRUFBYW56QixlQUMxQm16QixFQUFhbnpCLFNBRXRCK3dCLEVBQVloNkQsS0FBSyxTQUFVNDlELElBRTdCbkIsR0FBb0IsRUFDYkgsRUFBYWxDLGdCQUFnQmdDLEVBQWF6L0IsSUFDN0NvOUIsR0FBU3RsRCxNQUFLLFdBSWhCLEdBSEF1bEQsRUFBWWg2RCxLQUFLLGFBQWMsQ0FBRSxXQUFjbzhELEVBQWF6L0IsTUFDNUQ4L0IsR0FBb0IsRUFFaEJ6QyxFQUFZbjlCLFVBRWQsTUFEQTBnQyxJQUNNLElBQUlqOUQsTUFBTSxhQUVsQjg3RCxPQUFlcDlELEVBQ2Y2K0QsT0FDQ2o5QixPQUFNLFNBQVV2aUMsR0FFakIsTUFEQXkvRCxFQUFrQnovRCxHQUNaQSxLQTRCVixTQUFTMC9ELElBQ1AsT0FBT2hGLEdBQVE5dEMsRUFBS2h1QixFQUFRbS9ELEVBQWFwRCxNQUFPZ0IsR0FBYXZsRCxNQUFLLFNBQVV1cEQsR0FDMUU1QixFQUFhLzVELE9BQVMyN0QsRUFBSTdqQyxHQUMxQjZqQyxFQUFJeGpDLEtBQUs3d0IsU0FBUSxTQUFVbzFCLFVBQ2xCcTlCLEVBQWFwRCxNQUFNajZCLEVBQUlpQyxLQUM5QjNqQixFQUFPMi9DLFlBQ1BaLEVBQWE1aEMsS0FBS3Q2QixLQUFLNitCLFNBSzdCLFNBQVNrL0IsSUFuQ1QsSUFDTXAyQixFQW1DQW15QixFQUFZbjlCLFdBQWF1L0IsSUFHTixJQUFuQkcsRUFBUXA4RCxRQUlaaThELEVBQWVHLEVBQVF0NUQsUUFDdkIrMkQsRUFBWWg2RCxLQUFLLGFBQWMsQ0FBRSxpQkFBb0JvOEQsRUFBYXovQixPQTNDOURrTCxFQUFPLEdBQ1h1MEIsRUFBYTEvQixRQUFRL3lCLFNBQVEsU0FBVW1WLEdBQ3JDazdDLEVBQVloNkQsS0FBSyxhQUFjLENBQUUsVUFBYThlLElBRzVCLFdBQWRBLEVBQU9sWixLQUdYaWlDLEVBQUsvb0IsRUFBT2xaLElBQU1rWixFQUFPNGQsUUFBUW50QixLQUFJLFNBQVU4QixHQUM3QyxPQUFPQSxFQUFFb3FCLFdBR054K0IsRUFBT3V3QyxTQUFTM0YsR0FBTXB6QixNQUFLLFNBQVV1a0QsR0FFMUMsR0FBSWdCLEVBQVluOUIsVUFFZCxNQURBMGdDLElBQ00sSUFBSWo5RCxNQUFNLGFBR2xCODdELEVBQWFwRCxNQUFRQSxNQTBCcEJ2a0QsS0FBS3NwRCxHQUNMdHBELEtBQUs0b0QsR0FDTDVvRCxLQUFLa3BELEdBQ0xscEQsS0FBS3dwRCxHQUNMcjlCLE9BQU0sU0FBVXZpQyxHQUNmNi9ELEVBQWlCLHlDQUEwQzcvRCxPQVg3RDgvRCxHQUFvQixJQWdCeEIsU0FBU0EsRUFBb0JDLEdBQ1MsSUFBaEM1QixFQUFhOS9CLFFBQVF2OEIsUUFhdkJpK0QsR0FDQTFCLEdBQ0FGLEVBQWE5L0IsUUFBUXY4QixRQUFVeXVELEtBRS9CMk4sRUFBUXI4RCxLQUFLczhELEdBQ2JBLEVBQWUsQ0FDYjcvQixJQUFLLEVBQ0xELFFBQVMsR0FDVGxDLEtBQU0sSUFFa0IsWUFBdEJ3L0IsRUFBWWo1RCxPQUE2QyxZQUF0Qmk1RCxFQUFZajVELFFBQ2pEaTVELEVBQVlqNUQsTUFBUSxTQUNwQmk1RCxFQUFZaDZELEtBQUssV0FFbkJpK0QsS0ExQnVCLElBQW5CMUIsRUFBUXA4RCxRQUFpQmk4RCxLQUN0QjV3QixHQUFjL08sRUFBWWdQLE1BQVNpeEIsS0FDdEMxQyxFQUFZajVELE1BQVEsVUFDcEJpNUQsRUFBWWg2RCxLQUFLLFdBRWYwOEQsR0FDRmEsS0F5QlIsU0FBU1csRUFBaUI1Z0MsRUFBUWovQixHQUM1QnMrRCxJQUdDdCtELEVBQUlrRSxVQUNQbEUsRUFBSWtFLFFBQVUrNkIsR0FFaEJqZ0IsRUFBTzhjLElBQUssRUFDWjljLEVBQU9nZixPQUFTLFdBQ2hCa2dDLEVBQVUsR0FDVkMsRUFBZSxDQUNiNy9CLElBQUssRUFDTEQsUUFBUyxHQUNUbEMsS0FBTSxJQUVSK2lDLEVBQW9CbC9ELElBSXRCLFNBQVNrL0QsRUFBb0JjLEdBQzNCLEtBQUkxQixHQUlBM0MsRUFBWW45QixZQUNkeGYsRUFBT2dmLE9BQVMsWUFDWm9nQyxJQVNOLEdBTEFwL0MsRUFBT2dmLE9BQVNoZixFQUFPZ2YsUUFBVSxXQUNqQ2hmLEVBQU9paEQsVUFBVyxJQUFJcG1DLE1BQU9FLGNBQzdCL2EsRUFBT3V4QixTQUFXQSxFQUNsQit0QixHQUF1QixFQUVuQjBCLEVBQVksRUFFZEEsRUFBYS8vQixHQUFZKy9CLElBQ2RoaEQsT0FBU0EsRUFHcEIsSUFBSXFnRCxHQUFhVyxFQUFXbGpFLE1BQVEsSUFBSTBjLGNBQ3RCLGlCQUFkNmxELEdBQThDLGNBQWRBLEdBQ2xDMUQsRUFBWWg2RCxLQUFLLFFBQVNxK0QsR0FDMUJyRSxFQUFZMTJELHNCQS9WcEIsU0FBaUJnM0IsRUFBTTAvQixFQUFhMzNELEVBQU82MkIsR0FDekMsSUFBbUIsSUFBZm9CLEVBQUtpa0MsTUFHUCxPQUZBdkUsRUFBWWg2RCxLQUFLLFFBQVNxQyxRQUMxQjIzRCxFQUFZMTJELHFCQVFkLEdBSnNDLG1CQUEzQmczQixFQUFLa2tDLG9CQUNkbGtDLEVBQUtra0Msa0JBQW9CdmlDLEdBRTNCKzlCLEVBQVloNkQsS0FBSyxlQUFnQnFDLEdBQ1AsV0FBdEIyM0QsRUFBWWo1RCxPQUE0QyxZQUF0Qmk1RCxFQUFZajVELE1BQXFCLENBQ3JFaTVELEVBQVloNkQsS0FBSyxTQUFVcUMsR0FDM0IyM0QsRUFBWWo1RCxNQUFRLFVBQ3BCLElBQUkwOUQsRUFBYSxXQUNmbmtDLEVBQUtva0MsaUJBakJhLEdBc0JwQjFFLEVBQVlqOEQsS0FBSyxVQUhTLFdBQ3hCaThELEVBQVkxN0QsZUFBZSxTQUFVbWdFLE1BR3ZDekUsRUFBWWo4RCxLQUFLLFNBQVUwZ0UsR0FHN0Jua0MsRUFBS29rQyxpQkFBbUJwa0MsRUFBS29rQyxrQkExQlAsRUEyQnRCcGtDLEVBQUtva0MsaUJBQW1CcGtDLEVBQUtra0Msa0JBQWtCbGtDLEVBQUtva0Msa0JBQ3BELzVELFdBQVd1MEIsRUFBVW9CLEVBQUtva0Msa0JBdVVwQkMsQ0FBUXJrQyxFQUFNMC9CLEVBQWFxRSxHQUFZLFdBQ3JDbEMsR0FBVWx4QyxFQUFLaHVCLEVBQVFxOUIsRUFBTTAvQixXQUlqQ0EsRUFBWWg2RCxLQUFLLFdBQVlxZCxHQUM3QjI4QyxFQUFZMTJELHFCQUtoQixTQUFTdzVCLEVBQVNoZSxFQUFRbXFCLEVBQVNDLEdBRWpDLEdBQUk4d0IsRUFBWW45QixVQUNkLE9BQU8wZ0MsSUFJYyxpQkFBWnQwQixJQUNUdXpCLEVBQWF2ekIsUUFBVUEsR0FHWnZLLEdBQWFwRSxFQUFib0UsQ0FBbUI1ZixLQUloQzA5QyxFQUFhNy9CLElBQU03ZCxFQUFPNmQsS0FBT3VNLEVBQ2pDc3pCLEVBQWE5L0IsUUFBUXg4QixLQUFLNGUsR0FDMUJrN0MsRUFBWWg2RCxLQUFLLGFBQWMsQ0FBRSxjQUFpQnc4RCxFQUFhNy9CLE1BQy9ELEtBQVUsV0FDUndoQyxFQUF1QyxJQUFuQjVCLEVBQVFwOEQsUUFBZ0JzOEIsRUFBWWdQLFVBSzVELFNBQVNtekIsRUFBa0JsaUMsR0FHekIsR0FGQW1nQyxHQUFpQixFQUViN0MsRUFBWW45QixVQUNkLE9BQU8wZ0MsSUFLVCxHQUFJN2dDLEVBQVEzQixRQUFRNTZCLE9BQVMsRUFDM0JzOEIsRUFBWUcsTUFBUUYsRUFBUTNCLFFBQVEyQixFQUFRM0IsUUFBUTU2QixPQUFTLEdBQUd3OEIsSUFDaEVraEMsSUFDQU0sR0FBb0IsT0FDZixDQUVMLElBQUl0MUIsRUFBVyxXQUNUMkMsR0FDRi9PLEVBQVlnUCxNQUFPLEVBQ25Cb3lCLEtBRUFuQixHQUFtQixFQUVyQnlCLEdBQW9CLElBSWpCL0IsR0FBMkMsSUFBM0IxL0IsRUFBUTNCLFFBQVE1NkIsT0FVbkMwb0MsS0FUQTR6QixHQUFvQixFQUNwQkgsRUFBYWxDLGdCQUFnQjE5QixFQUFRa1MsU0FDakNtckIsR0FBU3RsRCxNQUFLLFdBQ2hCZ29ELEdBQW9CLEVBQ3BCcC9DLEVBQU91eEIsU0FBV0EsRUFBV2xTLEVBQVFrUyxTQUNyQy9GLE9BRURqSSxNQUFNazlCLEtBUWIsU0FBU2UsRUFBZXhnRSxHQUd0QixHQUZBdytELEdBQWlCLEVBRWI3QyxFQUFZbjlCLFVBQ2QsT0FBTzBnQyxJQUVUVyxFQUFpQixtQkFBb0I3L0QsR0FJdkMsU0FBU3cvRCxJQUNQLElBQ0doQixJQUNBSCxHQUNESCxFQUFRcDhELE9BQVN5OEQsRUFIbkIsQ0FPQUMsR0FBaUIsRUFRYjdDLEVBQVlqdUIsV0FDZGl1QixFQUFZMTdELGVBQWUsU0FBVTA3RCxFQUFZOEUsZUFDakQ5RSxFQUFZanVCLFNBQVMvQyxVQUV2Qmd4QixFQUFZajhELEtBQUssU0FBVWdoRSxHQUUzQixJQUFJcmlDLEVBQVV6UixFQUFJeVIsUUFBUUQsR0FDdkI1OUIsR0FBRyxTQUFVaStCLEdBQ2hCSixFQUFRam9CLEtBQUtuVyxFQUFnQkEsR0FDN0JvK0IsRUFBUWpvQixLQUFLbXFELEdBQ1ZoK0IsTUFBTWkrQixHQUVMdmtDLEVBQUtpa0MsUUFFUHZFLEVBQVlqdUIsU0FBV3JQLEVBQ3ZCczlCLEVBQVk4RSxjQUFnQkMsR0F0QjlCLFNBQVNBLElBQ1ByaUMsRUFBUXNNLFNBRVYsU0FBUzFxQyxJQUNQMDdELEVBQVkxN0QsZUFBZSxTQUFVeWdFLElBdUJ6QyxTQUFTQyxJQUNQN0IsSUFBbUIxb0QsTUFBSyxXQUV0QixJQUFJdWxELEVBQVluOUIsVUFJaEIsT0FBT3kvQixFQUFhVixnQkFBZ0JubkQsTUFBSyxTQUFVcWxELEdBRWpEcjlCLEVBQWMsQ0FDWkcsTUFGRmdTLEVBQVdrckIsRUFHVGp1QixNQUFPK2lCLEVBQ1BBLFdBQVlBLEVBQ1p6bkQsTUFBT0EsRUFDUHd5QyxRQUFTQSxFQUNUbHNCLFNBQVVBLEVBQ1ZxaEIsYUFBYSxHQUVYeFUsRUFBSzdyQixTQUNvQixpQkFBaEI2ckIsRUFBSzdyQixPQUVkZ3VCLEVBQVl5QyxjQUFlLEVBRTNCekMsRUFBWWh1QixPQUFTNnJCLEVBQUs3ckIsUUFHMUIsY0FBZTZyQixJQUNqQm1DLEVBQVlveUIsVUFBWXYwQixFQUFLdTBCLFdBRTNCLFlBQWF2MEIsSUFDZm1DLEVBQVkvM0IsUUFBVTQxQixFQUFLNTFCLFNBRXpCNDFCLEVBQUt3RSxlQUNQckMsRUFBWXFDLGFBQWV4RSxFQUFLd0UsY0FFOUJ4RSxFQUFLOXRCLE9BQ1Bpd0IsRUFBWWp3QixLQUFPOHRCLEVBQUs5dEIsTUFFMUJxeEQsT0FsQ0FOLE9Bb0NEMzhCLE9BQU0sU0FBVXZpQyxHQUNqQjYvRCxFQUFpQiwrQkFBZ0M3L0QsTUFLckQsU0FBU3kvRCxFQUFrQnovRCxHQUN6Qm8rRCxHQUFvQixFQUNwQnlCLEVBQWlCLHVDQUF3QzcvRCxHQTlaM0QyN0QsRUFBWTV1QixNQUFNbmdCLEVBQUtodUIsR0FrYW5CKzhELEVBQVluOUIsVUFDZDBnQyxLQUlHdkQsRUFBWWlGLGtCQUNmakYsRUFBWWo4RCxLQUFLLFNBQVV3L0QsR0FFRSxtQkFBbEJqakMsRUFBS3VPLFdBQ2RteEIsRUFBWWo4RCxLQUFLLFFBQVN1OEIsRUFBS3VPLFVBQy9CbXhCLEVBQVlqOEQsS0FBSyxZQUFZLFNBQVVzZixHQUNyQ2lkLEVBQUt1TyxTQUFTLEtBQU14ckIsT0FHeEIyOEMsRUFBWWlGLGlCQUFrQixRQUdOLElBQWYza0MsRUFBS3NDLE1BQ2RvaUMsSUFFQTdCLElBQW1CMW9ELE1BQUssV0FFdEIsT0FEQWdvRCxHQUFvQixFQUNiSCxFQUFhbEMsZ0JBQWdCOS9CLEVBQUtzQyxNQUFPbTlCLE1BQy9DdGxELE1BQUssV0FDTmdvRCxHQUFvQixFQUVoQnpDLEVBQVluOUIsVUFDZDBnQyxLQUdGM3VCLEVBQVd0VSxFQUFLc0MsTUFDaEJvaUMsUUFDQ3ArQixNQUFNazlCLElBT2IsU0FBU29CLEtBQ1AsSUFBR25rRSxLQUFLK0MsTUFDUkEsS0FBSysrQixXQUFZLEVBQ2pCLytCLEtBQUtpRCxNQUFRLFVBQ2IsSUFBSTgzQixFQUFPLzZCLEtBQ1BpN0IsRUFBVSxJQUFJOTZCLFNBQVEsU0FBVSs2QixFQUFTNzZCLEdBQzNDMDZCLEVBQUs5NkIsS0FBSyxXQUFZaTdCLEdBQ3RCSCxFQUFLOTZCLEtBQUssUUFBU0ksTUFFckIwNkIsRUFBS3BrQixLQUFPLFNBQVV2VyxFQUFTQyxHQUM3QixPQUFPNDZCLEVBQVF0a0IsS0FBS3ZXLEVBQVNDLElBRS9CMDZCLEVBQUsrSCxNQUFRLFNBQVV6aUMsR0FDckIsT0FBTzQ2QixFQUFRNkgsTUFBTXppQyxJQUl2QjA2QixFQUFLK0gsT0FBTSxlQTZCYixTQUFTdStCLEdBQVE5a0MsRUFBSUMsR0FDbkIsSUFBSThrQyxFQUFtQjlrQyxFQUFLOGtDLGlCQUM1QixNQUFrQixpQkFBUC9rQyxFQUNGLElBQUkra0MsRUFBaUIva0MsRUFBSUMsR0FFekJELEVBSVgsU0FBU2dsQyxHQUFpQnAwQyxFQUFLaHVCLEVBQVFxOUIsRUFBTXBCLEdBVTNDLEdBUm9CLG1CQUFUb0IsSUFDVHBCLEVBQVdvQixFQUNYQSxFQUFPLFNBRVcsSUFBVEEsSUFDVEEsRUFBTyxJQUdMQSxFQUFLcWYsVUFBWXI0QyxNQUFNNm1CLFFBQVFtUyxFQUFLcWYsU0FDdEMsTUFBTXJiLEdBQVlMLEVBQ0MsNkNBR3JCM0QsRUFBS3VPLFNBQVczUCxHQUNoQm9CLEVBQU90QyxFQUFNc0MsSUFDUmtSLFdBQWFsUixFQUFLa1IsWUFBY2xSLEVBQUttUixLQUMxQ25SLEVBQUtpa0MsTUFBUyxVQUFXamtDLEdBQVFBLEVBQUtpa0MsTUFFdENqa0MsRUFBSzhrQyxpQkFBbUI5a0MsRUFBSzhrQyxrQkFBb0J0aEUsS0FDakQsSUFBSXdoRSxFQUFlLElBQUlKLEdBQVk1a0MsR0FJbkMsT0FEQTZoQyxHQUZlZ0QsR0FBUWwwQyxFQUFLcVAsR0FDVjZrQyxHQUFRbGlFLEVBQVFxOUIsR0FDREEsRUFBTWdsQyxHQUNoQ0EsRUFJVCxTQUFTbjJELEdBQUs4aEIsRUFBS2h1QixFQUFRcTlCLEVBQU1wQixHQWEvQixNQVpvQixtQkFBVG9CLElBQ1RwQixFQUFXb0IsRUFDWEEsRUFBTyxTQUVXLElBQVRBLElBQ1RBLEVBQU8sS0FFVEEsRUFBT3RDLEVBQU1zQyxJQUVSOGtDLGlCQUFtQjlrQyxFQUFLOGtDLGtCQUFvQnRoRSxLQUcxQyxJQUFJeWhFLEdBRlh0MEMsRUFBTWswQyxHQUFRbDBDLEVBQUtxUCxHQUNuQnI5QixFQUFTa2lFLEdBQVFsaUUsRUFBUXE5QixHQUNJQSxFQUFNcEIsR0FHckMsU0FBU3FtQyxHQUFLdDBDLEVBQUtodUIsRUFBUXE5QixFQUFNcEIsR0FDL0IsSUFBSUwsRUFBTy82QixLQUNYQSxLQUFLMGhFLFVBQVcsRUFFaEIsSUFBSUMsRUFBV25sQyxFQUFLcDZCLEtBQU8rOEIsRUFBc0IsR0FBSTNDLEVBQU1BLEVBQUtwNkIsTUFBUW82QixFQUNwRW9sQyxFQUFXcGxDLEVBQUtxbEMsS0FBTzFpQyxFQUFzQixHQUFJM0MsRUFBTUEsRUFBS3FsQyxNQUFRcmxDLEVBUXhFLFNBQVNzbEMsRUFBVzlnRCxHQUNsQitaLEVBQUs3NEIsS0FBSyxTQUFVLENBQ2xCa2hCLFVBQVcsT0FDWHBDLE9BQVFBLElBR1osU0FBUytnRCxFQUFXL2dELEdBQ2xCK1osRUFBSzc0QixLQUFLLFNBQVUsQ0FDbEJraEIsVUFBVyxPQUNYcEMsT0FBUUEsSUFHWixTQUFTZ2hELEVBQVcvZ0MsR0FDbEJsRyxFQUFLNzRCLEtBQUssU0FBVSxDQUNsQmtoQixVQUFXLE9BQ1g2ZCxJQUFLQSxJQUdULFNBQVNnaEMsRUFBV2hoQyxHQUNsQmxHLEVBQUs3NEIsS0FBSyxTQUFVLENBQ2xCa2hCLFVBQVcsT0FDWDZkLElBQUtBLElBR1QsU0FBU2loQyxJQUNQbm5DLEVBQUttbkMsWUFBYSxFQUVkbm5DLEVBQUtvbkMsWUFDUHBuQyxFQUFLNzRCLEtBQUssVUFHZCxTQUFTaWdFLElBQ1BwbkMsRUFBS29uQyxZQUFhLEVBRWRwbkMsRUFBS21uQyxZQUNQbm5DLEVBQUs3NEIsS0FBSyxVQUdkLFNBQVNrZ0UsSUFDUHJuQyxFQUFLbW5DLFlBQWEsRUFFZG5uQyxFQUFLb25DLFlBQ1BwbkMsRUFBSzc0QixLQUFLLFNBQVUsQ0FDbEJraEIsVUFBVyxTQUlqQixTQUFTaS9DLElBQ1B0bkMsRUFBS29uQyxZQUFhLEVBRWRwbkMsRUFBS21uQyxZQUNQbm5DLEVBQUs3NEIsS0FBSyxTQUFVLENBQ2xCa2hCLFVBQVcsU0ExRGpCcGpCLEtBQUtvQyxLQUFPbS9ELEdBQWlCcDBDLEVBQUtodUIsRUFBUXdpRSxHQUMxQzNoRSxLQUFLNmhFLEtBQU9OLEdBQWlCcGlFLEVBQVFndUIsRUFBS3kwQyxHQUUxQzVoRSxLQUFLa2lFLFlBQWEsRUFDbEJsaUUsS0FBS21pRSxZQUFhLEVBMkRsQixJQUFJRyxFQUFVLEdBRWQsU0FBU0MsRUFBVTNnRSxHQUNqQixPQUFPLFNBQVVtdUIsRUFBTytLLElBQ0csV0FBVi9LLElBQ1orSyxJQUFTZ25DLEdBQWNobkMsSUFBU2luQyxJQUNWLFdBQVZoeUMsSUFDWitLLElBQVNtbkMsR0FBY25uQyxJQUFTa25DLElBQ1YsV0FBVmp5QyxJQUNaK0ssSUFBU3FuQyxHQUFjcm5DLElBQVNvbkMsSUFDVixXQUFWbnlDLElBQ1orSyxJQUFTdW5DLEdBQWN2bkMsSUFBU3NuQyxNQUczQnJ5QyxLQUFTdXlDLElBQ2JBLEVBQVF2eUMsR0FBUyxJQUVuQnV5QyxFQUFRdnlDLEdBQU9udUIsSUFBUSxFQUNvQixJQUF2Q3BFLE9BQU9pSSxLQUFLNjhELEVBQVF2eUMsSUFBUTF0QixRQUU5QjA0QixFQUFLdjFCLG1CQUFtQnVxQixLQVdoQyxTQUFTeXlDLEVBQWV4M0IsRUFBSWpiLEVBQU94dUIsSUFDYSxHQUExQ3lwQyxFQUFHcG1DLFVBQVVtckIsR0FBT3ZmLFFBQVFqUCxJQUM5QnlwQyxFQUFHanFDLEdBQUdndkIsRUFBT3h1QixHQVBiaTdCLEVBQUttUixPQUNQM3RDLEtBQUtvQyxLQUFLckIsR0FBRyxXQUFZZzZCLEVBQUs4bUMsS0FBSzMyQixPQUFPNXNDLEtBQUt5OEIsRUFBSzhtQyxPQUNwRDdoRSxLQUFLNmhFLEtBQUs5Z0UsR0FBRyxXQUFZZzZCLEVBQUszNEIsS0FBSzhvQyxPQUFPNXNDLEtBQUt5OEIsRUFBSzM0QixRQVN0RHBDLEtBQUtlLEdBQUcsZUFBZSxTQUFVZ3ZCLEdBQ2pCLFdBQVZBLEdBQ0Z5eUMsRUFBZXpuQyxFQUFLOG1DLEtBQU0sU0FBVUMsR0FDcENVLEVBQWV6bkMsRUFBSzM0QixLQUFNLFNBQVUyL0QsSUFDakIsV0FBVmh5QyxHQUNUeXlDLEVBQWV6bkMsRUFBSzhtQyxLQUFNLFNBQVVJLEdBQ3BDTyxFQUFlem5DLEVBQUszNEIsS0FBTSxTQUFVNC9ELElBQ2pCLFdBQVZqeUMsR0FDVHl5QyxFQUFlem5DLEVBQUs4bUMsS0FBTSxTQUFVUSxHQUNwQ0csRUFBZXpuQyxFQUFLMzRCLEtBQU0sU0FBVWdnRSxJQUNqQixXQUFWcnlDLElBQ1R5eUMsRUFBZXpuQyxFQUFLOG1DLEtBQU0sU0FBVU0sR0FDcENLLEVBQWV6bkMsRUFBSzM0QixLQUFNLFNBQVU4L0QsT0FJeENsaUUsS0FBS2UsR0FBRyxrQkFBa0IsU0FBVWd2QixHQUNwQixXQUFWQSxHQUNGZ0wsRUFBSzhtQyxLQUFLcmhFLGVBQWUsU0FBVXNoRSxHQUNuQy9tQyxFQUFLMzRCLEtBQUs1QixlQUFlLFNBQVV1aEUsSUFDaEIsV0FBVmh5QyxHQUNUZ0wsRUFBSzhtQyxLQUFLcmhFLGVBQWUsU0FBVXloRSxHQUNuQ2xuQyxFQUFLMzRCLEtBQUs1QixlQUFlLFNBQVV3aEUsSUFDaEIsV0FBVmp5QyxHQUNUZ0wsRUFBSzhtQyxLQUFLcmhFLGVBQWUsU0FBVTZoRSxHQUNuQ3RuQyxFQUFLMzRCLEtBQUs1QixlQUFlLFNBQVU0aEUsSUFDaEIsV0FBVnJ5QyxJQUNUZ0wsRUFBSzhtQyxLQUFLcmhFLGVBQWUsU0FBVTJoRSxHQUNuQ3BuQyxFQUFLMzRCLEtBQUs1QixlQUFlLFNBQVUwaEUsT0FJdkNsaUUsS0FBSzZoRSxLQUFLOWdFLEdBQUcsaUJBQWtCd2hFLEVBQVUsU0FDekN2aUUsS0FBS29DLEtBQUtyQixHQUFHLGlCQUFrQndoRSxFQUFVLFNBRXpDLElBQUl0bkMsRUFBVTk2QixRQUFRZ3hDLElBQUksQ0FDeEJueEMsS0FBS29DLEtBQ0xwQyxLQUFLNmhFLE9BQ0psckQsTUFBSyxTQUFVd2tCLEdBQ2hCLElBQUlzbkMsRUFBTSxDQUNScmdFLEtBQU0rNEIsRUFBSyxHQUNYMG1DLEtBQU0xbUMsRUFBSyxJQU9iLE9BTEFKLEVBQUs3NEIsS0FBSyxXQUFZdWdFLEdBQ2xCcm5DLEdBQ0ZBLEVBQVMsS0FBTXFuQyxHQUVqQjFuQyxFQUFLdjFCLHFCQUNFaTlELEtBQ04sU0FBVWxpRSxHQWFYLEdBWkF3NkIsRUFBS21RLFNBQ0Q5UCxFQUdGQSxFQUFTNzZCLEdBS1R3NkIsRUFBSzc0QixLQUFLLFFBQVMzQixHQUVyQnc2QixFQUFLdjFCLHFCQUNENDFCLEVBRUYsTUFBTTc2QixLQUlWUCxLQUFLMlcsS0FBTyxTQUFValAsRUFBU25ILEdBQzdCLE9BQU8wNkIsRUFBUXRrQixLQUFLalAsRUFBU25ILElBRy9CUCxLQUFLOGlDLE1BQVEsU0FBVXZpQyxHQUNyQixPQUFPMDZCLEVBQVE2SCxNQUFNdmlDLElBelJ6QixJQUFTNmdFLEdBQWEsS0FxQnRCQSxHQUFZMWlFLFVBQVV3c0MsT0FBUyxXQUM3QmxyQyxLQUFLKytCLFdBQVksRUFDakIvK0IsS0FBS2lELE1BQVEsWUFDYmpELEtBQUtrQyxLQUFLLFdBR1prL0QsR0FBWTFpRSxVQUFVNHVDLE1BQVEsU0FBVW5nQixFQUFLaHVCLEdBQzNDLElBQUk0N0IsRUFBTy82QixLQU1YLFNBQVNpckMsSUFDUGxRLEVBQUttUSxTQUlQLFNBQVN3M0IsSUFDUHYxQyxFQUFJM3NCLGVBQWUsWUFBYXlxQyxHQUNoQzlyQyxFQUFPcUIsZUFBZSxZQUFheXFDLEdBWmpDbFEsRUFBSzRuQyxlQUdUNW5DLEVBQUs0bkMsY0FBZSxFQUtwQngxQyxFQUFJbHRCLEtBQUssWUFBYWdyQyxHQUN0QjlyQyxFQUFPYyxLQUFLLFlBQWFnckMsR0FLekJsUSxFQUFLOTZCLEtBQUssV0FBWXlpRSxHQUN0QjNuQyxFQUFLOTZCLEtBQUssUUFBU3lpRSxLQXdDckIsSUFBU2pCLEdBQU0sS0F5TWZBLEdBQUsvaUUsVUFBVXdzQyxPQUFTLFdBQ2pCbHJDLEtBQUswaEUsV0FDUjFoRSxLQUFLMGhFLFVBQVcsRUFDaEIxaEUsS0FBS29DLEtBQUs4b0MsU0FDVmxyQyxLQUFLNmhFLEtBQUszMkIsV0E4QmRrQixHQUFRMkksUUFuc0hSLFNBQW1CM0ksR0FDakJBLEVBQVFJLFFBQVEsTUFBTzBjLElBQVUsTUFtc0hoQ25VLFFBem1GSCxTQUFzQjNJLEdBQ3BCQSxFQUFRSSxRQUFRLE9BQVF1aEIsSUFBVyxHQUNuQzNoQixFQUFRSSxRQUFRLFFBQVN1aEIsSUFBVyxNQXdtRm5DaFosT0FBTytsQixJQUNQL2xCLFFBN0JILFNBQXFCM0ksR0FDbkJBLEVBQVFpeUIsVUFBWWtELEdBQ3BCbjFCLEVBQVEvZ0MsS0FBT0EsR0FFZjdOLE9BQU9DLGVBQWUydUMsRUFBUTF0QyxVQUFXLFlBQWEsQ0FDcERmLElBQUssV0FDSCxJQUFJbzlCLEVBQU8vNkIsS0FXWCxZQVZxQyxJQUExQkEsS0FBSzRpRSxtQkFDZDVpRSxLQUFLNGlFLGlCQUFtQixDQUN0QngyRCxLQUFNLFNBQVV5VixFQUFPMmEsRUFBTXBCLEdBQzNCLE9BQU9MLEVBQUtoMUIsWUFBWXM0RCxVQUFVeDhDLEVBQU9rWixFQUFNeUIsRUFBTXBCLElBRXZEdlUsR0FBSSxTQUFVaEYsRUFBTzJhLEVBQU1wQixHQUN6QixPQUFPTCxFQUFLaDFCLFlBQVlzNEQsVUFBVXRqQyxFQUFNbFosRUFBTzJhLEVBQU1wQixNQUlwRHA3QixLQUFLNGlFLG9CQUloQngyQixFQUFRMXRDLFVBQVUyTSxLQUFPLFNBQVVtekIsRUFBUWhDLEVBQU1wQixHQUMvQyxPQUFPcDdCLEtBQUsrRixZQUFZc0YsS0FBS3JMLEtBQU13K0IsRUFBUWhDLEVBQU1wQixPQVd0QyxjLGdDQ2xxVWYsSUFPSXluQyxFQUNBQyxFQVJBblMsRUFBVTl6RCxFQUFPRCxRQUFVLEdBVS9CLFNBQVNtbUUsSUFDTCxNQUFNLElBQUl2Z0UsTUFBTSxtQ0FFcEIsU0FBU3dnRSxJQUNMLE1BQU0sSUFBSXhnRSxNQUFNLHFDQXNCcEIsU0FBU3lnRSxFQUFXOTdELEdBQ2hCLEdBQUkwN0QsSUFBcUJoOEQsV0FFckIsT0FBT0EsV0FBV00sRUFBSyxHQUczQixJQUFLMDdELElBQXFCRSxJQUFxQkYsSUFBcUJoOEQsV0FFaEUsT0FEQWc4RCxFQUFtQmg4RCxXQUNaQSxXQUFXTSxFQUFLLEdBRTNCLElBRUksT0FBTzA3RCxFQUFpQjE3RCxFQUFLLEdBQy9CLE1BQU1xUSxHQUNKLElBRUksT0FBT3FyRCxFQUFpQjVsRSxLQUFLLEtBQU1rSyxFQUFLLEdBQzFDLE1BQU1xUSxHQUVKLE9BQU9xckQsRUFBaUI1bEUsS0FBSytDLEtBQU1tSCxFQUFLLE1BdkNuRCxXQUNHLElBRVEwN0QsRUFEc0IsbUJBQWZoOEQsV0FDWUEsV0FFQWs4RCxFQUV6QixNQUFPdnJELEdBQ0xxckQsRUFBbUJFLEVBRXZCLElBRVFELEVBRHdCLG1CQUFqQi83RCxhQUNjQSxhQUVBaThELEVBRTNCLE1BQU94ckQsR0FDTHNyRCxFQUFxQkUsR0FqQjdCLEdBd0VBLElBRUk1OEQsRUFGQUksRUFBUSxHQUNSTCxHQUFXLEVBRVhJLEdBQWMsRUFFbEIsU0FBU0csSUFDQVAsR0FBYUMsSUFHbEJELEdBQVcsRUFDUEMsRUFBYS9ELE9BQ2JtRSxFQUFRSixFQUFhMUcsT0FBTzhHLEdBRTVCRCxHQUFjLEVBRWRDLEVBQU1uRSxRQUNONmdFLEtBSVIsU0FBU0EsSUFDTCxJQUFJLzhELEVBQUosQ0FHQSxJQUFJUyxFQUFVcThELEVBQVd2OEQsR0FDekJQLEdBQVcsRUFHWCxJQURBLElBQUl4QixFQUFNNkIsRUFBTW5FLE9BQ1ZzQyxHQUFLLENBR1AsSUFGQXlCLEVBQWVJLEVBQ2ZBLEVBQVEsS0FDQ0QsRUFBYTVCLEdBQ2R5QixHQUNBQSxFQUFhRyxHQUFZTyxNQUdqQ1AsR0FBYyxFQUNkNUIsRUFBTTZCLEVBQU1uRSxPQUVoQitELEVBQWUsS0FDZkQsR0FBVyxFQW5FZixTQUF5Qmc5RCxHQUNyQixHQUFJTCxJQUF1Qi83RCxhQUV2QixPQUFPQSxhQUFhbzhELEdBR3hCLElBQUtMLElBQXVCRSxJQUF3QkYsSUFBdUIvN0QsYUFFdkUsT0FEQSs3RCxFQUFxQi83RCxhQUNkQSxhQUFhbzhELEdBRXhCLElBRVdMLEVBQW1CSyxHQUM1QixNQUFPM3JELEdBQ0wsSUFFSSxPQUFPc3JELEVBQW1CN2xFLEtBQUssS0FBTWttRSxHQUN2QyxNQUFPM3JELEdBR0wsT0FBT3NyRCxFQUFtQjdsRSxLQUFLK0MsS0FBTW1qRSxLQWdEN0NDLENBQWdCeDhELElBaUJwQixTQUFTTSxFQUFLQyxFQUFLQyxHQUNmcEgsS0FBS21ILElBQU1BLEVBQ1huSCxLQUFLb0gsTUFBUUEsRUFZakIsU0FBU2k4RCxLQTVCVDFTLEVBQVFocUQsU0FBVyxTQUFVUSxHQUN6QixJQUFJOUgsRUFBTyxJQUFJbUUsTUFBTTdDLFVBQVUwQixPQUFTLEdBQ3hDLEdBQUkxQixVQUFVMEIsT0FBUyxFQUNuQixJQUFLLElBQUl2RixFQUFJLEVBQUdBLEVBQUk2RCxVQUFVMEIsT0FBUXZGLElBQ2xDdUMsRUFBS3ZDLEVBQUksR0FBSzZELFVBQVU3RCxHQUdoQzBKLEVBQU1wRSxLQUFLLElBQUk4RSxFQUFLQyxFQUFLOUgsSUFDSixJQUFqQm1ILEVBQU1uRSxRQUFpQjhELEdBQ3ZCODhELEVBQVdDLElBU25CaDhELEVBQUt4SSxVQUFVb0ksSUFBTSxXQUNqQjlHLEtBQUttSCxJQUFJakksTUFBTSxLQUFNYyxLQUFLb0gsUUFFOUJ1cEQsRUFBUTUzQyxNQUFRLFVBQ2hCNDNDLEVBQVFDLFNBQVUsRUFDbEJELEVBQVEyUyxJQUFNLEdBQ2QzUyxFQUFRNFMsS0FBTyxHQUNmNVMsRUFBUXBVLFFBQVUsR0FDbEJvVSxFQUFRNlMsU0FBVyxHQUluQjdTLEVBQVE1dkQsR0FBS3NpRSxFQUNiMVMsRUFBUTlyRCxZQUFjdytELEVBQ3RCMVMsRUFBUTF3RCxLQUFPb2pFLEVBQ2YxUyxFQUFRcHJELElBQU04OUQsRUFDZDFTLEVBQVFud0QsZUFBaUI2aUUsRUFDekIxUyxFQUFRbnJELG1CQUFxQjY5RCxFQUM3QjFTLEVBQVF6dUQsS0FBT21oRSxFQUNmMVMsRUFBUTdyRCxnQkFBa0J1K0QsRUFDMUIxUyxFQUFRNXJELG9CQUFzQnMrRCxFQUU5QjFTLEVBQVEvckQsVUFBWSxTQUFVdkgsR0FBUSxNQUFPLElBRTdDc3pELEVBQVE4UyxRQUFVLFNBQVVwbUUsR0FDeEIsTUFBTSxJQUFJbUYsTUFBTSxxQ0FHcEJtdUQsRUFBUStTLElBQU0sV0FBYyxNQUFPLEtBQ25DL1MsRUFBUWdULE1BQVEsU0FBVUMsR0FDdEIsTUFBTSxJQUFJcGhFLE1BQU0sbUNBRXBCbXVELEVBQVFrVCxNQUFRLFdBQWEsT0FBTyxJLGtCQ3ZMcEM7Ozs7Ozs7O0lBUUUsV0FHQSxJQVVJQyxFQUFrQixzQkFVbEJDLEVBQWMseUJBZ0RkQyxFQUFZLENBQ2QsQ0FBQyxNQTlCaUIsS0ErQmxCLENBQUMsT0F0Q2tCLEdBdUNuQixDQUFDLFVBdENzQixHQXVDdkIsQ0FBQyxRQXJDbUIsR0FzQ3BCLENBQUMsYUFyQ3lCLElBc0MxQixDQUFDLE9BakNrQixLQWtDbkIsQ0FBQyxVQXRDcUIsSUF1Q3RCLENBQUMsZUF0QzJCLElBdUM1QixDQUFDLFFBckNtQixNQXlDbEJDLEVBQVUscUJBQ1ZDLEVBQVcsaUJBRVhDLEVBQVUsbUJBQ1ZDLEVBQVUsZ0JBRVZDLEVBQVcsaUJBQ1hDLEVBQVUsb0JBQ1ZDLEVBQVMsNkJBQ1RDLEVBQVMsZUFDVEMsRUFBWSxrQkFFWkMsRUFBWSxrQkFHWkMsRUFBWSxrQkFDWkMsRUFBUyxlQUNUQyxFQUFZLGtCQUNaQyxFQUFZLGtCQUVaQyxFQUFhLG1CQUdiQyxFQUFpQix1QkFDakJDLEVBQWMsb0JBQ2RDLEVBQWEsd0JBQ2JDLEVBQWEsd0JBQ2JDLEVBQVUscUJBQ1ZDLEVBQVcsc0JBQ1hDLEVBQVcsc0JBQ1hDLEVBQVcsc0JBRVhDLEVBQVksdUJBQ1pDLEVBQVksdUJBR1pDLEVBQXVCLGlCQUN2QkMsRUFBc0IscUJBQ3RCQyxFQUF3QixnQ0FHeEJDLEVBQWdCLDRCQUNoQkMsRUFBa0IsV0FDbEJDLEVBQW1CejVDLE9BQU91NUMsRUFBY25qQyxRQUN4Q3NqQyxFQUFxQjE1QyxPQUFPdzVDLEVBQWdCcGpDLFFBRzVDdWpDLEVBQVcsbUJBQ1hDLEVBQWEsa0JBQ2JDLEVBQWdCLG1CQUdoQkMsRUFBZSxtREFDZkMsRUFBZ0IsUUFDaEJDLEVBQWEsbUdBTWJDLEVBQWUsc0JBQ2ZDLEVBQWtCbDZDLE9BQU9pNkMsRUFBYTdqQyxRQUd0QytqQyxFQUFjLE9BR2RDLEVBQWUsS0FHZkMsRUFBZ0IsNENBQ2hCQyxFQUFnQixvQ0FDaEJDLEVBQWlCLFFBR2pCQyxFQUFjLDRDQVlkQyxHQUE2QixtQkFHN0JDLEdBQWUsV0FNZkMsR0FBZSxrQ0FHZkMsR0FBVSxPQUdWQyxHQUFhLHFCQUdiQyxHQUFhLGFBR2JDLEdBQWUsOEJBR2ZDLEdBQVksY0FHWkMsR0FBVyxtQkFHWEMsR0FBVSw4Q0FHVkMsR0FBWSxPQUdaQyxHQUFvQix5QkFPcEJDLEdBQWVDLGdEQVNmQyxHQUFlQyw4T0FJZkMsR0FBVyxvQkFDWEMsR0FBVSxJQUFNSCxHQUFlLElBQy9CSSxHQUFVLElBQU1OLEdBQWUsSUFDL0JPLEdBQVcsT0FDWEMsR0FBWSxvQkFDWkMsR0FBVSw4QkFDVkMsR0FBUyxvQkFBdUJSLEdBQWVLLEdBQXRDLHFFQUNUSSxHQUFTLDJCQUVUQyxHQUFjLHFCQUNkQyxHQUFhLGtDQUNiQyxHQUFhLHFDQUNiQyxHQUFVLDhCQUlWQyxHQUFjLE1BQVFQLEdBQVUsSUFBTUMsR0FBUyxJQUMvQ08sR0FBYyxNQUFRRixHQUFVLElBQU1MLEdBQVMsSUFHL0NRLEdBWmEsTUFBUVosR0FBVSxJQUFNSyxHQUFTLElBWXRCLElBS3hCUSxHQUpXLG9CQUlRRCxJQUhQLGdCQUF3QixDQUFDTixHQUFhQyxHQUFZQyxJQUFZaG9ELEtBQUssS0FBbkUscUJBQTJGb29ELEdBQVcsTUFJbEhFLEdBQVUsTUFBUSxDQUFDWixHQUFXSyxHQUFZQyxJQUFZaG9ELEtBQUssS0FBTyxJQUFNcW9ELEdBQ3hFRSxHQUFXLE1BQVEsQ0FBQ1QsR0FBY04sR0FBVSxJQUFLQSxHQUFTTyxHQUFZQyxHQUFZVixJQUFVdG5ELEtBQUssS0FBTyxJQUd4R3dvRCxHQUFTMzhDLE9BL0JBLE9BK0JlLEtBTXhCNDhDLEdBQWM1OEMsT0FBTzI3QyxHQUFTLEtBRzlCa0IsR0FBWTc4QyxPQUFPZzhDLEdBQVMsTUFBUUEsR0FBUyxLQUFPVSxHQUFXRixHQUFPLEtBR3RFTSxHQUFnQjk4QyxPQUFPLENBQ3pCbzhDLEdBQVUsSUFBTU4sR0FBaEJNLG9DQUEwRCxDQUFDVixHQUFTVSxHQUFTLEtBQUtqb0QsS0FBSyxLQUFPLElBQzlGbW9ELHVDQUE4QyxDQUFDWixHQUFTVSxHQUFVQyxHQUFhLEtBQUtsb0QsS0FBSyxLQUFPLElBQ2hHaW9ELEdBQVUsSUFBTUMsR0FBaEJELGlDQUNBQSxvQ0F0QmUsbURBREEsbURBMEJmUixHQUNBYSxJQUNBdG9ELEtBQUssS0FBTSxLQUdUNG9ELEdBQWUvOEMsT0FBTywwQkFBK0JxN0MsR0FBL0IsbUJBR3RCMkIsR0FBbUIscUVBR25CQyxHQUFlLENBQ2pCLFFBQVMsU0FBVSxXQUFZLE9BQVEsUUFBUyxlQUFnQixlQUNoRSxXQUFZLFlBQWEsYUFBYyxhQUFjLE1BQU8sT0FBUSxTQUNwRSxVQUFXLFNBQVUsTUFBTyxTQUFVLFNBQVUsWUFBYSxhQUM3RCxvQkFBcUIsY0FBZSxjQUFlLFVBQ25ELElBQUssZUFBZ0IsV0FBWSxXQUFZLGNBSTNDQyxJQUFtQixFQUduQkMsR0FBaUIsR0FDckJBLEdBQWV2RSxHQUFjdUUsR0FBZXRFLEdBQzVDc0UsR0FBZXJFLEdBQVdxRSxHQUFlcEUsR0FDekNvRSxHQUFlbkUsR0FBWW1FLEdBQWVsRSxHQUMxQ2tFLEdBNUxzQiw4QkE0TFlBLEdBQWVqRSxHQUNqRGlFLEdBQWVoRSxJQUFhLEVBQzVCZ0UsR0FBZXhGLEdBQVd3RixHQUFldkYsR0FDekN1RixHQUFlekUsR0FBa0J5RSxHQUFldEYsR0FDaERzRixHQUFleEUsR0FBZXdFLEdBQWVyRixHQUM3Q3FGLEdBQWVwRixHQUFZb0YsR0FBZW5GLEdBQzFDbUYsR0FBZWpGLEdBQVVpRixHQUFlaEYsR0FDeENnRixHQUFlL0UsR0FBYStFLEdBQWU5RSxHQUMzQzhFLEdBQWU3RSxHQUFVNkUsR0FBZTVFLEdBQ3hDNEUsR0FBZTFFLElBQWMsRUFHN0IsSUFBSTJFLEdBQWdCLEdBQ3BCQSxHQUFjekYsR0FBV3lGLEdBQWN4RixHQUN2Q3dGLEdBQWMxRSxHQUFrQjBFLEdBQWN6RSxHQUM5Q3lFLEdBQWN2RixHQUFXdUYsR0FBY3RGLEdBQ3ZDc0YsR0FBY3hFLEdBQWN3RSxHQUFjdkUsR0FDMUN1RSxHQUFjdEUsR0FBV3NFLEdBQWNyRSxHQUN2Q3FFLEdBQWNwRSxHQUFZb0UsR0FBY2xGLEdBQ3hDa0YsR0FBY2pGLEdBQWFpRixHQUFjaEYsR0FDekNnRixHQUFjL0UsR0FBYStFLEdBQWM5RSxHQUN6QzhFLEdBQWM3RSxHQUFhNkUsR0FBYzVFLEdBQ3pDNEUsR0FBY25FLEdBQVltRSxHQWxOSiw4QkFtTnRCQSxHQUFjbEUsR0FBYWtFLEdBQWNqRSxJQUFhLEVBQ3REaUUsR0FBY3JGLEdBQVlxRixHQUFjcEYsR0FDeENvRixHQUFjM0UsSUFBYyxFQUc1QixJQTRFSTRFLEdBQWdCLENBQ2xCLEtBQU0sS0FDTixJQUFLLElBQ0wsS0FBTSxJQUNOLEtBQU0sSUFDTixTQUFVLFFBQ1YsU0FBVSxTQUlSQyxHQUFpQnY5QyxXQUNqQnc5QyxHQUFlenRELFNBR2YwdEQsR0FBOEIsaUJBQVZ6ZSxHQUFzQkEsR0FBVUEsRUFBTzd0RCxTQUFXQSxRQUFVNnRELEVBR2hGMGUsR0FBMEIsaUJBQVJodkMsTUFBb0JBLE1BQVFBLEtBQUt2OUIsU0FBV0EsUUFBVXU5QixLQUd4RWlPLEdBQU84Z0MsSUFBY0MsSUFBWXpxRSxTQUFTLGNBQVRBLEdBR2pDMHFFLEdBQTRDcHRFLElBQVlBLEVBQVFxdEUsVUFBWXJ0RSxFQUc1RXN0RSxHQUFhRixJQUFnQyxpQkFBVm50RSxHQUFzQkEsSUFBV0EsRUFBT290RSxVQUFZcHRFLEVBR3ZGc3RFLEdBQWdCRCxJQUFjQSxHQUFXdHRFLFVBQVlvdEUsR0FHckRJLEdBQWNELElBQWlCTCxHQUFXblosUUFHMUMwWixHQUFZLFdBQ2QsSUFFRSxJQUFJL2pFLEVBQVE0akUsSUFBY0EsR0FBV0ksU0FBV0osR0FBV0ksUUFBUSxRQUFRaGtFLE1BRTNFLE9BQUlBLEdBS0c4akUsSUFBZUEsR0FBWTNHLFNBQVcyRyxHQUFZM0csUUFBUSxRQUNqRSxNQUFPanNELEtBWEksR0FlWCt5RCxHQUFvQkYsSUFBWUEsR0FBU0csY0FDekNDLEdBQWFKLElBQVlBLEdBQVNLLE9BQ2xDQyxHQUFZTixJQUFZQSxHQUFTTyxNQUNqQ0MsR0FBZVIsSUFBWUEsR0FBU1MsU0FDcENDLEdBQVlWLElBQVlBLEdBQVNXLE1BQ2pDQyxHQUFtQlosSUFBWUEsR0FBU2EsYUFjNUMsU0FBU2hzRSxHQUFNNDdCLEVBQU1xd0MsRUFBUzlyRSxHQUM1QixPQUFRQSxFQUFLZ0QsUUFDWCxLQUFLLEVBQUcsT0FBT3k0QixFQUFLNzlCLEtBQUtrdUUsR0FDekIsS0FBSyxFQUFHLE9BQU9yd0MsRUFBSzc5QixLQUFLa3VFLEVBQVM5ckUsRUFBSyxJQUN2QyxLQUFLLEVBQUcsT0FBT3k3QixFQUFLNzlCLEtBQUtrdUUsRUFBUzlyRSxFQUFLLEdBQUlBLEVBQUssSUFDaEQsS0FBSyxFQUFHLE9BQU95N0IsRUFBSzc5QixLQUFLa3VFLEVBQVM5ckUsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssSUFFM0QsT0FBT3k3QixFQUFLNTdCLE1BQU1pc0UsRUFBUzlyRSxHQWE3QixTQUFTK3JFLEdBQWdCaGtFLEVBQU9pa0UsRUFBUUMsRUFBVUMsR0FJaEQsSUFIQSxJQUFJbm1FLEdBQVMsRUFDVC9DLEVBQWtCLE1BQVQrRSxFQUFnQixFQUFJQSxFQUFNL0UsU0FFOUIrQyxFQUFRL0MsR0FBUSxDQUN2QixJQUFJdEUsRUFBUXFKLEVBQU1oQyxHQUNsQmltRSxFQUFPRSxFQUFheHRFLEVBQU91dEUsRUFBU3Z0RSxHQUFRcUosR0FFOUMsT0FBT21rRSxFQVlULFNBQVNDLEdBQVVwa0UsRUFBT2trRSxHQUl4QixJQUhBLElBQUlsbUUsR0FBUyxFQUNUL0MsRUFBa0IsTUFBVCtFLEVBQWdCLEVBQUlBLEVBQU0vRSxTQUU5QitDLEVBQVEvQyxJQUM4QixJQUF6Q2lwRSxFQUFTbGtFLEVBQU1oQyxHQUFRQSxFQUFPZ0MsS0FJcEMsT0FBT0EsRUFZVCxTQUFTcWtFLEdBQWVya0UsRUFBT2trRSxHQUc3QixJQUZBLElBQUlqcEUsRUFBa0IsTUFBVCtFLEVBQWdCLEVBQUlBLEVBQU0vRSxPQUVoQ0EsTUFDMEMsSUFBM0NpcEUsRUFBU2xrRSxFQUFNL0UsR0FBU0EsRUFBUStFLEtBSXRDLE9BQU9BLEVBYVQsU0FBU3NrRSxHQUFXdGtFLEVBQU91a0UsR0FJekIsSUFIQSxJQUFJdm1FLEdBQVMsRUFDVC9DLEVBQWtCLE1BQVQrRSxFQUFnQixFQUFJQSxFQUFNL0UsU0FFOUIrQyxFQUFRL0MsR0FDZixJQUFLc3BFLEVBQVV2a0UsRUFBTWhDLEdBQVFBLEVBQU9nQyxHQUNsQyxPQUFPLEVBR1gsT0FBTyxFQVlULFNBQVN3a0UsR0FBWXhrRSxFQUFPdWtFLEdBTTFCLElBTEEsSUFBSXZtRSxHQUFTLEVBQ1QvQyxFQUFrQixNQUFUK0UsRUFBZ0IsRUFBSUEsRUFBTS9FLE9BQ25Dd3BFLEVBQVcsRUFDWHRzRCxFQUFTLEtBRUpuYSxFQUFRL0MsR0FBUSxDQUN2QixJQUFJdEUsRUFBUXFKLEVBQU1oQyxHQUNkdW1FLEVBQVU1dEUsRUFBT3FILEVBQU9nQyxLQUMxQm1ZLEVBQU9zc0QsS0FBYzl0RSxHQUd6QixPQUFPd2hCLEVBWVQsU0FBU3VzRCxHQUFjMWtFLEVBQU9ySixHQUU1QixTQURzQixNQUFUcUosRUFBZ0IsRUFBSUEsRUFBTS9FLFNBQ3BCMHBFLEdBQVkza0UsRUFBT3JKLEVBQU8sSUFBTSxFQVlyRCxTQUFTaXVFLEdBQWtCNWtFLEVBQU9ySixFQUFPeXFDLEdBSXZDLElBSEEsSUFBSXBqQyxHQUFTLEVBQ1QvQyxFQUFrQixNQUFUK0UsRUFBZ0IsRUFBSUEsRUFBTS9FLFNBRTlCK0MsRUFBUS9DLEdBQ2YsR0FBSW1tQyxFQUFXenFDLEVBQU9xSixFQUFNaEMsSUFDMUIsT0FBTyxFQUdYLE9BQU8sRUFZVCxTQUFTNm1FLEdBQVM3a0UsRUFBT2trRSxHQUt2QixJQUpBLElBQUlsbUUsR0FBUyxFQUNUL0MsRUFBa0IsTUFBVCtFLEVBQWdCLEVBQUlBLEVBQU0vRSxPQUNuQ2tkLEVBQVMvYixNQUFNbkIsS0FFVitDLEVBQVEvQyxHQUNma2QsRUFBT25hLEdBQVNrbUUsRUFBU2xrRSxFQUFNaEMsR0FBUUEsRUFBT2dDLEdBRWhELE9BQU9tWSxFQVdULFNBQVMyc0QsR0FBVTlrRSxFQUFPcUwsR0FLeEIsSUFKQSxJQUFJck4sR0FBUyxFQUNUL0MsRUFBU29RLEVBQU9wUSxPQUNoQndYLEVBQVN6UyxFQUFNL0UsU0FFVitDLEVBQVEvQyxHQUNmK0UsRUFBTXlTLEVBQVN6VSxHQUFTcU4sRUFBT3JOLEdBRWpDLE9BQU9nQyxFQWVULFNBQVMra0UsR0FBWS9rRSxFQUFPa2tFLEVBQVVDLEVBQWFhLEdBQ2pELElBQUlobkUsR0FBUyxFQUNUL0MsRUFBa0IsTUFBVCtFLEVBQWdCLEVBQUlBLEVBQU0vRSxPQUt2QyxJQUhJK3BFLEdBQWEvcEUsSUFDZmtwRSxFQUFjbmtFLElBQVFoQyxNQUVmQSxFQUFRL0MsR0FDZmtwRSxFQUFjRCxFQUFTQyxFQUFhbmtFLEVBQU1oQyxHQUFRQSxFQUFPZ0MsR0FFM0QsT0FBT21rRSxFQWVULFNBQVNjLEdBQWlCamxFLEVBQU9ra0UsRUFBVUMsRUFBYWEsR0FDdEQsSUFBSS9wRSxFQUFrQixNQUFUK0UsRUFBZ0IsRUFBSUEsRUFBTS9FLE9BSXZDLElBSEkrcEUsR0FBYS9wRSxJQUNma3BFLEVBQWNua0UsSUFBUS9FLElBRWpCQSxLQUNMa3BFLEVBQWNELEVBQVNDLEVBQWFua0UsRUFBTS9FLEdBQVNBLEVBQVErRSxHQUU3RCxPQUFPbWtFLEVBYVQsU0FBU2UsR0FBVWxsRSxFQUFPdWtFLEdBSXhCLElBSEEsSUFBSXZtRSxHQUFTLEVBQ1QvQyxFQUFrQixNQUFUK0UsRUFBZ0IsRUFBSUEsRUFBTS9FLFNBRTlCK0MsRUFBUS9DLEdBQ2YsR0FBSXNwRSxFQUFVdmtFLEVBQU1oQyxHQUFRQSxFQUFPZ0MsR0FDakMsT0FBTyxFQUdYLE9BQU8sRUFVVCxJQUFJbWxFLEdBQVlDLEdBQWEsVUFtQzdCLFNBQVNDLEdBQVlDLEVBQVlmLEVBQVdnQixHQUMxQyxJQUFJcHRELEVBT0osT0FOQW90RCxFQUFTRCxHQUFZLFNBQVMzdUUsRUFBT00sRUFBS3F1RSxHQUN4QyxHQUFJZixFQUFVNXRFLEVBQU9NLEVBQUtxdUUsR0FFeEIsT0FEQW50RCxFQUFTbGhCLEdBQ0YsS0FHSmtoQixFQWNULFNBQVNxdEQsR0FBY3hsRSxFQUFPdWtFLEVBQVdrQixFQUFXQyxHQUlsRCxJQUhBLElBQUl6cUUsRUFBUytFLEVBQU0vRSxPQUNmK0MsRUFBUXluRSxHQUFhQyxFQUFZLEdBQUssR0FFbENBLEVBQVkxbkUsTUFBWUEsRUFBUS9DLEdBQ3RDLEdBQUlzcEUsRUFBVXZrRSxFQUFNaEMsR0FBUUEsRUFBT2dDLEdBQ2pDLE9BQU9oQyxFQUdYLE9BQVEsRUFZVixTQUFTMm1FLEdBQVkza0UsRUFBT3JKLEVBQU84dUUsR0FDakMsT0FBTzl1RSxHQUFVQSxFQWlkbkIsU0FBdUJxSixFQUFPckosRUFBTzh1RSxHQUNuQyxJQUFJem5FLEVBQVF5bkUsRUFBWSxFQUNwQnhxRSxFQUFTK0UsRUFBTS9FLE9BRW5CLE9BQVMrQyxFQUFRL0MsR0FDZixHQUFJK0UsRUFBTWhDLEtBQVdySCxFQUNuQixPQUFPcUgsRUFHWCxPQUFRLEVBemRKMm5FLENBQWMzbEUsRUFBT3JKLEVBQU84dUUsR0FDNUJELEdBQWN4bEUsRUFBTzRsRSxHQUFXSCxHQWF0QyxTQUFTSSxHQUFnQjdsRSxFQUFPckosRUFBTzh1RSxFQUFXcmtDLEdBSWhELElBSEEsSUFBSXBqQyxFQUFReW5FLEVBQVksRUFDcEJ4cUUsRUFBUytFLEVBQU0vRSxTQUVWK0MsRUFBUS9DLEdBQ2YsR0FBSW1tQyxFQUFXcGhDLEVBQU1oQyxHQUFRckgsR0FDM0IsT0FBT3FILEVBR1gsT0FBUSxFQVVWLFNBQVM0bkUsR0FBVWp2RSxHQUNqQixPQUFPQSxHQUFVQSxFQVluQixTQUFTbXZFLEdBQVM5bEUsRUFBT2trRSxHQUN2QixJQUFJanBFLEVBQWtCLE1BQVQrRSxFQUFnQixFQUFJQSxFQUFNL0UsT0FDdkMsT0FBT0EsRUFBVThxRSxHQUFRL2xFLEVBQU9ra0UsR0FBWWpwRSxFQTF5QnBDLElBb3pCVixTQUFTbXFFLEdBQWFudUUsR0FDcEIsT0FBTyxTQUFTRyxHQUNkLE9BQWlCLE1BQVZBLE9BbDNCUDBDLEVBazNCb0MxQyxFQUFPSCxJQVcvQyxTQUFTK3VFLEdBQWU1dUUsR0FDdEIsT0FBTyxTQUFTSCxHQUNkLE9BQWlCLE1BQVZHLE9BLzNCUDBDLEVBKzNCb0MxQyxFQUFPSCxJQWlCL0MsU0FBU2d2RSxHQUFXWCxFQUFZcEIsRUFBVUMsRUFBYWEsRUFBV08sR0FNaEUsT0FMQUEsRUFBU0QsR0FBWSxTQUFTM3VFLEVBQU9xSCxFQUFPc25FLEdBQzFDbkIsRUFBY2EsR0FDVEEsR0FBWSxFQUFPcnVFLEdBQ3BCdXRFLEVBQVNDLEVBQWF4dEUsRUFBT3FILEVBQU9zbkUsTUFFbkNuQixFQWdDVCxTQUFTNEIsR0FBUS9sRSxFQUFPa2tFLEdBS3RCLElBSkEsSUFBSS9yRCxFQUNBbmEsR0FBUyxFQUNUL0MsRUFBUytFLEVBQU0vRSxTQUVWK0MsRUFBUS9DLEdBQVEsQ0FDdkIsSUFBSXdtQixFQUFVeWlELEVBQVNsa0UsRUFBTWhDLFNBNTdCN0JsRSxJQTY3QkkybkIsSUFDRnRKLE9BOTdCRnJlLElBODdCV3FlLEVBQXVCc0osRUFBV3RKLEVBQVNzSixHQUd4RCxPQUFPdEosRUFZVCxTQUFTK3RELEdBQVUvdUUsRUFBRytzRSxHQUlwQixJQUhBLElBQUlsbUUsR0FBUyxFQUNUbWEsRUFBUy9iLE1BQU1qRixLQUVWNkcsRUFBUTdHLEdBQ2ZnaEIsRUFBT25hLEdBQVNrbUUsRUFBU2xtRSxHQUUzQixPQUFPbWEsRUF5QlQsU0FBU2d1RCxHQUFTM25DLEdBQ2hCLE9BQU9BLEVBQ0hBLEVBQU9sbEMsTUFBTSxFQUFHOHNFLEdBQWdCNW5DLEdBQVUsR0FBRzV1QixRQUFReXZELEVBQWEsSUFDbEU3Z0MsRUFVTixTQUFTNm5DLEdBQVUzeUMsR0FDakIsT0FBTyxTQUFTLzhCLEdBQ2QsT0FBTys4QixFQUFLLzhCLElBY2hCLFNBQVMydkUsR0FBV2x2RSxFQUFRbS9ELEdBQzFCLE9BQU9zTyxHQUFTdE8sR0FBTyxTQUFTdC9ELEdBQzlCLE9BQU9HLEVBQU9ILE1BWWxCLFNBQVNzdkUsR0FBU0MsRUFBT3Z2RSxHQUN2QixPQUFPdXZFLEVBQU10N0QsSUFBSWpVLEdBWW5CLFNBQVN3dkUsR0FBZ0JDLEVBQVlDLEdBSW5DLElBSEEsSUFBSTNvRSxHQUFTLEVBQ1QvQyxFQUFTeXJFLEVBQVd6ckUsU0FFZitDLEVBQVEvQyxHQUFVMHBFLEdBQVlnQyxFQUFZRCxFQUFXMW9FLEdBQVEsSUFBTSxJQUM1RSxPQUFPQSxFQVlULFNBQVM0b0UsR0FBY0YsRUFBWUMsR0FHakMsSUFGQSxJQUFJM29FLEVBQVEwb0UsRUFBV3pyRSxPQUVoQitDLEtBQVcybUUsR0FBWWdDLEVBQVlELEVBQVcxb0UsR0FBUSxJQUFNLElBQ25FLE9BQU9BLEVBV1QsU0FBUzZvRSxHQUFhN21FLEVBQU84bUUsR0FJM0IsSUFIQSxJQUFJN3JFLEVBQVMrRSxFQUFNL0UsT0FDZmtkLEVBQVMsRUFFTmxkLEtBQ0QrRSxFQUFNL0UsS0FBWTZyRSxLQUNsQjN1RCxFQUdOLE9BQU9BLEVBV1QsSUFBSTR1RCxHQUFlZixHQWp4QkcsQ0FFcEIsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQzFFLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUMxRSxJQUFRLElBQU0sSUFBUSxJQUN0QixJQUFRLElBQU0sSUFBUSxJQUN0QixJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQ3RCLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUMxRSxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDMUUsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUNuQyxJQUFRLEtBQU0sSUFBUSxLQUN0QixJQUFRLEtBQU0sSUFBUSxLQUN0QixJQUFRLEtBRVIsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFB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LHdCQUF5Qi95SSxHQUVyQixNQUFNK3lJLEVBQWlCaDRJLEtBQUs0SyxTQUFTK3RILGFBQWUzNEgsS0FBSzRLLFNBQVMwdEgsVUFJbEUsT0FBdUIsSUFBbkIwZixFQUNPL3lJLEVBRUpBLEVBQVdrRCxLQUFLcTZHLElBQUksRUFBR3cxQixHQVNsQyxTQUVJLE9BQU9oNEksS0FBS285SSxhQUFhcDlJLEtBQUs0SyxTQUFTMHRILFVBQVksR0FPdkQsVUFFSSxPQUFPdDRILEtBQUtvOUksYUFBYXA5SSxLQUFLNEssU0FBUzB0SCxVQUFZLElBSTNELEdBQUt2VCxPQUFTLEVBQUtBLE9BRUosSUFNQTE1RCxHQU5BLGFBS08sb0JBQVh6aUQsVUFDSXlpRCxHQUdSemlELFFBRFF5OUksS0FBT2g3RixHQUFPZzdGLE1BQVEiLCJmaWxlIjoiZWRpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDU4KTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSID0gdHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnID8gUmVmbGVjdCA6IG51bGxcbnZhciBSZWZsZWN0QXBwbHkgPSBSICYmIHR5cGVvZiBSLmFwcGx5ID09PSAnZnVuY3Rpb24nXG4gID8gUi5hcHBseVxuICA6IGZ1bmN0aW9uIFJlZmxlY3RBcHBseSh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpO1xuICB9XG5cbnZhciBSZWZsZWN0T3duS2V5c1xuaWYgKFIgJiYgdHlwZW9mIFIub3duS2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWZsZWN0T3duS2V5cyA9IFIub3duS2V5c1xufSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldClcbiAgICAgIC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpKTtcbiAgfTtcbn0gZWxzZSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFByb2Nlc3NFbWl0V2FybmluZyh3YXJuaW5nKSB7XG4gIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2FybikgY29uc29sZS53YXJuKHdhcm5pbmcpO1xufVxuXG52YXIgTnVtYmVySXNOYU4gPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gTnVtYmVySXNOYU4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICBFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5tb2R1bGUuZXhwb3J0cy5vbmNlID0gb25jZTtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDA7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbmZ1bmN0aW9uIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgbGlzdGVuZXIpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyB8fCBhcmcgPCAwIHx8IE51bWJlcklzTmFOKGFyZykpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIGFyZyArICcuJyk7XG4gICAgfVxuICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gIH1cbn0pO1xuXG5FdmVudEVtaXR0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0aGlzLl9ldmVudHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGhpcy5fZXZlbnRzID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykge1xuICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn07XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgTnVtYmVySXNOYU4obikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBuICsgJy4nKTtcbiAgfVxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIF9nZXRNYXhMaXN0ZW5lcnModGhhdCkge1xuICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIF9nZXRNYXhMaXN0ZW5lcnModGhpcyk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMClcbiAgICAgIGVyID0gYXJnc1swXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gTm90ZTogVGhlIGNvbW1lbnRzIG9uIHRoZSBgdGhyb3dgIGxpbmVzIGFyZSBpbnRlbnRpb25hbCwgdGhleSBzaG93XG4gICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfVxuICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmhhbmRsZWQgZXJyb3IuJyArIChlciA/ICcgKCcgKyBlci5tZXNzYWdlICsgJyknIDogJycpKTtcbiAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgfVxuXG4gIHZhciBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFJlZmxlY3RBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0YXJnZXQuX2V2ZW50c0NvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoZXhpc3RpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgKyt0YXJnZXQuX2V2ZW50c0NvdW50O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPVxuICAgICAgICBwcmVwZW5kID8gW2xpc3RlbmVyLCBleGlzdGluZ10gOiBbZXhpc3RpbmcsIGxpc3RlbmVyXTtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB9IGVsc2UgaWYgKHByZXBlbmQpIHtcbiAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICAgIG0gPSBfZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgaWYgKG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0gJiYgIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgIC8vIE5vIGVycm9yIGNvZGUgZm9yIHRoaXMgc2luY2UgaXQgaXMgYSBXYXJuaW5nXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnICcgKyBTdHJpbmcodHlwZSkgKyAnIGxpc3RlbmVycyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0Jyk7XG4gICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgIHcuZW1pdHRlciA9IHRhcmdldDtcbiAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgUHJvY2Vzc0VtaXRXYXJuaW5nKHcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gIGlmICghdGhpcy5maXJlZCkge1xuICAgIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSwgdGhpcy53cmFwRm4pO1xuICAgIHRoaXMuZmlyZWQgPSB0cnVlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsIGFyZ3VtZW50cyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX29uY2VXcmFwKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIHN0YXRlID0geyBmaXJlZDogZmFsc2UsIHdyYXBGbjogdW5kZWZpbmVkLCB0YXJnZXQ6IHRhcmdldCwgdHlwZTogdHlwZSwgbGlzdGVuZXI6IGxpc3RlbmVyIH07XG4gIHZhciB3cmFwcGVkID0gb25jZVdyYXBwZXIuYmluZChzdGF0ZSk7XG4gIHdyYXBwZWQubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgc3RhdGUud3JhcEZuID0gd3JhcHBlZDtcbiAgcmV0dXJuIHdyYXBwZWQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIHRoaXMub24odHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kT25jZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgIGV2ZW50c1t0eXBlXSA9IGxpc3RbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cywgaTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzW3R5cGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcbiAgaWYgKGV2bGlzdGVuZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKVxuICAgIHJldHVybiB1bndyYXAgPyBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXSA6IFtldmxpc3RlbmVyXTtcblxuICByZXR1cm4gdW53cmFwID9cbiAgICB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcikgOiBhcnJheUNsb25lKGV2bGlzdGVuZXIsIGV2bGlzdGVuZXIubGVuZ3RoKTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCB0cnVlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24gcmF3TGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgbikge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKDsgaW5kZXggKyAxIDwgbGlzdC5sZW5ndGg7IGluZGV4KyspXG4gICAgbGlzdFtpbmRleF0gPSBsaXN0W2luZGV4ICsgMV07XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHtcbiAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG9uY2UoZW1pdHRlciwgbmFtZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGVycm9yTGlzdGVuZXIoZXJyKSB7XG4gICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5hbWUsIHJlc29sdmVyKTtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc29sdmVyKCkge1xuICAgICAgaWYgKHR5cGVvZiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICByZXNvbHZlKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgfTtcblxuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCByZXNvbHZlciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIGlmIChuYW1lICE9PSAnZXJyb3InKSB7XG4gICAgICBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBlcnJvckxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgaGFuZGxlciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsICdlcnJvcicsIGhhbmRsZXIsIGZsYWdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgbGlzdGVuZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICBlbWl0dGVyLm9uY2UobmFtZSwgbGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbWl0dGVyLm9uKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIEV2ZW50VGFyZ2V0IGRvZXMgbm90IGhhdmUgYGVycm9yYCBldmVudCBzZW1hbnRpY3MgbGlrZSBOb2RlXG4gICAgLy8gRXZlbnRFbWl0dGVycywgd2UgZG8gbm90IGxpc3RlbiBmb3IgYGVycm9yYCBldmVudHMgaGVyZS5cbiAgICBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZnVuY3Rpb24gd3JhcExpc3RlbmVyKGFyZykge1xuICAgICAgLy8gSUUgZG9lcyBub3QgaGF2ZSBidWlsdGluIGB7IG9uY2U6IHRydWUgfWAgc3VwcG9ydCBzbyB3ZVxuICAgICAgLy8gaGF2ZSB0byBkbyBpdCBtYW51YWxseS5cbiAgICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCB3cmFwTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgbGlzdGVuZXIoYXJnKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGVtaXR0ZXIpO1xuICB9XG59XG4iLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG52YXIgdHlwZXMgPSBbXG4gIHJlcXVpcmUoJy4vbmV4dFRpY2snKSxcbiAgcmVxdWlyZSgnLi9xdWV1ZU1pY3JvdGFzaycpLFxuICByZXF1aXJlKCcuL211dGF0aW9uLmpzJyksXG4gIHJlcXVpcmUoJy4vbWVzc2FnZUNoYW5uZWwnKSxcbiAgcmVxdWlyZSgnLi9zdGF0ZUNoYW5nZScpLFxuICByZXF1aXJlKCcuL3RpbWVvdXQnKVxuXTtcbnZhciBkcmFpbmluZztcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xudmFyIHF1ZXVlID0gW107XG52YXIgc2NoZWR1bGVkID0gZmFsc2U7XG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBkcmFpbmluZyA9IGZhbHNlO1xuICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcXVldWVJbmRleCA9IC0xO1xuICB9XG4gIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICBuZXh0VGljaygpO1xuICB9XG59XG5cbi8vbmFtZWQgbmV4dFRpY2sgZm9yIGxlc3MgY29uZnVzaW5nIHN0YWNrIHRyYWNlc1xuZnVuY3Rpb24gbmV4dFRpY2soKSB7XG4gIGlmIChkcmFpbmluZykge1xuICAgIHJldHVybjtcbiAgfVxuICBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgZHJhaW5pbmcgPSB0cnVlO1xuICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgd2hpbGUgKGxlbikge1xuICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgIHF1ZXVlID0gW107XG4gICAgd2hpbGUgKGN1cnJlbnRRdWV1ZSAmJiArK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICB9XG4gICAgcXVldWVJbmRleCA9IC0xO1xuICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgfVxuICBjdXJyZW50UXVldWUgPSBudWxsO1xuICBxdWV1ZUluZGV4ID0gLTE7XG4gIGRyYWluaW5nID0gZmFsc2U7XG4gIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cbnZhciBzY2hlZHVsZURyYWluO1xudmFyIGkgPSAtMTtcbnZhciBsZW4gPSB0eXBlcy5sZW5ndGg7XG53aGlsZSAoKytpIDwgbGVuKSB7XG4gIGlmICh0eXBlc1tpXSAmJiB0eXBlc1tpXS50ZXN0ICYmIHR5cGVzW2ldLnRlc3QoKSkge1xuICAgIHNjaGVkdWxlRHJhaW4gPSB0eXBlc1tpXS5pbnN0YWxsKG5leHRUaWNrKTtcbiAgICBicmVhaztcbiAgfVxufVxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gIHRoaXMuZnVuID0gZnVuO1xuICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBmdW4gPSB0aGlzLmZ1bjtcbiAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTtcbiAgc3dpdGNoIChhcnJheS5sZW5ndGgpIHtcbiAgY2FzZSAwOlxuICAgIHJldHVybiBmdW4oKTtcbiAgY2FzZSAxOlxuICAgIHJldHVybiBmdW4oYXJyYXlbMF0pO1xuICBjYXNlIDI6XG4gICAgcmV0dXJuIGZ1bihhcnJheVswXSwgYXJyYXlbMV0pO1xuICBjYXNlIDM6XG4gICAgcmV0dXJuIGZ1bihhcnJheVswXSwgYXJyYXlbMV0sIGFycmF5WzJdKTtcbiAgZGVmYXVsdDpcbiAgICByZXR1cm4gZnVuLmFwcGx5KG51bGwsIGFycmF5KTtcbiAgfVxuXG59O1xubW9kdWxlLmV4cG9ydHMgPSBpbW1lZGlhdGU7XG5mdW5jdGlvbiBpbW1lZGlhdGUodGFzaykge1xuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gIH1cbiAgcXVldWUucHVzaChuZXcgSXRlbSh0YXNrLCBhcmdzKSk7XG4gIGlmICghc2NoZWR1bGVkICYmICFkcmFpbmluZykge1xuICAgIHNjaGVkdWxlZCA9IHRydWU7XG4gICAgc2NoZWR1bGVEcmFpbigpO1xuICB9XG59XG4iLCJpbXBvcnQgeyByZWNvcmROb3RpZmljYXRpb24gfSBmcm9tICcuL0Vycm9yTG9nJztcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4vcmFuZG9tJztcblxudHlwZSBOb3RpZmljYXRpb25UeXBlID0gJ2RlZmF1bHQnIHwgJ2Vycm9yJyB8ICd3YXJuaW5nJyB8ICdzdWNjZXNzJztcblxuY29uc3Qgbm90aWZpY2F0aW9uczogTm90aWZpY2F0aW9uW10gPSBuZXcgQXJyYXkoMCk7XG5sZXQgY3VycmVudE1vZGVNZXNzYWdlOiBOb3RpZmljYXRpb24gPSBudWxsO1xuXG4vKipcbiAqIE51bWJlciBvZiBub3RpZmljYXRpb25zIHRvIGRpc3BsYXkgYXQgYSB0aW1lLlxuICovXG5jb25zdCBOVU1CRVJfVE9fRElTUExBWSA9IDM7XG5cbi8qKlxuICogTnVtYmVyIG9mIG5vdGlmaWNhdGlvbnMgdG8gZGlzcGxheSBhdCBhIHRpbWUuXG4gKi9cbmNvbnN0IFRJTUVPVVQgPSA1MDAwO1xuXG5jb25zdCBub3RpZmljYXRpb25JY29uOiBSZWNvcmQ8Tm90aWZpY2F0aW9uVHlwZSwgc3RyaW5nPiA9IHtcbiAgZGVmYXVsdDogJycsXG4gIHdhcm5pbmc6ICfimqDvuI8gJyxcbiAgZXJyb3I6ICfwn5S0ICcsXG4gIHN1Y2Nlc3M6ICfinIUgJyxcbn07XG5cbi8qKlxuICogQSBjbGFzcyB0byBtYW5hZ2UgTmVvbiBub3RpZmljYXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgTm90aWZpY2F0aW9uIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBkaXNwbGF5ZWQ6IGJvb2xlYW47XG4gIGlkOiBzdHJpbmc7XG4gIGlzTW9kZU1lc3NhZ2U6IGJvb2xlYW47XG4gIGxvZ0luZm86IHN0cmluZztcbiAgdGltZW91dElEOiBudW1iZXI7XG4gIHR5cGU6IE5vdGlmaWNhdGlvblR5cGU7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbm90aWZpY2F0aW9uLlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSwgbG9nSW5mbzogc3RyaW5nID0gbnVsbCkge1xuICAgIHRoaXMubWVzc2FnZSA9IG5vdGlmaWNhdGlvbkljb25bdHlwZV0gKyBtZXNzYWdlO1xuICAgIHRoaXMuZGlzcGxheWVkID0gZmFsc2U7XG4gICAgdGhpcy5pZCA9IHV1aWR2NCgpO1xuICAgIHRoaXMuaXNNb2RlTWVzc2FnZSA9IG1lc3NhZ2Uuc2VhcmNoKCdNb2RlJykgIT09IC0xO1xuICAgIHRoaXMubG9nSW5mbyA9IGxvZ0luZm87XG4gICAgdGhpcy50aW1lb3V0SUQgPSAtMTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgLyoqIFNldCB0aGUgSUQgZnJvbSBzZXRUaW1lb3V0LiAqL1xuICBzZXRUaW1lb3V0SWQgKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnRpbWVvdXRJRCA9IE1hdGgubWF4KGlkLCAtMSk7XG4gIH1cblxuICAvKiogRGlzcGxheSB0aGUgTm90aWZpY2F0aW9uLiAqL1xuICBkaXNwbGF5ICgpOiB2b2lkIHtcbiAgICB0aGlzLmRpc3BsYXllZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIFVVSUQgZm9yIHRoaXMgbm90aWZpY2F0aW9uLlxuICAgKi9cbiAgZ2V0SWQgKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuaWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGVhciB0aGUgbm90aWZpY2F0aW9uXG4gKiBAcGFyYW0gY3VycmVudElkIC0gVGhlIElEIG9mIHRoZSBub3RpZmljYXRpb24gdG8gYmUgY2xlYXJlZC5cbiAqL1xuZnVuY3Rpb24gY2xlYXJOb3RpZmljYXRpb24gKGN1cnJlbnRJZDogc3RyaW5nKTogdm9pZCB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjdXJyZW50SWQpKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3VycmVudElkKS5yZW1vdmUoKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BsYXkgYSBub3RpZmljYXRpb24uXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uIC0gTm90aWZpY2F0aW9uIHRvIGRpc3BsYXkuXG4gKi9cbmZ1bmN0aW9uIGRpc3BsYXlOb3RpZmljYXRpb24gKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKTogdm9pZCB7XG4gIC8vIE5vdCBzdXJlIHdoYXQgaXQgZG9lcywgbWF5YmUgcmVsYXRlZCB0byByb2Rhbi9uZW9uXG4gIGlmIChub3RpZmljYXRpb24uaXNNb2RlTWVzc2FnZSkge1xuICAgIGlmIChjdXJyZW50TW9kZU1lc3NhZ2UgPT09IG51bGwpIHtcbiAgICAgIGN1cnJlbnRNb2RlTWVzc2FnZSA9IG5vdGlmaWNhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChjdXJyZW50TW9kZU1lc3NhZ2UudGltZW91dElEKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICAvLyBSZW1vdmUgdGhlIHRvcCBub3RpZmljYXRpb24gaWYgZXhjZWVkcyBtYXhtaW11bVxuICBub3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbiAgaWYgKG5vdGlmaWNhdGlvbnMubGVuZ3RoID4gTlVNQkVSX1RPX0RJU1BMQVkpIHtcbiAgICBjb25zdCB0b1JlbW92ZSA9IG5vdGlmaWNhdGlvbnMuc2hpZnQoKTtcbiAgICBjbGVhck5vdGlmaWNhdGlvbih0b1JlbW92ZS5nZXRJZCgpKTtcbiAgfVxuICBjb25zdCBub3RpZmljYXRpb25Db250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGlmaWNhdGlvbi1jb250ZW50Jyk7XG4gIGNvbnN0IG5ld05vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBuZXdOb3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnbmVvbi1ub3RpZmljYXRpb24nKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoYG5lb24tbm90aWZpY2F0aW9uLSR7bm90aWZpY2F0aW9uLnR5cGV9YCk7XG4gIG5ld05vdGlmaWNhdGlvbi5pZCA9IG5vdGlmaWNhdGlvbi5nZXRJZCgpO1xuICBuZXdOb3RpZmljYXRpb24uaW5uZXJIVE1MID0gbm90aWZpY2F0aW9uLm1lc3NhZ2U7XG4gIG5vdGlmaWNhdGlvbkNvbnRlbnQuYXBwZW5kKG5ld05vdGlmaWNhdGlvbik7XG4gIG5vdGlmaWNhdGlvbkNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICBub3RpZmljYXRpb24uZGlzcGxheSgpO1xufVxuXG4vKipcbiAqIFN0YXJ0IGRpc3BsYXlpbmcgbm90aWZpY2F0aW9ucy4gQ2FsbGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0Tm90aWZpY2F0aW9uIChub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICBkaXNwbGF5Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7XG4gIG5vdGlmaWNhdGlvbi5zZXRUaW1lb3V0SWQoXG4gICAgd2luZG93LnNldFRpbWVvdXQoY2xlYXJOb3RpZmljYXRpb24sIFRJTUVPVVQsIG5vdGlmaWNhdGlvbi5nZXRJZCgpKVxuICApO1xuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZChub3RpZmljYXRpb24uZ2V0SWQoKSlcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KG5vdGlmaWNhdGlvbi50aW1lb3V0SUQpO1xuICAgICAgY2xlYXJOb3RpZmljYXRpb24obm90aWZpY2F0aW9uLmdldElkKCkpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEFkZCBhIG5vdGlmaWNhdGlvbiB0byB0aGUgcXVldWUuXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uIC0gTm90aWZpY2F0aW9uIGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZU5vdGlmaWNhdGlvbiAobm90aWZpY2F0aW9uQ29udGVudDogc3RyaW5nLCB0eXBlOiBOb3RpZmljYXRpb25UeXBlID0gJ2RlZmF1bHQnLCBsb2dJbmZvOiBzdHJpbmcgPSBudWxsKTogdm9pZCB7XG4gIGNvbnN0IG5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24obm90aWZpY2F0aW9uQ29udGVudCwgdHlwZSwgbG9nSW5mbyk7XG5cbiAgaWYgKG5vdGlmaWNhdGlvbi50eXBlID09ICdlcnJvcicgfHwgbm90aWZpY2F0aW9uLnR5cGUgPT0gJ3dhcm5pbmcnKSB7XG4gICAgcmVjb3JkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7XG4gIH1cblxuICBzdGFydE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IHF1ZXVlTm90aWZpY2F0aW9uIH07XG4iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUsIFNlbGVjdGlvblR5cGUsIFVzZXJUeXBlLCBJbnNlcnRUeXBlLCBJbnNlcnRUYWJUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIFRoZSBvbmUgaW5zdGFuY2Ugb2YgTG9jYWxTZXR0aW5ncyB0aGF0IHdpbGwgYmUgY3JlYXRlZCBhbmRcbiAqIHVzZWQgYnkgdGhlIGVkaXRvci5cbiAqIFxuICogVXNlIHRoZSBmdW5jdGlvbnMgYGdldFNldHRpbmdzKClgIGFuZCBgc2V0U2V0dGluZ3MoKWBcbiAqIHRvIGFjY2VzcyB0aGlzIGluc3RhbmNlLlxuICovXG5sZXQgbG9jYWxTZXR0aW5nczogTG9jYWxTZXR0aW5ncyA9IG51bGw7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgc2V0dGluZ3MgZm9yIGVhY2ggZm9saW9cbiAqIHN0b3JlZCBpbiBsb2NhbFN0b3JhZ2UuXG4gKlxuICogRXZlcnkga2V5IGlzIG9wdGlvbmFsIHNvIHRoYXQgdGhpcyBzYW1lIHR5cGluZ1xuICogY2FuIGJlIHVzZWQgZm9yIGBzZXRTZXR0aW5ncygpYCAvIGBMb2NhbFNldHRpbmdzLnNldCgpYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5ncyB7XG4gIHpvb206IG51bWJlcjtcbiAgZ2x5cGhPcGFjaXR5OiBudW1iZXI7XG4gIGltYWdlT3BhY2l0eTogbnVtYmVyO1xuICBjaXJjbGVTaXplOiBudW1iZXI7XG4gIGhpZ2hsaWdodE1vZGU6IEdyb3VwaW5nVHlwZTtcbiAgdXNlck1vZGU6IFVzZXJUeXBlO1xuICBpbnNlcnRNb2RlOiBJbnNlcnRUeXBlO1xuICBpbnNlcnRUYWI6IEluc2VydFRhYlR5cGU7XG4gIHNlbGVjdGlvbk1vZGU6IFNlbGVjdGlvblR5cGU7XG4gIGRlYnVnTW9kZTogYm9vbGVhbjtcbiAgZGlzcGxheUJCb3g6IGJvb2xlYW47XG4gIGRpc3BsYXlUZXh0OiBib29sZWFuO1xuICBkaXNwbGF5SW5mbzogYm9vbGVhbjtcbiAgZGlzcGxheUVyckxvZzogYm9vbGVhbjtcbiAgdmlld0JveDogc3RyaW5nO1xufVxuXG4vKipcbiAqIERlZmF1bHQgc2V0dGluZ3MsIHdoaWNoIHNob3VsZCBiZSBzZXQgZm9yIGEgZm9saW8gd2l0aCBub1xuICogbG9jYWxTdG9yYWdlIHZhbHVlLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIHVwZGF0ZWQgYWxvbmdzaWRlIHRoZSBpbnRlcmZhY2UgYFNldHRpbmdzYFxuICogYW55IHRpbWUgd2Ugd2FudCB0byBhZGQgYSBuZXcgc2V0dGluZyB0byBzdG9yZSBpbiBsb2NhbFN0b3JhZ2UuXG4gKi9cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFNldHRpbmdzID0ge1xuICB6b29tOiAxMDAsXG4gIGdseXBoT3BhY2l0eTogMTAwLFxuICBpbWFnZU9wYWNpdHk6IDEwMCxcbiAgY2lyY2xlU2l6ZTogMjUsXG4gIGhpZ2hsaWdodE1vZGU6ICdub25lJyxcbiAgdXNlck1vZGU6ICdlZGl0JyxcbiAgaW5zZXJ0TW9kZTogJ3B1bmN0dW0nLFxuICBpbnNlcnRUYWI6ICdwcmltaXRpdmVUYWInLFxuICBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlTeWxsYWJsZScsXG4gIGRlYnVnTW9kZTogZmFsc2UsXG4gIGRpc3BsYXlCQm94OiBmYWxzZSxcbiAgZGlzcGxheVRleHQ6IGZhbHNlLFxuICBkaXNwbGF5SW5mbzogZmFsc2UsXG4gIGRpc3BsYXlFcnJMb2c6IGZhbHNlLFxuICB2aWV3Qm94OiBudWxsXG59O1xuXG5jbGFzcyBMb2NhbFNldHRpbmdzIHtcbiAgaWQ6IHN0cmluZztcbiAgc2V0dGluZ3M6IFNldHRpbmdzO1xuXG4gIGNvbnN0cnVjdG9yIChmb2xpb0lkOiBzdHJpbmcpIHtcbiAgICBsb2NhbFNldHRpbmdzID0gdGhpcztcbiAgICB0aGlzLmlkID0gZm9saW9JZDtcbiAgICB0aGlzLmxvYWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHNldHRpbmdzIGZyb20gbG9jYWxTdG9yYWdlLCBhbmQgc3luYyBsb2FkZWQgc2V0dGluZ3Mgd2l0aFxuICAgKiBuZXcgZmllbGRzIHRoYXQgbWF5IG5vdCBiZSBpbiBsb2NhbFN0b3JhZ2UuXG4gICAqL1xuICBsb2FkICgpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkOiBQYXJ0aWFsPFNldHRpbmdzPiA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuaWQpKTtcbiAgICAgIHRoaXMuc3luYyhzdG9yZWQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBJZiBsb2NhbFN0b3JhZ2UgdmFsdWUgaXMgbm90IGEgSlNPTiBvYmplY3QgKGZvciBpbnN0YW5jZSwgYW4gZW1wdHkgc3RyaW5nKSxcbiAgICAgIC8vIGEgU3ludGF4RXJyb3Igd2lsbCBiZSB0aHJvd24uIFdlIG11c3QgaGFuZGxlIGl0IGJ5IGNhbGxpbmcgc3luYygpXG4gICAgICAvLyB3aXRoIGFuIGVtcHR5IEpTT04gb2JqZWN0LlxuICAgICAgdGhpcy5zeW5jKHt9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IG5ldyBmaWVsZHMgaW4gbG9jYWxTdG9yYWdlLCBhcyBhIFwidW5pb25cIiBvZiBvbGQgYW5kIG5ldyBzZXR0aW5ncy5cbiAgICovXG4gIHNldCAocGFyYW1zOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICAgIHRoaXMuc2V0dGluZ3MgPSB7IC4uLnRoaXMuc2V0dGluZ3MsIC4uLnBhcmFtcyB9O1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNldHRpbmdzKSk7XG4gIH1cblxuICAvKipcbiAgICogU3luYyBzZXR0aW5ncyB0aGF0IG1heSBub3QgYmUgaW5jbHVkZWQgaW4gdXNlcidzIGxvY2FsU3RvcmFnZSxcbiAgICogc3VjaCBhcyBmaWVsZHMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG8gbG9jYWxTdG9yYWdlIGluIGEgbmV3XG4gICAqIHVwZGF0ZSBvZiBOZW9uLlxuICAgKi9cbiAgc3luYyAoc3RvcmVkOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICAgIHRoaXMuc2V0dGluZ3MgPSB7IC4uLkRFRkFVTFRfU0VUVElOR1MsIC4uLnN0b3JlZCB9O1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNldHRpbmdzKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgbG9jYWxTdG9yYWdlIHNldHRpbmdzIGZvciB0aGUgZm9saW8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXR0aW5ncyAoKTogU2V0dGluZ3Mge1xuICByZXR1cm4gbG9jYWxTZXR0aW5ncy5zZXR0aW5ncztcbn1cblxuLyoqXG4gKiBTZXQgc3BlY2lmaWMgbG9jYWxTdG9yYWdlIHNldHRpbmdzIGZvciB0aGUgZm9saW8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZXR0aW5ncyAocGFyYW1zOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICBsb2NhbFNldHRpbmdzLnNldChwYXJhbXMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBMb2NhbFNldHRpbmdzO1xuIiwiaW1wb3J0ICogYXMgQ29sb3IgZnJvbSAnLi9Db2xvcic7XG5pbXBvcnQgeyB1cGRhdGVIaWdobGlnaHQgfSBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCAqIGFzIEdyb3VwaW5nIGZyb20gJy4uL1NxdWFyZUVkaXQvR3JvdXBpbmcnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi9SZXNpemUnO1xuaW1wb3J0IHsgQXR0cmlidXRlcywgU2VsZWN0aW9uVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4uL1NxdWFyZUVkaXQvU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgc2VsZWN0aW9uIG1vZGUgY2hvc2VuIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uVHlwZSgpOiBTZWxlY3Rpb25UeXBlIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbC1ieSBpcy1hY3RpdmUnKTtcbiAgaWYgKGVsZW1lbnQubGVuZ3RoICE9PSAwKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRbMF0uaWQgYXMgU2VsZWN0aW9uVHlwZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFVuc2VsZWN0IGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhbmQgcnVuIHVuZG8gYW55IGV4dHJhXG4gKiBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZWxlY3QoKTogdm9pZCB7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uby1tb3ZpbmcnKVxuICAgIC5mb3JFYWNoKChzZWxlY3RlZDogU1ZHR0VsZW1lbnQpID0+IHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ25vLW1vdmluZycpKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykuZm9yRWFjaCgoc2VsZWN0ZWQ6IFNWR0dFbGVtZW50KSA9PiB7XG4gICAgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBpZiAoc2VsZWN0ZWQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBzZWxlY3RlZC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICBDb2xvci51bmhpZ2hsaWdodChzZWxlY3RlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIHNlbGVjdGVkLnN0eWxlLmZpbGwgPSAnJztcbiAgICB9XG5cbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goXG4gICAgICAoZGl2TGluZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZGl2TGluZS5zdHlsZS5zdHJva2UgPSAnJztcbiAgICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpKS5mb3JFYWNoKFxuICAgICAgKG5ldW1lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBuZXVtZS5zdHlsZS5maWxsID0gJyc7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykpLmZvckVhY2goXG4gICAgICAoc3lsUmVjdDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgc3lsUmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgfSxcbiAgICApO1xuXG4gICAgaWYgKHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpKSB7XG4gICAgICBzZWxlY3RlZC5wYXJlbnRFbGVtZW50LnN0eWxlLmZpbGwgPSAnJztcbiAgICAgIHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc3lsbGFibGUnKTtcbiAgICAgIHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKTtcblxuICAgICAgQXJyYXkuZnJvbShzZWxlY3RlZC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goXG4gICAgICAgIChkaXZMaW5lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgIGRpdkxpbmUuc3R5bGUuc3Ryb2tlID0gJyc7XG4gICAgICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgICAgIH0sXG4gICAgICApO1xuXG4gICAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykpLmZvckVhY2goXG4gICAgICAgIChuZXVtZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICBuZXVtZS5zdHlsZS5maWxsID0gJyc7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cblxuICAgIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnLnJvdGF0ZVBvaW50JykucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRleHQtc2VsZWN0JykpLmZvckVhY2goXG4gICAgKGVsOiBTVkdFbGVtZW50KSA9PiB7XG4gICAgICBlbC5zdHlsZS5jb2xvciA9ICcnO1xuICAgICAgZWwuc3R5bGUuZm9udFdlaWdodCA9ICcnO1xuICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zZWxlY3QnKTtcbiAgICB9LFxuICApO1xuXG4gIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgR3JvdXBpbmcuZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBTZWxlY3RPcHRpb25zLmVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgfVxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB1cGRhdGVIaWdobGlnaHQoKTtcbn1cblxuLyoqXG4gKiBTZWxlY3QgYSBzdGFmZiBlbGVtZW50LlxuICogQHBhcmFtIHN0YWZmIC0gVGhlIHN0YWZmIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIFRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0U3RhZmYoXG4gIHN0YWZmOiBTVkdHRWxlbWVudCxcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLFxuKTogdm9pZCB7XG4gIGlmICghc3RhZmYuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgc3RhZmYuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBDb2xvci51bmhpZ2hsaWdodChzdGFmZik7XG4gICAgQ29sb3IuaGlnaGxpZ2h0KHN0YWZmLCAnI2QwMCcpO1xuICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclNpbmdsZVN0YWZmQWN0aW9ucygpO1xuICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZWxlY3QgYSBsYXllciBlbGVtZW50LlxuICogQHBhcmFtIGxheWVyRWxlbWVudCAtIFRoZSBsYXllciBlbGVtZW50IGluIHRoZSBET00uXG4gKiBAcGFyYW0gZHJhZ0hhbmRsZXIgLSBUaGUgZHJhZyBoYW5kbGVyIGluIHVzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdExheWVyRWxlbWVudChcbiAgbGF5ZXJFbGVtZW50OiBTVkdHRWxlbWVudCxcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLFxuKTogdm9pZCB7XG4gIGlmICghbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIGxheWVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIENvbG9yLnVuaGlnaGxpZ2h0KGxheWVyRWxlbWVudCk7XG4gICAgQ29sb3IuaGlnaGxpZ2h0KGxheWVyRWxlbWVudCwgJyNkMDAnKTtcbiAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICB9XG59XG5cbi8qKlxuICogR2VuZXJpYyBzZWxlY3QgZnVuY3Rpb24uXG4gKiBAcGFyYW0gZWwgLSBFbGVtZW50IHRvIHNlbGVjdC5cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIE9ubHkgdXNlZCBmb3Igc3RhdmVzLlxuICogQHBhcmFtIG5lZWRzSGlnaGxpZ2h0VXBkYXRlIC0gV2hldGhlciBhbGwgdGhlIGdyb3VwJ3MgaGlnaGxpZ2h0cyBzaG91bGQgYmUgdXBkYXRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0KFxuICBlbDogU1ZHR3JhcGhpY3NFbGVtZW50LFxuICBkcmFnSGFuZGxlcj86IERyYWdIYW5kbGVyLFxuICBuZWVkc0hpZ2hsaWdodFVwZGF0ZSA9IHRydWUsXG4pOiB2b2lkIHtcbiAgLy8gSWYgZWxlbWVudCBkb2VzIG5vdCBleGlzdCwgZXhpdFxuICBpZiAoIWVsKSByZXR1cm47XG5cbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgIHJldHVybiBzZWxlY3RTdGFmZihlbCwgZHJhZ0hhbmRsZXIpO1xuICB9XG4gIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2xheWVyJykpIHtcbiAgICByZXR1cm4gc2VsZWN0TGF5ZXJFbGVtZW50KGVsLCBkcmFnSGFuZGxlcik7XG4gIH1cblxuICBpZiAoXG4gICAgIWVsLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSAmJlxuICAgICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0JykgJiZcbiAgICAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxUZXh0UmVjdC1kaXNwbGF5JylcbiAgKSB7XG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAvLyBzZXQgZmlsbCB0byByZWRcbiAgICAvLyBzZXQgc3Ryb2tlIHRvIHJlZCBvbmx5IGlmIHNlbGVjdGVkIGVsZW0gaXMgYSBkaXZMaW5lXG4gICAgZWwuc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBlbC5zdHlsZS5zdHJva2UgPSBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSA/ICcjZDAwJyA6ICdibGFjayc7XG5cbiAgICBpZiAoZWwucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5sZW5ndGgpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykuZm9yRWFjaChcbiAgICAgICAgKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgZWxlbS5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5sZW5ndGgpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5zdHJva2UgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTZXQgY29sb3Igb2YgdGhlIGNvcnJlc3BvbmRpbmcgdGV4dCBpbiB0aGUgdGV4dCBwYW5lbCB0byByZWRcbiAgICBsZXQgc3lsSWQ7XG4gICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkge1xuICAgICAgc3lsSWQgPSBlbC5pZDtcbiAgICB9IGVsc2UgaWYgKGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpICE9PSBudWxsKSB7XG4gICAgICBzeWxJZCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpLmlkO1xuICAgIH1cbiAgICBpZiAoc3lsSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc3BhbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLicgKyBzeWxJZCk7XG4gICAgICBzcGFucy5mb3JFYWNoKChzcGFuOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gJyNkMDAnO1xuICAgICAgICBzcGFuLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgndGV4dC1zZWxlY3QnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAobmVlZHNIaWdobGlnaHRVcGRhdGUpIHtcbiAgICB1cGRhdGVIaWdobGlnaHQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBhbiBuYy5cbiAqIEBwYXJhbSBlbCAtIFRoZSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3ROY3MoXG4gIGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsXG4gIG5lb25WaWV3OiBOZW9uVmlldyxcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmICghZWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBjb25zdCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50IGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgIHVuc2VsZWN0KCk7XG4gICAgc2VsZWN0KHBhcmVudCk7XG4gICAgaWYgKGF3YWl0IGlzTGlnYXR1cmUocGFyZW50LCBuZW9uVmlldykpIHtcbiAgICAgIGNvbnN0IHByZXZOYyA9IHBhcmVudC5wcmV2aW91c1NpYmxpbmcgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShwcmV2TmMsIG5lb25WaWV3KSkge1xuICAgICAgICBzZWxlY3QocHJldk5jKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5leHROYyA9IHBhcmVudC5uZXh0U2libGluZyBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgaWYgKGF3YWl0IGlzTGlnYXR1cmUobmV4dE5jLCBuZW9uVmlldykpIHtcbiAgICAgICAgICBzZWxlY3QobmV4dE5jKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yOiBOZWl0aGVyIHByZXYgb3IgbmV4dCBuYyBhcmUgbGlnYXR1cmVzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbGlnYXR1cmUnKTtcbiAgICB9IGVsc2UgaWYgKHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ25jJykpIHtcbiAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck5jQWN0aW9ucyhwYXJlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ05vIGFjdGlvbiB0cmlnZ2VyZWQhJyk7XG4gICAgfVxuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gbmMgLSBUaGUgbmV1bWUgY29tcG9uZW50LlxuICogQHBhcmFtIG5lb25WaWV3IC0gVGhlIFtbTmVvblZpZXddXSBmb3IgdGhpcyBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIG5ldW1lIGNvbXBvbmVudCBpcyBwYXJ0IG9mIGEgbGlnYXR1cmUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpc0xpZ2F0dXJlKFxuICBuYzogU1ZHR3JhcGhpY3NFbGVtZW50LFxuICBuZW9uVmlldzogTmVvblZpZXcsXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgYXR0cmlidXRlczogQXR0cmlidXRlcyA9IGF3YWl0IG5lb25WaWV3LmdldEVsZW1lbnRBdHRyKFxuICAgIG5jLmlkLFxuICAgIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSxcbiAgKTtcbiAgcmV0dXJuIEJvb2xlYW4oYXR0cmlidXRlcy5saWdhdGVkKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBsaXN0IG9mIGVsZW1lbnRzIG9mIGEgY2VydGFpbiB0eXBlIGFyZSBsb2dpY2FsbHkgYWRqYWNlbnQgdG8gZWFjaCBvdGhlci5cbiAqIEluY2x1ZGVzIGVsZW1lbnRzIHRoYXQgYXJlIG9uIHNlcGFyYXRlIHN0YXZlcyBidXQgd291bGQgb3RoZXJ3aXNlIGJlIG5leHQgdG8gZWFjaCBvdGhlci5cbiAqIENhbiBub3QgYXBwbHkgdG8gZWxlbWVudHMgb2YgdHlwZSBuZXVtZSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdXNlciBzZWxlY3Rpb24gbW9kZVxuICogQHBhcmFtIGVsZW1lbnRzIHRoZSBlbGVtZW50cyBvZiBpbnRlcmVzdFxuICogQHJldHVybnMgdHJ1ZSBpZiBlbGVtZW50cyBhcmUgYWRqYWNlbnQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJlQWRqYWNlbnQoXG4gIHNlbGVjdGlvblR5cGU6IHN0cmluZyxcbiAgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdLFxuKTogYm9vbGVhbiB7XG4gIC8vIDIgZWxlbWVudHMgY2Fubm90IGJlIGFkamFjZW50IGlmIHRoZXJlIGlzIG9ubHkgMSBlbGVtZW50XG4gIGlmIChlbGVtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gZ2V0IGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGUgc2FtZSB0eXBlIGFzIHNlbGVjdGlvblR5cGVcbiAgbGV0IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlOiBIVE1MRWxlbWVudFtdO1xuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlID0gQXJyYXkuZnJvbShcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlJyksXG4gICAgICApO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIC8vIFdlIGF1dG9tYXRpY2FsbHkgcmV0dXJuICd0cnVlJyBmb3IgbmV1bWVzIGJlY2F1c2Ugd2Ugd2FudCB0aGUgdXNlciB0byBiZVxuICAgICAgLy8gYWxsb3dlZCB0byBncm91cCB0d28gbmV1bWVzIGluIHNlcGFyYXRlIHN5bGxhYmVzIHdpdGhvdXQgaGF2aW5nIHRvIHBhcmZvcm0gb3RoZXJcbiAgICAgIC8vIHN0ZXBzIGZpcnN0LiBZZXMsIHRoZXJlIGlzIGEgdHJhZGUtb2ZmIC0gdGhpcyBhbGxvd3MgdXNlcnMgdG8gdHJ5IGFuZCBncm91cCBhbnlcbiAgICAgIC8vIHR3byBub24tYWRqYWNlbnQgbmV1bWVzLCBidXQgaXQgd2FzIGRlY2lkZWQgdGhhdCB0aGUgYmVuZWZpdHMgKHNwZWVkIGFuZCBlZmZpY2llbmN5KVxuICAgICAgLy8gb3V0d2VpZ2ggdGhlIGNvc3RzICh1c2VyIHRyeWluZyBhbiBpbGxlZ2FsIGVkaXQpLlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFNvcnQgU0VMRUNURUQgZWxlbWVudHMgaW4gb3JkZXIgb2YgYXBwZWFyYW5jZSBieVxuICAvLyBtYXRjaGluZyB0byBvcmRlciBvZiBBTEwgZWxlbWVudHMgb2Ygc2VsZWN0aW9uIHR5cGVcbiAgY29uc3Qgc29ydGVkRWxlbWVudHMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZS5sZW5ndGg7IGkrKykge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgZWxlbWVudHMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChhbGxFbGVtc09mU2VsZWN0aW9uVHlwZVtpXS5pc1NhbWVOb2RlKGVsZW1lbnRzW2pdKSkge1xuICAgICAgICBzb3J0ZWRFbGVtZW50cy5wdXNoKGVsZW1lbnRzW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBOb3cgY2hlY2sgaWYgU0VMRUNURUQgZWxlbWVudHMgYXJlIGFsbCBhZGphY2VudCAoaW4gYSByb3cpIGJ5XG4gIC8vIGZpbmRpbmcgYW5kIGNvbXBhcmluZyB0aGVpciBpbmRlY2VzIGluIHRoZSBhcnJheSBvZiBBTEwgZWxlbWVudHMgb2Ygc2VsZWN0aW9uIHR5cGVcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0ZWRFbGVtZW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBjb25zdCBmaXJzdEVsZW0gPSBzb3J0ZWRFbGVtZW50c1tpXTtcbiAgICBjb25zdCBzZWNvbmRFbGVtID0gc29ydGVkRWxlbWVudHNbaSArIDFdO1xuXG4gICAgY29uc3QgaW5kZXgxID0gYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUuaW5kZXhPZihmaXJzdEVsZW0pO1xuICAgIGNvbnN0IGluZGV4MiA9IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmluZGV4T2Yoc2Vjb25kRWxlbSk7XG5cbiAgICBpZiAoTWF0aC5hYnMoaW5kZXgxIC0gaW5kZXgyKSAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBhcnJheSBvZiBlbGVtZW50cyBhbGwgc2hhcmUgdGhlIHNhbWUgbG9naWNhbCBwYXJlbnQuXG4gKiBGb3IgZXhhbXBsZTogSWYgYWxsIG5ldW1lcyBhcmUgaW4gdGhlIHNhbWUgc3lsbGFibGUuXG4gKlxuICogTm90ZSEhIFRoZXJlIGlzIGN1cnJlbnRseSBubyBsb2dpYyBmb3IgdHJlYXRpbmcgbGF5ZXIgZWxlbWVudHMgYW5kIGJib3hlcyFcbiAqIE5vdGUhISBGdW5jdGlvbiB3aWxsIGFsd2F5cyByZXR1cm4gdHJ1ZSBmb3Igc3RhdmUgZWxlbWVudHMuIChTaG91bGQgaXQ/Pz8pXG4gKlxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdGhlIGN1cnJlbnQgTmVvbiBzZWxlY3Rpb24gbW9kZVxuICogQHBhcmFtIGVsZW1lbnRzIHRoZSBlbGVtZW50cyBpbiBxdWVzdGlvblxuICogQHJldHVybnMgdHJ1ZSBpZiBhbGwgZWxlbWVudHMgc2hhcmUgdGhlIHNhbWUgbG9naWNhbCBwYXJlbnQsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNoYXJlZExvZ2ljYWxQYXJlbnQoXG4gIHNlbGVjdGlvblR5cGU6IHN0cmluZyxcbiAgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdLFxuKTogYm9vbGVhbiB7XG4gIGVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKFxuICAgIChlbGVtKSA9PlxuICAgICAgIShcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSB8fFxuICAgICAgICBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSB8fFxuICAgICAgICBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnY2xlZicpXG4gICAgICApLFxuICApO1xuXG4gIGlmICghZWxlbWVudHNIYXZlQ29ycmVjdFR5cGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSByZXR1cm4gZmFsc2U7XG5cbiAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjb25zdCByZWZlcmVuY2VQYXJlbnRTdGFmZiA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtID0gZWxlbWVudHNbaV07XG4gICAgICAgIGlmICghZWxlbS5jbG9zZXN0KCcuc3RhZmYnKS5pc1NhbWVOb2RlKHJlZmVyZW5jZVBhcmVudFN0YWZmKSlcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgY29uc3QgcmVmZXJlbmNlUGFyZW50U3lsbGFibGUgPSBlbGVtZW50c1swXS5jbG9zZXN0KCcuc3lsbGFibGUnKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWxlbSA9IGVsZW1lbnRzW2ldO1xuICAgICAgICBpZiAoIWVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykuaXNTYW1lTm9kZShyZWZlcmVuY2VQYXJlbnRTeWxsYWJsZSkpXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGFsbCBzZWxlY3RlZCBlbGVtZW50cyBoYXZlIHRoZSBzYW1lIHR5cGUgYXMgY3VycmVudCBzZWxlY3Rpb24gbW9kZS5cbiAqIEZvciBleGFtcGxlLCBjaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgYXJlIG9mIHR5cGUgbmV1bWUsIG9yIHN5bGxhYmxlLCBldGMuXG4gKlxuICogTm90ZSEhIFRoZXJlIGlzIG5vIGxvZ2ljIGN1cnJlbnRseSBpbXBsZW1lbnRlZCBmb3IgbGF5ZXIgZWxlbWVudHMgb3IgYmJveGVzLlxuICpcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBtb2RlXG4gKiBAcGFyYW0gZWxlbWVudHMgdGhlIGVsZW1lbnRzIHRoYXQgYXJlIGJlaW5nIGNoZWNrZWRcbiAqIEByZXR1cm5zIHRydWUgaWYgYWxsIGVsZW1lbnRzIG1hdGNoIHNlbGVjdGlvbiBtb2RlLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50c0hhdmVDb3JyZWN0VHlwZShcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10sXG4pOiBib29sZWFuIHtcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCduZXVtZScpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIGVsZW1lbnRzIC0gVGhlIGVsZW1lbnRzIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlbGVtZW50cyBoYXZlIHRoZSBzYW1lIHBhcmVudCB1cCB0d28gbGV2ZWxzLCBvdGhlcndpc2UgZmFsc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChcbiAgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdLFxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IHRlbXBFbGVtZW50cyA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuICBjb25zdCBmaXJzdEVsZW1lbnQgPSB0ZW1wRWxlbWVudHMucG9wKCk7XG4gIGNvbnN0IHNlY29uZFBhcmVudCA9IGZpcnN0RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiB0ZW1wRWxlbWVudHMpIHtcbiAgICBjb25zdCBzZWNQYXIgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICBpZiAoc2VjUGFyLmlkICE9PSBzZWNvbmRQYXJlbnQuaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdXNlciBzZWxlY3RlZCBlbGVtZW50cyBhY2Nyb3NzIG11bHRpcGxlIHN0YXZlc1xuICogQHBhcmFtIGVsZW1lbnRzIHRoZSB1c2VyLXNlbGVjdGVkIGVsZW1lbnRzXG4gKiBAcmV0dXJucyB0cnVlIGlmIHNlbGVjdGlvbiBpcyBhY2Nyb3NzIG11bHRpcGxlIHN0YXZlcywgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc011bHRpU3RhdmVTZWxlY3Rpb24oZWxlbWVudHM6IFNWR0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICBjb25zdCBlbGVtZW50c0FycmF5ID0gQXJyYXkuZnJvbShlbGVtZW50cyk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhZmYgPSBlbGVtZW50c0FycmF5W2ldLmNsb3Nlc3QoJy5zdGFmZicpO1xuXG4gICAgZm9yIChsZXQgaiA9IGk7IGogPCBlbGVtZW50c0FycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCBhbm90aGVyU3RhZmYgPSBlbGVtZW50c0FycmF5W2pdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgLy8gY29tcGFyZSB3aXRoIG90aGVyIHN0YXZlc1xuICAgICAgaWYgKCFzdGFmZi5pc1NhbWVOb2RlKGFub3RoZXJTdGFmZikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCb3VuZGluZyBib3ggb2JqZWN0IGludGVyZmFjZSBmb3IgZ2V0U3RhZmZCQm94KClcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFmZkJCb3gge1xuICBpZDogc3RyaW5nO1xuICB1bHg6IG51bWJlcjtcbiAgdWx5OiBudW1iZXI7XG4gIGxyeDogbnVtYmVyO1xuICBscnk6IG51bWJlcjtcbiAgcm90YXRlOiBudW1iZXI7XG59XG5cbi8qKlxuICogR2V0IHRoZSBib3VuZGluZyBib3ggb2YgYSBzdGFmZiBiYXNlZCBvbiBpdHMgc3RhZmYgbGluZXMuXG4gKiBSb3RhdGUgaXMgaW5jbHVkZWQgaW4gcmFkaWFucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmQkJveChzdGFmZjogU1ZHR0VsZW1lbnQpOiBTdGFmZkJCb3gge1xuICBsZXQgdWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGU7XG4gIHN0YWZmLnF1ZXJ5U2VsZWN0b3JBbGwoJ3BhdGgnKS5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgY29uc3QgY29vcmRpbmF0ZXM6IG51bWJlcltdID0gcGF0aFxuICAgICAgLmdldEF0dHJpYnV0ZSgnZCcpXG4gICAgICAubWF0Y2goL1xcZCsvZylcbiAgICAgIC5tYXAoKGVsZW1lbnQpID0+IE51bWJlcihlbGVtZW50KSk7XG4gICAgaWYgKHJvdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByb3RhdGUgPSBNYXRoLmF0YW4oXG4gICAgICAgIChjb29yZGluYXRlc1szXSAtIGNvb3JkaW5hdGVzWzFdKSAvIChjb29yZGluYXRlc1syXSAtIGNvb3JkaW5hdGVzWzBdKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHVseSA9PT0gdW5kZWZpbmVkIHx8IE1hdGgubWluKGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSkgPCB1bHkpIHtcbiAgICAgIHVseSA9IE1hdGgubWluKGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSk7XG4gICAgfVxuICAgIGlmICh1bHggPT09IHVuZGVmaW5lZCB8fCBjb29yZGluYXRlc1swXSA8IHVseCkge1xuICAgICAgdWx4ID0gY29vcmRpbmF0ZXNbMF07XG4gICAgfVxuICAgIGlmIChscnkgPT09IHVuZGVmaW5lZCB8fCBNYXRoLm1heChjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pID4gbHJ5KSB7XG4gICAgICBscnkgPSBNYXRoLm1heChjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pO1xuICAgIH1cbiAgICBpZiAobHJ4ID09PSB1bmRlZmluZWQgfHwgY29vcmRpbmF0ZXNbMl0gPiBscngpIHtcbiAgICAgIGxyeCA9IGNvb3JkaW5hdGVzWzJdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHsgaWQ6IHN0YWZmLmlkLCB1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZSB9O1xufVxuXG4vKipcbiAqIHNlbGVjdCBhIGJvdW5kaW5nYm94IGVsZW1lbnRcbiAqIEBwYXJhbSBlbCAtIHRoZSBiYm94IChzeWxUZXh0UmVjdCkgZWxlbWVudCBpbiB0aGUgRE9NXG4gKiBAcGFyYW0gZHJhZ0hhbmRsZXIgLSB0aGUgZHJhZyBoYW5kbGVyIGluIHVzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0QkJveChcbiAgZWw6IFNWR0dyYXBoaWNzRWxlbWVudCxcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLFxuICBuZW9uVmlldzogTmVvblZpZXcsXG4pOiB2b2lkIHtcbiAgY29uc3QgYmJveCA9IGVsO1xuICBjb25zdCBzeWwgPSBiYm94LmNsb3Nlc3QoJy5zeWwnKTtcbiAgaWYgKCFzeWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgc3lsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgYmJveC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgIGNvbnN0IGNsb3Nlc3QgPSBlbC5jbG9zZXN0KCcuc3lsbGFibGUnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjbG9zZXN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgY2xvc2VzdC5jbGFzc0xpc3QuYWRkKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuICAgIGlmIChjbG9zZXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykubGVuZ3RoKSB7XG4gICAgICBjbG9zZXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgICAgY2xvc2VzdC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuc3Ryb2tlID0gJyNkMDAnO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG5lb25WaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlc2l6ZShzeWwgYXMgU1ZHR3JhcGhpY3NFbGVtZW50LCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgIH1cbiAgICBpZiAoZHJhZ0hhbmRsZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICB9XG4gICAgY29uc3Qgc3lsSWQgPSBlbC5jbG9zZXN0KCcuc3lsbGFibGUnKS5pZDtcbiAgICBpZiAoc3lsSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc3BhbjogSFRNTFNwYW5FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi4nICsgc3lsSWQpO1xuICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgc3Bhbi5zdHlsZS5jb2xvciA9ICcjZDAwJztcbiAgICAgICAgc3Bhbi5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2VsZWN0Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFNlbGVjdE9wdGlvbnMudHJpZ2dlckJCb3hBY3Rpb25zKCk7XG59XG5cbi8qKlxuICogU2VsZWN0IG5vdCBuZXVtZSBlbGVtZW50cy5cbiAqIEBwYXJhbSBub3ROZXVtZXMgLSBBbiBhcnJheSBvZiBub3QgbmV1bWVzIGVsZW1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0Tm4obm90TmV1bWVzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICBpZiAobm90TmV1bWVzLmxlbmd0aCA+IDApIHtcbiAgICBub3ROZXVtZXMuZm9yRWFjaCgobm4pID0+IHtcbiAgICAgIHNlbGVjdChubik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIHNlbGVjdGluZyBhbiBhcnJheSBvZiBlbGVtZW50cyBiYXNlZCBvbiB0aGUgc2VsZWN0aW9uIHR5cGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3RBbGwoXG4gIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuICBuZW9uVmlldzogTmVvblZpZXcsXG4gIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcixcbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBzZWxlY3Rpb25UeXBlID0gZ2V0U2VsZWN0aW9uVHlwZSgpO1xuICB1bnNlbGVjdCgpO1xuICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzZWxlY3Rpb25DbGFzcztcbiAgbGV0IGNvbnRhaW5zTGF5ZXJFbGVtZW50cyA9IGZhbHNlO1xuICBsZXQgY29udGFpbnNOYyA9IGZhbHNlO1xuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN5bGxhYmxlJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5ldW1lJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5jJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN0YWZmJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5QkJveCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3lsVGV4dFJlY3QtZGlzcGxheSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuY2xlZiwgLmN1c3RvcywgLmFjY2lkLCAuZGl2TGluZSc7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZSAnICsgc2VsZWN0aW9uVHlwZSk7XG4gICAgICByZXR1cm47XG4gIH1cblxuICAvLyBHZXQgdGhlIGdyb3VwaW5ncyBzcGVjaWZpZWQgYnkgc2VsZWN0aW9uQ2xhc3NcbiAgLy8gdGhhdCBjb250YWluIHRoZSBwcm92aWRlZCBlbGVtZW50cyB0byBzZWxlY3QuXG4gIGNvbnN0IGdyb3Vwc1RvU2VsZWN0ID0gbmV3IFNldDxTVkdHRWxlbWVudD4oKTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgbGV0IGdyb3VwaW5nID0gZWxlbWVudC5jbG9zZXN0PFNWR0dFbGVtZW50PihzZWxlY3Rpb25DbGFzcyk7XG4gICAgaWYgKGdyb3VwaW5nID09PSBudWxsKSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSBjbGljay1zZWxlY3RlZCBhIGNsZWYgb3IgYSBjdXN0b3Mgb3IgYW4gYWNjaWQgb3IgYSBkaXZMaW5lXG4gICAgICBncm91cGluZyA9IGVsZW1lbnQuY2xvc2VzdCgnLmNsZWYsIC5jdXN0b3MsIC5hY2NpZCwgLmRpdkxpbmUnKTtcbiAgICAgIGlmIChncm91cGluZyA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ0VsZW1lbnQgJyArXG4gICAgICAgICAgICBlbGVtZW50LmlkICtcbiAgICAgICAgICAgICcgaXMgbm90IHBhcnQgb2Ygc3BlY2lmaWVkIGdyb3VwIGFuZCBpcyBub3QgYSBjbGVmIG9yIGN1c3RvcyBvciBhY2NpZCBvciBkaXZMaW5lLicsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29udGFpbnNMYXllckVsZW1lbnRzID0gY29udGFpbnNMYXllckVsZW1lbnRzIHx8IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5zTmMgPSBjb250YWluc05jIHx8IHRydWU7XG4gICAgfVxuICAgIGdyb3Vwc1RvU2VsZWN0LmFkZChncm91cGluZyk7XG5cbiAgICAvLyBDaGVjayBmb3IgcHJlY2VkZXMvZm9sbG93c1xuICAgIGxldCBzZWxlY3RlZCA9IGdyb3VwaW5nO1xuICAgIGxldCBmb2xsb3dzID0gc2VsZWN0ZWQuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpO1xuICAgIGxldCBwcmVjZWRlcyA9IHNlbGVjdGVkLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJyk7XG4gICAgd2hpbGUgKGZvbGxvd3MgfHwgcHJlY2VkZXMpIHtcbiAgICAgIGlmIChmb2xsb3dzKSB7XG4gICAgICAgIHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBmb2xsb3dzLnNsaWNlKDEpKTtcbiAgICAgICAgaWYgKGdyb3Vwc1RvU2VsZWN0LmhhcyhzZWxlY3RlZCkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzZWxlY3RlZC5jbGFzc0xpc3QuYWRkKCduby1tb3ZpbmcnKTtcbiAgICAgICAgZ3JvdXBzVG9TZWxlY3QuYWRkKHNlbGVjdGVkKTtcbiAgICAgICAgZm9sbG93cyA9IHNlbGVjdGVkLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcmVjZWRlcykge1xuICAgICAgICBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgcHJlY2VkZXMuc2xpY2UoMSkpO1xuICAgICAgICBpZiAoZ3JvdXBzVG9TZWxlY3QuaGFzKHNlbGVjdGVkKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5hZGQoJ25vLW1vdmluZycpO1xuICAgICAgICBncm91cHNUb1NlbGVjdC5hZGQoc2VsZWN0ZWQpO1xuICAgICAgICBwcmVjZWRlcyA9IHNlbGVjdGVkLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIFNlbGVjdCB0aGUgZWxlbWVudHNcbiAgZ3JvdXBzVG9TZWxlY3QuZm9yRWFjaCgoZ3JvdXA6IFNWR0dyYXBoaWNzRWxlbWVudCkgPT5cbiAgICBzZWxlY3QoZ3JvdXAsIGRyYWdIYW5kbGVyLCBmYWxzZSksXG4gICk7XG5cbiAgLyogRGV0ZXJtaW5lIHRoZSBjb250ZXh0IG1lbnUgdG8gZGlzcGxheSAoaWYgYW55KSAqL1xuXG4gIGNvbnN0IGdyb3VwcyA9IEFycmF5LmZyb20oZ3JvdXBzVG9TZWxlY3QudmFsdWVzKCkpIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIC8vIEhhbmRsZSBvY2N1cmFuY2Ugb2YgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZVxuICBpZiAoY29udGFpbnNMYXllckVsZW1lbnRzICYmICFjb250YWluc05jKSB7XG4gICAgLy8gQSBjb250ZXh0IG1lbnUgd2lsbCBvbmx5IGJlIGRpc3BsYXllZCBpZiB0aGVyZSBpcyBhIHNpbmdsZSBjbGVmXG4gICAgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEpIHtcbiAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckxheWVyRWxlbWVudEFjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNlbGVjdGlvblR5cGUgPT0gJ3NlbEJ5U3lsbGFibGUnKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU2luZ2xlU3RhZmZBY3Rpb25zKCk7XG4gICAgICAgICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgICAgICAgcmVzaXplKGdyb3Vwc1swXSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSkge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgLy8gVE9ETyBjaGFuZ2UgY29udGV4dCBpZiBpdCBpcyBvbmx5IGEgbmV1bWUvbmMuXG4gICAgICAgICAgLy8gIENoZWNrIGlmIHRoZSBzZWxlY3RlZCBzeWxsYWJsZSBjb250YWlucyBhIDxzeWw+IGVsZW1lbnRcbiAgICAgICAgICBpZiAoZ3JvdXBzWzBdLnF1ZXJ5U2VsZWN0b3IoJy5zeWwgPiByZWN0JykgPT09IG51bGwpIHtcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICAgJ1RoZSBzZWxlY3RlZCBzeWxsYWJsZSBkb2VzIG5vdCBjb250YWluIGEgJmx0O3N5bCZndDsgZWxlbWVudCwgcGxlYXNlIGluc2VydCBvbmUgdXNpbmcgYnV0dG9uIFwiQWRkIFN5bGxhYmxlIFRleHRcIi4nLFxuICAgICAgICAgICAgICAnd2FybmluZycsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdub1N5bCcpO1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy5hZGRBZGRTeWxMaXN0ZW5lcigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ3NpbmdsZVNlbGVjdCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGxpbmtlZCBzeWxsYWJsZSBzcGxpdCBieSBhIHN0YWZmIGJyZWFrXG4gICAgICAgICAgLy8gaWYgdGhleSBhcmUgbGlua2FibGUsIHVzZXIgY2FuIHRvZ2dsZSBsaW5rZWQtc3lsbHNcbiAgICAgICAgICBpZiAoR3JvdXBpbmcuaXNMaW5rYWJsZSgnc2VsQnlTeWxsYWJsZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbGlua2FibGVTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaWYgc3lsbGFibGVzIGFyZSBhbGwgbG9jYXRlZCBvbiBvbmUgc3RhdmUsIHRoZXkgc2hvdWxkIGJlIGdyb3VwYWJsZVxuICAgICAgICAgIGVsc2UgaWYgKEdyb3VwaW5nLmlzR3JvdXBhYmxlKCdzZWxCeVN5bGxhYmxlJywgZ3JvdXBzKSkge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdtdWx0aVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpZiBzeWxscyBhcmUgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnZGVmYXVsdCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIFRPRE8gY2hhbmdlIGNvbnRleHQgaWYgaXQgaXMgb25seSBhIG5jLlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck5ldW1lQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlOZXVtZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmV1bWUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJOY0FjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmIChzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChncm91cHMpKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHNlbGVjdGlvbiBpcyBhIGxpZ2F0dXJlIG9yIGNhbiBiZSBhIGxpZ2F0dXJlXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVzZSBuZXVtZSBjb21wb25lbnRzIGFyZSBwYXJ0IG9mIHRoZSBzYW1lIG5ldW1lXG4gICAgICAgICAgICBpZiAoZ3JvdXBzWzBdLnBhcmVudEVsZW1lbnQgPT09IGdyb3Vwc1sxXS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShncm91cHNbMF0ucGFyZW50RWxlbWVudC5jaGlsZHJlbik7XG5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBuZXVtZSBjb21wb25lbnRzIGFyZSBhZGphY2VudFxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1swXSkgLSBjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1sxXSksXG4gICAgICAgICAgICAgICAgKSA9PT0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHNlY29uZCBuZXVtZSBjb21wb25lbnQgaXMgbG93ZXIgdGhhbiBmaXJzdC5cbiAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIG9yZGVyIGluIHRoZSBsaXN0IG1heSBub3QgYmUgdGhlIHNhbWUgYXMgdGhlXG4gICAgICAgICAgICAgICAgLy8gb3JkZXIgYnkgeC1wb3NpdGlvbi5cbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQyA9IGdyb3Vwc1swXS5jaGlsZHJlblswXSBhcyBTVkdVc2VFbGVtZW50O1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQyA9IGdyb3Vwc1sxXS5jaGlsZHJlblswXSBhcyBTVkdVc2VFbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkNYID0gZmlyc3ROQy54LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWCA9IHNlY29uZE5DLnguYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQ1kgPSBmaXJzdE5DLnkuYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kTkNZID0gc2Vjb25kTkMueS5iYXNlVmFsLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgLy8gb3JkZXIgbmMncyBieSB4IGNvb3JkIChsZWZ0IHRvIHJpZ2h0KVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGZpcnN0TkNYID4gc2Vjb25kTkNYIHx8XG4gICAgICAgICAgICAgICAgICAoZmlyc3ROQ1ggPT09IHNlY29uZE5DWCAmJiBmaXJzdE5DWSA8IHNlY29uZE5DWSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIFtmaXJzdE5DLCBzZWNvbmROQ10gPSBbc2Vjb25kTkMsIGZpcnN0TkNdO1xuICAgICAgICAgICAgICAgICAgW2ZpcnN0TkNYLCBmaXJzdE5DWSwgc2Vjb25kTkNYLCBzZWNvbmROQ1ldID0gW1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmROQ1gsXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZE5DWSxcbiAgICAgICAgICAgICAgICAgICAgZmlyc3ROQ1gsXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TkNZLFxuICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBzdGFja2VkIG5jJ3MvbGlnYXR1cmUgKGlkZW50aWNhbCB4KSwgb3IgZGVzY2VuZGluZyBuYydzICh5IGRlc2NlbmRzKVxuICAgICAgICAgICAgICAgIGlmIChmaXJzdE5DWCA9PT0gc2Vjb25kTkNYIHx8IGZpcnN0TkNZIDwgc2Vjb25kTkNZKSB7XG4gICAgICAgICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ2xpZ2F0dXJlJyk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKHNoYXJlZFNlY29uZExldmVsUGFyZW50KGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBzZWxlY3RCQm94KGdyb3Vwc1swXSwgZHJhZ0hhbmRsZXIsIG5lb25WaWV3KTtcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJCQm94QWN0aW9ucygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKChnKSA9PiBzZWxlY3RCQm94KGcsIGRyYWdIYW5kbGVyLCB1bmRlZmluZWQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIHNlbGVjdGlvbiB0eXBlLiBUaGlzIHNob3VsZCBub3QgaGF2ZSBvY2N1cnJlZC4nKTtcbiAgfVxuXG4gIC8vIGZ1bmN0aW9uIGNoYW5nZVN0YWZmTGlzdGVuZXIoKTogdm9pZCB7XG4gIC8vIHRyeSB7XG4gIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VTdGFmZicpXG4gIC8vIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFNlbGVjdE9wdGlvbnMuY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgLy8gfSBjYXRjaCAoZSkge2NvbnNvbGUuZGVidWcoZSk7fVxuICAvLyB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gYXJnc0FycmF5O1xuXG5mdW5jdGlvbiBhcmdzQXJyYXkoZnVuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGxlbikge1xuICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgIHZhciBpID0gLTE7XG4gICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuLmNhbGwodGhpcywgYXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW4uY2FsbCh0aGlzLCBbXSk7XG4gICAgfVxuICB9O1xufSIsIm1vZHVsZS5leHBvcnRzID0gZDM7IiwiLyoqXG4gKiBIVE1MIGZvciBlYWNoIGluc2VydCB0YWIgKG5ldW1lLCBncm91cGluZywgY2xlZiwgc3lzdGVtLCBhbmQgZGl2aXNpb24pLlxuICovXG5leHBvcnQgY29uc3QgaW5zZXJ0VGFiSHRtbDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgcHJpbWl0aXZlVGFiOiBgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwdW5jdHVtXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInB1bmN0dW1cIiB0aXRsZT1cInB1bmN0dW1cIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3B1bmN0dW0ucG5nXCIgY2xhc3M9XCJpbWFnZVwiLz48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInZpcmdhXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInZpcmdhXCIgdGl0bGU9XCJ2aXJnYVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdmlyZ2EucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwidmlyZ2FSZXZlcnNlZFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJSZXZlcnNlZCBWaXJnYVwiIHRpdGxlPVwiUmV2ZXJzZWQgVmlyZ2FcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3ZpcmdhX3JldmVyc2VkLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpYW1vbmRcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiaW5jbGluYXR1bVwiIHRpdGxlPVwiaW5jbGluYXR1bVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvZGlhbW9uZC5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjdXN0b3NcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY3VzdG9zXCIgdGl0bGU9XCJjdXN0b3NcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2N1c3Rvcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjQ2xlZlwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJDIENsZWZcIiB0aXRsZT1cIiBDIENsZWZcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NDbGVmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImZDbGVmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkYgQ2xlZlwiIHRpdGxlPVwiRiBDbGVmXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9mQ2xlZi5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJsaXF1ZXNjZW50QVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJMaXF1ZXNjZW50IEFcIiB0aXRsZT1cIkxpcXVlc2NlbnQgQVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbGlxdWVzY2VudEEucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibGlxdWVzY2VudENcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiTGlxdWVzY2VudCBDXCIgdGl0bGU9XCJMaXF1ZXNjZW50IENcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2xpcXVlc2NlbnRDLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImZsYXRcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRmxhdFwiIHRpdGxlPVwiRmxhdFwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvYWNjaWRGbGF0LnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIm5hdHVyYWxcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiTmF0dXJhbFwiIHRpdGxlPVwiTmF0dXJhbFwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvYWNjaWROYXR1cmFsLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpdkxpbmVNYXhpbWFcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRGl2TGluZSBNYXhpbWFcIiB0aXRsZT1cIkRpdkxpbmUgTWF4aW1hXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaXZpc2lvLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPmAsXG4gIGdyb3VwaW5nVGFiOiBgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwZXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicGVzXCIgdGl0bGU9XCJwZXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Blcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGl2aXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY2xpdmlzXCIgdGl0bGU9XCJjbGl2aXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NsaXZpcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzY2FuZGljdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwic2NhbmRpY3VzXCIgdGl0bGU9XCJzY2FuZGljdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3NjYW5kaWN1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGltYWN1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJjbGltYWN1c1wiIHRpdGxlPVwiY2xpbWFjdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NsaW1hY3VzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInRvcmN1bHVzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInRvY3VsdXNcIiB0aXRsZT1cInRvY3VsdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3RvcmN1bHVzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInBvcnJlY3R1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJwb3JyZWN0dXNcIiB0aXRsZT1cInBvcnJlY3R1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcG9ycmVjdHVzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInByZXNzdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicHJlc3N1c1wiIHRpdGxlPVwicHJlc3N1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcHJlc3N1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5gLFxuICBzeXN0ZW1UYWI6IGA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInN0YWZmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBsb25nZWxcIiBhcmlhLWxhYmVsPVwic3lzdGVtXCIgdGl0bGU9XCJzeXN0ZW1cIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3N0YWZmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5DbGljayB1cHBlciBsZWZ0IGFuZCBsb3dlciByaWdodCBjb3JuZXJzIG9mIG5ldyBzdGFmZi48L3A+YCxcbiAgLy8gZGl2aXNpb25UYWI6IFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J3NtYWxsRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvc21hbGxkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICtcbiAgLy8gICAgIFwiPGJ1dHRvbiBpZD0nbWlub3JEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9taW5vcmRpdi5wbmdcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiICtcbiAgLy8gICAgIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J21ham9yRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvbWFqb3JkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICtcbiAgLy8gXCI8YnV0dG9uIGlkPSdmaW5hbERpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL2ZpbmFsZGl2LnBuZyBcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiXG59O1xuXG4vKipcbiAqIFN0cnVjdHVyZSBvZiBpbnNlcnQgcGFuZWwgd2l0aCBiYXNpYyBncm91cGluZyB0YWJzLlxuICovXG5leHBvcnQgY29uc3QgaW5zZXJ0Q29udHJvbHNQYW5lbCA9IGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiaW5zZXJ0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZVwiPklOU0VSVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVJbnNlcnRcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG5cdDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGlkPVwiaW5zZXJ0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCIgc3R5bGU9XCJvdmVyZmxvdy15OiBoaWRkZW47XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInBhbmVsLXRhYnNcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cInByaW1pdGl2ZVRhYlwiIGNsYXNzPVwiaW5zZXJ0VGFiXCI+UHJpbWl0aXZlIEVsZW1lbnRzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiZ3JvdXBpbmdUYWJcIiBjbGFzcz1cImluc2VydFRhYlwiPkdyb3VwaW5nPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwic3lzdGVtVGFiXCIgY2xhc3M9XCJpbnNlcnRUYWJcIj5TeXN0ZW08L2E+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiaW5zZXJ0X2RhdGFcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBlZGl0IHBhbmVsIHdpdGggYnV0dG9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGVkaXRDb250cm9sc1BhbmVsID0gYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJlZGl0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZSBmb2N1c2VkXCI+RURJVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVFZGl0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJlZGl0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBpZD1cInNlbGVjdGlvbi1tb2RlLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1zdWItdGl0bGVcIj5TZWxlY3Rpb24gTW9kZTo8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXJcIiAgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCIgc3R5bGU9XCJvdmVyZmxvdy14OiBhdXRvO1wiPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeVN5bGxhYmxlXCI+U3lsbGFibGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5TmV1bWVcIj5OZXVtZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlOY1wiPk5ldW1lIENvbXBvbmVudDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlTdGFmZlwiPlN0YWZmPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeUxheWVyRWxlbWVudFwiPkxheWVyIEVsZW1lbnQ8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJtb3JlRWRpdFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJleHRyYUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPCEtLVxuICAgICAgICAgICAgICAgICAgICAqIFRoZSBleHRyYUVkaXQgcGFuZWwgaXMgYWRkZWQgZm9yIGVkaXQgb3B0aW9ucyB0aGF0IGhhdmUgZHJvcGRvd24gbWVudXNcbiAgICAgICAgICAgICAgICAgICAgKiBMaWtlIHRoZSBOZXVtZSBhbmQgQ2xlZiBtZW51c1xuICAgICAgICAgICAgICAgICAgICAqIFRoaXMgaXMgZG9uZSBiZWNhdXNlIHRoZSBtb3JlRWRpdCBtZW51IG5lZWRzIHRvIGhhdmUgb3ZlcmZsb3cgZm9yIGNhc2VzIHdoZXJlIGl0IGhhcyBsb3RzIG9mIGJ1dHRvbnNcbiAgICAgICAgICAgICAgICAgICAgKiBCdXQgb3ZlcmZsb3cgcnVpbnMgZHJvcGRvd24gbWVudXNcbiAgICAgICAgICAgICAgICAgICAgLS0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvbiBoaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cIm5ldW1lRWRpdFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInVuZG9SZWRvX2NvbnRyb2xzXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmMgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuY0FjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5DaGFuZ2UgSGVhZCBTaGFwZTo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5IZWFkIFNoYXBlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQdW5jdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UHVuY3R1bTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlZpcmdhXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+VmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJWaXJnYVJldmVyc2VkXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UmV2ZXJzZWQgVmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJJbmNsaW5hdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+SW5jbGluYXR1bTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkxpcXVlc2NlbnRBbnRpY2xvY2t3aXNlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TGlxdWVzY2VudCBBPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiTGlxdWVzY2VudENsb2Nrd2lzZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkxpcXVlc2NlbnQgQzwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGJhc2ljIG5ldW1lIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMgPSBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJzcGxpdC1uZXVtZVwiPlNwbGl0IE5ldW1lczwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmV1bWUgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuZXVtZUFjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5Hcm91cGluZyBPcHRpb25zOjwvbGFiZWw+XG4gICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkdyb3VwaW5nczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudCBzY3JvbGxhYmxlLWRyb3Bkb3duXCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDbGltYWN1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPkNsaW1hY3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpbWFjdXNSZXN1cGludXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGltYWN1cyBSZXN1cGludXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDbGl2aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGl2aXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQZXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5QZXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQZXNTdWJwdW5jdGlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UGVzIFN1YnB1bmN0aXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQb3JyZWN0dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQb3JyZWN0dXNGbGV4dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXMgRmxleHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBvcnJlY3R1cyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUHJlc3N1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlByZXNzdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJTY2FuZGljdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJTY2FuZGljdXNGbGV4dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXMgRmxleHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlNjYW5kaWN1cyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVG9yY3VsdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Ub3JjdWx1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlRvcmN1bHVzUmVzdXBpbnVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+VG9yY3VsdXMgUmVzdXBpbnVzPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5jc1wiPlVuZ3JvdXA8L2J1dHRvbj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRlZmF1bHQgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0QWN0aW9uQ29udGVudHMgPSBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRlZmF1bHQgYWN0aW9uIG1lbnUgd2hlbiBzZWxlY3RpbmcgYnkgc3lsbGFibGVcbiAqIFNhbWUgYXMgYWJvdmUgZXhjZXB0IGluY2x1ZGVzIHJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0U3lsQWN0aW9uQ29udGVudHMgPSBgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGN1c3RvcyBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3Rvc0FjdGlvbkNvbnRlbnRzID0gYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAob3V0c2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cyA9IGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImluc2VydFRvU3lsbGFibGVcIj5JbnNlcnQgdG8gbmVhcmVzdCBzeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGxheWVyIGVsZW1lbnQgKGluc2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzID0gYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibW92ZU91dHNpZGVTeWxsYWJsZVwiPk1vdmUgb3V0c2lkZSBzeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGFjY2lkIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgYWNjaWRBY3Rpb25Db250ZW50cyA9IGA8bGFiZWw+Q2hhbmdlIEFjY2lkZW50YWw6PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GbGF0XCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmxhdDwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTmF0dXJhbFwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPk5hdHVyYWw8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBzdGFmZiBzcGxpdCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyA9IGA8ZGl2PlNwbGl0IFN5c3RlbTo8L2Rpdj5cbiAgICA8ZGl2IGlkPVwic3BsaXQtc3lzdGVtLWJ0bnMtY29udGFpbmVyXCIgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJzcGxpdC1zeXN0ZW1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCI+U3BsaXQ8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cInJlc2V0LXJvdGF0ZVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5SZXNldCBSb3RhdGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGV4dHJhIHN0YWZmIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3Qgc3RhZmZNZXJnZUFjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5NZXJnZSBTeXN0ZW1zOjwvbGFiZWw+XG4gICAgPGRpdiBpZD1cIm1lcmdlLXN5c3RlbS1idG5zLWNvbnRhaW5lclwiIGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGlkPVwibWVyZ2Utc3lzdGVtc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5NZXJnZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgYWNjaWQgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBjb2x1bW5BY3Rpb25Db250ZW50cyA9IGA8ZGl2IGNsYXNzPVwiY29sLWVkaXQtY29udGFpbmVyXCI+XG4gICAgICAgIEVkaXQgQ29sdW1uIEluZm9ybWF0aW9uOlxuICAgICAgICA8ZGl2IGlkPVwiY29sLXN0ZXBwZXItYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjb2wtZGVjcmVtZW50XCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBjb2wtc3RlcHBlci1idG5cIj7igJM8L2J1dHRvbj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiY29sLWlucHV0XCIgY2xhc3M9XCJzaWRlLXBhbmVsLXN0ZXBwZXItaW5wdXRcIiB2YWx1ZT1cIjBcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjb2wtaW5jcmVtZW50XCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBjb2wtc3RlcHBlci1idG5cIj4rPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29sLWNvbmZpcm1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNpZGUtcGFuZWwtY29uZmlybS1idG5cIiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiPkNvbmZpcm08L2J1dHRvbj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJjb2wtd2FybmluZ1wiIGNsYXNzPVwic2lkZS1wYW5lbC13YXJuaW5nXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgY2xlZiBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWZBY3Rpb25Db250ZW50cyA9IGBcbiAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCIgb3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+RGlzcGxhY2UgT2N0YXZlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cImluY3JlbWVudC1vY3RhdmVcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj4rMSBPY3RhdmU8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxhIGlkPVwiZGVjcmVtZW50LW9jdGF2ZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPi0xIE9jdGF2ZTwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiIG92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkNoYW5nZSBDbGVmIFNoYXBlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cIkNDbGVmXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+QyBDbGVmPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cIkZDbGVmXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RiBDbGVmPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIGA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZGl2TGluZSB0eXBlIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGl2TGluZUFjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5DaGFuZ2UgRGl2TGluZTo8L2xhYmVsPlxuPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgPHNwYW4+U2hhcGVzPC9zcGFuPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvQ2Flc3VyYVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkNhZXN1cmE8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvRmluYWxpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkZpbmFsaXM8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWluaW1hXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWluaW1hPC9hPlxuICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb01haW9yXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWFpb3I8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWF4aW1hXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWF4aW1hPC9hPlxuICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb1Zpcmd1bGFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5WaXJndWxhPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgYmJveCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGJib3hBY3Rpb25Db250ZW50cyA9IGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1hdGNoSGVpZ2h0XCI+TWF0Y2ggSGVpZ2h0IGZvciBFbnRpcmUgUm93PC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBIVE1MIGZvciBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdyb3VwaW5nTWVudSA9IHtcbiAgbmM6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIG1vcmUtZWRpdC1idG5cIiBpZD1cImdyb3VwTmNzXCI+R3JvdXAgTmV1bWUgQ29tcG9uZW50czwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCxcbiAgbmV1bWU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJncm91cE5ldW1lc1wiPkdyb3VwIE5ldW1lczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCxcbiAgc3lsOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibWVyZ2VTeWxzXCI+TWVyZ2UgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXHRcdDwvZGl2PmAsXG4gIGxpZ2F0dXJlTmM6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZ3JvdXBOY3NcIj5Hcm91cCBOZXVtZSBDb21wb25lbnRzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saWdhdHVyZVwiPlRvZ2dsZSBMaWdhdHVyZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+YCxcbiAgbGlnYXR1cmU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saWdhdHVyZVwiPlRvZ2dsZSBMaWdhdHVyZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+YCxcbiAgc3BsaXRTeWxsYWJsZTogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlua1wiPlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5gLFxufTtcblxuLyogQkdJTk5JTkcgT0YgTU9EQUwgV0lORE9XIENPTlRFTlQgU0VDVElPTiAqL1xuXG4vKipcbiAqIEhUTUwgZm9yIEFkZCBTeWxsYWJsZSBUZXh0IG1vZGFsIHdpbmRvd1xuICovXG5leHBvcnQgY29uc3QgYWRkVGV4dE1vZGFsID0gYDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtbGFiZWxcIj5FbnRlciBTeWxsYWJsZSBUZXh0OjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCI+XG4gICAgICAgIDxkaXYgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtYnRuc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctYnRuXCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsXCI+Q2FuY2VsPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1hZGRcIj5BZGQ8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBIVE1MIGZvciBFZGl0IFN5bGxhYmxlIFRleHQgbW9kYWwgd2luZG93XG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0VGV4dE1vZGFsID0gYDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtbGFiZWxcIj5FbnRlciBTeWxsYWJsZSBUZXh0OjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCI+XG4gICAgICAgIDxkaXYgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtYnRuc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctYnRuXCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsXCI+Q2FuY2VsPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlXCI+U2F2ZTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIEhUTUwgZm9yIEhvdGtleXMgbW9kYWwgd2luZG93XG4gKi9cbmV4cG9ydCBjb25zdCBob3RrZXlzTW9kYWwgPSBgXG4gICAgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWNvbnRlbnRcIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtaG90a2V5c1wiPlxuICAgICAgICA8IS0tIFwiRGlzcGxheVwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+RGlzcGxheTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlpvb20gSW48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4tPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlpvb20gT3V0PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPjA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+Wm9vbSBSZXNldDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5oPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPkhpZGUgR2x5cGg8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5UPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlNjcm9sbCBUbyBTeWxsYWJsZSBUZXh0PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBcIkVkaXRcIiBob3RrZXlzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS10aXRsZVwiPkVkaXQ8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkN0cmw8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+b3I8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPuKMmDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+VW5kbzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5DdHJsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+b3I8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPuKMmDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5SZWRvPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPnEvdy9lL3IvdC95PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBIaWdobGlnaHQgYnkgU3RhZmYvU3lsbGFibGUvTmV1bWUvTGF5ZXJFbGVtZW50L1NlbGVjdGlvbi9PZmZcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+MS8yLzMvNC81LzY8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIFNlbGVjdCBieSBTeWxsYWJsZS9OZXVtZS9OZXVtZSBDb21wb25lbnQvU3RhZmYvTGF5ZXIgRWxlbWVudC9CQm94XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+TnVtYmVyPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBCZWdpbiBJbnNlcnQgZm9yIHRoZSA8aT5udGg8L2k+IE9wdGlvbiBpbiB0aGUgU2VsZWN0ZWQgVGFiXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPmc8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIEdyb3VwL1VuZ3JvdXAgU2VsZWN0ZWQgRWxlbWVudChzKVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJPdGhlclwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+T3RoZXI8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPnM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+U2F2ZSBGaWxlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkVzYzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5SZXR1cm4gdG8gRWRpdCBNb2RlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuZXhwb3J0IGNvbnN0IHN5bGxhYmxlQWN0aW9uc0NvbnRlbnQgPSBgXG4gIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOZXVtZXNcIj5Vbmdyb3VwPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgPC9kaXY+XG5gO1xuXG5leHBvcnQgY29uc3QgZXJyb3JMb2dzUGFuZWxDb250ZW50cyA9IGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiZXJyb3JMb2dIZWFkaW5nXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nLXRpdGxlXCI+RXJyb3IgTG9nPC9kaXY+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRXJyb3JMb2dcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIGlkPVwiZXJyb3JMb2dDb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3c6IHNjcm9sbDsgcGFkZGluZzogMC41ZW0gMC43NWVtOyBtYXgtaGVpZ2h0OiAzMDBweDtcIj48ZGl2PmA7XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgQWRkU3lsQWN0aW9uLCBTZXRUZXh0QWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dJbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7XG4gIGhvdGtleXNNb2RhbCxcbiAgZWRpdFRleHRNb2RhbCxcbiAgYWRkVGV4dE1vZGFsLFxufSBmcm9tICcuLi9TcXVhcmVFZGl0L0NvbnRlbnRzJztcbmltcG9ydCB7XG4gIG5ld0ZvbGRlckhUTUwsXG4gIHJlbmFtZUhUTUwsXG4gIHVwbG9hZEFyZWFIVE1MLFxufSBmcm9tICcuLi9EYXNoYm9hcmQvRGFzaGJvYXJkQ29udGVudCc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBzZWxlY3RCQm94LCB1bnNlbGVjdCB9IGZyb20gJy4vU2VsZWN0VG9vbHMnO1xuXG4vKipcbiAqIERlZmluZXMgbW9kYWwgdHlwZXMuXG4gKiBUbyBjcmVhdGUgbmV3IG1vZGFsIHdpbmRvdyB0eXBlcywgYWRkIGVudW0gb3B0aW9uIGFuZCBpbXBsZW1lbnQgbG9naWMgaW5zaWRlIE1vZGFsIGNsYXNzLlxuICovXG5leHBvcnQgZW51bSBNb2RhbFdpbmRvd1ZpZXcge1xuICBBRERfVEVYVCxcbiAgRURJVF9URVhULFxuICBIT1RLRVlTLFxuICBFUlJPUl9MT0csIC8vIGZvciB2YWxpZGF0aW9uIGVycm9ycyBhZ2FpbnN0IE1FSSBzY2hlbWEgYW5kIGludmFsaWQgZWxlbWVudCBlcnJvcnNcbiAgRE9DVU1FTlRfVVBMT0FELFxuICBNT1ZFX1RPLFxuICBORVdfRk9MREVSLFxuICBSRU5BTUUsXG59XG5cbmVudW0gTW9kYWxXaW5kb3dTdGF0ZSB7XG4gIE9QRU4sXG4gIENMT1NFRCxcbn1cblxuLyoqXG4gKiBNb2RhbCBjbGFzcyBpcyB1c2VkIHRvIGNyZWF0ZSBhbmQgY29udHJvbCBzdGF0ZS9jb250ZW50XG4gKiBvZiBtb2RhbCB3aW5kb3dzIGluIE5lb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RhbFdpbmRvdyBpbXBsZW1lbnRzIE1vZGFsV2luZG93SW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBtb2RhbFdpbmRvd1ZpZXc6IE1vZGFsV2luZG93VmlldzsgLy8gY3VycmVudCBtb2RhbCB0eXBlXG4gIHByaXZhdGUgbW9kYWxXaW5kb3dTdGF0ZTogTW9kYWxXaW5kb3dTdGF0ZTsgLy8gb3BlbiBvciBjbG9zZWQ/XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3OyAvLyBuZW9uVmlldyBpbnN0YW5jZSBjb250ZXh0XG5cbiAgLyoqXG4gICAqIFNldCBuZW9uVmlldyBpbnN0YW5jZSBjb250ZXh0IGZvciB0aGlzIG1vZGFsIHdpbmRvdyBpbnN0YW5jZS5cbiAgICogQHBhcmFtIG5lb25WaWV3IG5lb25WaWV3IGNvbnRleHQgZm9yIE1vZGFsIGluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihuZW9uVmlldz86IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuQ0xPU0VEO1xuICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBldmVudCBsaXN0ZW5lcnMgdGhhdCBhcHBseSB0byBhbGwgbW9kYWwgd2luZG93c1xuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWhlYWRlci1jbG9zZScpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdycpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyLmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZvY3VzTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBhc3NvY2lhdGVkIHdpdGggdGhpcyBtb2RhbCB3aW5kb3dcbiAgICovXG4gIHByaXZhdGUgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLWNsb3NlJylcbiAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93LmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JylcbiAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJylcbiAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZm9jdXNNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1vZGFsIHZpZXcgb2YgdGhpcyBNb2RhbCBpbnN0YW5jZS5cbiAgICogVXBkYXRlIHRoZSBjb250ZW50IGJhc2VkIG9uIHBhc3NlZCB2aWV3LlxuICAgKiBAcGFyYW0gdmlldyBUeXBlIG9mIG1vZGFsIHRvIG9wZW4gKE1vZGFsVmlldyBlbnVtKVxuICAgKi9cbiAgc2V0TW9kYWxXaW5kb3dWaWV3KHZpZXc6IE1vZGFsV2luZG93VmlldywgY29udGVudD86IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMubW9kYWxXaW5kb3dWaWV3ID0gdmlldztcbiAgICB0aGlzLnNldE1vZGFsV2luZG93Q29udGVudChjb250ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgbW9kYWwgdmlldyBhcyBhIHN0cmluZ1xuICAgKi9cbiAgZ2V0TW9kYWxXaW5kb3dWaWV3KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubW9kYWxXaW5kb3dWaWV3LnRvU3RyaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBhIG1vZGVsIHdpbmRvdyB3aXRoIGNvbnRlbnQgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IE1vZGFsVmlldy5cbiAgICovXG4gIG9wZW5Nb2RhbFdpbmRvdygpOiB2b2lkIHtcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudCcpLFxuICAgICkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG4gICAgc3dpdGNoICh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuQUREX1RFWFQ6XG4gICAgICAgIHRoaXMub3BlbkFkZFN5bFRleHRNb2RhbFdpbmRvdygpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICB0aGlzLm9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93KCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5IT1RLRVlTOlxuICAgICAgICAvLyBzZXQgdXAgYW5kIGRpcGxheSBob3RrZXkgbW9kYWwgY29udGVudFxuICAgICAgICBkb2N1bWVudFxuICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzJylcbiAgICAgICAgICAuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ET0NVTUVOVF9VUExPQUQ6XG4gICAgICAvLyBhZGQgZnVuY3Rpb24gdG8gcGFpcmluZyBidXR0b25cbiAgICAgIC8vIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5NT1ZFX1RPOlxuXG4gICAgICAvLyBicmVhaztcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk5FV19GT0xERVI6XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlJFTkFNRTpcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPVxuICAgICAgICAgICdmbGV4JztcbiAgICAgICAgdGhpcy5mb2N1c01vZGFsV2luZG93KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgdXNlciBjYW4ndCBzY3JvbGwgd2hlbiBtb2RhbCBpcyBvcGVuXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1ggPSAnaGlkZGVuJztcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nO1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuT1BFTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBOZW9uIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgaGlkZU1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIHN3aXRjaCAodGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgY29uc3Qgc3BhbiA9IDxIVE1MU3BhbkVsZW1lbnQ+KFxuICAgICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JylcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnNlbGVjdGVkLXRvLWVkaXQnKVswXVxuICAgICAgICApO1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkLXRvLWVkaXQnKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk1PVkVfVE86XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ORVdfRk9MREVSOlxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuUkVOQU1FOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInLFxuICAgICAgICApLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID1cbiAgICAgICdub25lJztcbiAgICAvLyByZXNldCBzY3JvbGwgYmVoYXZpb3Igb2YgYm9keVxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dYID0gJ2hpZGRlbic7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSAnc2Nyb2xsJztcbiAgICB0aGlzLm1vZGFsV2luZG93U3RhdGUgPSBNb2RhbFdpbmRvd1N0YXRlLkNMT1NFRDtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGNvbnRlbnQgb2YgbW9kYWwgd2luZG93XG4gICAqL1xuICBwcml2YXRlIHNldE1vZGFsV2luZG93Q29udGVudChjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInLFxuICAgICk7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLXRpdGxlJyk7XG5cbiAgICBzd2l0Y2ggKHRoaXMubW9kYWxXaW5kb3dWaWV3KSB7XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5BRERfVEVYVDpcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGFkZFRleHRNb2RhbDtcbiAgICAgICAgLy8gc2V0IG1vZGFsIHdpbmRvdyB0aXRsZVxuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnRU5URVIgU1lMTEFCTEUgVEVYVCc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5FRElUX1RFWFQ6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBlZGl0VGV4dE1vZGFsO1xuICAgICAgICAvLyBzZXQgbW9kYWwgd2luZG93IHRpdGxlXG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdFRElUIFNZTExBQkxFIFRFWFQnO1xuXG4gICAgICAgIC8vIHNwYW4gYW5kIGN1cnJlbnQgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlIGFuZCBmaWx0ZXIgb3V0IHVud2FudGVkIGNoYXJzXG4gICAgICAgIGNvbnN0IHNwYW4gPSA8SFRNTFNwYW5FbGVtZW50PihcbiAgICAgICAgICBkb2N1bWVudFxuICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zZWxlY3RlZC10by1lZGl0JylbMF1cbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICAgICAgICBjb25zdCBvcmlnID0gc3Bhbi50ZXh0Q29udGVudC5yZXBsYWNlKHJlbW92ZVN5bWJvbCwgJycpLnRyaW0oKTtcblxuICAgICAgICAvLyBzZXQgdmFsdWUgb2YgaW5wdXQgZmllbGQgdG8gY3VycmVudCBzeWxsYWJsZSB0ZXh0XG4gICAgICAgICg8SFRNTElucHV0RWxlbWVudD4oXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dCcpXG4gICAgICAgICkpLnZhbHVlID0gb3JpZztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkhPVEtFWVM6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBob3RrZXlzTW9kYWw7XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdIT1RLRVlTJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVSUk9SX0xPRzpcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMzBweDt3aGl0ZS1zcGFjZTogcHJlLWxpbmU7XCI+JHtjb250ZW50fTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIj5cbiAgICAgICAgICAgIDxhIGhyZWY9XCJkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSShcbiAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICl9XCIgZG93bmxvYWQ9XCJlcnJvci5sb2dcIj5cbiAgICAgICAgICAgICAgRXhwb3J0XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnRVJST1IgTE9HJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ0RPQ1VNRU5UIFVQTE9BRCc7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSB1cGxvYWRBcmVhSFRNTDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk1PVkVfVE86XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdNT1ZFIFRPJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk5FV19GT0xERVI6XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdORVcgRk9MREVSJztcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IG5ld0ZvbGRlckhUTUw7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdSRU5BTUUnO1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gcmVuYW1lSFRNTDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Vua25vd24gc2VsZWN0aW9uIHR5cGUuIFRoaXMgc2hvdWxkIG5vdCBoYXZlIG9jY3VycmVkLicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaWxsIG1vZGFsIHdpbmRvdyB3aXRoIGNvbnRlbnQgZm9yIGFkZGluZyBzeWxsYWJsZSB0ZXh0XG4gICAqL1xuICBwcml2YXRlIG9wZW5BZGRTeWxUZXh0TW9kYWxXaW5kb3cgPSBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSxcbiAgICApLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHVwIEFkZCBTeWxsYWJsZSBUZXh0IG1vZGFsIHdpbmRvd1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtZWRpdC10ZXh0JylcbiAgICAgIC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgICAvLyBSZXNldCBcIkNhbmNlbFwiIGJ1dHRvbiBldmVudCBsaXN0ZW5lclxuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWwnKVxuICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cpO1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWwnKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBSZXNldCBcIlNhdmVcIiBidXR0b24gZXZlbnQgbGlzdGVuZXJcbiAgICBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtYWRkJylcbiAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYWRkU3lsVGV4dC5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtYWRkJylcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYWRkU3lsVGV4dC5iaW5kKHRoaXMpKTtcblxuICAgIC8vIGRpc3BsYXkgbW9kYWwgd2luZG93XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPVxuICAgICAgJ2ZsZXgnO1xuICAgIHRoaXMuZm9jdXNNb2RhbFdpbmRvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGaWxsIG1vZGFsIHdpbmRvdyB3aXRoIGNvbnRlbnQgZm9yIHVwZGF0aW5nIHN5bGxhYmxlIHRleHRcbiAgICovXG4gIHByaXZhdGUgb3BlbkVkaXRTeWxUZXh0TW9kYWxXaW5kb3cgPSBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSxcbiAgICApLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHVwIEVkaXQgU3lsbGFibGUgVGV4dCBtb2RhbCB3aW5kb3dcbiAgICBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dCcpXG4gICAgICAuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgLy8gUmVzZXQgXCJDYW5jZWxcIiBidXR0b24gZXZlbnQgbGlzdGVuZXJcbiAgICBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsJylcbiAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93KTtcbiAgICBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsJylcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93LmJpbmQodGhpcykpO1xuXG4gICAgLy8gUmVzZXQgXCJTYXZlXCIgYnV0dG9uIGV2ZW50IGxpc3RlbmVyXG4gICAgZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LXNhdmUnKVxuICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy51cGRhdGVTeWxUZXh0LmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlJylcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudXBkYXRlU3lsVGV4dC5iaW5kKHRoaXMpKTtcblxuICAgIC8vIGRpc3BsYXkgbW9kYWwgd2luZG93XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPVxuICAgICAgJ2ZsZXgnO1xuICAgIHRoaXMuZm9jdXNNb2RhbFdpbmRvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlcyB3aXRoIHVzZXItcHJvdmlkZWQgdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSBhZGRTeWxUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIEdldCB0aGUgZWxlbWVudCBJRCBvZiB0aGUgc2VsZWN0ZWQgc3lsbGFibGVcbiAgICBjb25zdCBlbGVtZW50SWQgPVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3lsbGFibGUgc2VsZWN0ZWQnKVswXS5pZDtcblxuICAgIGNvbnN0IHN5bFRleHQgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+KFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dCcpXG4gICAgKSkudmFsdWU7XG5cbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IEFkZFN5bEFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ2FkZFN5bCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZCxcbiAgICAgICAgc3lsVGV4dDogc3lsVGV4dCxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIHNlbmQgYWN0aW9uIHRvIHZlcm92aW8gZm9yIHByb2Nlc3NpbmdcbiAgICB0aGlzLm5lb25WaWV3XG4gICAgICAuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlOiBib29sZWFuKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgU1ZHXG4gICAgICAgICAgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gQW4gdXBkYXRlIHRvIHRoZSBwYWdlIHdpbGwgcmVsb2FkIHRoZSBlbnRpcmUgc3ZnO1xuICAgICAgICAgICAgLy8gV2Ugd291bGQgbGlrZSB0byB0aGVuIHJlc2VsZWN0IHRoZSBzYW1lIHNlbGVjdGVkIHN5bGxhYmxlXG4gICAgICAgICAgICAvLyBpZiBiYm94ZXMgYXJlIGVuYWJsZWRcbiAgICAgICAgICAgIC8vIHRoaXMudXBkYXRlU2VsZWN0ZWRCQm94KHNwYW4sIHRoaXMuZHJhZ0hhbmRsZXIsIHRoaXMubmVvblZpZXcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIGNsb3NlIG1vZGFsIHdpbmRvd1xuICAgIHRoaXMuaGlkZU1vZGFsV2luZG93KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0ZXh0IG9mIHNlbGVjdGVkLXRvLWVkaXQgc3lsbGFibGVzIHdpdGggdXNlci1wcm92aWRlZCB0ZXh0XG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVN5bFRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gc3BhbiBhbmQgY3VycmVudCB0ZXh0IG9mIHNlbGVjdGVkLXRvLWVkaXQgc3lsbGFibGUgYW5kIGZpbHRlciBvdXQgdW53YW50ZWQgY2hhcnNcbiAgICBjb25zdCBzcGFuID0gPEhUTUxTcGFuRWxlbWVudD4oXG4gICAgICBkb2N1bWVudFxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JylcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdXG4gICAgKTtcbiAgICBjb25zdCByZW1vdmVTeW1ib2wgPSAvXFx1ezI1Q0F9L3U7XG4gICAgY29uc3Qgb3JpZyA9IHNwYW4udGV4dENvbnRlbnQucmVwbGFjZShyZW1vdmVTeW1ib2wsICcnKS50cmltKCk7XG4gICAgY29uc3QgdXBkYXRlZFN5bFRleHQgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+KFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dCcpXG4gICAgKSkudmFsdWU7XG5cbiAgICBpZiAodXBkYXRlZFN5bFRleHQgIT09IG51bGwgJiYgdXBkYXRlZFN5bFRleHQgIT09IG9yaWcpIHtcbiAgICAgIC8vIGNyZWF0ZSBcInNldCB0ZXh0XCIgYWN0aW9uXG4gICAgICBjb25zdCBlbGVtZW50SWQgPSBbLi4uc3Bhbi5jbGFzc0xpc3QuZW50cmllcygpXS5maWx0ZXIoXG4gICAgICAgIChjbGFzc05hbWUpID0+XG4gICAgICAgICAgY2xhc3NOYW1lWzFdICE9PSAndGV4dC1zZWxlY3QnICYmIGNsYXNzTmFtZVsxXSAhPT0gJ3NlbGVjdGVkLXRvLWVkaXQnLFxuICAgICAgKVswXVsxXTtcbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogU2V0VGV4dEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWQsXG4gICAgICAgICAgdGV4dDogdXBkYXRlZFN5bFRleHQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgLy8gc2VuZCBhY3Rpb24gdG8gdmVyb3ZpbyBmb3IgcHJvY2Vzc2luZ1xuICAgICAgdGhpcy5uZW9uVmlld1xuICAgICAgICAuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgICAgICAudGhlbigocmVzcG9uc2U6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgU1ZHXG4gICAgICAgICAgICB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIEFuIHVwZGF0ZSB0byB0aGUgcGFnZSB3aWxsIHJlbG9hZCB0aGUgZW50aXJlIHN2ZztcbiAgICAgICAgICAgICAgLy8gV2Ugd291bGQgbGlrZSB0byB0aGVuIHJlc2VsZWN0IHRoZSBzYW1lIHNlbGVjdGVkIHN5bGxhYmxlXG4gICAgICAgICAgICAgIC8vIGlmIGJib3hlcyBhcmUgZW5hYmxlZFxuICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkQkJveChzcGFuLCB0aGlzLmRyYWdIYW5kbGVyLCB0aGlzLm5lb25WaWV3KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJlc2VsZWN0IGlmIG5vIGNoYW5nZSBpcyBtYWRlXG4gICAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkQkJveChzcGFuLCB0aGlzLmRyYWdIYW5kbGVyLCB0aGlzLm5lb25WaWV3KTtcbiAgICB9XG4gICAgLy8gY2xvc2UgbW9kYWwgd2luZG93XG4gICAgdGhpcy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBib3VuZGluZyBib3ggc2VsZWN0ZWQgd2hlbiB0aGUgZWRpdCB0ZXh0IG1vZGFsIGhhcyBiZWVuIGNsaWNrZWRcbiAgICovXG4gIHVwZGF0ZVNlbGVjdGVkQkJveChcbiAgICBzcGFuOiBIVE1MU3BhbkVsZW1lbnQsXG4gICAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLFxuICAgIG5lb25WaWV3OiBOZW9uVmlldyxcbiAgKTogdm9pZCB7XG4gICAgdW5zZWxlY3QoKTtcblxuICAgIGNvbnN0IGJib3hJZCA9IEFycmF5LmZyb20oc3Bhbi5jbGFzc0xpc3QpLmZpbmQoXG4gICAgICAoZSkgPT4gZSAhPT0gJ3RleHQtc2VsZWN0JyAmJiBlICE9PSAnc2VsZWN0ZWQtdG8tZWRpdCcsXG4gICAgKTtcblxuICAgIGlmICgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJib3hJZCkpIHtcbiAgICAgICAgY29uc3QgZGlzcGxheVJlY3QgPSBkb2N1bWVudFxuICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChiYm94SWQpXG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykgYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBzZWxlY3RCQm94KGRpc3BsYXlSZWN0LCBkcmFnSGFuZGxlciwgbmVvblZpZXcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaWxsIG1vZGFsIHdpbmRvdyB3aXRoIGhvdGtleSBpbmZvIGNvbnRlbnRcbiAgICovXG4gIC8qXG4gIHByaXZhdGUgb3BlbkhvdGtleU1vZGFsV2luZG93ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50JykpLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHVwIGFuZCBkaXBsYXkgaG90a2V5IG1vZGFsIGNvbnRlbnRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzJykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5mb2N1c01vZGFsV2luZG93KCk7XG4gIH07XG4gICovXG5cbiAgLyoqXG4gICAqIERlZmluZSBldmVudCBsaXN0ZW5lcnMgZm9yIG1vZGFsIHdpbmRvdyBiYXNlZCBvbiBtb2RhbFZpZXcgdHlwZVxuICAgKi9cbiAgcHJpdmF0ZSBrZXlkb3duTGlzdGVuZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7IC8vIHByZXZlbnQgTmVvbiBob3RrZXkgZXZlbnRzIGZyb20gZmlyaW5nIHdoZW4gdXNlciBpcyB0eXBpbmdcblxuICAgIHN3aXRjaCAodGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkFERF9URVhUOlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHRoaXMuYWRkU3lsVGV4dCgpO1xuICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHRoaXMudXBkYXRlU3lsVGV4dCgpO1xuICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykgdGhpcy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEV2ZW50IGxpc3RlbmVyIHRoYXQgZm9jdXNlcyB0aGUgbW9kYWwgd2luZG93IGlmIHVzZXIgY2xpY2tzIGFueXdoZXJlIG91dHNpZGUgb2YgaXRcbiAgICovXG4gIHByaXZhdGUgZm9jdXNNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBzd2l0Y2ggKHRoaXMubW9kYWxXaW5kb3dWaWV3KSB7XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5BRERfVEVYVDpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PihcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JylcbiAgICAgICAgKSkuc2VsZWN0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEOlxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTkVXX0ZPTERFUjpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlJFTkFNRTpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5mb2N1cygpO1xuICAgIH1cbiAgfTtcbn1cbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTsiLCJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHV1aWQpIHtcbiAgcmV0dXJuIHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyAmJiBSRUdFWC50ZXN0KHV1aWQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZTsiLCIvKiogQG1vZHVsZSBEaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzICovXG5cbmltcG9ydCAqIGFzIENvbG9yIGZyb20gJy4uL3V0aWxzL0NvbG9yJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuLi9TaW5nbGVWaWV3L1pvb20nO1xuaW1wb3J0IHsgR3JvdXBpbmdUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MsIHNldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cbmxldCBsYXN0R2x5cGhPcGFjaXR5OiBudW1iZXIsIGxhc3RJbWFnZU9wYWNpdHk6IG51bWJlciwgbGFzdENpcmNsZVNpemU6IG51bWJlcjtcblxuLyoqXG4gKiBTZXQgem9vbSBjb250cm9sIGxpc3RlbmVyIGZvciBidXR0b24gYW5kIHNsaWRlclxuICogQHBhcmFtIHpvb21IYW5kbGVyIC0gQSBbW1pvb21IYW5kbGVyXV0gaXMgb25seSBuZWNlc3NhcnkgaW4gU2luZ2xlIFBhZ2UgbW9kZSBhcyBkaXZhLmpzIGhhbmRsZXMgem9vbWluZyBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRab29tQ29udHJvbHMgKHpvb21IYW5kbGVyPzogWm9vbUhhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKHpvb21IYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgem9vbVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tU2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3Qgem9vbU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tT3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG5cbiAgY29uc3QgeyB6b29tIH0gPSBnZXRTZXR0aW5ncygpO1xuICB6b29tU2xpZGVyLnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICB6b29tSGFuZGxlci56b29tVG8oem9vbSAvIDEwMC4wKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXpvb20nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB6b29tT3V0cHV0LnZhbHVlID0gJzEwMCc7XG4gICAgem9vbVNsaWRlci52YWx1ZSA9ICcxMDAnO1xuICAgIHpvb21IYW5kbGVyLnJlc2V0Wm9vbUFuZFBhbigpO1xuICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2V0LXpvb20tZWFzeS1lZGl0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9ICcxODAnO1xuICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTgwJztcbiAgICB6b29tSGFuZGxlci56b29tVG8oMTgwLzEwMCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGlucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9IHpvb21TbGlkZXIudmFsdWU7XG4gICAgem9vbUhhbmRsZXIuem9vbVRvKE51bWJlcih6b29tT3V0cHV0LnZhbHVlKSAvIDEwMC4wKTtcbiAgfVxuXG4gIC8vIHpvb21TbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dENoYW5nZUhhbmRsZXIpO1xuICB6b29tU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBpbnB1dENoYW5nZUhhbmRsZXIpO1xuICB6b29tU2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRab29tID0gcGFyc2VJbnQoem9vbU91dHB1dC52YWx1ZSk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdBcnJvd1VwJyB8fCBldnQua2V5ID09PSAnQXJyb3dEb3duJyB8fCBcbiAgICBldnQua2V5ID09PSAnQXJyb3dSaWdodCcgfHwgZXZ0LmtleSA9PT0gJ0Fycm93TGVmdCcpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJysnKSB7IC8vIGluY3JlYXNlIHpvb20gYnkgMjBcbiAgICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1pbihjdXJyZW50Wm9vbSArIDIwLCBwYXJzZUludCh6b29tU2xpZGVyLmdldEF0dHJpYnV0ZSgnbWF4JykpKTtcbiAgICAgIHpvb21IYW5kbGVyLnpvb21UbyhuZXdab29tIC8gMTAwLjApO1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnXycpIHsgLy8gZGVjcmVhc2Ugem9vbSBieSAyMFxuICAgICAgY29uc3QgbmV3Wm9vbSA9IE1hdGgubWF4KGN1cnJlbnRab29tIC0gMjAsIHBhcnNlSW50KHpvb21TbGlkZXIuZ2V0QXR0cmlidXRlKCdtaW4nKSkpO1xuICAgICAgem9vbUhhbmRsZXIuem9vbVRvKG5ld1pvb20gLyAxMDAuMCk7XG4gICAgICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICcwJykge1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9ICcxMDAnO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9ICcxMDAnO1xuICAgICAgem9vbUhhbmRsZXIucmVzZXRab29tQW5kUGFuKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgTUVJIG9wYWNpdHkgdG8gdmFsdWUgZnJvbSB0aGUgc2xpZGVyLlxuICogQHBhcmFtIG1laUNsYXNzTmFtZSAtIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIHJlbmRlcmVkIE1FSS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIgKG1laUNsYXNzTmFtZT86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcbiAgY29uc3Qgb3BhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gb3BhY2l0eU91dHB1dC52YWx1ZTtcbiAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBsb2FkIGdseXBoIG9wYWNpdHkgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gcGFnZS1sb2FkXG4gIHNldFNldHRpbmdzKHsgZ2x5cGhPcGFjaXR5OiBOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgfSk7XG5cbiAgLy8gZGlzcGF5IGNvcnJlY3Qgc2xpZGVyIHRvZ2dsZSBkaXNwbGF5IGljb25cbiAgY29uc3QgaGlkZUdseXBoSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZ2dsZS1nbHlwaC1vcGFjaXR5ID4gaW1nJyk7XG4gIGlmIChOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgPT09IDApIHtcbiAgICBoaWRlR2x5cGhJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2hvdy1pY29uLnN2Z2ApO1xuICAgIGhpZGVHbHlwaEltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnU2hvdyBnbHlwaCcpO1xuICB9XG4gIGVsc2Uge1xuICAgIGhpZGVHbHlwaEltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnYCk7XG4gICAgaGlkZUdseXBoSW1nLnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICdIaWRlIGdseXBoJyk7XG4gIH1cblxuICB0cnkge1xuICAgICgoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBtZWlDbGFzc05hbWUpKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PikuZm9yRWFjaChnID0+IHtcbiAgICAgIGcuc3R5bGUub3BhY2l0eSA9IChOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDAuMCkudG9TdHJpbmcoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUud2FybignVW5hYmxlIHRvIHByb3Blcmx5IHNldCBvcGFjaXR5IHRvIHBhZ2VzJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgcmVuZGVyZWQgTUVJIG9wYWNpdHkgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICogQHBhcmFtIG1laUNsYXNzTmFtZSAtIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIHJlbmRlcmVkIE1FSS5cbiAqL1xuZnVuY3Rpb24gc2V0R2x5cGhPcGFjaXR5Q29udHJvbHMgKG1laUNsYXNzTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IG9wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BhY2l0eVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IG9wYWNpdHlPdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BhY2l0eU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgZ2x5cGhPcGFjaXR5IH0gPSBnZXRTZXR0aW5ncygpO1xuICBsYXN0R2x5cGhPcGFjaXR5ID0gZ2x5cGhPcGFjaXR5O1xuICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG4gIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoZ2x5cGhPcGFjaXR5KTtcblxuICBmdW5jdGlvbiBpbnB1dENoYW5nZU9wYWNpdHkgKCk6IHZvaWQge1xuICAgIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBvcGFjaXR5U2xpZGVyLnZhbHVlO1xuICAgIGxhc3RHbHlwaE9wYWNpdHkgPSBOdW1iZXIob3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgc2V0R2x5cGhPcGFjaXR5RnJvbVNsaWRlcihtZWlDbGFzc05hbWUpO1xuICB9XG5cbiAgY29uc3QgdG9nZ2xlT3BhY2l0eUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtZ2x5cGgtb3BhY2l0eScpO1xuXG4gIGlmIChnbHlwaE9wYWNpdHkgPT0gMTAwKSB7XG4gICAgdG9nZ2xlT3BhY2l0eUJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRlLWljb24nKTtcbiAgfVxuXG4gIHRvZ2dsZU9wYWNpdHlCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXG4gICAgbGV0IG5ld09wYWNpdHk7XG4gICAgaWYgKHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlLWljb24nKSkge1xuICAgICAgdG9nZ2xlT3BhY2l0eUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlLWljb24nKTtcbiAgICAgIG5ld09wYWNpdHkgPSAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbml0aW9uIHNjYWxlIGlzIHRoZSByb290IGVsZW1lbnQgb2Ygd2hhdCBpcyBnZW5lcmF0ZWQgYnkgdmVyb3Zpb1xuICAgIFxuICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIG1laUNsYXNzTmFtZSkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4pLmZvckVhY2goZyA9PiB7XG4gICAgICBnLnN0eWxlLm9wYWNpdHkgPSBuZXdPcGFjaXR5LnRvU3RyaW5nKCk7XG4gICAgfSk7XG5cbiAgICBsYXN0R2x5cGhPcGFjaXR5ID0gTnVtYmVyKG9wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIG9wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3T3BhY2l0eSAqIDEwMCk7XG4gICAgb3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhNYXRoLnJvdW5kKG5ld09wYWNpdHkgKiAxMDApKTtcblxuICAgIHNldFNldHRpbmdzKHsgZ2x5cGhPcGFjaXR5OiBuZXdPcGFjaXR5ICogMTAwIH0pO1xuXG4gICAgaW5wdXRDaGFuZ2VPcGFjaXR5KCk7XG4gIH0pO1xuXG4gIG9wYWNpdHlTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dENoYW5nZU9wYWNpdHkpO1xuICBvcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGlucHV0Q2hhbmdlT3BhY2l0eSk7XG5cbiAgb3BhY2l0eVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG5cbi8qKlxuICogU2V0IGJhY2tncm91bmQgaW1hZ2Ugb3BhY2l0eSBidXR0b24gYW5kIHNsaWRlciBsaXN0ZW5lcnMuXG4gKiBAcGFyYW0gYmFja2dyb3VuZCAtIFRoZSBiYWNrZ3JvdW5kIGltYWdlIHNlbGVjdG9yLlxuICovXG5mdW5jdGlvbiBzZXRCZ09wYWNpdHlDb250cm9scyAoYmFja2dyb3VuZDogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGJnT3BhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ09wYWNpdHlTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBiZ09wYWNpdHlPdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdPcGFjaXR5T3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG5cbiAgY29uc3QgeyBpbWFnZU9wYWNpdHkgfSA9IGdldFNldHRpbmdzKCk7XG4gIGxhc3RJbWFnZU9wYWNpdHkgPSBpbWFnZU9wYWNpdHk7XG4gIGJnT3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhpbWFnZU9wYWNpdHkpO1xuICBiZ09wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcblxuICBmdW5jdGlvbiBiZ0lucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gYmdPcGFjaXR5U2xpZGVyLnZhbHVlO1xuICAgIGxhc3RJbWFnZU9wYWNpdHkgPSBOdW1iZXIoYmdPcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyKGJhY2tncm91bmQpO1xuICB9XG5cblxuICBjb25zdCB0b2dnbGVCZ09wYWNpdHlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWJnLW9wYWNpdHknKTtcblxuICBpZiAoaW1hZ2VPcGFjaXR5ID09IDEwMCkge1xuICAgIHRvZ2dsZUJnT3BhY2l0eUJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRlLWljb24nKTtcbiAgfVxuXG4gIHRvZ2dsZUJnT3BhY2l0eUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIGxldCBuZXdPcGFjaXR5O1xuXG4gICAgaWYgKHRvZ2dsZUJnT3BhY2l0eUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUtaWNvbicpKSB7XG4gICAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYmFja2dyb3VuZClbMF0gYXMgSFRNTEVsZW1lbnQpXG4gICAgICAuc3R5bGUub3BhY2l0eSA9IG5ld09wYWNpdHkudG9TdHJpbmcoKTtcblxuICAgIGxhc3RJbWFnZU9wYWNpdHkgPSBOdW1iZXIoYmdPcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBiZ09wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3T3BhY2l0eSAqIDEwMCk7XG4gICAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKE1hdGgucm91bmQobmV3T3BhY2l0eSAqIDEwMCkpO1xuXG4gICAgc2V0U2V0dGluZ3MoeyBpbWFnZU9wYWNpdHk6IG5ld09wYWNpdHkgKiAxMDAgfSk7XG4gICAgYmdJbnB1dENoYW5nZUhhbmRsZXIoKTtcbiAgfSk7XG5cbiAgYmdPcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYmdJbnB1dENoYW5nZUhhbmRsZXIpO1xuICBiZ09wYWNpdHlTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgYmdJbnB1dENoYW5nZUhhbmRsZXIpO1xuXG4gIGJnT3BhY2l0eVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyIChiYWNrZ3JvdW5kPzogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGJnT3BhY2l0eU91dHB1dDogSFRNTE91dHB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmdPcGFjaXR5T3V0cHV0Jyk7XG4gIFxuICBzZXRTZXR0aW5ncyh7IGltYWdlT3BhY2l0eTogTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgfSk7XG5cbiAgLy8gZGlzcGF5IGNvcnJlY3Qgc2xpZGVyIHRpZ2dsZSBkaXNwbGF5IGljb25cbiAgY29uc3QgaGlkZUJnSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZ2dsZS1iZy1vcGFjaXR5ID4gaW1nJyk7XG4gIGlmIChOdW1iZXIoYmdPcGFjaXR5T3V0cHV0LnZhbHVlKSA9PT0gMCkge1xuICAgIGhpZGVCZ0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zaG93LWljb24uc3ZnYCk7XG4gICAgaGlkZUJnSW1nLnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICdTaG93IGJhY2tncm91bmQgaW1hZ2UnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBoaWRlQmdJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z2ApO1xuICAgIGhpZGVCZ0ltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnSGlkZSBiYWNrZ3JvdW5kIGltYWdlJyk7XG4gIH1cblxuICBjb25zdCBiZzogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtiYWNrZ3JvdW5kfWApO1xuICBpZiAoYmcpIGJnLnN0eWxlLm9wYWNpdHkgPSBTdHJpbmcoTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDApO1xufVxuXG4vKipcbiAqIFNldCBiYm94IGFkanVzdG1lbnQgY2lyY2xlIHNpemUgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q2lyY2xlU2l6ZUNvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgY2lyY2xlU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpcmNsZVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGNpcmNsZU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXJjbGVPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IGNpcmNsZVNpemUgfSA9IGdldFNldHRpbmdzKCk7XG4gIGxhc3RDaXJjbGVTaXplID0gY2lyY2xlU2l6ZTtcbiAgY2lyY2xlU2xpZGVyLnZhbHVlID0gU3RyaW5nKGNpcmNsZVNpemUpO1xuICBjaXJjbGVPdXRwdXQudmFsdWUgPSBTdHJpbmcoY2lyY2xlU2l6ZSk7XG5cbiAgZnVuY3Rpb24gY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgY2lyY2xlT3V0cHV0LnZhbHVlID0gY2lyY2xlU2xpZGVyLnZhbHVlO1xuICAgIGxhc3RDaXJjbGVTaXplID0gTnVtYmVyKGNpcmNsZVNsaWRlci52YWx1ZSk7XG4gICAgc2V0U2V0dGluZ3MoeyBjaXJjbGVTaXplOiBOdW1iZXIobGFzdENpcmNsZVNpemUpIH0pO1xuICAgIGNvbnN0IHJlc2l6ZVBvaW50cyA9IGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50Jyk7XG4gICAgaWYgKCFyZXNpemVQb2ludHMuZW1wdHkoKSkge1xuICAgICAgcmVzaXplUG9pbnRzLmF0dHIoJ3InLCBsYXN0Q2lyY2xlU2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVzZXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQtY2lyY2xlLXNpemUnKTtcbiAgcmVzZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgZGVmYXVsdFNpemUgPSAyNTsgXG4gICAgLy8gaWYgaGFzIHJlc2l6ZVBvaW50cyBkaXNwbGF5ZWRcbiAgICBjb25zdCByZXNpemVQb2ludHMgPSBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpO1xuICAgIGlmICghcmVzaXplUG9pbnRzLmVtcHR5KCkpIHtcbiAgICAgIHJlc2l6ZVBvaW50cy5hdHRyKCdyJywgZGVmYXVsdFNpemUpO1xuICAgIH1cblxuICAgIGxhc3RDaXJjbGVTaXplID0gTnVtYmVyKGRlZmF1bHRTaXplKTtcbiAgICBjaXJjbGVTbGlkZXIudmFsdWUgPSBTdHJpbmcoZGVmYXVsdFNpemUpO1xuICAgIGNpcmNsZU91dHB1dC52YWx1ZSA9IFN0cmluZyhkZWZhdWx0U2l6ZSk7XG5cbiAgICBzZXRTZXR0aW5ncyh7IGNpcmNsZVNpemU6IE51bWJlcihkZWZhdWx0U2l6ZSkgfSk7XG4gICAgY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlcigpO1xuICB9KTtcblxuICBjaXJjbGVTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBjaXJjbGVTaXplSW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgY2lyY2xlU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNpcmNsZVNpemVJbnB1dENoYW5nZUhhbmRsZXIpO1xuXG4gIGNpcmNsZVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBoaWdobGlnaHQgZHJvcGRvd24gb3B0aW9uICsgZGlzcGxheVxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZnVuY3Rpb24gdXBkYXRlSGlnaGxpZ2h0T3B0aW9uIChncm91cDogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBoaWdobGlnaHQtJHtncm91cH1gKTtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG4gIGNvbnN0IGhpZ2hsaWdodFR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXR5cGUnKTtcblxuICAvLyBzYXZlIGhpZ2hsaWdodCBvcHRpb24gdG8gbG9jYWxTdG9yYWdlXG4gIHNldFNldHRpbmdzKHsgaGlnaGxpZ2h0TW9kZTogZ3JvdXAgfSk7XG5cbiAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gIH0pO1xuXG4gIGlmIChncm91cCA9PT0gJ25vbmUnKSB7XG4gICAgaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudCA9ICdcXHhBMC0gT2ZmJztcbiAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBvcHRpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG5cbiAgLy8gVGV4dCBjb250ZW50IGlzIHRoZSBncm91cGluZyB0eXBlIGNhcGl0YWxpemVkXG4gIGhpZ2hsaWdodFR5cGUudGV4dENvbnRlbnQgPSBgXFx4QTAtICR7Z3JvdXBbMF0udG9VcHBlckNhc2UoKSArIGdyb3VwLnNsaWNlKDEpfWA7XG4gIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgaGlnaGxpZ2h0IG1vZGUgY2hvc2VuIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGlnaGxpZ2h0VHlwZSAoKTogR3JvdXBpbmdUeXBlIHtcbiAgY29uc3QgaGlnaGxpZ2h0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpO1xuICByZXR1cm4gaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudC5zbGljZSgzKS50b0xvd2VyQ2FzZSgpIGFzIEdyb3VwaW5nVHlwZTtcbn1cblxuLyoqXG4gKiBTZXQgY2xpY2sgbGlzdGVuZXIgZm9yIGVhY2ggaGlnaGxpZ2h0IGRyb3Bkb3duIG9wdGlvblxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodE9wdGlvbiAoZ3JvdXA6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaGlnaGxpZ2h0LSR7Z3JvdXB9YCk7XG4gIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oZ3JvdXApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDbGlja2F3YXkgbGlzdGVuZXIgZm9yIHRoZSBoaWdobGlnaHQgZHJvcGRvd24uXG4gKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodENsaWNrYXdheSAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVyIG9uIHN0YWZmIGhpZ2hsaWdodGluZyBjaGVja2JveC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodENvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZHJvcGRvd24uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgaWYgKGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuXG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ2NvbHVtbicpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdzdGFmZicpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdzeWxsYWJsZScpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCduZXVtZScpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdsYXllckVsZW1lbnQnKTtcbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignbm9uZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlnaGxpZ2h0Q2xpY2thd2F5KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAgKiBTZXQgbGlzdGVuZXIgb24ga2V5IHNob3J0Y3V0cyBmb3Igc3dpdGNoaW5nIGJldHdlZW4gaGlnaGxpZ2h0c1xuICAqIFxuICAqIFRoZSBjdXJyZW50IHBsYW4gaXMgdG8gdXNlIHRoZSBrZXlzIHEsIHcsIGUsIHIsIHQsIGFuZCB5XG4gICovXG5mdW5jdGlvbiBzZXRIaWdobGlnaHRLZXlDb250cm9scyAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICAvLyBQcmV2ZW50IGNtZC9jdHJsK3IgZnJvbSBjaGFuZ2luZyBoaWdobGlnaHQgb3B0aW9uXG4gICAgaWYgKGV2dC5tZXRhS2V5KSByZXR1cm47XG5cbiAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgIGNhc2UgJ3EnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ3N0YWZmJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndyc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc3lsbGFibGUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlJzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCduZXVtZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3InOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ2xheWVyRWxlbWVudCcpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3QnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ3NlbGVjdGlvbicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3knOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ25vbmUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodFNlbGVjdGlvbkNvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgaGlnaGxpZ2h0U2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKTtcbiAgaGlnaGxpZ2h0U2VsZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgfSk7XG4gICAgaGlnaGxpZ2h0U2VsZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpLnRleHRDb250ZW50ID0gJyAtIFNlbGVjdGlvbic7XG4gICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3NlbGVjdGlvbicpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXNldCB0aGUgaGlnaGxpZ2h0IGZvciBkaWZmZXJlbnQgdHlwZXMgYmFzZWQgb24gdGhlICdoaWdobGlnaHQtc2VsZWN0ZWQnIGNsYXNzIGluIHRoZSBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVIaWdobGlnaHQgKCk6IHZvaWQge1xuICBsZXQgaGlnaGxpZ2h0SWQ6IHN0cmluZztcbiAgdHJ5IHtcbiAgICBoaWdobGlnaHRJZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGhpZ2hsaWdodElkID0gJyc7XG4gIH1cbiAgc3dpdGNoIChoaWdobGlnaHRJZCkge1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1jb2x1bW4nOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ2NvbHVtbicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN0YWZmJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzdGFmZicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN5bGxhYmxlJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzeWxsYWJsZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LW5ldW1lJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCduZXVtZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LWxheWVyRWxlbWVudCc6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnbGF5ZXJFbGVtZW50Jyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc2VsZWN0aW9uJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzZWxlY3Rpb24nKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gYnVyZ2VyIG1lbnUgZm9yIHNtYWxsZXIgc2NyZWVucy5cbiAqL1xuZnVuY3Rpb24gc2V0QnVyZ2VyQ29udHJvbHMgKCk6IHZvaWQge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVyZ2VyTWVudScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXJnZXJNZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdk1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgfSk7XG59XG5cbi8qKiBcbiAqIFNldCBsaXN0ZW5lciBmb3IgXCJEaXNwbGF5IEFsbFwiIGJ1dHRvbiBpbiBEaXNwbGF5IHBhbmVsLlxuKi9cbmZ1bmN0aW9uIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3Qgc2VsZWN0QWxsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc3BsYXktYWxsLWJ0bicpO1xuICBzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gYXQgdGhlIG1vbWVudCwgY2xhc3NuYW1lICdzZWxlY3RlZCcgaXMgb25seSB1c2VkIGZvciB0cmFja2luZyBwdXJwb3Nlc1xuICAgIGlmIChzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyOm5vdChbc3R5bGUqPVwiZGlzcGxheTogbm9uZTtcIl0pID4gLmNoZWNrYm94Jyk7XG5cbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmIChvcHRpb24uY2hlY2tlZCkgb3B0aW9uLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyOm5vdChbc3R5bGUqPVwiZGlzcGxheTogbm9uZTtcIl0pID4gLmNoZWNrYm94Jyk7XG4gICAgICBcbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmICghb3B0aW9uLmNoZWNrZWQpIG9wdGlvbi5jbGljaygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqIFxuICogVXBkYXRlIGBEaXNwbGF5IEFsbGAgYnV0dG9uIHN0YXR1c1xuKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5QWxsQnRuKCk6IHZvaWQge1xuICBjb25zdCBkaXNwbGF5QWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktYWxsLWJ0bicpO1xuICBjb25zdCBkaXNwbGF5SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5SW5mbycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGRpc3BsYXlCQm94ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBkaXNwbGF5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGRpc3BsYXlFcnJMb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1lcnJvcnMnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIC8vIGlmIGFsbCBvcHRpb25zIGFyZSBzZWxlY3RlZCxcbiAgLy8gc2V0IFwiRGlzcGxheS9IaWRlIEFsbFwiIGJ1dHRvbiB0byBcIkhpZGUgQWxsXCIuXG4gIGlmIChkaXNwbGF5SW5mbz8uY2hlY2tlZCAmJiBkaXNwbGF5QkJveGVzPy5jaGVja2VkICYmIFxuICAgIGRpc3BsYXlUZXh0Py5jaGVja2VkICYmIGRpc3BsYXlFcnJMb2c/LmNoZWNrZWQpIHtcbiAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIFwiRGlzcGxheS9IaWRlIEFsbFwiIGJ1dHRvbiBpcyBpbiBcIkhpZGUgQWxsXCIgbW9kZSwgc2V0IGl0IHRvIFwiRGlzcGxheSBBbGxcIiBtb2RlXG4gICAgaWYgKGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTG9hZCBoaWdobGlnaHQgc2V0dGluZ3MgZnJvbSBsb2NhbFN0b3JhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRIaWdobGlnaHRTZXR0aW5ncyAoKTogdm9pZCB7XG4gIGNvbnN0IHsgaGlnaGxpZ2h0TW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKGhpZ2hsaWdodE1vZGUpO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgbGlzdGVuZXJzIGFuZCBjb250cm9scyBmb3IgZGlzcGxheSBwYW5lbC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZWlDbGFzc05hbWUgLSBUaGUgY2xhc3MgdXNlZCB0byBzaWduaWZpeSB0aGUgTUVJIGVsZW1lbnQocykuXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFja2dyb3VuZCAtIFRoZSBjbGFzcyB1c2VkIHRvIHNpZ25pZnkgdGhlIGJhY2tncm91bmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RGlzcGxheUNvbnRyb2xzIChtZWlDbGFzc05hbWU6IHN0cmluZywgYmFja2dyb3VuZDogc3RyaW5nKTogdm9pZCB7XG4gIHNldEdseXBoT3BhY2l0eUNvbnRyb2xzKG1laUNsYXNzTmFtZSk7XG4gIHNldEJnT3BhY2l0eUNvbnRyb2xzKGJhY2tncm91bmQpO1xuICBzZXRIaWdobGlnaHRDb250cm9scygpO1xuICBzZXRCdXJnZXJDb250cm9scygpO1xuICBzZXRIaWdobGlnaHRLZXlDb250cm9scygpO1xuICBzZXREaXNwbGF5QWxsTGlzdGVuZXIoKTtcbiAgbG9hZEhpZ2hsaWdodFNldHRpbmdzKCk7XG5cbiAgY29uc3QgZGlzcGxheUNvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlDb250ZW50cycpO1xuICBjb25zdCB0b2dnbGVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZURpc3BsYXknKTtcbiAgY29uc3QgZGlzcGxheUhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5SGVhZGVyJyk7XG5cbiAgZGlzcGxheUhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBpZiBkaXNwbGF5IHBhbmVsIGlzIGNsb3NlZCwgb3BlbiBpdFxuICAgIGlmIChkaXNwbGF5Q29udGVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZWQnKSkge1xuICAgICAgZGlzcGxheUNvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMC41ZW0gMC43NWVtJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICB9LCAyMDApO1xuICAgICAgdG9nZ2xlRGlzcGxheS5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9IFxuICAgIC8vIGlmIGRpc3BsYXkgcGFuZWwgaXMgb3BlbiwgY2xvc2UgaXRcbiAgICBlbHNlIHtcbiAgICAgIGRpc3BsYXlDb250ZW50cy5jbGFzc0xpc3QuYWRkKCdjbG9zZWQnKTtcbiAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgdG9nZ2xlRGlzcGxheS5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLXNpZGVgKTtcbiAgICB9XG4gIH0pO1xufVxuXG4iLCJpbXBvcnQgKiBhcyBDb250ZW50cyBmcm9tICcuL0NvbnRlbnRzJztcbmltcG9ydCAqIGFzIEdyb3VwaW5nIGZyb20gJy4vR3JvdXBpbmcnO1xuaW1wb3J0IE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IFNwbGl0U3RhZmZIYW5kbGVyIH0gZnJvbSAnLi9TdGFmZlRvb2xzJztcbmltcG9ydCB7IFNwbGl0TmV1bWVIYW5kbGVyIH0gZnJvbSAnLi9OZXVtZVRvb2xzJztcbmltcG9ydCB7XG4gIENoYWluQWN0aW9uLFxuICBDaGFuZ2VTdGFmZkFjdGlvbixcbiAgRGlzcGxhY2VDbGVmT2N0YXZlQWN0aW9uLFxuICBFZGl0b3JBY3Rpb24sXG4gIE1hdGNoSGVpZ2h0QWN0aW9uLFxuICBSZW1vdmVBY3Rpb24sXG4gIFNldEFjdGlvbixcbiAgU2V0Q2xlZkFjdGlvbixcbiAgU2V0TGlxdWVzY2VudEFjdGlvbixcbn0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgZ2V0U3RhZmZCQm94LCBnZXRTZWxlY3Rpb25UeXBlIH0gZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi4vdXRpbHMvTW9kYWxXaW5kb3cnO1xuXG4vKipcbiAqIFRoZSBOZW9uVmlldyBwYXJlbnQgdG8gY2FsbCBlZGl0b3IgYWN0aW9ucy5cbiAqL1xubGV0IG5lb25WaWV3OiBOZW9uVmlldztcblxuLyoqXG4gKiBJbml0aWFsaXplIE5lb25WaWV3LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdE5lb25WaWV3KHZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gIG5lb25WaWV3ID0gdmlldztcbiAgR3JvdXBpbmcuaW5pdE5lb25WaWV3KHZpZXcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSBpbmNsaW5hdHVtIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0SW5jbGluYXR1bUFjdGlvbihpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJycsXG4gICAgfSxcbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgdmlyZ2EgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRWaXJnYUFjdGlvbihpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJycsXG4gICAgfSxcbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgcmV2ZXJzZWQgdmlyZ2EgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICB9LFxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSBsaXF1ZXNjZW50X2Nsb2Nrd2lzZSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24oaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAnY3VydmUnLFxuICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICB9LFxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSBsaXF1ZXNjZW50X2FudGljbG9ja3dpc2UgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihcbiAgaWQ6IHN0cmluZyxcbik6IFNldExpcXVlc2NlbnRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldExpcXVlc2NlbnQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgY3VydmU6ICcnLFxuICAgIH0sXG4gIH07XG59XG5cbi8qKiBFdmVudCBoYW5kbGVyIGZvciBkZWxldGUgYnV0dG9uIHByZXNzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUJ1dHRvbkhhbmRsZXIoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmIChldnQua2V5ID09PSAnZCcgfHwgZXZ0LmtleSA9PT0gJ0JhY2tzcGFjZScpIHtcbiAgICByZW1vdmVIYW5kbGVyKCk7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBFbmQgdGhlIGV4dHJhIG9wdGlvbnMgbWVudS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTogdm9pZCB7XG4gIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gIGNvbnN0IGV4dHJhRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKTtcbiAgaWYgKG1vcmVFZGl0KSB7XG4gICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgfVxuICBpZiAoZXh0cmFFZGl0KSB7XG4gICAgZXh0cmFFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgIGV4dHJhRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSByZW1vdmluZyBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSGFuZGxlcigpOiB2b2lkIHtcbiAgaWYgKEdyb3VwaW5nLmNvbnRhaW5zTGlua2VkKGdldFNlbGVjdGlvblR5cGUoKSkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdG9SZW1vdmU6IFJlbW92ZUFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5hY2NpZCcpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgICAgZWxlbSA9IGVsZW0uY2xvc2VzdCgnLmRpdkxpbmUnKTtcbiAgICB9XG4gICAgdG9SZW1vdmUucHVzaCh7XG4gICAgICBhY3Rpb246ICdyZW1vdmUnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvUmVtb3ZlLFxuICB9O1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigoKSA9PiB7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIHJlLWFzc29jaWF0aW5nIGVsZW1lbnRzIHRvIHRoZSBuZWFyZXN0IHN0YWZmXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VTdGFmZkhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHRvQ2hhbmdlOiBDaGFuZ2VTdGFmZkFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgIHRvQ2hhbmdlLnB1c2goe1xuICAgICAgYWN0aW9uOiAnY2hhbmdlU3RhZmYnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b0NoYW5nZSxcbiAgfTtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4ge1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSBpbnNlcnRpbmcgZGl2aXNpbyBvciBhY2NpZGVudGFsIGludG8gbmVhcmVzdCBzeWxsYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHRvSW5zZXJ0OiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICB0b0luc2VydC5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ2luc2VydFRvU3lsbGFibGUnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvSW5zZXJ0LFxuICB9O1xuICBuZW9uVmlld1xuICAgIC5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0luc2VydCBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSW5zZXJ0IEZhaWxlZCBYb1gnLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIG1vdmluZyBkaXZpc2lvIG9yIGFjY2lkZW50YWwgb3V0IG9mIHN5bGxhYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgdG9Nb3ZlOiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICB0b01vdmUucHVzaCh7XG4gICAgICBhY3Rpb246ICdtb3ZlT3V0c2lkZVN5bGxhYmxlJyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZCxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b01vdmUsXG4gIH07XG4gIG5lb25WaWV3XG4gICAgLmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTW92ZSBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTW92ZSBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIG1hdGNoIGJib3ggaGVpZ2h0IHRvIHRoZSBzZWxlY3RlZCBiYm94XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaEhlaWdodEhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgaWYgKHNlbGVjdGVkLmxlbmd0aCA+IDEpIHtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAnQ2Fubm90IG1hdGNoIGhlaWdodCB0byBtdWx0aXBsZSBiYm94JyxcbiAgICAgICdlcnJvcicsXG4gICAgKTtcbiAgfVxuICBjb25zdCB0b0NoYW5nZTogTWF0Y2hIZWlnaHRBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnbWF0Y2hIZWlnaHQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IHNlbGVjdGVkWzBdLmlkLFxuICAgIH0sXG4gIH07XG5cbiAgbmVvblZpZXcuZWRpdCh0b0NoYW5nZSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0hlaWdodCBNYXRjaCBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdIZWlnaHQgTWF0Y2ggRmFpbGVkIFhvWCcsICdlcnJvcicpO1xuICAgIH1cbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogT3BlbnMgQWRkIFN5bCBUZXh0IG1vZGFsIHdpbmRvdyB3aXRoIFVJIGZvciBlbnRlcmluZyBzeWxsYWJsZSB0ZXh0LlxuICovXG5mdW5jdGlvbiBvcGVuQWRkU3lsV2luZG93KCk6IHZvaWQge1xuICAvLyBnZW5lcmF0ZSBtb2RhbCB3aW5kb3dcbiAgY29uc3QgbW9kYWxXaW5kb3cgPSBuZW9uVmlldy5tb2RhbDtcbiAgbW9kYWxXaW5kb3cuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5BRERfVEVYVCk7XG4gIG1vZGFsV2luZG93Lm9wZW5Nb2RhbFdpbmRvdygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQWRkU3lsTGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IGFkZFN5bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRTeWwnKTtcbiAgYWRkU3lsPy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BZGRTeWxXaW5kb3cpO1xuICBhZGRTeWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFkZFN5bFdpbmRvdyk7XG59XG5cbmZ1bmN0aW9uIGFkZERlbGV0ZUxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG5cbiAgaWYgKGRlbCkge1xuICAgIGRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICAgIGRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuXG4gICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgb3V0c2lkZSB0aGUgaWYgY29uZGl0aW9uP1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBjaGFuZ2VTdGFmZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VTdGFmZicpO1xuICBjaGFuZ2VTdGFmZj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VTdGFmZkhhbmRsZXIpO1xuICBjaGFuZ2VTdGFmZj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VTdGFmZkhhbmRsZXIpO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgY29sdW1uIG51bWJlciBpbiB0aGUgaW5wdXRcbiAqL1xuZnVuY3Rpb24gdXBkYXRlQ29sdW1uSW5mbygpOiB2b2lkIHtcbiAgY29uc3QgY29sSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLWlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3Qgc3RhdmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmLnNlbGVjdGVkJyk7XG4gIGxldCBjb2xJbmZvOiBudW1iZXI7XG4gIGZvciAoY29uc3Qgc3RhZmYgb2Ygc3RhdmVzKSB7XG4gICAgY29uc3QgaGFzQ29sdW1uID0gQXJyYXkuZnJvbShzdGFmZi5jbGFzc0xpc3QpXG4gICAgICAuam9pbignICcpXG4gICAgICAubWF0Y2goL1xcYmNvbHVtbihcXGQrKVxcYi8pO1xuICAgIGlmIChoYXNDb2x1bW4pIHtcbiAgICAgIGNvbnN0IHN0YWZmQ29sID0gcGFyc2VJbnQoaGFzQ29sdW1uWzFdLCAxMCk7XG4gICAgICBpZiAoY29sSW5mbyAmJiBjb2xJbmZvICE9IHN0YWZmQ29sKSB7XG4gICAgICAgIGNvbnN0IHdhcm5pbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLXdhcm5pbmcnKTtcbiAgICAgICAgd2FybmluZy5pbm5lclRleHQgPSAnVGhlIHNlbGVjdGVkIHN0YXZlcyBhcmUgbm90IG9mIHRoZSBzYW1lIGNvbHVtbiEnO1xuICAgICAgICBjb2xJbmZvID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb2xJbmZvID0gc3RhZmZDb2w7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChjb2xJbmZvKSBjb2xJbnB1dC52YWx1ZSA9IGNvbEluZm8udG9TdHJpbmcoKTtcbn1cblxuLyoqXG4gKiBBZGQgY29sdW1uIGluZm8gZWRpdCBoYW5kbGVyIGZvciBjb2x1bW4gaW5mbyBlZGl0b3JcbiAqL1xuZnVuY3Rpb24gYWRkQ29sdW1uSW5mb1N0ZXBIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCBkZWNyZW1lbnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAnY29sLWRlY3JlbWVudCcsXG4gICkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGNvbnN0IGluY3JlbWVudEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICdjb2wtaW5jcmVtZW50JyxcbiAgKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICdjb2wtY29uZmlybScsXG4gICkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGNvbnN0IGNvbElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgZGVjcmVtZW50QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHVwZGF0ZU51bWJlcigtMSk7XG4gIH0pO1xuXG4gIGluY3JlbWVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB1cGRhdGVOdW1iZXIoMSk7XG4gIH0pO1xuXG4gIC8vIEFkZCBjb2x1bW4gaW5mbyBlZGl0IGhhbmRsZXJcbiAgY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB0b1NldENvbHVtbjogRWRpdG9yQWN0aW9uW10gPSBbXTtcbiAgICBjb25zdCBzdGF2ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYuc2VsZWN0ZWQnKTtcbiAgICBzdGF2ZXMuZm9yRWFjaCgoc3RhZmYpID0+IHtcbiAgICAgIHRvU2V0Q29sdW1uLnB1c2goe1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogc3RhZmYuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0eXBlJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdjb2x1bW4nICsgY29sSW5wdXQudmFsdWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICBwYXJhbTogdG9TZXRDb2x1bW4sXG4gICAgfTtcbiAgICBuZW9uVmlld1xuICAgICAgLmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdDb2x1bW4gVmFsdWUgVXBkYXRlIFN1Y2Nlc3MnLFxuICAgICAgICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgJ0NvbHVtbiBWYWx1ZSBVcGRhdGUgRmFpbGVkIFhvWCcsXG4gICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZU51bWJlcihjaGFuZ2U6IG51bWJlcikge1xuICAgIGNvbnN0IG1pbk51bSA9IDE7XG4gICAgY29uc3QgbWF4TnVtID0gNTtcbiAgICBsZXQgY3VycmVudFZhbHVlID0gcGFyc2VJbnQoY29sSW5wdXQudmFsdWUsIDEwKSB8fCAwO1xuICAgIGN1cnJlbnRWYWx1ZSArPSBjaGFuZ2U7XG5cbiAgICBjdXJyZW50VmFsdWUgPSBNYXRoLm1pbihNYXRoLm1heChjdXJyZW50VmFsdWUsIG1pbk51bSksIG1heE51bSk7XG4gICAgaWYgKGN1cnJlbnRWYWx1ZS50b1N0cmluZygpICE9IGNvbElucHV0LnZhbHVlKVxuICAgICAgY29uZmlybUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgY29sSW5wdXQudmFsdWUgPSBjdXJyZW50VmFsdWUudG9TdHJpbmcoKTtcbiAgfVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIHNldCB0aGUgSFRNTCBjb250ZW50IG9mIGVkaXQgY29udHJvbHM6IGVpdGhlciAjbW9yZUVkaXQgb3IgI2V4dHJhRWRpdFxuICpcbiAqIEBwYXJhbSB7J21vcmVFZGl0JyB8ICdleHRyYUVkaXQnfSBlZGl0VHlwZSAtIFRoZSB0eXBlIG9mIGVkaXQgY29udHJvbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50cyAtIFRoZSBpbm5lckhUTUwgY29udGVudHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSAtIElzIHRoZSBpbm5lckhUTUwgYmVpbmcgcmVwbGFjZWQsIG9yIGJlaW5nIGFkZGVkIHRvP1xuICovXG5mdW5jdGlvbiBzZXRFZGl0Q29udHJvbHMoXG4gIGVkaXRUeXBlOiAnbW9yZUVkaXQnIHwgJ2V4dHJhRWRpdCcsXG4gIGNvbnRlbnRzOiBzdHJpbmcsXG4gIHJlcGxhY2UgPSB0cnVlLFxuKTogdm9pZCB7XG4gIGNvbnN0IGVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlZGl0VHlwZSk7XG5cbiAgaWYgKGVkaXQpIHtcbiAgICBlZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgaWYgKHJlcGxhY2UpIGVkaXQuaW5uZXJIVE1MID0gY29udGVudHM7XG4gICAgZWxzZSBlZGl0LmlubmVySFRNTCArPSBjb250ZW50cztcbiAgfVxufVxuXG4vKipcbiAqIFRyaWdnZXIgdGhlIGV4dHJhIG5jIGFjdGlvbiBtZW51IGZvciBhIHNlbGVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJOY0FjdGlvbnMobmM6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMubmNBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcignI1B1bmN0dW0uZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24oXG4gICAgICAgIG5jLmlkLFxuICAgICAgKTtcbiAgICAgIG5lb25WaWV3XG4gICAgICAgIC5lZGl0KFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgICAgICAgIHBhcmFtOiBbXG4gICAgICAgICAgICAgIHVuc2V0SW5jbGluYXR1bSxcbiAgICAgICAgICAgICAgdW5zZXRWaXJnYSxcbiAgICAgICAgICAgICAgdW5zZXRWaXJnYVJldmVyc2VkLFxuICAgICAgICAgICAgICB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsXG4gICAgICAgICAgICAgIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpLFxuICAgICAgICApXG4gICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJyNJbmNsaW5hdHVtLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24oXG4gICAgICAgIG5jLmlkLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNldEluY2xpbmF0dW06IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnc2UnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3XG4gICAgICAgIC5lZGl0KFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgICAgICAgIHBhcmFtOiBbXG4gICAgICAgICAgICAgIHVuc2V0VmlyZ2EsXG4gICAgICAgICAgICAgIHVuc2V0VmlyZ2FSZXZlcnNlZCxcbiAgICAgICAgICAgICAgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLFxuICAgICAgICAgICAgICB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLFxuICAgICAgICAgICAgICBzZXRJbmNsaW5hdHVtLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSxcbiAgICAgICAgKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjVmlyZ2EuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0SW5jbGluYXR1bSA9IHVuc2V0SW5jbGluYXR1bUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24oXG4gICAgICAgIG5jLmlkLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNldFZpcmdhOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ3MnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3XG4gICAgICAgIC5lZGl0KFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgICAgICAgIHBhcmFtOiBbXG4gICAgICAgICAgICAgIHVuc2V0VmlyZ2FSZXZlcnNlZCxcbiAgICAgICAgICAgICAgdW5zZXRJbmNsaW5hdHVtLFxuICAgICAgICAgICAgICB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsXG4gICAgICAgICAgICAgIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsXG4gICAgICAgICAgICAgIHNldFZpcmdhLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSxcbiAgICAgICAgKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjVmlyZ2FSZXZlcnNlZC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKFxuICAgICAgICBuYy5pZCxcbiAgICAgICk7XG4gICAgICBjb25zdCBzZXRWaXJnYVJldmVyc2VkOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ24nLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3XG4gICAgICAgIC5lZGl0KFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgICAgICAgIHBhcmFtOiBbXG4gICAgICAgICAgICAgIHVuc2V0SW5jbGluYXR1bSxcbiAgICAgICAgICAgICAgdW5zZXRWaXJnYSxcbiAgICAgICAgICAgICAgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLFxuICAgICAgICAgICAgICB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLFxuICAgICAgICAgICAgICBzZXRWaXJnYVJldmVyc2VkLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSxcbiAgICAgICAgKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjTGlxdWVzY2VudENsb2Nrd2lzZS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKFxuICAgICAgICBuYy5pZCxcbiAgICAgICk7XG4gICAgICBjb25zdCBzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlOiBTZXRMaXF1ZXNjZW50QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRMaXF1ZXNjZW50JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGN1cnZlOiAnYycsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgbmVvblZpZXdcbiAgICAgICAgLmVkaXQoXG4gICAgICAgICAge1xuICAgICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgICAgcGFyYW06IFtcbiAgICAgICAgICAgICAgdW5zZXRJbmNsaW5hdHVtLFxuICAgICAgICAgICAgICB1bnNldFZpcmdhLFxuICAgICAgICAgICAgICB1bnNldFZpcmdhUmV2ZXJzZWQsXG4gICAgICAgICAgICAgIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsXG4gICAgICAgICAgICAgIHNldExpcXVlc2NlbnRDbG9ja3dpc2UsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpLFxuICAgICAgICApXG4gICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJyNMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZTogU2V0TGlxdWVzY2VudEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0TGlxdWVzY2VudCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBjdXJ2ZTogJ2EnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3XG4gICAgICAgIC5lZGl0KFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgICAgICAgIHBhcmFtOiBbXG4gICAgICAgICAgICAgIHVuc2V0SW5jbGluYXR1bSxcbiAgICAgICAgICAgICAgdW5zZXRWaXJnYSxcbiAgICAgICAgICAgICAgdW5zZXRWaXJnYVJldmVyc2VkLFxuICAgICAgICAgICAgICB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsXG4gICAgICAgICAgICAgIHNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSxcbiAgICAgICAgKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgbmV1bWUgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJOZXVtZUFjdGlvbnMoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLm5ldW1lQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGNvbnN0IG5ldW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJyk7XG4gIGlmIChuZXVtZS5sZW5ndGggIT09IDEpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnTW9yZSB0aGFuIG9uZSBuZXVtZSBzZWxlY3RlZCEgQ2Fubm90IHRyaWdnZXIgTmV1bWUgQ2xpY2tTZWxlY3QgYWN0aW9ucy4nLFxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVE9ETyBhZGQgdHJpZ2dlciBmb3Igc3BsaXQgYWN0aW9uXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGxpdC1uZXVtZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IG5ldW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ldW1lLnNlbGVjdGVkJykgYXMgU1ZHR0VsZW1lbnQ7XG4gICAgaWYgKG5ldW1lICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBzcGxpdCA9IG5ldyBTcGxpdE5ldW1lSGFuZGxlcihuZW9uVmlldywgbmV1bWUpO1xuICAgICAgc3BsaXQuc3RhcnRTcGxpdCgpO1xuICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdObyBzdGFmZiB3YXMgc2VsZWN0ZWQhJyk7XG4gICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgfVxuICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjUGVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZShcbiAgICAgICAgKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCxcbiAgICAgICk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7XG4gICAgfSk7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJyNQZXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZShcbiAgICAgICAgKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCxcbiAgICAgICk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7XG4gICAgfSk7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJyNDbGl2aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKFxuICAgICAgICAoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkLFxuICAgICAgKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTtcbiAgICB9KTtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcignI1NjYW5kaWN1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoXG4gICAgICAgIChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQsXG4gICAgICApO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpO1xuICAgIH0pO1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzRmxleHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZShcbiAgICAgICAgKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCxcbiAgICAgICk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7XG4gICAgfSk7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZShcbiAgICAgICAgKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCxcbiAgICAgICk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7XG4gICAgfSk7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJyNDbGltYWN1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoXG4gICAgICAgIChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQsXG4gICAgICApO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpO1xuICAgIH0pO1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjQ2xpbWFjdXNSZXN1cGludXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKFxuICAgICAgICAoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkLFxuICAgICAgKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTtcbiAgICB9KTtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcignI1RvcmN1bHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZShcbiAgICAgICAgKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCxcbiAgICAgICk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7XG4gICAgfSk7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJyNUb3JjdWx1c1Jlc3VwaW51cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoXG4gICAgICAgIChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQsXG4gICAgICApO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpO1xuICAgIH0pO1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZShcbiAgICAgICAgKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCxcbiAgICAgICk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7XG4gICAgfSk7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXNGbGV4dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKFxuICAgICAgICAoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkLFxuICAgICAgKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTtcbiAgICB9KTtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcignI1BvcnJlY3R1c1N1YnB1bmN0aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKFxuICAgICAgICAoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkLFxuICAgICAgKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTtcbiAgICB9KTtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcignI1ByZXNzdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKFxuICAgICAgICAoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkLFxuICAgICAgKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTtcbiAgICB9KTtcblxuICBmdW5jdGlvbiB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cjogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgY2hhbmdlR3JvdXBpbmdBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ2NoYW5nZUdyb3VwJyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogbmV1bWVbMF0uaWQsXG4gICAgICAgIGNvbnRvdXI6IGNvbnRvdXIsXG4gICAgICB9LFxuICAgIH07XG4gICAgbmVvblZpZXdcbiAgICAgIC5lZGl0KGNoYW5nZUdyb3VwaW5nQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gIH1cblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgc3lsbGFibGUgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoc2VsZWN0aW9uVHlwZTogc3RyaW5nKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuc3lsbGFibGVBY3Rpb25zQ29udGVudCk7XG4gIC8vIGluaXRpYWxpemUgdmFyaWFibGUgdGhhdCB3aWxsIGhvbGQgaHRtbCB0byBiZSBhZGRlZCB0byBEaXNwbGF5IHBhbmVsXG4gIGxldCBleHRyYUFjdGlvbnNIVE1MID0gJyc7XG5cbiAgLy8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIHNlbGVjdGlvbiB0aGF0IHdhcyBtYWRlIGJ5IHRoZSB1c2VyXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIC8vIG9ubHkgb25lIHN5bGxhYmxlIGFuZCBzeWxsYWJsZSBoYXMgbm8gPHN5bD5cbiAgICBjYXNlICdub1N5bCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiYWRkU3lsXCI+QWRkIFN5bGxhYmxlIFRleHQ8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyBvbmx5IG9uZSBzeWxsYWJsZVxuICAgIGNhc2UgJ3NpbmdsZVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5ldW1lc1wiPlVuZ3JvdXA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyB0d28gc3lsbGFibGVzIG9uIHNlcGFyYXRlIHN0YXZlc1xuICAgIGNhc2UgJ2xpbmthYmxlU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlua1wiPlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gdG93IG9yIG1vcmUgc3lsbGFibGVzIG9uIG9uZSBzdGFmZlxuICAgIGNhc2UgJ211bHRpU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvL2RlZmF1bHQgb3B0aW9uc1xuICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICAvLyBzZXQgY29udGVudCBvZiBhZGRpdGlvbmFsIGFjdGlvbnMgaW4gRGlzcGxheSBwYW5lbFxuICAvLyBhbmQgaW5pdGlhbGl6ZSBuZWNlc3NhcnkgbGlzdGVuZXJzXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBleHRyYUFjdGlvbnNIVE1MLCB0cnVlKTtcbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIGxheWVyIGVsZW1lbnQgKGFjY2lkLCBkaXZMaW5lLCBjdXN0b3MsIGNsZWYpIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyhlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnY3VzdG9zJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuY3VzdG9zQWN0aW9uQ29udGVudHMpO1xuICAgIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcGFyZW50SXNTeWxsYWJsZSA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJyk7XG4gIGNvbnN0IGxheWVyRWxlbWVudEFjdGlvbnMgPSBwYXJlbnRJc1N5bGxhYmxlXG4gICAgPyBDb250ZW50cy5sYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzXG4gICAgOiBDb250ZW50cy5sYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cztcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgbGF5ZXJFbGVtZW50QWN0aW9ucywgZmFsc2UpO1xuXG4gIC8vIGV4dHJhIGFjdGlvbnMgZm9yIGFjY2lkIGFuZCBkaXZMaW5lXG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSkge1xuICAgIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuYWNjaWRBY3Rpb25Db250ZW50cyk7XG4gICAgYWNjaWRPcHRpb25zTGlzdGVuZXIoZWxlbWVudCk7XG4gIH0gZWxzZSBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2NsZWYnKSkge1xuICAgIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuY2xlZkFjdGlvbkNvbnRlbnRzKTtcbiAgICBjbGVmT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQpO1xuICB9IGVsc2UgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmRpdkxpbmVBY3Rpb25Db250ZW50cyk7XG4gICAgZGl2TGluZU9wdGlvbnNMaXN0ZW5lcihlbGVtZW50KTtcbiAgfVxuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGRvY3VtZW50XG4gICAgLmdldEVsZW1lbnRCeUlkKCdpbnNlcnRUb1N5bGxhYmxlJylcbiAgICA/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIpO1xuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZCgnbW92ZU91dHNpZGVTeWxsYWJsZScpXG4gICAgPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKTtcblxuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydFRvU3lsbGFibGUnKVxuICAgID8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbnNlcnRUb1N5bGxhYmxlSGFuZGxlcik7XG4gIGRvY3VtZW50XG4gICAgLmdldEVsZW1lbnRCeUlkKCdtb3ZlT3V0c2lkZVN5bGxhYmxlJylcbiAgICA/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBhY2NpZE9wdGlvbnNMaXN0ZW5lcihlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvRmxhdC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjaGFuZ2VUb0ZsYXQ6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdhY2NpZCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnZicsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihjaGFuZ2VUb0ZsYXQpO1xuICAgIH0pO1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9OYXR1cmFsLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNoYW5nZVRvTmF0dXJhbDogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2FjY2lkJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICduJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKGNoYW5nZVRvTmF0dXJhbCk7XG4gICAgfSk7XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuZnVuY3Rpb24gY2xlZk9wdGlvbnNMaXN0ZW5lcihlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luY3JlbWVudC1vY3RhdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBpbmNyZW1lbnRPY3RhdmU6IERpc3BsYWNlQ2xlZk9jdGF2ZUFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ2Rpc3BsYWNlQ2xlZk9jdGF2ZScsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgIGRpcmVjdGlvbjogJ2Fib3ZlJyxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIG5lb25WaWV3XG4gICAgICAuZWRpdChpbmNyZW1lbnRPY3RhdmUsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xlZiBvY3RhdmUgaW5jcmVtZW50ZWQuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAnTWF4aW11bSBvY3RhdmUgZGlzcGxhY2VtZW50IHJlYWNoZWQuIENsZWYgY2FuIG9ubHkgYmUgZGlzcGxhY2VkIHVwIHRvIDMgb2N0YXZlcy4nLFxuICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVjcmVtZW50LW9jdGF2ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IGluY3JlbWVudE9jdGF2ZTogRGlzcGxhY2VDbGVmT2N0YXZlQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnZGlzcGxhY2VDbGVmT2N0YXZlJyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgZGlyZWN0aW9uOiAnYmVsb3cnLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgbmVvblZpZXdcbiAgICAgIC5lZGl0KGluY3JlbWVudE9jdGF2ZSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGVmIG9jdGF2ZSBkZWNyZW1lbnRlZC4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdNYXhpbXVtIG9jdGF2ZSBkaXNwbGFjZW1lbnQgcmVhY2hlZC4gQ2xlZiBjYW4gb25seSBiZSBkaXNwbGFjZWQgdXAgdG8gMyBvY3RhdmVzLicsXG4gICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gIH0pO1xuXG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJyNDQ2xlZi5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXRDQ2xlZjogU2V0Q2xlZkFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0Q2xlZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHNoYXBlOiAnQycsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihzZXRDQ2xlZik7XG4gICAgfSk7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoJyNGQ2xlZi5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXRGQ2xlZjogU2V0Q2xlZkFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0Q2xlZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHNoYXBlOiAnRicsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihzZXRGQ2xlZik7XG4gICAgfSk7XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuZnVuY3Rpb24gZGl2TGluZU9wdGlvbnNMaXN0ZW5lcihlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvTWluaW1hLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvTWluaW1hOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbWluaW1hJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvTWluaW1hKTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9NYWlvci5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb01haW9yOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbWFpb3InLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9NYWlvcik7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvTWF4aW1hLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvTWF4aW1hOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbWF4aW1hJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvTWF4aW1hKTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9GaW5hbGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvRmluYWxpczogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2ZpbmFsaXMnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9GaW5hbGlzKTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9DYWVzdXJhLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvQ2Flc3VyYTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2NhZXN1cmEnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9DYWVzdXJhKTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9WaXJndWxhLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvVmlyZ3VsYTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ3Zpcmd1bGEnLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9WaXJndWxhKTtcbiAgICB9KTtcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFBhcnNlIGFjdGlvbnMgcmVnYXJkaW5nIHNoYXBlIGNoYW5nZXMgdG8gZWRpdG9yIGFjdGlvblxuICovXG5mdW5jdGlvbiBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKGFjdGlvbjogU2V0QWN0aW9uIHwgU2V0Q2xlZkFjdGlvbikge1xuICBuZW9uVmlldy5lZGl0KGFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgc3RhZmYgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucygpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuc3RhZmZNZXJnZUFjdGlvbkNvbnRlbnRzKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5jb2x1bW5BY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgLy8gQ29sdW1uIGluZm8gZWRpdG9yXG4gIHVwZGF0ZUNvbHVtbkluZm8oKTtcbiAgYWRkQ29sdW1uSW5mb1N0ZXBIYW5kbGVyKCk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lcmdlLXN5c3RlbXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBHcm91cGluZy5tZXJnZVN0YXZlcygpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFbnRlciBzdGFmZiBzcGxpdHRpbmcgbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclN0YWZmU3BsaXRNb2RlKCk6IHZvaWQge1xuICBjb25zdCBzdGFmZiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGFmZi5zZWxlY3RlZCcpIGFzIFNWR0dFbGVtZW50O1xuICBpZiAoc3RhZmYgIT09IG51bGwpIHtcbiAgICBjb25zdCBzcGxpdCA9IG5ldyBTcGxpdFN0YWZmSGFuZGxlcihuZW9uVmlldywgc3RhZmYpO1xuICAgIHNwbGl0LnN0YXJ0U3BsaXQoKTtcbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignTm8gc3RhZmYgd2FzIHNlbGVjdGVkIScpO1xuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgfVxufVxuXG4vKipcbiAqIFRyaWdnZXIgc3BsaXQgc3RhZmYgb3B0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyU2luZ2xlU3RhZmZBY3Rpb25zKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5zdGFmZlNwbGl0QWN0aW9uQ29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmNvbHVtbkFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICAvLyBDb2x1bW4gaW5mbyBlZGl0b3JcbiAgdXBkYXRlQ29sdW1uSW5mbygpO1xuICBhZGRDb2x1bW5JbmZvU3RlcEhhbmRsZXIoKTtcblxuICAvLyBBZGQgdHJpZ2dlciBmb3Igc3BsaXQgYWN0aW9uXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGxpdC1zeXN0ZW0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB0cmlnZ2VyU3RhZmZTcGxpdE1vZGUoKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXJvdGF0ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnN0IHN0YWZmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YWZmLnNlbGVjdGVkJykgYXMgU1ZHRWxlbWVudDtcbiAgICAvLyBVbnVzZWQgdmFyaWFibGVzOlxuICAgIC8vIGNvbnN0IHJlY3QgPSBzdGFmZi5xdWVyeVNlbGVjdG9yKCcjcmVzaXplUmVjdCcpO1xuICAgIC8vIGNvbnN0IGNvID0gcmVjdC5nZXRBdHRyaWJ1dGUoJ3BvaW50cycpLnNwbGl0KCcgJyk7XG4gICAgLy8gY29uc3QgZHkgPSBwYXJzZUludChjb1swXS5zcGxpdCgnLCcpWzFdKSAtIHBhcnNlSW50KGNvWzFdLnNwbGl0KCcsJylbMV0pO1xuICAgIGNvbnN0IHBvaW50cyA9IGdldFN0YWZmQkJveChzdGFmZiBhcyBTVkdHRWxlbWVudCk7XG4gICAgY29uc3QgeV9jaGFuZ2UgPSBNYXRoLnRhbihwb2ludHMucm90YXRlKSAqIChwb2ludHMubHJ4IC0gcG9pbnRzLnVseCk7XG4gICAgaWYgKHN0YWZmICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAncmVzaXplUm90YXRlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IHN0YWZmLmlkLFxuICAgICAgICAgIHVseDogcG9pbnRzLnVseCxcbiAgICAgICAgICB1bHk6XG4gICAgICAgICAgICBwb2ludHMucm90YXRlID4gMFxuICAgICAgICAgICAgICA/IHBvaW50cy51bHkgKyB5X2NoYW5nZSAvIDJcbiAgICAgICAgICAgICAgOiBwb2ludHMudWx5IC0geV9jaGFuZ2UgLyAyLFxuICAgICAgICAgIGxyeDogcG9pbnRzLmxyeCxcbiAgICAgICAgICBscnk6XG4gICAgICAgICAgICBwb2ludHMucm90YXRlID4gMFxuICAgICAgICAgICAgICA/IHBvaW50cy5scnkgLSB5X2NoYW5nZSAvIDJcbiAgICAgICAgICAgICAgOiBwb2ludHMubHJ5ICsgeV9jaGFuZ2UgLyAyLFxuICAgICAgICAgIHJvdGF0ZTogMCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBuZW9uVmlld1xuICAgICAgICAuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAgICAgLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGF3YWl0IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcignTm8gc3RhZmYgd2FzIHNlbGVjdGVkJyk7XG4gICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGJib3ggb3B0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckJCb3hBY3Rpb25zKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5iYm94QWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWF0Y2hIZWlnaHQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBtYXRjaEhlaWdodEhhbmRsZXIoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBkZWZhdWx0IGFjdGlvbnMgd2hlbiBzZWxlY3RpbmcgYnkgc3lsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyRGVmYXVsdFN5bEFjdGlvbnMoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGRlZmF1bHQgc2VsZWN0aW9uIG9wdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJEZWZhdWx0QWN0aW9ucygpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGV4dHJhIGRyb3Bkb3duIG9wdGlvbnM6XG4gKiBMaXN0ZW4gdG8gY2xpY2tzIG9uIGRyb3Bkb3duc1xuICovXG5mdW5jdGlvbiBpbml0T3B0aW9uc0xpc3RlbmVycygpOiB2b2lkIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bfc2VsZWN0JykuZm9yRWFjaCgoZHJvcCkgPT4ge1xuICAgIC8vIFdoZW4gYW55dGhpbmcgdGhhdCBpcyBub3QgdGhlIGRyb3Bkb3duIGlzIGNsaWNrZWQgYXdheSwgdGhlIGRyb3Bkb3duXG4gICAgLy8gc2hvdWxkIGxvc2UgaXRzIHZpc2liaWxpdHlcbiAgICBjb25zdCBvcHRpb25zQ2xpY2thd2F5ID0gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdGlvbnNDbGlja2F3YXkpO1xuICAgICAgZHJvcC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICB9O1xuXG4gICAgZHJvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgIC8vIFRvZ2dsZSB2aXNpYmlsaXR5IG9mIGRyb3Bkb3duXG4gICAgICBkcm9wLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuXG4gICAgICAvLyBSZW1vdmUgdmlzaWJpbGl0eSBvZiBvdGhlciBkcm9wZG93bnMgd2hlbiB0aGlzIG9uZSBpcyBjbGlja2VkXG4gICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX3NlbGVjdCcpKVxuICAgICAgICAuZmlsdGVyKChvdGhlcikgPT4gb3RoZXIgIT09IGRyb3ApXG4gICAgICAgIC5mb3JFYWNoKChvdGhlcikgPT4gb3RoZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJykpO1xuXG4gICAgICAvLyBEb24ndCBhbGxvdyBvdGhlciBldmVudCBsaXN0ZW5lcnMgb24gdGhlIGJvZHkgdG8gaW50ZXJmZXJlIHdpdGggdGhpcyBsaXN0ZW5lclxuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICBpZiAoZHJvcC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKVxuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICBlbHNlIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcHRpb25zQ2xpY2thd2F5KTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBnZXRTdGFmZkJCb3ggfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuZXhwb3J0IGludGVyZmFjZSBQb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJCb3gge1xuICB1bHg6IG51bWJlcjtcbiAgdWx5OiBudW1iZXI7XG4gIGxyeDogbnVtYmVyO1xuICBscnk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBHZXQgU1ZHIHJlbGF0aXZlIGNvb3JkaW5hdGVzIGdpdmVuIGNsaWVudFggYW5kIGNsaWVudFlcbiAqIFNvdXJjZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjkyNjEzMDRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNWR1JlbENvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBQb2ludCB7XG4gIGNvbnN0IHB0ID0gbmV3IERPTVBvaW50KGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR1NWR0VsZW1lbnQ+KCcuYWN0aXZlLXBhZ2UgPiAuZGVmaW5pdGlvbi1zY2FsZScpO1xuICBjb25zdCBwYWdlTWFyZ2luID0gc3ZnLnF1ZXJ5U2VsZWN0b3I8U1ZHR0VsZW1lbnQ+KCcucGFnZS1tYXJnaW4nKTtcblxuICBjb25zdCB7IHgsIHkgfSA9IHB0Lm1hdHJpeFRyYW5zZm9ybShwYWdlTWFyZ2luLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG4gIHJldHVybiB7IHgsIHkgfTtcblxuICAvLyBJZiB0aGVyZSBpcyBzb21lIGlzc3VlIHdpdGggY29vcmRpbmF0ZXMsIHRoaXMgbWF5IGZpeCB0aGUgaXNzdWU6XG4gIC8vIGNvbnN0IHN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHU1ZHRWxlbWVudD4oJyNzdmdfZ3JvdXAnKTtcbiAgLy8gY29uc3QgeyB4LCB5IH0gPSBwdC5tYXRyaXhUcmFuc2Zvcm0oc3ZnLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG59XG5cbi8qKlxuICogR2V0IElEIG9mIHN0YWZmIGJ5IGNsaWVudCdzIHgteSBjb29yZGluYXRlcy5cbiAqIFRoaXMgZnVuY3Rpb24gY29uc2lkZXJzIHRoZSAqdmlzdWFsKiBib3VuZGluZyBib3ggb2YgdGhlIHN0YWZmXG4gKiBiYXNlZCBvbiBpdHMgc3RhZmYgbGluZXMsIGluc3RlYWQgb2YgdGhlIFNWRyBlbGVtZW50IGl0c2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmSWRCeUNvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR0VsZW1lbnQ+KCcuc3RhZmYnKSk7XG4gIGNvbnN0IHN0YWZmQkJveGVzID0gc3RhdmVzLm1hcChzdGFmZiA9PiBnZXRTdGFmZkJCb3goc3RhZmYpKTtcblxuICAvLyBmaW5kIHRoZSBzdGFmZiB0aGF0IHRoZSBjdXJzb3IgaXMgaW5zaWRlXG4gIGNvbnN0IHsgeCwgeSB9ID0gZ2V0U1ZHUmVsQ29vcmRzKGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdGFmZiA9IHN0YWZmQkJveGVzLmZpbmQoXG4gICAgKGJib3gpID0+IHggPD0gYmJveC5scnggJiYgeCA+PSBiYm94LnVseCAmJiB5IDw9IGJib3gubHJ5ICYmIHkgPj0gYmJveC51bHlcbiAgKTsgXG5cbiAgLy8gSWYgdGhlcmUgaXMgaXNzdWVzIHdpdGggZmluZGluZyB0aGUgc3RhZmYsIHRoaXMgbWF5IGJlIG1vcmUgYWNjdXJhdGU6XG4gIC8vIHJldHVybiAocHQueCA+IHVseCAmJiBwdC54IDwgbHJ4KSAmJlxuICAvLyAgIChwdC55ID4gKHVseSArIChwdC54IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkpKSAmJlxuICAvLyAgIChwdC55IDwgKGxyeSAtIChscnggLSBwdC54KSAqIE1hdGgudGFuKHJvdGF0ZSkpKTtcblxuICAvLyBpZiB0aGUgY3Vyc29yIGlzIG5vdCBpbnNpZGUgYW55IHN0YWZmLCB0aGVuIGV4cGxpY2l0bHkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIHN0YWZmID8gc3RhZmYuaWQgOiBudWxsO1xufVxuXG4vKipcbiAqIEdldCBzdGFmZiBieSBjbGllbnQncyB4LXkgY29vcmRpbmF0ZXM7IHdyYXBwZXIgZm9yIGdldFN0YWZmSWRCeUNvb3JkcywgYnV0XG4gKiAgIHJldHVybnMgdGhlIGVsZW1lbnQsIG5vdCB0aGUgSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmQnlDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogU1ZHR0VsZW1lbnQgfCBudWxsIHtcbiAgY29uc3Qgc3RhZmZJZCA9IGdldFN0YWZmSWRCeUNvb3JkcyhjbGllbnRYLCBjbGllbnRZKTtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3N0YWZmSWR9YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc091dE9mU1ZHQm91bmRzICh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICBjb25zdCBiZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHSW1hZ2VFbGVtZW50PignI2JnaW1nJyk7XG4gIFxuICByZXR1cm4gKFxuICAgIHggPD0gMCB8fCB4ID49IE51bWJlcihiZ0ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpIHx8XG4gICAgeSA8PSAwIHx8IHkgPj0gTnVtYmVyKGJnSW1nLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpXG4gICk7XG59XG5cbi8qKlxuICogR2V0IGJvdW5kaW5nIGJveCAobHJ4LCBscnksIHVseCwgdWx5KSBvZiBhIGdseXBoLCB3aGljaFxuICogaXMgYSA8dXNlPiBlbGVtZW50IGluIHRoZSBTVkdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdseXBoQkJveCAoZzogU1ZHUmVjdEVsZW1lbnQgfCBTVkdVc2VFbGVtZW50KTogQkJveCB7XG4gIGNvbnN0IHJlY3QgPSAoZy50YWdOYW1lID09ICdyZWN0JykgPyBnLmdldEJCb3goKSA6IChnLnBhcmVudE5vZGUgYXMgU1ZHR0VsZW1lbnQpLmdldEJCb3goKTtcblxuICByZXR1cm4ge1xuICAgIHVseDogcmVjdC54LFxuICAgIHVseTogcmVjdC55LFxuICAgIGxyeDogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICBscnk6IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gIH07XG59XG5cbiIsIihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS9Db21tb25KU1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTURcbiAgICAgICAgZGVmaW5lKGZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAod2l0aCBzdXBwb3J0IGZvciB3ZWIgd29ya2VycylcbiAgICAgICAgdmFyIGdsb2I7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGdsb2IgPSB3aW5kb3c7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGdsb2IgPSBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2xvYi5TcGFya01ENSA9IGZhY3RvcnkoKTtcbiAgICB9XG59KGZ1bmN0aW9uICh1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qXG4gICAgICogRmFzdGVzdCBtZDUgaW1wbGVtZW50YXRpb24gYXJvdW5kIChKS00gbWQ1KS5cbiAgICAgKiBDcmVkaXRzOiBKb3NlcGggTXllcnNcbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5teWVyc2RhaWx5Lm9yZy9qb3NlcGgvamF2YXNjcmlwdC9tZDUtdGV4dC5odG1sXG4gICAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9tZDUtc2hvb3RvdXQvN1xuICAgICAqL1xuXG4gICAgLyogdGhpcyBmdW5jdGlvbiBpcyBtdWNoIGZhc3RlcixcbiAgICAgIHNvIGlmIHBvc3NpYmxlIHdlIHVzZSBpdC4gU29tZSBJRXNcbiAgICAgIGFyZSB0aGUgb25seSBvbmVzIEkga25vdyBvZiB0aGF0XG4gICAgICBuZWVkIHRoZSBpZGlvdGljIHNlY29uZCBmdW5jdGlvbixcbiAgICAgIGdlbmVyYXRlZCBieSBhbiBpZiBjbGF1c2UuICAqL1xuICAgIHZhciBhZGQzMiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiAoYSArIGIpICYgMHhGRkZGRkZGRjtcbiAgICB9LFxuICAgICAgICBoZXhfY2hyID0gWycwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJ107XG5cblxuICAgIGZ1bmN0aW9uIGNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gICAgICAgIGEgPSBhZGQzMihhZGQzMihhLCBxKSwgYWRkMzIoeCwgdCkpO1xuICAgICAgICByZXR1cm4gYWRkMzIoKGEgPDwgcykgfCAoYSA+Pj4gKDMyIC0gcykpLCBiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVjeWNsZSh4LCBrKSB7XG4gICAgICAgIHZhciBhID0geFswXSxcbiAgICAgICAgICAgIGIgPSB4WzFdLFxuICAgICAgICAgICAgYyA9IHhbMl0sXG4gICAgICAgICAgICBkID0geFszXTtcblxuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzBdIC0gNjgwODc2OTM2IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbMV0gLSAzODk1NjQ1ODYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMl0gKyA2MDYxMDU4MTkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbM10gLSAxMDQ0NTI1MzMwIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzRdIC0gMTc2NDE4ODk3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbNV0gKyAxMjAwMDgwNDI2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzZdIC0gMTQ3MzIzMTM0MSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1s3XSAtIDQ1NzA1OTgzIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzhdICsgMTc3MDAzNTQxNiB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzldIC0gMTk1ODQxNDQxNyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxMF0gLSA0MjA2MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1sxMV0gLSAxOTkwNDA0MTYyIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzEyXSArIDE4MDQ2MDM2ODIgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxM10gLSA0MDM0MTEwMSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxNF0gLSAxNTAyMDAyMjkwIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzE1XSArIDEyMzY1MzUzMjkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG5cbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxXSAtIDE2NTc5NjUxMCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzZdIC0gMTA2OTUwMTYzMiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzExXSArIDY0MzcxNzcxMyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1swXSAtIDM3Mzg5NzMwMiB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1s1XSAtIDcwMTU1ODY5MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzEwXSArIDM4MDE2MDgzIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbMTVdIC0gNjYwNDc4MzM1IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzRdIC0gNDA1NTM3ODQ4IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzldICsgNTY4NDQ2NDM4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMTRdIC0gMTAxOTgwMzY5MCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzNdIC0gMTg3MzYzOTYxIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzhdICsgMTE2MzUzMTUwMSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxM10gLSAxNDQ0NjgxNDY3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMl0gLSA1MTQwMzc4NCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzddICsgMTczNTMyODQ3MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1sxMl0gLSAxOTI2NjA3NzM0IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuXG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzVdIC0gMzc4NTU4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzhdIC0gMjAyMjU3NDQ2MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTFdICsgMTgzOTAzMDU2MiB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMTRdIC0gMzUzMDk1NTYgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMV0gLSAxNTMwOTkyMDYwIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzRdICsgMTI3Mjg5MzM1MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbN10gLSAxNTU0OTc2MzIgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzEwXSAtIDEwOTQ3MzA2NDAgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMTNdICsgNjgxMjc5MTc0IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzBdIC0gMzU4NTM3MjIyIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1szXSAtIDcyMjUyMTk3OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbNl0gKyA3NjAyOTE4OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s5XSAtIDY0MDM2NDQ4NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1sxMl0gLSA0MjE4MTU4MzUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzE1XSArIDUzMDc0MjUyMCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMl0gLSA5OTUzMzg2NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcblxuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1swXSAtIDE5ODYzMDg0NCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1s3XSArIDExMjY4OTE0MTUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzE0XSAtIDE0MTYzNTQ5MDUgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzVdIC0gNTc0MzQwNTUgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMTJdICsgMTcwMDQ4NTU3MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1szXSAtIDE4OTQ5ODY2MDYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzEwXSAtIDEwNTE1MjMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzFdIC0gMjA1NDkyMjc5OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s4XSArIDE4NzMzMTMzNTkgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbMTVdIC0gMzA2MTE3NDQgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzZdIC0gMTU2MDE5ODM4MCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMTNdICsgMTMwOTE1MTY0OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s0XSAtIDE0NTUyMzA3MCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxMV0gLSAxMTIwMjEwMzc5IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1syXSArIDcxODc4NzI1OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbOV0gLSAzNDM0ODU1NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHwgYiA+Pj4gMTEpICsgYyB8IDA7XG5cbiAgICAgICAgeFswXSA9IGEgKyB4WzBdIHwgMDtcbiAgICAgICAgeFsxXSA9IGIgKyB4WzFdIHwgMDtcbiAgICAgICAgeFsyXSA9IGMgKyB4WzJdIHwgMDtcbiAgICAgICAgeFszXSA9IGQgKyB4WzNdIHwgMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVibGsocykge1xuICAgICAgICB2YXIgbWQ1YmxrcyA9IFtdLFxuICAgICAgICAgICAgaTsgLyogQW5keSBLaW5nIHNhaWQgZG8gaXQgdGhpcyB3YXkuICovXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpICs9IDQpIHtcbiAgICAgICAgICAgIG1kNWJsa3NbaSA+PiAyXSA9IHMuY2hhckNvZGVBdChpKSArIChzLmNoYXJDb2RlQXQoaSArIDEpIDw8IDgpICsgKHMuY2hhckNvZGVBdChpICsgMikgPDwgMTYpICsgKHMuY2hhckNvZGVBdChpICsgMykgPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNWJsa19hcnJheShhKSB7XG4gICAgICAgIHZhciBtZDVibGtzID0gW10sXG4gICAgICAgICAgICBpOyAvKiBBbmR5IEtpbmcgc2FpZCBkbyBpdCB0aGlzIHdheS4gKi9cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkgKz0gNCkge1xuICAgICAgICAgICAgbWQ1Ymxrc1tpID4+IDJdID0gYVtpXSArIChhW2kgKyAxXSA8PCA4KSArIChhW2kgKyAyXSA8PCAxNikgKyAoYVtpICsgM10gPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNTEocykge1xuICAgICAgICB2YXIgbiA9IHMubGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGUgPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbjsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIG1kNWJsayhzLnN1YnN0cmluZyhpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKGkgLSA2NCk7XG4gICAgICAgIGxlbmd0aCA9IHMubGVuZ3RoO1xuICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBzLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cbiAgICAgICAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIGlmIChpID4gNTUpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdGFpbFtpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1pZ2h0IG5vdCBmaXQgaW4gMzIgYml0cyBzbyB3ZSB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICB0bXAgPSBuICogODtcbiAgICAgICAgdG1wID0gdG1wLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKTtcbiAgICAgICAgbG8gPSBwYXJzZUludCh0bXBbMl0sIDE2KTtcbiAgICAgICAgaGkgPSBwYXJzZUludCh0bXBbMV0sIDE2KSB8fCAwO1xuXG4gICAgICAgIHRhaWxbMTRdID0gbG87XG4gICAgICAgIHRhaWxbMTVdID0gaGk7XG5cbiAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1MV9hcnJheShhKSB7XG4gICAgICAgIHZhciBuID0gYS5sZW5ndGgsXG4gICAgICAgICAgICBzdGF0ZSA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICB0YWlsLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBuOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgbWQ1YmxrX2FycmF5KGEuc3ViYXJyYXkoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHN1cmUgaWYgaXQgaXMgYSBidWcsIGhvd2V2ZXIgSUUxMCB3aWxsIGFsd2F5cyBwcm9kdWNlIGEgc3ViIGFycmF5IG9mIGxlbmd0aCAxXG4gICAgICAgIC8vIGNvbnRhaW5pbmcgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgcGFyZW50IGFycmF5IGlmIHRoZSBzdWIgYXJyYXkgc3BlY2lmaWVkIHN0YXJ0c1xuICAgICAgICAvLyBiZXlvbmQgdGhlIGxlbmd0aCBvZiB0aGUgcGFyZW50IGFycmF5IC0gd2VpcmQuXG4gICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvNzcxNDUyL3R5cGVkLWFycmF5LXN1YmFycmF5LWlzc3VlXG4gICAgICAgIGEgPSAoaSAtIDY0KSA8IG4gPyBhLnN1YmFycmF5KGkgLSA2NCkgOiBuZXcgVWludDhBcnJheSgwKTtcblxuICAgICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYVtpXSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWxbaSA+PiAyXSB8PSAweDgwIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICBpZiAoaSA+IDU1KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtaWdodCBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgdG1wID0gbiAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuXG4gICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmhleChuKSB7XG4gICAgICAgIHZhciBzID0gJycsXG4gICAgICAgICAgICBqO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgNDsgaiArPSAxKSB7XG4gICAgICAgICAgICBzICs9IGhleF9jaHJbKG4gPj4gKGogKiA4ICsgNCkpICYgMHgwRl0gKyBoZXhfY2hyWyhuID4+IChqICogOCkpICYgMHgwRl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGV4KHgpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB4W2ldID0gcmhleCh4W2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geC5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvLyBJbiBzb21lIGNhc2VzIHRoZSBmYXN0IGFkZDMyIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkLi5cbiAgICBpZiAoaGV4KG1kNTEoJ2hlbGxvJykpICE9PSAnNWQ0MTQwMmFiYzRiMmE3NmI5NzE5ZDkxMTAxN2M1OTInKSB7XG4gICAgICAgIGFkZDMyID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIHZhciBsc3cgPSAoeCAmIDB4RkZGRikgKyAoeSAmIDB4RkZGRiksXG4gICAgICAgICAgICAgICAgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gICAgICAgICAgICByZXR1cm4gKG1zdyA8PCAxNikgfCAobHN3ICYgMHhGRkZGKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEFycmF5QnVmZmVyIHNsaWNlIHBvbHlmaWxsLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdHRhdWJlcnQvbm9kZS1hcnJheWJ1ZmZlci1zbGljZVxuICAgICAqL1xuXG4gICAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIUFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gY2xhbXAodmFsLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSAodmFsIHwgMCkgfHwgMDtcblxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2YWwgKyBsZW5ndGgsIDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbih2YWwsIGxlbmd0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luID0gY2xhbXAoZnJvbSwgbGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gbGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBudW0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUFycmF5O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gY2xhbXAodG8sIGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJlZ2luID4gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQXJyYXlCdWZmZXIoMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbnVtID0gZW5kIC0gYmVnaW47XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gbmV3IEFycmF5QnVmZmVyKG51bSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLCBiZWdpbiwgbnVtKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXJzLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gdG9VdGY4KHN0cikge1xuICAgICAgICBpZiAoL1tcXHUwMDgwLVxcdUZGRkZdLy50ZXN0KHN0cikpIHtcbiAgICAgICAgICAgIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXRmOFN0cjJBcnJheUJ1ZmZlcihzdHIsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHN0ci5sZW5ndGgsXG4gICAgICAgICAgIGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKSxcbiAgICAgICAgICAgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZiksXG4gICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gYXJyIDogYnVmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcnJheUJ1ZmZlcjJVdGY4U3RyKGJ1ZmYpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmZikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKGZpcnN0LCBzZWNvbmQsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGZpcnN0LmJ5dGVMZW5ndGggKyBzZWNvbmQuYnl0ZUxlbmd0aCk7XG5cbiAgICAgICAgcmVzdWx0LnNldChuZXcgVWludDhBcnJheShmaXJzdCkpO1xuICAgICAgICByZXN1bHQuc2V0KG5ldyBVaW50OEFycmF5KHNlY29uZCksIGZpcnN0LmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gcmVzdWx0IDogcmVzdWx0LmJ1ZmZlcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoZXhUb0JpbmFyeVN0cmluZyhoZXgpIHtcbiAgICAgICAgdmFyIGJ5dGVzID0gW10sXG4gICAgICAgICAgICBsZW5ndGggPSBoZXgubGVuZ3RoLFxuICAgICAgICAgICAgeDtcblxuICAgICAgICBmb3IgKHggPSAwOyB4IDwgbGVuZ3RoIC0gMTsgeCArPSAyKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKHBhcnNlSW50KGhleC5zdWJzdHIoeCwgMiksIDE2KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGJ5dGVzKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFNwYXJrTUQ1IE9PUCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGNsYXNzIHRvIHBlcmZvcm0gYW4gaW5jcmVtZW50YWwgbWQ1LCBvdGhlcndpc2UgdXNlIHRoZVxuICAgICAqIHN0YXRpYyBtZXRob2RzIGluc3RlYWQuXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBTcGFya01ENSgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIHN0cmluZy5cbiAgICAgKiBBIGNvbnZlcnNpb24gd2lsbCBiZSBhcHBsaWVkIGlmIGFuIHV0Zjggc3RyaW5nIGlzIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIGJlIGFwcGVuZGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBhcHBlbmQgYXMgYmluYXJ5XG4gICAgICAgIHRoaXMuYXBwZW5kQmluYXJ5KHRvVXRmOChzdHIpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgVGhlIGJpbmFyeSBzdHJpbmcgdG8gYmUgYXBwZW5kZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmFwcGVuZEJpbmFyeSA9IGZ1bmN0aW9uIChjb250ZW50cykge1xuICAgICAgICB0aGlzLl9idWZmICs9IGNvbnRlbnRzO1xuICAgICAgICB0aGlzLl9sZW5ndGggKz0gY29udGVudHMubGVuZ3RoO1xuXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLl9idWZmLmxlbmd0aCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbGVuZ3RoOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCBtZDVibGsodGhpcy5fYnVmZi5zdWJzdHJpbmcoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZiA9IHRoaXMuX2J1ZmYuc3Vic3RyaW5nKGkgLSA2NCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9maW5pc2godGFpbCwgbGVuZ3RoKTtcbiAgICAgICAgcmV0ID0gaGV4KHRoaXMuX2hhc2gpO1xuXG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJldCA9IGhleFRvQmluYXJ5U3RyaW5nKHJldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYnVmZiA9ICcnO1xuICAgICAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9oYXNoID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzdGF0ZVxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ1ZmY6IHRoaXMuX2J1ZmYsXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMuX2xlbmd0aCxcbiAgICAgICAgICAgIGhhc2g6IHRoaXMuX2hhc2guc2xpY2UoKVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgVGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0aGlzLl9idWZmID0gc3RhdGUuYnVmZjtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICB0aGlzLl9oYXNoID0gc3RhdGUuaGFzaDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVsZWFzZXMgbWVtb3J5IHVzZWQgYnkgdGhlIGluY3JlbWVudGFsIGJ1ZmZlciBhbmQgb3RoZXIgYWRkaXRpb25hbFxuICAgICAqIHJlc291cmNlcy4gSWYgeW91IHBsYW4gdG8gdXNlIHRoZSBpbnN0YW5jZSBhZ2FpbiwgdXNlIHJlc2V0IGluc3RlYWQuXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9oYXNoO1xuICAgICAgICBkZWxldGUgdGhpcy5fYnVmZjtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xlbmd0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBmaW5hbCBjYWxjdWxhdGlvbiBiYXNlZCBvbiB0aGUgdGFpbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9ICB0YWlsICAgVGhlIHRhaWwgKHdpbGwgYmUgbW9kaWZpZWQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIHRoZSByZW1haW5pbmcgYnVmZmVyXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLl9maW5pc2ggPSBmdW5jdGlvbiAodGFpbCwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBpID0gbGVuZ3RoLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICB0YWlsW2kgPj4gMl0gfD0gMHg4MCA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG8gdGhlIGZpbmFsIGNvbXB1dGF0aW9uIGJhc2VkIG9uIHRoZSB0YWlsIGFuZCBsZW5ndGhcbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtYXkgbm90IGZpdCBpbiAzMiBiaXRzIHNvIHdlIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgIHRtcCA9IHRoaXMuX2xlbmd0aCAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCB0YWlsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGEgc3RyaW5nLlxuICAgICAqIEEgY29udmVyc2lvbiB3aWxsIGJlIGFwcGxpZWQgaWYgdXRmOCBzdHJpbmcgaXMgZGV0ZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIHN0ciBUaGUgc3RyaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmF3XSBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoID0gZnVuY3Rpb24gKHN0ciwgcmF3KSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBjb21wdXRlIGl0IHVzaW5nIHRoZSBiaW5hcnkgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIFNwYXJrTUQ1Lmhhc2hCaW5hcnkodG9VdGY4KHN0ciksIHJhdyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIGNvbnRlbnQgVGhlIGJpbmFyeSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyYXddICAgICBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoQmluYXJ5ID0gZnVuY3Rpb24gKGNvbnRlbnQsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTEoY29udGVudCksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogU3BhcmtNRDUgT09QIGltcGxlbWVudGF0aW9uIGZvciBhcnJheSBidWZmZXJzLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgY2xhc3MgdG8gcGVyZm9ybSBhbiBpbmNyZW1lbnRhbCBtZDUgT05MWSBmb3IgYXJyYXkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYW4gYXJyYXkgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyIFRoZSBhcnJheSB0byBiZSBhcHBlbmRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKGFycikge1xuICAgICAgICB2YXIgYnVmZiA9IGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKHRoaXMuX2J1ZmYuYnVmZmVyLCBhcnIsIHRydWUpLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIHRoaXMuX2xlbmd0aCArPSBhcnIuYnl0ZUxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBsZW5ndGg7IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIG1kNWJsa19hcnJheShidWZmLnN1YmFycmF5KGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmYgPSAoaSAtIDY0KSA8IGxlbmd0aCA/IG5ldyBVaW50OEFycmF5KGJ1ZmYuYnVmZmVyLnNsaWNlKGkgLSA2NCkpIDogbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmW2ldIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKHRhaWwsIGxlbmd0aCk7XG4gICAgICAgIHJldCA9IGhleCh0aGlzLl9oYXNoKTtcblxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByZXQgPSBoZXhUb0JpbmFyeVN0cmluZyhyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgPSBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5faGFzaCA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgc3RhdGVcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIENvbnZlcnQgYnVmZmVyIHRvIGEgc3RyaW5nXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSBhcnJheUJ1ZmZlcjJVdGY4U3RyKHN0YXRlLmJ1ZmYpO1xuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFRoZSBzdGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gYnVmZmVyXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSB1dGY4U3RyMkFycmF5QnVmZmVyKHN0YXRlLmJ1ZmYsIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBTcGFya01ENS5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLCBzdGF0ZSk7XG4gICAgfTtcblxuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3k7XG5cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuX2ZpbmlzaCA9IFNwYXJrTUQ1LnByb3RvdHlwZS5fZmluaXNoO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGFuIGFycmF5IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFyciBUaGUgYXJyYXkgYnVmZmVyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgW3Jhd10gVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IG9uZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIuaGFzaCA9IGZ1bmN0aW9uIChhcnIsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTFfYXJyYXkobmV3IFVpbnQ4QXJyYXkoYXJyKSksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIHJldHVybiBTcGFya01ENTtcbn0pKTtcbiIsIi8qKlxuICogRm9ybWF0cyByYXcgVVVJRCBkYXRhIGludG8gdGhlIHByb3BlciBzdHJpbmcgZm9ybWF0LlxuICogQHBhcmFtIGRhdGEgLSBSYXcgVVVJRCBkYXRhLlxuICogQHJldHVybnMgRm9ybWF0dGVkIFVVSUQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiB1aW50OFRvVXVpZCAoZGF0YTogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGlmIChkYXRhLmxlbmd0aCAhPT0gMTYpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBmdW5jdGlvbiBjYiAocHJldmlvdXM6IHN0cmluZywgY3VycmVudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcHJldmlvdXMgKyBjdXJyZW50LnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEuc2xpY2UoMCwgNCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNCwgNikucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNiwgOCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoOCwgMTApLnJlZHVjZShjYiwgJycpICtcbiAgICAnLScgKyBkYXRhLnNsaWNlKDEwKS5yZWR1Y2UoY2IsICcnKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBBIFt2ZXJzaW9uIDQgVVVJRF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVW5pdmVyc2FsbHlfdW5pcXVlX2lkZW50aWZpZXIjVmVyc2lvbl80XyhyYW5kb20pKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NCAoKTogc3RyaW5nIHtcbiAgLy8gQ2hlY2sgZm9yIGNyeXB0byBBUElcbiAgaWYgKHdpbmRvdy5jcnlwdG8gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1aW50OFRvVXVpZChuZXcgVWludDhBcnJheSgxNikpO1xuICB9XG5cbiAgLy8gR2V0IDE2IG9jdGV0cyBmb3IgVVVJRFxuICBjb25zdCBvY3RldHMgPSBuZXcgVWludDhBcnJheSgxNik7XG4gIGNvbnN0IG1vZGlmaWVycyA9IFVpbnQ4QXJyYXkuZnJvbShbXG4gICAgcGFyc2VJbnQoJzAxMDAwMDAwJywgMiksICAvLyBWZXJzaW9uIGJpdHMgKDQgPT4gMDEwMClcbiAgICBwYXJzZUludCgnMTAwMDAwMDAnLCAyKSwgIC8vIFZhcmlhbnQgYml0cyAoMTB4KVxuICAgIHBhcnNlSW50KCcwMDAwMTExMScsIDIpLCAgLy8gTWFzayB0byB6ZXJvIGhpZ2hlciBiaXRzLCB2ZXJzaW9uXG4gICAgcGFyc2VJbnQoJzAwMTExMTExJywgMikgICAvLyBNYXNrIHRvIHplcm8gaGlnaGVyIGJpdHMsIHZhcmlhbnRcbiAgXSk7XG4gIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG9jdGV0cyk7XG4gIC8vIFNldCB2ZXJzaW9uIGJpdHMgYW5kIHZhcmlhbnQgYml0c1xuICBvY3RldHNbNl0gPSAob2N0ZXRzWzZdICYgbW9kaWZpZXJzWzJdKSB8IG1vZGlmaWVyc1swXTtcbiAgb2N0ZXRzWzhdID0gKG9jdGV0c1s4XSAmIG1vZGlmaWVyc1szXSkgfCBtb2RpZmllcnNbMV07XG5cbiAgcmV0dXJuIHVpbnQ4VG9VdWlkKG9jdGV0cyk7XG59XG4iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogQWRhcHRlZCBmcm9tIGNvbG9yIHBhbGV0dGUgZnJvbSBGaWd1cmUgMiAoQ29sb3JzIG9wdGltaXplZCBmb3IgY29sb3ItYmxpbmRcbiAqIGluZGl2aWR1YWxzKSBmcm9tXG4gKiBbXCJQb2ludHMgb2YgdmlldzogQ29sb3IgYmxpbmRuZXNzXCIgYnkgQmFuZyBXb25nIHB1Ymxpc2hlZCBpbiBOYXR1cmUgTWV0aG9kcyB2b2x1bWUgOCBvbiAyNyBNYXkgMjAxMV0oaHR0cHM6Ly93d3cubmF0dXJlLmNvbS9hcnRpY2xlcy9ubWV0aC4xNjE4P1dULmVjX2lkPU5NRVRILTIwMTEwNilcbiAqL1xuY29uc3QgQ29sb3JQYWxldHRlOiBzdHJpbmdbXSA9IFtcbiAgJ3JnYigyMzAsIDE1OSwgMCknLFxuICAncmdiKDg2LCAxODAsIDIzMyknLFxuICAncmdiKDAsIDE1OCwgMTE1KScsXG4gICdyZ2IoMjQwLCAyMjgsIDY2KScsXG4gICdyZ2IoMCwgMTE0LCAxNzgpJyxcbiAgJ3JnYigyMTMsIDk0LCAwKScsXG4gICdyZ2IoMjA0LCAxMjEsIDE2NyknXG5dO1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgaGlnaGxpZ2h0IGZyb20gYSBzdGFmZi5cbiAqIEBwYXJhbSBzdGFmZiBJZiB1bmRlZmluZWQsIHRoZSBhbGwgc3RhdmVzIGFyZSB1bmhpZ2hsaWdodGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5oaWdobGlnaHQoc3RhZmY/OiBTVkdHRWxlbWVudCk6IHZvaWQge1xuICBsZXQgY2hpbGRyZW46IE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gIGlmIChzdGFmZikge1xuICAgIGNoaWxkcmVuID0gc3RhZmYucXVlcnlTZWxlY3RvckFsbCgnOm5vdCguc2VsZWN0ZWQpIC5oaWdobGlnaHRlZCcpO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnOm5vdCguc2VsZWN0ZWQpIC5oaWdobGlnaHRlZCcpO1xuICB9XG4gIGNoaWxkcmVuLmZvckVhY2goZWxlbSA9PiB7XG4gICAgaWYgKGVsZW0udGFnTmFtZSA9PT0gJ3BhdGgnICYmICFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICcjMDAwMDAwJyk7XG4gICAgfSBlbHNlIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpICYmICFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICcjMDAwMDAwJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoJ2ZpbGwnKTtcbiAgICAgIGxldCByZWN0cyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVjdHMgPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWN0cyA9IFtdIGFzIHVua25vd24gYXMgTm9kZUxpc3RPZjxFbGVtZW50PjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgICAvLyByZWN0LmNsb3Nlc3QoJy5sYXllcicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApe1xuICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBoaWdobGlnaHQgZnJvbSBlYWNoIHN0YWZmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRTdGFmZkhpZ2hsaWdodCgpOiB2b2lkIHtcbiAgdW5oaWdobGlnaHQoKTtcbn1cblxuLyoqXG4gKiBVbnNldCBoaWdobGlnaHQgZm9yIGFsbCBncm91cGluZyB0eXBlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRHcm91cGluZ0hpZ2hsaWdodCgpOiB2b2lkIHtcbiAgdW5zZXRTdGFmZkhpZ2hsaWdodCgpO1xuICBjb25zdCBoaWdobGlnaHRlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0ZWQnKSlcbiAgICAuZmlsdGVyKChlbGVtOiBIVE1MRWxlbWVudCkgPT4gIWVsZW0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpO1xuICBoaWdobGlnaHRlZC5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIGVsZW0uc2V0QXR0cmlidXRlKCcjZDAwJywgbnVsbCk7XG4gICAgbGV0IHJlY3RzID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICBpZiAoZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKSAhPT0gbnVsbCkge1xuICAgICAgICByZWN0cyA9IGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykucXVlcnlTZWxlY3RvckFsbCgnc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgfVxuICAgIH1cbiAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0OiBIVE1MRWxlbWVudCkge1xuICAgICAgaWYgKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8IFxuICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICApe1xuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICB9XG4gICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfSk7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnc3lsVGV4dFJlY3QtZGlzcGxheScpLmZvckVhY2gocmVjdCA9PiB7XG4gICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfSk7XG4gIH0pO1xuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpLmZvckVhY2goKGVsKSA9PiB7IGVsLnNldEF0dHJpYnV0ZSgnZmlsbCcsICcnKTsgfSk7XG59XG5cbi8qKlxuICogSGlnaGxpZ2h0IGEgc3RhZmYgYSBjZXJ0YWluIGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGlnaGxpZ2h0KHN0YWZmOiBTVkdHRWxlbWVudCwgY29sb3I6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oc3RhZmYuY2hpbGRyZW4pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoY2hpbGQudGFnTmFtZSA9PT0gJ3BhdGgnKSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGNvbG9yKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGNvbG9yKTtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykubGVuZ3RoICYmIGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZmlsdGVyKGVsID0+IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNpemVQb2ludCcpIHx8IGNoaWxkLmlkID09PSAncmVzaXplUmVjdCcgfHwgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyb3RhdGVQb2ludCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2xheWVyJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpLmxlbmd0aCAmJlxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJylbMF0uaWQgPT09ICdoaWdobGlnaHQtbmV1bWUnXG4gICAgICAmJiBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdmaWxsJywgY29sb3IpO1xuICAgICAgbGV0IHJlY3RzID0gY2hpbGQucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVjdHMgPSBjaGlsZC5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVjdHMgPSBbXSBhcyB1bmtub3duIGFzIE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmICghKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgICAvLyByZWN0LmNsb3Nlc3QoJy5sYXllcicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApKSB7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gY29sb3I7XG4gICAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgfVxuICBsZXQgd2lkdGgsIGhlaWdodDtcbiAgLyp0cnkge1xuICAgIHdpZHRoID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZScpLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmdldEF0dHJpYnV0ZSgnd2lkdGgnKS5zcGxpdCgncHgnKVswXSk7XG4gICAgaGVpZ2h0ID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZScpLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jykuc3BsaXQoJ3B4JylbMF0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhlKTtcbiAgfSovXG4gIGxldCBzdHJva2U6IHN0cmluZztcbiAgaWYgKHdpZHRoICE9PSB1bmRlZmluZWQgJiYgaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBpZGsgbG9va3MgZ29vZCA6JylcbiAgICAvLyBUT0RPIGZpbmQgYSBiZXR0ZXIgd2F5IG9mIGNhbGN1bGF0aW5nIHRoaXMgYXMgdGhpcyBhY3R1YWxseSBkb2Vzbid0IHdvcmsgYXMgd2VsbCBhcyAzMHB4XG4gICAgc3Ryb2tlID0gKHdpZHRoICogaGVpZ2h0IC8gMTAwMDAwMCkudG9TdHJpbmcoKTtcbiAgfVxuICBlbHNlIHtcbiAgICBzdHJva2UgPSAnMzBweCc7XG4gIH1cbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgnLm5jLCAuY3VzdG9zLCAuY2xlZiwgLmFjY2lkJykuZm9yRWFjaChlbCA9PiB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsIHN0cm9rZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEhpZ2hsaWdodCBlYWNoIHN0YWZmIGEgZGlmZmVyZW50IGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RhZmZIaWdobGlnaHQoKTogdm9pZCB7XG4gIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZmYnKSkgYXMgU1ZHR0VsZW1lbnRbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFmZkNvbG9yID0gQ29sb3JQYWxldHRlW2kgJSBDb2xvclBhbGV0dGUubGVuZ3RoXTtcbiAgICBoaWdobGlnaHQoc3RhdmVzW2ldLCBzdGFmZkNvbG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRDb2x1bW5IaWdobGlnaHQoKTogdm9pZCB7XG4gIGNvbnN0ICBncm91cHM6IHsgW2tleTogbnVtYmVyXTogU1ZHR0VsZW1lbnRbXSB9ID0ge307XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmJykuZm9yRWFjaCgoc3RhZmYpID0+IHtcbiAgICBjb25zdCBoYXNDb2x1bW4gPSBBcnJheS5mcm9tKHN0YWZmLmNsYXNzTGlzdCkuam9pbignICcpLm1hdGNoKC9cXGJjb2x1bW4oXFxkKylcXGIvKTtcbiAgICBsZXQgY29sdW1uTnVtID0gMDtcbiAgICBpZiAoaGFzQ29sdW1uKSB7XG4gICAgICBjb2x1bW5OdW0gPSBwYXJzZUludChoYXNDb2x1bW5bMV0sIDEwKSAtIDE7XG4gICAgfVxuXG4gICAgaWYgKCFncm91cHNbY29sdW1uTnVtXSkge1xuICAgICAgZ3JvdXBzW2NvbHVtbk51bV0gPSBbXTtcbiAgICB9XG5cbiAgICBncm91cHNbY29sdW1uTnVtXS5wdXNoKHN0YWZmIGFzIFNWR0dFbGVtZW50KTtcbiAgfSk7XG5cbiAgZm9yIChjb25zdCBbY29sdW1uLCBzdGF2ZXNdIG9mIE9iamVjdC5lbnRyaWVzKGdyb3VwcykpIHtcbiAgICBjb25zdCBjb2xvciA9IENvbG9yUGFsZXR0ZVtOdW1iZXIoY29sdW1uKSAlIENvbG9yUGFsZXR0ZS5sZW5ndGhdO1xuICAgIGZvciAoY29uc3Qgc3RhZmYgb2Ygc3RhdmVzKSB7XG4gICAgICBoaWdobGlnaHQoc3RhZmYsIGNvbG9yKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgYSBoaWdobGlnaHQgYnkgYSBkaWZmZXJlbnQgZ3JvdXBpbmcuXG4gKiBAcGFyYW0gZ3JvdXBpbmcgLSBFaXRoZXIgXCJzdGFmZlwiLCBcInN5bGxhYmxlXCIsIFwibmV1bWVcIiwgXCJzZWxlY3Rpb25cIiwgb3IgXCJsYXllckVsZW1lbnRcIi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwaW5nOiBHcm91cGluZ1R5cGUpOiB2b2lkIHtcbiAgdW5zZXRHcm91cGluZ0hpZ2hsaWdodCgpO1xuICBpZiAoZ3JvdXBpbmcgPT09ICdzdGFmZicpIHtcbiAgICBzZXRTdGFmZkhpZ2hsaWdodCgpO1xuICAgIHJldHVybjtcbiAgfVxuICBlbHNlIGlmIChncm91cGluZyA9PT0gJ2NvbHVtbicpIHtcbiAgICBzZXRDb2x1bW5IaWdobGlnaHQoKTtcbiAgICByZXR1cm47XG4gIH0gXG4gIGVsc2UgaWYgKGdyb3VwaW5nID09PSAnc2VsZWN0aW9uJykge1xuICAgIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsLWJ5LmlzLWFjdGl2ZScpLmlkO1xuICAgIHN3aXRjaCAodGVtcCkge1xuICAgICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgICBncm91cGluZyA9ICdzeWxsYWJsZSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlDb2x1bW4nOlxuICAgICAgICBncm91cGluZyA9ICdjb2x1bW4nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgICBncm91cGluZyA9ICdzdGFmZic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlMYXllckVsZW1lbnQnOlxuICAgICAgICBncm91cGluZyA9ICdsYXllckVsZW1lbnQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZ3JvdXBpbmcgPSAnbmV1bWUnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXBpbmcpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZ3JvdXBzO1xuXG4gIGlmIChncm91cGluZyA9PSAnbGF5ZXJFbGVtZW50Jykge1xuICAgIGdyb3VwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NpZCwgLmNsZWYsIC5jdXN0b3MsIC5kaXZMaW5lJyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgZ3JvdXBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShncm91cGluZykgYXMgSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD47XG4gIH1cblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMsIC5jdXN0b3MsIC5jbGVmLCAuYWNjaWQsIC5kaXZMaW5lJykuZm9yRWFjaChlbCA9PiB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gIH0pO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZ3JvdXBDb2xvciA9IENvbG9yUGFsZXR0ZVtpICUgQ29sb3JQYWxldHRlLmxlbmd0aF07XG4gICAgaWYgKChncm91cHNbaV0uY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpICYmICFncm91cHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdmaWxsJywgZ3JvdXBDb2xvcik7XG4gICAgICBjb25zdCByZWN0cyA9IGdyb3Vwc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+O1xuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAocmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gZ3JvdXBDb2xvcjtcbiAgICAgIH0pO1xuICAgICAgZ3JvdXBzW2ldLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICBncm91cHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFncm91cHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnI2QwMCcpO1xuICAgICAgfVxuICAgICAgZ3JvdXBzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZGl2TGluZUNoaWxkcmVuID0gZ3JvdXBzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJyk7XG4gICAgaWYgKGRpdkxpbmVDaGlsZHJlbikge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBkaXZMaW5lQ2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZGl2TGluZUNoaWxkcmVuW2pdLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgZ3JvdXBDb2xvcik7XG4gICAgICAgIGRpdkxpbmVDaGlsZHJlbltqXS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXJpID0gcmVxdWlyZSgndXJsJyk7XG5cbnZhciBWYWxpZGF0aW9uRXJyb3IgPSBleHBvcnRzLlZhbGlkYXRpb25FcnJvciA9IGZ1bmN0aW9uIFZhbGlkYXRpb25FcnJvciAobWVzc2FnZSwgaW5zdGFuY2UsIHNjaGVtYSwgcGF0aCwgbmFtZSwgYXJndW1lbnQpIHtcbiAgaWYoQXJyYXkuaXNBcnJheShwYXRoKSl7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLnByb3BlcnR5ID0gcGF0aC5yZWR1Y2UoZnVuY3Rpb24oc3VtLCBpdGVtKXtcbiAgICAgIHJldHVybiBzdW0gKyBtYWtlU3VmZml4KGl0ZW0pO1xuICAgIH0sICdpbnN0YW5jZScpO1xuICB9ZWxzZSBpZihwYXRoICE9PSB1bmRlZmluZWQpe1xuICAgIHRoaXMucHJvcGVydHkgPSBwYXRoO1xuICB9XG4gIGlmIChtZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgfVxuICBpZiAoc2NoZW1hKSB7XG4gICAgdmFyIGlkID0gc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG4gICAgdGhpcy5zY2hlbWEgPSBpZCB8fCBzY2hlbWE7XG4gIH1cbiAgaWYgKGluc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gIH1cbiAgdGhpcy5uYW1lID0gbmFtZTtcbiAgdGhpcy5hcmd1bWVudCA9IGFyZ3VtZW50O1xuICB0aGlzLnN0YWNrID0gdGhpcy50b1N0cmluZygpO1xufTtcblxuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gdGhpcy5wcm9wZXJ0eSArICcgJyArIHRoaXMubWVzc2FnZTtcbn07XG5cbnZhciBWYWxpZGF0b3JSZXN1bHQgPSBleHBvcnRzLlZhbGlkYXRvclJlc3VsdCA9IGZ1bmN0aW9uIFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy5wYXRoID0gY3R4LnBhdGg7XG4gIHRoaXMucHJvcGVydHlQYXRoID0gY3R4LnByb3BlcnR5UGF0aDtcbiAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgdGhpcy50aHJvd0Vycm9yID0gb3B0aW9ucyAmJiBvcHRpb25zLnRocm93RXJyb3I7XG4gIHRoaXMudGhyb3dGaXJzdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50aHJvd0ZpcnN0O1xuICB0aGlzLnRocm93QWxsID0gb3B0aW9ucyAmJiBvcHRpb25zLnRocm93QWxsO1xuICB0aGlzLmRpc2FibGVGb3JtYXQgPSBvcHRpb25zICYmIG9wdGlvbnMuZGlzYWJsZUZvcm1hdCA9PT0gdHJ1ZTtcbn07XG5cblZhbGlkYXRvclJlc3VsdC5wcm90b3R5cGUuYWRkRXJyb3IgPSBmdW5jdGlvbiBhZGRFcnJvcihkZXRhaWwpIHtcbiAgdmFyIGVycjtcbiAgaWYgKHR5cGVvZiBkZXRhaWwgPT0gJ3N0cmluZycpIHtcbiAgICBlcnIgPSBuZXcgVmFsaWRhdGlvbkVycm9yKGRldGFpbCwgdGhpcy5pbnN0YW5jZSwgdGhpcy5zY2hlbWEsIHRoaXMucGF0aCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFkZXRhaWwpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBlcnJvciBkZXRhaWwnKTtcbiAgICBpZiAoIWRldGFpbC5tZXNzYWdlKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgZXJyb3IgbWVzc2FnZScpO1xuICAgIGlmICghZGV0YWlsLm5hbWUpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB2YWxpZGF0b3IgdHlwZScpO1xuICAgIGVyciA9IG5ldyBWYWxpZGF0aW9uRXJyb3IoZGV0YWlsLm1lc3NhZ2UsIHRoaXMuaW5zdGFuY2UsIHRoaXMuc2NoZW1hLCB0aGlzLnBhdGgsIGRldGFpbC5uYW1lLCBkZXRhaWwuYXJndW1lbnQpO1xuICB9XG5cbiAgdGhpcy5lcnJvcnMucHVzaChlcnIpO1xuICBpZiAodGhpcy50aHJvd0ZpcnN0KSB7XG4gICAgdGhyb3cgbmV3IFZhbGlkYXRvclJlc3VsdEVycm9yKHRoaXMpO1xuICB9ZWxzZSBpZih0aGlzLnRocm93RXJyb3Ipe1xuICAgIHRocm93IGVycjtcbiAgfVxuICByZXR1cm4gZXJyO1xufTtcblxuVmFsaWRhdG9yUmVzdWx0LnByb3RvdHlwZS5pbXBvcnRFcnJvcnMgPSBmdW5jdGlvbiBpbXBvcnRFcnJvcnMocmVzKSB7XG4gIGlmICh0eXBlb2YgcmVzID09ICdzdHJpbmcnIHx8IChyZXMgJiYgcmVzLnZhbGlkYXRvclR5cGUpKSB7XG4gICAgdGhpcy5hZGRFcnJvcihyZXMpO1xuICB9IGVsc2UgaWYgKHJlcyAmJiByZXMuZXJyb3JzKSB7XG4gICAgdGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5jb25jYXQocmVzLmVycm9ycyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHN0cmluZ2l6ZXIgKHYsaSl7XG4gIHJldHVybiBpKyc6ICcrdi50b1N0cmluZygpKydcXG4nO1xufVxuVmFsaWRhdG9yUmVzdWx0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKHJlcykge1xuICByZXR1cm4gdGhpcy5lcnJvcnMubWFwKHN0cmluZ2l6ZXIpLmpvaW4oJycpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZhbGlkYXRvclJlc3VsdC5wcm90b3R5cGUsIFwidmFsaWRcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMuZXJyb3JzLmxlbmd0aDtcbn0gfSk7XG5cbm1vZHVsZS5leHBvcnRzLlZhbGlkYXRvclJlc3VsdEVycm9yID0gVmFsaWRhdG9yUmVzdWx0RXJyb3I7XG5mdW5jdGlvbiBWYWxpZGF0b3JSZXN1bHRFcnJvcihyZXN1bHQpIHtcbiAgaWYoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2Upe1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFZhbGlkYXRvclJlc3VsdEVycm9yKTtcbiAgfVxuICB0aGlzLmluc3RhbmNlID0gcmVzdWx0Lmluc3RhbmNlO1xuICB0aGlzLnNjaGVtYSA9IHJlc3VsdC5zY2hlbWE7XG4gIHRoaXMub3B0aW9ucyA9IHJlc3VsdC5vcHRpb25zO1xuICB0aGlzLmVycm9ycyA9IHJlc3VsdC5lcnJvcnM7XG59XG5WYWxpZGF0b3JSZXN1bHRFcnJvci5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblZhbGlkYXRvclJlc3VsdEVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZhbGlkYXRvclJlc3VsdEVycm9yO1xuVmFsaWRhdG9yUmVzdWx0RXJyb3IucHJvdG90eXBlLm5hbWUgPSBcIlZhbGlkYXRpb24gRXJyb3JcIjtcblxuLyoqXG4gKiBEZXNjcmliZXMgYSBwcm9ibGVtIHdpdGggYSBTY2hlbWEgd2hpY2ggcHJldmVudHMgdmFsaWRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICogQG5hbWUgU2NoZW1hRXJyb3JcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgU2NoZW1hRXJyb3IgPSBleHBvcnRzLlNjaGVtYUVycm9yID0gZnVuY3Rpb24gU2NoZW1hRXJyb3IgKG1zZywgc2NoZW1hKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1zZztcbiAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gIEVycm9yLmNhbGwodGhpcywgbXNnKTtcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgU2NoZW1hRXJyb3IpO1xufTtcblNjaGVtYUVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlLFxuICB7XG4gICAgY29uc3RydWN0b3I6IHt2YWx1ZTogU2NoZW1hRXJyb3IsIGVudW1lcmFibGU6IGZhbHNlfSxcbiAgICBuYW1lOiB7dmFsdWU6ICdTY2hlbWFFcnJvcicsIGVudW1lcmFibGU6IGZhbHNlfSxcbiAgfSk7XG5cbnZhciBTY2hlbWFDb250ZXh0ID0gZXhwb3J0cy5TY2hlbWFDb250ZXh0ID0gZnVuY3Rpb24gU2NoZW1hQ29udGV4dCAoc2NoZW1hLCBvcHRpb25zLCBwYXRoLCBiYXNlLCBzY2hlbWFzKSB7XG4gIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICBpZihBcnJheS5pc0FycmF5KHBhdGgpKXtcbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMucHJvcGVydHlQYXRoID0gcGF0aC5yZWR1Y2UoZnVuY3Rpb24oc3VtLCBpdGVtKXtcbiAgICAgIHJldHVybiBzdW0gKyBtYWtlU3VmZml4KGl0ZW0pO1xuICAgIH0sICdpbnN0YW5jZScpO1xuICB9ZWxzZXtcbiAgICB0aGlzLnByb3BlcnR5UGF0aCA9IHBhdGg7XG4gIH1cbiAgdGhpcy5iYXNlID0gYmFzZTtcbiAgdGhpcy5zY2hlbWFzID0gc2NoZW1hcztcbn07XG5cblNjaGVtYUNvbnRleHQucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiByZXNvbHZlICh0YXJnZXQpIHtcbiAgcmV0dXJuIHVyaS5yZXNvbHZlKHRoaXMuYmFzZSwgdGFyZ2V0KTtcbn07XG5cblNjaGVtYUNvbnRleHQucHJvdG90eXBlLm1ha2VDaGlsZCA9IGZ1bmN0aW9uIG1ha2VDaGlsZChzY2hlbWEsIHByb3BlcnR5TmFtZSl7XG4gIHZhciBwYXRoID0gKHByb3BlcnR5TmFtZT09PXVuZGVmaW5lZCkgPyB0aGlzLnBhdGggOiB0aGlzLnBhdGguY29uY2F0KFtwcm9wZXJ0eU5hbWVdKTtcbiAgdmFyIGlkID0gc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG4gIHZhciBiYXNlID0gdXJpLnJlc29sdmUodGhpcy5iYXNlLCBpZHx8JycpO1xuICB2YXIgY3R4ID0gbmV3IFNjaGVtYUNvbnRleHQoc2NoZW1hLCB0aGlzLm9wdGlvbnMsIHBhdGgsIGJhc2UsIE9iamVjdC5jcmVhdGUodGhpcy5zY2hlbWFzKSk7XG4gIGlmKGlkICYmICFjdHguc2NoZW1hc1tiYXNlXSl7XG4gICAgY3R4LnNjaGVtYXNbYmFzZV0gPSBzY2hlbWE7XG4gIH1cbiAgcmV0dXJuIGN0eDtcbn07XG5cbnZhciBGT1JNQVRfUkVHRVhQUyA9IGV4cG9ydHMuRk9STUFUX1JFR0VYUFMgPSB7XG4gIC8vIDcuMy4xLiBEYXRlcywgVGltZXMsIGFuZCBEdXJhdGlvblxuICAnZGF0ZS10aW1lJzogL15cXGR7NH0tKD86MFswLTldezF9fDFbMC0yXXsxfSktKDNbMDFdfDBbMS05XXxbMTJdWzAtOV0pW3RUIF0oMlswLTRdfFswMV1bMC05XSk6KFswLTVdWzAtOV0pOig2MHxbMC01XVswLTldKShcXC5cXGQrKT8oW3paXXxbKy1dKFswLTVdWzAtOV0pOig2MHxbMC01XVswLTldKSkkLyxcbiAgJ2RhdGUnOiAvXlxcZHs0fS0oPzowWzAtOV17MX18MVswLTJdezF9KS0oM1swMV18MFsxLTldfFsxMl1bMC05XSkkLyxcbiAgJ3RpbWUnOiAvXigyWzAtNF18WzAxXVswLTldKTooWzAtNV1bMC05XSk6KDYwfFswLTVdWzAtOV0pJC8sXG4gICdkdXJhdGlvbic6IC9QKFRcXGQrKEgoXFxkK00oXFxkK1MpPyk/fE0oXFxkK1MpP3xTKXxcXGQrKER8TShcXGQrRCk/fFkoXFxkK00oXFxkK0QpPyk/KShUXFxkKyhIKFxcZCtNKFxcZCtTKT8pP3xNKFxcZCtTKT98UykpP3xcXGQrVykvaSxcblxuICAvLyA3LjMuMi4gRW1haWwgQWRkcmVzc2VzXG4gIC8vIFRPRE86IGZpeCB0aGUgZW1haWwgcHJvZHVjdGlvblxuICAnZW1haWwnOiAvXig/OltcXHdcXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC1cXC9cXD1cXD9cXF5cXGBcXHtcXHxcXH1cXH5dK1xcLikqW1xcd1xcIVxcI1xcJFxcJVxcJlxcJ1xcKlxcK1xcLVxcL1xcPVxcP1xcXlxcYFxce1xcfFxcfVxcfl0rQCg/Oig/Oig/OlthLXpBLVowLTldKD86W2EtekEtWjAtOVxcLV0oPyFcXC4pKXswLDYxfVthLXpBLVowLTldP1xcLikrW2EtekEtWjAtOV0oPzpbYS16QS1aMC05XFwtXSg/ISQpKXswLDYxfVthLXpBLVowLTldPyl8KD86XFxbKD86KD86WzAxXT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSlcXC4pezN9KD86WzAxXT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSlcXF0pKSQvLFxuICAnaWRuLWVtYWlsJzogL14oXCIoPzpbISMtXFxbXFxdLVxcdXsxMEZGRkZ9XXxcXFxcW1xcdCAtXFx1ezEwRkZGRn1dKSpcInxbISMtJyorXFwtLy05PT9BLVpcXF4tXFx1ezEwRkZGRn1dKD86XFwuP1shIy0nKitcXC0vLTk9P0EtWlxcXi1cXHV7MTBGRkZGfV0pKilAKFshIy0nKitcXC0vLTk9P0EtWlxcXi1cXHV7MTBGRkZGfV0oPzpcXC4/WyEjLScqK1xcLS8tOT0/QS1aXFxeLVxcdXsxMEZGRkZ9XSkqfFxcW1shLVpcXF4tXFx1ezEwRkZGRn1dKlxcXSkkL3UsXG5cbiAgLy8gNy4zLjMuIEhvc3RuYW1lc1xuXG4gIC8vIDcuMy40LiBJUCBBZGRyZXNzZXNcbiAgJ2lwLWFkZHJlc3MnOiAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KSQvLFxuICAvLyBGSVhNRSB3aGl0ZXNwYWNlIGlzIGludmFsaWRcbiAgJ2lwdjYnOiAvXlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC8sXG5cbiAgLy8gNy4zLjUuIFJlc291cmNlIElkZW50aWZpZXJzXG4gIC8vIFRPRE86IEEgbW9yZSBhY2N1cmF0ZSByZWd1bGFyIGV4cHJlc3Npb24gZm9yIFwidXJpXCIgZ29lczpcbiAgLy8gW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjooKC8oLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopPyk/KT8jKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8KC8oLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopP1svP118WyEkJi0uMC07PT8tWl9hLXp+XSl8Lz8lWzAtOUEtRmEtZl17Mn18WyEkJi0uMC07PT8tWl9hLXp+XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKigjKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSopP3wvKC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrKDpcXGQqKT98KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPzpcXGQqfFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPyk/KT9cbiAgJ3VyaSc6IC9eW2EtekEtWl1bYS16QS1aMC05Ky4tXSo6W15cXHNdKiQvLFxuICAndXJpLXJlZmVyZW5jZSc6IC9eKCgoKFtBLVphLXpdWytcXC0uMC05QS1aYS16XSooOiVbMC05QS1GYS1mXXsyfXw6WyEkJi0uMC07PT8tWl9hLXp+XXxbLz9dKXxcXD8pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6Pyk/KXwoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjopP1xcLygoJVswLTlBLUZhLWZdezJ9fFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopP1svP118WyEkJi0uMC07PT8tWl9hLXp+XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKnwoXFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fl0pK3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KSg6XFxkKik/KT8pKSMoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKnwoKFtBLVphLXpdWytcXC0uMC05QS1aYS16XSopPyVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUBffl18W0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKlshJCYtKiw7PUBffl0pKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUAtWl9hLXp+XSkqKCgoWy8/XSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqKT8jfFsvP10pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSopP3woW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKig6JVswLTlBLUZhLWZdezJ9fDpbISQmLS4wLTs9Py1aX2Eten5dfFsvP10pfFxcPykoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKnwoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjopP1xcLygoJVswLTlBLUZhLWZdezJ9fFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopP1svP118WyEkJi0uMC07PT8tWl9hLXp+XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKnxcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrKDpcXGQqKT98KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPzpcXGQqfFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPyk/fFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6Pyk/JC8sXG4gICdpcmknOiAvXlthLXpBLVpdW2EtekEtWjAtOSsuLV0qOlteXFxzXSokLyxcbiAgJ2lyaS1yZWZlcmVuY2UnOiAvXigoKChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qKDolWzAtOUEtRmEtZl17Mn18OlshJCYtLjAtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV18Wy8/XSl8XFw/KSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqfChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOj8pPyl8KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6KT9cXC8oKCVbMC05QS1GYS1mXXsyfXxcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT9bLz9dfFshJCYtLjAtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSp8KFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fi1cXHV7MTBGRkZGfV0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopPyk/KSkjKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSp8KChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qKT8lWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1AX34tXFx1ezEwRkZGRn1dfFtBLVphLXpdWytcXC0uMC05QS1aYS16XSpbISQmLSosOz1AX34tXFx1ezEwRkZGRn1dKSglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1ALVpfYS16fi1cXHV7MTBGRkZGfV0pKigoKFsvP10oJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKik/I3xbLz9dKSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqKT98KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSooOiVbMC05QS1GYS1mXXsyfXw6WyEkJi0uMC07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XXxbLz9dKXxcXD8pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSp8KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6KT9cXC8oKCVbMC05QS1GYS1mXXsyfXxcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT9bLz9dfFshJCYtLjAtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSp8XFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fi1cXHV7MTBGRkZGfV0pKyg6XFxkKik/fChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKyk/fFsuMC06QS1GYS1mXSspXFxdKT86XFxkKnxcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pP3xbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOj8pPyQvdSxcbiAgJ3V1aWQnOiAvXlswLTlBLUZdezh9LVswLTlBLUZdezR9LVswLTlBLUZdezR9LVswLTlBLUZdezR9LVswLTlBLUZdezEyfSQvaSxcblxuICAvLyA3LjMuNi4gdXJpLXRlbXBsYXRlXG4gICd1cmktdGVtcGxhdGUnOiAvKCVbMC05YS1mXXsyfXxbISMkJigtOz0/QFxcW1xcXV9hLXp+XXxcXHtbISMmKywuLzs9P0B8XT8oJVswLTlhLWZdezJ9fFswLTlfYS16XSkoXFwuPyglWzAtOWEtZl17Mn18WzAtOV9hLXpdKSkqKDpbMS05XVxcZHswLDN9fFxcKik/KCwoJVswLTlhLWZdezJ9fFswLTlfYS16XSkoXFwuPyglWzAtOWEtZl17Mn18WzAtOV9hLXpdKSkqKDpbMS05XVxcZHswLDN9fFxcKik/KSpcXH0pKi9pdSxcblxuICAvLyA3LjMuNy4gSlNPTiBQb2ludGVyc1xuICAnanNvbi1wb2ludGVyJzogL14oXFwvKFtcXHgwMC1cXHgyZTAtQFxcWy19XFx4N2ZdfH5bMDFdKSopKiQvaXUsXG4gICdyZWxhdGl2ZS1qc29uLXBvaW50ZXInOiAvXlxcZCsoI3woXFwvKFtcXHgwMC1cXHgyZTAtQFxcWy19XFx4N2ZdfH5bMDFdKSopKikkL2l1LFxuXG4gIC8vIGhvc3RuYW1lIHJlZ2V4IGZyb206IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE0MjAyMjUvNTYyOFxuICAnaG9zdG5hbWUnOiAvXig/PS57MSwyNTV9JClbMC05QS1aYS16XSg/Oig/OlswLTlBLVphLXpdfC0pezAsNjF9WzAtOUEtWmEtel0pPyg/OlxcLlswLTlBLVphLXpdKD86KD86WzAtOUEtWmEtel18LSl7MCw2MX1bMC05QS1aYS16XSk/KSpcXC4/JC8sXG4gICdob3N0LW5hbWUnOiAvXig/PS57MSwyNTV9JClbMC05QS1aYS16XSg/Oig/OlswLTlBLVphLXpdfC0pezAsNjF9WzAtOUEtWmEtel0pPyg/OlxcLlswLTlBLVphLXpdKD86KD86WzAtOUEtWmEtel18LSl7MCw2MX1bMC05QS1aYS16XSk/KSpcXC4/JC8sXG5cbiAgJ3V0Yy1taWxsaXNlYyc6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHJldHVybiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykgJiYgcGFyc2VGbG9hdChpbnB1dCkgPT09IHBhcnNlSW50KGlucHV0LCAxMCkgJiYgIWlzTmFOKGlucHV0KTtcbiAgfSxcblxuICAvLyA3LjMuOC4gcmVnZXhcbiAgJ3JlZ2V4JzogZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIG5ldyBSZWdFeHAoaW5wdXQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG4gIC8vIE90aGVyIGRlZmluaXRpb25zXG4gIC8vIFwic3R5bGVcIiB3YXMgcmVtb3ZlZCBmcm9tIEpTT04gU2NoZW1hIGluIGRyYWZ0LTQgYW5kIGlzIGRlcHJlY2F0ZWRcbiAgJ3N0eWxlJzogL1tcXHJcXG5cXHQgXSpbXlxcclxcblxcdCBdW146XSo6W1xcclxcblxcdCBdKlteXFxyXFxuXFx0IDtdKltcXHJcXG5cXHQgXSo7Py8sXG4gIC8vIFwiY29sb3JcIiB3YXMgcmVtb3ZlZCBmcm9tIEpTT04gU2NoZW1hIGluIGRyYWZ0LTQgYW5kIGlzIGRlcHJlY2F0ZWRcbiAgJ2NvbG9yJzogL14oIz8oWzAtOUEtRmEtZl17M30pezEsMn1cXGJ8YXF1YXxibGFja3xibHVlfGZ1Y2hzaWF8Z3JheXxncmVlbnxsaW1lfG1hcm9vbnxuYXZ5fG9saXZlfG9yYW5nZXxwdXJwbGV8cmVkfHNpbHZlcnx0ZWFsfHdoaXRlfHllbGxvd3wocmdiXFwoXFxzKlxcYihbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pXFxiXFxzKixcXHMqXFxiKFswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSlcXGJcXHMqLFxccypcXGIoWzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKVxcYlxccypcXCkpfChyZ2JcXChcXHMqKFxcZD9cXGQlfDEwMCUpK1xccyosXFxzKihcXGQ/XFxkJXwxMDAlKStcXHMqLFxccyooXFxkP1xcZCV8MTAwJSkrXFxzKlxcKSkpJC8sXG4gICdwaG9uZSc6IC9eXFwrKD86WzAtOV0gPyl7NiwxNH1bMC05XSQvLFxuICAnYWxwaGEnOiAvXlthLXpBLVpdKyQvLFxuICAnYWxwaGFudW1lcmljJzogL15bYS16QS1aMC05XSskLyxcbn07XG5cbkZPUk1BVF9SRUdFWFBTLnJlZ2V4cCA9IEZPUk1BVF9SRUdFWFBTLnJlZ2V4O1xuRk9STUFUX1JFR0VYUFMucGF0dGVybiA9IEZPUk1BVF9SRUdFWFBTLnJlZ2V4O1xuRk9STUFUX1JFR0VYUFMuaXB2NCA9IEZPUk1BVF9SRUdFWFBTWydpcC1hZGRyZXNzJ107XG5cbmV4cG9ydHMuaXNGb3JtYXQgPSBmdW5jdGlvbiBpc0Zvcm1hdCAoaW5wdXQsIGZvcm1hdCwgdmFsaWRhdG9yKSB7XG4gIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnICYmIEZPUk1BVF9SRUdFWFBTW2Zvcm1hdF0gIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChGT1JNQVRfUkVHRVhQU1tmb3JtYXRdIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICByZXR1cm4gRk9STUFUX1JFR0VYUFNbZm9ybWF0XS50ZXN0KGlucHV0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBGT1JNQVRfUkVHRVhQU1tmb3JtYXRdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gRk9STUFUX1JFR0VYUFNbZm9ybWF0XShpbnB1dCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHZhbGlkYXRvciAmJiB2YWxpZGF0b3IuY3VzdG9tRm9ybWF0cyAmJlxuICAgICAgdHlwZW9mIHZhbGlkYXRvci5jdXN0b21Gb3JtYXRzW2Zvcm1hdF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdmFsaWRhdG9yLmN1c3RvbUZvcm1hdHNbZm9ybWF0XShpbnB1dCk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgbWFrZVN1ZmZpeCA9IGV4cG9ydHMubWFrZVN1ZmZpeCA9IGZ1bmN0aW9uIG1ha2VTdWZmaXggKGtleSkge1xuICBrZXkgPSBrZXkudG9TdHJpbmcoKTtcbiAgLy8gVGhpcyBmdW5jdGlvbiBjb3VsZCBiZSBjYXBhYmxlIG9mIG91dHB1dHRpbmcgdmFsaWQgYSBFQ01BU2NyaXB0IHN0cmluZywgYnV0IHRoZVxuICAvLyByZXN1bHRpbmcgY29kZSBmb3IgdGVzdGluZyB3aGljaCBmb3JtIHRvIHVzZSB3b3VsZCBiZSB0ZW5zIG9mIHRob3VzYW5kcyBvZiBjaGFyYWN0ZXJzIGxvbmdcbiAgLy8gVGhhdCBtZWFucyB0aGlzIHdpbGwgdXNlIHRoZSBuYW1lIGZvcm0gZm9yIHNvbWUgaWxsZWdhbCBmb3Jtc1xuICBpZiAoIWtleS5tYXRjaCgvWy5cXHNcXFtcXF1dLykgJiYgIWtleS5tYXRjaCgvXltcXGRdLykpIHtcbiAgICByZXR1cm4gJy4nICsga2V5O1xuICB9XG4gIGlmIChrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgcmV0dXJuICdbJyArIGtleSArICddJztcbiAgfVxuICByZXR1cm4gJ1snICsgSlNPTi5zdHJpbmdpZnkoa2V5KSArICddJztcbn07XG5cbmV4cG9ydHMuZGVlcENvbXBhcmVTdHJpY3QgPSBmdW5jdGlvbiBkZWVwQ29tcGFyZVN0cmljdCAoYSwgYikge1xuICBpZiAodHlwZW9mIGEgIT09IHR5cGVvZiBiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGEuZXZlcnkoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZVN0cmljdChhW2ldLCBiW2ldKTtcbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKCFhIHx8ICFiKSB7XG4gICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICB9XG4gICAgdmFyIGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgdmFyIGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG4gICAgaWYgKGFLZXlzLmxlbmd0aCAhPT0gYktleXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhS2V5cy5ldmVyeShmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIGRlZXBDb21wYXJlU3RyaWN0KGFbdl0sIGJbdl0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBhID09PSBiO1xufTtcblxuZnVuY3Rpb24gZGVlcE1lcmdlciAodGFyZ2V0LCBkc3QsIGUsIGkpIHtcbiAgaWYgKHR5cGVvZiBlID09PSAnb2JqZWN0Jykge1xuICAgIGRzdFtpXSA9IGRlZXBNZXJnZSh0YXJnZXRbaV0sIGUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0YXJnZXQuaW5kZXhPZihlKSA9PT0gLTEpIHtcbiAgICAgIGRzdC5wdXNoKGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5aXN0IChzcmMsIGRzdCwga2V5KSB7XG4gIGRzdFtrZXldID0gc3JjW2tleV07XG59XG5cbmZ1bmN0aW9uIGNvcHlpc3RXaXRoRGVlcE1lcmdlICh0YXJnZXQsIHNyYywgZHN0LCBrZXkpIHtcbiAgaWYgKHR5cGVvZiBzcmNba2V5XSAhPT0gJ29iamVjdCcgfHwgIXNyY1trZXldKSB7XG4gICAgZHN0W2tleV0gPSBzcmNba2V5XTtcbiAgfVxuICBlbHNlIHtcbiAgICBpZiAoIXRhcmdldFtrZXldKSB7XG4gICAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICBkc3Rba2V5XSA9IGRlZXBNZXJnZSh0YXJnZXRba2V5XSwgc3JjW2tleV0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkZWVwTWVyZ2UgKHRhcmdldCwgc3JjKSB7XG4gIHZhciBhcnJheSA9IEFycmF5LmlzQXJyYXkoc3JjKTtcbiAgdmFyIGRzdCA9IGFycmF5ICYmIFtdIHx8IHt9O1xuXG4gIGlmIChhcnJheSkge1xuICAgIHRhcmdldCA9IHRhcmdldCB8fCBbXTtcbiAgICBkc3QgPSBkc3QuY29uY2F0KHRhcmdldCk7XG4gICAgc3JjLmZvckVhY2goZGVlcE1lcmdlci5iaW5kKG51bGwsIHRhcmdldCwgZHN0KSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRhcmdldCAmJiB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgT2JqZWN0LmtleXModGFyZ2V0KS5mb3JFYWNoKGNvcHlpc3QuYmluZChudWxsLCB0YXJnZXQsIGRzdCkpO1xuICAgIH1cbiAgICBPYmplY3Qua2V5cyhzcmMpLmZvckVhY2goY29weWlzdFdpdGhEZWVwTWVyZ2UuYmluZChudWxsLCB0YXJnZXQsIHNyYywgZHN0KSk7XG4gIH1cblxuICByZXR1cm4gZHN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cy5kZWVwTWVyZ2UgPSBkZWVwTWVyZ2U7XG5cbi8qKlxuICogVmFsaWRhdGVzIGluc3RhbmNlIGFnYWluc3QgdGhlIHByb3ZpZGVkIHNjaGVtYVxuICogSW1wbGVtZW50cyBVUkkrSlNPTiBQb2ludGVyIGVuY29kaW5nLCBlLmcuIFwiJTdlXCI9XCJ+MFwiPT5cIn5cIiwgXCJ+MVwiPVwiJTJmXCI9PlwiL1wiXG4gKiBAcGFyYW0gb1xuICogQHBhcmFtIHMgVGhlIHBhdGggdG8gd2FsayBvIGFsb25nXG4gKiBAcmV0dXJuIGFueVxuICovXG5leHBvcnRzLm9iamVjdEdldFBhdGggPSBmdW5jdGlvbiBvYmplY3RHZXRQYXRoKG8sIHMpIHtcbiAgdmFyIHBhcnRzID0gcy5zcGxpdCgnLycpLnNsaWNlKDEpO1xuICB2YXIgaztcbiAgd2hpbGUgKHR5cGVvZiAoaz1wYXJ0cy5zaGlmdCgpKSA9PSAnc3RyaW5nJykge1xuICAgIHZhciBuID0gZGVjb2RlVVJJQ29tcG9uZW50KGsucmVwbGFjZSgvfjAvLCd+JykucmVwbGFjZSgvfjEvZywnLycpKTtcbiAgICBpZiAoIShuIGluIG8pKSByZXR1cm47XG4gICAgbyA9IG9bbl07XG4gIH1cbiAgcmV0dXJuIG87XG59O1xuXG5mdW5jdGlvbiBwYXRoRW5jb2RlciAodikge1xuICByZXR1cm4gJy8nK2VuY29kZVVSSUNvbXBvbmVudCh2KS5yZXBsYWNlKC9+L2csJyU3RScpO1xufVxuLyoqXG4gKiBBY2NlcHQgYW4gQXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHJldHVybiBhIEpTT04gUG9pbnRlciBVUkkgZnJhZ21lbnRcbiAqIEBwYXJhbSBBcnJheSBhXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmV4cG9ydHMuZW5jb2RlUGF0aCA9IGZ1bmN0aW9uIGVuY29kZVBvaW50ZXIoYSl7XG4gIC8vIH4gbXVzdCBiZSBlbmNvZGVkIGV4cGxpY2l0bHkgYmVjYXVzZSBoYWNrc1xuICAvLyB0aGUgc2xhc2ggaXMgZW5jb2RlZCBieSBlbmNvZGVVUklDb21wb25lbnRcbiAgcmV0dXJuIGEubWFwKHBhdGhFbmNvZGVyKS5qb2luKCcnKTtcbn07XG5cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBhIG51bWJlciB1c2VzXG4gKiBXZSBuZWVkIHRoaXMgdG8gZ2V0IGNvcnJlY3QgcmVzdWx0cyBvdXQgb2YgbXVsdGlwbGVPZiBhbmQgZGl2aXNpYmxlQnlcbiAqIHdoZW4gZWl0aGVyIGZpZ3VyZSBpcyBoYXMgZGVjaW1hbCBwbGFjZXMsIGR1ZSB0byBJRUVFLTc1NCBmbG9hdCBpc3N1ZXMuXG4gKiBAcGFyYW0gbnVtYmVyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnRzLmdldERlY2ltYWxQbGFjZXMgPSBmdW5jdGlvbiBnZXREZWNpbWFsUGxhY2VzKG51bWJlcikge1xuXG4gIHZhciBkZWNpbWFsUGxhY2VzID0gMDtcbiAgaWYgKGlzTmFOKG51bWJlcikpIHJldHVybiBkZWNpbWFsUGxhY2VzO1xuXG4gIGlmICh0eXBlb2YgbnVtYmVyICE9PSAnbnVtYmVyJykge1xuICAgIG51bWJlciA9IE51bWJlcihudW1iZXIpO1xuICB9XG5cbiAgdmFyIHBhcnRzID0gbnVtYmVyLnRvU3RyaW5nKCkuc3BsaXQoJ2UnKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgIGlmIChwYXJ0c1sxXVswXSAhPT0gJy0nKSB7XG4gICAgICByZXR1cm4gZGVjaW1hbFBsYWNlcztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVjaW1hbFBsYWNlcyA9IE51bWJlcihwYXJ0c1sxXS5zbGljZSgxKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGRlY2ltYWxQYXJ0cyA9IHBhcnRzWzBdLnNwbGl0KCcuJyk7XG4gIGlmIChkZWNpbWFsUGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgZGVjaW1hbFBsYWNlcyArPSBkZWNpbWFsUGFydHNbMV0ubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIGRlY2ltYWxQbGFjZXM7XG59O1xuXG5leHBvcnRzLmlzU2NoZW1hID0gZnVuY3Rpb24gaXNTY2hlbWEodmFsKXtcbiAgcmV0dXJuICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwpIHx8ICh0eXBlb2YgdmFsID09PSAnYm9vbGVhbicpO1xufTtcblxuIiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG52YXIgZ2V0UmFuZG9tVmFsdWVzO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uIEFsc28sXG4gICAgLy8gZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIChtc0NyeXB0bykgb24gSUUxMS5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pIHx8IHR5cGVvZiBtc0NyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7XG5cbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTdHJpbmdpZnkvcGFyc2UgZnVuY3Rpb25zIHRoYXQgZG9uJ3Qgb3BlcmF0ZVxuICogcmVjdXJzaXZlbHksIHNvIHRoZXkgYXZvaWQgY2FsbCBzdGFjayBleGNlZWRlZFxuICogZXJyb3JzLlxuICovXG5leHBvcnRzLnN0cmluZ2lmeSA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpbnB1dCkge1xuICB2YXIgcXVldWUgPSBbXTtcbiAgcXVldWUucHVzaCh7b2JqOiBpbnB1dH0pO1xuXG4gIHZhciByZXMgPSAnJztcbiAgdmFyIG5leHQsIG9iaiwgcHJlZml4LCB2YWwsIGksIGFycmF5UHJlZml4LCBrZXlzLCBrLCBrZXksIHZhbHVlLCBvYmpQcmVmaXg7XG4gIHdoaWxlICgobmV4dCA9IHF1ZXVlLnBvcCgpKSkge1xuICAgIG9iaiA9IG5leHQub2JqO1xuICAgIHByZWZpeCA9IG5leHQucHJlZml4IHx8ICcnO1xuICAgIHZhbCA9IG5leHQudmFsIHx8ICcnO1xuICAgIHJlcyArPSBwcmVmaXg7XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmVzICs9IHZhbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICByZXMgKz0gdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgcmVzICs9ICdudWxsJztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgcXVldWUucHVzaCh7dmFsOiAnXSd9KTtcbiAgICAgIGZvciAoaSA9IG9iai5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBhcnJheVByZWZpeCA9IGkgPT09IDAgPyAnJyA6ICcsJztcbiAgICAgICAgcXVldWUucHVzaCh7b2JqOiBvYmpbaV0sIHByZWZpeDogYXJyYXlQcmVmaXh9KTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ1snfSk7XG4gICAgfSBlbHNlIHsgLy8gb2JqZWN0XG4gICAgICBrZXlzID0gW107XG4gICAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICBrZXlzLnB1c2goayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ30nfSk7XG4gICAgICBmb3IgKGkgPSBrZXlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgIHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgIG9ialByZWZpeCA9IChpID4gMCA/ICcsJyA6ICcnKTtcbiAgICAgICAgb2JqUHJlZml4ICs9IEpTT04uc3RyaW5naWZ5KGtleSkgKyAnOic7XG4gICAgICAgIHF1ZXVlLnB1c2goe29iajogdmFsdWUsIHByZWZpeDogb2JqUHJlZml4fSk7XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICd7J30pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblxuLy8gQ29udmVuaWVuY2UgZnVuY3Rpb24gZm9yIHRoZSBwYXJzZSBmdW5jdGlvbi5cbi8vIFRoaXMgcG9wIGZ1bmN0aW9uIGlzIGJhc2ljYWxseSBjb3BpZWQgZnJvbVxuLy8gcG91Y2hDb2xsYXRlLnBhcnNlSW5kZXhhYmxlU3RyaW5nXG5mdW5jdGlvbiBwb3Aob2JqLCBzdGFjaywgbWV0YVN0YWNrKSB7XG4gIHZhciBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICBpZiAob2JqID09PSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudCkge1xuICAgIC8vIHBvcHBpbmcgYSBtZXRhLWVsZW1lbnQsIGUuZy4gYW4gb2JqZWN0IHdob3NlIHZhbHVlIGlzIGFub3RoZXIgb2JqZWN0XG4gICAgbWV0YVN0YWNrLnBvcCgpO1xuICAgIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gIH1cbiAgdmFyIGVsZW1lbnQgPSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudDtcbiAgdmFyIGxhc3RFbGVtZW50SW5kZXggPSBsYXN0TWV0YUVsZW1lbnQuaW5kZXg7XG4gIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgZWxlbWVudC5wdXNoKG9iaik7XG4gIH0gZWxzZSBpZiAobGFzdEVsZW1lbnRJbmRleCA9PT0gc3RhY2subGVuZ3RoIC0gMikgeyAvLyBvYmogd2l0aCBrZXkrdmFsdWVcbiAgICB2YXIga2V5ID0gc3RhY2sucG9wKCk7XG4gICAgZWxlbWVudFtrZXldID0gb2JqO1xuICB9IGVsc2Uge1xuICAgIHN0YWNrLnB1c2gob2JqKTsgLy8gb2JqIHdpdGgga2V5IG9ubHlcbiAgfVxufVxuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgc3RhY2sgPSBbXTtcbiAgdmFyIG1ldGFTdGFjayA9IFtdOyAvLyBzdGFjayBmb3IgYXJyYXlzIGFuZCBvYmplY3RzXG4gIHZhciBpID0gMDtcbiAgdmFyIGNvbGxhdGlvbkluZGV4LHBhcnNlZE51bSxudW1DaGFyO1xuICB2YXIgcGFyc2VkU3RyaW5nLGxhc3RDaCxudW1Db25zZWN1dGl2ZVNsYXNoZXMsY2g7XG4gIHZhciBhcnJheUVsZW1lbnQsIG9iakVsZW1lbnQ7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29sbGF0aW9uSW5kZXggPSBzdHJbaSsrXTtcbiAgICBpZiAoY29sbGF0aW9uSW5kZXggPT09ICd9JyB8fFxuICAgICAgICBjb2xsYXRpb25JbmRleCA9PT0gJ10nIHx8XG4gICAgICAgIHR5cGVvZiBjb2xsYXRpb25JbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9wKHN0YWNrLnBvcCgpLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoY29sbGF0aW9uSW5kZXgpIHtcbiAgICAgIGNhc2UgJyAnOlxuICAgICAgY2FzZSAnXFx0JzpcbiAgICAgIGNhc2UgJ1xcbic6XG4gICAgICBjYXNlICc6JzpcbiAgICAgIGNhc2UgJywnOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ24nOlxuICAgICAgICBpICs9IDM7IC8vICd1bGwnXG4gICAgICAgIHBvcChudWxsLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0JzpcbiAgICAgICAgaSArPSAzOyAvLyAncnVlJ1xuICAgICAgICBwb3AodHJ1ZSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZic6XG4gICAgICAgIGkgKz0gNDsgLy8gJ2Fsc2UnXG4gICAgICAgIHBvcChmYWxzZSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMCc6XG4gICAgICBjYXNlICcxJzpcbiAgICAgIGNhc2UgJzInOlxuICAgICAgY2FzZSAnMyc6XG4gICAgICBjYXNlICc0JzpcbiAgICAgIGNhc2UgJzUnOlxuICAgICAgY2FzZSAnNic6XG4gICAgICBjYXNlICc3JzpcbiAgICAgIGNhc2UgJzgnOlxuICAgICAgY2FzZSAnOSc6XG4gICAgICBjYXNlICctJzpcbiAgICAgICAgcGFyc2VkTnVtID0gJyc7XG4gICAgICAgIGktLTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBudW1DaGFyID0gc3RyW2krK107XG4gICAgICAgICAgaWYgKC9bXFxkXFwuXFwtZVxcK10vLnRlc3QobnVtQ2hhcikpIHtcbiAgICAgICAgICAgIHBhcnNlZE51bSArPSBudW1DaGFyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcG9wKHBhcnNlRmxvYXQocGFyc2VkTnVtKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnXCInOlxuICAgICAgICBwYXJzZWRTdHJpbmcgPSAnJztcbiAgICAgICAgbGFzdENoID0gdm9pZCAwO1xuICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMgPSAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGNoID0gc3RyW2krK107XG4gICAgICAgICAgaWYgKGNoICE9PSAnXCInIHx8IChsYXN0Q2ggPT09ICdcXFxcJyAmJlxuICAgICAgICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMgJSAyID09PSAxKSkge1xuICAgICAgICAgICAgcGFyc2VkU3RyaW5nICs9IGNoO1xuICAgICAgICAgICAgbGFzdENoID0gY2g7XG4gICAgICAgICAgICBpZiAobGFzdENoID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcG9wKEpTT04ucGFyc2UoJ1wiJyArIHBhcnNlZFN0cmluZyArICdcIicpLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdbJzpcbiAgICAgICAgYXJyYXlFbGVtZW50ID0geyBlbGVtZW50OiBbXSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKGFycmF5RWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2goYXJyYXlFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd7JzpcbiAgICAgICAgb2JqRWxlbWVudCA9IHsgZWxlbWVudDoge30sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChvYmpFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChvYmpFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ3VuZXhwZWN0ZWRseSByZWFjaGVkIGVuZCBvZiBpbnB1dDogJyArIGNvbGxhdGlvbkluZGV4KTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gc3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRHJhZ0FjdGlvbiwgRWRpdG9yQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQkJveCwgaXNPdXRPZlNWR0JvdW5kcywgZ2V0R2x5cGhCQm94IH0gZnJvbSAnLi9Db29yZGluYXRlcyc7XG5pbXBvcnQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4vTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IHNlbGVjdEFsbCwgc2VsZWN0QkJveCwgc2VsZWN0U3RhZmYgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuY2xhc3MgRHJhZ0hhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHByaXZhdGUgc2VsZWN0b3I6IHN0cmluZztcbiAgcHJpdmF0ZSBzZWxlY3Rpb246IFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICBwcml2YXRlIG5vTW92ZVByZWNlZGVzOiBTVkdHcmFwaGljc0VsZW1lbnRbXTtcblxuICBwcml2YXRlIGRyYWdTdGFydENvb3JkczogW251bWJlciwgbnVtYmVyXSA9IFstMSwgLTFdO1xuICBwcml2YXRlIHJlc2V0VG9BY3Rpb246IChzZWxlY3Rpb246IGQzLlNlbGVjdGlvbjxkMy5CYXNlVHlwZSwgdW5rbm93biwgSFRNTEVsZW1lbnQsIHVua25vd24+LCBhcmdzOiB1bmtub3duW10pID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSBkeDogbnVtYmVyO1xuICBwcml2YXRlIGR5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIENTUyBzZWxlY3RvciBvZiBlbGVtZW50IHRvIGFwcGx5IGRyYWcgaGFuZGxlciB0by5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIHNlbGVjdG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGRyYWdnaW5nIGFjdGlvbiBhbmQgaGFuZGxlciBmb3Igc2VsZWN0ZWQgZWxlbWVudHMuXG4gICAqL1xuICBkcmFnSW5pdCAoKTogdm9pZCB7XG4gICAgLy8gRHJhZyBlZmZlY3RzXG4gICAgZnVuY3Rpb24gZHJhZ1N0YXJ0ZWQgKCk6IHZvaWQge1xuICAgICAgdGhpcy5kcmFnU3RhcnRDb29yZHMgPSBbZDMuZXZlbnQueCwgZDMuZXZlbnQueV07XG4gICAgICB0aGlzLmR4ID0gMDtcbiAgICAgIHRoaXMuZHkgPSAwO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMuc2VsZWN0b3IpLmNhbGwoZHJhZ0JlaGF2aW91cik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkaW5nIGxpc3RlbmVyc1xuICAgIGNvbnN0IGRyYWdCZWhhdmlvdXIgPSBkMy5kcmFnKClcbiAgICAgIC5vbignc3RhcnQnLCBkcmFnU3RhcnRlZC5iaW5kKHRoaXMpKVxuICAgICAgLm9uKCdkcmFnJywgdGhpcy5kcmFnZ2luZy5iaW5kKHRoaXMpKVxuICAgICAgLm9uKCdlbmQnLCB0aGlzLmRyYWdFbmRlZC5iaW5kKHRoaXMpKTtcblxuICAgIGNvbnN0IGFjdGl2ZU5jID0gZDMuc2VsZWN0QWxsKCcuc2VsZWN0ZWQnKTtcbiAgICBhY3RpdmVOYy5jYWxsKGRyYWdCZWhhdmlvdXIpO1xuXG4gICAgbGV0IHNlbGVjdGlvbiA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxTVkdHcmFwaGljc0VsZW1lbnQ+KCcuc2VsZWN0ZWQnKSk7XG5cbiAgICAvLyBpZiB0aGUgdXNlciBkcmFncyB0aGUgZm9sbG93cyBzeWxsYWJsZSBpbiBhIHRvZ2dsZS1saW5rZWQgc3lsbGFibGUsIFxuICAgIC8vIGNhbmNlbCB0aGUgY29tcGVuc2F0aW9uIGZvciBzeWwgbW92ZW1lbnQgaW4gZHJhZ2dpbmcuXG4gICAgdGhpcy5ub01vdmVQcmVjZWRlcyA9IHNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW1vdmluZycpICYmIGVsLmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpO1xuICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5maWx0ZXIoZWwgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygnbm8tbW92aW5nJykpO1xuXG4gICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb24uY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxTVkdHcmFwaGljc0VsZW1lbnQ+KCcucmVzaXplUG9pbnQnKSkpO1xuICB9XG5cbiAgZHJhZ2dpbmcgKCk6IHZvaWQge1xuICAgIHRoaXMuZHggPSBkMy5ldmVudC54IC0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMF07XG4gICAgdGhpcy5keSA9IGQzLmV2ZW50LnkgLSB0aGlzLmRyYWdTdGFydENvb3Jkc1sxXTtcblxuICAgIHRoaXMubW92ZUVsZW1lbnRzKHRoaXMuc2VsZWN0aW9uLCB0aGlzLmR4LCB0aGlzLmR5KTtcblxuICAgIC8qXG4gICAgICogaWYgd2UncmUgZHJhZ2dpbmcgYSBzeWxsYWJsZSAob3IgbmV1bWUgZXRjKSB0aGVuIHRoZXJlIHdvbid0IGJlIGEgc3lsIHNlbGVjdGVkXG4gICAgICogdGhlbiB3ZSBkb24ndCB3YW50IHRoZSBib3VuZGluZyBib3ggKGlmIGl0IGlzIGRpc3BsYXllZCkgdG8gbW92ZSB3aGVuIGRyYWdnaW5nIHRoZSBuZXVtZXNcbiAgICAgKiBpdCB3aWxsIGJlIGEgY2hpbGQgb2YgdGhlIGVsZW1lbnQgaW4gc2VsZWN0aW9uLCBzbyBpdCB3aWxsIGdldCBtb3ZlZCBpbiB0aGUgYWJvdmUgbG9vcFxuICAgICAqIHNvIHdlIGNhbmNlbCB0aGF0IG1vdmVtZW50IG91dCBoZXJlXG4gICAgICovXG4gICAgY29uc3Qgc3lscyA9IHRoaXMuc2VsZWN0aW9uLmZpbHRlcigoZWwpID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpO1xuICAgIGlmIChzeWxzLmxlbmd0aCA9PT0gMCAmJiB0aGlzLm5vTW92ZVByZWNlZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgYmJveGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUuc2VsZWN0ZWQnKSlcbiAgICAgICAgLm1hcChlbCA9PiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpKTtcbiAgICAgIHRoaXMubW92ZUVsZW1lbnRzKGJib3hlcywgLXRoaXMuZHgsIC10aGlzLmR5KTtcbiAgICB9XG4gIH1cblxuXG4gIGRyYWdFbmRlZCAoKTogdm9pZCB7XG4gICAgLy8gSWYgdGhlIHNlbGVjdGlvbiBoYXMgbm90IGJlZW4gbW92ZWQgbW9yZSB0aGFuIDUgcGl4ZWxzIGluIGFueSBkaXJlY3Rpb24sXG4gICAgLy8gZG8gbm90IGRvIGFueSBhY3Rpb25cbiAgICBjb25zdCB4RGlmZiA9IE1hdGguYWJzKHRoaXMuZHgpLCB5RGlmZiA9IE1hdGguYWJzKHRoaXMuZHkpO1xuICAgIGlmICh4RGlmZiA8PSA1ICYmIHlEaWZmIDw9IDUpIHtcbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXIgc2VsZWN0aW9uIGZvciBkcmFnZ2FibGUgZWxlbWVudHNcbiAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNpemVQb2ludCcpKTtcblxuICAgIC8vIElmIHRoZSBjdXJzb3IgaXMgb3V0IG9mIGJvdW5kcyBvciB0aGUgc2VsZWN0aW9uIGFycmF5IGlzIG91dCBvZiBib3VuZHMsXG4gICAgLy8gZHJhZyBhY3Rpb25zIHNob3VsZCBub3QgaGFwcGVuLiBSZXR1cm4gYW4gZXJyb3Igbm90aWZpY2F0aW9uIGFuZCByZXNldFxuICAgIC8vIHRoZSBkcmFnIGhhbmRsZXJcbiAgICBpZiAodGhpcy5pc0N1cnNvck91dE9mQm91bmRzKCkgfHwgdGhpcy5pc0RyYWdPdXRPZkJvdW5kcyhzZWxlY3Rpb24pKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIHNlbGVjdGlvbiBiYWNrIHRvIG5vcm1hbCBzdGF0ZVxuICAgICAgdGhpcy5yZXR1cm5FbGVtZW50cyh0aGlzLnNlbGVjdGlvbik7XG5cbiAgICAgIC8vIFJldHVybiB0aGUgYm91bmRpbmcgYm94ZXMgYXMgd2VsbFxuICAgICAgY29uc3QgYmJveGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUuc2VsZWN0ZWQnKSlcbiAgICAgICAgLm1hcChlbCA9PiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpKTtcbiAgICAgIHRoaXMucmV0dXJuRWxlbWVudHMoYmJveGVzKTtcblxuICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgdGhpcy5kcmFnSW5pdCgpO1xuICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIERyYWcgYWN0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdGhlIGNoYWluIGVkaXRvciBhY3Rpb24gZm9yIHNlbGVjdGlvblxuICAgIGNvbnN0IHBhcmFtQXJyYXk6IEVkaXRvckFjdGlvbltdID0gW107XG4gICAgc2VsZWN0aW9uLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBjb25zdCBpZCA9IGVsLnRhZ05hbWUgPT09ICdyZWN0JyA/IGVsLmNsb3Nlc3QoJy5zeWwnKS5pZCA6IGVsLmlkO1xuXG4gICAgICBjb25zdCBkcmFnQWN0aW9uOiBEcmFnQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdkcmFnJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICAgIHg6IHRoaXMuZHgsXG4gICAgICAgICAgeTogLXRoaXMuZHksXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHBhcmFtQXJyYXkucHVzaChkcmFnQWN0aW9uKTtcbiAgICB9KTtcbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgIHBhcmFtOiBwYXJhbUFycmF5XG4gICAgfTtcblxuICAgIC8vIFNlbmQgZWRpdG9yIGFjdGlvblxuICAgIHRoaXMubmVvblZpZXdcbiAgICAgIC5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgIC8vIE5lb24gcmUtcmVuZGVycyB0aGUgZW50aXJlIFNWRywgYW5kIGhlbmNlLCBiZWZvcmUgd2UgZG8gc28sXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gc3RvcmUgYWxsIHRoZSBlbGVtZW50cyAoSURzKSB3ZSBuZWVkIHRvIHNlbGVjdCBhZ2FpblxuICAgICAgICAvLyBUaGVuLCB3ZSBuZWVkIHRvIHJlc2VsZWN0IHRoZW0gYnkgY2FsbGluZyBgdGhpcy5yZXNlbGVjdCgpYFxuICAgICAgICBjb25zdCB0b1Jlc2VsZWN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSlcbiAgICAgICAgICAuZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW1vdmluZycpKVxuICAgICAgICAgIC5tYXAoZWwgPT4gZWwuaWQpO1xuXG4gICAgICAgIC8vIENBVVRJT046IGB1cGRhdGVGb3JDdXJyZW50UGFnZSgpYCBpcyBhbiBhc3luY2hyb25vdXMgZnVuY3Rpb24hXG4gICAgICAgIC8vIEl0IHJlcXVpcmVzIGFuIGBhd2FpdGAga2V5d29yZC5cbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB0aGlzLmVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIC8vIFJlc2VsZWN0IHRoZSBlbGVtZW50cyBhbmQgcmVpbml0aWFsaXplIGRyYWdcbiAgICAgICAgYXdhaXQgdGhpcy5yZXNlbGVjdCh0b1Jlc2VsZWN0KTtcbiAgICAgICAgdGhpcy5kcmFnSW5pdCgpO1xuICAgICAgfSk7XG4gIH1cblxuICBhc3luYyByZXNlbGVjdCAodG9SZXNlbGVjdDogc3RyaW5nW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCByZXNlbGVjdGVkID0gdG9SZXNlbGVjdC5tYXAoaWQgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdHcmFwaGljc0VsZW1lbnQ+KGAjJHtpZH1gKSk7XG5cbiAgICAvLyBBbGwgZ2x5cGhzIGV4Y2VwdCBib3VkaW5nIGJveGVzICgnc3lsJ3MpIG11c3QgYmUgc2VsZWN0ZWQgd2l0aFxuICAgIC8vIGBzZWxlY3RBbGwoKWBcbiAgICByZXNlbGVjdGVkXG4gICAgICAuZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKVxuICAgICAgLmZvckVhY2goYXN5bmMgKCkgPT4gYXdhaXQgc2VsZWN0QWxsKHJlc2VsZWN0ZWQsIHRoaXMubmVvblZpZXcsIHRoaXMpKTtcblxuICAgIC8vIEJvdW5kaW5nIGJveGVzIG11c3QgYmUgZXhwbGljaXRseSBzZWxlY3RlZCB1c2luZyBgc2VsZWN0QkJveCgpYFxuICAgIHJlc2VsZWN0ZWRcbiAgICAgIC5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSlcbiAgICAgIC5mb3JFYWNoKFxuICAgICAgICBlbCA9PiBzZWxlY3RCQm94KGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIHRoaXMsIHRoaXMubmVvblZpZXcpXG4gICAgICApO1xuXG4gICAgLy8gU3RhdmVzIG11c3QgYmUgZXhwbGljaXRseSBzZWxlY3RlZCB1c2luZyBgc2VsZWN0U3RhZmYoKWBcbiAgICAvLyBBTkQgbXVzdCBiZSBzZWxlY3RlZCB3aXRoIGBzZWxlY3RBbGwoKWAgZm9yIGNvcnJlY3QgYmVoYXZpb3IgKGZvciBzb21lIHJlYXNvbikuXG4gICAgcmVzZWxlY3RlZFxuICAgICAgLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpXG4gICAgICAuZm9yRWFjaChlbCA9PiBzZWxlY3RTdGFmZihlbCwgdGhpcykpO1xuICB9XG5cbiAgLyoqIFNldCB0aGUgZDMgYWN0aW9uIHRvIHVzZSBmb3IgW1tyZXNldF1dLiAqL1xuICByZXNldFRvIChyZXNldDogKHNlbGVjdGlvbjogZDMuU2VsZWN0aW9uPGQzLkJhc2VUeXBlLCB1bmtub3duLCBIVE1MRWxlbWVudCwgdW5rbm93bj4sIGFyZ3M6IHVua25vd25bXSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMucmVzZXRUb0FjdGlvbiA9IHJlc2V0O1xuICB9XG5cbiAgLyoqIFJlc2V0IHRvIGEgcHJldmlvdXMgZDMgYWN0aW9uIGZvciBbW3RoaXMuc2VsZWN0b3JdXS4gKi9cbiAgcmVzZXQgKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlc2V0VG9BY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgZDMuc2VsZWN0KHRoaXMuc2VsZWN0b3IpLmNhbGwodGhpcy5yZXNldFRvQWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBlbmRPcHRpb25zU2VsZWN0aW9uICgpOiB2b2lkIHtcbiAgICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICAgIGNvbnN0IGV4dHJhRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKTtcbiAgICBpZiAobW9yZUVkaXQpIHtcbiAgICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gICAgaWYgKGV4dHJhRWRpdCkge1xuICAgICAgZXh0cmFFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgZXh0cmFFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZpc3VhbGx5IG1vdmUgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIGJ5IGBkeGAgYW5kIGBkeWA7IChub3QgdXNpbmcgZDMpXG4gICAqL1xuICBtb3ZlRWxlbWVudHMgKHNlbGVjdGlvbjogRWxlbWVudFtdLCBkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogdm9pZCB7XG4gICAgc2VsZWN0aW9uLmZpbHRlcihlbCA9PiBlbCAhPT0gbnVsbCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2R4fSwke2R5fSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWaXN1YWxseSByZXR1cm4gc2VsZWN0ZWQgZWxlbWVudHMgdG8gdGhlaXIgb3JpZ2luYWwgcG9zaXRpb25zXG4gICAqIGJ5IHJlbW92aW5nIHRoZSB0cmFuc2Zvcm0gYXR0cmlidXRlXG4gICAqL1xuICByZXR1cm5FbGVtZW50cyAoc2VsZWN0aW9uOiBFbGVtZW50W10pOiB2b2lkIHtcbiAgICBzZWxlY3Rpb24uZmlsdGVyKGVsID0+IGVsICE9PSBudWxsKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCd0cmFuc2Zvcm0nKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzQ3Vyc29yT3V0T2ZCb3VuZHMgKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVuZFggPSB0aGlzLmRyYWdTdGFydENvb3Jkc1swXSArIHRoaXMuZHg7XG4gICAgY29uc3QgZW5kWSA9IHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzFdICsgdGhpcy5keTtcblxuICAgIHJldHVybiBpc091dE9mU1ZHQm91bmRzKGVuZFgsIGVuZFkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgc2VsZWN0aW9uIGFycmF5IGlzIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBTVkdcbiAgICogQHBhcmFtIHtTVkdHcmFwaGljc0VsZW1lbnRbXX0gc2VsZWN0aW9uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBJcyBzZWxlY3Rpb24gb3V0IG9mIGJvdW5kc1xuICAgKi9cbiAgaXNEcmFnT3V0T2ZCb3VuZHMgKHNlbGVjdGlvbjogU1ZHR3JhcGhpY3NFbGVtZW50W10pOiBib29sZWFuIHtcbiAgICAvLyBHZXQgdGhlIGJvdW5kaW5nIGJveGVzIG9mIGFsbCBnbHlwaHMgKDx1c2U+IGVsZW1lbnRzKSB3aXRoaW4gdGhlIHNlbGVjdGlvbiBhcnJheVxuICAgIGNvbnN0IGlzQkJveERpc3BsYXllZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNkaXNwbGF5QkJveCcpLmNoZWNrZWQ7XG4gICAgbGV0IGdseXBoU2VsZWN0b3IgPSBpc0JCb3hEaXNwbGF5ZWQgPyAndXNlLCByZWN0JyA6ICd1c2UnO1xuXG4gICAgaWYgKHNlbGVjdGlvblswXS5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIGdseXBoU2VsZWN0b3IgPSAncGF0aCc7XG5cbiAgICBjb25zdCBnbHlwaHM6IFNWR1VzZUVsZW1lbnRbXSA9IHNlbGVjdGlvbi5yZWR1Y2UoXG4gICAgICAoYWNjLCBlbCkgPT4gYWNjLmNvbmNhdCguLi5lbC5xdWVyeVNlbGVjdG9yQWxsKGdseXBoU2VsZWN0b3IpKSwgW11cbiAgICApO1xuICAgIGNvbnN0IGdseXBoQkJveGVzOiBCQm94W10gPSBnbHlwaHMubWFwKGdldEdseXBoQkJveCk7XG5cbiAgICAvLyBHZXQgdGhlIHN1cnJvdW5kaW5nIGJvdW5kaW5nIGJveCBvZiB0aGUgc2VsZWN0ZWQgZWxlbWVudHNcbiAgICBjb25zdCBzZWxlY3Rpb25CQm94OiBCQm94ID0gZ2x5cGhCQm94ZXMucmVkdWNlKFxuICAgICAgKGJib3gsIGN1cnIpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1bHg6IE1hdGgubWluKGJib3gudWx4LCBjdXJyLnVseCksXG4gICAgICAgICAgdWx5OiBNYXRoLm1pbihiYm94LnVseSwgY3Vyci51bHkpLFxuICAgICAgICAgIGxyeDogTWF0aC5tYXgoYmJveC5scngsIGN1cnIubHJ4KSxcbiAgICAgICAgICBscnk6IE1hdGgubWF4KGJib3gubHJ5LCBjdXJyLmxyeSksXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB1bHg6IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICAgIHVseTogTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgbHJ4OiBOdW1iZXIuTUlOX1ZBTFVFLFxuICAgICAgICBscnk6IE51bWJlci5NSU5fVkFMVUUsXG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbnN0IHsgdWx4LCB1bHksIGxyeCwgbHJ5IH0gPSBzZWxlY3Rpb25CQm94O1xuICAgIHJldHVybiBpc091dE9mU1ZHQm91bmRzKHVseCArIHRoaXMuZHgsIHVseSArIHRoaXMuZHkpIHx8IGlzT3V0T2ZTVkdCb3VuZHMobHJ4ICsgdGhpcy5keCwgbHJ5ICsgdGhpcy5keSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgRHJhZ0hhbmRsZXIgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgKiBhcyBXYXJuaW5ncyBmcm9tICcuLi9XYXJuaW5ncyc7XG5pbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCAqIGFzIFNlbGVjdFRvb2xzIGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcbmltcG9ydCAqIGFzIFNlbGVjdE9wdGlvbnMgZnJvbSAnLi4vU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBFZGl0b3JBY3Rpb24sIFRvZ2dsZUxpZ2F0dXJlQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgcmVtb3ZlSGFuZGxlciwgZGVsZXRlQnV0dG9uSGFuZGxlciB9IGZyb20gJy4vU2VsZWN0T3B0aW9ucyc7XG5cbi8qKlxuICogVGhlIE5lb25WaWV3IHBhcmVudCB0byBhY2Nlc3MgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cbi8qKlxuICogU2V0IHRoZSBuZW9uVmlldyBtZW1iZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TmVvblZpZXcodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHNlbGVjdGVkIGVsZW1lbnRzIGNhbiBiZSBncm91cGVkIG9yIG5vdFxuICogQHJldHVybnMgdHJ1ZSBpZiBjYW4gYmUgZ3JvdXBlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0dyb3VwYWJsZShcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pixcbik6IGJvb2xlYW4ge1xuICBjb25zdCBncm91cHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzLnZhbHVlcygpKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcblxuICBpZiAoZ3JvdXBzLmxlbmd0aCA8IDIpIHtcbiAgICAvLyBjYW5ub3QgZ3JvdXAgaWYgb25seSAxIGVsZW1lbnQgaXMgc2VsZWN0ZWRcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIC8vIGlmIG5ldW1lcyBhcmUgaW4gc2FtZSBzeWxsYWJsZSwgZG9uJ3QgZGlzcGxheSBncm91cGluZyBvcHRpb25cbiAgICAgIGlmIChTZWxlY3RUb29scy5zaGFyZWRMb2dpY2FsUGFyZW50KHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIGNoZWNrIGlmIGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhcmUgYWRqYWNlbnQgdG8gZWFjaCBvdGhlclxuICAgICAgaWYgKFNlbGVjdFRvb2xzLmFyZUFkamFjZW50KHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNMaW5rZWQoXG4gIHNlbGVjdGlvblR5cGU6IHN0cmluZyxcbiAgZWxlbWVudHM/OiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuKTogYm9vbGVhbiB7XG4gIGlmICghZWxlbWVudHMpIHtcbiAgICBlbGVtZW50cyA9IEFycmF5LmZyb20oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSxcbiAgICApIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICB9XG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSB8fFxuICAgICAgICAgIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKVxuICAgICAgICApIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAnVGhlIGFjdGlvbiBpbnZvbHZlcyBsaW5rZWQgc3lsbGFibGVzLCBwbGVhc2UgdW50b2dnbGUgdGhlbSBmaXJzdCcsXG4gICAgICAgICAgICAnd2FybmluZycsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykgfHxcbiAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKVxuICAgICAgICApIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAnVGhlIGFjdGlvbiBpbnZvbHZlcyBsaW5rZWQgc3lsbGFibGVzLCBwbGVhc2UgdW50b2dnbGUgdGhlbSBmaXJzdCcsXG4gICAgICAgICAgICAnd2FybmluZycsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSB8fFxuICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgJ1RoZSBhY3Rpb24gaW52b2x2ZXMgbGlua2VkIHN5bGxhYmxlcywgcGxlYXNlIHVudG9nZ2xlIHRoZW0gZmlyc3QnLFxuICAgICAgICAgICAgJ3dhcm5pbmcnLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYXNJbnZhbGlkTGlua2VkU3lsbGFibGUoXG4gIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuKTogYm9vbGVhbiB7XG4gIC8vIFNvcnQgZWxlbWVudHMgYmFzZWQgb24gdGhlaXIgb3JkZXIgaW4gdGhlIERPTVxuICBlbGVtZW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgaWYgKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikgJiBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lORykge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkdcbiAgICApIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSk7XG5cbiAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZWxlbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgIGNvbnN0IHN5bGxhYmxlID0gZWxlbWVudHMuYXQoaWR4KTtcbiAgICBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSkge1xuICAgICAgLy8gR2V0IHhtbDppZCBvZiB0aGUgbmV4dCBzeWxsYWJsZSAod2l0aG91dCB0aGUgIywgaWYgaXQgZXhpc3RzKVxuICAgICAgY29uc3QgbmV4dFN5bGxhYmxlSWQgPSBzeWxsYWJsZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKVxuICAgICAgICAucmVwbGFjZSgnIycsICcnKTtcblxuICAgICAgLy8gRmluZCB0aGUgbmV4dCBzeWxsYWJsZSBhbmQgaXRzIGluZGV4IGluIHRoZSBhcnJheVxuICAgICAgbGV0IG5leHRTeWxsYWJsZUlkeDogbnVtYmVyO1xuICAgICAgY29uc3QgbmV4dFN5bGxhYmxlID0gZWxlbWVudHMuZmluZCgoZWxlbWVudCwgaWR4KSA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LmlkID09PSBuZXh0U3lsbGFibGVJZCkge1xuICAgICAgICAgIG5leHRTeWxsYWJsZUlkeCA9IGlkeDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb25kaXRpb24gMTogVGhlIG5leHQgKGZvbGxvd2luZykgc3lsbGFibGUgY2Fubm90IGJlIGZvdW5kXG4gICAgICBpZiAoIW5leHRTeWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDI6IFRoZSBuZXh0IHN5bGxhYmxlIGhhcyBiZWVuIGZvdW5kLCBidXQgdGhlIEBmb2xsb3dzIGF0dHJpYnV0ZSBkb2VzIE5PVCBFWElTVFxuICAgICAgaWYgKCFuZXh0U3lsbGFibGUuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25kaXRpb24gMzogVGhlIG5leHQgc3lsbGFibGUncyBAZm9sbG93cyBhdHRyaWJ1dGUgZXhpc3RzLCBidXQgaXQgaXMgbm90IGluIHRoZSBjb3JyZWN0IGZvcm1hdCAjaWRcbiAgICAgIGlmIChuZXh0U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpICE9ICcjJyArIHN5bGxhYmxlLmlkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25kaXRpb24gNDpcbiAgICAgIC8vIFNpbmNlIHRoZSBAZm9sbG93cyB2YWx1ZSBpcyBjb3JyZWN0LCBhIHBhaXIgb2Ygc3lsbGFibGVzIGV4aXN0IGZvciB0aGUgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZS5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSBAZm9sbG93cyBzeWxsYWJsZSBpcyB0aGUgbmV4dCBzeWxsYWJsZSAoaW5kZXgtd2lzZSkgaW4gdGhlIGFycmF5OlxuICAgICAgaWYgKG5leHRTeWxsYWJsZUlkeCAhPT0gaWR4ICsgMSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSkge1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlSWQgPSBzeWxsYWJsZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpXG4gICAgICAgIC5yZXBsYWNlKCcjJywgJycpO1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlID0gZWxlbWVudHMuZmluZChcbiAgICAgICAgKHN5bGxhYmxlKSA9PiBzeWxsYWJsZS5pZCA9PT0gcHJldlN5bGxhYmxlSWQsXG4gICAgICApO1xuXG4gICAgICAvLyBDb25kaXRpb24gMTogVGhlIHByZXZpb3VzIHN5bGxhYmxlIGRvZXMgbm90IGV4aXN0XG4gICAgICBpZiAoIXByZXZTeWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDI6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSBleGlzdHMsIGJ1dCB0aGUgQHByZWNlZGVzIGF0dHJpYnV0ZSBkb2VzIE5PVCBFWElTVFxuICAgICAgaWYgKCFwcmV2U3lsbGFibGUuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDM6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSdzIEBwcmVjZWRlcyBhdHRyaWJ1dGUgZXhpc3RzLCBidXQgaXQgaXMgbm90IGluIHRoZSBjb3JyZWN0IGZvcm1hdCAjaWRcbiAgICAgIGlmIChwcmV2U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSAhPSAnIycgKyBzeWxsYWJsZS5pZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVja3MgdG8gc2VlIGlzIGEgc2VsZWN0aW9uIG9mIGVsZW1lbnRzIGlzIGFscmVhZHkgbGlua2VkXG4gKiBAcGFyYW0gZWxlbWVudHMgZWxlbWVudHMgdG8gYmUgY29uc2lkZXJlZFxuICogQHJldHVybnMgdHJ1ZSBpcyBsaW5rZWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMaW5rZWQoZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4pOiBib29sZWFuIHtcbiAgLy8gZXZlcnkgZWxlbWVudCBzaG91bGQgYmUgbGlua2VkXG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgIGlmIChcbiAgICAgICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykgJiZcbiAgICAgICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBBc3N1bWluZyBhbGwgZWxlbWVudHMgYXJlIHZhbGlkLFxuICogY2hlY2sgaWYgdGhlIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWQ6XG4gKiAxLiBzb3J0IGVsZW1lbnRzIGJhc2VkIG9uIHRoZWlyIG9yZGVyIGluIHRoZSBET01cbiAqIDIuIGVuc3VyZSBlbGVtZW50cyBhcmUgYWRqYWNlbnQgaW4gdGhlIERPTVxuICogMy4gZW5zdXJlIGVsZW1lbnRzIGJlbG9uZyB0byBhZGphY2VudCBzdGF2ZXNcbiAqIDQuIGNoZWNrIGlmIGNhbiBiZSBsaW5rZWQ6XG4gKiAgICA0LjEgaWYgZXhhY3RseSB0d28gZWxlbWVudHMsIGJvdGggbmVlZHMgdG8gYmUgdW5saW5rZWRcbiAqICAgIDQuMiBpZiBtb3JlIHRoYW4gdHdvIGVsZW1lbnRzLCBvbmx5IG9uZSBlbGVtZW50IGNhbiBiZSB1bmxpbmtlZCxcbiAqICAgICAgICBhdCBlaXRoZXIgYmVnaW5uaW5nIG9yIGVuZCBvZiB0aGUgc2VxdWVuY2VcbiAqIEBwYXJhbSBlbGVtZW50cyBlbGVtZW50cyB0byBiZSBjb25zaWRlcmVkXG4gKiBAcmV0dXJucyB0cnVlIGNhbiBiZSBsaW5rZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbkJlTGlua2VkKGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogYm9vbGVhbiB7XG4gIC8vIDEuIFNvcnQgZWxlbWVudHMgYmFzZWQgb24gdGhlaXIgb3JkZXIgaW4gdGhlIERPTVxuICBlbGVtZW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3Qgc3RhZmZBID0gYS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICBjb25zdCBzdGFmZkIgPSBiLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIHJldHVybiBzdGFmZkEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oc3RhZmZCKSAmXG4gICAgICBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lOR1xuICAgICAgPyAtMVxuICAgICAgOiAxO1xuICB9KTtcblxuICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpKTtcbiAgY29uc3Qgc3lsbGFibGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUnKSk7XG5cbiAgLy8gMi4gRW5zdXJlIHN5bGxhYmxlcyBhcmUgYWRqYWNlbnQgaW4gdGhlIERPTVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBlbGVtZW50c1tpXTtcbiAgICBjb25zdCBuZXh0ID0gZWxlbWVudHNbaSArIDFdO1xuICAgIGNvbnN0IGN1cnJlbnRTeWxsYWJsZUluZGV4ID0gc3lsbGFibGVzLmluZGV4T2YoY3VycmVudCk7XG4gICAgY29uc3QgbmV4dFN5bGxhYmxlSW5kZXggPSBzeWxsYWJsZXMuaW5kZXhPZihuZXh0KTtcbiAgICBpZiAobmV4dFN5bGxhYmxlSW5kZXggLSBjdXJyZW50U3lsbGFibGVJbmRleCAhPT0gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBTdGF2ZXMgbXVzdCBiZSBhZGphY2VudFxuICAgIH1cbiAgICAvLyAzLiBFbnN1cmUgc3lsbGFibGVzIGJlbG9uZyB0byBhZGphY2VudCBzdGF2ZXNcbiAgICBjb25zdCBjdXJyZW50U3RhZmYgPSBjdXJyZW50LmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIGNvbnN0IG5leHRTdGFmZiA9IG5leHQuY2xvc2VzdCgnLnN0YWZmJyk7XG5cbiAgICBjb25zdCBjdXJyZW50U3RhZmZJbmRleCA9IHN0YXZlcy5pbmRleE9mKGN1cnJlbnRTdGFmZiBhcyBIVE1MRWxlbWVudCk7XG4gICAgY29uc3QgbmV4dFN0YWZmSW5kZXggPSBzdGF2ZXMuaW5kZXhPZihuZXh0U3RhZmYgYXMgSFRNTEVsZW1lbnQpO1xuICAgIGlmIChuZXh0U3RhZmZJbmRleCAtIGN1cnJlbnRTdGFmZkluZGV4ICE9PSAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIFN0YXZlcyBtdXN0IGJlIGFkamFjZW50XG4gICAgfVxuICB9XG5cbiAgLy8gNC4xIEhhbmRsZSBjYXNlIGZvciBleGFjdGx5IHR3byBzeWxsYWJsZXNcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBlbGVtZW50cy5ldmVyeShcbiAgICAgIChlbGVtZW50KSA9PlxuICAgICAgICAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpICYmXG4gICAgICAgICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSxcbiAgICApO1xuICB9XG5cbiAgLy8gNC4yIEhhbmRsZSBjYXNlIGZvciBtb3JlIHRoYW4gdHdvIHN5bGxhYmxlc1xuICBjb25zdCB1bmxpbmtlZEVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKFxuICAgIChlbGVtZW50KSA9PlxuICAgICAgIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSAmJlxuICAgICAgIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpLFxuICApO1xuXG4gIGlmICh1bmxpbmtlZEVsZW1lbnRzLmxlbmd0aCAhPT0gMSkge1xuICAgIHJldHVybiBmYWxzZTsgLy8gT25seSBvbmUgdW5saW5rZWQgc3lsbGFibGUgaXMgYWxsb3dlZFxuICB9XG5cbiAgLy8gVGhlIHVubGlua2VkIHN5bGxhYmxlIHNob3VsZCBiZSBhdCB0aGUgYmVnaW5uaW5nIG9yIGVuZFxuICBjb25zdCBmaXJzdFVubGlua2VkID0gdW5saW5rZWRFbGVtZW50c1swXTtcblxuICByZXR1cm4gKFxuICAgIGVsZW1lbnRzLmluZGV4T2YoZmlyc3RVbmxpbmtlZCkgPT09IDAgfHxcbiAgICBlbGVtZW50cy5pbmRleE9mKGZpcnN0VW5saW5rZWQpID09PSBlbGVtZW50cy5sZW5ndGggLSAxXG4gICk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWQgb3IgdW5saWtuZWQuXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSBDdXJyZW50IHNlbGVjdGlvbiBtb2RlLiBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIGJlIGxpbmtlZFxuICogQHBhcmFtIGVsZW1lbnRzIFRoZSBlbGVtZW50cyB1bmRlciBxdWVzdGlvblxuICogQHJldHVybnMgdHJ1ZSBpZiB1c2VyIHNob3VsZCBiZSBhYmxlIHRvIGxpbmsgb3IgdW4tbGluayBlbGVtZW50cywgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmthYmxlKFxuICBzZWxlY3Rpb25UeXBlOiBzdHJpbmcsXG4gIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuKTogYm9vbGVhbiB7XG4gIC8vIGNhbm5vdCB0b2dnbGUgbGluayBmb3Igc3lsbGFibGUgc2VsZWN0aW9uIGlmIG51bWJlciBvZiBzZWxlY3RlZFxuICAvLyBzeWxsYWJsZXMgaXMgc21hbGxlciB0aGFuIDJcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBvbmx5IFN5bGxhYmxlcyBjYW4gYmUgbGlua2VkIG9yIHVubGlua2VkICg/KVxuICBpZiAoc2VsZWN0aW9uVHlwZSAhPT0gJ3NlbEJ5U3lsbGFibGUnKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gQ2hlY2sgaWYgaGFzIGludmFsaWQgbGlua2VkIHN5bGxhYmxlc1xuICBpZiAoaGFzSW52YWxpZExpbmtlZFN5bGxhYmxlKGVsZW1lbnRzKSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGUgc2VsZWN0ZWQgc3lsbGFibGVzIGluY2x1ZGUgaW52YWxpZCBsaW5rZWQgc3lsbGFibGUocykhJyxcbiAgICAgICd3YXJuaW5nJyxcbiAgICApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGlmIEFMUkVBRFkgbGlua2VkXG4gIGlmIChpc0xpbmtlZChlbGVtZW50cykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvLyBpZiBDQU4gYmUgbGlua2VkXG4gIGVsc2UgaWYgKGNhbkJlTGlua2VkKGVsZW1lbnRzKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIE1lcmdlIHNlbGVjdGVkIHN0YXZlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VTdGF2ZXMoKTogdm9pZCB7XG4gIGNvbnN0IHN5c3RlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYuc2VsZWN0ZWQnKTtcbiAgY29uc3QgZWxlbWVudElkcyA9IFtdO1xuICBzeXN0ZW1zLmZvckVhY2goKHN0YWZmKSA9PiB7XG4gICAgZWxlbWVudElkcy5wdXNoKHN0YWZmLmlkKTtcbiAgfSk7XG4gIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ21lcmdlJyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkczogZWxlbWVudElkcyxcbiAgICB9LFxuICB9O1xuICBuZW9uVmlld1xuICAgIC5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTdGFmZiBNZXJnZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICBTZWxlY3RPcHRpb25zLmVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTWVyZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciB0aGUgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKiBAcGFyYW0gdHlwZSAtIFRoZSBncm91cGluZyB0eXBlOiBuYywgbmV1bWUsIHN5bCwgbGlnYXR1cmVOYywgb3IgbGlnYXR1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJHcm91cGluZyh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgbW9yZUVkaXQuaW5uZXJIVE1MICs9IENvbnRlbnRzLmdyb3VwaW5nTWVudVt0eXBlXTtcbiAgaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZEdyb3VwaW5nU2VsZWN0aW9uKCk6IHZvaWQge1xuICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG59XG5cbi8qKlxuICogVGhlIGdyb3VwaW5nIGRyb3Bkb3duIGxpc3RlbmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk6IHZvaWQge1xuICBjb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG4gIGRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVyZ2VTeWxzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoY29udGFpbnNMaW5rZWQoU2VsZWN0VG9vbHMuZ2V0U2VsZWN0aW9uVHlwZSgpKSkgcmV0dXJuO1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCkuZmlsdGVyKChlKSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJyksXG4gICAgICApO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JvdXBOZXVtZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChjb250YWluc0xpbmtlZChTZWxlY3RUb29scy5nZXRTZWxlY3Rpb25UeXBlKCkpKSByZXR1cm47XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCkuZmlsdGVyKChlKSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJyksXG4gICAgICApO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JvdXBOY3MnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKS5maWx0ZXIoKGUpID0+XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLmNsYXNzTGlzdC5jb250YWlucygnbmMnKSxcbiAgICAgICk7XG4gICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmdyb3VwTmV1bWVzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5ncm91cE5jcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWxpZ2F0dXJlJylcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuXG4gICAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogVG9nZ2xlTGlnYXR1cmVBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAndG9nZ2xlTGlnYXR1cmUnLFxuICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIG5lb25WaWV3XG4gICAgICAgICAgLmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0xpZ2F0dXJlIFRvZ2dsZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdMaWdhdHVyZSBUb2dnbGUgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICAgICAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1saW5rJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuLyoqXG4gKiBHcm91cGluZy9Vbmdyb3VwaW5nIGtleWJpbmRpbmcgZXZlbnQgbGlzdGVuZXJcbiAqL1xuY29uc3Qga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24gKGUpIHtcbiAgaWYgKGUua2V5ID09PSAnZycpIHtcbiAgICAvLyBnZXQgc2VsZWN0ZWQgZWxlbWVudHMgdG8gY2hlY2sgaWYgdGhleSBjYW4gYmUgZ3JvdXBlZHNcbiAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSxcbiAgICApIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgc2VsZWN0aW9uVHlwZSA9IFNlbGVjdFRvb2xzLmdldFNlbGVjdGlvblR5cGUoKTtcblxuICAgIGlmIChjb250YWluc0xpbmtlZChzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHJldHVybjtcblxuICAgIC8vIEdyb3VwL21lcmdlIG9yIHVuZ3JvdXAvc3BsaXQgYmFzZWQgb24gc2VsZWN0aW9uIHR5cGVcbiAgICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgICAvLyBpZiBzeWxsYWJsZXMgYXJlIGxpbm5rYWJsZSwgdG9nZ2xlIGxpbmtlZCBzeWxsYWJsZVxuICAgICAgICAvLyBsaW5rZWQgc3lsbGFibGVzIGNhbm5vdCBiZSBncm91cGVkL3VuZ3JvdXBlZFxuICAgICAgICBpZiAoaXNMaW5rYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiBncm91cGFibGUgYmVmb3JlIGdyb3VwaW5nXG4gICAgICAgIGVsc2UgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpLmZpbHRlcigoZSkgPT5cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbiBvbmx5IHVuZ3JvdXAgaWYgbGVuZ3RoIGlzIDEgKG9uZSBzeWxsYWJsZSBzZWxlY3RlZClcbiAgICAgICAgLy8gY2Fubm90IHVuZ3JvdXAgaWYgbXVsdGlwbGUgc3lsbGFibGVzIGFyZSBzZWxlY3RlZFxuICAgICAgICBlbHNlIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgICAgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgICAgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgICAgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIG1lcmdlU3RhdmVzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3RhZmZTcGxpdE1vZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgQ2FuJ3QgcGVyZm9ybSBncm91cGluZy91bmdyb3VwaW5nIGFjdGlvbiBvbiBzZWxlY3Rpb24gdHlwZSAke3NlbGVjdGlvblR5cGV9LmAsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogRm9ybSBhbmQgZXhlY3V0ZSBhIGdyb3VwL3VuZ3JvdXAgYWN0aW9uLlxuICogQHBhcmFtIGFjdGlvbiAtIFRoZSBhY3Rpb24gdG8gZXhlY3V0ZS4gRWl0aGVyIFwiZ3JvdXBcIiBvciBcInVuZ3JvdXBcIi5cbiAqIEBwYXJhbSBncm91cFR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50cyB0byBncm91cC4gRWl0aGVyIFwibmV1bWVcIiBvciBcIm5jXCIuXG4gKiBAcGFyYW0gZWxlbWVudElkcyAtIFRoZSBJRHMgb2YgdGhlIGVsZW1lbnRzLlxuICovXG5mdW5jdGlvbiBncm91cGluZ0FjdGlvbihcbiAgYWN0aW9uOiAnZ3JvdXAnIHwgJ3VuZ3JvdXAnLFxuICBncm91cFR5cGU6ICduZXVtZScgfCAnbmMnLFxuICBlbGVtZW50SWRzOiBzdHJpbmdbXSxcbik6IHZvaWQge1xuICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246IGFjdGlvbixcbiAgICBwYXJhbToge1xuICAgICAgZ3JvdXBUeXBlOiBncm91cFR5cGUsXG4gICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzLFxuICAgIH0sXG4gIH07XG4gIG5lb25WaWV3XG4gICAgLmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBpZiAoYWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1VuZ3JvdXBpbmcgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVW5ncm91cGluZyBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcblxuICAgICAgLy8gUHJvbXB0IHVzZXIgdG8gY29uZmlybSBpZiBOZW9uIGRvZXMgbm90IHJlIGNvZ25pemUgY29udG91clxuICAgICAgaWYgKGdyb3VwVHlwZSA9PT0gJ25jJykge1xuICAgICAgICBjb25zdCBuZXVtZVBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgIGVsZW1lbnRJZHNbMF0sXG4gICAgICAgICkucGFyZW50RWxlbWVudDtcbiAgICAgICAgY29uc3QgbmNzID0gQXJyYXkuZnJvbShuZXVtZVBhcmVudC5jaGlsZHJlbikgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gICAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXIobmNzKTtcbiAgICAgICAgaWYgKGNvbnRvdXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIFdhcm5pbmdzLmdyb3VwaW5nTm90UmVjb2duaXplZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB1bmxpbmsoZWxlbWVudElkczogc3RyaW5nW10pOiBBcnJheTxFZGl0b3JBY3Rpb24+IHtcbiAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuICBmb3IgKGNvbnN0IGlkIG9mIGVsZW1lbnRJZHMpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykpIHtcbiAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJhbTtcbn1cblxuLy8gVXRpbGl0eSBmdW5jdGlvbiB0byBnZXQgYW4gZWxlbWVudCBieSBJRCBhbmQgZW5zdXJlIGl0J3MgYW4gU1ZHR3JhcGhpY3NFbGVtZW50XG5mdW5jdGlvbiBnZXRTVkdHcmFwaGljc0VsZW1lbnRCeUlkKGlkOiBzdHJpbmcpOiBTVkdHcmFwaGljc0VsZW1lbnQgfCBudWxsIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBTVkdHcmFwaGljc0VsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0VG9nZ2xlU3lsbGFibGVJZHMoXG4gIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuKTogW1NWR0dyYXBoaWNzRWxlbWVudCwgU1ZHR3JhcGhpY3NFbGVtZW50XSB7XG4gIC8vIFNvcnQgZWxlbWVudHMgYmFzZWQgb24gdGhlaXIgb3JkZXIgaW4gdGhlIERPTVxuICBlbGVtZW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3Qgc3RhZmZBID0gYS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICBjb25zdCBzdGFmZkIgPSBiLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIHJldHVybiBzdGFmZkEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oc3RhZmZCKSAmXG4gICAgICBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lOR1xuICAgICAgPyAtMVxuICAgICAgOiAxO1xuICB9KTtcblxuICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgcmV0dXJuIFtlbGVtZW50c1swXSwgZWxlbWVudHNbMV1dO1xuICB9XG5cbiAgY29uc3QgdW5saW5rZWRFbGVtZW50ID0gZWxlbWVudHMuZmluZChcbiAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpICYmICFlbC5oYXNBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJyksXG4gICk7XG5cbiAgaWYgKHVubGlua2VkRWxlbWVudCkge1xuICAgIGNvbnN0IGluZGV4ID0gZWxlbWVudHMuaW5kZXhPZih1bmxpbmtlZEVsZW1lbnQpO1xuXG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICByZXR1cm4gW2VsZW1lbnRzW2luZGV4XSwgZWxlbWVudHNbaW5kZXggKyAxXV07XG4gICAgfSBlbHNlIGlmIChpbmRleCA9PT0gZWxlbWVudHMubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIFtlbGVtZW50c1tpbmRleCAtIDFdLCBlbGVtZW50c1tpbmRleF1dO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIERldGVybWluZSB3aGF0IGFjdGlvbiAobGluay91bmxpbmspIHRvIHBlcmZvcm0gd2hlbiB1c2VyIGNsaWNrcyBvbiBcIlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVcIlxuICogQWxzbyBjYWxsZWQgd2hlbiBjb3JyZXNwaW5kaW5nIGhvdGtleSBpcyBwcmVzc2VkLlxuICovXG5mdW5jdGlvbiB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKSB7XG4gIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IFtdLFxuICB9O1xuICBjb25zdCBwYXJhbSA9IG5ldyBBcnJheTxFZGl0b3JBY3Rpb24+KCk7XG5cbiAgY29uc3QgZWxlbWVudHMgPSBlbGVtZW50SWRzXG4gICAgLm1hcChnZXRTVkdHcmFwaGljc0VsZW1lbnRCeUlkKSAvLyBNYXAgSURzIHRvIFNWR0dyYXBoaWNzRWxlbWVudCBvciBudWxsXG4gICAgLmZpbHRlcigoZWwpOiBlbCBpcyBTVkdHcmFwaGljc0VsZW1lbnQgPT4gZWwgIT09IG51bGwpO1xuXG4gIGlmIChpc0xpbmtlZChlbGVtZW50cykpIHtcbiAgICBwYXJhbS5wdXNoKC4uLnVubGluayhlbGVtZW50SWRzKSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgW2ZpcnN0U3lsbGFibGUsIHNlY29uZFN5bGxhYmxlXSA9IGdldFRvZ2dsZVN5bGxhYmxlSWRzKGVsZW1lbnRzKTtcbiAgICBjb25zb2xlLmxvZyhmaXJzdFN5bGxhYmxlLmlkLCBzZWNvbmRTeWxsYWJsZS5pZCk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBmaXJzdFN5bGxhYmxlLmlkLFxuICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnIycgKyBzZWNvbmRTeWxsYWJsZS5pZCxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBzZWNvbmRTeWxsYWJsZS5pZCxcbiAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnIycgKyBmaXJzdFN5bGxhYmxlLmlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICAvLyBEZWxldGUgc3lsIG9uIHNlY29uZCBzeWxsYWJsZVxuICAgIGNvbnN0IHN5bCA9IHNlY29uZFN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3IoJy5zeWwnKTtcbiAgICBpZiAoc3lsICE9PSBudWxsKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IHN5bC5pZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNoYWluQWN0aW9uLnBhcmFtID0gcGFyYW07XG4gIG5lb25WaWV3XG4gICAgLmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVG9nZ2xlZCBTeWxsYWJsZSBMaW5rJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAnRmFpbGVkIHRvIFRvZ2dsZSBTeWxsYWJsZSBMaW5rJyxcbiAgICAgICAgICAnZXJyb3InLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQHJldHVybnMgVGhlIElEcyBvZiBzZWxlY3RlZCBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ2V0SWRzKCk6IHN0cmluZ1tdIHtcbiAgY29uc3QgaWRzID0gW107XG4gIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZHMucHVzaChlbC5pZCk7XG4gIH0pO1xuICByZXR1cm4gaWRzO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBJRHMgb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRzJyBjaGlsZHJlbi5cbiAqL1xuZnVuY3Rpb24gZ2V0Q2hpbGRyZW5JZHMoKTogc3RyaW5nW10ge1xuICBjb25zdCBjaGlsZHJlbklkcyA9IFtdO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgaWYgKFxuICAgICAgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykgfHxcbiAgICAgIGVsLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSB8fFxuICAgICAgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJylcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGVsLmNoaWxkcmVuKTtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjaCkgPT4ge1xuICAgICAgY2hpbGRyZW5JZHMucHVzaChjaC5pZCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gY2hpbGRyZW5JZHM7XG59XG4iLCJpbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBlcnJvckxvZ3NQYW5lbENvbnRlbnRzIH0gZnJvbSAnLi4vU3F1YXJlRWRpdC9Db250ZW50cyc7XG5pbXBvcnQgeyBzZXRTZXR0aW5ncywgZ2V0U2V0dGluZ3MgfSBmcm9tICcuL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3csIE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4vTW9kYWxXaW5kb3cnO1xuXG5mdW5jdGlvbiBjcmVhdGVMb2dNZXNzYWdlIChub3RpZjogTm90aWZpY2F0aW9uKTogRWxlbWVudCB7XG4gIGNvbnN0IG5vdGlmRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5vdGlmRGl2LmNsYXNzTGlzdC5hZGQoJ25vdGlmaWNhdGlvbi1jb250YWluZXInKTtcbiAgbm90aWZEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cIm5vdGlmaWNhdGlvbi13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctbWFpblwiPiR7bm90aWYubWVzc2FnZX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvZy1leHRyYVwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb24tYnRuLWNvbnRhaW5lclwiIHN0eWxlPVwiZGlzcGxheTogZmxleDtcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vdGlmLWxvZy1pbmZvLWljb24td3JhcHBlclwiPlxuICAgICAgICAgIDxpbWcgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiIGNsYXNzPVwibm90aWYtbG9nLWluZm8taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9ub3RpZmljYXRpb24taW5mby1pY29uLWxpZ2h0LnN2Z1wiIHRpdGxlPVwiTG9nIE1lc3NhZ2VcIj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vdGlmLXJlbW92ZS1pY29uLXdyYXBwZXJcIj5cbiAgICAgICAgICA8aW1nIGNsYXNzPVwibG9nLXJlbW92ZSBub3RpZi1yZW1vdmUtaWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9nYXJiYWdlLWNsb3NlZC5zdmdcIiB0aXRsZT1cIlJlbW92ZVwiPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICBgO1xuXG4gIGNvbnN0IHJlbW92ZUJ0biA9IG5vdGlmRGl2LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KCcubG9nLXJlbW92ZScpO1xuICByZW1vdmVCdG4ub25jbGljayA9ICgpID0+IG5vdGlmRGl2LnJlbW92ZSgpO1xuICByZW1vdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgIHJlbW92ZUJ0bi5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1vcGVuLnN2Z2ApO1xuICB9KTtcbiAgcmVtb3ZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgIHJlbW92ZUJ0bi5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1jbG9zZWQuc3ZnYCk7XG4gIH0pO1xuXG4gIGlmIChub3RpZi5sb2dJbmZvKSB7XG4gICAgY29uc3QgaW5mb0J0biA9IG5vdGlmRGl2LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KCcubm90aWYtbG9nLWluZm8taWNvbicpO1xuICAgIGluZm9CdG4uc3R5bGUuZGlzcGxheSA9ICcnO1xuXG4gICAgcmVtb3ZlQnRuLnN0eWxlLmhlaWdodCA9ICcyMHB4JztcblxuICAgIGluZm9CdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgaW5mb0J0bi5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvbm90aWZpY2F0aW9uLWluZm8taWNvbi1kYXJrLnN2Z2ApO1xuICAgIH0pO1xuICAgIGluZm9CdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICBpbmZvQnRuLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9ub3RpZmljYXRpb24taW5mby1pY29uLWxpZ2h0LnN2Z2ApO1xuICAgIH0pO1xuICAgIGluZm9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBvcGVuRXJyb3JMb2dXaW5kb3cobm90aWYubG9nSW5mbykpO1xuICB9XG5cbiAgcmV0dXJuIG5vdGlmRGl2O1xufVxuXG5cbi8qKlxuICogQWRkIG5vdGlmaWNhdGlvbiB0byB0aGUgcGVyc2lzdGVudCBlcnJvciBsb2cgb24gdGhlIHNpZGViYXJcbiAqIEBwYXJhbSBub3RpZiB7Tm90aWZpY2F0aW9ufSBOb3RpZmljYXRpb24gdG8gYWRkIHRvIHRoZSBlcnJvciBsb2dcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZE5vdGlmaWNhdGlvbiAobm90aWY6IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICBjb25zdCBsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dDb250ZW50cycpO1xuICBsb2cucHJlcGVuZChjcmVhdGVMb2dNZXNzYWdlKG5vdGlmKSk7XG59XG5cblxuLyoqXG4gKiBJbml0aWFsaXplIGVycm9yIGxvZy5cbiAqIEFkZHMgbmVjZXNzYXJ5IEhUTUwgdG8gRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVycm9yTG9nKCk6IHZvaWQge1xuICAvLyBFcnJvciBsb2cgcGFuZWxcbiAgY29uc3QgbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yX2xvZycpO1xuICBsb2cuaW5uZXJIVE1MID0gZXJyb3JMb2dzUGFuZWxDb250ZW50cztcblxuICBpbml0RXJyb3JMb2dDb250cm9scygpO1xufVxuXG5cbi8qKlxuICogU2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgZXJyb3IgTG9nIHBhbmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RXJyb3JMb2dDb250cm9scygpOiB2b2lkIHtcbiAgY29uc3QgZXJyb3JQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvckxvZ0hlYWRpbmcnKTtcbiAgY29uc3QgZHJvcGRvd25JY29uID0gaGVhZGluZy5xdWVyeVNlbGVjdG9yKCdzdmcgPiB1c2UnKTtcbiAgY29uc3QgY29udGVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dDb250ZW50cycpIGFzIEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0IHsgZGlzcGxheUVyckxvZyB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgaWYgKGRpc3BsYXlFcnJMb2cpIGVycm9yUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gIGhlYWRpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgLy8gaWYgZXJyb3IgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGNvbnRlbnRzLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2VkJykpIHtcbiAgICAgIC8vIHNldCBjbGFzc2VzIGFuZCBzdHlsZXMgZm9yIGFuIG9wZW4gcGFuZWxcbiAgICAgIGNvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgY29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9IFxuICAgIC8vIGlmIGVycm9yIHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgZWxzZSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhIGNsb3NlZCBwYW5lbFxuICAgICAgY29udGVudHMuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgICBjb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBkcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1zaWRlYCk7XG4gICAgfVxuICB9KTtcblxuICBpbml0RGlzcGxheUxpc3RlbmVyKCk7XG59XG5cblxuLyoqXG4gKiBJbml0aWFsaXplcyBjbGljayBsaXN0ZW5lciBvbiBcIlNob3cgZXJyb3IgbG9nc1wiIGJ1dHRvbiBpbiBcIlZpZXdcIiBkcm9wZG93bi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREaXNwbGF5TGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IGNoZWNrYm94ZXNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlzcGxheS1zaW5nbGUtY29udGFpbmVyJyk7XG4gIGNvbnN0IGVycm9yc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgY29uc3QgZXJvcnJzQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICBlcm9ycnNCdG4uY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgZXJyb3JzTGFiZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtY29udGFpbmVyJywgJ3NpZGUtcGFuZWwtYnRuJyk7XG4gIGVycm9yc0xhYmVsLnRleHRDb250ZW50ID0gJ0Vycm9ycyc7XG4gIGVyb3Jyc0J0bi5pZCA9ICdkaXNwbGF5LWVycm9ycyc7XG4gIGVyb3Jyc0J0bi50eXBlID0gJ2NoZWNrYm94JztcbiAgZXJvcnJzQnRuLmNoZWNrZWQgPSBmYWxzZTtcbiAgZXJyb3JzTGFiZWwuYXBwZW5kQ2hpbGQoZXJvcnJzQnRuKTtcbiAgY2hlY2tib3hlc0NvbnRhaW5lci5hcHBlbmQoZXJyb3JzTGFiZWwpO1xuXG4gIGNvbnN0IHsgZGlzcGxheUVyckxvZyB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgZXJvcnJzQnRuLmNoZWNrZWQgPSBkaXNwbGF5RXJyTG9nO1xuXG4gIGVyb3Jyc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlFcnJMb2c6IGVyb3Jyc0J0bi5jaGVja2VkIH0pO1xuICAgIHVwZGF0ZUVycm9yTG9nVmlzaWJpbGl0eSgpO1xuICB9KTtcbn1cblxuXG5mdW5jdGlvbiBvcGVuRXJyb3JMb2dXaW5kb3cobG9nOiBzdHJpbmcpIHtcbiAgY29uc3QgbW9kYWxXaW5kb3cgPSBuZXcgTW9kYWxXaW5kb3coKTtcbiAgbW9kYWxXaW5kb3cuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5FUlJPUl9MT0csIGxvZyk7XG4gIG1vZGFsV2luZG93Lm9wZW5Nb2RhbFdpbmRvdygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRXJyb3JMb2dWaXNpYmlsaXR5KCk6IHZvaWQge1xuICBjb25zdCBub3RpZlBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yX2xvZycpO1xuICBjb25zdCB7IGRlYnVnTW9kZSwgZGlzcGxheUVyckxvZywgZGlzcGxheUluZm8sIGRpc3BsYXlCQm94LCBkaXNwbGF5VGV4dCB9ID0gZ2V0U2V0dGluZ3MoKTtcblxuICBjb25zdCBkaXNwbGF5QWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktYWxsLWJ0bicpO1xuXG4gIGlmIChkZWJ1Z01vZGUpIHtcbiAgICBpZiAoZGlzcGxheUVyckxvZykge1xuICAgICAgbm90aWZQYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgICBpZiAoZGlzcGxheUluZm8gJiYgZGlzcGxheUJCb3ggJiYgXG4gICAgICAgIGRpc3BsYXlUZXh0ICYmIGRpc3BsYXlFcnJMb2cpIHtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdIaWRlIEFsbCc7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbm90aWZQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICBpZiAoZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIGlmIChkaXNwbGF5SW5mbyAmJiBkaXNwbGF5QkJveCAmJiBkaXNwbGF5VGV4dCkge1xuICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgZ2V0U3RhZmZCQm94LCBzZWxlY3RCQm94LCBzZWxlY3RTdGFmZiwgc2VsZWN0QWxsIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBFZGl0b3JBY3Rpb24sIFJlc2l6ZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGlzT3V0T2ZTVkdCb3VuZHMgfSBmcm9tICcuL0Nvb3JkaW5hdGVzJztcbmltcG9ydCB7IHF1ZXVlTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuL0xvY2FsU2V0dGluZ3MnO1xuXG4vKipcbiAqIFJlc2l6ZSBhIHN0YWZmIG9yIGEgc3lsbGFibGUgdGV4dCBib3VuZGluZyBib3guXG4gKiBGb3Igc3RhdmVzLCB0aGlzIGFsc28gc3VwcG9ydHMgYWRqdXN0aW5nIHRoZSByb3RhdGUuXG4gKi9cbnR5cGUgUG9pbnQgPSB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyBuYW1lOiBudW1iZXIgfTtcblxuLyoqXG4gKiBUaGUgcG9pbnRzIHlvdSBjYW4gY2xpY2sgYW5kIGRyYWcgdG8gcmVzaXplXG4gKi9cbmNvbnN0IFBvaW50TmFtZXMgPSB7XG4gIFRvcExlZnQ6IDAsXG4gIFRvcDogMSxcbiAgVG9wUmlnaHQ6IDIsXG4gIFJpZ2h0OiAzLFxuICBCb3R0b21SaWdodDogNCxcbiAgQm90dG9tOiA1LFxuICBCb3R0b21MZWZ0OiA2LFxuICBMZWZ0OiA3XG59O1xuXG5mdW5jdGlvbiBnZXRQb2ludHModWx4OiBudW1iZXIsIHVseTogbnVtYmVyLCBscng6IG51bWJlciwgbHJ5OiBudW1iZXIsIHJvdGF0ZTogbnVtYmVyKTogUG9pbnRbXSB7XG4gIC8vIE5vdGUgdGhhdCBhcmMgZnVuY3Rpb25zIHJldHVybiBhbiBhbmdsZSB4IGluIFstcGkvMiwgcGkvMl0uXG4gIGxldCBwb2ludHM6IEFycmF5PFBvaW50PjtcbiAgLy8gdWwgaXMgdWx4LCB1bHksIGxyIGlzIGxyeCwgbHJ5XG4gIGlmIChyb3RhdGUgPj0gMCkge1xuICAgIHBvaW50cyA9IFtcbiAgICAgIHsgeDogdWx4LCB5OiB1bHksIG5hbWU6IFBvaW50TmFtZXMuVG9wTGVmdCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IHVseSArIChscnggLSB1bHgpIC8gMiAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuVG9wIH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5ICsgKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLlRvcFJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogKHVseSArIGxyeSArIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSkgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogbHJ5LCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogbHJ5IC0gKGxyeCAtIHVseCkgLyAyICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b20gfSxcbiAgICAgIHsgeDogdWx4LCB5OiBscnkgLSAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tTGVmdCB9LFxuICAgICAgeyB4OiB1bHgsIHk6ICh1bHkgKyBscnkgLSAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSkpIC8gMiwgbmFtZTogUG9pbnROYW1lcy5MZWZ0IH1cbiAgICBdO1xuICB9XG4gIC8vIE5vdCB0aGF0XG4gIGVsc2Uge1xuICAgIGNvbnN0IGEgPSAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKE1hdGguYWJzKHJvdGF0ZSkpO1xuICAgIGNvbnN0IGIgPSBscnkgLSB1bHkgLSBhO1xuICAgIHBvaW50cyA9IFtcbiAgICAgIHsgeDogdWx4LCB5OiB1bHkgKyBhLCBuYW1lOiBQb2ludE5hbWVzLlRvcExlZnQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiB1bHkgKyBhIC8gMiwgbmFtZTogUG9pbnROYW1lcy5Ub3AgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHksIG5hbWU6IFBvaW50TmFtZXMuVG9wUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHkgKyBiIC8gMiwgbmFtZTogUG9pbnROYW1lcy5SaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSArIGIsIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tUmlnaHQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiBscnkgLSBhIC8gMiwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b20gfSxcbiAgICAgIHsgeDogdWx4LCB5OiBscnksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tTGVmdCB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSAtIGIgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkxlZnQgfVxuICAgIF07XG4gIH1cbiAgcmV0dXJuIHBvaW50cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZSAoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50LCBuZW9uVmlldzogTmVvblZpZXcsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IHZvaWQge1xuICBsZXQgdWx4OiBudW1iZXI7XG4gIGxldCB1bHk6IG51bWJlcjtcbiAgbGV0IGxyeDogbnVtYmVyO1xuICBsZXQgbHJ5OiBudW1iZXI7XG4gIGxldCByb3RhdGU6IG51bWJlcjtcblxuICBsZXQgaW5pdGlhbFVseDogbnVtYmVyLCBpbml0aWFsTHJ4OiBudW1iZXI7XG4gIGxldCBpbml0aWFsUG9pbnQ6IG51bWJlcltdLCBpbml0aWFsVWx5OiBudW1iZXIsIGluaXRpYWxMcnk6IG51bWJlcixcbiAgICBpbml0aWFsWTogbnVtYmVyLCBpbml0aWFsUmVjdFk6IG51bWJlciwgcG9seUxlbjogbnVtYmVyLCBkeTogbnVtYmVyLCBpbml0aWFsUm90YXRlOiBudW1iZXI7XG5cbiAgZHJhd0luaXRpYWxSZWN0KCk7XG5cbiAgLyoqXG4gICAqIFJlZHJhdyB0aGUgcmVjdGFuZ2xlIHdpdGggdGhlIG5ldyBib3VuZHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlZHJhdyAoKTogdm9pZCB7XG4gICAgY29uc3QgcG9pbnRzOiBQb2ludFtdID0gZ2V0UG9pbnRzKHVseCwgdWx5LCBscngsIGxyeSwgcm90YXRlKTtcblxuICAgIGNvbnN0IHBvaW50U3RyaW5nOiBzdHJpbmcgPSBwb2ludHMuZmlsdGVyKChfZWxlbSwgaW5kZXgpID0+IHsgcmV0dXJuIGluZGV4ICUgMiA9PT0gMDsgfSlcbiAgICAgIC5tYXAoZWxlbSA9PiBlbGVtLnggKyAnLCcgKyBlbGVtLnkpXG4gICAgICAuam9pbignICcpO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc2l6ZVJlY3QnKS5zZXRBdHRyaWJ1dGUoJ3BvaW50cycsIHBvaW50U3RyaW5nKTtcblxuICAgIGNvbnN0IHRleHRSZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN5bC5zZWxlY3RlZCA+IC5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgaWYgKHRleHRSZWN0KSB7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3gnLCBTdHJpbmcoTWF0aC5taW4odWx4LCBscngpKSk7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3knLCBTdHJpbmcoTWF0aC5taW4odWx5LCBscnkpKSk7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgU3RyaW5nKE1hdGguYWJzKGxyeCAtIHVseCkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgU3RyaW5nKE1hdGguYWJzKGxyeSAtIHVseSkpKTtcbiAgICB9XG5cblxuICAgIGZvciAoY29uc3QgcG9pbnROYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGNvbnN0IHBvaW50OiBQb2ludCA9IHBvaW50c1tQb2ludE5hbWVzW3BvaW50TmFtZV1dO1xuICAgICAgZDMuc2VsZWN0KCcjcC0nICsgcG9pbnROYW1lKS5maWx0ZXIoJy5yZXNpemVQb2ludCcpXG4gICAgICAgIC5hdHRyKCdjeCcsIHBvaW50LngpXG4gICAgICAgIC5hdHRyKCdjeScsIHBvaW50LnkpO1xuICAgIH1cblxuICAgIGxldCB4ID0gcG9pbnRzWzNdLng7XG4gICAgbGV0IHkgPSBwb2ludHNbM10ueTtcbiAgICBjb25zdCBwb2ludFN0cmluZ1JpZ2h0ID0gKHggKyAxMDApICsgJywnICsgKHkgKyA4NSkgKyAnICcgK1xuICAgICAgKHggKyA3MCkgKyAnLCcgKyAoeSArIDUwKSArICcgJyArICh4ICsgMTAwKSArICcsJyArICh5ICsgMTUpICsgJyAnICsgKHggKyAxMzApICsgJywnICsgKHkgKyA1MCk7XG4gICAgeCA9IHBvaW50c1s3XS54O1xuICAgIHkgPSBwb2ludHNbN10ueTtcbiAgICBjb25zdCBwb2ludFN0cmluZ0xlZnQgPSAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDE1KSArICcgJyArXG4gICAgICAoeCAtIDEzMCkgKyAnLCcgKyAoeSAtIDUwKSArICcgJyArICh4IC0gMTAwKSArICcsJyArICh5IC0gODUpICsgJyAnICsgKHggLSA3MCkgKyAnLCcgKyAoeSAtIDUwKTtcblxuICAgIGQzLnNlbGVjdCgnI3JvdGF0ZUxlZnQnKS5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ0xlZnQpO1xuICAgIGQzLnNlbGVjdCgnI3JvdGF0ZVJpZ2h0JykuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdSaWdodCk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgaW5pdGlhbCByZWN0YW5nbGUgYXJvdW5kIHRoZSBlbGVtZW50XG4gICAqIGFuZCBhZGQgdGhlIGxpc3RlbmVycyB0byBzdXBwb3J0IGRyYWdnaW5nIHRvIHJlc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGRyYXdJbml0aWFsUmVjdCAoKTogdm9pZCB7XG4gICAgaWYgKGVsZW1lbnQgPT09IG51bGwpIHJldHVybjtcblxuICAgIGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50JykucmVtb3ZlKCk7XG4gICAgZDMuc2VsZWN0QWxsKCcjcmVzaXplUmVjdCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnLnJvdGF0ZVBvaW50JykucmVtb3ZlKCk7XG5cbiAgICAvLyBpZiBpdCdzIGEgYm91bmRpbmdib3gganVzdCBnZXQgdGhlIGNvb3JkaW5hdGVzXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgY29uc3QgcmVjdCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmIChyZWN0ID09PSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVHJpZWQgdG8gZHJhdyByZXNpemUgcmVjdCBmb3IgYSBzeWxUZXh0UmVjdCB0aGF0IGRvZXNuXFwndCBleGlzdCAob3IgaXNuXFwndCBkaXNwbGF5aW5nKScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1bHggPSBOdW1iZXIocmVjdC5nZXRBdHRyaWJ1dGUoJ3gnKSk7XG4gICAgICB1bHkgPSBOdW1iZXIocmVjdC5nZXRBdHRyaWJ1dGUoJ3knKSk7XG4gICAgICBscnggPSArdWx4ICsgK3JlY3QuZ2V0QXR0cmlidXRlKCd3aWR0aCcpO1xuICAgICAgbHJ5ID0gK3VseSArICtyZWN0LmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jyk7XG5cbiAgICAgIHJvdGF0ZSA9IDA7XG4gICAgfVxuXG4gICAgLy8gaWYgaXQncyBhIHN0YWZmIHVzZSB0aGUgcGF0aHMgdG8gZ2V0IGl0J3MgYm91bmRpbmdib3hcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgIGNvbnN0IGJib3ggPSBnZXRTdGFmZkJCb3goZWxlbWVudCk7XG4gICAgICB1bHggPSBiYm94LnVseDtcbiAgICAgIHVseSA9IGJib3gudWx5O1xuICAgICAgbHJ4ID0gYmJveC5scng7XG4gICAgICBscnkgPSBiYm94LmxyeTtcblxuICAgICAgY29uc3QgY29vcmRpbmF0ZXM6IG51bWJlcltdID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdwYXRoJylcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZCcpXG4gICAgICAgIC5tYXRjaCgvXFxkKy9nKVxuICAgICAgICAubWFwKGVsZW1lbnQgPT4gTnVtYmVyKGVsZW1lbnQpKTtcbiAgICAgIHJvdGF0ZSA9IE1hdGguYXRhbigoY29vcmRpbmF0ZXNbM10gLSBjb29yZGluYXRlc1sxXSkgL1xuICAgICAgICAoY29vcmRpbmF0ZXNbMl0gLSBjb29yZGluYXRlc1swXSkpO1xuICAgIH1cblxuICAgIGluaXRpYWxVbHggPSB1bHgsIGluaXRpYWxVbHkgPSB1bHksIGluaXRpYWxMcnggPSBscngsIGluaXRpYWxMcnkgPSBscnk7XG5cbiAgICBsZXQgd2hpY2hQb2ludDogc3RyaW5nO1xuXG4gICAgY29uc3QgcG9pbnRzID0gZ2V0UG9pbnRzKHVseCwgdWx5LCBscngsIGxyeSwgcm90YXRlKTtcblxuICAgIHBvbHlMZW4gPSBwb2ludHNbMl0ueCAtIHBvaW50c1swXS54O1xuXG4gICAgY29uc3QgcG9pbnRTdHJpbmcgPSBwb2ludHMuZmlsdGVyKChfLCBpbmRleCkgPT4gaW5kZXggJSAyID09PSAwKVxuICAgICAgLm1hcChlbGVtID0+IGVsZW0ueCArICcsJyArIGVsZW0ueSlcbiAgICAgIC5qb2luKCcgJyk7XG5cbiAgICBkMy5zZWxlY3QoJyMnICsgZWxlbWVudC5pZCkuYXBwZW5kKCdwb2x5Z29uJylcbiAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZylcbiAgICAgIC5hdHRyKCdpZCcsICdyZXNpemVSZWN0JylcbiAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDEwKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnbm9uZScpXG4gICAgICAuc3R5bGUoJ2N1cnNvcicsICdtb3ZlJylcbiAgICAgIC5zdHlsZSgnc3Ryb2tlLWRhc2hhcnJheScsICcyMCAxMCcpO1xuXG4gICAgY29uc3QgeyBjaXJjbGVTaXplIH0gPSBnZXRTZXR0aW5ncygpO1xuXG4gICAgZm9yIChjb25zdCBwb2ludE5hbWUgaW4gUG9pbnROYW1lcykge1xuICAgICAgY29uc3QgcG9pbnQ6IFBvaW50ID0gcG9pbnRzW1BvaW50TmFtZXNbcG9pbnROYW1lXV07XG4gICAgICBkMy5zZWxlY3QoZWxlbWVudC52aWV3cG9ydEVsZW1lbnQpLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgICAgLmF0dHIoJ2N4JywgcG9pbnQueClcbiAgICAgICAgLmF0dHIoJ2N5JywgcG9pbnQueSlcbiAgICAgICAgLmF0dHIoJ3InLCBjaXJjbGVTaXplKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDQpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyMwMDk5ZmYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncmVzaXplUG9pbnQnKVxuICAgICAgICAuYXR0cignaWQnLCAncC0nICsgcG9pbnROYW1lKTtcbiAgICB9XG5cbiAgICAvLyBkbyBpdCBhcyBhIGxvb3AgaW5zdGVhZCBvZiBzZWxlY3RBbGwgc28gdGhhdCB5b3UgY2FuIGVhc2lseSBrbm93IHdoaWNoIHBvaW50IHdhc1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBQb2ludE5hbWVzKSB7XG4gICAgICBkMy5zZWxlY3QoJyNwLScgKyBuYW1lKS5maWx0ZXIoJy5yZXNpemVQb2ludCcpLmNhbGwoXG4gICAgICAgIGQzLmRyYWcoKVxuICAgICAgICAgIC5vbignc3RhcnQnLCAoKSA9PiB7IHJlc2l6ZVN0YXJ0KG5hbWUpOyB9KVxuICAgICAgICAgIC5vbignZHJhZycsIHJlc2l6ZURyYWcpXG4gICAgICAgICAgLm9uKCdlbmQnLCByZXNpemVFbmQuYmluZCh0aGlzKSkpO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgICAgbGV0IHggPSBwb2ludHNbM10ueDtcbiAgICAgIGxldCB5ID0gcG9pbnRzWzNdLnk7XG4gICAgICBjb25zdCBwb2ludFN0cmluZ1JpZ2h0ID0gKHggKyAxMDApICsgJywnICsgKHkgKyA4NSkgKyAnICcgK1xuICAgICAgICAoeCArIDcwKSArICcsJyArICh5ICsgNTApICsgJyAnICsgKHggKyAxMDApICsgJywnICsgKHkgKyAxNSkgKyAnICcgKyAoeCArIDEzMCkgKyAnLCcgKyAoeSArIDUwKTtcbiAgICAgIHggPSBwb2ludHNbN10ueDtcbiAgICAgIHkgPSBwb2ludHNbN10ueTtcbiAgICAgIGNvbnN0IHBvaW50U3RyaW5nTGVmdCA9ICh4IC0gMTAwKSArICcsJyArICh5IC0gMTUpICsgJyAnICtcbiAgICAgICAgKHggLSAxMzApICsgJywnICsgKHkgLSA1MCkgKyAnICcgKyAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDg1KSArICcgJyArICh4IC0gNzApICsgJywnICsgKHkgLSA1MCk7XG5cbiAgICAgIGQzLnNlbGVjdCgnIycgKyBlbGVtZW50LmlkKS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdSaWdodClcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3JvdGF0ZVJpZ2h0JylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCA3KVxuICAgICAgICAuYXR0cignZmlsbCcsICcjMDA5OWZmJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JvdGF0ZVBvaW50Jyk7XG5cbiAgICAgIGQzLnNlbGVjdCgnIycgKyBlbGVtZW50LmlkKS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdMZWZ0KVxuICAgICAgICAuYXR0cignaWQnLCAncm90YXRlTGVmdCcpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgNylcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzAwOTlmZicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyb3RhdGVQb2ludCcpO1xuXG4gICAgICBkMy5zZWxlY3QoJyNyb3RhdGVMZWZ0JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsIHJvdGF0ZVN0YXJ0KVxuICAgICAgICAgIC5vbignZHJhZycsIHJvdGF0ZURyYWdMZWZ0KVxuICAgICAgICAgIC5vbignZW5kJywgcm90YXRlRW5kKSk7XG5cbiAgICAgIGQzLnNlbGVjdCgnI3JvdGF0ZVJpZ2h0JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsIHJvdGF0ZVN0YXJ0KVxuICAgICAgICAgIC5vbignZHJhZycsIHJvdGF0ZURyYWdSaWdodClcbiAgICAgICAgICAub24oJ2VuZCcsIHJvdGF0ZUVuZCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZVN0YXJ0IChuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgIHdoaWNoUG9pbnQgPSBuYW1lO1xuICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHMuZmluZChwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzW25hbWVdKTtcbiAgICAgIGluaXRpYWxQb2ludCA9IFtwb2ludC54LCBwb2ludC55XTtcbiAgICAgIGluaXRpYWxVbHkgPSB1bHk7XG4gICAgICBpbml0aWFsTHJ5ID0gbHJ5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZURyYWcgKCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VycmVudFBvaW50ID0gZDMubW91c2UodGhpcyk7XG4gICAgICBzd2l0Y2ggKFBvaW50TmFtZXNbd2hpY2hQb2ludF0pIHtcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlRvcExlZnQ6XG4gICAgICAgICAgdWx4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlRvcDpcbiAgICAgICAgICB1bHkgPSBjdXJyZW50UG9pbnRbMV0gLSAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkgLyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXSAtIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlJpZ2h0OlxuICAgICAgICAgIGxyeCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICBscnkgPSBpbml0aWFsTHJ5ICsgKGN1cnJlbnRQb2ludFswXSAtIGluaXRpYWxQb2ludFswXSkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIGxyeSA9IGN1cnJlbnRQb2ludFsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLkJvdHRvbTpcbiAgICAgICAgICBscnkgPSBjdXJyZW50UG9pbnRbMV0gKyAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkgLyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgbHJ5ID0gY3VycmVudFBvaW50WzFdICsgKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gaW5pdGlhbFVseSArIChjdXJyZW50UG9pbnRbMF0gLSBpbml0aWFsUG9pbnRbMF0pICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdTb21ldGhpbmcgdGhhdCB3YXNuXFwndCBhIHNpZGUgb2YgdGhlIHJlY3RhbmdsZSB3YXMgZHJhZ2dlZC4gVGhpcyBzaG91bGRuXFwndCBoYXBwZW4uJyk7XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemVFbmQgKCk6IHZvaWQge1xuICAgICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHModWx4LCB1bHkpIHx8IGlzT3V0T2ZTVkdCb3VuZHMobHJ4LCBscnkpKSB7XG4gICAgICAgIHVseCA9IGluaXRpYWxVbHgsIHVseSA9IGluaXRpYWxVbHksIGxyeCA9IGluaXRpYWxMcngsIGxyeSA9IGluaXRpYWxMcnk7XG4gICAgICAgIHJlZHJhdygpO1xuXG4gICAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBSZXNpemUgYWN0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBSZXNpemVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3Jlc2l6ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHVseDogdWx4LFxuICAgICAgICAgIHVseTogdWx5LFxuICAgICAgICAgIGxyeDogbHJ4LFxuICAgICAgICAgIGxyeTogbHJ5XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgYXdhaXQgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7ZWxlbWVudC5pZH1gKTtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkLCB1bHkgPSB1bmRlZmluZWQsIGxyeCA9IHVuZGVmaW5lZCwgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkcmF3SW5pdGlhbFJlY3QoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7ZWxlbWVudC5pZH1gKV0sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAgICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtb3JlRWRpdCcpO1xuXG4gICAgICAgICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICAgICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBST1RBVEVcbiAgICBmdW5jdGlvbiByb3RhdGVTdGFydCAoKTogdm9pZCB7XG4gICAgICBjb25zdCB3aGljaCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldC5pZDtcbiAgICAgIGluaXRpYWxZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBpbml0aWFsTHJ5ID0gbHJ5O1xuICAgICAgaW5pdGlhbFVseSA9IHVseTtcbiAgICAgIGluaXRpYWxSZWN0WSA9ICh3aGljaCA9PT0gJ3JvdGF0ZVJpZ2h0JyA/IGxyeSA6IHVseSk7XG4gICAgICBpbml0aWFsUm90YXRlID0gcm90YXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZURyYWdMZWZ0ICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBjb25zdCB0ZW1wID0gY3VycmVudFkgLSBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHRlbXBSb3RhdGUgPSBpbml0aWFsUm90YXRlIC0gTWF0aC5hdGFuKHRlbXAgLyBwb2x5TGVuKTtcbiAgICAgIGlmICh0ZW1wUm90YXRlID4gLTAuMiAmJiB0ZW1wUm90YXRlIDwgMC4yKSB7XG4gICAgICAgIGR5ID0gdGVtcDtcbiAgICAgICAgdWx5ID0gaW5pdGlhbFJlY3RZICsgZHk7XG4gICAgICAgIHJvdGF0ZSA9IHRlbXBSb3RhdGU7XG4gICAgICAgIGlmIChyb3RhdGUgPj0gMCkge1xuICAgICAgICAgIHVseSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcExlZnQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0KVswXS55O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVseSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BSaWdodClbMF0ueTtcbiAgICAgICAgICBscnkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21MZWZ0KVswXS55O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVEcmFnUmlnaHQgKCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VycmVudFkgPSBkMy5tb3VzZSh0aGlzKVsxXTtcbiAgICAgIGNvbnN0IHRlbXAgPSBjdXJyZW50WSAtIGluaXRpYWxZO1xuICAgICAgY29uc3QgdGVtcFJvdGF0ZSA9IGluaXRpYWxSb3RhdGUgKyBNYXRoLmF0YW4odGVtcCAvIHBvbHlMZW4pO1xuICAgICAgaWYgKHRlbXBSb3RhdGUgPiAtMC4yICYmIHRlbXBSb3RhdGUgPCAwLjIpIHtcbiAgICAgICAgZHkgPSB0ZW1wO1xuICAgICAgICByb3RhdGUgPSB0ZW1wUm90YXRlO1xuICAgICAgICBpZiAocm90YXRlID49IDAgKSB7XG4gICAgICAgICAgbHJ5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tUmlnaHQpWzBdLnk7XG4gICAgICAgICAgdWx5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcExlZnQpWzBdLnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdWx5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wUmlnaHQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbUxlZnQpWzBdLnk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZUVuZCAoKTogdm9pZCB7XG4gICAgICBpZiAoZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkeSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc091dE9mU1ZHQm91bmRzKHVseCwgdWx5KSB8fCBpc091dE9mU1ZHQm91bmRzKGxyeCwgbHJ5KSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVzaXplUG9pbnQnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Jlc2l6ZVJlY3QnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJvdGF0ZVBvaW50JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQuaWQpIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICB1bHggPSB1bmRlZmluZWQ7XG4gICAgICAgIHVseSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbHJ4ID0gdW5kZWZpbmVkO1xuICAgICAgICBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGR5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkcmF3SW5pdGlhbFJlY3QoKTtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgICAgIHNlbGVjdEJCb3goZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCBkcmFnSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0U3RhZmYoZWxlbWVudCwgZHJhZ0hhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIFJvdGF0ZSBhY3Rpb24gZmFpbGVkLicsICdlcnJvcicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAncmVzaXplUm90YXRlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgdWx4OiB1bHgsXG4gICAgICAgICAgdWx5OiB1bHksXG4gICAgICAgICAgbHJ4OiBscngsXG4gICAgICAgICAgbHJ5OiBscnksXG4gICAgICAgICAgcm90YXRlOiByb3RhdGUgKiAxODAgLyBNYXRoLlBJXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGF3YWl0IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQuaWQpIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICB1bHggPSB1bmRlZmluZWQsIHVseSA9IHVuZGVmaW5lZCwgbHJ4ID0gdW5kZWZpbmVkLCBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGR5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkcmF3SW5pdGlhbFJlY3QoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdFN0YWZmKGVsZW1lbnQsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgaW1tZWRpYXRlIGZyb20gJ2ltbWVkaWF0ZSc7XG5pbXBvcnQgeyB2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IE1kNSBmcm9tICdzcGFyay1tZDUnO1xuaW1wb3J0IHZ1dnV6ZWxhIGZyb20gJ3Z1dnV6ZWxhJztcbmltcG9ydCBnZXRBcmd1bWVudHMgZnJvbSAnYXJnc2FycmF5JztcbmltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5pbXBvcnQgRUUgZnJvbSAnZXZlbnRzJztcblxuZnVuY3Rpb24gbWFuZ2xlKGtleSkge1xuICByZXR1cm4gJyQnICsga2V5O1xufVxuZnVuY3Rpb24gdW5tYW5nbGUoa2V5KSB7XG4gIHJldHVybiBrZXkuc3Vic3RyaW5nKDEpO1xufVxuZnVuY3Rpb24gTWFwJDEoKSB7XG4gIHRoaXMuX3N0b3JlID0ge307XG59XG5NYXAkMS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICByZXR1cm4gdGhpcy5fc3RvcmVbbWFuZ2xlZF07XG59O1xuTWFwJDEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHRoaXMuX3N0b3JlW21hbmdsZWRdID0gdmFsdWU7XG4gIHJldHVybiB0cnVlO1xufTtcbk1hcCQxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHJldHVybiBtYW5nbGVkIGluIHRoaXMuX3N0b3JlO1xufTtcbk1hcCQxLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpLm1hcChrID0+IHVubWFuZ2xlKGspKTtcbn07XG5NYXAkMS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICB2YXIgcmVzID0gbWFuZ2xlZCBpbiB0aGlzLl9zdG9yZTtcbiAgZGVsZXRlIHRoaXMuX3N0b3JlW21hbmdsZWRdO1xuICByZXR1cm4gcmVzO1xufTtcbk1hcCQxLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNiKSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0ga2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuX3N0b3JlW2tleV07XG4gICAga2V5ID0gdW5tYW5nbGUoa2V5KTtcbiAgICBjYih2YWx1ZSwga2V5KTtcbiAgfVxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXAkMS5wcm90b3R5cGUsICdzaXplJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpLmxlbmd0aDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIFNldCQxKGFycmF5KSB7XG4gIHRoaXMuX3N0b3JlID0gbmV3IE1hcCQxKCk7XG5cbiAgLy8gaW5pdCB3aXRoIGFuIGFycmF5XG4gIGlmIChhcnJheSAmJiBBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdGhpcy5hZGQoYXJyYXlbaV0pO1xuICAgIH1cbiAgfVxufVxuU2V0JDEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX3N0b3JlLnNldChrZXksIHRydWUpO1xufTtcblNldCQxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9zdG9yZS5oYXMoa2V5KTtcbn07XG5TZXQkMS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYikge1xuICB0aGlzLl9zdG9yZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgY2Ioa2V5KTtcbiAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldCQxLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5zaXplO1xuICB9XG59KTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9rYW5nYXguZ2l0aHViLmlvL2NvbXBhdC10YWJsZS9lczYvIHdlIGNhbiBzbmlmZiBvdXRcbi8vIGluY29tcGxldGUgTWFwL1NldCBpbXBsZW1lbnRhdGlvbnMgd2hpY2ggd291bGQgb3RoZXJ3aXNlIGNhdXNlIG91ciB0ZXN0cyB0byBmYWlsLlxuLy8gTm90YWJseSB0aGV5IGZhaWwgaW4gSUUxMSBhbmQgaU9TIDguNCwgd2hpY2ggdGhpcyBwcmV2ZW50cy5cbmZ1bmN0aW9uIHN1cHBvcnRzTWFwQW5kU2V0KCkge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIE1hcCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIFNldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3AgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE1hcCwgU3ltYm9sLnNwZWNpZXMpO1xuICByZXR1cm4gcHJvcCAmJiAnZ2V0JyBpbiBwcm9wICYmIE1hcFtTeW1ib2wuc3BlY2llc10gPT09IE1hcDtcbn1cblxuLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL21vbnRhZ2Vqcy9jb2xsZWN0aW9uc1xuXG52YXIgRXhwb3J0ZWRTZXQ7XG52YXIgRXhwb3J0ZWRNYXA7XG5cbntcbiAgaWYgKHN1cHBvcnRzTWFwQW5kU2V0KCkpIHsgLy8gcHJlZmVyIGJ1aWx0LWluIE1hcC9TZXRcbiAgICBFeHBvcnRlZFNldCA9IFNldDtcbiAgICBFeHBvcnRlZE1hcCA9IE1hcDtcbiAgfSBlbHNlIHsgLy8gZmFsbCBiYWNrIHRvIG91ciBwb2x5ZmlsbFxuICAgIEV4cG9ydGVkU2V0ID0gU2V0JDE7XG4gICAgRXhwb3J0ZWRNYXAgPSBNYXAkMTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0JpbmFyeU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIG9iamVjdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fFxuICAgICh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqZWN0IGluc3RhbmNlb2YgQmxvYik7XG59XG5cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYnVmZikge1xuICBpZiAodHlwZW9mIGJ1ZmYuc2xpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYnVmZi5zbGljZSgwKTtcbiAgfVxuICAvLyBJRTEwLTExIHNsaWNlKCkgcG9seWZpbGxcbiAgdmFyIHRhcmdldCA9IG5ldyBBcnJheUJ1ZmZlcihidWZmLmJ5dGVMZW5ndGgpO1xuICB2YXIgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXQpO1xuICB2YXIgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmKTtcbiAgdGFyZ2V0QXJyYXkuc2V0KHNvdXJjZUFycmF5KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY2xvbmVCaW5hcnlPYmplY3Qob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG4gIH1cbiAgdmFyIHNpemUgPSBvYmplY3Quc2l6ZTtcbiAgdmFyIHR5cGUgPSBvYmplY3QudHlwZTtcbiAgLy8gQmxvYlxuICBpZiAodHlwZW9mIG9iamVjdC5zbGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBvYmplY3Quc2xpY2UoMCwgc2l6ZSwgdHlwZSk7XG4gIH1cbiAgLy8gUGhhbnRvbUpTIHNsaWNlKCkgcmVwbGFjZW1lbnRcbiAgcmV0dXJuIG9iamVjdC53ZWJraXRTbGljZSgwLCBzaXplLCB0eXBlKTtcbn1cblxuLy8gbW9zdCBvZiB0aGlzIGlzIGJvcnJvd2VkIGZyb20gbG9kYXNoLmlzUGxhaW5PYmplY3Q6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmlzLWNvbXBvbmVudHMvbG9kYXNoLmlzcGxhaW5vYmplY3QvXG4vLyBibG9iLzI5YzM1ODE0MGE3NGYyNTJhZWIwOGM5ZWIyOGJlZjg2ZjIyMTdkNGEvaW5kZXguanNcblxudmFyIGZ1bmNUb1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHByb3RvID09PSBudWxsKSB7IC8vIG5vdCBzdXJlIHdoZW4gdGhpcyBoYXBwZW5zLCBidXQgSSBndWVzcyBpdCBjYW5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiZcbiAgICBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nKTtcbn1cblxuZnVuY3Rpb24gY2xvbmUob2JqZWN0KSB7XG4gIHZhciBuZXdPYmplY3Q7XG4gIHZhciBpO1xuICB2YXIgbGVuO1xuXG4gIGlmICghb2JqZWN0IHx8IHR5cGVvZiBvYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICBuZXdPYmplY3QgPSBbXTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBvYmplY3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG5ld09iamVjdFtpXSA9IGNsb25lKG9iamVjdFtpXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmplY3Q7XG4gIH1cblxuICAvLyBzcGVjaWFsIGNhc2U6IHRvIGF2b2lkIGluY29uc2lzdGVuY2llcyBiZXR3ZWVuIEluZGV4ZWREQlxuICAvLyBhbmQgb3RoZXIgYmFja2VuZHMsIHdlIGF1dG9tYXRpY2FsbHkgc3RyaW5naWZ5IERhdGVzXG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBEYXRlICYmIGlzRmluaXRlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0LnRvSVNPU3RyaW5nKCk7XG4gIH1cblxuICBpZiAoaXNCaW5hcnlPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBjbG9uZUJpbmFyeU9iamVjdChvYmplY3QpO1xuICB9XG5cbiAgaWYgKCFpc1BsYWluT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0OyAvLyBkb24ndCBjbG9uZSBvYmplY3RzIGxpa2UgV29ya2Vyc1xuICB9XG5cbiAgbmV3T2JqZWN0ID0ge307XG4gIGZvciAoaSBpbiBvYmplY3QpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBpKSkge1xuICAgICAgdmFyIHZhbHVlID0gY2xvbmUob2JqZWN0W2ldKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5ld09iamVjdFtpXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3T2JqZWN0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGZ1bikge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgc21va2UgdGVzdCBhbmQgc2hvdWxkIG5ldmVyIGFjdHVhbGx5IGhhcHBlblxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvbmNlIGNhbGxlZCBtb3JlIHRoYW4gb25jZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvUHJvbWlzZShmdW5jKSB7XG4gIC8vY3JlYXRlIHRoZSBmdW5jdGlvbiB3ZSB3aWxsIGJlIHJldHVybmluZ1xuICByZXR1cm4gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgLy8gQ2xvbmUgYXJndW1lbnRzXG4gICAgYXJncyA9IGNsb25lKGFyZ3MpO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAvLyBpZiB0aGUgbGFzdCBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLCBhc3N1bWUgaXRzIGEgY2FsbGJhY2tcbiAgICB2YXIgdXNlZENCID0gKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpID8gYXJncy5wb3AoKSA6IGZhbHNlO1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgdmFyIHJlc3A7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBvbmNlKGZ1bmN0aW9uIChlcnIsIG1lc2cpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnVsZmlsbChtZXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgYSBjYWxsYmFjayBmb3IgdGhpcyBpbnZvY2F0aW9uXG4gICAgICAgIC8vIGFwcGx5IHRoZSBmdW5jdGlvbiBpbiB0aGUgb3JpZyBjb250ZXh0XG4gICAgICAgIGFyZ3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJlc3AgPSBmdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICBpZiAocmVzcCAmJiB0eXBlb2YgcmVzcC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZnVsZmlsbChyZXNwKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gaWYgdGhlcmUgaXMgYSBjYWxsYmFjaywgY2FsbCBpdCBiYWNrXG4gICAgaWYgKHVzZWRDQikge1xuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdXNlZENCKG51bGwsIHJlc3VsdCk7XG4gICAgICB9LCB1c2VkQ0IpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvZ0FwaUNhbGwoc2VsZiwgbmFtZSwgYXJncykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHNlbGYuY29uc3RydWN0b3IubGlzdGVuZXJzKCdkZWJ1ZycpLmxlbmd0aCkge1xuICAgIHZhciBsb2dBcmdzID0gWydhcGknLCBzZWxmLm5hbWUsIG5hbWVdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGxvZ0FyZ3MucHVzaChhcmdzW2ldKTtcbiAgICB9XG4gICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdkZWJ1ZycsIGxvZ0FyZ3MpO1xuXG4gICAgLy8gb3ZlcnJpZGUgdGhlIGNhbGxiYWNrIGl0c2VsZiB0byBsb2cgdGhlIHJlc3BvbnNlXG4gICAgdmFyIG9yaWdDYWxsYmFjayA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIHZhciByZXNwb25zZUFyZ3MgPSBbJ2FwaScsIHNlbGYubmFtZSwgbmFtZV07XG4gICAgICByZXNwb25zZUFyZ3MgPSByZXNwb25zZUFyZ3MuY29uY2F0KFxuICAgICAgICBlcnIgPyBbJ2Vycm9yJywgZXJyXSA6IFsnc3VjY2VzcycsIHJlc11cbiAgICAgICk7XG4gICAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ2RlYnVnJywgcmVzcG9uc2VBcmdzKTtcbiAgICAgIG9yaWdDYWxsYmFjayhlcnIsIHJlcyk7XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGFwdGVyRnVuKG5hbWUsIGNhbGxiYWNrKSB7XG4gIHJldHVybiB0b1Byb21pc2UoZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgaWYgKHRoaXMuX2Nsb3NlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZGF0YWJhc2UgaXMgY2xvc2VkJykpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdkYXRhYmFzZSBpcyBkZXN0cm95ZWQnKSk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBsb2dBcGlDYWxsKHNlbGYsIG5hbWUsIGFyZ3MpO1xuICAgIGlmICghdGhpcy50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbiAoZmFpbGVkKSB7XG4gICAgICAgICAgaWYgKGZhaWxlZCkge1xuICAgICAgICAgICAgcmVqZWN0KGZhaWxlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZ1bGZpbGwoc2VsZltuYW1lXS5hcHBseShzZWxmLCBhcmdzKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XG4gIH0pKTtcbn1cblxuLy8gbGlrZSB1bmRlcnNjb3JlL2xvZGFzaCBfLnBpY2soKVxuZnVuY3Rpb24gcGljayhvYmosIGFycikge1xuICB2YXIgcmVzID0ge307XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgcHJvcCA9IGFycltpXTtcbiAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgIHJlc1twcm9wXSA9IG9ialtwcm9wXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLy8gTW9zdCBicm93c2VycyB0aHJvdHRsZSBjb25jdXJyZW50IHJlcXVlc3RzIGF0IDYsIHNvIGl0J3Mgc2lsbHlcbi8vIHRvIHNoaW0gX2J1bGtfZ2V0IGJ5IHRyeWluZyB0byBsYXVuY2ggcG90ZW50aWFsbHkgaHVuZHJlZHMgb2YgcmVxdWVzdHNcbi8vIGFuZCB0aGVuIGxldHRpbmcgdGhlIG1ham9yaXR5IHRpbWUgb3V0LiBXZSBjYW4gaGFuZGxlIHRoaXMgb3Vyc2VsdmVzLlxudmFyIE1BWF9OVU1fQ09OQ1VSUkVOVF9SRVFVRVNUUyA9IDY7XG5cbmZ1bmN0aW9uIGlkZW50aXR5RnVuY3Rpb24oeCkge1xuICByZXR1cm4geDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQocmVzdWx0KSB7XG4gIHJldHVybiBbe1xuICAgIG9rOiByZXN1bHRcbiAgfV07XG59XG5cbi8vIHNoaW0gZm9yIFAvQ291Y2hEQiBhZGFwdGVycyB0aGF0IGRvbid0IGRpcmVjdGx5IGltcGxlbWVudCBfYnVsa19nZXRcbmZ1bmN0aW9uIGJ1bGtHZXQoZGIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciByZXF1ZXN0cyA9IG9wdHMuZG9jcztcblxuICAvLyBjb25zb2xpZGF0ZSBpbnRvIG9uZSByZXF1ZXN0IHBlciBkb2MgaWYgcG9zc2libGVcbiAgdmFyIHJlcXVlc3RzQnlJZCA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICByZXF1ZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgaWYgKHJlcXVlc3RzQnlJZC5oYXMocmVxdWVzdC5pZCkpIHtcbiAgICAgIHJlcXVlc3RzQnlJZC5nZXQocmVxdWVzdC5pZCkucHVzaChyZXF1ZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdHNCeUlkLnNldChyZXF1ZXN0LmlkLCBbcmVxdWVzdF0pO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIG51bURvY3MgPSByZXF1ZXN0c0J5SWQuc2l6ZTtcbiAgdmFyIG51bURvbmUgPSAwO1xuICB2YXIgcGVyRG9jUmVzdWx0cyA9IG5ldyBBcnJheShudW1Eb2NzKTtcblxuICBmdW5jdGlvbiBjb2xsYXBzZVJlc3VsdHNBbmRGaW5pc2goKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwZXJEb2NSZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgcmVzLmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgIGlkOiByZXMuaWQsXG4gICAgICAgICAgZG9jczogW2luZm9dXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY2FsbGJhY2sobnVsbCwge3Jlc3VsdHM6IHJlc3VsdHN9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBpZiAoKytudW1Eb25lID09PSBudW1Eb2NzKSB7XG4gICAgICBjb2xsYXBzZVJlc3VsdHNBbmRGaW5pc2goKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnb3RSZXN1bHQoZG9jSW5kZXgsIGlkLCBkb2NzKSB7XG4gICAgcGVyRG9jUmVzdWx0c1tkb2NJbmRleF0gPSB7aWQ6IGlkLCBkb2NzOiBkb2NzfTtcbiAgICBjaGVja0RvbmUoKTtcbiAgfVxuXG4gIHZhciBhbGxSZXF1ZXN0cyA9IFtdO1xuICByZXF1ZXN0c0J5SWQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIGFsbFJlcXVlc3RzLnB1c2goa2V5KTtcbiAgfSk7XG5cbiAgdmFyIGkgPSAwO1xuXG4gIGZ1bmN0aW9uIG5leHRCYXRjaCgpIHtcblxuICAgIGlmIChpID49IGFsbFJlcXVlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB1cFRvID0gTWF0aC5taW4oaSArIE1BWF9OVU1fQ09OQ1VSUkVOVF9SRVFVRVNUUywgYWxsUmVxdWVzdHMubGVuZ3RoKTtcbiAgICB2YXIgYmF0Y2ggPSBhbGxSZXF1ZXN0cy5zbGljZShpLCB1cFRvKTtcbiAgICBwcm9jZXNzQmF0Y2goYmF0Y2gsIGkpO1xuICAgIGkgKz0gYmF0Y2gubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKGJhdGNoLCBvZmZzZXQpIHtcbiAgICBiYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJZCwgaikge1xuICAgICAgdmFyIGRvY0lkeCA9IG9mZnNldCArIGo7XG4gICAgICB2YXIgZG9jUmVxdWVzdHMgPSByZXF1ZXN0c0J5SWQuZ2V0KGRvY0lkKTtcblxuICAgICAgLy8ganVzdCB1c2UgdGhlIGZpcnN0IHJlcXVlc3QgYXMgdGhlIFwidGVtcGxhdGVcIlxuICAgICAgLy8gVE9ETzogVGhlIF9idWxrX2dldCBBUEkgYWxsb3dzIGZvciBtb3JlIHN1YnRsZSB1c2UgY2FzZXMgdGhhbiB0aGlzLFxuICAgICAgLy8gYnV0IGZvciBub3cgaXQgaXMgdW5saWtlbHkgdGhhdCB0aGVyZSB3aWxsIGJlIGEgbWl4IG9mIGRpZmZlcmVudFxuICAgICAgLy8gXCJhdHRzX3NpbmNlXCIgb3IgXCJhdHRhY2htZW50c1wiIGluIHRoZSBzYW1lIHJlcXVlc3QsIHNpbmNlIGl0J3MganVzdFxuICAgICAgLy8gcmVwbGljYXRlLmpzIHRoYXQgaXMgdXNpbmcgdGhpcyBmb3IgdGhlIG1vbWVudC5cbiAgICAgIC8vIEFsc28sIGF0dHNfc2luY2UgaXMgYXNwaXJhdGlvbmFsLCBzaW5jZSB3ZSBkb24ndCBzdXBwb3J0IGl0IHlldC5cbiAgICAgIHZhciBkb2NPcHRzID0gcGljayhkb2NSZXF1ZXN0c1swXSwgWydhdHRzX3NpbmNlJywgJ2F0dGFjaG1lbnRzJ10pO1xuICAgICAgZG9jT3B0cy5vcGVuX3JldnMgPSBkb2NSZXF1ZXN0cy5tYXAoZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgLy8gcmV2IGlzIG9wdGlvbmFsLCBvcGVuX3JldnMgZGlzYWxsb3dlZFxuICAgICAgICByZXR1cm4gcmVxdWVzdC5yZXY7XG4gICAgICB9KTtcblxuICAgICAgLy8gcmVtb3ZlIGZhbHNleSAvIHVuZGVmaW5lZCByZXZpc2lvbnNcbiAgICAgIGRvY09wdHMub3Blbl9yZXZzID0gZG9jT3B0cy5vcGVuX3JldnMuZmlsdGVyKGlkZW50aXR5RnVuY3Rpb24pO1xuXG4gICAgICB2YXIgZm9ybWF0UmVzdWx0ID0gaWRlbnRpdHlGdW5jdGlvbjtcblxuICAgICAgaWYgKGRvY09wdHMub3Blbl9yZXZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkZWxldGUgZG9jT3B0cy5vcGVuX3JldnM7XG5cbiAgICAgICAgLy8gd2hlbiBmZXRjaGluZyBvbmx5IHRoZSBcIndpbm5pbmdcIiBsZWFmLFxuICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIHJlc3VsdCBzbyBpdCBsb29rcyBsaWtlIGFuIG9wZW5fcmV2c1xuICAgICAgICAvLyByZXF1ZXN0XG4gICAgICAgIGZvcm1hdFJlc3VsdCA9IGZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0O1xuICAgICAgfVxuXG4gICAgICAvLyBnbG9iYWxseS1zdXBwbGllZCBvcHRpb25zXG4gICAgICBbJ3JldnMnLCAnYXR0YWNobWVudHMnLCAnYmluYXJ5JywgJ2FqYXgnLCAnbGF0ZXN0J10uZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgaWYgKHBhcmFtIGluIG9wdHMpIHtcbiAgICAgICAgICBkb2NPcHRzW3BhcmFtXSA9IG9wdHNbcGFyYW1dO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRiLmdldChkb2NJZCwgZG9jT3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVzdWx0ID0gW3tlcnJvcjogZXJyfV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gZm9ybWF0UmVzdWx0KHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZ290UmVzdWx0KGRvY0lkeCwgZG9jSWQsIHJlc3VsdCk7XG4gICAgICAgIG5leHRCYXRjaCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBuZXh0QmF0Y2goKTtcblxufVxuXG52YXIgaGFzTG9jYWw7XG5cbnRyeSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfcG91Y2hfY2hlY2tfbG9jYWxzdG9yYWdlJywgMSk7XG4gIGhhc0xvY2FsID0gISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX3BvdWNoX2NoZWNrX2xvY2Fsc3RvcmFnZScpO1xufSBjYXRjaCAoZSkge1xuICBoYXNMb2NhbCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBoYXNMb2NhbFN0b3JhZ2UoKSB7XG4gIHJldHVybiBoYXNMb2NhbDtcbn1cblxuLy8gQ3VzdG9tIG5leHRUaWNrKCkgc2hpbSBmb3IgYnJvd3NlcnMuIEluIG5vZGUsIHRoaXMgd2lsbCBqdXN0IGJlIHByb2Nlc3MubmV4dFRpY2soKS4gV2VcblxuaW5oZXJpdHMoQ2hhbmdlcywgRUUpO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gYXR0YWNoQnJvd3NlckV2ZW50cyhzZWxmKSB7XG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSkge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBzZWxmLmVtaXQoZS5rZXkpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIENoYW5nZXMoKSB7XG4gIEVFLmNhbGwodGhpcyk7XG4gIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuXG4gIGF0dGFjaEJyb3dzZXJFdmVudHModGhpcyk7XG59XG5DaGFuZ2VzLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChkYk5hbWUsIGlkLCBkYiwgb3B0cykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHRoaXMuX2xpc3RlbmVyc1tpZF0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICBmdW5jdGlvbiBldmVudEZ1bmN0aW9uKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghc2VsZi5fbGlzdGVuZXJzW2lkXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5wcm9ncmVzcykge1xuICAgICAgaW5wcm9ncmVzcyA9ICd3YWl0aW5nJztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5wcm9ncmVzcyA9IHRydWU7XG4gICAgdmFyIGNoYW5nZXNPcHRzID0gcGljayhvcHRzLCBbXG4gICAgICAnc3R5bGUnLCAnaW5jbHVkZV9kb2NzJywgJ2F0dGFjaG1lbnRzJywgJ2NvbmZsaWN0cycsICdmaWx0ZXInLFxuICAgICAgJ2RvY19pZHMnLCAndmlldycsICdzaW5jZScsICdxdWVyeV9wYXJhbXMnLCAnYmluYXJ5JywgJ3JldHVybl9kb2NzJ1xuICAgIF0pO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBvbkVycm9yKCkge1xuICAgICAgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGRiLmNoYW5nZXMoY2hhbmdlc09wdHMpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKGMuc2VxID4gb3B0cy5zaW5jZSAmJiAhb3B0cy5jYW5jZWxsZWQpIHtcbiAgICAgICAgb3B0cy5zaW5jZSA9IGMuc2VxO1xuICAgICAgICBvcHRzLm9uQ2hhbmdlKGMpO1xuICAgICAgfVxuICAgIH0pLm9uKCdjb21wbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpbnByb2dyZXNzID09PSAnd2FpdGluZycpIHtcbiAgICAgICAgaW1tZWRpYXRlKGV2ZW50RnVuY3Rpb24pO1xuICAgICAgfVxuICAgICAgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICAgIH0pLm9uKCdlcnJvcicsIG9uRXJyb3IpO1xuICB9XG4gIHRoaXMuX2xpc3RlbmVyc1tpZF0gPSBldmVudEZ1bmN0aW9uO1xuICB0aGlzLm9uKGRiTmFtZSwgZXZlbnRGdW5jdGlvbik7XG59O1xuXG5DaGFuZ2VzLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChkYk5hbWUsIGlkKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIShpZCBpbiB0aGlzLl9saXN0ZW5lcnMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIEVFLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsIGRiTmFtZSxcbiAgICB0aGlzLl9saXN0ZW5lcnNbaWRdKTtcbiAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1tpZF07XG59O1xuXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5DaGFuZ2VzLnByb3RvdHlwZS5ub3RpZnlMb2NhbFdpbmRvd3MgPSBmdW5jdGlvbiAoZGJOYW1lKSB7XG4gIC8vZG8gYSB1c2VsZXNzIGNoYW5nZSBvbiBhIHN0b3JhZ2UgdGhpbmdcbiAgLy9pbiBvcmRlciB0byBnZXQgb3RoZXIgd2luZG93cydzIGxpc3RlbmVycyB0byBhY3RpdmF0ZVxuICBpZiAoaGFzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICBsb2NhbFN0b3JhZ2VbZGJOYW1lXSA9IChsb2NhbFN0b3JhZ2VbZGJOYW1lXSA9PT0gXCJhXCIpID8gXCJiXCIgOiBcImFcIjtcbiAgfVxufTtcblxuQ2hhbmdlcy5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gKGRiTmFtZSkge1xuICB0aGlzLmVtaXQoZGJOYW1lKTtcbiAgdGhpcy5ub3RpZnlMb2NhbFdpbmRvd3MoZGJOYW1lKTtcbn07XG5cbmZ1bmN0aW9uIGd1YXJkZWRDb25zb2xlKG1ldGhvZCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgY29uc29sZVttZXRob2RdLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJhbmRvbU51bWJlcihtaW4sIG1heCkge1xuICB2YXIgbWF4VGltZW91dCA9IDYwMDAwMDsgLy8gSGFyZC1jb2RlZCBkZWZhdWx0IG9mIDEwIG1pbnV0ZXNcbiAgbWluID0gcGFyc2VJbnQobWluLCAxMCkgfHwgMDtcbiAgbWF4ID0gcGFyc2VJbnQobWF4LCAxMCk7XG4gIGlmIChtYXggIT09IG1heCB8fCBtYXggPD0gbWluKSB7XG4gICAgbWF4ID0gKG1pbiB8fCAxKSA8PCAxOyAvL2RvdWJsaW5nXG4gIH0gZWxzZSB7XG4gICAgbWF4ID0gbWF4ICsgMTtcbiAgfVxuICAvLyBJbiBvcmRlciB0byBub3QgZXhjZWVkIG1heFRpbWVvdXQsIHBpY2sgYSByYW5kb20gdmFsdWUgYmV0d2VlbiBoYWxmIG9mIG1heFRpbWVvdXQgYW5kIG1heFRpbWVvdXRcbiAgaWYgKG1heCA+IG1heFRpbWVvdXQpIHtcbiAgICBtaW4gPSBtYXhUaW1lb3V0ID4+IDE7IC8vIGRpdmlkZSBieSB0d29cbiAgICBtYXggPSBtYXhUaW1lb3V0O1xuICB9XG4gIHZhciByYXRpbyA9IE1hdGgucmFuZG9tKCk7XG4gIHZhciByYW5nZSA9IG1heCAtIG1pbjtcblxuICByZXR1cm4gfn4ocmFuZ2UgKiByYXRpbyArIG1pbik7IC8vIH5+IGNvZXJjZXMgdG8gYW4gaW50LCBidXQgZmFzdC5cbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJhY2tPZmYobWluKSB7XG4gIHZhciBtYXggPSAwO1xuICBpZiAoIW1pbikge1xuICAgIG1heCA9IDIwMDA7XG4gIH1cbiAgcmV0dXJuIHJhbmRvbU51bWJlcihtaW4sIG1heCk7XG59XG5cbi8vIGRlc2lnbmVkIHRvIGdpdmUgaW5mbyB0byBicm93c2VyIHVzZXJzLCB3aG8gYXJlIGRpc3R1cmJlZFxuLy8gd2hlbiB0aGV5IHNlZSBodHRwIGVycm9ycyBpbiB0aGUgY29uc29sZVxuZnVuY3Rpb24gZXhwbGFpbkVycm9yKHN0YXR1cywgc3RyKSB7XG4gIGd1YXJkZWRDb25zb2xlKCdpbmZvJywgJ1RoZSBhYm92ZSAnICsgc3RhdHVzICsgJyBpcyB0b3RhbGx5IG5vcm1hbC4gJyArIHN0cik7XG59XG5cbnZhciBhc3NpZ247XG57XG4gIGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG4gIH0gZWxzZSB7XG4gICAgLy8gbGl0ZSBPYmplY3QuYXNzaWduIHBvbHlmaWxsIGJhc2VkIG9uXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuICAgIGFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICAgICAgaWYgKG5leHRTb3VyY2UgIT0gbnVsbCkgeyAvLyBTa2lwIG92ZXIgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0U291cmNlLCBuZXh0S2V5KSkge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdG87XG4gICAgfTtcbiAgfVxufVxuXG52YXIgJGluamVjdF9PYmplY3RfYXNzaWduID0gYXNzaWduO1xuXG5pbmhlcml0cyhQb3VjaEVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIFBvdWNoRXJyb3Ioc3RhdHVzLCBlcnJvciwgcmVhc29uKSB7XG4gIEVycm9yLmNhbGwodGhpcywgcmVhc29uKTtcbiAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gIHRoaXMubmFtZSA9IGVycm9yO1xuICB0aGlzLm1lc3NhZ2UgPSByZWFzb247XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xufVxuXG5Qb3VjaEVycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgcmVhc29uOiB0aGlzLnJlYXNvblxuICB9KTtcbn07XG5cbnZhciBVTkFVVEhPUklaRUQgPSBuZXcgUG91Y2hFcnJvcig0MDEsICd1bmF1dGhvcml6ZWQnLCBcIk5hbWUgb3IgcGFzc3dvcmQgaXMgaW5jb3JyZWN0LlwiKTtcbnZhciBNSVNTSU5HX0JVTEtfRE9DUyA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgXCJNaXNzaW5nIEpTT04gbGlzdCBvZiAnZG9jcydcIik7XG52YXIgTUlTU0lOR19ET0MgPSBuZXcgUG91Y2hFcnJvcig0MDQsICdub3RfZm91bmQnLCAnbWlzc2luZycpO1xudmFyIFJFVl9DT05GTElDVCA9IG5ldyBQb3VjaEVycm9yKDQwOSwgJ2NvbmZsaWN0JywgJ0RvY3VtZW50IHVwZGF0ZSBjb25mbGljdCcpO1xudmFyIElOVkFMSURfSUQgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdfaWQgZmllbGQgbXVzdCBjb250YWluIGEgc3RyaW5nJyk7XG52YXIgTUlTU0lOR19JRCA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ21pc3NpbmdfaWQnLCAnX2lkIGlzIHJlcXVpcmVkIGZvciBwdXRzJyk7XG52YXIgUkVTRVJWRURfSUQgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdPbmx5IHJlc2VydmVkIGRvY3VtZW50IGlkcyBtYXkgc3RhcnQgd2l0aCB1bmRlcnNjb3JlLicpO1xudmFyIE5PVF9PUEVOID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAncHJlY29uZGl0aW9uX2ZhaWxlZCcsICdEYXRhYmFzZSBub3Qgb3BlbicpO1xudmFyIFVOS05PV05fRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICd1bmtub3duX2Vycm9yJywgJ0RhdGFiYXNlIGVuY291bnRlcmVkIGFuIHVua25vd24gZXJyb3InKTtcbnZhciBCQURfQVJHID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnYmFkYXJnJywgJ1NvbWUgcXVlcnkgYXJndW1lbnQgaXMgaW52YWxpZCcpO1xudmFyIElOVkFMSURfUkVRVUVTVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2ludmFsaWRfcmVxdWVzdCcsICdSZXF1ZXN0IHdhcyBpbnZhbGlkJyk7XG52YXIgUVVFUllfUEFSU0VfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdxdWVyeV9wYXJzZV9lcnJvcicsICdTb21lIHF1ZXJ5IHBhcmFtZXRlciBpcyBpbnZhbGlkJyk7XG52YXIgRE9DX1ZBTElEQVRJT04gPSBuZXcgUG91Y2hFcnJvcig1MDAsICdkb2NfdmFsaWRhdGlvbicsICdCYWQgc3BlY2lhbCBkb2N1bWVudCBtZW1iZXInKTtcbnZhciBCQURfUkVRVUVTVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ1NvbWV0aGluZyB3cm9uZyB3aXRoIHRoZSByZXF1ZXN0Jyk7XG52YXIgTk9UX0FOX09CSkVDVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ0RvY3VtZW50IG11c3QgYmUgYSBKU09OIG9iamVjdCcpO1xudmFyIERCX01JU1NJTkcgPSBuZXcgUG91Y2hFcnJvcig0MDQsICdub3RfZm91bmQnLCAnRGF0YWJhc2Ugbm90IGZvdW5kJyk7XG52YXIgSURCX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnaW5kZXhlZF9kYl93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgV1NRX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnd2ViX3NxbF93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgTERCX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnbGV2ZWxEQl93ZW50X3dlbnRfYmFkJywgJ3Vua25vd24nKTtcbnZhciBGT1JCSURERU4gPSBuZXcgUG91Y2hFcnJvcig0MDMsICdmb3JiaWRkZW4nLCAnRm9yYmlkZGVuIGJ5IGRlc2lnbiBkb2MgdmFsaWRhdGVfZG9jX3VwZGF0ZSBmdW5jdGlvbicpO1xudmFyIElOVkFMSURfUkVWID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnSW52YWxpZCByZXYgZm9ybWF0Jyk7XG52YXIgRklMRV9FWElTVFMgPSBuZXcgUG91Y2hFcnJvcig0MTIsICdmaWxlX2V4aXN0cycsICdUaGUgZGF0YWJhc2UgY291bGQgbm90IGJlIGNyZWF0ZWQsIHRoZSBmaWxlIGFscmVhZHkgZXhpc3RzLicpO1xudmFyIE1JU1NJTkdfU1RVQiA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ21pc3Npbmdfc3R1YicsICdBIHByZS1leGlzdGluZyBhdHRhY2htZW50IHN0dWIgd2FzblxcJ3QgZm91bmQnKTtcbnZhciBJTlZBTElEX1VSTCA9IG5ldyBQb3VjaEVycm9yKDQxMywgJ2ludmFsaWRfdXJsJywgJ1Byb3ZpZGVkIFVSTCBpcyBpbnZhbGlkJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yKGVycm9yLCByZWFzb24pIHtcbiAgZnVuY3Rpb24gQ3VzdG9tUG91Y2hFcnJvcihyZWFzb24pIHtcbiAgICAvLyBpbmhlcml0IGVycm9yIHByb3BlcnRpZXMgZnJvbSBvdXIgcGFyZW50IGVycm9yIG1hbnVhbGx5XG4gICAgLy8gc28gYXMgdG8gYWxsb3cgcHJvcGVyIEpTT04gcGFyc2luZy5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgdmFyIG5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZXJyb3IpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBuYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHR5cGVvZiBlcnJvcltuYW1lc1tpXV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpc1tuYW1lc1tpXV0gPSBlcnJvcltuYW1lc1tpXV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gICAgfVxuXG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICBpZiAocmVhc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgIH1cbiAgfVxuICBDdXN0b21Qb3VjaEVycm9yLnByb3RvdHlwZSA9IFBvdWNoRXJyb3IucHJvdG90eXBlO1xuICByZXR1cm4gbmV3IEN1c3RvbVBvdWNoRXJyb3IocmVhc29uKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpIHtcblxuICBpZiAodHlwZW9mIGVyciAhPT0gJ29iamVjdCcpIHtcbiAgICB2YXIgZGF0YSA9IGVycjtcbiAgICBlcnIgPSBVTktOT1dOX0VSUk9SO1xuICAgIGVyci5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIGlmICgnZXJyb3InIGluIGVyciAmJiBlcnIuZXJyb3IgPT09ICdjb25mbGljdCcpIHtcbiAgICBlcnIubmFtZSA9ICdjb25mbGljdCc7XG4gICAgZXJyLnN0YXR1cyA9IDQwOTtcbiAgfVxuXG4gIGlmICghKCduYW1lJyBpbiBlcnIpKSB7XG4gICAgZXJyLm5hbWUgPSBlcnIuZXJyb3IgfHwgJ3Vua25vd24nO1xuICB9XG5cbiAgaWYgKCEoJ3N0YXR1cycgaW4gZXJyKSkge1xuICAgIGVyci5zdGF0dXMgPSA1MDA7XG4gIH1cblxuICBpZiAoISgnbWVzc2FnZScgaW4gZXJyKSkge1xuICAgIGVyci5tZXNzYWdlID0gZXJyLm1lc3NhZ2UgfHwgZXJyLnJlYXNvbjtcbiAgfVxuXG4gIGlmICghKCdzdGFjaycgaW4gZXJyKSkge1xuICAgIGVyci5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICByZXR1cm4gZXJyO1xufVxuXG5mdW5jdGlvbiB0cnlGaWx0ZXIoZmlsdGVyLCBkb2MsIHJlcSkge1xuICB0cnkge1xuICAgIHJldHVybiAhZmlsdGVyKGRvYywgcmVxKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdmFyIG1zZyA9ICdGaWx0ZXIgZnVuY3Rpb24gdGhyZXc6ICcgKyBlcnIudG9TdHJpbmcoKTtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsIG1zZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmlsdGVyQ2hhbmdlKG9wdHMpIHtcbiAgdmFyIHJlcSA9IHt9O1xuICB2YXIgaGFzRmlsdGVyID0gb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nO1xuICByZXEucXVlcnkgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcblxuICByZXR1cm4gZnVuY3Rpb24gZmlsdGVyKGNoYW5nZSkge1xuICAgIGlmICghY2hhbmdlLmRvYykge1xuICAgICAgLy8gQ1NHIHNlbmRzIGV2ZW50cyBvbiB0aGUgY2hhbmdlcyBmZWVkIHRoYXQgZG9uJ3QgaGF2ZSBkb2N1bWVudHMsXG4gICAgICAvLyB0aGlzIGhhY2sgbWFrZXMgYSB3aG9sZSBsb3Qgb2YgZXhpc3RpbmcgY29kZSByb2J1c3QuXG4gICAgICBjaGFuZ2UuZG9jID0ge307XG4gICAgfVxuXG4gICAgdmFyIGZpbHRlclJldHVybiA9IGhhc0ZpbHRlciAmJiB0cnlGaWx0ZXIob3B0cy5maWx0ZXIsIGNoYW5nZS5kb2MsIHJlcSk7XG5cbiAgICBpZiAodHlwZW9mIGZpbHRlclJldHVybiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmaWx0ZXJSZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGZpbHRlclJldHVybikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIGRlbGV0ZSBjaGFuZ2UuZG9jO1xuICAgIH0gZWxzZSBpZiAoIW9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIGZvciAodmFyIGF0dCBpbiBjaGFuZ2UuZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoYW5nZS5kb2MuX2F0dGFjaG1lbnRzLCBhdHQpKSB7XG4gICAgICAgICAgY2hhbmdlLmRvYy5fYXR0YWNobWVudHNbYXR0XS5zdHViID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbihhcnJzKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICByZXMgPSByZXMuY29uY2F0KGFycnNbaV0pO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbi8vIHNoaW0gZm9yIEZ1bmN0aW9uLnByb3RvdHlwZS5uYW1lLFxuXG4vLyBEZXRlcm1pbmUgaWQgYW4gSUQgaXMgdmFsaWRcbi8vICAgLSBpbnZhbGlkIElEcyBiZWdpbiB3aXRoIGFuIHVuZGVyZXNjb3JlIHRoYXQgZG9lcyBub3QgYmVnaW4gJ19kZXNpZ24nIG9yXG4vLyAgICAgJ19sb2NhbCdcbi8vICAgLSBhbnkgb3RoZXIgc3RyaW5nIHZhbHVlIGlzIGEgdmFsaWQgaWRcbi8vIFJldHVybnMgdGhlIHNwZWNpZmljIGVycm9yIG9iamVjdCBmb3IgZWFjaCBjYXNlXG5mdW5jdGlvbiBpbnZhbGlkSWRFcnJvcihpZCkge1xuICB2YXIgZXJyO1xuICBpZiAoIWlkKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19JRCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgIGVyciA9IGNyZWF0ZUVycm9yKElOVkFMSURfSUQpO1xuICB9IGVsc2UgaWYgKC9eXy8udGVzdChpZCkgJiYgISgvXl8oZGVzaWdufGxvY2FsKS8pLnRlc3QoaWQpKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoUkVTRVJWRURfSUQpO1xuICB9XG4gIGlmIChlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn1cblxuLy8gQ2hlY2tzIGlmIGEgUG91Y2hEQiBvYmplY3QgaXMgXCJyZW1vdGVcIiBvciBub3QuIFRoaXMgaXNcblxuZnVuY3Rpb24gaXNSZW1vdGUoZGIpIHtcbiAgaWYgKHR5cGVvZiBkYi5fcmVtb3RlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gZGIuX3JlbW90ZTtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAodHlwZW9mIGRiLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnd2FybicsXG4gICAgICAnZGIudHlwZSgpIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAnICtcbiAgICAgICdhIGZ1dHVyZSB2ZXJzaW9uIG9mIFBvdWNoREInKTtcbiAgICByZXR1cm4gZGIudHlwZSgpID09PSAnaHR0cCc7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KGVlLCB0eXBlKSB7XG4gIHJldHVybiAnbGlzdGVuZXJDb3VudCcgaW4gZWUgPyBlZS5saXN0ZW5lckNvdW50KHR5cGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVFLmxpc3RlbmVyQ291bnQoZWUsIHR5cGUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKSB7XG4gIGlmICghcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBwYXJ0cyA9IHMuc3BsaXQoJy8nKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBwYXJ0cztcbiAgfVxuICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIFtzLCBzXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKHMpIHtcbiAgdmFyIG5vcm1hbGl6ZWQgPSBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQgPyBub3JtYWxpemVkLmpvaW4oJy8nKSA6IG51bGw7XG59XG5cbi8vIG9yaWdpbmFsbHkgcGFyc2VVcmkgMS4yLjIsIG5vdyBwYXRjaGVkIGJ5IHVzXG4vLyAoYykgU3RldmVuIExldml0aGFuIDxzdGV2ZW5sZXZpdGhhbi5jb20+XG4vLyBNSVQgTGljZW5zZVxudmFyIGtleXMgPSBbXCJzb3VyY2VcIiwgXCJwcm90b2NvbFwiLCBcImF1dGhvcml0eVwiLCBcInVzZXJJbmZvXCIsIFwidXNlclwiLCBcInBhc3N3b3JkXCIsXG4gICAgXCJob3N0XCIsIFwicG9ydFwiLCBcInJlbGF0aXZlXCIsIFwicGF0aFwiLCBcImRpcmVjdG9yeVwiLCBcImZpbGVcIiwgXCJxdWVyeVwiLCBcImFuY2hvclwiXTtcbnZhciBxTmFtZSA9XCJxdWVyeUtleVwiO1xudmFyIHFQYXJzZXIgPSAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2c7XG5cbi8vIHVzZSB0aGUgXCJsb29zZVwiIHBhcnNlclxuLyogZXNsaW50IG5vLXVzZWxlc3MtZXNjYXBlOiAwICovXG52YXIgcGFyc2VyID0gL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvO1xuXG5mdW5jdGlvbiBwYXJzZVVyaShzdHIpIHtcbiAgdmFyIG0gPSBwYXJzZXIuZXhlYyhzdHIpO1xuICB2YXIgdXJpID0ge307XG4gIHZhciBpID0gMTQ7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG1baV0gfHwgXCJcIjtcbiAgICB2YXIgZW5jb2RlZCA9IFsndXNlcicsICdwYXNzd29yZCddLmluZGV4T2Yoa2V5KSAhPT0gLTE7XG4gICAgdXJpW2tleV0gPSBlbmNvZGVkID8gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6IHZhbHVlO1xuICB9XG5cbiAgdXJpW3FOYW1lXSA9IHt9O1xuICB1cmlba2V5c1sxMl1dLnJlcGxhY2UocVBhcnNlciwgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICBpZiAoJDEpIHtcbiAgICAgIHVyaVtxTmFtZV1bJDFdID0gJDI7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdXJpO1xufVxuXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vYWxleGRhdmlkL3Njb3BlLWV2YWwgdjAuMC4zXG4vLyAoc291cmNlOiBodHRwczovL3VucGtnLmNvbS9zY29wZS1ldmFsQDAuMC4zL3Njb3BlX2V2YWwuanMpXG4vLyBUaGlzIGlzIGJhc2ljYWxseSBqdXN0IGEgd3JhcHBlciBhcm91bmQgbmV3IEZ1bmN0aW9uKClcblxuZnVuY3Rpb24gc2NvcGVFdmFsKHNvdXJjZSwgc2NvcGUpIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gc2NvcGUpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNjb3BlLCBrZXkpKSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgIHZhbHVlcy5wdXNoKHNjb3BlW2tleV0pO1xuICAgIH1cbiAgfVxuICBrZXlzLnB1c2goc291cmNlKTtcbiAgcmV0dXJuIEZ1bmN0aW9uLmFwcGx5KG51bGwsIGtleXMpLmFwcGx5KG51bGwsIHZhbHVlcyk7XG59XG5cbi8vIHRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIFwidXBkYXRlIHN1Z2FyXCIgZnVuY3Rpb24gZnJvbSBkYWxlaGFydmV5L3BvdWNoZGIjMTM4OFxuLy8gdGhlIGRpZmZGdW4gdGVsbHMgdXMgd2hhdCBkZWx0YSB0byBhcHBseSB0byB0aGUgZG9jLiAgaXQgZWl0aGVyIHJldHVybnNcbi8vIHRoZSBkb2MsIG9yIGZhbHNlIGlmIGl0IGRvZXNuJ3QgbmVlZCB0byBkbyBhbiB1cGRhdGUgYWZ0ZXIgYWxsXG5mdW5jdGlvbiB1cHNlcnQoZGIsIGRvY0lkLCBkaWZmRnVuKSB7XG4gIHJldHVybiBkYi5nZXQoZG9jSWQpXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIC8vIHRoZSB1c2VyIG1pZ2h0IGNoYW5nZSB0aGUgX3Jldiwgc28gc2F2ZSBpdCBmb3IgcG9zdGVyaXR5XG4gICAgICB2YXIgZG9jUmV2ID0gZG9jLl9yZXY7XG4gICAgICB2YXIgbmV3RG9jID0gZGlmZkZ1bihkb2MpO1xuXG4gICAgICBpZiAoIW5ld0RvYykge1xuICAgICAgICAvLyBpZiB0aGUgZGlmZkZ1biByZXR1cm5zIGZhbHN5LCB3ZSBzaG9ydC1jaXJjdWl0IGFzXG4gICAgICAgIC8vIGFuIG9wdGltaXphdGlvblxuICAgICAgICByZXR1cm4ge3VwZGF0ZWQ6IGZhbHNlLCByZXY6IGRvY1Jldn07XG4gICAgICB9XG5cbiAgICAgIC8vIHVzZXJzIGFyZW4ndCBhbGxvd2VkIHRvIG1vZGlmeSB0aGVzZSB2YWx1ZXMsXG4gICAgICAvLyBzbyByZXNldCB0aGVtIGhlcmVcbiAgICAgIG5ld0RvYy5faWQgPSBkb2NJZDtcbiAgICAgIG5ld0RvYy5fcmV2ID0gZG9jUmV2O1xuICAgICAgcmV0dXJuIHRyeUFuZFB1dChkYiwgbmV3RG9jLCBkaWZmRnVuKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdHJ5QW5kUHV0KGRiLCBkb2MsIGRpZmZGdW4pIHtcbiAgcmV0dXJuIGRiLnB1dChkb2MpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGVkOiB0cnVlLFxuICAgICAgcmV2OiByZXMucmV2XG4gICAgfTtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGVyci5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gdXBzZXJ0KGRiLCBkb2MuX2lkLCBkaWZmRnVuKTtcbiAgfSk7XG59XG5cbnZhciB0aGlzQXRvYiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIGF0b2Ioc3RyKTtcbn07XG5cbnZhciB0aGlzQnRvYSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIGJ0b2Eoc3RyKTtcbn07XG5cbi8vIEFic3RyYWN0cyBjb25zdHJ1Y3RpbmcgYSBCbG9iIG9iamVjdCwgc28gaXQgYWxzbyB3b3JrcyBpbiBvbGRlclxuLy8gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBuYXRpdmUgQmxvYiBjb25zdHJ1Y3RvciAoZS5nLlxuLy8gb2xkIFF0V2ViS2l0IHZlcnNpb25zLCBBbmRyb2lkIDwgNC40KS5cbmZ1bmN0aW9uIGNyZWF0ZUJsb2IocGFydHMsIHByb3BlcnRpZXMpIHtcbiAgLyogZ2xvYmFsIEJsb2JCdWlsZGVyLE1TQmxvYkJ1aWxkZXIsTW96QmxvYkJ1aWxkZXIsV2ViS2l0QmxvYkJ1aWxkZXIgKi9cbiAgcGFydHMgPSBwYXJ0cyB8fCBbXTtcbiAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlLm5hbWUgIT09IFwiVHlwZUVycm9yXCIpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHZhciBCdWlsZGVyID0gdHlwZW9mIEJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IEJsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBNU0Jsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1TQmxvYkJ1aWxkZXIgOlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIE1vekJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1vekJsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIFdlYktpdEJsb2JCdWlsZGVyO1xuICAgIHZhciBidWlsZGVyID0gbmV3IEJ1aWxkZXIoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBidWlsZGVyLmdldEJsb2IocHJvcGVydGllcy50eXBlKTtcbiAgfVxufVxuXG4vLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ5Njc2NDcvIChjb250aW51ZXMgb24gbmV4dCBsaW5lKVxuLy8gZW5jb2RlLWRlY29kZS1pbWFnZS13aXRoLWJhc2U2NC1icmVha3MtaW1hZ2UgKDIwMTMtMDQtMjEpXG5mdW5jdGlvbiBiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyKGJpbikge1xuICB2YXIgbGVuZ3RoID0gYmluLmxlbmd0aDtcbiAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xuICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBidWY7XG59XG5cbmZ1bmN0aW9uIGJpblN0cmluZ1RvQmx1ZmZlcihiaW5TdHJpbmcsIHR5cGUpIHtcbiAgcmV0dXJuIGNyZWF0ZUJsb2IoW2JpbmFyeVN0cmluZ1RvQXJyYXlCdWZmZXIoYmluU3RyaW5nKV0sIHt0eXBlOiB0eXBlfSk7XG59XG5cbmZ1bmN0aW9uIGI2NFRvQmx1ZmZlcihiNjQsIHR5cGUpIHtcbiAgcmV0dXJuIGJpblN0cmluZ1RvQmx1ZmZlcih0aGlzQXRvYihiNjQpLCB0eXBlKTtcbn1cblxuLy9DYW4ndCBmaW5kIG9yaWdpbmFsIHBvc3QsIGJ1dCB0aGlzIGlzIGNsb3NlXG4vL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjk2NTEwNy8gKGNvbnRpbnVlcyBvbiBuZXh0IGxpbmUpXG4vL2NvbnZlcnRpbmctYmV0d2Vlbi1zdHJpbmdzLWFuZC1hcnJheWJ1ZmZlcnNcbmZ1bmN0aW9uIGFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcoYnVmZmVyKSB7XG4gIHZhciBiaW5hcnkgPSAnJztcbiAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgdmFyIGxlbmd0aCA9IGJ5dGVzLmJ5dGVMZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGJpbmFyeTtcbn1cblxuLy8gc2hpbSBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGl0XG5mdW5jdGlvbiByZWFkQXNCaW5hcnlTdHJpbmcoYmxvYiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHZhciBoYXNCaW5hcnlTdHJpbmcgPSB0eXBlb2YgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyA9PT0gJ2Z1bmN0aW9uJztcbiAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGUudGFyZ2V0LnJlc3VsdCB8fCAnJztcbiAgICBpZiAoaGFzQmluYXJ5U3RyaW5nKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0KTtcbiAgICB9XG4gICAgY2FsbGJhY2soYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhyZXN1bHQpKTtcbiAgfTtcbiAgaWYgKGhhc0JpbmFyeVN0cmluZykge1xuICAgIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoYmxvYik7XG4gIH0gZWxzZSB7XG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJsb2JUb0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGNhbGxiYWNrKSB7XG4gIHJlYWRBc0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGZ1bmN0aW9uIChiaW4pIHtcbiAgICBjYWxsYmFjayhiaW4pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYmxvYlRvQmFzZTY0KGJsb2JPckJ1ZmZlciwgY2FsbGJhY2spIHtcbiAgYmxvYlRvQmluYXJ5U3RyaW5nKGJsb2JPckJ1ZmZlciwgZnVuY3Rpb24gKGJhc2U2NCkge1xuICAgIGNhbGxiYWNrKHRoaXNCdG9hKGJhc2U2NCkpO1xuICB9KTtcbn1cblxuLy8gc2ltcGxpZmllZCBBUEkuIHVuaXZlcnNhbCBicm93c2VyIHN1cHBvcnQgaXMgYXNzdW1lZFxuZnVuY3Rpb24gcmVhZEFzQXJyYXlCdWZmZXIoYmxvYiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciByZXN1bHQgPSBlLnRhcmdldC5yZXN1bHQgfHwgbmV3IEFycmF5QnVmZmVyKDApO1xuICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gIH07XG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbn1cblxuLy8gdGhpcyBpcyBub3QgdXNlZCBpbiB0aGUgYnJvd3NlclxuXG52YXIgc2V0SW1tZWRpYXRlU2hpbSA9IHNlbGYuc2V0SW1tZWRpYXRlIHx8IHNlbGYuc2V0VGltZW91dDtcbnZhciBNRDVfQ0hVTktfU0laRSA9IDMyNzY4O1xuXG5mdW5jdGlvbiByYXdUb0Jhc2U2NChyYXcpIHtcbiAgcmV0dXJuIHRoaXNCdG9hKHJhdyk7XG59XG5cbmZ1bmN0aW9uIHNsaWNlQmxvYihibG9iLCBzdGFydCwgZW5kKSB7XG4gIGlmIChibG9iLndlYmtpdFNsaWNlKSB7XG4gICAgcmV0dXJuIGJsb2Iud2Via2l0U2xpY2Uoc3RhcnQsIGVuZCk7XG4gIH1cbiAgcmV0dXJuIGJsb2Iuc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZEJsb2IoYnVmZmVyLCBibG9iLCBzdGFydCwgZW5kLCBjYWxsYmFjaykge1xuICBpZiAoc3RhcnQgPiAwIHx8IGVuZCA8IGJsb2Iuc2l6ZSkge1xuICAgIC8vIG9ubHkgc2xpY2UgYmxvYiBpZiB3ZSByZWFsbHkgbmVlZCB0b1xuICAgIGJsb2IgPSBzbGljZUJsb2IoYmxvYiwgc3RhcnQsIGVuZCk7XG4gIH1cbiAgcmVhZEFzQXJyYXlCdWZmZXIoYmxvYiwgZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gICAgYnVmZmVyLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFN0cmluZyhidWZmZXIsIHN0cmluZywgc3RhcnQsIGVuZCwgY2FsbGJhY2spIHtcbiAgaWYgKHN0YXJ0ID4gMCB8fCBlbmQgPCBzdHJpbmcubGVuZ3RoKSB7XG4gICAgLy8gb25seSBjcmVhdGUgYSBzdWJzdHJpbmcgaWYgd2UgcmVhbGx5IG5lZWQgdG9cbiAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xuICB9XG4gIGJ1ZmZlci5hcHBlbmRCaW5hcnkoc3RyaW5nKTtcbiAgY2FsbGJhY2soKTtcbn1cblxuZnVuY3Rpb24gYmluYXJ5TWQ1KGRhdGEsIGNhbGxiYWNrKSB7XG4gIHZhciBpbnB1dElzU3RyaW5nID0gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnO1xuICB2YXIgbGVuID0gaW5wdXRJc1N0cmluZyA/IGRhdGEubGVuZ3RoIDogZGF0YS5zaXplO1xuICB2YXIgY2h1bmtTaXplID0gTWF0aC5taW4oTUQ1X0NIVU5LX1NJWkUsIGxlbik7XG4gIHZhciBjaHVua3MgPSBNYXRoLmNlaWwobGVuIC8gY2h1bmtTaXplKTtcbiAgdmFyIGN1cnJlbnRDaHVuayA9IDA7XG4gIHZhciBidWZmZXIgPSBpbnB1dElzU3RyaW5nID8gbmV3IE1kNSgpIDogbmV3IE1kNS5BcnJheUJ1ZmZlcigpO1xuXG4gIHZhciBhcHBlbmQgPSBpbnB1dElzU3RyaW5nID8gYXBwZW5kU3RyaW5nIDogYXBwZW5kQmxvYjtcblxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHNldEltbWVkaWF0ZVNoaW0obG9hZE5leHRDaHVuayk7XG4gIH1cblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIHZhciByYXcgPSBidWZmZXIuZW5kKHRydWUpO1xuICAgIHZhciBiYXNlNjQgPSByYXdUb0Jhc2U2NChyYXcpO1xuICAgIGNhbGxiYWNrKGJhc2U2NCk7XG4gICAgYnVmZmVyLmRlc3Ryb3koKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWROZXh0Q2h1bmsoKSB7XG4gICAgdmFyIHN0YXJ0ID0gY3VycmVudENodW5rICogY2h1bmtTaXplO1xuICAgIHZhciBlbmQgPSBzdGFydCArIGNodW5rU2l6ZTtcbiAgICBjdXJyZW50Q2h1bmsrKztcbiAgICBpZiAoY3VycmVudENodW5rIDwgY2h1bmtzKSB7XG4gICAgICBhcHBlbmQoYnVmZmVyLCBkYXRhLCBzdGFydCwgZW5kLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwZW5kKGJ1ZmZlciwgZGF0YSwgc3RhcnQsIGVuZCwgZG9uZSk7XG4gICAgfVxuICB9XG4gIGxvYWROZXh0Q2h1bmsoKTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nTWQ1KHN0cmluZykge1xuICByZXR1cm4gTWQ1Lmhhc2goc3RyaW5nKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJldmlzaW9uIHN0cmluZyB0aGF0IGRvZXMgTk9UIGluY2x1ZGUgdGhlIHJldmlzaW9uIGhlaWdodFxuICogRm9yIGV4YW1wbGUgJzU2NjQ5ZjFiMDUwNmM2Y2E5ZmRhMDc0NmViMGNhY2RmJ1xuICovXG5mdW5jdGlvbiByZXYkJDEoZG9jLCBkZXRlcm1pbmlzdGljX3JldnMpIHtcbiAgaWYgKCFkZXRlcm1pbmlzdGljX3JldnMpIHtcbiAgICByZXR1cm4gdjQoKS5yZXBsYWNlKC8tL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgdmFyIG11dGF0ZWFibGVEb2MgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIGRvYyk7XG4gIGRlbGV0ZSBtdXRhdGVhYmxlRG9jLl9yZXZfdHJlZTtcbiAgcmV0dXJuIHN0cmluZ01kNShKU09OLnN0cmluZ2lmeShtdXRhdGVhYmxlRG9jKSk7XG59XG5cbnZhciB1dWlkID0gdjQ7IC8vIG1pbWljIG9sZCBpbXBvcnQsIG9ubHkgdjQgaXMgZXZlciB1c2VkIGVsc2V3aGVyZVxuXG4vLyBXZSBmZXRjaCBhbGwgbGVhZnMgb2YgdGhlIHJldmlzaW9uIHRyZWUsIGFuZCBzb3J0IHRoZW0gYmFzZWQgb24gdHJlZSBsZW5ndGhcbi8vIGFuZCB3aGV0aGVyIHRoZXkgd2VyZSBkZWxldGVkLCB1bmRlbGV0ZWQgZG9jdW1lbnRzIHdpdGggdGhlIGxvbmdlc3QgcmV2aXNpb25cbi8vIHRyZWUgKG1vc3QgZWRpdHMpIHdpblxuLy8gVGhlIGZpbmFsIHNvcnQgYWxnb3JpdGhtIGlzIHNsaWdodGx5IGRvY3VtZW50ZWQgaW4gYSBzaWRlYmFyIGhlcmU6XG4vLyBodHRwOi8vZ3VpZGUuY291Y2hkYi5vcmcvZHJhZnQvY29uZmxpY3RzLmh0bWxcbmZ1bmN0aW9uIHdpbm5pbmdSZXYobWV0YWRhdGEpIHtcbiAgdmFyIHdpbm5pbmdJZDtcbiAgdmFyIHdpbm5pbmdQb3M7XG4gIHZhciB3aW5uaW5nRGVsZXRlZDtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIGlmIChicmFuY2hlcy5sZW5ndGgpIHsgLy8gbm9uLWxlYWZcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXX0pO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBkZWxldGVkID0gISF0cmVlWzFdLmRlbGV0ZWQ7XG4gICAgdmFyIGlkID0gdHJlZVswXTtcbiAgICAvLyBzb3J0IGJ5IGRlbGV0ZWQsIHRoZW4gcG9zLCB0aGVuIGlkXG4gICAgaWYgKCF3aW5uaW5nSWQgfHwgKHdpbm5pbmdEZWxldGVkICE9PSBkZWxldGVkID8gd2lubmluZ0RlbGV0ZWQgOlxuICAgICAgICB3aW5uaW5nUG9zICE9PSBwb3MgPyB3aW5uaW5nUG9zIDwgcG9zIDogd2lubmluZ0lkIDwgaWQpKSB7XG4gICAgICB3aW5uaW5nSWQgPSBpZDtcbiAgICAgIHdpbm5pbmdQb3MgPSBwb3M7XG4gICAgICB3aW5uaW5nRGVsZXRlZCA9IGRlbGV0ZWQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdpbm5pbmdQb3MgKyAnLScgKyB3aW5uaW5nSWQ7XG59XG5cbi8vIFByZXR0eSBtdWNoIGFsbCBiZWxvdyBjYW4gYmUgY29tYmluZWQgaW50byBhIGhpZ2hlciBvcmRlciBmdW5jdGlvbiB0b1xuLy8gdHJhdmVyc2UgcmV2aXNpb25zXG4vLyBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGNhbGxiYWNrIHdpbGwgYmUgcGFzc2VkIGFzIGNvbnRleHQgdG8gYWxsXG4vLyBjaGlsZHJlbiBvZiB0aGF0IG5vZGVcbmZ1bmN0aW9uIHRyYXZlcnNlUmV2VHJlZShyZXZzLCBjYWxsYmFjaykge1xuICB2YXIgdG9WaXNpdCA9IHJldnMuc2xpY2UoKTtcblxuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBuZXdDdHggPVxuICAgICAgY2FsbGJhY2soYnJhbmNoZXMubGVuZ3RoID09PSAwLCBwb3MsIHRyZWVbMF0sIG5vZGUuY3R4LCB0cmVlWzFdKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldLCBjdHg6IG5ld0N0eH0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzb3J0QnlQb3MoYSwgYikge1xuICByZXR1cm4gYS5wb3MgLSBiLnBvcztcbn1cblxuZnVuY3Rpb24gY29sbGVjdExlYXZlcyhyZXZzKSB7XG4gIHZhciBsZWF2ZXMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKHJldnMsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgaWQsIGFjYywgb3B0cykge1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIGxlYXZlcy5wdXNoKHtyZXY6IHBvcyArIFwiLVwiICsgaWQsIHBvczogcG9zLCBvcHRzOiBvcHRzfSk7XG4gICAgfVxuICB9KTtcbiAgbGVhdmVzLnNvcnQoc29ydEJ5UG9zKS5yZXZlcnNlKCk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsZWF2ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBkZWxldGUgbGVhdmVzW2ldLnBvcztcbiAgfVxuICByZXR1cm4gbGVhdmVzO1xufVxuXG4vLyByZXR1cm5zIHJldnMgb2YgYWxsIGNvbmZsaWN0cyB0aGF0IGlzIGxlYXZlcyBzdWNoIHRoYXRcbi8vIDEuIGFyZSBub3QgZGVsZXRlZCBhbmRcbi8vIDIuIGFyZSBkaWZmZXJlbnQgdGhhbiB3aW5uaW5nIHJldmlzaW9uXG5mdW5jdGlvbiBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKSB7XG4gIHZhciB3aW4gPSB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcbiAgdmFyIGxlYXZlcyA9IGNvbGxlY3RMZWF2ZXMobWV0YWRhdGEucmV2X3RyZWUpO1xuICB2YXIgY29uZmxpY3RzID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsZWF2ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbGVhZiA9IGxlYXZlc1tpXTtcbiAgICBpZiAobGVhZi5yZXYgIT09IHdpbiAmJiAhbGVhZi5vcHRzLmRlbGV0ZWQpIHtcbiAgICAgIGNvbmZsaWN0cy5wdXNoKGxlYWYucmV2KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmZsaWN0cztcbn1cblxuLy8gY29tcGFjdCBhIHRyZWUgYnkgbWFya2luZyBpdHMgbm9uLWxlYWZzIGFzIG1pc3NpbmcsXG4vLyBhbmQgcmV0dXJuIGEgbGlzdCBvZiByZXZzIHRvIGRlbGV0ZVxuZnVuY3Rpb24gY29tcGFjdFRyZWUobWV0YWRhdGEpIHtcbiAgdmFyIHJldnMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKG1ldGFkYXRhLnJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldkhhc2gsIGN0eCwgb3B0cykge1xuICAgIGlmIChvcHRzLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgJiYgIWlzTGVhZikge1xuICAgICAgcmV2cy5wdXNoKHBvcyArICctJyArIHJldkhhc2gpO1xuICAgICAgb3B0cy5zdGF0dXMgPSAnbWlzc2luZyc7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldnM7XG59XG5cbi8vIGJ1aWxkIHVwIGEgbGlzdCBvZiBhbGwgdGhlIHBhdGhzIHRvIHRoZSBsZWFmcyBpbiB0aGlzIHJldmlzaW9uIHRyZWVcbmZ1bmN0aW9uIHJvb3RUb0xlYWYocmV2cykge1xuICB2YXIgcGF0aHMgPSBbXTtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBpZCA9IHRyZWVbMF07XG4gICAgdmFyIG9wdHMgPSB0cmVlWzFdO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIGlzTGVhZiA9IGJyYW5jaGVzLmxlbmd0aCA9PT0gMDtcblxuICAgIHZhciBoaXN0b3J5ID0gbm9kZS5oaXN0b3J5ID8gbm9kZS5oaXN0b3J5LnNsaWNlKCkgOiBbXTtcbiAgICBoaXN0b3J5LnB1c2goe2lkOiBpZCwgb3B0czogb3B0c30pO1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIHBhdGhzLnB1c2goe3BvczogKHBvcyArIDEgLSBoaXN0b3J5Lmxlbmd0aCksIGlkczogaGlzdG9yeX0pO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldLCBoaXN0b3J5OiBoaXN0b3J5fSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRocy5yZXZlcnNlKCk7XG59XG5cbi8vIGZvciBhIGJldHRlciBvdmVydmlldyBvZiB3aGF0IHRoaXMgaXMgZG9pbmcsIHJlYWQ6XG5cbmZ1bmN0aW9uIHNvcnRCeVBvcyQxKGEsIGIpIHtcbiAgcmV0dXJuIGEucG9zIC0gYi5wb3M7XG59XG5cbi8vIGNsYXNzaWMgYmluYXJ5IHNlYXJjaFxuZnVuY3Rpb24gYmluYXJ5U2VhcmNoKGFyciwgaXRlbSwgY29tcGFyYXRvcikge1xuICB2YXIgbG93ID0gMDtcbiAgdmFyIGhpZ2ggPSBhcnIubGVuZ3RoO1xuICB2YXIgbWlkO1xuICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMTtcbiAgICBpZiAoY29tcGFyYXRvcihhcnJbbWlkXSwgaXRlbSkgPCAwKSB7XG4gICAgICBsb3cgPSBtaWQgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWdoID0gbWlkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbG93O1xufVxuXG4vLyBhc3N1bWluZyB0aGUgYXJyIGlzIHNvcnRlZCwgaW5zZXJ0IHRoZSBpdGVtIGluIHRoZSBwcm9wZXIgcGxhY2VcbmZ1bmN0aW9uIGluc2VydFNvcnRlZChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGlkeCA9IGJpbmFyeVNlYXJjaChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpO1xuICBhcnIuc3BsaWNlKGlkeCwgMCwgaXRlbSk7XG59XG5cbi8vIFR1cm4gYSBwYXRoIGFzIGEgZmxhdCBhcnJheSBpbnRvIGEgdHJlZSB3aXRoIGEgc2luZ2xlIGJyYW5jaC5cbi8vIElmIGFueSBzaG91bGQgYmUgc3RlbW1lZCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5LCB0aGF0J3MgcGFzc2VkXG4vLyBpbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50XG5mdW5jdGlvbiBwYXRoVG9UcmVlKHBhdGgsIG51bVN0ZW1tZWQpIHtcbiAgdmFyIHJvb3Q7XG4gIHZhciBsZWFmO1xuICBmb3IgKHZhciBpID0gbnVtU3RlbW1lZCwgbGVuID0gcGF0aC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBub2RlID0gcGF0aFtpXTtcbiAgICB2YXIgY3VycmVudExlYWYgPSBbbm9kZS5pZCwgbm9kZS5vcHRzLCBbXV07XG4gICAgaWYgKGxlYWYpIHtcbiAgICAgIGxlYWZbMl0ucHVzaChjdXJyZW50TGVhZik7XG4gICAgICBsZWFmID0gY3VycmVudExlYWY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3QgPSBsZWFmID0gY3VycmVudExlYWY7XG4gICAgfVxuICB9XG4gIHJldHVybiByb290O1xufVxuXG4vLyBjb21wYXJlIHRoZSBJRHMgb2YgdHdvIHRyZWVzXG5mdW5jdGlvbiBjb21wYXJlVHJlZShhLCBiKSB7XG4gIHJldHVybiBhWzBdIDwgYlswXSA/IC0xIDogMTtcbn1cblxuLy8gTWVyZ2UgdHdvIHRyZWVzIHRvZ2V0aGVyXG4vLyBUaGUgcm9vdHMgb2YgdHJlZTEgYW5kIHRyZWUyIG11c3QgYmUgdGhlIHNhbWUgcmV2aXNpb25cbmZ1bmN0aW9uIG1lcmdlVHJlZShpbl90cmVlMSwgaW5fdHJlZTIpIHtcbiAgdmFyIHF1ZXVlID0gW3t0cmVlMTogaW5fdHJlZTEsIHRyZWUyOiBpbl90cmVlMn1dO1xuICB2YXIgY29uZmxpY3RzID0gZmFsc2U7XG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICB2YXIgdHJlZTEgPSBpdGVtLnRyZWUxO1xuICAgIHZhciB0cmVlMiA9IGl0ZW0udHJlZTI7XG5cbiAgICBpZiAodHJlZTFbMV0uc3RhdHVzIHx8IHRyZWUyWzFdLnN0YXR1cykge1xuICAgICAgdHJlZTFbMV0uc3RhdHVzID1cbiAgICAgICAgKHRyZWUxWzFdLnN0YXR1cyA9PT0gICdhdmFpbGFibGUnIHx8XG4gICAgICAgIHRyZWUyWzFdLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScpID8gJ2F2YWlsYWJsZScgOiAnbWlzc2luZyc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlMlsyXS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0cmVlMVsyXVswXSkge1xuICAgICAgICBjb25mbGljdHMgPSAnbmV3X2xlYWYnO1xuICAgICAgICB0cmVlMVsyXVswXSA9IHRyZWUyWzJdW2ldO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lcmdlZCA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0cmVlMVsyXS5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAodHJlZTFbMl1bal1bMF0gPT09IHRyZWUyWzJdW2ldWzBdKSB7XG4gICAgICAgICAgcXVldWUucHVzaCh7dHJlZTE6IHRyZWUxWzJdW2pdLCB0cmVlMjogdHJlZTJbMl1baV19KTtcbiAgICAgICAgICBtZXJnZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIW1lcmdlZCkge1xuICAgICAgICBjb25mbGljdHMgPSAnbmV3X2JyYW5jaCc7XG4gICAgICAgIGluc2VydFNvcnRlZCh0cmVlMVsyXSwgdHJlZTJbMl1baV0sIGNvbXBhcmVUcmVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtjb25mbGljdHM6IGNvbmZsaWN0cywgdHJlZTogaW5fdHJlZTF9O1xufVxuXG5mdW5jdGlvbiBkb01lcmdlKHRyZWUsIHBhdGgsIGRvbnRFeHBhbmQpIHtcbiAgdmFyIHJlc3RyZWUgPSBbXTtcbiAgdmFyIGNvbmZsaWN0cyA9IGZhbHNlO1xuICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gIHZhciByZXM7XG5cbiAgaWYgKCF0cmVlLmxlbmd0aCkge1xuICAgIHJldHVybiB7dHJlZTogW3BhdGhdLCBjb25mbGljdHM6ICduZXdfbGVhZid9O1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRyZWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgYnJhbmNoID0gdHJlZVtpXTtcbiAgICBpZiAoYnJhbmNoLnBvcyA9PT0gcGF0aC5wb3MgJiYgYnJhbmNoLmlkc1swXSA9PT0gcGF0aC5pZHNbMF0pIHtcbiAgICAgIC8vIFBhdGhzIHN0YXJ0IGF0IHRoZSBzYW1lIHBvc2l0aW9uIGFuZCBoYXZlIHRoZSBzYW1lIHJvb3QsIHNvIHRoZXkgbmVlZFxuICAgICAgLy8gbWVyZ2VkXG4gICAgICByZXMgPSBtZXJnZVRyZWUoYnJhbmNoLmlkcywgcGF0aC5pZHMpO1xuICAgICAgcmVzdHJlZS5wdXNoKHtwb3M6IGJyYW5jaC5wb3MsIGlkczogcmVzLnRyZWV9KTtcbiAgICAgIGNvbmZsaWN0cyA9IGNvbmZsaWN0cyB8fCByZXMuY29uZmxpY3RzO1xuICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGRvbnRFeHBhbmQgIT09IHRydWUpIHtcbiAgICAgIC8vIFRoZSBwYXRocyBzdGFydCBhdCBhIGRpZmZlcmVudCBwb3NpdGlvbiwgdGFrZSB0aGUgZWFybGllc3QgcGF0aCBhbmRcbiAgICAgIC8vIHRyYXZlcnNlIHVwIHVudGlsIGl0IGFzIGF0IHRoZSBzYW1lIHBvaW50IGZyb20gcm9vdCBhcyB0aGUgcGF0aCB3ZVxuICAgICAgLy8gd2FudCB0byBtZXJnZS4gIElmIHRoZSBrZXlzIG1hdGNoIHdlIHJldHVybiB0aGUgbG9uZ2VyIHBhdGggd2l0aCB0aGVcbiAgICAgIC8vIG90aGVyIG1lcmdlZCBBZnRlciBzdGVtbWluZyB3ZSBkb250IHdhbnQgdG8gZXhwYW5kIHRoZSB0cmVlc1xuXG4gICAgICB2YXIgdDEgPSBicmFuY2gucG9zIDwgcGF0aC5wb3MgPyBicmFuY2ggOiBwYXRoO1xuICAgICAgdmFyIHQyID0gYnJhbmNoLnBvcyA8IHBhdGgucG9zID8gcGF0aCA6IGJyYW5jaDtcbiAgICAgIHZhciBkaWZmID0gdDIucG9zIC0gdDEucG9zO1xuXG4gICAgICB2YXIgY2FuZGlkYXRlUGFyZW50cyA9IFtdO1xuXG4gICAgICB2YXIgdHJlZXMgPSBbXTtcbiAgICAgIHRyZWVzLnB1c2goe2lkczogdDEuaWRzLCBkaWZmOiBkaWZmLCBwYXJlbnQ6IG51bGwsIHBhcmVudElkeDogbnVsbH0pO1xuICAgICAgd2hpbGUgKHRyZWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0cmVlcy5wb3AoKTtcbiAgICAgICAgaWYgKGl0ZW0uZGlmZiA9PT0gMCkge1xuICAgICAgICAgIGlmIChpdGVtLmlkc1swXSA9PT0gdDIuaWRzWzBdKSB7XG4gICAgICAgICAgICBjYW5kaWRhdGVQYXJlbnRzLnB1c2goaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGVtZW50cyA9IGl0ZW0uaWRzWzJdO1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgZWxlbWVudHNMZW4gPSBlbGVtZW50cy5sZW5ndGg7IGogPCBlbGVtZW50c0xlbjsgaisrKSB7XG4gICAgICAgICAgdHJlZXMucHVzaCh7XG4gICAgICAgICAgICBpZHM6IGVsZW1lbnRzW2pdLFxuICAgICAgICAgICAgZGlmZjogaXRlbS5kaWZmIC0gMSxcbiAgICAgICAgICAgIHBhcmVudDogaXRlbS5pZHMsXG4gICAgICAgICAgICBwYXJlbnRJZHg6IGpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZWwgPSBjYW5kaWRhdGVQYXJlbnRzWzBdO1xuXG4gICAgICBpZiAoIWVsKSB7XG4gICAgICAgIHJlc3RyZWUucHVzaChicmFuY2gpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0gbWVyZ2VUcmVlKGVsLmlkcywgdDIuaWRzKTtcbiAgICAgICAgZWwucGFyZW50WzJdW2VsLnBhcmVudElkeF0gPSByZXMudHJlZTtcbiAgICAgICAgcmVzdHJlZS5wdXNoKHtwb3M6IHQxLnBvcywgaWRzOiB0MS5pZHN9KTtcbiAgICAgICAgY29uZmxpY3RzID0gY29uZmxpY3RzIHx8IHJlcy5jb25mbGljdHM7XG4gICAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3RyZWUucHVzaChicmFuY2gpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdlIGRpZG50IGZpbmRcbiAgaWYgKCFtZXJnZWQpIHtcbiAgICByZXN0cmVlLnB1c2gocGF0aCk7XG4gIH1cblxuICByZXN0cmVlLnNvcnQoc29ydEJ5UG9zJDEpO1xuXG4gIHJldHVybiB7XG4gICAgdHJlZTogcmVzdHJlZSxcbiAgICBjb25mbGljdHM6IGNvbmZsaWN0cyB8fCAnaW50ZXJuYWxfbm9kZSdcbiAgfTtcbn1cblxuLy8gVG8gZW5zdXJlIHdlIGRvbnQgZ3JvdyB0aGUgcmV2aXNpb24gdHJlZSBpbmZpbml0ZWx5LCB3ZSBzdGVtIG9sZCByZXZpc2lvbnNcbmZ1bmN0aW9uIHN0ZW0odHJlZSwgZGVwdGgpIHtcbiAgLy8gRmlyc3Qgd2UgYnJlYWsgb3V0IHRoZSB0cmVlIGludG8gYSBjb21wbGV0ZSBsaXN0IG9mIHJvb3QgdG8gbGVhZiBwYXRoc1xuICB2YXIgcGF0aHMgPSByb290VG9MZWFmKHRyZWUpO1xuICB2YXIgc3RlbW1lZFJldnM7XG5cbiAgdmFyIHJlc3VsdDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgLy8gVGhlbiBmb3IgZWFjaCBwYXRoLCB3ZSBjdXQgb2ZmIHRoZSBzdGFydCBvZiB0aGUgcGF0aCBiYXNlZCBvbiB0aGVcbiAgICAvLyBgZGVwdGhgIHRvIHN0ZW0gdG8sIGFuZCBnZW5lcmF0ZSBhIG5ldyBzZXQgb2YgZmxhdCB0cmVlc1xuICAgIHZhciBwYXRoID0gcGF0aHNbaV07XG4gICAgdmFyIHN0ZW1tZWQgPSBwYXRoLmlkcztcbiAgICB2YXIgbm9kZTtcbiAgICBpZiAoc3RlbW1lZC5sZW5ndGggPiBkZXB0aCkge1xuICAgICAgLy8gb25seSBkbyB0aGUgc3RlbW1pbmcgd29yayBpZiB3ZSBhY3R1YWxseSBuZWVkIHRvIHN0ZW1cbiAgICAgIGlmICghc3RlbW1lZFJldnMpIHtcbiAgICAgICAgc3RlbW1lZFJldnMgPSB7fTsgLy8gYXZvaWQgYWxsb2NhdGluZyB0aGlzIG9iamVjdCB1bm5lY2Vzc2FyaWx5XG4gICAgICB9XG4gICAgICB2YXIgbnVtU3RlbW1lZCA9IHN0ZW1tZWQubGVuZ3RoIC0gZGVwdGg7XG4gICAgICBub2RlID0ge1xuICAgICAgICBwb3M6IHBhdGgucG9zICsgbnVtU3RlbW1lZCxcbiAgICAgICAgaWRzOiBwYXRoVG9UcmVlKHN0ZW1tZWQsIG51bVN0ZW1tZWQpXG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBzID0gMDsgcyA8IG51bVN0ZW1tZWQ7IHMrKykge1xuICAgICAgICB2YXIgcmV2ID0gKHBhdGgucG9zICsgcykgKyAnLScgKyBzdGVtbWVkW3NdLmlkO1xuICAgICAgICBzdGVtbWVkUmV2c1tyZXZdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBubyBuZWVkIHRvIGFjdHVhbGx5IHN0ZW1cbiAgICAgIG5vZGUgPSB7XG4gICAgICAgIHBvczogcGF0aC5wb3MsXG4gICAgICAgIGlkczogcGF0aFRvVHJlZShzdGVtbWVkLCAwKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBUaGVuIHdlIHJlbWVyZ2UgYWxsIHRob3NlIGZsYXQgdHJlZXMgdG9nZXRoZXIsIGVuc3VyaW5nIHRoYXQgd2UgZG9udFxuICAgIC8vIGNvbm5lY3QgdHJlZXMgdGhhdCB3b3VsZCBnbyBiZXlvbmQgdGhlIGRlcHRoIGxpbWl0XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0gZG9NZXJnZShyZXN1bHQsIG5vZGUsIHRydWUpLnRyZWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IFtub2RlXTtcbiAgICB9XG4gIH1cblxuICAvLyB0aGlzIGlzIG1lbW9yeS1oZWF2eSBwZXIgQ2hyb21lIHByb2ZpbGVyLCBhdm9pZCB1bmxlc3Mgd2UgYWN0dWFsbHkgc3RlbW1lZFxuICBpZiAoc3RlbW1lZFJldnMpIHtcbiAgICB0cmF2ZXJzZVJldlRyZWUocmVzdWx0LCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIHJldkhhc2gpIHtcbiAgICAgIC8vIHNvbWUgcmV2aXNpb25zIG1heSBoYXZlIGJlZW4gcmVtb3ZlZCBpbiBhIGJyYW5jaCBidXQgbm90IGluIGFub3RoZXJcbiAgICAgIGRlbGV0ZSBzdGVtbWVkUmV2c1twb3MgKyAnLScgKyByZXZIYXNoXTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHJlZTogcmVzdWx0LFxuICAgIHJldnM6IHN0ZW1tZWRSZXZzID8gT2JqZWN0LmtleXMoc3RlbW1lZFJldnMpIDogW11cbiAgfTtcbn1cblxuZnVuY3Rpb24gbWVyZ2UodHJlZSwgcGF0aCwgZGVwdGgpIHtcbiAgdmFyIG5ld1RyZWUgPSBkb01lcmdlKHRyZWUsIHBhdGgpO1xuICB2YXIgc3RlbW1lZCA9IHN0ZW0obmV3VHJlZS50cmVlLCBkZXB0aCk7XG4gIHJldHVybiB7XG4gICAgdHJlZTogc3RlbW1lZC50cmVlLFxuICAgIHN0ZW1tZWRSZXZzOiBzdGVtbWVkLnJldnMsXG4gICAgY29uZmxpY3RzOiBuZXdUcmVlLmNvbmZsaWN0c1xuICB9O1xufVxuXG4vLyByZXR1cm4gdHJ1ZSBpZiBhIHJldiBleGlzdHMgaW4gdGhlIHJldiB0cmVlLCBmYWxzZSBvdGhlcndpc2VcbmZ1bmN0aW9uIHJldkV4aXN0cyhyZXZzLCByZXYpIHtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG4gIHZhciBzcGxpdFJldiA9IHJldi5zcGxpdCgnLScpO1xuICB2YXIgdGFyZ2V0UG9zID0gcGFyc2VJbnQoc3BsaXRSZXZbMF0sIDEwKTtcbiAgdmFyIHRhcmdldElkID0gc3BsaXRSZXZbMV07XG5cbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgaWYgKG5vZGUucG9zID09PSB0YXJnZXRQb3MgJiYgbm9kZS5pZHNbMF0gPT09IHRhcmdldElkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGJyYW5jaGVzID0gbm9kZS5pZHNbMl07XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3Bvczogbm9kZS5wb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0VHJlZXMobm9kZSkge1xuICByZXR1cm4gbm9kZS5pZHM7XG59XG5cbi8vIGNoZWNrIGlmIGEgc3BlY2lmaWMgcmV2aXNpb24gb2YgYSBkb2MgaGFzIGJlZW4gZGVsZXRlZFxuLy8gIC0gbWV0YWRhdGE6IHRoZSBtZXRhZGF0YSBvYmplY3QgZnJvbSB0aGUgZG9jIHN0b3JlXG4vLyAgLSByZXY6IChvcHRpb25hbCkgdGhlIHJldmlzaW9uIHRvIGNoZWNrLiBkZWZhdWx0cyB0byB3aW5uaW5nIHJldmlzaW9uXG5mdW5jdGlvbiBpc0RlbGV0ZWQobWV0YWRhdGEsIHJldikge1xuICBpZiAoIXJldikge1xuICAgIHJldiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICB9XG4gIHZhciBpZCA9IHJldi5zdWJzdHJpbmcocmV2LmluZGV4T2YoJy0nKSArIDEpO1xuICB2YXIgdG9WaXNpdCA9IG1ldGFkYXRhLnJldl90cmVlLm1hcChnZXRUcmVlcyk7XG5cbiAgdmFyIHRyZWU7XG4gIHdoaWxlICgodHJlZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgaWYgKHRyZWVbMF0gPT09IGlkKSB7XG4gICAgICByZXR1cm4gISF0cmVlWzFdLmRlbGV0ZWQ7XG4gICAgfVxuICAgIHRvVmlzaXQgPSB0b1Zpc2l0LmNvbmNhdCh0cmVlWzJdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0xvY2FsSWQoaWQpIHtcbiAgcmV0dXJuICgvXl9sb2NhbC8pLnRlc3QoaWQpO1xufVxuXG4vLyByZXR1cm5zIHRoZSBjdXJyZW50IGxlYWYgbm9kZSBmb3IgYSBnaXZlbiByZXZpc2lvblxuZnVuY3Rpb24gbGF0ZXN0KHJldiwgbWV0YWRhdGEpIHtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgaWQgPSB0cmVlWzBdO1xuICAgIHZhciBvcHRzID0gdHJlZVsxXTtcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBpc0xlYWYgPSBicmFuY2hlcy5sZW5ndGggPT09IDA7XG5cbiAgICB2YXIgaGlzdG9yeSA9IG5vZGUuaGlzdG9yeSA/IG5vZGUuaGlzdG9yeS5zbGljZSgpIDogW107XG4gICAgaGlzdG9yeS5wdXNoKHtpZDogaWQsIHBvczogcG9zLCBvcHRzOiBvcHRzfSk7XG5cbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaGlzdG9yeS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGlzdG9yeU5vZGUgPSBoaXN0b3J5W2ldO1xuICAgICAgICB2YXIgaGlzdG9yeVJldiA9IGhpc3RvcnlOb2RlLnBvcyArICctJyArIGhpc3RvcnlOb2RlLmlkO1xuXG4gICAgICAgIGlmIChoaXN0b3J5UmV2ID09PSByZXYpIHtcbiAgICAgICAgICAvLyByZXR1cm4gdGhlIHJldiBvZiB0aGlzIGxlYWZcbiAgICAgICAgICByZXR1cm4gcG9zICsgJy0nICsgaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBqID0gMCwgbCA9IGJyYW5jaGVzLmxlbmd0aDsgaiA8IGw7IGorKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbal0sIGhpc3Rvcnk6IGhpc3Rvcnl9KTtcbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGxhdGVzdCByZXZpc2lvbiBmb3IgaWQgJyArIG1ldGFkYXRhLmlkICsgJywgcmV2ICcgKyByZXYpO1xufVxuXG5pbmhlcml0cyhDaGFuZ2VzJDEsIEVFKTtcblxuZnVuY3Rpb24gdHJ5Q2F0Y2hJbkNoYW5nZUxpc3RlbmVyKHNlbGYsIGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAvLyBpc29sYXRlIHRyeS9jYXRjaGVzIHRvIGF2b2lkIFY4IGRlb3B0aW1pemF0aW9uc1xuICB0cnkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywgY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsICdFcnJvciBpbiAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24pOicsIGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIENoYW5nZXMkMShkYiwgb3B0cywgY2FsbGJhY2spIHtcbiAgRUUuY2FsbCh0aGlzKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLmRiID0gZGI7XG4gIG9wdHMgPSBvcHRzID8gY2xvbmUob3B0cykgOiB7fTtcbiAgdmFyIGNvbXBsZXRlID0gb3B0cy5jb21wbGV0ZSA9IG9uY2UoZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGlmIChsaXN0ZW5lckNvdW50KHNlbGYsICdlcnJvcicpID4gMCkge1xuICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5lbWl0KCdjb21wbGV0ZScsIHJlc3ApO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGRiLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB9KTtcbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgc2VsZi5vbignY29tcGxldGUnLCBmdW5jdGlvbiAocmVzcCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcCk7XG4gICAgfSk7XG4gICAgc2VsZi5vbignZXJyb3InLCBjYWxsYmFjayk7XG4gIH1cbiAgZnVuY3Rpb24gb25EZXN0cm95KCkge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gIH1cbiAgZGIub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcblxuICBvcHRzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lcihzZWxmLCBjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpO1xuICB9O1xuXG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgIG9wdHMuY29tcGxldGUgPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHJlcyk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHNlbGYub25jZSgnY2FuY2VsJywgZnVuY3Rpb24gKCkge1xuICAgIGRiLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICAgIG9wdHMuY29tcGxldGUobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgfSk7XG4gIHRoaXMudGhlbiA9IHByb21pc2UudGhlbi5iaW5kKHByb21pc2UpO1xuICB0aGlzWydjYXRjaCddID0gcHJvbWlzZVsnY2F0Y2gnXS5iaW5kKHByb21pc2UpO1xuICB0aGlzLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGNvbXBsZXRlKG51bGwsIHJlc3VsdCk7XG4gIH0sIGNvbXBsZXRlKTtcblxuXG5cbiAgaWYgKCFkYi50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgIGRiLnRhc2txdWV1ZS5hZGRUYXNrKGZ1bmN0aW9uIChmYWlsZWQpIHtcbiAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgb3B0cy5jb21wbGV0ZShmYWlsZWQpO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnY2FuY2VsJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnZhbGlkYXRlQ2hhbmdlcyhvcHRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLnZhbGlkYXRlQ2hhbmdlcyhvcHRzKTtcbiAgfVxufVxuQ2hhbmdlcyQxLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaXNDYW5jZWxsZWQgPSB0cnVlO1xuICBpZiAodGhpcy5kYi50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgIHRoaXMuZW1pdCgnY2FuY2VsJyk7XG4gIH1cbn07XG5mdW5jdGlvbiBwcm9jZXNzQ2hhbmdlKGRvYywgbWV0YWRhdGEsIG9wdHMpIHtcbiAgdmFyIGNoYW5nZUxpc3QgPSBbe3JldjogZG9jLl9yZXZ9XTtcbiAgaWYgKG9wdHMuc3R5bGUgPT09ICdhbGxfZG9jcycpIHtcbiAgICBjaGFuZ2VMaXN0ID0gY29sbGVjdExlYXZlcyhtZXRhZGF0YS5yZXZfdHJlZSlcbiAgICAubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB7cmV2OiB4LnJldn07IH0pO1xuICB9XG4gIHZhciBjaGFuZ2UgPSB7XG4gICAgaWQ6IG1ldGFkYXRhLmlkLFxuICAgIGNoYW5nZXM6IGNoYW5nZUxpc3QsXG4gICAgZG9jOiBkb2NcbiAgfTtcblxuICBpZiAoaXNEZWxldGVkKG1ldGFkYXRhLCBkb2MuX3JldikpIHtcbiAgICBjaGFuZ2UuZGVsZXRlZCA9IHRydWU7XG4gIH1cbiAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgY2hhbmdlLmRvYy5fY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgaWYgKCFjaGFuZ2UuZG9jLl9jb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICBkZWxldGUgY2hhbmdlLmRvYy5fY29uZmxpY3RzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2hhbmdlO1xufVxuXG5DaGFuZ2VzJDEucHJvdG90eXBlLnZhbGlkYXRlQ2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHZhciBjYWxsYmFjayA9IG9wdHMuY29tcGxldGU7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbikge1xuICAgIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4udmFsaWRhdGUob3B0cywgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICB9XG59O1xuXG5DaGFuZ2VzJDEucHJvdG90eXBlLmRvQ2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcblxuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIGlmICgnbGl2ZScgaW4gb3B0cyAmJiAhKCdjb250aW51b3VzJyBpbiBvcHRzKSkge1xuICAgIG9wdHMuY29udGludW91cyA9IG9wdHMubGl2ZTtcbiAgfVxuICBvcHRzLnByb2Nlc3NDaGFuZ2UgPSBwcm9jZXNzQ2hhbmdlO1xuXG4gIGlmIChvcHRzLnNpbmNlID09PSAnbGF0ZXN0Jykge1xuICAgIG9wdHMuc2luY2UgPSAnbm93JztcbiAgfVxuICBpZiAoIW9wdHMuc2luY2UpIHtcbiAgICBvcHRzLnNpbmNlID0gMDtcbiAgfVxuICBpZiAob3B0cy5zaW5jZSA9PT0gJ25vdycpIHtcbiAgICB0aGlzLmRiLmluZm8oKS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wdHMuc2luY2UgPSBpbmZvLnVwZGF0ZV9zZXE7XG4gICAgICBzZWxmLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9LCBjYWxsYmFjayk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4pIHtcbiAgICBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLm5vcm1hbGl6ZShvcHRzKTtcbiAgICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi5zaG91bGRGaWx0ZXIodGhpcywgb3B0cykpIHtcbiAgICAgIHJldHVybiBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLmZpbHRlcih0aGlzLCBvcHRzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgWydkb2NfaWRzJywgJ2ZpbHRlcicsICdzZWxlY3RvcicsICd2aWV3J10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoa2V5IGluIG9wdHMpIHtcbiAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLFxuICAgICAgICAgICdUaGUgXCInICsga2V5ICsgJ1wiIG9wdGlvbiB3YXMgcGFzc2VkIGluIHRvIGNoYW5nZXMvcmVwbGljYXRlLCAnICtcbiAgICAgICAgICAnYnV0IHBvdWNoZGItY2hhbmdlcy1maWx0ZXIgcGx1Z2luIGlzIG5vdCBpbnN0YWxsZWQsIHNvIGl0ICcgK1xuICAgICAgICAgICd3YXMgaWdub3JlZC4gUGxlYXNlIGluc3RhbGwgdGhlIHBsdWdpbiB0byBlbmFibGUgZmlsdGVyaW5nLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmICghKCdkZXNjZW5kaW5nJyBpbiBvcHRzKSkge1xuICAgIG9wdHMuZGVzY2VuZGluZyA9IGZhbHNlO1xuICB9XG5cbiAgLy8gMCBhbmQgMSBzaG91bGQgcmV0dXJuIDEgZG9jdW1lbnRcbiAgb3B0cy5saW1pdCA9IG9wdHMubGltaXQgPT09IDAgPyAxIDogb3B0cy5saW1pdDtcbiAgb3B0cy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuICB2YXIgbmV3UHJvbWlzZSA9IHRoaXMuZGIuX2NoYW5nZXMob3B0cyk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChuZXdQcm9taXNlICYmIHR5cGVvZiBuZXdQcm9taXNlLmNhbmNlbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBjYW5jZWwgPSBzZWxmLmNhbmNlbDtcbiAgICBzZWxmLmNhbmNlbCA9IGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgICAgbmV3UHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgIGNhbmNlbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLypcbiAqIEEgZ2VuZXJpYyBwb3VjaCBhZGFwdGVyXG4gKi9cblxuZnVuY3Rpb24gY29tcGFyZShsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdCA8IHJpZ2h0ID8gLTEgOiBsZWZ0ID4gcmlnaHQgPyAxIDogMDtcbn1cblxuLy8gV3JhcHBlciBmb3IgZnVuY3Rpb25zIHRoYXQgY2FsbCB0aGUgYnVsa2RvY3MgYXBpIHdpdGggYSBzaW5nbGUgZG9jLFxuLy8gaWYgdGhlIGZpcnN0IHJlc3VsdCBpcyBhbiBlcnJvciwgcmV0dXJuIGFuIGVycm9yXG5mdW5jdGlvbiB5YW5rRXJyb3IoY2FsbGJhY2ssIGRvY0lkKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgaWYgKGVyciB8fCAocmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmVycm9yKSkge1xuICAgICAgZXJyID0gZXJyIHx8IHJlc3VsdHNbMF07XG4gICAgICBlcnIuZG9jSWQgPSBkb2NJZDtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMubGVuZ3RoID8gcmVzdWx0c1swXSAgOiByZXN1bHRzKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIGNsZWFuIGRvY3MgZ2l2ZW4gdG8gdXMgYnkgdGhlIHVzZXJcbmZ1bmN0aW9uIGNsZWFuRG9jcyhkb2NzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkb2MgPSBkb2NzW2ldO1xuICAgIGlmIChkb2MuX2RlbGV0ZWQpIHtcbiAgICAgIGRlbGV0ZSBkb2MuX2F0dGFjaG1lbnRzOyAvLyBpZ25vcmUgYXR0cyBmb3IgZGVsZXRlZCBkb2NzXG4gICAgfSBlbHNlIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAvLyBmaWx0ZXIgb3V0IGV4dHJhbmVvdXMga2V5cyBmcm9tIF9hdHRhY2htZW50c1xuICAgICAgdmFyIGF0dHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXR0cy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgYXR0ID0gYXR0c1tqXTtcbiAgICAgICAgZG9jLl9hdHRhY2htZW50c1thdHRdID0gcGljayhkb2MuX2F0dGFjaG1lbnRzW2F0dF0sXG4gICAgICAgICAgWydkYXRhJywgJ2RpZ2VzdCcsICdjb250ZW50X3R5cGUnLCAnbGVuZ3RoJywgJ3JldnBvcycsICdzdHViJ10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBjb21wYXJlIHR3byBkb2NzLCBmaXJzdCBieSBfaWQgdGhlbiBieSBfcmV2XG5mdW5jdGlvbiBjb21wYXJlQnlJZFRoZW5SZXYoYSwgYikge1xuICB2YXIgaWRDb21wYXJlID0gY29tcGFyZShhLl9pZCwgYi5faWQpO1xuICBpZiAoaWRDb21wYXJlICE9PSAwKSB7XG4gICAgcmV0dXJuIGlkQ29tcGFyZTtcbiAgfVxuICB2YXIgYVN0YXJ0ID0gYS5fcmV2aXNpb25zID8gYS5fcmV2aXNpb25zLnN0YXJ0IDogMDtcbiAgdmFyIGJTdGFydCA9IGIuX3JldmlzaW9ucyA/IGIuX3JldmlzaW9ucy5zdGFydCA6IDA7XG4gIHJldHVybiBjb21wYXJlKGFTdGFydCwgYlN0YXJ0KTtcbn1cblxuLy8gZm9yIGV2ZXJ5IG5vZGUgaW4gYSByZXZpc2lvbiB0cmVlIGNvbXB1dGVzIGl0cyBkaXN0YW5jZSBmcm9tIHRoZSBjbG9zZXN0XG4vLyBsZWFmXG5mdW5jdGlvbiBjb21wdXRlSGVpZ2h0KHJldnMpIHtcbiAgdmFyIGhlaWdodCA9IHt9O1xuICB2YXIgZWRnZXMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKHJldnMsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgaWQsIHBybnQpIHtcbiAgICB2YXIgcmV2ID0gcG9zICsgXCItXCIgKyBpZDtcbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBoZWlnaHRbcmV2XSA9IDA7XG4gICAgfVxuICAgIGlmIChwcm50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVkZ2VzLnB1c2goe2Zyb206IHBybnQsIHRvOiByZXZ9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbiAgfSk7XG5cbiAgZWRnZXMucmV2ZXJzZSgpO1xuICBlZGdlcy5mb3JFYWNoKGZ1bmN0aW9uIChlZGdlKSB7XG4gICAgaWYgKGhlaWdodFtlZGdlLmZyb21dID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGhlaWdodFtlZGdlLmZyb21dID0gMSArIGhlaWdodFtlZGdlLnRvXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0W2VkZ2UuZnJvbV0gPSBNYXRoLm1pbihoZWlnaHRbZWRnZS5mcm9tXSwgMSArIGhlaWdodFtlZGdlLnRvXSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGhlaWdodDtcbn1cblxuZnVuY3Rpb24gYWxsRG9jc0tleXNQYXJzZShvcHRzKSB7XG4gIHZhciBrZXlzID0gICgnbGltaXQnIGluIG9wdHMpID9cbiAgICBvcHRzLmtleXMuc2xpY2Uob3B0cy5za2lwLCBvcHRzLmxpbWl0ICsgb3B0cy5za2lwKSA6XG4gICAgKG9wdHMuc2tpcCA+IDApID8gb3B0cy5rZXlzLnNsaWNlKG9wdHMuc2tpcCkgOiBvcHRzLmtleXM7XG4gIG9wdHMua2V5cyA9IGtleXM7XG4gIG9wdHMuc2tpcCA9IDA7XG4gIGRlbGV0ZSBvcHRzLmxpbWl0O1xuICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAga2V5cy5yZXZlcnNlKCk7XG4gICAgb3B0cy5kZXNjZW5kaW5nID0gZmFsc2U7XG4gIH1cbn1cblxuLy8gYWxsIGNvbXBhY3Rpb24gaXMgZG9uZSBpbiBhIHF1ZXVlLCB0byBhdm9pZCBhdHRhY2hpbmdcbi8vIHRvbyBtYW55IGxpc3RlbmVycyBhdCBvbmNlXG5mdW5jdGlvbiBkb05leHRDb21wYWN0aW9uKHNlbGYpIHtcbiAgdmFyIHRhc2sgPSBzZWxmLl9jb21wYWN0aW9uUXVldWVbMF07XG4gIHZhciBvcHRzID0gdGFzay5vcHRzO1xuICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICBzZWxmLmdldCgnX2xvY2FsL2NvbXBhY3Rpb24nKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoZG9jICYmIGRvYy5sYXN0X3NlcSkge1xuICAgICAgb3B0cy5sYXN0X3NlcSA9IGRvYy5sYXN0X3NlcTtcbiAgICB9XG4gICAgc2VsZi5fY29tcGFjdChvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgIH1cbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoc2VsZi5fY29tcGFjdGlvblF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIGRvTmV4dENvbXBhY3Rpb24oc2VsZik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXR0YWNobWVudE5hbWVFcnJvcihuYW1lKSB7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gJ18nKSB7XG4gICAgcmV0dXJuIG5hbWUgKyAnIGlzIG5vdCBhIHZhbGlkIGF0dGFjaG1lbnQgbmFtZSwgYXR0YWNobWVudCAnICtcbiAgICAgICduYW1lcyBjYW5ub3Qgc3RhcnQgd2l0aCBcXCdfXFwnJztcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmluaGVyaXRzKEFic3RyYWN0UG91Y2hEQiwgRUUpO1xuXG5mdW5jdGlvbiBBYnN0cmFjdFBvdWNoREIoKSB7XG4gIEVFLmNhbGwodGhpcyk7XG5cbiAgLy8gcmUtYmluZCBwcm90b3R5cGVkIG1ldGhvZHNcbiAgZm9yICh2YXIgcCBpbiBBYnN0cmFjdFBvdWNoREIucHJvdG90eXBlKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzW3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW3BdID0gdGhpc1twXS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnBvc3QgPVxuICBhZGFwdGVyRnVuKCdwb3N0JywgZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGRvYyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShkb2MpKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgfVxuICB0aGlzLmJ1bGtEb2NzKHtkb2NzOiBbZG9jXX0sIG9wdHMsIHlhbmtFcnJvcihjYWxsYmFjaywgZG9jLl9pZCkpO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucHV0ID0gYWRhcHRlckZ1bigncHV0JywgZnVuY3Rpb24gKGRvYywgb3B0cywgY2IpIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGRvYyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShkb2MpKSB7XG4gICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgfVxuICBpbnZhbGlkSWRFcnJvcihkb2MuX2lkKTtcbiAgaWYgKGlzTG9jYWxJZChkb2MuX2lkKSAmJiB0eXBlb2YgdGhpcy5fcHV0TG9jYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTG9jYWwoZG9jLCBjYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9wdXRMb2NhbChkb2MsIGNiKTtcbiAgICB9XG4gIH1cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAob3B0cy5mb3JjZSAmJiBkb2MuX3Jldikge1xuICAgIHRyYW5zZm9ybUZvcmNlT3B0aW9uVG9OZXdFZGl0c09wdGlvbigpO1xuICAgIHB1dERvYyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZXJyID8gbnVsbCA6IHtvazogdHJ1ZSwgaWQ6IGRvYy5faWQsIHJldjogZG9jLl9yZXZ9O1xuICAgICAgY2IoZXJyLCByZXN1bHQpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHB1dERvYyhjYik7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2Zvcm1Gb3JjZU9wdGlvblRvTmV3RWRpdHNPcHRpb24oKSB7XG4gICAgdmFyIHBhcnRzID0gZG9jLl9yZXYuc3BsaXQoJy0nKTtcbiAgICB2YXIgb2xkUmV2SWQgPSBwYXJ0c1sxXTtcbiAgICB2YXIgb2xkUmV2TnVtID0gcGFyc2VJbnQocGFydHNbMF0sIDEwKTtcblxuICAgIHZhciBuZXdSZXZOdW0gPSBvbGRSZXZOdW0gKyAxO1xuICAgIHZhciBuZXdSZXZJZCA9IHJldiQkMSgpO1xuXG4gICAgZG9jLl9yZXZpc2lvbnMgPSB7XG4gICAgICBzdGFydDogbmV3UmV2TnVtLFxuICAgICAgaWRzOiBbbmV3UmV2SWQsIG9sZFJldklkXVxuICAgIH07XG4gICAgZG9jLl9yZXYgPSBuZXdSZXZOdW0gKyAnLScgKyBuZXdSZXZJZDtcbiAgICBvcHRzLm5ld19lZGl0cyA9IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHB1dERvYyhuZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBzZWxmLl9wdXQgPT09ICdmdW5jdGlvbicgJiYgb3B0cy5uZXdfZWRpdHMgIT09IGZhbHNlKSB7XG4gICAgICBzZWxmLl9wdXQoZG9jLCBvcHRzLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5idWxrRG9jcyh7ZG9jczogW2RvY119LCBvcHRzLCB5YW5rRXJyb3IobmV4dCwgZG9jLl9pZCkpO1xuICAgIH1cbiAgfVxufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucHV0QXR0YWNobWVudCA9XG4gIGFkYXB0ZXJGdW4oJ3B1dEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCwgcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2IsIHR5cGUpIHtcbiAgdmFyIGFwaSA9IHRoaXM7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHR5cGUgPSBibG9iO1xuICAgIGJsb2IgPSByZXY7XG4gICAgcmV2ID0gbnVsbDtcbiAgfVxuICAvLyBMZXRzIGZpeCBpbiBodHRwczovL2dpdGh1Yi5jb20vcG91Y2hkYi9wb3VjaGRiL2lzc3Vlcy8zMjY3XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIHR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdHlwZSA9IGJsb2I7XG4gICAgYmxvYiA9IHJldjtcbiAgICByZXYgPSBudWxsO1xuICB9XG4gIGlmICghdHlwZSkge1xuICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJywgJ0F0dGFjaG1lbnQnLCBhdHRhY2htZW50SWQsICdvbiBkb2N1bWVudCcsIGRvY0lkLCAnaXMgbWlzc2luZyBjb250ZW50X3R5cGUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUF0dGFjaG1lbnQoZG9jKSB7XG4gICAgdmFyIHByZXZyZXZwb3MgPSAnX3JldicgaW4gZG9jID8gcGFyc2VJbnQoZG9jLl9yZXYsIDEwKSA6IDA7XG4gICAgZG9jLl9hdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHMgfHwge307XG4gICAgZG9jLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdID0ge1xuICAgICAgY29udGVudF90eXBlOiB0eXBlLFxuICAgICAgZGF0YTogYmxvYixcbiAgICAgIHJldnBvczogKytwcmV2cmV2cG9zXG4gICAgfTtcbiAgICByZXR1cm4gYXBpLnB1dChkb2MpO1xuICB9XG5cbiAgcmV0dXJuIGFwaS5nZXQoZG9jSWQpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MuX3JldiAhPT0gcmV2KSB7XG4gICAgICB0aHJvdyBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVBdHRhY2htZW50KGRvYyk7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgLy8gY3JlYXRlIG5ldyBkb2NcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChlcnIucmVhc29uID09PSBNSVNTSU5HX0RPQy5tZXNzYWdlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQXR0YWNobWVudCh7X2lkOiBkb2NJZH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlbW92ZUF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdyZW1vdmVBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHNlbGYuZ2V0KGRvY0lkLCBmdW5jdGlvbiAoZXJyLCBvYmopIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob2JqLl9yZXYgIT09IHJldikge1xuICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghb2JqLl9hdHRhY2htZW50cykge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGRlbGV0ZSBvYmouX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF07XG4gICAgaWYgKE9iamVjdC5rZXlzKG9iai5fYXR0YWNobWVudHMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZGVsZXRlIG9iai5fYXR0YWNobWVudHM7XG4gICAgfVxuICAgIHNlbGYucHV0KG9iaiwgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlbW92ZSA9XG4gIGFkYXB0ZXJGdW4oJ3JlbW92ZScsIGZ1bmN0aW9uIChkb2NPcklkLCBvcHRzT3JSZXYsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBkb2M7XG4gIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnc3RyaW5nJykge1xuICAgIC8vIGlkLCByZXYsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgZG9jID0ge1xuICAgICAgX2lkOiBkb2NPcklkLFxuICAgICAgX3Jldjogb3B0c09yUmV2XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gZG9jLCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgIGRvYyA9IGRvY09ySWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0c09yUmV2O1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0gb3B0c09yUmV2O1xuICAgIH1cbiAgfVxuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgb3B0cy53YXNfZGVsZXRlID0gdHJ1ZTtcbiAgdmFyIG5ld0RvYyA9IHtfaWQ6IGRvYy5faWQsIF9yZXY6IChkb2MuX3JldiB8fCBvcHRzLnJldil9O1xuICBuZXdEb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICBpZiAoaXNMb2NhbElkKG5ld0RvYy5faWQpICYmIHR5cGVvZiB0aGlzLl9yZW1vdmVMb2NhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGlzLl9yZW1vdmVMb2NhbChkb2MsIGNhbGxiYWNrKTtcbiAgfVxuICB0aGlzLmJ1bGtEb2NzKHtkb2NzOiBbbmV3RG9jXX0sIG9wdHMsIHlhbmtFcnJvcihjYWxsYmFjaywgbmV3RG9jLl9pZCkpO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmV2c0RpZmYgPVxuICBhZGFwdGVyRnVuKCdyZXZzRGlmZicsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgdmFyIGlkcyA9IE9iamVjdC5rZXlzKHJlcSk7XG5cbiAgaWYgKCFpZHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHt9KTtcbiAgfVxuXG4gIHZhciBjb3VudCA9IDA7XG4gIHZhciBtaXNzaW5nID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgZnVuY3Rpb24gYWRkVG9NaXNzaW5nKGlkLCByZXZJZCkge1xuICAgIGlmICghbWlzc2luZy5oYXMoaWQpKSB7XG4gICAgICBtaXNzaW5nLnNldChpZCwge21pc3Npbmc6IFtdfSk7XG4gICAgfVxuICAgIG1pc3NpbmcuZ2V0KGlkKS5taXNzaW5nLnB1c2gocmV2SWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0RvYyhpZCwgcmV2X3RyZWUpIHtcbiAgICAvLyBJcyB0aGlzIGZhc3QgZW5vdWdoPyBNYXliZSB3ZSBzaG91bGQgc3dpdGNoIHRvIGEgc2V0IHNpbXVsYXRlZCBieSBhIG1hcFxuICAgIHZhciBtaXNzaW5nRm9ySWQgPSByZXFbaWRdLnNsaWNlKDApO1xuICAgIHRyYXZlcnNlUmV2VHJlZShyZXZfdHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoLCBjdHgsXG4gICAgICBvcHRzKSB7XG4gICAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgICB2YXIgaWR4ID0gbWlzc2luZ0ZvcklkLmluZGV4T2YocmV2KTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtaXNzaW5nRm9ySWQuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAob3B0cy5zdGF0dXMgIT09ICdhdmFpbGFibGUnKSB7XG4gICAgICAgICAgYWRkVG9NaXNzaW5nKGlkLCByZXYpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIFRyYXZlcnNpbmcgdGhlIHRyZWUgaXMgc3luY2hyb25vdXMsIHNvIG5vdyBgbWlzc2luZ0ZvcklkYCBjb250YWluc1xuICAgIC8vIHJldmlzaW9ucyB0aGF0IHdlcmUgbm90IGZvdW5kIGluIHRoZSB0cmVlXG4gICAgbWlzc2luZ0ZvcklkLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgICAgYWRkVG9NaXNzaW5nKGlkLCByZXYpO1xuICAgIH0pO1xuICB9XG5cbiAgaWRzLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoaWQsIGZ1bmN0aW9uIChlcnIsIHJldl90cmVlKSB7XG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgPT09IDQwNCAmJiBlcnIubWVzc2FnZSA9PT0gJ21pc3NpbmcnKSB7XG4gICAgICAgIG1pc3Npbmcuc2V0KGlkLCB7bWlzc2luZzogcmVxW2lkXX0pO1xuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzRG9jKGlkLCByZXZfdHJlZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgrK2NvdW50ID09PSBpZHMubGVuZ3RoKSB7XG4gICAgICAgIC8vIGNvbnZlcnQgTGF6eU1hcCB0byBvYmplY3RcbiAgICAgICAgdmFyIG1pc3NpbmdPYmogPSB7fTtcbiAgICAgICAgbWlzc2luZy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgbWlzc2luZ09ialtrZXldID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbWlzc2luZ09iaik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIHRoaXMpO1xufSk7XG5cbi8vIF9idWxrX2dldCBBUEkgZm9yIGZhc3RlciByZXBsaWNhdGlvbiwgYXMgZGVzY3JpYmVkIGluXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYXBhY2hlL2NvdWNoZGItY2h0dHBkL3B1bGwvMzNcbi8vIEF0IHRoZSBcImFic3RyYWN0XCIgbGV2ZWwsIGl0IHdpbGwganVzdCBydW4gbXVsdGlwbGUgZ2V0KClzIGluXG4vLyBwYXJhbGxlbCwgYmVjYXVzZSB0aGlzIGlzbid0IG11Y2ggb2YgYSBwZXJmb3JtYW5jZSBjb3N0XG4vLyBmb3IgbG9jYWwgZGF0YWJhc2VzIChleGNlcHQgdGhlIGNvc3Qgb2YgbXVsdGlwbGUgdHJhbnNhY3Rpb25zLCB3aGljaCBpc1xuLy8gc21hbGwpLiBUaGUgaHR0cCBhZGFwdGVyIG92ZXJyaWRlcyB0aGlzIGluIG9yZGVyXG4vLyB0byBkbyBhIG1vcmUgZWZmaWNpZW50IHNpbmdsZSBIVFRQIHJlcXVlc3QuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmJ1bGtHZXQgPVxuICBhZGFwdGVyRnVuKCdidWxrR2V0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGJ1bGtHZXQodGhpcywgb3B0cywgY2FsbGJhY2spO1xufSk7XG5cbi8vIGNvbXBhY3Qgb25lIGRvY3VtZW50IGFuZCBmaXJlIGNhbGxiYWNrXG4vLyBieSBjb21wYWN0aW5nIHdlIG1lYW4gcmVtb3ZpbmcgYWxsIHJldmlzaW9ucyB3aGljaFxuLy8gYXJlIGZ1cnRoZXIgZnJvbSB0aGUgbGVhZiBpbiByZXZpc2lvbiB0cmVlIHRoYW4gbWF4X2hlaWdodFxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jb21wYWN0RG9jdW1lbnQgPVxuICBhZGFwdGVyRnVuKCdjb21wYWN0RG9jdW1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIG1heEhlaWdodCwgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoZG9jSWQsIGZ1bmN0aW9uIChlcnIsIHJldlRyZWUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgdmFyIGhlaWdodCA9IGNvbXB1dGVIZWlnaHQocmV2VHJlZSk7XG4gICAgdmFyIGNhbmRpZGF0ZXMgPSBbXTtcbiAgICB2YXIgcmV2cyA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGhlaWdodCkuZm9yRWFjaChmdW5jdGlvbiAocmV2KSB7XG4gICAgICBpZiAoaGVpZ2h0W3Jldl0gPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHJldik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0cmF2ZXJzZVJldlRyZWUocmV2VHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgaWYgKG9wdHMuc3RhdHVzID09PSAnYXZhaWxhYmxlJyAmJiBjYW5kaWRhdGVzLmluZGV4T2YocmV2KSAhPT0gLTEpIHtcbiAgICAgICAgcmV2cy5wdXNoKHJldik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2VsZi5fZG9Db21wYWN0aW9uKGRvY0lkLCByZXZzLCBjYWxsYmFjayk7XG4gIH0pO1xufSk7XG5cbi8vIGNvbXBhY3QgdGhlIHdob2xlIGRhdGFiYXNlIHVzaW5nIHNpbmdsZSBkb2N1bWVudFxuLy8gY29tcGFjdGlvblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jb21wYWN0ID1cbiAgYWRhcHRlckZ1bignY29tcGFjdCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBzZWxmLl9jb21wYWN0aW9uUXVldWUgPSBzZWxmLl9jb21wYWN0aW9uUXVldWUgfHwgW107XG4gIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5wdXNoKHtvcHRzOiBvcHRzLCBjYWxsYmFjazogY2FsbGJhY2t9KTtcbiAgaWYgKHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5sZW5ndGggPT09IDEpIHtcbiAgICBkb05leHRDb21wYWN0aW9uKHNlbGYpO1xuICB9XG59KTtcbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuX2NvbXBhY3QgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgY2hhbmdlc09wdHMgPSB7XG4gICAgcmV0dXJuX2RvY3M6IGZhbHNlLFxuICAgIGxhc3Rfc2VxOiBvcHRzLmxhc3Rfc2VxIHx8IDBcbiAgfTtcbiAgdmFyIHByb21pc2VzID0gW107XG5cbiAgZnVuY3Rpb24gb25DaGFuZ2Uocm93KSB7XG4gICAgcHJvbWlzZXMucHVzaChzZWxmLmNvbXBhY3REb2N1bWVudChyb3cuaWQsIDApKTtcbiAgfVxuICBmdW5jdGlvbiBvbkNvbXBsZXRlKHJlc3ApIHtcbiAgICB2YXIgbGFzdFNlcSA9IHJlc3AubGFzdF9zZXE7XG4gICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVwc2VydChzZWxmLCAnX2xvY2FsL2NvbXBhY3Rpb24nLCBmdW5jdGlvbiBkZWx0YUZ1bmMoZG9jKSB7XG4gICAgICAgIGlmICghZG9jLmxhc3Rfc2VxIHx8IGRvYy5sYXN0X3NlcSA8IGxhc3RTZXEpIHtcbiAgICAgICAgICBkb2MubGFzdF9zZXEgPSBsYXN0U2VxO1xuICAgICAgICAgIHJldHVybiBkb2M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBzb21lYm9keSBlbHNlIGdvdCBoZXJlIGZpcnN0LCBkb24ndCB1cGRhdGVcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwge29rOiB0cnVlfSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9XG4gIHNlbGYuY2hhbmdlcyhjaGFuZ2VzT3B0cylcbiAgICAub24oJ2NoYW5nZScsIG9uQ2hhbmdlKVxuICAgIC5vbignY29tcGxldGUnLCBvbkNvbXBsZXRlKVxuICAgIC5vbignZXJyb3InLCBjYWxsYmFjayk7XG59O1xuXG4vKiBCZWdpbiBhcGkgd3JhcHBlcnMuIFNwZWNpZmljIGZ1bmN0aW9uYWxpdHkgdG8gc3RvcmFnZSBiZWxvbmdzIGluIHRoZVxuICAgX1ttZXRob2RdICovXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmdldCA9IGFkYXB0ZXJGdW4oJ2dldCcsIGZ1bmN0aW9uIChpZCwgb3B0cywgY2IpIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihJTlZBTElEX0lEKSk7XG4gIH1cbiAgaWYgKGlzTG9jYWxJZChpZCkgJiYgdHlwZW9mIHRoaXMuX2dldExvY2FsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldExvY2FsKGlkLCBjYik7XG4gIH1cbiAgdmFyIGxlYXZlcyA9IFtdLCBzZWxmID0gdGhpcztcblxuICBmdW5jdGlvbiBmaW5pc2hPcGVuUmV2cygpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGNvdW50ID0gbGVhdmVzLmxlbmd0aDtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWNvdW50KSB7XG4gICAgICByZXR1cm4gY2IobnVsbCwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvLyBvcmRlciB3aXRoIG9wZW5fcmV2cyBpcyB1bnNwZWNpZmllZFxuICAgIGxlYXZlcy5mb3JFYWNoKGZ1bmN0aW9uIChsZWFmKSB7XG4gICAgICBzZWxmLmdldChpZCwge1xuICAgICAgICByZXY6IGxlYWYsXG4gICAgICAgIHJldnM6IG9wdHMucmV2cyxcbiAgICAgICAgbGF0ZXN0OiBvcHRzLmxhdGVzdCxcbiAgICAgICAgYXR0YWNobWVudHM6IG9wdHMuYXR0YWNobWVudHMsXG4gICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnlcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIGRvYykge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgIC8vIHVzaW5nIGxhdGVzdD10cnVlIGNhbiBwcm9kdWNlIGR1cGxpY2F0ZXNcbiAgICAgICAgICB2YXIgZXhpc3Rpbmc7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZXN1bHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0W2ldLm9rICYmIHJlc3VsdFtpXS5vay5fcmV2ID09PSBkb2MuX3Jldikge1xuICAgICAgICAgICAgICBleGlzdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7b2s6IGRvY30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh7bWlzc2luZzogbGVhZn0pO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50LS07XG4gICAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgICBjYihudWxsLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChvcHRzLm9wZW5fcmV2cykge1xuICAgIGlmIChvcHRzLm9wZW5fcmV2cyA9PT0gXCJhbGxcIikge1xuICAgICAgdGhpcy5fZ2V0UmV2aXNpb25UcmVlKGlkLCBmdW5jdGlvbiAoZXJyLCByZXZfdHJlZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGxlYXZlcyA9IGNvbGxlY3RMZWF2ZXMocmV2X3RyZWUpLm1hcChmdW5jdGlvbiAobGVhZikge1xuICAgICAgICAgIHJldHVybiBsZWFmLnJldjtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbmlzaE9wZW5SZXZzKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0cy5vcGVuX3JldnMpKSB7XG4gICAgICAgIGxlYXZlcyA9IG9wdHMub3Blbl9yZXZzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlYXZlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBsID0gbGVhdmVzW2ldO1xuICAgICAgICAgIC8vIGxvb2tzIGxpa2UgaXQncyB0aGUgb25seSB0aGluZyBjb3VjaGRiIGNoZWNrc1xuICAgICAgICAgIGlmICghKHR5cGVvZiAobCkgPT09IFwic3RyaW5nXCIgJiYgL15cXGQrLS8udGVzdChsKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihJTlZBTElEX1JFVikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5pc2hPcGVuUmV2cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKFVOS05PV05fRVJST1IsICdmdW5jdGlvbl9jbGF1c2UnKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjsgLy8gb3Blbl9yZXZzIGRvZXMgbm90IGxpa2Ugb3RoZXIgb3B0aW9uc1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2dldChpZCwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgZXJyLmRvY0lkID0gaWQ7XG4gICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICB9XG5cbiAgICB2YXIgZG9jID0gcmVzdWx0LmRvYztcbiAgICB2YXIgbWV0YWRhdGEgPSByZXN1bHQubWV0YWRhdGE7XG4gICAgdmFyIGN0eCA9IHJlc3VsdC5jdHg7XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHZhciBjb25mbGljdHMgPSBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKTtcbiAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICAgIGRvYy5fY29uZmxpY3RzID0gY29uZmxpY3RzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0RlbGV0ZWQobWV0YWRhdGEsIGRvYy5fcmV2KSkge1xuICAgICAgZG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXZzIHx8IG9wdHMucmV2c19pbmZvKSB7XG4gICAgICB2YXIgc3BsaXR0ZWRSZXYgPSBkb2MuX3Jldi5zcGxpdCgnLScpO1xuICAgICAgdmFyIHJldk5vICAgICAgID0gcGFyc2VJbnQoc3BsaXR0ZWRSZXZbMF0sIDEwKTtcbiAgICAgIHZhciByZXZIYXNoICAgICA9IHNwbGl0dGVkUmV2WzFdO1xuXG4gICAgICB2YXIgcGF0aHMgPSByb290VG9MZWFmKG1ldGFkYXRhLnJldl90cmVlKTtcbiAgICAgIHZhciBwYXRoID0gbnVsbDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSBwYXRoc1tpXTtcbiAgICAgICAgdmFyIGhhc2hJbmRleCA9IGN1cnJlbnRQYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQ7IH0pXG4gICAgICAgICAgLmluZGV4T2YocmV2SGFzaCk7XG4gICAgICAgIHZhciBoYXNoRm91bmRBdFJldlBvcyA9IGhhc2hJbmRleCA9PT0gKHJldk5vIC0gMSk7XG5cbiAgICAgICAgaWYgKGhhc2hGb3VuZEF0UmV2UG9zIHx8ICghcGF0aCAmJiBoYXNoSW5kZXggIT09IC0xKSkge1xuICAgICAgICAgIHBhdGggPSBjdXJyZW50UGF0aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICghcGF0aCkge1xuICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ2ludmFsaWQgcmV2IHRyZWUnKTtcbiAgICAgICAgZXJyLmRvY0lkID0gaWQ7XG4gICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXhPZlJldiA9IHBhdGguaWRzLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSlcbiAgICAgICAgLmluZGV4T2YoZG9jLl9yZXYuc3BsaXQoJy0nKVsxXSkgKyAxO1xuICAgICAgdmFyIGhvd01hbnkgPSBwYXRoLmlkcy5sZW5ndGggLSBpbmRleE9mUmV2O1xuICAgICAgcGF0aC5pZHMuc3BsaWNlKGluZGV4T2ZSZXYsIGhvd01hbnkpO1xuICAgICAgcGF0aC5pZHMucmV2ZXJzZSgpO1xuXG4gICAgICBpZiAob3B0cy5yZXZzKSB7XG4gICAgICAgIGRvYy5fcmV2aXNpb25zID0ge1xuICAgICAgICAgIHN0YXJ0OiAocGF0aC5wb3MgKyBwYXRoLmlkcy5sZW5ndGgpIC0gMSxcbiAgICAgICAgICBpZHM6IHBhdGguaWRzLm1hcChmdW5jdGlvbiAocmV2KSB7XG4gICAgICAgICAgICByZXR1cm4gcmV2LmlkO1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5yZXZzX2luZm8pIHtcbiAgICAgICAgdmFyIHBvcyA9ICBwYXRoLnBvcyArIHBhdGguaWRzLmxlbmd0aDtcbiAgICAgICAgZG9jLl9yZXZzX2luZm8gPSBwYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHJldikge1xuICAgICAgICAgIHBvcy0tO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXY6IHBvcyArICctJyArIHJldi5pZCxcbiAgICAgICAgICAgIHN0YXR1czogcmV2Lm9wdHMuc3RhdHVzXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgdmFyIGF0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cztcbiAgICAgIHZhciBjb3VudCA9IE9iamVjdC5rZXlzKGF0dGFjaG1lbnRzKS5sZW5ndGg7XG4gICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGNiKG51bGwsIGRvYyk7XG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyhhdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuX2dldEF0dGFjaG1lbnQoZG9jLl9pZCwga2V5LCBhdHRhY2htZW50c1trZXldLCB7XG4gICAgICAgICAgLy8gUHJldmlvdXNseSB0aGUgcmV2aXNpb24gaGFuZGxpbmcgd2FzIGRvbmUgaW4gYWRhcHRlci5qc1xuICAgICAgICAgIC8vIGdldEF0dGFjaG1lbnQsIGhvd2V2ZXIgc2luY2UgaWRiLW5leHQgZG9lc250IHdlIG5lZWQgdG9cbiAgICAgICAgICAvLyBwYXNzIHRoZSByZXYgdGhyb3VnaFxuICAgICAgICAgIHJldjogZG9jLl9yZXYsXG4gICAgICAgICAgYmluYXJ5OiBvcHRzLmJpbmFyeSxcbiAgICAgICAgICBjdHg6IGN0eFxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgdmFyIGF0dCA9IGRvYy5fYXR0YWNobWVudHNba2V5XTtcbiAgICAgICAgICBhdHQuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgIGlmICghLS1jb3VudCkge1xuICAgICAgICAgICAgY2IobnVsbCwgZG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSwgc2VsZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvYy5fYXR0YWNobWVudHMsIGtleSkpIHtcbiAgICAgICAgICAgIGRvYy5fYXR0YWNobWVudHNba2V5XS5zdHViID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNiKG51bGwsIGRvYyk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vLyBUT0RPOiBJIGRvbnQgbGlrZSB0aGlzLCBpdCBmb3JjZXMgYW4gZXh0cmEgcmVhZCBmb3IgZXZlcnlcbi8vIGF0dGFjaG1lbnQgcmVhZCBhbmQgZW5mb3JjZXMgYSBjb25mdXNpbmcgYXBpIGJldHdlZW5cbi8vIGFkYXB0ZXIuanMgYW5kIHRoZSBhZGFwdGVyIGltcGxlbWVudGF0aW9uXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmdldEF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdnZXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKG9wdHMgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgdGhpcy5fZ2V0KGRvY0lkLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgaWYgKHJlcy5kb2MuX2F0dGFjaG1lbnRzICYmIHJlcy5kb2MuX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF0pIHtcbiAgICAgIG9wdHMuY3R4ID0gcmVzLmN0eDtcbiAgICAgIG9wdHMuYmluYXJ5ID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2dldEF0dGFjaG1lbnQoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmRvYy5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXSwgb3B0cywgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuYWxsRG9jcyA9XG4gIGFkYXB0ZXJGdW4oJ2FsbERvY3MnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBvcHRzLnNraXAgPSB0eXBlb2Ygb3B0cy5za2lwICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuc2tpcCA6IDA7XG4gIGlmIChvcHRzLnN0YXJ0X2tleSkge1xuICAgIG9wdHMuc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgfVxuICBpZiAob3B0cy5lbmRfa2V5KSB7XG4gICAgb3B0cy5lbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gIH1cbiAgaWYgKCdrZXlzJyBpbiBvcHRzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdHMua2V5cykpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgVHlwZUVycm9yKCdvcHRpb25zLmtleXMgbXVzdCBiZSBhbiBhcnJheScpKTtcbiAgICB9XG4gICAgdmFyIGluY29tcGF0aWJsZU9wdCA9XG4gICAgICBbJ3N0YXJ0a2V5JywgJ2VuZGtleScsICdrZXknXS5maWx0ZXIoZnVuY3Rpb24gKGluY29tcGF0aWJsZU9wdCkge1xuICAgICAgcmV0dXJuIGluY29tcGF0aWJsZU9wdCBpbiBvcHRzO1xuICAgIH0pWzBdO1xuICAgIGlmIChpbmNvbXBhdGlibGVPcHQpIHtcbiAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFFVRVJZX1BBUlNFX0VSUk9SLFxuICAgICAgICAnUXVlcnkgcGFyYW1ldGVyIGAnICsgaW5jb21wYXRpYmxlT3B0ICtcbiAgICAgICAgJ2AgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBtdWx0aS1nZXQnXG4gICAgICApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc1JlbW90ZSh0aGlzKSkge1xuICAgICAgYWxsRG9jc0tleXNQYXJzZShvcHRzKTtcbiAgICAgIGlmIChvcHRzLmtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbGxEb2NzKHtsaW1pdDogMH0sIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy5fYWxsRG9jcyhvcHRzLCBjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAvLyBCeSBkZWZhdWx0IHNldCByZXR1cm5fZG9jcyB0byBmYWxzZSBpZiB0aGUgY2FsbGVyIGhhcyBvcHRzLmxpdmUgPSB0cnVlLFxuICAvLyB0aGlzIHdpbGwgcHJldmVudCB1cyBmcm9tIGNvbGxlY3RpbmcgdGhlIHNldCBvZiBjaGFuZ2VzIGluZGVmaW5pdGVseVxuICAvLyByZXN1bHRpbmcgaW4gZ3Jvd2luZyBtZW1vcnlcbiAgb3B0cy5yZXR1cm5fZG9jcyA9ICgncmV0dXJuX2RvY3MnIGluIG9wdHMpID8gb3B0cy5yZXR1cm5fZG9jcyA6ICFvcHRzLmxpdmU7XG5cbiAgcmV0dXJuIG5ldyBDaGFuZ2VzJDEodGhpcywgb3B0cywgY2FsbGJhY2spO1xufTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jbG9zZSA9IGFkYXB0ZXJGdW4oJ2Nsb3NlJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHRoaXMuX2Nsb3NlZCA9IHRydWU7XG4gIHRoaXMuZW1pdCgnY2xvc2VkJyk7XG4gIHJldHVybiB0aGlzLl9jbG9zZShjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5pbmZvID0gYWRhcHRlckZ1bignaW5mbycsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX2luZm8oZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICAvLyBhc3N1bWUgd2Uga25vdyBiZXR0ZXIgdGhhbiB0aGUgYWRhcHRlciwgdW5sZXNzIGl0IGluZm9ybXMgdXNcbiAgICBpbmZvLmRiX25hbWUgPSBpbmZvLmRiX25hbWUgfHwgc2VsZi5uYW1lO1xuICAgIGluZm8uYXV0b19jb21wYWN0aW9uID0gISEoc2VsZi5hdXRvX2NvbXBhY3Rpb24gJiYgIWlzUmVtb3RlKHNlbGYpKTtcbiAgICBpbmZvLmFkYXB0ZXIgPSBzZWxmLmFkYXB0ZXI7XG4gICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuaWQgPSBhZGFwdGVyRnVuKCdpZCcsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICByZXR1cm4gdGhpcy5faWQoY2FsbGJhY2spO1xufSk7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAodHlwZW9mIHRoaXMuX3R5cGUgPT09ICdmdW5jdGlvbicpID8gdGhpcy5fdHlwZSgpIDogdGhpcy5hZGFwdGVyO1xufTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5idWxrRG9jcyA9XG4gIGFkYXB0ZXJGdW4oJ2J1bGtEb2NzJywgZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHJlcSkpIHtcbiAgICByZXEgPSB7XG4gICAgICBkb2NzOiByZXFcbiAgICB9O1xuICB9XG5cbiAgaWYgKCFyZXEgfHwgIXJlcS5kb2NzIHx8ICFBcnJheS5pc0FycmF5KHJlcS5kb2NzKSkge1xuICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0JVTEtfRE9DUykpO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXEuZG9jcy5sZW5ndGg7ICsraSkge1xuICAgIGlmICh0eXBlb2YgcmVxLmRvY3NbaV0gIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkocmVxLmRvY3NbaV0pKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTk9UX0FOX09CSkVDVCkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhdHRhY2htZW50RXJyb3I7XG4gIHJlcS5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGF0dGFjaG1lbnRFcnJvciA9IGF0dGFjaG1lbnRFcnJvciB8fCBhdHRhY2htZW50TmFtZUVycm9yKG5hbWUpO1xuICAgICAgICBpZiAoIWRvYy5fYXR0YWNobWVudHNbbmFtZV0uY29udGVudF90eXBlKSB7XG4gICAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLCAnQXR0YWNobWVudCcsIG5hbWUsICdvbiBkb2N1bWVudCcsIGRvYy5faWQsICdpcyBtaXNzaW5nIGNvbnRlbnRfdHlwZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChhdHRhY2htZW50RXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsIGF0dGFjaG1lbnRFcnJvcikpO1xuICB9XG5cbiAgaWYgKCEoJ25ld19lZGl0cycgaW4gb3B0cykpIHtcbiAgICBpZiAoJ25ld19lZGl0cycgaW4gcmVxKSB7XG4gICAgICBvcHRzLm5ld19lZGl0cyA9IHJlcS5uZXdfZWRpdHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMubmV3X2VkaXRzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgYWRhcHRlciA9IHRoaXM7XG4gIGlmICghb3B0cy5uZXdfZWRpdHMgJiYgIWlzUmVtb3RlKGFkYXB0ZXIpKSB7XG4gICAgLy8gZW5zdXJlIHJldmlzaW9ucyBvZiB0aGUgc2FtZSBkb2MgYXJlIHNvcnRlZCwgc28gdGhhdFxuICAgIC8vIHRoZSBsb2NhbCBhZGFwdGVyIHByb2Nlc3NlcyB0aGVtIGNvcnJlY3RseSAoIzI5MzUpXG4gICAgcmVxLmRvY3Muc29ydChjb21wYXJlQnlJZFRoZW5SZXYpO1xuICB9XG5cbiAgY2xlYW5Eb2NzKHJlcS5kb2NzKTtcblxuICAvLyBpbiB0aGUgY2FzZSBvZiBjb25mbGljdHMsIHdlIHdhbnQgdG8gcmV0dXJuIHRoZSBfaWRzIHRvIHRoZSB1c2VyXG4gIC8vIGhvd2V2ZXIsIHRoZSB1bmRlcmx5aW5nIGFkYXB0ZXIgbWF5IGRlc3Ryb3kgdGhlIGRvY3MgYXJyYXksIHNvXG4gIC8vIGNyZWF0ZSBhIGNvcHkgaGVyZVxuICB2YXIgaWRzID0gcmVxLmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9pZDtcbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXMuX2J1bGtEb2NzKHJlcSwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIGlmICghb3B0cy5uZXdfZWRpdHMpIHtcbiAgICAgIC8vIHRoaXMgaXMgd2hhdCBjb3VjaCBkb2VzIHdoZW4gbmV3X2VkaXRzIGlzIGZhbHNlXG4gICAgICByZXMgPSByZXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LmVycm9yO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGFkZCBpZHMgZm9yIGVycm9yL2NvbmZsaWN0IHJlc3BvbnNlcyAobm90IHJlcXVpcmVkIGZvciBDb3VjaERCKVxuICAgIGlmICghaXNSZW1vdGUoYWRhcHRlcikpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcmVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICByZXNbaV0uaWQgPSByZXNbaV0uaWQgfHwgaWRzW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZSA9XG4gIGFkYXB0ZXJGdW4oJ3JlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UnLCBmdW5jdGlvbiAoZGVwZW5kZW50RGIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spIHtcbiAgdmFyIGRiT3B0aW9ucyA9IGNsb25lKHRoaXMuX19vcHRzKTtcbiAgaWYgKHRoaXMuX19vcHRzLnZpZXdfYWRhcHRlcikge1xuICAgIGRiT3B0aW9ucy5hZGFwdGVyID0gdGhpcy5fX29wdHMudmlld19hZGFwdGVyO1xuICB9XG5cbiAgdmFyIGRlcERCID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZGVwZW5kZW50RGIsIGRiT3B0aW9ucyk7XG5cbiAgZnVuY3Rpb24gZGlmZkZ1bihkb2MpIHtcbiAgICBkb2MuZGVwZW5kZW50RGJzID0gZG9jLmRlcGVuZGVudERicyB8fCB7fTtcbiAgICBpZiAoZG9jLmRlcGVuZGVudERic1tkZXBlbmRlbnREYl0pIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gbm8gdXBkYXRlIHJlcXVpcmVkXG4gICAgfVxuICAgIGRvYy5kZXBlbmRlbnREYnNbZGVwZW5kZW50RGJdID0gdHJ1ZTtcbiAgICByZXR1cm4gZG9jO1xuICB9XG4gIHVwc2VydCh0aGlzLCAnX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMnLCBkaWZmRnVuKVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtkYjogZGVwREJ9KTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5kZXN0cm95ID1cbiAgYWRhcHRlckZ1bignZGVzdHJveScsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuXG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB1c2VQcmVmaXggPSAndXNlX3ByZWZpeCcgaW4gc2VsZiA/IHNlbGYudXNlX3ByZWZpeCA6IHRydWU7XG5cbiAgZnVuY3Rpb24gZGVzdHJveURiKCkge1xuICAgIC8vIGNhbGwgZGVzdHJveSBtZXRob2Qgb2YgdGhlIHBhcnRpY3VsYXIgYWRhcHRvclxuICAgIHNlbGYuX2Rlc3Ryb3kob3B0cywgZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICBzZWxmLmVtaXQoJ2Rlc3Ryb3llZCcpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcCB8fCB7ICdvayc6IHRydWUgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXNSZW1vdGUoc2VsZikpIHtcbiAgICAvLyBubyBuZWVkIHRvIGNoZWNrIGZvciBkZXBlbmRlbnQgREJzIGlmIGl0J3MgYSByZW1vdGUgREJcbiAgICByZXR1cm4gZGVzdHJveURiKCk7XG4gIH1cblxuICBzZWxmLmdldCgnX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMnLCBmdW5jdGlvbiAoZXJyLCBsb2NhbERvYykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7IC8vIG5vIGRlcGVuZGVuY2llc1xuICAgICAgICByZXR1cm4gZGVzdHJveURiKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkZXBlbmRlbnREYnMgPSBsb2NhbERvYy5kZXBlbmRlbnREYnM7XG4gICAgdmFyIFBvdWNoREIgPSBzZWxmLmNvbnN0cnVjdG9yO1xuICAgIHZhciBkZWxldGVkTWFwID0gT2JqZWN0LmtleXMoZGVwZW5kZW50RGJzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIC8vIHVzZV9wcmVmaXggaXMgb25seSBmYWxzZSBpbiB0aGUgYnJvd3NlclxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHZhciB0cnVlTmFtZSA9IHVzZVByZWZpeCA/XG4gICAgICAgIG5hbWUucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIFBvdWNoREIucHJlZml4KSwgJycpIDogbmFtZTtcbiAgICAgIHJldHVybiBuZXcgUG91Y2hEQih0cnVlTmFtZSwgc2VsZi5fX29wdHMpLmRlc3Ryb3koKTtcbiAgICB9KTtcbiAgICBQcm9taXNlLmFsbChkZWxldGVkTWFwKS50aGVuKGRlc3Ryb3lEYiwgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBUYXNrUXVldWUoKSB7XG4gIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xuICB0aGlzLmZhaWxlZCA9IGZhbHNlO1xuICB0aGlzLnF1ZXVlID0gW107XG59XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZ1bjtcbiAgaWYgKHRoaXMuZmFpbGVkKSB7XG4gICAgd2hpbGUgKChmdW4gPSB0aGlzLnF1ZXVlLnNoaWZ0KCkpKSB7XG4gICAgICBmdW4odGhpcy5mYWlsZWQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoKGZ1biA9IHRoaXMucXVldWUuc2hpZnQoKSkpIHtcbiAgICAgIGZ1bigpO1xuICAgIH1cbiAgfVxufTtcblxuVGFza1F1ZXVlLnByb3RvdHlwZS5mYWlsID0gZnVuY3Rpb24gKGVycikge1xuICB0aGlzLmZhaWxlZCA9IGVycjtcbiAgdGhpcy5leGVjdXRlKCk7XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gKGRiKSB7XG4gIHRoaXMuaXNSZWFkeSA9IHRydWU7XG4gIHRoaXMuZGIgPSBkYjtcbiAgdGhpcy5leGVjdXRlKCk7XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLmFkZFRhc2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gIHRoaXMucXVldWUucHVzaChmdW4pO1xuICBpZiAodGhpcy5mYWlsZWQpIHtcbiAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcGFyc2VBZGFwdGVyKG5hbWUsIG9wdHMpIHtcbiAgdmFyIG1hdGNoID0gbmFtZS5tYXRjaCgvKFthLXotXSopOlxcL1xcLyguKikvKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgLy8gdGhlIGh0dHAgYWRhcHRlciBleHBlY3RzIHRoZSBmdWxseSBxdWFsaWZpZWQgbmFtZVxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiAvaHR0cHM/Ly50ZXN0KG1hdGNoWzFdKSA/IG1hdGNoWzFdICsgJzovLycgKyBtYXRjaFsyXSA6IG1hdGNoWzJdLFxuICAgICAgYWRhcHRlcjogbWF0Y2hbMV1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGFkYXB0ZXJzID0gUG91Y2hEQi5hZGFwdGVycztcbiAgdmFyIHByZWZlcnJlZEFkYXB0ZXJzID0gUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycztcbiAgdmFyIHByZWZpeCA9IFBvdWNoREIucHJlZml4O1xuICB2YXIgYWRhcHRlck5hbWUgPSBvcHRzLmFkYXB0ZXI7XG5cbiAgaWYgKCFhZGFwdGVyTmFtZSkgeyAvLyBhdXRvbWF0aWNhbGx5IGRldGVybWluZSBhZGFwdGVyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmZXJyZWRBZGFwdGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgYWRhcHRlck5hbWUgPSBwcmVmZXJyZWRBZGFwdGVyc1tpXTtcbiAgICAgIC8vIGNoZWNrIGZvciBicm93c2VycyB0aGF0IGhhdmUgYmVlbiB1cGdyYWRlZCBmcm9tIHdlYnNxbC1vbmx5IHRvIHdlYnNxbCtpZGJcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGFkYXB0ZXJOYW1lID09PSAnaWRiJyAmJiAnd2Vic3FsJyBpbiBhZGFwdGVycyAmJlxuICAgICAgICAgIGhhc0xvY2FsU3RvcmFnZSgpICYmIGxvY2FsU3RvcmFnZVsnX3BvdWNoX193ZWJzcWxkYl8nICsgcHJlZml4ICsgbmFtZV0pIHtcbiAgICAgICAgLy8gbG9nIGl0LCBiZWNhdXNlIHRoaXMgY2FuIGJlIGNvbmZ1c2luZyBkdXJpbmcgZGV2ZWxvcG1lbnRcbiAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ2xvZycsICdQb3VjaERCIGlzIGRvd25ncmFkaW5nIFwiJyArIG5hbWUgKyAnXCIgdG8gV2ViU1FMIHRvJyArXG4gICAgICAgICAgJyBhdm9pZCBkYXRhIGxvc3MsIGJlY2F1c2UgaXQgd2FzIGFscmVhZHkgb3BlbmVkIHdpdGggV2ViU1FMLicpO1xuICAgICAgICBjb250aW51ZTsgLy8ga2VlcCB1c2luZyB3ZWJzcWwgdG8gYXZvaWQgdXNlciBkYXRhIGxvc3NcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhZGFwdGVyID0gYWRhcHRlcnNbYWRhcHRlck5hbWVdO1xuXG4gIC8vIGlmIGFkYXB0ZXIgaXMgaW52YWxpZCwgdGhlbiBhbiBlcnJvciB3aWxsIGJlIHRocm93biBsYXRlclxuICB2YXIgdXNlUHJlZml4ID0gKGFkYXB0ZXIgJiYgJ3VzZV9wcmVmaXgnIGluIGFkYXB0ZXIpID9cbiAgICBhZGFwdGVyLnVzZV9wcmVmaXggOiB0cnVlO1xuXG4gIHJldHVybiB7XG4gICAgbmFtZTogdXNlUHJlZml4ID8gKHByZWZpeCArIG5hbWUpIDogbmFtZSxcbiAgICBhZGFwdGVyOiBhZGFwdGVyTmFtZVxuICB9O1xufVxuXG4vLyBPSywgc28gaGVyZSdzIHRoZSBkZWFsLiBDb25zaWRlciB0aGlzIGNvZGU6XG4vLyAgICAgdmFyIGRiMSA9IG5ldyBQb3VjaERCKCdmb28nKTtcbi8vICAgICB2YXIgZGIyID0gbmV3IFBvdWNoREIoJ2ZvbycpO1xuLy8gICAgIGRiMS5kZXN0cm95KCk7XG4vLyBeIHRoZXNlIHR3byBib3RoIG5lZWQgdG8gZW1pdCAnZGVzdHJveWVkJyBldmVudHMsXG4vLyBhcyB3ZWxsIGFzIHRoZSBQb3VjaERCIGNvbnN0cnVjdG9yIGl0c2VsZi5cbi8vIFNvIHdlIGhhdmUgb25lIGRiIG9iamVjdCAod2hpY2hldmVyIG9uZSBnb3QgZGVzdHJveSgpIGNhbGxlZCBvbiBpdClcbi8vIHJlc3BvbnNpYmxlIGZvciBlbWl0dGluZyB0aGUgaW5pdGlhbCBldmVudCwgd2hpY2ggdGhlbiBnZXRzIGVtaXR0ZWRcbi8vIGJ5IHRoZSBjb25zdHJ1Y3Rvciwgd2hpY2ggdGhlbiBicm9hZGNhc3RzIGl0IHRvIGFueSBvdGhlciBkYnNcbi8vIHRoYXQgbWF5IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGggdGhlIHNhbWUgbmFtZS5cbmZ1bmN0aW9uIHByZXBhcmVGb3JEZXN0cnVjdGlvbihzZWxmKSB7XG5cbiAgZnVuY3Rpb24gb25EZXN0cm95ZWQoZnJvbV9jb25zdHJ1Y3Rvcikge1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlZCcsIG9uQ2xvc2VkKTtcbiAgICBpZiAoIWZyb21fY29uc3RydWN0b3IpIHtcbiAgICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgnZGVzdHJveWVkJywgc2VsZi5uYW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNsb3NlZCgpIHtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3llZCk7XG4gICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCd1bnJlZicsIHNlbGYpO1xuICB9XG5cbiAgc2VsZi5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3llZCk7XG4gIHNlbGYub25jZSgnY2xvc2VkJywgb25DbG9zZWQpO1xuICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ3JlZicsIHNlbGYpO1xufVxuXG5pbmhlcml0cyhQb3VjaERCLCBBYnN0cmFjdFBvdWNoREIpO1xuZnVuY3Rpb24gUG91Y2hEQihuYW1lLCBvcHRzKSB7XG4gIC8vIEluIE5vZGUgb3VyIHRlc3Qgc3VpdGUgb25seSB0ZXN0cyB0aGlzIGZvciBQb3VjaEFsdCB1bmZvcnR1bmF0ZWx5XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG91Y2hEQikpIHtcbiAgICByZXR1cm4gbmV3IFBvdWNoREIobmFtZSwgb3B0cyk7XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmIChuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgIG9wdHMgPSBuYW1lO1xuICAgIG5hbWUgPSBvcHRzLm5hbWU7XG4gICAgZGVsZXRlIG9wdHMubmFtZTtcbiAgfVxuXG4gIGlmIChvcHRzLmRldGVybWluaXN0aWNfcmV2cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgb3B0cy5kZXRlcm1pbmlzdGljX3JldnMgPSB0cnVlO1xuICB9XG5cbiAgdGhpcy5fX29wdHMgPSBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgc2VsZi5hdXRvX2NvbXBhY3Rpb24gPSBvcHRzLmF1dG9fY29tcGFjdGlvbjtcbiAgc2VsZi5wcmVmaXggPSBQb3VjaERCLnByZWZpeDtcblxuICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nL2ludmFsaWQgREIgbmFtZScpO1xuICB9XG5cbiAgdmFyIHByZWZpeGVkTmFtZSA9IChvcHRzLnByZWZpeCB8fCAnJykgKyBuYW1lO1xuICB2YXIgYmFja2VuZCA9IHBhcnNlQWRhcHRlcihwcmVmaXhlZE5hbWUsIG9wdHMpO1xuXG4gIG9wdHMubmFtZSA9IGJhY2tlbmQubmFtZTtcbiAgb3B0cy5hZGFwdGVyID0gb3B0cy5hZGFwdGVyIHx8IGJhY2tlbmQuYWRhcHRlcjtcblxuICBzZWxmLm5hbWUgPSBuYW1lO1xuICBzZWxmLl9hZGFwdGVyID0gb3B0cy5hZGFwdGVyO1xuICBQb3VjaERCLmVtaXQoJ2RlYnVnJywgWydhZGFwdGVyJywgJ1BpY2tlZCBhZGFwdGVyOiAnLCBvcHRzLmFkYXB0ZXJdKTtcblxuICBpZiAoIVBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXSB8fFxuICAgICAgIVBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXS52YWxpZCgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFkYXB0ZXI6ICcgKyBvcHRzLmFkYXB0ZXIpO1xuICB9XG5cbiAgaWYgKG9wdHMudmlld19hZGFwdGVyKSB7XG4gICAgaWYgKCFQb3VjaERCLmFkYXB0ZXJzW29wdHMudmlld19hZGFwdGVyXSB8fFxuICAgICAgICAhUG91Y2hEQi5hZGFwdGVyc1tvcHRzLnZpZXdfYWRhcHRlcl0udmFsaWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFZpZXcgQWRhcHRlcjogJyArIG9wdHMudmlld19hZGFwdGVyKTtcbiAgICB9XG4gIH1cblxuICBBYnN0cmFjdFBvdWNoREIuY2FsbChzZWxmKTtcbiAgc2VsZi50YXNrcXVldWUgPSBuZXcgVGFza1F1ZXVlKCk7XG5cbiAgc2VsZi5hZGFwdGVyID0gb3B0cy5hZGFwdGVyO1xuXG4gIFBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXS5jYWxsKHNlbGYsIG9wdHMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gc2VsZi50YXNrcXVldWUuZmFpbChlcnIpO1xuICAgIH1cbiAgICBwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24oc2VsZik7XG5cbiAgICBzZWxmLmVtaXQoJ2NyZWF0ZWQnLCBzZWxmKTtcbiAgICBQb3VjaERCLmVtaXQoJ2NyZWF0ZWQnLCBzZWxmLm5hbWUpO1xuICAgIHNlbGYudGFza3F1ZXVlLnJlYWR5KHNlbGYpO1xuICB9KTtcblxufVxuXG4vLyBBYm9ydENvbnRyb2xsZXIgd2FzIGludHJvZHVjZWQgcXVpdGUgYSB3aGlsZSBhZnRlciBmZXRjaCBhbmRcbi8vIGlzbnQgcmVxdWlyZWQgZm9yIFBvdWNoREIgdG8gZnVuY3Rpb24gc28gcG9seWZpbGwgaWYgbmVlZGVkXG52YXIgYSA9ICh0eXBlb2YgQWJvcnRDb250cm9sbGVyICE9PSAndW5kZWZpbmVkJylcbiAgICA/IEFib3J0Q29udHJvbGxlclxuICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4ge2Fib3J0OiBmdW5jdGlvbiAoKSB7fX07IH07XG5cbnZhciBmJDEgPSBmZXRjaDtcbnZhciBoID0gSGVhZGVycztcblxuUG91Y2hEQi5hZGFwdGVycyA9IHt9O1xuUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycyA9IFtdO1xuXG5Qb3VjaERCLnByZWZpeCA9ICdfcG91Y2hfJztcblxudmFyIGV2ZW50RW1pdHRlciA9IG5ldyBFRSgpO1xuXG5mdW5jdGlvbiBzZXRVcEV2ZW50RW1pdHRlcihQb3VjaCkge1xuICBPYmplY3Qua2V5cyhFRS5wcm90b3R5cGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICh0eXBlb2YgRUUucHJvdG90eXBlW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIFBvdWNoW2tleV0gPSBldmVudEVtaXR0ZXJba2V5XS5iaW5kKGV2ZW50RW1pdHRlcik7XG4gICAgfVxuICB9KTtcblxuICAvLyB0aGVzZSBhcmUgY3JlYXRlZCBpbiBjb25zdHJ1Y3Rvci5qcywgYW5kIGFsbG93IHVzIHRvIG5vdGlmeSBlYWNoIERCIHdpdGhcbiAgLy8gdGhlIHNhbWUgbmFtZSB0aGF0IGl0IHdhcyBkZXN0cm95ZWQsIHZpYSB0aGUgY29uc3RydWN0b3Igb2JqZWN0XG4gIHZhciBkZXN0cnVjdExpc3RlbmVycyA9IFBvdWNoLl9kZXN0cnVjdGlvbkxpc3RlbmVycyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIFBvdWNoLm9uKCdyZWYnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yUmVmKGRiKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMoZGIubmFtZSkpIHtcbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLnNldChkYi5uYW1lLCBbXSk7XG4gICAgfVxuICAgIGRlc3RydWN0TGlzdGVuZXJzLmdldChkYi5uYW1lKS5wdXNoKGRiKTtcbiAgfSk7XG5cbiAgUG91Y2gub24oJ3VucmVmJywgZnVuY3Rpb24gb25Db25zdHJ1Y3RvclVucmVmKGRiKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMoZGIubmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRiTGlzdCA9IGRlc3RydWN0TGlzdGVuZXJzLmdldChkYi5uYW1lKTtcbiAgICB2YXIgcG9zID0gZGJMaXN0LmluZGV4T2YoZGIpO1xuICAgIGlmIChwb3MgPCAwKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkYkxpc3Quc3BsaWNlKHBvcywgMSk7XG4gICAgaWYgKGRiTGlzdC5sZW5ndGggPiAxKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuc2V0KGRiLm5hbWUsIGRiTGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLmRlbGV0ZShkYi5uYW1lKTtcbiAgICB9XG4gIH0pO1xuXG4gIFBvdWNoLm9uKCdkZXN0cm95ZWQnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yRGVzdHJveWVkKG5hbWUpIHtcbiAgICBpZiAoIWRlc3RydWN0TGlzdGVuZXJzLmhhcyhuYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGJMaXN0ID0gZGVzdHJ1Y3RMaXN0ZW5lcnMuZ2V0KG5hbWUpO1xuICAgIGRlc3RydWN0TGlzdGVuZXJzLmRlbGV0ZShuYW1lKTtcbiAgICBkYkxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZGIpIHtcbiAgICAgIGRiLmVtaXQoJ2Rlc3Ryb3llZCcsdHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5zZXRVcEV2ZW50RW1pdHRlcihQb3VjaERCKTtcblxuUG91Y2hEQi5hZGFwdGVyID0gZnVuY3Rpb24gKGlkLCBvYmosIGFkZFRvUHJlZmVycmVkQWRhcHRlcnMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKG9iai52YWxpZCgpKSB7XG4gICAgUG91Y2hEQi5hZGFwdGVyc1tpZF0gPSBvYmo7XG4gICAgaWYgKGFkZFRvUHJlZmVycmVkQWRhcHRlcnMpIHtcbiAgICAgIFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMucHVzaChpZCk7XG4gICAgfVxuICB9XG59O1xuXG5Qb3VjaERCLnBsdWdpbiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHsgLy8gZnVuY3Rpb24gc3R5bGUgZm9yIHBsdWdpbnNcbiAgICBvYmooUG91Y2hEQik7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGx1Z2luOiBnb3QgXCInICsgb2JqICsgJ1wiLCBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbicpO1xuICB9IGVsc2Uge1xuICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsgLy8gb2JqZWN0IHN0eWxlIGZvciBwbHVnaW5zXG4gICAgICBQb3VjaERCLnByb3RvdHlwZVtpZF0gPSBvYmpbaWRdO1xuICAgIH0pO1xuICB9XG4gIGlmICh0aGlzLl9fZGVmYXVsdHMpIHtcbiAgICBQb3VjaERCLl9fZGVmYXVsdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIHRoaXMuX19kZWZhdWx0cyk7XG4gIH1cbiAgcmV0dXJuIFBvdWNoREI7XG59O1xuXG5Qb3VjaERCLmRlZmF1bHRzID0gZnVuY3Rpb24gKGRlZmF1bHRPcHRzKSB7XG4gIGZ1bmN0aW9uIFBvdWNoQWx0KG5hbWUsIG9wdHMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG91Y2hBbHQpKSB7XG4gICAgICByZXR1cm4gbmV3IFBvdWNoQWx0KG5hbWUsIG9wdHMpO1xuICAgIH1cblxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gICAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBvcHRzID0gbmFtZTtcbiAgICAgIG5hbWUgPSBvcHRzLm5hbWU7XG4gICAgICBkZWxldGUgb3B0cy5uYW1lO1xuICAgIH1cblxuICAgIG9wdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIFBvdWNoQWx0Ll9fZGVmYXVsdHMsIG9wdHMpO1xuICAgIFBvdWNoREIuY2FsbCh0aGlzLCBuYW1lLCBvcHRzKTtcbiAgfVxuXG4gIGluaGVyaXRzKFBvdWNoQWx0LCBQb3VjaERCKTtcblxuICBQb3VjaEFsdC5wcmVmZXJyZWRBZGFwdGVycyA9IFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMuc2xpY2UoKTtcbiAgT2JqZWN0LmtleXMoUG91Y2hEQikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCEoa2V5IGluIFBvdWNoQWx0KSkge1xuICAgICAgUG91Y2hBbHRba2V5XSA9IFBvdWNoREJba2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIG1ha2UgZGVmYXVsdCBvcHRpb25zIHRyYW5zaXRpdmVcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvdWNoZGIvcG91Y2hkYi9pc3N1ZXMvNTkyMlxuICBQb3VjaEFsdC5fX2RlZmF1bHRzID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCB0aGlzLl9fZGVmYXVsdHMsIGRlZmF1bHRPcHRzKTtcblxuICByZXR1cm4gUG91Y2hBbHQ7XG59O1xuXG5Qb3VjaERCLmZldGNoID0gZnVuY3Rpb24gKHVybCwgb3B0cykge1xuICByZXR1cm4gZiQxKHVybCwgb3B0cyk7XG59O1xuXG4vLyBtYW5hZ2VkIGF1dG9tYXRpY2FsbHkgYnkgc2V0LXZlcnNpb24uanNcbnZhciB2ZXJzaW9uID0gXCI3LjMuMFwiO1xuXG4vLyB0aGlzIHdvdWxkIGp1c3QgYmUgXCJyZXR1cm4gZG9jW2ZpZWxkXVwiLCBidXQgZmllbGRzXG4vLyBjYW4gYmUgXCJkZWVwXCIgZHVlIHRvIGRvdCBub3RhdGlvblxuZnVuY3Rpb24gZ2V0RmllbGRGcm9tRG9jKGRvYywgcGFyc2VkRmllbGQpIHtcbiAgdmFyIHZhbHVlID0gZG9jO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGFyc2VkRmllbGQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcGFyc2VkRmllbGRbaV07XG4gICAgdmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmUkMShsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdCA8IHJpZ2h0ID8gLTEgOiBsZWZ0ID4gcmlnaHQgPyAxIDogMDtcbn1cblxuLy8gQ29udmVydHMgYSBzdHJpbmcgaW4gZG90IG5vdGF0aW9uIHRvIGFuIGFycmF5IG9mIGl0cyBjb21wb25lbnRzLCB3aXRoIGJhY2tzbGFzaCBlc2NhcGluZ1xuZnVuY3Rpb24gcGFyc2VGaWVsZChmaWVsZE5hbWUpIHtcbiAgLy8gZmllbGRzIG1heSBiZSBkZWVwIChlLmcuIFwiZm9vLmJhci5iYXpcIiksIHNvIHBhcnNlXG4gIHZhciBmaWVsZHMgPSBbXTtcbiAgdmFyIGN1cnJlbnQgPSAnJztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGZpZWxkTmFtZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBjaCA9IGZpZWxkTmFtZVtpXTtcbiAgICBpZiAoaSA+IDAgJiYgZmllbGROYW1lW2kgLSAxXSA9PT0gJ1xcXFwnICYmIChjaCA9PT0gJyQnIHx8IGNoID09PSAnLicpKSB7XG4gICAgICAvLyBlc2NhcGVkIGRlbGltaXRlclxuICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3Vic3RyaW5nKDAsIGN1cnJlbnQubGVuZ3RoIC0gMSkgKyBjaDtcbiAgICB9IGVsc2UgaWYgKGNoID09PSAnLicpIHtcbiAgICAgIC8vIFdoZW4gYC5gIGlzIG5vdCBlc2NhcGVkIChhYm92ZSksIGl0IGlzIGEgZmllbGQgZGVsaW1pdGVyXG4gICAgICBmaWVsZHMucHVzaChjdXJyZW50KTtcbiAgICAgIGN1cnJlbnQgPSAnJztcbiAgICB9IGVsc2UgeyAvLyBub3JtYWwgY2hhcmFjdGVyXG4gICAgICBjdXJyZW50ICs9IGNoO1xuICAgIH1cbiAgfVxuICBmaWVsZHMucHVzaChjdXJyZW50KTtcbiAgcmV0dXJuIGZpZWxkcztcbn1cblxudmFyIGNvbWJpbmF0aW9uRmllbGRzID0gWyckb3InLCAnJG5vcicsICckbm90J107XG5mdW5jdGlvbiBpc0NvbWJpbmF0aW9uYWxGaWVsZChmaWVsZCkge1xuICByZXR1cm4gY29tYmluYXRpb25GaWVsZHMuaW5kZXhPZihmaWVsZCkgPiAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0S2V5KG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKVswXTtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWUob2JqKSB7XG4gIHJldHVybiBvYmpbZ2V0S2V5KG9iaildO1xufVxuXG5cbi8vIGZsYXR0ZW4gYW4gYXJyYXkgb2Ygc2VsZWN0b3JzIGpvaW5lZCBieSBhbiAkYW5kIG9wZXJhdG9yXG5mdW5jdGlvbiBtZXJnZUFuZGVkU2VsZWN0b3JzKHNlbGVjdG9ycykge1xuXG4gIC8vIHNvcnQgdG8gZW5zdXJlIHRoYXQgZS5nLiBpZiB0aGUgdXNlciBzcGVjaWZpZWRcbiAgLy8gJGFuZDogW3skZ3Q6ICdhJ30sIHskZ3Q6ICdiJ31dLCB0aGVuIGl0J3MgY29sbGFwc2VkIGludG9cbiAgLy8ganVzdCB7JGd0OiAnYid9XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGZpcnN0ID0geyRvcjogdHJ1ZSwgJG5vcjogdHJ1ZX07XG5cbiAgc2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgT2JqZWN0LmtleXMoc2VsZWN0b3IpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgbWF0Y2hlciA9IHNlbGVjdG9yW2ZpZWxkXTtcbiAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgbWF0Y2hlciA9IHskZXE6IG1hdGNoZXJ9O1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpKSB7XG4gICAgICAgIC8vIG9yLCBub3JcbiAgICAgICAgaWYgKG1hdGNoZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIGlmIChmaXJzdFtmaWVsZF0pIHtcbiAgICAgICAgICAgIGZpcnN0W2ZpZWxkXSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzW2ZpZWxkXSA9IG1hdGNoZXI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICAgICAgICByZXNbZmllbGRdLmZvckVhY2goZnVuY3Rpb24gKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhtYXRjaGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgdmFyIG0gPSBtYXRjaGVyW2tleV07XG4gICAgICAgICAgICAgIHZhciBsb25nZXN0ID0gTWF0aC5tYXgoT2JqZWN0LmtleXMoZXhpc3RpbmcpLmxlbmd0aCwgT2JqZWN0LmtleXMobSkubGVuZ3RoKTtcbiAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW2V4aXN0aW5nLCBtXSk7XG4gICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhtZXJnZWQpLmxlbmd0aCA8PSBsb25nZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgaGF2ZSBhIHNpdHVhdGlvbiBsaWtlOiAoYSA6eyRlcSA6MX0gfHwgLi4uKSAmJiAoYSB7JGVxOiAyfSB8fCAuLi4pXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2luZyB3b3VsZCBwcm9kdWNlIGEgJGVxIDIgd2hlbiBhY3R1YWxseSB3ZSBzaG91bGRuJ3QgZXZlciBtYXRjaCBhZ2FpbnN0IHRoZXNlIG1lcmdlZCBjb25kaXRpb25zXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2VkIHNob3VsZCBhbHdheXMgY29udGFpbiBtb3JlIHZhbHVlcyB0byBiZSB2YWxpZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbnRyaWVzLnB1c2gobWVyZ2VkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc1tmaWVsZF0gPSBlbnRyaWVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG5vdFxuICAgICAgICAgIHJlc1tmaWVsZF0gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKFttYXRjaGVyXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBmaWVsZE1hdGNoZXJzID0gcmVzW2ZpZWxkXSA9IHJlc1tmaWVsZF0gfHwge307XG4gICAgICAgIE9iamVjdC5rZXlzKG1hdGNoZXIpLmZvckVhY2goZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gbWF0Y2hlcltvcGVyYXRvcl07XG5cbiAgICAgICAgICBpZiAob3BlcmF0b3IgPT09ICckZ3QnIHx8IG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZUd0R3RlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gJyRsdCcgfHwgb3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTHRMdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnJG5lJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTmUodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICckZXEnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VFcSh2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCIkcmVnZXhcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlUmVnZXgodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuXG5cbi8vIGNvbGxhcHNlIGxvZ2ljYWxseSBlcXVpdmFsZW50IGd0L2d0ZSB2YWx1ZXNcbmZ1bmN0aW9uIG1lcmdlR3RHdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZXEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gIH1cbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRndGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA+IGZpZWxkTWF0Y2hlcnMuJGd0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlID49IGZpZWxkTWF0Y2hlcnMuJGd0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndGU7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRndCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckZ3RlJykge1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3QpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3Q7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3QpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICB9XG59XG5cbi8vIGNvbGxhcHNlIGxvZ2ljYWxseSBlcXVpdmFsZW50IGx0L2x0ZSB2YWx1ZXNcbmZ1bmN0aW9uIG1lcmdlTHRMdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZXEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gIH1cbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRsdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGx0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA8IGZpZWxkTWF0Y2hlcnMuJGx0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlIDw9IGZpZWxkTWF0Y2hlcnMuJGx0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdGU7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHQpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHQ7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHQpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICB9XG59XG5cbi8vIGNvbWJpbmUgJG5lIHZhbHVlcyBpbnRvIG9uZSBhcnJheVxuZnVuY3Rpb24gbWVyZ2VOZSh2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAoJyRuZScgaW4gZmllbGRNYXRjaGVycykge1xuICAgIC8vIHRoZXJlIGFyZSBtYW55IHRoaW5ncyB0aGlzIGNvdWxkIFwibm90XCIgYmVcbiAgICBmaWVsZE1hdGNoZXJzLiRuZS5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIHsgLy8gZG9lc24ndCBleGlzdCB5ZXRcbiAgICBmaWVsZE1hdGNoZXJzLiRuZSA9IFt2YWx1ZV07XG4gIH1cbn1cblxuLy8gYWRkICRlcSBpbnRvIHRoZSBtaXhcbmZ1bmN0aW9uIG1lcmdlRXEodmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgLy8gdGhlc2UgYWxsIGhhdmUgbGVzcyBzcGVjaWZpY2l0eSB0aGFuIHRoZSAkZXFcbiAgLy8gVE9ETzogY2hlY2sgZm9yIHVzZXIgZXJyb3JzIGhlcmVcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0O1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3RlO1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHQ7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdGU7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRuZTtcbiAgZmllbGRNYXRjaGVycy4kZXEgPSB2YWx1ZTtcbn1cblxuLy8gY29tYmluZSAkcmVnZXggdmFsdWVzIGludG8gb25lIGFycmF5XG5mdW5jdGlvbiBtZXJnZVJlZ2V4KHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICgnJHJlZ2V4JyBpbiBmaWVsZE1hdGNoZXJzKSB7XG4gICAgLy8gYSB2YWx1ZSBjb3VsZCBtYXRjaCBtdWx0aXBsZSByZWdleGVzXG4gICAgZmllbGRNYXRjaGVycy4kcmVnZXgucHVzaCh2YWx1ZSk7XG4gIH0gZWxzZSB7IC8vIGRvZXNuJ3QgZXhpc3QgeWV0XG4gICAgZmllbGRNYXRjaGVycy4kcmVnZXggPSBbdmFsdWVdO1xuICB9XG59XG5cbi8vIzc0NTg6IGV4ZWN1dGUgZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9ycyBvbiBuZXN0ZWQgJGFuZFxuZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZChvYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmpbaV1bJyRhbmQnXSkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbaV0gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKG9ialtpXVsnJGFuZCddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZCh2YWx1ZSk7IC8vIDwtIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cblxuLy8jNzQ1ODogZGV0ZXJtaW5lIGlkICRhbmQgaXMgcHJlc2VudCBpbiBzZWxlY3RvciAoYXQgYW55IGxldmVsKVxuZnVuY3Rpb24gaXNBbmRJblNlbGVjdG9yKG9iaiwgaXNBbmQpIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAocHJvcCA9PT0gJyRhbmQnKSB7XG4gICAgICAgICAgICBpc0FuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaXNBbmQgPSBpc0FuZEluU2VsZWN0b3IodmFsdWUsIGlzQW5kKTsgLy8gPC0gcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNBbmQ7XG59XG5cbi8vXG4vLyBub3JtYWxpemUgdGhlIHNlbGVjdG9yXG4vL1xuZnVuY3Rpb24gbWFzc2FnZVNlbGVjdG9yKGlucHV0KSB7XG4gIHZhciByZXN1bHQgPSBjbG9uZShpbnB1dCk7XG4gIHZhciB3YXNBbmRlZCA9IGZhbHNlO1xuICAgIC8vIzc0NTg6IGlmICRhbmQgaXMgcHJlc2VudCBpbiBzZWxlY3RvciAoYXQgYW55IGxldmVsKSBtZXJnZSBuZXN0ZWQgJGFuZFxuICAgIGlmIChpc0FuZEluU2VsZWN0b3IocmVzdWx0LCBmYWxzZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZChyZXN1bHQpO1xuICAgICAgICBpZiAoJyRhbmQnIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhyZXN1bHRbJyRhbmQnXSk7XG4gICAgICAgIH1cbiAgICAgICAgd2FzQW5kZWQgPSB0cnVlO1xuICAgIH1cblxuICBbJyRvcicsICckbm9yJ10uZm9yRWFjaChmdW5jdGlvbiAob3JPck5vcikge1xuICAgIGlmIChvck9yTm9yIGluIHJlc3VsdCkge1xuICAgICAgLy8gbWVzc2FnZSBlYWNoIGluZGl2aWR1YWwgc2VsZWN0b3JcbiAgICAgIC8vIGUuZy4ge2ZvbzogJ2Jhcid9IGJlY29tZXMge2ZvbzogeyRlcTogJ2Jhcid9fVxuICAgICAgcmVzdWx0W29yT3JOb3JdLmZvckVhY2goZnVuY3Rpb24gKHN1YlNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBmaWVsZHMgPSBPYmplY3Qua2V5cyhzdWJTZWxlY3Rvcik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGZpZWxkID0gZmllbGRzW2ldO1xuICAgICAgICAgIHZhciBtYXRjaGVyID0gc3ViU2VsZWN0b3JbZmllbGRdO1xuICAgICAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcgfHwgbWF0Y2hlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3ViU2VsZWN0b3JbZmllbGRdID0geyRlcTogbWF0Y2hlcn07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICgnJG5vdCcgaW4gcmVzdWx0KSB7XG4gICAgLy9UaGlzIGZlZWxzIGEgbGl0dGxlIGxpa2UgZm9yY2luZywgYnV0IGl0IHdpbGwgd29yayBmb3Igbm93LFxuICAgIC8vSSB3b3VsZCBsaWtlIHRvIGNvbWUgYmFjayB0byB0aGlzIGFuZCBtYWtlIHRoZSBtZXJnaW5nIG9mIHNlbGVjdG9ycyBhIGxpdHRsZSBtb3JlIGdlbmVyaWNcbiAgICByZXN1bHRbJyRub3QnXSA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW3Jlc3VsdFsnJG5vdCddXSk7XG4gIH1cblxuICB2YXIgZmllbGRzID0gT2JqZWN0LmtleXMocmVzdWx0KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICB2YXIgbWF0Y2hlciA9IHJlc3VsdFtmaWVsZF07XG5cbiAgICBpZiAodHlwZW9mIG1hdGNoZXIgIT09ICdvYmplY3QnIHx8IG1hdGNoZXIgPT09IG51bGwpIHtcbiAgICAgIG1hdGNoZXIgPSB7JGVxOiBtYXRjaGVyfTtcbiAgICB9IGVsc2UgaWYgKCF3YXNBbmRlZCkge1xuICAgICAgLy8gVGhlc2UgdmFsdWVzIG11c3QgYmUgcGxhY2VkIGluIGFuIGFycmF5IGJlY2F1c2UgdGhlc2Ugb3BlcmF0b3JzIGNhbiBiZSB1c2VkIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIGZpZWxkXG4gICAgICAvLyB3aGVuICRhbmQgaXMgdXNlZCwgbWVyZ2VBbmRlZFNlbGVjdG9ycyB0YWtlcyBjYXJlIG9mIHB1dHRpbmcgdGhlbSBpbnRvIGFycmF5cywgb3RoZXJ3aXNlIGl0J3MgZG9uZSBoZXJlOlxuICAgICAgaWYgKCckbmUnIGluIG1hdGNoZXIpIHtcbiAgICAgICAgbWF0Y2hlci4kbmUgPSBbbWF0Y2hlci4kbmVdO1xuICAgICAgfVxuICAgICAgaWYgKCckcmVnZXgnIGluIG1hdGNoZXIpIHtcbiAgICAgICAgbWF0Y2hlci4kcmVnZXggPSBbbWF0Y2hlci4kcmVnZXhdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHRbZmllbGRdID0gbWF0Y2hlcjtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHBhZChzdHIsIHBhZFdpdGgsIHVwVG9MZW5ndGgpIHtcbiAgdmFyIHBhZGRpbmcgPSAnJztcbiAgdmFyIHRhcmdldExlbmd0aCA9IHVwVG9MZW5ndGggLSBzdHIubGVuZ3RoO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB3aGlsZSAocGFkZGluZy5sZW5ndGggPCB0YXJnZXRMZW5ndGgpIHtcbiAgICBwYWRkaW5nICs9IHBhZFdpdGg7XG4gIH1cbiAgcmV0dXJuIHBhZGRpbmc7XG59XG5cbmZ1bmN0aW9uIHBhZExlZnQoc3RyLCBwYWRXaXRoLCB1cFRvTGVuZ3RoKSB7XG4gIHZhciBwYWRkaW5nID0gcGFkKHN0ciwgcGFkV2l0aCwgdXBUb0xlbmd0aCk7XG4gIHJldHVybiBwYWRkaW5nICsgc3RyO1xufVxuXG52YXIgTUlOX01BR05JVFVERSA9IC0zMjQ7IC8vIHZlcmlmaWVkIGJ5IC1OdW1iZXIuTUlOX1ZBTFVFXG52YXIgTUFHTklUVURFX0RJR0lUUyA9IDM7IC8vIGRpdHRvXG52YXIgU0VQID0gJyc7IC8vIHNldCB0byAnXycgZm9yIGVhc2llciBkZWJ1Z2dpbmdcblxuZnVuY3Rpb24gY29sbGF0ZShhLCBiKSB7XG5cbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGEgPSBub3JtYWxpemVLZXkoYSk7XG4gIGIgPSBub3JtYWxpemVLZXkoYik7XG5cbiAgdmFyIGFpID0gY29sbGF0aW9uSW5kZXgoYSk7XG4gIHZhciBiaSA9IGNvbGxhdGlvbkluZGV4KGIpO1xuICBpZiAoKGFpIC0gYmkpICE9PSAwKSB7XG4gICAgcmV0dXJuIGFpIC0gYmk7XG4gIH1cbiAgc3dpdGNoICh0eXBlb2YgYSkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gYSAtIGI7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gYSA8IGIgPyAtMSA6IDE7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiBzdHJpbmdDb2xsYXRlKGEsIGIpO1xuICB9XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGEpID8gYXJyYXlDb2xsYXRlKGEsIGIpIDogb2JqZWN0Q29sbGF0ZShhLCBiKTtcbn1cblxuLy8gY291Y2ggY29uc2lkZXJzIG51bGwvTmFOL0luZmluaXR5Ly1JbmZpbml0eSA9PT0gdW5kZWZpbmVkLFxuLy8gZm9yIHRoZSBwdXJwb3NlcyBvZiBtYXByZWR1Y2UgaW5kZXhlcy4gYWxzbywgZGF0ZXMgZ2V0IHN0cmluZ2lmaWVkLlxuZnVuY3Rpb24gbm9ybWFsaXplS2V5KGtleSkge1xuICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGlmIChrZXkgPT09IEluZmluaXR5IHx8IGtleSA9PT0gLUluZmluaXR5IHx8IGlzTmFOKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5O1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB2YXIgb3JpZ0tleSA9IGtleTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgdmFyIGxlbiA9IGtleS5sZW5ndGg7XG4gICAgICAgIGtleSA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAga2V5W2ldID0gbm9ybWFsaXplS2V5KG9yaWdLZXlbaV0pO1xuICAgICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgfSBlbHNlIGlmIChrZXkgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBrZXkudG9KU09OKCk7XG4gICAgICB9IGVsc2UgaWYgKGtleSAhPT0gbnVsbCkgeyAvLyBnZW5lcmljIG9iamVjdFxuICAgICAgICBrZXkgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvcmlnS2V5KSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcmlnS2V5LCBrKSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IG9yaWdLZXlba107XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAga2V5W2tdID0gbm9ybWFsaXplS2V5KHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGtleTtcbn1cblxuZnVuY3Rpb24gaW5kZXhpZnkoa2V5KSB7XG4gIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4ga2V5ID8gMSA6IDA7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICByZXR1cm4gbnVtVG9JbmRleGFibGVTdHJpbmcoa2V5KTtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIC8vIFdlJ3ZlIHRvIGJlIHN1cmUgdGhhdCBrZXkgZG9lcyBub3QgY29udGFpbiBcXHUwMDAwXG4gICAgICAgIC8vIERvIG9yZGVyLXByZXNlcnZpbmcgcmVwbGFjZW1lbnRzOlxuICAgICAgICAvLyAwIC0+IDEsIDFcbiAgICAgICAgLy8gMSAtPiAxLCAyXG4gICAgICAgIC8vIDIgLT4gMiwgMlxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHJldHVybiBrZXlcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMi9nLCAnXFx1MDAwMlxcdTAwMDInKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAxL2csICdcXHUwMDAxXFx1MDAwMicpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDAvZywgJ1xcdTAwMDFcXHUwMDAxJyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGtleSk7XG4gICAgICAgIHZhciBhcnIgPSBpc0FycmF5ID8ga2V5IDogT2JqZWN0LmtleXMoa2V5KTtcbiAgICAgICAgdmFyIGkgPSAtMTtcbiAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9JbmRleGFibGVTdHJpbmcoYXJyW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICAgICAgdmFyIG9iaktleSA9IGFycltpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0luZGV4YWJsZVN0cmluZyhvYmpLZXkpICtcbiAgICAgICAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhrZXlbb2JqS2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLy8gY29udmVydCB0aGUgZ2l2ZW4ga2V5IHRvIGEgc3RyaW5nIHRoYXQgd291bGQgYmUgYXBwcm9wcmlhdGVcbi8vIGZvciBsZXhpY2FsIHNvcnRpbmcsIGUuZy4gd2l0aGluIGEgZGF0YWJhc2UsIHdoZXJlIHRoZVxuLy8gc29ydGluZyBpcyB0aGUgc2FtZSBnaXZlbiBieSB0aGUgY29sbGF0ZSgpIGZ1bmN0aW9uLlxuZnVuY3Rpb24gdG9JbmRleGFibGVTdHJpbmcoa2V5KSB7XG4gIHZhciB6ZXJvID0gJ1xcdTAwMDAnO1xuICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgcmV0dXJuIGNvbGxhdGlvbkluZGV4KGtleSkgKyBTRVAgKyBpbmRleGlmeShrZXkpICsgemVybztcbn1cblxuZnVuY3Rpb24gcGFyc2VOdW1iZXIoc3RyLCBpKSB7XG4gIHZhciBvcmlnaW5hbElkeCA9IGk7XG4gIHZhciBudW07XG4gIHZhciB6ZXJvID0gc3RyW2ldID09PSAnMSc7XG4gIGlmICh6ZXJvKSB7XG4gICAgbnVtID0gMDtcbiAgICBpKys7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG5lZyA9IHN0cltpXSA9PT0gJzAnO1xuICAgIGkrKztcbiAgICB2YXIgbnVtQXNTdHJpbmcgPSAnJztcbiAgICB2YXIgbWFnQXNTdHJpbmcgPSBzdHIuc3Vic3RyaW5nKGksIGkgKyBNQUdOSVRVREVfRElHSVRTKTtcbiAgICB2YXIgbWFnbml0dWRlID0gcGFyc2VJbnQobWFnQXNTdHJpbmcsIDEwKSArIE1JTl9NQUdOSVRVREU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobmVnKSB7XG4gICAgICBtYWduaXR1ZGUgPSAtbWFnbml0dWRlO1xuICAgIH1cbiAgICBpICs9IE1BR05JVFVERV9ESUdJVFM7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHZhciBjaCA9IHN0cltpXTtcbiAgICAgIGlmIChjaCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnVtQXNTdHJpbmcgKz0gY2g7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIG51bUFzU3RyaW5nID0gbnVtQXNTdHJpbmcuc3BsaXQoJy4nKTtcbiAgICBpZiAobnVtQXNTdHJpbmcubGVuZ3RoID09PSAxKSB7XG4gICAgICBudW0gPSBwYXJzZUludChudW1Bc1N0cmluZywgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgbnVtID0gcGFyc2VGbG9hdChudW1Bc1N0cmluZ1swXSArICcuJyArIG51bUFzU3RyaW5nWzFdKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobmVnKSB7XG4gICAgICBudW0gPSBudW0gLSAxMDtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobWFnbml0dWRlICE9PSAwKSB7XG4gICAgICAvLyBwYXJzZUZsb2F0IGlzIG1vcmUgcmVsaWFibGUgdGhhbiBwb3cgZHVlIHRvIHJvdW5kaW5nIGVycm9yc1xuICAgICAgLy8gZS5nLiBOdW1iZXIuTUFYX1ZBTFVFIHdvdWxkIHJldHVybiBJbmZpbml0eSBpZiB3ZSBkaWRcbiAgICAgIC8vIG51bSAqIE1hdGgucG93KDEwLCBtYWduaXR1ZGUpO1xuICAgICAgbnVtID0gcGFyc2VGbG9hdChudW0gKyAnZScgKyBtYWduaXR1ZGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge251bTogbnVtLCBsZW5ndGggOiBpIC0gb3JpZ2luYWxJZHh9O1xufVxuXG4vLyBtb3ZlIHVwIHRoZSBzdGFjayB3aGlsZSBwYXJzaW5nXG4vLyB0aGlzIGZ1bmN0aW9uIG1vdmVkIG91dHNpZGUgb2YgcGFyc2VJbmRleGFibGVTdHJpbmcgZm9yIHBlcmZvcm1hbmNlXG5mdW5jdGlvbiBwb3Aoc3RhY2ssIG1ldGFTdGFjaykge1xuICB2YXIgb2JqID0gc3RhY2sucG9wKCk7XG5cbiAgaWYgKG1ldGFTdGFjay5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgICBpZiAob2JqID09PSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudCkge1xuICAgICAgLy8gcG9wcGluZyBhIG1ldGEtZWxlbWVudCwgZS5nLiBhbiBvYmplY3Qgd2hvc2UgdmFsdWUgaXMgYW5vdGhlciBvYmplY3RcbiAgICAgIG1ldGFTdGFjay5wb3AoKTtcbiAgICAgIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIHZhciBlbGVtZW50ID0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQ7XG4gICAgdmFyIGxhc3RFbGVtZW50SW5kZXggPSBsYXN0TWV0YUVsZW1lbnQuaW5kZXg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgIGVsZW1lbnQucHVzaChvYmopO1xuICAgIH0gZWxzZSBpZiAobGFzdEVsZW1lbnRJbmRleCA9PT0gc3RhY2subGVuZ3RoIC0gMikgeyAvLyBvYmogd2l0aCBrZXkrdmFsdWVcbiAgICAgIHZhciBrZXkgPSBzdGFjay5wb3AoKTtcbiAgICAgIGVsZW1lbnRba2V5XSA9IG9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhY2sucHVzaChvYmopOyAvLyBvYmogd2l0aCBrZXkgb25seVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUluZGV4YWJsZVN0cmluZyhzdHIpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBtZXRhU3RhY2sgPSBbXTsgLy8gc3RhY2sgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICB2YXIgaSA9IDA7XG5cbiAgLyplc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiBbXCJlcnJvclwiLCB7IFwiY2hlY2tMb29wc1wiOiBmYWxzZSB9XSovXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIGNvbGxhdGlvbkluZGV4ID0gc3RyW2krK107XG4gICAgaWYgKGNvbGxhdGlvbkluZGV4ID09PSAnXFx1MDAwMCcpIHtcbiAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9wKHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChjb2xsYXRpb25JbmRleCkge1xuICAgICAgY2FzZSAnMSc6XG4gICAgICAgIHN0YWNrLnB1c2gobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMic6XG4gICAgICAgIHN0YWNrLnB1c2goc3RyW2ldID09PSAnMScpO1xuICAgICAgICBpKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMyc6XG4gICAgICAgIHZhciBwYXJzZWROdW0gPSBwYXJzZU51bWJlcihzdHIsIGkpO1xuICAgICAgICBzdGFjay5wdXNoKHBhcnNlZE51bS5udW0pO1xuICAgICAgICBpICs9IHBhcnNlZE51bS5sZW5ndGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNCc6XG4gICAgICAgIHZhciBwYXJzZWRTdHIgPSAnJztcbiAgICAgICAgLyplc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiBbXCJlcnJvclwiLCB7IFwiY2hlY2tMb29wc1wiOiBmYWxzZSB9XSovXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIGNoID0gc3RyW2ldO1xuICAgICAgICAgIGlmIChjaCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyc2VkU3RyICs9IGNoO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJmb3JtIHRoZSByZXZlcnNlIG9mIHRoZSBvcmRlci1wcmVzZXJ2aW5nIHJlcGxhY2VtZW50XG4gICAgICAgIC8vIGFsZ29yaXRobSAoc2VlIGFib3ZlKVxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHBhcnNlZFN0ciA9IHBhcnNlZFN0ci5yZXBsYWNlKC9cXHUwMDAxXFx1MDAwMS9nLCAnXFx1MDAwMCcpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDFcXHUwMDAyL2csICdcXHUwMDAxJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMlxcdTAwMDIvZywgJ1xcdTAwMDInKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHN0YWNrLnB1c2gocGFyc2VkU3RyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc1JzpcbiAgICAgICAgdmFyIGFycmF5RWxlbWVudCA9IHsgZWxlbWVudDogW10sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChhcnJheUVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKGFycmF5RWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNic6XG4gICAgICAgIHZhciBvYmpFbGVtZW50ID0geyBlbGVtZW50OiB7fSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKG9iakVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKG9iakVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ2JhZCBjb2xsYXRpb25JbmRleCBvciB1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6ICcgK1xuICAgICAgICAgICAgY29sbGF0aW9uSW5kZXgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJheUNvbGxhdGUoYSwgYikge1xuICB2YXIgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBzb3J0ID0gY29sbGF0ZShhW2ldLCBiW2ldKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiAoYS5sZW5ndGggPT09IGIubGVuZ3RoKSA/IDAgOlxuICAgIChhLmxlbmd0aCA+IGIubGVuZ3RoKSA/IDEgOiAtMTtcbn1cbmZ1bmN0aW9uIHN0cmluZ0NvbGxhdGUoYSwgYikge1xuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYWxlaGFydmV5L3BvdWNoZGIvaXNzdWVzLzQwXG4gIC8vIFRoaXMgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIENvdWNoREIgaW1wbGVtZW50YXRpb24sIGJ1dCBpdHMgdGhlXG4gIC8vIGJlc3Qgd2UgY2FuIGRvIGZvciBub3dcbiAgcmV0dXJuIChhID09PSBiKSA/IDAgOiAoKGEgPiBiKSA/IDEgOiAtMSk7XG59XG5mdW5jdGlvbiBvYmplY3RDb2xsYXRlKGEsIGIpIHtcbiAgdmFyIGFrID0gT2JqZWN0LmtleXMoYSksIGJrID0gT2JqZWN0LmtleXMoYik7XG4gIHZhciBsZW4gPSBNYXRoLm1pbihhay5sZW5ndGgsIGJrLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAvLyBGaXJzdCBzb3J0IHRoZSBrZXlzXG4gICAgdmFyIHNvcnQgPSBjb2xsYXRlKGFrW2ldLCBia1tpXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cbiAgICAvLyBpZiB0aGUga2V5cyBhcmUgZXF1YWwgc29ydCB0aGUgdmFsdWVzXG4gICAgc29ydCA9IGNvbGxhdGUoYVtha1tpXV0sIGJbYmtbaV1dKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuXG4gIH1cbiAgcmV0dXJuIChhay5sZW5ndGggPT09IGJrLmxlbmd0aCkgPyAwIDpcbiAgICAoYWsubGVuZ3RoID4gYmsubGVuZ3RoKSA/IDEgOiAtMTtcbn1cbi8vIFRoZSBjb2xsYXRpb24gaXMgZGVmaW5lZCBieSBlcmxhbmdzIG9yZGVyZWQgdGVybXNcbi8vIHRoZSBhdG9tcyBudWxsLCB0cnVlLCBmYWxzZSBjb21lIGZpcnN0LCB0aGVuIG51bWJlcnMsIHN0cmluZ3MsXG4vLyBhcnJheXMsIHRoZW4gb2JqZWN0c1xuLy8gbnVsbC91bmRlZmluZWQvTmFOL0luZmluaXR5Ly1JbmZpbml0eSBhcmUgYWxsIGNvbnNpZGVyZWQgbnVsbFxuZnVuY3Rpb24gY29sbGF0aW9uSW5kZXgoeCkge1xuICB2YXIgaWQgPSBbJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ3N0cmluZycsICdvYmplY3QnXTtcbiAgdmFyIGlkeCA9IGlkLmluZGV4T2YodHlwZW9mIHgpO1xuICAvL2ZhbHNlIGlmIC0xIG90aGVyd2lzZSB0cnVlLCBidXQgZmFzdCEhISExXG4gIGlmICh+aWR4KSB7XG4gICAgaWYgKHggPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgcmV0dXJuIDU7XG4gICAgfVxuICAgIHJldHVybiBpZHggPCAzID8gKGlkeCArIDIpIDogKGlkeCArIDMpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIDU7XG4gIH1cbn1cblxuLy8gY29udmVyc2lvbjpcbi8vIHggeXl5IHp6Li4uenpcbi8vIHggPSAwIGZvciBuZWdhdGl2ZSwgMSBmb3IgMCwgMiBmb3IgcG9zaXRpdmVcbi8vIHkgPSBleHBvbmVudCAoZm9yIG5lZ2F0aXZlIG51bWJlcnMgbmVnYXRlZCkgbW92ZWQgc28gdGhhdCBpdCdzID49IDBcbi8vIHogPSBtYW50aXNzZVxuZnVuY3Rpb24gbnVtVG9JbmRleGFibGVTdHJpbmcobnVtKSB7XG5cbiAgaWYgKG51bSA9PT0gMCkge1xuICAgIHJldHVybiAnMSc7XG4gIH1cblxuICAvLyBjb252ZXJ0IG51bWJlciB0byBleHBvbmVudGlhbCBmb3JtYXQgZm9yIGVhc2llciBhbmRcbiAgLy8gbW9yZSBzdWNjaW5jdCBzdHJpbmcgc29ydGluZ1xuICB2YXIgZXhwRm9ybWF0ID0gbnVtLnRvRXhwb25lbnRpYWwoKS5zcGxpdCgvZVxcKz8vKTtcbiAgdmFyIG1hZ25pdHVkZSA9IHBhcnNlSW50KGV4cEZvcm1hdFsxXSwgMTApO1xuXG4gIHZhciBuZWcgPSBudW0gPCAwO1xuXG4gIHZhciByZXN1bHQgPSBuZWcgPyAnMCcgOiAnMic7XG5cbiAgLy8gZmlyc3Qgc29ydCBieSBtYWduaXR1ZGVcbiAgLy8gaXQncyBlYXNpZXIgaWYgYWxsIG1hZ25pdHVkZXMgYXJlIHBvc2l0aXZlXG4gIHZhciBtYWdGb3JDb21wYXJpc29uID0gKChuZWcgPyAtbWFnbml0dWRlIDogbWFnbml0dWRlKSAtIE1JTl9NQUdOSVRVREUpO1xuICB2YXIgbWFnU3RyaW5nID0gcGFkTGVmdCgobWFnRm9yQ29tcGFyaXNvbikudG9TdHJpbmcoKSwgJzAnLCBNQUdOSVRVREVfRElHSVRTKTtcblxuICByZXN1bHQgKz0gU0VQICsgbWFnU3RyaW5nO1xuXG4gIC8vIHRoZW4gc29ydCBieSB0aGUgZmFjdG9yXG4gIHZhciBmYWN0b3IgPSBNYXRoLmFicyhwYXJzZUZsb2F0KGV4cEZvcm1hdFswXSkpOyAvLyBbMS4uMTApXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmIChuZWcpIHsgLy8gZm9yIG5lZ2F0aXZlIHJldmVyc2Ugb3JkZXJpbmdcbiAgICBmYWN0b3IgPSAxMCAtIGZhY3RvcjtcbiAgfVxuXG4gIHZhciBmYWN0b3JTdHIgPSBmYWN0b3IudG9GaXhlZCgyMCk7XG5cbiAgLy8gc3RyaXAgemVyb3MgZnJvbSB0aGUgZW5kXG4gIGZhY3RvclN0ciA9IGZhY3RvclN0ci5yZXBsYWNlKC9cXC4/MCskLywgJycpO1xuXG4gIHJlc3VsdCArPSBTRVAgKyBmYWN0b3JTdHI7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gY3JlYXRlIGEgY29tcGFyYXRvciBiYXNlZCBvbiB0aGUgc29ydCBvYmplY3RcbmZ1bmN0aW9uIGNyZWF0ZUZpZWxkU29ydGVyKHNvcnQpIHtcblxuICBmdW5jdGlvbiBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoZG9jKSB7XG4gICAgcmV0dXJuIHNvcnQubWFwKGZ1bmN0aW9uIChzb3J0aW5nKSB7XG4gICAgICB2YXIgZmllbGROYW1lID0gZ2V0S2V5KHNvcnRpbmcpO1xuICAgICAgdmFyIHBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChmaWVsZE5hbWUpO1xuICAgICAgdmFyIGRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jLCBwYXJzZWRGaWVsZCk7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYVJvdywgYlJvdykge1xuICAgIHZhciBhRmllbGRWYWx1ZXMgPSBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoYVJvdy5kb2MpO1xuICAgIHZhciBiRmllbGRWYWx1ZXMgPSBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoYlJvdy5kb2MpO1xuICAgIHZhciBjb2xsYXRpb24gPSBjb2xsYXRlKGFGaWVsZFZhbHVlcywgYkZpZWxkVmFsdWVzKTtcbiAgICBpZiAoY29sbGF0aW9uICE9PSAwKSB7XG4gICAgICByZXR1cm4gY29sbGF0aW9uO1xuICAgIH1cbiAgICAvLyB0aGlzIGlzIHdoYXQgbWFuZ28gc2VlbXMgdG8gZG9cbiAgICByZXR1cm4gY29tcGFyZSQxKGFSb3cuZG9jLl9pZCwgYlJvdy5kb2MuX2lkKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmlsdGVySW5NZW1vcnlGaWVsZHMocm93cywgcmVxdWVzdERlZiwgaW5NZW1vcnlGaWVsZHMpIHtcbiAgcm93cyA9IHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcbiAgICByZXR1cm4gcm93RmlsdGVyKHJvdy5kb2MsIHJlcXVlc3REZWYuc2VsZWN0b3IsIGluTWVtb3J5RmllbGRzKTtcbiAgfSk7XG5cbiAgaWYgKHJlcXVlc3REZWYuc29ydCkge1xuICAgIC8vIGluLW1lbW9yeSBzb3J0XG4gICAgdmFyIGZpZWxkU29ydGVyID0gY3JlYXRlRmllbGRTb3J0ZXIocmVxdWVzdERlZi5zb3J0KTtcbiAgICByb3dzID0gcm93cy5zb3J0KGZpZWxkU29ydGVyKTtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3REZWYuc29ydFswXSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgZ2V0VmFsdWUocmVxdWVzdERlZi5zb3J0WzBdKSA9PT0gJ2Rlc2MnKSB7XG4gICAgICByb3dzID0gcm93cy5yZXZlcnNlKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCdsaW1pdCcgaW4gcmVxdWVzdERlZiB8fCAnc2tpcCcgaW4gcmVxdWVzdERlZikge1xuICAgIC8vIGhhdmUgdG8gZG8gdGhlIGxpbWl0IGluLW1lbW9yeVxuICAgIHZhciBza2lwID0gcmVxdWVzdERlZi5za2lwIHx8IDA7XG4gICAgdmFyIGxpbWl0ID0gKCdsaW1pdCcgaW4gcmVxdWVzdERlZiA/IHJlcXVlc3REZWYubGltaXQgOiByb3dzLmxlbmd0aCkgKyBza2lwO1xuICAgIHJvd3MgPSByb3dzLnNsaWNlKHNraXAsIGxpbWl0KTtcbiAgfVxuICByZXR1cm4gcm93cztcbn1cblxuZnVuY3Rpb24gcm93RmlsdGVyKGRvYywgc2VsZWN0b3IsIGluTWVtb3J5RmllbGRzKSB7XG4gIHJldHVybiBpbk1lbW9yeUZpZWxkcy5ldmVyeShmdW5jdGlvbiAoZmllbGQpIHtcbiAgICB2YXIgbWF0Y2hlciA9IHNlbGVjdG9yW2ZpZWxkXTtcbiAgICB2YXIgcGFyc2VkRmllbGQgPSBwYXJzZUZpZWxkKGZpZWxkKTtcbiAgICB2YXIgZG9jRmllbGRWYWx1ZSA9IGdldEZpZWxkRnJvbURvYyhkb2MsIHBhcnNlZEZpZWxkKTtcbiAgICBpZiAoaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpKSB7XG4gICAgICByZXR1cm4gbWF0Y2hDb21pbmF0aW9uYWxTZWxlY3RvcihmaWVsZCwgbWF0Y2hlciwgZG9jKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hTZWxlY3RvcihtYXRjaGVyLCBkb2MsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoU2VsZWN0b3IobWF0Y2hlciwgZG9jLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICBpZiAoIW1hdGNoZXIpIHtcbiAgICAvLyBubyBmaWx0ZXJpbmcgbmVjZXNzYXJ5OyB0aGlzIGZpZWxkIGlzIGp1c3QgbmVlZGVkIGZvciBzb3J0aW5nXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBpcyBtYXRjaGVyIGFuIG9iamVjdCwgaWYgc28gY29udGludWUgcmVjdXJzaW9uXG4gIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobWF0Y2hlcikuZXZlcnkoZnVuY3Rpb24gKG1heWJlVXNlck9wZXJhdG9yKSB7XG4gICAgICB2YXIgdXNlclZhbHVlID0gbWF0Y2hlclsgbWF5YmVVc2VyT3BlcmF0b3IgXTtcbiAgICAgIC8vIGV4cGxpY2l0IG9wZXJhdG9yXG4gICAgICBpZiAobWF5YmVVc2VyT3BlcmF0b3IuaW5kZXhPZihcIiRcIikgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoKG1heWJlVXNlck9wZXJhdG9yLCBkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHN1YlBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChtYXliZVVzZXJPcGVyYXRvcik7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRvY0ZpZWxkVmFsdWUgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIHR5cGVvZiB1c2VyVmFsdWUgIT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICBzdWJQYXJzZWRGaWVsZC5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHRoZSBmaWVsZCBkb2VzIG5vdCBleGlzdCwgcmV0dXJuIG9yIGdldEZpZWxkRnJvbURvYyB3aWxsIHRocm93XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN1YkRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jRmllbGRWYWx1ZSwgc3ViUGFyc2VkRmllbGQpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdXNlclZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgLy8gZmllbGQgdmFsdWUgaXMgYW4gb2JqZWN0IHRoYXQgbWlnaHQgY29udGFpbiBtb3JlIG9wZXJhdG9yc1xuICAgICAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgc3ViRG9jRmllbGRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbXBsaWNpdCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gbWF0Y2goXCIkZXFcIiwgZG9jLCB1c2VyVmFsdWUsIHN1YlBhcnNlZEZpZWxkLCBzdWJEb2NGaWVsZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIG5vIG1vcmUgZGVwdGgsIE5vIG5lZWQgdG8gcmVjdXJzZSBmdXJ0aGVyXG4gIHJldHVybiBtYXRjaGVyID09PSBkb2NGaWVsZFZhbHVlO1xufVxuXG5mdW5jdGlvbiBtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yKGZpZWxkLCBtYXRjaGVyLCBkb2MpIHtcblxuICBpZiAoZmllbGQgPT09ICckb3InKSB7XG4gICAgcmV0dXJuIG1hdGNoZXIuc29tZShmdW5jdGlvbiAob3JNYXRjaGVycykge1xuICAgICAgcmV0dXJuIHJvd0ZpbHRlcihkb2MsIG9yTWF0Y2hlcnMsIE9iamVjdC5rZXlzKG9yTWF0Y2hlcnMpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmaWVsZCA9PT0gJyRub3QnKSB7XG4gICAgcmV0dXJuICFyb3dGaWx0ZXIoZG9jLCBtYXRjaGVyLCBPYmplY3Qua2V5cyhtYXRjaGVyKSk7XG4gIH1cblxuICAvL2Akbm9yYFxuICByZXR1cm4gIW1hdGNoZXIuZmluZChmdW5jdGlvbiAob3JNYXRjaGVycykge1xuICAgIHJldHVybiByb3dGaWx0ZXIoZG9jLCBvck1hdGNoZXJzLCBPYmplY3Qua2V5cyhvck1hdGNoZXJzKSk7XG4gIH0pO1xuXG59XG5cbmZ1bmN0aW9uIG1hdGNoKHVzZXJPcGVyYXRvciwgZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gIGlmICghbWF0Y2hlcnNbdXNlck9wZXJhdG9yXSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIG9wZXJhdG9yIFwiJyArIHVzZXJPcGVyYXRvciArXG4gICAgICAnXCIgLSBzaG91bGQgYmUgb25lIG9mICRlcSwgJGx0ZSwgJGx0LCAkZ3QsICRndGUsICRleGlzdHMsICRuZSwgJGluLCAnICtcbiAgICAgICckbmluLCAkc2l6ZSwgJG1vZCwgJHJlZ2V4LCAkZWxlbU1hdGNoLCAkdHlwZSwgJGFsbE1hdGNoIG9yICRhbGwnKTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcnNbdXNlck9wZXJhdG9yXShkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xufVxuXG5mdW5jdGlvbiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jRmllbGRWYWx1ZSAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIG1vZEZpZWxkKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWUgIT09IFwibnVtYmVyXCIgfHxcbiAgICBwYXJzZUludChkb2NGaWVsZFZhbHVlLCAxMCkgIT09IGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgZGl2aXNvciA9IHVzZXJWYWx1ZVswXTtcbiAgdmFyIG1vZCA9IHVzZXJWYWx1ZVsxXTtcblxuICByZXR1cm4gZG9jRmllbGRWYWx1ZSAlIGRpdmlzb3IgPT09IG1vZDtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWluc1ZhbHVlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICByZXR1cm4gdXNlclZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgIGlmIChkb2NGaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKGRvY0ZpZWxkVmFsdWVJdGVtKSB7XG4gICAgICAgIHJldHVybiBjb2xsYXRlKHZhbCwgZG9jRmllbGRWYWx1ZUl0ZW0pID09PSAwO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbGxhdGUodmFsLCBkb2NGaWVsZFZhbHVlKSA9PT0gMDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnNBbGxWYWx1ZXMoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHJldHVybiB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKGRvY0ZpZWxkVmFsdWVJdGVtKSB7XG4gICAgICByZXR1cm4gY29sbGF0ZSh2YWwsIGRvY0ZpZWxkVmFsdWVJdGVtKSA9PT0gMDtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFycmF5U2l6ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSB1c2VyVmFsdWU7XG59XG5cbmZ1bmN0aW9uIHJlZ2V4TWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAodXNlclZhbHVlKTtcblxuICByZXR1cm4gcmUudGVzdChkb2NGaWVsZFZhbHVlKTtcbn1cblxuZnVuY3Rpb24gdHlwZU1hdGNoKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuXG4gIHN3aXRjaCAodXNlclZhbHVlKSB7XG4gICAgY2FzZSAnbnVsbCc6XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZSA9PT0gbnVsbDtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnYm9vbGVhbic7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnbnVtYmVyJztcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoZG9jRmllbGRWYWx1ZSkgPT09ICdzdHJpbmcnO1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXk7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHJldHVybiAoe30pLnRvU3RyaW5nLmNhbGwoZG9jRmllbGRWYWx1ZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9XG59XG5cbnZhciBtYXRjaGVycyA9IHtcblxuICAnJGVsZW1NYXRjaCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZG9jRmllbGRWYWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWVbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHJvd0ZpbHRlcih2YWwsIHVzZXJWYWx1ZSwgT2JqZWN0LmtleXModXNlclZhbHVlKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgdmFsKTtcbiAgICB9KTtcbiAgfSxcblxuICAnJGFsbE1hdGNoJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkb2NGaWVsZFZhbHVlWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gcm93RmlsdGVyKHZhbCwgdXNlclZhbHVlLCBPYmplY3Qua2V5cyh1c2VyVmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgdmFsKTtcbiAgICB9KTtcbiAgfSxcblxuICAnJGVxJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA9PT0gMDtcbiAgfSxcblxuICAnJGd0ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPj0gMDtcbiAgfSxcblxuICAnJGd0JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA+IDA7XG4gIH0sXG5cbiAgJyRsdGUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIDw9IDA7XG4gIH0sXG5cbiAgJyRsdCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPCAwO1xuICB9LFxuXG4gICckZXhpc3RzJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIC8vYSBmaWVsZCB0aGF0IGlzIG51bGwgaXMgc3RpbGwgY29uc2lkZXJlZCB0byBleGlzdFxuICAgIGlmICh1c2VyVmFsdWUpIHtcbiAgICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiAhZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKTtcbiAgfSxcblxuICAnJG1vZCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgbW9kRmllbGQoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJG5lJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKG5lVmFsdWUpIHtcbiAgICAgIHJldHVybiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIG5lVmFsdWUpICE9PSAwO1xuICAgIH0pO1xuICB9LFxuICAnJGluJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJiBhcnJheUNvbnRhaW5zVmFsdWUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJG5pbic6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgIWFycmF5Q29udGFpbnNWYWx1ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckc2l6ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIEFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIGFycmF5U2l6ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckYWxsJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpICYmIGFycmF5Q29udGFpbnNBbGxWYWx1ZXMoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJHJlZ2V4JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJlxuICAgICAgdHlwZW9mIGRvY0ZpZWxkVmFsdWUgPT0gXCJzdHJpbmdcIiAmJlxuICAgICAgdXNlclZhbHVlLmV2ZXJ5KGZ1bmN0aW9uIChyZWdleFZhbHVlKSB7XG4gICAgICAgIHJldHVybiByZWdleE1hdGNoKGRvY0ZpZWxkVmFsdWUsIHJlZ2V4VmFsdWUpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgJyR0eXBlJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiB0eXBlTWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfVxufTtcblxuLy8gcmV0dXJuIHRydWUgaWYgdGhlIGdpdmVuIGRvYyBtYXRjaGVzIHRoZSBzdXBwbGllZCBzZWxlY3RvclxuZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yKGRvYywgc2VsZWN0b3IpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09ICdvYmplY3QnKSB7XG4gICAgLy8gbWF0Y2ggdGhlIENvdWNoREIgZXJyb3IgbWVzc2FnZVxuICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0b3IgZXJyb3I6IGV4cGVjdGVkIGEgSlNPTiBvYmplY3QnKTtcbiAgfVxuXG4gIHNlbGVjdG9yID0gbWFzc2FnZVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgdmFyIHJvdyA9IHtcbiAgICAnZG9jJzogZG9jXG4gIH07XG5cbiAgdmFyIHJvd3NNYXRjaGVkID0gZmlsdGVySW5NZW1vcnlGaWVsZHMoW3Jvd10sIHsgJ3NlbGVjdG9yJzogc2VsZWN0b3IgfSwgT2JqZWN0LmtleXMoc2VsZWN0b3IpKTtcbiAgcmV0dXJuIHJvd3NNYXRjaGVkICYmIHJvd3NNYXRjaGVkLmxlbmd0aCA9PT0gMTtcbn1cblxuZnVuY3Rpb24gZXZhbEZpbHRlcihpbnB1dCkge1xuICByZXR1cm4gc2NvcGVFdmFsKCdcInVzZSBzdHJpY3RcIjtcXG5yZXR1cm4gJyArIGlucHV0ICsgJzsnLCB7fSk7XG59XG5cbmZ1bmN0aW9uIGV2YWxWaWV3KGlucHV0KSB7XG4gIHZhciBjb2RlID0gW1xuICAgICdyZXR1cm4gZnVuY3Rpb24oZG9jKSB7JyxcbiAgICAnICBcInVzZSBzdHJpY3RcIjsnLFxuICAgICcgIHZhciBlbWl0dGVkID0gZmFsc2U7JyxcbiAgICAnICB2YXIgZW1pdCA9IGZ1bmN0aW9uIChhLCBiKSB7JyxcbiAgICAnICAgIGVtaXR0ZWQgPSB0cnVlOycsXG4gICAgJyAgfTsnLFxuICAgICcgIHZhciB2aWV3ID0gJyArIGlucHV0ICsgJzsnLFxuICAgICcgIHZpZXcoZG9jKTsnLFxuICAgICcgIGlmIChlbWl0dGVkKSB7JyxcbiAgICAnICAgIHJldHVybiB0cnVlOycsXG4gICAgJyAgfScsXG4gICAgJ307J1xuICBdLmpvaW4oJ1xcbicpO1xuXG4gIHJldHVybiBzY29wZUV2YWwoY29kZSwge30pO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZShvcHRzLCBjYWxsYmFjaykge1xuICBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLmZpbHRlciAhPT0gJ19zZWxlY3RvcicpIHtcbiAgICAgIHZhciBmaWx0ZXJOYW1lID0gdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJyA/XG4gICAgICAgIG9wdHMuZmlsdGVyIDogJ2Z1bmN0aW9uJztcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ3NlbGVjdG9yIGludmFsaWQgZm9yIGZpbHRlciBcIicgKyBmaWx0ZXJOYW1lICsgJ1wiJykpO1xuICAgIH1cbiAgfVxuICBjYWxsYmFjaygpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemUob3B0cykge1xuICBpZiAob3B0cy52aWV3ICYmICFvcHRzLmZpbHRlcikge1xuICAgIG9wdHMuZmlsdGVyID0gJ192aWV3JztcbiAgfVxuXG4gIGlmIChvcHRzLnNlbGVjdG9yICYmICFvcHRzLmZpbHRlcikge1xuICAgIG9wdHMuZmlsdGVyID0gJ19zZWxlY3Rvcic7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJykge1xuICAgIGlmIChvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgICAgb3B0cy52aWV3ID0gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMudmlldyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMuZmlsdGVyID0gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMuZmlsdGVyKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkRmlsdGVyKGNoYW5nZXNIYW5kbGVyLCBvcHRzKSB7XG4gIHJldHVybiBvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnICYmXG4gICAgIW9wdHMuZG9jX2lkcyAmJiAhaXNSZW1vdGUoY2hhbmdlc0hhbmRsZXIuZGIpO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXIoY2hhbmdlc0hhbmRsZXIsIG9wdHMpIHtcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcbiAgaWYgKG9wdHMuZmlsdGVyID09PSAnX3ZpZXcnKSB7XG4gICAgaWYgKCFvcHRzLnZpZXcgfHwgdHlwZW9mIG9wdHMudmlldyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihCQURfUkVRVUVTVCxcbiAgICAgICAgJ2B2aWV3YCBmaWx0ZXIgcGFyYW1ldGVyIG5vdCBmb3VuZCBvciBpbnZhbGlkLicpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIC8vIGZldGNoIGEgdmlldyBmcm9tIGEgZGVzaWduIGRvYywgbWFrZSBpdCBiZWhhdmUgbGlrZSBhIGZpbHRlclxuICAgIHZhciB2aWV3TmFtZSA9IHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMudmlldyk7XG4gICAgY2hhbmdlc0hhbmRsZXIuZGIuZ2V0KCdfZGVzaWduLycgKyB2aWV3TmFtZVswXSwgZnVuY3Rpb24gKGVyciwgZGRvYykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpKTtcbiAgICAgIH1cbiAgICAgIHZhciBtYXBGdW4gPSBkZG9jICYmIGRkb2Mudmlld3MgJiYgZGRvYy52aWV3c1t2aWV3TmFtZVsxXV0gJiZcbiAgICAgICAgZGRvYy52aWV3c1t2aWV3TmFtZVsxXV0ubWFwO1xuICAgICAgaWYgKCFtYXBGdW4pIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLFxuICAgICAgICAgIChkZG9jLnZpZXdzID8gJ21pc3NpbmcganNvbiBrZXk6ICcgKyB2aWV3TmFtZVsxXSA6XG4gICAgICAgICAgICAnbWlzc2luZyBqc29uIGtleTogdmlld3MnKSkpO1xuICAgICAgfVxuICAgICAgb3B0cy5maWx0ZXIgPSBldmFsVmlldyhtYXBGdW4pO1xuICAgICAgY2hhbmdlc0hhbmRsZXIuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICBvcHRzLmZpbHRlciA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzU2VsZWN0b3IoZG9jLCBvcHRzLnNlbGVjdG9yKTtcbiAgICB9O1xuICAgIGNoYW5nZXNIYW5kbGVyLmRvQ2hhbmdlcyhvcHRzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBmZXRjaCBhIGZpbHRlciBmcm9tIGEgZGVzaWduIGRvY1xuICAgIHZhciBmaWx0ZXJOYW1lID0gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy5maWx0ZXIpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmRiLmdldCgnX2Rlc2lnbi8nICsgZmlsdGVyTmFtZVswXSwgZnVuY3Rpb24gKGVyciwgZGRvYykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpKTtcbiAgICAgIH1cbiAgICAgIHZhciBmaWx0ZXJGdW4gPSBkZG9jICYmIGRkb2MuZmlsdGVycyAmJiBkZG9jLmZpbHRlcnNbZmlsdGVyTmFtZVsxXV07XG4gICAgICBpZiAoIWZpbHRlckZ1bikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsXG4gICAgICAgICAgKChkZG9jICYmIGRkb2MuZmlsdGVycykgPyAnbWlzc2luZyBqc29uIGtleTogJyArIGZpbHRlck5hbWVbMV1cbiAgICAgICAgICAgIDogJ21pc3NpbmcganNvbiBrZXk6IGZpbHRlcnMnKSkpO1xuICAgICAgfVxuICAgICAgb3B0cy5maWx0ZXIgPSBldmFsRmlsdGVyKGZpbHRlckZ1bik7XG4gICAgICBjaGFuZ2VzSGFuZGxlci5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlDaGFuZ2VzRmlsdGVyUGx1Z2luKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbiA9IHtcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGUsXG4gICAgbm9ybWFsaXplOiBub3JtYWxpemUsXG4gICAgc2hvdWxkRmlsdGVyOiBzaG91bGRGaWx0ZXIsXG4gICAgZmlsdGVyOiBmaWx0ZXJcbiAgfTtcbn1cblxuLy8gVE9ETzogcmVtb3ZlIGZyb20gcG91Y2hkYi1jb3JlIChicmVha2luZylcblBvdWNoREIucGx1Z2luKGFwcGx5Q2hhbmdlc0ZpbHRlclBsdWdpbik7XG5cblBvdWNoREIudmVyc2lvbiA9IHZlcnNpb247XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgaXRlbSkge1xuICAgIG9ialtpdGVtXSA9IHRydWU7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufVxuLy8gTGlzdCBvZiB0b3AgbGV2ZWwgcmVzZXJ2ZWQgd29yZHMgZm9yIGRvY1xudmFyIHJlc2VydmVkV29yZHMgPSB0b09iamVjdChbXG4gICdfaWQnLFxuICAnX3JldicsXG4gICdfYWNjZXNzJyxcbiAgJ19hdHRhY2htZW50cycsXG4gICdfZGVsZXRlZCcsXG4gICdfcmV2aXNpb25zJyxcbiAgJ19yZXZzX2luZm8nLFxuICAnX2NvbmZsaWN0cycsXG4gICdfZGVsZXRlZF9jb25mbGljdHMnLFxuICAnX2xvY2FsX3NlcScsXG4gICdfcmV2X3RyZWUnLFxuICAvLyByZXBsaWNhdGlvbiBkb2N1bWVudHNcbiAgJ19yZXBsaWNhdGlvbl9pZCcsXG4gICdfcmVwbGljYXRpb25fc3RhdGUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3RpbWUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3JlYXNvbicsXG4gICdfcmVwbGljYXRpb25fc3RhdHMnLFxuICAvLyBTcGVjaWZpYyB0byBDb3VjaGJhc2UgU3luYyBHYXRld2F5XG4gICdfcmVtb3ZlZCdcbl0pO1xuXG4vLyBMaXN0IG9mIHJlc2VydmVkIHdvcmRzIHRoYXQgc2hvdWxkIGVuZCB1cCBpbiB0aGUgZG9jdW1lbnRcbnZhciBkYXRhV29yZHMgPSB0b09iamVjdChbXG4gICdfYWNjZXNzJyxcbiAgJ19hdHRhY2htZW50cycsXG4gIC8vIHJlcGxpY2F0aW9uIGRvY3VtZW50c1xuICAnX3JlcGxpY2F0aW9uX2lkJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfdGltZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfcmVhc29uJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0cydcbl0pO1xuXG5mdW5jdGlvbiBwYXJzZVJldmlzaW9uSW5mbyhyZXYpIHtcbiAgaWYgKCEvXlxcZCstLy50ZXN0KHJldikpIHtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3IoSU5WQUxJRF9SRVYpO1xuICB9XG4gIHZhciBpZHggPSByZXYuaW5kZXhPZignLScpO1xuICB2YXIgbGVmdCA9IHJldi5zdWJzdHJpbmcoMCwgaWR4KTtcbiAgdmFyIHJpZ2h0ID0gcmV2LnN1YnN0cmluZyhpZHggKyAxKTtcbiAgcmV0dXJuIHtcbiAgICBwcmVmaXg6IHBhcnNlSW50KGxlZnQsIDEwKSxcbiAgICBpZDogcmlnaHRcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZVJldlRyZWVGcm9tUmV2aXNpb25zKHJldmlzaW9ucywgb3B0cykge1xuICB2YXIgcG9zID0gcmV2aXNpb25zLnN0YXJ0IC0gcmV2aXNpb25zLmlkcy5sZW5ndGggKyAxO1xuXG4gIHZhciByZXZpc2lvbklkcyA9IHJldmlzaW9ucy5pZHM7XG4gIHZhciBpZHMgPSBbcmV2aXNpb25JZHNbMF0sIG9wdHMsIFtdXTtcblxuICBmb3IgKHZhciBpID0gMSwgbGVuID0gcmV2aXNpb25JZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZHMgPSBbcmV2aXNpb25JZHNbaV0sIHtzdGF0dXM6ICdtaXNzaW5nJ30sIFtpZHNdXTtcbiAgfVxuXG4gIHJldHVybiBbe1xuICAgIHBvczogcG9zLFxuICAgIGlkczogaWRzXG4gIH1dO1xufVxuXG4vLyBQcmVwcm9jZXNzIGRvY3VtZW50cywgcGFyc2UgdGhlaXIgcmV2aXNpb25zLCBhc3NpZ24gYW4gaWQgYW5kIGFcbi8vIHJldmlzaW9uIGZvciBuZXcgd3JpdGVzIHRoYXQgYXJlIG1pc3NpbmcgdGhlbSwgZXRjXG5mdW5jdGlvbiBwYXJzZURvYyhkb2MsIG5ld0VkaXRzLCBkYk9wdHMpIHtcbiAgaWYgKCFkYk9wdHMpIHtcbiAgICBkYk9wdHMgPSB7XG4gICAgICBkZXRlcm1pbmlzdGljX3JldnM6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgdmFyIG5SZXZOdW07XG4gIHZhciBuZXdSZXZJZDtcbiAgdmFyIHJldkluZm87XG4gIHZhciBvcHRzID0ge3N0YXR1czogJ2F2YWlsYWJsZSd9O1xuICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgb3B0cy5kZWxldGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChuZXdFZGl0cykge1xuICAgIGlmICghZG9jLl9pZCkge1xuICAgICAgZG9jLl9pZCA9IHV1aWQoKTtcbiAgICB9XG4gICAgbmV3UmV2SWQgPSByZXYkJDEoZG9jLCBkYk9wdHMuZGV0ZXJtaW5pc3RpY19yZXZzKTtcbiAgICBpZiAoZG9jLl9yZXYpIHtcbiAgICAgIHJldkluZm8gPSBwYXJzZVJldmlzaW9uSW5mbyhkb2MuX3Jldik7XG4gICAgICBpZiAocmV2SW5mby5lcnJvcikge1xuICAgICAgICByZXR1cm4gcmV2SW5mbztcbiAgICAgIH1cbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IHJldkluZm8ucHJlZml4LFxuICAgICAgICBpZHM6IFtyZXZJbmZvLmlkLCB7c3RhdHVzOiAnbWlzc2luZyd9LCBbW25ld1JldklkLCBvcHRzLCBbXV1dXVxuICAgICAgfV07XG4gICAgICBuUmV2TnVtID0gcmV2SW5mby5wcmVmaXggKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX3Jldl90cmVlID0gW3tcbiAgICAgICAgcG9zOiAxLFxuICAgICAgICBpZHMgOiBbbmV3UmV2SWQsIG9wdHMsIFtdXVxuICAgICAgfV07XG4gICAgICBuUmV2TnVtID0gMTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRvYy5fcmV2aXNpb25zKSB7XG4gICAgICBkb2MuX3Jldl90cmVlID0gbWFrZVJldlRyZWVGcm9tUmV2aXNpb25zKGRvYy5fcmV2aXNpb25zLCBvcHRzKTtcbiAgICAgIG5SZXZOdW0gPSBkb2MuX3JldmlzaW9ucy5zdGFydDtcbiAgICAgIG5ld1JldklkID0gZG9jLl9yZXZpc2lvbnMuaWRzWzBdO1xuICAgIH1cbiAgICBpZiAoIWRvYy5fcmV2X3RyZWUpIHtcbiAgICAgIHJldkluZm8gPSBwYXJzZVJldmlzaW9uSW5mbyhkb2MuX3Jldik7XG4gICAgICBpZiAocmV2SW5mby5lcnJvcikge1xuICAgICAgICByZXR1cm4gcmV2SW5mbztcbiAgICAgIH1cbiAgICAgIG5SZXZOdW0gPSByZXZJbmZvLnByZWZpeDtcbiAgICAgIG5ld1JldklkID0gcmV2SW5mby5pZDtcbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IG5SZXZOdW0sXG4gICAgICAgIGlkczogW25ld1JldklkLCBvcHRzLCBbXV1cbiAgICAgIH1dO1xuICAgIH1cbiAgfVxuXG4gIGludmFsaWRJZEVycm9yKGRvYy5faWQpO1xuXG4gIGRvYy5fcmV2ID0gblJldk51bSArICctJyArIG5ld1JldklkO1xuXG4gIHZhciByZXN1bHQgPSB7bWV0YWRhdGEgOiB7fSwgZGF0YSA6IHt9fTtcbiAgZm9yICh2YXIga2V5IGluIGRvYykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2MsIGtleSkpIHtcbiAgICAgIHZhciBzcGVjaWFsS2V5ID0ga2V5WzBdID09PSAnXyc7XG4gICAgICBpZiAoc3BlY2lhbEtleSAmJiAhcmVzZXJ2ZWRXb3Jkc1trZXldKSB7XG4gICAgICAgIHZhciBlcnJvciA9IGNyZWF0ZUVycm9yKERPQ19WQUxJREFUSU9OLCBrZXkpO1xuICAgICAgICBlcnJvci5tZXNzYWdlID0gRE9DX1ZBTElEQVRJT04ubWVzc2FnZSArICc6ICcgKyBrZXk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSBlbHNlIGlmIChzcGVjaWFsS2V5ICYmICFkYXRhV29yZHNba2V5XSkge1xuICAgICAgICByZXN1bHQubWV0YWRhdGFba2V5LnNsaWNlKDEpXSA9IGRvY1trZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmRhdGFba2V5XSA9IGRvY1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwYXJzZUJhc2U2NChkYXRhKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHRoaXNBdG9iKGRhdGEpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKEJBRF9BUkcsXG4gICAgICAnQXR0YWNobWVudCBpcyBub3QgYSB2YWxpZCBiYXNlNjQgc3RyaW5nJyk7XG4gICAgcmV0dXJuIHtlcnJvcjogZXJyfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzU3RyaW5nKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIHZhciBhc0JpbmFyeSA9IHBhcnNlQmFzZTY0KGF0dC5kYXRhKTtcbiAgaWYgKGFzQmluYXJ5LmVycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGFzQmluYXJ5LmVycm9yKTtcbiAgfVxuXG4gIGF0dC5sZW5ndGggPSBhc0JpbmFyeS5sZW5ndGg7XG4gIGlmIChibG9iVHlwZSA9PT0gJ2Jsb2InKSB7XG4gICAgYXR0LmRhdGEgPSBiaW5TdHJpbmdUb0JsdWZmZXIoYXNCaW5hcnksIGF0dC5jb250ZW50X3R5cGUpO1xuICB9IGVsc2UgaWYgKGJsb2JUeXBlID09PSAnYmFzZTY0Jykge1xuICAgIGF0dC5kYXRhID0gdGhpc0J0b2EoYXNCaW5hcnkpO1xuICB9IGVsc2UgeyAvLyBiaW5hcnlcbiAgICBhdHQuZGF0YSA9IGFzQmluYXJ5O1xuICB9XG4gIGJpbmFyeU1kNShhc0JpbmFyeSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGF0dC5kaWdlc3QgPSAnbWQ1LScgKyByZXN1bHQ7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NCbG9iKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIGJpbmFyeU1kNShhdHQuZGF0YSwgZnVuY3Rpb24gKG1kNSkge1xuICAgIGF0dC5kaWdlc3QgPSAnbWQ1LScgKyBtZDU7XG4gICAgLy8gc2l6ZSBpcyBmb3IgYmxvYnMgKGJyb3dzZXIpLCBsZW5ndGggaXMgZm9yIGJ1ZmZlcnMgKG5vZGUpXG4gICAgYXR0Lmxlbmd0aCA9IGF0dC5kYXRhLnNpemUgfHwgYXR0LmRhdGEubGVuZ3RoIHx8IDA7XG4gICAgaWYgKGJsb2JUeXBlID09PSAnYmluYXJ5Jykge1xuICAgICAgYmxvYlRvQmluYXJ5U3RyaW5nKGF0dC5kYXRhLCBmdW5jdGlvbiAoYmluU3RyaW5nKSB7XG4gICAgICAgIGF0dC5kYXRhID0gYmluU3RyaW5nO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChibG9iVHlwZSA9PT0gJ2Jhc2U2NCcpIHtcbiAgICAgIGJsb2JUb0Jhc2U2NChhdHQuZGF0YSwgZnVuY3Rpb24gKGI2NCkge1xuICAgICAgICBhdHQuZGF0YSA9IGI2NDtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NBdHRhY2htZW50KGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIGlmIChhdHQuc3R1Yikge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG4gIGlmICh0eXBlb2YgYXR0LmRhdGEgPT09ICdzdHJpbmcnKSB7IC8vIGlucHV0IGlzIGEgYmFzZTY0IHN0cmluZ1xuICAgIHByZXByb2Nlc3NTdHJpbmcoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spO1xuICB9IGVsc2UgeyAvLyBpbnB1dCBpcyBhIGJsb2JcbiAgICBwcmVwcm9jZXNzQmxvYihhdHQsIGJsb2JUeXBlLCBjYWxsYmFjayk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzKGRvY0luZm9zLCBibG9iVHlwZSwgY2FsbGJhY2spIHtcblxuICBpZiAoIWRvY0luZm9zLmxlbmd0aCkge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG5cbiAgdmFyIGRvY3YgPSAwO1xuICB2YXIgb3ZlcmFsbEVycjtcblxuICBkb2NJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJbmZvKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzID0gZG9jSW5mby5kYXRhICYmIGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMgP1xuICAgICAgT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykgOiBbXTtcbiAgICB2YXIgcmVjdiA9IDA7XG5cbiAgICBpZiAoIWF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzZWRBdHRhY2htZW50KGVycikge1xuICAgICAgb3ZlcmFsbEVyciA9IGVycjtcbiAgICAgIHJlY3YrKztcbiAgICAgIGlmIChyZWN2ID09PSBhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGtleSBpbiBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMsIGtleSkpIHtcbiAgICAgICAgcHJlcHJvY2Vzc0F0dGFjaG1lbnQoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1trZXldLFxuICAgICAgICAgIGJsb2JUeXBlLCBwcm9jZXNzZWRBdHRhY2htZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgZG9jdisrO1xuICAgIGlmIChkb2NJbmZvcy5sZW5ndGggPT09IGRvY3YpIHtcbiAgICAgIGlmIChvdmVyYWxsRXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKG92ZXJhbGxFcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRG9jKHJldkxpbWl0LCBwcmV2LCBkb2NJbmZvLCByZXN1bHRzLFxuICAgICAgICAgICAgICAgICAgIGksIGNiLCB3cml0ZURvYywgbmV3RWRpdHMpIHtcblxuICBpZiAocmV2RXhpc3RzKHByZXYucmV2X3RyZWUsIGRvY0luZm8ubWV0YWRhdGEucmV2KSAmJiAhbmV3RWRpdHMpIHtcbiAgICByZXN1bHRzW2ldID0gZG9jSW5mbztcbiAgICByZXR1cm4gY2IoKTtcbiAgfVxuXG4gIC8vIHNvbWV0aW1lcyB0aGlzIGlzIHByZS1jYWxjdWxhdGVkLiBoaXN0b3JpY2FsbHkgbm90IGFsd2F5c1xuICB2YXIgcHJldmlvdXNXaW5uaW5nUmV2ID0gcHJldi53aW5uaW5nUmV2IHx8IHdpbm5pbmdSZXYocHJldik7XG4gIHZhciBwcmV2aW91c2x5RGVsZXRlZCA9ICdkZWxldGVkJyBpbiBwcmV2ID8gcHJldi5kZWxldGVkIDpcbiAgICBpc0RlbGV0ZWQocHJldiwgcHJldmlvdXNXaW5uaW5nUmV2KTtcbiAgdmFyIGRlbGV0ZWQgPSAnZGVsZXRlZCcgaW4gZG9jSW5mby5tZXRhZGF0YSA/IGRvY0luZm8ubWV0YWRhdGEuZGVsZXRlZCA6XG4gICAgaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEpO1xuICB2YXIgaXNSb290ID0gL14xLS8udGVzdChkb2NJbmZvLm1ldGFkYXRhLnJldik7XG5cbiAgaWYgKHByZXZpb3VzbHlEZWxldGVkICYmICFkZWxldGVkICYmIG5ld0VkaXRzICYmIGlzUm9vdCkge1xuICAgIHZhciBuZXdEb2MgPSBkb2NJbmZvLmRhdGE7XG4gICAgbmV3RG9jLl9yZXYgPSBwcmV2aW91c1dpbm5pbmdSZXY7XG4gICAgbmV3RG9jLl9pZCA9IGRvY0luZm8ubWV0YWRhdGEuaWQ7XG4gICAgZG9jSW5mbyA9IHBhcnNlRG9jKG5ld0RvYywgbmV3RWRpdHMpO1xuICB9XG5cbiAgdmFyIG1lcmdlZCA9IG1lcmdlKHByZXYucmV2X3RyZWUsIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWVbMF0sIHJldkxpbWl0KTtcblxuICB2YXIgaW5Db25mbGljdCA9IG5ld0VkaXRzICYmICgoXG4gICAgKHByZXZpb3VzbHlEZWxldGVkICYmIGRlbGV0ZWQgJiYgbWVyZ2VkLmNvbmZsaWN0cyAhPT0gJ25ld19sZWFmJykgfHxcbiAgICAoIXByZXZpb3VzbHlEZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgIT09ICduZXdfbGVhZicpIHx8XG4gICAgKHByZXZpb3VzbHlEZWxldGVkICYmICFkZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgPT09ICduZXdfYnJhbmNoJykpKTtcblxuICBpZiAoaW5Db25mbGljdCkge1xuICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgIHJlc3VsdHNbaV0gPSBlcnI7XG4gICAgcmV0dXJuIGNiKCk7XG4gIH1cblxuICB2YXIgbmV3UmV2ID0gZG9jSW5mby5tZXRhZGF0YS5yZXY7XG4gIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWUgPSBtZXJnZWQudHJlZTtcbiAgZG9jSW5mby5zdGVtbWVkUmV2cyA9IG1lcmdlZC5zdGVtbWVkUmV2cyB8fCBbXTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHByZXYucmV2X21hcCkge1xuICAgIGRvY0luZm8ubWV0YWRhdGEucmV2X21hcCA9IHByZXYucmV2X21hcDsgLy8gdXNlZCBvbmx5IGJ5IGxldmVsZGJcbiAgfVxuXG4gIC8vIHJlY2FsY3VsYXRlXG4gIHZhciB3aW5uaW5nUmV2JCQxID0gd2lubmluZ1Jldihkb2NJbmZvLm1ldGFkYXRhKTtcbiAgdmFyIHdpbm5pbmdSZXZJc0RlbGV0ZWQgPSBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSwgd2lubmluZ1JldiQkMSk7XG5cbiAgLy8gY2FsY3VsYXRlIHRoZSB0b3RhbCBudW1iZXIgb2YgZG9jdW1lbnRzIHRoYXQgd2VyZSBhZGRlZC9yZW1vdmVkLFxuICAvLyBmcm9tIHRoZSBwZXJzcGVjdGl2ZSBvZiB0b3RhbF9yb3dzL2RvY19jb3VudFxuICB2YXIgZGVsdGEgPSAocHJldmlvdXNseURlbGV0ZWQgPT09IHdpbm5pbmdSZXZJc0RlbGV0ZWQpID8gMCA6XG4gICAgcHJldmlvdXNseURlbGV0ZWQgPCB3aW5uaW5nUmV2SXNEZWxldGVkID8gLTEgOiAxO1xuXG4gIHZhciBuZXdSZXZJc0RlbGV0ZWQ7XG4gIGlmIChuZXdSZXYgPT09IHdpbm5pbmdSZXYkJDEpIHtcbiAgICAvLyBpZiB0aGUgbmV3IHJldiBpcyB0aGUgc2FtZSBhcyB0aGUgd2lubmluZyByZXYsIHdlIGNhbiByZXVzZSB0aGF0IHZhbHVlXG4gICAgbmV3UmV2SXNEZWxldGVkID0gd2lubmluZ1JldklzRGVsZXRlZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiB0aGV5J3JlIG5vdCB0aGUgc2FtZSwgdGhlbiB3ZSBuZWVkIHRvIHJlY2FsY3VsYXRlXG4gICAgbmV3UmV2SXNEZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIG5ld1Jldik7XG4gIH1cblxuICB3cml0ZURvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLCBuZXdSZXZJc0RlbGV0ZWQsXG4gICAgdHJ1ZSwgZGVsdGEsIGksIGNiKTtcbn1cblxuZnVuY3Rpb24gcm9vdElzTWlzc2luZyhkb2NJbmZvKSB7XG4gIHJldHVybiBkb2NJbmZvLm1ldGFkYXRhLnJldl90cmVlWzBdLmlkc1sxXS5zdGF0dXMgPT09ICdtaXNzaW5nJztcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0RvY3MocmV2TGltaXQsIGRvY0luZm9zLCBhcGksIGZldGNoZWREb2NzLCB0eCwgcmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICAgIHdyaXRlRG9jLCBvcHRzLCBvdmVyYWxsQ2FsbGJhY2spIHtcblxuICAvLyBEZWZhdWx0IHRvIDEwMDAgbG9jYWxseVxuICByZXZMaW1pdCA9IHJldkxpbWl0IHx8IDEwMDA7XG5cbiAgZnVuY3Rpb24gaW5zZXJ0RG9jKGRvY0luZm8sIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG4gICAgLy8gQ2FudCBpbnNlcnQgbmV3IGRlbGV0ZWQgZG9jdW1lbnRzXG4gICAgdmFyIHdpbm5pbmdSZXYkJDEgPSB3aW5uaW5nUmV2KGRvY0luZm8ubWV0YWRhdGEpO1xuICAgIHZhciBkZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEpO1xuICAgIGlmICgnd2FzX2RlbGV0ZScgaW4gb3B0cyAmJiBkZWxldGVkKSB7XG4gICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdkZWxldGVkJyk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvLyA0NzEyIC0gZGV0ZWN0IHdoZXRoZXIgYSBuZXcgZG9jdW1lbnQgd2FzIGluc2VydGVkIHdpdGggYSBfcmV2XG4gICAgdmFyIGluQ29uZmxpY3QgPSBuZXdFZGl0cyAmJiByb290SXNNaXNzaW5nKGRvY0luZm8pO1xuXG4gICAgaWYgKGluQ29uZmxpY3QpIHtcbiAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IGVycjtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHZhciBkZWx0YSA9IGRlbGV0ZWQgPyAwIDogMTtcblxuICAgIHdyaXRlRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIGRlbGV0ZWQsIGRlbGV0ZWQsIGZhbHNlLFxuICAgICAgZGVsdGEsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHZhciBuZXdFZGl0cyA9IG9wdHMubmV3X2VkaXRzO1xuICB2YXIgaWRzVG9Eb2NzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgdmFyIGRvY3NEb25lID0gMDtcbiAgdmFyIGRvY3NUb0RvID0gZG9jSW5mb3MubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGNoZWNrQWxsRG9jc0RvbmUoKSB7XG4gICAgaWYgKCsrZG9jc0RvbmUgPT09IGRvY3NUb0RvICYmIG92ZXJhbGxDYWxsYmFjaykge1xuICAgICAgb3ZlcmFsbENhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZG9jSW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoY3VycmVudERvYywgcmVzdWx0c0lkeCkge1xuXG4gICAgaWYgKGN1cnJlbnREb2MuX2lkICYmIGlzTG9jYWxJZChjdXJyZW50RG9jLl9pZCkpIHtcbiAgICAgIHZhciBmdW4gPSBjdXJyZW50RG9jLl9kZWxldGVkID8gJ19yZW1vdmVMb2NhbCcgOiAnX3B1dExvY2FsJztcbiAgICAgIGFwaVtmdW5dKGN1cnJlbnREb2MsIHtjdHg6IHR4fSwgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSBlcnIgfHwgcmVzO1xuICAgICAgICBjaGVja0FsbERvY3NEb25lKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaWQgPSBjdXJyZW50RG9jLm1ldGFkYXRhLmlkO1xuICAgIGlmIChpZHNUb0RvY3MuaGFzKGlkKSkge1xuICAgICAgZG9jc1RvRG8tLTsgLy8gZHVwbGljYXRlXG4gICAgICBpZHNUb0RvY3MuZ2V0KGlkKS5wdXNoKFtjdXJyZW50RG9jLCByZXN1bHRzSWR4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkc1RvRG9jcy5zZXQoaWQsIFtbY3VycmVudERvYywgcmVzdWx0c0lkeF1dKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGluIHRoZSBjYXNlIG9mIG5ld19lZGl0cywgdGhlIHVzZXIgY2FuIHByb3ZpZGUgbXVsdGlwbGUgZG9jc1xuICAvLyB3aXRoIHRoZSBzYW1lIGlkLiB0aGVzZSBuZWVkIHRvIGJlIHByb2Nlc3NlZCBzZXF1ZW50aWFsbHlcbiAgaWRzVG9Eb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvY3MsIGlkKSB7XG4gICAgdmFyIG51bURvbmUgPSAwO1xuXG4gICAgZnVuY3Rpb24gZG9jV3JpdHRlbigpIHtcbiAgICAgIGlmICgrK251bURvbmUgPCBkb2NzLmxlbmd0aCkge1xuICAgICAgICBuZXh0RG9jKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0FsbERvY3NEb25lKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5leHREb2MoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBkb2NzW251bURvbmVdO1xuICAgICAgdmFyIGN1cnJlbnREb2MgPSB2YWx1ZVswXTtcbiAgICAgIHZhciByZXN1bHRzSWR4ID0gdmFsdWVbMV07XG5cbiAgICAgIGlmIChmZXRjaGVkRG9jcy5oYXMoaWQpKSB7XG4gICAgICAgIHVwZGF0ZURvYyhyZXZMaW1pdCwgZmV0Y2hlZERvY3MuZ2V0KGlkKSwgY3VycmVudERvYywgcmVzdWx0cyxcbiAgICAgICAgICByZXN1bHRzSWR4LCBkb2NXcml0dGVuLCB3cml0ZURvYywgbmV3RWRpdHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRW5zdXJlIHN0ZW1taW5nIGFwcGxpZXMgdG8gbmV3IHdyaXRlcyBhcyB3ZWxsXG4gICAgICAgIHZhciBtZXJnZWQgPSBtZXJnZShbXSwgY3VycmVudERvYy5tZXRhZGF0YS5yZXZfdHJlZVswXSwgcmV2TGltaXQpO1xuICAgICAgICBjdXJyZW50RG9jLm1ldGFkYXRhLnJldl90cmVlID0gbWVyZ2VkLnRyZWU7XG4gICAgICAgIGN1cnJlbnREb2Muc3RlbW1lZFJldnMgPSBtZXJnZWQuc3RlbW1lZFJldnMgfHwgW107XG4gICAgICAgIGluc2VydERvYyhjdXJyZW50RG9jLCByZXN1bHRzSWR4LCBkb2NXcml0dGVuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbmV4dERvYygpO1xuICB9KTtcbn1cblxuLy8gSW5kZXhlZERCIHJlcXVpcmVzIGEgdmVyc2lvbmVkIGRhdGFiYXNlIHN0cnVjdHVyZSwgc28gd2UgdXNlIHRoZVxuLy8gdmVyc2lvbiBoZXJlIHRvIG1hbmFnZSBtaWdyYXRpb25zLlxudmFyIEFEQVBURVJfVkVSU0lPTiA9IDU7XG5cbi8vIFRoZSBvYmplY3Qgc3RvcmVzIGNyZWF0ZWQgZm9yIGVhY2ggZGF0YWJhc2Vcbi8vIERPQ19TVE9SRSBzdG9yZXMgdGhlIGRvY3VtZW50IG1ldGEgZGF0YSwgaXRzIHJldmlzaW9uIGhpc3RvcnkgYW5kIHN0YXRlXG4vLyBLZXllZCBieSBkb2N1bWVudCBpZFxudmFyIERPQ19TVE9SRSA9ICdkb2N1bWVudC1zdG9yZSc7XG4vLyBCWV9TRVFfU1RPUkUgc3RvcmVzIGEgcGFydGljdWxhciB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQsIGtleWVkIGJ5IGl0c1xuLy8gc2VxdWVuY2UgaWRcbnZhciBCWV9TRVFfU1RPUkUgPSAnYnktc2VxdWVuY2UnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgYXR0YWNobWVudHNcbnZhciBBVFRBQ0hfU1RPUkUgPSAnYXR0YWNoLXN0b3JlJztcbi8vIFdoZXJlIHdlIHN0b3JlIG1hbnktdG8tbWFueSByZWxhdGlvbnNcbi8vIGJldHdlZW4gYXR0YWNobWVudCBkaWdlc3RzIGFuZCBzZXFzXG52YXIgQVRUQUNIX0FORF9TRVFfU1RPUkUgPSAnYXR0YWNoLXNlcS1zdG9yZSc7XG5cbi8vIFdoZXJlIHdlIHN0b3JlIGRhdGFiYXNlLXdpZGUgbWV0YSBkYXRhIGluIGEgc2luZ2xlIHJlY29yZFxuLy8ga2V5ZWQgYnkgaWQ6IE1FVEFfU1RPUkVcbnZhciBNRVRBX1NUT1JFID0gJ21ldGEtc3RvcmUnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgbG9jYWwgZG9jdW1lbnRzXG52YXIgTE9DQUxfU1RPUkUgPSAnbG9jYWwtc3RvcmUnO1xuLy8gV2hlcmUgd2UgZGV0ZWN0IGJsb2Igc3VwcG9ydFxudmFyIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUgPSAnZGV0ZWN0LWJsb2Itc3VwcG9ydCc7XG5cbmZ1bmN0aW9uIHNhZmVKc29uUGFyc2Uoc3RyKSB7XG4gIC8vIFRoaXMgdHJ5L2NhdGNoIGd1YXJkcyBhZ2FpbnN0IHN0YWNrIG92ZXJmbG93IGVycm9ycy5cbiAgLy8gSlNPTi5wYXJzZSgpIGlzIGZhc3RlciB0aGFuIHZ1dnV6ZWxhLnBhcnNlKCkgYnV0IHZ1dnV6ZWxhXG4gIC8vIGNhbm5vdCBvdmVyZmxvdy5cbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdnV2dXplbGEucGFyc2Uoc3RyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzYWZlSnNvblN0cmluZ2lmeShqc29uKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGpzb24pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdnV2dXplbGEuc3RyaW5naWZ5KGpzb24pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlkYkVycm9yKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAndW5rbm93bl9lcnJvcic7XG4gICAgaWYgKGV2dC50YXJnZXQgJiYgZXZ0LnRhcmdldC5lcnJvcikge1xuICAgICAgbWVzc2FnZSA9IGV2dC50YXJnZXQuZXJyb3IubmFtZSB8fCBldnQudGFyZ2V0LmVycm9yLm1lc3NhZ2U7XG4gICAgfVxuICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUiwgbWVzc2FnZSwgZXZ0LnR5cGUpKTtcbiAgfTtcbn1cblxuLy8gVW5mb3J0dW5hdGVseSwgdGhlIG1ldGFkYXRhIGhhcyB0byBiZSBzdHJpbmdpZmllZFxuLy8gd2hlbiBpdCBpcyBwdXQgaW50byB0aGUgZGF0YWJhc2UsIGJlY2F1c2Ugb3RoZXJ3aXNlXG4vLyBJbmRleGVkREIgY2FuIHRocm93IGVycm9ycyBmb3IgZGVlcGx5LW5lc3RlZCBvYmplY3RzLlxuLy8gT3JpZ2luYWxseSB3ZSBqdXN0IHVzZWQgSlNPTi5wYXJzZS9KU09OLnN0cmluZ2lmeTsgbm93XG4vLyB3ZSB1c2UgdGhpcyBjdXN0b20gdnV2dXplbGEgbGlicmFyeSB0aGF0IGF2b2lkcyByZWN1cnNpb24uXG4vLyBJZiB3ZSBjb3VsZCBkbyBpdCBhbGwgb3ZlciBhZ2Fpbiwgd2UnZCBwcm9iYWJseSB1c2UgYVxuLy8gZm9ybWF0IGZvciB0aGUgcmV2aXNpb24gdHJlZXMgb3RoZXIgdGhhbiBKU09OLlxuZnVuY3Rpb24gZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYsIGRlbGV0ZWQpIHtcbiAgcmV0dXJuIHtcbiAgICBkYXRhOiBzYWZlSnNvblN0cmluZ2lmeShtZXRhZGF0YSksXG4gICAgd2lubmluZ1Jldjogd2lubmluZ1JldixcbiAgICBkZWxldGVkT3JMb2NhbDogZGVsZXRlZCA/ICcxJyA6ICcwJyxcbiAgICBzZXE6IG1ldGFkYXRhLnNlcSwgLy8gaGlnaGVzdCBzZXEgZm9yIHRoaXMgZG9jXG4gICAgaWQ6IG1ldGFkYXRhLmlkXG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlY29kZU1ldGFkYXRhKHN0b3JlZE9iamVjdCkge1xuICBpZiAoIXN0b3JlZE9iamVjdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBtZXRhZGF0YSA9IHNhZmVKc29uUGFyc2Uoc3RvcmVkT2JqZWN0LmRhdGEpO1xuICBtZXRhZGF0YS53aW5uaW5nUmV2ID0gc3RvcmVkT2JqZWN0Lndpbm5pbmdSZXY7XG4gIG1ldGFkYXRhLmRlbGV0ZWQgPSBzdG9yZWRPYmplY3QuZGVsZXRlZE9yTG9jYWwgPT09ICcxJztcbiAgbWV0YWRhdGEuc2VxID0gc3RvcmVkT2JqZWN0LnNlcTtcbiAgcmV0dXJuIG1ldGFkYXRhO1xufVxuXG4vLyByZWFkIHRoZSBkb2MgYmFjayBvdXQgZnJvbSB0aGUgZGF0YWJhc2UuIHdlIGRvbid0IHN0b3JlIHRoZVxuLy8gX2lkIG9yIF9yZXYgYmVjYXVzZSB3ZSBhbHJlYWR5IGhhdmUgX2RvY19pZF9yZXYuXG5mdW5jdGlvbiBkZWNvZGVEb2MoZG9jKSB7XG4gIGlmICghZG9jKSB7XG4gICAgcmV0dXJuIGRvYztcbiAgfVxuICB2YXIgaWR4ID0gZG9jLl9kb2NfaWRfcmV2Lmxhc3RJbmRleE9mKCc6Jyk7XG4gIGRvYy5faWQgPSBkb2MuX2RvY19pZF9yZXYuc3Vic3RyaW5nKDAsIGlkeCAtIDEpO1xuICBkb2MuX3JldiA9IGRvYy5fZG9jX2lkX3Jldi5zdWJzdHJpbmcoaWR4ICsgMSk7XG4gIGRlbGV0ZSBkb2MuX2RvY19pZF9yZXY7XG4gIHJldHVybiBkb2M7XG59XG5cbi8vIFJlYWQgYSBibG9iIGZyb20gdGhlIGRhdGFiYXNlLCBlbmNvZGluZyBhcyBuZWNlc3Nhcnlcbi8vIGFuZCB0cmFuc2xhdGluZyBmcm9tIGJhc2U2NCBpZiB0aGUgSURCIGRvZXNuJ3Qgc3VwcG9ydFxuLy8gbmF0aXZlIEJsb2JzXG5mdW5jdGlvbiByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgYXNCbG9iLCBjYWxsYmFjaykge1xuICBpZiAoYXNCbG9iKSB7XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICBjYWxsYmFjayhjcmVhdGVCbG9iKFsnJ10sIHt0eXBlOiB0eXBlfSkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgIT09ICdzdHJpbmcnKSB7IC8vIHdlIGhhdmUgYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhib2R5KTtcbiAgICB9IGVsc2UgeyAvLyBubyBibG9iIHN1cHBvcnRcbiAgICAgIGNhbGxiYWNrKGI2NFRvQmx1ZmZlcihib2R5LCB0eXBlKSk7XG4gICAgfVxuICB9IGVsc2UgeyAvLyBhcyBiYXNlNjQgc3RyaW5nXG4gICAgaWYgKCFib2R5KSB7XG4gICAgICBjYWxsYmFjaygnJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSAhPT0gJ3N0cmluZycpIHsgLy8gd2UgaGF2ZSBibG9iIHN1cHBvcnRcbiAgICAgIHJlYWRBc0JpbmFyeVN0cmluZyhib2R5LCBmdW5jdGlvbiAoYmluYXJ5KSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXNCdG9hKGJpbmFyeSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHsgLy8gbm8gYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhib2R5KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5KGRvYywgb3B0cywgdHhuLCBjYikge1xuICB2YXIgYXR0YWNobWVudHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzIHx8IHt9KTtcbiAgaWYgKCFhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2IgJiYgY2IoKTtcbiAgfVxuICB2YXIgbnVtRG9uZSA9IDA7XG5cbiAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgIGlmICgrK251bURvbmUgPT09IGF0dGFjaG1lbnRzLmxlbmd0aCAmJiBjYikge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnQoZG9jLCBhdHQpIHtcbiAgICB2YXIgYXR0T2JqID0gZG9jLl9hdHRhY2htZW50c1thdHRdO1xuICAgIHZhciBkaWdlc3QgPSBhdHRPYmouZGlnZXN0O1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKS5nZXQoZGlnZXN0KTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGF0dE9iai5ib2R5ID0gZS50YXJnZXQucmVzdWx0LmJvZHk7XG4gICAgICBjaGVja0RvbmUoKTtcbiAgICB9O1xuICB9XG5cbiAgYXR0YWNobWVudHMuZm9yRWFjaChmdW5jdGlvbiAoYXR0KSB7XG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIGZldGNoQXR0YWNobWVudChkb2MsIGF0dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5fYXR0YWNobWVudHNbYXR0XS5zdHViID0gdHJ1ZTtcbiAgICAgIGNoZWNrRG9uZSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIElEQi1zcGVjaWZpYyBwb3N0cHJvY2Vzc2luZyBuZWNlc3NhcnkgYmVjYXVzZVxuLy8gd2UgZG9uJ3Qga25vdyB3aGV0aGVyIHdlIHN0b3JlZCBhIHRydWUgQmxvYiBvclxuLy8gYSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcsIGFuZCBpZiBpdCdzIGEgQmxvYiBpdFxuLy8gbmVlZHMgdG8gYmUgcmVhZCBvdXRzaWRlIG9mIHRoZSB0cmFuc2FjdGlvbiBjb250ZXh0XG5mdW5jdGlvbiBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMsIGFzQmxvYikge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cy5tYXAoZnVuY3Rpb24gKHJvdykge1xuICAgIGlmIChyb3cuZG9jICYmIHJvdy5kb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICB2YXIgYXR0TmFtZXMgPSBPYmplY3Qua2V5cyhyb3cuZG9jLl9hdHRhY2htZW50cyk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYXR0TmFtZXMubWFwKGZ1bmN0aW9uIChhdHQpIHtcbiAgICAgICAgdmFyIGF0dE9iaiA9IHJvdy5kb2MuX2F0dGFjaG1lbnRzW2F0dF07XG4gICAgICAgIGlmICghKCdib2R5JyBpbiBhdHRPYmopKSB7IC8vIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib2R5ID0gYXR0T2JqLmJvZHk7XG4gICAgICAgIHZhciB0eXBlID0gYXR0T2JqLmNvbnRlbnRfdHlwZTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmVhZEJsb2JEYXRhKGJvZHksIHR5cGUsIGFzQmxvYiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJvdy5kb2MuX2F0dGFjaG1lbnRzW2F0dF0gPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oXG4gICAgICAgICAgICAgIHBpY2soYXR0T2JqLCBbJ2RpZ2VzdCcsICdjb250ZW50X3R5cGUnXSksXG4gICAgICAgICAgICAgIHtkYXRhOiBkYXRhfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhY3RSZXZzKHJldnMsIGRvY0lkLCB0eG4pIHtcblxuICB2YXIgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMgPSBbXTtcbiAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gIHZhciBhdHRTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpO1xuICB2YXIgYXR0QW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuICB2YXIgY291bnQgPSByZXZzLmxlbmd0aDtcblxuICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgY291bnQtLTtcbiAgICBpZiAoIWNvdW50KSB7IC8vIGRvbmUgcHJvY2Vzc2luZyBhbGwgcmV2c1xuICAgICAgZGVsZXRlT3JwaGFuZWRBdHRhY2htZW50cygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZU9ycGhhbmVkQXR0YWNobWVudHMoKSB7XG4gICAgaWYgKCFwb3NzaWJseU9ycGhhbmVkRGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMuZm9yRWFjaChmdW5jdGlvbiAoZGlnZXN0KSB7XG4gICAgICB2YXIgY291bnRSZXEgPSBhdHRBbmRTZXFTdG9yZS5pbmRleCgnZGlnZXN0U2VxJykuY291bnQoXG4gICAgICAgIElEQktleVJhbmdlLmJvdW5kKFxuICAgICAgICAgIGRpZ2VzdCArICc6OicsIGRpZ2VzdCArICc6OlxcdWZmZmYnLCBmYWxzZSwgZmFsc2UpKTtcbiAgICAgIGNvdW50UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjb3VudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICAgIC8vIG9ycGhhbmVkXG4gICAgICAgICAgYXR0U3RvcmUuZGVsZXRlKGRpZ2VzdCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICByZXZzLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgIHZhciBpbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgIHZhciBrZXkgPSBkb2NJZCArIFwiOjpcIiArIHJldjtcbiAgICBpbmRleC5nZXRLZXkoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHNlcSA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2Ygc2VxICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gY2hlY2tEb25lKCk7XG4gICAgICB9XG4gICAgICBzZXFTdG9yZS5kZWxldGUoc2VxKTtcblxuICAgICAgdmFyIGN1cnNvciA9IGF0dEFuZFNlcVN0b3JlLmluZGV4KCdzZXEnKVxuICAgICAgICAub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KHNlcSkpO1xuXG4gICAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgdmFyIGRpZ2VzdCA9IGN1cnNvci52YWx1ZS5kaWdlc3RTZXEuc3BsaXQoJzo6JylbMF07XG4gICAgICAgICAgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMucHVzaChkaWdlc3QpO1xuICAgICAgICAgIGF0dEFuZFNlcVN0b3JlLmRlbGV0ZShjdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH0gZWxzZSB7IC8vIGRvbmVcbiAgICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCBtb2RlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR4bjogaWRiLnRyYW5zYWN0aW9uKHN0b3JlcywgbW9kZSlcbiAgICB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IGVyclxuICAgIH07XG4gIH1cbn1cblxudmFyIGNoYW5nZXNIYW5kbGVyID0gbmV3IENoYW5nZXMoKTtcblxuZnVuY3Rpb24gaWRiQnVsa0RvY3MoZGJPcHRzLCByZXEsIG9wdHMsIGFwaSwgaWRiLCBjYWxsYmFjaykge1xuICB2YXIgZG9jSW5mb3MgPSByZXEuZG9jcztcbiAgdmFyIHR4bjtcbiAgdmFyIGRvY1N0b3JlO1xuICB2YXIgYnlTZXFTdG9yZTtcbiAgdmFyIGF0dGFjaFN0b3JlO1xuICB2YXIgYXR0YWNoQW5kU2VxU3RvcmU7XG4gIHZhciBtZXRhU3RvcmU7XG4gIHZhciBkb2NJbmZvRXJyb3I7XG4gIHZhciBtZXRhRG9jO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkb2NJbmZvcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBkb2MgPSBkb2NJbmZvc1tpXTtcbiAgICBpZiAoZG9jLl9pZCAmJiBpc0xvY2FsSWQoZG9jLl9pZCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBkb2MgPSBkb2NJbmZvc1tpXSA9IHBhcnNlRG9jKGRvYywgb3B0cy5uZXdfZWRpdHMsIGRiT3B0cyk7XG4gICAgaWYgKGRvYy5lcnJvciAmJiAhZG9jSW5mb0Vycm9yKSB7XG4gICAgICBkb2NJbmZvRXJyb3IgPSBkb2M7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRvY0luZm9FcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayhkb2NJbmZvRXJyb3IpO1xuICB9XG5cbiAgdmFyIGFsbERvY3NQcm9jZXNzZWQgPSBmYWxzZTtcbiAgdmFyIGRvY0NvdW50RGVsdGEgPSAwO1xuICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShkb2NJbmZvcy5sZW5ndGgpO1xuICB2YXIgZmV0Y2hlZERvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgdmFyIHByZWNvbmRpdGlvbkVycm9yZWQgPSBmYWxzZTtcbiAgdmFyIGJsb2JUeXBlID0gYXBpLl9tZXRhLmJsb2JTdXBwb3J0ID8gJ2Jsb2InIDogJ2Jhc2U2NCc7XG5cbiAgcHJlcHJvY2Vzc0F0dGFjaG1lbnRzKGRvY0luZm9zLCBibG9iVHlwZSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICBzdGFydFRyYW5zYWN0aW9uKCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHN0YXJ0VHJhbnNhY3Rpb24oKSB7XG5cbiAgICB2YXIgc3RvcmVzID0gW1xuICAgICAgRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsXG4gICAgICBBVFRBQ0hfU1RPUkUsXG4gICAgICBMT0NBTF9TVE9SRSwgQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICBNRVRBX1NUT1JFXG4gICAgXTtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCAncmVhZHdyaXRlJyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgdHhuLm9udGltZW91dCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICB0eG4ub25jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgYnlTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgIGF0dGFjaFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSk7XG4gICAgYXR0YWNoQW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuICAgIG1ldGFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKTtcblxuICAgIG1ldGFTdG9yZS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFEb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcbiAgICB9O1xuXG4gICAgdmVyaWZ5QXR0YWNobWVudHMoZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwcmVjb25kaXRpb25FcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBmZXRjaEV4aXN0aW5nRG9jcygpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25BbGxEb2NzUHJvY2Vzc2VkKCkge1xuICAgIGFsbERvY3NQcm9jZXNzZWQgPSB0cnVlO1xuICAgIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaWRiUHJvY2Vzc0RvY3MoKSB7XG4gICAgcHJvY2Vzc0RvY3MoZGJPcHRzLnJldnNfbGltaXQsIGRvY0luZm9zLCBhcGksIGZldGNoZWREb2NzLFxuICAgICAgICAgICAgICAgIHR4biwgcmVzdWx0cywgd3JpdGVEb2MsIG9wdHMsIG9uQWxsRG9jc1Byb2Nlc3NlZCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVEb2NDb3VudElmUmVhZHkoKSB7XG4gICAgaWYgKCFtZXRhRG9jIHx8ICFhbGxEb2NzUHJvY2Vzc2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGNhY2hpbmcgdGhlIGRvY0NvdW50IHNhdmVzIGEgbG90IG9mIHRpbWUgaW4gYWxsRG9jcygpIGFuZFxuICAgIC8vIGluZm8oKSwgd2hpY2ggaXMgd2h5IHdlIGdvIHRvIGFsbCB0aGUgdHJvdWJsZSBvZiBkb2luZyB0aGlzXG4gICAgbWV0YURvYy5kb2NDb3VudCArPSBkb2NDb3VudERlbHRhO1xuICAgIG1ldGFTdG9yZS5wdXQobWV0YURvYyk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEV4aXN0aW5nRG9jcygpIHtcblxuICAgIGlmICghZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG51bUZldGNoZWQgPSAwO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgICAgaWYgKCsrbnVtRmV0Y2hlZCA9PT0gZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgICAgIGlkYlByb2Nlc3NEb2NzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVhZE1ldGFkYXRhKGV2ZW50KSB7XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShldmVudC50YXJnZXQucmVzdWx0KTtcblxuICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgIGZldGNoZWREb2NzLnNldChtZXRhZGF0YS5pZCwgbWV0YWRhdGEpO1xuICAgICAgfVxuICAgICAgY2hlY2tEb25lKCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRvY0luZm9zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZG9jSW5mbyA9IGRvY0luZm9zW2ldO1xuICAgICAgaWYgKGRvY0luZm8uX2lkICYmIGlzTG9jYWxJZChkb2NJbmZvLl9pZCkpIHtcbiAgICAgICAgY2hlY2tEb25lKCk7IC8vIHNraXAgbG9jYWwgZG9jc1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXEgPSBkb2NTdG9yZS5nZXQoZG9jSW5mby5tZXRhZGF0YS5pZCk7XG4gICAgICByZXEub25zdWNjZXNzID0gcmVhZE1ldGFkYXRhO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgIGlmIChwcmVjb25kaXRpb25FcnJvcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2hhbmdlc0hhbmRsZXIubm90aWZ5KGFwaS5fbWV0YS5uYW1lKTtcbiAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZlcmlmeUF0dGFjaG1lbnQoZGlnZXN0LCBjYWxsYmFjaykge1xuXG4gICAgdmFyIHJlcSA9IGF0dGFjaFN0b3JlLmdldChkaWdlc3QpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFlLnRhcmdldC5yZXN1bHQpIHtcbiAgICAgICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfU1RVQixcbiAgICAgICAgICAndW5rbm93biBzdHViIGF0dGFjaG1lbnQgd2l0aCBkaWdlc3QgJyArXG4gICAgICAgICAgZGlnZXN0KTtcbiAgICAgICAgZXJyLnN0YXR1cyA9IDQxMjtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZlcmlmeUF0dGFjaG1lbnRzKGZpbmlzaCkge1xuXG5cbiAgICB2YXIgZGlnZXN0cyA9IFtdO1xuICAgIGRvY0luZm9zLmZvckVhY2goZnVuY3Rpb24gKGRvY0luZm8pIHtcbiAgICAgIGlmIChkb2NJbmZvLmRhdGEgJiYgZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykge1xuICAgICAgICBPYmplY3Qua2V5cyhkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICAgIHZhciBhdHQgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXTtcbiAgICAgICAgICBpZiAoYXR0LnN0dWIpIHtcbiAgICAgICAgICAgIGRpZ2VzdHMucHVzaChhdHQuZGlnZXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghZGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICB9XG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIHZhciBlcnI7XG5cbiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgICBpZiAoKytudW1Eb25lID09PSBkaWdlc3RzLmxlbmd0aCkge1xuICAgICAgICBmaW5pc2goZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZGlnZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChkaWdlc3QpIHtcbiAgICAgIHZlcmlmeUF0dGFjaG1lbnQoZGlnZXN0LCBmdW5jdGlvbiAoYXR0RXJyKSB7XG4gICAgICAgIGlmIChhdHRFcnIgJiYgIWVycikge1xuICAgICAgICAgIGVyciA9IGF0dEVycjtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCwgbmV3UmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZSwgZGVsdGEsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cbiAgICBkb2NJbmZvLm1ldGFkYXRhLndpbm5pbmdSZXYgPSB3aW5uaW5nUmV2JCQxO1xuICAgIGRvY0luZm8ubWV0YWRhdGEuZGVsZXRlZCA9IHdpbm5pbmdSZXZJc0RlbGV0ZWQ7XG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuICAgIGRvYy5faWQgPSBkb2NJbmZvLm1ldGFkYXRhLmlkO1xuICAgIGRvYy5fcmV2ID0gZG9jSW5mby5tZXRhZGF0YS5yZXY7XG5cbiAgICBpZiAobmV3UmV2SXNEZWxldGVkKSB7XG4gICAgICBkb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBoYXNBdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHMgJiZcbiAgICAgIE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLmxlbmd0aDtcbiAgICBpZiAoaGFzQXR0YWNobWVudHMpIHtcbiAgICAgIHJldHVybiB3cml0ZUF0dGFjaG1lbnRzKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZG9jQ291bnREZWx0YSArPSBkZWx0YTtcbiAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcblxuICAgIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuICAgIHZhciBtZXRhZGF0YSA9IGRvY0luZm8ubWV0YWRhdGE7XG5cbiAgICBkb2MuX2RvY19pZF9yZXYgPSBtZXRhZGF0YS5pZCArICc6OicgKyBtZXRhZGF0YS5yZXY7XG4gICAgZGVsZXRlIGRvYy5faWQ7XG4gICAgZGVsZXRlIGRvYy5fcmV2O1xuXG4gICAgZnVuY3Rpb24gYWZ0ZXJQdXREb2MoZSkge1xuICAgICAgdmFyIHJldnNUb0RlbGV0ZSA9IGRvY0luZm8uc3RlbW1lZFJldnMgfHwgW107XG5cbiAgICAgIGlmIChpc1VwZGF0ZSAmJiBhcGkuYXV0b19jb21wYWN0aW9uKSB7XG4gICAgICAgIHJldnNUb0RlbGV0ZSA9IHJldnNUb0RlbGV0ZS5jb25jYXQoY29tcGFjdFRyZWUoZG9jSW5mby5tZXRhZGF0YSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmV2c1RvRGVsZXRlICYmIHJldnNUb0RlbGV0ZS5sZW5ndGgpIHtcbiAgICAgICAgY29tcGFjdFJldnMocmV2c1RvRGVsZXRlLCBkb2NJbmZvLm1ldGFkYXRhLmlkLCB0eG4pO1xuICAgICAgfVxuXG4gICAgICBtZXRhZGF0YS5zZXEgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAvLyBDdXJyZW50IF9yZXYgaXMgY2FsY3VsYXRlZCBmcm9tIF9yZXZfdHJlZSBvbiByZWFkXG4gICAgICAvLyBkZWxldGUgbWV0YWRhdGEucmV2O1xuICAgICAgdmFyIG1ldGFkYXRhVG9TdG9yZSA9IGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxLFxuICAgICAgICB3aW5uaW5nUmV2SXNEZWxldGVkKTtcbiAgICAgIHZhciBtZXRhRGF0YVJlcSA9IGRvY1N0b3JlLnB1dChtZXRhZGF0YVRvU3RvcmUpO1xuICAgICAgbWV0YURhdGFSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXRNZXRhZGF0YTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dERvY0Vycm9yKGUpIHtcbiAgICAgIC8vIENvbnN0cmFpbnRFcnJvciwgbmVlZCB0byB1cGRhdGUsIG5vdCBwdXQgKHNlZSAjMTYzOCBmb3IgZGV0YWlscylcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gYWJvcnRcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgIHZhciBpbmRleCA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gICAgICB2YXIgZ2V0S2V5UmVxID0gaW5kZXguZ2V0S2V5KGRvYy5fZG9jX2lkX3Jldik7XG4gICAgICBnZXRLZXlSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHB1dFJlcSA9IGJ5U2VxU3RvcmUucHV0KGRvYywgZS50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgcHV0UmVxLm9uc3VjY2VzcyA9IGFmdGVyUHV0RG9jO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dE1ldGFkYXRhKCkge1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICAgICAgcmV2OiBtZXRhZGF0YS5yZXZcbiAgICAgIH07XG4gICAgICBmZXRjaGVkRG9jcy5zZXQoZG9jSW5mby5tZXRhZGF0YS5pZCwgZG9jSW5mby5tZXRhZGF0YSk7XG4gICAgICBpbnNlcnRBdHRhY2htZW50TWFwcGluZ3MoZG9jSW5mbywgbWV0YWRhdGEuc2VxLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdmFyIHB1dFJlcSA9IGJ5U2VxU3RvcmUucHV0KGRvYyk7XG5cbiAgICBwdXRSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXREb2M7XG4gICAgcHV0UmVxLm9uZXJyb3IgPSBhZnRlclB1dERvY0Vycm9yO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVBdHRhY2htZW50cyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuXG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuXG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIHZhciBhdHRhY2htZW50cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuXG4gICAgZnVuY3Rpb24gY29sbGVjdFJlc3VsdHMoKSB7XG4gICAgICBpZiAobnVtRG9uZSA9PT0gYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR0YWNobWVudFNhdmVkKCkge1xuICAgICAgbnVtRG9uZSsrO1xuICAgICAgY29sbGVjdFJlc3VsdHMoKTtcbiAgICB9XG5cbiAgICBhdHRhY2htZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBhdHQgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2tleV07XG4gICAgICBpZiAoIWF0dC5zdHViKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXR0LmRhdGE7XG4gICAgICAgIGRlbGV0ZSBhdHQuZGF0YTtcbiAgICAgICAgYXR0LnJldnBvcyA9IHBhcnNlSW50KHdpbm5pbmdSZXYkJDEsIDEwKTtcbiAgICAgICAgdmFyIGRpZ2VzdCA9IGF0dC5kaWdlc3Q7XG4gICAgICAgIHNhdmVBdHRhY2htZW50KGRpZ2VzdCwgZGF0YSwgYXR0YWNobWVudFNhdmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG51bURvbmUrKztcbiAgICAgICAgY29sbGVjdFJlc3VsdHMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIG1hcCBzZXFzIHRvIGF0dGFjaG1lbnQgZGlnZXN0cywgd2hpY2hcbiAgLy8gd2Ugd2lsbCBuZWVkIGxhdGVyIGR1cmluZyBjb21wYWN0aW9uXG4gIGZ1bmN0aW9uIGluc2VydEF0dGFjaG1lbnRNYXBwaW5ncyhkb2NJbmZvLCBzZXEsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgYXR0c0FkZGVkID0gMDtcbiAgICB2YXIgYXR0c1RvQWRkID0gT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cyB8fCB7fSk7XG5cbiAgICBpZiAoIWF0dHNUb0FkZC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICAgIGlmICgrK2F0dHNBZGRlZCA9PT0gYXR0c1RvQWRkLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZChhdHQpIHtcbiAgICAgIHZhciBkaWdlc3QgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2F0dF0uZGlnZXN0O1xuICAgICAgdmFyIHJlcSA9IGF0dGFjaEFuZFNlcVN0b3JlLnB1dCh7XG4gICAgICAgIHNlcTogc2VxLFxuICAgICAgICBkaWdlc3RTZXE6IGRpZ2VzdCArICc6OicgKyBzZXFcbiAgICAgIH0pO1xuXG4gICAgICByZXEub25zdWNjZXNzID0gY2hlY2tEb25lO1xuICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyB0aGlzIGNhbGxiYWNrIGlzIGZvciBhIGNvbnN0YWludCBlcnJvciwgd2hpY2ggd2UgaWdub3JlXG4gICAgICAgIC8vIGJlY2F1c2UgdGhpcyBkb2NpZC9yZXYgaGFzIGFscmVhZHkgYmVlbiBhc3NvY2lhdGVkIHdpdGhcbiAgICAgICAgLy8gdGhlIGRpZ2VzdCAoZS5nLiB3aGVuIG5ld19lZGl0cyA9PSBmYWxzZSlcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBhYm9ydFxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBvbmVycm9yXG4gICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgfTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRzVG9BZGQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFkZChhdHRzVG9BZGRbaV0pOyAvLyBkbyBpbiBwYXJhbGxlbFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNhdmVBdHRhY2htZW50KGRpZ2VzdCwgZGF0YSwgY2FsbGJhY2spIHtcblxuXG4gICAgdmFyIGdldEtleVJlcSA9IGF0dGFjaFN0b3JlLmNvdW50KGRpZ2VzdCk7XG4gICAgZ2V0S2V5UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY291bnQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGFscmVhZHkgZXhpc3RzXG4gICAgICB9XG4gICAgICB2YXIgbmV3QXR0ID0ge1xuICAgICAgICBkaWdlc3Q6IGRpZ2VzdCxcbiAgICAgICAgYm9keTogZGF0YVxuICAgICAgfTtcbiAgICAgIHZhciBwdXRSZXEgPSBhdHRhY2hTdG9yZS5wdXQobmV3QXR0KTtcbiAgICAgIHB1dFJlcS5vbnN1Y2Nlc3MgPSBjYWxsYmFjaztcbiAgICB9O1xuICB9XG59XG5cbi8vIEFic3RyYWN0aW9uIG92ZXIgSURCQ3Vyc29yIGFuZCBnZXRBbGwoKS9nZXRBbGxLZXlzKCkgdGhhdCBhbGxvd3MgdXMgdG8gYmF0Y2ggb3VyIG9wZXJhdGlvbnNcbi8vIHdoaWxlIGZhbGxpbmcgYmFjayB0byBhIG5vcm1hbCBJREJDdXJzb3Igb3BlcmF0aW9uIG9uIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBnZXRBbGwoKSBvclxuLy8gZ2V0QWxsS2V5cygpLiBUaGlzIGFsbG93cyBmb3IgYSBtdWNoIGZhc3RlciBpbXBsZW1lbnRhdGlvbiB0aGFuIGp1c3Qgc3RyYWlnaHQtdXAgY3Vyc29ycywgYmVjYXVzZVxuLy8gd2UncmUgbm90IHByb2Nlc3NpbmcgZWFjaCBkb2N1bWVudCBvbmUtYXQtYS10aW1lLlxuZnVuY3Rpb24gcnVuQmF0Y2hlZEN1cnNvcihvYmplY3RTdG9yZSwga2V5UmFuZ2UsIGRlc2NlbmRpbmcsIGJhdGNoU2l6ZSwgb25CYXRjaCkge1xuXG4gIGlmIChiYXRjaFNpemUgPT09IC0xKSB7XG4gICAgYmF0Y2hTaXplID0gMTAwMDtcbiAgfVxuXG4gIC8vIEJhaWwgb3V0IG9mIGdldEFsbCgpL2dldEFsbEtleXMoKSBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuICAvLyAxKSBlaXRoZXIgbWV0aG9kIGlzIHVuc3VwcG9ydGVkIC0gd2UgbmVlZCBib3RoXG4gIC8vIDIpIGJhdGNoU2l6ZSBpcyAxIChtaWdodCBhcyB3ZWxsIHVzZSBJREJDdXJzb3IpXG4gIC8vIDMpIGRlc2NlbmRpbmcg4oCTIG5vIHJlYWwgd2F5IHRvIGRvIHRoaXMgdmlhIGdldEFsbCgpL2dldEFsbEtleXMoKVxuXG4gIHZhciB1c2VHZXRBbGwgPSB0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsID09PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIG9iamVjdFN0b3JlLmdldEFsbEtleXMgPT09ICdmdW5jdGlvbicgJiZcbiAgICBiYXRjaFNpemUgPiAxICYmICFkZXNjZW5kaW5nO1xuXG4gIHZhciBrZXlzQmF0Y2g7XG4gIHZhciB2YWx1ZXNCYXRjaDtcbiAgdmFyIHBzZXVkb0N1cnNvcjtcblxuICBmdW5jdGlvbiBvbkdldEFsbChlKSB7XG4gICAgdmFsdWVzQmF0Y2ggPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGtleXNCYXRjaCkge1xuICAgICAgb25CYXRjaChrZXlzQmF0Y2gsIHZhbHVlc0JhdGNoLCBwc2V1ZG9DdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uR2V0QWxsS2V5cyhlKSB7XG4gICAga2V5c0JhdGNoID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmICh2YWx1ZXNCYXRjaCkge1xuICAgICAgb25CYXRjaChrZXlzQmF0Y2gsIHZhbHVlc0JhdGNoLCBwc2V1ZG9DdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnRpbnVlUHNldWRvQ3Vyc29yKCkge1xuICAgIGlmICgha2V5c0JhdGNoLmxlbmd0aCkgeyAvLyBubyBtb3JlIHJlc3VsdHNcbiAgICAgIHJldHVybiBvbkJhdGNoKCk7XG4gICAgfVxuICAgIC8vIGZldGNoIG5leHQgYmF0Y2gsIGV4Y2x1c2l2ZSBzdGFydFxuICAgIHZhciBsYXN0S2V5ID0ga2V5c0JhdGNoW2tleXNCYXRjaC5sZW5ndGggLSAxXTtcbiAgICB2YXIgbmV3S2V5UmFuZ2U7XG4gICAgaWYgKGtleVJhbmdlICYmIGtleVJhbmdlLnVwcGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXdLZXlSYW5nZSA9IElEQktleVJhbmdlLmJvdW5kKGxhc3RLZXksIGtleVJhbmdlLnVwcGVyLFxuICAgICAgICAgIHRydWUsIGtleVJhbmdlLnVwcGVyT3Blbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlLm5hbWUgPT09IFwiRGF0YUVycm9yXCIgJiYgZS5jb2RlID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQmF0Y2goKTsgLy8gd2UncmUgZG9uZSwgc3RhcnRrZXkgYW5kIGVuZGtleSBhcmUgZXF1YWxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdLZXlSYW5nZSA9IElEQktleVJhbmdlLmxvd2VyQm91bmQobGFzdEtleSwgdHJ1ZSk7XG4gICAgfVxuICAgIGtleVJhbmdlID0gbmV3S2V5UmFuZ2U7XG4gICAga2V5c0JhdGNoID0gbnVsbDtcbiAgICB2YWx1ZXNCYXRjaCA9IG51bGw7XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbEtleXMoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGxLZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gb25DdXJzb3IoZSkge1xuICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKCFjdXJzb3IpIHsgLy8gZG9uZVxuICAgICAgcmV0dXJuIG9uQmF0Y2goKTtcbiAgICB9XG4gICAgLy8gcmVndWxhciBJREJDdXJzb3IgYWN0cyBsaWtlIGEgYmF0Y2ggd2hlcmUgYmF0Y2ggc2l6ZSBpcyBhbHdheXMgMVxuICAgIG9uQmF0Y2goW2N1cnNvci5rZXldLCBbY3Vyc29yLnZhbHVlXSwgY3Vyc29yKTtcbiAgfVxuXG4gIGlmICh1c2VHZXRBbGwpIHtcbiAgICBwc2V1ZG9DdXJzb3IgPSB7XCJjb250aW51ZVwiOiBjb250aW51ZVBzZXVkb0N1cnNvcn07XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbEtleXMoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGxLZXlzO1xuICB9IGVsc2UgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlLCAncHJldicpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9IGVsc2Uge1xuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3Ioa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9XG59XG5cbi8vIHNpbXBsZSBzaGltIGZvciBvYmplY3RTdG9yZS5nZXRBbGwoKSwgZmFsbGluZyBiYWNrIHRvIElEQkN1cnNvclxuZnVuY3Rpb24gZ2V0QWxsKG9iamVjdFN0b3JlLCBrZXlSYW5nZSwgb25TdWNjZXNzKSB7XG4gIGlmICh0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gdXNlIG5hdGl2ZSBnZXRBbGxcbiAgICBvYmplY3RTdG9yZS5nZXRBbGwoa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uU3VjY2VzcztcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZmFsbCBiYWNrIHRvIGN1cnNvcnNcbiAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIG9uQ3Vyc29yKGUpIHtcbiAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChjdXJzb3IpIHtcbiAgICAgIHZhbHVlcy5wdXNoKGN1cnNvci52YWx1ZSk7XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25TdWNjZXNzKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgcmVzdWx0OiB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSkub25zdWNjZXNzID0gb25DdXJzb3I7XG59XG5cbmZ1bmN0aW9uIGFsbERvY3NLZXlzKGtleXMsIGRvY1N0b3JlLCBvbkJhdGNoKSB7XG4gIC8vIEl0J3Mgbm90IGd1YXJhbnRlZCB0byBiZSByZXR1cm5lZCBpbiByaWdodCBvcmRlciAgXG4gIHZhciB2YWx1ZXNCYXRjaCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gIHZhciBjb3VudCA9IDA7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgIGRvY1N0b3JlLmdldChrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5yZXN1bHQpIHtcbiAgICAgICAgdmFsdWVzQmF0Y2hbaW5kZXhdID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlc0JhdGNoW2luZGV4XSA9IHtrZXk6IGtleSwgZXJyb3I6ICdub3RfZm91bmQnfTtcbiAgICAgIH1cbiAgICAgIGNvdW50Kys7XG4gICAgICBpZiAoY291bnQgPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICAgIG9uQmF0Y2goa2V5cywgdmFsdWVzQmF0Y2gsIHt9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlS2V5UmFuZ2Uoc3RhcnQsIGVuZCwgaW5jbHVzaXZlRW5kLCBrZXksIGRlc2NlbmRpbmcpIHtcbiAgdHJ5IHtcbiAgICBpZiAoc3RhcnQgJiYgZW5kKSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UuYm91bmQoZW5kLCBzdGFydCwgIWluY2x1c2l2ZUVuZCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQsIGZhbHNlLCAhaW5jbHVzaXZlRW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UudXBwZXJCb3VuZChzdGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChzdGFydCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbmQpIHtcbiAgICAgIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5sb3dlckJvdW5kKGVuZCwgIWluY2x1c2l2ZUVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UudXBwZXJCb3VuZChlbmQsICFpbmNsdXNpdmVFbmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoa2V5KSB7XG4gICAgICByZXR1cm4gSURCS2V5UmFuZ2Uub25seShrZXkpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBpZGJBbGxEb2NzKG9wdHMsIGlkYiwgY2FsbGJhY2spIHtcbiAgdmFyIHN0YXJ0ID0gJ3N0YXJ0a2V5JyBpbiBvcHRzID8gb3B0cy5zdGFydGtleSA6IGZhbHNlO1xuICB2YXIgZW5kID0gJ2VuZGtleScgaW4gb3B0cyA/IG9wdHMuZW5ka2V5IDogZmFsc2U7XG4gIHZhciBrZXkgPSAna2V5JyBpbiBvcHRzID8gb3B0cy5rZXkgOiBmYWxzZTtcbiAgdmFyIGtleXMgPSAna2V5cycgaW4gb3B0cyA/IG9wdHMua2V5cyA6IGZhbHNlOyBcbiAgdmFyIHNraXAgPSBvcHRzLnNraXAgfHwgMDtcbiAgdmFyIGxpbWl0ID0gdHlwZW9mIG9wdHMubGltaXQgPT09ICdudW1iZXInID8gb3B0cy5saW1pdCA6IC0xO1xuICB2YXIgaW5jbHVzaXZlRW5kID0gb3B0cy5pbmNsdXNpdmVfZW5kICE9PSBmYWxzZTtcblxuICB2YXIga2V5UmFuZ2UgOyBcbiAgdmFyIGtleVJhbmdlRXJyb3I7XG4gIGlmICgha2V5cykge1xuICAgIGtleVJhbmdlID0gY3JlYXRlS2V5UmFuZ2Uoc3RhcnQsIGVuZCwgaW5jbHVzaXZlRW5kLCBrZXksIG9wdHMuZGVzY2VuZGluZyk7XG4gICAga2V5UmFuZ2VFcnJvciA9IGtleVJhbmdlICYmIGtleVJhbmdlLmVycm9yO1xuICAgIGlmIChrZXlSYW5nZUVycm9yICYmIFxuICAgICAgIShrZXlSYW5nZUVycm9yLm5hbWUgPT09IFwiRGF0YUVycm9yXCIgJiYga2V5UmFuZ2VFcnJvci5jb2RlID09PSAwKSkge1xuICAgICAgLy8gRGF0YUVycm9yIHdpdGggZXJyb3IgY29kZSAwIGluZGljYXRlcyBzdGFydCBpcyBsZXNzIHRoYW4gZW5kLCBzb1xuICAgICAgLy8gY2FuIGp1c3QgZG8gYW4gZW1wdHkgcXVlcnkuIEVsc2UgbmVlZCB0byB0aHJvd1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUixcbiAgICAgICAga2V5UmFuZ2VFcnJvci5uYW1lLCBrZXlSYW5nZUVycm9yLm1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgc3RvcmVzID0gW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFLCBNRVRBX1NUT1JFXTtcblxuICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgIHN0b3Jlcy5wdXNoKEFUVEFDSF9TVE9SRSk7XG4gIH1cbiAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWRvbmx5Jyk7XG4gIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgfVxuICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgdHhuLm9uY29tcGxldGUgPSBvblR4bkNvbXBsZXRlO1xuICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICB2YXIgbWV0YVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpO1xuICB2YXIgZG9jSWRSZXZJbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgZG9jQ291bnQ7XG4gIHZhciB1cGRhdGVTZXE7XG5cbiAgbWV0YVN0b3JlLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIGRvY0NvdW50ID0gZS50YXJnZXQucmVzdWx0LmRvY0NvdW50O1xuICB9O1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgZ2V0TWF4VXBkYXRlU2VxKHNlcVN0b3JlLCBmdW5jdGlvbiAoZSkgeyBcbiAgICAgIGlmIChlLnRhcmdldC5yZXN1bHQgJiYgZS50YXJnZXQucmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXBkYXRlU2VxID0gZS50YXJnZXQucmVzdWx0WzBdO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWF4VXBkYXRlU2VxKG9iamVjdFN0b3JlLCBvblN1Y2Nlc3MpIHtcbiAgICBmdW5jdGlvbiBvbkN1cnNvcihlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgdmFyIG1heEtleSA9IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjdXJzb3IgJiYgY3Vyc29yLmtleSkge1xuICAgICAgICBtYXhLZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgfSBcbiAgICAgIHJldHVybiBvblN1Y2Nlc3Moe1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICByZXN1bHQ6IFttYXhLZXldXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKG51bGwsICdwcmV2Jykub25zdWNjZXNzID0gb25DdXJzb3I7XG4gIH1cblxuICAvLyBpZiB0aGUgdXNlciBzcGVjaWZpZXMgaW5jbHVkZV9kb2NzPXRydWUsIHRoZW4gd2UgZG9uJ3RcbiAgLy8gd2FudCB0byBibG9jayB0aGUgbWFpbiBjdXJzb3Igd2hpbGUgd2UncmUgZmV0Y2hpbmcgdGhlIGRvY1xuICBmdW5jdGlvbiBmZXRjaERvY0FzeW5jaHJvbm91c2x5KG1ldGFkYXRhLCByb3csIHdpbm5pbmdSZXYkJDEpIHtcbiAgICB2YXIga2V5ID0gbWV0YWRhdGEuaWQgKyBcIjo6XCIgKyB3aW5uaW5nUmV2JCQxO1xuICAgIGRvY0lkUmV2SW5kZXguZ2V0KGtleSkub25zdWNjZXNzID0gIGZ1bmN0aW9uIG9uR2V0RG9jKGUpIHtcbiAgICAgIHJvdy5kb2MgPSBkZWNvZGVEb2MoZS50YXJnZXQucmVzdWx0KSB8fCB7fTtcbiAgICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgICB2YXIgY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICAgICAgcm93LmRvYy5fY29uZmxpY3RzID0gY29uZmxpY3RzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3Nhcnkocm93LmRvYywgb3B0cywgdHhuKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYWxsRG9jc0lubmVyKHdpbm5pbmdSZXYkJDEsIG1ldGFkYXRhKSB7XG4gICAgdmFyIHJvdyA9IHtcbiAgICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICAgIGtleTogbWV0YWRhdGEuaWQsXG4gICAgICB2YWx1ZToge1xuICAgICAgICByZXY6IHdpbm5pbmdSZXYkJDFcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBkZWxldGVkID0gbWV0YWRhdGEuZGVsZXRlZDtcbiAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgaWYgKGtleXMpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHJvdyk7XG4gICAgICAgIC8vIGRlbGV0ZWQgZG9jcyBhcmUgb2theSB3aXRoIFwia2V5c1wiIHJlcXVlc3RzXG4gICAgICAgIHJvdy52YWx1ZS5kZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgcm93LmRvYyA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChza2lwLS0gPD0gMCkge1xuICAgICAgcmVzdWx0cy5wdXNoKHJvdyk7XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgZmV0Y2hEb2NBc3luY2hyb25vdXNseShtZXRhZGF0YSwgcm93LCB3aW5uaW5nUmV2JCQxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQmF0Y2goYmF0Y2hWYWx1ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYmF0Y2hWYWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gbGltaXQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2YXIgYmF0Y2hWYWx1ZSA9IGJhdGNoVmFsdWVzW2ldO1xuICAgICAgaWYgKGJhdGNoVmFsdWUuZXJyb3IgJiYga2V5cykge1xuICAgICAgICAvLyBrZXkgd2FzIG5vdCBmb3VuZCB3aXRoIFwia2V5c1wiIHJlcXVlc3RzXG4gICAgICAgIHJlc3VsdHMucHVzaChiYXRjaFZhbHVlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShiYXRjaFZhbHVlKTtcbiAgICAgIHZhciB3aW5uaW5nUmV2JCQxID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgIGFsbERvY3NJbm5lcih3aW5uaW5nUmV2JCQxLCBtZXRhZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25CYXRjaChiYXRjaEtleXMsIGJhdGNoVmFsdWVzLCBjdXJzb3IpIHtcbiAgICBpZiAoIWN1cnNvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm9jZXNzQmF0Y2goYmF0Y2hWYWx1ZXMpO1xuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA8IGxpbWl0KSB7XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldEFsbChlKSB7XG4gICAgdmFyIHZhbHVlcyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICB2YWx1ZXMgPSB2YWx1ZXMucmV2ZXJzZSgpO1xuICAgIH1cbiAgICBwcm9jZXNzQmF0Y2godmFsdWVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmVzdWx0c1JlYWR5KCkge1xuICAgIHZhciByZXR1cm5WYWwgPSB7XG4gICAgICB0b3RhbF9yb3dzOiBkb2NDb3VudCxcbiAgICAgIG9mZnNldDogb3B0cy5za2lwLFxuICAgICAgcm93czogcmVzdWx0c1xuICAgIH07XG4gICAgXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSAmJiB1cGRhdGVTZXEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuVmFsLnVwZGF0ZV9zZXEgPSB1cGRhdGVTZXE7XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHJldHVyblZhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBvblR4bkNvbXBsZXRlKCkge1xuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMsIG9wdHMuYmluYXJ5KS50aGVuKG9uUmVzdWx0c1JlYWR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25SZXN1bHRzUmVhZHkoKTtcbiAgICB9XG4gIH1cblxuICAvLyBkb24ndCBib3RoZXIgZG9pbmcgYW55IHJlcXVlc3RzIGlmIHN0YXJ0ID4gZW5kIG9yIGxpbWl0ID09PSAwXG4gIGlmIChrZXlSYW5nZUVycm9yIHx8IGxpbWl0ID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChrZXlzKSB7XG4gICAgcmV0dXJuIGFsbERvY3NLZXlzKG9wdHMua2V5cywgZG9jU3RvcmUsIG9uQmF0Y2gpO1xuICB9XG4gIGlmIChsaW1pdCA9PT0gLTEpIHsgLy8ganVzdCBmZXRjaCBldmVyeXRoaW5nXG4gICAgcmV0dXJuIGdldEFsbChkb2NTdG9yZSwga2V5UmFuZ2UsIG9uR2V0QWxsKTtcbiAgfVxuICAvLyBlbHNlIGRvIGEgY3Vyc29yXG4gIC8vIGNob29zZSBhIGJhdGNoIHNpemUgYmFzZWQgb24gdGhlIHNraXAsIHNpbmNlIHdlJ2xsIG5lZWQgdG8gc2tpcCB0aGF0IG1hbnlcbiAgcnVuQmF0Y2hlZEN1cnNvcihkb2NTdG9yZSwga2V5UmFuZ2UsIG9wdHMuZGVzY2VuZGluZywgbGltaXQgKyBza2lwLCBvbkJhdGNoKTtcbn1cblxuLy9cbi8vIEJsb2JzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGFsbCB2ZXJzaW9ucyBvZiBJbmRleGVkREIsIG5vdGFibHlcbi8vIENocm9tZSA8MzcgYW5kIEFuZHJvaWQgPDUuIEluIHRob3NlIHZlcnNpb25zLCBzdG9yaW5nIGEgYmxvYiB3aWxsIHRocm93LlxuLy9cbi8vIFZhcmlvdXMgb3RoZXIgYmxvYiBidWdzIGV4aXN0IGluIENocm9tZSB2MzctNDIgKGluY2x1c2l2ZSkuXG4vLyBEZXRlY3RpbmcgdGhlbSBpcyBleHBlbnNpdmUgYW5kIGNvbmZ1c2luZyB0byB1c2VycywgYW5kIENocm9tZSAzNy00MlxuLy8gaXMgYXQgdmVyeSBsb3cgdXNhZ2Ugd29ybGR3aWRlLCBzbyB3ZSBkbyBhIGhhY2t5IHVzZXJBZ2VudCBjaGVjayBpbnN0ZWFkLlxuLy9cbi8vIGNvbnRlbnQtdHlwZSBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00MDgxMjBcbi8vIDQwNCBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc5MTZcbi8vIEZpbGVSZWFkZXIgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3ODM2XG4vL1xuZnVuY3Rpb24gY2hlY2tCbG9iU3VwcG9ydCh0eG4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgdmFyIGJsb2IkJDEgPSBjcmVhdGVCbG9iKFsnJ10pO1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSkucHV0KGJsb2IkJDEsICdrZXknKTtcblxuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbWF0Y2hlZENocm9tZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuICAgICAgdmFyIG1hdGNoZWRFZGdlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLy8pO1xuICAgICAgLy8gTVMgRWRnZSBwcmV0ZW5kcyB0byBiZSBDaHJvbWUgNDI6XG4gICAgICAvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2hoODY5MzAxJTI4dj12cy44NSUyOS5hc3B4XG4gICAgICByZXNvbHZlKG1hdGNoZWRFZGdlIHx8ICFtYXRjaGVkQ2hyb21lIHx8XG4gICAgICAgIHBhcnNlSW50KG1hdGNoZWRDaHJvbWVbMV0sIDEwKSA+PSA0Myk7XG4gICAgfTtcblxuICAgIHJlcS5vbmVycm9yID0gdHhuLm9uYWJvcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gSWYgdGhlIHRyYW5zYWN0aW9uIGFib3J0cyBub3cgaXRzIGR1ZSB0byBub3QgYmVpbmcgYWJsZSB0b1xuICAgICAgLy8gd3JpdGUgdG8gdGhlIGRhdGFiYXNlLCBsaWtlbHkgZHVlIHRvIHRoZSBkaXNrIGJlaW5nIGZ1bGxcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICB9O1xuICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBlcnJvciwgc28gYXNzdW1lIHVuc3VwcG9ydGVkXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb3VudERvY3ModHhuLCBjYikge1xuICB2YXIgaW5kZXggPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5pbmRleCgnZGVsZXRlZE9yTG9jYWwnKTtcbiAgaW5kZXguY291bnQoSURCS2V5UmFuZ2Uub25seSgnMCcpKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIGNiKGUudGFyZ2V0LnJlc3VsdCk7XG4gIH07XG59XG5cbi8vIFRoaXMgdGFzayBxdWV1ZSBlbnN1cmVzIHRoYXQgSURCIG9wZW4gY2FsbHMgYXJlIGRvbmUgaW4gdGhlaXIgb3duIHRpY2tcblxudmFyIHJ1bm5pbmcgPSBmYWxzZTtcbnZhciBxdWV1ZSA9IFtdO1xuXG5mdW5jdGlvbiB0cnlDb2RlKGZ1biwgZXJyLCByZXMsIFBvdWNoREIpIHtcbiAgdHJ5IHtcbiAgICBmdW4oZXJyLCByZXMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBTaG91bGRuJ3QgaGFwcGVuLCBidXQgaW4gc29tZSBvZGQgY2FzZXNcbiAgICAvLyBJbmRleGVkREIgaW1wbGVtZW50YXRpb25zIG1pZ2h0IHRocm93IGEgc3luY1xuICAgIC8vIGVycm9yLCBpbiB3aGljaCBjYXNlIHRoaXMgd2lsbCBhdCBsZWFzdCBsb2cgaXQuXG4gICAgUG91Y2hEQi5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlOZXh0KCkge1xuICBpZiAocnVubmluZyB8fCAhcXVldWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJ1bm5pbmcgPSB0cnVlO1xuICBxdWV1ZS5zaGlmdCgpKCk7XG59XG5cbmZ1bmN0aW9uIGVucXVldWVUYXNrKGFjdGlvbiwgY2FsbGJhY2ssIFBvdWNoREIpIHtcbiAgcXVldWUucHVzaChmdW5jdGlvbiBydW5BY3Rpb24oKSB7XG4gICAgYWN0aW9uKGZ1bmN0aW9uIHJ1bkNhbGxiYWNrKGVyciwgcmVzKSB7XG4gICAgICB0cnlDb2RlKGNhbGxiYWNrLCBlcnIsIHJlcywgUG91Y2hEQik7XG4gICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gcnVuTmV4dCgpIHtcbiAgICAgICAgYXBwbHlOZXh0KFBvdWNoREIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBhcHBseU5leHQoKTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlcyhvcHRzLCBhcGksIGRiTmFtZSwgaWRiKSB7XG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICBpZiAob3B0cy5jb250aW51b3VzKSB7XG4gICAgdmFyIGlkID0gZGJOYW1lICsgJzonICsgdXVpZCgpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmFkZExpc3RlbmVyKGRiTmFtZSwgaWQsIGFwaSwgb3B0cyk7XG4gICAgY2hhbmdlc0hhbmRsZXIubm90aWZ5KGRiTmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFuZ2VzSGFuZGxlci5yZW1vdmVMaXN0ZW5lcihkYk5hbWUsIGlkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGRvY0lkcyA9IG9wdHMuZG9jX2lkcyAmJiBuZXcgRXhwb3J0ZWRTZXQob3B0cy5kb2NfaWRzKTtcblxuICBvcHRzLnNpbmNlID0gb3B0cy5zaW5jZSB8fCAwO1xuICB2YXIgbGFzdFNlcSA9IG9wdHMuc2luY2U7XG5cbiAgdmFyIGxpbWl0ID0gJ2xpbWl0JyBpbiBvcHRzID8gb3B0cy5saW1pdCA6IC0xO1xuICBpZiAobGltaXQgPT09IDApIHtcbiAgICBsaW1pdCA9IDE7IC8vIHBlciBDb3VjaERCIF9jaGFuZ2VzIHNwZWNcbiAgfVxuXG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciBudW1SZXN1bHRzID0gMDtcbiAgdmFyIGZpbHRlciA9IGZpbHRlckNoYW5nZShvcHRzKTtcbiAgdmFyIGRvY0lkc1RvTWV0YWRhdGEgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICB2YXIgdHhuO1xuICB2YXIgYnlTZXFTdG9yZTtcbiAgdmFyIGRvY1N0b3JlO1xuICB2YXIgZG9jSWRSZXZJbmRleDtcblxuICBmdW5jdGlvbiBvbkJhdGNoKGJhdGNoS2V5cywgYmF0Y2hWYWx1ZXMsIGN1cnNvcikge1xuICAgIGlmICghY3Vyc29yIHx8ICFiYXRjaEtleXMubGVuZ3RoKSB7IC8vIGRvbmVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2lubmluZ0RvY3MgPSBuZXcgQXJyYXkoYmF0Y2hLZXlzLmxlbmd0aCk7XG4gICAgdmFyIG1ldGFkYXRhcyA9IG5ldyBBcnJheShiYXRjaEtleXMubGVuZ3RoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MobWV0YWRhdGEsIHdpbm5pbmdEb2MpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBvcHRzLnByb2Nlc3NDaGFuZ2Uod2lubmluZ0RvYywgbWV0YWRhdGEsIG9wdHMpO1xuICAgICAgbGFzdFNlcSA9IGNoYW5nZS5zZXEgPSBtZXRhZGF0YS5zZXE7XG5cbiAgICAgIHZhciBmaWx0ZXJlZCA9IGZpbHRlcihjaGFuZ2UpO1xuICAgICAgaWYgKHR5cGVvZiBmaWx0ZXJlZCA9PT0gJ29iamVjdCcpIHsgLy8gYW55dGhpbmcgYnV0IHRydWUvZmFsc2UgaW5kaWNhdGVzIGVycm9yXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChmaWx0ZXJlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZmlsdGVyZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgbnVtUmVzdWx0cysrO1xuICAgICAgaWYgKG9wdHMucmV0dXJuX2RvY3MpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGNoYW5nZSk7XG4gICAgICB9XG4gICAgICAvLyBwcm9jZXNzIHRoZSBhdHRhY2htZW50IGltbWVkaWF0ZWx5XG4gICAgICAvLyBmb3IgdGhlIGJlbmVmaXQgb2YgbGl2ZSBsaXN0ZW5lcnNcbiAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIGZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeSh3aW5uaW5nRG9jLCBvcHRzLCB0eG4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBvc3RQcm9jZXNzQXR0YWNobWVudHMoW2NoYW5nZV0sIG9wdHMuYmluYXJ5KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShjaGFuZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjaGFuZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQmF0Y2hEb25lKCkge1xuICAgICAgdmFyIHByb21pc2VzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gd2lubmluZ0RvY3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKG51bVJlc3VsdHMgPT09IGxpbWl0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpbm5pbmdEb2MgPSB3aW5uaW5nRG9jc1tpXTtcbiAgICAgICAgaWYgKCF3aW5uaW5nRG9jKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1ldGFkYXRhID0gbWV0YWRhdGFzW2ldO1xuICAgICAgICBwcm9taXNlcy5wdXNoKHByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MobWV0YWRhdGEsIHdpbm5pbmdEb2MpKTtcbiAgICAgIH1cblxuICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAoY2hhbmdlc1tpXSkge1xuICAgICAgICAgICAgb3B0cy5vbkNoYW5nZShjaGFuZ2VzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKG9wdHMuY29tcGxldGUpO1xuXG4gICAgICBpZiAobnVtUmVzdWx0cyAhPT0gbGltaXQpIHtcbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggYWxsIG1ldGFkYXRhcy93aW5uaW5nZG9jcyBmcm9tIHRoaXMgYmF0Y2ggaW4gcGFyYWxsZWwsIHRoZW4gcHJvY2Vzc1xuICAgIC8vIHRoZW0gYWxsIG9ubHkgb25jZSBhbGwgZGF0YSBoYXMgYmVlbiBjb2xsZWN0ZWQuIFRoaXMgaXMgZG9uZSBpbiBwYXJhbGxlbFxuICAgIC8vIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiBkb2luZyBpdCBvbmUtYXQtYS10aW1lLlxuICAgIHZhciBudW1Eb25lID0gMDtcbiAgICBiYXRjaFZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuICAgICAgdmFyIGRvYyA9IGRlY29kZURvYyh2YWx1ZSk7XG4gICAgICB2YXIgc2VxID0gYmF0Y2hLZXlzW2ldO1xuICAgICAgZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEoZG9jLCBzZXEsIGZ1bmN0aW9uIChtZXRhZGF0YSwgd2lubmluZ0RvYykge1xuICAgICAgICBtZXRhZGF0YXNbaV0gPSBtZXRhZGF0YTtcbiAgICAgICAgd2lubmluZ0RvY3NbaV0gPSB3aW5uaW5nRG9jO1xuICAgICAgICBpZiAoKytudW1Eb25lID09PSBiYXRjaEtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgb25CYXRjaERvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldE1ldGFkYXRhKGRvYywgc2VxLCBtZXRhZGF0YSwgY2IpIHtcbiAgICBpZiAobWV0YWRhdGEuc2VxICE9PSBzZXEpIHtcbiAgICAgIC8vIHNvbWUgb3RoZXIgc2VxIGlzIGxhdGVyXG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG5cbiAgICBpZiAobWV0YWRhdGEud2lubmluZ1JldiA9PT0gZG9jLl9yZXYpIHtcbiAgICAgIC8vIHRoaXMgaXMgdGhlIHdpbm5pbmcgZG9jXG4gICAgICByZXR1cm4gY2IobWV0YWRhdGEsIGRvYyk7XG4gICAgfVxuXG4gICAgLy8gZmV0Y2ggd2lubmluZyBkb2MgaW4gc2VwYXJhdGUgcmVxdWVzdFxuICAgIHZhciBkb2NJZFJldiA9IGRvYy5faWQgKyAnOjonICsgbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICB2YXIgcmVxID0gZG9jSWRSZXZJbmRleC5nZXQoZG9jSWRSZXYpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgY2IobWV0YWRhdGEsIGRlY29kZURvYyhlLnRhcmdldC5yZXN1bHQpKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEoZG9jLCBzZXEsIGNiKSB7XG4gICAgaWYgKGRvY0lkcyAmJiAhZG9jSWRzLmhhcyhkb2MuX2lkKSkge1xuICAgICAgcmV0dXJuIGNiKCk7XG4gICAgfVxuXG4gICAgdmFyIG1ldGFkYXRhID0gZG9jSWRzVG9NZXRhZGF0YS5nZXQoZG9jLl9pZCk7XG4gICAgaWYgKG1ldGFkYXRhKSB7IC8vIGNhY2hlZFxuICAgICAgcmV0dXJuIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYik7XG4gICAgfVxuICAgIC8vIG1ldGFkYXRhIG5vdCBjYWNoZWQsIGhhdmUgdG8gZ28gZmV0Y2ggaXRcbiAgICBkb2NTdG9yZS5nZXQoZG9jLl9pZCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgIGRvY0lkc1RvTWV0YWRhdGEuc2V0KGRvYy5faWQsIG1ldGFkYXRhKTtcbiAgICAgIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHtcbiAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICBsYXN0X3NlcTogbGFzdFNlcVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UeG5Db21wbGV0ZSgpIHtcbiAgICBpZiAoIW9wdHMuY29udGludW91cyAmJiBvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAvLyBjYW5ub3QgZ3VhcmFudGVlIHRoYXQgcG9zdFByb2Nlc3Npbmcgd2FzIGFscmVhZHkgZG9uZSxcbiAgICAgIC8vIHNvIGRvIGl0IGFnYWluXG4gICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMpLnRoZW4oZmluaXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmluaXNoKCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG9iamVjdFN0b3JlcyA9IFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRV07XG4gIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgb2JqZWN0U3RvcmVzLnB1c2goQVRUQUNIX1NUT1JFKTtcbiAgfVxuICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgb2JqZWN0U3RvcmVzLCAncmVhZG9ubHknKTtcbiAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgIHJldHVybiBvcHRzLmNvbXBsZXRlKHR4blJlc3VsdC5lcnJvcik7XG4gIH1cbiAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihvcHRzLmNvbXBsZXRlKTtcbiAgdHhuLm9uY29tcGxldGUgPSBvblR4bkNvbXBsZXRlO1xuXG4gIGJ5U2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgZG9jSWRSZXZJbmRleCA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG5cbiAgdmFyIGtleVJhbmdlID0gKG9wdHMuc2luY2UgJiYgIW9wdHMuZGVzY2VuZGluZykgP1xuICAgIElEQktleVJhbmdlLmxvd2VyQm91bmQob3B0cy5zaW5jZSwgdHJ1ZSkgOiBudWxsO1xuXG4gIHJ1bkJhdGNoZWRDdXJzb3IoYnlTZXFTdG9yZSwga2V5UmFuZ2UsIG9wdHMuZGVzY2VuZGluZywgbGltaXQsIG9uQmF0Y2gpO1xufVxuXG52YXIgY2FjaGVkREJzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG52YXIgYmxvYlN1cHBvcnRQcm9taXNlO1xudmFyIG9wZW5SZXFMaXN0ID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbmZ1bmN0aW9uIElkYlBvdWNoKG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBhcGkgPSB0aGlzO1xuXG4gIGVucXVldWVUYXNrKGZ1bmN0aW9uICh0aGlzQ2FsbGJhY2spIHtcbiAgICBpbml0KGFwaSwgb3B0cywgdGhpc0NhbGxiYWNrKTtcbiAgfSwgY2FsbGJhY2ssIGFwaS5jb25zdHJ1Y3Rvcik7XG59XG5cbmZ1bmN0aW9uIGluaXQoYXBpLCBvcHRzLCBjYWxsYmFjaykge1xuXG4gIHZhciBkYk5hbWUgPSBvcHRzLm5hbWU7XG5cbiAgdmFyIGlkYiA9IG51bGw7XG4gIHZhciBpZGJHbG9iYWxGYWlsdXJlRXJyb3IgPSBudWxsO1xuICBhcGkuX21ldGEgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCByZXN1bHQpIHtcbiAgICAgIGlmIChlcnJvciAmJiBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICFlcnJvci5yZWFzb24pIHtcbiAgICAgICAgaWYgKGlkYkdsb2JhbEZhaWx1cmVFcnJvcikge1xuICAgICAgICAgIGVycm9yLnJlYXNvbiA9IGlkYkdsb2JhbEZhaWx1cmVFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayhlcnJvciwgcmVzdWx0KTtcbiAgICB9O1xuICB9XG5cbiAgLy8gY2FsbGVkIHdoZW4gY3JlYXRpbmcgYSBmcmVzaCBuZXcgZGF0YWJhc2VcbiAgZnVuY3Rpb24gY3JlYXRlU2NoZW1hKGRiKSB7XG4gICAgdmFyIGRvY1N0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoRE9DX1NUT1JFLCB7a2V5UGF0aCA6ICdpZCd9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShCWV9TRVFfU1RPUkUsIHthdXRvSW5jcmVtZW50OiB0cnVlfSlcbiAgICAgIC5jcmVhdGVJbmRleCgnX2RvY19pZF9yZXYnLCAnX2RvY19pZF9yZXYnLCB7dW5pcXVlOiB0cnVlfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFLCB7a2V5UGF0aDogJ2RpZ2VzdCd9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShNRVRBX1NUT1JFLCB7a2V5UGF0aDogJ2lkJywgYXV0b0luY3JlbWVudDogZmFsc2V9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFKTtcblxuICAgIC8vIGFkZGVkIGluIHYyXG4gICAgZG9jU3RvcmUuY3JlYXRlSW5kZXgoJ2RlbGV0ZWRPckxvY2FsJywgJ2RlbGV0ZWRPckxvY2FsJywge3VuaXF1ZSA6IGZhbHNlfSk7XG5cbiAgICAvLyBhZGRlZCBpbiB2M1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKExPQ0FMX1NUT1JFLCB7a2V5UGF0aDogJ19pZCd9KTtcblxuICAgIC8vIGFkZGVkIGluIHY0XG4gICAgdmFyIGF0dEFuZFNlcVN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICB7YXV0b0luY3JlbWVudDogdHJ1ZX0pO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdzZXEnLCAnc2VxJyk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ2RpZ2VzdFNlcScsICdkaWdlc3RTZXEnLCB7dW5pcXVlOiB0cnVlfSk7XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiAyXG4gIC8vIHVuZm9ydHVuYXRlbHkgXCJkZWxldGVkT3JMb2NhbFwiIGlzIGEgbWlzbm9tZXIgbm93IHRoYXQgd2Ugbm8gbG9uZ2VyXG4gIC8vIHN0b3JlIGxvY2FsIGRvY3MgaW4gdGhlIG1haW4gZG9jLXN0b3JlLCBidXQgd2hhZGR5YWdvbm5hZG9cbiAgZnVuY3Rpb24gYWRkRGVsZXRlZE9yTG9jYWxJbmRleCh0eG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgZG9jU3RvcmUuY3JlYXRlSW5kZXgoJ2RlbGV0ZWRPckxvY2FsJywgJ2RlbGV0ZWRPckxvY2FsJywge3VuaXF1ZSA6IGZhbHNlfSk7XG5cbiAgICBkb2NTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgZGVsZXRlZCA9IGlzRGVsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgIG1ldGFkYXRhLmRlbGV0ZWRPckxvY2FsID0gZGVsZXRlZCA/IFwiMVwiIDogXCIwXCI7XG4gICAgICAgIGRvY1N0b3JlLnB1dChtZXRhZGF0YSk7XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMyAocGFydCAxKVxuICBmdW5jdGlvbiBjcmVhdGVMb2NhbFN0b3JlU2NoZW1hKGRiKSB7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUsIHtrZXlQYXRoOiAnX2lkJ30pXG4gICAgICAuY3JlYXRlSW5kZXgoJ19kb2NfaWRfcmV2JywgJ19kb2NfaWRfcmV2Jywge3VuaXF1ZTogdHJ1ZX0pO1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMyAocGFydCAyKVxuICBmdW5jdGlvbiBtaWdyYXRlTG9jYWxTdG9yZSh0eG4sIGNiKSB7XG4gICAgdmFyIGxvY2FsU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpO1xuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuXG4gICAgdmFyIGN1cnNvciA9IGRvY1N0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgZG9jSWQgPSBtZXRhZGF0YS5pZDtcbiAgICAgICAgdmFyIGxvY2FsID0gaXNMb2NhbElkKGRvY0lkKTtcbiAgICAgICAgdmFyIHJldiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICAgICAgICBpZiAobG9jYWwpIHtcbiAgICAgICAgICB2YXIgZG9jSWRSZXYgPSBkb2NJZCArIFwiOjpcIiArIHJldjtcbiAgICAgICAgICAvLyByZW1vdmUgYWxsIHNlcSBlbnRyaWVzXG4gICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoaXMgZG9jSWRcbiAgICAgICAgICB2YXIgc3RhcnQgPSBkb2NJZCArIFwiOjpcIjtcbiAgICAgICAgICB2YXIgZW5kID0gZG9jSWQgKyBcIjo6flwiO1xuICAgICAgICAgIHZhciBpbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgICAgICAgIHZhciByYW5nZSA9IElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgdmFyIHNlcUN1cnNvciA9IGluZGV4Lm9wZW5DdXJzb3IocmFuZ2UpO1xuICAgICAgICAgIHNlcUN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgc2VxQ3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgaWYgKCFzZXFDdXJzb3IpIHtcbiAgICAgICAgICAgICAgLy8gZG9uZVxuICAgICAgICAgICAgICBkb2NTdG9yZS5kZWxldGUoY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBkYXRhID0gc2VxQ3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoZGF0YS5fZG9jX2lkX3JldiA9PT0gZG9jSWRSZXYpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JlLnB1dChkYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXFTdG9yZS5kZWxldGUoc2VxQ3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICBzZXFDdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDQgKHBhcnQgMSlcbiAgZnVuY3Rpb24gYWRkQXR0YWNoQW5kU2VxU3RvcmUoZGIpIHtcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSxcbiAgICAgIHthdXRvSW5jcmVtZW50OiB0cnVlfSk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ3NlcScsICdzZXEnKTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnZGlnZXN0U2VxJywgJ2RpZ2VzdFNlcScsIHt1bmlxdWU6IHRydWV9KTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDQgKHBhcnQgMilcbiAgZnVuY3Rpb24gbWlncmF0ZUF0dHNBbmRTZXFzKHR4biwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICB2YXIgYXR0U3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKTtcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuXG4gICAgLy8gbmVlZCB0byBhY3R1YWxseSBwb3B1bGF0ZSB0aGUgdGFibGUuIHRoaXMgaXMgdGhlIGV4cGVuc2l2ZSBwYXJ0LFxuICAgIC8vIHNvIGFzIGFuIG9wdGltaXphdGlvbiwgY2hlY2sgZmlyc3QgdGhhdCB0aGlzIGRhdGFiYXNlIGV2ZW5cbiAgICAvLyBjb250YWlucyBhdHRhY2htZW50c1xuICAgIHZhciByZXEgPSBhdHRTdG9yZS5jb3VudCgpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGNvdW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gZG9uZVxuICAgICAgfVxuXG4gICAgICBzZXFTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gZG9uZVxuICAgICAgICB9XG4gICAgICAgIHZhciBkb2MgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIHZhciBzZXEgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgdmFyIGF0dHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzIHx8IHt9KTtcbiAgICAgICAgdmFyIGRpZ2VzdE1hcCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGF0dHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgYXR0ID0gZG9jLl9hdHRhY2htZW50c1thdHRzW2pdXTtcbiAgICAgICAgICBkaWdlc3RNYXBbYXR0LmRpZ2VzdF0gPSB0cnVlOyAvLyB1bmlxIGRpZ2VzdHMsIGp1c3QgaW4gY2FzZVxuICAgICAgICB9XG4gICAgICAgIHZhciBkaWdlc3RzID0gT2JqZWN0LmtleXMoZGlnZXN0TWFwKTtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGRpZ2VzdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgZGlnZXN0ID0gZGlnZXN0c1tqXTtcbiAgICAgICAgICBhdHRBbmRTZXFTdG9yZS5wdXQoe1xuICAgICAgICAgICAgc2VxOiBzZXEsXG4gICAgICAgICAgICBkaWdlc3RTZXE6IGRpZ2VzdCArICc6OicgKyBzZXFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDVcbiAgLy8gSW5zdGVhZCBvZiByZWx5aW5nIG9uIG9uLXRoZS1mbHkgbWlncmF0aW9uIG9mIG1ldGFkYXRhLFxuICAvLyB0aGlzIGJyaW5ncyB0aGUgZG9jLXN0b3JlIHRvIGl0cyBtb2Rlcm4gZm9ybTpcbiAgLy8gLSBtZXRhZGF0YS53aW5uaW5ncmV2XG4gIC8vIC0gbWV0YWRhdGEuc2VxXG4gIC8vIC0gc3RyaW5naWZ5IHRoZSBtZXRhZGF0YSB3aGVuIHN0b3JpbmcgaXRcbiAgZnVuY3Rpb24gbWlncmF0ZU1ldGFkYXRhKHR4bikge1xuXG4gICAgZnVuY3Rpb24gZGVjb2RlTWV0YWRhdGFDb21wYXQoc3RvcmVkT2JqZWN0KSB7XG4gICAgICBpZiAoIXN0b3JlZE9iamVjdC5kYXRhKSB7XG4gICAgICAgIC8vIG9sZCBmb3JtYXQsIHdoZW4gd2UgZGlkbid0IHN0b3JlIGl0IHN0cmluZ2lmaWVkXG4gICAgICAgIHN0b3JlZE9iamVjdC5kZWxldGVkID0gc3RvcmVkT2JqZWN0LmRlbGV0ZWRPckxvY2FsID09PSAnMSc7XG4gICAgICAgIHJldHVybiBzdG9yZWRPYmplY3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVjb2RlTWV0YWRhdGEoc3RvcmVkT2JqZWN0KTtcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgdGhhdCBldmVyeSBtZXRhZGF0YSBoYXMgYSB3aW5uaW5nUmV2IGFuZCBzZXEsXG4gICAgLy8gd2hpY2ggd2FzIHByZXZpb3VzbHkgY3JlYXRlZCBvbi10aGUtZmx5IGJ1dCBiZXR0ZXIgdG8gbWlncmF0ZVxuICAgIHZhciBieVNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgdmFyIGN1cnNvciA9IGRvY1N0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICByZXR1cm47IC8vIGRvbmVcbiAgICAgIH1cbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhQ29tcGF0KGN1cnNvci52YWx1ZSk7XG5cbiAgICAgIG1ldGFkYXRhLndpbm5pbmdSZXYgPSBtZXRhZGF0YS53aW5uaW5nUmV2IHx8XG4gICAgICAgIHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuXG4gICAgICBmdW5jdGlvbiBmZXRjaE1ldGFkYXRhU2VxKCkge1xuICAgICAgICAvLyBtZXRhZGF0YS5zZXEgd2FzIGFkZGVkIHBvc3QtMy4yLjAsIHNvIGlmIGl0J3MgbWlzc2luZyxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBmZXRjaCBpdCBtYW51YWxseVxuICAgICAgICB2YXIgc3RhcnQgPSBtZXRhZGF0YS5pZCArICc6Oic7XG4gICAgICAgIHZhciBlbmQgPSBtZXRhZGF0YS5pZCArICc6OlxcdWZmZmYnO1xuICAgICAgICB2YXIgcmVxID0gYnlTZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKS5vcGVuQ3Vyc29yKFxuICAgICAgICAgIElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQpKTtcblxuICAgICAgICB2YXIgbWV0YWRhdGFTZXEgPSAwO1xuICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5zZXEgPSBtZXRhZGF0YVNlcTtcbiAgICAgICAgICAgIHJldHVybiBvbkdldE1ldGFkYXRhU2VxKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzZXEgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgICBpZiAoc2VxID4gbWV0YWRhdGFTZXEpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhU2VxID0gc2VxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25HZXRNZXRhZGF0YVNlcSgpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhVG9TdG9yZSA9IGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLFxuICAgICAgICAgIG1ldGFkYXRhLndpbm5pbmdSZXYsIG1ldGFkYXRhLmRlbGV0ZWQpO1xuXG4gICAgICAgIHZhciByZXEgPSBkb2NTdG9yZS5wdXQobWV0YWRhdGFUb1N0b3JlKTtcbiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1ldGFkYXRhLnNlcSkge1xuICAgICAgICByZXR1cm4gb25HZXRNZXRhZGF0YVNlcSgpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE1ldGFkYXRhU2VxKCk7XG4gICAgfTtcblxuICB9XG5cbiAgYXBpLl9yZW1vdGUgPSBmYWxzZTtcbiAgYXBpLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdpZGInO1xuICB9O1xuXG4gIGFwaS5faWQgPSB0b1Byb21pc2UoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sobnVsbCwgYXBpLl9tZXRhLmluc3RhbmNlSWQpO1xuICB9KTtcblxuICBhcGkuX2J1bGtEb2NzID0gZnVuY3Rpb24gaWRiX2J1bGtEb2NzKHJlcSwgcmVxT3B0cywgY2FsbGJhY2spIHtcbiAgICBpZGJCdWxrRG9jcyhvcHRzLCByZXEsIHJlcU9wdHMsIGFwaSwgaWRiLCBlbnJpY2hDYWxsYmFja0Vycm9yKGNhbGxiYWNrKSk7XG4gIH07XG5cbiAgLy8gRmlyc3Qgd2UgbG9vayB1cCB0aGUgbWV0YWRhdGEgaW4gdGhlIGlkcyBkYXRhYmFzZSwgdGhlbiB3ZSBmZXRjaCB0aGVcbiAgLy8gY3VycmVudCByZXZpc2lvbihzKSBmcm9tIHRoZSBieSBzZXF1ZW5jZSBzdG9yZVxuICBhcGkuX2dldCA9IGZ1bmN0aW9uIGlkYl9nZXQoaWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRvYztcbiAgICB2YXIgbWV0YWRhdGE7XG4gICAgdmFyIGVycjtcbiAgICB2YXIgdHhuID0gb3B0cy5jdHg7XG4gICAgaWYgKCF0eG4pIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLFxuICAgICAgICBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIEFUVEFDSF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluaXNoKCkge1xuICAgICAgY2FsbGJhY2soZXJyLCB7ZG9jOiBkb2MsIG1ldGFkYXRhOiBtZXRhZGF0YSwgY3R4OiB0eG59KTtcbiAgICB9XG5cbiAgICB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5nZXQoaWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAvLyB3ZSBjYW4gZGV0ZXJtaW5lIHRoZSByZXN1bHQgaGVyZSBpZjpcbiAgICAgIC8vIDEuIHRoZXJlIGlzIG5vIHN1Y2ggZG9jdW1lbnRcbiAgICAgIC8vIDIuIHRoZSBkb2N1bWVudCBpcyBkZWxldGVkIGFuZCB3ZSBkb24ndCBhc2sgYWJvdXQgc3BlY2lmaWMgcmV2XG4gICAgICAvLyBXaGVuIHdlIGFzayB3aXRoIG9wdHMucmV2IHdlIGV4cGVjdCB0aGUgYW5zd2VyIHRvIGJlIGVpdGhlclxuICAgICAgLy8gZG9jIChwb3NzaWJseSB3aXRoIF9kZWxldGVkPXRydWUpIG9yIG1pc3NpbmcgZXJyb3JcbiAgICAgIGlmICghbWV0YWRhdGEpIHtcbiAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdtaXNzaW5nJyk7XG4gICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldjtcbiAgICAgIGlmICghb3B0cy5yZXYpIHtcbiAgICAgICAgcmV2ID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgICAgdmFyIGRlbGV0ZWQgPSBpc0RlbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCBcImRlbGV0ZWRcIik7XG4gICAgICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXYgPSBvcHRzLmxhdGVzdCA/IGxhdGVzdChvcHRzLnJldiwgbWV0YWRhdGEpIDogb3B0cy5yZXY7XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmplY3RTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgICAgdmFyIGtleSA9IG1ldGFkYXRhLmlkICsgJzo6JyArIHJldjtcblxuICAgICAgb2JqZWN0U3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2JykuZ2V0KGtleSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgZG9jID0gZGVjb2RlRG9jKGRvYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgJ21pc3NpbmcnKTtcbiAgICAgICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoKCk7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG5cbiAgYXBpLl9nZXRBdHRhY2htZW50ID0gZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2hJZCwgYXR0YWNobWVudCwgb3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuO1xuICAgIGlmIChvcHRzLmN0eCkge1xuICAgICAgdHhuID0gb3B0cy5jdHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLFxuICAgICAgICBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIEFUVEFDSF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgfVxuICAgIHZhciBkaWdlc3QgPSBhdHRhY2htZW50LmRpZ2VzdDtcbiAgICB2YXIgdHlwZSA9IGF0dGFjaG1lbnQuY29udGVudF90eXBlO1xuXG4gICAgdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSkuZ2V0KGRpZ2VzdCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBib2R5ID0gZS50YXJnZXQucmVzdWx0LmJvZHk7XG4gICAgICByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgb3B0cy5iaW5hcnksIGZ1bmN0aW9uIChibG9iRGF0YSkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBibG9iRGF0YSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5faW5mbyA9IGZ1bmN0aW9uIGlkYl9pbmZvKGNhbGxiYWNrKSB7XG4gICAgdmFyIHVwZGF0ZVNlcTtcbiAgICB2YXIgZG9jQ291bnQ7XG5cbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW01FVEFfU1RPUkUsIEJZX1NFUV9TVE9SRV0sICdyZWFkb25seScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSkuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBkb2NDb3VudCA9IGUudGFyZ2V0LnJlc3VsdC5kb2NDb3VudDtcbiAgICB9O1xuICAgIHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpLm9wZW5DdXJzb3IobnVsbCwgJ3ByZXYnKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHVwZGF0ZVNlcSA9IGN1cnNvciA/IGN1cnNvci5rZXkgOiAwO1xuICAgIH07XG5cbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgZG9jX2NvdW50OiBkb2NDb3VudCxcbiAgICAgICAgdXBkYXRlX3NlcTogdXBkYXRlU2VxLFxuICAgICAgICAvLyBmb3IgZGVidWdnaW5nXG4gICAgICAgIGlkYl9hdHRhY2htZW50X2Zvcm1hdDogKGFwaS5fbWV0YS5ibG9iU3VwcG9ydCA/ICdiaW5hcnknIDogJ2Jhc2U2NCcpXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fYWxsRG9jcyA9IGZ1bmN0aW9uIGlkYl9hbGxEb2NzKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWRiQWxsRG9jcyhvcHRzLCBpZGIsIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spKTtcbiAgfTtcblxuICBhcGkuX2NoYW5nZXMgPSBmdW5jdGlvbiBpZGJDaGFuZ2VzKG9wdHMpIHtcbiAgICByZXR1cm4gY2hhbmdlcyhvcHRzLCBhcGksIGRiTmFtZSwgaWRiKTtcbiAgfTtcblxuICBhcGkuX2Nsb3NlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9JbmRleGVkREIvSURCRGF0YWJhc2UjY2xvc2VcbiAgICAvLyBcIlJldHVybnMgaW1tZWRpYXRlbHkgYW5kIGNsb3NlcyB0aGUgY29ubmVjdGlvbiBpbiBhIHNlcGFyYXRlIHRocmVhZC4uLlwiXG4gICAgaWRiLmNsb3NlKCk7XG4gICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgYXBpLl9nZXRSZXZpc2lvblRyZWUgPSBmdW5jdGlvbiAoZG9jSWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtET0NfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLmdldChkb2NJZCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGRvYyA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGRvYy5yZXZfdHJlZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBUaGlzIGZ1bmN0aW9uIHJlbW92ZXMgcmV2aXNpb25zIG9mIGRvY3VtZW50IGRvY0lkXG4gIC8vIHdoaWNoIGFyZSBsaXN0ZWQgaW4gcmV2cyBhbmQgc2V0cyB0aGlzIGRvY3VtZW50XG4gIC8vIHJldmlzaW9uIHRvIHRvIHJldl90cmVlXG4gIGFwaS5fZG9Db21wYWN0aW9uID0gZnVuY3Rpb24gKGRvY0lkLCByZXZzLCBjYWxsYmFjaykge1xuICAgIHZhciBzdG9yZXMgPSBbXG4gICAgICBET0NfU1RPUkUsXG4gICAgICBCWV9TRVFfU1RPUkUsXG4gICAgICBBVFRBQ0hfU1RPUkUsXG4gICAgICBBVFRBQ0hfQU5EX1NFUV9TVE9SRVxuICAgIF07XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWR3cml0ZScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcblxuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuXG4gICAgZG9jU3RvcmUuZ2V0KGRvY0lkKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgdHJhdmVyc2VSZXZUcmVlKG1ldGFkYXRhLnJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICAgICAgdmFyIHJldiA9IHBvcyArICctJyArIHJldkhhc2g7XG4gICAgICAgIGlmIChyZXZzLmluZGV4T2YocmV2KSAhPT0gLTEpIHtcbiAgICAgICAgICBvcHRzLnN0YXR1cyA9ICdtaXNzaW5nJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb21wYWN0UmV2cyhyZXZzLCBkb2NJZCwgdHhuKTtcbiAgICAgIHZhciB3aW5uaW5nUmV2JCQxID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgIHZhciBkZWxldGVkID0gbWV0YWRhdGEuZGVsZXRlZDtcbiAgICAgIHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLnB1dChcbiAgICAgICAgZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEsIGRlbGV0ZWQpKTtcbiAgICB9O1xuICAgIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9O1xuICB9O1xuXG5cbiAgYXBpLl9nZXRMb2NhbCA9IGZ1bmN0aW9uIChpZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgdmFyIHJlcSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKS5nZXQoaWQpO1xuXG4gICAgcmVxLm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgZG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSBkb2NbJ19kb2NfaWRfcmV2J107IC8vIGZvciBiYWNrd2FyZHMgY29tcGF0XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGRvYyk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX3B1dExvY2FsID0gZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgZGVsZXRlIGRvYy5fcmV2aXNpb25zOyAvLyBpZ25vcmUgdGhpcywgdHJ1c3QgdGhlIHJldlxuICAgIHZhciBvbGRSZXYgPSBkb2MuX3JldjtcbiAgICB2YXIgaWQgPSBkb2MuX2lkO1xuICAgIGlmICghb2xkUmV2KSB7XG4gICAgICBkb2MuX3JldiA9ICcwLTEnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX3JldiA9ICcwLScgKyAocGFyc2VJbnQob2xkUmV2LnNwbGl0KCctJylbMV0sIDEwKSArIDEpO1xuICAgIH1cblxuICAgIHZhciB0eCA9IG9wdHMuY3R4O1xuICAgIHZhciByZXQ7XG4gICAgaWYgKCF0eCkge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtMT0NBTF9TVE9SRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgICB0eC5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgICAgdHgub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIG9TdG9yZSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgcmVxO1xuICAgIGlmIChvbGRSZXYpIHtcbiAgICAgIHJlcSA9IG9TdG9yZS5nZXQoaWQpO1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBvbGREb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghb2xkRG9jIHx8IG9sZERvYy5fcmV2ICE9PSBvbGRSZXYpIHtcbiAgICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gdXBkYXRlXG4gICAgICAgICAgdmFyIHJlcSA9IG9TdG9yZS5wdXQoZG9jKTtcbiAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0ID0ge29rOiB0cnVlLCBpZDogZG9jLl9pZCwgcmV2OiBkb2MuX3Jldn07XG4gICAgICAgICAgICBpZiAob3B0cy5jdHgpIHsgLy8gcmV0dXJuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgeyAvLyBuZXcgZG9jXG4gICAgICByZXEgPSBvU3RvcmUuYWRkKGRvYyk7XG4gICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIGNvbnN0cmFpbnQgZXJyb3IsIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCkpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIGFib3J0XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgIH07XG4gICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBkb2MuX2lkLCByZXY6IGRvYy5fcmV2fTtcbiAgICAgICAgaWYgKG9wdHMuY3R4KSB7IC8vIHJldHVybiBpbW1lZGlhdGVseVxuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIGFwaS5fcmVtb3ZlTG9jYWwgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICB2YXIgdHggPSBvcHRzLmN0eDtcbiAgICBpZiAoIXR4KSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4ID0gdHhuUmVzdWx0LnR4bjtcbiAgICAgIHR4Lm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgcmV0O1xuICAgIHZhciBpZCA9IGRvYy5faWQ7XG4gICAgdmFyIG9TdG9yZSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgcmVxID0gb1N0b3JlLmdldChpZCk7XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBvbGREb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIW9sZERvYyB8fCBvbGREb2MuX3JldiAhPT0gZG9jLl9yZXYpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9TdG9yZS5kZWxldGUoaWQpO1xuICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBpZCwgcmV2OiAnMC0wJ307XG4gICAgICAgIGlmIChvcHRzLmN0eCkgeyAvLyByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBjaGFuZ2VzSGFuZGxlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZGJOYW1lKTtcblxuICAgIC8vQ2xvc2Ugb3BlbiByZXF1ZXN0IGZvciBcImRiTmFtZVwiIGRhdGFiYXNlIHRvIGZpeCBpZSBkZWxheS5cbiAgICB2YXIgb3BlblJlcSA9IG9wZW5SZXFMaXN0LmdldChkYk5hbWUpO1xuICAgIGlmIChvcGVuUmVxICYmIG9wZW5SZXEucmVzdWx0KSB7XG4gICAgICBvcGVuUmVxLnJlc3VsdC5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH1cbiAgICB2YXIgcmVxID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGRiTmFtZSk7XG5cbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy9SZW1vdmUgb3BlbiByZXF1ZXN0IGZyb20gdGhlIGxpc3QuXG4gICAgICBvcGVuUmVxTGlzdC5kZWxldGUoZGJOYW1lKTtcbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSAmJiAoZGJOYW1lIGluIGxvY2FsU3RvcmFnZSkpIHtcbiAgICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtkYk5hbWVdO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgeyAnb2snOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgfTtcblxuICB2YXIgY2FjaGVkID0gY2FjaGVkREJzLmdldChkYk5hbWUpO1xuXG4gIGlmIChjYWNoZWQpIHtcbiAgICBpZGIgPSBjYWNoZWQuaWRiO1xuICAgIGFwaS5fbWV0YSA9IGNhY2hlZC5nbG9iYWw7XG4gICAgcmV0dXJuIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBhcGkpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHJlcSA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgQURBUFRFUl9WRVJTSU9OKTtcbiAgb3BlblJlcUxpc3Quc2V0KGRiTmFtZSwgcmVxKTtcblxuICByZXEub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgZGIgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDEpIHtcbiAgICAgIHJldHVybiBjcmVhdGVTY2hlbWEoZGIpOyAvLyBuZXcgZGIsIGluaXRpYWwgc2NoZW1hXG4gICAgfVxuICAgIC8vIGRvIG1pZ3JhdGlvbnNcblxuICAgIHZhciB0eG4gPSBlLmN1cnJlbnRUYXJnZXQudHJhbnNhY3Rpb247XG4gICAgLy8gdGhlc2UgbWlncmF0aW9ucyBoYXZlIHRvIGJlIGRvbmUgaW4gdGhpcyBmdW5jdGlvbiwgYmVmb3JlXG4gICAgLy8gY29udHJvbCBpcyByZXR1cm5lZCB0byB0aGUgZXZlbnQgbG9vcCwgYmVjYXVzZSBJbmRleGVkREJcblxuICAgIGlmIChlLm9sZFZlcnNpb24gPCAzKSB7XG4gICAgICBjcmVhdGVMb2NhbFN0b3JlU2NoZW1hKGRiKTsgLy8gdjIgLT4gdjNcbiAgICB9XG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDQpIHtcbiAgICAgIGFkZEF0dGFjaEFuZFNlcVN0b3JlKGRiKTsgLy8gdjMgLT4gdjRcbiAgICB9XG5cbiAgICB2YXIgbWlncmF0aW9ucyA9IFtcbiAgICAgIGFkZERlbGV0ZWRPckxvY2FsSW5kZXgsIC8vIHYxIC0+IHYyXG4gICAgICBtaWdyYXRlTG9jYWxTdG9yZSwgICAgICAvLyB2MiAtPiB2M1xuICAgICAgbWlncmF0ZUF0dHNBbmRTZXFzLCAgICAgLy8gdjMgLT4gdjRcbiAgICAgIG1pZ3JhdGVNZXRhZGF0YSAgICAgICAgIC8vIHY0IC0+IHY1XG4gICAgXTtcblxuICAgIHZhciBpID0gZS5vbGRWZXJzaW9uO1xuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHZhciBtaWdyYXRpb24gPSBtaWdyYXRpb25zW2kgLSAxXTtcbiAgICAgIGkrKztcbiAgICAgIGlmIChtaWdyYXRpb24pIHtcbiAgICAgICAgbWlncmF0aW9uKHR4biwgbmV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbmV4dCgpO1xuICB9O1xuXG4gIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgaWRiID0gZS50YXJnZXQucmVzdWx0O1xuXG4gICAgaWRiLm9udmVyc2lvbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlkYi5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH07XG5cbiAgICBpZGIub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCAnRGF0YWJhc2UgaGFzIGEgZ2xvYmFsIGZhaWx1cmUnLCBlLnRhcmdldC5lcnJvcik7XG4gICAgICBpZGJHbG9iYWxGYWlsdXJlRXJyb3IgPSBlLnRhcmdldC5lcnJvcjtcbiAgICAgIGlkYi5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH07XG5cbiAgICAvLyBEbyBhIGZldyBzZXR1cCBvcGVyYXRpb25zIChpbiBwYXJhbGxlbCBhcyBtdWNoIGFzIHBvc3NpYmxlKTpcbiAgICAvLyAxLiBGZXRjaCBtZXRhIGRvY1xuICAgIC8vIDIuIENoZWNrIGJsb2Igc3VwcG9ydFxuICAgIC8vIDMuIENhbGN1bGF0ZSBkb2NDb3VudFxuICAgIC8vIDQuIEdlbmVyYXRlIGFuIGluc3RhbmNlSWQgaWYgbmVjZXNzYXJ5XG4gICAgLy8gNS4gU3RvcmUgZG9jQ291bnQgYW5kIGluc3RhbmNlSWQgb24gbWV0YSBkb2NcblxuICAgIHZhciB0eG4gPSBpZGIudHJhbnNhY3Rpb24oW1xuICAgICAgTUVUQV9TVE9SRSxcbiAgICAgIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUsXG4gICAgICBET0NfU1RPUkVcbiAgICBdLCAncmVhZHdyaXRlJyk7XG5cbiAgICB2YXIgc3RvcmVkTWV0YURvYyA9IGZhbHNlO1xuICAgIHZhciBtZXRhRG9jO1xuICAgIHZhciBkb2NDb3VudDtcbiAgICB2YXIgYmxvYlN1cHBvcnQ7XG4gICAgdmFyIGluc3RhbmNlSWQ7XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVNldHVwKCkge1xuICAgICAgaWYgKHR5cGVvZiBibG9iU3VwcG9ydCA9PT0gJ3VuZGVmaW5lZCcgfHwgIXN0b3JlZE1ldGFEb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLl9tZXRhID0ge1xuICAgICAgICBuYW1lOiBkYk5hbWUsXG4gICAgICAgIGluc3RhbmNlSWQ6IGluc3RhbmNlSWQsXG4gICAgICAgIGJsb2JTdXBwb3J0OiBibG9iU3VwcG9ydFxuICAgICAgfTtcblxuICAgICAgY2FjaGVkREJzLnNldChkYk5hbWUsIHtcbiAgICAgICAgaWRiOiBpZGIsXG4gICAgICAgIGdsb2JhbDogYXBpLl9tZXRhXG4gICAgICB9KTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RvcmVNZXRhRG9jSWZSZWFkeSgpIHtcbiAgICAgIGlmICh0eXBlb2YgZG9jQ291bnQgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBtZXRhRG9jID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgaW5zdGFuY2VLZXkgPSBkYk5hbWUgKyAnX2lkJztcbiAgICAgIGlmIChpbnN0YW5jZUtleSBpbiBtZXRhRG9jKSB7XG4gICAgICAgIGluc3RhbmNlSWQgPSBtZXRhRG9jW2luc3RhbmNlS2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1ldGFEb2NbaW5zdGFuY2VLZXldID0gaW5zdGFuY2VJZCA9IHV1aWQoKTtcbiAgICAgIH1cbiAgICAgIG1ldGFEb2MuZG9jQ291bnQgPSBkb2NDb3VudDtcbiAgICAgIHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKS5wdXQobWV0YURvYyk7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBmZXRjaCBvciBnZW5lcmF0ZSB0aGUgaW5zdGFuY2VJZFxuICAgIC8vXG4gICAgdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YURvYyA9IGUudGFyZ2V0LnJlc3VsdCB8fCB7IGlkOiBNRVRBX1NUT1JFIH07XG4gICAgICBzdG9yZU1ldGFEb2NJZlJlYWR5KCk7XG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gY291bnREb2NzXG4gICAgLy9cbiAgICBjb3VudERvY3ModHhuLCBmdW5jdGlvbiAoY291bnQpIHtcbiAgICAgIGRvY0NvdW50ID0gY291bnQ7XG4gICAgICBzdG9yZU1ldGFEb2NJZlJlYWR5KCk7XG4gICAgfSk7XG5cbiAgICAvL1xuICAgIC8vIGNoZWNrIGJsb2Igc3VwcG9ydFxuICAgIC8vXG4gICAgaWYgKCFibG9iU3VwcG9ydFByb21pc2UpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSBibG9iIHN1cHBvcnQgaXMgb25seSBjaGVja2VkIG9uY2VcbiAgICAgIGJsb2JTdXBwb3J0UHJvbWlzZSA9IGNoZWNrQmxvYlN1cHBvcnQodHhuKTtcbiAgICB9XG5cbiAgICBibG9iU3VwcG9ydFByb21pc2UudGhlbihmdW5jdGlvbiAodmFsKSB7XG4gICAgICBibG9iU3VwcG9ydCA9IHZhbDtcbiAgICAgIGNvbXBsZXRlU2V0dXAoKTtcbiAgICB9KTtcblxuICAgIC8vIG9ubHkgd2hlbiB0aGUgbWV0YWRhdGEgcHV0IHRyYW5zYWN0aW9uIGhhcyBjb21wbGV0ZWQsXG4gICAgLy8gY29uc2lkZXIgdGhlIHNldHVwIGRvbmVcbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHN0b3JlZE1ldGFEb2MgPSB0cnVlO1xuICAgICAgY29tcGxldGVTZXR1cCgpO1xuICAgIH07XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gIH07XG5cbiAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBtc2cgPSBlLnRhcmdldC5lcnJvciAmJiBlLnRhcmdldC5lcnJvci5tZXNzYWdlO1xuXG4gICAgaWYgKCFtc2cpIHtcbiAgICAgIG1zZyA9ICdGYWlsZWQgdG8gb3BlbiBpbmRleGVkREIsIGFyZSB5b3UgaW4gcHJpdmF0ZSBicm93c2luZyBtb2RlPyc7XG4gICAgfSBlbHNlIGlmIChtc2cuaW5kZXhPZihcInN0b3JlZCBkYXRhYmFzZSBpcyBhIGhpZ2hlciB2ZXJzaW9uXCIpICE9PSAtMSkge1xuICAgICAgbXNnID0gbmV3IEVycm9yKCdUaGlzIERCIHdhcyBjcmVhdGVkIHdpdGggdGhlIG5ld2VyIFwiaW5kZXhlZGRiXCIgYWRhcHRlciwgYnV0IHlvdSBhcmUgdHJ5aW5nIHRvIG9wZW4gaXQgd2l0aCB0aGUgb2xkZXIgXCJpZGJcIiBhZGFwdGVyJyk7XG4gICAgfVxuXG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgbXNnKTtcbiAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihJREJfRVJST1IsIG1zZykpO1xuICB9O1xufVxuXG5JZGJQb3VjaC52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gRm9sbG93aW5nICM3MDg1IGJ1Z2d5IGlkYiB2ZXJzaW9ucyAodHlwaWNhbGx5IFNhZmFyaSA8IDEwLjEpIGFyZVxuICAvLyBjb25zaWRlcmVkIHZhbGlkLlxuXG4gIC8vIE9uIEZpcmVmb3ggU2VjdXJpdHlFcnJvciBpcyB0aHJvd24gd2hpbGUgcmVmZXJlbmNpbmcgaW5kZXhlZERCIGlmIGNvb2tpZXNcbiAgLy8gYXJlIG5vdCBhbGxvd2VkLiBgdHlwZW9mIGluZGV4ZWREQmAgYWxzbyB0cmlnZ2VycyB0aGUgZXJyb3IuXG4gIHRyeSB7XG4gICAgLy8gc29tZSBvdXRkYXRlZCBpbXBsZW1lbnRhdGlvbnMgb2YgSURCIHRoYXQgYXBwZWFyIG9uIFNhbXN1bmdcbiAgICAvLyBhbmQgSFRDIEFuZHJvaWQgZGV2aWNlcyA8NC40IGFyZSBtaXNzaW5nIElEQktleVJhbmdlXG4gICAgcmV0dXJuIHR5cGVvZiBpbmRleGVkREIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBJREJLZXlSYW5nZSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIElEQlBvdWNoIChQb3VjaERCKSB7XG4gIFBvdWNoREIuYWRhcHRlcignaWRiJywgSWRiUG91Y2gsIHRydWUpO1xufVxuXG4vLyBkZWFkIHNpbXBsZSBwcm9taXNlIHBvb2wsIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS90aW1kcC9lczYtcHJvbWlzZS1wb29sXG4vLyBidXQgbXVjaCBzbWFsbGVyIGluIGNvZGUgc2l6ZS4gbGltaXRzIHRoZSBudW1iZXIgb2YgY29uY3VycmVudCBwcm9taXNlcyB0aGF0IGFyZSBleGVjdXRlZFxuXG5cbmZ1bmN0aW9uIHBvb2wocHJvbWlzZUZhY3RvcmllcywgbGltaXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcnVubmluZyA9IDA7XG4gICAgdmFyIGN1cnJlbnQgPSAwO1xuICAgIHZhciBkb25lID0gMDtcbiAgICB2YXIgbGVuID0gcHJvbWlzZUZhY3Rvcmllcy5sZW5ndGg7XG4gICAgdmFyIGVycjtcblxuICAgIGZ1bmN0aW9uIHJ1bk5leHQoKSB7XG4gICAgICBydW5uaW5nKys7XG4gICAgICBwcm9taXNlRmFjdG9yaWVzW2N1cnJlbnQrK10oKS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9OZXh0KCkge1xuICAgICAgaWYgKCsrZG9uZSA9PT0gbGVuKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBydW5OZXh0QmF0Y2goKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XG4gICAgICBydW5uaW5nLS07XG4gICAgICBkb05leHQoKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IodGhpc0Vycikge1xuICAgICAgcnVubmluZy0tO1xuICAgICAgZXJyID0gZXJyIHx8IHRoaXNFcnI7XG4gICAgICBkb05leHQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5OZXh0QmF0Y2goKSB7XG4gICAgICB3aGlsZSAocnVubmluZyA8IGxpbWl0ICYmIGN1cnJlbnQgPCBsZW4pIHtcbiAgICAgICAgcnVuTmV4dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJ1bk5leHRCYXRjaCgpO1xuICB9KTtcbn1cblxudmFyIENIQU5HRVNfQkFUQ0hfU0laRSA9IDI1O1xudmFyIE1BWF9TSU1VTFRBTkVPVVNfUkVWUyA9IDUwO1xudmFyIENIQU5HRVNfVElNRU9VVF9CVUZGRVIgPSA1MDAwO1xudmFyIERFRkFVTFRfSEVBUlRCRUFUID0gMTAwMDA7XG5cbnZhciBzdXBwb3J0c0J1bGtHZXRNYXAgPSB7fTtcblxuZnVuY3Rpb24gcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocm93KSB7XG4gIHZhciBkb2MgPSByb3cuZG9jIHx8IHJvdy5vaztcbiAgdmFyIGF0dHMgPSBkb2MgJiYgZG9jLl9hdHRhY2htZW50cztcbiAgaWYgKCFhdHRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIE9iamVjdC5rZXlzKGF0dHMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgIGF0dC5kYXRhID0gYjY0VG9CbHVmZmVyKGF0dC5kYXRhLCBhdHQuY29udGVudF90eXBlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZURvY0lkKGlkKSB7XG4gIGlmICgvXl9kZXNpZ24vLnRlc3QoaWQpKSB7XG4gICAgcmV0dXJuICdfZGVzaWduLycgKyBlbmNvZGVVUklDb21wb25lbnQoaWQuc2xpY2UoOCkpO1xuICB9XG4gIGlmICgvXl9sb2NhbC8udGVzdChpZCkpIHtcbiAgICByZXR1cm4gJ19sb2NhbC8nICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkLnNsaWNlKDcpKTtcbiAgfVxuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGlkKTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEoZG9jKSB7XG4gIGlmICghZG9jLl9hdHRhY2htZW50cyB8fCAhT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgYXR0YWNobWVudCA9IGRvYy5fYXR0YWNobWVudHNba2V5XTtcbiAgICBpZiAoYXR0YWNobWVudC5kYXRhICYmIHR5cGVvZiBhdHRhY2htZW50LmRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgYmxvYlRvQmFzZTY0KGF0dGFjaG1lbnQuZGF0YSwgcmVzb2x2ZSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChiNjQpIHtcbiAgICAgICAgYXR0YWNobWVudC5kYXRhID0gYjY0O1xuICAgICAgfSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGhhc1VybFByZWZpeChvcHRzKSB7XG4gIGlmICghb3B0cy5wcmVmaXgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvY29sID0gcGFyc2VVcmkob3B0cy5wcmVmaXgpLnByb3RvY29sO1xuICByZXR1cm4gcHJvdG9jb2wgPT09ICdodHRwJyB8fCBwcm90b2NvbCA9PT0gJ2h0dHBzJztcbn1cblxuLy8gR2V0IGFsbCB0aGUgaW5mb3JtYXRpb24geW91IHBvc3NpYmx5IGNhbiBhYm91dCB0aGUgVVJJIGdpdmVuIGJ5IG5hbWUgYW5kXG4vLyByZXR1cm4gaXQgYXMgYSBzdWl0YWJsZSBvYmplY3QuXG5mdW5jdGlvbiBnZXRIb3N0KG5hbWUsIG9wdHMpIHtcbiAgLy8gZW5jb2RlIGRiIG5hbWUgaWYgb3B0cy5wcmVmaXggaXMgYSB1cmwgKCM1NTc0KVxuICBpZiAoaGFzVXJsUHJlZml4KG9wdHMpKSB7XG4gICAgdmFyIGRiTmFtZSA9IG9wdHMubmFtZS5zdWJzdHIob3B0cy5wcmVmaXgubGVuZ3RoKTtcbiAgICAvLyBFbnN1cmUgcHJlZml4IGhhcyBhIHRyYWlsaW5nIHNsYXNoXG4gICAgdmFyIHByZWZpeCA9IG9wdHMucHJlZml4LnJlcGxhY2UoL1xcLz8kLywgJy8nKTtcbiAgICBuYW1lID0gcHJlZml4ICsgZW5jb2RlVVJJQ29tcG9uZW50KGRiTmFtZSk7XG4gIH1cblxuICB2YXIgdXJpID0gcGFyc2VVcmkobmFtZSk7XG4gIGlmICh1cmkudXNlciB8fCB1cmkucGFzc3dvcmQpIHtcbiAgICB1cmkuYXV0aCA9IHt1c2VybmFtZTogdXJpLnVzZXIsIHBhc3N3b3JkOiB1cmkucGFzc3dvcmR9O1xuICB9XG5cbiAgLy8gU3BsaXQgdGhlIHBhdGggcGFydCBvZiB0aGUgVVJJIGludG8gcGFydHMgdXNpbmcgJy8nIGFzIHRoZSBkZWxpbWl0ZXJcbiAgLy8gYWZ0ZXIgcmVtb3ZpbmcgYW55IGxlYWRpbmcgJy8nIGFuZCBhbnkgdHJhaWxpbmcgJy8nXG4gIHZhciBwYXJ0cyA9IHVyaS5wYXRoLnJlcGxhY2UoLyheXFwvfFxcLyQpL2csICcnKS5zcGxpdCgnLycpO1xuXG4gIHVyaS5kYiA9IHBhcnRzLnBvcCgpO1xuICAvLyBQcmV2ZW50IGRvdWJsZSBlbmNvZGluZyBvZiBVUkkgY29tcG9uZW50XG4gIGlmICh1cmkuZGIuaW5kZXhPZignJScpID09PSAtMSkge1xuICAgIHVyaS5kYiA9IGVuY29kZVVSSUNvbXBvbmVudCh1cmkuZGIpO1xuICB9XG5cbiAgdXJpLnBhdGggPSBwYXJ0cy5qb2luKCcvJyk7XG5cbiAgcmV0dXJuIHVyaTtcbn1cblxuLy8gR2VuZXJhdGUgYSBVUkwgd2l0aCB0aGUgaG9zdCBkYXRhIGdpdmVuIGJ5IG9wdHMgYW5kIHRoZSBnaXZlbiBwYXRoXG5mdW5jdGlvbiBnZW5EQlVybChvcHRzLCBwYXRoKSB7XG4gIHJldHVybiBnZW5Vcmwob3B0cywgb3B0cy5kYiArICcvJyArIHBhdGgpO1xufVxuXG4vLyBHZW5lcmF0ZSBhIFVSTCB3aXRoIHRoZSBob3N0IGRhdGEgZ2l2ZW4gYnkgb3B0cyBhbmQgdGhlIGdpdmVuIHBhdGhcbmZ1bmN0aW9uIGdlblVybChvcHRzLCBwYXRoKSB7XG4gIC8vIElmIHRoZSBob3N0IGFscmVhZHkgaGFzIGEgcGF0aCwgdGhlbiB3ZSBuZWVkIHRvIGhhdmUgYSBwYXRoIGRlbGltaXRlclxuICAvLyBPdGhlcndpc2UsIHRoZSBwYXRoIGRlbGltaXRlciBpcyB0aGUgZW1wdHkgc3RyaW5nXG4gIHZhciBwYXRoRGVsID0gIW9wdHMucGF0aCA/ICcnIDogJy8nO1xuXG4gIC8vIElmIHRoZSBob3N0IGFscmVhZHkgaGFzIGEgcGF0aCwgdGhlbiB3ZSBuZWVkIHRvIGhhdmUgYSBwYXRoIGRlbGltaXRlclxuICAvLyBPdGhlcndpc2UsIHRoZSBwYXRoIGRlbGltaXRlciBpcyB0aGUgZW1wdHkgc3RyaW5nXG4gIHJldHVybiBvcHRzLnByb3RvY29sICsgJzovLycgKyBvcHRzLmhvc3QgK1xuICAgICAgICAgKG9wdHMucG9ydCA/ICgnOicgKyBvcHRzLnBvcnQpIDogJycpICtcbiAgICAgICAgICcvJyArIG9wdHMucGF0aCArIHBhdGhEZWwgKyBwYXRoO1xufVxuXG5mdW5jdGlvbiBwYXJhbXNUb1N0cihwYXJhbXMpIHtcbiAgcmV0dXJuICc/JyArIE9iamVjdC5rZXlzKHBhcmFtcykubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuIGsgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2tdKTtcbiAgfSkuam9pbignJicpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRDYWNoZUJ1c3Qob3B0cykge1xuICB2YXIgdWEgPSAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCkgP1xuICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpIDogJyc7XG4gIHZhciBpc0lFID0gdWEuaW5kZXhPZignbXNpZScpICE9PSAtMTtcbiAgdmFyIGlzVHJpZGVudCA9IHVhLmluZGV4T2YoJ3RyaWRlbnQnKSAhPT0gLTE7XG4gIHZhciBpc0VkZ2UgPSB1YS5pbmRleE9mKCdlZGdlJykgIT09IC0xO1xuICB2YXIgaXNHRVQgPSAhKCdtZXRob2QnIGluIG9wdHMpIHx8IG9wdHMubWV0aG9kID09PSAnR0VUJztcbiAgcmV0dXJuIChpc0lFIHx8IGlzVHJpZGVudCB8fCBpc0VkZ2UpICYmIGlzR0VUO1xufVxuXG4vLyBJbXBsZW1lbnRzIHRoZSBQb3VjaERCIEFQSSBmb3IgZGVhbGluZyB3aXRoIENvdWNoREIgaW5zdGFuY2VzIG92ZXIgSFRUUFxuZnVuY3Rpb24gSHR0cFBvdWNoKG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgLy8gVGhlIGZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgcHVibGljbHkgYXZhaWxhYmxlIGZvciBIdHRwUG91Y2hcbiAgdmFyIGFwaSA9IHRoaXM7XG5cbiAgdmFyIGhvc3QgPSBnZXRIb3N0KG9wdHMubmFtZSwgb3B0cyk7XG4gIHZhciBkYlVybCA9IGdlbkRCVXJsKGhvc3QsICcnKTtcblxuICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgdmFyIG91ckZldGNoID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IG5ldyBoKCk7XG5cbiAgICBvcHRpb25zLmNyZWRlbnRpYWxzID0gJ2luY2x1ZGUnO1xuXG4gICAgaWYgKG9wdHMuYXV0aCB8fCBob3N0LmF1dGgpIHtcbiAgICAgIHZhciBuQXV0aCA9IG9wdHMuYXV0aCB8fCBob3N0LmF1dGg7XG4gICAgICB2YXIgc3RyID0gbkF1dGgudXNlcm5hbWUgKyAnOicgKyBuQXV0aC5wYXNzd29yZDtcbiAgICAgIHZhciB0b2tlbiA9IHRoaXNCdG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKSk7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyB0b2tlbik7XG4gICAgfVxuXG4gICAgdmFyIGhlYWRlcnMgPSBvcHRzLmhlYWRlcnMgfHwge307XG4gICAgT2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuYXBwZW5kKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICB9KTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzaG91bGRDYWNoZUJ1c3Qob3B0aW9ucykpIHtcbiAgICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgJ19ub25jZT0nICsgRGF0ZS5ub3coKTtcbiAgICB9XG5cbiAgICB2YXIgZmV0Y2hGdW4gPSBvcHRzLmZldGNoIHx8IGYkMTtcbiAgICByZXR1cm4gZmV0Y2hGdW4odXJsLCBvcHRpb25zKTtcbiAgfTtcblxuICBmdW5jdGlvbiBhZGFwdGVyRnVuJCQxKG5hbWUsIGZ1bikge1xuICAgIHJldHVybiBhZGFwdGVyRnVuKG5hbWUsIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgIGNhbGxiYWNrKGUpO1xuICAgICAgfSk7XG4gICAgfSkpLmJpbmQoYXBpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoSlNPTih1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgcmVzdWx0ID0ge307XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwgbmV3IGgoKTtcblxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzLmdldCgnQWNjZXB0JykpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91ckZldGNoKHVybCwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJlc3VsdC5vayA9IHJlc3BvbnNlLm9rO1xuICAgICAgcmVzdWx0LnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuICAgICAgcmVzdWx0LmRhdGEgPSBqc29uO1xuICAgICAgaWYgKCFyZXN1bHQub2spIHtcbiAgICAgICAgcmVzdWx0LmRhdGEuc3RhdHVzID0gcmVzdWx0LnN0YXR1cztcbiAgICAgICAgdmFyIGVyciA9IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0LmRhdGEpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEpKSB7XG4gICAgICAgIHJlc3VsdC5kYXRhID0gcmVzdWx0LmRhdGEubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgaWYgKHYuZXJyb3IgfHwgdi5taXNzaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZSh2KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgc2V0dXBQcm9taXNlO1xuXG4gIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIGlmIChvcHRzLnNraXBfc2V0dXApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBhIHNldHVwIGluIHByb2Nlc3Mgb3IgcHJldmlvdXMgc3VjY2Vzc2Z1bCBzZXR1cFxuICAgIC8vIGRvbmUgdGhlbiB3ZSB3aWxsIHVzZSB0aGF0XG4gICAgLy8gSWYgcHJldmlvdXMgc2V0dXBzIGhhdmUgYmVlbiByZWplY3RlZCB3ZSB3aWxsIHRyeSBhZ2FpblxuICAgIGlmIChzZXR1cFByb21pc2UpIHtcbiAgICAgIHJldHVybiBzZXR1cFByb21pc2U7XG4gICAgfVxuXG4gICAgc2V0dXBQcm9taXNlID0gZmV0Y2hKU09OKGRiVXJsKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgJiYgZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIC8vIERvZXNudCBleGlzdCwgY3JlYXRlIGl0XG4gICAgICAgIGV4cGxhaW5FcnJvcig0MDQsICdQb3VjaERCIGlzIGp1c3QgZGV0ZWN0aW5nIGlmIHRoZSByZW1vdGUgZXhpc3RzLicpO1xuICAgICAgICByZXR1cm4gZmV0Y2hKU09OKGRiVXJsLCB7bWV0aG9kOiAnUFVUJ30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLy8gSWYgd2UgdHJ5IHRvIGNyZWF0ZSBhIGRhdGFiYXNlIHRoYXQgYWxyZWFkeSBleGlzdHMsIHNraXBwZWQgaW5cbiAgICAgIC8vIGlzdGFuYnVsIHNpbmNlIGl0cyBjYXRjaGluZyBhIHJhY2UgY29uZGl0aW9uLlxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgJiYgZXJyLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7XG5cbiAgICBzZXR1cFByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgc2V0dXBQcm9taXNlID0gbnVsbDtcbiAgICB9KTtcblxuICAgIHJldHVybiBzZXR1cFByb21pc2U7XG4gIH1cblxuICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gIH0pO1xuXG4gIGFwaS5fcmVtb3RlID0gdHJ1ZTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBhcGkudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ2h0dHAnO1xuICB9O1xuXG4gIGFwaS5pZCA9IGFkYXB0ZXJGdW4kJDEoJ2lkJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgb3VyRmV0Y2goZ2VuVXJsKGhvc3QsICcnKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgLy8gQmFkIHJlc3BvbnNlIG9yIG1pc3NpbmcgYHV1aWRgIHNob3VsZCBub3QgcHJldmVudCBJRCBnZW5lcmF0aW9uLlxuICAgICAgdmFyIHV1aWQkJDEgPSAocmVzdWx0ICYmIHJlc3VsdC51dWlkKSA/XG4gICAgICAgICAgKHJlc3VsdC51dWlkICsgaG9zdC5kYikgOiBnZW5EQlVybChob3N0LCAnJyk7XG4gICAgICBjYWxsYmFjayhudWxsLCB1dWlkJCQxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gU2VuZHMgYSBQT1NUIHJlcXVlc3QgdG8gdGhlIGhvc3QgY2FsbGluZyB0aGUgY291Y2hkYiBfY29tcGFjdCBmdW5jdGlvblxuICAvLyAgICB2ZXJzaW9uOiBUaGUgdmVyc2lvbiBvZiBDb3VjaERCIGl0IGlzIHJ1bm5pbmdcbiAgYXBpLmNvbXBhY3QgPSBhZGFwdGVyRnVuJCQxKCdjb21wYWN0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2NvbXBhY3QnKSwge21ldGhvZDogJ1BPU1QnfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBwaW5nKCkge1xuICAgICAgICBhcGkuaW5mbyhmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICAvLyBDb3VjaERCIG1heSBzZW5kIGEgXCJjb21wYWN0X3J1bm5pbmc6dHJ1ZVwiIGlmIGl0J3NcbiAgICAgICAgICAvLyBhbHJlYWR5IGNvbXBhY3RpbmcuIFBvdWNoREIgU2VydmVyIGRvZXNuJ3QuXG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAocmVzICYmICFyZXMuY29tcGFjdF9ydW5uaW5nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dChwaW5nLCBvcHRzLmludGVydmFsIHx8IDIwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIFBpbmcgdGhlIGh0dHAgaWYgaXQncyBmaW5pc2hlZCBjb21wYWN0aW9uXG4gICAgICBwaW5nKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGFwaS5idWxrR2V0ID0gYWRhcHRlckZ1bignYnVsa0dldCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIGRvQnVsa0dldChjYikge1xuICAgICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgICAgaWYgKG9wdHMucmV2cykge1xuICAgICAgICBwYXJhbXMucmV2cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMubGF0ZXN0KSB7XG4gICAgICAgIHBhcmFtcy5sYXRlc3QgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfYnVsa19nZXQnICsgcGFyYW1zVG9TdHIocGFyYW1zKSksIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZG9jczogb3B0cy5kb2NzfSlcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICAgIHJlc3VsdC5kYXRhLnJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICByZXMuZG9jcy5mb3JFYWNoKHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYihudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgICB9KS5jYXRjaChjYik7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBkb0J1bGtHZXRTaGltKCkge1xuICAgICAgLy8gYXZvaWQgXCJ1cmwgdG9vIGxvbmcgZXJyb3JcIiBieSBzcGxpdHRpbmcgdXAgaW50byBtdWx0aXBsZSByZXF1ZXN0c1xuICAgICAgdmFyIGJhdGNoU2l6ZSA9IE1BWF9TSU1VTFRBTkVPVVNfUkVWUztcbiAgICAgIHZhciBudW1CYXRjaGVzID0gTWF0aC5jZWlsKG9wdHMuZG9jcy5sZW5ndGggLyBiYXRjaFNpemUpO1xuICAgICAgdmFyIG51bURvbmUgPSAwO1xuICAgICAgdmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkobnVtQmF0Y2hlcyk7XG5cbiAgICAgIGZ1bmN0aW9uIG9uUmVzdWx0KGJhdGNoTnVtKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICAvLyBlcnIgaXMgaW1wb3NzaWJsZSBiZWNhdXNlIHNoaW0gcmV0dXJucyBhIGxpc3Qgb2YgZXJycyBpbiB0aGF0IGNhc2VcbiAgICAgICAgICByZXN1bHRzW2JhdGNoTnVtXSA9IHJlcy5yZXN1bHRzO1xuICAgICAgICAgIGlmICgrK251bURvbmUgPT09IG51bUJhdGNoZXMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtyZXN1bHRzOiBmbGF0dGVuKHJlc3VsdHMpfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUJhdGNoZXM7IGkrKykge1xuICAgICAgICB2YXIgc3ViT3B0cyA9IHBpY2sob3B0cywgWydyZXZzJywgJ2F0dGFjaG1lbnRzJywgJ2JpbmFyeScsICdsYXRlc3QnXSk7XG4gICAgICAgIHN1Yk9wdHMuZG9jcyA9IG9wdHMuZG9jcy5zbGljZShpICogYmF0Y2hTaXplLFxuICAgICAgICAgIE1hdGgubWluKG9wdHMuZG9jcy5sZW5ndGgsIChpICsgMSkgKiBiYXRjaFNpemUpKTtcbiAgICAgICAgYnVsa0dldChzZWxmLCBzdWJPcHRzLCBvblJlc3VsdChpKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbWFyayB0aGUgd2hvbGUgZGF0YWJhc2UgYXMgZWl0aGVyIHN1cHBvcnRpbmcgb3Igbm90IHN1cHBvcnRpbmcgX2J1bGtfZ2V0XG4gICAgdmFyIGRiVXJsID0gZ2VuVXJsKGhvc3QsICcnKTtcbiAgICB2YXIgc3VwcG9ydHNCdWxrR2V0ID0gc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0c0J1bGtHZXQgIT09ICdib29sZWFuJykge1xuICAgICAgLy8gY2hlY2sgaWYgdGhpcyBkYXRhYmFzZSBzdXBwb3J0cyBfYnVsa19nZXRcbiAgICAgIGRvQnVsa0dldChmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHN1cHBvcnRzQnVsa0dldE1hcFtkYlVybF0gPSBmYWxzZTtcbiAgICAgICAgICBleHBsYWluRXJyb3IoXG4gICAgICAgICAgICBlcnIuc3RhdHVzLFxuICAgICAgICAgICAgJ1BvdWNoREIgaXMganVzdCBkZXRlY3RpbmcgaWYgdGhlIHJlbW90ZSAnICtcbiAgICAgICAgICAgICdzdXBwb3J0cyB0aGUgX2J1bGtfZ2V0IEFQSS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkb0J1bGtHZXRTaGltKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXSA9IHRydWU7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0c0J1bGtHZXQpIHtcbiAgICAgIGRvQnVsa0dldChjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvQnVsa0dldFNoaW0oKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIENhbGxzIEdFVCBvbiB0aGUgaG9zdCwgd2hpY2ggZ2V0cyBiYWNrIGEgSlNPTiBzdHJpbmcgY29udGFpbmluZ1xuICAvLyAgICBjb3VjaGRiOiBBIHdlbGNvbWUgc3RyaW5nXG4gIC8vICAgIHZlcnNpb246IFRoZSB2ZXJzaW9uIG9mIENvdWNoREIgaXQgaXMgcnVubmluZ1xuICBhcGkuX2luZm8gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG91ckZldGNoKGdlbkRCVXJsKGhvc3QsICcnKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuICAgICAgaW5mby5ob3N0ID0gZ2VuREJVcmwoaG9zdCwgJycpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9O1xuXG4gIGFwaS5mZXRjaCA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdXJsID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJyA/XG4gICAgICAgIGdlblVybChob3N0LCBwYXRoLnN1YnN0cmluZygxKSkgOlxuICAgICAgICBnZW5EQlVybChob3N0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvdXJGZXRjaCh1cmwsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEdldCB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWQgZnJvbSB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgLy8gVGhlIGlkIGNvdWxkIGJlIHNvbGVseSB0aGUgX2lkIGluIHRoZSBkYXRhYmFzZSwgb3IgaXQgbWF5IGJlIGFcbiAgLy8gX2Rlc2lnbi9JRCBvciBfbG9jYWwvSUQgcGF0aFxuICBhcGkuZ2V0ID0gYWRhcHRlckZ1biQkMSgnZ2V0JywgZnVuY3Rpb24gKGlkLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIElmIG5vIG9wdGlvbnMgd2VyZSBnaXZlbiwgc2V0IHRoZSBjYWxsYmFjayB0byB0aGUgc2Vjb25kIHBhcmFtZXRlclxuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBHRVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSB7fTtcblxuICAgIGlmIChvcHRzLnJldnMpIHtcbiAgICAgIHBhcmFtcy5yZXZzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXZzX2luZm8pIHtcbiAgICAgIHBhcmFtcy5yZXZzX2luZm8gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmxhdGVzdCkge1xuICAgICAgcGFyYW1zLmxhdGVzdCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMub3Blbl9yZXZzKSB7XG4gICAgICBpZiAob3B0cy5vcGVuX3JldnMgIT09IFwiYWxsXCIpIHtcbiAgICAgICAgb3B0cy5vcGVuX3JldnMgPSBKU09OLnN0cmluZ2lmeShvcHRzLm9wZW5fcmV2cyk7XG4gICAgICB9XG4gICAgICBwYXJhbXMub3Blbl9yZXZzID0gb3B0cy5vcGVuX3JldnM7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucmV2KSB7XG4gICAgICBwYXJhbXMucmV2ID0gb3B0cy5yZXY7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gb3B0cy5jb25mbGljdHM7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSBvcHRzLnVwZGF0ZV9zZXE7XG4gICAgfVxuXG4gICAgaWQgPSBlbmNvZGVEb2NJZChpZCk7XG5cbiAgICBmdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnRzKGRvYykge1xuICAgICAgdmFyIGF0dHMgPSBkb2MuX2F0dGFjaG1lbnRzO1xuICAgICAgdmFyIGZpbGVuYW1lcyA9IGF0dHMgJiYgT2JqZWN0LmtleXMoYXR0cyk7XG4gICAgICBpZiAoIWF0dHMgfHwgIWZpbGVuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gd2UgZmV0Y2ggdGhlc2UgbWFudWFsbHkgaW4gc2VwYXJhdGUgWEhScywgYmVjYXVzZVxuICAgICAgLy8gU3luYyBHYXRld2F5IHdvdWxkIG5vcm1hbGx5IHNlbmQgaXQgYmFjayBhcyBtdWx0aXBhcnQvbWl4ZWQsXG4gICAgICAvLyB3aGljaCB3ZSBjYW5ub3QgcGFyc2UuIEFsc28sIHRoaXMgaXMgbW9yZSBlZmZpY2llbnQgdGhhblxuICAgICAgLy8gcmVjZWl2aW5nIGF0dGFjaG1lbnRzIGFzIGJhc2U2NC1lbmNvZGVkIHN0cmluZ3MuXG4gICAgICBmdW5jdGlvbiBmZXRjaERhdGEoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgICAgICB2YXIgcGF0aCA9IGVuY29kZURvY0lkKGRvYy5faWQpICsgJy8nICsgZW5jb2RlQXR0YWNobWVudElkKGZpbGVuYW1lKSArXG4gICAgICAgICAgICAnP3Jldj0nICsgZG9jLl9yZXY7XG4gICAgICAgIHJldHVybiBvdXJGZXRjaChnZW5EQlVybChob3N0LCBwYXRoKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAoJ2J1ZmZlcicgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5idWZmZXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAgICAgaWYgKG9wdHMuYmluYXJ5KSB7XG4gICAgICAgICAgICB2YXIgdHlwZUZpZWxkRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmxvYi5fX3Byb3RvX18sICd0eXBlJyk7XG4gICAgICAgICAgICBpZiAoIXR5cGVGaWVsZERlc2NyaXB0b3IgfHwgdHlwZUZpZWxkRGVzY3JpcHRvci5zZXQpIHtcbiAgICAgICAgICAgICAgYmxvYi50eXBlID0gYXR0LmNvbnRlbnRfdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBibG9iO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGJsb2JUb0Jhc2U2NChibG9iLCByZXNvbHZlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGRlbGV0ZSBhdHQuc3R1YjtcbiAgICAgICAgICBkZWxldGUgYXR0Lmxlbmd0aDtcbiAgICAgICAgICBhdHQuZGF0YSA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZUZhY3RvcmllcyA9IGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoRGF0YShmaWxlbmFtZSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgLy8gVGhpcyBsaW1pdHMgdGhlIG51bWJlciBvZiBwYXJhbGxlbCB4aHIgcmVxdWVzdHMgdG8gNSBhbnkgdGltZVxuICAgICAgLy8gdG8gYXZvaWQgaXNzdWVzIHdpdGggbWF4aW11bSBicm93c2VyIHJlcXVlc3QgbGltaXRzXG4gICAgICByZXR1cm4gcG9vbChwcm9taXNlRmFjdG9yaWVzLCA1KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmZXRjaEFsbEF0dGFjaG1lbnRzKGRvY09yRG9jcykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZG9jT3JEb2NzKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZG9jT3JEb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIGZldGNoQXR0YWNobWVudHMoZG9jLm9rKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmZXRjaEF0dGFjaG1lbnRzKGRvY09yRG9jcyk7XG4gICAgfVxuXG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGlkICsgcGFyYW1zVG9TdHIocGFyYW1zKSk7XG4gICAgZmV0Y2hKU09OKHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoQWxsQXR0YWNobWVudHMocmVzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzLmRhdGEpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuZG9jSWQgPSBpZDtcbiAgICAgIGNhbGxiYWNrKGUpO1xuICAgIH0pO1xuICB9KTtcblxuXG4gIC8vIERlbGV0ZSB0aGUgZG9jdW1lbnQgZ2l2ZW4gYnkgZG9jIGZyb20gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5yZW1vdmUgPSBhZGFwdGVyRnVuJCQxKCdyZW1vdmUnLCBmdW5jdGlvbiAoZG9jT3JJZCwgb3B0c09yUmV2LCBvcHRzLCBjYikge1xuICAgIHZhciBkb2M7XG4gICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBpZCwgcmV2LCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgICAgZG9jID0ge1xuICAgICAgICBfaWQ6IGRvY09ySWQsXG4gICAgICAgIF9yZXY6IG9wdHNPclJldlxuICAgICAgfTtcbiAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IG9wdHM7XG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZG9jLCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgICAgZG9jID0gZG9jT3JJZDtcbiAgICAgIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiID0gb3B0c09yUmV2O1xuICAgICAgICBvcHRzID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYiA9IG9wdHM7XG4gICAgICAgIG9wdHMgPSBvcHRzT3JSZXY7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJldiA9IChkb2MuX3JldiB8fCBvcHRzLnJldik7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvYy5faWQpKSArICc/cmV2PScgKyByZXY7XG5cbiAgICBmZXRjaEpTT04odXJsLCB7bWV0aG9kOiAnREVMRVRFJ30sIGNiKS5jYXRjaChjYik7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpIHtcbiAgICByZXR1cm4gYXR0YWNobWVudElkLnNwbGl0KFwiL1wiKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKFwiL1wiKTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgYXR0YWNobWVudFxuICBhcGkuZ2V0QXR0YWNobWVudCA9IGFkYXB0ZXJGdW4kJDEoJ2dldEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIHZhciBwYXJhbXMgPSBvcHRzLnJldiA/ICgnP3Jldj0nICsgb3B0cy5yZXYpIDogJyc7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvY0lkKSkgKyAnLycgK1xuICAgICAgICBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSArIHBhcmFtcztcbiAgICB2YXIgY29udGVudFR5cGU7XG4gICAgb3VyRmV0Y2godXJsLCB7bWV0aG9kOiAnR0VUJ30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgcmVzcG9uc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICFwcm9jZXNzLmJyb3dzZXIgJiYgdHlwZW9mIHJlc3BvbnNlLmJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5idWZmZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAvLyBUT0RPOiBhbHNvIHJlbW92ZVxuICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAhcHJvY2Vzcy5icm93c2VyKSB7XG4gICAgICAgIGJsb2IudHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgYmxvYik7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gUmVtb3ZlIHRoZSBhdHRhY2htZW50IGdpdmVuIGJ5IHRoZSBpZCBhbmQgcmV2XG4gIGFwaS5yZW1vdmVBdHRhY2htZW50ID0gIGFkYXB0ZXJGdW4kJDEoJ3JlbW92ZUF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2NJZCkgKyAnLycgK1xuICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSkgKyAnP3Jldj0nICsgcmV2O1xuICAgIGZldGNoSlNPTih1cmwsIHttZXRob2Q6ICdERUxFVEUnfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gQWRkIHRoZSBhdHRhY2htZW50IGdpdmVuIGJ5IGJsb2IgYW5kIGl0cyBjb250ZW50VHlwZSBwcm9wZXJ0eVxuICAvLyB0byB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWQsIHRoZSByZXZpc2lvbiBnaXZlbiBieSByZXYsIGFuZFxuICAvLyBhZGQgaXQgdG8gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5wdXRBdHRhY2htZW50ID0gYWRhcHRlckZ1biQkMSgncHV0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2LCBibG9iLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gdHlwZTtcbiAgICAgIHR5cGUgPSBibG9iO1xuICAgICAgYmxvYiA9IHJldjtcbiAgICAgIHJldiA9IG51bGw7XG4gICAgfVxuICAgIHZhciBpZCA9IGVuY29kZURvY0lkKGRvY0lkKSArICcvJyArIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpO1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBpZCk7XG4gICAgaWYgKHJldikge1xuICAgICAgdXJsICs9ICc/cmV2PScgKyByZXY7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gaW5wdXQgaXMgYXNzdW1lZCB0byBiZSBhIGJhc2U2NCBzdHJpbmdcbiAgICAgIHZhciBiaW5hcnk7XG4gICAgICB0cnkge1xuICAgICAgICBiaW5hcnkgPSB0aGlzQXRvYihibG9iKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoQkFEX0FSRyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdBdHRhY2htZW50IGlzIG5vdCBhIHZhbGlkIGJhc2U2NCBzdHJpbmcnKSk7XG4gICAgICB9XG4gICAgICBibG9iID0gYmluYXJ5ID8gYmluU3RyaW5nVG9CbHVmZmVyKGJpbmFyeSwgdHlwZSkgOiAnJztcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGF0dGFjaG1lbnRcbiAgICBmZXRjaEpTT04odXJsLCB7XG4gICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6IHR5cGV9KSxcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBibG9iXG4gICAgfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gVXBkYXRlL2NyZWF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgZ2l2ZW4gYnkgcmVxIGluIHRoZSBkYXRhYmFzZVxuICAvLyBnaXZlbiBieSBob3N0LlxuICBhcGkuX2J1bGtEb2NzID0gZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBuZXdfZWRpdHM9ZmFsc2UgdGhlbiBpdCBwcmV2ZW50cyB0aGUgZGF0YWJhc2UgZnJvbSBjcmVhdGluZ1xuICAgIC8vIG5ldyByZXZpc2lvbiBudW1iZXJzIGZvciB0aGUgZG9jdW1lbnRzLiBJbnN0ZWFkIGl0IGp1c3QgdXNlc1xuICAgIC8vIHRoZSBvbGQgb25lcy4gVGhpcyBpcyB1c2VkIGluIGRhdGFiYXNlIHJlcGxpY2F0aW9uLlxuICAgIHJlcS5uZXdfZWRpdHMgPSBvcHRzLm5ld19lZGl0cztcblxuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVxLmRvY3MubWFwKHByZXByb2Nlc3NBdHRhY2htZW50cyQxKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBVcGRhdGUvY3JlYXRlIHRoZSBkb2N1bWVudHNcbiAgICAgIHJldHVybiBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19idWxrX2RvY3MnKSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxKVxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfTtcblxuXG4gIC8vIFVwZGF0ZS9jcmVhdGUgZG9jdW1lbnRcbiAgYXBpLl9wdXQgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEoZG9jKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jLl9pZCkpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRvYylcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGVyci5kb2NJZCA9IGRvYyAmJiBkb2MuX2lkO1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuXG4gIC8vIEdldCBhIGxpc3Rpbmcgb2YgdGhlIGRvY3VtZW50cyBpbiB0aGUgZGF0YWJhc2UgZ2l2ZW5cbiAgLy8gYnkgaG9zdCBhbmQgb3JkZXJlZCBieSBpbmNyZWFzaW5nIGlkLlxuICBhcGkuYWxsRG9jcyA9IGFkYXB0ZXJGdW4kJDEoJ2FsbERvY3MnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgR0VUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0ge307XG4gICAgdmFyIGJvZHk7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICBwYXJhbXMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgcGFyYW1zLmRlc2NlbmRpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgcGFyYW1zLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gYWRkZWQgaW4gQ291Y2hEQiAxLjYuMFxuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmtleSkge1xuICAgICAgcGFyYW1zLmtleSA9IEpTT04uc3RyaW5naWZ5KG9wdHMua2V5KTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zdGFydF9rZXkpIHtcbiAgICAgIG9wdHMuc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zdGFydGtleSkge1xuICAgICAgcGFyYW1zLnN0YXJ0a2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5zdGFydGtleSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5kX2tleSkge1xuICAgICAgb3B0cy5lbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5ka2V5KSB7XG4gICAgICBwYXJhbXMuZW5ka2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5lbmRrZXkpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5pbmNsdXNpdmVfZW5kICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLmluY2x1c2l2ZV9lbmQgPSAhIW9wdHMuaW5jbHVzaXZlX2VuZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMubGltaXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMubGltaXQgPSBvcHRzLmxpbWl0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5za2lwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnNraXAgPSBvcHRzLnNraXA7XG4gICAgfVxuXG4gICAgdmFyIHBhcmFtU3RyID0gcGFyYW1zVG9TdHIocGFyYW1zKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgYm9keSA9IHtrZXlzOiBvcHRzLmtleXN9O1xuICAgIH1cblxuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2FsbF9kb2NzJyArIHBhcmFtU3RyKSwge1xuICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgIHJlc3VsdC5kYXRhLnJvd3MuZm9yRWFjaChyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcik7XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICAvLyBHZXQgYSBsaXN0IG9mIGNoYW5nZXMgbWFkZSB0byBkb2N1bWVudHMgaW4gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIC8vIFRPRE8gQWNjb3JkaW5nIHRvIHRoZSBSRUFETUUsIHRoZXJlIHNob3VsZCBiZSB0d28gb3RoZXIgbWV0aG9kcyBoZXJlLFxuICAvLyBhcGkuY2hhbmdlcy5hZGRMaXN0ZW5lciBhbmQgYXBpLmNoYW5nZXMucmVtb3ZlTGlzdGVuZXIuXG4gIGFwaS5fY2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG5cbiAgICAvLyBXZSBpbnRlcm5hbGx5IHBhZ2UgdGhlIHJlc3VsdHMgb2YgYSBjaGFuZ2VzIHJlcXVlc3QsIHRoaXMgbWVhbnNcbiAgICAvLyBpZiB0aGVyZSBpcyBhIGxhcmdlIHNldCBvZiBjaGFuZ2VzIHRvIGJlIHJldHVybmVkIHdlIGNhbiBzdGFydFxuICAgIC8vIHByb2Nlc3NpbmcgdGhlbSBxdWlja2VyIGluc3RlYWQgb2Ygd2FpdGluZyBvbiB0aGUgZW50aXJlXG4gICAgLy8gc2V0IG9mIGNoYW5nZXMgdG8gcmV0dXJuIGFuZCBhdHRlbXB0aW5nIHRvIHByb2Nlc3MgdGhlbSBhdCBvbmNlXG4gICAgdmFyIGJhdGNoU2l6ZSA9ICdiYXRjaF9zaXplJyBpbiBvcHRzID8gb3B0cy5iYXRjaF9zaXplIDogQ0hBTkdFU19CQVRDSF9TSVpFO1xuXG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgaWYgKG9wdHMuY29udGludW91cyAmJiAhKCdoZWFydGJlYXQnIGluIG9wdHMpKSB7XG4gICAgICBvcHRzLmhlYXJ0YmVhdCA9IERFRkFVTFRfSEVBUlRCRUFUO1xuICAgIH1cblxuICAgIHZhciByZXF1ZXN0VGltZW91dCA9ICgndGltZW91dCcgaW4gb3B0cykgPyBvcHRzLnRpbWVvdXQgOiAzMCAqIDEwMDA7XG5cbiAgICAvLyBlbnN1cmUgQ0hBTkdFU19USU1FT1VUX0JVRkZFUiBhcHBsaWVzXG4gICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzICYmIG9wdHMudGltZW91dCAmJlxuICAgICAgKHJlcXVlc3RUaW1lb3V0IC0gb3B0cy50aW1lb3V0KSA8IENIQU5HRVNfVElNRU9VVF9CVUZGRVIpIHtcbiAgICAgICAgcmVxdWVzdFRpbWVvdXQgPSBvcHRzLnRpbWVvdXQgKyBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzICYmIG9wdHMuaGVhcnRiZWF0ICYmXG4gICAgICAgKHJlcXVlc3RUaW1lb3V0IC0gb3B0cy5oZWFydGJlYXQpIDwgQ0hBTkdFU19USU1FT1VUX0JVRkZFUikge1xuICAgICAgICByZXF1ZXN0VGltZW91dCA9IG9wdHMuaGVhcnRiZWF0ICsgQ0hBTkdFU19USU1FT1VUX0JVRkZFUjtcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1zID0ge307XG4gICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzICYmIG9wdHMudGltZW91dCkge1xuICAgICAgcGFyYW1zLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQ7XG4gICAgfVxuXG4gICAgdmFyIGxpbWl0ID0gKHR5cGVvZiBvcHRzLmxpbWl0ICE9PSAndW5kZWZpbmVkJykgPyBvcHRzLmxpbWl0IDogZmFsc2U7XG4gICAgdmFyIGxlZnRUb0ZldGNoID0gbGltaXQ7XG5cbiAgICBpZiAob3B0cy5zdHlsZSkge1xuICAgICAgcGFyYW1zLnN0eWxlID0gb3B0cy5zdHlsZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgfHwgb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwYXJhbXMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgcGFyYW1zLmF0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb250aW51b3VzKSB7XG4gICAgICBwYXJhbXMuZmVlZCA9ICdsb25ncG9sbCc7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc2VxX2ludGVydmFsKSB7XG4gICAgICBwYXJhbXMuc2VxX2ludGVydmFsID0gb3B0cy5zZXFfaW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICBwYXJhbXMuZGVzY2VuZGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzKSB7XG4gICAgICAvLyBJZiB0aGUgaGVhcnRiZWF0IHZhbHVlIGlzIGZhbHNlLCBpdCBkaXNhYmxlcyB0aGUgZGVmYXVsdCBoZWFydGJlYXRcbiAgICAgIGlmIChvcHRzLmhlYXJ0YmVhdCkge1xuICAgICAgICBwYXJhbXMuaGVhcnRiZWF0ID0gb3B0cy5oZWFydGJlYXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSBvcHRzLmZpbHRlcjtcbiAgICB9XG5cbiAgICBpZiAob3B0cy52aWV3ICYmIHR5cGVvZiBvcHRzLnZpZXcgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ192aWV3JztcbiAgICAgIHBhcmFtcy52aWV3ID0gb3B0cy52aWV3O1xuICAgIH1cblxuICAgIC8vIElmIG9wdHMucXVlcnlfcGFyYW1zIGV4aXN0cywgcGFzcyBpdCB0aHJvdWdoIHRvIHRoZSBjaGFuZ2VzIHJlcXVlc3QuXG4gICAgLy8gVGhlc2UgcGFyYW1ldGVycyBtYXkgYmUgdXNlZCBieSB0aGUgZmlsdGVyIG9uIHRoZSBzb3VyY2UgZGF0YWJhc2UuXG4gICAgaWYgKG9wdHMucXVlcnlfcGFyYW1zICYmIHR5cGVvZiBvcHRzLnF1ZXJ5X3BhcmFtcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAodmFyIHBhcmFtX25hbWUgaW4gb3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRzLnF1ZXJ5X3BhcmFtcywgcGFyYW1fbmFtZSkpIHtcbiAgICAgICAgICBwYXJhbXNbcGFyYW1fbmFtZV0gPSBvcHRzLnF1ZXJ5X3BhcmFtc1twYXJhbV9uYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICB2YXIgYm9keTtcblxuICAgIGlmIChvcHRzLmRvY19pZHMpIHtcbiAgICAgIC8vIHNldCB0aGlzIGF1dG9tYWdpY2FsbHkgZm9yIHRoZSB1c2VyOyBpdCdzIGFubm95aW5nIHRoYXQgY291Y2hkYlxuICAgICAgLy8gcmVxdWlyZXMgYm90aCBhIFwiZmlsdGVyXCIgYW5kIGEgXCJkb2NfaWRzXCIgcGFyYW0uXG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ19kb2NfaWRzJztcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7ZG9jX2lkczogb3B0cy5kb2NfaWRzIH07XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZWxzZSBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgICAgLy8gc2V0IHRoaXMgYXV0b21hZ2ljYWxseSBmb3IgdGhlIHVzZXIsIHNpbWlsYXIgdG8gYWJvdmVcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSAnX3NlbGVjdG9yJztcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7c2VsZWN0b3I6IG9wdHMuc2VsZWN0b3IgfTtcbiAgICB9XG5cbiAgICB2YXIgY29udHJvbGxlciA9IG5ldyBhKCk7XG4gICAgdmFyIGxhc3RGZXRjaGVkU2VxO1xuXG4gICAgLy8gR2V0IGFsbCB0aGUgY2hhbmdlcyBzdGFydGluZyB3dGloIHRoZSBvbmUgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gICAgLy8gc2VxdWVuY2UgbnVtYmVyIGdpdmVuIGJ5IHNpbmNlLlxuICAgIHZhciBmZXRjaERhdGEgPSBmdW5jdGlvbiAoc2luY2UsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcmFtcy5zaW5jZSA9IHNpbmNlO1xuICAgICAgLy8gXCJzaW5jZVwiIGNhbiBiZSBhbnkga2luZCBvZiBqc29uIG9iamVjdCBpbiBDbG91ZGFudC9Db3VjaERCIDIueFxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zLnNpbmNlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHBhcmFtcy5zaW5jZSA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcy5zaW5jZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgICAgaWYgKGxpbWl0KSB7XG4gICAgICAgICAgcGFyYW1zLmxpbWl0ID0gbGVmdFRvRmV0Y2g7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmFtcy5saW1pdCA9ICghbGltaXQgfHwgbGVmdFRvRmV0Y2ggPiBiYXRjaFNpemUpID9cbiAgICAgICAgICBiYXRjaFNpemUgOiBsZWZ0VG9GZXRjaDtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSBvcHRpb25zIGZvciB0aGUgYWpheCBjYWxsXG4gICAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgJ19jaGFuZ2VzJyArIHBhcmFtc1RvU3RyKHBhcmFtcykpO1xuICAgICAgdmFyIGZldGNoT3B0cyA9IHtcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICB9O1xuICAgICAgbGFzdEZldGNoZWRTZXEgPSBzaW5jZTtcblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBjaGFuZ2VzXG4gICAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2hKU09OKHVybCwgZmV0Y2hPcHRzLCBjYWxsYmFjayk7XG4gICAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIC8vIElmIG9wdHMuc2luY2UgZXhpc3RzLCBnZXQgYWxsIHRoZSBjaGFuZ2VzIGZyb20gdGhlIHNlcXVlbmNlXG4gICAgLy8gbnVtYmVyIGdpdmVuIGJ5IG9wdHMuc2luY2UuIE90aGVyd2lzZSwgZ2V0IGFsbCB0aGUgY2hhbmdlc1xuICAgIC8vIGZyb20gdGhlIHNlcXVlbmNlIG51bWJlciAwLlxuICAgIHZhciByZXN1bHRzID0ge3Jlc3VsdHM6IFtdfTtcblxuICAgIHZhciBmZXRjaGVkID0gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciByYXdfcmVzdWx0c19sZW5ndGggPSAwO1xuICAgICAgLy8gSWYgdGhlIHJlc3VsdCBvZiB0aGUgYWpheCBjYWxsIChyZXMpIGNvbnRhaW5zIGNoYW5nZXMgKHJlcy5yZXN1bHRzKVxuICAgICAgaWYgKHJlcyAmJiByZXMucmVzdWx0cykge1xuICAgICAgICByYXdfcmVzdWx0c19sZW5ndGggPSByZXMucmVzdWx0cy5sZW5ndGg7XG4gICAgICAgIHJlc3VsdHMubGFzdF9zZXEgPSByZXMubGFzdF9zZXE7XG4gICAgICAgIHZhciBwZW5kaW5nID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RTZXEgPSBudWxsO1xuICAgICAgICAvLyBBdHRhY2ggJ3BlbmRpbmcnIHByb3BlcnR5IGlmIHNlcnZlciBzdXBwb3J0cyBpdCAoQ291Y2hEQiAyLjArKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHR5cGVvZiByZXMucGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBwZW5kaW5nID0gcmVzLnBlbmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHRzLmxhc3Rfc2VxID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmVzdWx0cy5sYXN0X3NlcSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBsYXN0U2VxID0gcmVzdWx0cy5sYXN0X3NlcTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3IgZWFjaCBjaGFuZ2VcbiAgICAgICAgdmFyIHJlcSA9IHt9O1xuICAgICAgICByZXEucXVlcnkgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcbiAgICAgICAgcmVzLnJlc3VsdHMgPSByZXMucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICBsZWZ0VG9GZXRjaC0tO1xuICAgICAgICAgIHZhciByZXQgPSBmaWx0ZXJDaGFuZ2Uob3B0cykoYyk7XG4gICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzICYmIG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgICAgICAgcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0cy5yZXR1cm5fZG9jcykge1xuICAgICAgICAgICAgICByZXN1bHRzLnJlc3VsdHMucHVzaChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdHMub25DaGFuZ2UoYywgcGVuZGluZywgbGFzdFNlcSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgLy8gSW4gY2FzZSBvZiBhbiBlcnJvciwgc3RvcCBsaXN0ZW5pbmcgZm9yIGNoYW5nZXMgYW5kIGNhbGxcbiAgICAgICAgLy8gb3B0cy5jb21wbGV0ZVxuICAgICAgICBvcHRzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICBvcHRzLmNvbXBsZXRlKGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNoYW5nZXMgZmVlZCBtYXkgaGF2ZSB0aW1lZCBvdXQgd2l0aCBubyByZXN1bHRzXG4gICAgICAvLyBpZiBzbyByZXVzZSBsYXN0IHVwZGF0ZSBzZXF1ZW5jZVxuICAgICAgaWYgKHJlcyAmJiByZXMubGFzdF9zZXEpIHtcbiAgICAgICAgbGFzdEZldGNoZWRTZXEgPSByZXMubGFzdF9zZXE7XG4gICAgICB9XG5cbiAgICAgIHZhciBmaW5pc2hlZCA9IChsaW1pdCAmJiBsZWZ0VG9GZXRjaCA8PSAwKSB8fFxuICAgICAgICAocmVzICYmIHJhd19yZXN1bHRzX2xlbmd0aCA8IGJhdGNoU2l6ZSkgfHxcbiAgICAgICAgKG9wdHMuZGVzY2VuZGluZyk7XG5cbiAgICAgIGlmICgob3B0cy5jb250aW51b3VzICYmICEobGltaXQgJiYgbGVmdFRvRmV0Y2ggPD0gMCkpIHx8ICFmaW5pc2hlZCkge1xuICAgICAgICAvLyBRdWV1ZSBhIGNhbGwgdG8gZmV0Y2ggYWdhaW4gd2l0aCB0aGUgbmV3ZXN0IHNlcXVlbmNlIG51bWJlclxuICAgICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkgeyBmZXRjaERhdGEobGFzdEZldGNoZWRTZXEsIGZldGNoZWQpOyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdlJ3JlIGRvbmUsIGNhbGwgdGhlIGNhbGxiYWNrXG4gICAgICAgIG9wdHMuY29tcGxldGUobnVsbCwgcmVzdWx0cyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZldGNoRGF0YShvcHRzLnNpbmNlIHx8IDAsIGZldGNoZWQpO1xuXG4gICAgLy8gUmV0dXJuIGEgbWV0aG9kIHRvIGNhbmNlbCB0aGlzIG1ldGhvZCBmcm9tIHByb2Nlc3NpbmcgYW55IG1vcmVcbiAgICByZXR1cm4ge1xuICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9wdHMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIEdpdmVuIGEgc2V0IG9mIGRvY3VtZW50L3JldmlzaW9uIElEcyAoZ2l2ZW4gYnkgcmVxKSwgdGV0cyB0aGUgc3Vic2V0IG9mXG4gIC8vIHRob3NlIHRoYXQgZG8gTk9UIGNvcnJlc3BvbmQgdG8gcmV2aXNpb25zIHN0b3JlZCBpbiB0aGUgZGF0YWJhc2UuXG4gIC8vIFNlZSBodHRwOi8vd2lraS5hcGFjaGUub3JnL2NvdWNoZGIvSHR0cFBvc3RSZXZzRGlmZlxuICBhcGkucmV2c0RpZmYgPSBhZGFwdGVyRnVuJCQxKCdyZXZzRGlmZicsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgLy8gSWYgbm8gb3B0aW9ucyB3ZXJlIGdpdmVuLCBzZXQgdGhlIGNhbGxiYWNrIHRvIGJlIHRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBtaXNzaW5nIGRvY3VtZW50L3JldmlzaW9uIElEc1xuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX3JldnNfZGlmZicpLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcSlcbiAgICB9LCBjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICBhcGkuX2Nsb3NlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfTtcblxuICBhcGkuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJycpLCB7bWV0aG9kOiAnREVMRVRFJ30pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGpzb24pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIEh0dHBQb3VjaCBpcyBhIHZhbGlkIGFkYXB0ZXIuXG5IdHRwUG91Y2gudmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gSHR0cFBvdWNoJDEgKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5hZGFwdGVyKCdodHRwJywgSHR0cFBvdWNoLCBmYWxzZSk7XG4gIFBvdWNoREIuYWRhcHRlcignaHR0cHMnLCBIdHRwUG91Y2gsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gUXVlcnlQYXJzZUVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA0MDA7XG4gIHRoaXMubmFtZSA9ICdxdWVyeV9wYXJzZV9lcnJvcic7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xuICB0cnkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFF1ZXJ5UGFyc2VFcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmluaGVyaXRzKFF1ZXJ5UGFyc2VFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBOb3RGb3VuZEVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA0MDQ7XG4gIHRoaXMubmFtZSA9ICdub3RfZm91bmQnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBOb3RGb3VuZEVycm9yKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuaW5oZXJpdHMoTm90Rm91bmRFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBCdWlsdEluRXJyb3IobWVzc2FnZSkge1xuICB0aGlzLnN0YXR1cyA9IDUwMDtcbiAgdGhpcy5uYW1lID0gJ2ludmFsaWRfdmFsdWUnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBCdWlsdEluRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5pbmhlcml0cyhCdWlsdEluRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gcHJvbWlzZWRDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gY2FsbGJhY2tpZnkoZnVuKSB7XG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgY2IgPSBhcmdzLnBvcCgpO1xuICAgIHZhciBwcm9taXNlID0gZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2IpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfSk7XG59XG5cbi8vIFByb21pc2UgZmluYWxseSB1dGlsIHNpbWlsYXIgdG8gUS5maW5hbGx5XG5mdW5jdGlvbiBmaW4ocHJvbWlzZSwgZmluYWxQcm9taXNlRmFjdG9yeSkge1xuICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICByZXR1cm4gZmluYWxQcm9taXNlRmFjdG9yeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9KTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiBmaW5hbFByb21pc2VGYWN0b3J5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyByZWFzb247XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXF1ZW50aWFsaXplKHF1ZXVlLCBwcm9taXNlRmFjdG9yeSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICByZXR1cm4gcXVldWUuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwcm9taXNlRmFjdG9yeS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gdW5pcSBhbiBhcnJheSBvZiBzdHJpbmdzLCBvcmRlciBub3QgZ3VhcmFudGVlZFxuLy8gc2ltaWxhciB0byB1bmRlcnNjb3JlL2xvZGFzaCBfLnVuaXFcbmZ1bmN0aW9uIHVuaXEoYXJyKSB7XG4gIHZhciB0aGVTZXQgPSBuZXcgRXhwb3J0ZWRTZXQoYXJyKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0aGVTZXQuc2l6ZSk7XG4gIHZhciBpbmRleCA9IC0xO1xuICB0aGVTZXQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1hcFRvS2V5c0FycmF5KG1hcCkge1xuICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KG1hcC5zaXplKTtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0ga2V5O1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVpbHRJbkVycm9yKG5hbWUpIHtcbiAgdmFyIG1lc3NhZ2UgPSAnYnVpbHRpbiAnICsgbmFtZSArXG4gICAgJyBmdW5jdGlvbiByZXF1aXJlcyBtYXAgdmFsdWVzIHRvIGJlIG51bWJlcnMnICtcbiAgICAnIG9yIG51bWJlciBhcnJheXMnO1xuICByZXR1cm4gbmV3IEJ1aWx0SW5FcnJvcihtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gc3VtKHZhbHVlcykge1xuICB2YXIgcmVzdWx0ID0gMDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBudW0gPSB2YWx1ZXNbaV07XG4gICAgaWYgKHR5cGVvZiBudW0gIT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShudW0pKSB7XG4gICAgICAgIC8vIGxpc3RzIG9mIG51bWJlcnMgYXJlIGFsc28gYWxsb3dlZCwgc3VtIHRoZW0gc2VwYXJhdGVseVxuICAgICAgICByZXN1bHQgPSB0eXBlb2YgcmVzdWx0ID09PSAnbnVtYmVyJyA/IFtyZXN1bHRdIDogcmVzdWx0O1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgakxlbiA9IG51bS5sZW5ndGg7IGogPCBqTGVuOyBqKyspIHtcbiAgICAgICAgICB2YXIgak51bSA9IG51bVtqXTtcbiAgICAgICAgICBpZiAodHlwZW9mIGpOdW0gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVCdWlsdEluRXJyb3IoJ19zdW0nKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHRbal0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChqTnVtKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W2pdICs9IGpOdW07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBub3QgYXJyYXkvbnVtYmVyXG4gICAgICAgIHRocm93IGNyZWF0ZUJ1aWx0SW5FcnJvcignX3N1bScpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJlc3VsdCArPSBudW07XG4gICAgfSBlbHNlIHsgLy8gYWRkIG51bWJlciB0byBhcnJheVxuICAgICAgcmVzdWx0WzBdICs9IG51bTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmFyIGxvZyA9IGd1YXJkZWRDb25zb2xlLmJpbmQobnVsbCwgJ2xvZycpO1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIHRvSlNPTiA9IEpTT04ucGFyc2U7XG5cbmZ1bmN0aW9uIGV2YWxGdW5jdGlvbldpdGhFdmFsKGZ1bmMsIGVtaXQpIHtcbiAgcmV0dXJuIHNjb3BlRXZhbChcbiAgICBcInJldHVybiAoXCIgKyBmdW5jLnJlcGxhY2UoLztcXHMqJC8sIFwiXCIpICsgXCIpO1wiLFxuICAgIHtcbiAgICAgIGVtaXQ6IGVtaXQsXG4gICAgICBzdW06IHN1bSxcbiAgICAgIGxvZzogbG9nLFxuICAgICAgaXNBcnJheTogaXNBcnJheSxcbiAgICAgIHRvSlNPTjogdG9KU09OXG4gICAgfVxuICApO1xufVxuXG4vKlxuICogU2ltcGxlIHRhc2sgcXVldWUgdG8gc2VxdWVudGlhbGl6ZSBhY3Rpb25zLiBBc3N1bWVzXG4gKiBjYWxsYmFja3Mgd2lsbCBldmVudHVhbGx5IGZpcmUgKG9uY2UpLlxuICovXG5cblxuZnVuY3Rpb24gVGFza1F1ZXVlJDEoKSB7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsKSB7ZnVsZmlsbCgpOyB9KTtcbn1cblRhc2tRdWV1ZSQxLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocHJvbWlzZUZhY3RvcnkpIHtcbiAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBqdXN0IHJlY292ZXJcbiAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHByb21pc2VGYWN0b3J5KCk7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5wcm9taXNlO1xufTtcblRhc2tRdWV1ZSQxLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnByb21pc2U7XG59O1xuXG5mdW5jdGlvbiBzdHJpbmdpZnkoaW5wdXQpIHtcbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJzsgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3IgZW1wdHkgcmVkdWNlXG4gIH1cbiAgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXQgd2l0aCBtYXByZWR1Y2UsIGZ1bmN0aW9ucy9zdHJpbmdzIGFyZSBzdHJpbmdpZmllZFxuICAvLyBhcy1pcy4gZXZlcnl0aGluZyBlbHNlIGlzIEpTT04tc3RyaW5naWZpZWQuXG4gIHN3aXRjaCAodHlwZW9mIGlucHV0KSB7XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgLy8gZS5nLiBhIG1hcHJlZHVjZSBtYXBcbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAvLyBlLmcuIGEgbWFwcmVkdWNlIGJ1aWx0LWluIF9yZWR1Y2UgZnVuY3Rpb25cbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpO1xuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBlLmcuIGEgSlNPTiBvYmplY3QgaW4gdGhlIGNhc2Ugb2YgbWFuZ28gcXVlcmllc1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGlucHV0KTtcbiAgfVxufVxuXG4vKiBjcmVhdGUgYSBzdHJpbmcgc2lnbmF0dXJlIGZvciBhIHZpZXcgc28gd2UgY2FuIGNhY2hlIGl0IGFuZCB1bmlxIGl0ICovXG5mdW5jdGlvbiBjcmVhdGVWaWV3U2lnbmF0dXJlKG1hcEZ1biwgcmVkdWNlRnVuKSB7XG4gIC8vIHRoZSBcInVuZGVmaW5lZFwiIHBhcnQgaXMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gIHJldHVybiBzdHJpbmdpZnkobWFwRnVuKSArIHN0cmluZ2lmeShyZWR1Y2VGdW4pICsgJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVZpZXcoc291cmNlREIsIHZpZXdOYW1lLCBtYXBGdW4sIHJlZHVjZUZ1biwgdGVtcG9yYXJ5LCBsb2NhbERvY05hbWUpIHtcbiAgdmFyIHZpZXdTaWduYXR1cmUgPSBjcmVhdGVWaWV3U2lnbmF0dXJlKG1hcEZ1biwgcmVkdWNlRnVuKTtcblxuICB2YXIgY2FjaGVkVmlld3M7XG4gIGlmICghdGVtcG9yYXJ5KSB7XG4gICAgLy8gY2FjaGUgdGhpcyB0byBlbnN1cmUgd2UgZG9uJ3QgdHJ5IHRvIHVwZGF0ZSB0aGUgc2FtZSB2aWV3IHR3aWNlXG4gICAgY2FjaGVkVmlld3MgPSBzb3VyY2VEQi5fY2FjaGVkVmlld3MgPSBzb3VyY2VEQi5fY2FjaGVkVmlld3MgfHwge307XG4gICAgaWYgKGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdKSB7XG4gICAgICByZXR1cm4gY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV07XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb21pc2VGb3JWaWV3ID0gc291cmNlREIuaW5mbygpLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcblxuICAgIHZhciBkZXBEYk5hbWUgPSBpbmZvLmRiX25hbWUgKyAnLW1ydmlldy0nICtcbiAgICAgICh0ZW1wb3JhcnkgPyAndGVtcCcgOiBzdHJpbmdNZDUodmlld1NpZ25hdHVyZSkpO1xuXG4gICAgLy8gc2F2ZSB0aGUgdmlldyBuYW1lIGluIHRoZSBzb3VyY2UgZGIgc28gaXQgY2FuIGJlIGNsZWFuZWQgdXAgaWYgbmVjZXNzYXJ5XG4gICAgLy8gKGUuZy4gd2hlbiB0aGUgX2Rlc2lnbiBkb2MgaXMgZGVsZXRlZCwgcmVtb3ZlIGFsbCBhc3NvY2lhdGVkIHZpZXcgZGF0YSlcbiAgICBmdW5jdGlvbiBkaWZmRnVuY3Rpb24oZG9jKSB7XG4gICAgICBkb2Mudmlld3MgPSBkb2Mudmlld3MgfHwge307XG4gICAgICB2YXIgZnVsbFZpZXdOYW1lID0gdmlld05hbWU7XG4gICAgICBpZiAoZnVsbFZpZXdOYW1lLmluZGV4T2YoJy8nKSA9PT0gLTEpIHtcbiAgICAgICAgZnVsbFZpZXdOYW1lID0gdmlld05hbWUgKyAnLycgKyB2aWV3TmFtZTtcbiAgICAgIH1cbiAgICAgIHZhciBkZXBEYnMgPSBkb2Mudmlld3NbZnVsbFZpZXdOYW1lXSA9IGRvYy52aWV3c1tmdWxsVmlld05hbWVdIHx8IHt9O1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZGVwRGJzW2RlcERiTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuOyAvLyBubyB1cGRhdGUgbmVjZXNzYXJ5XG4gICAgICB9XG4gICAgICBkZXBEYnNbZGVwRGJOYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gZG9jO1xuICAgIH1cbiAgICByZXR1cm4gdXBzZXJ0KHNvdXJjZURCLCAnX2xvY2FsLycgKyBsb2NhbERvY05hbWUsIGRpZmZGdW5jdGlvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc291cmNlREIucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZShkZXBEYk5hbWUpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB2YXIgZGIgPSByZXMuZGI7XG4gICAgICAgIGRiLmF1dG9fY29tcGFjdGlvbiA9IHRydWU7XG4gICAgICAgIHZhciB2aWV3ID0ge1xuICAgICAgICAgIG5hbWU6IGRlcERiTmFtZSxcbiAgICAgICAgICBkYjogZGIsXG4gICAgICAgICAgc291cmNlREI6IHNvdXJjZURCLFxuICAgICAgICAgIGFkYXB0ZXI6IHNvdXJjZURCLmFkYXB0ZXIsXG4gICAgICAgICAgbWFwRnVuOiBtYXBGdW4sXG4gICAgICAgICAgcmVkdWNlRnVuOiByZWR1Y2VGdW5cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHZpZXcuZGIuZ2V0KCdfbG9jYWwvbGFzdFNlcScpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChsYXN0U2VxRG9jKSB7XG4gICAgICAgICAgdmlldy5zZXEgPSBsYXN0U2VxRG9jID8gbGFzdFNlcURvYy5zZXEgOiAwO1xuICAgICAgICAgIGlmIChjYWNoZWRWaWV3cykge1xuICAgICAgICAgICAgdmlldy5kYi5vbmNlKCdkZXN0cm95ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKGNhY2hlZFZpZXdzKSB7XG4gICAgY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV0gPSBwcm9taXNlRm9yVmlldztcbiAgfVxuICByZXR1cm4gcHJvbWlzZUZvclZpZXc7XG59XG5cbnZhciBwZXJzaXN0ZW50UXVldWVzID0ge307XG52YXIgdGVtcFZpZXdRdWV1ZSA9IG5ldyBUYXNrUXVldWUkMSgpO1xudmFyIENIQU5HRVNfQkFUQ0hfU0laRSQxID0gNTA7XG5cbmZ1bmN0aW9uIHBhcnNlVmlld05hbWUobmFtZSkge1xuICAvLyBjYW4gYmUgZWl0aGVyICdkZG9jbmFtZS92aWV3bmFtZScgb3IganVzdCAndmlld25hbWUnXG4gIC8vICh3aGVyZSB0aGUgZGRvYyBuYW1lIGlzIHRoZSBzYW1lKVxuICByZXR1cm4gbmFtZS5pbmRleE9mKCcvJykgPT09IC0xID8gW25hbWUsIG5hbWVdIDogbmFtZS5zcGxpdCgnLycpO1xufVxuXG5mdW5jdGlvbiBpc0dlbk9uZShjaGFuZ2VzKSB7XG4gIC8vIG9ubHkgcmV0dXJuIHRydWUgaWYgdGhlIGN1cnJlbnQgY2hhbmdlIGlzIDEtXG4gIC8vIGFuZCB0aGVyZSBhcmUgbm8gb3RoZXIgbGVhZnNcbiAgcmV0dXJuIGNoYW5nZXMubGVuZ3RoID09PSAxICYmIC9eMS0vLnRlc3QoY2hhbmdlc1swXS5yZXYpO1xufVxuXG5mdW5jdGlvbiBlbWl0RXJyb3IoZGIsIGUpIHtcbiAgdHJ5IHtcbiAgICBkYi5lbWl0KCdlcnJvcicsIGUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLFxuICAgICAgJ1RoZSB1c2VyXFwncyBtYXAvcmVkdWNlIGZ1bmN0aW9uIHRocmV3IGFuIHVuY2F1Z2h0IGVycm9yLlxcbicgK1xuICAgICAgJ1lvdSBjYW4gZGVidWcgdGhpcyBlcnJvciBieSBkb2luZzpcXG4nICtcbiAgICAgICdteURhdGFiYXNlLm9uKFxcJ2Vycm9yXFwnLCBmdW5jdGlvbiAoZXJyKSB7IGRlYnVnZ2VyOyB9KTtcXG4nICtcbiAgICAgICdQbGVhc2UgZG91YmxlLWNoZWNrIHlvdXIgbWFwL3JlZHVjZSBmdW5jdGlvbi4nKTtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCBlKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYW4gXCJhYnN0cmFjdFwiIG1hcHJlZHVjZSBvYmplY3Qgb2YgdGhlIGZvcm06XG4gKlxuICogICB7XG4gKiAgICAgcXVlcnk6IHF1ZXJ5RnVuLFxuICogICAgIHZpZXdDbGVhbnVwOiB2aWV3Q2xlYW51cEZ1blxuICogICB9XG4gKlxuICogQXJndW1lbnRzIGFyZTpcbiAqXG4gKiBsb2NhbERvYzogc3RyaW5nXG4gKiAgIFRoaXMgaXMgZm9yIHRoZSBsb2NhbCBkb2MgdGhhdCBnZXRzIHNhdmVkIGluIG9yZGVyIHRvIHRyYWNrIHRoZVxuICogICBcImRlcGVuZGVudFwiIERCcyBhbmQgY2xlYW4gdGhlbSB1cCBmb3Igdmlld0NsZWFudXAuIEl0IHNob3VsZCBiZVxuICogICB1bmlxdWUsIHNvIHRoYXQgaW5kZXhlciBwbHVnaW5zIGRvbid0IGNvbGxpZGUgd2l0aCBlYWNoIG90aGVyLlxuICogbWFwcGVyOiBmdW5jdGlvbiAobWFwRnVuRGVmLCBlbWl0KVxuICogICBSZXR1cm5zIGEgbWFwIGZ1bmN0aW9uIGJhc2VkIG9uIHRoZSBtYXBGdW5EZWYsIHdoaWNoIGluIHRoZSBjYXNlIG9mXG4gKiAgIG5vcm1hbCBtYXAvcmVkdWNlIGlzIGp1c3QgdGhlIGRlLXN0cmluZ2lmaWVkIGZ1bmN0aW9uLCBidXQgbWF5IGJlXG4gKiAgIHNvbWV0aGluZyBlbHNlLCBzdWNoIGFzIGFuIG9iamVjdCBpbiB0aGUgY2FzZSBvZiBwb3VjaGRiLWZpbmQuXG4gKiByZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlRnVuRGVmKVxuICogICBEaXR0bywgYnV0IGZvciByZWR1Y2luZy4gTW9kdWxlcyBkb24ndCBoYXZlIHRvIHN1cHBvcnQgcmVkdWNpbmdcbiAqICAgKGUuZy4gcG91Y2hkYi1maW5kKS5cbiAqIGRkb2NWYWxpZGF0b3I6IGZ1bmN0aW9uIChkZG9jLCB2aWV3TmFtZSlcbiAqICAgVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBkZG9jIG9yIHZpZXdOYW1lIGlzIG5vdCB2YWxpZC5cbiAqICAgVGhpcyBjb3VsZCBiZSBhIHdheSB0byBjb21tdW5pY2F0ZSB0byB0aGUgdXNlciB0aGF0IHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGVcbiAqICAgaW5kZXhlciBpcyBpbnZhbGlkLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZShsb2NhbERvY05hbWUsIG1hcHBlciwgcmVkdWNlciwgZGRvY1ZhbGlkYXRvcikge1xuXG4gIGZ1bmN0aW9uIHRyeU1hcChkYiwgZnVuLCBkb2MpIHtcbiAgICAvLyBlbWl0IGFuIGV2ZW50IGlmIHRoZXJlIHdhcyBhbiBlcnJvciB0aHJvd24gYnkgYSBtYXAgZnVuY3Rpb24uXG4gICAgLy8gcHV0dGluZyB0cnkvY2F0Y2hlcyBpbiBhIHNpbmdsZSBmdW5jdGlvbiBhbHNvIGF2b2lkcyBkZW9wdGltaXphdGlvbnMuXG4gICAgdHJ5IHtcbiAgICAgIGZ1bihkb2MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVtaXRFcnJvcihkYiwgZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5UmVkdWNlKGRiLCBmdW4sIGtleXMsIHZhbHVlcywgcmVyZWR1Y2UpIHtcbiAgICAvLyBzYW1lIGFzIGFib3ZlLCBidXQgcmV0dXJuaW5nIHRoZSByZXN1bHQgb3IgYW4gZXJyb3IuIHRoZXJlIGFyZSB0d28gc2VwYXJhdGVcbiAgICAvLyBmdW5jdGlvbnMgdG8gYXZvaWQgZXh0cmEgbWVtb3J5IGFsbG9jYXRpb25zIHNpbmNlIHRoZSB0cnlDb2RlKCkgY2FzZSBpcyB1c2VkXG4gICAgLy8gZm9yIGN1c3RvbSBtYXAgZnVuY3Rpb25zIChjb21tb24pIHZzIHRoaXMgZnVuY3Rpb24sIHdoaWNoIGlzIG9ubHkgdXNlZCBmb3JcbiAgICAvLyBjdXN0b20gcmVkdWNlIGZ1bmN0aW9ucyAocmFyZSlcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtvdXRwdXQgOiBmdW4oa2V5cywgdmFsdWVzLCByZXJlZHVjZSl9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVtaXRFcnJvcihkYiwgZSk7XG4gICAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzb3J0QnlLZXlUaGVuVmFsdWUoeCwgeSkge1xuICAgIHZhciBrZXlDb21wYXJlID0gY29sbGF0ZSh4LmtleSwgeS5rZXkpO1xuICAgIHJldHVybiBrZXlDb21wYXJlICE9PSAwID8ga2V5Q29tcGFyZSA6IGNvbGxhdGUoeC52YWx1ZSwgeS52YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzbGljZVJlc3VsdHMocmVzdWx0cywgbGltaXQsIHNraXApIHtcbiAgICBza2lwID0gc2tpcCB8fCAwO1xuICAgIGlmICh0eXBlb2YgbGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gcmVzdWx0cy5zbGljZShza2lwLCBsaW1pdCArIHNraXApO1xuICAgIH0gZWxzZSBpZiAoc2tpcCA+IDApIHtcbiAgICAgIHJldHVybiByZXN1bHRzLnNsaWNlKHNraXApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJvd1RvRG9jSWQocm93KSB7XG4gICAgdmFyIHZhbCA9IHJvdy52YWx1ZTtcbiAgICAvLyBVc2VycyBjYW4gZXhwbGljaXRseSBzcGVjaWZ5IGEgam9pbmVkIGRvYyBfaWQsIG9yIGl0XG4gICAgLy8gZGVmYXVsdHMgdG8gdGhlIGRvYyBfaWQgdGhhdCBlbWl0dGVkIHRoZSBrZXkvdmFsdWUuXG4gICAgdmFyIGRvY0lkID0gKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwuX2lkKSB8fCByb3cuaWQ7XG4gICAgcmV0dXJuIGRvY0lkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocmVzKSB7XG4gICAgcmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICB2YXIgYXR0cyA9IHJvdy5kb2MgJiYgcm93LmRvYy5fYXR0YWNobWVudHM7XG4gICAgICBpZiAoIWF0dHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmtleXMoYXR0cykuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgICAgICBhdHRzW2ZpbGVuYW1lXS5kYXRhID0gYjY0VG9CbHVmZmVyKGF0dC5kYXRhLCBhdHQuY29udGVudF90eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKHJlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBhZGRIdHRwUGFyYW0ocGFyYW1OYW1lLCBvcHRzLCBwYXJhbXMsIGFzSnNvbikge1xuICAgIC8vIGFkZCBhbiBodHRwIHBhcmFtIGZyb20gb3B0cyB0byBwYXJhbXMsIG9wdGlvbmFsbHkganNvbi1lbmNvZGVkXG4gICAgdmFyIHZhbCA9IG9wdHNbcGFyYW1OYW1lXTtcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChhc0pzb24pIHtcbiAgICAgICAgdmFsID0gZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHZhbCkpO1xuICAgICAgfVxuICAgICAgcGFyYW1zLnB1c2gocGFyYW1OYW1lICsgJz0nICsgdmFsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb2VyY2VJbnRlZ2VyKGludGVnZXJDYW5kaWRhdGUpIHtcbiAgICBpZiAodHlwZW9mIGludGVnZXJDYW5kaWRhdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgYXNOdW1iZXIgPSBOdW1iZXIoaW50ZWdlckNhbmRpZGF0ZSk7XG4gICAgICAvLyBwcmV2ZW50cyBlLmcuICcxZm9vJyBvciAnMS4xJyBiZWluZyBjb2VyY2VkIHRvIDFcbiAgICAgIGlmICghaXNOYU4oYXNOdW1iZXIpICYmIGFzTnVtYmVyID09PSBwYXJzZUludChpbnRlZ2VyQ2FuZGlkYXRlLCAxMCkpIHtcbiAgICAgICAgcmV0dXJuIGFzTnVtYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGludGVnZXJDYW5kaWRhdGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29lcmNlT3B0aW9ucyhvcHRzKSB7XG4gICAgb3B0cy5ncm91cF9sZXZlbCA9IGNvZXJjZUludGVnZXIob3B0cy5ncm91cF9sZXZlbCk7XG4gICAgb3B0cy5saW1pdCA9IGNvZXJjZUludGVnZXIob3B0cy5saW1pdCk7XG4gICAgb3B0cy5za2lwID0gY29lcmNlSW50ZWdlcihvcHRzLnNraXApO1xuICAgIHJldHVybiBvcHRzO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tQb3NpdGl2ZUludGVnZXIobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlcikge1xuICAgICAgaWYgKHR5cGVvZiBudW1iZXIgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiAgbmV3IFF1ZXJ5UGFyc2VFcnJvcignSW52YWxpZCB2YWx1ZSBmb3IgaW50ZWdlcjogXCInICtcbiAgICAgICAgICBudW1iZXIgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlQYXJzZUVycm9yKCdJbnZhbGlkIHZhbHVlIGZvciBwb3NpdGl2ZSBpbnRlZ2VyOiAnICtcbiAgICAgICAgICAnXCInICsgbnVtYmVyICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0aW9ucywgZnVuKSB7XG4gICAgdmFyIHN0YXJ0a2V5TmFtZSA9IG9wdGlvbnMuZGVzY2VuZGluZyA/ICdlbmRrZXknIDogJ3N0YXJ0a2V5JztcbiAgICB2YXIgZW5ka2V5TmFtZSA9IG9wdGlvbnMuZGVzY2VuZGluZyA/ICdzdGFydGtleScgOiAnZW5ka2V5JztcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9uc1tzdGFydGtleU5hbWVdICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIG9wdGlvbnNbZW5ka2V5TmFtZV0gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBjb2xsYXRlKG9wdGlvbnNbc3RhcnRrZXlOYW1lXSwgb3B0aW9uc1tlbmRrZXlOYW1lXSkgPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCdObyByb3dzIGNhbiBtYXRjaCB5b3VyIGtleSByYW5nZSwgJyArXG4gICAgICAgICdyZXZlcnNlIHlvdXIgc3RhcnRfa2V5IGFuZCBlbmRfa2V5IG9yIHNldCB7ZGVzY2VuZGluZyA6IHRydWV9Jyk7XG4gICAgfSBlbHNlIGlmIChmdW4ucmVkdWNlICYmIG9wdGlvbnMucmVkdWNlICE9PSBmYWxzZSkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHRocm93IG5ldyBRdWVyeVBhcnNlRXJyb3IoJ3tpbmNsdWRlX2RvY3M6dHJ1ZX0gaXMgaW52YWxpZCBmb3IgcmVkdWNlJyk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMua2V5cyAmJiBvcHRpb25zLmtleXMubGVuZ3RoID4gMSAmJlxuICAgICAgICAhb3B0aW9ucy5ncm91cCAmJiAhb3B0aW9ucy5ncm91cF9sZXZlbCkge1xuICAgICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCdNdWx0aS1rZXkgZmV0Y2hlcyBmb3IgcmVkdWNlIHZpZXdzIG11c3QgdXNlICcgK1xuICAgICAgICAgICd7Z3JvdXA6IHRydWV9Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIFsnZ3JvdXBfbGV2ZWwnLCAnbGltaXQnLCAnc2tpcCddLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbk5hbWUpIHtcbiAgICAgIHZhciBlcnJvciA9IGNoZWNrUG9zaXRpdmVJbnRlZ2VyKG9wdGlvbnNbb3B0aW9uTmFtZV0pO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaHR0cFF1ZXJ5KGRiLCBmdW4sIG9wdHMpIHtcbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBQVVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICB2YXIgYm9keTtcbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG4gICAgdmFyIG9rLCBzdGF0dXM7XG5cbiAgICAvLyBJZiBvcHRzLnJlZHVjZSBleGlzdHMgYW5kIGlzIGRlZmluZWQsIHRoZW4gYWRkIGl0IHRvIHRoZSBsaXN0XG4gICAgLy8gb2YgcGFyYW1ldGVycy5cbiAgICAvLyBJZiByZWR1Y2U9ZmFsc2UgdGhlbiB0aGUgcmVzdWx0cyBhcmUgdGhhdCBvZiBvbmx5IHRoZSBtYXAgZnVuY3Rpb25cbiAgICAvLyBub3QgdGhlIGZpbmFsIHJlc3VsdCBvZiBtYXAgYW5kIHJlZHVjZS5cbiAgICBhZGRIdHRwUGFyYW0oJ3JlZHVjZScsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdpbmNsdWRlX2RvY3MnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnYXR0YWNobWVudHMnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnbGltaXQnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnZGVzY2VuZGluZycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdncm91cCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdncm91cF9sZXZlbCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdza2lwJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3N0YWxlJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2NvbmZsaWN0cycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFydGtleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFydF9rZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnZW5ka2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2VuZF9rZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnaW5jbHVzaXZlX2VuZCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdrZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgndXBkYXRlX3NlcScsIG9wdHMsIHBhcmFtcyk7XG5cbiAgICAvLyBGb3JtYXQgdGhlIGxpc3Qgb2YgcGFyYW1ldGVycyBpbnRvIGEgdmFsaWQgVVJJIHF1ZXJ5IHN0cmluZ1xuICAgIHBhcmFtcyA9IHBhcmFtcy5qb2luKCcmJyk7XG4gICAgcGFyYW1zID0gcGFyYW1zID09PSAnJyA/ICcnIDogJz8nICsgcGFyYW1zO1xuXG4gICAgLy8gSWYga2V5cyBhcmUgc3VwcGxpZWQsIGlzc3VlIGEgUE9TVCB0byBjaXJjdW12ZW50IEdFVCBxdWVyeSBzdHJpbmcgbGltaXRzXG4gICAgLy8gc2VlIGh0dHA6Ly93aWtpLmFwYWNoZS5vcmcvY291Y2hkYi9IVFRQX3ZpZXdfQVBJI1F1ZXJ5aW5nX09wdGlvbnNcbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBNQVhfVVJMX0xFTkdUSCA9IDIwMDA7XG4gICAgICAvLyBhY2NvcmRpbmcgdG8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDE3MTg0LzY4MDc0MixcbiAgICAgIC8vIHRoZSBkZSBmYWN0byBVUkwgbGVuZ3RoIGxpbWl0IGlzIDIwMDAgY2hhcmFjdGVyc1xuXG4gICAgICB2YXIga2V5c0FzU3RyaW5nID1cbiAgICAgICAgJ2tleXM9JyArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvcHRzLmtleXMpKTtcbiAgICAgIGlmIChrZXlzQXNTdHJpbmcubGVuZ3RoICsgcGFyYW1zLmxlbmd0aCArIDEgPD0gTUFYX1VSTF9MRU5HVEgpIHtcbiAgICAgICAgLy8gSWYgdGhlIGtleXMgYXJlIHNob3J0IGVub3VnaCwgZG8gYSBHRVQuIHdlIGRvIHRoaXMgdG8gd29yayBhcm91bmRcbiAgICAgICAgLy8gU2FmYXJpIG5vdCB1bmRlcnN0YW5kaW5nIDMwNHMgb24gUE9TVHMgKHNlZSBwb3VjaGRiL3BvdWNoZGIjMTIzOSlcbiAgICAgICAgcGFyYW1zICs9IChwYXJhbXNbMF0gPT09ICc/JyA/ICcmJyA6ICc/JykgKyBrZXlzQXNTdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICAgIGlmICh0eXBlb2YgZnVuID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGJvZHkgPSB7a2V5czogb3B0cy5rZXlzfTtcbiAgICAgICAgfSBlbHNlIHsgLy8gZnVuIGlzIHttYXAgOiBtYXBmdW59LCBzbyBhcHBlbmQgdG8gdGhpc1xuICAgICAgICAgIGZ1bi5rZXlzID0gb3B0cy5rZXlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIHJlZmVyZW5jaW5nIGEgcXVlcnkgZGVmaW5lZCBpbiB0aGUgZGVzaWduIGRvY1xuICAgIGlmICh0eXBlb2YgZnVuID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdW4pO1xuICAgICAgcmV0dXJuIGRiLmZldGNoKCdfZGVzaWduLycgKyBwYXJ0c1swXSArICcvX3ZpZXcvJyArIHBhcnRzWzFdICsgcGFyYW1zLCB7XG4gICAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgb2sgPSByZXNwb25zZS5vaztcbiAgICAgICAgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICByZXN1bHQuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmYWlsIHRoZSBlbnRpcmUgcmVxdWVzdCBpZiB0aGUgcmVzdWx0IGNvbnRhaW5zIGFuIGVycm9yXG4gICAgICAgIHJlc3VsdC5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChyb3cudmFsdWUgJiYgcm93LnZhbHVlLmVycm9yICYmIHJvdy52YWx1ZS5lcnJvciA9PT0gXCJidWlsdGluX3JlZHVjZV9lcnJvclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Iocm93LnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pLnRoZW4ocG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSk7XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIHVzaW5nIGEgdGVtcG9yYXJ5IHZpZXcsIHRlcnJpYmxlIGZvciBwZXJmb3JtYW5jZSwgZ29vZCBmb3IgdGVzdGluZ1xuICAgIGJvZHkgPSBib2R5IHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGZ1bikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShmdW5ba2V5XSkpIHtcbiAgICAgICAgYm9keVtrZXldID0gZnVuW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib2R5W2tleV0gPSBmdW5ba2V5XS50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRiLmZldGNoKCdfdGVtcF92aWV3JyArIHBhcmFtcywge1xuICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBvayA9IHJlc3BvbnNlLm9rO1xuICAgICAgICBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKCFvaykge1xuICAgICAgICByZXN1bHQuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pLnRoZW4ocG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSk7XG4gIH1cblxuICAvLyBjdXN0b20gYWRhcHRlcnMgY2FuIGRlZmluZSB0aGVpciBvd24gYXBpLl9xdWVyeVxuICAvLyBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gY3VzdG9tUXVlcnkoZGIsIGZ1biwgb3B0cykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBkYi5fcXVlcnkoZnVuLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGN1c3RvbSBhZGFwdGVycyBjYW4gZGVmaW5lIHRoZWlyIG93biBhcGkuX3ZpZXdDbGVhbnVwXG4gIC8vIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBjdXN0b21WaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBkYi5fdmlld0NsZWFudXAoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0c1RvKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAocmVhc29uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gcmV0dXJucyBhIHByb21pc2UgZm9yIGEgbGlzdCBvZiBkb2NzIHRvIHVwZGF0ZSwgYmFzZWQgb24gdGhlIGlucHV0IGRvY0lkLlxuICAvLyB0aGUgb3JkZXIgZG9lc24ndCBtYXR0ZXIsIGJlY2F1c2UgcG9zdC0zLjIuMCwgYnVsa0RvY3NcbiAgLy8gaXMgYW4gYXRvbWljIG9wZXJhdGlvbiBpbiBhbGwgdGhyZWUgYWRhcHRlcnMuXG4gIGZ1bmN0aW9uIGdldERvY3NUb1BlcnNpc3QoZG9jSWQsIHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKSB7XG4gICAgdmFyIG1ldGFEb2NJZCA9ICdfbG9jYWwvZG9jXycgKyBkb2NJZDtcbiAgICB2YXIgZGVmYXVsdE1ldGFEb2MgPSB7X2lkOiBtZXRhRG9jSWQsIGtleXM6IFtdfTtcbiAgICB2YXIgZG9jRGF0YSA9IGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLmdldChkb2NJZCk7XG4gICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IGRvY0RhdGFbMF07XG4gICAgdmFyIGNoYW5nZXMgPSBkb2NEYXRhWzFdO1xuXG4gICAgZnVuY3Rpb24gZ2V0TWV0YURvYygpIHtcbiAgICAgIGlmIChpc0dlbk9uZShjaGFuZ2VzKSkge1xuICAgICAgICAvLyBnZW5lcmF0aW9uIDEsIHNvIHdlIGNhbiBzYWZlbHkgYXNzdW1lIGluaXRpYWwgc3RhdGVcbiAgICAgICAgLy8gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKGF2b2lkcyB1bm5lY2Vzc2FyeSBHRVRzKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlZmF1bHRNZXRhRG9jKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2aWV3LmRiLmdldChtZXRhRG9jSWQpLmNhdGNoKGRlZmF1bHRzVG8oZGVmYXVsdE1ldGFEb2MpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRLZXlWYWx1ZURvY3MobWV0YURvYykge1xuICAgICAgaWYgKCFtZXRhRG9jLmtleXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIG5vIGtleXMsIG5vIG5lZWQgZm9yIGEgbG9va3VwXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3Jvd3M6IFtdfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmlldy5kYi5hbGxEb2NzKHtcbiAgICAgICAga2V5czogbWV0YURvYy5rZXlzLFxuICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NLZXlWYWx1ZURvY3MobWV0YURvYywga3ZEb2NzUmVzKSB7XG4gICAgICB2YXIga3ZEb2NzID0gW107XG4gICAgICB2YXIgb2xkS2V5cyA9IG5ldyBFeHBvcnRlZFNldCgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0ga3ZEb2NzUmVzLnJvd3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IGt2RG9jc1Jlcy5yb3dzW2ldO1xuICAgICAgICB2YXIgZG9jID0gcm93LmRvYztcbiAgICAgICAgaWYgKCFkb2MpIHsgLy8gZGVsZXRlZFxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGt2RG9jcy5wdXNoKGRvYyk7XG4gICAgICAgIG9sZEtleXMuYWRkKGRvYy5faWQpO1xuICAgICAgICBkb2MuX2RlbGV0ZWQgPSAhaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmhhcyhkb2MuX2lkKTtcbiAgICAgICAgaWYgKCFkb2MuX2RlbGV0ZWQpIHtcbiAgICAgICAgICB2YXIga2V5VmFsdWUgPSBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuZ2V0KGRvYy5faWQpO1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIGtleVZhbHVlKSB7XG4gICAgICAgICAgICBkb2MudmFsdWUgPSBrZXlWYWx1ZS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBuZXdLZXlzID0gbWFwVG9LZXlzQXJyYXkoaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKTtcbiAgICAgIG5ld0tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghb2xkS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgIC8vIG5ldyBkb2NcbiAgICAgICAgICB2YXIga3ZEb2MgPSB7XG4gICAgICAgICAgICBfaWQ6IGtleVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIGtleVZhbHVlID0gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmdldChrZXkpO1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIGtleVZhbHVlKSB7XG4gICAgICAgICAgICBrdkRvYy52YWx1ZSA9IGtleVZhbHVlLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrdkRvY3MucHVzaChrdkRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbWV0YURvYy5rZXlzID0gdW5pcShuZXdLZXlzLmNvbmNhdChtZXRhRG9jLmtleXMpKTtcbiAgICAgIGt2RG9jcy5wdXNoKG1ldGFEb2MpO1xuXG4gICAgICByZXR1cm4ga3ZEb2NzO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRNZXRhRG9jKCkudGhlbihmdW5jdGlvbiAobWV0YURvYykge1xuICAgICAgcmV0dXJuIGdldEtleVZhbHVlRG9jcyhtZXRhRG9jKS50aGVuKGZ1bmN0aW9uIChrdkRvY3NSZXMpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NLZXlWYWx1ZURvY3MobWV0YURvYywga3ZEb2NzUmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gdXBkYXRlcyBhbGwgZW1pdHRlZCBrZXkvdmFsdWUgZG9jcyBhbmQgbWV0YURvY3MgaW4gdGhlIG1ydmlldyBkYXRhYmFzZVxuICAvLyBmb3IgdGhlIGdpdmVuIGJhdGNoIG9mIGRvY3VtZW50cyBmcm9tIHRoZSBzb3VyY2UgZGF0YWJhc2VcbiAgZnVuY3Rpb24gc2F2ZUtleVZhbHVlcyh2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgc2VxKSB7XG4gICAgdmFyIHNlcURvY0lkID0gJ19sb2NhbC9sYXN0U2VxJztcbiAgICByZXR1cm4gdmlldy5kYi5nZXQoc2VxRG9jSWQpXG4gICAgICAuY2F0Y2goZGVmYXVsdHNUbyh7X2lkOiBzZXFEb2NJZCwgc2VxOiAwfSkpXG4gICAgICAudGhlbihmdW5jdGlvbiAobGFzdFNlcURvYykge1xuICAgICAgICB2YXIgZG9jSWRzID0gbWFwVG9LZXlzQXJyYXkoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZG9jSWRzLm1hcChmdW5jdGlvbiAoZG9jSWQpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0RG9jc1RvUGVyc2lzdChkb2NJZCwgdmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpO1xuICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAobGlzdE9mRG9jc1RvUGVyc2lzdCkge1xuICAgICAgICAgIHZhciBkb2NzVG9QZXJzaXN0ID0gZmxhdHRlbihsaXN0T2ZEb2NzVG9QZXJzaXN0KTtcbiAgICAgICAgICBsYXN0U2VxRG9jLnNlcSA9IHNlcTtcbiAgICAgICAgICBkb2NzVG9QZXJzaXN0LnB1c2gobGFzdFNlcURvYyk7XG4gICAgICAgICAgLy8gd3JpdGUgYWxsIGRvY3MgaW4gYSBzaW5nbGUgb3BlcmF0aW9uLCB1cGRhdGUgdGhlIHNlcSBvbmNlXG4gICAgICAgICAgcmV0dXJuIHZpZXcuZGIuYnVsa0RvY3Moe2RvY3MgOiBkb2NzVG9QZXJzaXN0fSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRRdWV1ZSh2aWV3KSB7XG4gICAgdmFyIHZpZXdOYW1lID0gdHlwZW9mIHZpZXcgPT09ICdzdHJpbmcnID8gdmlldyA6IHZpZXcubmFtZTtcbiAgICB2YXIgcXVldWUgPSBwZXJzaXN0ZW50UXVldWVzW3ZpZXdOYW1lXTtcbiAgICBpZiAoIXF1ZXVlKSB7XG4gICAgICBxdWV1ZSA9IHBlcnNpc3RlbnRRdWV1ZXNbdmlld05hbWVdID0gbmV3IFRhc2tRdWV1ZSQxKCk7XG4gICAgfVxuICAgIHJldHVybiBxdWV1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXcodmlldywgb3B0cykge1xuICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdXBkYXRlVmlld0luUXVldWUodmlldywgb3B0cyk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpIHtcbiAgICAvLyBiaW5kIHRoZSBlbWl0IGZ1bmN0aW9uIG9uY2VcbiAgICB2YXIgbWFwUmVzdWx0cztcbiAgICB2YXIgZG9jO1xuXG4gICAgZnVuY3Rpb24gZW1pdChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb3V0cHV0ID0ge2lkOiBkb2MuX2lkLCBrZXk6IG5vcm1hbGl6ZUtleShrZXkpfTtcbiAgICAgIC8vIERvbid0IGV4cGxpY2l0bHkgc3RvcmUgdGhlIHZhbHVlIHVubGVzcyBpdCdzIGRlZmluZWQgYW5kIG5vbi1udWxsLlxuICAgICAgLy8gVGhpcyBzYXZlcyBvbiBzdG9yYWdlIHNwYWNlLCBiZWNhdXNlIG9mdGVuIHBlb3BsZSBkb24ndCB1c2UgaXQuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBvdXRwdXQudmFsdWUgPSBub3JtYWxpemVLZXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgbWFwUmVzdWx0cy5wdXNoKG91dHB1dCk7XG4gICAgfVxuXG4gICAgdmFyIG1hcEZ1biA9IG1hcHBlcih2aWV3Lm1hcEZ1biwgZW1pdCk7XG5cbiAgICB2YXIgY3VycmVudFNlcSA9IHZpZXcuc2VxIHx8IDA7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzQ2hhbmdlKGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzYXZlS2V5VmFsdWVzKHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgaW5kZXhlZF9kb2NzID0gMDtcbiAgICBsZXQgcHJvZ3Jlc3MgPSB7XG4gICAgICB2aWV3OiB2aWV3Lm5hbWUsXG4gICAgICBpbmRleGVkX2RvY3M6IGluZGV4ZWRfZG9jc1xuICAgIH07XG4gICAgdmlldy5zb3VyY2VEQi5lbWl0KCdpbmRleGluZycsIHByb2dyZXNzKTtcblxuICAgIHZhciBxdWV1ZSA9IG5ldyBUYXNrUXVldWUkMSgpO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc05leHRCYXRjaCgpIHtcbiAgICAgIHJldHVybiB2aWV3LnNvdXJjZURCLmNoYW5nZXMoe1xuICAgICAgICByZXR1cm5fZG9jczogdHJ1ZSxcbiAgICAgICAgY29uZmxpY3RzOiB0cnVlLFxuICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICAgIHN0eWxlOiAnYWxsX2RvY3MnLFxuICAgICAgICBzaW5jZTogY3VycmVudFNlcSxcbiAgICAgICAgbGltaXQ6IG9wdHMuY2hhbmdlc19iYXRjaF9zaXplXG4gICAgICB9KS50aGVuKHByb2Nlc3NCYXRjaCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgcmVzdWx0cyA9IHJlc3BvbnNlLnJlc3VsdHM7XG4gICAgICBpZiAoIXJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyA9IGNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKHJlc3VsdHMpO1xuICAgICAgcXVldWUuYWRkKHByb2Nlc3NDaGFuZ2UoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIGN1cnJlbnRTZXEpKTtcblxuICAgICAgaW5kZXhlZF9kb2NzID0gaW5kZXhlZF9kb2NzICsgcmVzdWx0cy5sZW5ndGg7XG4gICAgICBsZXQgcHJvZ3Jlc3MgPSB7XG4gICAgICAgIHZpZXc6IHZpZXcubmFtZSxcbiAgICAgICAgbGFzdF9zZXE6IHJlc3BvbnNlLmxhc3Rfc2VxLFxuICAgICAgICByZXN1bHRzX2NvdW50OiByZXN1bHRzLmxlbmd0aCxcbiAgICAgICAgaW5kZXhlZF9kb2NzOiBpbmRleGVkX2RvY3NcbiAgICAgIH07XG4gICAgICB2aWV3LnNvdXJjZURCLmVtaXQoJ2luZGV4aW5nJywgcHJvZ3Jlc3MpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPCBvcHRzLmNoYW5nZXNfYmF0Y2hfc2l6ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvY2Vzc05leHRCYXRjaCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKHJlc3VsdHMpIHtcbiAgICAgIHZhciBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNoYW5nZSA9IHJlc3VsdHNbaV07XG4gICAgICAgIGlmIChjaGFuZ2UuZG9jLl9pZFswXSAhPT0gJ18nKSB7XG4gICAgICAgICAgbWFwUmVzdWx0cyA9IFtdO1xuICAgICAgICAgIGRvYyA9IGNoYW5nZS5kb2M7XG5cbiAgICAgICAgICBpZiAoIWRvYy5fZGVsZXRlZCkge1xuICAgICAgICAgICAgdHJ5TWFwKHZpZXcuc291cmNlREIsIG1hcEZ1biwgZG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFwUmVzdWx0cy5zb3J0KHNvcnRCeUtleVRoZW5WYWx1ZSk7XG5cbiAgICAgICAgICB2YXIgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzID0gY3JlYXRlSW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKG1hcFJlc3VsdHMpO1xuICAgICAgICAgIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLnNldChjaGFuZ2UuZG9jLl9pZCwgW1xuICAgICAgICAgICAgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLFxuICAgICAgICAgICAgY2hhbmdlLmNoYW5nZXNcbiAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50U2VxID0gY2hhbmdlLnNlcTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMobWFwUmVzdWx0cykge1xuICAgICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgdmFyIGxhc3RLZXk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWFwUmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgZW1pdHRlZEtleVZhbHVlID0gbWFwUmVzdWx0c1tpXTtcbiAgICAgICAgdmFyIGNvbXBsZXhLZXkgPSBbZW1pdHRlZEtleVZhbHVlLmtleSwgZW1pdHRlZEtleVZhbHVlLmlkXTtcbiAgICAgICAgaWYgKGkgPiAwICYmIGNvbGxhdGUoZW1pdHRlZEtleVZhbHVlLmtleSwgbGFzdEtleSkgPT09IDApIHtcbiAgICAgICAgICBjb21wbGV4S2V5LnB1c2goaSk7IC8vIGR1cCBrZXkraWQsIHNvIG1ha2UgaXQgdW5pcXVlXG4gICAgICAgIH1cbiAgICAgICAgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLnNldCh0b0luZGV4YWJsZVN0cmluZyhjb21wbGV4S2V5KSwgZW1pdHRlZEtleVZhbHVlKTtcbiAgICAgICAgbGFzdEtleSA9IGVtaXR0ZWRLZXlWYWx1ZS5rZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzTmV4dEJhdGNoKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVldWUuZmluaXNoKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2aWV3LnNlcSA9IGN1cnJlbnRTZXE7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWR1Y2VWaWV3KHZpZXcsIHJlc3VsdHMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5ncm91cF9sZXZlbCA9PT0gMCkge1xuICAgICAgZGVsZXRlIG9wdGlvbnMuZ3JvdXBfbGV2ZWw7XG4gICAgfVxuXG4gICAgdmFyIHNob3VsZEdyb3VwID0gb3B0aW9ucy5ncm91cCB8fCBvcHRpb25zLmdyb3VwX2xldmVsO1xuXG4gICAgdmFyIHJlZHVjZUZ1biA9IHJlZHVjZXIodmlldy5yZWR1Y2VGdW4pO1xuXG4gICAgdmFyIGdyb3VwcyA9IFtdO1xuICAgIHZhciBsdmwgPSBpc05hTihvcHRpb25zLmdyb3VwX2xldmVsKSA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6XG4gICAgICBvcHRpb25zLmdyb3VwX2xldmVsO1xuICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGxhc3QgPSBncm91cHNbZ3JvdXBzLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIGdyb3VwS2V5ID0gc2hvdWxkR3JvdXAgPyBlLmtleSA6IG51bGw7XG5cbiAgICAgIC8vIG9ubHkgc2V0IGdyb3VwX2xldmVsIGZvciBhcnJheSBrZXlzXG4gICAgICBpZiAoc2hvdWxkR3JvdXAgJiYgQXJyYXkuaXNBcnJheShncm91cEtleSkpIHtcbiAgICAgICAgZ3JvdXBLZXkgPSBncm91cEtleS5zbGljZSgwLCBsdmwpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGFzdCAmJiBjb2xsYXRlKGxhc3QuZ3JvdXBLZXksIGdyb3VwS2V5KSA9PT0gMCkge1xuICAgICAgICBsYXN0LmtleXMucHVzaChbZS5rZXksIGUuaWRdKTtcbiAgICAgICAgbGFzdC52YWx1ZXMucHVzaChlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICBrZXlzOiBbW2Uua2V5LCBlLmlkXV0sXG4gICAgICAgIHZhbHVlczogW2UudmFsdWVdLFxuICAgICAgICBncm91cEtleTogZ3JvdXBLZXlcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZSA9IGdyb3Vwc1tpXTtcbiAgICAgIHZhciByZWR1Y2VUcnkgPSB0cnlSZWR1Y2Uodmlldy5zb3VyY2VEQiwgcmVkdWNlRnVuLCBlLmtleXMsIGUudmFsdWVzLCBmYWxzZSk7XG4gICAgICBpZiAocmVkdWNlVHJ5LmVycm9yICYmIHJlZHVjZVRyeS5lcnJvciBpbnN0YW5jZW9mIEJ1aWx0SW5FcnJvcikge1xuICAgICAgICAvLyBDb3VjaERCIHJldHVybnMgYW4gZXJyb3IgaWYgYSBidWlsdC1pbiBlcnJvcnMgb3V0XG4gICAgICAgIHRocm93IHJlZHVjZVRyeS5lcnJvcjtcbiAgICAgIH1cbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIC8vIENvdWNoREIganVzdCBzZXRzIHRoZSB2YWx1ZSB0byBudWxsIGlmIGEgbm9uLWJ1aWx0LWluIGVycm9ycyBvdXRcbiAgICAgICAgdmFsdWU6IHJlZHVjZVRyeS5lcnJvciA/IG51bGwgOiByZWR1Y2VUcnkub3V0cHV0LFxuICAgICAgICBrZXk6IGUuZ3JvdXBLZXlcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBubyB0b3RhbF9yb3dzL29mZnNldCB3aGVuIHJlZHVjaW5nXG4gICAgcmV0dXJuIHtyb3dzOiBzbGljZVJlc3VsdHMocmVzdWx0cywgb3B0aW9ucy5saW1pdCwgb3B0aW9ucy5za2lwKX07XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVZpZXcodmlldywgb3B0cykge1xuICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVlcnlWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcXVlcnlWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKSB7XG4gICAgdmFyIHRvdGFsUm93cztcbiAgICB2YXIgc2hvdWxkUmVkdWNlID0gdmlldy5yZWR1Y2VGdW4gJiYgb3B0cy5yZWR1Y2UgIT09IGZhbHNlO1xuICAgIHZhciBza2lwID0gb3B0cy5za2lwIHx8IDA7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnICYmICFvcHRzLmtleXMubGVuZ3RoKSB7XG4gICAgICAvLyBlcXVpdmFsZW50IHF1ZXJ5XG4gICAgICBvcHRzLmxpbWl0ID0gMDtcbiAgICAgIGRlbGV0ZSBvcHRzLmtleXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmV0Y2hGcm9tVmlldyh2aWV3T3B0cykge1xuICAgICAgdmlld09wdHMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICAgIHJldHVybiB2aWV3LmRiLmFsbERvY3Modmlld09wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB0b3RhbFJvd3MgPSByZXMudG90YWxfcm93cztcbiAgICAgICAgcmV0dXJuIHJlcy5yb3dzLm1hcChmdW5jdGlvbiAocmVzdWx0KSB7XG5cbiAgICAgICAgICAvLyBpbXBsaWNpdCBtaWdyYXRpb24gLSBpbiBvbGRlciB2ZXJzaW9ucyBvZiBQb3VjaERCLFxuICAgICAgICAgIC8vIHdlIGV4cGxpY2l0bHkgc3RvcmVkIHRoZSBkb2MgYXMge2lkOiAuLi4sIGtleTogLi4uLCB2YWx1ZTogLi4ufVxuICAgICAgICAgIC8vIHRoaXMgaXMgdGVzdGVkIGluIGEgbWlncmF0aW9uIHRlc3RcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIHJlc3VsdC5kb2MgJiYgdHlwZW9mIHJlc3VsdC5kb2MudmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICByZXN1bHQuZG9jLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlc3VsdC5kb2MudmFsdWUpLnNvcnQoKTtcbiAgICAgICAgICAgIC8vIHRoaXMgZGV0ZWN0aW9uIG1ldGhvZCBpcyBub3QgcGVyZmVjdCwgYnV0IGl0J3MgdW5saWtlbHkgdGhlIHVzZXJcbiAgICAgICAgICAgIC8vIGVtaXR0ZWQgYSB2YWx1ZSB3aGljaCB3YXMgYW4gb2JqZWN0IHdpdGggdGhlc2UgMyBleGFjdCBrZXlzXG4gICAgICAgICAgICB2YXIgZXhwZWN0ZWRLZXlzID0gWydpZCcsICdrZXknLCAndmFsdWUnXTtcbiAgICAgICAgICAgIGlmICghKGtleXMgPCBleHBlY3RlZEtleXMgfHwga2V5cyA+IGV4cGVjdGVkS2V5cykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb2MudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHBhcnNlZEtleUFuZERvY0lkID0gcGFyc2VJbmRleGFibGVTdHJpbmcocmVzdWx0LmRvYy5faWQpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IHBhcnNlZEtleUFuZERvY0lkWzBdLFxuICAgICAgICAgICAgaWQ6IHBhcnNlZEtleUFuZERvY0lkWzFdLFxuICAgICAgICAgICAgdmFsdWU6ICgndmFsdWUnIGluIHJlc3VsdC5kb2MgPyByZXN1bHQuZG9jLnZhbHVlIDogbnVsbClcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWFwUmVzdWx0c1JlYWR5KHJvd3MpIHtcbiAgICAgIHZhciBmaW5hbFJlc3VsdHM7XG4gICAgICBpZiAoc2hvdWxkUmVkdWNlKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHJlZHVjZVZpZXcodmlldywgcm93cywgb3B0cyk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRzLmtleXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHtcbiAgICAgICAgICB0b3RhbF9yb3dzOiB0b3RhbFJvd3MsXG4gICAgICAgICAgb2Zmc2V0OiBza2lwLFxuICAgICAgICAgIHJvd3M6IHJvd3NcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHN1cHBvcnQgbGltaXQsIHNraXAgZm9yIGtleXMgcXVlcnlcbiAgICAgICAgZmluYWxSZXN1bHRzID0ge1xuICAgICAgICAgIHRvdGFsX3Jvd3M6IHRvdGFsUm93cyxcbiAgICAgICAgICBvZmZzZXQ6IHNraXAsXG4gICAgICAgICAgcm93czogc2xpY2VSZXN1bHRzKHJvd3Msb3B0cy5saW1pdCxvcHRzLnNraXApXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgICAgZmluYWxSZXN1bHRzLnVwZGF0ZV9zZXEgPSB2aWV3LnNlcTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgICB2YXIgZG9jSWRzID0gdW5pcShyb3dzLm1hcChyb3dUb0RvY0lkKSk7XG5cbiAgICAgICAgcmV0dXJuIHZpZXcuc291cmNlREIuYWxsRG9jcyh7XG4gICAgICAgICAga2V5czogZG9jSWRzLFxuICAgICAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgICAgICBjb25mbGljdHM6IG9wdHMuY29uZmxpY3RzLFxuICAgICAgICAgIGF0dGFjaG1lbnRzOiBvcHRzLmF0dGFjaG1lbnRzLFxuICAgICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnlcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYWxsRG9jc1Jlcykge1xuICAgICAgICAgIHZhciBkb2NJZHNUb0RvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgICAgICBhbGxEb2NzUmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICBkb2NJZHNUb0RvY3Muc2V0KHJvdy5pZCwgcm93LmRvYyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIHZhciBkb2NJZCA9IHJvd1RvRG9jSWQocm93KTtcbiAgICAgICAgICAgIHZhciBkb2MgPSBkb2NJZHNUb0RvY3MuZ2V0KGRvY0lkKTtcbiAgICAgICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICAgICAgcm93LmRvYyA9IGRvYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZmluYWxSZXN1bHRzO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmaW5hbFJlc3VsdHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIga2V5cyA9IG9wdHMua2V5cztcbiAgICAgIHZhciBmZXRjaFByb21pc2VzID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgdmlld09wdHMgPSB7XG4gICAgICAgICAgc3RhcnRrZXkgOiB0b0luZGV4YWJsZVN0cmluZyhba2V5XSksXG4gICAgICAgICAgZW5ka2V5ICAgOiB0b0luZGV4YWJsZVN0cmluZyhba2V5LCB7fV0pXG4gICAgICAgIH07XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgICAgdmlld09wdHMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZldGNoRnJvbVZpZXcodmlld09wdHMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmV0Y2hQcm9taXNlcykudGhlbihmbGF0dGVuKS50aGVuKG9uTWFwUmVzdWx0c1JlYWR5KTtcbiAgICB9IGVsc2UgeyAvLyBub3JtYWwgcXVlcnksIG5vICdrZXlzJ1xuICAgICAgdmFyIHZpZXdPcHRzID0ge1xuICAgICAgICBkZXNjZW5kaW5nIDogb3B0cy5kZXNjZW5kaW5nXG4gICAgICB9O1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgIHZpZXdPcHRzLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHN0YXJ0a2V5O1xuICAgICAgdmFyIGVuZGtleTtcbiAgICAgIGlmICgnc3RhcnRfa2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIHN0YXJ0a2V5ID0gb3B0cy5zdGFydF9rZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ3N0YXJ0a2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIHN0YXJ0a2V5ID0gb3B0cy5zdGFydGtleTtcbiAgICAgIH1cbiAgICAgIGlmICgnZW5kX2tleScgaW4gb3B0cykge1xuICAgICAgICBlbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ2VuZGtleScgaW4gb3B0cykge1xuICAgICAgICBlbmRrZXkgPSBvcHRzLmVuZGtleTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc3RhcnRrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0gb3B0cy5kZXNjZW5kaW5nID9cbiAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhbc3RhcnRrZXksIHt9XSkgOlxuICAgICAgICAgIHRvSW5kZXhhYmxlU3RyaW5nKFtzdGFydGtleV0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBlbmRrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpbmNsdXNpdmVFbmQgPSBvcHRzLmluY2x1c2l2ZV9lbmQgIT09IGZhbHNlO1xuICAgICAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICAgICAgaW5jbHVzaXZlRW5kID0gIWluY2x1c2l2ZUVuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IHRvSW5kZXhhYmxlU3RyaW5nKFxuICAgICAgICAgIGluY2x1c2l2ZUVuZCA/IFtlbmRrZXksIHt9XSA6IFtlbmRrZXldKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0cy5rZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBrZXlTdGFydCA9IHRvSW5kZXhhYmxlU3RyaW5nKFtvcHRzLmtleV0pO1xuICAgICAgICB2YXIga2V5RW5kID0gdG9JbmRleGFibGVTdHJpbmcoW29wdHMua2V5LCB7fV0pO1xuICAgICAgICBpZiAodmlld09wdHMuZGVzY2VuZGluZykge1xuICAgICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IGtleVN0YXJ0O1xuICAgICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0ga2V5RW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0ga2V5U3RhcnQ7XG4gICAgICAgICAgdmlld09wdHMuZW5ka2V5ID0ga2V5RW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNob3VsZFJlZHVjZSkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdHMubGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdmlld09wdHMubGltaXQgPSBvcHRzLmxpbWl0O1xuICAgICAgICB9XG4gICAgICAgIHZpZXdPcHRzLnNraXAgPSBza2lwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoRnJvbVZpZXcodmlld09wdHMpLnRoZW4ob25NYXBSZXN1bHRzUmVhZHkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGh0dHBWaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBkYi5mZXRjaCgnX3ZpZXdfY2xlYW51cCcsIHtcbiAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9jYWxWaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBkYi5nZXQoJ19sb2NhbC8nICsgbG9jYWxEb2NOYW1lKS50aGVuKGZ1bmN0aW9uIChtZXRhRG9jKSB7XG4gICAgICB2YXIgZG9jc1RvVmlld3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgIE9iamVjdC5rZXlzKG1ldGFEb2Mudmlld3MpLmZvckVhY2goZnVuY3Rpb24gKGZ1bGxWaWV3TmFtZSkge1xuICAgICAgICB2YXIgcGFydHMgPSBwYXJzZVZpZXdOYW1lKGZ1bGxWaWV3TmFtZSk7XG4gICAgICAgIHZhciBkZXNpZ25Eb2NOYW1lID0gJ19kZXNpZ24vJyArIHBhcnRzWzBdO1xuICAgICAgICB2YXIgdmlld05hbWUgPSBwYXJ0c1sxXTtcbiAgICAgICAgdmFyIHZpZXdzID0gZG9jc1RvVmlld3MuZ2V0KGRlc2lnbkRvY05hbWUpO1xuICAgICAgICBpZiAoIXZpZXdzKSB7XG4gICAgICAgICAgdmlld3MgPSBuZXcgRXhwb3J0ZWRTZXQoKTtcbiAgICAgICAgICBkb2NzVG9WaWV3cy5zZXQoZGVzaWduRG9jTmFtZSwgdmlld3MpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXdzLmFkZCh2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICBrZXlzIDogbWFwVG9LZXlzQXJyYXkoZG9jc1RvVmlld3MpLFxuICAgICAgICBpbmNsdWRlX2RvY3MgOiB0cnVlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGRiLmFsbERvY3Mob3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHZhciB2aWV3c1RvU3RhdHVzID0ge307XG4gICAgICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgIHZhciBkZG9jTmFtZSA9IHJvdy5rZXkuc3Vic3RyaW5nKDgpOyAvLyBjdXRzIG9mZiAnX2Rlc2lnbi8nXG4gICAgICAgICAgZG9jc1RvVmlld3MuZ2V0KHJvdy5rZXkpLmZvckVhY2goZnVuY3Rpb24gKHZpZXdOYW1lKSB7XG4gICAgICAgICAgICB2YXIgZnVsbFZpZXdOYW1lID0gZGRvY05hbWUgKyAnLycgKyB2aWV3TmFtZTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKCFtZXRhRG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0pIHtcbiAgICAgICAgICAgICAgLy8gbmV3IGZvcm1hdCwgd2l0aG91dCBzbGFzaGVzLCB0byBzdXBwb3J0IFBvdWNoREIgMi4yLjBcbiAgICAgICAgICAgICAgLy8gbWlncmF0aW9uIHRlc3QgaW4gcG91Y2hkYidzIGJyb3dzZXIubWlncmF0aW9uLmpzIHZlcmlmaWVzIHRoaXNcbiAgICAgICAgICAgICAgZnVsbFZpZXdOYW1lID0gdmlld05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmlld0RCTmFtZXMgPSBPYmplY3Qua2V5cyhtZXRhRG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0pO1xuICAgICAgICAgICAgLy8gZGVzaWduIGRvYyBkZWxldGVkLCBvciB2aWV3IGZ1bmN0aW9uIG5vbmV4aXN0ZW50XG4gICAgICAgICAgICB2YXIgc3RhdHVzSXNHb29kID0gcm93LmRvYyAmJiByb3cuZG9jLnZpZXdzICYmXG4gICAgICAgICAgICAgIHJvdy5kb2Mudmlld3Nbdmlld05hbWVdO1xuICAgICAgICAgICAgdmlld0RCTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAodmlld0RCTmFtZSkge1xuICAgICAgICAgICAgICB2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdID1cbiAgICAgICAgICAgICAgICB2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdIHx8IHN0YXR1c0lzR29vZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGRic1RvRGVsZXRlID0gT2JqZWN0LmtleXModmlld3NUb1N0YXR1cykuZmlsdGVyKFxuICAgICAgICAgIGZ1bmN0aW9uICh2aWV3REJOYW1lKSB7IHJldHVybiAhdmlld3NUb1N0YXR1c1t2aWV3REJOYW1lXTsgfSk7XG4gICAgICAgIHZhciBkZXN0cm95UHJvbWlzZXMgPSBkYnNUb0RlbGV0ZS5tYXAoZnVuY3Rpb24gKHZpZXdEQk5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gc2VxdWVudGlhbGl6ZShnZXRRdWV1ZSh2aWV3REJOYW1lKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBkYi5jb25zdHJ1Y3Rvcih2aWV3REJOYW1lLCBkYi5fX29wdHMpLmRlc3Ryb3koKTtcbiAgICAgICAgICB9KSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGRlc3Ryb3lQcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHtvazogdHJ1ZX07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSwgZGVmYXVsdHNUbyh7b2s6IHRydWV9KSk7XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVByb21pc2VkKGRiLCBmdW4sIG9wdHMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2YgZGIuX3F1ZXJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VzdG9tUXVlcnkoZGIsIGZ1biwgb3B0cyk7XG4gICAgfVxuICAgIGlmIChpc1JlbW90ZShkYikpIHtcbiAgICAgIHJldHVybiBodHRwUXVlcnkoZGIsIGZ1biwgb3B0cyk7XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZVZpZXdPcHRzID0ge1xuICAgICAgY2hhbmdlc19iYXRjaF9zaXplOiBkYi5fX29wdHMudmlld191cGRhdGVfY2hhbmdlc19iYXRjaF9zaXplIHx8IENIQU5HRVNfQkFUQ0hfU0laRSQxXG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgZnVuICE9PSAnc3RyaW5nJykge1xuICAgICAgLy8gdGVtcF92aWV3XG4gICAgICBjaGVja1F1ZXJ5UGFyc2VFcnJvcihvcHRzLCBmdW4pO1xuXG4gICAgICB0ZW1wVmlld1F1ZXVlLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjcmVhdGVWaWV3UHJvbWlzZSA9IGNyZWF0ZVZpZXcoXG4gICAgICAgICAgLyogc291cmNlREIgKi8gZGIsXG4gICAgICAgICAgLyogdmlld05hbWUgKi8gJ3RlbXBfdmlldy90ZW1wX3ZpZXcnLFxuICAgICAgICAgIC8qIG1hcEZ1biAqLyBmdW4ubWFwLFxuICAgICAgICAgIC8qIHJlZHVjZUZ1biAqLyBmdW4ucmVkdWNlLFxuICAgICAgICAgIC8qIHRlbXBvcmFyeSAqLyB0cnVlLFxuICAgICAgICAgIC8qIGxvY2FsRG9jTmFtZSAqLyBsb2NhbERvY05hbWUpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVmlld1Byb21pc2UudGhlbihmdW5jdGlvbiAodmlldykge1xuICAgICAgICAgIHJldHVybiBmaW4odXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVlcnlWaWV3KHZpZXcsIG9wdHMpO1xuICAgICAgICAgIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldy5kYi5kZXN0cm95KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGVtcFZpZXdRdWV1ZS5maW5pc2goKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcGVyc2lzdGVudCB2aWV3XG4gICAgICB2YXIgZnVsbFZpZXdOYW1lID0gZnVuO1xuICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdWxsVmlld05hbWUpO1xuICAgICAgdmFyIGRlc2lnbkRvY05hbWUgPSBwYXJ0c1swXTtcbiAgICAgIHZhciB2aWV3TmFtZSA9IHBhcnRzWzFdO1xuICAgICAgcmV0dXJuIGRiLmdldCgnX2Rlc2lnbi8nICsgZGVzaWduRG9jTmFtZSkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHZhciBmdW4gPSBkb2Mudmlld3MgJiYgZG9jLnZpZXdzW3ZpZXdOYW1lXTtcblxuICAgICAgICBpZiAoIWZ1bikge1xuICAgICAgICAgIC8vIGJhc2ljIHZhbGlkYXRvcjsgaXQncyBhc3N1bWVkIHRoYXQgZXZlcnkgc3ViY2xhc3Mgd291bGQgd2FudCB0aGlzXG4gICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoJ2Rkb2MgJyArIGRvYy5faWQgKyAnIGhhcyBubyB2aWV3IG5hbWVkICcgK1xuICAgICAgICAgICAgdmlld05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGRvY1ZhbGlkYXRvcihkb2MsIHZpZXdOYW1lKTtcbiAgICAgICAgY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0cywgZnVuKTtcblxuICAgICAgICB2YXIgY3JlYXRlVmlld1Byb21pc2UgPSBjcmVhdGVWaWV3KFxuICAgICAgICAgIC8qIHNvdXJjZURCICovIGRiLFxuICAgICAgICAgIC8qIHZpZXdOYW1lICovIGZ1bGxWaWV3TmFtZSxcbiAgICAgICAgICAvKiBtYXBGdW4gKi8gZnVuLm1hcCxcbiAgICAgICAgICAvKiByZWR1Y2VGdW4gKi8gZnVuLnJlZHVjZSxcbiAgICAgICAgICAvKiB0ZW1wb3JhcnkgKi8gZmFsc2UsXG4gICAgICAgICAgLyogbG9jYWxEb2NOYW1lICovIGxvY2FsRG9jTmFtZSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVWaWV3UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgICAgaWYgKG9wdHMuc3RhbGUgPT09ICdvaycgfHwgb3B0cy5zdGFsZSA9PT0gJ3VwZGF0ZV9hZnRlcicpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLnN0YWxlID09PSAndXBkYXRlX2FmdGVyJykge1xuICAgICAgICAgICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcodmlldywgdXBkYXRlVmlld09wdHMpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gc3RhbGUgbm90IG9rXG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWJzdHJhY3RRdWVyeShmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRiID0gdGhpcztcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IG9wdHMgPyBjb2VyY2VPcHRpb25zKG9wdHMpIDoge307XG5cbiAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZnVuID0ge21hcCA6IGZ1bn07XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxdWVyeVByb21pc2VkKGRiLCBmdW4sIG9wdHMpO1xuICAgIH0pO1xuICAgIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdmFyIGFic3RyYWN0Vmlld0NsZWFudXAgPSBjYWxsYmFja2lmeShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRiID0gdGhpcztcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2YgZGIuX3ZpZXdDbGVhbnVwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VzdG9tVmlld0NsZWFudXAoZGIpO1xuICAgIH1cbiAgICBpZiAoaXNSZW1vdGUoZGIpKSB7XG4gICAgICByZXR1cm4gaHR0cFZpZXdDbGVhbnVwKGRiKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsVmlld0NsZWFudXAoZGIpO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHF1ZXJ5OiBhYnN0cmFjdFF1ZXJ5LFxuICAgIHZpZXdDbGVhbnVwOiBhYnN0cmFjdFZpZXdDbGVhbnVwXG4gIH07XG59XG5cbnZhciBidWlsdEluUmVkdWNlID0ge1xuICBfc3VtOiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHN1bSh2YWx1ZXMpO1xuICB9LFxuXG4gIF9jb3VudDogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoO1xuICB9LFxuXG4gIF9zdGF0czogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIC8vIG5vIG5lZWQgdG8gaW1wbGVtZW50IHJlcmVkdWNlPXRydWUsIGJlY2F1c2UgUG91Y2hcbiAgICAvLyB3aWxsIG5ldmVyIGNhbGwgaXRcbiAgICBmdW5jdGlvbiBzdW1zcXIodmFsdWVzKSB7XG4gICAgICB2YXIgX3N1bXNxciA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBudW0gPSB2YWx1ZXNbaV07XG4gICAgICAgIF9zdW1zcXIgKz0gKG51bSAqIG51bSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3N1bXNxcjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1bSAgICAgOiBzdW0odmFsdWVzKSxcbiAgICAgIG1pbiAgICAgOiBNYXRoLm1pbi5hcHBseShudWxsLCB2YWx1ZXMpLFxuICAgICAgbWF4ICAgICA6IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyksXG4gICAgICBjb3VudCAgIDogdmFsdWVzLmxlbmd0aCxcbiAgICAgIHN1bXNxciA6IHN1bXNxcih2YWx1ZXMpXG4gICAgfTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0QnVpbHRJbihyZWR1Y2VGdW5TdHJpbmcpIHtcbiAgaWYgKC9eX3N1bS8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX3N1bTtcbiAgfSBlbHNlIGlmICgvXl9jb3VudC8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX2NvdW50O1xuICB9IGVsc2UgaWYgKC9eX3N0YXRzLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICByZXR1cm4gYnVpbHRJblJlZHVjZS5fc3RhdHM7XG4gIH0gZWxzZSBpZiAoL15fLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocmVkdWNlRnVuU3RyaW5nICsgJyBpcyBub3QgYSBzdXBwb3J0ZWQgcmVkdWNlIGZ1bmN0aW9uLicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcHBlcihtYXBGdW4sIGVtaXQpIHtcbiAgLy8gZm9yIHRlbXBfdmlld3Mgb25lIGNhbiB1c2UgZW1pdChkb2MsIGVtaXQpLCBzZWUgIzM4XG4gIGlmICh0eXBlb2YgbWFwRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgbWFwRnVuLmxlbmd0aCA9PT0gMikge1xuICAgIHZhciBvcmlnTWFwID0gbWFwRnVuO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICByZXR1cm4gb3JpZ01hcChkb2MsIGVtaXQpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV2YWxGdW5jdGlvbldpdGhFdmFsKG1hcEZ1bi50b1N0cmluZygpLCBlbWl0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWR1Y2VyKHJlZHVjZUZ1bikge1xuICB2YXIgcmVkdWNlRnVuU3RyaW5nID0gcmVkdWNlRnVuLnRvU3RyaW5nKCk7XG4gIHZhciBidWlsdEluID0gZ2V0QnVpbHRJbihyZWR1Y2VGdW5TdHJpbmcpO1xuICBpZiAoYnVpbHRJbikge1xuICAgIHJldHVybiBidWlsdEluO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBldmFsRnVuY3Rpb25XaXRoRXZhbChyZWR1Y2VGdW5TdHJpbmcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRkb2NWYWxpZGF0b3IoZGRvYywgdmlld05hbWUpIHtcbiAgdmFyIGZ1biA9IGRkb2Mudmlld3MgJiYgZGRvYy52aWV3c1t2aWV3TmFtZV07XG4gIGlmICh0eXBlb2YgZnVuLm1hcCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcignZGRvYyAnICsgZGRvYy5faWQgKyAnIGhhcyBubyBzdHJpbmcgdmlldyBuYW1lZCAnICtcbiAgICAgIHZpZXdOYW1lICsgJywgaW5zdGVhZCBmb3VuZCBvYmplY3Qgb2YgdHlwZTogJyArIHR5cGVvZiBmdW4ubWFwKTtcbiAgfVxufVxuXG52YXIgbG9jYWxEb2NOYW1lID0gJ21ydmlld3MnO1xudmFyIGFic3RyYWN0ID0gY3JlYXRlQWJzdHJhY3RNYXBSZWR1Y2UobG9jYWxEb2NOYW1lLCBtYXBwZXIsIHJlZHVjZXIsIGRkb2NWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBxdWVyeShmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBhYnN0cmFjdC5xdWVyeS5jYWxsKHRoaXMsIGZ1biwgb3B0cywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiB2aWV3Q2xlYW51cChjYWxsYmFjaykge1xuICByZXR1cm4gYWJzdHJhY3Qudmlld0NsZWFudXAuY2FsbCh0aGlzLCBjYWxsYmFjayk7XG59XG5cbnZhciBtYXByZWR1Y2UgPSB7XG4gIHF1ZXJ5OiBxdWVyeSxcbiAgdmlld0NsZWFudXA6IHZpZXdDbGVhbnVwXG59O1xuXG5mdW5jdGlvbiBpc0dlbk9uZSQxKHJldikge1xuICByZXR1cm4gL14xLS8udGVzdChyZXYpO1xufVxuXG5mdW5jdGlvbiBmaWxlSGFzQ2hhbmdlZChsb2NhbERvYywgcmVtb3RlRG9jLCBmaWxlbmFtZSkge1xuICByZXR1cm4gIWxvY2FsRG9jLl9hdHRhY2htZW50cyB8fFxuICAgICAgICAgIWxvY2FsRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0gfHxcbiAgICAgICAgIGxvY2FsRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0uZGlnZXN0ICE9PSByZW1vdGVEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXS5kaWdlc3Q7XG59XG5cbmZ1bmN0aW9uIGdldERvY0F0dGFjaG1lbnRzKGRiLCBkb2MpIHtcbiAgdmFyIGZpbGVuYW1lcyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZW5hbWVzLm1hcChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICByZXR1cm4gZGIuZ2V0QXR0YWNobWVudChkb2MuX2lkLCBmaWxlbmFtZSwge3JldjogZG9jLl9yZXZ9KTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBnZXREb2NBdHRhY2htZW50c0Zyb21UYXJnZXRPclNvdXJjZSh0YXJnZXQsIHNyYywgZG9jKSB7XG4gIHZhciBkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cyA9IGlzUmVtb3RlKHNyYykgJiYgIWlzUmVtb3RlKHRhcmdldCk7XG4gIHZhciBmaWxlbmFtZXMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcblxuICBpZiAoIWRvQ2hlY2tGb3JMb2NhbEF0dGFjaG1lbnRzKSB7XG4gICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzKHNyYywgZG9jKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQuZ2V0KGRvYy5faWQpLnRoZW4oZnVuY3Rpb24gKGxvY2FsRG9jKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICBpZiAoZmlsZUhhc0NoYW5nZWQobG9jYWxEb2MsIGRvYywgZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiBzcmMuZ2V0QXR0YWNobWVudChkb2MuX2lkLCBmaWxlbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXQuZ2V0QXR0YWNobWVudChsb2NhbERvYy5faWQsIGZpbGVuYW1lKTtcbiAgICB9KSk7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlcnJvci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzKHNyYywgZG9jKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1bGtHZXRPcHRzKGRpZmZzKSB7XG4gIHZhciByZXF1ZXN0cyA9IFtdO1xuICBPYmplY3Qua2V5cyhkaWZmcykuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICB2YXIgbWlzc2luZ1JldnMgPSBkaWZmc1tpZF0ubWlzc2luZztcbiAgICBtaXNzaW5nUmV2cy5mb3JFYWNoKGZ1bmN0aW9uIChtaXNzaW5nUmV2KSB7XG4gICAgICByZXF1ZXN0cy5wdXNoKHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICByZXY6IG1pc3NpbmdSZXZcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGRvY3M6IHJlcXVlc3RzLFxuICAgIHJldnM6IHRydWUsXG4gICAgbGF0ZXN0OiB0cnVlXG4gIH07XG59XG5cbi8vXG4vLyBGZXRjaCBhbGwgdGhlIGRvY3VtZW50cyBmcm9tIHRoZSBzcmMgYXMgZGVzY3JpYmVkIGluIHRoZSBcImRpZmZzXCIsXG4vLyB3aGljaCBpcyBhIG1hcHBpbmcgb2YgZG9jcyBJRHMgdG8gcmV2aXNpb25zLiBJZiB0aGUgc3RhdGUgZXZlclxuLy8gY2hhbmdlcyB0byBcImNhbmNlbGxlZFwiLCB0aGVuIHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQuXG4vLyBFbHNlIGl0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhIGxpc3Qgb2YgZmV0Y2hlZCBkb2N1bWVudHMuXG4vL1xuZnVuY3Rpb24gZ2V0RG9jcyhzcmMsIHRhcmdldCwgZGlmZnMsIHN0YXRlKSB7XG4gIGRpZmZzID0gY2xvbmUoZGlmZnMpOyAvLyB3ZSBkbyBub3QgbmVlZCB0byBtb2RpZnkgdGhpc1xuXG4gIHZhciByZXN1bHREb2NzID0gW10sXG4gICAgICBvayA9IHRydWU7XG5cbiAgZnVuY3Rpb24gZ2V0QWxsRG9jcygpIHtcblxuICAgIHZhciBidWxrR2V0T3B0cyA9IGNyZWF0ZUJ1bGtHZXRPcHRzKGRpZmZzKTtcblxuICAgIGlmICghYnVsa0dldE9wdHMuZG9jcy5sZW5ndGgpIHsgLy8gb3B0aW1pemF0aW9uOiBza2lwIGVtcHR5IHJlcXVlc3RzXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYy5idWxrR2V0KGJ1bGtHZXRPcHRzKS50aGVuKGZ1bmN0aW9uIChidWxrR2V0UmVzcG9uc2UpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHN0YXRlLmNhbmNlbGxlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGJ1bGtHZXRSZXNwb25zZS5yZXN1bHRzLm1hcChmdW5jdGlvbiAoYnVsa0dldEluZm8pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGJ1bGtHZXRJbmZvLmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICB2YXIgcmVtb3RlRG9jID0gZG9jLm9rO1xuXG4gICAgICAgICAgaWYgKGRvYy5lcnJvcikge1xuICAgICAgICAgICAgLy8gd2hlbiBBVVRPX0NPTVBBQ1RJT04gaXMgc2V0LCBkb2NzIGNhbiBiZSByZXR1cm5lZCB3aGljaCBsb29rXG4gICAgICAgICAgICAvLyBsaWtlIHRoaXM6IHtcIm1pc3NpbmdcIjpcIjEtN2MzYWMyNTZiNjkzYzQ2MmFmODQ0MmY5OTJiODM2OTZcIn1cbiAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFyZW1vdGVEb2MgfHwgIXJlbW90ZURvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdGVEb2M7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzRnJvbVRhcmdldE9yU291cmNlKHRhcmdldCwgc3JjLCByZW1vdGVEb2MpXG4gICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWVzID0gT2JqZWN0LmtleXMocmVtb3RlRG9jLl9hdHRhY2htZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoYXR0YWNobWVudCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHQgPSByZW1vdGVEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lc1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dC5kYXRhID0gYXR0YWNobWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbW90ZURvYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICB9KSlcblxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgcmVzdWx0RG9jcyA9IHJlc3VsdERvY3MuY29uY2F0KGZsYXR0ZW4ocmVzdWx0cykuZmlsdGVyKEJvb2xlYW4pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQXR0YWNobWVudHMoZG9jKSB7XG4gICAgcmV0dXJuIGRvYy5fYXR0YWNobWVudHMgJiYgT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0NvbmZsaWN0cyhkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9jb25mbGljdHMgJiYgZG9jLl9jb25mbGljdHMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoUmV2aXNpb25PbmVEb2NzKGlkcykge1xuICAgIC8vIE9wdGltaXphdGlvbjogZmV0Y2ggZ2VuLTEgZG9jcyBhbmQgYXR0YWNobWVudHMgaW5cbiAgICAvLyBhIHNpbmdsZSByZXF1ZXN0IHVzaW5nIF9hbGxfZG9jc1xuICAgIHJldHVybiBzcmMuYWxsRG9jcyh7XG4gICAgICBrZXlzOiBpZHMsXG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBjb25mbGljdHM6IHRydWVcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChzdGF0ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICBpZiAocm93LmRlbGV0ZWQgfHwgIXJvdy5kb2MgfHwgIWlzR2VuT25lJDEocm93LnZhbHVlLnJldikgfHxcbiAgICAgICAgICAgIGhhc0F0dGFjaG1lbnRzKHJvdy5kb2MpIHx8IGhhc0NvbmZsaWN0cyhyb3cuZG9jKSkge1xuICAgICAgICAgIC8vIGlmIGFueSBvZiB0aGVzZSBjb25kaXRpb25zIGFwcGx5LCB3ZSBuZWVkIHRvIGZldGNoIHVzaW5nIGdldCgpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RyaXAgX2NvbmZsaWN0cyBhcnJheSB0byBhcHBlYXNlIENTRyAoIzU3OTMpXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAocm93LmRvYy5fY29uZmxpY3RzKSB7XG4gICAgICAgICAgZGVsZXRlIHJvdy5kb2MuX2NvbmZsaWN0cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBkb2Mgd2UgZ290IGJhY2sgZnJvbSBhbGxEb2NzKCkgaXMgc3VmZmljaWVudFxuICAgICAgICByZXN1bHREb2NzLnB1c2gocm93LmRvYyk7XG4gICAgICAgIGRlbGV0ZSBkaWZmc1tyb3cuaWRdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSZXZpc2lvbk9uZURvY3MoKSB7XG4gICAgLy8gZmlsdGVyIG91dCB0aGUgZ2VuZXJhdGlvbiAxIGRvY3MgYW5kIGdldCB0aGVtXG4gICAgLy8gbGVhdmluZyB0aGUgbm9uLWdlbmVyYXRpb24gb25lIGRvY3MgdG8gYmUgZ290IG90aGVyd2lzZVxuICAgIHZhciBpZHMgPSBPYmplY3Qua2V5cyhkaWZmcykuZmlsdGVyKGZ1bmN0aW9uIChpZCkge1xuICAgICAgdmFyIG1pc3NpbmcgPSBkaWZmc1tpZF0ubWlzc2luZztcbiAgICAgIHJldHVybiBtaXNzaW5nLmxlbmd0aCA9PT0gMSAmJiBpc0dlbk9uZSQxKG1pc3NpbmdbMF0pO1xuICAgIH0pO1xuICAgIGlmIChpZHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGZldGNoUmV2aXNpb25PbmVEb2NzKGlkcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV0dXJuUmVzdWx0KCkge1xuICAgIHJldHVybiB7IG9rOm9rLCBkb2NzOnJlc3VsdERvY3MgfTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIC50aGVuKGdldFJldmlzaW9uT25lRG9jcylcbiAgICAudGhlbihnZXRBbGxEb2NzKVxuICAgIC50aGVuKHJldHVyblJlc3VsdCk7XG59XG5cbnZhciBDSEVDS1BPSU5UX1ZFUlNJT04gPSAxO1xudmFyIFJFUExJQ0FUT1IgPSBcInBvdWNoZGJcIjtcbi8vIFRoaXMgaXMgYW4gYXJiaXRyYXJ5IG51bWJlciB0byBsaW1pdCB0aGVcbi8vIGFtb3VudCBvZiByZXBsaWNhdGlvbiBoaXN0b3J5IHdlIHNhdmUgaW4gdGhlIGNoZWNrcG9pbnQuXG4vLyBJZiB3ZSBzYXZlIHRvbyBtdWNoLCB0aGUgY2hlY2twb2luZyBkb2NzIHdpbGwgYmVjb21lIHZlcnkgYmlnLFxuLy8gaWYgd2Ugc2F2ZSBmZXdlciwgd2UnbGwgcnVuIGEgZ3JlYXRlciByaXNrIG9mIGhhdmluZyB0b1xuLy8gcmVhZCBhbGwgdGhlIGNoYW5nZXMgZnJvbSAwIHdoZW4gY2hlY2twb2ludCBQVVRzIGZhaWxcbi8vIENvdWNoREIgMi4wIGhhcyBhIG1vcmUgaW52b2x2ZWQgaGlzdG9yeSBwcnVuaW5nLFxuLy8gYnV0IGxldCdzIGdvIGZvciB0aGUgc2ltcGxlIHZlcnNpb24gZm9yIG5vdy5cbnZhciBDSEVDS1BPSU5UX0hJU1RPUllfU0laRSA9IDU7XG52YXIgTE9XRVNUX1NFUSA9IDA7XG5cbmZ1bmN0aW9uIHVwZGF0ZUNoZWNrcG9pbnQoZGIsIGlkLCBjaGVja3BvaW50LCBzZXNzaW9uLCByZXR1cm5WYWx1ZSkge1xuICByZXR1cm4gZGIuZ2V0KGlkKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgaWYgKGRiLmFkYXB0ZXIgPT09ICdodHRwJyB8fCBkYi5hZGFwdGVyID09PSAnaHR0cHMnKSB7XG4gICAgICAgIGV4cGxhaW5FcnJvcihcbiAgICAgICAgICA0MDQsICdQb3VjaERCIGlzIGp1c3QgY2hlY2tpbmcgaWYgYSByZW1vdGUgY2hlY2twb2ludCBleGlzdHMuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbixcbiAgICAgICAgX2lkOiBpZCxcbiAgICAgICAgaGlzdG9yeTogW10sXG4gICAgICAgIHJlcGxpY2F0b3I6IFJFUExJQ0FUT1IsXG4gICAgICAgIHZlcnNpb246IENIRUNLUE9JTlRfVkVSU0lPTlxuICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgZXJyO1xuICB9KS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlIGNoZWNrcG9pbnQgaGFzIG5vdCBjaGFuZ2VkLCBkbyBub3QgdXBkYXRlXG4gICAgaWYgKGRvYy5sYXN0X3NlcSA9PT0gY2hlY2twb2ludCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBvdXQgY3VycmVudCBlbnRyeSBmb3IgdGhpcyByZXBsaWNhdGlvblxuICAgIGRvYy5oaXN0b3J5ID0gKGRvYy5oaXN0b3J5IHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLnNlc3Npb25faWQgIT09IHNlc3Npb247XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgdGhlIGxhdGVzdCBjaGVja3BvaW50IHRvIGhpc3RvcnlcbiAgICBkb2MuaGlzdG9yeS51bnNoaWZ0KHtcbiAgICAgIGxhc3Rfc2VxOiBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvblxuICAgIH0pO1xuXG4gICAgLy8gSnVzdCB0YWtlIHRoZSBsYXN0IHBpZWNlcyBpbiBoaXN0b3J5LCB0b1xuICAgIC8vIGF2b2lkIHJlYWxseSBiaWcgY2hlY2twb2ludCBkb2NzLlxuICAgIC8vIHNlZSBjb21tZW50IG9uIGhpc3Rvcnkgc2l6ZSBhYm92ZVxuICAgIGRvYy5oaXN0b3J5ID0gZG9jLmhpc3Rvcnkuc2xpY2UoMCwgQ0hFQ0tQT0lOVF9ISVNUT1JZX1NJWkUpO1xuXG4gICAgZG9jLnZlcnNpb24gPSBDSEVDS1BPSU5UX1ZFUlNJT047XG4gICAgZG9jLnJlcGxpY2F0b3IgPSBSRVBMSUNBVE9SO1xuXG4gICAgZG9jLnNlc3Npb25faWQgPSBzZXNzaW9uO1xuICAgIGRvYy5sYXN0X3NlcSA9IGNoZWNrcG9pbnQ7XG5cbiAgICByZXR1cm4gZGIucHV0KGRvYykuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAvLyByZXRyeTsgc29tZW9uZSBpcyB0cnlpbmcgdG8gd3JpdGUgYSBjaGVja3BvaW50IHNpbXVsdGFuZW91c2x5XG4gICAgICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KGRiLCBpZCwgY2hlY2twb2ludCwgc2Vzc2lvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gQ2hlY2twb2ludGVyKHNyYywgdGFyZ2V0LCBpZCwgcmV0dXJuVmFsdWUsIG9wdHMpIHtcbiAgdGhpcy5zcmMgPSBzcmM7XG4gIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICB0aGlzLmlkID0gaWQ7XG4gIHRoaXMucmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZTtcbiAgdGhpcy5vcHRzID0gb3B0cyB8fCB7fTtcbn1cblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS53cml0ZUNoZWNrcG9pbnQgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHJldHVybiB0aGlzLnVwZGF0ZVRhcmdldChjaGVja3BvaW50LCBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2VsZi51cGRhdGVTb3VyY2UoY2hlY2twb2ludCwgc2Vzc2lvbik7XG4gIH0pO1xufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS51cGRhdGVUYXJnZXQgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICBpZiAodGhpcy5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCkge1xuICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KHRoaXMudGFyZ2V0LCB0aGlzLmlkLCBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbiwgdGhpcy5yZXR1cm5WYWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgfVxufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS51cGRhdGVTb3VyY2UgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICBpZiAodGhpcy5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gdXBkYXRlQ2hlY2twb2ludCh0aGlzLnNyYywgdGhpcy5pZCwgY2hlY2twb2ludCxcbiAgICAgIHNlc3Npb24sIHRoaXMucmV0dXJuVmFsdWUpXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoaXNGb3JiaWRkZW5FcnJvcihlcnIpKSB7XG4gICAgICAgICAgc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gIH1cbn07XG5cbnZhciBjb21wYXJpc29ucyA9IHtcbiAgXCJ1bmRlZmluZWRcIjogZnVuY3Rpb24gKHRhcmdldERvYywgc291cmNlRG9jKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgcHJldmlvdXMgY29tcGFyaXNvbiBmdW5jdGlvblxuICAgIGlmIChjb2xsYXRlKHRhcmdldERvYy5sYXN0X3NlcSwgc291cmNlRG9jLmxhc3Rfc2VxKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHNvdXJjZURvYy5sYXN0X3NlcTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgXCIxXCI6IGZ1bmN0aW9uICh0YXJnZXREb2MsIHNvdXJjZURvYykge1xuICAgIC8vIFRoaXMgaXMgdGhlIGNvbXBhcmlzb24gZnVuY3Rpb24gcG9ydGVkIGZyb20gQ291Y2hEQlxuICAgIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25Mb2dzKHNvdXJjZURvYywgdGFyZ2V0RG9jKS5sYXN0X3NlcTtcbiAgfVxufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS5nZXRDaGVja3BvaW50ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHNlbGYub3B0cyAmJiBzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50ICYmICFzZWxmLm9wdHMud3JpdGVUYXJnZXRDaGVja3BvaW50KSB7XG4gICAgcmV0dXJuIHNlbGYuc3JjLmdldChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uIChzb3VyY2VEb2MpIHtcbiAgICAgIHJldHVybiBzb3VyY2VEb2MubGFzdF9zZXEgfHwgTE9XRVNUX1NFUTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc2VsZi50YXJnZXQuZ2V0KHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHRhcmdldERvYykge1xuICAgIGlmIChzZWxmLm9wdHMgJiYgc2VsZi5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCAmJiAhc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCkge1xuICAgICAgcmV0dXJuIHRhcmdldERvYy5sYXN0X3NlcSB8fCBMT1dFU1RfU0VRO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNyYy5nZXQoc2VsZi5pZCkudGhlbihmdW5jdGlvbiAoc291cmNlRG9jKSB7XG4gICAgICAvLyBTaW5jZSB3ZSBjYW4ndCBtaWdyYXRlIGFuIG9sZCB2ZXJzaW9uIGRvYyB0byBhIG5ldyBvbmVcbiAgICAgIC8vIChubyBzZXNzaW9uIGlkKSwgd2UganVzdCBnbyB3aXRoIHRoZSBsb3dlc3Qgc2VxIGluIHRoaXMgY2FzZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAodGFyZ2V0RG9jLnZlcnNpb24gIT09IHNvdXJjZURvYy52ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmVyc2lvbjtcbiAgICAgIGlmICh0YXJnZXREb2MudmVyc2lvbikge1xuICAgICAgICB2ZXJzaW9uID0gdGFyZ2V0RG9jLnZlcnNpb24udG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZlcnNpb24gPSBcInVuZGVmaW5lZFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAodmVyc2lvbiBpbiBjb21wYXJpc29ucykge1xuICAgICAgICByZXR1cm4gY29tcGFyaXNvbnNbdmVyc2lvbl0odGFyZ2V0RG9jLCBzb3VyY2VEb2MpO1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQgJiYgdGFyZ2V0RG9jLmxhc3Rfc2VxKSB7XG4gICAgICAgIHJldHVybiBzZWxmLnNyYy5wdXQoe1xuICAgICAgICAgIF9pZDogc2VsZi5pZCxcbiAgICAgICAgICBsYXN0X3NlcTogTE9XRVNUX1NFUVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGlmIChpc0ZvcmJpZGRlbkVycm9yKGVycikpIHtcbiAgICAgICAgICAgIHNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXREb2MubGFzdF9zZXE7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgfSk7XG59O1xuLy8gVGhpcyBjaGVja3BvaW50IGNvbXBhcmlzb24gaXMgcG9ydGVkIGZyb20gQ291Y2hEQnMgc291cmNlXG4vLyB0aGV5IGNvbWUgZnJvbSBoZXJlOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9jb3VjaGRiLWNvdWNoLXJlcGxpY2F0b3IvYmxvYi9tYXN0ZXIvc3JjL2NvdWNoX3JlcGxpY2F0b3IuZXJsI0w4NjMtTDkwNlxuXG5mdW5jdGlvbiBjb21wYXJlUmVwbGljYXRpb25Mb2dzKHNyY0RvYywgdGd0RG9jKSB7XG4gIGlmIChzcmNEb2Muc2Vzc2lvbl9pZCA9PT0gdGd0RG9jLnNlc3Npb25faWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IHNyY0RvYy5sYXN0X3NlcSxcbiAgICAgIGhpc3Rvcnk6IHNyY0RvYy5oaXN0b3J5XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNyY0RvYy5oaXN0b3J5LCB0Z3REb2MuaGlzdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVSZXBsaWNhdGlvbkhpc3Rvcnkoc291cmNlSGlzdG9yeSwgdGFyZ2V0SGlzdG9yeSkge1xuICAvLyB0aGUgZXJsYW5nIGxvb3AgdmlhIGZ1bmN0aW9uIGFyZ3VtZW50cyBpcyBub3Qgc28gZWFzeSB0byByZXBlYXQgaW4gSlNcbiAgLy8gdGhlcmVmb3JlLCBkb2luZyB0aGlzIGFzIHJlY3Vyc2lvblxuICB2YXIgUyA9IHNvdXJjZUhpc3RvcnlbMF07XG4gIHZhciBzb3VyY2VSZXN0ID0gc291cmNlSGlzdG9yeS5zbGljZSgxKTtcbiAgdmFyIFQgPSB0YXJnZXRIaXN0b3J5WzBdO1xuICB2YXIgdGFyZ2V0UmVzdCA9IHRhcmdldEhpc3Rvcnkuc2xpY2UoMSk7XG5cbiAgaWYgKCFTIHx8IHRhcmdldEhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBMT1dFU1RfU0VRLFxuICAgICAgaGlzdG9yeTogW11cbiAgICB9O1xuICB9XG5cbiAgdmFyIHNvdXJjZUlkID0gUy5zZXNzaW9uX2lkO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGhhc1Nlc3Npb25JZChzb3VyY2VJZCwgdGFyZ2V0SGlzdG9yeSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IFMubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiBzb3VyY2VIaXN0b3J5XG4gICAgfTtcbiAgfVxuXG4gIHZhciB0YXJnZXRJZCA9IFQuc2Vzc2lvbl9pZDtcbiAgaWYgKGhhc1Nlc3Npb25JZCh0YXJnZXRJZCwgc291cmNlUmVzdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IFQubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiB0YXJnZXRSZXN0XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNvdXJjZVJlc3QsIHRhcmdldFJlc3QpO1xufVxuXG5mdW5jdGlvbiBoYXNTZXNzaW9uSWQoc2Vzc2lvbklkLCBoaXN0b3J5KSB7XG4gIHZhciBwcm9wcyA9IGhpc3RvcnlbMF07XG4gIHZhciByZXN0ID0gaGlzdG9yeS5zbGljZSgxKTtcblxuICBpZiAoIXNlc3Npb25JZCB8fCBoaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChzZXNzaW9uSWQgPT09IHByb3BzLnNlc3Npb25faWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBoYXNTZXNzaW9uSWQoc2Vzc2lvbklkLCByZXN0KTtcbn1cblxuZnVuY3Rpb24gaXNGb3JiaWRkZW5FcnJvcihlcnIpIHtcbiAgcmV0dXJuIHR5cGVvZiBlcnIuc3RhdHVzID09PSAnbnVtYmVyJyAmJiBNYXRoLmZsb29yKGVyci5zdGF0dXMgLyAxMDApID09PSA0O1xufVxuXG52YXIgU1RBUlRJTkdfQkFDS19PRkYgPSAwO1xuXG5mdW5jdGlvbiBiYWNrT2ZmKG9wdHMsIHJldHVyblZhbHVlLCBlcnJvciwgY2FsbGJhY2spIHtcbiAgaWYgKG9wdHMucmV0cnkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgcmV0dXJuVmFsdWUucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIG9wdHMuYmFja19vZmZfZnVuY3Rpb24gIT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uID0gZGVmYXVsdEJhY2tPZmY7XG4gIH1cbiAgcmV0dXJuVmFsdWUuZW1pdCgncmVxdWVzdEVycm9yJywgZXJyb3IpO1xuICBpZiAocmV0dXJuVmFsdWUuc3RhdGUgPT09ICdhY3RpdmUnIHx8IHJldHVyblZhbHVlLnN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdwYXVzZWQnLCBlcnJvcik7XG4gICAgcmV0dXJuVmFsdWUuc3RhdGUgPSAnc3RvcHBlZCc7XG4gICAgdmFyIGJhY2tPZmZTZXQgPSBmdW5jdGlvbiBiYWNrb2ZmVGltZVNldCgpIHtcbiAgICAgIG9wdHMuY3VycmVudF9iYWNrX29mZiA9IFNUQVJUSU5HX0JBQ0tfT0ZGO1xuICAgIH07XG4gICAgdmFyIHJlbW92ZUJhY2tPZmZTZXR0ZXIgPSBmdW5jdGlvbiByZW1vdmVCYWNrT2ZmVGltZVNldCgpIHtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdhY3RpdmUnLCBiYWNrT2ZmU2V0KTtcbiAgICB9O1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ3BhdXNlZCcsIHJlbW92ZUJhY2tPZmZTZXR0ZXIpO1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ2FjdGl2ZScsIGJhY2tPZmZTZXQpO1xuICB9XG5cbiAgb3B0cy5jdXJyZW50X2JhY2tfb2ZmID0gb3B0cy5jdXJyZW50X2JhY2tfb2ZmIHx8IFNUQVJUSU5HX0JBQ0tfT0ZGO1xuICBvcHRzLmN1cnJlbnRfYmFja19vZmYgPSBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uKG9wdHMuY3VycmVudF9iYWNrX29mZik7XG4gIHNldFRpbWVvdXQoY2FsbGJhY2ssIG9wdHMuY3VycmVudF9iYWNrX29mZik7XG59XG5cbmZ1bmN0aW9uIHNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkocXVlcnlQYXJhbXMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHF1ZXJ5UGFyYW1zKS5zb3J0KGNvbGxhdGUpLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHF1ZXJ5UGFyYW1zW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xufVxuXG4vLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpZCBwYXJ0aWN1bGFyIHRvIHRoaXMgcmVwbGljYXRpb24uXG4vLyBOb3QgZ3VhcmFudGVlZCB0byBhbGlnbiBwZXJmZWN0bHkgd2l0aCBDb3VjaERCJ3MgcmVwIGlkcy5cbmZ1bmN0aW9uIGdlbmVyYXRlUmVwbGljYXRpb25JZChzcmMsIHRhcmdldCwgb3B0cykge1xuICB2YXIgZG9jSWRzID0gb3B0cy5kb2NfaWRzID8gb3B0cy5kb2NfaWRzLnNvcnQoY29sbGF0ZSkgOiAnJztcbiAgdmFyIGZpbHRlckZ1biA9IG9wdHMuZmlsdGVyID8gb3B0cy5maWx0ZXIudG9TdHJpbmcoKSA6ICcnO1xuICB2YXIgcXVlcnlQYXJhbXMgPSAnJztcbiAgdmFyIGZpbHRlclZpZXdOYW1lID0gICcnO1xuICB2YXIgc2VsZWN0b3IgPSAnJztcblxuICAvLyBwb3NzaWJpbGl0eSBmb3IgY2hlY2twb2ludHMgdG8gYmUgbG9zdCBoZXJlIGFzIGJlaGF2aW91ciBvZlxuICAvLyBKU09OLnN0cmluZ2lmeSBpcyBub3Qgc3RhYmxlIChzZWUgIzYyMjYpXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIHNlbGVjdG9yID0gSlNPTi5zdHJpbmdpZnkob3B0cy5zZWxlY3Rvcik7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgb3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICBxdWVyeVBhcmFtcyA9IEpTT04uc3RyaW5naWZ5KHNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkob3B0cy5xdWVyeV9wYXJhbXMpKTtcbiAgfVxuXG4gIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgIGZpbHRlclZpZXdOYW1lID0gb3B0cy52aWV3LnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW3NyYy5pZCgpLCB0YXJnZXQuaWQoKV0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHZhciBxdWVyeURhdGEgPSByZXNbMF0gKyByZXNbMV0gKyBmaWx0ZXJGdW4gKyBmaWx0ZXJWaWV3TmFtZSArXG4gICAgICBxdWVyeVBhcmFtcyArIGRvY0lkcyArIHNlbGVjdG9yO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgYmluYXJ5TWQ1KHF1ZXJ5RGF0YSwgcmVzb2x2ZSk7XG4gICAgfSk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKG1kNXN1bSkge1xuICAgIC8vIGNhbid0IHVzZSBzdHJhaWdodC11cCBtZDUgYWxwaGFiZXQsIGJlY2F1c2VcbiAgICAvLyB0aGUgY2hhciAnLycgaXMgaW50ZXJwcmV0ZWQgYXMgYmVpbmcgZm9yIGF0dGFjaG1lbnRzLFxuICAgIC8vIGFuZCArIGlzIGFsc28gbm90IHVybC1zYWZlXG4gICAgbWQ1c3VtID0gbWQ1c3VtLnJlcGxhY2UoL1xcLy9nLCAnLicpLnJlcGxhY2UoL1xcKy9nLCAnXycpO1xuICAgIHJldHVybiAnX2xvY2FsLycgKyBtZDVzdW07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXBsaWNhdGUoc3JjLCB0YXJnZXQsIG9wdHMsIHJldHVyblZhbHVlLCByZXN1bHQpIHtcbiAgdmFyIGJhdGNoZXMgPSBbXTsgICAgICAgICAgICAgICAvLyBsaXN0IG9mIGJhdGNoZXMgdG8gYmUgcHJvY2Vzc2VkXG4gIHZhciBjdXJyZW50QmF0Y2g7ICAgICAgICAgICAgICAgLy8gdGhlIGJhdGNoIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgdmFyIHBlbmRpbmdCYXRjaCA9IHtcbiAgICBzZXE6IDAsXG4gICAgY2hhbmdlczogW10sXG4gICAgZG9jczogW11cbiAgfTsgLy8gbmV4dCBiYXRjaCwgbm90IHlldCByZWFkeSB0byBiZSBwcm9jZXNzZWRcbiAgdmFyIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7ICAvLyB0cnVlIHdoaWxlIGNoZWNrcG9pbnQgaXMgYmVpbmcgd3JpdHRlblxuICB2YXIgY2hhbmdlc0NvbXBsZXRlZCA9IGZhbHNlOyAgIC8vIHRydWUgd2hlbiBhbGwgY2hhbmdlcyByZWNlaXZlZFxuICB2YXIgcmVwbGljYXRpb25Db21wbGV0ZWQgPSBmYWxzZTsgLy8gdHJ1ZSB3aGVuIHJlcGxpY2F0aW9uIGhhcyBjb21wbGV0ZWRcbiAgdmFyIGxhc3Rfc2VxID0gMDtcbiAgdmFyIGNvbnRpbnVvdXMgPSBvcHRzLmNvbnRpbnVvdXMgfHwgb3B0cy5saXZlIHx8IGZhbHNlO1xuICB2YXIgYmF0Y2hfc2l6ZSA9IG9wdHMuYmF0Y2hfc2l6ZSB8fCAxMDA7XG4gIHZhciBiYXRjaGVzX2xpbWl0ID0gb3B0cy5iYXRjaGVzX2xpbWl0IHx8IDEwO1xuICB2YXIgc3R5bGUgPSBvcHRzLnN0eWxlIHx8ICdhbGxfZG9jcyc7XG4gIHZhciBjaGFuZ2VzUGVuZGluZyA9IGZhbHNlOyAgICAgLy8gdHJ1ZSB3aGlsZSBzcmMuY2hhbmdlcyBpcyBydW5uaW5nXG4gIHZhciBkb2NfaWRzID0gb3B0cy5kb2NfaWRzO1xuICB2YXIgc2VsZWN0b3IgPSBvcHRzLnNlbGVjdG9yO1xuICB2YXIgcmVwSWQ7XG4gIHZhciBjaGVja3BvaW50ZXI7XG4gIHZhciBjaGFuZ2VkRG9jcyA9IFtdO1xuICAvLyBMaWtlIGNvdWNoZGIsIGV2ZXJ5IHJlcGxpY2F0aW9uIGdldHMgYSB1bmlxdWUgc2Vzc2lvbiBpZFxuICB2YXIgc2Vzc2lvbiA9IHV1aWQoKTtcblxuICByZXN1bHQgPSByZXN1bHQgfHwge1xuICAgIG9rOiB0cnVlLFxuICAgIHN0YXJ0X3RpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBkb2NzX3JlYWQ6IDAsXG4gICAgZG9jc193cml0dGVuOiAwLFxuICAgIGRvY193cml0ZV9mYWlsdXJlczogMCxcbiAgICBlcnJvcnM6IFtdXG4gIH07XG5cbiAgdmFyIGNoYW5nZXNPcHRzID0ge307XG4gIHJldHVyblZhbHVlLnJlYWR5KHNyYywgdGFyZ2V0KTtcblxuICBmdW5jdGlvbiBpbml0Q2hlY2twb2ludGVyKCkge1xuICAgIGlmIChjaGVja3BvaW50ZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGdlbmVyYXRlUmVwbGljYXRpb25JZChzcmMsIHRhcmdldCwgb3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXBJZCA9IHJlcztcblxuICAgICAgdmFyIGNoZWNrcG9pbnRPcHRzID0ge307XG4gICAgICBpZiAob3B0cy5jaGVja3BvaW50ID09PSBmYWxzZSkge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiBmYWxzZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiBmYWxzZSB9O1xuICAgICAgfSBlbHNlIGlmIChvcHRzLmNoZWNrcG9pbnQgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IHRydWUsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogZmFsc2UgfTtcbiAgICAgIH0gZWxzZSBpZiAob3B0cy5jaGVja3BvaW50ID09PSAndGFyZ2V0Jykge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiBmYWxzZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiB0cnVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiB0cnVlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IHRydWUgfTtcbiAgICAgIH1cblxuICAgICAgY2hlY2twb2ludGVyID0gbmV3IENoZWNrcG9pbnRlcihzcmMsIHRhcmdldCwgcmVwSWQsIHJldHVyblZhbHVlLCBjaGVja3BvaW50T3B0cyk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZURvY3MoKSB7XG4gICAgY2hhbmdlZERvY3MgPSBbXTtcblxuICAgIGlmIChjdXJyZW50QmF0Y2guZG9jcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRvY3MgPSBjdXJyZW50QmF0Y2guZG9jcztcbiAgICB2YXIgYnVsa09wdHMgPSB7dGltZW91dDogb3B0cy50aW1lb3V0fTtcbiAgICByZXR1cm4gdGFyZ2V0LmJ1bGtEb2NzKHtkb2NzOiBkb2NzLCBuZXdfZWRpdHM6IGZhbHNlfSwgYnVsa09wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gYHJlc2AgZG9lc24ndCBpbmNsdWRlIGZ1bGwgZG9jdW1lbnRzICh3aGljaCBsaXZlIGluIGBkb2NzYCksIHNvIHdlIGNyZWF0ZSBhIG1hcCBvZlxuICAgICAgLy8gKGlkIC0+IGVycm9yKSwgYW5kIGNoZWNrIGZvciBlcnJvcnMgd2hpbGUgaXRlcmF0aW5nIG92ZXIgYGRvY3NgXG4gICAgICB2YXIgZXJyb3JzQnlJZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgICAgICBlcnJvcnNCeUlkW3Jlcy5pZF0gPSByZXM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZXJyb3JzTm8gPSBPYmplY3Qua2V5cyhlcnJvcnNCeUlkKS5sZW5ndGg7XG4gICAgICByZXN1bHQuZG9jX3dyaXRlX2ZhaWx1cmVzICs9IGVycm9yc05vO1xuICAgICAgcmVzdWx0LmRvY3Nfd3JpdHRlbiArPSBkb2NzLmxlbmd0aCAtIGVycm9yc05vO1xuXG4gICAgICBkb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICB2YXIgZXJyb3IgPSBlcnJvcnNCeUlkW2RvYy5faWRdO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXN1bHQuZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgIC8vIE5vcm1hbGl6ZSBlcnJvciBuYW1lLiBpLmUuICdVbmF1dGhvcml6ZWQnIC0+ICd1bmF1dGhvcml6ZWQnIChlZyBTeW5jIEdhdGV3YXkpXG4gICAgICAgICAgdmFyIGVycm9yTmFtZSA9IChlcnJvci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmIChlcnJvck5hbWUgPT09ICd1bmF1dGhvcml6ZWQnIHx8IGVycm9yTmFtZSA9PT0gJ2ZvcmJpZGRlbicpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2RlbmllZCcsIGNsb25lKGVycm9yKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkRG9jcy5wdXNoKGRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgcmVzdWx0LmRvY193cml0ZV9mYWlsdXJlcyArPSBkb2NzLmxlbmd0aDtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaEJhdGNoKCkge1xuICAgIGlmIChjdXJyZW50QmF0Y2guZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgd2FzIGEgcHJvYmxlbSBnZXR0aW5nIGRvY3MuJyk7XG4gICAgfVxuICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxID0gY3VycmVudEJhdGNoLnNlcTtcbiAgICB2YXIgb3V0UmVzdWx0ID0gY2xvbmUocmVzdWx0KTtcbiAgICBpZiAoY2hhbmdlZERvY3MubGVuZ3RoKSB7XG4gICAgICBvdXRSZXN1bHQuZG9jcyA9IGNoYW5nZWREb2NzO1xuICAgICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHR5cGVvZiBjdXJyZW50QmF0Y2gucGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgb3V0UmVzdWx0LnBlbmRpbmcgPSBjdXJyZW50QmF0Y2gucGVuZGluZztcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRCYXRjaC5wZW5kaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hhbmdlJywgb3V0UmVzdWx0KTtcbiAgICB9XG4gICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgIHJldHVybiBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KGN1cnJlbnRCYXRjaC5zZXEsXG4gICAgICAgIHNlc3Npb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ2NoZWNrcG9pbnQnOiBjdXJyZW50QmF0Y2guc2VxIH0pO1xuICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICBjdXJyZW50QmF0Y2ggPSB1bmRlZmluZWQ7XG4gICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgb25DaGVja3BvaW50RXJyb3IoZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERpZmZzKCkge1xuICAgIHZhciBkaWZmID0ge307XG4gICAgY3VycmVudEJhdGNoLmNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAncmV2c19kaWZmJzogY2hhbmdlIH0pO1xuICAgICAgLy8gQ291Y2hiYXNlIFN5bmMgR2F0ZXdheSBlbWl0cyB0aGVzZSwgYnV0IHdlIGNhbiBpZ25vcmUgdGhlbVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlLmlkID09PSBcIl91c2VyL1wiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRpZmZbY2hhbmdlLmlkXSA9IGNoYW5nZS5jaGFuZ2VzLm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geC5yZXY7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0LnJldnNEaWZmKGRpZmYpLnRoZW4oZnVuY3Rpb24gKGRpZmZzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgLy8gY3VycmVudEJhdGNoLmRpZmZzIGVsZW1lbnRzIGFyZSBkZWxldGVkIGFzIHRoZSBkb2N1bWVudHMgYXJlIHdyaXR0ZW5cbiAgICAgIGN1cnJlbnRCYXRjaC5kaWZmcyA9IGRpZmZzO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmF0Y2hEb2NzKCkge1xuICAgIHJldHVybiBnZXREb2NzKHNyYywgdGFyZ2V0LCBjdXJyZW50QmF0Y2guZGlmZnMsIHJldHVyblZhbHVlKS50aGVuKGZ1bmN0aW9uIChnb3QpIHtcbiAgICAgIGN1cnJlbnRCYXRjaC5lcnJvciA9ICFnb3Qub2s7XG4gICAgICBnb3QuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRCYXRjaC5kaWZmc1tkb2MuX2lkXTtcbiAgICAgICAgcmVzdWx0LmRvY3NfcmVhZCsrO1xuICAgICAgICBjdXJyZW50QmF0Y2guZG9jcy5wdXNoKGRvYyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0TmV4dEJhdGNoKCkge1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQgfHwgY3VycmVudEJhdGNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChiYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaCh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudEJhdGNoID0gYmF0Y2hlcy5zaGlmdCgpO1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdzdGFydF9uZXh0X2JhdGNoJzogY3VycmVudEJhdGNoLnNlcSB9KTtcbiAgICBnZXREaWZmcygpXG4gICAgICAudGhlbihnZXRCYXRjaERvY3MpXG4gICAgICAudGhlbih3cml0ZURvY3MpXG4gICAgICAudGhlbihmaW5pc2hCYXRjaClcbiAgICAgIC50aGVuKHN0YXJ0TmV4dEJhdGNoKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgYWJvcnRSZXBsaWNhdGlvbignYmF0Y2ggcHJvY2Vzc2luZyB0ZXJtaW5hdGVkIHdpdGggZXJyb3InLCBlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NQZW5kaW5nQmF0Y2goaW1tZWRpYXRlJCQxKSB7XG4gICAgaWYgKHBlbmRpbmdCYXRjaC5jaGFuZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGJhdGNoZXMubGVuZ3RoID09PSAwICYmICFjdXJyZW50QmF0Y2gpIHtcbiAgICAgICAgaWYgKChjb250aW51b3VzICYmIGNoYW5nZXNPcHRzLmxpdmUpIHx8IGNoYW5nZXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICByZXR1cm5WYWx1ZS5zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdwYXVzZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlc0NvbXBsZXRlZCkge1xuICAgICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBpbW1lZGlhdGUkJDEgfHxcbiAgICAgIGNoYW5nZXNDb21wbGV0ZWQgfHxcbiAgICAgIHBlbmRpbmdCYXRjaC5jaGFuZ2VzLmxlbmd0aCA+PSBiYXRjaF9zaXplXG4gICAgKSB7XG4gICAgICBiYXRjaGVzLnB1c2gocGVuZGluZ0JhdGNoKTtcbiAgICAgIHBlbmRpbmdCYXRjaCA9IHtcbiAgICAgICAgc2VxOiAwLFxuICAgICAgICBjaGFuZ2VzOiBbXSxcbiAgICAgICAgZG9jczogW11cbiAgICAgIH07XG4gICAgICBpZiAocmV0dXJuVmFsdWUuc3RhdGUgPT09ICdwZW5kaW5nJyB8fCByZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ3N0b3BwZWQnKSB7XG4gICAgICAgIHJldHVyblZhbHVlLnN0YXRlID0gJ2FjdGl2ZSc7XG4gICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgICAgc3RhcnROZXh0QmF0Y2goKTtcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGFib3J0UmVwbGljYXRpb24ocmVhc29uLCBlcnIpIHtcbiAgICBpZiAocmVwbGljYXRpb25Db21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFlcnIubWVzc2FnZSkge1xuICAgICAgZXJyLm1lc3NhZ2UgPSByZWFzb247XG4gICAgfVxuICAgIHJlc3VsdC5vayA9IGZhbHNlO1xuICAgIHJlc3VsdC5zdGF0dXMgPSAnYWJvcnRpbmcnO1xuICAgIGJhdGNoZXMgPSBbXTtcbiAgICBwZW5kaW5nQmF0Y2ggPSB7XG4gICAgICBzZXE6IDAsXG4gICAgICBjaGFuZ2VzOiBbXSxcbiAgICAgIGRvY3M6IFtdXG4gICAgfTtcbiAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKGVycik7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlUmVwbGljYXRpb24oZmF0YWxFcnJvcikge1xuICAgIGlmIChyZXBsaWNhdGlvbkNvbXBsZXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXN1bHQuc3RhdHVzID0gJ2NhbmNlbGxlZCc7XG4gICAgICBpZiAod3JpdGluZ0NoZWNrcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc3RhdHVzID0gcmVzdWx0LnN0YXR1cyB8fCAnY29tcGxldGUnO1xuICAgIHJlc3VsdC5lbmRfdGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICByZXN1bHQubGFzdF9zZXEgPSBsYXN0X3NlcTtcbiAgICByZXBsaWNhdGlvbkNvbXBsZXRlZCA9IHRydWU7XG5cbiAgICBpZiAoZmF0YWxFcnJvcikge1xuICAgICAgLy8gbmVlZCB0byBleHRlbmQgdGhlIGVycm9yIGJlY2F1c2UgRmlyZWZveCBjb25zaWRlcnMgXCIucmVzdWx0XCIgcmVhZC1vbmx5XG4gICAgICBmYXRhbEVycm9yID0gY3JlYXRlRXJyb3IoZmF0YWxFcnJvcik7XG4gICAgICBmYXRhbEVycm9yLnJlc3VsdCA9IHJlc3VsdDtcblxuICAgICAgLy8gTm9ybWFsaXplIGVycm9yIG5hbWUuIGkuZS4gJ1VuYXV0aG9yaXplZCcgLT4gJ3VuYXV0aG9yaXplZCcgKGVnIFN5bmMgR2F0ZXdheSlcbiAgICAgIHZhciBlcnJvck5hbWUgPSAoZmF0YWxFcnJvci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGVycm9yTmFtZSA9PT0gJ3VuYXV0aG9yaXplZCcgfHwgZXJyb3JOYW1lID09PSAnZm9yYmlkZGVuJykge1xuICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdlcnJvcicsIGZhdGFsRXJyb3IpO1xuICAgICAgICByZXR1cm5WYWx1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhY2tPZmYob3B0cywgcmV0dXJuVmFsdWUsIGZhdGFsRXJyb3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXBsaWNhdGUoc3JjLCB0YXJnZXQsIG9wdHMsIHJldHVyblZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NvbXBsZXRlJywgcmVzdWx0KTtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2UoY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodHlwZW9mIHBlbmRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICBwZW5kaW5nQmF0Y2gucGVuZGluZyA9IHBlbmRpbmc7XG4gICAgfVxuXG4gICAgdmFyIGZpbHRlciA9IGZpbHRlckNoYW5nZShvcHRzKShjaGFuZ2UpO1xuICAgIGlmICghZmlsdGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdCYXRjaC5zZXEgPSBjaGFuZ2Uuc2VxIHx8IGxhc3RTZXE7XG4gICAgcGVuZGluZ0JhdGNoLmNoYW5nZXMucHVzaChjaGFuZ2UpO1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdwZW5kaW5nX2JhdGNoJzogcGVuZGluZ0JhdGNoLnNlcSB9KTtcbiAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaChiYXRjaGVzLmxlbmd0aCA9PT0gMCAmJiBjaGFuZ2VzT3B0cy5saXZlKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2VzQ29tcGxldGUoY2hhbmdlcykge1xuICAgIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG5cbiAgICAvLyBpZiBubyByZXN1bHRzIHdlcmUgcmV0dXJuZWQgdGhlbiB3ZSdyZSBkb25lLFxuICAgIC8vIGVsc2UgZmV0Y2ggbW9yZVxuICAgIGlmIChjaGFuZ2VzLnJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgY2hhbmdlc09wdHMuc2luY2UgPSBjaGFuZ2VzLnJlc3VsdHNbY2hhbmdlcy5yZXN1bHRzLmxlbmd0aCAtIDFdLnNlcTtcbiAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2godHJ1ZSk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY29udGludW91cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLmxpdmUgPSB0cnVlO1xuICAgICAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKHRydWUpO1xuICAgICAgfTtcblxuICAgICAgLy8gdXBkYXRlIHRoZSBjaGVja3BvaW50IHNvIHdlIHN0YXJ0IGZyb20gdGhlIHJpZ2h0IHNlcSBuZXh0IHRpbWVcbiAgICAgIGlmICghY3VycmVudEJhdGNoICYmIGNoYW5nZXMucmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgICAgICBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KGNoYW5nZXMubGFzdF9zZXEsXG4gICAgICAgICAgICBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxID0gY2hhbmdlcy5sYXN0X3NlcTtcbiAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gob25DaGVja3BvaW50RXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlc0Vycm9yKGVycikge1xuICAgIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG4gICAgYWJvcnRSZXBsaWNhdGlvbignY2hhbmdlcyByZWplY3RlZCcsIGVycik7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGdldENoYW5nZXMoKSB7XG4gICAgaWYgKCEoXG4gICAgICAhY2hhbmdlc1BlbmRpbmcgJiZcbiAgICAgICFjaGFuZ2VzQ29tcGxldGVkICYmXG4gICAgICBiYXRjaGVzLmxlbmd0aCA8IGJhdGNoZXNfbGltaXRcbiAgICAgICkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hhbmdlc1BlbmRpbmcgPSB0cnVlO1xuICAgIGZ1bmN0aW9uIGFib3J0Q2hhbmdlcygpIHtcbiAgICAgIGNoYW5nZXMuY2FuY2VsKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKCkge1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlTGlzdGVuZXIoJ2NhbmNlbCcsIGFib3J0Q2hhbmdlcyk7XG4gICAgfVxuXG4gICAgaWYgKHJldHVyblZhbHVlLl9jaGFuZ2VzKSB7IC8vIHJlbW92ZSBvbGQgY2hhbmdlcygpIGFuZCBsaXN0ZW5lcnNcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdjYW5jZWwnLCByZXR1cm5WYWx1ZS5fYWJvcnRDaGFuZ2VzKTtcbiAgICAgIHJldHVyblZhbHVlLl9jaGFuZ2VzLmNhbmNlbCgpO1xuICAgIH1cbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdjYW5jZWwnLCBhYm9ydENoYW5nZXMpO1xuXG4gICAgdmFyIGNoYW5nZXMgPSBzcmMuY2hhbmdlcyhjaGFuZ2VzT3B0cylcbiAgICAgIC5vbignY2hhbmdlJywgb25DaGFuZ2UpO1xuICAgIGNoYW5nZXMudGhlbihyZW1vdmVMaXN0ZW5lciwgcmVtb3ZlTGlzdGVuZXIpO1xuICAgIGNoYW5nZXMudGhlbihvbkNoYW5nZXNDb21wbGV0ZSlcbiAgICAgIC5jYXRjaChvbkNoYW5nZXNFcnJvcik7XG5cbiAgICBpZiAob3B0cy5yZXRyeSkge1xuICAgICAgLy8gc2F2ZSBmb3IgbGF0ZXIgc28gd2UgY2FuIGNhbmNlbCBpZiBuZWNlc3NhcnlcbiAgICAgIHJldHVyblZhbHVlLl9jaGFuZ2VzID0gY2hhbmdlcztcbiAgICAgIHJldHVyblZhbHVlLl9hYm9ydENoYW5nZXMgPSBhYm9ydENoYW5nZXM7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBzdGFydENoYW5nZXMoKSB7XG4gICAgaW5pdENoZWNrcG9pbnRlcigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoZWNrcG9pbnRlci5nZXRDaGVja3BvaW50KCkudGhlbihmdW5jdGlvbiAoY2hlY2twb2ludCkge1xuICAgICAgICBsYXN0X3NlcSA9IGNoZWNrcG9pbnQ7XG4gICAgICAgIGNoYW5nZXNPcHRzID0ge1xuICAgICAgICAgIHNpbmNlOiBsYXN0X3NlcSxcbiAgICAgICAgICBsaW1pdDogYmF0Y2hfc2l6ZSxcbiAgICAgICAgICBiYXRjaF9zaXplOiBiYXRjaF9zaXplLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICBkb2NfaWRzOiBkb2NfaWRzLFxuICAgICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvcixcbiAgICAgICAgICByZXR1cm5fZG9jczogdHJ1ZSAvLyByZXF1aXJlZCBzbyB3ZSBrbm93IHdoZW4gd2UncmUgZG9uZVxuICAgICAgICB9O1xuICAgICAgICBpZiAob3B0cy5maWx0ZXIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG9wdHMuZmlsdGVyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gcmVxdWlyZWQgZm9yIHRoZSBjbGllbnQtc2lkZSBmaWx0ZXIgaW4gb25DaGFuZ2VcbiAgICAgICAgICAgIGNoYW5nZXNPcHRzLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gZGRvYyBmaWx0ZXJcbiAgICAgICAgICAgIGNoYW5nZXNPcHRzLmZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2hlYXJ0YmVhdCcgaW4gb3B0cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLmhlYXJ0YmVhdCA9IG9wdHMuaGVhcnRiZWF0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgndGltZW91dCcgaW4gb3B0cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMucXVlcnlfcGFyYW1zKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMucXVlcnlfcGFyYW1zID0gb3B0cy5xdWVyeV9wYXJhbXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMudmlldykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnZpZXcgPSBvcHRzLnZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgYWJvcnRSZXBsaWNhdGlvbignZ2V0Q2hlY2twb2ludCByZWplY3RlZCB3aXRoICcsIGVycik7XG4gICAgfSk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBvbkNoZWNrcG9pbnRFcnJvcihlcnIpIHtcbiAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgIGFib3J0UmVwbGljYXRpb24oJ3dyaXRlQ2hlY2twb2ludCBjb21wbGV0ZWQgd2l0aCBlcnJvcicsIGVycik7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkgeyAvLyBjYW5jZWxsZWQgaW1tZWRpYXRlbHlcbiAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFyZXR1cm5WYWx1ZS5fYWRkZWRMaXN0ZW5lcnMpIHtcbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdjYW5jZWwnLCBjb21wbGV0ZVJlcGxpY2F0aW9uKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5jb21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuVmFsdWUub25jZSgnZXJyb3InLCBvcHRzLmNvbXBsZXRlKTtcbiAgICAgIHJldHVyblZhbHVlLm9uY2UoJ2NvbXBsZXRlJywgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuVmFsdWUuX2FkZGVkTGlzdGVuZXJzID0gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0cy5zaW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzdGFydENoYW5nZXMoKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0Q2hlY2twb2ludGVyKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB3cml0aW5nQ2hlY2twb2ludCA9IHRydWU7XG4gICAgICByZXR1cm4gY2hlY2twb2ludGVyLndyaXRlQ2hlY2twb2ludChvcHRzLnNpbmNlLCBzZXNzaW9uKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsYXN0X3NlcSA9IG9wdHMuc2luY2U7XG4gICAgICBzdGFydENoYW5nZXMoKTtcbiAgICB9KS5jYXRjaChvbkNoZWNrcG9pbnRFcnJvcik7XG4gIH1cbn1cblxuLy8gV2UgY3JlYXRlIGEgYmFzaWMgcHJvbWlzZSBzbyB0aGUgY2FsbGVyIGNhbiBjYW5jZWwgdGhlIHJlcGxpY2F0aW9uIHBvc3NpYmx5XG4vLyBiZWZvcmUgd2UgaGF2ZSBhY3R1YWxseSBzdGFydGVkIGxpc3RlbmluZyB0byBjaGFuZ2VzIGV0Y1xuaW5oZXJpdHMoUmVwbGljYXRpb24sIEVFKTtcbmZ1bmN0aW9uIFJlcGxpY2F0aW9uKCkge1xuICBFRS5jYWxsKHRoaXMpO1xuICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICB0aGlzLnN0YXRlID0gJ3BlbmRpbmcnO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgIHNlbGYub25jZSgnY29tcGxldGUnLCBmdWxmaWxsKTtcbiAgICBzZWxmLm9uY2UoJ2Vycm9yJywgcmVqZWN0KTtcbiAgfSk7XG4gIHNlbGYudGhlbiA9IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gIH07XG4gIHNlbGYuY2F0Y2ggPSBmdW5jdGlvbiAocmVqZWN0KSB7XG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2gocmVqZWN0KTtcbiAgfTtcbiAgLy8gQXMgd2UgYWxsb3cgZXJyb3IgaGFuZGxpbmcgdmlhIFwiZXJyb3JcIiBldmVudCBhcyB3ZWxsLFxuICAvLyBwdXQgYSBzdHViIGluIGhlcmUgc28gdGhhdCByZWplY3RpbmcgbmV2ZXIgdGhyb3dzIFVuaGFuZGxlZEVycm9yLlxuICBzZWxmLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcbn1cblxuUmVwbGljYXRpb24ucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jYW5jZWxsZWQgPSB0cnVlO1xuICB0aGlzLnN0YXRlID0gJ2NhbmNlbGxlZCc7XG4gIHRoaXMuZW1pdCgnY2FuY2VsJyk7XG59O1xuXG5SZXBsaWNhdGlvbi5wcm90b3R5cGUucmVhZHkgPSBmdW5jdGlvbiAoc3JjLCB0YXJnZXQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoc2VsZi5fcmVhZHlDYWxsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VsZi5fcmVhZHlDYWxsZWQgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcbiAgICBzZWxmLmNhbmNlbCgpO1xuICB9XG4gIHNyYy5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB0YXJnZXQub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB9XG4gIHNlbGYub25jZSgnY29tcGxldGUnLCBjbGVhbnVwKTtcbiAgc2VsZi5vbmNlKCdlcnJvcicsIGNsZWFudXApO1xufTtcblxuZnVuY3Rpb24gdG9Qb3VjaChkYiwgb3B0cykge1xuICB2YXIgUG91Y2hDb25zdHJ1Y3RvciA9IG9wdHMuUG91Y2hDb25zdHJ1Y3RvcjtcbiAgaWYgKHR5cGVvZiBkYiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbmV3IFBvdWNoQ29uc3RydWN0b3IoZGIsIG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkYjtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXBsaWNhdGVXcmFwcGVyKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuXG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAndW5kZWZpbmVkJykge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIGlmIChvcHRzLmRvY19pZHMgJiYgIUFycmF5LmlzQXJyYXkob3B0cy5kb2NfaWRzKSkge1xuICAgIHRocm93IGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULFxuICAgICAgICAgICAgICAgICAgICAgICBcImBkb2NfaWRzYCBmaWx0ZXIgcGFyYW1ldGVyIGlzIG5vdCBhIGxpc3QuXCIpO1xuICB9XG5cbiAgb3B0cy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIG9wdHMuY29udGludW91cyA9IG9wdHMuY29udGludW91cyB8fCBvcHRzLmxpdmU7XG4gIG9wdHMucmV0cnkgPSAoJ3JldHJ5JyBpbiBvcHRzKSA/IG9wdHMucmV0cnkgOiBmYWxzZTtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgb3B0cy5Qb3VjaENvbnN0cnVjdG9yID0gb3B0cy5Qb3VjaENvbnN0cnVjdG9yIHx8IHRoaXM7XG4gIHZhciByZXBsaWNhdGVSZXQgPSBuZXcgUmVwbGljYXRpb24ob3B0cyk7XG4gIHZhciBzcmNQb3VjaCA9IHRvUG91Y2goc3JjLCBvcHRzKTtcbiAgdmFyIHRhcmdldFBvdWNoID0gdG9Qb3VjaCh0YXJnZXQsIG9wdHMpO1xuICByZXBsaWNhdGUoc3JjUG91Y2gsIHRhcmdldFBvdWNoLCBvcHRzLCByZXBsaWNhdGVSZXQpO1xuICByZXR1cm4gcmVwbGljYXRlUmV0O1xufVxuXG5pbmhlcml0cyhTeW5jLCBFRSk7XG5mdW5jdGlvbiBzeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRzID0ge307XG4gIH1cbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICBvcHRzLlBvdWNoQ29uc3RydWN0b3IgPSBvcHRzLlBvdWNoQ29uc3RydWN0b3IgfHwgdGhpcztcbiAgc3JjID0gdG9Qb3VjaChzcmMsIG9wdHMpO1xuICB0YXJnZXQgPSB0b1BvdWNoKHRhcmdldCwgb3B0cyk7XG4gIHJldHVybiBuZXcgU3luYyhzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiBTeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuY2FuY2VsZWQgPSBmYWxzZTtcblxuICB2YXIgb3B0c1B1c2ggPSBvcHRzLnB1c2ggPyAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIG9wdHMsIG9wdHMucHVzaCkgOiBvcHRzO1xuICB2YXIgb3B0c1B1bGwgPSBvcHRzLnB1bGwgPyAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIG9wdHMsIG9wdHMucHVsbCkgOiBvcHRzO1xuXG4gIHRoaXMucHVzaCA9IHJlcGxpY2F0ZVdyYXBwZXIoc3JjLCB0YXJnZXQsIG9wdHNQdXNoKTtcbiAgdGhpcy5wdWxsID0gcmVwbGljYXRlV3JhcHBlcih0YXJnZXQsIHNyYywgb3B0c1B1bGwpO1xuXG4gIHRoaXMucHVzaFBhdXNlZCA9IHRydWU7XG4gIHRoaXMucHVsbFBhdXNlZCA9IHRydWU7XG5cbiAgZnVuY3Rpb24gcHVsbENoYW5nZShjaGFuZ2UpIHtcbiAgICBzZWxmLmVtaXQoJ2NoYW5nZScsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1bGwnLFxuICAgICAgY2hhbmdlOiBjaGFuZ2VcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoQ2hhbmdlKGNoYW5nZSkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVzaCcsXG4gICAgICBjaGFuZ2U6IGNoYW5nZVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hEZW5pZWQoZG9jKSB7XG4gICAgc2VsZi5lbWl0KCdkZW5pZWQnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdXNoJyxcbiAgICAgIGRvYzogZG9jXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVsbERlbmllZChkb2MpIHtcbiAgICBzZWxmLmVtaXQoJ2RlbmllZCcsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1bGwnLFxuICAgICAgZG9jOiBkb2NcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoUGF1c2VkKCkge1xuICAgIHNlbGYucHVzaFBhdXNlZCA9IHRydWU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVsbFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdwYXVzZWQnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVsbFBhdXNlZCgpIHtcbiAgICBzZWxmLnB1bGxQYXVzZWQgPSB0cnVlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1c2hQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgncGF1c2VkJyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1c2hBY3RpdmUoKSB7XG4gICAgc2VsZi5wdXNoUGF1c2VkID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVsbFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdhY3RpdmUnLCB7XG4gICAgICAgIGRpcmVjdGlvbjogJ3B1c2gnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVsbEFjdGl2ZSgpIHtcbiAgICBzZWxmLnB1bGxQYXVzZWQgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdXNoUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ2FjdGl2ZScsIHtcbiAgICAgICAgZGlyZWN0aW9uOiAncHVsbCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciByZW1vdmVkID0ge307XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsKHR5cGUpIHsgLy8gdHlwZSBpcyAncHVzaCcgb3IgJ3B1bGwnXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xuICAgICAgdmFyIGlzQ2hhbmdlID0gZXZlbnQgPT09ICdjaGFuZ2UnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsQ2hhbmdlIHx8IGZ1bmMgPT09IHB1c2hDaGFuZ2UpO1xuICAgICAgdmFyIGlzRGVuaWVkID0gZXZlbnQgPT09ICdkZW5pZWQnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsRGVuaWVkIHx8IGZ1bmMgPT09IHB1c2hEZW5pZWQpO1xuICAgICAgdmFyIGlzUGF1c2VkID0gZXZlbnQgPT09ICdwYXVzZWQnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsUGF1c2VkIHx8IGZ1bmMgPT09IHB1c2hQYXVzZWQpO1xuICAgICAgdmFyIGlzQWN0aXZlID0gZXZlbnQgPT09ICdhY3RpdmUnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsQWN0aXZlIHx8IGZ1bmMgPT09IHB1c2hBY3RpdmUpO1xuXG4gICAgICBpZiAoaXNDaGFuZ2UgfHwgaXNEZW5pZWQgfHwgaXNQYXVzZWQgfHwgaXNBY3RpdmUpIHtcbiAgICAgICAgaWYgKCEoZXZlbnQgaW4gcmVtb3ZlZCkpIHtcbiAgICAgICAgICByZW1vdmVkW2V2ZW50XSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZWRbZXZlbnRdW3R5cGVdID0gdHJ1ZTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlbW92ZWRbZXZlbnRdKS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAvLyBib3RoIHB1c2ggYW5kIHB1bGwgaGF2ZSBhc2tlZCB0byBiZSByZW1vdmVkXG4gICAgICAgICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGlmIChvcHRzLmxpdmUpIHtcbiAgICB0aGlzLnB1c2gub24oJ2NvbXBsZXRlJywgc2VsZi5wdWxsLmNhbmNlbC5iaW5kKHNlbGYucHVsbCkpO1xuICAgIHRoaXMucHVsbC5vbignY29tcGxldGUnLCBzZWxmLnB1c2guY2FuY2VsLmJpbmQoc2VsZi5wdXNoKSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRPbmVMaXN0ZW5lcihlZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKGVlLmxpc3RlbmVycyhldmVudCkuaW5kZXhPZihsaXN0ZW5lcikgPT0gLTEpIHtcbiAgICAgIGVlLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5vbignbmV3TGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgPT09ICdjaGFuZ2UnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdjaGFuZ2UnLCBwdWxsQ2hhbmdlKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2NoYW5nZScsIHB1c2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdkZW5pZWQnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdkZW5pZWQnLCBwdWxsRGVuaWVkKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2RlbmllZCcsIHB1c2hEZW5pZWQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdhY3RpdmUnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdhY3RpdmUnLCBwdWxsQWN0aXZlKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2FjdGl2ZScsIHB1c2hBY3RpdmUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdwYXVzZWQnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdwYXVzZWQnLCBwdWxsUGF1c2VkKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ3BhdXNlZCcsIHB1c2hQYXVzZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5vbigncmVtb3ZlTGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgPT09ICdjaGFuZ2UnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHB1bGxDaGFuZ2UpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCBwdXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZGVuaWVkJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdkZW5pZWQnLCBwdWxsRGVuaWVkKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcignZGVuaWVkJywgcHVzaERlbmllZCk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcignYWN0aXZlJywgcHVsbEFjdGl2ZSk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ2FjdGl2ZScsIHB1c2hBY3RpdmUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdwYXVzZWQnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ3BhdXNlZCcsIHB1bGxQYXVzZWQpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdwYXVzZWQnLCBwdXNoUGF1c2VkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMucHVsbC5vbigncmVtb3ZlTGlzdGVuZXInLCByZW1vdmVBbGwoJ3B1bGwnKSk7XG4gIHRoaXMucHVzaC5vbigncmVtb3ZlTGlzdGVuZXInLCByZW1vdmVBbGwoJ3B1c2gnKSk7XG5cbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLmFsbChbXG4gICAgdGhpcy5wdXNoLFxuICAgIHRoaXMucHVsbFxuICBdKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgdmFyIG91dCA9IHtcbiAgICAgIHB1c2g6IHJlc3BbMF0sXG4gICAgICBwdWxsOiByZXNwWzFdXG4gICAgfTtcbiAgICBzZWxmLmVtaXQoJ2NvbXBsZXRlJywgb3V0KTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgfVxuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIG91dDtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAvLyBpZiB0aGVyZSdzIGEgY2FsbGJhY2ssIHRoZW4gdGhlIGNhbGxiYWNrIGNhbiByZWNlaXZlXG4gICAgICAvLyB0aGUgZXJyb3IgZXZlbnRcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gY2FsbGJhY2ssIHRoZW4gd2UncmUgc2FmZSB0byBlbWl0IGFuIGVycm9yXG4gICAgICAvLyBldmVudCwgd2hpY2ggd291bGQgb3RoZXJ3aXNlIHRocm93IGFuIHVuaGFuZGxlZCBlcnJvclxuICAgICAgLy8gZHVlIHRvICdlcnJvcicgYmVpbmcgYSBzcGVjaWFsIGV2ZW50IGluIEV2ZW50RW1pdHRlcnNcbiAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgLy8gbm8gc2Vuc2UgdGhyb3dpbmcgaWYgd2UncmUgYWxyZWFkeSBlbWl0dGluZyBhbiAnZXJyb3InIGV2ZW50XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnRoZW4gPSBmdW5jdGlvbiAoc3VjY2VzcywgZXJyKSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihzdWNjZXNzLCBlcnIpO1xuICB9O1xuXG4gIHRoaXMuY2F0Y2ggPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2goZXJyKTtcbiAgfTtcbn1cblxuU3luYy5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuY2FuY2VsZWQpIHtcbiAgICB0aGlzLmNhbmNlbGVkID0gdHJ1ZTtcbiAgICB0aGlzLnB1c2guY2FuY2VsKCk7XG4gICAgdGhpcy5wdWxsLmNhbmNlbCgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByZXBsaWNhdGlvbihQb3VjaERCKSB7XG4gIFBvdWNoREIucmVwbGljYXRlID0gcmVwbGljYXRlV3JhcHBlcjtcbiAgUG91Y2hEQi5zeW5jID0gc3luYztcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUG91Y2hEQi5wcm90b3R5cGUsICdyZXBsaWNhdGUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBpZiAodHlwZW9mIHRoaXMucmVwbGljYXRlTWV0aG9kcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5yZXBsaWNhdGVNZXRob2RzID0ge1xuICAgICAgICAgIGZyb206IGZ1bmN0aW9uIChvdGhlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShvdGhlciwgc2VsZiwgb3B0cywgY2FsbGJhY2spO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG86IGZ1bmN0aW9uIChvdGhlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShzZWxmLCBvdGhlciwgb3B0cywgY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlcGxpY2F0ZU1ldGhvZHM7XG4gICAgfVxuICB9KTtcblxuICBQb3VjaERCLnByb3RvdHlwZS5zeW5jID0gZnVuY3Rpb24gKGRiTmFtZSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5zeW5jKHRoaXMsIGRiTmFtZSwgb3B0cywgY2FsbGJhY2spO1xuICB9O1xufVxuXG5Qb3VjaERCLnBsdWdpbihJREJQb3VjaClcbiAgLnBsdWdpbihIdHRwUG91Y2gkMSlcbiAgLnBsdWdpbihtYXByZWR1Y2UpXG4gIC5wbHVnaW4ocmVwbGljYXRpb24pO1xuXG4vLyBQdWxsIGZyb20gc3JjIGJlY2F1c2UgcG91Y2hkYi1ub2RlL3BvdWNoZGItYnJvd3NlciB0aGVtc2VsdmVzXG5cbmV4cG9ydCBkZWZhdWx0IFBvdWNoREI7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG9kYXNoIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vb3BlbmpzZi5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy4yMSc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG4gIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbiAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuICAgICAgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nLFxuICAgICAgSU5WQUxJRF9URU1QTF9WQVJfRVJST1JfVEVYVCA9ICdJbnZhbGlkIGB2YXJpYWJsZWAgb3B0aW9uIHBhc3NlZCBpbnRvIGBfLnRlbXBsYXRlYCc7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xuICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuICAvKiogVXNlZCBhcyB0aGUgaW50ZXJuYWwgYXJndW1lbnQgcGxhY2Vob2xkZXIuICovXG4gIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjbG9uaW5nLiAqL1xuICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xuICB2YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG4gICAgICBXUkFQX0JJTkRfS0VZX0ZMQUcgPSAyLFxuICAgICAgV1JBUF9DVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG4gICAgICBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcgPSAxNixcbiAgICAgIFdSQVBfUEFSVElBTF9GTEFHID0gMzIsXG4gICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuICAgICAgV1JBUF9BUllfRkxBRyA9IDEyOCxcbiAgICAgIFdSQVBfUkVBUkdfRkxBRyA9IDI1NixcbiAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXG4gIC8qKiBVc2VkIGFzIGRlZmF1bHQgb3B0aW9ucyBmb3IgYF8udHJ1bmNhdGVgLiAqL1xuICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcbiAgICAgIERFRkFVTFRfVFJVTkNfT01JU1NJT04gPSAnLi4uJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG4gIHZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgICBIT1RfU1BBTiA9IDE2O1xuXG4gIC8qKiBVc2VkIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIGxhenkgaXRlcmF0ZWVzLiAqL1xuICB2YXIgTEFaWV9GSUxURVJfRkxBRyA9IDEsXG4gICAgICBMQVpZX01BUF9GTEFHID0gMixcbiAgICAgIExBWllfV0hJTEVfRkxBRyA9IDM7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgICAgTkFOID0gMCAvIDA7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbiAgdmFyIE1BWF9BUlJBWV9MRU5HVEggPSA0Mjk0OTY3Mjk1LFxuICAgICAgTUFYX0FSUkFZX0lOREVYID0gTUFYX0FSUkFZX0xFTkdUSCAtIDEsXG4gICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXG4gIC8qKiBVc2VkIHRvIGFzc29jaWF0ZSB3cmFwIG1ldGhvZHMgd2l0aCB0aGVpciBiaXQgZmxhZ3MuICovXG4gIHZhciB3cmFwRmxhZ3MgPSBbXG4gICAgWydhcnknLCBXUkFQX0FSWV9GTEFHXSxcbiAgICBbJ2JpbmQnLCBXUkFQX0JJTkRfRkxBR10sXG4gICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcbiAgICBbJ2N1cnJ5JywgV1JBUF9DVVJSWV9GTEFHXSxcbiAgICBbJ2N1cnJ5UmlnaHQnLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUddLFxuICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcbiAgICBbJ3BhcnRpYWwnLCBXUkFQX1BBUlRJQUxfRkxBR10sXG4gICAgWydwYXJ0aWFsUmlnaHQnLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBR10sXG4gICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cbiAgXTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuICAgICAgd2Vha1NldFRhZyA9ICdbb2JqZWN0IFdlYWtTZXRdJztcblxuICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcbiAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgICAgcmVIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZUVzY2FwZWRIdG1sLnNvdXJjZSksXG4gICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgICByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltU3RhcnQgPSAvXlxccysvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGEgc2luZ2xlIHdoaXRlc3BhY2UgY2hhcmFjdGVyLiAqL1xuICB2YXIgcmVXaGl0ZXNwYWNlID0gL1xccy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd3JhcCBkZXRhaWwgY29tbWVudHMuICovXG4gIHZhciByZVdyYXBDb21tZW50ID0gL1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxcbiAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG4gICAgICByZVNwbGl0RGV0YWlscyA9IC8sPyAmIC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKipcbiAgICogVXNlZCB0byB2YWxpZGF0ZSB0aGUgYHZhbGlkYXRlYCBvcHRpb24gaW4gYF8udGVtcGxhdGVgIHZhcmlhYmxlLlxuICAgKlxuICAgKiBGb3JiaWRzIGNoYXJhY3RlcnMgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgY2hhbmdlIHRoZSBtZWFuaW5nIG9mIHRoZSBmdW5jdGlvbiBhcmd1bWVudCBkZWZpbml0aW9uOlxuICAgKiAtIFwiKCksXCIgKG1vZGlmaWNhdGlvbiBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiPVwiIChkZWZhdWx0IHZhbHVlKVxuICAgKiAtIFwiW117fVwiIChkZXN0cnVjdHVyaW5nIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCIvXCIgKGJlZ2lubmluZyBvZiBhIGNvbW1lbnQpXG4gICAqIC0gd2hpdGVzcGFjZVxuICAgKi9cbiAgdmFyIHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzID0gL1soKT0se31cXFtcXF1cXC9cXHNdLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoXG4gICAqIFtFUyB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10ZW1wbGF0ZS1saXRlcmFsLWxleGljYWwtY29tcG9uZW50cykuXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbiAgdmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuICB2YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmYnLFxuICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGZmJyxcbiAgICAgIHJzQ29tYm9SYW5nZSA9IHJzQ29tYm9NYXJrc1JhbmdlICsgcmVDb21ib0hhbGZNYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc01pc2NMb3dlciA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzTWlzY1VwcGVyID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdENvbnRyVXBwZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNPcmRMb3dlciA9ICdcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSknLFxuICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc01pc2NVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc01pc2NMb3dlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIsXG4gICAgcnNPcmRVcHBlcixcbiAgICByc09yZExvd2VyLFxuICAgIHJzRGlnaXRzLFxuICAgIHJzRW1vamlcbiAgXS5qb2luKCd8JyksICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG4gIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMuICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0J1ZmZlcicsICdEYXRhVmlldycsICdEYXRlJywgJ0Vycm9yJywgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknLFxuICAgICdGdW5jdGlvbicsICdJbnQ4QXJyYXknLCAnSW50MTZBcnJheScsICdJbnQzMkFycmF5JywgJ01hcCcsICdNYXRoJywgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5JyxcbiAgICAnVWludDhDbGFtcGVkQXJyYXknLCAnVWludDE2QXJyYXknLCAnVWludDMyQXJyYXknLCAnV2Vha01hcCcsXG4gICAgJ18nLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeS4gKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xuICB2YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAgICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAgICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAgICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAgICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAgICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICAgJ1xceGRmJzogJ3NzJyxcbiAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAgICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAgICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAgICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAgICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAgICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAgICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAgICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAgICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3MnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuICovXG4gIHZhciBodG1sVW5lc2NhcGVzID0ge1xuICAgICcmYW1wOyc6ICcmJyxcbiAgICAnJmx0Oyc6ICc8JyxcbiAgICAnJmd0Oyc6ICc+JyxcbiAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAnJiMzOTsnOiBcIidcIlxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuICAvKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbiAgdmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgICBpZiAodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgICAgfVxuXG4gICAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0oKSk7XG5cbiAgLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG5vZGVJc0FycmF5QnVmZmVyID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNBcnJheUJ1ZmZlcixcbiAgICAgIG5vZGVJc0RhdGUgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0RhdGUsXG4gICAgICBub2RlSXNNYXAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc01hcCxcbiAgICAgIG5vZGVJc1JlZ0V4cCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzUmVnRXhwLFxuICAgICAgbm9kZUlzU2V0ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNTZXQsXG4gICAgICBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlQWdncmVnYXRvcmAgZm9yIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlBZ2dyZWdhdG9yKGFycmF5LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaFJpZ2h0KGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5ldmVyeWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFdmVyeShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5jbHVkZXNgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBzcGVjaWZ5aW5nIGFuIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXJyYXlJbmNsdWRlc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlc1dpdGgoYXJyYXksIHZhbHVlLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKHZhbHVlLCBhcnJheVtpbmRleF0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZVJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZVJpZ2h0KGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVstLWxlbmd0aF07XG4gICAgfVxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhbiBBU0NJSSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgdmFyIGFzY2lpU2l6ZSA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZmluZEtleWAgYW5kIGBfLmZpbmRMYXN0S2V5YCxcbiAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYFxuICAgKiB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50IG9yIGl0cyBrZXksIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEtleShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGVhY2hGdW5jKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZWFuYCBhbmQgYF8ubWVhbkJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlTWVhbihhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbmd0aCA/IChiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkgLyBsZW5ndGgpIDogTkFOO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgLCB3aXRob3V0IHN1cHBvcnRcbiAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpbml0QWNjdW0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3Qgb3IgbGFzdCBlbGVtZW50IG9mXG4gICAqICBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBlYWNoRnVuYykge1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cbiAgICAgICAgPyAoaW5pdEFjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICA6IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0QnlgIHdoaWNoIHVzZXMgYGNvbXBhcmVyYCB0byBkZWZpbmUgdGhlXG4gICAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAgICogdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyZXIgVGhlIGZ1bmN0aW9uIHRvIGRlZmluZSBzb3J0IG9yZGVyLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTb3J0QnkoYXJyYXksIGNvbXBhcmVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zdW1gIGFuZCBgXy5zdW1CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSk7XG4gICAgICBpZiAoY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gY3VycmVudCA6IChyZXN1bHQgKyBjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gICAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9QYWlyc2AgYW5kIGBfLnRvUGFpcnNJbmAgd2hpY2ggY3JlYXRlcyBhbiBhcnJheVxuICAgKiBvZiBrZXktdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVG9QYWlycyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udHJpbWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byB0cmltLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUcmltKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmdcbiAgICAgID8gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSkucmVwbGFjZShyZVRyaW1TdGFydCwgJycpXG4gICAgICA6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICAgKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyaW5nLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIGlmIChpdGVyYXRlZXMubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShpdGVyYXRlZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYmFzZUdldCh2YWx1ZSwgaXRlcmF0ZWUubGVuZ3RoID09PSAxID8gaXRlcmF0ZWVbMF0gOiBpdGVyYXRlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpdGVyYXRlZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaWRlbnRpdHldO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJyB8fCBrZXkgPT09ICdjb25zdHJ1Y3RvcicgfHwga2V5ID09PSAncHJvdG90eXBlJykge1xuICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICB2YXIgdmFsSXNOYU4gPSB2YWx1ZSAhPT0gdmFsdWUsXG4gICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSksXG4gICAgICAgICAgdmFsSXNVbmRlZmluZWQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICB2YXIgbWlkID0gbmF0aXZlRmxvb3IoKGxvdyArIGhpZ2gpIC8gMiksXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKGFycmF5W21pZF0pLFxuICAgICAgICAgICAgb3RoSXNEZWZpbmVkID0gY29tcHV0ZWQgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IGNvbXB1dGVkID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBjb21wdXRlZCA9PT0gY29tcHV0ZWQsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKGNvbXB1dGVkKTtcblxuICAgICAgICBpZiAodmFsSXNOYU4pIHtcbiAgICAgICAgICB2YXIgc2V0TG93ID0gcmV0SGlnaGVzdCB8fCBvdGhJc1JlZmxleGl2ZTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1VuZGVmaW5lZCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIChyZXRIaWdoZXN0IHx8IG90aElzRGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNOdWxsKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc051bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmICFvdGhJc051bGwgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzU3ltYm9sKTtcbiAgICAgICAgfSBlbHNlIGlmIChvdGhJc051bGwgfHwgb3RoSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRMb3cgPSByZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0TG93KSB7XG4gICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlTWluKGhpZ2gsIE1BWF9BUlJBWV9JTkRFWCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkVW5pcWAgYW5kIGBfLnNvcnRlZFVuaXFCeWAgd2l0aG91dFxuICAgICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgaWYgKCFpbmRleCB8fCAhZXEoY29tcHV0ZWQsIHNlZW4pKSB7XG4gICAgICAgICAgdmFyIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b051bWJlcmAgd2hpY2ggZG9lc24ndCBlbnN1cmUgY29ycmVjdFxuICAgICAqIGNvbnZlcnNpb25zIG9mIGJpbmFyeSwgaGV4YWRlY2ltYWwsIG9yIG9jdGFsIHN0cmluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICByZXR1cm4gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICAgICAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5pcUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuaXEoYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICBzZWVuID0gcmVzdWx0O1xuXG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgdmFyIHNldCA9IGl0ZXJhdGVlID8gbnVsbCA6IGNyZWF0ZVNldChhcnJheSk7XG4gICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9BcnJheShzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIHNlZW4gPSBuZXcgU2V0Q2FjaGU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VlbiA9IGl0ZXJhdGVlID8gW10gOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciBzZWVuSW5kZXggPSBzZWVuLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoc2VlbkluZGV4LS0pIHtcbiAgICAgICAgICAgIGlmIChzZWVuW3NlZW5JbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXMoc2VlbiwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcHJvcGVydHkgcGF0aCB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IGRlbGV0ZSBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVwZGF0ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgcmV0dXJuIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB1cGRhdGVyKGJhc2VHZXQob2JqZWN0LCBwYXRoKSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kcm9wV2hpbGVgIGFuZCBgXy50YWtlV2hpbGVgXG4gICAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEcm9wXSBTcGVjaWZ5IGRyb3BwaW5nIGVsZW1lbnRzIGluc3RlYWQgb2YgdGFraW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXaGlsZShhcnJheSwgcHJlZGljYXRlLCBpc0Ryb3AsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xO1xuXG4gICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSAmJlxuICAgICAgICBwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7fVxuXG4gICAgICByZXR1cm4gaXNEcm9wXG4gICAgICAgID8gYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gMCA6IGluZGV4KSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IGxlbmd0aCkpXG4gICAgICAgIDogYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogMCksIChmcm9tUmlnaHQgPyBsZW5ndGggOiBpbmRleCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGB3cmFwcGVyVmFsdWVgIHdoaWNoIHJldHVybnMgdGhlIHJlc3VsdCBvZlxuICAgICAqIHBlcmZvcm1pbmcgYSBzZXF1ZW5jZSBvZiBhY3Rpb25zIG9uIHRoZSB1bndyYXBwZWQgYHZhbHVlYCwgd2hlcmUgZWFjaFxuICAgICAqIHN1Y2Nlc3NpdmUgYWN0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYWN0aW9ucyBBY3Rpb25zIHRvIHBlcmZvcm0gdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV3JhcHBlclZhbHVlKHZhbHVlLCBhY3Rpb25zKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdmFsdWU7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnZhbHVlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlSZWR1Y2UoYWN0aW9ucywgZnVuY3Rpb24ocmVzdWx0LCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5mdW5jLmFwcGx5KGFjdGlvbi50aGlzQXJnLCBhcnJheVB1c2goW3Jlc3VsdF0sIGFjdGlvbi5hcmdzKSk7XG4gICAgICB9LCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy54b3JgLCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VYb3IoYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVVuaXEoYXJyYXlzWzBdKSA6IFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2luZGV4XSxcbiAgICAgICAgICAgIG90aEluZGV4ID0gLTE7XG5cbiAgICAgICAgd2hpbGUgKCsrb3RoSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAob3RoSW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBiYXNlRGlmZmVyZW5jZShyZXN1bHRbaW5kZXhdIHx8IGFycmF5LCBhcnJheXNbb3RoSW5kZXhdLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4ocmVzdWx0LCAxKSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy56aXBPYmplY3RgIHdoaWNoIGFzc2lnbnMgdmFsdWVzIHVzaW5nIGBhc3NpZ25GdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbkZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWmlwT2JqZWN0KHByb3BzLCB2YWx1ZXMsIGFzc2lnbkZ1bmMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICB2YWxzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaW5kZXggPCB2YWxzTGVuZ3RoID8gdmFsdWVzW2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgYXNzaWduRnVuYyhyZXN1bHQsIHByb3BzW2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGFuIGVtcHR5IGFycmF5IGlmIGl0J3Mgbm90IGFuIGFycmF5IGxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgdGhlIGNhc3QgYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBgaWRlbnRpdHlgIGlmIGl0J3Mgbm90IGEgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGNhc3QgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IGlkZW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBgYmFzZVJlc3RgIGFsaWFzIHdoaWNoIGNhbiBiZSByZXBsYWNlZCB3aXRoIGBpZGVudGl0eWAgYnkgbW9kdWxlXG4gICAgICogcmVwbGFjZW1lbnQgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgdmFyIGNhc3RSZXN0ID0gYmFzZVJlc3Q7XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgYXJyYXlgIHRvIGEgc2xpY2UgaWYgaXQncyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBzbGljZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0U2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIHJldHVybiAoIXN0YXJ0ICYmIGVuZCA+PSBsZW5ndGgpID8gYXJyYXkgOiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BjbGVhclRpbWVvdXRgXShodHRwczovL21kbi5pby9jbGVhclRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcnxPYmplY3R9IGlkIFRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdCBvZiB0aGUgdGltZXIgdG8gY2xlYXIuXG4gICAgICovXG4gICAgdmFyIGNsZWFyVGltZW91dCA9IGN0eENsZWFyVGltZW91dCB8fCBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHJvb3QuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBhbGxvY1Vuc2FmZSA/IGFsbG9jVW5zYWZlKGxlbmd0aCkgOiBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBkYXRhVmlld2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVmlldyBUaGUgZGF0YSB2aWV3IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGRhdGEgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURhdGFWaWV3KGRhdGFWaWV3LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKGRhdGFWaWV3LmJ1ZmZlcikgOiBkYXRhVmlldy5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IGRhdGFWaWV3LmNvbnN0cnVjdG9yKGJ1ZmZlciwgZGF0YVZpZXcuYnl0ZU9mZnNldCwgZGF0YVZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGByZWdleHBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVnZXhwIFRoZSByZWdleHAgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHJlZ2V4cC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVJlZ0V4cChyZWdleHApIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgcmVnZXhwLmNvbnN0cnVjdG9yKHJlZ2V4cC5zb3VyY2UsIHJlRmxhZ3MuZXhlYyhyZWdleHApKTtcbiAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSByZWdleHAubGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGBzeW1ib2xgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN5bWJvbCBUaGUgc3ltYm9sIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgc3ltYm9sIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVN5bWJvbChzeW1ib2wpIHtcbiAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mID8gT2JqZWN0KHN5bWJvbFZhbHVlT2YuY2FsbChzeW1ib2wpKSA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHZhbHVlcyB0byBzb3J0IHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGB2YWx1ZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICAgICAgdmFyIHZhbElzRGVmaW5lZCA9IHZhbHVlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlLFxuICAgICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIG90aElzRGVmaW5lZCA9IG90aGVyICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gb3RoZXIgPT09IG90aGVyLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChvdGhlcik7XG5cbiAgICAgICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcbiAgICAgICAgICAgICh2YWxJc1N5bWJvbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUgJiYgIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAodmFsSXNOdWxsICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIXZhbElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCAmJiAhb3RoSXNTeW1ib2wgJiYgdmFsdWUgPCBvdGhlcikgfHxcbiAgICAgICAgICAgIChvdGhJc1N5bWJvbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUgJiYgIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghb3RoSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIW90aElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9yZGVyQnlgIHRvIGNvbXBhcmUgbXVsdGlwbGUgcHJvcGVydGllcyBvZiBhIHZhbHVlIHRvIGFub3RoZXJcbiAgICAgKiBhbmQgc3RhYmxlIHNvcnQgdGhlbS5cbiAgICAgKlxuICAgICAqIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsXG4gICAgICogc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3IgZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlclxuICAgICAqIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfHN0cmluZ1tdfSBvcmRlcnMgVGhlIG9yZGVyIHRvIHNvcnQgYnkgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIG9iakNyaXRlcmlhID0gb2JqZWN0LmNyaXRlcmlhLFxuICAgICAgICAgIG90aENyaXRlcmlhID0gb3RoZXIuY3JpdGVyaWEsXG4gICAgICAgICAgbGVuZ3RoID0gb2JqQ3JpdGVyaWEubGVuZ3RoLFxuICAgICAgICAgIG9yZGVyc0xlbmd0aCA9IG9yZGVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlQXNjZW5kaW5nKG9iakNyaXRlcmlhW2luZGV4XSwgb3RoQ3JpdGVyaWFbaW5kZXhdKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChpbmRleCA+PSBvcmRlcnNMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBvcmRlciA9IG9yZGVyc1tpbmRleF07XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIChvcmRlciA9PSAnZGVzYycgPyAtMSA6IDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBGaXhlcyBhbiBgQXJyYXkjc29ydGAgYnVnIGluIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgYXBwbGljYXRpb25zXG4gICAgICAvLyB0aGF0IGNhdXNlcyBpdCwgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzLCB0byBwcm92aWRlIHRoZSBzYW1lIHZhbHVlIGZvclxuICAgICAgLy8gYG9iamVjdGAgYW5kIGBvdGhlcmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9OTAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QuaW5kZXggLSBvdGhlci5pbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cyxcbiAgICAgKiBwbGFjZWhvbGRlcnMsIGFuZCBwcm92aWRlZCBhcmd1bWVudHMgaW50byBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlZnRMZW5ndGggKyByYW5nZUxlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbaG9sZGVyc1thcmdzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKHJhbmdlTGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleCsrXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGNvbXBvc2VBcmdzYCBleGNlcHQgdGhhdCB0aGUgYXJndW1lbnRzIGNvbXBvc2l0aW9uXG4gICAgICogaXMgdGFpbG9yZWQgZm9yIGBfLnBhcnRpYWxSaWdodGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNJbmRleCA9IC0xLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICByaWdodEluZGV4ID0gLTEsXG4gICAgICAgICAgcmlnaHRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHJhbmdlTGVuZ3RoICsgcmlnaHRMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgcmFuZ2VMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2FyZ3NJbmRleF0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICB9XG4gICAgICB2YXIgb2Zmc2V0ID0gYXJnc0luZGV4O1xuICAgICAgd2hpbGUgKCsrcmlnaHRJbmRleCA8IHJpZ2h0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyByaWdodEluZGV4XSA9IHBhcnRpYWxzW3JpZ2h0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraG9sZGVyc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtvZmZzZXQgKyBob2xkZXJzW2hvbGRlcnNJbmRleF1dID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gICAgICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICAgICAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmV3KSB7XG4gICAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9scyhzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBhbmQgaW5oZXJpdGVkIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9sc0luKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmdyb3VwQnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2luaXRpYWxpemVyXSBUaGUgYWNjdW11bGF0b3Igb2JqZWN0IGluaXRpYWxpemVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQWdncmVnYXRvcihzZXR0ZXIsIGluaXRpYWxpemVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlBZ2dyZWdhdG9yIDogYmFzZUFnZ3JlZ2F0b3IsXG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGluaXRpYWxpemVyID8gaW5pdGlhbGl6ZXIoKSA6IHt9O1xuXG4gICAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIHNldHRlciwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBhY2N1bXVsYXRvcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgYmFzZUVhY2hgIG9yIGBiYXNlRWFjaFJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBhIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRWFjaChlYWNoRnVuYywgZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcblxuICAgICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmxvd2VyRmlyc3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYFN0cmluZ2AgY2FzZSBtZXRob2QgdG8gdXNlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FzZUZpcnN0KG1ldGhvZE5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgICAgID8gc3RyaW5nVG9BcnJheShzdHJpbmcpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGNociA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IHN0clN5bWJvbHNbMF1cbiAgICAgICAgICA6IHN0cmluZy5jaGFyQXQoMCk7XG5cbiAgICAgICAgdmFyIHRyYWlsaW5nID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDEpLmpvaW4oJycpXG4gICAgICAgICAgOiBzdHJpbmcuc2xpY2UoMSk7XG5cbiAgICAgICAgcmV0dXJuIGNoclttZXRob2ROYW1lXSgpICsgdHJhaWxpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmNhbWVsQ2FzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lIGVhY2ggd29yZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvdW5kZXIoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKHdvcmRzKGRlYnVycihzdHJpbmcpLnJlcGxhY2UocmVBcG9zLCAnJykpLCBjYWxsYmFjaywgJycpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhbiBpbnN0YW5jZSBvZiBgQ3RvcmAgcmVnYXJkbGVzcyBvZlxuICAgICAqIHdoZXRoZXIgaXQgd2FzIGludm9rZWQgYXMgcGFydCBvZiBhIGBuZXdgIGV4cHJlc3Npb24gb3IgYnkgYGNhbGxgIG9yIGBhcHBseWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEN0b3IgVGhlIGNvbnN0cnVjdG9yIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdG9yKEN0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVXNlIGEgYHN3aXRjaGAgc3RhdGVtZW50IHRvIHdvcmsgd2l0aCBjbGFzcyBjb25zdHJ1Y3RvcnMuIFNlZVxuICAgICAgICAvLyBodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWZ1bmN0aW9uLW9iamVjdHMtY2FsbC10aGlzYXJndW1lbnQtYXJndW1lbnRzbGlzdFxuICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDdG9yO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0pO1xuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0pO1xuICAgICAgICAgIGNhc2UgNzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoQ3Rvci5wcm90b3R5cGUpLFxuICAgICAgICAgICAgcmVzdWx0ID0gQ3Rvci5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG5cbiAgICAgICAgLy8gTWltaWMgdGhlIGNvbnN0cnVjdG9yJ3MgYHJldHVybmAgYmVoYXZpb3IuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2VzNS5naXRodWIuaW8vI3gxMy4yLjIgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiB0aGlzQmluZGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGVuYWJsZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhcml0eSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpIHtcbiAgICAgIHZhciBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlcik7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhvbGRlcnMgPSAobGVuZ3RoIDwgMyAmJiBhcmdzWzBdICE9PSBwbGFjZWhvbGRlciAmJiBhcmdzW2xlbmd0aCAtIDFdICE9PSBwbGFjZWhvbGRlcilcbiAgICAgICAgICA/IFtdXG4gICAgICAgICAgOiByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG5cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJncywgaG9sZGVycywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5IC0gbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZpbmRgIG9yIGBfLmZpbmRMYXN0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmluZEluZGV4RnVuYyBUaGUgZnVuY3Rpb24gdG8gZmluZCB0aGUgY29sbGVjdGlvbiBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmaW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbmQoZmluZEluZGV4RnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICAgIHZhciBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHZhciBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICAgICAgY29sbGVjdGlvbiA9IGtleXMoY29sbGVjdGlvbik7XG4gICAgICAgICAgcHJlZGljYXRlID0gZnVuY3Rpb24oa2V5KSB7IHJldHVybiBpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKTsgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBmaW5kSW5kZXhGdW5jKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gLTEgPyBpdGVyYWJsZVtpdGVyYXRlZSA/IGNvbGxlY3Rpb25baW5kZXhdIDogaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmxvd2Agb3IgYF8uZmxvd1JpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxvdyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGbG93KGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmNzKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBmdW5jcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHByZXJlcSA9IExvZGFzaFdyYXBwZXIucHJvdG90eXBlLnRocnU7XG5cbiAgICAgICAgaWYgKGZyb21SaWdodCkge1xuICAgICAgICAgIGZ1bmNzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIHZhciBmdW5jID0gZnVuY3NbaW5kZXhdO1xuICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmVyZXEgJiYgIXdyYXBwZXIgJiYgZ2V0RnVuY05hbWUoZnVuYykgPT0gJ3dyYXBwZXInKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IG5ldyBMb2Rhc2hXcmFwcGVyKFtdLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB3cmFwcGVyID8gaW5kZXggOiBsZW5ndGg7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgZnVuYyA9IGZ1bmNzW2luZGV4XTtcblxuICAgICAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgICAgICBkYXRhID0gZnVuY05hbWUgPT0gJ3dyYXBwZXInID8gZ2V0RGF0YShmdW5jKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChkYXRhICYmIGlzTGF6aWFibGUoZGF0YVswXSkgJiZcbiAgICAgICAgICAgICAgICBkYXRhWzFdID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpICYmXG4gICAgICAgICAgICAgICAgIWRhdGFbNF0ubGVuZ3RoICYmIGRhdGFbOV0gPT0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSB3cmFwcGVyW2dldEZ1bmNOYW1lKGRhdGFbMF0pXS5hcHBseSh3cmFwcGVyLCBkYXRhWzNdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd3JhcHBlciA9IChmdW5jLmxlbmd0aCA9PSAxICYmIGlzTGF6aWFibGUoZnVuYykpXG4gICAgICAgICAgICAgID8gd3JhcHBlcltmdW5jTmFtZV0oKVxuICAgICAgICAgICAgICA6IHdyYXBwZXIudGhydShmdW5jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICBpZiAod3JhcHBlciAmJiBhcmdzLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5wbGFudCh2YWx1ZSkudmFsdWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gbGVuZ3RoID8gZnVuY3NbaW5kZXhdLmFwcGx5KHRoaXMsIGFyZ3MpIDogdmFsdWU7XG5cbiAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuY3NbaW5kZXhdLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYCwgcGFydGlhbCBhcHBsaWNhdGlvbiwgYW5kIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNSaWdodF0gVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWRcbiAgICAgKiAgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc1JpZ2h0XSBUaGUgYHBhcnRpYWxzUmlnaHRgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSHlicmlkKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQXJ5ID0gYml0bWFzayAmIFdSQVBfQVJZX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUcsXG4gICAgICAgICAgaXNDdXJyaWVkID0gYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpLFxuICAgICAgICAgIGlzRmxpcCA9IGJpdG1hc2sgJiBXUkFQX0ZMSVBfRkxBRyxcbiAgICAgICAgICBDdG9yID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0N1cnJpZWQpIHtcbiAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlciksXG4gICAgICAgICAgICAgIGhvbGRlcnNDb3VudCA9IGNvdW50SG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzKSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFsc1JpZ2h0KSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzQ291bnQ7XG4gICAgICAgIGlmIChpc0N1cnJpZWQgJiYgbGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICB2YXIgbmV3SG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdGhpc0FyZyxcbiAgICAgICAgICAgIGFyZ3MsIG5ld0hvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSAtIGxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsXG4gICAgICAgICAgICBmbiA9IGlzQmluZEtleSA/IHRoaXNCaW5kaW5nW2Z1bmNdIDogZnVuYztcblxuICAgICAgICBsZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICAgICAgaWYgKGFyZ1Bvcykge1xuICAgICAgICAgIGFyZ3MgPSByZW9yZGVyKGFyZ3MsIGFyZ1Bvcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGbGlwICYmIGxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBhcmdzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnkgJiYgYXJ5IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJncy5sZW5ndGggPSBhcnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikge1xuICAgICAgICAgIGZuID0gQ3RvciB8fCBjcmVhdGVDdG9yKGZuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uaW52ZXJ0QnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdG9JdGVyYXRlZSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52ZXJ0ZXIoc2V0dGVyLCB0b0l0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCB0b0l0ZXJhdGVlKGl0ZXJhdGVlKSwge30pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHVzZWQgZm9yIGB1bmRlZmluZWRgIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU1hdGhPcGVyYXRpb24ob3BlcmF0b3IsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvdGhlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb1N0cmluZyhvdGhlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5vdmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXJyYXlGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG92ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlT3ZlcihhcnJheUZ1bmMpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihpdGVyYXRlZXMpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuICAgICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgIHZhciB0aGlzQXJnID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gYXJyYXlGdW5jKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AgYmFzZWQgb24gYGxlbmd0aGAuIFRoZSBgY2hhcnNgIHN0cmluZ1xuICAgICAqIGlzIHRydW5jYXRlZCBpZiB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgZXhjZWVkcyBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhZGRpbmcobGVuZ3RoLCBjaGFycykge1xuICAgICAgY2hhcnMgPSBjaGFycyA9PT0gdW5kZWZpbmVkID8gJyAnIDogYmFzZVRvU3RyaW5nKGNoYXJzKTtcblxuICAgICAgdmFyIGNoYXJzTGVuZ3RoID0gY2hhcnMubGVuZ3RoO1xuICAgICAgaWYgKGNoYXJzTGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gY2hhcnNMZW5ndGggPyBiYXNlUmVwZWF0KGNoYXJzLCBsZW5ndGgpIDogY2hhcnM7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZVJlcGVhdChjaGFycywgbmF0aXZlQ2VpbChsZW5ndGggLyBzdHJpbmdTaXplKGNoYXJzKSkpO1xuICAgICAgcmV0dXJuIGhhc1VuaWNvZGUoY2hhcnMpXG4gICAgICAgID8gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkocmVzdWx0KSwgMCwgbGVuZ3RoKS5qb2luKCcnKVxuICAgICAgICA6IHJlc3VsdC5zbGljZSgwLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmdcbiAgICAgKiBvZiBgdGhpc0FyZ2AgYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlZnRMZW5ndGggKyBhcmdzTGVuZ3RoKSxcbiAgICAgICAgICAgIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcblxuICAgICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYXJnc0xlbmd0aC0tKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXgrK10gPSBhcmd1bWVudHNbKythcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnJhbmdlYCBvciBgXy5yYW5nZVJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmFuZ2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmFuZ2UoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgICBpZiAoc3RlcCAmJiB0eXBlb2Ygc3RlcCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdGFydCwgZW5kLCBzdGVwKSkge1xuICAgICAgICAgIGVuZCA9IHN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIHRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IChzdGFydCA8IGVuZCA/IDEgOiAtMSkgOiB0b0Zpbml0ZShzdGVwKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHJlbGF0aW9uYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVsYXRpb25hbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihvcGVyYXRvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICBpZiAoISh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgJiYgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgIG90aGVyID0gdG9OdW1iZXIob3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gY29udGludWUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwRnVuYyBUaGUgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBgZnVuY2Agd3JhcHBlci5cbiAgICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVjdXJyeShmdW5jLCBiaXRtYXNrLCB3cmFwRnVuYywgcGxhY2Vob2xkZXIsIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0N1cnJ5ID0gYml0bWFzayAmIFdSQVBfQ1VSUllfRkxBRyxcbiAgICAgICAgICBuZXdIb2xkZXJzID0gaXNDdXJyeSA/IGhvbGRlcnMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3SG9sZGVyc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IGhvbGRlcnMsXG4gICAgICAgICAgbmV3UGFydGlhbHMgPSBpc0N1cnJ5ID8gcGFydGlhbHMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3UGFydGlhbHNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBwYXJ0aWFscztcblxuICAgICAgYml0bWFzayB8PSAoaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9GTEFHIDogV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgYml0bWFzayAmPSB+KGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA6IFdSQVBfUEFSVElBTF9GTEFHKTtcblxuICAgICAgaWYgKCEoYml0bWFzayAmIFdSQVBfQ1VSUllfQk9VTkRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBuZXdQYXJ0aWFscywgbmV3SG9sZGVycywgbmV3UGFydGlhbHNSaWdodCxcbiAgICAgICAgbmV3SG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIHZhciByZXN1bHQgPSB3cmFwRnVuYy5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgaWYgKGlzTGF6aWFibGUoZnVuYykpIHtcbiAgICAgICAgc2V0RGF0YShyZXN1bHQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHJlc3VsdCwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ucm91bmRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYE1hdGhgIG1ldGhvZCB0byB1c2Ugd2hlbiByb3VuZGluZy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByb3VuZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSb3VuZChtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IE1hdGhbbWV0aG9kTmFtZV07XG4gICAgICByZXR1cm4gZnVuY3Rpb24obnVtYmVyLCBwcmVjaXNpb24pIHtcbiAgICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uID09IG51bGwgPyAwIDogbmF0aXZlTWluKHRvSW50ZWdlcihwcmVjaXNpb24pLCAyOTIpO1xuICAgICAgICBpZiAocHJlY2lzaW9uICYmIG5hdGl2ZUlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBhcnJTdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChhcnJTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIGFyclN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBhcnJheTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBvYmpTdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAob2JqU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBvYmpTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gb2JqZWN0O1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgICAgIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICAgICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggZmxhdHRlbnMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdFJlc3QoZnVuYykge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHVuZGVmaW5lZCwgZmxhdHRlbiksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzSW4sIGdldFN5bWJvbHNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0RGF0YSA9ICFtZXRhTWFwID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIHJldHVybiBtZXRhTWFwLmdldChmdW5jKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RnVuY05hbWUoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IChmdW5jLm5hbWUgKyAnJyksXG4gICAgICAgICAgYXJyYXkgPSByZWFsTmFtZXNbcmVzdWx0XSxcbiAgICAgICAgICBsZW5ndGggPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywgcmVzdWx0KSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IGFycmF5W2xlbmd0aF0sXG4gICAgICAgICAgICBvdGhlckZ1bmMgPSBkYXRhLmZ1bmM7XG4gICAgICAgIGlmIChvdGhlckZ1bmMgPT0gbnVsbCB8fCBvdGhlckZ1bmMgPT0gZnVuYykge1xuICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXJndW1lbnQgcGxhY2Vob2xkZXIgdmFsdWUgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SG9sZGVyKGZ1bmMpIHtcbiAgICAgIHZhciBvYmplY3QgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaCwgJ3BsYWNlaG9sZGVyJykgPyBsb2Rhc2ggOiBmdW5jO1xuICAgICAgcmV0dXJuIG9iamVjdC5wbGFjZWhvbGRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcIml0ZXJhdGVlXCIgZnVuY3Rpb24uIElmIGBfLml0ZXJhdGVlYCBpcyBjdXN0b21pemVkLFxuICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGJhc2VJdGVyYXRlZWAuXG4gICAgICogSWYgYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgdGhlIGNob3NlbiBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlbSBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIHRoZSBjcmVhdGVkIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2hvc2VuIGZ1bmN0aW9uIG9yIGl0cyByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0ZWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoLml0ZXJhdGVlIHx8IGl0ZXJhdGVlO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSBpdGVyYXRlZSA/IGJhc2VJdGVyYXRlZSA6IHJlc3VsdDtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gcmVzdWx0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgICAgIDogZGF0YS5tYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG1hdGNoIGRhdGEgb2YgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHJlc3VsdFtsZW5ndGhdLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gICAgICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICBpZiAodW5tYXNrZWQpIHtcbiAgICAgICAgaWYgKGlzT3duKSB7XG4gICAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHdoaWxlIChvYmplY3QpIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcbiAgICAgICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG4gICAgaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgICAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAgICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgICAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmlldywgYXBwbHlpbmcgYW55IGB0cmFuc2Zvcm1zYCB0byB0aGUgYHN0YXJ0YCBhbmQgYGVuZGAgcG9zaXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1zIFRoZSB0cmFuc2Zvcm1hdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYHN0YXJ0YCBhbmQgYGVuZGBcbiAgICAgKiAgcG9zaXRpb25zIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZpZXcoc3RhcnQsIGVuZCwgdHJhbnNmb3Jtcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdHJhbnNmb3Jtc1tpbmRleF0sXG4gICAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZHJvcCc6ICAgICAgc3RhcnQgKz0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZHJvcFJpZ2h0JzogZW5kIC09IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2UnOiAgICAgIGVuZCA9IG5hdGl2ZU1pbihlbmQsIHN0YXJ0ICsgc2l6ZSk7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2VSaWdodCc6IHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0LCBlbmQgLSBzaXplKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7ICdzdGFydCc6IHN0YXJ0LCAnZW5kJzogZW5kIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgd3JhcHBlciBkZXRhaWxzIGZyb20gdGhlIGBzb3VyY2VgIGJvZHkgY29tbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3cmFwcGVyIGRldGFpbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V3JhcERldGFpbHMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBzb3VyY2UubWF0Y2gocmVXcmFwRGV0YWlscyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdChyZVNwbGl0RGV0YWlscykgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgaGFzRnVuYykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pO1xuICAgICAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgfHwgKytpbmRleCAhPSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IG9iamVjdC5sZW5ndGg7XG4gICAgICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgICAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBuZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC5cbiAgICAgIGlmIChsZW5ndGggJiYgdHlwZW9mIGFycmF5WzBdID09ICdzdHJpbmcnICYmIGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksICdpbmRleCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgICAgICByZXN1bHQuaW5wdXQgPSBhcnJheS5pbnB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUgYmFzZWQgb24gaXRzIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTWFwYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBgU2V0YCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgaXNEZWVwKSB7XG4gICAgICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBmbG9hdDMyVGFnOiBjYXNlIGZsb2F0NjRUYWc6XG4gICAgICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcbiAgICAgICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHdyYXBwZXIgYGRldGFpbHNgIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBgc291cmNlYCBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBpbnNlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc291cmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgZGV0YWlscykge1xuICAgICAgdmFyIGxlbmd0aCA9IGRldGFpbHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgZGV0YWlsc1tsYXN0SW5kZXhdID0gKGxlbmd0aCA+IDEgPyAnJiAnIDogJycpICsgZGV0YWlsc1tsYXN0SW5kZXhdO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuam9pbihsZW5ndGggPiAyID8gJywgJyA6ICcgJyk7XG4gICAgICByZXR1cm4gc291cmNlLnJlcGxhY2UocmVXcmFwQ29tbWVudCwgJ3tcXG4vKiBbd3JhcHBlZCB3aXRoICcgKyBkZXRhaWxzICsgJ10gKi9cXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gICAgICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAgICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgICAgICkge1xuICAgICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xhemlhYmxlKGZ1bmMpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgIG90aGVyID0gbG9kYXNoW2Z1bmNOYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBvdGhlciAhPSAnZnVuY3Rpb24nIHx8ICEoZnVuY05hbWUgaW4gTGF6eVdyYXBwZXIucHJvdG90eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZnVuYyA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGdldERhdGEob3RoZXIpO1xuICAgICAgcmV0dXJuICEhZGF0YSAmJiBmdW5jID09PSBkYXRhWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICAgIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBpcyBjYXBhYmxlIG9mIGJlaW5nIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIHZhciBpc01hc2thYmxlID0gY29yZUpzRGF0YSA/IGlzRnVuY3Rpb24gOiBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAgICAgKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAgICAgKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAgICAgKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIGZ1bmN0aW9uIG1ldGFkYXRhIG9mIGBzb3VyY2VgIGludG8gYGRhdGFgLlxuICAgICAqXG4gICAgICogTWVyZ2luZyBtZXRhZGF0YSByZWR1Y2VzIHRoZSBudW1iZXIgb2Ygd3JhcHBlcnMgdXNlZCB0byBpbnZva2UgYSBmdW5jdGlvbi5cbiAgICAgKiBUaGlzIGlzIHBvc3NpYmxlIGJlY2F1c2UgbWV0aG9kcyBsaWtlIGBfLmJpbmRgLCBgXy5jdXJyeWAsIGFuZCBgXy5wYXJ0aWFsYFxuICAgICAqIG1heSBiZSBhcHBsaWVkIHJlZ2FyZGxlc3Mgb2YgZXhlY3V0aW9uIG9yZGVyLiBNZXRob2RzIGxpa2UgYF8uYXJ5YCBhbmRcbiAgICAgKiBgXy5yZWFyZ2AgbW9kaWZ5IGZ1bmN0aW9uIGFyZ3VtZW50cywgbWFraW5nIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFyZVxuICAgICAqIGV4ZWN1dGVkIGltcG9ydGFudCwgcHJldmVudGluZyB0aGUgbWVyZ2luZyBvZiBtZXRhZGF0YS4gSG93ZXZlciwgd2UgbWFrZVxuICAgICAqIGFuIGV4Y2VwdGlvbiBmb3IgYSBzYWZlIGNvbWJpbmVkIGNhc2Ugd2hlcmUgY3VycmllZCBmdW5jdGlvbnMgaGF2ZSBgXy5hcnlgXG4gICAgICogYW5kIG9yIGBfLnJlYXJnYCBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIFRoZSBkZXN0aW5hdGlvbiBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIHNvdXJjZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRhdGFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRGF0YShkYXRhLCBzb3VyY2UpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gZGF0YVsxXSxcbiAgICAgICAgICBzcmNCaXRtYXNrID0gc291cmNlWzFdLFxuICAgICAgICAgIG5ld0JpdG1hc2sgPSBiaXRtYXNrIHwgc3JjQml0bWFzayxcbiAgICAgICAgICBpc0NvbW1vbiA9IG5ld0JpdG1hc2sgPCAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcgfCBXUkFQX0FSWV9GTEFHKTtcblxuICAgICAgdmFyIGlzQ29tYm8gPVxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfUkVBUkdfRkxBRykgJiYgKGRhdGFbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykpICYmIChzb3VyY2VbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSk7XG5cbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgbWV0YWRhdGEgY2FuJ3QgYmUgbWVyZ2VkLlxuICAgICAgaWYgKCEoaXNDb21tb24gfHwgaXNDb21ibykpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGB0aGlzQXJnYCBpZiBhdmFpbGFibGUuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIGRhdGFbMl0gPSBzb3VyY2VbMl07XG4gICAgICAgIC8vIFNldCB3aGVuIGN1cnJ5aW5nIGEgYm91bmQgZnVuY3Rpb24uXG4gICAgICAgIG5ld0JpdG1hc2sgfD0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHID8gMCA6IFdSQVBfQ1VSUllfQk9VTkRfRkxBRztcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCBhcmd1bWVudHMuXG4gICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbM107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzID0gZGF0YVszXTtcbiAgICAgICAgZGF0YVszXSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3MocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNF0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNF0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbM10sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs0XTtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCByaWdodCBhcmd1bWVudHMuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs1XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBwYXJ0aWFscyA9IGRhdGFbNV07XG4gICAgICAgIGRhdGFbNV0gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzUmlnaHQocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNl0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNl0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbNV0sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs2XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyZ1Bvc2AgaWYgYXZhaWxhYmxlLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbN107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZGF0YVs3XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJ5YCBpZiBpdCdzIHNtYWxsZXIuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQVJZX0ZMQUcpIHtcbiAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gPT0gbnVsbCA/IHNvdXJjZVs4XSA6IG5hdGl2ZU1pbihkYXRhWzhdLCBzb3VyY2VbOF0pO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJpdHlgIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICBpZiAoZGF0YVs5XSA9PSBudWxsKSB7XG4gICAgICAgIGRhdGFbOV0gPSBzb3VyY2VbOV07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBmdW5jYCBhbmQgbWVyZ2UgYml0bWFza3MuXG4gICAgICBkYXRhWzBdID0gc291cmNlWzBdO1xuICAgICAgZGF0YVsxXSA9IG5ld0JpdG1hc2s7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICAgICAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gICAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byBnZXQgdGhlIHBhcmVudCB2YWx1ZSBvZi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGFyZW50IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcmVudChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmxlbmd0aCA8IDIgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgZmlyc3QgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIGZpcnN0IGVsZW1lbnQsIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIHNlY29uZCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlb3JkZXIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihpbmRleGVzLmxlbmd0aCwgYXJyTGVuZ3RoKSxcbiAgICAgICAgICBvbGRBcnJheSA9IGNvcHlBcnJheShhcnJheSk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGFycmF5W2xlbmd0aF0gPSBpc0luZGV4KGluZGV4LCBhcnJMZW5ndGgpID8gb2xkQXJyYXlbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiB0aGlzIGZ1bmN0aW9uIGJlY29tZXMgaG90LCBpLmUuIGlzIGludm9rZWQgYSBsb3QgaW4gYSBzaG9ydFxuICAgICAqIHBlcmlvZCBvZiB0aW1lLCBpdCB3aWxsIHRyaXAgaXRzIGJyZWFrZXIgYW5kIHRyYW5zaXRpb24gdG8gYW4gaWRlbnRpdHlcbiAgICAgKiBmdW5jdGlvbiB0byBhdm9pZCBnYXJiYWdlIGNvbGxlY3Rpb24gcGF1c2VzIGluIFY4LiBTZWVcbiAgICAgKiBbVjggaXNzdWUgMjA3MF0oaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjA3MClcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldERhdGEgPSBzaG9ydE91dChiYXNlU2V0RGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgc2V0VGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL3NldFRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VGltZW91dCA9IGN0eFNldFRpbWVvdXQgfHwgZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgcmV0dXJuIHJvb3Quc2V0VGltZW91dChmdW5jLCB3YWl0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYHdyYXBwZXJgIHRvIG1pbWljIHRoZSBzb3VyY2Ugb2YgYHJlZmVyZW5jZWBcbiAgICAgKiB3aXRoIHdyYXBwZXIgZGV0YWlscyBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgc291cmNlIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZlcmVuY2UgVGhlIHJlZmVyZW5jZSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgd3JhcHBlcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V3JhcFRvU3RyaW5nKHdyYXBwZXIsIHJlZmVyZW5jZSwgYml0bWFzaykge1xuICAgICAgdmFyIHNvdXJjZSA9IChyZWZlcmVuY2UgKyAnJyk7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcod3JhcHBlciwgaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCB1cGRhdGVXcmFwRGV0YWlscyhnZXRXcmFwRGV0YWlscyhzb3VyY2UpLCBiaXRtYXNrKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICAgICAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgICAgIHZhciBjb3VudCA9IDAsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCB3aGljaCBtdXRhdGVzIGFuZCBzZXRzIHRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT1hcnJheS5sZW5ndGhdIFRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZVNlbGYoYXJyYXksIHNpemUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICBzaXplID0gc2l6ZSA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogc2l6ZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgc2l6ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oaW5kZXgsIGxhc3RJbmRleCksXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W3JhbmRdO1xuXG4gICAgICAgIGFycmF5W3JhbmRdID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGFycmF5Lmxlbmd0aCA9IHNpemU7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgdmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJycpO1xuICAgICAgfVxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgICAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd3JhcHBlciBgZGV0YWlsc2AgYmFzZWQgb24gYGJpdG1hc2tgIGZsYWdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkZXRhaWxzYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyhkZXRhaWxzLCBiaXRtYXNrKSB7XG4gICAgICBhcnJheUVhY2god3JhcEZsYWdzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICdfLicgKyBwYWlyWzBdO1xuICAgICAgICBpZiAoKGJpdG1hc2sgJiBwYWlyWzFdKSAmJiAhYXJyYXlJbmNsdWRlcyhkZXRhaWxzLCB2YWx1ZSkpIHtcbiAgICAgICAgICBkZXRhaWxzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnNvcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHdyYXBwZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd3JhcHBlciBUaGUgd3JhcHBlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgd3JhcHBlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2xvbmUod3JhcHBlcikge1xuICAgICAgaWYgKHdyYXBwZXIgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZXIuX193cmFwcGVkX18sIHdyYXBwZXIuX19jaGFpbl9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh3cmFwcGVyLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2luZGV4X18gID0gd3JhcHBlci5fX2luZGV4X187XG4gICAgICByZXN1bHQuX192YWx1ZXNfXyA9IHdyYXBwZXIuX192YWx1ZXNfXztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAgICAgKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICAgICAqIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY2h1bmtzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAyKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDMpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc2l6ZSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG4gICAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBjb25jYXRlbmF0aW5nIGBhcnJheWAgd2l0aCBhbnkgYWRkaXRpb25hbCBhcnJheXNcbiAgICAgKiBhbmQvb3IgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb25jYXRlbmF0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNvbmNhdChhcnJheSwgMiwgWzNdLCBbWzRdXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvdGhlcik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoIC0gMSksXG4gICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIGFyZ3NbaW5kZXggLSAxXSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlQdXNoKGlzQXJyYXkoYXJyYXkpID8gY29weUFycmF5KGFycmF5KSA6IFthcnJheV0sIGJhc2VGbGF0dGVuKGFyZ3MsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGBhcnJheWAgdmFsdWVzIG5vdCBpbmNsdWRlZCBpbiB0aGUgb3RoZXIgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLndpdGhvdXQsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2UgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsQnlgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sIFt7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZUJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIG9yZGVyIGFuZFxuICAgICAqIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxXaXRoYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZVdpdGgob2JqZWN0cywgW3sgJ3gnOiAxLCAneSc6IDIgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZVdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChjb21wYXJhdG9yKSkge1xuICAgICAgICBjb21wYXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbHMgZWxlbWVudHMgb2YgYGFycmF5YCB3aXRoIGB2YWx1ZWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90XG4gICAgICogaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8uZmlsbChhcnJheSwgJ2EnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2EnLCAnYSddXG4gICAgICpcbiAgICAgKiBfLmZpbGwoQXJyYXkoMyksIDIpO1xuICAgICAqIC8vID0+IFsyLCAyLCAyXVxuICAgICAqXG4gICAgICogXy5maWxsKFs0LCA2LCA4LCAxMF0sICcqJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzQsICcqJywgJyonLCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICYmIHR5cGVvZiBzdGFydCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgdmFsdWUsIHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAncGViYmxlcyc7IH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggPCAwXG4gICAgICAgICAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApXG4gICAgICAgICAgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBgYXJyYXlgIGEgc2luZ2xlIGxldmVsIGRlZXAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIDEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVlcChbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0LCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZWVwKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIElORklOSVRZKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYGFycmF5YCB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgWzIsIFszLCBbNF1dLCA1XV07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlcHRoKGFycmF5LCBkZXB0aCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICAgKiBmcm9tIGtleS12YWx1ZSBgcGFpcnNgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZyb21QYWlycyhbWydhJywgMV0sIFsnYicsIDJdXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBmaXJzdFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmhlYWQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmhlYWQoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhlYWQoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgaW4gYGFycmF5YFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMCwgLTEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIGFsbCBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsyXVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBpZiAoaXRlcmF0ZWUgPT09IGxhc3QobWFwcGVkKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXNcbiAgICAgKiBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYWxsIGVsZW1lbnRzIGluIGBhcnJheWAgaW50byBhIHN0cmluZyBzZXBhcmF0ZWQgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlcGFyYXRvcj0nLCddIFRoZSBlbGVtZW50IHNlcGFyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBqb2luZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmpvaW4oWydhJywgJ2InLCAnYyddLCAnficpO1xuICAgICAqIC8vID0+ICdhfmJ+YydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gJycgOiBuYXRpdmVKb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBhcnJheWAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKSA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICAgID8gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleClcbiAgICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbGVtZW50IGF0IGluZGV4IGBuYCBvZiBgYXJyYXlgLiBJZiBgbmAgaXMgbmVnYXRpdmUsIHRoZSBudGhcbiAgICAgKiBlbGVtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjExLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIC0yKTtcbiAgICAgKiAvLyA9PiAnYyc7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlTnRoKGFycmF5LCB0b0ludGVnZXIobikpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ud2l0aG91dGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnJlbW92ZWBcbiAgICAgKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgdmFyIHB1bGwgPSBiYXNlUmVzdChwdWxsQWxsKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbChhcnJheSwgWydhJywgJ2MnXSk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlQnlgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMyB9LCB7ICd4JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbEJ5KGFycmF5LCBbeyAneCc6IDEgfSwgeyAneCc6IDMgfV0sICd4Jyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxCeShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZVdpdGhgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDMsICd5JzogNCB9LCB7ICd4JzogNSwgJ3knOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsV2l0aChhcnJheSwgW3sgJ3gnOiAzLCAneSc6IDQgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiA1LCAneSc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsV2l0aChhcnJheSwgdmFsdWVzLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50cyBmcm9tIGBhcnJheWAgY29ycmVzcG9uZGluZyB0byBgaW5kZXhlc2AgYW5kIHJldHVybnMgYW5cbiAgICAgKiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5hdGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gW2luZGV4ZXNdIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKiB2YXIgcHVsbGVkID0gXy5wdWxsQXQoYXJyYXksIFsxLCAzXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cocHVsbGVkKTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnZCddXG4gICAgICovXG4gICAgdmFyIHB1bGxBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYmFzZUF0KGFycmF5LCBpbmRleGVzKTtcblxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgYXJyYXlNYXAoaW5kZXhlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGlzSW5kZXgoaW5kZXgsIGxlbmd0aCkgPyAraW5kZXggOiBpbmRleDtcbiAgICAgIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG4gICAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmZpbHRlcmAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnB1bGxgXG4gICAgICogdG8gcHVsbCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDRdO1xuICAgICAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgYGFycmF5YCBzbyB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGJlY29tZXMgdGhlIGxhc3QsIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50IGJlY29tZXMgdGhlIHNlY29uZCB0byBsYXN0LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgIGFuZCBpcyBiYXNlZCBvblxuICAgICAqIFtgQXJyYXkjcmV2ZXJzZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3JldmVyc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5yZXZlcnNlKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXZlcnNlKGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IGFycmF5IDogbmF0aXZlUmV2ZXJzZS5jYWxsKGFycmF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGluc3RlYWQgb2ZcbiAgICAgKiBbYEFycmF5I3NsaWNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvc2xpY2UpIHRvIGVuc3VyZSBkZW5zZSBhcnJheXMgYXJlXG4gICAgICogcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAmJiB0eXBlb2YgZW5kICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzdGFydCwgZW5kKSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgbG93ZXN0IGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMzAsIDUwXSwgNDApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGhpZ2hlc3RcbiAgICAgKiBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG9cbiAgICAgKiBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4KFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZExhc3RJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubGFzdEluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpIC0gMTtcbiAgICAgICAgaWYgKGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXEoWzEsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFCeWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXFCeShbMS4xLCAxLjIsIDIuMywgMi40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMSwgMi4zXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRhaWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWlsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAxLCBsZW5ndGgpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZShhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC4gRWxlbWVudHMgYXJlXG4gICAgICogdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGZhbHNlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLiBFbGVtZW50c1xuICAgICAqIGFyZSB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlciwgZnJvbSBhbGwgZ2l2ZW4gYXJyYXlzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uKFsyXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb20gdGhlIGZpcnN0XG4gICAgICogYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uQnkoWzIuMV0sIFsxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbVxuICAgICAqIHRoZSBmaXJzdCBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXksIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGluIHdoaWNoIG9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWFjaCBlbGVtZW50XG4gICAgICogaXMga2VwdC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1clxuICAgICAqIGluIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzIsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgICAqIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXFCeShbMi4xLCAxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pcUJ5KFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS5UaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlxV2l0aChvYmplY3RzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxV2l0aChhcnJheSwgY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIHVuZGVmaW5lZCwgY29tcGFyYXRvcikgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiBncm91cGVkXG4gICAgICogZWxlbWVudHMgYW5kIGNyZWF0ZXMgYW4gYXJyYXkgcmVncm91cGluZyB0aGUgZWxlbWVudHMgdG8gdGhlaXIgcHJlLXppcFxuICAgICAqIGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwKHppcHBlZCk7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcChhcnJheSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgIGFycmF5ID0gYXJyYXlGaWx0ZXIoYXJyYXksIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChncm91cCkpIHtcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoZ3JvdXAubGVuZ3RoLCBsZW5ndGgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAoYXJyYXksIGJhc2VQcm9wZXJ0eShpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgcmVncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIHJlZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSk7XG4gICAgICogLy8gPT4gW1sxLCAxMCwgMTAwXSwgWzIsIDIwLCAyMDBdXVxuICAgICAqXG4gICAgICogXy51bnppcFdpdGgoemlwcGVkLCBfLmFkZCk7XG4gICAgICogLy8gPT4gWzMsIDMwLCAzMDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXBXaXRoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdW56aXAoYXJyYXkpO1xuICAgICAgaWYgKGl0ZXJhdGVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheU1hcChyZXN1bHQsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdW5kZWZpbmVkLCBncm91cCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgZ2l2ZW4gdmFsdWVzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzIsIDEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKi9cbiAgICB2YXIgd2l0aG91dCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgaXMgdGhlXG4gICAgICogW3N5bW1ldHJpYyBkaWZmZXJlbmNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZSlcbiAgICAgKiBvZiB0aGUgZ2l2ZW4gYXJyYXlzLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlclxuICAgICAqIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ud2l0aG91dFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICovXG4gICAgdmFyIHhvciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkXG4gICAgICogYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvckJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjIsIDMuNF1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ueG9yQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHhvckJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy54b3JXaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHhvcldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIHNlY29uZCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKi9cbiAgICB2YXIgemlwID0gYmFzZVJlc3QodW56aXApO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mcm9tUGFpcnNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgdHdvIGFycmF5cyxcbiAgICAgKiBvbmUgb2YgcHJvcGVydHkgaWRlbnRpZmllcnMgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydhJywgJ2InXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3QocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYXNzaWduVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwT2JqZWN0YCBleGNlcHQgdGhhdCBpdCBzdXBwb3J0cyBwcm9wZXJ0eSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3REZWVwKFsnYS5iWzBdLmMnLCAnYS5iWzFdLmQnXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IFt7ICdjJzogMSB9LCB7ICdkJzogMiB9XSB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3REZWVwKHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGJhc2VTZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyBncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBXaXRoKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0sIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBhICsgYiArIGM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzExMSwgMjIyXVxuICAgICAqL1xuICAgIHZhciB6aXBXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBpdGVyYXRlZSA9IGxlbmd0aCA+IDEgPyBhcnJheXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGl0ZXJhdGVlID0gdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyAoYXJyYXlzLnBvcCgpLCBpdGVyYXRlZSkgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdW56aXBXaXRoKGFycmF5cywgaXRlcmF0ZWUpO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCB3cmFwcyBgdmFsdWVgIHdpdGggZXhwbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuIFRoZSByZXN1bHQgb2Ygc3VjaCBzZXF1ZW5jZXMgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfXG4gICAgICogICAuY2hhaW4odXNlcnMpXG4gICAgICogICAuc29ydEJ5KCdhZ2UnKVxuICAgICAqICAgLm1hcChmdW5jdGlvbihvKSB7XG4gICAgICogICAgIHJldHVybiBvLnVzZXIgKyAnIGlzICcgKyBvLmFnZTtcbiAgICAgKiAgIH0pXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoKHZhbHVlKTtcbiAgICAgIHJlc3VsdC5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIGBpbnRlcmNlcHRvcmAgYW5kIHJldHVybnMgYHZhbHVlYC4gVGhlIGludGVyY2VwdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG9cbiAgICAgKiBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UgaW4gb3JkZXIgdG8gbW9kaWZ5IGludGVybWVkaWF0ZSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICogICAgLy8gTXV0YXRlIGlucHV0IGFycmF5LlxuICAgICAqICAgIGFycmF5LnBvcCgpO1xuICAgICAqICB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnRhcGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJwYXNzIHRocnVcIiB2YWx1ZXMgcmVwbGFjaW5nIGludGVybWVkaWF0ZVxuICAgICAqIHJlc3VsdHMgaW4gYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKCcgIGFiYyAgJylcbiAgICAgKiAgLmNoYWluKClcbiAgICAgKiAgLnRyaW0oKVxuICAgICAqICAudGhydShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgIHJldHVybiBbdmFsdWVdO1xuICAgICAqICB9KVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhydSh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJldHVybiBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5hdGAuXG4gICAgICpcbiAgICAgKiBAbmFtZSBhdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfKG9iamVjdCkuYXQoWydhWzBdLmIuYycsICdhWzFdJ10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIHdyYXBwZXJBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKHBhdGhzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHN0YXJ0ID0gbGVuZ3RoID8gcGF0aHNbMF0gOiAwLFxuICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKG9iamVjdCkgeyByZXR1cm4gYmFzZUF0KG9iamVjdCwgcGF0aHMpOyB9O1xuXG4gICAgICBpZiAobGVuZ3RoID4gMSB8fCB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCB8fFxuICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikgfHwgIWlzSW5kZXgoc3RhcnQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShzdGFydCwgK3N0YXJ0ICsgKGxlbmd0aCA/IDEgOiAwKSk7XG4gICAgICB2YWx1ZS5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAnYXJncyc6IFtpbnRlcmNlcHRvcl0sXG4gICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSwgdGhpcy5fX2NoYWluX18pLnRocnUoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgaWYgKGxlbmd0aCAmJiAhYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXkucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycykuaGVhZCgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKVxuICAgICAqICAgLmNoYWluKClcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC5waWNrKCd1c2VyJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgICAgcmV0dXJuIGNoYWluKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgd3JhcHBlZCByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjb21taXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDJdO1xuICAgICAqIHZhciB3cmFwcGVkID0gXyhhcnJheSkucHVzaCgzKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQgPSB3cmFwcGVkLmNvbW1pdCgpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubGFzdCgpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ29tbWl0KCkge1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHRoaXMudmFsdWUoKSwgdGhpcy5fX2NoYWluX18pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5leHQgdmFsdWUgb24gYSB3cmFwcGVkIG9iamVjdCBmb2xsb3dpbmcgdGhlXG4gICAgICogW2l0ZXJhdG9yIHByb3RvY29sXShodHRwczovL21kbi5pby9pdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBuYW1lIG5leHRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXh0IGl0ZXJhdG9yIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMSB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDIgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IHRydWUsICd2YWx1ZSc6IHVuZGVmaW5lZCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlck5leHQoKSB7XG4gICAgICBpZiAodGhpcy5fX3ZhbHVlc19fID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdG9BcnJheSh0aGlzLnZhbHVlKCkpO1xuICAgICAgfVxuICAgICAgdmFyIGRvbmUgPSB0aGlzLl9faW5kZXhfXyA+PSB0aGlzLl9fdmFsdWVzX18ubGVuZ3RoLFxuICAgICAgICAgIHZhbHVlID0gZG9uZSA/IHVuZGVmaW5lZCA6IHRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXTtcblxuICAgICAgcmV0dXJuIHsgJ2RvbmUnOiBkb25lLCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIHdyYXBwZXIgdG8gYmUgaXRlcmFibGUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBTeW1ib2wuaXRlcmF0b3JcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkW1N5bWJvbC5pdGVyYXRvcl0oKSA9PT0gd3JhcHBlZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBBcnJheS5mcm9tKHdyYXBwZWQpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb0l0ZXJhdG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBjaGFpbiBzZXF1ZW5jZSBwbGFudGluZyBgdmFsdWVgIGFzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgcGxhbnRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwbGFudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKS5tYXAoc3F1YXJlKTtcbiAgICAgKiB2YXIgb3RoZXIgPSB3cmFwcGVkLnBsYW50KFszLCA0XSk7XG4gICAgICpcbiAgICAgKiBvdGhlci52YWx1ZSgpO1xuICAgICAqIC8vID0+IFs5LCAxNl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUGxhbnQodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgcGFyZW50ID0gdGhpcztcblxuICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIGJhc2VMb2Rhc2gpIHtcbiAgICAgICAgdmFyIGNsb25lID0gd3JhcHBlckNsb25lKHBhcmVudCk7XG4gICAgICAgIGNsb25lLl9faW5kZXhfXyA9IDA7XG4gICAgICAgIGNsb25lLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IGNsb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGNsb25lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91cyA9IGNsb25lO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX193cmFwcGVkX187XG4gICAgICB9XG4gICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLnJldmVyc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgdGhlIHdyYXBwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8oYXJyYXkpLnJldmVyc2UoKS52YWx1ZSgpXG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclJldmVyc2UoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgdmFyIHdyYXBwZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoKSB7XG4gICAgICAgICAgd3JhcHBlZCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZC5yZXZlcnNlKCk7XG4gICAgICAgIHdyYXBwZWQuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAgICdhcmdzJzogW3JldmVyc2VdLFxuICAgICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlZCwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudGhydShyZXZlcnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyB0b0pTT04sIHZhbHVlT2ZcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclZhbHVlKCkge1xuICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUodGhpcy5fX3dyYXBwZWRfXywgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiAyLCAnNSc6IDEgfVxuICAgICAqL1xuICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICArK3Jlc3VsdFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBbZW1wdHkgY29sbGVjdGlvbnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VtcHR5X3NldCkgYmVjYXVzZVxuICAgICAqIFtldmVyeXRoaW5nIGlzIHRydWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhY3VvdXNfdHJ1dGgpIG9mXG4gICAgICogZWxlbWVudHMgb2YgZW1wdHkgY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUV2ZXJ5IDogYmFzZUV2ZXJ5O1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5yZW1vdmVgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5yZWplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBDb21iaW5pbmcgc2V2ZXJhbCBwcmVkaWNhdGVzIHVzaW5nIGBfLm92ZXJFdmVyeWAgb3IgYF8ub3ZlclNvbWVgLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLm92ZXJTb21lKFt7ICdhZ2UnOiAzNiB9LCBbJ2FnZScsIDQwXV0pKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogMzAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDMwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDMwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAgICAgLy8gYW5kIGVzY2FwZSB0aGUgY29tbWVudCwgdGh1cyBpbmplY3RpbmcgY29kZSB0aGF0IGdldHMgZXZhbGVkLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKVxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICd2YXJpYWJsZScpICYmIG9wdGlvbnMudmFyaWFibGU7XG4gICAgICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoIChvYmopIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gICAgICAvLyBwb3RlbnRpYWwgY29tbWFuZCBpbmplY3Rpb24gYXR0YWNrcy5cbiAgICAgIGVsc2UgaWYgKHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzLnRlc3QodmFyaWFibGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzLlxuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICAgICAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICAgICAodmFyaWFibGVcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAgICAgKGlzRXNjYXBpbmdcbiAgICAgICAgICAgPyAnLCBfX2UgPSBfLmVzY2FwZSdcbiAgICAgICAgICAgOiAnJ1xuICAgICAgICApICtcbiAgICAgICAgKGlzRXZhbHVhdGluZ1xuICAgICAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICAgICAgOiAnO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIHNvdXJjZSArXG4gICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cbiAgICAgIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcbiAgICAgICAgICAuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2Qgb3JcbiAgICAgIC8vIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvciBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgaWYgKGlzRXJyb3IocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byBsb3dlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9Mb3dlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvTG93ZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xvd2VyKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICctLWZvby1iYXItLSdcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb2JhcidcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnX19mb29fYmFyX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Mb3dlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byB1cHBlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9VcHBlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvVXBwZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1VwcGVyKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICctLUZPTy1CQVItLSdcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPT0JBUidcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnX19GT09fQkFSX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9VcHBlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbSgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLm1hcChbJyAgZm9vICAnLCAnICBiYXIgICddLCBfLnRyaW0pO1xuICAgICAqIC8vID0+IFsnZm9vJywgJ2JhciddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBiYXNlVHJpbShzdHJpbmcpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCBfLm1hdGNoZXMoeyAnYSc6IDQgfSldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0aGVcbiAgICAgKiB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QgdG8gYHNyY1ZhbHVlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGVcbiAgICAgKiBvYmplY3QgdmFsdWUgaXMgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0XG4gICAgICogYHNyY1ZhbHVlYCB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZVxuICAgICAqIGBfLmlzRXF1YWxgIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQob2JqZWN0cywgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KSk7XG4gICAgICogLy8gPT4geyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlc1Byb3BlcnR5KCdhJywgMSksIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIGJhc2VDbG9uZShzcmNWYWx1ZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDIpIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgxKSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKFsnYScsICdiJ10pKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tZXRob2RgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogdGhlIG1ldGhvZCBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gXy50aW1lcygzLCBfLmNvbnN0YW50KSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIHZhciBtZXRob2RPZiA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgZnVuY3Rpb24gcHJvcGVydGllcyBvZiBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LiBJZiBgb2JqZWN0YCBpcyBhIGZ1bmN0aW9uLCB0aGVuIG1ldGhvZHNcbiAgICAgKiBhcmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVzZSBgXy5ydW5JbkNvbnRleHRgIHRvIGNyZWF0ZSBhIHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHRvXG4gICAgICogYXZvaWQgY29uZmxpY3RzIGNhdXNlZCBieSBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgbWl4aW5zIGFyZSBjaGFpbmFibGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gdm93ZWxzKHN0cmluZykge1xuICAgICAqICAgcmV0dXJuIF8uZmlsdGVyKHN0cmluZywgZnVuY3Rpb24odikge1xuICAgICAqICAgICByZXR1cm4gL1thZWlvdV0vaS50ZXN0KHYpO1xuICAgICAqICAgfSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSk7XG4gICAgICogXy52b3dlbHMoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXygnZnJlZCcpLnZvd2VscygpLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0sIHsgJ2NoYWluJzogZmFsc2UgfSk7XG4gICAgICogXygnZnJlZCcpLnZvd2VscygpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKSxcbiAgICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBwcm9wcyk7XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgJiZcbiAgICAgICAgICAhKGlzT2JqZWN0KHNvdXJjZSkgJiYgKG1ldGhvZE5hbWVzLmxlbmd0aCB8fCAhcHJvcHMubGVuZ3RoKSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSB0aGlzO1xuICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluID0gIShpc09iamVjdChvcHRpb25zKSAmJiAnY2hhaW4nIGluIG9wdGlvbnMpIHx8ICEhb3B0aW9ucy5jaGFpbixcbiAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9iamVjdCk7XG5cbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IHNvdXJjZVttZXRob2ROYW1lXTtcbiAgICAgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgIG9iamVjdC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmplY3QodGhpcy5fX3dyYXBwZWRfXyksXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zID0gcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuXG4gICAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7ICdmdW5jJzogZnVuYywgJ2FyZ3MnOiBhcmd1bWVudHMsICd0aGlzQXJnJzogb2JqZWN0IH0pO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShvYmplY3QsIGFycmF5UHVzaChbdGhpcy52YWx1ZSgpXSwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0b1xuICAgICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBpZiAocm9vdC5fID09PSB0aGlzKSB7XG4gICAgICAgIHJvb3QuXyA9IG9sZERhc2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLm5vb3ApO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBhcmd1bWVudCBhdCBpbmRleCBgbmAuIElmIGBuYCBpcyBuZWdhdGl2ZSxcbiAgICAgKiB0aGUgbnRoIGFyZ3VtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhc3MtdGhydSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygxKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKC0yKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2MnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoQXJnKG4pIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICByZXR1cm4gYmFzZU50aChhcmdzLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGl0ZXJhdGVlc2Agd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzXG4gICAgICogYW5kIHJldHVybnMgdGhlaXIgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXIoW01hdGgubWF4LCBNYXRoLm1pbl0pO1xuICAgICAqXG4gICAgICogZnVuYygxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbNCwgMV1cbiAgICAgKi9cbiAgICB2YXIgb3ZlciA9IGNyZWF0ZU92ZXIoYXJyYXlNYXApO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYWxsKiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBtYXRjaGVzRnVuYyA9IF8ub3ZlclNvbWUoW3sgJ2EnOiAxIH0sIHsgJ2EnOiAyIH1dKVxuICAgICAqIHZhciBtYXRjaGVzUHJvcGVydHlGdW5jID0gXy5vdmVyU29tZShbWydhJywgMV0sIFsnYScsIDJdXSlcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiLyoqXHJcbiogdmtCZWF1dGlmeSAtIGphdmFzY3JpcHQgcGx1Z2luIHRvIHByZXR0eS1wcmludCBvciBtaW5pZnkgdGV4dCBpbiBYTUwsIEpTT04sIENTUyBhbmQgU1FMIGZvcm1hdHMuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTIgVmFkaW0gS2lyeXVraGluXHJcbiogdmtpcnl1a2hpbiBAIGdtYWlsLmNvbVxyXG4qIGh0dHA6Ly93d3cuZXNsaW5zdHJ1Y3Rvci5uZXQvdmtiZWF1dGlmeS9cclxuKlxyXG4qIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzOlxyXG4qICAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuKiAgIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbFxyXG4qXHJcbiogICBQcmV0dHkgcHJpbnRcclxuKlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnhtbCh0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5qc29uKHRleHQgWyxpbmRlbnRfcGF0dGVybl0pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzcyh0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWwodGV4dCBbLGluZGVudF9wYXR0ZXJuXSk7XHJcbipcclxuKiAgICAgICAgQHRleHQgLSBTdHJpbmc7IHRleHQgdG8gYmVhdHVmeTtcclxuKiAgICAgICAgQGluZGVudF9wYXR0ZXJuIC0gSW50ZWdlciB8IFN0cmluZztcclxuKiAgICAgICAgICAgICAgICBJbnRlZ2VyOiAgbnVtYmVyIG9mIHdoaXRlIHNwYWNlcztcclxuKiAgICAgICAgICAgICAgICBTdHJpbmc6ICAgY2hhcmFjdGVyIHN0cmluZyB0byB2aXN1YWxpemUgaW5kZW50YXRpb24gKCBjYW4gYWxzbyBiZSBhIHNldCBvZiB3aGl0ZSBzcGFjZXMgKVxyXG4qICAgTWluaWZ5XHJcbipcclxuKiAgICAgICAgdmtiZWF1dGlmeS54bWxtaW4odGV4dCBbLHByZXNlcnZlX2NvbW1lbnRzXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbm1pbih0ZXh0KTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5jc3NtaW4odGV4dCBbLHByZXNlcnZlX2NvbW1lbnRzXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuc3FsbWluKHRleHQpO1xyXG4qXHJcbiogICAgICAgIEB0ZXh0IC0gU3RyaW5nOyB0ZXh0IHRvIG1pbmlmeTtcclxuKiAgICAgICAgQHByZXNlcnZlX2NvbW1lbnRzIC0gQm9vbDsgW29wdGlvbmFsXTtcclxuKiAgICAgICAgICAgICAgICBTZXQgdGhpcyBmbGFnIHRvIHRydWUgdG8gcHJldmVudCByZW1vdmluZyBjb21tZW50cyBmcm9tIEB0ZXh0ICggbWlueG1sIGFuZCBtaW5jc3MgZnVuY3Rpb25zIG9ubHkuIClcclxuKlxyXG4qICAgRXhhbXBsZXM6XHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sKHRleHQpOyAvLyBwcmV0dHkgcHJpbnQgWE1MXHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbih0ZXh0LCA0ICk7IC8vIHByZXR0eSBwcmludCBKU09OXHJcbiogICAgICAgIHZrYmVhdXRpZnkuY3NzKHRleHQsICcuIC4gLiAuJyk7IC8vIHByZXR0eSBwcmludCBDU1NcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWwodGV4dCwgJy0tLS0nKTsgLy8gcHJldHR5IHByaW50IFNRTFxyXG4qXHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sbWluKHRleHQsIHRydWUpOy8vIG1pbmlmeSBYTUwsIHByZXNlcnZlIGNvbW1lbnRzXHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbm1pbih0ZXh0KTsvLyBtaW5pZnkgSlNPTlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzc21pbih0ZXh0KTsvLyBtaW5pZnkgQ1NTLCByZW1vdmUgY29tbWVudHMgKCBkZWZhdWx0IClcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWxtaW4odGV4dCk7Ly8gbWluaWZ5IFNRTFxyXG4qXHJcbiovXHJcbmZ1bmN0aW9uIGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIHtcclxuXHJcblx0dmFyIHNwYWNlID0gJyAgICAnO1xyXG5cclxuXHRpZiAoIGlzTmFOKHBhcnNlSW50KHN0ZXApKSApIHsgIC8vIGFyZ3VtZW50IGlzIHN0cmluZ1xyXG5cdFx0c3BhY2UgPSBzdGVwO1xyXG5cdH0gZWxzZSB7IC8vIGFyZ3VtZW50IGlzIGludGVnZXJcclxuXHRcdHN3aXRjaChzdGVwKSB7XHJcblx0XHRcdGNhc2UgMTogc3BhY2UgPSAnICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDI6IHNwYWNlID0gJyAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMzogc3BhY2UgPSAnICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNDogc3BhY2UgPSAnICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDU6IHNwYWNlID0gJyAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNjogc3BhY2UgPSAnICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNzogc3BhY2UgPSAnICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDg6IHNwYWNlID0gJyAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgOTogc3BhY2UgPSAnICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMTA6IHNwYWNlID0gJyAgICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxMTogc3BhY2UgPSAnICAgICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxMjogc3BhY2UgPSAnICAgICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2YXIgc2hpZnQgPSBbJ1xcbiddOyAvLyBhcnJheSBvZiBzaGlmdHNcclxuXHRmb3IodmFyIGl4PTA7aXg8MTAwO2l4KyspIHtcclxuXHRcdHNoaWZ0LnB1c2goc2hpZnRbaXhdK3NwYWNlKTtcclxuXHR9XHJcblx0cmV0dXJuIHNoaWZ0O1xyXG59XHJcblxyXG5mdW5jdGlvbiB2a2JlYXV0aWZ5KCl7XHJcblx0dGhpcy5zdGVwID0gJyAgICAnOyAvLyA0IHNwYWNlc1xyXG5cdHRoaXMuc2hpZnQgPSBjcmVhdGVTaGlmdEFycih0aGlzLnN0ZXApO1xyXG59O1xyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUueG1sID0gZnVuY3Rpb24odGV4dCxzdGVwKSB7XHJcblxyXG5cdHZhciBhciA9IHRleHQucmVwbGFjZSgvPlxcc3swLH08L2csXCI+PFwiKVxyXG5cdFx0XHRcdCAucmVwbGFjZSgvPC9nLFwifjo6fjxcIilcclxuXHRcdFx0XHQgLnJlcGxhY2UoL1xccyp4bWxuc1xcOi9nLFwifjo6fnhtbG5zOlwiKVxyXG5cdFx0XHRcdCAucmVwbGFjZSgvXFxzKnhtbG5zXFw9L2csXCJ+Ojp+eG1sbnM9XCIpXHJcblx0XHRcdFx0IC5zcGxpdCgnfjo6ficpLFxyXG5cdFx0bGVuID0gYXIubGVuZ3RoLFxyXG5cdFx0aW5Db21tZW50ID0gZmFsc2UsXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHN0ciA9ICcnLFxyXG5cdFx0aXggPSAwLFxyXG5cdFx0c2hpZnQgPSBzdGVwID8gY3JlYXRlU2hpZnRBcnIoc3RlcCkgOiB0aGlzLnNoaWZ0O1xyXG5cclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblx0XHRcdC8vIHN0YXJ0IGNvbW1lbnQgb3IgPCFbQ0RBVEFbLi4uXV0+IG9yIDwhRE9DVFlQRSAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88IS8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHRcdGluQ29tbWVudCA9IHRydWU7XHJcblx0XHRcdFx0Ly8gZW5kIGNvbW1lbnQgIG9yIDwhW0NEQVRBWy4uLl1dPiAvL1xyXG5cdFx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLy0tPi8pID4gLTEgfHwgYXJbaXhdLnNlYXJjaCgvXFxdPi8pID4gLTEgfHwgYXJbaXhdLnNlYXJjaCgvIURPQ1RZUEUvKSA+IC0xICkge1xyXG5cdFx0XHRcdFx0aW5Db21tZW50ID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gZW5kIGNvbW1lbnQgIG9yIDwhW0NEQVRBWy4uLl1dPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC8tLT4vKSA+IC0xIHx8IGFyW2l4XS5zZWFyY2goL1xcXT4vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IGFyW2l4XTtcclxuXHRcdFx0XHRpbkNvbW1lbnQgPSBmYWxzZTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDxlbG0+PC9lbG0+IC8vXHJcblx0XHRcdGlmKCAvXjxcXHcvLmV4ZWMoYXJbaXgtMV0pICYmIC9ePFxcL1xcdy8uZXhlYyhhcltpeF0pICYmXHJcblx0XHRcdFx0L148W1xcdzpcXC1cXC5cXCxdKy8uZXhlYyhhcltpeC0xXSkgPT0gL148XFwvW1xcdzpcXC1cXC5cXCxdKy8uZXhlYyhhcltpeF0pWzBdLnJlcGxhY2UoJy8nLCcnKSkge1xyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdFx0aWYoIWluQ29tbWVudCkgZGVlcC0tO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0IC8vIDxlbG0+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXHcvKSA+IC0xICYmIGFyW2l4XS5zZWFyY2goLzxcXC8vKSA9PSAtMSAmJiBhcltpeF0uc2VhcmNoKC9cXC8+LykgPT0gLTEgKSB7XHJcblx0XHRcdFx0c3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFtkZWVwKytdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQgLy8gPGVsbT4uLi48L2VsbT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcdy8pID4gLTEgJiYgYXJbaXhdLnNlYXJjaCgvPFxcLy8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8L2VsbT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcLy8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0Wy0tZGVlcF0rYXJbaXhdIDogc3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDxlbG0vPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC9cXC8+LykgPiAtMSApIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8PyB4bWwgLi4uID8+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXD8vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIHhtbG5zIC8vXHJcblx0XHRcdGlmKCBhcltpeF0uc2VhcmNoKC94bWxuc1xcOi8pID4gLTEgIHx8IGFyW2l4XS5zZWFyY2goL3htbG5zXFw9LykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0cmV0dXJuICAoc3RyWzBdID09ICdcXG4nKSA/IHN0ci5zbGljZSgxKSA6IHN0cjtcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuanNvbiA9IGZ1bmN0aW9uKHRleHQsc3RlcCkge1xyXG5cclxuXHR2YXIgc3RlcCA9IHN0ZXAgPyBzdGVwIDogdGhpcy5zdGVwO1xyXG5cclxuXHRpZiAodHlwZW9mIEpTT04gPT09ICd1bmRlZmluZWQnICkgcmV0dXJuIHRleHQ7XHJcblxyXG5cdGlmICggdHlwZW9mIHRleHQgPT09IFwic3RyaW5nXCIgKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZSh0ZXh0KSwgbnVsbCwgc3RlcCk7XHJcblx0aWYgKCB0eXBlb2YgdGV4dCA9PT0gXCJvYmplY3RcIiApIHJldHVybiBKU09OLnN0cmluZ2lmeSh0ZXh0LCBudWxsLCBzdGVwKTtcclxuXHJcblx0cmV0dXJuIHRleHQ7IC8vIHRleHQgaXMgbm90IHN0cmluZyBub3Igb2JqZWN0XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uKHRleHQsIHN0ZXApIHtcclxuXHJcblx0dmFyIGFyID0gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csJyAnKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXHsvZyxcInt+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcfS9nLFwifjo6fn1+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcOy9nLFwiO346On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFwvXFwqL2csXCJ+Ojp+LypcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFwqXFwvL2csXCIqL346On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvfjo6flxcc3swLH1+Ojp+L2csXCJ+Ojp+XCIpXHJcblx0XHRcdFx0LnNwbGl0KCd+Ojp+JyksXHJcblx0XHRsZW4gPSBhci5sZW5ndGgsXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHN0ciA9ICcnLFxyXG5cdFx0aXggPSAwLFxyXG5cdFx0c2hpZnQgPSBzdGVwID8gY3JlYXRlU2hpZnRBcnIoc3RlcCkgOiB0aGlzLnNoaWZ0O1xyXG5cclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblxyXG5cdFx0XHRpZiggL1xcey8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwKytdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdGlmKCAvXFx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0Wy0tZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0aWYoIC9cXCpcXFxcLy5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoL15cXG57MSx9LywnJyk7XHJcbn1cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZnVuY3Rpb24gaXNTdWJxdWVyeShzdHIsIHBhcmVudGhlc2lzTGV2ZWwpIHtcclxuXHRyZXR1cm4gIHBhcmVudGhlc2lzTGV2ZWwgLSAoc3RyLnJlcGxhY2UoL1xcKC9nLCcnKS5sZW5ndGggLSBzdHIucmVwbGFjZSgvXFwpL2csJycpLmxlbmd0aCApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNwbGl0X3NxbChzdHIsIHRhYikge1xyXG5cclxuXHRyZXR1cm4gc3RyLnJlcGxhY2UoL1xcc3sxLH0vZyxcIiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBTkQgL2lnLFwifjo6flwiK3RhYit0YWIrXCJBTkQgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBCRVRXRUVOIC9pZyxcIn46On5cIit0YWIrXCJCRVRXRUVOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQ0FTRSAvaWcsXCJ+Ojp+XCIrdGFiK1wiQ0FTRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEVMU0UgL2lnLFwifjo6flwiK3RhYitcIkVMU0UgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBFTkQgL2lnLFwifjo6flwiK3RhYitcIkVORCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEZST00gL2lnLFwifjo6fkZST00gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBHUk9VUFxcc3sxLH1CWS9pZyxcIn46On5HUk9VUCBCWSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEhBVklORyAvaWcsXCJ+Ojp+SEFWSU5HIFwiKVxyXG5cdFx0XHRcdC8vLnJlcGxhY2UoLyBTRVQgL2lnLFwiIFNFVH46On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIElOIC9pZyxcIiBJTiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBKT0lOIC9pZyxcIn46On5KT0lOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQ1JPU1N+Ojp+ezEsfUpPSU4gL2lnLFwifjo6fkNST1NTIEpPSU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBJTk5FUn46On57MSx9Sk9JTiAvaWcsXCJ+Ojp+SU5ORVIgSk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIExFRlR+Ojp+ezEsfUpPSU4gL2lnLFwifjo6fkxFRlQgSk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFJJR0hUfjo6fnsxLH1KT0lOIC9pZyxcIn46On5SSUdIVCBKT0lOIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIE9OIC9pZyxcIn46On5cIit0YWIrXCJPTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE9SIC9pZyxcIn46On5cIit0YWIrdGFiK1wiT1IgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBPUkRFUlxcc3sxLH1CWS9pZyxcIn46On5PUkRFUiBCWSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE9WRVIgL2lnLFwifjo6flwiK3RhYitcIk9WRVIgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXChcXHN7MCx9U0VMRUNUIC9pZyxcIn46On4oU0VMRUNUIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXClcXHN7MCx9U0VMRUNUIC9pZyxcIil+Ojp+U0VMRUNUIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIFRIRU4gL2lnLFwiIFRIRU5+Ojp+XCIrdGFiK1wiXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBVTklPTiAvaWcsXCJ+Ojp+VU5JT05+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBVU0lORyAvaWcsXCJ+Ojp+VVNJTkcgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBXSEVOIC9pZyxcIn46On5cIit0YWIrXCJXSEVOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gV0hFUkUgL2lnLFwifjo6fldIRVJFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gV0lUSCAvaWcsXCJ+Ojp+V0lUSCBcIilcclxuXHJcblx0XHRcdFx0Ly8ucmVwbGFjZSgvXFwsXFxzezAsfVxcKC9pZyxcIix+Ojp+KCBcIilcclxuXHRcdFx0XHQvLy5yZXBsYWNlKC9cXCwvaWcsXCIsfjo6flwiK3RhYit0YWIrXCJcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBTEwgL2lnLFwiIEFMTCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEFTIC9pZyxcIiBBUyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEFTQyAvaWcsXCIgQVNDIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gREVTQyAvaWcsXCIgREVTQyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIERJU1RJTkNUIC9pZyxcIiBESVNUSU5DVCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEVYSVNUUyAvaWcsXCIgRVhJU1RTIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTk9UIC9pZyxcIiBOT1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBOVUxMIC9pZyxcIiBOVUxMIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTElLRSAvaWcsXCIgTElLRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFxzezAsfVNFTEVDVCAvaWcsXCJTRUxFQ1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcc3swLH1VUERBVEUgL2lnLFwiVVBEQVRFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gU0VUIC9pZyxcIiBTRVQgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC9+Ojp+ezEsfS9nLFwifjo6flwiKVxyXG5cdFx0XHRcdC5zcGxpdCgnfjo6ficpO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5zcWwgPSBmdW5jdGlvbih0ZXh0LHN0ZXApIHtcclxuXHJcblx0dmFyIGFyX2J5X3F1b3RlID0gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csXCIgXCIpXHJcblx0XHRcdFx0XHRcdFx0LnJlcGxhY2UoL1xcJy9pZyxcIn46On5cXCdcIilcclxuXHRcdFx0XHRcdFx0XHQuc3BsaXQoJ346On4nKSxcclxuXHRcdGxlbiA9IGFyX2J5X3F1b3RlLmxlbmd0aCxcclxuXHRcdGFyID0gW10sXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHRhYiA9IHRoaXMuc3RlcCwvLyt0aGlzLnN0ZXAsXHJcblx0XHRpbkNvbW1lbnQgPSB0cnVlLFxyXG5cdFx0aW5RdW90ZSA9IGZhbHNlLFxyXG5cdFx0cGFyZW50aGVzaXNMZXZlbCA9IDAsXHJcblx0XHRzdHIgPSAnJyxcclxuXHRcdGl4ID0gMCxcclxuXHRcdHNoaWZ0ID0gc3RlcCA/IGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIDogdGhpcy5zaGlmdDs7XHJcblxyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHRcdFx0aWYoaXglMikge1xyXG5cdFx0XHRcdGFyID0gYXIuY29uY2F0KGFyX2J5X3F1b3RlW2l4XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YXIgPSBhci5jb25jYXQoc3BsaXRfc3FsKGFyX2J5X3F1b3RlW2l4XSwgdGFiKSApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0bGVuID0gYXIubGVuZ3RoO1xyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHJcblx0XHRcdHBhcmVudGhlc2lzTGV2ZWwgPSBpc1N1YnF1ZXJ5KGFyW2l4XSwgcGFyZW50aGVzaXNMZXZlbCk7XHJcblxyXG5cdFx0XHRpZiggL1xcc3swLH1cXHN7MCx9U0VMRUNUXFxzezAsfS8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdGFyW2l4XSA9IGFyW2l4XS5yZXBsYWNlKC9cXCwvZyxcIixcXG5cIit0YWIrdGFiK1wiXCIpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCAvXFxzezAsfVxcc3swLH1TRVRcXHN7MCx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0YXJbaXhdID0gYXJbaXhdLnJlcGxhY2UoL1xcLC9nLFwiLFxcblwiK3RhYit0YWIrXCJcIilcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIC9cXHN7MCx9XFwoXFxzezAsfVNFTEVDVFxcc3swLH0vLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRkZWVwKys7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdGlmKCAvXFwnLy5leGVjKGFyW2l4XSkgKSAge1xyXG5cdFx0XHRcdGlmKHBhcmVudGhlc2lzTGV2ZWw8MSAmJiBkZWVwKSB7XHJcblx0XHRcdFx0XHRkZWVwLS07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdFx0aWYocGFyZW50aGVzaXNMZXZlbDwxICYmIGRlZXApIHtcclxuXHRcdFx0XHRcdGRlZXAtLTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGp1bmsgPSAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN0ciA9IHN0ci5yZXBsYWNlKC9eXFxuezEsfS8sJycpLnJlcGxhY2UoL1xcbnsxLH0vZyxcIlxcblwiKTtcclxuXHRcdHJldHVybiBzdHI7XHJcbn1cclxuXHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS54bWxtaW4gPSBmdW5jdGlvbih0ZXh0LCBwcmVzZXJ2ZUNvbW1lbnRzKSB7XHJcblxyXG5cdHZhciBzdHIgPSBwcmVzZXJ2ZUNvbW1lbnRzID8gdGV4dFxyXG5cdFx0XHRcdFx0XHRcdCAgIDogdGV4dC5yZXBsYWNlKC9cXDwhWyBcXHJcXG5cXHRdKigtLShbXlxcLV18W1xcclxcbl18LVteXFwtXSkqLS1bIFxcclxcblxcdF0qKVxcPi9nLFwiXCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdCAucmVwbGFjZSgvWyBcXHJcXG5cXHRdezEsfXhtbG5zL2csICcgeG1sbnMnKTtcclxuXHRyZXR1cm4gIHN0ci5yZXBsYWNlKC8+XFxzezAsfTwvZyxcIj48XCIpO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5qc29ubWluID0gZnVuY3Rpb24odGV4dCkge1xyXG5cclxuXHRpZiAodHlwZW9mIEpTT04gPT09ICd1bmRlZmluZWQnICkgcmV0dXJuIHRleHQ7XHJcblxyXG5cdHJldHVybiBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHRleHQpLCBudWxsLCAwKTtcclxuXHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmNzc21pbiA9IGZ1bmN0aW9uKHRleHQsIHByZXNlcnZlQ29tbWVudHMpIHtcclxuXHJcblx0dmFyIHN0ciA9IHByZXNlcnZlQ29tbWVudHMgPyB0ZXh0XHJcblx0XHRcdFx0XHRcdFx0ICAgOiB0ZXh0LnJlcGxhY2UoL1xcL1xcKihbXipdfFtcXHJcXG5dfChcXCorKFteKi9dfFtcXHJcXG5dKSkpKlxcKitcXC8vZyxcIlwiKSA7XHJcblxyXG5cdHJldHVybiBzdHIucmVwbGFjZSgvXFxzezEsfS9nLCcgJylcclxuXHRcdFx0ICAucmVwbGFjZSgvXFx7XFxzezEsfS9nLFwie1wiKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXH1cXHN7MSx9L2csXCJ9XCIpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xcO1xcc3sxLH0vZyxcIjtcIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFwvXFwqXFxzezEsfS9nLFwiLypcIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFwqXFwvXFxzezEsfS9nLFwiKi9cIik7XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLnNxbG1pbiA9IGZ1bmN0aW9uKHRleHQpIHtcclxuXHRyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csXCIgXCIpLnJlcGxhY2UoL1xcc3sxLH1cXCgvLFwiKFwiKS5yZXBsYWNlKC9cXHN7MSx9XFwpLyxcIilcIik7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IHZrYmVhdXRpZnkoKTtcclxuIiwiZXhwb3J0IGNvbnN0IHVwbG9hZEFyZWFIVE1MID0gXG4gIGA8ZGl2IGlkPVwiZG9jdW1lbnQtdXBsb2FkLWNvbnRhaW5lclwiPlxuXG4gICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX2FyZWFcIj5cbiAgICAgICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX21lc3NhZ2VcIj5VcGxvYWQgRmlsZXM8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIFxuICAgIDxkaXYgaWQ9XCJ1cGxvYWRpbmdfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9jb250YWluZXJcIiBpZD1cInVucGFpcmVkX2NvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLWNvbnRhaW5lci10aXRsZVwiPlVucGFpcmVkIERvY3VtZW50czwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJmaWxlc19jb250YWluZXJcIj5cblxuICAgICAgICAgIDxkaXYgaWQ9XCJtZWlfY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+TUVJPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9zb3J0X25hbWVcIj5cbiAgICAgICAgICAgICAgPGRpdj5OYW1lPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzb3J0X25hbWUgYXJyb3dfYnRuXCI+JiN4MjJDMDs8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfbGlzdFwiIGlkPVwibWVpX2xpc3RcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVucGFpcmVkX2l0ZW1fY29udGFpbmVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYmFja2dyb3VuZDogI0RBRUFGMTsgYm9yZGVyLXJhZGl1czogNXB4O1wiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInVucGFpcmVkX2l0ZW1fbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBjbGFzcz1cInVucGFpcmVkX2l0ZW1fcmFkaW9cIiBuYW1lPVwibWVpX3JhZGlvX2dyb3VwXCIgdmFsdWU9XCJjcmVhdGVfbWVpXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwibWFyZ2luLXRvcDogYXV0bzttYXJnaW4tbGVmdDogM3B4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBuZXcgTUVJIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGlkPVwiaW1hZ2VfY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+SW1hZ2VzPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9zb3J0X25hbWVcIj5cbiAgICAgICAgICAgICAgPGRpdj5OYW1lPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzb3J0X25hbWUgYXJyb3dfYnRuXCI+JiN4MjJDMDs8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfbGlzdFwiIGlkPVwiaW1hZ2VfbGlzdFwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJnZW5lcmF0ZS1wYWlyLWJ1dHRvbi1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uX2J1dHRvblwiIGlkPVwibWFrZV9wYWlyXCI+TWFrZSBQYWlyPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2NvbnRhaW5lclwiIGlkPVwicGFpcmVkX2NvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLWNvbnRhaW5lci10aXRsZVwiPlBhaXJlZCBGb2xpb3M8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfc29ydF9uYW1lXCI+XG4gICAgICAgICAgPGRpdj5OYW1lPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNvcnRfbmFtZSBhcnJvd19idG5cIj4mI3gyMkMwOzwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvbGlvX2xpc3RcIiBpZD1cInBhaXJlZF9saXN0XCI+PC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cInVwbG9hZF9idXR0b25fY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbl9idXR0b25cIiBpZD1cInVwbG9hZF9idXR0b25cIj5cbiAgICAgICAgICAgIFVwbG9hZFxuICAgICAgICAgICAgPGRpdiBpZD1cInVwbG9hZGluZ19zcGlubmVyXCI+4oa7PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLVxuICAgICAgPGRpdiBjbGFzcz1cImZpbGVfY29udGFpbmVyXCIgaWQ9XCJtYW51c2NyaXB0c19jb250YWluZXJcIj5cbiAgICAgICAgPGgyIGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+TWFudXNjcmlwdHM8L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9saW9fbGlzdFwiIGlkPVwibWFudXNjcmlwdF9saXN0XCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIC0tPlxuXG4gICAgPC9kaXY+XG4gIDwvZGl2PmA7XG5cbmV4cG9ydCBjb25zdCBuZXdGb2xkZXJIVE1MID0gYFxuICAgIDxkaXYgaWQ9XCJyZW5hbWVfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGlkPVwiZGFzaGJvYXJkX2lucHV0X2NvbnRhaW5lclwiPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGlkPVwicmVuYW1lX2J1dHRvbnNfY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjYW5jZWxfZGFzaGJvYXJkXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjb25maXJtX2Rhc2hib2FyZFwiPkNyZWF0ZTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG5cbmV4cG9ydCBjb25zdCByZW5hbWVIVE1MID0gYFxuICAgIDxkaXYgaWQ9XCJyZW5hbWVfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGlkPVwiZGFzaGJvYXJkX2lucHV0X2NvbnRhaW5lclwiPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGlkPVwicmVuYW1lX2J1dHRvbnNfY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjYW5jZWxfZGFzaGJvYXJkXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjb25maXJtX2Rhc2hib2FyZFwiPkNvbmZpcm08L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgOyIsIi8qKiBAbW9kdWxlIFdhcm5pbmdzICovXG5cbi8qKlxuICogV2FybiB3aGVuIGdyb3VwZWQgbmV1bWUgY29tcG9uZW50cyBmb3JtIGFuIHVucmVjb2duaXplZCBuZXVtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwaW5nTm90UmVjb2duaXplZCAoKTogdm9pZCB7XG4gIGlmICghKHdpbmRvdy5jb25maXJtKCdOZW9uIGRvZXMgbm90IHJlY29nbml6ZSB0aGlzIG5ldW1lIGdyb3VwaW5nLiBXb3VsZCB5b3UgbGlrZSB0byBjcmVhdGUgYSBjb21wb3VuZCBuZXVtZT8nKSkpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kbycpLmNsaWNrKCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IFNwbGl0QWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgc2VsZWN0QWxsIH0gZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4uL3V0aWxzL0RyYWdIYW5kbGVyJztcbmltcG9ydCB7IGdldFNWR1JlbENvb3JkcyB9IGZyb20gJy4uL3V0aWxzL0Nvb3JkaW5hdGVzJztcblxuLyoqIEhhbmRsZSBzcGxpdHRpbmcgYSBzdGFmZiBpbnRvIHR3byBzdGF2ZXMgdGhyb3VnaCBWZXJvdmlvLiAqL1xuZXhwb3J0IGNsYXNzIFNwbGl0U3RhZmZIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICByZWFkb25seSBzdGFmZjogU1ZHR0VsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBzdGFmZiAtIFRoZSBzdGFmZiB0aGF0IHdpbGwgYmUgbW9kaWZpZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBzdGFmZjogU1ZHR0VsZW1lbnQpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5zdGFmZiA9IHN0YWZmO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcnN0IHBhcnQgb2YgdGhlIHNwbGl0IGFjdGlvbi5cbiAgICovXG4gIHN0YXJ0U3BsaXQgKCk6IHZvaWQge1xuICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG5cbiAgICAvLyBIYW5kbGUga2V5cHJlc3Nlc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuXG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGljayBXaGVyZSB0byBTcGxpdCcpO1xuICB9XG5cbiAgc3BsaXREaXNhYmxlICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gIH1cblxuICAvKiogSGFuZGxlIGlucHV0IHRvIHNwbGl0IGEgc3RhZmYuICovXG4gIGhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIC8vIEZpbmQgc3RhZmYgcG9pbnQgY29ycmVzcG9uZHMgdG8gaWYgb25lIGV4aXN0c1xuICAgIC8vIFRPRE9cbiAgICBjb25zdCBpZCA9IHRoaXMuc3RhZmYuaWQ7XG4gICAgY29uc3QgY3Vyc29yID0gZ2V0U1ZHUmVsQ29vcmRzKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTcGxpdEFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ3NwbGl0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgIHg6IGN1cnNvci54XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBzdWNjZXNzZnVsJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcuc3RhZmYnKTtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lkfWApXSwgdGhpcy5uZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICAgICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0cyBzcGxpdCBvbiBFc2NhcGUgcHJlc3MsIGRpc2FibGVzIG9uIFNoaWZ0LiAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXQgc3BsaXQgaWYgdXNlciBjbGlja3Mgb2ZmIG9mIGFjdGl2ZSBwYWdlLiAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmFjdGl2ZS1wYWdlJykgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBDYWxsZWQgdG8gcmVhcHBseSB0aGUgZXZlbnQgbGlzdGVuZXIgaWYgbmVjZXNzYXJ5LiAqL1xuICByZXNldEhhbmRsZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xufVxuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXROZXVtZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqIEhhbmRsZSBzcGxpdHRpbmcgYSBuZXVtZSBpbnRvIHR3byBuZXVtZXMgdGhyb3VnaCBWZXJvdmlvLiAqL1xuZXhwb3J0IGNsYXNzIFNwbGl0TmV1bWVIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICByZWFkb25seSBuZXVtZTogU1ZHR0VsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBuZXVtZSAtIFRoZSBuZXVtZSB0aGF0IHdpbGwgYmUgbW9kaWZpZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBuZXVtZTogU1ZHR0VsZW1lbnQpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5uZXVtZSA9IG5ldW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcnN0IHBhcnQgb2YgdGhlIHNwbGl0IGFjdGlvbi5cbiAgICovXG4gIHN0YXJ0U3BsaXQgKCk6IHZvaWQge1xuICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG5cbiAgICAvLyBIYW5kbGUga2V5cHJlc3Nlc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuXG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGljayBUaGUgQmVnaW5uaW5nIG9mIFRoZSBTZWNvbmQgTmV1bWUnKTtcbiAgfVxuXG4gIHNwbGl0RGlzYWJsZSAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICB9XG5cbiAgLyoqIEhhbmRsZSBpbnB1dCB0byBzcGxpdCBhIG5ldW1lLiAqL1xuICBoYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCBpZCA9IHRoaXMubmV1bWUuaWQ7XG5cbiAgICAvLyB1bnNlbGVjdCgpO1xuICAgIFxuICAgIGNvbnN0IG5jID0gKGV2dC50YXJnZXQgYXMgU1ZHR0VsZW1lbnQpLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgbmNJZCA9IG5jLmlkO1xuXG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTcGxpdE5ldW1lQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnc3BsaXROZXVtZScsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICBuY0lkOiBuY0lkXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBzdWNjZXNzZnVsJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gXG4gICAgICBlbHNlIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBmYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIC8vIHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIC8vIGNvbnN0IGRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcubmV1bWUnKTtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICAvLyBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgaWQpIGFzIFNWR0dFbGVtZW50XSwgdGhpcy5uZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgLy8gdHJ5IHtcbiAgICAgIC8vICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICAvLyAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuICAgICAgLy8gfSBjYXRjaCAoZSkge31cbiAgICB9KTtcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdHMgc3BsaXQgb24gRXNjYXBlIHByZXNzLCBkaXNhYmxlcyBvbiBTaGlmdC4gKi9cbiAga2V5ZG93bkxpc3RlbmVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0IHNwbGl0IGlmIHVzZXIgY2xpY2tzIG9mZiBvZiBhY3RpdmUgcGFnZS4gKi9cbiAgY2xpY2thd2F5SGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5hY3RpdmUtcGFnZScpID09PSBudWxsKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogQ2FsbGVkIHRvIHJlYXBwbHkgdGhlIGV2ZW50IGxpc3RlbmVyIGlmIG5lY2Vzc2FyeS4gKi9cbiAgcmVzZXRIYW5kbGVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHR5cGVvZiBnbG9iYWwucXVldWVNaWNyb3Rhc2sgPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGdsb2JhbC5xdWV1ZU1pY3JvdGFzayhmdW5jKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vL2Jhc2VkIG9mZiByc3ZwIGh0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanNcbi8vbGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcbi8vaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qcy9ibG9iL21hc3Rlci9saWIvcnN2cC9hc2FwLmpzXG5cbnZhciBNdXRhdGlvbiA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBNdXRhdGlvbjtcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgdmFyIGNhbGxlZCA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbihoYW5kbGUpO1xuICB2YXIgZWxlbWVudCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwge1xuICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgfSk7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZWxlbWVudC5kYXRhID0gKGNhbGxlZCA9ICsrY2FsbGVkICUgMik7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgIC8vIHdlIGNhbiBvbmx5IGdldCBoZXJlIGluIElFMTBcbiAgICAvLyB3aGljaCBkb2Vzbid0IGhhbmRlbCBwb3N0TWVzc2FnZSB3ZWxsXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0eXBlb2YgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCgpO1xuICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmM7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAnZG9jdW1lbnQnIGluIGdsb2JhbCAmJiAnb25yZWFkeXN0YXRlY2hhbmdlJyBpbiBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgIHZhciBzY3JpcHRFbCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBoYW5kbGUoKTtcblxuICAgICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgIHNjcmlwdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0RWwpO1xuICAgICAgc2NyaXB0RWwgPSBudWxsO1xuICAgIH07XG4gICAgZ2xvYmFsLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzY3JpcHRFbCk7XG5cbiAgICByZXR1cm4gaGFuZGxlO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KHQsIDApO1xuICB9O1xufTsiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgdXJpbGliID0gcmVxdWlyZSgndXJsJyk7XG52YXIgaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG5tb2R1bGUuZXhwb3J0cy5TY2hlbWFTY2FuUmVzdWx0ID0gU2NoZW1hU2NhblJlc3VsdDtcbmZ1bmN0aW9uIFNjaGVtYVNjYW5SZXN1bHQoZm91bmQsIHJlZil7XG4gIHRoaXMuaWQgPSBmb3VuZDtcbiAgdGhpcy5yZWYgPSByZWY7XG59XG5cbi8qKlxuICogQWRkcyBhIHNjaGVtYSB3aXRoIGEgY2VydGFpbiB1cm4gdG8gdGhlIFZhbGlkYXRvciBpbnN0YW5jZS5cbiAqIEBwYXJhbSBzdHJpbmcgdXJpXG4gKiBAcGFyYW0gb2JqZWN0IHNjaGVtYVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5tb2R1bGUuZXhwb3J0cy5zY2FuID0gZnVuY3Rpb24gc2NhbihiYXNlLCBzY2hlbWEpe1xuICBmdW5jdGlvbiBzY2FuU2NoZW1hKGJhc2V1cmksIHNjaGVtYSl7XG4gICAgaWYoIXNjaGVtYSB8fCB0eXBlb2Ygc2NoZW1hIT0nb2JqZWN0JykgcmV0dXJuO1xuICAgIC8vIE1hcmsgYWxsIHJlZmVyZW5jZWQgc2NoZW1hcyBzbyB3ZSBjYW4gdGVsbCBsYXRlciB3aGljaCBzY2hlbWFzIGFyZSByZWZlcnJlZCB0bywgYnV0IG5ldmVyIGRlZmluZWRcbiAgICBpZihzY2hlbWEuJHJlZil7XG4gICAgICB2YXIgcmVzb2x2ZWRVcmkgPSB1cmlsaWIucmVzb2x2ZShiYXNldXJpLCBzY2hlbWEuJHJlZik7XG4gICAgICByZWZbcmVzb2x2ZWRVcmldID0gcmVmW3Jlc29sdmVkVXJpXSA/IHJlZltyZXNvbHZlZFVyaV0rMSA6IDA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpZCA9IHNjaGVtYS4kaWQgfHwgc2NoZW1hLmlkO1xuICAgIHZhciBvdXJCYXNlID0gaWQgPyB1cmlsaWIucmVzb2x2ZShiYXNldXJpLCBpZCkgOiBiYXNldXJpO1xuICAgIGlmIChvdXJCYXNlKSB7XG4gICAgICAvLyBJZiB0aGVyZSdzIG5vIGZyYWdtZW50LCBhcHBlbmQgYW4gZW1wdHkgb25lXG4gICAgICBpZihvdXJCYXNlLmluZGV4T2YoJyMnKTwwKSBvdXJCYXNlICs9ICcjJztcbiAgICAgIGlmKGZvdW5kW291ckJhc2VdKXtcbiAgICAgICAgaWYoIWhlbHBlcnMuZGVlcENvbXBhcmVTdHJpY3QoZm91bmRbb3VyQmFzZV0sIHNjaGVtYSkpe1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2NoZW1hIDwnK291ckJhc2UrJz4gYWxyZWFkeSBleGlzdHMgd2l0aCBkaWZmZXJlbnQgZGVmaW5pdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3VuZFtvdXJCYXNlXTtcbiAgICAgIH1cbiAgICAgIGZvdW5kW291ckJhc2VdID0gc2NoZW1hO1xuICAgICAgLy8gc3RyaXAgdHJhaWxpbmcgZnJhZ21lbnRcbiAgICAgIGlmKG91ckJhc2Vbb3VyQmFzZS5sZW5ndGgtMV09PScjJyl7XG4gICAgICAgIGZvdW5kW291ckJhc2Uuc3Vic3RyaW5nKDAsIG91ckJhc2UubGVuZ3RoLTEpXSA9IHNjaGVtYTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9pdGVtcycsIChBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcyk/c2NoZW1hLml0ZW1zOltzY2hlbWEuaXRlbXNdKSk7XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9leHRlbmRzJywgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmV4dGVuZHMpP3NjaGVtYS5leHRlbmRzOltzY2hlbWEuZXh0ZW5kc10pKTtcbiAgICBzY2FuU2NoZW1hKG91ckJhc2UrJy9hZGRpdGlvbmFsSXRlbXMnLCBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zKTtcbiAgICBzY2FuT2JqZWN0KG91ckJhc2UrJy9wcm9wZXJ0aWVzJywgc2NoZW1hLnByb3BlcnRpZXMpO1xuICAgIHNjYW5TY2hlbWEob3VyQmFzZSsnL2FkZGl0aW9uYWxQcm9wZXJ0aWVzJywgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKTtcbiAgICBzY2FuT2JqZWN0KG91ckJhc2UrJy9kZWZpbml0aW9ucycsIHNjaGVtYS5kZWZpbml0aW9ucyk7XG4gICAgc2Nhbk9iamVjdChvdXJCYXNlKycvcGF0dGVyblByb3BlcnRpZXMnLCBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpO1xuICAgIHNjYW5PYmplY3Qob3VyQmFzZSsnL2RlcGVuZGVuY2llcycsIHNjaGVtYS5kZXBlbmRlbmNpZXMpO1xuICAgIHNjYW5BcnJheShvdXJCYXNlKycvZGlzYWxsb3cnLCBzY2hlbWEuZGlzYWxsb3cpO1xuICAgIHNjYW5BcnJheShvdXJCYXNlKycvYWxsT2YnLCBzY2hlbWEuYWxsT2YpO1xuICAgIHNjYW5BcnJheShvdXJCYXNlKycvYW55T2YnLCBzY2hlbWEuYW55T2YpO1xuICAgIHNjYW5BcnJheShvdXJCYXNlKycvb25lT2YnLCBzY2hlbWEub25lT2YpO1xuICAgIHNjYW5TY2hlbWEob3VyQmFzZSsnL25vdCcsIHNjaGVtYS5ub3QpO1xuICB9XG4gIGZ1bmN0aW9uIHNjYW5BcnJheShiYXNldXJpLCBzY2hlbWFzKXtcbiAgICBpZighQXJyYXkuaXNBcnJheShzY2hlbWFzKSkgcmV0dXJuO1xuICAgIGZvcih2YXIgaT0wOyBpPHNjaGVtYXMubGVuZ3RoOyBpKyspe1xuICAgICAgc2NhblNjaGVtYShiYXNldXJpKycvJytpLCBzY2hlbWFzW2ldKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc2Nhbk9iamVjdChiYXNldXJpLCBzY2hlbWFzKXtcbiAgICBpZighc2NoZW1hcyB8fCB0eXBlb2Ygc2NoZW1hcyE9J29iamVjdCcpIHJldHVybjtcbiAgICBmb3IodmFyIHAgaW4gc2NoZW1hcyl7XG4gICAgICBzY2FuU2NoZW1hKGJhc2V1cmkrJy8nK3AsIHNjaGVtYXNbcF0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmb3VuZCA9IHt9O1xuICB2YXIgcmVmID0ge307XG4gIHNjYW5TY2hlbWEoYmFzZSwgc2NoZW1hKTtcbiAgcmV0dXJuIG5ldyBTY2hlbWFTY2FuUmVzdWx0KGZvdW5kLCByZWYpO1xufTtcbiIsIi8qKiBAbW9kdWxlIHV0aWxzL1NlbGVjdCAqL1xuXG5pbXBvcnQgeyB1bnNlbGVjdCwgZ2V0U3RhZmZCQm94LCBzZWxlY3RTdGFmZiwgc2VsZWN0QWxsLCBnZXRTZWxlY3Rpb25UeXBlIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5pbXBvcnQgeyByZXNpemUgfSBmcm9tICcuL1Jlc2l6ZSc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgSW5mb0ludGVyZmFjZSB9IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0IFpvb21IYW5kbGVyIGZyb20gJy4uL1NpbmdsZVZpZXcvWm9vbSc7XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEJCb3gsIGdldFN0YWZmQnlDb29yZHMsIFBvaW50IH0gZnJvbSAnLi9Db29yZGluYXRlcyc7XG5cbmxldCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsIG5lb25WaWV3OiBOZW9uVmlldywgaW5mbzogSW5mb0ludGVyZmFjZSwgem9vbUhhbmRsZXI6IFpvb21IYW5kbGVyO1xubGV0IHN0cm9rZVdpZHRoID0gNztcblxuLyoqXG4gKiBTZXQgc3Ryb2tlIHdpZHRoIG9uIGRyYWcgc2VsZWN0IGJveC5cbiAqIEBwYXJhbSB3aWR0aCAtIFN0cm9rZSB3aWR0aCBpbiBwaXhlbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZWxlY3RTdHJva2VXaWR0aCAod2lkdGg6IG51bWJlcik6IHZvaWQge1xuICBzdHJva2VXaWR0aCA9IHdpZHRoO1xufVxuXG4vKipcbiAqIFNldCB0aGUgb2JqZWN0cyBmb3IgdGhpcyBtb2R1bGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZWxlY3RIZWxwZXJPYmplY3RzIChudjogTmVvblZpZXcsIGRoOiBEcmFnSGFuZGxlcik6IHZvaWQge1xuICBkcmFnSGFuZGxlciA9IGRoO1xuICBuZW9uVmlldyA9IG52O1xuICBpbmZvID0gbmVvblZpZXcuaW5mbztcbiAgem9vbUhhbmRsZXIgPSBuZW9uVmlldy52aWV3Lnpvb21IYW5kbGVyO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVLZXlMaXN0ZW5lciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgIGluZm8uaW5mb0xpc3RlbmVycygpO1xuICAgIH1cbiAgICB1bnNlbGVjdCgpO1xuICB9XG59XG5cbi8vIEVOVEVSIEtFWTogd2hlbiBhIEJCb3ggaXMgc2VsZWN0ZWQsIHByZXNzaW5nIGVudGVyIHdpbGxcbi8vICAgdHJpZ2dlciB0aGUgZWRpdCBzeWxsYWJsZSB0ZXh0IGZ1bmN0aW9uLlxuZnVuY3Rpb24gZW50ZXJLZXlMaXN0ZW5lciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIC8vIGNoZWNrIGlmICdlbnRlcicgaXMgcHJlc3NlZCB3aXRoIHRoZSBjb3JyZWN0IGNvbmRpdGlvbnNcbiAgaWYgKGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5QkJveCdcbiAgICB8fCAhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWRcbiAgICB8fCBldnQua2V5ICE9PSAnRW50ZXInXG4gIClcbiAgICByZXR1cm47XG5cbiAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKTtcblxuICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIHN5bGxhYmxlIHNlbGVjdGVkXG4gIGlmIChzZWxlY3RlZCkge1xuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuLicgKyBzZWxlY3RlZC5pZCkgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAvLyB3ZSBzaW11bGF0ZSBhIGNsaWNrIGJlY2F1c2UgdGhlIG1ldGhvZCBgdXBkYXRlU3lsVGV4dCgpYCBpcyBvbmx5XG4gICAgLy8gYWNjZXNzaWJsZSBpbnNpZGUgVGV4dEVkaXRNb2RlOyB0aGUgc3BhbiBoYXMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yXG4gICAgLy8gY2xpY2tzLlxuICAgIHNwYW4uY2xpY2soKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJvd0tleUxpc3RlbmVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgaWYgKGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5QkJveCcgfHwgKGV2dC5rZXkgIT09ICdBcnJvd0xlZnQnICYmIGV2dC5rZXkgIT09ICdBcnJvd1JpZ2h0JyAmJiBldnQua2V5ICE9PSAnVGFiJyAmJiBldnQuc2hpZnRLZXkpKVxuICAgIHJldHVybjtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vIHByZXZlbnQgZGVmYXVsdCBmb3IgdGFiIGtleVxuICBcbiAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKTtcbiAgY29uc3Qgc3lsbGFibGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUnKSk7XG5cbiAgLy8gbm90IGFsbCBzeWxsYWJsZXMgaGF2ZSBCQm94ZXM7IHdlIG11c3QgZmlsdGVyIHRoZW0gb3V0XG4gIGNvbnN0IGJib3hTeWxsYWJsZXMgPSBzeWxsYWJsZXMuZmlsdGVyKHN5bCA9PiBzeWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSAhPT0gbnVsbCk7XG4gIGNvbnN0IGluZCA9IGJib3hTeWxsYWJsZXMuaW5kZXhPZihzZWxlY3RlZCk7XG5cbiAgaWYgKChldnQua2V5ID09PSAnQXJyb3dMZWZ0JyB8fCAoZXZ0LmtleSA9PT0gJ1RhYicgJiYgZXZ0LnNoaWZ0S2V5KSkgJiYgaW5kID4gMCkge1xuICAgIHVuc2VsZWN0KCk7XG5cbiAgICBjb25zdCBiYm94ID0gYmJveFN5bGxhYmxlc1tpbmQgLSAxXS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIHNlbGVjdEFsbChbYmJveCBhcyBTVkdHcmFwaGljc0VsZW1lbnRdLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICB9IGVsc2UgaWYgKChldnQua2V5ID09PSAnQXJyb3dSaWdodCcgfHwgKGV2dC5rZXkgPT09ICdUYWInICYmICFldnQuc2hpZnRLZXkpKSAmJiBpbmQgPCBiYm94U3lsbGFibGVzLmxlbmd0aCAtIDEpIHtcbiAgICB1bnNlbGVjdCgpO1xuXG4gICAgY29uc3QgYmJveCA9IGJib3hTeWxsYWJsZXNbaW5kICsgMV0ucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBzZWxlY3RBbGwoW2Jib3ggYXMgU1ZHR3JhcGhpY3NFbGVtZW50XSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgfVxuICBcbiAgLy8gQXV0byBzY3JvbGwgdG8gaGlnaGxpZ2h0ZWQgdGV4dFxuICBjb25zdCBzZWxlY3RlZFN5bFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGV4dC1zZWxlY3QnKTtcbiAgaWYgKHNlbGVjdGVkU3lsVGV4dCkge1xuICAgIHNlbGVjdGVkU3lsVGV4dC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1NlbEJ5QkJveCAoKTogYm9vbGVhbiB7XG4gIGNvbnN0IHNlbEJ5QkJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKTtcbiAgaWYgKHNlbEJ5QkJveCkge1xuICAgIHJldHVybiBzZWxCeUJCb3guY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHN0b3BQcm9wSGFuZGxlciAoZXZ0OiBFdmVudCk6IHZvaWQgeyBldnQuc3RvcFByb3BhZ2F0aW9uKCk7IH1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgYm94IG9mIGFuIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0QkJveENvb3JkcyAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCk6IEJCb3gge1xuICBpZiAoaXNTZWxCeUJCb3goKSkge1xuICAgIGNvbnN0IHVseCA9IE51bWJlcihlbC5nZXRBdHRyaWJ1dGUoJ3gnKSksIHVseSA9IE51bWJlcihlbC5nZXRBdHRyaWJ1dGUoJ3knKSk7XG4gICAgLy8gV2hhdCBpcyB0aGUgbWF0aCBoZXJlPz8/XG4gICAgY29uc3QgbHJ4ID0gdWx4ICsgTnVtYmVyKChlbC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykuc2xpY2UoMCwgLTIpKSk7XG4gICAgY29uc3QgbHJ5ID0gdWx5ICsgTnVtYmVyKChlbC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLnNsaWNlKDAsIC0yKSkpO1xuXG4gICAgcmV0dXJuIHsgdWx4LCB1bHksIGxyeCwgbHJ5IH07XG4gIH1cblxuICBpZiAoZWwudGFnTmFtZSA9PT0gJ3VzZScpIHtcbiAgICBjb25zdCByZWN0ID0gKGVsLnBhcmVudE5vZGUgYXMgU1ZHR0VsZW1lbnQpLmdldEJCb3goKTtcblxuICAgIHJldHVybiB7XG4gICAgICB1bHg6IHJlY3QueCxcbiAgICAgIHVseTogcmVjdC55LFxuICAgICAgbHJ4OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgICAgbHJ5OiByZWN0LnkgKyByZWN0LmhlaWdodFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gZ2V0U3RhZmZCQm94KGVsKTtcbn1cblxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGFuIGVsZW1lbnQgaXMgd2l0aGluIHRoZSBkcmFnIHNlbGVjdGlvbiByZWN0YW5nbGUuXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGVsZW1lbnQgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgYHVsYCAodXBwZXIgbGVmdCkgYW5kIGBscmAgKGxvd2VyIHJpZ2h0KVxuICovXG5mdW5jdGlvbiBpc0VsZW1lbnRJblJlY3QoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgdWw6IFBvaW50LCBscjogUG9pbnQpOiBib29sZWFuIHtcbiAgaWYgKGlzU2VsQnlCQm94KCkgfHwgZWwudGFnTmFtZSA9PT0gJ3VzZScpIHtcbiAgICBjb25zdCBiYm94ID0gZ2V0QkJveENvb3JkcyhlbCk7XG4gICAgXG4gICAgLy8gV2Ugd2FudCB0byBmaW5kIHdoZXRoZXIgdGhlIGJvdW5kaW5nIGJveCBvdmVybGFwcyB3aXRoIHRoZSByZWN0YW5nbGVcbiAgICAvLyBkZWZpbmVkIGJ5IGB1bGAgYW5kIGBscmAuIFRoZSBlYXNpZXN0IHNvbHV0aW9uIGlzIHRvIG5lZ2F0ZSBhIHN1bS1vZi1wcm9kdWN0cyBlcXVhdGlvbjpcbiAgICAvLyBpLmUuLCB0aGVyZSBhcmUgNCBwb3NzaWJpbGl0aWVzIGluIHdoaWNoIHRoZSB0d28gKmRvbid0KiBvdmVybGFwXG4gICAgcmV0dXJuICEobHIueCA8IGJib3gudWx4IHx8IHVsLnggPiBiYm94LmxyeCB8fCBsci55IDwgYmJveC51bHkgfHwgdWwueSA+IGJib3gubHJ5KTtcbiAgfVxuXG4gIC8vIFRPRE86IFNpbXBsaWZ5XG4gIGNvbnN0IGJveCA9IGdldFN0YWZmQkJveChlbCk7XG4gIHJldHVybiAhKCh1bC54IDwgYm94LnVseCAmJiBsci54IDwgYm94LnVseCkgfHwgKHVsLnggPiBib3gubHJ4ICYmIGxyLnggPiBib3gubHJ4KSB8fFxuICAgICAgICAgICh1bC55IDwgKGJveC51bHkgKyBNYXRoLmFicyhib3gudWx4IC0gdWwueCkgKiBNYXRoLnRhbihib3gucm90YXRlKSkgJiZcbiAgICAgICAgICAgIGxyLnkgPCAoYm94LnVseSArIE1hdGguYWJzKGJveC51bHggLSB1bC54KSAqIE1hdGgudGFuKGJveC5yb3RhdGUpKSkgfHxcbiAgICAgICAgICAodWwueSA+IChib3gubHJ5ICsgTWF0aC5hYnMoYm94LmxyeSAtIGxyLnkpICogTWF0aC50YW4oYm94LnJvdGF0ZSkpICYmXG4gICAgICAgICAgICBsci55ID4gKGJveC5scnkgKyBNYXRoLmFicyhib3gubHJ5IC0gbHIueSkgKiBNYXRoLnRhbihib3gucm90YXRlKSkpKTtcbn1cblxuLyoqXG4gKiBBcHBseSBsaXN0ZW5lcnMgZm9yIGNsaWNrIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSBzZWxlY3RvciAtIFRoZSBDU1Mgc2VsZWN0b3IgdXNlZCB0byBjaG9vc2Ugd2hlcmUgbGlzdGVuZXJzIGFyZSBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tTZWxlY3QgKHNlbGVjdG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChzZWwgPT4ge1xuICAgIHNlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjbGlja0hhbmRsZXIpO1xuICAgIHNlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjbGlja0hhbmRsZXIpO1xuICB9KTtcblxuICAvLyBDbGljayBhd2F5IGxpc3RlbmVyc1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlc2NhcGVLZXlMaXN0ZW5lcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVzY2FwZUtleUxpc3RlbmVyKTtcblxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlbnRlcktleUxpc3RlbmVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZW50ZXJLZXlMaXN0ZW5lcik7XG5cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgYXJyb3dLZXlMaXN0ZW5lcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGFycm93S2V5TGlzdGVuZXIpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChldnQpID0+IHsgZXZ0LnByZXZlbnREZWZhdWx0KCk7IH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3VzZSxyZWN0LCNtb3JlRWRpdCcpLmZvckVhY2goc2VsID0+IHtcbiAgICBzZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wUHJvcEhhbmRsZXIpO1xuICAgIHNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0b3BQcm9wSGFuZGxlcik7XG4gIH0pO1xufVxuXG4vKipcbiAqIEhhbmRsZSBjbGljayBldmVudHMgcmVsYXRlZCB0byBlbGVtZW50IHNlbGVjdGlvbi5cbiAqL1xuXG4vLyBUaGUgYHRoaXNgIGtleXdvcmQgY2FuIGJlIFwicGFzc2VkXCIgYXMgYSBmYWtlIHBhcmFtZXRlciBzbyB0aGF0IHdlIGNhbiB0eXBlIGl0IGNvcnJlY3RseVxuLy8gaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svMi9mdW5jdGlvbnMuaHRtbCNkZWNsYXJpbmctdGhpcy1pbi1hLWZ1bmN0aW9uXG5mdW5jdGlvbiBjbGlja0hhbmRsZXIgKHRoaXM6IFNWR0dyYXBoaWNzRWxlbWVudCwgZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gIC8vIFJldHVybiBpZiB1c2VyIGlzIGluIGluc2VydCBtb2RlIG9yIHBhbm5pbmcgaXMgYWN0aXZlIGZyb20gc2hpZnQga2V5XG4gIGlmICghbmVvblZpZXcgfHwgbmVvblZpZXcuZ2V0VXNlck1vZGUoKSA9PT0gJ2luc2VydCcgfHwgZXZ0LnNoaWZ0S2V5KVxuICAgIHJldHVybjtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGN0cmwvY21kIGtleSBoYXMgYmVlbiBzZWxlY3RlZFxuICBmdW5jdGlvbiBpc011bHRpU2VsZWN0ICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01hYy8pID8gZXZ0Lm1ldGFLZXkgOiBldnQuY3RybEtleTtcbiAgfVxuXG4gIC8vIElmIHVzZXIgaGFzIGNsaWNrZWQgYSBsYXllciBlbGVtZW50XG4gIGlmICh0aGlzLnRhZ05hbWUgPT09ICd1c2UnICYmIGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5QkJveCcpIHtcbiAgICBpZiAodGhpcy5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgbGV0IHNlbGVjdGlvbjogU1ZHR3JhcGhpY3NFbGVtZW50W10gPSBbdGhpc107XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgcGFydCBvZiBhIGxpZ2F0dXJlIGFuZCwgaWYgc28sIGFkZCBhbGwgb2YgaXQgdG8gdGhlIHNlbGVjdGlvbi5cbiAgICAgIGNvbnN0IGZpcnN0TGlnYXR1cmVIYWxmID0gL0U5Qls0NTY3OF0vO1xuICAgICAgY29uc3Qgc2Vjb25kTGlnYXR1cmVIYWxmID0gL0U5Qls5QUJDXS87XG4gICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChzZWNvbmRMaWdhdHVyZUhhbGYpKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIHNlY29uZCBwYXJ0IG9mIGEgbGlnYXR1cmVcbiAgICAgICAgY29uc3QgbmMgPSB0aGlzLmNsb3Nlc3QoJy5uYycpO1xuICAgICAgICBjb25zdCBuZXVtZSA9IHRoaXMuY2xvc2VzdCgnLm5ldW1lJyk7XG4gICAgICAgIGNvbnN0IG5jSW5kZXggPSBBcnJheS5mcm9tKG5ldW1lLmNoaWxkcmVuKS5pbmRleE9mKG5jKTtcbiAgICAgICAgY29uc3QgZmlyc3RVc2UgPSBuZXVtZS5jaGlsZHJlbltuY0luZGV4IC0gMV0uY2hpbGRyZW5bMF0gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBjb25zb2xlLmFzc2VydChmaXJzdFVzZS5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChmaXJzdExpZ2F0dXJlSGFsZiksICdGaXJzdCBnbHlwaCBvZiBsaWdhdHVyZSB1bmV4cGVjdGVkIScpO1xuXG4gICAgICAgIGlmIChmaXJzdFVzZS5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgICAgIHNlbGVjdGlvbi51bnNoaWZ0KGZpcnN0VXNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKGZpcnN0TGlnYXR1cmVIYWxmKSkge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCBwYXJ0IG9mIGEgbGlnYXR1cmVcbiAgICAgICAgY29uc3QgbmMgPSB0aGlzLmNsb3Nlc3QoJy5uYycpO1xuICAgICAgICBjb25zdCBuZXVtZSA9IHRoaXMuY2xvc2VzdCgnLm5ldW1lJyk7XG4gICAgICAgIGNvbnN0IG5jSW5kZXggPSBBcnJheS5mcm9tKG5ldW1lLmNoaWxkcmVuKS5pbmRleE9mKG5jKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kVXNlID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCArIDFdLmNoaWxkcmVuWzBdIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgY29uc29sZS5hc3NlcnQoc2Vjb25kVXNlLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKHNlY29uZExpZ2F0dXJlSGFsZiksICdTZWNvbmQgZ2x5cGggb2YgbGlnYXR1cmUgdW5leHBlY3RlZCEnKTtcblxuICAgICAgICBpZiAoc2Vjb25kVXNlLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSB7XG4gICAgICAgICAgc2VsZWN0aW9uLnB1c2goc2Vjb25kVXNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSkpO1xuICAgICAgfVxuXG4gICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbk1vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsLWJ5IC5pcy1hY3RpdmUnKS5pZDtcbiAgICAgICAgY29uc3QgbW9kZVRvQ2xhc3MgPSB7XG4gICAgICAgICAgc2VsQnlTdGFmZjogJy5zdGFmZicsXG4gICAgICAgICAgc2VsQnlOZXVtZTogJy5uZXVtZScsXG4gICAgICAgICAgc2VsQnlOYzogJy5uYycsXG4gICAgICAgICAgc2VsQnlMYXllckVsZW1lbnQ6ICcuYWNjaWQnLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZWxlY3RlZENsYXNzID0gbW9kZVRvQ2xhc3Nbc2VsZWN0aW9uTW9kZV0gfHwgJy5zeWxsYWJsZSc7XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IFt0aGlzLmNsb3Nlc3Qoc2VsZWN0ZWRDbGFzcyldO1xuXG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSBbXTtcbiAgICAgICAgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZpbHRlcigoZWwpID0+ICFyZW1vdmUuaW5jbHVkZXMoZWwpKTtcblxuICAgICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLnRhZ05hbWUgPT09ICdyZWN0JyAmJiBnZXRTZWxlY3Rpb25UeXBlKCkgPT09ICdzZWxCeUJCb3gnKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpIHtcbiAgICAgIGxldCBzZWxlY3Rpb24gPSBbZXZ0LnRhcmdldF0gYXMgU1ZHR0VsZW1lbnRbXTtcbiAgICAgIGlmIChpc011bHRpU2VsZWN0KCkpIHtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpIGFzIFNWR0dFbGVtZW50W10pO1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24ubWFwKCAoZWwpID0+IHtcbiAgICAgICAgICBpZiAoZWwudGFnTmFtZSA9PSAncmVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1EaXNwbGF5Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgc2VsZWN0aW9uID0gW107XG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IFt0aGlzXTtcbiAgICAgICAgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLm1hcCggKGVsKSA9PiB7XG4gICAgICAgICAgaWYgKGVsLnRhZ05hbWUgPT0gJ3JlY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtRGlzcGxheScpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZpbHRlciggKGVsKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICFyZW1vdmUuaW5jbHVkZXMoZWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZ2V0U2VsZWN0aW9uVHlwZSgpICE9PSAnc2VsQnlTdGFmZicpIHtcbiAgICAgIGluZm8uaW5mb0xpc3RlbmVycygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoZSBwb2ludCBpcyBpbiBhIHN0YWZmLlxuICAgIGlmICghaXNNdWx0aVNlbGVjdCgpKVxuICAgICAgdW5zZWxlY3QoKTtcblxuICAgIC8vIFNlbGVjdCBhIHN0YWZmXG4gICAgY29uc3Qgc3RhZmYgPSBnZXRTdGFmZkJ5Q29vcmRzKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG4gICAgXG4gICAgaWYgKCFzdGFmZikgcmV0dXJuO1xuXG4gICAgaWYgKCFzdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIC8vIFNlbGVjdCBwcmV2aW91c2x5IHVuc2VsZWN0ZWQgc3RhZmZcbiAgICAgIHNlbGVjdFN0YWZmKHN0YWZmLCBkcmFnSGFuZGxlcik7XG4gICAgICByZXNpemUoc3RhZmYsIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVHJpZ2dlciBtb3VzZWRvd24gZXZlbnQgb24gdGhlIHN0YWZmXG4gICAgc3RhZmYuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnbW91c2Vkb3duJywge1xuICAgICAgc2NyZWVuWDogZXZ0LnNjcmVlblgsXG4gICAgICBzY3JlZW5ZOiBldnQuc2NyZWVuWSxcbiAgICAgIGNsaWVudFg6IGV2dC5jbGllbnRYLFxuICAgICAgY2xpZW50WTogZXZ0LmNsaWVudFksXG4gICAgICBjdHJsS2V5OiBldnQuY3RybEtleSxcbiAgICAgIHNoaWZ0S2V5OiBldnQuc2hpZnRLZXksXG4gICAgICBhbHRLZXk6IGV2dC5hbHRLZXksXG4gICAgICBtZXRhS2V5OiBldnQubWV0YUtleSxcbiAgICAgIHZpZXc6IGV2dC52aWV3XG4gICAgfSkpO1xuICB9XG59XG5cbi8qKlxuICogQXBwbHkgbGlzdGVuZXJzIGZvciBkcmFnIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSBzZWxlY3RvciAtIFRoZSBDU1Mgc2VsZWN0b3IgdXNlZCB0byBjaG9vc2Ugd2hlcmUgbGlzdGVuZXJzIGFyZSBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJhZ1NlbGVjdCAoc2VsZWN0b3I6IHN0cmluZyk6IHZvaWQge1xuICBsZXQgaW5pdGlhbFggPSAwO1xuICBsZXQgaW5pdGlhbFkgPSAwO1xuICBsZXQgcGFubmluZyA9IGZhbHNlO1xuICBsZXQgZHJhZ1NlbGVjdGluZyA9IGZhbHNlO1xuICAvLyB2YXIgY2FudmFzID0gZDMuc2VsZWN0KCcjc3ZnX2dyb3VwJyk7XG5cbiAgY29uc3QgY2FudmFzID0gZDMuc2VsZWN0KHNlbGVjdG9yKTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBwb2ludCBpcyBpbiB0aGUgYm91bmRzIG9mIGEgc3RhZmYgZWxlbWVudC5cbiAgICogUm90YXRlIGlzIG5vdCB0YWtlbiBpbnRvIGFjY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBwb2ludE5vdEluU3RhZmYgKHB0OiBudW1iZXJbXSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZmYnKSk7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBzdGF2ZXMuZmlsdGVyKChzdGFmZjogU1ZHR0VsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IGJib3ggPSBnZXRTdGFmZkJCb3goc3RhZmYpO1xuICAgICAgY29uc3QgdWx4ID0gYmJveC51bHg7XG4gICAgICBjb25zdCB1bHkgPSBiYm94LnVseTtcbiAgICAgIGNvbnN0IGxyeCA9IGJib3gubHJ4O1xuICAgICAgY29uc3QgbHJ5ID0gYmJveC5scnk7XG4gICAgICBjb25zdCByb3RhdGUgPSBiYm94LnJvdGF0ZTtcblxuICAgICAgcmV0dXJuIChwdFswXSA+IHVseCAmJiBwdFswXSA8IGxyeCkgJiZcbiAgICAgICAgKHB0WzFdID4gKHVseSArIChwdFswXSAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpKSkgJiZcbiAgICAgICAgKHB0WzFdIDwgKGxyeSAtIChscnggLSBwdFswXSkgKiBNYXRoLnRhbihyb3RhdGUpKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIChmaWx0ZXJlZC5sZW5ndGggPT09IDApO1xuICB9XG5cbiAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGluaXRpYWwgZHJhZ2dpbmcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB1bHggLSBUaGUgdXBwZXIgbGVmdCB4LXBvc2l0aW9uIG9mIHRoZSBuZXcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB1bHkgLSBUaGUgdXBwZXIgbGVmdCB5LXBvc2l0aW9uIG9mIHRoZSBuZXcgcmVjdGFuZ2xlLlxuICAgICAqL1xuICBmdW5jdGlvbiBpbml0UmVjdCAodWx4OiBudW1iZXIsIHVseTogbnVtYmVyKTogdm9pZCB7XG4gICAgY2FudmFzLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cigneCcsIHVseClcbiAgICAgIC5hdHRyKCd5JywgdWx5KVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCAwKVxuICAgICAgLmF0dHIoJ2lkJywgJ3NlbGVjdFJlY3QnKVxuICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgc3Ryb2tlV2lkdGgpXG4gICAgICAuYXR0cignZmlsbCcsICdub25lJyk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxTdGFydCAoKTogdm9pZCB7XG4gICAgaWYgKCFuZW9uVmlldykgcmV0dXJuO1xuICAgIGNvbnN0IHVzZXJNb2RlID0gbmVvblZpZXcuZ2V0VXNlck1vZGUoKTtcbiAgICBpZiAoZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9PSAndXNlJyAmJiB1c2VyTW9kZSAhPT0gJ2luc2VydCcgJiYgZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9PSAncmVjdCcpIHtcbiAgICAgIGlmICghZDMuZXZlbnQuc291cmNlRXZlbnQuc2hpZnRLZXkpIHsgLy8gSWYgbm90IGhvbGRpbmcgZG93biBzaGlmdCBrZXkgdG8gcGFuXG4gICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpIHx8XG4gICAgICAgICAgcG9pbnROb3RJblN0YWZmKGQzLm1vdXNlKHRoaXMpKSkge1xuICAgICAgICAgIHVuc2VsZWN0KCk7XG4gICAgICAgICAgZHJhZ1NlbGVjdGluZyA9IHRydWU7XG4gICAgICAgICAgY29uc3QgaW5pdGlhbFAgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgICAgICBpbml0aWFsWCA9IGluaXRpYWxQWzBdO1xuICAgICAgICAgIGluaXRpYWxZID0gaW5pdGlhbFBbMV07XG4gICAgICAgICAgaW5pdFJlY3QoaW5pdGlhbFgsIGluaXRpYWxZKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFubmluZyA9IHRydWU7XG4gICAgICAgIGlmICh6b29tSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgem9vbUhhbmRsZXIuc3RhcnREcmFnKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBwYW5uaW5nID0gdHJ1ZTtcbiAgICAgIGlmICh6b29tSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHpvb21IYW5kbGVyLnN0YXJ0RHJhZygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZHJhZ2dpbmcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSBuZXdYIC0gVGhlIG5ldyB1bHguXG4gICAgICogQHBhcmFtIG5ld1kgLSBUaGUgbmV3IHVseS5cbiAgICAgKiBAcGFyYW0gY3VycmVudFdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSBjdXJyZW50SGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlIGluIHBpeGVscy5cbiAgICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlUmVjdCAobmV3WDogbnVtYmVyLCBuZXdZOiBudW1iZXIsIGN1cnJlbnRXaWR0aDogbnVtYmVyLCBjdXJyZW50SGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBkMy5zZWxlY3QoJyNzZWxlY3RSZWN0JylcbiAgICAgIC5hdHRyKCd4JywgbmV3WClcbiAgICAgIC5hdHRyKCd5JywgbmV3WSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIGN1cnJlbnRXaWR0aClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBjdXJyZW50SGVpZ2h0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlTZWxlY3RvciAoc2VsZWN0b3I6IHN0cmluZyk6IFNWR0dyYXBoaWNzRWxlbWVudFtdIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArICcgdXNlLCAnICsgc2VsZWN0b3IgKyAnIC5zdGFmZicpKTtcblxuICAgIGlmIChpc1NlbEJ5QkJveCgpKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArICcgLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yICsgJyB1c2UnKSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RpbmcgKCk6IHZvaWQge1xuICAgIGlmICghcGFubmluZyAmJiBkcmFnU2VsZWN0aW5nKSB7XG4gICAgICBjb25zdCBjdXJyZW50UHQgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIGNvbnN0IGN1clggPSBjdXJyZW50UHRbMF07XG4gICAgICBjb25zdCBjdXJZID0gY3VycmVudFB0WzFdO1xuXG4gICAgICBjb25zdCBuZXdYID0gY3VyWCA8IGluaXRpYWxYID8gY3VyWCA6IGluaXRpYWxYO1xuICAgICAgY29uc3QgbmV3WSA9IGN1clkgPCBpbml0aWFsWSA/IGN1clkgOiBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHdpZHRoID0gY3VyWCA8IGluaXRpYWxYID8gaW5pdGlhbFggLSBjdXJYIDogY3VyWCAtIGluaXRpYWxYO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gY3VyWSA8IGluaXRpYWxZID8gaW5pdGlhbFkgLSBjdXJZIDogY3VyWSAtIGluaXRpYWxZO1xuXG4gICAgICB1cGRhdGVSZWN0KG5ld1gsIG5ld1ksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH0gZWxzZSBpZiAocGFubmluZykge1xuICAgICAgaWYgKHpvb21IYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgem9vbUhhbmRsZXIuZHJhZ2dpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxFbmQgKCk6IHZvaWQge1xuICAgIGlmICghcGFubmluZyAmJiBkcmFnU2VsZWN0aW5nKSB7XG4gICAgICBjb25zdCBzZWxlY3RSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdFJlY3QnKTtcbiAgICAgIGNvbnN0IHJ4ID0gcGFyc2VJbnQoc2VsZWN0UmVjdC5nZXRBdHRyaWJ1dGUoJ3gnKSk7XG4gICAgICBjb25zdCByeSA9IHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCd5JykpO1xuICAgICAgY29uc3QgbHggPSByeCArIHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKTtcbiAgICAgIGNvbnN0IGx5ID0gcnkgKyBwYXJzZUludChzZWxlY3RSZWN0LmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gdG8gdGhlIGNvcnJlY3QgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgIGNvbnN0IG5vZGUgPSBjYW52YXMubm9kZSgpIGFzIFNWR1NWR0VsZW1lbnQ7XG4gICAgICBsZXQgdWwgPSBuZXcgRE9NUG9pbnQocngsIHJ5KSwgbHIgPSBuZXcgRE9NUG9pbnQobHgsIGx5KTtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5vZGUuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpXG4gICAgICAgIC5tdWx0aXBseSgoY2FudmFzLnNlbGVjdCgnLnN5c3RlbScpLm5vZGUoKSBhcyBTVkdHcmFwaGljc0VsZW1lbnQpLmdldFNjcmVlbkNUTSgpKVxuICAgICAgICAuaW52ZXJzZSgpO1xuICAgICAgdWwgPSB1bC5tYXRyaXhUcmFuc2Zvcm0odHJhbnNmb3JtKTtcbiAgICAgIGxyID0gbHIubWF0cml4VHJhbnNmb3JtKHRyYW5zZm9ybSk7XG5cbiAgICAgIC8vIEdldCBhbGwgZWxlbWVudHMgY29ycmVzcG9uZGluZyB0byB0aGUgc2VsZWN0b3JcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0gZ2V0RWxlbWVudHNCeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIC8vIEdldCB0aGUgZWxlbWVudHMgd2l0aGluIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlXG4gICAgICBjb25zdCBzZWxlY3RlZEVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKGVsID0+IGlzRWxlbWVudEluUmVjdChlbCwgdWwsIGxyKSk7XG5cbiAgICAgIC8vIEdldCBvdGhlciBoYWx2ZXMgb2YgbGlnYXR1cmVzIGlmIG9ubHkgb25lIGlzIHNlbGVjdGVkXG4gICAgICBzZWxlY3RlZEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQ6IFNWR0VsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gJ3VzZScgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaCgvRTlCWzQ1Njc4OUFCQ10vKSkge1xuICAgICAgICAgIGNvbnN0IG5ldW1lID0gZWxlbWVudC5jbG9zZXN0KCcubmV1bWUnKTtcbiAgICAgICAgICBjb25zdCBuY0luZGV4ID0gQXJyYXkuZnJvbShuZXVtZS5jaGlsZHJlbikuaW5kZXhPZihlbGVtZW50LmNsb3Nlc3QoJy5uYycpKTtcbiAgICAgICAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaCgvRTlCWzQ1Njc4XS8pKSB7XG4gICAgICAgICAgICAvLyBBZGQgc2Vjb25kIGhhbGYgb2YgbGlnYXR1cmUgdG8gc2VsZWN0ZWQgbGlzdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICAgICBjb25zdCBzZWNvbmROYyA9IG5ldW1lLmNoaWxkcmVuW25jSW5kZXggKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFVzZSA9IHNlY29uZE5jLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihzZWNvbmRVc2UpIDwgMCkge1xuICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goc2Vjb25kVXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIGZpcnN0IGhhbGYgb2YgbGlnYXR1cmUgdG8gc2VsZWN0ZWQgbGlzdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICAgICBjb25zdCBmaXJzdE5jID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCAtIDFdO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RVc2UgPSBmaXJzdE5jLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihmaXJzdFVzZSkgPCAwKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChmaXJzdFVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdEFsbChzZWxlY3RlZEVsZW1lbnRzLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICAgIGQzLnNlbGVjdEFsbCgnI3NlbGVjdFJlY3QnKS5yZW1vdmUoKTtcbiAgICAgIGRyYWdTZWxlY3RpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgcGFubmluZyA9IGZhbHNlO1xuICB9XG5cbiAgZDMuc2VsZWN0QWxsKHNlbGVjdG9yLnJlcGxhY2UoJy5hY3RpdmUtcGFnZScsICcnKS50cmltKCkpXG4gICAgLm9uKCcuZHJhZycsIG51bGwpO1xuICBjb25zdCBkcmFnU2VsZWN0QWN0aW9uID0gZDMuZHJhZygpXG4gICAgLm9uKCdzdGFydCcsIHNlbFN0YXJ0KVxuICAgIC5vbignZHJhZycsIHNlbGVjdGluZylcbiAgICAub24oJ2VuZCcsIHNlbEVuZCk7XG4gIGNhbnZhcy5jYWxsKGRyYWdTZWxlY3RBY3Rpb24pO1xuICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICBkcmFnSGFuZGxlci5yZXNldFRvKGRyYWdTZWxlY3RBY3Rpb24pO1xuICB9XG59XG4iLCJpbXBvcnQgeyB1dWlkdjQgfSBmcm9tICcuL3JhbmRvbSc7XG5pbXBvcnQgKiBhcyB2a2JlYXV0aWZ5IGZyb20gJ3ZrYmVhdXRpZnknO1xuaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5cbi8vIEZvciBkZXRhaWxzIGFib3V0IHRoZSBmaWxlIGNvbnZlcnNpb24sXG4vLyByZWZlciB0byB0aGlzIGxpbms6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRERNQUwvTmVvbi93aWtpL05lb24lRTIlODAlOTBWZXJvdmlvLUZpbGUtQ29udmVyc2lvblxuXG5leHBvcnQgZnVuY3Rpb24gemlwPFQ+KGFycmF5MTogQXJyYXk8VD4sIGFycmF5MjogQXJyYXk8VD4pOiBBcnJheTxUPiB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKFxuICAgIGxldCBpID0gMDtcbiAgICBpIDwgKGFycmF5MS5sZW5ndGggPiBhcnJheTIubGVuZ3RoID8gYXJyYXkyLmxlbmd0aCA6IGFycmF5MS5sZW5ndGgpO1xuICAgIGkrK1xuICApIHtcbiAgICByZXN1bHQucHVzaChbYXJyYXkxW2ldLCBhcnJheTJbaV1dKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBjb3B5QXR0cmlidXRlcyhzcmM6IEVsZW1lbnQsIGRzdDogRWxlbWVudCk6IHZvaWQge1xuICBmb3IgKGNvbnN0IGF0dHIgb2Ygc3JjLmF0dHJpYnV0ZXMpIHtcbiAgICBkc3Quc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb05lb24oc3RhZmZCYXNlZE1laTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhzdGFmZkJhc2VkTWVpLCAndGV4dC94bWwnKTtcbiAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgbGV0IG5Db2wgPSAwO1xuXG4gIGNvbnN0IHNlY3Rpb25zID0gQXJyYXkuZnJvbShcbiAgICBtZWkucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbjpub3QoW3R5cGU9XCJuZW9uLW5ldW1lLWxpbmVcIl0pJyksXG4gICk7XG4gIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBzZWN0aW9ucykge1xuICAgIC8vIFJlbW92ZSBkaXJlY3QgY2hpbGRyZW4gcGIgJiBzYiBlbGVtZW50cyB3aXRoaW4gc2VjdGlvblxuICAgIGNvbnN0IHBicyA9IHNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgncGInKTtcbiAgICBwYnMuZm9yRWFjaCgocGIpID0+IHBiLnJlbW92ZSgpKTtcbiAgICBjb25zdCBzYnMgPSBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NiJyk7XG4gICAgc2JzLmZvckVhY2goKHNiKSA9PiBzYi5yZW1vdmUoKSk7XG5cbiAgICBjb25zdCBuZXdTdGFmZiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJyxcbiAgICAgICdzdGFmZicsXG4gICAgKTtcbiAgICBjb25zdCBuZXdMYXllciA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJyxcbiAgICAgICdsYXllcicsXG4gICAgKTtcbiAgICBuZXdTdGFmZi5zZXRBdHRyaWJ1dGUoJ24nLCAnMScpO1xuICAgIG5ld0xheWVyLnNldEF0dHJpYnV0ZSgnbicsICcxJyk7XG4gICAgbmV3U3RhZmYuYXBwZW5kQ2hpbGQobmV3TGF5ZXIpO1xuXG4gICAgLy8gQWRkIDxwYj5cbiAgICBjb25zdCBzdXJmYWNlID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3N1cmZhY2UnKTtcbiAgICBjb25zdCBzdXJmYWNlSWQgPSBzdXJmYWNlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyk7XG4gICAgY29uc3QgcGIgPSBtZWlEb2MuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAncGInLFxuICAgICk7XG4gICAgcGIuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgIHBiLnNldEF0dHJpYnV0ZSgnZmFjcycsICcjJyArIHN1cmZhY2VJZCk7XG4gICAgbmV3TGF5ZXIuYXBwZW5kQ2hpbGQocGIpO1xuXG4gICAgY29uc3QgbmVvbk5ldW1lTGluZVNlY3Rpb25zID0gQXJyYXkuZnJvbShcbiAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvblt0eXBlPVwibmVvbi1uZXVtZS1saW5lXCJdJyksXG4gICAgKTtcbiAgICBsZXQgblN0YWZmID0gMDtcbiAgICBsZXQgbGFzdENiOiBFbGVtZW50ID0gbnVsbDtcblxuICAgIGZvciAoY29uc3QgbmVvbk5ldW1lTGluZVNlY3Rpb24gb2YgbmVvbk5ldW1lTGluZVNlY3Rpb25zKSB7XG4gICAgICBuU3RhZmYgKz0gMTtcbiAgICAgIGNvbnN0IHN0YWZmID0gbmVvbk5ldW1lTGluZVNlY3Rpb24ucXVlcnlTZWxlY3Rvcignc3RhZmYnKTtcbiAgICAgIGlmICghc3RhZmYpIHtcbiAgICAgICAgbmVvbk5ldW1lTGluZVNlY3Rpb24ucmVtb3ZlKCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgbGF5ZXIgPSBzdGFmZi5xdWVyeVNlbGVjdG9yKCdsYXllcicpO1xuXG4gICAgICAvLyBpZiBzdGFmZiBoYXMgYSBuZXcgdHlwZSB2YWx1ZSxcbiAgICAgIC8vIGFkZCBjYiBiZWZvcmUgc2JcbiAgICAgIGlmIChcbiAgICAgICAgc3RhZmYuaGFzQXR0cmlidXRlKCd0eXBlJykgJiZcbiAgICAgICAgc3RhZmYuZ2V0QXR0cmlidXRlKCd0eXBlJykgIT0gJ2NvbHVtbicgKyBuQ29sLnRvU3RyaW5nKClcbiAgICAgICkge1xuICAgICAgICBuQ29sICs9IDE7XG4gICAgICAgIGNvbnN0IGNiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJyxcbiAgICAgICAgICAnY2InLFxuICAgICAgICApO1xuICAgICAgICBjYi5zZXRBdHRyaWJ1dGUoJ24nLCBuQ29sLnRvU3RyaW5nKCkpO1xuICAgICAgICBjYi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICAgIGNiLnNldEF0dHJpYnV0ZSgnZmFjcycsICcjbS0nICsgdXVpZHY0KCkpO1xuICAgICAgICBuZXdMYXllci5hcHBlbmRDaGlsZChjYik7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHpvbmUgZm9yIHByZXZpb3VzIGNiXG4gICAgICAgIGlmIChsYXN0Q2IpIHtcbiAgICAgICAgICBjYWxjdWxhdGVBbmRBZGRab25lKGxhc3RDYiwgY2IsIHN1cmZhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RDYiA9IGNiO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzYiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLFxuICAgICAgICAnc2InLFxuICAgICAgKTtcbiAgICAgIHNiLnNldEF0dHJpYnV0ZSgnbicsIG5TdGFmZi50b1N0cmluZygpKTtcbiAgICAgIHNiLnNldEF0dHJpYnV0ZSgnZmFjcycsIHN0YWZmLmdldEF0dHJpYnV0ZSgnZmFjcycpKTtcbiAgICAgIHNiLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgc3RhZmYuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSk7XG5cbiAgICAgIC8vIEhhbmRsZSBjdXN0b3NcbiAgICAgIGxldCBjdXN0b3M6IEVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoXG4gICAgICAgIG5ld0xheWVyLmxhc3RFbGVtZW50Q2hpbGQgIT09IG51bGwgJiZcbiAgICAgICAgbmV3TGF5ZXIubGFzdEVsZW1lbnRDaGlsZC50YWdOYW1lID09PSAnY3VzdG9zJ1xuICAgICAgKSB7XG4gICAgICAgIGN1c3RvcyA9IG5ld0xheWVyLnJlbW92ZUNoaWxkKG5ld0xheWVyLmxhc3RFbGVtZW50Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VzdG9zICE9PSB1bmRlZmluZWQpIG5ld0xheWVyLmFwcGVuZENoaWxkKGN1c3Rvcyk7XG4gICAgICBuZXdMYXllci5hcHBlbmRDaGlsZChzYik7XG5cbiAgICAgIC8vIEFkZCByZW1haW5pbmcgZWxlbWVudHMgb2YgbGF5ZXIgdG8gbmV3TGF5ZXJcbiAgICAgIHdoaWxlIChsYXllci5maXJzdEVsZW1lbnRDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICBuZXdMYXllci5hcHBlbmRDaGlsZChsYXllci5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICB9XG4gICAgICBuZW9uTmV1bWVMaW5lU2VjdGlvbi5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgYW5kIGFkZCB6b25lIGZvciB0aGUgbGFzdCBjYiBpbiB0aGUgc2VjdGlvblxuICAgIGlmIChsYXN0Q2IpIHtcbiAgICAgIGNhbGN1bGF0ZUFuZEFkZFpvbmUobGFzdENiLCBudWxsLCBzdXJmYWNlKTtcbiAgICB9XG4gICAgc2VjdGlvbi5hcHBlbmRDaGlsZChuZXdTdGFmZik7XG4gIH1cblxuICAvLyBBZGQgPGNvbExheW91dD5cbiAgaWYgKG5Db2wpIHtcbiAgICBjb25zdCBzY29yZURlZiA9IG1laS5xdWVyeVNlbGVjdG9yKCdzY29yZURlZicpO1xuICAgIGNvbnN0IGNvbExheW91dCA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJyxcbiAgICAgICdjb2xMYXlvdXQnLFxuICAgICk7XG4gICAgY29sTGF5b3V0LnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICBjb2xMYXlvdXQuc2V0QXR0cmlidXRlKCduJywgbkNvbC50b1N0cmluZygpKTtcbiAgICBzY29yZURlZi5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgY29sTGF5b3V0KTtcbiAgfVxuXG4gIHJldHVybiB2a2JlYXV0aWZ5LnhtbChzZXJpYWxpemVyLnNlcmlhbGl6ZVRvU3RyaW5nKG1laURvYykpO1xuXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUFuZEFkZFpvbmUoXG4gICAgc3RhcnRFbGVtZW50OiBFbGVtZW50LFxuICAgIGVuZEVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsLFxuICAgIHN1cmZhY2U6IEVsZW1lbnQsXG4gICkge1xuICAgIC8vIENvbGxlY3QgZWxlbWVudHMgYmV0d2VlbiBzdGFydENiIGFuZCBlbmRDYlxuICAgIGNvbnN0IGVsZW1lbnRzQmV0d2VlbiA9IGNvbGxlY3RBbGxFbGVtZW50c1dpdGhGYWNzKFxuICAgICAgc3RhcnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZyxcbiAgICAgIGVuZEVsZW1lbnQsXG4gICAgKTtcblxuICAgIC8vIENhbGN1bGF0ZSB6b25lIGF0dHJpYnV0ZXNcbiAgICBjb25zdCB6b25lID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLFxuICAgICAgJ3pvbmUnLFxuICAgICk7XG4gICAgY29uc3QgQkJveCA9IGNhbGN1bGF0ZUJCb3goZWxlbWVudHNCZXR3ZWVuLCBzdXJmYWNlKTtcbiAgICB6b25lLnNldEF0dHJpYnV0ZSgnbHJ4JywgQkJveC5scngudG9TdHJpbmcoKSk7XG4gICAgem9uZS5zZXRBdHRyaWJ1dGUoJ2xyeScsIEJCb3gubHJ5LnRvU3RyaW5nKCkpO1xuICAgIHpvbmUuc2V0QXR0cmlidXRlKCd1bHgnLCBCQm94LnVseC50b1N0cmluZygpKTtcbiAgICB6b25lLnNldEF0dHJpYnV0ZSgndWx5JywgQkJveC51bHkudG9TdHJpbmcoKSk7XG4gICAgem9uZS5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsIHN0YXJ0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2ZhY3MnKS5zbGljZSgxKSk7XG5cbiAgICAvLyBBZGQgem9uZSB0byB0aGUgYmVnaW5uaW5nIG9mIHN1cmZhY2UgY2hpbGRyZW5cbiAgICBzdXJmYWNlLmluc2VydEJlZm9yZSh6b25lLCBzdXJmYWNlLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbGxlY3RBbGxFbGVtZW50c1dpdGhGYWNzKFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgZW5kRWxlbWVudDogRWxlbWVudCxcbiAgICBlbGVtZW50c0JldHdlZW4gPSBbXSxcbiAgKSB7XG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudCAhPT0gZW5kRWxlbWVudCkge1xuICAgICAgLy8gUHVzaCBlbGVtZW50cyBvbmx5IGlmIGl0IGhhcyBmYWNzXG4gICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2ZhY3MnKSkgZWxlbWVudHNCZXR3ZWVuLnB1c2goZWxlbWVudCk7XG5cbiAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBlbGVtZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgY29sbGVjdEFsbEVsZW1lbnRzV2l0aEZhY3MoY2hpbGQsIGVuZEVsZW1lbnQsIGVsZW1lbnRzQmV0d2Vlbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgIGNvbGxlY3RBbGxFbGVtZW50c1dpdGhGYWNzKFxuICAgICAgICAgIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLFxuICAgICAgICAgIGVuZEVsZW1lbnQsXG4gICAgICAgICAgZWxlbWVudHNCZXR3ZWVuLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50c0JldHdlZW47XG4gIH1cblxuICBmdW5jdGlvbiBjYWxjdWxhdGVCQm94KGVsZW1lbnRzOiBFbGVtZW50W10sIHN1cmZhY2U6IEVsZW1lbnQpIHtcbiAgICBsZXQgbHJ4ID0gSW5maW5pdHk7XG4gICAgbGV0IGxyeSA9IDA7XG4gICAgbGV0IHVseCA9IDA7XG4gICAgbGV0IHVseSA9IEluZmluaXR5O1xuXG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgY29uc3Qgem9uZSA9IEFycmF5LmZyb20oc3VyZmFjZS5jaGlsZHJlbikuZmluZChcbiAgICAgICAgKHpvbmUpID0+XG4gICAgICAgICAgem9uZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpID09PSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZmFjcycpLnNsaWNlKDEpLFxuICAgICAgKTtcbiAgICAgIGxyeCA9IE1hdGgubWluKGxyeCwgcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ2xyeCcpKSk7XG4gICAgICBscnkgPSBNYXRoLm1heChscnksIHBhcnNlSW50KHpvbmUuZ2V0QXR0cmlidXRlKCdscnknKSkpO1xuICAgICAgdWx4ID0gTWF0aC5tYXgodWx4LCBwYXJzZUludCh6b25lLmdldEF0dHJpYnV0ZSgndWx4JykpKTtcbiAgICAgIHVseSA9IE1hdGgubWluKHVseSwgcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ3VseScpKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4geyBscngsIGxyeSwgdWx4LCB1bHkgfTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlOiBFbGVtZW50KTogc3RyaW5nIHtcbiAgY29uc3Qgc3lsID0gc3lsbGFibGUucXVlcnlTZWxlY3Rvcignc3lsJyk/LmNoaWxkTm9kZXNbMF07XG4gIGxldCBzeWxUZXh0OiBzdHJpbmc7XG4gIGlmIChzeWwpIHtcbiAgICBzeWxUZXh0ID0gc3lsLm5vZGVWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBzeWxUZXh0ID0gJ+KXiic7XG4gIH1cblxuICByZXR1cm4gc3lsVGV4dDtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB6b25lIGlzIGFsbC16ZXJvLCBoYXMgbmVnYXRpdmUgY29vcmRpbmF0ZXMsIG9yIG5vdCBsaW5rZWQgd2l0aCBnbHlwaHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW52YWxpZEJCb3goXG4gIG1laTogSFRNTEVsZW1lbnQsXG4gIHpvbmU6IEVsZW1lbnQsXG4pOiBbYm9vbGVhbiwgRWxlbWVudD9dIHtcbiAgY29uc3QgbHJ4ID0gcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ2xyeCcpKTtcbiAgY29uc3QgbHJ5ID0gcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ2xyeScpKTtcbiAgY29uc3QgdWx4ID0gcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ3VseCcpKTtcbiAgY29uc3QgdWx5ID0gcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ3VseScpKTtcblxuICBjb25zdCBpc0FsbFplcm8gPSBscnggPT09IDAgJiYgbHJ5ID09PSAwICYmIHVseCA9PT0gMCAmJiB1bHkgPT09IDA7XG4gIGNvbnN0IGhhc05lZ2F0aXZlQ29vcmRpbmF0ZXMgPSBscnggPCAwIHx8IGxyeSA8IDAgfHwgdWx4IDwgMCB8fCB1bHkgPCAwO1xuXG4gIGNvbnN0IGVsZW1lbnQgPSBtZWkucXVlcnlTZWxlY3RvcihcbiAgICBgKltmYWNzPVwiJHsnIycgKyB6b25lLmdldEF0dHJpYnV0ZSgneG1sOmlkJyl9XCJdYCxcbiAgKTtcbiAgaWYgKGlzQWxsWmVybyB8fCBoYXNOZWdhdGl2ZUNvb3JkaW5hdGVzIHx8ICFlbGVtZW50KSByZXR1cm4gW3RydWUsIGVsZW1lbnRdO1xuICByZXR1cm4gW2ZhbHNlXTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHNiIHRvIHN0YWZmIGZvciB2ZXJvdmlvXG4gKiBBbHNvIGRvIGhldXJpc3RpYyBjaGVja3M6XG4gKiAgICAxLiBpbnZhbGlkIHpvbmVzXG4gKiAgICAyLiBuZXVtZSB3aXRob3V0IG5ldW1lIGNvbXBvbmVudFxuICogICAgMy4gc3lsbGFibGUgd2l0aG91dCBuZXVtZVxuICogICAgNC4gbGlua2VkIHN5bGxhYmxlcyBub3QgbGlua2VkXG4gKiAgICA1LiBpbmNvbXBsZXRlIGxpbmtlZCBzeWxsYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvVmVyb3ZpbyhzYkJhc2VkTWVpOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc2JCYXNlZE1laSwgJ3RleHQveG1sJyk7XG4gIGNvbnN0IG1laSA9IG1laURvYy5kb2N1bWVudEVsZW1lbnQ7XG4gIGxldCBoYXNDb2xzID0gZmFsc2U7XG5cbiAgY29uc3QgZmFjc2ltaWxlID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ2ZhY3NpbWlsZScpO1xuICBmYWNzaW1pbGUuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RyYW5zY3JpcHRpb24nKTtcblxuICAvLyBSZW1vdmUgYWxsLXplcm8gem9uZXNcbiAgLy8gUmVtb3ZlIHpvbmVzIG5vdCBsaW5rZWQgd2l0aCBnbHlwaHNcbiAgY29uc3Qgc3VyZmFjZSA9IG1laS5xdWVyeVNlbGVjdG9yKCdzdXJmYWNlJyk7XG4gIGxldCBoYXNJbnZhbGlkQkJveCA9IGZhbHNlO1xuICBjb25zdCB6b25lcyA9IEFycmF5LmZyb20oc3VyZmFjZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnem9uZScpKTtcbiAgbGV0IGludmFsaWRab25lc0luZm8gPSAnVGhlIGZvbGxvd2luZyB6b25lcyBhcmUgaW52YWxpZDogXFxuXFxuJztcbiAgZm9yIChjb25zdCB6b25lIG9mIHpvbmVzKSB7XG4gICAgY29uc3QgW2lzSW52YWxpZCwgZWxlbWVudF0gPSBpc0ludmFsaWRCQm94KG1laSwgem9uZSk7XG4gICAgaWYgKGlzSW52YWxpZCkge1xuICAgICAgaGFzSW52YWxpZEJCb3ggPSB0cnVlO1xuICAgICAgaW52YWxpZFpvbmVzSW5mbyArPSBgLSBab25lIHdpdGggeG1sOmlkOiAke3pvbmUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKX0gYDtcblxuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgaW52YWxpZFpvbmVzSW5mbyArPSBgZm9yICZsdDske1xuICAgICAgICAgIGVsZW1lbnQudGFnTmFtZVxuICAgICAgICB9Jmd0OyB3aXRoIHhtbDppZDogJHtlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJyl9XFxuYDtcbiAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW52YWxpZFpvbmVzSW5mbyArPSAnaXMgbm90IGxpbmtlZCB3aXRoIGFueSBnbHlwaHNcXG4nO1xuICAgICAgfVxuICAgICAgem9uZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHpvbmUpO1xuICAgIH1cbiAgfVxuICBpZiAoaGFzSW52YWxpZEJCb3gpIHtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAnUmVtb3ZlZCBpbnZhbGlkIHpvbmVzIGNvbnRhaW5lZCBpbiB0aGlzIGZpbGUnLFxuICAgICAgJ3dhcm5pbmcnLFxuICAgICAgaW52YWxpZFpvbmVzSW5mbyxcbiAgICApO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgPGNvbExheW91dD4gZWxlbWVudCBhbmQgcmVtb3ZlIHRoZW1cbiAgLy8gVGhlcmUgd2lsbCBvbmx5IGJlIG9uZSA8Y29sTGF5b3V0PiBlbGVtZW50XG4gIGNvbnN0IGNvbExheW91dCA9IG1laS5xdWVyeVNlbGVjdG9yKCdjb2xMYXlvdXQnKTtcbiAgaWYgKGNvbExheW91dCkge1xuICAgIGhhc0NvbHMgPSB0cnVlO1xuICAgIGNvbExheW91dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbExheW91dCk7XG4gIH1cblxuICAvLyBDaGVjayBzeWxsYWJsZSB3aXRob3V0IG5ldW1lXG4gIC8vIENoZWNrIGRpdkxpbmUgaW5zaWRlIGVtcHR5IHN5bGxhYmxlXG4gIC8vIENoZWNrIGFjY2lkIGluc2lkZSBlbXB0eSBzeWxsYWJsZVxuICBjb25zdCBzeWxsYWJsZXMgPSBBcnJheS5mcm9tKG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3lsbGFibGUnKSk7XG4gIGxldCBoYXNFbXB0eVN5bGxhYmxlID0gZmFsc2U7XG4gIGxldCBoYXNFbXB0eU5ldW1lID0gZmFsc2U7XG4gIGxldCBoYXNJbnZhbGlkRGl2TGluZSA9IGZhbHNlO1xuICBsZXQgaW52YWxpZERpdkxpbmVJbmZvID1cbiAgICAnVGhlIGZvbGxvd2luZyBkaXZMaW5lKHMpIGFyZSB0aGUgb25seSBlbGVtZW50IGluc2lkZSB0aGUgc3lsbGFibGUocyk6IFxcblxcbic7XG4gIGxldCBoYXNJbnZhbGlkQWNjaWQgPSBmYWxzZTtcbiAgbGV0IGludmFsaWRBY2NpZEluZm8gPVxuICAgICdUaGUgZm9sbG93aW5nIGFjY2lkKHMpIGFyZSB0aGUgb25seSBlbGVtZW50IGluc2lkZSB0aGUgc3lsbGFibGUocyk6IFxcblxcbic7XG4gIGxldCBlbXB0eVN5bGxhYmxlSW5mbyA9ICdUaGUgZm9sbG93aW5nIHN5bGxhYmxlKHMpIGhhdmUgbm8gbmV1bWVzOiBcXG5cXG4nO1xuICBsZXQgZW1wdHlOZXVtZUluZm8gPSAnVGhlIGZvbGxvd2luZyBuZXVtZShzKSBoYXZlIG5vIG5ldW1lIGNvbXBvbmVudHM6IFxcblxcbic7XG4gIGZvciAoY29uc3Qgc3lsbGFibGUgb2Ygc3lsbGFibGVzKSB7XG4gICAgaWYgKHN5bGxhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCduZXVtZScpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaGFzRW1wdHlTeWxsYWJsZSA9IHRydWU7XG4gICAgICBlbXB0eVN5bGxhYmxlSW5mbyArPSBgLSAmbHQ7JHtcbiAgICAgICAgc3lsbGFibGUudGFnTmFtZVxuICAgICAgfSZndDsgd2l0aCB4bWw6aWQ6ICR7c3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKX1cXG5gO1xuICAgICAgaWYgKHN5bGxhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXZMaW5lJykubGVuZ3RoID4gMCkge1xuICAgICAgICBoYXNJbnZhbGlkRGl2TGluZSA9IHRydWU7XG4gICAgICAgIGludmFsaWREaXZMaW5lSW5mbyArPSBgLSAmbHQ7ZGl2TGluZSZndDsgaW5zaWRlICZsdDtzeWxsYWJsZSZndDsgd2l0aCB4bWw6aWQ6ICR7c3lsbGFibGUuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICd4bWw6aWQnLFxuICAgICAgICApfVxcbmA7XG4gICAgICB9XG4gICAgICBpZiAoc3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2FjY2lkJykubGVuZ3RoID4gMCkge1xuICAgICAgICBoYXNJbnZhbGlkQWNjaWQgPSB0cnVlO1xuICAgICAgICBpbnZhbGlkQWNjaWRJbmZvICs9IGAtICZsdDthY2NpZCZndDsgaW5zaWRlICZsdDtzeWxsYWJsZSZndDsgd2l0aCB4bWw6aWQ6ICR7c3lsbGFibGUuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICd4bWw6aWQnLFxuICAgICAgICApfVxcbmA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgbmV1bWUgd2l0aG91dCBuZXVtZSBjb21wb25lbnRcbiAgICBjb25zdCBuZXVtZXMgPSBzeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmV1bWUnKTtcbiAgICBmb3IgKGNvbnN0IG5ldW1lIG9mIG5ldW1lcykge1xuICAgICAgY29uc3QgbmNzID0gQXJyYXkuZnJvbShuZXVtZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmMnKSk7XG4gICAgICBpZiAobmNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBoYXNFbXB0eU5ldW1lID0gdHJ1ZTtcbiAgICAgICAgZW1wdHlOZXVtZUluZm8gKz0gYC0gJmx0OyR7XG4gICAgICAgICAgbmV1bWUudGFnTmFtZVxuICAgICAgICB9Jmd0OyB3aXRoIHhtbDppZDogJHtuZXVtZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfVxcbmA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUbyBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmU6XG4gICAgICAgIC8vIElmIG5jIGhhcyBhIEBjdXJ2ZSB2YWx1ZSwgYWRkIGEgPGxpcXVlc2NlbnQ+IGVsZW1lbnRcbiAgICAgICAgZm9yIChjb25zdCBuYyBvZiBuY3MpIHtcbiAgICAgICAgICBpZiAobmMuaGFzQXR0cmlidXRlKCdjdXJ2ZScpICYmIG5jLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgbGlxID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAgICAgICAgICdsaXF1ZXNjZW50JyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsaXEuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgICAgICAgbmMuYXBwZW5kQ2hpbGQobGlxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaGFzRW1wdHlTeWxsYWJsZSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGlzIGZpbGUgY29udGFpbnMgc3lsbGFibGUocykgd2l0aG91dCBuZXVtZSEnLFxuICAgICAgJ3dhcm5pbmcnLFxuICAgICAgZW1wdHlTeWxsYWJsZUluZm8sXG4gICAgKTtcbiAgfVxuICBpZiAoaGFzRW1wdHlOZXVtZSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGlzIGZpbGUgY29udGFpbnMgbmV1bWUocykgd2l0aG91dCBuZXVtZSBjb21wb25lbnQhJyxcbiAgICAgICd3YXJuaW5nJyxcbiAgICAgIGVtcHR5TmV1bWVJbmZvLFxuICAgICk7XG4gIH1cbiAgaWYgKGhhc0ludmFsaWREaXZMaW5lKSB7XG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgJ1RoaXMgZmlsZSBjb250YWlucyBkaXZMaW5lKHMpIGluc2lkZSBlbXB0eSBzeWxsYWJsZShzKSEnLFxuICAgICAgJ3dhcm5pbmcnLFxuICAgICAgaW52YWxpZERpdkxpbmVJbmZvLFxuICAgICk7XG4gIH1cbiAgaWYgKGhhc0ludmFsaWRBY2NpZCkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGlzIGZpbGUgY29udGFpbnMgYWNjaWQocykgaW5zaWRlIGVtcHR5IHN5bGxhYmxlKHMpIScsXG4gICAgICAnd2FybmluZycsXG4gICAgICBpbnZhbGlkQWNjaWRJbmZvLFxuICAgICk7XG4gIH1cblxuICAvLyBHbyBzZWN0aW9uIGJ5IHNlY3Rpb24ganVzdCBpbiBjYXNlXG4gIGNvbnN0IHNlY3Rpb25zID0gQXJyYXkuZnJvbShtZWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NlY3Rpb24nKSk7XG4gIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBzZWN0aW9ucykge1xuICAgIC8vIEluIGNhc2UgdGhlcmUgYXJlIG11bHRpcGxlIHN0YXZlcyBoZXJlIHdlIHdhbnQgdG8gcHJlc2VydmUgdGhvc2VcbiAgICAvLyBBIHNlcGFyYXRlIGFycmF5IGlzIG5lY2Vzc2FyeSBhcyB0aGUgSFRNTENvbGxlY3Rpb24gd2lsbCB1cGRhdGUhXG4gICAgY29uc3Qgb3JpZ2luYWxTdGF2ZXMgPSBBcnJheS5mcm9tKHNlY3Rpb24uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0YWZmJykpO1xuICAgIGZvciAoY29uc3Qgc3RhZmYgb2Ygb3JpZ2luYWxTdGF2ZXMpIHtcbiAgICAgIC8vIEFkZCBhIHBiIHdpdGggYSBmYWNzIHBvaW50aW5nIHRvIHRoZSBzdXJmYWNlXG4gICAgICBjb25zdCBuZXdQYiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLFxuICAgICAgICAncGInLFxuICAgICAgKTtcbiAgICAgIG5ld1BiLnNldEF0dHJpYnV0ZSgnZmFjcycsICcjJyArIHN1cmZhY2UuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSk7XG4gICAgICBzZWN0aW9uLmluc2VydEJlZm9yZShuZXdQYiwgc3RhZmYpO1xuXG4gICAgICBjb25zdCBsYXllciA9IHN0YWZmLnF1ZXJ5U2VsZWN0b3IoJ2xheWVyJyk7XG4gICAgICAvLyBGaXJzdCBwYXNzOiBnZXQgYWxsIHNiIGVsZW1lbnRzIGFzIGRpcmVjdCBjaGlsZHJlbiBvZiBsYXllclxuICAgICAgY29uc3Qgc2JBcnJheSA9IEFycmF5LmZyb20obGF5ZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NiJykpO1xuICAgICAgLy8gQ2hlY2sgaWYgYW55IHN5bGxhYmxlcyBoYXZlIHNiIGluc2lkZSAobGlua2VkIHN5bGxhYmxlcylcbiAgICAgIC8vIEtlZXAgdGhpcyBjaGVjayBmb3IgZmlsZXMgbm90IHByb2R1Y2VkIGJ5IFJvZGFuXG4gICAgICBmb3IgKGNvbnN0IHNiIG9mIHNiQXJyYXkpIHtcbiAgICAgICAgaWYgKHNiLnBhcmVudEVsZW1lbnQudGFnTmFtZSAhPT0gJ2xheWVyJykge1xuICAgICAgICAgIGNvbnN0IG9yaWdTeWxsYWJsZTogRWxlbWVudCA9IHNiLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgbGV0IG5ldW1lQmVoaW5kID0gZmFsc2UsXG4gICAgICAgICAgICBuZXVtZUFoZWFkID0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgY2hpbGRBcnJheSA9IEFycmF5LmZyb20ob3JpZ1N5bGxhYmxlLmNoaWxkcmVuKTtcbiAgICAgICAgICBjb25zdCBzYkluZGV4ID0gY2hpbGRBcnJheS5pbmRleE9mKHNiKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IG5ldW1lIG9mIG9yaWdTeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmV1bWUnKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kID0gY2hpbGRBcnJheS5pbmRleE9mKG5ldW1lKTtcbiAgICAgICAgICAgIGlmIChpbmQgPCBzYkluZGV4KSB7XG4gICAgICAgICAgICAgIG5ldW1lQmVoaW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kID4gc2JJbmRleCkge1xuICAgICAgICAgICAgICBuZXVtZUFoZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBNYXJrIGlmIGEgbmV3IHN0YWZmIGJlZ2lucyBiZWZvcmUgdGhlIGN1cnJlbnQgc3lsbGFibGUsIGFmdGVyIGl0LCBvciBpbiB0aGUgbWlkZGxlIG9mIGl0XG4gICAgICAgICAgLy8gSWYgaW4gdGhlIG1pZGRsZSwgbGluayBzeWxsYWJsZXNcbiAgICAgICAgICBpZiAoIW5ldW1lQmVoaW5kICYmIG5ldW1lQWhlYWQpIHtcbiAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgc2IpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV1bWVCZWhpbmQgJiYgIW5ldW1lQWhlYWQpIHtcbiAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgc2IpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV1bWVCZWhpbmQgJiYgbmV1bWVBaGVhZCkge1xuICAgICAgICAgICAgLy8gV2UgbWF5IG5lZWQgdG8gc3BsaXQgdGhlIHN5bGxhYmxlIGhlcmVcbiAgICAgICAgICAgIGNvbnN0IG5ld1N5bGxhYmxlID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAgICAgICAgICdzeWxsYWJsZScsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbmV3U3lsbGFibGUuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgICAgICAgbmV3U3lsbGFibGUuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAnZm9sbG93cycsXG4gICAgICAgICAgICAgICcjJyArIG9yaWdTeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICdwcmVjZWRlcycsXG4gICAgICAgICAgICAgICcjJyArIG5ld1N5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBzYkluZGV4ID0gY2hpbGRBcnJheS5pbmRleE9mKHNiKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZEFycmF5KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2hpbGRBcnJheS5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgICAgICAgaWYgKGluZGV4ID4gc2JJbmRleCkge1xuICAgICAgICAgICAgICAgIG5ld1N5bGxhYmxlLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcmlnU3lsbGFibGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIHNiKTtcbiAgICAgICAgICAgIHNiLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBuZXdTeWxsYWJsZSk7XG5cbiAgICAgICAgICAgIC8vIE1vdmUgYW55IGN1c3RvcyBpbiBvcmlnU3lsbGFibGUgb3V0IG9mIGl0XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN1c3RvcyBvZiBvcmlnU3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2N1c3RvcycpKSB7XG4gICAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgY3VzdG9zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTW92ZSBhbnkgY2xlZiBpbiBuZXdTeWxsYWJsZSBvdXQgb2YgaXRcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2xlZiBvZiBuZXdTeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2xlZicpKSB7XG4gICAgICAgICAgICAgIG5ld1N5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBjbGVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdOT05FIEJFSElORCBOT05FIEFIRUFEJyk7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKG9yaWdTeWxsYWJsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNicyA9IEFycmF5LmZyb20obGF5ZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NiJykpO1xuICAgICAgY29uc3QgbGF5ZXJDaGlsZHJlbiA9IEFycmF5LmZyb20obGF5ZXIuY2hpbGRyZW4pO1xuICAgICAgbGV0IG5Db2wgPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNiID0gc2JzW2ldO1xuICAgICAgICBjb25zdCBuZXh0U2IgPSBzYnMubGVuZ3RoID4gaSArIDEgPyBzYnNbaSArIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IG5ld1NiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJyxcbiAgICAgICAgICAnc2InLFxuICAgICAgICApO1xuICAgICAgICBuZXdTYi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICAgIG5ld1NiLnNldEF0dHJpYnV0ZSgnZmFjcycsIGN1cnJlbnRTYi5nZXRBdHRyaWJ1dGUoJ2ZhY3MnKSk7XG5cbiAgICAgICAgY29uc3QgbmV3U2VjdGlvbiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAgICAgJ3NlY3Rpb24nLFxuICAgICAgICApO1xuICAgICAgICBuZXdTZWN0aW9uLnNldEF0dHJpYnV0ZSgndHlwZScsICduZW9uLW5ldW1lLWxpbmUnKTtcblxuICAgICAgICBjb25zdCBuZXdTdGFmZiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAgICAgJ3N0YWZmJyxcbiAgICAgICAgKTtcbiAgICAgICAgY29weUF0dHJpYnV0ZXMoY3VycmVudFNiLCBuZXdTdGFmZik7XG4gICAgICAgIG5ld1N0YWZmLnNldEF0dHJpYnV0ZSgnbicsICcxJyk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJZHggPSBsYXllckNoaWxkcmVuLmluZGV4T2YoY3VycmVudFNiKTtcbiAgICAgICAgaWYgKGhhc0NvbHMpIHtcbiAgICAgICAgICBpZiAobGF5ZXJDaGlsZHJlbi5hdChjdXJyZW50SWR4IC0gMSkudGFnTmFtZSA9PT0gJ2NiJykge1xuICAgICAgICAgICAgbkNvbCArPSAxO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGNiIGVsZW1lbnQgYW5kIGl0cyB6b25lXG4gICAgICAgICAgICBjb25zdCBjYiA9IGxheWVyQ2hpbGRyZW4uYXQoY3VycmVudElkeCAtIDEpO1xuICAgICAgICAgICAgY29uc3QgY2JGYWNzID0gY2IuZ2V0QXR0cmlidXRlKCdmYWNzJyk7XG4gICAgICAgICAgICBjb25zdCBjYlpvbmUgPSBBcnJheS5mcm9tKHN1cmZhY2UucXVlcnlTZWxlY3RvckFsbCgnem9uZScpKS5maW5kKFxuICAgICAgICAgICAgICAoem9uZSkgPT4gem9uZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpID09PSBjYkZhY3Muc2xpY2UoMSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY2IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjYik7XG4gICAgICAgICAgICBjYlpvbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjYlpvbmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdTdGFmZi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY29sdW1uJyArIG5Db2wudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdMYXllciA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAgICAgJ2xheWVyJyxcbiAgICAgICAgKTtcbiAgICAgICAgbmV3TGF5ZXIuc2V0QXR0cmlidXRlKCduJywgJzEnKTtcbiAgICAgICAgbmV3TGF5ZXIuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgICBuZXdTZWN0aW9uLmFwcGVuZENoaWxkKG5ld1N0YWZmKTtcbiAgICAgICAgbmV3U3RhZmYuYXBwZW5kQ2hpbGQobmV3TGF5ZXIpO1xuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuQXJyYXkgPSBBcnJheS5mcm9tKGxheWVyLmNoaWxkcmVuKTtcbiAgICAgICAgY29uc3QgY29weUFycmF5ID0gY2hpbGRyZW5BcnJheS5zbGljZShcbiAgICAgICAgICBjaGlsZHJlbkFycmF5LmluZGV4T2YoY3VycmVudFNiKSArIDEsXG4gICAgICAgICAgY2hpbGRyZW5BcnJheS5pbmRleE9mKG5leHRTYiksXG4gICAgICAgICk7XG5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjb3B5QXJyYXkpIHtcbiAgICAgICAgICBuZXdMYXllci5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdGhlIHpvbmVzIGZvciB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBvcmlnaW5hbCBmaWxlXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIGxhc3QgZWxlbWVudCBpcyBub3QgaW5jbHVkZWRcbiAgICAgICAgaWYgKCFuZXh0U2IpIHtcbiAgICAgICAgICBjb25zdCBsYXN0RWxlbWVudCA9IGNoaWxkcmVuQXJyYXkuYXQoLTEpO1xuICAgICAgICAgIGNvbnN0IGZhY3NDaGlsZHJlbiA9IGNvbGxlY3RGYWNzQ2hpbGRyZW4obGFzdEVsZW1lbnQsIFtdKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGZhY3NDaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3Qgem9uZSA9IHpvbmVzLmZpbmQoXG4gICAgICAgICAgICAgICh6KSA9PlxuICAgICAgICAgICAgICAgIHouZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PSBjaGlsZC5nZXRBdHRyaWJ1dGUoJ2ZhY3MnKS5zbGljZSgxKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoem9uZSAmJiB6b25lcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIHpvbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh6b25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZWN0aW9uLmluc2VydEJlZm9yZShuZXdTYiwgc3RhZmYpO1xuICAgICAgICBzZWN0aW9uLmluc2VydEJlZm9yZShuZXdTZWN0aW9uLCBzdGFmZik7XG4gICAgICB9XG4gICAgICBzdGFmZi5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICAvLyBTZWNvbmQgcGFzcyBvbiBhbGwgc3lsbGFibGVzIHRvIGhhbmRsZSBjbGVmcyBhbmQgY3VzdG9zIHRoYXQgbWlnaHQgcmVtYWluXG4gIGNvbnN0IG5ld1N5bGxhYmxlcyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzeWxsYWJsZScpKTtcbiAgbGV0IGludmFsaWRMaW5rZWQgPSBmYWxzZTtcbiAgbGV0IGludmFsaWRMaW5rZWRJbmZvID1cbiAgICAnVGhlIGZvbGxvd2luZyBsaW5rZWQgc3lsbGFibGVzIGFyZSBub3QgZW5jb2RlZCBjb3JyZWN0bHk6IFxcblxcbic7XG4gIGxldCBpbnZhbGlkT2JsaXF1ZSA9IGZhbHNlO1xuICBsZXQgaW52YWxpZE9ibGlxdWVJbmZvID0gJ1RoZSBmb2xsb3dpbmcgb2JsaXF1ZXMgYXJlIGluY29tcGxldGU6IFxcblxcbic7XG4gIGZvciAoY29uc3Qgc3lsbGFibGUgb2YgbWVpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N5bGxhYmxlJykpIHtcbiAgICBmb3IgKGNvbnN0IGNsZWYgb2Ygc3lsbGFibGUucXVlcnlTZWxlY3RvckFsbCgnY2xlZicpKSB7XG4gICAgICBzeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgY2xlZik7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY3VzdG9zIG9mIHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2N1c3RvcycpKSB7XG4gICAgICBzeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgY3VzdG9zKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpbmNvbXBsZXRlIG9ibGlxdWVzXG4gICAgLy8gT2JsaXF1ZXMgYWx3YXlzIGNvbWUgYXMgYSBwYWlyXG4gICAgY29uc3Qgb2JsaXF1ZUluZm8gPSBjaGVja09ibGlxdWUoc3lsbGFibGUpO1xuICAgIGlmIChvYmxpcXVlSW5mbykge1xuICAgICAgaW52YWxpZE9ibGlxdWUgPSB0cnVlO1xuICAgICAgaW52YWxpZE9ibGlxdWVJbmZvICs9IG9ibGlxdWVJbmZvO1xuICAgIH1cblxuICAgIC8vIENoZWNrIHN5bGxhYmxlcyB0aGF0IGNvbnRhaW5zIEBwcmVjZWRlcyBvciBAZm9sbG93c1xuICAgIC8vIFVwZGF0ZSBzeWxsYWJsZSBhcnJheXMgZm9yIGVhY2ggc3lsbGFibGVcbiAgICBjb25zdCBzeWxsYWJsZUlkeCA9IG5ld1N5bGxhYmxlcy5pbmRleE9mKHN5bGxhYmxlKTtcblxuICAgIC8vIFZhbGlkYXRlIHRvZ2dsZS1saW5rZWQgc3lsbGFibGVcbiAgICAvLyBDaGVjayB0aGUgcHJlY2VkZXMgc3lsbGFibGVcbiAgICBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdwcmVjZWRlcycpKSB7XG4gICAgICBjb25zdCBpbmZvID0gY2hlY2tQcmVjZWRlc1N5bGxhYmxlKHN5bGxhYmxlLCBzeWxsYWJsZUlkeCwgbmV3U3lsbGFibGVzKTtcbiAgICAgIGlmIChpbmZvKSB7XG4gICAgICAgIGludmFsaWRMaW5rZWQgPSB0cnVlO1xuICAgICAgICBpbnZhbGlkTGlua2VkSW5mbyArPSBpbmZvO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBDaGVjayB0aGUgZm9sbG93cyBzeWxsYWJsZVxuICAgIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSkge1xuICAgICAgY29uc3QgaW5mbyA9IGNoZWNrRm9sbG93c1N5bGxhYmxlKHN5bGxhYmxlLCBuZXdTeWxsYWJsZXMpO1xuICAgICAgaWYgKGluZm8pIHtcbiAgICAgICAgaW52YWxpZExpbmtlZCA9IHRydWU7XG4gICAgICAgIGludmFsaWRMaW5rZWRJbmZvICs9IGluZm87XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChpbnZhbGlkT2JsaXF1ZSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGlzIGZpbGUgY29udGFpbnMgaW5jb21wbGV0ZSBvYmxpcXVlKHMpJyxcbiAgICAgICdlcnJvcicsXG4gICAgICBpbnZhbGlkT2JsaXF1ZUluZm8sXG4gICAgKTtcbiAgfVxuICBpZiAoaW52YWxpZExpbmtlZCkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGlzIGZpbGUgY29udGFpbnMgaW52YWxpZCBsaW5rZWQgc3lsbGFibGUocyknLFxuICAgICAgJ2Vycm9yJyxcbiAgICAgIGludmFsaWRMaW5rZWRJbmZvLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgcmV0dXJuIHZrYmVhdXRpZnkueG1sKHNlcmlhbGl6ZXIuc2VyaWFsaXplVG9TdHJpbmcobWVpRG9jKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja091dE9mQm91bmRzR2x5cGhzKG1laVN0cmluZzogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gIC8vIENoZWNrIGZvciBvdXQtb2YtYm91bmQgZ2x5cGhzXG4gIGNvbnN0IHpvbmVzID0gQXJyYXkuZnJvbShtZWkucXVlcnlTZWxlY3RvckFsbCgnem9uZScpKTtcbiAgY29uc3QgZGltZW5zaW9ucyA9IG1laS5xdWVyeVNlbGVjdG9yKCdzdXJmYWNlJyk7XG4gIGNvbnN0IG1laUxyeCA9IE51bWJlcihkaW1lbnNpb25zLmdldEF0dHJpYnV0ZSgnbHJ4JykpLFxuICAgIG1laUxyeSA9IE51bWJlcihkaW1lbnNpb25zLmdldEF0dHJpYnV0ZSgnbHJ5JykpO1xuXG4gIGZ1bmN0aW9uIGlzQXR0ck91dE9mQm91bmRzKHpvbmU6IEVsZW1lbnQsIGF0dHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNvb3JkID0gTnVtYmVyKHpvbmUuZ2V0QXR0cmlidXRlKGF0dHIpKTtcbiAgICBjb25zdCBjb21wID0gYXR0ciA9PSAnbHJ4JyB8fCBhdHRyID09ICd1bHgnID8gbWVpTHJ4IDogbWVpTHJ5O1xuICAgIHJldHVybiBjb29yZCA8IDAgfHwgY29vcmQgPiBjb21wO1xuICB9XG5cbiAgbGV0IGluZm8gPSAnVGhlIGZvbGxvd2luZyBnbHlwaHMgYXJlIG91dCBvZiBib3VuZHM6IFxcblxcbic7XG5cbiAgY29uc3QgaGFzT3V0T2ZCb3VuZHMgPSB6b25lcy5zb21lKCh6b25lKSA9PiB7XG4gICAgY29uc3QgaXNPdXRPZkJvdW5kcyA9IFsndWx4JywgJ3VseScsICdscngnLCAnbHJ5J10uc29tZSgoYXR0cikgPT5cbiAgICAgIGlzQXR0ck91dE9mQm91bmRzKHpvbmUsIGF0dHIpLFxuICAgICk7XG4gICAgaWYgKGlzT3V0T2ZCb3VuZHMpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBtZWkucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYCpbZmFjcz1cIiR7JyMnICsgem9uZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfVwiXWAsXG4gICAgICApO1xuICAgICAgaW5mbyArPSBgLSAmbHQ7JHtlbGVtZW50LnRhZ05hbWV9Jmd0OyB3aXRoIHhtbDppZDogJHtlbGVtZW50LmdldEF0dHJpYnV0ZShcbiAgICAgICAgJ3htbDppZCcsXG4gICAgICApfVxcbmA7XG4gICAgfVxuICAgIHJldHVybiBpc091dE9mQm91bmRzO1xuICB9KTtcblxuICBpZiAoaGFzT3V0T2ZCb3VuZHMpIHtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAnVGhpcyBmb2xpbyBjb250YWlucyBnbHlwaChzKSBwbGFjZWQgb3V0LW9mLWJvdW5kcyEnLFxuICAgICAgJ3dhcm5pbmcnLFxuICAgICAgaW5mbyxcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrUHJlY2VkZXNTeWxsYWJsZShcbiAgc3lsbGFibGU6IEVsZW1lbnQsXG4gIGlkeDogbnVtYmVyLFxuICBzeWxsYWJsZXM6IEVsZW1lbnRbXSxcbik6IHN0cmluZyB7XG4gIC8vIEdldCB4bWw6aWQgb2YgdGhlIG5leHQgc3lsbGFibGUgKHdpdGhvdXQgdGhlICMsIGlmIGl0IGV4aXN0cylcbiAgY29uc3QgbmV4dFN5bGxhYmxlSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJykucmVwbGFjZSgnIycsICcnKTtcblxuICAvLyBGaW5kIHRoZSBuZXh0IHN5bGxhYmxlIGFuZCBpdHMgaW5kZXggaW4gdGhlIGFycmF5XG4gIGxldCBuZXh0U3lsbGFibGVJZHg6IG51bWJlcjtcbiAgY29uc3QgbmV4dFN5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoKGVsZW1lbnQsIGlkeCkgPT4ge1xuICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IG5leHRTeWxsYWJsZUlkKSB7XG4gICAgICBuZXh0U3lsbGFibGVJZHggPSBpZHg7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG4gIC8vIENvbmRpdGlvbiAxOiBUaGUgbmV4dCAoZm9sbG93aW5nKSBzeWxsYWJsZSBjYW5ub3QgYmUgZm91bmRcbiAgaWYgKCFuZXh0U3lsbGFibGUpIHtcbiAgICByZXR1cm4gYC0gJmx0OyR7c3lsbGFibGUudGFnTmFtZX0mZ3Q7ICgke2dldFN5bGxhYmxlVGV4dChcbiAgICAgIHN5bGxhYmxlLFxuICAgICl9KSB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoXG4gICAgICAneG1sOmlkJyxcbiAgICApfSBpcyBtaXNzaW5nIHRoZSBmb2xsb3dpbmcgcGFydFxcbmA7XG4gIH1cblxuICAvLyBDb25kaXRpb24gMjogVGhlIG5leHQgc3lsbGFibGUgaGFzIGJlZW4gZm91bmQsIGJ1dCB0aGUgQGZvbGxvd3MgYXR0cmlidXRlIGRvZXMgTk9UIEVYSVNUXG4gIGlmICghbmV4dFN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnZm9sbG93cycpKSB7XG4gICAgcmV0dXJuIGAtIFRoZSBmb2xsb3dpbmcgc3lsbGFibGUgb2YgJmx0OyR7XG4gICAgICBzeWxsYWJsZS50YWdOYW1lXG4gICAgfSZndDsgKCR7Z2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKX0pIHdpdGggeG1sOmlkOiAke3N5bGxhYmxlLmdldEF0dHJpYnV0ZShcbiAgICAgICd4bWw6aWQnLFxuICAgICl9IGlzIG5vdCBsaW5rZWQgdG8gYW55IHN5bGxhYmxlXFxuYDtcbiAgfVxuXG4gIC8vIENvbmRpdGlvbiAzOiBUaGUgbmV4dCBzeWxsYWJsZSdzIEBmb2xsb3dzIGF0dHJpYnV0ZSBleGlzdHMsIGJ1dCBpdCBpcyBub3QgaW4gdGhlIGNvcnJlY3QgZm9ybWF0ICNpZFxuICBpZiAoXG4gICAgbmV4dFN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpICE9XG4gICAgJyMnICsgc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKVxuICApIHtcbiAgICByZXR1cm4gYC0gVGhlIGZvbGxvd2luZyBzeWxsYWJsZSBvZiAmbHQ7JHtcbiAgICAgIHN5bGxhYmxlLnRhZ05hbWVcbiAgICB9Jmd0OyAoJHtnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpfSkgd2l0aCB4bWw6aWQ6ICR7c3lsbGFibGUuZ2V0QXR0cmlidXRlKFxuICAgICAgJ3htbDppZCcsXG4gICAgKX0gaXMgbGlua2VkIHRvIHRoZSB3cm9uZyBzeWxsYWJsZVxcbmA7XG4gIH1cblxuICAvLyBDb25kaXRpb24gNDpcbiAgLy8gU2luY2UgdGhlIEBmb2xsb3dzIHZhbHVlIGlzIGNvcnJlY3QsIGEgcGFpciBvZiBzeWxsYWJsZXMgZXhpc3QgZm9yIHRoZSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlLlxuICAvLyBDaGVjayBpZiB0aGUgQGZvbGxvd3Mgc3lsbGFibGUgaXMgdGhlIG5leHQgc3lsbGFibGUgKGluZGV4LXdpc2UpIGluIHRoZSBhcnJheTpcbiAgaWYgKG5leHRTeWxsYWJsZUlkeCAhPT0gaWR4ICsgMSkge1xuICAgIGNvbnN0IHN5bFRleHQgPSBnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpO1xuICAgIGNvbnN0IHVuZXhwZWN0ZWRTeWxzVGV4dCA9IHN5bGxhYmxlc1xuICAgICAgLnNsaWNlKGlkeCArIDEsIG5leHRTeWxsYWJsZUlkeClcbiAgICAgIC5tYXAoKHN5bGxhYmxlKSA9PiBnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpKTtcblxuICAgIGNvbnN0IHN5bHNUZXh0ID0gW3N5bFRleHQsIC4uLnVuZXhwZWN0ZWRTeWxzVGV4dF0uam9pbignIC0gJyk7XG4gICAgcmV0dXJuIGAtIFVuZXhwZWN0ZWQgc3lsbGFibGUocykgaW5zaWRlIHRvZ2dsZS1saW5rZWQgJmx0OyR7XG4gICAgICBzeWxsYWJsZS50YWdOYW1lXG4gICAgfSZndDsgKCR7c3lsc1RleHR9KSB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoXG4gICAgICAneG1sOmlkJyxcbiAgICApfSBpcyBsaW5rZWQgdG8gdGhlIHdyb25nIHN5bGxhYmxlXFxuYDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0ZvbGxvd3NTeWxsYWJsZShzeWxsYWJsZTogRWxlbWVudCwgc3lsbGFibGVzOiBFbGVtZW50W10pOiBzdHJpbmcge1xuICBjb25zdCBwcmV2U3lsbGFibGVJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpLnJlcGxhY2UoJyMnLCAnJyk7XG4gIGNvbnN0IHByZXZTeWxsYWJsZSA9IHN5bGxhYmxlcy5maW5kKFxuICAgIChzeWxsYWJsZSkgPT4gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT0gcHJldlN5bGxhYmxlSWQsXG4gICk7XG5cbiAgLy8gQ29uZGl0aW9uIDE6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSBkb2VzIG5vdCBleGlzdFxuICBpZiAoIXByZXZTeWxsYWJsZSkge1xuICAgIHJldHVybiBgLSAmbHQ7JHtzeWxsYWJsZS50YWdOYW1lfSZndDsgKCR7Z2V0U3lsbGFibGVUZXh0KFxuICAgICAgc3lsbGFibGUsXG4gICAgKX0pIHdpdGggeG1sOmlkOiAke3N5bGxhYmxlLmdldEF0dHJpYnV0ZShcbiAgICAgICd4bWw6aWQnLFxuICAgICl9IGlzIG1pc3NpbmcgdGhlIHByZWNlZGluZyBwYXJ0XFxuYDtcbiAgfVxuXG4gIC8vIENvbmRpdGlvbiAyOiBUaGUgcHJldmlvdXMgc3lsbGFibGUgZXhpc3RzLCBidXQgdGhlIEBwcmVjZWRlcyBhdHRyaWJ1dGUgZG9lcyBOT1QgRVhJU1RcbiAgaWYgKCFwcmV2U3lsbGFibGUuaGFzQXR0cmlidXRlKCdwcmVjZWRlcycpKSB7XG4gICAgcmV0dXJuIGAtIFRoZSBwcmVjZWRpbmcgc3lsbGFibGUgb2YgJmx0OyR7XG4gICAgICBzeWxsYWJsZS50YWdOYW1lXG4gICAgfSZndDsgKCR7Z2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKX0pIHdpdGggeG1sOmlkOiAke3N5bGxhYmxlLmdldEF0dHJpYnV0ZShcbiAgICAgICd4bWw6aWQnLFxuICAgICl9IGlzIG5vdCBsaW5rZWQgdG8gYW55IHN5bGxhYmxlXFxuYDtcbiAgfVxuXG4gIC8vIENvbmRpdGlvbiAzOiBUaGUgcHJldmlvdXMgc3lsbGFibGUncyBAcHJlY2VkZXMgYXR0cmlidXRlIGV4aXN0cywgYnV0IGl0IGlzIG5vdCBpbiB0aGUgY29ycmVjdCBmb3JtYXQgI2lkXG4gIGlmIChcbiAgICBwcmV2U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdwcmVjZWRlcycpICE9XG4gICAgJyMnICsgc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKVxuICApIHtcbiAgICByZXR1cm4gYC0gVGhlIHByZWNlZGluZyBzeWxsYWJsZSBvZiAmbHQ7JHtcbiAgICAgIHN5bGxhYmxlLnRhZ05hbWVcbiAgICB9Jmd0OyAoJHtnZXRTeWxsYWJsZVRleHQoXG4gICAgICBwcmV2U3lsbGFibGUsXG4gICAgKX0pIHdpdGggeG1sOmlkOiAke3N5bGxhYmxlLmdldEF0dHJpYnV0ZShcbiAgICAgICd4bWw6aWQnLFxuICAgICl9IGlzIGxpbmtlZCB0byB0aGUgd3Jvbmcgc3lsbGFibGVcXG5gO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrT2JsaXF1ZShzeWxsYWJsZTogRWxlbWVudCk6IHN0cmluZyB7XG4gIGNvbnN0IG5jcyA9IHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ25jJyk7XG4gIGxldCBuY0lkeCA9IDA7XG4gIGxldCBpbmZvID0gJyc7XG4gIHdoaWxlIChuY0lkeCA8IG5jcy5sZW5ndGgpIHtcbiAgICBpZiAobmNzW25jSWR4XS5nZXRBdHRyaWJ1dGUoJ2xpZ2F0ZWQnKSkge1xuICAgICAgaWYgKFxuICAgICAgICAobmNJZHggPCBuY3MubGVuZ3RoIC0gMSAmJiAhbmNzW25jSWR4ICsgMV0uZ2V0QXR0cmlidXRlKCdsaWdhdGVkJykpIHx8XG4gICAgICAgIG5jSWR4ID09IG5jcy5sZW5ndGggLSAxXG4gICAgICApIHtcbiAgICAgICAgLy8gSWYgbmMgaXMgbGlnYXRlZCwgYW5kIHRoZSBuZXh0IG5jIGlzIG5vdFxuICAgICAgICAvLyBPciwgbmMgaXMgbGlnYXRlZCwgYnV0IGFscmVhZHkgYXQgdGhlIGVuZCAodGhlcmUgaXMgbm8gbmV4dClcbiAgICAgICAgaW5mbyArPSBgLSBUaGUgb2JsaXF1ZSBpbiBzeWxsYWJsZSAoJHtnZXRTeWxsYWJsZVRleHQoXG4gICAgICAgICAgc3lsbGFibGUsXG4gICAgICAgICl9KSB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfVxcbmA7XG4gICAgICB9XG4gICAgICBuY0lkeCArPSAyO1xuICAgIH1cbiAgICBuY0lkeCArPSAxO1xuICB9XG5cbiAgcmV0dXJuIGluZm87XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDb2x1bW5MYWJlbChtZWk6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWksICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWlGb3JWYWxpZGF0aW9uID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcblxuICBmb3IgKGNvbnN0IHN0YWZmIG9mIEFycmF5LmZyb20oXG4gICAgbWVpRm9yVmFsaWRhdGlvbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3RhZmYnKSxcbiAgKSkge1xuICAgIGlmIChzdGFmZi5oYXNBdHRyaWJ1dGUoJ3R5cGUnKSkge1xuICAgICAgc3RhZmYucmVtb3ZlQXR0cmlidXRlKCd0eXBlJyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XG4gIHJldHVybiB2a2JlYXV0aWZ5LnhtbChzZXJpYWxpemVyLnNlcmlhbGl6ZVRvU3RyaW5nKG1laUZvclZhbGlkYXRpb24pKTtcbn1cblxuZnVuY3Rpb24gY29sbGVjdEZhY3NDaGlsZHJlbihlbGVtZW50OiBFbGVtZW50LCBhcnJheTogRWxlbWVudFtdKTogRWxlbWVudFtdIHtcbiAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdmYWNzJykpIGFycmF5LnB1c2goZWxlbWVudCk7XG4gIGZvciAoY29uc3QgY2hpbGQgb2YgZWxlbWVudC5jaGlsZHJlbikge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNhbGwgdGhlIGZ1bmN0aW9uIGZvciBjaGlsZCdzIGNoaWxkcmVuXG4gICAgY29sbGVjdEZhY3NDaGlsZHJlbihjaGlsZCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCB7IE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4vdXRpbHMvTW9kYWxXaW5kb3cnO1xuXG5jb25zdCBzY2hlbWFSZXNwb25zZSA9IGZldGNoKF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL21laS1hbGwucm5nJyk7XG5sZXQgd29ya2VyOiBXb3JrZXIsIHNjaGVtYTogc3RyaW5nLCB2ZXJzaW9uRmllbGQ6IEhUTUxTcGFuRWxlbWVudCwgc3RhdHVzRmllbGQ6IEhUTUxTcGFuRWxlbWVudDtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIFVJIHdpdGggdGhlIHZhbGlkYXRpb24gcmVzdWx0cy4gQ2FsbGVkIHdoZW4gdGhlIFdlYldvcmtlciBmaW5pc2hlcyB2YWxpZGF0aW5nLlxuICovXG5mdW5jdGlvbiB1cGRhdGVTdGF0dXNVSSAobWVzc2FnZTogeyBkYXRhOiBzdHJpbmdbXSB9KTogdm9pZCB7XG4gIGNvbnN0IGVycm9ycyA9IG1lc3NhZ2UuZGF0YTtcbiAgaWYgKGVycm9ycyA9PT0gbnVsbCkge1xuICAgIHN0YXR1c0ZpZWxkLnRleHRDb250ZW50ID0gJ1ZBTElEJztcbiAgICBzdGF0dXNGaWVsZC5zdHlsZS5jb2xvciA9ICcjNGJjMTRiJztcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHN0YXR1c0ZpZWxkLmNoaWxkcmVuKSB7XG4gICAgICBjaGlsZC5yZW1vdmUoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IGxvZyA9ICcnO1xuICAgIGVycm9ycy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgbG9nICs9IGxpbmUgKyAnXFxuJztcbiAgICB9KTtcbiAgICBzdGF0dXNGaWVsZC50ZXh0Q29udGVudCA9ICcnO1xuICAgIHN0YXR1c0ZpZWxkLnN0eWxlLmNvbG9yID0gJ3JlZCc7XG4gICAgLy8gQ3JlYXRlIGEgbmV3IGRpdiBmb3IgZWFzaWVyIGxvZyBpbXBsZW1lbnRhdGlvblxuICAgIGNvbnN0IHN0YXR1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIC8vbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQobG9nKX1gKTtcbiAgICAvL2xpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICd2YWxpZGF0aW9uLmxvZycpO1xuICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICdJTlZBTElEJztcbiAgICBzdGF0dXMuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgIHN0YXR1c0ZpZWxkLmFwcGVuZENoaWxkKHN0YXR1cyk7XG5cbiAgICBzdGF0dXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGF0dXNPbkNsaWNrLmJpbmQodGhpcywgbG9nKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlVmVyc2lvblVJICh2ZXJzaW9uOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKCF2ZXJzaW9uKSB7XG4gICAgcmV0dXJuO1xuICB9IFxuXG4gIHN3aXRjaCAodmVyc2lvbikge1xuICAgIGNhc2UgJ3Vua25vd24nOlxuICAgICAgdmVyc2lvbkZpZWxkLnRleHRDb250ZW50ID0gdmVyc2lvbjtcbiAgICAgIHZlcnNpb25GaWVsZC5zdHlsZS5jb2xvciA9ICdncmF5JztcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHZlcnNpb25GaWVsZC50ZXh0Q29udGVudCA9IHZlcnNpb247XG4gICAgICB2ZXJzaW9uRmllbGQuc3R5bGUuY29sb3IgPSAnIzY4QTdBRCc7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhdHVzT25DbGljayhsb2c6IHN0cmluZykge1xuICB0aGlzLm1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuRVJST1JfTE9HLCBsb2cpO1xuICB0aGlzLm1vZGFsLm9wZW5Nb2RhbFdpbmRvdygpO1xufVxuXG4vKipcbiAqIEFkZCB0aGUgdmFsaWRhdGlvbiBpbmZvcm1hdGlvbiB0byB0aGUgZGlzcGxheSBhbmQgY3JlYXRlIHRoZSBXZWJXb3JrZXJcbiAqIGZvciB2YWxpZGF0aW9uIE1FSS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXQgKG5lb25WaWV3OiBOZW9uVmlldyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBmaWxlU3RhdHVzRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUtc3RhdHVzJyk7XG4gIGlmIChmaWxlU3RhdHVzRGl2ICE9PSBudWxsKSB7XG4gICAgY29uc3QgbWVpVmVyc2lvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWlfdmVyc2lvbicpO1xuICAgIG1laVZlcnNpb24udGV4dENvbnRlbnQgPSAndW5rbm93bic7XG4gICAgdmVyc2lvbkZpZWxkID0gbWVpVmVyc2lvbjtcblxuICAgIGNvbnN0IG1laVN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YWxpZGF0aW9uX3N0YXR1cycpO1xuICAgIG1laVN0YXR1cy50ZXh0Q29udGVudCA9ICd1bmtub3duJztcbiAgICBzdGF0dXNGaWVsZCA9IG1laVN0YXR1cztcbiAgICB3b3JrZXIgPSBuZXcgV29ya2VyKF9fQVNTRVRfUFJFRklYX18gKyAnd29ya2Vycy9Xb3JrZXIuanMnKTtcbiAgICB3b3JrZXIub25tZXNzYWdlID0gdXBkYXRlU3RhdHVzVUkuYmluZChuZW9uVmlldyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kIHRoZSBjb250ZW50cyBvZiBhbiBNRUkgZmlsZSB0byB0aGUgV2ViV29ya2VyIGZvciB2YWxpZGF0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IG1laURhdGFcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRGb3JWYWxpZGF0aW9uIChtZWlEYXRhOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKHN0YXR1c0ZpZWxkID09PSB1bmRlZmluZWQgfHwgdmVyc2lvbkZpZWxkID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHNjaGVtYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzY2hlbWFSZXNwb25zZTtcbiAgICBzY2hlbWEgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIH1cbiAgc3RhdHVzRmllbGQudGV4dENvbnRlbnQgPSAnY2hlY2tpbmcuLi4nO1xuICBzdGF0dXNGaWVsZC5zdHlsZS5jb2xvciA9ICdncmF5JztcbiAgd29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICBtZWk6IG1laURhdGEsXG4gICAgc2NoZW1hOiBzY2hlbWFcbiAgfSk7XG5cbiAgdmVyc2lvbkZpZWxkLnRleHRDb250ZW50ID0gJ2NoZWNraW5nLi4uJztcbiAgdmVyc2lvbkZpZWxkLnN0eWxlLmNvbG9yID0gJ2dyYXknO1xuICBjb25zdCBtZWlWZXJzaW9uID0gYXdhaXQgZ2V0TWVpVmVyc2lvbihtZWlEYXRhKTtcbiAgdXBkYXRlVmVyc2lvblVJKG1laVZlcnNpb24pO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgbWVzc2FnZSBvbiBhIGJsYW5rIHBhZ2Ugd2hlbiB0aGVyZSBpcyBubyBNRUkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBibGFua1BhZ2UgKCk6IHZvaWQge1xuICBpZiAoc3RhdHVzRmllbGQgPT09IHVuZGVmaW5lZCB8fCB2ZXJzaW9uRmllbGQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgZm9yIChjb25zdCBjaGlsZCBvZiBzdGF0dXNGaWVsZC5jaGlsZHJlbikge1xuICAgIGNoaWxkLnJlbW92ZSgpO1xuICB9XG4gIHN0YXR1c0ZpZWxkLnRleHRDb250ZW50ID0gJ05vIE1FSSc7XG4gIHN0YXR1c0ZpZWxkLnN0eWxlLmNvbG9yID0gJ2NvbG9yOmdyYXknO1xuXG4gIHZlcnNpb25GaWVsZC50ZXh0Q29udGVudCA9ICdObyBNRUknO1xuICB2ZXJzaW9uRmllbGQuc3R5bGUuY29sb3IgPSAnY29sb3I6Z3JheSc7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldE1laVZlcnNpb24obWVpRGF0YTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1laURhdGEsICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuICBcbiAgY29uc3QgbWVpVmVyc2lvbiA9IG1laS5nZXRBdHRyaWJ1dGUoJ21laXZlcnNpb24nKTtcbiAgaWYgKG1laVZlcnNpb24pIHtcbiAgICByZXR1cm4gbWVpVmVyc2lvbjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJ3Vua25vd24nO1xuICB9XG59IiwiXG4vLyBJbml0aWFsIHNhdmVkIHN0YXR1c1xubGV0IHNhdmVkID0gdHJ1ZTtcblxuXG4vKipcbiAqIFVwZGF0ZSBzdGF0dXMgb2Ygc2F2ZWQgc3RhdHVzIGluZGljYXRvclxuICovXG5mdW5jdGlvbiB1cGRhdGVJbmRpY2F0b3IgKCk6IHZvaWQge1xuICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignI2ZpbGUtc2F2ZWQnKTtcbiAgY29uc3QgcGF0aCA9IHNhdmVkPyBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2F2ZWQtaWNvbi5zdmdgIDogYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Vuc2F2ZWQtaWNvbi5zdmdgO1xuICBpbmRpY2F0b3Iuc2V0QXR0cmlidXRlKCdzcmMnLCBwYXRoKTtcbiAgLy8gc2V0IHRoZSBhbHQgYXR0cmlidXRlIG1lc3NhZ2UgZGVwZW5kaW5nIG9uIHdoZXRoZXIgbGF0ZXN0IGNoYW5nZXMgYXJlIHNhdmUgb3Igbm90XG4gIGNvbnN0IGFsdE1lc3NhZ2UgPSBzYXZlZD8gXCJZb3VyIHdvcmsgaXMgc2F2ZWRcIiA6IFwiWW91IGhhdmUgdW5zYXZlZCB3b3JrXCI7XG4gIGluZGljYXRvci5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGFsdE1lc3NhZ2UpO1xufVxuXG5cbi8qKlxuICogU2V0IHRoZSBzYXZlZCBzdGF0dXMgb2YgdGhlIGZvbGlvXG4gKiBcbiAqIEBwYXJhbSBzdGF0dXMgYm9vbGVhbiB2YWx1ZS4gdHJ1ZSBpZiBzdGF0dXMgaXMgXCJzYXZlZFwiLCBmYWxzZSBpZiBcIm5vdCBzYXZlZFwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTYXZlZFN0YXR1cyAoc3RhdHVzOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgc2F2ZWQgPSBzdGF0dXM7XG4gIHVwZGF0ZUluZGljYXRvcigpO1xufVxuXG5cbi8qKlxuICogRnVuY3Rpb24gdGhhdCBkZWZpbmVzIGV2ZW50IGxpc3RlbmVyIHRoYXQgY2hlY2tzIGZvciB1bnNhdmVkIGNoYW5nZXMgb24gcGFnZSByZWxvYWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlblVuc2F2ZWRDaGFuZ2VzICgpOiB2b2lkIHtcbiAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gKGU6IEJlZm9yZVVubG9hZEV2ZW50KSA9PiB7XG4gICAgaWYgKCFzYXZlZCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuICdZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMhJztcbiAgICB9XG4gIH07XG59IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrXG4gKiB0byBgY29uc29sZS5sb2dgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMubG9nID0gY29uc29sZS5kZWJ1ZyB8fCBjb25zb2xlLmxvZyB8fCAoKCkgPT4ge30pO1xuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cblxuXHQvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cdGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuXHRcdHIgPSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxuXG5cdHJldHVybiByO1xufVxuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcblx0dHJ5IHtcblx0XHQvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG5cdFx0Ly8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG5cbmNvbnN0IHtmb3JtYXR0ZXJzfSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcblx0fVxufTtcbiIsIi8qKiBAbW9kdWxlIFNxdWFyZUVkaXQvQ29udHJvbHMgKi9cblxuaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgeyBzZXRHcm91cGluZ0hpZ2hsaWdodCB9IGZyb20gJy4uL3V0aWxzL0NvbG9yJztcbmltcG9ydCB7IHVuc2VsZWN0IH0gZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0IEluc2VydEhhbmRsZXIgZnJvbSAnLi9JbnNlcnRIYW5kbGVyJztcbmltcG9ydCB7IGdldFNldHRpbmdzLCBzZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgSW5zZXJ0VGFiVHlwZSwgSW5zZXJ0VHlwZSB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqXG4gKiBCaW5kIGxpc3RlbmVycyB0byBpbnNlcnQgdGFicy4nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kSW5zZXJ0VGFicyAoaW5zZXJ0SGFuZGxlcjogSW5zZXJ0SGFuZGxlcik6IHZvaWQge1xuICBjb25zdCBpbnNlcnRUYWJzOiBFbGVtZW50W10gPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydFRhYicpKTtcbiAgY29uc3QgdGFiSWRzOiBzdHJpbmdbXSA9IGluc2VydFRhYnMubWFwKCh0YWIpID0+IHsgcmV0dXJuIHRhYi5pZDsgfSk7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChldnQuY29kZS5tYXRjaCgvXkRpZ2l0XFxkJC8pICYmIGV2dC5zaGlmdEtleSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBOdW1iZXIoZXZ0LmNvZGVbZXZ0LmNvZGUubGVuZ3RoIC0gMV0pIC0gMTtcbiAgICAgICAgY29uc3QgaW5zZXJ0T3B0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gaW5zZXJ0T3B0aW9uc1tpbmRleF07XG4gICAgICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+IHNlbGVjdGVkT3B0aW9uKS5jbGljaygpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdGFiSWRzLmZvckVhY2goKHRhYikgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBkZWFjdGl2YXRlKCcuaW5zZXJ0VGFiJyk7XG4gICAgICBhY3RpdmF0ZSh0YWIsIGluc2VydEhhbmRsZXIpO1xuICAgICAgc2V0U2V0dGluZ3MoeyBpbnNlcnRUYWI6IHRhYiBhcyBJbnNlcnRUYWJUeXBlIH0pO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9kYXRhJykuaW5uZXJIVE1MID0gQ29udGVudHMuaW5zZXJ0VGFiSHRtbFt0YWJdO1xuICAgICAgYmluZEVsZW1lbnRzKGluc2VydEhhbmRsZXIpO1xuICAgICAgZGVhY3RpdmF0ZSgnLmluc2VydGVsJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGluc2VydE1vZGUgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgICAgIGFjdGl2YXRlKGluc2VydE1vZGUsIGluc2VydEhhbmRsZXIpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zdCBmaXJzdE9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJylbMF07XG4gICAgICAgIGFjdGl2YXRlKGZpcnN0T3B0aW9uLmlkLCBpbnNlcnRIYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBFZGl0IGFuZCBJbnNlcnQgY29udHJvbCBwYW5lbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0SW5zZXJ0RWRpdENvbnRyb2xzICgpOiB2b2lkIHtcblxuICBjb25zdCBpbnNlcnRQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRfY29udHJvbHMnKTtcbiAgY29uc3QgaW5zZXJ0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRNZW51Jyk7XG4gIGNvbnN0IGluc2VydEhlYWRpbmdUaXRsZSA9IGluc2VydEhlYWRpbmcucXVlcnlTZWxlY3RvcignLnBhbmVsLWhlYWRpbmctdGl0bGUnKTtcbiAgY29uc3QgaW5zZXJ0Q29udGVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0Q29udGVudHMnKTtcbiAgY29uc3QgaW5zZXJ0RHJvcGRvd25JY29uID0gaW5zZXJ0SGVhZGluZy5xdWVyeVNlbGVjdG9yKCdzdmcgPiB1c2UnKTtcblxuICBjb25zdCBlZGl0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdF9jb250cm9scycpO1xuICBjb25zdCBlZGl0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TWVudScpO1xuICBjb25zdCBkaXNwbGF5SGVhZGluZ1RpdGxlID0gZWRpdEhlYWRpbmcucXVlcnlTZWxlY3RvcignLnBhbmVsLWhlYWRpbmctdGl0bGUnKTtcbiAgY29uc3QgZWRpdENvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDb250ZW50cycpO1xuICBjb25zdCBlZGl0RHJvcGRvd25JY29uID0gZWRpdEhlYWRpbmcucXVlcnlTZWxlY3Rvcignc3ZnID4gdXNlJyk7XG5cblxuICAvLyBldmVudCBsaXN0ZW5lciBmb3Igd2hlbiB1c2VyIGNsaWNrcyBpbnNpZGUgSW5zZXJ0IHBhbmVsXG4gIC8vIGluc2VydCBtb2RlIGlzIGFjdGl2YXRlZFxuICBpbnNlcnRQYW5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkaXNwbGF5SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzZWQnKTtcbiAgICBpbnNlcnRIZWFkaW5nVGl0bGUuY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xuXG4gICAgc2V0U2V0dGluZ3MoeyB1c2VyTW9kZTogJ2luc2VydCcgfSk7XG5cbiAgICAoPEhUTUxCdXR0b25FbGVtZW50PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5zZXJ0ZWwuaXMtYWN0aXZlJykpLmNsaWNrKCk7XG4gICAgZWRpdFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5zZWwtYnkuaXMtYWN0aXZlJykuY2xhc3NMaXN0LmFkZCgndW5mb2N1c2VkJyk7XG4gICAgaW5zZXJ0UGFuZWwucXVlcnlTZWxlY3RvcignLnNpZGUtcGFuZWwtYnRuLmluc2VydGVsLmlzLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3VuZm9jdXNlZCcpO1xuICB9KTtcblxuICAvLyBldmVudCBsaXN0ZW5lciBmb3Igd2hlbiB1c2VyIGNsaWNrcyBpbnNpZGUgRWRpdCBwYW5lbFxuICAvLyBlZGl0IG1vZGUgaXMgYWN0aXZhdGVkXG4gIGVkaXRQYW5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpbnNlcnRIZWFkaW5nVGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXNlZCcpO1xuICAgIGRpc3BsYXlIZWFkaW5nVGl0bGUuY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xuICAgIFxuICAgIHNldFNldHRpbmdzKHsgdXNlck1vZGU6ICdlZGl0JyB9KTtcblxuICAgIGluc2VydFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5pbnNlcnRlbC5pcy1hY3RpdmUnKS5jbGFzc0xpc3QuYWRkKCd1bmZvY3VzZWQnKTtcbiAgICBlZGl0UGFuZWwucXVlcnlTZWxlY3RvcignLnNpZGUtcGFuZWwtYnRuLnNlbC1ieS5pcy1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd1bmZvY3VzZWQnKTtcbiAgfSk7XG5cblxuICBpbnNlcnRIZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGluc2VydCBwYW5lbCBpcyBjbG9zZWQsIG9wZW4gaXRcbiAgICBpZiAoaW5zZXJ0Q29udGVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZWQnKSkge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYW4gb3BlbiBwYW5lbFxuICAgICAgaW5zZXJ0Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBpbnNlcnRDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzAuNWVtIDAuNzVlbSc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaW5zZXJ0Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICB9LCAyMDApO1xuICAgICAgaW5zZXJ0RHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH0gXG4gICAgLy8gaWYgaW5zZXJ0IHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgZWxzZSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhIGNsb3NlZCBwYW5lbFxuICAgICAgaW5zZXJ0Q29udGVudHMuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgICBpbnNlcnRDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGluc2VydENvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBpbnNlcnREcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1zaWRlYCk7XG4gICAgfVxuICB9KTtcblxuICBlZGl0SGVhZGluZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBpZiBlZGl0IHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgaWYgKGVkaXRDb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhbiBvcGVuIHBhbmVsXG4gICAgICBlZGl0Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBlZGl0Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGVkaXRDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBlZGl0RHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH1cbiAgICAvLyBpZiBlZGl0IHBhbmVsIGlzIGNsb3NlZCwgb3BlbiBpdFxuICAgIGVsc2Uge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYSBjbG9zZWQgcGFuZWxcbiAgICAgIGVkaXRDb250ZW50cy5jbGFzc0xpc3QuYWRkKCdjbG9zZWQnKTtcbiAgICAgIGVkaXRDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGVkaXRDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgZWRpdERyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLXNpZGVgKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEFjdGl2YXRlIGEgY2VydGFpbiBpbnNlcnQgYWN0aW9uLlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGZvciBhY3RpdmF0aW5nIGluc2VydCBQQU5FTFNcbiAqIGFuZCBpbnNlcnQgSUNPTlMgKHdoeXl5KS5cbiAqIEBwYXJhbSBpZCAtIFRoZSBJRCBvZiB0aGUgaW5zZXJ0IGFjdGlvbiB0YWIuXG4gKi9cbmZ1bmN0aW9uIGFjdGl2YXRlIChpZDogc3RyaW5nLCBpbnNlcnRIYW5kbGVyOiBJbnNlcnRIYW5kbGVyKTogdm9pZCB7XG4gIGNvbnN0IHNlbGVjdGVkVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICBzZWxlY3RlZFRhYi5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5jbGFzc0xpc3QuY29udGFpbnMoJ2luc2VydGVsJykpIHtcbiAgICBpbnNlcnRIYW5kbGVyLmluc2VydEFjdGl2ZShpZCk7XG4gICAgc2V0U2V0dGluZ3MoeyBpbnNlcnRNb2RlOiBpZCBhcyBJbnNlcnRUeXBlIH0pO1xuICB9XG59XG5cbi8qKlxuICogRGVhY3RpdmF0ZSBhIGNlcnRhaW4gaW5zZXJ0IGFjdGlvbi5cbiAqIEBwYXJhbSB0eXBlIC0gQSBDU1Mgc2VsZWN0b3IgZm9yIHRoZSBhY3Rpb24gdGFiLlxuICovXG5mdW5jdGlvbiBkZWFjdGl2YXRlICh0eXBlOiBzdHJpbmcpIHtcbiAgY29uc3QgZWxMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0eXBlKTtcbiAgZWxMaXN0LmZvckVhY2goZWwgPT4ge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3VuZm9jdXNlZCcpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBCaW5kIGxpc3RlbmVycyB0byBpbnNlcnQgdGFiIGVsZW1lbnRzLlxuICovXG5mdW5jdGlvbiBiaW5kRWxlbWVudHMgKGluc2VydEhhbmRsZXI6IEluc2VydEhhbmRsZXIpIHtcbiAgY29uc3QgaW5zZXJ0RWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJykpO1xuICBjb25zdCBlbGVtZW50SWRzID0gaW5zZXJ0RWxlbWVudHMubWFwKGVsID0+IGVsLmlkKTtcbiAgZWxlbWVudElkcy5mb3JFYWNoKGVsID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBkZWFjdGl2YXRlKCcuaW5zZXJ0ZWwnKTtcbiAgICAgIGFjdGl2YXRlKGVsLCBpbnNlcnRIYW5kbGVyKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVycyBvbiB0aGUgYnV0dG9ucyB0byBjaGFuZ2Ugc2VsZWN0aW9uIG1vZGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNlbGVjdGlvbkJ1dHRvbnMgKCk6IHZvaWQge1xuICBjb25zdCBzZWxCeVN5bGxhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3lsbGFibGUnKTtcbiAgY29uc3Qgc2VsQnlOZXVtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeU5ldW1lJyk7XG4gIGNvbnN0IHNlbEJ5TmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOYycpO1xuICBjb25zdCBzZWxCeVN0YWZmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKTtcbiAgY29uc3Qgc2VsQnlMYXllckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlMYXllckVsZW1lbnQnKTtcblxuICBzZWxCeVN5bGxhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlTeWxsYWJsZUhhbmRsZXIpO1xuICBzZWxCeU5ldW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlOZXVtZUhhbmRsZXIpO1xuICBzZWxCeU5jLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlOY0hhbmRsZXIpO1xuICBzZWxCeVN0YWZmLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlTdGFmZkhhbmRsZXIpO1xuICBzZWxCeUxheWVyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbEJ5TGF5ZXJFbGVtZW50SGFuZGxlcik7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnMScpIHNlbEJ5U3lsbGFibGUuY2xpY2soKTtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJzInKSBzZWxCeU5ldW1lLmNsaWNrKCk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICczJykgc2VsQnlOYy5jbGljaygpO1xuICAgIGlmIChldnQua2V5ID09PSAnNCcpIHNlbEJ5U3RhZmYuY2xpY2soKTtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJzUnKSBzZWxCeUxheWVyRWxlbWVudC5jbGljaygpO1xuICB9KTtcblxuXG4gIGZ1bmN0aW9uIHNlbGVjdEJ5U3lsbGFibGVIYW5kbGVyICgpIHtcbiAgICBpZiAoIXNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgc2V0U2V0dGluZ3MoeyBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlTeWxsYWJsZScgfSk7XG5cbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG5cbiAgICAgIHNlbEJ5TmV1bWUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTdGFmZi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuaWQgPT09ICdoaWdobGlnaHQtc2VsZWN0aW9uJykge1xuICAgICAgICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzeWxsYWJsZScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdEJ5TmV1bWVIYW5kbGVyICgpIHtcbiAgICBpZiAoIXNlbEJ5TmV1bWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgc2V0U2V0dGluZ3MoeyBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlOZXVtZScgfSk7XG5cbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbEJ5TmV1bWUuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3RhZmYuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeUxheWVyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnbmV1bWUnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RCeU5jSGFuZGxlciAoKSB7XG4gICAgaWYgKCFzZWxCeU5jLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIHNldFNldHRpbmdzKHsgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5TmMnIH0pO1xuXG4gICAgICB1bnNlbGVjdCgpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlOZXVtZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN0YWZmLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlMYXllckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZCA9PT0gJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKSB7XG4gICAgICAgICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoJ25ldW1lJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0QnlTdGFmZkhhbmRsZXIgKCkge1xuICAgIGlmICghc2VsQnlTdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICdzZWxCeVN0YWZmJyB9KTtcblxuICAgICAgdW5zZWxlY3QoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc2VsQnlTdGFmZi5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TmV1bWUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuaWQgPT09ICdoaWdobGlnaHQtc2VsZWN0aW9uJykge1xuICAgICAgICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzdGFmZicpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbEJ5TGF5ZXJFbGVtZW50SGFuZGxlciAoKSB7XG4gICAgaWYgKCFzZWxCeUxheWVyRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICdzZWxCeUxheWVyRWxlbWVudCcgfSk7XG5cbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlOZXVtZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TmMuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN0YWZmLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnbGF5ZXJFbGVtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uLCBJbnNlcnRBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBnZXRTVkdSZWxDb29yZHMsIGlzT3V0T2ZTVkdCb3VuZHMsIFBvaW50IH0gZnJvbSAnLi4vdXRpbHMvQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgc2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuLyoqXG4gKiBDbGFzcyB0aGF0IGhhbmRsZXMgaW5zZXJ0IG1vZGUsIGV2ZW50cywgYW5kIGFjdGlvbnMuXG4gKi9cbmNsYXNzIEluc2VydEhhbmRsZXIge1xuICB0eXBlOiBzdHJpbmc7XG4gIGZpcnN0Q2xpY2sgPSB0cnVlO1xuICBjb29yZDogUG9pbnQ7XG4gIGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIHNlbGVjdG9yOiBzdHJpbmc7XG4gIG5lb25WaWV3OiBOZW9uVmlldztcblxuICAvKipcbiAgICogQHBhcmFtIG5lb25WaWV3IC0gTmVvblZpZXcgcGFyZW50LlxuICAgKiBAcGFyYW0gc2VsIC0gVGhlIENTUyBzZWxlY3RvciB0byBhcHBseSBpbnNlcnQgbGlzdGVuZXJzIHRvLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgc2VsOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5zZWxlY3RvciA9IHNlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhbiBpbnNlcnQgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAqIFRyaWdnZXJzIHRoZSBzdGFydCBvZiBpbnNlcnQgbW9kZS5cbiAgICogQHBhcmFtIGJ1dHRvbklkIC0gVGhlIElEIG9mIHRoZSBidXR0b24gdGhhdCB3YXMgY2xpY2tlZC5cbiAgICovXG4gIGluc2VydEFjdGl2ZSAoYnV0dG9uSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGFscmVhZHlJbkluc2VydE1vZGUgPSB0aGlzLmlzSW5zZXJ0TW9kZSgpO1xuICAgIHN3aXRjaCAoYnV0dG9uSWQpIHtcbiAgICAgIGNhc2UgJ3B1bmN0dW0nOlxuICAgICAgICB0aGlzLnR5cGUgPSAnbmMnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RpYW1vbmQnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnbmMnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IHRpbHQ6ICdzZScgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aXJnYSc6XG4gICAgICAgIHRoaXMudHlwZSA9ICduYyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgdGlsdDogJ3MnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy90aGVyZSBhcmUgbXVsdGlwbGUgcG9zc2libGUgbGlxdWVzY2VudCBjb21iaW5hdGlvbnNcbiAgICAgIGNhc2UgJ2xpcXVlc2NlbnRBJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBjdXJ2ZTogJ2EnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGlxdWVzY2VudEMnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnbmMnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGN1cnZlOiAnYycgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aXJnYVJldmVyc2VkJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyB0aWx0OiAnbicgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwZXMnOlxuICAgICAgY2FzZSAnY2xpdmlzJzpcbiAgICAgIGNhc2UgJ3NjYW5kaWN1cyc6XG4gICAgICBjYXNlICdjbGltYWN1cyc6XG4gICAgICBjYXNlICd0b3JjdWx1cyc6XG4gICAgICBjYXNlICdwb3JyZWN0dXMnOlxuICAgICAgY2FzZSAncHJlc3N1cyc6XG4gICAgICAgIGNvbnN0IGNvbnRvdXIgPSB0aGlzLm5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoXG4gICAgICAgICAgYnV0dG9uSWQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBidXR0b25JZC5zbGljZSgxKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnR5cGUgPSAnZ3JvdXBpbmcnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGNvbnRvdXI6IGNvbnRvdXIgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjQ2xlZic6XG4gICAgICBjYXNlICdmQ2xlZic6XG4gICAgICAgIHRoaXMudHlwZSA9ICdjbGVmJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBzaGFwZTogYnV0dG9uSWQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjdXN0b3MnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnY3VzdG9zJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkaXZMaW5lTWF4aW1hJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ2RpdkxpbmUnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGZvcm06ICdtYXhpbWEnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RhZmYnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnc3RhZmYnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2ZsYXQnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnYWNjaWQnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGFjY2lkOiAnZicgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICduYXR1cmFsJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ2FjY2lkJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBhY2NpZDogJ24nIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy50eXBlID0gJyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgYnV0dG9uIGZvciBpbnNlcnRpb246ICcgKyBidXR0b25JZCArICcuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnJlbW92ZUluc2VydENsaWNrSGFuZGxlcnMoKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3N0YWZmJykge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpXG4gICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdGFmZkhhbmRsZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxuICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cblxuICAgIC8vIERpc2FibGUgZWRpdCBtb2RlIGxpc3RlbmVyc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEluc2VydEhhbmRsZXIpO1xuXG4gICAgLy8gQWRkICdyZXR1cm4gdG8gZWRpdCBtb2RlJyBidXR0b25cbiAgICBpZiAoIWFscmVhZHlJbkluc2VydE1vZGUpIHtcbiAgICAgIGNvbnN0IGVkaXRNb2RlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBlZGl0TW9kZUJ1dHRvbi5pZCA9ICdyZXR1cm5Ub0VkaXRNb2RlJztcbiAgICAgIGVkaXRNb2RlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NpZGUtcGFuZWwtYnRuJyk7XG4gICAgICBlZGl0TW9kZUJ1dHRvbi5pbm5lckhUTUwgPSAnUmV0dXJuIHRvIEVkaXQgTW9kZSc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVkbycpLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZWRpdE1vZGVCdXR0b24pO1xuICAgICAgZWRpdE1vZGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmluc2VydERpc2FibGVkKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvbnRlbnRzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgaW5zZXJ0IG1vZGUgYW5kIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMuXG4gICAqL1xuICBpbnNlcnREaXNhYmxlZCA9IChmdW5jdGlvbiBpbnNlcnREaXNhYmxlZCAoKTogdm9pZCB7XG4gICAgdGhpcy50eXBlID0gJyc7XG4gICAgdGhpcy5yZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzKCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SW5zZXJ0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICB0aGlzLmZpcnN0Q2xpY2sgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV0dXJuVG9FZGl0TW9kZScpLnJlbW92ZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGNvbnNvbGUuZGVidWcoZSk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5zZXJ0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0X2NvbnRyb2xzJyk7XG4gICAgY29uc3QgaW5zZXJ0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRNZW51Jyk7XG4gICAgY29uc3QgaW5zZXJ0SGVhZGluZ1RpdGxlID0gaW5zZXJ0SGVhZGluZy5xdWVyeVNlbGVjdG9yKCcucGFuZWwtaGVhZGluZy10aXRsZScpO1xuXG4gICAgY29uc3QgZWRpdFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRfY29udHJvbHMnKTtcbiAgICBjb25zdCBlZGl0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TWVudScpO1xuICAgIGNvbnN0IGRpc3BsYXlIZWFkaW5nVGl0bGUgPSBlZGl0SGVhZGluZy5xdWVyeVNlbGVjdG9yKCcucGFuZWwtaGVhZGluZy10aXRsZScpO1xuXG4gICAgaW5zZXJ0SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzZWQnKTtcbiAgICBkaXNwbGF5SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzZWQnKTtcblxuICAgIGluc2VydFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5pbnNlcnRlbC5pcy1hY3RpdmUnKS5jbGFzc0xpc3QuYWRkKCd1bmZvY3VzZWQnKTtcbiAgICBlZGl0UGFuZWwucXVlcnlTZWxlY3RvcignLnNpZGUtcGFuZWwtYnRuLnNlbC1ieS5pcy1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd1bmZvY3VzZWQnKTtcblxuICAgIHNldFNldHRpbmdzKHsgdXNlck1vZGU6ICdlZGl0JyB9KTtcbiAgICBcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciB0byBoYW5kbGUgYSB1c2VyIGNsaWNraW5nIGF3YXkgZnJvbSB0aGUgYWN0aXZlIHBhZ2VcbiAgICogY2F1c2luZyBpbnNlcnQgbW9kZSB0byBlbmQuXG4gICAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKGZ1bmN0aW9uIGNsaWNrYXdheUhhbmRsZXIgKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYWN0aXZlLXBhZ2UnKSA9PT0gbnVsbCAmJlxuICAgICAgdGFyZ2V0LmNsb3Nlc3QoJyNpbnNlcnRfY29udHJvbHMnKSA9PT0gbnVsbCAmJlxuICAgICAgdGFyZ2V0LmNsb3Nlc3QoJyNzdmdfZ3JvdXAnKSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5pbnNlcnREaXNhYmxlZCgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJyxcbiAgICAgICAgdGhpcy5zdGFmZkhhbmRsZXIpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJyxcbiAgICAgICAgdGhpcy5oYW5kbGVyKTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbiBpbnNlcnQgZXZlbnQgbGlzdGVuZXIgYWZ0ZXIgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgaXQuXG4gICAqL1xuICByZXNldEluc2VydEhhbmRsZXIgPSAoZnVuY3Rpb24gcmVzZXRJbnNlcnRIYW5kbGVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnR5cGUgPT09ICdzdGFmZicgP1xuICAgICAgICAgIHRoaXMuc3RhZmZIYW5kbGVyIDogdGhpcy5oYW5kbGVyKTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIExpc3RlbnMgdG8ga2V5IHByZXNzZXMgdG8gZWl0aGVyIGV4aXQgZWRpdCBtb2RlIChpZiBFc2NhcGUpIG9yXG4gICAqIHRlbXBvcmFyaWx5IHJlbW92ZSBpbnNlcnQgZXZlbnQgbGlzdGVuZXJzIChpZiBTaGlmdCkuXG4gICAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoZnVuY3Rpb24ga2V5ZG93bkxpc3RlbmVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuaW5zZXJ0RGlzYWJsZWQoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuc3RhZmZIYW5kbGVyKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlcik7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICB0aGlzLnJlbW92ZUluc2VydENsaWNrSGFuZGxlcnMoKTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIGNsaWNraW5nIHRvIGluc2VydCBhbnkgZWxlbWVudCBleGNlcHQgYSBzdGFmZi5cbiAgICovXG4gIGhhbmRsZXIgPSAoZnVuY3Rpb24gaGFuZGxlciAoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgLy8gSWYgdGhlIGN1cnNvciBpcyBvdXQgb2YgYm91bmRzLCBub3RoaW5nIHNob3VsZCBiZSBpbnNlcnRlZC5cbiAgICBjb25zdCBjdXJzb3IgPSBnZXRTVkdSZWxDb29yZHMoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcbiAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyhjdXJzb3IueCwgY3Vyc29yLnkpKVxuICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGggd2FzIHBsYWNlZCBvdXQgb2YgYm91bmRzISBJbnNlcnRpb24gZmFpbGVkLicsICdlcnJvcicpO1xuXG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBJbnNlcnRBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdpbnNlcnQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudFR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgc3RhZmZJZDogJ2F1dG8nLFxuICAgICAgICB1bHg6IGN1cnNvci54LFxuICAgICAgICB1bHk6IGN1cnNvci55LFxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hdHRyaWJ1dGVzICE9PSBudWxsKSB7XG4gICAgICBlZGl0b3JBY3Rpb24ucGFyYW0uYXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlcztcbiAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXNbJ3NoYXBlJ10gPT09ICdGJykge1xuICAgICAgICBlZGl0b3JBY3Rpb25bJ3BhcmFtJ11bJ3VseCddIC09IDUwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyKTtcbiAgICB9KTtcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciB0byBpbnNlcnQgYSBzdGFmZi5cbiAgICovXG4gIHN0YWZmSGFuZGxlciA9IChmdW5jdGlvbiBzdGFmZkhhbmRsZXIgKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGN1cnNvciA9IGdldFNWR1JlbENvb3JkcyhldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xuXG4gICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHMoY3Vyc29yLngsIGN1cnNvci55KSkge1xuICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdTdGFmZiBjYW5ub3QgYmUgcGxhY2VkIG91dCBvZiBib3VuZHMhJywgJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1wYWdlID4gLmRlZmluaXRpb24tc2NhbGUnKTtcblxuICAgIGlmICh0aGlzLmZpcnN0Q2xpY2spIHtcbiAgICAgIHRoaXMuY29vcmQgPSBjdXJzb3I7XG4gICAgICBkMy5zZWxlY3QoY29udGFpbmVyKS5hcHBlbmQoJ2NpcmNsZScpLmF0dHIoJ2N4JywgY3Vyc29yLngpXG4gICAgICAgIC5hdHRyKCdjeScsIGN1cnNvci55KVxuICAgICAgICAuYXR0cigncicsIDEwKVxuICAgICAgICAuYXR0cignaWQnLCAnc3RhZmYtY2lyY2xlJylcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnZ3JlZW4nKTtcbiAgICAgIHRoaXMuZmlyc3RDbGljayA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdWw6IFBvaW50LCBscjogUG9pbnQ7XG4gICAgICBpZiAoY3Vyc29yLnggPCB0aGlzLmNvb3JkLnggfHwgY3Vyc29yLnkgPCB0aGlzLmNvb3JkLnkpIHsgLy8gc2Vjb25kIHBvaW50IGlzIG5vdCBsclxuICAgICAgICB1bCA9IGN1cnNvcjtcbiAgICAgICAgbHIgPSB0aGlzLmNvb3JkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdWwgPSB0aGlzLmNvb3JkO1xuICAgICAgICBsciA9IGN1cnNvcjtcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFmZi1jaXJjbGUnKS5yZW1vdmUoKTtcbiAgICAgIGNvbnN0IGFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdpbnNlcnQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRUeXBlOiAnc3RhZmYnLFxuICAgICAgICAgIHN0YWZmSWQ6ICdhdXRvJyxcbiAgICAgICAgICB1bHg6IHVsLngsXG4gICAgICAgICAgdWx5OiB1bC55LFxuICAgICAgICAgIGxyeDogbHIueCxcbiAgICAgICAgICBscnk6IGxyLnlcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5uZW9uVmlldy5lZGl0KGFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIHRoaXMuZmlyc3RDbGljayA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgaW5zZXJ0IGxpc3RlbmVycyB3aGlsZSBub3QgbGVhdmluZyBpbnNlcnQgbW9kZSBlbnRpcmVseS5cbiAgICovXG4gIHJlbW92ZUluc2VydENsaWNrSGFuZGxlcnMgPSAoZnVuY3Rpb24gcmVtb3ZlSW5zZXJ0Q2xpY2tIYW5kbGVycyAoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcikucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN0YWZmSGFuZGxlcik7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIGlzSW5zZXJ0TW9kZSAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICh0aGlzLnR5cGUgIT09ICcnKTtcbiAgfVxufVxuXG5leHBvcnQgeyBJbnNlcnRIYW5kbGVyIGFzIGRlZmF1bHQgfTtcbiIsIi8qKlxuICogQ29udGVudHMgb2YgbmF2YmFyIG1lbnUgYWZ0ZXIgc3dpdGNoaW5nIHRvIGVkaXQgbW9kZS5cbiAqL1xuXG4vLyBcIkZpbGVcIiBEcm9wZG93blxuZXhwb3J0IGNvbnN0IG5hdmJhckRyb3Bkb3duRmlsZU1lbnU6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5uYXZiYXJEcm9wZG93bkZpbGVNZW51LmNsYXNzTGlzdC5hZGQoJ25hdmJhci1pdGVtJywgJ2hhcy1kcm9wZG93bicsICdpcy1ob3ZlcmFibGUnKTtcbmNvbnN0IGZpbGVEcm9wZG93bkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuZmlsZURyb3Bkb3duQnRuLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1idG4nKTtcbmZpbGVEcm9wZG93bkJ0bi5pbm5lckhUTUwgPSAnPGRpdj5GaWxlPC9kaXY+JztcbmNvbnN0IGZpbGVOYXZiYXJDb250ZW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuZmlsZU5hdmJhckNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1kcm9wZG93bicpO1xuZmlsZU5hdmJhckNvbnRlbnRzLmlkID0gJ25hdmJhci1kcm9wZG93bi1vcHRpb25zJztcblxuY29uc3QgZmlsZURyb3Bkb3duQ29udGVudHMgPSBbXG4gIFsnc2F2ZScsICdTYXZlJ10sXG4gIFsnZXhwb3J0JywgJ1NhdmUgYW5kIEV4cG9ydCB0byBGaWxlJ10sXG4gIFsnZ2V0bWVpJywgJ0Rvd25sb2FkIE1FSSddXG5dO1xuXG5maWxlRHJvcGRvd25Db250ZW50cy5mb3JFYWNoKGNvbnRlbnQgPT4ge1xuICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGl0ZW0uaWQgPSBjb250ZW50WzBdO1xuICBpdGVtLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1kcm9wZG93bi1pdGVtJyk7XG4gIGl0ZW0udGV4dENvbnRlbnQgPSBjb250ZW50WzFdO1xuICBmaWxlTmF2YmFyQ29udGVudHMuYXBwZW5kQ2hpbGQoaXRlbSk7XG59KTtcblxubmF2YmFyRHJvcGRvd25GaWxlTWVudS5hcHBlbmRDaGlsZChmaWxlRHJvcGRvd25CdG4pO1xubmF2YmFyRHJvcGRvd25GaWxlTWVudS5hcHBlbmRDaGlsZChmaWxlTmF2YmFyQ29udGVudHMpO1xuXG4vLyBcIk1FSSBBY3Rpb25zXCIgRHJvcGRvd25cbmV4cG9ydCBjb25zdCBuYXZiYXJEcm9wZG93bk1FSUFjdGlvbnNNZW51OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xubmF2YmFyRHJvcGRvd25NRUlBY3Rpb25zTWVudS5jbGFzc0xpc3QuYWRkKCduYXZiYXItaXRlbScsICdoYXMtZHJvcGRvd24nLCAnaXMtaG92ZXJhYmxlJyk7XG5jb25zdCBtZWlBY3Rpb25zRHJvcGRvd25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbm1laUFjdGlvbnNEcm9wZG93bkJ0bi5jbGFzc0xpc3QuYWRkKCduYXZiYXItYnRuJyk7XG5tZWlBY3Rpb25zRHJvcGRvd25CdG4uaW5uZXJIVE1MID0gJzxkaXY+TUVJIEFjdGlvbnM8L2Rpdj4nO1xuY29uc3QgbWVpQWN0aW9uc05hdmJhckNvbnRlbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5tZWlBY3Rpb25zTmF2YmFyQ29udGVudHMuY2xhc3NMaXN0LmFkZCgnbmF2YmFyLWRyb3Bkb3duJyk7XG5tZWlBY3Rpb25zTmF2YmFyQ29udGVudHMuaWQgPSAnbmF2YmFyLWRyb3Bkb3duLW9wdGlvbnMnO1xuY29uc3QgbWVpQWN0aW9uc0Ryb3Bkb3duQ29udGVudHMgPSBbXG4gIFsncmVtb3ZlLWVtcHR5LXN5bHMnLCAnUmVtb3ZlIEVtcHR5IFN5bGxhYmxlcyddLFxuICBbJ3JlbW92ZS1lbXB0eS1uZXVtZXMnLCAnUmVtb3ZlIEVtcHR5IE5ldW1lcyddLFxuICBbJ3JldmVydCcsICdSZXZlcnQnXVxuXTtcblxubWVpQWN0aW9uc0Ryb3Bkb3duQ29udGVudHMuZm9yRWFjaChjb250ZW50ID0+IHtcbiAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpdGVtLmlkID0gY29udGVudFswXTtcbiAgaXRlbS5jbGFzc0xpc3QuYWRkKCduYXZiYXItZHJvcGRvd24taXRlbScpO1xuICBpdGVtLnRleHRDb250ZW50ID0gY29udGVudFsxXTtcbiAgbWVpQWN0aW9uc05hdmJhckNvbnRlbnRzLmFwcGVuZENoaWxkKGl0ZW0pO1xufSk7XG5cbm5hdmJhckRyb3Bkb3duTUVJQWN0aW9uc01lbnUuYXBwZW5kQ2hpbGQobWVpQWN0aW9uc0Ryb3Bkb3duQnRuKTtcbm5hdmJhckRyb3Bkb3duTUVJQWN0aW9uc01lbnUuYXBwZW5kQ2hpbGQobWVpQWN0aW9uc05hdmJhckNvbnRlbnRzKTtcblxuLyoqXG4gKiBGaW5hbGl6ZSBvcHRpb24gaW4gdGhlIG5hdmJhciBmb3Igcm9kYW5cbiAqL1xuZXhwb3J0IGNvbnN0IG5hdmJhckZpbmFsaXplID1cbiAgICAnPGEgaWQ9XCJmaW5hbGl6ZVwiIGNsYXNzPVwibmF2YmFyLWl0ZW1cIj4gRmluYWxpemUgTUVJIDwvYT4nO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIHRoZSB1bmRvL3JlZG8gcGFuZWwgd2l0aCBidXR0b25zXG4gKi9cbmV4cG9ydCBjb25zdCB1bmRvUmVkb1BhbmVsID1cbiAgYDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5kb1wiPlVuZG88L2J1dHRvbj5cbiAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJyZWRvXCI+UmVkbzwvYnV0dG9uPmA7XG4iLCJpbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IGNvbnZlcnRUb05lb24gfSBmcm9tICcuL0NvbnZlcnRNZWknO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIFNldCB0b3AgbmF2YmFyIGV2ZW50IGxpc3RlbmVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROYXZiYXIobmVvblZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gIC8vIHNldHVwIG5hdmJhciBsaXN0ZW5lcnNcbiAgY29uc3QgbmF2YmFyRHJvcGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnLm5hdmJhci1pdGVtLmhhcy1kcm9wZG93bi5pcy1ob3ZlcmFibGUnLFxuICApO1xuICBBcnJheS5mcm9tKG5hdmJhckRyb3Bkb3ducykuZm9yRWFjaCgoZHJvcERvd24pID0+IHtcbiAgICBkcm9wRG93bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAvL1xuICAgIH0pO1xuICB9KTtcblxuICAvKiBcIkZJTEVcIiBtZW51ICovXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbmVvblZpZXcuc2F2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTYXZlZCcsICdzdWNjZXNzJyk7XG4gICAgfSk7XG4gIH0pO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdzJykge1xuICAgICAgbmVvblZpZXcuc2F2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NhdmVkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4cG9ydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG5lb25WaWV3LmV4cG9ydCgpLnRoZW4oKG1hbmlmZXN0KSA9PiB7XG4gICAgICBjb25zdCBsaW5rOiBIVE1MQW5jaG9yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGxpbmsuaHJlZiA9IG1hbmlmZXN0IGFzIHN0cmluZztcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBuZW9uVmlldy5uYW1lICsgJy5qc29ubGQnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgIGxpbmsucmVtb3ZlKCk7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NhdmVkJywgJ3N1Y2Nlc3MnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gRG93bmxvYWQgbGluayBmb3IgTUVJXG4gIC8vIElzIGFuIGFjdHVhbCBmaWxlIHdpdGggYSB2YWxpZCBVUkkgZXhjZXB0IGluIGxvY2FsIG1vZGUgd2hlcmUgaXQgbXVzdCBiZSBnZW5lcmF0ZWQuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4oKG1laSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9XG4gICAgICAgICdkYXRhOmFwcGxpY2F0aW9uL21laSt4bWw7YmFzZTY0LCcgKyB3aW5kb3cuYnRvYShjb252ZXJ0VG9OZW9uKG1laSkpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dldG1laScpLnNldEF0dHJpYnV0ZSgnaHJlZicsIGRhdGEpO1xuICAgICAgZG9jdW1lbnRcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKVxuICAgICAgICAuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIG5lb25WaWV3LnZpZXcuZ2V0UGFnZU5hbWUoKSArICcubWVpJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qIFwiTUVJIEFDVElPTlNcIiBtZW51ICovXG4gIC8vIEV2ZW50IGxpc3RlbmVyIGZvciBcIlJlbW92ZSBFbXB0eSBTeWxsYWJsZXNcIiBidXR0b24gaW5zaWRlIFwiTUVJIEFjdGlvbnNcIiBkcm9wZG93blxuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlLWVtcHR5LXN5bHMnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHVyaSA9IG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKTtcblxuICAgICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4oKG1laVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobWVpU3RyaW5nLCAndGV4dC94bWwnKTtcbiAgICAgICAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgY29uc3Qgc3lsbGFibGVzID0gQXJyYXkuZnJvbShtZWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N5bGxhYmxlJykpO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBzeWxsYWJsZXMgd2l0aG91dCBuZXVtZXNcbiAgICAgICAgbGV0IGhhc0VtcHR5U3lsbGFibGVzID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHJlbW92ZVN5bGxhYmxlQWN0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN5bGxhYmxlIG9mIHN5bGxhYmxlcykge1xuICAgICAgICAgIC8vIGlmIGVtcHR5IHN5bGxhYmxlIGZvdW5kLCBjcmVhdGUgYWN0aW9uIG9iamVjdCBmb3IgcmVtb3ZpbmcgaXRcbiAgICAgICAgICBpZiAoc3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25ldW1lJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCB0b1JlbW92ZTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgICAgICBhY3Rpb246ICdyZW1vdmUnLFxuICAgICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBhZGQgYWN0aW9uIG9iamVjdCB0byBhcnJheSAoY2hhaW4pIG9mIGFjdGlvbiBvYmplY3RzXG4gICAgICAgICAgICByZW1vdmVTeWxsYWJsZUFjdGlvbnMucHVzaCh0b1JlbW92ZSk7XG4gICAgICAgICAgICBoYXNFbXB0eVN5bGxhYmxlcyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgZW1wdHkgc3lsbGFibGVzIHdlcmUgZm91bmRcbiAgICAgICAgaWYgKCFoYXNFbXB0eVN5bGxhYmxlcykge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTm8gZW1wdHkgc3lsbGFibGVzIGZvdW5kJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjcmVhdGUgXCJjaGFpbiBhY3Rpb25cIiBvYmplY3RcbiAgICAgICAgICBjb25zdCBjaGFpblJlbW92ZUFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgICAgcGFyYW06IHJlbW92ZVN5bGxhYmxlQWN0aW9ucyxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gZXhlY3V0ZSBhY3Rpb24gdGhhdCByZW1vdmVzIGFsbCBlbXB0eSBzeWxsYWJsZXNcbiAgICAgICAgICAvLyBcInJlc3VsdFwiIHZhbHVlIGlzIHRydWUgb3IgZmFsc2UgKHRydWUgaWYgY2hhaW4gb2YgYWN0aW9ucyB3YXMgc3VjY2Vzc2Z1bClcbiAgICAgICAgICBuZW9uVmlldy5lZGl0KGNoYWluUmVtb3ZlQWN0aW9uLCB1cmkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgJ1JlbW92ZWQgZW1wdHkgU3lsbGFibGVzJyxcbiAgICAgICAgICAgICAgICAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byByZW1vdmUgZW1wdHkgU3lsbGFibGVzJyxcbiAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAvLyBFdmVudCBsaXN0ZW5lciBmb3IgXCJSZW1vdmUgRW1wdHkgTmV1bWVzXCIgYnV0dG9uIGluc2lkZSBcIk1FSSBBY3Rpb25zXCIgZHJvcGRvd25cbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudEJ5SWQoJ3JlbW92ZS1lbXB0eS1uZXVtZXMnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHVyaSA9IG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKTtcblxuICAgICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4oKG1laVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobWVpU3RyaW5nLCAndGV4dC94bWwnKTtcbiAgICAgICAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgY29uc3QgbmV1bWVzID0gQXJyYXkuZnJvbShtZWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25ldW1lJykpO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBuZXVtZXMgd2l0aG91dCBuZXVtZSBjb21wb25lbnRzXG4gICAgICAgIGxldCBoYXNFbXB0eU5ldW1lcyA9IGZhbHNlO1xuICAgICAgICBjb25zdCByZW1vdmVOZXVtZUFjdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBuZXVtZSBvZiBuZXVtZXMpIHtcbiAgICAgICAgICAvLyBpZiBlbXB0eSBuZXVtZSBmb3VuZCwgY3JlYXRlIGFjdGlvbiBvYmplY3QgZm9yIHJlbW92aW5nIGl0XG4gICAgICAgICAgaWYgKG5ldW1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCduYycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgdG9SZW1vdmU6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IG5ldW1lLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gYWRkIGFjdGlvbiBvYmplY3QgdG8gYXJyYXkgKGNoYWluKSBvZiBhY3Rpb24gb2JqZWN0c1xuICAgICAgICAgICAgcmVtb3ZlTmV1bWVBY3Rpb25zLnB1c2godG9SZW1vdmUpO1xuICAgICAgICAgICAgaGFzRW1wdHlOZXVtZXMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIGVtcHR5IG5ldW1lcyB3ZXJlIGZvdW5kXG4gICAgICAgIGlmICghaGFzRW1wdHlOZXVtZXMpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ05vIGVtcHR5IE5ldW1lcyBmb3VuZCcsICd3YXJuaW5nJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY3JlYXRlIFwiY2hhaW4gYWN0aW9uXCIgb2JqZWN0XG4gICAgICAgICAgY29uc3QgY2hhaW5SZW1vdmVBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgICAgICAgIHBhcmFtOiByZW1vdmVOZXVtZUFjdGlvbnMsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIGV4ZWN1dGUgYWN0aW9uIHRoYXQgcmVtb3ZlcyBhbGwgZW1wdHkgbmV1bWVzXG4gICAgICAgICAgLy8gXCJyZXN1bHRcIiB2YWx1ZSBpcyB0cnVlIG9yIGZhbHNlICh0cnVlIGlmIGNoYWluIG9mIGFjdGlvbnMgd2FzIHN1Y2Nlc3NmdWwpXG4gICAgICAgICAgbmVvblZpZXcuZWRpdChjaGFpblJlbW92ZUFjdGlvbiwgdXJpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdSZW1vdmVkIGVtcHR5IE5ldW1lcycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byByZW1vdmUgZW1wdHkgTmV1bWVzJyxcbiAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlLW91dC1vZi1ib3VuZHMtZ2x5cGhzJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgICBuZW9uVmlldy5nZXRQYWdlTUVJKHVyaSkudGhlbigobWVpU3RyaW5nKSA9PiB7XG4gICAgICAgIC8vIExvYWQgTUVJIGRvY3VtZW50IGludG8gcGFyc2VyXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICAgICAgICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICAgIC8vIEdldCBib3VuZHMgb2YgdGhlIE1FSVxuICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3N1cmZhY2UnKTtcbiAgICAgICAgY29uc3QgbWVpTHJ4ID0gTnVtYmVyKGRpbWVuc2lvbnMuZ2V0QXR0cmlidXRlKCdscngnKSksXG4gICAgICAgICAgbWVpTHJ5ID0gTnVtYmVyKGRpbWVuc2lvbnMuZ2V0QXR0cmlidXRlKCdscnknKSk7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNBdHRyT3V0T2ZCb3VuZHMoem9uZTogRWxlbWVudCwgYXR0cjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgICAgY29uc3QgY29vcmQgPSBOdW1iZXIoem9uZS5nZXRBdHRyaWJ1dGUoYXR0cikpO1xuICAgICAgICAgIGNvbnN0IGNvbXAgPSBhdHRyID09ICdscngnIHx8IGF0dHIgPT0gJ3VseCcgPyBtZWlMcnggOiBtZWlMcnk7XG4gICAgICAgICAgcmV0dXJuIGNvb3JkIDwgMCB8fCBjb29yZCA+IGNvbXA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgYXJyYXkgb2Ygem9uZXMgdGhhdCBhcmUgb3V0IG9mIGJvdW5kLCBhbmQgY3JlYXRlIGEgaGFzaCBtYXBcbiAgICAgICAgLy8gZm9yIGZhc3QgcmV0cmlldmFsXG4gICAgICAgIGNvbnN0IHpvbmVzID0gQXJyYXkuZnJvbShtZWkucXVlcnlTZWxlY3RvckFsbCgnem9uZScpKTtcbiAgICAgICAgY29uc3Qgb3V0T2ZCb3VuZFpvbmVzID0gem9uZXMuZmlsdGVyKCh6b25lKSA9PlxuICAgICAgICAgIFsndWx4JywgJ3VseScsICdscngnLCAnbHJ5J10uc29tZSgoYXR0cikgPT5cbiAgICAgICAgICAgIGlzQXR0ck91dE9mQm91bmRzKHpvbmUsIGF0dHIpLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHpvbmVNYXAgPSBuZXcgTWFwKFxuICAgICAgICAgIG91dE9mQm91bmRab25lcy5tYXAoKHpvbmUpID0+IFt6b25lLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksIHpvbmVdKSxcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBGaWx0ZXIgb3V0IHRoZSBuZXVtZSBjb21wb25lbnRzIGFuZCBkaXZsaW5lcyB0aGF0IGhhdmUgYSB6b25lIG91dCBvZiBib3VuZHNcbiAgICAgICAgY29uc3QgZ2x5cGhzID0gQXJyYXkuZnJvbShcbiAgICAgICAgICBtZWkucXVlcnlTZWxlY3RvckFsbCgnbmMsIGRpdkxpbmUsIGNsZWYsIGFjY2lkJyksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG91dE9mQm91bmRHbHlwaHMgPSBnbHlwaHMuZmlsdGVyKChnbHlwaCkgPT4ge1xuICAgICAgICAgIGlmIChnbHlwaC5oYXNBdHRyaWJ1dGUoJ2ZhY3MnKSkge1xuICAgICAgICAgICAgY29uc3QgZmFjc0lkID0gZ2x5cGguZ2V0QXR0cmlidXRlKCdmYWNzJykuc2xpY2UoMSk7XG4gICAgICAgICAgICByZXR1cm4gem9uZU1hcC5oYXMoZmFjc0lkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBubyBvdXQtb2YtYm91bmQgZ2x5cGhzLCBhbmRcbiAgICAgICAgLy8gZXhpdCwgc2luY2Ugbm8gZWRpdCBuZWVkcyB0byBiZSBtYWRlLlxuICAgICAgICBpZiAob3V0T2ZCb3VuZEdseXBocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgJ1RoZXJlIGFyZSBubyBvdXQtb2YtYm91bmQgZ2x5cGhzIHRvIHJlbW92ZS4nLFxuICAgICAgICAgICAgJ3dhcm5pbmcnLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgcmVtb3ZlIGFjdGlvbnMgYW5kIGNoYWluIGFjdGlvbiB0byBzZW5kIHRvIFZlcm92aW9cbiAgICAgICAgY29uc3QgcmVtb3ZlQWN0aW9uczogRWRpdG9yQWN0aW9uW10gPSBvdXRPZkJvdW5kR2x5cGhzLm1hcCgoZ2x5cGgpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgIGVsZW1lbnRJZDogZ2x5cGguZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICAgICAgcGFyYW06IHJlbW92ZUFjdGlvbnMsXG4gICAgICAgIH07XG5cbiAgICAgICAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgdXJpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAnU3VjY2Vzc2Z1bGx5IHJlbW92ZWQgb3V0LW9mLWJvdW5kcyBzeWxsYWJsZXMuJyxcbiAgICAgICAgICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAnRmFpbGVkIHRvIHJlbW92ZSBvdXQtb2YtYm91bmQgc3lsbGFibGVzLicsXG4gICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZCgndW50b2dnbGUtaW52YWxpZC1vYmxpcXVlJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgICBuZW9uVmlldy5nZXRQYWdlTUVJKHVyaSkudGhlbigobWVpU3RyaW5nKSA9PiB7XG4gICAgICAgIC8vIExvYWQgTUVJIGRvY3VtZW50IGludG8gcGFyc2VyXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICAgICAgICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBjb25zdCBuY3MgPSBBcnJheS5mcm9tKG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmMnKSk7XG5cbiAgICAgICAgbGV0IGhhc0ludmFsaWRPYmxpcXVlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgIHBhcmFtOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuICAgICAgICBsZXQgbmNJZHggPSAwO1xuICAgICAgICB3aGlsZSAobmNJZHggPCBuY3MubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG5jc1tuY0lkeF0uZ2V0QXR0cmlidXRlKCdsaWdhdGVkJykpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKG5jSWR4IDwgbmNzLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICAgICAhbmNzW25jSWR4ICsgMV0uZ2V0QXR0cmlidXRlKCdsaWdhdGVkJykpIHx8XG4gICAgICAgICAgICAgIG5jSWR4ID09IG5jcy5sZW5ndGggLSAxXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gSWYgbmMgaXMgbGlnYXRlZCwgYW5kIHRoZSBuZXh0IG5jIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBPciwgbmMgaXMgbGlnYXRlZCwgYnV0IGFscmVhZHkgYXQgdGhlIGVuZCAodGhlcmUgaXMgbm8gbmV4dClcXFxuICAgICAgICAgICAgICBoYXNJbnZhbGlkT2JsaXF1ZSA9IHRydWU7XG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogbmNzW25jSWR4XS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgICAgICAgYXR0clR5cGU6ICdsaWdhdGVkJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJWYWx1ZTogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuY0lkeCArPSAyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuY0lkeCArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNJbnZhbGlkT2JsaXF1ZSkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdObyBpbnZhbGlkIG9ibGlxdWVzIGZvdW5kJyxcbiAgICAgICAgICAgICd3YXJuaW5nJyxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYWluQWN0aW9uLnBhcmFtID0gcGFyYW07XG4gICAgICAgICAgbmVvblZpZXdcbiAgICAgICAgICAgIC5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgICAnVW50b2dnbGVkIGludmFsaWQgb2JsaXF1ZXMnLFxuICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byB1bnRvZ2dsZSBpbnZhbGlkIG9ibGlxdWVzJyxcbiAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50XG4gICAgLmdldEVsZW1lbnRCeUlkKCd1bnRvZ2dsZS1pbnZhbGlkLXN5bHMnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHVyaSA9IG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKTtcbiAgICAgIG5lb25WaWV3LmdldFBhZ2VNRUkodXJpKS50aGVuKChtZWlTdHJpbmcpID0+IHtcbiAgICAgICAgLy8gTG9hZCBNRUkgZG9jdW1lbnQgaW50byBwYXJzZXJcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1laVN0cmluZywgJ3RleHQveG1sJyk7XG4gICAgICAgIGNvbnN0IG1laSA9IG1laURvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHN5bGxhYmxlcyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzeWxsYWJsZScpKTtcblxuICAgICAgICBjb25zdCBpbnZhbGlkU3lsbGFibGVzID0gZ2V0SW52YWxpZFN5bGxhYmxlcyhzeWxsYWJsZXMpO1xuXG4gICAgICAgIGlmIChpbnZhbGlkU3lsbGFibGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdObyBpbnZhbGlkIHN5bGxhYmxlcyBmb3VuZCcsXG4gICAgICAgICAgICAnd2FybmluZycsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBjaGFpbkFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgICAgcGFyYW06IFtdLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuICAgICAgICAgIGZvciAoY29uc3Qgc3lsbGFibGUgb2YgaW52YWxpZFN5bGxhYmxlcykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ3ByZWNlZGVzJykgJiZcbiAgICAgICAgICAgICAgc3lsbGFibGUuaGFzQXR0cmlidXRlKCdmb2xsb3dzJylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCBwcmVjZWRlc1N5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoXG4gICAgICAgICAgICAgICAgKGVsZW1lbnQpID0+XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09XG4gICAgICAgICAgICAgICAgICBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJykuc3Vic3RyaW5nKDEpLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCBmb2xsb3dzU3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZChcbiAgICAgICAgICAgICAgICAoZWxlbWVudCkgPT5cbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT1cbiAgICAgICAgICAgICAgICAgIHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpLnN1YnN0cmluZygxKSxcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJWYWx1ZTogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgICAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IHByZWNlZGVzU3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgICAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IGZvbGxvd3NTeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgICAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goXG4gICAgICAgICAgICAgICAgLi4uYWRkU3lsQWN0aW9uKFtzeWxsYWJsZSwgcHJlY2VkZXNTeWxsYWJsZSwgZm9sbG93c1N5bGxhYmxlXSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgncHJlY2VkZXMnKSkge1xuICAgICAgICAgICAgICBjb25zdCBwcmVjZWRlc1N5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoXG4gICAgICAgICAgICAgICAgKGVsZW1lbnQpID0+XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09XG4gICAgICAgICAgICAgICAgICBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJykuc3Vic3RyaW5nKDEpLFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudElkOiBwcmVjZWRlc1N5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCguLi5hZGRTeWxBY3Rpb24oW3N5bGxhYmxlLCBwcmVjZWRlc1N5bGxhYmxlXSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSkge1xuICAgICAgICAgICAgICBjb25zdCBmb2xsb3dzU3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZChcbiAgICAgICAgICAgICAgICAoZWxlbWVudCkgPT5cbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT1cbiAgICAgICAgICAgICAgICAgIHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpLnN1YnN0cmluZygxKSxcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudElkOiBmb2xsb3dzU3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCguLi5hZGRTeWxBY3Rpb24oW3N5bGxhYmxlLCBmb2xsb3dzU3lsbGFibGVdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hhaW5BY3Rpb24ucGFyYW0gPSBwYXJhbTtcbiAgICAgICAgICBuZW9uVmlld1xuICAgICAgICAgICAgLmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICAgICAgICdVbnRvZ2dsZWQgaW52YWxpZCBzeWxsYWJsZXMnLFxuICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byB1bnRvZ2dsZSBpbnZhbGlkIHN5bGxhYmxlcycsXG4gICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAvLyBFdmVudCBsaXN0ZW5lciBmb3IgXCJSZXZlcnRcIiBidXR0b24gaW5zaWRlIFwiTUVJIEFjdGlvbnNcIiBkcm9wZG93blxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV2ZXJ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKFxuICAgICAgd2luZG93LmNvbmZpcm0oXG4gICAgICAgICdSZXZlcnRpbmcgd2lsbCBjYXVzZSBhbGwgY2hhbmdlcyB0byBiZSBsb3N0LiBQcmVzcyBPSyB0byBjb250aW51ZS4nLFxuICAgICAgKVxuICAgICkge1xuICAgICAgbmVvblZpZXcuZGVsZXRlRGIoKS50aGVuKCgpID0+IHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKiBcIlZJRVdcIiBtZW51ICovXG5cbiAgLypcblxuICAvLyBFdmVudCBsaXN0ZW5lcnMgZm9yIHNldHRpbmcgZGVmYXVsdCB6b29tIHNldHRpbmdzIGluc2lkZSBcIlZpZXdcIiBkcm9wZG93blxuICBjb25zdCBmaXRDb250ZW50QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3pvb20tZml0LWNvbnRlbnQnKTtcbiAgY29uc3QgZml0Q29udGVudENoZWNrbWFyayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6b29tLWZpdC1jb250ZW50LWljb24nKTtcbiAgY29uc3QgZWFzeUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjem9vbS1lYXN5LWVkaXQnKTtcbiAgY29uc3QgZWFzeUVkaXRDaGVja21hcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjem9vbS1lYXN5LWVkaXQtaWNvbicpO1xuXG4gIC8vIGZpdCBjb250ZW50IGxpc3RlbmVyXG4gIGZpdENvbnRlbnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZWFzeUVkaXRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgIGZpdENvbnRlbnRCdG4uY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuXG4gICAgZWFzeUVkaXRDaGVja21hcmsuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBmaXRDb250ZW50Q2hlY2ttYXJrLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG5cbiAgICAvLyBUT0RPOiBTYXZlIGRlZmF1bHQgem9vbSBzZXR0aW5ncyBpbiBsb2NhbCBzdG9yYWdlXG5cbiAgfSk7XG4gIC8vIGVhc3kgZWRpdCBsaXN0ZW5lclxuICBlYXN5RWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBmaXRDb250ZW50QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICBlYXN5RWRpdEJ0bi5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG5cbiAgICBmaXRDb250ZW50Q2hlY2ttYXJrLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgZWFzeUVkaXRDaGVja21hcmsuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcblxuICAgIC8vIFRPRE86IFNhdmUgZGVmYXVsdCB6b29tIHNldHRpbmdzIGluIGxvY2FsIHN0b3JhZ2VcblxuICB9KTtcbiAgKi9cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSB1bmRvL3JlZG8gcGFuZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRVbmRvUmVkb1BhbmVsKG5lb25WaWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICAvKipcbiAgICogVHJpZXMgdG8gdW5kbyBhbiBhY3Rpb24gYW5kIHVwZGF0ZSB0aGUgcGFnZSBpZiBpdCBzdWNjZWVkcy5cbiAgICovXG4gIGZ1bmN0aW9uIHVuZG9IYW5kbGVyKCk6IHZvaWQge1xuICAgIG5lb25WaWV3LnVuZG8oKS50aGVuKChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhlcmUgaXMgbm90aGluZyBsZWZ0IHRvIHVuZG8uJyk7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHVuZG8gYWN0aW9uJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVHJpZXMgdG8gcmVkbyBhbiBhY3Rpb24gYW5kIHVwZGF0ZSB0aGUgcGFnZSBpZiBpdCBzdWNjZWVkcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZG9IYW5kbGVyKCk6IHZvaWQge1xuICAgIG5lb25WaWV3LnJlZG8oKS50aGVuKChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhlcmUgaXMgbm90aGluZyBsZWZ0IHRvIHJlZG8uJyk7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHJlZG8gYWN0aW9uJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kbycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdW5kb0hhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICd6JyAmJiAoZXZ0LmN0cmxLZXkgfHwgZXZ0Lm1ldGFLZXkpKSB7XG4gICAgICB1bmRvSGFuZGxlcigpO1xuICAgIH1cbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZG8nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlZG9IYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGlmIChcbiAgICAgIChldnQua2V5ID09PSAnWicgfHwgKGV2dC5rZXkgPT09ICd6JyAmJiBldnQuc2hpZnRLZXkpKSAmJlxuICAgICAgKGV2dC5jdHJsS2V5IHx8IGV2dC5tZXRhS2V5KVxuICAgICkge1xuICAgICAgcmVkb0hhbmRsZXIoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTeWxBY3Rpb24oc3lsbGFibGVzOiBFbGVtZW50W10pOiBBcnJheTxFZGl0b3JBY3Rpb24+IHtcbiAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuXG4gIGZvciAoY29uc3Qgc3lsbGFibGUgb2Ygc3lsbGFibGVzKSB7XG4gICAgaWYgKHN5bGxhYmxlICYmICFzeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3lsJykubGVuZ3RoKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcmFtO1xufVxuXG5mdW5jdGlvbiBnZXRJbnZhbGlkU3lsbGFibGVzKHN5bGxhYmxlczogRWxlbWVudFtdKTogRWxlbWVudFtdIHtcbiAgY29uc3QgaW52YWxpZFN5bGxhYmxlczogRWxlbWVudFtdID0gW107XG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHN5bGxhYmxlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgY29uc3Qgc3lsbGFibGUgPSBzeWxsYWJsZXMuYXQoaWR4KTtcbiAgICBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdwcmVjZWRlcycpKSB7XG4gICAgICAvLyBHZXQgeG1sOmlkIG9mIHRoZSBuZXh0IHN5bGxhYmxlICh3aXRob3V0IHRoZSAjLCBpZiBpdCBleGlzdHMpXG4gICAgICBjb25zdCBuZXh0U3lsbGFibGVJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgncHJlY2VkZXMnKS5yZXBsYWNlKCcjJywgJycpO1xuXG4gICAgICAvLyBGaW5kIHRoZSBuZXh0IHN5bGxhYmxlIGFuZCBpdHMgaW5kZXggaW4gdGhlIGFycmF5XG4gICAgICBsZXQgbmV4dFN5bGxhYmxlSWR4OiBudW1iZXI7XG4gICAgICBjb25zdCBuZXh0U3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZCgoZWxlbWVudCwgaWR4KSA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IG5leHRTeWxsYWJsZUlkKSB7XG4gICAgICAgICAgbmV4dFN5bGxhYmxlSWR4ID0gaWR4O1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENvbmRpdGlvbiAxOiBUaGUgbmV4dCAoZm9sbG93aW5nKSBzeWxsYWJsZSBjYW5ub3QgYmUgZm91bmRcbiAgICAgIGlmICghbmV4dFN5bGxhYmxlKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAyOiBUaGUgbmV4dCBzeWxsYWJsZSBoYXMgYmVlbiBmb3VuZCwgYnV0IHRoZSBAZm9sbG93cyBhdHRyaWJ1dGUgZG9lcyBOT1QgRVhJU1RcbiAgICAgIGlmICghbmV4dFN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnZm9sbG93cycpKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAzOiBUaGUgbmV4dCBzeWxsYWJsZSdzIEBmb2xsb3dzIGF0dHJpYnV0ZSBleGlzdHMsIGJ1dCBpdCBpcyBub3QgaW4gdGhlIGNvcnJlY3QgZm9ybWF0ICNpZFxuICAgICAgaWYgKFxuICAgICAgICBuZXh0U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdmb2xsb3dzJykgIT1cbiAgICAgICAgJyMnICsgc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKVxuICAgICAgKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiA0OlxuICAgICAgLy8gU2luY2UgdGhlIEBmb2xsb3dzIHZhbHVlIGlzIGNvcnJlY3QsIGEgcGFpciBvZiBzeWxsYWJsZXMgZXhpc3QgZm9yIHRoZSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlLlxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIEBmb2xsb3dzIHN5bGxhYmxlIGlzIHRoZSBuZXh0IHN5bGxhYmxlIChpbmRleC13aXNlKSBpbiB0aGUgYXJyYXk6XG4gICAgICBpZiAobmV4dFN5bGxhYmxlSWR4ICE9PSBpZHggKyAxKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSkge1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ2ZvbGxvd3MnKS5yZXBsYWNlKCcjJywgJycpO1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoXG4gICAgICAgIChzeWxsYWJsZSkgPT4gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT0gcHJldlN5bGxhYmxlSWQsXG4gICAgICApO1xuXG4gICAgICAvLyBDb25kaXRpb24gMTogVGhlIHByZXZpb3VzIHN5bGxhYmxlIGRvZXMgbm90IGV4aXN0XG4gICAgICBpZiAoIXByZXZTeWxsYWJsZSkge1xuICAgICAgICBpbnZhbGlkU3lsbGFibGVzLnB1c2goc3lsbGFibGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25kaXRpb24gMjogVGhlIHByZXZpb3VzIHN5bGxhYmxlIGV4aXN0cywgYnV0IHRoZSBAcHJlY2VkZXMgYXR0cmlidXRlIGRvZXMgTk9UIEVYSVNUXG4gICAgICBpZiAoIXByZXZTeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ3ByZWNlZGVzJykpIHtcbiAgICAgICAgaW52YWxpZFN5bGxhYmxlcy5wdXNoKHN5bGxhYmxlKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDM6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSdzIEBwcmVjZWRlcyBhdHRyaWJ1dGUgZXhpc3RzLCBidXQgaXQgaXMgbm90IGluIHRoZSBjb3JyZWN0IGZvcm1hdCAjaWRcbiAgICAgIGlmIChcbiAgICAgICAgcHJldlN5bGxhYmxlLmdldEF0dHJpYnV0ZSgncHJlY2VkZXMnKSAhPVxuICAgICAgICAnIycgKyBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpXG4gICAgICApIHtcbiAgICAgICAgaW52YWxpZFN5bGxhYmxlcy5wdXNoKHN5bGxhYmxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGludmFsaWRTeWxsYWJsZXM7XG59XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vLi4vc3JjL05lb25WaWV3JztcbmltcG9ydCBEaXNwbGF5UGFuZWwgZnJvbSAnLi4vLi4vc3JjL0Rpc3BsYXlQYW5lbC9EaXNwbGF5UGFuZWwnO1xuaW1wb3J0IERpdmFWaWV3IGZyb20gJy4uLy4uL3NyYy9EaXZhVmlldyc7XG5pbXBvcnQgU2luZ2xlVmlldyBmcm9tICcuLi8uLi9zcmMvU2luZ2xlVmlldy9TaW5nbGVWaWV3JztcbmltcG9ydCBEaXZhRWRpdCBmcm9tICcuLi8uLi9zcmMvU3F1YXJlRWRpdC9EaXZhRWRpdE1vZGUnO1xuaW1wb3J0IFNpbmdsZUVkaXRNb2RlIGZyb20gJy4uLy4uL3NyYy9TcXVhcmVFZGl0L1NpbmdsZUVkaXRNb2RlJztcbmltcG9ydCBJbmZvTW9kdWxlIGZyb20gJy4uLy4uL3NyYy9JbmZvTW9kdWxlJztcbmltcG9ydCBUZXh0VmlldyBmcm9tICcuLi8uLi9zcmMvVGV4dFZpZXcnO1xuaW1wb3J0IFRleHRFZGl0TW9kZSBmcm9tICcuLi8uLi9zcmMvVGV4dEVkaXRNb2RlJztcbmltcG9ydCB7IE5lb25WaWV3UGFyYW1zIH0gZnJvbSAnLi4vLi4vc3JjL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgTmVvbk1hbmlmZXN0IH0gZnJvbSAnLi4vLi4vc3JjL1R5cGVzJztcbmltcG9ydCBQb3VjaERCIGZyb20gJ3BvdWNoZGInO1xuXG5jb25zdCBuYW1lID0gZ2V0R2V0UGFyYW0oJ21hbmlmZXN0Jyk7XG5jb25zdCBzdG9yYWdlID0gZ2V0R2V0UGFyYW0oJ3N0b3JhZ2UnKTtcblxuaWYgKG5hbWUpIHtcbiAgY29uc3QgbWFuaWZlc3RMb2NhdGlvbiA9IGAuL3NhbXBsZXMvbWFuaWZlc3RzLyR7bmFtZX0uanNvbmxkYDtcbiAgd2luZG93LmZldGNoKG1hbmlmZXN0TG9jYXRpb24pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgIH1cbiAgfSkudGhlbihhc3luYyB0ZXh0ID0+IHtcbiAgICBsZXQgbWFuaWZlc3Q6IE5lb25NYW5pZmVzdDtcbiAgICB0cnkge1xuICAgICAgbWFuaWZlc3QgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICBjb25zb2xlLmRlYnVnKHRleHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBEZXRlcm1pbmUgaWYgaXQgaXMgYSBzaW5nbGUgcGFnZSBvciBtdWx0aXBsZSBieSBtZWRpYSB0eXBlXG4gICAgY29uc3QgbWVkaWFUeXBlOiBzdHJpbmcgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cuZmV0Y2gobWFuaWZlc3QuaW1hZ2UpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXNvbHZlKDxzdHJpbmc+cmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBsZXQgcGFyYW1zOiBOZW9uVmlld1BhcmFtcztcbiAgICBpZiAobWVkaWFUeXBlLm1hdGNoKC9pbWFnZVxcLyovKSkge1xuICAgICAgcGFyYW1zID0ge1xuICAgICAgICBtYW5pZmVzdDogbWFuaWZlc3QsXG4gICAgICAgIERpc3BsYXk6IERpc3BsYXlQYW5lbCxcbiAgICAgICAgSW5mbzogSW5mb01vZHVsZSxcbiAgICAgICAgVGV4dFZpZXc6IFRleHRWaWV3LFxuICAgICAgICBUZXh0RWRpdDogVGV4dEVkaXRNb2RlLFxuICAgICAgICBWaWV3OiBTaW5nbGVWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IFNpbmdsZUVkaXRNb2RlXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMgPSB7XG4gICAgICAgIG1hbmlmZXN0OiBtYW5pZmVzdCxcbiAgICAgICAgRGlzcGxheTogRGlzcGxheVBhbmVsLFxuICAgICAgICBJbmZvOiBJbmZvTW9kdWxlLFxuICAgICAgICBUZXh0VmlldzogVGV4dFZpZXcsXG4gICAgICAgIFRleHRFZGl0OiBUZXh0RWRpdE1vZGUsXG4gICAgICAgIFZpZXc6IERpdmFWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IERpdmFFZGl0XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBuZXcgTmVvblZpZXcocGFyYW1zKTtcbiAgICB2aWV3LnN0YXJ0KCk7XG4gIH0pO1xufSBlbHNlIHtcbiAgY29uc3QgZGIgPSBuZXcgUG91Y2hEQignTmVvbi1Vc2VyLVN0b3JhZ2UnKTtcbiAgZGIuZ2V0QXR0YWNobWVudChzdG9yYWdlLCAnbWFuaWZlc3QnKS50aGVuKGJsb2IgPT4ge1xuICAgIHJldHVybiBuZXcgd2luZG93LlJlc3BvbnNlKGJsb2IpLmpzb24oKTtcbiAgfSkudGhlbihhc3luYyBtYW5pZmVzdCA9PiB7XG4gICAgY29uc3QgbWVkaWFUeXBlOiBzdHJpbmcgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cuZmV0Y2gobWFuaWZlc3QuaW1hZ2UpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXNvbHZlKDxzdHJpbmc+cmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBsZXQgcGFyYW1zOiBOZW9uVmlld1BhcmFtcztcbiAgICBpZiAobWVkaWFUeXBlLm1hdGNoKC9pbWFnZVxcLyovKSkge1xuICAgICAgcGFyYW1zID0ge1xuICAgICAgICBtYW5pZmVzdDogbWFuaWZlc3QsXG4gICAgICAgIERpc3BsYXk6IERpc3BsYXlQYW5lbCxcbiAgICAgICAgSW5mbzogSW5mb01vZHVsZSxcbiAgICAgICAgVGV4dFZpZXc6IFRleHRWaWV3LFxuICAgICAgICBUZXh0RWRpdDogVGV4dEVkaXRNb2RlLFxuICAgICAgICBWaWV3OiBTaW5nbGVWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IFNpbmdsZUVkaXRNb2RlXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMgPSB7XG4gICAgICAgIG1hbmlmZXN0OiBtYW5pZmVzdCxcbiAgICAgICAgRGlzcGxheTogRGlzcGxheVBhbmVsLFxuICAgICAgICBJbmZvOiBJbmZvTW9kdWxlLFxuICAgICAgICBUZXh0VmlldzogVGV4dFZpZXcsXG4gICAgICAgIFRleHRFZGl0OiBUZXh0RWRpdE1vZGUsXG4gICAgICAgIFZpZXc6IERpdmFWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IERpdmFFZGl0XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBuZXcgTmVvblZpZXcocGFyYW1zKTtcbiAgICB2aWV3LnN0YXJ0KCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRHZXRQYXJhbShwYXJhbU5hbWUpOiBzdHJpbmcge1xuICBsZXQgcmVzdWx0O1xuXG4gIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2hcbiAgICAuc3Vic3RyKDEpXG4gICAgLnNwbGl0KCcmJylcbiAgICAuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdG1wID0gaXRlbS5zcGxpdCgnPScpO1xuICAgICAgaWYgKHRtcFswXSA9PT0gcGFyYW1OYW1lKSB7XG4gICAgICAgIHJlc3VsdCA9IGRlY29kZVVSSUNvbXBvbmVudCh0bXBbMV0pO1xuICAgICAgfVxuICAgIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IE5lb25Db3JlIGZyb20gJy4vTmVvbkNvcmUnO1xuaW1wb3J0ICogYXMgVmFsaWRhdGlvbiBmcm9tICcuL1ZhbGlkYXRpb24nO1xuaW1wb3J0IHsgcGFyc2VNYW5pZmVzdCB9IGZyb20gJy4vdXRpbHMvTmVvbk1hbmlmZXN0JztcbmltcG9ydCBzZXRCb2R5IGZyb20gJy4vdXRpbHMvdGVtcGxhdGUvVGVtcGxhdGUnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3cgfSBmcm9tICcuL3V0aWxzL01vZGFsV2luZG93JztcbmltcG9ydCB7IE5lb25NYW5pZmVzdCwgRWRpdG9yQWN0aW9uLCBBdHRyaWJ1dGVzLCBVc2VyVHlwZSB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHtcbiAgSW5mb0ludGVyZmFjZSxcbiAgTW9kYWxXaW5kb3dJbnRlcmZhY2UsXG4gIE5lb25WaWV3UGFyYW1zLFxuICBOZXVtZUVkaXRJbnRlcmZhY2UsXG4gIFRleHRFZGl0SW50ZXJmYWNlLFxuICBUZXh0Vmlld0ludGVyZmFjZSxcbiAgVmlld0ludGVyZmFjZSxcbn0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IHNldERlYnVnTW9kZSB9IGZyb20gJy4vdXRpbHMvRGVidWdNb2RlJztcbmltcG9ydCB7IHNldFNhdmVkU3RhdHVzLCBsaXN0ZW5VbnNhdmVkQ2hhbmdlcyB9IGZyb20gJy4vdXRpbHMvVW5zYXZlZCc7XG5pbXBvcnQgTG9jYWxTZXR0aW5ncywgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbi8qKlxuICogTmVvblZpZXcgY2xhc3MuIE1hbmFnZXMgdGhlIG90aGVyIG1vZHVsZXMgb2YgTmVvbiBhbmQgY29tbXVuaWNhdGVzIHdpdGhcbiAqIE5lb25Db3JlLlxuICovXG5jbGFzcyBOZW9uVmlldyB7XG4gIC8qKiBUaGUgbWFuaWZlc3QgZGVzY3JpYmluZyB3aGF0IHRvIGxvYWQgYW5kIHdoZXJlIHRvIGZpbmQgaXQuICovXG4gIG1hbmlmZXN0OiBOZW9uTWFuaWZlc3Q7XG4gIC8qKiBNb2R1bGUgdGhhdCBkaXNwbGF5cyByZW5kZXJlZCBNRUkuICovXG4gIHZpZXc6IFZpZXdJbnRlcmZhY2U7XG4gIC8qKiBOYW1lIG9mIHRoZSBkb2N1bWVudCBsb2FkZWQuICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqIE1vZHVsZSB0aGF0IGhhbmRsZXMgbWFuYWdpbmcgcmVzb3VyY2VzLCByZW5kZXJpbmcgU1ZHcy4gKi9cbiAgY29yZTogTmVvbkNvcmU7XG4gIC8qKiBNb2R1bGUgdGhhdCBwcm92aWRlcyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIG9uIG11c2ljYWwgZWxlbWVudHMuICovXG4gIGluZm86IEluZm9JbnRlcmZhY2U7XG4gIC8qKiBNb2R1bGUgdGhhdCBhbGxvd3MgZWRpdGluZyBvZiBtdXNpY2FsIGVsZW1lbnRzLiAqL1xuICBOZXVtZUVkaXQ6IE5ldW1lRWRpdEludGVyZmFjZTtcbiAgLyoqIE1vZHVsZSB0aGF0IGFsbG93cyB2aWV3aW5nIG9mIHN5bGxhYmxlIHRleHQuICovXG4gIHRleHRWaWV3OiBUZXh0Vmlld0ludGVyZmFjZTtcbiAgLyoqIE1vZHVsZSB0aGF0IGFsbG93cyBlZGl0aW5nIG9mIHN5bGxhYmxlIHRleHQuICovXG4gIFRleHRFZGl0OiBUZXh0RWRpdEludGVyZmFjZTtcbiAgLyoqIE1vZHVsZSB0aGF0IGNvbnRyb2xzIHN0YXRlIGFuZCBjb250ZW50IG9mIE5lb24gbW9kYWwgd2luZG93cyAqL1xuICBtb2RhbDogTW9kYWxXaW5kb3dJbnRlcmZhY2U7XG4gIC8qKiBNb2R1bGUgdGhhdCBoYW5kbGVzIHVzZXIncyBzZXR0aW5ncyBzdG9yZWQgaW4gbG9jYWxTdG9yYWdlICovXG4gIGxvY2FsU2V0dGluZ3M6IExvY2FsU2V0dGluZ3M7XG5cbiAgcGFyYW1zOiBOZW9uVmlld1BhcmFtcztcblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIE5lb25WaWV3LiBTZXRzIG1vZGUgYW5kIHBhc3NlcyBjb25zdHJ1Y3RvcnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbXM6IE5lb25WaWV3UGFyYW1zKSB7XG4gICAgaWYgKCFwYXJzZU1hbmlmZXN0KHBhcmFtcy5tYW5pZmVzdCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBwYXJzZSB0aGUgbWFuaWZlc3QnKTtcbiAgICB9XG5cbiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICB0aGlzLm1hbmlmZXN0ID0gcGFyYW1zLm1hbmlmZXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1cCBOZW9uIGZvciBhbnkgcHJvdmlkZWQgZWRpdGluZyBtb2R1bGVzLlxuICAgKi9cbiAgc2V0dXBFZGl0KHBhcmFtczogTmVvblZpZXdQYXJhbXMpOiB2b2lkIHtcbiAgICAvLyBTZXQgdXAgYW5kIHN0YXJ0IHRoZSBjb3JyZWN0IGVkaXRpbmcgbW9kZVxuICAgIGlmIChwYXJhbXMuVGV4dFZpZXcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy50ZXh0VmlldyA9IG5ldyBwYXJhbXMuVGV4dFZpZXcodGhpcyk7XG4gICAgICBpZiAocGFyYW1zLlRleHRFZGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5UZXh0RWRpdCA9IG5ldyBwYXJhbXMuVGV4dEVkaXQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJhbXMuTmV1bWVFZGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuTmV1bWVFZGl0ID0gbmV3IHBhcmFtcy5OZXVtZUVkaXQodGhpcyk7XG4gICAgICB0aGlzLnRleHRWaWV3LnVwZGF0ZUJCb3hWaXNpYmlsaXR5KCk7XG4gICAgICBjb25zdCB7IHVzZXJNb2RlLCBpbnNlcnRNb2RlLCBzZWxlY3Rpb25Nb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5zZXJ0TW9kZSkuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3Rpb25Nb2RlKS5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICAgIHN3aXRjaCAodXNlck1vZGUpIHtcbiAgICAgICAgY2FzZSAnaW5zZXJ0JzpcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnNlcnRNb2RlKS5jbGljaygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlZGl0JzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3Rpb25Nb2RlKS5jbGljaygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBOZW9uXG4gICAqL1xuICBzdGFydCgpOiB2b2lkIHtcbiAgICAvKiB0aGlzLmNvcmUuZGIuaW5mbygpLnRoZW4oKGluZm8pID0+IHtcbiAgICAgIGlmIChpbmZvLmRvY19jb3VudCA9PT0gMCkge1xuICAgICAgICB0aGlzLmNvcmUuaW5pdERiKCkudGhlbigoKSA9PiB7IHRoaXMudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0V4aXN0aW5nIGRhdGFiYXNlIGZvdW5kLiBSZXZlcnQgdG8gc3RhcnQgZnJvbSB0aGUgYmVnaW5uaW5nLicpO1xuICAgICAgICB0aGlzLnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9XG4gICAgfSk7ICovXG4gICAgc2V0Qm9keSh0aGlzKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAvLyBsb2FkIHRoZSBjb21wb25lbnRzXG4gICAgICAgIHRoaXMubG9jYWxTZXR0aW5ncyA9IG5ldyBMb2NhbFNldHRpbmdzKHRoaXMubWFuaWZlc3RbJ0BpZCddKTtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IHRoaXMucGFyYW1zLlZpZXcoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICB0aGlzLnBhcmFtcy5EaXNwbGF5LFxuICAgICAgICAgIHRoaXMubWFuaWZlc3QuaW1hZ2UsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMubWFuaWZlc3QudGl0bGU7XG4gICAgICAgIHRoaXMuY29yZSA9IG5ldyBOZW9uQ29yZSh0aGlzLm1hbmlmZXN0KTtcbiAgICAgICAgdGhpcy5pbmZvID0gbmV3IHRoaXMucGFyYW1zLkluZm8odGhpcyk7XG4gICAgICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWxXaW5kb3codGhpcyk7XG4gICAgICAgIFZhbGlkYXRpb24uaW5pdCh0aGlzKTsgLy8gaW5pdGlhbGl6ZSB2YWxpZGF0aW9uXG4gICAgICAgIHNldERlYnVnTW9kZSgpO1xuICAgICAgICBsaXN0ZW5VbnNhdmVkQ2hhbmdlcygpO1xuXG4gICAgICAgIHRoaXMuc2V0dXBFZGl0KHRoaXMucGFyYW1zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29yZS5pbml0RGIoKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIGxvYWQgdGhlIFNWR1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVGb3JDdXJyZW50UGFnZSh0cnVlKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIGFkZCB0aGUgZXZlbnQgbGlzdGVuZXJzIGRlcGVuZGVudCBvbiB0aGUgU1ZHXG4gICAgICAgIHRoaXMudmlldy5vblNWR0xvYWQoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBwYWdlIGZyb20gdGhlIGxvYWRlZCB2aWV3IGFuZCB0aGVuIGRpc3BsYXkgdGhlXG4gICAqIG1vc3QgdXAgdG8gZGF0ZSBTVkcuXG4gICAqL1xuICB1cGRhdGVGb3JDdXJyZW50UGFnZShkZWxheSA9IGZhbHNlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcGFnZU5vID0gdGhpcy52aWV3LmdldEN1cnJlbnRQYWdlKCk7XG4gICAgcmV0dXJuIHRoaXMudmlldy5jaGFuZ2VQYWdlKHBhZ2VObywgZGVsYXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZG8gYW4gYWN0aW9uIHBlcmZvcm1lZCBvbiB0aGUgY3VycmVudCBwYWdlIChpZiB0aGVyZSBpcyBvbmUpLlxuICAgKi9cbiAgcmVkbygpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBzZXRTYXZlZFN0YXR1cyhmYWxzZSk7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5yZWRvKHRoaXMudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmRvIHRoZSBsYXN0IGFjdGlvbiBwZXJmb3JtZWQgb24gdGhlIGN1cnJlbnQgcGFnZSAoaWYgdGhlcmUgaXMgb25lKS5cbiAgICovXG4gIHVuZG8oKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgc2V0U2F2ZWRTdGF0dXMoZmFsc2UpO1xuICAgIHJldHVybiB0aGlzLmNvcmUudW5kbyh0aGlzLnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtb2RlIE5lb24gaXMgaW4uXG4gICAqIEByZXR1cm5zIFZhbHVlIGlzIFwidmlld2VyXCIsIFwiaW5zZXJ0XCIsIG9yIFwiZWRpdFwiLlxuICAgKi9cbiAgZ2V0VXNlck1vZGUoKTogVXNlclR5cGUge1xuICAgIGNvbnN0IHsgdXNlck1vZGUgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgcmV0dXJuIHVzZXJNb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGVtcHQgdG8gcGVyZm9ybSBhbiBlZGl0b3IgYWN0aW9uLlxuICAgKiBAcGFyYW0gYWN0aW9uIC0gVGhlIGVkaXRvciB0b29sa2l0IGFjdGlvbiBvYmplY3QuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgcGFnZSB0byBwZXJmb3JtIHRoZSBhY3Rpb24gb25cbiAgICovXG4gIGVkaXQoYWN0aW9uOiBFZGl0b3JBY3Rpb24sIHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmNvcmUuZWRpdChhY3Rpb24sIHBhZ2VVUkkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYXR0cmlidXRlcyBmb3IgYSBzcGVjaWZpYyBtdXNpY2FsIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBlbGVtZW50SWQgLSBUaGUgdW5pcXVlIElEIG9mIHRoZSBtdXNpY2FsIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgcGFnZSB0aGUgZWxlbWVudCBpcyBmb3VuZCBvbi5cbiAgICovXG4gIGdldEVsZW1lbnRBdHRyKGVsZW1lbnRJRDogc3RyaW5nLCBwYWdlVVJJOiBzdHJpbmcpOiBQcm9taXNlPEF0dHJpYnV0ZXM+IHtcbiAgICByZXR1cm4gdGhpcy5jb3JlLmdldEVsZW1lbnRBdHRyKGVsZW1lbnRJRCwgcGFnZVVSSSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBicm93c2VyIGRhdGFiYXNlIGFuZCBjcmVhdGVzIEpTT04tTEQgc2F2ZSBmaWxlLlxuICAgKiBAcmV0dXJucyBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlLlxuICAgKi9cbiAgZXhwb3J0KCk6IFByb21pc2U8c3RyaW5nIHwgQXJyYXlCdWZmZXI+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5jb3JlXG4gICAgICAgIC51cGRhdGVEYXRhYmFzZSgpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLm1hbmlmZXN0WydtZWlfYW5ub3RhdGlvbnMnXSA9IHRoaXMuY29yZS5nZXRBbm5vdGF0aW9ucygpO1xuICAgICAgICAgIHRoaXMubWFuaWZlc3QudGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgd2luZG93LkJsb2IoXG4gICAgICAgICAgICBbSlNPTi5zdHJpbmdpZnkodGhpcy5tYW5pZmVzdCwgbnVsbCwgMildLFxuICAgICAgICAgICAgeyB0eXBlOiAnYXBwbGljYXRpb24vbGQranNvbicgfSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIHRoZSBjdXJyZW50IHN0YXRlIHRvIHRoZSBicm93c2VyIGRhdGFiYXNlLlxuICAgKi9cbiAgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBzZXRTYXZlZFN0YXR1cyh0cnVlKTtcbiAgICByZXR1cm4gdGhpcy5jb3JlLnVwZGF0ZURhdGFiYXNlKCk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlcyB0aGUgbG9jYWwgZGF0YWJhc2Ugb2YgdGhlIGxvYWRlZCBNRUkgZmlsZShzKS5cbiAgICovXG4gIGRlbGV0ZURiKCk6IFByb21pc2U8dm9pZFtdPiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5kZWxldGVEYigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFnZSdzIE1FSSBmaWxlIGVuY29kZWQgYXMgYSBkYXRhIFVSSS5cbiAgICogQHBhcmFtIHBhZ2VObyAtIFRoZSBVUkkgc3BlY2lmeWluZyB0aGUgcGFnZS5cbiAgICogQHJldHVybnMgQSBbRGF0YSBVUkldKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RhdGFfVVJJX3NjaGVtZSkuXG4gICAqL1xuICBnZXRQYWdlVVJJKHBhZ2VObz86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgaWYgKHBhZ2VObyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBwYWdlTm8gPSB0aGlzLnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLmNvcmUuZ2V0TUVJKHBhZ2VObykudGhlbigobWVpKSA9PiB7XG4gICAgICAgIHJlc29sdmUoXG4gICAgICAgICAgJ2RhdGE6YXBwbGljYXRpb24vbWVpK3htbDtjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQobWVpKSxcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFnZSdzIE1FSSBmaWxlIGFzIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0gcGFnZU5vIC0gVGhlIGlkZW50aWZ5aW5nIFVSSSBvZiB0aGUgcGFnZS5cbiAgICovXG4gIGdldFBhZ2VNRUkocGFnZU5vOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmNvcmUuZ2V0TUVJKHBhZ2VObyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYWdlJ3MgU1ZHLlxuICAgKiBAcGFyYW0gcGFnZU5vIC0gVGhlIGlkZW50aWZ5aW5nIFVSSSBvZiB0aGUgcGFnZS5cbiAgICovXG4gIGdldFBhZ2VTVkcocGFnZU5vOiBzdHJpbmcpOiBQcm9taXNlPFNWR1NWR0VsZW1lbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5jb3JlLmdldFNWRyhwYWdlTm8pO1xuICB9XG59XG5cbmV4cG9ydCB7IE5lb25WaWV3IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7XG4gIGNoZWNrT3V0T2ZCb3VuZHNHbHlwaHMsXG4gIGNvbnZlcnRUb1Zlcm92aW8sXG4gIHJlbW92ZUNvbHVtbkxhYmVsLFxufSBmcm9tICcuL3V0aWxzL0NvbnZlcnRNZWknO1xuaW1wb3J0ICogYXMgVmFsaWRhdGlvbiBmcm9tICcuL1ZhbGlkYXRpb24nO1xuaW1wb3J0IFZlcm92aW9XcmFwcGVyIGZyb20gJy4vVmVyb3Zpb1dyYXBwZXInO1xuaW1wb3J0IHtcbiAgV2ViQW5ub3RhdGlvbixcbiAgQXR0cmlidXRlcyxcbiAgRWRpdG9yQWN0aW9uLFxuICBOZW9uTWFuaWZlc3QsXG4gIFZlcm92aW9NZXNzYWdlLFxufSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4vdXRpbHMvcmFuZG9tJztcblxuaW1wb3J0IFBvdWNoREIgZnJvbSAncG91Y2hkYic7XG5pbXBvcnQgeyBzZXRTYXZlZFN0YXR1cyB9IGZyb20gJy4vdXRpbHMvVW5zYXZlZCc7XG5cbi8qKlxuICogQSBjYWNoZSBpcyB1c2VkIHRvIGtlZXAgdHJhY2sgb2Ygd2hhdCBoYXMgaGFwcGVuZWRcbiAqIGFjcm9zcyBtdWx0aXBsZSBwYWdlcyBpbiBhIG1hbnVzY3JpcHQgd2l0aG91dCBoYXZpbmdcbiAqIHRvIG1ha2UgbWFueSBjYWxscyB0byB0aGUgUG91Y2hoRGIgZGF0YWJhc2UuXG4gKi9cbmludGVyZmFjZSBDYWNoZUVudHJ5IHtcbiAgZGlydHk6IGJvb2xlYW47XG4gIG1laTogc3RyaW5nO1xuICBzdmc6IFNWR1NWR0VsZW1lbnQ7XG59XG5cbi8qKlxuICogVGhlIGNvcmUgY29tcG9uZW50IG9mIE5lb24uIFRoaXMgbWFuYWdlcyB0aGUgZGF0YWJhc2UsXG4gKiB0aGUgdmVyb3ZpbyB0b29sa2l0LCB0aGUgY2FjaGUsIGFuZCB1bmRvL3JlZG8gc3RhY2tzLlxuICovXG5jbGFzcyBOZW9uQ29yZSB7XG4gIC8qKiBXcmFwcGVyIGZvciB0aGUgVmVyb3ZpbyBXZWJXb3JrZXIuICovXG4gIHByaXZhdGUgdmVyb3Zpb1dyYXBwZXI6IFZlcm92aW9XcmFwcGVyO1xuICAvKiogU3RhY2tzIG9mIGFjdGlvbnMgdGhhdCBjYW4gYmUgdW5kb25lIHBlciBwYWdlLiAqL1xuICBwcml2YXRlIHVuZG9TdGFja3M6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPjtcbiAgLyoqIFN0YWNrcyBvZiBhY3Rpb25zIHRoYXQgY2FuIGJlIHJlZG9uZSBwZXIgcGFnZS4gKi9cbiAgcHJpdmF0ZSByZWRvU3RhY2tzOiBNYXA8c3RyaW5nLCBzdHJpbmdbXT47XG4gIC8qKiBDYWNoZSBjb250YWluaW5nIGVudHJpZXMgZm9yIGVhY2ggcGFnZS4gKi9cbiAgcHJpdmF0ZSBuZW9uQ2FjaGU6IE1hcDxzdHJpbmcsIENhY2hlRW50cnk+O1xuICBwcml2YXRlIGRiOiBQb3VjaERCLkRhdGFiYXNlO1xuICBwcml2YXRlIHBhcnNlcjogRE9NUGFyc2VyO1xuICAvKiogUGFnZXMga25vd24gbm90IHRvIGhhdmUgYW55IGFzc29jaWF0ZWQgTUVJLiAqL1xuICBwcml2YXRlIGJsYW5rUGFnZXM6IEFycmF5PHN0cmluZz47XG4gIC8qKiBBIGNvbGxlY3Rpb24gb2YgVzMgV2ViIEFubm90YXRpb25zLiAqL1xuICBwcml2YXRlIGFubm90YXRpb25zOiBXZWJBbm5vdGF0aW9uW107XG4gIHByaXZhdGUgbWFuaWZlc3Q6IE5lb25NYW5pZmVzdDtcbiAgcHJpdmF0ZSBsYXN0UGFnZUxvYWRlZDogc3RyaW5nO1xuXG4gIGdldEFubm90YXRpb25zKCk6IFdlYkFubm90YXRpb25bXSB7XG4gICAgcmV0dXJuIHRoaXMuYW5ub3RhdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIE5lb25Db3JlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYW5pZmVzdDogTmVvbk1hbmlmZXN0KSB7XG4gICAgdGhpcy52ZXJvdmlvV3JhcHBlciA9IG5ldyBWZXJvdmlvV3JhcHBlcigpO1xuICAgIC8vVmFsaWRhdGlvbi5pbml0KCk7XG5cbiAgICAvKipcbiAgICAgKiBTdGFja3Mgb2YgcHJldmlvdXMgTUVJIGZpbGVzIHJlcHJlc2VudGluZyBhY3Rpb25zIHRoYXQgY2FuIGJlIHVuZG9uZSBmb3IgZWFjaCBwYWdlLlxuICAgICAqIEB0eXBlIHtNYXAuPHN0cmluZywgQXJyYXkuPHN0cmluZz4+fVxuICAgICAqL1xuICAgIHRoaXMudW5kb1N0YWNrcyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKTtcblxuICAgIC8qKlxuICAgICAqIFN0YWNrcyBvZiBwcmV2aW91cyBNRUkgZmlsZXMgcmVwcmVzZW50aW5nIGFjdGlvbnMgdGhhdCBjYW4gYmUgcmVkb25lIGZvciBlYWNoIHBhZ2UuXG4gICAgICogQHR5cGUge01hcC48c3RyaW5nLCBBcnJheS48c3RyaW5nPj59XG4gICAgICovXG4gICAgdGhpcy5yZWRvU3RhY2tzID0gbmV3IE1hcCgpO1xuXG4gICAgdGhpcy5uZW9uQ2FjaGUgPSBuZXcgTWFwKCk7XG5cbiAgICB0aGlzLnBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgIHRoaXMuZGIgPSBuZXcgUG91Y2hEQignTmVvbicpO1xuXG4gICAgdGhpcy5ibGFua1BhZ2VzID0gW107XG5cbiAgICAvLyBBZGQgZWFjaCBNRUkgdG8gdGhlIGRhdGFiYXNlXG4gICAgdGhpcy5tYW5pZmVzdCA9IG1hbmlmZXN0O1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBtYW5pZmVzdC5tZWlfYW5ub3RhdGlvbnM7XG4gICAgdGhpcy5sYXN0UGFnZUxvYWRlZCA9ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIFBvdWNoRGIgZGF0YWJhc2UgYmFzZWQgb24gdGhlIHByb3ZpZGVkIG1hbmlmZXN0LlxuICAgKiBJZiBhIG5ld2VyIHZlcnNpb24gYWxyZWFkeSBleGlzdHMgaW4gdGhlIGRhdGFiYXNlLCB0aGlzIHdpbGxcbiAgICogbm90IHVwZGF0ZSB0aGUgZGF0YWJhc2UgdW5sZXNzIGZvcmNlZC5cbiAgICogQHBhcmFtIGZvcmNlIC0gSWYgYSBkYXRhYmFzZSB1cGRhdGUgc2hvdWxkIGJlIGZvcmNlZC5cbiAgICovXG4gIGFzeW5jIGluaXREYihmb3JjZSA9IGZhbHNlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgLy8gQ2hlY2sgZm9yIGV4aXN0aW5nIG1hbmlmZXN0XG4gICAgdHlwZSBEYkFubm90YXRpb24gPSBQb3VjaERCLkNvcmUuSWRNZXRhICZcbiAgICAgIFBvdWNoREIuQ29yZS5HZXRNZXRhICZcbiAgICAgIFdlYkFubm90YXRpb247XG4gICAgdHlwZSBEb2MgPSBQb3VjaERCLkNvcmUuSWRNZXRhICZcbiAgICAgIFBvdWNoREIuQ29yZS5HZXRNZXRhICYgeyB0aW1lc3RhbXA6IHN0cmluZzsgYW5ub3RhdGlvbnM6IHN0cmluZ1tdIH07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBuZXcgUHJvbWlzZTxib29sZWFuPigocmVzb2x2ZSwgcmVqZWN0KTogdm9pZCA9PiB7XG4gICAgICB0aGlzLmRiXG4gICAgICAgIC5nZXQodGhpcy5tYW5pZmVzdFsnQGlkJ10pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKGVyci5uYW1lID09PSAnbm90X2ZvdW5kJykge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG5ldyBkb2N1bWVudC5cbiAgICAgICAgICAgIGNvbnN0IGRvYyA9IHtcbiAgICAgICAgICAgICAgX2lkOiB0aGlzLm1hbmlmZXN0WydAaWQnXSxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm1hbmlmZXN0LnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgaW1hZ2U6IHRoaXMubWFuaWZlc3QuaW1hZ2UsXG4gICAgICAgICAgICAgIHRpdGxlOiB0aGlzLm1hbmlmZXN0LnRpdGxlLFxuICAgICAgICAgICAgICBhbm5vdGF0aW9uczogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9ucy5mb3JFYWNoKChhbm5vdGF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgIGRvYy5hbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb24uaWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbihhc3luYyAoZG9jOiBEb2MpID0+IHtcbiAgICAgICAgICAvLyBDaGVjayBpZiBkb2MgdGltZXN0YW1wIGlzIG5ld2VyIHRoYW4gbWFuaWZlc3RcbiAgICAgICAgICBjb25zdCBkb2NUaW1lID0gbmV3IERhdGUoZG9jLnRpbWVzdGFtcCkuZ2V0VGltZSgpO1xuICAgICAgICAgIC8vIEZvcm1hdCB0aW1lc3RhbXAgdG8gc3BlY2lmaWMgSVNPIDg2MDEgdmFyaWFudCBiZWNhdXNlXG4gICAgICAgICAgLy8gU2FmYXJpIHJlcXVpcmVzIHRpbWV6b25lIG9mZnNldHMgdG8gYmUgKy8tSEg6TU0gYW5kIGZhaWxzIG9uXG4gICAgICAgICAgLy8gdGhlIGVxdWFsbHkgdmFsaWQgKy8tSEhNTS4gVGhpcyBkb2Vzbid0IG5lZWQgdG8gYmUgYXBwbGllZCB0b1xuICAgICAgICAgIC8vIHRoZSBicm93c2VyIGdlbmVyYXRlZCB0aW1lc3RhbXAgc2luY2UgdGhhdCBhbHdheXMgZ2VuZXJhdGVzIGFcbiAgICAgICAgICAvLyB0aW1lc3RhbXAgaW4gVVRDIHdpdGggdGhlIFogZW5kaW5nLlxuICAgICAgICAgIGNvbnN0IHRpbWVab25lUmVnZXhwID0gLyguK1stK1xcdTIyMTJdXFxkXFxkKShcXGRcXGQpJC87XG4gICAgICAgICAgY29uc3QgbWFuVGltZSA9IHRpbWVab25lUmVnZXhwLnRlc3QodGhpcy5tYW5pZmVzdC50aW1lc3RhbXApXG4gICAgICAgICAgICA/IG5ldyBEYXRlKFxuICAgICAgICAgICAgICAgIHRoaXMubWFuaWZlc3QudGltZXN0YW1wLnJlcGxhY2UodGltZVpvbmVSZWdleHAsICckMTokMicpLFxuICAgICAgICAgICAgICApLmdldFRpbWUoKVxuICAgICAgICAgICAgOiBuZXcgRGF0ZSh0aGlzLm1hbmlmZXN0LnRpbWVzdGFtcCkuZ2V0VGltZSgpO1xuICAgICAgICAgIGlmIChkb2NUaW1lID4gbWFuVGltZSkge1xuICAgICAgICAgICAgaWYgKCFmb3JjZSkge1xuICAgICAgICAgICAgICAvLyBGaWxsIGFubm90YXRpb25zIGxpc3Qgd2l0aCBkYiBhbm5vdGF0aW9uc1xuICAgICAgICAgICAgICB0aGlzLmFubm90YXRpb25zID0gW107XG4gICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gZG9jLmFubm90YXRpb25zLm1hcCgoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmRiXG4gICAgICAgICAgICAgICAgICAgIC5nZXQoaWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChhbm5vdGF0aW9uOiBEYkFubm90YXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFubm90YXRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGFubm90YXRpb24uX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0Fubm90YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYW5ub3RhdGlvbi5ib2R5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBhbm5vdGF0aW9uLnRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICByZXMoJycpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICByZXMoJycpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGNvbnN0IGFubm90YXRpb24gb2YgdGhpcy5hbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgLy8gQWRkIGFubm90YXRpb25zIHRvIGRhdGFiYXNlXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRiXG4gICAgICAgICAgICAgIC5nZXQoYW5ub3RhdGlvbi5pZClcbiAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLm5hbWUgPT09ICdub3RfZm91bmQnKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBfaWQ6IGFubm90YXRpb24uaWQsXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAudGhlbigobmV3QW5ub3RhdGlvbjogRGJBbm5vdGF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgbmV3QW5ub3RhdGlvbi5ib2R5ID0gYW5ub3RhdGlvbi5ib2R5O1xuICAgICAgICAgICAgICAgIG5ld0Fubm90YXRpb24udGFyZ2V0ID0gYW5ub3RhdGlvbi50YXJnZXQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGIucHV0KG5ld0Fubm90YXRpb24pO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aGlzLmRiLnB1dChkb2MpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGEgcGFnZSBpbnRvIHRoZSB2ZXJvdmlvIHRvb2xraXQuIFRoaXMgd2lsbCBmZXRjaCB0aGVcbiAgICogcGFnZSBmcm9tIHRoZSBjYWNoZSBvciBmcm9tIHRoZSBkYXRhYmFzZS5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBUaGUgVVJJIG9mIHRoZSBzZWxlY3RlZCBwYWdlLlxuICAgKi9cbiAgbG9hZFBhZ2UocGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxDYWNoZUVudHJ5PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpOiB2b2lkID0+IHtcbiAgICAgIC8vIFdhcyB0aGlzIGFscmVhZHkgdGhlIGxvYWRlZCBwYWdlP1xuICAgICAgaWYgKHRoaXMubGFzdFBhZ2VMb2FkZWQgPT09IHBhZ2VVUkkgJiYgdGhpcy5uZW9uQ2FjaGUuaGFzKHBhZ2VVUkkpKSB7XG4gICAgICAgIHJlc29sdmUodGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5uZW9uQ2FjaGUuaGFzKHBhZ2VVUkkpKSB7XG4gICAgICAgIHRoaXMubG9hZERhdGEocGFnZVVSSSwgdGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpLm1laSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSh0aGlzLm5lb25DYWNoZS5nZXQocGFnZVVSSSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRG8gd2Uga25vdyB0aGlzIHBhZ2UgaGFzIG5vIE1FSSBjb250ZW50P1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmJsYW5rUGFnZXMuaW5jbHVkZXMocGFnZVVSSSkpIHtcbiAgICAgICAgVmFsaWRhdGlvbi5ibGFua1BhZ2UoKTtcbiAgICAgICAgY29uc3QgZSA9IG5ldyBFcnJvcignTm8gTUVJIGZpbGUgZm9yIHBhZ2UgJyArIHBhZ2VVUkkpO1xuICAgICAgICBlLm5hbWUgPSAnbWlzc2luZ19tZWknO1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGaW5kIGFubm90YXRpb25cbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbiA9IHRoaXMuYW5ub3RhdGlvbnMuZmluZCgoZWxlbSkgPT4ge1xuICAgICAgICAgIHJldHVybiBlbGVtLnRhcmdldCA9PT0gcGFnZVVSSTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhbm5vdGF0aW9uKSB7XG4gICAgICAgICAgd2luZG93XG4gICAgICAgICAgICAuZmV0Y2goYW5ub3RhdGlvbi5ib2R5KVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIE1FSSBmaWxlIGlzIHNiLWJhc2VkLiBJZiBzbywgY29udmVydCB0byBzdGFmZi1iYXNlZC5cbiAgICAgICAgICAgICAgaWYgKCEvPHNlY3Rpb25cXGJbXj5dKlxcYnR5cGU9XCJuZW9uLW5ldW1lLWxpbmVcIltePl0qPi8udGVzdChkYXRhKSkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBjb252ZXJ0VG9WZXJvdmlvKGRhdGEpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2hlY2tPdXRPZkJvdW5kc0dseXBocyhkYXRhKTtcbiAgICAgICAgICAgICAgdGhpcy5sb2FkRGF0YShwYWdlVVJJLCBkYXRhKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMubmVvbkNhY2hlLmdldChwYWdlVVJJKSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSWYgbm8gYW5ub3RhdGlvbiB3YXMgZm91bmQgdHJlYXQgdGhlIHBhZ2UgYXNcbiAgICAgICAgICAvLyBiZWluZyBibGFua1xuICAgICAgICAgIFZhbGlkYXRpb24uYmxhbmtQYWdlKCk7XG4gICAgICAgICAgdGhpcy5ibGFua1BhZ2VzLnB1c2gocGFnZVVSSSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGRhdGEgaW50byB0aGUgdmVyb3ZpbyB0b29sa2l0IGFuZCB1cGRhdGUgdGhlIGNhY2hlLlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqIEBwYXJhbSBkYXRhIC0gVGhlIE1FSSBvZiB0aGUgcGFnZSBhcyBhIHN0cmluZy5cbiAgICogQHBhcmFtIGRpcnR5IC0gSWYgdGhlIGNhY2hlIGVudHJ5IHNob3VsZCBiZSBtYXJrZWQgYXMgZGlydHkuXG4gICAqL1xuICBsb2FkRGF0YShwYWdlVVJJOiBzdHJpbmcsIGRhdGE6IHN0cmluZywgZGlydHkgPSBmYWxzZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIFZhbGlkYXRpb24uc2VuZEZvclZhbGlkYXRpb24ocmVtb3ZlQ29sdW1uTGFiZWwoZGF0YSkpO1xuICAgIHRoaXMubGFzdFBhZ2VMb2FkZWQgPSBwYWdlVVJJO1xuICAgIC8qIEEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgcmVzdWx0IG9mIHRoZSBhY3Rpb24uXG4gICAgICogSG93ZXZlciB0aGUgdmFsdWUgdGhhdCBpcyBtdXN0IHJldHVybiBjb21lcyBmcm9tIHRoZSBXZWIgV29ya2VyIGFuZFxuICAgICAqIGluZm9ybWF0aW9uIHBhc3NlZCBiZXR3ZWVuIHRoZSB3b3JrZXIgYW5kIG1haW4gY29udGV4dCBtdWNoIGJlIGluIGFcbiAgICAgKiBtZXNzYWdlLiBTbyBhbiBldmVudCBoYW5kbGVyIGlzIHB1dCBvbiB2ZXJvdmlvV3JhcHBlciBmb3Igd2hlbiBhIG1lc3NhZ2VcbiAgICAgKiBpcyByZWNlaWV2ZWQgZnJvbSB0aGUgd29ya2VyLiBUaGVuIGEgbWVzc2FnZSBpcyBzZW50IHRvIHRoZSB3b3JrZXIgdG9cbiAgICAgKiB0YWtlIGFuIGFjdGlvbi4gQSByZXNwb25zZSBpcyBzZW50IGJhY2sgYW5kIHRoZSBwcmV2aW91c2x5IG1lbnRpb25lZFxuICAgICAqIGV2ZW50IGhhbmRsZXIgaGFuZGxlcyB0aGUgcmVzcG9uc2UuIFNpbmNlIGl0IGlzIGRlZmluZWQgd2l0aGluIHRoZVxuICAgICAqIHByb21pc2UgaXQgaGFzIGFjY2VzcyB0byB0aGUgbmVjZXNzYXJ5IHJlc29sdmUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBhY3Rpb246ICdyZW5kZXJEYXRhJyxcbiAgICAgICAgbWVpOiBkYXRhLFxuICAgICAgfTtcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShldnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoZXZ0LmRhdGEuaWQgPT09IG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICBjb25zdCBzdmcgPSB0aGlzLnBhcnNlci5wYXJzZUZyb21TdHJpbmcoXG4gICAgICAgICAgICBldnQuZGF0YS5zdmcsXG4gICAgICAgICAgICAnaW1hZ2Uvc3ZnK3htbCcsXG4gICAgICAgICAgKS5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgdGhpcy5uZW9uQ2FjaGUuc2V0KHBhZ2VVUkksIHtcbiAgICAgICAgICAgIHN2Zzogc3ZnLFxuICAgICAgICAgICAgbWVpOiBkYXRhLFxuICAgICAgICAgICAgZGlydHk6IGRpcnR5LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGUuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgU1ZHIGZvciBhIHNwZWNpZmljIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICovXG4gIGdldFNWRyhwYWdlVVJJOiBzdHJpbmcpOiBQcm9taXNlPFNWR1NWR0VsZW1lbnQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5sb2FkUGFnZShwYWdlVVJJKVxuICAgICAgICAudGhlbigoZW50cnkpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGVudHJ5LnN2Zyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgTUVJIGZvciBhIHNwZWNpZmljIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICovXG4gIGdldE1FSShwYWdlVVJJOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KTogdm9pZCA9PiB7XG4gICAgICB0aGlzLmxvYWRQYWdlKHBhZ2VVUkkpXG4gICAgICAgIC50aGVuKChlbnRyeSkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZW50cnkubWVpKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG11c2ljYWwgZWxlbWVudCBhdHRyaWJ1dGVzIGZyb20gdGhlIHZlcm92aW8gdG9vbGtpdC5cbiAgICogQHBhcmFtIGVsZW1lbnRJZCAtIFRoZSB1bmlxdWUgSUQgb2YgdGhlIG11c2ljYWwgZWxlbWVudC5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBUaGUgVVJJIG9mIHRoZSBzZWxlY3RlZCBwYWdlLlxuICAgKi9cbiAgZ2V0RWxlbWVudEF0dHIoZWxlbWVudElkOiBzdHJpbmcsIHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8QXR0cmlidXRlcz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5sb2FkUGFnZShwYWdlVVJJKS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZTogVmVyb3Zpb01lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgIGFjdGlvbjogJ2dldEVsZW1lbnRBdHRyJyxcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICdtZXNzYWdlJyxcbiAgICAgICAgICBmdW5jdGlvbiBoYW5kbGUoZXZ0OiBNZXNzYWdlRXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgICBldnQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGUpO1xuICAgICAgICAgICAgICByZXNvbHZlKGV2dC5kYXRhLmF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtIGFuIGVkaXRvciBhY3Rpb24gb24gYSBzcGVjaWZpYyBwYWdlLlxuICAgKiBAcGFyYW0gYWN0aW9uIC0gVGhlIGVkaXRvciB0b29sa2l0IGFjdGlvbiBvYmplY3QuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICovXG4gIGVkaXQoZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24sIHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGxldCBwcm9taXNlOiBQcm9taXNlPENhY2hlRW50cnk+O1xuICAgIGlmICh0aGlzLmxhc3RQYWdlTG9hZGVkID09PSBwYWdlVVJJKSB7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHRoaXMubmVvbkNhY2hlLmdldChwYWdlVVJJKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UgPSB0aGlzLmxvYWRQYWdlKHBhZ2VVUkkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpOiB2b2lkID0+IHtcbiAgICAgIHByb21pc2UudGhlbigoZW50cnkpID0+IHtcbiAgICAgICAgLy8gZGVsZXRlIHVubmVjZXNzYXJ5IFNWRyBvYmplY3QgcmVmZXJlbmNlO1xuICAgICAgICAvLyBvdGhlcndpc2UsIHRoaXMgaXMgbm90IGdhcmJhZ2UgY29sbGVjdGVkIVxuICAgICAgICBlbnRyeS5zdmcgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRNRUkgPSBlbnRyeS5tZWk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdlZGl0JyxcbiAgICAgICAgICBlZGl0b3JBY3Rpb246IGVkaXRvckFjdGlvbixcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlKHRoaXM6IE5lb25Db3JlLCBldnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgaWYgKGV2dC5kYXRhLnJlc3VsdCkge1xuICAgICAgICAgICAgICBpZiAoIXRoaXMudW5kb1N0YWNrcy5oYXMocGFnZVVSSSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuZG9TdGFja3Muc2V0KHBhZ2VVUkksIFtdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEFkZCB0byB1bmRvIHN0YWNrOlxuICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGJvdHRvbW1vc3QgTUVJIHN0cmluZyBvbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgLy8gaWYgdGhlIHN0YWNrIGlzID4gMTAgc3RyaW5nc1xuICAgICAgICAgICAgICBjb25zdCB1bmRvU3RhY2sgPSB0aGlzLnVuZG9TdGFja3MuZ2V0KHBhZ2VVUkkpO1xuICAgICAgICAgICAgICBjb25zdCBsZW4gPSB1bmRvU3RhY2sucHVzaChjdXJyZW50TUVJKTtcblxuICAgICAgICAgICAgICBpZiAobGVuID4gMTApIHRoaXMudW5kb1N0YWNrcy5zZXQocGFnZVVSSSwgdW5kb1N0YWNrLnNsaWNlKDEpKTtcblxuICAgICAgICAgICAgICAvLyBDbGVhciByZWRvIHN0YWNrOlxuICAgICAgICAgICAgICB0aGlzLnJlZG9TdGFja3Muc2V0KHBhZ2VVUkksIFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNhY2hlKHBhZ2VVUkksIHRydWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKGV2dC5kYXRhLnJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFNhdmVkU3RhdHVzKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGNvbnRlbnRzIG9mIHRoZSBjYWNoZSB1c2luZyBpbmZvcm1hdGlvbiBpbiB2ZXJvdmlvIHRvb2xraXQuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gUGFnZSB0byBiZSB1cGRhdGVkIGluIGNhY2hlLlxuICAgKiBAcGFyYW0gZGlydHkgLSBJZiB0aGUgZW50cnkgc2hvdWxkIGJlIG1hcmtlZCBhcyBkaXJ0eVxuICAgKi9cbiAgdXBkYXRlQ2FjaGUocGFnZVVSSTogc3RyaW5nLCBkaXJ0eTogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgLy8gTXVzdCBnZXQgTUVJIGFuZCB0aGVuIGdldCBTVkcgdGhlbiBmaW5pc2guXG4gICAgICBsZXQgbWVpOiBzdHJpbmcsIHN2Z1RleHQ6IHN0cmluZztcbiAgICAgIGNvbnN0IG1laVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSA9IHtcbiAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgYWN0aW9uOiAnZ2V0TUVJJyxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICdtZXNzYWdlJyxcbiAgICAgICAgICBmdW5jdGlvbiBoYW5kbGUoZXZ0OiBNZXNzYWdlRXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgICBtZWkgPSBldnQuZGF0YS5tZWk7XG4gICAgICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgICAgIFZhbGlkYXRpb24uc2VuZEZvclZhbGlkYXRpb24ocmVtb3ZlQ29sdW1uTGFiZWwobWVpKSk7XG4gICAgICAgICAgICAgIHJlc29sdmUoJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHN2Z1Byb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSA9IHtcbiAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgYWN0aW9uOiAncmVuZGVyVG9TVkcnLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgJ21lc3NhZ2UnLFxuICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZShldnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgICAgaWYgKGV2dC5kYXRhLmlkID09PSBtZXNzYWdlLmlkKSB7XG4gICAgICAgICAgICAgIHN2Z1RleHQgPSBldnQuZGF0YS5zdmc7XG4gICAgICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgICAgIHJlc29sdmUoJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICB9KTtcblxuICAgICAgbWVpUHJvbWlzZVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHN2Z1Byb21pc2U7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBjb25zdCBzdmcgPSB0aGlzLnBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3ZnVGV4dCwgJ2ltYWdlL3N2Zyt4bWwnKVxuICAgICAgICAgICAgLmRvY3VtZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudCAmIFNWR1NWR0VsZW1lbnQ7XG4gICAgICAgICAgdGhpcy5uZW9uQ2FjaGUuc2V0KHBhZ2VVUkksIHtcbiAgICAgICAgICAgIG1laTogbWVpLFxuICAgICAgICAgICAgc3ZnOiBzdmcsXG4gICAgICAgICAgICBkaXJ0eTogZGlydHksXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGVkaXQgaW5mbyBzdHJpbmcgZnJvbSB0aGUgdmVyb3ZpbyB0b29sa2l0LlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHBhZ2UgdG8gZ2V0IHRoZSBlZGl0IGluZm8gc3RyaW5nIGZyb20uXG4gICAqL1xuICBpbmZvKHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbGV0IHByb21pc2U6IFByb21pc2U8Q2FjaGVFbnRyeSB8IHZvaWQ+O1xuICAgIGlmICh0aGlzLmxhc3RQYWdlTG9hZGVkID09PSBwYWdlVVJJKSB7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UgPSB0aGlzLmxvYWRQYWdlKHBhZ2VVUkkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpOiB2b2lkID0+IHtcbiAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdlZGl0SW5mbycsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAnbWVzc2FnZScsXG4gICAgICAgICAgZnVuY3Rpb24gaGFuZGxlKGV2dDogTWVzc2FnZUV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZ0LmRhdGEuaWQgPT09IG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICAgICAgZXZ0LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShldnQuZGF0YS5pbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVW5kbyB0aGUgbGFzdCBhY3Rpb24gcGVyZm9ybWVkIG9uIGEgc3BlY2lmaWMgcGFnZS5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBUaGUgVVJJIG9mIHRoZSBzZWxlY3RlZCBwYWdlLlxuICAgKiBAcmV0dXJucyBJZiB0aGUgYWN0aW9uIHdhcyB1bmRvbmUuXG4gICAqL1xuICB1bmRvKHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnVuZG9TdGFja3MuaGFzKHBhZ2VVUkkpKSByZXR1cm4gcmVzb2x2ZShmYWxzZSk7XG5cbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy51bmRvU3RhY2tzLmdldChwYWdlVVJJKS5wb3AoKTtcbiAgICAgIGlmICghc3RhdGUpIHJldHVybiByZXNvbHZlKGZhbHNlKTtcblxuICAgICAgY29uc3QgbWVpID0gYXdhaXQgdGhpcy5nZXRNRUkocGFnZVVSSSk7XG4gICAgICB0aGlzLnJlZG9TdGFja3MuZ2V0KHBhZ2VVUkkpLnB1c2gobWVpKTtcbiAgICAgIGF3YWl0IHRoaXMubG9hZERhdGEocGFnZVVSSSwgc3RhdGUsIHRydWUpO1xuXG4gICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWRvIHRoZSBsYXN0IGFjdGlvbiBwZXJmb3JtZWQgb24gYSBwYWdlLlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBwYWdlIFVSSS5cbiAgICogQHJldHVybnMgSWYgdGhlIGFjdGlvbiB3YXMgcmVkb25lLlxuICAgKi9cbiAgcmVkbyhwYWdlVVJJOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICAgIGlmICghdGhpcy5yZWRvU3RhY2tzLmhhcyhwYWdlVVJJKSkgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuXG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucmVkb1N0YWNrcy5nZXQocGFnZVVSSSkucG9wKCk7XG4gICAgICBpZiAoIXN0YXRlKSByZXR1cm4gcmVzb2x2ZShmYWxzZSk7XG5cbiAgICAgIGNvbnN0IG1laSA9IGF3YWl0IHRoaXMuZ2V0TUVJKHBhZ2VVUkkpO1xuICAgICAgdGhpcy51bmRvU3RhY2tzLmdldChwYWdlVVJJKS5wdXNoKG1laSk7XG4gICAgICBhd2FpdCB0aGlzLmxvYWREYXRhKHBhZ2VVUkksIHN0YXRlLCB0cnVlKTtcblxuICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBQb3VjaERiIGRhdGFiYXNlIHN0b3JlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICogVGhpcyBpcyBiYXNlZCBvbiB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNhY2hlLiBUbyBzYXZlIHRpbWUsXG4gICAqIG9ubHkgZW50cmllcyBtYXJrZWQgYXMgZGlydHkgd2lsbCBiZSB1cGRhdGVkLlxuICAgKi9cbiAgYXN5bmMgdXBkYXRlRGF0YWJhc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHlwZSBEb2MgPSBQb3VjaERCLkNvcmUuR2V0TWV0YSAmXG4gICAgICBQb3VjaERCLkNvcmUuSWRNZXRhICYgeyBib2R5OiBzdHJpbmc7IHRpbWVzdGFtcDogc3RyaW5nIH07XG4gICAgbGV0IHVwZGF0ZVRpbWVzdGFtcCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgcGFpciBvZiB0aGlzLm5lb25DYWNoZSkge1xuICAgICAgY29uc3Qga2V5ID0gcGFpclswXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gcGFpclsxXTtcbiAgICAgIGlmICh2YWx1ZS5kaXJ0eSkge1xuICAgICAgICB1cGRhdGVUaW1lc3RhbXAgPSB0cnVlO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuYW5ub3RhdGlvbnMuZmluZEluZGV4KChlbGVtKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGVsZW0udGFyZ2V0ID09PSBrZXk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyB0cnkgdG8gdXBkYXRlIHNlcnZlciB3aXRoIFBVVCByZXF1ZXN0IChpZiBhcHBsaWNhYmxlKVxuICAgICAgICAvLyB0aGlzIGlzIHNpbXBsZXIgdGhhbiBleHBlY3RpbmcgYSBzcGVjaWZpYyBBUEkgb24gdGhlIHNlcnZlclxuICAgICAgICAvLyBhbmQgdXNpbmcgUE9TVCByZXF1ZXN0cywgYWx0aG91Z2ggdGhhdCB3b3VsZCBiZSBiZXR0ZXIgaWYgdGhlcmVcbiAgICAgICAgLy8gaXMgZXZlciBhIGRlZGljYXRlZCBwdWJsaWMgc2VydmVyIGZvciBOZW9uISBBdCB0aW1lIG9mIHdyaXRpbmcsXG4gICAgICAgIC8vIG9ubHkgZGV2L3Rlc3Rpbmcgc2VydmVyIGFjY2VwdHMgUFVUIHJlcXVlc3RzLlxuICAgICAgICAvLyBvbmx5IGF0dGVtcHQgaWYgbm90IGEgZGF0YSBVUklcbiAgICAgICAgbGV0IHVyaTogc3RyaW5nO1xuICAgICAgICBpZiAoIXRoaXMuYW5ub3RhdGlvbnNbaW5kZXhdLmJvZHkubWF0Y2goL15kYXRhOi8pKSB7XG4gICAgICAgICAgYXdhaXQgd2luZG93XG4gICAgICAgICAgICAuZmV0Y2godGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keSwge1xuICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vbWVpK3htbCcgfSxcbiAgICAgICAgICAgICAgYm9keTogdmFsdWUubWVpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICB1cmkgPSB0aGlzLmFubm90YXRpb25zW2luZGV4XS5ib2R5O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVyaSA9XG4gICAgICAgICAgICAgICAgICAnZGF0YTphcHBsaWNhdGlvbi9tZWkreG1sO2Jhc2U2NCwnICsgd2luZG93LmJ0b2EodmFsdWUubWVpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWxsaW5nIGJhY2sgdG8gZGF0YSBVUkknKTtcbiAgICAgICAgICAgICAgdXJpID0gJ2RhdGE6YXBwbGljYXRpb24vbWVpK3htbDtiYXNlNjQsJyArIHdpbmRvdy5idG9hKHZhbHVlLm1laSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cmkgPSAnZGF0YTphcHBsaWNhdGlvbi9tZWkreG1sO2Jhc2U2NCwnICsgd2luZG93LmJ0b2EodmFsdWUubWVpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgVVJJIGluIGFubm90YXRpb25zLCBkYXRhYmFzZVxuICAgICAgICB0aGlzLmFubm90YXRpb25zW2luZGV4XS5ib2R5ID0gdXJpO1xuICAgICAgICBhd2FpdCB0aGlzLmRiXG4gICAgICAgICAgLmdldCh0aGlzLmFubm90YXRpb25zW2luZGV4XS5pZClcbiAgICAgICAgICAudGhlbigoZG9jOiBEb2MpID0+IHtcbiAgICAgICAgICAgIGRvYy5ib2R5ID0gdXJpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGIucHV0KGRvYyk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB2YWx1ZS5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXBkYXRlVGltZXN0YW1wKSB7XG4gICAgICBhd2FpdCB0aGlzLmRiXG4gICAgICAgIC5nZXQodGhpcy5tYW5pZmVzdFsnQGlkJ10pXG4gICAgICAgIC50aGVuKChkb2M6IERvYykgPT4ge1xuICAgICAgICAgIGRvYy50aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGIucHV0KGRvYyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKiogQ29tcGxldGVseSByZW1vdmUgdGhlIGRhdGFiYXNlLiAqL1xuICBhc3luYyBkZWxldGVEYigpOiBQcm9taXNlPHZvaWRbXT4ge1xuICAgIHR5cGUgRG9jID0gUG91Y2hEQi5Db3JlLklkTWV0YSAmXG4gICAgICBQb3VjaERCLkNvcmUuR2V0TWV0YSAmIHsgdGltZXN0YW1wOiBzdHJpbmc7IGFubm90YXRpb25zOiBzdHJpbmdbXSB9O1xuICAgIGNvbnN0IGFubm90YXRpb25zID0gYXdhaXQgdGhpcy5kYlxuICAgICAgLmdldCh0aGlzLm1hbmlmZXN0WydAaWQnXSlcbiAgICAgIC50aGVuKChkb2M6IERvYykgPT4ge1xuICAgICAgICByZXR1cm4gZG9jLmFubm90YXRpb25zO1xuICAgICAgfSk7XG4gICAgYW5ub3RhdGlvbnMucHVzaCh0aGlzLm1hbmlmZXN0WydAaWQnXSk7XG5cbiAgICBjb25zdCBwcm9taXNlcyA9IGFubm90YXRpb25zLm1hcCgoaWQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzKSA9PiB7XG4gICAgICAgIHRoaXMuZGJcbiAgICAgICAgICAuZ2V0KGlkKVxuICAgICAgICAgIC50aGVuKChkb2MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiLnJlbW92ZShkb2MpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKCkgPT4gcmVzKCkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgfVxufVxuXG5leHBvcnQgeyBOZW9uQ29yZSBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBWZXJvdmlvTWVzc2FnZSB9IGZyb20gJy4vVHlwZXMnO1xuXG4vKipcbiAqIEEgd3JhcHBlciBhcm91bmQgdGhlIHZlcm92aW8gd2ViIHdvcmtlciB0byBwZXJtaXQgbW9ja2luZyBpbiB0ZXN0cy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVyb3Zpb1dyYXBwZXIge1xuICBwcml2YXRlIHZlcm92aW9Xb3JrZXI6IFdvcmtlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdGhpcy52ZXJvdmlvV29ya2VyID0gbmV3IFdvcmtlcihcbiAgICAgICAgX19BU1NFVF9QUkVGSVhfXyArICd3b3JrZXJzL1Zlcm92aW9Xb3JrZXIuanMnLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52ZXJvdmlvV29ya2VyID0gbmV3IFdvcmtlcihcbiAgICAgICAgX19BU1NFVF9QUkVGSVhfXyArICd3b3JrZXJzL1Zlcm92aW9Xb3JrZXItZGV2LmpzJyxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMudmVyb3Zpb1dvcmtlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ21lc3NhZ2UnLFxuICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlLmJpbmQodGhpcyksXG4gICAgKTtcbiAgICB0aGlzLnZlcm92aW9Xb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLmhhbmRsZUVycm9yLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhbiBldmVudCBsaXN0ZW5lciBvbnRvIHRoZSBhY3R1YWwgd2ViIHdvcmtlci5cbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGhhbmRsZXI6IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QsXG4gICk6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLnZlcm92aW9Xb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXIgZnJvbSB0aGUgYWN0dWFsIHdlYiB3b3JrZXIuXG4gICAqL1xuICByZW1vdmVFdmVudExpc3RlbmVyKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBoYW5kbGVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LFxuICApOiB2b2lkIHtcbiAgICByZXR1cm4gdGhpcy52ZXJvdmlvV29ya2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBhIG1lc3NhZ2UgdG8gdGhlIGFjdHVhbCB3ZWIgd29ya2VyLlxuICAgKi9cbiAgcG9zdE1lc3NhZ2UobWVzc2FnZTogVmVyb3Zpb01lc3NhZ2UpOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZygnVmVyb3Zpb1dyYXBwZXI6IHBvc3RpbmcgbWVzc2FnZScsIG1lc3NhZ2UpO1xuICAgIHJldHVybiB0aGlzLnZlcm92aW9Xb3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1lc3NhZ2UoZXZlbnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKCdWZXJvdmlvV3JhcHBlcjogcmVjZWl2ZWQgbWVzc2FnZScsIGV2ZW50LmRhdGEpO1xuICAgIC8vIERpc3BhdGNoIHRoZSBldmVudCB0byB0aGUgYXBwcm9wcmlhdGUgaGFuZGxlclxuICAgIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi5cbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlRXJyb3IoZXZlbnQ6IEVycm9yRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zb2xlLmVycm9yKCdWZXJvdmlvV3JhcHBlcjogZXJyb3InLCBldmVudC5tZXNzYWdlKTtcbiAgfVxufVxuIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXZhci1yZXF1aXJlcyAqL1xuaW1wb3J0IHsgTmVvbk1hbmlmZXN0IH0gZnJvbSAnLi4vVHlwZXMnO1xuY29uc3QgTmVvblNjaGVtYSA9IHJlcXVpcmUoJy4vbWFuaWZlc3QvTmVvblNjaGVtYS5qc29uJyk7XG5jb25zdCBOZW9uQ29udGV4dCA9IHJlcXVpcmUoJy4vbWFuaWZlc3QvY29udGV4dC5qc29uJyk7XG5pbXBvcnQgeyB2YWxpZGF0ZSB9IGZyb20gJ2pzb25zY2hlbWEnO1xuXG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHByb3ZpZGVkIE5lb24gbWFuaWZlc3QgaXMgcGFyc2VhYmxlLlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0U3RyaW5nIC0gVGhlIE5lb24gbWFuaWZlc3QgYXMgYSBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1hbmlmZXN0IChtYW5pZmVzdFN0cmluZzogTmVvbk1hbmlmZXN0KTogYm9vbGVhbiB7XG4gIGNvbnN0IHJlc3VsdHMgPSB2YWxpZGF0ZShtYW5pZmVzdFN0cmluZywgTmVvblNjaGVtYSk7XG4gIGNvbnN0IGluc3RhbmNlID0gcmVzdWx0cy5pbnN0YW5jZTtcbiAgaWYgKHJlc3VsdHMuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zb2xlLmVycm9yKHJlc3VsdHMuZXJyb3JzKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgY29udGV4dCA9IGluc3RhbmNlWydAY29udGV4dCddO1xuICBpZiAoY29udGV4dCA9PT0gJ2h0dHBzOi8vZGRtYWwubXVzaWMubWNnaWxsLmNhL05lb24vY29udGV4dHMvMS9tYW5pZmVzdC5qc29ubGQnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKChjb250ZXh0WzBdID09PSBOZW9uQ29udGV4dFswXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWydzY2hlbWEnXSA9PT0gTmVvbkNvbnRleHRbMV1bJ3NjaGVtYSddKSAmJlxuICAgICAgKGNvbnRleHRbMV1bJ3RpdGxlJ10gPT09IE5lb25Db250ZXh0WzFdWyd0aXRsZSddKSAmJlxuICAgICAgKGNvbnRleHRbMV1bJ3RpbWVzdGFtcCddID09PSBOZW9uQ29udGV4dFsxXVsndGltZXN0YW1wJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnaW1hZ2UnXVsnQGlkJ10gPT09IE5lb25Db250ZXh0WzFdWydpbWFnZSddWydAaWQnXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWydpbWFnZSddWydAdHlwZSddID09PSBOZW9uQ29udGV4dFsxXVsnaW1hZ2UnXVsnQHR5cGUnXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWydtZWlfYW5ub3RhdGlvbnMnXVsnQGlkJ10gPT09IE5lb25Db250ZXh0WzFdWydtZWlfYW5ub3RhdGlvbnMnXVsnQGlkJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0B0eXBlJ10gPT09IE5lb25Db250ZXh0WzFdWydtZWlfYW5ub3RhdGlvbnMnXVsnQHR5cGUnXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWydtZWlfYW5ub3RhdGlvbnMnXVsnQGNvbnRhaW5lciddID09PSBOZW9uQ29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0Bjb250YWluZXInXSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKCdDb250ZXh0IG1pc21hdGNoJyk7XG4gICAgY29uc29sZS5lcnJvcihjb250ZXh0KTtcbiAgICBjb25zb2xlLmVycm9yKE5lb25Db250ZXh0KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFZhbGlkYXRvciA9IG1vZHVsZS5leHBvcnRzLlZhbGlkYXRvciA9IHJlcXVpcmUoJy4vdmFsaWRhdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzLlZhbGlkYXRvclJlc3VsdCA9IHJlcXVpcmUoJy4vaGVscGVycycpLlZhbGlkYXRvclJlc3VsdDtcbm1vZHVsZS5leHBvcnRzLlZhbGlkYXRvclJlc3VsdEVycm9yID0gcmVxdWlyZSgnLi9oZWxwZXJzJykuVmFsaWRhdG9yUmVzdWx0RXJyb3I7XG5tb2R1bGUuZXhwb3J0cy5WYWxpZGF0aW9uRXJyb3IgPSByZXF1aXJlKCcuL2hlbHBlcnMnKS5WYWxpZGF0aW9uRXJyb3I7XG5tb2R1bGUuZXhwb3J0cy5TY2hlbWFFcnJvciA9IHJlcXVpcmUoJy4vaGVscGVycycpLlNjaGVtYUVycm9yO1xubW9kdWxlLmV4cG9ydHMuU2NoZW1hU2NhblJlc3VsdCA9IHJlcXVpcmUoJy4vc2NhbicpLlNjaGVtYVNjYW5SZXN1bHQ7XG5tb2R1bGUuZXhwb3J0cy5zY2FuID0gcmVxdWlyZSgnLi9zY2FuJykuc2NhbjtcblxubW9kdWxlLmV4cG9ydHMudmFsaWRhdGUgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucykge1xuICB2YXIgdiA9IG5ldyBWYWxpZGF0b3IoKTtcbiAgcmV0dXJuIHYudmFsaWRhdGUoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXJpbGliID0gcmVxdWlyZSgndXJsJyk7XG5cbnZhciBhdHRyaWJ1dGUgPSByZXF1aXJlKCcuL2F0dHJpYnV0ZScpO1xudmFyIGhlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMnKTtcbnZhciBzY2FuU2NoZW1hID0gcmVxdWlyZSgnLi9zY2FuJykuc2NhbjtcbnZhciBWYWxpZGF0b3JSZXN1bHQgPSBoZWxwZXJzLlZhbGlkYXRvclJlc3VsdDtcbnZhciBWYWxpZGF0b3JSZXN1bHRFcnJvciA9IGhlbHBlcnMuVmFsaWRhdG9yUmVzdWx0RXJyb3I7XG52YXIgU2NoZW1hRXJyb3IgPSBoZWxwZXJzLlNjaGVtYUVycm9yO1xudmFyIFNjaGVtYUNvbnRleHQgPSBoZWxwZXJzLlNjaGVtYUNvbnRleHQ7XG4vL3ZhciBhbm9ueW1vdXNCYXNlID0gJ3ZuZC5qc29uc2NoZW1hOi8vLyc7XG52YXIgYW5vbnltb3VzQmFzZSA9ICcvJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFZhbGlkYXRvciBvYmplY3RcbiAqIEBuYW1lIFZhbGlkYXRvclxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBWYWxpZGF0b3IgPSBmdW5jdGlvbiBWYWxpZGF0b3IgKCkge1xuICAvLyBBbGxvdyBhIHZhbGlkYXRvciBpbnN0YW5jZSB0byBvdmVycmlkZSBnbG9iYWwgY3VzdG9tIGZvcm1hdHMgb3IgdG8gaGF2ZSB0aGVpclxuICAvLyBvd24gY3VzdG9tIGZvcm1hdHMuXG4gIHRoaXMuY3VzdG9tRm9ybWF0cyA9IE9iamVjdC5jcmVhdGUoVmFsaWRhdG9yLnByb3RvdHlwZS5jdXN0b21Gb3JtYXRzKTtcbiAgdGhpcy5zY2hlbWFzID0ge307XG4gIHRoaXMudW5yZXNvbHZlZFJlZnMgPSBbXTtcblxuICAvLyBVc2UgT2JqZWN0LmNyZWF0ZSB0byBtYWtlIHRoaXMgZXh0ZW5zaWJsZSB3aXRob3V0IFZhbGlkYXRvciBpbnN0YW5jZXMgc3RlcHBpbmcgb24gZWFjaCBvdGhlcidzIHRvZXMuXG4gIHRoaXMudHlwZXMgPSBPYmplY3QuY3JlYXRlKHR5cGVzKTtcbiAgdGhpcy5hdHRyaWJ1dGVzID0gT2JqZWN0LmNyZWF0ZShhdHRyaWJ1dGUudmFsaWRhdG9ycyk7XG59O1xuXG4vLyBBbGxvdyBmb3JtYXRzIHRvIGJlIHJlZ2lzdGVyZWQgZ2xvYmFsbHkuXG5WYWxpZGF0b3IucHJvdG90eXBlLmN1c3RvbUZvcm1hdHMgPSB7fTtcblxuLy8gSGludCBhdCB0aGUgcHJlc2VuY2Ugb2YgYSBwcm9wZXJ0eVxuVmFsaWRhdG9yLnByb3RvdHlwZS5zY2hlbWFzID0gbnVsbDtcblZhbGlkYXRvci5wcm90b3R5cGUudHlwZXMgPSBudWxsO1xuVmFsaWRhdG9yLnByb3RvdHlwZS5hdHRyaWJ1dGVzID0gbnVsbDtcblZhbGlkYXRvci5wcm90b3R5cGUudW5yZXNvbHZlZFJlZnMgPSBudWxsO1xuXG4vKipcbiAqIEFkZHMgYSBzY2hlbWEgd2l0aCBhIGNlcnRhaW4gdXJuIHRvIHRoZSBWYWxpZGF0b3IgaW5zdGFuY2UuXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gdXJuXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblZhbGlkYXRvci5wcm90b3R5cGUuYWRkU2NoZW1hID0gZnVuY3Rpb24gYWRkU2NoZW1hIChzY2hlbWEsIGJhc2UpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoIXNjaGVtYSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBzY2FuID0gc2NhblNjaGVtYShiYXNlfHxhbm9ueW1vdXNCYXNlLCBzY2hlbWEpO1xuICB2YXIgb3VyVXJpID0gYmFzZSB8fCBzY2hlbWEuJGlkIHx8IHNjaGVtYS5pZDtcbiAgZm9yKHZhciB1cmkgaW4gc2Nhbi5pZCl7XG4gICAgdGhpcy5zY2hlbWFzW3VyaV0gPSBzY2FuLmlkW3VyaV07XG4gIH1cbiAgZm9yKHZhciB1cmkgaW4gc2Nhbi5yZWYpe1xuICAgIC8vIElmIHRoaXMgc2NoZW1hIGlzIGFscmVhZHkgZGVmaW5lZCwgaXQgd2lsbCBiZSBmaWx0ZXJlZCBvdXQgYnkgdGhlIG5leHQgc3RlcFxuICAgIHRoaXMudW5yZXNvbHZlZFJlZnMucHVzaCh1cmkpO1xuICB9XG4gIC8vIFJlbW92ZSBuZXdseSBkZWZpbmVkIHNjaGVtYXMgZnJvbSB1bnJlc29sdmVkUmVmc1xuICB0aGlzLnVucmVzb2x2ZWRSZWZzID0gdGhpcy51bnJlc29sdmVkUmVmcy5maWx0ZXIoZnVuY3Rpb24odXJpKXtcbiAgICByZXR1cm4gdHlwZW9mIHNlbGYuc2NoZW1hc1t1cmldPT09J3VuZGVmaW5lZCc7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5zY2hlbWFzW291clVyaV07XG59O1xuXG5WYWxpZGF0b3IucHJvdG90eXBlLmFkZFN1YlNjaGVtYUFycmF5ID0gZnVuY3Rpb24gYWRkU3ViU2NoZW1hQXJyYXkoYmFzZXVyaSwgc2NoZW1hcykge1xuICBpZighQXJyYXkuaXNBcnJheShzY2hlbWFzKSkgcmV0dXJuO1xuICBmb3IodmFyIGk9MDsgaTxzY2hlbWFzLmxlbmd0aDsgaSsrKXtcbiAgICB0aGlzLmFkZFN1YlNjaGVtYShiYXNldXJpLCBzY2hlbWFzW2ldKTtcbiAgfVxufTtcblxuVmFsaWRhdG9yLnByb3RvdHlwZS5hZGRTdWJTY2hlbWFPYmplY3QgPSBmdW5jdGlvbiBhZGRTdWJTY2hlbWFBcnJheShiYXNldXJpLCBzY2hlbWFzKSB7XG4gIGlmKCFzY2hlbWFzIHx8IHR5cGVvZiBzY2hlbWFzIT0nb2JqZWN0JykgcmV0dXJuO1xuICBmb3IodmFyIHAgaW4gc2NoZW1hcyl7XG4gICAgdGhpcy5hZGRTdWJTY2hlbWEoYmFzZXVyaSwgc2NoZW1hc1twXSk7XG4gIH1cbn07XG5cblxuXG4vKipcbiAqIFNldHMgYWxsIHRoZSBzY2hlbWFzIG9mIHRoZSBWYWxpZGF0b3IgaW5zdGFuY2UuXG4gKiBAcGFyYW0gc2NoZW1hc1xuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLnNldFNjaGVtYXMgPSBmdW5jdGlvbiBzZXRTY2hlbWFzIChzY2hlbWFzKSB7XG4gIHRoaXMuc2NoZW1hcyA9IHNjaGVtYXM7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHNjaGVtYSBvZiBhIGNlcnRhaW4gdXJuXG4gKiBAcGFyYW0gdXJuXG4gKi9cblZhbGlkYXRvci5wcm90b3R5cGUuZ2V0U2NoZW1hID0gZnVuY3Rpb24gZ2V0U2NoZW1hICh1cm4pIHtcbiAgcmV0dXJuIHRoaXMuc2NoZW1hc1t1cm5dO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgaW5zdGFuY2UgYWdhaW5zdCB0aGUgcHJvdmlkZWQgc2NoZW1hXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBbb3B0aW9uc11cbiAqIEBwYXJhbSBbY3R4XVxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblZhbGlkYXRvci5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmKCh0eXBlb2Ygc2NoZW1hICE9PSAnYm9vbGVhbicgJiYgdHlwZW9mIHNjaGVtYSAhPT0gJ29iamVjdCcpIHx8IHNjaGVtYSA9PT0gbnVsbCl7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKCdFeHBlY3RlZCBgc2NoZW1hYCB0byBiZSBhbiBvYmplY3Qgb3IgYm9vbGVhbicpO1xuICB9XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICAvLyBUaGlzIHNlY3Rpb24gaW5kZXhlcyBzdWJzY2hlbWFzIGluIHRoZSBwcm92aWRlZCBzY2hlbWEsIHNvIHRoZXkgZG9uJ3QgbmVlZCB0byBiZSBhZGRlZCB3aXRoIFZhbGlkYXRvciNhZGRTY2hlbWFcbiAgLy8gVGhpcyB3aWxsIHdvcmsgc28gbG9uZyBhcyB0aGUgZnVuY3Rpb24gYXQgdXJpLnJlc29sdmUoKSB3aWxsIHJlc29sdmUgYSByZWxhdGl2ZSBVUkkgdG8gYSByZWxhdGl2ZSBVUklcbiAgdmFyIGlkID0gc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG4gIHZhciBiYXNlID0gdXJpbGliLnJlc29sdmUob3B0aW9ucy5iYXNlfHxhbm9ueW1vdXNCYXNlLCBpZHx8JycpO1xuICBpZighY3R4KXtcbiAgICBjdHggPSBuZXcgU2NoZW1hQ29udGV4dChzY2hlbWEsIG9wdGlvbnMsIFtdLCBiYXNlLCBPYmplY3QuY3JlYXRlKHRoaXMuc2NoZW1hcykpO1xuICAgIGlmICghY3R4LnNjaGVtYXNbYmFzZV0pIHtcbiAgICAgIGN0eC5zY2hlbWFzW2Jhc2VdID0gc2NoZW1hO1xuICAgIH1cbiAgICB2YXIgZm91bmQgPSBzY2FuU2NoZW1hKGJhc2UsIHNjaGVtYSk7XG4gICAgZm9yKHZhciBuIGluIGZvdW5kLmlkKXtcbiAgICAgIHZhciBzY2ggPSBmb3VuZC5pZFtuXTtcbiAgICAgIGN0eC5zY2hlbWFzW25dID0gc2NoO1xuICAgIH1cbiAgfVxuICBpZihvcHRpb25zLnJlcXVpcmVkICYmIGluc3RhbmNlPT09dW5kZWZpbmVkKXtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICAgIHJlc3VsdC5hZGRFcnJvcignaXMgcmVxdWlyZWQsIGJ1dCBpcyB1bmRlZmluZWQnKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIHZhciByZXN1bHQgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmICghcmVzdWx0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZXN1bHQgdW5kZWZpbmVkJyk7XG4gIH1lbHNlIGlmKG9wdGlvbnMudGhyb3dBbGwgJiYgcmVzdWx0LmVycm9ycy5sZW5ndGgpe1xuICAgIHRocm93IG5ldyBWYWxpZGF0b3JSZXN1bHRFcnJvcihyZXN1bHQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiogQHBhcmFtIE9iamVjdCBzY2hlbWFcbiogQHJldHVybiBtaXhlZCBzY2hlbWEgdXJpIG9yIGZhbHNlXG4qL1xuZnVuY3Rpb24gc2hvdWxkUmVzb2x2ZShzY2hlbWEpIHtcbiAgdmFyIHJlZiA9ICh0eXBlb2Ygc2NoZW1hID09PSAnc3RyaW5nJykgPyBzY2hlbWEgOiBzY2hlbWEuJHJlZjtcbiAgaWYgKHR5cGVvZiByZWY9PSdzdHJpbmcnKSByZXR1cm4gcmVmO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIGFuIGluc3RhbmNlIGFnYWluc3QgdGhlIHNjaGVtYSAodGhlIGFjdHVhbCB3b3JrIGhvcnNlKVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge1ZhbGlkYXRvclJlc3VsdH1cbiAqL1xuVmFsaWRhdG9yLnByb3RvdHlwZS52YWxpZGF0ZVNjaGVtYSA9IGZ1bmN0aW9uIHZhbGlkYXRlU2NoZW1hIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcblxuICAvLyBTdXBwb3J0IGZvciB0aGUgdHJ1ZS9mYWxzZSBzY2hlbWFzXG4gIGlmKHR5cGVvZiBzY2hlbWE9PT0nYm9vbGVhbicpIHtcbiAgICBpZihzY2hlbWE9PT10cnVlKXtcbiAgICAgIC8vIGB0cnVlYCBpcyBhbHdheXMgdmFsaWRcbiAgICAgIHNjaGVtYSA9IHt9O1xuICAgIH1lbHNlIGlmKHNjaGVtYT09PWZhbHNlKXtcbiAgICAgIC8vIGBmYWxzZWAgaXMgYWx3YXlzIGludmFsaWRcbiAgICAgIHNjaGVtYSA9IHt0eXBlOiBbXX07XG4gICAgfVxuICB9ZWxzZSBpZighc2NoZW1hKXtcbiAgICAvLyBUaGlzIG1pZ2h0IGJlIGEgc3RyaW5nXG4gICAgdGhyb3cgbmV3IEVycm9yKFwic2NoZW1hIGlzIHVuZGVmaW5lZFwiKTtcbiAgfVxuXG4gIGlmIChzY2hlbWFbJ2V4dGVuZHMnXSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYVsnZXh0ZW5kcyddKSkge1xuICAgICAgdmFyIHNjaGVtYW9iaiA9IHtzY2hlbWE6IHNjaGVtYSwgY3R4OiBjdHh9O1xuICAgICAgc2NoZW1hWydleHRlbmRzJ10uZm9yRWFjaCh0aGlzLnNjaGVtYVRyYXZlcnNlci5iaW5kKHRoaXMsIHNjaGVtYW9iaikpO1xuICAgICAgc2NoZW1hID0gc2NoZW1hb2JqLnNjaGVtYTtcbiAgICAgIHNjaGVtYW9iai5zY2hlbWEgPSBudWxsO1xuICAgICAgc2NoZW1hb2JqLmN0eCA9IG51bGw7XG4gICAgICBzY2hlbWFvYmogPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlbWEgPSBoZWxwZXJzLmRlZXBNZXJnZShzY2hlbWEsIHRoaXMuc3VwZXJSZXNvbHZlKHNjaGVtYVsnZXh0ZW5kcyddLCBjdHgpKTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiBwYXNzZWQgYSBzdHJpbmcgYXJndW1lbnQsIGxvYWQgdGhhdCBzY2hlbWEgVVJJXG4gIHZhciBzd2l0Y2hTY2hlbWEgPSBzaG91bGRSZXNvbHZlKHNjaGVtYSk7XG4gIGlmIChzd2l0Y2hTY2hlbWEpIHtcbiAgICB2YXIgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUoc2NoZW1hLCBzd2l0Y2hTY2hlbWEsIGN0eCk7XG4gICAgdmFyIHN1YmN0eCA9IG5ldyBTY2hlbWFDb250ZXh0KHJlc29sdmVkLnN1YnNjaGVtYSwgb3B0aW9ucywgY3R4LnBhdGgsIHJlc29sdmVkLnN3aXRjaFNjaGVtYSwgY3R4LnNjaGVtYXMpO1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCByZXNvbHZlZC5zdWJzY2hlbWEsIG9wdGlvbnMsIHN1YmN0eCk7XG4gIH1cblxuICB2YXIgc2tpcEF0dHJpYnV0ZXMgPSBvcHRpb25zICYmIG9wdGlvbnMuc2tpcEF0dHJpYnV0ZXMgfHwgW107XG4gIC8vIFZhbGlkYXRlIGVhY2ggc2NoZW1hIGF0dHJpYnV0ZSBhZ2FpbnN0IHRoZSBpbnN0YW5jZVxuICBmb3IgKHZhciBrZXkgaW4gc2NoZW1hKSB7XG4gICAgaWYgKCFhdHRyaWJ1dGUuaWdub3JlUHJvcGVydGllc1trZXldICYmIHNraXBBdHRyaWJ1dGVzLmluZGV4T2Yoa2V5KSA8IDApIHtcbiAgICAgIHZhciB2YWxpZGF0b3JFcnIgPSBudWxsO1xuICAgICAgdmFyIHZhbGlkYXRvciA9IHRoaXMuYXR0cmlidXRlc1trZXldO1xuICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICB2YWxpZGF0b3JFcnIgPSB2YWxpZGF0b3IuY2FsbCh0aGlzLCBpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmFsbG93VW5rbm93bkF0dHJpYnV0ZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIC8vIFRoaXMgcmVwcmVzZW50cyBhbiBlcnJvciB3aXRoIHRoZSBzY2hlbWEgaXRzZWxmLCBub3QgYW4gaW52YWxpZCBpbnN0YW5jZVxuICAgICAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJVbnN1cHBvcnRlZCBhdHRyaWJ1dGU6IFwiICsga2V5LCBzY2hlbWEpO1xuICAgICAgfVxuICAgICAgaWYgKHZhbGlkYXRvckVycikge1xuICAgICAgICByZXN1bHQuaW1wb3J0RXJyb3JzKHZhbGlkYXRvckVycik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLnJld3JpdGUgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciB2YWx1ZSA9IG9wdGlvbnMucmV3cml0ZS5jYWxsKHRoaXMsIGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gICAgcmVzdWx0Lmluc3RhbmNlID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuKiBAcHJpdmF0ZVxuKiBAcGFyYW0gT2JqZWN0IHNjaGVtYVxuKiBAcGFyYW0gU2NoZW1hQ29udGV4dCBjdHhcbiogQHJldHVybnMgT2JqZWN0IHNjaGVtYSBvciByZXNvbHZlZCBzY2hlbWFcbiovXG5WYWxpZGF0b3IucHJvdG90eXBlLnNjaGVtYVRyYXZlcnNlciA9IGZ1bmN0aW9uIHNjaGVtYVRyYXZlcnNlciAoc2NoZW1hb2JqLCBzKSB7XG4gIHNjaGVtYW9iai5zY2hlbWEgPSBoZWxwZXJzLmRlZXBNZXJnZShzY2hlbWFvYmouc2NoZW1hLCB0aGlzLnN1cGVyUmVzb2x2ZShzLCBzY2hlbWFvYmouY3R4KSk7XG59O1xuXG4vKipcbiogQHByaXZhdGVcbiogQHBhcmFtIE9iamVjdCBzY2hlbWFcbiogQHBhcmFtIFNjaGVtYUNvbnRleHQgY3R4XG4qIEByZXR1cm5zIE9iamVjdCBzY2hlbWEgb3IgcmVzb2x2ZWQgc2NoZW1hXG4qL1xuVmFsaWRhdG9yLnByb3RvdHlwZS5zdXBlclJlc29sdmUgPSBmdW5jdGlvbiBzdXBlclJlc29sdmUgKHNjaGVtYSwgY3R4KSB7XG4gIHZhciByZWYgPSBzaG91bGRSZXNvbHZlKHNjaGVtYSk7XG4gIGlmKHJlZikge1xuICAgIHJldHVybiB0aGlzLnJlc29sdmUoc2NoZW1hLCByZWYsIGN0eCkuc3Vic2NoZW1hO1xuICB9XG4gIHJldHVybiBzY2hlbWE7XG59O1xuXG4vKipcbiogQHByaXZhdGVcbiogQHBhcmFtIE9iamVjdCBzY2hlbWFcbiogQHBhcmFtIE9iamVjdCBzd2l0Y2hTY2hlbWFcbiogQHBhcmFtIFNjaGVtYUNvbnRleHQgY3R4XG4qIEByZXR1cm4gT2JqZWN0IHJlc29sdmVkIHNjaGVtYXMge3N1YnNjaGVtYTpTdHJpbmcsIHN3aXRjaFNjaGVtYTogU3RyaW5nfVxuKiBAdGhyb3dzIFNjaGVtYUVycm9yXG4qL1xuVmFsaWRhdG9yLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZSAoc2NoZW1hLCBzd2l0Y2hTY2hlbWEsIGN0eCkge1xuICBzd2l0Y2hTY2hlbWEgPSBjdHgucmVzb2x2ZShzd2l0Y2hTY2hlbWEpO1xuICAvLyBGaXJzdCBzZWUgaWYgdGhlIHNjaGVtYSBleGlzdHMgdW5kZXIgdGhlIHByb3ZpZGVkIFVSSVxuICBpZiAoY3R4LnNjaGVtYXNbc3dpdGNoU2NoZW1hXSkge1xuICAgIHJldHVybiB7c3Vic2NoZW1hOiBjdHguc2NoZW1hc1tzd2l0Y2hTY2hlbWFdLCBzd2l0Y2hTY2hlbWE6IHN3aXRjaFNjaGVtYX07XG4gIH1cbiAgLy8gRWxzZSB0cnkgd2Fsa2luZyB0aGUgcHJvcGVydHkgcG9pbnRlclxuICB2YXIgcGFyc2VkID0gdXJpbGliLnBhcnNlKHN3aXRjaFNjaGVtYSk7XG4gIHZhciBmcmFnbWVudCA9IHBhcnNlZCAmJiBwYXJzZWQuaGFzaDtcbiAgdmFyIGRvY3VtZW50ID0gZnJhZ21lbnQgJiYgZnJhZ21lbnQubGVuZ3RoICYmIHN3aXRjaFNjaGVtYS5zdWJzdHIoMCwgc3dpdGNoU2NoZW1hLmxlbmd0aCAtIGZyYWdtZW50Lmxlbmd0aCk7XG4gIGlmICghZG9jdW1lbnQgfHwgIWN0eC5zY2hlbWFzW2RvY3VtZW50XSkge1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcihcIm5vIHN1Y2ggc2NoZW1hIDxcIiArIHN3aXRjaFNjaGVtYSArIFwiPlwiLCBzY2hlbWEpO1xuICB9XG4gIHZhciBzdWJzY2hlbWEgPSBoZWxwZXJzLm9iamVjdEdldFBhdGgoY3R4LnNjaGVtYXNbZG9jdW1lbnRdLCBmcmFnbWVudC5zdWJzdHIoMSkpO1xuICBpZihzdWJzY2hlbWE9PT11bmRlZmluZWQpe1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcihcIm5vIHN1Y2ggc2NoZW1hIFwiICsgZnJhZ21lbnQgKyBcIiBsb2NhdGVkIGluIDxcIiArIGRvY3VtZW50ICsgXCI+XCIsIHNjaGVtYSk7XG4gIH1cbiAgcmV0dXJuIHtzdWJzY2hlbWE6IHN1YnNjaGVtYSwgc3dpdGNoU2NoZW1hOiBzd2l0Y2hTY2hlbWF9O1xufTtcblxuLyoqXG4gKiBUZXN0cyB3aGV0aGVyIHRoZSBpbnN0YW5jZSBpZiBvZiBhIGNlcnRhaW4gdHlwZS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcGFyYW0gdHlwZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuVmFsaWRhdG9yLnByb3RvdHlwZS50ZXN0VHlwZSA9IGZ1bmN0aW9uIHZhbGlkYXRlVHlwZSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCB0eXBlKSB7XG4gIGlmKHR5cGU9PT11bmRlZmluZWQpe1xuICAgIHJldHVybjtcbiAgfWVsc2UgaWYodHlwZT09PW51bGwpe1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcignVW5leHBlY3RlZCBudWxsIGluIFwidHlwZVwiIGtleXdvcmQnKTtcbiAgfVxuICBpZiAodHlwZW9mIHRoaXMudHlwZXNbdHlwZV0gPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGlzLnR5cGVzW3R5cGVdLmNhbGwodGhpcywgaW5zdGFuY2UpO1xuICB9XG4gIGlmICh0eXBlICYmIHR5cGVvZiB0eXBlID09ICdvYmplY3QnKSB7XG4gICAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEoaW5zdGFuY2UsIHR5cGUsIG9wdGlvbnMsIGN0eCk7XG4gICAgcmV0dXJuIHJlcyA9PT0gdW5kZWZpbmVkIHx8ICEocmVzICYmIHJlcy5lcnJvcnMubGVuZ3RoKTtcbiAgfVxuICAvLyBVbmRlZmluZWQgb3IgcHJvcGVydGllcyBub3Qgb24gdGhlIGxpc3QgYXJlIGFjY2VwdGFibGUsIHNhbWUgYXMgbm90IGJlaW5nIGRlZmluZWRcbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgdHlwZXMgPSBWYWxpZGF0b3IucHJvdG90eXBlLnR5cGVzID0ge307XG50eXBlcy5zdHJpbmcgPSBmdW5jdGlvbiB0ZXN0U3RyaW5nIChpbnN0YW5jZSkge1xuICByZXR1cm4gdHlwZW9mIGluc3RhbmNlID09ICdzdHJpbmcnO1xufTtcbnR5cGVzLm51bWJlciA9IGZ1bmN0aW9uIHRlc3ROdW1iZXIgKGluc3RhbmNlKSB7XG4gIC8vIGlzRmluaXRlIHJldHVybnMgZmFsc2UgZm9yIE5hTiwgSW5maW5pdHksIGFuZCAtSW5maW5pdHlcbiAgcmV0dXJuIHR5cGVvZiBpbnN0YW5jZSA9PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShpbnN0YW5jZSk7XG59O1xudHlwZXMuaW50ZWdlciA9IGZ1bmN0aW9uIHRlc3RJbnRlZ2VyIChpbnN0YW5jZSkge1xuICByZXR1cm4gKHR5cGVvZiBpbnN0YW5jZSA9PSAnbnVtYmVyJykgJiYgaW5zdGFuY2UgJSAxID09PSAwO1xufTtcbnR5cGVzLmJvb2xlYW4gPSBmdW5jdGlvbiB0ZXN0Qm9vbGVhbiAoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIHR5cGVvZiBpbnN0YW5jZSA9PSAnYm9vbGVhbic7XG59O1xudHlwZXMuYXJyYXkgPSBmdW5jdGlvbiB0ZXN0QXJyYXkgKGluc3RhbmNlKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGluc3RhbmNlKTtcbn07XG50eXBlc1snbnVsbCddID0gZnVuY3Rpb24gdGVzdE51bGwgKGluc3RhbmNlKSB7XG4gIHJldHVybiBpbnN0YW5jZSA9PT0gbnVsbDtcbn07XG50eXBlcy5kYXRlID0gZnVuY3Rpb24gdGVzdERhdGUgKGluc3RhbmNlKSB7XG4gIHJldHVybiBpbnN0YW5jZSBpbnN0YW5jZW9mIERhdGU7XG59O1xudHlwZXMuYW55ID0gZnVuY3Rpb24gdGVzdEFueSAoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xudHlwZXMub2JqZWN0ID0gZnVuY3Rpb24gdGVzdE9iamVjdCAoaW5zdGFuY2UpIHtcbiAgLy8gVE9ETzogZml4IHRoaXMgLSBzZWUgIzE1XG4gIHJldHVybiBpbnN0YW5jZSAmJiAodHlwZW9mIGluc3RhbmNlID09PSAnb2JqZWN0JykgJiYgIShBcnJheS5pc0FycmF5KGluc3RhbmNlKSkgJiYgIShpbnN0YW5jZSBpbnN0YW5jZW9mIERhdGUpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBWYWxpZGF0b3I7XG4iLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBoZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbi8qKiBAdHlwZSBWYWxpZGF0b3JSZXN1bHQgKi9cbnZhciBWYWxpZGF0b3JSZXN1bHQgPSBoZWxwZXJzLlZhbGlkYXRvclJlc3VsdDtcbi8qKiBAdHlwZSBTY2hlbWFFcnJvciAqL1xudmFyIFNjaGVtYUVycm9yID0gaGVscGVycy5TY2hlbWFFcnJvcjtcblxudmFyIGF0dHJpYnV0ZSA9IHt9O1xuXG5hdHRyaWJ1dGUuaWdub3JlUHJvcGVydGllcyA9IHtcbiAgLy8gaW5mb3JtYXRpdmUgcHJvcGVydGllc1xuICAnaWQnOiB0cnVlLFxuICAnZGVmYXVsdCc6IHRydWUsXG4gICdkZXNjcmlwdGlvbic6IHRydWUsXG4gICd0aXRsZSc6IHRydWUsXG4gIC8vIGFyZ3VtZW50cyB0byBvdGhlciBwcm9wZXJ0aWVzXG4gICdhZGRpdGlvbmFsSXRlbXMnOiB0cnVlLFxuICAndGhlbic6IHRydWUsXG4gICdlbHNlJzogdHJ1ZSxcbiAgLy8gc3BlY2lhbC1oYW5kbGVkIHByb3BlcnRpZXNcbiAgJyRzY2hlbWEnOiB0cnVlLFxuICAnJHJlZic6IHRydWUsXG4gICdleHRlbmRzJzogdHJ1ZSxcbn07XG5cbi8qKlxuICogQG5hbWUgdmFsaWRhdG9yc1xuICovXG52YXIgdmFsaWRhdG9ycyA9IGF0dHJpYnV0ZS52YWxpZGF0b3JzID0ge307XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIGlmIG9mIGEgY2VydGFpbiB0eXBlXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy50eXBlID0gZnVuY3Rpb24gdmFsaWRhdGVUeXBlIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgdHlwZXMgPSBBcnJheS5pc0FycmF5KHNjaGVtYS50eXBlKSA/IHNjaGVtYS50eXBlIDogW3NjaGVtYS50eXBlXTtcbiAgaWYgKCF0eXBlcy5zb21lKHRoaXMudGVzdFR5cGUuYmluZCh0aGlzLCBpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpKSkge1xuICAgIHZhciBsaXN0ID0gdHlwZXMubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICBpZighdikgcmV0dXJuO1xuICAgICAgdmFyIGlkID0gdi4kaWQgfHwgdi5pZDtcbiAgICAgIHJldHVybiBpZCA/ICgnPCcgKyBpZCArICc+JykgOiAodisnJyk7XG4gICAgfSk7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICd0eXBlJyxcbiAgICAgIGFyZ3VtZW50OiBsaXN0LFxuICAgICAgbWVzc2FnZTogXCJpcyBub3Qgb2YgYSB0eXBlKHMpIFwiICsgbGlzdCxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZnVuY3Rpb24gdGVzdFNjaGVtYU5vVGhyb3coaW5zdGFuY2UsIG9wdGlvbnMsIGN0eCwgY2FsbGJhY2ssIHNjaGVtYSl7XG4gIHZhciB0aHJvd0Vycm9yID0gb3B0aW9ucy50aHJvd0Vycm9yO1xuICB2YXIgdGhyb3dBbGwgPSBvcHRpb25zLnRocm93QWxsO1xuICBvcHRpb25zLnRocm93RXJyb3IgPSBmYWxzZTtcbiAgb3B0aW9ucy50aHJvd0FsbCA9IGZhbHNlO1xuICB2YXIgcmVzID0gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBvcHRpb25zLnRocm93RXJyb3IgPSB0aHJvd0Vycm9yO1xuICBvcHRpb25zLnRocm93QWxsID0gdGhyb3dBbGw7XG5cbiAgaWYgKCFyZXMudmFsaWQgJiYgY2FsbGJhY2sgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgIGNhbGxiYWNrKHJlcyk7XG4gIH1cbiAgcmV0dXJuIHJlcy52YWxpZDtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgbWF0Y2hlcyBzb21lIG9mIHRoZSBnaXZlbiBzY2hlbWFzXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5hbnlPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlQW55T2YgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICAvLyBJZ25vcmUgdW5kZWZpbmVkIGluc3RhbmNlc1xuICBpZiAoaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBpbm5lciA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYS5hbnlPZikpe1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcihcImFueU9mIG11c3QgYmUgYW4gYXJyYXlcIik7XG4gIH1cbiAgaWYgKCFzY2hlbWEuYW55T2Yuc29tZShcbiAgICB0ZXN0U2NoZW1hTm9UaHJvdy5iaW5kKFxuICAgICAgdGhpcywgaW5zdGFuY2UsIG9wdGlvbnMsIGN0eCwgZnVuY3Rpb24ocmVzKXtpbm5lci5pbXBvcnRFcnJvcnMocmVzKTt9XG4gICAgKSkpIHtcbiAgICB2YXIgbGlzdCA9IHNjaGVtYS5hbnlPZi5tYXAoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgIHZhciBpZCA9IHYuJGlkIHx8IHYuaWQ7XG4gICAgICBpZihpZCkgcmV0dXJuICc8JyArIGlkICsgJz4nO1xuICAgICAgcmV0dXJuKHYudGl0bGUgJiYgSlNPTi5zdHJpbmdpZnkodi50aXRsZSkpIHx8ICh2WyckcmVmJ10gJiYgKCc8JyArIHZbJyRyZWYnXSArICc+JykpIHx8ICdbc3Vic2NoZW1hICcraSsnXSc7XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMubmVzdGVkRXJyb3JzKSB7XG4gICAgICByZXN1bHQuaW1wb3J0RXJyb3JzKGlubmVyKTtcbiAgICB9XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdhbnlPZicsXG4gICAgICBhcmd1bWVudDogbGlzdCxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgbm90IGFueSBvZiBcIiArIGxpc3Quam9pbignLCcpLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZSBpbnN0YW5jZSBtYXRjaGVzIGV2ZXJ5IGdpdmVuIHNjaGVtYVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuYWxsT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZUFsbE9mIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hLmFsbE9mKSl7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwiYWxsT2YgbXVzdCBiZSBhbiBhcnJheVwiKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHNjaGVtYS5hbGxPZi5mb3JFYWNoKGZ1bmN0aW9uKHYsIGkpe1xuICAgIHZhciB2YWxpZCA9IHNlbGYudmFsaWRhdGVTY2hlbWEoaW5zdGFuY2UsIHYsIG9wdGlvbnMsIGN0eCk7XG4gICAgaWYoIXZhbGlkLnZhbGlkKXtcbiAgICAgIHZhciBpZCA9IHYuJGlkIHx8IHYuaWQ7XG4gICAgICB2YXIgbXNnID0gaWQgfHwgKHYudGl0bGUgJiYgSlNPTi5zdHJpbmdpZnkodi50aXRsZSkpIHx8ICh2WyckcmVmJ10gJiYgKCc8JyArIHZbJyRyZWYnXSArICc+JykpIHx8ICdbc3Vic2NoZW1hICcraSsnXSc7XG4gICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnYWxsT2YnLFxuICAgICAgICBhcmd1bWVudDogeyBpZDogbXNnLCBsZW5ndGg6IHZhbGlkLmVycm9ycy5sZW5ndGgsIHZhbGlkOiB2YWxpZCB9LFxuICAgICAgICBtZXNzYWdlOiAnZG9lcyBub3QgbWF0Y2ggYWxsT2Ygc2NoZW1hICcgKyBtc2cgKyAnIHdpdGggJyArIHZhbGlkLmVycm9ycy5sZW5ndGggKyAnIGVycm9yW3NdOicsXG4gICAgICB9KTtcbiAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnModmFsaWQpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZSBpbnN0YW5jZSBtYXRjaGVzIGV4YWN0bHkgb25lIG9mIHRoZSBnaXZlbiBzY2hlbWFzXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5vbmVPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlT25lT2YgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICAvLyBJZ25vcmUgdW5kZWZpbmVkIGluc3RhbmNlc1xuICBpZiAoaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWEub25lT2YpKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJvbmVPZiBtdXN0IGJlIGFuIGFycmF5XCIpO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBpbm5lciA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIGNvdW50ID0gc2NoZW1hLm9uZU9mLmZpbHRlcihcbiAgICB0ZXN0U2NoZW1hTm9UaHJvdy5iaW5kKFxuICAgICAgdGhpcywgaW5zdGFuY2UsIG9wdGlvbnMsIGN0eCwgZnVuY3Rpb24ocmVzKSB7aW5uZXIuaW1wb3J0RXJyb3JzKHJlcyk7fVxuICAgICkgKS5sZW5ndGg7XG4gIHZhciBsaXN0ID0gc2NoZW1hLm9uZU9mLm1hcChmdW5jdGlvbiAodiwgaSkge1xuICAgIHZhciBpZCA9IHYuJGlkIHx8IHYuaWQ7XG4gICAgcmV0dXJuIGlkIHx8ICh2LnRpdGxlICYmIEpTT04uc3RyaW5naWZ5KHYudGl0bGUpKSB8fCAodlsnJHJlZiddICYmICgnPCcgKyB2WyckcmVmJ10gKyAnPicpKSB8fCAnW3N1YnNjaGVtYSAnK2krJ10nO1xuICB9KTtcbiAgaWYgKGNvdW50IT09MSkge1xuICAgIGlmIChvcHRpb25zLm5lc3RlZEVycm9ycykge1xuICAgICAgcmVzdWx0LmltcG9ydEVycm9ycyhpbm5lcik7XG4gICAgfVxuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnb25lT2YnLFxuICAgICAgYXJndW1lbnQ6IGxpc3QsXG4gICAgICBtZXNzYWdlOiBcImlzIG5vdCBleGFjdGx5IG9uZSBmcm9tIFwiICsgbGlzdC5qb2luKCcsJyksXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIFwidGhlblwiIG9yIFwiZWxzZVwiIGRlcGVuZGluZyBvbiB0aGUgcmVzdWx0IG9mIHZhbGlkYXRpbmcgXCJpZlwiXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5pZiA9IGZ1bmN0aW9uIHZhbGlkYXRlSWYgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICAvLyBJZ25vcmUgdW5kZWZpbmVkIGluc3RhbmNlc1xuICBpZiAoaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG4gIGlmICghaGVscGVycy5pc1NjaGVtYShzY2hlbWEuaWYpKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwiaWZcIiBrZXl3b3JkIHRvIGJlIGEgc2NoZW1hJyk7XG4gIHZhciBpZlZhbGlkID0gdGVzdFNjaGVtYU5vVGhyb3cuY2FsbCh0aGlzLCBpbnN0YW5jZSwgb3B0aW9ucywgY3R4LCBudWxsLCBzY2hlbWEuaWYpO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgcmVzO1xuICBpZihpZlZhbGlkKXtcbiAgICBpZiAoc2NoZW1hLnRoZW4gPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGlmICghaGVscGVycy5pc1NjaGVtYShzY2hlbWEudGhlbikpIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgXCJ0aGVuXCIga2V5d29yZCB0byBiZSBhIHNjaGVtYScpO1xuICAgIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEoaW5zdGFuY2UsIHNjaGVtYS50aGVuLCBvcHRpb25zLCBjdHgubWFrZUNoaWxkKHNjaGVtYS50aGVuKSk7XG4gICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICB9ZWxzZXtcbiAgICBpZiAoc2NoZW1hLmVsc2UgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGlmICghaGVscGVycy5pc1NjaGVtYShzY2hlbWEuZWxzZSkpIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgXCJlbHNlXCIga2V5d29yZCB0byBiZSBhIHNjaGVtYScpO1xuICAgIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEoaW5zdGFuY2UsIHNjaGVtYS5lbHNlLCBvcHRpb25zLCBjdHgubWFrZUNoaWxkKHNjaGVtYS5lbHNlKSk7XG4gICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5mdW5jdGlvbiBnZXRFbnVtZXJhYmxlUHJvcGVydHkob2JqZWN0LCBrZXkpe1xuICAvLyBEZXRlcm1pbmUgaWYgYGtleWAgc2hvd3MgdXAgaW4gYGZvcih2YXIga2V5IGluIG9iamVjdClgXG4gIC8vIEZpcnN0IHRlc3QgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwgYXMgYW4gb3B0aW1pemF0aW9uOiB0aGF0IGd1YXJhbnRlZXMgaXQgZG9lc1xuICBpZihPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHJldHVybiBvYmplY3Rba2V5XTtcbiAgLy8gVGVzdCBga2V5IGluIG9iamVjdGAgYXMgYW4gb3B0aW1pemF0aW9uOyBmYWxzZSBtZWFucyBpdCB3b24ndFxuICBpZighKGtleSBpbiBvYmplY3QpKSByZXR1cm47XG4gIHdoaWxlKCAob2JqZWN0ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCkpICl7XG4gICAgaWYoT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBrZXkpKSByZXR1cm4gb2JqZWN0W2tleV07XG4gIH1cbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgcHJvcGVydHlOYW1lc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLnByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5TmFtZXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBzdWJzY2hlbWEgPSBzY2hlbWEucHJvcGVydHlOYW1lcyE9PXVuZGVmaW5lZCA/IHNjaGVtYS5wcm9wZXJ0eU5hbWVzIDoge307XG4gIGlmKCFoZWxwZXJzLmlzU2NoZW1hKHN1YnNjaGVtYSkpIHRocm93IG5ldyBTY2hlbWFFcnJvcignRXhwZWN0ZWQgXCJwcm9wZXJ0eU5hbWVzXCIgdG8gYmUgYSBzY2hlbWEgKG9iamVjdCBvciBib29sZWFuKScpO1xuXG4gIGZvciAodmFyIHByb3BlcnR5IGluIGluc3RhbmNlKSB7XG4gICAgaWYoZ2V0RW51bWVyYWJsZVByb3BlcnR5KGluc3RhbmNlLCBwcm9wZXJ0eSkgIT09IHVuZGVmaW5lZCl7XG4gICAgICB2YXIgcmVzID0gdGhpcy52YWxpZGF0ZVNjaGVtYShwcm9wZXJ0eSwgc3Vic2NoZW1hLCBvcHRpb25zLCBjdHgubWFrZUNoaWxkKHN1YnNjaGVtYSkpO1xuICAgICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbHxWYWxpZGF0b3JSZXN1bHR9XG4gKi9cbnZhbGlkYXRvcnMucHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydGllcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHByb3BlcnRpZXMgPSBzY2hlbWEucHJvcGVydGllcyB8fCB7fTtcbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcykge1xuICAgIHZhciBzdWJzY2hlbWEgPSBwcm9wZXJ0aWVzW3Byb3BlcnR5XTtcbiAgICBpZihzdWJzY2hlbWE9PT11bmRlZmluZWQpe1xuICAgICAgY29udGludWU7XG4gICAgfWVsc2UgaWYoc3Vic2NoZW1hPT09bnVsbCl7XG4gICAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoJ1VuZXhwZWN0ZWQgbnVsbCwgZXhwZWN0ZWQgc2NoZW1hIGluIFwicHJvcGVydGllc1wiJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5ID09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9wdGlvbnMucHJlVmFsaWRhdGVQcm9wZXJ0eShpbnN0YW5jZSwgcHJvcGVydHksIHN1YnNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgICB9XG4gICAgdmFyIHByb3AgPSBnZXRFbnVtZXJhYmxlUHJvcGVydHkoaW5zdGFuY2UsIHByb3BlcnR5KTtcbiAgICB2YXIgcmVzID0gdGhpcy52YWxpZGF0ZVNjaGVtYShwcm9wLCBzdWJzY2hlbWEsIG9wdGlvbnMsIGN0eC5tYWtlQ2hpbGQoc3Vic2NoZW1hLCBwcm9wZXJ0eSkpO1xuICAgIGlmKHJlcy5pbnN0YW5jZSAhPT0gcmVzdWx0Lmluc3RhbmNlW3Byb3BlcnR5XSkgcmVzdWx0Lmluc3RhbmNlW3Byb3BlcnR5XSA9IHJlcy5pbnN0YW5jZTtcbiAgICByZXN1bHQuaW1wb3J0RXJyb3JzKHJlcyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVGVzdCBhIHNwZWNpZmljIHByb3BlcnR5IHdpdGhpbiBpbiBpbnN0YW5jZSBhZ2FpbnN0IHRoZSBhZGRpdGlvbmFsUHJvcGVydGllcyBzY2hlbWEgYXR0cmlidXRlXG4gKiBUaGlzIGlnbm9yZXMgcHJvcGVydGllcyB3aXRoIGRlZmluaXRpb25zIGluIHRoZSBwcm9wZXJ0aWVzIHNjaGVtYSBhdHRyaWJ1dGUsIGJ1dCBubyBvdGhlciBhdHRyaWJ1dGVzLlxuICogSWYgdG9vIG1hbnkgbW9yZSB0eXBlcyBvZiBwcm9wZXJ0eS1leGlzdGVuY2UgdGVzdHMgcG9wIHVwIHRoZXkgbWF5IG5lZWQgdGhlaXIgb3duIGNsYXNzIG9mIHRlc3RzIChsaWtlIGB0eXBlYCBoYXMpXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdGVzdEFkZGl0aW9uYWxQcm9wZXJ0eSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBwcm9wZXJ0eSwgcmVzdWx0KSB7XG4gIGlmKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgaWYgKHNjaGVtYS5wcm9wZXJ0aWVzICYmIHNjaGVtYS5wcm9wZXJ0aWVzW3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdhZGRpdGlvbmFsUHJvcGVydGllcycsXG4gICAgICBhcmd1bWVudDogcHJvcGVydHksXG4gICAgICBtZXNzYWdlOiBcImlzIG5vdCBhbGxvd2VkIHRvIGhhdmUgdGhlIGFkZGl0aW9uYWwgcHJvcGVydHkgXCIgKyBKU09OLnN0cmluZ2lmeShwcm9wZXJ0eSksXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzIHx8IHt9O1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnByZVZhbGlkYXRlUHJvcGVydHkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5KGluc3RhbmNlLCBwcm9wZXJ0eSwgYWRkaXRpb25hbFByb3BlcnRpZXMsIG9wdGlvbnMsIGN0eCk7XG4gICAgfVxuXG4gICAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEoaW5zdGFuY2VbcHJvcGVydHldLCBhZGRpdGlvbmFsUHJvcGVydGllcywgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChhZGRpdGlvbmFsUHJvcGVydGllcywgcHJvcGVydHkpKTtcbiAgICBpZihyZXMuaW5zdGFuY2UgIT09IHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0pIHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0gPSByZXMuaW5zdGFuY2U7XG4gICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHBhdHRlcm5Qcm9wZXJ0aWVzXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbHxWYWxpZGF0b3JSZXN1bHR9XG4gKi9cbnZhbGlkYXRvcnMucGF0dGVyblByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZVBhdHRlcm5Qcm9wZXJ0aWVzIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYoIXRoaXMudHlwZXMub2JqZWN0KGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgcGF0dGVyblByb3BlcnRpZXMgPSBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMgfHwge307XG5cbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gaW5zdGFuY2UpIHtcbiAgICB2YXIgdGVzdCA9IHRydWU7XG4gICAgZm9yICh2YXIgcGF0dGVybiBpbiBwYXR0ZXJuUHJvcGVydGllcykge1xuICAgICAgdmFyIHN1YnNjaGVtYSA9IHBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5dO1xuICAgICAgaWYoc3Vic2NoZW1hPT09dW5kZWZpbmVkKXtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9ZWxzZSBpZihzdWJzY2hlbWE9PT1udWxsKXtcbiAgICAgICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKCdVbmV4cGVjdGVkIG51bGwsIGV4cGVjdGVkIHNjaGVtYSBpbiBcInBhdHRlcm5Qcm9wZXJ0aWVzXCInKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4sICd1Jyk7XG4gICAgICB9IGNhdGNoKF9lKSB7XG4gICAgICAgIC8vIEluIHRoZSBldmVudCB0aGUgc3RyaWN0ZXIgaGFuZGxpbmcgY2F1c2VzIGFuIGVycm9yLCBmYWxsIGJhY2sgb24gdGhlIGZvcmdpdmluZyBoYW5kbGluZ1xuICAgICAgICAvLyBERVBSRUNBVEVEXG4gICAgICAgIHJlZ2V4cCA9IG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgICB9XG4gICAgICBpZiAoIXJlZ2V4cC50ZXN0KHByb3BlcnR5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRlc3QgPSBmYWxzZTtcblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnByZVZhbGlkYXRlUHJvcGVydHkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvcHRpb25zLnByZVZhbGlkYXRlUHJvcGVydHkoaW5zdGFuY2UsIHByb3BlcnR5LCBzdWJzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlW3Byb3BlcnR5XSwgc3Vic2NoZW1hLCBvcHRpb25zLCBjdHgubWFrZUNoaWxkKHN1YnNjaGVtYSwgcHJvcGVydHkpKTtcbiAgICAgIGlmKHJlcy5pbnN0YW5jZSAhPT0gcmVzdWx0Lmluc3RhbmNlW3Byb3BlcnR5XSkgcmVzdWx0Lmluc3RhbmNlW3Byb3BlcnR5XSA9IHJlcy5pbnN0YW5jZTtcbiAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgICB9XG4gICAgaWYgKHRlc3QpIHtcbiAgICAgIHRlc3RBZGRpdGlvbmFsUHJvcGVydHkuY2FsbCh0aGlzLCBpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgsIHByb3BlcnR5LCByZXN1bHQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBhZGRpdGlvbmFsUHJvcGVydGllc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVBZGRpdGlvbmFsUHJvcGVydGllcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgLy8gaWYgcGF0dGVyblByb3BlcnRpZXMgaXMgZGVmaW5lZCB0aGVuIHdlJ2xsIHRlc3Qgd2hlbiB0aGF0IG9uZSBpcyBjYWxsZWQgaW5zdGVhZFxuICBpZiAoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gaW5zdGFuY2UpIHtcbiAgICB0ZXN0QWRkaXRpb25hbFByb3BlcnR5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBwcm9wZXJ0eSwgcmVzdWx0KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYXQgbGVhc3Qgb2YgYSBjZXJ0YWluIGxlbmd0aCwgd2hlbiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1pblByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZU1pblByb3BlcnRpZXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoIXRoaXMudHlwZXMub2JqZWN0KGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGluc3RhbmNlKTtcbiAgaWYgKCEoa2V5cy5sZW5ndGggPj0gc2NoZW1hLm1pblByb3BlcnRpZXMpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdtaW5Qcm9wZXJ0aWVzJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWluUHJvcGVydGllcyxcbiAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBtaW5pbXVtIHByb3BlcnR5IGxlbmd0aCBvZiBcIiArIHNjaGVtYS5taW5Qcm9wZXJ0aWVzLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhdCBtb3N0IG9mIGEgY2VydGFpbiBsZW5ndGgsIHdoZW4gdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5tYXhQcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVNYXhQcm9wZXJ0aWVzIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnN0YW5jZSk7XG4gIGlmICghKGtleXMubGVuZ3RoIDw9IHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnbWF4UHJvcGVydGllcycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1heFByb3BlcnRpZXMsXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IG1lZXQgbWF4aW11bSBwcm9wZXJ0eSBsZW5ndGggb2YgXCIgKyBzY2hlbWEubWF4UHJvcGVydGllcyxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgaXRlbXMgd2hlbiBpbnN0YW5jZSBpcyBhbiBhcnJheVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLml0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVJdGVtcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKCF0aGlzLnR5cGVzLmFycmF5KGluc3RhbmNlKSkgcmV0dXJuO1xuICBpZiAoc2NoZW1hLml0ZW1zPT09dW5kZWZpbmVkKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGluc3RhbmNlLmV2ZXJ5KGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuICAgIGlmKEFycmF5LmlzQXJyYXkoc2NoZW1hLml0ZW1zKSl7XG4gICAgICB2YXIgaXRlbXMgPSAgc2NoZW1hLml0ZW1zW2ldPT09dW5kZWZpbmVkID8gc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyA6IHNjaGVtYS5pdGVtc1tpXTtcbiAgICB9ZWxzZXtcbiAgICAgIHZhciBpdGVtcyA9IHNjaGVtYS5pdGVtcztcbiAgICB9XG4gICAgaWYgKGl0ZW1zID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoaXRlbXMgPT09IGZhbHNlKSB7XG4gICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnaXRlbXMnLFxuICAgICAgICBtZXNzYWdlOiBcImFkZGl0aW9uYWxJdGVtcyBub3QgcGVybWl0dGVkXCIsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHJlcyA9IHNlbGYudmFsaWRhdGVTY2hlbWEodmFsdWUsIGl0ZW1zLCBvcHRpb25zLCBjdHgubWFrZUNoaWxkKGl0ZW1zLCBpKSk7XG4gICAgaWYocmVzLmluc3RhbmNlICE9PSByZXN1bHQuaW5zdGFuY2VbaV0pIHJlc3VsdC5pbnN0YW5jZVtpXSA9IHJlcy5pbnN0YW5jZTtcbiAgICByZXN1bHQuaW1wb3J0RXJyb3JzKHJlcyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIFwiY29udGFpbnNcIiBrZXl3b3JkXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbHxWYWxpZGF0b3JSZXN1bHR9XG4gKi9cbnZhbGlkYXRvcnMuY29udGFpbnMgPSBmdW5jdGlvbiB2YWxpZGF0ZUNvbnRhaW5zIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoIXRoaXMudHlwZXMuYXJyYXkoaW5zdGFuY2UpKSByZXR1cm47XG4gIGlmIChzY2hlbWEuY29udGFpbnM9PT11bmRlZmluZWQpIHJldHVybjtcbiAgaWYgKCFoZWxwZXJzLmlzU2NoZW1hKHNjaGVtYS5jb250YWlucykpIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgXCJjb250YWluc1wiIGtleXdvcmQgdG8gYmUgYSBzY2hlbWEnKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIGNvdW50ID0gaW5zdGFuY2Uuc29tZShmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICB2YXIgcmVzID0gc2VsZi52YWxpZGF0ZVNjaGVtYSh2YWx1ZSwgc2NoZW1hLmNvbnRhaW5zLCBvcHRpb25zLCBjdHgubWFrZUNoaWxkKHNjaGVtYS5jb250YWlucywgaSkpO1xuICAgIHJldHVybiByZXMuZXJyb3JzLmxlbmd0aD09PTA7XG4gIH0pO1xuICBpZihjb3VudD09PWZhbHNlKXtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ2NvbnRhaW5zJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEuY29udGFpbnMsXG4gICAgICBtZXNzYWdlOiBcIm11c3QgY29udGFpbiBhbiBpdGVtIG1hdGNoaW5nIGdpdmVuIHNjaGVtYVwiLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBtaW5pbXVtIGFuZCBleGNsdXNpdmVNaW5pbXVtIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5taW5pbXVtID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5pbXVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm51bWJlcihpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtICYmIHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtID09PSB0cnVlKSB7XG4gICAgaWYoIShpbnN0YW5jZSA+IHNjaGVtYS5taW5pbXVtKSl7XG4gICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnbWluaW11bScsXG4gICAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWluaW11bSxcbiAgICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIGdyZWF0ZXIgdGhhbiBcIiArIHNjaGVtYS5taW5pbXVtLFxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmKCEoaW5zdGFuY2UgPj0gc2NoZW1hLm1pbmltdW0pKXtcbiAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgIG5hbWU6ICdtaW5pbXVtJyxcbiAgICAgICAgYXJndW1lbnQ6IHNjaGVtYS5taW5pbXVtLFxuICAgICAgICBtZXNzYWdlOiBcIm11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIFwiICsgc2NoZW1hLm1pbmltdW0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIG1heGltdW0gYW5kIGV4Y2x1c2l2ZU1heGltdW0gd2hlbiB0aGUgdHlwZSBvZiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1heGltdW0gPSBmdW5jdGlvbiB2YWxpZGF0ZU1heGltdW0gKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoIXRoaXMudHlwZXMubnVtYmVyKGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gJiYgc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gPT09IHRydWUpIHtcbiAgICBpZighKGluc3RhbmNlIDwgc2NoZW1hLm1heGltdW0pKXtcbiAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgIG5hbWU6ICdtYXhpbXVtJyxcbiAgICAgICAgYXJndW1lbnQ6IHNjaGVtYS5tYXhpbXVtLFxuICAgICAgICBtZXNzYWdlOiBcIm11c3QgYmUgbGVzcyB0aGFuIFwiICsgc2NoZW1hLm1heGltdW0sXG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYoIShpbnN0YW5jZSA8PSBzY2hlbWEubWF4aW11bSkpe1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ21heGltdW0nLFxuICAgICAgICBhcmd1bWVudDogc2NoZW1hLm1heGltdW0sXG4gICAgICAgIG1lc3NhZ2U6IFwibXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gXCIgKyBzY2hlbWEubWF4aW11bSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIG51bWJlciBmb3JtIG9mIGV4Y2x1c2l2ZU1pbmltdW0gd2hlbiB0aGUgdHlwZSBvZiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLmV4Y2x1c2l2ZU1pbmltdW0gPSBmdW5jdGlvbiB2YWxpZGF0ZUV4Y2x1c2l2ZU1pbmltdW0gKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICAvLyBTdXBwb3J0IHRoZSBib29sZWFuIGZvcm0gb2YgZXhjbHVzaXZlTWluaW11bSwgd2hpY2ggaXMgaGFuZGxlZCBieSB0aGUgXCJtaW5pbXVtXCIga2V5d29yZC5cbiAgaWYodHlwZW9mIHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtID09PSAnYm9vbGVhbicpIHJldHVybjtcbiAgaWYgKCF0aGlzLnR5cGVzLm51bWJlcihpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHZhbGlkID0gaW5zdGFuY2UgPiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bTtcbiAgaWYgKCF2YWxpZCkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnZXhjbHVzaXZlTWluaW11bScsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0sXG4gICAgICBtZXNzYWdlOiBcIm11c3QgYmUgc3RyaWN0bHkgZ3JlYXRlciB0aGFuIFwiICsgc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0sXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBudW1iZXIgZm9ybSBvZiBleGNsdXNpdmVNYXhpbXVtIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5leGNsdXNpdmVNYXhpbXVtID0gZnVuY3Rpb24gdmFsaWRhdGVFeGNsdXNpdmVNYXhpbXVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gU3VwcG9ydCB0aGUgYm9vbGVhbiBmb3JtIG9mIGV4Y2x1c2l2ZU1heGltdW0sIHdoaWNoIGlzIGhhbmRsZWQgYnkgdGhlIFwibWF4aW11bVwiIGtleXdvcmQuXG4gIGlmKHR5cGVvZiBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm47XG4gIGlmICghdGhpcy50eXBlcy5udW1iZXIoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciB2YWxpZCA9IGluc3RhbmNlIDwgc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW07XG4gIGlmICghdmFsaWQpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ2V4Y2x1c2l2ZU1heGltdW0nLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtLFxuICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIHN0cmljdGx5IGxlc3MgdGhhbiBcIiArIHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFBlcmZvcm0gdmFsaWRhdGlvbiBmb3IgbXVsdGlwbGVPZiBhbmQgZGl2aXNpYmxlQnksIHdoaWNoIGFyZSBlc3NlbnRpYWxseSB0aGUgc2FtZS5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIHZhbGlkYXRpb25UeXBlXG4gKiBAcGFyYW0gZXJyb3JNZXNzYWdlXG4gKiBAcmV0dXJucyB7U3RyaW5nfG51bGx9XG4gKi9cbnZhciB2YWxpZGF0ZU11bHRpcGxlT2ZPckRpdmlzYmxlQnkgPSBmdW5jdGlvbiB2YWxpZGF0ZU11bHRpcGxlT2ZPckRpdmlzYmxlQnkgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgdmFsaWRhdGlvblR5cGUsIGVycm9yTWVzc2FnZSkge1xuICBpZiAoIXRoaXMudHlwZXMubnVtYmVyKGluc3RhbmNlKSkgcmV0dXJuO1xuXG4gIHZhciB2YWxpZGF0aW9uQXJndW1lbnQgPSBzY2hlbWFbdmFsaWRhdGlvblR5cGVdO1xuICBpZiAodmFsaWRhdGlvbkFyZ3VtZW50ID09IDApIHtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IodmFsaWRhdGlvblR5cGUgKyBcIiBjYW5ub3QgYmUgemVyb1wiKTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG5cbiAgdmFyIGluc3RhbmNlRGVjaW1hbHMgPSBoZWxwZXJzLmdldERlY2ltYWxQbGFjZXMoaW5zdGFuY2UpO1xuICB2YXIgZGl2aXNvckRlY2ltYWxzID0gaGVscGVycy5nZXREZWNpbWFsUGxhY2VzKHZhbGlkYXRpb25Bcmd1bWVudCk7XG5cbiAgdmFyIG1heERlY2ltYWxzID0gTWF0aC5tYXgoaW5zdGFuY2VEZWNpbWFscyAsIGRpdmlzb3JEZWNpbWFscyk7XG4gIHZhciBtdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIG1heERlY2ltYWxzKTtcblxuICBpZiAoTWF0aC5yb3VuZChpbnN0YW5jZSAqIG11bHRpcGxpZXIpICUgTWF0aC5yb3VuZCh2YWxpZGF0aW9uQXJndW1lbnQgKiBtdWx0aXBsaWVyKSAhPT0gMCkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiB2YWxpZGF0aW9uVHlwZSxcbiAgICAgIGFyZ3VtZW50OiAgdmFsaWRhdGlvbkFyZ3VtZW50LFxuICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlICsgSlNPTi5zdHJpbmdpZnkodmFsaWRhdGlvbkFyZ3VtZW50KSxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBkaXZpc2libGVCeSB3aGVuIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMubXVsdGlwbGVPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlTXVsdGlwbGVPZiAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHJldHVybiB2YWxpZGF0ZU11bHRpcGxlT2ZPckRpdmlzYmxlQnkuY2FsbCh0aGlzLCBpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgsIFwibXVsdGlwbGVPZlwiLCBcImlzIG5vdCBhIG11bHRpcGxlIG9mIChkaXZpc2libGUgYnkpIFwiKTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIG11bHRpcGxlT2Ygd2hlbiB0aGUgdHlwZSBvZiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLmRpdmlzaWJsZUJ5ID0gZnVuY3Rpb24gdmFsaWRhdGVEaXZpc2libGVCeSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHJldHVybiB2YWxpZGF0ZU11bHRpcGxlT2ZPckRpdmlzYmxlQnkuY2FsbCh0aGlzLCBpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgsIFwiZGl2aXNpYmxlQnlcIiwgXCJpcyBub3QgZGl2aXNpYmxlIGJ5IChtdWx0aXBsZSBvZikgXCIpO1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgcHJlc2VudC5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMucmVxdWlyZWQgPSBmdW5jdGlvbiB2YWxpZGF0ZVJlcXVpcmVkIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQgJiYgc2NoZW1hLnJlcXVpcmVkID09PSB0cnVlKSB7XG4gICAgLy8gQSBib29sZWFuIGZvcm0gaXMgaW1wbGVtZW50ZWQgZm9yIHJldmVyc2UtY29tcGF0aWJpbGl0eSB3aXRoIHNjaGVtYXMgd3JpdHRlbiBhZ2FpbnN0IG9sZGVyIGRyYWZ0c1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAncmVxdWlyZWQnLFxuICAgICAgbWVzc2FnZTogXCJpcyByZXF1aXJlZFwiLFxuICAgIH0pO1xuICB9IGVsc2UgaWYgKHRoaXMudHlwZXMub2JqZWN0KGluc3RhbmNlKSAmJiBBcnJheS5pc0FycmF5KHNjaGVtYS5yZXF1aXJlZCkpIHtcbiAgICBzY2hlbWEucmVxdWlyZWQuZm9yRWFjaChmdW5jdGlvbihuKXtcbiAgICAgIGlmKGdldEVudW1lcmFibGVQcm9wZXJ0eShpbnN0YW5jZSwgbik9PT11bmRlZmluZWQpe1xuICAgICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICAgIG5hbWU6ICdyZXF1aXJlZCcsXG4gICAgICAgICAgYXJndW1lbnQ6IG4sXG4gICAgICAgICAgbWVzc2FnZTogXCJyZXF1aXJlcyBwcm9wZXJ0eSBcIiArIEpTT04uc3RyaW5naWZ5KG4pLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgdmFsdWUgbWF0Y2hlcyB0aGUgcmVndWxhciBleHByZXNzaW9uLCB3aGVuIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIHN0cmluZy5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMucGF0dGVybiA9IGZ1bmN0aW9uIHZhbGlkYXRlUGF0dGVybiAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5zdHJpbmcoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBwYXR0ZXJuID0gc2NoZW1hLnBhdHRlcm47XG4gIHRyeSB7XG4gICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAocGF0dGVybiwgJ3UnKTtcbiAgfSBjYXRjaChfZSkge1xuICAgIC8vIEluIHRoZSBldmVudCB0aGUgc3RyaWN0ZXIgaGFuZGxpbmcgY2F1c2VzIGFuIGVycm9yLCBmYWxsIGJhY2sgb24gdGhlIGZvcmdpdmluZyBoYW5kbGluZ1xuICAgIC8vIERFUFJFQ0FURURcbiAgICByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICB9XG4gIGlmICghaW5zdGFuY2UubWF0Y2gocmVnZXhwKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAncGF0dGVybicsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLnBhdHRlcm4sXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IG1hdGNoIHBhdHRlcm4gXCIgKyBKU09OLnN0cmluZ2lmeShzY2hlbWEucGF0dGVybi50b1N0cmluZygpKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgb2YgYSBjZXJ0YWluIGRlZmluZWQgZm9ybWF0IG9yIGEgY3VzdG9tXG4gKiBmb3JtYXQuXG4gKiBUaGUgZm9sbG93aW5nIGZvcm1hdHMgYXJlIHN1cHBvcnRlZCBmb3Igc3RyaW5nIHR5cGVzOlxuICogICAtIGRhdGUtdGltZVxuICogICAtIGRhdGVcbiAqICAgLSB0aW1lXG4gKiAgIC0gaXAtYWRkcmVzc1xuICogICAtIGlwdjZcbiAqICAgLSB1cmlcbiAqICAgLSBjb2xvclxuICogICAtIGhvc3QtbmFtZVxuICogICAtIGFscGhhXG4gKiAgIC0gYWxwaGEtbnVtZXJpY1xuICogICAtIHV0Yy1taWxsaXNlY1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gW29wdGlvbnNdXG4gKiBAcGFyYW0gW2N0eF1cbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLmZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0IChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKGluc3RhbmNlPT09dW5kZWZpbmVkKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmICghcmVzdWx0LmRpc2FibGVGb3JtYXQgJiYgIWhlbHBlcnMuaXNGb3JtYXQoaW5zdGFuY2UsIHNjaGVtYS5mb3JtYXQsIHRoaXMpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdmb3JtYXQnLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5mb3JtYXQsXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IGNvbmZvcm0gdG8gdGhlIFwiICsgSlNPTi5zdHJpbmdpZnkoc2NoZW1hLmZvcm1hdCkgKyBcIiBmb3JtYXRcIixcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYXQgbGVhc3Qgb2YgYSBjZXJ0YWluIGxlbmd0aCwgd2hlbiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1pbkxlbmd0aCA9IGZ1bmN0aW9uIHZhbGlkYXRlTWluTGVuZ3RoIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLnN0cmluZyhpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIGhzcCA9IGluc3RhbmNlLm1hdGNoKC9bXFx1REMwMC1cXHVERkZGXS9nKTtcbiAgdmFyIGxlbmd0aCA9IGluc3RhbmNlLmxlbmd0aCAtIChoc3AgPyBoc3AubGVuZ3RoIDogMCk7XG4gIGlmICghKGxlbmd0aCA+PSBzY2hlbWEubWluTGVuZ3RoKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnbWluTGVuZ3RoJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWluTGVuZ3RoLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtZWV0IG1pbmltdW0gbGVuZ3RoIG9mIFwiICsgc2NoZW1hLm1pbkxlbmd0aCxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYXQgbW9zdCBvZiBhIGNlcnRhaW4gbGVuZ3RoLCB3aGVuIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIHN0cmluZy5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMubWF4TGVuZ3RoID0gZnVuY3Rpb24gdmFsaWRhdGVNYXhMZW5ndGggKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoIXRoaXMudHlwZXMuc3RyaW5nKGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICAvLyBUT0RPIGlmIHRoaXMgd2FzIGFscmVhZHkgY29tcHV0ZWQgaW4gXCJtaW5MZW5ndGhcIiwgdXNlIHRoYXQgdmFsdWUgaW5zdGVhZCBvZiByZS1jb21wdXRpbmdcbiAgdmFyIGhzcCA9IGluc3RhbmNlLm1hdGNoKC9bXFx1REMwMC1cXHVERkZGXS9nKTtcbiAgdmFyIGxlbmd0aCA9IGluc3RhbmNlLmxlbmd0aCAtIChoc3AgPyBoc3AubGVuZ3RoIDogMCk7XG4gIGlmICghKGxlbmd0aCA8PSBzY2hlbWEubWF4TGVuZ3RoKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnbWF4TGVuZ3RoJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWF4TGVuZ3RoLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtZWV0IG1heGltdW0gbGVuZ3RoIG9mIFwiICsgc2NoZW1hLm1heExlbmd0aCxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciBpbnN0YW5jZSBjb250YWlucyBhdCBsZWFzdCBhIG1pbmltdW0gbnVtYmVyIG9mIGl0ZW1zLCB3aGVuIHRoZSBpbnN0YW5jZSBpcyBhbiBBcnJheS5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMubWluSXRlbXMgPSBmdW5jdGlvbiB2YWxpZGF0ZU1pbkl0ZW1zIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLmFycmF5KGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIShpbnN0YW5jZS5sZW5ndGggPj0gc2NoZW1hLm1pbkl0ZW1zKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnbWluSXRlbXMnLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5taW5JdGVtcyxcbiAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBtaW5pbXVtIGxlbmd0aCBvZiBcIiArIHNjaGVtYS5taW5JdGVtcyxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciBpbnN0YW5jZSBjb250YWlucyBubyBtb3JlIHRoYW4gYSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcywgd2hlbiB0aGUgaW5zdGFuY2UgaXMgYW4gQXJyYXkuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1heEl0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVNYXhJdGVtcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5hcnJheShpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCEoaW5zdGFuY2UubGVuZ3RoIDw9IHNjaGVtYS5tYXhJdGVtcykpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21heEl0ZW1zJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWF4SXRlbXMsXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IG1lZXQgbWF4aW11bSBsZW5ndGggb2YgXCIgKyBzY2hlbWEubWF4SXRlbXMsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogRGVlcCBjb21wYXJlcyBhcnJheXMgZm9yIGR1cGxpY2F0ZXNcbiAqIEBwYXJhbSB2XG4gKiBAcGFyYW0gaVxuICogQHBhcmFtIGFcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiB0ZXN0QXJyYXlzICh2LCBpLCBhKSB7XG4gIHZhciBqLCBsZW4gPSBhLmxlbmd0aDtcbiAgZm9yIChqID0gaSArIDEsIGxlbjsgaiA8IGxlbjsgaisrKSB7XG4gICAgaWYgKGhlbHBlcnMuZGVlcENvbXBhcmVTdHJpY3QodiwgYVtqXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlcmUgYXJlIG5vIGR1cGxpY2F0ZXMsIHdoZW4gdGhlIGluc3RhbmNlIGlzIGFuIEFycmF5LlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy51bmlxdWVJdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlVW5pcXVlSXRlbXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoc2NoZW1hLnVuaXF1ZUl0ZW1zIT09dHJ1ZSkgcmV0dXJuO1xuICBpZiAoIXRoaXMudHlwZXMuYXJyYXkoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmICghaW5zdGFuY2UuZXZlcnkodGVzdEFycmF5cykpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ3VuaXF1ZUl0ZW1zJyxcbiAgICAgIG1lc3NhZ2U6IFwiY29udGFpbnMgZHVwbGljYXRlIGl0ZW1cIixcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZSBmb3IgdGhlIHByZXNlbmNlIG9mIGRlcGVuZGVuY3kgcHJvcGVydGllcywgaWYgdGhlIGluc3RhbmNlIGlzIGFuIG9iamVjdC5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge251bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLmRlcGVuZGVuY2llcyA9IGZ1bmN0aW9uIHZhbGlkYXRlRGVwZW5kZW5jaWVzIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgZm9yICh2YXIgcHJvcGVydHkgaW4gc2NoZW1hLmRlcGVuZGVuY2llcykge1xuICAgIGlmIChpbnN0YW5jZVtwcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBkZXAgPSBzY2hlbWEuZGVwZW5kZW5jaWVzW3Byb3BlcnR5XTtcbiAgICB2YXIgY2hpbGRDb250ZXh0ID0gY3R4Lm1ha2VDaGlsZChkZXAsIHByb3BlcnR5KTtcbiAgICBpZiAodHlwZW9mIGRlcCA9PSAnc3RyaW5nJykge1xuICAgICAgZGVwID0gW2RlcF07XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGRlcCkpIHtcbiAgICAgIGRlcC5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIGlmIChpbnN0YW5jZVtwcm9wXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgICAgIC8vIEZJWE1FIHRoZXJlJ3MgdHdvIGRpZmZlcmVudCBcImRlcGVuZGVuY2llc1wiIGVycm9ycyBoZXJlIHdpdGggc2xpZ2h0bHkgZGlmZmVyZW50IG91dHB1dHNcbiAgICAgICAgICAgIC8vIENhbiB3ZSBtYWtlIHRoZXNlIHRoZSBzYW1lPyBPciBzaG91bGQgd2UgY3JlYXRlIGRpZmZlcmVudCBlcnJvciB0eXBlcz9cbiAgICAgICAgICAgIG5hbWU6ICdkZXBlbmRlbmNpZXMnLFxuICAgICAgICAgICAgYXJndW1lbnQ6IGNoaWxkQ29udGV4dC5wcm9wZXJ0eVBhdGgsXG4gICAgICAgICAgICBtZXNzYWdlOiBcInByb3BlcnR5IFwiICsgcHJvcCArIFwiIG5vdCBmb3VuZCwgcmVxdWlyZWQgYnkgXCIgKyBjaGlsZENvbnRleHQucHJvcGVydHlQYXRoLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEoaW5zdGFuY2UsIGRlcCwgb3B0aW9ucywgY2hpbGRDb250ZXh0KTtcbiAgICAgIGlmKHJlc3VsdC5pbnN0YW5jZSAhPT0gcmVzLmluc3RhbmNlKSByZXN1bHQuaW5zdGFuY2UgPSByZXMuaW5zdGFuY2U7XG4gICAgICBpZiAocmVzICYmIHJlcy5lcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgICAgbmFtZTogJ2RlcGVuZGVuY2llcycsXG4gICAgICAgICAgYXJndW1lbnQ6IGNoaWxkQ29udGV4dC5wcm9wZXJ0eVBhdGgsXG4gICAgICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtZWV0IGRlcGVuZGVuY3kgcmVxdWlyZWQgYnkgXCIgKyBjaGlsZENvbnRleHQucHJvcGVydHlQYXRoLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgb25lIG9mIHRoZSBlbnVtZXJhdGVkIHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1ZhbGlkYXRvclJlc3VsdHxudWxsfVxuICovXG52YWxpZGF0b3JzWydlbnVtJ10gPSBmdW5jdGlvbiB2YWxpZGF0ZUVudW0gKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWFbJ2VudW0nXSkpIHtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJlbnVtIGV4cGVjdHMgYW4gYXJyYXlcIiwgc2NoZW1hKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIXNjaGVtYVsnZW51bSddLnNvbWUoaGVscGVycy5kZWVwQ29tcGFyZVN0cmljdC5iaW5kKG51bGwsIGluc3RhbmNlKSkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ2VudW0nLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYVsnZW51bSddLFxuICAgICAgbWVzc2FnZTogXCJpcyBub3Qgb25lIG9mIGVudW0gdmFsdWVzOiBcIiArIHNjaGVtYVsnZW51bSddLm1hcChTdHJpbmcpLmpvaW4oJywnKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgZXhhY3RseSBtYXRjaGVzIGEgZ2l2ZW4gdmFsdWVcbiAqXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1ZhbGlkYXRvclJlc3VsdHxudWxsfVxuICovXG52YWxpZGF0b3JzWydjb25zdCddID0gZnVuY3Rpb24gdmFsaWRhdGVFbnVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIWhlbHBlcnMuZGVlcENvbXBhcmVTdHJpY3Qoc2NoZW1hWydjb25zdCddLCBpbnN0YW5jZSkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ2NvbnN0JyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWFbJ2NvbnN0J10sXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IGV4YWN0bHkgbWF0Y2ggZXhwZWN0ZWQgY29uc3RhbnQ6IFwiICsgc2NoZW1hWydjb25zdCddLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZSBpbnN0YW5jZSBpZiBvZiBhIHByb2hpYml0ZWQgdHlwZS5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge251bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLm5vdCA9IHZhbGlkYXRvcnMuZGlzYWxsb3cgPSBmdW5jdGlvbiB2YWxpZGF0ZU5vdCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYoaW5zdGFuY2U9PT11bmRlZmluZWQpIHJldHVybiBudWxsO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgbm90VHlwZXMgPSBzY2hlbWEubm90IHx8IHNjaGVtYS5kaXNhbGxvdztcbiAgaWYoIW5vdFR5cGVzKSByZXR1cm4gbnVsbDtcbiAgaWYoIUFycmF5LmlzQXJyYXkobm90VHlwZXMpKSBub3RUeXBlcz1bbm90VHlwZXNdO1xuICBub3RUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgaWYgKHNlbGYudGVzdFR5cGUoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCB0eXBlKSkge1xuICAgICAgdmFyIGlkID0gdHlwZSAmJiAodHlwZS4kaWQgfHwgdHlwZS5pZCk7XG4gICAgICB2YXIgc2NoZW1hSWQgPSBpZCB8fCB0eXBlO1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ25vdCcsXG4gICAgICAgIGFyZ3VtZW50OiBzY2hlbWFJZCxcbiAgICAgICAgbWVzc2FnZTogXCJpcyBvZiBwcm9oaWJpdGVkIHR5cGUgXCIgKyBzY2hlbWFJZCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGF0dHJpYnV0ZTtcbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuLi8uLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBNb2RhbFdpbmRvd1ZpZXcgfSBmcm9tICcuLi9Nb2RhbFdpbmRvdyc7XG5cbmFzeW5jIGZ1bmN0aW9uIHNldEJvZHkgKG5lb25WaWV3OiBOZW9uVmlldyk6IFByb21pc2U8dm9pZD4ge1xuXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvdGVtcGxhdGUuaHRtbGApO1xuICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdob21lLWxpbmsnKSBhcyBIVE1MQW5jaG9yRWxlbWVudCkuaHJlZiA9IF9fTElOS19MT0NBVElPTl9fO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi12ZXJzaW9uJykudGV4dENvbnRlbnQgPSBfX05FT05fVkVSU0lPTl9fO1xuICAoPEhUTUxJbWFnZUVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1haW4taWNvbicpKS5zcmMgPSBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvTmVvbl9JY29uXzMuc3ZnYDtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdleHRlcm5hbC1saW5rLWljb24nKSkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAoPEhUTUxJbWFnZUVsZW1lbnQ+IGVsKS5zcmMgPSBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvZXh0ZXJuYWwtbGluay5zdmdgO1xuICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZW5hbWUnKS5pbm5lclRleHQgPSBuZW9uVmlldy5tYW5pZmVzdC50aXRsZTtcbiAgZG9jdW1lbnQudGl0bGUgPSBuZW9uVmlldy5tYW5pZmVzdC50aXRsZTtcbiAgXG4gIC8vIGhvdGtleSBidG4gb25jbGljayBldmVudCBsaXN0ZW5lclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2YmFyLWl0ZW0taG90a2V5cycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgbmVvblZpZXcubW9kYWwuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5IT1RLRVlTKTtcbiAgICBuZW9uVmlldy5tb2RhbC5vcGVuTW9kYWxXaW5kb3coKTtcbiAgfSk7XG5cbiAgLy8gc2V0IFxuICBjb25zdCBkZWJ1Z01vZGVUb29sdGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRWxlbWVudD4oJyNkZWJ1Zy1tb2RlLXRvb2x0aXAtaWNvbicpO1xuICBkZWJ1Z01vZGVUb29sdGlwLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2RlYnVnLXRvb2x0aXAtbGlnaHQuc3ZnYCk7XG5cbiAgLy8gc2V0IGluaXRpYWwgc2F2ZWQgc3RhdHVzXG4gIGNvbnN0IGluZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KCcjZmlsZS1zYXZlZCcpO1xuICBpbmRpY2F0b3Iuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2F2ZWQtaWNvbi5zdmdgKTtcbiAgaW5kaWNhdG9yLnNldEF0dHJpYnV0ZSgnYWx0JywgJ1lvdXIgd29yayBpcyBzYXZlZCcpO1xufVxuXG5leHBvcnQgeyBzZXRCb2R5IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IGluaXRFcnJvckxvZywgdXBkYXRlRXJyb3JMb2dWaXNpYmlsaXR5IH0gZnJvbSAnLi9FcnJvckxvZyc7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncywgc2V0U2V0dGluZ3MgfSBmcm9tICcuL0xvY2FsU2V0dGluZ3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVidWdNb2RlKCk6IHZvaWQge1xuICBjb25zdCBkZWJ1Z01vZGVDaGVja2JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNkZWJ1Zy1tb2RlLWNoZWNrYm94Jyk7XG5cbiAgY29uc3QgeyBkZWJ1Z01vZGUgfSA9IGdldFNldHRpbmdzKCk7XG5cbiAgZGVidWdNb2RlQ2hlY2tib3guY2hlY2tlZCA9IGRlYnVnTW9kZTtcblxuICBpbml0RXJyb3JMb2coKTtcblxuICB1cGRhdGVEZWJ1Z01vZGVTdGF0dXMoKTtcblxuICBkZWJ1Z01vZGVDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB1cGRhdGVEZWJ1Z01vZGVTdGF0dXMoKTtcbiAgfSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZURlYnVnTW9kZVN0YXR1cygpOiB2b2lkIHtcbiAgY29uc3QgZGVidWdNb2RlQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVidWctbW9kZS1jaGVja2JveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIHNldFNldHRpbmdzKHsgZGVidWdNb2RlOiBkZWJ1Z01vZGVDaGVja2JveC5jaGVja2VkIH0pO1xuXG4gIGNvbnN0IGVycm9yTG9nTGFiZWwgPSAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktZXJyb3JzJykucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudDtcbiAgY29uc3Qgbm90aWZQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgaWYgKGRlYnVnTW9kZUNoZWNrYm94LmNoZWNrZWQpIHtcbiAgICBlcnJvckxvZ0xhYmVsLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgfVxuICBlbHNlIHtcbiAgICBlcnJvckxvZ0xhYmVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgbm90aWZQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gIH1cblxuICB1cGRhdGVFcnJvckxvZ1Zpc2liaWxpdHkoKTtcbn0iLCJpbXBvcnQgKiBhcyBEaXNwbGF5Q29udHJvbHMgZnJvbSAnLi9EaXNwbGF5Q29udHJvbHMnO1xuaW1wb3J0IFpvb21IYW5kbGVyIGZyb20gJy4uL1NpbmdsZVZpZXcvWm9vbSc7XG5pbXBvcnQgeyBEaXNwbGF5SW50ZXJmYWNlLCBWaWV3SW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuXG4vKipcbiAqIFJldHVybiB0aGUgSFRNTCBmb3IgdGhlIGRpc3BsYXkgcGFuZWwuXG4gKiBAcGFyYW0ge1pvb21IYW5kbGVyfSBoYW5kbGVab29tIC0gSW5jbHVkZXMgem9vbSBjb250cm9scyBpZiBkZWZpbmVkLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZGlzcGxheUNvbnRyb2xzUGFuZWwgKGhhbmRsZVpvb206IFpvb21IYW5kbGVyKTogc3RyaW5nIHtcbiAgbGV0IGNvbnRlbnRzID0gYFxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJkaXNwbGF5SGVhZGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZVwiPkRJU1BMQVk8L2Rpdj5cbiAgICAgIDxzdmcgY2xhc3M9XCJpY29uIGlzLXB1bGxlZC1yaWdodFwiPlxuICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRGlzcGxheVwiIGNsYXNzPVwicGFuZWwtZHJvcGRvd24taWNvblwiIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD1cImRpc3BsYXlDb250ZW50c1wiIGNsYXNzPVwicGFuZWwtY29udGVudHNcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiIGlkPVwiZGlzcGxheS1zbGlkZXItc2VjdGlvblwiPlxuICBgO1xuXG4gIGlmIChoYW5kbGVab29tICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb250ZW50cyArPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItYW5kLXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lciBkaXNwbGF5LXBhbmVsXCIgc3R5bGU9XCJjdXJzb3I6IGRlZmF1bHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFjdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGlzcGxheS1zbGlkZXItdGl0bGVcIj5ab29tPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2xpZGVyLWJ0blwiIGlkPVwicmVzZXQtem9vbVwiIHRpdGxlPVwiUmVzZXQgem9vbSBzZXR0aW5nXCI+XG4gICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJzbGlkZXItYnRuLWltZ1wiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2Fycm93LXJvdGF0ZS1sZWZ0LXNvbGlkLnN2Z1wiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2xpZGVyLWJ0blwiIGlkPVwic2V0LXpvb20tZWFzeS1lZGl0XCIgdGl0bGU9XCJGaXQgdG8gcGFnZVwiPlxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwic2xpZGVyLWJ0bi1pbWdcIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9leHBhbmQtaWNvbi5zdmdcIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgc3RlcD1cIjVcIiBtaW49XCIyNVwiIG1heD1cIjQwMFwiIHZhbHVlPVwiMTAwXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzZXQtem9vbVwiXG4gICAgICAgICAgICAgIGNsYXNzPVwic2xpZGVyIGlzLWZ1bGx3aWR0aCBpcy1sYXJnZVwiXG4gICAgICAgICAgICAgIGlkPVwiem9vbVNsaWRlclwiXG4gICAgICAgICAgICAgIHN0eWxlPVwicGFkZGluZy1sZWZ0OiAxcmVtOyBwYWRkaW5nLXJpZ2h0OiAxcmVtO1wiXG4gICAgICAgICAgICAgIGRpc2FibGVkPVwiZGlzYWJsZWRcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxvdXRwdXQgaWQ9XCJ6b29tT3V0cHV0XCIgZm9yPVwiem9vbVNsaWRlclwiPjEwMDwvb3V0cHV0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gO1xuICB9XG4gIGNvbnRlbnRzICs9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1hbmQtc2xpZGVyLWFjdGlvbnMtY29udGFpbmVyIGRpc3BsYXktcGFuZWxcIiBzdHlsZT1cImN1cnNvcjogZGVmYXVsdFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItYWN0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGlzcGxheS1zbGlkZXItdGl0bGVcIj5HbHlwaCBPcGFjaXR5PC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2xpZGVyLWJ0blwiIGlkPVwidG9nZ2xlLWdseXBoLW9wYWNpdHlcIj5cbiAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInNsaWRlci1idG4taW1nXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2hpZGUtaWNvbi5zdmdcIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPiAgIFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgc3RlcD1cIjVcIiBtaW49XCIwXCIgbWF4PVwiMTAwXCIgdmFsdWU9XCIxMDBcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJ0b2dnbGUtZ2x5cGgtb3BhY2l0eVwiXG4gICAgICAgICAgICAgIGNsYXNzPVwic2xpZGVyIGlzLWZ1bGx3aWR0aCBpcy1sYXJnZVwiXG4gICAgICAgICAgICAgIGlkPVwib3BhY2l0eVNsaWRlclwiXG4gICAgICAgICAgICAgIHN0eWxlPVwicGFkZGluZy1sZWZ0OiAxcmVtOyBwYWRkaW5nLXJpZ2h0OiAxcmVtO1wiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPG91dHB1dCBpZD1cIm9wYWNpdHlPdXRwdXRcIiBmb3I9XCJvcGFjaXR5U2xpZGVyXCI+MTAwPC9vdXRwdXQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1hbmQtc2xpZGVyLWFjdGlvbnMtY29udGFpbmVyIGRpc3BsYXktcGFuZWxcIiBzdHlsZT1cImN1cnNvcjogZGVmYXVsdFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItYWN0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGlzcGxheS1zbGlkZXItdGl0bGVcIj5JbWFnZSBPcGFjaXR5PC9kaXY+IFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNsaWRlci1idG5cIiBpZD1cInRvZ2dsZS1iZy1vcGFjaXR5XCI+XG4gICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJzbGlkZXItYnRuLWltZ1wiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj4gICBcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIHN0ZXA9XCI1XCIgbWluPVwiMFwiIG1heD1cIjEwMFwiIHZhbHVlPVwiMTAwXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwidG9nZ2xlLWJnLW9wYWNpdHlcIlxuICAgICAgICAgICAgICBjbGFzcz1cInNsaWRlciBpcy1mdWxsd2lkdGggaXMtbGFyZ2VcIlxuICAgICAgICAgICAgICBpZD1cImJnT3BhY2l0eVNsaWRlclwiXG4gICAgICAgICAgICAgIHN0eWxlPVwicGFkZGluZy1sZWZ0OiAxcmVtOyBwYWRkaW5nLXJpZ2h0OiAxcmVtO1wiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPG91dHB1dCBpZD1cImJnT3BhY2l0eU91dHB1dFwiIGZvcj1cImJnT3BhY2l0eVNsaWRlclwiPjEwMDwvb3V0cHV0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uXCI+XG5cbiAgICAgICAgPGRpdiBpZD1cImhpZ2hsaWdodC1vcHRpb25zLXRpdGxlXCIgY2xhc3M9XCJwYW5lbC1zdWItdGl0bGVcIj5IaWdobGlnaHQgT3B0aW9uczo8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duXCIgaWQ9XCJoaWdobGlnaHQtZHJvcGRvd25cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJoaWdobGlnaHQtYnV0dG9uXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiaGlnaGxpZ2h0LW1lbnVcIiBzdHlsZT1cIndpZHRoOiBhdXRvXCI+XG4gICAgICAgICAgICAgIDxzcGFuPkhpZ2hsaWdodDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJoaWdobGlnaHQtdHlwZVwiPiZuYnNwOy0gT2ZmPC9zcGFuPlxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPlxuICAgICAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVEaXNwbGF5XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImhpZ2hsaWdodC1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICAgIDxhIGFyaWEtcm9sZT1cIm1lbnVpdGVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaWQ9XCJoaWdobGlnaHQtc2VsZWN0aW9uXCI+QnkgU2VsZWN0aW9uIE1vZGU8L2E+XG4gICAgICAgICAgICAgIDxociBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXJcIi8+XG4gICAgICAgICAgICAgIDxhIGFyaWEtcm9sZT1cIm1lbnVpdGVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaWQ9XCJoaWdobGlnaHQtY29sdW1uXCI+Q29sdW1uPC9hPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LXN0YWZmXCI+U3RhZmY8L2E+XG4gICAgICAgICAgICAgIDxhIGFyaWEtcm9sZT1cIm1lbnVpdGVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaWQ9XCJoaWdobGlnaHQtc3lsbGFibGVcIj5TeWxsYWJsZTwvYT5cbiAgICAgICAgICAgICAgPGEgYXJpYS1yb2xlPVwibWVudWl0ZW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImhpZ2hsaWdodC1uZXVtZVwiPk5ldW1lPC9hPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LWxheWVyRWxlbWVudFwiPkxheWVyRWxlbWVudDwvYT5cbiAgICAgICAgICAgICAgPGhyIGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiLz5cbiAgICAgICAgICAgICAgPGEgYXJpYS1yb2xlPVwibWVudWl0ZW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImhpZ2hsaWdodC1ub25lXCI+Tm9uZTwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LW9wdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBpZD1cImRpc3BsYXktb3B0aW9ucy10aXRsZVwiIGNsYXNzPVwicGFuZWwtc3ViLXRpdGxlXCI+RGlzcGxheSBPcHRpb25zOjwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBpZD1cImRpc3BsYXktb3B0aW9ucy1pdGVtc1wiPlxuXG4gICAgICAgICAgICA8ZGl2IGlkPVwiY2hlY2tib3gtZGlzcGxheS1vcHRpb25zXCI+XG5cbiAgICAgICAgICAgICAgPGRpdiBpZD1cImRpc3BsYXktYWxsLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LW9wdGlvbnMtc2VwYXJhdG9yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkaXNwbGF5LWFsbC1idG5cIj5EaXNwbGF5IEFsbDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBpZD1cImRpc3BsYXktc2luZ2xlLWNvbnRhaW5lclwiPjwvZGl2PlxuXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgPC9kaXY+YDtcblxuICByZXR1cm4gY29udGVudHM7XG59XG5cbi8qKlxuICogQSBjbGFzcyB0aGF0IHNldHMgdGhlIGNvbnRlbnQgb2YgdGhlIGRpc3BsYXkgcGFuZWwgdG8gdGhlIHJpZ2h0IGFuZFxuICogbWFuYWdlcyBjb250cm9scyBmb3Igdmlld2luZy5cbiAqL1xuY2xhc3MgRGlzcGxheVBhbmVsIGltcGxlbWVudHMgRGlzcGxheUludGVyZmFjZSB7XG4gIHZpZXc6IFZpZXdJbnRlcmZhY2U7XG4gIG1laUNsYXNzOiBzdHJpbmc7XG4gIGJhY2tncm91bmQ6IHN0cmluZztcbiAgem9vbUhhbmRsZXI6IFpvb21IYW5kbGVyO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgRGlzcGxheVBhbmVsLlxuICAgKiBAcGFyYW0ge1NpbmdsZVZpZXcgfCBEaXZhVmlld30gdmlldyAtIFRoZSBWaWV3IHBhcmVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1laSAtIFRoZSBjbGFzcyBuYW1lIGZvciB0aGUgU1ZHLXJlbmRlcmVkIE1FSS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGJhY2tncm91bmQgLSBUaGUgY2xhc3MgbmFtZSBhc3NvY2lhdGVkIHdpdGggdGhlIGJhY2tncm91bmQuXG4gICAqIEBwYXJhbSB7Wm9vbUhhbmRsZXJ9IFt6b29tSGFuZGxlcl0gLSBUaGUgWm9vbUhhbmRsZXIgb2JqZWN0LCBpZiBTaW5nbGVWaWV3LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKHZpZXc6IFZpZXdJbnRlcmZhY2UsIG1laTogc3RyaW5nLFxuICAgIGJhY2tncm91bmQ6IHN0cmluZywgem9vbUhhbmRsZXI6IFpvb21IYW5kbGVyID0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB0aGlzLm1laUNsYXNzID0gbWVpO1xuICAgIHRoaXMuYmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XG4gICAgdGhpcy56b29tSGFuZGxlciA9IHpvb21IYW5kbGVyO1xuXG4gICAgY29uc3QgZGlzcGxheVBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlfY29udHJvbHMnKTtcbiAgICBkaXNwbGF5UGFuZWwuaW5uZXJIVE1MID0gZGlzcGxheUNvbnRyb2xzUGFuZWwodGhpcy56b29tSGFuZGxlcik7XG5cbiAgICB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgdGhpcy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMudXBkYXRlVmlzdWFsaXphdGlvbi5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBldmVudCBsaXN0ZW5lcnMgcmVsYXRlZCB0byB0aGUgRGlzcGxheVBhbmVsLlxuICAgKi9cbiAgc2V0RGlzcGxheUxpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuem9vbUhhbmRsZXIpIHtcbiAgICAgIC8vIFpvb20gaGFuZGxlciBzdHVmZlxuICAgICAgRGlzcGxheUNvbnRyb2xzLnNldFpvb21Db250cm9scyh0aGlzLnpvb21IYW5kbGVyKTtcbiAgICB9XG4gICAgRGlzcGxheUNvbnRyb2xzLmluaXREaXNwbGF5Q29udHJvbHModGhpcy5tZWlDbGFzcywgdGhpcy5iYWNrZ3JvdW5kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGxvY2FsU3RvcmFnZSB2YWx1ZXMgYmVmb3JlIFNWRyBpcyBsb2FkZWRcbiAgICogXG4gICAqIE5PVEU6IHRoaXMgZnVuY3Rpb24gb25seSBjYXVzZXMgdmlzdWFsIGNoYW5nZXMsIG5vdCBmdW5jdGlvbmFsIGNoYW5nZXMuXG4gICAqICAgIEZ1bmN0aW9uYWwgY2hhbmdlcyBhcmUgZG9uZSBpbiBzZXBhcmF0ZSBtb2R1bGVzIHdoaWNoIGRlcGVuZCBvbiBzcGVjaWZpYyBjb25kaXRpb25zLlxuICAgKi9cbiAgbG9hZFNldHRpbmdzICgpOiB2b2lkIHtcbiAgICBjb25zdCB7IHpvb20sIGdseXBoT3BhY2l0eSwgaW1hZ2VPcGFjaXR5LCBoaWdobGlnaHRNb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuICAgIFxuICAgIC8vIFpvb21cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI3pvb21PdXRwdXQnKSkge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI3pvb21PdXRwdXQnKS52YWx1ZSA9IFN0cmluZyh6b29tKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyN6b29tU2xpZGVyJykudmFsdWUgPSBTdHJpbmcoem9vbSk7XG4gICAgfSAgICBcblxuICAgIC8vIEltYWdlIG9wYWNpdHlcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjYmdPcGFjaXR5T3V0cHV0JykudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjYmdPcGFjaXR5U2xpZGVyJykudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcblxuICAgIC8vIEdseXBoIG9wYWNpdHlcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjb3BhY2l0eU91dHB1dCcpLnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI29wYWNpdHlTbGlkZXInKS52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuXG4gICAgLy8gSGlnaGxpZ2h0IG1vZGU6XG4gICAgLy8gVGV4dCA9IGNhcGl0YWxpemVkIHZlcnNpb24gb2YgaGlnaGxpZ2h0LSR7aWR9XG4gICAgY29uc3QgdGV4dCA9IGhpZ2hsaWdodE1vZGUgPT09ICdub25lJyA/ICdPZmYnIDogaGlnaGxpZ2h0TW9kZVswXS50b1VwcGVyQ2FzZSgpICsgaGlnaGxpZ2h0TW9kZS5zbGljZSgxKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGlnaGxpZ2h0LXR5cGUnKS50ZXh0Q29udGVudCA9IGBcXHhBMC0gJHt0ZXh0fWA7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIFNWRyBiYXNlZCBvbiB2aXN1YWxpemF0aW9uIHNldHRpbmdzXG4gICAqL1xuICB1cGRhdGVWaXN1YWxpemF0aW9uICgpOiB2b2lkIHtcbiAgICBEaXNwbGF5Q29udHJvbHMuc2V0R2x5cGhPcGFjaXR5RnJvbVNsaWRlcih0aGlzLm1laUNsYXNzKTtcbiAgICBEaXNwbGF5Q29udHJvbHMuc2V0QmdPcGFjaXR5RnJvbVNsaWRlcih0aGlzLmJhY2tncm91bmQpO1xuICAgIERpc3BsYXlDb250cm9scy51cGRhdGVIaWdobGlnaHQoKTtcbiAgfVxufVxuXG5leHBvcnQgeyBEaXNwbGF5UGFuZWwgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IE5lb25WaWV3IGZyb20gJy4vTmVvblZpZXcnO1xuaW1wb3J0IERpc3BsYXlQYW5lbCBmcm9tICcuL0Rpc3BsYXlQYW5lbC9EaXNwbGF5UGFuZWwnO1xuaW1wb3J0IHsgRGlzcGxheUNvbnN0cnVjdGFibGUsIFZpZXdJbnRlcmZhY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IFpvb21IYW5kbGVyIGZyb20gJy4vU2luZ2xlVmlldy9ab29tJztcblxuaW1wb3J0IERpdmEgZnJvbSAnZGl2YS5qcyc7XG5cbi8qKlxuICogVmlldyBtb2R1bGUgdGhhdCB1c2VzIHRoZSBkaXZhLmpzIHZpZXdlciB0byByZW5kZXIgdGhlIHBhZ2VzIG9mIGEgSUlJRiBtYW5pZmVzdHNcbiAqIGFuZCB0aGVuIGRpc3BsYXkgdGhlIHJlbmRlcmVkIE1FSSBmaWxlcyBvdmVyIHRoZSBwcm9wZXIgcGFnZXMuXG4gKi9cbmNsYXNzIERpdmFWaWV3IGltcGxlbWVudHMgVmlld0ludGVyZmFjZSB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgLyoqIENhbGxiYWNrcyB0aGF0IHJ1biB3aGVuZXZlciB0aGUgZGlzcGxheSB1cGRhdGVzLiAqL1xuICBwcml2YXRlIHVwZGF0ZUNhbGxiYWNrczogQXJyYXk8KCkgPT4gdm9pZD47XG4gIGRpdmFSZWFkeTogYm9vbGVhbjtcbiAgLyoqIFRoZSBkaXZhLmpzIGluc3RhbmNlLiAqL1xuICBwcml2YXRlIGRpdmE6IERpdmE7XG4gIC8qKiBNYXAgemVyby1pbmRleCBwYWdlIG51bWJlcnMgdG8gdGhlIGFjdHVhbCBVUkkvSVJJIGlkZW50aWZpZXIuICovXG4gIHByaXZhdGUgaW5kZXhNYXA6IE1hcDxudW1iZXIsIHN0cmluZz47XG4gIHByaXZhdGUgZGlzcGxheVBhbmVsOiBEaXNwbGF5UGFuZWw7XG4gIC8qKiBUaW1lIHRvIHdhaXQgYWZ0ZXIgYSBwYWdlIGJlY29tZXMgYWN0aXZlIGJlZm9yZSBsb2FkaW5nIGl0LiBJbiBtaWxsaXNlY29uZHMuICovXG4gIHByaXZhdGUgbG9hZERlbGF5OiBudW1iZXI7XG4gIHpvb21IYW5kbGVyOiBab29tSGFuZGxlcjtcblxuICAvKipcbiAgICogQHBhcmFtIG1hbmlmZXN0IC0gVVJJL0lSSSB0byB0aGUgSUlJRiBtYW5pZmVzdC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIERpc3BsYXk6IERpc3BsYXlDb25zdHJ1Y3RhYmxlLCBtYW5pZmVzdDogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzID0gW107XG4gICAgdGhpcy5kaXZhUmVhZHkgPSBmYWxzZTtcbiAgICB0aGlzLmRpdmEgPSBuZXcgRGl2YSgnY29udGFpbmVyJywge1xuICAgICAgb2JqZWN0RGF0YTogbWFuaWZlc3RcbiAgICB9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJykuc3R5bGUubWluSGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuaW5kZXhNYXAgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5kaXZhLmRpc2FibGVEcmFnU2Nyb2xsYWJsZSgpO1xuICAgIHRoaXMuZGlzcGxheVBhbmVsID0gbmV3IERpc3BsYXkodGhpcywgJ25lb24tY29udGFpbmVyJywgJ2RpdmEtdmlld2VyLWNhbnZhcycpO1xuICAgIHRoaXMubG9hZERlbGF5ID0gNTAwOyAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICB0aGlzLmluaXREaXZhRXZlbnRzKCk7XG4gICAgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kaXZhLWlubmVyJykgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcblxuICAgIHdpbmRvdy5vbnJlc2l6ZSA9ICgpOiB2b2lkID0+IHtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5cbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpOiB2b2lkID0+IHtcbiAgICAgICAgaWYgKChoZWlnaHQgPT09IHdpbmRvdy5pbm5lckhlaWdodCkgJiYgKHdpZHRoID09PSB3aW5kb3cuaW5uZXJXaWR0aCkpIHtcbiAgICAgICAgICB0aGlzLmNoYW5nZVBhZ2UodGhpcy5nZXRDdXJyZW50UGFnZSgpLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMubG9hZERlbGF5KTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbGlzdGVuZXJzIGZvciBjZXJ0YWluIGV2ZW50cyBpbnRlcm5hbCB0byBkaXZhLmpzXG4gICAqL1xuICBpbml0RGl2YUV2ZW50cyAoKTogdm9pZCB7XG4gICAgRGl2YS5FdmVudHMuc3Vic2NyaWJlKCdNYW5pZmVzdERpZExvYWQnLCB0aGlzLnBhcnNlTWFuaWZlc3QuYmluZCh0aGlzKSwgdGhpcy5kaXZhLnNldHRpbmdzLklEKTtcbiAgICBEaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ09iamVjdERpZExvYWQnLCB0aGlzLmRpZExvYWQuYmluZCh0aGlzKSwgdGhpcy5kaXZhLnNldHRpbmdzLklEKTtcbiAgICBEaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ0FjdGl2ZVBhZ2VEaWRDaGFuZ2UnLCB0aGlzLmNoYW5nZVBhZ2UuYmluZCh0aGlzKSwgdGhpcy5kaXZhLnNldHRpbmdzLklEKTtcbiAgICBEaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1pvb21MZXZlbERpZENoYW5nZScsIHRoaXMuYWRqdXN0Wm9vbS5iaW5kKHRoaXMpLCB0aGlzLmRpdmEuc2V0dGluZ3MuSUQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB2aXNpYmxlIHBhZ2UgY2hhbmdlcyBpbiB0aGUgZGl2YS5qcyB2aWV3ZXIuXG4gICAqIEBwYXJhbSBwYWdlSW5kZXggLSBUaGUgemVyby1pbmRleGVkIHBhZ2UgdGhhdCBpcyBtb3N0IHZpc2libGUuXG4gICAqIEBwYXJhbSBkZWxheSAtIFdoZXRoZXIgdG8gZGVsYXkgdGhlIGxvYWRpbmcgb2YgdGhlIHBhZ2Ugc28gdGhhdCBuZW9uIGRvZXNuJ3QgbGFnIHdoaWxlIHNjcm9sbGluZy5cbiAgICovXG4gIGFzeW5jIGNoYW5nZVBhZ2UgKHBhZ2VJbmRleDogbnVtYmVyLCBkZWxheSA9IHRydWUpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBmdW5jdGlvbiBjaGVja0FuZExvYWQgKHBhZ2U6IG51bWJlcik6IHZvaWQge1xuICAgICAgaWYgKHBhZ2UgPT09IHRoaXMuZ2V0Q3VycmVudFBhZ2UoKSkge1xuICAgICAgICBjb25zdCBwYWdlVVJJID0gdGhpcy5pbmRleE1hcC5nZXQocGFnZSk7XG4gICAgICAgIHRoaXMubmVvblZpZXcuZ2V0UGFnZVNWRyhwYWdlVVJJKS50aGVuKChzdmc6IFNWR1NWR0VsZW1lbnQpID0+IHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVNWRyhzdmcsIHBhZ2UpO1xuICAgICAgICAgIGNvbnN0IGNvbnRhaW5lcklkID0gJ25lb24tY29udGFpbmVyLScgKyBwYWdlO1xuICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklkKTtcbiAgICAgICAgICBpZiAoY29udGFpbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlLXBhZ2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy51cGRhdGVDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiBjYWxsYmFjaygpKTtcbiAgICAgICAgfSkuY2F0Y2goKGVycjogeyBuYW1lOiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICAgIGlmIChlcnIubmFtZSAhPT0gJ25vdF9mb3VuZCcgJiYgZXJyLm5hbWUgIT09ICdtaXNzaW5nX21laScpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHBhZ2VJbmRleGVzID0gW3BhZ2VJbmRleF07XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhY3RpdmUtcGFnZScpKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtcGFnZScpO1xuICAgIH0pO1xuICAgIGZvciAoY29uc3QgcGFnZSBvZiBwYWdlSW5kZXhlcykge1xuICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNoZWNrQW5kTG9hZC5iaW5kKHRoaXMpLCAodGhpcy5sb2FkRGVsYXkpLCBwYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrQW5kTG9hZC5iaW5kKHRoaXMpKHBhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBBY3RpdmUgemVyby1pbmRleGVkIHBhZ2UgaW4gdGhlIGRpdmEuanMgdmlld2VyLlxuICAgKi9cbiAgZ2V0Q3VycmVudFBhZ2UgKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZGl2YS5nZXRBY3RpdmVQYWdlSW5kZXgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBUaGUgYWN0aXZlIHBhZ2UgVVJJIGluIHRoZSBkaXZhLmpzIHZpZXdlci5cbiAgICovXG4gIGdldEN1cnJlbnRQYWdlVVJJICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmluZGV4TWFwLmdldCh0aGlzLmdldEN1cnJlbnRQYWdlKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkanVzdCB0aGUgcmVuZGVyZWQgU1ZHKHMpIHRvIGJlIHRoZSBjb3JyZWN0IHNpemUgYWZ0ZXIgem9vbWluZy5cbiAgICovXG4gIGFkanVzdFpvb20gKCk6IHZvaWQge1xuICAgIChuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLWNvbnRhaW5lcicpKVxuICAgICAgICAuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHsgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyB9KTtcbiAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgdGhpcy5kaXZhLnNldHRpbmdzLnpvb21EdXJhdGlvbiArIDEwMCk7XG4gICAgfSkpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5jaGFuZ2VQYWdlKHRoaXMuZGl2YS5nZXRBY3RpdmVQYWdlSW5kZXgoKSwgdHJ1ZSk7XG4gICAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tY29udGFpbmVyJykpXG4gICAgICAgIC5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN2ZyA9IGVsZW0uZmlyc3RDaGlsZCBhcyBTVkdTVkdFbGVtZW50O1xuICAgICAgICAgIGNvbnN0IHBhZ2VObyA9IHBhcnNlSW50KGVsZW0uaWQubWF0Y2goL1xcZCsvKVswXSk7XG4gICAgICAgICAgdGhpcy51cGRhdGVTVkcoc3ZnLCBwYWdlTm8pO1xuICAgICAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uU1ZHTG9hZCAoKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWV3RXZlbnRIYW5kbGVycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgU1ZHIGJlaW5nIGRpc3BsYXllZCBmb3IgdGhlIHNwZWNpZmllZCBwYWdlLlxuICAgKiBAcGFyYW0gc3ZnIC0gVGhlIFNWRyBvZiB0aGUgcGFnZSB0byB1cGRhdGUgdG8uXG4gICAqIEBwYXJhbSBwYWdlTm8gLSBUaGUgemVyby1pbmRleGVkIHBhZ2UgbnVtYmVyLlxuICAgKi9cbiAgdXBkYXRlU1ZHIChzdmc6IFNWR1NWR0VsZW1lbnQsIHBhZ2VObzogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgaW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGl2YS0xLWlubmVyJyk7XG4gICAgY29uc3QgZGltZW5zaW9ucyA9IHRoaXMuZGl2YS5nZXRQYWdlRGltZW5zaW9uc0F0Q3VycmVudFpvb21MZXZlbChwYWdlTm8pO1xuICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuZGl2YS5zZXR0aW5ncy52aWV3SGFuZGxlci5fdmlld2VyQ29yZS5nZXRQYWdlUmVnaW9uKHBhZ2VObywge1xuICAgICAgaW5jbHVkZVBhZGRpbmc6IHRydWUsXG4gICAgICBpbmNvcnBvcmF0ZVZpZXdwb3J0OiB0cnVlXG4gICAgfSk7XG4gICAgY29uc3QgbWFyZ2luTGVmdCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGlubmVyLCBudWxsKVxuICAgICAgLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1sZWZ0Jyk7XG5cbiAgICBjb25zdCBjb250YWluZXJJZCA9ICduZW9uLWNvbnRhaW5lci0nICsgcGFnZU5vLnRvU3RyaW5nKCk7XG4gICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklkKTtcbiAgICBpZiAoY29udGFpbmVyID09PSBudWxsKSB7XG4gICAgICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRhaW5lci5pZCA9IGNvbnRhaW5lcklkO1xuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ25lb24tY29udGFpbmVyJyk7XG4gICAgICBpbm5lci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIH1cblxuICAgIHdoaWxlIChjb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGRpbWVuc2lvbnMud2lkdGgudG9TdHJpbmcoKSk7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgZGltZW5zaW9ucy5oZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gYCR7b2Zmc2V0LnRvcH1weGA7XG4gICAgY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHtvZmZzZXQubGVmdCAtIHBhcnNlSW50KG1hcmdpbkxlZnQpfXB4YDtcblxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzdmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB3aGVuIGRpdmEuanMgZmluaXNoZXMgbG9hZGluZy5cbiAgICovXG4gIGRpZExvYWQgKCk6IHZvaWQge1xuICAgIHRoaXMuZGl2YVJlYWR5ID0gdHJ1ZTtcbiAgICB0aGlzLmRpc3BsYXlQYW5lbC5zZXREaXNwbGF5TGlzdGVuZXJzKCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRpbmcnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBydW4gd2hlbmV2ZXIgYW4gU1ZHIGlzIHVwZGF0ZWQuXG4gICAqIEBwYXJhbSBjYiAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICovXG4gIGFkZFVwZGF0ZUNhbGxiYWNrIChjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLnB1c2goY2IpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHByZXZpb3VzbHkgYWRkZWQgdG8gdGhlIGxpc3Qgb2YgZnVuY3Rpb25zIHRvIGNhbGwuXG4gICAqIEBwYXJhbSBjYiAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICovXG4gIHJlbW92ZVVwZGF0ZUNhbGxiYWNrIChjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy51cGRhdGVDYWxsYmFja3MuZmluZEluZGV4KChlbGVtKSA9PiB7XG4gICAgICByZXR1cm4gZWxlbSA9PT0gY2I7XG4gICAgfSk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy51cGRhdGVDYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGxpc3RlbmVycyBvbiB0aGUgYm9keSBlbGVtZW50IGZvciBnbG9iYWwgZXZlbnRzLlxuICAgKi9cbiAgc2V0Vmlld0V2ZW50SGFuZGxlcnMgKCk6IHZvaWQge1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICBmb3IgKGNvbnN0IGNvbnRhaW5lciBvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLWNvbnRhaW5lcicpIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+KSB7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2dCkgPT4ge1xuICAgICAgc3dpdGNoIChldnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ2gnOlxuICAgICAgICAgIGZvciAoY29uc3QgY29udGFpbmVyIG9mIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tY29udGFpbmVyJykgYXMgSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD4pIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2UgdGhlIElJSUYgbWFuaWZlc3QgdG8gY3JlYXRlIGEgbWFwIGJldHdlZW4gSUlJRiBjYW52YXNlcyBhbmQgcGFnZSBpbmRleGVzLlxuICAgKiBAcGFyYW0gbWFuaWZlc3QgLSBUaGUgSUlJRiBtYW5pZmVzdCBvYmplY3QuXG4gICAqL1xuICBwYXJzZU1hbmlmZXN0IChtYW5pZmVzdDogeyBzZXF1ZW5jZXM6IHsgY2FudmFzZXM6IG9iamVjdFtdIH1bXSB9KTogdm9pZCB7XG4gICAgdGhpcy5pbmRleE1hcC5jbGVhcigpO1xuICAgIGZvciAoY29uc3Qgc2VxdWVuY2Ugb2YgbWFuaWZlc3Quc2VxdWVuY2VzKSB7XG4gICAgICBmb3IgKGNvbnN0IGNhbnZhcyBvZiBzZXF1ZW5jZS5jYW52YXNlcykge1xuICAgICAgICB0aGlzLmluZGV4TWFwLnNldChzZXF1ZW5jZS5jYW52YXNlcy5pbmRleE9mKGNhbnZhcyksIGNhbnZhc1snQGlkJ10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBUaGUgbmFtZSBvZiB0aGUgYWN0aXZlIHBhZ2UvY2FudmFzIGNvbWJpbmVkIHdpdGggdGhlIG1hbnVzY3JpcHQgbmFtZS5cbiAgICovXG4gIGdldFBhZ2VOYW1lICgpOiBzdHJpbmcge1xuICAgIGNvbnN0IG1hbnVzY3JpcHROYW1lID0gdGhpcy5kaXZhLnNldHRpbmdzLm1hbmlmZXN0Lml0ZW1UaXRsZTtcbiAgICBjb25zdCBwYWdlTmFtZSA9IHRoaXMuZGl2YS5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1t0aGlzLmdldEN1cnJlbnRQYWdlKCldLmw7XG4gICAgcmV0dXJuIG1hbnVzY3JpcHROYW1lICsgJyBcXHUyMDE0ICcgKyBwYWdlTmFtZTtcbiAgfVxufVxuXG5leHBvcnQgeyBEaXZhVmlldyBhcyBkZWZhdWx0IH07XG4iLCIvKlxuIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuIENvcHlyaWdodCAoYykgPDIwMTE+IDxEYXZlIFRheWxvciBodHRwOi8vdGhlLXRheWxvcnMub3JnPlxuXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWRcbiB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cbiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcbiBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTXG4gRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SXG4gQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSXG4gSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU5cbiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4gUG9ydCB0byB2YW5pbGxhIEphdmFzY3JpcHQgYnkgSmFjZWsgTm93YWNraSBodHRwOi8vamFjZWstbm93YWNraS5uZXQvXG4qKi9cblxuKGZ1bmN0aW9uKCkge1xuICAgIHZhciBfcmFmID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtcblxuICAgIHZhciBfaXNUb3VjaCA9ICdvbnRvdWNoZW5kJyBpbiBkb2N1bWVudDtcblxuICAgIC8vIHRoaXMgaXMgc2ltcGxlLCBubyBcImRlZXBcIiBzdXBwb3J0XG4gICAgdmFyIF9leHRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yICh2YXIgaT0xOyBpPGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaV0uaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF1ba2V5XSA9IGFyZ3VtZW50c1tpXVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xuICAgIH07XG5cbiAgICB2YXIgVmFuaWxsYUtpbmV0aWMgPSBmdW5jdGlvbihlbGVtZW50LCBzZXR0aW5ncykge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gX2V4dGVuZCh7fSwgVmFuaWxsYUtpbmV0aWMuREVGQVVMVFMsIHNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5lbCAgICAgICA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuQUNUSVZFX0NMQVNTID0gXCJraW5ldGljLWFjdGl2ZVwiO1xuXG4gICAgICAgIHRoaXMuX2luaXRFbGVtZW50cygpO1xuXG4gICAgICAgIHRoaXMuZWwuX1ZhbmlsbGFLaW5ldGljID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLkRFRkFVTFRTID0ge1xuICAgICAgICBjdXJzb3I6ICdtb3ZlJyxcbiAgICAgICAgZGVjZWxlcmF0ZTogdHJ1ZSxcbiAgICAgICAgdHJpZ2dlckhhcmR3YXJlOiBmYWxzZSxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICB5OiB0cnVlLFxuICAgICAgICB4OiB0cnVlLFxuICAgICAgICBzbG93ZG93bjogMC45LFxuICAgICAgICBtYXh2ZWxvY2l0eTogNDAsXG4gICAgICAgIHRocm90dGxlRlBTOiA2MCxcbiAgICAgICAgaW52ZXJ0OiBmYWxzZSxcbiAgICAgICAgbW92aW5nQ2xhc3M6IHtcbiAgICAgICAgICAgIHVwOiAna2luZXRpYy1tb3ZpbmctdXAnLFxuICAgICAgICAgICAgZG93bjogJ2tpbmV0aWMtbW92aW5nLWRvd24nLFxuICAgICAgICAgICAgbGVmdDogJ2tpbmV0aWMtbW92aW5nLWxlZnQnLFxuICAgICAgICAgICAgcmlnaHQ6ICdraW5ldGljLW1vdmluZy1yaWdodCdcbiAgICAgICAgfSxcbiAgICAgICAgZGVjZWxlcmF0aW5nQ2xhc3M6IHtcbiAgICAgICAgICAgIHVwOiAna2luZXRpYy1kZWNlbGVyYXRpbmctdXAnLFxuICAgICAgICAgICAgZG93bjogJ2tpbmV0aWMtZGVjZWxlcmF0aW5nLWRvd24nLFxuICAgICAgICAgICAgbGVmdDogJ2tpbmV0aWMtZGVjZWxlcmF0aW5nLWxlZnQnLFxuICAgICAgICAgICAgcmlnaHQ6ICdraW5ldGljLWRlY2VsZXJhdGluZy1yaWdodCdcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBQdWJsaWMgZnVuY3Rpb25zXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gX2V4dGVuZCh0aGlzLnNldHRpbmdzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IG9wdGlvbnMudmVsb2NpdHkgfHwgdGhpcy52ZWxvY2l0eTtcbiAgICAgICAgdGhpcy52ZWxvY2l0eVkgPSBvcHRpb25zLnZlbG9jaXR5WSB8fCB0aGlzLnZlbG9jaXR5WTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX21vdmUoKTtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLmRlY2VsZXJhdGUgPSB0cnVlO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgdGhpcy52ZWxvY2l0eVkgPSAwO1xuICAgICAgICB0aGlzLnNldHRpbmdzLmRlY2VsZXJhdGUgPSB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3Muc3RvcHBlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5zdG9wcGVkLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9kZXRhY2hMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQUNUSVZFX0NMQVNTKTtcbiAgICAgICAgdGhpcy5lbC5zdHlsZS5jdXJzb3IgPSAnJztcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLmF0dGFjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5BQ1RJVkVfQ0xBU1MpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXR0YWNoTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCh0aGlzLkFDVElWRV9DTEFTUyk7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUuY3Vyc29yID0gdGhpcy5zZXR0aW5ncy5jdXJzb3I7XG4gICAgfTtcblxuICAgIC8vIEludGVybmFsIGZ1bmN0aW9uc1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9pbml0RWxlbWVudHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKHRoaXMuQUNUSVZFX0NMQVNTKTtcblxuICAgICAgICBfZXh0ZW5kKHRoaXMsIHtcbiAgICAgICAgICAgIHhwb3M6IG51bGwsXG4gICAgICAgICAgICBwcmV2WFBvczogZmFsc2UsXG4gICAgICAgICAgICB5cG9zOiBudWxsLFxuICAgICAgICAgICAgcHJldllQb3M6IGZhbHNlLFxuICAgICAgICAgICAgbW91c2VEb3duOiBmYWxzZSxcbiAgICAgICAgICAgIHRocm90dGxlVGltZW91dDogMTAwMCAvIHRoaXMuc2V0dGluZ3MudGhyb3R0bGVGUFMsXG4gICAgICAgICAgICBsYXN0TW92ZTogbnVsbCxcbiAgICAgICAgICAgIGVsZW1lbnRGb2N1c2VkOiBudWxsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuICAgICAgICB0aGlzLnZlbG9jaXR5WSA9IDA7XG5cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB0aGlzLmRvY3VtZW50UmVzZXRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGF0Ll9yZXNldE1vdXNlLmFwcGx5KHRoYXQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEZJWE1FIG1ha2Ugc3VyZSB0byByZW1vdmUgdGhpc1xuICAgICAgICB2YXIgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgaHRtbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLmRvY3VtZW50UmVzZXRIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRSZXNldEhhbmRsZXIsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLl9pbml0RXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5lbC5zdHlsZS5jdXJzb3IgPSB0aGlzLnNldHRpbmdzLmN1cnNvcjtcblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy50cmlnZ2VySGFyZHdhcmUpIHtcbiAgICAgICAgICAgIHZhciBwcmVmaXhlcyA9IFsnJywgJy1tcy0nLCAnLXdlYmtpdC0nLCAnLW1vei0nXTtcbiAgICAgICAgICAgIHZhciBzdHlsZXMgPSB7XG4gICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUzZCgwLDAsMCknLFxuICAgICAgICAgICAgICAgICdwZXJzcGVjdGl2ZSc6ICcxMDAwJywgLy8gVE9ETyBpcyB0aGlzIGV2ZW4gdmFsaWQ/IGlzIHRoaXMgZXZlbiBuZWVkZWQ/XG4gICAgICAgICAgICAgICAgJ2JhY2tmYWNlLXZpc2liaWxpdHknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBwcmVmaXggPSBwcmVmaXhlc1tpXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZXMuaGFzT3duUHJvcGVydHkoa2V5KSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsLnN0eWxlW3ByZWZpeCtrZXldID0gc3R5bGVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9pbml0RXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5ldmVudHMgPSB7XG4gICAgICAgICAgICB0b3VjaFN0YXJ0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoO1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl91c2VUYXJnZXQoZS50YXJnZXQsIGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgICAgICAgICAgICAgIHNlbGYudGhyZXNob2xkID0gc2VsZi5fdGhyZXNob2xkKGUudGFyZ2V0LCBlKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fc3RhcnQodG91Y2guY2xpZW50WCwgdG91Y2guY2xpZW50WSk7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvdWNoTW92ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaDtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5tb3VzZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2ggPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5faW5wdXRtb3ZlKHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0RG93bjogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl91c2VUYXJnZXQoZS50YXJnZXQsIGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYudGhyZXNob2xkID0gc2VsZi5fdGhyZXNob2xkKGUudGFyZ2V0LCBlKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fc3RhcnQoZS5jbGllbnRYLCBlLmNsaWVudFkpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnRGb2N1c2VkID0gZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5ub2RlTmFtZSA9PT0gXCJJTUdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0RW5kOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX3VzZVRhcmdldChlLnRhcmdldCwgZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZWxlbWVudEZvY3VzZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0TW92ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLm1vdXNlRG93bikge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9pbnB1dG1vdmUoZS5jbGllbnRYLCBlLmNsaWVudFkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5zZXR0aW5ncy5tb3ZlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnNldHRpbmdzLm1vdmVkLmNhbGwoc2VsZiwgc2VsZi5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5wdXRDbGljazogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhzZWxmLnZlbG9jaXR5KSA+IDAgfHwgTWF0aC5hYnMoc2VsZi52ZWxvY2l0eVkpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRyYWdTdGFydDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl91c2VUYXJnZXQoZS50YXJnZXQsIGUpICYmIHNlbGYuZWxlbWVudEZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3RTdGFydDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5zZXR0aW5ncy5zZWxlY3RTdGFydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5zZXR0aW5ncy5zZWxlY3RTdGFydC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzZWxmLl91c2VUYXJnZXQoZS50YXJnZXQsIGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fYXR0YWNoTGlzdGVuZXJzKCk7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5faW5wdXRtb3ZlID0gZnVuY3Rpb24oY2xpZW50WCwgY2xpZW50WSkge1xuICAgICAgICBpZiAoIXRoaXMubGFzdE1vdmUgfHwgbmV3IERhdGUoKSA+IG5ldyBEYXRlKHRoaXMubGFzdE1vdmUuZ2V0VGltZSgpICsgdGhpcy50aHJvdHRsZVRpbWVvdXQpKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RNb3ZlID0gbmV3IERhdGUoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubW91c2VEb3duICYmICh0aGlzLnhwb3MgfHwgdGhpcy55cG9zKSkge1xuICAgICAgICAgICAgICAgIHZhciBtb3ZlZFggPSAoY2xpZW50WCAtIHRoaXMueHBvcyk7XG4gICAgICAgICAgICAgICAgdmFyIG1vdmVkWSA9IChjbGllbnRZIC0gdGhpcy55cG9zKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbnZlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZWRYICo9IC0xO1xuICAgICAgICAgICAgICAgICAgICBtb3ZlZFkgKj0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRocmVzaG9sZD4wKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtb3ZlZCA9IE1hdGguc3FydChtb3ZlZFgqbW92ZWRYICsgbW92ZWRZKm1vdmVkWSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRocmVzaG9sZD5tb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aHJlc2hvbGQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRGb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudEZvY3VzZWQuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRGb2N1c2VkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZGVjZWxlcmF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLnZlbG9jaXR5WSA9IDA7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IHRoaXMuc2Nyb2xsTGVmdCgpO1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxMZWZ0KHRoaXMuc2V0dGluZ3MueCA/IHNjcm9sbExlZnQgLSBtb3ZlZFggOiBzY3JvbGxMZWZ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvcCh0aGlzLnNldHRpbmdzLnkgPyBzY3JvbGxUb3AgLSBtb3ZlZFkgOiBzY3JvbGxUb3ApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2WFBvcyA9IHRoaXMueHBvcztcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZZUG9zID0gdGhpcy55cG9zO1xuICAgICAgICAgICAgICAgIHRoaXMueHBvcyA9IGNsaWVudFg7XG4gICAgICAgICAgICAgICAgdGhpcy55cG9zID0gY2xpZW50WTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZVZlbG9jaXRpZXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRNb3ZlQ2xhc3Nlcyh0aGlzLnNldHRpbmdzLm1vdmluZ0NsYXNzKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZXR0aW5ncy5tb3ZlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLm1vdmVkLmNhbGwodGhpcywgdGhpcy5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fY2FsY3VsYXRlVmVsb2NpdGllcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy5fY2FwVmVsb2NpdHkodGhpcy5wcmV2WFBvcyAtIHRoaXMueHBvcywgdGhpcy5zZXR0aW5ncy5tYXh2ZWxvY2l0eSk7XG4gICAgICAgIHRoaXMudmVsb2NpdHlZID0gdGhpcy5fY2FwVmVsb2NpdHkodGhpcy5wcmV2WVBvcyAtIHRoaXMueXBvcywgdGhpcy5zZXR0aW5ncy5tYXh2ZWxvY2l0eSk7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmludmVydCkge1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSAqPSAtMTtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHlZICo9IC0xO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnhwb3MgJiYgdGhpcy5wcmV2WFBvcyAmJiB0aGlzLnNldHRpbmdzLmRlY2VsZXJhdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlY2VsZXJhdGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlVmVsb2NpdGllcygpO1xuICAgICAgICAgICAgdGhpcy54cG9zID0gdGhpcy5wcmV2WFBvcyA9IHRoaXMubW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9tb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl91c2VUYXJnZXQgPSBmdW5jdGlvbih0YXJnZXQsIGV2ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZXR0aW5ncy5maWx0ZXJUYXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmZpbHRlclRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCwgZXZlbnQpICE9PSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX3RocmVzaG9sZCA9IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLnRocmVzaG9sZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MudGhyZXNob2xkLmNhbGwodGhpcywgdGFyZ2V0LCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MudGhyZXNob2xkO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX3N0YXJ0ID0gZnVuY3Rpb24oY2xpZW50WCwgY2xpZW50WSkge1xuICAgICAgICB0aGlzLm1vdXNlRG93biA9IHRydWU7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLnByZXZYUG9zID0gMDtcbiAgICAgICAgdGhpcy52ZWxvY2l0eVkgPSB0aGlzLnByZXZZUG9zID0gMDtcbiAgICAgICAgdGhpcy54cG9zID0gY2xpZW50WDtcbiAgICAgICAgdGhpcy55cG9zID0gY2xpZW50WTtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9yZXNldE1vdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMueHBvcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnlwb3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9kZWNlbGVyYXRlVmVsb2NpdHkgPSBmdW5jdGlvbih2ZWxvY2l0eSwgc2xvd2Rvd24pIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5hYnModmVsb2NpdHkpKSA9PT0gMCA/IDAgLy8gaXMgdmVsb2NpdHkgbGVzcyB0aGFuIDE/XG4gICAgICAgICAgICA6IHZlbG9jaXR5ICogc2xvd2Rvd247IC8vIHJlZHVjZSBzbG93ZG93blxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2NhcFZlbG9jaXR5ID0gZnVuY3Rpb24odmVsb2NpdHksIG1heCkge1xuICAgICAgICB2YXIgbmV3VmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICAgICAgaWYgKHZlbG9jaXR5ID4gMCl7XG4gICAgICAgICAgICBpZiAodmVsb2NpdHkgPiBtYXgpe1xuICAgICAgICAgICAgICAgIG5ld1ZlbG9jaXR5ID0gbWF4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHZlbG9jaXR5IDwgKDAgLSBtYXgpKXtcbiAgICAgICAgICAgICAgICBuZXdWZWxvY2l0eSA9ICgwIC0gbWF4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3VmVsb2NpdHk7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fc2V0TW92ZUNsYXNzZXMgPSBmdW5jdGlvbihjbGFzc2VzKSB7XG4gICAgICAgIC8vIFRoZSBmaXgtbWUgY29tbWVudCBiZWxvdyBpcyBmcm9tIG9yaWdpbmFsIGpRdWVyeS5raW5ldGljIHByb2plY3RcbiAgICAgICAgLy8gRklYTUU6IGNvbnNpZGVyIGlmIHdlIHdhbnQgdG8gYXBwbHkgUEwgIzQ0LCB0aGlzIHNob3VsZCBub3QgcmVtb3ZlXG4gICAgICAgIC8vIGNsYXNzZXMgd2UgaGF2ZSBub3QgZGVmaW5lZCBvbiB0aGUgZWxlbWVudCFcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcbiAgICAgICAgdmFyIGVsID0gdGhpcy5lbDtcblxuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLm1vdmluZ0NsYXNzLnVwKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5tb3ZpbmdDbGFzcy5kb3duKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5tb3ZpbmdDbGFzcy5sZWZ0KTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5tb3ZpbmdDbGFzcy5yaWdodCk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MuZGVjZWxlcmF0aW5nQ2xhc3MudXApO1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLmRlY2VsZXJhdGluZ0NsYXNzLmRvd24pO1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLmRlY2VsZXJhdGluZ0NsYXNzLmxlZnQpO1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLmRlY2VsZXJhdGluZ0NsYXNzLnJpZ2h0KTtcblxuICAgICAgICBpZiAodGhpcy52ZWxvY2l0eSA+IDApe1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc2VzLnJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52ZWxvY2l0eSA8IDApe1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc2VzLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZlbG9jaXR5WSA+IDApe1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc2VzLmRvd24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnZlbG9jaXR5WSA8IDApe1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChjbGFzc2VzLnVwKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX21vdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNjcm9sbGVyID0gdGhpcy5fZ2V0U2Nyb2xsZXIoKTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy54ICYmIHNjcm9sbGVyLnNjcm9sbFdpZHRoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxMZWZ0KHRoaXMuc2Nyb2xsTGVmdCgpICsgdGhpcy52ZWxvY2l0eSk7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy52ZWxvY2l0eSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHNldHRpbmdzLmRlY2VsZXJhdGUgP1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9kZWNlbGVyYXRlVmVsb2NpdHkodGhpcy52ZWxvY2l0eSwgc2V0dGluZ3Muc2xvd2Rvd24pIDogdGhpcy52ZWxvY2l0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLnkgJiYgc2Nyb2xsZXIuc2Nyb2xsSGVpZ2h0ID4gMCl7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvcCh0aGlzLnNjcm9sbFRvcCgpICsgdGhpcy52ZWxvY2l0eVkpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMudmVsb2NpdHlZKSA+IDApe1xuICAgICAgICAgICAgICAgIHRoaXMudmVsb2NpdHlZID0gc2V0dGluZ3MuZGVjZWxlcmF0ZSA/XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2RlY2VsZXJhdGVWZWxvY2l0eSh0aGlzLnZlbG9jaXR5WSwgc2V0dGluZ3Muc2xvd2Rvd24pIDogdGhpcy52ZWxvY2l0eVk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5WSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9zZXRNb3ZlQ2xhc3NlcyhzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5tb3ZlZCA9PT0gJ2Z1bmN0aW9uJyl7XG4gICAgICAgICAgICBzZXR0aW5ncy5tb3ZlZC5jYWxsKHRoaXMsIHNldHRpbmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnZlbG9jaXR5KSA+IDAgfHwgTWF0aC5hYnModGhpcy52ZWxvY2l0eVkpID4gMCl7XG4gICAgICAgICAgICBpZiAoIXRoaXMubW92aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIHRpY2sgZm9yIG5leHQgbW92ZW1lbnRcbiAgICAgICAgICAgICAgICBfcmFmKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm1vdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9tb3ZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZWxmLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2dldFNjcm9sbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIEZJWE1FIHdlIG1heSB3YW50IHRvIG5vcm1hbGl6ZSBiZWhhdmlvdXIgYWNyb3NzIGJyb3dzZXJzIGFzIGluIG9yaWdpbmFsIGpRdWVyeS5raW5ldGljXG4gICAgICAgIC8vIGN1cnJlbnRseSB0aGlzIHdvbid0IHdvcmsgY29ycmVjdGx5IG9uIGFsbCBicndvc2VycyB3aGVuIGF0dGFjaGVkIHRvIGh0bWwgb3IgYm9keSBlbGVtZW50XG4gICAgICAgIHJldHVybiB0aGlzLmVsO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuc2Nyb2xsTGVmdCA9IGZ1bmN0aW9uKGxlZnQpIHtcbiAgICAgICAgdmFyIHNjcm9sbGVyID0gdGhpcy5fZ2V0U2Nyb2xsZXIoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBsZWZ0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgc2Nyb2xsZXIuc2Nyb2xsTGVmdCA9IGxlZnQ7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnNjcm9sbExlZnQgPSBsZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbGVyLnNjcm9sbExlZnQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLnNjcm9sbFRvcCA9IGZ1bmN0aW9uKHRvcCkge1xuICAgICAgICB2YXIgc2Nyb2xsZXIgPSB0aGlzLl9nZXRTY3JvbGxlcigpO1xuICAgICAgICBpZiAodHlwZW9mIHRvcCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHNjcm9sbGVyLnNjcm9sbFRvcCA9IHRvcDtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc2Nyb2xsVG9wID0gdG9wO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNjcm9sbGVyLnNjcm9sbFRvcDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2F0dGFjaExpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzO1xuXG4gICAgICAgIGlmIChfaXNUb3VjaCkge1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHNldHRpbmdzLmV2ZW50cy50b3VjaFN0YXJ0LCBmYWxzZSk7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHNldHRpbmdzLmV2ZW50cy5pbnB1dEVuZCwgZmFsc2UpO1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgc2V0dGluZ3MuZXZlbnRzLnRvdWNoTW92ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc2V0dGluZ3MuZXZlbnRzLmlucHV0RG93biwgZmFsc2UpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc2V0dGluZ3MuZXZlbnRzLmlucHV0RW5kLCBmYWxzZSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHNldHRpbmdzLmV2ZW50cy5pbnB1dE1vdmUsIGZhbHNlKTtcblxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNldHRpbmdzLmV2ZW50cy5pbnB1dENsaWNrLCBmYWxzZSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNldHRpbmdzLmV2ZW50cy5zY3JvbGwsIGZhbHNlKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBzZXR0aW5ncy5ldmVudHMuc2VsZWN0U3RhcnQsIGZhbHNlKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLmRyYWdTdGFydCwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2RldGFjaExpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzO1xuXG4gICAgICAgIGlmIChfaXNUb3VjaCkge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHNldHRpbmdzLmV2ZW50cy50b3VjaFN0YXJ0LCBmYWxzZSk7XG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHNldHRpbmdzLmV2ZW50cy5pbnB1dEVuZCwgZmFsc2UpO1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgc2V0dGluZ3MuZXZlbnRzLnRvdWNoTW92ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgc2V0dGluZ3MuZXZlbnRzLmlucHV0RG93biwgZmFsc2UpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc2V0dGluZ3MuZXZlbnRzLmlucHV0RW5kLCBmYWxzZSk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHNldHRpbmdzLmV2ZW50cy5pbnB1dE1vdmUsIGZhbHNlKTtcblxuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHNldHRpbmdzLmV2ZW50cy5pbnB1dENsaWNrLCBmYWxzZSk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNldHRpbmdzLmV2ZW50cy5zY3JvbGwsIGZhbHNlKTtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBzZXR0aW5ncy5ldmVudHMuc2VsZWN0U3RhcnQsIGZhbHNlKTtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLmRyYWdTdGFydCwgZmFsc2UpO1xuICAgIH07XG5cblxuICAgIHdpbmRvdy5WYW5pbGxhS2luZXRpYyA9IFZhbmlsbGFLaW5ldGljO1xufSkoKTtcbiIsIi8qKlxuICogQGZpbGVvdmVydmlldyBkcmFnc2Nyb2xsIC0gc2Nyb2xsIGFyZWEgYnkgZHJhZ2dpbmdcbiAqIEB2ZXJzaW9uIDAuMC44XG4gKlxuICogQGxpY2Vuc2UgTUlULCBzZWUgaHR0cDovL2dpdGh1Yi5jb20vYXN2ZC9kcmFnc2Nyb2xsXG4gKiBAY29weXJpZ2h0IDIwMTUgYXN2ZCA8aGVsaW9zZnJhbWV3b3JrQGdtYWlsLmNvbT5cbiAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KVxue1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG4gICAge1xuICAgICAgICBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpXG4gICAge1xuICAgICAgICBmYWN0b3J5KGV4cG9ydHMpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBmYWN0b3J5KChyb290LmRyYWdzY3JvbGwgPSB7fSkpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKGV4cG9ydHMpXG57XG4gICAgdmFyIF93aW5kb3cgPSB3aW5kb3c7XG4gICAgdmFyIF9kb2N1bWVudCA9IGRvY3VtZW50O1xuICAgIHZhciBtb3VzZW1vdmUgPSAnbW91c2Vtb3ZlJztcbiAgICB2YXIgbW91c2V1cCA9ICdtb3VzZXVwJztcbiAgICB2YXIgbW91c2Vkb3duID0gJ21vdXNlZG93bic7XG4gICAgdmFyIEV2ZW50TGlzdGVuZXIgPSAnRXZlbnRMaXN0ZW5lcic7XG4gICAgdmFyIGFkZEV2ZW50TGlzdGVuZXIgPSAnYWRkJyArIEV2ZW50TGlzdGVuZXI7XG4gICAgdmFyIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAncmVtb3ZlJyArIEV2ZW50TGlzdGVuZXI7XG4gICAgdmFyIG5ld1Njcm9sbFgsIG5ld1Njcm9sbFk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4gICAgdmFyIGRyYWdnZWQgPSBbXTtcblxuICAgIHZhciByZXNldCA9IGZ1bmN0aW9uIChpLCBlbClcbiAgICB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBkcmFnZ2VkLmxlbmd0aDspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsID0gZHJhZ2dlZFtpKytdO1xuICAgICAgICAgICAgZWwgPSBlbC5jb250YWluZXIgfHwgZWw7XG4gICAgICAgICAgICBlbFtyZW1vdmVFdmVudExpc3RlbmVyXShtb3VzZWRvd24sIGVsLm1kLCAwKTtcbiAgICAgICAgICAgIF93aW5kb3dbcmVtb3ZlRXZlbnRMaXN0ZW5lcl0obW91c2V1cCwgZWwubXUsIDApO1xuICAgICAgICAgICAgX3dpbmRvd1tyZW1vdmVFdmVudExpc3RlbmVyXShtb3VzZW1vdmUsIGVsLm1tLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN1cHByZXNzIHdhcm5pbmcgYWJvdXQgZnVuY3Rpb25zIGluIGxvb3BzLlxuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgICAgIC8vIGNsb25pbmcgaW50byBhcnJheSBzaW5jZSBIVE1MQ29sbGVjdGlvbiBpcyB1cGRhdGVkIGR5bmFtaWNhbGx5XG4gICAgICAgIGRyYWdnZWQgPSBbXS5zbGljZS5jYWxsKF9kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkcmFnc2Nyb2xsJykpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZHJhZ2dlZC5sZW5ndGg7KVxuICAgICAgICB7XG4gICAgICAgICAgICAoZnVuY3Rpb24gKGVsLCBsYXN0Q2xpZW50WCwgbGFzdENsaWVudFksIHB1c2hlZCwgc2Nyb2xsZXIsIGNvbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgKGNvbnQgPSBlbC5jb250YWluZXIgfHwgZWwpW2FkZEV2ZW50TGlzdGVuZXJdKFxuICAgICAgICAgICAgICAgICAgICBtb3VzZWRvd24sXG4gICAgICAgICAgICAgICAgICAgIGNvbnQubWQgPSBmdW5jdGlvbiAoZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbC5oYXNBdHRyaWJ1dGUoJ25vY2hpbGRkcmFnJykgfHwgX2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZS5wYWdlWCwgZS5wYWdlWSkgPT09IGNvbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVzaGVkID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2xpZW50WCA9IGUuY2xpZW50WDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2xpZW50WSA9IGUuY2xpZW50WTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93W2FkZEV2ZW50TGlzdGVuZXJdKG1vdXNldXAsIGNvbnQubXUgPSBmdW5jdGlvbiAoKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoZWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgICAgICAgIF93aW5kb3dbYWRkRXZlbnRMaXN0ZW5lcl0obW91c2Vtb3ZlLCBjb250Lm1tID0gZnVuY3Rpb24gKGUpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwdXNoZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNjcm9sbGVyID0gZWwuc2Nyb2xsZXIgfHwgZWwpLnNjcm9sbExlZnQgLT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2Nyb2xsWCA9ICgtbGFzdENsaWVudFggKyAobGFzdENsaWVudFggPSBlLmNsaWVudFgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxlci5zY3JvbGxUb3AgLT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2Nyb2xsWSA9ICgtbGFzdENsaWVudFkgKyAobGFzdENsaWVudFkgPSBlLmNsaWVudFkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwgPT09IF9kb2N1bWVudC5ib2R5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNjcm9sbGVyID0gX2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuc2Nyb2xsTGVmdCAtPSBuZXdTY3JvbGxYO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxlci5zY3JvbGxUb3AgLT0gbmV3U2Nyb2xsWTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfSkoZHJhZ2dlZFtpKytdKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIH07XG5cbiAgICBpZiAoX2RvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpXG4gICAge1xuICAgICAgICByZXNldCgpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBfd2luZG93W2FkZEV2ZW50TGlzdGVuZXJdKCdsb2FkJywgcmVzZXQsIDApO1xuICAgIH1cblxuICAgIGV4cG9ydHMucmVzZXQgPSByZXNldDtcbiAgICB3aW5kb3cucmVzZXREcmFnc2Nyb2xsID0gcmVzZXQ7XG59KSk7XG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5mdW5jdGlvbiBzZXR1cChlbnYpIHtcblx0Y3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuZGVmYXVsdCA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5jb2VyY2UgPSBjb2VyY2U7XG5cdGNyZWF0ZURlYnVnLmRpc2FibGUgPSBkaXNhYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGUgPSBlbmFibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZWQgPSBlbmFibGVkO1xuXHRjcmVhdGVEZWJ1Zy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG5cdGNyZWF0ZURlYnVnLmRlc3Ryb3kgPSBkZXN0cm95O1xuXG5cdE9iamVjdC5rZXlzKGVudikuZm9yRWFjaChrZXkgPT4ge1xuXHRcdGNyZWF0ZURlYnVnW2tleV0gPSBlbnZba2V5XTtcblx0fSk7XG5cblx0LyoqXG5cdCogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG5cdCovXG5cblx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHQvKipcblx0KiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG5cdCpcblx0KiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG5cdCovXG5cdGNyZWF0ZURlYnVnLmZvcm1hdHRlcnMgPSB7fTtcblxuXHQvKipcblx0KiBTZWxlY3RzIGEgY29sb3IgZm9yIGEgZGVidWcgbmFtZXNwYWNlXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBUaGUgbmFtZXNwYWNlIHN0cmluZyBmb3IgdGhlIGRlYnVnIGluc3RhbmNlIHRvIGJlIGNvbG9yZWRcblx0KiBAcmV0dXJuIHtOdW1iZXJ8U3RyaW5nfSBBbiBBTlNJIGNvbG9yIGNvZGUgZm9yIHRoZSBnaXZlbiBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG5cdFx0bGV0IGhhc2ggPSAwO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lc3BhY2UubGVuZ3RoOyBpKyspIHtcblx0XHRcdGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0aGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcblx0XHR9XG5cblx0XHRyZXR1cm4gY3JlYXRlRGVidWcuY29sb3JzW01hdGguYWJzKGhhc2gpICUgY3JlYXRlRGVidWcuY29sb3JzLmxlbmd0aF07XG5cdH1cblx0Y3JlYXRlRGVidWcuc2VsZWN0Q29sb3IgPSBzZWxlY3RDb2xvcjtcblxuXHQvKipcblx0KiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAcmV0dXJuIHtGdW5jdGlvbn1cblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblx0XHRsZXQgcHJldlRpbWU7XG5cdFx0bGV0IGVuYWJsZU92ZXJyaWRlID0gbnVsbDtcblx0XHRsZXQgbmFtZXNwYWNlc0NhY2hlO1xuXHRcdGxldCBlbmFibGVkQ2FjaGU7XG5cblx0XHRmdW5jdGlvbiBkZWJ1ZyguLi5hcmdzKSB7XG5cdFx0XHQvLyBEaXNhYmxlZD9cblx0XHRcdGlmICghZGVidWcuZW5hYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHNlbGYgPSBkZWJ1ZztcblxuXHRcdFx0Ly8gU2V0IGBkaWZmYCB0aW1lc3RhbXBcblx0XHRcdGNvbnN0IGN1cnIgPSBOdW1iZXIobmV3IERhdGUoKSk7XG5cdFx0XHRjb25zdCBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG5cdFx0XHRzZWxmLmRpZmYgPSBtcztcblx0XHRcdHNlbGYucHJldiA9IHByZXZUaW1lO1xuXHRcdFx0c2VsZi5jdXJyID0gY3Vycjtcblx0XHRcdHByZXZUaW1lID0gY3VycjtcblxuXHRcdFx0YXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuXHRcdFx0aWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuXHRcdFx0XHQvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuXHRcdFx0XHRhcmdzLnVuc2hpZnQoJyVPJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cdFx0XHRsZXQgaW5kZXggPSAwO1xuXHRcdFx0YXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIChtYXRjaCwgZm9ybWF0KSA9PiB7XG5cdFx0XHRcdC8vIElmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcblx0XHRcdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRcdFx0cmV0dXJuICclJztcblx0XHRcdFx0fVxuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRjb25zdCBmb3JtYXR0ZXIgPSBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cdFx0XHRcdGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Y29uc3QgdmFsID0gYXJnc1tpbmRleF07XG5cdFx0XHRcdFx0bWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG5cdFx0XHRcdFx0Ly8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXHRcdFx0XHRcdGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdFx0XHRpbmRleC0tO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuXHRcdFx0Y3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG5cdFx0XHRjb25zdCBsb2dGbiA9IHNlbGYubG9nIHx8IGNyZWF0ZURlYnVnLmxvZztcblx0XHRcdGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdH1cblxuXHRcdGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblx0XHRkZWJ1Zy51c2VDb2xvcnMgPSBjcmVhdGVEZWJ1Zy51c2VDb2xvcnMoKTtcblx0XHRkZWJ1Zy5jb2xvciA9IGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cdFx0ZGVidWcuZXh0ZW5kID0gZXh0ZW5kO1xuXHRcdGRlYnVnLmRlc3Ryb3kgPSBjcmVhdGVEZWJ1Zy5kZXN0cm95OyAvLyBYWFggVGVtcG9yYXJ5LiBXaWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZWJ1ZywgJ2VuYWJsZWQnLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdGdldDogKCkgPT4ge1xuXHRcdFx0XHRpZiAoZW5hYmxlT3ZlcnJpZGUgIT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gZW5hYmxlT3ZlcnJpZGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5hbWVzcGFjZXNDYWNoZSAhPT0gY3JlYXRlRGVidWcubmFtZXNwYWNlcykge1xuXHRcdFx0XHRcdG5hbWVzcGFjZXNDYWNoZSA9IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXM7XG5cdFx0XHRcdFx0ZW5hYmxlZENhY2hlID0gY3JlYXRlRGVidWcuZW5hYmxlZChuYW1lc3BhY2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVuYWJsZWRDYWNoZTtcblx0XHRcdH0sXG5cdFx0XHRzZXQ6IHYgPT4ge1xuXHRcdFx0XHRlbmFibGVPdmVycmlkZSA9IHY7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBFbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuXHRcdGlmICh0eXBlb2YgY3JlYXRlRGVidWcuaW5pdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y3JlYXRlRGVidWcuaW5pdChkZWJ1Zyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlYnVnO1xuXHR9XG5cblx0ZnVuY3Rpb24gZXh0ZW5kKG5hbWVzcGFjZSwgZGVsaW1pdGVyKSB7XG5cdFx0Y29uc3QgbmV3RGVidWcgPSBjcmVhdGVEZWJ1Zyh0aGlzLm5hbWVzcGFjZSArICh0eXBlb2YgZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/ICc6JyA6IGRlbGltaXRlcikgKyBuYW1lc3BhY2UpO1xuXHRcdG5ld0RlYnVnLmxvZyA9IHRoaXMubG9nO1xuXHRcdHJldHVybiBuZXdEZWJ1Zztcblx0fVxuXG5cdC8qKlxuXHQqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcblx0KiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuXHRcdGNyZWF0ZURlYnVnLnNhdmUobmFtZXNwYWNlcyk7XG5cdFx0Y3JlYXRlRGVidWcubmFtZXNwYWNlcyA9IG5hbWVzcGFjZXM7XG5cblx0XHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRcdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0XHRsZXQgaTtcblx0XHRjb25zdCBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG5cdFx0Y29uc3QgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoIXNwbGl0W2ldKSB7XG5cdFx0XHRcdC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzXG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcblxuXHRcdFx0aWYgKG5hbWVzcGFjZXNbMF0gPT09ICctJykge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcy5zbGljZSgxKSArICckJykpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0KiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cblx0KlxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGRpc2FibGUoKSB7XG5cdFx0Y29uc3QgbmFtZXNwYWNlcyA9IFtcblx0XHRcdC4uLmNyZWF0ZURlYnVnLm5hbWVzLm1hcCh0b05hbWVzcGFjZSksXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5za2lwcy5tYXAodG9OYW1lc3BhY2UpLm1hcChuYW1lc3BhY2UgPT4gJy0nICsgbmFtZXNwYWNlKVxuXHRcdF0uam9pbignLCcpO1xuXHRcdGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG5cdFx0cmV0dXJuIG5hbWVzcGFjZXM7XG5cdH1cblxuXHQvKipcblx0KiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG5cdFx0aWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRsZXQgaTtcblx0XHRsZXQgbGVuO1xuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGNyZWF0ZURlYnVnLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCogQ29udmVydCByZWdleHAgdG8gbmFtZXNwYWNlXG5cdCpcblx0KiBAcGFyYW0ge1JlZ0V4cH0gcmVneGVwXG5cdCogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2Vcblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gdG9OYW1lc3BhY2UocmVnZXhwKSB7XG5cdFx0cmV0dXJuIHJlZ2V4cC50b1N0cmluZygpXG5cdFx0XHQuc3Vic3RyaW5nKDIsIHJlZ2V4cC50b1N0cmluZygpLmxlbmd0aCAtIDIpXG5cdFx0XHQucmVwbGFjZSgvXFwuXFwqXFw/JC8sICcqJyk7XG5cdH1cblxuXHQvKipcblx0KiBDb2VyY2UgYHZhbGAuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWxcblx0KiBAcmV0dXJuIHtNaXhlZH1cblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuXHRcdGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdC8qKlxuXHQqIFhYWCBETyBOT1QgVVNFLiBUaGlzIGlzIGEgdGVtcG9yYXJ5IHN0dWIgZnVuY3Rpb24uXG5cdCogWFhYIEl0IFdJTEwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXHQqL1xuXHRmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHR9XG5cblx0Y3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG5cblx0cmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuIiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbCkpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID8gZm10TG9uZyh2YWwpIDogZm10U2hvcnQodmFsKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArXG4gICAgICBKU09OLnN0cmluZ2lmeSh2YWwpXG4gICk7XG59O1xuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBtYXRjaCA9IC9eKC0/KD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx3ZWVrcz98d3x5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGQ7XG4gICAgY2FzZSAnaG91cnMnOlxuICAgIGNhc2UgJ2hvdXInOlxuICAgIGNhc2UgJ2hycyc6XG4gICAgY2FzZSAnaHInOlxuICAgIGNhc2UgJ2gnOlxuICAgICAgcmV0dXJuIG4gKiBoO1xuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHM7XG4gICAgY2FzZSAnbWlsbGlzZWNvbmRzJzpcbiAgICBjYXNlICdtaWxsaXNlY29uZCc6XG4gICAgY2FzZSAnbXNlY3MnOlxuICAgIGNhc2UgJ21zZWMnOlxuICAgIGNhc2UgJ21zJzpcbiAgICAgIHJldHVybiBuO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IGgpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgaCwgJ2hvdXInKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBtLCAnbWludXRlJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG4gIHJldHVybiBtcyArICcgbXMnO1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbXNBYnMsIG4sIG5hbWUpIHtcbiAgdmFyIGlzUGx1cmFsID0gbXNBYnMgPj0gbiAqIDEuNTtcbiAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBuKSArICcgJyArIG5hbWUgKyAoaXNQbHVyYWwgPyAncycgOiAnJyk7XG59XG4iLCJpbXBvcnQge1xuICB1cGRhdGVIaWdobGlnaHQsXG4gIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIsXG4gIHNldEJnT3BhY2l0eUZyb21TbGlkZXIsXG59IGZyb20gJy4uL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCBEaXNwbGF5UGFuZWwgZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlQYW5lbCc7XG5pbXBvcnQgWm9vbUhhbmRsZXIgZnJvbSAnLi9ab29tJztcbmltcG9ydCB7IFZpZXdJbnRlcmZhY2UsIERpc3BsYXlDb25zdHJ1Y3RhYmxlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbi8qKlxuICogQSB2aWV3IG1vZHVsZSBmb3IgZGlzcGxheWluZyBhIHNpbmdsZSBwYWdlIG9mIGEgbWFudXNjcmlwdC5cbiAqL1xuY2xhc3MgU2luZ2xlVmlldyBpbXBsZW1lbnRzIFZpZXdJbnRlcmZhY2Uge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSB1cGRhdGVDYWxsYmFja3M6IEFycmF5PCgpID0+IHZvaWQ+O1xuICBwcml2YXRlIGdyb3VwOiBTVkdTVkdFbGVtZW50O1xuICBwcml2YXRlIGJnOiBTVkdJbWFnZUVsZW1lbnQ7XG4gIHByaXZhdGUgc3ZnOiBTVkdTVkdFbGVtZW50O1xuICB6b29tSGFuZGxlcjogWm9vbUhhbmRsZXI7XG4gIHByaXZhdGUgZGlzcGxheVBhbmVsOiBEaXNwbGF5UGFuZWw7XG4gIHJlYWRvbmx5IHBhZ2VVUkk6IHN0cmluZztcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBTaW5nbGVWaWV3LlxuICAgKiBAcGFyYW0gaW1hZ2UgLSBUaGUgVVJJIHRvIHRoZSBiYWNrZ3JvdW5kIGltYWdlIGZvciB0aGUgcGFnZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG5lb25WaWV3OiBOZW9uVmlldywgcGFuZWw6IERpc3BsYXlDb25zdHJ1Y3RhYmxlLCBpbWFnZTogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzID0gbmV3IEFycmF5KDApO1xuICAgIC8vIEdyb3VwIHdpbGwgY29udGFpbiB0aGUgaW1hZ2UgYW5kIHRoZSByZW5kZXJlZCBTVkdcbiAgICB0aGlzLmdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICB0aGlzLmdyb3VwLmlkID0gJ3N2Z19ncm91cCc7XG4gICAgdGhpcy5ncm91cC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHdpbmRvdy5pbm5lckhlaWdodC50b1N0cmluZygpKTtcbiAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMTAwJScpO1xuXG4gICAgdGhpcy5iZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnaW1hZ2UnKTtcbiAgICB0aGlzLmJnLmlkID0gJ2JnaW1nJztcbiAgICB0aGlzLmJnLmNsYXNzTGlzdC5hZGQoJ2JhY2tncm91bmQnKTtcbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgneCcsICcwJyk7XG4gICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ3knLCAnMCcpO1xuXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBmZXRjaChpbWFnZSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdC5vaykge1xuICAgICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGVOUyhcbiAgICAgICAgICAgICAgJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuICAgICAgICAgICAgICAnaHJlZicsXG4gICAgICAgICAgICAgIHJlYWRlci5yZXN1bHQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBiYm94ID0gdGhpcy5iZy5nZXRCQm94KCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZ3JvdXAuaGFzQXR0cmlidXRlKCd2aWV3Qm94JykpIHtcbiAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgSWYgdGhlIFNWRyBkb2VzIG5vdCBoYXZlIGEgdmlld0JveCwgbG9hZCB0aGUgcHJldmlvdXMgdmlld0JveFxuICAgICAgICAgICAgICB2YWx1ZSBmcm9tIGxvY2FsU3RvcmFnZS4gSWYgbm9uZSBoYXMgYmVlbiBzdG9yZWQgKHZpZXdCb3ggaXMgbnVsbCksXG4gICAgICAgICAgICAgIHNldCBpdCB0byB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgYmFja2dyb3VuZCBpbWFnZVxuXG4gICAgICAgICAgICAgIE5vdGU6IGFuIFNWRydzIHZpZXdCb3ggZ2l2ZXMgdGhlIFwiYm94XCIgdGhhdCB0aGUgdXNlciBjYW4gc2VlIHRoZSBTVkcgdGhyb3VnaC5cbiAgICAgICAgICAgICAgVGhlIHVzZXIgbWF5IGJlIHpvb21lZCBpbnRvIGEgdmVyeSBzcGVjaWZpYyBzZWN0aW9uIG9mIHRoZSBTVkcsIGluIHdoaWNoIGNhc2UgdGhlXG4gICAgICAgICAgICAgIHZpZXdCb3ggc2hvdWxkIGdpdmUgY29vcmRpbmF0ZXMgb2YgdGhhdCBzcGVjaWZpYyBib3guXG5cbiAgICAgICAgICAgICAgU2VlIG1vcmU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvdmlld0JveFxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgbGV0IHsgdmlld0JveCB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgaWYgKCF2aWV3Qm94KVxuICAgICAgICAgICAgICAgIHZpZXdCb3ggPVxuICAgICAgICAgICAgICAgICAgJzAgMCAnICsgYmJveC53aWR0aC50b1N0cmluZygpICsgJyAnICsgYmJveC5oZWlnaHQudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIHZpZXdCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiByZXN1bHQuYmxvYigpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oKGJsb2IpID0+IHtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgICB9KTtcblxuICAgIC8vIEl0IGlzIGJldHRlciBuYW1lZCBzdmcsIHRvIGF2b2lkIGNvbmZ1c2lvbiB3aXRoIHRoZSBhY3R1YWwgTUVJIGZpbGUuXG4gICAgdGhpcy5zdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAnaHR0cDovL3d3dy53My5vcmcvc3ZnJyxcbiAgICAgICdzdmcnLFxuICAgICkgYXMgU1ZHU1ZHRWxlbWVudDtcbiAgICB0aGlzLnN2Zy5pZCA9ICdtZWlfb3V0cHV0JztcbiAgICB0aGlzLnN2Zy5jbGFzc0xpc3QuYWRkKCduZW9uLWNvbnRhaW5lcicsICdhY3RpdmUtcGFnZScpO1xuXG4gICAgdGhpcy5ncm91cC5hcHBlbmRDaGlsZCh0aGlzLmJnKTtcbiAgICB0aGlzLmdyb3VwLmFwcGVuZENoaWxkKHRoaXMuc3ZnKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmdyb3VwKTtcblxuICAgIHRoaXMuem9vbUhhbmRsZXIgPSBuZXcgWm9vbUhhbmRsZXIoKTtcbiAgICB0aGlzLmRpc3BsYXlQYW5lbCA9IG5ldyBwYW5lbChcbiAgICAgIHRoaXMsXG4gICAgICAnbmVvbi1jb250YWluZXInLFxuICAgICAgJ2JhY2tncm91bmQnLFxuICAgICAgdGhpcy56b29tSGFuZGxlcixcbiAgICApO1xuXG4gICAgdGhpcy5wYWdlVVJJID0gaW1hZ2U7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICBvblNWR0xvYWQoKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWV3RXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuZGlzcGxheVBhbmVsLnNldERpc3BsYXlMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIFNWRyBiZWluZyBkaXNwbGF5ZWQuXG4gICAqIEBwYXJhbSBzdmcgLSBOZXcgcmVuZGVyZWQgU1ZHIHRvIHVzZS5cbiAgICovXG4gIHVwZGF0ZVNWRyhzdmc6IFNWR1NWR0VsZW1lbnQpOiB2b2lkIHtcbiAgICB0aGlzLmdyb3VwLnJlcGxhY2VDaGlsZChzdmcsIHRoaXMuc3ZnKTtcbiAgICB0aGlzLnN2ZyA9IHN2ZztcbiAgICB0aGlzLnN2Zy5pZCA9ICdtZWlfb3V0cHV0JztcbiAgICB0aGlzLnN2Zy5jbGFzc0xpc3QuYWRkKCduZW9uLWNvbnRhaW5lcicsICdhY3RpdmUtcGFnZScpO1xuICAgIGNvbnN0IGhlaWdodCA9IHBhcnNlSW50KHRoaXMuc3ZnLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpO1xuICAgIGNvbnN0IHdpZHRoID0gcGFyc2VJbnQodGhpcy5zdmcuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKTtcblxuICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgudG9TdHJpbmcoKSk7XG5cbiAgICBjb25zdCB7IHZpZXdCb3ggfSA9IGdldFNldHRpbmdzKCk7XG4gICAgaWYgKCF2aWV3Qm94KVxuICAgICAgdGhpcy5ncm91cC5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwICcgKyB3aWR0aCArICcgJyArIGhlaWdodCk7XG4gICAgZWxzZSB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIHZpZXdCb3gpO1xuXG4gICAgdXBkYXRlSGlnaGxpZ2h0KCk7XG4gICAgdGhpcy5yZXNldFRyYW5zZm9ybWF0aW9ucygpO1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjaygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2UgdG8gYSBjZXJ0YWluIHBhZ2VcbiAgICogU2luY2UgdGhlcmUgaXMgb25seSBvbmUgcGFnZSwgdGhpcyBpcyBlc3NlbnRpYWxseSBhIHdyYXBwZXIgZm9yIHVwZGF0ZVNWR1xuICAgKi9cbiAgYXN5bmMgY2hhbmdlUGFnZShfcGFnZTogbnVtYmVyLCBfZGVsYXk6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBzdmcgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldFBhZ2VTVkcodGhpcy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICB0aGlzLnVwZGF0ZVNWRyhzdmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGNhbGxiYWNrIHRvIHRoZSBsaXN0IG9mIHRob3NlIGJlIGNhbGxlZCB3aGVuIHRoZSBwYWdlIHVwZGF0ZXMuXG4gICAqIEBwYXJhbSBjYiAtIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICovXG4gIGFkZFVwZGF0ZUNhbGxiYWNrKGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVDYWxsYmFja3MucHVzaChjYik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdCBvZiBjYWxsYmFja3MgaWYgaXQgaXMgcGFydCBvZiB0aGUgbGlzdC5cbiAgICogQHBhcmFtIGNiIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKi9cbiAgcmVtb3ZlVXBkYXRlQ2FsbGJhY2soY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZpbmRJbmRleCgoZWxlbSkgPT4ge1xuICAgICAgcmV0dXJuIGVsZW0gPT09IGNiO1xuICAgIH0pO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSB0cmFuc2Zvcm1hdGlvbnMgdGhhdCBoYXZlIGJlZW4gYXBwbGllZCB0byB0aGUgU1ZHIHVwb24gdXBkYXRlLlxuICAgKi9cbiAgcmVzZXRUcmFuc2Zvcm1hdGlvbnMoKTogdm9pZCB7XG4gICAgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIucmVzdG9yZVRyYW5zZm9ybWF0aW9uKCk7XG4gICAgc2V0R2x5cGhPcGFjaXR5RnJvbVNsaWRlcigpO1xuICAgIHNldEJnT3BhY2l0eUZyb21TbGlkZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBUaGUgemVyby1pbmRleGVkIG51bWJlciBvZiB0aGUgY3VycmVudCBwYWdlLiBUaGlzIHdpbGwgYWx3YXlzIGJlIHplcm8uXG4gICAqL1xuICBnZXRDdXJyZW50UGFnZSgpOiBudW1iZXIge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBVUkkgb2YgdGhlIHBhZ2UuXG4gICAqL1xuICBnZXRDdXJyZW50UGFnZVVSSSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnBhZ2VVUkk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgdmlldyBhbmQgZGlzcGxheSBwYW5lbC5cbiAgICovXG4gIHNldFZpZXdFdmVudEhhbmRsZXJzKCk6IHZvaWQge1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICBjYXNlICdTaGlmdCc6XG4gICAgICAgICAgZDMuc2VsZWN0KCcjc3ZnX2dyb3VwJykub24oJy5kcmFnJywgbnVsbCk7XG4gICAgICAgICAgZDMuc2VsZWN0KCcjc3ZnX2dyb3VwJykuY2FsbChcbiAgICAgICAgICAgIGQzXG4gICAgICAgICAgICAgIC5kcmFnKClcbiAgICAgICAgICAgICAgLm9uKFxuICAgICAgICAgICAgICAgICdzdGFydCcsXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIuc3RhcnREcmFnLmJpbmQoXG4gICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlcixcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC5vbihcbiAgICAgICAgICAgICAgICAnZHJhZycsXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIuZHJhZ2dpbmcuYmluZChcbiAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZCgnbWVpX291dHB1dCcpXG4gICAgICAgICAgICAuc2V0QXR0cmlidXRlKCd2aXNpYmlsaXR5JywgJ2hpZGRlbicpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZ0KSA9PiB7XG4gICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgY2FzZSAnU2hpZnQnOlxuICAgICAgICAgIGQzLnNlbGVjdCgnI3N2Z19ncm91cCcpLm9uKCcuZHJhZycsIG51bGwpO1xuICAgICAgICAgIGlmICh0aGlzLm5lb25WaWV3LmdldFVzZXJNb2RlKCkgIT09ICd2aWV3ZXInKSB7XG4gICAgICAgICAgICB0aGlzLm5lb25WaWV3Lk5ldW1lRWRpdC5zZXRTZWxlY3RMaXN0ZW5lcnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2gnOlxuICAgICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoJ21laV9vdXRwdXQnKVxuICAgICAgICAgICAgLnNldEF0dHJpYnV0ZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbigndG91Y2hzdGFydCcsICgpID0+IHtcbiAgICAgIGlmIChkMy5ldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICB0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlci5zdGFydERyYWcoKTtcbiAgICAgICAgZDMuc2VsZWN0KCcjY29udGFpbmVyJykub24oXG4gICAgICAgICAgJ3RvdWNobW92ZScsXG4gICAgICAgICAgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIuZHJhZ2dpbmcuYmluZChcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICAgIGQzLnNlbGVjdCgnI2NvbnRhaW5lcicpLm9uKCd0b3VjaGVuZCcsICgpID0+IHtcbiAgICAgICAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbigndG91Y2htb3ZlJywgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGQzLnNlbGVjdCgnI2NvbnRhaW5lcicpLm9uKFxuICAgICAgJ3doZWVsJyxcbiAgICAgIHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyLnNjcm9sbFpvb20uYmluZChcbiAgICAgICAgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIsXG4gICAgICApLFxuICAgICAgZmFsc2UsXG4gICAgKTtcbiAgICAvLyBVcGRhdGUgaGVpZ2h0IG9mIGNvbnRhaW5lciBiYXNlZCBvbiB3aW5kb3dcbiAgICB3aW5kb3cub25yZXNpemUgPSAoKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBuZXdIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJyk7XG4gICAgICBpZiAobmV3SGVpZ2h0ID4gTnVtYmVyKGNvbnRhaW5lci5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKSkge1xuICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBuZXdIZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBBIGh1bWFuIHJlYWRhYmxlIG5hbWUgZm9yIHRoZSBwYWdlLiBVc2VkIGZvciBkb3dubG9hZHMuXG4gICAqL1xuICBnZXRQYWdlTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm5lb25WaWV3Lm5hbWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2luZ2xlVmlldyBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBzZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuXG5leHBvcnQgY2xhc3MgVmlld0JveCB7XG4gIC8vIHZpZUJveCBhdHRyaWJ1dGUgb2YgYW4gU1ZHIHZpZXdwb3J0OlxuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TVkcvQXR0cmlidXRlL3ZpZXdCb3hcbiAgbWluWDogbnVtYmVyO1xuICBtaW5ZOiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuXG4gIGltYWdlSGVpZ2h0OiBudW1iZXI7XG4gIGltYWdlV2lkdGg6IG51bWJlcjtcblxuICAvKipcbiAgICogQHBhcmFtIGltYWdlV2lkdGggLSBXaWR0aCBvZiB0aGUgY29udGFpbmVkIGltYWdlLlxuICAgKiBAcGFyYW0gaW1hZ2VIZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGNvbnRhaW5lZCBpbWFnZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChpbWFnZVdpZHRoOiBudW1iZXIsIGltYWdlSGVpZ2h0OiBudW1iZXIpIHtcbiAgICB0aGlzLm1pblggPSAwO1xuICAgIHRoaXMubWluWSA9IDA7XG4gICAgdGhpcy53aWR0aCA9IGltYWdlV2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBpbWFnZUhlaWdodDtcblxuICAgIHRoaXMuaW1hZ2VXaWR0aCA9IGltYWdlV2lkdGg7XG4gICAgdGhpcy5pbWFnZUhlaWdodCA9IGltYWdlSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB2YWx1ZXMgb2YgdGhlIHZpZXdCb3ggbWFudWFsbHkuXG4gICAqIEBwYXJhbSBtaW5YIC0gdG9wIGxlZnQgeC1jb29yZGluYXRlIG9mIFNWR1xuICAgKiBAcGFyYW0gbWluWSAtIHRvcCBsZWZ0IHktY29vcmRpbmF0ZSBvZiBTVkdcbiAgICogQHBhcmFtIHdpZHRoIC0gd2lkdGggb2YgU1ZHXG4gICAqIEBwYXJhbSBoZWlnaHQgLSBoZWlnaHQgb2YgU1ZHXG4gICAqL1xuICBzZXQgKG1pblg6IG51bWJlciwgbWluWTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIH1cblxuICAvKiogQHJldHVybnMgVmFsdWUgZm9yIHRoZSB2aWV3Qm94IHBhcmFtZXRlci4gKi9cbiAgZ2V0ICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm1pblgudG9TdHJpbmcoKSArICcgJyArIHRoaXMubWluWS50b1N0cmluZygpICsgJyAnICtcbiAgICAgIHRoaXMud2lkdGggKyAnICcgKyB0aGlzLmhlaWdodDtcbiAgfVxuXG4gIC8qKiBAcGFyYW0gayAtIEZhY3RvciB0byB6b29tIHRvLiAqL1xuICB6b29tVG8gKGs6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHpvb21IZWlnaHQgPSAodGhpcy5pbWFnZUhlaWdodCAvIGspO1xuICAgIGNvbnN0IHpvb21XaWR0aCA9ICh0aGlzLmltYWdlV2lkdGggLyBrKTtcblxuICAgIHRoaXMud2lkdGggPSB6b29tV2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSB6b29tSGVpZ2h0O1xuICB9XG5cbiAgLyoqIEByZXR1cm5zIEN1cnJlbnQgem9vbSBmYWN0b3IuICovXG4gIGdldFpvb20gKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VXaWR0aCAvIHRoaXMud2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNsYXRlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0geERpZmYgLSBBbW91bnQgdG8gc2hpZnQgb24geC1heGlzLlxuICAgKiBAcGFyYW0geURpZmYgLSBBbW91bnQgdG8gc2hpZnQgb24geS1heGlzLlxuICAgKi9cbiAgdHJhbnNsYXRlICh4RGlmZjogbnVtYmVyLCB5RGlmZjogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5taW5YICs9IHhEaWZmO1xuICAgIHRoaXMubWluWSArPSB5RGlmZjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgWm9vbUhhbmRsZXIge1xuICBkcmFnQ29vcmRpbmF0ZXM6IERPTVBvaW50O1xuICB2aWV3Qm94OiBWaWV3Qm94O1xuICBtYXRyaXg6IERPTU1hdHJpeDtcblxuICAvKipcbiAgICogUmVzZXQgdGhlIHpvb20gYW5kIHBhbiBvZiB0aGUgU1ZHIHZpZXdib3hcbiAgICovXG4gIHJlc2V0Wm9vbUFuZFBhbiAocmVzZXRTZXR0aW5ncyA9IHRydWUpOiB2b2lkIHtcbiAgICBjb25zdCBiZ2ltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ2ltZycpIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgdGhpcy52aWV3Qm94ID0gbmV3IFZpZXdCb3gocGFyc2VJbnQoYmdpbWcuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKSwgcGFyc2VJbnQoYmdpbWcuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSkpO1xuXG4gICAgaWYgKHJlc2V0U2V0dGluZ3MpIHtcbiAgICAgIHRoaXMudXBkYXRlU1ZHVmlld0JveCgpO1xuICAgICAgc2V0U2V0dGluZ3MoeyB6b29tOiAxMDAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBrIC0gRmFjdG9yIHRvIHpvb20gdG8uXG4gICAqL1xuICB6b29tVG8gKGs6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc2V0Vmlld0JveCgpO1xuICAgIHRoaXMudmlld0JveC56b29tVG8oayk7XG4gICAgdGhpcy51cGRhdGVTVkdWaWV3Qm94KCk7XG5cbiAgICBzZXRTZXR0aW5ncyh7IHpvb206IE1hdGguZmxvb3IoayAqIDEwMCkgfSk7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNsYXRlIHRoZSB2aWV3IGJveCBieSByZWxhdGl2ZSBjb29yZGluYXRlcy5cbiAgKiBAcGFyYW0geERpZmYgLSBBbW91bnQgdG8gc2hpZnQgb24geC1heGlzLlxuICAqIEBwYXJhbSB5RGlmZiAtIEFtb3VudCB0byBzaGlmdCBvbiB5LWF4aXMuXG4gICovXG4gIHRyYW5zbGF0ZSAoeERpZmY6IG51bWJlciwgeURpZmY6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc2V0Vmlld0JveCgpO1xuICAgIHRoaXMudmlld0JveC50cmFuc2xhdGUoeERpZmYsIHlEaWZmKTtcbiAgICB0aGlzLnVwZGF0ZVNWR1ZpZXdCb3goKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN0b3JlIHRoZSB2aWV3IGJveCB0byBpdHMgcG9zaXRpb24gYmVmb3JlIHRoZSBlZGl0b3IgYWN0aW9uLlxuICAgKi9cbiAgcmVzdG9yZVRyYW5zZm9ybWF0aW9uICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy52aWV3Qm94ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucmVzZXRab29tQW5kUGFuKGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cGRhdGVTVkdWaWV3Qm94KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmlldyBib3ggb2YgdGhlIFNWRy5cbiAgICovXG4gIHNldFZpZXdCb3ggKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZpZXdCb3ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgYmdpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdpbWcnKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xuICAgICAgdGhpcy52aWV3Qm94ID0gbmV3IFZpZXdCb3gocGFyc2VJbnQoYmdpbWcuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKSwgcGFyc2VJbnQoYmdpbWcuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSkpO1xuICAgIH1cbiAgICBjb25zdCByYXdWaWV3Qm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N2Z19ncm91cCcpXG4gICAgICAuZ2V0QXR0cmlidXRlKCd2aWV3Qm94JylcbiAgICAgIC5zcGxpdCgnICcpO1xuICAgIHRoaXMudmlld0JveC5zZXQoXG4gICAgICBwYXJzZUludChyYXdWaWV3Qm94WzBdKSxcbiAgICAgIHBhcnNlSW50KHJhd1ZpZXdCb3hbMV0pLFxuICAgICAgcGFyc2VJbnQocmF3Vmlld0JveFsyXSksXG4gICAgICBwYXJzZUludChyYXdWaWV3Qm94WzNdKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSB2aWV3Qm94IGF0dHJpYnV0ZSBvZiBzdmdfZ3JvdXBcbiAgICovXG4gIHVwZGF0ZVNWR1ZpZXdCb3ggKCk6IHZvaWQge1xuICAgIGNvbnN0IHZpZXdCb3hTdHJpbmcgPSB0aGlzLnZpZXdCb3guZ2V0KCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N2Z19ncm91cCcpLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIHZpZXdCb3hTdHJpbmcpO1xuICAgIHNldFNldHRpbmdzKHsgdmlld0JveDogdmlld0JveFN0cmluZyB9KTtcbiAgfVxuXG4gIHN0YXJ0RHJhZyAoKTogdm9pZCB7XG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnX2dyb3VwJykgYXMgdW5rbm93biBhcyBTVkdTVkdFbGVtZW50O1xuICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzID0gZ3JvdXAuY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICBpZiAoZDMuZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICAvLyBJZiBkcmFnIGlzIHRyaWdnZXJlZCBieSBhIHRvdWNoIGV2ZW50XG4gICAgICB0aGlzLmRyYWdDb29yZGluYXRlcy54ID0gZDMuZXZlbnQudG91Y2hlc1swXS5zY3JlZW5YO1xuICAgICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50LnRvdWNoZXNbMF0uc2NyZWVuWTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT3RoZXJ3aXNlIHRyaWdnZXJlZCBieSBhIG1vdXNlIGNsaWNrXG4gICAgICB0aGlzLmRyYWdDb29yZGluYXRlcy54ID0gZDMuZXZlbnQueDtcbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnkgPSBkMy5ldmVudC55O1xuICAgIH1cblxuICAgIHRoaXMubWF0cml4ID0gZ3JvdXAuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpO1xuICB9XG5cbiAgZHJhZ2dpbmcgKCk6IHZvaWQge1xuICAgIGNvbnN0IGdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N2Z19ncm91cCcpIGFzIHVua25vd24gYXMgU1ZHU1ZHRWxlbWVudDtcbiAgICBjb25zdCBuZXdDb29yZGluYXRlcyA9IGdyb3VwLmNyZWF0ZVNWR1BvaW50KCk7XG4gICAgLy8gU2FtZSBraW5kIG9mIGNoZWNraW5nIGFzIGluIHN0YXJ0RHJhZ1xuICAgIGlmIChkMy5ldmVudC50eXBlID09PSAndG91Y2htb3ZlJykge1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueCA9IGQzLmV2ZW50LnRvdWNoZXNbMF0uc2NyZWVuWDtcbiAgICAgIG5ld0Nvb3JkaW5hdGVzLnkgPSBkMy5ldmVudC50b3VjaGVzWzBdLnNjcmVlblk7XG4gICAgfSBlbHNlIGlmIChkMy5ldmVudC50eXBlID09PSAnd2hlZWwnICYmIGQzLmV2ZW50LnNoaWZ0S2V5ID09PSBmYWxzZSkge1xuICAgICAgaWYgKHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBncm91cC5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5kcmFnQ29vcmRpbmF0ZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmRyYWdDb29yZGluYXRlcyA9IGdyb3VwLmNyZWF0ZVNWR1BvaW50KCk7XG4gICAgICB9XG4gICAgICB0aGlzLmRyYWdDb29yZGluYXRlcy54ID0gZDMuZXZlbnQueDtcbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnkgPSBkMy5ldmVudC55O1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueCA9IHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnggLSBkMy5ldmVudC5kZWx0YVg7XG4gICAgICBuZXdDb29yZGluYXRlcy55ID0gdGhpcy5kcmFnQ29vcmRpbmF0ZXMueSAtIGQzLmV2ZW50LmRlbHRhWTtcbiAgICAgIGQzLmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0Nvb3JkaW5hdGVzLnggPSBkMy5ldmVudC54O1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50Lnk7XG4gICAgfVxuICAgIGNvbnN0IG5ld1RyYW5zZm9ybSA9IG5ld0Nvb3JkaW5hdGVzLm1hdHJpeFRyYW5zZm9ybSh0aGlzLm1hdHJpeCk7XG4gICAgY29uc3QgZHJhZ1RyYW5zZm9ybSA9IHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLm1hdHJpeFRyYW5zZm9ybSh0aGlzLm1hdHJpeCk7XG4gICAgdGhpcy50cmFuc2xhdGUoLW5ld1RyYW5zZm9ybS54ICsgZHJhZ1RyYW5zZm9ybS54LCAtbmV3VHJhbnNmb3JtLnkgKyBkcmFnVHJhbnNmb3JtLnkpO1xuICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzID0gbmV3Q29vcmRpbmF0ZXM7XG4gIH1cblxuICBzY3JvbGxab29tICgpOiB2b2lkIHtcbiAgICBpZiAoZDMuZXZlbnQudHlwZSAhPT0gJ3doZWVsJykgcmV0dXJuO1xuICAgIGlmICghZDMuZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIHRoaXMuZHJhZ2dpbmcoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pvb21TbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHRoaXMuc2V0Vmlld0JveCgpO1xuICAgIGNvbnN0IGsgPSB0aGlzLnZpZXdCb3guZ2V0Wm9vbSgpO1xuICAgIGxldCBuZXdLID0gayAtIGQzLmV2ZW50LmRlbHRhWCAvIDEwMDtcbiAgICBpZiAobmV3SyA8IHBhcnNlSW50KHNsaWRlci5nZXRBdHRyaWJ1dGUoJ21pbicpKSAvIDEwMCkgbmV3SyA9IDAuMjU7XG4gICAgaWYgKG5ld0sgPiBwYXJzZUludChzbGlkZXIuZ2V0QXR0cmlidXRlKCdtYXgnKSkgLyAxMDApIG5ld0sgPSA0O1xuICAgIHRoaXMuem9vbVRvKG5ld0spO1xuXG4gICAgLy8gVXBkYXRlIHpvb20gc2xpZGVyXG4gICAgc2xpZGVyLnZhbHVlID0gKG5ld0sgKiAxMDApLnRvU3RyaW5nKCk7XG4gICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tT3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQpLnZhbHVlID0gU3RyaW5nKE1hdGgucm91bmQobmV3SyAqIDEwMCkpO1xuICB9XG59XG5cbmV4cG9ydCB7IFpvb21IYW5kbGVyIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IGJpbmRJbnNlcnRUYWJzLCBpbml0SW5zZXJ0RWRpdENvbnRyb2xzLCBpbml0U2VsZWN0aW9uQnV0dG9ucyB9IGZyb20gJy4vQ29udHJvbHMnO1xuaW1wb3J0ICogYXMgU2VsZWN0IGZyb20gJy4uL3V0aWxzL1NlbGVjdCc7XG5pbXBvcnQgSW5zZXJ0SGFuZGxlciBmcm9tICcuL0luc2VydEhhbmRsZXInO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCAqIGFzIFNlbGVjdE9wdGlvbnMgZnJvbSAnLi9TZWxlY3RPcHRpb25zJztcbmltcG9ydCB7IHNldEhpZ2hsaWdodFNlbGVjdGlvbkNvbnRyb2xzIH0gZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi4vdXRpbHMvRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgTmV1bWVFZGl0SW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgKiBhcyBDb250ZW50cyBmcm9tICcuL0NvbnRlbnRzJztcbmltcG9ydCB7IHVuZG9SZWRvUGFuZWwgfSBmcm9tICcuLi91dGlscy9FZGl0Q29udGVudHMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IFVzZXJUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG5jbGFzcyBEaXZhRWRpdCBpbXBsZW1lbnRzIE5ldW1lRWRpdEludGVyZmFjZSB7XG4gIG5lb25WaWV3OiBOZW9uVmlldztcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyO1xuICBpbnNlcnRIYW5kbGVyOiBJbnNlcnRIYW5kbGVyO1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuaW5pdEVkaXRNb2RlKCk7XG4gIH1cblxuICBpbml0RWRpdE1vZGUgKCk6IHZvaWQge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRfY29udHJvbHMnKS5pbm5lckhUTUwgKz0gQ29udGVudHMuaW5zZXJ0Q29udHJvbHNQYW5lbDtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdF9jb250cm9scycpLmlubmVySFRNTCArPSBDb250ZW50cy5lZGl0Q29udHJvbHNQYW5lbDtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kb1JlZG9fY29udHJvbHMnKS5pbm5lckhUTUwgPSB1bmRvUmVkb1BhbmVsO1xuXG4gICAgdGhpcy5kcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcih0aGlzLm5lb25WaWV3LCAnLmFjdGl2ZS1wYWdlID4gc3ZnJyk7XG4gICAgdGhpcy5pbnNlcnRIYW5kbGVyID0gbmV3IEluc2VydEhhbmRsZXIodGhpcy5uZW9uVmlldywgJy5hY3RpdmUtcGFnZSA+IHN2ZycpO1xuICAgIGJpbmRJbnNlcnRUYWJzKHRoaXMuaW5zZXJ0SGFuZGxlcik7XG4gICAgY29uc3QgeyBpbnNlcnRUYWIgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5zZXJ0VGFiKS5jbGljaygpO1xuICAgIFNlbGVjdC5zZXRTZWxlY3RIZWxwZXJPYmplY3RzKHRoaXMubmVvblZpZXcsIHRoaXMuZHJhZ0hhbmRsZXIpO1xuICAgIHRoaXMuc2V0U2VsZWN0TGlzdGVuZXJzKCk7XG4gICAgU2VsZWN0T3B0aW9ucy5pbml0TmVvblZpZXcodGhpcy5uZW9uVmlldyk7XG4gICAgaW5pdEluc2VydEVkaXRDb250cm9scygpO1xuICAgIFNlbGVjdC5zZXRTZWxlY3RTdHJva2VXaWR0aCgxKTtcbiAgICBpbml0U2VsZWN0aW9uQnV0dG9ucygpO1xuICAgIHNldEhpZ2hsaWdodFNlbGVjdGlvbkNvbnRyb2xzKCk7XG4gICAgdGhpcy5uZW9uVmlldy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMuc2V0U2VsZWN0TGlzdGVuZXJzLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdXNlciBtb2RlIHRoYXQgTmVvbiBpcyBpbi4gRWl0aGVyIGluc2VydCwgZWRpdCwgb3Igdmlld2VyLlxuICAgKiBAcmV0dXJucyB7VXNlclR5cGV9XG4gICAqL1xuICBnZXRVc2VyTW9kZSAoKTogVXNlclR5cGUge1xuICAgIGNvbnN0IHsgdXNlck1vZGUgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgcmV0dXJuIHVzZXJNb2RlO1xuICB9XG5cbiAgc2V0U2VsZWN0TGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICBTZWxlY3QuY2xpY2tTZWxlY3QoJy5hY3RpdmUtcGFnZSA+IHN2ZyA+IHN2ZywgLmFjdGl2ZS1wYWdlID4gc3ZnID4gc3ZnIHVzZSwgLmFjdGl2ZS1wYWdlID4gc3ZnID4gc3ZnIHJlY3QnKTtcbiAgICBTZWxlY3QuZHJhZ1NlbGVjdCgnLmFjdGl2ZS1wYWdlIHN2ZycpO1xuICB9XG59XG5cbmV4cG9ydCB7IERpdmFFZGl0IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IGJpbmRJbnNlcnRUYWJzLCBpbml0SW5zZXJ0RWRpdENvbnRyb2xzLCBpbml0U2VsZWN0aW9uQnV0dG9ucyB9IGZyb20gJy4vQ29udHJvbHMnO1xuaW1wb3J0IHsgc2V0SGlnaGxpZ2h0T3B0aW9uIH0gZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgeyBpbml0VW5kb1JlZG9QYW5lbCB9IGZyb20gJy4uL3V0aWxzL0VkaXRDb250cm9scyc7XG5pbXBvcnQgKiBhcyBTZWxlY3QgZnJvbSAnLi4vdXRpbHMvU2VsZWN0JztcbmltcG9ydCBJbnNlcnRIYW5kbGVyIGZyb20gJy4vSW5zZXJ0SGFuZGxlcic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuL1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4uL3V0aWxzL0RyYWdIYW5kbGVyJztcbmltcG9ydCB7IE5ldW1lRWRpdEludGVyZmFjZSB9IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgeyB1bmRvUmVkb1BhbmVsIH0gZnJvbSAnLi4vdXRpbHMvRWRpdENvbnRlbnRzJztcbmltcG9ydCB7IGluaXROYXZiYXIgfSBmcm9tICcuLi91dGlscy9FZGl0Q29udHJvbHMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IFVzZXJUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIEFuIEVkaXQgTW9kdWxlIGZvciBhIHNpbmdsZSBwYWdlIG9mIGEgbWFudXNjcmlwdC5cbiAqIFdvcmtzIHdpdGggdGhlIFNpbmdsZVZpZXcgbW9kdWxlLlxuICovXG5jbGFzcyBTaW5nbGVFZGl0TW9kZSBpbXBsZW1lbnRzIE5ldW1lRWRpdEludGVyZmFjZSB7XG4gIG5lb25WaWV3OiBOZW9uVmlldztcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyO1xuICBpbnNlcnRIYW5kbGVyOiBJbnNlcnRIYW5kbGVyO1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIEVkaXRNb2RlIG9iamVjdC5cbiAgICogQHBhcmFtIHtOZW9uVmlld30gbmVvblZpZXcgLSBUaGUgTmVvblZpZXcgcGFyZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLmluaXRFZGl0TW9kZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgRWRpdCBtb2RlIChkZWZhdWx0KS5cbiAgICovXG4gIGluaXRFZGl0TW9kZSAoKTogdm9pZCB7XG5cbiAgICBpbml0TmF2YmFyKHRoaXMubmVvblZpZXcpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRfY29udHJvbHMnKS5pbm5lckhUTUwgKz0gQ29udGVudHMuaW5zZXJ0Q29udHJvbHNQYW5lbDtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdF9jb250cm9scycpLmlubmVySFRNTCArPSBDb250ZW50cy5lZGl0Q29udHJvbHNQYW5lbDtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kb1JlZG9fY29udHJvbHMnKS5pbm5lckhUTUwgPSB1bmRvUmVkb1BhbmVsO1xuXG4gICAgdGhpcy5kcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcih0aGlzLm5lb25WaWV3LCAnI3N2Z19ncm91cCcpO1xuICAgIHRoaXMuaW5zZXJ0SGFuZGxlciA9IG5ldyBJbnNlcnRIYW5kbGVyKHRoaXMubmVvblZpZXcsICcjc3ZnX2dyb3VwJyk7XG4gICAgYmluZEluc2VydFRhYnModGhpcy5pbnNlcnRIYW5kbGVyKTtcbiAgICBjb25zdCB7IGluc2VydFRhYiB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnNlcnRUYWIpLmNsaWNrKCk7XG4gICAgU2VsZWN0LnNldFNlbGVjdEhlbHBlck9iamVjdHModGhpcy5uZW9uVmlldywgdGhpcy5kcmFnSGFuZGxlcik7XG4gICAgdGhpcy5zZXRTZWxlY3RMaXN0ZW5lcnMoKTtcblxuICAgIFNlbGVjdE9wdGlvbnMuaW5pdE5lb25WaWV3KHRoaXMubmVvblZpZXcpO1xuICAgIGluaXRJbnNlcnRFZGl0Q29udHJvbHMoKTtcbiAgICBpbml0U2VsZWN0aW9uQnV0dG9ucygpO1xuICAgIGluaXRVbmRvUmVkb1BhbmVsKHRoaXMubmVvblZpZXcpO1xuICAgIHNldEhpZ2hsaWdodE9wdGlvbignc2VsZWN0aW9uJyk7XG4gICAgdGhpcy5uZW9uVmlldy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMuc2V0U2VsZWN0TGlzdGVuZXJzLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdXNlciBtb2RlIHRoYXQgTmVvbiBpcyBpbi4gRWl0aGVyIGluc2VydCwgZWRpdCwgb3Igdmlld2VyLlxuICAgKiBAcmV0dXJucyB7VXNlclR5cGV9XG4gICAqL1xuICBnZXRVc2VyTW9kZSAoKTogVXNlclR5cGUge1xuICAgIGNvbnN0IHsgdXNlck1vZGUgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgcmV0dXJuIHVzZXJNb2RlO1xuICB9XG5cbiAgc2V0U2VsZWN0TGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICBTZWxlY3QuY2xpY2tTZWxlY3QoJyNzdmdfZ3JvdXAsICNzdmdfZ3JvdXAgdXNlLCAjc3ZnX2dyb3VwIHJlY3QnKTtcbiAgICBTZWxlY3QuZHJhZ1NlbGVjdCgnI3N2Z19ncm91cCcpO1xuICB9XG59XG5cbmV4cG9ydCB7IFNpbmdsZUVkaXRNb2RlIGFzIGRlZmF1bHQgfTtcbiIsIi8qKiBAbW9kdWxlIEluZm9Nb2R1bGUgKi9cblxuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4vTmVvblZpZXcnO1xuaW1wb3J0IHsgSW5mb0ludGVyZmFjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVzLCBDbGVmQXR0cmlidXRlcyB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MsIHNldFNldHRpbmdzIH0gZnJvbSAnLi91dGlscy9Mb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IHVwZGF0ZURpc3BsYXlBbGxCdG4gfSBmcm9tICcuL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuXG4vKipcbiAqIE1hcCBvZiBjb250b3VycyB0byBuZXVtZSBuYW1lcy5cbiAqL1xuY29uc3QgbmV1bWVHcm91cHMgPSBuZXcgTWFwKFxuICBbWycnLCAnUHVuY3R1bSddLCBbJ3UnLCAnUGVzJ10sIFsnZCcsICdDbGl2aXMnXSwgWyd1dScsICdTY2FuZGljdXMnXSwgWyd1ZCcsICdUb3JjdWx1cyddLCBbJ2R1JywgJ1BvcnJlY3R1cyddLCBbJ3MnLCAnRGlzdHJvcGhhJ10sIFsnc3MnLCAnVHJpc3RvcGhhJ10sXG4gICAgWydzZCcsICdQcmVzc3VzJ10sIFsnZGQnLCAnQ2xpbWFjdXMnXSwgWydkZHUnLCAnQ2xpbWFjdXNSZXN1cGludXMnXSwgWyd1ZHUnLCAnVG9yY3VsdXNSZXN1cGludXMnXSwgWydkdWQnLCAnUG9ycmVjdHVzRmxleHVzJ10sXG4gICAgWyd1ZGQnLCAnUGVzU3VicHVuY3RpcyddLCBbJ3V1ZCcsICdTY2FuZGljdXNGbGV4dXMnXSwgWyd1dWRkJywgJ1NjYW5kaWN1c1N1YnB1bmN0aXMnXSwgWydkdWRkJywgJ1BvcnJlY3R1c1N1YnB1bmN0aXMnXV1cbik7XG5cbmZ1bmN0aW9uIHN0YXJ0SW5mb1Zpc2liaWxpdHkgKCk6IHZvaWQge1xuICBjb25zdCBlbGVtZW50SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbGVtZW50X2luZm8nKTtcbiAgZWxlbWVudEluZm8uaW5uZXJIVE1MID1cbiAgICBgPGRpdiBjbGFzcz1cImluZm8tYnViYmxlLWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImluZm8tYnViYmxlLWhlYWRlclwiPkVsZW1lbnQgSW5mbzwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImluZm8tYnViYmxlLWJvZHlcIj48aT5Ib3ZlciBvdmVyIGFueSBlbGVtZW50IHRvIHNlZSBpdHMgbWV0YWRhdGE8L2k+PC9kaXY+XG4gICAgPC9kaXY+YDtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VsZW1lbnRfaW5mbycpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogbm9uZScpO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgdmlzaWJpbGl0eSBvZiBpbmZvQm94XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUluZm9WaXNpYmlsaXR5ICgpOiB2b2lkIHtcbiAgY29uc3QgZWxlbWVudEluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWxlbWVudF9pbmZvJyk7XG4gIGNvbnN0IGRpc3BsYXlJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgXG4gIC8vIHNhdmUgc2V0dGluZyB0byBsb2NhbFN0b3JhZ2VcbiAgc2V0U2V0dGluZ3MoeyBkaXNwbGF5SW5mbzogZGlzcGxheUluZm8uY2hlY2tlZCB9KTtcblxuICBpZiAoZGlzcGxheUluZm8uY2hlY2tlZCkge1xuICAgIGVsZW1lbnRJbmZvLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnJyk7XG4gICAgLy8gc2Nyb2xsIG5ldW1lIGluZm8gaW50byB2aWV3XG4gICAgLy9lbGVtZW50SW5mby5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50SW5mby5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IG5vbmUnKTtcbiAgfVxuICB1cGRhdGVEaXNwbGF5QWxsQnRuKCk7XG59XG5cbi8qKlxuICogTG9hZCBkaXNwbGF5SW5mbyBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZVxuICovXG5mdW5jdGlvbiBsb2FkU2V0dGluZ3MgKCk6IHZvaWQge1xuICBjb25zdCB7IGRpc3BsYXlJbmZvIH0gPSBnZXRTZXR0aW5ncygpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGlzcGxheUluZm8nKS5jaGVja2VkID0gZGlzcGxheUluZm87XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVyIG9uIGluZm8gdmlzaWJpbGl0eSBjaGVja2JveC5cbiAqL1xuZnVuY3Rpb24gc2V0SW5mb0NvbnRyb2xzICgpOiB2b2lkIHtcbiAgc3RhcnRJbmZvVmlzaWJpbGl0eSgpO1xuICBsb2FkU2V0dGluZ3MoKTtcbiAgdXBkYXRlSW5mb1Zpc2liaWxpdHkoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1cGRhdGVJbmZvVmlzaWJpbGl0eSk7XG59XG5cbi8qKlxuICogQ2xhc3MgdGhhdCBtYW5hZ2VzIGdldHRpbmcgaW5mb3JtYXRpb24gZm9yIGVsZW1lbnRzIGluIE5lb24gZnJvbSBWZXJvdmlvLlxuICovXG5jbGFzcyBJbmZvTW9kdWxlIGltcGxlbWVudHMgSW5mb0ludGVyZmFjZSB7XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3O1xuICBpc0hvdmVyaW5nQ2hpbGQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEEgY29uc3RydWN0b3IgZm9yIGFuIEluZm9Nb2R1bGUuXG4gICAqIEBwYXJhbSB7TmVvblZpZXd9IG5lb25WaWV3IC0gVGhlIE5lb25WaWV3IHBhcmVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgLy8gQWRkIGluZm8gYm94IGVuYWJsZS9kaXNhYmxlIGNoZWNrIGJveFxuICAgIGNvbnN0IGNoZWNrYm94ZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1zaW5nbGUtY29udGFpbmVyJyk7XG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LWNvbnRhaW5lcicsICdzaWRlLXBhbmVsLWJ0bicpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gJ0luZm8nO1xuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBpbnB1dC5pZCA9ICdkaXNwbGF5SW5mbyc7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICBpbnB1dC50eXBlID0gJ2NoZWNrYm94JztcbiAgICBpbnB1dC5jaGVja2VkID0gZmFsc2U7XG4gICAgbGFiZWwuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgIGNoZWNrYm94ZXNDb250YWluZXIucHJlcGVuZChsYWJlbCk7XG5cbiAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy5yZXNldEluZm9MaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgc2V0SW5mb0NvbnRyb2xzKCk7XG4gICAgdGhpcy5yZXNldEluZm9MaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbGlzdGVuZXJzIGZvciB0aGUgSW5mb01vZHVsZS5cbiAgICogVHJpZ2dlciBhY3Rpb24gb24gbW91c2VvdmVyIG9mIHNwZWNpZmljIG11c2ljYWwgZWxlbWVudCBjbGFzc2VzLlxuICAgKi9cbiAgaW5mb0xpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZS1wYWdlJylbMF1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZSwuY3VzdG9zLC5jbGVmLC5hY2NpZCwuZGl2TGluZSwuc3RhZmYnKVxuICAgICAgICAuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFub2RlLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkgdGhpcy5pc0hvdmVyaW5nQ2hpbGQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbmZvKGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZS1wYWdlJylbMF1cbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZSwuY3VzdG9zLC5jbGVmLC5hY2NpZCwuZGl2TGluZScpXG4gICAgICAgIC5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNIb3ZlcmluZ0NoaWxkID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBsaXN0ZW5lcnMgZm9yIHRoZSBJbmZvTW9kdWxlLlxuICAgKi9cbiAgc3RvcExpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lLC5jdXN0b3MsLmNsZWYsLmFjY2lkLC5kaXZMaW5lLC5zdGFmZicpLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMudXBkYXRlSW5mby5iaW5kKHRoaXMpKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUsIC5jdXN0b3MsIC5jbGVmLCAuYWNjaWQsIC5kaXZMaW5lJykuZm9yRWFjaChub2RlID0+IHtcbiAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgICAgdGhpcy5pc0hvdmVyaW5nQ2hpbGQgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RhcnQgbGlzdGVuZXJzIGZvciB0aGUgSW5mb01vZHVsZS5cbiAgICovXG4gIHJlc2V0SW5mb0xpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wTGlzdGVuZXJzKCk7XG4gICAgdGhpcy5pbmZvTGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHVwZGF0ZWQgaW5mbyBmb3IgdGhlIGNhbGxpbmcgZWxlbWVudCBiYXNlZCBvbiBpdHMgZWxlbWVudCB0eXBlLlxuICAgKiBNYWtlcyBjYWxscyB0byBOZW9uQ29yZSB0byBnZXQgdGhlIGluZm9ybWF0aW9uIG5lY2Vzc2FyeS5cbiAgICovXG4gIGFzeW5jIHVwZGF0ZUluZm8gKGV2ZW50OiBNb3VzZUV2ZW50KTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIEZvciBub3csIHNpbmNlIENsZWZzIGRvIG5vdCBoYXZlIHRoZWlyIG93biBlbGVtZW50IHRhZyBpbiBtZWk0LCB0aGVyZSBpcyBub3QgYSB3YXkgdG8gc2VsZWN0IHRoZSA8Zz4gZWxlbWVudFxuICAvLyBTbyB3ZSB3aWxsIHNpbXBseSByZXR1cm4gaWYgSUQgZG9lcyBub3QgZXhpc3QgZm9yIG5vd1xuICAgIGNvbnN0IGlkID0gKGV2ZW50LmN1cnJlbnRUYXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkO1xuICAgIGlmIChpZCA9PT0gJycpIHtcbiAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VsZW1lbnRfaW5mbycpLmNoaWxkcmVuKS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgY2hpbGQucmVtb3ZlKCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdObyBpZCEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGNvbnN0IGNsYXNzUmUgPSAvbmV1bWV8Y2xlZnxjdXN0b3N8c3RhZmZ8YWNjaWR8ZGl2TGluZS87XG4gICAgY29uc3QgZWxlbWVudENsYXNzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykubWF0Y2goY2xhc3NSZSlbMF07XG4gICAgbGV0IGJvZHkgPSAnJztcbiAgICBsZXQgYXR0cmlidXRlczogQXR0cmlidXRlcztcblxuICAgIC8vIEdldHMgdGhlIHBpdGNoZXMgZGVwZW5kaW5nIG9uIGVsZW1lbnQgdHlwZSBhbmRcbiAgICBzd2l0Y2ggKGVsZW1lbnRDbGFzcykge1xuICAgICAgY2FzZSAnbmV1bWUnOiB7XG4gICAgICAgIC8vIFNlbGVjdCBuZXVtZSBjb21wb25lbnRzIG9mIHNlbGVjdGVkIG5ldW1lXG4gICAgICAgIGNvbnN0IG5jcyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5jJykgYXMgTm9kZUxpc3RPZjxTVkdHcmFwaGljc0VsZW1lbnQ+O1xuICAgICAgICBpZiAobmNzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGNvbnN0IGF0dHI6IEF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKG5jc1swXS5pZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgICAgIGlmIChhdHRyLmN1cnZlID09PSAnYScgfHwgYXR0ci5jdXJ2ZSA9PT0gJ2MnKSB7XG4gICAgICAgICAgICBsZXQgcGl0Y2hlcyA9IGF3YWl0IHRoaXMuZ2V0UGl0Y2hlcyhuY3MpO1xuXG4gICAgICAgICAgICBwaXRjaGVzID0gcGl0Y2hlcy50cmltKCkudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIGJvZHkgPSAnU2hhcGU6IExpcXVlc2NlbnQnICsgJ1xcclxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnUGl0Y2goZXMpOiAnICsgcGl0Y2hlcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjb250b3VyID0gYXdhaXQgdGhpcy5nZXRDb250b3VyKG5jcyk7XG4gICAgICAgIGlmIChuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgYXR0cjogQXR0cmlidXRlcyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmNzWzBdLmlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgICAgaWYoYXR0ci50aWx0ID09PSAncycpIHtcbiAgICAgICAgICAgIGxldCBwaXRjaGVzID0gYXdhaXQgdGhpcy5nZXRQaXRjaGVzKG5jcyk7XG5cbiAgICAgICAgICAgIHBpdGNoZXMgPSBwaXRjaGVzLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYm9keSA9ICdTaGFwZTogVmlyZ2EgXFxyXFxuJyAgK1xuICAgICAgICAgICAgICAgICAgICAnUGl0Y2goZXMpOiAnICsgcGl0Y2hlcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKGF0dHIudGlsdCA9PT0gJ24nKXtcbiAgICAgICAgICAgIGxldCBwaXRjaGVzID0gYXdhaXQgdGhpcy5nZXRQaXRjaGVzKG5jcyk7XG5cbiAgICAgICAgICAgIHBpdGNoZXMgPSBwaXRjaGVzLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYm9keSA9ICdTaGFwZTogUmV2ZXJzZWQgVmlyZ2EgXFxyXFxuJyAgK1xuICAgICAgICAgICAgICAgICAgICAnUGl0Y2goZXMpOiAnICsgcGl0Y2hlcztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udG91ciA9PT0gJ0NsaXZpcycpIHtcbiAgICAgICAgICBjb25zdCBhdHRyOiBBdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihuY3NbMF0uaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICAgICAgICBpZiAoYXR0ci5saWdhdGVkKSB7XG4gICAgICAgICAgICBjb250b3VyID0gJ0xpZ2F0dXJlJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBpdGNoZXMgPSBhd2FpdCB0aGlzLmdldFBpdGNoZXMobmNzKTtcblxuICAgICAgICBwaXRjaGVzID0gcGl0Y2hlcy50cmltKCkudG9VcHBlckNhc2UoKTtcbiAgICAgICAgYm9keSA9ICdTaGFwZTogJyArIChjb250b3VyID09PSB1bmRlZmluZWQgPyAnQ29tcG91bmQnIDogY29udG91cikgKyAnXFxyXFxuJyArXG4gICAgICAgICAgICAgICAgJ1BpdGNoKGVzKTogJyArIHBpdGNoZXM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnY3VzdG9zJzoge1xuICAgICAgICBhdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihpZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgICBib2R5ICs9ICdQaXRjaDogJyArIChhdHRyaWJ1dGVzWydwbmFtZSddKS50b1VwcGVyQ2FzZSgpICsgYXR0cmlidXRlc1snb2N0J107XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnYWNjaWQnOiB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKGlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgIGxldCB0eXBlID0gJyc7XG4gICAgICAgIGlmICgoYXR0cmlidXRlc1snYWNjaWQnXSkudG9VcHBlckNhc2UoKSA9PSAnRicpe1xuICAgICAgICAgIHR5cGUgPSAnRmxhdCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZigoYXR0cmlidXRlc1snYWNjaWQnXSkudG9VcHBlckNhc2UoKSA9PSAnTicpe1xuICAgICAgICAgIHR5cGUgPSAnTmF0dXJhbCc7XG4gICAgICAgIH1cbiAgICAgICAgYm9keSArPSAnQWNjaWQgVHlwZTogJyArIHR5cGU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnY2xlZic6IHtcbiAgICAgICAgY29uc3QgYXR0ciA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIoaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKSBhcyBDbGVmQXR0cmlidXRlcztcblxuICAgICAgICAvLyBJZiBjbGVmIGhhcyBiZWVuIGRpc3BsYWNlZCwgZm9ybWF0IGFuZCBzaG93IHRoZSBkaXNwbGFjZW1lbnQgYXNcbiAgICAgICAgLy8gbnVtYmVyIG9mIG9jdGF2ZXMgbm90IG51bWJlciBvZiBmdWxsIHN0ZXBzXG4gICAgICAgIGlmIChhdHRyWydkaXMucGxhY2UnXSAmJiBhdHRyLmRpcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gQ29tYmluZSBhbmQgZm9ybWF0IGBkaXMucGxhY2VgIGFuZCBgZGlzYDpcbiAgICAgICAgICAvLyBFLmcuLCBmb3JtYXQoJ2Fib3ZlJywgOCkgPT4gJysxJ1xuICAgICAgICAgIC8vIEUuZy4sIGZvcm1hdCgnYmVsb3cnLCAyMikgPT4gJy0yMidcbiAgICAgICAgICBjb25zdCBmb3JtYXQgPSAoZGlzcGxhY2U6IHN0cmluZywgZGlzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRpciA9IGRpc3BsYWNlID09PSAnYWJvdmUnID8gJysnIDogJy0nO1xuICAgICAgICAgICAgY29uc3Qgb2N0YXZlID0gU3RyaW5nKE1hdGguZmxvb3IoTnVtYmVyKGRpcykgLyA3KSk7XG4gICAgICAgICAgICByZXR1cm4gZGlyICsgb2N0YXZlO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBib2R5ICs9ICdPY3RhdmUgRGlzcGxhY2VtZW50OiAnICsgZm9ybWF0KGF0dHJbJ2Rpcy5wbGFjZSddLCBhdHRyLmRpcykgKyAnXFxyXFxuJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBib2R5ICs9ICdPY3RhdmUgRGlzcGxhY2VtZW50OiBOb25lXFxyXFxuJztcbiAgICAgICAgfVxuXG4gICAgICAgIGJvZHkgKz0gJ1NoYXBlOiAnICsgYXR0ci5zaGFwZSArICdcXHJcXG4nICsgJ0xpbmU6ICcgKyBhdHRyLmxpbmU7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdkaXZMaW5lJzoge1xuICAgICAgICBhdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihpZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgICBib2R5ICs9ICdEaXZMaW5lIFR5cGU6ICcgKyBhdHRyaWJ1dGVzWydmb3JtJ107XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnc3RhZmYnOiB7XG4gICAgICAgIGlmICh0aGlzLmlzSG92ZXJpbmdDaGlsZCkgcmV0dXJuO1xuICAgICAgICBhdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihpZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgICBpZiAoYXR0cmlidXRlc1sndHlwZSddKSBib2R5ICs9ICdDb2x1bW46ICcgKyBhdHRyaWJ1dGVzWyd0eXBlJ10ucmVwbGFjZSgvXmNvbHVtbi8sICcnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGJvZHkgKz0gJ25vdGhpbmcnO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgYm9keSA9IGBFbGVtZW50IFR5cGU6ICR7ZWxlbWVudENsYXNzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZWxlbWVudENsYXNzLnNsaWNlKDEpfVxcbiR7Ym9keX1gO1xuICAgIHRoaXMudXBkYXRlSW5mb01vZHVsZShib2R5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGluZGl2aWR1YWwgcGl0Y2hlcyBvZiBhIG5ldW1lLlxuICAgKiBAcGFyYW0gbmNzIC0gTmV1bWUgY29tcG9uZW50cyBpbiB0aGUgbmV1bWUuXG4gICAqIEByZXR1cm5zIFNwYWNlIHNlcGFyYXRlZCBwaXRjaGVzIG9mIHRoZSBuZXVtZSBjb21wb25lbnRzIGluIG9yZGVyLlxuICAgKi9cbiAgYXN5bmMgZ2V0UGl0Y2hlcyAobmNzOiBJdGVyYWJsZTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsZXQgcGl0Y2hlcyA9ICcnO1xuICAgIGZvciAoY29uc3QgbmMgb2YgbmNzKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihuYy5pZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgcGl0Y2hlcyArPSBhdHRyaWJ1dGVzWydwbmFtZSddICsgYXR0cmlidXRlc1snb2N0J10gKyAnICc7XG4gICAgfVxuICAgIHJldHVybiBwaXRjaGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29udG91ciBvZiBhIG5ldW1lLlxuICAgKiBAcGFyYW0gbmNzIC0gTmV1bWUgY29tcG9uZW50cyBpbiB0aGUgbmV1bWUuXG4gICAqL1xuICBhc3luYyBnZXRDb250b3VyIChuY3M6IEl0ZXJhYmxlPFNWR0dyYXBoaWNzRWxlbWVudD4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGxldCBjb250b3VyID0gJyc7XG4gICAgbGV0IHByZXZpb3VzOiBBdHRyaWJ1dGVzID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IG5jIG9mIG5jcykge1xuICAgICAgY29uc3QgYXR0cmlidXRlczogQXR0cmlidXRlcyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmMuaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICAgIGlmIChwcmV2aW91cyAhPT0gbnVsbCkge1xuICAgICAgICBpZiAocHJldmlvdXNbJ29jdCddID4gYXR0cmlidXRlc1snb2N0J10pIHtcbiAgICAgICAgICBjb250b3VyICs9ICdkJztcbiAgICAgICAgfSBlbHNlIGlmIChwcmV2aW91c1snb2N0J10gPCBhdHRyaWJ1dGVzWydvY3QnXSkge1xuICAgICAgICAgIGNvbnRvdXIgKz0gJ3UnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLnBpdGNoTmFtZVRvTnVtKHByZXZpb3VzWydwbmFtZSddKSA8IHRoaXMucGl0Y2hOYW1lVG9OdW0oYXR0cmlidXRlc1sncG5hbWUnXSkpIHtcbiAgICAgICAgICAgIGNvbnRvdXIgKz0gJ3UnO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5waXRjaE5hbWVUb051bShwcmV2aW91c1sncG5hbWUnXSkgPiB0aGlzLnBpdGNoTmFtZVRvTnVtKGF0dHJpYnV0ZXNbJ3BuYW1lJ10pKSB7XG4gICAgICAgICAgICBjb250b3VyICs9ICdkJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udG91ciArPSAncyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcmV2aW91cyA9IGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIGlmIChuZXVtZUdyb3Vwcy5nZXQoY29udG91cikgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc29sZS53YXJuKCdVbmtub3duIGNvbnRvdXI6ICcgKyBjb250b3VyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldW1lR3JvdXBzLmdldChjb250b3VyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IGFuZCB1cGRhdGUgdGhlIGluZm8gYm94LlxuICAgKiBAcGFyYW0gYm9keSAtIFRoZSBpbmZvIGJveCBjb250ZW50cy5cbiAgICovXG4gIHVwZGF0ZUluZm9Nb2R1bGUgKGJvZHk6IHN0cmluZyk6IHZvaWQge1xuICAgICg8SFRNTEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luZm8tYnViYmxlLWJvZHknKVswXSkuaW5uZXJUZXh0ID0gYm9keTtcblxuICAgIGlmICgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luZm8tYnViYmxlLWNvbnRhaW5lcicpWzBdIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgYSBwaXRjaCBuYW1lIChhLWcpIHRvIGEgbnVtYmVyICh3aGVyZSBjIGlzIDEsIGQgaXMgMiwgLi4uYW5kIGIgaXMgNykuXG4gICAqIEBwYXJhbSBwbmFtZSAtIFRoZSBwaXRjaCBuYW1lLlxuICAgKiBAcmV0dXJucyBFcXVpdmFsZW50IHBpdGNoIG5hbWUgYXMgYSBudW1iZXIgZnJvbSAxIHRvIDcuXG4gICAqL1xuICBwaXRjaE5hbWVUb051bSAocG5hbWU6IHN0cmluZyk6IG51bWJlciB7XG4gICAgc3dpdGNoIChwbmFtZSkge1xuICAgICAgY2FzZSAnYyc6XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgY2FzZSAnZCc6XG4gICAgICAgIHJldHVybiAyO1xuICAgICAgY2FzZSAnZSc6XG4gICAgICAgIHJldHVybiAzO1xuICAgICAgY2FzZSAnZic6XG4gICAgICAgIHJldHVybiA0O1xuICAgICAgY2FzZSAnZyc6XG4gICAgICAgIHJldHVybiA1O1xuICAgICAgY2FzZSAnYSc6XG4gICAgICAgIHJldHVybiA2O1xuICAgICAgY2FzZSAnYic6XG4gICAgICAgIHJldHVybiA3O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gcGl0Y2ggbmFtZScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSBjb250b3VyIG9mIGFuIG5ldW1lIGdyb3VwaW5nIGJhc2VkIG9uIHRoZSBncm91cGluZyBuYW1lLlxuICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgY29udG91ciBuYW1lLlxuICAgKiBAcmV0dXJucyBCZXN0IGd1ZXNzIG5hbWUgb2YgdGhlIG5ldW1lIHNoYXBlLlxuICAgKi9cbiAgZ2V0Q29udG91ckJ5VmFsdWUgKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIFxuICAgIGZvciAoY29uc3QgW2NvbnQsIHZdIG9mIG5ldW1lR3JvdXBzLmVudHJpZXMoKSkge1xuICAgICAgaWYgKHYgPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjb250O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBJbmZvTW9kdWxlIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi9OZW9uVmlldyc7XG5pbXBvcnQgeyB1bnNlbGVjdCB9IGZyb20gJy4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0IHsgdXBkYXRlRGlzcGxheUFsbEJ0biwgdXBkYXRlSGlnaGxpZ2h0IH0gZnJvbSAnLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCB7IFRleHRWaWV3SW50ZXJmYWNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IGdldFNldHRpbmdzLCBzZXRTZXR0aW5ncyB9IGZyb20gJy4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbi8qXG4gKiBDbGFzcyB0aGF0IG1hbmFnZXMgZ2V0dGluZyB0aGUgdGV4dCBmb3Igc3lsbGFibGVzIGluIE5lb24gZnJvbSB0aGUgbWVpIGZpbGVcbiAqL1xuY2xhc3MgVGV4dFZpZXcgaW1wbGVtZW50cyBUZXh0Vmlld0ludGVyZmFjZSB7XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3O1xuICAvKiogV2hldGhlciBvciBub3QgdGhlIHVzZXIgaGFzIGJlZW4gbm90aWZpZWQgYWJvdXQgYmxhbmsgc3lsbGFibGVzLiAqL1xuICBwcml2YXRlIG5vdGlmaWNhdGlvblNlbnQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBIGNvbnN0cnVjdG9yIGZvciBhIFRleHRWaWV3LlxuICAgKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgY2FsbGluZyBbW05lb25WaWV3XV0gZm9yIHRoZSBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5ub3RpZmljYXRpb25TZW50ID0gZmFsc2U7XG5cbiAgICAvLyBhZGQgY2hlY2tib3ggdG8gZW5hYmxlL2Rpc2FibGUgdGhlIHZpZXdcbiAgICBjb25zdCBjaGVja2JveGVzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktc2luZ2xlLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IHRleHRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgYmJveExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCB0ZXh0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjb25zdCBiYm94QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB0ZXh0QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gICAgYmJveEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgIHRleHRMYWJlbC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveC1jb250YWluZXInLCAnc2lkZS1wYW5lbC1idG4nKTtcbiAgICBiYm94TGFiZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtY29udGFpbmVyJywgJ3NpZGUtcGFuZWwtYnRuJyk7XG4gICAgdGV4dExhYmVsLnRleHRDb250ZW50ID0gJ1RleHQnO1xuICAgIGJib3hMYWJlbC50ZXh0Q29udGVudCA9ICdCQm94ZXMnO1xuICAgIHRleHRCdXR0b24uaWQgPSAnZGlzcGxheVRleHQnO1xuICAgIHRleHRCdXR0b24udHlwZSA9ICdjaGVja2JveCc7XG4gICAgYmJveEJ1dHRvbi5pZCA9ICdkaXNwbGF5QkJveCc7XG4gICAgYmJveEJ1dHRvbi50eXBlID0gJ2NoZWNrYm94JztcbiAgICB0ZXh0QnV0dG9uLmNoZWNrZWQgPSBmYWxzZTtcbiAgICBiYm94QnV0dG9uLmNoZWNrZWQgPSBmYWxzZTtcbiAgICB0ZXh0TGFiZWwuYXBwZW5kQ2hpbGQodGV4dEJ1dHRvbik7XG4gICAgYmJveExhYmVsLmFwcGVuZENoaWxkKGJib3hCdXR0b24pO1xuICAgIGNoZWNrYm94ZXNDb250YWluZXIucHJlcGVuZChiYm94TGFiZWwpO1xuICAgIGNoZWNrYm94ZXNDb250YWluZXIucHJlcGVuZCh0ZXh0TGFiZWwpO1xuXG4gICAgdGhpcy5sb2FkU2V0dGluZ3MoKTtcbiAgICB0aGlzLnNldFRleHRWaWV3Q29udHJvbHMoKTtcbiAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy51cGRhdGVUZXh0Vmlld1Zpc2liaWxpdHkuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5uZW9uVmlldy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMudXBkYXRlQkJveFZpc2liaWxpdHkuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgKiBTZXQgbGlzdGVuZXJzIG9uIHRleHR2aWV3IHZpc2liaWxpdHkgY2hlY2tib3hcbiAgKi9cbiAgc2V0VGV4dFZpZXdDb250cm9scyAoKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVUZXh0Vmlld1Zpc2liaWxpdHkoKTtcbiAgICB0aGlzLnVwZGF0ZUJCb3hWaXNpYmlsaXR5KCk7XG4gIFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVUZXh0Vmlld1Zpc2liaWxpdHkoKTtcbiAgICAgIHVwZGF0ZURpc3BsYXlBbGxCdG4oKTtcbiAgICB9KTtcbiAgXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZUJCb3hWaXNpYmlsaXR5KCk7XG4gICAgICB1cGRhdGVEaXNwbGF5QWxsQnRuKCk7XG4gICAgfSk7XG4gIH1cblxuICBsb2FkU2V0dGluZ3MgKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZGlzcGxheVRleHQsIGRpc3BsYXlCQm94IH0gPSBnZXRTZXR0aW5ncygpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNkaXNwbGF5VGV4dCcpLmNoZWNrZWQgPSBkaXNwbGF5VGV4dDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGlzcGxheUJCb3gnKS5jaGVja2VkID0gZGlzcGxheUJCb3g7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHZpc2liaWxpdHkgb2YgdGV4dCBib3VuZGluZyBib3hlc1xuICAgKi9cbiAgdXBkYXRlQkJveFZpc2liaWxpdHkgKCk6IHZvaWQge1xuXG4gICAgY29uc3QgZGlzcGxheUJCb3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgXG4gICAgLy8gc2F2ZSB0byBsb2NhbFN0b3JhZ2VcbiAgICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlCQm94OiBkaXNwbGF5QkJveGVzLmNoZWNrZWQgfSk7XG5cbiAgICBpZiAoZGlzcGxheUJCb3hlcy5jaGVja2VkKSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QnKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ3N5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdzeWxUZXh0UmVjdCcpO1xuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsLnNlbGVjdGVkIC5zeWxUZXh0UmVjdC1kaXNwbGF5JylcbiAgICAgICAgLmZvckVhY2goKHJlY3Q6IEhUTUxFbGVtZW50KSA9PiB7IHJlY3Quc3R5bGUuZmlsbCA9ICdyZWQnOyB9KTtcblxuICAgICAgaWYgKHRoaXMubmVvblZpZXcuZ2V0VXNlck1vZGUoKSAhPT0gJ3ZpZXdlcicgJiYgdGhpcy5uZW9uVmlldy5UZXh0RWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubmVvblZpZXcuVGV4dEVkaXQuaW5pdFNlbGVjdEJ5QkJveEJ1dHRvbigpO1xuICAgICAgICB0aGlzLm5lb25WaWV3LlRleHRFZGl0LmluaXRCQm94Q2lyY2xlU2xpZGVyKCk7XG4gICAgICAgIGNvbnN0IHsgY2lyY2xlU2l6ZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2NpcmNsZU91dHB1dCcpLnZhbHVlID0gU3RyaW5nKGNpcmNsZVNpemUpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjY2lyY2xlU2xpZGVyJykudmFsdWUgPSBTdHJpbmcoY2lyY2xlU2l6ZSk7XG4gICAgICB9XG4gICAgfSBcbiAgICBlbHNlIHtcbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jyk/LmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgICAgdW5zZWxlY3QoKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTeWxsYWJsZScpLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICAnc2VsQnlTeWxsYWJsZScgfSk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykuZm9yRWFjaChyZWN0ID0+IHtcbiAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdzeWxUZXh0UmVjdCcpO1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ3N5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIH0pO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsLnNlbGVjdGVkIC5zeWxUZXh0UmVjdCcpLmZvckVhY2goKHJlY3Q6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICdub25lJztcbiAgICAgIH0pO1xuXG4gICAgICB0cnkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0gXG4gICAgICBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYm94LWNpcmNsZS1zbGlkZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSBcbiAgICAgIGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIHVwZGF0ZUhpZ2hsaWdodCgpO1xuICB9XG5cbiAgLyoqXG4gICogVXBkYXRlIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSB0ZXh0dmlldyBib3hcbiAgKiBhbmQgYWRkIHRoZSBldmVudCBsaXN0ZW5lcnMgdG8gbWFrZSBzdXJlIHRoZSBzeWwgaGlnaGxpZ2h0cyB3aGVuIG1vdXNlZCBvdmVyXG4gICovXG4gIHVwZGF0ZVRleHRWaWV3VmlzaWJpbGl0eSAoKTogdm9pZCB7XG5cbiAgICBjb25zdCBkaXNwbGF5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgXG4gICAgLy8gc2F2ZSB0byBsb2NhbFN0b3JhZ2VcbiAgICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlUZXh0OiBkaXNwbGF5VGV4dC5jaGVja2VkIH0pO1xuXG4gICAgaWYgKGRpc3BsYXlUZXh0LmNoZWNrZWQpIHtcbiAgICAgIGNvbnN0IHN5bFRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKTtcbiAgICAgIHN5bFRleHQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgc3lsVGV4dC5pbm5lckhUTUwgPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJpbmZvLWJ1YmJsZS1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtaGVhZGVyXCI+U3lsbGFibGVzIG9uIHRoaXMgcGFnZTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvLWJ1YmJsZS1ib2R5XCI+JHt0aGlzLmdldFN5bFRleHQoKX08L2Rpdj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGNvbnN0IHNwYW5zID0gc3lsVGV4dC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuJyk7XG4gICAgICBzcGFucy5mb3JFYWNoKHNwYW4gPT4ge1xuICAgICAgICBjb25zdCBzeWxsYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNwYW4uY2xhc3NMaXN0WzBdKTtcbiAgICAgICAgY29uc3Qgc3lsID0gc3lsbGFibGUucXVlcnlTZWxlY3RvcignLnN5bCcpO1xuICAgICAgICBjb25zdCB0ZXh0ID0gc3lsLnF1ZXJ5U2VsZWN0b3IoJ3RleHQnKTtcbiAgICAgICAgY29uc3QgcmVjdCA9IHN5bC5xdWVyeVNlbGVjdG9yKCdyZWN0Jyk7XG4gICAgICAgIGlmICh0ZXh0LmNsYXNzTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0ZXh0LmNsYXNzTGlzdC5hZGQoJ3RleHQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChzeWxsYWJsZS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICBzeWxsYWJsZS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgIHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2gobmV1bWUgPT4ge1xuICAgICAgICAgICAgbmV1bWUuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBzeWwuYXR0cignZmlsbCcsICcjZmZjN2M3Jyk7XG4gICAgICAgICAgLy8gdGhpcy5oaWdobGlnaHRCb3VuZGluZ0JveChzcGFuKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3Bhbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChzeWxsYWJsZS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICBzeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgIHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2gobmV1bWUgPT4ge1xuICAgICAgICAgICAgbmV1bWUuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocmVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHN5bGxhYmxlLnN0eWxlLmZpbGwgIT09ICdyZ2IoMCwgMCwgMCknKSB7IC8vIHN5bGxhYmxlLmdldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL1NWRycsICdmaWxsJyk7XG4gICAgICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZmlsbCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBzeWwuYXR0cignZmlsbCcsIG51bGwpO1xuICAgICAgICAgIC8vIHRoaXMucmVtb3ZlQm91bmRpbmdCb3goc3Bhbik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLm5lb25WaWV3LmdldFVzZXJNb2RlKCkgIT09ICd2aWV3ZXInICYmIHRoaXMubmVvblZpZXcuVGV4dEVkaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm5lb25WaWV3LlRleHRFZGl0LmluaXRUZXh0RWRpdCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBzY3JvbGwgdGhlIHN5bGxhYmxlIHRleHQgYnViYmxlIGludG8gdmlld1xuICAgICAgLy9zeWxUZXh0LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgIH0gXG4gICAgZWxzZSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN5bGxhYmxlIHRleHQgb2YgdGhlIGxvYWRlZCBmaWxlXG4gICAqL1xuICBnZXRTeWxUZXh0ICgpOiBzdHJpbmcge1xuICAgIGxldCBseXJpY3MgPSAnJztcbiAgICBjb25zdCB1bmlUb0Rhc2ggPSAvXFx1ZTU1MS9nO1xuICAgIGNvbnN0IHN5bGxhYmxlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY3RpdmUtcGFnZSAuc3lsbGFibGUnKTtcbiAgICBzeWxsYWJsZXMuZm9yRWFjaChzeWxsYWJsZSA9PiB7XG4gICAgICBpZiAoc3lsbGFibGUucXVlcnlTZWxlY3RvcignLnN5bCcpICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHN5bCA9IHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3IoJy5zeWwnKTtcbiAgICAgICAgbHlyaWNzICs9IGA8c3BhbiBjbGFzcz1cIiR7c3lsbGFibGUuaWR9IHN5bC10ZXh0LXNpZGUtcGFuZWxcIj5gO1xuICAgICAgICBpZiAoc3lsLnRleHRDb250ZW50LnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICBseXJpY3MgKz0gJyYjeDI1Q0E7ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgQXJyYXkuZnJvbShzeWwuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW4pLmZvckVhY2godGV4dCA9PiB7XG4gICAgICAgICAgICBseXJpY3MgKz0gdGV4dC50ZXh0Q29udGVudCAhPT0gJycgPyB0ZXh0LnRleHRDb250ZW50IDogJyYjeDI1Q0E7ICc7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbHlyaWNzICs9ICcgPC9zcGFuPic7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCF0aGlzLm5vdGlmaWNhdGlvblNlbnQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQmxhbmsgc3lsbGFibGVzIGFyZSByZXByZXNlbnRlZCBieSDil4ohJyk7XG4gICAgICB0aGlzLm5vdGlmaWNhdGlvblNlbnQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gbHlyaWNzLnJlcGxhY2UodW5pVG9EYXNoLCAnLScpO1xuICB9XG59XG5cbmV4cG9ydCB7IFRleHRWaWV3IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IHVuc2VsZWN0IH0gZnJvbSAnLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi91dGlscy9EcmFnSGFuZGxlcic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi9OZW9uVmlldyc7XG5pbXBvcnQge1xuICBzZXRTZWxlY3RIZWxwZXJPYmplY3RzLFxuICBkcmFnU2VsZWN0LFxuICBjbGlja1NlbGVjdCxcbn0gZnJvbSAnLi91dGlscy9TZWxlY3QnO1xuaW1wb3J0IHsgc2V0R3JvdXBpbmdIaWdobGlnaHQgfSBmcm9tICcuL3V0aWxzL0NvbG9yJztcbmltcG9ydCB7IFRleHRFZGl0SW50ZXJmYWNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4vdXRpbHMvTW9kYWxXaW5kb3cnO1xuaW1wb3J0IHsgc2V0U2V0dGluZ3MgfSBmcm9tICcuL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgc2V0Q2lyY2xlU2l6ZUNvbnRyb2xzIH0gZnJvbSAnLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcblxuLyoqXG4gKiBGb3JtYXQgYSBzdHJpbmcgZm9yIHByb21wdGluZyB0aGUgdXNlci5cbiAqIEBwYXJhbSByYXdTdHJpbmcgLSBUaGUgdW5mb3JtYXR0ZWQgc3RyaW5nLlxuICovXG4vKlxuZnVuY3Rpb24gZm9ybWF0UmF3IChyYXdTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHJlbW92ZVN5bWJvbCA9IC9cXHV7MjVDQX0vdTtcbiAgcmV0dXJuIHJhd1N0cmluZy5yZXBsYWNlKHJlbW92ZVN5bWJvbCwgJycpLnRyaW0oKTtcbn1cbiovXG5cbmZ1bmN0aW9uIHNlbEJ5QkJveExpc3RlbmVyKCk6IHZvaWQge1xuICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgdW5zZWxlY3QoKTtcbiAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICdzZWxCeUJCb3gnIH0pO1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudFxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpXG4gICAgICAgIC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5TmV1bWUnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN0YWZmJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTeWxsYWJsZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnRcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKCdzZWxCeUxheWVyRWxlbWVudCcpXG4gICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICBpZiAoXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZCA9PT1cbiAgICAgICAgJ2hpZ2hsaWdodC1zZWxlY3Rpb24nXG4gICAgICApIHtcbiAgICAgICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N5bGxhYmxlJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICB0aGlzLmFkZEJCb3hMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBBIFRleHQgZWRpdGluZyBtb2R1bGUgdGhhdCB3b3JrcyB3aXRoIHRoZSBTaW5nbGVWaWV3IGFuZCBEaXZhVmlldyBtb2R1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRFZGl0TW9kZSBpbXBsZW1lbnRzIFRleHRFZGl0SW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXI7XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYSBUZXh0RWRpdFxuICAgKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgY2FsbGluZyBbW05lb25WaWV3XV0gZm9yIHRoZSBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG5lb25WaWV3OiBOZW9uVmlldykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLmluaXRUZXh0RWRpdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0ZXh0IHRvIGVkaXQgbW9kZVxuICAgKi9cbiAgaW5pdFRleHRFZGl0KCk6IHZvaWQge1xuICAgIGNvbnN0IHNwYW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JykucXVlcnlTZWxlY3RvckFsbCgnc3BhbicpO1xuICAgIGNvbnN0IG1vZGFsID0gdGhpcy5uZW9uVmlldy5tb2RhbDtcbiAgICBzcGFucy5mb3JFYWNoKChzcGFuOiBIVE1MU3BhbkVsZW1lbnQpID0+IHtcbiAgICAgIGZ1bmN0aW9uIHNlbGVjdFN5bFRleHQoKTogdm9pZCB7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQtdG8tZWRpdCcpO1xuICAgICAgICBtb2RhbC5zZXRNb2RhbFdpbmRvd1ZpZXcoTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVCk7XG4gICAgICAgIG1vZGFsLm9wZW5Nb2RhbFdpbmRvdygpO1xuICAgICAgfVxuXG4gICAgICBzcGFuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0U3lsVGV4dCk7XG4gICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0U3lsVGV4dCk7XG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuc2hpZnRLZXkgJiYgZXZlbnQua2V5ID09PSAnVCcpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRTeWxUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRleHQtc2VsZWN0Jyk7XG4gICAgICAgIGlmIChzZWxlY3RlZFN5bFRleHQpIHtcbiAgICAgICAgICBzZWxlY3RlZFN5bFRleHQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgdGhlIHNlbGVjdEJ5QkJveCBidXR0b24uXG4gICAqIElmIG5ldW1lIGVkaXQgbW9kZSBpcyB0aGVyZSwgYWRkIGl0IHRvIHRoZSBiYXIgd2l0aCB0aGUgb3RoZXIgc2VsZWN0IGJ5IGJ1dHRvbnMuXG4gICAqIE90aGVyd2lzZSBhZGQgYW4gaW52aXNpYmxlIGJ1dHRvblxuICAgKiBzaW5jZSB0aGUgb25seSBlZGl0IG1vZGUgaXMgc2VsZWN0QnlSZWN0IGluIHRoYXQgY2FzZVxuICAgKi9cbiAgaW5pdFNlbGVjdEJ5QkJveEJ1dHRvbigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5uZW9uVmlldy5OZXVtZUVkaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc2VsQnlCQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpO1xuICAgICAgaWYgKHNlbEJ5QkJveCkge1xuICAgICAgICBzZWxCeUJCb3guc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdGlvbi1tb2RlLWJ0bnMtY29udGFpbmVyJyk7XG4gICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzaWRlLXBhbmVsLWJ0bicsICdzZWwtYnknKTtcbiAgICAgIGJ1dHRvbi5pZCA9ICdzZWxCeUJCb3gnO1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ0JCb3gnO1xuICAgICAgYmxvY2suYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbEJ5QkJveExpc3RlbmVyLmJpbmQodGhpcykpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJzYnKSB7XG4gICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5zdHlsZS5kaXNwbGF5ID09PSAnJykge1xuICAgICAgICAgICAgc2VsQnlCQm94TGlzdGVuZXIuYmluZCh0aGlzKSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy5hZGRCQm94TGlzdGVuZXJzLmJpbmQodGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBibG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvJykuY2xvc2VzdCgnLmNvbnRyb2wnKTtcbiAgICAgIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBwLmNsYXNzTGlzdC5hZGQoJ2NvbnRyb2wnKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NpZGUtcGFuZWwtYnRuJywgJ3NlbC1ieScpO1xuICAgICAgYnV0dG9uLmlkID0gJ3NlbEJ5QkJveCc7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnQkJveCc7XG4gICAgICBwLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICBibG9jay5hcHBlbmRDaGlsZChwKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgdGhpcy5hZGRCQm94TGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy5hZGRCQm94TGlzdGVuZXJzLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHNlbGVjdCBieSBiYm94IG1vZGVcbiAgICovXG4gIGFkZEJCb3hMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICB1bnNlbGVjdCgpO1xuICAgICAgaWYgKHRoaXMubmVvblZpZXcuTmV1bWVFZGl0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8ganVzdCBpbiBjYXNlXG4gICAgICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIoXG4gICAgICAgICAgdGhpcy5uZW9uVmlldyxcbiAgICAgICAgICAnLnN5bFRleHRSZWN0LWRpc3BsYXknLFxuICAgICAgICApO1xuICAgICAgICBzZXRTZWxlY3RIZWxwZXJPYmplY3RzKHRoaXMubmVvblZpZXcsIHRoaXMuZHJhZ0hhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5uZW9uVmlldy52aWV3LmNvbnN0cnVjdG9yLm5hbWUgPT09ICdTaW5nbGVWaWV3Jykge1xuICAgICAgICAgIGNsaWNrU2VsZWN0KCcjbWVpX291dHB1dCwgI21laV9vdXRwdXQgcmVjdCcpO1xuICAgICAgICAgIGRyYWdTZWxlY3QoJyNzdmdfZ3JvdXAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGlja1NlbGVjdChcbiAgICAgICAgICAgICcuYWN0aXZlLXBhZ2UgPiBzdmcgPiBzdmcsIC5hY3RpdmUtcGFnZSA+IHN2ZyA+IHN2ZyByZWN0JyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGRyYWdTZWxlY3QoJy5hY3RpdmUtcGFnZSBzdmcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgdGhlIGJib3ggY2lyY2xlIHNpemUgc2xpZGVyLlxuICAgKi9cbiAgaW5pdEJCb3hDaXJjbGVTbGlkZXIoKTogdm9pZCB7XG4gICAgY29uc3QgY2lyY2xlU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jib3gtY2lyY2xlLXNsaWRlcicpO1xuICAgIGlmIChjaXJjbGVTbGlkZXIpIHtcbiAgICAgIGNpcmNsZVNsaWRlci5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2xpZGVyU2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LXNsaWRlci1zZWN0aW9uJyk7XG4gICAgY29uc3QgY2lyY2xlU2xpZGVyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2lyY2xlU2xpZGVyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXG4gICAgICAnc2xpZGVyLWFuZC1zbGlkZXItYWN0aW9ucy1jb250YWluZXInLFxuICAgICAgJ2Rpc3BsYXktcGFuZWwnLFxuICAgICk7XG4gICAgY2lyY2xlU2xpZGVyQ29udGFpbmVyLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICBjaXJjbGVTbGlkZXJDb250YWluZXIuaWQgPSAnYmJveC1jaXJjbGUtc2xpZGVyJztcbiAgICBjaXJjbGVTbGlkZXJDb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItYWN0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktc2xpZGVyLXRpdGxlXCI+QkJveCBDaXJjbGU8L2Rpdj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNsaWRlci1idG5cIiBpZD1cInJlc2V0LWNpcmNsZS1zaXplXCIgdGl0bGU9XCJSZXNldCBjaXJjbGUgc2l6ZVwiPlxuICAgICAgICAgICAgPGltZyBjbGFzcz1cInNsaWRlci1idG4taW1nXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvYXJyb3ctcm90YXRlLWxlZnQtc29saWQuc3ZnXCI+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItY29udGFpbmVyXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgc3RlcD1cIjFcIiBtaW49XCIwXCIgbWF4PVwiNTBcIiB2YWx1ZT1cIjI1XCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc2V0LWNpcmNsZS1zaXplXCJcbiAgICAgICAgICAgIGNsYXNzPVwic2xpZGVyIGlzLWZ1bGx3aWR0aCBpcy1sYXJnZVwiXG4gICAgICAgICAgICBpZD1cImNpcmNsZVNsaWRlclwiXG4gICAgICAgICAgICBzdHlsZT1cInBhZGRpbmctbGVmdDogMXJlbTsgcGFkZGluZy1yaWdodDogMXJlbTtcIlxuICAgICAgICAgICAgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiXG4gICAgICAgIC8+XG4gICAgICAgIDxvdXRwdXQgaWQ9XCJjaXJjbGVPdXRwdXRcIiBmb3I9XCJjaXJjbGVTbGlkZXJcIj4yNTwvb3V0cHV0PlxuICAgIDwvZGl2PmA7XG4gICAgc2xpZGVyU2VjdGlvbi5hcHBlbmRDaGlsZChjaXJjbGVTbGlkZXJDb250YWluZXIpO1xuXG4gICAgaWYgKHRoaXMubmVvblZpZXcuTmV1bWVFZGl0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNpcmNsZVNsaWRlckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIHNldENpcmNsZVNpemVDb250cm9scygpO1xuICB9XG59XG4iLCJleHBvcnQgeyBzZXRET01BdHRyaWJ1dGVzIGFzIHNldEF0dHJpYnV0ZXMgfTtcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBjcmVhdGUgYSBET00gZWxlbWVudCwgc2V0IGF0dHJpYnV0ZXMgb24gaXQsIGFuZFxuICogYXBwZW5kIGNoaWxkcmVuLiBBbGwgYXJndW1lbnRzIHdoaWNoIGFyZSBub3Qgb2YgcHJpbWl0aXZlIHR5cGUsIGFyZSBub3RcbiAqIGFycmF5cywgYW5kIGFyZSBub3QgRE9NIG5vZGVzIGFyZSB0cmVhdGVkIGFzIGF0dHJpYnV0ZSBoYXNoZXMgYW5kIGFyZVxuICogaGFuZGxlZCBhcyBkZXNjcmliZWQgZm9yIHNldERPTUF0dHJpYnV0ZXMuIENoaWxkcmVuIGNhbiBlaXRoZXIgYmUgYSBET01cbiAqIG5vZGUgb3IgYSBwcmltaXRpdmUgdmFsdWUsIHdoaWNoIGlzIGNvbnZlcnRlZCB0byBhIHRleHQgbm9kZS4gQXJyYXlzIGFyZVxuICogaGFuZGxlZCByZWN1cnNpdmVseS4gTnVsbCBhbmQgdW5kZWZpbmVkIHZhbHVlcyBhcmUgaWdub3JlZC5cbiAqXG4gKiBJbnNwaXJlZCBieSB0aGUgUHJvc2VNaXJyb3IgaGVscGVyIG9mIHRoZSBzYW1lIG5hbWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbHQgKHRhZylcbntcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICBjb25zdCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuICAgIHdoaWxlIChhcmdzLmxlbmd0aClcbiAgICB7XG4gICAgICAgIGNvbnN0IGFyZyA9IGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgaGFuZGxlRWx0Q29uc3RydWN0b3JBcmcoZWwsIGFyZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVFbHRDb25zdHJ1Y3RvckFyZyAoZWwsIGFyZylcbntcbiAgICBpZiAoYXJnID09IG51bGwpICAvLyBOQjogPT0gaXMgY29ycmVjdDtcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdvYmplY3QnICYmIHR5cGVvZiBhcmcgIT09ICdmdW5jdGlvbicpXG4gICAge1xuICAgICAgICAvLyBDb2VyY2UgdG8gc3RyaW5nXG4gICAgICAgIGVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGFyZykpO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZSlcbiAgICB7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKGFyZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIEFycmF5KVxuICAgIHtcbiAgICAgICAgY29uc3QgY2hpbGRDb3VudCA9IGFyZy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRDb3VudDsgaSsrKVxuICAgICAgICAgICAgaGFuZGxlRWx0Q29uc3RydWN0b3JBcmcoZWwsIGFyZ1tpXSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHNldERPTUF0dHJpYnV0ZXMoZWwsIGFyZyk7XG4gICAgfVxufVxuXG4vKipcbiAqIFNldCBhdHRyaWJ1dGVzIG9mIGEgRE9NIGVsZW1lbnQuIFRoZSBgc3R5bGVgIHByb3BlcnR5IGlzIHNwZWNpYWwtY2FzZWQgdG9cbiAqIGFjY2VwdCBlaXRoZXIgYSBzdHJpbmcgb3IgYW4gb2JqZWN0IHdob3NlIG93biBhdHRyaWJ1dGVzIGFyZSBhc3NpZ25lZCB0b1xuICogZWwuc3R5bGUuXG4gKi9cbmZ1bmN0aW9uIHNldERPTUF0dHJpYnV0ZXMgKGVsLCBhdHRyaWJ1dGVzKVxue1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBhdHRyaWJ1dGVzKVxuICAgIHtcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KHByb3ApKVxuICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgaWYgKHByb3AgPT09ICdzdHlsZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNldFN0eWxlKGVsLCBhdHRyaWJ1dGVzLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShwcm9wLCBhdHRyaWJ1dGVzW3Byb3BdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0U3R5bGUgKGVsLCBzdHlsZSlcbntcbiAgICBpZiAoIXN0eWxlKVxuICAgICAgICByZXR1cm47XG5cbiAgICBpZiAodHlwZW9mIHN0eWxlICE9PSAnb2JqZWN0JylcbiAgICB7XG4gICAgICAgIGVsLnN0eWxlLmNzc1RleHQgPSBzdHlsZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgY3NzUHJvcCBpbiBzdHlsZSlcbiAgICB7XG4gICAgICAgIGlmICghc3R5bGUuaGFzT3duUHJvcGVydHkoY3NzUHJvcCkpXG4gICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICBlbC5zdHlsZVtjc3NQcm9wXSA9IHN0eWxlW2Nzc1Byb3BdO1xuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBEaXZhUGFyZW50RWxlbWVudE5vdEZvdW5kRXhjZXB0aW9uIChtZXNzYWdlKVxue1xuICAgIHRoaXMubmFtZSA9IFwiRGl2YVBhcmVudEVsZW1lbnROb3RGb3VuZEV4Y2VwdGlvblwiO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG59XG5cbkRpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb24ucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBOb3RBbklJSUZNYW5pZmVzdEV4Y2VwdGlvbiAobWVzc2FnZSlcbntcbiAgICB0aGlzLm5hbWUgPSBcIk5vdEFuSUlJRk1hbmlmZXN0RXhjZXB0aW9uXCI7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbn1cblxuTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb24ucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBPYmplY3REYXRhTm90U3VwcGxpZWRFeGNlcHRpb24gKG1lc3NhZ2UpXG57XG4gICAgdGhpcy5uYW1lID0gXCJPYmplY3REYXRhTm90U3VwcGxpZWRFeGNlcHRpb25cIjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xufVxuXG5PYmplY3REYXRhTm90U3VwcGxpZWRFeGNlcHRpb24ucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG4iLCJpbXBvcnQgeyBFdmVudHMgfSBmcm9tICcuL3V0aWxzL2V2ZW50cyc7XG5cbmNvbnN0IGRpdmEgPSB7XG4gICAgRXZlbnRzOiBFdmVudHMsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBkaXZhO1xuIiwiLyoqXG4gKiBFdmVudHMuIFB1Yi9TdWIgc3lzdGVtIGZvciBMb29zZWx5IENvdXBsZWQgbG9naWMuXG4gKiBCYXNlZCBvbiBQZXRlciBIaWdnaW5zJyBwb3J0IGZyb20gRG9qbyB0byBqUXVlcnlcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9waGlnZ2luczQyL2Jsb29keS1qcXVlcnktcGx1Z2lucy9ibG9iL21hc3Rlci9wdWJzdWIuanNcbiAqXG4gKiBSZS1hZGFwdGVkIHRvIHZhbmlsbGEgSmF2YXNjcmlwdFxuICpcbiAqIEBjbGFzcyBFdmVudHNcbiAqL1xuXG5jbGFzcyBEaXZhRXZlbnRzXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXZhLkV2ZW50cy5wdWJsaXNoXG4gICAgICogZS5nLjogZGl2YS5FdmVudHMucHVibGlzaChcIlBhZ2VEaWRMb2FkXCIsIFtwYWdlSW5kZXgsIGZpbGVuYW1lLCBwYWdlU2VsZWN0b3JdLCB0aGlzKTtcbiAgICAgKlxuICAgICAqIEBjbGFzcyBFdmVudHNcbiAgICAgKiBAbWV0aG9kIHB1Ymxpc2hcbiAgICAgKiBAcGFyYW0gdG9waWMge1N0cmluZ31cbiAgICAgKiBAcGFyYW0gYXJncyAge0FycmF5fVxuICAgICAqIEBwYXJhbSBzY29wZSB7T2JqZWN0PX0gT3B0aW9uYWwgLSBTdWJzY3JpYmVkIGZ1bmN0aW9ucyB3aWxsIGJlIGV4ZWN1dGVkIHdpdGggdGhlIHN1cHBsaWVkIG9iamVjdCBhcyBgdGhpc2AuXG4gICAgICogICAgIEl0IGlzIG5lY2Vzc2FyeSB0byBzdXBwbHkgdGhpcyBhcmd1bWVudCB3aXRoIHRoZSBzZWxmIHZhcmlhYmxlIHdoZW4gd2l0aGluIGEgRGl2YSBpbnN0YW5jZS5cbiAgICAgKiAgICAgVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG1hdGNoZWQgd2l0aCB0aGUgaW5zdGFuY2UgSUQgb2Ygc3Vic2NyaWJlcnMgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhleVxuICAgICAqICAgICAgICAgc2hvdWxkIGJlIGV4ZWN1dGVkLiAoU2VlIGluc3RhbmNlSUQgYXJndW1lbnQgb2Ygc3Vic2NyaWJlLilcbiAgICAgKi9cbiAgICBwdWJsaXNoKHRvcGljLCBhcmdzLCBzY29wZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZVt0b3BpY10pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRoaXNUb3BpYyA9IHRoaXMuX2NhY2hlW3RvcGljXTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzVG9waWMuZ2xvYmFsICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aGlzVG9waWNHbG9iYWwgPSB0aGlzVG9waWMuZ2xvYmFsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbENvdW50ID0gdGhpc1RvcGljR2xvYmFsLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGdsb2JhbENvdW50OyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzVG9waWNHbG9iYWxbaV0uYXBwbHkoc2NvcGUgfHwgbnVsbCwgYXJncyB8fCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2NvcGUgJiYgdHlwZW9mIHNjb3BlLmdldEluc3RhbmNlSWQgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGdldCBwdWJsaXNoZXIgaW5zdGFuY2UgSUQgZnJvbSBzY29wZSBhcmcsIGNvbXBhcmUsIGFuZCBleGVjdXRlIGlmIG1hdGNoXG4gICAgICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VJRCA9IHNjb3BlLmdldEluc3RhbmNlSWQoKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZVt0b3BpY11baW5zdGFuY2VJRF0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGlzVG9waWNJbnN0YW5jZSA9IHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcGVkQ291bnQgPSB0aGlzVG9waWNJbnN0YW5jZS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaj0wOyBqIDwgc2NvcGVkQ291bnQ7IGorKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1RvcGljSW5zdGFuY2Vbal0uYXBwbHkoc2NvcGUsIGFyZ3MgfHwgW10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGl2YS5FdmVudHMuc3Vic2NyaWJlXG4gICAgICogZS5nLjogZGl2YS5FdmVudHMuc3Vic2NyaWJlKFwiUGFnZURpZExvYWRcIiwgaGlnaGxpZ2h0LCBzZXR0aW5ncy5JRClcbiAgICAgKlxuICAgICAqIEBjbGFzcyBFdmVudHNcbiAgICAgKiBAbWV0aG9kIHN1YnNjcmliZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BpY1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBpbnN0YW5jZUlEICBPcHRpb25hbCAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIElEIG9mIGEgRGl2YSBpbnN0YW5jZTsgaWYgcHJvdmlkZWQsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayBvbmx5IGZpcmVzIGZvciBldmVudHMgcHVibGlzaGVkIGZyb20gdGhhdCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJuIEV2ZW50IGhhbmRsZXIge0FycmF5fVxuICAgICAqL1xuICAgIHN1YnNjcmliZSh0b3BpYywgY2FsbGJhY2ssIGluc3RhbmNlSUQpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlW3RvcGljXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVbdG9waWNdID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlSUQgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZVt0b3BpY11baW5zdGFuY2VJRF0gPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jYWNoZVt0b3BpY10uZ2xvYmFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlW3RvcGljXS5nbG9iYWwgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2FjaGVbdG9waWNdLmdsb2JhbC5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZUlEID8gW3RvcGljLCBjYWxsYmFjaywgaW5zdGFuY2VJRF0gOiBbdG9waWMsIGNhbGxiYWNrXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXZhLkV2ZW50cy51bnN1YnNjcmliZVxuICAgICAqIGUuZy46IHZhciBoYW5kbGUgPSBFdmVudHMuc3Vic2NyaWJlKFwiUGFnZURpZExvYWRcIiwgaGlnaGxpZ2h0KTtcbiAgICAgKiAgICAgICAgIEV2ZW50cy51bnN1YnNjcmliZShoYW5kbGUpO1xuICAgICAqXG4gICAgICogQGNsYXNzIEV2ZW50c1xuICAgICAqIEBtZXRob2QgdW5zdWJzY3JpYmVcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBoYW5kbGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBjb21wbGV0ZWx5IC0gVW5zdWJzY3JpYmUgYWxsIGV2ZW50cyBmb3IgYSBnaXZlbiB0b3BpYy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBzdWNjZXNzXG4gICAgICovXG4gICAgdW5zdWJzY3JpYmUoaGFuZGxlLCBjb21wbGV0ZWx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgdCA9IGhhbmRsZVswXTtcblxuICAgICAgICBpZiAodGhpcy5fY2FjaGVbdF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0b3BpY0FycmF5O1xuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2VJRCA9IGhhbmRsZS5sZW5ndGggPT09IDMgPyBoYW5kbGVbMl0gOiAnZ2xvYmFsJztcblxuICAgICAgICAgICAgdG9waWNBcnJheSA9IHRoaXMuX2NhY2hlW3RdW2luc3RhbmNlSURdO1xuXG4gICAgICAgICAgICBpZiAoIXRvcGljQXJyYXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29tcGxldGVseSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FjaGVbdF1baW5zdGFuY2VJRF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvcGljQXJyYXkubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGkgPSB0b3BpY0FycmF5Lmxlbmd0aDtcblxuICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodG9waWNBcnJheVtpXSA9PT0gaGFuZGxlWzFdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVbdF1baW5zdGFuY2VJRF0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGl2YS5FdmVudHMudW5zdWJzY3JpYmVBbGxcbiAgICAgKiBlLmcuOiBkaXZhLkV2ZW50cy51bnN1YnNjcmliZUFsbCgnZ2xvYmFsJyk7XG4gICAgICpcbiAgICAgKiBAY2xhc3MgRXZlbnRzXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBpbnN0YW5jZUlEIE9wdGlvbmFsIC0gaW5zdGFuY2UgSUQgdG8gcmVtb3ZlIHN1YnNjcmliZXJzIGZyb20gb3IgJ2dsb2JhbCcgKGlmIG9taXR0ZWQsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVycyBpbiBhbGwgc2NvcGVzIHJlbW92ZWQpXG4gICAgICogQG1ldGhvZCB1bnN1YnNjcmliZUFsbFxuICAgICAqL1xuICAgIHVuc3Vic2NyaWJlQWxsKGluc3RhbmNlSUQpXG4gICAge1xuICAgICAgICBpZiAoaW5zdGFuY2VJRClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdG9waWNzID0gT2JqZWN0LmtleXModGhpcy5fY2FjaGUpO1xuICAgICAgICAgICAgbGV0IGkgPSB0b3BpY3MubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IHRvcGljO1xuXG4gICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRvcGljID0gdG9waWNzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jYWNoZVt0b3BpY11baW5zdGFuY2VJRF0gIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgbGV0IEV2ZW50cyA9IG5ldyBEaXZhRXZlbnRzKCk7XG4iLCJleHBvcnQgZGVmYXVsdCB7XG4gICAgb25Eb3VibGVDbGljayxcbiAgICBvblBpbmNoLFxuICAgIG9uRG91YmxlVGFwXG59O1xuXG5jb25zdCBET1VCTEVfQ0xJQ0tfVElNRU9VVCA9IDUwMDtcbmNvbnN0IERPVUJMRV9UQVBfRElTVEFOQ0VfVEhSRVNIT0xEID0gNTA7XG5jb25zdCBET1VCTEVfVEFQX1RJTUVPVVQgPSAyNTA7XG5cbmZ1bmN0aW9uIG9uRG91YmxlQ2xpY2soZWxlbSwgY2FsbGJhY2spXG57XG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGZ1bmN0aW9uIChldmVudClcbiAgICB7XG4gICAgICAgIGlmICghZXZlbnQuY3RybEtleSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2FsbGJhY2soZXZlbnQsIGdldFJlbGF0aXZlT2Zmc2V0KGV2ZW50LmN1cnJlbnRUYXJnZXQsIGV2ZW50KSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSB0aGUgY29udHJvbCBrZXkgZm9yIG1hY3MgKGluIGNvbmp1bmN0aW9uIHdpdGggZG91YmxlLWNsaWNraW5nKVxuICAgIC8vIEZJWE1FOiBEb2VzIGEgY2xpY2sgZ2V0IGhhbmRsZWQgd2l0aCBjdHJsIHByZXNzZWQgb24gbm9uLU1hY3M/XG4gICAgY29uc3QgdHJhY2tlciA9IGNyZWF0ZURvdWJsZUV2ZW50VHJhY2tlcihET1VCTEVfQ0xJQ0tfVElNRU9VVCk7XG5cbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZnVuY3Rpb24gKGV2ZW50KVxuICAgIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoZXZlbnQuY3RybEtleSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRyYWNrZXIuaXNUcmlnZ2VyZWQoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFja2VyLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXZlbnQsIGdldFJlbGF0aXZlT2Zmc2V0KGV2ZW50LmN1cnJlbnRUYXJnZXQsIGV2ZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHJhY2tlci50cmlnZ2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb25QaW5jaChlbGVtLCBjYWxsYmFjaylcbntcbiAgICBsZXQgc3RhcnREaXN0YW5jZSA9IDA7XG5cbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQpXG4gICAge1xuICAgICAgICAvLyBQcmV2ZW50IG1vdXNlIGV2ZW50IGZyb20gZmlyaW5nXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXJ0RGlzdGFuY2UgPSBkaXN0YW5jZShcbiAgICAgICAgICAgICAgICBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSxcbiAgICAgICAgICAgICAgICBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMV0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMV0uY2xpZW50WVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbihldmVudClcbiAgICB7XG4gICAgICAgIC8vIFByZXZlbnQgbW91c2UgZXZlbnQgZnJvbSBmaXJpbmdcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdG91Y2hlcyA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcztcblxuICAgICAgICAgICAgY29uc3QgbW92ZURpc3RhbmNlID0gZGlzdGFuY2UoXG4gICAgICAgICAgICAgICAgdG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHRvdWNoZXNbMF0uY2xpZW50WSxcbiAgICAgICAgICAgICAgICB0b3VjaGVzWzFdLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgdG91Y2hlc1sxXS5jbGllbnRZXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCB6b29tRGVsdGEgPSBtb3ZlRGlzdGFuY2UgLSBzdGFydERpc3RhbmNlO1xuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoem9vbURlbHRhKSA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG91Y2hDZW50ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VYOiAodG91Y2hlc1swXS5jbGllbnRYICsgdG91Y2hlc1sxXS5jbGllbnRYKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VZOiAodG91Y2hlc1swXS5jbGllbnRZICsgdG91Y2hlc1sxXS5jbGllbnRZKSAvIDJcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXZlbnQsIGdldFJlbGF0aXZlT2Zmc2V0KGV2ZW50LmN1cnJlbnRUYXJnZXQsIHRvdWNoQ2VudGVyKSwgc3RhcnREaXN0YW5jZSwgbW92ZURpc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvbkRvdWJsZVRhcChlbGVtLCBjYWxsYmFjaylcbntcbiAgICBjb25zdCB0cmFja2VyID0gY3JlYXRlRG91YmxlRXZlbnRUcmFja2VyKERPVUJMRV9UQVBfVElNRU9VVCk7XG4gICAgbGV0IGZpcnN0VGFwID0gbnVsbDtcblxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoZXZlbnQpID0+XG4gICAge1xuICAgICAgICAvLyBQcmV2ZW50IG1vdXNlIGV2ZW50IGZyb20gZmlyaW5nXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKHRyYWNrZXIuaXNUcmlnZ2VyZWQoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdHJhY2tlci5yZXNldCgpO1xuXG4gICAgICAgICAgICAvLyBEb3VibGV0YXAgaGFzIG9jY3VycmVkXG4gICAgICAgICAgICBjb25zdCBzZWNvbmRUYXAgPSB7XG4gICAgICAgICAgICAgICAgcGFnZVg6IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICBwYWdlWTogZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBJZiBmaXJzdCB0YXAgaXMgY2xvc2UgdG8gc2Vjb25kIHRhcCAocHJldmVudHMgaW50ZXJmZXJlbmNlIHdpdGggc2NhbGUgZXZlbnQpXG4gICAgICAgICAgICBjb25zdCB0YXBEaXN0YW5jZSA9IGRpc3RhbmNlKGZpcnN0VGFwLnBhZ2VYLCBmaXJzdFRhcC5wYWdlWSwgc2Vjb25kVGFwLnBhZ2VYLCBzZWNvbmRUYXAucGFnZVkpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBDb3VsZCBnaXZlIHNvbWV0aGluZyBoaWdoZXItbGV2ZWwgdGhhbiBzZWNvbmRUYXAgdG8gY2FsbGJhY2tcbiAgICAgICAgICAgIGlmICh0YXBEaXN0YW5jZSA8IERPVUJMRV9UQVBfRElTVEFOQ0VfVEhSRVNIT0xEKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGV2ZW50LCBnZXRSZWxhdGl2ZU9mZnNldChldmVudC5jdXJyZW50VGFyZ2V0LCBzZWNvbmRUYXApKTtcblxuICAgICAgICAgICAgZmlyc3RUYXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZmlyc3RUYXAgPSB7XG4gICAgICAgICAgICAgICAgcGFnZVg6IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICBwYWdlWTogZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0cmFja2VyLnRyaWdnZXIoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vLyBQeXRoYWdvcmVhbiB0aGVvcmVtIHRvIGdldCB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzICh1c2VkIGZvclxuLy8gY2FsY3VsYXRpbmcgZmluZ2VyIGRpc3RhbmNlIGZvciBkb3VibGUtdGFwIGFuZCBwaW5jaC16b29tKVxuZnVuY3Rpb24gZGlzdGFuY2UoeDEsIHkxLCB4MiwgeTIpXG57XG4gICAgcmV0dXJuIE1hdGguc3FydCgoeDIgLSB4MSkgKiAoeDIgLSB4MSkgKyAoeTIgLSB5MSkgKiAoeTIgLSB5MSkpO1xufVxuXG4vLyBVdGlsaXR5IHRvIGtlZXAgdHJhY2sgb2Ygd2hldGhlciBhbiBldmVudCBoYXMgYmVlbiB0cmlnZ2VyZWQgdHdpY2Vcbi8vIGR1cmluZyBhIGEgZ2l2ZW4gZHVyYXRpb25cbmZ1bmN0aW9uIGNyZWF0ZURvdWJsZUV2ZW50VHJhY2tlcih0aW1lb3V0RHVyYXRpb24pXG57XG4gICAgbGV0IHRyaWdnZXJlZCA9IGZhbHNlO1xuICAgIGxldCB0aW1lb3V0SWQgPSBudWxsO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHJpZ2dlcigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyaWdnZXJlZCA9IHRydWU7XG4gICAgICAgICAgICByZXNldFRpbWVvdXQoKTtcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aW1lb3V0SWQgPSBudWxsO1xuICAgICAgICAgICAgfSwgdGltZW91dER1cmF0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgaXNUcmlnZ2VyZWQoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdHJpZ2dlcmVkO1xuICAgICAgICB9LFxuICAgICAgICByZXNldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyaWdnZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzZXRUaW1lb3V0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVzZXRUaW1lb3V0KClcbiAgICB7XG4gICAgICAgIGlmICh0aW1lb3V0SWQgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgICAgdGltZW91dElkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0UmVsYXRpdmVPZmZzZXQoZWxlbSwgcGFnZUNvb3JkcylcbntcbiAgICBjb25zdCBib3VuZHMgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogcGFnZUNvb3Jkcy5wYWdlWCAtIGJvdW5kcy5sZWZ0LFxuICAgICAgICB0b3A6IHBhZ2VDb29yZHMucGFnZVkgLSBib3VuZHMudG9wXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IGVsdCB9IGZyb20gJy4vdXRpbHMvZWx0Jztcbi8qKlxuKlxuKlxuKiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlVG9vbHNPdmVybGF5XG57XG4gICAgY29uc3RydWN0b3IgKHBhZ2VJbmRleCwgdmlld2VyQ29yZSlcbiAgICB7XG4gICAgICAgIHRoaXMucGFnZSA9IHBhZ2VJbmRleDtcblxuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlID0gdmlld2VyQ29yZTtcblxuICAgICAgICB0aGlzLl9pbm5lckVsZW1lbnQgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFNldHRpbmdzKCkuaW5uZXJFbGVtZW50O1xuICAgICAgICB0aGlzLl9wYWdlVG9vbHNFbGVtID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYWJlbFdpZHRoID0gMDtcbiAgICB9XG5cbiAgICBtb3VudCAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3BhZ2VUb29sc0VsZW0gPT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMgPSB0aGlzLl9pbml0aWFsaXplUGFnZVRvb2xCdXR0b25zKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX3BhZ2VUb29sc0VsZW0gPSBlbHQoJ2RpdicsIHsgY2xhc3M6ICdkaXZhLXBhZ2UtdG9vbHMtd3JhcHBlcicgfSxcbiAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdkaXZhLXBhZ2UtdG9vbHMnIH0sIHRoaXMuX2J1dHRvbnMpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLl9wYWdlTGFiZWxzRWxlbSA9IGVsdCgnZGl2JywgeyBjbGFzczogJ2RpdmEtcGFnZS1sYWJlbHMtd3JhcHBlcid9LFxuICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2RpdmEtcGFnZS1sYWJlbHMnIH0sIHRoaXMuX3ZpZXdlckNvcmUuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbdGhpcy5wYWdlXS5sKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB0aGlzLl9pbm5lckVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fcGFnZVRvb2xzRWxlbSk7XG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9wYWdlTGFiZWxzRWxlbSk7XG4gICAgfVxuXG4gICAgX2luaXRpYWxpemVQYWdlVG9vbEJ1dHRvbnMgKClcbiAgICB7XG4gICAgICAgIC8vIENhbGxiYWNrIHBhcmFtZXRlcnNcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFNldHRpbmdzKCk7XG4gICAgICAgIGNvbnN0IHB1YmxpY0luc3RhbmNlID0gdGhpcy5fdmlld2VyQ29yZS5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgICBjb25zdCBwYWdlSW5kZXggPSB0aGlzLnBhZ2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdlckNvcmUuZ2V0UGFnZVRvb2xzKCkubWFwKCAocGx1Z2luKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyAhISEgVGhlIG5vZGUgbmVlZHMgdG8gYmUgY2xvbmVkIG90aGVyd2lzZSBpdCBpcyBkZXRhY2hlZCBmcm9tXG4gICAgICAgICAgICAvLyAgb25lIGFuZCByZWF0dGFjaGVkIHRvIHRoZSBvdGhlci5cbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IHBsdWdpbi5wYWdlVG9vbHNJY29uLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgICAgICAgLy8gZW5zdXJlIHRoZSBwbHVnaW4gaW5zdGFuY2UgaXMgaGFuZGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBjYWxsO1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHNldCB0aGUgY29udGV4dCAoaS5lLiwgYHRoaXNgKSBvZiB0aGUgaGFuZGxlQ2xpY2sgY2FsbCB0byB0aGUgcGx1Z2luIGluc3RhbmNlXG4gICAgICAgICAgICAvLyBpdHNlbGYuXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGx1Z2luLmhhbmRsZUNsaWNrLmNhbGwocGx1Z2luLCBldmVudCwgc2V0dGluZ3MsIHB1YmxpY0luc3RhbmNlLCBwYWdlSW5kZXgpO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCAoZXZlbnQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBmaXJpbmcgb2YgZW11bGF0ZWQgbW91c2UgZXZlbnRzXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIHBsdWdpbi5oYW5kbGVDbGljay5jYWxsKHBsdWdpbiwgZXZlbnQsIHNldHRpbmdzLCBwdWJsaWNJbnN0YW5jZSwgcGFnZUluZGV4KTtcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbjtcblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1bm1vdW50ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9pbm5lckVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5fcGFnZVRvb2xzRWxlbSk7XG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLl9wYWdlTGFiZWxzRWxlbSk7XG4gICAgfVxuXG4gICAgcmVmcmVzaCAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5fdmlld2VyQ29yZS5nZXRQYWdlUmVnaW9uKHRoaXMucGFnZSwge1xuICAgICAgICAgICAgaW5jbHVkZVBhZGRpbmc6IHRydWUsXG4gICAgICAgICAgICBpbmNvcnBvcmF0ZVZpZXdwb3J0OiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGlmIHdpbmRvdyBpcyByZXNpemVkIGxhcmdlciwgYSBtYXJnaW4gaXMgY3JlYXRlZCAtIG5lZWQgdG8gc3VidHJhY3QgdGhpcyBmcm9tIG9mZnNldHNcbiAgICAgICAgbGV0IG1hcmdpbkxlZnQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9pbm5lckVsZW1lbnQsIG51bGwpLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1sZWZ0Jyk7XG5cbiAgICAgICAgdGhpcy5fcGFnZVRvb2xzRWxlbS5zdHlsZS50b3AgPSBgJHtwb3MudG9wfXB4YDtcbiAgICAgICAgdGhpcy5fcGFnZVRvb2xzRWxlbS5zdHlsZS5sZWZ0ID0gYCR7cG9zLmxlZnQgLSBwYXJzZUludChtYXJnaW5MZWZ0KX1weGA7XG5cbiAgICAgICAgdGhpcy5fcGFnZUxhYmVsc0VsZW0uc3R5bGUudG9wID0gYCR7cG9zLnRvcH1weGA7XG4gICAgICAgIHRoaXMuX3BhZ2VMYWJlbHNFbGVtLnN0eWxlLmxlZnQgPSBgJHtwb3MucmlnaHQgLSBwYXJzZUludChtYXJnaW5MZWZ0KSAtIHRoaXMubGFiZWxXaWR0aCAtIDV9cHhgO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IG1heEJ5IH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBQYWdlVG9vbHNPdmVybGF5IGZyb20gJy4vcGFnZS10b29scy1vdmVybGF5JztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb2N1bWVudEhhbmRsZXJcbntcbiAgICBjb25zdHJ1Y3RvciAodmlld2VyQ29yZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUgPSB2aWV3ZXJDb3JlO1xuICAgICAgICB0aGlzLl92aWV3ZXJTdGF0ZSA9IHZpZXdlckNvcmUuZ2V0SW50ZXJuYWxTdGF0ZSgpO1xuICAgICAgICB0aGlzLl9vdmVybGF5cyA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VUb29scygpLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbnVtUGFnZXMgPSB2aWV3ZXJDb3JlLmdldFNldHRpbmdzKCkubnVtUGFnZXM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUGFnZXM7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdmVybGF5ID0gbmV3IFBhZ2VUb29sc092ZXJsYXkoaSwgdmlld2VyQ29yZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3ZlcmxheXMucHVzaChvdmVybGF5KTtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLmFkZFBhZ2VPdmVybGF5KG92ZXJsYXkpO1xuXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIGR1bW15IGxhYmVsIGZvciB3aWR0aCBjYWxjdWxhdGlvblxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgdGhlIF9wYWdlVG9vbHNFbGVtIGlzIG9ubHkgY3JlYXRlZCBvbiBtb3VudFxuICAgICAgICAgICAgICAgIC8vIHNvIHRoZXJlJ3Mgbm8gb3RoZXIgd2F5IHRvIGdldCBpdHMgd2lkdGggYmVmb3JlIHRoZSBwYWdlcyBhcmUgbG9hZGVkXG4gICAgICAgICAgICAgICAgLy8gKHdoaWNoIHdlIG5lZWQgdG8gYXZvaWQgdGhlaXIgd2lkdGggdGVtcG9yYXJpbHkgYmVpbmcgMCB3aGlsZSBsb2FkaW5nKVxuICAgICAgICAgICAgICAgIGxldCBkdW1teUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgIGR1bW15TGFiZWwuaW5uZXJIVE1MID0gdmlld2VyQ29yZS5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1tpXS5sO1xuICAgICAgICAgICAgICAgIGR1bW15TGFiZWwuY2xhc3NMaXN0LmFkZCgnZGl2YS1wYWdlLWxhYmVscycpO1xuICAgICAgICAgICAgICAgIGR1bW15TGFiZWwuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Jyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkdW1teUxhYmVsKTtcbiAgICAgICAgICAgICAgICBsZXQgbGFiZWxXaWR0aCA9IGR1bW15TGFiZWwuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkdW1teUxhYmVsKTtcblxuICAgICAgICAgICAgICAgIG92ZXJsYXkubGFiZWxXaWR0aCA9IGxhYmVsV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVU0VSIEVWRU5UU1xuICAgIG9uRG91YmxlQ2xpY2sgKGV2ZW50LCBjb29yZHMpXG4gICAge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgY29uc3QgbmV3Wm9vbUxldmVsID0gZXZlbnQuY3RybEtleSA/IHNldHRpbmdzLnpvb21MZXZlbCAtIDEgOiBzZXR0aW5ncy56b29tTGV2ZWwgKyAxO1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5fdmlld2VyQ29yZS5nZXRQYWdlUG9zaXRpb25BdFZpZXdwb3J0T2Zmc2V0KGNvb3Jkcyk7XG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUuem9vbShuZXdab29tTGV2ZWwsIHBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBvblBpbmNoIChldmVudCwgY29vcmRzLCBzdGFydERpc3RhbmNlLCBlbmREaXN0YW5jZSlcbiAgICB7XG4gICAgICAgIC8vIEZJWE1FOiBEbyB0aGlzIGNoZWNrIGluIGEgd2F5IHdoaWNoIGlzIGxlc3Mgc3BhZ2hldHRpIGNvZGUteVxuICAgICAgICBjb25zdCB2aWV3ZXJTdGF0ZSA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0SW50ZXJuYWxTdGF0ZSgpO1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKTtcblxuICAgICAgICBsZXQgbmV3Wm9vbUxldmVsID0gTWF0aC5sb2coTWF0aC5wb3coMiwgc2V0dGluZ3Muem9vbUxldmVsKSAqIGVuZERpc3RhbmNlIC8gKHN0YXJ0RGlzdGFuY2UgKiBNYXRoLmxvZygyKSkpIC8gTWF0aC5sb2coMik7XG4gICAgICAgIG5ld1pvb21MZXZlbCA9IE1hdGgubWF4KHNldHRpbmdzLm1pblpvb21MZXZlbCwgbmV3Wm9vbUxldmVsKTtcbiAgICAgICAgbmV3Wm9vbUxldmVsID0gTWF0aC5taW4oc2V0dGluZ3MubWF4Wm9vbUxldmVsLCBuZXdab29tTGV2ZWwpO1xuXG4gICAgICAgIGlmIChuZXdab29tTGV2ZWwgPT09IHNldHRpbmdzLnpvb21MZXZlbClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VQb3NpdGlvbkF0Vmlld3BvcnRPZmZzZXQoY29vcmRzKTtcblxuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLl92aWV3ZXJDb3JlLmdldEN1cnJlbnRMYXlvdXQoKTtcbiAgICAgICAgY29uc3QgY2VudGVyT2Zmc2V0ID0gbGF5b3V0LmdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0KHBvc2l0aW9uLmFuY2hvclBhZ2UsIHZpZXdlclN0YXRlLnZpZXdwb3J0KTtcbiAgICAgICAgY29uc3Qgc2NhbGVSYXRpbyA9IDEgLyBNYXRoLnBvdygyLCBzZXR0aW5ncy56b29tTGV2ZWwgLSBuZXdab29tTGV2ZWwpO1xuXG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucmVsb2FkKHtcbiAgICAgICAgICAgIHpvb21MZXZlbDogbmV3Wm9vbUxldmVsLFxuICAgICAgICAgICAgZ29EaXJlY3RseVRvOiBwb3NpdGlvbi5hbmNob3JQYWdlLFxuICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogKGNlbnRlck9mZnNldC54IC0gcG9zaXRpb24ub2Zmc2V0LmxlZnQpICsgcG9zaXRpb24ub2Zmc2V0LmxlZnQgKiBzY2FsZVJhdGlvLFxuICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IChjZW50ZXJPZmZzZXQueSAtIHBvc2l0aW9uLm9mZnNldC50b3ApICsgcG9zaXRpb24ub2Zmc2V0LnRvcCAqIHNjYWxlUmF0aW9cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVklFVyBFVkVOVFNcbiAgICBvblZpZXdXaWxsTG9hZCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5wdWJsaXNoKCdEb2N1bWVudFdpbGxMb2FkJywgdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpKTtcbiAgICB9XG5cbiAgICBvblZpZXdEaWRMb2FkICgpXG4gICAge1xuICAgICAgICAvLyBUT0RPOiBTaG91bGQgb25seSBiZSBuZWNlc3NhcnkgdG8gaGFuZGxlIGNoYW5nZXMgb24gdmlldyB1cGRhdGUsIG5vdFxuICAgICAgICAvLyBpbml0aWFsIGxvYWRcbiAgICAgICAgdGhpcy5faGFuZGxlWm9vbUxldmVsQ2hhbmdlKCk7XG5cbiAgICAgICAgY29uc3QgY3VycmVudFBhZ2VJbmRleCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKS5hY3RpdmVQYWdlSW5kZXg7XG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gdGhpcy5fdmlld2VyQ29yZS5nZXRQYWdlTmFtZShjdXJyZW50UGFnZUluZGV4KTtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5wdWJsaXNoKFwiRG9jdW1lbnREaWRMb2FkXCIsIGN1cnJlbnRQYWdlSW5kZXgsIGZpbGVOYW1lKTtcbiAgICB9XG5cbiAgICBvblZpZXdEaWRVcGRhdGUgKHJlbmRlcmVkUGFnZXMsIHRhcmdldFBhZ2UpXG4gICAge1xuICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9ICh0YXJnZXRQYWdlICE9PSBudWxsKSA/XG4gICAgICAgICAgICB0YXJnZXRQYWdlIDpcbiAgICAgICAgICAgIGdldENlbnRlcm1vc3RQYWdlKHJlbmRlcmVkUGFnZXMsIHRoaXMuX3ZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpLCB0aGlzLl92aWV3ZXJDb3JlLmdldFZpZXdwb3J0KCkpO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgdmlzaWJsZSBwYWdlcyBmcm9tIHRoZSByZW5kZXJlZCBwYWdlc1xuICAgICAgICBsZXQgdGVtcCA9IHRoaXMuX3ZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdGlvblRvbGVyYW5jZTtcbiAgICAgICAgLy8gd2l0aG91dCBzZXR0aW5nIHRvIDAsIGlzUGFnZVZpc2libGUgcmV0dXJucyB0cnVlIGZvciBwYWdlcyBvdXQgb2Ygdmlld3BvcnQgYnkgaW50ZXJzZWN0aW9uVG9sZXJhbmNlXG4gICAgICAgIHRoaXMuX3ZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdGlvblRvbGVyYW5jZSA9IDA7XG4gICAgICAgIGxldCB2aXNpYmxlUGFnZXMgPSByZW5kZXJlZFBhZ2VzLmZpbHRlcihpbmRleCA9PiB0aGlzLl92aWV3ZXJTdGF0ZS5yZW5kZXJlci5pc1BhZ2VWaXNpYmxlKGluZGV4KSk7XG4gICAgICAgIC8vIHJlc2V0IGJhY2sgdG8gb3JpZ2luYWwgdmFsdWUgYWZ0ZXIgZ2V0dGluZyB0cnVlIHZpc2libGUgcGFnZXNcbiAgICAgICAgdGhpcy5fdmlld2VyU3RhdGUudmlld3BvcnQuaW50ZXJzZWN0aW9uVG9sZXJhbmNlID0gdGVtcDtcblxuICAgICAgICAvLyBEb24ndCBjaGFuZ2UgdGhlIGN1cnJlbnQgcGFnZSBpZiB0aGVyZSBpcyBubyBwYWdlIGluIHRoZSB2aWV3cG9ydFxuICAgICAgICAvLyBGSVhNRTogV291bGQgYmUgYmV0dGVyIHRvIGZhbGwgYmFjayB0byB0aGUgcGFnZSBjbG9zZXN0IHRvIHRoZSB2aWV3cG9ydFxuICAgICAgICBpZiAoY3VycmVudFBhZ2UgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUuc2V0Q3VycmVudFBhZ2VzKGN1cnJlbnRQYWdlLCB2aXNpYmxlUGFnZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldFBhZ2UgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucHVibGlzaChcIlZpZXdlckRpZEp1bXBcIiwgdGFyZ2V0UGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oYW5kbGVab29tTGV2ZWxDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlWm9vbUxldmVsQ2hhbmdlICgpXG4gICAge1xuICAgICAgICBjb25zdCB2aWV3ZXJTdGF0ZSA9IHRoaXMuX3ZpZXdlclN0YXRlO1xuICAgICAgICBjb25zdCB6b29tTGV2ZWwgPSB2aWV3ZXJTdGF0ZS5vcHRpb25zLnpvb21MZXZlbDtcblxuICAgICAgICAvLyBJZiB0aGlzIGlzIG5vdCB0aGUgaW5pdGlhbCBsb2FkLCB0cmlnZ2VyIHRoZSB6b29tIGV2ZW50c1xuICAgICAgICBpZiAodmlld2VyU3RhdGUub2xkWm9vbUxldmVsICE9PSB6b29tTGV2ZWwgJiYgdmlld2VyU3RhdGUub2xkWm9vbUxldmVsID49IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWwgPCB6b29tTGV2ZWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5wdWJsaXNoKFwiVmlld2VyRGlkWm9vbUluXCIsIHpvb21MZXZlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5wdWJsaXNoKFwiVmlld2VyRGlkWm9vbU91dFwiLCB6b29tTGV2ZWwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goXCJWaWV3ZXJEaWRab29tXCIsIHpvb21MZXZlbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWwgPSB6b29tTGV2ZWw7XG4gICAgfVxuXG4gICAgZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fb3ZlcmxheXMuZm9yRWFjaCgob3ZlcmxheSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5yZW1vdmVQYWdlT3ZlcmxheShvdmVybGF5KTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRDZW50ZXJtb3N0UGFnZSAocmVuZGVyZWRQYWdlcywgbGF5b3V0LCB2aWV3cG9ydClcbntcbiAgICBjb25zdCBjZW50ZXJZID0gdmlld3BvcnQudG9wICsgKHZpZXdwb3J0LmhlaWdodCAvIDIpO1xuICAgIGNvbnN0IGNlbnRlclggPSB2aWV3cG9ydC5sZWZ0ICsgKHZpZXdwb3J0LndpZHRoIC8gMik7XG5cbiAgICAvLyBGaW5kIHRoZSBtaW5pbXVtIGRpc3RhbmNlIGZyb20gdGhlIHZpZXdwb3J0IGNlbnRlciB0byBhIHBhZ2UuXG4gICAgLy8gQ29tcHV0ZSBtaW51cyB0aGUgc3F1YXJlZCBkaXN0YW5jZSBmcm9tIHZpZXdwb3J0IGNlbnRlciB0byB0aGUgcGFnZSdzIGJvcmRlci5cbiAgICAvLyBodHRwOi8vZ2FtZWRldi5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvNDQ0ODMvaG93LWRvLWktY2FsY3VsYXRlLWRpc3RhbmNlLWJldHdlZW4tYS1wb2ludC1hbmQtYW4tYXhpcy1hbGlnbmVkLXJlY3RhbmdsZVxuICAgIGNvbnN0IGNlbnRlclBhZ2UgPSBtYXhCeShyZW5kZXJlZFBhZ2VzLCBwYWdlSW5kZXggPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGRpbXMgPSBsYXlvdXQuZ2V0UGFnZURpbWVuc2lvbnMocGFnZUluZGV4KTtcbiAgICAgICAgY29uc3QgaW1hZ2VPZmZzZXQgPSBsYXlvdXQuZ2V0UGFnZU9mZnNldChwYWdlSW5kZXgsIHtpbmNsdWRlUGFkZGluZzogdHJ1ZX0pO1xuXG4gICAgICAgIGNvbnN0IG1pZFggPSBpbWFnZU9mZnNldC5sZWZ0ICsgKGRpbXMud2lkdGggLyAyKTtcbiAgICAgICAgY29uc3QgbWlkWSA9IGltYWdlT2Zmc2V0LnRvcCArIChkaW1zLmhlaWdodCAvIDIpO1xuXG4gICAgICAgIGNvbnN0IGR4ID0gTWF0aC5tYXgoTWF0aC5hYnMoY2VudGVyWCAtIG1pZFgpIC0gKGRpbXMud2lkdGggLyAyKSwgMCk7XG4gICAgICAgIGNvbnN0IGR5ID0gTWF0aC5tYXgoTWF0aC5hYnMoY2VudGVyWSAtIG1pZFkpIC0gKGRpbXMuaGVpZ2h0IC8gMiksIDApO1xuXG4gICAgICAgIHJldHVybiAtKGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBjZW50ZXJQYWdlICE9IG51bGwgPyBjZW50ZXJQYWdlIDogbnVsbDtcbn1cbiIsImltcG9ydCB7IG1heEJ5IH0gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZEhhbmRsZXJcbntcbiAgICBjb25zdHJ1Y3RvciAodmlld2VyQ29yZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUgPSB2aWV3ZXJDb3JlO1xuICAgIH1cblxuICAgIC8vIFVTRVIgRVZFTlRTXG4gICAgb25Eb3VibGVDbGljayAoZXZlbnQsIGNvb3JkcylcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5fdmlld2VyQ29yZS5nZXRQYWdlUG9zaXRpb25BdFZpZXdwb3J0T2Zmc2V0KGNvb3Jkcyk7XG5cbiAgICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5fdmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCk7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy5fdmlld2VyQ29yZS5nZXRWaWV3cG9ydCgpO1xuICAgICAgICBjb25zdCBwYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldCA9IGxheW91dC5nZXRQYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldChwb3NpdGlvbi5hbmNob3JQYWdlLCB2aWV3cG9ydCk7XG5cbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5yZWxvYWQoe1xuICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgIGdvRGlyZWN0bHlUbzogcG9zaXRpb24uYW5jaG9yUGFnZSxcbiAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQ6IHBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0LnggKyBwb3NpdGlvbi5vZmZzZXQubGVmdCxcbiAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiBwYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldC55ICsgcG9zaXRpb24ub2Zmc2V0LnRvcFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblBpbmNoICgpXG4gICAge1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnJlbG9hZCh7aW5HcmlkOiBmYWxzZX0pO1xuICAgIH1cblxuICAgIC8vIFZJRVcgRVZFTlRTXG4gICAgb25WaWV3V2lsbExvYWQgKClcbiAgICB7XG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IFNob3VsZCBzb21ldGhpbmcgaGFwcGVuIGhlcmU/XG4gICAgICAgIC8qIE5vLW9wICovXG4gICAgfVxuXG4gICAgb25WaWV3RGlkTG9hZCAoKVxuICAgIHtcbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogU2hvdWxkIHNvbWV0aGluZyBoYXBwZW4gaGVyZT9cbiAgICAgICAgLyogTm8tb3AgKi9cbiAgICB9XG5cbiAgICBvblZpZXdEaWRVcGRhdGUgKHJlbmRlcmVkUGFnZXMsIHRhcmdldFBhZ2UpXG4gICAge1xuICAgICAgICAvLyByZXR1cm4gZWFybHkgaWYgdGhlcmUgYXJlIG5vIHJlbmRlcmVkIHBhZ2VzIGluIHZpZXcuXG4gICAgICAgIGlmIChyZW5kZXJlZFBhZ2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgdmlzaWJsZSBwYWdlcyBmcm9tIHRoZSByZW5kZXJlZCBwYWdlc1xuICAgICAgICBsZXQgdGVtcCA9IHRoaXMuX3ZpZXdlckNvcmUudmlld2VyU3RhdGUudmlld3BvcnQuaW50ZXJzZWN0aW9uVG9sZXJhbmNlO1xuICAgICAgICAvLyB3aXRob3V0IHNldHRpbmcgdG8gMCwgaXNQYWdlVmlzaWJsZSByZXR1cm5zIHRydWUgZm9yIHBhZ2VzIG91dCBvZiB2aWV3cG9ydCBieSBpbnRlcnNlY3Rpb25Ub2xlcmFuY2VcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS52aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnRlcnNlY3Rpb25Ub2xlcmFuY2UgPSAwO1xuICAgICAgICBsZXQgdmlzaWJsZVBhZ2VzID0gcmVuZGVyZWRQYWdlcy5maWx0ZXIoaW5kZXggPT4gdGhpcy5fdmlld2VyQ29yZS52aWV3ZXJTdGF0ZS5yZW5kZXJlci5pc1BhZ2VWaXNpYmxlKGluZGV4KSk7XG4gICAgICAgIC8vIHJlc2V0IGJhY2sgdG8gb3JpZ2luYWwgdmFsdWUgYWZ0ZXIgZ2V0dGluZyB0cnVlIHZpc2libGUgcGFnZXNcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS52aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnRlcnNlY3Rpb25Ub2xlcmFuY2UgPSB0ZW1wO1xuXG4gICAgICAgIGlmICh0YXJnZXRQYWdlICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnNldEN1cnJlbnRQYWdlcyh0YXJnZXRQYWdlLCB2aXNpYmxlUGFnZXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VsZWN0IHRoZSBjdXJyZW50IHBhZ2UgZnJvbSB0aGUgZmlyc3Qgcm93IGlmIGl0IGlzIGZ1bGx5IHZpc2libGUsIG9yIGZyb21cbiAgICAgICAgLy8gdGhlIHNlY29uZCByb3cgaWYgaXQgaXMgZnVsbHkgdmlzaWJsZSwgb3IgZnJvbSB0aGUgY2VudGVybW9zdCByb3cgb3RoZXJ3aXNlLlxuICAgICAgICAvLyBJZiB0aGUgY3VycmVudCBwYWdlIGlzIGluIHRoYXQgZ3JvdXAgdGhlbiBkb24ndCBjaGFuZ2UgaXQuIE90aGVyd2lzZSwgc2V0XG4gICAgICAgIC8vIHRoZSBjdXJyZW50IHBhZ2UgdG8gdGhlIGdyb3VwJ3MgZmlyc3QgcGFnZS5cblxuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLl92aWV3ZXJDb3JlLmdldEN1cnJlbnRMYXlvdXQoKTtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gW107XG5cbiAgICAgICAgcmVuZGVyZWRQYWdlcy5mb3JFYWNoKHBhZ2VJbmRleCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IGxheW91dC5nZXRQYWdlSW5mbyhwYWdlSW5kZXgpLmdyb3VwO1xuICAgICAgICAgICAgaWYgKGdyb3Vwcy5sZW5ndGggPT09IDAgfHwgZ3JvdXAgIT09IGdyb3Vwc1tncm91cHMubGVuZ3RoIC0gMV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ3JvdXBzLnB1c2goZ3JvdXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0Vmlld3BvcnQoKTtcbiAgICAgICAgbGV0IGNob3Nlbkdyb3VwO1xuXG4gICAgICAgIGlmIChncm91cHMubGVuZ3RoID09PSAxIHx8IGdyb3Vwc1swXS5yZWdpb24udG9wID49IHZpZXdwb3J0LnRvcClcbiAgICAgICAge1xuICAgICAgICAgICAgY2hvc2VuR3JvdXAgPSBncm91cHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ3JvdXBzWzFdLnJlZ2lvbi5ib3R0b20gPD0gdmlld3BvcnQuYm90dG9tKVxuICAgICAgICB7XG4gICAgICAgICAgICBjaG9zZW5Hcm91cCA9IGdyb3Vwc1sxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNob3Nlbkdyb3VwID0gZ2V0Q2VudGVybW9zdEdyb3VwKGdyb3Vwcywgdmlld3BvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFNldHRpbmdzKCkuYWN0aXZlUGFnZUluZGV4O1xuXG4gICAgICAgIGNvbnN0IGhhc0N1cnJlbnRQYWdlID0gY2hvc2VuR3JvdXAucGFnZXMuc29tZShwYWdlID0+IHBhZ2UuaW5kZXggPT09IGN1cnJlbnRQYWdlKTtcblxuICAgICAgICBpZiAoIWhhc0N1cnJlbnRQYWdlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnNldEN1cnJlbnRQYWdlcyhjaG9zZW5Hcm91cC5wYWdlc1swXS5pbmRleCwgdmlzaWJsZVBhZ2VzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIC8vIE5vLW9wXG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRDZW50ZXJtb3N0R3JvdXAgKGdyb3Vwcywgdmlld3BvcnQpXG57XG4gICAgY29uc3Qgdmlld3BvcnRNaWRkbGUgPSB2aWV3cG9ydC50b3AgKyB2aWV3cG9ydC5oZWlnaHQgLyAyO1xuXG4gICAgcmV0dXJuIG1heEJ5KGdyb3VwcywgZ3JvdXAgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGdyb3VwTWlkZGxlID0gZ3JvdXAucmVnaW9uLnRvcCArIGdyb3VwLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMjtcbiAgICAgICAgcmV0dXJuIC1NYXRoLmFicyh2aWV3cG9ydE1pZGRsZSAtIGdyb3VwTWlkZGxlKTtcbiAgICB9KTtcbn1cbiIsIi8qKlxuICogTWFuYWdlcyBhIGNvbGxlY3Rpb24gb2YgcGFnZSBvdmVybGF5cywgd2hpY2ggaW1wbGVtZW50IGEgbG93LWxldmVsXG4gKiBBUEkgZm9yIHN5bmNocm9uaXppbmcgSFRNTCBwYWdlcyB0byB0aGUgY2FudmFzLiBFYWNoIG92ZXJsYXkgbmVlZHNcbiAqIHRvIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIHByb3RvY29sOlxuICpcbiAqICAgbW91bnQoKTogQ2FsbGVkIHdoZW4gYSBwYWdlIGlzIGZpcnN0IHJlbmRlcmVkXG4gKiAgIHJlZnJlc2goKTogQ2FsbGVkIHdoZW4gYSBwYWdlIGlzIG1vdmVkXG4gKiAgIHVubW91bnQoKTogQ2FsbGVkIHdoZW4gYSBwcmV2aW91c2x5IHJlbmRlcmVkIHBhZ2UgaGFzIHN0b3BwZWQgYmVpbmcgcmVuZGVyZWRcbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlT3ZlcmxheU1hbmFnZXJcbntcbiAgICBjb25zdHJ1Y3RvciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcGFnZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcyA9IFtdO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VNYXAgPSB7fTtcbiAgICB9XG5cbiAgICBhZGRPdmVybGF5IChvdmVybGF5KVxuICAgIHtcbiAgICAgICAgY29uc3Qgb3ZlcmxheXNCeVBhZ2UgPSB0aGlzLl9wYWdlc1tvdmVybGF5LnBhZ2VdIHx8ICh0aGlzLl9wYWdlc1tvdmVybGF5LnBhZ2VdID0gW10pO1xuXG4gICAgICAgIG92ZXJsYXlzQnlQYWdlLnB1c2gob3ZlcmxheSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmVkUGFnZU1hcFtvdmVybGF5LnBhZ2VdKVxuICAgICAgICAgICAgb3ZlcmxheS5tb3VudCgpO1xuICAgIH1cblxuICAgIHJlbW92ZU92ZXJsYXkgKG92ZXJsYXkpXG4gICAge1xuICAgICAgICBjb25zdCBwYWdlID0gb3ZlcmxheS5wYWdlO1xuICAgICAgICBjb25zdCBvdmVybGF5c0J5UGFnZSA9IHRoaXMuX3BhZ2VzW3BhZ2VdO1xuXG4gICAgICAgIGlmICghb3ZlcmxheXNCeVBhZ2UpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgb3ZlcmxheUluZGV4ID0gb3ZlcmxheXNCeVBhZ2UuaW5kZXhPZihvdmVybGF5KTtcblxuICAgICAgICBpZiAob3ZlcmxheUluZGV4ID09PSAtMSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWRQYWdlTWFwW3BhZ2VdKVxuICAgICAgICAgICAgb3ZlcmxheXNCeVBhZ2Vbb3ZlcmxheUluZGV4XS51bm1vdW50KCk7XG5cbiAgICAgICAgb3ZlcmxheXNCeVBhZ2Uuc3BsaWNlKG92ZXJsYXlJbmRleCwgMSk7XG5cbiAgICAgICAgaWYgKG92ZXJsYXlzQnlQYWdlLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wYWdlc1twYWdlXTtcbiAgICB9XG5cbiAgICB1cGRhdGVPdmVybGF5cyAocmVuZGVyZWRQYWdlcylcbiAgICB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzbHlSZW5kZXJlZCA9IHRoaXMuX3JlbmRlcmVkUGFnZXM7XG4gICAgICAgIGNvbnN0IG5ld1JlbmRlcmVkTWFwID0ge307XG5cbiAgICAgICAgcmVuZGVyZWRQYWdlcy5tYXAoIChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ld1JlbmRlcmVkTWFwW3BhZ2VJbmRleF0gPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3JlbmRlcmVkUGFnZU1hcFtwYWdlSW5kZXhdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkUGFnZU1hcFtwYWdlSW5kZXhdID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2ludm9rZU9uT3ZlcmxheXMocGFnZUluZGV4LCBvdmVybGF5ID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5Lm1vdW50KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHByZXZpb3VzbHlSZW5kZXJlZC5tYXAoIChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChuZXdSZW5kZXJlZE1hcFtwYWdlSW5kZXhdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludm9rZU9uT3ZlcmxheXMocGFnZUluZGV4LCAob3ZlcmxheSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9yZW5kZXJlZFBhZ2VNYXBbcGFnZUluZGV4XTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnZva2VPbk92ZXJsYXlzKHBhZ2VJbmRleCwgb3ZlcmxheSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS51bm1vdW50KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkUGFnZXMgPSByZW5kZXJlZFBhZ2VzO1xuICAgIH1cblxuICAgIF9pbnZva2VPbk92ZXJsYXlzIChwYWdlSW5kZXgsIGZ1bmMpXG4gICAge1xuICAgICAgICBjb25zdCBvdmVybGF5cyA9IHRoaXMuX3BhZ2VzW3BhZ2VJbmRleF07XG4gICAgICAgIGlmIChvdmVybGF5cylcbiAgICAgICAgICAgIG92ZXJsYXlzLm1hcCggKG8pID0+IGZ1bmMobykgKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUaWxlQ292ZXJhZ2VNYXBcbntcbiAgICBjb25zdHJ1Y3RvciAocm93cywgY29scylcbiAgICB7XG4gICAgICAgIHRoaXMuX3Jvd3MgPSByb3dzO1xuICAgICAgICB0aGlzLl9jb2xzID0gY29scztcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IEFycmF5KHJvd3MpLmZpbGwobnVsbCkubWFwKCgpID0+IG5ldyBBcnJheShjb2xzKS5maWxsKGZhbHNlKSk7XG4gICAgfVxuXG4gICAgaXNMb2FkZWQgKHJvdywgY29sKVxuICAgIHtcbiAgICAgICAgLy8gUmV0dXJuIHRydWUgZm9yIG91dCBvZiBib3VuZHMgdGlsZXMgYmVjYXVzZSB0aGV5XG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gbG9hZC4gKFVuZm9ydHVuYXRlbHkgdGhpcyB3aWxsIGFsc29cbiAgICAgICAgLy8gbWFzayBsb2dpY2FsIGVycm9ycy4pXG4gICAgICAgIGlmIChyb3cgPj0gdGhpcy5fcm93cyB8fCBjb2wgPj0gdGhpcy5fY29scylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXBbcm93XVtjb2xdO1xuICAgIH1cblxuICAgIHNldChyb3csIGNvbCwgdmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLl9tYXBbcm93XVtjb2xdID0gdmFsdWU7XG4gICAgfVxufSIsImltcG9ydCBUaWxlQ292ZXJhZ2VNYXAgZnJvbSBcIi4vdGlsZS1jb3ZlcmFnZS1tYXBcIjtcblxuLyoqXG4gKiBAY2xhc3MgQ29tcG9zaXRlSW1hZ2VcbiAqIEBwcml2YXRlXG4gKlxuICogVXRpbGl0eSBjbGFzcyB0byBjb21wb3NpdGUgdGlsZXMgaW50byBhIGNvbXBsZXRlIGltYWdlXG4gKiBhbmQgdHJhY2sgdGhlIHJlbmRlcmVkIHN0YXRlIG9mIGFuIGltYWdlIGFzIG5ldyB0aWxlc1xuICogbG9hZC5cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSBsZXZlbHMge0FycmF5LjxBcnJheS48VGlsZT4+fVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBvc2l0ZUltYWdlXG57XG4gICAgY29uc3RydWN0b3IobGV2ZWxzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGV2ZWxzID0gbGV2ZWxzOyAgLy8gQXNzdW1lIGxldmVscyBzb3J0ZWQgaGlnaC1yZXMgZmlyc3RcbiAgICAgICAgY29uc3QgdXJsc1RvVGlsZXMgPSB0aGlzLl91cmxzVG9UaWxlcyA9IHt9O1xuXG4gICAgICAgIGxldmVscy5mb3JFYWNoKGxldmVsID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldmVsLnRpbGVzLmZvckVhY2godGlsZSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVybHNUb1RpbGVzW3RpbGUudXJsXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgem9vbUxldmVsOiBsZXZlbC56b29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIHJvdzogdGlsZS5yb3csXG4gICAgICAgICAgICAgICAgICAgIGNvbDogdGlsZS5jb2xcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBjbGVhciAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgbG9hZGVkQnlMZXZlbCA9IHRoaXMuX2xvYWRlZEJ5TGV2ZWwgPSB7fTtcblxuICAgICAgICB0aGlzLl9sZXZlbHMuZm9yRWFjaChsZXZlbCA9PiB7XG4gICAgICAgICAgICBsb2FkZWRCeUxldmVsW2xldmVsLnpvb21MZXZlbF0gPSBuZXcgVGlsZUNvdmVyYWdlTWFwKGxldmVsLnJvd3MsIGxldmVsLmNvbHMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRUaWxlcyAoYmFzZVpvb21MZXZlbClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRvUmVuZGVyQnlMZXZlbCA9IFtdO1xuICAgICAgICBjb25zdCBoaWdoZXN0Wm9vbUxldmVsID0gdGhpcy5fbGV2ZWxzWzBdLnpvb21MZXZlbDtcbiAgICAgICAgY29uc3QgY292ZXJlZCA9IG5ldyBUaWxlQ292ZXJhZ2VNYXAodGhpcy5fbGV2ZWxzWzBdLnJvd3MsIHRoaXMuX2xldmVsc1swXS5jb2xzKTtcblxuICAgICAgICBsZXQgYmVzdExldmVsSW5kZXg7XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byB0aGUgbG93ZXN0IHpvb20gbGV2ZWxcbiAgICAgICAgaWYgKGJhc2Vab29tTGV2ZWwgPT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJlc3RMZXZlbEluZGV4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNlaWxMZXZlbCA9IE1hdGguY2VpbChiYXNlWm9vbUxldmVsKTtcbiAgICAgICAgICAgIGJlc3RMZXZlbEluZGV4ID0gZmluZEluZGV4KHRoaXMuX2xldmVscywgbGV2ZWwgPT4gbGV2ZWwuem9vbUxldmVsIDw9IGNlaWxMZXZlbCk7XG4gICAgICAgICAgICAvLyBiZXN0TGV2ZWxJbmRleCA9IHRoaXMuX2xldmVscy5maW5kSW5kZXgoKGxldmVsKSA9PiBsZXZlbC56b29tTGV2ZWwgPD0gY2VpbExldmVsKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8gVGhlIGJlc3QgbGV2ZWwsIGZvbGxvd2VkIGJ5IGhpZ2hlci1yZXMgbGV2ZWxzIGluIGFzY2VuZGluZyBvcmRlciBvZiByZXNvbHV0aW9uLFxuICAgICAgICAvLyBmb2xsb3dlZCBieSBsb3dlci1yZXMgbGV2ZWxzIGluIGRlc2NlbmRpbmcgb3JkZXIgb2YgcmVzb2x1dGlvblxuICAgICAgICBjb25zdCBsZXZlbHNCeVByZWZlcmVuY2UgPSB0aGlzLl9sZXZlbHMuc2xpY2UoMCwgYmVzdExldmVsSW5kZXggKyAxKS5yZXZlcnNlKClcbiAgICAgICAgICAgIC5jb25jYXQodGhpcy5fbGV2ZWxzLnNsaWNlKGJlc3RMZXZlbEluZGV4ICsgMSkpO1xuXG4gICAgICAgIGxldmVsc0J5UHJlZmVyZW5jZS5mb3JFYWNoKCAobGV2ZWwpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlZCA9IHRoaXMuX2xvYWRlZEJ5TGV2ZWxbbGV2ZWwuem9vbUxldmVsXTtcblxuICAgICAgICAgICAgbGV0IGFkZGl0aW9uYWxUaWxlcyA9IGxldmVsLnRpbGVzLmZpbHRlcih0aWxlID0+IGxvYWRlZC5pc0xvYWRlZCh0aWxlLnJvdywgdGlsZS5jb2wpKTtcblxuICAgICAgICAgICAgLy8gRmlsdGVyIG91dCBlbnRpcmVseSBjb3ZlcmVkIHRpbGVzXG5cbiAgICAgICAgICAgIC8vIEZJWE1FOiBJcyBpdCBiZXR0ZXIgdG8gZHJhdyBhbGwgb2YgYSBwYXJ0aWFsbHkgY292ZXJlZCB0aWxlLFxuICAgICAgICAgICAgLy8gd2l0aCBzb21lIG9mIGl0IHVsdGltYXRlbHkgY292ZXJlZCwgb3IgdG8gcGljayBvdXQgdGhlIHJlZ2lvblxuICAgICAgICAgICAgLy8gd2hpY2ggbmVlZHMgdG8gYmUgZHJhd24/XG4gICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0RETUFML2RpdmEuanMvaXNzdWVzLzM1OFxuICAgICAgICAgICAgY29uc3Qgc2NhbGVSYXRpbyA9IE1hdGgucG93KDIsIGhpZ2hlc3Rab29tTGV2ZWwgLSBsZXZlbC56b29tTGV2ZWwpO1xuXG4gICAgICAgICAgICBhZGRpdGlvbmFsVGlsZXMgPSBhZGRpdGlvbmFsVGlsZXMuZmlsdGVyKHRpbGUgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBpc05lZWRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaGlnaFJlc1JvdyA9IHRpbGUucm93ICogc2NhbGVSYXRpbztcbiAgICAgICAgICAgICAgICBjb25zdCBoaWdoUmVzQ29sID0gdGlsZS5jb2wgKiBzY2FsZVJhdGlvO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgc2NhbGVSYXRpbzsgaSsrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaj0wOyBqIDwgc2NhbGVSYXRpbzsgaisrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvdmVyZWQuaXNMb2FkZWQoaGlnaFJlc1JvdyArIGksIGhpZ2hSZXNDb2wgKyBqKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05lZWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJlZC5zZXQoaGlnaFJlc1JvdyArIGksIGhpZ2hSZXNDb2wgKyBqLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBpc05lZWRlZDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0b1JlbmRlckJ5TGV2ZWwucHVzaChhZGRpdGlvbmFsVGlsZXMpO1xuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAvLyBMZXNzLXByZWZlcnJlZCB0aWxlcyBzaG91bGQgY29tZSBmaXJzdFxuICAgICAgICB0b1JlbmRlckJ5TGV2ZWwucmV2ZXJzZSgpO1xuXG4gICAgICAgIGNvbnN0IHRpbGVzID0gW107XG5cbiAgICAgICAgdG9SZW5kZXJCeUxldmVsLmZvckVhY2goYnlMZXZlbCA9PiB7XG4gICAgICAgICAgICB0aWxlcy5wdXNoLmFwcGx5KHRpbGVzLCBieUxldmVsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRpbGVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgY29tcG9zaXRlIGltYWdlIHRvIHRha2UgaW50byBhY2NvdW50IGFsbCB0aGUgVVJMc1xuICAgICAqIGxvYWRlZCBpbiBhbiBpbWFnZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYWNoZSB7SW1hZ2VDYWNoZX1cbiAgICAgKi9cbiAgICB1cGRhdGVGcm9tQ2FjaGUgKGNhY2hlKVxuICAgIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX2xldmVscy5mb3JFYWNoKCAobGV2ZWwpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlZCA9IHRoaXMuX2xvYWRlZEJ5TGV2ZWxbbGV2ZWwuem9vbUxldmVsXTtcblxuICAgICAgICAgICAgbGV2ZWwudGlsZXMuZm9yRWFjaCh0aWxlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGUuaGFzKHRpbGUudXJsKSlcbiAgICAgICAgICAgICAgICAgICAgbG9hZGVkLnNldCh0aWxlLnJvdywgdGlsZS5jb2wsIHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cblxuICAgIHVwZGF0ZVdpdGhMb2FkZWRVcmxzICh1cmxzKVxuICAgIHtcbiAgICAgICAgdXJscy5mb3JFYWNoKCAodXJsKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuX3VybHNUb1RpbGVzW3VybF07XG4gICAgICAgICAgICB0aGlzLl9sb2FkZWRCeUxldmVsW2VudHJ5Lnpvb21MZXZlbF0uc2V0KGVudHJ5LnJvdywgZW50cnkuY29sLCB0cnVlKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxufVxuXG4vLyBmdW5jdGlvbiBmaWxsIChjb3VudCwgdmFsdWUpXG4vLyB7XG4vLyAgICAgY29uc3QgYXJyID0gbmV3IEFycmF5KGNvdW50KTtcbi8vXG4vLyAgICAgZm9yIChsZXQgaT0wOyBpIDwgY291bnQ7IGkrKylcbi8vICAgICAgICAgYXJyW2ldID0gdmFsdWU7XG4vL1xuLy8gICAgIHJldHVybiBhcnI7XG4vLyB9XG5cbmZ1bmN0aW9uIGZpbmRJbmRleCAoYXJyYXksIHByZWRpY2F0ZSlcbntcbiAgICBjb25zdCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaV0sIGkpKVxuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xufVxuIiwiLyoqXG4gKiBUcmFuc2xhdGUgcGFnZSBsYXlvdXRzLCBhcyBnZW5lcmF0ZWQgYnkgcGFnZS1sYXlvdXRzLCBpbnRvIGFuXG4gKiBvYmplY3Qgd2hpY2ggY29tcHV0ZXMgbGF5b3V0IGluZm9ybWF0aW9uIGZvciB0aGUgZG9jdW1lbnQgYXNcbiAqIGEgd2hvbGUuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvY3VtZW50TGF5b3V0XG57XG4gICAgY29uc3RydWN0b3IgKGNvbmZpZywgem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgY29uc3QgY29tcHV0ZWRMYXlvdXQgPSBnZXRDb21wdXRlZExheW91dChjb25maWcsIHpvb21MZXZlbCk7XG5cbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gY29tcHV0ZWRMYXlvdXQuZGltZW5zaW9ucztcbiAgICAgICAgdGhpcy5wYWdlR3JvdXBzID0gY29tcHV0ZWRMYXlvdXQucGFnZUdyb3VwcztcbiAgICAgICAgdGhpcy5fcGFnZUxvb2t1cCA9IGdldFBhZ2VMb29rdXAoY29tcHV0ZWRMYXlvdXQucGFnZUdyb3Vwcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gUGFnZUluZm9cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gaW5kZXhcbiAgICAgKiBAcHJvcGVydHkge3tpbmRleCwgZGltZW5zaW9ucywgcGFnZXMsIHJlZ2lvbiwgcGFkZGluZ319IGdyb3VwXG4gICAgICogQHByb3BlcnR5IHt7aGVpZ2h0OiBudW1iZXIsIHdpZHRoOiBudW1iZXJ9fSBkaW1lbnNpb25zXG4gICAgICogQHByb3BlcnR5IHt7dG9wOiBudW1iZXIsIGxlZnQ6IG51bWJlcn19IGdyb3VwT2Zmc2V0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGFnZUluZGV4XG4gICAgICogQHJldHVybnMge1BhZ2VJbmZvfG51bGx9XG4gICAgICovXG4gICAgZ2V0UGFnZUluZm8gKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYWdlTG9va3VwW3BhZ2VJbmRleF0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRpbWVuc2lvbnMgb2YgYSBwYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUluZGV4XG4gICAgICogQHJldHVybnMge3toZWlnaHQ6IG51bWJlciwgd2lkdGg6IG51bWJlcn19XG4gICAgICovXG4gICAgZ2V0UGFnZURpbWVuc2lvbnMgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fcGFnZUxvb2t1cCB8fCAhdGhpcy5fcGFnZUxvb2t1cFtwYWdlSW5kZXhdKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgY29uc3QgcmVnaW9uID0gZ2V0UGFnZVJlZ2lvbkZyb21QYWdlSW5mbyh0aGlzLl9wYWdlTG9va3VwW3BhZ2VJbmRleF0pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWlnaHQ6IHJlZ2lvbi5ib3R0b20gLSByZWdpb24udG9wLFxuICAgICAgICAgICAgd2lkdGg6IHJlZ2lvbi5yaWdodCAtIHJlZ2lvbi5sZWZ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gVE9ETyh3YWJhaW4pOiBHZXQgcmlkIG9mIHRoaXM7IGl0J3MgYSBzdWJzZXQgb2YgdGhlIHBhZ2UgcmVnaW9uLCBzb1xuICAgIC8vIGdpdmUgdGhhdCBpbnN0ZWFkXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0b3AtbGVmdCBjb29yZGluYXRlcyBvZiBhIHBhZ2UsIGluY2x1ZGluZyoqKiBwYWRkaW5nXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUluZGV4XG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7e3RvcDogbnVtYmVyLCBsZWZ0OiBudW1iZXJ9IHwgbnVsbH1cbiAgICAgKi9cbiAgICBnZXRQYWdlT2Zmc2V0IChwYWdlSW5kZXgsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCByZWdpb24gPSB0aGlzLmdldFBhZ2VSZWdpb24ocGFnZUluZGV4LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAoIXJlZ2lvbilcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3A6IHJlZ2lvbi50b3AsXG4gICAgICAgICAgICBsZWZ0OiByZWdpb24ubGVmdFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFBhZ2VSZWdpb24gKHBhZ2VJbmRleCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2VJbmZvID0gdGhpcy5fcGFnZUxvb2t1cFtwYWdlSW5kZXhdO1xuXG4gICAgICAgIGlmICghcGFnZUluZm8pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCByZWdpb24gPSBnZXRQYWdlUmVnaW9uRnJvbVBhZ2VJbmZvKHBhZ2VJbmZvKTtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHBhZ2VJbmZvLmdyb3VwLnBhZGRpbmc7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pbmNsdWRlUGFkZGluZylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3A6IHJlZ2lvbi50b3AgKyBwYWRkaW5nLnRvcCxcbiAgICAgICAgICAgICAgICBsZWZ0OiByZWdpb24ubGVmdCArIHBhZGRpbmcubGVmdCxcbiAgICAgICAgICAgICAgICBib3R0b206IHJlZ2lvbi5ib3R0b20sXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHJlZ2lvbi5yaWdodFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3A6IHJlZ2lvbi50b3AsXG4gICAgICAgICAgICBsZWZ0OiByZWdpb24ubGVmdCxcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gYWNjb3VudCBmb3IgcGx1Z2luIGljb25zIGJlbG93IHRoZSBwYWdlLCBzZWUgXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vRERNQUwvZGl2YS5qcy9pc3N1ZXMvNDM2XG4gICAgICAgICAgICBib3R0b206IHJlZ2lvbi5ib3R0b20gKyBwYWRkaW5nLnRvcCwgXG4gICAgICAgICAgICByaWdodDogcmVnaW9uLnJpZ2h0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkaXN0YW5jZSBmcm9tIHRoZSB0b3AtcmlnaHQgb2YgdGhlIHBhZ2UgdG8gdGhlIGNlbnRlciBvZiB0aGVcbiAgICAgKiBzcGVjaWZpZWQgdmlld3BvcnQgcmVnaW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUluZGV4XG4gICAgICogQHBhcmFtIHZpZXdwb3J0IHt7dG9wOiBudW1iZXIsIGxlZnQ6IG51bWJlciwgYm90dG9tOiBudW1iZXIsIHJpZ2h0OiBudW1iZXJ9fVxuICAgICAqIEByZXR1cm5zIHt7eDogbnVtYmVyLCB5OiBudW1iZXJ9fVxuICAgICAqL1xuICAgIGdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0IChwYWdlSW5kZXgsIHZpZXdwb3J0KVxuICAgIHtcbiAgICAgICAgY29uc3Qgc2Nyb2xsTGVmdCA9IHZpZXdwb3J0LmxlZnQ7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRXaWR0aCA9IHZpZXdwb3J0LnJpZ2h0IC0gdmlld3BvcnQubGVmdDtcblxuICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmdldFBhZ2VPZmZzZXQocGFnZUluZGV4KTtcblxuICAgICAgICBjb25zdCB4ID0gc2Nyb2xsTGVmdCAtIG9mZnNldC5sZWZ0ICsgcGFyc2VJbnQoZWxlbWVudFdpZHRoIC8gMiwgMTApO1xuXG4gICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IHZpZXdwb3J0LnRvcDtcbiAgICAgICAgY29uc3QgZWxlbWVudEhlaWdodCA9IHZpZXdwb3J0LmJvdHRvbSAtIHZpZXdwb3J0LnRvcDtcblxuICAgICAgICBjb25zdCB5ID0gc2Nyb2xsVG9wIC0gb2Zmc2V0LnRvcCArIHBhcnNlSW50KGVsZW1lbnRIZWlnaHQgLyAyLCAxMCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRQYWdlUmVnaW9uRnJvbVBhZ2VJbmZvIChwYWdlKVxue1xuICAgIGNvbnN0IHRvcCAgICA9IHBhZ2UuZ3JvdXBPZmZzZXQudG9wICArIHBhZ2UuZ3JvdXAucmVnaW9uLnRvcDtcbiAgICBjb25zdCBib3R0b20gPSB0b3AgKyBwYWdlLmRpbWVuc2lvbnMuaGVpZ2h0O1xuICAgIGNvbnN0IGxlZnQgICA9IHBhZ2UuZ3JvdXBPZmZzZXQubGVmdCArIHBhZ2UuZ3JvdXAucmVnaW9uLmxlZnQ7XG4gICAgY29uc3QgcmlnaHQgID0gbGVmdCArIHBhZ2UuZGltZW5zaW9ucy53aWR0aDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICBib3R0b206IGJvdHRvbSxcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgcmlnaHQ6IHJpZ2h0XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFnZUxvb2t1cCAocGFnZUdyb3VwcylcbntcbiAgICBjb25zdCBwYWdlTG9va3VwID0ge307XG5cbiAgICBwYWdlR3JvdXBzLmZvckVhY2goZ3JvdXAgPT4ge1xuICAgICAgICBncm91cC5wYWdlcy5mb3JFYWNoKHBhZ2UgPT4ge1xuICAgICAgICAgICAgcGFnZUxvb2t1cFtwYWdlLmluZGV4XSA9IHtcbiAgICAgICAgICAgICAgICBpbmRleDogcGFnZS5pbmRleCxcbiAgICAgICAgICAgICAgICBncm91cDogZ3JvdXAsXG4gICAgICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZS5kaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgIGdyb3VwT2Zmc2V0OiBwYWdlLmdyb3VwT2Zmc2V0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBwYWdlTG9va3VwO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wdXRlZExheW91dCAoY29uZmlnLCB6b29tTGV2ZWwpXG57XG4gICAgY29uc3Qgc2NhbGVkTGF5b3V0cyA9IHpvb21MZXZlbCA9PT0gbnVsbCA/IGNvbmZpZy5wYWdlTGF5b3V0cyA6IGdldFNjYWxlZFBhZ2VMYXlvdXRzKGNvbmZpZywgem9vbUxldmVsKTtcblxuICAgIGNvbnN0IGRvY3VtZW50U2Vjb25kYXJ5RXh0ZW50ID0gZ2V0RXh0ZW50QWxvbmdTZWNvbmRhcnlBeGlzKGNvbmZpZywgc2NhbGVkTGF5b3V0cyk7XG5cbiAgICAvLyBUaGUgY3VycmVudCBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQgYWxvbmcgdGhlIHByaW1hcnkgYXhpc1xuICAgIGxldCBwcmltYXJ5RG9jUG9zaXRpb24gPSBjb25maWcudmVydGljYWxseU9yaWVudGVkID9cbiAgICAgICAgY29uZmlnLnBhZGRpbmcuZG9jdW1lbnQudG9wIDpcbiAgICAgICAgY29uZmlnLnBhZGRpbmcuZG9jdW1lbnQubGVmdDtcblxuICAgIGNvbnN0IHBhZ2VHcm91cHMgPSBbXTtcblxuICAgIC8vIFRPRE86IFVzZSBib3R0b20sIHJpZ2h0IGFzIHdlbGxcbiAgICBjb25zdCBwYWdlUGFkZGluZyA9IHtcbiAgICAgICAgdG9wOiBjb25maWcucGFkZGluZy5wYWdlLnRvcCxcbiAgICAgICAgbGVmdDogY29uZmlnLnBhZGRpbmcucGFnZS5sZWZ0XG4gICAgfTtcblxuICAgIHNjYWxlZExheW91dHMuZm9yRWFjaCgobGF5b3V0LCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgdG9wLCBsZWZ0O1xuXG4gICAgICAgIGlmIChjb25maWcudmVydGljYWxseU9yaWVudGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b3AgPSBwcmltYXJ5RG9jUG9zaXRpb247XG4gICAgICAgICAgICBsZWZ0ID0gKGRvY3VtZW50U2Vjb25kYXJ5RXh0ZW50IC0gbGF5b3V0LmRpbWVuc2lvbnMud2lkdGgpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvcCA9IChkb2N1bWVudFNlY29uZGFyeUV4dGVudCAtIGxheW91dC5kaW1lbnNpb25zLmhlaWdodCkgLyAyO1xuICAgICAgICAgICAgbGVmdCA9IHByaW1hcnlEb2NQb3NpdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IHtcbiAgICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgICAgYm90dG9tOiB0b3AgKyBwYWdlUGFkZGluZy50b3AgKyBsYXlvdXQuZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQ6IGxlZnQgKyBwYWdlUGFkZGluZy5sZWZ0ICsgbGF5b3V0LmRpbWVuc2lvbnMud2lkdGhcbiAgICAgICAgfTtcblxuICAgICAgICBwYWdlR3JvdXBzLnB1c2goe1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgZGltZW5zaW9uczogbGF5b3V0LmRpbWVuc2lvbnMsXG4gICAgICAgICAgICBwYWdlczogbGF5b3V0LnBhZ2VzLFxuICAgICAgICAgICAgcmVnaW9uOiByZWdpb24sXG4gICAgICAgICAgICBwYWRkaW5nOiBwYWdlUGFkZGluZ1xuICAgICAgICB9KTtcblxuICAgICAgICBwcmltYXJ5RG9jUG9zaXRpb24gPSBjb25maWcudmVydGljYWxseU9yaWVudGVkID8gcmVnaW9uLmJvdHRvbSA6IHJlZ2lvbi5yaWdodDtcbiAgICB9KTtcblxuICAgIGxldCBoZWlnaHQsIHdpZHRoO1xuXG4gICAgaWYgKGNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAge1xuICAgICAgICBoZWlnaHQgPSBwcmltYXJ5RG9jUG9zaXRpb24gKyBwYWdlUGFkZGluZy50b3A7XG4gICAgICAgIHdpZHRoID0gZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQ7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGhlaWdodCA9IGRvY3VtZW50U2Vjb25kYXJ5RXh0ZW50O1xuICAgICAgICB3aWR0aCA9IHByaW1hcnlEb2NQb3NpdGlvbiArIHBhZ2VQYWRkaW5nLmxlZnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGltZW5zaW9uczoge1xuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgfSxcbiAgICAgICAgcGFnZUdyb3VwczogcGFnZUdyb3Vwc1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFNjYWxlZFBhZ2VMYXlvdXRzIChjb25maWcsIHpvb21MZXZlbClcbntcbiAgICBjb25zdCBzY2FsZVJhdGlvID0gTWF0aC5wb3coMiwgem9vbUxldmVsIC0gY29uZmlnLm1heFpvb21MZXZlbCk7XG5cbiAgICByZXR1cm4gY29uZmlnLnBhZ2VMYXlvdXRzLm1hcChncm91cCA9PiAoe1xuICAgICAgICBkaW1lbnNpb25zOiBzY2FsZURpbWVuc2lvbnMoZ3JvdXAuZGltZW5zaW9ucywgc2NhbGVSYXRpbyksXG5cbiAgICAgICAgcGFnZXM6IGdyb3VwLnBhZ2VzLm1hcChwYWdlID0+ICh7XG4gICAgICAgICAgICBpbmRleDogcGFnZS5pbmRleCxcblxuICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICB0b3A6IE1hdGguZmxvb3IocGFnZS5ncm91cE9mZnNldC50b3AgKiBzY2FsZVJhdGlvKSxcbiAgICAgICAgICAgICAgICBsZWZ0OiBNYXRoLmZsb29yKHBhZ2UuZ3JvdXBPZmZzZXQubGVmdCAqIHNjYWxlUmF0aW8pXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBzY2FsZURpbWVuc2lvbnMocGFnZS5kaW1lbnNpb25zLCBzY2FsZVJhdGlvKVxuICAgICAgICB9KSlcbiAgICB9KSk7XG59XG5cbmZ1bmN0aW9uIHNjYWxlRGltZW5zaW9ucyAoZGltZW5zaW9ucywgc2NhbGVSYXRpbylcbntcbiAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IE1hdGguZmxvb3IoZGltZW5zaW9ucy5oZWlnaHQgKiBzY2FsZVJhdGlvKSxcbiAgICAgICAgd2lkdGg6IE1hdGguZmxvb3IoZGltZW5zaW9ucy53aWR0aCAqIHNjYWxlUmF0aW8pXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RXh0ZW50QWxvbmdTZWNvbmRhcnlBeGlzIChjb25maWcsIHNjYWxlZExheW91dHMpXG57XG4gICAgLy8gR2V0IHRoZSBleHRlbnQgb2YgdGhlIGRvY3VtZW50IGFsb25nIHRoZSBzZWNvbmRhcnkgYXhpc1xuICAgIGxldCBzZWNvbmRhcnlEaW0sIHNlY29uZGFyeVBhZGRpbmc7XG4gICAgY29uc3QgZG9jUGFkZGluZyA9IGNvbmZpZy5wYWRkaW5nLmRvY3VtZW50O1xuXG4gICAgaWYgKGNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAge1xuICAgICAgICBzZWNvbmRhcnlEaW0gPSAnd2lkdGgnO1xuICAgICAgICBzZWNvbmRhcnlQYWRkaW5nID0gZG9jUGFkZGluZy5sZWZ0ICsgZG9jUGFkZGluZy5yaWdodDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgc2Vjb25kYXJ5RGltID0gJ2hlaWdodCc7XG4gICAgICAgIHNlY29uZGFyeVBhZGRpbmcgPSBkb2NQYWRkaW5nLnRvcCArIGRvY1BhZGRpbmcuYm90dG9tO1xuICAgIH1cblxuICAgIHJldHVybiBzZWNvbmRhcnlQYWRkaW5nICsgc2NhbGVkTGF5b3V0cy5yZWR1Y2UoKG1heERpbSwgbGF5b3V0KSA9PiBNYXRoLm1heChsYXlvdXQuZGltZW5zaW9uc1tzZWNvbmRhcnlEaW1dLCBtYXhEaW0pLCAwKTtcbn1cbiIsImNvbnN0IGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnZGl2YTpJbWFnZUNhY2hlJyk7XG5cbi8qIEZJWE1FKHdhYmFpbik6IFRoZSBjYWNoaW5nIHN0cmF0ZWd5IGhlcmUgaXMgY29tcGxldGVseVxuICogYXJiaXRyYXJ5IGFuZCB0aGUgaW1wbGVtZW50YXRpb24gaXNuJ3QgZXNwZWNpYWxseSBlZmZpY2llbnQuXG4gKi9cbmNvbnN0IERFRkFVTFRfTUFYX0tFWVMgPSAxMDA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlQ2FjaGVcbntcbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgbWF4S2V5czogREVGQVVMVF9NQVhfS0VZUyB9O1xuICAgICAgICB0aGlzLm1heEtleXMgPSBvcHRpb25zLm1heEtleXMgfHwgREVGQVVMVF9NQVhfS0VZUztcblxuICAgICAgICB0aGlzLl9oZWxkID0ge307XG4gICAgICAgIHRoaXMuX3VybHMgPSB7fTtcbiAgICAgICAgdGhpcy5fbHJ1ID0gW107XG4gICAgfVxuXG4gICAgZ2V0ICh1cmwpXG4gICAge1xuICAgICAgICBjb25zdCByZWNvcmQgPSB0aGlzLl91cmxzW3VybF07XG4gICAgICAgIHJldHVybiByZWNvcmQgPyByZWNvcmQuaW1nIDogbnVsbDtcbiAgICB9XG5cbiAgICBoYXMgKHVybClcbiAgICB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX3VybHNbdXJsXTtcbiAgICB9XG5cbiAgICBwdXQgKHVybCwgaW1nKVxuICAgIHtcbiAgICAgICAgbGV0IHJlY29yZCA9IHRoaXMuX3VybHNbdXJsXTtcbiAgICAgICAgaWYgKHJlY29yZClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gRklYTUU6IERvZXMgdGhpcyBtYWtlIHNlbnNlIGZvciB0aGlzIHVzZSBjYXNlP1xuICAgICAgICAgICAgcmVjb3JkLmltZyA9IGltZztcbiAgICAgICAgICAgIHRoaXMuX3Byb21vdGUocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY29yZCA9IHtcbiAgICAgICAgICAgICAgICBpbWc6IGltZyxcbiAgICAgICAgICAgICAgICB1cmw6IHVybFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5fdXJsc1t1cmxdID0gcmVjb3JkO1xuICAgICAgICAgICAgdGhpcy5fdHJ5RXZpY3QoMSk7XG4gICAgICAgICAgICB0aGlzLl9scnUudW5zaGlmdChyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Byb21vdGUgKHJlY29yZClcbiAgICB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbHJ1LmluZGV4T2YocmVjb3JkKTtcbiAgICAgICAgdGhpcy5fbHJ1LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMuX2xydS51bnNoaWZ0KHJlY29yZCk7XG4gICAgfVxuXG4gICAgX3RyeUV2aWN0IChleHRyYUNhcGFjaXR5KVxuICAgIHtcbiAgICAgICAgY29uc3QgYWxsb3dlZEVudHJ5Q291bnQgPSB0aGlzLm1heEtleXMgLSBleHRyYUNhcGFjaXR5O1xuXG4gICAgICAgIGlmICh0aGlzLl9scnUubGVuZ3RoIDw9IGFsbG93ZWRFbnRyeUNvdW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGxldCBldmljdGlvbkluZGV4ID0gdGhpcy5fbHJ1Lmxlbmd0aCAtIDE7XG5cbiAgICAgICAgZm9yICg7OylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fbHJ1W2V2aWN0aW9uSW5kZXhdO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2hlbGRbdGFyZ2V0LnVybF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ0V2aWN0aW5nIGltYWdlICVzJywgdGFyZ2V0LnVybCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbHJ1LnNwbGljZShldmljdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fdXJsc1t0YXJnZXQudXJsXTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9scnUubGVuZ3RoIDw9IGFsbG93ZWRFbnRyeUNvdW50KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGV2aWN0aW9uSW5kZXggPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICBkZWJ1Zy5lbmFibGVkICYmIGRlYnVnKCdDYWNoZSBvdmVyZnVsbCBieSAlcyAoYWxsIGVudHJpZXMgYXJlIGJlaW5nIGhlbGQpJyxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbHJ1Lmxlbmd0aCAtIGFsbG93ZWRFbnRyeUNvdW50KTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBldmljdGlvbkluZGV4LS07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhY3F1aXJlICh1cmwpXG4gICAge1xuICAgICAgICB0aGlzLl9oZWxkW3VybF0gPSAodGhpcy5faGVsZFt1cmxdIHx8IDApICsgMTtcbiAgICAgICAgdGhpcy5fcHJvbW90ZSh0aGlzLl91cmxzW3VybF0pO1xuICAgIH1cblxuICAgIHJlbGVhc2UgKHVybClcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5faGVsZFt1cmxdO1xuXG4gICAgICAgIGlmIChjb3VudCA+IDEpXG4gICAgICAgICAgICB0aGlzLl9oZWxkW3VybF0tLTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2hlbGRbdXJsXTtcblxuICAgICAgICB0aGlzLl90cnlFdmljdCgwKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEhhbmRsZXIgZm9yIHRoZSByZXF1ZXN0IGZvciBhbiBpbWFnZSB0aWxlXG4gKlxuICogQHBhcmFtIHVybFxuICogQHBhcmFtIGNhbGxiYWNrXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VSZXF1ZXN0SGFuZGxlclxue1xuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdXJsID0gb3B0aW9ucy51cmw7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gb3B0aW9ucy5sb2FkO1xuICAgICAgICB0aGlzLl9lcnJvckNhbGxiYWNrID0gb3B0aW9ucy5lcnJvcjtcbiAgICAgICAgdGhpcy50aW1lb3V0VGltZSA9IG9wdGlvbnMudGltZW91dFRpbWUgfHwgMDtcbiAgICAgICAgdGhpcy5fYWJvcnRlZCA9IHRoaXMuX2NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Nyb3NzT3JpZ2luID0gb3B0aW9ucy5zZXR0aW5ncy5pbWFnZUNyb3NzT3JpZ2luO1xuXG4gICAgICAgIC8vVXNlIGEgdGltZW91dCB0byBhbGxvdyB0aGUgcmVxdWVzdHMgdG8gYmUgZGVib3VuY2VkIChhcyB0aGV5IGFyZSBpbiByZW5kZXJlcilcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBJbml0aWF0ZSB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgdGhpcy5faW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlLmNyb3NzT3JpZ2luID0gdGhpcy5fY3Jvc3NPcmlnaW47XG4gICAgICAgICAgICB0aGlzLl9pbWFnZS5vbmxvYWQgPSB0aGlzLl9oYW5kbGVMb2FkLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZS5vbmVycm9yID0gdGhpcy5faGFuZGxlRXJyb3IuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IG9wdGlvbnMudXJsO1xuXG4gICAgICAgIH0sIHRoaXMudGltZW91dFRpbWUpO1xuICAgIH1cblxuICAgIGFib3J0ICgpXG4gICAge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcblxuICAgICAgICAvLyBGSVhNRVxuICAgICAgICAvLyBQZW9wbGUgb24gdGhlIEludGVybmV0IHNheSB0aGF0IGRvaW5nIHRoaXMge3tzaG91bGQvc2hvdWxkIG5vdH19IGFib3J0IHRoZSByZXF1ZXN0LiBJIGJlbGlldmVcbiAgICAgICAgLy8gaXQgY29ycmVzcG9uZHMgdG8gd2hhdCB0aGUgV0hBVFdHIEhUTUwgc3BlYyBzYXlzIHNob3VsZCBoYXBwZW4gd2hlbiB0aGUgVUFcbiAgICAgICAgLy8gdXBkYXRlcyB0aGUgaW1hZ2UgZGF0YSBpZiBzZWxlY3RlZCBzb3VyY2UgaXMgbnVsbC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gU291cmNlczpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZW1iZWRkZWQtY29udGVudC5odG1sI3RoZS1pbWctZWxlbWVudFxuICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzczOTA4ODgvZG9lcy1jaGFuZ2luZy10aGUtc3JjLWF0dHJpYnV0ZS1vZi1hbi1pbWFnZS1zdG9wLXRoZS1pbWFnZS1mcm9tLWRvd25sb2FkaW5nXG4gICAgICAgIGlmICh0aGlzLl9pbWFnZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faW1hZ2Uub25sb2FkID0gdGhpcy5faW1hZ2Uub25lcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWJvcnRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgX2hhbmRsZUxvYWQgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hYm9ydGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbWFnZVJlcXVlc3RIYW5kbGVyIGludm9rZWQgb24gY2FuY2VsbGVkIHJlcXVlc3QgZm9yICcgKyB0aGlzLl91cmwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbXBsZXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbWFnZVJlcXVlc3RIYW5kbGVyIGludm9rZWQgb24gY29tcGxldGVkIHJlcXVlc3QgZm9yICcgKyB0aGlzLl91cmwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY29tcGxldGUgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrKHRoaXMuX2ltYWdlKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlRXJyb3IgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2Vycm9yQ2FsbGJhY2sodGhpcy5faW1hZ2UpO1xuICAgIH1cbn1cbiIsIi8vIFRPRE86IHJlcXVlc3RBbmltYXRpb25GcmFtZSBmYWxsYmFja1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgYW5pbWF0ZSxcbiAgICBlYXNpbmc6IHtcbiAgICAgICAgbGluZWFyOiBsaW5lYXJFYXNpbmcsXG4gICAgICAgIGN1YmljOiBpbk91dEN1YmljRWFzaW5nXG4gICAgfVxufTtcblxubGV0IG5vdztcblxuaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgcGVyZm9ybWFuY2Uubm93KVxue1xuICAgIG5vdyA9ICgpID0+IHsgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpOyB9O1xufVxuZWxzZVxue1xuICAgIG5vdyA9ICgpID0+IHsgcmV0dXJuIERhdGUubm93KCk7IH07XG59XG5cblxuZnVuY3Rpb24gYW5pbWF0ZSAob3B0aW9ucylcbntcbiAgICBjb25zdCBkdXJhdGlvbk1zID0gb3B0aW9ucy5kdXJhdGlvbjtcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0gb3B0aW9ucy5wYXJhbWV0ZXJzO1xuICAgIGNvbnN0IG9uVXBkYXRlID0gb3B0aW9ucy5vblVwZGF0ZTtcbiAgICBjb25zdCBvbkVuZCA9IG9wdGlvbnMub25FbmQ7XG5cbiAgICAvLyBTZXR1cFxuICAgIC8vIFRpbWVzIGFyZSBpbiBtaWxsaXNlY29uZHMgZnJvbSBhIGJhc2ljYWxseSBhcmJpdHJhcnkgc3RhcnRcbiAgICBjb25zdCBzdGFydCA9IG5vdygpO1xuICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgZHVyYXRpb25NcztcblxuICAgIGNvbnN0IHR3ZWVuRm5zID0ge307XG4gICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgY29uc3QgcGFyYW1LZXlzID0gT2JqZWN0LmtleXMocGFyYW1ldGVycyk7XG5cbiAgICBwYXJhbUtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBjb25zdCBjb25maWcgPSBwYXJhbWV0ZXJzW2tleV07XG4gICAgICAgIHR3ZWVuRm5zW2tleV0gPSBpbnRlcnBvbGF0ZShjb25maWcuZnJvbSwgY29uZmlnLnRvLCBjb25maWcuZWFzaW5nIHx8IGluT3V0Q3ViaWNFYXNpbmcpO1xuICAgIH0pO1xuXG4gICAgLy8gUnVuIGl0IVxuICAgIGxldCByZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNhbmNlbCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0SWQgIT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVxdWVzdElkKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVBbmltYXRpb25Db21wbGV0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJydXB0ZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IG5vdygpO1xuICAgICAgICBjb25zdCBlbGFwc2VkID0gTWF0aC5taW4oKGN1cnJlbnQgLSBzdGFydCkgLyBkdXJhdGlvbk1zLCAxKTtcblxuICAgICAgICB1cGRhdGVWYWx1ZXMoZWxhcHNlZCk7XG4gICAgICAgIG9uVXBkYXRlKHZhbHVlcyk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgPCBlbmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlQW5pbWF0aW9uQ29tcGxldGlvbih7XG4gICAgICAgICAgICAgICAgaW50ZXJydXB0ZWQ6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVZhbHVlcyhlbGFwc2VkKVxuICAgIHtcbiAgICAgICAgcGFyYW1LZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIHZhbHVlc1trZXldID0gdHdlZW5GbnNba2V5XShlbGFwc2VkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQW5pbWF0aW9uQ29tcGxldGlvbihpbmZvKVxuICAgIHtcbiAgICAgICAgcmVxdWVzdElkID0gbnVsbDtcblxuICAgICAgICBpZiAob25FbmQpXG4gICAgICAgICAgICBvbkVuZChpbmZvKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGludGVycG9sYXRlKHN0YXJ0LCBlbmQsIGVhc2luZylcbntcbiAgICByZXR1cm4gKGVsYXBzZWQpID0+IHsgcmV0dXJuIHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIGVhc2luZyhlbGFwc2VkKTsgfTtcbn1cblxuLyoqXG4gKiBFYXNpbmcgZnVuY3Rpb25zLiBpbk91dEN1YmljRWFzaW5nIGlzIHRoZSBkZWZhdWx0LCBidXRcbiAqIG90aGVycyBhcmUgZ2l2ZW4gZm9yIGNvbnZlbmllbmNlLlxuICpcbiAqKi9cbmZ1bmN0aW9uIGxpbmVhckVhc2luZyhlKVxue1xuICAgIHJldHVybiBlO1xufVxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5mdW5jdGlvbiBpbk91dFF1YWRFYXNpbmcgKGUpXG57XG4gICAgcmV0dXJuIGUgPCAuNSA/IDIgKiBlICogZSA6IC0xKyg0LTIgKiBlKSAqIGVcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cblxuZnVuY3Rpb24gaW5PdXRDdWJpY0Vhc2luZyAodClcbntcbiAgICByZXR1cm4gdCA8IDAuNSA/IDQgKiB0ICogdCAqIHQgOiAoIHQgLSAxICkgKiAoIDIgKiB0IC0gMiApICogKCAyICogdCAtIDIgKSArIDE7XG59XG4iLCJpbXBvcnQgeyBlbHQsIHNldEF0dHJpYnV0ZXMgfSBmcm9tICcuL3V0aWxzL2VsdCc7XG5pbXBvcnQgQ29tcG9zaXRlSW1hZ2UgZnJvbSAnLi9jb21wb3NpdGUtaW1hZ2UnO1xuaW1wb3J0IERvY3VtZW50TGF5b3V0IGZyb20gJy4vZG9jdW1lbnQtbGF5b3V0JztcbmltcG9ydCBJbWFnZUNhY2hlIGZyb20gJy4vaW1hZ2UtY2FjaGUnO1xuaW1wb3J0IEltYWdlUmVxdWVzdEhhbmRsZXIgZnJvbSAnLi9pbWFnZS1yZXF1ZXN0LWhhbmRsZXInO1xuaW1wb3J0IEludGVycG9sYXRlQW5pbWF0aW9uIGZyb20gJy4vaW50ZXJwb2xhdGUtYW5pbWF0aW9uJztcblxuY29uc3QgUkVRVUVTVF9ERUJPVU5DRV9JTlRFUlZBTCA9IDI1MDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyZXJcbntcbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucywgaG9va3MpXG4gICAge1xuICAgICAgICB0aGlzLl92aWV3cG9ydCA9IG9wdGlvbnMudmlld3BvcnQ7XG4gICAgICAgIHRoaXMuX291dGVyRWxlbWVudCA9IG9wdGlvbnMub3V0ZXJFbGVtZW50O1xuICAgICAgICB0aGlzLl9kb2N1bWVudEVsZW1lbnQgPSBvcHRpb25zLmlubmVyRWxlbWVudDtcbiAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSBvcHRpb25zLnNldHRpbmdzO1xuXG4gICAgICAgIHRoaXMuX2hvb2tzID0gaG9va3MgfHwge307XG5cbiAgICAgICAgdGhpcy5fY2FudmFzID0gZWx0KCdjYW52YXMnLCB7IGNsYXNzOiAnZGl2YS12aWV3ZXItY2FudmFzJyB9KTtcbiAgICAgICAgdGhpcy5fY3R4ID0gdGhpcy5fY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgdGhpcy5sYXlvdXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3NvdXJjZVJlc29sdmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3pvb21MZXZlbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NvbXBvc2l0ZUltYWdlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkVGlsZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9hbmltYXRpb24gPSBudWxsO1xuXG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IFdoYXQgbGV2ZWwgc2hvdWxkIHRoaXMgYmUgbWFpbnRhaW5lZCBhdD9cbiAgICAgICAgLy8gRGl2YSBnbG9iYWw/XG4gICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IEltYWdlQ2FjaGUoKTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcXVlc3RzID0ge307XG4gICAgfVxuXG4gICAgc3RhdGljIGdldENvbXBhdGliaWxpdHlFcnJvcnMgKClcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAnWW91ciBicm93c2VyIGxhY2tzIHN1cHBvcnQgZm9yIHRoZSAnLCBlbHQoJ3ByZScsICdjYW52YXMnKSxcbiAgICAgICAgICAgICcgZWxlbWVudC4gUGxlYXNlIHVwZ3JhZGUgeW91ciBicm93c2VyLidcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBsb2FkIChjb25maWcsIHZpZXdwb3J0UG9zaXRpb24sIHNvdXJjZVJlc29sdmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2xlYXJBbmltYXRpb24oKTtcblxuICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3V2lsbExvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2hvb2tzLm9uVmlld1dpbGxMb2FkKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zb3VyY2VSZXNvbHZlciA9IHNvdXJjZVJlc29sdmVyO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMuX2NvbXBvc2l0ZUltYWdlcyA9IHt9O1xuICAgICAgICB0aGlzLl9zZXRMYXlvdXRUb1pvb21MZXZlbCh2aWV3cG9ydFBvc2l0aW9uLnpvb21MZXZlbCk7XG5cbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogUmVtb3ZlIHRoaXMgd2hlbiB0aGVyZSdzIG1vcmUgY29uZmlkZW5jZSB0aGUgY2hlY2sgc2hvdWxkbid0IGJlIG5lZWRlZFxuICAgICAgICBpZiAoIXRoaXMubGF5b3V0LmdldFBhZ2VJbmZvKHZpZXdwb3J0UG9zaXRpb24uYW5jaG9yUGFnZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBwYWdlOiAnICsgdmlld3BvcnRQb3NpdGlvbi5hbmNob3JQYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jYW52YXMud2lkdGggIT09IHRoaXMuX3ZpZXdwb3J0LndpZHRoIHx8IHRoaXMuX2NhbnZhcy5oZWlnaHQgIT09IHRoaXMuX3ZpZXdwb3J0LmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzLndpZHRoID0gdGhpcy5fdmlld3BvcnQud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMuaGVpZ2h0ID0gdGhpcy5fdmlld3BvcnQuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRklYTUU6IFdoYXQgaG9va3Mgc2hvdWxkIGJlIGNhbGxlZCBoZXJlP1xuICAgICAgICB0aGlzLmdvdG8odmlld3BvcnRQb3NpdGlvbi5hbmNob3JQYWdlLCB2aWV3cG9ydFBvc2l0aW9uLnZlcnRpY2FsT2Zmc2V0LCB2aWV3cG9ydFBvc2l0aW9uLmhvcml6b250YWxPZmZzZXQpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jYW52YXMucGFyZW50Tm9kZSAhPT0gdGhpcy5fb3V0ZXJFbGVtZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vdXRlckVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMuX2NhbnZhcywgdGhpcy5fb3V0ZXJFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hvb2tzLm9uVmlld0RpZExvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2hvb2tzLm9uVmlld0RpZExvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9zZXRWaWV3cG9ydFBvc2l0aW9uICh2aWV3cG9ydFBvc2l0aW9uKVxuICAgIHtcbiAgICAgICAgaWYgKHZpZXdwb3J0UG9zaXRpb24uem9vbUxldmVsICE9PSB0aGlzLl96b29tTGV2ZWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl96b29tTGV2ZWwgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGN1cnJlbnQgdmlldyBpcyBub3Qgem9vbWFibGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZpZXdwb3J0UG9zaXRpb24uem9vbUxldmVsID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjdXJyZW50IHZpZXcgcmVxdWlyZXMgYSB6b29tIGxldmVsJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NldExheW91dFRvWm9vbUxldmVsKHZpZXdwb3J0UG9zaXRpb24uem9vbUxldmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2dvdG8odmlld3BvcnRQb3NpdGlvbi5hbmNob3JQYWdlLCB2aWV3cG9ydFBvc2l0aW9uLnZlcnRpY2FsT2Zmc2V0LCB2aWV3cG9ydFBvc2l0aW9uLmhvcml6b250YWxPZmZzZXQpO1xuICAgIH1cblxuICAgIF9zZXRMYXlvdXRUb1pvb21MZXZlbCAoem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgdGhpcy5sYXlvdXQgPSBuZXcgRG9jdW1lbnRMYXlvdXQodGhpcy5fY29uZmlnLCB6b29tTGV2ZWwpO1xuICAgICAgICB0aGlzLl96b29tTGV2ZWwgPSB6b29tTGV2ZWw7XG5cbiAgICAgICAgc2V0QXR0cmlidXRlcyh0aGlzLl9kb2N1bWVudEVsZW1lbnQsIHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmxheW91dC5kaW1lbnNpb25zLmhlaWdodCArICdweCcsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMubGF5b3V0LmRpbWVuc2lvbnMud2lkdGggKyAncHgnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0LnNldElubmVyRGltZW5zaW9ucyh0aGlzLmxheW91dC5kaW1lbnNpb25zKTtcbiAgICB9XG5cbiAgICBhZGp1c3QgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2NsZWFyQW5pbWF0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hvb2tzLm9uVmlld0RpZFVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlKHRoaXMuX3JlbmRlcmVkUGFnZXMuc2xpY2UoKSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVuZGVyICgpXG4gICAge1xuICAgICAgICBjb25zdCBuZXdSZW5kZXJlZFBhZ2VzID0gW107XG4gICAgICAgIHRoaXMubGF5b3V0LnBhZ2VHcm91cHMuZm9yRWFjaCgoZ3JvdXApID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdmlld3BvcnQuaW50ZXJzZWN0c1JlZ2lvbihncm91cC5yZWdpb24pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZVBhZ2VzID0gZ3JvdXAucGFnZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChwYWdlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNQYWdlVmlzaWJsZShwYWdlLmluZGV4KTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKVxuICAgICAgICAgICAgICAgIC5tYXAocGFnZSA9PiBwYWdlLmluZGV4KTtcblxuICAgICAgICAgICAgbmV3UmVuZGVyZWRQYWdlcy5wdXNoLmFwcGx5KG5ld1JlbmRlcmVkUGFnZXMsIHZpc2libGVQYWdlcyk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5fY2FudmFzLndpZHRoLCB0aGlzLl9jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5fcGFpbnRPdXRsaW5lKG5ld1JlbmRlcmVkUGFnZXMpO1xuXG4gICAgICAgIG5ld1JlbmRlcmVkUGFnZXMuZm9yRWFjaCgocGFnZUluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NvbXBvc2l0ZUltYWdlc1twYWdlSW5kZXhdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSB0aGlzLmxheW91dC5nZXRQYWdlSW5mbyhwYWdlSW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHpvb21MZXZlbHMgPSB0aGlzLl9zb3VyY2VSZXNvbHZlci5nZXRBbGxab29tTGV2ZWxzRm9yUGFnZShwYWdlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wb3NpdGUgPSBuZXcgQ29tcG9zaXRlSW1hZ2Uoem9vbUxldmVscyk7XG4gICAgICAgICAgICAgICAgY29tcG9zaXRlLnVwZGF0ZUZyb21DYWNoZSh0aGlzLl9jYWNoZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcG9zaXRlSW1hZ2VzW3BhZ2VJbmRleF0gPSBjb21wb3NpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2luaXRpYXRlVGlsZVJlcXVlc3RzKG5ld1JlbmRlcmVkUGFnZXMpO1xuXG4gICAgICAgIGNvbnN0IGNoYW5nZXMgPSBmaW5kQ2hhbmdlcyh0aGlzLl9yZW5kZXJlZFBhZ2VzIHx8IFtdLCBuZXdSZW5kZXJlZFBhZ2VzKTtcblxuICAgICAgICBjaGFuZ2VzLnJlbW92ZWQuZm9yRWFjaCgocGFnZUluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fY29tcG9zaXRlSW1hZ2VzW3BhZ2VJbmRleF07XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkUGFnZXMgPSBuZXdSZW5kZXJlZFBhZ2VzO1xuICAgICAgICB0aGlzLl9wYWludCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ob29rcy5vblBhZ2VXaWxsTG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgY2hhbmdlcy5hZGRlZC5mb3JFYWNoKChwYWdlSW5kZXgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5faG9va3Mub25QYWdlV2lsbExvYWQocGFnZUluZGV4KTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3BhaW50ICgpXG4gICAge1xuICAgICAgICBjb25zdCByZW5kZXJlZFRpbGVzID0gW107XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcy5mb3JFYWNoKCAocGFnZUluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XS5nZXRUaWxlcyh0aGlzLl96b29tTGV2ZWwpLmZvckVhY2goKHNvdXJjZSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZWQgPSBnZXRTY2FsZWRUaWxlUmVjb3JkKHNvdXJjZSwgdGhpcy5fem9vbUxldmVsKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1RpbGVWaXNpYmxlKHBhZ2VJbmRleCwgc2NhbGVkKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkVGlsZXMucHVzaChzb3VyY2UudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhd1RpbGUocGFnZUluZGV4LCBzY2FsZWQsIHRoaXMuX2NhY2hlLmdldChzb3VyY2UudXJsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fY2FjaGU7XG5cbiAgICAgICAgY29uc3QgY2hhbmdlcyA9IGZpbmRDaGFuZ2VzKHRoaXMuX3JlbmRlcmVkVGlsZXMgfHwgW10sIHJlbmRlcmVkVGlsZXMpO1xuXG4gICAgICAgIGNoYW5nZXMuYWRkZWQuZm9yRWFjaCh1cmwgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY2FjaGUuYWNxdWlyZSh1cmwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjaGFuZ2VzLnJlbW92ZWQuZm9yRWFjaCh1cmwgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY2FjaGUucmVsZWFzZSh1cmwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoY2hhbmdlcy5yZW1vdmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBGSVhNRTogU2hvdWxkIG9ubHkgbmVlZCB0byB1cGRhdGUgdGhlIGNvbXBvc2l0ZSBpbWFnZXNcbiAgICAgICAgICAgIC8vIGZvciB3aGljaCB0aWxlcyB3ZXJlIHJlbW92ZWRcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkUGFnZXMuZm9yRWFjaCgocGFnZUluZGV4KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBvc2l0ZUltYWdlc1twYWdlSW5kZXhdLnVwZGF0ZUZyb21DYWNoZSh0aGlzLl9jYWNoZSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkVGlsZXMgPSByZW5kZXJlZFRpbGVzO1xuICAgIH1cblxuICAgIC8vIFBhaW50IGEgcGFnZSBvdXRsaW5lIHdoaWxlIHRoZSB0aWxlcyBhcmUgbG9hZGluZy5cbiAgICBfcGFpbnRPdXRsaW5lIChwYWdlcylcbiAgICB7XG4gICAgICAgIHBhZ2VzLmZvckVhY2goIChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwYWdlSW5mbyA9IHRoaXMubGF5b3V0LmdldFBhZ2VJbmZvKHBhZ2VJbmRleCk7XG4gICAgICAgICAgICBsZXQgcGFnZU9mZnNldCA9IHRoaXMuX2dldEltYWdlT2Zmc2V0KHBhZ2VJbmRleCk7XG5cbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgZG9jdW1lbnQgaXMgZHJhd24gdG8gdGhlIGNlbnRlciBvZiB0aGUgdmlld3BvcnRcbiAgICAgICAgICAgIGxldCB2aWV3cG9ydFBhZGRpbmdYID0gTWF0aC5tYXgoMCwgKHRoaXMuX3ZpZXdwb3J0LndpZHRoIC0gdGhpcy5sYXlvdXQuZGltZW5zaW9ucy53aWR0aCkgLyAyKTtcbiAgICAgICAgICAgIGxldCB2aWV3cG9ydFBhZGRpbmdZID0gTWF0aC5tYXgoMCwgKHRoaXMuX3ZpZXdwb3J0LmhlaWdodCAtIHRoaXMubGF5b3V0LmRpbWVuc2lvbnMuaGVpZ2h0KSAvIDIpO1xuXG4gICAgICAgICAgICBsZXQgdmlld3BvcnRPZmZzZXRYID0gcGFnZU9mZnNldC5sZWZ0IC0gdGhpcy5fdmlld3BvcnQubGVmdCArIHZpZXdwb3J0UGFkZGluZ1g7XG4gICAgICAgICAgICBsZXQgdmlld3BvcnRPZmZzZXRZID0gcGFnZU9mZnNldC50b3AgLSB0aGlzLl92aWV3cG9ydC50b3AgKyB2aWV3cG9ydFBhZGRpbmdZO1xuXG4gICAgICAgICAgICBsZXQgZGVzdFhPZmZzZXQgPSB2aWV3cG9ydE9mZnNldFggPCAwID8gLXZpZXdwb3J0T2Zmc2V0WCA6IDA7XG4gICAgICAgICAgICBsZXQgZGVzdFlPZmZzZXQgPSB2aWV3cG9ydE9mZnNldFkgPCAwID8gLXZpZXdwb3J0T2Zmc2V0WSA6IDA7XG5cbiAgICAgICAgICAgIGxldCBjYW52YXNYID0gTWF0aC5tYXgoMCwgdmlld3BvcnRPZmZzZXRYKTtcbiAgICAgICAgICAgIGxldCBjYW52YXNZID0gTWF0aC5tYXgoMCwgdmlld3BvcnRPZmZzZXRZKTtcblxuICAgICAgICAgICAgbGV0IGRlc3RXaWR0aCA9IHBhZ2VJbmZvLmRpbWVuc2lvbnMud2lkdGggLSBkZXN0WE9mZnNldDtcbiAgICAgICAgICAgIGxldCBkZXN0SGVpZ2h0ID0gcGFnZUluZm8uZGltZW5zaW9ucy5oZWlnaHQgLSBkZXN0WU9mZnNldDtcblxuICAgICAgICAgICAgdGhpcy5fY3R4LnN0cm9rZVN0eWxlID0gJyNBQUEnO1xuICAgICAgICAgICAgLy8gSW4gb3JkZXIgdG8gZ2V0IGEgMXB4IHdpZGUgbGluZSB1c2luZyBzdHJva2VzLCB3ZSBuZWVkIHRvIHN0YXJ0IGF0IGEgJ2hhbGYgcGl4ZWwnXG4gICAgICAgICAgICB0aGlzLl9jdHguc3Ryb2tlUmVjdChjYW52YXNYICsgMC41LCBjYW52YXNZICsgMC41LCBkZXN0V2lkdGgsIGRlc3RIZWlnaHQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIG1ldGhvZCBzaG91bGQgYmUgc2VudCBhbGwgdmlzaWJsZSBwYWdlcyBhdCBvbmNlIGJlY2F1c2UgaXQgd2lsbCBpbml0aWF0ZVxuICAgIC8vIGFsbCBpbWFnZSByZXF1ZXN0cyBhbmQgY2FuY2VsIGFueSByZW1haW5pbmcgaW1hZ2UgcmVxdWVzdHMuIEluIHRoZSBjYXNlIHRoYXRcbiAgICAvLyBhIHJlcXVlc3QgaXMgb25nb2luZyBhbmQgdGhlIHRpbGUgaXMgc3RpbGwgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnQsIHRoZSBvbGQgcmVxdWVzdFxuICAgIC8vIGlzIGtlcHQgYWN0aXZlIGluc3RlYWQgb2YgcmVzdGFydGluZyBpdC4gVGhlIGltYWdlIHJlcXVlc3RzIGFyZSBnaXZlbiBhIHRpbWVvdXRcbiAgICAvLyBiZWZvcmUgbG9hZGluZyBpbiBvcmRlciB0byBkZWJvdW5jZSB0aGVtIGFuZCBoYXZlIGEgc21hbGwgcmVhY3Rpb24gdGltZVxuICAgIC8vIHRvIGNhbmNlbCB0aGVtIGFuZCBhdm9pZCB1c2VsZXNzIHJlcXVlc3RzLlxuICAgIF9pbml0aWF0ZVRpbGVSZXF1ZXN0cyAocGFnZXMpXG4gICAge1xuICAgICAgICAvLyBPbmx5IHJlcXVlc3RzIGluIHRoaXMgb2JqZWN0IGFyZSBrZXB0IGFsaXZlLCBzaW5jZSBhbGwgb3RoZXJzIGFyZSBub3QgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgY29uc3QgbmV3UGVuZGluZ1JlcXVlc3RzID0ge307XG5cbiAgICAgICAgLy8gVXNlZCBsYXRlciBhcyBhIGNsb3N1cmUgdG8gaW5pdGlhdGUgdGhlIGltYWdlIHJlcXVlc3RzIHdpdGggdGhlIHJpZ2h0IHNvdXJjZSBhbmQgcGFnZUluZGV4XG4gICAgICAgIGNvbnN0IGluaXRpYXRlUmVxdWVzdCA9IChzb3VyY2UsIHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY29tcG9zaXRlID0gdGhpcy5fY29tcG9zaXRlSW1hZ2VzW3BhZ2VJbmRleF07XG5cbiAgICAgICAgICAgIG5ld1BlbmRpbmdSZXF1ZXN0c1tzb3VyY2UudXJsXSA9IG5ldyBJbWFnZVJlcXVlc3RIYW5kbGVyKHtcbiAgICAgICAgICAgICAgICB1cmw6IHNvdXJjZS51cmwsXG4gICAgICAgICAgICAgICAgdGltZW91dFRpbWU6IFJFUVVFU1RfREVCT1VOQ0VfSU5URVJWQUwsXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHRoaXMuX3NldHRpbmdzLFxuICAgICAgICAgICAgICAgIGxvYWQ6IGltZyA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tzb3VyY2UudXJsXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGUucHV0KHNvdXJjZS51cmwsIGltZyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQXdrd2FyZCB3YXkgdG8gY2hlY2sgZm9yIHVwZGF0ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvc2l0ZSA9PT0gdGhpcy5fY29tcG9zaXRlSW1hZ2VzW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvc2l0ZS51cGRhdGVXaXRoTG9hZGVkVXJscyhbc291cmNlLnVybF0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNUaWxlRm9yU291cmNlVmlzaWJsZShwYWdlSW5kZXgsIHNvdXJjZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFpbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1RpbGVGb3JTb3VyY2VWaXNpYmxlKHBhZ2VJbmRleCwgc291cmNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYWludCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IENvdWxkIG1ha2UgYSBsaW1pdGVkIG51bWJlciBvZiByZXRyaWVzLCBldGMuXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gcGFnZXNbaV07XG4gICAgICAgICAgICBjb25zdCB0aWxlcyA9IHRoaXMuX3NvdXJjZVJlc29sdmVyLmdldEJlc3Rab29tTGV2ZWxGb3JQYWdlKHRoaXMubGF5b3V0LmdldFBhZ2VJbmZvKHBhZ2VJbmRleCkpLnRpbGVzO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRpbGVzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IHRpbGVzW2pdO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZS5oYXMoc291cmNlLnVybCkgfHwgIXRoaXMuX2lzVGlsZUZvclNvdXJjZVZpc2libGUocGFnZUluZGV4LCBzb3VyY2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgY3JlYXRlIGEgbmV3IHJlcXVlc3QgaWYgdGhlIHRpbGUgaXMgYWxyZWFkeSBiZWluZyBsb2FkZWRcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1JlcXVlc3RzW3NvdXJjZS51cmxdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGVuZGluZ1JlcXVlc3RzW3NvdXJjZS51cmxdID0gdGhpcy5fcGVuZGluZ1JlcXVlc3RzW3NvdXJjZS51cmxdO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1JlcXVlc3RzW3NvdXJjZS51cmxdO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBVc2UgYSBjbG9zdXJlIHNpbmNlIHRoZSBsb2FkIGFuZCBlcnJvciBtZXRob2RzIGFyZSBnb2luZyB0byBiZSBjYWxsZWQgbGF0ZXIgYW5kXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBrZWVwIHRoZSByaWdodCByZWZlcmVuY2UgdG8gdGhlIHNvdXJjZSBhbmQgdGhlIHBhZ2UgaW5kZXhcbiAgICAgICAgICAgICAgICBpbml0aWF0ZVJlcXVlc3Qoc291cmNlLCBwYWdlSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCB1cmwgaW4gdGhpcy5fcGVuZGluZ1JlcXVlc3RzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbdXJsXS5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BlbmRpbmdSZXF1ZXN0cyA9IG5ld1BlbmRpbmdSZXF1ZXN0cztcbiAgICB9XG5cbiAgICBfZHJhd1RpbGUgKHBhZ2VJbmRleCwgc2NhbGVkVGlsZSwgaW1nKVxuICAgIHtcbiAgICAgICAgbGV0IHRpbGVPZmZzZXQgPSB0aGlzLl9nZXRUaWxlVG9Eb2N1bWVudE9mZnNldChwYWdlSW5kZXgsIHNjYWxlZFRpbGUpO1xuXG4gICAgICAgIC8vIEVuc3VyZSB0aGUgZG9jdW1lbnQgaXMgZHJhd24gdG8gdGhlIGNlbnRlciBvZiB0aGUgdmlld3BvcnRcbiAgICAgICAgbGV0IHZpZXdwb3J0UGFkZGluZ1ggPSBNYXRoLm1heCgwLCAodGhpcy5fdmlld3BvcnQud2lkdGggLSB0aGlzLmxheW91dC5kaW1lbnNpb25zLndpZHRoKSAvIDIpO1xuICAgICAgICBsZXQgdmlld3BvcnRQYWRkaW5nWSA9IE1hdGgubWF4KDAsICh0aGlzLl92aWV3cG9ydC5oZWlnaHQgLSB0aGlzLmxheW91dC5kaW1lbnNpb25zLmhlaWdodCkgLyAyKTtcblxuICAgICAgICBsZXQgdmlld3BvcnRPZmZzZXRYID0gdGlsZU9mZnNldC5sZWZ0IC0gdGhpcy5fdmlld3BvcnQubGVmdCArIHZpZXdwb3J0UGFkZGluZ1g7XG4gICAgICAgIGxldCB2aWV3cG9ydE9mZnNldFkgPSB0aWxlT2Zmc2V0LnRvcCAtIHRoaXMuX3ZpZXdwb3J0LnRvcCArIHZpZXdwb3J0UGFkZGluZ1k7XG5cbiAgICAgICAgbGV0IGRlc3RYT2Zmc2V0ID0gdmlld3BvcnRPZmZzZXRYIDwgMCA/IC12aWV3cG9ydE9mZnNldFggOiAwO1xuICAgICAgICBsZXQgZGVzdFlPZmZzZXQgPSB2aWV3cG9ydE9mZnNldFkgPCAwID8gLXZpZXdwb3J0T2Zmc2V0WSA6IDA7XG5cbiAgICAgICAgbGV0IGNhbnZhc1ggPSBNYXRoLm1heCgwLCB2aWV3cG9ydE9mZnNldFgpO1xuICAgICAgICBsZXQgY2FudmFzWSA9IE1hdGgubWF4KDAsIHZpZXdwb3J0T2Zmc2V0WSk7XG5cbiAgICAgICAgbGV0IHNvdXJjZVhPZmZzZXQgPSBkZXN0WE9mZnNldCAvIHNjYWxlZFRpbGUuc2NhbGVSYXRpbztcbiAgICAgICAgbGV0IHNvdXJjZVlPZmZzZXQgPSBkZXN0WU9mZnNldCAvIHNjYWxlZFRpbGUuc2NhbGVSYXRpbztcblxuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbnMgYXJlIG5vIGdyZWF0ZXIgdGhhbiB0aGUgYWN0dWFsXG4gICAgICAgIC8vIHNpemUgb2YgdGhlIGltYWdlLiBTYWZhcmkgd29uJ3QgZGlzcGxheSB0aGUgdGlsZSBpZiB0aGV5IGFyZS5cbiAgICAgICAgbGV0IGRlc3RJbWdXaWR0aCA9IE1hdGgubWluKHNjYWxlZFRpbGUuZGltZW5zaW9ucy53aWR0aCwgaW1nLndpZHRoICogc2NhbGVkVGlsZS5zY2FsZVJhdGlvKSAtIGRlc3RYT2Zmc2V0O1xuICAgICAgICBsZXQgZGVzdEltZ0hlaWdodCA9IE1hdGgubWluKHNjYWxlZFRpbGUuZGltZW5zaW9ucy5oZWlnaHQsIGltZy5oZWlnaHQgKiBzY2FsZWRUaWxlLnNjYWxlUmF0aW8pIC0gZGVzdFlPZmZzZXQ7XG5cbiAgICAgICAgbGV0IGRlc3RXaWR0aCA9IE1hdGgubWF4KDEsIE1hdGgucm91bmQoZGVzdEltZ1dpZHRoKSk7XG4gICAgICAgIGxldCBkZXN0SGVpZ2h0ID0gTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChkZXN0SW1nSGVpZ2h0KSk7XG5cbiAgICAgICAgbGV0IHNvdXJjZVdpZHRoID0gZGVzdFdpZHRoIC8gc2NhbGVkVGlsZS5zY2FsZVJhdGlvO1xuICAgICAgICBsZXQgc291cmNlSGVpZ2h0ID0gZGVzdEhlaWdodCAvIHNjYWxlZFRpbGUuc2NhbGVSYXRpbztcblxuICAgICAgICB0aGlzLl9jdHguZHJhd0ltYWdlKFxuICAgICAgICAgICAgaW1nLFxuICAgICAgICAgICAgc291cmNlWE9mZnNldCwgc291cmNlWU9mZnNldCxcbiAgICAgICAgICAgIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQsXG4gICAgICAgICAgICBjYW52YXNYLCBjYW52YXNZLFxuICAgICAgICAgICAgZGVzdFdpZHRoLCBkZXN0SGVpZ2h0KTtcbiAgICB9XG5cbiAgICBfaXNUaWxlRm9yU291cmNlVmlzaWJsZSAocGFnZUluZGV4LCB0aWxlU291cmNlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVGlsZVZpc2libGUocGFnZUluZGV4LCBnZXRTY2FsZWRUaWxlUmVjb3JkKHRpbGVTb3VyY2UsIHRoaXMuX3pvb21MZXZlbCkpO1xuICAgIH1cblxuICAgIF9pc1RpbGVWaXNpYmxlIChwYWdlSW5kZXgsIHNjYWxlZFRpbGUpXG4gICAge1xuICAgICAgICBjb25zdCB0aWxlT2Zmc2V0ID0gdGhpcy5fZ2V0VGlsZVRvRG9jdW1lbnRPZmZzZXQocGFnZUluZGV4LCBzY2FsZWRUaWxlKTtcblxuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBUaGlzIGNoZWNrIGlzIGluc3VmZmljaWVudCBkdXJpbmcgYSB6b29tIHRyYW5zaXRpb25cbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdwb3J0LmludGVyc2VjdHNSZWdpb24oe1xuICAgICAgICAgICAgdG9wOiB0aWxlT2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIGJvdHRvbTogdGlsZU9mZnNldC50b3AgKyBzY2FsZWRUaWxlLmRpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgbGVmdDogdGlsZU9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgcmlnaHQ6IHRpbGVPZmZzZXQubGVmdCArIHNjYWxlZFRpbGUuZGltZW5zaW9ucy53aWR0aFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfZ2V0VGlsZVRvRG9jdW1lbnRPZmZzZXQgKHBhZ2VJbmRleCwgc2NhbGVkVGlsZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGltYWdlT2Zmc2V0ID0gdGhpcy5fZ2V0SW1hZ2VPZmZzZXQocGFnZUluZGV4KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOiBpbWFnZU9mZnNldC50b3AgKyBzY2FsZWRUaWxlLm9mZnNldC50b3AsXG4gICAgICAgICAgICBsZWZ0OiBpbWFnZU9mZnNldC5sZWZ0ICsgc2NhbGVkVGlsZS5vZmZzZXQubGVmdFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9nZXRJbWFnZU9mZnNldCAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5b3V0LmdldFBhZ2VPZmZzZXQocGFnZUluZGV4LCB7aW5jbHVkZVBhZGRpbmc6IHRydWV9KTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVcGRhdGUgc2lnbmF0dXJlXG4gICAgZ290byAocGFnZUluZGV4LCB2ZXJ0aWNhbE9mZnNldCwgaG9yaXpvbnRhbE9mZnNldClcbiAgICB7XG4gICAgICAgIHRoaXMuX2NsZWFyQW5pbWF0aW9uKCk7XG4gICAgICAgIHRoaXMuX2dvdG8ocGFnZUluZGV4LCB2ZXJ0aWNhbE9mZnNldCwgaG9yaXpvbnRhbE9mZnNldCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hvb2tzLm9uVmlld0RpZFVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlKHRoaXMuX3JlbmRlcmVkUGFnZXMuc2xpY2UoKSwgcGFnZUluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nb3RvIChwYWdlSW5kZXgsIHZlcnRpY2FsT2Zmc2V0LCBob3Jpem9udGFsT2Zmc2V0KVxuICAgIHtcbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogTW92ZSB0aGlzIGxvZ2ljIHRvIHRoZSB2aWV3ZXJcbiAgICAgICAgY29uc3QgcGFnZU9mZnNldCA9IHRoaXMubGF5b3V0LmdldFBhZ2VPZmZzZXQocGFnZUluZGV4KTtcblxuICAgICAgICBjb25zdCBkZXNpcmVkVmVydGljYWxDZW50ZXIgPSBwYWdlT2Zmc2V0LnRvcCArIHZlcnRpY2FsT2Zmc2V0O1xuICAgICAgICBjb25zdCB0b3AgPSBkZXNpcmVkVmVydGljYWxDZW50ZXIgLSBNYXRoLnJvdW5kKHRoaXMuX3ZpZXdwb3J0LmhlaWdodCAvIDIpO1xuXG4gICAgICAgIGNvbnN0IGRlc2lyZWRIb3Jpem9udGFsQ2VudGVyID0gcGFnZU9mZnNldC5sZWZ0ICsgaG9yaXpvbnRhbE9mZnNldDtcbiAgICAgICAgY29uc3QgbGVmdCA9IGRlc2lyZWRIb3Jpem9udGFsQ2VudGVyIC0gTWF0aC5yb3VuZCh0aGlzLl92aWV3cG9ydC53aWR0aCAvIDIpO1xuXG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0LnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy5fdmlld3BvcnQubGVmdCA9IGxlZnQ7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfVxuXG4gICAgdHJhbnNpdGlvblZpZXdwb3J0UG9zaXRpb24gKG9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLl9jbGVhckFuaW1hdGlvbigpO1xuXG4gICAgICAgIGNvbnN0IGdldFBvc2l0aW9uID0gb3B0aW9ucy5nZXRQb3NpdGlvbjtcbiAgICAgICAgY29uc3Qgb25WaWV3RGlkVHJhbnNpdGlvbiA9IHRoaXMuX2hvb2tzLm9uVmlld0RpZFRyYW5zaXRpb247XG5cbiAgICAgICAgdGhpcy5fYW5pbWF0aW9uID0gSW50ZXJwb2xhdGVBbmltYXRpb24uYW5pbWF0ZSh7XG4gICAgICAgICAgICBkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IG9wdGlvbnMucGFyYW1ldGVycyxcbiAgICAgICAgICAgIG9uVXBkYXRlOiAodmFsdWVzKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldFZpZXdwb3J0UG9zaXRpb24oZ2V0UG9zaXRpb24odmFsdWVzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faG9va3Mub25ab29tTGV2ZWxXaWxsQ2hhbmdlKHZhbHVlcy56b29tTGV2ZWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9uVmlld0RpZFRyYW5zaXRpb24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvblZpZXdEaWRUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRW5kOiAoaW5mbykgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5vbkVuZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25FbmQoaW5mbyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2hvb2tzLm9uVmlld0RpZFVwZGF0ZSAmJiAhaW5mby5pbnRlcnJ1cHRlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hvb2tzLm9uVmlld0RpZFVwZGF0ZSh0aGlzLl9yZW5kZXJlZFBhZ2VzLnNsaWNlKCksIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NsZWFyQW5pbWF0aW9uICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYW5pbWF0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbmltYXRpb24uY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLl9hbmltYXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNQYWdlVmlzaWJsZSAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmxheW91dClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMubGF5b3V0LmdldFBhZ2VJbmZvKHBhZ2VJbmRleCk7XG5cbiAgICAgICAgaWYgKCFwYWdlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fdmlld3BvcnQuaW50ZXJzZWN0c1JlZ2lvbih0aGlzLmxheW91dC5nZXRQYWdlUmVnaW9uKHBhZ2VJbmRleCkpO1xuICAgIH1cblxuICAgIGdldFJlbmRlcmVkUGFnZXMgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlZFBhZ2VzLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2xlYXJBbmltYXRpb24oKTtcblxuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBJIGRvbid0IGtub3cgaWYgd2Ugc2hvdWxkIGFjdHVhbGx5IGRvIHRoaXNcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5fcGVuZGluZ1JlcXVlc3RzKS5mb3JFYWNoKChyZXEpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbcmVxXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbcmVxXTtcblxuICAgICAgICAgICAgaGFuZGxlci5hYm9ydCgpO1xuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9jYW52YXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9jYW52YXMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2NhbGVkVGlsZVJlY29yZCAoc291cmNlLCBzY2FsZUZhY3RvcilcbntcbiAgICBsZXQgc2NhbGVSYXRpbztcblxuICAgIGlmIChzY2FsZUZhY3RvciA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIHNjYWxlUmF0aW8gPSAxO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBzY2FsZVJhdGlvID0gTWF0aC5wb3coMiwgc2NhbGVGYWN0b3IgLSBzb3VyY2Uuem9vbUxldmVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzb3VyY2Vab29tTGV2ZWw6IHNvdXJjZS56b29tTGV2ZWwsXG4gICAgICAgIHNjYWxlUmF0aW86IHNjYWxlUmF0aW8sXG4gICAgICAgIHJvdzogc291cmNlLnJvdyxcbiAgICAgICAgY29sOiBzb3VyY2UuY29sLFxuICAgICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgICAgICB3aWR0aDogc291cmNlLmRpbWVuc2lvbnMud2lkdGggKiBzY2FsZVJhdGlvLFxuICAgICAgICAgICAgaGVpZ2h0OiBzb3VyY2UuZGltZW5zaW9ucy5oZWlnaHQgKiBzY2FsZVJhdGlvXG4gICAgICAgIH0sXG4gICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgbGVmdDogc291cmNlLm9mZnNldC5sZWZ0ICogc2NhbGVSYXRpbyxcbiAgICAgICAgICAgIHRvcDogc291cmNlLm9mZnNldC50b3AgKiBzY2FsZVJhdGlvXG4gICAgICAgIH0sXG4gICAgICAgIHVybDogc291cmNlLnVybFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGZpbmRDaGFuZ2VzIChvbGRBcnJheSwgbmV3QXJyYXkpXG57XG4gICAgaWYgKG9sZEFycmF5ID09PSBuZXdBcnJheSlcbiAgICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRlZDogW10sXG4gICAgICAgICAgICByZW1vdmVkOiBbXVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHJlbW92ZWQgPSBvbGRBcnJheS5maWx0ZXIob2xkRW50cnkgPT4gbmV3QXJyYXkuaW5kZXhPZihvbGRFbnRyeSkgPT09IC0xKTtcblxuICAgIGNvbnN0IGFkZGVkID0gbmV3QXJyYXkuZmlsdGVyKG5ld0VudHJ5ID0+IG9sZEFycmF5LmluZGV4T2YobmV3RW50cnkpID09PSAtMSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRlZDogYWRkZWQsXG4gICAgICAgIHJlbW92ZWQ6IHJlbW92ZWRcbiAgICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0UGFnZURpbWVuc2lvbnMgKHBhZ2VJbmRleCwgbWFuaWZlc3QpXG57XG4gICAgY29uc3QgZGltcyA9IG1hbmlmZXN0LmdldE1heFBhZ2VEaW1lbnNpb25zKHBhZ2VJbmRleCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogTWF0aC5mbG9vcihkaW1zLndpZHRoKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLmZsb29yKGRpbXMuaGVpZ2h0KVxuICAgIH07XG59XG4iLCJpbXBvcnQgZ2V0UGFnZURpbWVuc2lvbnMgZnJvbSAnLi9wYWdlLWRpbWVuc2lvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRCb29rTGF5b3V0R3JvdXBzICh2aWV3ZXJDb25maWcpXG57XG4gICAgY29uc3QgZ3JvdXBpbmdzID0gZ2V0R3JvdXBpbmdzKHZpZXdlckNvbmZpZyk7XG5cbiAgICByZXR1cm4gZ3JvdXBpbmdzLm1hcChncm91cGluZyA9PiBnZXRHcm91cExheW91dHNGcm9tUGFnZUdyb3VwaW5nKHZpZXdlckNvbmZpZywgZ3JvdXBpbmcpKTtcbn1cblxuZnVuY3Rpb24gZ2V0R3JvdXBpbmdzKHZpZXdlckNvbmZpZylcbntcbiAgICBjb25zdCBtYW5pZmVzdCA9IHZpZXdlckNvbmZpZy5tYW5pZmVzdDtcblxuICAgIGNvbnN0IHBhZ2VzQnlHcm91cCA9IFtdO1xuICAgIGxldCBsZWZ0UGFnZSA9IG51bGw7XG4gICAgbGV0IG5vblBhZ2VkUGFnZXMgPSBbXTsgLy8gUGFnZXMgdG8gZGlzcGxheSBiZWxvdyB0aGUgY3VycmVudCBncm91cFxuXG4gICAgY29uc3QgX2FkZE5vblBhZ2VkUGFnZXMgPSAoKSA9PlxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG5sZW4gPSBub25QYWdlZFBhZ2VzLmxlbmd0aDsgaSA8IG5sZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgcGFnZXNCeUdyb3VwLnB1c2goWyBub25QYWdlZFBhZ2VzW2ldIF0pO1xuICAgICAgICB9XG4gICAgICAgIG5vblBhZ2VkUGFnZXMgPSBbXTtcbiAgICB9O1xuXG4gICAgbWFuaWZlc3QucGFnZXMuZm9yRWFjaCggKHBhZ2UsIGluZGV4KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZVJlY29yZCA9IHtcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IGdldFBhZ2VEaW1lbnNpb25zKGluZGV4LCBtYW5pZmVzdCksXG4gICAgICAgICAgICBwYWdlZDogKCFtYW5pZmVzdC5wYWdlZCB8fCBwYWdlLnBhZ2VkKVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE9ubHkgZGlzcGxheSBub24tcGFnZWQgcGFnZXMgaWYgc3BlY2lmaWVkIGluIHRoZSBzZXR0aW5nc1xuICAgICAgICBpZiAoIXZpZXdlckNvbmZpZy5zaG93Tm9uUGFnZWRQYWdlcyAmJiAhcGFnZVJlY29yZC5wYWdlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAoIXBhZ2VSZWNvcmQucGFnZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5vblBhZ2VkUGFnZXMucHVzaChwYWdlUmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbmRleCA9PT0gMCB8fCBwYWdlLmZhY2luZ1BhZ2VzKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUaGUgZmlyc3QgcGFnZSBpcyBwbGFjZWQgb24gaXRzIG93blxuICAgICAgICAgICAgcGFnZXNCeUdyb3VwLnB1c2goW3BhZ2VSZWNvcmRdKTtcbiAgICAgICAgICAgIF9hZGROb25QYWdlZFBhZ2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGVmdFBhZ2UgPT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxlZnRQYWdlID0gcGFnZVJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VzQnlHcm91cC5wdXNoKFtsZWZ0UGFnZSwgcGFnZVJlY29yZF0pO1xuICAgICAgICAgICAgbGVmdFBhZ2UgPSBudWxsO1xuICAgICAgICAgICAgX2FkZE5vblBhZ2VkUGFnZXMoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRmx1c2ggYSBmaW5hbCBsZWZ0IHBhZ2VcbiAgICBpZiAobGVmdFBhZ2UgIT09IG51bGwpXG4gICAge1xuICAgICAgICBwYWdlc0J5R3JvdXAucHVzaChbbGVmdFBhZ2VdKTtcbiAgICAgICAgX2FkZE5vblBhZ2VkUGFnZXMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFnZXNCeUdyb3VwO1xufVxuXG5mdW5jdGlvbiBnZXRHcm91cExheW91dHNGcm9tUGFnZUdyb3VwaW5nKHZpZXdlckNvbmZpZywgZ3JvdXBpbmcpXG57XG4gICAgY29uc3QgdmVydGljYWxseU9yaWVudGVkID0gdmlld2VyQ29uZmlnLnZlcnRpY2FsbHlPcmllbnRlZDtcblxuICAgIGlmIChncm91cGluZy5sZW5ndGggPT09IDIpXG4gICAgICAgIHJldHVybiBnZXRGYWNpbmdQYWdlR3JvdXAoZ3JvdXBpbmdbMF0sIGdyb3VwaW5nWzFdLCB2ZXJ0aWNhbGx5T3JpZW50ZWQpO1xuXG4gICAgY29uc3QgcGFnZSA9IGdyb3VwaW5nWzBdO1xuICAgIGNvbnN0IHBhZ2VEaW1zID0gcGFnZS5kaW1lbnNpb25zO1xuXG4gICAgLy8gVGhlIGZpcnN0IHBhZ2UgaXMgcGxhY2VkIG9uIGl0cyBvd24gdG8gdGhlIHJpZ2h0IGluIHZlcnRpY2FsIG9yaWVudGF0aW9uLlxuICAgIC8vIE5CIHRoYXQgdGhpcyBuZWVkcyB0byBiZSB0aGUgcGFnZSB3aXRoIGluZGV4IDA7IGlmIHRoZSBmaXJzdCBwYWdlIGlzIGV4Y2x1ZGVkXG4gICAgLy8gZnJvbSB0aGUgbGF5b3V0IHRoZW4gdGhpcyBzcGVjaWFsIGNhc2Ugc2hvdWxkbid0IGFwcGx5LlxuICAgIC8vIElmIHRoZSBwYWdlIGlzIHRhZ2dlZCBhcyAnbm9uLXBhZ2VkJywgY2VudGVyIGl0IGhvcml6b250YWxseVxuICAgIGxldCBsZWZ0T2Zmc2V0O1xuICAgIGlmIChwYWdlLnBhZ2VkKVxuICAgICAgICBsZWZ0T2Zmc2V0ID0gKHBhZ2UuaW5kZXggPT09IDAgJiYgdmVydGljYWxseU9yaWVudGVkKSA/IHBhZ2VEaW1zLndpZHRoIDogMDtcbiAgICBlbHNlXG4gICAgICAgIGxlZnRPZmZzZXQgPSAodmVydGljYWxseU9yaWVudGVkKSA/IHBhZ2VEaW1zLndpZHRoIC8gMiA6IDA7XG5cbiAgICBjb25zdCBzaG91bGRCZUhvcml6b250YWxseUFkanVzdGVkID1cbiAgICAgICAgdmVydGljYWxseU9yaWVudGVkICYmICF2aWV3ZXJDb25maWcubWFuaWZlc3QucGFnZXNbcGFnZS5pbmRleF0uZmFjaW5nUGFnZXM7XG5cbiAgICAvLyBXZSBuZWVkIHRvIGxlZnQtYWxpZ24gdGhlIHBhZ2UgaW4gdmVydGljYWwgb3JpZW50YXRpb24sIHNvIHdlIGRvdWJsZVxuICAgIC8vIHRoZSBncm91cCB3aWR0aFxuICAgIHJldHVybiB7XG4gICAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgICAgIGhlaWdodDogcGFnZURpbXMuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHNob3VsZEJlSG9yaXpvbnRhbGx5QWRqdXN0ZWQgPyBwYWdlRGltcy53aWR0aCAqIDIgOiBwYWdlRGltcy53aWR0aFxuICAgICAgICB9LFxuICAgICAgICBwYWdlczogW3tcbiAgICAgICAgICAgIGluZGV4OiBwYWdlLmluZGV4LFxuICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogbGVmdE9mZnNldFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhZ2VEaW1zXG4gICAgICAgIH1dXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RmFjaW5nUGFnZUdyb3VwKGxlZnRQYWdlLCByaWdodFBhZ2UsIHZlcnRpY2FsbHlPcmllbnRlZClcbntcbiAgICBjb25zdCBsZWZ0RGltcyA9IGxlZnRQYWdlLmRpbWVuc2lvbnM7XG4gICAgY29uc3QgcmlnaHREaW1zID0gcmlnaHRQYWdlLmRpbWVuc2lvbnM7XG5cbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLm1heChsZWZ0RGltcy5oZWlnaHQsIHJpZ2h0RGltcy5oZWlnaHQpO1xuXG4gICAgbGV0IHdpZHRoLCBmaXJzdExlZnRPZmZzZXQsIHNlY29uZExlZnRPZmZzZXQ7XG5cbiAgICBpZiAodmVydGljYWxseU9yaWVudGVkKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWlkV2lkdGggPSBNYXRoLm1heChsZWZ0RGltcy53aWR0aCwgcmlnaHREaW1zLndpZHRoKTtcblxuICAgICAgICB3aWR0aCA9IG1pZFdpZHRoICogMjtcblxuICAgICAgICBmaXJzdExlZnRPZmZzZXQgPSBtaWRXaWR0aCAtIGxlZnREaW1zLndpZHRoO1xuICAgICAgICBzZWNvbmRMZWZ0T2Zmc2V0ID0gbWlkV2lkdGg7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHdpZHRoID0gbGVmdERpbXMud2lkdGggKyByaWdodERpbXMud2lkdGg7XG4gICAgICAgIGZpcnN0TGVmdE9mZnNldCA9IDA7XG4gICAgICAgIHNlY29uZExlZnRPZmZzZXQgPSBsZWZ0RGltcy53aWR0aDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICB9LFxuICAgICAgICBwYWdlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4OiBsZWZ0UGFnZS5pbmRleCxcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiBsZWZ0RGltcyxcbiAgICAgICAgICAgICAgICBncm91cE9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IGZpcnN0TGVmdE9mZnNldFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IHJpZ2h0UGFnZS5pbmRleCxcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiByaWdodERpbXMsXG4gICAgICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBzZWNvbmRMZWZ0T2Zmc2V0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfTtcbn1cbiIsIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0R3JpZExheW91dEdyb3VwcyAodmlld2VyQ29uZmlnKVxue1xuICAgIGNvbnN0IHZpZXdwb3J0V2lkdGggPSB2aWV3ZXJDb25maWcudmlld3BvcnQud2lkdGg7XG4gICAgY29uc3QgbWFuaWZlc3QgPSB2aWV3ZXJDb25maWcubWFuaWZlc3Q7XG4gICAgY29uc3QgcGFnZXNQZXJSb3cgPSB2aWV3ZXJDb25maWcucGFnZXNQZXJSb3c7XG4gICAgY29uc3QgZml4ZWRIZWlnaHRHcmlkID0gdmlld2VyQ29uZmlnLmZpeGVkSGVpZ2h0R3JpZDtcbiAgICBjb25zdCBmaXhlZFBhZGRpbmcgPSB2aWV3ZXJDb25maWcuZml4ZWRQYWRkaW5nO1xuICAgIGNvbnN0IHNob3dOb25QYWdlZFBhZ2VzID0gdmlld2VyQ29uZmlnLnNob3dOb25QYWdlZFBhZ2VzO1xuXG4gICAgY29uc3QgaG9yaXpvbnRhbFBhZGRpbmcgPSBmaXhlZFBhZGRpbmcgKiAocGFnZXNQZXJSb3cgKyAxKTtcbiAgICBjb25zdCBwYWdlV2lkdGggPSAodmlld3BvcnRXaWR0aCAtIGhvcml6b250YWxQYWRkaW5nKSAvIHBhZ2VzUGVyUm93O1xuICAgIGNvbnN0IGdyaWRQYWdlV2lkdGggPSBwYWdlV2lkdGg7XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIHJvdyBoZWlnaHQgZGVwZW5kaW5nIG9uIHdoZXRoZXIgd2Ugd2FudCB0byBmaXggdGhlIHdpZHRoIG9yIHRoZSBoZWlnaHRcbiAgICBjb25zdCByb3dIZWlnaHQgPSAoZml4ZWRIZWlnaHRHcmlkKSA/IGZpeGVkUGFkZGluZyArIG1hbmlmZXN0Lm1pblJhdGlvICogcGFnZVdpZHRoIDogZml4ZWRQYWRkaW5nICsgbWFuaWZlc3QubWF4UmF0aW8gKiBwYWdlV2lkdGg7XG5cbiAgICBjb25zdCBncm91cHMgPSBbXTtcbiAgICBsZXQgY3VycmVudFBhZ2VzID0gW107XG5cbiAgICBjb25zdCBnZXRHcmlkUGFnZURpbWVuc2lvbnMgPSBwYWdlRGF0YSA9PlxuICAgIHtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB3aWR0aCwgaGVpZ2h0IGFuZCBob3Jpem9udGFsIHBsYWNlbWVudCBvZiB0aGlzIHBhZ2VcbiAgICAgICAgLy8gR2V0IGRpbWVuc2lvbnMgYXQgbWF4IHpvb20gbGV2ZWwsIGFsdGhvdWdoIGFueSBsZXZlbCBzaG91bGQgYmUgZmluZVxuICAgICAgICBjb25zdCBwYWdlRGltZW5EYXRhID0gcGFnZURhdGEuZFtwYWdlRGF0YS5kLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBoZWlnaHRUb1dpZHRoUmF0aW8gPSBwYWdlRGltZW5EYXRhLmggLyBwYWdlRGltZW5EYXRhLnc7XG5cbiAgICAgICAgbGV0IHBhZ2VXaWR0aCwgcGFnZUhlaWdodDtcblxuICAgICAgICBpZiAoZml4ZWRIZWlnaHRHcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBwYWdlV2lkdGggPSAocm93SGVpZ2h0IC0gZml4ZWRQYWRkaW5nKSAvIGhlaWdodFRvV2lkdGhSYXRpbztcbiAgICAgICAgICAgIHBhZ2VIZWlnaHQgPSByb3dIZWlnaHQgLSBmaXhlZFBhZGRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBwYWdlV2lkdGggPSBncmlkUGFnZVdpZHRoO1xuICAgICAgICAgICAgcGFnZUhlaWdodCA9IHBhZ2VXaWR0aCAqIGhlaWdodFRvV2lkdGhSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogTWF0aC5yb3VuZChwYWdlV2lkdGgpLFxuICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKHBhZ2VIZWlnaHQpXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGNvbnN0IHJvd0RpbWVuc2lvbnMgPSB7XG4gICAgICAgIGhlaWdodDogcm93SGVpZ2h0LFxuICAgICAgICB3aWR0aDogdmlld3BvcnRXaWR0aFxuICAgIH07XG5cbiAgICBtYW5pZmVzdC5wYWdlcy5mb3JFYWNoKCAocGFnZSwgcGFnZUluZGV4KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKCFzaG93Tm9uUGFnZWRQYWdlcyAmJiBtYW5pZmVzdC5wYWdlZCAmJiAhcGFnZS5wYWdlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHdpZHRoLCBoZWlnaHQgYW5kIGhvcml6b250YWwgcGxhY2VtZW50IG9mIHRoaXMgcGFnZVxuICAgICAgICBjb25zdCBwYWdlRGltZW5zID0gZ2V0R3JpZFBhZ2VEaW1lbnNpb25zKHBhZ2UpO1xuICAgICAgICBsZXQgbGVmdE9mZnNldCA9IE1hdGguZmxvb3IoY3VycmVudFBhZ2VzLmxlbmd0aCAqIChmaXhlZFBhZGRpbmcgKyBncmlkUGFnZVdpZHRoKSArIGZpeGVkUGFkZGluZyk7XG5cbiAgICAgICAgLy8gQ2VudGVyIHRoZSBwYWdlIGlmIHRoZSBoZWlnaHQgaXMgZml4ZWQgKG90aGVyd2lzZSwgdGhlcmUgaXMgbm8gaG9yaXpvbnRhbCBwYWRkaW5nKVxuICAgICAgICBpZiAoZml4ZWRIZWlnaHRHcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZWZ0T2Zmc2V0ICs9IChncmlkUGFnZVdpZHRoIC0gcGFnZURpbWVucy53aWR0aCkgLyAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogUHJlY29tcHV0ZSBwYWdlIGRpbWVuc2lvbnMgZXZlcnl3aGVyZVxuICAgICAgICBjdXJyZW50UGFnZXMucHVzaCh7XG4gICAgICAgICAgICBpbmRleDogcGFnZUluZGV4LFxuICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZURpbWVucyxcbiAgICAgICAgICAgIGdyb3VwT2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnRPZmZzZXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlcy5sZW5ndGggPT09IHBhZ2VzUGVyUm93KVxuICAgICAgICB7XG4gICAgICAgICAgICBncm91cHMucHVzaCh7XG4gICAgICAgICAgICAgICAgZGltZW5zaW9uczogcm93RGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICBwYWdlczogY3VycmVudFBhZ2VzXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY3VycmVudFBhZ2VzID0gW107XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChjdXJyZW50UGFnZXMubGVuZ3RoID4gMClcbiAgICB7XG4gICAgICAgIGdyb3Vwcy5wdXNoKHtcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHJvd0RpbWVuc2lvbnMsXG4gICAgICAgICAgICBwYWdlczogY3VycmVudFBhZ2VzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBncm91cHM7XG59XG4iLCJpbXBvcnQgZ2V0Qm9va0xheW91dEdyb3VwcyBmcm9tICcuL2Jvb2stbGF5b3V0JztcbmltcG9ydCBnZXRTaW5nbGVzTGF5b3V0R3JvdXBzIGZyb20gJy4vc2luZ2xlcy1sYXlvdXQnO1xuaW1wb3J0IGdldEdyaWRMYXlvdXRHcm91cHMgZnJvbSAnLi9ncmlkLWxheW91dCc7XG5cbi8qKiBHZXQgdGhlIHJlbGF0aXZlIHBvc2l0aW9uaW5nIG9mIHBhZ2VzIGZvciB0aGUgY3VycmVudCB2aWV3ICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRQYWdlTGF5b3V0cyAoc2V0dGluZ3MpXG57XG4gICAgaWYgKHNldHRpbmdzLmluR3JpZClcbiAgICB7XG4gICAgICAgIHJldHVybiBnZXRHcmlkTGF5b3V0R3JvdXBzKHBsdWNrKHNldHRpbmdzLCBbXG4gICAgICAgICAgICAnbWFuaWZlc3QnLFxuICAgICAgICAgICAgJ3ZpZXdwb3J0JyxcbiAgICAgICAgICAgICdwYWdlc1BlclJvdycsXG4gICAgICAgICAgICAnZml4ZWRIZWlnaHRHcmlkJyxcbiAgICAgICAgICAgICdmaXhlZFBhZGRpbmcnLFxuICAgICAgICAgICAgJ3Nob3dOb25QYWdlZFBhZ2VzJ1xuICAgICAgICBdKSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHBsdWNrKHNldHRpbmdzLCBbJ21hbmlmZXN0JywgJ3ZlcnRpY2FsbHlPcmllbnRlZCcsICdzaG93Tm9uUGFnZWRQYWdlcyddKTtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuaW5Cb29rTGF5b3V0KVxuICAgICAgICAgICAgcmV0dXJuIGdldEJvb2tMYXlvdXRHcm91cHMoY29uZmlnKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGdldFNpbmdsZXNMYXlvdXRHcm91cHMoY29uZmlnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBsdWNrIChvYmosIGtleXMpXG57XG4gICAgY29uc3Qgb3V0ID0ge307XG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpXG4gICAge1xuICAgICAgICBvdXRba2V5XSA9IG9ialtrZXldO1xuICAgIH0pO1xuICAgIHJldHVybiBvdXQ7XG59XG4iLCJpbXBvcnQgZ2V0UGFnZURpbWVuc2lvbnMgZnJvbSAnLi9wYWdlLWRpbWVuc2lvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRTaW5nbGVzTGF5b3V0R3JvdXBzICh2aWV3ZXJDb25maWcpXG57XG4gICAgY29uc3QgbWFuaWZlc3QgPSB2aWV3ZXJDb25maWcubWFuaWZlc3Q7XG5cbiAgICAvLyBSZW5kZXIgZWFjaCBwYWdlIGFsb25lIGluIGEgZ3JvdXBcbiAgICBjb25zdCBwYWdlcyA9IFtdO1xuICAgIG1hbmlmZXN0LnBhZ2VzLmZvckVhY2goIChwYWdlLCBpbmRleCkgPT5cbiAgICB7XG4gICAgICAgIGlmICghdmlld2VyQ29uZmlnLnNob3dOb25QYWdlZFBhZ2VzICYmIG1hbmlmZXN0LnBhZ2VkICYmICFwYWdlLnBhZ2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHBhZ2VEaW1zID0gZ2V0UGFnZURpbWVuc2lvbnMoaW5kZXgsIG1hbmlmZXN0KTtcblxuICAgICAgICBwYWdlcy5wdXNoKHtcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhZ2VEaW1zLFxuICAgICAgICAgICAgcGFnZXM6IFt7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgIGdyb3VwT2Zmc2V0OiB7IHRvcDogMCwgbGVmdDogMCB9LFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhZ2VEaW1zXG4gICAgICAgICAgICB9XVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBwYWdlcztcbn1cbiIsIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU2V0dGluZ3NWaWV3KHNvdXJjZXMpXG57XG4gICAgY29uc3Qgb2JqID0ge307XG5cbiAgICBzb3VyY2VzLmZvckVhY2goIChzb3VyY2UpID0+XG4gICAge1xuICAgICAgICByZWdpc3Rlck1peGluKG9iaiwgc291cmNlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyTWl4aW4ob2JqLCBtaXhpbilcbntcbiAgICBPYmplY3Qua2V5cyhtaXhpbikuZm9yRWFjaCggKGtleSkgPT5cbiAgICB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBtaXhpbltrZXldO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBNYWtlIGV2ZXJ5dGhpbmcgc3RyaWN0IG1vZGUgc28gdGhpcyBpc24ndCBuZWVkZWRcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3Qgc2V0IHNldHRpbmdzLicgKyBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZhbGlkYXRpb25SdW5uZXJcbntcbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMud2hpdGVsaXN0ZWRLZXlzID0gb3B0aW9ucy53aGl0ZWxpc3RlZEtleXMgfHwgW107XG4gICAgICAgIHRoaXMuYWRkaXRpb25hbFByb3BlcnRpZXMgPSBvcHRpb25zLmFkZGl0aW9uYWxQcm9wZXJ0aWVzIHx8IFtdO1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25zID0gb3B0aW9ucy52YWxpZGF0aW9ucztcbiAgICB9XG5cbiAgICBpc1ZhbGlkIChrZXksIHZhbHVlLCBzZXR0aW5ncylcbiAgICB7XG4gICAgICAgIC8vIEdldCB0aGUgdmFsaWRhdGlvbiBpbmRleFxuICAgICAgICBsZXQgdmFsaWRhdGlvbkluZGV4ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnZhbGlkYXRpb25zLnNvbWUoKHZhbGlkYXRpb24sIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmFsaWRhdGlvbi5rZXkgIT09IGtleSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhbGlkYXRpb25JbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh2YWxpZGF0aW9uSW5kZXggPT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUnVuIHRoZSB2YWxpZGF0aW9uXG4gICAgICAgIGNvbnN0IGR1bW15Q2hhbmdlcyA9IHt9O1xuICAgICAgICBkdW1teUNoYW5nZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICBjb25zdCBwcm94aWVyID0gY3JlYXRlU2V0dGluZ3NQcm94aWVyKHNldHRpbmdzLCBkdW1teUNoYW5nZXMsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiAhdGhpcy5fcnVuVmFsaWRhdGlvbih2YWxpZGF0aW9uSW5kZXgsIHZhbHVlLCBwcm94aWVyKTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZSAoc2V0dGluZ3MpXG4gICAge1xuICAgICAgICB0aGlzLl92YWxpZGF0ZU9wdGlvbnMoe30sIHNldHRpbmdzKTtcbiAgICB9XG5cbiAgICBnZXRWYWxpZGF0ZWRPcHRpb25zIChzZXR0aW5ncywgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IGNsb25lZCA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl92YWxpZGF0ZU9wdGlvbnMoc2V0dGluZ3MsIGNsb25lZCk7XG4gICAgICAgIHJldHVybiBjbG9uZWQ7XG4gICAgfVxuXG4gICAgX3ZhbGlkYXRlT3B0aW9ucyAoc2V0dGluZ3MsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBzZXR0aW5nc1Byb3hpZXIgPSBjcmVhdGVTZXR0aW5nc1Byb3hpZXIoc2V0dGluZ3MsIG9wdGlvbnMsIHRoaXMpO1xuICAgICAgICB0aGlzLl9hcHBseVZhbGlkYXRpb25zKG9wdGlvbnMsIHNldHRpbmdzUHJveGllcik7XG4gICAgfVxuXG4gICAgX2FwcGx5VmFsaWRhdGlvbnMgKG9wdGlvbnMsIHByb3hpZXIpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25zLmZvckVhY2goKHZhbGlkYXRpb24sIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuaGFzT3duUHJvcGVydHkodmFsaWRhdGlvbi5rZXkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBvcHRpb25zW3ZhbGlkYXRpb24ua2V5XTtcbiAgICAgICAgICAgIGNvbnN0IGNvcnJlY3RlZCA9IHRoaXMuX3J1blZhbGlkYXRpb24oaW5kZXgsIGlucHV0LCBwcm94aWVyKTtcblxuICAgICAgICAgICAgaWYgKGNvcnJlY3RlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvcnJlY3RlZC53YXJuaW5nU3VwcHJlc3NlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGVtaXRXYXJuaW5nKHZhbGlkYXRpb24ua2V5LCBpbnB1dCwgY29ycmVjdGVkLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvcHRpb25zW3ZhbGlkYXRpb24ua2V5XSA9IGNvcnJlY3RlZC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgX3J1blZhbGlkYXRpb24gKGluZGV4LCBpbnB1dCwgcHJveGllcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB0aGlzLnZhbGlkYXRpb25zW2luZGV4XTtcblxuICAgICAgICBwcm94aWVyLmluZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgbGV0IHdhcm5pbmdTdXBwcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgICAgIHN1cHByZXNzV2FybmluZzogKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuaW5nU3VwcHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgb3V0cHV0VmFsdWUgPSB2YWxpZGF0aW9uLnZhbGlkYXRlKGlucHV0LCBwcm94aWVyLnByb3h5LCBjb25maWcpO1xuXG4gICAgICAgIGlmIChvdXRwdXRWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IG91dHB1dFZhbHVlID09PSBpbnB1dClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IG91dHB1dFZhbHVlLFxuICAgICAgICAgICAgd2FybmluZ1N1cHByZXNzZWQ6IHdhcm5pbmdTdXBwcmVzc2VkXG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBzZXR0aW5ncyBwcm94eSB3cmFwcyB0aGUgc2V0dGluZ3Mgb2JqZWN0IGFuZCBlbnN1cmVzIHRoYXRcbiAqIG9ubHkgdmFsdWVzIHdoaWNoIGhhdmUgcHJldmlvdXNseSBiZWVuIHZhbGlkYXRlZCBhcmUgYWNjZXNzZWQsXG4gKiB0aHJvd2luZyBhIFR5cGVFcnJvciBvdGhlcndpc2UuXG4gKlxuICogRklYTUUod2FiYWluKTogSXMgaXQgd29ydGgga2VlcGluZyB0aGlzPyBXaGVuIEkgd3JvdGUgaXQgSSBoYWRcbiAqIG11bHRpcGxlIHZhbGlkYXRpb24gc3RhZ2VzIGFuZCBpdCB3YXMgYSBsb3QgaGFyZGVyIHRvIGtlZXAgdHJhY2tcbiAqIG9mIGV2ZXJ5dGhpbmcsIHNvIHRoaXMgd2FzIG1vcmUgdmFsdWFibGUuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNldHRpbmdzUHJveGllciAoc2V0dGluZ3MsIG9wdGlvbnMsIHJ1bm5lcilcbntcbiAgICBjb25zdCBwcm94aWVyID0ge1xuICAgICAgICBwcm94eToge30sXG4gICAgICAgIGluZGV4OiBudWxsXG4gICAgfTtcblxuICAgIGNvbnN0IGxvb2t1cCA9IGxvb2t1cFZhbHVlLmJpbmQobnVsbCwgc2V0dGluZ3MsIG9wdGlvbnMpO1xuXG4gICAgY29uc3QgcHJvcGVydGllcyA9IHt9O1xuXG4gICAgcnVubmVyLndoaXRlbGlzdGVkS2V5cy5mb3JFYWNoKCh3aGl0ZWxpc3RlZCkgPT5cbiAgICB7XG4gICAgICAgIHByb3BlcnRpZXNbd2hpdGVsaXN0ZWRdID0ge1xuICAgICAgICAgICAgZ2V0OiBsb29rdXAuYmluZChudWxsLCB3aGl0ZWxpc3RlZClcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJ1bm5lci5hZGRpdGlvbmFsUHJvcGVydGllcy5mb3JFYWNoKChhZGRpdGlvbmFsKSA9PlxuICAgIHtcbiAgICAgICAgcHJvcGVydGllc1thZGRpdGlvbmFsLmtleV0gPSB7XG4gICAgICAgICAgICBnZXQ6IGFkZGl0aW9uYWwuZ2V0XG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICBydW5uZXIudmFsaWRhdGlvbnMuZm9yRWFjaCggKHZhbGlkYXRpb24sIHZhbGlkYXRpb25JbmRleCkgPT5cbiAgICB7XG4gICAgICAgIHByb3BlcnRpZXNbdmFsaWRhdGlvbi5rZXldID0ge1xuICAgICAgICAgICAgZ2V0OiAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uSW5kZXggPCBwcm94aWVyLmluZGV4KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvb2t1cCh2YWxpZGF0aW9uLmtleSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEtleSA9IHJ1bm5lci52YWxpZGF0aW9uc1twcm94aWVyLmluZGV4XS5rZXk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGFjY2VzcyBzZXR0aW5nICcgKyB2YWxpZGF0aW9uLmtleSArICcgd2hpbGUgdmFsaWRhdGluZyAnICsgY3VycmVudEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwcm94aWVyLnByb3h5LCBwcm9wZXJ0aWVzKTtcblxuICAgIHJldHVybiBwcm94aWVyO1xufVxuXG5mdW5jdGlvbiBlbWl0V2FybmluZyAoa2V5LCBvcmlnaW5hbCwgY29ycmVjdGVkKVxue1xuICAgIGNvbnNvbGUud2FybignSW52YWxpZCB2YWx1ZSBmb3IgJyArIGtleSArICc6ICcgKyBvcmlnaW5hbCArICcuIFVzaW5nICcgKyBjb3JyZWN0ZWQgKyAnIGluc3RlYWQuJyk7XG59XG5cbmZ1bmN0aW9uIGxvb2t1cFZhbHVlIChiYXNlLCBleHRlbnNpb24sIGtleSlcbntcbiAgICBpZiAoa2V5IGluIGV4dGVuc2lvbilcbiAgICB7XG4gICAgICAgIHJldHVybiBleHRlbnNpb25ba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmFzZVtrZXldO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlld3BvcnRcbntcbiAgICBjb25zdHJ1Y3RvciAob3V0ZXIsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICB0aGlzLmludGVyc2VjdGlvblRvbGVyYW5jZSA9IG9wdGlvbnMuaW50ZXJzZWN0aW9uVG9sZXJhbmNlIHx8IDA7XG4gICAgICAgIHRoaXMub3V0ZXIgPSBvdXRlcjtcbiAgICAgICAgdGhpcy5fdG9wID0gdGhpcy5fbGVmdCA9IHRoaXMuX3dpZHRoID0gdGhpcy5faGVpZ2h0ID0gdGhpcy5faW5uZXJEaW1lbnNpb25zID0gbnVsbDtcblxuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICB9XG5cbiAgICBpbnRlcnNlY3RzUmVnaW9uIChyZWdpb24pXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNIb3Jpem9udGFsT3ZlcmxhcChyZWdpb24pICYmIHRoaXMuaGFzVmVydGljYWxPdmVybGFwKHJlZ2lvbik7XG4gICAgfVxuXG4gICAgaGFzVmVydGljYWxPdmVybGFwIChyZWdpb24pXG4gICAge1xuICAgICAgICBjb25zdCB0b3AgPSB0aGlzLnRvcCAtIHRoaXMuaW50ZXJzZWN0aW9uVG9sZXJhbmNlO1xuICAgICAgICBjb25zdCBib3R0b20gPSB0aGlzLmJvdHRvbSArIHRoaXMuaW50ZXJzZWN0aW9uVG9sZXJhbmNlO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBmYWxsc0JldHdlZW4ocmVnaW9uLnRvcCwgdG9wLCBib3R0b20pIHx8XG4gICAgICAgICAgICBmYWxsc0JldHdlZW4ocmVnaW9uLmJvdHRvbSwgdG9wLCBib3R0b20pIHx8XG4gICAgICAgICAgICAocmVnaW9uLnRvcCA8PSB0b3AgJiYgcmVnaW9uLmJvdHRvbSA+PSBib3R0b20pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaGFzSG9yaXpvbnRhbE92ZXJsYXAgKHJlZ2lvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IGxlZnQgPSB0aGlzLmxlZnQgLSB0aGlzLmludGVyc2VjdGlvblRvbGVyYW5jZTtcbiAgICAgICAgY29uc3QgcmlnaHQgPSB0aGlzLnJpZ2h0ICsgdGhpcy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGZhbGxzQmV0d2VlbihyZWdpb24ubGVmdCwgbGVmdCwgcmlnaHQpIHx8XG4gICAgICAgICAgICBmYWxsc0JldHdlZW4ocmVnaW9uLnJpZ2h0LCBsZWZ0LCByaWdodCkgfHxcbiAgICAgICAgICAgIChyZWdpb24ubGVmdCA8PSBsZWZ0ICYmIHJlZ2lvbi5yaWdodCA+PSByaWdodClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpbnZhbGlkYXRlICgpXG4gICAge1xuICAgICAgICAvLyBGSVhNRTogU2hvdWxkIHRoaXMgY2hlY2sgdGhlIGlubmVyIGRpbWVuc2lvbnMgYXMgd2VsbD9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB0aGlzLm91dGVyLmNsaWVudFdpZHRoO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB0aGlzLm91dGVyLmNsaWVudEhlaWdodDtcblxuICAgICAgICB0aGlzLl90b3AgPSB0aGlzLm91dGVyLnNjcm9sbFRvcDtcbiAgICAgICAgdGhpcy5fbGVmdCA9IHRoaXMub3V0ZXIuc2Nyb2xsTGVmdDtcbiAgICB9XG5cbiAgICBzZXRJbm5lckRpbWVuc2lvbnMgKGRpbWVuc2lvbnMpXG4gICAge1xuICAgICAgICB0aGlzLl9pbm5lckRpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xuXG4gICAgICAgIGlmIChkaW1lbnNpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90b3AgPSBjbGFtcCh0aGlzLl90b3AsIDAsIGRpbWVuc2lvbnMuaGVpZ2h0IC0gdGhpcy5faGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuX2xlZnQgPSBjbGFtcCh0aGlzLl9sZWZ0LCAwLCBkaW1lbnNpb25zLndpZHRoIC0gdGhpcy5fd2lkdGgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhWaWV3cG9ydC5wcm90b3R5cGUsIHtcbiAgICB0b3A6IGdldENvb3JkaW5hdGVEZXNjcmlwdG9yKCd0b3AnLCAnaGVpZ2h0JyksXG4gICAgbGVmdDogZ2V0Q29vcmRpbmF0ZURlc2NyaXB0b3IoJ2xlZnQnLCAnd2lkdGgnKSxcblxuICAgIHdpZHRoOiBnZXREaW1lbnNpb25EZXNjcmlwdG9yKCd3aWR0aCcpLFxuICAgIGhlaWdodDogZ2V0RGltZW5zaW9uRGVzY3JpcHRvcignaGVpZ2h0JyksXG5cbiAgICBib3R0b206IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9wICsgdGhpcy5faGVpZ2h0O1xuICAgICAgICB9XG4gICAgfSxcbiAgICByaWdodDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWZ0ICsgdGhpcy5fd2lkdGg7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuZnVuY3Rpb24gZ2V0Q29vcmRpbmF0ZURlc2NyaXB0b3IgKGNvb3JkLCBhc3NvY2lhdGVkRGltZW5zaW9uKVxue1xuICAgIGNvbnN0IHByaXZhdGVQcm9wID0gJ18nICsgY29vcmQ7XG4gICAgY29uc3Qgc291cmNlID0gJ3Njcm9sbCcgKyBjb29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNvb3JkLnNsaWNlKDEpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1twcml2YXRlUHJvcF07XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbm9ybWFsaXplZDtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX2lubmVyRGltZW5zaW9ucylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhBbGxvd2VkID0gdGhpcy5faW5uZXJEaW1lbnNpb25zW2Fzc29jaWF0ZWREaW1lbnNpb25dIC0gdGhpc1thc3NvY2lhdGVkRGltZW5zaW9uXTtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY2xhbXAobmV3VmFsdWUsIDAsIG1heEFsbG93ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQgPSBjbGFtcE1pbihuZXdWYWx1ZSwgMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXNbcHJpdmF0ZVByb3BdID0gdGhpcy5vdXRlcltzb3VyY2VdID0gbm9ybWFsaXplZDtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldERpbWVuc2lvbkRlc2NyaXB0b3IgKGRpbWVuKVxue1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJ18nICsgZGltZW5dO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZmFsbHNCZXR3ZWVuIChwb2ludCwgc3RhcnQsIGVuZClcbntcbiAgICByZXR1cm4gcG9pbnQgPj0gc3RhcnQgJiYgcG9pbnQgPD0gZW5kO1xufVxuXG5mdW5jdGlvbiBjbGFtcCAodmFsdWUsIG1pbiwgbWF4KVxue1xuICAgIHJldHVybiBjbGFtcE1pbihjbGFtcE1heCh2YWx1ZSwgbWF4KSwgbWluKTtcbn1cblxuZnVuY3Rpb24gY2xhbXBNaW4gKHZhbHVlLCBtaW4pXG57XG4gICAgcmV0dXJuIE1hdGgubWF4KHZhbHVlLCBtaW4pO1xufVxuXG5mdW5jdGlvbiBjbGFtcE1heCAodmFsdWUsIG1heClcbntcbiAgICByZXR1cm4gTWF0aC5taW4odmFsdWUsIG1heCk7XG59XG4iLCJpbXBvcnQgeyBlbHQgfSBmcm9tICcuL3V0aWxzL2VsdCc7XG5pbXBvcnQgZ2V0U2Nyb2xsYmFyV2lkdGggZnJvbSAnLi91dGlscy9nZXQtc2Nyb2xsYmFyLXdpZHRoJztcbmltcG9ydCBnZXN0dXJlRXZlbnRzIGZyb20gJy4vZ2VzdHVyZS1ldmVudHMnO1xuaW1wb3J0IGRpdmEgZnJvbSAnLi9kaXZhLWdsb2JhbCc7XG5pbXBvcnQgRG9jdW1lbnRIYW5kbGVyIGZyb20gJy4vZG9jdW1lbnQtaGFuZGxlcic7XG5pbXBvcnQgR3JpZEhhbmRsZXIgZnJvbSAnLi9ncmlkLWhhbmRsZXInO1xuaW1wb3J0IFBhZ2VPdmVybGF5TWFuYWdlciBmcm9tICcuL3BhZ2Utb3ZlcmxheS1tYW5hZ2VyJztcbmltcG9ydCBSZW5kZXJlciBmcm9tICcuL3JlbmRlcmVyJztcbmltcG9ydCBnZXRQYWdlTGF5b3V0cyBmcm9tICcuL3BhZ2UtbGF5b3V0cyc7XG5pbXBvcnQgY3JlYXRlU2V0dGluZ3NWaWV3IGZyb20gJy4vc2V0dGluZ3Mtdmlldyc7XG5pbXBvcnQgVmFsaWRhdGlvblJ1bm5lciBmcm9tICcuL3ZhbGlkYXRpb24tcnVubmVyJztcbmltcG9ydCBWaWV3cG9ydCBmcm9tICcuL3ZpZXdwb3J0JztcblxuY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdkaXZhOlZpZXdlckNvcmUnKTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVJZCgpIHtcbiAgICByZXR1cm4gZ2VuZXJhdGVJZC5jb3VudGVyKys7XG59XG5nZW5lcmF0ZUlkLmNvdW50ZXIgPSAxO1xuXG5cbi8vIERlZmluZSB2YWxpZGF0aW9uc1xuY29uc3Qgb3B0aW9uc1ZhbGlkYXRpb25zID0gW1xuICAgIHtcbiAgICAgICAga2V5OiAnZ29EaXJlY3RseVRvJyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPj0gc2V0dGluZ3MubWFuaWZlc3QucGFnZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ21pblBhZ2VzUGVyUm93JyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBrZXk6ICdtYXhQYWdlc1BlclJvdycsXG4gICAgICAgIHZhbGlkYXRlOiAodmFsdWUsIHNldHRpbmdzKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodmFsdWUsIHNldHRpbmdzLm1pblBhZ2VzUGVyUm93KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBrZXk6ICdwYWdlc1BlclJvdycsXG4gICAgICAgIHZhbGlkYXRlOiAodmFsdWUsIHNldHRpbmdzKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBEZWZhdWx0IHRvIHRoZSBtYXhpbXVtXG4gICAgICAgICAgICBpZiAodmFsdWUgPCBzZXR0aW5ncy5taW5QYWdlc1BlclJvdyB8fCB2YWx1ZSA+IHNldHRpbmdzLm1heFBhZ2VzUGVyUm93KVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5tYXhQYWdlc1BlclJvdztcbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBrZXk6ICdtYXhab29tTGV2ZWwnLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlLCBzZXR0aW5ncywgY29uZmlnKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDaGFuZ2luZyB0aGlzIHZhbHVlIGlzbid0IHJlYWxseSBhbiBlcnJvciwgaXQganVzdCBkZXBlbmRzIG9uIHRoZVxuICAgICAgICAgICAgLy8gc291cmNlIG1hbmlmZXN0XG4gICAgICAgICAgICBjb25maWcuc3VwcHJlc3NXYXJuaW5nKCk7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiBzZXR0aW5ncy5tYW5pZmVzdC5tYXhab29tKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5tYW5pZmVzdC5tYXhab29tO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ21pblpvb21MZXZlbCcsXG4gICAgICAgIHZhbGlkYXRlOiAodmFsdWUsIHNldHRpbmdzLCBjb25maWcpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIENoYW5nZXMgYmFzZWQgb24gdGhlIG1hbmlmZXN0IHZhbHVlIHNob3VsZG4ndCB0cmlnZ2VyIGFcbiAgICAgICAgICAgIC8vIHdhcm5pbmdcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IHNldHRpbmdzLm1hbmlmZXN0Lm1heFpvb20pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uZmlnLnN1cHByZXNzV2FybmluZygpO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gc2V0dGluZ3MubWF4Wm9vbUxldmVsKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ3pvb21MZXZlbCcsXG4gICAgICAgIHZhbGlkYXRlOiAodmFsdWUsIHNldHRpbmdzLCBjb25maWcpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IHNldHRpbmdzLm1hbmlmZXN0Lm1heFpvb20pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uZmlnLnN1cHByZXNzV2FybmluZygpO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmFsdWUgPCBzZXR0aW5ncy5taW5ab29tTGV2ZWwgfHwgdmFsdWUgPiBzZXR0aW5ncy5tYXhab29tTGV2ZWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm1pblpvb21MZXZlbDtcbiAgICAgICAgfVxuICAgIH1cbl07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXdlckNvcmVcbntcbiAgICBjb25zdHJ1Y3RvciAoZWxlbWVudCwgb3B0aW9ucywgcHVibGljSW5zdGFuY2UpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudE9iamVjdCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMucHVibGljSW5zdGFuY2UgPSBwdWJsaWNJbnN0YW5jZTtcblxuICAgICAgICAvLyBUaGluZ3MgdGhhdCBjYW5ub3QgYmUgY2hhbmdlZCBiZWNhdXNlIG9mIHRoZSB3YXkgdGhleSBhcmUgdXNlZCBieSB0aGUgc2NyaXB0XG4gICAgICAgIC8vIE1hbnkgb2YgdGhlc2UgYXJlIGRlY2xhcmVkIHdpdGggYXJiaXRyYXJ5IHZhbHVlcyB0aGF0IGFyZSBjaGFuZ2VkIGxhdGVyIG9uXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUgPSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZUluZGljZXM6IFswXSwgICAgLy8gVGhlIHZpc2libGUgcGFnZXMgaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgICAgICBhY3RpdmVQYWdlSW5kZXg6IDAsICAgICAgICAgLy8gVGhlIGN1cnJlbnQgJ2FjdGl2ZScgcGFnZSBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQ6IDAsICAgICAgICAvLyBEaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRpdmEgZWxlbWVudCB0byB0aGUgdG9wIG9mIHRoZSBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgIGhvcml6b250YWxQYWRkaW5nOiAwLCAgICAgICAvLyBFaXRoZXIgdGhlIGZpeGVkIHBhZGRpbmcgb3IgYWRhcHRpdmUgcGFkZGluZ1xuICAgICAgICAgICAgSUQ6IG51bGwsICAgICAgICAgICAgICAgICAgIC8vIFRoZSBwcmVmaXggb2YgdGhlIElEcyBvZiB0aGUgZWxlbWVudHMgKHVzdWFsbHkgMS1kaXZhLSlcbiAgICAgICAgICAgIGluaXRpYWxLZXlTY3JvbGw6IGZhbHNlLCAgICAvLyBIb2xkcyB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBlbmFibGVLZXlTY3JvbGxcbiAgICAgICAgICAgIGluaXRpYWxTcGFjZVNjcm9sbDogZmFsc2UsICAvLyBIb2xkcyB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBlbmFibGVTcGFjZVNjcm9sbFxuICAgICAgICAgICAgaW5uZXJFbGVtZW50OiBudWxsLCAgICAgICAgIC8vIFRoZSBuYXRpdmUgLmRpdmEtb3V0ZXIgRE9NIG9iamVjdFxuICAgICAgICAgICAgaW5uZXJPYmplY3Q6IHt9LCAgICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNldHRpbmdzLklEICsgJ2lubmVyJyksIGZvciBzZWxlY3RpbmcgdGhlIC5kaXZhLWlubmVyIGVsZW1lbnRcbiAgICAgICAgICAgIGlzQWN0aXZlRGl2YTogdHJ1ZSwgICAgICAgICAvLyBJbiB0aGUgY2FzZSB0aGF0IG11bHRpcGxlIGRpdmEgcGFuZXMgZXhpc3Qgb24gdGhlIHNhbWUgcGFnZSwgdGhpcyBzaG91bGQgaGF2ZSBldmVudHMgZnVubmVsZWQgdG8gaXQuXG4gICAgICAgICAgICBpc1Njcm9sbGFibGU6IHRydWUsICAgICAgICAgLy8gVXNlZCBpbiBlbmFibGUvZGlzYWJsZVNjcm9sbGFibGUgcHVibGljIG1ldGhvZHNcbiAgICAgICAgICAgIGlzWm9vbWluZzogZmFsc2UsICAgICAgICAgICAvLyBGbGFnIHRvIGtlZXAgdHJhY2sgb2Ygd2hldGhlciB6b29taW5nIGlzIHN0aWxsIGluIHByb2dyZXNzLCBmb3IgaGFuZGxlWm9vbVxuICAgICAgICAgICAgbG9hZGVkOiBmYWxzZSwgICAgICAgICAgICAgIC8vIEEgZmxhZyBmb3Igd2hlbiBldmVyeXRoaW5nIGlzIGxvYWRlZCBhbmQgcmVhZHkgdG8gZ28uXG4gICAgICAgICAgICBtYW5pZmVzdDogbnVsbCxcbiAgICAgICAgICAgIG1vYmlsZVdlYmtpdDogZmFsc2UsICAgICAgICAvLyBDaGVja3MgaWYgdGhlIHVzZXIgaXMgb24gYSB0b3VjaCBkZXZpY2UgKGlQYWQvaVBvZC9pUGhvbmUvQW5kcm9pZClcbiAgICAgICAgICAgIG51bVBhZ2VzOiAwLCAgICAgICAgICAgICAgICAvLyBOdW1iZXIgb2YgcGFnZXMgaW4gdGhlIGFycmF5XG4gICAgICAgICAgICBvbGRab29tTGV2ZWw6IC0xLCAgICAgICAgICAgLy8gSG9sZHMgdGhlIHByZXZpb3VzIHpvb20gbGV2ZWwgYWZ0ZXIgem9vbWluZyBpbiBvciBvdXRcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICBvdXRlckVsZW1lbnQ6IG51bGwsICAgICAgICAgLy8gVGhlIG5hdGl2ZSAuZGl2YS1vdXRlciBET00gb2JqZWN0XG4gICAgICAgICAgICBvdXRlck9iamVjdDoge30sICAgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2V0dGluZ3MuSUQgKyAnb3V0ZXInKSwgZm9yIHNlbGVjdGluZyB0aGUgLmRpdmEtb3V0ZXIgZWxlbWVudFxuICAgICAgICAgICAgcGFnZU92ZXJsYXlzOiBuZXcgUGFnZU92ZXJsYXlNYW5hZ2VyKCksXG4gICAgICAgICAgICBwYWdlVG9vbHM6IFtdLCAgICAgICAgICAgICAgLy8gVGhlIHBsdWdpbnMgd2hpY2ggYXJlIGVuYWJsZWQgYXMgcGFnZSB0b29sc1xuICAgICAgICAgICAgcGFyZW50T2JqZWN0OiB0aGlzLnBhcmVudE9iamVjdCwgLy8gSlF1ZXJ5IG9iamVjdCByZWZlcmVuY2luZyB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAgICAgICAgIHBlbmRpbmdNYW5pZmVzdFJlcXVlc3Q6IG51bGwsIC8vIFJlZmVyZW5jZSB0byB0aGUgeGhyIHJlcXVlc3QgcmV0cmlldmluZyB0aGUgbWFuaWZlc3QuIFVzZWQgdG8gY2FuY2VsIHRoZSByZXF1ZXN0IG9uIGRlc3Ryb3koKVxuICAgICAgICAgICAgcGx1Z2luSW5zdGFuY2VzOiBbXSwgICAgICAgICAgICAgICAgLy8gRmlsbGVkIHdpdGggdGhlIGVuYWJsZWQgcGx1Z2lucyBmcm9tIHRoZSByZWdpc3RyeVxuICAgICAgICAgICAgcmVuZGVyZXI6IG51bGwsXG4gICAgICAgICAgICByZXNpemVUaW1lcjogLTEsICAgICAgICAgICAgLy8gSG9sZHMgdGhlIElEIG9mIHRoZSB0aW1lb3V0IHVzZWQgd2hlbiByZXNpemluZyB0aGUgd2luZG93IChmb3IgY2xlYXJpbmcpXG4gICAgICAgICAgICBzY3JvbGxiYXJXaWR0aDogMCwgICAgICAgICAgLy8gU2V0IHRvIHRoZSBhY3R1YWwgc2Nyb2xsYmFyIHdpZHRoIGluIGluaXQoKVxuICAgICAgICAgICAgc2VsZWN0b3I6ICcnLCAgICAgICAgICAgICAgIC8vIFVzZXMgdGhlIGdlbmVyYXRlZCBJRCBwcmVmaXggdG8gZWFzaWx5IHNlbGVjdCBlbGVtZW50c1xuICAgICAgICAgICAgdGhyb2JiZXJUaW1lb3V0SUQ6IC0xLCAgICAgIC8vIEhvbGRzIHRoZSBJRCBvZiB0aGUgdGhyb2JiZXIgbG9hZGluZyB0aW1lb3V0XG4gICAgICAgICAgICB0b29sYmFyOiBudWxsLCAgICAgICAgICAgICAgLy8gSG9sZHMgYW4gb2JqZWN0IHdpdGggc29tZSB0b29sYmFyLXJlbGF0ZWQgZnVuY3Rpb25zXG4gICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldDogMCwgICAgICAgICAgLy8gRGlzdGFuY2UgZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBkaXZhIGVsZW1lbnQgdG8gdGhlIGxlZnQgc2lkZSBvZiB0aGUgY3VycmVudCBwYWdlXG4gICAgICAgICAgICB2ZXJ0aWNhbFBhZGRpbmc6IDAsICAgICAgICAgLy8gRWl0aGVyIHRoZSBmaXhlZCBwYWRkaW5nIG9yIGFkYXB0aXZlIHBhZGRpbmdcbiAgICAgICAgICAgIHZpZXdIYW5kbGVyOiBudWxsLFxuICAgICAgICAgICAgdmlld3BvcnQ6IG51bGwsICAgICAgICAgICAgIC8vIE9iamVjdCBjYWNoaW5nIHRoZSB2aWV3cG9ydCBkaW1lbnNpb25zXG4gICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICB2aWV3cG9ydE9iamVjdDogbnVsbCxcbiAgICAgICAgICAgIHpvb21EdXJhdGlvbjogNDAwXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IGNyZWF0ZVNldHRpbmdzVmlldyhbb3B0aW9ucywgdGhpcy52aWV3ZXJTdGF0ZV0pO1xuXG4gICAgICAgIC8vIEdlbmVyYXRlIGFuIElEIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBwcmVmaXggZm9yIGFsbCB0aGUgb3RoZXIgSURzXG4gICAgICAgIGNvbnN0IGlkTnVtYmVyID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLklEID0gJ2RpdmEtJyArIGlkTnVtYmVyICsgJy0nO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnNlbGVjdG9yID0gdGhpcy5zZXR0aW5ncy5JRDtcblxuICAgICAgICAvLyBBbGlhc2VzIGZvciBjb21wYXRpYmlsaXR5XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMuc2V0dGluZ3MsIHtcbiAgICAgICAgICAgIC8vIEhlaWdodCBvZiB0aGUgZG9jdW1lbnQgdmlld2VyIHBhbmVcbiAgICAgICAgICAgIHBhbmVsSGVpZ2h0OiB7XG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBXaWR0aCBvZiB0aGUgZG9jdW1lbnQgdmlld2VyIHBhbmVcbiAgICAgICAgICAgIHBhbmVsV2lkdGg6IHtcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC53aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub3B0aW9uc1ZhbGlkYXRvciA9IG5ldyBWYWxpZGF0aW9uUnVubmVyKHtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdtYW5pZmVzdCcsXG4gICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICB2YWxpZGF0aW9uczogb3B0aW9uc1ZhbGlkYXRpb25zXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuc2Nyb2xsYmFyV2lkdGggPSBnZXRTY3JvbGxiYXJXaWR0aCgpO1xuXG4gICAgICAgIC8vIElmIHdpbmRvdy5vcmllbnRhdGlvbiBpcyBkZWZpbmVkLCB0aGVuIGl0J3MgcHJvYmFibHkgbW9iaWxlV2Via2l0XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUubW9iaWxlV2Via2l0ID0gd2luZG93Lm9yaWVudGF0aW9uICE9PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzaFBhcmFtU3VmZml4ID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBPbWl0IHRoZSBzdWZmaXggZnJvbSB0aGUgZmlyc3QgaW5zdGFuY2VcbiAgICAgICAgICAgIGlmIChpZE51bWJlciA9PT0gMSlcbiAgICAgICAgICAgICAgICBvcHRpb25zLmhhc2hQYXJhbVN1ZmZpeCA9ICcnO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGFzaFBhcmFtU3VmZml4ID0gaWROdW1iZXIgKyAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgaW5uZXIgYW5kIG91dGVyIHBhbmVsc1xuICAgICAgICBjb25zdCBpbm5lckVsZW0gPSBlbHQoJ2RpdicsIHRoaXMuZWxlbUF0dHJzKCdpbm5lcicsIHsgY2xhc3M6ICdkaXZhLWlubmVyJyB9KSk7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0RWxlbSA9IGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ3ZpZXdwb3J0JyksIGlubmVyRWxlbSk7XG4gICAgICAgIGNvbnN0IG91dGVyRWxlbSA9IGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ291dGVyJyksXG4gICAgICAgICAgICB2aWV3cG9ydEVsZW0sXG4gICAgICAgICAgICBlbHQoJ2RpdicsIHRoaXMuZWxlbUF0dHJzKCd0aHJvYmJlcicpLFxuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlMScgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTInIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmUzJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlNCcgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTUnIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmU2JyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlNycgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTgnIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmU5JyB9KSxcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICApKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyRWxlbWVudCA9IGlubmVyRWxlbTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydEVsZW1lbnQgPSB2aWV3cG9ydEVsZW07XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub3V0ZXJFbGVtZW50ID0gb3V0ZXJFbGVtO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJPYmplY3QgPSBpbm5lckVsZW07XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QgPSB2aWV3cG9ydEVsZW07XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub3V0ZXJPYmplY3QgPSBvdXRlckVsZW07XG5cbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wYXJlbnRPYmplY3QuYXBwZW5kKG91dGVyRWxlbSk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydCA9IG5ldyBWaWV3cG9ydCh0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0RWxlbWVudCwge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uVG9sZXJhbmNlOiB0aGlzLnNldHRpbmdzLnZpZXdwb3J0TWFyZ2luXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYm91bmRTY3JvbGxGdW5jdGlvbiA9IHRoaXMuc2Nyb2xsRnVuY3Rpb24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5ib3VuZEVzY2FwZUxpc3RlbmVyID0gdGhpcy5lc2NhcGVMaXN0ZW5lci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8vIERvIGFsbCB0aGUgcGx1Z2luIGluaXRpYWxpc2F0aW9uXG4gICAgICAgIHRoaXMuaW5pdFBsdWdpbnMoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudHMoKTtcblxuICAgICAgICAvLyBTaG93IHRoZSB0aHJvYmJlciB3aGlsZSB3YWl0aW5nIGZvciB0aGUgbWFuaWZlc3QgdG8gbG9hZFxuICAgICAgICB0aGlzLnNob3dUaHJvYmJlcigpO1xuICAgIH1cblxuICAgIGlzVmFsaWRPcHRpb24gKGtleSwgdmFsdWUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zVmFsaWRhdG9yLmlzVmFsaWQoa2V5LCB2YWx1ZSwgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zKTtcbiAgICB9XG5cbiAgICBlbGVtQXR0cnMgKGlkZW50LCBiYXNlKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArIGlkZW50LFxuICAgICAgICAgICAgY2xhc3M6ICdkaXZhLScgKyBpZGVudFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChiYXNlKVxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYXR0cnMsIGJhc2UpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgZ2V0UGFnZURhdGEgKHBhZ2VJbmRleCwgYXR0cmlidXRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbcGFnZUluZGV4XS5kW3RoaXMuc2V0dGluZ3Muem9vbUxldmVsXVthdHRyaWJ1dGVdO1xuICAgIH1cblxuICAgIC8vIFJlc2V0IHNvbWUgc2V0dGluZ3MgYW5kIGVtcHR5IHRoZSB2aWV3cG9ydFxuICAgIGNsZWFyVmlld2VyICgpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcCA9IDA7XG5cbiAgICAgICAgLy8gQ2xlYXIgYWxsIHRoZSB0aW1lb3V0cyB0byBwcmV2ZW50IHVuZGVzaXJlZCBwYWdlcyBmcm9tIGxvYWRpbmdcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudmlld2VyU3RhdGUucmVzaXplVGltZXIpO1xuICAgIH1cblxuICAgIGhhc0NoYW5nZWRPcHRpb24gKG9wdGlvbnMsIGtleSlcbiAgICB7XG4gICAgICAgIHJldHVybiBrZXkgaW4gb3B0aW9ucyAmJiBvcHRpb25zW2tleV0gIT09IHRoaXMuc2V0dGluZ3Nba2V5XTtcbiAgICB9XG5cbiAgICAvL1Nob3J0Y3V0IGZvciBjbG9zaW5nIGZ1bGxzY3JlZW4gd2l0aCB0aGUgZXNjYXBlIGtleVxuICAgIGVzY2FwZUxpc3RlbmVyIChlKVxuICAgIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHVibGljSW5zdGFuY2UubGVhdmVGdWxsc2NyZWVuTW9kZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHNldHRpbmdzIHRvIG1hdGNoIHRoZSBzcGVjaWZpZWQgb3B0aW9ucy4gTG9hZCB0aGUgdmlld2VyLFxuICAgICAqIGZpcmUgYXBwcm9wcmlhdGUgZXZlbnRzIGZvciBjaGFuZ2VkIG9wdGlvbnMuXG4gICAgICovXG4gICAgcmVsb2FkVmlld2VyIChuZXdPcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcXVldWVkRXZlbnRzID0gW107XG5cbiAgICAgICAgbmV3T3B0aW9ucyA9IHRoaXMub3B0aW9uc1ZhbGlkYXRvci5nZXRWYWxpZGF0ZWRPcHRpb25zKHRoaXMuc2V0dGluZ3MsIG5ld09wdGlvbnMpO1xuXG4gICAgICAgIC8vIFNldCB0aGUgem9vbSBsZXZlbCBpZiB2YWxpZCBhbmQgZmlyZSBhIFpvb21MZXZlbERpZENoYW5nZSBldmVudFxuICAgICAgICBpZiAodGhpcy5oYXNDaGFuZ2VkT3B0aW9uKG5ld09wdGlvbnMsICd6b29tTGV2ZWwnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWwgPSB0aGlzLnNldHRpbmdzLnpvb21MZXZlbDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy56b29tTGV2ZWwgPSBuZXdPcHRpb25zLnpvb21MZXZlbDtcbiAgICAgICAgICAgIHF1ZXVlZEV2ZW50cy5wdXNoKFtcIlpvb21MZXZlbERpZENoYW5nZVwiLCBuZXdPcHRpb25zLnpvb21MZXZlbF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHRoZSBwYWdlcyBwZXIgcm93IGlmIHZhbGlkIGFuZCBmaXJlIGFuIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ3BhZ2VzUGVyUm93JykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5wYWdlc1BlclJvdyA9IG5ld09wdGlvbnMucGFnZXNQZXJSb3c7XG4gICAgICAgICAgICBxdWV1ZWRFdmVudHMucHVzaChbXCJHcmlkUm93TnVtYmVyRGlkQ2hhbmdlXCIsIG5ld09wdGlvbnMucGFnZXNQZXJSb3ddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSB2ZXJ0aWNhbGx5T3JpZW50ZWQgKG5vIGV2ZW50IGZpcmVkKVxuICAgICAgICBpZiAodGhpcy5oYXNDaGFuZ2VkT3B0aW9uKG5ld09wdGlvbnMsICd2ZXJ0aWNhbGx5T3JpZW50ZWQnKSlcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy52ZXJ0aWNhbGx5T3JpZW50ZWQgPSBuZXdPcHRpb25zLnZlcnRpY2FsbHlPcmllbnRlZDtcblxuICAgICAgICAvLyBTaG93L0hpZGUgbm9uLXBhZ2VkIHBhZ2VzXG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ3Nob3dOb25QYWdlZFBhZ2VzJykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5zaG93Tm9uUGFnZWRQYWdlcyA9IG5ld09wdGlvbnMuc2hvd05vblBhZ2VkUGFnZXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgcGFnZSBwb3NpdGlvbiAobm8gZXZlbnQgZmlyZWQgaGVyZSlcbiAgICAgICAgaWYgKCdnb0RpcmVjdGx5VG8nIGluIG5ld09wdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5nb0RpcmVjdGx5VG8gPSBuZXdPcHRpb25zLmdvRGlyZWN0bHlUbztcblxuICAgICAgICAgICAgaWYgKCd2ZXJ0aWNhbE9mZnNldCcgaW4gbmV3T3B0aW9ucylcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsT2Zmc2V0ID0gbmV3T3B0aW9ucy52ZXJ0aWNhbE9mZnNldDtcblxuICAgICAgICAgICAgaWYgKCdob3Jpem9udGFsT2Zmc2V0JyBpbiBuZXdPcHRpb25zKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldCA9IG5ld09wdGlvbnMuaG9yaXpvbnRhbE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSB0aGUgZGVmYXVsdCBpcyB0byByZW1haW4gb24gdGhlIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmdvRGlyZWN0bHlUbyA9IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZE9wdGlvbihuZXdPcHRpb25zLCAnaW5HcmlkJykgfHwgdGhpcy5oYXNDaGFuZ2VkT3B0aW9uKG5ld09wdGlvbnMsICdpbkJvb2tMYXlvdXQnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCdpbkdyaWQnIGluIG5ld09wdGlvbnMpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmluR3JpZCA9IG5ld09wdGlvbnMuaW5HcmlkO1xuXG4gICAgICAgICAgICBpZiAoJ2luQm9va0xheW91dCcgaW4gbmV3T3B0aW9ucylcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuaW5Cb29rTGF5b3V0ID0gbmV3T3B0aW9ucy5pbkJvb2tMYXlvdXQ7XG5cbiAgICAgICAgICAgIHF1ZXVlZEV2ZW50cy5wdXNoKFtcIlZpZXdEaWRTd2l0Y2hcIiwgdGhpcy5zZXR0aW5ncy5pbkdyaWRdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdGU6IHByZXBhcmVNb2RlQ2hhbmdlKCkgZGVwZW5kcyBvbiBpbkdyaWQgYW5kIHRoZSB2ZXJ0aWNhbC9ob3Jpem9udGFsT2Zmc2V0IChmb3Igbm93KVxuICAgICAgICBpZiAodGhpcy5oYXNDaGFuZ2VkT3B0aW9uKG5ld09wdGlvbnMsICdpbkZ1bGxzY3JlZW4nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmluRnVsbHNjcmVlbiA9IG5ld09wdGlvbnMuaW5GdWxsc2NyZWVuO1xuICAgICAgICAgICAgdGhpcy5wcmVwYXJlTW9kZUNoYW5nZShuZXdPcHRpb25zKTtcbiAgICAgICAgICAgIHF1ZXVlZEV2ZW50cy5wdXNoKFtcIk1vZGVEaWRTd2l0Y2hcIiwgdGhpcy5zZXR0aW5ncy5pbkZ1bGxzY3JlZW5dKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xlYXJWaWV3ZXIoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3SGFuZGxlckFuZFJlbmRlcmluZygpO1xuXG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPOiBUaGUgdXNhZ2Ugb2YgcGFkZGluZyB2YXJpYWJsZXMgaXMgc3RpbGwgcmVhbGx5XG4gICAgICAgICAgICAvLyBtZXNzeSBhbmQgaW5jb25zaXN0ZW50XG4gICAgICAgICAgICBjb25zdCByZW5kZXJlckNvbmZpZyA9IHtcbiAgICAgICAgICAgICAgICBwYWdlTGF5b3V0czogZ2V0UGFnZUxheW91dHModGhpcy5zZXR0aW5ncyksXG4gICAgICAgICAgICAgICAgcGFkZGluZzogdGhpcy5nZXRQYWRkaW5nKCksXG4gICAgICAgICAgICAgICAgbWF4Wm9vbUxldmVsOiB0aGlzLnNldHRpbmdzLmluR3JpZCA/IG51bGwgOiB0aGlzLnZpZXdlclN0YXRlLm1hbmlmZXN0Lm1heFpvb20sXG4gICAgICAgICAgICAgICAgdmVydGljYWxseU9yaWVudGVkOiB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCB8fCB0aGlzLnNldHRpbmdzLmluR3JpZCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0UG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgem9vbUxldmVsOiB0aGlzLnNldHRpbmdzLmluR3JpZCA/IG51bGwgOiB0aGlzLnNldHRpbmdzLnpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICBhbmNob3JQYWdlOiB0aGlzLnNldHRpbmdzLmdvRGlyZWN0bHlUbyxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldDogdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCxcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZVByb3ZpZGVyID0gdGhpcy5nZXRDdXJyZW50U291cmNlUHJvdmlkZXIoKTtcblxuICAgICAgICAgICAgaWYgKGRlYnVnLmVuYWJsZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IE9iamVjdC5rZXlzKHJlbmRlcmVyQ29uZmlnKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChrZXkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRvbyBsb25nXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5ICE9PSAncGFnZUxheW91dHMnICYmIGtleSAhPT0gJ3BhZGRpbmcnO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChrZXkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVuZGVyZXJDb25maWdba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgKyAnOiAnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuam9pbignLCAnKTtcblxuICAgICAgICAgICAgICAgIGRlYnVnKCdyZWxvYWQgd2l0aCAlcycsIHNlcmlhbGl6ZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxvYWQocmVuZGVyZXJDb25maWcsIHZpZXdwb3J0UG9zaXRpb24sIHNvdXJjZVByb3ZpZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1ZXVlZEV2ZW50cy5mb3JFYWNoKCAocGFyYW1zKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2guYXBwbHkodGhpcywgcGFyYW1zKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlcyBzd2l0Y2hpbmcgaW4gYW5kIG91dCBvZiBmdWxsc2NyZWVuIG1vZGVcbiAgICBwcmVwYXJlTW9kZUNoYW5nZSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8vIFRvZ2dsZSB0aGUgY2xhc3Nlc1xuICAgICAgICBjb25zdCBjaGFuZ2VDbGFzcyA9IG9wdGlvbnMuaW5GdWxsc2NyZWVuID8gJ2FkZCcgOiAncmVtb3ZlJztcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vdXRlck9iamVjdC5jbGFzc0xpc3RbY2hhbmdlQ2xhc3NdKCdkaXZhLWZ1bGxzY3JlZW4nKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3RbY2hhbmdlQ2xhc3NdKCdkaXZhLWhpZGUtc2Nyb2xsYmFyJyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0LmNsYXNzTGlzdFtjaGFuZ2VDbGFzc10oJ2RpdmEtZnVsbC13aWR0aCcpO1xuXG4gICAgICAgIC8vIEFkanVzdCBEaXZhJ3MgaW50ZXJuYWwgcGFuZWwgc2l6ZSwga2VlcGluZyB0aGUgb2xkIHZhbHVlc1xuICAgICAgICBjb25zdCBzdG9yZWRIZWlnaHQgPSB0aGlzLnNldHRpbmdzLnBhbmVsSGVpZ2h0O1xuICAgICAgICBjb25zdCBzdG9yZWRXaWR0aCA9IHRoaXMuc2V0dGluZ3MucGFuZWxXaWR0aDtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpc24ndCB0aGUgb3JpZ2luYWwgbG9hZCwgdGhlIG9mZnNldHMgbWF0dGVyLCBhbmQgdGhlIHBvc2l0aW9uIGlzbid0IGJlaW5nIGNoYW5nZWQuLi5cbiAgICAgICAgaWYgKCF0aGlzLnZpZXdlclN0YXRlLmxvYWRlZCAmJiAhdGhpcy5zZXR0aW5ncy5pbkdyaWQgJiYgISgndmVydGljYWxPZmZzZXQnIGluIG9wdGlvbnMpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvL2dldCB0aGUgdXBkYXRlZCBwYW5lbCBzaXplXG4gICAgICAgICAgICBjb25zdCBuZXdIZWlnaHQgPSB0aGlzLnNldHRpbmdzLnBhbmVsSGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgbmV3V2lkdGggPSB0aGlzLnNldHRpbmdzLnBhbmVsV2lkdGg7XG5cbiAgICAgICAgICAgIC8vYW5kIHJlLWNlbnRlciB0aGUgbmV3IHBhbmVsIG9uIHRoZSBzYW1lIHBvaW50XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsT2Zmc2V0ICs9ICgoc3RvcmVkSGVpZ2h0IC0gbmV3SGVpZ2h0KSAvIDIpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0ICs9ICgoc3RvcmVkV2lkdGggLSBuZXdXaWR0aCkgLyAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdHVybiBvbi9vZmYgZXNjYXBlIGtleSBsaXN0ZW5lclxuICAgICAgICBpZiAob3B0aW9ucy5pbkZ1bGxzY3JlZW4pXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuYm91bmRFc2NhcGVMaXN0ZW5lcik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5ib3VuZEVzY2FwZUxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHZpZXcgaGFuZGxlciBhbmQgdGhlIHZpZXcgcmVuZGVyaW5nIGZvciB0aGUgY3VycmVudCB2aWV3XG4gICAgdXBkYXRlVmlld0hhbmRsZXJBbmRSZW5kZXJpbmcgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IEhhbmRsZXIgPSB0aGlzLnNldHRpbmdzLmluR3JpZCA/IEdyaWRIYW5kbGVyIDogRG9jdW1lbnRIYW5kbGVyO1xuXG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyICYmICEodGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlciBpbnN0YW5jZW9mIEhhbmRsZXIpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlciA9IG5ldyBIYW5kbGVyKHRoaXMpO1xuXG4gICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlcilcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVJlbmRlcmVyKCk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVGhpcyBjb3VsZCBwcm9iYWJseSBiZSBkb25lIHVwb24gVmlld2VyQ29yZSBpbml0aWFsaXphdGlvblxuICAgIGluaXRpYWxpemVSZW5kZXJlciAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgY29tcGF0RXJyb3JzID0gUmVuZGVyZXIuZ2V0Q29tcGF0aWJpbGl0eUVycm9ycygpO1xuXG4gICAgICAgIGlmIChjb21wYXRFcnJvcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKGNvbXBhdEVycm9ycyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0OiB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LFxuICAgICAgICAgICAgICAgIG91dGVyRWxlbWVudDogdGhpcy52aWV3ZXJTdGF0ZS5vdXRlckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgaW5uZXJFbGVtZW50OiB0aGlzLnZpZXdlclN0YXRlLmlubmVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogdGhpcy5zZXR0aW5nc1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgaG9va3MgPSB7XG4gICAgICAgICAgICAgICAgb25WaWV3V2lsbExvYWQ6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uVmlld1dpbGxMb2FkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblZpZXdEaWRMb2FkOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQYWdlT3ZlcmxheXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlci5vblZpZXdEaWRMb2FkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblZpZXdEaWRVcGRhdGU6IChwYWdlcywgdGFyZ2V0UGFnZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFnZU92ZXJsYXlzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIub25WaWV3RGlkVXBkYXRlKHBhZ2VzLCB0YXJnZXRQYWdlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVmlld0RpZFRyYW5zaXRpb246ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2VPdmVybGF5cygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25QYWdlV2lsbExvYWQ6IChwYWdlSW5kZXgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2goJ1BhZ2VXaWxsTG9hZCcsIHBhZ2VJbmRleCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblpvb21MZXZlbFdpbGxDaGFuZ2U6ICh6b29tTGV2ZWwpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2goJ1pvb21MZXZlbFdpbGxDaGFuZ2UnLCB6b29tTGV2ZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIob3B0aW9ucywgaG9va3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudFNvdXJjZVByb3ZpZGVyICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGdyaWRTb3VyY2VQcm92aWRlciA9IHtcbiAgICAgICAgICAgICAgICBnZXRBbGxab29tTGV2ZWxzRm9yUGFnZTogKHBhZ2UpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2dyaWRTb3VyY2VQcm92aWRlci5nZXRCZXN0Wm9vbUxldmVsRm9yUGFnZShwYWdlKV07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXRCZXN0Wm9vbUxldmVsRm9yUGFnZTogKHBhZ2UpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LmdldFBhZ2VJbWFnZVVSTChwYWdlLmluZGV4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogcGFnZS5kaW1lbnNpb25zLndpZHRoXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IDEsIC8vIEZJWE1FXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sczogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb21MZXZlbDogMSwgLy8gRklYTUVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhZ2UuZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gZ3JpZFNvdXJjZVByb3ZpZGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGlsZURpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5zZXR0aW5ncy50aWxlV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuc2V0dGluZ3MudGlsZUhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXRCZXN0Wm9vbUxldmVsRm9yUGFnZTogKHBhZ2UpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuZ2V0UGFnZUltYWdlVGlsZXMocGFnZS5pbmRleCwgTWF0aC5jZWlsKHRoaXMuc2V0dGluZ3Muem9vbUxldmVsKSwgdGlsZURpbWVuc2lvbnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEFsbFpvb21MZXZlbHNGb3JQYWdlOiAocGFnZSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZXZlbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZXZlbENvdW50ID0gdGhpcy52aWV3ZXJTdGF0ZS5tYW5pZmVzdC5tYXhab29tO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbGV2ZWw9MDsgbGV2ZWwgPD0gbGV2ZWxDb3VudDsgbGV2ZWwrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldmVscy5wdXNoKHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuZ2V0UGFnZUltYWdlVGlsZXMocGFnZS5pbmRleCwgbGV2ZWwsIHRpbGVEaW1lbnNpb25zKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV2ZWxzLnJldmVyc2UoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBsZXZlbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0UGFkZGluZyAoKVxuICAgIHtcbiAgICAgICAgbGV0IHRvcFBhZGRpbmcsIGxlZnRQYWRkaW5nO1xuICAgICAgICBsZXQgZG9jVlBhZGRpbmcsIGRvY0hQYWRkaW5nO1xuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgZG9jVlBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLmZpeGVkUGFkZGluZztcbiAgICAgICAgICAgIHRvcFBhZGRpbmcgPSBsZWZ0UGFkZGluZyA9IGRvY0hQYWRkaW5nID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvcFBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCA/IHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nIDogMDtcbiAgICAgICAgICAgIGxlZnRQYWRkaW5nID0gdGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQgPyAwIDogdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsUGFkZGluZztcblxuICAgICAgICAgICAgZG9jVlBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCA/IDAgOiB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsUGFkZGluZztcbiAgICAgICAgICAgIGRvY0hQYWRkaW5nID0gdGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQgPyB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxQYWRkaW5nIDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkb2N1bWVudDoge1xuICAgICAgICAgICAgICAgIHRvcDogZG9jVlBhZGRpbmcsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBkb2NWUGFkZGluZyxcbiAgICAgICAgICAgICAgICBsZWZ0OiBkb2NIUGFkZGluZyxcbiAgICAgICAgICAgICAgICByaWdodDogZG9jSFBhZGRpbmdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYWdlOiB7XG4gICAgICAgICAgICAgICAgdG9wOiB0b3BQYWRkaW5nLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0UGFkZGluZyxcbiAgICAgICAgICAgICAgICByaWdodDogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHVwZGF0ZVBhZ2VPdmVybGF5cyAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5wYWdlT3ZlcmxheXMudXBkYXRlT3ZlcmxheXMoXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmdldFJlbmRlcmVkUGFnZXMoKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIENhbGxlZCB0byBoYW5kbGUgYW55IHpvb20gbGV2ZWxcbiAgICBoYW5kbGVab29tIChuZXdab29tTGV2ZWwsIGZvY2FsUG9pbnQpXG4gICAge1xuICAgICAgICAvLyBJZiB0aGUgem9vbSBsZXZlbCBwcm92aWRlZCBpcyBpbnZhbGlkLCByZXR1cm4gZmFsc2VcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRPcHRpb24oJ3pvb21MZXZlbCcsIG5ld1pvb21MZXZlbCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgLy8gV2hpbGUgem9vbWluZywgZG9uJ3QgdXBkYXRlIHNjcm9sbCBvZmZzZXRzIGJhc2VkIG9uIHRoZSBzY2FsZWQgdmVyc2lvbiBvZiBkaXZhLWlubmVyXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5ib3VuZFNjcm9sbEZ1bmN0aW9uKTtcblxuICAgICAgICAvLyBJZiBubyBmb2NhbCBwb2ludCB3YXMgZ2l2ZW4sIHpvb20gb24gdGhlIGNlbnRlciBvZiB0aGUgdmlld3BvcnRcbiAgICAgICAgaWYgKCFmb2NhbFBvaW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQ7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UmVnaW9uID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQuZ2V0UGFnZVJlZ2lvbih0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCk7XG5cbiAgICAgICAgICAgIGZvY2FsUG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yUGFnZTogdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6ICh2aWV3cG9ydC53aWR0aCAvIDIpIC0gKGN1cnJlbnRSZWdpb24ubGVmdCAtIHZpZXdwb3J0LmxlZnQpLFxuICAgICAgICAgICAgICAgICAgICB0b3A6ICh2aWV3cG9ydC5oZWlnaHQgLyAyKSAtIChjdXJyZW50UmVnaW9uLnRvcCAtIHZpZXdwb3J0LnRvcClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFnZVJlZ2lvbiA9IHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubGF5b3V0LmdldFBhZ2VSZWdpb24oZm9jYWxQb2ludC5hbmNob3JQYWdlKTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgZGlzdGFuY2UgZnJvbSBjdXJzb3IgY29vcmRpbmF0ZXMgdG8gY2VudGVyIG9mIHZpZXdwb3J0XG4gICAgICAgIGNvbnN0IGZvY2FsWFRvQ2VudGVyID0gKHBhZ2VSZWdpb24ubGVmdCArIGZvY2FsUG9pbnQub2Zmc2V0LmxlZnQpIC1cbiAgICAgICAgICAgICh0aGlzLnNldHRpbmdzLnZpZXdwb3J0LmxlZnQgKyAodGhpcy5zZXR0aW5ncy52aWV3cG9ydC53aWR0aCAvIDIpKTtcbiAgICAgICAgY29uc3QgZm9jYWxZVG9DZW50ZXIgPSAocGFnZVJlZ2lvbi50b3AgKyBmb2NhbFBvaW50Lm9mZnNldC50b3ApIC1cbiAgICAgICAgICAgICh0aGlzLnNldHRpbmdzLnZpZXdwb3J0LnRvcCArICh0aGlzLnNldHRpbmdzLnZpZXdwb3J0LmhlaWdodCAvIDIpKTtcblxuICAgICAgICBjb25zdCBnZXRQb3NpdGlvbkZvclpvb21MZXZlbCA9ICAoem9vbUxldmVsLCBpbml0Wm9vbSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgem9vbVJhdGlvID0gTWF0aC5wb3coMiwgem9vbUxldmVsIC0gaW5pdFpvb20pO1xuXG4gICAgICAgICAgICAvL1RPRE8oamVyb21lcGwpOiBDYWxjdWxhdGUgcG9zaXRpb24gZnJvbSBwYWdlIHRvcCBsZWZ0IHRvIHZpZXdwb3J0IHRvcCBsZWZ0XG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgaG9yaXpvbnRhbC92ZXJ0aWNhbE9mZnNldDogZGlzdGFuY2UgZnJvbSB2aWV3cG9ydCBjZW50ZXIgdG8gcGFnZSB1cHBlciBsZWZ0IGNvcm5lclxuICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbE9mZnNldCA9IChmb2NhbFBvaW50Lm9mZnNldC5sZWZ0ICogem9vbVJhdGlvKSAtIGZvY2FsWFRvQ2VudGVyO1xuICAgICAgICAgICAgY29uc3QgdmVydGljYWxPZmZzZXQgPSAoZm9jYWxQb2ludC5vZmZzZXQudG9wICogem9vbVJhdGlvKSAtIGZvY2FsWVRvQ2VudGVyO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHpvb21MZXZlbDogem9vbUxldmVsLFxuICAgICAgICAgICAgICAgIGFuY2hvclBhZ2U6IGZvY2FsUG9pbnQuYW5jaG9yUGFnZSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldDogdmVydGljYWxPZmZzZXQsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogaG9yaXpvbnRhbE9mZnNldFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuem9vbUxldmVsID0gbmV3Wm9vbUxldmVsO1xuICAgICAgICBsZXQgaW5pdGlhbFpvb21MZXZlbCA9IHRoaXMudmlld2VyU3RhdGUub2xkWm9vbUxldmVsO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA9IHRoaXMuc2V0dGluZ3Muem9vbUxldmVsO1xuICAgICAgICBjb25zdCBlbmRQb3NpdGlvbiA9IGdldFBvc2l0aW9uRm9yWm9vbUxldmVsKG5ld1pvb21MZXZlbCwgaW5pdGlhbFpvb21MZXZlbCk7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5nb0RpcmVjdGx5VG8gPSBlbmRQb3NpdGlvbi5hbmNob3JQYWdlO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsT2Zmc2V0ID0gZW5kUG9zaXRpb24udmVydGljYWxPZmZzZXQ7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldCA9IGVuZFBvc2l0aW9uLmhvcml6b250YWxPZmZzZXQ7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci50cmFuc2l0aW9uVmlld3BvcnRQb3NpdGlvbih7XG4gICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5zZXR0aW5ncy56b29tRHVyYXRpb24sXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAgICAgem9vbUxldmVsOiB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGluaXRpYWxab29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIHRvOiBuZXdab29tTGV2ZWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0UG9zaXRpb246IChwYXJhbWV0ZXJzKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRQb3NpdGlvbkZvclpvb21MZXZlbChwYXJhbWV0ZXJzLnpvb21MZXZlbCwgaW5pdGlhbFpvb21MZXZlbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FbmQ6IChpbmZvKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5ib3VuZFNjcm9sbEZ1bmN0aW9uKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmZvLmludGVycnVwdGVkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA9IG5ld1pvb21MZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRGVhY3RpdmF0ZSB6b29tIGJ1dHRvbnMgd2hpbGUgem9vbWluZ1xuICAgICAgICBsZXQgem9vbUluQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5zZWxlY3RvciArICd6b29tLWluLWJ1dHRvbicpO1xuICAgICAgICBsZXQgem9vbU91dEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAnem9vbS1vdXQtYnV0dG9uJyk7XG4gICAgICAgIHpvb21JbkJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHpvb21PdXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHpvb21JbkJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgem9vbU91dEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9LCB0aGlzLnNldHRpbmdzLnpvb21EdXJhdGlvbik7XG5cbiAgICAgICAgLy8gU2VuZCBvZmYgdGhlIHpvb20gbGV2ZWwgZGlkIGNoYW5nZSBldmVudC5cbiAgICAgICAgdGhpcy5wdWJsaXNoKFwiWm9vbUxldmVsRGlkQ2hhbmdlXCIsIG5ld1pvb21MZXZlbCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLypcbiAgICAgR2V0cyB0aGUgWS1vZmZzZXQgZm9yIGEgc3BlY2lmaWMgcG9pbnQgb24gYSBzcGVjaWZpYyBwYWdlXG4gICAgIEFjY2VwdGFibGUgdmFsdWVzIGZvciBcImFuY2hvclwiOlxuICAgICBcInRvcFwiIChkZWZhdWx0KSAtIHdpbGwgYW5jaG9yIHRvcCBvZiB0aGUgcGFnZSB0byB0aGUgdG9wIG9mIHRoZSBkaXZhLW91dGVyIGVsZW1lbnRcbiAgICAgXCJib3R0b21cIiAtIHRvcCwgcy90b3AvYm90dG9tXG4gICAgIFwiY2VudGVyXCIgLSB3aWxsIGNlbnRlciB0aGUgcGFnZSBvbiB0aGUgZGl2YSBlbGVtZW50XG4gICAgIFJldHVybmVkIHZhbHVlIHdpbGwgYmUgdGhlIGRpc3RhbmNlIGZyb20gdGhlIGNlbnRlciBvZiB0aGUgZGl2YS1vdXRlciBlbGVtZW50IHRvIHRoZSB0b3Agb2YgdGhlIGN1cnJlbnQgcGFnZSBmb3IgdGhlIHNwZWNpZmllZCBhbmNob3JcbiAgICAgKi9cbiAgICBnZXRZT2Zmc2V0IChwYWdlSW5kZXgsIGFuY2hvcilcbiAgICB7XG4gICAgICAgIGxldCBwaWR4ID0gKHR5cGVvZihwYWdlSW5kZXgpID09PSBcInVuZGVmaW5lZFwiID8gdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXggOiBwYWdlSW5kZXgpO1xuXG4gICAgICAgIGlmIChhbmNob3IgPT09IFwiY2VudGVyXCIgfHwgYW5jaG9yID09PSBcImNlbnRyZVwiKSAvL2hvdyB5b3UgY2FuIHRlbGwgYW4gQW1lcmljYW4gY29kZWQgdGhpc1xuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRQYWdlRGF0YShwaWR4LCBcImhcIikgLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYW5jaG9yID09PSBcImJvdHRvbVwiKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRQYWdlRGF0YShwaWR4LCBcImhcIikgLSB0aGlzLnNldHRpbmdzLnBhbmVsSGVpZ2h0IC8gMiwgMTApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQgLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvL1NhbWUgYXMgZ2V0WU9mZnNldCB3aXRoIFwibGVmdFwiIGFuZCBcInJpZ2h0XCIgYXMgYWNjZXB0YWJsZSB2YWx1ZXMgaW5zdGVhZCBvZiBcInRvcFwiIGFuZCBcImJvdHRvbVwiXG4gICAgZ2V0WE9mZnNldCAocGFnZUluZGV4LCBhbmNob3IpXG4gICAge1xuICAgICAgICBsZXQgcGlkeCA9ICh0eXBlb2YocGFnZUluZGV4KSA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4IDogcGFnZUluZGV4KTtcblxuICAgICAgICBpZiAoYW5jaG9yID09PSBcImxlZnRcIilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuc2V0dGluZ3MucGFuZWxXaWR0aCAvIDIsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbmNob3IgPT09IFwicmlnaHRcIilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuZ2V0UGFnZURhdGEocGlkeCwgXCJ3XCIpIC0gdGhpcy5zZXR0aW5ncy5wYW5lbFdpZHRoIC8gMiwgMTApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuZ2V0UGFnZURhdGEocGlkeCwgXCJ3XCIpIC8gMiwgMTApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlcyBwYW5lbEhlaWdodC9wYW5lbFdpZHRoIG9uIHJlc2l6ZVxuICAgIHVwZGF0ZVBhbmVsU2l6ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogVGhpcyBzaG91bGQgcmVhbGx5IG9ubHkgYmUgY2FsbGVkIGFmdGVyIGluaXRpYWwgbG9hZFxuICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVPZmZzZXRzKCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmdvdG8odGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQsIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB1cGRhdGVPZmZzZXRzICgpXG4gICAge1xuICAgICAgICBjb25zdCBwYWdlT2Zmc2V0ID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQuZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQodGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQpO1xuXG4gICAgICAgIGlmIChwYWdlT2Zmc2V0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXQgPSBwYWdlT2Zmc2V0Lng7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsT2Zmc2V0ID0gcGFnZU9mZnNldC55O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQmluZCBtb3VzZSBldmVudHMgKGRyYWcgdG8gc2Nyb2xsLCBkb3VibGUtY2xpY2spXG4gICAgYmluZE1vdXNlRXZlbnRzICgpXG4gICAge1xuICAgICAgICAvLyBTZXQgZHJhZyBzY3JvbGwgb24gdGhlIHZpZXdwb3J0IG9iamVjdFxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LmNsYXNzTGlzdC5hZGQoJ2RyYWdzY3JvbGwnKTtcblxuICAgICAgICBnZXN0dXJlRXZlbnRzLm9uRG91YmxlQ2xpY2sodGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdCwgKGV2ZW50LCBjb29yZHMpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlYnVnKCdEb3VibGUgY2xpY2sgYXQgJXMsICVzJywgY29vcmRzLmxlZnQsIGNvb3Jkcy50b3ApO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlci5vbkRvdWJsZUNsaWNrKGV2ZW50LCBjb29yZHMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJlc2l6ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVQYW5lbFNpemUoKTtcbiAgICAgICAgLy8gQ2FuY2VsIGFueSBwcmV2aW91c2x5LXNldCByZXNpemUgdGltZW91dHNcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudmlld2VyU3RhdGUucmVzaXplVGltZXIpO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwYWdlT2Zmc2V0ID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQuZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQodGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQpO1xuXG4gICAgICAgICAgICBpZiAocGFnZU9mZnNldClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICAgICAgICAgIGdvRGlyZWN0bHlUbzogdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiBwYWdlT2Zmc2V0LnksXG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQ6IHBhZ2VPZmZzZXQueFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgZ29EaXJlY3RseVRvOiB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAyMDApO1xuICAgIH1cblxuICAgIC8vIEJpbmQgdG91Y2ggYW5kIG9yaWVudGF0aW9uIGNoYW5nZSBldmVudHNcbiAgICBiaW5kVG91Y2hFdmVudHMgKClcbiAgICB7XG4gICAgICAgIC8vIEJsb2NrIHRoZSB1c2VyIGZyb20gbW92aW5nIHRoZSB3aW5kb3cgb25seSBpZiBpdCdzIG5vdCBpbnRlZ3JhdGVkXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmJsb2NrTW9iaWxlTW92ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZXZlbnQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUb3VjaCBldmVudHMgZm9yIHN3aXBpbmcgaW4gdGhlIHZpZXdwb3J0IHRvIHNjcm9sbCBwYWdlc1xuICAgICAgICAvLyB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsRnVuY3Rpb24uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgZ2VzdHVyZUV2ZW50cy5vblBpbmNoKHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QsIGZ1bmN0aW9uIChldmVudCwgY29vcmRzLCBzdGFydCwgZW5kKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWJ1ZygnUGluY2ggJXMgYXQgJXMsICVzJywgZW5kIC0gc3RhcnQsIGNvb3Jkcy5sZWZ0LCBjb29yZHMudG9wKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIub25QaW5jaChldmVudCwgY29vcmRzLCBzdGFydCwgZW5kKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ2VzdHVyZUV2ZW50cy5vbkRvdWJsZVRhcCh0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LCBmdW5jdGlvbiAoZXZlbnQsIGNvb3JkcylcbiAgICAgICAge1xuICAgICAgICAgICAgZGVidWcoJ0RvdWJsZSB0YXAgYXQgJXMsICVzJywgY29vcmRzLmxlZnQsIGNvb3Jkcy50b3ApO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlci5vbkRvdWJsZUNsaWNrKGV2ZW50LCBjb29yZHMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgdGhlIHNjcm9sbFxuICAgIHNjcm9sbEZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICBjb25zdCBwcmV2aW91c1RvcFNjcm9sbCA9IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wO1xuICAgICAgICBjb25zdCBwcmV2aW91c0xlZnRTY3JvbGwgPSB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmxlZnQ7XG5cbiAgICAgICAgbGV0IGRpcmVjdGlvbjtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludmFsaWRhdGUoKTtcblxuICAgICAgICBjb25zdCBuZXdTY3JvbGxUb3AgPSB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcDtcbiAgICAgICAgY29uc3QgbmV3U2Nyb2xsTGVmdCA9IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdDtcblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQgfHwgdGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBuZXdTY3JvbGxUb3AgLSBwcmV2aW91c1RvcFNjcm9sbDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGlyZWN0aW9uID0gbmV3U2Nyb2xsTGVmdCAtIHByZXZpb3VzTGVmdFNjcm9sbDtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmFkanVzdCgpO1xuXG4gICAgICAgIGNvbnN0IHByaW1hcnlTY3JvbGwgPSAodGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQgfHwgdGhpcy5zZXR0aW5ncy5pbkdyaWQpID8gbmV3U2Nyb2xsVG9wIDogbmV3U2Nyb2xsTGVmdDtcblxuICAgICAgICB0aGlzLnB1Ymxpc2goXCJWaWV3ZXJEaWRTY3JvbGxcIiwgcHJpbWFyeVNjcm9sbCk7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaChcIlZpZXdlckRpZFNjcm9sbERvd25cIiwgcHJpbWFyeVNjcm9sbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlyZWN0aW9uIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoKFwiVmlld2VyRGlkU2Nyb2xsVXBcIiwgcHJpbWFyeVNjcm9sbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZU9mZnNldHMoKTtcbiAgICB9XG5cbiAgICAvLyBCaW5kcyBtb3N0IG9mIHRoZSBldmVudCBoYW5kbGVycyAoc29tZSBtb3JlIGluIGNyZWF0ZVRvb2xiYXIpXG4gICAgaGFuZGxlRXZlbnRzICgpXG4gICAge1xuICAgICAgICAvLyBDaGFuZ2UgdGhlIGN1cnNvciBmb3IgZHJhZ2dpbmdcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lck9iamVjdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyT2JqZWN0LmNsYXNzTGlzdC5hZGQoJ2RpdmEtZ3JhYmJpbmcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lck9iamVjdC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lck9iamVjdC5jbGFzc0xpc3QucmVtb3ZlKCdkaXZhLWdyYWJiaW5nJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYmluZE1vdXNlRXZlbnRzKCk7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5ib3VuZFNjcm9sbEZ1bmN0aW9uKTtcblxuICAgICAgICBjb25zdCB1cEFycm93S2V5ID0gMzgsIGRvd25BcnJvd0tleSA9IDQwLCBsZWZ0QXJyb3dLZXkgPSAzNywgcmlnaHRBcnJvd0tleSA9IDM5LCBzcGFjZUtleSA9IDMyLCBwYWdlVXBLZXkgPSAzMywgcGFnZURvd25LZXkgPSAzNCwgaG9tZUtleSA9IDM2LCBlbmRLZXkgPSAzNTtcblxuICAgICAgICAvLyBDYXRjaCB0aGUga2V5IHByZXNzZXMgaW4gZG9jdW1lbnRcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bi5kaXZhJywgKGV2ZW50KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUuaXNBY3RpdmVEaXZhKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAvLyBTcGFjZSBvciBwYWdlIGRvd24gLSBnbyB0byB0aGUgbmV4dCBwYWdlXG4gICAgICAgICAgICBpZiAoKHRoaXMuc2V0dGluZ3MuZW5hYmxlU3BhY2VTY3JvbGwgJiYgIWV2ZW50LnNoaWZ0S2V5ICYmIGV2ZW50LmtleUNvZGUgPT09IHNwYWNlS2V5KSB8fCAodGhpcy5zZXR0aW5ncy5lbmFibGVLZXlTY3JvbGwgJiYgZXZlbnQua2V5Q29kZSA9PT0gcGFnZURvd25LZXkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wICs9IHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuc2V0dGluZ3MuZW5hYmxlU3BhY2VTY3JvbGwgJiYgZXZlbnQua2V5Q29kZSA9PT0gc3BhY2VLZXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlS2V5U2Nyb2xsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIERvbid0IHN0ZWFsIGtleWJvYXJkIHNob3J0Y3V0cyAobWV0YUtleSA9IGNvbW1hbmQgW09TIFhdLCBzdXBlciBbV2luL0xpbnV4XSlcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGFnZVVwS2V5OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFnZSB1cCAtIGdvIHRvIHRoZSBwcmV2aW91cyBwYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcCAtPSB0aGlzLnNldHRpbmdzLnBhbmVsSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgdXBBcnJvd0tleTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwIGFycm93IC0gc2Nyb2xsIHVwXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcCAtPSB0aGlzLnNldHRpbmdzLmFycm93U2Nyb2xsQW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZG93bkFycm93S2V5OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG93biBhcnJvdyAtIHNjcm9sbCBkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcCArPSB0aGlzLnNldHRpbmdzLmFycm93U2Nyb2xsQW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgbGVmdEFycm93S2V5OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGVmdCBhcnJvdyAtIHNjcm9sbCBsZWZ0XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmxlZnQgLT0gdGhpcy5zZXR0aW5ncy5hcnJvd1Njcm9sbEFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIHJpZ2h0QXJyb3dLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSaWdodCBhcnJvdyAtIHNjcm9sbCByaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5sZWZ0ICs9IHRoaXMuc2V0dGluZ3MuYXJyb3dTY3JvbGxBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBob21lS2V5OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG9tZSBrZXkgLSBnbyB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3AgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZW5kS2V5OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5kIGtleSAtIGdvIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBvbiB0aGUgdmlld3BvcnQgY29vcmRpbmF0ZSB2YWx1ZSBiZWluZyBub3JtYWxpemVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3AgPSBJbmZpbml0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmxlZnQgPSBJbmZpbml0eTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGl2YS5FdmVudHMuc3Vic2NyaWJlKCdWaWV3ZXJEaWRUZXJtaW5hdGUnLCBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24uZGl2YScpO1xuICAgICAgICB9LCB0aGlzLnNldHRpbmdzLklEKTtcblxuICAgICAgICAvLyB0aGlzLmJpbmRUb3VjaEV2ZW50cygpO1xuXG4gICAgICAgIC8vIEhhbmRsZSB3aW5kb3cgcmVzaXppbmcgZXZlbnRzXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyksIGZhbHNlKTtcblxuICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1ZpZXdlckRpZFRlcm1pbmF0ZScsIGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUsIGZhbHNlKTtcbiAgICAgICAgfSwgdGhpcy5zZXR0aW5ncy5JRCk7XG5cbiAgICAgICAgLy8gSGFuZGxlIG9yaWVudGF0aW9uIGNoYW5nZSBzZXBhcmF0ZWx5XG4gICAgICAgIGlmICgnb25vcmllbnRhdGlvbmNoYW5nZScgaW4gd2luZG93KVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzLm9uUmVzaXplLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGRpdmEuRXZlbnRzLnN1YnNjcmliZSgnVmlld2VyRGlkVGVybWluYXRlJywgZnVuY3Rpb24oKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMub25SZXNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgIH0sIHRoaXMuc2V0dGluZ3MuSUQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGl2YS5FdmVudHMuc3Vic2NyaWJlKCdQYW5lbFNpemVEaWRDaGFuZ2UnLCB0aGlzLnVwZGF0ZVBhbmVsU2l6ZSwgdGhpcy5zZXR0aW5ncy5JRCk7XG5cbiAgICAgICAgLy8gQ2xlYXIgcGFnZSBhbmQgcmVzaXplIHRpbWVvdXRzIHdoZW4gdGhlIHZpZXdlciBpcyBkZXN0cm95ZWRcbiAgICAgICAgZGl2YS5FdmVudHMuc3Vic2NyaWJlKCdWaWV3ZXJEaWRUZXJtaW5hdGUnLCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlcilcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudmlld2VyU3RhdGUucmVzaXplVGltZXIpO1xuICAgICAgICB9LCB0aGlzLnNldHRpbmdzLklEKTtcbiAgICB9XG5cbiAgICBpbml0UGx1Z2lucyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmhhc093blByb3BlcnR5KCdwbHVnaW5zJykpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBsdWdpbkluc3RhbmNlcyA9IHRoaXMuc2V0dGluZ3MucGx1Z2lucy5tYXAoIChwbHVnaW4pID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBuZXcgcGx1Z2luKHRoaXMpO1xuXG4gICAgICAgICAgICBpZiAocC5pc1BhZ2VUb29sKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucGFnZVRvb2xzLnB1c2gocCk7XG5cbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzaG93VGhyb2JiZXIgKClcbiAgICB7XG4gICAgICAgIHRoaXMuaGlkZVRocm9iYmVyKCk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS50aHJvYmJlclRpbWVvdXRJRCA9IHNldFRpbWVvdXQoICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0aGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yICsgJ3Rocm9iYmVyJyk7XG4gICAgICAgICAgICBpZiAodGhiKSB0aGIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3MudGhyb2JiZXJUaW1lb3V0KTtcbiAgICB9XG5cbiAgICBoaWRlVGhyb2JiZXIgKClcbiAgICB7XG4gICAgICAgIC8vIENsZWFyIHRoZSB0aW1lb3V0LCBpZiBpdCBoYXNuJ3QgZXhlY3V0ZWQgeWV0XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnZpZXdlclN0YXRlLnRocm9iYmVyVGltZW91dElEKTtcblxuICAgICAgICBsZXQgdGhiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5zZWxlY3RvciArICd0aHJvYmJlcicpO1xuICAgICAgICAvLyBIaWRlIHRoZSB0aHJvYmJlciBpZiBpdCBoYXMgYWxyZWFkeSBleGVjdXRlZFxuICAgICAgICBpZiAodGhiKSB0aGIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG5cbiAgICBzaG93RXJyb3IgKG1lc3NhZ2UpXG4gICAge1xuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBlbHQoJ2RpdicsIHRoaXMuZWxlbUF0dHJzKCdlcnJvcicpLCBbXG4gICAgICAgICAgICBlbHQoJ2J1dHRvbicsIHRoaXMuZWxlbUF0dHJzKCdlcnJvci1jbG9zZScsIHsnYXJpYS1sYWJlbCc6ICdDbG9zZSBkaWFsb2cnfSkpLFxuICAgICAgICAgICAgZWx0KCdwJyxcbiAgICAgICAgICAgICAgICBlbHQoJ3N0cm9uZycsICdFcnJvcicpXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZWx0KCdkaXYnLCBtZXNzYWdlKVxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm91dGVyT2JqZWN0LmFwcGVuZENoaWxkKGVycm9yRWxlbWVudCk7XG5cbiAgICAgICAgLy8gQmluZCBkaWFsb2cgY2xvc2UgYnV0dG9uXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAnZXJyb3ItY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVycm9yRWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldE1hbmlmZXN0IChtYW5pZmVzdCwgbG9hZE9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm1hbmlmZXN0ID0gbWFuaWZlc3Q7XG5cbiAgICAgICAgdGhpcy5oaWRlVGhyb2JiZXIoKTtcblxuICAgICAgICAvLyBDb252ZW5pZW5jZSB2YWx1ZVxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm51bVBhZ2VzID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlcy5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zVmFsaWRhdG9yLnZhbGlkYXRlKHRoaXMudmlld2VyU3RhdGUub3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoKCdOdW1iZXJPZlBhZ2VzRGlkQ2hhbmdlJywgdGhpcy5zZXR0aW5ncy5udW1QYWdlcyk7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBpbnRlci1wYWdlIHBhZGRpbmcgYmFzZWQgb24gdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGF2ZXJhZ2Ugem9vbSBsZXZlbFxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hZGFwdGl2ZVBhZGRpbmcgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB6ID0gTWF0aC5mbG9vcigodGhpcy5zZXR0aW5ncy5taW5ab29tTGV2ZWwgKyB0aGlzLnNldHRpbmdzLm1heFpvb21MZXZlbCkgLyAyKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbFBhZGRpbmcgPSBwYXJzZUludCh0aGlzLnNldHRpbmdzLm1hbmlmZXN0LmdldEF2ZXJhZ2VXaWR0aCh6KSAqIHRoaXMuc2V0dGluZ3MuYWRhcHRpdmVQYWRkaW5nLCAxMCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsUGFkZGluZyA9IHBhcnNlSW50KHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuZ2V0QXZlcmFnZUhlaWdodCh6KSAqIHRoaXMuc2V0dGluZ3MuYWRhcHRpdmVQYWRkaW5nLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJdCdzIGxlc3MgdGhhbiBvciBlcXVhbCB0byAwOyB1c2UgZml4ZWRQYWRkaW5nIGluc3RlYWRcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbFBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLmZpeGVkUGFkZGluZztcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nID0gdGhpcy5zZXR0aW5ncy5maXhlZFBhZGRpbmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHZlcnRpY2FsIHBhZGRpbmcgaXMgYXQgbGVhc3QgNDAsIGlmIHBsdWdpbiBpY29ucyBhcmUgZW5hYmxlZFxuICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS5wYWdlVG9vbHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsUGFkZGluZyA9IE1hdGgubWF4KDQwLCB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsUGFkZGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBkZXRlY3QgYSB2aWV3aW5nSGludCBvZiAncGFnZWQnIGluIHRoZSBtYW5pZmVzdCBvciBzZXF1ZW5jZSwgZW5hYmxlIGJvb2sgdmlldyBieSBkZWZhdWx0XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuaW5Cb29rTGF5b3V0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBsdWdpbiBzZXR1cCBob29rcyBzaG91bGQgYmUgYm91bmQgdG8gdGhlIE9iamVjdERpZExvYWQgZXZlbnRcbiAgICAgICAgdGhpcy5wdWJsaXNoKCdPYmplY3REaWRMb2FkJywgdGhpcy5zZXR0aW5ncyk7XG5cbiAgICAgICAgLy8gQWRqdXN0IHRoZSBkb2N1bWVudCBwYW5lbCBkaW1lbnNpb25zXG4gICAgICAgIHRoaXMudXBkYXRlUGFuZWxTaXplKCk7XG5cbiAgICAgICAgbGV0IG5lZWRzWENvb3JkLCBuZWVkc1lDb29yZDtcblxuICAgICAgICBsZXQgYW5jaG9yZWRWZXJ0aWNhbGx5ID0gZmFsc2U7XG4gICAgICAgIGxldCBhbmNob3JlZEhvcml6b250YWxseSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIE5COiBgPT1gIGhlcmUgd2lsbCBjaGVjayBib3RoIG51bGwgYW5kIHVuZGVmaW5lZFxuICAgICAgICBpZiAobG9hZE9wdGlvbnMuZ29EaXJlY3RseVRvID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxvYWRPcHRpb25zLmdvRGlyZWN0bHlUbyA9IHRoaXMuc2V0dGluZ3MuZ29EaXJlY3RseVRvO1xuICAgICAgICAgICAgbmVlZHNYQ29vcmQgPSBuZWVkc1lDb29yZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBuZWVkc1hDb29yZCA9IGxvYWRPcHRpb25zLmhvcml6b250YWxPZmZzZXQgPT0gbnVsbCB8fCBpc05hTihsb2FkT3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0KTtcbiAgICAgICAgICAgIG5lZWRzWUNvb3JkID0gbG9hZE9wdGlvbnMudmVydGljYWxPZmZzZXQgPT0gbnVsbCB8fCBpc05hTihsb2FkT3B0aW9ucy52ZXJ0aWNhbE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgZGVmYXVsdCB2YWx1ZXMgZm9yIHRoZSBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBvZmZzZXRzXG4gICAgICAgIGlmIChuZWVkc1hDb29yZClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gRklYTUU6IFdoYXQgaWYgaW5Cb29rTGF5b3V0L3ZlcnRpY2FsbHlPcmllbnRlZCBpcyBjaGFuZ2VkIGJ5IGxvYWRPcHRpb25zP1xuICAgICAgICAgICAgaWYgKGxvYWRPcHRpb25zLmdvRGlyZWN0bHlUbyA9PT0gMCAmJiB0aGlzLnNldHRpbmdzLmluQm9va0xheW91dCAmJiB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBpbiBib29rIGxheW91dCwgY2VudGVyIHRoZSBmaXJzdCBvcGVuaW5nIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICBsb2FkT3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0ID0gdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsUGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbmNob3JlZEhvcml6b250YWxseSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbG9hZE9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCA9IHRoaXMuZ2V0WE9mZnNldChsb2FkT3B0aW9ucy5nb0RpcmVjdGx5VG8sIFwiY2VudGVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5lZWRzWUNvb3JkKVxuICAgICAgICB7XG4gICAgICAgICAgICBhbmNob3JlZFZlcnRpY2FsbHkgPSB0cnVlO1xuICAgICAgICAgICAgbG9hZE9wdGlvbnMudmVydGljYWxPZmZzZXQgPSB0aGlzLmdldFlPZmZzZXQobG9hZE9wdGlvbnMuZ29EaXJlY3RseVRvLCBcInRvcFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVsb2FkVmlld2VyKGxvYWRPcHRpb25zKTtcblxuICAgICAgICAvL3ByZXAgZGltZW5zaW9ucyBvbmUgbGFzdCB0aW1lIG5vdyB0aGF0IHBhZ2VzIGhhdmUgbG9hZGVkXG4gICAgICAgIHRoaXMudXBkYXRlUGFuZWxTaXplKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlQXV0b1RpdGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yICsgJ3RpdGxlJyk7XG5cbiAgICAgICAgICAgIGlmICh0aXRsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZS5pbm5lckhUTUwgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0Lml0ZW1UaXRsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLnBhcmVudE9iamVjdC5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ3RpdGxlJyksIFt0aGlzLnNldHRpbmdzLm1hbmlmZXN0Lml0ZW1UaXRsZV0pLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLnBhcmVudE9iamVjdC5maXJzdENoaWxkXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZJWE1FOiBUaGlzIGlzIGEgaGFjayB0byBlbnN1cmUgdGhhdCB0aGUgb3V0ZXJFbGVtZW50IHNjcm9sbGJhcnMgYXJlIHRha2VuIGludG8gYWNjb3VudFxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyRWxlbWVudC5zdHlsZS5taW5XaWR0aCA9IHRoaXMuc2V0dGluZ3MucGFuZWxXaWR0aCArICdweCc7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJFbGVtZW50LnN0eWxlLm1pbkhlaWdodCA9IHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQgKyAncHgnO1xuXG4gICAgICAgIC8vIEZJWE1FOiBJZiB0aGUgcGFnZSB3YXMgc3VwcG9zZWQgdG8gYmUgcG9zaXRpb25lZCByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQgd2UgbmVlZCB0b1xuICAgICAgICAvLyByZWNhbGN1bGF0ZSBpdCB0byB0YWtlIGludG8gYWNjb3VudCB0aGUgc2Nyb2xsYmFyc1xuICAgICAgICBpZiAoYW5jaG9yZWRWZXJ0aWNhbGx5IHx8IGFuY2hvcmVkSG9yaXpvbnRhbGx5KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYW5jaG9yZWRWZXJ0aWNhbGx5KVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgPSB0aGlzLmdldFlPZmZzZXQodGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsIFwidG9wXCIpO1xuXG4gICAgICAgICAgICBpZiAoYW5jaG9yZWRIb3Jpem9udGFsbHkpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0ID0gdGhpcy5nZXRYT2Zmc2V0KHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LCBcImNlbnRlclwiKTtcblxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5nb3RvKHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LCB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsT2Zmc2V0LCB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2lnbmFsIHRoYXQgZXZlcnl0aGluZyBzaG91bGQgYmUgc2V0IHVwIGFuZCByZWFkeSB0byBnby5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5sb2FkZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMucHVibGlzaChcIlZpZXdlckRpZExvYWRcIiwgdGhpcy5zZXR0aW5ncyk7XG4gICAgfVxuXG4gICAgcHVibGlzaCAoZXZlbnQpXG4gICAge1xuICAgICAgICBjb25zdCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgZGl2YS5FdmVudHMucHVibGlzaChldmVudCwgYXJncywgdGhpcy5wdWJsaWNJbnN0YW5jZSk7XG4gICAgfVxuXG4gICAgZ2V0U2V0dGluZ3MgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzO1xuICAgIH1cblxuICAgIC8vIFRlbXBvcmFyeSBhY2Nlc3NvciBmb3IgdGhlIHN0YXRlIG9mIHRoZSB2aWV3ZXIgY29yZVxuICAgIC8vIFRPRE86IFJlcGxhY2UgdGhpcyB3aXRoIGEgbW9yZSByZXN0cmljdGVkIHZpZXcgb2Ygd2hhdGV2ZXIgbmVlZHNcbiAgICAvLyBiZSBleHBvc2VkIHRocm91Z2ggc2V0dGluZ3MgZm9yIGJhY2t3YXJkcyBjb21wYXRcbiAgICBnZXRJbnRlcm5hbFN0YXRlICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZTtcbiAgICB9XG5cbiAgICBnZXRQdWJsaWNJbnN0YW5jZSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHVibGljSW5zdGFuY2U7XG4gICAgfVxuXG4gICAgZ2V0UGFnZVRvb2xzICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5wYWdlVG9vbHM7XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudExheW91dCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIgPyB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dCA6IG51bGw7XG4gICAgfVxuXG4gICAgLyoqIEdldCBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgdmlld3BvcnQgZGltZW5zaW9ucyAqL1xuICAgIGdldFZpZXdwb3J0ICgpXG4gICAge1xuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQ7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogdmlld3BvcnQudG9wLFxuICAgICAgICAgICAgbGVmdDogdmlld3BvcnQubGVmdCxcbiAgICAgICAgICAgIGJvdHRvbTogdmlld3BvcnQuYm90dG9tLFxuICAgICAgICAgICAgcmlnaHQ6IHZpZXdwb3J0LnJpZ2h0LFxuXG4gICAgICAgICAgICB3aWR0aDogdmlld3BvcnQud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHZpZXdwb3J0LmhlaWdodFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFkZFBhZ2VPdmVybGF5IChvdmVybGF5KVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5wYWdlT3ZlcmxheXMuYWRkT3ZlcmxheShvdmVybGF5KTtcbiAgICB9XG5cbiAgICByZW1vdmVQYWdlT3ZlcmxheSAob3ZlcmxheSlcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucGFnZU92ZXJsYXlzLnJlbW92ZU92ZXJsYXkob3ZlcmxheSk7XG4gICAgfVxuXG4gICAgZ2V0UGFnZVJlZ2lvbiAocGFnZUluZGV4LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQ7XG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IGxheW91dC5nZXRQYWdlUmVnaW9uKHBhZ2VJbmRleCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pbmNvcnBvcmF0ZVZpZXdwb3J0KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRhcnlEaW0gPSB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcblxuICAgICAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRbc2Vjb25kYXJ5RGltXSA+IGxheW91dC5kaW1lbnNpb25zW3NlY29uZGFyeURpbV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9jT2Zmc2V0ID0gKHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRbc2Vjb25kYXJ5RGltXSAtIGxheW91dC5kaW1lbnNpb25zW3NlY29uZGFyeURpbV0pIC8gMjtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHJlZ2lvbi50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IHJlZ2lvbi5ib3R0b20sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0ICsgZG9jT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHJlZ2lvbi5yaWdodCArIGRvY09mZnNldFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiByZWdpb24udG9wICsgZG9jT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiByZWdpb24uYm90dG9tICsgZG9jT2Zmc2V0LFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiByZWdpb24ubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiByZWdpb24ucmlnaHRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVnaW9uO1xuICAgIH1cblxuICAgIGdldFBhZ2VQb3NpdGlvbkF0Vmlld3BvcnRPZmZzZXQgKGNvb3JkcylcbiAgICB7XG4gICAgICAgIGNvbnN0IGRvY0Nvb3JkcyA9IHtcbiAgICAgICAgICAgIGxlZnQ6IGNvb3Jkcy5sZWZ0ICsgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5sZWZ0LFxuICAgICAgICAgICAgdG9wOiBjb29yZHMudG9wICsgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3BcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZW5kZXJlZFBhZ2VzID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5nZXRSZW5kZXJlZFBhZ2VzKCk7XG4gICAgICAgIGNvbnN0IHBhZ2VDb3VudCA9IHJlbmRlcmVkUGFnZXMubGVuZ3RoO1xuXG4gICAgICAgIC8vIEZpbmQgdGhlIHBhZ2Ugb24gd2hpY2ggdGhlIGNvb3JkcyBvY2N1clxuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBwYWdlQ291bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gcmVuZGVyZWRQYWdlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lvbiA9IHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubGF5b3V0LmdldFBhZ2VSZWdpb24ocGFnZUluZGV4KTtcblxuICAgICAgICAgICAgaWYgKHJlZ2lvbi5sZWZ0IDw9IGRvY0Nvb3Jkcy5sZWZ0ICYmIHJlZ2lvbi5yaWdodCA+PSBkb2NDb29yZHMubGVmdCAmJlxuICAgICAgICAgICAgICAgIHJlZ2lvbi50b3AgPD0gZG9jQ29vcmRzLnRvcCAmJiByZWdpb24uYm90dG9tID49IGRvY0Nvb3Jkcy50b3ApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgYW5jaG9yUGFnZTogcGFnZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGRvY0Nvb3Jkcy5sZWZ0IC0gcmVnaW9uLmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IGRvY0Nvb3Jkcy50b3AgLSByZWdpb24udG9wXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmFsbCBiYWNrIHRvIGN1cnJlbnQgcGFnZVxuICAgICAgICAvLyBGSVhNRTogV291bGQgYmUgYmV0dGVyIHRvIHVzZSB0aGUgY2xvc2VzdCBwYWdlIG9yIHNvbWV0aGluZ1xuICAgICAgICBjb25zdCBjdXJyZW50UmVnaW9uID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQuZ2V0UGFnZVJlZ2lvbih0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFuY2hvclBhZ2U6IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LFxuICAgICAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgbGVmdDogZG9jQ29vcmRzLmxlZnQgLSBjdXJyZW50UmVnaW9uLmxlZnQsXG4gICAgICAgICAgICAgICAgdG9wOiBkb2NDb29yZHMudG9wIC0gY3VycmVudFJlZ2lvbi50b3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBzZXRNYW5pZmVzdCAobWFuaWZlc3QsIGxvYWRPcHRpb25zKVxuICAgIC8vIHtcbiAgICAvLyAgICAgc2V0TWFuaWZlc3QobWFuaWZlc3QsIGxvYWRPcHRpb25zIHx8IHt9KTtcbiAgICAvLyB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGN1cnJlbnQgcGFnZSB0byB0aGUgZ2l2ZW4gaW5kZXgsIGZpcmluZyBWaXNpYmxlUGFnZURpZENoYW5nZVxuICAgICAqXG4gICAgICogQHBhcmFtIHBhZ2VJbmRleFxuICAgICAqL1xuICAgIHNldEN1cnJlbnRQYWdlcyAoYWN0aXZlUGFnZSwgdmlzaWJsZVBhZ2VzKVxuICAgIHtcbiAgICAgICAgaWYgKCFhcnJheXNFcXVhbCh0aGlzLnZpZXdlclN0YXRlLmN1cnJlbnRQYWdlSW5kaWNlcywgdmlzaWJsZVBhZ2VzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5jdXJyZW50UGFnZUluZGljZXMgPSB2aXNpYmxlUGFnZXM7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS5hY3RpdmVQYWdlSW5kZXggIT09IGFjdGl2ZVBhZ2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5hY3RpdmVQYWdlSW5kZXggPSBhY3RpdmVQYWdlO1xuICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaChcIkFjdGl2ZVBhZ2VEaWRDaGFuZ2VcIiwgYWN0aXZlUGFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2goXCJWaXNpYmxlUGFnZURpZENoYW5nZVwiLCB2aXNpYmxlUGFnZXMpO1xuXG4gICAgICAgICAgICAvLyBQdWJsaXNoIGFuIGV2ZW50IGlmIHRoZSBwYWdlIHdlJ3JlIHN3aXRjaGluZyB0byBoYXMgb3RoZXIgaW1hZ2VzLlxuICAgICAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3QucGFnZXNbYWN0aXZlUGFnZV0ub3RoZXJJbWFnZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2goJ1Zpc2libGVQYWdlSGFzQWx0ZXJuYXRlVmlld3MnLCBhY3RpdmVQYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnZpZXdlclN0YXRlLmFjdGl2ZVBhZ2VJbmRleCAhPT0gYWN0aXZlUGFnZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5hY3RpdmVQYWdlSW5kZXggPSBhY3RpdmVQYWdlO1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoKFwiQWN0aXZlUGFnZURpZENoYW5nZVwiLCBhY3RpdmVQYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFycmF5c0VxdWFsIChhLCBiKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGFbaV0gIT09IGJbaV0pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UGFnZU5hbWUgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLm1hbmlmZXN0LnBhZ2VzW3BhZ2VJbmRleF0uZjtcbiAgICB9XG5cbiAgICByZWxvYWQgKG5ld09wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLnJlbG9hZFZpZXdlcihuZXdPcHRpb25zKTtcbiAgICB9XG5cbiAgICB6b29tICh6b29tTGV2ZWwsIGZvY2FsUG9pbnQpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVab29tKHpvb21MZXZlbCwgZm9jYWxQb2ludCk7XG4gICAgfVxuXG4gICAgZW5hYmxlU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpZXdlclN0YXRlLmlzU2Nyb2xsYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iaW5kTW91c2VFdmVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlRHJhZ1Njcm9sbGFibGUoKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5lbmFibGVLZXlTY3JvbGwgPSB0aGlzLnZpZXdlclN0YXRlLmluaXRpYWxLZXlTY3JvbGw7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuZW5hYmxlU3BhY2VTY3JvbGwgPSB0aGlzLnZpZXdlclN0YXRlLmluaXRpYWxTcGFjZVNjcm9sbDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pc1Njcm9sbGFibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5hYmxlRHJhZ1Njcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0Lmhhc0F0dHJpYnV0ZSgnbm9jaGlsZGRyYWcnKSlcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QucmVtb3ZlQXR0cmlidXRlKCdub2NoaWxkZHJhZycpO1xuICAgIH1cblxuICAgIGRpc2FibGVTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS5pc1Njcm9sbGFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGJsb2NrIGRyYWdnaW5nXG4gICAgICAgICAgICB0aGlzLmRpc2FibGVEcmFnU2Nyb2xsYWJsZSgpO1xuXG4gICAgICAgICAgICAvLyBibG9jayBkb3VibGUtY2xpY2sgem9vbWluZ1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vdXRlck9iamVjdC5kYmxjbGljayA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm91dGVyT2JqZWN0LmNvbnRleHRtZW51ID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gZGlzYWJsZSBhbGwgb3RoZXIgc2Nyb2xsaW5nIGFjdGlvbnNcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG5cbiAgICAgICAgICAgIC8vIGJsb2NrIHNjcm9sbGluZyBrZXlzIGJlaGF2aW9yLCByZXNwZWN0aW5nIGluaXRpYWwgc2Nyb2xsIHNldHRpbmdzXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmluaXRpYWxLZXlTY3JvbGwgPSB0aGlzLnNldHRpbmdzLmVuYWJsZUtleVNjcm9sbDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5pdGlhbFNwYWNlU2Nyb2xsID0gdGhpcy5zZXR0aW5ncy5lbmFibGVTcGFjZVNjcm9sbDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5lbmFibGVLZXlTY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5lbmFibGVTcGFjZVNjcm9sbCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlzU2Nyb2xsYWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzYWJsZURyYWdTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuaGFzQXR0cmlidXRlKCdub2NoaWxkZHJhZycpKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5zZXRBdHRyaWJ1dGUoJ25vY2hpbGRkcmFnJywgXCJcIik7XG4gICAgfVxuXG4gICAgLy8gaXNWYWxpZE9wdGlvbiAoa2V5LCB2YWx1ZSlcbiAgICAvLyB7XG4gICAgLy8gICAgIHJldHVybiBpc1ZhbGlkT3B0aW9uKGtleSwgdmFsdWUpO1xuICAgIC8vIH1cblxuICAgIC8vIGdldFhPZmZzZXQgKHBhZ2VJbmRleCwgeEFuY2hvcilcbiAgICAvLyB7XG4gICAgLy8gICAgIHJldHVybiBnZXRYT2Zmc2V0KHBhZ2VJbmRleCwgeEFuY2hvcik7XG4gICAgLy8gfVxuXG4gICAgLy8gZ2V0WU9mZnNldCAocGFnZUluZGV4LCB5QW5jaG9yKVxuICAgIC8vIHtcbiAgICAvLyAgICAgcmV0dXJuIGdldFlPZmZzZXQocGFnZUluZGV4LCB5QW5jaG9yKTtcbiAgICAvLyB9XG5cbiAgICAvLyB0aGlzLnB1Ymxpc2ggPSBwdWJsaXNoO1xuXG4gICAgY2xlYXIgKClcbiAgICB7XG4gICAgICAgIHRoaXMuY2xlYXJWaWV3ZXIoKTtcbiAgICB9XG5cbiAgICBzZXRQZW5kaW5nTWFuaWZlc3RSZXF1ZXN0IChwZW5kaW5nTWFuaWZlc3RSZXF1ZXN0KVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5wZW5kaW5nTWFuaWZlc3RSZXF1ZXN0ID0gcGVuZGluZ01hbmlmZXN0UmVxdWVzdDtcbiAgICB9XG5cbiAgICBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICAvLyBVc2VmdWwgZXZlbnQgdG8gYWNjZXNzIGVsZW1lbnRzIGluIGRpdmEgYmVmb3JlIHRoZXkgZ2V0IGRlc3Ryb3llZC4gVXNlZCBieSB0aGUgaGlnaGxpZ2h0IHBsdWdpbi5cbiAgICAgICAgdGhpcy5wdWJsaXNoKCdWaWV3ZXJXaWxsVGVybWluYXRlJywgdGhpcy5zZXR0aW5ncyk7XG5cbiAgICAgICAgLy8gQ2FuY2VsIGFueSBwZW5kaW5nIHJlcXVlc3QgcmV0cmlldmluZyBhIG1hbmlmZXN0XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnBlbmRpbmdNYW5pZmVzdFJlcXVlc3QpXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnBlbmRpbmdNYW5pZmVzdFJlcXVlc3QuYWJvcnQoKTtcblxuICAgICAgICAvLyBSZW1vdmVzIHRoZSBoaWRlLXNjcm9sbGJhciBjbGFzcyBmcm9tIHRoZSBib2R5XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2xhc3MoJ2RpdmEtaGlkZS1zY3JvbGxiYXInKTtcblxuICAgICAgICAvLyBFbXB0eSB0aGUgcGFyZW50IGNvbnRhaW5lciBhbmQgcmVtb3ZlIGFueSBkaXZhLXJlbGF0ZWQgZGF0YVxuICAgICAgICB0aGlzLnNldHRpbmdzLnBhcmVudE9iamVjdC5wYXJlbnQoKS5lbXB0eSgpLnJlbW92ZURhdGEoJ2RpdmEnKTtcblxuICAgICAgICAvLyBSZW1vdmUgYW55IGFkZGl0aW9uYWwgc3R5bGluZyBvbiB0aGUgcGFyZW50IGVsZW1lbnRcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wYXJlbnRPYmplY3QucGFyZW50KCkucmVtb3ZlQXR0cignc3R5bGUnKS5yZW1vdmVBdHRyKCdjbGFzcycpO1xuXG4gICAgICAgIHRoaXMucHVibGlzaCgnVmlld2VyRGlkVGVybWluYXRlJywgdGhpcy5zZXR0aW5ncyk7XG5cbiAgICAgICAgLy8gQ2xlYXIgdGhlIEV2ZW50cyBjYWNoZVxuICAgICAgICBkaXZhLkV2ZW50cy51bnN1YnNjcmliZUFsbCh0aGlzLnNldHRpbmdzLklEKTtcbiAgICB9XG59XG4iLCIvLyBGcm9tIGh0dHA6Ly93d3cuYWxleGFuZHJlLWdvbWVzLmNvbS8/cD0xMTUsIG1vZGlmaWVkIHNsaWdodGx5XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRTY3JvbGxiYXJXaWR0aCgpXG57XG4gICAgbGV0IGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIGlubmVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIGlubmVyLnN0eWxlLmhlaWdodCA9ICcyMDBweCc7XG5cbiAgICBsZXQgb3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBvdXRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgb3V0ZXIuc3R5bGUudG9wID0gJzBweCc7XG4gICAgb3V0ZXIuc3R5bGUubGVmdCA9ICcwcHgnO1xuICAgIG91dGVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBvdXRlci5zdHlsZS53aWR0aCA9ICcyMDBweCc7XG4gICAgb3V0ZXIuc3R5bGUuaGVpZ2h0ID0gJzE1MHB4JztcbiAgICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpO1xuXG4gICAgbGV0IHcxID0gaW5uZXIub2Zmc2V0V2lkdGg7XG4gICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgICBsZXQgdzIgPSBpbm5lci5vZmZzZXRXaWR0aDtcbiAgICBpZiAodzEgPT09IHcyKSB7XG4gICAgICAgIHcyID0gb3V0ZXIuY2xpZW50V2lkdGg7IC8vIGZvciBJRSBpIHRoaW5rXG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdXRlcik7XG4gICAgcmV0dXJuIHcxIC0gdzI7XG59XG4iLCIvKipcbiAqIFBhcnNlcyBhIHYzIG1hbmlmZXN0J3MgbGFiZWwvdmFsdWUgcGFpciBmcm9tIGFuIG9iamVjdCAmIGFycmF5IHRvIGEgc3RyaW5nXG4gKlxuICogQHB1YmxpY1xuICogQHBhcmFtcyB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IGZyb20gd2hpY2ggYSBsYWJlbC92YWx1ZSBwYWlyIHNob3VsZCBiZSBleHRyYWN0ZWQuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIFRoZSBsYWJlbC92YWx1ZSBwYWlyIGFzIHN0cmluZ3MuXG4gKiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZUxhYmVsVmFsdWUgKGtleSlcbntcbiAgICBsZXQgbCA9IGtleS5sYWJlbDsgXG4gICAgbGV0IGxhYmVsID0gKHR5cGVvZiBsID09PSAnb2JqZWN0JykgPyBsW09iamVjdC5rZXlzKGwpWzBdXVswXSA6IGw7XG5cbiAgICBsZXQgdiA9IGtleS52YWx1ZTtcbiAgICBsZXQgdmFsdWU7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodikpXG4gICAgeyAvLyBpcyBhcnJheSBvZiBvYmplY3RzXG4gICAgICAgIHZhbHVlID0gdi5tYXAoZSA9PiBlW09iamVjdC5rZXlzKGUpWzBdXSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7IC8vIGlzIG9iamVjdCB3aGVyZSB2YWx1ZSBpcyBwb3NzaWJseSBhbiBhcnJheVxuICAgICAgICB2YWx1ZSA9ICh0eXBlb2YgdiA9PT0gJ29iamVjdCcpID8gdltPYmplY3Qua2V5cyh2KVswXV0gOiB2O1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUuam9pbignLCAnKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG59IiwiaW1wb3J0IHBhcnNlTGFiZWxWYWx1ZSBmcm9tICcuL3V0aWxzL3BhcnNlLWxhYmVsLXZhbHVlJztcblxuY29uc3QgZ2V0TWF4Wm9vbUxldmVsID0gKHdpZHRoLCBoZWlnaHQpID0+XG57XG4gICAgY29uc3QgbGFyZ2VzdERpbWVuc2lvbiA9IE1hdGgubWF4KHdpZHRoLCBoZWlnaHQpO1xuICAgIGlmIChsYXJnZXN0RGltZW5zaW9uIDwgMTI4KSBcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgcmV0dXJuIE1hdGguY2VpbChNYXRoLmxvZygobGFyZ2VzdERpbWVuc2lvbiArIDEpIC8gKDI1NiArIDEpKSAvIE1hdGgubG9nKDIpKTtcbn07XG5cbmNvbnN0IGluY29ycG9yYXRlWm9vbSA9IChpbWFnZURpbWVuc2lvbiwgem9vbURpZmZlcmVuY2UpID0+IGltYWdlRGltZW5zaW9uIC8gKE1hdGgucG93KDIsIHpvb21EaWZmZXJlbmNlKSk7XG5cbmNvbnN0IGdldE90aGVySW1hZ2VEYXRhID0gKG90aGVySW1hZ2VzLCBsb3dlc3RNYXhab29tKSA9Plxue1xuICAgIHJldHVybiBvdGhlckltYWdlcy5tYXAoIChpdG0pID0+XG4gICAge1xuICAgICAgICBjb25zdCB3ID0gaXRtLndpZHRoO1xuICAgICAgICBjb25zdCBoID0gaXRtLmhlaWdodDtcbiAgICAgICAgY29uc3QgaW5mbyA9IHBhcnNlSW1hZ2VJbmZvKGl0bSk7XG4gICAgICAgIGNvbnN0IHVybCA9IGluZm8udXJsLnNsaWNlKC0xKSAhPT0gJy8nID8gaW5mby51cmwgKyAnLycgOiBpbmZvLnVybDsgIC8vIGFwcGVuZCB0cmFpbGluZyBzbGFzaCB0byB1cmwgaWYgaXQncyBub3QgdGhlcmUuXG5cbiAgICAgICAgY29uc3QgZGltcyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbG93ZXN0TWF4Wm9vbSArIDE7IGorKylcbiAgICAgICAge1xuICAgICAgICAgICAgZGltc1tqXSA9IHtcbiAgICAgICAgICAgICAgICBoOiBNYXRoLmZsb29yKGluY29ycG9yYXRlWm9vbShoLCBsb3dlc3RNYXhab29tIC0gaikpLFxuICAgICAgICAgICAgICAgIHc6IE1hdGguZmxvb3IoaW5jb3Jwb3JhdGVab29tKHcsIGxvd2VzdE1heFpvb20gLSBqKSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZjogaW5mby51cmwsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGlsOiBpdG0ubGFiZWwgfHwgXCJcIixcbiAgICAgICAgICAgIGQ6IGRpbXNcbiAgICAgICAgfTtcbiAgICB9KTtcbn07XG5cbmNvbnN0IGdldElJSUZQcmVzZW50YXRpb25WZXJzaW9uID0gKGNvbnRleHQpID0+XG57XG4gICAgaWYgKGNvbnRleHQgPT09IFwiaHR0cDovL2lpaWYuaW8vYXBpL3ByZXNlbnRhdGlvbi8yL2NvbnRleHQuanNvblwiKVxuICAgICAgICByZXR1cm4gMjtcbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbnRleHQpICYmIGNvbnRleHQuaW5jbHVkZXMoXCJodHRwOi8vaWlpZi5pby9hcGkvcHJlc2VudGF0aW9uLzIvY29udGV4dC5qc29uXCIpKVxuICAgICAgICByZXR1cm4gMjtcbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbnRleHQpICYmIGNvbnRleHQuaW5jbHVkZXMoXCJodHRwOi8vaWlpZi5pby9hcGkvcHJlc2VudGF0aW9uLzMvY29udGV4dC5qc29uXCIpKVxuICAgICAgICByZXR1cm4gMztcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiAyOyAvLyBBc3N1bWUgYSB2MiBtYW5pZmVzdC5cbn07XG5cbi8qKlxuICogUGFyc2VzIGFuIElJSUYgUHJlc2VudGF0aW9uIEFQSSBNYW5pZmVzdCBhbmQgY29udmVydHMgaXQgaW50byBhIERpdmEuanMtZm9ybWF0IG9iamVjdFxuICogKFNlZSBodHRwczovL2dpdGh1Yi5jb20vRERNQUwvZGl2YS5qcy93aWtpL0RldmVsb3BtZW50LW5vdGVzI2RhdGEtcmVjZWl2ZWQtdGhyb3VnaC1hamF4LXJlcXVlc3QpXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG1hbmlmZXN0IC0gYW4gb2JqZWN0IHRoYXQgcmVwcmVzZW50cyBhIHZhbGlkIElJSUYgbWFuaWZlc3RcbiAqIEByZXR1cm5zIHtPYmplY3R9IGRpdmFTZXJ2aWNlQmxvY2sgLSB0aGUgZGF0YSBuZWVkZWQgYnkgRGl2YSB0byBzaG93IGEgdmlldyBvZiBhIHNpbmdsZSBkb2N1bWVudFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZUlJSUZNYW5pZmVzdCAobWFuaWZlc3QpXG57XG4gICAgbGV0IGN0eCA9IG1hbmlmZXN0W1wiQGNvbnRleHRcIl07XG5cbiAgICBpZiAoIWN0eClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIElJSUYgTWFuaWZlc3Q7IE5vIEBjb250ZXh0IGZvdW5kLlwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgdmVyc2lvbiA9IGdldElJSUZQcmVzZW50YXRpb25WZXJzaW9uKGN0eCk7XG4gICAgY29uc3Qgc2VxdWVuY2UgPSBtYW5pZmVzdC5zZXF1ZW5jZXMgPyBtYW5pZmVzdC5zZXF1ZW5jZXNbMF0gOiBudWxsO1xuICAgIGNvbnN0IGNhbnZhc2VzID0gc2VxdWVuY2UgPyBzZXF1ZW5jZS5jYW52YXNlcyA6IG1hbmlmZXN0Lml0ZW1zO1xuICAgIGNvbnN0IG51bUNhbnZhc2VzID0gY2FudmFzZXMubGVuZ3RoO1xuXG4gICAgY29uc3QgcGFnZXMgPSBuZXcgQXJyYXkoY2FudmFzZXMubGVuZ3RoKTtcblxuICAgIGxldCB0aGlzQ2FudmFzLCBcbiAgICAgICAgdGhpc1Jlc291cmNlLCBcbiAgICAgICAgdGhpc0ltYWdlLFxuICAgICAgICBzZWNvbmRhcnlJbWFnZXMsXG4gICAgICAgIG90aGVySW1hZ2VzID0gW10sXG4gICAgICAgIGNvbnRleHQsIFxuICAgICAgICB1cmwsIFxuICAgICAgICBpbmZvLCBcbiAgICAgICAgaW1hZ2VBUElWZXJzaW9uLCBcbiAgICAgICAgd2lkdGgsIFxuICAgICAgICBoZWlnaHQsIFxuICAgICAgICBtYXhab29tLCBcbiAgICAgICAgY2FudmFzLCBcbiAgICAgICAgbGFiZWwsIFxuICAgICAgICBpbWFnZUxhYmVsLCBcbiAgICAgICAgem9vbURpbWVuc2lvbnMsIFxuICAgICAgICB3aWR0aEF0Q3VycmVudFpvb21MZXZlbCwgXG4gICAgICAgIGhlaWdodEF0Q3VycmVudFpvb21MZXZlbDtcblxuICAgIGxldCBsb3dlc3RNYXhab29tID0gMTAwO1xuICAgIGxldCBtYXhSYXRpbyA9IDA7XG4gICAgbGV0IG1pblJhdGlvID0gMTAwO1xuXG4gICAgLy8gcXVpY2tseSBkZXRlcm1pbmUgdGhlIGxvd2VzdCBwb3NzaWJsZSBtYXggem9vbSBsZXZlbCAoaS5lLiwgdGhlIHVwcGVyIGJvdW5kIGZvciBpbWFnZXMpIGFjcm9zcyBhbGwgY2FudmFzZXMuXG4gICAgLy8gd2hpbGUgd2UncmUgaGVyZSwgY29tcHV0ZSB0aGUgZ2xvYmFsIHJhdGlvcyBhcyB3ZWxsLlxuICAgIGZvciAobGV0IHogPSAwOyB6IDwgbnVtQ2FudmFzZXM7IHorKylcbiAgICB7XG4gICAgICAgIGNvbnN0IGMgPSBjYW52YXNlc1t6XTtcbiAgICAgICAgY29uc3QgdyA9IGMud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSBjLmhlaWdodDtcbiAgICAgICAgY29uc3QgbXogPSBnZXRNYXhab29tTGV2ZWwodywgaCk7XG4gICAgICAgIGNvbnN0IHJhdGlvID0gaCAvIHc7XG4gICAgICAgIG1heFJhdGlvID0gTWF0aC5tYXgocmF0aW8sIG1heFJhdGlvKTtcbiAgICAgICAgbWluUmF0aW8gPSBNYXRoLm1pbihyYXRpbywgbWluUmF0aW8pO1xuXG4gICAgICAgIGxvd2VzdE1heFpvb20gPSBNYXRoLm1pbihsb3dlc3RNYXhab29tLCBteik7XG4gICAgfVxuXG4gICAgLypcbiAgICAgICAgVGhlc2UgYXJyYXlzIG5lZWQgdG8gYmUgcHJlLWluaXRpYWxpemVkIHNpbmNlIHdlIHdpbGwgZG8gYXJpdGhtZXRpYyBhbmQgdmFsdWUgY2hlY2tpbmcgb24gdGhlbVxuICAgICovXG4gICAgY29uc3QgdG90YWxXaWR0aHMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpLmZpbGwoMCk7XG4gICAgY29uc3QgdG90YWxIZWlnaHRzID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKS5maWxsKDApO1xuICAgIGNvbnN0IG1heFdpZHRocyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSkuZmlsbCgwKTtcbiAgICBjb25zdCBtYXhIZWlnaHRzID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKS5maWxsKDApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1DYW52YXNlczsgaSsrKVxuICAgIHtcbiAgICAgICAgdGhpc0NhbnZhcyA9IGNhbnZhc2VzW2ldO1xuICAgICAgICBjYW52YXMgPSB0aGlzQ2FudmFzWydAaWQnXSB8fCB0aGlzQ2FudmFzLmlkO1xuICAgICAgICBsYWJlbCA9IHRoaXNDYW52YXMubGFiZWw7XG4gICAgICAgIHRoaXNSZXNvdXJjZSA9IHRoaXNDYW52YXMuaW1hZ2VzID8gdGhpc0NhbnZhcy5pbWFnZXNbMF0ucmVzb3VyY2UgOiB0aGlzQ2FudmFzLml0ZW1zWzBdLml0ZW1zWzBdLmJvZHk7XG5cbiAgICAgICAgLypcbiAgICAgICAgICogSWYgYSBjYW52YXMgaGFzIG11bHRpcGxlIGltYWdlcyBpdCB3aWxsIGJlIGVuY29kZWRcbiAgICAgICAgICogd2l0aCBhIHJlc291cmNlIHR5cGUgb2YgXCJvYTpDaG9pY2VcIiAodjIpIG9yIFwiQ2hvaWNlXCIgKHYzKS5cbiAgICAgICAgICoqL1xuICAgICAgICBvdGhlckltYWdlcyA9IFtdOyAvLyByZXNldCBhcnJheVxuICAgICAgICBpZiAodGhpc1Jlc291cmNlWydAdHlwZSddID09PSBcIm9hOkNob2ljZVwiIHx8IHRoaXNSZXNvdXJjZS50eXBlID09PSBcIkNob2ljZVwiKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzSW1hZ2UgPSB0aGlzUmVzb3VyY2UuZGVmYXVsdCB8fCB0aGlzUmVzb3VyY2UuaXRlbXNbMF07XG4gICAgICAgICAgICBzZWNvbmRhcnlJbWFnZXMgPSB0aGlzUmVzb3VyY2UuaXRlbSB8fCB0aGlzUmVzb3VyY2UuaXRlbXMuc2xpY2UoMSk7XG4gICAgICAgICAgICBvdGhlckltYWdlcyA9IGdldE90aGVySW1hZ2VEYXRhKHNlY29uZGFyeUltYWdlcywgbG93ZXN0TWF4Wm9vbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzSW1hZ2UgPSB0aGlzUmVzb3VyY2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQcmlvcml0aXplIHRoZSBjYW52YXMgaGVpZ2h0IC8gd2lkdGggZmlyc3QsIHNpbmNlIGltYWdlcyBtYXkgbm90IGhhdmUgaC93XG4gICAgICAgIHdpZHRoID0gdGhpc0NhbnZhcy53aWR0aCB8fCB0aGlzSW1hZ2Uud2lkdGg7XG4gICAgICAgIGhlaWdodCA9IHRoaXNDYW52YXMuaGVpZ2h0IHx8IHRoaXNJbWFnZS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHdpZHRoIDw9IDAgfHwgaGVpZ2h0IDw9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignSW52YWxpZCB3aWR0aCBvciBoZWlnaHQgZm9yIGNhbnZhcyAnICsgbGFiZWwgKyAnLiBTa2lwcGluZycpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBtYXhab29tID0gZ2V0TWF4Wm9vbUxldmVsKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGltYWdlTGFiZWwgPSB0aGlzSW1hZ2UubGFiZWwgfHwgbnVsbDtcblxuICAgICAgICBpbmZvID0gcGFyc2VJbWFnZUluZm8odGhpc0ltYWdlKTtcbiAgICAgICAgdXJsID0gaW5mby51cmwuc2xpY2UoLTEpICE9PSAnLycgPyBpbmZvLnVybCArICcvJyA6IGluZm8udXJsOyAgLy8gYXBwZW5kIHRyYWlsaW5nIHNsYXNoIHRvIHVybCBpZiBpdCdzIG5vdCB0aGVyZS5cblxuICAgICAgICBjb250ZXh0ID0gdGhpc0ltYWdlLnNlcnZpY2VbJ0Bjb250ZXh0J10gfHwgdGhpc0ltYWdlLnNlcnZpY2UudHlwZTtcblxuICAgICAgICBpZiAoY29udGV4dCA9PT0gJ2h0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZS8yL2NvbnRleHQuanNvbicgfHwgY29udGV4dCA9PT0gXCJJbWFnZVNlcnZpY2UyXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGltYWdlQVBJVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29udGV4dCA9PT0gJ2h0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29udGV4dC5qc29uJylcbiAgICAgICAge1xuICAgICAgICAgICAgaW1hZ2VBUElWZXJzaW9uID0gMS4xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaW1hZ2VBUElWZXJzaW9uID0gMS4wO1xuICAgICAgICB9XG5cbiAgICAgICAgem9vbURpbWVuc2lvbnMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpO1xuXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbG93ZXN0TWF4Wm9vbSArIDE7IGsrKylcbiAgICAgICAge1xuICAgICAgICAgICAgd2lkdGhBdEN1cnJlbnRab29tTGV2ZWwgPSBNYXRoLmZsb29yKGluY29ycG9yYXRlWm9vbSh3aWR0aCwgbG93ZXN0TWF4Wm9vbSAtIGspKTtcbiAgICAgICAgICAgIGhlaWdodEF0Q3VycmVudFpvb21MZXZlbCA9IE1hdGguZmxvb3IoaW5jb3Jwb3JhdGVab29tKGhlaWdodCwgbG93ZXN0TWF4Wm9vbSAtIGspKTtcbiAgICAgICAgICAgIHpvb21EaW1lbnNpb25zW2tdID0ge1xuICAgICAgICAgICAgICAgIGg6IGhlaWdodEF0Q3VycmVudFpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICB3OiB3aWR0aEF0Q3VycmVudFpvb21MZXZlbFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdG90YWxXaWR0aHNba10gKz0gd2lkdGhBdEN1cnJlbnRab29tTGV2ZWw7XG4gICAgICAgICAgICB0b3RhbEhlaWdodHNba10gKz0gaGVpZ2h0QXRDdXJyZW50Wm9vbUxldmVsO1xuICAgICAgICAgICAgbWF4V2lkdGhzW2tdID0gTWF0aC5tYXgod2lkdGhBdEN1cnJlbnRab29tTGV2ZWwsIG1heFdpZHRoc1trXSk7XG4gICAgICAgICAgICBtYXhIZWlnaHRzW2tdID0gTWF0aC5tYXgoaGVpZ2h0QXRDdXJyZW50Wm9vbUxldmVsLCBtYXhIZWlnaHRzW2tdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpc1BhZ2VkID0gdGhpc0NhbnZhcy52aWV3aW5nSGludCAhPT0gJ25vbi1wYWdlZCcgfHwgKHRoaXNDYW52YXMuYmVoYXZpb3IgPyB0aGlzQ2FudmFzLmJlaGF2aW9yWzBdICE9PSAnbm9uLXBhZ2VkJyA6IGZhbHNlKTtcbiAgICAgICAgbGV0IGlzRmFjaW5nID0gdGhpc0NhbnZhcy52aWV3aW5nSGludCA9PT0gJ2ZhY2luZy1wYWdlcycgfHwgKHRoaXNDYW52YXMuYmVoYXZpb3IgPyB0aGlzQ2FudmFzLmJlaGF2aW9yWzBdID09PSAnZmFjaW5nLXBhZ2VzJyA6IGZhbHNlKTtcblxuICAgICAgICBwYWdlc1tpXSA9IHtcbiAgICAgICAgICAgIGQ6IHpvb21EaW1lbnNpb25zLFxuICAgICAgICAgICAgbTogbWF4Wm9vbSxcbiAgICAgICAgICAgIGw6IGxhYmVsLCAgICAgICAgIC8vIGNhbnZhcyBsYWJlbCAoJ3BhZ2UgMSwgcGFnZSAyJywgZXRjLilcbiAgICAgICAgICAgIGlsOiBpbWFnZUxhYmVsLCAgIC8vIGRlZmF1bHQgaW1hZ2UgbGFiZWwgKCdwcmltYXJ5IGltYWdlJywgJ1VWIGxpZ2h0JywgZXRjLilcbiAgICAgICAgICAgIGY6IGluZm8udXJsLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBhcGk6IGltYWdlQVBJVmVyc2lvbixcbiAgICAgICAgICAgIHBhZ2VkOiBpc1BhZ2VkLFxuICAgICAgICAgICAgZmFjaW5nUGFnZXM6IGlzRmFjaW5nLFxuICAgICAgICAgICAgY2FudmFzOiBjYW52YXMsXG4gICAgICAgICAgICBvdGhlckltYWdlczogb3RoZXJJbWFnZXMsXG4gICAgICAgICAgICB4b2Zmc2V0OiBpbmZvLnggfHwgbnVsbCxcbiAgICAgICAgICAgIHlvZmZzZXQ6IGluZm8ueSB8fCBudWxsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgYXZlcmFnZVdpZHRocyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSk7XG4gICAgY29uc3QgYXZlcmFnZUhlaWdodHMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpO1xuXG4gICAgZm9yIChsZXQgYSA9IDA7IGEgPCBsb3dlc3RNYXhab29tICsgMTsgYSsrKVxuICAgIHtcbiAgICAgICAgYXZlcmFnZVdpZHRoc1thXSA9IHRvdGFsV2lkdGhzW2FdIC8gbnVtQ2FudmFzZXM7XG4gICAgICAgIGF2ZXJhZ2VIZWlnaHRzW2FdID0gdG90YWxIZWlnaHRzW2FdIC8gbnVtQ2FudmFzZXM7XG4gICAgfVxuXG4gICAgY29uc3QgZGltcyA9IHtcbiAgICAgICAgYV93aWQ6IGF2ZXJhZ2VXaWR0aHMsXG4gICAgICAgIGFfaGVpOiBhdmVyYWdlSGVpZ2h0cyxcbiAgICAgICAgbWF4X3c6IG1heFdpZHRocyxcbiAgICAgICAgbWF4X2g6IG1heEhlaWdodHMsXG4gICAgICAgIG1heF9yYXRpbzogbWF4UmF0aW8sXG4gICAgICAgIG1pbl9yYXRpbzogbWluUmF0aW8sXG4gICAgICAgIHRfaGVpOiB0b3RhbEhlaWdodHMsXG4gICAgICAgIHRfd2lkOiB0b3RhbFdpZHRoc1xuICAgIH07XG5cbiAgICAvLyBhc3N1bWVzIHBhZ2VkIGlzIGZhbHNlIGZvciBub24tcGFnZWQgdmFsdWVzXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICAgICAgaXRlbV90aXRsZTogcGFyc2VMYWJlbFZhbHVlKG1hbmlmZXN0KS5sYWJlbCxcbiAgICAgICAgbWV0YWRhdGE6IG1hbmlmZXN0Lm1ldGFkYXRhIHx8IG51bGwsXG4gICAgICAgIGRpbXM6IGRpbXMsXG4gICAgICAgIG1heF96b29tOiBsb3dlc3RNYXhab29tLFxuICAgICAgICBwZ3M6IHBhZ2VzLFxuICAgICAgICBwYWdlZDogbWFuaWZlc3Qudmlld2luZ0hpbnQgPT09ICdwYWdlZCcgfHwgKG1hbmlmZXN0LmJlaGF2aW91ciA/IG1hbmlmZXN0LmJlaGF2aW91clswXSA9PT0gJ3BhZ2VkJyA6IGZhbHNlKSB8fCAoc2VxdWVuY2UgPyBzZXF1ZW5jZS52aWV3aW5nSGludCA9PT0gJ3BhZ2VkJyA6IGZhbHNlKVxuICAgIH07XG59XG5cbi8qKlxuICogVGFrZXMgaW4gYSByZXNvdXJjZSBibG9jayBmcm9tIGEgY2FudmFzIGFuZCBvdXRwdXRzIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoYXQgcmVzb3VyY2U6XG4gKiAtIEltYWdlIFVSTFxuICogLSBJbWFnZSByZWdpb24gdG8gYmUgZGlzcGxheWVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlc291cmNlIC0gYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcmVzb3VyY2UgYmxvY2sgb2YgYSBjYW52YXMgc2VjdGlvbiBpbiBhIElJSUYgbWFuaWZlc3RcbiAqIEByZXR1cm5zIHtPYmplY3R9IGltYWdlSW5mbyAtIGFuIG9iamVjdCBjb250YWluaW5nIGltYWdlIFVSTCBhbmQgcmVnaW9uXG4gKi9cbmZ1bmN0aW9uIHBhcnNlSW1hZ2VJbmZvIChyZXNvdXJjZSlcbntcbiAgICBsZXQgdXJsID0gcmVzb3VyY2VbJ0BpZCddIHx8IHJlc291cmNlLmlkO1xuICAgIGNvbnN0IGZyYWdtZW50UmVnZXggPSAvI3h5d2g9KFswLTldKyxbMC05XSssWzAtOV0rLFswLTldKykvO1xuICAgIGxldCB4eXdoID0gJyc7XG4gICAgbGV0IHN0cmlwVVJMID0gdHJ1ZTtcblxuICAgIGlmICgvXFwvKFswLTldKyxbMC05XSssWzAtOV0rLFswLTldKylcXC8vLnRlc3QodXJsKSlcbiAgICB7XG4gICAgICAgIC8vIGlmIHJlc291cmNlIGluIGltYWdlIEFQSSBmb3JtYXQsIGV4dHJhY3QgcmVnaW9uIHgseSx3LGggZnJvbSBVUkwgKGFmdGVyIDR0aCBzbGFzaCBmcm9tIGxhc3QpXG4gICAgICAgIC8vIG1hdGNoZXMgY29vcmRpbmF0ZXMgaW4gVVJMcyBvZiB0aGUgZm9ybSBodHRwOi8vd3d3LmV4YW1wbGUub3JnL2lpaWYvYm9vazEtcGFnZTEvNDAsNTAsMTIwMCwxODAwL2Z1bGwvMC9kZWZhdWx0LmpwZ1xuICAgICAgICBjb25zdCB1cmxBcnJheSA9IHVybC5zcGxpdCgnLycpO1xuICAgICAgICB4eXdoID0gdXJsQXJyYXlbdXJsQXJyYXkubGVuZ3RoIC0gNF07XG4gICAgfVxuICAgIGVsc2UgaWYgKGZyYWdtZW50UmVnZXgudGVzdCh1cmwpKVxuICAgIHtcbiAgICAgICAgLy8gbWF0Y2hlcyBjb29yZGluYXRlcyBvZiB0aGUgc3R5bGUgaHR0cDovL3d3dy5leGFtcGxlLm9yZy9paWlmL2Jvb2sxL2NhbnZhcy9wMSN4eXdoPTUwLDUwLDMyMCwyNDBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZnJhZ21lbnRSZWdleC5leGVjKHVybCk7XG4gICAgICAgIHh5d2ggPSByZXN1bHRbMV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlc291cmNlLnNlcnZpY2UgJiYgKHJlc291cmNlLnNlcnZpY2VbJ0BpZCddIHx8IHJlc291cmNlLnNlcnZpY2UuaWQpKVxuICAgIHtcbiAgICAgICAgLy8gdGhpcyBVUkwgZXhjbHVkZXMgcmVnaW9uIHBhcmFtZXRlcnMgc28gd2UgZG9uJ3QgbmVlZCB0byByZW1vdmUgdGhlbVxuICAgICAgICB1cmwgPSByZXNvdXJjZS5zZXJ2aWNlWydAaWQnXSB8fCByZXNvdXJjZS5zZXJ2aWNlLmlkO1xuICAgICAgICBzdHJpcFVSTCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzdHJpcFVSTClcbiAgICB7XG4gICAgICAgIC8vIGV4dHJhY3QgVVJMIHVwIHRvIGlkZW50aWZpZXIgKHdlIGVsaW1pbmF0ZSB0aGUgbGFzdCA1IHBhcmFtZXRlcnM6IC9yZWdpb24vc2l6ZS9yb3RhdGlvbi9xdWFsaXR5LmZvcm1hdClcbiAgICAgICAgdXJsID0gdXJsLnNwbGl0KCcvJykuc2xpY2UoMCwgLTQpLmpvaW4oJy8nKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbWFnZUluZm8gPSB7XG4gICAgICAgIHVybDogdXJsXG4gICAgfTtcblxuICAgIGlmICh4eXdoLmxlbmd0aClcbiAgICB7XG4gICAgICAgIC8vIHBhcnNlIGludG8gc2VwYXJhdGUgY29tcG9uZW50c1xuICAgICAgICBjb25zdCBkaW1lbnNpb25zID0geHl3aC5zcGxpdCgnLCcpO1xuICAgICAgICBpbWFnZUluZm8ueCA9IHBhcnNlSW50KGRpbWVuc2lvbnNbMF0sIDEwKTtcbiAgICAgICAgaW1hZ2VJbmZvLnkgPSBwYXJzZUludChkaW1lbnNpb25zWzFdLCAxMCk7XG4gICAgICAgIGltYWdlSW5mby53ID0gcGFyc2VJbnQoZGltZW5zaW9uc1syXSwgMTApO1xuICAgICAgICBpbWFnZUluZm8uaCA9IHBhcnNlSW50KGRpbWVuc2lvbnNbM10sIDEwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW1hZ2VJbmZvO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSUlJRlNvdXJjZUFkYXB0ZXJcbntcbiAgICBnZXRQYWdlSW1hZ2VVUkwgKG1hbmlmZXN0LCBwYWdlSW5kZXgsIHNpemUpXG4gICAge1xuICAgICAgICBsZXQgZGltZW5zO1xuXG4gICAgICAgIGlmICghc2l6ZSB8fCAoc2l6ZS53aWR0aCA9PSBudWxsICYmIHNpemUuaGVpZ2h0ID09IG51bGwpKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaW1lbnMgPSAnZnVsbCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBkaW1lbnMgPSAoc2l6ZS53aWR0aCA9PSBudWxsID8gJycgOiBzaXplLndpZHRoKSArICcsJyArIChzaXplLmhlaWdodCA9PSBudWxsID8gJycgOiBzaXplLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWdlID0gbWFuaWZlc3QucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgY29uc3QgcXVhbGl0eSA9IChwYWdlLmFwaSA+IDEuMSkgPyAnZGVmYXVsdCcgOiAnbmF0aXZlJztcblxuICAgICAgICByZXR1cm4gZW5jb2RlVVJJKHBhZ2UudXJsICsgJ2Z1bGwvJyArIGRpbWVucyArICcvMC8nICsgcXVhbGl0eSArICcuanBnJyk7XG4gICAgfVxuXG4gICAgZ2V0VGlsZUltYWdlVVJMIChtYW5pZmVzdCwgcGFnZUluZGV4LCBwYXJhbXMpXG4gICAge1xuICAgICAgICBjb25zdCBwYWdlID0gbWFuaWZlc3QucGFnZXNbcGFnZUluZGV4XTtcblxuICAgICAgICBsZXQgaGVpZ2h0LCB3aWR0aDtcblxuICAgICAgICBpZiAocGFyYW1zLnJvdyA9PT0gcGFyYW1zLnJvd0NvdW50IC0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgaGVpZ2h0ID0gcGFnZS5kW3BhcmFtcy56b29tTGV2ZWxdLmggLSAocGFyYW1zLnJvd0NvdW50IC0gMSkgKiBwYXJhbXMudGlsZURpbWVuc2lvbnMuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaGVpZ2h0ID0gcGFyYW1zLnRpbGVEaW1lbnNpb25zLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXMuY29sID09PSBwYXJhbXMuY29sQ291bnQgLSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IHBhZ2UuZFtwYXJhbXMuem9vbUxldmVsXS53IC0gKHBhcmFtcy5jb2xDb3VudCAtIDEpICogcGFyYW1zLnRpbGVEaW1lbnNpb25zLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgd2lkdGggPSBwYXJhbXMudGlsZURpbWVuc2lvbnMud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB6b29tRGlmZmVyZW5jZSA9IE1hdGgucG93KDIsIG1hbmlmZXN0Lm1heFpvb20gLSBwYXJhbXMuem9vbUxldmVsKTtcblxuICAgICAgICBsZXQgeCA9IHBhcmFtcy5jb2wgKiBwYXJhbXMudGlsZURpbWVuc2lvbnMud2lkdGggKiB6b29tRGlmZmVyZW5jZTtcbiAgICAgICAgbGV0IHkgPSBwYXJhbXMucm93ICogcGFyYW1zLnRpbGVEaW1lbnNpb25zLmhlaWdodCAqIHpvb21EaWZmZXJlbmNlO1xuXG4gICAgICAgIGlmIChwYWdlLmhhc093blByb3BlcnR5KCd4b2Zmc2V0JykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHggKz0gcGFnZS54b2Zmc2V0O1xuICAgICAgICAgICAgeSArPSBwYWdlLnlvZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWdpb24gPSBbeCwgeSwgd2lkdGggKiB6b29tRGlmZmVyZW5jZSwgaGVpZ2h0ICogem9vbURpZmZlcmVuY2VdLmpvaW4oJywnKTtcblxuICAgICAgICBjb25zdCBxdWFsaXR5ID0gKHBhZ2UuYXBpID4gMS4xKSA/ICdkZWZhdWx0JyA6ICduYXRpdmUnO1xuXG4gICAgICAgIHJldHVybiBlbmNvZGVVUkkocGFnZS51cmwgKyByZWdpb24gKyAnLycgKyB3aWR0aCArICcsJyArIGhlaWdodCArICcvMC8nICsgcXVhbGl0eSArICcuanBnJyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHBhcnNlSUlJRk1hbmlmZXN0IGZyb20gJy4vcGFyc2UtaWlpZi1tYW5pZmVzdCc7XG5pbXBvcnQgSUlJRlNvdXJjZUFkYXB0ZXIgZnJvbSBcIi4vaWlpZi1zb3VyY2UtYWRhcHRlclwiO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlTWFuaWZlc3RcbntcbiAgICBjb25zdHJ1Y3RvciAoZGF0YSwgdXJsQWRhcHRlcilcbiAgICB7XG4gICAgICAgIC8vIFNhdmUgYWxsIHRoZSBkYXRhIHdlIG5lZWRcbiAgICAgICAgdGhpcy5wYWdlcyA9IGRhdGEucGdzO1xuICAgICAgICB0aGlzLm1heFpvb20gPSBkYXRhLm1heF96b29tO1xuICAgICAgICB0aGlzLm1heFJhdGlvID0gZGF0YS5kaW1zLm1heF9yYXRpbztcbiAgICAgICAgdGhpcy5taW5SYXRpbyA9IGRhdGEuZGltcy5taW5fcmF0aW87XG4gICAgICAgIHRoaXMuaXRlbVRpdGxlID0gZGF0YS5pdGVtX3RpdGxlO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gZGF0YS5tZXRhZGF0YTtcblxuICAgICAgICAvLyBPbmx5IGdpdmVuIGZvciBJSUlGIG1hbmlmZXN0c1xuICAgICAgICB0aGlzLnBhZ2VkID0gISFkYXRhLnBhZ2VkO1xuXG4gICAgICAgIC8vIFRoZXNlIGFyZSBhcnJheXMsIHRoZSBpbmRleCBjb3JyZXNwb25kaW5nIHRvIHRoZSB6b29tIGxldmVsXG4gICAgICAgIHRoaXMuX21heFdpZHRocyA9IGRhdGEuZGltcy5tYXhfdztcbiAgICAgICAgdGhpcy5fbWF4SGVpZ2h0cyA9IGRhdGEuZGltcy5tYXhfaDtcbiAgICAgICAgdGhpcy5fYXZlcmFnZVdpZHRocyA9IGRhdGEuZGltcy5hX3dpZDtcbiAgICAgICAgdGhpcy5fYXZlcmFnZUhlaWdodHMgPSBkYXRhLmRpbXMuYV9oZWk7XG4gICAgICAgIHRoaXMuX3RvdGFsSGVpZ2h0cyA9IGRhdGEuZGltcy50X2hlaTtcbiAgICAgICAgdGhpcy5fdG90YWxXaWR0aHMgPSBkYXRhLmRpbXMudF93aWQ7XG5cbiAgICAgICAgdGhpcy5fdXJsQWRhcHRlciA9IHVybEFkYXB0ZXI7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21JSUlGIChpaWlmTWFuaWZlc3QpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gcGFyc2VJSUlGTWFuaWZlc3QoaWlpZk1hbmlmZXN0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZU1hbmlmZXN0KGRhdGEsIG5ldyBJSUlGU291cmNlQWRhcHRlcigpKTtcbiAgICB9XG5cbiAgICBpc1BhZ2VWYWxpZCAocGFnZUluZGV4LCBzaG93Tm9uUGFnZWRQYWdlcylcbiAgICB7XG4gICAgICAgIGlmICghc2hvd05vblBhZ2VkUGFnZXMgJiYgdGhpcy5wYWdlZCAmJiAhdGhpcy5wYWdlc1twYWdlSW5kZXhdLnBhZ2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFnZUluZGV4ID49IDAgJiYgcGFnZUluZGV4IDwgdGhpcy5wYWdlcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgZ2V0TWF4UGFnZURpbWVuc2lvbnMgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIGNvbnN0IG1heERpbXMgPSB0aGlzLnBhZ2VzW3BhZ2VJbmRleF0uZFt0aGlzLm1heFpvb21dO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWlnaHQ6IG1heERpbXMuaCxcbiAgICAgICAgICAgIHdpZHRoOiBtYXhEaW1zLndcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRQYWdlRGltZW5zaW9uc0F0Wm9vbUxldmVsIChwYWdlSW5kZXgsIHpvb21MZXZlbClcbiAgICB7XG4gICAgICAgIGNvbnN0IG1heERpbXMgPSB0aGlzLnBhZ2VzW3BhZ2VJbmRleF0uZFt0aGlzLm1heFpvb21dO1xuXG4gICAgICAgIGNvbnN0IHNjYWxlUmF0aW8gPSBnZXRTY2FsZVJhdGlvKHRoaXMubWF4Wm9vbSwgem9vbUxldmVsKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVpZ2h0OiBtYXhEaW1zLmggKiBzY2FsZVJhdGlvLFxuICAgICAgICAgICAgd2lkdGg6IG1heERpbXMudyAqIHNjYWxlUmF0aW9cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgVVJMIGZvciB0aGUgaW1hZ2Ugb2YgdGhlIGdpdmVuIHBhZ2UuIFRoZSBvcHRpb25hbCBzaXplXG4gICAgICogcGFyYW1ldGVyIHN1cHBvcnRzIHNldHRpbmcgdGhlIGltYWdlIHdpZHRoIG9yIGhlaWdodCAoZGVmYXVsdCBpc1xuICAgICAqIGZ1bGwtc2l6ZWQpLlxuICAgICAqL1xuICAgIGdldFBhZ2VJbWFnZVVSTCAocGFnZUluZGV4LCBzaXplKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VybEFkYXB0ZXIuZ2V0UGFnZUltYWdlVVJMKHRoaXMsIHBhZ2VJbmRleCwgc2l6ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFycmF5IG9mIHRpbGUgb2JqZWN0cyBmb3IgdGhlIHNwZWNpZmllZCBwYWdlIGFuZCBpbnRlZ2VyIHpvb20gbGV2ZWxcbiAgICAgKi9cbiAgICBnZXRQYWdlSW1hZ2VUaWxlcyAocGFnZUluZGV4LCB6b29tTGV2ZWwsIHRpbGVEaW1lbnNpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMucGFnZXNbcGFnZUluZGV4XTtcblxuICAgICAgICBpZiAoIWlzRmluaXRlKHpvb21MZXZlbCkgfHwgem9vbUxldmVsICUgMSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWm9vbSBsZXZlbCBtdXN0IGJlIGFuIGludGVnZXI6ICcgKyB6b29tTGV2ZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgcm93cyA9IE1hdGguY2VpbChwYWdlLmRbem9vbUxldmVsXS5oIC8gdGlsZURpbWVuc2lvbnMuaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgY29scyA9IE1hdGguY2VpbChwYWdlLmRbem9vbUxldmVsXS53IC8gdGlsZURpbWVuc2lvbnMud2lkdGgpO1xuXG4gICAgICAgIGNvbnN0IHRpbGVzID0gW107XG5cbiAgICAgICAgbGV0IHJvdywgY29sLCB1cmw7XG5cbiAgICAgICAgZm9yIChyb3cgPSAwOyByb3cgPCByb3dzOyByb3crKylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChjb2wgPSAwOyBjb2wgPCBjb2xzOyBjb2wrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLl91cmxBZGFwdGVyLmdldFRpbGVJbWFnZVVSTCh0aGlzLCBwYWdlSW5kZXgsIHtcbiAgICAgICAgICAgICAgICAgICAgcm93OiByb3csXG4gICAgICAgICAgICAgICAgICAgIGNvbDogY29sLFxuICAgICAgICAgICAgICAgICAgICByb3dDb3VudDogcm93cyxcbiAgICAgICAgICAgICAgICAgICAgY29sQ291bnQ6IGNvbHMsXG4gICAgICAgICAgICAgICAgICAgIHpvb21MZXZlbDogem9vbUxldmVsLFxuICAgICAgICAgICAgICAgICAgICB0aWxlRGltZW5zaW9uczogdGlsZURpbWVuc2lvbnNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBEaW1lbnNpb25zIHNob3VsZCBhY2NvdW50IGZvciBwYXJ0aWFsIHRpbGVzIChlLmcuIHRoZVxuICAgICAgICAgICAgICAgIC8vIGxhc3Qgcm93IGFuZCBjb2x1bW4gaW4gYSB0aWxlZCBpbWFnZSlcbiAgICAgICAgICAgICAgICB0aWxlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgcm93OiByb3csXG4gICAgICAgICAgICAgICAgICAgIGNvbDogY29sLFxuICAgICAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IHpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aWxlRGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGlsZURpbWVuc2lvbnMud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHJvdyAqIHRpbGVEaW1lbnNpb25zLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGNvbCAqIHRpbGVEaW1lbnNpb25zLndpZHRoXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgem9vbUxldmVsOiB6b29tTGV2ZWwsXG4gICAgICAgICAgICByb3dzOiByb3dzLFxuICAgICAgICAgICAgY29sczogY29scyxcbiAgICAgICAgICAgIHRpbGVzOiB0aWxlc1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuSW1hZ2VNYW5pZmVzdC5wcm90b3R5cGUuZ2V0TWF4V2lkdGggPSB6b29tZWRQcm9wZXJ0eUdldHRlcignX21heFdpZHRocycpO1xuSW1hZ2VNYW5pZmVzdC5wcm90b3R5cGUuZ2V0TWF4SGVpZ2h0ID0gem9vbWVkUHJvcGVydHlHZXR0ZXIoJ19tYXhIZWlnaHRzJyk7XG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRBdmVyYWdlV2lkdGggPSB6b29tZWRQcm9wZXJ0eUdldHRlcignX2F2ZXJhZ2VXaWR0aHMnKTtcbkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldEF2ZXJhZ2VIZWlnaHQgPSB6b29tZWRQcm9wZXJ0eUdldHRlcignX2F2ZXJhZ2VIZWlnaHRzJyk7XG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRUb3RhbFdpZHRoID0gem9vbWVkUHJvcGVydHlHZXR0ZXIoJ190b3RhbFdpZHRocycpO1xuSW1hZ2VNYW5pZmVzdC5wcm90b3R5cGUuZ2V0VG90YWxIZWlnaHQgPSB6b29tZWRQcm9wZXJ0eUdldHRlcignX3RvdGFsSGVpZ2h0cycpO1xuXG5mdW5jdGlvbiB6b29tZWRQcm9wZXJ0eUdldHRlciAocHJpdmF0ZU5hbWUpXG57XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh6b29tTGV2ZWwpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpc1twcml2YXRlTmFtZV1bem9vbUxldmVsXTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRTY2FsZVJhdGlvIChzb3VyY2Vab29tTGV2ZWwsIHRhcmdldFpvb21MZXZlbClcbntcbiAgICByZXR1cm4gMSAvIE1hdGgucG93KDIsIHNvdXJjZVpvb21MZXZlbCAtIHRhcmdldFpvb21MZXZlbCk7XG59XG4iLCJpbXBvcnQgZGl2YSBmcm9tICcuL2RpdmEtZ2xvYmFsJztcbmltcG9ydCB7IGVsdCB9IGZyb20gJy4vdXRpbHMvZWx0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbGJhclxue1xuICAgIGNvbnN0cnVjdG9yICh2aWV3ZXIpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlciA9IHZpZXdlcjtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHZpZXdlci5zZXR0aW5ncztcbiAgICB9XG5cbiAgICBfZWxlbUF0dHJzIChpZGVudCwgYmFzZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0ge1xuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBpZGVudCxcbiAgICAgICAgICAgIGNsYXNzOiAnZGl2YS0nICsgaWRlbnRcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYmFzZSlcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGF0dHJzLCBiYXNlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuXG4gICAgLyoqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIHN1YnNjcmliZSB0byBhIERpdmEgZXZlbnQgKi9cbiAgICBfc3Vic2NyaWJlIChldmVudCwgY2FsbGJhY2spXG4gICAge1xuICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoZXZlbnQsIGNhbGxiYWNrLCB0aGlzLnNldHRpbmdzLklEKTtcbiAgICB9XG5cblxuICAgIGNyZWF0ZUJ1dHRvbiAobmFtZSwgbGFiZWwsIGNhbGxiYWNrLCBpY29uKVxuICAgIHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZWx0KCdidXR0b24nLCB7XG4gICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgbmFtZSxcbiAgICAgICAgICAgIGNsYXNzOiAnZGl2YS0nICsgbmFtZSArICcgZGl2YS1idXR0b24nLFxuICAgICAgICAgICAgdGl0bGU6IGxhYmVsLFxuICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiBsYWJlbFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaWNvbilcbiAgICAgICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChpY29uKTtcblxuICAgICAgICBpZiAoY2FsbGJhY2spXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYWxsYmFjayk7XG5cbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG5cbiAgICBjcmVhdGVMYWJlbCAobmFtZSwgaWQsIGxhYmVsLCBpbm5lck5hbWUsIGlubmVyVmFsdWUpXG4gICAge1xuICAgICAgICByZXR1cm4gZWx0KCdkaXYnLCB7IGlkOiB0aGlzLnNldHRpbmdzLklEICsgaWQsIGNsYXNzOiBuYW1lICsgJyBkaXZhLWxhYmVsJ30sXG4gICAgICAgICAgICAgICAgICAgIFsgbGFiZWwsIGVsdCgnc3BhbicsIHsgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBpbm5lck5hbWUgfSwgaW5uZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgfVxuXG4gICAgY3JlYXRlWm9vbUJ1dHRvbnMgKClcbiAgICB7XG4gICAgICAgIGxldCB6b29tT3V0SWNvbiA9IHRoaXMuX2NyZWF0ZVpvb21PdXRJY29uKCk7XG4gICAgICAgIGxldCB6b29tSW5JY29uID0gdGhpcy5fY3JlYXRlWm9vbUluSWNvbigpO1xuXG4gICAgICAgIGxldCB6b29tQnV0dG9ucyA9IFtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnV0dG9uKCd6b29tLW91dC1idXR0b24nLCAnWm9vbSBPdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXIuc2V0Wm9vbUxldmVsKHRoaXMuc2V0dGluZ3Muem9vbUxldmVsIC0gMSk7XG4gICAgICAgICAgICB9LCB6b29tT3V0SWNvbiksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1dHRvbignem9vbS1pbi1idXR0b24nLCAnWm9vbSBJbicsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5zZXRab29tTGV2ZWwodGhpcy5zZXR0aW5ncy56b29tTGV2ZWwgKyAxKTtcbiAgICAgICAgICAgIH0sIHpvb21Jbkljb24pLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbCgnZGl2YS16b29tLWxhYmVsJywgJ3pvb20tbGFiZWwnLCAnWm9vbSBsZXZlbDogJywgJ3pvb20tbGV2ZWwnLCB0aGlzLnNldHRpbmdzLnpvb21MZXZlbCArIDEpXG4gICAgICAgIF07XG5cbiAgICAgICAgbGV0IHpvb21IYW5kbGVyID0gZnVuY3Rpb24gKClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGxhYmVsRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLklEICsgJ3pvb20tbGV2ZWwnKTtcbiAgICAgICAgICAgIGxhYmVsRWwudGV4dENvbnRlbnQgPSB0aGlzLnNldHRpbmdzLnpvb21MZXZlbCArIDE7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdab29tTGV2ZWxEaWRDaGFuZ2UnLCB6b29tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnVmlld2VyRGlkTG9hZCcsIHpvb21IYW5kbGVyKTtcblxuICAgICAgICByZXR1cm4gZWx0KCdkaXYnLCB7IGlkOiB0aGlzLnNldHRpbmdzLklEICsgXCJ6b29tLWNvbnRyb2xzXCIsIHN0eWxlOiBcImRpc3BsYXk6IG5vbmVcIn0sIHpvb21CdXR0b25zKTtcbiAgICB9XG5cbiAgICBjcmVhdGVHcmlkQ29udHJvbHMgKClcbiAgICB7XG4gICAgICAgIGxldCBncmlkTW9yZUljb24gPSB0aGlzLl9jcmVhdGVHcmlkTW9yZUljb24oKTtcbiAgICAgICAgbGV0IGdyaWRGZXdlckljb24gPSB0aGlzLl9jcmVhdGVHcmlkRmV3ZXJJY29uKCk7XG5cbiAgICAgICAgbGV0IGdyaWRCdXR0b25zID0gW1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdXR0b24oJ2dyaWQtb3V0LWJ1dHRvbicsICdGZXdlcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5zZXRHcmlkUGFnZXNQZXJSb3codGhpcy5zZXR0aW5ncy5wYWdlc1BlclJvdyAtIDEpO1xuICAgICAgICAgICAgfSwgZ3JpZEZld2VySWNvbiksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1dHRvbignZ3JpZC1pbi1idXR0b24nLCAnTW9yZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5zZXRHcmlkUGFnZXNQZXJSb3codGhpcy5zZXR0aW5ncy5wYWdlc1BlclJvdyArIDEpO1xuICAgICAgICAgICAgfSwgZ3JpZE1vcmVJY29uKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGFiZWwoJ2RpdmEtZ3JpZC1sYWJlbCcsICdncmlkLWxhYmVsJywgJ1BhZ2VzIHBlciByb3c6ICcsICdwYWdlcy1wZXItcm93JywgdGhpcy5zZXR0aW5ncy5wYWdlc1BlclJvdylcbiAgICAgICAgXTtcblxuICAgICAgICBsZXQgZ3JpZENoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbGFiZWxFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyAncGFnZXMtcGVyLXJvdycpO1xuICAgICAgICAgICAgbGFiZWxFbC50ZXh0Q29udGVudCA9IHRoaXMuc2V0dGluZ3MucGFnZXNQZXJSb3c7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdHcmlkUm93TnVtYmVyRGlkQ2hhbmdlJywgZ3JpZENoYW5nZUhhbmRsZXIpO1xuXG4gICAgICAgIHJldHVybiBlbHQoJ2RpdicsIHtpZDogdGhpcy5zZXR0aW5ncy5JRCArIFwiZ3JpZC1jb250cm9sc1wiLCBzdHlsZTogXCJkaXNwbGF5Om5vbmVcIiB9LCBncmlkQnV0dG9ucyk7XG4gICAgfVxuXG4gICAgY3JlYXRlUGFnZUxhYmVsICgpXG4gICAge1xuICAgICAgICAvLyBDdXJyZW50IHBhZ2VcbiAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSBlbHQoJ3NwYW4nLCB7XG4gICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArICdjdXJyZW50LXBhZ2UnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRQYWdlID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2V0IGxhYmVscyBmb3IgaW5kZXggcmFuZ2VcbiAgICAgICAgICAgIGxldCBpbmRpY2VzID0gdGhpcy52aWV3ZXIuZ2V0Q3VycmVudFBhZ2VJbmRpY2VzKCk7XG4gICAgICAgICAgICBsZXQgc3RhcnRJbmRleCA9IGluZGljZXNbMF07XG4gICAgICAgICAgICBsZXQgZW5kSW5kZXggPSBpbmRpY2VzW2luZGljZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBsZXQgc3RhcnRMYWJlbCA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbc3RhcnRJbmRleF0ubDtcbiAgICAgICAgICAgIGxldCBlbmRMYWJlbCA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbZW5kSW5kZXhdLmw7XG5cbiAgICAgICAgICAgIGlmIChzdGFydEluZGV4ICE9PSBlbmRJbmRleClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgIFx0aWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlSW5kZXhBc0xhYmVsKVxuICAgICAgICAgICAgICAgIFx0Y3VycmVudFBhZ2UudGV4dENvbnRlbnQgPSBzdGFydEluZGV4ICsgXCIgLSBcIiArIGVuZEluZGV4O1xuICAgICAgICAgICAgXHRlbHNlXG4gICAgICAgICAgICBcdFx0Y3VycmVudFBhZ2UudGV4dENvbnRlbnQgPSBzdGFydExhYmVsICsgXCIgLSBcIiArIGVuZExhYmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICBcdHtcbiAgICAgICAgICAgIFx0aWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlSW5kZXhBc0xhYmVsKVxuICAgICAgICAgICAgXHRcdGN1cnJlbnRQYWdlLnRleHRDb250ZW50ID0gc3RhcnRJbmRleDtcbiAgICAgICAgICAgIFx0ZWxzZVxuICAgICAgICAgICAgXHRcdGN1cnJlbnRQYWdlLnRleHRDb250ZW50ID0gc3RhcnRMYWJlbDtcbiAgICAgICAgXHR9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdWaXNpYmxlUGFnZURpZENoYW5nZScsIHVwZGF0ZUN1cnJlbnRQYWdlKTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdWaWV3ZXJEaWRMb2FkJywgdXBkYXRlQ3VycmVudFBhZ2UpO1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1ZpZXdEaWRTd2l0Y2gnLCB1cGRhdGVDdXJyZW50UGFnZSk7XG5cbiAgICAgICAgcmV0dXJuIGVsdCgnc3BhbicsIHtcbiAgICAgICAgICAgICAgICBjbGFzczogJ2RpdmEtcGFnZS1sYWJlbCBkaXZhLWxhYmVsJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY3JlYXRlR290b1BhZ2VGb3JtICgpXG4gICAge1xuICAgICAgICBjb25zdCBnb3RvUGFnZUlucHV0ID0gZWx0KCdpbnB1dCcsIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgJ2dvdG8tcGFnZS1pbnB1dCcsXG4gICAgICAgICAgICBjbGFzczogJ2RpdmEtaW5wdXQgZGl2YS1nb3RvLXBhZ2UtaW5wdXQnLFxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiAnb2ZmJyxcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ1BhZ2UgSW5wdXQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGdvdG9QYWdlU3VibWl0ID0gZWx0KCdpbnB1dCcsIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgJ2dvdG8tcGFnZS1zdWJtaXQnLFxuICAgICAgICAgICAgY2xhc3M6ICdkaXZhLWJ1dHRvbiBkaXZhLWJ1dHRvbi10ZXh0JyxcbiAgICAgICAgICAgIHR5cGU6ICdzdWJtaXQnLFxuICAgICAgICAgICAgdmFsdWU6ICdHbydcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgaW5wdXRTdWdnZXN0aW9ucyA9IGVsdCgnZGl2Jywge1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgJ2lucHV0LXN1Z2dlc3Rpb25zJyxcbiAgICAgICAgICAgICAgICBjbGFzczogJ2RpdmEtaW5wdXQtc3VnZ2VzdGlvbnMnXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgZ290b0Zvcm0gPSBlbHQoJ2Zvcm0nLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyAnZ290by1wYWdlJyxcbiAgICAgICAgICAgICAgICBjbGFzczogJ2RpdmEtZ290by1mb3JtJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdvdG9QYWdlSW5wdXQsXG4gICAgICAgICAgICBnb3RvUGFnZVN1Ym1pdCxcbiAgICAgICAgICAgIGlucHV0U3VnZ2VzdGlvbnNcbiAgICAgICAgKTtcblxuICAgICAgICBnb3RvRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBjb25zdCBkZXNpcmVkUGFnZUxhYmVsID0gZ290b1BhZ2VJbnB1dC52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3Mub25Hb3RvU3VibWl0ICYmIHR5cGVvZiB0aGlzLnNldHRpbmdzLm9uR290b1N1Ym1pdCA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuc2V0dGluZ3Mub25Hb3RvU3VibWl0KGRlc2lyZWRQYWdlTGFiZWwpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy52aWV3ZXIuZ290b1BhZ2VCeUluZGV4KHBhZ2VJbmRleCkpXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hbGVydChcIk5vIHBhZ2UgY291bGQgYmUgZm91bmQgd2l0aCB0aGF0IGxhYmVsIG9yIHBhZ2UgbnVtYmVyXCIpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIC8vIERlZmF1bHQgaWYgbm8gZnVuY3Rpb24gaXMgc3BlY2lmaWVkIGluIHRoZSBzZXR0aW5nc1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy52aWV3ZXIuZ290b1BhZ2VCeUxhYmVsKGRlc2lyZWRQYWdlTGFiZWwpKVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoXCJObyBwYWdlIGNvdWxkIGJlIGZvdW5kIHdpdGggdGhhdCBsYWJlbCBvciBwYWdlIG51bWJlclwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGlkZSB0aGUgc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgIGlucHV0U3VnZ2VzdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgICAgLy8gUHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gb2YgcmVsb2FkaW5nIHRoZSBwYWdlXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFsnaW5wdXQnLCAnZm9jdXMnXS5mb3JFYWNoKGV2ZW50ID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGdvdG9QYWdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlucHV0U3VnZ2VzdGlvbnMuaW5uZXJIVE1MID0gJyc7IC8vIFJlbW92ZSBhbGwgcHJldmlvdXMgc3VnZ2VzdGlvbnNcblxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ290b1BhZ2VJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgbnVtU3VnZ2VzdGlvbnMgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZUdvdG9TdWdnZXN0aW9ucyAmJiB2YWx1ZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VzID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlcztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhZ2VzLmxlbmd0aDsgaSA8IGxlbiAmJiBudW1TdWdnZXN0aW9ucyA8IDEwOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlc1tpXS5sLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih2YWx1ZS50b0xvd2VyQ2FzZSgpKSA+IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0lucHV0U3VnZ2VzdGlvbiA9IGVsdCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdkaXZhLWlucHV0LXN1Z2dlc3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VzW2ldLmxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5hcHBlbmRDaGlsZChuZXdJbnB1dFN1Z2dlc3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtU3VnZ2VzdGlvbnMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgbGFiZWwgc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bVN1Z2dlc3Rpb25zID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0U3VnZ2VzdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGdvdG9QYWdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4ge1xuICAgICAgICAgICAgbGV0IGVsO1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIC8vICdFbnRlcicga2V5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlJylbMF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3RpdmUgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgICAgICBnb3RvUGFnZUlucHV0LnZhbHVlID0gYWN0aXZlLmlubmVyVGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDM4KSAvLyBVcCBhcnJvdyBrZXlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZScpWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZFbCA9IGVsID8gZWwucHJldmlvdXNTaWJsaW5nIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJldkVsICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldkVsICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RpdmEtaW5wdXQtc3VnZ2VzdGlvbicpLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RpdmEtaW5wdXQtc3VnZ2VzdGlvbicpW2xhc3RdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gNDApIC8vIERvd24gYXJyb3cga2V5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhY3RpdmUnKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0RWwgPSBlbCA/IGVsLm5leHRTaWJsaW5nIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV4dEVsICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEVsICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEVsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkaXZhLWlucHV0LXN1Z2dlc3Rpb24nKVswXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9uRXZlbnQoaW5wdXRTdWdnZXN0aW9ucywgJ21vdXNlZG93bicsICcuZGl2YS1pbnB1dC1zdWdnZXN0aW9uJywgZnVuY3Rpb24gKClcbiAgICAgICAge1xuICAgICAgICAgICAgZ290b1BhZ2VJbnB1dC52YWx1ZSA9IHRoaXMudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBsZXQgc3VibWl0RXZlbnQgPSBuZXcgRXZlbnQoJ3N1Ym1pdCcsIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdvdG9Gb3JtLmRpc3BhdGNoRXZlbnQoc3VibWl0RXZlbnQpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBqYXZhc2NyaXB0IGVxdWl2YWxlbnQgdG8ganF1ZXJ5IC5vbihldmVudCwgc2VsZWN0b3IsIGZ1bmN0aW9uKVxuICAgICAgICBmdW5jdGlvbiBvbkV2ZW50IChlbGVtLCBldnQsIHNlbCwgaGFuZGxlcilcbiAgICAgICAge1xuICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKGV2dCwgZnVuY3Rpb24gKGV2ZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciB0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgIHdoaWxlICh0ICYmIHQgIT09IHRoaXMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodC5tYXRjaGVzKHNlbCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwodCwgZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB0ID0gdC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZ290b1BhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gSGlkZSBsYWJlbCBzdWdnZXN0aW9uc1xuICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZ290b0Zvcm07XG4gICAgfVxuXG4gICAgY3JlYXRlVmlld01lbnUgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHZpZXdPcHRpb25zTGlzdCA9IGVsdCgnZGl2JywgdGhpcy5fZWxlbUF0dHJzKCd2aWV3LW9wdGlvbnMnKSk7XG4gICAgICAgIGNvbnN0IGdyaWRWaWV3SWNvbiA9IHRoaXMuX2NyZWF0ZUdyaWRWaWV3SWNvbigpO1xuICAgICAgICBjb25zdCBib29rVmlld0ljb24gPSB0aGlzLl9jcmVhdGVCb29rVmlld0ljb24oKTtcbiAgICAgICAgY29uc3QgcGFnZVZpZXdJY29uID0gdGhpcy5fY3JlYXRlUGFnZVZpZXdJY29uKCk7XG5cbiAgICAgICAgY29uc3Qgdmlld09wdGlvbnNUb2dnbGUgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3T3B0aW9uc0xpc3Quc3R5bGUuZGlzcGxheSA9IHZpZXdPcHRpb25zTGlzdC5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGNoYW5nZVZpZXdCdXR0b24gPSB0aGlzLmNyZWF0ZUJ1dHRvbigndmlldy1pY29uJywgJ0NoYW5nZSB2aWV3Jywgdmlld09wdGlvbnNUb2dnbGUpO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdFZpZXcgPSAodmlldykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuY2hhbmdlVmlldyh2aWV3KTtcblxuICAgICAgICAgICAgLy9oaWRlIHZpZXcgbWVudVxuICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCB1cGRhdGVWaWV3TWVudSA9ICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdJY29uQ2xhc3NlcyA9ICcgZGl2YS12aWV3LWljb24gZGl2YS1idXR0b24nO1xuXG5cbiAgICAgICAgICAgIC8vIGRpc3BsYXkgdGhlIGljb24gb2YgdGhlIG1vZGUgd2UncmUgY3VycmVudGx5IGluICg/KVxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uYXBwZW5kQ2hpbGQoZ3JpZFZpZXdJY29uKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VWaWV3QnV0dG9uLmNsYXNzTmFtZSA9ICdkaXZhLWdyaWQtaWNvbicgKyB2aWV3SWNvbkNsYXNzZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNldHRpbmdzLmluQm9va0xheW91dClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VWaWV3QnV0dG9uLmFwcGVuZENoaWxkKGJvb2tWaWV3SWNvbik7XG4gICAgICAgICAgICAgICAgY2hhbmdlVmlld0J1dHRvbi5jbGFzc05hbWUgPSAnZGl2YS1ib29rLWljb24nICsgdmlld0ljb25DbGFzc2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uYXBwZW5kQ2hpbGQocGFnZVZpZXdJY29uKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VWaWV3QnV0dG9uLmNsYXNzTmFtZSA9ICdkaXZhLWRvY3VtZW50LWljb24nICsgdmlld0ljb25DbGFzc2VzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB2aWV3T3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgICAgICAgICAgLy8gdGhlbiBkaXNwbGF5IGRvY3VtZW50LCBib29rLCBhbmQgZ3JpZCBidXR0b25zIGluIHRoYXQgb3JkZXIsIGV4Y2x1ZGluZyB0aGUgY3VycmVudCB2aWV3XG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkdyaWQgfHwgdGhpcy5zZXR0aW5ncy5pbkJvb2tMYXlvdXQpXG4gICAgICAgICAgICAgICAgdmlld09wdGlvbnMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVCdXR0b24oJ2RvY3VtZW50LWljb24nLCAnRG9jdW1lbnQgVmlldycsIHNlbGVjdFZpZXcuYmluZChudWxsLCAnZG9jdW1lbnQnKSwgcGFnZVZpZXdJY29uKSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZCB8fCAhdGhpcy5zZXR0aW5ncy5pbkJvb2tMYXlvdXQpXG4gICAgICAgICAgICAgICAgdmlld09wdGlvbnMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVCdXR0b24oJ2Jvb2staWNvbicsICdCb29rIFZpZXcnLCBzZWxlY3RWaWV3LmJpbmQobnVsbCwgJ2Jvb2snKSwgYm9va1ZpZXdJY29uKSk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgICAgICAgICAgdmlld09wdGlvbnMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVCdXR0b24oJ2dyaWQtaWNvbicsICdHcmlkIFZpZXcnLCBzZWxlY3RWaWV3LmJpbmQobnVsbCwgJ2dyaWQnKSwgZ3JpZFZpZXdJY29uKSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBvbGQgbWVudVxuICAgICAgICAgICAgd2hpbGUgKHZpZXdPcHRpb25zTGlzdC5maXJzdENoaWxkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZpZXdPcHRpb25zTGlzdC5yZW1vdmVDaGlsZCh2aWV3T3B0aW9uc0xpc3QuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGluc2VydCBuZXcgbWVudVxuICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0LmFwcGVuZENoaWxkKHZpZXdPcHRpb25zKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZXZlbnQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZpZXdPcHRpb25zTGlzdCAhPT0gZXZlbnQudGFyZ2V0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZpZXdPcHRpb25zTGlzdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1ZpZXdEaWRTd2l0Y2gnLCB1cGRhdGVWaWV3TWVudSk7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnT2JqZWN0RGlkTG9hZCcsIHVwZGF0ZVZpZXdNZW51KTtcblxuICAgICAgICByZXR1cm4gZWx0KCdkaXYnLCB0aGlzLl9lbGVtQXR0cnMoJ3ZpZXctbWVudScpLFxuICAgICAgICAgICAgY2hhbmdlVmlld0J1dHRvbixcbiAgICAgICAgICAgIHZpZXdPcHRpb25zTGlzdFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNyZWF0ZUZ1bGxzY3JlZW5CdXR0b24gKClcbiAgICB7XG4gICAgICAgIGxldCBmdWxsc2NyZWVuSWNvbiA9IHRoaXMuX2NyZWF0ZUZ1bGxzY3JlZW5JY29uKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQnV0dG9uKCdmdWxsc2NyZWVuLWljb24nLCAnVG9nZ2xlIGZ1bGxzY3JlZW4gbW9kZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLnRvZ2dsZUZ1bGxzY3JlZW5Nb2RlKCk7XG4gICAgICAgIH0sIGZ1bGxzY3JlZW5JY29uKTtcbiAgICB9XG5cbiAgICB0b2dnbGVab29tR3JpZENvbnRyb2xzICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLklEICsgXCJ6b29tLWNvbnRyb2xzXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLklEICsgXCJncmlkLWNvbnRyb2xzXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyBcInpvb20tY29udHJvbHNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5JRCArIFwiZ3JpZC1jb250cm9sc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICByZW5kZXIgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZShcIlZpZXdEaWRTd2l0Y2hcIiwgdGhpcy50b2dnbGVab29tR3JpZENvbnRyb2xzKTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKFwiT2JqZWN0RGlkTG9hZFwiLCB0aGlzLnRvZ2dsZVpvb21HcmlkQ29udHJvbHMpO1xuXG4gICAgICAgIGxldCBsZWZ0VG9vbHMgPSBbXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVpvb21CdXR0b25zKCksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUdyaWRDb250cm9scygpXG4gICAgICAgIF07XG4gICAgICAgIGxldCByaWdodFRvb2xzID0gW1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVQYWdlTGFiZWwoKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVmlld01lbnUoKVxuICAgICAgICBdO1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVGdWxsc2NyZWVuKVxuICAgICAgICAgICAgcmlnaHRUb29scy5wdXNoKHRoaXMuY3JlYXRlRnVsbHNjcmVlbkJ1dHRvbigpKTtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlR290b1BhZ2UpXG4gICAgICAgICAgICByaWdodFRvb2xzLnNwbGljZSgxLCAwLCB0aGlzLmNyZWF0ZUdvdG9QYWdlRm9ybSgpKTtcblxuICAgICAgICAvLyBhc3NpZ24gdG9vbGJhciBwbHVnaW5zIHRvIHByb3BlciBzaWRlXG4gICAgICAgIGxldCBwbHVnaW5zID0gdGhpcy52aWV3ZXIudmlld2VyU3RhdGUucGx1Z2luSW5zdGFuY2VzO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGx1Z2lucy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHBsdWdpbiA9IHBsdWdpbnNbaV07XG5cbiAgICAgICAgICAgIGlmICghcGx1Z2luLnRvb2xiYXJTaWRlKSAvLyBub3QgYSB0b29sYmFyIHRvb2xcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgcGx1Z2luLnRvb2xiYXJJY29uID0gcGx1Z2luLmNyZWF0ZUljb24oKTtcbiAgICAgICAgICAgIGlmICghcGx1Z2luLnRvb2xiYXJJY29uKSAvLyBpY29uIGNvdWxkbid0IGJlIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gYWRkIHBsdWdpbiB0b29scyBhZnRlciB0aGUgZ28tdG8tcGFnZSBhbmQgcGFnZS1sYWJlbCB0b29sc1xuICAgICAgICAgICAgaWYgKHBsdWdpbi50b29sYmFyU2lkZSA9PT0gJ3JpZ2h0JylcbiAgICAgICAgICAgICAgICByaWdodFRvb2xzLnNwbGljZSgyLCAwLCBwbHVnaW4udG9vbGJhckljb24pO1xuICAgICAgICAgICAgZWxzZSBpZiAocGx1Z2luLnRvb2xiYXJTaWRlID09PSAnbGVmdCcpXG4gICAgICAgICAgICAgICAgbGVmdFRvb2xzLnNwbGljZSgyLCAwLCBwbHVnaW4udG9vbGJhckljb24pO1xuXG4gICAgICAgICAgICBwbHVnaW4udG9vbGJhckljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVQbHVnaW5DbGljay5iaW5kKHRoaXMsIHBsdWdpbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUGx1Z2luQ2xpY2sgKHBsdWdpbilcbiAgICAgICAge1xuICAgICAgICAgICAgcGx1Z2luLmhhbmRsZUNsaWNrKHRoaXMudmlld2VyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRvb2xzID0gZWx0KCdkaXYnLCB0aGlzLl9lbGVtQXR0cnMoJ3Rvb2xzJyksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgdGhpcy5fZWxlbUF0dHJzKCd0b29scy1sZWZ0JyksIGxlZnRUb29scyksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgdGhpcy5fZWxlbUF0dHJzKCd0b29scy1yaWdodCcpLCByaWdodFRvb2xzKVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5zZXR0aW5ncy50b29sYmFyUGFyZW50T2JqZWN0Lmluc2VydEJlZm9yZShcbiAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy50b29sYmFyUGFyZW50T2JqZWN0LmZpcnN0Q2hpbGRcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlVG9vbGJhckljb24gKHBhdGhzKVxuICAgIHtcbiAgICAgICAgbGV0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndmlld0JveCcsIFwiMCAwIDI1IDI1XCIpO1xuICAgICAgICBpY29uLnNldEF0dHJpYnV0ZU5TKG51bGwsICd4JywgJzBweCcpO1xuICAgICAgICBpY29uLnNldEF0dHJpYnV0ZU5TKG51bGwsICd5JywgJzBweCcpO1xuICAgICAgICBpY29uLnNldEF0dHJpYnV0ZU5TKG51bGwsICdzdHlsZScsIFwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0OCA0ODtcIik7XG5cbiAgICAgICAgbGV0IGdseXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJnXCIpO1xuICAgICAgICBnbHlwaC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInRyYW5zZm9ybVwiLCBcIm1hdHJpeCgxLCAwLCAwLCAxLCAtMTIsIC0xMilcIik7XG5cbiAgICAgICAgcGF0aHMuZm9yRWFjaCggKHBhdGgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgICAgICBwRWwuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJkXCIsIHBhdGgpO1xuICAgICAgICAgICAgZ2x5cGguYXBwZW5kQ2hpbGQocEVsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWNvbi5hcHBlbmRDaGlsZChnbHlwaCk7XG4gICAgICAgIHJldHVybiBpY29uO1xuICAgIH1cblxuICAgIF9jcmVhdGVab29tT3V0SWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMTkuNSwyM2MtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtMWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDdjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXYxYzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTkuNXpcIixcbiAgICAgICAgICAgIFwiTTM3LjIxOSwzNC4yNTdsLTIuMjEzLDIuMjEyYy0wLjIwMiwwLjIwMi0wLjUzNCwwLjIwMi0wLjczNiwwbC02LjA5OC02LjA5OWMtMS41MzcsMC45OTMtMy4zNjIsMS41NzctNS4zMjMsMS41NzdjLTUuNDMxLDAtOS44NDktNC40MTgtOS44NDktOS44NDljMC01LjQzMSw0LjQxOC05Ljg0OSw5Ljg0OS05Ljg0OWM1LjQzMSwwLDkuODQ5LDQuNDE4LDkuODQ5LDkuODQ5YzAsMS45NjEtMC41ODQsMy43ODYtMS41NzYsNS4zMjNsNi4wOTgsNi4wOThDMzcuNDIyLDMzLjcyMiwzNy40MjIsMzQuMDU0LDM3LjIxOSwzNC4yNTd6IE0yOS41NjgsMjIuMDk5YzAtMy43MDYtMy4wMTQtNi43Mi02LjcyLTYuNzJjLTMuNzA2LDAtNi43MiwzLjAxNC02LjcyLDYuNzJjMCwzLjcwNiwzLjAxNCw2LjcyLDYuNzIsNi43MkMyNi41NTUsMjguODE4LDI5LjU2OCwyNS44MDUsMjkuNTY4LDIyLjA5OXpcIlxuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVpvb21Jbkljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTM3LjQ2OSwzNC4yNTdsLTIuMjEzLDIuMjEyYy0wLjIwMiwwLjIwMi0wLjUzNCwwLjIwMi0wLjczNiwwbC02LjA5OC02LjA5OWMtMS41MzcsMC45OTMtMy4zNjIsMS41NzctNS4zMjMsMS41NzdjLTUuNDMxLDAtOS44NDktNC40MTgtOS44NDktOS44NDljMC01LjQzMSw0LjQxOC05Ljg0OSw5Ljg0OS05Ljg0OWM1LjQzMSwwLDkuODQ5LDQuNDE4LDkuODQ5LDkuODQ5YzAsMS45NjEtMC41ODQsMy43ODYtMS41NzYsNS4zMjNsNi4wOTgsNi4wOThDMzcuNjcyLDMzLjcyMiwzNy42NzIsMzQuMDU0LDM3LjQ2OSwzNC4yNTd6IE0yOS44MTgsMjIuMDk5YzAtMy43MDYtMy4wMTQtNi43Mi02LjcyLTYuNzJjLTMuNzA2LDAtNi43MiwzLjAxNC02LjcyLDYuNzJjMCwzLjcwNiwzLjAxNCw2LjcyLDYuNzIsNi43MkMyNi44MDUsMjguODE4LDI5LjgxOCwyNS44MDUsMjkuODE4LDIyLjA5OXogTTI2LjUsMjFIMjR2LTIuNWMwLTAuMjc1LTAuMjI1LTAuNS0wLjUtMC41aC0xYy0wLjI3NSwwLTAuNSwwLjIyNS0wLjUsMC41VjIxaC0yLjVjLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjV2MWMwLDAuMjc1LDAuMjI1LDAuNSwwLjUsMC41SDIydjIuNWMwLDAuMjc1LDAuMjI1LDAuNSwwLjUsMC41aDFjMC4yNzUsMCwwLjUtMC4yMjUsMC41LTAuNVYyM2gyLjVjMC4yNzUsMCwwLjUtMC4yMjUsMC41LTAuNXYtMUMyNywyMS4yMjUsMjYuNzc1LDIxLDI2LjUsMjF6XCJcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlR3JpZE1vcmVJY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0yOS41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyOS41eiBNMjEuNSwzNWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjEuNXogTTEzLjUsMzVjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDEzLjV6IE0yOS41LDI3Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyOS41eiBNMjEuNSwyN2MtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjEuNXogTTEzLjUsMjdjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDEzLjV6IE0yOS41LDE5Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyOS41eiBNMjEuNSwxOWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjEuNXogTTEzLjUsMTljLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDEzLjV6XCJcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlR3JpZEZld2VySWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMjUuNSwzNWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtOWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDljMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY5YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjUuNXogTTIyLjUsMzVjMC4yNzUsMCwwLjUtMC4yMjUsMC41LTAuNXYtOWMwLTAuMjc1LTAuMjI1LTAuNS0wLjUtMC41aC05Yy0wLjI3NSwwLTAuNSwwLjIyNS0wLjUsMC41djljMCwwLjI3NSwwLjIyNSwwLjUsMC41LDAuNUgyMi41eiBNMzQuNSwyM2MwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41di05YzAtMC4yNzUtMC4yMjUtMC41LTAuNS0wLjVoLTljLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjV2OWMwLDAuMjc1LDAuMjI1LDAuNSwwLjUsMC41SDM0LjV6IE0yMi41LDIzYzAuMjc1LDAsMC41LTAuMjI1LDAuNS0wLjV2LTljMC0wLjI3NS0wLjIyNS0wLjUtMC41LTAuNWgtOWMtMC4yNzUsMC0wLjUsMC4yMjUtMC41LDAuNXY5YzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVIMjIuNXpcIlxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVHcmlkVmlld0ljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTI5LjUsMzVjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwzNWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXogTTI5LjUsMjdjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDI3Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwyN2MtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXogTTI5LjUsMTljLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDE5Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwxOWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXpcIlxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVCb29rVmlld0ljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTM1LDE2Ljh2LTEuMzIzYzAsMC0yLjI5Mi0xLjMyOC01Ljc0LTEuMzI4Yy0zLjQ0OCwwLTUuMjYsMS4yNS01LjI2LDEuMjVzLTEuODEzLTEuMjUtNS4yNi0xLjI1Yy0zLjQ0OCwwLTUuNzQsMS4zMjgtNS43NCwxLjMyOFYxNi44bC0xLDAuNTMxdjAuMDIxdjE1LjY4N2MwLDAsNC41MzEtMS41NzgsNi45OTktMS41NzhjMi40NjgsMCw1LjAwMSwwLjg4NSw1LjAwMSwwLjg4NXMyLjUzMi0wLjg4NSw1LTAuODg1YzAuMzA2LDAsMC42NDMsMC4wMjQsMSwwLjA2NnY0LjMyNWwxLjUzMS0yLjAxNkwzMywzNS44NTJ2LTMuNzJjMiwwLjQzLDMsMC45MDYsMywwLjkwNlYxNy4zNTJ2LTAuMDIxTDM1LDE2Ljh6IE0yMywyOS4wM2MtMS0wLjI5Mi0yLjU4NC0wLjY3OS0zLjk4MS0wLjY3OWMtMi4yNDYsMC0zLjAxOSwwLjQwNC00LjAxOSwwLjY5OVYxNi42MzRjMCwwLDEuMTI1LTAuNjk5LDQuMDE5LTAuNjk5YzEuNjk0LDAsMi45ODEsMC40MTcsMy45ODEsMS4xMjZWMjkuMDN6IE0zMywyOS4wNTFjLTEtMC4yOTUtMS43NzMtMC42OTktNC4wMi0wLjY5OWMtMS4zOTYsMC0yLjk4MSwwLjM4Ny0zLjk4LDAuNjc5VjE3LjA2YzEtMC43MDksMi4yODYtMS4xMjYsMy45OC0xLjEyNmMyLjg5NSwwLDQuMDIsMC42OTksNC4wMiwwLjY5OVYyOS4wNTF6XCJcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlUGFnZVZpZXdJY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0yOS40MjUsMjloNC40N0wyOSwzMy45MzR2LTQuNDdDMjksMjkuMTksMjkuMTUxLDI5LDI5LjQyNSwyOXogTTM0LDE0LjU2M1YyOGgtNS41NjlDMjguMTU3LDI4LDI4LDI4LjE5NiwyOCwyOC40N1YzNEgxNC40OTdDMTQuMjIzLDM0LDE0LDMzLjcxLDE0LDMzLjQzN1YxNC41NjNDMTQsMTQuMjksMTQuMjIzLDE0LDE0LjQ5NywxNGgxOC45QzMzLjY3MiwxNCwzNCwxNC4yOSwzNCwxNC41NjN6IE0yNS40OTcsMjYuNDk3QzI1LjQ5NywyNi4yMjMsMjUuMjc1LDI2LDI1LDI2aC03Yy0wLjI3NSwwLTAuNDk3LDAuMjIzLTAuNDk3LDAuNDk3djEuMDA2QzE3LjUwMywyNy43NzcsMTcuNzI1LDI4LDE4LDI4aDdjMC4yNzUsMCwwLjQ5Ny0wLjIyMywwLjQ5Ny0wLjQ5N1YyNi40OTd6IE0zMC40OTcsMjIuNDk3QzMwLjQ5NywyMi4yMjMsMzAuMjc1LDIyLDMwLDIySDE4Yy0wLjI3NSwwLTAuNDk3LDAuMjIzLTAuNDk3LDAuNDk3djEuMDA2QzE3LjUwMywyMy43NzcsMTcuNzI1LDI0LDE4LDI0aDEyYzAuMjc1LDAsMC40OTctMC4yMjMsMC40OTctMC40OTdWMjIuNDk3eiBNMzAuNDk3LDE4LjQ5N0MzMC40OTcsMTguMjIzLDMwLjI3NSwxOCwzMCwxOEgxOGMtMC4yNzUsMC0wLjQ5NywwLjIyMy0wLjQ5NywwLjQ5N3YxLjAwNkMxNy41MDMsMTkuNzc3LDE3LjcyNSwyMCwxOCwyMGgxMmMwLjI3NSwwLDAuNDk3LTAuMjIzLDAuNDk3LTAuNDk3VjE4LjQ5N3pcIlxuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUZ1bGxzY3JlZW5JY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0zNSwxMkgxM2MtMC41NSwwLTEsMC40NS0xLDF2MjJjMCwwLjU1LDAuNDUsMSwxLDFoMjJjMC41NSwwLDEtMC40NSwxLTFWMTNDMzYsMTIuNDUsMzUuNTUsMTIsMzUsMTJ6IE0zNCwzNEgxNFYxNGgyMFYzNHpcIixcbiAgICAgICAgICAgIFwiTTE3LDIxLjc1di00LjVjMC0wLjEzOCwwLjExMi0wLjI1LDAuMjUtMC4yNWg0LjVjMC4xMzgsMCwwLjE3LDAuMDgsMC4wNzMsMC4xNzdsLTEuNjE2LDEuNjE2bDEuODIzLDEuODIzYzAuMDk3LDAuMDk3LDAuMDk3LDAuMjU2LDAsMC4zNTRsLTEuMDYxLDEuMDZjLTAuMDk3LDAuMDk3LTAuMjU2LDAuMDk3LTAuMzU0LDBsLTEuODIzLTEuODIzbC0xLjYxNiwxLjYxNkMxNy4wOCwyMS45MiwxNywyMS44ODgsMTcsMjEuNzV6IE0yMC45NywyNS45N2MtMC4wOTctMC4wOTctMC4yNTYtMC4wOTctMC4zNTQsMGwtMS44MjMsMS44MjNsLTEuNjE2LTEuNjE2QzE3LjA4LDI2LjA4LDE3LDI2LjExMiwxNywyNi4yNXY0LjVjMCwwLjEzOCwwLjExMiwwLjI1LDAuMjUsMC4yNWg0LjVjMC4xMzgsMCwwLjE3LTAuMDgsMC4wNzMtMC4xNzdsLTEuNjE2LTEuNjE2bDEuODIzLTEuODIzYzAuMDk3LTAuMDk3LDAuMDk3LTAuMjU2LDAtMC4zNTRMMjAuOTcsMjUuOTd6IE0zMC43NSwxN2gtNC41Yy0wLjEzOCwwLTAuMTcsMC4wOC0wLjA3MywwLjE3N2wxLjYxNiwxLjYxNmwtMS44MjMsMS44MjNjLTAuMDk3LDAuMDk3LTAuMDk3LDAuMjU2LDAsMC4zNTRsMS4wNjEsMS4wNmMwLjA5NywwLjA5NywwLjI1NiwwLjA5NywwLjM1NCwwbDEuODIzLTEuODIzbDEuNjE2LDEuNjE2QzMwLjkyLDIxLjkyLDMxLDIxLjg4OCwzMSwyMS43NXYtNC41QzMxLDE3LjExMiwzMC44ODgsMTcsMzAuNzUsMTd6IE0zMC44MjMsMjYuMTc3bC0xLjYxNiwxLjYxNmwtMS44MjMtMS44MjNjLTAuMDk3LTAuMDk3LTAuMjU2LTAuMDk3LTAuMzU0LDBsLTEuMDYxLDEuMDZjLTAuMDk3LDAuMDk3LTAuMDk3LDAuMjU2LDAsMC4zNTRsMS44MjMsMS44MjNsLTEuNjE2LDEuNjE2QzI2LjA4LDMwLjkyLDI2LjExMiwzMSwyNi4yNSwzMWg0LjVjMC4xMzgsMCwwLjI1LTAuMTEyLDAuMjUtMC4yNXYtNC41QzMxLDI2LjExMiwzMC45MiwyNi4wOCwzMC44MjMsMjYuMTc3eiBNMjYsMjIuNWMwLTAuMjc1LTAuMjI1LTAuNS0wLjUtMC41aC0zYy0wLjI3NSwwLTAuNSwwLjIyNS0wLjUsMC41djNjMCwwLjI3NSwwLjIyNSwwLjUsMC41LDAuNWgzYzAuMjc1LDAsMC41LTAuMjI1LDAuNS0wLjVWMjIuNXpcIlxuICAgICAgICBdO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxufVxuIiwibGV0IEhhc2hQYXJhbXMgPSB7XG4gICAgZ2V0OiBnZXRIYXNoUGFyYW0sXG4gICAgdXBkYXRlOiB1cGRhdGVIYXNoUGFyYW1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhhc2hQYXJhbXM7XG5cblxuLy8gRm9yIGdldHRpbmcgdGhlICNrZXkgdmFsdWVzIGZyb20gdGhlIFVSTC4gRm9yIHNwZWNpZnlpbmcgYSBwYWdlIGFuZCB6b29tIGxldmVsXG4vLyBMb29rIGludG8gY2FjaGluZywgYmVjYXVzZSB3ZSBvbmx5IG5lZWQgdG8gZ2V0IHRoaXMgZHVyaW5nIHRoZSBpbml0aWFsIGxvYWRcbi8vIEFsdGhvdWdoIGZvciB0aGUgdGVzdHMgSSBndWVzcyB3ZSB3b3VsZCBuZWVkIHRvIG92ZXJyaWRlIGNhY2hpbmcgc29tZWhvd1xuZnVuY3Rpb24gZ2V0SGFzaFBhcmFtIChrZXkpXG57XG4gICAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXG4gICAgaWYgKGhhc2ggIT09ICcnKVxuICAgIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgc29tZXRoaW5nIHRoYXQgbG9va3MgbGlrZSBlaXRoZXIgJmtleT0gb3IgI2tleT1cbiAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSAoaGFzaC5pbmRleE9mKCcmJyArIGtleSArICc9JykgPiAwKSA/IGhhc2guaW5kZXhPZignJicgKyBrZXkgKyAnPScpIDogaGFzaC5pbmRleE9mKCcjJyArIGtleSArICc9Jyk7XG5cbiAgICAgICAgLy8gSWYgc3RhcnRJbmRleCBpcyBzdGlsbCAtMSwgaXQgbWVhbnMgaXQgY2FuJ3QgZmluZCBlaXRoZXJcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPj0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBsZW5ndGggb2YgdGhlIGtleSBwbHVzIHRoZSAmIGFuZCA9XG4gICAgICAgICAgICBzdGFydEluZGV4ICs9IGtleS5sZW5ndGggKyAyO1xuXG4gICAgICAgICAgICAvLyBFaXRoZXIgdG8gdGhlIG5leHQgYW1wZXJzYW5kIG9yIHRvIHRoZSBlbmQgb2YgdGhlIHN0cmluZ1xuICAgICAgICAgICAgY29uc3QgZW5kSW5kZXggPSBoYXNoLmluZGV4T2YoJyYnLCBzdGFydEluZGV4KTtcbiAgICAgICAgICAgIGlmIChlbmRJbmRleCA+IHN0YXJ0SW5kZXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChoYXNoLnN1YnN0cmluZyhzdGFydEluZGV4LCBlbmRJbmRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW5kSW5kZXggPCAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgdGhpcyBoYXNoIHBhcmFtIGlzIHRoZSBsYXN0IG9uZVxuICAgICAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoaGFzaC5zdWJzdHJpbmcoc3RhcnRJbmRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIGtleSBkb2Vzbid0IGhhdmUgYSB2YWx1ZSBJIHRoaW5rXG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJZiBpdCBjYW4ndCBmaW5kIHRoZSBrZXlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gaGFzaCBwYXJhbXMganVzdCByZXR1cm4gZmFsc2VcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlSGFzaFBhcmFtIChrZXksIHZhbHVlKVxue1xuICAgIC8vIEZpcnN0IG1ha2Ugc3VyZSB0aGF0IHdlIGhhdmUgdG8gZG8gYW55IHdvcmsgYXQgYWxsXG4gICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IGdldEhhc2hQYXJhbShrZXkpO1xuICAgIGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcblxuICAgIGlmIChvcmlnaW5hbFZhbHVlICE9PSB2YWx1ZSlcbiAgICB7XG4gICAgICAgIC8vIElzIHRoZSBrZXkgYWxyZWFkeSBpbiB0aGUgVVJMP1xuICAgICAgICBpZiAodHlwZW9mIG9yaWdpbmFsVmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBBbHJlYWR5IGluIHRoZSBVUkwuIEp1c3QgZ2V0IHJpZCBvZiB0aGUgb3JpZ2luYWwgdmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSAoaGFzaC5pbmRleE9mKCcmJyArIGtleSArICc9JykgPiAwKSA/IGhhc2guaW5kZXhPZignJicgKyBrZXkgKyAnPScpIDogaGFzaC5pbmRleE9mKCcjJyArIGtleSArICc9Jyk7XG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IHN0YXJ0SW5kZXggKyBrZXkubGVuZ3RoICsgMiArIG9yaWdpbmFsVmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgLy8gIyBpZiBpdCdzIHRoZSBmaXJzdCwgJiBvdGhlcndpc2VcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGhpbmcgPSAoc3RhcnRJbmRleCA9PT0gMCkgPyAnIycgOiAnJic7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShoYXNoLnN1YnN0cmluZygwLCBzdGFydEluZGV4KSArIHN0YXJ0VGhpbmcgKyBrZXkgKyAnPScgKyB2YWx1ZSArIGhhc2guc3Vic3RyaW5nKGVuZEluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJdCdzIG5vdCBwcmVzZW50IC0gYWRkIGl0XG4gICAgICAgICAgICBpZiAoaGFzaC5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJyMnICsga2V5ICsgJz0nICsgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBpdFxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhhc2ggKyAnJicgKyBrZXkgKyAnPScgKyB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgJy4vdXRpbHMvdmFuaWxsYS5raW5ldGljJztcbmltcG9ydCAnLi91dGlscy9kcmFnc2Nyb2xsJztcbmltcG9ydCB7IGVsdCB9IGZyb20gXCIuL3V0aWxzL2VsdFwiO1xuaW1wb3J0IHtcbiAgICBEaXZhUGFyZW50RWxlbWVudE5vdEZvdW5kRXhjZXB0aW9uLFxuICAgIE5vdEFuSUlJRk1hbmlmZXN0RXhjZXB0aW9uLFxuICAgIE9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvblxufSBmcm9tIFwiLi9leGNlcHRpb25zXCI7XG5pbXBvcnQgZGl2YSBmcm9tIFwiLi9kaXZhLWdsb2JhbFwiO1xuaW1wb3J0IFZpZXdlckNvcmUgZnJvbSBcIi4vdmlld2VyLWNvcmVcIjtcbmltcG9ydCBJbWFnZU1hbmlmZXN0IGZyb20gXCIuL2ltYWdlLW1hbmlmZXN0XCI7XG5pbXBvcnQgVG9vbGJhciBmcm9tIFwiLi90b29sYmFyXCI7XG5pbXBvcnQgSGFzaFBhcmFtcyBmcm9tIFwiLi91dGlscy9oYXNoLXBhcmFtc1wiO1xuXG5cbi8qKlxuICogVGhlIHRvcC1sZXZlbCBjbGFzcyBmb3IgRGl2YSBvYmplY3RzLiBUaGlzIGlzIGluc3RhbnRpYXRlZCBieSBwYXNzaW5nIGluIGFuIEhUTUwgZWxlbWVudFxuICogSUQgb3IgSFRNTCBFbGVtZW50IG5vZGUgYW5kIGFuIG9iamVjdCBjb250YWluaW5nIGEgbGlzdCBvZiBvcHRpb25zLCBvZiB3aGljaCB0aGUgJ29iamVjdERhdGEnXG4gKiBvcHRpb24gaXMgcmVxdWlyZWQgYW5kIHdoaWNoIG11c3QgcG9pbnQgdG8gYSBJSUlGIFByZXNlbnRhdGlvbiBBUEkgTWFuaWZlc3Q6XG4gKlxuICogdmFyIGRpdmEgPSBuZXcgRGl2YSgnZWxlbWVudC1pZCcsIHtcbiAqICAgICBvYmplY3REYXRhOiBcImh0dHA6Ly9leGFtcGxlLmNvbS9paWlmLW1hbmlmZXN0Lmpzb25cIlxuICogfSk7XG4gKlxuICogVGhpcyBjbGFzcyBhbHNvIHNlcnZlcyBhcyB0aGUgZW50cnkgcG9pbnQgZm9yIHRoZSBFdmVudHMgc3lzdGVtLCBpbiB3aGljaCBhcHBsaWNhdGlvbnMgY2FuIHN1YnNjcmliZVxuICogdG8gbm90aWZpY2F0aW9ucyBzZW50IGZyb20gRGl2YSBpbnN0YW5jZXM6XG4gKlxuICogRGl2YS5FdmVudHMuc3Vic2NyaWJlKCdWaXNpYmxlUGFnZURpZENoYW5nZScsIGZ1bmN0aW9uICgpIHsgY29uc29sZS5sb2coXCJWaXNpYmxlIFBhZ2UgQ2hhbmdlZFwiKTsgfSk7XG4gKlxuICpcbiAqXG4gKiovXG5jbGFzcyBEaXZhXG57XG4gICAgY29uc3RydWN0b3IgKGVsZW1lbnQsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvKlxuICAgICAgICAgKiBJZiBhIHN0cmluZyBpcyBwYXNzZWQgaW4sIGNvbnZlcnQgdGhhdCB0byBhbiBlbGVtZW50LlxuICAgICAgICAgKiAqL1xuICAgICAgICBpZiAoIShlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGl2YVBhcmVudEVsZW1lbnROb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLm9iamVjdERhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3REYXRhTm90U3VwcGxpZWRFeGNlcHRpb24oJ1lvdSBtdXN0IHN1cHBseSBlaXRoZXIgYSBVUkwgb3IgYSBsaXRlcmFsIG9iamVjdCB0byB0aGUgYG9iamVjdERhdGFgIGtleS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYWRhcHRpdmVQYWRkaW5nOiAwLjA1LCAgICAgIC8vIFRoZSByYXRpbyBvZiBwYWRkaW5nIHRvIHRoZSBwYWdlIGRpbWVuc2lvblxuICAgICAgICAgICAgYXJyb3dTY3JvbGxBbW91bnQ6IDQwLCAgICAgIC8vIFRoZSBhbW91bnQgKGluIHBpeGVscykgdG8gc2Nyb2xsIGJ5IHdoZW4gdXNpbmcgYXJyb3cga2V5c1xuICAgICAgICAgICAgYmxvY2tNb2JpbGVNb3ZlOiBmYWxzZSwgICAgIC8vIFByZXZlbnQgbW92aW5nIG9yIHNjcm9sbGluZyB0aGUgcGFnZSBvbiBtb2JpbGUgZGV2aWNlc1xuICAgICAgICAgICAgb2JqZWN0RGF0YTogJycsICAgICAgICAgICAgIC8vIEEgSUlJRiBNYW5pZmVzdCBvciBhIEpTT04gZmlsZSBnZW5lcmF0ZWQgYnkgcHJvY2Vzcy5weSB0aGF0IHByb3ZpZGVzIHRoZSBvYmplY3QgZGltZW5zaW9uIGRhdGEsIG9yIGEgVVJMIHBvaW50aW5nIHRvIHN1Y2ggZGF0YSAtICpSRVFVSVJFRCpcbiAgICAgICAgICAgIGVuYWJsZUF1dG9UaXRsZTogdHJ1ZSwgICAgICAvLyBTaG93cyB0aGUgdGl0bGUgd2l0aGluIGEgZGl2IG9mIGlkIGRpdmEtdGl0bGVcbiAgICAgICAgICAgIGVuYWJsZUZpbGVuYW1lOiB0cnVlLCAgICAgICAvLyBVc2VzIGZpbGVuYW1lcyBhbmQgbm90IHBhZ2UgbnVtYmVycyBmb3IgbGlua3MgKGk9Ym1fMDAxLnRpZiwgbm90IHA9MSlcbiAgICAgICAgICAgIGVuYWJsZUZ1bGxzY3JlZW46IHRydWUsICAgICAvLyBFbmFibGUgb3IgZGlzYWJsZSBmdWxsc2NyZWVuIGljb24gKG1vZGUgc3RpbGwgYXZhaWxhYmxlKVxuICAgICAgICAgICAgZW5hYmxlR290b1BhZ2U6IHRydWUsICAgICAgIC8vIEEgXCJnbyB0byBwYWdlXCIganVtcCBib3hcbiAgICAgICAgICAgIGVuYWJsZUdvdG9TdWdnZXN0aW9uczogdHJ1ZSwgLy8gQ29udHJvbHMgd2hldGhlciBzdWdnZXN0aW9ucyBhcmUgc2hvd24gdW5kZXIgdGhlIGlucHV0IGZpZWxkIHdoZW4gdGhlIHVzZXIgaXMgdHlwaW5nIGluIHRoZSAnZ28gdG8gcGFnZScgZm9ybVxuICAgICAgICAgICAgZW5hYmxlR3JpZEljb246IHRydWUsICAgICAgIC8vIEEgZ3JpZCB2aWV3IG9mIGFsbCB0aGUgcGFnZXNcbiAgICAgICAgICAgIGVuYWJsZUdyaWRDb250cm9sczogJ2J1dHRvbnMnLCAgLy8gU3BlY2lmeSBjb250cm9sIG9mIHBhZ2VzIHBlciBncmlkIHJvdyBpbiBHcmlkIHZpZXcuIFBvc3NpYmxlIHZhbHVlczogJ2J1dHRvbnMnICgrLy0pLCAnc2xpZGVyJy4gQW55IG90aGVyIHZhbHVlIGRpc2FibGVzIHRoZSBjb250cm9scy5cbiAgICAgICAgICAgIGVuYWJsZUltYWdlVGl0bGVzOiB0cnVlLCAgICAvLyBBZGRzIFwiUGFnZSB7bn1cIiB0aXRsZSB0byBwYWdlIGltYWdlcyBpZiB0cnVlXG4gICAgICAgICAgICBlbmFibGVJbmRleEFzTGFiZWw6IGZhbHNlLCAgLy8gVXNlIGluZGV4IG51bWJlcnMgaW5zdGVhZCBvZiBwYWdlIGxhYmVscyBpbiB0aGUgcGFnZSBuLW0gZGlzcGxheS5cbiAgICAgICAgICAgIGVuYWJsZUtleVNjcm9sbDogdHJ1ZSwgICAgICAvLyBDYXB0dXJlcyBzY3JvbGxpbmcgdXNpbmcgdGhlIGFycm93IGFuZCBwYWdlIHVwL2Rvd24ga2V5cyByZWdhcmRsZXNzIG9mIHBhZ2UgZm9jdXMuIFdoZW4gb2ZmLCBkZWZlcnMgdG8gZGVmYXVsdCBicm93c2VyIHNjcm9sbGluZyBiZWhhdmlvci5cbiAgICAgICAgICAgIGVuYWJsZUxpbmtJY29uOiB0cnVlLCAgICAgICAvLyBDb250cm9scyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgbGluayBpY29uXG4gICAgICAgICAgICBlbmFibGVOb25QYWdlZFZpc2liaWxpdHlJY29uOiB0cnVlLCAvLyBDb250cm9scyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgaWNvbiB0byB0b2dnbGUgdGhlIHZpc2liaWxpdHkgb2Ygbm9uLXBhZ2VkIHBhZ2VzLiAoQXV0b21hdGljYWxseSBoaWRkZW4gaWYgbm8gJ25vbi1wYWdlZCcgcGFnZXMpLlxuICAgICAgICAgICAgZW5hYmxlU3BhY2VTY3JvbGw6IGZhbHNlLCAgIC8vIFNjcm9sbGluZyBkb3duIGJ5IHByZXNzaW5nIHRoZSBzcGFjZSBrZXlcbiAgICAgICAgICAgIGVuYWJsZVRvb2xiYXI6IHRydWUsICAgICAgICAvLyBFbmFibGVzIHRoZSB0b29sYmFyLiBOb3RlIHRoYXQgZGlzYWJsaW5nIHRoaXMgbWVhbnMgeW91IGhhdmUgdG8gaGFuZGxlIGFsbCBjb250cm9scyB5b3Vyc2VsZi5cbiAgICAgICAgICAgIGVuYWJsZVpvb21Db250cm9sczogJ2J1dHRvbnMnLCAvLyBTcGVjaWZ5IGNvbnRyb2xzIGZvciB6b29taW5nIGluIGFuZCBvdXQuIFBvc3NpYmxlIHZhbHVlczogJ2J1dHRvbnMnICgrLy0pLCAnc2xpZGVyJy4gQW55IG90aGVyIHZhbHVlIGRpc2FibGVzIHRoZSBjb250cm9scy5cbiAgICAgICAgICAgIGZpbGxQYXJlbnRIZWlnaHQ6IHRydWUsICAgICAvLyBVc2UgYSBmbGV4Ym94IGxheW91dCB0byBhbGxvdyBEaXZhIHRvIGZpbGwgaXRzIHBhcmVudCdzIGhlaWdodFxuICAgICAgICAgICAgZml4ZWRQYWRkaW5nOiAxMCwgICAgICAgICAgIC8vIEZhbGxiYWNrIGlmIGFkYXB0aXZlIHBhZGRpbmcgaXMgc2V0IHRvIDBcbiAgICAgICAgICAgIGZpeGVkSGVpZ2h0R3JpZDogdHJ1ZSwgICAgICAvLyBTbyBlYWNoIHBhZ2UgaW4gZ3JpZCB2aWV3IGhhcyB0aGUgc2FtZSBoZWlnaHQgKG9ubHkgd2lkdGhzIGRpZmZlcilcbiAgICAgICAgICAgIGdvRGlyZWN0bHlUbzogMCwgICAgICAgICAgICAvLyBEZWZhdWx0IGluaXRpYWwgcGFnZSB0byBzaG93ICgwLWluZGV4ZWQpXG4gICAgICAgICAgICBoYXNoUGFyYW1TdWZmaXg6IG51bGwsICAgICAgLy8gVXNlZCB3aGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBkb2N1bWVudCB2aWV3ZXJzIG9uIGEgcGFnZVxuICAgICAgICAgICAgaW1hZ2VDcm9zc09yaWdpbjogJ2Fub255bW91cycsIC8vIFNldCBjcm9zc09yaWdpbiBwcm9wZXJ0eSBmb3IgaW1hZ2UgcmVxdWVzdHNcbiAgICAgICAgICAgIGluRnVsbHNjcmVlbjogZmFsc2UsICAgICAgICAvLyBTZXQgdG8gdHJ1ZSB0byBsb2FkIGZ1bGxzY3JlZW4gbW9kZSBpbml0aWFsbHlcbiAgICAgICAgICAgIGluQm9va0xheW91dDogZmFsc2UsICAgICAgIC8vIFNldCB0byB0cnVlIHRvIHZpZXcgdGhlIGRvY3VtZW50IHdpdGggZmFjaW5nIHBhZ2VzIGluIGRvY3VtZW50IG1vZGVcbiAgICAgICAgICAgIGluR3JpZDogZmFsc2UsICAgICAgICAgICAgICAvLyBTZXQgdG8gdHJ1ZSB0byBsb2FkIGdyaWQgdmlldyBpbml0aWFsbHlcbiAgICAgICAgICAgIG1heFBhZ2VzUGVyUm93OiA4LCAgICAgICAgICAvLyBNYXhpbXVtIG51bWJlciBvZiBwYWdlcyBwZXIgcm93IGluIGdyaWQgdmlld1xuICAgICAgICAgICAgbWF4Wm9vbUxldmVsOiAtMSwgICAgICAgICAgIC8vIE9wdGlvbmFsOyBkZWZhdWx0cyB0byB0aGUgbWF4IHpvb20gcmV0dXJuZWQgaW4gdGhlIEpTT04gcmVzcG9uc2VcbiAgICAgICAgICAgIG1pblBhZ2VzUGVyUm93OiAyLCAgICAgICAgICAvLyBNaW5pbXVtIHBhZ2VzIHBlciByb3cgaW4gZ3JpZCB2aWV3LiBSZWNvbW1lbmRlZCBkZWZhdWx0LlxuICAgICAgICAgICAgbWluWm9vbUxldmVsOiAwLCAgICAgICAgICAgIC8vIERlZmF1bHRzIHRvIDAgKHRoZSBtaW5pbXVtIHpvb20pXG4gICAgICAgICAgICBvbkdvdG9TdWJtaXQ6IG51bGwsICAgICAgICAgLy8gV2hlbiBzZXQgdG8gYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgc3RyaW5nIGFuZCByZXR1cm5zIGEgcGFnZSBpbmRleCwgdGhpcyB3aWxsIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiB0aGUgJ2dvIHRvIHBhZ2UnIGZvcm0gc3VibWlzc2lvblxuICAgICAgICAgICAgcGFnZUFsaWFzZXM6IHt9LCAgICAgICAgICAgIC8vIEFuIG9iamVjdCBtYXBwaW5nIHNwZWNpZmljIHBhZ2UgaW5kaWNlcyB0byBhbGlhc2VzIChoYXMgcHJpb3JpdHkgb3ZlciAncGFnZUFsaWFzRnVuY3Rpb24nXG4gICAgICAgICAgICBwYWdlQWxpYXNGdW5jdGlvbjogZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2U7fSwgIC8vIEEgZnVuY3Rpb24gbWFwcGluZyBwYWdlIGluZGljZXMgdG8gYW4gYWxpYXMuIElmIGZhbHNlIGlzIHJldHVybmVkLCBkZWZhdWx0IHBhZ2UgbnVtYmVyIGlzIGRpc3BsYXllZFxuICAgICAgICAgICAgcGFnZUxvYWRUaW1lb3V0OiAyMDAsICAgICAgIC8vIE51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgbG9hZGluZyBwYWdlc1xuICAgICAgICAgICAgcGFnZXNQZXJSb3c6IDUsICAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IG51bWJlciBvZiBwYWdlcyBwZXIgcm93IGluIGdyaWQgdmlld1xuICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnM6IHtcIkFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL2pzb25cIn0sIC8vIERlZmF1bHQgaGVhZGVyIHNlbnQgb2ZmIHRvIHRoZSBzZXJ2ZXIgaW4gY29udGVudCBuZWdvdGlhdGlvblxuICAgICAgICAgICAgc2hvd05vblBhZ2VkUGFnZXM6IGZhbHNlLCAgIC8vIFdoZXRoZXIgcGFnZXMgdGFnZ2VkIGFzICdub24tcGFnZWQnIChpbiBJSUlGIG1hbmlmZXN0cyBvbmx5KSBzaG91bGQgYmUgdmlzaWJsZSBhZnRlciBpbml0aWFsIGxvYWRcbiAgICAgICAgICAgIHRocm9iYmVyVGltZW91dDogMTAwLCAgICAgICAvLyBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHNob3dpbmcgdGhyb2JiZXJcbiAgICAgICAgICAgIHRpbGVIZWlnaHQ6IDI1NiwgICAgICAgICAgICAvLyBUaGUgaGVpZ2h0IG9mIGVhY2ggdGlsZSwgaW4gcGl4ZWxzOyB1c3VhbGx5IDI1NlxuICAgICAgICAgICAgdGlsZVdpZHRoOiAyNTYsICAgICAgICAgICAgIC8vIFRoZSB3aWR0aCBvZiBlYWNoIHRpbGUsIGluIHBpeGVsczsgdXN1YWxseSAyNTZcbiAgICAgICAgICAgIHRvb2xiYXJQYXJlbnRPYmplY3Q6IG51bGwsICAvLyBUaGUgdG9vbGJhciBwYXJlbnQgb2JqZWN0LlxuICAgICAgICAgICAgdmVydGljYWxseU9yaWVudGVkOiB0cnVlLCAgIC8vIERldGVybWluZXMgdmVydGljYWwgdnMuIGhvcml6b250YWwgb3JpZW50YXRpb25cbiAgICAgICAgICAgIHZpZXdwb3J0TWFyZ2luOiAyMDAsICAgICAgICAvLyBQcmV0ZW5kIHRpbGVzICsvLSAyMDBweCBhd2F5IGZyb20gdmlld3BvcnQgYXJlIGluXG4gICAgICAgICAgICB6b29tTGV2ZWw6IDIgICAgICAgICAgICAgICAgLy8gVGhlIGluaXRpYWwgem9vbSBsZXZlbCAodXNlZCB0byBzdG9yZSB0aGUgY3VycmVudCB6b29tIGxldmVsKVxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAvLyBJbiBvcmRlciB0byBmaWxsIHRoZSBoZWlnaHQsIHVzZSBhIHdyYXBwZXIgZGl2IGRpc3BsYXllZCB1c2luZyBhIGZsZXhib3ggbGF5b3V0XG4gICAgICAgIGNvbnN0IHdyYXBwZXJFbGVtZW50ID0gZWx0KCdkaXYnLCB7XG4gICAgICAgICAgICBjbGFzczogYGRpdmEtd3JhcHBlciR7dGhpcy5vcHRpb25zLmZpbGxQYXJlbnRIZWlnaHQgPyBcIiBkaXZhLXdyYXBwZXItZmxleGJveFwiIDogXCJcIn1gXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh3cmFwcGVyRWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zLnRvb2xiYXJQYXJlbnRPYmplY3QgPSB0aGlzLm9wdGlvbnMudG9vbGJhclBhcmVudE9iamVjdCB8fCB3cmFwcGVyRWxlbWVudDtcblxuICAgICAgICBjb25zdCB2aWV3ZXJDb3JlID0gbmV3IFZpZXdlckNvcmUod3JhcHBlckVsZW1lbnQsIHRoaXMub3B0aW9ucywgdGhpcyk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZSA9IHZpZXdlckNvcmUuZ2V0SW50ZXJuYWxTdGF0ZSgpO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpO1xuICAgICAgICB0aGlzLnRvb2xiYXIgPSB0aGlzLnNldHRpbmdzLmVuYWJsZVRvb2xiYXIgPyBuZXcgVG9vbGJhcih0aGlzKSA6IG51bGw7XG5cbiAgICAgICAgd3JhcHBlckVsZW1lbnQuaWQgPSB0aGlzLnNldHRpbmdzLklEICsgJ3dyYXBwZXInO1xuXG4gICAgICAgIHRoaXMuZGl2YVN0YXRlID0ge1xuICAgICAgICAgICAgdmlld2VyQ29yZTogdmlld2VyQ29yZSxcbiAgICAgICAgICAgIHRvb2xiYXI6IHRoaXMudG9vbGJhclxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIG9ubHkgcmVuZGVyIHRoZSB0b29sYmFyIGFmdGVyIHRoZSBvYmplY3QgaGFzIGJlZW4gbG9hZGVkXG4gICAgICAgIGxldCBoYW5kbGUgPSBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ09iamVjdERpZExvYWQnLCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy50b29sYmFyICE9PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudG9vbGJhci5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGl2YS5FdmVudHMudW5zdWJzY3JpYmUoaGFuZGxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5oYXNoU3RhdGUgPSB0aGlzLl9nZXRIYXNoUGFyYW1TdGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX2xvYWRPckZldGNoT2JqZWN0RGF0YSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9sb2FkT3JGZXRjaE9iamVjdERhdGEgKClcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZXR0aW5ncy5vYmplY3REYXRhID09PSAnb2JqZWN0JylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gRGVmZXIgZXhlY3V0aW9uIHVudGlsIGluaXRpYWxpemF0aW9uIGhhcyBjb21wbGV0ZWRcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkT2JqZWN0RGF0YSh0aGlzLnNldHRpbmdzLm9iamVjdERhdGEsIHRoaXMuaGFzaFN0YXRlKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGVuZGluZ01hbmlmZXN0UmVxdWVzdCA9IGZldGNoKHRoaXMuc2V0dGluZ3Mub2JqZWN0RGF0YSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuc2V0dGluZ3MucmVxdWVzdEhlYWRlcnNcbiAgICAgICAgICAgIH0pLnRoZW4oIChyZXNwb25zZSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJpZ2dlciBtYW5pZmVzdCBsb2FkIGVycm9yIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIGRpdmEuRXZlbnRzLnB1Ymxpc2goJ01hbmlmZXN0RmV0Y2hFcnJvcicsIFtyZXNwb25zZV0sIHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FqYXhFcnJvcihyZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICAgICAgfSkudGhlbiggKGRhdGEpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZE9iamVjdERhdGEoZGF0YSwgdGhpcy5oYXNoU3RhdGUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBwZW5kaW5nIHJlcXVlc3Qgc28gdGhhdCBpdCBjYW4gYmUgY2FuY2VsbGVkIGluIHRoZSBldmVudCB0aGF0IERpdmEgbmVlZHMgdG8gYmUgZGVzdHJveWVkXG4gICAgICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLnNldFBlbmRpbmdNYW5pZmVzdFJlcXVlc3QocGVuZGluZ01hbmlmZXN0UmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfc2hvd0Vycm9yIChtZXNzYWdlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5zaG93RXJyb3IobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuICAgIF9hamF4RXJyb3IgKHJlc3BvbnNlKVxuICAgIHtcbiAgICAgICAgLy8gU2hvdyBhIGJhc2ljIGVycm9yIG1lc3NhZ2Ugd2l0aGluIHRoZSBkb2N1bWVudCB2aWV3ZXIgcGFuZVxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBbJ0ludmFsaWQgb2JqZWN0RGF0YSBzZXR0aW5nLiBFcnJvciBjb2RlOiAnICsgcmVzcG9uc2Uuc3RhdHVzICsgJyAnICsgcmVzcG9uc2Uuc3RhdHVzVGV4dF07XG5cbiAgICAgICAgLy8gRGV0ZWN0IGFuZCBoYW5kbGUgQ09SUyBlcnJvcnNcbiAgICAgICAgY29uc3QgZGF0YUhhc0Fic29sdXRlUGF0aCA9IHRoaXMuc2V0dGluZ3Mub2JqZWN0RGF0YS5sYXN0SW5kZXhPZignaHR0cCcsIDApID09PSAwO1xuXG4gICAgICAgIGlmIChkYXRhSGFzQWJzb2x1dGVQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBqc29uSG9zdCA9IHRoaXMuc2V0dGluZ3Mub2JqZWN0RGF0YS5yZXBsYWNlKC9odHRwcz86XFwvXFwvL2ksIFwiXCIpLnNwbGl0KC9bLz8jXS8pWzBdO1xuXG4gICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICE9PSBqc29uSG9zdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UucHVzaChcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdwJywgJ0F0dGVtcHRlZCB0byBhY2Nlc3MgY3Jvc3Mtb3JpZ2luIGRhdGEgd2l0aG91dCBDT1JTLicpLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1lvdSBtYXkgbmVlZCB0byB1cGRhdGUgeW91ciBzZXJ2ZXIgY29uZmlndXJhdGlvbiB0byBzdXBwb3J0IENPUlMuIEZvciBoZWxwLCBzZWUgdGhlICcsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHQoJ2EnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogJ2h0dHBzOi8vZ2l0aHViLmNvbS9ERE1BTC9kaXZhLmpzL3dpa2kvSW5zdGFsbGF0aW9uI2Etbm90ZS1hYm91dC1jcm9zcy1zaXRlLXJlcXVlc3RzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICdfYmxhbmsnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnY3Jvc3Mtc2l0ZSByZXF1ZXN0IGRvY3VtZW50YXRpb24uJylcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zaG93RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfbG9hZE9iamVjdERhdGEgKHJlc3BvbnNlRGF0YSwgaGFzaFN0YXRlKVxuICAgIHtcbiAgICAgICAgbGV0IG1hbmlmZXN0O1xuXG4gICAgICAgIC8vIFRPRE8gaW1wcm92ZSBJSUlGIGRldGVjdGlvbiBtZXRob2RcbiAgICAgICAgaWYgKCFyZXNwb25zZURhdGEuaGFzT3duUHJvcGVydHkoJ0Bjb250ZXh0JykgJiYgKHJlc3BvbnNlRGF0YVsnQGNvbnRleHQnXS5pbmRleE9mKCdpaWlmJykgPT09IC0xIHx8IHJlc3BvbnNlRGF0YVsnQGNvbnRleHQnXS5pbmRleE9mKCdzaGFyZWQtY2FudmFzJykgPT09IC0xKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEFuSUlJRk1hbmlmZXN0RXhjZXB0aW9uKCdUaGlzIGRvZXMgbm90IGFwcGVhciB0byBiZSBhIElJSUYgTWFuaWZlc3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0cmlnZ2VyIE1hbmlmZXN0RGlkTG9hZCBldmVudFxuICAgICAgICBkaXZhLkV2ZW50cy5wdWJsaXNoKCdNYW5pZmVzdERpZExvYWQnLCBbcmVzcG9uc2VEYXRhXSwgdGhpcyk7XG4gICAgICAgIG1hbmlmZXN0ID0gSW1hZ2VNYW5pZmVzdC5mcm9tSUlJRihyZXNwb25zZURhdGEpO1xuICAgICAgICBjb25zdCBsb2FkT3B0aW9ucyA9IGhhc2hTdGF0ZSA/IHRoaXMuX2dldExvYWRPcHRpb25zRm9yU3RhdGUoaGFzaFN0YXRlLCBtYW5pZmVzdCkgOiB7fTtcblxuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLnNldE1hbmlmZXN0KG1hbmlmZXN0LCBsb2FkT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgdGhlIGhhc2ggcGFyYW1ldGVycyBpbnRvIHRoZSBmb3JtYXQgdXNlZCBieSBnZXRTdGF0ZSBhbmQgc2V0U3RhdGVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9nZXRIYXNoUGFyYW1TdGF0ZSAoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7fTtcblxuICAgICAgICBbJ2YnLCAndicsICd6JywgJ24nLCAnaScsICdwJywgJ3knLCAneCddLmZvckVhY2goIChwYXJhbSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBIYXNoUGFyYW1zLmdldChwYXJhbSArIHRoaXMuc2V0dGluZ3MuaGFzaFBhcmFtU3VmZml4KTtcblxuICAgICAgICAgICAgLy8gYGZhbHNlYCBpcyByZXR1cm5lZCBpZiB0aGUgdmFsdWUgaXMgbWlzc2luZ1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICBzdGF0ZVtwYXJhbV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRG8gc29tZSBhd2t3YXJkIHNwZWNpYWwtY2FzaW5nLCBzaW5jZSB0aGlzIGZvcm1hdCBpcyBraW5kIG9mIHdlaXJkLlxuXG4gICAgICAgIC8vIEZvciBpbkZ1bGxzY3JlZW4gKGYpLCB0cnVlIGFuZCBmYWxzZSBzdHJpbmdzIHNob3VsZCBiZSBpbnRlcnByZXRlZFxuICAgICAgICAvLyBhcyBib29sZWFucy5cbiAgICAgICAgaWYgKHN0YXRlLmYgPT09ICd0cnVlJylcbiAgICAgICAgICAgIHN0YXRlLmYgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChzdGF0ZS5mID09PSAnZmFsc2UnKVxuICAgICAgICAgICAgc3RhdGUuZiA9IGZhbHNlO1xuXG4gICAgICAgIC8vIENvbnZlcnQgbnVtZXJpY2FsIHZhbHVlcyB0byBpbnRlZ2VycywgaWYgcHJvdmlkZWRcbiAgICAgICAgWyd6JywgJ24nLCAncCcsICd4JywgJ3knXS5mb3JFYWNoKCAocGFyYW0pID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwYXJhbSBpbiBzdGF0ZSlcbiAgICAgICAgICAgICAgICBzdGF0ZVtwYXJhbV0gPSBwYXJzZUludChzdGF0ZVtwYXJhbV0sIDEwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9nZXRMb2FkT3B0aW9uc0ZvclN0YXRlIChzdGF0ZSwgbWFuaWZlc3QpXG4gICAge1xuICAgICAgICBtYW5pZmVzdCA9IG1hbmlmZXN0IHx8IHRoaXMuc2V0dGluZ3MubWFuaWZlc3Q7XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9ICgndicgaW4gc3RhdGUpID8gdGhpcy5fZ2V0Vmlld1N0YXRlKHN0YXRlLnYpIDoge307XG5cbiAgICAgICAgaWYgKCdmJyBpbiBzdGF0ZSlcbiAgICAgICAgICAgIG9wdGlvbnMuaW5GdWxsc2NyZWVuID0gc3RhdGUuZjtcblxuICAgICAgICBpZiAoJ3onIGluIHN0YXRlKVxuICAgICAgICAgICAgb3B0aW9ucy56b29tTGV2ZWwgPSBzdGF0ZS56O1xuXG4gICAgICAgIGlmICgnbicgaW4gc3RhdGUpXG4gICAgICAgICAgICBvcHRpb25zLnBhZ2VzUGVyUm93ID0gc3RhdGUubjtcblxuICAgICAgICAvLyBPbmx5IGNoYW5nZSBzcGVjaWZ5IHRoZSBwYWdlIGlmIHN0YXRlLmkgb3Igc3RhdGUucCBpcyB2YWxpZFxuICAgICAgICBsZXQgcGFnZUluZGV4ID0gdGhpcy5fZ2V0UGFnZUluZGV4Rm9yTWFuaWZlc3QobWFuaWZlc3QsIHN0YXRlLmkpO1xuXG4gICAgICAgIGlmICghKHBhZ2VJbmRleCA+PSAwICYmIHBhZ2VJbmRleCA8IG1hbmlmZXN0LnBhZ2VzLmxlbmd0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VJbmRleCA9IHN0YXRlLnAgLSAxO1xuXG4gICAgICAgICAgICAvLyBQb3NzaWJseSBOYU5cbiAgICAgICAgICAgIGlmICghKHBhZ2VJbmRleCA+PSAwICYmIHBhZ2VJbmRleCA8IG1hbmlmZXN0LnBhZ2VzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgcGFnZUluZGV4ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYWdlSW5kZXggIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGhvcml6b250YWxPZmZzZXQgPSBwYXJzZUludChzdGF0ZS54LCAxMCk7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbE9mZnNldCA9IHBhcnNlSW50KHN0YXRlLnksIDEwKTtcblxuICAgICAgICAgICAgb3B0aW9ucy5nb0RpcmVjdGx5VG8gPSBwYWdlSW5kZXg7XG4gICAgICAgICAgICBvcHRpb25zLmhvcml6b250YWxPZmZzZXQgPSBob3Jpem9udGFsT2Zmc2V0O1xuICAgICAgICAgICAgb3B0aW9ucy52ZXJ0aWNhbE9mZnNldCA9IHZlcnRpY2FsT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuICAgIF9nZXRWaWV3U3RhdGUgKHZpZXcpXG4gICAge1xuICAgICAgICBzd2l0Y2ggKHZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgJ2QnOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGluQm9va0xheW91dDogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjYXNlICdiJzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpbkdyaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbkJvb2tMYXlvdXQ6IHRydWVcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjYXNlICdnJzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpbkdyaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGluQm9va0xheW91dDogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cbiAgICBfZ2V0UGFnZUluZGV4Rm9yTWFuaWZlc3QgKG1hbmlmZXN0LCBmaWxlbmFtZSlcbiAgICB7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBjb25zdCBucCA9IG1hbmlmZXN0LnBhZ2VzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnA7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG1hbmlmZXN0LnBhZ2VzW2ldLmYgPT09IGZpbGVuYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cbiAgICBfZ2V0U3RhdGUgKClcbiAgICB7XG4gICAgICAgIGxldCB2aWV3O1xuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmlldyA9ICdnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnNldHRpbmdzLmluQm9va0xheW91dClcbiAgICAgICAge1xuICAgICAgICAgICAgdmlldyA9ICdiJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXcgPSAnZCc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmdldEN1cnJlbnRMYXlvdXQoKTtcbiAgICAgICAgY29uc3QgcGFnZU9mZnNldCA9IGxheW91dC5nZXRQYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdmJzogdGhpcy5zZXR0aW5ncy5pbkZ1bGxzY3JlZW4sXG4gICAgICAgICAgICAndic6IHZpZXcsXG4gICAgICAgICAgICAneic6IHRoaXMuc2V0dGluZ3Muem9vbUxldmVsLFxuICAgICAgICAgICAgJ24nOiB0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93LFxuICAgICAgICAgICAgJ2knOiB0aGlzLnNldHRpbmdzLmVuYWJsZUZpbGVuYW1lID8gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1t0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleF0uZiA6IGZhbHNlLFxuICAgICAgICAgICAgJ3AnOiB0aGlzLnNldHRpbmdzLmVuYWJsZUZpbGVuYW1lID8gZmFsc2UgOiB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCArIDEsXG4gICAgICAgICAgICAneSc6IHBhZ2VPZmZzZXQgPyBwYWdlT2Zmc2V0LnkgOiBmYWxzZSxcbiAgICAgICAgICAgICd4JzogcGFnZU9mZnNldCA/IHBhZ2VPZmZzZXQueCA6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2dldFVSTEhhc2ggKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGhhc2hQYXJhbXMgPSB0aGlzLl9nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBoYXNoU3RyaW5nQnVpbGRlciA9IFtdO1xuICAgICAgICBsZXQgcGFyYW07XG5cbiAgICAgICAgZm9yIChwYXJhbSBpbiBoYXNoUGFyYW1zKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaGFzaFBhcmFtc1twYXJhbV0gIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIGhhc2hTdHJpbmdCdWlsZGVyLnB1c2gocGFyYW0gKyB0aGlzLnNldHRpbmdzLmhhc2hQYXJhbVN1ZmZpeCArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChoYXNoUGFyYW1zW3BhcmFtXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhhc2hTdHJpbmdCdWlsZGVyLmpvaW4oJyYnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwYWdlIGluZGV4IGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gZmlsZW5hbWU7IG11c3QgY2FsbGVkIGFmdGVyIHNldHRpbmcgc2V0dGluZ3MubWFuaWZlc3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9nZXRQYWdlSW5kZXggKGZpbGVuYW1lKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFBhZ2VJbmRleEZvck1hbmlmZXN0KHRoaXMuc2V0dGluZ3MubWFuaWZlc3QsIGZpbGVuYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX2NoZWNrTG9hZGVkICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUubG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUaGUgdmlld2VyIGlzIG5vdCBjb21wbGV0ZWx5IGluaXRpYWxpemVkLiBUaGlzIGlzIGxpa2VseSBiZWNhdXNlIGl0IGlzIHN0aWxsIGRvd25sb2FkaW5nIGRhdGEuIFRvIGZpeCB0aGlzLCBvbmx5IGNhbGwgdGhpcyBmdW5jdGlvbiBpZiB0aGUgaXNSZWFkeSgpIG1ldGhvZCByZXR1cm5zIHRydWUuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBmdWxsc2NyZWVuIGljb24gaXMgY2xpY2tlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX3RvZ2dsZUZ1bGxzY3JlZW4gKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICBpbkZ1bGxzY3JlZW46ICF0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBoYW5kbGUgdG9vbGJhciBvcGFjaXR5IGluIGZ1bGxzY3JlZW5cbiAgICAgICAgbGV0IHQ7XG4gICAgICAgIGxldCBob3ZlciA9IGZhbHNlO1xuICAgICAgICBsZXQgdG9vbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yICsgJ3Rvb2xzJyk7XG4gICAgICAgIGNvbnN0IFRJTUVPVVQgPSAyMDAwO1xuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbilcbiAgICAgICAge1xuICAgICAgICAgICAgdG9vbHMuY2xhc3NMaXN0LmFkZChcImRpdmEtZnVsbHNjcmVlbi10b29sc1wiKTtcblxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdG9nZ2xlT3BhY2l0eS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RpdmEtdmlld3BvcnQnKVswXS5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0b2dnbGVPcGFjaXR5LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdG9vbHMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBob3ZlciA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRvb2xzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaG92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdG9vbHMuY2xhc3NMaXN0LnJlbW92ZShcImRpdmEtZnVsbHNjcmVlbi10b29sc1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHRvZ2dsZU9wYWNpdHkgKClcbiAgICAgICAge1xuICAgICAgICAgICAgdG9vbHMuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgICAgICBpZiAoIWhvdmVyICYmIHRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgdCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2xzLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgICAgIH0sIFRJTUVPVVQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBiZXR3ZWVuIG9yaWVudGF0aW9uc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuICAgIF90b2dnbGVQYWdlTGF5b3V0T3JpZW50YXRpb24gKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsbHlPcmllbnRlZCA9ICF0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZDtcblxuICAgICAgICAvL2lmIGluIGdyaWQsIHN3aXRjaCBvdXQgb2YgZ3JpZFxuICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgIHZlcnRpY2FsbHlPcmllbnRlZDogdmVydGljYWxseU9yaWVudGVkLFxuICAgICAgICAgICAgZ29EaXJlY3RseVRvOiB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCxcbiAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmdldFlPZmZzZXQoKSxcbiAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQ6IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0WE9mZnNldCgpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB2ZXJ0aWNhbGx5T3JpZW50ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGNoYW5nZSB2aWV3IGljb24gaXMgY2xpY2tlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2NoYW5nZVZpZXcgKGRlc3RpbmF0aW9uVmlldylcbiAgICB7XG4gICAgICAgIHN3aXRjaCAoZGVzdGluYXRpb25WaWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlICdkb2N1bWVudCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGluQm9va0xheW91dDogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FzZSAnYm9vayc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGluQm9va0xheW91dDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYXNlICdncmlkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwYWdlSW5kZXggLSAwLWJhc2VkIHBhZ2UgaW5kZXguXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhBbmNob3IgLSB4IGNvb3JkaW5hdGUgdG8ganVtcCB0byBvbiByZXN1bHRpbmcgcGFnZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geUFuY2hvciAtIHkgY29vcmRpbmF0ZSB0byBqdW1wIHRvIG9uIHJlc3VsdGluZyBwYWdlLlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSAtIFdoZXRoZXIgdGhlIGp1bXAgd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIF9nb3RvUGFnZUJ5SW5kZXggKHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcilcbiAgICB7XG4gICAgICAgIGxldCBwaWR4ID0gcGFyc2VJbnQocGFnZUluZGV4LCAxMCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzUGFnZUluZGV4VmFsaWQocGlkeCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHhPZmZzZXQgPSB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmdldFhPZmZzZXQocGlkeCwgeEFuY2hvcik7XG4gICAgICAgICAgICBjb25zdCB5T2Zmc2V0ID0gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRZT2Zmc2V0KHBpZHgsIHlBbmNob3IpO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmdvdG8ocGlkeCwgeU9mZnNldCwgeE9mZnNldCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHBhZ2UgaW5kZXggaXMgdmFsaWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBhZ2VJbmRleCAtIE51bWVyaWMgKDAtYmFzZWQpIHBhZ2UgaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB3aGV0aGVyIHRoZSBwYWdlIGluZGV4IGlzIHZhbGlkIG9yIG5vdC5cbiAgICAgKi9cbiAgICBfaXNQYWdlSW5kZXhWYWxpZCAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuaXNQYWdlVmFsaWQocGFnZUluZGV4LCB0aGlzLnNldHRpbmdzLnNob3dOb25QYWdlZFBhZ2VzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHBhZ2VYIGFuZCBwYWdlWSB2YWx1ZSwgcmV0dXJucyBlaXRoZXIgdGhlIHBhZ2UgdmlzaWJsZSBhdCB0aGF0ICh4LHkpXG4gICAgICogcG9zaXRpb24gb3IgLTEgaWYgbm8gcGFnZSBpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldFBhZ2VJbmRleEZvclBhZ2VYWVZhbHVlcyAocGFnZVgsIHBhZ2VZKVxuICAgIHtcbiAgICAgICAgLy9nZXQgdGhlIGZvdXIgZWRnZXMgb2YgdGhlIG91dGVyIGVsZW1lbnRcbiAgICAgICAgY29uc3Qgb3V0ZXJPZmZzZXQgPSB0aGlzLnZpZXdlclN0YXRlLm91dGVyRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3Qgb3V0ZXJUb3AgPSBvdXRlck9mZnNldC50b3A7XG4gICAgICAgIGNvbnN0IG91dGVyTGVmdCA9IG91dGVyT2Zmc2V0LmxlZnQ7XG4gICAgICAgIGNvbnN0IG91dGVyQm90dG9tID0gb3V0ZXJPZmZzZXQuYm90dG9tO1xuICAgICAgICBjb25zdCBvdXRlclJpZ2h0ID0gb3V0ZXJPZmZzZXQucmlnaHQ7XG5cbiAgICAgICAgLy9pZiB0aGUgY2xpY2tlZCBwb3NpdGlvbiB3YXMgb3V0c2lkZSB0aGUgZGl2YS1vdXRlciBvYmplY3QsIGl0IHdhcyBub3Qgb24gYSB2aXNpYmxlIHBvcnRpb24gb2YgYSBwYWdlXG4gICAgICAgIGlmIChwYWdlWCA8IG91dGVyTGVmdCB8fCBwYWdlWCA+IG91dGVyUmlnaHQpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG5cbiAgICAgICAgaWYgKHBhZ2VZIDwgb3V0ZXJUb3AgfHwgcGFnZVkgPiBvdXRlckJvdHRvbSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcblxuICAgICAgICAvL25hdmlnYXRlIHRocm91Z2ggYWxsIGRpdmEgcGFnZSBvYmplY3RzXG4gICAgICAgIGNvbnN0IHBhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2YS1wYWdlJyk7XG4gICAgICAgIGxldCBjdXJQYWdlSWR4ID0gcGFnZXMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoY3VyUGFnZUlkeC0tKVxuICAgICAgICB7XG4gICAgICAgICAgICAvL2dldCB0aGUgb2Zmc2V0IGZvciBlYWNoIHBhZ2VcbiAgICAgICAgICAgIGNvbnN0IGN1clBhZ2UgPSBwYWdlc1tjdXJQYWdlSWR4XTtcbiAgICAgICAgICAgIGNvbnN0IGN1ck9mZnNldCA9IGN1clBhZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgIC8vaWYgdGhpcyBwb2ludCBpcyBvdXRzaWRlIHRoZSBob3Jpem9udGFsIGJvdW5kYXJpZXMgb2YgdGhlIHBhZ2UsIGNvbnRpbnVlXG4gICAgICAgICAgICBpZiAocGFnZVggPCBjdXJPZmZzZXQubGVmdCB8fCBwYWdlWCA+IGN1ck9mZnNldC5yaWdodClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy9zYW1lIHdpdGggdmVydGljYWwgYm91bmRhcmllc1xuICAgICAgICAgICAgaWYgKHBhZ2VZIDwgY3VyT2Zmc2V0LnRvcCB8fCBwYWdlWSA+IGN1ck9mZnNldC5ib3R0b20pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vaWYgd2UgbWFkZSBpdCB0aHJvdWdoIHRoZSBhYm92ZSB0d28sIHdlIGZvdW5kIHRoZSBwYWdlIHdlJ3JlIGxvb2tpbmcgZm9yXG4gICAgICAgICAgICByZXR1cm4gY3VyUGFnZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vaWYgd2UgbWFkZSBpdCB0aHJvdWdoIHRoYXQgZW50aXJlIHdoaWxlIGxvb3AsIHdlIGRpZG4ndCBjbGljayBvbiBhIHBhZ2VcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9yZWxvYWRWaWV3ZXIgKG5ld09wdGlvbnMpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5yZWxvYWQobmV3T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0Q3VycmVudFVSTCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3QgKyBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCArICcjJyArIHRoaXMuX2dldFVSTEhhc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqICAgICAgICAgICAgICAgIFBVQkxJQyBGVU5DVElPTlNcbiAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqKi9cblxuICAgIC8qKlxuICAgICAqICBBY3RpdmF0ZSB0aGlzIGluc3RhbmNlIG9mIGRpdmEgdmlhIHRoZSBhY3RpdmUgRGl2YSBjb250cm9sbGVyLlxuICAgICAqXG4gICAgICogIEBwdWJsaWNcbiAgICAgKi9cbiAgICBhY3RpdmF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pc0FjdGl2ZURpdmEgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgb2JqZWN0IChvYmplY3REYXRhKSBwYXJhbWV0ZXIgY3VycmVudGx5IGJlaW5nIHJlbmRlcmVkIGJ5IERpdmEuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7b2JqZWN0fSBvYmplY3REYXRhIC0gQW4gSUlJRiBNYW5pZmVzdCBvYmplY3QgT1IgYSBVUkwgdG8gYSBJSUlGIG1hbmlmZXN0LlxuICAgICAqL1xuICAgIGNoYW5nZU9iamVjdCAob2JqZWN0RGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUubG9hZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuY2xlYXIoKTtcblxuICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlcilcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5vYmplY3REYXRhID0gb2JqZWN0RGF0YTtcblxuICAgICAgICB0aGlzLl9sb2FkT3JGZXRjaE9iamVjdERhdGEoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2Ugdmlld3MuIFRha2VzICdkb2N1bWVudCcsICdib29rJywgb3IgJ2dyaWQnIHRvIHNwZWNpZnkgd2hpY2ggdmlldyB0byBzd2l0Y2ggaW50b1xuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge3N0cmluZ30gZGVzdGluYXRpb25WaWV3IC0gdGhlIGRlc3RpbmF0aW9uIHZpZXcgdG8gY2hhbmdlIHRvLlxuICAgICAqL1xuICAgIGNoYW5nZVZpZXcgKGRlc3RpbmF0aW9uVmlldylcbiAgICB7XG4gICAgICAgIHRoaXMuX2NoYW5nZVZpZXcoZGVzdGluYXRpb25WaWV3KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgRGVhY3RpdmF0ZSB0aGlzIGRpdmEgaW5zdGFuY2UgdGhyb3VnaCB0aGUgYWN0aXZlIERpdmEgY29udHJvbGxlci5cbiAgICAgKlxuICAgICAqICBAcHVibGljXG4gICAgICoqL1xuICAgIGRlYWN0aXZhdGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuaXNBY3RpdmVEaXZhID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBpbnN0YW5jZSwgdGVsbHMgcGx1Z2lucyB0byBkbyB0aGUgc2FtZVxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqKi9cbiAgICBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyBkb2N1bWVudCBkcmFnZ2luZywgc2Nyb2xsaW5nIChieSBrZXlib2FyZCBpZiBzZXQpLCBhbmQgem9vbWluZyBieSBkb3VibGUtY2xpY2tpbmdcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiovXG4gICAgZGlzYWJsZVNjcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZGlzYWJsZVNjcm9sbGFibGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZS1lbmFibGVzIGRvY3VtZW50IGRyYWdnaW5nLCBzY3JvbGxpbmcgKGJ5IGtleWJvYXJkIGlmIHNldCksIGFuZCB6b29taW5nIGJ5IGRvdWJsZS1jbGlja2luZ1xuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqKi9cbiAgICBlbmFibGVTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmVuYWJsZVNjcm9sbGFibGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyBkb2N1bWVudCBkcmFnIHNjcm9sbGluZ1xuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGRpc2FibGVEcmFnU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5kaXNhYmxlRHJhZ1Njcm9sbGFibGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIGRvY3VtZW50IGRyYWcgc2Nyb2xsaW5nXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZW5hYmxlRHJhZ1Njcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZW5hYmxlRHJhZ1Njcm9sbGFibGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnRlciBmdWxsc2NyZWVuIG1vZGUgaWYgY3VycmVudGx5IG5vdCBpbiBmdWxsc2NyZWVuIG1vZGUuIElmIGN1cnJlbnRseSBpbiBmdWxsc2NyZWVuXG4gICAgICogbW9kZSB0aGlzIHdpbGwgaGF2ZSBubyBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgd29yayBldmVuIGlmIGVuYWJsZUZ1bGxzY3JlZW4gaXMgc2V0IHRvIGZhbHNlIGluIHRoZSBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHN3aXRjaCB0byBmdWxsc2NyZWVuIHdhcyBzdWNjZXNzZnVsIG9yIG5vdC5cbiAgICAgKiovXG4gICAgZW50ZXJGdWxsc2NyZWVuTW9kZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW50ZXIgZ3JpZCB2aWV3IGlmIGN1cnJlbnRseSBub3QgaW4gZ3JpZCB2aWV3LiBJZiBjdXJyZW50bHkgaW4gZ3JpZCB2aWV3IG1vZGVcbiAgICAgKiB0aGlzIHdpbGwgaGF2ZSBubyBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gV2hldGhlciB0aGUgc3dpdGNoIHRvIGdyaWQgdmlldyB3YXMgc3VjY2Vzc2Z1bCBvciBub3QuXG4gICAgICoqL1xuICAgIGVudGVyR3JpZFZpZXcgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZVZpZXcoJ2dyaWQnKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHBhZ2UgaW1hZ2UgVVJJcyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge0FycmF5fSAtIEFuIGFycmF5IG9mIGFsbCB0aGUgVVJJcyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICogKi9cbiAgICBnZXRBbGxQYWdlVVJJcyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXMubWFwKCAocGcpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwZy5mO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNhbnZhcyBpZGVudGlmaWVyIGZvciB0aGUgY3VycmVudGx5IHZpc2libGUgcGFnZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBVUkkgb2YgdGhlIGN1cnJlbnRseSB2aXNpYmxlIGNhbnZhcy5cbiAgICAgKiovXG4gICAgZ2V0Q3VycmVudENhbnZhcyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXhdLmNhbnZhcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBjdXJyZW50IHBhZ2UgYXQgdGhlIGN1cnJlbnQgem9vbSBsZXZlbC4gQWxzbyB3b3JrcyBpblxuICAgICAqIGdyaWQgdmlldy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBjdXJyZW50IHBhZ2UgZGltZW5zaW9ucyBhdCB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqKi9cbiAgICBnZXRDdXJyZW50UGFnZURpbWVuc2lvbnNBdEN1cnJlbnRab29tTGV2ZWwgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBhZ2VEaW1lbnNpb25zQXRDdXJyZW50Wm9vbUxldmVsKHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGZpbGVuYW1lIChkZXByZWNhdGVkKS4gUmV0dXJucyB0aGUgVVJJIGZvciBjdXJyZW50IHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBVUkkgZm9yIHRoZSBjdXJyZW50IHBhZ2UgaW1hZ2UuXG4gICAgICoqL1xuICAgIGdldEN1cnJlbnRQYWdlRmlsZW5hbWUgKClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhpcyBtZXRob2Qgd2lsbCBiZSBkZXByZWNhdGVkIGluIHRoZSBuZXh0IHZlcnNpb24gb2YgRGl2YS4gUGxlYXNlIHVzZSBnZXRDdXJyZW50UGFnZVVSSSBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1t0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleF0uZjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHBhZ2UgaW5kaWNlcyB0aGF0IGFyZSB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7YXJyYXl9IC0gVGhlIDAtYmFzZWQgaW5kaWNlcyBhcnJheSBmb3IgdGhlIGN1cnJlbnRseSB2aXNpYmxlIHBhZ2VzLlxuICAgICAqKi9cbiAgICBnZXRDdXJyZW50UGFnZUluZGljZXMgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmN1cnJlbnRQYWdlSW5kaWNlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSAwLWJhc2VkIGluZGV4IGZvciB0aGUgY3VycmVudCBwYWdlLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIDAtYmFzZWQgaW5kZXggZm9yIHRoZSBjdXJyZW50bHkgdmlzaWJsZSBwYWdlLlxuICAgICAqKi9cbiAgICAgZ2V0QWN0aXZlUGFnZUluZGV4ICgpXG4gICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4O1xuICAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG9ydGN1dCB0byBnZXRQYWdlT2Zmc2V0IGZvciBjdXJyZW50IHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge30gLVxuICAgICAqICovXG4gICAgZ2V0Q3VycmVudFBhZ2VPZmZzZXQgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBhZ2VPZmZzZXQodGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgVVJJIGZvciB0aGUgdmlzaWJsZSBwYWdlLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIFVSSSBmb3IgdGhlIGN1cnJlbnQgcGFnZSBpbWFnZS5cbiAgICAgKiovXG4gICAgZ2V0Q3VycmVudFBhZ2VVUkkgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3RoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4XS5mO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY3VycmVudCBVUkwgZm9yIHRoZSB2aWV3ZXIsIGluY2x1ZGluZyB0aGUgaGFzaCBwYXJhbWV0ZXJzIHJlZmxlY3RpbmdcbiAgICAgKiB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgdmlld2VyLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIFVSTCBmb3IgdGhlIGN1cnJlbnQgdmlldyBzdGF0ZS5cbiAgICAgKiAqL1xuICAgIGdldEN1cnJlbnRVUkwgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDdXJyZW50VVJMKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgZmlsZW5hbWVzIGluIHRoZSBkb2N1bWVudC4gRGVwcmVjYXRlZC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gLSBBbiBhcnJheSBvZiBhbGwgdGhlIFVSSXMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqICovXG4gICAgZ2V0RmlsZW5hbWVzICgpXG4gICAge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RoaXMgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IHZlcnNpb24gb2YgRGl2YS4gVXNlIGdldEFsbFBhZ2VVUklzIGluc3RlYWQuJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXMubWFwKCAocGcpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwZy5mO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBncmlkIHBhZ2VzIHBlciByb3cuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgbnVtYmVyIG9mIGdyaWQgcGFnZXMgcGVyIHJvdy5cbiAgICAgKiovXG4gICAgZ2V0R3JpZFBhZ2VzUGVyUm93ICgpXG4gICAge1xuICAgICAgICAvLyBUT0RPKHdhYmFpbik6IEFkZCB0ZXN0IGNhc2VcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MucGFnZXNQZXJSb3c7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbnN0YW5jZSBJRCBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgaW5zdGFuY2UgSUQuXG4gICAgICogKi9cbiAgICAvL1xuICAgIGdldEluc3RhbmNlSWQgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLklEO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW5zdGFuY2Ugc2VsZWN0b3IgZm9yIHRoaXMgaW5zdGFuY2UuIFRoaXMgaXMgdGhlIHNlbGVjdG9yIGZvciB0aGUgcGFyZW50XG4gICAgICogZGl2LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIHZpZXdwb3J0IHNlbGVjdG9yLlxuICAgICAqICovXG4gICAgZ2V0SW5zdGFuY2VTZWxlY3RvciAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuc2VsZWN0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdGl0bGUgb2YgdGhlIGRvY3VtZW50LCBiYXNlZCBvbiB0aGUgbGFiZWwgaW4gdGhlIElJSUYgbWFuaWZlc3QuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgY3VycmVudCB0aXRsZSBvZiB0aGUgb2JqZWN0IGZyb20gdGhlIGxhYmVsIGtleSBpbiB0aGUgSUlJRiBNYW5pZmVzdC5cbiAgICAgKiovXG4gICAgZ2V0SXRlbVRpdGxlICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5pdGVtVGl0bGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWF4aW11bSB6b29tIGxldmVsIGZvciB0aGUgZW50aXJlIGRvY3VtZW50LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhlIGRvY3VtZW50XG4gICAgICogKi9cbiAgICBnZXRNYXhab29tTGV2ZWwgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1heFpvb21MZXZlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXggem9vbSBsZXZlbCBmb3IgYSBnaXZlbiBwYWdlLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWdlSWR4IC0gVGhlIDAtYmFzZWQgaW5kZXggbnVtYmVyIGZvciB0aGUgcGFnZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoYXQgcGFnZS5cbiAgICAgKiAqL1xuICAgIGdldE1heFpvb21MZXZlbEZvclBhZ2UgKHBhZ2VJZHgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2NoZWNrTG9hZGVkKCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbcGFnZUlkeF0ubTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBlbnRpcmUgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgZG9jdW1lbnRcbiAgICAgKiAqL1xuICAgIGdldE1pblpvb21MZXZlbCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWluWm9vbUxldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG51bWJlciBvZiBwYWdlcyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgbnVtYmVyIG9mIHBhZ2VzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKiAqL1xuICAgIGdldE51bWJlck9mUGFnZXMgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fY2hlY2tMb2FkZWQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5udW1QYWdlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiBhIGNhbnZhcyBoYXMgbXVsdGlwbGUgaW1hZ2VzIGRlZmluZWQsIHJldHVybnMgdGhlIG5vbi1wcmltYXJ5IGltYWdlLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gVGhlIHBhZ2UgaW5kZXggZm9yIHdoaWNoIHRvIHJldHVybiB0aGUgb3RoZXIgaW1hZ2VzLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBvdGhlciBpbWFnZXMuXG4gICAgICoqL1xuICAgIGdldE90aGVySW1hZ2VzIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdLm90aGVySW1hZ2VzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwYWdlIGRpbWVuc2lvbnMgaW4gdGhlIGN1cnJlbnQgdmlldyBhbmQgem9vbSBsZXZlbFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gQSB2YWxpZCAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBwYWdlXG4gICAgICogKi9cbiAgICBnZXRQYWdlRGltZW5zaW9ucyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGVja0xvYWRlZCgpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpLmdldFBhZ2VEaW1lbnNpb25zKHBhZ2VJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGltZW5zaW9ucyBvZiBhIGdpdmVuIHBhZ2UgYXQgdGhlIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKiBBbHNvIHdvcmtzIGluIEdyaWQgdmlld1xuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgcGFnZSBkaW1lbnNpb25zIGF0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICogKi9cbiAgICBnZXRQYWdlRGltZW5zaW9uc0F0Q3VycmVudFpvb21MZXZlbCAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgbGV0IHBpZHggPSBwYXJzZUludChwYWdlSW5kZXgsIDEwKTtcblxuICAgICAgICBpZiAoIXRoaXMuX2lzUGFnZUluZGV4VmFsaWQocGlkeCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgUGFnZSBJbmRleCcpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmdldEN1cnJlbnRMYXlvdXQoKS5nZXRQYWdlRGltZW5zaW9ucyhwaWR4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcGFnZSBkaW1lbnNpb25zIGF0IGEgZ2l2ZW4gem9vbSBsZXZlbFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUlkeCAtIEEgdmFsaWQgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSB6b29tTGV2ZWwgLSBBIGNhbmRpZGF0ZSB6b29tIGxldmVsLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHBhZ2UgYXQgdGhlIGdpdmVuIHpvb20gbGV2ZWwuXG4gICAgICoqL1xuICAgIGdldFBhZ2VEaW1lbnNpb25zQXRab29tTGV2ZWwgKHBhZ2VJZHgsIHpvb21MZXZlbClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fY2hlY2tMb2FkZWQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoem9vbUxldmVsID4gdGhpcy5zZXR0aW5ncy5tYXhab29tTGV2ZWwpXG4gICAgICAgICAgICB6b29tTGV2ZWwgPSB0aGlzLnNldHRpbmdzLm1heFpvb21MZXZlbDtcblxuICAgICAgICBjb25zdCBwZyA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbcGFyc2VJbnQocGFnZUlkeCwgMTApXTtcbiAgICAgICAgY29uc3QgcGdBdFpvb20gPSBwZy5kW3BhcnNlSW50KHpvb21MZXZlbCwgMTApXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IHBnQXRab29tLncsXG4gICAgICAgICAgICBoZWlnaHQ6IHBnQXRab29tLmhcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgVVJMIGZvciB0aGUgaW1hZ2Ugb2YgdGhlIHBhZ2UgYXQgdGhlIGdpdmVuIGluZGV4LiBUaGVcbiAgICAgKiBvcHRpb25hbCBzaXplIHBhcmFtZXRlciBzdXBwb3J0cyBzZXR0aW5nIHRoZSBpbWFnZSB3aWR0aCBvciBoZWlnaHRcbiAgICAgKiAoZGVmYXVsdCBpcyBmdWxsLXNpemVkKS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VJbmRleCAtIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEBwYXJhbXMgez9vYmplY3R9IHNpemUgLSBhbiBvYmplY3QgY29udGFpbmluZyB3aWR0aCBhbmQgaGVpZ2h0IGluZm9ybWF0aW9uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgSUlJRiBVUkwgZm9yIGEgZ2l2ZW4gcGFnZSBhdCBhbiBvcHRpb25hbCBzaXplXG4gICAgICovXG4gICAgZ2V0UGFnZUltYWdlVVJMIChwYWdlSW5kZXgsIHNpemUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRQYWdlSW1hZ2VVUkwocGFnZUluZGV4LCBzaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHNldCBvZiBjby1vcmRpbmF0ZXMgKGUuZy4sIGZyb20gYSBtb3VzZSBjbGljayksIHJldHVybiB0aGUgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogZm9yIHdoaWNoIGl0IG1hdGNoZXMuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlWCAtIFRoZSB4IGNvLW9yZGluYXRlXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlWSAtIFRoZSB5IGNvLW9yZGluYXRlXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgcGFnZSBpbmRleCBtYXRjaGluZyB0aGUgY28tb3JkaW5hdGVzLlxuICAgICAqICovXG4gICAgZ2V0UGFnZUluZGV4Rm9yUGFnZVhZVmFsdWVzIChwYWdlWCwgcGFnZVkpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UGFnZUluZGV4Rm9yUGFnZVhZVmFsdWVzKHBhZ2VYLCBwYWdlWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBub3J0aHdlc3QgY29ybmVycyBvZiBkaXZhLWlubmVyIGFuZCBwYWdlIGluZGV4LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gVGhlIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEBwYXJhbXMgez9vcHRpb25zfSBvcHRpb25zIC0gQSBzZXQgb2Ygb3B0aW9ucyB0byBwYXNzIGluLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gVGhlIG9mZnNldCBiZXR3ZWVuIHRoZSB1cHBlciBsZWZ0IGNvcm5lciBhbmQgdGhlIHBhZ2UuXG4gICAgICpcbiAgICAgKiAqL1xuICAgIGdldFBhZ2VPZmZzZXQgKHBhZ2VJbmRleCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0UGFnZVJlZ2lvbihwYWdlSW5kZXgsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3A6IHJlZ2lvbi50b3AsXG4gICAgICAgICAgICBsZWZ0OiByZWdpb24ubGVmdFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW5zdGFuY2Ugc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBUaGUgY3VycmVudCBpbnN0YW5jZSBzZXR0aW5ncy5cbiAgICAgKiAqL1xuICAgIGdldFNldHRpbmdzICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgY29tcGxldGUgc3RhdGUgb2YgdGhlIHZpZXdlci5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIFRoZSBjdXJyZW50IGluc3RhbmNlIHN0YXRlLlxuICAgICAqICovXG4gICAgZ2V0U3RhdGUgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRTdGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKiAqL1xuICAgIGdldFpvb21MZXZlbCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3Muem9vbUxldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBHbyB0byBhIHBhcnRpY3VsYXIgcGFnZSAod2l0aCBpbmRleGluZyBzdGFydGluZyBhdCAwKS5cbiAgICAgKiAgVGhlICh4QW5jaG9yKSBzaWRlIG9mIHRoZSBwYWdlIHdpbGwgYmUgYW5jaG9yZWQgdG8gdGhlICh4QW5jaG9yKSBzaWRlIG9mIHRoZSBkaXZhLW91dGVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqICBAcHVibGljXG4gICAgICogIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gMC1iYXNlZCBwYWdlIGluZGV4LlxuICAgICAqICBAcGFyYW1zIHs/c3RyaW5nfSB4QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcImxlZnRcIiwgXCJyaWdodFwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCJcbiAgICAgKiAgQHBhcmFtcyB7P3N0cmluZ30geUFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJ0b3BcIiwgXCJib3R0b21cIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiOyBzYW1lIHByb2Nlc3MgYXMgeEFuY2hvci5cbiAgICAgKiAgQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgcGFnZSBpbmRleCBpcyB2YWxpZDsgZmFsc2UgaWYgaXQgaXMgbm90LlxuICAgICAqICovXG4gICAgZ290b1BhZ2VCeUluZGV4IChwYWdlSW5kZXgsIHhBbmNob3IsIHlBbmNob3IpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ290b1BhZ2VCeUluZGV4KHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBjYW52YXMgbGFiZWwsIGF0dGVtcHQgdG8gZ28gdG8gdGhhdCBwYWdlLiBJZiBubyBsYWJlbCB3YXMgZm91bmQuXG4gICAgICogdGhlIGxhYmVsIHdpbGwgYmUgYXR0ZW1wdGVkIHRvIG1hdGNoIGFnYWluc3QgdGhlIHBhZ2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7c3RyaW5nfSBsYWJlbCAtIFRoZSBsYWJlbCB0byBzZWFyY2ggb24uXG4gICAgICogQHBhcmFtcyB7P3N0cmluZ30geEFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJsZWZ0XCIsIFwicmlnaHRcIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiXG4gICAgICogQHBhcmFtcyB7P3N0cmluZ30geUFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJ0b3BcIiwgXCJib3R0b21cIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgcGFnZSBpbmRleCBpcyB2YWxpZDsgZmFsc2UgaWYgaXQgaXMgbm90LlxuICAgICAqICovXG4gICAgZ290b1BhZ2VCeUxhYmVsIChsYWJlbCwgeEFuY2hvciwgeUFuY2hvcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2VzID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlcztcbiAgICAgICAgbGV0IGxsYyA9IGxhYmVsLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhZ2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocGFnZXNbaV0ubC50b0xvd2VyQ2FzZSgpLmluZGV4T2YobGxjKSA+IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nb3RvUGFnZUJ5SW5kZXgoaSwgeEFuY2hvciwgeUFuY2hvcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWdlSW5kZXggPSBwYXJzZUludChsYWJlbCwgMTApIC0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dvdG9QYWdlQnlJbmRleChwYWdlSW5kZXgsIHhBbmNob3IsIHlBbmNob3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEp1bXAgdG8gYSBwYWdlIGJhc2VkIG9uIGl0cyBmaWxlbmFtZS4gRGVwcmVjYXRlZC4gVXNlIGdvdG9QYWdlQnlVUkkgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtzdHJpbmd9IGZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lIG9mIHRoZSBpbWFnZSB0byBqdW1wIHRvLlxuICAgICAqIEBwYXJhbXMgez9zdHJpbmd9IHhBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwibGVmdFwiLCBcInJpZ2h0XCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqIEBwYXJhbXMgez9zdHJpbmd9IHlBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwidG9wXCIsIFwiYm90dG9tXCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHN1Y2Nlc3NmdWwgYW5kIGZhbHNlIGlmIHRoZSBmaWxlbmFtZSBpcyBub3QgZm91bmQuXG4gICAgKi9cbiAgICBnb3RvUGFnZUJ5TmFtZSAoZmlsZW5hbWUsIHhBbmNob3IsIHlBbmNob3IpXG4gICAge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RoaXMgbWV0aG9kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCB2ZXJzaW9uIG9mIERpdmEuanMuIFVzZSBnb3RvUGFnZUJ5VVJJIGluc3RlYWQuJyk7XG4gICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuX2dldFBhZ2VJbmRleChmaWxlbmFtZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nb3RvUGFnZUJ5SW5kZXgocGFnZUluZGV4LCB4QW5jaG9yLCB5QW5jaG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBKdW1wIHRvIGEgcGFnZSBiYXNlZCBvbiBpdHMgVVJJLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge3N0cmluZ30gdXJpIC0gVGhlIFVSSSBvZiB0aGUgaW1hZ2UgdG8ganVtcCB0by5cbiAgICAgKiBAcGFyYW1zIHs/c3RyaW5nfSB4QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcImxlZnRcIiwgXCJyaWdodFwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCJcbiAgICAgKiBAcGFyYW1zIHs/c3RyaW5nfSB5QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcInRvcFwiLCBcImJvdHRvbVwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBzdWNjZXNzZnVsIGFuZCBmYWxzZSBpZiB0aGUgVVJJIGlzIG5vdCBmb3VuZC5cbiAgICAgKi9cbiAgICBnb3RvUGFnZUJ5VVJJICh1cmksIHhBbmNob3IsIHlBbmNob3IpXG4gICAge1xuICAgICAgICBjb25zdCBwYWdlSW5kZXggPSB0aGlzLl9nZXRQYWdlSW5kZXgodXJpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dvdG9QYWdlQnlJbmRleChwYWdlSW5kZXgsIHhBbmNob3IsIHlBbmNob3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHBhZ2UgaGFzIG90aGVyIGltYWdlcyB0byBkaXNwbGF5LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gVGhlIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBwYWdlIGhhcyBvdGhlciBpbWFnZXMgdG8gZGlzcGxheS5cbiAgICAgKiovXG4gICAgaGFzT3RoZXJJbWFnZXMgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3BhZ2VJbmRleF0ub3RoZXJJbWFnZXMgPT09IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIHBhZ2VzIHRoYXQgYXJlIG1hcmtlZCBcIm5vbi1wYWdlZFwiIGluIHRoZSBJSUlGIG1hbmlmZXN0LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqKi9cbiAgICBoaWRlTm9uUGFnZWRQYWdlcyAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVsb2FkVmlld2VyKHsgc2hvd05vblBhZ2VkUGFnZXM6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIHRoZSB2aWV3ZXIgY3VycmVudGx5IGluIGZ1bGwtc2NyZWVuIG1vZGU/XG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gV2hldGhlciB0aGUgdmlld2VyIGlzIGluIGZ1bGxzY3JlZW4gbW9kZS5cbiAgICAgKiovXG4gICAgaXNJbkZ1bGxzY3JlZW4gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhIHBhZ2UgaW5kZXggaXMgd2l0aGluIHRoZSByYW5nZSBvZiB0aGUgZG9jdW1lbnRcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSBwYWdlIGluZGV4IGlzIHZhbGlkLlxuICAgICAqKi9cbiAgICBpc1BhZ2VJbmRleFZhbGlkIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNQYWdlSW5kZXhWYWxpZChwYWdlSW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgYSBwYWdlIGlzIGN1cnJlbnRseSBpbiB0aGUgdmlld3BvcnRcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VJbmRleCAtIFRoZSAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSBwYWdlIGlzIGN1cnJlbnRseSBpbiB0aGUgdmlld3BvcnQuXG4gICAgICoqL1xuICAgIGlzUGFnZUluVmlld3BvcnQgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmlzUGFnZVZpc2libGUocGFnZUluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBEaXZhIHZpZXdlciBoYXMgYmVlbiBmdWxseSBpbml0aWFsaXplZC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSB2aWV3ZXIgaXMgaW5pdGlhbGl6ZWQ7IGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKiovXG4gICAgaXNSZWFkeSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUubG9hZGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHNvbWV0aGluZyAoZS5nLiBhIGhpZ2hsaWdodCBib3ggb24gYSBwYXJ0aWN1bGFyIHBhZ2UpIGlzIHZpc2libGVcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VJbmRleCAtIFRoZSAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IGxlZnRPZmZzZXQgLSBUaGUgZGlzdGFuY2Ugb2YgdGhlIHJlZ2lvbiBmcm9tIHRoZSBsZWZ0IG9mIHRoZSB2aWV3cG9ydFxuICAgICAqIEBwYXJhbXMge251bWJlcn0gdG9wT2Zmc2V0IC0gVGhlIGRpc3RhbmNlIG9mIHRoZSByZWdpb24gZnJvbSB0aGUgdG9wIG9mIHRoZSB2aWV3cG9ydFxuICAgICAqIEBwYXJhbXMge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvblxuICAgICAqIEBwYXJhbXMge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gV2hldGhlciB0aGUgcmVnaW9uIGlzIGluIHRoZSB2aWV3cG9ydC5cbiAgICAgKiovXG4gICAgaXNSZWdpb25JblZpZXdwb3J0IChwYWdlSW5kZXgsIGxlZnRPZmZzZXQsIHRvcE9mZnNldCwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpO1xuXG4gICAgICAgIGlmICghbGF5b3V0KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGxheW91dC5nZXRQYWdlT2Zmc2V0KHBhZ2VJbmRleCk7XG5cbiAgICAgICAgY29uc3QgdG9wID0gb2Zmc2V0LnRvcCArIHRvcE9mZnNldDtcbiAgICAgICAgY29uc3QgbGVmdCA9IG9mZnNldC5sZWZ0ICsgbGVmdE9mZnNldDtcblxuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnRlcnNlY3RzUmVnaW9uKHtcbiAgICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgICAgYm90dG9tOiB0b3AgKyBoZWlnaHQsXG4gICAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgICAgcmlnaHQ6IGxlZnQgKyB3aWR0aFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBwYWdlIGxheW91dCBpcyB2ZXJ0aWNhbGx5IG9yIGhvcml6b250YWxseSBvcmllbnRlZC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHZlcnRpY2FsOyBmYWxzZSBpZiBob3Jpem9udGFsLlxuICAgICAqKi9cbiAgICBpc1ZlcnRpY2FsbHlPcmllbnRlZCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExlYXZlIGZ1bGxzY3JlZW4gbW9kZSBpZiBjdXJyZW50bHkgaW4gZnVsbHNjcmVlbiBtb2RlLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIHRydWUgaWYgaW4gZnVsbHNjcmVlbiBtb2RlIGludGl0aWFsbHksIGZhbHNlIG90aGVyd2lzZVxuICAgICAqKi9cbiAgICBsZWF2ZUZ1bGxzY3JlZW5Nb2RlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkZ1bGxzY3JlZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExlYXZlIGdyaWQgdmlldyBpZiBjdXJyZW50bHkgaW4gZ3JpZCB2aWV3LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIHRydWUgaWYgaW4gZ3JpZCB2aWV3IGluaXRpYWxseSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICoqL1xuICAgIGxlYXZlR3JpZFZpZXcgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVsb2FkVmlld2VyKHsgaW5HcmlkOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbnVtYmVyIG9mIGdyaWQgcGFnZXMgcGVyIHJvdy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VzUGVyUm93IC0gVGhlIG51bWJlciBvZiBwYWdlcyBwZXIgcm93XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLlxuICAgICAqKi9cbiAgICBzZXRHcmlkUGFnZXNQZXJSb3cgKHBhZ2VzUGVyUm93KVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyh3YWJhaW4pOiBBZGQgdGVzdCBjYXNlXG4gICAgICAgIGlmICghdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5pc1ZhbGlkT3B0aW9uKCdwYWdlc1BlclJvdycsIHBhZ2VzUGVyUm93KSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgIGluR3JpZDogdHJ1ZSxcbiAgICAgICAgICAgIHBhZ2VzUGVyUm93OiBwYWdlc1BlclJvd1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlnbiB0aGlzIGRpdmEgaW5zdGFuY2Ugd2l0aCBhIHN0YXRlIG9iamVjdCAoYXMgcmV0dXJuZWQgYnkgZ2V0U3RhdGUpXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7b2JqZWN0fSBzdGF0ZSAtIEEgRGl2YSBzdGF0ZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLlxuICAgICAqKi9cbiAgICBzZXRTdGF0ZSAoc3RhdGUpXG4gICAge1xuICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIodGhpcy5fZ2V0TG9hZE9wdGlvbnNGb3JTdGF0ZShzdGF0ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLlxuICAgICAqKi9cbiAgICBzZXRab29tTGV2ZWwgKHpvb21MZXZlbClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICBpbkdyaWQ6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLnpvb20oem9vbUxldmVsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93IG5vbi1wYWdlZCBwYWdlcy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHNob3dOb25QYWdlZFBhZ2VzICgpXG4gICAge1xuICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoeyBzaG93Tm9uUGFnZWRQYWdlczogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgZnVsbHNjcmVlbiBtb2RlLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKiovXG4gICAgdG9nZ2xlRnVsbHNjcmVlbk1vZGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUZ1bGxzY3JlZW4oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93L0hpZGUgbm9uLXBhZ2VkIHBhZ2VzXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLlxuICAgICAqKi9cbiAgICB0b2dnbGVOb25QYWdlZFBhZ2VzVmlzaWJpbGl0eSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgIHNob3dOb25QYWdlZFBhZ2VzOiAhdGhpcy5zZXR0aW5ncy5zaG93Tm9uUGFnZWRQYWdlc1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvL0NoYW5nZXMgYmV0d2VlbiBob3Jpem9udGFsIGxheW91dCBhbmQgdmVydGljYWwgbGF5b3V0LiBSZXR1cm5zIHRydWUgaWYgZG9jdW1lbnQgaXMgbm93IHZlcnRpY2FsbHkgb3JpZW50ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICB0b2dnbGVPcmllbnRhdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvZ2dsZVBhZ2VMYXlvdXRPcmllbnRhdGlvbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgYSBtZWFzdXJlbWVudCBmcm9tIHRoZSB6b29tIGxldmVsIG9uIHRoZSBsYXJnZXN0IHNpemVcbiAgICAgKiB0byBvbmUgb24gdGhlIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEZvciBleGFtcGxlLCBhIHBvaW50IDEwMDAgb24gYW4gaW1hZ2UgdGhhdCBpcyBvbiB6b29tIGxldmVsIDIgb2YgNVxuICAgICAqIHRyYW5zbGF0ZXMgdG8gYSBwb3NpdGlvbiBvZiAxMTEuMTExLi4uICgxMDAwIC8gKDUgLSAyKV4yKS5cbiAgICAgKlxuICAgICAqIFdvcmtzIGZvciBhIHNpbmdsZSBwaXhlbCBjby1vcmRpbmF0ZSBvciBhIGRpbWVuc2lvbiAoZS5nLiwgdHJhbnNsYXRlcyBhIGJveFxuICAgICAqIHRoYXQgaXMgMTAwMCBwaXhlbHMgd2lkZSBvbiB0aGUgb3JpZ2luYWwgdG8gb25lIHRoYXQgaXMgMTExLjExMSBwaXhlbHMgd2lkZVxuICAgICAqIG9uIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwpLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcG9zaXRpb24gLSBBIHBvaW50IG9uIHRoZSBtYXggem9vbSBsZXZlbFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIHNhbWUgcG9pbnQgb24gdGhlIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAqL1xuICAgIHRyYW5zbGF0ZUZyb21NYXhab29tTGV2ZWwgKHBvc2l0aW9uKVxuICAgIHtcbiAgICAgICAgY29uc3Qgem9vbURpZmZlcmVuY2UgPSB0aGlzLnNldHRpbmdzLm1heFpvb21MZXZlbCAtIHRoaXMuc2V0dGluZ3Muem9vbUxldmVsO1xuICAgICAgICByZXR1cm4gcG9zaXRpb24gLyBNYXRoLnBvdygyLCB6b29tRGlmZmVyZW5jZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyBhIG1lYXN1cmVtZW50IGZyb20gdGhlIGN1cnJlbnQgem9vbSBsZXZlbCB0byB0aGUgcG9zaXRpb24gb24gdGhlXG4gICAgICogbGFyZ2VzdCB6b29tIGxldmVsLlxuICAgICAqXG4gICAgICogV29ya3MgZm9yIGEgc2luZ2xlIHBpeGVsIGNvLW9yZGluYXRlIG9yIGEgZGltZW5zaW9uIChlLmcuLCB0cmFuc2xhdGVzIGEgYm94XG4gICAgICogdGhhdCBpcyAxMTEuMTExIHBpeGVscyB3aWRlIG9uIHRoZSBjdXJyZW50IGltYWdlIHRvIG9uZSB0aGF0IGlzIDEwMDAgcGl4ZWxzIHdpZGVcbiAgICAgKiBvbiB0aGUgY3VycmVudCB6b29tIGxldmVsKS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBvc2l0aW9uIC0gQSBwb2ludCBvbiB0aGUgY3VycmVudCB6b29tIGxldmVsXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgc2FtZSBwb2ludCBvbiB0aGUgbWF4IHpvb20gbGV2ZWwuXG4gICAgKi9cbiAgICB0cmFuc2xhdGVUb01heFpvb21MZXZlbCAocG9zaXRpb24pXG4gICAge1xuICAgICAgICBjb25zdCB6b29tRGlmZmVyZW5jZSA9IHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsIC0gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWw7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gZGlmZmVyZW5jZSwgaXQncyBhIGJveCBvbiB0aGUgbWF4IHpvb20gbGV2ZWwgYW5kXG4gICAgICAgIC8vIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgcG9zaXRpb24uXG4gICAgICAgIGlmICh6b29tRGlmZmVyZW5jZSA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbjtcblxuICAgICAgICByZXR1cm4gcG9zaXRpb24gKiBNYXRoLnBvdygyLCB6b29tRGlmZmVyZW5jZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWm9vbSBpbi5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBmYWxzZSBpZiBpdCdzIGF0IHRoZSBtYXhpbXVtIHpvb21cbiAgICAgKiovXG4gICAgem9vbUluICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRab29tTGV2ZWwodGhpcy5zZXR0aW5ncy56b29tTGV2ZWwgKyAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBab29tIG91dC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBmYWxzZSBpZiBpdCdzIGF0IHRoZSBtaW5pbXVtIHpvb21cbiAgICAgKiovXG4gICAgem9vbU91dCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Wm9vbUxldmVsKHRoaXMuc2V0dGluZ3Muem9vbUxldmVsIC0gMSk7XG4gICAgfVxufVxuXG5EaXZhLkV2ZW50cyA9IGRpdmEuRXZlbnRzO1xuXG5leHBvcnQgZGVmYXVsdCBEaXZhO1xuXG4vKipcbiAqIE1ha2UgYERpdmFgIGF2YWlsYWJsZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG4gKiAqL1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgKGZ1bmN0aW9uIChnbG9iYWwpXG4gICAge1xuICAgICAgICBnbG9iYWwuRGl2YSA9IGdsb2JhbC5EaXZhIHx8IERpdmE7XG4gICAgfSkod2luZG93KTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=