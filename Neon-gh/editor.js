!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=58)}([function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,s=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,s),i(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,s,o,a;if(l(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=u(e))>0&&o.length>r&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function g(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):m(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(s){i.once&&e.removeEventListener(t,r),n(s)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var l=c.length,u=m(c,l);for(n=0;n<l;++n)s(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,s,o;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,s=Object.keys(n);for(i=0;i<s.length;++i)"removeListener"!==(r=s[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return g(this,e,!0)},a.prototype.rawListeners=function(e){return g(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i,r,s,o=[n(37),n(38),n(39),n(40),n(41),n(42)],a=-1,c=[],l=!1;function u(){i&&r&&(i=!1,r.length?c=r.concat(c):a=-1,c.length&&d())}function d(){if(!i){l=!1,i=!0;for(var e=c.length,t=setTimeout(u);e;){for(r=c,c=[];r&&++a<e;)r[a].run();a=-1,e=c.length}r=null,a=-1,i=!1,clearTimeout(t)}}for(var h=-1,f=o.length;++h<f;)if(o[h]&&o[h].test&&o[h].test()){s=o[h].install(d);break}function g(e,t){this.fun=e,this.array=t}g.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),l||i||(l=!0,s())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.getSettings=void 0;let i=null;const r={zoom:100,glyphOpacity:100,imageOpacity:100,circleSize:25,highlightMode:"none",userMode:"edit",insertMode:"punctum",insertTab:"primitiveTab",selectionMode:"selBySyllable",debugMode:!1,displayBBox:!1,displayText:!1,displayInfo:!1,displayErrLog:!1,viewBox:null};t.getSettings=function(){return i.settings},t.setSettings=function(e){i.set(e)},t.default=class{constructor(e){i=this,this.id=e,this.load()}load(){try{const e=JSON.parse(window.localStorage.getItem(this.id));this.sync(e)}catch(e){this.sync({})}}set(e){this.settings=Object.assign(Object.assign({},this.settings),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}sync(e){this.settings=Object.assign(Object.assign({},r),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAll=t.selectNn=t.selectBBox=t.getStaffBBox=t.isMultiStaveSelection=t.sharedSecondLevelParent=t.elementsHaveCorrectType=t.sharedLogicalParent=t.areAdjacent=t.isLigature=t.selectNcs=t.select=t.selectLayerElement=t.selectStaff=t.unselect=t.getSelectionType=void 0;const i=n(18),r=n(12),s=n(24),o=n(27),a=n(14),c=n(7);function l(){const e=document.getElementsByClassName("sel-by is-active");return 0!==e.length?e[0].id:null}function u(){document.querySelectorAll(".no-moving").forEach(e=>e.classList.remove("no-moving")),document.querySelectorAll(".selected").forEach(e=>{e.classList.remove("selected"),e.classList.contains("staff")?(e.removeAttribute("style"),i.unhighlight(e)):(e.removeAttribute("style"),e.style.fill=""),Array.from(e.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""}),Array.from(e.querySelectorAll(".sylTextRect-display")).forEach(e=>{e.style.fill="blue"}),e.parentElement.classList.contains("syllable-highlighted")&&(e.parentElement.style.fill="",e.parentElement.classList.add("syllable"),e.parentElement.classList.remove("syllable-highlighted"),Array.from(e.parentElement.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.parentElement.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""})),c.selectAll("#resizeRect").remove(),c.selectAll(".resizePoint").remove(),c.selectAll(".rotatePoint").remove()}),Array.from(document.querySelectorAll(".text-select")).forEach(e=>{e.style.color="",e.style.fontWeight="",e.classList.remove("text-select")}),document.getElementById("selByStaff").classList.contains("is-active")?a.endOptionsSelection():s.endGroupingSelection(),document.getElementById("extraEdit").innerHTML="",document.getElementById("extraEdit").parentElement.classList.add("hidden"),(0,r.updateHighlight)()}function d(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),a.triggerSingleStaffActions(),s.initGroupingListeners(),t.dragInit())}function h(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),t.dragInit())}function f(e,t,n=!0){if(e){if(e.classList.contains("staff"))return d(e,t);if(e.classList.contains("layer"))return h(e,t);if(!e.classList.contains("selected")&&!e.classList.contains("sylTextRect")&&!e.classList.contains("sylTextRect-display")){let t;if(e.classList.add("selected"),e.style.fill="#d00",e.style.stroke=e.classList.contains("divLine")?"#d00":"black",e.querySelectorAll(".sylTextRect-display").length&&e.querySelectorAll(".sylTextRect-display").forEach(e=>{e.style.fill="#d00"}),e.querySelectorAll(".divLine").length&&e.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"}),e.classList.contains("syllable")&&e.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),e.classList.contains("syllable")?t=e.id:null!==e.closest(".syllable")&&(t=e.closest(".syllable").id),void 0!==t){document.querySelectorAll("span."+t).forEach(e=>{e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select")})}}n&&(0,r.updateHighlight)()}}async function g(e,t){const n=await t.getElementAttr(e.id,t.view.getCurrentPageURI());return Boolean(n.ligated)}function p(e,t){if(t.length<2)return!1;switch(e){case"selBySyllable":t.forEach(e=>{if(!e.classList.contains("syllable"))return!1});break;case"selByNeume":t.forEach(e=>{if(!e.classList.contains("neume"))return!1});break;case"selByStaff":t.forEach(e=>{if(!e.classList.contains("staff"))return!1});break;default:return!1}return!0}function m(e){const t=Array.from(e),n=t.pop().parentElement.parentElement;for(const e of t){if(e.parentElement.parentElement.id!==n.id)return!1}return!0}function v(e,t,n){const i=e,r=i.closest(".syl");if(!r.classList.contains("selected")){r.classList.add("selected"),i.style.fill="#d00";const s=e.closest(".syllable");s.style.fill="#d00",s.classList.add("syllable-highlighted"),s.querySelectorAll(".divLine").length&&(s.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),s.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"})),void 0!==n&&(0,o.resize)(r,n,t),void 0!==t&&t.dragInit();const a=e.closest(".syllable").id;if(void 0!==a){const e=document.querySelector("span."+a);e&&(e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select"))}}a.triggerBBoxActions()}t.getSelectionType=l,t.unselect=u,t.selectStaff=d,t.selectLayerElement=h,t.select=f,t.selectNcs=async function(e,t,n){if(!e.parentElement.classList.contains("selected")){const i=e.parentElement;if(u(),f(i),await g(i,t)){const e=i.previousSibling;if(await g(e,t))f(e);else{const e=i.nextSibling;await g(e,t)?f(e):console.warn("Error: Neither prev or next nc are ligatures")}s.triggerGrouping("ligature")}else i.classList.contains("nc")?a.triggerNcActions(i):console.warn("No action triggered!");n.dragInit()}},t.isLigature=g,t.areAdjacent=function(e,t){if(t.length<2)return!1;let n;switch(e){case"selBySyllable":n=Array.from(document.querySelectorAll(".syllable"));break;case"selByNeume":return!0;case"selByNc":n=Array.from(document.querySelectorAll(".nc"));break;case"selByStaff":n=Array.from(document.querySelectorAll(".staff"));break;default:return!1}const i=[];for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)n[e].isSameNode(t[r])&&i.push(t[r]);for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],s=n.indexOf(t),o=n.indexOf(r);if(1!==Math.abs(s-o))return!1}return!0},t.sharedLogicalParent=function(e,t){if(!p(e,t=t.filter(e=>!(e.classList.contains("divLine")||e.classList.contains("accid")||e.classList.contains("clef")))))return!1;switch(e){case"selBySyllable":const e=t[0].closest(".staff");for(let n=0;n<t.length;n++){if(!t[n].closest(".staff").isSameNode(e))return!1}return!0;case"selByNeume":const n=t[0].closest(".syllable");for(let e=0;e<t.length;e++){if(!t[e].closest(".syllable").isSameNode(n))return!1}return!0;case"selByStaff":return!0;default:return!1}},t.elementsHaveCorrectType=p,t.sharedSecondLevelParent=m,t.isMultiStaveSelection=function(e){const t=Array.from(e);for(let e=0;e<t.length;e++){const n=t[e].closest(".staff");for(let i=e;i<t.length;i++){const e=t[i].closest(".staff");if(!n.isSameNode(e))return!0}}return!1},t.getStaffBBox=function(e){let t,n,i,r,s;return e.querySelectorAll("path").forEach(e=>{const o=e.getAttribute("d").match(/\d+/g).map(e=>Number(e));void 0===s&&(s=Math.atan((o[3]-o[1])/(o[2]-o[0]))),(void 0===n||Math.min(o[1],o[3])<n)&&(n=Math.min(o[1],o[3])),(void 0===t||o[0]<t)&&(t=o[0]),(void 0===r||Math.max(o[1],o[3])>r)&&(r=Math.max(o[1],o[3])),(void 0===i||o[2]>i)&&(i=o[2])}),{id:e.id,ulx:t,uly:n,lrx:i,lry:r,rotate:s}},t.selectBBox=v,t.selectNn=function(e){return!(e.length>0)||(e.forEach(e=>{f(e)}),!1)},t.selectAll=async function(e,t,n){const i=l();if(u(),0===e.length)return;let r,c=!1,d=!1;switch(i){case"selBySyllable":r=".syllable";break;case"selByNeume":r=".neume";break;case"selByNc":r=".nc";break;case"selByStaff":r=".staff";break;case"selByBBox":r=".sylTextRect-display";break;case"selByLayerElement":r=".clef, .custos, .accid, .divLine";break;default:return void console.error("Unknown selection type "+i)}const h=new Set;for(const t of e){let e=t.closest(r);if(null===e){if(e=t.closest(".clef, .custos, .accid, .divLine"),null===e){console.warn("Element "+t.id+" is not part of specified group and is not a clef or custos or accid or divLine.");continue}c=c||!0}else d=d||!0;h.add(e);let n=e,i=n.getAttribute("mei:follows"),s=n.getAttribute("mei:precedes");for(;i||s;){if(i){if(n=document.querySelector("#"+i.slice(1)),h.has(n))break;n.classList.add("no-moving"),h.add(n),i=n.getAttribute("mei:follows")}if(s){if(n=document.querySelector("#"+s.slice(1)),h.has(n))break;n.classList.add("no-moving"),h.add(n),s=n.getAttribute("mei:precedes")}}}h.forEach(e=>f(e,n,!1));const g=Array.from(h.values());if(!c||d)switch(i){case"selByStaff":switch(g.length){case 1:a.triggerSingleStaffActions(),s.initGroupingListeners(),(0,o.resize)(g[0],t,n);break;default:a.triggerMultiStaffActions(),s.initGroupingListeners()}break;case"selByLayerElement":1===h.size?a.triggerLayerElementActions(g[0]):a.triggerDefaultActions();break;case"selBySyllable":switch(g.length){case 1:a.triggerSyllableActions("singleSelect");break;default:s.isLinkable("selBySyllable",g)?a.triggerSyllableActions("linkableSelect"):s.isGroupable("selBySyllable",g)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default")}break;case"selByNeume":switch(g.length){case 1:a.triggerNeumeActions(),s.initGroupingListeners();break;default:s.isGroupable("selByNeume",g)?s.triggerGrouping("neume"):a.triggerDefaultActions()}break;case"selByNc":switch(g.length){case 1:a.triggerNcActions(g[0]);break;case 2:if(m(g)){if(g[0].parentElement===g[1].parentElement){const e=Array.from(g[0].parentElement.children);if(1===Math.abs(e.indexOf(g[0])-e.indexOf(g[1]))){let e=g[0].children[0],t=g[1].children[0],n=e.x.baseVal.value,i=t.x.baseVal.value,r=e.y.baseVal.value,o=t.y.baseVal.value;if((n>i||n===i&&r<o)&&([e,t]=[t,e],[n,r,i,o]=[i,o,n,r]),n===i||r<o){s.triggerGrouping("ligature");break}}}s.triggerGrouping("nc")}else a.triggerDefaultActions();break;default:m(g)?s.triggerGrouping("nc"):a.triggerDefaultActions()}break;case"selByBBox":switch(g.length){case 1:v(g[0],n,t),a.triggerBBoxActions();break;default:g.forEach(e=>v(e,n,void 0))}break;default:console.error("Unknown selection type. This should not have occurred.")}else 1===h.size?a.triggerLayerElementActions(g[0]):"selBySyllable"==i?a.triggerDefaultSylActions():a.triggerDefaultActions()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueNotification=t.Notification=void 0;const i=n(26),r=n(17),s=new Array(0);let o=null;const a={default:"",warning:"âš ï¸ ",error:"ðŸ”´ ",success:"âœ… "};class c{constructor(e,t,n=null){this.message=a[t]+e,this.displayed=!1,this.id=(0,r.uuidv4)(),this.isModeMessage=-1!==e.search("Mode"),this.logInfo=n,this.timeoutID=-1,this.type=t}setTimeoutId(e){this.timeoutID=Math.max(e,-1)}display(){this.displayed=!0}getId(){return this.id}}function l(e){document.getElementById(e)&&document.getElementById(e).remove()}function u(e){!function(e){if(e.isModeMessage){if(null!==o)return void window.clearTimeout(o.timeoutID);o=e}if(s.push(e),s.length>3){l(s.shift().getId())}const t=document.getElementById("notification-content"),n=document.createElement("div");n.classList.add("neon-notification"),n.classList.add("neon-notification-"+e.type),n.id=e.getId(),n.innerHTML=e.message,t.append(n),t.style.display="",e.display()}(e),e.setTimeoutId(window.setTimeout(l,5e3,e.getId())),document.getElementById(e.getId()).addEventListener("click",()=>{window.clearTimeout(e.timeoutID),l(e.getId())})}function d(e,t="default",n=null){const r=new c(e,t,n);"error"!=r.type&&"warning"!=r.type||(0,i.recordNotification)(r),u(r)}t.Notification=c,t.queueNotification=d,t.default={queueNotification:d}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],i=-1;++i<t;)n[i]=arguments[i];return e.call(this,n)}return e.call(this,[])}}},function(e,t){e.exports=d3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorLogsPanelContents=t.syllableActionsContent=t.hotkeysModal=t.editTextModal=t.groupingMenu=t.bboxActionContents=t.divLineActionContents=t.clefActionContents=t.columnActionContents=t.staffMergeActionContents=t.staffSplitActionContents=t.accidActionContents=t.layerElementInActionContents=t.layerElementOutActionContents=t.custosActionContents=t.defaultSylActionContents=t.defaultActionContents=t.neumeActionContents=t.defaultNeumeActionContents=t.ncActionContents=t.editControlsPanel=t.insertControlsPanel=t.insertTabHtml=void 0,t.insertTabHtml={primitiveTab:'<p class="insert-element-container">\n            <button id="punctum" class="side-panel-btn insertel smallel" aria-label="punctum" title="punctum"><img src="/Neon/Neon-gh/assets/img/punctum.png" class="image"/></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virga" class="side-panel-btn insertel smallel" aria-label="virga" title="virga"><img src="/Neon/Neon-gh/assets/img/virga.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virgaReversed" class="side-panel-btn insertel smallel" aria-label="Reversed Virga" title="Reversed Virga"><img src="/Neon/Neon-gh/assets/img/virga_reversed.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="diamond" class="side-panel-btn insertel smallel" aria-label="inclinatum" title="inclinatum"><img src="/Neon/Neon-gh/assets/img/diamond.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="custos" class="side-panel-btn insertel smallel" aria-label="custos" title="custos"><img src="/Neon/Neon-gh/assets/img/custos.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="cClef" class="side-panel-btn insertel smallel" aria-label="C Clef" title=" C Clef"><img src="/Neon/Neon-gh/assets/img/cClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="fClef" class="side-panel-btn insertel smallel" aria-label="F Clef" title="F Clef"><img src="/Neon/Neon-gh/assets/img/fClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentA" class="side-panel-btn insertel smallel" aria-label="Liquescent A" title="Liquescent A"><img src="/Neon/Neon-gh/assets/img/liquescentA.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentC" class="side-panel-btn insertel smallel" aria-label="Liquescent C" title="Liquescent C"><img src="/Neon/Neon-gh/assets/img/liquescentC.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="flat" class="side-panel-btn insertel smallel" aria-label="Flat" title="Flat"><img src="/Neon/Neon-gh/assets/img/accidFlat.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="natural" class="side-panel-btn insertel smallel" aria-label="Natural" title="Natural"><img src="/Neon/Neon-gh/assets/img/accidNatural.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="divLineMaxima" class="side-panel-btn insertel smallel" aria-label="DivLine Maxima" title="DivLine Maxima"><img src="/Neon/Neon-gh/assets/img/divisio.png" class="image"></button>\n        </p>',groupingTab:'<p class="insert-element-container">\n            <button id="pes" class="side-panel-btn insertel smallel" aria-label="pes" title="pes"><img src="/Neon/Neon-gh/assets/img/pes.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="clivis" class="side-panel-btn insertel smallel" aria-label="clivis" title="clivis"><img src="/Neon/Neon-gh/assets/img/clivis.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="scandicus" class="side-panel-btn insertel smallel" aria-label="scandicus" title="scandicus"><img src="/Neon/Neon-gh/assets/img/scandicus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="climacus" class="side-panel-btn insertel smallel" aria-label="climacus" title="climacus"><img src="/Neon/Neon-gh/assets/img/climacus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="torculus" class="side-panel-btn insertel smallel" aria-label="toculus" title="toculus"><img src="/Neon/Neon-gh/assets/img/torculus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="porrectus" class="side-panel-btn insertel smallel" aria-label="porrectus" title="porrectus"><img src="/Neon/Neon-gh/assets/img/porrectus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="pressus" class="side-panel-btn insertel smallel" aria-label="pressus" title="pressus"><img src="/Neon/Neon-gh/assets/img/pressus.png" class="image"></button>\n        </p>',systemTab:'<p class="insert-element-container">\n            <button id="staff" class="side-panel-btn insertel longel" aria-label="system" title="system"><img src="/Neon/Neon-gh/assets/img/staff.png" class="image"></button>\n        </p>\n        <p>Click upper left and lower right corners of new staff.</p>'},t.insertControlsPanel='<div class="panel-heading" id="insertMenu">\n        <div class="panel-heading-title">INSERT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleInsert" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n\t<div class="panel-content-subsection first-subsection">\n        <div id="insertContents" class="panel-contents" style="overflow-y: hidden;">\n            <p class="panel-tabs">\n                <a id="primitiveTab" class="insertTab">Primitive Elements</a>\n                <a id="groupingTab" class="insertTab">Grouping</a>\n                <a id="systemTab" class="insertTab">System</a>\n            </p>\n            <div id="insert_data"></div>\n        </div>\n    </div>',t.editControlsPanel='<div class="panel-heading" id="editMenu">\n        <div class="panel-heading-title focused">EDIT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleEdit" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div id="editContents" class="panel-contents">\n        <div class="panel-content-subsection first-subsection">\n            <div id="selection-mode-container">\n                <div class="panel-sub-title">Selection Mode:</div>\n                <div id="selection-mode-btns-container"  class="right-side-panel-btns-container" style="overflow-x: auto;">\n\n                        <button class="side-panel-btn sel-by" id="selBySyllable">Syllable</button>\n                        <button class="side-panel-btn sel-by" id="selByNeume">Neume</button>\n                        <button class="side-panel-btn sel-by" id="selByNc">Neume Component</button>\n                        <button class="side-panel-btn sel-by" id="selByStaff">Staff</button>\n                        <button class="side-panel-btn sel-by" id="selByLayerElement">Layer Element</button>\n\n                </div>\n            </div>\n        </div>\n\n        <div id="display-slider-actions-container">\n                <div class="panel-content-subsection hidden">\n                    <div id="moreEdit"></div>\n                </div>\n                <div class="panel-content-subsection hidden">\n                    <div id="extraEdit"></div>\n                </div>\n                    \x3c!--\n                    * The extraEdit panel is added for edit options that have dropdown menus\n                    * Like the Neume and Clef menus\n                    * This is done because the moreEdit menu needs to have overflow for cases where it has lots of buttons\n                    * But overflow ruins dropdown menus\n                    --\x3e\n                <div class="panel-content-subsection hidden">\n                    <div id="neumeEdit"></div>\n                </div>\n                <div class="panel-content-subsection">\n                    <div id="undoRedo_controls"></div>\n                </div>\n        </div>\n    </div>',t.ncActionContents='<label>Change Head Shape:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Head Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="Punctum" class="dropdown-item">Punctum</a>\n                <a id="Virga" class="dropdown-item">Virga</a>\n                <a id="VirgaReversed" class="dropdown-item">Reversed Virga</a>\n                <a id="Inclinatum" class="dropdown-item">Inclinatum</a>\n                <a id="LiquescentAnticlockwise" class="dropdown-item">Liquescent A</a>\n                <a id="LiquescentClockwise" class="dropdown-item">Liquescent C</a>\n            </div>\n        </div>\n    </div>',t.defaultNeumeActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="split-neume">Split Neumes</button>\n    </div>',t.neumeActionContents='<label>Grouping Options:</label>\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Groupings</span>\n                    <svg class="icon">\n                        <use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content scrollable-dropdown">\n                <a id="Climacus" class="dropdown-item grouping">Climacus</a>\n                <a id="ClimacusResupinus" class="dropdown-item grouping">Climacus Resupinus</a>\n                <a id="Clivis" class="dropdown-item grouping">Clivis</a>\n                <a id="Pes" class="dropdown-item grouping">Pes</a>\n                <a id="PesSubpunctis" class="dropdown-item grouping">Pes Subpunctis</a>\n                <a id="Porrectus" class="dropdown-item grouping">Porrectus</a>\n                <a id="PorrectusFlexus" class="dropdown-item grouping">Porrectus Flexus</a>\n                <a id="PorrectusSubpunctis" class="dropdown-item grouping">Porrectus Subpunctis</a>\n                <a id="Pressus" class="dropdown-item grouping">Pressus</a>\n                <a id="Scandicus" class="dropdown-item grouping">Scandicus</a>\n                <a id="ScandicusFlexus" class="dropdown-item grouping">Scandicus Flexus</a>\n                <a id="ScandicusSubpunctis" class="dropdown-item grouping">Scandicus Subpunctis</a>\n                <a id="Torculus" class="dropdown-item grouping">Torculus</a>\n                <a id="TorculusResupinus" class="dropdown-item grouping">Torculus Resupinus</a>\n            </div>\n        </div>\n    </div>\n    <button class="side-panel-btn" id="ungroupNcs">Ungroup</button>',t.defaultActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.defaultSylActionContents='<button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>',t.custosActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementOutActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="insertToSyllable">Insert to nearest syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementInActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="moveOutsideSyllable">Move outside syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.accidActionContents='<label>Change Accidental:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger"overflow="auto">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="ChangeToFlat" class="dropdown-item">Flat</a>\n                <a id="ChangeToNatural" class="dropdown-item">Natural</a>\n            </div>\n        </div>\n    </div>',t.staffSplitActionContents='<div>Split System:</div>\n    <div id="split-system-btns-container" class="right-side-panel-btns-container">\n        <button id="split-system" class="side-panel-btn">Split</button>\n        <button id="reset-rotate" class="side-panel-btn">Reset Rotate</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.staffMergeActionContents='<label>Merge Systems:</label>\n    <div id="merge-system-btns-container" class="right-side-panel-btns-container">\n        <button id="merge-systems" class="side-panel-btn">Merge</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.columnActionContents='<div class="col-edit-container">\n        Edit Column Information:\n        <div id="col-stepper-btns-container" class="right-side-panel-btns-container">\n            <button id="col-decrement" class="side-panel-btn col-stepper-btn">â€“</button>\n            <input type="text" id="col-input" class="side-panel-stepper-input" value="0">\n            <button id="col-increment" class="side-panel-btn col-stepper-btn">+</button>\n            <button id="col-confirm" class="side-panel-btn side-panel-confirm-btn" style="display:none">Confirm</button>\n            <div id="col-warning" class="side-panel-warning"></div>\n        </div>\n    </div>',t.clefActionContents='\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Displace Octave</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="increment-octave" class="dropdown-item">+1 Octave</a>\n                    <a id="decrement-octave" class="dropdown-item">-1 Octave</a>\n                </div>\n            </div>\n        </div>\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Change Clef Shape</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="CClef" class="dropdown-item">C Clef</a>\n                    <a id="FClef" class="dropdown-item">F Clef</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',t.divLineActionContents='<label>Change DivLine:</label>\n<div class="drop_select dropdown">\n    <div class="dropdown-trigger"overflow="auto">\n        <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n            <span>Shapes</span>\n            <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n        </button>\n    </div>\n    <div class="dropdown-menu" id="dropdown-menu" role="menu">\n        <div class="dropdown-content">\n            <a id="ChangeToCaesura" class="dropdown-item">Caesura</a>\n            <a id="ChangeToFinalis" class="dropdown-item">Finalis</a>\n            <a id="ChangeToMinima" class="dropdown-item">Minima</a>\n            <a id="ChangeToMaior" class="dropdown-item">Maior</a>\n            <a id="ChangeToMaxima" class="dropdown-item">Maxima</a>\n            <a id="ChangeToVirgula" class="dropdown-item">Virgula</a>\n        </div>\n    </div>\n</div>',t.bboxActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="matchHeight">Match Height for Entire Row</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.groupingMenu={nc:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn more-edit-btn" id="groupNcs">Group Neume Components</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',neume:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="groupNeumes">Group Neumes</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',syl:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n                <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n            </div>\n\t\t</div>',ligatureNc:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="groupNcs">Group Neume Components</button>\n                        <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>',ligature:'<div class="more-edit-btn panel-btn">\n                <div class="right-side-panel-btns-container">\n                    <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                    <button class="side-panel-btn" id="delete">Delete</button>\n                </div>\n            </div>',splitSyllable:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>'},t.editTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-save">Save</div>\n        </div>\n    </div>',t.hotkeysModal='\n    <div class="neon-modal-window-content" id="neon-modal-window-content-hotkeys">\n        \x3c!-- "Display" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Display</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">+</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom In</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">-</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Out</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">0</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Reset</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">h</div>\n                </div>\n                <div class="hotkey-entry-description">Hide Glyph</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">T</div>\n                </div>\n                <div class="hotkey-entry-description">Scroll To Syllable Text</div>\n            </div>\n        </div>\n\n        \x3c!-- "Edit" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Edit</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Undo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Redo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">q/w/e/r/t/y</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Highlight by Staff/Syllable/Neume/LayerElement/Selection/Off\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">1/2/3/4/5/6</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Select by Syllable/Neume/Neume Component/Staff/Layer Element/BBox\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Number</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Begin Insert for the <i>nth</i> Option in the Selected Tab\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">g</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Group/Ungroup Selected Element(s)\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- "Other" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Other</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">s</div>\n                </div>\n                <div class="hotkey-entry-description">Save File</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Esc</div>\n                </div>\n                <div class="hotkey-entry-description">Return to Edit Mode</div>\n            </div>\n        </div>\n    </div>',t.syllableActionsContent='\n  <div class="right-side-panel-btns-container">\n    <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n    <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n    <button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n  </div>\n',t.errorLogsPanelContents='<div class="panel-heading" id="errorLogHeading">\n        <div class="panel-heading-title">Error Log</div>\n        <svg class="icon">\n            <use id="toggleErrorLog" xlink:href="/Neon/Neon-gh//assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div class="panel-contents" id="errorLogContents" style="overflow: scroll; padding: 0.5em 0.75em; max-height: 300px;"><div>'},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";for(var i=n(11),r=[],s=0;s<256;++s)r.push((s+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!Object(i.a)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t,n){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayControls=t.loadHighlightSettings=t.updateDisplayAllBtn=t.updateHighlight=t.setHighlightSelectionControls=t.setHighlightControls=t.setHighlightOption=t.getHighlightType=t.setCircleSizeControls=t.setBgOpacityFromSlider=t.setGlyphOpacityFromSlider=t.setZoomControls=void 0;const i=n(18),r=n(3),s=n(7);let o,a,c;function l(e){const t=document.getElementById("opacityOutput");document.getElementById("opacitySlider").value=t.value,(0,r.setSettings)({glyphOpacity:Number(t.value)});const n=document.querySelector("#toggle-glyph-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show glyph")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide glyph"));try{document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=(Number(t.value)/100).toString()})}catch(e){console.warn("Unable to properly set opacity to pages")}}function u(e){const t=document.querySelector("#bgOpacityOutput");(0,r.setSettings)({imageOpacity:Number(t.value)});const n=document.querySelector("#toggle-bg-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show background image")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide background image"));const i=document.querySelector("."+e);i&&(i.style.opacity=String(Number(t.value)/100))}function d(e){const t=document.getElementById("highlight-"+e),n=document.getElementById("highlight-dropdown"),s=document.getElementById("highlight-type");if((0,r.setSettings)({highlightMode:e}),n.classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),"none"===e)return s.textContent="Â - Off",void i.unsetGroupingHighlight();t.classList.add("highlight-selected"),s.textContent="Â - "+(e[0].toUpperCase()+e.slice(1)),i.setGroupingHighlight(e)}function h(e){document.getElementById("highlight-"+e).addEventListener("click",()=>{d(e)})}function f(){document.body.removeEventListener("click",f),document.getElementById("highlight-dropdown").classList.remove("is-active")}function g(){const e=document.getElementById("highlight-dropdown");document.getElementById("highlight-button").addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("is-active"),e.classList.contains("is-active")?(document.body.addEventListener("click",f),h("column"),h("staff"),h("syllable"),h("neume"),h("layerElement"),h("none")):document.body.removeEventListener("click",f)})}function p(){const{highlightMode:e}=(0,r.getSettings)();d(e)}t.setZoomControls=function(e){if(void 0===e)return;const t=document.getElementById("zoomSlider"),n=document.getElementById("zoomOutput"),{zoom:i}=(0,r.getSettings)();t.value=String(i),n.value=String(i),e.zoomTo(i/100),document.getElementById("reset-zoom").addEventListener("click",()=>{n.value="100",t.value="100",e.resetZoomAndPan()}),document.querySelector("#set-zoom-easy-edit").addEventListener("click",()=>{n.value="180",t.value="180",e.zoomTo(1.8)}),t.addEventListener("mouseup",(function(){n.value=t.value,e.zoomTo(Number(n.value)/100)})),t.disabled=!1,document.body.addEventListener("keydown",i=>{const r=parseInt(n.value);if("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowRight"===i.key||"ArrowLeft"===i.key)i.preventDefault();else if("+"===i.key){const i=Math.min(r+20,parseInt(t.getAttribute("max")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else if("_"===i.key){const i=Math.max(r-20,parseInt(t.getAttribute("min")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else"0"===i.key&&(n.value="100",t.value="100",e.resetZoomAndPan())})},t.setGlyphOpacityFromSlider=l,t.setBgOpacityFromSlider=u,t.setCircleSizeControls=function(){const e=document.getElementById("circleSlider"),t=document.getElementById("circleOutput"),{circleSize:n}=(0,r.getSettings)();function i(){t.value=e.value,c=Number(e.value),(0,r.setSettings)({circleSize:Number(c)});const n=s.selectAll(".resizePoint");n.empty()||n.attr("r",c)}c=n,e.value=String(n),t.value=String(n),document.getElementById("reset-circle-size").addEventListener("click",()=>{const n=s.selectAll(".resizePoint");n.empty()||n.attr("r",25),c=Number(25),e.value=String(25),t.value=String(25),(0,r.setSettings)({circleSize:Number(25)}),i()}),e.addEventListener("input",i),e.addEventListener("change",i),e.disabled=!1},t.getHighlightType=function(){return document.getElementById("highlight-type").textContent.slice(3).toLowerCase()},t.setHighlightOption=h,t.setHighlightControls=g,t.setHighlightSelectionControls=function(){const e=document.getElementById("highlight-selection");e.addEventListener("click",()=>{document.getElementById("highlight-dropdown").classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),e.classList.add("highlight-selected"),document.getElementById("highlight-type").textContent=" - Selection",i.setGroupingHighlight("selection")})},t.updateHighlight=function(){let e;try{e=document.querySelector(".highlight-selected").id}catch(t){e=""}switch(e){case"highlight-column":i.setGroupingHighlight("column");break;case"highlight-staff":i.setGroupingHighlight("staff");break;case"highlight-syllable":i.setGroupingHighlight("syllable");break;case"highlight-neume":i.setGroupingHighlight("neume");break;case"highlight-layerElement":i.setGroupingHighlight("layerElement");break;case"highlight-selection":i.setGroupingHighlight("selection");break;default:i.unsetGroupingHighlight()}},t.updateDisplayAllBtn=function(){const e=document.getElementById("display-all-btn"),t=document.getElementById("displayInfo"),n=document.getElementById("displayBBox"),i=document.getElementById("displayText"),r=document.getElementById("display-errors");(null==t?void 0:t.checked)&&(null==n?void 0:n.checked)&&(null==i?void 0:i.checked)&&(null==r?void 0:r.checked)?(e.classList.add("selected"),e.innerHTML="Hide All"):e.classList.contains("selected")&&(e.classList.remove("selected"),e.innerHTML="Display All")},t.loadHighlightSettings=p,t.initDisplayControls=function(e,t){!function(e){const t=document.getElementById("opacitySlider"),n=document.getElementById("opacityOutput"),{glyphOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,o=Number(t.value),l(e)}o=i,t.value=String(i),n.value=String(i);const a=document.getElementById("toggle-glyph-opacity");100==i&&a.classList.add("hide-icon"),null==a||a.addEventListener("click",()=>{let i;a.classList.contains("hide-icon")?(a.classList.remove("hide-icon"),i=0):(a.classList.add("hide-icon"),i=1),document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=i.toString()}),o=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({glyphOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(e),function(e){const t=document.getElementById("bgOpacitySlider"),n=document.getElementById("bgOpacityOutput"),{imageOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,a=Number(t.value),u(e)}a=i,t.value=String(i),n.value=String(i);const o=document.getElementById("toggle-bg-opacity");100==i&&o.classList.add("hide-icon"),o.addEventListener("click",()=>{let i;o.classList.contains("hide-icon")?(o.classList.remove("hide-icon"),i=0):(o.classList.add("hide-icon"),i=1),document.getElementsByClassName(e)[0].style.opacity=i.toString(),a=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({imageOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(t),g(),document.getElementById("burgerMenu").addEventListener("click",()=>{document.getElementById("burgerMenu").classList.toggle("is-active"),document.getElementById("navMenu").classList.toggle("is-active")}),document.body.addEventListener("keydown",e=>{if(!e.metaKey)switch(e.key){case"q":d("staff");break;case"w":d("syllable");break;case"e":d("neume");break;case"r":d("layerElement");break;case"t":d("selection");break;case"y":d("none")}}),function(){const e=document.querySelector("#display-all-btn");e.addEventListener("click",()=>{if(e.classList.contains("selected")){e.classList.remove("selected"),e.innerHTML="Display All";const t=document.querySelectorAll('.checkbox-container:not([style*="display: none;"]) > .checkbox');Array.from(t).forEach(e=>{e.checked&&e.click()})}else{e.classList.add("selected"),e.innerHTML="Hide All";const t=document.querySelectorAll('.checkbox-container:not([style*="display: none;"]) > .checkbox');Array.from(t).forEach(e=>{e.checked||e.click()})}})}(),p();const n=document.getElementById("displayContents"),i=document.getElementById("toggleDisplay");document.getElementById("displayHeader").addEventListener("click",e=>{e.stopPropagation(),n.classList.contains("closed")?(n.classList.remove("closed"),n.style.padding="0.5em 0.75em",setTimeout(()=>{n.style.overflow="visible"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(n.classList.add("closed"),n.style.overflow="hidden",setTimeout(()=>{n.style.padding="0px"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=t.ModalWindowView=void 0;const i=n(8),r=n(33),s=n(4);var o,a;!function(e){e[e.EDIT_TEXT=0]="EDIT_TEXT",e[e.HOTKEYS=1]="HOTKEYS",e[e.ERROR_LOG=2]="ERROR_LOG",e[e.DOCUMENT_UPLOAD=3]="DOCUMENT_UPLOAD",e[e.MOVE_TO=4]="MOVE_TO",e[e.NEW_FOLDER=5]="NEW_FOLDER",e[e.RENAME=6]="RENAME"}(o=t.ModalWindowView||(t.ModalWindowView={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED"}(a||(a={}));t.ModalWindow=class{constructor(e){this.openEditSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-save").removeEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-save").addEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.updateSylText=function(){const e=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0],t=e.textContent.replace(/\u{25CA}/u,"").trim(),n=document.getElementById("neon-modal-window-edit-text-input").value;if(null!==n&&n!==t){const t={action:"setText",param:{elementId:[...e.classList.entries()].filter(e=>"text-select"!==e[1]&&"selected-to-edit"!==e[1])[0][1],text:n}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(t=>{t&&this.neonView.updateForCurrentPage().then(()=>{this.updateSelectedBBox(e,this.dragHandler,this.neonView)})})}else this.updateSelectedBBox(e,this.dragHandler,this.neonView);this.hideModalWindow()},this.keydownListener=function(e){switch(e.stopImmediatePropagation(),this.modalWindowView){case o.EDIT_TEXT:"Enter"===e.key&&this.updateSylText();default:"Escape"===e.key&&this.hideModalWindow()}},this.focusModalWindow=function(){switch(this.modalWindowView){case o.EDIT_TEXT:document.getElementById("neon-modal-window-edit-text-input").select();break;case o.DOCUMENT_UPLOAD:case o.NEW_FOLDER:case o.RENAME:break;default:document.getElementById("neon-modal-window").focus()}},this.neonView=e,this.modalWindowState=a.CLOSED,this.setupEventListeners()}setupEventListeners(){document.getElementById("neon-modal-window-header-close").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").addEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").addEventListener("click",this.focusModalWindow.bind(this))}removeEventListeners(){document.getElementById("neon-modal-window-header-close").removeEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").removeEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").removeEventListener("click",this.focusModalWindow.bind(this))}setModalWindowView(e,t){this.modalWindowView=e,this.setModalWindowContent(t)}getModalWindowView(){return this.modalWindowView.toString()}openModalWindow(){switch(Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),this.modalWindowView){case o.EDIT_TEXT:this.openEditSylTextModalWindow();break;case o.HOTKEYS:document.getElementById("neon-modal-window-content-hotkeys").classList.add("visible");case o.DOCUMENT_UPLOAD:case o.MOVE_TO:case o.NEW_FOLDER:case o.RENAME:default:document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()}document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",this.modalWindowState=a.OPEN}hideModalWindow(){switch(this.modalWindowView){case o.EDIT_TEXT:document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].classList.remove("selected-to-edit");break;case o.DOCUMENT_UPLOAD:case o.MOVE_TO:case o.NEW_FOLDER:case o.RENAME:document.getElementById("neon-modal-window-content-container").innerHTML=""}document.getElementById("neon-modal-window-container").style.display="none",document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",this.modalWindowState=a.CLOSED,this.removeEventListeners()}setModalWindowContent(e){const t=document.getElementById("neon-modal-window-content-container"),n=document.getElementById("neon-modal-window-header-title");switch(this.modalWindowView){case o.EDIT_TEXT:t.innerHTML=i.editTextModal,n.innerText="EDIT SYLLABLE TEXT";const s=/\u{25CA}/u,a=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].textContent.replace(s,"").trim();document.getElementById("neon-modal-window-edit-text-input").value=a;break;case o.HOTKEYS:t.innerHTML=i.hotkeysModal,n.innerText="HOTKEYS";break;case o.ERROR_LOG:t.innerHTML=`<div style="margin-bottom: 30px;white-space: pre-line;">${e}</div>\n          <div class="neon-modal-window-btn">\n            <a href="data:text/plain;charset=utf-8,${encodeURI(e)}" download="error.log">\n              Export\n            </a>\n            </div>`,n.innerText="ERROR LOG";break;case o.DOCUMENT_UPLOAD:n.innerText="DOCUMENT UPLOAD",t.innerHTML=r.uploadAreaHTML;break;case o.MOVE_TO:n.innerText="MOVE TO";break;case o.NEW_FOLDER:n.innerText="NEW FOLDER",t.innerHTML=r.newFolderHTML;break;case o.RENAME:n.innerText="RENAME",t.innerHTML=r.renameHTML;break;default:console.error("Unknown selection type. This should not have occurred.")}}updateSelectedBBox(e,t,n){(0,s.unselect)();const i=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(i)){const e=document.getElementById(i).querySelector(".sylTextRect-display");(0,s.selectBBox)(e,t,n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDefaultActions=t.triggerDefaultSylActions=t.triggerBBoxActions=t.triggerSingleStaffActions=t.triggerStaffSplitMode=t.triggerMultiStaffActions=t.triggerLayerElementActions=t.triggerSyllableActions=t.triggerNeumeActions=t.triggerNcActions=t.addChangeStaffListener=t.matchHeightHandler=t.moveOutsideSyllableHandler=t.insertToSyllableHandler=t.changeStaffHandler=t.removeHandler=t.endOptionsSelection=t.deleteButtonHandler=t.unsetLiquescentAnticlockwiseAction=t.unsetLiquescentClockwiseAction=t.unsetVirgaReversedAction=t.unsetVirgaAction=t.unsetInclinatumAction=t.initNeonView=void 0;const i=n(8),r=n(24),s=n(5),o=n(35),a=n(36),c=n(4);let l;function u(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function d(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function h(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function f(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function g(e){return{action:"setLiquescent",param:{elementId:e,curve:""}}}function p(e){"d"!==e.key&&"Backspace"!==e.key||(v(),e.preventDefault())}function m(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden")),document.body.removeEventListener("keydown",p)}function v(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{t.classList.contains("syl")&&(t=t.closest(".syllable")),t.classList.contains("accid")&&(t=t.closest(".accid")),t.classList.contains("divLine")&&(t=t.closest(".divLine")),e.push({action:"remove",param:{elementId:t.id}})});const t={action:"chain",param:e};m(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function y(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"changeStaff",param:{elementId:t.id}})});const t={action:"chain",param:e};m(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function b(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"insertToSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Insert Success","success"):s.default.queueNotification("Insert Failed XoX","error"),m(),l.updateForCurrentPage()})}function w(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"moveOutsideSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Move Success","success"):s.default.queueNotification("Move Failed XoX","error"),m(),l.updateForCurrentPage()})}function _(){const e=Array.from(document.getElementsByClassName("selected"));e.length>1&&s.default.queueNotification("Cannot match height to multiple bbox","error");const t={action:"matchHeight",param:{elementId:e[0].id}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Height Match Success","success"):s.default.queueNotification("Height Match Failed XoX","error"),m(),l.updateForCurrentPage()})}function E(){const e=document.getElementById("delete");e&&(e.removeEventListener("click",v),e.addEventListener("click",v),document.body.addEventListener("keydown",p))}function S(){const e=document.getElementById("changeStaff");null==e||e.removeEventListener("click",y),null==e||e.addEventListener("click",y)}function x(){const e=document.getElementById("col-input"),t=document.querySelectorAll(".staff.selected");let n;for(const e of t){const t=Array.from(e.classList).join(" ").match(/\bcolumn(\d+)\b/);if(t){const e=parseInt(t[1],10);if(n&&n!=e){document.getElementById("col-warning").innerText="The selected staves are not of the same column!",n=0;break}n=e}}n&&(e.value=n.toString())}function L(){const e=document.getElementById("col-decrement"),t=document.getElementById("col-increment"),n=document.getElementById("col-confirm"),i=document.getElementById("col-input");function r(e){let t=parseInt(i.value,10)||0;t+=e,t=Math.min(Math.max(t,1),5),t.toString()!=i.value&&(n.style.display=""),i.value=t.toString()}e.addEventListener("click",(function(){r(-1)})),t.addEventListener("click",(function(){r(1)})),n.addEventListener("click",(function(){const e=[];document.querySelectorAll(".staff.selected").forEach(t=>{e.push({action:"set",param:{elementId:t.id,attrType:"type",attrValue:"column"+i.value}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Column Value Update Success","success"):s.default.queueNotification("Column Value Update Failed XoX","error"),m(),l.updateForCurrentPage()})}))}function A(e,t,n=!0){const i=document.getElementById(e);i&&(i.parentElement.classList.remove("hidden"),n?i.innerHTML=t:i.innerHTML+=t)}function k(e){l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}function C(){const e=document.querySelector(".staff.selected");if(null!==e){new o.SplitStaffHandler(l,e).startSplit(),m()}else console.error("No staff was selected!"),m()}function I(){document.querySelectorAll(".drop_select").forEach(e=>{const t=()=>{document.body.removeEventListener("click",t),e.classList.remove("is-active")};e.addEventListener("click",n=>{e.classList.toggle("is-active"),Array.from(document.querySelectorAll(".drop_select")).filter(t=>t!==e).forEach(e=>e.classList.remove("is-active")),n.stopPropagation(),e.classList.contains("is-active")?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)})})}t.initNeonView=function(e){l=e,r.initNeonView(e)},t.unsetInclinatumAction=u,t.unsetVirgaAction=d,t.unsetVirgaReversedAction=h,t.unsetLiquescentClockwiseAction=f,t.unsetLiquescentAnticlockwiseAction=g,t.deleteButtonHandler=p,t.endOptionsSelection=m,t.removeHandler=v,t.changeStaffHandler=y,t.insertToSyllableHandler=b,t.moveOutsideSyllableHandler=w,t.matchHeightHandler=_,t.addChangeStaffListener=S,t.triggerNcActions=function(e){m(),A("moreEdit",i.defaultActionContents),A("extraEdit",i.ncActionContents),E(),document.querySelector("#Punctum.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=f(e.id),o=g(e.id);l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#Inclinatum.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=h(e.id),i=f(e.id),r=g(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"se"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#Virga.dropdown-item").addEventListener("click",()=>{const t=h(e.id),n=u(e.id),i=f(e.id),r=g(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"s"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#VirgaReversed.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=g(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"n"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentClockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=g(e.id),o={action:"setLiquescent",param:{elementId:e.id,curve:"c"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentAnticlockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=f(e.id),o={action:"setLiquescent",param:{elementId:e.id,curve:"a"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),m(),l.updateForCurrentPage()})}),I()},t.triggerNeumeActions=function(){m(),A("moreEdit",i.defaultNeumeActionContents),A("extraEdit",i.neumeActionContents),E();const e=document.querySelectorAll(".selected");function t(t){const n={action:"changeGroup",param:{elementId:e[0].id,contour:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Grouping Changed","success"):s.default.queueNotification("Grouping Failed","error"),m(),l.updateForCurrentPage()})}1===e.length?(document.getElementById("split-neume").addEventListener("click",()=>{const e=document.querySelector(".neume.selected");if(null!==e){new a.SplitNeumeHandler(l,e).startSplit(),m()}else console.error("No staff was selected!"),m()}),document.querySelector("#Pes.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PesSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Clivis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Scandicus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Climacus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ClimacusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Torculus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#TorculusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Porrectus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Pressus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),I()):console.warn("More than one neume selected! Cannot trigger Neume ClickSelect actions.")},t.triggerSyllableActions=function(e){m(),A("moreEdit",i.syllableActionsContent);let t="";switch(e){case"singleSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"linkableSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"multiSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"default":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>'}A("moreEdit",t,!0),S(),E(),r.initGroupingListeners()},t.triggerLayerElementActions=function(e){var t,n,r,o;if(m(),e.classList.contains("custos"))return A("moreEdit",i.custosActionContents),S(),void E();A("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),e.classList.contains("accid")?(A("extraEdit",i.accidActionContents),function(e){document.querySelector("#ChangeToFlat.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"f"}})}),document.querySelector("#ChangeToNatural.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"n"}})}),I()}(e)):e.classList.contains("clef")?(A("extraEdit",i.clefActionContents),function(e){document.querySelector("#increment-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"above"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Clef octave incremented.","success"):s.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#decrement-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"below"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Clef octave decremented.","success"):s.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),m(),l.updateForCurrentPage()})}),document.querySelector("#CClef.dropdown-item").addEventListener("click",()=>{k({action:"setClef",param:{elementId:e.id,shape:"C"}})}),document.querySelector("#FClef.dropdown-item").addEventListener("click",()=>{k({action:"setClef",param:{elementId:e.id,shape:"F"}})}),I()}(e)):e.classList.contains("divLine")&&(A("extraEdit",i.divLineActionContents),function(e){document.querySelector("#ChangeToMinima.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"minima"}})}),document.querySelector("#ChangeToMaior.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maior"}})}),document.querySelector("#ChangeToMaxima.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maxima"}})}),document.querySelector("#ChangeToFinalis.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"finalis"}})}),document.querySelector("#ChangeToCaesura.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"caesura"}})}),document.querySelector("#ChangeToVirgula.dropdown-item").addEventListener("click",()=>{k({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"virgula"}})}),I()}(e)),S(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",w),E(),S(),null===(r=document.getElementById("insertToSyllable"))||void 0===r||r.addEventListener("click",b),null===(o=document.getElementById("moveOutsideSyllable"))||void 0===o||o.addEventListener("click",w)},t.triggerMultiStaffActions=function(){m(),A("moreEdit",i.staffMergeActionContents),A("extraEdit",i.columnActionContents),E(),x(),L(),document.getElementById("merge-systems").addEventListener("click",()=>{r.mergeStaves()})},t.triggerStaffSplitMode=C,t.triggerSingleStaffActions=function(){m(),A("moreEdit",i.staffSplitActionContents),A("extraEdit",i.columnActionContents),E(),x(),L(),document.getElementById("split-system").addEventListener("click",()=>{C()}),document.getElementById("reset-rotate").addEventListener("click",()=>{const e=document.querySelector(".staff.selected"),t=(0,c.getStaffBBox)(e),n=Math.tan(t.rotate)*(t.lrx-t.ulx);if(null!==e){const i={action:"resizeRotate",param:{elementId:e.id,ulx:t.ulx,uly:t.rotate>0?t.uly+n/2:t.uly-n/2,lrx:t.lrx,lry:t.rotate>0?t.lry-n/2:t.lry+n/2,rotate:0}};l.edit(i,l.view.getCurrentPageURI()).then(async e=>{e&&await l.updateForCurrentPage()}),m()}else console.error("No staff was selected"),m()})},t.triggerBBoxActions=function(){m(),A("moreEdit",i.bboxActionContents),E(),document.getElementById("matchHeight").addEventListener("click",()=>{_()})},t.triggerDefaultSylActions=function(){m(),A("moreEdit",i.defaultSylActionContents),E(),S()},t.triggerDefaultActions=function(){m(),A("moreEdit",i.defaultActionContents),E()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlyphBBox=t.isOutOfSVGBounds=t.getStaffByCoords=t.getStaffIdByCoords=t.getSVGRelCoords=void 0;const i=n(4);function r(e,t){const n=new DOMPoint(e,t),i=document.querySelector(".active-page > .definition-scale").querySelector(".page-margin"),{x:r,y:s}=n.matrixTransform(i.getScreenCTM().inverse());return{x:r,y:s}}function s(e,t){const n=Array.from(document.querySelectorAll(".staff")).map(e=>(0,i.getStaffBBox)(e)),{x:s,y:o}=r(e,t),a=n.find(e=>s<=e.lrx&&s>=e.ulx&&o<=e.lry&&o>=e.uly);return a?a.id:null}t.getSVGRelCoords=r,t.getStaffIdByCoords=s,t.getStaffByCoords=function(e,t){const n=s(e,t);return document.querySelector("#"+n)},t.isOutOfSVGBounds=function(e,t){const n=document.querySelector("#bgimg");return e<=0||e>=Number(n.getAttribute("width"))||t<=0||t>=Number(n.getAttribute("height"))},t.getGlyphBBox=function(e){const t="rect"==e.tagName?e.getBBox():e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],s=e[3];i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&i)+t[2]+606105819|0)<<17|r>>>15)+s|0)&s|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&i)+t[6]-1473231341|0)<<17|r>>>15)+s|0)&s|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&i)+t[10]-42063|0)<<17|r>>>15)+s|0)&s|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&i)+t[14]-1502002290|0)<<17|r>>>15)+s|0)&s|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|s>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+s|0)&n|s&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|s>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+s|0)&n|s&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|s>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+s|0)&n|s&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|s>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+s|0)&n|s&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|s>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+s|0)^s^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|s>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+s|0)^s^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|s>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+s|0)^s^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|s>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+s|0)^s^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[14]-1416354905|0)<<15|r>>>17)+s|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[10]-1051523|0)<<15|r>>>17)+s|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[6]-1560198380|0)<<15|r>>>17)+s|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[2]+718787259|0)<<15|r>>>17)+s|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=s+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function s(e){var t,r,s,o,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,s[14]=a,s[15]=c,n(u,s),u}function o(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return a(s("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,s,o,a,c=this.byteLength,l=t(n,c),u=c;return i!==e&&(u=t(i,c)),l>u?new ArrayBuffer(0):(r=u-l,s=new ArrayBuffer(r),o=new Uint8Array(s),a=new Uint8Array(this,l,r),o.set(a),s)}}(),u.prototype.append=function(e){return this.appendBinary(c(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var i,r,s,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,e),o=0;o<16;o+=1)e[o]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),s=parseInt(i[1],16)||0,e[14]=r,e[15]=s,n(this._hash,e)},u.hash=function(e,t){return u.hashBinary(c(e),t)},u.hashBinary=function(e,t){var n=a(s(e));return t?l(n):n},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,i,s,o,a,c=(i=this._buff.buffer,s=e,o=!0,(a=new Uint8Array(i.byteLength+s.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(s),i.byteLength),o?a:a.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)n(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i[t]<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),s=new Uint8Array(r);for(n=0;n<i;n+=1)s[n]=e.charCodeAt(n);return t?s:r}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,s,o,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,r(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),i=e.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)s[t>>2]|=e[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,s[14]=a,s[15]=c,n(u,s),u}(new Uint8Array(e)));return t?l(i):i},u}()},function(e,t,n){"use strict";function i(e){if(16!==e.length)return"";function t(e,t){return e+t.toString(16).padStart(2,"0")}return e.slice(0,4).reduce(t,"")+"-"+e.slice(4,6).reduce(t,"")+"-"+e.slice(6,8).reduce(t,"")+"-"+e.slice(8,10).reduce(t,"")+"-"+e.slice(10).reduce(t,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){if(void 0===window.crypto)return i(new Uint8Array(16));const e=new Uint8Array(16),t=Uint8Array.from([parseInt("01000000",2),parseInt("10000000",2),parseInt("00001111",2),parseInt("00111111",2)]);return window.crypto.getRandomValues(e),e[6]=e[6]&t[2]|t[0],e[8]=e[8]&t[3]|t[1],i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupingHighlight=t.setStaffHighlight=t.highlight=t.unsetGroupingHighlight=t.unsetStaffHighlight=t.unhighlight=void 0;const i=["rgb(230, 159, 0)","rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(240, 228, 66)","rgb(0, 114, 178)","rgb(213, 94, 0)","rgb(204, 121, 167)"];function r(e){let t;t=e?e.querySelectorAll(":not(.selected) .highlighted"):document.querySelectorAll(":not(.selected) .highlighted"),t.forEach(e=>{if("path"!==e.tagName||e.closest(".staff").classList.contains("selected"))if(e.classList.contains("divLine")&&!e.closest(".staff").classList.contains("selected"))e.setAttribute("stroke","#000000");else{e.removeAttribute("fill");let t=e.querySelectorAll(".sylTextRect-display");if(!t.length)try{t=e.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(e){t=[]}t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")}))}else e.setAttribute("stroke","#000000");e.classList.remove("highlighted")})}function s(){r()}function o(){s();Array.from(document.getElementsByClassName("highlighted")).filter(e=>!e.parentElement.classList.contains("selected")).forEach(e=>{e.setAttribute("#d00",null);let t=e.querySelectorAll(".sylTextRect-display");t.length||null!==e.closest(".syllable")&&(t=e.closest(".syllable").querySelectorAll("sylTextRect-display")),t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")})),e.classList.remove("highlighted"),e.querySelectorAll("sylTextRect-display").forEach(e=>{e.classList.remove("highlighted")})}),Array.from(document.getElementsByClassName("selected")).forEach(e=>{e.setAttribute("fill","")})}function a(e,t){const n=Array.from(e.children);for(let e=0;e<n.length;e++){const i=n[e];if("path"===i.tagName)i.setAttribute("stroke",t);else if(i.classList.contains("divLine"))i.setAttribute("stroke",t),i.setAttribute("stroke-width","30px");else if(i.querySelectorAll(".divLine").length&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.querySelectorAll(".divLine")).forEach(e=>{n.push(e)});else{if(i.classList.contains("resizePoint")||"resizeRect"===i.id||i.classList.contains("rotatePoint"))return;if(i.classList.contains("layer"))Array.from(i.children).forEach(e=>{n.push(e)});else if(document.getElementsByClassName("highlight-selected").length&&"highlight-neume"===document.getElementsByClassName("highlight-selected")[0].id&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.classList.contains("neume")).forEach(e=>{n.push(e)});else{i.setAttribute("fill",t);let e=i.querySelectorAll(".sylTextRect-display");if(!e.length)try{e=i.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(t){e=[]}e.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t,e.classList.add("highlighted"))}))}}i.classList.add("highlighted")}let i;i="30px",e.querySelectorAll(".nc, .custos, .clef, .accid").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width",i)})}function c(){const e=Array.from(document.getElementsByClassName("staff"));for(let t=0;t<e.length;t++){const n=i[t%i.length];a(e[t],n)}}t.unhighlight=r,t.unsetStaffHighlight=s,t.unsetGroupingHighlight=o,t.highlight=a,t.setStaffHighlight=c,t.setGroupingHighlight=function e(t){if(o(),"staff"===t)return void c();if("column"===t)return void function(){const e={};document.querySelectorAll(".staff").forEach(t=>{const n=Array.from(t.classList).join(" ").match(/\bcolumn(\d+)\b/);let i=0;n&&(i=parseInt(n[1],10)-1),e[i]||(e[i]=[]),e[i].push(t)});for(const[t,n]of Object.entries(e)){const e=i[Number(t)%i.length];for(const t of n)a(t,e)}}();if("selection"===t){switch(document.querySelector(".sel-by.is-active").id){case"selBySyllable":case"selByBBox":t="syllable";break;case"selByColumn":t="column";break;case"selByStaff":t="staff";break;case"selByLayerElement":t="layerElement";break;case"selByNeume":default:t="neume"}return void e(t)}let n;n="layerElement"==t?document.querySelectorAll(".accid, .clef, .custos, .divLine"):document.getElementsByClassName(t),document.querySelectorAll(".nc, .custos, .clef, .accid, .divLine").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")});for(let e=0;e<n.length;e++){const t=i[e%i.length];if(null!==n[e].closest(".selected")||n[e].classList.contains("selected"))n[e].classList.contains("selected")?n[e].setAttribute("fill","#d00"):n[e].setAttribute("fill",null),n[e].classList.remove("highlighted");else{n[e].setAttribute("fill",t);n[e].querySelectorAll(".sylTextRect-display").forEach((function(e){e.closest(".syl").classList.contains("selected")||e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t)})),n[e].classList.add("highlighted"),n[e].querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("highlighted")})}const r=n[e].querySelectorAll(".divLine");if(r)for(let e=0;e<r.length;e++)r[e].setAttribute("stroke",t),r[e].setAttribute("stroke-width","30px")}}},function(e,t,n){"use strict";var i=n(43),r=t.ValidationError=function(e,t,n,i,r,s){if(Array.isArray(i)?(this.path=i,this.property=i.reduce((function(e,t){return e+d(t)}),"instance")):void 0!==i&&(this.property=i),e&&(this.message=e),n){var o=n.$id||n.id;this.schema=o||n}void 0!==t&&(this.instance=t),this.name=r,this.argument=s,this.stack=this.toString()};r.prototype.toString=function(){return this.property+" "+this.message};var s=t.ValidatorResult=function(e,t,n,i){this.instance=e,this.schema=t,this.options=n,this.path=i.path,this.propertyPath=i.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&!0===n.disableFormat};function o(e,t){return t+": "+e.toString()+"\n"}function a(e){Error.captureStackTrace&&Error.captureStackTrace(this,a),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}s.prototype.addError=function(e){var t;if("string"==typeof e)t=new r(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new r(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new a(this);if(this.throwError)throw t;return t},s.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))},s.prototype.toString=function(e){return this.errors.map(o).join("")},Object.defineProperty(s.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=a,a.prototype=new Error,a.prototype.constructor=a,a.prototype.name="Validation Error";var c=t.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};c.prototype=Object.create(Error.prototype,{constructor:{value:c,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var l=t.SchemaContext=function(e,t,n,i,r){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce((function(e,t){return e+d(t)}),"instance")):this.propertyPath=n,this.base=i,this.schemas=r};l.prototype.resolve=function(e){return i.resolve(this.base,e)},l.prototype.makeChild=function(e,t){var n=void 0===t?this.path:this.path.concat([t]),r=e.$id||e.id,s=i.resolve(this.base,r||""),o=new l(e,this.options,n,s,Object.create(this.schemas));return r&&!o.schemas[s]&&(o.schemas[s]=e),o};var u=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],t.isFormat=function(e,t,n){if("string"==typeof e&&void 0!==u[t]){if(u[t]instanceof RegExp)return u[t].test(e);if("function"==typeof u[t])return u[t](e)}else if(n&&n.customFormats&&"function"==typeof n.customFormats[t])return n.customFormats[t](e);return!0};var d=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function h(e,t,n,i){"object"==typeof n?t[i]=p(e[i],n):-1===e.indexOf(n)&&t.push(n)}function f(e,t,n){t[n]=e[n]}function g(e,t,n,i){"object"==typeof t[i]&&t[i]&&e[i]?n[i]=p(e[i],t[i]):n[i]=t[i]}function p(e,t){var n=Array.isArray(t),i=n&&[]||{};return n?(e=e||[],i=i.concat(e),t.forEach(h.bind(null,e,i))):(e&&"object"==typeof e&&Object.keys(e).forEach(f.bind(null,e,i)),Object.keys(t).forEach(g.bind(null,e,t,i))),i}function m(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,n){if(typeof t!=typeof n)return!1;if(Array.isArray(t))return!!Array.isArray(n)&&(t.length===n.length&&t.every((function(i,r){return e(t[r],n[r])})));if("object"==typeof t){if(!t||!n)return t===n;var i=Object.keys(t),r=Object.keys(n);return i.length===r.length&&i.every((function(i){return e(t[i],n[i])}))}return t===n},e.exports.deepMerge=p,t.objectGetPath=function(e,t){for(var n,i=t.split("/").slice(1);"string"==typeof(n=i.shift());){var r=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(r in e))return;e=e[r]}return e},t.encodePath=function(e){return e.map(m).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var i=n[0].split(".");return 2===i.length&&(t+=i[1].length),t},t.isSchema=function(e){return"object"==typeof e&&e||"boolean"==typeof e}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return s}));var r=new Uint8Array(16);function s(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},function(e,t,n){"use strict";function i(e,t,n){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,s=i.index;if(Array.isArray(r))r.push(e);else if(s===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,i,r,s,o,a,c,l,u,d,h="";n=t.pop();)if(i=n.obj,h+=n.prefix||"",r=n.val||"")h+=r;else if("object"!=typeof i)h+=void 0===i?null:JSON.stringify(i);else if(null===i)h+="null";else if(Array.isArray(i)){for(t.push({val:"]"}),s=i.length-1;s>=0;s--)o=0===s?"":",",t.push({obj:i[s],prefix:o});t.push({val:"["})}else{for(c in a=[],i)i.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),s=a.length-1;s>=0;s--)u=i[l=a[s]],d=s>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:u,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,n,r,s,o,a,c,l,u,d=[],h=[],f=0;;)if("}"!==(t=e[f++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":f+=3,i(null,d,h);break;case"t":f+=3,i(!0,d,h);break;case"f":f+=4,i(!1,d,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",f--;;){if(r=e[f++],!/[\d\.\-e\+]/.test(r)){f--;break}n+=r}i(parseFloat(n),d,h);break;case'"':for(s="",o=void 0,a=0;'"'!==(c=e[f++])||"\\"===o&&a%2==1;)s+=c,"\\"===(o=c)?a++:a=0;i(JSON.parse('"'+s+'"'),d,h);break;case"[":l={element:[],index:d.length},d.push(l.element),h.push(l);break;case"{":u={element:{},index:d.length},d.push(u.element),h.push(u);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();i(d.pop(),d,h)}}},function(e,t,n){"use strict";var i=n(20),r=n(10);t.a=function(e,t,n){var s=(e=e||{}).random||(e.rng||i.a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=s[o];return t}return Object(r.a)(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(7),r=n(15),s=n(5),o=n(4);t.default=class{constructor(e,t){this.dragStartCoords=[-1,-1],this.neonView=e,this.selector=t}dragInit(){const e=i.drag().on("start",function(){this.dragStartCoords=[i.event.x,i.event.y],this.dx=0,this.dy=0,i.event.sourceEvent.target.classList.contains("staff")&&i.select(this.selector).call(e)}.bind(this)).on("drag",this.dragging.bind(this)).on("end",this.dragEnded.bind(this));i.selectAll(".selected").call(e);let t=Array.from(document.querySelectorAll(".selected"));this.noMovePrecedes=t.filter(e=>e.classList.contains("no-moving")&&e.hasAttribute("mei:precedes")),t=t.filter(e=>!e.classList.contains("no-moving")),this.selection=t.concat(Array.from(document.querySelectorAll(".resizePoint")))}dragging(){this.dx=i.event.x-this.dragStartCoords[0],this.dy=i.event.y-this.dragStartCoords[1],this.moveElements(this.selection,this.dx,this.dy);if(0===this.selection.filter(e=>e.classList.contains("syl")).length&&0===this.noMovePrecedes.length){const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));this.moveElements(e,-this.dx,-this.dy)}}dragEnded(){const e=Math.abs(this.dx),t=Math.abs(this.dy);if(e<=5&&t<=5)return this.reset(),void this.dragInit();const n=this.selection.filter(e=>!e.classList.contains("resizePoint"));if(this.isCursorOutOfBounds()||this.isDragOutOfBounds(n)){this.returnElements(this.selection);const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));return this.returnElements(e),this.reset(),this.dragInit(),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Drag action failed.","error")}const i=[];n.forEach(e=>{const t={action:"drag",param:{elementId:"rect"===e.tagName?e.closest(".syl").id:e.id,x:this.dx,y:-this.dy}};i.push(t)});const r={action:"chain",param:i};this.neonView.edit(r,this.neonView.view.getCurrentPageURI()).then(async()=>{const e=Array.from(document.querySelectorAll(".selected")).filter(e=>!e.classList.contains("no-moving")).map(e=>e.id);await this.neonView.updateForCurrentPage(),this.endOptionsSelection(),this.reset(),await this.reselect(e),this.dragInit()})}async reselect(e){const t=e.map(e=>document.querySelector("#"+e));t.filter(e=>!e.classList.contains("syl")).forEach(async()=>await(0,o.selectAll)(t,this.neonView,this)),t.filter(e=>e.classList.contains("syl")).forEach(e=>(0,o.selectBBox)(e.querySelector(".sylTextRect-display"),this,this.neonView)),t.filter(e=>e.classList.contains("staff")).forEach(e=>(0,o.selectStaff)(e,this))}resetTo(e){this.resetToAction=e}reset(){void 0!==this.resetToAction&&i.select(this.selector).call(this.resetToAction)}endOptionsSelection(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}moveElements(e,t,n){e.filter(e=>null!==e).forEach(e=>{e.setAttribute("transform",`translate(${t},${n})`)})}returnElements(e){e.filter(e=>null!==e).forEach(e=>{e.removeAttribute("transform")})}isCursorOutOfBounds(){const e=this.dragStartCoords[0]+this.dx,t=this.dragStartCoords[1]+this.dy;return(0,r.isOutOfSVGBounds)(e,t)}isDragOutOfBounds(e){let t=document.querySelector("#displayBBox").checked?"use, rect":"use";e[0].classList.contains("staff")&&(t="path");const n=e.reduce((e,n)=>e.concat(...n.querySelectorAll(t)),[]).map(r.getGlyphBBox).reduce((e,t)=>({ulx:Math.min(e.ulx,t.ulx),uly:Math.min(e.uly,t.uly),lrx:Math.max(e.lrx,t.lrx),lry:Math.max(e.lry,t.lry)}),{ulx:Number.MAX_VALUE,uly:Number.MAX_VALUE,lrx:Number.MIN_VALUE,lry:Number.MIN_VALUE}),{ulx:i,uly:s,lrx:o,lry:a}=n;return(0,r.isOutOfSVGBounds)(i+this.dx,s+this.dy)||(0,r.isOutOfSVGBounds)(o+this.dx,a+this.dy)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupingListeners=t.endGroupingSelection=t.triggerGrouping=t.mergeStaves=t.isLinkable=t.canBeLinked=t.isLinked=t.isGroupable=t.initNeonView=void 0;const i=n(8),r=n(34),s=n(5),o=n(4),a=n(14),c=n(14);let l;function u(e,t){if(Array.from(t.values()).length<2)return!1;switch(e){case"selByNeume":if(o.sharedLogicalParent(e,t))return!1;default:return!!o.areAdjacent(e,t)}}function d(e,t){switch(t||(t=Array.from(document.querySelectorAll(".selected"))),e){case"selBySyllable":for(const e of t)if(e.hasAttribute("mei:follows")||e.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNeume":for(const e of t)if(e.parentElement.hasAttribute("mei:follows")||e.parentElement.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNc":for(const e of t)if(e.parentElement.parentElement.hasAttribute("mei:follows")||e.parentElement.parentElement.hasAttribute("mei:precedes"))return s.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1}}function h(e){for(const t of e)if(!t.hasAttribute("mei:precedes")&&!t.hasAttribute("mei:follows"))return!1;return!0}function f(e){e.sort((e,t)=>{const n=e.closest(".staff"),i=t.closest(".staff");return n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1});const t=Array.from(document.querySelectorAll(".staff")),n=Array.from(document.querySelectorAll(".syllable"));for(let i=0;i<e.length-1;i++){const r=e[i],s=e[i+1],o=n.indexOf(r);if(n.indexOf(s)-o!=1)return!1;const a=r.closest(".staff"),c=s.closest(".staff"),l=t.indexOf(a);if(t.indexOf(c)-l!=1)return!1}if(2===e.length)return e.every(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));const i=e.filter(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));if(1!==i.length)return!1;const r=i[0];return 0===e.indexOf(r)||e.indexOf(r)===e.length-1}function g(e,t){return!(t.length<2)&&("selBySyllable"===e&&(function(e){for(let t=0;t<e.length;t++){const n=e.at(t);if(n.hasAttribute("mei:precedes")){const i=n.getAttribute("mei:precedes").replace("#","");let r;const s=e.find((e,t)=>e.id===i&&(r=t,!0));if(!s)return!0;if(!s.hasAttribute("mei:follows"))return!0;if(s.getAttribute("mei:follows")!="#"+n.id)return!0;if(r!==t+1)return!0}if(n.hasAttribute("mei:follows")){const t=n.getAttribute("mei:follows").replace("#",""),i=e.find(e=>e.id===t);if(!i)return!0;if(!i.hasAttribute("mei:precedes"))return!0;if(i.getAttribute("mei:precedes")!="#"+n.id)return!0}return!1}}(t)?(s.queueNotification("The selected syllables include invalid linked syllable(s)!","warning"),!1):!!h(t)||!!f(t)))}function p(){const e=document.querySelectorAll(".staff.selected"),t=[];e.forEach(e=>{t.push(e.id)});const n={action:"merge",param:{elementIds:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?(s.queueNotification("Staff Merged","success"),a.endOptionsSelection(),l.updateForCurrentPage()):s.queueNotification("Merge Failed","error")})}function m(){const e=document.getElementById("moreEdit");e.innerHTML="",e.parentElement.classList.add("hidden"),document.body.removeEventListener("keydown",c.deleteButtonHandler),document.body.removeEventListener("keydown",y)}function v(){const e=document.getElementById("delete");e.removeEventListener("click",c.removeHandler),e.addEventListener("click",c.removeHandler),document.body.addEventListener("keydown",c.deleteButtonHandler),document.body.addEventListener("keydown",y);try{document.getElementById("mergeSyls").addEventListener("click",()=>{if(d(o.getSelectionType()))return;b("group","neume",S().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNeumes").addEventListener("click",()=>{if(d(o.getSelectionType()))return;b("group","neume",E().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNcs").addEventListener("click",()=>{b("group","nc",E().filter(e=>document.getElementById(e).classList.contains("nc")))})}catch(e){}try{document.getElementById("ungroupNeumes").addEventListener("click",()=>{b("ungroup","neume",S())})}catch(e){}try{document.getElementById("ungroupNcs").addEventListener("click",()=>{b("ungroup","nc",S())})}catch(e){}try{document.getElementById("toggle-ligature").addEventListener("click",async()=>{const e={action:"toggleLigature",param:{elementIds:E()}};l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?s.queueNotification("Ligature Toggled","success"):s.queueNotification("Ligature Toggle Failed","error"),m(),l.updateForCurrentPage()})})}catch(e){}try{document.getElementById("toggle-link").addEventListener("click",()=>{_()})}catch(e){}}t.initNeonView=function(e){l=e},t.isGroupable=u,t.isLinked=h,t.canBeLinked=f,t.isLinkable=g,t.mergeStaves=p,t.triggerGrouping=function(e){const t=document.getElementById("moreEdit");t.parentElement.classList.remove("hidden"),t.innerHTML+=i.groupingMenu[e],v()},t.endGroupingSelection=m,t.initGroupingListeners=v;const y=function(e){if("g"===e.key){const e=Array.from(document.querySelectorAll(".selected"));if(0==e.length)return;const t=o.getSelectionType();if(d(t,e))return;switch(t){case"selBySyllable":if(g(t,e))_();else if(u(t,e)){b("group","neume",S().filter(e=>document.getElementById(e).classList.contains("neume")))}else if(1===e.length){b("ungroup","neume",S())}break;case"selByNeume":if(u(t,e)){b("group","neume",E())}else{b("ungroup","nc",S())}break;case"selByNc":if(u(t,e)){b("group","nc",E())}else{b("ungroup","nc",S())}break;case"selByStaff":u(t,e)?p():a.triggerStaffSplitMode();break;default:return void console.error(`Can't perform grouping/ungrouping action on selection type ${t}.`)}}};function b(e,t,n){const i={action:e,param:{groupType:t,elementIds:n}};l.edit(i,l.view.getCurrentPageURI()).then(i=>{if(i?"group"===e?s.queueNotification("Grouping Success","success"):s.queueNotification("Ungrouping Success","success"):"group"===e?s.queueNotification("Grouping Failed","error"):s.queueNotification("Ungrouping Failed","error"),l.updateForCurrentPage(),"nc"===t){const e=document.getElementById(n[0]).parentElement,t=Array.from(e.children);void 0===l.info.getContour(t)&&r.groupingNotRecognized()}m()})}function w(e){const t=document.getElementById(e);return t instanceof SVGGraphicsElement?t:null}function _(){const e=E(),t={action:"chain",param:[]},n=new Array,i=e.map(w).filter(e=>null!==e);if(h(i))n.push(...function(e){const t=new Array;for(const n of e){const e=document.getElementById(n);e.getAttribute("mei:precedes")&&t.push({action:"set",param:{elementId:n,attrType:"precedes",attrValue:""}}),e.getAttribute("mei:follows")&&(t.push({action:"set",param:{elementId:n,attrType:"follows",attrValue:""}}),t.push({action:"setText",param:{elementId:n,text:""}}))}return t}(e));else{const[e,t]=function(e){if(e.sort((e,t)=>{const n=e.closest(".staff"),i=t.closest(".staff");return n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}),2===e.length)return[e[0],e[1]];const t=e.find(e=>!e.hasAttribute("mei:precedes")&&!e.hasAttribute("mei:follows"));if(t){const n=e.indexOf(t);if(0===n)return[e[n],e[n+1]];if(n===e.length-1)return[e[n-1],e[n]]}}(i);console.log(e.id,t.id),n.push({action:"set",param:{elementId:e.id,attrType:"precedes",attrValue:"#"+t.id}}),n.push({action:"set",param:{elementId:t.id,attrType:"follows",attrValue:"#"+e.id}});const r=t.querySelector(".syl");null!==r&&n.push({action:"remove",param:{elementId:r.id}})}t.param=n,l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.queueNotification("Toggled Syllable Link","success"):s.queueNotification("Failed to Toggle Syllable Link","error"),m(),l.updateForCurrentPage()})}function E(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push(t.id)}),e}function S(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{if(t.classList.contains("divLine")||t.classList.contains("accid")||t.classList.contains("clef"))return;Array.from(t.children).forEach(t=>{e.push(t.id)})}),e}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateErrorLogVisibility=t.initDisplayListener=t.initErrorLogControls=t.initErrorLog=t.recordNotification=void 0;const i=n(8),r=n(3),s=n(13);function o(e){const t=document.createElement("div");t.classList.add("notification-container"),t.innerHTML=`\n      <div class="notification-wrapper">\n        <div class="log-main">${e.message}</div>\n        <div class="log-extra"></div>\n      </div>\n\n      <div class="notification-btn-container" style="display: flex;">\n        <div class="notif-log-info-icon-wrapper">\n          <img style="display: none;" class="notif-log-info-icon" src="/Neon/Neon-gh//assets/img/notification-info-icon-light.svg" title="Log Message">\n        </div>\n\n        <div class="notif-remove-icon-wrapper">\n          <img class="log-remove notif-remove-icon" src="/Neon/Neon-gh//assets/img/garbage-closed.svg" title="Remove">\n        </div>\n      </div>\n  `;const n=t.querySelector(".log-remove");if(n.onclick=()=>t.remove(),n.addEventListener("mouseover",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-open.svg")}),n.addEventListener("mouseout",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-closed.svg")}),e.logInfo){const i=t.querySelector(".notif-log-info-icon");i.style.display="",n.style.height="20px",i.addEventListener("mouseover",()=>{i.setAttribute("src","/Neon/Neon-gh//assets/img/notification-info-icon-dark.svg")}),i.addEventListener("mouseout",()=>{i.setAttribute("src","/Neon/Neon-gh//assets/img/notification-info-icon-light.svg")}),i.addEventListener("click",()=>function(e){const t=new s.ModalWindow;t.setModalWindowView(s.ModalWindowView.ERROR_LOG,e),t.openModalWindow()}(e.logInfo))}return t}function a(){const e=document.querySelector("#error_log"),t=document.querySelector("#errorLogHeading"),n=t.querySelector("svg > use"),i=document.querySelector("#errorLogContents"),{displayErrLog:s}=(0,r.getSettings)();s&&e.classList.add("visible"),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),c()}function c(){const e=document.querySelector("#display-single-container"),t=document.createElement("label"),n=document.createElement("input");n.classList.add("checkbox"),t.classList.add("checkbox-container","side-panel-btn"),t.textContent="Errors",n.id="display-errors",n.type="checkbox",n.checked=!1,t.appendChild(n),e.append(t);const{displayErrLog:i}=(0,r.getSettings)();n.checked=i,n.addEventListener("click",()=>{(0,r.setSettings)({displayErrLog:n.checked}),l()})}function l(){const e=document.querySelector("#error_log"),{debugMode:t,displayErrLog:n,displayInfo:i,displayBBox:s,displayText:o}=(0,r.getSettings)(),a=document.getElementById("display-all-btn");t?n?(e.classList.add("visible"),i&&s&&o&&n&&(a.classList.add("selected"),a.innerHTML="Hide All")):(e.classList.remove("visible"),a.classList.contains("selected")&&(a.classList.remove("selected"),a.innerHTML="Display All")):(e.classList.remove("visible"),i&&s&&o?(a.classList.add("selected"),a.innerHTML="Hide All"):(a.classList.remove("selected"),a.innerHTML="Display All"))}t.recordNotification=function(e){document.querySelector("#errorLogContents").prepend(o(e))},t.initErrorLog=function(){document.querySelector("#error_log").innerHTML=i.errorLogsPanelContents,a()},t.initErrorLogControls=a,t.initDisplayListener=c,t.updateErrorLogVisibility=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;const i=n(4),r=n(7),s=n(15),o=n(5),a=n(3),c={TopLeft:0,Top:1,TopRight:2,Right:3,BottomRight:4,Bottom:5,BottomLeft:6,Left:7};function l(e,t,n,i,r){let s;if(r>=0)s=[{x:e,y:t,name:c.TopLeft},{x:(e+n)/2,y:t+(n-e)/2*Math.sin(r),name:c.Top},{x:n,y:t+(n-e)*Math.sin(r),name:c.TopRight},{x:n,y:(t+i+(n-e)*Math.sin(r))/2,name:c.Right},{x:n,y:i,name:c.BottomRight},{x:(e+n)/2,y:i-(n-e)/2*Math.sin(r),name:c.Bottom},{x:e,y:i-(n-e)*Math.sin(r),name:c.BottomLeft},{x:e,y:(t+i-(n-e)*Math.sin(r))/2,name:c.Left}];else{const o=(n-e)*Math.tan(Math.abs(r)),a=i-t-o;s=[{x:e,y:t+o,name:c.TopLeft},{x:(e+n)/2,y:t+o/2,name:c.Top},{x:n,y:t,name:c.TopRight},{x:n,y:t+a/2,name:c.Right},{x:n,y:t+a,name:c.BottomRight},{x:(e+n)/2,y:i-o/2,name:c.Bottom},{x:e,y:i,name:c.BottomLeft},{x:e,y:i-a/2,name:c.Left}]}return s}t.resize=function(e,t,n){let u,d,h,f,g,p,m,v,y,b,w,_,E,S,x;function L(){const e=l(u,d,h,f,g),t=e.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");document.querySelector("#resizeRect").setAttribute("points",t);const n=document.querySelector(".syl.selected > .sylTextRect-display");n&&(n.setAttribute("x",String(Math.min(u,h))),n.setAttribute("y",String(Math.min(d,f))),n.setAttribute("width",String(Math.abs(h-u))),n.setAttribute("height",String(Math.abs(f-d))));for(const t in c){const n=e[c[t]];r.select("#p-"+t).filter(".resizePoint").attr("cx",n.x).attr("cy",n.y)}let i=e[3].x,s=e[3].y;const o=i+100+","+(s+85)+" "+(i+70)+","+(s+50)+" "+(i+100)+","+(s+15)+" "+(i+130)+","+(s+50);i=e[7].x,s=e[7].y;const a=i-100+","+(s-15)+" "+(i-130)+","+(s-50)+" "+(i-100)+","+(s-85)+" "+(i-70)+","+(s-50);r.select("#rotateLeft").attr("points",a),r.select("#rotateRight").attr("points",o)}!function A(){if(null===e)return;if(r.selectAll(".resizePoint").remove(),r.selectAll("#resizeRect").remove(),r.selectAll(".rotatePoint").remove(),e.classList.contains("syl")){const t=e.querySelector(".sylTextRect-display");if(null===t)return void console.warn("Tried to draw resize rect for a sylTextRect that doesn't exist (or isn't displaying)");u=Number(t.getAttribute("x")),d=Number(t.getAttribute("y")),h=+u+ +t.getAttribute("width"),f=+d+ +t.getAttribute("height"),g=0}if(e.classList.contains("staff")){const t=(0,i.getStaffBBox)(e);u=t.ulx,d=t.uly,h=t.lrx,f=t.lry;const n=e.querySelector("path").getAttribute("d").match(/\d+/g).map(e=>Number(e));g=Math.atan((n[3]-n[1])/(n[2]-n[0]))}let k;p=u,y=d,m=h,b=f;const C=l(u,d,h,f,g);E=C[2].x-C[0].x;const I=C.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");r.select("#"+e.id).append("polygon").attr("points",I).attr("id","resizeRect").attr("stroke","black").attr("stroke-width",10).attr("fill","none").style("cursor","move").style("stroke-dasharray","20 10");const{circleSize:P}=(0,a.getSettings)();for(const t in c){const n=C[c[t]];r.select(e.viewportElement).append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",P).attr("stroke","black").attr("stroke-width",4).attr("fill","#0099ff").attr("class","resizePoint").attr("id","p-"+t)}for(const e in c)r.select("#p-"+e).filter(".resizePoint").call(r.drag().on("start",()=>{O(e)}).on("drag",B).on("end",T.bind(this)));if(e.classList.contains("staff")){let t=C[3].x,n=C[3].y;const i=t+100+","+(n+85)+" "+(t+70)+","+(n+50)+" "+(t+100)+","+(n+15)+" "+(t+130)+","+(n+50);t=C[7].x,n=C[7].y;const s=t-100+","+(n-15)+" "+(t-130)+","+(n-50)+" "+(t-100)+","+(n-85)+" "+(t-70)+","+(n-50);r.select("#"+e.id).append("polygon").attr("points",i).attr("id","rotateRight").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#"+e.id).append("polygon").attr("points",s).attr("id","rotateLeft").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#rotateLeft").call(r.drag().on("start",N).on("drag",(function(){const e=r.mouse(this)[1]-w,t=x-Math.atan(e/E);t>-.2&&t<.2&&(S=e,d=_+S,g=t,g>=0?(d=S+C.filter(e=>e.name===c.TopLeft)[0].y,f=C.filter(e=>e.name===c.BottomRight)[0].y):(d=C.filter(e=>e.name===c.TopRight)[0].y,f=S+C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M)),r.select("#rotateRight").call(r.drag().on("start",N).on("drag",(function(){const e=r.mouse(this)[1]-w,t=x+Math.atan(e/E);t>-.2&&t<.2&&(S=e,g=t,g>=0?(f=S+C.filter(e=>e.name===c.BottomRight)[0].y,d=C.filter(e=>e.name===c.TopLeft)[0].y):(d=S+C.filter(e=>e.name===c.TopRight)[0].y,f=C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M))}function O(e){k=e;const t=C.find(t=>t.name===c[e]);v=[t.x,t.y],y=d,b=f}function B(){const e=r.mouse(this);switch(c[k]){case c.TopLeft:u=e[0],d=e[1];break;case c.Top:d=e[1]-(h-u)*Math.tan(g)/2;break;case c.TopRight:h=e[0],d=e[1]-(h-u)*Math.tan(g);break;case c.Right:h=e[0],f=b+(e[0]-v[0])*Math.tan(g);break;case c.BottomRight:h=e[0],f=e[1];break;case c.Bottom:f=e[1]+(h-u)*Math.tan(g)/2;break;case c.BottomLeft:u=e[0],f=e[1]+(h-u)*Math.tan(g);break;case c.Left:u=e[0],d=y+(e[0]-v[0])*Math.tan(g);break;default:console.error("Something that wasn't a side of the rectangle was dragged. This shouldn't happen.")}L()}function T(){if((0,s.isOutOfSVGBounds)(u,d)||(0,s.isOutOfSVGBounds)(h,f))return u=p,d=y,h=m,f=b,L(),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Resize action failed.","error");const r={action:"resize",param:{elementId:e.id,ulx:u,uly:d,lrx:h,lry:f}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{if(r&&await t.updateForCurrentPage(),e=document.querySelector("#"+e.id),u=void 0,d=void 0,h=void 0,f=void 0,A(),e.classList.contains("syl"))(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this);else{(0,i.selectAll)([document.querySelector("#"+e.id)],t,n);const r=document.querySelector("moreEdit");r&&(r.innerHTML="",r.parentElement.classList.add("hidden"))}})}function N(){const e=r.event.sourceEvent.target.id;w=r.mouse(this)[1],b=f,y=d,_="rotateRight"===e?f:d,x=g}function M(){if(void 0===S&&(S=0),(0,s.isOutOfSVGBounds)(u,d)||(0,s.isOutOfSVGBounds)(h,f))return document.querySelectorAll(".resizePoint").forEach(e=>e.remove()),document.querySelectorAll("#resizeRect").forEach(e=>e.remove()),document.querySelectorAll(".rotatePoint").forEach(e=>e.remove()),e=document.getElementById(e.id),u=void 0,d=void 0,h=void 0,f=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Rotate action failed.","error");const r={action:"resizeRotate",param:{elementId:e.id,ulx:u,uly:d,lrx:h,lry:f,rotate:180*g/Math.PI}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{r&&await t.updateForCurrentPage(),e=document.getElementById(e.id),u=void 0,d=void 0,h=void 0,f=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n)})}}()}},function(e,t,n){"use strict";n.r(t),function(e){var i,r,s=n(2),o=n.n(s),a=n(22),c=n(16),l=n.n(c),u=n(21),d=n.n(u),h=n(6),f=n.n(h),g=n(1),p=n.n(g),m=n(0),v=n.n(m);function y(e){return"$"+e}function b(e){return e.substring(1)}function w(){this._store={}}function _(e){if(this._store=new w,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function E(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),i=new Uint8Array(e);return n.set(i),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}w.prototype.get=function(e){var t=y(e);return this._store[t]},w.prototype.set=function(e,t){var n=y(e);return this._store[n]=t,!0},w.prototype.has=function(e){return y(e)in this._store},w.prototype.keys=function(){return Object.keys(this._store).map(e=>b(e))},w.prototype.delete=function(e){var t=y(e),n=t in this._store;return delete this._store[t],n},w.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,i=t.length;n<i;n++){var r=t[n];e(this._store[r],r=b(r))}},Object.defineProperty(w.prototype,"size",{get:function(){return Object.keys(this._store).length}}),_.prototype.add=function(e){return this._store.set(e,!0)},_.prototype.has=function(e){return this._store.has(e)},_.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(_.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(i=_,r=w):(i=Set,r=Map);var S=Function.prototype.toString,x=S.call(Object);function L(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=L(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return E(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==x}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=L(e[n]);void 0!==r&&(t[n]=r)}return t}function A(e){var t=!1;return f()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function k(e){return f()((function(t){t=L(t);var n=this,i="function"==typeof t[t.length-1]&&t.pop(),r=new Promise((function(i,r){var s;try{var o=A((function(e,t){e?r(e):i(t)}));t.push(o),(s=e.apply(n,t))&&"function"==typeof s.then&&i(s)}catch(e){r(e)}}));return i&&r.then((function(e){i(null,e)}),i),r}))}function C(e,t){return k(f()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],r=0;r<n.length-1;r++)i.push(n[r]);e.constructor.emit("debug",i);var s=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",e.name,t];r=r.concat(n?["error",n]:["success",i]),e.constructor.emit("debug",r),s(n,i)}}}(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,r){i.taskqueue.addTask((function(s){s?r(s):t(i[e].apply(i,n))}))}))})))}function I(e,t){for(var n={},i=0,r=t.length;i<r;i++){var s=t[i];s in e&&(n[s]=e[s])}return n}var P;function O(e){return e}function B(e){return[{ok:e}]}function T(e,t,n){var i=t.docs,s=new r;i.forEach((function(e){s.has(e.id)?s.get(e.id).push(e):s.set(e.id,[e])}));var o=s.size,a=0,c=new Array(o);function l(){var e;++a===o&&(e=[],c.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var u=[];s.forEach((function(e,t){u.push(t)}));var d=0;function h(){if(!(d>=u.length)){var n=Math.min(d+6,u.length),i=u.slice(d,n);!function(n,i){n.forEach((function(n,r){var o=i+r,a=s.get(n),u=I(a[0],["atts_since","attachments"]);u.open_revs=a.map((function(e){return e.rev})),u.open_revs=u.open_revs.filter(O);var d=O;0===u.open_revs.length&&(delete u.open_revs,d=B),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(u[e]=t[e])})),e.get(n,u,(function(e,t){var i,r,s;i=e?[{error:e}]:d(t),r=n,s=i,c[o]={id:r,docs:s},l(),h()}))}))}(i,d),d+=i.length}}h()}try{localStorage.setItem("_pouch_check_localstorage",1),P=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){P=!1}function N(){return P}function M(){v.a.call(this),this._listeners={},function(e){N()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function q(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function F(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function D(e,t){q("info","The above "+e+" is totally normal. "+t)}p()(M,v.a),M.prototype.addListener=function(e,t,n,i){if(!this._listeners[t]){var r=this,s=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(r._listeners[t])if(s)s="waiting";else{s=!0;var e=I(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,i.onChange(e))})).on("complete",(function(){"waiting"===s&&o()(a),s=!1})).on("error",(function(){s=!1}))}}},M.prototype.removeListener=function(e,t){t in this._listeners&&(v.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},M.prototype.notifyLocalWindows=function(e){N()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},M.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var j="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function R(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}p()(R,Error),R.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new R(401,"unauthorized","Name or password is incorrect.");var V=new R(400,"bad_request","Missing JSON list of 'docs'"),z=new R(404,"not_found","missing"),H=new R(409,"conflict","Document update conflict"),U=new R(400,"bad_request","_id field must contain a string"),$=new R(412,"missing_id","_id is required for puts"),Z=new R(400,"bad_request","Only reserved document ids may start with underscore."),G=(new R(412,"precondition_failed","Database not open"),new R(500,"unknown_error","Database encountered an unknown error")),W=new R(500,"badarg","Some query argument is invalid"),K=(new R(400,"invalid_request","Request was invalid"),new R(400,"query_parse_error","Some query parameter is invalid")),Y=new R(500,"doc_validation","Bad special document member"),X=new R(400,"bad_request","Something wrong with the request"),J=new R(400,"bad_request","Document must be a JSON object"),Q=(new R(404,"not_found","Database not found"),new R(500,"indexed_db_went_bad","unknown")),ee=(new R(500,"web_sql_went_bad","unknown"),new R(500,"levelDB_went_went_bad","unknown"),new R(403,"forbidden","Forbidden by design doc validate_doc_update function"),new R(400,"bad_request","Invalid rev format")),te=(new R(412,"file_exists","The database could not be created, the file already exists."),new R(412,"missing_stub","A pre-existing attachment stub wasn't found"));new R(413,"invalid_url","Provided URL is invalid");function ne(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),i=0,r=n.length;i<r;i++)"function"!=typeof e[n[i]]&&(this[n[i]]=e[n[i]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=R.prototype,new n(t)}function ie(e){if("object"!=typeof e){var t=e;(e=G).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function re(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var r=n&&function(e,t,n){try{return!e(t,n)}catch(e){var i="Filter function threw: "+e.toString();return ne(X,i)}}(e.filter,i.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var s in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,s)&&(i.doc._attachments[s].stub=!0)}else delete i.doc;return!0}}function se(e){for(var t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n]);return t}function oe(e){var t;if(e?"string"!=typeof e?t=ne(U):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ne(Z)):t=ne($),t)throw t}function ae(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(q("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ce(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function le(e){var t=ce(e);return t?t.join("/"):null}var ue=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],de=/(?:^|&)([^&=]*)=?([^&]*)/g,he=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function fe(e){for(var t=he.exec(e),n={},i=14;i--;){var r=ue[i],s=t[i]||"",o=-1!==["user","password"].indexOf(r);n[r]=o?decodeURIComponent(s):s}return n.queryKey={},n[ue[12]].replace(de,(function(e,t,i){t&&(n.queryKey[t]=i)})),n}function ge(e,t){var n=[],i=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.push(r),i.push(t[r]));return n.push(e),Function.apply(null,n).apply(null,i)}function pe(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(i){var r=i._rev,s=n(i);return s?(s._id=t,s._rev=r,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return pe(e,t._id,n)}))}(e,s,n)):{updated:!1,rev:r}}))}var me=function(e){return atob(e)},ve=function(e){return btoa(e)};function ye(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function be(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function we(e,t){return ye([be(e)],{type:t})}function _e(e,t){return we(me(e),t)}function Ee(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(i)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return t}(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Se(e,t){Ee(e,(function(e){t(e)}))}function xe(e,t){Se(e,(function(e){t(ve(e))}))}var Le=self.setImmediate||self.setTimeout;function Ae(e,t,n,i,r){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),r()}))}function ke(e,t,n,i,r){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),r()}function Ce(e,t){var n="string"==typeof e,i=n?e.length:e.size,r=Math.min(32768,i),s=Math.ceil(i/r),o=0,a=n?new l.a:new l.a.ArrayBuffer,c=n?ke:Ae;function u(){Le(h)}function d(){var e=function(e){return ve(e)}(a.end(!0));t(e),a.destroy()}function h(){var t=o*r,n=t+r;o++,c(a,e,t,n,o<s?u:d)}h()}function Ie(e){return l.a.hash(e)}function Pe(e,t){if(!t)return Object(a.a)().replace(/-/g,"").toLowerCase();var n=j({},e);return delete n._rev_tree,Ie(JSON.stringify(n))}var Oe=a.a;function Be(e){for(var t,n,i,r,s=e.rev_tree.slice();r=s.pop();){var o=r.ids,a=o[2],c=r.pos;if(a.length)for(var l=0,u=a.length;l<u;l++)s.push({pos:c+1,ids:a[l]});else{var d=!!o[1].deleted,h=o[0];t&&!(i!==d?i:n!==c?n<c:t<h)||(t=h,n=c,i=d)}}return n+"-"+t}function Te(e,t){for(var n,i=e.slice();n=i.pop();)for(var r=n.pos,s=n.ids,o=s[2],a=t(0===o.length,r,s[0],n.ctx,s[1]),c=0,l=o.length;c<l;c++)i.push({pos:r+1,ids:o[c],ctx:a})}function Ne(e,t){return e.pos-t.pos}function Me(e){var t=[];Te(e,(function(e,n,i,r,s){e&&t.push({rev:n+"-"+i,pos:n,opts:s})})),t.sort(Ne).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function qe(e){for(var t=Be(e),n=Me(e.rev_tree),i=[],r=0,s=n.length;r<s;r++){var o=n[r];o.rev===t||o.opts.deleted||i.push(o.rev)}return i}function Fe(e){for(var t,n=[],i=e.slice();t=i.pop();){var r=t.pos,s=t.ids,o=s[0],a=s[1],c=s[2],l=0===c.length,u=t.history?t.history.slice():[];u.push({id:o,opts:a}),l&&n.push({pos:r+1-u.length,ids:u});for(var d=0,h=c.length;d<h;d++)i.push({pos:r+1,ids:c[d],history:u})}return n.reverse()}function De(e,t){return e.pos-t.pos}function je(e,t,n){var i=function(e,t,n){for(var i,r=0,s=e.length;r<s;)n(e[i=r+s>>>1],t)<0?r=i+1:s=i;return r}(e,t,n);e.splice(i,0,t)}function Re(e,t){for(var n,i,r=t,s=e.length;r<s;r++){var o=e[r],a=[o.id,o.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function Ve(e,t){return e[0]<t[0]?-1:1}function ze(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var r=n.pop(),s=r.tree1,o=r.tree2;(s[1].status||o[1].status)&&(s[1].status="available"===s[1].status||"available"===o[1].status?"available":"missing");for(var a=0;a<o[2].length;a++)if(s[2][0]){for(var c=!1,l=0;l<s[2].length;l++)s[2][l][0]===o[2][a][0]&&(n.push({tree1:s[2][l],tree2:o[2][a]}),c=!0);c||(i="new_branch",je(s[2],o[2][a],Ve))}else i="new_leaf",s[2][0]=o[2][a]}return{conflicts:i,tree:e}}function He(e,t,n){var i,r=[],s=!1,o=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])i=ze(l.ids,t.ids),r.push({pos:l.pos,ids:i.tree}),s=s||i.conflicts,o=!0;else if(!0!==n){var u=l.pos<t.pos?l:t,d=l.pos<t.pos?t:l,h=d.pos-u.pos,f=[],g=[];for(g.push({ids:u.ids,diff:h,parent:null,parentIdx:null});g.length>0;){var p=g.pop();if(0!==p.diff)for(var m=p.ids[2],v=0,y=m.length;v<y;v++)g.push({ids:m[v],diff:p.diff-1,parent:p.ids,parentIdx:v});else p.ids[0]===d.ids[0]&&f.push(p)}var b=f[0];b?(i=ze(b.ids,d.ids),b.parent[2][b.parentIdx]=i.tree,r.push({pos:u.pos,ids:u.ids}),s=s||i.conflicts,o=!0):r.push(l)}else r.push(l)}return o||r.push(t),r.sort(De),{tree:r,conflicts:s||"internal_node"}}function Ue(e,t,n){var i=He(e,t),r=function(e,t){for(var n,i,r=Fe(e),s=0,o=r.length;s<o;s++){var a,c=r[s],l=c.ids;if(l.length>t){n||(n={});var u=l.length-t;a={pos:c.pos+u,ids:Re(l,u)};for(var d=0;d<u;d++){var h=c.pos+d+"-"+l[d].id;n[h]=!0}}else a={pos:c.pos,ids:Re(l,0)};i=i?He(i,a,!0).tree:[a]}return n&&Te(i,(function(e,t,i){delete n[t+"-"+i]})),{tree:i,revs:n?Object.keys(n):[]}}(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function $e(e){return e.ids}function Ze(e,t){t||(t=Be(e));for(var n,i=t.substring(t.indexOf("-")+1),r=e.rev_tree.map($e);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function Ge(e){return/^_local/.test(e)}function We(e,t,n){v.a.call(this);var i=this;this.db=e;var r=(t=t?L(t):{}).complete=A((function(t,n){var r,o;t?(o="error",("listenerCount"in(r=i)?r.listenerCount(o):v.a.listenerCount(r,o))>0&&i.emit("error",t)):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",s)}));function s(){i.cancel()}n&&(i.on("complete",(function(e){n(null,e)})),i.on("error",n)),e.once("destroyed",s),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,i){try{e.emit("change",t,n,i)}catch(e){q("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var o=new Promise((function(e,n){t.complete=function(t,i){t?n(t):e(i)}}));i.once("cancel",(function(){e.removeListener("destroyed",s),t.complete(null,{status:"cancelled"})})),this.then=o.then.bind(o),this.catch=o.catch.bind(o),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)}))}function Ke(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=Me(t.rev_tree).map((function(e){return{rev:e.rev}})));var r={id:t.id,changes:i,doc:e};return Ze(t,e._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=qe(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Ye(e,t){return e<t?-1:e>t?1:0}function Xe(e,t){return function(n,i){n||i[0]&&i[0].error?((n=n||i[0]).docId=t,e(n)):e(null,i.length?i[0]:i)}}function Je(e,t){var n=Ye(e._id,t._id);return 0!==n?n:Ye(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Qe(){for(var e in v.a.call(this),Qe.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function et(){this.isReady=!1,this.failed=!1,this.queue=[]}function tt(e,t){if(!(this instanceof tt))return new tt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=L(t),n.auto_compaction=t.auto_compaction,n.prefix=tt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=tt.adapters,r=tt.preferredAdapters,s=tt.prefix,o=t.adapter;if(!o)for(var a=0;a<r.length&&("idb"===(o=r[a])&&"websql"in i&&N()&&localStorage["_pouch__websqldb_"+s+e]);++a)q("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=i[o];return{name:!c||!("use_prefix"in c)||c.use_prefix?s+e:e,adapter:o}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);Qe.call(n),n.taskqueue=new et,n.adapter=t.adapter,tt.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),tt.emit("created",n.name),n.taskqueue.ready(n)}))}p()(We,v.a),We.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},We.prototype.validateChanges=function(e){var t=e.complete,n=this;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(function(i){if(i)return t(i);n.doChanges(e)})):n.doChanges(e)},We.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=L(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Ke,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&q("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var r=t.cancel;t.cancel=f()((function(e){i.cancel(),r.apply(this,e)}))}}else this.db.info().then((function(i){t.isCancelled?n(null,{status:"cancelled"}):(e.since=i.update_seq,t.doChanges(e))}),n)},p()(Qe,v.a),Qe.prototype.post=C("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(J));this.bulkDocs({docs:[e]},t,Xe(n,e._id))})),Qe.prototype.put=C("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(J));if(oe(e._id),Ge(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var i,r,s,o,a=this;function c(n){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,n):a.bulkDocs({docs:[e]},t,Xe(n,e._id))}t.force&&e._rev?(i=e._rev.split("-"),r=i[1],s=parseInt(i[0],10)+1,o=Pe(),e._revisions={start:s,ids:[o,r]},e._rev=s+"-"+o,t.new_edits=!1,c((function(t){var i=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,i)}))):c(n)})),Qe.prototype.putAttachment=C("putAttachment",(function(e,t,n,i,r){var s=this;function o(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:i,revpos:++n},s.put(e)}return"function"==typeof r&&(r=i,i=n,n=null),void 0===r&&(r=i,i=n,n=null),r||q("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then((function(e){if(e._rev!==n)throw ne(H);return o(e)}),(function(t){if(t.reason===z.message)return o({_id:e});throw t}))})),Qe.prototype.removeAttachment=C("removeAttachment",(function(e,t,n,i){var r=this;r.get(e,(function(e,s){if(e)i(e);else if(s._rev===n){if(!s._attachments)return i();delete s._attachments[t],0===Object.keys(s._attachments).length&&delete s._attachments,r.put(s,i)}else i(ne(H))}))})),Qe.prototype.remove=C("remove",(function(e,t,n,i){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(r=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),(n=n||{}).was_delete=!0;var s={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(Ge(s._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[s]},n,Xe(i,s._id))})),Qe.prototype.revsDiff=C("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var s=0,o=new r;function a(e,t){o.has(e)||o.set(e,{missing:[]}),o.get(e).missing.push(t)}i.map((function(t){this._getRevisionTree(t,(function(r,c){if(r&&404===r.status&&"missing"===r.message)o.set(t,{missing:e[t]});else{if(r)return n(r);!function(t,n){var i=e[t].slice(0);Te(n,(function(e,n,r,s,o){var c=n+"-"+r,l=i.indexOf(c);-1!==l&&(i.splice(l,1),"available"!==o.status&&a(t,c))})),i.forEach((function(e){a(t,e)}))}(t,c)}if(++s===i.length){var l={};return o.forEach((function(e,t){l[t]=e})),n(null,l)}}))}),this)})),Qe.prototype.bulkGet=C("bulkGet",(function(e,t){T(this,e,t)})),Qe.prototype.compactDocument=C("compactDocument",(function(e,t,n){var i=this;this._getRevisionTree(e,(function(r,s){if(r)return n(r);var o=function(e){var t={},n=[];return Te(e,(function(e,i,r,s){var o=i+"-"+r;return e&&(t[o]=0),void 0!==s&&n.push({from:s,to:o}),o})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(s),a=[],c=[];Object.keys(o).forEach((function(e){o[e]>t&&a.push(e)})),Te(s,(function(e,t,n,i,r){var s=t+"-"+n;"available"===r.status&&-1!==a.indexOf(s)&&c.push(s)})),i._doCompaction(e,c,n)}))})),Qe.prototype.compact=C("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],i=n.opts,r=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(i.last_seq=n.last_seq),t._compact(i,(function(n,i){n?r(n):r(null,i),o()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),Qe.prototype._compact=function(e,t){var n=this,i={return_docs:!1,last_seq:e.last_seq||0},r=[];n.changes(i).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return pe(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},Qe.prototype.get=C("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(ne(U));if(Ge(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],r=this;function s(){var s=[],o=i.length;if(!o)return n(null,s);i.forEach((function(i){r.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)s.push({missing:i});else{for(var r,a=0,c=s.length;a<c;a++)if(s[a].ok&&s[a].ok._rev===t._rev){r=!0;break}r||s.push({ok:t})}--o||n(null,s)}))}))}if(!t.open_revs)return this._get(e,t,(function(i,s){if(i)return i.docId=e,n(i);var o=s.doc,a=s.metadata,c=s.ctx;if(t.conflicts){var l=qe(a);l.length&&(o._conflicts=l)}if(Ze(a,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var u=o._rev.split("-"),d=parseInt(u[0],10),h=u[1],f=Fe(a.rev_tree),g=null,p=0;p<f.length;p++){var m=f[p],v=m.ids.map((function(e){return e.id})).indexOf(h);(v===d-1||!g&&-1!==v)&&(g=m)}if(!g)return(i=new Error("invalid rev tree")).docId=e,n(i);var y=g.ids.map((function(e){return e.id})).indexOf(o._rev.split("-")[1])+1,b=g.ids.length-y;if(g.ids.splice(y,b),g.ids.reverse(),t.revs&&(o._revisions={start:g.pos+g.ids.length-1,ids:g.ids.map((function(e){return e.id}))}),t.revs_info){var w=g.pos+g.ids.length;o._revs_info=g.ids.map((function(e){return{rev:--w+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&o._attachments){var _=o._attachments,E=Object.keys(_).length;if(0===E)return n(null,o);Object.keys(_).forEach((function(e){this._getAttachment(o._id,e,_[e],{rev:o._rev,binary:t.binary,ctx:c},(function(t,i){var r=o._attachments[e];r.data=i,delete r.stub,delete r.length,--E||n(null,o)}))}),r)}else{if(o._attachments)for(var S in o._attachments)Object.prototype.hasOwnProperty.call(o._attachments,S)&&(o._attachments[S].stub=!0);n(null,o)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=Me(t).map((function(e){return e.rev})),s()}));else{if(!Array.isArray(t.open_revs))return n(ne(G,"function_clause"));i=t.open_revs;for(var o=0;o<i.length;o++){var a=i[o];if("string"!=typeof a||!/^\d+-/.test(a))return n(ne(ee))}s()}})),Qe.prototype.getAttachment=C("getAttachment",(function(e,t,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(e,n,(function(s,o){return s?i(s):o.doc._attachments&&o.doc._attachments[t]?(n.ctx=o.ctx,n.binary=!0,void r._getAttachment(e,t,o.doc._attachments[t],n,i)):i(ne(z))}))})),Qe.prototype.allDocs=C("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(ne(K,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ae(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),Qe.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new We(this,e,t)},Qe.prototype.close=C("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),Qe.prototype.info=C("info",(function(e){var t=this;this._info((function(n,i){if(n)return e(n);i.db_name=i.db_name||t.name,i.auto_compaction=!(!t.auto_compaction||ae(t)),i.adapter=t.adapter,e(null,i)}))})),Qe.prototype.id=C("id",(function(e){return this._id(e)})),Qe.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Qe.prototype.bulkDocs=C("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(ne(V));for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return n(ne(J));var r;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||q("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),r)return n(ne(X,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var s=this;t.new_edits||ae(s)||e.docs.sort(Je),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var s=i[r];n._attachments[s]=I(n._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var o=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,i){if(e)return n(e);if(t.new_edits||(i=i.filter((function(e){return e.error}))),!ae(s))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||o[r];n(null,i)}))})),Qe.prototype.registerDependentDatabase=C("registerDependentDatabase",(function(e,t){var n=L(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(e,n);pe(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:i})})).catch(t)})),Qe.prototype.destroy=C("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(e,(function(e,i){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,i||{ok:!0})}))}if(ae(n))return r();n.get("_local/_pouch_dependentDbs",(function(e,s){if(e)return 404!==e.status?t(e):r();var o=s.dependentDbs,a=n.constructor,c=Object.keys(o).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(c).then(r,t)}))})),et.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},et.prototype.fail=function(e){this.failed=e,this.execute()},et.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},et.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},p()(tt,Qe);var nt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},it=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var st=new v.a;!function(e){Object.keys(v.a.prototype).forEach((function(t){"function"==typeof v.a.prototype[t]&&(e[t]=st[t].bind(st))}));var t=e._destructionListeners=new r;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),i=n.indexOf(e);i<0||(n.splice(i,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"==typeof e)e(tt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=j({},this.__defaults)),tt},tt.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=j({},t.__defaults,n),tt.call(this,e,n)}return p()(t,tt),t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=j({},this.__defaults,e),t},tt.fetch=function(e,t){return it(e,t)};function ot(e,t){for(var n=e,i=0,r=t.length;i<r;i++){if(!(n=n[t[i]]))break}return n}function at(e){for(var t=[],n="",i=0,r=e.length;i<r;i++){var s=e[i];i>0&&"\\"===e[i-1]&&("$"===s||"."===s)?n=n.substring(0,n.length-1)+s:"."===s?(t.push(n),n=""):n+=s}return t.push(n),t}var ct=["$or","$nor","$not"];function lt(e){return ct.indexOf(e)>-1}function ut(e){return Object.keys(e)[0]}function dt(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("object"!=typeof r&&(r={$eq:r}),lt(i))if(r instanceof Array){if(n[i])return n[i]=!1,void(t[i]=r);var s=[];t[i].forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t],i=Math.max(Object.keys(e).length,Object.keys(n).length),o=dt([e,n]);Object.keys(o).length<=i||s.push(o)}))})),t[i]=s}else t[i]=dt([r]);else{var o=t[i]=t[i]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,o):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,o):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,o):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,o):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,o):void(o[e]=t)}))}}))})),t}function ht(e){var t=L(e),n=!1;(function e(t,n){for(var i in t){"$and"===i&&(n=!0);var r=t[i];"object"==typeof r&&(n=e(r,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=dt(t[i].$and));var r=t[n];"object"==typeof r&&e(r)}return t}(t))&&(t=dt(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n],r=e[i];"object"==typeof r&&null!==r||(e[i]={$eq:r})}}))})),"$not"in t&&(t.$not=dt([t.$not]));for(var i=Object.keys(t),r=0;r<i.length;r++){var s=i[r],o=t[s];"object"!=typeof o||null===o?o={$eq:o}:n||("$ne"in o&&(o.$ne=[o.$ne]),"$regex"in o&&(o.$regex=[o.$regex])),t[s]=o}return t}function ft(e,t){if(e===t)return 0;e=gt(e),t=gt(t);var n=bt(e),i=bt(t);if(n-i!=0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=ft(e[i],t[i]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),i=Object.keys(t),r=Math.min(n.length,i.length),s=0;s<r;s++){var o=ft(n[s],i[s]);if(0!==o)return o;if(0!==(o=ft(e[n[s]],t[i[s]])))return o}return n.length===i.length?0:n.length>i.length?1:-1}(e,t)}function gt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=gt(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=t[r];void 0!==s&&(e[r]=gt(s))}}}return e}function pt(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,r=i?"0":"2",s=(o=((i?-n:n)- -324).toString(),a="0",c=3,function(e,t,n){for(var i="",r=n-e.length;i.length<r;)i+=t;return i}(o,a,c)+o);var o,a,c;r+=""+s;var l=Math.abs(parseFloat(t[0]));i&&(l=10-l);var u=l.toFixed(20);return u=u.replace(/\.?0+$/,""),r+=""+u}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,r=n.length,s="";if(t)for(;++i<r;)s+=mt(n[i]);else for(;++i<r;){var o=n[i];s+=mt(o)+mt(e[o])}return s}return""}function mt(e){return bt(e=gt(e))+""+pt(e)+"\0"}function vt(e,t){var n,i=t;if("1"===e[t])n=0,t++;else{var r="0"===e[t];t++;var s="",o=e.substring(t,t+3),a=parseInt(o,10)+-324;for(r&&(a=-a),t+=3;;){var c=e[t];if("\0"===c)break;s+=c,t++}n=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),r&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-i}}function yt(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var r=i.element,s=i.index;if(Array.isArray(r))r.push(n);else if(s===e.length-2){r[e.pop()]=n}else e.push(n)}}function bt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function wt(e,t,n){if(e=e.filter((function(e){return _t(e.doc,t.selector,n)})),t.sort){var i=function(e){function t(t){return e.map((function(e){var n=at(ut(e));return ot(t,n)}))}return function(e,n){var i,r,s=ft(t(e.doc),t(n.doc));return 0!==s?s:(i=e.doc._id,r=n.doc._id,i<r?-1:i>r?1:0)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[ut(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var s=t.skip||0,o=("limit"in t?t.limit:e.length)+s;e=e.slice(s,o)}return e}function _t(e,t,n){return n.every((function(n){var i=t[n],r=at(n),s=ot(e,r);return lt(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return _t(n,e,Object.keys(e))}));if("$not"===e)return!_t(n,t,Object.keys(t));return!t.find((function(e){return _t(n,e,Object.keys(e))}))}(n,i,e):Et(i,e,r,s)}))}function Et(e,t,n,i){return!e||("object"==typeof e?Object.keys(e).every((function(r){var s=e[r];if(0===r.indexOf("$"))return St(r,t,s,n,i);var o=at(r);if(void 0===i&&"object"!=typeof s&&o.length>0)return!1;var a=ot(i,o);return"object"==typeof s?Et(s,t,n,a):St("$eq",t,s,o,a)})):e===i)}function St(e,t,n,i,r){if(!kt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return kt[e](t,n,i,r)}function xt(e){return null!=e}function Lt(e){return void 0!==e}function At(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===ft(t,e)})):0===ft(t,e)}))}var kt={$elemMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some((function(e){return _t(e,t,Object.keys(t))})):i.some((function(i){return Et(t,e,n,i)}))))},$allMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every((function(e){return _t(e,t,Object.keys(t))})):i.every((function(i){return Et(t,e,n,i)}))))},$eq:function(e,t,n,i){return Lt(i)&&0===ft(i,t)},$gte:function(e,t,n,i){return Lt(i)&&ft(i,t)>=0},$gt:function(e,t,n,i){return Lt(i)&&ft(i,t)>0},$lte:function(e,t,n,i){return Lt(i)&&ft(i,t)<=0},$lt:function(e,t,n,i){return Lt(i)&&ft(i,t)<0},$exists:function(e,t,n,i){return t?Lt(i):!Lt(i)},$mod:function(e,t,n,i){return xt(i)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(i,t)},$ne:function(e,t,n,i){return t.every((function(e){return 0!==ft(i,e)}))},$in:function(e,t,n,i){return xt(i)&&At(i,t)},$nin:function(e,t,n,i){return xt(i)&&!At(i,t)},$size:function(e,t,n,i){return xt(i)&&Array.isArray(i)&&function(e,t){return e.length===t}(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===ft(t,e)}))}))}(i,t)},$regex:function(e,t,n,i){return xt(i)&&"string"==typeof i&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(i,e)}))},$type:function(e,t,n,i){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(i,t)}};function Ct(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function It(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=le(e.view):e.filter=le(e.filter))}function Pt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ae(e.db)}function Ot(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var i=ne(X,"`view` filter parameter not found or invalid.");return n(i)}var r=ce(t.view);e.db.get("_design/"+r[0],(function(i,s){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var o=s&&s.views&&s.views[r[1]]&&s.views[r[1]].map;if(!o)return n(ne(z,s.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=ge(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+o+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=wt([{doc:e}],{selector:t=ht(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var s=ce(t.filter);e.db.get("_design/"+s[0],(function(i,r){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var o=r&&r.filters&&r.filters[s[1]];if(!o)return n(ne(z,r&&r.filters?"missing json key: "+s[1]:"missing json key: filters"));t.filter=ge('"use strict";\nreturn '+o+";",{}),e.doChanges(t)}))}}function Bt(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Ct,normalize:It,shouldFilter:Pt,filter:Ot}})),tt.version="7.3.0";var Tt=Bt(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Nt=Bt(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Mt(e){if(!/^\d+-/.test(e))return ne(ee);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function qt(e,t,n){var i,r,s;n||(n={deterministic_revs:!0});var o={status:"available"};if(e._deleted&&(o.deleted=!0),t)if(e._id||(e._id=Oe()),r=Pe(e,n.deterministic_revs),e._rev){if((s=Mt(e._rev)).error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[r,o,[]]]]}],i=s.prefix+1}else e._rev_tree=[{pos:1,ids:[r,o,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,r=[i[0],t,[]],s=1,o=i.length;s<o;s++)r=[i[s],{status:"missing"},[r]];return[{pos:n,ids:r}]}(e._revisions,o),i=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((s=Mt(e._rev)).error)return s;i=s.prefix,r=s.id,e._rev_tree=[{pos:i,ids:[r,o,[]]}]}oe(e._id),e._rev=i+"-"+r;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!Tt[c]){var u=ne(Y,c);throw u.message=Y.message+": "+c,u}l&&!Nt[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function Ft(e,t,n){var i=function(e){try{return me(e)}catch(e){return{error:ne(W,"Attachment is not a valid base64 string")}}}(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===t?we(i,e.content_type):"base64"===t?ve(i):i,Ce(i,(function(t){e.digest="md5-"+t,n()}))}function Dt(e,t,n){if(e.stub)return n();"string"==typeof e.data?Ft(e,t,n):function(e,t,n){Ce(e.data,(function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,"binary"===t?Se(e.data,(function(t){e.data=t,n()})):"base64"===t?xe(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function jt(e,t,n,i,r,s,o,a){if(function(e,t){for(var n,i=e.slice(),r=t.split("-"),s=parseInt(r[0],10),o=r[1];n=i.pop();){if(n.pos===s&&n.ids[0]===o)return!0;for(var a=n.ids[2],c=0,l=a.length;c<l;c++)i.push({pos:n.pos+1,ids:a[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return i[r]=n,s();var c=t.winningRev||Be(t),l="deleted"in t?t.deleted:Ze(t,c),u="deleted"in n.metadata?n.metadata.deleted:Ze(n.metadata),d=/^1-/.test(n.metadata.rev);if(l&&!u&&a&&d){var h=n.data;h._rev=c,h._id=n.metadata.id,n=qt(h,a)}var f=Ue(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&u&&"new_leaf"!==f.conflicts||!l&&"new_leaf"!==f.conflicts||l&&!u&&"new_branch"===f.conflicts)){var g=ne(H);return i[r]=g,s()}var p=n.metadata.rev;n.metadata.rev_tree=f.tree,n.stemmedRevs=f.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var m=Be(n.metadata),v=Ze(n.metadata,m),y=l===v?0:l<v?-1:1;o(n,m,v,p===m?v:Ze(n.metadata,p),!0,y,r,s)}function Rt(e,t,n,i,s,o,a,c,l){e=e||1e3;var u=c.new_edits,d=new r,h=0,f=t.length;function g(){++h===f&&l&&l()}t.forEach((function(e,t){if(e._id&&Ge(e._id)){var i=e._deleted?"_removeLocal":"_putLocal";n[i](e,{ctx:s},(function(e,n){o[t]=e||n,g()}))}else{var r=e.metadata.id;d.has(r)?(f--,d.get(r).push([e,t])):d.set(r,[[e,t]])}})),d.forEach((function(t,n){var r=0;function s(){++r<t.length?l():g()}function l(){var l=t[r],d=l[0],h=l[1];if(i.has(n))jt(e,i.get(n),d,o,h,s,a,u);else{var f=Ue([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=f.tree,d.stemmedRevs=f.stemmedRevs||[],function(e,t,n){var i=Be(e.metadata),r=Ze(e.metadata,i);if("was_delete"in c&&r)return o[t]=ne(z,"deleted"),n();if(u&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var s=ne(H);return o[t]=s,n()}a(e,i,r,r,!1,r?0:1,t,n)}(d,h,s)}}l()}))}var Vt="document-store",zt="meta-store";function Ht(e){try{return JSON.stringify(e)}catch(t){return d.a.stringify(e)}}function Ut(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(ne(Q,n,t.type))}}function $t(e,t,n){return{data:Ht(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Zt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return d.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Gt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Wt(e,t,n,i){n?i(e?"string"!=typeof e?e:_e(e,t):ye([""],{type:t})):e?"string"!=typeof e?Ee(e,(function(e){i(ve(e))})):i(e):i("")}function Kt(e,t,n,i){var r=Object.keys(e._attachments||{});if(!r.length)return i&&i();var s=0;function o(){++s===r.length&&i&&i()}r.forEach((function(i){t.attachments&&t.include_docs?function(e,t){var i=e._attachments[t],r=i.digest;n.objectStore("attach-store").get(r).onsuccess=function(e){i.body=e.target.result.body,o()}}(e,i):(e._attachments[i].stub=!0,o())}))}function Yt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var r=i.body,s=i.content_type;return new Promise((function(o){Wt(r,s,t,(function(t){e.doc._attachments[n]=j(I(i,["digest","content_type"]),{data:t}),o()}))}))}})))}})))}function Xt(e,t,n){var i=[],r=n.objectStore("by-sequence"),s=n.objectStore("attach-store"),o=n.objectStore("attach-seq-store"),a=e.length;function c(){--a||function(){if(!i.length)return;i.forEach((function(e){o.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::ï¿¿",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}}))}()}e.forEach((function(e){var n=r.index("_doc_id_rev"),s=t+"::"+e;n.getKey(s).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();r.delete(t),o.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),o.delete(t.primaryKey),t.continue()}else c()}}}))}function Jt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var Qt=new M;function en(e,t,n,i,s,o){for(var a,c,l,u,d,h,f,g,p=t.docs,m=0,v=p.length;m<v;m++){var y=p[m];y._id&&Ge(y._id)||(y=p[m]=qt(y,n.new_edits,e)).error&&!f&&(f=y)}if(f)return o(f);var b=!1,w=0,_=new Array(p.length),E=new r,S=!1,x=i._meta.blobSupport?"blob":"base64";function L(){b=!0,A()}function A(){g&&b&&(g.docCount+=w,h.put(g))}function k(){S||(Qt.notify(i._meta.name),o(null,_))}function C(e,t,n,i,r,s,o,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,i&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,i,r,s){var o=e.data,a=0,c=Object.keys(o._attachments);function l(){a===c.length&&I(e,t,n,i,r,s)}function d(){a++,l()}c.forEach((function(n){var i=e.data._attachments[n];if(i.stub)a++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(t,10),function(e,t,n){u.count(e).onsuccess=function(i){if(i.target.result)return n();var r={digest:e,body:t};u.put(r).onsuccess=n}}(i.digest,r,d)}}))}(e,t,n,r,o,a);w+=s,A(),I(e,t,n,r,o,a)}function I(e,t,n,r,s,o){var u=e.data,h=e.metadata;function f(s){var o=e.stemmedRevs||[];r&&i.auto_compaction&&(o=o.concat(function(e){var t=[];return Te(e.rev_tree,(function(e,n,i,r,s){"available"!==s.status||e||(t.push(n+"-"+i),s.status="missing")})),t}(e.metadata))),o&&o.length&&Xt(o,e.metadata.id,a),h.seq=s.target.result;var l=$t(h,t,n);c.put(l).onsuccess=g}function g(){_[s]={ok:!0,id:h.id,rev:h.rev},E.set(e.metadata.id,e.metadata),function(e,t,n){var i=0,r=Object.keys(e.data._attachments||{});if(!r.length)return n();function s(){++i===r.length&&n()}function o(n){var i=e.data._attachments[n].digest,r=d.put({seq:t,digestSeq:i+"::"+t});r.onsuccess=s,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),s()}}for(var a=0;a<r.length;a++)o(r[a])}(e,h.seq,o)}u._doc_id_rev=h.id+"::"+h.rev,delete u._id,delete u._rev;var p=l.put(u);p.onsuccess=f,p.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(u._doc_id_rev).onsuccess=function(e){l.put(u,e.target.result).onsuccess=f}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function s(){r++,e.length===r&&(i?n(i):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return s();function o(e){i=e,++r===n.length&&s()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&Dt(e.data._attachments[a],t,o)}))}(p,x,(function(t){if(t)return o(t);!function(){var t=Jt(s,[Vt,"by-sequence","attach-store","local-store","attach-seq-store",zt],"readwrite");if(t.error)return o(t.error);(a=t.txn).onabort=Ut(o),a.ontimeout=Ut(o),a.oncomplete=k,c=a.objectStore(Vt),l=a.objectStore("by-sequence"),u=a.objectStore("attach-store"),d=a.objectStore("attach-seq-store"),(h=a.objectStore(zt)).get(zt).onsuccess=function(e){g=e.target.result,A()},function(e){var t=[];if(p.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var i=e.data._attachments[n];i.stub&&t.push(i.digest)}))})),!t.length)return e();var n,i=0;t.forEach((function(r){!function(e,t){u.get(e).onsuccess=function(n){if(n.target.result)t();else{var i=ne(te,"unknown stub attachment with digest "+e);i.status=412,t(i)}}}(r,(function(r){r&&!n&&(n=r),++i===t.length&&e(n)}))}))}((function(t){if(t)return S=!0,o(t);!function(){if(!p.length)return;var t=0;function r(){++t===p.length&&Rt(e.revs_limit,p,i,E,a,_,C,n,L)}function s(e){var t=Zt(e.target.result);t&&E.set(t.id,t),r()}for(var o=0,l=p.length;o<l;o++){var u=p[o];if(u._id&&Ge(u._id))r();else c.get(u.metadata.id).onsuccess=s}}()}))}()}))}function tn(e,t,n,i,r){var s,o,a;function c(e){o=e.target.result,s&&r(s,o,a)}function l(e){s=e.target.result,o&&r(s,o,a)}function u(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}-1===i&&(i=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&i>1&&!n?(a={continue:function(){if(!s.length)return r();var n,a=s[s.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);t=n,s=null,o=null,e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l}},e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l):n?e.openCursor(t,"prev").onsuccess=u:e.openCursor(t).onsuccess=u}function nn(e,t,n){var i,r,s="startkey"in e&&e.startkey,o="endkey"in e&&e.endkey,a="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,u="number"==typeof e.limit?e.limit:-1,d=!1!==e.inclusive_end;if(!c&&(r=(i=function(e,t,n,i,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(e){return{error:e}}return null}(s,o,d,a,e.descending))&&i.error)&&("DataError"!==r.name||0!==r.code))return n(ne(Q,r.name,r.message));var h=[Vt,"by-sequence",zt];e.attachments&&h.push("attach-store");var f=Jt(t,h,"readonly");if(f.error)return n(f.error);var g=f.txn;g.oncomplete=function(){e.attachments?Yt(E,e.binary).then(A):A()},g.onabort=Ut(n);var p,m,v,y=g.objectStore(Vt),b=g.objectStore("by-sequence"),w=g.objectStore(zt),_=b.index("_doc_id_rev"),E=[];function S(t,n){var i={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(E.push(i),i.value.deleted=!0,i.doc=null):l--<=0&&(E.push(i),e.include_docs&&function(t,n,i){var r=t.id+"::"+i;_.get(r).onsuccess=function(i){if(n.doc=Gt(i.target.result)||{},e.conflicts){var r=qe(t);r.length&&(n.doc._conflicts=r)}Kt(n.doc,e,g)}}(n,i,t))}function x(e){for(var t=0,n=e.length;t<n&&E.length!==u;t++){var i=e[t];if(i.error&&c)E.push(i);else{var r=Zt(i);S(r.winningRev,r)}}}function L(e,t,n){n&&(x(t),E.length<u&&n.continue())}function A(){var t={total_rows:p,offset:e.skip,rows:E};e.update_seq&&void 0!==m&&(t.update_seq=m),n(null,t)}return w.get(zt).onsuccess=function(e){p=e.target.result.docCount},e.update_seq&&(v=function(e){e.target.result&&e.target.result.length>0&&(m=e.target.result[0])},b.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),v({target:{result:[n]}})}),r||0===u?void 0:c?function(e,t,n){var i=new Array(e.length),r=0;e.forEach((function(s,o){t.get(s).onsuccess=function(t){t.target.result?i[o]=t.target.result:i[o]={key:s,error:"not_found"},++r===e.length&&n(e,i,{})}}))}(e.keys,y,L):-1===u?function(e,t,n){if("function"!=typeof e.getAll){var i=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}}else e.getAll(t).onsuccess=n}(y,i,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),x(n)})):void tn(y,i,e.descending,u+l,L)}var rn=!1,sn=[];function on(){!rn&&sn.length&&(rn=!0,sn.shift()())}function an(e,t,n,s){if((e=L(e)).continuous){var o=n+":"+Oe();return Qt.addListener(n,o,t,e),Qt.notify(n),{cancel:function(){Qt.removeListener(n,o)}}}var a=e.doc_ids&&new i(e.doc_ids);e.since=e.since||0;var c=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var u,d,h,f,g=[],p=0,m=re(e),v=new r;function y(e,t,n,i){if(n.seq!==t)return i();if(n.winningRev===e._rev)return i(n,e);var r=e._id+"::"+n.winningRev;f.get(r).onsuccess=function(e){i(n,Gt(e.target.result))}}function b(){e.complete(null,{results:g,last_seq:c})}var w=[Vt,"by-sequence"];e.attachments&&w.push("attach-store");var _=Jt(s,w,"readonly");if(_.error)return e.complete(_.error);(u=_.txn).onabort=Ut(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?Yt(g).then(b):b()},d=u.objectStore("by-sequence"),h=u.objectStore(Vt),f=d.index("_doc_id_rev"),tn(d,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,(function(t,n,i){if(i&&t.length){var r=new Array(t.length),s=new Array(t.length),o=0;n.forEach((function(n,c){!function(e,t,n){if(a&&!a.has(e._id))return n();var i=v.get(e._id);if(i)return y(e,t,i,n);h.get(e._id).onsuccess=function(r){i=Zt(r.target.result),v.set(e._id,i),y(e,t,i,n)}}(Gt(n),t[c],(function(n,a){s[c]=n,r[c]=a,++o===t.length&&function(){for(var t=[],n=0,o=r.length;n<o&&p!==l;n++){var a=r[n];if(a){var c=s[n];t.push(d(c,a))}}Promise.all(t).then((function(t){for(var n=0,i=t.length;n<i;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),p!==l&&i.continue()}()}))}))}function d(t,n){var i=e.processChange(n,t,e);c=i.seq=t.seq;var r=m(i);return"object"==typeof r?Promise.reject(r):r?(p++,e.return_docs&&g.push(i),e.attachments&&e.include_docs?new Promise((function(t){Kt(n,e,u,(function(){Yt([i],e.binary).then((function(){t(i)}))}))})):Promise.resolve(i)):Promise.resolve()}}))}var cn,ln=new r,un=new r;function dn(e,t){var n=this;!function(e,t,n){sn.push((function(){e((function(e,i){!function(e,t,n,i){try{e(t,n)}catch(t){i.emit("error",t)}}(t,e,i,n),rn=!1,o()((function(){on()}))}))})),on()}((function(t){!function(e,t,n){var i=t.name,r=null,s=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&s&&(t.reason=s),e(t,n)}}function c(e,t){var n=e.objectStore(Vt);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r=i.value,s=Ze(r);r.deletedOrLocal=s?"1":"0",n.put(r),i.continue()}else t()}}function l(e,t){var n=e.objectStore("local-store"),i=e.objectStore(Vt),r=e.objectStore("by-sequence");i.openCursor().onsuccess=function(e){var s=e.target.result;if(s){var o=s.value,a=o.id,c=Ge(a),l=Be(o);if(c){var u=a+"::"+l,d=a+"::",h=a+"::~",f=r.index("_doc_id_rev"),g=IDBKeyRange.bound(d,h,!1,!1),p=f.openCursor(g);p.onsuccess=function(e){if(p=e.target.result){var t=p.value;t._doc_id_rev===u&&n.put(t),r.delete(p.primaryKey),p.continue()}else i.delete(s.primaryKey),s.continue()}}else s.continue()}else t&&t()}}function u(e,t){var n=e.objectStore("by-sequence"),i=e.objectStore("attach-store"),r=e.objectStore("attach-seq-store");i.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var i=n.value,s=n.primaryKey,o=Object.keys(i._attachments||{}),a={},c=0;c<o.length;c++){a[i._attachments[o[c]].digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var u=l[c];r.put({seq:s,digestSeq:u+"::"+s})}n.continue()}}}function d(e){var t=e.objectStore("by-sequence"),n=e.objectStore(Vt);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r,s=(r=i.value).data?Zt(r):(r.deleted="1"===r.deletedOrLocal,r);if(s.winningRev=s.winningRev||Be(s),s.seq)return o();!function(){var e=s.id+"::",n=s.id+"::ï¿¿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),r=0;i.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=r,o();var n=t.primaryKey;n>r&&(r=n),t.continue()}}()}function o(){var e=$t(s,s.winningRev,s.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=k((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,i,s){en(t,n,i,e,r,a(s))},e._get=function(e,t,n){var i,s,o,a=t.ctx;if(!a){var c=Jt(r,[Vt,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function l(){n(o,{doc:i,metadata:s,ctx:a})}a.objectStore(Vt).get(e).onsuccess=function(e){if(!(s=Zt(e.target.result)))return o=ne(z,"missing"),l();var n;if(t.rev)n=t.latest?function(e,t){for(var n,i=t.rev_tree.slice();n=i.pop();){var r=n.pos,s=n.ids,o=s[0],a=s[1],c=s[2],l=0===c.length,u=n.history?n.history.slice():[];if(u.push({id:o,pos:r,opts:a}),l)for(var d=0,h=u.length;d<h;d++){var f=u[d];if(f.pos+"-"+f.id===e)return r+"-"+o}for(var g=0,p=c.length;g<p;g++)i.push({pos:r+1,ids:c[g],history:u})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,s):t.rev;else if(n=s.winningRev,Ze(s))return o=ne(z,"deleted"),l();var r=a.objectStore("by-sequence"),c=s.id+"::"+n;r.index("_doc_id_rev").get(c).onsuccess=function(e){if((i=e.target.result)&&(i=Gt(i)),!i)return o=ne(z,"missing"),l();l()}}},e._getAttachment=function(e,t,n,i,s){var o;if(i.ctx)o=i.ctx;else{var a=Jt(r,[Vt,"by-sequence","attach-store"],"readonly");if(a.error)return s(a.error);o=a.txn}var c=n.digest,l=n.content_type;o.objectStore("attach-store").get(c).onsuccess=function(e){Wt(e.target.result.body,l,i.binary,(function(e){s(null,e)}))}},e._info=function(t){var n,i,s=Jt(r,[zt,"by-sequence"],"readonly");if(s.error)return t(s.error);var o=s.txn;o.objectStore(zt).get(zt).onsuccess=function(e){i=e.target.result.docCount},o.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},o.oncomplete=function(){t(null,{doc_count:i,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){nn(e,r,a(t))},e._changes=function(t){return an(t,e,i,r)},e._close=function(e){r.close(),ln.delete(i),e()},e._getRevisionTree=function(e,t){var n=Jt(r,[Vt],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Vt).get(e).onsuccess=function(e){var n=Zt(e.target.result);n?t(null,n.rev_tree):t(ne(z))}},e._doCompaction=function(e,t,n){var i=Jt(r,[Vt,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(i.error)return n(i.error);var s=i.txn;s.objectStore(Vt).get(e).onsuccess=function(n){var i=Zt(n.target.result);Te(i.rev_tree,(function(e,n,i,r,s){var o=n+"-"+i;-1!==t.indexOf(o)&&(s.status="missing")})),Xt(t,e,s);var r=i.winningRev,o=i.deleted;s.objectStore(Vt).put($t(i,r,o))},s.onabort=Ut(n),s.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Jt(r,["local-store"],"readonly");if(n.error)return t(n.error);var i=n.txn.objectStore("local-store").get(e);i.onerror=Ut(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(ne(z))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var i=e._rev,s=e._id;e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var o,a=t.ctx;if(!a){var c=Jt(r,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Ut(n),a.oncomplete=function(){o&&n(null,o)}}var l,u=a.objectStore("local-store");i?(l=u.get(s)).onsuccess=function(r){var s=r.target.result;s&&s._rev===i?u.put(e).onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}:n(ne(H))}:((l=u.add(e)).onerror=function(e){n(ne(H)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var i,s=t.ctx;if(!s){var o=Jt(r,["local-store"],"readwrite");if(o.error)return n(o.error);(s=o.txn).oncomplete=function(){i&&n(null,i)}}var a=e._id,c=s.objectStore("local-store"),l=c.get(a);l.onerror=Ut(n),l.onsuccess=function(r){var s=r.target.result;s&&s._rev===e._rev?(c.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(ne(z))}},e._destroy=function(e,t){Qt.removeAllListeners(i);var n=un.get(i);n&&n.result&&(n.result.close(),ln.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){un.delete(i),N()&&i in localStorage&&delete localStorage[i],t(null,{ok:!0})},r.onerror=Ut(t)};var h=ln.get(i);if(h)return r=h.idb,e._meta=h.global,o()((function(){n(null,e)}));var f=indexedDB.open(i,5);un.set(i,f),f.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Vt,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(zt,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[c,l,u,d],r=e.oldVersion;!function e(){var t=i[r-1];r++,t&&t(n,e)}()},f.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),ln.delete(i)},r.onabort=function(e){q("error","Database has a global failure",e.target.error),s=e.target.error,r.close(),ln.delete(i)};var o,a,c,l,u=r.transaction([zt,"detect-blob-support",Vt],"readwrite"),d=!1;function h(){void 0!==c&&d&&(e._meta={name:i,instanceId:l,blobSupport:c},ln.set(i,{idb:r,global:e._meta}),n(null,e))}function f(){if(void 0!==a&&void 0!==o){var e=i+"_id";e in o?l=o[e]:o[e]=l=Oe(),o.docCount=a,u.objectStore(zt).put(o)}}u.objectStore(zt).get(zt).onsuccess=function(e){o=e.target.result||{id:zt},f()},function(e,t){e.objectStore(Vt).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(u,(function(e){a=e,f()})),cn||(cn=function(e){return new Promise((function(t){var n=ye([""]),i=e.objectStore("detect-blob-support").put(n,"key");i.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},i.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(u)),cn.then((function(e){c=e,h()})),u.oncomplete=function(){d=!0,h()},u.onabort=Ut(n)},f.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",q("error",t),n(ne(Q,t))}}(n,e,t)}),t,n.constructor)}dn.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var hn={};function fn(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=_e(t.data,t.content_type)}))}function gn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function pn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){xe(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function mn(e,t){if(function(e){if(!e.prefix)return!1;var t=fe(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var i=fe(e);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),-1===i.db.indexOf("%")&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function vn(e,t){return yn(e,e.db+"/"+t)}function yn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function bn(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function wn(t,n){var i=this,r=mn(t.name,t),s=vn(r,"");t=L(t);var a,c=function(e,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,s=i.username+":"+i.password,o=ve(unescape(encodeURIComponent(s)));n.headers.set("Authorization","Basic "+o)}var a=t.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),i=-1!==t.indexOf("trident"),r=-1!==t.indexOf("edge"),s=!("method"in e)||"GET"===e.method;return(n||i||r)&&s}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||it)(e,n)};function l(e,t){return C(e,f()((function(e){d().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(i)}function u(e,t,n){var i={};return(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),c(e,t).then((function(e){return i.ok=e.ok,i.status=e.status,e.json()})).then((function(e){if(i.data=e,!i.ok){i.data.status=i.status;var t=ie(i.data);if(n)return n(t);throw t}if(Array.isArray(i.data)&&(i.data=i.data.map((function(e){return e.error||e.missing?ie(e):e}))),!n)return i;n(null,i.data)}))}function d(){return t.skip_setup?Promise.resolve():a||((a=u(s).catch((function(e){return e&&e.status&&404===e.status?(D(404,"PouchDB is just detecting if the remote exists."),u(s,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){a=null})),a)}function h(e){return e.split("/").map(encodeURIComponent).join("/")}o()((function(){n(null,i)})),i._remote=!0,i.type=function(){return"http"},i.id=l("id",(function(e){c(yn(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:vn(r,"");e(null,n)}))})),i.compact=l("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=L(e),u(vn(r,"_compact"),{method:"POST"}).then((function(){!function n(){i.info((function(i,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),i.bulkGet=C("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(vn(r,"_bulk_get"+bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(fn)})),t(null,n.data)})).catch(t)}function s(){var i=Math.ceil(e.docs.length/50),r=0,s=new Array(i);function o(e){return function(n,o){s[e]=o.results,++r===i&&t(null,{results:se(s)})}}for(var a=0;a<i;a++){var c=I(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1))),T(n,c,o(a))}}var o=yn(r,""),a=hn[o];"boolean"!=typeof a?i((function(e,n){e?(hn[o]=!1,D(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),s()):(hn[o]=!0,t(null,n))})):a?i(t):s()})),i._info=function(e){d().then((function(){return c(vn(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=vn(r,""),e(null,t)})).catch(e)},i.fetch=function(e,t){return d().then((function(){var n="/"===e.substring(0,1)?yn(r,e.substring(1)):vn(r,e);return c(n,t)}))},i.get=l("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function s(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return function(e,t){return new Promise((function(n,i){var r,s=0,o=0,a=0,c=e.length;function l(){++a===c?r?i(r):n():h()}function u(){s--,l()}function d(e){s--,r=r||e,l()}function h(){for(;s<t&&o<c;)s++,e[o++]().then(u,d)}h()}))}(i.map((function(i){return function(){return function(i){var s=n[i],o=gn(e._id)+"/"+h(i)+"?rev="+e._rev;return c(vn(r,o)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=s.content_type),e}return new Promise((function(t){xe(e,t)}))})).then((function(e){delete s.stub,delete s.length,s.data=e}))}(i)}})),5)}(t=L(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=gn(e),u(vn(r,e+bn(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return s(e.ok)}))):s(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),i.remove=l("remove",(function(e,t,n,i){var s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(s=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var o=s._rev||n.rev;u(vn(r,gn(s._id))+"?rev="+o,{method:"DELETE"},i).catch(i)})),i.getAttachment=l("getAttachment",(function(t,n,i,s){"function"==typeof i&&(s=i,i={});var o,a=i.rev?"?rev="+i.rev:"",l=vn(r,gn(t))+"/"+h(n)+a;c(l,{method:"GET"}).then((function(t){if(o=t.headers.get("content-type"),t.ok)return void 0===e||e.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){void 0===e||e.browser||(t.type=o),s(null,t)})).catch((function(e){s(e)}))})),i.removeAttachment=l("removeAttachment",(function(e,t,n,i){u(vn(r,gn(e)+"/"+h(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),i.putAttachment=l("putAttachment",(function(e,t,n,i,s,o){"function"==typeof s&&(o=s,s=i,i=n,n=null);var a=gn(e)+"/"+h(t),c=vn(r,a);if(n&&(c+="?rev="+n),"string"==typeof i){var l;try{l=me(i)}catch(e){return o(ne(W,"Attachment is not a valid base64 string"))}i=l?we(l,s):""}u(c,{headers:new rt({"Content-Type":s}),method:"PUT",body:i},o).catch(o)})),i._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,d().then((function(){return Promise.all(e.docs.map(pn))})).then((function(){return u(vn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},i._put=function(e,t,n){d().then((function(){return pn(e)})).then((function(){return u(vn(r,gn(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},i.allDocs=l("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},s="GET";(e=L(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var o=bn(i);void 0!==e.keys&&(s="POST",n={keys:e.keys}),u(vn(r,"_all_docs"+o),{method:s,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(fn),t(null,n.data)})).catch(t)})),i._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=L(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var s=void 0!==e.limit&&e.limit,a=s;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,c)&&(i[c]=e.query_params[c]);var l,h="GET";e.doc_ids?(i.filter="_doc_ids",h="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",h="POST",l={selector:e.selector});var f,g=new nt,p=function(n,o){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?s&&(i.limit=a):i.limit=!s||a>t?t:a;var c=vn(r,"_changes"+bn(i)),p={signal:g.signal,method:h,body:JSON.stringify(l)};f=n,e.aborted||d().then((function(){return u(c,p,o)})).catch(o)}},m={results:[]},v=function(n,i){if(!e.aborted){var r=0;if(i&&i.results){r=i.results.length,m.last_seq=i.last_seq;var c=null,l=null;"number"==typeof i.pending&&(c=i.pending),"string"!=typeof m.last_seq&&"number"!=typeof m.last_seq||(l=m.last_seq);e.query_params,i.results=i.results.filter((function(t){a--;var n=re(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&fn(t),e.return_docs&&m.results.push(t),e.onChange(t,c,l)),n}))}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(f=i.last_seq);var u=s&&a<=0||i&&r<t||e.descending;(!e.continuous||s&&a<=0)&&u?e.complete(null,m):o()((function(){p(f,v)}))}};return p(e.since||0,v),{cancel:function(){e.aborted=!0,g.abort()}}},i.revsDiff=l("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),u(vn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),i._close=function(e){e()},i._destroy=function(e,t){u(vn(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function _n(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,_n)}catch(e){}}function En(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,En)}catch(e){}}function Sn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Sn)}catch(e){}}function xn(e,t){return t&&e.then((function(e){o()((function(){t(null,e)}))}),(function(e){o()((function(){t(e)}))})),e}function Ln(e,t){return function(){var n=arguments,i=this;return e.add((function(){return t.apply(i,n)}))}}function An(e){var t=new i(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function kn(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,i){t[++n]=i})),t}function Cn(e){return new Sn("builtin "+e+" function requires map values to be numbers or number arrays")}function In(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];if("number"!=typeof r){if(!Array.isArray(r))throw Cn("_sum");t="number"==typeof t?[t]:t;for(var s=0,o=r.length;s<o;s++){var a=r[s];if("number"!=typeof a)throw Cn("_sum");void 0===t[s]?t.push(a):t[s]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}wn.valid=function(){return!0},p()(_n,Error),p()(En,Error),p()(Sn,Error);var Pn=q.bind(null,"log"),On=Array.isArray,Bn=JSON.parse;function Tn(e,t){return ge("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:In,log:Pn,isArray:On,toJSON:Bn})}function Nn(){this.promise=new Promise((function(e){e()}))}function Mn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function qn(e,t,n,i,r,s){var o,a=function(e,t){return Mn(e)+Mn(t)+"undefined"}(n,i);if(!r&&(o=e._cachedViews=e._cachedViews||{})[a])return o[a];var c=e.info().then((function(c){var l=c.db_name+"-mrview-"+(r?"temp":Ie(a));return pe(e,"_local/"+s,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var i=e.views[n]=e.views[n]||{};if(!i[l])return i[l]=!0,e})).then((function(){return e.registerDependentDatabase(l).then((function(t){var r=t.db;r.auto_compaction=!0;var s={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};return s.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return s.seq=e?e.seq:0,o&&s.db.once("destroyed",(function(){delete o[a]})),s}))}))}))}));return o&&(o[a]=c),c}Nn.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Nn.prototype.finish=function(){return this.promise};var Fn={},Dn=new Nn;function jn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Rn(e,t){try{e.emit("error",t)}catch(e){q("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),q("error",t)}}var Vn=function(e,t){return In(t)},zn=function(e,t){return t.length},Hn=function(e,t){return{sum:In(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];t+=r*r}return t}(t)}};var Un=function(e,t,n,s){function a(e,t,n){try{t(n)}catch(t){Rn(e,t)}}function c(e,t,n,i,r){try{return{output:t(n,i,r)}}catch(t){return Rn(e,t),{error:t}}}function l(e,t){var n=ft(e.key,t.key);return 0!==n?n:ft(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function d(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function h(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=_e(n.data,n.content_type)}))}))}(t),t}}function g(e,t,n,i){var r=t[e];void 0!==r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(e+"="+r))}function p(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function m(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[i]&&ft(e[n],e[i])>0)throw new _n("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new _n("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new _n("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new _n('Invalid value for integer: "'+e+'"');if(e<0)return new _n('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function v(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/doc_"+e,s={_id:r,keys:[]},o=n.get(e),a=o[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(o[1])?Promise.resolve(s):t.db.get(r).catch(v(s))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new i,s=0,o=t.rows.length;s<o;s++){var c=t.rows[s].doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var l=a.get(c._id);"value"in l&&(c.value=l.value)}}var u=kn(a);return u.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=An(u.concat(e.keys)),n.push(e),n}(e,t)}))}))}function b(e){var t="string"==typeof e?e:e.name,n=Fn[t];return n||(n=Fn[t]=new Nn),n}function w(e,n){return Ln(b(e),(function(){return function(e,n){var i,s;var o=t(e.mapFun,(function(e,t){var n={id:s._id,key:gt(e)};null!=t&&(n.value=gt(t)),i.push(n)})),c=e.seq||0;function u(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(v({_id:"_local/lastSeq",seq:0})).then((function(i){var r=kn(t);return Promise.all(r.map((function(n){return y(n,e,t)}))).then((function(t){var r=se(t);return i.seq=n,r.push(i),e.db.bulkDocs({docs:r})}))}))}(e,t,n)}}let d=0,h={view:e.name,indexed_docs:d};e.sourceDB.emit("indexing",h);var f=new Nn;function g(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:n.changes_batch_size}).then(p)}function p(t){var h=t.results;if(!h.length)return;var p=function(t){for(var n=new r,u=0,d=t.length;u<d;u++){var h=t[u];if("_"!==h.doc._id[0]){i=[],(s=h.doc)._deleted||a(e.sourceDB,o,s),i.sort(l);var f=m(i);n.set(h.doc._id,[f,h.changes])}c=h.seq}return n}(h);f.add(u(p,c)),d+=h.length;let v={view:e.name,last_seq:t.last_seq,results_count:h.length,indexed_docs:d};return e.sourceDB.emit("indexing",v),h.length<n.changes_batch_size?void 0:g()}function m(e){for(var t,n=new r,i=0,s=e.length;i<s;i++){var o=e[i],a=[o.key,o.id];i>0&&0===ft(o.key,t)&&a.push(i),n.set(mt(a),o),t=o.key}return n}return g().then((function(){return f.finish()})).then((function(){e.seq=c}))}(e,n)}))()}function _(e,t){return Ln(b(e),(function(){return function(e,t){var i,s=e.reduceFun&&!1!==t.reduce,o=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return i=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var i=function(e){for(var t=[],n=[],i=0;;){var r=e[i++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[i]),i++;break;case"3":var s=vt(e,i);t.push(s.num),i+=s.length;break;case"4":for(var o="";;){var a=e[i];if("\0"===a)break;o+=a,i++}o=o.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(o);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();yt(t,n)}}}(e.doc._id);return{key:i[0],id:i[1],value:"value"in e.doc?e.doc.value:null}}))}))}function l(a){var l;if(l=s?function(e,t,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,s=n(e.reduceFun),o=[],a=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;t.forEach((function(e){var t=o[o.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===ft(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);o.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var l=0,d=o.length;l<d;l++){var h=o[l],f=c(e.sourceDB,s,h.keys,h.values,!1);if(f.error&&f.error instanceof Sn)throw f.error;t.push({value:f.error?null:f.output,key:h.groupKey})}return{rows:u(t,i.limit,i.skip)}}(e,a,t):void 0===t.keys?{total_rows:i,offset:o,rows:a}:{total_rows:i,offset:o,rows:u(a,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){var h=An(a.map(d));return e.sourceDB.allDocs({keys:h,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new r;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=d(e),i=t.get(n);i&&(e.doc=i)})),l}))}return l}if(void 0!==t.keys){var h=t.keys.map((function(e){var n={startkey:mt([e]),endkey:mt([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(h).then(se).then(l)}var f,g,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(f=t.start_key),"startkey"in t&&(f=t.startkey),"end_key"in t&&(g=t.end_key),"endkey"in t&&(g=t.endkey),void 0!==f&&(p.startkey=t.descending?mt([f,{}]):mt([f])),void 0!==g){var m=!1!==t.inclusive_end;t.descending&&(m=!m),p.endkey=mt(m?[g,{}]:[g])}if(void 0!==t.key){var v=mt([t.key]),y=mt([t.key,{}]);p.descending?(p.endkey=v,p.startkey=y):(p.startkey=v,p.endkey=y)}return s||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=o),a(p).then(l)}(e,t)}))()}function E(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(i,r){e._query(t,n,(function(e,t){if(e)return r(e);i(t)}))}))}(t,n,i);if(ae(t))return function(e,t,n){var i,r,s,o=[],a="GET";if(g("reduce",n,o),g("include_docs",n,o),g("attachments",n,o),g("limit",n,o),g("descending",n,o),g("group",n,o),g("group_level",n,o),g("skip",n,o),g("stale",n,o),g("conflicts",n,o),g("startkey",n,o,!0),g("start_key",n,o,!0),g("endkey",n,o,!0),g("end_key",n,o,!0),g("inclusive_end",n,o),g("key",n,o,!0),g("update_seq",n,o),o=""===(o=o.join("&"))?"":"?"+o,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+c:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=jn(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+o,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(i)}).then((function(e){return r=e.ok,s=e.status,e.json()})).then((function(e){if(!r)throw e.status=s,ie(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(h(n))}return i=i||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()})),e.fetch("_temp_view"+o,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then((function(e){return r=e.ok,s=e.status,e.json()})).then((function(e){if(!r)throw e.status=s,ie(e);return e})).then(h(n))}(t,n,i);var r={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return m(i,n),Dn.add((function(){return qn(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=w(e,r).then((function(){return _(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),Dn.finish();var a=n,c=jn(a),l=c[0],u=c[1];return t.get("_design/"+l).then((function(n){var c=n.views&&n.views[u];if(!c)throw new En("ddoc "+n._id+" has no view named "+u);return s(n,u),m(i,c),qn(t,a,c.map,c.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&o()((function(){w(e,r)})),_(e,i)):w(e,r).then((function(){return _(e,i)}))}))}))}var S;return{query:function(e,t,n){var i=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=p(e.group_level),e.limit=p(e.limit),e.skip=p(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=Promise.resolve().then((function(){return E(i,e,t)}));return xn(r,n),r},viewCleanup:(S=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,i){if(e)return n(e);t(i)}))}))}(t):ae(t)?function(e){return e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new r;Object.keys(e.views).forEach((function(e){var t=jn(e),r="_design/"+t[0],s=t[1],o=n.get(r);o||(o=new i,n.set(r,o)),o.add(s)}));var s={keys:kn(n),include_docs:!0};return t.allDocs(s).then((function(i){var r={};i.rows.forEach((function(t){var i=t.key.substring(8);n.get(t.key).forEach((function(n){var s=i+"/"+n;e.views[s]||(s=n);var o=Object.keys(e.views[s]),a=t.doc&&t.doc.views&&t.doc.views[n];o.forEach((function(e){r[e]=r[e]||a}))}))}));var s=Object.keys(r).filter((function(e){return!r[e]})).map((function(e){return Ln(b(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(s).then((function(){return{ok:!0}}))}))}),v({ok:!0}))}(t)},f()((function(e){var t=e.pop(),n=S.apply(this,e);return"function"==typeof t&&xn(n,t),n})))}}("mrviews",(function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Tn(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return Vn;if(/^_count/.test(e))return zn;if(/^_stats/.test(e))return Hn;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||Tn(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new En("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var $n={query:function(e,t,n){return Un.query.call(this,e,t,n)},viewCleanup:function(e){return Un.viewCleanup.call(this,e)}};function Zn(e){return/^1-/.test(e)}function Gn(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function Wn(e,t,n,i){n=L(n);var r=[],s=!0;function o(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!Zn(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&Zn(t[0])}));if(e.length>0)return o(e)})).then((function(){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(o.docs.length)return e.bulkGet(o).then((function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var i=n.ok;return n.error&&(s=!1),i&&i._attachments?function(e,t,n){var i=ae(t)&&!ae(e),r=Object.keys(n._attachments);return i?e.get(n._id).then((function(i){return Promise.all(r.map((function(r){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(i,n,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)})))})).catch((function(e){if(404!==e.status)throw e;return Gn(t,n)})):Gn(t,n)}(t,e,i).then((function(e){var t=Object.keys(i._attachments);return e.forEach((function(e,n){var r=i._attachments[t[n]];delete r.stub,delete r.length,r.data=e})),i})):i})))}))).then((function(e){r=r.concat(se(e).filter(Boolean))}))}))})).then((function(){return{ok:s,docs:r}}))}function Kn(e,t,n,i,r){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||D(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(s){if(!r.cancelled&&s.last_seq!==n)return s.history=(s.history||[]).filter((function(e){return e.session_id!==i})),s.history.unshift({last_seq:n,session_id:i}),s.history=s.history.slice(0,5),s.version=1,s.replicator="pouchdb",s.session_id=i,s.last_seq=n,e.put(s).catch((function(s){if(409===s.status)return Kn(e,t,n,i,r);throw s}))}))}function Yn(e,t,n,i,r){this.src=e,this.target=t,this.id=n,this.returnValue=i,this.opts=r||{}}Yn.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},Yn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Kn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Yn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return Kn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Qn(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var Xn={undefined:function(e,t){return 0===ft(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var i=t[0],r=t.slice(1),s=n[0],o=n.slice(1);if(!i||0===n.length)return{last_seq:0,history:[]};if(Jn(i.session_id,n))return{last_seq:i.last_seq,history:t};if(Jn(s.session_id,r))return{last_seq:s.last_seq,history:o};return e(r,o)}(e.history,t.history)}(t,e).last_seq}};function Jn(e,t){var n=t[0],i=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Jn(e,i))}function Qn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Yn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in Xn?Xn[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Qn(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};function ei(e,t,n){var i=n.doc_ids?n.doc_ids.sort(ft):"",r=n.filter?n.filter.toString():"",s="",o="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(s=JSON.stringify(function(e){return Object.keys(e).sort(ft).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(o=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+r+o+s+i+a;return new Promise((function(e){Ce(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function ti(e,t,n,i,r){var s,a,c,l=[],u={seq:0,changes:[],docs:[]},d=!1,h=!1,f=!1,g=0,p=n.continuous||n.live||!1,m=n.batch_size||100,v=n.batches_limit||10,y=n.style||"all_docs",b=!1,w=n.doc_ids,_=n.selector,E=[],S=Oe();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var x={};function A(){return c?Promise.resolve():ei(e,t,n).then((function(r){a=r;var s={};s=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new Yn(e,t,a,i,s)}))}function k(){if(E=[],0!==s.docs.length){var e=s.docs,o={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},o).then((function(t){if(i.cancelled)throw T(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var s=Object.keys(n).length;r.doc_write_failures+=s,r.docs_written+=e.length-s,e.forEach((function(e){var t=n[e._id];if(t){r.errors.push(t);var s=(t.name||"").toLowerCase();if("unauthorized"!==s&&"forbidden"!==s)throw t;i.emit("denied",L(t))}else E.push(e)}))}),(function(t){throw r.doc_write_failures+=e.length,t}))}}function C(){if(s.error)throw new Error("There was a problem getting docs.");r.last_seq=g=s.seq;var e=L(r);return E.length&&(e.docs=E,"number"==typeof s.pending&&(e.pending=s.pending,delete s.pending),i.emit("change",e)),d=!0,c.writeCheckpoint(s.seq,S).then((function(){if(i.emit("checkpoint",{checkpoint:s.seq}),d=!1,i.cancelled)throw T(),new Error("cancelled");s=void 0,D()})).catch((function(e){throw R(e),e}))}function I(){return Wn(e,t,s.diffs,i).then((function(e){s.error=!e.ok,e.docs.forEach((function(e){delete s.diffs[e._id],r.docs_read++,s.docs.push(e)}))}))}function P(){var e;i.cancelled||s||(0!==l.length?(s=l.shift(),i.emit("checkpoint",{start_next_batch:s.seq}),(e={},s.changes.forEach((function(t){i.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(i.cancelled)throw T(),new Error("cancelled");s.diffs=e}))).then(I).then(k).then(C).then(P).catch((function(e){B("batch processing terminated with error",e)}))):O(!0))}function O(e){0!==u.changes.length?(e||h||u.changes.length>=m)&&(l.push(u),u={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),P()):0!==l.length||s||((p&&x.live||h)&&(i.state="pending",i.emit("paused")),h&&T())}function B(e,t){f||(t.message||(t.message=e),r.ok=!1,r.status="aborting",l=[],u={seq:0,changes:[],docs:[]},T(t))}function T(s){if(!(f||i.cancelled&&(r.status="cancelled",d)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=g,f=!0,s){(s=ne(s)).result=r;var o=(s.name||"").toLowerCase();"unauthorized"===o||"forbidden"===o?(i.emit("error",s),i.removeAllListeners()):function(e,t,n,i){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=F),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var r=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",r)})),t.once("active",r)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}(n,i,s,(function(){ti(e,t,n,i)}))}else i.emit("complete",r),i.removeAllListeners()}function N(e,t,r){if(i.cancelled)return T();"number"==typeof t&&(u.pending=t),re(n)(e)&&(u.seq=e.seq||r,u.changes.push(e),i.emit("checkpoint",{pending_batch:u.seq}),o()((function(){O(0===l.length&&x.live)})))}function M(e){if(b=!1,i.cancelled)return T();if(e.results.length>0)x.since=e.results[e.results.length-1].seq,D(),O(!0);else{var t=function(){p?(x.live=!0,D()):h=!0,O(!0)};s||0!==e.results.length?t():(d=!0,c.writeCheckpoint(e.last_seq,S).then((function(){d=!1,r.last_seq=g=e.last_seq,t()})).catch(R))}}function q(e){if(b=!1,i.cancelled)return T();B("changes rejected",e)}function D(){if(!b&&!h&&l.length<v){b=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var t=e.changes(x).on("change",N);t.then(s,s),t.then(M).catch(q),n.retry&&(i._changes=t,i._abortChanges=r)}function r(){t.cancel()}function s(){i.removeListener("cancel",r)}}function j(){A().then((function(){if(!i.cancelled)return c.getCheckpoint().then((function(e){x={since:g=e,limit:m,batch_size:m,style:y,doc_ids:w,selector:_,return_docs:!0},n.filter&&("string"!=typeof n.filter?x.include_docs=!0:x.filter=n.filter),"heartbeat"in n&&(x.heartbeat=n.heartbeat),"timeout"in n&&(x.timeout=n.timeout),n.query_params&&(x.query_params=n.query_params),n.view&&(x.view=n.view),D()}));T()})).catch((function(e){B("getCheckpoint rejected with ",e)}))}function R(e){d=!1,B("writeCheckpoint completed with error",e)}i.ready(e,t),i.cancelled?T():(i._addedListeners||(i.once("cancel",T),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",(function(e){n.complete(null,e)}))),i._addedListeners=!0),void 0===n.since?j():A().then((function(){return d=!0,c.writeCheckpoint(n.since,S)})).then((function(){d=!1,i.cancelled?T():(g=n.since,j())})).catch(R))}function ni(){v.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ii(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function ri(e,t,n,i){if("function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ne(X,"`doc_ids` filter parameter is not a list.");n.complete=i,(n=L(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new ni(n);return ti(ii(e,n),ii(t,n),n,r),r}function si(e,t,n,i){return"function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),(n=L(n)).PouchConstructor=n.PouchConstructor||this,new oi(e=ii(e,n),t=ii(t,n),n,i)}function oi(e,t,n,i){var r=this;this.canceled=!1;var s=n.push?j({},n,n.push):n,o=n.pull?j({},n,n.pull):n;function a(e){r.emit("change",{direction:"pull",change:e})}function c(e){r.emit("change",{direction:"push",change:e})}function l(e){r.emit("denied",{direction:"push",doc:e})}function u(e){r.emit("denied",{direction:"pull",doc:e})}function d(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function h(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function f(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function g(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ri(e,t,s),this.pull=ri(t,e,o),this.pushPaused=!0,this.pullPaused=!0;var p={};function m(e){return function(t,n){("change"===t&&(n===a||n===c)||"denied"===t&&(n===u||n===l)||"paused"===t&&(n===h||n===d)||"active"===t&&(n===g||n===f))&&(t in p||(p[t]={}),p[t][e]=!0,2===Object.keys(p[t]).length&&r.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",(function(e){"change"===e?(v(r.pull,"change",a),v(r.push,"change",c)):"denied"===e?(v(r.pull,"denied",u),v(r.push,"denied",l)):"active"===e?(v(r.pull,"active",g),v(r.push,"active",f)):"paused"===e&&(v(r.pull,"paused",h),v(r.push,"paused",d))})),this.on("removeListener",(function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",c)):"denied"===e?(r.pull.removeListener("denied",u),r.push.removeListener("denied",l)):"active"===e?(r.pull.removeListener("active",g),r.push.removeListener("active",f)):"paused"===e&&(r.pull.removeListener("paused",h),r.push.removeListener("paused",d))})),this.pull.on("removeListener",m("pull")),this.push.on("removeListener",m("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),i&&i(null,t),r.removeAllListeners(),t}),(function(e){if(r.cancel(),i?i(e):r.emit("error",e),r.removeAllListeners(),i)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}p()(ni,v.a),ni.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ni.prototype.ready=function(e,t){var n=this;function i(){n.cancel()}function r(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",i),t.once("destroyed",i),n.once("complete",r),n.once("error",r))},p()(oi,v.a),oi.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},tt.plugin((function(e){e.adapter("idb",dn,!0)})).plugin((function(e){e.adapter("http",wn,!1),e.adapter("https",wn,!1)})).plugin($n).plugin((function(e){e.replicate=ri,e.sync=si,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,i){return e.constructor.replicate(t,e,n,i)},to:function(t,n,i){return e.constructor.replicate(e,t,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}})),t.default=tt}.call(this,n(29))},function(e,t){var n,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=a(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||u||a(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,function(e,t,n){(function(e,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var s="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",g="[object GeneratorFunction]",p="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",E="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",L="[object Float32Array]",A="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",O="[object Uint16Array]",B="[object Uint32Array]",T=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,D=RegExp(q.source),j=RegExp(F.source),R=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,z=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/[\\^$.*+?()[\]{}|]/g,G=RegExp(Z.source),W=/^\s+/,K=/\s/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ie=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,ce=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,de=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ge="[\\ud800-\\udfff]",pe="["+fe+"]",me="["+he+"]",ve="\\d+",ye="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",we="[^\\ud800-\\udfff"+fe+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_e="\\ud83c[\\udffb-\\udfff]",Ee="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ae="(?:"+be+"|"+we+")",ke="(?:"+Le+"|"+we+")",Ce="(?:"+me+"|"+_e+")"+"?",Ie="[\\ufe0e\\ufe0f]?"+Ce+("(?:\\u200d(?:"+[Ee,Se,xe].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*"),Pe="(?:"+[ye,Se,xe].join("|")+")"+Ie,Oe="(?:"+[Ee+me+"?",me,Se,xe,ge].join("|")+")",Be=RegExp("['â€™]","g"),Te=RegExp(me,"g"),Ne=RegExp(_e+"(?="+_e+")|"+Oe+Ie,"g"),Me=RegExp([Le+"?"+be+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?(?="+[pe,Le,"$"].join("|")+")",ke+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?(?="+[pe,Le+Ae,"$"].join("|")+")",Le+"?"+Ae+"+(?:['â€™](?:d|ll|m|re|s|t|ve))?",Le+"+(?:['â€™](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Pe].join("|"),"g"),qe=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Fe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,De=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],je=-1,Re={};Re[L]=Re[A]=Re[k]=Re[C]=Re[I]=Re[P]=Re["[object Uint8ClampedArray]"]=Re[O]=Re[B]=!0,Re[c]=Re[l]=Re[S]=Re[u]=Re[x]=Re[d]=Re[h]=Re[f]=Re[p]=Re[m]=Re[v]=Re[y]=Re[b]=Re[w]=Re[E]=!1;var Ve={};Ve[c]=Ve[l]=Ve[S]=Ve[x]=Ve[u]=Ve[d]=Ve[L]=Ve[A]=Ve[k]=Ve[C]=Ve[I]=Ve[p]=Ve[m]=Ve[v]=Ve[y]=Ve[b]=Ve[w]=Ve[_]=Ve[P]=Ve["[object Uint8ClampedArray]"]=Ve[O]=Ve[B]=!0,Ve[h]=Ve[f]=Ve[E]=!1;var ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},He=parseFloat,Ue=parseInt,$e="object"==typeof e&&e&&e.Object===Object&&e,Ze="object"==typeof self&&self&&self.Object===Object&&self,Ge=$e||Ze||Function("return this")(),We=t&&!t.nodeType&&t,Ke=We&&"object"==typeof i&&i&&!i.nodeType&&i,Ye=Ke&&Ke.exports===We,Xe=Ye&&$e.process,Je=function(){try{var e=Ke&&Ke.require&&Ke.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Qe=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,it=Je&&Je.isSet,rt=Je&&Je.isTypedArray;function st(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,i){for(var r=-1,s=null==e?0:e.length;++r<s;){var o=e[r];t(i,o,n(o),e)}return i}function at(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function ut(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}function dt(e,t){return!!(null==e?0:e.length)&&_t(e,t,0)>-1}function ht(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function ft(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function gt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function pt(e,t,n,i){var r=-1,s=null==e?0:e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function mt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function vt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var yt=Lt("length");function bt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function wt(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}function _t(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):wt(e,St,n)}function Et(e,t,n,i){for(var r=n-1,s=e.length;++r<s;)if(i(e[r],t))return r;return-1}function St(e){return e!=e}function xt(e,t){var n=null==e?0:e.length;return n?Ct(e,t)/n:NaN}function Lt(e){return function(t){return null==t?void 0:t[e]}}function At(e){return function(t){return null==e?void 0:e[t]}}function kt(e,t,n,i,r){return r(e,(function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)})),n}function Ct(e,t){for(var n,i=-1,r=e.length;++i<r;){var s=t(e[i]);void 0!==s&&(n=void 0===n?s:n+s)}return n}function It(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Pt(e){return e?e.slice(0,Wt(e)+1).replace(W,""):e}function Ot(e){return function(t){return e(t)}}function Bt(e,t){return ft(t,(function(t){return e[t]}))}function Tt(e,t){return e.has(t)}function Nt(e,t){for(var n=-1,i=e.length;++n<i&&_t(t,e[n],0)>-1;);return n}function Mt(e,t){for(var n=e.length;n--&&_t(t,e[n],0)>-1;);return n}function qt(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var Ft=At({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"}),Dt=At({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function jt(e){return"\\"+ze[e]}function Rt(e){return qe.test(e)}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function zt(e,t){return function(n){return e(t(n))}}function Ht(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[r++]=n)}return s}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function $t(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Zt(e){return Rt(e)?function(e){var t=Ne.lastIndex=0;for(;Ne.test(e);)++t;return t}(e):yt(e)}function Gt(e){return Rt(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.split("")}(e)}function Wt(e){for(var t=e.length;t--&&K.test(e.charAt(t)););return t}var Kt=At({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Yt=function e(t){var n,i=(t=null==t?Ge:Yt.defaults(Ge.Object(),t,Yt.pick(Ge,De))).Array,r=t.Date,K=t.Error,he=t.Function,fe=t.Math,ge=t.Object,pe=t.RegExp,me=t.String,ve=t.TypeError,ye=i.prototype,be=he.prototype,we=ge.prototype,_e=t["__core-js_shared__"],Ee=be.toString,Se=we.hasOwnProperty,xe=0,Le=(n=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ae=we.toString,ke=Ee.call(ge),Ce=Ge._,Ie=pe("^"+Ee.call(Se).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=Ye?t.Buffer:void 0,Oe=t.Symbol,Ne=t.Uint8Array,qe=Pe?Pe.allocUnsafe:void 0,ze=zt(ge.getPrototypeOf,ge),$e=ge.create,Ze=we.propertyIsEnumerable,We=ye.splice,Ke=Oe?Oe.isConcatSpreadable:void 0,Xe=Oe?Oe.iterator:void 0,Je=Oe?Oe.toStringTag:void 0,yt=function(){try{var e=es(ge,"defineProperty");return e({},"",{}),e}catch(e){}}(),At=t.clearTimeout!==Ge.clearTimeout&&t.clearTimeout,Xt=r&&r.now!==Ge.Date.now&&r.now,Jt=t.setTimeout!==Ge.setTimeout&&t.setTimeout,Qt=fe.ceil,en=fe.floor,tn=ge.getOwnPropertySymbols,nn=Pe?Pe.isBuffer:void 0,rn=t.isFinite,sn=ye.join,on=zt(ge.keys,ge),an=fe.max,cn=fe.min,ln=r.now,un=t.parseInt,dn=fe.random,hn=ye.reverse,fn=es(t,"DataView"),gn=es(t,"Map"),pn=es(t,"Promise"),mn=es(t,"Set"),vn=es(t,"WeakMap"),yn=es(ge,"create"),bn=vn&&new vn,wn={},_n=ks(fn),En=ks(gn),Sn=ks(pn),xn=ks(mn),Ln=ks(vn),An=Oe?Oe.prototype:void 0,kn=An?An.valueOf:void 0,Cn=An?An.toString:void 0;function In(e){if($o(e)&&!No(e)&&!(e instanceof Tn)){if(e instanceof Bn)return e;if(Se.call(e,"__wrapped__"))return Cs(e)}return new Bn(e)}var Pn=function(){function e(){}return function(t){if(!Uo(t))return{};if($e)return $e(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function On(){}function Bn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Tn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Fn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Dn(e){var t=this.__data__=new Mn(e);this.size=t.size}function jn(e,t){var n=No(e),i=!n&&To(e),r=!n&&!i&&Do(e),s=!n&&!i&&!r&&Qo(e),o=n||i||r||s,a=o?It(e.length,me):[],c=a.length;for(var l in e)!t&&!Se.call(e,l)||o&&("length"==l||r&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||as(l,c))||a.push(l);return a}function Rn(e){var t=e.length;return t?e[Fi(0,t-1)]:void 0}function Vn(e,t){return xs(yr(e),Yn(t,0,e.length))}function zn(e){return xs(yr(e))}function Hn(e,t,n){(void 0!==n&&!Po(e[t],n)||void 0===n&&!(t in e))&&Wn(e,t,n)}function Un(e,t,n){var i=e[t];Se.call(e,t)&&Po(i,n)&&(void 0!==n||t in e)||Wn(e,t,n)}function $n(e,t){for(var n=e.length;n--;)if(Po(e[n][0],t))return n;return-1}function Zn(e,t,n,i){return ti(e,(function(e,r,s){t(i,e,n(e),s)})),i}function Gn(e,t){return e&&br(t,_a(t),e)}function Wn(e,t,n){"__proto__"==t&&yt?yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Kn(e,t){for(var n=-1,r=t.length,s=i(r),o=null==e;++n<r;)s[n]=o?void 0:ma(e,t[n]);return s}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,i,r,s){var o,a=1&t,l=2&t,h=4&t;if(n&&(o=r?n(e,i,r,s):n(e)),void 0!==o)return o;if(!Uo(e))return e;var E=No(e);if(E){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!a)return yr(e,o)}else{var T=is(e),N=T==f||T==g;if(Do(e))return hr(e,a);if(T==v||T==c||N&&!r){if(o=l||N?{}:ss(e),!a)return l?function(e,t){return br(e,ns(e),t)}(e,function(e,t){return e&&br(t,Ea(t),e)}(o,e)):function(e,t){return br(e,ts(e),t)}(e,Gn(o,e))}else{if(!Ve[T])return r?e:{};o=function(e,t,n){var i=e.constructor;switch(t){case S:return fr(e);case u:case d:return new i(+e);case x:return function(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case A:case k:case C:case I:case P:case"[object Uint8ClampedArray]":case O:case B:return gr(e,n);case p:return new i;case m:case w:return new i(e);case y:return function(e){var t=new e.constructor(e.source,ie.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new i;case _:return r=e,kn?ge(kn.call(r)):{}}var r}(e,T,a)}}s||(s=new Dn);var M=s.get(e);if(M)return M;s.set(e,o),Yo(e)?e.forEach((function(i){o.add(Xn(i,t,n,i,e,s))})):Zo(e)&&e.forEach((function(i,r){o.set(r,Xn(i,t,n,r,e,s))}));var q=E?void 0:(h?l?Gr:Zr:l?Ea:_a)(e);return at(q||e,(function(i,r){q&&(i=e[r=i]),Un(o,r,Xn(i,t,n,r,e,s))})),o}function Jn(e,t,n){var i=n.length;if(null==e)return!i;for(e=ge(e);i--;){var r=n[i],s=t[r],o=e[r];if(void 0===o&&!(r in e)||!s(o))return!1}return!0}function Qn(e,t,n){if("function"!=typeof e)throw new ve(s);return ws((function(){e.apply(void 0,n)}),t)}function ei(e,t,n,i){var r=-1,s=dt,o=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=ft(t,Ot(n))),i?(s=ht,o=!1):t.length>=200&&(s=Tt,o=!1,t=new Fn(t));e:for(;++r<a;){var u=e[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,o&&d==d){for(var h=l;h--;)if(t[h]===d)continue e;c.push(u)}else s(t,d,i)||c.push(u)}return c}In.templateSettings={escape:R,evaluate:V,interpolate:z,variable:"",imports:{_:In}},In.prototype=On.prototype,In.prototype.constructor=In,Bn.prototype=Pn(On.prototype),Bn.prototype.constructor=Bn,Tn.prototype=Pn(On.prototype),Tn.prototype.constructor=Tn,Nn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Se.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=$n(t,e);return!(n<0)&&(n==t.length-1?t.pop():We.call(t,n,1),--this.size,!0)},Mn.prototype.get=function(e){var t=this.__data__,n=$n(t,e);return n<0?void 0:t[n][1]},Mn.prototype.has=function(e){return $n(this.__data__,e)>-1},Mn.prototype.set=function(e,t){var n=this.__data__,i=$n(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(gn||Mn),string:new Nn}},qn.prototype.delete=function(e){var t=Jr(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return Jr(this,e).get(e)},qn.prototype.has=function(e){return Jr(this,e).has(e)},qn.prototype.set=function(e,t){var n=Jr(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Fn.prototype.add=Fn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Fn.prototype.has=function(e){return this.__data__.has(e)},Dn.prototype.clear=function(){this.__data__=new Mn,this.size=0},Dn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Dn.prototype.get=function(e){return this.__data__.get(e)},Dn.prototype.has=function(e){return this.__data__.has(e)},Dn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Mn){var i=n.__data__;if(!gn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(i)}return n.set(e,t),this.size=n.size,this};var ti=Er(li),ni=Er(ui,!0);function ii(e,t){var n=!0;return ti(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function ri(e,t,n){for(var i=-1,r=e.length;++i<r;){var s=e[i],o=t(s);if(null!=o&&(void 0===a?o==o&&!Jo(o):n(o,a)))var a=o,c=s}return c}function si(e,t){var n=[];return ti(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function oi(e,t,n,i,r){var s=-1,o=e.length;for(n||(n=os),r||(r=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?oi(a,t-1,n,i,r):gt(r,a):i||(r[r.length]=a)}return r}var ai=Sr(),ci=Sr(!0);function li(e,t){return e&&ai(e,t,_a)}function ui(e,t){return e&&ci(e,t,_a)}function di(e,t){return ut(t,(function(t){return Vo(e[t])}))}function hi(e,t){for(var n=0,i=(t=cr(t,e)).length;null!=e&&n<i;)e=e[As(t[n++])];return n&&n==i?e:void 0}function fi(e,t,n){var i=t(e);return No(e)?i:gt(i,n(e))}function gi(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in ge(e)?function(e){var t=Se.call(e,Je),n=e[Je];try{e[Je]=void 0;var i=!0}catch(e){}var r=Ae.call(e);i&&(t?e[Je]=n:delete e[Je]);return r}(e):function(e){return Ae.call(e)}(e)}function pi(e,t){return e>t}function mi(e,t){return null!=e&&Se.call(e,t)}function vi(e,t){return null!=e&&t in ge(e)}function yi(e,t,n){for(var r=n?ht:dt,s=e[0].length,o=e.length,a=o,c=i(o),l=1/0,u=[];a--;){var d=e[a];a&&t&&(d=ft(d,Ot(t))),l=cn(d.length,l),c[a]=!n&&(t||s>=120&&d.length>=120)?new Fn(a&&d):void 0}d=e[0];var h=-1,f=c[0];e:for(;++h<s&&u.length<l;){var g=d[h],p=t?t(g):g;if(g=n||0!==g?g:0,!(f?Tt(f,p):r(u,p,n))){for(a=o;--a;){var m=c[a];if(!(m?Tt(m,p):r(e[a],p,n)))continue e}f&&f.push(p),u.push(g)}}return u}function bi(e,t,n){var i=null==(e=ms(e,t=cr(t,e)))?e:e[As(js(t))];return null==i?void 0:st(i,e,n)}function wi(e){return $o(e)&&gi(e)==c}function _i(e,t,n,i,r){return e===t||(null==e||null==t||!$o(e)&&!$o(t)?e!=e&&t!=t:function(e,t,n,i,r,s){var o=No(e),a=No(t),f=o?l:is(e),g=a?l:is(t),E=(f=f==c?v:f)==v,L=(g=g==c?v:g)==v,A=f==g;if(A&&Do(e)){if(!Do(t))return!1;o=!0,E=!1}if(A&&!E)return s||(s=new Dn),o||Qo(e)?Ur(e,t,n,i,r,s):function(e,t,n,i,r,s,o){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!s(new Ne(e),new Ne(t)));case u:case d:case m:return Po(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case w:return e==t+"";case p:var a=Vt;case b:var c=1&i;if(a||(a=Ut),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;i|=2,o.set(e,t);var f=Ur(a(e),a(t),i,r,s,o);return o.delete(e),f;case _:if(kn)return kn.call(e)==kn.call(t)}return!1}(e,t,f,n,i,r,s);if(!(1&n)){var k=E&&Se.call(e,"__wrapped__"),C=L&&Se.call(t,"__wrapped__");if(k||C){var I=k?e.value():e,P=C?t.value():t;return s||(s=new Dn),r(I,P,n,i,s)}}if(!A)return!1;return s||(s=new Dn),function(e,t,n,i,r,s){var o=1&n,a=Zr(e),c=a.length,l=Zr(t).length;if(c!=l&&!o)return!1;var u=c;for(;u--;){var d=a[u];if(!(o?d in t:Se.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var g=!0;s.set(e,t),s.set(t,e);var p=o;for(;++u<c;){d=a[u];var m=e[d],v=t[d];if(i)var y=o?i(v,m,d,t,e,s):i(m,v,d,e,t,s);if(!(void 0===y?m===v||r(m,v,n,i,s):y)){g=!1;break}p||(p="constructor"==d)}if(g&&!p){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,i,r,s)}(e,t,n,i,_i,r))}function Ei(e,t,n,i){var r=n.length,s=r,o=!i;if(null==e)return!s;for(e=ge(e);r--;){var a=n[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<s;){var c=(a=n[r])[0],l=e[c],u=a[1];if(o&&a[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Dn;if(i)var h=i(l,u,c,e,t,d);if(!(void 0===h?_i(u,l,3,i,d):h))return!1}}return!0}function Si(e){return!(!Uo(e)||(t=e,Le&&Le in t))&&(Vo(e)?Ie:oe).test(ks(e));var t}function xi(e){return"function"==typeof e?e:null==e?Ga:"object"==typeof e?No(e)?Pi(e[0],e[1]):Ii(e):nc(e)}function Li(e){if(!hs(e))return on(e);var t=[];for(var n in ge(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ai(e){if(!Uo(e))return function(e){var t=[];if(null!=e)for(var n in ge(e))t.push(n);return t}(e);var t=hs(e),n=[];for(var i in e)("constructor"!=i||!t&&Se.call(e,i))&&n.push(i);return n}function ki(e,t){return e<t}function Ci(e,t){var n=-1,r=qo(e)?i(e.length):[];return ti(e,(function(e,i,s){r[++n]=t(e,i,s)})),r}function Ii(e){var t=Qr(e);return 1==t.length&&t[0][2]?gs(t[0][0],t[0][1]):function(n){return n===e||Ei(n,e,t)}}function Pi(e,t){return ls(e)&&fs(t)?gs(As(e),t):function(n){var i=ma(n,e);return void 0===i&&i===t?va(n,e):_i(t,i,3)}}function Oi(e,t,n,i,r){e!==t&&ai(t,(function(s,o){if(r||(r=new Dn),Uo(s))!function(e,t,n,i,r,s,o){var a=ys(e,n),c=ys(t,n),l=o.get(c);if(l)return void Hn(e,n,l);var u=s?s(a,c,n+"",e,t,o):void 0,d=void 0===u;if(d){var h=No(c),f=!h&&Do(c),g=!h&&!f&&Qo(c);u=c,h||f||g?No(a)?u=a:Fo(a)?u=yr(a):f?(d=!1,u=hr(c,!0)):g?(d=!1,u=gr(c,!0)):u=[]:Wo(c)||To(c)?(u=a,To(a)?u=aa(a):Uo(a)&&!Vo(a)||(u=ss(c))):d=!1}d&&(o.set(c,u),r(u,c,i,s,o),o.delete(c));Hn(e,n,u)}(e,t,o,n,Oi,i,r);else{var a=i?i(ys(e,o),s,o+"",e,t,r):void 0;void 0===a&&(a=s),Hn(e,o,a)}}),Ea)}function Bi(e,t){var n=e.length;if(n)return as(t+=t<0?n:0,n)?e[t]:void 0}function Ti(e,t,n){t=t.length?ft(t,(function(e){return No(e)?function(t){return hi(t,1===e.length?e[0]:e)}:e})):[Ga];var i=-1;return t=ft(t,Ot(Xr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ci(e,(function(e,n,r){return{criteria:ft(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,s=t.criteria,o=r.length,a=n.length;for(;++i<o;){var c=pr(r[i],s[i]);if(c){if(i>=a)return c;var l=n[i];return c*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)}))}function Ni(e,t,n){for(var i=-1,r=t.length,s={};++i<r;){var o=t[i],a=hi(e,o);n(a,o)&&zi(s,cr(o,e),a)}return s}function Mi(e,t,n,i){var r=i?Et:_t,s=-1,o=t.length,a=e;for(e===t&&(t=yr(t)),n&&(a=ft(e,Ot(n)));++s<o;)for(var c=0,l=t[s],u=n?n(l):l;(c=r(a,u,c,i))>-1;)a!==e&&We.call(a,c,1),We.call(e,c,1);return e}function qi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==s){var s=r;as(r)?We.call(e,r,1):er(e,r)}}return e}function Fi(e,t){return e+en(dn()*(t-e+1))}function Di(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function ji(e,t){return _s(ps(e,t,Ga),e+"")}function Ri(e){return Rn(Pa(e))}function Vi(e,t){var n=Pa(e);return xs(n,Yn(t,0,n.length))}function zi(e,t,n,i){if(!Uo(e))return e;for(var r=-1,s=(t=cr(t,e)).length,o=s-1,a=e;null!=a&&++r<s;){var c=As(t[r]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=o){var u=a[c];void 0===(l=i?i(u,c,a):void 0)&&(l=Uo(u)?u:as(t[r+1])?[]:{})}Un(a,c,l),a=a[c]}return e}var Hi=bn?function(e,t){return bn.set(e,t),e}:Ga,Ui=yt?function(e,t){return yt(e,"toString",{configurable:!0,enumerable:!1,value:Ua(t),writable:!0})}:Ga;function $i(e){return xs(Pa(e))}function Zi(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=i(s);++r<s;)o[r]=e[r+t];return o}function Gi(e,t){var n;return ti(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function Wi(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var s=i+r>>>1,o=e[s];null!==o&&!Jo(o)&&(n?o<=t:o<t)?i=s+1:r=s}return r}return Ki(e,t,Ga,n)}function Ki(e,t,n,i){var r=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=n(t))!=t,a=null===t,c=Jo(t),l=void 0===t;r<s;){var u=en((r+s)/2),d=n(e[u]),h=void 0!==d,f=null===d,g=d==d,p=Jo(d);if(o)var m=i||g;else m=l?g&&(i||h):a?g&&h&&(i||!f):c?g&&h&&!f&&(i||!p):!f&&!p&&(i?d<=t:d<t);m?r=u+1:s=u}return cn(s,4294967294)}function Yi(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n],a=t?t(o):o;if(!n||!Po(a,c)){var c=a;s[r++]=0===o?0:o}}return s}function Xi(e){return"number"==typeof e?e:Jo(e)?NaN:+e}function Ji(e){if("string"==typeof e)return e;if(No(e))return ft(e,Ji)+"";if(Jo(e))return Cn?Cn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qi(e,t,n){var i=-1,r=dt,s=e.length,o=!0,a=[],c=a;if(n)o=!1,r=ht;else if(s>=200){var l=t?null:Dr(e);if(l)return Ut(l);o=!1,r=Tt,c=new Fn}else c=t?[]:a;e:for(;++i<s;){var u=e[i],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),a.push(u)}else r(c,d,n)||(c!==a&&c.push(d),a.push(u))}return a}function er(e,t){return null==(e=ms(e,t=cr(t,e)))||delete e[As(js(t))]}function tr(e,t,n,i){return zi(e,t,n(hi(e,t)),i)}function nr(e,t,n,i){for(var r=e.length,s=i?r:-1;(i?s--:++s<r)&&t(e[s],s,e););return n?Zi(e,i?0:s,i?s+1:r):Zi(e,i?s+1:0,i?r:s)}function ir(e,t){var n=e;return n instanceof Tn&&(n=n.value()),pt(t,(function(e,t){return t.func.apply(t.thisArg,gt([e],t.args))}),n)}function rr(e,t,n){var r=e.length;if(r<2)return r?Qi(e[0]):[];for(var s=-1,o=i(r);++s<r;)for(var a=e[s],c=-1;++c<r;)c!=s&&(o[s]=ei(o[s]||a,e[c],t,n));return Qi(oi(o,1),t,n)}function sr(e,t,n){for(var i=-1,r=e.length,s=t.length,o={};++i<r;){var a=i<s?t[i]:void 0;n(o,e[i],a)}return o}function or(e){return Fo(e)?e:[]}function ar(e){return"function"==typeof e?e:Ga}function cr(e,t){return No(e)?e:ls(e,t)?[e]:Ls(ca(e))}var lr=ji;function ur(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Zi(e,t,n)}var dr=At||function(e){return Ge.clearTimeout(e)};function hr(e,t){if(t)return e.slice();var n=e.length,i=qe?qe(n):new e.constructor(n);return e.copy(i),i}function fr(e){var t=new e.constructor(e.byteLength);return new Ne(t).set(new Ne(e)),t}function gr(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function pr(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e==e,s=Jo(e),o=void 0!==t,a=null===t,c=t==t,l=Jo(t);if(!a&&!l&&!s&&e>t||s&&o&&c&&!a&&!l||i&&o&&c||!n&&c||!r)return 1;if(!i&&!s&&!l&&e<t||l&&n&&r&&!i&&!s||a&&n&&r||!o&&r||!c)return-1}return 0}function mr(e,t,n,r){for(var s=-1,o=e.length,a=n.length,c=-1,l=t.length,u=an(o-a,0),d=i(l+u),h=!r;++c<l;)d[c]=t[c];for(;++s<a;)(h||s<o)&&(d[n[s]]=e[s]);for(;u--;)d[c++]=e[s++];return d}function vr(e,t,n,r){for(var s=-1,o=e.length,a=-1,c=n.length,l=-1,u=t.length,d=an(o-c,0),h=i(d+u),f=!r;++s<d;)h[s]=e[s];for(var g=s;++l<u;)h[g+l]=t[l];for(;++a<c;)(f||s<o)&&(h[g+n[a]]=e[s++]);return h}function yr(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function br(e,t,n,i){var r=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],c=i?i(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),r?Wn(n,a,c):Un(n,a,c)}return n}function wr(e,t){return function(n,i){var r=No(n)?ot:Zn,s=t?t():{};return r(n,e,Xr(i,2),s)}}function _r(e){return ji((function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&cs(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),t=ge(t);++i<r;){var a=n[i];a&&e(t,a,i,s)}return t}))}function Er(e,t){return function(n,i){if(null==n)return n;if(!qo(n))return e(n,i);for(var r=n.length,s=t?r:-1,o=ge(n);(t?s--:++s<r)&&!1!==i(o[s],s,o););return n}}function Sr(e){return function(t,n,i){for(var r=-1,s=ge(t),o=i(t),a=o.length;a--;){var c=o[e?a:++r];if(!1===n(s[c],c,s))break}return t}}function xr(e){return function(t){var n=Rt(t=ca(t))?Gt(t):void 0,i=n?n[0]:t.charAt(0),r=n?ur(n,1).join(""):t.slice(1);return i[e]()+r}}function Lr(e){return function(t){return pt(Va(Ta(t).replace(Be,"")),e,"")}}function Ar(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Pn(e.prototype),i=e.apply(n,t);return Uo(i)?i:n}}function kr(e){return function(t,n,i){var r=ge(t);if(!qo(t)){var s=Xr(n,3);t=_a(t),n=function(e){return s(r[e],e,r)}}var o=e(t,n,i);return o>-1?r[s?t[o]:o]:void 0}}function Cr(e){return $r((function(t){var n=t.length,i=n,r=Bn.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new ve(s);if(r&&!a&&"wrapper"==Kr(o))var a=new Bn([],!0)}for(i=a?i:n;++i<n;){var c=Kr(o=t[i]),l="wrapper"==c?Wr(o):void 0;a=l&&us(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Kr(l[0])].apply(a,l[3]):1==o.length&&us(o)?a[c]():a.thru(o)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&No(i))return a.plant(i).value();for(var r=0,s=n?t[r].apply(this,e):i;++r<n;)s=t[r].call(this,s);return s}}))}function Ir(e,t,n,r,s,o,a,c,l,u){var d=128&t,h=1&t,f=2&t,g=24&t,p=512&t,m=f?void 0:Ar(e);return function v(){for(var y=arguments.length,b=i(y),w=y;w--;)b[w]=arguments[w];if(g)var _=Yr(v),E=qt(b,_);if(r&&(b=mr(b,r,s,g)),o&&(b=vr(b,o,a,g)),y-=E,g&&y<u){var S=Ht(b,_);return qr(e,t,Ir,v.placeholder,n,b,S,c,l,u-y)}var x=h?n:this,L=f?x[e]:e;return y=b.length,c?b=vs(b,c):p&&y>1&&b.reverse(),d&&l<y&&(b.length=l),this&&this!==Ge&&this instanceof v&&(L=m||Ar(L)),L.apply(x,b)}}function Pr(e,t){return function(n,i){return function(e,t,n,i){return li(e,(function(e,r,s){t(i,n(e),r,s)})),i}(n,e,t(i),{})}}function Or(e,t){return function(n,i){var r;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Ji(n),i=Ji(i)):(n=Xi(n),i=Xi(i)),r=e(n,i)}return r}}function Br(e){return $r((function(t){return t=ft(t,Ot(Xr())),ji((function(n){var i=this;return e(t,(function(e){return st(e,i,n)}))}))}))}function Tr(e,t){var n=(t=void 0===t?" ":Ji(t)).length;if(n<2)return n?Di(t,e):t;var i=Di(t,Qt(e/Zt(t)));return Rt(t)?ur(Gt(i),0,e).join(""):i.slice(0,e)}function Nr(e){return function(t,n,r){return r&&"number"!=typeof r&&cs(t,n,r)&&(n=r=void 0),t=ia(t),void 0===n?(n=t,t=0):n=ia(n),function(e,t,n,r){for(var s=-1,o=an(Qt((t-e)/(n||1)),0),a=i(o);o--;)a[r?o:++s]=e,e+=n;return a}(t,n,r=void 0===r?t<n?1:-1:ia(r),e)}}function Mr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=oa(t),n=oa(n)),e(t,n)}}function qr(e,t,n,i,r,s,o,a,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=[e,t,r,u?s:void 0,u?o:void 0,u?void 0:s,u?void 0:o,a,c,l],h=n.apply(void 0,d);return us(e)&&bs(h,d),h.placeholder=i,Es(h,e,t)}function Fr(e){var t=fe[e];return function(e,n){if(e=oa(e),(n=null==n?0:cn(ra(n),292))&&rn(e)){var i=(ca(e)+"e").split("e");return+((i=(ca(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Dr=mn&&1/Ut(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Ja;function jr(e){return function(t){var n=is(t);return n==p?Vt(t):n==b?$t(t):function(e,t){return ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Rr(e,t,n,r,a,c,l,u){var d=2&t;if(!d&&"function"!=typeof e)throw new ve(s);var h=r?r.length:0;if(h||(t&=-97,r=a=void 0),l=void 0===l?l:an(ra(l),0),u=void 0===u?u:ra(u),h-=a?a.length:0,64&t){var f=r,g=a;r=a=void 0}var p=d?void 0:Wr(e),m=[e,t,n,r,a,f,g,c,l,u];if(p&&function(e,t){var n=e[1],i=t[1],r=n|i,s=r<131,a=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?mr(l,c,t[4]):c,e[4]=l?Ht(e[3],o):t[4]}(c=t[5])&&(l=e[5],e[5]=l?vr(l,c,t[6]):c,e[6]=l?Ht(e[5],o):t[6]);(c=t[7])&&(e[7]=c);128&i&&(e[8]=null==e[8]?t[8]:cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(m,p),e=m[0],t=m[1],n=m[2],r=m[3],a=m[4],!(u=m[9]=void 0===m[9]?d?0:e.length:an(m[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var r=Ar(e);return function s(){for(var o=arguments.length,a=i(o),c=o,l=Yr(s);c--;)a[c]=arguments[c];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:Ht(a,l);if((o-=u.length)<n)return qr(e,t,Ir,s.placeholder,void 0,a,u,void 0,void 0,n-o);var d=this&&this!==Ge&&this instanceof s?r:e;return st(d,this,a)}}(e,t,u):32!=t&&33!=t||a.length?Ir.apply(void 0,m):function(e,t,n,r){var s=1&t,o=Ar(e);return function t(){for(var a=-1,c=arguments.length,l=-1,u=r.length,d=i(u+c),h=this&&this!==Ge&&this instanceof t?o:e;++l<u;)d[l]=r[l];for(;c--;)d[l++]=arguments[++a];return st(h,s?n:this,d)}}(e,t,n,r);else var v=function(e,t,n){var i=1&t,r=Ar(e);return function t(){var s=this&&this!==Ge&&this instanceof t?r:e;return s.apply(i?n:this,arguments)}}(e,t,n);return Es((p?Hi:bs)(v,m),e,t)}function Vr(e,t,n,i){return void 0===e||Po(e,we[n])&&!Se.call(i,n)?t:e}function zr(e,t,n,i,r,s){return Uo(e)&&Uo(t)&&(s.set(t,e),Oi(e,t,void 0,zr,s),s.delete(t)),e}function Hr(e){return Wo(e)?void 0:e}function Ur(e,t,n,i,r,s){var o=1&n,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var l=s.get(e),u=s.get(t);if(l&&u)return l==t&&u==e;var d=-1,h=!0,f=2&n?new Fn:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],p=t[d];if(i)var m=o?i(p,g,d,t,e,s):i(g,p,d,e,t,s);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!vt(t,(function(e,t){if(!Tt(f,t)&&(g===e||r(g,e,n,i,s)))return f.push(t)}))){h=!1;break}}else if(g!==p&&!r(g,p,n,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function $r(e){return _s(ps(e,void 0,Ns),e+"")}function Zr(e){return fi(e,_a,ts)}function Gr(e){return fi(e,Ea,ns)}var Wr=bn?function(e){return bn.get(e)}:Ja;function Kr(e){for(var t=e.name+"",n=wn[t],i=Se.call(wn,t)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==e)return r.name}return t}function Yr(e){return(Se.call(In,"placeholder")?In:e).placeholder}function Xr(){var e=In.iteratee||Wa;return e=e===Wa?xi:e,arguments.length?e(arguments[0],arguments[1]):e}function Jr(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Qr(e){for(var t=_a(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,fs(r)]}return t}function es(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Si(n)?n:void 0}var ts=tn?function(e){return null==e?[]:(e=ge(e),ut(tn(e),(function(t){return Ze.call(e,t)})))}:sc,ns=tn?function(e){for(var t=[];e;)gt(t,ts(e)),e=ze(e);return t}:sc,is=gi;function rs(e,t,n){for(var i=-1,r=(t=cr(t,e)).length,s=!1;++i<r;){var o=As(t[i]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++i!=r?s:!!(r=null==e?0:e.length)&&Ho(r)&&as(o,r)&&(No(e)||To(e))}function ss(e){return"function"!=typeof e.constructor||hs(e)?{}:Pn(ze(e))}function os(e){return No(e)||To(e)||!!(Ke&&e&&e[Ke])}function as(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ce.test(e))&&e>-1&&e%1==0&&e<t}function cs(e,t,n){if(!Uo(n))return!1;var i=typeof t;return!!("number"==i?qo(n)&&as(t,n.length):"string"==i&&t in n)&&Po(n[t],e)}function ls(e,t){if(No(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Jo(e))||(U.test(e)||!H.test(e)||null!=t&&e in ge(t))}function us(e){var t=Kr(e),n=In[t];if("function"!=typeof n||!(t in Tn.prototype))return!1;if(e===n)return!0;var i=Wr(n);return!!i&&e===i[0]}(fn&&is(new fn(new ArrayBuffer(1)))!=x||gn&&is(new gn)!=p||pn&&"[object Promise]"!=is(pn.resolve())||mn&&is(new mn)!=b||vn&&is(new vn)!=E)&&(is=function(e){var t=gi(e),n=t==v?e.constructor:void 0,i=n?ks(n):"";if(i)switch(i){case _n:return x;case En:return p;case Sn:return"[object Promise]";case xn:return b;case Ln:return E}return t});var ds=_e?Vo:oc;function hs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function fs(e){return e==e&&!Uo(e)}function gs(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in ge(n)))}}function ps(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=an(r.length-t,0),a=i(o);++s<o;)a[s]=r[t+s];s=-1;for(var c=i(t+1);++s<t;)c[s]=r[s];return c[t]=n(a),st(e,this,c)}}function ms(e,t){return t.length<2?e:hi(e,Zi(t,0,-1))}function vs(e,t){for(var n=e.length,i=cn(t.length,n),r=yr(e);i--;){var s=t[i];e[i]=as(s,n)?r[s]:void 0}return e}function ys(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var bs=Ss(Hi),ws=Jt||function(e,t){return Ge.setTimeout(e,t)},_s=Ss(Ui);function Es(e,t,n){var i=t+"";return _s(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return at(a,(function(n){var i="_."+n[0];t&n[1]&&!dt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(J):[]}(i),n)))}function Ss(e){var t=0,n=0;return function(){var i=ln(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xs(e,t){var n=-1,i=e.length,r=i-1;for(t=void 0===t?i:t;++n<t;){var s=Fi(n,r),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}var Ls=function(e){var t=xo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($,(function(e,n,i,r){t.push(i?r.replace(te,"$1"):n||e)})),t}));function As(e){if("string"==typeof e||Jo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ks(e){if(null!=e){try{return Ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Cs(e){if(e instanceof Tn)return e.clone();var t=new Bn(e.__wrapped__,e.__chain__);return t.__actions__=yr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Is=ji((function(e,t){return Fo(e)?ei(e,oi(t,1,Fo,!0)):[]})),Ps=ji((function(e,t){var n=js(t);return Fo(n)&&(n=void 0),Fo(e)?ei(e,oi(t,1,Fo,!0),Xr(n,2)):[]})),Os=ji((function(e,t){var n=js(t);return Fo(n)&&(n=void 0),Fo(e)?ei(e,oi(t,1,Fo,!0),void 0,n):[]}));function Bs(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=an(i+r,0)),wt(e,Xr(t,3),r)}function Ts(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=ra(n),r=n<0?an(i+r,0):cn(r,i-1)),wt(e,Xr(t,3),r,!0)}function Ns(e){return(null==e?0:e.length)?oi(e,1):[]}function Ms(e){return e&&e.length?e[0]:void 0}var qs=ji((function(e){var t=ft(e,or);return t.length&&t[0]===e[0]?yi(t):[]})),Fs=ji((function(e){var t=js(e),n=ft(e,or);return t===js(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yi(n,Xr(t,2)):[]})),Ds=ji((function(e){var t=js(e),n=ft(e,or);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yi(n,void 0,t):[]}));function js(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Rs=ji(Vs);function Vs(e,t){return e&&e.length&&t&&t.length?Mi(e,t):e}var zs=$r((function(e,t){var n=null==e?0:e.length,i=Kn(e,t);return qi(e,ft(t,(function(e){return as(e,n)?+e:e})).sort(pr)),i}));function Hs(e){return null==e?e:hn.call(e)}var Us=ji((function(e){return Qi(oi(e,1,Fo,!0))})),$s=ji((function(e){var t=js(e);return Fo(t)&&(t=void 0),Qi(oi(e,1,Fo,!0),Xr(t,2))})),Zs=ji((function(e){var t=js(e);return t="function"==typeof t?t:void 0,Qi(oi(e,1,Fo,!0),void 0,t)}));function Gs(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(Fo(e))return t=an(e.length,t),!0})),It(t,(function(t){return ft(e,Lt(t))}))}function Ws(e,t){if(!e||!e.length)return[];var n=Gs(e);return null==t?n:ft(n,(function(e){return st(t,void 0,e)}))}var Ks=ji((function(e,t){return Fo(e)?ei(e,t):[]})),Ys=ji((function(e){return rr(ut(e,Fo))})),Xs=ji((function(e){var t=js(e);return Fo(t)&&(t=void 0),rr(ut(e,Fo),Xr(t,2))})),Js=ji((function(e){var t=js(e);return t="function"==typeof t?t:void 0,rr(ut(e,Fo),void 0,t)})),Qs=ji(Gs);var eo=ji((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ws(e,n)}));function to(e){var t=In(e);return t.__chain__=!0,t}function no(e,t){return t(e)}var io=$r((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return Kn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Tn&&as(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:no,args:[r],thisArg:void 0}),new Bn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(r)}));var ro=wr((function(e,t,n){Se.call(e,n)?++e[n]:Wn(e,n,1)}));var so=kr(Bs),oo=kr(Ts);function ao(e,t){return(No(e)?at:ti)(e,Xr(t,3))}function co(e,t){return(No(e)?ct:ni)(e,Xr(t,3))}var lo=wr((function(e,t,n){Se.call(e,n)?e[n].push(t):Wn(e,n,[t])}));var uo=ji((function(e,t,n){var r=-1,s="function"==typeof t,o=qo(e)?i(e.length):[];return ti(e,(function(e){o[++r]=s?st(t,e,n):bi(e,t,n)})),o})),ho=wr((function(e,t,n){Wn(e,n,t)}));function fo(e,t){return(No(e)?ft:Ci)(e,Xr(t,3))}var go=wr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var po=ji((function(e,t){if(null==e)return[];var n=t.length;return n>1&&cs(e,t[0],t[1])?t=[]:n>2&&cs(t[0],t[1],t[2])&&(t=[t[0]]),Ti(e,oi(t,1),[])})),mo=Xt||function(){return Ge.Date.now()};function vo(e,t,n){return t=n?void 0:t,Rr(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function yo(e,t){var n;if("function"!=typeof t)throw new ve(s);return e=ra(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var bo=ji((function(e,t,n){var i=1;if(n.length){var r=Ht(n,Yr(bo));i|=32}return Rr(e,i,t,n,r)})),wo=ji((function(e,t,n){var i=3;if(n.length){var r=Ht(n,Yr(wo));i|=32}return Rr(t,i,e,n,r)}));function _o(e,t,n){var i,r,o,a,c,l,u=0,d=!1,h=!1,f=!0;if("function"!=typeof e)throw new ve(s);function g(t){var n=i,s=r;return i=r=void 0,u=t,a=e.apply(s,n)}function p(e){return u=e,c=ws(v,t),d?g(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=o}function v(){var e=mo();if(m(e))return y(e);c=ws(v,function(e){var n=t-(e-l);return h?cn(n,o-(e-u)):n}(e))}function y(e){return c=void 0,f&&i?g(e):(i=r=void 0,a)}function b(){var e=mo(),n=m(e);if(i=arguments,r=this,l=e,n){if(void 0===c)return p(l);if(h)return dr(c),c=ws(v,t),g(l)}return void 0===c&&(c=ws(v,t)),a}return t=oa(t)||0,Uo(n)&&(d=!!n.leading,o=(h="maxWait"in n)?an(oa(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==c&&dr(c),u=0,i=l=r=c=void 0},b.flush=function(){return void 0===c?a:y(mo())},b}var Eo=ji((function(e,t){return Qn(e,1,t)})),So=ji((function(e,t,n){return Qn(e,oa(t)||0,n)}));function xo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(s);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(xo.Cache||qn),n}function Lo(e){if("function"!=typeof e)throw new ve(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xo.Cache=qn;var Ao=lr((function(e,t){var n=(t=1==t.length&&No(t[0])?ft(t[0],Ot(Xr())):ft(oi(t,1),Ot(Xr()))).length;return ji((function(i){for(var r=-1,s=cn(i.length,n);++r<s;)i[r]=t[r].call(this,i[r]);return st(e,this,i)}))})),ko=ji((function(e,t){return Rr(e,32,void 0,t,Ht(t,Yr(ko)))})),Co=ji((function(e,t){return Rr(e,64,void 0,t,Ht(t,Yr(Co)))})),Io=$r((function(e,t){return Rr(e,256,void 0,void 0,void 0,t)}));function Po(e,t){return e===t||e!=e&&t!=t}var Oo=Mr(pi),Bo=Mr((function(e,t){return e>=t})),To=wi(function(){return arguments}())?wi:function(e){return $o(e)&&Se.call(e,"callee")&&!Ze.call(e,"callee")},No=i.isArray,Mo=Qe?Ot(Qe):function(e){return $o(e)&&gi(e)==S};function qo(e){return null!=e&&Ho(e.length)&&!Vo(e)}function Fo(e){return $o(e)&&qo(e)}var Do=nn||oc,jo=et?Ot(et):function(e){return $o(e)&&gi(e)==d};function Ro(e){if(!$o(e))return!1;var t=gi(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wo(e)}function Vo(e){if(!Uo(e))return!1;var t=gi(e);return t==f||t==g||"[object AsyncFunction]"==t||"[object Proxy]"==t}function zo(e){return"number"==typeof e&&e==ra(e)}function Ho(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Uo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $o(e){return null!=e&&"object"==typeof e}var Zo=tt?Ot(tt):function(e){return $o(e)&&is(e)==p};function Go(e){return"number"==typeof e||$o(e)&&gi(e)==m}function Wo(e){if(!$o(e)||gi(e)!=v)return!1;var t=ze(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ee.call(n)==ke}var Ko=nt?Ot(nt):function(e){return $o(e)&&gi(e)==y};var Yo=it?Ot(it):function(e){return $o(e)&&is(e)==b};function Xo(e){return"string"==typeof e||!No(e)&&$o(e)&&gi(e)==w}function Jo(e){return"symbol"==typeof e||$o(e)&&gi(e)==_}var Qo=rt?Ot(rt):function(e){return $o(e)&&Ho(e.length)&&!!Re[gi(e)]};var ea=Mr(ki),ta=Mr((function(e,t){return e<=t}));function na(e){if(!e)return[];if(qo(e))return Xo(e)?Gt(e):yr(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=is(e);return(t==p?Vt:t==b?Ut:Pa)(e)}function ia(e){return e?(e=oa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ra(e){var t=ia(e),n=t%1;return t==t?n?t-n:t:0}function sa(e){return e?Yn(ra(e),0,4294967295):0}function oa(e){if("number"==typeof e)return e;if(Jo(e))return NaN;if(Uo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Uo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Pt(e);var n=se.test(e);return n||ae.test(e)?Ue(e.slice(2),n?2:8):re.test(e)?NaN:+e}function aa(e){return br(e,Ea(e))}function ca(e){return null==e?"":Ji(e)}var la=_r((function(e,t){if(hs(t)||qo(t))br(t,_a(t),e);else for(var n in t)Se.call(t,n)&&Un(e,n,t[n])})),ua=_r((function(e,t){br(t,Ea(t),e)})),da=_r((function(e,t,n,i){br(t,Ea(t),e,i)})),ha=_r((function(e,t,n,i){br(t,_a(t),e,i)})),fa=$r(Kn);var ga=ji((function(e,t){e=ge(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&cs(t[0],t[1],r)&&(i=1);++n<i;)for(var s=t[n],o=Ea(s),a=-1,c=o.length;++a<c;){var l=o[a],u=e[l];(void 0===u||Po(u,we[l])&&!Se.call(e,l))&&(e[l]=s[l])}return e})),pa=ji((function(e){return e.push(void 0,zr),st(xa,void 0,e)}));function ma(e,t,n){var i=null==e?void 0:hi(e,t);return void 0===i?n:i}function va(e,t){return null!=e&&rs(e,t,vi)}var ya=Pr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=n}),Ua(Ga)),ba=Pr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Xr),wa=ji(bi);function _a(e){return qo(e)?jn(e):Li(e)}function Ea(e){return qo(e)?jn(e,!0):Ai(e)}var Sa=_r((function(e,t,n){Oi(e,t,n)})),xa=_r((function(e,t,n,i){Oi(e,t,n,i)})),La=$r((function(e,t){var n={};if(null==e)return n;var i=!1;t=ft(t,(function(t){return t=cr(t,e),i||(i=t.length>1),t})),br(e,Gr(e),n),i&&(n=Xn(n,7,Hr));for(var r=t.length;r--;)er(n,t[r]);return n}));var Aa=$r((function(e,t){return null==e?{}:function(e,t){return Ni(e,t,(function(t,n){return va(e,n)}))}(e,t)}));function ka(e,t){if(null==e)return{};var n=ft(Gr(e),(function(e){return[e]}));return t=Xr(t),Ni(e,n,(function(e,n){return t(e,n[0])}))}var Ca=jr(_a),Ia=jr(Ea);function Pa(e){return null==e?[]:Bt(e,_a(e))}var Oa=Lr((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return Ra(ca(e).toLowerCase())}function Ta(e){return(e=ca(e))&&e.replace(le,Ft).replace(Te,"")}var Na=Lr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ma=Lr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qa=xr("toLowerCase");var Fa=Lr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Da=Lr((function(e,t,n){return e+(n?" ":"")+Ra(t)}));var ja=Lr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ra=xr("toUpperCase");function Va(e,t,n){return e=ca(e),void 0===(t=n?void 0:t)?function(e){return Fe.test(e)}(e)?function(e){return e.match(Me)||[]}(e):function(e){return e.match(Q)||[]}(e):e.match(t)||[]}var za=ji((function(e,t){try{return st(e,void 0,t)}catch(e){return Ro(e)?e:new K(e)}})),Ha=$r((function(e,t){return at(t,(function(t){t=As(t),Wn(e,t,bo(e[t],e))})),e}));function Ua(e){return function(){return e}}var $a=Cr(),Za=Cr(!0);function Ga(e){return e}function Wa(e){return xi("function"==typeof e?e:Xn(e,1))}var Ka=ji((function(e,t){return function(n){return bi(n,e,t)}})),Ya=ji((function(e,t){return function(n){return bi(e,n,t)}}));function Xa(e,t,n){var i=_a(t),r=di(t,i);null!=n||Uo(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=di(t,_a(t)));var s=!(Uo(n)&&"chain"in n&&!n.chain),o=Vo(e);return at(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),r=n.__actions__=yr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,gt([this.value()],arguments))})})),e}function Ja(){}var Qa=Br(ft),ec=Br(lt),tc=Br(vt);function nc(e){return ls(e)?Lt(As(e)):function(e){return function(t){return hi(t,e)}}(e)}var ic=Nr(),rc=Nr(!0);function sc(){return[]}function oc(){return!1}var ac=Or((function(e,t){return e+t}),0),cc=Fr("ceil"),lc=Or((function(e,t){return e/t}),1),uc=Fr("floor");var dc,hc=Or((function(e,t){return e*t}),1),fc=Fr("round"),gc=Or((function(e,t){return e-t}),0);return In.after=function(e,t){if("function"!=typeof t)throw new ve(s);return e=ra(e),function(){if(--e<1)return t.apply(this,arguments)}},In.ary=vo,In.assign=la,In.assignIn=ua,In.assignInWith=da,In.assignWith=ha,In.at=fa,In.before=yo,In.bind=bo,In.bindAll=Ha,In.bindKey=wo,In.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return No(e)?e:[e]},In.chain=to,In.chunk=function(e,t,n){t=(n?cs(e,t,n):void 0===t)?1:an(ra(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var s=0,o=0,a=i(Qt(r/t));s<r;)a[o++]=Zi(e,s,s+=t);return a},In.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var s=e[t];s&&(r[i++]=s)}return r},In.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return gt(No(n)?yr(n):[n],oi(t,1))},In.cond=function(e){var t=null==e?0:e.length,n=Xr();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new ve(s);return[n(e[0]),e[1]]})):[],ji((function(n){for(var i=-1;++i<t;){var r=e[i];if(st(r[0],this,n))return st(r[1],this,n)}}))},In.conforms=function(e){return function(e){var t=_a(e);return function(n){return Jn(n,e,t)}}(Xn(e,1))},In.constant=Ua,In.countBy=ro,In.create=function(e,t){var n=Pn(e);return null==t?n:Gn(n,t)},In.curry=function e(t,n,i){var r=Rr(t,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.curryRight=function e(t,n,i){var r=Rr(t,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.debounce=_o,In.defaults=ga,In.defaultsDeep=pa,In.defer=Eo,In.delay=So,In.difference=Is,In.differenceBy=Ps,In.differenceWith=Os,In.drop=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,(t=n||void 0===t?1:ra(t))<0?0:t,i):[]},In.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,0,(t=i-(t=n||void 0===t?1:ra(t)))<0?0:t):[]},In.dropRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0,!0):[]},In.dropWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0):[]},In.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&cs(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=ra(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:ra(i))<0&&(i+=r),i=n>i?0:sa(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},In.filter=function(e,t){return(No(e)?ut:si)(e,Xr(t,3))},In.flatMap=function(e,t){return oi(fo(e,t),1)},In.flatMapDeep=function(e,t){return oi(fo(e,t),1/0)},In.flatMapDepth=function(e,t,n){return n=void 0===n?1:ra(n),oi(fo(e,t),n)},In.flatten=Ns,In.flattenDeep=function(e){return(null==e?0:e.length)?oi(e,1/0):[]},In.flattenDepth=function(e,t){return(null==e?0:e.length)?oi(e,t=void 0===t?1:ra(t)):[]},In.flip=function(e){return Rr(e,512)},In.flow=$a,In.flowRight=Za,In.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},In.functions=function(e){return null==e?[]:di(e,_a(e))},In.functionsIn=function(e){return null==e?[]:di(e,Ea(e))},In.groupBy=lo,In.initial=function(e){return(null==e?0:e.length)?Zi(e,0,-1):[]},In.intersection=qs,In.intersectionBy=Fs,In.intersectionWith=Ds,In.invert=ya,In.invertBy=ba,In.invokeMap=uo,In.iteratee=Wa,In.keyBy=ho,In.keys=_a,In.keysIn=Ea,In.map=fo,In.mapKeys=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Wn(n,t(e,i,r),e)})),n},In.mapValues=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Wn(n,i,t(e,i,r))})),n},In.matches=function(e){return Ii(Xn(e,1))},In.matchesProperty=function(e,t){return Pi(e,Xn(t,1))},In.memoize=xo,In.merge=Sa,In.mergeWith=xa,In.method=Ka,In.methodOf=Ya,In.mixin=Xa,In.negate=Lo,In.nthArg=function(e){return e=ra(e),ji((function(t){return Bi(t,e)}))},In.omit=La,In.omitBy=function(e,t){return ka(e,Lo(Xr(t)))},In.once=function(e){return yo(2,e)},In.orderBy=function(e,t,n,i){return null==e?[]:(No(t)||(t=null==t?[]:[t]),No(n=i?void 0:n)||(n=null==n?[]:[n]),Ti(e,t,n))},In.over=Qa,In.overArgs=Ao,In.overEvery=ec,In.overSome=tc,In.partial=ko,In.partialRight=Co,In.partition=go,In.pick=Aa,In.pickBy=ka,In.property=nc,In.propertyOf=function(e){return function(t){return null==e?void 0:hi(e,t)}},In.pull=Rs,In.pullAll=Vs,In.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,Xr(n,2)):e},In.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,void 0,n):e},In.pullAt=zs,In.range=ic,In.rangeRight=rc,In.rearg=Io,In.reject=function(e,t){return(No(e)?ut:si)(e,Lo(Xr(t,3)))},In.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],s=e.length;for(t=Xr(t,3);++i<s;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return qi(e,r),n},In.rest=function(e,t){if("function"!=typeof e)throw new ve(s);return ji(e,t=void 0===t?t:ra(t))},In.reverse=Hs,In.sampleSize=function(e,t,n){return t=(n?cs(e,t,n):void 0===t)?1:ra(t),(No(e)?Vn:Vi)(e,t)},In.set=function(e,t,n){return null==e?e:zi(e,t,n)},In.setWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:zi(e,t,n,i)},In.shuffle=function(e){return(No(e)?zn:$i)(e)},In.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&cs(e,t,n)?(t=0,n=i):(t=null==t?0:ra(t),n=void 0===n?i:ra(n)),Zi(e,t,n)):[]},In.sortBy=po,In.sortedUniq=function(e){return e&&e.length?Yi(e):[]},In.sortedUniqBy=function(e,t){return e&&e.length?Yi(e,Xr(t,2)):[]},In.split=function(e,t,n){return n&&"number"!=typeof n&&cs(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ca(e))&&("string"==typeof t||null!=t&&!Ko(t))&&!(t=Ji(t))&&Rt(e)?ur(Gt(e),0,n):e.split(t,n):[]},In.spread=function(e,t){if("function"!=typeof e)throw new ve(s);return t=null==t?0:an(ra(t),0),ji((function(n){var i=n[t],r=ur(n,0,t);return i&&gt(r,i),st(e,this,r)}))},In.tail=function(e){var t=null==e?0:e.length;return t?Zi(e,1,t):[]},In.take=function(e,t,n){return e&&e.length?Zi(e,0,(t=n||void 0===t?1:ra(t))<0?0:t):[]},In.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,(t=i-(t=n||void 0===t?1:ra(t)))<0?0:t,i):[]},In.takeRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!1,!0):[]},In.takeWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3)):[]},In.tap=function(e,t){return t(e),e},In.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new ve(s);return Uo(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),_o(e,t,{leading:i,maxWait:t,trailing:r})},In.thru=no,In.toArray=na,In.toPairs=Ca,In.toPairsIn=Ia,In.toPath=function(e){return No(e)?ft(e,As):Jo(e)?[e]:yr(Ls(ca(e)))},In.toPlainObject=aa,In.transform=function(e,t,n){var i=No(e),r=i||Do(e)||Qo(e);if(t=Xr(t,4),null==n){var s=e&&e.constructor;n=r?i?new s:[]:Uo(e)&&Vo(s)?Pn(ze(e)):{}}return(r?at:li)(e,(function(e,i,r){return t(n,e,i,r)})),n},In.unary=function(e){return vo(e,1)},In.union=Us,In.unionBy=$s,In.unionWith=Zs,In.uniq=function(e){return e&&e.length?Qi(e):[]},In.uniqBy=function(e,t){return e&&e.length?Qi(e,Xr(t,2)):[]},In.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qi(e,void 0,t):[]},In.unset=function(e,t){return null==e||er(e,t)},In.unzip=Gs,In.unzipWith=Ws,In.update=function(e,t,n){return null==e?e:tr(e,t,ar(n))},In.updateWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:tr(e,t,ar(n),i)},In.values=Pa,In.valuesIn=function(e){return null==e?[]:Bt(e,Ea(e))},In.without=Ks,In.words=Va,In.wrap=function(e,t){return ko(ar(t),e)},In.xor=Ys,In.xorBy=Xs,In.xorWith=Js,In.zip=Qs,In.zipObject=function(e,t){return sr(e||[],t||[],Un)},In.zipObjectDeep=function(e,t){return sr(e||[],t||[],zi)},In.zipWith=eo,In.entries=Ca,In.entriesIn=Ia,In.extend=ua,In.extendWith=da,Xa(In,In),In.add=ac,In.attempt=za,In.camelCase=Oa,In.capitalize=Ba,In.ceil=cc,In.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=oa(n))==n?n:0),void 0!==t&&(t=(t=oa(t))==t?t:0),Yn(oa(e),t,n)},In.clone=function(e){return Xn(e,4)},In.cloneDeep=function(e){return Xn(e,5)},In.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},In.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},In.conformsTo=function(e,t){return null==t||Jn(e,t,_a(t))},In.deburr=Ta,In.defaultTo=function(e,t){return null==e||e!=e?t:e},In.divide=lc,In.endsWith=function(e,t,n){e=ca(e),t=Ji(t);var i=e.length,r=n=void 0===n?i:Yn(ra(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},In.eq=Po,In.escape=function(e){return(e=ca(e))&&j.test(e)?e.replace(F,Dt):e},In.escapeRegExp=function(e){return(e=ca(e))&&G.test(e)?e.replace(Z,"\\$&"):e},In.every=function(e,t,n){var i=No(e)?lt:ii;return n&&cs(e,t,n)&&(t=void 0),i(e,Xr(t,3))},In.find=so,In.findIndex=Bs,In.findKey=function(e,t){return bt(e,Xr(t,3),li)},In.findLast=oo,In.findLastIndex=Ts,In.findLastKey=function(e,t){return bt(e,Xr(t,3),ui)},In.floor=uc,In.forEach=ao,In.forEachRight=co,In.forIn=function(e,t){return null==e?e:ai(e,Xr(t,3),Ea)},In.forInRight=function(e,t){return null==e?e:ci(e,Xr(t,3),Ea)},In.forOwn=function(e,t){return e&&li(e,Xr(t,3))},In.forOwnRight=function(e,t){return e&&ui(e,Xr(t,3))},In.get=ma,In.gt=Oo,In.gte=Bo,In.has=function(e,t){return null!=e&&rs(e,t,mi)},In.hasIn=va,In.head=Ms,In.identity=Ga,In.includes=function(e,t,n,i){e=qo(e)?e:Pa(e),n=n&&!i?ra(n):0;var r=e.length;return n<0&&(n=an(r+n,0)),Xo(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&_t(e,t,n)>-1},In.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=an(i+r,0)),_t(e,t,r)},In.inRange=function(e,t,n){return t=ia(t),void 0===n?(n=t,t=0):n=ia(n),function(e,t,n){return e>=cn(t,n)&&e<an(t,n)}(e=oa(e),t,n)},In.invoke=wa,In.isArguments=To,In.isArray=No,In.isArrayBuffer=Mo,In.isArrayLike=qo,In.isArrayLikeObject=Fo,In.isBoolean=function(e){return!0===e||!1===e||$o(e)&&gi(e)==u},In.isBuffer=Do,In.isDate=jo,In.isElement=function(e){return $o(e)&&1===e.nodeType&&!Wo(e)},In.isEmpty=function(e){if(null==e)return!0;if(qo(e)&&(No(e)||"string"==typeof e||"function"==typeof e.splice||Do(e)||Qo(e)||To(e)))return!e.length;var t=is(e);if(t==p||t==b)return!e.size;if(hs(e))return!Li(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},In.isEqual=function(e,t){return _i(e,t)},In.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?_i(e,t,void 0,n):!!i},In.isError=Ro,In.isFinite=function(e){return"number"==typeof e&&rn(e)},In.isFunction=Vo,In.isInteger=zo,In.isLength=Ho,In.isMap=Zo,In.isMatch=function(e,t){return e===t||Ei(e,t,Qr(t))},In.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Ei(e,t,Qr(t),n)},In.isNaN=function(e){return Go(e)&&e!=+e},In.isNative=function(e){if(ds(e))throw new K("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Si(e)},In.isNil=function(e){return null==e},In.isNull=function(e){return null===e},In.isNumber=Go,In.isObject=Uo,In.isObjectLike=$o,In.isPlainObject=Wo,In.isRegExp=Ko,In.isSafeInteger=function(e){return zo(e)&&e>=-9007199254740991&&e<=9007199254740991},In.isSet=Yo,In.isString=Xo,In.isSymbol=Jo,In.isTypedArray=Qo,In.isUndefined=function(e){return void 0===e},In.isWeakMap=function(e){return $o(e)&&is(e)==E},In.isWeakSet=function(e){return $o(e)&&"[object WeakSet]"==gi(e)},In.join=function(e,t){return null==e?"":sn.call(e,t)},In.kebabCase=Na,In.last=js,In.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=ra(n))<0?an(i+r,0):cn(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):wt(e,St,r,!0)},In.lowerCase=Ma,In.lowerFirst=qa,In.lt=ea,In.lte=ta,In.max=function(e){return e&&e.length?ri(e,Ga,pi):void 0},In.maxBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),pi):void 0},In.mean=function(e){return xt(e,Ga)},In.meanBy=function(e,t){return xt(e,Xr(t,2))},In.min=function(e){return e&&e.length?ri(e,Ga,ki):void 0},In.minBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),ki):void 0},In.stubArray=sc,In.stubFalse=oc,In.stubObject=function(){return{}},In.stubString=function(){return""},In.stubTrue=function(){return!0},In.multiply=hc,In.nth=function(e,t){return e&&e.length?Bi(e,ra(t)):void 0},In.noConflict=function(){return Ge._===this&&(Ge._=Ce),this},In.noop=Ja,In.now=mo,In.pad=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Tr(en(r),n)+e+Tr(Qt(r),n)},In.padEnd=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;return t&&i<t?e+Tr(t-i,n):e},In.padStart=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;return t&&i<t?Tr(t-i,n)+e:e},In.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(ca(e).replace(W,""),t||0)},In.random=function(e,t,n){if(n&&"boolean"!=typeof n&&cs(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ia(e),void 0===t?(t=e,e=0):t=ia(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=dn();return cn(e+r*(t-e+He("1e-"+((r+"").length-1))),t)}return Fi(e,t)},In.reduce=function(e,t,n){var i=No(e)?pt:kt,r=arguments.length<3;return i(e,Xr(t,4),n,r,ti)},In.reduceRight=function(e,t,n){var i=No(e)?mt:kt,r=arguments.length<3;return i(e,Xr(t,4),n,r,ni)},In.repeat=function(e,t,n){return t=(n?cs(e,t,n):void 0===t)?1:ra(t),Di(ca(e),t)},In.replace=function(){var e=arguments,t=ca(e[0]);return e.length<3?t:t.replace(e[1],e[2])},In.result=function(e,t,n){var i=-1,r=(t=cr(t,e)).length;for(r||(r=1,e=void 0);++i<r;){var s=null==e?void 0:e[As(t[i])];void 0===s&&(i=r,s=n),e=Vo(s)?s.call(e):s}return e},In.round=fc,In.runInContext=e,In.sample=function(e){return(No(e)?Rn:Ri)(e)},In.size=function(e){if(null==e)return 0;if(qo(e))return Xo(e)?Zt(e):e.length;var t=is(e);return t==p||t==b?e.size:Li(e).length},In.snakeCase=Fa,In.some=function(e,t,n){var i=No(e)?vt:Gi;return n&&cs(e,t,n)&&(t=void 0),i(e,Xr(t,3))},In.sortedIndex=function(e,t){return Wi(e,t)},In.sortedIndexBy=function(e,t,n){return Ki(e,t,Xr(n,2))},In.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Wi(e,t);if(i<n&&Po(e[i],t))return i}return-1},In.sortedLastIndex=function(e,t){return Wi(e,t,!0)},In.sortedLastIndexBy=function(e,t,n){return Ki(e,t,Xr(n,2),!0)},In.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Wi(e,t,!0)-1;if(Po(e[n],t))return n}return-1},In.startCase=Da,In.startsWith=function(e,t,n){return e=ca(e),n=null==n?0:Yn(ra(n),0,e.length),t=Ji(t),e.slice(n,n+t.length)==t},In.subtract=gc,In.sum=function(e){return e&&e.length?Ct(e,Ga):0},In.sumBy=function(e,t){return e&&e.length?Ct(e,Xr(t,2)):0},In.template=function(e,t,n){var i=In.templateSettings;n&&cs(e,t,n)&&(t=void 0),e=ca(e),t=da({},t,i,Vr);var r,s,o=da({},t.imports,i.imports,Vr),a=_a(o),c=Bt(o,a),l=0,u=t.interpolate||ue,d="__p += '",h=pe((t.escape||ue).source+"|"+u.source+"|"+(u===z?ne:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),f="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++je+"]")+"\n";e.replace(h,(function(t,n,i,o,a,c){return i||(i=o),d+=e.slice(l,c).replace(de,jt),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var g=Se.call(t,"variable")&&t.variable;if(g){if(ee.test(g))throw new K("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(T,""):d).replace(N,"$1").replace(M,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var p=za((function(){return he(a,f+"return "+d).apply(void 0,c)}));if(p.source=d,Ro(p))throw p;return p},In.times=function(e,t){if((e=ra(e))<1||e>9007199254740991)return[];var n=4294967295,i=cn(e,4294967295);e-=4294967295;for(var r=It(i,t=Xr(t));++n<e;)t(n);return r},In.toFinite=ia,In.toInteger=ra,In.toLength=sa,In.toLower=function(e){return ca(e).toLowerCase()},In.toNumber=oa,In.toSafeInteger=function(e){return e?Yn(ra(e),-9007199254740991,9007199254740991):0===e?e:0},In.toString=ca,In.toUpper=function(e){return ca(e).toUpperCase()},In.trim=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return Pt(e);if(!e||!(t=Ji(t)))return e;var i=Gt(e),r=Gt(t);return ur(i,Nt(i,r),Mt(i,r)+1).join("")},In.trimEnd=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.slice(0,Wt(e)+1);if(!e||!(t=Ji(t)))return e;var i=Gt(e);return ur(i,0,Mt(i,Gt(t))+1).join("")},In.trimStart=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Ji(t)))return e;var i=Gt(e);return ur(i,Nt(i,Gt(t))).join("")},In.truncate=function(e,t){var n=30,i="...";if(Uo(t)){var r="separator"in t?t.separator:r;n="length"in t?ra(t.length):n,i="omission"in t?Ji(t.omission):i}var s=(e=ca(e)).length;if(Rt(e)){var o=Gt(e);s=o.length}if(n>=s)return e;var a=n-Zt(i);if(a<1)return i;var c=o?ur(o,0,a).join(""):e.slice(0,a);if(void 0===r)return c+i;if(o&&(a+=c.length-a),Ko(r)){if(e.slice(a).search(r)){var l,u=c;for(r.global||(r=pe(r.source,ca(ie.exec(r))+"g")),r.lastIndex=0;l=r.exec(u);)var d=l.index;c=c.slice(0,void 0===d?a:d)}}else if(e.indexOf(Ji(r),a)!=a){var h=c.lastIndexOf(r);h>-1&&(c=c.slice(0,h))}return c+i},In.unescape=function(e){return(e=ca(e))&&D.test(e)?e.replace(q,Kt):e},In.uniqueId=function(e){var t=++xe;return ca(e)+t},In.upperCase=ja,In.upperFirst=Ra,In.each=ao,In.eachRight=co,In.first=Ms,Xa(In,(dc={},li(In,(function(e,t){Se.call(In.prototype,t)||(dc[t]=e)})),dc),{chain:!1}),In.VERSION="4.17.21",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){In[e].placeholder=In})),at(["drop","take"],(function(e,t){Tn.prototype[e]=function(n){n=void 0===n?1:an(ra(n),0);var i=this.__filtered__&&!t?new Tn(this):this.clone();return i.__filtered__?i.__takeCount__=cn(n,i.__takeCount__):i.__views__.push({size:cn(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},Tn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Tn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Xr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),at(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Tn.prototype[e]=function(){return this[n](1).value()[0]}})),at(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Tn.prototype[e]=function(){return this.__filtered__?new Tn(this):this[n](1)}})),Tn.prototype.compact=function(){return this.filter(Ga)},Tn.prototype.find=function(e){return this.filter(e).head()},Tn.prototype.findLast=function(e){return this.reverse().find(e)},Tn.prototype.invokeMap=ji((function(e,t){return"function"==typeof e?new Tn(this):this.map((function(n){return bi(n,e,t)}))})),Tn.prototype.reject=function(e){return this.filter(Lo(Xr(e)))},Tn.prototype.slice=function(e,t){e=ra(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Tn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ra(t))<0?n.dropRight(-t):n.take(t-e)),n)},Tn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tn.prototype.toArray=function(){return this.take(4294967295)},li(Tn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=In[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);r&&(In.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,a=t instanceof Tn,c=o[0],l=a||No(t),u=function(e){var t=r.apply(In,gt([e],o));return i&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(a=l=!1);var d=this.__chain__,h=!!this.__actions__.length,f=s&&!d,g=a&&!h;if(!s&&l){t=g?t:new Tn(this);var p=e.apply(t,o);return p.__actions__.push({func:no,args:[u],thisArg:void 0}),new Bn(p,d)}return f&&g?e.apply(this,o):(p=this.thru(u),f?i?p.value()[0]:p.value():p)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);In.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(No(r)?r:[],e)}return this[n]((function(n){return t.apply(No(n)?n:[],e)}))}})),li(Tn.prototype,(function(e,t){var n=In[t];if(n){var i=n.name+"";Se.call(wn,i)||(wn[i]=[]),wn[i].push({name:t,func:n})}})),wn[Ir(void 0,2).name]=[{name:"wrapper",func:void 0}],Tn.prototype.clone=function(){var e=new Tn(this.__wrapped__);return e.__actions__=yr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yr(this.__views__),e},Tn.prototype.reverse=function(){if(this.__filtered__){var e=new Tn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Tn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=No(e),i=t<0,r=n?e.length:0,s=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=cn(t,e+o);break;case"takeRight":e=an(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=s.start,a=s.end,c=a-o,l=i?a:o-1,u=this.__iteratees__,d=u.length,h=0,f=cn(c,this.__takeCount__);if(!n||!i&&r==c&&f==c)return ir(e,this.__actions__);var g=[];e:for(;c--&&h<f;){for(var p=-1,m=e[l+=t];++p<d;){var v=u[p],y=v.iteratee,b=v.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}g[h++]=m}return g},In.prototype.at=io,In.prototype.chain=function(){return to(this)},In.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},In.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},In.prototype.plant=function(e){for(var t,n=this;n instanceof On;){var i=Cs(n);i.__index__=0,i.__values__=void 0,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},In.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Tn){var t=e;return this.__actions__.length&&(t=new Tn(this)),(t=t.reverse()).__actions__.push({func:no,args:[Hs],thisArg:void 0}),new Bn(t,this.__chain__)}return this.thru(Hs)},In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=function(){return ir(this.__wrapped__,this.__actions__)},In.prototype.first=In.prototype.head,Xe&&(In.prototype[Xe]=function(){return this}),In}();Ge._=Yt,void 0===(r=function(){return Yt}.call(t,n,t,i))||(i.exports=r)}).call(this)}).call(this,n(9),n(50)(e))},function(e,t){
/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],i=0;i<100;i++)n.push(n[i]+t);return n}function i(){this.step="    ",this.shift=n(this.step)}function r(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function s(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}i.prototype.xml=function(e,t){var i=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=i.length,s=!1,o=0,a="",c=0,l=t?n(t):this.shift;for(c=0;c<r;c++)i[c].search(/<!/)>-1?(a+=l[o]+i[c],s=!0,(i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1||i[c].search(/!DOCTYPE/)>-1)&&(s=!1)):i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1?(a+=i[c],s=!1):/^<\w/.exec(i[c-1])&&/^<\/\w/.exec(i[c])&&/^<[\w:\-\.\,]+/.exec(i[c-1])==/^<\/[\w:\-\.\,]+/.exec(i[c])[0].replace("/","")?(a+=i[c],s||o--):i[c].search(/<\w/)>-1&&-1==i[c].search(/<\//)&&-1==i[c].search(/\/>/)?a=a+=s?i[c]:l[o++]+i[c]:i[c].search(/<\w/)>-1&&i[c].search(/<\//)>-1?a=a+=s?i[c]:l[o]+i[c]:i[c].search(/<\//)>-1?a=a+=s?i[c]:l[--o]+i[c]:i[c].search(/\/>/)>-1?a=a+=s?i[c]:l[o]+i[c]:i[c].search(/<\?/)>-1||i[c].search(/xmlns\:/)>-1||i[c].search(/xmlns\=/)>-1?a+=l[o]+i[c]:a+=i[c];return"\n"==a[0]?a.slice(1):a},i.prototype.json=function(e,t){t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},i.prototype.css=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=i.length,s=0,o="",a=0,c=t?n(t):this.shift;for(a=0;a<r;a++)/\{/.exec(i[a])?o+=c[s++]+i[a]:/\}/.exec(i[a])?o+=c[--s]+i[a]:(/\*\\/.exec(i[a]),o+=c[s]+i[a]);return o.replace(/^\n{1,}/,"")},i.prototype.sql=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),o=i.length,a=[],c=0,l=this.step,u=0,d="",h=0,f=t?n(t):this.shift;for(h=0;h<o;h++)a=h%2?a.concat(i[h]):a.concat(s(i[h],l));for(o=a.length,h=0;h<o;h++){u=r(a[h],u),/\s{0,}\s{0,}SELECT\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\s{0,}SET\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(a[h])?d+=f[++c]+a[h]:/\'/.exec(a[h])?(u<1&&c&&c--,d+=a[h]):(d+=f[c]+a[h],u<1&&c&&c--)}return d=d.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},i.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},i.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},i.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},i.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renameHTML=t.newFolderHTML=t.uploadAreaHTML=void 0,t.uploadAreaHTML='<div id="document-upload-container">\n\n    <div id="initial_upload_container">\n      <div id="initial_upload_area">\n        <div id="initial_upload_message">Upload Files</div>\n      </div>\n    </div>\n    \n    <div id="uploading_container">\n      <div class="file_container" id="unpaired_container">\n\n        <div class="file-container-title">Unpaired Documents</div>\n\n        <div id="files_container">\n\n          <div id="mei_container">\n            <div class="file_heading">MEI</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="mei_list">\n              <div class="unpaired_item_container" style="width: 100%; background: #DAEAF1; border-radius: 5px;">\n                <label class="unpaired_item_label">\n                  <input type="radio" class="unpaired_item_radio" name="mei_radio_group" value="create_mei">\n                    <span style="margin-top: auto;margin-left: 3px;">\n                      Create new MEI file\n                    </span>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <div id="image_container">\n            <div class="file_heading">Images</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="image_list"></div>\n          </div>\n\n        </div>\n\n        <div id="generate-pair-button-container">\n          <div class="action_button" id="make_pair">Make Pair</div>\n        </div>\n      </div>\n\n      <div class="file_container" id="paired_container">\n\n        <div class="file-container-title">Paired Folios</div>\n        <div class="file_sort_name">\n          <div>Name</div>\n          <div class="sort_name arrow_btn">&#x22C0;</div>\n        </div>\n        <div class="folio_list" id="paired_list"></div>\n\n        <div id="upload_button_container">\n          <div class="action_button" id="upload_button">\n            Upload\n            <div id="uploading_spinner">â†»</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!--\n      <div class="file_container" id="manuscripts_container">\n        <h2 class="file_heading">Manuscripts</h2>\n        <div class="folio_list" id="manuscript_list"></div>\n      </div>\n      --\x3e\n\n    </div>\n  </div>',t.newFolderHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Create</button>\n      </div>\n    </div>\n  ',t.renameHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Confirm</button>\n      </div>\n    </div>\n  '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupingNotRecognized=void 0,t.groupingNotRecognized=function(){window.confirm("Neon does not recognize this neume grouping. Would you like to create a compound neume?")||document.getElementById("undo").click()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStaffHandler=void 0;const i=n(5),r=n(4),s=n(23),o=n(15);t.SplitStaffHandler=class{constructor(e,t){this.handler=(e=>{const t=this.staff.id,n=(0,o.getSVGRelCoords)(e.clientX,e.clientY),a={action:"split",param:{elementId:t,x:n.x}};this.neonView.edit(a,this.neonView.view.getCurrentPageURI()).then(async e=>{e&&(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success"));const n=new s.default(this.neonView,".staff");this.splitDisable(),(0,r.selectAll)([document.querySelector("#"+t)],this.neonView,n);const o=document.getElementById("moreEdit");o&&(o.innerHTML="",o.parentElement.classList.add("hidden"))})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.staff=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click Where to Split")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitNeumeHandler=void 0;const i=n(5);t.SplitNeumeHandler=class{constructor(e,t){this.handler=(e=>{const t={action:"splitNeume",param:{elementId:this.neume.id,ncId:e.target.parentElement.id}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(async e=>{e?(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success")):(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action failed","error")),this.splitDisable()})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.neume=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click The Beginning of The Second Neume")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var i=0,r=new n(t),s=e.document.createTextNode("");return r.observe(s,{characterData:!0}),function(){s.data=i=++i%2}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(9))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},function(e,t,n){"use strict";var i=n(67),r=n(68);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=b(e));return e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(69);function b(e,t,n){if(e&&r.isObject(e)&&e instanceof s)return e;var i=new s;return i.parse(e,t,n),i}s.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=o.exec(b);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||_&&m[_]||(b=b.substr(2),this.slashes=!0)}if(!m[_]&&(S||_&&!v[_])){for(var x,L,A=-1,k=0;k<h.length;k++){-1!==(C=b.indexOf(h[k]))&&(-1===A||C<A)&&(A=C)}-1!==(L=-1===A?b.lastIndexOf("@"):b.lastIndexOf("@",A))&&(x=b.slice(0,L),b=b.slice(L+1),this.auth=decodeURIComponent(x)),A=-1;for(k=0;k<d.length;k++){var C;-1!==(C=b.indexOf(d[k]))&&(-1===A||C<A)&&(A=C)}-1===A&&(A=b.length),this.host=b.slice(0,A),b=b.slice(A),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),O=(k=0,P.length);k<O;k++){var B=P[k];if(B&&!B.match(f)){for(var T="",N=0,M=B.length;N<M;N++)B.charCodeAt(N)>127?T+="x":T+=B[N];if(!T.match(f)){var q=P.slice(0,k),F=P.slice(k+1),D=B.match(g);D&&(q.push(D[1]),F.unshift(D[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=q.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var j=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+j,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!p[E])for(k=0,O=u.length;k<O;k++){var V=u[k];if(-1!==b.indexOf(V)){var z=encodeURIComponent(V);z===V&&(z=escape(V)),b=b.split(V).join(z)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var U=b.indexOf("?");if(-1!==U?(this.search=b.substr(U),this.query=b.substr(U+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,U)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var $=this.search||"";this.path=j+$}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+i},s.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(r.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var n=new s,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var g=(e.pathname||"").split("/");g.length&&!(e.host=g.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==g[0]&&g.unshift(""),g.length<2&&g.unshift(""),n.pathname=g.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",y=n.search||"";n.path=p+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||b||n.host&&e.pathname,E=_,S=n.pathname&&n.pathname.split("/")||[],x=(g=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===g[0]?g[0]=e.host:g.unshift(e.host)),e.host=null),_=_&&(""===g[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=g;else if(g.length)S||(S=[]),S.pop(),S=S.concat(g),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(x)n.hostname=n.host=S.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift());return n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var L=S.slice(-1)[0],A=(n.host||e.host||S.length>1)&&("."===L||".."===L)||""===L,k=0,C=S.length;C>=0;C--)"."===(L=S[C])?S.splice(C,1):".."===L?(S.splice(C,1),k++):k&&(S.splice(C,1),k--);if(!_&&!E)for(;k--;k)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),A&&"/"!==S.join("/").substr(-1)&&S.push("");var I,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);x&&(n.hostname=n.host=P?"":S.length?S.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift()));return(_=_||n.host&&S.length)&&!P&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var i=n(43),r=n(19);function s(e,t){this.id=e,this.ref=t}e.exports.SchemaScanResult=s,e.exports.scan=function(e,t){function n(e,t){if(t&&"object"==typeof t)if(t.$ref){var s=i.resolve(e,t.$ref);l[s]=l[s]?l[s]+1:0}else{var u=t.$id||t.id,d=u?i.resolve(e,u):e;if(d){if(d.indexOf("#")<0&&(d+="#"),c[d]){if(!r.deepCompareStrict(c[d],t))throw new Error("Schema <"+d+"> already exists with different definition");return c[d]}c[d]=t,"#"==d[d.length-1]&&(c[d.substring(0,d.length-1)]=t)}o(d+"/items",Array.isArray(t.items)?t.items:[t.items]),o(d+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),n(d+"/additionalItems",t.additionalItems),a(d+"/properties",t.properties),n(d+"/additionalProperties",t.additionalProperties),a(d+"/definitions",t.definitions),a(d+"/patternProperties",t.patternProperties),a(d+"/dependencies",t.dependencies),o(d+"/disallow",t.disallow),o(d+"/allOf",t.allOf),o(d+"/anyOf",t.anyOf),o(d+"/oneOf",t.oneOf),n(d+"/not",t.not)}}function o(e,t){if(Array.isArray(t))for(var i=0;i<t.length;i++)n(e+"/"+i,t[i])}function a(e,t){if(t&&"object"==typeof t)for(var i in t)n(e+"/"+i,t[i])}var c={},l={};return n(e,t),new s(c,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragSelect=t.clickSelect=t.setSelectHelperObjects=t.setSelectStrokeWidth=void 0;const i=n(4),r=n(27),s=n(7),o=n(15);let a,c,l,u,d=7;function h(e){"Escape"===e.key&&(document.getElementsByClassName("selected").length>0&&l.infoListeners(),(0,i.unselect)())}function f(e){if("selByBBox"!==(0,i.getSelectionType)()||!document.getElementById("displayText").checked||"Enter"!==e.key)return;const t=document.querySelector(".syllable-highlighted");if(t){document.querySelector("span."+t.id).click()}}function g(e){if("selByBBox"!==(0,i.getSelectionType)()||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Tab"!==e.key&&e.shiftKey)return;e.preventDefault();const t=document.querySelector(".syllable-highlighted"),n=Array.from(document.querySelectorAll(".syllable")).filter(e=>null!==e.querySelector(".sylTextRect-display")),r=n.indexOf(t);if(("ArrowLeft"===e.key||"Tab"===e.key&&e.shiftKey)&&r>0){(0,i.unselect)();const e=n[r-1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}else if(("ArrowRight"===e.key||"Tab"===e.key&&!e.shiftKey)&&r<n.length-1){(0,i.unselect)();const e=n[r+1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}const s=document.querySelector(".text-select");s&&s.scrollIntoView({behavior:"smooth"})}function p(){const e=document.getElementById("selByBBox");return!!e&&e.classList.contains("is-active")}function m(e){e.stopPropagation()}function v(e,t,n){if(p()||"use"===e.tagName){const r=function(e){if(p()){const t=Number(e.getAttribute("x")),n=Number(e.getAttribute("y"));return{ulx:t,uly:n,lrx:t+Number(e.getAttribute("width").slice(0,-2)),lry:n+Number(e.getAttribute("height").slice(0,-2))}}if("use"===e.tagName){const t=e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}return(0,i.getStaffBBox)(e)}(e);return!(n.x<r.ulx||t.x>r.lrx||n.y<r.uly||t.y>r.lry)}const r=(0,i.getStaffBBox)(e);return!(t.x<r.ulx&&n.x<r.ulx||t.x>r.lrx&&n.x>r.lrx||t.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)&&n.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)||t.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate)&&n.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate))}function y(e){if(c&&"insert"!==c.getUserMode()&&!e.shiftKey)if("use"===this.tagName&&"selByBBox"!==(0,i.getSelectionType)()){if(null===this.closest(".selected")){let e=[this];const n=/E9B[45678]/,r=/E9B[9ABC]/;if(this.getAttribute("xlink:href").match(r)){const t=this.closest(".nc"),i=this.closest(".neume"),r=Array.from(i.children).indexOf(t),s=i.children[r-1].children[0];console.assert(s.getAttribute("xlink:href").match(n),"First glyph of ligature unexpected!"),null===s.closest(".selected")&&e.unshift(s)}else if(this.getAttribute("xlink:href").match(n)){const t=this.closest(".nc"),n=this.closest(".neume"),i=Array.from(n.children).indexOf(t),s=n.children[i+1].children[0];console.assert(s.getAttribute("xlink:href").match(r),"Second glyph of ligature unexpected!"),null===s.closest(".selected")&&e.push(s)}t()&&(e=e.concat(Array.from(document.querySelectorAll(".selected")))),(0,i.selectAll)(e,c,a),a&&a.dragInit()}else if(t()){const e={selByStaff:".staff",selByNeume:".neume",selByNc:".nc",selByLayerElement:".accid"}[document.querySelector(".sel-by .is-active").id]||".syllable",t=[this.closest(e)];let n=[];n=Array.from(document.getElementsByClassName("selected")),n=n.filter(e=>!t.includes(e)),(0,i.selectAll)(n,c,a),a&&a.dragInit()}}else if("rect"===e.target.tagName&&"selByBBox"===(0,i.getSelectionType)())if(null===this.closest(".selected")){let n=[e.target];t()&&(n=n.concat(Array.from(document.getElementsByClassName("selected"))),n=n.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display"))),(0,i.selectAll)(n,c,a),a&&a.dragInit()}else{let e=[];if(t()){const t=[this];e=Array.from(document.getElementsByClassName("selected")),e=e.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display")),e=e.filter(e=>!t.includes(e)),(0,i.selectAll)(e,c,a),a&&a.dragInit()}}else{if("selByStaff"!==(0,i.getSelectionType)())return void l.infoListeners();t()||(0,i.unselect)();const n=(0,o.getStaffByCoords)(e.clientX,e.clientY);if(!n)return;n.classList.contains("selected")||((0,i.selectStaff)(n,a),(0,r.resize)(n,c,a),a&&a.dragInit()),n.dispatchEvent(new MouseEvent("mousedown",{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,view:e.view}))}function t(){return window.navigator.userAgent.match(/Mac/)?e.metaKey:e.ctrlKey}}t.setSelectStrokeWidth=function(e){d=e},t.setSelectHelperObjects=function(e,t){a=t,c=e,l=c.info,u=c.view.zoomHandler},t.clickSelect=function(e){document.querySelectorAll(e).forEach(e=>{e.removeEventListener("mousedown",y),e.addEventListener("mousedown",y)}),document.body.removeEventListener("keydown",h),document.body.addEventListener("keydown",h),document.body.removeEventListener("keydown",f),document.body.addEventListener("keydown",f),document.body.removeEventListener("keydown",g),document.body.addEventListener("keydown",g),document.getElementById("container").addEventListener("contextmenu",e=>{e.preventDefault()}),document.querySelectorAll("use,rect,#moreEdit").forEach(e=>{e.removeEventListener("click",m),e.addEventListener("click",m)})},t.dragSelect=function(e){let t=0,n=0,r=!1,o=!1;const l=s.select(e);s.selectAll(e.replace(".active-page","").trim()).on(".drag",null);const h=s.drag().on("start",(function(){if(!c)return;const e=c.getUserMode();if("use"!==s.event.sourceEvent.target.nodeName&&"insert"!==e&&"rect"!==s.event.sourceEvent.target.nodeName){if(s.event.sourceEvent.shiftKey)r=!0,void 0!==u&&u.startDrag();else if(!document.getElementById("selByStaff").classList.contains("is-active")||(f=s.mouse(this),0===Array.from(document.getElementsByClassName("staff")).filter(e=>{const t=(0,i.getStaffBBox)(e),n=t.ulx,r=t.uly,s=t.lrx,o=t.lry,a=t.rotate;return f[0]>n&&f[0]<s&&f[1]>r+(f[0]-n)*Math.tan(a)&&f[1]<o-(s-f[0])*Math.tan(a)}).length)){(0,i.unselect)(),o=!0;const e=s.mouse(this);t=e[0],n=e[1],a=t,h=n,l.append("rect").attr("x",a).attr("y",h).attr("width",0).attr("height",0).attr("id","selectRect").attr("stroke","black").attr("stroke-width",d).attr("fill","none")}}else s.event.sourceEvent.shiftKey&&(r=!0,void 0!==u&&u.startDrag());var a,h,f})).on("drag",(function(){if(!r&&o){const e=s.mouse(this),i=e[0],r=e[1];!function(e,t,n,i){s.select("#selectRect").attr("x",e).attr("y",t).attr("width",n).attr("height",i)}(i<t?i:t,r<n?r:n,i<t?t-i:i-t,r<n?n-r:r-n)}else r&&void 0!==u&&u.dragging()})).on("end",(function(){if(!r&&o){const t=document.getElementById("selectRect"),n=parseInt(t.getAttribute("x")),r=parseInt(t.getAttribute("y")),u=n+parseInt(t.getAttribute("width")),d=r+parseInt(t.getAttribute("height")),h=l.node();let f=new DOMPoint(n,r),g=new DOMPoint(u,d);const m=h.getScreenCTM().inverse().multiply(l.select(".system").node().getScreenCTM()).inverse();f=f.matrixTransform(m),g=g.matrixTransform(m);const y=function(e){return document.getElementById("selByStaff").classList.contains("is-active")?Array.from(document.querySelectorAll(e+" use, "+e+" .staff")):p()?Array.from(document.querySelectorAll(e+" .sylTextRect-display")):Array.from(document.querySelectorAll(e+" use"))}(e).filter(e=>v(e,f,g));y.forEach(e=>{if("use"===e.tagName&&e.getAttribute("xlink:href").match(/E9B[456789ABC]/)){const t=e.closest(".neume"),n=Array.from(t.children).indexOf(e.closest(".nc"));if(e.getAttribute("xlink:href").match(/E9B[45678]/)){const e=t.children[n+1].querySelector("use");y.indexOf(e)<0&&y.push(e)}else{const e=t.children[n-1].querySelector("use");y.indexOf(e)<0&&y.push(e)}}}),(0,i.selectAll)(y,c,a),a&&a.dragInit(),s.selectAll("#selectRect").remove(),o=!1}r=!1}));l.call(h),a&&a.resetTo(h)}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeColumnLabel=t.checkOutOfBoundsGlyphs=t.convertToVerovio=t.isInvalidBBox=t.getSyllableText=t.convertToNeon=t.zip=void 0;const i=n(17),r=n(32),s=n(5);function o(e,t){for(const n of e.attributes)t.setAttribute(n.name,n.value)}function a(e){var t;const n=null===(t=e.querySelector("syl"))||void 0===t?void 0:t.childNodes[0];let i;return i=n?n.nodeValue:"â—Š",i}function c(e,t){const n=parseInt(t.getAttribute("lrx")),i=parseInt(t.getAttribute("lry")),r=parseInt(t.getAttribute("ulx")),s=parseInt(t.getAttribute("uly")),o=0===n&&0===i&&0===r&&0===s,a=n<0||i<0||r<0||s<0,c=e.querySelector(`*[facs="${"#"+t.getAttribute("xml:id")}"]`);return o||a||!c?[!0,c]:[!1]}function l(e,t,n){const i=e.getAttribute("precedes").replace("#","");let r;const s=n.find((e,t)=>e.getAttribute("xml:id")===i&&(r=t,!0));if(!s)return`- &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is missing the following part\n`;if(!s.hasAttribute("follows"))return`- The following syllable of &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is not linked to any syllable\n`;if(s.getAttribute("follows")!="#"+e.getAttribute("xml:id"))return`- The following syllable of &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is linked to the wrong syllable\n`;if(r!==t+1){const i=[a(e),...n.slice(t+1,r).map(e=>a(e))].join(" - ");return`- Unexpected syllable(s) inside toggle-linked &lt;${e.tagName}&gt; (${i}) with xml:id: ${e.getAttribute("xml:id")} is linked to the wrong syllable\n`}}function u(e,t){const n=e.getAttribute("follows").replace("#",""),i=t.find(e=>e.getAttribute("xml:id")===n);return i?i.hasAttribute("precedes")?i.getAttribute("precedes")!="#"+e.getAttribute("xml:id")?`- The preceding syllable of &lt;${e.tagName}&gt; (${a(i)}) with xml:id: ${e.getAttribute("xml:id")} is linked to the wrong syllable\n`:void 0:`- The preceding syllable of &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is not linked to any syllable\n`:`- &lt;${e.tagName}&gt; (${a(e)}) with xml:id: ${e.getAttribute("xml:id")} is missing the preceding part\n`}function d(e){const t=e.querySelectorAll("nc");let n=0,i="";for(;n<t.length;)t[n].getAttribute("ligated")&&((n<t.length-1&&!t[n+1].getAttribute("ligated")||n==t.length-1)&&(i+=`- The oblique in syllable (${a(e)}) with xml:id: ${e.getAttribute("xml:id")}\n`),n+=2),n+=1;return i}function h(e,t){e.hasAttribute("facs")&&t.push(e);for(const n of e.children)h(n,t);return t}t.zip=function(e,t){const n=[];for(let i=0;i<(e.length>t.length?t.length:e.length);i++)n.push([e[i],t[i]]);return n},t.convertToNeon=function(e){const t=new DOMParser,n=new XMLSerializer,s=t.parseFromString(e,"text/xml"),o=s.documentElement;let a=0;const c=Array.from(o.querySelectorAll('section:not([type="neon-neume-line"])'));for(const e of c){e.querySelectorAll("pb").forEach(e=>e.remove());e.querySelectorAll("sb").forEach(e=>e.remove());const t=s.createElementNS("http://www.music-encoding.org/ns/mei","staff"),n=s.createElementNS("http://www.music-encoding.org/ns/mei","layer");t.setAttribute("n","1"),n.setAttribute("n","1"),t.appendChild(n);const r=o.querySelector("surface"),c=r.getAttribute("xml:id"),u=s.createElementNS("http://www.music-encoding.org/ns/mei","pb");u.setAttribute("xml:id","m-"+(0,i.uuidv4)()),u.setAttribute("facs","#"+c),n.appendChild(u);const d=Array.from(e.querySelectorAll('section[type="neon-neume-line"]'));let h=0,f=null;for(const e of d){h+=1;const t=e.querySelector("staff");if(!t){e.remove();continue}const o=t.querySelector("layer");if(t.hasAttribute("type")&&t.getAttribute("type")!="column"+a.toString()){a+=1;const e=s.createElementNS("http://www.music-encoding.org/ns/mei","cb");e.setAttribute("n",a.toString()),e.setAttribute("xml:id","m-"+(0,i.uuidv4)()),e.setAttribute("facs","#m-"+(0,i.uuidv4)()),n.appendChild(e),f&&l(f,e,r),f=e}const c=s.createElementNS("http://www.music-encoding.org/ns/mei","sb");c.setAttribute("n",h.toString()),c.setAttribute("facs",t.getAttribute("facs")),c.setAttribute("xml:id",t.getAttribute("xml:id"));let u=void 0;for(null!==n.lastElementChild&&"custos"===n.lastElementChild.tagName&&(u=n.removeChild(n.lastElementChild)),void 0!==u&&n.appendChild(u),n.appendChild(c);null!==o.firstElementChild;)n.appendChild(o.firstElementChild);e.remove()}f&&l(f,null,r),e.appendChild(t)}if(a){const e=o.querySelector("scoreDef"),t=s.createElementNS("http://www.music-encoding.org/ns/mei","colLayout");t.setAttribute("xml:id","m-"+(0,i.uuidv4)()),t.setAttribute("n",a.toString()),e.insertAdjacentElement("afterend",t)}return r.xml(n.serializeToString(s));function l(e,t,n){const i=function e(t,n,i=[]){if(t&&t!==n){if(t.hasAttribute("facs")&&i.push(t),t.children.length>0)for(const r of t.children)e(r,n,i);t.nextElementSibling&&e(t.nextElementSibling,n,i)}return i}(e.nextElementSibling,t),r=s.createElementNS("http://www.music-encoding.org/ns/mei","zone"),o=function(e,t){let n=1/0,i=0,r=0,s=1/0;return e.forEach(e=>{const o=Array.from(t.children).find(t=>t.getAttribute("xml:id")===e.getAttribute("facs").slice(1));n=Math.min(n,parseInt(o.getAttribute("lrx"))),i=Math.max(i,parseInt(o.getAttribute("lry"))),r=Math.max(r,parseInt(o.getAttribute("ulx"))),s=Math.min(s,parseInt(o.getAttribute("uly")))}),{lrx:n,lry:i,ulx:r,uly:s}}(i,n);r.setAttribute("lrx",o.lrx.toString()),r.setAttribute("lry",o.lry.toString()),r.setAttribute("ulx",o.ulx.toString()),r.setAttribute("uly",o.uly.toString()),r.setAttribute("xml:id",e.getAttribute("facs").slice(1)),n.insertBefore(r,n.firstElementChild)}},t.getSyllableText=a,t.isInvalidBBox=c,t.convertToVerovio=function(e){const t=(new DOMParser).parseFromString(e,"text/xml"),n=t.documentElement;let a=!1;n.querySelector("facsimile").setAttribute("type","transcription");const f=n.querySelector("surface");let g=!1;const p=Array.from(f.getElementsByTagName("zone"));let m="The following zones are invalid: \n\n";for(const e of p){const[t,i]=c(n,e);t&&(g=!0,m+=`- Zone with xml:id: ${e.getAttribute("xml:id")} `,i?(i.parentNode.removeChild(i),m+=`for &lt;${i.tagName}&gt; with xml:id: ${i.getAttribute("xml:id")}\n`):m+="is not linked with any glyphs\n",e.parentNode.removeChild(e))}g&&s.queueNotification("Removed invalid zones contained in this file","warning",m);const v=n.querySelector("colLayout");v&&(a=!0,v.parentNode.removeChild(v));const y=Array.from(n.getElementsByTagName("syllable"));let b=!1,w=!1,_=!1,E="The following divLine(s) are the only element inside the syllable(s): \n\n",S=!1,x="The following accid(s) are the only element inside the syllable(s): \n\n",L="The following syllable(s) have no neumes: \n\n",A="The following neume(s) have no neume components: \n\n";for(const e of y){0===e.getElementsByTagName("neume").length&&(b=!0,L+=`- &lt;${e.tagName}&gt; with xml:id: ${e.getAttribute("xml:id")}\n`,e.getElementsByTagName("divLine").length>0&&(_=!0,E+=`- &lt;divLine&gt; inside &lt;syllable&gt; with xml:id: ${e.getAttribute("xml:id")}\n`),e.getElementsByTagName("accid").length>0&&(S=!0,x+=`- &lt;accid&gt; inside &lt;syllable&gt; with xml:id: ${e.getAttribute("xml:id")}\n`));const n=e.getElementsByTagName("neume");for(const e of n){const n=Array.from(e.getElementsByTagName("nc"));if(0===n.length)w=!0,A+=`- &lt;${e.tagName}&gt; with xml:id: ${e.getAttribute("xml:id")}\n`;else for(const e of n)if(e.hasAttribute("curve")&&0===e.children.length){const n=t.createElementNS("http://www.music-encoding.org/ns/mei","liquescent");n.setAttribute("xml:id","m-"+(0,i.uuidv4)()),e.appendChild(n)}}}b&&s.queueNotification("This file contains syllable(s) without neume!","warning",L),w&&s.queueNotification("This file contains neume(s) without neume component!","warning",A),_&&s.queueNotification("This file contains divLine(s) inside empty syllable(s)!","warning",E),S&&s.queueNotification("This file contains accid(s) inside empty syllable(s)!","warning",x);const k=Array.from(n.getElementsByTagName("section"));for(const e of k){const n=Array.from(e.getElementsByTagName("staff"));for(const r of n){const n=t.createElementNS("http://www.music-encoding.org/ns/mei","pb");n.setAttribute("facs","#"+f.getAttribute("xml:id")),e.insertBefore(n,r);const s=r.querySelector("layer"),c=Array.from(s.getElementsByTagName("sb"));for(const e of c)if("layer"!==e.parentElement.tagName){const n=e.parentElement;let r=!1,s=!1;const o=Array.from(n.children),a=o.indexOf(e);for(const e of n.getElementsByTagName("neume")){const t=o.indexOf(e);t<a?r=!0:t>a&&(s=!0)}if(!r&&s)n.insertAdjacentElement("beforebegin",e);else if(r&&!s)n.insertAdjacentElement("afterend",e);else if(r&&s){const r=t.createElementNS("http://www.music-encoding.org/ns/mei","syllable");r.setAttribute("xml:id","m-"+(0,i.uuidv4)()),r.setAttribute("follows","#"+n.getAttribute("xml:id")),n.setAttribute("precedes","#"+r.getAttribute("xml:id"));const s=o.indexOf(e);for(const e of o){o.indexOf(e)>s&&r.appendChild(e)}n.insertAdjacentElement("afterend",e),e.insertAdjacentElement("afterend",r);for(const e of n.getElementsByTagName("custos"))n.insertAdjacentElement("afterend",e);for(const e of r.getElementsByTagName("clef"))r.insertAdjacentElement("beforebegin",e)}else console.warn("NONE BEHIND NONE AHEAD"),console.debug(n)}const l=Array.from(s.getElementsByTagName("sb")),u=Array.from(s.children);let d=0;for(let n=0;n<l.length;n++){const c=l[n],g=l.length>n+1?l[n+1]:void 0,m=t.createElementNS("http://www.music-encoding.org/ns/mei","sb");m.setAttribute("xml:id","m-"+(0,i.uuidv4)()),m.setAttribute("facs",c.getAttribute("facs"));const v=t.createElementNS("http://www.music-encoding.org/ns/mei","section");v.setAttribute("type","neon-neume-line");const y=t.createElementNS("http://www.music-encoding.org/ns/mei","staff");o(c,y),y.setAttribute("n","1");const b=u.indexOf(c);if(a){if("cb"===u.at(b-1).tagName){d+=1;const e=u.at(b-1),t=e.getAttribute("facs"),n=Array.from(f.querySelectorAll("zone")).find(e=>e.getAttribute("xml:id")===t.slice(1));e.parentNode.removeChild(e),n.parentNode.removeChild(n)}y.setAttribute("type","column"+d.toString())}const w=t.createElementNS("http://www.music-encoding.org/ns/mei","layer");w.setAttribute("n","1"),w.setAttribute("xml:id","m-"+(0,i.uuidv4)()),v.appendChild(y),y.appendChild(w);const _=Array.from(s.children),E=_.slice(_.indexOf(c)+1,_.indexOf(g));for(const e of E)w.appendChild(e);if(!g){const e=h(_.at(-1),[]);for(const t of e){const e=p.find(e=>e.getAttribute("xml:id")==t.getAttribute("facs").slice(1));e&&p.length>1&&e.parentNode.removeChild(e)}}e.insertBefore(m,r),e.insertBefore(v,r)}r.remove()}}const C=Array.from(n.getElementsByTagName("syllable"));let I=!1,P="The following linked syllables are not encoded correctly: \n\n",O=!1,B="The following obliques are incomplete: \n\n";for(const e of n.querySelectorAll("syllable")){for(const t of e.querySelectorAll("clef"))e.insertAdjacentElement("beforebegin",t);for(const t of e.querySelectorAll("custos"))e.insertAdjacentElement("afterend",t);const t=d(e);t&&(O=!0,B+=t);const n=C.indexOf(e);if(e.hasAttribute("precedes")){const t=l(e,n,C);t&&(I=!0,P+=t)}if(e.hasAttribute("follows")){const t=u(e,C);t&&(I=!0,P+=t)}}O&&s.queueNotification("This file contains incomplete oblique(s)","error",B),I&&s.queueNotification("This file contains invalid linked syllable(s)","error",P);const T=new XMLSerializer;return r.xml(T.serializeToString(t))},t.checkOutOfBoundsGlyphs=function(e){const t=(new DOMParser).parseFromString(e,"text/xml").documentElement,n=Array.from(t.querySelectorAll("zone")),i=t.querySelector("surface"),r=Number(i.getAttribute("lrx")),o=Number(i.getAttribute("lry"));let a="The following glyphs are out of bounds: \n\n";n.some(e=>{const n=["ulx","uly","lrx","lry"].some(t=>function(e,t){const n=Number(e.getAttribute(t));return n<0||n>("lrx"==t||"ulx"==t?r:o)}(e,t));if(n){const n=t.querySelector(`*[facs="${"#"+e.getAttribute("xml:id")}"]`);a+=`- &lt;${n.tagName}&gt; with xml:id: ${n.getAttribute("xml:id")}\n`}return n})&&s.queueNotification("This folio contains glyph(s) placed out-of-bounds!","warning",a)},t.removeColumnLabel=function(e){const t=(new DOMParser).parseFromString(e,"text/xml").documentElement;for(const e of Array.from(t.getElementsByTagName("staff")))e.hasAttribute("type")&&e.removeAttribute("type");const n=new XMLSerializer;return r.xml(n.serializeToString(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blankPage=t.sendForValidation=t.init=void 0;const i=n(13),r=fetch("/Neon/Neon-gh/assets/mei-all.rng");let s,o,a,c;function l(e){const t=e.data;if(null===t){c.textContent="VALID",c.style.color="#4bc14b";for(const e of c.children)e.remove()}else{let e="";t.forEach(t=>{e+=t+"\n"}),c.textContent="",c.style.color="red";const n=document.createElement("div");n.textContent="INVALID",n.style.cursor="pointer",c.appendChild(n),n.addEventListener("click",u.bind(this,e))}}function u(e){this.modal.setModalWindowView(i.ModalWindowView.ERROR_LOG,e),this.modal.openModalWindow()}t.init=async function(e){if(null!==document.getElementById("file-status")){const t=document.getElementById("mei_version");t.textContent="unknown",a=t;const n=document.getElementById("validation_status");n.textContent="unknown",c=n,s=new Worker("/Neon/Neon-gh/workers/Worker.js"),s.onmessage=l.bind(e)}},t.sendForValidation=async function(e){if(void 0===c||void 0===a)return;if(void 0===o){const e=await r;o=await e.text()}c.textContent="checking...",c.style.color="gray",s.postMessage({mei:e,schema:o}),a.textContent="checking...",a.style.color="gray",function(e){if(e)switch(e){case"unknown":a.textContent=e,a.style.color="gray";break;default:a.textContent=e,a.style.color="#68A7AD"}}(await async function(e){const t=(new DOMParser).parseFromString(e,"text/xml"),n=t.documentElement.getAttribute("meiversion");return n||"unknown"}(e))},t.blankPage=function(){if(void 0!==c&&void 0!==a){for(const e of c.children)e.remove();c.textContent="No MEI",c.style.color="color:gray",a.textContent="No MEI",a.style.color="color:gray"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listenUnsavedChanges=t.setSavedStatus=void 0;let i=!0;t.setSavedStatus=function(e=!1){i=e,function(){const e=document.querySelector("#file-saved"),t=i?"/Neon/Neon-gh/assets/img/saved-icon.svg":"/Neon/Neon-gh/assets/img/unsaved-icon.svg";e.setAttribute("src",t);const n=i?"Your work is saved":"You have unsaved work";e.setAttribute("alt",n)}()},t.listenUnsavedChanges=function(){window.onbeforeunload=e=>{if(!i)return e.preventDefault(),"You have unsaved changes!"}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(i){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(79)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(29))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initSelectionButtons=t.initInsertEditControls=t.bindInsertTabs=void 0;const i=n(8),r=n(18),s=n(4),o=n(3);function a(e,t){document.getElementById(e).classList.add("is-active"),document.getElementById(e).classList.contains("insertel")&&(t.insertActive(e),(0,o.setSettings)({insertMode:e}))}function c(e){document.querySelectorAll(e).forEach(e=>{e.classList.remove("is-active"),e.classList.remove("unfocused")})}t.bindInsertTabs=function(e){const t=Array.from(document.getElementsByClassName("insertTab")).map(e=>e.id);document.body.addEventListener("keydown",e=>{if(e.code.match(/^Digit\d$/)&&e.shiftKey)try{const t=Number(e.code[e.code.length-1])-1,n=document.getElementsByClassName("insertel");n[t].click()}catch(e){console.debug(e)}}),t.forEach(t=>{document.getElementById(t).addEventListener("click",()=>{c(".insertTab"),a(t,e),(0,o.setSettings)({insertTab:t}),document.getElementById("insert_data").innerHTML=i.insertTabHtml[t],function(e){const t=Array.from(document.getElementsByClassName("insertel"));t.map(e=>e.id).forEach(t=>{document.getElementById(t).addEventListener("click",()=>{c(".insertel"),a(t,e)})})}(e),c(".insertel");try{const{insertMode:t}=(0,o.getSettings)();a(t,e)}catch(t){a(document.getElementsByClassName("insertel")[0].id,e)}})})},t.initInsertEditControls=function(){const e=document.getElementById("insert_controls"),t=document.getElementById("insertMenu"),n=t.querySelector(".panel-heading-title"),i=document.getElementById("insertContents"),r=t.querySelector("svg > use"),s=document.getElementById("edit_controls"),a=document.getElementById("editMenu"),c=a.querySelector(".panel-heading-title"),l=document.getElementById("editContents"),u=a.querySelector("svg > use");e.addEventListener("click",()=>{c.classList.remove("focused"),n.classList.add("focused"),(0,o.setSettings)({userMode:"insert"}),document.querySelector(".insertel.is-active").click(),s.querySelector(".side-panel-btn.sel-by.is-active").classList.add("unfocused"),e.querySelector(".side-panel-btn.insertel.is-active").classList.remove("unfocused")}),s.addEventListener("click",()=>{n.classList.remove("focused"),c.classList.add("focused"),(0,o.setSettings)({userMode:"edit"}),e.querySelector(".side-panel-btn.insertel.is-active").classList.add("unfocused"),s.querySelector(".side-panel-btn.sel-by.is-active").classList.remove("unfocused")}),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),r.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),r.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),a.addEventListener("click",e=>{e.stopPropagation(),l.classList.contains("closed")?(l.classList.remove("closed"),l.style.padding="0.5em 0.75em",setTimeout(()=>{l.style.overflow="visible"},200),u.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(l.classList.add("closed"),l.style.overflow="hidden",setTimeout(()=>{l.style.padding="0px"},200),u.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})},t.initSelectionButtons=function(){const e=document.getElementById("selBySyllable"),t=document.getElementById("selByNeume"),n=document.getElementById("selByNc"),i=document.getElementById("selByStaff"),a=document.getElementById("selByLayerElement");e.addEventListener("click",(function(){if(!e.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selBySyllable"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),e.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("syllable")}catch(e){}}})),t.addEventListener("click",(function(){if(!t.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByNeume"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),t.classList.add("is-active"),n.classList.remove("is-active"),e.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("neume")}catch(e){}}})),n.addEventListener("click",(function(){if(!n.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByNc"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),n.classList.add("is-active"),t.classList.remove("is-active"),e.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("neume")}catch(e){}}})),i.addEventListener("click",(function(){if(!i.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByStaff"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),i.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),e.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("staff")}catch(e){}}})),a.addEventListener("click",(function(){if(!a.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByLayerElement"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),a.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),i.classList.remove("is-active"),e.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("layerElement")}catch(e){}}})),document.body.addEventListener("keydown",r=>{"1"===r.key&&e.click(),"2"===r.key&&t.click(),"3"===r.key&&n.click(),"4"===r.key&&i.click(),"5"===r.key&&a.click()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(7),r=n(15),s=n(5),o=n(3);t.default=class{constructor(e,t){this.firstClick=!0,this.insertDisabled=function(){this.type="",this.removeInsertClickHandlers(),document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetInsertHandler),document.body.removeEventListener("click",this.clickawayHandler),this.firstClick=!0;try{document.getElementById("returnToEditMode").remove()}catch(e){}const e=document.getElementById("insert_controls"),t=document.getElementById("insertMenu").querySelector(".panel-heading-title"),n=document.getElementById("edit_controls"),i=document.getElementById("editMenu").querySelector(".panel-heading-title");t.classList.remove("focused"),i.classList.add("focused"),e.querySelector(".side-panel-btn.insertel.is-active").classList.add("unfocused"),n.querySelector(".side-panel-btn.sel-by.is-active").classList.remove("unfocused"),(0,o.setSettings)({userMode:"edit"})}.bind(this),this.clickawayHandler=function(e){const t=e.target;null===t.closest(".active-page")&&null===t.closest("#insert_controls")&&null===t.closest("#svg_group")&&(this.insertDisabled(),document.body.removeEventListener("keydown",this.staffHandler),document.body.removeEventListener("keydown",this.handler))}.bind(this),this.resetInsertHandler=function(e){"Shift"===e.key&&document.querySelector(this.selector).addEventListener("click","staff"===this.type?this.staffHandler:this.handler)}.bind(this),this.keydownListener=function(e){"Escape"===e.key?(this.insertDisabled(),document.body.removeEventListener("keydown",this.staffHandler),document.body.removeEventListener("keydown",this.handler)):"Shift"===e.key&&this.removeInsertClickHandlers()}.bind(this),this.handler=function(e){e.stopPropagation();const t=(0,r.getSVGRelCoords)(e.clientX,e.clientY);if((0,r.isOutOfSVGBounds)(t.x,t.y))return(0,s.queueNotification)("[FAIL] Glyph was placed out of bounds! Insertion failed.","error");const n={action:"insert",param:{elementType:this.type,staffId:"auto",ulx:t.x,uly:t.y}};null!==this.attributes&&(n.param.attributes=this.attributes,"F"===this.attributes.shape&&(n.param.ulx-=50)),this.neonView.edit(n,this.neonView.view.getCurrentPageURI()).then(()=>this.neonView.updateForCurrentPage()).then(()=>{document.querySelector(this.selector).addEventListener("click",this.handler)})}.bind(this),this.staffHandler=function(e){const t=(0,r.getSVGRelCoords)(e.clientX,e.clientY);if((0,r.isOutOfSVGBounds)(t.x,t.y))return(0,s.queueNotification)("Staff cannot be placed out of bounds!","error");const n=document.querySelector(".active-page > .definition-scale");if(this.firstClick)this.coord=t,i.select(n).append("circle").attr("cx",t.x).attr("cy",t.y).attr("r",10).attr("id","staff-circle").attr("fill","green"),this.firstClick=!1;else{let e,n;t.x<this.coord.x||t.y<this.coord.y?(e=t,n=this.coord):(e=this.coord,n=t),document.getElementById("staff-circle").remove();const i={action:"insert",param:{elementType:"staff",staffId:"auto",ulx:e.x,uly:e.y,lrx:n.x,lry:n.y}};this.neonView.edit(i,this.neonView.view.getCurrentPageURI()).then(()=>{this.neonView.updateForCurrentPage(),this.firstClick=!0})}}.bind(this),this.removeInsertClickHandlers=function(){try{document.querySelector(this.selector).removeEventListener("click",this.staffHandler),document.querySelector(this.selector).removeEventListener("click",this.handler)}catch(e){}}.bind(this),this.neonView=e,this.selector=t}insertActive(e){const t=this.isInsertMode();switch(e){case"punctum":this.type="nc",this.attributes=null;break;case"diamond":this.type="nc",this.attributes={tilt:"se"};break;case"virga":this.type="nc",this.attributes={tilt:"s"};break;case"liquescentA":this.type="nc",this.attributes={curve:"a"};break;case"liquescentC":this.type="nc",this.attributes={curve:"c"};break;case"virgaReversed":this.type="nc",this.attributes={tilt:"n"};break;case"pes":case"clivis":case"scandicus":case"climacus":case"torculus":case"porrectus":case"pressus":const t=this.neonView.info.getContourByValue(e.charAt(0).toUpperCase()+e.slice(1));this.type="grouping",this.attributes={contour:t};break;case"cClef":case"fClef":this.type="clef",this.attributes={shape:e.charAt(0).toUpperCase()};break;case"custos":this.type="custos",this.attributes=null;break;case"divLineMaxima":this.type="divLine",this.attributes={form:"maxima"};break;case"staff":this.type="staff",this.attributes=null;break;case"flat":this.type="accid",this.attributes={accid:"f"};break;case"natural":this.type="accid",this.attributes={accid:"n"};break;default:return this.type="",this.attributes=null,void console.error("Invalid button for insertion: "+e+".")}this.removeInsertClickHandlers();try{"staff"===this.type?document.querySelector(this.selector).addEventListener("click",this.staffHandler):document.querySelector(this.selector).addEventListener("click",this.handler)}catch(e){}if(document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetInsertHandler),!t){const e=document.createElement("button");e.id="returnToEditMode",e.classList.add("side-panel-btn"),e.innerHTML="Return to Edit Mode",document.getElementById("redo").parentNode.appendChild(e),e.addEventListener("click",this.insertDisabled)}document.getElementById("editContents").addEventListener("click",this.clickawayHandler)}isInsertMode(){return""!==this.type}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undoRedoPanel=t.navbarFinalize=t.navbarDropdownMEIActionsMenu=t.navbarDropdownFileMenu=void 0,t.navbarDropdownFileMenu=document.createElement("div"),t.navbarDropdownFileMenu.classList.add("navbar-item","has-dropdown","is-hoverable");const i=document.createElement("div");i.classList.add("navbar-btn"),i.innerHTML="<div>File</div>";const r=document.createElement("div");r.classList.add("navbar-dropdown"),r.id="navbar-dropdown-options";[["save","Save"],["export","Save and Export to File"],["getmei","Download MEI"]].forEach(e=>{const t=document.createElement("div");t.id=e[0],t.classList.add("navbar-dropdown-item"),t.textContent=e[1],r.appendChild(t)}),t.navbarDropdownFileMenu.appendChild(i),t.navbarDropdownFileMenu.appendChild(r),t.navbarDropdownMEIActionsMenu=document.createElement("div"),t.navbarDropdownMEIActionsMenu.classList.add("navbar-item","has-dropdown","is-hoverable");const s=document.createElement("div");s.classList.add("navbar-btn"),s.innerHTML="<div>MEI Actions</div>";const o=document.createElement("div");o.classList.add("navbar-dropdown"),o.id="navbar-dropdown-options";[["remove-empty-syls","Remove Empty Syllables"],["remove-empty-neumes","Remove Empty Neumes"],["revert","Revert"]].forEach(e=>{const t=document.createElement("div");t.id=e[0],t.classList.add("navbar-dropdown-item"),t.textContent=e[1],o.appendChild(t)}),t.navbarDropdownMEIActionsMenu.appendChild(s),t.navbarDropdownMEIActionsMenu.appendChild(o),t.navbarFinalize='<a id="finalize" class="navbar-item"> Finalize MEI </a>',t.undoRedoPanel='<button class="side-panel-btn" id="undo">Undo</button>\n  <button class="side-panel-btn" id="redo">Redo</button>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initUndoRedoPanel=t.initNavbar=void 0;const i=n(5),r=n(47);function s(e){const t=new Array;for(const n of e)n&&!n.getElementsByTagName("syl").length&&t.push({action:"setText",param:{elementId:n.getAttribute("xml:id"),text:""}});return t}t.initNavbar=function(e){const t=document.querySelectorAll(".navbar-item.has-dropdown.is-hoverable");Array.from(t).forEach(e=>{e.addEventListener("mouseover",()=>{})}),document.getElementById("save").addEventListener("click",()=>{e.save().then(()=>{i.queueNotification("Saved","success")})}),document.body.addEventListener("keydown",t=>{"s"===t.key&&e.save().then(()=>{i.queueNotification("Saved","success")})}),document.getElementById("export").addEventListener("click",()=>{e.export().then(t=>{const n=document.createElement("a");n.href=t,n.download=e.name+".jsonld",document.body.appendChild(n),n.click(),n.remove(),i.queueNotification("Saved","success")})}),document.getElementById("getmei").addEventListener("click",()=>{const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n="data:application/mei+xml;base64,"+window.btoa((0,r.convertToNeon)(t));document.getElementById("getmei").setAttribute("href",n),document.getElementById("getmei").setAttribute("download",e.view.getPageName()+".mei")})}),document.getElementById("remove-empty-syls").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=Array.from(r.getElementsByTagName("syllable"));let o=!1;const a=[];for(const e of s)if(0===e.getElementsByTagName("neume").length){const t={action:"remove",param:{elementId:e.getAttribute("xml:id")}};a.push(t),o=!0}if(o){const n={action:"chain",param:a};e.edit(n,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Removed empty Syllables","success")):i.queueNotification("Failed to remove empty Syllables","error")})}else i.queueNotification("No empty syllables found","warning")})})),document.getElementById("remove-empty-neumes").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=Array.from(r.getElementsByTagName("neume"));let o=!1;const a=[];for(const e of s)if(0===e.getElementsByTagName("nc").length){const t={action:"remove",param:{elementId:e.getAttribute("xml:id")}};a.push(t),o=!0}if(o){const n={action:"chain",param:a};e.edit(n,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Removed empty Neumes","success")):i.queueNotification("Failed to remove empty Neumes","error")})}else i.queueNotification("No empty Neumes found","warning")})})),document.getElementById("remove-out-of-bounds-glyphs").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=r.querySelector("surface"),o=Number(s.getAttribute("lrx")),a=Number(s.getAttribute("lry"));const c=Array.from(r.querySelectorAll("zone")).filter(e=>["ulx","uly","lrx","lry"].some(t=>function(e,t){const n=Number(e.getAttribute(t));return n<0||n>("lrx"==t||"ulx"==t?o:a)}(e,t))),l=new Map(c.map(e=>[e.getAttribute("xml:id"),e])),u=Array.from(r.querySelectorAll("nc, divLine, clef, accid")).filter(e=>{if(e.hasAttribute("facs")){const t=e.getAttribute("facs").slice(1);return l.has(t)}return!1});if(0===u.length)return i.queueNotification("There are no out-of-bound glyphs to remove.","warning");const d={action:"chain",param:u.map(e=>({action:"remove",param:{elementId:e.getAttribute("xml:id")}}))};e.edit(d,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Successfully removed out-of-bounds syllables.","success")):i.queueNotification("Failed to remove out-of-bound syllables.","error")})})})),document.getElementById("untoggle-invalid-oblique").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n=(new DOMParser).parseFromString(t,"text/xml").documentElement,r=Array.from(n.getElementsByTagName("nc"));let s=!1;const o={action:"chain",param:[]},a=new Array;let c=0;for(;c<r.length;)r[c].getAttribute("ligated")&&((c<r.length-1&&!r[c+1].getAttribute("ligated")||c==r.length-1)&&(s=!0,a.push({action:"set",param:{elementId:r[c].getAttribute("xml:id"),attrType:"ligated",attrValue:""}})),c+=2),c+=1;s?(o.param=a,e.edit(o,e.view.getCurrentPageURI()).then(t=>{t?i.queueNotification("Untoggled invalid obliques","success"):i.queueNotification("Failed to untoggle invalid obliques","error"),e.updateForCurrentPage()})):i.queueNotification("No invalid obliques found","warning")})})),document.getElementById("untoggle-invalid-syls").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n=(new DOMParser).parseFromString(t,"text/xml").documentElement,r=Array.from(n.getElementsByTagName("syllable")),o=function(e){const t=[];for(let n=0;n<e.length;n++){const i=e.at(n);if(i.hasAttribute("precedes")){const r=i.getAttribute("precedes").replace("#","");let s;const o=e.find((e,t)=>e.getAttribute("xml:id")===r&&(s=t,!0));o||t.push(i),o.hasAttribute("follows")||t.push(i),o.getAttribute("follows")!="#"+i.getAttribute("xml:id")&&t.push(i),s!==n+1&&t.push(i)}if(i.hasAttribute("follows")){const n=i.getAttribute("follows").replace("#",""),r=e.find(e=>e.getAttribute("xml:id")===n);r||t.push(i),r.hasAttribute("precedes")||t.push(i),r.getAttribute("precedes")!="#"+i.getAttribute("xml:id")&&t.push(i)}}return t}(r);if(0===o.length)i.queueNotification("No invalid syllables found","warning");else{const t={action:"chain",param:[]},n=new Array;for(const e of o)if(e.hasAttribute("precedes")&&e.hasAttribute("follows")){const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("precedes").substring(1)),i=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("follows").substring(1));n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:i.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push(...s([e,t,i]))}else if(e.hasAttribute("precedes")){const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("precedes").substring(1));n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push(...s([e,t]))}else if(e.hasAttribute("follows")){const t=r.find(t=>t.getAttribute("xml:id")===e.getAttribute("follows").substring(1));n.push({action:"set",param:{elementId:e.getAttribute("xml:id"),attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:t.getAttribute("xml:id"),attrType:"precedes",attrValue:""}}),n.push(...s([e,t]))}t.param=n,e.edit(t,e.view.getCurrentPageURI()).then(t=>{t?i.queueNotification("Untoggled invalid syllables","success"):i.queueNotification("Failed to untoggle invalid syllables","error"),e.updateForCurrentPage()})}})})),document.getElementById("revert").addEventListener("click",(function(){window.confirm("Reverting will cause all changes to be lost. Press OK to continue.")&&e.deleteDb().then(()=>{window.location.reload()})}))},t.initUndoRedoPanel=function(e){function t(){e.undo().then(t=>{t?e.updateForCurrentPage():(i.queueNotification("There is nothing left to undo."),console.warn("Failed to undo action"))})}function n(){e.redo().then(t=>{t?e.updateForCurrentPage():(i.queueNotification("There is nothing left to redo."),console.warn("Failed to redo action"))})}document.getElementById("undo").addEventListener("click",t),document.body.addEventListener("keydown",e=>{"z"===e.key&&(e.ctrlKey||e.metaKey)&&t()}),document.getElementById("redo").addEventListener("click",n),document.body.addEventListener("keydown",e=>{("Z"===e.key||"z"===e.key&&e.shiftKey)&&(e.ctrlKey||e.metaKey)&&n()})}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(59),r=n(75),s=n(76),o=n(81),a=n(83),c=n(84),l=n(85),u=n(86),d=n(87),h=n(28),f=p("manifest"),g=p("storage");if(f){const e=`./samples/manifests/${f}.jsonld`;window.fetch(e).then(e=>{if(e.ok)return e.text();throw new Error(e.statusText)}).then(async e=>{let t;try{t=JSON.parse(e)}catch(t){return console.error(t),void console.debug(e)}let n;n=(await new Promise((e,n)=>{window.fetch(t.image).then(t=>{e(t.headers.get("Content-Type"))}).catch(e=>{n(e)})})).match(/image\/*/)?{manifest:t,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:o.default,NeumeEdit:c.default}:{manifest:t,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:s.default,NeumeEdit:a.default};new i.default(n).start()})}else{new h.default("Neon-User-Storage").getAttachment(g,"manifest").then(e=>new window.Response(e).json()).then(async e=>{let t;t=(await new Promise((t,n)=>{window.fetch(e.image).then(e=>{t(e.headers.get("Content-Type"))}).catch(e=>{n(e)})})).match(/image\/*/)?{manifest:e,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:o.default,NeumeEdit:c.default}:{manifest:e,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:s.default,NeumeEdit:a.default};new i.default(t).start()})}function p(e){let t;return window.location.search.substr(1).split("&").forEach(n=>{const i=n.split("=");i[0]===e&&(t=decodeURIComponent(i[1]))}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(60),r=n(48),s=n(62),o=n(73),a=n(13),c=n(74),l=n(49),u=n(3);t.default=class{constructor(e){(0,s.parseManifest)(e.manifest)||console.error("Unable to parse the manifest"),this.params=e,this.manifest=e.manifest}setupEdit(e){if(void 0!==e.TextView&&(this.textView=new e.TextView(this),void 0!==e.TextEdit&&(this.TextEdit=new e.TextEdit(this))),void 0!==e.NeumeEdit){this.NeumeEdit=new e.NeumeEdit(this),this.textView.updateBBoxVisibility();const{userMode:t,insertMode:n,selectionMode:i}=(0,u.getSettings)();switch(document.getElementById(n).classList.add("is-active"),document.getElementById(i).classList.add("is-active"),t){case"insert":document.getElementById(n).click();break;case"edit":default:document.getElementById(i).click()}}}start(){(0,o.default)(this).then(()=>(this.localSettings=new u.default(this.manifest["@id"]),this.view=new this.params.View(this,this.params.Display,this.manifest.image),this.name=this.manifest.title,this.core=new i.default(this.manifest),this.info=new this.params.Info(this),this.modal=new a.ModalWindow(this),r.init(this),(0,c.setDebugMode)(),(0,l.listenUnsavedChanges)(),this.setupEdit(this.params),this.core.initDb())).then(()=>this.updateForCurrentPage(!0)).then(()=>{this.view.onSVGLoad()})}updateForCurrentPage(e=!1){const t=this.view.getCurrentPage();return this.view.changePage(t,e)}redo(){return(0,l.setSavedStatus)(!1),this.core.redo(this.view.getCurrentPageURI())}undo(){return(0,l.setSavedStatus)(!1),this.core.undo(this.view.getCurrentPageURI())}getUserMode(){const{userMode:e}=(0,u.getSettings)();return e}edit(e,t){return this.core.edit(e,t)}getElementAttr(e,t){return this.core.getElementAttr(e,t)}export(){return new Promise((e,t)=>{this.core.updateDatabase().then(()=>{this.manifest.mei_annotations=this.core.getAnnotations(),this.manifest.timestamp=(new Date).toISOString();const t=new window.Blob([JSON.stringify(this.manifest,null,2)],{type:"application/ld+json"}),n=new FileReader;n.addEventListener("load",()=>{e(n.result)}),n.readAsDataURL(t)}).catch(e=>{t(e)})})}save(){return(0,l.setSavedStatus)(!0),this.core.updateDatabase()}deleteDb(){return this.core.deleteDb()}getPageURI(e){return void 0===e&&(e=this.view.getCurrentPageURI()),new Promise(t=>{this.core.getMEI(e).then(e=>{t("data:application/mei+xml;charset=utf-8,"+encodeURIComponent(e))})})}getPageMEI(e){return this.core.getMEI(e)}getPageSVG(e){return this.core.getSVG(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(47),r=n(48),s=n(61),o=n(17),a=n(28),c=n(49);t.default=class{constructor(e){this.verovioWrapper=new s.default,this.undoStacks=new Map,this.redoStacks=new Map,this.neonCache=new Map,this.parser=new DOMParser,this.db=new a.default("Neon"),this.blankPages=[],this.manifest=e,this.annotations=e.mei_annotations,this.lastPageLoaded=""}getAnnotations(){return this.annotations}async initDb(e=!1){return await new Promise((t,n)=>{this.db.get(this.manifest["@id"]).catch(e=>{if("not_found"===e.name){const e={_id:this.manifest["@id"],timestamp:this.manifest.timestamp,image:this.manifest.image,title:this.manifest.title,annotations:[]};return this.annotations.forEach(t=>{e.annotations.push(t.id)}),e}return console.error(e),n(e)}).then(async i=>{const r=/(.+[-+\u2212]\d\d)(\d\d)$/;if(new Date(i.timestamp).getTime()>(r.test(this.manifest.timestamp)?new Date(this.manifest.timestamp.replace(r,"$1:$2")).getTime():new Date(this.manifest.timestamp).getTime())&&!e){this.annotations=[];const e=i.annotations.map(e=>new Promise(t=>{this.db.get(e).then(e=>{this.annotations.push({id:e._id,type:"Annotation",body:e.body,target:e.target}),t("")}).catch(e=>{console.error(e),t("")})}));return await Promise.all(e),t(!1)}for(const e of this.annotations)await this.db.get(e.id).catch(t=>"not_found"===t.name?{_id:e.id}:(console.error(t),n(t))).then(t=>(t.body=e.body,t.target=e.target,this.db.put(t))).catch(e=>{n(e),console.error(e)});return this.db.put(i)}).then(()=>t(!0)).catch(e=>{n(e),console.error(e)})})}loadPage(e){return new Promise((t,n)=>{if(this.lastPageLoaded===e&&this.neonCache.has(e))t(this.neonCache.get(e));else if(this.neonCache.has(e))this.loadData(e,this.neonCache.get(e).mei).then(()=>{t(this.neonCache.get(e))});else if(this.blankPages.includes(e)){r.blankPage();const t=new Error("No MEI file for page "+e);t.name="missing_mei",n(t)}else{const s=this.annotations.find(t=>t.target===e);s?window.fetch(s.body).then(e=>{if(e.ok)return e.text();throw new Error(e.statusText)}).then(n=>{/<section\b[^>]*\btype="neon-neume-line"[^>]*>/.test(n)||(n=(0,i.convertToVerovio)(n)),(0,i.checkOutOfBoundsGlyphs)(n),this.loadData(e,n).then(()=>{t(this.neonCache.get(e))})}).catch(e=>{n(e)}):(r.blankPage(),this.blankPages.push(e))}})}loadData(e,t,n=!1){return r.sendForValidation((0,i.removeColumnLabel)(t)),this.lastPageLoaded=e,new Promise(i=>{const r={id:(0,o.uuidv4)(),action:"renderData",mei:t};this.verovioWrapper.addEventListener("message",function s(o){if(o.data.id===r.id){const r=this.parser.parseFromString(o.data.svg,"image/svg+xml").documentElement;this.neonCache.set(e,{svg:r,mei:t,dirty:n}),o.target.removeEventListener("message",s),i()}}.bind(this)),this.verovioWrapper.postMessage(r)})}getSVG(e){return new Promise((t,n)=>{this.loadPage(e).then(e=>{t(e.svg)}).catch(e=>{n(e)})})}getMEI(e){return new Promise((t,n)=>{this.loadPage(e).then(e=>{t(e.mei)}).catch(e=>{n(e)})})}getElementAttr(e,t){return new Promise(n=>{this.loadPage(t).then(()=>{const t={id:(0,o.uuidv4)(),action:"getElementAttr",elementId:e};this.verovioWrapper.addEventListener("message",(function e(i){i.data.id===t.id&&(i.target.removeEventListener("message",e),n(i.data.attributes))})),this.verovioWrapper.postMessage(t)})})}edit(e,t){let n;return n=this.lastPageLoaded===t?Promise.resolve(this.neonCache.get(t)):this.loadPage(t),new Promise(i=>{n.then(n=>{n.svg=null;const r=n.mei,s={id:(0,o.uuidv4)(),action:"edit",editorAction:e};this.verovioWrapper.addEventListener("message",function e(n){if(n.data.id===s.id){if(n.data.result){this.undoStacks.has(t)||this.undoStacks.set(t,[]);const e=this.undoStacks.get(t);e.push(r)>10&&this.undoStacks.set(t,e.slice(1)),this.redoStacks.set(t,[])}n.target.removeEventListener("message",e),this.updateCache(t,!0).then(()=>{i(n.data.result)}),(0,c.setSavedStatus)(!1)}}.bind(this)),this.verovioWrapper.postMessage(s)})})}updateCache(e,t){return new Promise(n=>{let s,a;const c=new Promise(e=>{const t={id:(0,o.uuidv4)(),action:"getMEI"};this.verovioWrapper.addEventListener("message",(function n(o){o.data.id===t.id&&(s=o.data.mei,o.target.removeEventListener("message",n),r.sendForValidation((0,i.removeColumnLabel)(s)),e(""))})),this.verovioWrapper.postMessage(t)}),l=new Promise(e=>{const t={id:(0,o.uuidv4)(),action:"renderToSVG"};this.verovioWrapper.addEventListener("message",(function n(i){i.data.id===t.id&&(a=i.data.svg,i.target.removeEventListener("message",n),e(""))})),this.verovioWrapper.postMessage(t)});c.then(()=>l).then(()=>{const i=this.parser.parseFromString(a,"image/svg+xml").documentElement;this.neonCache.set(e,{mei:s,svg:i,dirty:t}),n()})})}info(e){let t;return t=this.lastPageLoaded===e?Promise.resolve():this.loadPage(e),new Promise(e=>{t.then(()=>{const t={id:(0,o.uuidv4)(),action:"editInfo"};this.verovioWrapper.addEventListener("message",(function n(i){i.data.id===t.id&&(i.target.removeEventListener("message",n),e(i.data.info))})),this.verovioWrapper.postMessage(t)})})}undo(e){return new Promise(async t=>{if(!this.undoStacks.has(e))return t(!1);const n=this.undoStacks.get(e).pop();if(!n)return t(!1);const i=await this.getMEI(e);return this.redoStacks.get(e).push(i),await this.loadData(e,n,!0),t(!0)})}redo(e){return new Promise(async t=>{if(!this.redoStacks.has(e))return t(!1);const n=this.redoStacks.get(e).pop();if(!n)return t(!1);const i=await this.getMEI(e);return this.undoStacks.get(e).push(i),await this.loadData(e,n,!0),t(!0)})}async updateDatabase(){let e=!1;for(const t of this.neonCache){const n=t[0],i=t[1];if(i.dirty){e=!0;const t=this.annotations.findIndex(e=>e.target===n);let r;this.annotations[t].body.match(/^data:/)?r="data:application/mei+xml;base64,"+window.btoa(i.mei):await window.fetch(this.annotations[t].body,{method:"PUT",headers:{"Content-Type":"application/mei+xml"},body:i.mei}).then(e=>{r=e.ok?this.annotations[t].body:"data:application/mei+xml;base64,"+window.btoa(i.mei)}).catch(e=>{console.error(e),console.warn("Falling back to data URI"),r="data:application/mei+xml;base64,"+window.btoa(i.mei)}),this.annotations[t].body=r,await this.db.get(this.annotations[t].id).then(e=>(e.body=r,this.db.put(e))).then(()=>{i.dirty=!1}).catch(e=>{console.error(e)})}}e&&await this.db.get(this.manifest["@id"]).then(e=>(e.timestamp=(new Date).toISOString(),this.db.put(e))).catch(e=>{console.error(e)})}async deleteDb(){const e=await this.db.get(this.manifest["@id"]).then(e=>e.annotations);e.push(this.manifest["@id"]);const t=e.map(e=>new Promise(t=>{this.db.get(e).then(e=>this.db.remove(e)).then(()=>t())}));return Promise.all(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.verovioWorker=new Worker("/Neon/Neon-gh/workers/VerovioWorker.js")}addEventListener(e,t){return this.verovioWorker.addEventListener(e,t)}postMessage(e){return this.verovioWorker.postMessage(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseManifest=void 0;const i=n(63),r=n(64),s=n(65);t.parseManifest=function(e){const t=(0,s.validate)(e,i),n=t.instance;if(t.errors.length>0)return console.error(t.errors),!1;const o=n["@context"];return"https://ddmal.music.mcgill.ca/Neon/contexts/1/manifest.jsonld"===o||(o[0]===r[0]&&o[1].schema===r[1].schema&&o[1].title===r[1].title&&o[1].timestamp===r[1].timestamp&&o[1].image["@id"]===r[1].image["@id"]&&o[1].image["@type"]===r[1].image["@type"]&&o[1].mei_annotations["@id"]===r[1].mei_annotations["@id"]&&o[1].mei_annotations["@type"]===r[1].mei_annotations["@type"]&&o[1].mei_annotations["@container"]===r[1].mei_annotations["@container"]||(console.error("Context mismatch"),console.error(o),console.error(r),!1))}},function(e){e.exports=JSON.parse('{"type":"object","required":["@context","title","timestamp","image","mei_annotations"],"properties":{"@context":{"type":["array","string"]},"title":{"type":"string"},"timestamp":{"type":"string"},"image":{"type":"string"},"mei_annotations":{"type":"array","items":{"type":"object","required":["id","type","body","target"],"properties":{"id":{"type":"string"},"type":{"type":"string"},"body":{"type":"string"},"target":{"type":"string"}}}}}}')},function(e){e.exports=JSON.parse('["http://www.w3.org/ns/anno.jsonld",{"schema":"http://schema.org/","title":"schema:name","timestamp":"schema:dateModified","image":{"@id":"schema:image","@type":"@id"},"mei_annotations":{"@id":"Annotation","@type":"@id","@container":"@list"}}]')},function(e,t,n){"use strict";var i=e.exports.Validator=n(66);e.exports.ValidatorResult=n(19).ValidatorResult,e.exports.ValidatorResultError=n(19).ValidatorResultError,e.exports.ValidationError=n(19).ValidationError,e.exports.SchemaError=n(19).SchemaError,e.exports.SchemaScanResult=n(44).SchemaScanResult,e.exports.scan=n(44).scan,e.exports.validate=function(e,t,n){return(new i).validate(e,t,n)}},function(e,t,n){"use strict";var i=n(43),r=n(72),s=n(19),o=n(44).scan,a=s.ValidatorResult,c=s.ValidatorResultError,l=s.SchemaError,u=s.SchemaContext,d=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(f),this.attributes=Object.create(r.validators)};function h(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}d.prototype.customFormats={},d.prototype.schemas=null,d.prototype.types=null,d.prototype.attributes=null,d.prototype.unresolvedRefs=null,d.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var i=o(t||"/",e),r=t||e.$id||e.id;for(var s in i.id)this.schemas[s]=i.id[s];for(var s in i.ref)this.unresolvedRefs.push(s);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===n.schemas[e]})),this.schemas[r]},d.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},d.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},d.prototype.setSchemas=function(e){this.schemas=e},d.prototype.getSchema=function(e){return this.schemas[e]},d.prototype.validate=function(e,t,n,r){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new l("Expected `schema` to be an object or boolean");n||(n={});var s,d=t.$id||t.id,h=i.resolve(n.base||"/",d||"");if(!r){(r=new u(t,n,[],h,Object.create(this.schemas))).schemas[h]||(r.schemas[h]=t);var f=o(h,t);for(var g in f.id){var p=f.id[g];r.schemas[g]=p}}if(n.required&&void 0===e)return(s=new a(e,t,n,r)).addError("is required, but is undefined"),s;if(!(s=this.validateSchema(e,t,n,r)))throw new Error("Result undefined");if(n.throwAll&&s.errors.length)throw new c(s);return s},d.prototype.validateSchema=function(e,t,n,i){var o=new a(e,t,n,i);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var c={schema:t,ctx:i};t.extends.forEach(this.schemaTraverser.bind(this,c)),t=c.schema,c.schema=null,c.ctx=null,c=null}else t=s.deepMerge(t,this.superResolve(t.extends,i));var d=h(t);if(d){var f=this.resolve(t,d,i),g=new u(f.subschema,n,i.path,f.switchSchema,i.schemas);return this.validateSchema(e,f.subschema,n,g)}var p=n&&n.skipAttributes||[];for(var m in t)if(!r.ignoreProperties[m]&&p.indexOf(m)<0){var v=null,y=this.attributes[m];if(y)v=y.call(this,e,t,n,i);else if(!1===n.allowUnknownAttributes)throw new l("Unsupported attribute: "+m,t);v&&o.importErrors(v)}if("function"==typeof n.rewrite){var b=n.rewrite.call(this,e,t,n,i);o.instance=b}return o},d.prototype.schemaTraverser=function(e,t){e.schema=s.deepMerge(e.schema,this.superResolve(t,e.ctx))},d.prototype.superResolve=function(e,t){var n=h(e);return n?this.resolve(e,n,t).subschema:e},d.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var r=i.parse(t),o=r&&r.hash,a=o&&o.length&&t.substr(0,t.length-o.length);if(!a||!n.schemas[a])throw new l("no such schema <"+t+">",e);var c=s.objectGetPath(n.schemas[a],o.substr(1));if(void 0===c)throw new l("no such schema "+o+" located in <"+a+">",e);return{subschema:c,switchSchema:t}},d.prototype.testType=function(e,t,n,i,r){if(void 0!==r){if(null===r)throw new l('Unexpected null in "type" keyword');if("function"==typeof this.types[r])return this.types[r].call(this,e);if(r&&"object"==typeof r){var s=this.validateSchema(e,r,n,i);return void 0===s||!(s&&s.errors.length)}return!0}};var f=d.prototype.types={};f.string=function(e){return"string"==typeof e},f.number=function(e){return"number"==typeof e&&isFinite(e)},f.integer=function(e){return"number"==typeof e&&e%1==0},f.boolean=function(e){return"boolean"==typeof e},f.array=function(e){return Array.isArray(e)},f.null=function(e){return null===e},f.date=function(e){return e instanceof Date},f.any=function(e){return!0},f.object=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=d},function(e,t,n){(function(e,i){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof i&&i;o.global!==o&&o.window!==o&&o.self;var a,c=2147483647,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,g=String.fromCharCode;function p(e){throw new RangeError(h[e])}function m(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function v(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+m((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,i=[],r=0,s=e.length;r<s;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<s?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=g(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var i=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;i+=36)e=f(e/35);return f(i+36*e/(e+38))}function E(e){var t,n,i,r,s,o,a,l,u,d,h,g=[],m=e.length,v=0,y=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&p("not-basic"),g.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<m;){for(s=v,o=1,a=36;r>=m&&p("invalid-input"),((l=(h=e.charCodeAt(r++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||l>f((c-v)/o))&&p("overflow"),v+=l*o,!(l<(u=a<=w?1:a>=w+26?26:a-w));a+=36)o>f(c/(d=36-u))&&p("overflow"),o*=d;w=_(v-s,t=g.length+1,0==s),f(v/t)>c-y&&p("overflow"),y+=f(v/t),v%=t,g.splice(v++,0,y)}return b(g)}function S(e){var t,n,i,r,s,o,a,l,u,d,h,m,v,b,E,S=[];for(m=(e=y(e)).length,t=128,n=0,s=72,o=0;o<m;++o)(h=e[o])<128&&S.push(g(h));for(i=r=S.length,r&&S.push("-");i<m;){for(a=c,o=0;o<m;++o)(h=e[o])>=t&&h<a&&(a=h);for(a-t>f((c-n)/(v=i+1))&&p("overflow"),n+=(a-t)*v,t=a,o=0;o<m;++o)if((h=e[o])<t&&++n>c&&p("overflow"),h==t){for(l=n,u=36;!(l<(d=u<=s?1:u>=s+26?26:u-s));u+=36)E=l-d,b=36-d,S.push(g(w(d+E%b,0))),l=f(E/b);S.push(g(w(l,0))),s=_(n,v,i==r),n=0,++i}++n,++t}return S.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:b},decode:E,encode:S,toASCII:function(e){return v(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return v(e,(function(e){return l.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(50)(e),n(9))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(70),t.encode=t.stringify=n(71)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,s){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,h,f,g,p=e[u].replace(a,"%20"),m=p.indexOf(n);m>=0?(d=p.substr(0,m),h=p.substr(m+1)):(d=p,h=""),f=decodeURIComponent(d),g=decodeURIComponent(h),i(o,f)?r(o[f])?o[f].push(g):o[f]=[o[f],g]:o[f]=g}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?s(o(e),(function(o){var a=encodeURIComponent(i(o))+n;return r(e[o])?s(e[o],(function(e){return a+encodeURIComponent(i(e))})).join(t):a+encodeURIComponent(i(e[o]))})).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var i=n(19),r=i.ValidatorResult,s=i.SchemaError,o={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},a=o.validators={};function c(e,t,n,i,r){var s=t.throwError,o=t.throwAll;t.throwError=!1,t.throwAll=!1;var a=this.validateSchema(e,r,t,n);return t.throwError=s,t.throwAll=o,!a.valid&&i instanceof Function&&i(a),a.valid}function l(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function u(e,t,n,i,r,s){if(this.types.object(e)&&(!t.properties||void 0===t.properties[r]))if(!1===t.additionalProperties)s.addError({name:"additionalProperties",argument:r,message:"is not allowed to have the additional property "+JSON.stringify(r)});else{var o=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,r,o,n,i);var a=this.validateSchema(e[r],o,n,i.makeChild(o,r));a.instance!==s.instance[r]&&(s.instance[r]=a.instance),s.importErrors(a)}}a.type=function(e,t,n,i){if(void 0===e)return null;var s=new r(e,t,n,i),o=Array.isArray(t.type)?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,n,i))){var a=o.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));s.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return s},a.anyOf=function(e,t,n,i){if(void 0===e)return null;var o=new r(e,t,n,i),a=new r(e,t,n,i);if(!Array.isArray(t.anyOf))throw new s("anyOf must be an array");if(!t.anyOf.some(c.bind(this,e,n,i,(function(e){a.importErrors(e)})))){var l=t.anyOf.map((function(e,t){var n=e.$id||e.id;return n?"<"+n+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));n.nestedErrors&&o.importErrors(a),o.addError({name:"anyOf",argument:l,message:"is not any of "+l.join(",")})}return o},a.allOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new s("allOf must be an array");var o=new r(e,t,n,i),a=this;return t.allOf.forEach((function(t,r){var s=a.validateSchema(e,t,n,i);if(!s.valid){var c=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+r+"]";o.addError({name:"allOf",argument:{id:c,length:s.errors.length,valid:s},message:"does not match allOf schema "+c+" with "+s.errors.length+" error[s]:"}),o.importErrors(s)}})),o},a.oneOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new s("oneOf must be an array");var o=new r(e,t,n,i),a=new r(e,t,n,i),l=t.oneOf.filter(c.bind(this,e,n,i,(function(e){a.importErrors(e)}))).length,u=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==l&&(n.nestedErrors&&o.importErrors(a),o.addError({name:"oneOf",argument:u,message:"is not exactly one from "+u.join(",")})),o},a.if=function(e,t,n,s){if(void 0===e)return null;if(!i.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var o,a=c.call(this,e,n,s,null,t.if),l=new r(e,t,n,s);if(a){if(void 0===t.then)return;if(!i.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');o=this.validateSchema(e,t.then,n,s.makeChild(t.then)),l.importErrors(o)}else{if(void 0===t.else)return;if(!i.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');o=this.validateSchema(e,t.else,n,s.makeChild(t.else)),l.importErrors(o)}return l},a.propertyNames=function(e,t,n,o){if(this.types.object(e)){var a=new r(e,t,n,o),c=void 0!==t.propertyNames?t.propertyNames:{};if(!i.isSchema(c))throw new s('Expected "propertyNames" to be a schema (object or boolean)');for(var u in e)if(void 0!==l(e,u)){var d=this.validateSchema(u,c,n,o.makeChild(c));a.importErrors(d)}return a}},a.properties=function(e,t,n,i){if(this.types.object(e)){var o=new r(e,t,n,i),a=t.properties||{};for(var c in a){var u=a[c];if(void 0!==u){if(null===u)throw new s('Unexpected null, expected schema in "properties"');"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,u,n,i);var d=l(e,c),h=this.validateSchema(d,u,n,i.makeChild(u,c));h.instance!==o.instance[c]&&(o.instance[c]=h.instance),o.importErrors(h)}}return o}},a.patternProperties=function(e,t,n,i){if(this.types.object(e)){var o=new r(e,t,n,i),a=t.patternProperties||{};for(var c in e){var l=!0;for(var d in a){var h=a[d];if(void 0!==h){if(null===h)throw new s('Unexpected null, expected schema in "patternProperties"');try{var f=new RegExp(d,"u")}catch(e){f=new RegExp(d)}if(f.test(c)){l=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,h,n,i);var g=this.validateSchema(e[c],h,n,i.makeChild(h,c));g.instance!==o.instance[c]&&(o.instance[c]=g.instance),o.importErrors(g)}}}l&&u.call(this,e,t,n,i,c,o)}return o}},a.additionalProperties=function(e,t,n,i){if(this.types.object(e)){if(t.patternProperties)return null;var s=new r(e,t,n,i);for(var o in e)u.call(this,e,t,n,i,o,s);return s}},a.minProperties=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);return Object.keys(e).length>=t.minProperties||s.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),s}},a.maxProperties=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);return Object.keys(e).length<=t.maxProperties||s.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),s}},a.items=function(e,t,n,i){var s=this;if(this.types.array(e)&&void 0!==t.items){var o=new r(e,t,n,i);return e.every((function(e,r){if(Array.isArray(t.items))var a=void 0===t.items[r]?t.additionalItems:t.items[r];else a=t.items;if(void 0===a)return!0;if(!1===a)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var c=s.validateSchema(e,a,n,i.makeChild(a,r));return c.instance!==o.instance[r]&&(o.instance[r]=c.instance),o.importErrors(c),!0})),o}},a.contains=function(e,t,n,s){var o=this;if(this.types.array(e)&&void 0!==t.contains){if(!i.isSchema(t.contains))throw new Error('Expected "contains" keyword to be a schema');var a=new r(e,t,n,s);return!1===e.some((function(e,i){return 0===o.validateSchema(e,t.contains,n,s.makeChild(t.contains,i)).errors.length}))&&a.addError({name:"contains",argument:t.contains,message:"must contain an item matching given schema"}),a}},a.minimum=function(e,t,n,i){if(this.types.number(e)){var s=new r(e,t,n,i);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),s}},a.maximum=function(e,t,n,i){if(this.types.number(e)){var s=new r(e,t,n,i);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),s}},a.exclusiveMinimum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMinimum&&this.types.number(e)){var s=new r(e,t,n,i);return e>t.exclusiveMinimum||s.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),s}},a.exclusiveMaximum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var s=new r(e,t,n,i);return e<t.exclusiveMaximum||s.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),s}};var d=function(e,t,n,o,a,c){if(this.types.number(e)){var l=t[a];if(0==l)throw new s(a+" cannot be zero");var u=new r(e,t,n,o),d=i.getDecimalPlaces(e),h=i.getDecimalPlaces(l),f=Math.max(d,h),g=Math.pow(10,f);return Math.round(e*g)%Math.round(l*g)!=0&&u.addError({name:a,argument:l,message:c+JSON.stringify(l)}),u}};function h(e,t,n){var r,s=n.length;for(r=t+1;r<s;r++)if(i.deepCompareStrict(e,n[r]))return!1;return!0}a.multipleOf=function(e,t,n,i){return d.call(this,e,t,n,i,"multipleOf","is not a multiple of (divisible by) ")},a.divisibleBy=function(e,t,n,i){return d.call(this,e,t,n,i,"divisibleBy","is not divisible by (multiple of) ")},a.required=function(e,t,n,i){var s=new r(e,t,n,i);return void 0===e&&!0===t.required?s.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===l(e,t)&&s.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),s},a.pattern=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=t.pattern;try{var a=new RegExp(o,"u")}catch(e){a=new RegExp(o)}return e.match(a)||s.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),s}},a.format=function(e,t,n,s){if(void 0!==e){var o=new r(e,t,n,s);return o.disableFormat||i.isFormat(e,t.format,this)||o.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),o}},a.minLength=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)>=t.minLength||s.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),s}},a.maxLength=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)<=t.maxLength||s.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),s}},a.minItems=function(e,t,n,i){if(this.types.array(e)){var s=new r(e,t,n,i);return e.length>=t.minItems||s.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),s}},a.maxItems=function(e,t,n,i){if(this.types.array(e)){var s=new r(e,t,n,i);return e.length<=t.maxItems||s.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),s}},a.uniqueItems=function(e,t,n,i){if(!0===t.uniqueItems&&this.types.array(e)){var s=new r(e,t,n,i);return e.every(h)||s.addError({name:"uniqueItems",message:"contains duplicate item"}),s}},a.dependencies=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);for(var o in t.dependencies)if(void 0!==e[o]){var a=t.dependencies[o],c=i.makeChild(a,o);if("string"==typeof a&&(a=[a]),Array.isArray(a))a.forEach((function(t){void 0===e[t]&&s.addError({name:"dependencies",argument:c.propertyPath,message:"property "+t+" not found, required by "+c.propertyPath})}));else{var l=this.validateSchema(e,a,n,c);s.instance!==l.instance&&(s.instance=l.instance),l&&l.errors.length&&(s.addError({name:"dependencies",argument:c.propertyPath,message:"does not meet dependency required by "+c.propertyPath}),s.importErrors(l))}}return s}},a.enum=function(e,t,n,o){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new s("enum expects an array",t);var a=new r(e,t,n,o);return t.enum.some(i.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),a},a.const=function(e,t,n,s){if(void 0===e)return null;var o=new r(e,t,n,s);return i.deepCompareStrict(t.const,e)||o.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),o},a.not=a.disallow=function(e,t,n,i){var s=this;if(void 0===e)return null;var o=new r(e,t,n,i),a=t.not||t.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach((function(r){if(s.testType(e,t,n,i,r)){var a=r&&(r.$id||r.id)||r;o.addError({name:"not",argument:a,message:"is of prohibited type "+a})}})),o):null},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(13);t.default=async function(e){const t=await fetch("/Neon/Neon-gh/assets/template.html");document.body.innerHTML=await t.text(),document.getElementById("home-link").href="https://ddmal.music.mcgill.ca/Neon",document.getElementById("neon-version").textContent="a7f926a4\n",document.getElementById("neon-main-icon").src="/Neon/Neon-gh/assets/img/Neon_Icon_3.svg",Array.from(document.getElementsByClassName("external-link-icon")).forEach(e=>{e.src="/Neon/Neon-gh/assets/img/external-link.svg"}),document.getElementById("filename").innerText=e.manifest.title,document.title=e.manifest.title,document.getElementById("navbar-item-hotkeys").addEventListener("click",(function(){e.modal.setModalWindowView(i.ModalWindowView.HOTKEYS),e.modal.openModalWindow()})),document.querySelector("#debug-mode-tooltip-icon").setAttribute("src","/Neon/Neon-gh/assets/img/debug-tooltip-light.svg");const n=document.querySelector("#file-saved");n.setAttribute("src","/Neon/Neon-gh/assets/img/saved-icon.svg"),n.setAttribute("alt","Your work is saved")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDebugModeStatus=t.setDebugMode=void 0;const i=n(26),r=n(3);function s(){const e=document.getElementById("debug-mode-checkbox");(0,r.setSettings)({debugMode:e.checked});const t=document.getElementById("display-errors").parentNode,n=document.querySelector("#error_log");e.checked?t.style.display="":(t.style.display="none",n.classList.remove("visible")),(0,i.updateErrorLogVisibility)()}t.setDebugMode=function(){const e=document.querySelector("#debug-mode-checkbox"),{debugMode:t}=(0,r.getSettings)();e.checked=t,(0,i.initErrorLog)(),s(),e.addEventListener("click",()=>{s()})},t.updateDebugModeStatus=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(12),r=n(3);t.default=class{constructor(e,t,n,i){this.view=e,this.meiClass=t,this.background=n,this.zoomHandler=i;document.getElementById("display_controls").innerHTML=function(e){let t='\n    <div class="panel-heading" id="displayHeader">\n      <div class="panel-heading-title">DISPLAY</div>\n      <svg class="icon is-pulled-right">\n        <use id="toggleDisplay" class="panel-dropdown-icon" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n      </svg>\n    </div>\n    <div id="displayContents" class="panel-contents">\n      <div class="panel-content-subsection first-subsection" id="display-slider-section">\n  ';return void 0!==e&&(t+='\n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n            <div class="display-slider-title">Zoom</div>\n            <button class="side-panel-btn slider-btn" id="reset-zoom" title="Reset zoom setting">\n              <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/arrow-rotate-left-solid.svg">\n            </button>\n            <button class="side-panel-btn slider-btn" id="set-zoom-easy-edit" title="Fit to page">\n              <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/expand-icon.svg">\n            </button>\n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="25" max="400" value="100"\n              aria-labelledby="reset-zoom"\n              class="slider is-fullwidth is-large"\n              id="zoomSlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n              disabled="disabled"\n            />\n            <output id="zoomOutput" for="zoomSlider">100</output>\n          </div>\n        </div>'),t+='\n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n          <div class="display-slider-title">Glyph Opacity</div>\n            <button class="side-panel-btn slider-btn" id="toggle-glyph-opacity">\n              <img class="slider-btn-img" src="/Neon/Neon-gh//assets/img/hide-icon.svg">\n            </button>   \n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="0" max="100" value="100"\n              aria-labelledby="toggle-glyph-opacity"\n              class="slider is-fullwidth is-large"\n              id="opacitySlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n            />\n            <output id="opacityOutput" for="opacitySlider">100</output>\n          </div>\n        </div>\n        \n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n          <div class="display-slider-title">Image Opacity</div> \n            <button class="side-panel-btn slider-btn" id="toggle-bg-opacity">\n              <img class="slider-btn-img" src="/Neon/Neon-gh//assets/img/hide-icon.svg">\n            </button>   \n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="0" max="100" value="100"\n              aria-labelledby="toggle-bg-opacity"\n              class="slider is-fullwidth is-large"\n              id="bgOpacitySlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n            />\n            <output id="bgOpacityOutput" for="bgOpacitySlider">100</output>\n          </div>\n        </div>\n      </div>\n      \n      <div class="panel-content-subsection">\n\n        <div id="highlight-options-title" class="panel-sub-title">Highlight Options:</div>\n        <div class="dropdown" id="highlight-dropdown">\n          <div class="dropdown-trigger">\n            <button class="side-panel-btn" id="highlight-button" aria-haspopup="true" aria-controls="highlight-menu" style="width: auto">\n              <span>Highlight</span>\n              <span id="highlight-type">&nbsp;- Off</span>\n              <svg class="icon">\n                <use id="toggleDisplay" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n              </svg>\n            </button>\n          </div>\n          <div class="dropdown-menu" id="highlight-menu" role="menu">\n            <div class="dropdown-content">\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-selection">By Selection Mode</a>\n              <hr class="dropdown-divider"/>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-column">Column</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-staff">Staff</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-syllable">Syllable</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-neume">Neume</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-layerElement">LayerElement</a>\n              <hr class="dropdown-divider"/>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-none">None</a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="panel-content-subsection">\n        <div id="display-options-container">\n          <div id="display-options-title" class="panel-sub-title">Display Options:</div>\n\n          <div id="display-options-items">\n\n            <div id="checkbox-display-options">\n\n              <div id="display-all-container">\n                <div id="display-options-separator">\n                <div class="side-panel-btn" id="display-all-btn">Display All</div>\n              </div>\n              <div id="display-single-container"></div>\n\n              \n            </div>\n\n          </div>\n\n        </div>\n      </div>\n      \n    </div>',t}(this.zoomHandler),this.loadSettings(),this.view.addUpdateCallback(this.updateVisualization.bind(this))}setDisplayListeners(){this.zoomHandler&&i.setZoomControls(this.zoomHandler),i.initDisplayControls(this.meiClass,this.background)}loadSettings(){const{zoom:e,glyphOpacity:t,imageOpacity:n,highlightMode:i}=(0,r.getSettings)();document.querySelector("#zoomOutput")&&(document.querySelector("#zoomOutput").value=String(e),document.querySelector("#zoomSlider").value=String(e)),document.querySelector("#bgOpacityOutput").value=String(n),document.querySelector("#bgOpacitySlider").value=String(n),document.querySelector("#opacityOutput").value=String(t),document.querySelector("#opacitySlider").value=String(t);const s="none"===i?"Off":i[0].toUpperCase()+i.slice(1);document.querySelector("#highlight-type").textContent="Â - "+s}updateVisualization(){i.setGlyphOpacityFromSlider(this.meiClass),i.setBgOpacityFromSlider(this.background),i.updateHighlight()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(99);t.default=class{constructor(e,t,n){this.neonView=e,this.updateCallbacks=[],this.divaReady=!1,this.diva=new i.default("container",{objectData:n}),document.getElementById("container").style.minHeight="100%",this.indexMap=new Map,this.diva.disableDragScrollable(),this.displayPanel=new t(this,"neon-container","diva-viewer-canvas"),this.loadDelay=500,this.initDivaEvents(),document.querySelector(".diva-inner").style.cursor="auto",window.onresize=()=>{const e=window.innerHeight,t=window.innerWidth;window.setTimeout(()=>{e===window.innerHeight&&t===window.innerWidth&&this.changePage(this.getCurrentPage(),!1)},this.loadDelay)}}initDivaEvents(){i.default.Events.subscribe("ManifestDidLoad",this.parseManifest.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ObjectDidLoad",this.didLoad.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ActivePageDidChange",this.changePage.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ZoomLevelDidChange",this.adjustZoom.bind(this),this.diva.settings.ID)}async changePage(e,t=!0){function n(e){if(e===this.getCurrentPage()){const t=this.indexMap.get(e);this.neonView.getPageSVG(t).then(t=>{this.updateSVG(t,e);const n="neon-container-"+e,i=document.getElementById(n);null!==i&&i.classList.add("active-page"),this.updateCallbacks.forEach(e=>e())}).catch(e=>{"not_found"!==e.name&&"missing_mei"!==e.name&&console.error(e)})}}const i=[e];Array.from(document.getElementsByClassName("active-page")).forEach(e=>{e.classList.remove("active-page")});for(const e of i)t?window.setTimeout(n.bind(this),this.loadDelay,e):n.bind(this)(e)}getCurrentPage(){return this.diva.getActivePageIndex()}getCurrentPageURI(){return this.indexMap.get(this.getCurrentPage())}adjustZoom(){new Promise(e=>{Array.from(document.getElementsByClassName("neon-container")).forEach(e=>{e.style.display="none"}),setTimeout(e,this.diva.settings.zoomDuration+100)}).then(()=>{this.changePage(this.diva.getActivePageIndex(),!0),Array.from(document.getElementsByClassName("neon-container")).forEach(e=>{const t=e.firstChild,n=parseInt(e.id.match(/\d+/)[0]);this.updateSVG(t,n),e.style.display=""})})}onSVGLoad(){this.setViewEventHandlers()}updateSVG(e,t){const n=document.getElementById("diva-1-inner"),i=this.diva.getPageDimensionsAtCurrentZoomLevel(t),r=this.diva.settings.viewHandler._viewerCore.getPageRegion(t,{includePadding:!0,incorporateViewport:!0}),s=window.getComputedStyle(n,null).getPropertyValue("margin-left"),o="neon-container-"+t.toString();let a=document.getElementById(o);for(null===a&&(a=document.createElement("div"),a.id=o,a.classList.add("neon-container"),n.appendChild(a));a.firstChild;)a.removeChild(a.firstChild);e.setAttribute("width",i.width.toString()),e.setAttribute("height",i.height.toString()),a.style.position="absolute",a.style.top=r.top+"px",a.style.left=r.left-parseInt(s)+"px",a.appendChild(e)}didLoad(){this.divaReady=!0,this.displayPanel.setDisplayListeners(),document.getElementById("loading").style.display="none"}addUpdateCallback(e){this.updateCallbacks.push(e)}removeUpdateCallback(e){const t=this.updateCallbacks.findIndex(t=>t===e);-1!==t&&this.updateCallbacks.splice(t,1)}setViewEventHandlers(){document.body.addEventListener("keydown",e=>{switch(e.key){case"h":for(const e of document.getElementsByClassName("neon-container"))e.style.visibility="hidden"}}),document.body.addEventListener("keyup",e=>{switch(e.key){case"h":for(const e of document.getElementsByClassName("neon-container"))e.style.visibility=""}})}parseManifest(e){this.indexMap.clear();for(const t of e.sequences)for(const e of t.canvases)this.indexMap.set(t.canvases.indexOf(e),e["@id"])}getPageName(){return this.diva.settings.manifest.itemTitle+" â€” "+this.diva.settings.manifest.pages[this.getCurrentPage()].l}}},function(e,t){var n,i,r,s;n=window.requestAnimationFrame,i="ontouchend"in document,r=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},(s=function(e,t){return this.settings=r({},s.DEFAULTS,t),this.el=e,this.ACTIVE_CLASS="kinetic-active",this._initElements(),this.el._VanillaKinetic=this,this}).DEFAULTS={cursor:"move",decelerate:!0,triggerHardware:!1,threshold:0,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,invert:!1,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},s.prototype.start=function(e){this.settings=r(this.settings,e),this.velocity=e.velocity||this.velocity,this.velocityY=e.velocityY||this.velocityY,this.settings.decelerate=!1,this._move()},s.prototype.end=function(){this.settings.decelerate=!0},s.prototype.stop=function(){this.velocity=0,this.velocityY=0,this.settings.decelerate=!0,"function"==typeof this.settings.stopped&&this.settings.stopped.call(this)},s.prototype.detach=function(){this._detachListeners(),this.el.classList.remove(this.ACTIVE_CLASS),this.el.style.cursor=""},s.prototype.attach=function(){this.el.classList.contains(this.ACTIVE_CLASS)||(this._attachListeners(),this.el.classList.add(this.ACTIVE_CLASS),this.el.style.cursor=this.settings.cursor)},s.prototype._initElements=function(){this.el.classList.add(this.ACTIVE_CLASS),r(this,{xpos:null,prevXPos:!1,ypos:null,prevYPos:!1,mouseDown:!1,throttleTimeout:1e3/this.settings.throttleFPS,lastMove:null,elementFocused:null}),this.velocity=0,this.velocityY=0;var e=this;this.documentResetHandler=function(){e._resetMouse.apply(e)};var t=document.documentElement;if(t.addEventListener("mouseup",this.documentResetHandler,!1),t.addEventListener("click",this.documentResetHandler,!1),this._initEvents(),this.el.style.cursor=this.settings.cursor,this.settings.triggerHardware)for(var n=["","-ms-","-webkit-","-moz-"],i={transform:"translate3d(0,0,0)",perspective:"1000","backface-visibility":"hidden"},s=0;s<n.length;s++){var o=n[s];for(var a in i)i.hasOwnProperty(a)&&(this.el.style[o+a]=i[a])}},s.prototype._initEvents=function(){var e=this;this.settings.events={touchStart:function(t){var n;e._useTarget(t.target,t)&&(n=t.originalEvent.touches[0],e.threshold=e._threshold(t.target,t),e._start(n.clientX,n.clientY),t.stopPropagation())},touchMove:function(t){var n;e.mouseDown&&(n=t.originalEvent.touches[0],e._inputmove(n.clientX,n.clientY),t.preventDefault&&t.preventDefault())},inputDown:function(t){e._useTarget(t.target,t)&&(e.threshold=e._threshold(t.target,t),e._start(t.clientX,t.clientY),e.elementFocused=t.target,"IMG"===t.target.nodeName&&t.preventDefault(),t.stopPropagation())},inputEnd:function(t){e._useTarget(t.target,t)&&(e._end(),e.elementFocused=null,t.preventDefault&&t.preventDefault())},inputMove:function(t){e.mouseDown&&(e._inputmove(t.clientX,t.clientY),t.preventDefault&&t.preventDefault())},scroll:function(t){"function"==typeof e.settings.moved&&e.settings.moved.call(e,e.settings),t.preventDefault&&t.preventDefault()},inputClick:function(t){if(Math.abs(e.velocity)>0||Math.abs(e.velocityY)>0)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},dragStart:function(t){if(e._useTarget(t.target,t)&&e.elementFocused)return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},selectStart:function(t){return"function"==typeof e.settings.selectStart?e.settings.selectStart.apply(e,arguments):e._useTarget(t.target,t)?(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1):void 0}},this._attachListeners()},s.prototype._inputmove=function(e,t){if((!this.lastMove||new Date>new Date(this.lastMove.getTime()+this.throttleTimeout))&&(this.lastMove=new Date,this.mouseDown&&(this.xpos||this.ypos))){var n=e-this.xpos,i=t-this.ypos;if(this.settings.invert&&(n*=-1,i*=-1),this.threshold>0){var r=Math.sqrt(n*n+i*i);if(this.threshold>r)return;this.threshold=0}this.elementFocused&&(this.elementFocused.blur(),this.elementFocused=null,this.el.focus()),this.settings.decelerate=!1,this.velocity=this.velocityY=0;var s=this.scrollLeft(),o=this.scrollTop();this.scrollLeft(this.settings.x?s-n:s),this.scrollTop(this.settings.y?o-i:o),this.prevXPos=this.xpos,this.prevYPos=this.ypos,this.xpos=e,this.ypos=t,this._calculateVelocities(),this._setMoveClasses(this.settings.movingClass),"function"==typeof this.settings.moved&&this.settings.moved.call(this,this.settings)}},s.prototype._calculateVelocities=function(){this.velocity=this._capVelocity(this.prevXPos-this.xpos,this.settings.maxvelocity),this.velocityY=this._capVelocity(this.prevYPos-this.ypos,this.settings.maxvelocity),this.settings.invert&&(this.velocity*=-1,this.velocityY*=-1)},s.prototype._end=function(){this.xpos&&this.prevXPos&&!1===this.settings.decelerate&&(this.settings.decelerate=!0,this._calculateVelocities(),this.xpos=this.prevXPos=this.mouseDown=!1,this._move())},s.prototype._useTarget=function(e,t){return"function"!=typeof this.settings.filterTarget||!1!==this.settings.filterTarget.call(this,e,t)},s.prototype._threshold=function(e,t){return"function"==typeof this.settings.threshold?this.settings.threshold.call(this,e,t):this.settings.threshold},s.prototype._start=function(e,t){this.mouseDown=!0,this.velocity=this.prevXPos=0,this.velocityY=this.prevYPos=0,this.xpos=e,this.ypos=t},s.prototype._resetMouse=function(){this.xpos=!1,this.ypos=!1,this.mouseDown=!1},s.prototype._decelerateVelocity=function(e,t){return 0===Math.floor(Math.abs(e))?0:e*t},s.prototype._capVelocity=function(e,t){var n=e;return e>0?e>t&&(n=t):e<0-t&&(n=0-t),n},s.prototype._setMoveClasses=function(e){var t=this.settings,n=this.el;n.classList.remove(t.movingClass.up),n.classList.remove(t.movingClass.down),n.classList.remove(t.movingClass.left),n.classList.remove(t.movingClass.right),n.classList.remove(t.deceleratingClass.up),n.classList.remove(t.deceleratingClass.down),n.classList.remove(t.deceleratingClass.left),n.classList.remove(t.deceleratingClass.right),this.velocity>0&&n.classList.add(e.right),this.velocity<0&&n.classList.add(e.left),this.velocityY>0&&n.classList.add(e.down),this.velocityY<0&&n.classList.add(e.up)},s.prototype._move=function(){var e=this._getScroller(),t=this,i=this.settings;i.x&&e.scrollWidth>0?(this.scrollLeft(this.scrollLeft()+this.velocity),Math.abs(this.velocity)>0&&(this.velocity=i.decelerate?t._decelerateVelocity(this.velocity,i.slowdown):this.velocity)):this.velocity=0,i.y&&e.scrollHeight>0?(this.scrollTop(this.scrollTop()+this.velocityY),Math.abs(this.velocityY)>0&&(this.velocityY=i.decelerate?t._decelerateVelocity(this.velocityY,i.slowdown):this.velocityY)):this.velocityY=0,t._setMoveClasses(i.deceleratingClass),"function"==typeof i.moved&&i.moved.call(this,i),Math.abs(this.velocity)>0||Math.abs(this.velocityY)>0?this.moving||(this.moving=!0,n((function(){t.moving=!1,t._move()}))):t.stop()},s.prototype._getScroller=function(){return this.el},s.prototype.scrollLeft=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollLeft;t.scrollLeft=e,this.settings.scrollLeft=e},s.prototype.scrollTop=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollTop;t.scrollTop=e,this.settings.scrollTop=e},s.prototype._attachListeners=function(){var e=this.el,t=this.settings;i&&(e.addEventListener("touchstart",t.events.touchStart,!1),e.addEventListener("touchend",t.events.inputEnd,!1),e.addEventListener("touchmove",t.events.touchMove,!1)),e.addEventListener("mousedown",t.events.inputDown,!1),e.addEventListener("mouseup",t.events.inputEnd,!1),e.addEventListener("mousemove",t.events.inputMove,!1),e.addEventListener("click",t.events.inputClick,!1),e.addEventListener("scroll",t.events.scroll,!1),e.addEventListener("selectstart",t.events.selectStart,!1),e.addEventListener("dragstart",t.events.dragStart,!1)},s.prototype._detachListeners=function(){var e=this.el,t=this.settings;i&&(e.removeEventListener("touchstart",t.events.touchStart,!1),e.removeEventListener("touchend",t.events.inputEnd,!1),e.removeEventListener("touchmove",t.events.touchMove,!1)),e.removeEventListener("mousedown",t.events.inputDown,!1),e.removeEventListener("mouseup",t.events.inputEnd,!1),e.removeEventListener("mousemove",t.events.inputMove,!1),e.removeEventListener("click",t.events.inputClick,!1),e.removeEventListener("scroll",t.events.scroll,!1),e.removeEventListener("selectstart",t.events.selectStart,!1),e.removeEventListener("dragstart",t.events.dragStart,!1)},window.VanillaKinetic=s},function(e,t,n){var i,r,s;
/**
 * @fileoverview dragscroll - scroll area by dragging
 * @version 0.0.8
 *
 * @license MIT, see http://github.com/asvd/dragscroll
 * @copyright 2015 asvd <heliosframework@gmail.com>
 */r=[t],void 0===(s="function"==typeof(i=function(e){var t,n,i=window,r=document,s=[],o=function(e,o){for(e=0;e<s.length;)(o=(o=s[e++]).container||o).removeEventListener("mousedown",o.md,0),i.removeEventListener("mouseup",o.mu,0),i.removeEventListener("mousemove",o.mm,0);for(s=[].slice.call(r.getElementsByClassName("dragscroll")),e=0;e<s.length;)!function(e,s,o,a,c,l){(l=e.container||e).addEventListener("mousedown",l.md=function(t){e.hasAttribute("nochilddrag")&&r.elementFromPoint(t.pageX,t.pageY)!==l||(a=1,s=t.clientX,o=t.clientY,t.preventDefault())},0),i.addEventListener("mouseup",l.mu=function(){a=0},0),i.addEventListener("mousemove",l.mm=function(i){a&&((c=e.scroller||e).scrollLeft-=t=-s+(s=i.clientX),c.scrollTop-=n=-o+(o=i.clientY),e===r.body&&((c=r.documentElement).scrollLeft-=t,c.scrollTop-=n))},0)}(s[e++])};"complete"===r.readyState?o():i.addEventListener("load",o,0),e.reset=o,window.resetDragscroll=o})?i.apply(t,r):i)||(e.exports=s)},function(e,t,n){e.exports=function(e){function t(e){let n,r,s,o=null;function a(...e){if(!a.enabled)return;const i=a,r=Number(new Date),s=r-(n||r);i.diff=s,i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";o++;const s=t.formatters[r];if("function"==typeof s){const t=e[o];n=s.call(i,t),e.splice(o,1),o--}return n}),t.formatArgs.call(i,e);(i.log||t.log).apply(i,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(r!==t.namespaces&&(r=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(80),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var n=1e3,i=6e4,r=60*i,s=24*r;function o(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*i;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return o(e,t,s,"day");if(t>=r)return o(e,t,r,"hour");if(t>=i)return o(e,t,i,"minute");if(t>=n)return o(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=r)return Math.round(e/r)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(12),r=n(82),s=n(7),o=n(3);t.default=class{constructor(e,t,n){this.neonView=e,this.container=document.getElementById("container"),this.updateCallbacks=new Array(0),this.group=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.group.id="svg_group",this.group.setAttribute("height",window.innerHeight.toString()),this.group.setAttribute("width","100%"),this.bg=document.createElementNS("http://www.w3.org/2000/svg","image"),this.bg.id="bgimg",this.bg.classList.add("background"),this.bg.setAttribute("x","0"),this.bg.setAttribute("y","0");const i=new FileReader;fetch(n).then(e=>{if(e.ok)return i.addEventListener("load",()=>{this.bg.setAttributeNS("http://www.w3.org/1999/xlink","href",i.result.toString());const e=this.bg.getBBox();if(!this.group.hasAttribute("viewBox")){let{viewBox:t}=(0,o.getSettings)();t||(t="0 0 "+e.width.toString()+" "+e.height.toString()),this.group.setAttribute("viewBox",t)}}),e.blob()}).then(e=>{i.readAsDataURL(e)}),this.svg=document.createElementNS("http://www.w3.org/svg","svg"),this.svg.id="mei_output",this.svg.classList.add("neon-container","active-page"),this.group.appendChild(this.bg),this.group.appendChild(this.svg),this.container.appendChild(this.group),this.zoomHandler=new r.default,this.displayPanel=new t(this,"neon-container","background",this.zoomHandler),this.pageURI=n,document.getElementById("loading").style.display="none"}onSVGLoad(){this.setViewEventHandlers(),this.displayPanel.setDisplayListeners()}updateSVG(e){this.group.replaceChild(e,this.svg),this.svg=e,this.svg.id="mei_output",this.svg.classList.add("neon-container","active-page");const t=parseInt(this.svg.getAttribute("height")),n=parseInt(this.svg.getAttribute("width"));this.bg.setAttribute("height",t.toString()),this.bg.setAttribute("width",n.toString());const{viewBox:r}=(0,o.getSettings)();r?this.group.setAttribute("viewBox",r):this.group.setAttribute("viewBox","0 0 "+n+" "+t),(0,i.updateHighlight)(),this.resetTransformations(),this.updateCallbacks.forEach(e=>e())}async changePage(e,t){const n=await this.neonView.getPageSVG(this.getCurrentPageURI());this.updateSVG(n)}addUpdateCallback(e){this.updateCallbacks.push(e)}removeUpdateCallback(e){const t=this.updateCallbacks.findIndex(t=>t===e);-1!==t&&this.updateCallbacks.splice(t,1)}resetTransformations(){this.displayPanel.zoomHandler.restoreTransformation(),(0,i.setGlyphOpacityFromSlider)(),(0,i.setBgOpacityFromSlider)()}getCurrentPage(){return 0}getCurrentPageURI(){return this.pageURI}setViewEventHandlers(){document.body.addEventListener("keydown",e=>{switch(e.key){case"Shift":s.select("#svg_group").on(".drag",null),s.select("#svg_group").call(s.drag().on("start",this.displayPanel.zoomHandler.startDrag.bind(this.displayPanel.zoomHandler)).on("drag",this.displayPanel.zoomHandler.dragging.bind(this.displayPanel.zoomHandler)));break;case"h":document.getElementById("mei_output").setAttribute("visibility","hidden")}}),document.body.addEventListener("keyup",e=>{switch(e.key){case"Shift":s.select("#svg_group").on(".drag",null),"viewer"!==this.neonView.getUserMode()&&this.neonView.NeumeEdit.setSelectListeners();break;case"h":document.getElementById("mei_output").setAttribute("visibility","visible")}}),s.select("#container").on("touchstart",()=>{2===s.event.touches.length&&(this.displayPanel.zoomHandler.startDrag(),s.select("#container").on("touchmove",this.displayPanel.zoomHandler.dragging.bind(this.displayPanel.zoomHandler)),s.select("#container").on("touchend",()=>{s.select("#container").on("touchmove",null)}))}),s.select("#container").on("wheel",this.displayPanel.zoomHandler.scrollZoom.bind(this.displayPanel.zoomHandler),!1),window.onresize=()=>{const e=window.innerHeight,t=document.getElementById("container");e>Number(t.getAttribute("height"))&&t.setAttribute("height",e.toString())}}getPageName(){return this.neonView.name}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ZoomHandler=t.ViewBox=void 0;const i=n(7),r=n(3);class s{constructor(e,t){this.minX=0,this.minY=0,this.width=e,this.height=t,this.imageWidth=e,this.imageHeight=t}set(e,t,n,i){this.minX=e,this.minY=t,this.width=n,this.height=i}get(){return this.minX.toString()+" "+this.minY.toString()+" "+this.width+" "+this.height}zoomTo(e){const t=this.imageHeight/e,n=this.imageWidth/e;this.width=n,this.height=t}getZoom(){return this.imageWidth/this.width}translate(e,t){this.minX+=e,this.minY+=t}}t.ViewBox=s;class o{resetZoomAndPan(e=!0){const t=document.getElementById("bgimg");this.viewBox=new s(parseInt(t.getAttribute("width")),parseInt(t.getAttribute("height"))),e&&(this.updateSVGViewBox(),(0,r.setSettings)({zoom:100}))}zoomTo(e){this.setViewBox(),this.viewBox.zoomTo(e),this.updateSVGViewBox(),(0,r.setSettings)({zoom:Math.floor(100*e)})}translate(e,t){this.setViewBox(),this.viewBox.translate(e,t),this.updateSVGViewBox()}restoreTransformation(){void 0===this.viewBox?this.resetZoomAndPan(!1):this.updateSVGViewBox()}setViewBox(){if(void 0===this.viewBox){const e=document.getElementById("bgimg");this.viewBox=new s(parseInt(e.getAttribute("width")),parseInt(e.getAttribute("height")))}const e=document.getElementById("svg_group").getAttribute("viewBox").split(" ");this.viewBox.set(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]),parseInt(e[3]))}updateSVGViewBox(){const e=this.viewBox.get();document.getElementById("svg_group").setAttribute("viewBox",e),(0,r.setSettings)({viewBox:e})}startDrag(){const e=document.getElementById("svg_group");this.dragCoordinates=e.createSVGPoint(),"touchstart"===i.event.type?(this.dragCoordinates.x=i.event.touches[0].screenX,this.dragCoordinates.y=i.event.touches[0].screenY):(this.dragCoordinates.x=i.event.x,this.dragCoordinates.y=i.event.y),this.matrix=e.getScreenCTM().inverse()}dragging(){const e=document.getElementById("svg_group"),t=e.createSVGPoint();"touchmove"===i.event.type?(t.x=i.event.touches[0].screenX,t.y=i.event.touches[0].screenY):"wheel"===i.event.type&&!1===i.event.shiftKey?(void 0===this.matrix&&(this.matrix=e.getScreenCTM().inverse()),void 0===this.dragCoordinates&&(this.dragCoordinates=e.createSVGPoint()),this.dragCoordinates.x=i.event.x,this.dragCoordinates.y=i.event.y,t.x=this.dragCoordinates.x-i.event.deltaX,t.y=this.dragCoordinates.y-i.event.deltaY,i.event.preventDefault()):(t.x=i.event.x,t.y=i.event.y);const n=t.matrixTransform(this.matrix),r=this.dragCoordinates.matrixTransform(this.matrix);this.translate(-n.x+r.x,-n.y+r.y),this.dragCoordinates=t}scrollZoom(){if("wheel"!==i.event.type)return;if(!i.event.shiftKey)return void this.dragging();const e=document.getElementById("zoomSlider");this.setViewBox();let t=this.viewBox.getZoom()-i.event.deltaX/100;t<parseInt(e.getAttribute("min"))/100&&(t=.25),t>parseInt(e.getAttribute("max"))/100&&(t=4),this.zoomTo(t),e.value=(100*t).toString(),document.getElementById("zoomOutput").value=String(Math.round(100*t))}}t.ZoomHandler=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(52),r=n(45),s=n(53),o=n(14),a=n(12),c=n(23),l=n(8),u=n(54),d=n(3);t.default=class{constructor(e){this.neonView=e,this.initEditMode()}initEditMode(){document.getElementById("insert_controls").innerHTML+=l.insertControlsPanel,document.getElementById("edit_controls").innerHTML+=l.editControlsPanel,document.getElementById("undoRedo_controls").innerHTML=u.undoRedoPanel,this.dragHandler=new c.default(this.neonView,".active-page > svg"),this.insertHandler=new s.default(this.neonView,".active-page > svg"),(0,i.bindInsertTabs)(this.insertHandler);const{insertTab:e}=(0,d.getSettings)();document.getElementById(e).click(),r.setSelectHelperObjects(this.neonView,this.dragHandler),this.setSelectListeners(),o.initNeonView(this.neonView),(0,i.initInsertEditControls)(),r.setSelectStrokeWidth(1),(0,i.initSelectionButtons)(),(0,a.setHighlightSelectionControls)(),this.neonView.view.addUpdateCallback(this.setSelectListeners.bind(this))}getUserMode(){const{userMode:e}=(0,d.getSettings)();return e}setSelectListeners(){r.clickSelect(".active-page > svg > svg, .active-page > svg > svg use, .active-page > svg > svg rect"),r.dragSelect(".active-page svg")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(52),r=n(12),s=n(55),o=n(45),a=n(53),c=n(14),l=n(23),u=n(8),d=n(54),h=n(55),f=n(3);t.default=class{constructor(e){this.neonView=e,this.initEditMode()}initEditMode(){(0,h.initNavbar)(this.neonView),document.getElementById("insert_controls").innerHTML+=u.insertControlsPanel,document.getElementById("edit_controls").innerHTML+=u.editControlsPanel,document.getElementById("undoRedo_controls").innerHTML=d.undoRedoPanel,this.dragHandler=new l.default(this.neonView,"#svg_group"),this.insertHandler=new a.default(this.neonView,"#svg_group"),(0,i.bindInsertTabs)(this.insertHandler);const{insertTab:e}=(0,f.getSettings)();document.getElementById(e).click(),o.setSelectHelperObjects(this.neonView,this.dragHandler),this.setSelectListeners(),c.initNeonView(this.neonView),(0,i.initInsertEditControls)(),(0,i.initSelectionButtons)(),(0,s.initUndoRedoPanel)(this.neonView),(0,r.setHighlightOption)("selection"),this.neonView.view.addUpdateCallback(this.setSelectListeners.bind(this))}getUserMode(){const{userMode:e}=(0,f.getSettings)();return e}setSelectListeners(){o.clickSelect("#svg_group, #svg_group use, #svg_group rect"),o.dragSelect("#svg_group")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(3),r=n(12),s=new Map([["","Punctum"],["u","Pes"],["d","Clivis"],["uu","Scandicus"],["ud","Torculus"],["du","Porrectus"],["s","Distropha"],["ss","Tristopha"],["sd","Pressus"],["dd","Climacus"],["ddu","ClimacusResupinus"],["udu","TorculusResupinus"],["dud","PorrectusFlexus"],["udd","PesSubpunctis"],["uud","ScandicusFlexus"],["uudd","ScandicusSubpunctis"],["dudd","PorrectusSubpunctis"]]);function o(){const e=document.getElementById("element_info"),t=document.getElementById("displayInfo");(0,i.setSettings)({displayInfo:t.checked}),t.checked?e.setAttribute("style",""):e.setAttribute("style","display: none"),(0,r.updateDisplayAllBtn)()}function a(){document.getElementById("element_info").innerHTML='<div class="info-bubble-container">\n      <div class="info-bubble-header">Element Info</div>\n      <div class="info-bubble-body"><i>Hover over any element to see its metadata</i></div>\n    </div>',document.getElementById("element_info").setAttribute("style","display: none"),function(){const{displayInfo:e}=(0,i.getSettings)();document.querySelector("#displayInfo").checked=e}(),o(),document.getElementById("displayInfo").addEventListener("click",o)}t.default=class{constructor(e){this.neonView=e;const t=document.getElementById("display-single-container"),n=document.createElement("label");n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Info";const i=document.createElement("input");i.id="displayInfo",i.classList.add("checkbox"),i.type="checkbox",i.checked=!1,n.appendChild(i),t.prepend(n),this.neonView.view.addUpdateCallback(this.resetInfoListeners.bind(this)),a(),this.resetInfoListeners()}infoListeners(){try{document.getElementsByClassName("active-page")[0].querySelectorAll(".neume,.custos,.clef,.accid,.divLine,.staff").forEach(e=>{e.addEventListener("mouseover",t=>{e.classList.contains("staff")||(this.isHoveringChild=!0),this.updateInfo(t)})}),document.getElementsByClassName("active-page")[0].querySelectorAll(".neume,.custos,.clef,.accid,.divLine").forEach(e=>{e.addEventListener("mouseleave",()=>{this.isHoveringChild=!1})})}catch(e){}}stopListeners(){document.querySelectorAll(".neume,.custos,.clef,.accid,.divLine,.staff").forEach(e=>{e.removeEventListener("mouseover",this.updateInfo.bind(this))}),document.querySelectorAll(".neume, .custos, .clef, .accid, .divLine").forEach(e=>{e.removeEventListener("mouseleave",()=>{this.isHoveringChild=!1})})}resetInfoListeners(){this.stopListeners(),this.infoListeners()}async updateInfo(e){const t=e.currentTarget.id;if(""===t)return Array.from(document.getElementById("element_info").children).forEach(e=>{e.remove()}),void console.log("No id!");const n=document.getElementById(t),i=n.getAttribute("class").match(/neume|clef|custos|staff|accid|divLine/)[0];let r,s="";switch(i){case"neume":{const e=n.querySelectorAll(".nc");if(1===e.length){const t=await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI());if("a"===t.curve||"c"===t.curve){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Liquescent\r\nPitch(es): "+t;break}}let t=await this.getContour(e);if(1===e.length){const t=await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI());if("s"===t.tilt){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Virga \r\nPitch(es): "+t;break}if("n"===t.tilt){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Reversed Virga \r\nPitch(es): "+t;break}}if("Clivis"===t){(await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI())).ligated&&(t="Ligature")}let i=await this.getPitches(e);i=i.trim().toUpperCase(),s="Shape: "+(void 0===t?"Compound":t)+"\r\nPitch(es): "+i;break}case"custos":r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),s+="Pitch: "+r.pname.toUpperCase()+r.oct;break;case"accid":{r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI());let e="";"F"==r.accid.toUpperCase()?e="Flat":"N"==r.accid.toUpperCase()&&(e="Natural"),s+="Accid Type: "+e;break}case"clef":{const e=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI());if(e["dis.place"]&&void 0!==e.dis){s+="Octave Displacement: "+((e,t)=>("above"===e?"+":"-")+String(Math.floor(Number(t)/7)))(e["dis.place"],e.dis)+"\r\n"}else s+="Octave Displacement: None\r\n";s+="Shape: "+e.shape+"\r\nLine: "+e.line;break}case"divLine":r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),s+="DivLine Type: "+r.form;break;case"staff":if(this.isHoveringChild)return;r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),r.type&&(s+="Column: "+r.type.replace(/^column/,""));break;default:s+="nothing"}s=`Element Type: ${i.charAt(0).toUpperCase()+i.slice(1)}\n${s}`,this.updateInfoModule(s)}async getPitches(e){let t="";for(const n of e){const e=await this.neonView.getElementAttr(n.id,this.neonView.view.getCurrentPageURI());t+=e.pname+e.oct+" "}return t}async getContour(e){let t="",n=null;for(const i of e){const e=await this.neonView.getElementAttr(i.id,this.neonView.view.getCurrentPageURI());null!==n&&(n.oct>e.oct?t+="d":n.oct<e.oct||this.pitchNameToNum(n.pname)<this.pitchNameToNum(e.pname)?t+="u":this.pitchNameToNum(n.pname)>this.pitchNameToNum(e.pname)?t+="d":t+="s"),n=e}return void 0===s.get(t)&&console.warn("Unknown contour: "+t),s.get(t)}updateInfoModule(e){document.getElementsByClassName("info-bubble-body")[0].innerText=e,document.getElementById("displayInfo").checked&&(document.getElementsByClassName("info-bubble-container")[0].style.display="")}pitchNameToNum(e){switch(e){case"c":return 1;case"d":return 2;case"e":return 3;case"f":return 4;case"g":return 5;case"a":return 6;case"b":return 7;default:console.log("Unknown pitch name")}}getContourByValue(e){for(const[t,n]of s.entries())if(n===e)return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(5),r=n(4),s=n(12),o=n(3);t.default=class{constructor(e){this.neonView=e,this.notificationSent=!1;const t=document.getElementById("display-single-container"),n=document.createElement("label"),i=document.createElement("label"),r=document.createElement("input"),s=document.createElement("input");r.classList.add("checkbox"),s.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),i.classList.add("checkbox-container","side-panel-btn"),n.textContent="Text",i.textContent="BBoxes",r.id="displayText",r.type="checkbox",s.id="displayBBox",s.type="checkbox",r.checked=!1,s.checked=!1,n.appendChild(r),i.appendChild(s),t.prepend(i),t.prepend(n),this.loadSettings(),this.setTextViewControls(),this.neonView.view.addUpdateCallback(this.updateTextViewVisibility.bind(this)),this.neonView.view.addUpdateCallback(this.updateBBoxVisibility.bind(this))}setTextViewControls(){this.updateTextViewVisibility(),this.updateBBoxVisibility(),document.getElementById("displayText").addEventListener("click",()=>{this.updateTextViewVisibility(),(0,s.updateDisplayAllBtn)()}),document.getElementById("displayBBox").addEventListener("click",()=>{this.updateBBoxVisibility(),(0,s.updateDisplayAllBtn)()})}loadSettings(){const{displayText:e,displayBBox:t}=(0,o.getSettings)();document.querySelector("#displayText").checked=e,document.querySelector("#displayBBox").checked=t}updateBBoxVisibility(){var e;const t=document.getElementById("displayBBox");if((0,o.setSettings)({displayBBox:t.checked}),t.checked){if(document.querySelectorAll(".sylTextRect").forEach(e=>{e.classList.add("sylTextRect-display"),e.classList.remove("sylTextRect")}),document.querySelectorAll(".syl.selected .sylTextRect-display").forEach(e=>{e.style.fill="red"}),"viewer"!==this.neonView.getUserMode()&&void 0!==this.neonView.TextEdit){this.neonView.TextEdit.initSelectByBBoxButton(),this.neonView.TextEdit.initBBoxCircleSlider();const{circleSize:e}=(0,o.getSettings)();document.querySelector("#circleOutput").value=String(e),document.querySelector("#circleSlider").value=String(e)}}else{(null===(e=document.getElementById("selByBBox"))||void 0===e?void 0:e.classList.contains("is-active"))&&((0,r.unselect)(),document.getElementById("selByBBox").classList.remove("is-active"),document.getElementById("selBySyllable").classList.add("is-active"),(0,o.setSettings)({selectionMode:"selBySyllable"})),document.querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("sylTextRect"),e.classList.remove("sylTextRect-display")}),document.querySelectorAll(".syl.selected .sylTextRect").forEach(e=>{e.style.fill="none"});try{document.getElementById("selByBBox").style.display="none"}catch(e){}try{document.getElementById("bbox-circle-slider").style.display="none"}catch(e){}}(0,s.updateHighlight)()}updateTextViewVisibility(){const e=document.getElementById("displayText");if((0,o.setSettings)({displayText:e.checked}),e.checked){const e=document.getElementById("syl_text");e.style.display="",e.innerHTML=`<div class="info-bubble-container">\n          <div class="info-bubble-header">Syllables on this page</div>\n          <div class="info-bubble-body">${this.getSylText()}</div>\n        </div>`;e.querySelectorAll("span").forEach(e=>{const t=document.getElementById(e.classList[0]),n=t.querySelector(".syl"),i=n.querySelector("text"),r=n.querySelector("rect");0===i.classList.length&&i.classList.add("text"),e.addEventListener("mouseover",()=>{t.classList.contains("syllable-highlighted")||(t.classList.add("selected"),t.querySelectorAll(".neume").forEach(e=>{e.classList.add("selected")}),null!==r&&(r.style.fill="#d00"))}),e.addEventListener("mouseleave",()=>{t.classList.contains("syllable-highlighted")||(t.classList.remove("selected"),t.querySelectorAll(".neume").forEach(e=>{e.classList.remove("selected")}),null!==r&&("rgb(0, 0, 0)"!==t.style.fill?r.style.fill=t.getAttribute("fill"):r.style.fill="blue"))})}),"viewer"!==this.neonView.getUserMode()&&void 0!==this.neonView.TextEdit&&this.neonView.TextEdit.initTextEdit()}else document.getElementById("syl_text").style.display="none"}getSylText(){let e="";return document.querySelectorAll(".active-page .syllable").forEach(t=>{if(null!==t.querySelector(".syl")){const n=t.querySelector(".syl");e+=`<span class="${t.id} syl-text-side-panel">`,""===n.textContent.trim()?e+="&#x25CA; ":Array.from(n.children[0].children[0].children).forEach(t=>{e+=""!==t.textContent?t.textContent:"&#x25CA; "}),e+=" </span>"}}),this.notificationSent||(i.queueNotification("Blank syllables are represented by â—Š!"),this.notificationSent=!0),e.replace(/\ue551/g,"-")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),r=n(23),s=n(45),o=n(18),a=n(13),c=n(3),l=n(12);function u(){if(!document.getElementById("selByBBox").classList.contains("is-active")){(0,i.unselect)(),(0,c.setSettings)({selectionMode:"selByBBox"});try{document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden")}catch(e){}document.getElementById("selByBBox").classList.add("is-active");try{document.getElementById("selByNc").classList.remove("is-active"),document.getElementById("selByNeume").classList.remove("is-active"),document.getElementById("selByStaff").classList.remove("is-active"),document.getElementById("selBySyllable").classList.remove("is-active"),document.getElementById("selByLayerElement").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,o.setGroupingHighlight)("syllable")}catch(e){}}this.addBBoxListeners()}t.default=class{constructor(e){this.neonView=e,this.initTextEdit()}initTextEdit(){const e=document.getElementById("syl_text").querySelectorAll("span"),t=this.neonView.modal;e.forEach(e=>{function n(){e.classList.add("selected-to-edit"),t.setModalWindowView(a.ModalWindowView.EDIT_TEXT),t.openModalWindow()}e.removeEventListener("click",n),e.addEventListener("click",n)}),document.addEventListener("keydown",e=>{if(e.shiftKey&&"T"===e.key){const e=document.querySelector(".text-select");e&&e.scrollIntoView({behavior:"smooth"})}})}initSelectByBBoxButton(){if(void 0!==this.neonView.NeumeEdit){const e=document.getElementById("selByBBox");if(e)return void(e.style.display="");const t=document.getElementById("selection-mode-btns-container"),n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),n.addEventListener("click",u.bind(this)),document.body.addEventListener("keydown",e=>{"6"===e.key&&""===document.getElementById("selByBBox").style.display&&u.bind(this)()}),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}else{const e=document.getElementById("undo").closest(".control"),t=document.createElement("p");t.classList.add("control");const n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),e.appendChild(t),n.classList.add("is-active"),n.style.display="none",this.addBBoxListeners(),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}}addBBoxListeners(){document.getElementById("selByBBox").classList.contains("is-active")&&((0,i.unselect)(),void 0===this.neonView.NeumeEdit&&(this.dragHandler=new r.default(this.neonView,".sylTextRect-display"),(0,s.setSelectHelperObjects)(this.neonView,this.dragHandler),"SingleView"===this.neonView.view.constructor.name?((0,s.clickSelect)("#mei_output, #mei_output rect"),(0,s.dragSelect)("#svg_group")):((0,s.clickSelect)(".active-page > svg > svg, .active-page > svg > svg rect"),(0,s.dragSelect)(".active-page svg"))))}initBBoxCircleSlider(){const e=document.getElementById("bbox-circle-slider");if(e)return void(e.style.display="");const t=document.getElementById("display-slider-section"),n=document.createElement("div");n.classList.add("slider-and-slider-actions-container","display-panel"),n.style.cursor="default",n.id="bbox-circle-slider",n.innerHTML='\n    <div class="slider-actions-container">\n        <div class="display-slider-title">BBox Circle</div>\n        <button class="side-panel-btn slider-btn" id="reset-circle-size" title="Reset circle size">\n            <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/arrow-rotate-left-solid.svg">\n        </button>\n    </div>\n    <div class="slider-container">\n        <input type="range"\n            step="1" min="0" max="50" value="25"\n            aria-labelledby="reset-circle-size"\n            class="slider is-fullwidth is-large"\n            id="circleSlider"\n            style="padding-left: 1rem; padding-right: 1rem;"\n            disabled="disabled"\n        />\n        <output id="circleOutput" for="circleSlider">25</output>\n    </div>',t.appendChild(n),void 0===this.neonView.NeumeEdit&&(n.style.display="none"),(0,l.setCircleSizeControls)()}}},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(77),n(78);function i(e){const t=document.createElement(e),n=Array.prototype.slice.call(arguments,1);for(;n.length;){r(t,n.shift())}return t}function r(e,t){if(null!=t)if("object"!=typeof t&&"function"!=typeof t)e.appendChild(document.createTextNode(t));else if(t instanceof window.Node)e.appendChild(t);else if(t instanceof Array){const n=t.length;for(let i=0;i<n;i++)r(e,t[i])}else s(e,t)}function s(e,t){for(const n in t)t.hasOwnProperty(n)&&("style"===n?o(e,t.style):e.setAttribute(n,t[n]))}function o(e,t){if(t)if("object"==typeof t)for(const n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);else e.style.cssText=t}function a(e){this.name="DivaParentElementNotFoundException",this.message=e,this.stack=(new Error).stack}function c(e){this.name="NotAnIIIFManifestException",this.message=e,this.stack=(new Error).stack}function l(e){this.name="ObjectDataNotSuppliedException",this.message=e,this.stack=(new Error).stack}a.prototype=new Error,c.prototype=new Error,l.prototype=new Error;var u={Events:new class{constructor(){this._cache={}}publish(e,t,n){if(this._cache[e]){const i=this._cache[e];if(void 0!==i.global){const e=i.global,r=e.length;for(let i=0;i<r;i++)e[i].apply(n||null,t||[])}if(n&&void 0!==n.getInstanceId){const i=n.getInstanceId();if(this._cache[e][i]){const r=this._cache[e][i],s=r.length;for(let e=0;e<s;e++)r[e].apply(n,t||[])}}}}subscribe(e,t,n){return this._cache[e]||(this._cache[e]={}),"string"==typeof n?(this._cache[e][n]||(this._cache[e][n]=[]),this._cache[e][n].push(t)):(this._cache[e].global||(this._cache[e].global=[]),this._cache[e].global.push(t)),n?[e,t,n]:[e,t]}unsubscribe(e,t){const n=e[0];if(this._cache[n]){let i;const r=3===e.length?e[2]:"global";if(i=this._cache[n][r],!i)return!1;if(t)return delete this._cache[n][r],i.length>0;let s=i.length;for(;s--;)if(i[s]===e[1])return this._cache[n][r].splice(s,1),!0}return!1}unsubscribeAll(e){if(e){const t=Object.keys(this._cache);let n,i=t.length;for(;i--;)n=t[i],void 0!==this._cache[n][e]&&delete this._cache[n][e]}else this._cache={}}}};var d={onDoubleClick:function(e,t){e.addEventListener("dblclick",(function(e){e.ctrlKey||t(e,g(e.currentTarget,e))}));const n=f(500);e.addEventListener("contextmenu",(function(e){e.preventDefault(),e.ctrlKey&&(n.isTriggered()?(n.reset(),t(e,g(e.currentTarget,e))):n.trigger())}))},onPinch:function(e,t){let n=0;e.addEventListener("touchstart",(function(e){e.preventDefault(),2===e.originalEvent.touches.length&&(n=h(e.originalEvent.touches[0].clientX,e.originalEvent.touches[0].clientY,e.originalEvent.touches[1].clientX,e.originalEvent.touches[1].clientY))})),e.addEventListener("touchmove",(function(e){if(e.preventDefault(),2===e.originalEvent.touches.length){const i=e.originalEvent.touches,r=h(i[0].clientX,i[0].clientY,i[1].clientX,i[1].clientY),s=r-n;if(Math.abs(s)>0){const s={pageX:(i[0].clientX+i[1].clientX)/2,pageY:(i[0].clientY+i[1].clientY)/2};t(e,g(e.currentTarget,s),n,r)}}}))},onDoubleTap:function(e,t){const n=f(250);let i=null;e.addEventListener("touchend",e=>{if(e.preventDefault(),n.isTriggered()){n.reset();const r={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY};h(i.pageX,i.pageY,r.pageX,r.pageY)<50&&t(e,g(e.currentTarget,r)),i=null}else i={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY},n.trigger()})}};function h(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))}function f(e){let t=!1,n=null;return{trigger(){t=!0,i(),n=setTimeout((function(){t=!1,n=null}),e)},isTriggered:()=>t,reset(){t=!1,i()}};function i(){null!==n&&(clearTimeout(n),n=null)}}function g(e,t){const n=e.getBoundingClientRect();return{left:t.pageX-n.left,top:t.pageY-n.top}}var p=n(31);class m{constructor(e,t){this.page=e,this._viewerCore=t,this._innerElement=this._viewerCore.getSettings().innerElement,this._pageToolsElem=null,this.labelWidth=0}mount(){null===this._pageToolsElem&&(this._buttons=this._initializePageToolButtons(),this._pageToolsElem=i("div",{class:"diva-page-tools-wrapper"},i("div",{class:"diva-page-tools"},this._buttons)),this._pageLabelsElem=i("div",{class:"diva-page-labels-wrapper"},i("div",{class:"diva-page-labels"},this._viewerCore.settings.manifest.pages[this.page].l))),this.refresh(),this._innerElement.appendChild(this._pageToolsElem),this._innerElement.appendChild(this._pageLabelsElem)}_initializePageToolButtons(){const e=this._viewerCore.getSettings(),t=this._viewerCore.getPublicInstance(),n=this.page;return this._viewerCore.getPageTools().map(i=>{const r=i.pageToolsIcon.cloneNode(!0);return r.addEventListener("click",r=>{i.handleClick.call(i,r,e,t,n)},!1),r.addEventListener("touchend",r=>{r.preventDefault(),i.handleClick.call(i,r,e,t,n)},!1),r})}unmount(){this._innerElement.removeChild(this._pageToolsElem),this._innerElement.removeChild(this._pageLabelsElem)}refresh(){const e=this._viewerCore.getPageRegion(this.page,{includePadding:!0,incorporateViewport:!0});let t=window.getComputedStyle(this._innerElement,null).getPropertyValue("margin-left");this._pageToolsElem.style.top=e.top+"px",this._pageToolsElem.style.left=e.left-parseInt(t)+"px",this._pageLabelsElem.style.top=e.top+"px",this._pageLabelsElem.style.left=e.right-parseInt(t)-this.labelWidth-5+"px"}}class v{constructor(e){if(this._viewerCore=e,this._viewerState=e.getInternalState(),this._overlays=[],this._viewerCore.getPageTools().length){const t=e.getSettings().numPages;for(let n=0;n<t;n++){const t=new m(n,e);this._overlays.push(t),this._viewerCore.addPageOverlay(t);let i=document.createElement("span");i.innerHTML=e.settings.manifest.pages[n].l,i.classList.add("diva-page-labels"),i.setAttribute("style","display: inline-block;"),document.body.appendChild(i);let r=i.clientWidth;document.body.removeChild(i),t.labelWidth=r}}}onDoubleClick(e,t){const n=this._viewerCore.getSettings(),i=e.ctrlKey?n.zoomLevel-1:n.zoomLevel+1,r=this._viewerCore.getPagePositionAtViewportOffset(t);this._viewerCore.zoom(i,r)}onPinch(e,t,n,i){const r=this._viewerCore.getInternalState(),s=this._viewerCore.getSettings();let o=Math.log(Math.pow(2,s.zoomLevel)*i/(n*Math.log(2)))/Math.log(2);if(o=Math.max(s.minZoomLevel,o),o=Math.min(s.maxZoomLevel,o),o===s.zoomLevel)return;const a=this._viewerCore.getPagePositionAtViewportOffset(t),c=this._viewerCore.getCurrentLayout().getPageToViewportCenterOffset(a.anchorPage,r.viewport),l=1/Math.pow(2,s.zoomLevel-o);this._viewerCore.reload({zoomLevel:o,goDirectlyTo:a.anchorPage,horizontalOffset:c.x-a.offset.left+a.offset.left*l,verticalOffset:c.y-a.offset.top+a.offset.top*l})}onViewWillLoad(){this._viewerCore.publish("DocumentWillLoad",this._viewerCore.getSettings())}onViewDidLoad(){this._handleZoomLevelChange();const e=this._viewerCore.getSettings().activePageIndex,t=this._viewerCore.getPageName(e);this._viewerCore.publish("DocumentDidLoad",e,t)}onViewDidUpdate(e,t){const n=null!==t?t:function(e,t,n){const i=n.top+n.height/2,r=n.left+n.width/2,s=Object(p.maxBy)(e,e=>{const n=t.getPageDimensions(e),s=t.getPageOffset(e,{includePadding:!0}),o=s.left+n.width/2,a=s.top+n.height/2,c=Math.max(Math.abs(r-o)-n.width/2,0),l=Math.max(Math.abs(i-a)-n.height/2,0);return-(c*c+l*l)});return null!=s?s:null}(e,this._viewerCore.getCurrentLayout(),this._viewerCore.getViewport());let i=this._viewerState.viewport.intersectionTolerance;this._viewerState.viewport.intersectionTolerance=0;let r=e.filter(e=>this._viewerState.renderer.isPageVisible(e));this._viewerState.viewport.intersectionTolerance=i,null!==n&&this._viewerCore.setCurrentPages(n,r),null!==t&&this._viewerCore.publish("ViewerDidJump",t),this._handleZoomLevelChange()}_handleZoomLevelChange(){const e=this._viewerState,t=e.options.zoomLevel;e.oldZoomLevel!==t&&e.oldZoomLevel>=0&&(e.oldZoomLevel<t?this._viewerCore.publish("ViewerDidZoomIn",t):this._viewerCore.publish("ViewerDidZoomOut",t),this._viewerCore.publish("ViewerDidZoom",t)),e.oldZoomLevel=t}destroy(){this._overlays.forEach(e=>{this._viewerCore.removePageOverlay(e)},this)}}class y{constructor(e){this._viewerCore=e}onDoubleClick(e,t){const n=this._viewerCore.getPagePositionAtViewportOffset(t),i=this._viewerCore.getCurrentLayout(),r=this._viewerCore.getViewport(),s=i.getPageToViewportCenterOffset(n.anchorPage,r);this._viewerCore.reload({inGrid:!1,goDirectlyTo:n.anchorPage,horizontalOffset:s.x+n.offset.left,verticalOffset:s.y+n.offset.top})}onPinch(){this._viewerCore.reload({inGrid:!1})}onViewWillLoad(){}onViewDidLoad(){}onViewDidUpdate(e,t){if(0===e.length)return;let n=this._viewerCore.viewerState.viewport.intersectionTolerance;this._viewerCore.viewerState.viewport.intersectionTolerance=0;let i=e.filter(e=>this._viewerCore.viewerState.renderer.isPageVisible(e));if(this._viewerCore.viewerState.viewport.intersectionTolerance=n,null!==t)return void this._viewerCore.setCurrentPages(t,i);const r=this._viewerCore.getCurrentLayout(),s=[];e.forEach(e=>{const t=r.getPageInfo(e).group;0!==s.length&&t===s[s.length-1]||s.push(t)});const o=this._viewerCore.getViewport();let a;a=1===s.length||s[0].region.top>=o.top?s[0]:s[1].region.bottom<=o.bottom?s[1]:function(e,t){const n=t.top+t.height/2;return Object(p.maxBy)(e,e=>{const t=e.region.top+e.dimensions.height/2;return-Math.abs(n-t)})}(s,o);const c=this._viewerCore.getSettings().activePageIndex;a.pages.some(e=>e.index===c)||this._viewerCore.setCurrentPages(a.pages[0].index,i)}destroy(){}}class b{constructor(){this._pages={},this._renderedPages=[],this._renderedPageMap={}}addOverlay(e){(this._pages[e.page]||(this._pages[e.page]=[])).push(e),this._renderedPageMap[e.page]&&e.mount()}removeOverlay(e){const t=e.page,n=this._pages[t];if(!n)return;const i=n.indexOf(e);-1!==i&&(this._renderedPageMap[t]&&n[i].unmount(),n.splice(i,1),0===n.length&&delete this._pages[t])}updateOverlays(e){const t=this._renderedPages,n={};e.map(e=>{n[e]=!0,this._renderedPageMap[e]||(this._renderedPageMap[e]=!0,this._invokeOnOverlays(e,e=>{e.mount()}))}),t.map(e=>{n[e]?this._invokeOnOverlays(e,e=>{e.refresh()}):(delete this._renderedPageMap[e],this._invokeOnOverlays(e,e=>{e.unmount()}))}),this._renderedPages=e}_invokeOnOverlays(e,t){const n=this._pages[e];n&&n.map(e=>t(e))}}class w{constructor(e,t){this._rows=e,this._cols=t,this._map=new Array(e).fill(null).map(()=>new Array(t).fill(!1))}isLoaded(e,t){return e>=this._rows||t>=this._cols||this._map[e][t]}set(e,t,n){this._map[e][t]=n}}class _{constructor(e){this._levels=e;const t=this._urlsToTiles={};e.forEach(e=>{e.tiles.forEach(n=>{t[n.url]={zoomLevel:e.zoomLevel,row:n.row,col:n.col}})}),this.clear()}clear(){const e=this._loadedByLevel={};this._levels.forEach(t=>{e[t.zoomLevel]=new w(t.rows,t.cols)})}getTiles(e){const t=[],n=this._levels[0].zoomLevel,i=new w(this._levels[0].rows,this._levels[0].cols);let r;if(null===e)r=0;else{const t=Math.ceil(e);r=function(e,t){const n=e.length;for(let i=0;i<n;i++)if(t(e[i],i))return i;return-1}(this._levels,e=>e.zoomLevel<=t)}this._levels.slice(0,r+1).reverse().concat(this._levels.slice(r+1)).forEach(e=>{const r=this._loadedByLevel[e.zoomLevel];let s=e.tiles.filter(e=>r.isLoaded(e.row,e.col));const o=Math.pow(2,n-e.zoomLevel);s=s.filter(e=>{let t=!1;const n=e.row*o,r=e.col*o;for(let e=0;e<o;e++)for(let s=0;s<o;s++)i.isLoaded(n+e,r+s)||(t=!0,i.set(n+e,r+s,!0));return t}),t.push(s)},this),t.reverse();const s=[];return t.forEach(e=>{s.push.apply(s,e)}),s}updateFromCache(e){this.clear(),this._levels.forEach(t=>{const n=this._loadedByLevel[t.zoomLevel];t.tiles.forEach(t=>{e.has(t.url)&&n.set(t.row,t.col,!0)})},this)}updateWithLoadedUrls(e){e.forEach(e=>{const t=this._urlsToTiles[e];this._loadedByLevel[t.zoomLevel].set(t.row,t.col,!0)},this)}}class E{constructor(e,t){const n=function(e,t){const n=null===t?e.pageLayouts:function(e,t){const n=Math.pow(2,t-e.maxZoomLevel);return e.pageLayouts.map(e=>({dimensions:x(e.dimensions,n),pages:e.pages.map(e=>({index:e.index,groupOffset:{top:Math.floor(e.groupOffset.top*n),left:Math.floor(e.groupOffset.left*n)},dimensions:x(e.dimensions,n)}))}))}(e,t),i=function(e,t){let n,i;const r=e.padding.document;e.verticallyOriented?(n="width",i=r.left+r.right):(n="height",i=r.top+r.bottom);return i+t.reduce((e,t)=>Math.max(t.dimensions[n],e),0)}(e,n);let r=e.verticallyOriented?e.padding.document.top:e.padding.document.left;const s=[],o={top:e.padding.page.top,left:e.padding.page.left};let a,c;n.forEach((t,n)=>{let a,c;e.verticallyOriented?(a=r,c=(i-t.dimensions.width)/2):(a=(i-t.dimensions.height)/2,c=r);const l={top:a,bottom:a+o.top+t.dimensions.height,left:c,right:c+o.left+t.dimensions.width};s.push({index:n,dimensions:t.dimensions,pages:t.pages,region:l,padding:o}),r=e.verticallyOriented?l.bottom:l.right}),e.verticallyOriented?(a=r+o.top,c=i):(a=i,c=r+o.left);return{dimensions:{height:a,width:c},pageGroups:s}}(e,t);this.dimensions=n.dimensions,this.pageGroups=n.pageGroups,this._pageLookup=function(e){const t={};return e.forEach(e=>{e.pages.forEach(n=>{t[n.index]={index:n.index,group:e,dimensions:n.dimensions,groupOffset:n.groupOffset}})}),t}(n.pageGroups)}getPageInfo(e){return this._pageLookup[e]||null}getPageDimensions(e){if(!this._pageLookup||!this._pageLookup[e])return null;const t=S(this._pageLookup[e]);return{height:t.bottom-t.top,width:t.right-t.left}}getPageOffset(e,t){const n=this.getPageRegion(e,t);return n?{top:n.top,left:n.left}:null}getPageRegion(e,t){const n=this._pageLookup[e];if(!n)return null;const i=S(n),r=n.group.padding;return t&&t.includePadding?{top:i.top+r.top,left:i.left+r.left,bottom:i.bottom,right:i.right}:{top:i.top,left:i.left,bottom:i.bottom+r.top,right:i.right}}getPageToViewportCenterOffset(e,t){const n=t.left,i=t.right-t.left,r=this.getPageOffset(e),s=n-r.left+parseInt(i/2,10),o=t.top,a=t.bottom-t.top;return{x:s,y:o-r.top+parseInt(a/2,10)}}}function S(e){const t=e.groupOffset.top+e.group.region.top,n=t+e.dimensions.height,i=e.groupOffset.left+e.group.region.left;return{top:t,bottom:n,left:i,right:i+e.dimensions.width}}function x(e,t){return{height:Math.floor(e.height*t),width:Math.floor(e.width*t)}}const L=n(51)("diva:ImageCache");class A{constructor(e){e=e||{maxKeys:100},this.maxKeys=e.maxKeys||100,this._held={},this._urls={},this._lru=[]}get(e){const t=this._urls[e];return t?t.img:null}has(e){return!!this._urls[e]}put(e,t){let n=this._urls[e];n?(n.img=t,this._promote(n)):(n={img:t,url:e},this._urls[e]=n,this._tryEvict(1),this._lru.unshift(n))}_promote(e){const t=this._lru.indexOf(e);this._lru.splice(t,1),this._lru.unshift(e)}_tryEvict(e){const t=this.maxKeys-e;if(this._lru.length<=t)return;let n=this._lru.length-1;for(;;){const e=this._lru[n];if(!this._held[e.url]&&(L("Evicting image %s",e.url),this._lru.splice(n,1),delete this._urls[e.url],this._lru.length<=t))break;if(0===n){L.enabled&&L("Cache overfull by %s (all entries are being held)",this._lru.length-t);break}n--}}acquire(e){this._held[e]=(this._held[e]||0)+1,this._promote(this._urls[e])}release(e){this._held[e]>1?this._held[e]--:delete this._held[e],this._tryEvict(0)}}class k{constructor(e){this._url=e.url,this._callback=e.load,this._errorCallback=e.error,this.timeoutTime=e.timeoutTime||0,this._aborted=this._complete=!1,this._crossOrigin=e.settings.imageCrossOrigin,this.timeout=setTimeout(()=>{this._image=new Image,this._image.crossOrigin=this._crossOrigin,this._image.onload=this._handleLoad.bind(this),this._image.onerror=this._handleError.bind(this),this._image.src=e.url},this.timeoutTime)}abort(){clearTimeout(this.timeout),this._image&&(this._image.onload=this._image.onerror=null,this._image.src=""),this._aborted=!0}_handleLoad(){this._aborted?console.error("ImageRequestHandler invoked on cancelled request for "+this._url):this._complete?console.error("ImageRequestHandler invoked on completed request for "+this._url):(this._complete=!0,this._callback(this._image))}_handleError(){this._errorCallback(this._image)}}var C={animate:function(e){const t=e.duration,n=e.parameters,i=e.onUpdate,r=e.onEnd,s=I(),o=s+t,a={},c={},l=Object.keys(n);l.forEach(e=>{const t=n[e];a[e]=function(e,t,n){return i=>e+(t-e)*n(i)}(t.from,t.to,t.easing||P)});let u=requestAnimationFrame((function e(){const n=I();(function(e){l.forEach(t=>{c[t]=a[t](e)})})(Math.min((n-s)/t,1)),i(c),n<o?u=requestAnimationFrame(e):d({interrupted:!1})}));return{cancel(){null!==u&&(cancelAnimationFrame(u),d({interrupted:!0}))}};function d(e){u=null,r&&r(e)}},easing:{linear:function(e){return e},cubic:P}};let I;function P(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}I="undefined"!=typeof performance&&performance.now?()=>performance.now():()=>Date.now();class O{constructor(e,t){this._viewport=e.viewport,this._outerElement=e.outerElement,this._documentElement=e.innerElement,this._settings=e.settings,this._hooks=t||{},this._canvas=i("canvas",{class:"diva-viewer-canvas"}),this._ctx=this._canvas.getContext("2d"),this.layout=null,this._sourceResolver=null,this._renderedPages=null,this._config=null,this._zoomLevel=null,this._compositeImages=null,this._renderedTiles=null,this._animation=null,this._cache=new A,this._pendingRequests={}}static getCompatibilityErrors(){return"undefined"!=typeof HTMLCanvasElement?null:["Your browser lacks support for the ",i("pre","canvas")," element. Please upgrade your browser."]}load(e,t,n){if(this._clearAnimation(),this._hooks.onViewWillLoad&&this._hooks.onViewWillLoad(),this._sourceResolver=n,this._config=e,this._compositeImages={},this._setLayoutToZoomLevel(t.zoomLevel),!this.layout.getPageInfo(t.anchorPage))throw new Error("invalid page: "+t.anchorPage);this._canvas.width===this._viewport.width&&this._canvas.height===this._viewport.height||(this._canvas.width=this._viewport.width,this._canvas.height=this._viewport.height),this.goto(t.anchorPage,t.verticalOffset,t.horizontalOffset),this._canvas.parentNode!==this._outerElement&&this._outerElement.insertBefore(this._canvas,this._outerElement.firstChild),this._hooks.onViewDidLoad&&this._hooks.onViewDidLoad()}_setViewportPosition(e){if(e.zoomLevel!==this._zoomLevel){if(null===this._zoomLevel)throw new TypeError("The current view is not zoomable");if(null===e.zoomLevel)throw new TypeError("The current view requires a zoom level");this._setLayoutToZoomLevel(e.zoomLevel)}this._goto(e.anchorPage,e.verticalOffset,e.horizontalOffset)}_setLayoutToZoomLevel(e){this.layout=new E(this._config,e),this._zoomLevel=e,s(this._documentElement,{style:{height:this.layout.dimensions.height+"px",width:this.layout.dimensions.width+"px"}}),this._viewport.setInnerDimensions(this.layout.dimensions)}adjust(){this._clearAnimation(),this._render(),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),null)}_render(){const e=[];this.layout.pageGroups.forEach(t=>{if(!this._viewport.intersectsRegion(t.region))return;const n=t.pages.filter((function(e){return this.isPageVisible(e.index)}),this).map(e=>e.index);e.push.apply(e,n)},this),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._paintOutline(e),e.forEach(e=>{if(!this._compositeImages[e]){const t=this.layout.getPageInfo(e),n=this._sourceResolver.getAllZoomLevelsForPage(t),i=new _(n);i.updateFromCache(this._cache),this._compositeImages[e]=i}},this),this._initiateTileRequests(e);const t=T(this._renderedPages||[],e);t.removed.forEach(e=>{delete this._compositeImages[e]},this),this._renderedPages=e,this._paint(),this._hooks.onPageWillLoad&&t.added.forEach(e=>{this._hooks.onPageWillLoad(e)},this)}_paint(){const e=[];this._renderedPages.forEach(t=>{this._compositeImages[t].getTiles(this._zoomLevel).forEach(n=>{const i=B(n,this._zoomLevel);this._isTileVisible(t,i)&&(e.push(n.url),this._drawTile(t,i,this._cache.get(n.url)))})});const t=this._cache,n=T(this._renderedTiles||[],e);n.added.forEach(e=>{t.acquire(e)}),n.removed.forEach(e=>{t.release(e)}),n.removed&&this._renderedPages.forEach(e=>{this._compositeImages[e].updateFromCache(this._cache)},this),this._renderedTiles=e}_paintOutline(e){e.forEach(e=>{let t=this.layout.getPageInfo(e),n=this._getImageOffset(e),i=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),r=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),s=n.left-this._viewport.left+i,o=n.top-this._viewport.top+r,a=s<0?-s:0,c=o<0?-o:0,l=Math.max(0,s),u=Math.max(0,o),d=t.dimensions.width-a,h=t.dimensions.height-c;this._ctx.strokeStyle="#AAA",this._ctx.strokeRect(l+.5,u+.5,d,h)})}_initiateTileRequests(e){const t={},n=(e,n)=>{const i=this._compositeImages[n];t[e.url]=new k({url:e.url,timeoutTime:250,settings:this._settings,load:t=>{delete this._pendingRequests[e.url],this._cache.put(e.url,t),i===this._compositeImages[n]?(i.updateWithLoadedUrls([e.url]),this._isTileForSourceVisible(n,e)&&this._paint()):this._isTileForSourceVisible(n,e)&&this._paint()},error:()=>{delete this._pendingRequests[e.url]}})};for(let i=0;i<e.length;i++){const r=e[i],s=this._sourceResolver.getBestZoomLevelForPage(this.layout.getPageInfo(r)).tiles;for(let e=0;e<s.length;e++){const i=s[e];!this._cache.has(i.url)&&this._isTileForSourceVisible(r,i)&&(this._pendingRequests[i.url]?(t[i.url]=this._pendingRequests[i.url],delete this._pendingRequests[i.url]):n(i,r))}}for(const e in this._pendingRequests)this._pendingRequests[e].abort();this._pendingRequests=t}_drawTile(e,t,n){let i=this._getTileToDocumentOffset(e,t),r=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),s=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),o=i.left-this._viewport.left+r,a=i.top-this._viewport.top+s,c=o<0?-o:0,l=a<0?-a:0,u=Math.max(0,o),d=Math.max(0,a),h=c/t.scaleRatio,f=l/t.scaleRatio,g=Math.min(t.dimensions.width,n.width*t.scaleRatio)-c,p=Math.min(t.dimensions.height,n.height*t.scaleRatio)-l,m=Math.max(1,Math.round(g)),v=Math.max(1,Math.round(p)),y=m/t.scaleRatio,b=v/t.scaleRatio;this._ctx.drawImage(n,h,f,y,b,u,d,m,v)}_isTileForSourceVisible(e,t){return this._isTileVisible(e,B(t,this._zoomLevel))}_isTileVisible(e,t){const n=this._getTileToDocumentOffset(e,t);return this._viewport.intersectsRegion({top:n.top,bottom:n.top+t.dimensions.height,left:n.left,right:n.left+t.dimensions.width})}_getTileToDocumentOffset(e,t){const n=this._getImageOffset(e);return{top:n.top+t.offset.top,left:n.left+t.offset.left}}_getImageOffset(e){return this.layout.getPageOffset(e,{includePadding:!0})}goto(e,t,n){this._clearAnimation(),this._goto(e,t,n),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),e)}_goto(e,t,n){const i=this.layout.getPageOffset(e),r=i.top+t-Math.round(this._viewport.height/2),s=i.left+n-Math.round(this._viewport.width/2);this._viewport.top=r,this._viewport.left=s,this._render()}transitionViewportPosition(e){this._clearAnimation();const t=e.getPosition,n=this._hooks.onViewDidTransition;this._animation=C.animate({duration:e.duration,parameters:e.parameters,onUpdate:e=>{this._setViewportPosition(t(e)),this._hooks.onZoomLevelWillChange(e.zoomLevel),n&&n()},onEnd:t=>{e.onEnd&&e.onEnd(t),this._hooks.onViewDidUpdate&&!t.interrupted&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),null)}})}_clearAnimation(){this._animation&&(this._animation.cancel(),this._animation=null)}isPageVisible(e){if(!this.layout)return!1;return!!this.layout.getPageInfo(e)&&this._viewport.intersectsRegion(this.layout.getPageRegion(e))}getRenderedPages(){return this._renderedPages.slice()}destroy(){this._clearAnimation(),Object.keys(this._pendingRequests).forEach(e=>{const t=this._pendingRequests[e];delete this._pendingRequests[e],t.abort()},this),this._canvas.parentNode.removeChild(this._canvas)}}function B(e,t){let n;return n=null===t?1:Math.pow(2,t-e.zoomLevel),{sourceZoomLevel:e.zoomLevel,scaleRatio:n,row:e.row,col:e.col,dimensions:{width:e.dimensions.width*n,height:e.dimensions.height*n},offset:{left:e.offset.left*n,top:e.offset.top*n},url:e.url}}function T(e,t){if(e===t)return{added:[],removed:[]};const n=e.filter(e=>-1===t.indexOf(e));return{added:t.filter(t=>-1===e.indexOf(t)),removed:n}}function N(e,t){const n=t.getMaxPageDimensions(e);return{width:Math.floor(n.width),height:Math.floor(n.height)}}function M(e){return function(e){const t=e.manifest,n=[];let i=null,r=[];const s=()=>{for(let e=0,t=r.length;e<t;e++)n.push([r[e]]);r=[]};t.pages.forEach((o,a)=>{const c={index:a,dimensions:N(a,t),paged:!t.paged||o.paged};(e.showNonPagedPages||c.paged)&&(c.paged?0===a||o.facingPages?(n.push([c]),s()):null===i?i=c:(n.push([i,c]),i=null,s()):r.push(c))}),null!==i&&(n.push([i]),s());return n}(e).map(t=>function(e,t){const n=e.verticallyOriented;if(2===t.length)return function(e,t,n){const i=e.dimensions,r=t.dimensions,s=Math.max(i.height,r.height);let o,a,c;if(n){const e=Math.max(i.width,r.width);o=2*e,a=e-i.width,c=e}else o=i.width+r.width,a=0,c=i.width;return{dimensions:{height:s,width:o},pages:[{index:e.index,dimensions:i,groupOffset:{top:0,left:a}},{index:t.index,dimensions:r,groupOffset:{top:0,left:c}}]}}(t[0],t[1],n);const i=t[0],r=i.dimensions;let s;s=i.paged?0===i.index&&n?r.width:0:n?r.width/2:0;const o=n&&!e.manifest.pages[i.index].facingPages;return{dimensions:{height:r.height,width:o?2*r.width:r.width},pages:[{index:i.index,groupOffset:{top:0,left:s},dimensions:r}]}}(e,t))}function q(e){const t=e.viewport.width,n=e.manifest,i=e.pagesPerRow,r=e.fixedHeightGrid,s=e.fixedPadding,o=e.showNonPagedPages,a=(t-s*(i+1))/i,c=a,l=r?s+n.minRatio*a:s+n.maxRatio*a,u=[];let d=[];const h={height:l,width:t};return n.pages.forEach((e,t)=>{if(!o&&n.paged&&!e.paged)return;const a=(e=>{const t=e.d[e.d.length-1],n=t.h/t.w;let i,o;return r?(i=(l-s)/n,o=l-s):(i=c,o=i*n),{width:Math.round(i),height:Math.round(o)}})(e);let f=Math.floor(d.length*(s+c)+s);r&&(f+=(c-a.width)/2),d.push({index:t,dimensions:a,groupOffset:{top:0,left:f}}),d.length===i&&(u.push({dimensions:h,pages:d}),d=[])}),d.length>0&&u.push({dimensions:h,pages:d}),u}function F(e){if(e.inGrid)return q(D(e,["manifest","viewport","pagesPerRow","fixedHeightGrid","fixedPadding","showNonPagedPages"]));{const t=D(e,["manifest","verticallyOriented","showNonPagedPages"]);return e.inBookLayout?M(t):function(e){const t=e.manifest,n=[];return t.pages.forEach((i,r)=>{if(!e.showNonPagedPages&&t.paged&&!i.paged)return;const s=N(r,t);n.push({dimensions:s,pages:[{index:r,groupOffset:{top:0,left:0},dimensions:s}]})}),n}(t)}}function D(e,t){const n={};return t.forEach((function(t){n[t]=e[t]})),n}function j(e){const t={};return e.forEach(e=>{!function(e,t){Object.keys(t).forEach(n=>{Object.defineProperty(e,n,{get:()=>t[n],set:()=>{throw new TypeError("Cannot set settings."+n)}})})}(t,e)}),t}class R{constructor(e){this.whitelistedKeys=e.whitelistedKeys||[],this.additionalProperties=e.additionalProperties||[],this.validations=e.validations}isValid(e,t,n){let i=null;if(this.validations.some((t,n)=>t.key===e&&(i=n,!0)),null===i)return!0;const r={};r[e]=t;const s=V(n,r,this);return!this._runValidation(i,t,s)}validate(e){this._validateOptions({},e)}getValidatedOptions(e,t){const n=Object.assign({},t);return this._validateOptions(e,n),n}_validateOptions(e,t){const n=V(e,t,this);this._applyValidations(t,n)}_applyValidations(e,t){this.validations.forEach((n,i)=>{if(!e.hasOwnProperty(n.key))return;const r=e[n.key],s=this._runValidation(i,r,t);s&&(s.warningSuppressed||function(e,t,n){console.warn("Invalid value for "+e+": "+t+". Using "+n+" instead.")}(n.key,r,s.value),e[n.key]=s.value)},this)}_runValidation(e,t,n){const i=this.validations[e];n.index=e;let r=!1;const s={suppressWarning:()=>{r=!0}},o=i.validate(t,n.proxy,s);return void 0===o||o===t?null:{value:o,warningSuppressed:r}}}function V(e,t,n){const i={proxy:{},index:null},r=z.bind(null,e,t),s={};return n.whitelistedKeys.forEach(e=>{s[e]={get:r.bind(null,e)}}),n.additionalProperties.forEach(e=>{s[e.key]={get:e.get}}),n.validations.forEach((e,t)=>{s[e.key]={get:()=>{if(t<i.index)return r(e.key);const s=n.validations[i.index].key;throw new TypeError("Cannot access setting "+e.key+" while validating "+s)}}}),Object.defineProperties(i.proxy,s),i}function z(e,t,n){return n in t?t[n]:e[n]}class H{constructor(e,t){t=t||{},this.intersectionTolerance=t.intersectionTolerance||0,this.outer=e,this._top=this._left=this._width=this._height=this._innerDimensions=null,this.invalidate()}intersectsRegion(e){return this.hasHorizontalOverlap(e)&&this.hasVerticalOverlap(e)}hasVerticalOverlap(e){const t=this.top-this.intersectionTolerance,n=this.bottom+this.intersectionTolerance;return Z(e.top,t,n)||Z(e.bottom,t,n)||e.top<=t&&e.bottom>=n}hasHorizontalOverlap(e){const t=this.left-this.intersectionTolerance,n=this.right+this.intersectionTolerance;return Z(e.left,t,n)||Z(e.right,t,n)||e.left<=t&&e.right>=n}invalidate(){this._width=this.outer.clientWidth,this._height=this.outer.clientHeight,this._top=this.outer.scrollTop,this._left=this.outer.scrollLeft}setInnerDimensions(e){this._innerDimensions=e,e&&(this._top=G(this._top,0,e.height-this._height),this._left=G(this._left,0,e.width-this._width))}}function U(e,t){const n="_"+e,i="scroll"+e.charAt(0).toUpperCase()+e.slice(1);return{get:function(){return this[n]},set:function(e){let r;if(this._innerDimensions){r=G(e,0,this._innerDimensions[t]-this[t])}else r=W(e,0);this[n]=this.outer[i]=r}}}function $(e){return{get:function(){return this["_"+e]}}}function Z(e,t,n){return e>=t&&e<=n}function G(e,t,n){return W(function(e,t){return Math.min(e,t)}(e,n),t)}function W(e,t){return Math.max(e,t)}Object.defineProperties(H.prototype,{top:U("top","height"),left:U("left","width"),width:$("width"),height:$("height"),bottom:{get:function(){return this._top+this._height}},right:{get:function(){return this._left+this._width}}});const K=n(51)("diva:ViewerCore");function Y(){return Y.counter++}Y.counter=1;const X=[{key:"goDirectlyTo",validate:(e,t)=>{if(e<0||e>=t.manifest.pages.length)return 0}},{key:"minPagesPerRow",validate:e=>Math.max(2,e)},{key:"maxPagesPerRow",validate:(e,t)=>Math.max(e,t.minPagesPerRow)},{key:"pagesPerRow",validate:(e,t)=>{if(e<t.minPagesPerRow||e>t.maxPagesPerRow)return t.maxPagesPerRow}},{key:"maxZoomLevel",validate:(e,t,n)=>{if(n.suppressWarning(),e<0||e>t.manifest.maxZoom)return t.manifest.maxZoom}},{key:"minZoomLevel",validate:(e,t,n)=>e>t.manifest.maxZoom?(n.suppressWarning(),0):e<0||e>t.maxZoomLevel?0:void 0},{key:"zoomLevel",validate:(e,t,n)=>e>t.manifest.maxZoom?(n.suppressWarning(),0):e<t.minZoomLevel||e>t.maxZoomLevel?t.minZoomLevel:void 0}];class J{constructor(e,t,n){this.parentObject=e,this.publicInstance=n,this.viewerState={currentPageIndices:[0],activePageIndex:0,horizontalOffset:0,horizontalPadding:0,ID:null,initialKeyScroll:!1,initialSpaceScroll:!1,innerElement:null,innerObject:{},isActiveDiva:!0,isScrollable:!0,isZooming:!1,loaded:!1,manifest:null,mobileWebkit:!1,numPages:0,oldZoomLevel:-1,options:t,outerElement:null,outerObject:{},pageOverlays:new b,pageTools:[],parentObject:this.parentObject,pendingManifestRequest:null,pluginInstances:[],renderer:null,resizeTimer:-1,scrollbarWidth:0,selector:"",throbberTimeoutID:-1,toolbar:null,verticalOffset:0,verticalPadding:0,viewHandler:null,viewport:null,viewportElement:null,viewportObject:null,zoomDuration:400},this.settings=j([t,this.viewerState]);const r=Y();this.viewerState.ID="diva-"+r+"-",this.viewerState.selector=this.settings.ID,Object.defineProperties(this.settings,{panelHeight:{get:()=>this.viewerState.viewport.height},panelWidth:{get:()=>this.viewerState.viewport.width}}),this.optionsValidator=new R({additionalProperties:[{key:"manifest",get:()=>this.viewerState.manifest}],validations:X}),this.viewerState.scrollbarWidth=function(){let e=document.createElement("p");e.style.width="100%",e.style.height="200px";let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);let n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),document.body.removeChild(t),n-i}(),this.viewerState.mobileWebkit=void 0!==window.orientation,null===t.hashParamSuffix&&(t.hashParamSuffix=1===r?"":r+"");const s=i("div",this.elemAttrs("inner",{class:"diva-inner"})),o=i("div",this.elemAttrs("viewport"),s),a=i("div",this.elemAttrs("outer"),o,i("div",this.elemAttrs("throbber"),[i("div",{class:"cube cube1"}),i("div",{class:"cube cube2"}),i("div",{class:"cube cube3"}),i("div",{class:"cube cube4"}),i("div",{class:"cube cube5"}),i("div",{class:"cube cube6"}),i("div",{class:"cube cube7"}),i("div",{class:"cube cube8"}),i("div",{class:"cube cube9"})]));this.viewerState.innerElement=s,this.viewerState.viewportElement=o,this.viewerState.outerElement=a,this.viewerState.innerObject=s,this.viewerState.viewportObject=o,this.viewerState.outerObject=a,this.settings.parentObject.append(a),this.viewerState.viewport=new H(this.viewerState.viewportElement,{intersectionTolerance:this.settings.viewportMargin}),this.boundScrollFunction=this.scrollFunction.bind(this),this.boundEscapeListener=this.escapeListener.bind(this),this.initPlugins(),this.handleEvents(),this.showThrobber()}isValidOption(e,t){return this.optionsValidator.isValid(e,t,this.viewerState.options)}elemAttrs(e,t){const n={id:this.settings.ID+e,class:"diva-"+e};return t?Object.assign(n,t):n}getPageData(e,t){return this.settings.manifest.pages[e].d[this.settings.zoomLevel][t]}clearViewer(){this.viewerState.viewport.top=0,clearTimeout(this.viewerState.resizeTimer)}hasChangedOption(e,t){return t in e&&e[t]!==this.settings[t]}escapeListener(e){27===e.keyCode&&this.publicInstance.leaveFullscreenMode()}reloadViewer(e){const t=[];if(e=this.optionsValidator.getValidatedOptions(this.settings,e),this.hasChangedOption(e,"zoomLevel")&&(this.viewerState.oldZoomLevel=this.settings.zoomLevel,this.viewerState.options.zoomLevel=e.zoomLevel,t.push(["ZoomLevelDidChange",e.zoomLevel])),this.hasChangedOption(e,"pagesPerRow")&&(this.viewerState.options.pagesPerRow=e.pagesPerRow,t.push(["GridRowNumberDidChange",e.pagesPerRow])),this.hasChangedOption(e,"verticallyOriented")&&(this.viewerState.options.verticallyOriented=e.verticallyOriented),this.hasChangedOption(e,"showNonPagedPages")&&(this.viewerState.options.showNonPagedPages=e.showNonPagedPages),"goDirectlyTo"in e?(this.viewerState.options.goDirectlyTo=e.goDirectlyTo,"verticalOffset"in e&&(this.viewerState.verticalOffset=e.verticalOffset),"horizontalOffset"in e&&(this.viewerState.horizontalOffset=e.horizontalOffset)):this.viewerState.options.goDirectlyTo=this.settings.activePageIndex,(this.hasChangedOption(e,"inGrid")||this.hasChangedOption(e,"inBookLayout"))&&("inGrid"in e&&(this.viewerState.options.inGrid=e.inGrid),"inBookLayout"in e&&(this.viewerState.options.inBookLayout=e.inBookLayout),t.push(["ViewDidSwitch",this.settings.inGrid])),this.hasChangedOption(e,"inFullscreen")&&(this.viewerState.options.inFullscreen=e.inFullscreen,this.prepareModeChange(e),t.push(["ModeDidSwitch",this.settings.inFullscreen])),this.clearViewer(),this.updateViewHandlerAndRendering(),this.viewerState.renderer){const e={pageLayouts:F(this.settings),padding:this.getPadding(),maxZoomLevel:this.settings.inGrid?null:this.viewerState.manifest.maxZoom,verticallyOriented:this.settings.verticallyOriented||this.settings.inGrid},t={zoomLevel:this.settings.inGrid?null:this.settings.zoomLevel,anchorPage:this.settings.goDirectlyTo,verticalOffset:this.viewerState.verticalOffset,horizontalOffset:this.viewerState.horizontalOffset},n=this.getCurrentSourceProvider();if(K.enabled){const t=Object.keys(e).filter((function(e){return"pageLayouts"!==e&&"padding"!==e})).map((function(t){const n=e[t];return t+": "+JSON.stringify(n)})).join(", ");K("reload with %s",t)}this.viewerState.renderer.load(e,t,n)}return t.forEach(e=>{this.publish.apply(this,e)}),!0}prepareModeChange(e){const t=e.inFullscreen?"add":"remove";this.viewerState.outerObject.classList[t]("diva-fullscreen"),document.body.classList[t]("diva-hide-scrollbar"),this.settings.parentObject.classList[t]("diva-full-width");const n=this.settings.panelHeight,i=this.settings.panelWidth;if(this.viewerState.viewport.invalidate(),!this.viewerState.loaded&&!this.settings.inGrid&&!("verticalOffset"in e)){const e=this.settings.panelHeight,t=this.settings.panelWidth;this.viewerState.verticalOffset+=(n-e)/2,this.viewerState.horizontalOffset+=(i-t)/2}e.inFullscreen?document.addEventListener("keyup",this.boundEscapeListener):document.removeEventListener("keyup",this.boundEscapeListener)}updateViewHandlerAndRendering(){const e=this.settings.inGrid?y:v;!this.viewerState.viewHandler||this.viewerState.viewHandler instanceof e||(this.viewerState.viewHandler.destroy(),this.viewerState.viewHandler=null),this.viewerState.viewHandler||(this.viewerState.viewHandler=new e(this)),this.viewerState.renderer||this.initializeRenderer()}initializeRenderer(){const e=O.getCompatibilityErrors();if(e)this.showError(e);else{const e={viewport:this.viewerState.viewport,outerElement:this.viewerState.outerElement,innerElement:this.viewerState.innerElement,settings:this.settings},t={onViewWillLoad:()=>{this.viewerState.viewHandler.onViewWillLoad()},onViewDidLoad:()=>{this.updatePageOverlays(),this.viewerState.viewHandler.onViewDidLoad()},onViewDidUpdate:(e,t)=>{this.updatePageOverlays(),this.viewerState.viewHandler.onViewDidUpdate(e,t)},onViewDidTransition:()=>{this.updatePageOverlays()},onPageWillLoad:e=>{this.publish("PageWillLoad",e)},onZoomLevelWillChange:e=>{this.publish("ZoomLevelWillChange",e)}};this.viewerState.renderer=new O(e,t)}}getCurrentSourceProvider(){if(this.settings.inGrid){const e={getAllZoomLevelsForPage:t=>[e.getBestZoomLevelForPage(t)],getBestZoomLevelForPage:e=>({zoomLevel:1,rows:1,cols:1,tiles:[{url:this.settings.manifest.getPageImageURL(e.index,{width:e.dimensions.width}),zoomLevel:1,row:0,col:0,dimensions:e.dimensions,offset:{top:0,left:0}}]})};return e}const e={width:this.settings.tileWidth,height:this.settings.tileHeight};return{getBestZoomLevelForPage:t=>this.settings.manifest.getPageImageTiles(t.index,Math.ceil(this.settings.zoomLevel),e),getAllZoomLevelsForPage:t=>{const n=[],i=this.viewerState.manifest.maxZoom;for(let r=0;r<=i;r++)n.push(this.settings.manifest.getPageImageTiles(t.index,r,e));return n.reverse(),n}}}getPadding(){let e,t,n,i;return this.settings.inGrid?(n=this.settings.fixedPadding,e=t=i=0):(e=this.settings.verticallyOriented?this.viewerState.verticalPadding:0,t=this.settings.verticallyOriented?0:this.viewerState.horizontalPadding,n=this.settings.verticallyOriented?0:this.viewerState.verticalPadding,i=this.settings.verticallyOriented?this.viewerState.horizontalPadding:0),{document:{top:n,bottom:n,left:i,right:i},page:{top:e,bottom:0,left:t,right:0}}}updatePageOverlays(){this.viewerState.pageOverlays.updateOverlays(this.viewerState.renderer.getRenderedPages())}handleZoom(e,t){if(!this.isValidOption("zoomLevel",e))return!1;if(this.viewerState.viewportObject.removeEventListener("scroll",this.boundScrollFunction),!t){const e=this.viewerState.viewport,n=this.viewerState.renderer.layout.getPageRegion(this.settings.activePageIndex);t={anchorPage:this.settings.activePageIndex,offset:{left:e.width/2-(n.left-e.left),top:e.height/2-(n.top-e.top)}}}const n=this.viewerState.renderer.layout.getPageRegion(t.anchorPage),i=n.left+t.offset.left-(this.settings.viewport.left+this.settings.viewport.width/2),r=n.top+t.offset.top-(this.settings.viewport.top+this.settings.viewport.height/2),s=(e,n)=>{const s=Math.pow(2,e-n),o=t.offset.left*s-i,a=t.offset.top*s-r;return{zoomLevel:e,anchorPage:t.anchorPage,verticalOffset:a,horizontalOffset:o}};this.viewerState.options.zoomLevel=e;let o=this.viewerState.oldZoomLevel;this.viewerState.oldZoomLevel=this.settings.zoomLevel;const a=s(e,o);this.viewerState.options.goDirectlyTo=a.anchorPage,this.viewerState.verticalOffset=a.verticalOffset,this.viewerState.horizontalOffset=a.horizontalOffset,this.viewerState.renderer.transitionViewportPosition({duration:this.settings.zoomDuration,parameters:{zoomLevel:{from:o,to:e}},getPosition:e=>s(e.zoomLevel,o),onEnd:t=>{this.viewerState.viewportObject.addEventListener("scroll",this.boundScrollFunction),t.interrupted&&(this.viewerState.oldZoomLevel=e)}});let c=document.getElementById(this.settings.selector+"zoom-in-button"),l=document.getElementById(this.settings.selector+"zoom-out-button");return c.disabled=!0,l.disabled=!0,setTimeout(()=>{c.disabled=!1,l.disabled=!1},this.settings.zoomDuration),this.publish("ZoomLevelDidChange",e),!0}getYOffset(e,t){let n=void 0===e?this.settings.activePageIndex:e;return"center"===t||"centre"===t?parseInt(this.getPageData(n,"h")/2,10):"bottom"===t?parseInt(this.getPageData(n,"h")-this.settings.panelHeight/2,10):parseInt(this.settings.panelHeight/2,10)}getXOffset(e,t){let n=void 0===e?this.settings.activePageIndex:e;return"left"===t?parseInt(this.settings.panelWidth/2,10):"right"===t?parseInt(this.getPageData(n,"w")-this.settings.panelWidth/2,10):parseInt(this.getPageData(n,"w")/2,10)}updatePanelSize(){return this.viewerState.viewport.invalidate(),this.viewerState.renderer&&(this.updateOffsets(),this.viewerState.renderer.goto(this.settings.activePageIndex,this.viewerState.verticalOffset,this.viewerState.horizontalOffset)),!0}updateOffsets(){const e=this.viewerState.renderer.layout.getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);e&&(this.viewerState.horizontalOffset=e.x,this.viewerState.verticalOffset=e.y)}bindMouseEvents(){this.viewerState.viewportObject.classList.add("dragscroll"),d.onDoubleClick(this.viewerState.viewportObject,(e,t)=>{K("Double click at %s, %s",t.left,t.top),this.viewerState.viewHandler.onDoubleClick(e,t)})}onResize(){this.updatePanelSize(),clearTimeout(this.viewerState.resizeTimer),this.viewerState.resizeTimer=setTimeout(()=>{const e=this.viewerState.renderer.layout.getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);e?this.reloadViewer({goDirectlyTo:this.settings.activePageIndex,verticalOffset:e.y,horizontalOffset:e.x}):this.reloadViewer({goDirectlyTo:this.settings.activePageIndex})},200)}bindTouchEvents(){this.settings.blockMobileMove&&document.body.addEventListener("touchmove",e=>(e.originalEvent.preventDefault(),!1)),d.onPinch(this.viewerState.viewportObject,(function(e,t,n,i){K("Pinch %s at %s, %s",i-n,t.left,t.top),this.viewerState.viewHandler.onPinch(e,t,n,i)})),d.onDoubleTap(this.viewerState.viewportObject,(function(e,t){K("Double tap at %s, %s",t.left,t.top),this.viewerState.viewHandler.onDoubleClick(e,t)}))}scrollFunction(){const e=this.viewerState.viewport.top,t=this.viewerState.viewport.left;let n;this.viewerState.viewport.invalidate();const i=this.viewerState.viewport.top,r=this.viewerState.viewport.left;n=this.settings.verticallyOriented||this.settings.inGrid?i-e:r-t,this.viewerState.renderer.adjust();const s=this.settings.verticallyOriented||this.settings.inGrid?i:r;this.publish("ViewerDidScroll",s),n>0?this.publish("ViewerDidScrollDown",s):n<0&&this.publish("ViewerDidScrollUp",s),this.updateOffsets()}handleEvents(){this.viewerState.innerObject.addEventListener("mousedown",()=>{this.viewerState.innerObject.classList.add("diva-grabbing")}),this.viewerState.innerObject.addEventListener("mouseup",()=>{this.viewerState.innerObject.classList.remove("diva-grabbing")}),this.bindMouseEvents(),this.viewerState.viewportObject.addEventListener("scroll",this.boundScrollFunction);document.addEventListener("keydown.diva",e=>{if(!this.viewerState.isActiveDiva)return!0;if(this.settings.enableSpaceScroll&&!e.shiftKey&&32===e.keyCode||this.settings.enableKeyScroll&&34===e.keyCode)return this.viewerState.viewport.top+=this.settings.panelHeight,!1;if(this.settings.enableSpaceScroll||32!==e.keyCode||e.preventDefault(),this.settings.enableKeyScroll){if(e.shiftKey||e.ctrlKey||e.metaKey)return!0;switch(e.keyCode){case 33:return this.viewerState.viewport.top-=this.settings.panelHeight,!1;case 38:return this.viewerState.viewport.top-=this.settings.arrowScrollAmount,!1;case 40:return this.viewerState.viewport.top+=this.settings.arrowScrollAmount,!1;case 37:return this.viewerState.viewport.left-=this.settings.arrowScrollAmount,!1;case 39:return this.viewerState.viewport.left+=this.settings.arrowScrollAmount,!1;case 36:return this.viewerState.viewport.top=0,!1;case 35:return this.settings.verticallyOriented?this.viewerState.viewport.top=1/0:this.viewerState.viewport.left=1/0,!1;default:return!0}}return!0}),u.Events.subscribe("ViewerDidTerminate",(function(){document.removeEventListener("keydown.diva")}),this.settings.ID),window.addEventListener("resize",this.onResize.bind(this),!1),u.Events.subscribe("ViewerDidTerminate",(function(){window.removeEventListener("resize",this.onResize,!1)}),this.settings.ID),"onorientationchange"in window&&(window.addEventListener("orientationchange",this.onResize,!1),u.Events.subscribe("ViewerDidTerminate",(function(){window.removeEventListener("orientationchange",this.onResize,!1)}),this.settings.ID)),u.Events.subscribe("PanelSizeDidChange",this.updatePanelSize,this.settings.ID),u.Events.subscribe("ViewerDidTerminate",()=>{this.viewerState.renderer&&this.viewerState.renderer.destroy(),clearTimeout(this.viewerState.resizeTimer)},this.settings.ID)}initPlugins(){if(!this.settings.hasOwnProperty("plugins"))return null;this.viewerState.pluginInstances=this.settings.plugins.map(e=>{const t=new e(this);return t.isPageTool&&this.viewerState.pageTools.push(t),t})}showThrobber(){this.hideThrobber(),this.viewerState.throbberTimeoutID=setTimeout(()=>{let e=document.getElementById(this.settings.selector+"throbber");e&&(e.style.display="block")},this.settings.throbberTimeout)}hideThrobber(){clearTimeout(this.viewerState.throbberTimeoutID);let e=document.getElementById(this.settings.selector+"throbber");e&&(e.style.display="none")}showError(e){const t=i("div",this.elemAttrs("error"),[i("button",this.elemAttrs("error-close",{"aria-label":"Close dialog"})),i("p",i("strong","Error")),i("div",e)]);this.viewerState.outerObject.appendChild(t),document.getElementById(this.settings.selector+"error-close").addEventListener("click",()=>{t.parentNode.removeChild(t)})}setManifest(e,t){if(this.viewerState.manifest=e,this.hideThrobber(),this.viewerState.numPages=this.settings.manifest.pages.length,this.optionsValidator.validate(this.viewerState.options),this.publish("NumberOfPagesDidChange",this.settings.numPages),this.settings.adaptivePadding>0){const e=Math.floor((this.settings.minZoomLevel+this.settings.maxZoomLevel)/2);this.viewerState.horizontalPadding=parseInt(this.settings.manifest.getAverageWidth(e)*this.settings.adaptivePadding,10),this.viewerState.verticalPadding=parseInt(this.settings.manifest.getAverageHeight(e)*this.settings.adaptivePadding,10)}else this.viewerState.horizontalPadding=this.settings.fixedPadding,this.viewerState.verticalPadding=this.settings.fixedPadding;let n,r;this.viewerState.pageTools.length&&(this.viewerState.verticalPadding=Math.max(40,this.viewerState.verticalPadding)),this.settings.manifest.paged&&(this.viewerState.options.inBookLayout=!0),this.publish("ObjectDidLoad",this.settings),this.updatePanelSize();let s=!1,o=!1;if(null==t.goDirectlyTo?(t.goDirectlyTo=this.settings.goDirectlyTo,n=r=!0):(n=null==t.horizontalOffset||isNaN(t.horizontalOffset),r=null==t.verticalOffset||isNaN(t.verticalOffset)),n&&(0===t.goDirectlyTo&&this.settings.inBookLayout&&this.settings.verticallyOriented?t.horizontalOffset=this.viewerState.horizontalPadding:(o=!0,t.horizontalOffset=this.getXOffset(t.goDirectlyTo,"center"))),r&&(s=!0,t.verticalOffset=this.getYOffset(t.goDirectlyTo,"top")),this.reloadViewer(t),this.updatePanelSize(),this.settings.enableAutoTitle){let e=document.getElementById(this.settings.selector+"title");e?e.innerHTML=this.settings.manifest.itemTitle:this.settings.parentObject.insertBefore(i("div",this.elemAttrs("title"),[this.settings.manifest.itemTitle]),this.settings.parentObject.firstChild)}this.settings.verticallyOriented?this.viewerState.innerElement.style.minWidth=this.settings.panelWidth+"px":this.viewerState.innerElement.style.minHeight=this.settings.panelHeight+"px",(s||o)&&(s&&(this.viewerState.verticalOffset=this.getYOffset(this.settings.activePageIndex,"top")),o&&(this.viewerState.horizontalOffset=this.getXOffset(this.settings.activePageIndex,"center")),this.viewerState.renderer.goto(this.settings.activePageIndex,this.viewerState.verticalOffset,this.viewerState.horizontalOffset)),this.viewerState.loaded=!0,this.publish("ViewerDidLoad",this.settings)}publish(e){const t=Array.prototype.slice.call(arguments,1);u.Events.publish(e,t,this.publicInstance)}getSettings(){return this.settings}getInternalState(){return this.viewerState}getPublicInstance(){return this.publicInstance}getPageTools(){return this.viewerState.pageTools}getCurrentLayout(){return this.viewerState.renderer?this.viewerState.renderer.layout:null}getViewport(){const e=this.viewerState.viewport;return{top:e.top,left:e.left,bottom:e.bottom,right:e.right,width:e.width,height:e.height}}addPageOverlay(e){this.viewerState.pageOverlays.addOverlay(e)}removePageOverlay(e){this.viewerState.pageOverlays.removeOverlay(e)}getPageRegion(e,t){const n=this.viewerState.renderer.layout,i=n.getPageRegion(e,t);if(t&&t.incorporateViewport){const e=this.settings.verticallyOriented?"width":"height";if(this.viewerState.viewport[e]>n.dimensions[e]){const t=(this.viewerState.viewport[e]-n.dimensions[e])/2;return this.settings.verticallyOriented?{top:i.top,bottom:i.bottom,left:i.left+t,right:i.right+t}:{top:i.top+t,bottom:i.bottom+t,left:i.left,right:i.right}}}return i}getPagePositionAtViewportOffset(e){const t=e.left+this.viewerState.viewport.left,n=e.top+this.viewerState.viewport.top,i=this.viewerState.renderer.getRenderedPages(),r=i.length;for(let e=0;e<r;e++){const r=i[e],s=this.viewerState.renderer.layout.getPageRegion(r);if(s.left<=t&&s.right>=t&&s.top<=n&&s.bottom>=n)return{anchorPage:r,offset:{left:t-s.left,top:n-s.top}}}const s=this.viewerState.renderer.layout.getPageRegion(this.settings.activePageIndex);return{anchorPage:this.settings.activePageIndex,offset:{left:t-s.left,top:n-s.top}}}setCurrentPages(e,t){!function(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}(this.viewerState.currentPageIndices,t)?(this.viewerState.currentPageIndices=t,this.viewerState.activePageIndex!==e&&(this.viewerState.activePageIndex=e,this.publish("ActivePageDidChange",e)),this.publish("VisiblePageDidChange",t),this.viewerState.manifest.pages[e].otherImages.length>0&&this.publish("VisiblePageHasAlternateViews",e)):this.viewerState.activePageIndex!==e&&(this.viewerState.activePageIndex=e,this.publish("ActivePageDidChange",e))}getPageName(e){return this.viewerState.manifest.pages[e].f}reload(e){this.reloadViewer(e)}zoom(e,t){return this.handleZoom(e,t)}enableScrollable(){this.viewerState.isScrollable||(this.bindMouseEvents(),this.enableDragScrollable(),this.viewerState.options.enableKeyScroll=this.viewerState.initialKeyScroll,this.viewerState.options.enableSpaceScroll=this.viewerState.initialSpaceScroll,this.viewerState.viewportElement.style.overflow="auto",this.viewerState.isScrollable=!0)}enableDragScrollable(){this.viewerState.viewportObject.hasAttribute("nochilddrag")&&this.viewerState.viewportObject.removeAttribute("nochilddrag")}disableScrollable(){this.viewerState.isScrollable&&(this.disableDragScrollable(),this.viewerState.outerObject.dblclick=null,this.viewerState.outerObject.contextmenu=null,this.viewerState.viewportElement.style.overflow="hidden",this.viewerState.initialKeyScroll=this.settings.enableKeyScroll,this.viewerState.initialSpaceScroll=this.settings.enableSpaceScroll,this.viewerState.options.enableKeyScroll=!1,this.viewerState.options.enableSpaceScroll=!1,this.viewerState.isScrollable=!1)}disableDragScrollable(){this.viewerState.viewportObject.hasAttribute("nochilddrag")||this.viewerState.viewportObject.setAttribute("nochilddrag","")}clear(){this.clearViewer()}setPendingManifestRequest(e){this.viewerState.pendingManifestRequest=e}destroy(){this.publish("ViewerWillTerminate",this.settings),this.settings.pendingManifestRequest&&this.settings.pendingManifestRequest.abort(),document.body.removeClass("diva-hide-scrollbar"),this.settings.parentObject.parent().empty().removeData("diva"),this.settings.parentObject.parent().removeAttr("style").removeAttr("class"),this.publish("ViewerDidTerminate",this.settings),u.Events.unsubscribeAll(this.settings.ID)}}function Q(e){let t,n=e.label,i="object"==typeof n?n[Object.keys(n)[0]][0]:n,r=e.value;return t=Array.isArray(r)?r.map(e=>e[Object.keys(e)[0]]):"object"==typeof r?r[Object.keys(r)[0]]:r,Array.isArray(t)&&(t=t.join(", ")),{label:i,value:t}}const ee=(e,t)=>{const n=Math.max(e,t);return n<128?0:Math.ceil(Math.log((n+1)/257)/Math.log(2))},te=(e,t)=>e/Math.pow(2,t),ne=(e,t)=>e.map(e=>{const n=e.width,i=e.height,r=re(e),s="/"!==r.url.slice(-1)?r.url+"/":r.url,o=new Array(t+1);for(let e=0;e<t+1;e++)o[e]={h:Math.floor(te(i,t-e)),w:Math.floor(te(n,t-e))};return{f:r.url,url:s,il:e.label||"",d:o}});function ie(e){let t=e["@context"];if(!t)return console.error("Invalid IIIF Manifest; No @context found."),null;const n=(e=>"http://iiif.io/api/presentation/2/context.json"===e||Array.isArray(e)&&e.includes("http://iiif.io/api/presentation/2/context.json")?2:Array.isArray(e)&&e.includes("http://iiif.io/api/presentation/3/context.json")?3:2)(t),i=e.sequences?e.sequences[0]:null,r=i?i.canvases:e.items,s=r.length,o=new Array(r.length);let a,c,l,u,d,h,f,g,p,m,v,y,b,w,_,E,S,x=[],L=100,A=0,k=100;for(let e=0;e<s;e++){const t=r[e],n=t.width,i=t.height,s=ee(n,i),o=i/n;A=Math.max(o,A),k=Math.min(o,k),L=Math.min(L,s)}const C=new Array(L+1).fill(0),I=new Array(L+1).fill(0),P=new Array(L+1).fill(0),O=new Array(L+1).fill(0);for(let e=0;e<s;e++){if(a=r[e],y=a["@id"]||a.id,b=a.label,c=a.images?a.images[0].resource:a.items[0].items[0].body,x=[],"oa:Choice"===c["@type"]||"Choice"===c.type?(l=c.default||c.items[0],u=c.item||c.items.slice(1),x=ne(u,L)):l=c,p=a.width||l.width,m=a.height||l.height,p<=0||m<=0){console.warn("Invalid width or height for canvas "+b+". Skipping");continue}v=ee(p,m),w=l.label||null,f=re(l),h="/"!==f.url.slice(-1)?f.url+"/":f.url,d=l.service["@context"]||l.service.type,g="http://iiif.io/api/image/2/context.json"===d||"ImageService2"===d?2:"http://library.stanford.edu/iiif/image-api/1.1/context.json"===d?1.1:1,_=new Array(L+1);for(let e=0;e<L+1;e++)E=Math.floor(te(p,L-e)),S=Math.floor(te(m,L-e)),_[e]={h:S,w:E},C[e]+=E,I[e]+=S,P[e]=Math.max(E,P[e]),O[e]=Math.max(S,O[e]);let t="non-paged"!==a.viewingHint||!!a.behavior&&"non-paged"!==a.behavior[0],n="facing-pages"===a.viewingHint||!!a.behavior&&"facing-pages"===a.behavior[0];o[e]={d:_,m:v,l:b,il:w,f:f.url,url:h,api:g,paged:t,facingPages:n,canvas:y,otherImages:x,xoffset:f.x||null,yoffset:f.y||null}}const B=new Array(L+1),T=new Array(L+1);for(let e=0;e<L+1;e++)B[e]=C[e]/s,T[e]=I[e]/s;const N={a_wid:B,a_hei:T,max_w:P,max_h:O,max_ratio:A,min_ratio:k,t_hei:I,t_wid:C};return{version:n,item_title:Q(e).label,metadata:e.metadata||null,dims:N,max_zoom:L,pgs:o,paged:"paged"===e.viewingHint||!!e.behaviour&&"paged"===e.behaviour[0]||!!i&&"paged"===i.viewingHint}}function re(e){let t=e["@id"]||e.id;const n=/#xywh=([0-9]+,[0-9]+,[0-9]+,[0-9]+)/;let i="",r=!0;if(/\/([0-9]+,[0-9]+,[0-9]+,[0-9]+)\//.test(t)){const e=t.split("/");i=e[e.length-4]}else if(n.test(t)){i=n.exec(t)[1]}else e.service&&(e.service["@id"]||e.service.id)&&(t=e.service["@id"]||e.service.id,r=!1);r&&(t=t.split("/").slice(0,-4).join("/"));const s={url:t};if(i.length){const e=i.split(",");s.x=parseInt(e[0],10),s.y=parseInt(e[1],10),s.w=parseInt(e[2],10),s.h=parseInt(e[3],10)}return s}class se{getPageImageURL(e,t,n){let i;i=!n||null==n.width&&null==n.height?"full":(null==n.width?"":n.width)+","+(null==n.height?"":n.height);const r=e.pages[t],s=r.api>1.1?"default":"native";return encodeURI(r.url+"full/"+i+"/0/"+s+".jpg")}getTileImageURL(e,t,n){const i=e.pages[t];let r,s;r=n.row===n.rowCount-1?i.d[n.zoomLevel].h-(n.rowCount-1)*n.tileDimensions.height:n.tileDimensions.height,s=n.col===n.colCount-1?i.d[n.zoomLevel].w-(n.colCount-1)*n.tileDimensions.width:n.tileDimensions.width;const o=Math.pow(2,e.maxZoom-n.zoomLevel);let a=n.col*n.tileDimensions.width*o,c=n.row*n.tileDimensions.height*o;i.hasOwnProperty("xoffset")&&(a+=i.xoffset,c+=i.yoffset);const l=[a,c,s*o,r*o].join(","),u=i.api>1.1?"default":"native";return encodeURI(i.url+l+"/"+s+","+r+"/0/"+u+".jpg")}}class oe{constructor(e,t){this.pages=e.pgs,this.maxZoom=e.max_zoom,this.maxRatio=e.dims.max_ratio,this.minRatio=e.dims.min_ratio,this.itemTitle=e.item_title,this.metadata=e.metadata,this.paged=!!e.paged,this._maxWidths=e.dims.max_w,this._maxHeights=e.dims.max_h,this._averageWidths=e.dims.a_wid,this._averageHeights=e.dims.a_hei,this._totalHeights=e.dims.t_hei,this._totalWidths=e.dims.t_wid,this._urlAdapter=t}static fromIIIF(e){const t=ie(e);return new oe(t,new se)}isPageValid(e,t){return!(!t&&this.paged&&!this.pages[e].paged)&&(e>=0&&e<this.pages.length)}getMaxPageDimensions(e){const t=this.pages[e].d[this.maxZoom];return{height:t.h,width:t.w}}getPageDimensionsAtZoomLevel(e,t){const n=this.pages[e].d[this.maxZoom],i=(r=this.maxZoom,s=t,1/Math.pow(2,r-s));var r,s;return{height:n.h*i,width:n.w*i}}getPageImageURL(e,t){return this._urlAdapter.getPageImageURL(this,e,t)}getPageImageTiles(e,t,n){const i=this.pages[e];if(!isFinite(t)||t%1!=0)throw new TypeError("Zoom level must be an integer: "+t);const r=Math.ceil(i.d[t].h/n.height),s=Math.ceil(i.d[t].w/n.width),o=[];let a,c,l;for(a=0;a<r;a++)for(c=0;c<s;c++)l=this._urlAdapter.getTileImageURL(this,e,{row:a,col:c,rowCount:r,colCount:s,zoomLevel:t,tileDimensions:n}),o.push({row:a,col:c,zoomLevel:t,dimensions:{height:n.height,width:n.width},offset:{top:a*n.height,left:c*n.width},url:l});return{zoomLevel:t,rows:r,cols:s,tiles:o}}}function ae(e){return function(t){return this[e][t]}}oe.prototype.getMaxWidth=ae("_maxWidths"),oe.prototype.getMaxHeight=ae("_maxHeights"),oe.prototype.getAverageWidth=ae("_averageWidths"),oe.prototype.getAverageHeight=ae("_averageHeights"),oe.prototype.getTotalWidth=ae("_totalWidths"),oe.prototype.getTotalHeight=ae("_totalHeights");class ce{constructor(e){this.viewer=e,this.settings=e.settings}_elemAttrs(e,t){const n={id:this.settings.ID+e,class:"diva-"+e};return t?Object.assign(n,t):n}_subscribe(e,t){u.Events.subscribe(e,t,this.settings.ID)}createButton(e,t,n,r){const s=i("button",{type:"button",id:this.settings.ID+e,class:"diva-"+e+" diva-button",title:t,"aria-label":t});return r&&s.appendChild(r),n&&s.addEventListener("click",n),s}createLabel(e,t,n,r,s){return i("div",{id:this.settings.ID+t,class:e+" diva-label"},[n,i("span",{id:this.settings.ID+r},s)])}createZoomButtons(){let e=this._createZoomOutIcon(),t=this._createZoomInIcon(),n=[this.createButton("zoom-out-button","Zoom Out",()=>{this.viewer.setZoomLevel(this.settings.zoomLevel-1)},e),this.createButton("zoom-in-button","Zoom In",()=>{this.viewer.setZoomLevel(this.settings.zoomLevel+1)},t),this.createLabel("diva-zoom-label","zoom-label","Zoom level: ","zoom-level",this.settings.zoomLevel+1)],r=function(){document.getElementById(this.settings.ID+"zoom-level").textContent=this.settings.zoomLevel+1};return this._subscribe("ZoomLevelDidChange",r),this._subscribe("ViewerDidLoad",r),i("div",{id:this.settings.ID+"zoom-controls",style:"display: none"},n)}createGridControls(){let e=this._createGridMoreIcon(),t=this._createGridFewerIcon(),n=[this.createButton("grid-out-button","Fewer",()=>{this.viewer.setGridPagesPerRow(this.settings.pagesPerRow-1)},t),this.createButton("grid-in-button","More",()=>{this.viewer.setGridPagesPerRow(this.settings.pagesPerRow+1)},e),this.createLabel("diva-grid-label","grid-label","Pages per row: ","pages-per-row",this.settings.pagesPerRow)];return this._subscribe("GridRowNumberDidChange",(function(){document.getElementById(this.settings.ID+"pages-per-row").textContent=this.settings.pagesPerRow})),i("div",{id:this.settings.ID+"grid-controls",style:"display:none"},n)}createPageLabel(){const e=i("span",{id:this.settings.ID+"current-page"}),t=()=>{let t=this.viewer.getCurrentPageIndices(),n=t[0],i=t[t.length-1],r=this.settings.manifest.pages[n].l,s=this.settings.manifest.pages[i].l;n!==i?this.settings.enableIndexAsLabel?e.textContent=n+" - "+i:e.textContent=r+" - "+s:this.settings.enableIndexAsLabel?e.textContent=n:e.textContent=r};return this._subscribe("VisiblePageDidChange",t),this._subscribe("ViewerDidLoad",t),this._subscribe("ViewDidSwitch",t),i("span",{class:"diva-page-label diva-label"},e)}createGotoPageForm(){const e=i("input",{id:this.settings.ID+"goto-page-input",class:"diva-input diva-goto-page-input",autocomplete:"off",type:"text","aria-label":"Page Input"}),t=i("input",{id:this.settings.ID+"goto-page-submit",class:"diva-button diva-button-text",type:"submit",value:"Go"}),n=i("div",{id:this.settings.ID+"input-suggestions",class:"diva-input-suggestions"}),r=i("form",{id:this.settings.ID+"goto-page",class:"diva-goto-form"},e,t,n);var s,o,a;return r.addEventListener("submit",t=>{t.preventDefault();const i=e.value;if(this.settings.onGotoSubmit&&"function"==typeof this.settings.onGotoSubmit){const e=this.settings.onGotoSubmit(i);this.viewer.gotoPageByIndex(e)||window.alert("No page could be found with that label or page number")}else this.viewer.gotoPageByLabel(i)||window.alert("No page could be found with that label or page number");return n.style.display="none",!1}),["input","focus"].forEach(t=>{e.addEventListener(t,()=>{n.innerHTML="";const t=e.value;let r=0;if(this.settings.enableGotoSuggestions&&t){const e=this.settings.manifest.pages;for(let s=0,o=e.length;s<o&&r<10;s++)if(e[s].l.toLowerCase().indexOf(t.toLowerCase())>-1){const t=i("div",{class:"diva-input-suggestion"},e[s].l);n.appendChild(t),r++}r>0&&(n.style.display="block")}else n.style.display="none"})}),e.addEventListener("keydown",t=>{let n;if(13===t.keyCode){const t=document.getElementsByClassName("active")[0];void 0!==t&&(e.value=t.innerText)}if(38===t.keyCode){n=document.getElementsByClassName("active")[0];const e=n?n.previousSibling:void 0;if(void 0!==e)n.classList.remove("active"),null!==e&&e.classList.add("active");else{let e=document.getElementsByClassName("diva-input-suggestion").length-1;document.getElementsByClassName("diva-input-suggestion")[e].classList.add("active")}}else if(40===t.keyCode){n=document.getElementsByClassName("active")[0];const e=n?n.nextSibling:void 0;void 0!==e?(n.classList.remove("active"),null!==e&&e.classList.add("active")):document.getElementsByClassName("diva-input-suggestion")[0].classList.add("active")}}),s="mousedown",o=".diva-input-suggestion",a=function(){e.value=this.textContent,n.style.display="none";let t=new Event("submit",{cancelable:!0});r.dispatchEvent(t)},n.addEventListener(s,(function(e){for(var t=e.target;t&&t!==this;)t.matches(o)&&a.call(t,e),t=t.parentNode})),e.addEventListener("blur",()=>{n.style.display="none"}),r}createViewMenu(){const e=i("div",this._elemAttrs("view-options")),t=this._createGridViewIcon(),n=this._createBookViewIcon(),r=this._createPageViewIcon(),s=this.createButton("view-icon","Change view",()=>{e.style.display="none"===e.style.display?"block":"none"}),o=t=>{this.viewer.changeView(t),e.style.display="none"},a=()=>{this.settings.inGrid?(s.appendChild(t),s.className="diva-grid-icon diva-view-icon diva-button"):this.settings.inBookLayout?(s.appendChild(n),s.className="diva-book-icon diva-view-icon diva-button"):(s.appendChild(r),s.className="diva-document-icon diva-view-icon diva-button");const i=document.createDocumentFragment();for((this.settings.inGrid||this.settings.inBookLayout)&&i.appendChild(this.createButton("document-icon","Document View",o.bind(null,"document"),r)),!this.settings.inGrid&&this.settings.inBookLayout||i.appendChild(this.createButton("book-icon","Book View",o.bind(null,"book"),n)),this.settings.inGrid||i.appendChild(this.createButton("grid-icon","Grid View",o.bind(null,"grid"),t));e.firstChild;)e.removeChild(e.firstChild);e.appendChild(i)};return document.addEventListener("mouseup",t=>{e!==t.target&&(e.style.display="none")}),this._subscribe("ViewDidSwitch",a),this._subscribe("ObjectDidLoad",a),i("div",this._elemAttrs("view-menu"),s,e)}createFullscreenButton(){let e=this._createFullscreenIcon();return this.createButton("fullscreen-icon","Toggle fullscreen mode",()=>{this.viewer.toggleFullscreenMode()},e)}toggleZoomGridControls(){this.settings.inGrid?(document.getElementById(this.settings.ID+"zoom-controls").style.display="none",document.getElementById(this.settings.ID+"grid-controls").style.display="block"):(document.getElementById(this.settings.ID+"zoom-controls").style.display="block",document.getElementById(this.settings.ID+"grid-controls").style.display="none")}render(){this._subscribe("ViewDidSwitch",this.toggleZoomGridControls),this._subscribe("ObjectDidLoad",this.toggleZoomGridControls);let e=[this.createZoomButtons(),this.createGridControls()],t=[this.createPageLabel(),this.createViewMenu()];this.settings.enableFullscreen&&t.push(this.createFullscreenButton()),this.settings.enableGotoPage&&t.splice(1,0,this.createGotoPageForm());let n=this.viewer.viewerState.pluginInstances;for(let i=0,s=n.length;i<s;i++){let s=n[i];s.toolbarSide&&(s.toolbarIcon=s.createIcon(),s.toolbarIcon&&("right"===s.toolbarSide?t.splice(2,0,s.toolbarIcon):"left"===s.toolbarSide&&e.splice(2,0,s.toolbarIcon),s.toolbarIcon.addEventListener("click",r.bind(this,s))))}function r(e){e.handleClick(this.viewer)}const s=i("div",this._elemAttrs("tools"),i("div",this._elemAttrs("tools-left"),e),i("div",this._elemAttrs("tools-right"),t));this.settings.toolbarParentObject.insertBefore(s,this.settings.toolbarParentObject.firstChild)}_createToolbarIcon(e){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"viewBox","0 0 25 25"),t.setAttributeNS(null,"x","0px"),t.setAttributeNS(null,"y","0px"),t.setAttributeNS(null,"style","enable-background:new 0 0 48 48;");let n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttributeNS(null,"transform","matrix(1, 0, 0, 1, -12, -12)"),e.forEach(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttributeNS(null,"d",e),n.appendChild(t)}),t.appendChild(n),t}_createZoomOutIcon(){return this._createToolbarIcon(["M19.5,23c-0.275,0-0.5-0.225-0.5-0.5v-1c0-0.275,0.225-0.5,0.5-0.5h7c0.275,0,0.5,0.225,0.5,0.5v1c0,0.275-0.225,0.5-0.5,0.5H19.5z","M37.219,34.257l-2.213,2.212c-0.202,0.202-0.534,0.202-0.736,0l-6.098-6.099c-1.537,0.993-3.362,1.577-5.323,1.577c-5.431,0-9.849-4.418-9.849-9.849c0-5.431,4.418-9.849,9.849-9.849c5.431,0,9.849,4.418,9.849,9.849c0,1.961-0.584,3.786-1.576,5.323l6.098,6.098C37.422,33.722,37.422,34.054,37.219,34.257z M29.568,22.099c0-3.706-3.014-6.72-6.72-6.72c-3.706,0-6.72,3.014-6.72,6.72c0,3.706,3.014,6.72,6.72,6.72C26.555,28.818,29.568,25.805,29.568,22.099z"])}_createZoomInIcon(){return this._createToolbarIcon(["M37.469,34.257l-2.213,2.212c-0.202,0.202-0.534,0.202-0.736,0l-6.098-6.099c-1.537,0.993-3.362,1.577-5.323,1.577c-5.431,0-9.849-4.418-9.849-9.849c0-5.431,4.418-9.849,9.849-9.849c5.431,0,9.849,4.418,9.849,9.849c0,1.961-0.584,3.786-1.576,5.323l6.098,6.098C37.672,33.722,37.672,34.054,37.469,34.257z M29.818,22.099c0-3.706-3.014-6.72-6.72-6.72c-3.706,0-6.72,3.014-6.72,6.72c0,3.706,3.014,6.72,6.72,6.72C26.805,28.818,29.818,25.805,29.818,22.099z M26.5,21H24v-2.5c0-0.275-0.225-0.5-0.5-0.5h-1c-0.275,0-0.5,0.225-0.5,0.5V21h-2.5c-0.275,0-0.5,0.225-0.5,0.5v1c0,0.275,0.225,0.5,0.5,0.5H22v2.5c0,0.275,0.225,0.5,0.5,0.5h1c0.275,0,0.5-0.225,0.5-0.5V23h2.5c0.275,0,0.5-0.225,0.5-0.5v-1C27,21.225,26.775,21,26.5,21z"])}_createGridMoreIcon(){return this._createToolbarIcon(["M29.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z"])}_createGridFewerIcon(){return this._createToolbarIcon(["M25.5,35c-0.275,0-0.5-0.225-0.5-0.5v-9c0-0.275,0.225-0.5,0.5-0.5h9c0.275,0,0.5,0.225,0.5,0.5v9c0,0.275-0.225,0.5-0.5,0.5H25.5z M22.5,35c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H22.5z M34.5,23c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H34.5z M22.5,23c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H22.5z"])}_createGridViewIcon(){return this._createToolbarIcon(["M29.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z"])}_createBookViewIcon(){return this._createToolbarIcon(["M35,16.8v-1.323c0,0-2.292-1.328-5.74-1.328c-3.448,0-5.26,1.25-5.26,1.25s-1.813-1.25-5.26-1.25c-3.448,0-5.74,1.328-5.74,1.328V16.8l-1,0.531v0.021v15.687c0,0,4.531-1.578,6.999-1.578c2.468,0,5.001,0.885,5.001,0.885s2.532-0.885,5-0.885c0.306,0,0.643,0.024,1,0.066v4.325l1.531-2.016L33,35.852v-3.72c2,0.43,3,0.906,3,0.906V17.352v-0.021L35,16.8z M23,29.03c-1-0.292-2.584-0.679-3.981-0.679c-2.246,0-3.019,0.404-4.019,0.699V16.634c0,0,1.125-0.699,4.019-0.699c1.694,0,2.981,0.417,3.981,1.126V29.03z M33,29.051c-1-0.295-1.773-0.699-4.02-0.699c-1.396,0-2.981,0.387-3.98,0.679V17.06c1-0.709,2.286-1.126,3.98-1.126c2.895,0,4.02,0.699,4.02,0.699V29.051z"])}_createPageViewIcon(){return this._createToolbarIcon(["M29.425,29h4.47L29,33.934v-4.47C29,29.19,29.151,29,29.425,29z M34,14.563V28h-5.569C28.157,28,28,28.196,28,28.47V34H14.497C14.223,34,14,33.71,14,33.437V14.563C14,14.29,14.223,14,14.497,14h18.9C33.672,14,34,14.29,34,14.563z M25.497,26.497C25.497,26.223,25.275,26,25,26h-7c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,27.777,17.725,28,18,28h7c0.275,0,0.497-0.223,0.497-0.497V26.497z M30.497,22.497C30.497,22.223,30.275,22,30,22H18c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,23.777,17.725,24,18,24h12c0.275,0,0.497-0.223,0.497-0.497V22.497z M30.497,18.497C30.497,18.223,30.275,18,30,18H18c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,19.777,17.725,20,18,20h12c0.275,0,0.497-0.223,0.497-0.497V18.497z"])}_createFullscreenIcon(){return this._createToolbarIcon(["M35,12H13c-0.55,0-1,0.45-1,1v22c0,0.55,0.45,1,1,1h22c0.55,0,1-0.45,1-1V13C36,12.45,35.55,12,35,12z M34,34H14V14h20V34z","M17,21.75v-4.5c0-0.138,0.112-0.25,0.25-0.25h4.5c0.138,0,0.17,0.08,0.073,0.177l-1.616,1.616l1.823,1.823c0.097,0.097,0.097,0.256,0,0.354l-1.061,1.06c-0.097,0.097-0.256,0.097-0.354,0l-1.823-1.823l-1.616,1.616C17.08,21.92,17,21.888,17,21.75z M20.97,25.97c-0.097-0.097-0.256-0.097-0.354,0l-1.823,1.823l-1.616-1.616C17.08,26.08,17,26.112,17,26.25v4.5c0,0.138,0.112,0.25,0.25,0.25h4.5c0.138,0,0.17-0.08,0.073-0.177l-1.616-1.616l1.823-1.823c0.097-0.097,0.097-0.256,0-0.354L20.97,25.97z M30.75,17h-4.5c-0.138,0-0.17,0.08-0.073,0.177l1.616,1.616l-1.823,1.823c-0.097,0.097-0.097,0.256,0,0.354l1.061,1.06c0.097,0.097,0.256,0.097,0.354,0l1.823-1.823l1.616,1.616C30.92,21.92,31,21.888,31,21.75v-4.5C31,17.112,30.888,17,30.75,17z M30.823,26.177l-1.616,1.616l-1.823-1.823c-0.097-0.097-0.256-0.097-0.354,0l-1.061,1.06c-0.097,0.097-0.097,0.256,0,0.354l1.823,1.823l-1.616,1.616C26.08,30.92,26.112,31,26.25,31h4.5c0.138,0,0.25-0.112,0.25-0.25v-4.5C31,26.112,30.92,26.08,30.823,26.177z M26,22.5c0-0.275-0.225-0.5-0.5-0.5h-3c-0.275,0-0.5,0.225-0.5,0.5v3c0,0.275,0.225,0.5,0.5,0.5h3c0.275,0,0.5-0.225,0.5-0.5V22.5z"])}}var le={get:ue,update:function(e,t){const n=ue(e),i=window.location.hash;if(n!==t)if("string"==typeof n){const r=i.indexOf("&"+e+"=")>0?i.indexOf("&"+e+"="):i.indexOf("#"+e+"="),s=r+e.length+2+n.length,o=0===r?"#":"&";window.location.replace(i.substring(0,r)+o+e+"="+t+i.substring(s))}else 0===i.length?window.location.replace("#"+e+"="+t):window.location.replace(i+"&"+e+"="+t)}};function ue(e){const t=window.location.hash;if(""!==t){let n=t.indexOf("&"+e+"=")>0?t.indexOf("&"+e+"="):t.indexOf("#"+e+"=");if(n>=0){n+=e.length+2;const i=t.indexOf("&",n);return i>n?decodeURIComponent(t.substring(n,i)):i<0?decodeURIComponent(t.substring(n)):""}return!1}return!1}class de{constructor(e,t){if(!(e instanceof HTMLElement)&&(this.element=document.getElementById(e),null===this.element))throw new a;if(!t.objectData)throw new l("You must supply either a URL or a literal object to the `objectData` key.");this.options=Object.assign({adaptivePadding:.05,arrowScrollAmount:40,blockMobileMove:!1,objectData:"",enableAutoTitle:!0,enableFilename:!0,enableFullscreen:!0,enableGotoPage:!0,enableGotoSuggestions:!0,enableGridIcon:!0,enableGridControls:"buttons",enableImageTitles:!0,enableIndexAsLabel:!1,enableKeyScroll:!0,enableLinkIcon:!0,enableNonPagedVisibilityIcon:!0,enableSpaceScroll:!1,enableToolbar:!0,enableZoomControls:"buttons",fillParentHeight:!0,fixedPadding:10,fixedHeightGrid:!0,goDirectlyTo:0,hashParamSuffix:null,imageCrossOrigin:"anonymous",inFullscreen:!1,inBookLayout:!1,inGrid:!1,maxPagesPerRow:8,maxZoomLevel:-1,minPagesPerRow:2,minZoomLevel:0,onGotoSubmit:null,pageAliases:{},pageAliasFunction:function(){return!1},pageLoadTimeout:200,pagesPerRow:5,requestHeaders:{Accept:"application/json"},showNonPagedPages:!1,throbberTimeout:100,tileHeight:256,tileWidth:256,toolbarParentObject:null,verticallyOriented:!0,viewportMargin:200,zoomLevel:2},t);const n=i("div",{class:"diva-wrapper"+(this.options.fillParentHeight?" diva-wrapper-flexbox":"")});this.element.appendChild(n),this.options.toolbarParentObject=this.options.toolbarParentObject||n;const r=new J(n,this.options,this);this.viewerState=r.getInternalState(),this.settings=r.getSettings(),this.toolbar=this.settings.enableToolbar?new ce(this):null,n.id=this.settings.ID+"wrapper",this.divaState={viewerCore:r,toolbar:this.toolbar};let s=u.Events.subscribe("ObjectDidLoad",()=>{null!==this.toolbar&&this.toolbar.render(),u.Events.unsubscribe(s)});this.hashState=this._getHashParamState(),this._loadOrFetchObjectData()}_loadOrFetchObjectData(){if("object"==typeof this.settings.objectData)setTimeout(()=>{this._loadObjectData(this.settings.objectData,this.hashState)},0);else{const e=fetch(this.settings.objectData,{headers:this.settings.requestHeaders}).then(e=>{if(!e.ok){u.Events.publish("ManifestFetchError",[e],this),this._ajaxError(e);let t=new Error(e.statusText);throw t.response=e,t}return e.json()}).then(e=>{this._loadObjectData(e,this.hashState)});this.divaState.viewerCore.setPendingManifestRequest(e)}}_showError(e){this.divaState.viewerCore.showError(e)}_ajaxError(e){const t=["Invalid objectData setting. Error code: "+e.status+" "+e.statusText];if(0===this.settings.objectData.lastIndexOf("http",0)){const e=this.settings.objectData.replace(/https?:\/\//i,"").split(/[/?#]/)[0];window.location.hostname!==e&&t.push(i("p","Attempted to access cross-origin data without CORS."),i("p","You may need to update your server configuration to support CORS. For help, see the ",i("a",{href:"https://github.com/DDMAL/diva.js/wiki/Installation#a-note-about-cross-site-requests",target:"_blank"},"cross-site request documentation.")))}this._showError(t)}_loadObjectData(e,t){let n;if(!e.hasOwnProperty("@context")&&(-1===e["@context"].indexOf("iiif")||-1===e["@context"].indexOf("shared-canvas")))throw new c("This does not appear to be a IIIF Manifest.");u.Events.publish("ManifestDidLoad",[e],this),n=oe.fromIIIF(e);const i=t?this._getLoadOptionsForState(t,n):{};this.divaState.viewerCore.setManifest(n,i)}_getHashParamState(){const e={};return["f","v","z","n","i","p","y","x"].forEach(t=>{const n=le.get(t+this.settings.hashParamSuffix);!1!==n&&(e[t]=n)}),"true"===e.f?e.f=!0:"false"===e.f&&(e.f=!1),["z","n","p","x","y"].forEach(t=>{t in e&&(e[t]=parseInt(e[t],10))}),e}_getLoadOptionsForState(e,t){t=t||this.settings.manifest;const n="v"in e?this._getViewState(e.v):{};"f"in e&&(n.inFullscreen=e.f),"z"in e&&(n.zoomLevel=e.z),"n"in e&&(n.pagesPerRow=e.n);let i=this._getPageIndexForManifest(t,e.i);if(i>=0&&i<t.pages.length||(i=e.p-1,i>=0&&i<t.pages.length||(i=null)),null!==i){const t=parseInt(e.x,10),r=parseInt(e.y,10);n.goDirectlyTo=i,n.horizontalOffset=t,n.verticalOffset=r}return n}_getViewState(e){switch(e){case"d":return{inGrid:!1,inBookLayout:!1};case"b":return{inGrid:!1,inBookLayout:!0};case"g":return{inGrid:!0,inBookLayout:!1};default:return{}}}_getPageIndexForManifest(e,t){let n;const i=e.pages.length;for(n=0;n<i;n++)if(e.pages[n].f===t)return n;return-1}_getState(){let e;e=this.settings.inGrid?"g":this.settings.inBookLayout?"b":"d";const t=this.divaState.viewerCore.getCurrentLayout().getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);return{f:this.settings.inFullscreen,v:e,z:this.settings.zoomLevel,n:this.settings.pagesPerRow,i:!!this.settings.enableFilename&&this.settings.manifest.pages[this.settings.activePageIndex].f,p:!this.settings.enableFilename&&this.settings.activePageIndex+1,y:!!t&&t.y,x:!!t&&t.x}}_getURLHash(){const e=this._getState(),t=[];let n;for(n in e)!1!==e[n]&&t.push(n+this.settings.hashParamSuffix+"="+encodeURIComponent(e[n]));return t.join("&")}_getPageIndex(e){return this._getPageIndexForManifest(this.settings.manifest,e)}_checkLoaded(){return!!this.viewerState.loaded||(console.warn("The viewer is not completely initialized. This is likely because it is still downloading data. To fix this, only call this function if the isReady() method returns true."),!1)}_toggleFullscreen(){let e;this._reloadViewer({inFullscreen:!this.settings.inFullscreen});let t=!1,n=document.getElementById(this.settings.selector+"tools");function i(){n.style.opacity=1,clearTimeout(e),!t&&this.settings.inFullscreen&&(e=setTimeout((function(){n.style.opacity=0}),2e3))}this.settings.inFullscreen?(n.classList.add("diva-fullscreen-tools"),document.addEventListener("mousemove",i.bind(this)),document.getElementsByClassName("diva-viewport")[0].addEventListener("scroll",i.bind(this)),n.addEventListener("mouseenter",(function(){t=!0})),n.addEventListener("mouseleave",(function(){t=!1}))):n.classList.remove("diva-fullscreen-tools")}_togglePageLayoutOrientation(){const e=!this.settings.verticallyOriented;return this._reloadViewer({inGrid:!1,verticallyOriented:e,goDirectlyTo:this.settings.activePageIndex,verticalOffset:this.divaState.viewerCore.getYOffset(),horizontalOffset:this.divaState.viewerCore.getXOffset()}),e}_changeView(e){switch(e){case"document":return this._reloadViewer({inGrid:!1,inBookLayout:!1});case"book":return this._reloadViewer({inGrid:!1,inBookLayout:!0});case"grid":return this._reloadViewer({inGrid:!0});default:return!1}}_gotoPageByIndex(e,t,n){let i=parseInt(e,10);if(this._isPageIndexValid(i)){const e=this.divaState.viewerCore.getXOffset(i,t),r=this.divaState.viewerCore.getYOffset(i,n);return this.viewerState.renderer.goto(i,r,e),!0}return!1}_isPageIndexValid(e){return this.settings.manifest.isPageValid(e,this.settings.showNonPagedPages)}_getPageIndexForPageXYValues(e,t){const n=this.viewerState.outerElement.getBoundingClientRect(),i=n.top,r=n.left,s=n.bottom,o=n.right;if(e<r||e>o)return-1;if(t<i||t>s)return-1;const a=document.getElementsByClassName("diva-page");let c=a.length;for(;c--;){const n=a[c],i=n.getBoundingClientRect();if(!(e<i.left||e>i.right)&&!(t<i.top||t>i.bottom))return n.getAttribute("data-index")}return-1}_reloadViewer(e){return this.divaState.viewerCore.reload(e)}_getCurrentURL(){return location.protocol+"//"+location.host+location.pathname+location.search+"#"+this._getURLHash()}activate(){this.viewerState.isActiveDiva=!0}changeObject(e){this.viewerState.loaded=!1,this.divaState.viewerCore.clear(),this.viewerState.renderer&&this.viewerState.renderer.destroy(),this.viewerState.options.objectData=e,this._loadOrFetchObjectData()}changeView(e){this._changeView(e)}deactivate(){this.viewerState.isActiveDiva=!1}destroy(){this.divaState.viewerCore.destroy()}disableScrollable(){this.divaState.viewerCore.disableScrollable()}enableScrollable(){this.divaState.viewerCore.enableScrollable()}disableDragScrollable(){this.divaState.viewerCore.disableDragScrollable()}enableDragScrollable(){this.divaState.viewerCore.enableDragScrollable()}enterFullscreenMode(){return!this.settings.inFullscreen&&(this._toggleFullscreen(),!0)}enterGridView(){return!this.settings.inGrid&&(this._changeView("grid"),!0)}getAllPageURIs(){return this.settings.manifest.pages.map(e=>e.f)}getCurrentCanvas(){return this.settings.manifest.pages[this.settings.activePageIndex].canvas}getCurrentPageDimensionsAtCurrentZoomLevel(){return this.getPageDimensionsAtCurrentZoomLevel(this.settings.activePageIndex)}getCurrentPageFilename(){return console.warn("This method will be deprecated in the next version of Diva. Please use getCurrentPageURI instead."),this.settings.manifest.pages[this.settings.activePageIndex].f}getCurrentPageIndices(){return this.settings.currentPageIndices}getActivePageIndex(){return this.settings.activePageIndex}getCurrentPageOffset(){return this.getPageOffset(this.settings.activePageIndex)}getCurrentPageURI(){return this.settings.manifest.pages[this.settings.activePageIndex].f}getCurrentURL(){return this._getCurrentURL()}getFilenames(){return console.warn("This will be removed in the next version of Diva. Use getAllPageURIs instead."),this.settings.manifest.pages.map(e=>e.f)}getGridPagesPerRow(){return this.settings.pagesPerRow}getInstanceId(){return this.settings.ID}getInstanceSelector(){return this.divaState.viewerCore.selector}getItemTitle(){return this.settings.manifest.itemTitle}getMaxZoomLevel(){return this.settings.maxZoomLevel}getMaxZoomLevelForPage(e){return!!this._checkLoaded()&&this.settings.manifest.pages[e].m}getMinZoomLevel(){return this.settings.minZoomLevel}getNumberOfPages(){return!!this._checkLoaded()&&this.settings.numPages}getOtherImages(e){return this.settings.manifest.pages[e].otherImages}getPageDimensions(e){return this._checkLoaded()?this.divaState.viewerCore.getCurrentLayout().getPageDimensions(e):null}getPageDimensionsAtCurrentZoomLevel(e){let t=parseInt(e,10);if(!this._isPageIndexValid(t))throw new Error("Invalid Page Index");return this.divaState.viewerCore.getCurrentLayout().getPageDimensions(t)}getPageDimensionsAtZoomLevel(e,t){if(!this._checkLoaded())return!1;t>this.settings.maxZoomLevel&&(t=this.settings.maxZoomLevel);const n=this.settings.manifest.pages[parseInt(e,10)].d[parseInt(t,10)];return{width:n.w,height:n.h}}getPageImageURL(e,t){return this.settings.manifest.getPageImageURL(e,t)}getPageIndexForPageXYValues(e,t){return this._getPageIndexForPageXYValues(e,t)}getPageOffset(e,t){const n=this.divaState.viewerCore.getPageRegion(e,t);return{top:n.top,left:n.left}}getSettings(){return this.settings}getState(){return this._getState()}getZoomLevel(){return this.settings.zoomLevel}gotoPageByIndex(e,t,n){return this._gotoPageByIndex(e,t,n)}gotoPageByLabel(e,t,n){const i=this.settings.manifest.pages;let r=e.toLowerCase();for(let e=0,s=i.length;e<s;e++)if(i[e].l.toLowerCase().indexOf(r)>-1)return this._gotoPageByIndex(e,t,n);const s=parseInt(e,10)-1;return this._gotoPageByIndex(s,t,n)}gotoPageByName(e,t,n){console.warn("This method will be removed in the next version of Diva.js. Use gotoPageByURI instead.");const i=this._getPageIndex(e);return this._gotoPageByIndex(i,t,n)}gotoPageByURI(e,t,n){const i=this._getPageIndex(e);return this._gotoPageByIndex(i,t,n)}hasOtherImages(e){return!0===this.settings.manifest.pages[e].otherImages}hideNonPagedPages(){this._reloadViewer({showNonPagedPages:!1})}isInFullscreen(){return this.settings.inFullscreen}isPageIndexValid(e){return this._isPageIndexValid(e)}isPageInViewport(e){return this.viewerState.renderer.isPageVisible(e)}isReady(){return this.viewerState.loaded}isRegionInViewport(e,t,n,i,r){const s=this.divaState.viewerCore.getCurrentLayout();if(!s)return!1;const o=s.getPageOffset(e),a=o.top+n,c=o.left+t;return this.viewerState.viewport.intersectsRegion({top:a,bottom:a+r,left:c,right:c+i})}isVerticallyOriented(){return this.settings.verticallyOriented}leaveFullscreenMode(){return!!this.settings.inFullscreen&&(this._toggleFullscreen(),!0)}leaveGridView(){return!!this.settings.inGrid&&(this._reloadViewer({inGrid:!1}),!0)}setGridPagesPerRow(e){return!!this.divaState.viewerCore.isValidOption("pagesPerRow",e)&&this._reloadViewer({inGrid:!0,pagesPerRow:e})}setState(e){this._reloadViewer(this._getLoadOptionsForState(e))}setZoomLevel(e){return this.settings.inGrid&&this._reloadViewer({inGrid:!1}),this.divaState.viewerCore.zoom(e)}showNonPagedPages(){this._reloadViewer({showNonPagedPages:!0})}toggleFullscreenMode(){this._toggleFullscreen()}toggleNonPagedPagesVisibility(){this._reloadViewer({showNonPagedPages:!this.settings.showNonPagedPages})}toggleOrientation(){return this._togglePageLayoutOrientation()}translateFromMaxZoomLevel(e){const t=this.settings.maxZoomLevel-this.settings.zoomLevel;return e/Math.pow(2,t)}translateToMaxZoomLevel(e){const t=this.settings.maxZoomLevel-this.settings.zoomLevel;return 0===t?e:e*Math.pow(2,t)}zoomIn(){return this.setZoomLevel(this.settings.zoomLevel+1)}zoomOut(){return this.setZoomLevel(this.settings.zoomLevel-1)}}de.Events=u.Events;var he;t.default=de;"undefined"!=typeof window&&((he=window).Diva=he.Diva||de)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ltbWVkaWF0ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0xvY2FsU2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1NlbGVjdFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Ob3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyZ3NhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L0NvbnRlbnRzLnRzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Nb2RhbFdpbmRvdy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db29yZGluYXRlcy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3BhcmstbWQ1L3NwYXJrLW1kNS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvcmFuZG9tLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db2xvci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbnNjaGVtYS9saWIvaGVscGVycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnV2dXplbGEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRHJhZ0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvR3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0Vycm9yTG9nLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9SZXNpemUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvdWNoZGIvbGliL2luZGV4LWJyb3dzZXIuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2xvZGFzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdmtiZWF1dGlmeS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL0Rhc2hib2FyZENvbnRlbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1dhcm5pbmdzLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L1N0YWZmVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvTmV1bWVUb29scy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9xdWV1ZU1pY3JvdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tdXRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tZXNzYWdlQ2hhbm5lbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9zdGF0ZUNoYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi90aW1lb3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uc2NoZW1hL2xpYi9zY2FuLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9TZWxlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0NvbnZlcnRNZWkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1ZhbGlkYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1Vuc2F2ZWQudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvQ29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvSW5zZXJ0SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRWRpdENvbnRlbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FZGl0Q29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vZGVwbG95bWVudC9zY3JpcHRzL2VkaXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTmVvblZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL05lb25Db3JlLnRzIiwid2VicGFjazovLy8uL3NyYy9WZXJvdmlvV3JhcHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTmVvbk1hbmlmZXN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uc2NoZW1hL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbnNjaGVtYS9saWIvdmFsaWRhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzb25zY2hlbWEvbGliL2F0dHJpYnV0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdGVtcGxhdGUvVGVtcGxhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0RlYnVnTW9kZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGlzcGxheVBhbmVsL0Rpc3BsYXlQYW5lbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGl2YVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL3ZhbmlsbGEua2luZXRpYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdXRpbHMvZHJhZ3Njcm9sbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9TaW5nbGVWaWV3L1NpbmdsZVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NpbmdsZVZpZXcvWm9vbS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9EaXZhRWRpdE1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvU2luZ2xlRWRpdE1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0luZm9Nb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RleHRWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9UZXh0RWRpdE1vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2VsdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZXhjZXB0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZGl2YS1nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZ2VzdHVyZS1ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhZ2UtdG9vbHMtb3ZlcmxheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZG9jdW1lbnQtaGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZ3JpZC1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLW92ZXJsYXktbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdGlsZS1jb3ZlcmFnZS1tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2NvbXBvc2l0ZS1pbWFnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZG9jdW1lbnQtbGF5b3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9pbWFnZS1jYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvaW1hZ2UtcmVxdWVzdC1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9pbnRlcnBvbGF0ZS1hbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3JlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLWxheW91dHMvcGFnZS1kaW1lbnNpb25zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLWxheW91dHMvYm9vay1sYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhZ2UtbGF5b3V0cy9ncmlkLWxheW91dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvcGFnZS1sYXlvdXRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLWxheW91dHMvc2luZ2xlcy1sYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3NldHRpbmdzLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3ZhbGlkYXRpb24tcnVubmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy92aWV3cG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdmlld2VyLWNvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2dldC1zY3JvbGxiYXItd2lkdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL3BhcnNlLWxhYmVsLXZhbHVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYXJzZS1paWlmLW1hbmlmZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9paWlmLXNvdXJjZS1hZGFwdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9pbWFnZS1tYW5pZmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdG9vbGJhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdXRpbHMvaGFzaC1wYXJhbXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2RpdmEuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJSZWZsZWN0T3duS2V5cyIsIlIiLCJSZWZsZWN0IiwiUmVmbGVjdEFwcGx5IiwiYXBwbHkiLCJ0YXJnZXQiLCJyZWNlaXZlciIsImFyZ3MiLCJGdW5jdGlvbiIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29uY2F0IiwiTnVtYmVySXNOYU4iLCJOdW1iZXIiLCJpc05hTiIsIkV2ZW50RW1pdHRlciIsImluaXQiLCJ0aGlzIiwib25jZSIsImVtaXR0ZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImVycm9yTGlzdGVuZXIiLCJlcnIiLCJyZW1vdmVMaXN0ZW5lciIsInJlc29sdmVyIiwic2xpY2UiLCJhcmd1bWVudHMiLCJldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIiLCJoYW5kbGVyIiwiZmxhZ3MiLCJvbiIsImFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyIiwiX2V2ZW50cyIsInVuZGVmaW5lZCIsIl9ldmVudHNDb3VudCIsIl9tYXhMaXN0ZW5lcnMiLCJkZWZhdWx0TWF4TGlzdGVuZXJzIiwiY2hlY2tMaXN0ZW5lciIsImxpc3RlbmVyIiwiVHlwZUVycm9yIiwiX2dldE1heExpc3RlbmVycyIsInRoYXQiLCJfYWRkTGlzdGVuZXIiLCJ0eXBlIiwicHJlcGVuZCIsImV2ZW50cyIsImV4aXN0aW5nIiwid2FybmluZyIsIm5ld0xpc3RlbmVyIiwiZW1pdCIsInVuc2hpZnQiLCJwdXNoIiwibGVuZ3RoIiwid2FybmVkIiwidyIsIkVycm9yIiwiU3RyaW5nIiwiY291bnQiLCJjb25zb2xlIiwid2FybiIsIm9uY2VXcmFwcGVyIiwiZmlyZWQiLCJ3cmFwRm4iLCJfb25jZVdyYXAiLCJzdGF0ZSIsIndyYXBwZWQiLCJfbGlzdGVuZXJzIiwidW53cmFwIiwiZXZsaXN0ZW5lciIsImFyciIsInJldCIsIkFycmF5IiwidW53cmFwTGlzdGVuZXJzIiwiYXJyYXlDbG9uZSIsImxpc3RlbmVyQ291bnQiLCJjb3B5IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndyYXBMaXN0ZW5lciIsImFyZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXQiLCJSYW5nZUVycm9yIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRNYXhMaXN0ZW5lcnMiLCJnZXRNYXhMaXN0ZW5lcnMiLCJkb0Vycm9yIiwiZXJyb3IiLCJlciIsIm1lc3NhZ2UiLCJjb250ZXh0IiwibGVuIiwibGlzdGVuZXJzIiwiYWRkTGlzdGVuZXIiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdCIsInBvc2l0aW9uIiwib3JpZ2luYWxMaXN0ZW5lciIsInNoaWZ0IiwiaW5kZXgiLCJwb3AiLCJzcGxpY2VPbmUiLCJvZmYiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJrZXlzIiwicmF3TGlzdGVuZXJzIiwiZXZlbnROYW1lcyIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJjb25zdHJ1Y3RvciIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiVGVtcEN0b3IiLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInNjaGVkdWxlRHJhaW4iLCJ0eXBlcyIsInF1ZXVlSW5kZXgiLCJxdWV1ZSIsInNjaGVkdWxlZCIsImNsZWFuVXBOZXh0VGljayIsIm5leHRUaWNrIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJydW4iLCJjbGVhclRpbWVvdXQiLCJ0ZXN0IiwiaW5zdGFsbCIsIkl0ZW0iLCJmdW4iLCJhcnJheSIsInRhc2siLCJsb2NhbFNldHRpbmdzIiwiREVGQVVMVF9TRVRUSU5HUyIsInpvb20iLCJnbHlwaE9wYWNpdHkiLCJpbWFnZU9wYWNpdHkiLCJjaXJjbGVTaXplIiwiaGlnaGxpZ2h0TW9kZSIsInVzZXJNb2RlIiwiaW5zZXJ0TW9kZSIsImluc2VydFRhYiIsInNlbGVjdGlvbk1vZGUiLCJkZWJ1Z01vZGUiLCJkaXNwbGF5QkJveCIsImRpc3BsYXlUZXh0IiwiZGlzcGxheUluZm8iLCJkaXNwbGF5RXJyTG9nIiwidmlld0JveCIsInNldHRpbmdzIiwicGFyYW1zIiwiZm9saW9JZCIsImlkIiwibG9hZCIsInN0b3JlZCIsIkpTT04iLCJwYXJzZSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzeW5jIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImdldFNlbGVjdGlvblR5cGUiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidW5zZWxlY3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInNlbGVjdGVkIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiY29udGFpbnMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJDb2xvciIsInVuaGlnaGxpZ2h0Iiwic3R5bGUiLCJmaWxsIiwiZnJvbSIsImRpdkxpbmUiLCJzdHJva2UiLCJzZXRBdHRyaWJ1dGUiLCJuZXVtZSIsInN5bFJlY3QiLCJwYXJlbnRFbGVtZW50IiwiYWRkIiwiZDMiLCJzZWxlY3RBbGwiLCJlbCIsImNvbG9yIiwiZm9udFdlaWdodCIsImdldEVsZW1lbnRCeUlkIiwiU2VsZWN0T3B0aW9ucyIsImVuZE9wdGlvbnNTZWxlY3Rpb24iLCJHcm91cGluZyIsImVuZEdyb3VwaW5nU2VsZWN0aW9uIiwiaW5uZXJIVE1MIiwidXBkYXRlSGlnaGxpZ2h0Iiwic2VsZWN0U3RhZmYiLCJzdGFmZiIsImRyYWdIYW5kbGVyIiwiaGlnaGxpZ2h0IiwidHJpZ2dlclNpbmdsZVN0YWZmQWN0aW9ucyIsImluaXRHcm91cGluZ0xpc3RlbmVycyIsImRyYWdJbml0Iiwic2VsZWN0TGF5ZXJFbGVtZW50IiwibGF5ZXJFbGVtZW50Iiwic2VsZWN0IiwibmVlZHNIaWdobGlnaHRVcGRhdGUiLCJzeWxJZCIsImVsZW0iLCJjbG9zZXN0Iiwic3BhbiIsImFzeW5jIiwiaXNMaWdhdHVyZSIsIm5jIiwibmVvblZpZXciLCJhdHRyaWJ1dGVzIiwiZ2V0RWxlbWVudEF0dHIiLCJ2aWV3IiwiZ2V0Q3VycmVudFBhZ2VVUkkiLCJCb29sZWFuIiwibGlnYXRlZCIsImVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlIiwic2VsZWN0aW9uVHlwZSIsImVsZW1lbnRzIiwic2hhcmVkU2Vjb25kTGV2ZWxQYXJlbnQiLCJ0ZW1wRWxlbWVudHMiLCJzZWNvbmRQYXJlbnQiLCJzZWxlY3RCQm94IiwiYmJveCIsInN5bCIsInJlc2l6ZSIsInF1ZXJ5U2VsZWN0b3IiLCJ0cmlnZ2VyQkJveEFjdGlvbnMiLCJwYXJlbnQiLCJwcmV2TmMiLCJwcmV2aW91c1NpYmxpbmciLCJuZXh0TmMiLCJuZXh0U2libGluZyIsInRyaWdnZXJHcm91cGluZyIsInRyaWdnZXJOY0FjdGlvbnMiLCJhbGxFbGVtc09mU2VsZWN0aW9uVHlwZSIsInNvcnRlZEVsZW1lbnRzIiwiaiIsImlzU2FtZU5vZGUiLCJmaXJzdEVsZW0iLCJzZWNvbmRFbGVtIiwiaW5kZXgxIiwiaW5kZXhPZiIsImluZGV4MiIsIk1hdGgiLCJhYnMiLCJmaWx0ZXIiLCJyZWZlcmVuY2VQYXJlbnRTdGFmZiIsInJlZmVyZW5jZVBhcmVudFN5bGxhYmxlIiwiZWxlbWVudHNBcnJheSIsImFub3RoZXJTdGFmZiIsInVseCIsInVseSIsImxyeCIsImxyeSIsInJvdGF0ZSIsInBhdGgiLCJjb29yZGluYXRlcyIsImdldEF0dHJpYnV0ZSIsIm1hdGNoIiwibWFwIiwiYXRhbiIsIm1pbiIsIm1heCIsIm5vdE5ldW1lcyIsIm5uIiwic2VsZWN0aW9uQ2xhc3MiLCJjb250YWluc0xheWVyRWxlbWVudHMiLCJjb250YWluc05jIiwiZ3JvdXBzVG9TZWxlY3QiLCJTZXQiLCJncm91cGluZyIsImZvbGxvd3MiLCJwcmVjZWRlcyIsImhhcyIsImdyb3VwIiwiZ3JvdXBzIiwidmFsdWVzIiwidHJpZ2dlck11bHRpU3RhZmZBY3Rpb25zIiwic2l6ZSIsInRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zIiwidHJpZ2dlckRlZmF1bHRBY3Rpb25zIiwidHJpZ2dlclN5bGxhYmxlQWN0aW9ucyIsImlzTGlua2FibGUiLCJpc0dyb3VwYWJsZSIsInRyaWdnZXJOZXVtZUFjdGlvbnMiLCJjaGlsZHJlbiIsImZpcnN0TkMiLCJzZWNvbmROQyIsImZpcnN0TkNYIiwieCIsImJhc2VWYWwiLCJzZWNvbmROQ1giLCJmaXJzdE5DWSIsInkiLCJzZWNvbmROQ1kiLCJnIiwidHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zIiwibm90aWZpY2F0aW9ucyIsImN1cnJlbnRNb2RlTWVzc2FnZSIsIm5vdGlmaWNhdGlvbkljb24iLCJkZWZhdWx0Iiwic3VjY2VzcyIsIk5vdGlmaWNhdGlvbiIsImxvZ0luZm8iLCJkaXNwbGF5ZWQiLCJ1dWlkdjQiLCJpc01vZGVNZXNzYWdlIiwic2VhcmNoIiwidGltZW91dElEIiwiY2xlYXJOb3RpZmljYXRpb24iLCJjdXJyZW50SWQiLCJzdGFydE5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbiIsImdldElkIiwibm90aWZpY2F0aW9uQ29udGVudCIsIm5ld05vdGlmaWNhdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmQiLCJkaXNwbGF5IiwiZGlzcGxheU5vdGlmaWNhdGlvbiIsInNldFRpbWVvdXRJZCIsInF1ZXVlTm90aWZpY2F0aW9uIiwicmVjb3JkTm90aWZpY2F0aW9uIiwiaW5zZXJ0VGFiSHRtbCIsInByaW1pdGl2ZVRhYiIsImdyb3VwaW5nVGFiIiwic3lzdGVtVGFiIiwiaW5zZXJ0Q29udHJvbHNQYW5lbCIsImVkaXRDb250cm9sc1BhbmVsIiwibmNBY3Rpb25Db250ZW50cyIsImRlZmF1bHROZXVtZUFjdGlvbkNvbnRlbnRzIiwibmV1bWVBY3Rpb25Db250ZW50cyIsImRlZmF1bHRBY3Rpb25Db250ZW50cyIsImRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyIsImN1c3Rvc0FjdGlvbkNvbnRlbnRzIiwibGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHMiLCJsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzIiwiYWNjaWRBY3Rpb25Db250ZW50cyIsInN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyIsInN0YWZmTWVyZ2VBY3Rpb25Db250ZW50cyIsImNvbHVtbkFjdGlvbkNvbnRlbnRzIiwiY2xlZkFjdGlvbkNvbnRlbnRzIiwiZGl2TGluZUFjdGlvbkNvbnRlbnRzIiwiYmJveEFjdGlvbkNvbnRlbnRzIiwiZ3JvdXBpbmdNZW51IiwibGlnYXR1cmVOYyIsImxpZ2F0dXJlIiwic3BsaXRTeWxsYWJsZSIsImVkaXRUZXh0TW9kYWwiLCJob3RrZXlzTW9kYWwiLCJzeWxsYWJsZUFjdGlvbnNDb250ZW50IiwiZXJyb3JMb2dzUGFuZWxDb250ZW50cyIsImUiLCJieXRlVG9IZXgiLCJ0b1N0cmluZyIsInN1YnN0ciIsIm9mZnNldCIsInV1aWQiLCJ0b0xvd2VyQ2FzZSIsImxhc3RHbHlwaE9wYWNpdHkiLCJsYXN0SW1hZ2VPcGFjaXR5IiwibGFzdENpcmNsZVNpemUiLCJzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyIiwibWVpQ2xhc3NOYW1lIiwib3BhY2l0eU91dHB1dCIsInNldFNldHRpbmdzIiwiaGlkZUdseXBoSW1nIiwib3BhY2l0eSIsInNldEJnT3BhY2l0eUZyb21TbGlkZXIiLCJiYWNrZ3JvdW5kIiwiYmdPcGFjaXR5T3V0cHV0IiwiaGlkZUJnSW1nIiwiYmciLCJ1cGRhdGVIaWdobGlnaHRPcHRpb24iLCJvcHRpb24iLCJkcm9wZG93biIsImhpZ2hsaWdodFR5cGUiLCJ0ZXh0Q29udGVudCIsInVuc2V0R3JvdXBpbmdIaWdobGlnaHQiLCJ0b1VwcGVyQ2FzZSIsInNldEdyb3VwaW5nSGlnaGxpZ2h0Iiwic2V0SGlnaGxpZ2h0T3B0aW9uIiwiaGlnaGxpZ2h0Q2xpY2thd2F5IiwiYm9keSIsInNldEhpZ2hsaWdodENvbnRyb2xzIiwiZXZ0Iiwic3RvcFByb3BhZ2F0aW9uIiwidG9nZ2xlIiwibG9hZEhpZ2hsaWdodFNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJ6b29tSGFuZGxlciIsInpvb21TbGlkZXIiLCJ6b29tT3V0cHV0Iiwiem9vbVRvIiwicmVzZXRab29tQW5kUGFuIiwiZGlzYWJsZWQiLCJjdXJyZW50Wm9vbSIsInBhcnNlSW50IiwicHJldmVudERlZmF1bHQiLCJuZXdab29tIiwiY2lyY2xlU2xpZGVyIiwiY2lyY2xlT3V0cHV0IiwiY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlciIsInJlc2l6ZVBvaW50cyIsImVtcHR5IiwiYXR0ciIsImhpZ2hsaWdodFNlbGVjdGlvbiIsImhpZ2hsaWdodElkIiwiZGlzcGxheUFsbEJ0biIsImRpc3BsYXlCQm94ZXMiLCJjaGVja2VkIiwib3BhY2l0eVNsaWRlciIsImlucHV0Q2hhbmdlT3BhY2l0eSIsInRvZ2dsZU9wYWNpdHlCdG4iLCJuZXdPcGFjaXR5Iiwicm91bmQiLCJzZXRHbHlwaE9wYWNpdHlDb250cm9scyIsImJnT3BhY2l0eVNsaWRlciIsImJnSW5wdXRDaGFuZ2VIYW5kbGVyIiwidG9nZ2xlQmdPcGFjaXR5QnRuIiwic2V0QmdPcGFjaXR5Q29udHJvbHMiLCJtZXRhS2V5Iiwic2VsZWN0QWxsQnRuIiwib3B0aW9ucyIsImNsaWNrIiwic2V0RGlzcGxheUFsbExpc3RlbmVyIiwiZGlzcGxheUNvbnRlbnRzIiwidG9nZ2xlRGlzcGxheSIsInBhZGRpbmciLCJvdmVyZmxvdyIsIk1vZGFsV2luZG93VmlldyIsIk1vZGFsV2luZG93U3RhdGUiLCJvcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdyIsImhpZGVNb2RhbFdpbmRvdyIsInVwZGF0ZVN5bFRleHQiLCJmb2N1c01vZGFsV2luZG93Iiwib3JpZyIsInJlcGxhY2UiLCJ0cmltIiwidXBkYXRlZFN5bFRleHQiLCJlZGl0b3JBY3Rpb24iLCJhY3Rpb24iLCJwYXJhbSIsImVsZW1lbnRJZCIsImVudHJpZXMiLCJjbGFzc05hbWUiLCJ0ZXh0IiwiZWRpdCIsInRoZW4iLCJyZXNwb25zZSIsInVwZGF0ZUZvckN1cnJlbnRQYWdlIiwidXBkYXRlU2VsZWN0ZWRCQm94Iiwia2V5ZG93bkxpc3RlbmVyIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwibW9kYWxXaW5kb3dWaWV3IiwiRURJVF9URVhUIiwiRE9DVU1FTlRfVVBMT0FEIiwiTkVXX0ZPTERFUiIsIlJFTkFNRSIsImZvY3VzIiwibW9kYWxXaW5kb3dTdGF0ZSIsIkNMT1NFRCIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJjb250ZW50Iiwic2V0TW9kYWxXaW5kb3dDb250ZW50IiwiSE9US0VZUyIsIk1PVkVfVE8iLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJPUEVOIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJjb250YWluZXIiLCJ0aXRsZSIsImlubmVyVGV4dCIsInJlbW92ZVN5bWJvbCIsIkVSUk9SX0xPRyIsImVuY29kZVVSSSIsInVwbG9hZEFyZWFIVE1MIiwibmV3Rm9sZGVySFRNTCIsInJlbmFtZUhUTUwiLCJiYm94SWQiLCJmaW5kIiwiZGlzcGxheVJlY3QiLCJ1bnNldEluY2xpbmF0dW1BY3Rpb24iLCJhdHRyVHlwZSIsImF0dHJWYWx1ZSIsInVuc2V0VmlyZ2FBY3Rpb24iLCJ1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24iLCJ1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24iLCJ1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uIiwiY3VydmUiLCJkZWxldGVCdXR0b25IYW5kbGVyIiwicmVtb3ZlSGFuZGxlciIsIm1vcmVFZGl0IiwiZXh0cmFFZGl0IiwidG9SZW1vdmUiLCJjaGFpbkFjdGlvbiIsImNoYW5nZVN0YWZmSGFuZGxlciIsInRvQ2hhbmdlIiwiaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIiLCJ0b0luc2VydCIsInJlc3VsdCIsIm1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyIiwidG9Nb3ZlIiwibWF0Y2hIZWlnaHRIYW5kbGVyIiwiYWRkRGVsZXRlTGlzdGVuZXIiLCJkZWwiLCJhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyIiwiY2hhbmdlU3RhZmYiLCJ1cGRhdGVDb2x1bW5JbmZvIiwiY29sSW5wdXQiLCJzdGF2ZXMiLCJjb2xJbmZvIiwiaGFzQ29sdW1uIiwiam9pbiIsInN0YWZmQ29sIiwiYWRkQ29sdW1uSW5mb1N0ZXBIYW5kbGVyIiwiZGVjcmVtZW50QnV0dG9uIiwiaW5jcmVtZW50QnV0dG9uIiwiY29uZmlybUJ1dHRvbiIsInVwZGF0ZU51bWJlciIsImNoYW5nZSIsImN1cnJlbnRWYWx1ZSIsInRvU2V0Q29sdW1uIiwic2V0RWRpdENvbnRyb2xzIiwiZWRpdFR5cGUiLCJjb250ZW50cyIsInBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24iLCJ0cmlnZ2VyU3RhZmZTcGxpdE1vZGUiLCJTcGxpdFN0YWZmSGFuZGxlciIsInN0YXJ0U3BsaXQiLCJpbml0T3B0aW9uc0xpc3RlbmVycyIsImRyb3AiLCJvcHRpb25zQ2xpY2thd2F5Iiwib3RoZXIiLCJpbml0TmVvblZpZXciLCJDb250ZW50cyIsInVuc2V0SW5jbGluYXR1bSIsInVuc2V0VmlyZ2EiLCJ1bnNldFZpcmdhUmV2ZXJzZWQiLCJ1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJ1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIiwic2V0SW5jbGluYXR1bSIsInNldFZpcmdhIiwic2V0VmlyZ2FSZXZlcnNlZCIsInNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSIsInRyaWdnZXJDaGFuZ2VHcm91cCIsImNvbnRvdXIiLCJjaGFuZ2VHcm91cGluZ0FjdGlvbiIsIlNwbGl0TmV1bWVIYW5kbGVyIiwiaW5mbyIsImdldENvbnRvdXJCeVZhbHVlIiwiZXh0cmFBY3Rpb25zSFRNTCIsImFjY2lkT3B0aW9uc0xpc3RlbmVyIiwiaW5jcmVtZW50T2N0YXZlIiwiZGlyZWN0aW9uIiwic2hhcGUiLCJjbGVmT3B0aW9uc0xpc3RlbmVyIiwiZGl2TGluZU9wdGlvbnNMaXN0ZW5lciIsIm1lcmdlU3RhdmVzIiwicG9pbnRzIiwiZ2V0U3RhZmZCQm94IiwieV9jaGFuZ2UiLCJ0YW4iLCJnZXRTVkdSZWxDb29yZHMiLCJjbGllbnRYIiwiY2xpZW50WSIsInB0IiwiRE9NUG9pbnQiLCJwYWdlTWFyZ2luIiwibWF0cml4VHJhbnNmb3JtIiwiZ2V0U2NyZWVuQ1RNIiwiaW52ZXJzZSIsImdldFN0YWZmSWRCeUNvb3JkcyIsInN0YWZmQkJveGVzIiwic3RhZmZJZCIsImJnSW1nIiwicmVjdCIsInRhZ05hbWUiLCJnZXRCQm94IiwicGFyZW50Tm9kZSIsIndpZHRoIiwiaGVpZ2h0IiwiaGV4X2NociIsIm1kNWN5Y2xlIiwiayIsImEiLCJiIiwibWQ1YmxrIiwibWQ1YmxrcyIsImNoYXJDb2RlQXQiLCJtZDVibGtfYXJyYXkiLCJtZDUxIiwidGFpbCIsInRtcCIsImxvIiwiaGkiLCJzdWJzdHJpbmciLCJyaGV4IiwiaGV4IiwidG9VdGY4Iiwic3RyIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJoZXhUb0JpbmFyeVN0cmluZyIsImJ5dGVzIiwiZnJvbUNoYXJDb2RlIiwiU3BhcmtNRDUiLCJyZXNldCIsIkFycmF5QnVmZmVyIiwiY2xhbXAiLCJ2YWwiLCJ0byIsIm51bSIsInRhcmdldEFycmF5Iiwic291cmNlQXJyYXkiLCJieXRlTGVuZ3RoIiwiYmVnaW4iLCJlbmQiLCJVaW50OEFycmF5IiwiYXBwZW5kQmluYXJ5IiwiX2J1ZmYiLCJfbGVuZ3RoIiwiX2hhc2giLCJyYXciLCJidWZmIiwiX2ZpbmlzaCIsImdldFN0YXRlIiwiaGFzaCIsInNldFN0YXRlIiwiZGVzdHJveSIsImhhc2hCaW5hcnkiLCJmaXJzdCIsInNlY29uZCIsInJldHVyblVJbnQ4QXJyYXkiLCJidWZmZXIiLCJzdWJhcnJheSIsInV0ZjhTdHIyQXJyYXlCdWZmZXIiLCJtZDUxX2FycmF5IiwiZmFjdG9yeSIsInVpbnQ4VG9VdWlkIiwiZGF0YSIsImNiIiwicHJldmlvdXMiLCJjdXJyZW50IiwicGFkU3RhcnQiLCJyZWR1Y2UiLCJjcnlwdG8iLCJvY3RldHMiLCJtb2RpZmllcnMiLCJnZXRSYW5kb21WYWx1ZXMiLCJDb2xvclBhbGV0dGUiLCJyZWN0cyIsInVuc2V0U3RhZmZIaWdobGlnaHQiLCJjaGlsZCIsImNjaGlsZCIsInNldFN0YWZmSGlnaGxpZ2h0Iiwic3RhZmZDb2xvciIsImNvbHVtbk51bSIsImNvbHVtbiIsInNldENvbHVtbkhpZ2hsaWdodCIsImdyb3VwQ29sb3IiLCJkaXZMaW5lQ2hpbGRyZW4iLCJ1cmkiLCJWYWxpZGF0aW9uRXJyb3IiLCJpbnN0YW5jZSIsInNjaGVtYSIsImFyZ3VtZW50IiwiaXNBcnJheSIsInN1bSIsIml0ZW0iLCJtYWtlU3VmZml4IiwiJGlkIiwic3RhY2siLCJWYWxpZGF0b3JSZXN1bHQiLCJjdHgiLCJwcm9wZXJ0eVBhdGgiLCJlcnJvcnMiLCJ0aHJvd0Vycm9yIiwidGhyb3dGaXJzdCIsInRocm93QWxsIiwiZGlzYWJsZUZvcm1hdCIsInN0cmluZ2l6ZXIiLCJ2IiwiVmFsaWRhdG9yUmVzdWx0RXJyb3IiLCJjYXB0dXJlU3RhY2tUcmFjZSIsImFkZEVycm9yIiwiZGV0YWlsIiwiaW1wb3J0RXJyb3JzIiwicmVzIiwidmFsaWRhdG9yVHlwZSIsIlNjaGVtYUVycm9yIiwibXNnIiwiU2NoZW1hQ29udGV4dCIsImJhc2UiLCJzY2hlbWFzIiwibWFrZUNoaWxkIiwicHJvcGVydHlOYW1lIiwiRk9STUFUX1JFR0VYUFMiLCJpbnB1dCIsInBhcnNlRmxvYXQiLCJSZWdFeHAiLCJyZWdleHAiLCJyZWdleCIsInBhdHRlcm4iLCJpcHY0IiwiaXNGb3JtYXQiLCJmb3JtYXQiLCJ2YWxpZGF0b3IiLCJjdXN0b21Gb3JtYXRzIiwiZGVlcE1lcmdlciIsImRzdCIsImRlZXBNZXJnZSIsImNvcHlpc3QiLCJzcmMiLCJjb3B5aXN0V2l0aERlZXBNZXJnZSIsInBhdGhFbmNvZGVyIiwiZGVlcENvbXBhcmVTdHJpY3QiLCJldmVyeSIsImFLZXlzIiwiYktleXMiLCJvYmplY3RHZXRQYXRoIiwicGFydHMiLCJzcGxpdCIsImRlY29kZVVSSUNvbXBvbmVudCIsImVuY29kZVBhdGgiLCJnZXREZWNpbWFsUGxhY2VzIiwibnVtYmVyIiwiZGVjaW1hbFBsYWNlcyIsImRlY2ltYWxQYXJ0cyIsImlzU2NoZW1hIiwicm5kczgiLCJybmciLCJtc0NyeXB0byIsIm9iaiIsIm1ldGFTdGFjayIsImxhc3RNZXRhRWxlbWVudCIsImxhc3RFbGVtZW50SW5kZXgiLCJuZXh0IiwiYXJyYXlQcmVmaXgiLCJvYmpQcmVmaXgiLCJwcmVmaXgiLCJjb2xsYXRpb25JbmRleCIsInBhcnNlZE51bSIsIm51bUNoYXIiLCJwYXJzZWRTdHJpbmciLCJsYXN0Q2giLCJudW1Db25zZWN1dGl2ZVNsYXNoZXMiLCJjaCIsImFycmF5RWxlbWVudCIsIm9iakVsZW1lbnQiLCJidWYiLCJybmRzIiwicmFuZG9tIiwic2VsZWN0b3IiLCJkcmFnU3RhcnRDb29yZHMiLCJkcmFnQmVoYXZpb3VyIiwiZHJhZyIsImV2ZW50IiwiZHgiLCJkeSIsInNvdXJjZUV2ZW50IiwiZHJhZ2dpbmciLCJkcmFnRW5kZWQiLCJzZWxlY3Rpb24iLCJub01vdmVQcmVjZWRlcyIsImhhc0F0dHJpYnV0ZSIsIm1vdmVFbGVtZW50cyIsImJib3hlcyIsInhEaWZmIiwieURpZmYiLCJpc0N1cnNvck91dE9mQm91bmRzIiwiaXNEcmFnT3V0T2ZCb3VuZHMiLCJyZXR1cm5FbGVtZW50cyIsInBhcmFtQXJyYXkiLCJkcmFnQWN0aW9uIiwidG9SZXNlbGVjdCIsInJlc2VsZWN0IiwicmVzZWxlY3RlZCIsInJlc2V0VG9BY3Rpb24iLCJlbmRYIiwiZW5kWSIsImlzT3V0T2ZTVkdCb3VuZHMiLCJnbHlwaFNlbGVjdG9yIiwic2VsZWN0aW9uQkJveCIsImFjYyIsImdldEdseXBoQkJveCIsImN1cnIiLCJNQVhfVkFMVUUiLCJNSU5fVkFMVUUiLCJTZWxlY3RUb29scyIsInNoYXJlZExvZ2ljYWxQYXJlbnQiLCJhcmVBZGphY2VudCIsImNvbnRhaW5zTGlua2VkIiwiaXNMaW5rZWQiLCJjYW5CZUxpbmtlZCIsInNvcnQiLCJzdGFmZkEiLCJzdGFmZkIiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsIk5vZGUiLCJET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkciLCJzeWxsYWJsZXMiLCJjdXJyZW50U3lsbGFibGVJbmRleCIsImN1cnJlbnRTdGFmZiIsIm5leHRTdGFmZiIsImN1cnJlbnRTdGFmZkluZGV4IiwidW5saW5rZWRFbGVtZW50cyIsImZpcnN0VW5saW5rZWQiLCJpZHgiLCJzeWxsYWJsZSIsImF0IiwibmV4dFN5bGxhYmxlSWQiLCJuZXh0U3lsbGFibGVJZHgiLCJuZXh0U3lsbGFibGUiLCJwcmV2U3lsbGFibGVJZCIsInByZXZTeWxsYWJsZSIsImhhc0ludmFsaWRMaW5rZWRTeWxsYWJsZSIsInN5c3RlbXMiLCJlbGVtZW50SWRzIiwiZ3JvdXBpbmdBY3Rpb24iLCJnZXRDaGlsZHJlbklkcyIsImdldElkcyIsInRvZ2dsZUxpbmtlZFN5bGxhYmxlcyIsImdyb3VwVHlwZSIsIm5ldW1lUGFyZW50IiwibmNzIiwiZ2V0Q29udG91ciIsIldhcm5pbmdzIiwiZ3JvdXBpbmdOb3RSZWNvZ25pemVkIiwiZ2V0U1ZHR3JhcGhpY3NFbGVtZW50QnlJZCIsIlNWR0dyYXBoaWNzRWxlbWVudCIsInVubGluayIsImZpcnN0U3lsbGFibGUiLCJzZWNvbmRTeWxsYWJsZSIsInVubGlua2VkRWxlbWVudCIsImdldFRvZ2dsZVN5bGxhYmxlSWRzIiwibG9nIiwiaWRzIiwiY2hpbGRyZW5JZHMiLCJjcmVhdGVMb2dNZXNzYWdlIiwibm90aWYiLCJub3RpZkRpdiIsInJlbW92ZUJ0biIsIm9uY2xpY2siLCJpbmZvQnRuIiwibW9kYWxXaW5kb3ciLCJNb2RhbFdpbmRvdyIsInNldE1vZGFsV2luZG93VmlldyIsIm9wZW5Nb2RhbFdpbmRvdyIsIm9wZW5FcnJvckxvZ1dpbmRvdyIsImluaXRFcnJvckxvZ0NvbnRyb2xzIiwiZXJyb3JQYW5lbCIsImhlYWRpbmciLCJkcm9wZG93bkljb24iLCJpbml0RGlzcGxheUxpc3RlbmVyIiwiY2hlY2tib3hlc0NvbnRhaW5lciIsImVycm9yc0xhYmVsIiwiZXJvcnJzQnRuIiwiYXBwZW5kQ2hpbGQiLCJ1cGRhdGVFcnJvckxvZ1Zpc2liaWxpdHkiLCJub3RpZlBhbmVsIiwiUG9pbnROYW1lcyIsIlRvcExlZnQiLCJUb3AiLCJUb3BSaWdodCIsIlJpZ2h0IiwiQm90dG9tUmlnaHQiLCJCb3R0b20iLCJCb3R0b21MZWZ0IiwiTGVmdCIsImdldFBvaW50cyIsInNpbiIsImluaXRpYWxVbHgiLCJpbml0aWFsTHJ4IiwiaW5pdGlhbFBvaW50IiwiaW5pdGlhbFVseSIsImluaXRpYWxMcnkiLCJpbml0aWFsWSIsImluaXRpYWxSZWN0WSIsInBvbHlMZW4iLCJpbml0aWFsUm90YXRlIiwicmVkcmF3IiwicG9pbnRTdHJpbmciLCJfZWxlbSIsInRleHRSZWN0IiwicG9pbnROYW1lIiwicG9pbnQiLCJwb2ludFN0cmluZ1JpZ2h0IiwicG9pbnRTdHJpbmdMZWZ0IiwiZHJhd0luaXRpYWxSZWN0Iiwid2hpY2hQb2ludCIsIl8iLCJ2aWV3cG9ydEVsZW1lbnQiLCJyZXNpemVTdGFydCIsInJlc2l6ZURyYWciLCJyZXNpemVFbmQiLCJyb3RhdGVTdGFydCIsInRlbXAiLCJtb3VzZSIsInRlbXBSb3RhdGUiLCJyb3RhdGVFbmQiLCJjdXJyZW50UG9pbnQiLCJ3aGljaCIsIlBJIiwiRXhwb3J0ZWRTZXQiLCJFeHBvcnRlZE1hcCIsIm1hbmdsZSIsInVubWFuZ2xlIiwiTWFwJDEiLCJfc3RvcmUiLCJTZXQkMSIsImNsb25lQmluYXJ5T2JqZWN0IiwiY2xvbmVBcnJheUJ1ZmZlciIsIndlYmtpdFNsaWNlIiwibWFuZ2xlZCIsImRlbGV0ZSIsIk1hcCIsInByb3AiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzcGVjaWVzIiwic3VwcG9ydHNNYXBBbmRTZXQiLCJmdW5jVG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwiY2xvbmUiLCJuZXdPYmplY3QiLCJEYXRlIiwiaXNGaW5pdGUiLCJ0b0lTT1N0cmluZyIsIkJsb2IiLCJpc0JpbmFyeU9iamVjdCIsInByb3RvIiwiQ3RvciIsImlzUGxhaW5PYmplY3QiLCJjYWxsZWQiLCJ0b1Byb21pc2UiLCJmdW5jIiwic2VsZiIsInVzZWRDQiIsInByb21pc2UiLCJmdWxmaWxsIiwicmVzcCIsImNhbGxiYWNrIiwibWVzZyIsImFkYXB0ZXJGdW4iLCJfY2xvc2VkIiwiX2Rlc3Ryb3llZCIsImxvZ0FyZ3MiLCJvcmlnQ2FsbGJhY2siLCJyZXNwb25zZUFyZ3MiLCJsb2dBcGlDYWxsIiwidGFza3F1ZXVlIiwiaXNSZWFkeSIsImFkZFRhc2siLCJmYWlsZWQiLCJwaWNrIiwiaGFzTG9jYWwiLCJpZGVudGl0eUZ1bmN0aW9uIiwiZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQiLCJvayIsImJ1bGtHZXQiLCJkYiIsIm9wdHMiLCJyZXF1ZXN0cyIsImRvY3MiLCJyZXF1ZXN0c0J5SWQiLCJyZXF1ZXN0IiwibnVtRG9jcyIsIm51bURvbmUiLCJwZXJEb2NSZXN1bHRzIiwiY2hlY2tEb25lIiwicmVzdWx0cyIsImFsbFJlcXVlc3RzIiwibmV4dEJhdGNoIiwidXBUbyIsImJhdGNoIiwiZG9jSWQiLCJkb2NJZHgiLCJkb2NSZXF1ZXN0cyIsImRvY09wdHMiLCJvcGVuX3JldnMiLCJyZXYiLCJmb3JtYXRSZXN1bHQiLCJwcm9jZXNzQmF0Y2giLCJoYXNMb2NhbFN0b3JhZ2UiLCJDaGFuZ2VzIiwiYXR0YWNoQnJvd3NlckV2ZW50cyIsImd1YXJkZWRDb25zb2xlIiwibWV0aG9kIiwiZGVmYXVsdEJhY2tPZmYiLCJtYXhUaW1lb3V0IiwicmFuZG9tTnVtYmVyIiwiZXhwbGFpbkVycm9yIiwic3RhdHVzIiwiZGJOYW1lIiwiaW5wcm9ncmVzcyIsImV2ZW50RnVuY3Rpb24iLCJjaGFuZ2VzT3B0cyIsImNoYW5nZXMiLCJzZXEiLCJzaW5jZSIsImNhbmNlbGxlZCIsIm9uQ2hhbmdlIiwibm90aWZ5TG9jYWxXaW5kb3dzIiwibm90aWZ5IiwiJGluamVjdF9PYmplY3RfYXNzaWduIiwiYXNzaWduIiwibmV4dFNvdXJjZSIsIm5leHRLZXkiLCJQb3VjaEVycm9yIiwicmVhc29uIiwiTUlTU0lOR19CVUxLX0RPQ1MiLCJNSVNTSU5HX0RPQyIsIlJFVl9DT05GTElDVCIsIklOVkFMSURfSUQiLCJNSVNTSU5HX0lEIiwiUkVTRVJWRURfSUQiLCJVTktOT1dOX0VSUk9SIiwiQkFEX0FSRyIsIlFVRVJZX1BBUlNFX0VSUk9SIiwiRE9DX1ZBTElEQVRJT04iLCJCQURfUkVRVUVTVCIsIk5PVF9BTl9PQkpFQ1QiLCJJREJfRVJST1IiLCJJTlZBTElEX1JFViIsIk1JU1NJTkdfU1RVQiIsImNyZWF0ZUVycm9yIiwiQ3VzdG9tUG91Y2hFcnJvciIsIm5hbWVzIiwiZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZSIsImZpbHRlckNoYW5nZSIsInJlcSIsImhhc0ZpbHRlciIsInF1ZXJ5IiwicXVlcnlfcGFyYW1zIiwiZG9jIiwiZmlsdGVyUmV0dXJuIiwidHJ5RmlsdGVyIiwiaW5jbHVkZV9kb2NzIiwiYXR0YWNobWVudHMiLCJhdHQiLCJfYXR0YWNobWVudHMiLCJzdHViIiwiZmxhdHRlbiIsImFycnMiLCJpbnZhbGlkSWRFcnJvciIsImlzUmVtb3RlIiwiX3JlbW90ZSIsInBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lIiwibm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lIiwibm9ybWFsaXplZCIsInFQYXJzZXIiLCJwYXJzZXIiLCJwYXJzZVVyaSIsImV4ZWMiLCJlbmNvZGVkIiwiJDAiLCIkMSIsIiQyIiwic2NvcGVFdmFsIiwic291cmNlIiwic2NvcGUiLCJ1cHNlcnQiLCJkaWZmRnVuIiwiY2F0Y2giLCJkb2NSZXYiLCJfcmV2IiwibmV3RG9jIiwiX2lkIiwicHV0IiwidXBkYXRlZCIsInRyeUFuZFB1dCIsInRoaXNBdG9iIiwiYXRvYiIsInRoaXNCdG9hIiwiYnRvYSIsImNyZWF0ZUJsb2IiLCJwcm9wZXJ0aWVzIiwiYnVpbGRlciIsIkJsb2JCdWlsZGVyIiwiTVNCbG9iQnVpbGRlciIsIk1vekJsb2JCdWlsZGVyIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJnZXRCbG9iIiwiYmluYXJ5U3RyaW5nVG9BcnJheUJ1ZmZlciIsImJpbiIsImJpblN0cmluZ1RvQmx1ZmZlciIsImJpblN0cmluZyIsImI2NFRvQmx1ZmZlciIsImI2NCIsInJlYWRBc0JpbmFyeVN0cmluZyIsImJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiaGFzQmluYXJ5U3RyaW5nIiwib25sb2FkZW5kIiwiYmluYXJ5IiwiYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyIsInJlYWRBc0FycmF5QnVmZmVyIiwiYmxvYlRvQmluYXJ5U3RyaW5nIiwiYmxvYk9yQnVmZmVyIiwiYmxvYlRvQmFzZTY0IiwiYmFzZTY0Iiwic2V0SW1tZWRpYXRlU2hpbSIsInNldEltbWVkaWF0ZSIsImFwcGVuZEJsb2IiLCJzdGFydCIsInNsaWNlQmxvYiIsImFycmF5QnVmZmVyIiwiYXBwZW5kU3RyaW5nIiwic3RyaW5nIiwiYmluYXJ5TWQ1IiwiaW5wdXRJc1N0cmluZyIsImNodW5rU2l6ZSIsImNodW5rcyIsImNlaWwiLCJjdXJyZW50Q2h1bmsiLCJsb2FkTmV4dENodW5rIiwiZG9uZSIsInJhd1RvQmFzZTY0Iiwic3RyaW5nTWQ1IiwicmV2JCQxIiwiZGV0ZXJtaW5pc3RpY19yZXZzIiwibXV0YXRlYWJsZURvYyIsIl9yZXZfdHJlZSIsIndpbm5pbmdSZXYiLCJtZXRhZGF0YSIsIndpbm5pbmdJZCIsIndpbm5pbmdQb3MiLCJ3aW5uaW5nRGVsZXRlZCIsIm5vZGUiLCJ0b1Zpc2l0IiwicmV2X3RyZWUiLCJ0cmVlIiwiYnJhbmNoZXMiLCJwb3MiLCJkZWxldGVkIiwidHJhdmVyc2VSZXZUcmVlIiwicmV2cyIsIm5ld0N0eCIsInNvcnRCeVBvcyIsImNvbGxlY3RMZWF2ZXMiLCJsZWF2ZXMiLCJpc0xlYWYiLCJyZXZlcnNlIiwiY29sbGVjdENvbmZsaWN0cyIsIndpbiIsImNvbmZsaWN0cyIsImxlYWYiLCJyb290VG9MZWFmIiwicGF0aHMiLCJoaXN0b3J5Iiwic29ydEJ5UG9zJDEiLCJpbnNlcnRTb3J0ZWQiLCJjb21wYXJhdG9yIiwibWlkIiwibG93IiwiaGlnaCIsImJpbmFyeVNlYXJjaCIsInNwbGljZSIsInBhdGhUb1RyZWUiLCJudW1TdGVtbWVkIiwicm9vdCIsImN1cnJlbnRMZWFmIiwiY29tcGFyZVRyZWUiLCJtZXJnZVRyZWUiLCJpbl90cmVlMSIsImluX3RyZWUyIiwidHJlZTEiLCJ0cmVlMiIsIm1lcmdlZCIsImRvTWVyZ2UiLCJkb250RXhwYW5kIiwicmVzdHJlZSIsImJyYW5jaCIsInQxIiwidDIiLCJkaWZmIiwiY2FuZGlkYXRlUGFyZW50cyIsInRyZWVzIiwicGFyZW50SWR4IiwiZWxlbWVudHNMZW4iLCJtZXJnZSIsImRlcHRoIiwibmV3VHJlZSIsInN0ZW1tZWQiLCJzdGVtbWVkUmV2cyIsInJldkhhc2giLCJzdGVtIiwiZ2V0VHJlZXMiLCJpc0RlbGV0ZWQiLCJpc0xvY2FsSWQiLCJDaGFuZ2VzJDEiLCJjb21wbGV0ZSIsImVlIiwib25EZXN0cm95IiwiY2FuY2VsIiwicGVuZGluZyIsImxhc3RTZXEiLCJpc0NhbmNlbGxlZCIsInRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lciIsInZhbGlkYXRlQ2hhbmdlcyIsInByb2Nlc3NDaGFuZ2UiLCJjaGFuZ2VMaXN0IiwiX2NvbmZsaWN0cyIsImNvbXBhcmUiLCJsZWZ0IiwicmlnaHQiLCJ5YW5rRXJyb3IiLCJjb21wYXJlQnlJZFRoZW5SZXYiLCJpZENvbXBhcmUiLCJfcmV2aXNpb25zIiwiQWJzdHJhY3RQb3VjaERCIiwiVGFza1F1ZXVlIiwiUG91Y2hEQiIsIl9fb3B0cyIsImF1dG9fY29tcGFjdGlvbiIsImJhY2tlbmQiLCJhZGFwdGVyIiwiYWRhcHRlcnMiLCJwcmVmZXJyZWRBZGFwdGVycyIsImFkYXB0ZXJOYW1lIiwidXNlX3ByZWZpeCIsInBhcnNlQWRhcHRlciIsIl9hZGFwdGVyIiwidmFsaWQiLCJ2aWV3X2FkYXB0ZXIiLCJmYWlsIiwib25EZXN0cm95ZWQiLCJmcm9tX2NvbnN0cnVjdG9yIiwib25DbG9zZWQiLCJwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24iLCJyZWFkeSIsIl9jaGFuZ2VzRmlsdGVyUGx1Z2luIiwidmFsaWRhdGUiLCJkb0NoYW5nZXMiLCJjb250aW51b3VzIiwibGl2ZSIsIm5vcm1hbGl6ZSIsInNob3VsZEZpbHRlciIsImRlc2NlbmRpbmciLCJsaW1pdCIsIm5ld1Byb21pc2UiLCJfY2hhbmdlcyIsInVwZGF0ZV9zZXEiLCJwb3N0IiwiYnVsa0RvY3MiLCJfcHV0TG9jYWwiLCJfZGVsZXRlZCIsIl9yZW1vdmVMb2NhbCIsIm9sZFJldklkIiwibmV3UmV2TnVtIiwibmV3UmV2SWQiLCJwdXREb2MiLCJfcHV0IiwibmV3X2VkaXRzIiwiZm9yY2UiLCJwdXRBdHRhY2htZW50IiwiYXR0YWNobWVudElkIiwiYXBpIiwiY3JlYXRlQXR0YWNobWVudCIsInByZXZyZXZwb3MiLCJjb250ZW50X3R5cGUiLCJyZXZwb3MiLCJyZW1vdmVBdHRhY2htZW50IiwiZG9jT3JJZCIsIm9wdHNPclJldiIsIndhc19kZWxldGUiLCJyZXZzRGlmZiIsIm1pc3NpbmciLCJhZGRUb01pc3NpbmciLCJyZXZJZCIsIl9nZXRSZXZpc2lvblRyZWUiLCJtaXNzaW5nRm9ySWQiLCJwcm9jZXNzRG9jIiwibWlzc2luZ09iaiIsImNvbXBhY3REb2N1bWVudCIsIm1heEhlaWdodCIsInJldlRyZWUiLCJlZGdlcyIsInBybnQiLCJlZGdlIiwiY29tcHV0ZUhlaWdodCIsImNhbmRpZGF0ZXMiLCJfZG9Db21wYWN0aW9uIiwiY29tcGFjdCIsIl9jb21wYWN0aW9uUXVldWUiLCJkb05leHRDb21wYWN0aW9uIiwibGFzdF9zZXEiLCJfY29tcGFjdCIsInJldHVybl9kb2NzIiwicHJvbWlzZXMiLCJyb3ciLCJhbGwiLCJfZ2V0TG9jYWwiLCJmaW5pc2hPcGVuUmV2cyIsImxhdGVzdCIsIl9nZXQiLCJyZXZzX2luZm8iLCJzcGxpdHRlZFJldiIsInJldk5vIiwiY3VycmVudFBhdGgiLCJoYXNoSW5kZXgiLCJpbmRleE9mUmV2IiwiaG93TWFueSIsIl9yZXZzX2luZm8iLCJfZ2V0QXR0YWNobWVudCIsImdldEF0dGFjaG1lbnQiLCJhbGxEb2NzIiwic2tpcCIsInN0YXJ0X2tleSIsInN0YXJ0a2V5IiwiZW5kX2tleSIsImVuZGtleSIsImluY29tcGF0aWJsZU9wdCIsImFsbERvY3NLZXlzUGFyc2UiLCJfYWxsRG9jcyIsImNsb3NlIiwiX2Nsb3NlIiwiX2luZm8iLCJkYl9uYW1lIiwiX3R5cGUiLCJhdHRhY2htZW50RXJyb3IiLCJjaGFyQXQiLCJhdHRhY2htZW50TmFtZUVycm9yIiwiYXR0cyIsImNsZWFuRG9jcyIsIl9idWxrRG9jcyIsInJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UiLCJkZXBlbmRlbnREYiIsImRiT3B0aW9ucyIsImRlcERCIiwiZGVwZW5kZW50RGJzIiwidXNlUHJlZml4IiwiZGVzdHJveURiIiwiX2Rlc3Ryb3kiLCJsb2NhbERvYyIsImRlbGV0ZWRNYXAiLCJ0cnVlTmFtZSIsImV4ZWN1dGUiLCJBYm9ydENvbnRyb2xsZXIiLCJhYm9ydCIsImYkMSIsImZldGNoIiwiaCIsIkhlYWRlcnMiLCJldmVudEVtaXR0ZXIiLCJQb3VjaCIsImRlc3RydWN0TGlzdGVuZXJzIiwiX2Rlc3RydWN0aW9uTGlzdGVuZXJzIiwiZGJMaXN0Iiwic2V0VXBFdmVudEVtaXR0ZXIiLCJhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzIiwicGx1Z2luIiwiX19kZWZhdWx0cyIsImRlZmF1bHRzIiwiZGVmYXVsdE9wdHMiLCJQb3VjaEFsdCIsInVybCIsImdldEZpZWxkRnJvbURvYyIsInBhcnNlZEZpZWxkIiwicGFyc2VGaWVsZCIsImZpZWxkTmFtZSIsImZpZWxkcyIsImNvbWJpbmF0aW9uRmllbGRzIiwiaXNDb21iaW5hdGlvbmFsRmllbGQiLCJmaWVsZCIsImdldEtleSIsIm1lcmdlQW5kZWRTZWxlY3RvcnMiLCJzZWxlY3RvcnMiLCIkb3IiLCIkbm9yIiwibWF0Y2hlciIsIiRlcSIsImxvbmdlc3QiLCJmaWVsZE1hdGNoZXJzIiwib3BlcmF0b3IiLCIkZ3RlIiwiJGd0IiwibWVyZ2VHdEd0ZSIsIiRsdGUiLCIkbHQiLCJtZXJnZUx0THRlIiwiJG5lIiwibWVyZ2VOZSIsIm1lcmdlRXEiLCIkcmVnZXgiLCJtZXJnZVJlZ2V4IiwibWFzc2FnZVNlbGVjdG9yIiwid2FzQW5kZWQiLCJpc0FuZEluU2VsZWN0b3IiLCJpc0FuZCIsIm1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQiLCJvck9yTm9yIiwic3ViU2VsZWN0b3IiLCJjb2xsYXRlIiwibm9ybWFsaXplS2V5IiwiYWkiLCJiaSIsInN0cmluZ0NvbGxhdGUiLCJhcnJheUNvbGxhdGUiLCJhayIsImJrIiwib2JqZWN0Q29sbGF0ZSIsIkluZmluaXR5Iiwib3JpZ0tleSIsInRvSlNPTiIsImluZGV4aWZ5IiwiZXhwRm9ybWF0IiwidG9FeHBvbmVudGlhbCIsIm1hZ25pdHVkZSIsIm5lZyIsIm1hZ1N0cmluZyIsInBhZFdpdGgiLCJ1cFRvTGVuZ3RoIiwidGFyZ2V0TGVuZ3RoIiwicGFkIiwiZmFjdG9yIiwiZmFjdG9yU3RyIiwidG9GaXhlZCIsIm51bVRvSW5kZXhhYmxlU3RyaW5nIiwidG9JbmRleGFibGVTdHJpbmciLCJvYmpLZXkiLCJwYXJzZU51bWJlciIsIm9yaWdpbmFsSWR4IiwibnVtQXNTdHJpbmciLCJtYWdBc1N0cmluZyIsImZpbHRlckluTWVtb3J5RmllbGRzIiwicm93cyIsInJlcXVlc3REZWYiLCJpbk1lbW9yeUZpZWxkcyIsInJvd0ZpbHRlciIsImZpZWxkU29ydGVyIiwiZ2V0RmllbGRWYWx1ZXNBc0FycmF5Iiwic29ydGluZyIsImFSb3ciLCJiUm93IiwiY29sbGF0aW9uIiwiY3JlYXRlRmllbGRTb3J0ZXIiLCJkb2NGaWVsZFZhbHVlIiwic29tZSIsIm9yTWF0Y2hlcnMiLCJtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yIiwibWF0Y2hTZWxlY3RvciIsIm1heWJlVXNlck9wZXJhdG9yIiwidXNlclZhbHVlIiwic3ViUGFyc2VkRmllbGQiLCJzdWJEb2NGaWVsZFZhbHVlIiwidXNlck9wZXJhdG9yIiwibWF0Y2hlcnMiLCJmaWVsZEV4aXN0cyIsImZpZWxkSXNOb3RVbmRlZmluZWQiLCJhcnJheUNvbnRhaW5zVmFsdWUiLCJkb2NGaWVsZFZhbHVlSXRlbSIsIm1vZEZpZWxkIiwibmVWYWx1ZSIsImFycmF5U2l6ZSIsImFycmF5Q29udGFpbnNBbGxWYWx1ZXMiLCJyZWdleFZhbHVlIiwicmVnZXhNYXRjaCIsInR5cGVNYXRjaCIsImZpbHRlck5hbWUiLCJjaGFuZ2VzSGFuZGxlciIsImRvY19pZHMiLCJ2aWV3TmFtZSIsImRkb2MiLCJtYXBGdW4iLCJ2aWV3cyIsInJvd3NNYXRjaGVkIiwibWF0Y2hlc1NlbGVjdG9yIiwiZmlsdGVyRnVuIiwiZmlsdGVycyIsInRvT2JqZWN0IiwidmVyc2lvbiIsInJlc2VydmVkV29yZHMiLCJkYXRhV29yZHMiLCJwYXJzZVJldmlzaW9uSW5mbyIsInBhcnNlRG9jIiwibmV3RWRpdHMiLCJkYk9wdHMiLCJuUmV2TnVtIiwicmV2SW5mbyIsInJldmlzaW9ucyIsInJldmlzaW9uSWRzIiwibWFrZVJldlRyZWVGcm9tUmV2aXNpb25zIiwic3BlY2lhbEtleSIsInByZXByb2Nlc3NTdHJpbmciLCJibG9iVHlwZSIsImFzQmluYXJ5IiwicGFyc2VCYXNlNjQiLCJkaWdlc3QiLCJwcmVwcm9jZXNzQXR0YWNobWVudCIsIm1kNSIsInByZXByb2Nlc3NCbG9iIiwidXBkYXRlRG9jIiwicmV2TGltaXQiLCJwcmV2IiwiZG9jSW5mbyIsIndyaXRlRG9jIiwic3BsaXRSZXYiLCJ0YXJnZXRQb3MiLCJ0YXJnZXRJZCIsInJldkV4aXN0cyIsInByZXZpb3VzV2lubmluZ1JldiIsInByZXZpb3VzbHlEZWxldGVkIiwiaXNSb290IiwibmV3UmV2IiwicmV2X21hcCIsIndpbm5pbmdSZXYkJDEiLCJ3aW5uaW5nUmV2SXNEZWxldGVkIiwiZGVsdGEiLCJwcm9jZXNzRG9jcyIsImRvY0luZm9zIiwiZmV0Y2hlZERvY3MiLCJ0eCIsIm92ZXJhbGxDYWxsYmFjayIsImlkc1RvRG9jcyIsImRvY3NEb25lIiwiZG9jc1RvRG8iLCJjaGVja0FsbERvY3NEb25lIiwiY3VycmVudERvYyIsInJlc3VsdHNJZHgiLCJkb2NXcml0dGVuIiwibmV4dERvYyIsInJvb3RJc01pc3NpbmciLCJpbnNlcnREb2MiLCJET0NfU1RPUkUiLCJNRVRBX1NUT1JFIiwic2FmZUpzb25TdHJpbmdpZnkiLCJqc29uIiwiaWRiRXJyb3IiLCJlbmNvZGVNZXRhZGF0YSIsImRlbGV0ZWRPckxvY2FsIiwiZGVjb2RlTWV0YWRhdGEiLCJzdG9yZWRPYmplY3QiLCJzYWZlSnNvblBhcnNlIiwiZGVjb2RlRG9jIiwiX2RvY19pZF9yZXYiLCJsYXN0SW5kZXhPZiIsInJlYWRCbG9iRGF0YSIsImFzQmxvYiIsImZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeSIsInR4biIsImF0dE9iaiIsIm9iamVjdFN0b3JlIiwib25zdWNjZXNzIiwiZmV0Y2hBdHRhY2htZW50IiwicG9zdFByb2Nlc3NBdHRhY2htZW50cyIsImF0dE5hbWVzIiwiY29tcGFjdFJldnMiLCJwb3NzaWJseU9ycGhhbmVkRGlnZXN0cyIsInNlcVN0b3JlIiwiYXR0U3RvcmUiLCJhdHRBbmRTZXFTdG9yZSIsIklEQktleVJhbmdlIiwiYm91bmQiLCJkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzIiwib3BlbkN1cnNvciIsIm9ubHkiLCJjdXJzb3IiLCJkaWdlc3RTZXEiLCJwcmltYXJ5S2V5IiwiY29udGludWUiLCJvcGVuVHJhbnNhY3Rpb25TYWZlbHkiLCJpZGIiLCJzdG9yZXMiLCJ0cmFuc2FjdGlvbiIsImlkYkJ1bGtEb2NzIiwiZG9jU3RvcmUiLCJieVNlcVN0b3JlIiwiYXR0YWNoU3RvcmUiLCJhdHRhY2hBbmRTZXFTdG9yZSIsIm1ldGFTdG9yZSIsImRvY0luZm9FcnJvciIsIm1ldGFEb2MiLCJhbGxEb2NzUHJvY2Vzc2VkIiwiZG9jQ291bnREZWx0YSIsInByZWNvbmRpdGlvbkVycm9yZWQiLCJfbWV0YSIsImJsb2JTdXBwb3J0Iiwib25BbGxEb2NzUHJvY2Vzc2VkIiwidXBkYXRlRG9jQ291bnRJZlJlYWR5IiwiZG9jQ291bnQiLCJuZXdSZXZJc0RlbGV0ZWQiLCJpc1VwZGF0ZSIsImNvbGxlY3RSZXN1bHRzIiwiZmluaXNoRG9jIiwiYXR0YWNobWVudFNhdmVkIiwibmV3QXR0Iiwic2F2ZUF0dGFjaG1lbnQiLCJ3cml0ZUF0dGFjaG1lbnRzIiwiYWZ0ZXJQdXREb2MiLCJyZXZzVG9EZWxldGUiLCJjb21wYWN0VHJlZSIsIm1ldGFkYXRhVG9TdG9yZSIsImFmdGVyUHV0TWV0YWRhdGEiLCJhdHRzQWRkZWQiLCJhdHRzVG9BZGQiLCJvbmVycm9yIiwiaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzIiwicHV0UmVxIiwib3ZlcmFsbEVyciIsImRvY3YiLCJyZWN2IiwicHJvY2Vzc2VkQXR0YWNobWVudCIsInByZXByb2Nlc3NBdHRhY2htZW50cyIsInR4blJlc3VsdCIsIm9uYWJvcnQiLCJvbnRpbWVvdXQiLCJvbmNvbXBsZXRlIiwiZmluaXNoIiwiZGlnZXN0cyIsImZpbGVuYW1lIiwidmVyaWZ5QXR0YWNobWVudCIsImF0dEVyciIsInZlcmlmeUF0dGFjaG1lbnRzIiwibnVtRmV0Y2hlZCIsInJldnNfbGltaXQiLCJyZWFkTWV0YWRhdGEiLCJmZXRjaEV4aXN0aW5nRG9jcyIsInN0YXJ0VHJhbnNhY3Rpb24iLCJydW5CYXRjaGVkQ3Vyc29yIiwia2V5UmFuZ2UiLCJiYXRjaFNpemUiLCJvbkJhdGNoIiwia2V5c0JhdGNoIiwidmFsdWVzQmF0Y2giLCJwc2V1ZG9DdXJzb3IiLCJvbkdldEFsbCIsIm9uR2V0QWxsS2V5cyIsIm9uQ3Vyc29yIiwiZ2V0QWxsIiwiZ2V0QWxsS2V5cyIsIm5ld0tleVJhbmdlIiwibGFzdEtleSIsInVwcGVyIiwidXBwZXJPcGVuIiwiY29kZSIsImxvd2VyQm91bmQiLCJpZGJBbGxEb2NzIiwia2V5UmFuZ2VFcnJvciIsImluY2x1c2l2ZUVuZCIsImluY2x1c2l2ZV9lbmQiLCJ1cHBlckJvdW5kIiwiY3JlYXRlS2V5UmFuZ2UiLCJvblJlc3VsdHNSZWFkeSIsInVwZGF0ZVNlcSIsIm9uU3VjY2VzcyIsImRvY0lkUmV2SW5kZXgiLCJhbGxEb2NzSW5uZXIiLCJmZXRjaERvY0FzeW5jaHJvbm91c2x5IiwiYmF0Y2hWYWx1ZXMiLCJiYXRjaFZhbHVlIiwiYmF0Y2hLZXlzIiwicmV0dXJuVmFsIiwidG90YWxfcm93cyIsIm1heEtleSIsImFsbERvY3NLZXlzIiwicnVubmluZyIsImFwcGx5TmV4dCIsImRvY0lkcyIsIm51bVJlc3VsdHMiLCJkb2NJZHNUb01ldGFkYXRhIiwib25HZXRNZXRhZGF0YSIsImRvY0lkUmV2Iiwib2JqZWN0U3RvcmVzIiwid2lubmluZ0RvY3MiLCJtZXRhZGF0YXMiLCJmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YSIsIndpbm5pbmdEb2MiLCJwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jIiwib25CYXRjaERvbmUiLCJmaWx0ZXJlZCIsImJsb2JTdXBwb3J0UHJvbWlzZSIsImNhY2hlZERCcyIsIm9wZW5SZXFMaXN0IiwiSWRiUG91Y2giLCJ0cnlDb2RlIiwiZW5xdWV1ZVRhc2siLCJ0aGlzQ2FsbGJhY2siLCJpZGJHbG9iYWxGYWlsdXJlRXJyb3IiLCJlbnJpY2hDYWxsYmFja0Vycm9yIiwiYWRkRGVsZXRlZE9yTG9jYWxJbmRleCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwibWlncmF0ZUxvY2FsU3RvcmUiLCJsb2NhbFN0b3JlIiwibG9jYWwiLCJyYW5nZSIsInNlcUN1cnNvciIsIm1pZ3JhdGVBdHRzQW5kU2VxcyIsImRpZ2VzdE1hcCIsIm1pZ3JhdGVNZXRhZGF0YSIsIm9uR2V0TWV0YWRhdGFTZXEiLCJtZXRhZGF0YVNlcSIsImZldGNoTWV0YWRhdGFTZXEiLCJpbnN0YW5jZUlkIiwicmVxT3B0cyIsImhpc3RvcnlOb2RlIiwiYXR0YWNoSWQiLCJhdHRhY2htZW50IiwiYmxvYkRhdGEiLCJkb2NfY291bnQiLCJpZGJfYXR0YWNobWVudF9mb3JtYXQiLCJvbGRSZXYiLCJvU3RvcmUiLCJvbGREb2MiLCJvcGVuUmVxIiwiaW5kZXhlZERCIiwiZGVsZXRlRGF0YWJhc2UiLCJjYWNoZWQiLCJnbG9iYWwiLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwib2xkVmVyc2lvbiIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJjcmVhdGVTY2hlbWEiLCJjdXJyZW50VGFyZ2V0IiwiY3JlYXRlTG9jYWxTdG9yZVNjaGVtYSIsImFkZEF0dGFjaEFuZFNlcVN0b3JlIiwibWlncmF0aW9ucyIsIm1pZ3JhdGlvbiIsIm9udmVyc2lvbmNoYW5nZSIsInN0b3JlZE1ldGFEb2MiLCJjb21wbGV0ZVNldHVwIiwic3RvcmVNZXRhRG9jSWZSZWFkeSIsImluc3RhbmNlS2V5IiwiY291bnREb2NzIiwiYmxvYiQkMSIsIm1hdGNoZWRDaHJvbWUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaGVkRWRnZSIsImNoZWNrQmxvYlN1cHBvcnQiLCJzdXBwb3J0c0J1bGtHZXRNYXAiLCJyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlciIsImVuY29kZURvY0lkIiwicHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEiLCJnZXRIb3N0IiwicHJvdG9jb2wiLCJoYXNVcmxQcmVmaXgiLCJ1c2VyIiwicGFzc3dvcmQiLCJhdXRoIiwidXNlcm5hbWUiLCJnZW5EQlVybCIsImdlblVybCIsInBhdGhEZWwiLCJob3N0IiwicG9ydCIsInBhcmFtc1RvU3RyIiwiSHR0cFBvdWNoIiwiZGJVcmwiLCJzZXR1cFByb21pc2UiLCJvdXJGZXRjaCIsImhlYWRlcnMiLCJjcmVkZW50aWFscyIsIm5BdXRoIiwidG9rZW4iLCJ1YSIsImlzSUUiLCJpc1RyaWRlbnQiLCJpc0VkZ2UiLCJpc0dFVCIsInNob3VsZENhY2hlQnVzdCIsIm5vdyIsImFkYXB0ZXJGdW4kJDEiLCJzZXR1cCIsImZldGNoSlNPTiIsInNraXBfc2V0dXAiLCJlbmNvZGVBdHRhY2htZW50SWQiLCJ1dWlkJCQxIiwicGluZyIsImNvbXBhY3RfcnVubmluZyIsImludGVydmFsIiwiZG9CdWxrR2V0IiwiZG9CdWxrR2V0U2hpbSIsIm51bUJhdGNoZXMiLCJvblJlc3VsdCIsImJhdGNoTnVtIiwic3ViT3B0cyIsInN1cHBvcnRzQnVsa0dldCIsImZldGNoQXR0YWNobWVudHMiLCJmaWxlbmFtZXMiLCJwcm9taXNlRmFjdG9yaWVzIiwiZG9OZXh0IiwicnVuTmV4dEJhdGNoIiwib25FcnJvciIsInRoaXNFcnIiLCJwb29sIiwidHlwZUZpZWxkRGVzY3JpcHRvciIsIl9fcHJvdG9fXyIsImZldGNoRGF0YSIsImRvY09yRG9jcyIsImNvbnRlbnRUeXBlIiwicHJvY2VzcyIsImJyb3dzZXIiLCJwYXJhbVN0ciIsImJhdGNoX3NpemUiLCJoZWFydGJlYXQiLCJyZXF1ZXN0VGltZW91dCIsImxlZnRUb0ZldGNoIiwiZmVlZCIsInNlcV9pbnRlcnZhbCIsInBhcmFtX25hbWUiLCJsYXN0RmV0Y2hlZFNlcSIsImNvbnRyb2xsZXIiLCJhYm9ydGVkIiwiZmV0Y2hPcHRzIiwic2lnbmFsIiwiZmV0Y2hlZCIsInJhd19yZXN1bHRzX2xlbmd0aCIsImZpbmlzaGVkIiwiUXVlcnlQYXJzZUVycm9yIiwiTm90Rm91bmRFcnJvciIsIkJ1aWx0SW5FcnJvciIsInByb21pc2VkQ2FsbGJhY2siLCJzZXF1ZW50aWFsaXplIiwicHJvbWlzZUZhY3RvcnkiLCJ1bmlxIiwidGhlU2V0IiwibWFwVG9LZXlzQXJyYXkiLCJjcmVhdGVCdWlsdEluRXJyb3IiLCJqTGVuIiwiak51bSIsImV2YWxGdW5jdGlvbldpdGhFdmFsIiwiVGFza1F1ZXVlJDEiLCJjcmVhdGVWaWV3Iiwic291cmNlREIiLCJyZWR1Y2VGdW4iLCJ0ZW1wb3JhcnkiLCJsb2NhbERvY05hbWUiLCJjYWNoZWRWaWV3cyIsInZpZXdTaWduYXR1cmUiLCJjcmVhdGVWaWV3U2lnbmF0dXJlIiwiX2NhY2hlZFZpZXdzIiwicHJvbWlzZUZvclZpZXciLCJkZXBEYk5hbWUiLCJmdWxsVmlld05hbWUiLCJkZXBEYnMiLCJsYXN0U2VxRG9jIiwicGVyc2lzdGVudFF1ZXVlcyIsInRlbXBWaWV3UXVldWUiLCJwYXJzZVZpZXdOYW1lIiwiZW1pdEVycm9yIiwiYnVpbHRJblJlZHVjZSIsInN1bXNxciIsIl9zdW1zcXIiLCJhYnN0cmFjdCIsIm1hcHBlciIsInJlZHVjZXIiLCJkZG9jVmFsaWRhdG9yIiwidHJ5TWFwIiwidHJ5UmVkdWNlIiwicmVyZWR1Y2UiLCJvdXRwdXQiLCJzb3J0QnlLZXlUaGVuVmFsdWUiLCJrZXlDb21wYXJlIiwic2xpY2VSZXN1bHRzIiwicm93VG9Eb2NJZCIsInBvc3Rwcm9jZXNzQXR0YWNobWVudHMiLCJhZGRIdHRwUGFyYW0iLCJwYXJhbU5hbWUiLCJhc0pzb24iLCJjb2VyY2VJbnRlZ2VyIiwiaW50ZWdlckNhbmRpZGF0ZSIsImFzTnVtYmVyIiwiY2hlY2tRdWVyeVBhcnNlRXJyb3IiLCJzdGFydGtleU5hbWUiLCJlbmRrZXlOYW1lIiwiZ3JvdXBfbGV2ZWwiLCJvcHRpb25OYW1lIiwiY2hlY2tQb3NpdGl2ZUludGVnZXIiLCJkZWZhdWx0c1RvIiwiZ2V0RG9jc1RvUGVyc2lzdCIsImRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzIiwibWV0YURvY0lkIiwiZGVmYXVsdE1ldGFEb2MiLCJkb2NEYXRhIiwiaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzIiwiaXNHZW5PbmUiLCJnZXRLZXlWYWx1ZURvY3MiLCJrdkRvY3NSZXMiLCJrdkRvY3MiLCJvbGRLZXlzIiwia2V5VmFsdWUiLCJuZXdLZXlzIiwia3ZEb2MiLCJwcm9jZXNzS2V5VmFsdWVEb2NzIiwiZ2V0UXVldWUiLCJ1cGRhdGVWaWV3IiwibWFwUmVzdWx0cyIsImN1cnJlbnRTZXEiLCJsaXN0T2ZEb2NzVG9QZXJzaXN0IiwiZG9jc1RvUGVyc2lzdCIsInNhdmVLZXlWYWx1ZXMiLCJpbmRleGVkX2RvY3MiLCJwcm9ncmVzcyIsInByb2Nlc3NOZXh0QmF0Y2giLCJjaGFuZ2VzX2JhdGNoX3NpemUiLCJjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMiLCJjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyIsInJlc3VsdHNfY291bnQiLCJlbWl0dGVkS2V5VmFsdWUiLCJjb21wbGV4S2V5IiwidXBkYXRlVmlld0luUXVldWUiLCJxdWVyeVZpZXciLCJ0b3RhbFJvd3MiLCJzaG91bGRSZWR1Y2UiLCJmZXRjaEZyb21WaWV3Iiwidmlld09wdHMiLCJleHBlY3RlZEtleXMiLCJwYXJzZWRLZXlBbmREb2NJZCIsInBhcnNlZFN0ciIsInBhcnNlSW5kZXhhYmxlU3RyaW5nIiwib25NYXBSZXN1bHRzUmVhZHkiLCJmaW5hbFJlc3VsdHMiLCJzaG91bGRHcm91cCIsImx2bCIsIlBPU0lUSVZFX0lORklOSVRZIiwibGFzdCIsImdyb3VwS2V5IiwicmVkdWNlVHJ5IiwicmVkdWNlVmlldyIsImFsbERvY3NSZXMiLCJkb2NJZHNUb0RvY3MiLCJmZXRjaFByb21pc2VzIiwia2V5U3RhcnQiLCJrZXlFbmQiLCJxdWVyeVZpZXdJblF1ZXVlIiwicXVlcnlQcm9taXNlZCIsIl9xdWVyeSIsImN1c3RvbVF1ZXJ5Iiwia2V5c0FzU3RyaW5nIiwiaHR0cFF1ZXJ5IiwidXBkYXRlVmlld09wdHMiLCJ2aWV3X3VwZGF0ZV9jaGFuZ2VzX2JhdGNoX3NpemUiLCJmaW5hbFByb21pc2VGYWN0b3J5IiwiZGVzaWduRG9jTmFtZSIsInN0YWxlIiwiY29lcmNlT3B0aW9ucyIsInZpZXdDbGVhbnVwIiwiX3ZpZXdDbGVhbnVwIiwiY3VzdG9tVmlld0NsZWFudXAiLCJodHRwVmlld0NsZWFudXAiLCJkb2NzVG9WaWV3cyIsInZpZXdzVG9TdGF0dXMiLCJkZG9jTmFtZSIsInZpZXdEQk5hbWVzIiwic3RhdHVzSXNHb29kIiwidmlld0RCTmFtZSIsImRlc3Ryb3lQcm9taXNlcyIsImxvY2FsVmlld0NsZWFudXAiLCJjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZSIsIm9yaWdNYXAiLCJyZWR1Y2VGdW5TdHJpbmciLCJidWlsdEluIiwiZ2V0QnVpbHRJbiIsIm1hcHJlZHVjZSIsImlzR2VuT25lJDEiLCJnZXREb2NBdHRhY2htZW50cyIsImdldERvY3MiLCJkaWZmcyIsInJlc3VsdERvY3MiLCJmZXRjaFJldmlzaW9uT25lRG9jcyIsImhhc0NvbmZsaWN0cyIsImJ1bGtHZXRPcHRzIiwibWlzc2luZ1JldiIsImNyZWF0ZUJ1bGtHZXRPcHRzIiwiYnVsa0dldFJlc3BvbnNlIiwiYnVsa0dldEluZm8iLCJyZW1vdGVEb2MiLCJkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cyIsImZpbGVIYXNDaGFuZ2VkIiwiZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UiLCJ1cGRhdGVDaGVja3BvaW50IiwiY2hlY2twb2ludCIsInNlc3Npb24iLCJyZXR1cm5WYWx1ZSIsInNlc3Npb25faWQiLCJyZXBsaWNhdG9yIiwiQ2hlY2twb2ludGVyIiwid3JpdGVDaGVja3BvaW50IiwidXBkYXRlVGFyZ2V0IiwidXBkYXRlU291cmNlIiwid3JpdGVUYXJnZXRDaGVja3BvaW50Iiwid3JpdGVTb3VyY2VDaGVja3BvaW50IiwiaXNGb3JiaWRkZW5FcnJvciIsImNvbXBhcmlzb25zIiwidGFyZ2V0RG9jIiwic291cmNlRG9jIiwic3JjRG9jIiwidGd0RG9jIiwiY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeSIsInNvdXJjZUhpc3RvcnkiLCJ0YXJnZXRIaXN0b3J5IiwiUyIsInNvdXJjZVJlc3QiLCJUIiwidGFyZ2V0UmVzdCIsImhhc1Nlc3Npb25JZCIsImNvbXBhcmVSZXBsaWNhdGlvbkxvZ3MiLCJzZXNzaW9uSWQiLCJwcm9wcyIsInJlc3QiLCJmbG9vciIsImdldENoZWNrcG9pbnQiLCJnZW5lcmF0ZVJlcGxpY2F0aW9uSWQiLCJxdWVyeVBhcmFtcyIsImZpbHRlclZpZXdOYW1lIiwic29ydE9iamVjdFByb3BlcnRpZXNCeUtleSIsInF1ZXJ5RGF0YSIsIm1kNXN1bSIsInJlcGxpY2F0ZSIsImN1cnJlbnRCYXRjaCIsInJlcElkIiwiY2hlY2twb2ludGVyIiwiYmF0Y2hlcyIsInBlbmRpbmdCYXRjaCIsIndyaXRpbmdDaGVja3BvaW50IiwiY2hhbmdlc0NvbXBsZXRlZCIsInJlcGxpY2F0aW9uQ29tcGxldGVkIiwiYmF0Y2hlc19saW1pdCIsImNoYW5nZXNQZW5kaW5nIiwiY2hhbmdlZERvY3MiLCJzdGFydF90aW1lIiwiZG9jc19yZWFkIiwiZG9jc193cml0dGVuIiwiZG9jX3dyaXRlX2ZhaWx1cmVzIiwiaW5pdENoZWNrcG9pbnRlciIsImNoZWNrcG9pbnRPcHRzIiwid3JpdGVEb2NzIiwiYnVsa09wdHMiLCJjb21wbGV0ZVJlcGxpY2F0aW9uIiwiZXJyb3JzQnlJZCIsImVycm9yc05vIiwiZXJyb3JOYW1lIiwiZmluaXNoQmF0Y2giLCJvdXRSZXN1bHQiLCJnZXRDaGFuZ2VzIiwib25DaGVja3BvaW50RXJyb3IiLCJnZXRCYXRjaERvY3MiLCJnb3QiLCJzdGFydE5leHRCYXRjaCIsImFib3J0UmVwbGljYXRpb24iLCJwcm9jZXNzUGVuZGluZ0JhdGNoIiwiaW1tZWRpYXRlJCQxIiwiZmF0YWxFcnJvciIsImVuZF90aW1lIiwicmV0cnkiLCJiYWNrX29mZl9mdW5jdGlvbiIsImJhY2tPZmZTZXQiLCJjdXJyZW50X2JhY2tfb2ZmIiwiYmFja09mZiIsIm9uQ2hhbmdlc0NvbXBsZXRlIiwib25DaGFuZ2VzRXJyb3IiLCJfYWJvcnRDaGFuZ2VzIiwiYWJvcnRDaGFuZ2VzIiwic3RhcnRDaGFuZ2VzIiwiX2FkZGVkTGlzdGVuZXJzIiwiUmVwbGljYXRpb24iLCJ0b1BvdWNoIiwiUG91Y2hDb25zdHJ1Y3RvciIsInJlcGxpY2F0ZVdyYXBwZXIiLCJyZXBsaWNhdGVSZXQiLCJTeW5jIiwiY2FuY2VsZWQiLCJvcHRzUHVzaCIsIm9wdHNQdWxsIiwicHVsbCIsInB1bGxDaGFuZ2UiLCJwdXNoQ2hhbmdlIiwicHVzaERlbmllZCIsInB1bGxEZW5pZWQiLCJwdXNoUGF1c2VkIiwicHVsbFBhdXNlZCIsInB1c2hBY3RpdmUiLCJwdWxsQWN0aXZlIiwicmVtb3ZlZCIsInJlbW92ZUFsbCIsImFkZE9uZUxpc3RlbmVyIiwib3V0IiwiY2xlYW51cCIsIl9yZWFkeUNhbGxlZCIsInJlcGxpY2F0ZU1ldGhvZHMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZHJhaW5RdWV1ZSIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIm5vb3AiLCJlbnYiLCJhcmd2IiwidmVyc2lvbnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIkZVTkNfRVJST1JfVEVYVCIsIlBMQUNFSE9MREVSIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsImZ1bmNUYWciLCJnZW5UYWciLCJtYXBUYWciLCJudW1iZXJUYWciLCJvYmplY3RUYWciLCJyZWdleHBUYWciLCJzZXRUYWciLCJzdHJpbmdUYWciLCJzeW1ib2xUYWciLCJ3ZWFrTWFwVGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsImZsb2F0MzJUYWciLCJmbG9hdDY0VGFnIiwiaW50OFRhZyIsImludDE2VGFnIiwiaW50MzJUYWciLCJ1aW50OFRhZyIsInVpbnQxNlRhZyIsInVpbnQzMlRhZyIsInJlRW1wdHlTdHJpbmdMZWFkaW5nIiwicmVFbXB0eVN0cmluZ01pZGRsZSIsInJlRW1wdHlTdHJpbmdUcmFpbGluZyIsInJlRXNjYXBlZEh0bWwiLCJyZVVuZXNjYXBlZEh0bWwiLCJyZUhhc0VzY2FwZWRIdG1sIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwicmVFc2NhcGUiLCJyZUV2YWx1YXRlIiwicmVJbnRlcnBvbGF0ZSIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJyZVByb3BOYW1lIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwicmVUcmltU3RhcnQiLCJyZVdoaXRlc3BhY2UiLCJyZVdyYXBDb21tZW50IiwicmVXcmFwRGV0YWlscyIsInJlU3BsaXREZXRhaWxzIiwicmVBc2NpaVdvcmQiLCJyZUZvcmJpZGRlbklkZW50aWZpZXJDaGFycyIsInJlRXNjYXBlQ2hhciIsInJlRXNUZW1wbGF0ZSIsInJlRmxhZ3MiLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNIb3N0Q3RvciIsInJlSXNPY3RhbCIsInJlSXNVaW50IiwicmVMYXRpbiIsInJlTm9NYXRjaCIsInJlVW5lc2NhcGVkU3RyaW5nIiwicnNDb21ib1JhbmdlIiwicnNDb21ib01hcmtzUmFuZ2UiLCJyc0JyZWFrUmFuZ2UiLCJyc01hdGhPcFJhbmdlIiwicnNBc3RyYWwiLCJyc0JyZWFrIiwicnNDb21ibyIsInJzRGlnaXRzIiwicnNEaW5nYmF0IiwicnNMb3dlciIsInJzTWlzYyIsInJzRml0eiIsInJzTm9uQXN0cmFsIiwicnNSZWdpb25hbCIsInJzU3VyclBhaXIiLCJyc1VwcGVyIiwicnNNaXNjTG93ZXIiLCJyc01pc2NVcHBlciIsInJlT3B0TW9kIiwicnNTZXEiLCJyc0Vtb2ppIiwicnNTeW1ib2wiLCJyZUFwb3MiLCJyZUNvbWJvTWFyayIsInJlVW5pY29kZSIsInJlVW5pY29kZVdvcmQiLCJyZUhhc1VuaWNvZGUiLCJyZUhhc1VuaWNvZGVXb3JkIiwiY29udGV4dFByb3BzIiwidGVtcGxhdGVDb3VudGVyIiwidHlwZWRBcnJheVRhZ3MiLCJjbG9uZWFibGVUYWdzIiwic3RyaW5nRXNjYXBlcyIsImZyZWVQYXJzZUZsb2F0IiwiZnJlZVBhcnNlSW50IiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJub2RlVXRpbCIsInJlcXVpcmUiLCJub2RlSXNBcnJheUJ1ZmZlciIsImlzQXJyYXlCdWZmZXIiLCJub2RlSXNEYXRlIiwiaXNEYXRlIiwibm9kZUlzTWFwIiwiaXNNYXAiLCJub2RlSXNSZWdFeHAiLCJpc1JlZ0V4cCIsIm5vZGVJc1NldCIsImlzU2V0Iiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsInRoaXNBcmciLCJhcnJheUFnZ3JlZ2F0b3IiLCJzZXR0ZXIiLCJpdGVyYXRlZSIsImFjY3VtdWxhdG9yIiwiYXJyYXlFYWNoIiwiYXJyYXlFYWNoUmlnaHQiLCJhcnJheUV2ZXJ5IiwicHJlZGljYXRlIiwiYXJyYXlGaWx0ZXIiLCJyZXNJbmRleCIsImFycmF5SW5jbHVkZXMiLCJiYXNlSW5kZXhPZiIsImFycmF5SW5jbHVkZXNXaXRoIiwiYXJyYXlNYXAiLCJhcnJheVB1c2giLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJiYXNlRmluZEtleSIsImNvbGxlY3Rpb24iLCJlYWNoRnVuYyIsImJhc2VGaW5kSW5kZXgiLCJmcm9tSW5kZXgiLCJmcm9tUmlnaHQiLCJzdHJpY3RJbmRleE9mIiwiYmFzZUlzTmFOIiwiYmFzZUluZGV4T2ZXaXRoIiwiYmFzZU1lYW4iLCJiYXNlU3VtIiwiYmFzZVByb3BlcnR5T2YiLCJiYXNlUmVkdWNlIiwiYmFzZVRpbWVzIiwiYmFzZVRyaW0iLCJ0cmltbWVkRW5kSW5kZXgiLCJiYXNlVW5hcnkiLCJiYXNlVmFsdWVzIiwiY2FjaGVIYXMiLCJjYWNoZSIsImNoYXJzU3RhcnRJbmRleCIsInN0clN5bWJvbHMiLCJjaHJTeW1ib2xzIiwiY2hhcnNFbmRJbmRleCIsImNvdW50SG9sZGVycyIsInBsYWNlaG9sZGVyIiwiZGVidXJyTGV0dGVyIiwiZXNjYXBlSHRtbENoYXIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsIm1hcFRvQXJyYXkiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwicmVwbGFjZUhvbGRlcnMiLCJzZXRUb0FycmF5Iiwic2V0VG9QYWlycyIsInN0cmluZ1NpemUiLCJsYXN0SW5kZXgiLCJ1bmljb2RlU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJ1bmljb2RlVG9BcnJheSIsImFzY2lpVG9BcnJheSIsInVuZXNjYXBlSHRtbENoYXIiLCJydW5JbkNvbnRleHQiLCJ1aWQiLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsIklFX1BST1RPIiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsImFsbG9jVW5zYWZlIiwiZ2V0UHJvdG90eXBlIiwib2JqZWN0Q3JlYXRlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcHJlYWRhYmxlU3ltYm9sIiwiaXNDb25jYXRTcHJlYWRhYmxlIiwic3ltSXRlcmF0b3IiLCJpdGVyYXRvciIsInN5bVRvU3RyaW5nVGFnIiwiZ2V0TmF0aXZlIiwiY3R4Q2xlYXJUaW1lb3V0IiwiY3R4Tm93IiwiY3R4U2V0VGltZW91dCIsIm5hdGl2ZUNlaWwiLCJuYXRpdmVGbG9vciIsIm5hdGl2ZUdldFN5bWJvbHMiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlSXNGaW5pdGUiLCJuYXRpdmVKb2luIiwibmF0aXZlS2V5cyIsIm5hdGl2ZU1heCIsIm5hdGl2ZU1pbiIsIm5hdGl2ZU5vdyIsIm5hdGl2ZVBhcnNlSW50IiwibmF0aXZlUmFuZG9tIiwibmF0aXZlUmV2ZXJzZSIsIkRhdGFWaWV3IiwiV2Vha01hcCIsIm5hdGl2ZUNyZWF0ZSIsIm1ldGFNYXAiLCJyZWFsTmFtZXMiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInZhbHVlT2YiLCJzeW1ib2xUb1N0cmluZyIsImxvZGFzaCIsImlzT2JqZWN0TGlrZSIsIkxhenlXcmFwcGVyIiwiTG9kYXNoV3JhcHBlciIsIndyYXBwZXJDbG9uZSIsImJhc2VDcmVhdGUiLCJpc09iamVjdCIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImNsZWFyIiwiZW50cnkiLCJMaXN0Q2FjaGUiLCJNYXBDYWNoZSIsIlNldENhY2hlIiwiX19kYXRhX18iLCJTdGFjayIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyciIsImlzQXJnIiwiaXNBcmd1bWVudHMiLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsImlzSW5kZXgiLCJhcnJheVNhbXBsZSIsImJhc2VSYW5kb20iLCJhcnJheVNhbXBsZVNpemUiLCJzaHVmZmxlU2VsZiIsImNvcHlBcnJheSIsImJhc2VDbGFtcCIsImFycmF5U2h1ZmZsZSIsImFzc2lnbk1lcmdlVmFsdWUiLCJlcSIsImJhc2VBc3NpZ25WYWx1ZSIsImFzc2lnblZhbHVlIiwib2JqVmFsdWUiLCJhc3NvY0luZGV4T2YiLCJiYXNlQWdncmVnYXRvciIsImJhc2VFYWNoIiwiYmFzZUFzc2lnbiIsImNvcHlPYmplY3QiLCJiYXNlQXQiLCJsb3dlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwiaXNEZWVwIiwiaXNGbGF0IiwiaXNGdWxsIiwiaW5pdENsb25lQXJyYXkiLCJ0YWciLCJnZXRUYWciLCJpc0Z1bmMiLCJjbG9uZUJ1ZmZlciIsImluaXRDbG9uZU9iamVjdCIsImdldFN5bWJvbHNJbiIsImNvcHlTeW1ib2xzSW4iLCJrZXlzSW4iLCJiYXNlQXNzaWduSW4iLCJnZXRTeW1ib2xzIiwiY29weVN5bWJvbHMiLCJkYXRhVmlldyIsImJ5dGVPZmZzZXQiLCJjbG9uZURhdGFWaWV3IiwiY2xvbmVUeXBlZEFycmF5IiwiY2xvbmVSZWdFeHAiLCJzeW1ib2wiLCJpbml0Q2xvbmVCeVRhZyIsInN0YWNrZWQiLCJzdWJWYWx1ZSIsImdldEFsbEtleXNJbiIsImJhc2VDb25mb3Jtc1RvIiwiYmFzZURlbGF5Iiwid2FpdCIsImJhc2VEaWZmZXJlbmNlIiwiaW5jbHVkZXMiLCJpc0NvbW1vbiIsInZhbHVlc0xlbmd0aCIsIm91dGVyIiwiY29tcHV0ZWQiLCJ2YWx1ZXNJbmRleCIsInRlbXBsYXRlU2V0dGluZ3MiLCJnZXRNYXBEYXRhIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwiY3JlYXRlQmFzZUVhY2giLCJiYXNlRm9yT3duIiwiYmFzZUVhY2hSaWdodCIsImJhc2VGb3JPd25SaWdodCIsImJhc2VFdmVyeSIsImJhc2VFeHRyZW11bSIsImlzU3ltYm9sIiwiYmFzZUZpbHRlciIsImJhc2VGbGF0dGVuIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJjYXN0UGF0aCIsInRvS2V5IiwiYmFzZUdldEFsbEtleXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwiYmFzZUdldFRhZyIsImlzT3duIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VHdCIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJtYXhMZW5ndGgiLCJzZWVuIiwiYmFzZUludm9rZSIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJvYmpTdGFja2VkIiwib3RoU3RhY2tlZCIsInNraXBDdG9yIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm9iakN0b3IiLCJvdGhDdG9yIiwiZXF1YWxPYmplY3RzIiwiYmFzZUlzRXF1YWxEZWVwIiwiYmFzZUlzTWF0Y2giLCJtYXRjaERhdGEiLCJub0N1c3RvbWl6ZXIiLCJzcmNWYWx1ZSIsIkNPTVBBUkVfUEFSVElBTF9GTEFHIiwiYmFzZUlzTmF0aXZlIiwiYmFzZUl0ZXJhdGVlIiwiaWRlbnRpdHkiLCJiYXNlTWF0Y2hlc1Byb3BlcnR5IiwiYmFzZU1hdGNoZXMiLCJiYXNlS2V5cyIsImlzUHJvdG90eXBlIiwiYmFzZUtleXNJbiIsIm5hdGl2ZUtleXNJbiIsImlzUHJvdG8iLCJiYXNlTHQiLCJiYXNlTWFwIiwiaXNBcnJheUxpa2UiLCJnZXRNYXRjaERhdGEiLCJtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSIsImlzS2V5IiwiaXNTdHJpY3RDb21wYXJhYmxlIiwiaGFzSW4iLCJiYXNlTWVyZ2UiLCJzcmNJbmRleCIsIm1lcmdlRnVuYyIsInNhZmVHZXQiLCJuZXdWYWx1ZSIsImlzVHlwZWQiLCJpc0FycmF5TGlrZU9iamVjdCIsInRvUGxhaW5PYmplY3QiLCJiYXNlTWVyZ2VEZWVwIiwiYmFzZU50aCIsImJhc2VPcmRlckJ5IiwiaXRlcmF0ZWVzIiwib3JkZXJzIiwiZ2V0SXRlcmF0ZWUiLCJjb21wYXJlciIsImJhc2VTb3J0QnkiLCJvYmpDcml0ZXJpYSIsImNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJiYXNlVW5zZXQiLCJiYXNlUmVwZWF0IiwiYmFzZVJlc3QiLCJzZXRUb1N0cmluZyIsIm92ZXJSZXN0IiwiYmFzZVNhbXBsZSIsImJhc2VTYW1wbGVTaXplIiwibmVzdGVkIiwiYmFzZVNldERhdGEiLCJiYXNlU2V0VG9TdHJpbmciLCJjb25zdGFudCIsImJhc2VTaHVmZmxlIiwiYmFzZVNsaWNlIiwiYmFzZVNvbWUiLCJiYXNlU29ydGVkSW5kZXgiLCJyZXRIaWdoZXN0IiwiTUFYX0FSUkFZX0xFTkdUSCIsImJhc2VTb3J0ZWRJbmRleEJ5IiwidmFsSXNOYU4iLCJ2YWxJc051bGwiLCJ2YWxJc1N5bWJvbCIsInZhbElzVW5kZWZpbmVkIiwib3RoSXNEZWZpbmVkIiwib3RoSXNOdWxsIiwib3RoSXNSZWZsZXhpdmUiLCJvdGhJc1N5bWJvbCIsInNldExvdyIsImJhc2VTb3J0ZWRVbmlxIiwiYmFzZVRvTnVtYmVyIiwiYmFzZVRvU3RyaW5nIiwiYmFzZVVuaXEiLCJjcmVhdGVTZXQiLCJzZWVuSW5kZXgiLCJiYXNlVXBkYXRlIiwidXBkYXRlciIsImJhc2VXaGlsZSIsImlzRHJvcCIsImJhc2VXcmFwcGVyVmFsdWUiLCJhY3Rpb25zIiwiYmFzZVhvciIsImJhc2VaaXBPYmplY3QiLCJhc3NpZ25GdW5jIiwidmFsc0xlbmd0aCIsImNhc3RBcnJheUxpa2VPYmplY3QiLCJjYXN0RnVuY3Rpb24iLCJzdHJpbmdUb1BhdGgiLCJjYXN0UmVzdCIsImNhc3RTbGljZSIsInR5cGVkQXJyYXkiLCJ2YWxJc0RlZmluZWQiLCJ2YWxJc1JlZmxleGl2ZSIsImNvbXBvc2VBcmdzIiwicGFydGlhbHMiLCJob2xkZXJzIiwiaXNDdXJyaWVkIiwiYXJnc0luZGV4IiwiYXJnc0xlbmd0aCIsImhvbGRlcnNMZW5ndGgiLCJsZWZ0SW5kZXgiLCJsZWZ0TGVuZ3RoIiwicmFuZ2VMZW5ndGgiLCJpc1VuY3VycmllZCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJpc05ldyIsImNyZWF0ZUFnZ3JlZ2F0b3IiLCJpbml0aWFsaXplciIsImNyZWF0ZUFzc2lnbmVyIiwiYXNzaWduZXIiLCJzb3VyY2VzIiwiZ3VhcmQiLCJpc0l0ZXJhdGVlQ2FsbCIsIml0ZXJhYmxlIiwiY3JlYXRlQ2FzZUZpcnN0IiwibWV0aG9kTmFtZSIsInRyYWlsaW5nIiwiY3JlYXRlQ29tcG91bmRlciIsIndvcmRzIiwiZGVidXJyIiwiY3JlYXRlQ3RvciIsInRoaXNCaW5kaW5nIiwiY3JlYXRlRmluZCIsImZpbmRJbmRleEZ1bmMiLCJjcmVhdGVGbG93IiwiZmxhdFJlc3QiLCJmdW5jcyIsInByZXJlcSIsInRocnUiLCJ3cmFwcGVyIiwiZ2V0RnVuY05hbWUiLCJmdW5jTmFtZSIsImdldERhdGEiLCJpc0xhemlhYmxlIiwicGxhbnQiLCJjcmVhdGVIeWJyaWQiLCJwYXJ0aWFsc1JpZ2h0IiwiaG9sZGVyc1JpZ2h0IiwiYXJnUG9zIiwiYXJ5IiwiYXJpdHkiLCJpc0FyeSIsImlzQmluZCIsImlzQmluZEtleSIsImlzRmxpcCIsImdldEhvbGRlciIsImhvbGRlcnNDb3VudCIsIm5ld0hvbGRlcnMiLCJjcmVhdGVSZWN1cnJ5IiwiZm4iLCJyZW9yZGVyIiwiY3JlYXRlSW52ZXJ0ZXIiLCJ0b0l0ZXJhdGVlIiwiYmFzZUludmVydGVyIiwiY3JlYXRlTWF0aE9wZXJhdGlvbiIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5IiwibmV3RGF0YSIsInNldERhdGEiLCJzZXRXcmFwVG9TdHJpbmciLCJjcmVhdGVSb3VuZCIsInByZWNpc2lvbiIsInRvSW50ZWdlciIsInBhaXIiLCJjcmVhdGVUb1BhaXJzIiwiYmFzZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwibWVyZ2VEYXRhIiwiY3JlYXRlQ3VycnkiLCJjcmVhdGVQYXJ0aWFsIiwiY3JlYXRlQmluZCIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiYXJyTGVuZ3RoIiwiYXJyU3RhY2tlZCIsImFyclZhbHVlIiwib3RoZXJGdW5jIiwiZ2V0VmFsdWUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwiY3RvclN0cmluZyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJvdGhlckFyZ3MiLCJvbGRBcnJheSIsInNob3J0T3V0IiwicmVmZXJlbmNlIiwiZGV0YWlscyIsImluc2VydFdyYXBEZXRhaWxzIiwidXBkYXRlV3JhcERldGFpbHMiLCJnZXRXcmFwRGV0YWlscyIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsQWxsIiwicHVsbEF0IiwidW5pb24iLCJ1bmlvbkJ5IiwidW5pb25XaXRoIiwidW56aXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZExhc3QiLCJmb3JFYWNoUmlnaHQiLCJncm91cEJ5IiwiaW52b2tlTWFwIiwia2V5QnkiLCJwYXJ0aXRpb24iLCJzb3J0QnkiLCJiZWZvcmUiLCJiaW5kS2V5IiwiV1JBUF9CSU5EX0ZMQUciLCJkZWJvdW5jZSIsImxhc3RBcmdzIiwibGFzdFRoaXMiLCJtYXhXYWl0IiwidGltZXJJZCIsImxhc3RDYWxsVGltZSIsImxhc3RJbnZva2VUaW1lIiwibGVhZGluZyIsIm1heGluZyIsImludm9rZUZ1bmMiLCJ0aW1lIiwibGVhZGluZ0VkZ2UiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJmbHVzaCIsImRlZmVyIiwiZGVsYXkiLCJtZW1vaXplZCIsIkNhY2hlIiwibmVnYXRlIiwib3ZlckFyZ3MiLCJ0cmFuc2Zvcm1zIiwiZnVuY3NMZW5ndGgiLCJwYXJ0aWFsIiwicGFydGlhbFJpZ2h0IiwicmVhcmciLCJndCIsImd0ZSIsImlzRXJyb3IiLCJpc0ludGVnZXIiLCJpc051bWJlciIsImlzU3RyaW5nIiwibHQiLCJsdGUiLCJ0b0FycmF5IiwiaXRlcmF0b3JUb0FycmF5IiwicmVtYWluZGVyIiwidG9MZW5ndGgiLCJpc0JpbmFyeSIsImFzc2lnbkluIiwiYXNzaWduSW5XaXRoIiwiYXNzaWduV2l0aCIsInByb3BzSW5kZXgiLCJwcm9wc0xlbmd0aCIsImRlZmF1bHRzRGVlcCIsIm1lcmdlV2l0aCIsImludmVydCIsImludmVydEJ5IiwiaW52b2tlIiwib21pdCIsIkNMT05FX0RFRVBfRkxBRyIsImJhc2VQaWNrIiwicGlja0J5IiwidG9QYWlycyIsInRvUGFpcnNJbiIsImNhbWVsQ2FzZSIsIndvcmQiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJoYXNVbmljb2RlV29yZCIsInVuaWNvZGVXb3JkcyIsImFzY2lpV29yZHMiLCJhdHRlbXB0IiwiYmluZEFsbCIsIm1ldGhvZE5hbWVzIiwiZmxvdyIsImZsb3dSaWdodCIsIm1ldGhvZE9mIiwibWl4aW4iLCJvdmVyIiwib3ZlckV2ZXJ5Iiwib3ZlclNvbWUiLCJiYXNlUHJvcGVydHlEZWVwIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZSIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGx5IiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsInN1YnRyYWN0IiwibWludWVuZCIsInN1YnRyYWhlbmQiLCJhZnRlciIsImNhc3RBcnJheSIsImNodW5rIiwiY29uZCIsImNvbmZvcm1zIiwiYmFzZUNvbmZvcm1zIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcFJpZ2h0IiwiZHJvcFJpZ2h0V2hpbGUiLCJkcm9wV2hpbGUiLCJiYXNlRmlsbCIsImZsYXRNYXAiLCJmbGF0TWFwRGVlcCIsImZsYXRNYXBEZXB0aCIsImZsYXR0ZW5EZWVwIiwiZmxhdHRlbkRlcHRoIiwiZmxpcCIsImZyb21QYWlycyIsImZ1bmN0aW9ucyIsImZ1bmN0aW9uc0luIiwiaW5pdGlhbCIsIm1hcEtleXMiLCJtYXBWYWx1ZXMiLCJtYXRjaGVzIiwibWF0Y2hlc1Byb3BlcnR5IiwibnRoQXJnIiwib21pdEJ5Iiwib3JkZXJCeSIsInByb3BlcnR5T2YiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInNhbXBsZVNpemUiLCJzZXRXaXRoIiwic2h1ZmZsZSIsInNvcnRlZFVuaXEiLCJzb3J0ZWRVbmlxQnkiLCJzZXBhcmF0b3IiLCJzcHJlYWQiLCJ0YWtlIiwidGFrZVJpZ2h0IiwidGFrZVJpZ2h0V2hpbGUiLCJ0YWtlV2hpbGUiLCJ0YXAiLCJ0aHJvdHRsZSIsInRvUGF0aCIsImlzQXJyTGlrZSIsInVuYXJ5IiwidW5pcUJ5IiwidW5pcVdpdGgiLCJ1bnNldCIsInVwZGF0ZSIsInVwZGF0ZVdpdGgiLCJ2YWx1ZXNJbiIsIndyYXAiLCJ6aXBPYmplY3QiLCJ6aXBPYmplY3REZWVwIiwiZW50cmllc0luIiwiZXh0ZW5kIiwiZXh0ZW5kV2l0aCIsImNsb25lRGVlcCIsImNsb25lRGVlcFdpdGgiLCJjbG9uZVdpdGgiLCJjb25mb3Jtc1RvIiwiZGVmYXVsdFRvIiwiZW5kc1dpdGgiLCJlc2NhcGUiLCJlc2NhcGVSZWdFeHAiLCJmaW5kS2V5IiwiZmluZExhc3RLZXkiLCJmb3JJbiIsImZvckluUmlnaHQiLCJmb3JPd24iLCJmb3JPd25SaWdodCIsImluUmFuZ2UiLCJiYXNlSW5SYW5nZSIsImlzQm9vbGVhbiIsImlzRWxlbWVudCIsImlzRW1wdHkiLCJpc0VxdWFsIiwiaXNFcXVhbFdpdGgiLCJpc01hdGNoIiwiaXNNYXRjaFdpdGgiLCJpc05hdGl2ZSIsImlzTmlsIiwiaXNOdWxsIiwiaXNTYWZlSW50ZWdlciIsImlzVW5kZWZpbmVkIiwiaXNXZWFrTWFwIiwiaXNXZWFrU2V0Iiwic3RyaWN0TGFzdEluZGV4T2YiLCJtYXhCeSIsIm1lYW4iLCJtZWFuQnkiLCJtaW5CeSIsInN0dWJPYmplY3QiLCJzdHViU3RyaW5nIiwic3R1YlRydWUiLCJudGgiLCJub0NvbmZsaWN0Iiwic3RyTGVuZ3RoIiwicGFkRW5kIiwicmFkaXgiLCJmbG9hdGluZyIsInJlZHVjZVJpZ2h0IiwicmVwZWF0Iiwic2FtcGxlIiwic29ydGVkSW5kZXgiLCJzb3J0ZWRJbmRleEJ5Iiwic29ydGVkSW5kZXhPZiIsInNvcnRlZExhc3RJbmRleCIsInNvcnRlZExhc3RJbmRleEJ5Iiwic29ydGVkTGFzdEluZGV4T2YiLCJzdGFydHNXaXRoIiwic3VtQnkiLCJ0ZW1wbGF0ZSIsImlzRXNjYXBpbmciLCJpc0V2YWx1YXRpbmciLCJpbXBvcnRzIiwiaW1wb3J0c0tleXMiLCJpbXBvcnRzVmFsdWVzIiwiaW50ZXJwb2xhdGUiLCJyZURlbGltaXRlcnMiLCJldmFsdWF0ZSIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ2YXJpYWJsZSIsInRpbWVzIiwidG9Mb3dlciIsInRvU2FmZUludGVnZXIiLCJ0b1VwcGVyIiwidHJpbUVuZCIsInRyaW1TdGFydCIsInRydW5jYXRlIiwib21pc3Npb24iLCJuZXdFbmQiLCJ1bmlxdWVJZCIsImVhY2giLCJlYWNoUmlnaHQiLCJWRVJTSU9OIiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsImlzUmlnaHQiLCJnZXRWaWV3IiwiaXRlckxlbmd0aCIsInRha2VDb3VudCIsIml0ZXJJbmRleCIsImNvbW1pdCIsImNyZWF0ZVNoaWZ0QXJyIiwic3BhY2UiLCJpeCIsInZrYmVhdXRpZnkiLCJpc1N1YnF1ZXJ5IiwicGFyZW50aGVzaXNMZXZlbCIsInNwbGl0X3NxbCIsInRhYiIsInhtbCIsImFyIiwiaW5Db21tZW50IiwiZGVlcCIsImNzcyIsInNxbCIsImFyX2J5X3F1b3RlIiwieG1sbWluIiwicHJlc2VydmVDb21tZW50cyIsImpzb25taW4iLCJjc3NtaW4iLCJzcWxtaW4iLCJjb25maXJtIiwic3BsaXREaXNhYmxlIiwiY2FwdHVyZSIsImNsaWNrYXdheUhhbmRsZXIiLCJyZXNldEhhbmRsZXIiLCJuY0lkIiwicXVldWVNaWNyb3Rhc2siLCJNdXRhdGlvbiIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIiwiaGFuZGxlIiwib2JzZXJ2ZXIiLCJjcmVhdGVUZXh0Tm9kZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwiTWVzc2FnZUNoYW5uZWwiLCJjaGFubmVsIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJwb3J0MiIsInBvc3RNZXNzYWdlIiwic2NyaXB0RWwiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZW1vdmVDaGlsZCIsImRvY3VtZW50RWxlbWVudCIsInB1bnljb2RlIiwidXRpbCIsIlVybCIsInNsYXNoZXMiLCJob3N0bmFtZSIsInBhdGhuYW1lIiwiaHJlZiIsInVybFBhcnNlIiwicmVsYXRpdmUiLCJyZXNvbHZlT2JqZWN0IiwicHJvdG9jb2xQYXR0ZXJuIiwicG9ydFBhdHRlcm4iLCJzaW1wbGVQYXRoUGF0dGVybiIsInVud2lzZSIsImF1dG9Fc2NhcGUiLCJub25Ib3N0Q2hhcnMiLCJob3N0RW5kaW5nQ2hhcnMiLCJob3N0bmFtZVBhcnRQYXR0ZXJuIiwiaG9zdG5hbWVQYXJ0U3RhcnQiLCJ1bnNhZmVQcm90b2NvbCIsImhvc3RsZXNzUHJvdG9jb2wiLCJzbGFzaGVkUHJvdG9jb2wiLCJxdWVyeXN0cmluZyIsInBhcnNlUXVlcnlTdHJpbmciLCJzbGFzaGVzRGVub3RlSG9zdCIsInUiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJzaW1wbGVQYXRoIiwibG93ZXJQcm90byIsImF0U2lnbiIsImhvc3RFbmQiLCJoZWMiLCJwYXJzZUhvc3QiLCJpcHY2SG9zdG5hbWUiLCJob3N0cGFydHMiLCJwYXJ0IiwibmV3cGFydCIsInZhbGlkUGFydHMiLCJub3RIb3N0IiwiYml0IiwidG9BU0NJSSIsImFlIiwiZXNjIiwicW0iLCJyZWwiLCJ0a2V5cyIsInRrIiwidGtleSIsInJrZXlzIiwicmsiLCJya2V5IiwicmVsUGF0aCIsImlzU291cmNlQWJzIiwiaXNSZWxBYnMiLCJtdXN0RW5kQWJzIiwicmVtb3ZlQWxsRG90cyIsInNyY1BhdGgiLCJwc3ljaG90aWMiLCJpc051bGxPclVuZGVmaW5lZCIsImF1dGhJbkhvc3QiLCJoYXNUcmFpbGluZ1NsYXNoIiwidXAiLCJpc0Fic29sdXRlIiwidXJpbGliIiwiaGVscGVycyIsIlNjaGVtYVNjYW5SZXN1bHQiLCJmb3VuZCIsInJlZiIsInNjYW4iLCJzY2FuU2NoZW1hIiwiYmFzZXVyaSIsIiRyZWYiLCJyZXNvbHZlZFVyaSIsIm91ckJhc2UiLCJzY2FuQXJyYXkiLCJpdGVtcyIsImV4dGVuZHMiLCJhZGRpdGlvbmFsSXRlbXMiLCJzY2FuT2JqZWN0IiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJkZWZpbml0aW9ucyIsInBhdHRlcm5Qcm9wZXJ0aWVzIiwiZGVwZW5kZW5jaWVzIiwiZGlzYWxsb3ciLCJhbGxPZiIsImFueU9mIiwib25lT2YiLCJub3QiLCJzdHJva2VXaWR0aCIsImVzY2FwZUtleUxpc3RlbmVyIiwiaW5mb0xpc3RlbmVycyIsImVudGVyS2V5TGlzdGVuZXIiLCJhcnJvd0tleUxpc3RlbmVyIiwic2hpZnRLZXkiLCJiYm94U3lsbGFibGVzIiwiaW5kIiwic2VsZWN0ZWRTeWxUZXh0Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImlzU2VsQnlCQm94Iiwic2VsQnlCQm94Iiwic3RvcFByb3BIYW5kbGVyIiwiaXNFbGVtZW50SW5SZWN0IiwidWwiLCJsciIsImdldEJCb3hDb29yZHMiLCJib3giLCJjbGlja0hhbmRsZXIiLCJnZXRVc2VyTW9kZSIsImZpcnN0TGlnYXR1cmVIYWxmIiwic2Vjb25kTGlnYXR1cmVIYWxmIiwibmNJbmRleCIsImZpcnN0VXNlIiwiYXNzZXJ0Iiwic2Vjb25kVXNlIiwiaXNNdWx0aVNlbGVjdCIsInNlbGVjdGVkQ2xhc3MiLCJzZWxCeVN0YWZmIiwic2VsQnlOZXVtZSIsInNlbEJ5TmMiLCJzZWxCeUxheWVyRWxlbWVudCIsImdldFN0YWZmQnlDb29yZHMiLCJkaXNwYXRjaEV2ZW50IiwiTW91c2VFdmVudCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY3RybEtleSIsImFsdEtleSIsIm52IiwiZGgiLCJzZWwiLCJpbml0aWFsWCIsInBhbm5pbmciLCJkcmFnU2VsZWN0aW5nIiwiY2FudmFzIiwiZHJhZ1NlbGVjdEFjdGlvbiIsIm5vZGVOYW1lIiwic3RhcnREcmFnIiwiaW5pdGlhbFAiLCJjdXJyZW50UHQiLCJjdXJYIiwiY3VyWSIsIm5ld1giLCJuZXdZIiwiY3VycmVudFdpZHRoIiwiY3VycmVudEhlaWdodCIsInVwZGF0ZVJlY3QiLCJzZWxlY3RSZWN0IiwicngiLCJyeSIsImx4IiwibHkiLCJzZWxlY3RlZEVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeVNlbGVjdG9yIiwicmVzZXRUbyIsImNvcHlBdHRyaWJ1dGVzIiwiZ2V0U3lsbGFibGVUZXh0IiwiY2hpbGROb2RlcyIsInN5bFRleHQiLCJub2RlVmFsdWUiLCJpc0ludmFsaWRCQm94IiwibWVpIiwiem9uZSIsImlzQWxsWmVybyIsImhhc05lZ2F0aXZlQ29vcmRpbmF0ZXMiLCJjaGVja1ByZWNlZGVzU3lsbGFibGUiLCJzeWxzVGV4dCIsImNoZWNrRm9sbG93c1N5bGxhYmxlIiwiY2hlY2tPYmxpcXVlIiwibmNJZHgiLCJjb2xsZWN0RmFjc0NoaWxkcmVuIiwiYXJyYXkxIiwiYXJyYXkyIiwic3RhZmZCYXNlZE1laSIsIkRPTVBhcnNlciIsInNlcmlhbGl6ZXIiLCJYTUxTZXJpYWxpemVyIiwibWVpRG9jIiwicGFyc2VGcm9tU3RyaW5nIiwibkNvbCIsInNlY3Rpb25zIiwic2VjdGlvbiIsInBiIiwic2IiLCJuZXdTdGFmZiIsImNyZWF0ZUVsZW1lbnROUyIsIm5ld0xheWVyIiwic3VyZmFjZSIsInN1cmZhY2VJZCIsIm5lb25OZXVtZUxpbmVTZWN0aW9ucyIsIm5TdGFmZiIsImxhc3RDYiIsIm5lb25OZXVtZUxpbmVTZWN0aW9uIiwibGF5ZXIiLCJjYWxjdWxhdGVBbmRBZGRab25lIiwiY3VzdG9zIiwibGFzdEVsZW1lbnRDaGlsZCIsImZpcnN0RWxlbWVudENoaWxkIiwic2NvcmVEZWYiLCJjb2xMYXlvdXQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJzZXJpYWxpemVUb1N0cmluZyIsInN0YXJ0RWxlbWVudCIsImVuZEVsZW1lbnQiLCJlbGVtZW50c0JldHdlZW4iLCJjb2xsZWN0QWxsRWxlbWVudHNXaXRoRmFjcyIsIm5leHRFbGVtZW50U2libGluZyIsIkJCb3giLCJjYWxjdWxhdGVCQm94IiwiaW5zZXJ0QmVmb3JlIiwic2JCYXNlZE1laSIsImhhc0NvbHMiLCJoYXNJbnZhbGlkQkJveCIsInpvbmVzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbnZhbGlkWm9uZXNJbmZvIiwiaXNJbnZhbGlkIiwiaGFzRW1wdHlTeWxsYWJsZSIsImhhc0VtcHR5TmV1bWUiLCJoYXNJbnZhbGlkRGl2TGluZSIsImludmFsaWREaXZMaW5lSW5mbyIsImhhc0ludmFsaWRBY2NpZCIsImludmFsaWRBY2NpZEluZm8iLCJlbXB0eVN5bGxhYmxlSW5mbyIsImVtcHR5TmV1bWVJbmZvIiwibmV1bWVzIiwibGlxIiwib3JpZ2luYWxTdGF2ZXMiLCJuZXdQYiIsInNiQXJyYXkiLCJvcmlnU3lsbGFibGUiLCJuZXVtZUJlaGluZCIsIm5ldW1lQWhlYWQiLCJjaGlsZEFycmF5Iiwic2JJbmRleCIsIm5ld1N5bGxhYmxlIiwiY2xlZiIsImRlYnVnIiwic2JzIiwibGF5ZXJDaGlsZHJlbiIsImN1cnJlbnRTYiIsIm5leHRTYiIsIm5ld1NiIiwibmV3U2VjdGlvbiIsImN1cnJlbnRJZHgiLCJjYkZhY3MiLCJjYlpvbmUiLCJjaGlsZHJlbkFycmF5IiwiZmFjc0NoaWxkcmVuIiwieiIsIm5ld1N5bGxhYmxlcyIsImludmFsaWRMaW5rZWQiLCJpbnZhbGlkTGlua2VkSW5mbyIsImludmFsaWRPYmxpcXVlIiwiaW52YWxpZE9ibGlxdWVJbmZvIiwib2JsaXF1ZUluZm8iLCJzeWxsYWJsZUlkeCIsIm1laVN0cmluZyIsImRpbWVuc2lvbnMiLCJtZWlMcngiLCJtZWlMcnkiLCJpc091dE9mQm91bmRzIiwiY29vcmQiLCJpc0F0dHJPdXRPZkJvdW5kcyIsIm1laUZvclZhbGlkYXRpb24iLCJzY2hlbWFSZXNwb25zZSIsIndvcmtlciIsInZlcnNpb25GaWVsZCIsInN0YXR1c0ZpZWxkIiwidXBkYXRlU3RhdHVzVUkiLCJsaW5lIiwic3RhdHVzT25DbGljayIsIm1vZGFsIiwibWVpVmVyc2lvbiIsIm1laVN0YXR1cyIsIldvcmtlciIsIm1laURhdGEiLCJ1cGRhdGVWZXJzaW9uVUkiLCJnZXRNZWlWZXJzaW9uIiwic2F2ZWQiLCJpbmRpY2F0b3IiLCJhbHRNZXNzYWdlIiwidXBkYXRlSW5kaWNhdG9yIiwib25iZWZvcmV1bmxvYWQiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJmb3JtYXRBcmdzIiwidXNlQ29sb3JzIiwibmFtZXNwYWNlIiwiaHVtYW5pemUiLCJsYXN0QyIsInNhdmUiLCJuYW1lc3BhY2VzIiwic3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJERUJVRyIsIl9fbndqcyIsIldlYmtpdEFwcGVhcmFuY2UiLCJmaXJlYnVnIiwiZXhjZXB0aW9uIiwidGFibGUiLCJsb2NhbHN0b3JhZ2UiLCJjb2xvcnMiLCJmb3JtYXR0ZXJzIiwiYWN0aXZhdGUiLCJpbnNlcnRIYW5kbGVyIiwiaW5zZXJ0QWN0aXZlIiwiZGVhY3RpdmF0ZSIsInRhYklkcyIsImluc2VydE9wdGlvbnMiLCJpbnNlcnRFbGVtZW50cyIsImJpbmRFbGVtZW50cyIsImluc2VydFBhbmVsIiwiaW5zZXJ0SGVhZGluZyIsImluc2VydEhlYWRpbmdUaXRsZSIsImluc2VydENvbnRlbnRzIiwiaW5zZXJ0RHJvcGRvd25JY29uIiwiZWRpdFBhbmVsIiwiZWRpdEhlYWRpbmciLCJkaXNwbGF5SGVhZGluZ1RpdGxlIiwiZWRpdENvbnRlbnRzIiwiZWRpdERyb3Bkb3duSWNvbiIsInNlbEJ5U3lsbGFibGUiLCJmaXJzdENsaWNrIiwiaW5zZXJ0RGlzYWJsZWQiLCJyZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzIiwicmVzZXRJbnNlcnRIYW5kbGVyIiwic3RhZmZIYW5kbGVyIiwiZWxlbWVudFR5cGUiLCJidXR0b25JZCIsImFscmVhZHlJbkluc2VydE1vZGUiLCJpc0luc2VydE1vZGUiLCJ0aWx0IiwiZm9ybSIsImFjY2lkIiwiZWRpdE1vZGVCdXR0b24iLCJuYXZiYXJEcm9wZG93bkZpbGVNZW51IiwiZmlsZURyb3Bkb3duQnRuIiwiZmlsZU5hdmJhckNvbnRlbnRzIiwibmF2YmFyRHJvcGRvd25NRUlBY3Rpb25zTWVudSIsIm1laUFjdGlvbnNEcm9wZG93bkJ0biIsIm1laUFjdGlvbnNOYXZiYXJDb250ZW50cyIsIm5hdmJhckZpbmFsaXplIiwidW5kb1JlZG9QYW5lbCIsImFkZFN5bEFjdGlvbiIsIm5hdmJhckRyb3Bkb3ducyIsImRyb3BEb3duIiwiZXhwb3J0IiwibWFuaWZlc3QiLCJsaW5rIiwiZG93bmxvYWQiLCJnZXRQYWdlTUVJIiwiY29udmVydFRvTmVvbiIsImdldFBhZ2VOYW1lIiwiaGFzRW1wdHlTeWxsYWJsZXMiLCJyZW1vdmVTeWxsYWJsZUFjdGlvbnMiLCJjaGFpblJlbW92ZUFjdGlvbiIsImhhc0VtcHR5TmV1bWVzIiwicmVtb3ZlTmV1bWVBY3Rpb25zIiwib3V0T2ZCb3VuZFpvbmVzIiwiem9uZU1hcCIsIm91dE9mQm91bmRHbHlwaHMiLCJnbHlwaCIsImZhY3NJZCIsImhhc0ludmFsaWRPYmxpcXVlIiwiaW52YWxpZFN5bGxhYmxlcyIsImdldEludmFsaWRTeWxsYWJsZXMiLCJwcmVjZWRlc1N5bGxhYmxlIiwiZm9sbG93c1N5bGxhYmxlIiwiZGVsZXRlRGIiLCJsb2NhdGlvbiIsInJlbG9hZCIsInVuZG9IYW5kbGVyIiwidW5kbyIsInJlZG9IYW5kbGVyIiwicmVkbyIsImdldEdldFBhcmFtIiwibWFuaWZlc3RMb2NhdGlvbiIsInN0YXR1c1RleHQiLCJpbWFnZSIsIkRpc3BsYXkiLCJJbmZvIiwiVGV4dFZpZXciLCJUZXh0RWRpdCIsIlZpZXciLCJOZXVtZUVkaXQiLCJSZXNwb25zZSIsInBhcnNlTWFuaWZlc3QiLCJ0ZXh0VmlldyIsInVwZGF0ZUJCb3hWaXNpYmlsaXR5IiwiY29yZSIsIlZhbGlkYXRpb24iLCJzZXREZWJ1Z01vZGUiLCJsaXN0ZW5VbnNhdmVkQ2hhbmdlcyIsInNldHVwRWRpdCIsImluaXREYiIsIm9uU1ZHTG9hZCIsInBhZ2VObyIsImdldEN1cnJlbnRQYWdlIiwiY2hhbmdlUGFnZSIsInNldFNhdmVkU3RhdHVzIiwicGFnZVVSSSIsImVsZW1lbnRJRCIsInVwZGF0ZURhdGFiYXNlIiwiZ2V0QW5ub3RhdGlvbnMiLCJ0aW1lc3RhbXAiLCJyZWFkQXNEYXRhVVJMIiwiZ2V0TUVJIiwiZ2V0U1ZHIiwidmVyb3Zpb1dyYXBwZXIiLCJ1bmRvU3RhY2tzIiwicmVkb1N0YWNrcyIsIm5lb25DYWNoZSIsImJsYW5rUGFnZXMiLCJhbm5vdGF0aW9ucyIsIm1laV9hbm5vdGF0aW9ucyIsImxhc3RQYWdlTG9hZGVkIiwiYW5ub3RhdGlvbiIsInRpbWVab25lUmVnZXhwIiwiZ2V0VGltZSIsIm5ld0Fubm90YXRpb24iLCJsb2FkRGF0YSIsImJsYW5rUGFnZSIsImNvbnZlcnRUb1Zlcm92aW8iLCJjaGVja091dE9mQm91bmRzR2x5cGhzIiwiZGlydHkiLCJzZW5kRm9yVmFsaWRhdGlvbiIsInJlbW92ZUNvbHVtbkxhYmVsIiwic3ZnIiwibG9hZFBhZ2UiLCJjdXJyZW50TUVJIiwidW5kb1N0YWNrIiwidXBkYXRlQ2FjaGUiLCJzdmdUZXh0IiwibWVpUHJvbWlzZSIsInN2Z1Byb21pc2UiLCJ1cGRhdGVUaW1lc3RhbXAiLCJ2ZXJvdmlvV29ya2VyIiwiTmVvblNjaGVtYSIsIk5lb25Db250ZXh0IiwibWFuaWZlc3RTdHJpbmciLCJWYWxpZGF0b3IiLCJhdHRyaWJ1dGUiLCJ1bnJlc29sdmVkUmVmcyIsInZhbGlkYXRvcnMiLCJzaG91bGRSZXNvbHZlIiwiYWRkU2NoZW1hIiwib3VyVXJpIiwiYWRkU3ViU2NoZW1hQXJyYXkiLCJhZGRTdWJTY2hlbWEiLCJhZGRTdWJTY2hlbWFPYmplY3QiLCJzZXRTY2hlbWFzIiwiZ2V0U2NoZW1hIiwidXJuIiwic2NoIiwicmVxdWlyZWQiLCJ2YWxpZGF0ZVNjaGVtYSIsInNjaGVtYW9iaiIsInNjaGVtYVRyYXZlcnNlciIsInN1cGVyUmVzb2x2ZSIsInN3aXRjaFNjaGVtYSIsInJlc29sdmVkIiwic3ViY3R4Iiwic3Vic2NoZW1hIiwic2tpcEF0dHJpYnV0ZXMiLCJpZ25vcmVQcm9wZXJ0aWVzIiwidmFsaWRhdG9yRXJyIiwiYWxsb3dVbmtub3duQXR0cmlidXRlcyIsInJld3JpdGUiLCJwYXJzZWQiLCJmcmFnbWVudCIsInRlc3RUeXBlIiwiaW50ZWdlciIsImJvb2xlYW4iLCJkYXRlIiwiYW55IiwibWF4SW50IiwicmVnZXhQdW55Y29kZSIsInJlZ2V4Tm9uQVNDSUkiLCJyZWdleFNlcGFyYXRvcnMiLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJtYXBEb21haW4iLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJjb3VudGVyIiwidWNzMmVuY29kZSIsImRpZ2l0VG9CYXNpYyIsImRpZ2l0IiwiZmxhZyIsImFkYXB0IiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiYmFzZU1pbnVzVE1pbiIsImRlY29kZSIsImJhc2ljIiwib2xkaSIsImJhc2VNaW51c1QiLCJjb2RlUG9pbnQiLCJpbnB1dExlbmd0aCIsImJpYXMiLCJlbmNvZGUiLCJoYW5kbGVkQ1BDb3VudCIsImJhc2ljTGVuZ3RoIiwicSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJxcyIsInNlcCIsIm1heEtleXMiLCJrc3RyIiwidnN0ciIsInhzIiwic3RyaW5naWZ5UHJpbWl0aXZlIiwib2JqZWN0S2V5cyIsImtzIiwiZiIsInRlc3RTY2hlbWFOb1Rocm93IiwiZ2V0RW51bWVyYWJsZVByb3BlcnR5IiwidGVzdEFkZGl0aW9uYWxQcm9wZXJ0eSIsInByZVZhbGlkYXRlUHJvcGVydHkiLCJpbm5lciIsIm5lc3RlZEVycm9ycyIsImlmIiwiaWZWYWxpZCIsImVsc2UiLCJwcm9wZXJ0eU5hbWVzIiwiX2UiLCJtaW5Qcm9wZXJ0aWVzIiwibWF4UHJvcGVydGllcyIsIm1pbmltdW0iLCJleGNsdXNpdmVNaW5pbXVtIiwibWF4aW11bSIsImV4Y2x1c2l2ZU1heGltdW0iLCJ2YWxpZGF0ZU11bHRpcGxlT2ZPckRpdmlzYmxlQnkiLCJ2YWxpZGF0aW9uVHlwZSIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25Bcmd1bWVudCIsImluc3RhbmNlRGVjaW1hbHMiLCJkaXZpc29yRGVjaW1hbHMiLCJtYXhEZWNpbWFscyIsInBvdyIsInRlc3RBcnJheXMiLCJtdWx0aXBsZU9mIiwiZGl2aXNpYmxlQnkiLCJtaW5MZW5ndGgiLCJoc3AiLCJtaW5JdGVtcyIsIm1heEl0ZW1zIiwidW5pcXVlSXRlbXMiLCJkZXAiLCJjaGlsZENvbnRleHQiLCJub3RUeXBlcyIsInNjaGVtYUlkIiwidXBkYXRlRGVidWdNb2RlU3RhdHVzIiwiZGVidWdNb2RlQ2hlY2tib3giLCJlcnJvckxvZ0xhYmVsIiwiaW5pdEVycm9yTG9nIiwibWVpQ2xhc3MiLCJoYW5kbGVab29tIiwiZGlzcGxheUNvbnRyb2xzUGFuZWwiLCJsb2FkU2V0dGluZ3MiLCJhZGRVcGRhdGVDYWxsYmFjayIsInVwZGF0ZVZpc3VhbGl6YXRpb24iLCJEaXNwbGF5Q29udHJvbHMiLCJzZXRab29tQ29udHJvbHMiLCJpbml0RGlzcGxheUNvbnRyb2xzIiwidXBkYXRlQ2FsbGJhY2tzIiwiZGl2YVJlYWR5IiwiZGl2YSIsIm9iamVjdERhdGEiLCJtaW5IZWlnaHQiLCJpbmRleE1hcCIsImRpc2FibGVEcmFnU2Nyb2xsYWJsZSIsImRpc3BsYXlQYW5lbCIsImxvYWREZWxheSIsImluaXREaXZhRXZlbnRzIiwib25yZXNpemUiLCJpbm5lckhlaWdodCIsImlubmVyV2lkdGgiLCJFdmVudHMiLCJzdWJzY3JpYmUiLCJJRCIsImRpZExvYWQiLCJhZGp1c3Rab29tIiwicGFnZUluZGV4IiwiY2hlY2tBbmRMb2FkIiwicGFnZSIsImdldFBhZ2VTVkciLCJ1cGRhdGVTVkciLCJjb250YWluZXJJZCIsInBhZ2VJbmRleGVzIiwiZ2V0QWN0aXZlUGFnZUluZGV4Iiwiem9vbUR1cmF0aW9uIiwiZmlyc3RDaGlsZCIsInNldFZpZXdFdmVudEhhbmRsZXJzIiwiZ2V0UGFnZURpbWVuc2lvbnNBdEN1cnJlbnRab29tTGV2ZWwiLCJ2aWV3SGFuZGxlciIsIl92aWV3ZXJDb3JlIiwiZ2V0UGFnZVJlZ2lvbiIsImluY2x1ZGVQYWRkaW5nIiwiaW5jb3Jwb3JhdGVWaWV3cG9ydCIsIm1hcmdpbkxlZnQiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInRvcCIsInNldERpc3BsYXlMaXN0ZW5lcnMiLCJ2aXNpYmlsaXR5Iiwic2VxdWVuY2UiLCJzZXF1ZW5jZXMiLCJjYW52YXNlcyIsIml0ZW1UaXRsZSIsInBhZ2VzIiwiX3JhZiIsIl9pc1RvdWNoIiwiX2V4dGVuZCIsIlZhbmlsbGFLaW5ldGljIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiREVGQVVMVFMiLCJBQ1RJVkVfQ0xBU1MiLCJfaW5pdEVsZW1lbnRzIiwiX1ZhbmlsbGFLaW5ldGljIiwiZGVjZWxlcmF0ZSIsInRyaWdnZXJIYXJkd2FyZSIsInRocmVzaG9sZCIsInNsb3dkb3duIiwibWF4dmVsb2NpdHkiLCJ0aHJvdHRsZUZQUyIsIm1vdmluZ0NsYXNzIiwiZG93biIsImRlY2VsZXJhdGluZ0NsYXNzIiwidmVsb2NpdHkiLCJ2ZWxvY2l0eVkiLCJfbW92ZSIsInN0b3AiLCJzdG9wcGVkIiwiZGV0YWNoIiwiX2RldGFjaExpc3RlbmVycyIsImF0dGFjaCIsIl9hdHRhY2hMaXN0ZW5lcnMiLCJ4cG9zIiwicHJldlhQb3MiLCJ5cG9zIiwicHJldllQb3MiLCJtb3VzZURvd24iLCJ0aHJvdHRsZVRpbWVvdXQiLCJsYXN0TW92ZSIsImVsZW1lbnRGb2N1c2VkIiwiZG9jdW1lbnRSZXNldEhhbmRsZXIiLCJfcmVzZXRNb3VzZSIsImh0bWwiLCJfaW5pdEV2ZW50cyIsInByZWZpeGVzIiwic3R5bGVzIiwidG91Y2hTdGFydCIsInRvdWNoIiwiX3VzZVRhcmdldCIsIm9yaWdpbmFsRXZlbnQiLCJ0b3VjaGVzIiwiX3RocmVzaG9sZCIsIl9zdGFydCIsInRvdWNoTW92ZSIsIl9pbnB1dG1vdmUiLCJpbnB1dERvd24iLCJpbnB1dEVuZCIsIl9lbmQiLCJpbnB1dE1vdmUiLCJzY3JvbGwiLCJtb3ZlZCIsImlucHV0Q2xpY2siLCJkcmFnU3RhcnQiLCJzZWxlY3RTdGFydCIsIm1vdmVkWCIsIm1vdmVkWSIsInNxcnQiLCJibHVyIiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsIl9jYWxjdWxhdGVWZWxvY2l0aWVzIiwiX3NldE1vdmVDbGFzc2VzIiwiX2NhcFZlbG9jaXR5IiwiZmlsdGVyVGFyZ2V0IiwiX2RlY2VsZXJhdGVWZWxvY2l0eSIsIm5ld1ZlbG9jaXR5IiwiY2xhc3NlcyIsInNjcm9sbGVyIiwiX2dldFNjcm9sbGVyIiwic2Nyb2xsV2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJtb3ZpbmciLCJuZXdTY3JvbGxYIiwibmV3U2Nyb2xsWSIsIl93aW5kb3ciLCJfZG9jdW1lbnQiLCJkcmFnZ2VkIiwibWQiLCJtdSIsIm1tIiwibGFzdENsaWVudFgiLCJsYXN0Q2xpZW50WSIsInB1c2hlZCIsImNvbnQiLCJlbGVtZW50RnJvbVBvaW50IiwicGFnZVgiLCJwYWdlWSIsInJlYWR5U3RhdGUiLCJyZXNldERyYWdzY3JvbGwiLCJjcmVhdGVEZWJ1ZyIsInByZXZUaW1lIiwibmFtZXNwYWNlc0NhY2hlIiwiZW5hYmxlZENhY2hlIiwiZW5hYmxlT3ZlcnJpZGUiLCJlbmFibGVkIiwibXMiLCJjb2VyY2UiLCJmb3JtYXR0ZXIiLCJzZWxlY3RDb2xvciIsImRlbGltaXRlciIsIm5ld0RlYnVnIiwidG9OYW1lc3BhY2UiLCJkaXNhYmxlIiwic2tpcHMiLCJlbmFibGUiLCJwbHVyYWwiLCJtc0FicyIsImlzUGx1cmFsIiwibG9uZyIsImZtdExvbmciLCJmbXRTaG9ydCIsInBhbmVsIiwic2V0QXR0cmlidXRlTlMiLCJyZXBsYWNlQ2hpbGQiLCJyZXNldFRyYW5zZm9ybWF0aW9ucyIsIl9wYWdlIiwiX2RlbGF5IiwicmVzdG9yZVRyYW5zZm9ybWF0aW9uIiwic2V0U2VsZWN0TGlzdGVuZXJzIiwic2Nyb2xsWm9vbSIsIm5ld0hlaWdodCIsIlZpZXdCb3giLCJpbWFnZVdpZHRoIiwiaW1hZ2VIZWlnaHQiLCJtaW5YIiwibWluWSIsInpvb21IZWlnaHQiLCJ6b29tV2lkdGgiLCJab29tSGFuZGxlciIsInJlc2V0U2V0dGluZ3MiLCJiZ2ltZyIsInVwZGF0ZVNWR1ZpZXdCb3giLCJzZXRWaWV3Qm94IiwidHJhbnNsYXRlIiwicmF3Vmlld0JveCIsInZpZXdCb3hTdHJpbmciLCJkcmFnQ29vcmRpbmF0ZXMiLCJjcmVhdGVTVkdQb2ludCIsIm1hdHJpeCIsIm5ld0Nvb3JkaW5hdGVzIiwiZGVsdGFYIiwiZGVsdGFZIiwibmV3VHJhbnNmb3JtIiwiZHJhZ1RyYW5zZm9ybSIsInNsaWRlciIsIm5ld0siLCJnZXRab29tIiwiaW5pdEVkaXRNb2RlIiwiYmluZEluc2VydFRhYnMiLCJTZWxlY3QiLCJzZXRTZWxlY3RIZWxwZXJPYmplY3RzIiwiaW5pdEluc2VydEVkaXRDb250cm9scyIsInNldFNlbGVjdFN0cm9rZVdpZHRoIiwiaW5pdFNlbGVjdGlvbkJ1dHRvbnMiLCJzZXRIaWdobGlnaHRTZWxlY3Rpb25Db250cm9scyIsImNsaWNrU2VsZWN0IiwiZHJhZ1NlbGVjdCIsImluaXROYXZiYXIiLCJpbml0VW5kb1JlZG9QYW5lbCIsIm5ldW1lR3JvdXBzIiwidXBkYXRlSW5mb1Zpc2liaWxpdHkiLCJlbGVtZW50SW5mbyIsInVwZGF0ZURpc3BsYXlBbGxCdG4iLCJzZXRJbmZvQ29udHJvbHMiLCJsYWJlbCIsInJlc2V0SW5mb0xpc3RlbmVycyIsImlzSG92ZXJpbmdDaGlsZCIsInVwZGF0ZUluZm8iLCJzdG9wTGlzdGVuZXJzIiwiZWxlbWVudENsYXNzIiwicGl0Y2hlcyIsImdldFBpdGNoZXMiLCJkaXMiLCJkaXNwbGFjZSIsInVwZGF0ZUluZm9Nb2R1bGUiLCJwaXRjaE5hbWVUb051bSIsInBuYW1lIiwibm90aWZpY2F0aW9uU2VudCIsInRleHRMYWJlbCIsImJib3hMYWJlbCIsInRleHRCdXR0b24iLCJiYm94QnV0dG9uIiwic2V0VGV4dFZpZXdDb250cm9scyIsInVwZGF0ZVRleHRWaWV3VmlzaWJpbGl0eSIsImluaXRTZWxlY3RCeUJCb3hCdXR0b24iLCJpbml0QkJveENpcmNsZVNsaWRlciIsImdldFN5bFRleHQiLCJpbml0VGV4dEVkaXQiLCJseXJpY3MiLCJzZWxCeUJCb3hMaXN0ZW5lciIsImFkZEJCb3hMaXN0ZW5lcnMiLCJzcGFucyIsInNlbGVjdFN5bFRleHQiLCJibG9jayIsImJ1dHRvbiIsInNsaWRlclNlY3Rpb24iLCJjaXJjbGVTbGlkZXJDb250YWluZXIiLCJzZXRDaXJjbGVTaXplQ29udHJvbHMiLCJlbHQiLCJoYW5kbGVFbHRDb25zdHJ1Y3RvckFyZyIsImNoaWxkQ291bnQiLCJzZXRET01BdHRyaWJ1dGVzIiwic2V0U3R5bGUiLCJjc3NQcm9wIiwiY3NzVGV4dCIsIkRpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb24iLCJOb3RBbklJSUZNYW5pZmVzdEV4Y2VwdGlvbiIsIk9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbiIsIl9jYWNoZSIsInRvcGljIiwidGhpc1RvcGljIiwidGhpc1RvcGljR2xvYmFsIiwiZ2xvYmFsQ291bnQiLCJnZXRJbnN0YW5jZUlkIiwiaW5zdGFuY2VJRCIsInRoaXNUb3BpY0luc3RhbmNlIiwic2NvcGVkQ291bnQiLCJjb21wbGV0ZWx5IiwidG9waWNBcnJheSIsInRvcGljcyIsIm9uRG91YmxlQ2xpY2siLCJnZXRSZWxhdGl2ZU9mZnNldCIsInRyYWNrZXIiLCJjcmVhdGVEb3VibGVFdmVudFRyYWNrZXIiLCJpc1RyaWdnZXJlZCIsInRyaWdnZXIiLCJvblBpbmNoIiwic3RhcnREaXN0YW5jZSIsImRpc3RhbmNlIiwibW92ZURpc3RhbmNlIiwiem9vbURlbHRhIiwidG91Y2hDZW50ZXIiLCJvbkRvdWJsZVRhcCIsImZpcnN0VGFwIiwic2Vjb25kVGFwIiwiY2hhbmdlZFRvdWNoZXMiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInRpbWVvdXREdXJhdGlvbiIsInRyaWdnZXJlZCIsInRpbWVvdXRJZCIsInJlc2V0VGltZW91dCIsInBhZ2VDb29yZHMiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ2aWV3ZXJDb3JlIiwiX2lubmVyRWxlbWVudCIsImlubmVyRWxlbWVudCIsIl9wYWdlVG9vbHNFbGVtIiwibGFiZWxXaWR0aCIsIl9idXR0b25zIiwiX2luaXRpYWxpemVQYWdlVG9vbEJ1dHRvbnMiLCJjbGFzcyIsIl9wYWdlTGFiZWxzRWxlbSIsInJlZnJlc2giLCJwdWJsaWNJbnN0YW5jZSIsImdldFB1YmxpY0luc3RhbmNlIiwiZ2V0UGFnZVRvb2xzIiwicGFnZVRvb2xzSWNvbiIsImNsb25lTm9kZSIsImhhbmRsZUNsaWNrIiwiX3ZpZXdlclN0YXRlIiwiZ2V0SW50ZXJuYWxTdGF0ZSIsIl9vdmVybGF5cyIsIm51bVBhZ2VzIiwib3ZlcmxheSIsImFkZFBhZ2VPdmVybGF5IiwiZHVtbXlMYWJlbCIsImNsaWVudFdpZHRoIiwiY29vcmRzIiwibmV3Wm9vbUxldmVsIiwiem9vbUxldmVsIiwiZ2V0UGFnZVBvc2l0aW9uQXRWaWV3cG9ydE9mZnNldCIsImVuZERpc3RhbmNlIiwidmlld2VyU3RhdGUiLCJtaW5ab29tTGV2ZWwiLCJtYXhab29tTGV2ZWwiLCJjZW50ZXJPZmZzZXQiLCJnZXRDdXJyZW50TGF5b3V0IiwiZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQiLCJhbmNob3JQYWdlIiwidmlld3BvcnQiLCJzY2FsZVJhdGlvIiwiZ29EaXJlY3RseVRvIiwiaG9yaXpvbnRhbE9mZnNldCIsInZlcnRpY2FsT2Zmc2V0IiwicHVibGlzaCIsIl9oYW5kbGVab29tTGV2ZWxDaGFuZ2UiLCJjdXJyZW50UGFnZUluZGV4IiwiYWN0aXZlUGFnZUluZGV4IiwiZmlsZU5hbWUiLCJyZW5kZXJlZFBhZ2VzIiwidGFyZ2V0UGFnZSIsImN1cnJlbnRQYWdlIiwibGF5b3V0IiwiY2VudGVyWSIsImNlbnRlclgiLCJjZW50ZXJQYWdlIiwiZGltcyIsImdldFBhZ2VEaW1lbnNpb25zIiwiaW1hZ2VPZmZzZXQiLCJnZXRQYWdlT2Zmc2V0IiwibWlkWCIsIm1pZFkiLCJnZXRDZW50ZXJtb3N0UGFnZSIsImdldFZpZXdwb3J0IiwiaW50ZXJzZWN0aW9uVG9sZXJhbmNlIiwidmlzaWJsZVBhZ2VzIiwicmVuZGVyZXIiLCJpc1BhZ2VWaXNpYmxlIiwic2V0Q3VycmVudFBhZ2VzIiwib2xkWm9vbUxldmVsIiwicmVtb3ZlUGFnZU92ZXJsYXkiLCJHcmlkSGFuZGxlciIsInBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0IiwiaW5HcmlkIiwiZ2V0UGFnZUluZm8iLCJjaG9zZW5Hcm91cCIsInJlZ2lvbiIsImJvdHRvbSIsInZpZXdwb3J0TWlkZGxlIiwiZ3JvdXBNaWRkbGUiLCJnZXRDZW50ZXJtb3N0R3JvdXAiLCJQYWdlT3ZlcmxheU1hbmFnZXIiLCJfcGFnZXMiLCJfcmVuZGVyZWRQYWdlcyIsIl9yZW5kZXJlZFBhZ2VNYXAiLCJtb3VudCIsIm92ZXJsYXlzQnlQYWdlIiwib3ZlcmxheUluZGV4IiwidW5tb3VudCIsInByZXZpb3VzbHlSZW5kZXJlZCIsIm5ld1JlbmRlcmVkTWFwIiwiX2ludm9rZU9uT3ZlcmxheXMiLCJvdmVybGF5cyIsIlRpbGVDb3ZlcmFnZU1hcCIsImNvbHMiLCJfcm93cyIsIl9jb2xzIiwiX21hcCIsImNvbCIsImxldmVscyIsIl9sZXZlbHMiLCJ1cmxzVG9UaWxlcyIsIl91cmxzVG9UaWxlcyIsImxldmVsIiwidGlsZXMiLCJ0aWxlIiwibG9hZGVkQnlMZXZlbCIsIl9sb2FkZWRCeUxldmVsIiwiYmFzZVpvb21MZXZlbCIsInRvUmVuZGVyQnlMZXZlbCIsImhpZ2hlc3Rab29tTGV2ZWwiLCJjb3ZlcmVkIiwiYmVzdExldmVsSW5kZXgiLCJjZWlsTGV2ZWwiLCJsb2FkZWQiLCJhZGRpdGlvbmFsVGlsZXMiLCJpc0xvYWRlZCIsImlzTmVlZGVkIiwiaGlnaFJlc1JvdyIsImhpZ2hSZXNDb2wiLCJieUxldmVsIiwidXJscyIsIkRvY3VtZW50TGF5b3V0IiwiY29uZmlnIiwiY29tcHV0ZWRMYXlvdXQiLCJzY2FsZWRMYXlvdXRzIiwicGFnZUxheW91dHMiLCJzY2FsZURpbWVuc2lvbnMiLCJncm91cE9mZnNldCIsImdldFNjYWxlZFBhZ2VMYXlvdXRzIiwiZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQiLCJzZWNvbmRhcnlEaW0iLCJzZWNvbmRhcnlQYWRkaW5nIiwiZG9jUGFkZGluZyIsInZlcnRpY2FsbHlPcmllbnRlZCIsIm1heERpbSIsImdldEV4dGVudEFsb25nU2Vjb25kYXJ5QXhpcyIsInByaW1hcnlEb2NQb3NpdGlvbiIsInBhZ2VHcm91cHMiLCJwYWdlUGFkZGluZyIsImdldENvbXB1dGVkTGF5b3V0IiwiX3BhZ2VMb29rdXAiLCJwYWdlTG9va3VwIiwiZ2V0UGFnZUxvb2t1cCIsImdldFBhZ2VSZWdpb25Gcm9tUGFnZUluZm8iLCJwYWdlSW5mbyIsImVsZW1lbnRXaWR0aCIsImVsZW1lbnRIZWlnaHQiLCJJbWFnZUNhY2hlIiwiX2hlbGQiLCJfdXJscyIsIl9scnUiLCJyZWNvcmQiLCJpbWciLCJfcHJvbW90ZSIsIl90cnlFdmljdCIsImV4dHJhQ2FwYWNpdHkiLCJhbGxvd2VkRW50cnlDb3VudCIsImV2aWN0aW9uSW5kZXgiLCJJbWFnZVJlcXVlc3RIYW5kbGVyIiwiX3VybCIsIl9jYWxsYmFjayIsIl9lcnJvckNhbGxiYWNrIiwidGltZW91dFRpbWUiLCJfYWJvcnRlZCIsIl9jb21wbGV0ZSIsIl9jcm9zc09yaWdpbiIsImltYWdlQ3Jvc3NPcmlnaW4iLCJfaW1hZ2UiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwib25sb2FkIiwiX2hhbmRsZUxvYWQiLCJfaGFuZGxlRXJyb3IiLCJhbmltYXRlIiwiZHVyYXRpb25NcyIsImR1cmF0aW9uIiwicGFyYW1ldGVycyIsIm9uVXBkYXRlIiwib25FbmQiLCJ0d2VlbkZucyIsInBhcmFtS2V5cyIsImVhc2luZyIsImVsYXBzZWQiLCJpbk91dEN1YmljRWFzaW5nIiwicmVxdWVzdElkIiwidXBkYXRlVmFsdWVzIiwiaGFuZGxlQW5pbWF0aW9uQ29tcGxldGlvbiIsImludGVycnVwdGVkIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJsaW5lYXIiLCJjdWJpYyIsInBlcmZvcm1hbmNlIiwiaG9va3MiLCJfdmlld3BvcnQiLCJfb3V0ZXJFbGVtZW50Iiwib3V0ZXJFbGVtZW50IiwiX2RvY3VtZW50RWxlbWVudCIsIl9zZXR0aW5ncyIsIl9ob29rcyIsIl9jYW52YXMiLCJfY3R4IiwiZ2V0Q29udGV4dCIsIl9zb3VyY2VSZXNvbHZlciIsIl9jb25maWciLCJfem9vbUxldmVsIiwiX2NvbXBvc2l0ZUltYWdlcyIsIl9yZW5kZXJlZFRpbGVzIiwiX2FuaW1hdGlvbiIsIl9wZW5kaW5nUmVxdWVzdHMiLCJIVE1MQ2FudmFzRWxlbWVudCIsInZpZXdwb3J0UG9zaXRpb24iLCJzb3VyY2VSZXNvbHZlciIsIl9jbGVhckFuaW1hdGlvbiIsIm9uVmlld1dpbGxMb2FkIiwiX3NldExheW91dFRvWm9vbUxldmVsIiwiZ290byIsIm9uVmlld0RpZExvYWQiLCJfZ290byIsInNldElubmVyRGltZW5zaW9ucyIsIl9yZW5kZXIiLCJvblZpZXdEaWRVcGRhdGUiLCJuZXdSZW5kZXJlZFBhZ2VzIiwiaW50ZXJzZWN0c1JlZ2lvbiIsImNsZWFyUmVjdCIsIl9wYWludE91dGxpbmUiLCJ6b29tTGV2ZWxzIiwiZ2V0QWxsWm9vbUxldmVsc0ZvclBhZ2UiLCJjb21wb3NpdGUiLCJ1cGRhdGVGcm9tQ2FjaGUiLCJfaW5pdGlhdGVUaWxlUmVxdWVzdHMiLCJmaW5kQ2hhbmdlcyIsIl9wYWludCIsIm9uUGFnZVdpbGxMb2FkIiwiYWRkZWQiLCJyZW5kZXJlZFRpbGVzIiwiZ2V0VGlsZXMiLCJzY2FsZWQiLCJnZXRTY2FsZWRUaWxlUmVjb3JkIiwiX2lzVGlsZVZpc2libGUiLCJfZHJhd1RpbGUiLCJhY3F1aXJlIiwicmVsZWFzZSIsInBhZ2VPZmZzZXQiLCJfZ2V0SW1hZ2VPZmZzZXQiLCJ2aWV3cG9ydFBhZGRpbmdYIiwidmlld3BvcnRQYWRkaW5nWSIsInZpZXdwb3J0T2Zmc2V0WCIsInZpZXdwb3J0T2Zmc2V0WSIsImRlc3RYT2Zmc2V0IiwiZGVzdFlPZmZzZXQiLCJjYW52YXNYIiwiY2FudmFzWSIsImRlc3RXaWR0aCIsImRlc3RIZWlnaHQiLCJzdHJva2VTdHlsZSIsInN0cm9rZVJlY3QiLCJuZXdQZW5kaW5nUmVxdWVzdHMiLCJpbml0aWF0ZVJlcXVlc3QiLCJ1cGRhdGVXaXRoTG9hZGVkVXJscyIsIl9pc1RpbGVGb3JTb3VyY2VWaXNpYmxlIiwiZ2V0QmVzdFpvb21MZXZlbEZvclBhZ2UiLCJzY2FsZWRUaWxlIiwidGlsZU9mZnNldCIsIl9nZXRUaWxlVG9Eb2N1bWVudE9mZnNldCIsInNvdXJjZVhPZmZzZXQiLCJzb3VyY2VZT2Zmc2V0IiwiZGVzdEltZ1dpZHRoIiwiZGVzdEltZ0hlaWdodCIsInNvdXJjZVdpZHRoIiwic291cmNlSGVpZ2h0IiwiZHJhd0ltYWdlIiwidGlsZVNvdXJjZSIsImdldFBvc2l0aW9uIiwib25WaWV3RGlkVHJhbnNpdGlvbiIsIl9zZXRWaWV3cG9ydFBvc2l0aW9uIiwib25ab29tTGV2ZWxXaWxsQ2hhbmdlIiwic2NhbGVGYWN0b3IiLCJzb3VyY2Vab29tTGV2ZWwiLCJuZXdBcnJheSIsIm9sZEVudHJ5IiwibmV3RW50cnkiLCJnZXRNYXhQYWdlRGltZW5zaW9ucyIsImdldEJvb2tMYXlvdXRHcm91cHMiLCJ2aWV3ZXJDb25maWciLCJwYWdlc0J5R3JvdXAiLCJsZWZ0UGFnZSIsIm5vblBhZ2VkUGFnZXMiLCJfYWRkTm9uUGFnZWRQYWdlcyIsIm5sZW4iLCJwYWdlUmVjb3JkIiwicGFnZWQiLCJzaG93Tm9uUGFnZWRQYWdlcyIsImZhY2luZ1BhZ2VzIiwiZ2V0R3JvdXBpbmdzIiwicmlnaHRQYWdlIiwibGVmdERpbXMiLCJyaWdodERpbXMiLCJmaXJzdExlZnRPZmZzZXQiLCJzZWNvbmRMZWZ0T2Zmc2V0IiwibWlkV2lkdGgiLCJnZXRGYWNpbmdQYWdlR3JvdXAiLCJwYWdlRGltcyIsImxlZnRPZmZzZXQiLCJzaG91bGRCZUhvcml6b250YWxseUFkanVzdGVkIiwiZ2V0R3JvdXBMYXlvdXRzRnJvbVBhZ2VHcm91cGluZyIsImdldEdyaWRMYXlvdXRHcm91cHMiLCJ2aWV3cG9ydFdpZHRoIiwicGFnZXNQZXJSb3ciLCJmaXhlZEhlaWdodEdyaWQiLCJmaXhlZFBhZGRpbmciLCJwYWdlV2lkdGgiLCJncmlkUGFnZVdpZHRoIiwicm93SGVpZ2h0IiwibWluUmF0aW8iLCJtYXhSYXRpbyIsImN1cnJlbnRQYWdlcyIsInJvd0RpbWVuc2lvbnMiLCJwYWdlRGltZW5zIiwicGFnZURhdGEiLCJwYWdlRGltZW5EYXRhIiwiaGVpZ2h0VG9XaWR0aFJhdGlvIiwicGFnZUhlaWdodCIsImdldEdyaWRQYWdlRGltZW5zaW9ucyIsImdldFBhZ2VMYXlvdXRzIiwicGx1Y2siLCJpbkJvb2tMYXlvdXQiLCJnZXRTaW5nbGVzTGF5b3V0R3JvdXBzIiwiY3JlYXRlU2V0dGluZ3NWaWV3IiwicmVnaXN0ZXJNaXhpbiIsIlZhbGlkYXRpb25SdW5uZXIiLCJ3aGl0ZWxpc3RlZEtleXMiLCJ2YWxpZGF0aW9ucyIsInZhbGlkYXRpb25JbmRleCIsInZhbGlkYXRpb24iLCJkdW1teUNoYW5nZXMiLCJwcm94aWVyIiwiY3JlYXRlU2V0dGluZ3NQcm94aWVyIiwiX3J1blZhbGlkYXRpb24iLCJfdmFsaWRhdGVPcHRpb25zIiwiY2xvbmVkIiwic2V0dGluZ3NQcm94aWVyIiwiX2FwcGx5VmFsaWRhdGlvbnMiLCJjb3JyZWN0ZWQiLCJ3YXJuaW5nU3VwcHJlc3NlZCIsIm9yaWdpbmFsIiwiZW1pdFdhcm5pbmciLCJzdXBwcmVzc1dhcm5pbmciLCJvdXRwdXRWYWx1ZSIsInByb3h5IiwicnVubmVyIiwibG9va3VwIiwibG9va3VwVmFsdWUiLCJ3aGl0ZWxpc3RlZCIsImFkZGl0aW9uYWwiLCJjdXJyZW50S2V5IiwiZGVmaW5lUHJvcGVydGllcyIsImV4dGVuc2lvbiIsIlZpZXdwb3J0IiwiX3RvcCIsIl9sZWZ0IiwiX3dpZHRoIiwiX2hlaWdodCIsIl9pbm5lckRpbWVuc2lvbnMiLCJpbnZhbGlkYXRlIiwiaGFzSG9yaXpvbnRhbE92ZXJsYXAiLCJoYXNWZXJ0aWNhbE92ZXJsYXAiLCJmYWxsc0JldHdlZW4iLCJjbGllbnRIZWlnaHQiLCJnZXRDb29yZGluYXRlRGVzY3JpcHRvciIsImFzc29jaWF0ZWREaW1lbnNpb24iLCJwcml2YXRlUHJvcCIsImNsYW1wTWluIiwiZ2V0RGltZW5zaW9uRGVzY3JpcHRvciIsImRpbWVuIiwiY2xhbXBNYXgiLCJnZW5lcmF0ZUlkIiwib3B0aW9uc1ZhbGlkYXRpb25zIiwibWluUGFnZXNQZXJSb3ciLCJtYXhQYWdlc1BlclJvdyIsIm1heFpvb20iLCJwYXJlbnRPYmplY3QiLCJjdXJyZW50UGFnZUluZGljZXMiLCJob3Jpem9udGFsUGFkZGluZyIsImluaXRpYWxLZXlTY3JvbGwiLCJpbml0aWFsU3BhY2VTY3JvbGwiLCJpbm5lck9iamVjdCIsImlzQWN0aXZlRGl2YSIsImlzU2Nyb2xsYWJsZSIsImlzWm9vbWluZyIsIm1vYmlsZVdlYmtpdCIsIm91dGVyT2JqZWN0IiwicGFnZU92ZXJsYXlzIiwicGFnZVRvb2xzIiwicGVuZGluZ01hbmlmZXN0UmVxdWVzdCIsInBsdWdpbkluc3RhbmNlcyIsInJlc2l6ZVRpbWVyIiwic2Nyb2xsYmFyV2lkdGgiLCJ0aHJvYmJlclRpbWVvdXRJRCIsInRvb2xiYXIiLCJ2ZXJ0aWNhbFBhZGRpbmciLCJ2aWV3cG9ydE9iamVjdCIsImlkTnVtYmVyIiwicGFuZWxIZWlnaHQiLCJwYW5lbFdpZHRoIiwib3B0aW9uc1ZhbGlkYXRvciIsIncxIiwib2Zmc2V0V2lkdGgiLCJ3MiIsImdldFNjcm9sbGJhcldpZHRoIiwib3JpZW50YXRpb24iLCJoYXNoUGFyYW1TdWZmaXgiLCJpbm5lckVsZW0iLCJlbGVtQXR0cnMiLCJ2aWV3cG9ydEVsZW0iLCJvdXRlckVsZW0iLCJ2aWV3cG9ydE1hcmdpbiIsImJvdW5kU2Nyb2xsRnVuY3Rpb24iLCJzY3JvbGxGdW5jdGlvbiIsImJvdW5kRXNjYXBlTGlzdGVuZXIiLCJlc2NhcGVMaXN0ZW5lciIsImluaXRQbHVnaW5zIiwiaGFuZGxlRXZlbnRzIiwic2hvd1Rocm9iYmVyIiwiaXNWYWxpZCIsImlkZW50IiwiYXR0cnMiLCJrZXlDb2RlIiwibGVhdmVGdWxsc2NyZWVuTW9kZSIsIm5ld09wdGlvbnMiLCJxdWV1ZWRFdmVudHMiLCJnZXRWYWxpZGF0ZWRPcHRpb25zIiwiaGFzQ2hhbmdlZE9wdGlvbiIsImluRnVsbHNjcmVlbiIsInByZXBhcmVNb2RlQ2hhbmdlIiwiY2xlYXJWaWV3ZXIiLCJ1cGRhdGVWaWV3SGFuZGxlckFuZFJlbmRlcmluZyIsInJlbmRlcmVyQ29uZmlnIiwiZ2V0UGFkZGluZyIsInNvdXJjZVByb3ZpZGVyIiwiZ2V0Q3VycmVudFNvdXJjZVByb3ZpZGVyIiwic2VyaWFsaXplZCIsImNoYW5nZUNsYXNzIiwic3RvcmVkSGVpZ2h0Iiwic3RvcmVkV2lkdGgiLCJuZXdXaWR0aCIsIkhhbmRsZXIiLCJpbml0aWFsaXplUmVuZGVyZXIiLCJjb21wYXRFcnJvcnMiLCJnZXRDb21wYXRpYmlsaXR5RXJyb3JzIiwic2hvd0Vycm9yIiwidXBkYXRlUGFnZU92ZXJsYXlzIiwiZ3JpZFNvdXJjZVByb3ZpZGVyIiwiZ2V0UGFnZUltYWdlVVJMIiwidGlsZURpbWVuc2lvbnMiLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0IiwiZ2V0UGFnZUltYWdlVGlsZXMiLCJsZXZlbENvdW50IiwidG9wUGFkZGluZyIsImxlZnRQYWRkaW5nIiwiZG9jVlBhZGRpbmciLCJkb2NIUGFkZGluZyIsInVwZGF0ZU92ZXJsYXlzIiwiZ2V0UmVuZGVyZWRQYWdlcyIsImZvY2FsUG9pbnQiLCJpc1ZhbGlkT3B0aW9uIiwiY3VycmVudFJlZ2lvbiIsInBhZ2VSZWdpb24iLCJmb2NhbFhUb0NlbnRlciIsImZvY2FsWVRvQ2VudGVyIiwiZ2V0UG9zaXRpb25Gb3Jab29tTGV2ZWwiLCJpbml0Wm9vbSIsInpvb21SYXRpbyIsImluaXRpYWxab29tTGV2ZWwiLCJlbmRQb3NpdGlvbiIsInRyYW5zaXRpb25WaWV3cG9ydFBvc2l0aW9uIiwiem9vbUluQnV0dG9uIiwiem9vbU91dEJ1dHRvbiIsImFuY2hvciIsInBpZHgiLCJnZXRQYWdlRGF0YSIsInVwZGF0ZU9mZnNldHMiLCJ1cGRhdGVQYW5lbFNpemUiLCJyZWxvYWRWaWV3ZXIiLCJibG9ja01vYmlsZU1vdmUiLCJwcmV2aW91c1RvcFNjcm9sbCIsInByZXZpb3VzTGVmdFNjcm9sbCIsIm5ld1Njcm9sbFRvcCIsIm5ld1Njcm9sbExlZnQiLCJhZGp1c3QiLCJwcmltYXJ5U2Nyb2xsIiwiYmluZE1vdXNlRXZlbnRzIiwiZW5hYmxlU3BhY2VTY3JvbGwiLCJlbmFibGVLZXlTY3JvbGwiLCJhcnJvd1Njcm9sbEFtb3VudCIsIm9uUmVzaXplIiwicGx1Z2lucyIsImlzUGFnZVRvb2wiLCJoaWRlVGhyb2JiZXIiLCJ0aGIiLCJ0aHJvYmJlclRpbWVvdXQiLCJlcnJvckVsZW1lbnQiLCJsb2FkT3B0aW9ucyIsImFkYXB0aXZlUGFkZGluZyIsImdldEF2ZXJhZ2VXaWR0aCIsImdldEF2ZXJhZ2VIZWlnaHQiLCJuZWVkc1hDb29yZCIsIm5lZWRzWUNvb3JkIiwiYW5jaG9yZWRWZXJ0aWNhbGx5IiwiYW5jaG9yZWRIb3Jpem9udGFsbHkiLCJnZXRYT2Zmc2V0IiwiZ2V0WU9mZnNldCIsImVuYWJsZUF1dG9UaXRsZSIsIm1pbldpZHRoIiwiYWRkT3ZlcmxheSIsInJlbW92ZU92ZXJsYXkiLCJkb2NPZmZzZXQiLCJkb2NDb29yZHMiLCJwYWdlQ291bnQiLCJhY3RpdmVQYWdlIiwiYXJyYXlzRXF1YWwiLCJvdGhlckltYWdlcyIsImVuYWJsZURyYWdTY3JvbGxhYmxlIiwiZGJsY2xpY2siLCJjb250ZXh0bWVudSIsInJlbW92ZUNsYXNzIiwicmVtb3ZlRGF0YSIsInJlbW92ZUF0dHIiLCJ1bnN1YnNjcmliZUFsbCIsInBhcnNlTGFiZWxWYWx1ZSIsImdldE1heFpvb21MZXZlbCIsImxhcmdlc3REaW1lbnNpb24iLCJpbmNvcnBvcmF0ZVpvb20iLCJpbWFnZURpbWVuc2lvbiIsInpvb21EaWZmZXJlbmNlIiwiZ2V0T3RoZXJJbWFnZURhdGEiLCJsb3dlc3RNYXhab29tIiwiaXRtIiwicGFyc2VJbWFnZUluZm8iLCJpbCIsInBhcnNlSUlJRk1hbmlmZXN0IiwiZ2V0SUlJRlByZXNlbnRhdGlvblZlcnNpb24iLCJudW1DYW52YXNlcyIsInRoaXNDYW52YXMiLCJ0aGlzUmVzb3VyY2UiLCJ0aGlzSW1hZ2UiLCJzZWNvbmRhcnlJbWFnZXMiLCJpbWFnZUFQSVZlcnNpb24iLCJpbWFnZUxhYmVsIiwiem9vbURpbWVuc2lvbnMiLCJ3aWR0aEF0Q3VycmVudFpvb21MZXZlbCIsImhlaWdodEF0Q3VycmVudFpvb21MZXZlbCIsIm16IiwicmF0aW8iLCJ0b3RhbFdpZHRocyIsInRvdGFsSGVpZ2h0cyIsIm1heFdpZHRocyIsIm1heEhlaWdodHMiLCJpbWFnZXMiLCJyZXNvdXJjZSIsInNlcnZpY2UiLCJpc1BhZ2VkIiwidmlld2luZ0hpbnQiLCJpc0ZhY2luZyIsInhvZmZzZXQiLCJ5b2Zmc2V0IiwiYXZlcmFnZVdpZHRocyIsImF2ZXJhZ2VIZWlnaHRzIiwiYV93aWQiLCJhX2hlaSIsIm1heF93IiwibWF4X2giLCJtYXhfcmF0aW8iLCJtaW5fcmF0aW8iLCJ0X2hlaSIsInRfd2lkIiwiaXRlbV90aXRsZSIsIm1heF96b29tIiwicGdzIiwiYmVoYXZpb3VyIiwiZnJhZ21lbnRSZWdleCIsInh5d2giLCJzdHJpcFVSTCIsInVybEFycmF5IiwiaW1hZ2VJbmZvIiwiSUlJRlNvdXJjZUFkYXB0ZXIiLCJkaW1lbnMiLCJxdWFsaXR5Iiwicm93Q291bnQiLCJjb2xDb3VudCIsInVybEFkYXB0ZXIiLCJfbWF4V2lkdGhzIiwiX21heEhlaWdodHMiLCJfYXZlcmFnZVdpZHRocyIsIl9hdmVyYWdlSGVpZ2h0cyIsIl90b3RhbEhlaWdodHMiLCJfdG90YWxXaWR0aHMiLCJfdXJsQWRhcHRlciIsImlpaWZNYW5pZmVzdCIsIm1heERpbXMiLCJ0YXJnZXRab29tTGV2ZWwiLCJnZXRUaWxlSW1hZ2VVUkwiLCJ6b29tZWRQcm9wZXJ0eUdldHRlciIsInByaXZhdGVOYW1lIiwiZ2V0TWF4V2lkdGgiLCJnZXRNYXhIZWlnaHQiLCJnZXRUb3RhbFdpZHRoIiwiZ2V0VG90YWxIZWlnaHQiLCJ2aWV3ZXIiLCJpY29uIiwiaW5uZXJOYW1lIiwiaW5uZXJWYWx1ZSIsInpvb21PdXRJY29uIiwiX2NyZWF0ZVpvb21PdXRJY29uIiwiem9vbUluSWNvbiIsIl9jcmVhdGVab29tSW5JY29uIiwiem9vbUJ1dHRvbnMiLCJjcmVhdGVCdXR0b24iLCJzZXRab29tTGV2ZWwiLCJjcmVhdGVMYWJlbCIsIl9zdWJzY3JpYmUiLCJncmlkTW9yZUljb24iLCJfY3JlYXRlR3JpZE1vcmVJY29uIiwiZ3JpZEZld2VySWNvbiIsIl9jcmVhdGVHcmlkRmV3ZXJJY29uIiwiZ3JpZEJ1dHRvbnMiLCJzZXRHcmlkUGFnZXNQZXJSb3ciLCJ1cGRhdGVDdXJyZW50UGFnZSIsImluZGljZXMiLCJnZXRDdXJyZW50UGFnZUluZGljZXMiLCJzdGFydEluZGV4IiwiZW5kSW5kZXgiLCJzdGFydExhYmVsIiwiZW5kTGFiZWwiLCJlbmFibGVJbmRleEFzTGFiZWwiLCJnb3RvUGFnZUlucHV0IiwiYXV0b2NvbXBsZXRlIiwiZ290b1BhZ2VTdWJtaXQiLCJpbnB1dFN1Z2dlc3Rpb25zIiwiZ290b0Zvcm0iLCJkZXNpcmVkUGFnZUxhYmVsIiwib25Hb3RvU3VibWl0IiwiZ290b1BhZ2VCeUluZGV4IiwiYWxlcnQiLCJnb3RvUGFnZUJ5TGFiZWwiLCJudW1TdWdnZXN0aW9ucyIsImVuYWJsZUdvdG9TdWdnZXN0aW9ucyIsIm5ld0lucHV0U3VnZ2VzdGlvbiIsImFjdGl2ZSIsInByZXZFbCIsIm5leHRFbCIsInN1Ym1pdEV2ZW50IiwiRXZlbnQiLCJjYW5jZWxhYmxlIiwidmlld09wdGlvbnNMaXN0IiwiX2VsZW1BdHRycyIsImdyaWRWaWV3SWNvbiIsIl9jcmVhdGVHcmlkVmlld0ljb24iLCJib29rVmlld0ljb24iLCJfY3JlYXRlQm9va1ZpZXdJY29uIiwicGFnZVZpZXdJY29uIiwiX2NyZWF0ZVBhZ2VWaWV3SWNvbiIsImNoYW5nZVZpZXdCdXR0b24iLCJzZWxlY3RWaWV3IiwiY2hhbmdlVmlldyIsInVwZGF0ZVZpZXdNZW51Iiwidmlld09wdGlvbnMiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZnVsbHNjcmVlbkljb24iLCJfY3JlYXRlRnVsbHNjcmVlbkljb24iLCJ0b2dnbGVGdWxsc2NyZWVuTW9kZSIsInRvZ2dsZVpvb21HcmlkQ29udHJvbHMiLCJsZWZ0VG9vbHMiLCJjcmVhdGVab29tQnV0dG9ucyIsImNyZWF0ZUdyaWRDb250cm9scyIsInJpZ2h0VG9vbHMiLCJjcmVhdGVQYWdlTGFiZWwiLCJjcmVhdGVWaWV3TWVudSIsImVuYWJsZUZ1bGxzY3JlZW4iLCJjcmVhdGVGdWxsc2NyZWVuQnV0dG9uIiwiZW5hYmxlR290b1BhZ2UiLCJjcmVhdGVHb3RvUGFnZUZvcm0iLCJ0b29sYmFyU2lkZSIsInRvb2xiYXJJY29uIiwiY3JlYXRlSWNvbiIsImhhbmRsZVBsdWdpbkNsaWNrIiwidG9vbHMiLCJ0b29sYmFyUGFyZW50T2JqZWN0IiwicEVsIiwiX2NyZWF0ZVRvb2xiYXJJY29uIiwiZ2V0SGFzaFBhcmFtIiwib3JpZ2luYWxWYWx1ZSIsInN0YXJ0VGhpbmciLCJIVE1MRWxlbWVudCIsImVuYWJsZUZpbGVuYW1lIiwiZW5hYmxlR3JpZEljb24iLCJlbmFibGVHcmlkQ29udHJvbHMiLCJlbmFibGVJbWFnZVRpdGxlcyIsImVuYWJsZUxpbmtJY29uIiwiZW5hYmxlTm9uUGFnZWRWaXNpYmlsaXR5SWNvbiIsImVuYWJsZVRvb2xiYXIiLCJlbmFibGVab29tQ29udHJvbHMiLCJmaWxsUGFyZW50SGVpZ2h0IiwicGFnZUFsaWFzZXMiLCJwYWdlQWxpYXNGdW5jdGlvbiIsInBhZ2VMb2FkVGltZW91dCIsInJlcXVlc3RIZWFkZXJzIiwid3JhcHBlckVsZW1lbnQiLCJkaXZhU3RhdGUiLCJyZW5kZXIiLCJ1bnN1YnNjcmliZSIsImhhc2hTdGF0ZSIsIl9nZXRIYXNoUGFyYW1TdGF0ZSIsIl9sb2FkT3JGZXRjaE9iamVjdERhdGEiLCJfbG9hZE9iamVjdERhdGEiLCJfYWpheEVycm9yIiwic2V0UGVuZGluZ01hbmlmZXN0UmVxdWVzdCIsImpzb25Ib3N0IiwiX3Nob3dFcnJvciIsInJlc3BvbnNlRGF0YSIsImZyb21JSUlGIiwiX2dldExvYWRPcHRpb25zRm9yU3RhdGUiLCJzZXRNYW5pZmVzdCIsIl9nZXRWaWV3U3RhdGUiLCJfZ2V0UGFnZUluZGV4Rm9yTWFuaWZlc3QiLCJucCIsImhhc2hQYXJhbXMiLCJfZ2V0U3RhdGUiLCJoYXNoU3RyaW5nQnVpbGRlciIsIl9yZWxvYWRWaWV3ZXIiLCJob3ZlciIsInRvZ2dsZU9wYWNpdHkiLCJkZXN0aW5hdGlvblZpZXciLCJ4QW5jaG9yIiwieUFuY2hvciIsIl9pc1BhZ2VJbmRleFZhbGlkIiwieE9mZnNldCIsInlPZmZzZXQiLCJpc1BhZ2VWYWxpZCIsIm91dGVyT2Zmc2V0Iiwib3V0ZXJUb3AiLCJvdXRlckxlZnQiLCJvdXRlckJvdHRvbSIsIm91dGVyUmlnaHQiLCJjdXJQYWdlSWR4IiwiY3VyUGFnZSIsImN1ck9mZnNldCIsIl9nZXRVUkxIYXNoIiwiX2NoYW5nZVZpZXciLCJkaXNhYmxlU2Nyb2xsYWJsZSIsImVuYWJsZVNjcm9sbGFibGUiLCJfdG9nZ2xlRnVsbHNjcmVlbiIsInBnIiwiX2dldEN1cnJlbnRVUkwiLCJwYWdlSWR4IiwiX2NoZWNrTG9hZGVkIiwicGdBdFpvb20iLCJfZ2V0UGFnZUluZGV4Rm9yUGFnZVhZVmFsdWVzIiwiX2dvdG9QYWdlQnlJbmRleCIsImxsYyIsIl9nZXRQYWdlSW5kZXgiLCJ0b3BPZmZzZXQiLCJfdG9nZ2xlUGFnZUxheW91dE9yaWVudGF0aW9uIiwiRGl2YSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVY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QUFRLElBQ3RCLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFDdEIsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQzFFLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUMxRSxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQ25DLElBQVEsS0FBTSxJQUFRLEtBQ3RCLElBQVEsS0FBTSxJQUFRLEtBQ3RCLElBQVEsS0FFUixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3ZFLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3ZFLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3ZFLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3ZFLElBQVUsSUFBTSxJQUFVLElBQzFCLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN0RixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdEYsSUFBVSxJQUFNLElBQVUsSUFDMUIsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxLQUFNLElBQVUsS0FDMUIsSUFBVSxLQUFNLElBQVUsS0FDMUIsSUFBVSxLQUFNLElBQVUsTUFvdUJ4QmdC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T3QzSSxLQUFLMDhJLGFBQWExOEksS0FBS3VJLFNBQVNxdkgsVUFBWSxHQU92RCxVQUVJLE9BQU81M0gsS0FBSzA4SSxhQUFhMThJLEtBQUt1SSxTQUFTcXZILFVBQVksSUFJM0QsR0FBS3ZULE9BQVMsRUFBS0EsT0FFSixJQU1BMTVELEdBTkEsYUFLTyxvQkFBWDVoRCxVQUNJNGhELEdBR1I1aEQsUUFEUTQ4SSxLQUFPaDdGLEdBQU9nN0YsTUFBUSIsImZpbGUiOiJlZGl0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNTgpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cbiIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcbnZhciB0eXBlcyA9IFtcbiAgcmVxdWlyZSgnLi9uZXh0VGljaycpLFxuICByZXF1aXJlKCcuL3F1ZXVlTWljcm90YXNrJyksXG4gIHJlcXVpcmUoJy4vbXV0YXRpb24uanMnKSxcbiAgcmVxdWlyZSgnLi9tZXNzYWdlQ2hhbm5lbCcpLFxuICByZXF1aXJlKCcuL3N0YXRlQ2hhbmdlJyksXG4gIHJlcXVpcmUoJy4vdGltZW91dCcpXG5dO1xudmFyIGRyYWluaW5nO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG52YXIgcXVldWUgPSBbXTtcbnZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGRyYWluaW5nID0gZmFsc2U7XG4gIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gIH1cbiAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgIG5leHRUaWNrKCk7XG4gIH1cbn1cblxuLy9uYW1lZCBuZXh0VGljayBmb3IgbGVzcyBjb25mdXNpbmcgc3RhY2sgdHJhY2VzXG5mdW5jdGlvbiBuZXh0VGljaygpIHtcbiAgaWYgKGRyYWluaW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNjaGVkdWxlZCA9IGZhbHNlO1xuICBkcmFpbmluZyA9IHRydWU7XG4gIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICB3aGlsZSAobGVuKSB7XG4gICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgcXVldWUgPSBbXTtcbiAgICB3aGlsZSAoY3VycmVudFF1ZXVlICYmICsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgIH1cbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICB9XG4gIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gIHF1ZXVlSW5kZXggPSAtMTtcbiAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxudmFyIHNjaGVkdWxlRHJhaW47XG52YXIgaSA9IC0xO1xudmFyIGxlbiA9IHR5cGVzLmxlbmd0aDtcbndoaWxlICgrK2kgPCBsZW4pIHtcbiAgaWYgKHR5cGVzW2ldICYmIHR5cGVzW2ldLnRlc3QgJiYgdHlwZXNbaV0udGVzdCgpKSB7XG4gICAgc2NoZWR1bGVEcmFpbiA9IHR5cGVzW2ldLmluc3RhbGwobmV4dFRpY2spO1xuICAgIGJyZWFrO1xuICB9XG59XG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgdGhpcy5mdW4gPSBmdW47XG4gIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZ1biA9IHRoaXMuZnVuO1xuICB2YXIgYXJyYXkgPSB0aGlzLmFycmF5O1xuICBzd2l0Y2ggKGFycmF5Lmxlbmd0aCkge1xuICBjYXNlIDA6XG4gICAgcmV0dXJuIGZ1bigpO1xuICBjYXNlIDE6XG4gICAgcmV0dXJuIGZ1bihhcnJheVswXSk7XG4gIGNhc2UgMjpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdLCBhcnJheVsxXSk7XG4gIGNhc2UgMzpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdLCBhcnJheVsxXSwgYXJyYXlbMl0pO1xuICBkZWZhdWx0OlxuICAgIHJldHVybiBmdW4uYXBwbHkobnVsbCwgYXJyYXkpO1xuICB9XG5cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGltbWVkaWF0ZTtcbmZ1bmN0aW9uIGltbWVkaWF0ZSh0YXNrKSB7XG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgfVxuICBxdWV1ZS5wdXNoKG5ldyBJdGVtKHRhc2ssIGFyZ3MpKTtcbiAgaWYgKCFzY2hlZHVsZWQgJiYgIWRyYWluaW5nKSB7XG4gICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBzY2hlZHVsZURyYWluKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdyb3VwaW5nVHlwZSwgU2VsZWN0aW9uVHlwZSwgVXNlclR5cGUsIEluc2VydFR5cGUsIEluc2VydFRhYlR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogVGhlIG9uZSBpbnN0YW5jZSBvZiBMb2NhbFNldHRpbmdzIHRoYXQgd2lsbCBiZSBjcmVhdGVkIGFuZFxuICogdXNlZCBieSB0aGUgZWRpdG9yLlxuICogXG4gKiBVc2UgdGhlIGZ1bmN0aW9ucyBgZ2V0U2V0dGluZ3MoKWAgYW5kIGBzZXRTZXR0aW5ncygpYFxuICogdG8gYWNjZXNzIHRoaXMgaW5zdGFuY2UuXG4gKi9cbmxldCBsb2NhbFNldHRpbmdzOiBMb2NhbFNldHRpbmdzID0gbnVsbDtcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSBzZXR0aW5ncyBmb3IgZWFjaCBmb2xpb1xuICogc3RvcmVkIGluIGxvY2FsU3RvcmFnZS5cbiAqXG4gKiBFdmVyeSBrZXkgaXMgb3B0aW9uYWwgc28gdGhhdCB0aGlzIHNhbWUgdHlwaW5nXG4gKiBjYW4gYmUgdXNlZCBmb3IgYHNldFNldHRpbmdzKClgIC8gYExvY2FsU2V0dGluZ3Muc2V0KClgLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNldHRpbmdzIHtcbiAgem9vbTogbnVtYmVyO1xuICBnbHlwaE9wYWNpdHk6IG51bWJlcjtcbiAgaW1hZ2VPcGFjaXR5OiBudW1iZXI7XG4gIGNpcmNsZVNpemU6IG51bWJlcjtcbiAgaGlnaGxpZ2h0TW9kZTogR3JvdXBpbmdUeXBlO1xuICB1c2VyTW9kZTogVXNlclR5cGU7XG4gIGluc2VydE1vZGU6IEluc2VydFR5cGU7XG4gIGluc2VydFRhYjogSW5zZXJ0VGFiVHlwZTtcbiAgc2VsZWN0aW9uTW9kZTogU2VsZWN0aW9uVHlwZTtcbiAgZGVidWdNb2RlOiBib29sZWFuO1xuICBkaXNwbGF5QkJveDogYm9vbGVhbjtcbiAgZGlzcGxheVRleHQ6IGJvb2xlYW47XG4gIGRpc3BsYXlJbmZvOiBib29sZWFuO1xuICBkaXNwbGF5RXJyTG9nOiBib29sZWFuO1xuICB2aWV3Qm94OiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGVmYXVsdCBzZXR0aW5ncywgd2hpY2ggc2hvdWxkIGJlIHNldCBmb3IgYSBmb2xpbyB3aXRoIG5vXG4gKiBsb2NhbFN0b3JhZ2UgdmFsdWUuXG4gKlxuICogVGhpcyBzaG91bGQgYmUgdXBkYXRlZCBhbG9uZ3NpZGUgdGhlIGludGVyZmFjZSBgU2V0dGluZ3NgXG4gKiBhbnkgdGltZSB3ZSB3YW50IHRvIGFkZCBhIG5ldyBzZXR0aW5nIHRvIHN0b3JlIGluIGxvY2FsU3RvcmFnZS5cbiAqL1xuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogU2V0dGluZ3MgPSB7XG4gIHpvb206IDEwMCxcbiAgZ2x5cGhPcGFjaXR5OiAxMDAsXG4gIGltYWdlT3BhY2l0eTogMTAwLFxuICBjaXJjbGVTaXplOiAyNSxcbiAgaGlnaGxpZ2h0TW9kZTogJ25vbmUnLFxuICB1c2VyTW9kZTogJ2VkaXQnLFxuICBpbnNlcnRNb2RlOiAncHVuY3R1bScsXG4gIGluc2VydFRhYjogJ3ByaW1pdGl2ZVRhYicsXG4gIHNlbGVjdGlvbk1vZGU6ICdzZWxCeVN5bGxhYmxlJyxcbiAgZGVidWdNb2RlOiBmYWxzZSxcbiAgZGlzcGxheUJCb3g6IGZhbHNlLFxuICBkaXNwbGF5VGV4dDogZmFsc2UsXG4gIGRpc3BsYXlJbmZvOiBmYWxzZSxcbiAgZGlzcGxheUVyckxvZzogZmFsc2UsXG4gIHZpZXdCb3g6IG51bGxcbn07XG5cbmNsYXNzIExvY2FsU2V0dGluZ3Mge1xuICBpZDogc3RyaW5nO1xuICBzZXR0aW5nczogU2V0dGluZ3M7XG5cbiAgY29uc3RydWN0b3IgKGZvbGlvSWQ6IHN0cmluZykge1xuICAgIGxvY2FsU2V0dGluZ3MgPSB0aGlzO1xuICAgIHRoaXMuaWQgPSBmb2xpb0lkO1xuICAgIHRoaXMubG9hZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgc2V0dGluZ3MgZnJvbSBsb2NhbFN0b3JhZ2UsIGFuZCBzeW5jIGxvYWRlZCBzZXR0aW5ncyB3aXRoXG4gICAqIG5ldyBmaWVsZHMgdGhhdCBtYXkgbm90IGJlIGluIGxvY2FsU3RvcmFnZS5cbiAgICovXG4gIGxvYWQgKCk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yZWQ6IFBhcnRpYWw8U2V0dGluZ3M+ID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5pZCkpO1xuICAgICAgdGhpcy5zeW5jKHN0b3JlZCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElmIGxvY2FsU3RvcmFnZSB2YWx1ZSBpcyBub3QgYSBKU09OIG9iamVjdCAoZm9yIGluc3RhbmNlLCBhbiBlbXB0eSBzdHJpbmcpLFxuICAgICAgLy8gYSBTeW50YXhFcnJvciB3aWxsIGJlIHRocm93bi4gV2UgbXVzdCBoYW5kbGUgaXQgYnkgY2FsbGluZyBzeW5jKClcbiAgICAgIC8vIHdpdGggYW4gZW1wdHkgSlNPTiBvYmplY3QuXG4gICAgICB0aGlzLnN5bmMoe30pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbmV3IGZpZWxkcyBpbiBsb2NhbFN0b3JhZ2UsIGFzIGEgXCJ1bmlvblwiIG9mIG9sZCBhbmQgbmV3IHNldHRpbmdzLlxuICAgKi9cbiAgc2V0IChwYXJhbXM6IFBhcnRpYWw8U2V0dGluZ3M+KTogdm9pZCB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHsgLi4udGhpcy5zZXR0aW5ncywgLi4ucGFyYW1zIH07XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuaWQsIEpTT04uc3RyaW5naWZ5KHRoaXMuc2V0dGluZ3MpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTeW5jIHNldHRpbmdzIHRoYXQgbWF5IG5vdCBiZSBpbmNsdWRlZCBpbiB1c2VyJ3MgbG9jYWxTdG9yYWdlLFxuICAgKiBzdWNoIGFzIGZpZWxkcyB0aGF0IGhhdmUgYmVlbiBhZGRlZCB0byBsb2NhbFN0b3JhZ2UgaW4gYSBuZXdcbiAgICogdXBkYXRlIG9mIE5lb24uXG4gICAqL1xuICBzeW5jIChzdG9yZWQ6IFBhcnRpYWw8U2V0dGluZ3M+KTogdm9pZCB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHsgLi4uREVGQVVMVF9TRVRUSU5HUywgLi4uc3RvcmVkIH07XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuaWQsIEpTT04uc3RyaW5naWZ5KHRoaXMuc2V0dGluZ3MpKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBsb2NhbFN0b3JhZ2Ugc2V0dGluZ3MgZm9yIHRoZSBmb2xpby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNldHRpbmdzICgpOiBTZXR0aW5ncyB7XG4gIHJldHVybiBsb2NhbFNldHRpbmdzLnNldHRpbmdzO1xufVxuXG4vKipcbiAqIFNldCBzcGVjaWZpYyBsb2NhbFN0b3JhZ2Ugc2V0dGluZ3MgZm9yIHRoZSBmb2xpby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNldHRpbmdzIChwYXJhbXM6IFBhcnRpYWw8U2V0dGluZ3M+KTogdm9pZCB7XG4gIGxvY2FsU2V0dGluZ3Muc2V0KHBhcmFtcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvY2FsU2V0dGluZ3M7XG4iLCJpbXBvcnQgKiBhcyBDb2xvciBmcm9tICcuL0NvbG9yJztcbmltcG9ydCB7XG4gIHVwZGF0ZUhpZ2hsaWdodCxcbiAgZ2V0SGlnaGxpZ2h0VHlwZSxcbn0gZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgKiBhcyBHcm91cGluZyBmcm9tICcuLi9TcXVhcmVFZGl0L0dyb3VwaW5nJztcbmltcG9ydCB7IHJlc2l6ZSB9IGZyb20gJy4vUmVzaXplJztcbmltcG9ydCB7IEF0dHJpYnV0ZXMsIFNlbGVjdGlvblR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuLi9TcXVhcmVFZGl0L1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBzZWxlY3Rpb24gbW9kZSBjaG9zZW4gYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25UeXBlKCk6IFNlbGVjdGlvblR5cGUge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsLWJ5IGlzLWFjdGl2ZScpO1xuICBpZiAoZWxlbWVudC5sZW5ndGggIT09IDApIHtcbiAgICByZXR1cm4gZWxlbWVudFswXS5pZCBhcyBTZWxlY3Rpb25UeXBlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogVW5zZWxlY3QgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGFuZCBydW4gdW5kbyBhbnkgZXh0cmFcbiAqIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNlbGVjdCgpOiB2b2lkIHtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvckFsbCgnLm5vLW1vdmluZycpXG4gICAgLmZvckVhY2goKHNlbGVjdGVkOiBTVkdHRWxlbWVudCkgPT4gc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnbm8tbW92aW5nJykpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKS5mb3JFYWNoKChzZWxlY3RlZDogU1ZHR0VsZW1lbnQpID0+IHtcbiAgICBzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgIGlmIChzZWxlY3RlZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgIHNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIENvbG9yLnVuaGlnaGxpZ2h0KHNlbGVjdGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgc2VsZWN0ZWQuc3R5bGUuZmlsbCA9ICcnO1xuICAgIH1cblxuICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKSkuZm9yRWFjaChcbiAgICAgIChkaXZMaW5lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBkaXZMaW5lLnN0eWxlLnN0cm9rZSA9ICcnO1xuICAgICAgICBkaXZMaW5lLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykpLmZvckVhY2goXG4gICAgICAobmV1bWU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIG5ldW1lLnN0eWxlLmZpbGwgPSAnJztcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKSkuZm9yRWFjaChcbiAgICAgIChzeWxSZWN0OiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBzeWxSZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICBpZiAoc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpIHtcbiAgICAgIHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuc3R5bGUuZmlsbCA9ICcnO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzeWxsYWJsZScpO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuXG4gICAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKSkuZm9yRWFjaChcbiAgICAgICAgKGRpdkxpbmU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgICAgZGl2TGluZS5zdHlsZS5zdHJva2UgPSAnJztcbiAgICAgICAgICBkaXZMaW5lLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKSkuZm9yRWFjaChcbiAgICAgICAgKG5ldW1lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICAgIG5ldW1lLnN0eWxlLmZpbGwgPSAnJztcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZDMuc2VsZWN0QWxsKCcjcmVzaXplUmVjdCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50JykucmVtb3ZlKCk7XG4gICAgZDMuc2VsZWN0QWxsKCcucm90YXRlUG9pbnQnKS5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGV4dC1zZWxlY3QnKSkuZm9yRWFjaChcbiAgICAoZWw6IFNWR0VsZW1lbnQpID0+IHtcbiAgICAgIGVsLnN0eWxlLmNvbG9yID0gJyc7XG4gICAgICBlbC5zdHlsZS5mb250V2VpZ2h0ID0gJyc7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCd0ZXh0LXNlbGVjdCcpO1xuICAgIH0sXG4gICk7XG5cbiAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICBHcm91cGluZy5lbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIFNlbGVjdE9wdGlvbnMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIHVwZGF0ZUhpZ2hsaWdodCgpO1xufVxuXG4vKipcbiAqIFNlbGVjdCBhIHN0YWZmIGVsZW1lbnQuXG4gKiBAcGFyYW0gc3RhZmYgLSBUaGUgc3RhZmYgZWxlbWVudCBpbiB0aGUgRE9NLlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gVGhlIGRyYWcgaGFuZGxlciBpbiB1c2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RTdGFmZihcbiAgc3RhZmY6IFNWR0dFbGVtZW50LFxuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsXG4pOiB2b2lkIHtcbiAgaWYgKCFzdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzdGFmZi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIENvbG9yLnVuaGlnaGxpZ2h0KHN0YWZmKTtcbiAgICBDb2xvci5oaWdobGlnaHQoc3RhZmYsICcjZDAwJyk7XG4gICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU2luZ2xlU3RhZmZBY3Rpb25zKCk7XG4gICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBhIGxheWVyIGVsZW1lbnQuXG4gKiBAcGFyYW0gbGF5ZXJFbGVtZW50IC0gVGhlIGxheWVyIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIFRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0TGF5ZXJFbGVtZW50KFxuICBsYXllckVsZW1lbnQ6IFNWR0dFbGVtZW50LFxuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsXG4pOiB2b2lkIHtcbiAgaWYgKCFsYXllckVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgQ29sb3IudW5oaWdobGlnaHQobGF5ZXJFbGVtZW50KTtcbiAgICBDb2xvci5oaWdobGlnaHQobGF5ZXJFbGVtZW50LCAnI2QwMCcpO1xuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmljIHNlbGVjdCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBlbCAtIEVsZW1lbnQgdG8gc2VsZWN0LlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gT25seSB1c2VkIGZvciBzdGF2ZXMuXG4gKiBAcGFyYW0gbmVlZHNIaWdobGlnaHRVcGRhdGUgLSBXaGV0aGVyIGFsbCB0aGUgZ3JvdXAncyBoaWdobGlnaHRzIHNob3VsZCBiZSB1cGRhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3QoXG4gIGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsXG4gIGRyYWdIYW5kbGVyPzogRHJhZ0hhbmRsZXIsXG4gIG5lZWRzSGlnaGxpZ2h0VXBkYXRlID0gdHJ1ZSxcbik6IHZvaWQge1xuICAvLyBJZiBlbGVtZW50IGRvZXMgbm90IGV4aXN0LCBleGl0XG4gIGlmICghZWwpIHJldHVybjtcblxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgcmV0dXJuIHNlbGVjdFN0YWZmKGVsLCBkcmFnSGFuZGxlcik7XG4gIH1cbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgIHJldHVybiBzZWxlY3RMYXllckVsZW1lbnQoZWwsIGRyYWdIYW5kbGVyKTtcbiAgfVxuXG4gIGlmIChcbiAgICAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpICYmXG4gICAgIWVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsVGV4dFJlY3QnKSAmJlxuICAgICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0LWRpc3BsYXknKVxuICApIHtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIC8vIHNldCBmaWxsIHRvIHJlZFxuICAgIC8vIHNldCBzdHJva2UgdG8gcmVkIG9ubHkgaWYgc2VsZWN0ZWQgZWxlbSBpcyBhIGRpdkxpbmVcbiAgICBlbC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgIGVsLnN0eWxlLnN0cm9rZSA9IGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpID8gJyNkMDAnIDogJ2JsYWNrJztcblxuICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmxlbmd0aCkge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKFxuICAgICAgICAoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmxlbmd0aCkge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLnN0cm9rZSA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNldCBjb2xvciBvZiB0aGUgY29ycmVzcG9uZGluZyB0ZXh0IGluIHRoZSB0ZXh0IHBhbmVsIHRvIHJlZFxuICAgIGxldCBzeWxJZDtcbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBzeWxJZCA9IGVsLmlkO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykgIT09IG51bGwpIHtcbiAgICAgIHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgfVxuICAgIGlmIChzeWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzcGFucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIHNwYW5zLmZvckVhY2goKHNwYW46IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChuZWVkc0hpZ2hsaWdodFVwZGF0ZSkge1xuICAgIHVwZGF0ZUhpZ2hsaWdodCgpO1xuICB9XG59XG5cbi8qKlxuICogU2VsZWN0IGFuIG5jLlxuICogQHBhcmFtIGVsIC0gVGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdE5jcyhcbiAgZWw6IFNWR0dyYXBoaWNzRWxlbWVudCxcbiAgbmVvblZpZXc6IE5lb25WaWV3LFxuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFlbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgdW5zZWxlY3QoKTtcbiAgICBzZWxlY3QocGFyZW50KTtcbiAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShwYXJlbnQsIG5lb25WaWV3KSkge1xuICAgICAgY29uc3QgcHJldk5jID0gcGFyZW50LnByZXZpb3VzU2libGluZyBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgIGlmIChhd2FpdCBpc0xpZ2F0dXJlKHByZXZOYywgbmVvblZpZXcpKSB7XG4gICAgICAgIHNlbGVjdChwcmV2TmMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV4dE5jID0gcGFyZW50Lm5leHRTaWJsaW5nIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShuZXh0TmMsIG5lb25WaWV3KSkge1xuICAgICAgICAgIHNlbGVjdChuZXh0TmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3I6IE5laXRoZXIgcHJldiBvciBuZXh0IG5jIGFyZSBsaWdhdHVyZXMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCdsaWdhdHVyZScpO1xuICAgIH0gZWxzZSBpZiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnbmMnKSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTmNBY3Rpb25zKHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignTm8gYWN0aW9uIHRyaWdnZXJlZCEnKTtcbiAgICB9XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBuYyAtIFRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgW1tOZW9uVmlld11dIGZvciB0aGlzIGluc3RhbmNlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgbmV1bWUgY29tcG9uZW50IGlzIHBhcnQgb2YgYSBsaWdhdHVyZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzTGlnYXR1cmUoXG4gIG5jOiBTVkdHcmFwaGljc0VsZW1lbnQsXG4gIG5lb25WaWV3OiBOZW9uVmlldyxcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzID0gYXdhaXQgbmVvblZpZXcuZ2V0RWxlbWVudEF0dHIoXG4gICAgbmMuaWQsXG4gICAgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpLFxuICApO1xuICByZXR1cm4gQm9vbGVhbihhdHRyaWJ1dGVzLmxpZ2F0ZWQpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGxpc3Qgb2YgZWxlbWVudHMgb2YgYSBjZXJ0YWluIHR5cGUgYXJlIGxvZ2ljYWxseSBhZGphY2VudCB0byBlYWNoIG90aGVyLlxuICogSW5jbHVkZXMgZWxlbWVudHMgdGhhdCBhcmUgb24gc2VwYXJhdGUgc3RhdmVzIGJ1dCB3b3VsZCBvdGhlcndpc2UgYmUgbmV4dCB0byBlYWNoIG90aGVyLlxuICogQ2FuIG5vdCBhcHBseSB0byBlbGVtZW50cyBvZiB0eXBlIG5ldW1lIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSB1c2VyIHNlbGVjdGlvbiBtb2RlXG4gKiBAcGFyYW0gZWxlbWVudHMgdGhlIGVsZW1lbnRzIG9mIGludGVyZXN0XG4gKiBAcmV0dXJucyB0cnVlIGlmIGVsZW1lbnRzIGFyZSBhZGphY2VudCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcmVBZGphY2VudChcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10sXG4pOiBib29sZWFuIHtcbiAgLy8gMiBlbGVtZW50cyBjYW5ub3QgYmUgYWRqYWNlbnQgaWYgdGhlcmUgaXMgb25seSAxIGVsZW1lbnRcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcblxuICAvLyBnZXQgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYXMgc2VsZWN0aW9uVHlwZVxuICBsZXQgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGU6IEhUTUxFbGVtZW50W107XG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUnKSxcbiAgICAgICk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgLy8gV2UgYXV0b21hdGljYWxseSByZXR1cm4gJ3RydWUnIGZvciBuZXVtZXMgYmVjYXVzZSB3ZSB3YW50IHRoZSB1c2VyIHRvIGJlXG4gICAgICAvLyBhbGxvd2VkIHRvIGdyb3VwIHR3byBuZXVtZXMgaW4gc2VwYXJhdGUgc3lsbGFiZXMgd2l0aG91dCBoYXZpbmcgdG8gcGFyZm9ybSBvdGhlclxuICAgICAgLy8gc3RlcHMgZmlyc3QuIFllcywgdGhlcmUgaXMgYSB0cmFkZS1vZmYgLSB0aGlzIGFsbG93cyB1c2VycyB0byB0cnkgYW5kIGdyb3VwIGFueVxuICAgICAgLy8gdHdvIG5vbi1hZGphY2VudCBuZXVtZXMsIGJ1dCBpdCB3YXMgZGVjaWRlZCB0aGF0IHRoZSBiZW5lZml0cyAoc3BlZWQgYW5kIGVmZmljaWVuY3kpXG4gICAgICAvLyBvdXR3ZWlnaCB0aGUgY29zdHMgKHVzZXIgdHJ5aW5nIGFuIGlsbGVnYWwgZWRpdCkuXG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYycpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZSA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmJykpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gU29ydCBTRUxFQ1RFRCBlbGVtZW50cyBpbiBvcmRlciBvZiBhcHBlYXJhbmNlIGJ5XG4gIC8vIG1hdGNoaW5nIHRvIG9yZGVyIG9mIEFMTCBlbGVtZW50cyBvZiBzZWxlY3Rpb24gdHlwZVxuICBjb25zdCBzb3J0ZWRFbGVtZW50cyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbGVtZW50cy5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlW2ldLmlzU2FtZU5vZGUoZWxlbWVudHNbal0pKSB7XG4gICAgICAgIHNvcnRlZEVsZW1lbnRzLnB1c2goZWxlbWVudHNbal0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIE5vdyBjaGVjayBpZiBTRUxFQ1RFRCBlbGVtZW50cyBhcmUgYWxsIGFkamFjZW50IChpbiBhIHJvdykgYnlcbiAgLy8gZmluZGluZyBhbmQgY29tcGFyaW5nIHRoZWlyIGluZGVjZXMgaW4gdGhlIGFycmF5IG9mIEFMTCBlbGVtZW50cyBvZiBzZWxlY3Rpb24gdHlwZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNvcnRlZEVsZW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGNvbnN0IGZpcnN0RWxlbSA9IHNvcnRlZEVsZW1lbnRzW2ldO1xuICAgIGNvbnN0IHNlY29uZEVsZW0gPSBzb3J0ZWRFbGVtZW50c1tpICsgMV07XG5cbiAgICBjb25zdCBpbmRleDEgPSBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZS5pbmRleE9mKGZpcnN0RWxlbSk7XG4gICAgY29uc3QgaW5kZXgyID0gYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUuaW5kZXhPZihzZWNvbmRFbGVtKTtcblxuICAgIGlmIChNYXRoLmFicyhpbmRleDEgLSBpbmRleDIpICE9PSAxKSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIGFycmF5IG9mIGVsZW1lbnRzIGFsbCBzaGFyZSB0aGUgc2FtZSBsb2dpY2FsIHBhcmVudC5cbiAqIEZvciBleGFtcGxlOiBJZiBhbGwgbmV1bWVzIGFyZSBpbiB0aGUgc2FtZSBzeWxsYWJsZS5cbiAqXG4gKiBOb3RlISEgVGhlcmUgaXMgY3VycmVudGx5IG5vIGxvZ2ljIGZvciB0cmVhdGluZyBsYXllciBlbGVtZW50cyBhbmQgYmJveGVzIVxuICogTm90ZSEhIEZ1bmN0aW9uIHdpbGwgYWx3YXlzIHJldHVybiB0cnVlIGZvciBzdGF2ZSBlbGVtZW50cy4gKFNob3VsZCBpdD8/PylcbiAqXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSB0aGUgY3VycmVudCBOZW9uIHNlbGVjdGlvbiBtb2RlXG4gKiBAcGFyYW0gZWxlbWVudHMgdGhlIGVsZW1lbnRzIGluIHF1ZXN0aW9uXG4gKiBAcmV0dXJucyB0cnVlIGlmIGFsbCBlbGVtZW50cyBzaGFyZSB0aGUgc2FtZSBsb2dpY2FsIHBhcmVudCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhcmVkTG9naWNhbFBhcmVudChcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10sXG4pOiBib29sZWFuIHtcbiAgZWxlbWVudHMgPSBlbGVtZW50cy5maWx0ZXIoXG4gICAgKGVsZW0pID0+XG4gICAgICAhKFxuICAgICAgICBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8XG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpIHx8XG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJylcbiAgICAgICksXG4gICk7XG5cbiAgaWYgKCFlbGVtZW50c0hhdmVDb3JyZWN0VHlwZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGNvbnN0IHJlZmVyZW5jZVBhcmVudFN0YWZmID0gZWxlbWVudHNbMF0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKCFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmlzU2FtZU5vZGUocmVmZXJlbmNlUGFyZW50U3RhZmYpKVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBjb25zdCByZWZlcmVuY2VQYXJlbnRTeWxsYWJsZSA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zeWxsYWJsZScpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtID0gZWxlbWVudHNbaV07XG4gICAgICAgIGlmICghZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5pc1NhbWVOb2RlKHJlZmVyZW5jZVBhcmVudFN5bGxhYmxlKSlcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBjdXJyZW50IHNlbGVjdGlvbiBtb2RlLlxuICogRm9yIGV4YW1wbGUsIGNoZWNrIGlmIGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhcmUgb2YgdHlwZSBuZXVtZSwgb3Igc3lsbGFibGUsIGV0Yy5cbiAqXG4gKiBOb3RlISEgVGhlcmUgaXMgbm8gbG9naWMgY3VycmVudGx5IGltcGxlbWVudGVkIGZvciBsYXllciBlbGVtZW50cyBvciBiYm94ZXMuXG4gKlxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgdGhhdCBhcmUgYmVpbmcgY2hlY2tlZFxuICogQHJldHVybnMgdHJ1ZSBpZiBhbGwgZWxlbWVudHMgbWF0Y2ggc2VsZWN0aW9uIG1vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKFxuICBzZWxlY3Rpb25UeXBlOiBzdHJpbmcsXG4gIGVsZW1lbnRzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSxcbik6IGJvb2xlYW4ge1xuICBpZiAoZWxlbWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIGZhbHNlO1xuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gZWxlbWVudHMgLSBUaGUgZWxlbWVudHMgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgcGFyZW50IHVwIHR3byBsZXZlbHMsIG90aGVyd2lzZSBmYWxzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNoYXJlZFNlY29uZExldmVsUGFyZW50KFxuICBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10sXG4pOiBib29sZWFuIHtcbiAgY29uc3QgdGVtcEVsZW1lbnRzID0gQXJyYXkuZnJvbShlbGVtZW50cyk7XG4gIGNvbnN0IGZpcnN0RWxlbWVudCA9IHRlbXBFbGVtZW50cy5wb3AoKTtcbiAgY29uc3Qgc2Vjb25kUGFyZW50ID0gZmlyc3RFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRlbXBFbGVtZW50cykge1xuICAgIGNvbnN0IHNlY1BhciA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChzZWNQYXIuaWQgIT09IHNlY29uZFBhcmVudC5pZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB1c2VyIHNlbGVjdGVkIGVsZW1lbnRzIGFjY3Jvc3MgbXVsdGlwbGUgc3RhdmVzXG4gKiBAcGFyYW0gZWxlbWVudHMgdGhlIHVzZXItc2VsZWN0ZWQgZWxlbWVudHNcbiAqIEByZXR1cm5zIHRydWUgaWYgc2VsZWN0aW9uIGlzIGFjY3Jvc3MgbXVsdGlwbGUgc3RhdmVzLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTXVsdGlTdGF2ZVNlbGVjdGlvbihlbGVtZW50czogU1ZHRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGNvbnN0IGVsZW1lbnRzQXJyYXkgPSBBcnJheS5mcm9tKGVsZW1lbnRzKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFmZiA9IGVsZW1lbnRzQXJyYXlbaV0uY2xvc2VzdCgnLnN0YWZmJyk7XG5cbiAgICBmb3IgKGxldCBqID0gaTsgaiA8IGVsZW1lbnRzQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGFub3RoZXJTdGFmZiA9IGVsZW1lbnRzQXJyYXlbal0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAvLyBjb21wYXJlIHdpdGggb3RoZXIgc3RhdmVzXG4gICAgICBpZiAoIXN0YWZmLmlzU2FtZU5vZGUoYW5vdGhlclN0YWZmKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJvdW5kaW5nIGJveCBvYmplY3QgaW50ZXJmYWNlIGZvciBnZXRTdGFmZkJCb3goKVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YWZmQkJveCB7XG4gIGlkOiBzdHJpbmc7XG4gIHVseDogbnVtYmVyO1xuICB1bHk6IG51bWJlcjtcbiAgbHJ4OiBudW1iZXI7XG4gIGxyeTogbnVtYmVyO1xuICByb3RhdGU6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGJvdW5kaW5nIGJveCBvZiBhIHN0YWZmIGJhc2VkIG9uIGl0cyBzdGFmZiBsaW5lcy5cbiAqIFJvdGF0ZSBpcyBpbmNsdWRlZCBpbiByYWRpYW5zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhZmZCQm94KHN0YWZmOiBTVkdHRWxlbWVudCk6IFN0YWZmQkJveCB7XG4gIGxldCB1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZTtcbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICBjb25zdCBjb29yZGluYXRlczogbnVtYmVyW10gPSBwYXRoXG4gICAgICAuZ2V0QXR0cmlidXRlKCdkJylcbiAgICAgIC5tYXRjaCgvXFxkKy9nKVxuICAgICAgLm1hcCgoZWxlbWVudCkgPT4gTnVtYmVyKGVsZW1lbnQpKTtcbiAgICBpZiAocm90YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJvdGF0ZSA9IE1hdGguYXRhbihcbiAgICAgICAgKGNvb3JkaW5hdGVzWzNdIC0gY29vcmRpbmF0ZXNbMV0pIC8gKGNvb3JkaW5hdGVzWzJdIC0gY29vcmRpbmF0ZXNbMF0pLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodWx5ID09PSB1bmRlZmluZWQgfHwgTWF0aC5taW4oY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKSA8IHVseSkge1xuICAgICAgdWx5ID0gTWF0aC5taW4oY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKTtcbiAgICB9XG4gICAgaWYgKHVseCA9PT0gdW5kZWZpbmVkIHx8IGNvb3JkaW5hdGVzWzBdIDwgdWx4KSB7XG4gICAgICB1bHggPSBjb29yZGluYXRlc1swXTtcbiAgICB9XG4gICAgaWYgKGxyeSA9PT0gdW5kZWZpbmVkIHx8IE1hdGgubWF4KGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSkgPiBscnkpIHtcbiAgICAgIGxyeSA9IE1hdGgubWF4KGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSk7XG4gICAgfVxuICAgIGlmIChscnggPT09IHVuZGVmaW5lZCB8fCBjb29yZGluYXRlc1syXSA+IGxyeCkge1xuICAgICAgbHJ4ID0gY29vcmRpbmF0ZXNbMl07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4geyBpZDogc3RhZmYuaWQsIHVseCwgdWx5LCBscngsIGxyeSwgcm90YXRlIH07XG59XG5cbi8qKlxuICogc2VsZWN0IGEgYm91bmRpbmdib3ggZWxlbWVudFxuICogQHBhcmFtIGVsIC0gdGhlIGJib3ggKHN5bFRleHRSZWN0KSBlbGVtZW50IGluIHRoZSBET01cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIHRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RCQm94KFxuICBlbDogU1ZHR3JhcGhpY3NFbGVtZW50LFxuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsXG4gIG5lb25WaWV3OiBOZW9uVmlldyxcbik6IHZvaWQge1xuICBjb25zdCBiYm94ID0gZWw7XG4gIGNvbnN0IHN5bCA9IGJib3guY2xvc2VzdCgnLnN5bCcpO1xuICBpZiAoIXN5bC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzeWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBiYm94LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgY29uc3QgY2xvc2VzdCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNsb3Nlc3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBjbG9zZXN0LmNsYXNzTGlzdC5hZGQoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG4gICAgaWYgKGNsb3Nlc3QucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5sZW5ndGgpIHtcbiAgICAgIGNsb3Nlc3QucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgfSk7XG4gICAgICBjbG9zZXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5zdHJva2UgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobmVvblZpZXcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVzaXplKHN5bCBhcyBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgfVxuICAgIGlmIChkcmFnSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgIH1cbiAgICBjb25zdCBzeWxJZCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpLmlkO1xuICAgIGlmIChzeWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzcGFuOiBIVE1MU3BhbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuLicgKyBzeWxJZCk7XG4gICAgICBpZiAoc3Bhbikge1xuICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gJyNkMDAnO1xuICAgICAgICBzcGFuLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgndGV4dC1zZWxlY3QnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyQkJveEFjdGlvbnMoKTtcbn1cblxuLyoqXG4gKiBTZWxlY3Qgbm90IG5ldW1lIGVsZW1lbnRzLlxuICogQHBhcmFtIG5vdE5ldW1lcyAtIEFuIGFycmF5IG9mIG5vdCBuZXVtZXMgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RObihub3ROZXVtZXM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGlmIChub3ROZXVtZXMubGVuZ3RoID4gMCkge1xuICAgIG5vdE5ldW1lcy5mb3JFYWNoKChubikgPT4ge1xuICAgICAgc2VsZWN0KG5uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBIYW5kbGUgc2VsZWN0aW5nIGFuIGFycmF5IG9mIGVsZW1lbnRzIGJhc2VkIG9uIHRoZSBzZWxlY3Rpb24gdHlwZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdEFsbChcbiAgZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4sXG4gIG5lb25WaWV3OiBOZW9uVmlldyxcbiAgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLFxuKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHNlbGVjdGlvblR5cGUgPSBnZXRTZWxlY3Rpb25UeXBlKCk7XG4gIHVuc2VsZWN0KCk7XG4gIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNlbGVjdGlvbkNsYXNzO1xuICBsZXQgY29udGFpbnNMYXllckVsZW1lbnRzID0gZmFsc2U7XG4gIGxldCBjb250YWluc05jID0gZmFsc2U7XG5cbiAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3lsbGFibGUnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcubmV1bWUnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcubmMnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3RhZmYnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlCQm94JzpcbiAgICAgIHNlbGVjdGlvbkNsYXNzID0gJy5zeWxUZXh0UmVjdC1kaXNwbGF5JztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TGF5ZXJFbGVtZW50JzpcbiAgICAgIHNlbGVjdGlvbkNsYXNzID0gJy5jbGVmLCAuY3VzdG9zLCAuYWNjaWQsIC5kaXZMaW5lJztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIHNlbGVjdGlvbiB0eXBlICcgKyBzZWxlY3Rpb25UeXBlKTtcbiAgICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEdldCB0aGUgZ3JvdXBpbmdzIHNwZWNpZmllZCBieSBzZWxlY3Rpb25DbGFzc1xuICAvLyB0aGF0IGNvbnRhaW4gdGhlIHByb3ZpZGVkIGVsZW1lbnRzIHRvIHNlbGVjdC5cbiAgY29uc3QgZ3JvdXBzVG9TZWxlY3QgPSBuZXcgU2V0PFNWR0dFbGVtZW50PigpO1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICBsZXQgZ3JvdXBpbmcgPSBlbGVtZW50LmNsb3Nlc3Q8U1ZHR0VsZW1lbnQ+KHNlbGVjdGlvbkNsYXNzKTtcbiAgICBpZiAoZ3JvdXBpbmcgPT09IG51bGwpIHtcbiAgICAgIC8vIENoZWNrIGlmIHdlIGNsaWNrLXNlbGVjdGVkIGEgY2xlZiBvciBhIGN1c3RvcyBvciBhbiBhY2NpZCBvciBhIGRpdkxpbmVcbiAgICAgIGdyb3VwaW5nID0gZWxlbWVudC5jbG9zZXN0KCcuY2xlZiwgLmN1c3RvcywgLmFjY2lkLCAuZGl2TGluZScpO1xuICAgICAgaWYgKGdyb3VwaW5nID09PSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnRWxlbWVudCAnICtcbiAgICAgICAgICAgIGVsZW1lbnQuaWQgK1xuICAgICAgICAgICAgJyBpcyBub3QgcGFydCBvZiBzcGVjaWZpZWQgZ3JvdXAgYW5kIGlzIG5vdCBhIGNsZWYgb3IgY3VzdG9zIG9yIGFjY2lkIG9yIGRpdkxpbmUuJyxcbiAgICAgICAgKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb250YWluc0xheWVyRWxlbWVudHMgPSBjb250YWluc0xheWVyRWxlbWVudHMgfHwgdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbnNOYyA9IGNvbnRhaW5zTmMgfHwgdHJ1ZTtcbiAgICB9XG4gICAgZ3JvdXBzVG9TZWxlY3QuYWRkKGdyb3VwaW5nKTtcblxuICAgIC8vIENoZWNrIGZvciBwcmVjZWRlcy9mb2xsb3dzXG4gICAgbGV0IHNlbGVjdGVkID0gZ3JvdXBpbmc7XG4gICAgbGV0IGZvbGxvd3MgPSBzZWxlY3RlZC5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJyk7XG4gICAgbGV0IHByZWNlZGVzID0gc2VsZWN0ZWQuZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKTtcbiAgICB3aGlsZSAoZm9sbG93cyB8fCBwcmVjZWRlcykge1xuICAgICAgaWYgKGZvbGxvd3MpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGZvbGxvd3Muc2xpY2UoMSkpO1xuICAgICAgICBpZiAoZ3JvdXBzVG9TZWxlY3QuaGFzKHNlbGVjdGVkKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5hZGQoJ25vLW1vdmluZycpO1xuICAgICAgICBncm91cHNUb1NlbGVjdC5hZGQoc2VsZWN0ZWQpO1xuICAgICAgICBmb2xsb3dzID0gc2VsZWN0ZWQuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpO1xuICAgICAgfVxuICAgICAgaWYgKHByZWNlZGVzKSB7XG4gICAgICAgIHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBwcmVjZWRlcy5zbGljZSgxKSk7XG4gICAgICAgIGlmIChncm91cHNUb1NlbGVjdC5oYXMoc2VsZWN0ZWQpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0ZWQuY2xhc3NMaXN0LmFkZCgnbm8tbW92aW5nJyk7XG4gICAgICAgIGdyb3Vwc1RvU2VsZWN0LmFkZChzZWxlY3RlZCk7XG4gICAgICAgIHByZWNlZGVzID0gc2VsZWN0ZWQuZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gU2VsZWN0IHRoZSBlbGVtZW50c1xuICBncm91cHNUb1NlbGVjdC5mb3JFYWNoKChncm91cDogU1ZHR3JhcGhpY3NFbGVtZW50KSA9PlxuICAgIHNlbGVjdChncm91cCwgZHJhZ0hhbmRsZXIsIGZhbHNlKSxcbiAgKTtcblxuICAvKiBEZXRlcm1pbmUgdGhlIGNvbnRleHQgbWVudSB0byBkaXNwbGF5IChpZiBhbnkpICovXG5cbiAgY29uc3QgZ3JvdXBzID0gQXJyYXkuZnJvbShncm91cHNUb1NlbGVjdC52YWx1ZXMoKSkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG5cbiAgLy8gSGFuZGxlIG9jY3VyYW5jZSBvZiBjbGVmIG9yIGN1c3RvcyBvciBhY2NpZCBvciBkaXZMaW5lXG4gIGlmIChjb250YWluc0xheWVyRWxlbWVudHMgJiYgIWNvbnRhaW5zTmMpIHtcbiAgICAvLyBBIGNvbnRleHQgbWVudSB3aWxsIG9ubHkgYmUgZGlzcGxheWVkIGlmIHRoZXJlIGlzIGEgc2luZ2xlIGNsZWZcbiAgICBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyhncm91cHNbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2VsZWN0aW9uVHlwZSA9PSAnc2VsQnlTeWxsYWJsZScpIHtcbiAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdFN5bEFjdGlvbnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTaW5nbGVTdGFmZkFjdGlvbnMoKTtcbiAgICAgICAgICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbiAgICAgICAgICByZXNpemUoZ3JvdXBzWzBdLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck11bHRpU3RhZmZBY3Rpb25zKCk7XG4gICAgICAgICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TGF5ZXJFbGVtZW50JzpcbiAgICAgIGlmIChncm91cHNUb1NlbGVjdC5zaXplID09PSAxKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckxheWVyRWxlbWVudEFjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAvLyBUT0RPIGNoYW5nZSBjb250ZXh0IGlmIGl0IGlzIG9ubHkgYSBuZXVtZS9uYy5cbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ3NpbmdsZVNlbGVjdCcpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGxpbmtlZCBzeWxsYWJsZSBzcGxpdCBieSBhIHN0YWZmIGJyZWFrXG4gICAgICAgICAgLy8gaWYgdGhleSBhcmUgbGlua2FibGUsIHVzZXIgY2FuIHRvZ2dsZSBsaW5rZWQtc3lsbHNcbiAgICAgICAgICBpZiAoR3JvdXBpbmcuaXNMaW5rYWJsZSgnc2VsQnlTeWxsYWJsZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbGlua2FibGVTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaWYgc3lsbGFibGVzIGFyZSBhbGwgbG9jYXRlZCBvbiBvbmUgc3RhdmUsIHRoZXkgc2hvdWxkIGJlIGdyb3VwYWJsZVxuICAgICAgICAgIGVsc2UgaWYgKEdyb3VwaW5nLmlzR3JvdXBhYmxlKCdzZWxCeVN5bGxhYmxlJywgZ3JvdXBzKSkge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdtdWx0aVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpZiBzeWxscyBhcmUgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnZGVmYXVsdCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIFRPRE8gY2hhbmdlIGNvbnRleHQgaWYgaXQgaXMgb25seSBhIG5jLlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck5ldW1lQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlOZXVtZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmV1bWUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJOY0FjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmIChzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChncm91cHMpKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHNlbGVjdGlvbiBpcyBhIGxpZ2F0dXJlIG9yIGNhbiBiZSBhIGxpZ2F0dXJlXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVzZSBuZXVtZSBjb21wb25lbnRzIGFyZSBwYXJ0IG9mIHRoZSBzYW1lIG5ldW1lXG4gICAgICAgICAgICBpZiAoZ3JvdXBzWzBdLnBhcmVudEVsZW1lbnQgPT09IGdyb3Vwc1sxXS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShncm91cHNbMF0ucGFyZW50RWxlbWVudC5jaGlsZHJlbik7XG5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBuZXVtZSBjb21wb25lbnRzIGFyZSBhZGphY2VudFxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1swXSkgLSBjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1sxXSksXG4gICAgICAgICAgICAgICAgKSA9PT0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHNlY29uZCBuZXVtZSBjb21wb25lbnQgaXMgbG93ZXIgdGhhbiBmaXJzdC5cbiAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIG9yZGVyIGluIHRoZSBsaXN0IG1heSBub3QgYmUgdGhlIHNhbWUgYXMgdGhlXG4gICAgICAgICAgICAgICAgLy8gb3JkZXIgYnkgeC1wb3NpdGlvbi5cbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQyA9IGdyb3Vwc1swXS5jaGlsZHJlblswXSBhcyBTVkdVc2VFbGVtZW50O1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQyA9IGdyb3Vwc1sxXS5jaGlsZHJlblswXSBhcyBTVkdVc2VFbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkNYID0gZmlyc3ROQy54LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWCA9IHNlY29uZE5DLnguYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQ1kgPSBmaXJzdE5DLnkuYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kTkNZID0gc2Vjb25kTkMueS5iYXNlVmFsLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgLy8gb3JkZXIgbmMncyBieSB4IGNvb3JkIChsZWZ0IHRvIHJpZ2h0KVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGZpcnN0TkNYID4gc2Vjb25kTkNYIHx8XG4gICAgICAgICAgICAgICAgICAoZmlyc3ROQ1ggPT09IHNlY29uZE5DWCAmJiBmaXJzdE5DWSA8IHNlY29uZE5DWSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIFtmaXJzdE5DLCBzZWNvbmROQ10gPSBbc2Vjb25kTkMsIGZpcnN0TkNdO1xuICAgICAgICAgICAgICAgICAgW2ZpcnN0TkNYLCBmaXJzdE5DWSwgc2Vjb25kTkNYLCBzZWNvbmROQ1ldID0gW1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmROQ1gsXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZE5DWSxcbiAgICAgICAgICAgICAgICAgICAgZmlyc3ROQ1gsXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0TkNZLFxuICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBzdGFja2VkIG5jJ3MvbGlnYXR1cmUgKGlkZW50aWNhbCB4KSwgb3IgZGVzY2VuZGluZyBuYydzICh5IGRlc2NlbmRzKVxuICAgICAgICAgICAgICAgIGlmIChmaXJzdE5DWCA9PT0gc2Vjb25kTkNYIHx8IGZpcnN0TkNZIDwgc2Vjb25kTkNZKSB7XG4gICAgICAgICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ2xpZ2F0dXJlJyk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKHNoYXJlZFNlY29uZExldmVsUGFyZW50KGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBzZWxlY3RCQm94KGdyb3Vwc1swXSwgZHJhZ0hhbmRsZXIsIG5lb25WaWV3KTtcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJCQm94QWN0aW9ucygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKChnKSA9PiBzZWxlY3RCQm94KGcsIGRyYWdIYW5kbGVyLCB1bmRlZmluZWQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIHNlbGVjdGlvbiB0eXBlLiBUaGlzIHNob3VsZCBub3QgaGF2ZSBvY2N1cnJlZC4nKTtcbiAgfVxuXG4gIC8vIGZ1bmN0aW9uIGNoYW5nZVN0YWZmTGlzdGVuZXIoKTogdm9pZCB7XG4gIC8vIHRyeSB7XG4gIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VTdGFmZicpXG4gIC8vIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFNlbGVjdE9wdGlvbnMuY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgLy8gfSBjYXRjaCAoZSkge2NvbnNvbGUuZGVidWcoZSk7fVxuICAvLyB9XG59XG4iLCJpbXBvcnQgeyByZWNvcmROb3RpZmljYXRpb24gfSBmcm9tICcuL0Vycm9yTG9nJztcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4vcmFuZG9tJztcblxudHlwZSBOb3RpZmljYXRpb25UeXBlID0gJ2RlZmF1bHQnIHwgJ2Vycm9yJyB8ICd3YXJuaW5nJyB8ICdzdWNjZXNzJztcblxuY29uc3Qgbm90aWZpY2F0aW9uczogTm90aWZpY2F0aW9uW10gPSBuZXcgQXJyYXkoMCk7XG5sZXQgY3VycmVudE1vZGVNZXNzYWdlOiBOb3RpZmljYXRpb24gPSBudWxsO1xuXG4vKipcbiAqIE51bWJlciBvZiBub3RpZmljYXRpb25zIHRvIGRpc3BsYXkgYXQgYSB0aW1lLlxuICovXG5jb25zdCBOVU1CRVJfVE9fRElTUExBWSA9IDM7XG5cbi8qKlxuICogTnVtYmVyIG9mIG5vdGlmaWNhdGlvbnMgdG8gZGlzcGxheSBhdCBhIHRpbWUuXG4gKi9cbmNvbnN0IFRJTUVPVVQgPSA1MDAwO1xuXG5jb25zdCBub3RpZmljYXRpb25JY29uOiBSZWNvcmQ8Tm90aWZpY2F0aW9uVHlwZSwgc3RyaW5nPiA9IHtcbiAgZGVmYXVsdDogJycsXG4gIHdhcm5pbmc6ICfimqDvuI8gJyxcbiAgZXJyb3I6ICfwn5S0ICcsXG4gIHN1Y2Nlc3M6ICfinIUgJyxcbn07XG5cbi8qKlxuICogQSBjbGFzcyB0byBtYW5hZ2UgTmVvbiBub3RpZmljYXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgTm90aWZpY2F0aW9uIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBkaXNwbGF5ZWQ6IGJvb2xlYW47XG4gIGlkOiBzdHJpbmc7XG4gIGlzTW9kZU1lc3NhZ2U6IGJvb2xlYW47XG4gIGxvZ0luZm86IHN0cmluZztcbiAgdGltZW91dElEOiBudW1iZXI7XG4gIHR5cGU6IE5vdGlmaWNhdGlvblR5cGU7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbm90aWZpY2F0aW9uLlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSwgbG9nSW5mbzogc3RyaW5nID0gbnVsbCkge1xuICAgIHRoaXMubWVzc2FnZSA9IG5vdGlmaWNhdGlvbkljb25bdHlwZV0gKyBtZXNzYWdlO1xuICAgIHRoaXMuZGlzcGxheWVkID0gZmFsc2U7XG4gICAgdGhpcy5pZCA9IHV1aWR2NCgpO1xuICAgIHRoaXMuaXNNb2RlTWVzc2FnZSA9IG1lc3NhZ2Uuc2VhcmNoKCdNb2RlJykgIT09IC0xO1xuICAgIHRoaXMubG9nSW5mbyA9IGxvZ0luZm87XG4gICAgdGhpcy50aW1lb3V0SUQgPSAtMTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgLyoqIFNldCB0aGUgSUQgZnJvbSBzZXRUaW1lb3V0LiAqL1xuICBzZXRUaW1lb3V0SWQgKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnRpbWVvdXRJRCA9IE1hdGgubWF4KGlkLCAtMSk7XG4gIH1cblxuICAvKiogRGlzcGxheSB0aGUgTm90aWZpY2F0aW9uLiAqL1xuICBkaXNwbGF5ICgpOiB2b2lkIHtcbiAgICB0aGlzLmRpc3BsYXllZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIFVVSUQgZm9yIHRoaXMgbm90aWZpY2F0aW9uLlxuICAgKi9cbiAgZ2V0SWQgKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuaWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGVhciB0aGUgbm90aWZpY2F0aW9uXG4gKiBAcGFyYW0gY3VycmVudElkIC0gVGhlIElEIG9mIHRoZSBub3RpZmljYXRpb24gdG8gYmUgY2xlYXJlZC5cbiAqL1xuZnVuY3Rpb24gY2xlYXJOb3RpZmljYXRpb24gKGN1cnJlbnRJZDogc3RyaW5nKTogdm9pZCB7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjdXJyZW50SWQpKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3VycmVudElkKS5yZW1vdmUoKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BsYXkgYSBub3RpZmljYXRpb24uXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uIC0gTm90aWZpY2F0aW9uIHRvIGRpc3BsYXkuXG4gKi9cbmZ1bmN0aW9uIGRpc3BsYXlOb3RpZmljYXRpb24gKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKTogdm9pZCB7XG4gIC8vIE5vdCBzdXJlIHdoYXQgaXQgZG9lcywgbWF5YmUgcmVsYXRlZCB0byByb2Rhbi9uZW9uXG4gIGlmIChub3RpZmljYXRpb24uaXNNb2RlTWVzc2FnZSkge1xuICAgIGlmIChjdXJyZW50TW9kZU1lc3NhZ2UgPT09IG51bGwpIHtcbiAgICAgIGN1cnJlbnRNb2RlTWVzc2FnZSA9IG5vdGlmaWNhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChjdXJyZW50TW9kZU1lc3NhZ2UudGltZW91dElEKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICAvLyBSZW1vdmUgdGhlIHRvcCBub3RpZmljYXRpb24gaWYgZXhjZWVkcyBtYXhtaW11bVxuICBub3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbiAgaWYgKG5vdGlmaWNhdGlvbnMubGVuZ3RoID4gTlVNQkVSX1RPX0RJU1BMQVkpIHtcbiAgICBjb25zdCB0b1JlbW92ZSA9IG5vdGlmaWNhdGlvbnMuc2hpZnQoKTtcbiAgICBjbGVhck5vdGlmaWNhdGlvbih0b1JlbW92ZS5nZXRJZCgpKTtcbiAgfVxuICBjb25zdCBub3RpZmljYXRpb25Db250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGlmaWNhdGlvbi1jb250ZW50Jyk7XG4gIGNvbnN0IG5ld05vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBuZXdOb3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnbmVvbi1ub3RpZmljYXRpb24nKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoYG5lb24tbm90aWZpY2F0aW9uLSR7bm90aWZpY2F0aW9uLnR5cGV9YCk7XG4gIG5ld05vdGlmaWNhdGlvbi5pZCA9IG5vdGlmaWNhdGlvbi5nZXRJZCgpO1xuICBuZXdOb3RpZmljYXRpb24uaW5uZXJIVE1MID0gbm90aWZpY2F0aW9uLm1lc3NhZ2U7XG4gIG5vdGlmaWNhdGlvbkNvbnRlbnQuYXBwZW5kKG5ld05vdGlmaWNhdGlvbik7XG4gIG5vdGlmaWNhdGlvbkNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICBub3RpZmljYXRpb24uZGlzcGxheSgpO1xufVxuXG4vKipcbiAqIFN0YXJ0IGRpc3BsYXlpbmcgbm90aWZpY2F0aW9ucy4gQ2FsbGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0Tm90aWZpY2F0aW9uIChub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICBkaXNwbGF5Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7XG4gIG5vdGlmaWNhdGlvbi5zZXRUaW1lb3V0SWQoXG4gICAgd2luZG93LnNldFRpbWVvdXQoY2xlYXJOb3RpZmljYXRpb24sIFRJTUVPVVQsIG5vdGlmaWNhdGlvbi5nZXRJZCgpKVxuICApO1xuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZChub3RpZmljYXRpb24uZ2V0SWQoKSlcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KG5vdGlmaWNhdGlvbi50aW1lb3V0SUQpO1xuICAgICAgY2xlYXJOb3RpZmljYXRpb24obm90aWZpY2F0aW9uLmdldElkKCkpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEFkZCBhIG5vdGlmaWNhdGlvbiB0byB0aGUgcXVldWUuXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uIC0gTm90aWZpY2F0aW9uIGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZU5vdGlmaWNhdGlvbiAobm90aWZpY2F0aW9uQ29udGVudDogc3RyaW5nLCB0eXBlOiBOb3RpZmljYXRpb25UeXBlID0gJ2RlZmF1bHQnLCBsb2dJbmZvOiBzdHJpbmcgPSBudWxsKTogdm9pZCB7XG4gIGNvbnN0IG5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24obm90aWZpY2F0aW9uQ29udGVudCwgdHlwZSwgbG9nSW5mbyk7XG5cbiAgaWYgKG5vdGlmaWNhdGlvbi50eXBlID09ICdlcnJvcicgfHwgbm90aWZpY2F0aW9uLnR5cGUgPT0gJ3dhcm5pbmcnKSB7XG4gICAgcmVjb3JkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7XG4gIH1cblxuICBzdGFydE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7IHF1ZXVlTm90aWZpY2F0aW9uIH07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gYXJnc0FycmF5O1xuXG5mdW5jdGlvbiBhcmdzQXJyYXkoZnVuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGxlbikge1xuICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgIHZhciBpID0gLTE7XG4gICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuLmNhbGwodGhpcywgYXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW4uY2FsbCh0aGlzLCBbXSk7XG4gICAgfVxuICB9O1xufSIsIm1vZHVsZS5leHBvcnRzID0gZDM7IiwiLyoqXG4gKiBIVE1MIGZvciBlYWNoIGluc2VydCB0YWIgKG5ldW1lLCBncm91cGluZywgY2xlZiwgc3lzdGVtLCBhbmQgZGl2aXNpb24pLlxuICovXG5leHBvcnQgY29uc3QgaW5zZXJ0VGFiSHRtbDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgcHJpbWl0aXZlVGFiOiBgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwdW5jdHVtXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInB1bmN0dW1cIiB0aXRsZT1cInB1bmN0dW1cIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3B1bmN0dW0ucG5nXCIgY2xhc3M9XCJpbWFnZVwiLz48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInZpcmdhXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInZpcmdhXCIgdGl0bGU9XCJ2aXJnYVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdmlyZ2EucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwidmlyZ2FSZXZlcnNlZFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJSZXZlcnNlZCBWaXJnYVwiIHRpdGxlPVwiUmV2ZXJzZWQgVmlyZ2FcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3ZpcmdhX3JldmVyc2VkLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpYW1vbmRcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiaW5jbGluYXR1bVwiIHRpdGxlPVwiaW5jbGluYXR1bVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvZGlhbW9uZC5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjdXN0b3NcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY3VzdG9zXCIgdGl0bGU9XCJjdXN0b3NcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2N1c3Rvcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjQ2xlZlwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJDIENsZWZcIiB0aXRsZT1cIiBDIENsZWZcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NDbGVmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImZDbGVmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkYgQ2xlZlwiIHRpdGxlPVwiRiBDbGVmXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9mQ2xlZi5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJsaXF1ZXNjZW50QVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJMaXF1ZXNjZW50IEFcIiB0aXRsZT1cIkxpcXVlc2NlbnQgQVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbGlxdWVzY2VudEEucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibGlxdWVzY2VudENcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiTGlxdWVzY2VudCBDXCIgdGl0bGU9XCJMaXF1ZXNjZW50IENcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2xpcXVlc2NlbnRDLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImZsYXRcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRmxhdFwiIHRpdGxlPVwiRmxhdFwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvYWNjaWRGbGF0LnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIm5hdHVyYWxcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiTmF0dXJhbFwiIHRpdGxlPVwiTmF0dXJhbFwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvYWNjaWROYXR1cmFsLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpdkxpbmVNYXhpbWFcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRGl2TGluZSBNYXhpbWFcIiB0aXRsZT1cIkRpdkxpbmUgTWF4aW1hXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaXZpc2lvLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPmAsXG4gIGdyb3VwaW5nVGFiOiBgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwZXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicGVzXCIgdGl0bGU9XCJwZXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Blcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGl2aXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY2xpdmlzXCIgdGl0bGU9XCJjbGl2aXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NsaXZpcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzY2FuZGljdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwic2NhbmRpY3VzXCIgdGl0bGU9XCJzY2FuZGljdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3NjYW5kaWN1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGltYWN1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJjbGltYWN1c1wiIHRpdGxlPVwiY2xpbWFjdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NsaW1hY3VzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInRvcmN1bHVzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInRvY3VsdXNcIiB0aXRsZT1cInRvY3VsdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3RvcmN1bHVzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInBvcnJlY3R1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJwb3JyZWN0dXNcIiB0aXRsZT1cInBvcnJlY3R1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcG9ycmVjdHVzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInByZXNzdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicHJlc3N1c1wiIHRpdGxlPVwicHJlc3N1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcHJlc3N1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5gLFxuICBzeXN0ZW1UYWI6IGA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInN0YWZmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBsb25nZWxcIiBhcmlhLWxhYmVsPVwic3lzdGVtXCIgdGl0bGU9XCJzeXN0ZW1cIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3N0YWZmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5DbGljayB1cHBlciBsZWZ0IGFuZCBsb3dlciByaWdodCBjb3JuZXJzIG9mIG5ldyBzdGFmZi48L3A+YCxcbiAgLy8gZGl2aXNpb25UYWI6IFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J3NtYWxsRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvc21hbGxkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICtcbiAgLy8gICAgIFwiPGJ1dHRvbiBpZD0nbWlub3JEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9taW5vcmRpdi5wbmdcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiICtcbiAgLy8gICAgIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J21ham9yRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvbWFqb3JkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICtcbiAgLy8gXCI8YnV0dG9uIGlkPSdmaW5hbERpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL2ZpbmFsZGl2LnBuZyBcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiXG59O1xuXG4vKipcbiAqIFN0cnVjdHVyZSBvZiBpbnNlcnQgcGFuZWwgd2l0aCBiYXNpYyBncm91cGluZyB0YWJzLlxuICovXG5leHBvcnQgY29uc3QgaW5zZXJ0Q29udHJvbHNQYW5lbCA9IGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiaW5zZXJ0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZVwiPklOU0VSVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVJbnNlcnRcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG5cdDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGlkPVwiaW5zZXJ0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCIgc3R5bGU9XCJvdmVyZmxvdy15OiBoaWRkZW47XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInBhbmVsLXRhYnNcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cInByaW1pdGl2ZVRhYlwiIGNsYXNzPVwiaW5zZXJ0VGFiXCI+UHJpbWl0aXZlIEVsZW1lbnRzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiZ3JvdXBpbmdUYWJcIiBjbGFzcz1cImluc2VydFRhYlwiPkdyb3VwaW5nPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwic3lzdGVtVGFiXCIgY2xhc3M9XCJpbnNlcnRUYWJcIj5TeXN0ZW08L2E+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiaW5zZXJ0X2RhdGFcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBlZGl0IHBhbmVsIHdpdGggYnV0dG9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGVkaXRDb250cm9sc1BhbmVsID0gYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJlZGl0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZSBmb2N1c2VkXCI+RURJVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVFZGl0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJlZGl0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBpZD1cInNlbGVjdGlvbi1tb2RlLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1zdWItdGl0bGVcIj5TZWxlY3Rpb24gTW9kZTo8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXJcIiAgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCIgc3R5bGU9XCJvdmVyZmxvdy14OiBhdXRvO1wiPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeVN5bGxhYmxlXCI+U3lsbGFibGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5TmV1bWVcIj5OZXVtZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlOY1wiPk5ldW1lIENvbXBvbmVudDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlTdGFmZlwiPlN0YWZmPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeUxheWVyRWxlbWVudFwiPkxheWVyIEVsZW1lbnQ8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJtb3JlRWRpdFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJleHRyYUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPCEtLVxuICAgICAgICAgICAgICAgICAgICAqIFRoZSBleHRyYUVkaXQgcGFuZWwgaXMgYWRkZWQgZm9yIGVkaXQgb3B0aW9ucyB0aGF0IGhhdmUgZHJvcGRvd24gbWVudXNcbiAgICAgICAgICAgICAgICAgICAgKiBMaWtlIHRoZSBOZXVtZSBhbmQgQ2xlZiBtZW51c1xuICAgICAgICAgICAgICAgICAgICAqIFRoaXMgaXMgZG9uZSBiZWNhdXNlIHRoZSBtb3JlRWRpdCBtZW51IG5lZWRzIHRvIGhhdmUgb3ZlcmZsb3cgZm9yIGNhc2VzIHdoZXJlIGl0IGhhcyBsb3RzIG9mIGJ1dHRvbnNcbiAgICAgICAgICAgICAgICAgICAgKiBCdXQgb3ZlcmZsb3cgcnVpbnMgZHJvcGRvd24gbWVudXNcbiAgICAgICAgICAgICAgICAgICAgLS0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvbiBoaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cIm5ldW1lRWRpdFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInVuZG9SZWRvX2NvbnRyb2xzXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmMgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuY0FjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5DaGFuZ2UgSGVhZCBTaGFwZTo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5IZWFkIFNoYXBlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQdW5jdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UHVuY3R1bTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlZpcmdhXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+VmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJWaXJnYVJldmVyc2VkXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UmV2ZXJzZWQgVmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJJbmNsaW5hdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+SW5jbGluYXR1bTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkxpcXVlc2NlbnRBbnRpY2xvY2t3aXNlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TGlxdWVzY2VudCBBPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiTGlxdWVzY2VudENsb2Nrd2lzZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkxpcXVlc2NlbnQgQzwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGJhc2ljIG5ldW1lIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMgPSBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJzcGxpdC1uZXVtZVwiPlNwbGl0IE5ldW1lczwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmV1bWUgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuZXVtZUFjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5Hcm91cGluZyBPcHRpb25zOjwvbGFiZWw+XG4gICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkdyb3VwaW5nczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudCBzY3JvbGxhYmxlLWRyb3Bkb3duXCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDbGltYWN1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPkNsaW1hY3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpbWFjdXNSZXN1cGludXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGltYWN1cyBSZXN1cGludXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDbGl2aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGl2aXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQZXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5QZXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQZXNTdWJwdW5jdGlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UGVzIFN1YnB1bmN0aXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQb3JyZWN0dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQb3JyZWN0dXNGbGV4dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXMgRmxleHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBvcnJlY3R1cyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUHJlc3N1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlByZXNzdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJTY2FuZGljdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJTY2FuZGljdXNGbGV4dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXMgRmxleHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlNjYW5kaWN1cyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVG9yY3VsdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Ub3JjdWx1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlRvcmN1bHVzUmVzdXBpbnVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+VG9yY3VsdXMgUmVzdXBpbnVzPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5jc1wiPlVuZ3JvdXA8L2J1dHRvbj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRlZmF1bHQgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0QWN0aW9uQ29udGVudHMgPSBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRlZmF1bHQgYWN0aW9uIG1lbnUgd2hlbiBzZWxlY3RpbmcgYnkgc3lsbGFibGVcbiAqIFNhbWUgYXMgYWJvdmUgZXhjZXB0IGluY2x1ZGVzIHJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0U3lsQWN0aW9uQ29udGVudHMgPSBgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGN1c3RvcyBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3Rvc0FjdGlvbkNvbnRlbnRzID0gYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAob3V0c2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cyA9IGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImluc2VydFRvU3lsbGFibGVcIj5JbnNlcnQgdG8gbmVhcmVzdCBzeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGxheWVyIGVsZW1lbnQgKGluc2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzID0gYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibW92ZU91dHNpZGVTeWxsYWJsZVwiPk1vdmUgb3V0c2lkZSBzeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGFjY2lkIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgYWNjaWRBY3Rpb25Db250ZW50cyA9IGA8bGFiZWw+Q2hhbmdlIEFjY2lkZW50YWw6PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GbGF0XCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmxhdDwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTmF0dXJhbFwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPk5hdHVyYWw8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBzdGFmZiBzcGxpdCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyA9IGA8ZGl2PlNwbGl0IFN5c3RlbTo8L2Rpdj5cbiAgICA8ZGl2IGlkPVwic3BsaXQtc3lzdGVtLWJ0bnMtY29udGFpbmVyXCIgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJzcGxpdC1zeXN0ZW1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCI+U3BsaXQ8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cInJlc2V0LXJvdGF0ZVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5SZXNldCBSb3RhdGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGV4dHJhIHN0YWZmIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3Qgc3RhZmZNZXJnZUFjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5NZXJnZSBTeXN0ZW1zOjwvbGFiZWw+XG4gICAgPGRpdiBpZD1cIm1lcmdlLXN5c3RlbS1idG5zLWNvbnRhaW5lclwiIGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGlkPVwibWVyZ2Utc3lzdGVtc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5NZXJnZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgYWNjaWQgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBjb2x1bW5BY3Rpb25Db250ZW50cyA9IGA8ZGl2IGNsYXNzPVwiY29sLWVkaXQtY29udGFpbmVyXCI+XG4gICAgICAgIEVkaXQgQ29sdW1uIEluZm9ybWF0aW9uOlxuICAgICAgICA8ZGl2IGlkPVwiY29sLXN0ZXBwZXItYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjb2wtZGVjcmVtZW50XCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBjb2wtc3RlcHBlci1idG5cIj7igJM8L2J1dHRvbj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiY29sLWlucHV0XCIgY2xhc3M9XCJzaWRlLXBhbmVsLXN0ZXBwZXItaW5wdXRcIiB2YWx1ZT1cIjBcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjb2wtaW5jcmVtZW50XCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBjb2wtc3RlcHBlci1idG5cIj4rPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29sLWNvbmZpcm1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNpZGUtcGFuZWwtY29uZmlybS1idG5cIiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiPkNvbmZpcm08L2J1dHRvbj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJjb2wtd2FybmluZ1wiIGNsYXNzPVwic2lkZS1wYW5lbC13YXJuaW5nXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgY2xlZiBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWZBY3Rpb25Db250ZW50cyA9IGBcbiAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCIgb3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+RGlzcGxhY2UgT2N0YXZlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cImluY3JlbWVudC1vY3RhdmVcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj4rMSBPY3RhdmU8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxhIGlkPVwiZGVjcmVtZW50LW9jdGF2ZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPi0xIE9jdGF2ZTwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiIG92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkNoYW5nZSBDbGVmIFNoYXBlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cIkNDbGVmXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+QyBDbGVmPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cIkZDbGVmXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RiBDbGVmPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIGA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZGl2TGluZSB0eXBlIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGl2TGluZUFjdGlvbkNvbnRlbnRzID0gYDxsYWJlbD5DaGFuZ2UgRGl2TGluZTo8L2xhYmVsPlxuPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgPHNwYW4+U2hhcGVzPC9zcGFuPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvQ2Flc3VyYVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkNhZXN1cmE8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvRmluYWxpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkZpbmFsaXM8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWluaW1hXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWluaW1hPC9hPlxuICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb01haW9yXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWFpb3I8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWF4aW1hXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWF4aW1hPC9hPlxuICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb1Zpcmd1bGFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5WaXJndWxhPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgYmJveCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGJib3hBY3Rpb25Db250ZW50cyA9IGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1hdGNoSGVpZ2h0XCI+TWF0Y2ggSGVpZ2h0IGZvciBFbnRpcmUgUm93PC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBIVE1MIGZvciBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdyb3VwaW5nTWVudSA9IHtcbiAgbmM6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIG1vcmUtZWRpdC1idG5cIiBpZD1cImdyb3VwTmNzXCI+R3JvdXAgTmV1bWUgQ29tcG9uZW50czwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCxcbiAgbmV1bWU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJncm91cE5ldW1lc1wiPkdyb3VwIE5ldW1lczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCxcbiAgc3lsOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibWVyZ2VTeWxzXCI+TWVyZ2UgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXHRcdDwvZGl2PmAsXG4gIGxpZ2F0dXJlTmM6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZ3JvdXBOY3NcIj5Hcm91cCBOZXVtZSBDb21wb25lbnRzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saWdhdHVyZVwiPlRvZ2dsZSBMaWdhdHVyZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+YCxcbiAgbGlnYXR1cmU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saWdhdHVyZVwiPlRvZ2dsZSBMaWdhdHVyZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+YCxcbiAgc3BsaXRTeWxsYWJsZTogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlua1wiPlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5gLFxufTtcblxuLyogQkdJTk5JTkcgT0YgTU9EQUwgV0lORE9XIENPTlRFTlQgU0VDVElPTiAqL1xuXG4vKipcbiAqIEhUTUwgZm9yIEVkaXQgU3lsbGFibGUgVGV4dCBtb2RhbCB3aW5kb3dcbiAqL1xuZXhwb3J0IGNvbnN0IGVkaXRUZXh0TW9kYWwgPSBgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWNvbnRlbnRcIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtZWRpdC10ZXh0XCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXRcIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1sYWJlbFwiPkVudGVyIFN5bGxhYmxlIFRleHQ6PC9sYWJlbD5cbiAgICAgICAgPGlucHV0IGlkPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0XCIgdHlwZT1cInRleHRcIj5cbiAgICAgICAgPGRpdiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1idG5zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWxcIj5DYW5jZWw8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWJ0blwiIGlkPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LXNhdmVcIj5TYXZlPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogSFRNTCBmb3IgSG90a2V5cyBtb2RhbCB3aW5kb3dcbiAqL1xuZXhwb3J0IGNvbnN0IGhvdGtleXNNb2RhbCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctY29udGVudFwiIGlkPVwibmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzXCI+XG4gICAgICAgIDwhLS0gXCJEaXNwbGF5XCIgaG90a2V5cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktdGl0bGVcIj5EaXNwbGF5PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPis8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+Wm9vbSBJbjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPi08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+Wm9vbSBPdXQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+MDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIFJlc2V0PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPmg8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+SGlkZSBHbHlwaDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlQ8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+U2Nyb2xsIFRvIFN5bGxhYmxlIFRleHQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFwiRWRpdFwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+RWRpdDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+Q3RybDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5vcjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+4oyYPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5VbmRvPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkN0cmw8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5vcjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+4oyYPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlJlZG88L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+cS93L2Uvci90L3k8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIEhpZ2hsaWdodCBieSBTdGFmZi9TeWxsYWJsZS9OZXVtZS9MYXllckVsZW1lbnQvU2VsZWN0aW9uL09mZlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4xLzIvMy80LzUvNjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgU2VsZWN0IGJ5IFN5bGxhYmxlL05ldW1lL05ldW1lIENvbXBvbmVudC9TdGFmZi9MYXllciBFbGVtZW50L0JCb3hcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5OdW1iZXI8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIEJlZ2luIEluc2VydCBmb3IgdGhlIDxpPm50aDwvaT4gT3B0aW9uIGluIHRoZSBTZWxlY3RlZCBUYWJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ZzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgR3JvdXAvVW5ncm91cCBTZWxlY3RlZCBFbGVtZW50KHMpXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBcIk90aGVyXCIgaG90a2V5cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktdGl0bGVcIj5PdGhlcjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+czwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5TYXZlIEZpbGU8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+RXNjPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlJldHVybiB0byBFZGl0IE1vZGU8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG5leHBvcnQgY29uc3Qgc3lsbGFibGVBY3Rpb25zQ29udGVudCA9IGBcbiAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5ldW1lc1wiPlVuZ3JvdXA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICA8L2Rpdj5cbmA7XG5cbmV4cG9ydCBjb25zdCBlcnJvckxvZ3NQYW5lbENvbnRlbnRzID0gYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJlcnJvckxvZ0hlYWRpbmdcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGVcIj5FcnJvciBMb2c8L2Rpdj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVFcnJvckxvZ1wiIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCIgaWQ9XCJlcnJvckxvZ0NvbnRlbnRzXCIgc3R5bGU9XCJvdmVyZmxvdzogc2Nyb2xsOyBwYWRkaW5nOiAwLjVlbSAwLjc1ZW07IG1heC1oZWlnaHQ6IDMwMHB4O1wiPjxkaXY+YDtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTsiLCJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHV1aWQpIHtcbiAgcmV0dXJuIHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyAmJiBSRUdFWC50ZXN0KHV1aWQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZTsiLCIvKiogQG1vZHVsZSBEaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzICovXG5cbmltcG9ydCAqIGFzIENvbG9yIGZyb20gJy4uL3V0aWxzL0NvbG9yJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuLi9TaW5nbGVWaWV3L1pvb20nO1xuaW1wb3J0IHsgR3JvdXBpbmdUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MsIHNldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cbmxldCBsYXN0R2x5cGhPcGFjaXR5OiBudW1iZXIsIGxhc3RJbWFnZU9wYWNpdHk6IG51bWJlciwgbGFzdENpcmNsZVNpemU6IG51bWJlcjtcblxuLyoqXG4gKiBTZXQgem9vbSBjb250cm9sIGxpc3RlbmVyIGZvciBidXR0b24gYW5kIHNsaWRlclxuICogQHBhcmFtIHpvb21IYW5kbGVyIC0gQSBbW1pvb21IYW5kbGVyXV0gaXMgb25seSBuZWNlc3NhcnkgaW4gU2luZ2xlIFBhZ2UgbW9kZSBhcyBkaXZhLmpzIGhhbmRsZXMgem9vbWluZyBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRab29tQ29udHJvbHMgKHpvb21IYW5kbGVyPzogWm9vbUhhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKHpvb21IYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgem9vbVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tU2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3Qgem9vbU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tT3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG5cbiAgY29uc3QgeyB6b29tIH0gPSBnZXRTZXR0aW5ncygpO1xuICB6b29tU2xpZGVyLnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICB6b29tSGFuZGxlci56b29tVG8oem9vbSAvIDEwMC4wKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXpvb20nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB6b29tT3V0cHV0LnZhbHVlID0gJzEwMCc7XG4gICAgem9vbVNsaWRlci52YWx1ZSA9ICcxMDAnO1xuICAgIHpvb21IYW5kbGVyLnJlc2V0Wm9vbUFuZFBhbigpO1xuICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2V0LXpvb20tZWFzeS1lZGl0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9ICcxODAnO1xuICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTgwJztcbiAgICB6b29tSGFuZGxlci56b29tVG8oMTgwLzEwMCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGlucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9IHpvb21TbGlkZXIudmFsdWU7XG4gICAgem9vbUhhbmRsZXIuem9vbVRvKE51bWJlcih6b29tT3V0cHV0LnZhbHVlKSAvIDEwMC4wKTtcbiAgfVxuXG4gIC8vIHpvb21TbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dENoYW5nZUhhbmRsZXIpO1xuICB6b29tU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBpbnB1dENoYW5nZUhhbmRsZXIpO1xuICB6b29tU2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRab29tID0gcGFyc2VJbnQoem9vbU91dHB1dC52YWx1ZSk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdBcnJvd1VwJyB8fCBldnQua2V5ID09PSAnQXJyb3dEb3duJyB8fCBcbiAgICBldnQua2V5ID09PSAnQXJyb3dSaWdodCcgfHwgZXZ0LmtleSA9PT0gJ0Fycm93TGVmdCcpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJysnKSB7IC8vIGluY3JlYXNlIHpvb20gYnkgMjBcbiAgICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1pbihjdXJyZW50Wm9vbSArIDIwLCBwYXJzZUludCh6b29tU2xpZGVyLmdldEF0dHJpYnV0ZSgnbWF4JykpKTtcbiAgICAgIHpvb21IYW5kbGVyLnpvb21UbyhuZXdab29tIC8gMTAwLjApO1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnXycpIHsgLy8gZGVjcmVhc2Ugem9vbSBieSAyMFxuICAgICAgY29uc3QgbmV3Wm9vbSA9IE1hdGgubWF4KGN1cnJlbnRab29tIC0gMjAsIHBhcnNlSW50KHpvb21TbGlkZXIuZ2V0QXR0cmlidXRlKCdtaW4nKSkpO1xuICAgICAgem9vbUhhbmRsZXIuem9vbVRvKG5ld1pvb20gLyAxMDAuMCk7XG4gICAgICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICcwJykge1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9ICcxMDAnO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9ICcxMDAnO1xuICAgICAgem9vbUhhbmRsZXIucmVzZXRab29tQW5kUGFuKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgTUVJIG9wYWNpdHkgdG8gdmFsdWUgZnJvbSB0aGUgc2xpZGVyLlxuICogQHBhcmFtIG1laUNsYXNzTmFtZSAtIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIHJlbmRlcmVkIE1FSS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIgKG1laUNsYXNzTmFtZT86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcbiAgY29uc3Qgb3BhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gb3BhY2l0eU91dHB1dC52YWx1ZTtcbiAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBsb2FkIGdseXBoIG9wYWNpdHkgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gcGFnZS1sb2FkXG4gIHNldFNldHRpbmdzKHsgZ2x5cGhPcGFjaXR5OiBOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgfSk7XG5cbiAgLy8gZGlzcGF5IGNvcnJlY3Qgc2xpZGVyIHRvZ2dsZSBkaXNwbGF5IGljb25cbiAgY29uc3QgaGlkZUdseXBoSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZ2dsZS1nbHlwaC1vcGFjaXR5ID4gaW1nJyk7XG4gIGlmIChOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgPT09IDApIHtcbiAgICBoaWRlR2x5cGhJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2hvdy1pY29uLnN2Z2ApO1xuICAgIGhpZGVHbHlwaEltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnU2hvdyBnbHlwaCcpO1xuICB9XG4gIGVsc2Uge1xuICAgIGhpZGVHbHlwaEltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnYCk7XG4gICAgaGlkZUdseXBoSW1nLnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICdIaWRlIGdseXBoJyk7XG4gIH1cblxuICB0cnkge1xuICAgICgoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBtZWlDbGFzc05hbWUpKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PikuZm9yRWFjaChnID0+IHtcbiAgICAgIGcuc3R5bGUub3BhY2l0eSA9IChOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDAuMCkudG9TdHJpbmcoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUud2FybignVW5hYmxlIHRvIHByb3Blcmx5IHNldCBvcGFjaXR5IHRvIHBhZ2VzJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgcmVuZGVyZWQgTUVJIG9wYWNpdHkgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICogQHBhcmFtIG1laUNsYXNzTmFtZSAtIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIHJlbmRlcmVkIE1FSS5cbiAqL1xuZnVuY3Rpb24gc2V0R2x5cGhPcGFjaXR5Q29udHJvbHMgKG1laUNsYXNzTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IG9wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BhY2l0eVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IG9wYWNpdHlPdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BhY2l0eU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgZ2x5cGhPcGFjaXR5IH0gPSBnZXRTZXR0aW5ncygpO1xuICBsYXN0R2x5cGhPcGFjaXR5ID0gZ2x5cGhPcGFjaXR5O1xuICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG4gIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoZ2x5cGhPcGFjaXR5KTtcblxuICBmdW5jdGlvbiBpbnB1dENoYW5nZU9wYWNpdHkgKCk6IHZvaWQge1xuICAgIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBvcGFjaXR5U2xpZGVyLnZhbHVlO1xuICAgIGxhc3RHbHlwaE9wYWNpdHkgPSBOdW1iZXIob3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgc2V0R2x5cGhPcGFjaXR5RnJvbVNsaWRlcihtZWlDbGFzc05hbWUpO1xuICB9XG5cbiAgY29uc3QgdG9nZ2xlT3BhY2l0eUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtZ2x5cGgtb3BhY2l0eScpO1xuXG4gIGlmIChnbHlwaE9wYWNpdHkgPT0gMTAwKSB7XG4gICAgdG9nZ2xlT3BhY2l0eUJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRlLWljb24nKTtcbiAgfVxuXG4gIHRvZ2dsZU9wYWNpdHlCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXG4gICAgbGV0IG5ld09wYWNpdHk7XG4gICAgaWYgKHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlLWljb24nKSkge1xuICAgICAgdG9nZ2xlT3BhY2l0eUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlLWljb24nKTtcbiAgICAgIG5ld09wYWNpdHkgPSAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbml0aW9uIHNjYWxlIGlzIHRoZSByb290IGVsZW1lbnQgb2Ygd2hhdCBpcyBnZW5lcmF0ZWQgYnkgdmVyb3Zpb1xuICAgIFxuICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIG1laUNsYXNzTmFtZSkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4pLmZvckVhY2goZyA9PiB7XG4gICAgICBnLnN0eWxlLm9wYWNpdHkgPSBuZXdPcGFjaXR5LnRvU3RyaW5nKCk7XG4gICAgfSk7XG5cbiAgICBsYXN0R2x5cGhPcGFjaXR5ID0gTnVtYmVyKG9wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIG9wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3T3BhY2l0eSAqIDEwMCk7XG4gICAgb3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhNYXRoLnJvdW5kKG5ld09wYWNpdHkgKiAxMDApKTtcblxuICAgIHNldFNldHRpbmdzKHsgZ2x5cGhPcGFjaXR5OiBuZXdPcGFjaXR5ICogMTAwIH0pO1xuXG4gICAgaW5wdXRDaGFuZ2VPcGFjaXR5KCk7XG4gIH0pO1xuXG4gIG9wYWNpdHlTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dENoYW5nZU9wYWNpdHkpO1xuICBvcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGlucHV0Q2hhbmdlT3BhY2l0eSk7XG5cbiAgb3BhY2l0eVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG5cbi8qKlxuICogU2V0IGJhY2tncm91bmQgaW1hZ2Ugb3BhY2l0eSBidXR0b24gYW5kIHNsaWRlciBsaXN0ZW5lcnMuXG4gKiBAcGFyYW0gYmFja2dyb3VuZCAtIFRoZSBiYWNrZ3JvdW5kIGltYWdlIHNlbGVjdG9yLlxuICovXG5mdW5jdGlvbiBzZXRCZ09wYWNpdHlDb250cm9scyAoYmFja2dyb3VuZDogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGJnT3BhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ09wYWNpdHlTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBiZ09wYWNpdHlPdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdPcGFjaXR5T3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG5cbiAgY29uc3QgeyBpbWFnZU9wYWNpdHkgfSA9IGdldFNldHRpbmdzKCk7XG4gIGxhc3RJbWFnZU9wYWNpdHkgPSBpbWFnZU9wYWNpdHk7XG4gIGJnT3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhpbWFnZU9wYWNpdHkpO1xuICBiZ09wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcblxuICBmdW5jdGlvbiBiZ0lucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gYmdPcGFjaXR5U2xpZGVyLnZhbHVlO1xuICAgIGxhc3RJbWFnZU9wYWNpdHkgPSBOdW1iZXIoYmdPcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyKGJhY2tncm91bmQpO1xuICB9XG5cblxuICBjb25zdCB0b2dnbGVCZ09wYWNpdHlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWJnLW9wYWNpdHknKTtcblxuICBpZiAoaW1hZ2VPcGFjaXR5ID09IDEwMCkge1xuICAgIHRvZ2dsZUJnT3BhY2l0eUJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRlLWljb24nKTtcbiAgfVxuXG4gIHRvZ2dsZUJnT3BhY2l0eUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIGxldCBuZXdPcGFjaXR5O1xuXG4gICAgaWYgKHRvZ2dsZUJnT3BhY2l0eUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUtaWNvbicpKSB7XG4gICAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYmFja2dyb3VuZClbMF0gYXMgSFRNTEVsZW1lbnQpXG4gICAgICAuc3R5bGUub3BhY2l0eSA9IG5ld09wYWNpdHkudG9TdHJpbmcoKTtcblxuICAgIGxhc3RJbWFnZU9wYWNpdHkgPSBOdW1iZXIoYmdPcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBiZ09wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3T3BhY2l0eSAqIDEwMCk7XG4gICAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKE1hdGgucm91bmQobmV3T3BhY2l0eSAqIDEwMCkpO1xuXG4gICAgc2V0U2V0dGluZ3MoeyBpbWFnZU9wYWNpdHk6IG5ld09wYWNpdHkgKiAxMDAgfSk7XG4gICAgYmdJbnB1dENoYW5nZUhhbmRsZXIoKTtcbiAgfSk7XG5cbiAgYmdPcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYmdJbnB1dENoYW5nZUhhbmRsZXIpO1xuICBiZ09wYWNpdHlTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgYmdJbnB1dENoYW5nZUhhbmRsZXIpO1xuXG4gIGJnT3BhY2l0eVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyIChiYWNrZ3JvdW5kPzogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGJnT3BhY2l0eU91dHB1dDogSFRNTE91dHB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmdPcGFjaXR5T3V0cHV0Jyk7XG4gIFxuICBzZXRTZXR0aW5ncyh7IGltYWdlT3BhY2l0eTogTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgfSk7XG5cbiAgLy8gZGlzcGF5IGNvcnJlY3Qgc2xpZGVyIHRpZ2dsZSBkaXNwbGF5IGljb25cbiAgY29uc3QgaGlkZUJnSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZ2dsZS1iZy1vcGFjaXR5ID4gaW1nJyk7XG4gIGlmIChOdW1iZXIoYmdPcGFjaXR5T3V0cHV0LnZhbHVlKSA9PT0gMCkge1xuICAgIGhpZGVCZ0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zaG93LWljb24uc3ZnYCk7XG4gICAgaGlkZUJnSW1nLnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICdTaG93IGJhY2tncm91bmQgaW1hZ2UnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBoaWRlQmdJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z2ApO1xuICAgIGhpZGVCZ0ltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnSGlkZSBiYWNrZ3JvdW5kIGltYWdlJyk7XG4gIH1cblxuICBjb25zdCBiZzogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtiYWNrZ3JvdW5kfWApO1xuICBpZiAoYmcpIGJnLnN0eWxlLm9wYWNpdHkgPSBTdHJpbmcoTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDApO1xufVxuXG4vKipcbiAqIFNldCBiYm94IGFkanVzdG1lbnQgY2lyY2xlIHNpemUgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q2lyY2xlU2l6ZUNvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgY2lyY2xlU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpcmNsZVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGNpcmNsZU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXJjbGVPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IGNpcmNsZVNpemUgfSA9IGdldFNldHRpbmdzKCk7XG4gIGxhc3RDaXJjbGVTaXplID0gY2lyY2xlU2l6ZTtcbiAgY2lyY2xlU2xpZGVyLnZhbHVlID0gU3RyaW5nKGNpcmNsZVNpemUpO1xuICBjaXJjbGVPdXRwdXQudmFsdWUgPSBTdHJpbmcoY2lyY2xlU2l6ZSk7XG5cbiAgZnVuY3Rpb24gY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgY2lyY2xlT3V0cHV0LnZhbHVlID0gY2lyY2xlU2xpZGVyLnZhbHVlO1xuICAgIGxhc3RDaXJjbGVTaXplID0gTnVtYmVyKGNpcmNsZVNsaWRlci52YWx1ZSk7XG4gICAgc2V0U2V0dGluZ3MoeyBjaXJjbGVTaXplOiBOdW1iZXIobGFzdENpcmNsZVNpemUpIH0pO1xuICAgIGNvbnN0IHJlc2l6ZVBvaW50cyA9IGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50Jyk7XG4gICAgaWYgKCFyZXNpemVQb2ludHMuZW1wdHkoKSkge1xuICAgICAgcmVzaXplUG9pbnRzLmF0dHIoJ3InLCBsYXN0Q2lyY2xlU2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVzZXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQtY2lyY2xlLXNpemUnKTtcbiAgcmVzZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgZGVmYXVsdFNpemUgPSAyNTsgXG4gICAgLy8gaWYgaGFzIHJlc2l6ZVBvaW50cyBkaXNwbGF5ZWRcbiAgICBjb25zdCByZXNpemVQb2ludHMgPSBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpO1xuICAgIGlmICghcmVzaXplUG9pbnRzLmVtcHR5KCkpIHtcbiAgICAgIHJlc2l6ZVBvaW50cy5hdHRyKCdyJywgZGVmYXVsdFNpemUpO1xuICAgIH1cblxuICAgIGxhc3RDaXJjbGVTaXplID0gTnVtYmVyKGRlZmF1bHRTaXplKTtcbiAgICBjaXJjbGVTbGlkZXIudmFsdWUgPSBTdHJpbmcoZGVmYXVsdFNpemUpO1xuICAgIGNpcmNsZU91dHB1dC52YWx1ZSA9IFN0cmluZyhkZWZhdWx0U2l6ZSk7XG5cbiAgICBzZXRTZXR0aW5ncyh7IGNpcmNsZVNpemU6IE51bWJlcihkZWZhdWx0U2l6ZSkgfSk7XG4gICAgY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlcigpO1xuICB9KTtcblxuICBjaXJjbGVTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBjaXJjbGVTaXplSW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgY2lyY2xlU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGNpcmNsZVNpemVJbnB1dENoYW5nZUhhbmRsZXIpO1xuXG4gIGNpcmNsZVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBoaWdobGlnaHQgZHJvcGRvd24gb3B0aW9uICsgZGlzcGxheVxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZnVuY3Rpb24gdXBkYXRlSGlnaGxpZ2h0T3B0aW9uIChncm91cDogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBoaWdobGlnaHQtJHtncm91cH1gKTtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG4gIGNvbnN0IGhpZ2hsaWdodFR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXR5cGUnKTtcblxuICAvLyBzYXZlIGhpZ2hsaWdodCBvcHRpb24gdG8gbG9jYWxTdG9yYWdlXG4gIHNldFNldHRpbmdzKHsgaGlnaGxpZ2h0TW9kZTogZ3JvdXAgfSk7XG5cbiAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gIH0pO1xuXG4gIGlmIChncm91cCA9PT0gJ25vbmUnKSB7XG4gICAgaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudCA9ICdcXHhBMC0gT2ZmJztcbiAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBvcHRpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG5cbiAgLy8gVGV4dCBjb250ZW50IGlzIHRoZSBncm91cGluZyB0eXBlIGNhcGl0YWxpemVkXG4gIGhpZ2hsaWdodFR5cGUudGV4dENvbnRlbnQgPSBgXFx4QTAtICR7Z3JvdXBbMF0udG9VcHBlckNhc2UoKSArIGdyb3VwLnNsaWNlKDEpfWA7XG4gIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgaGlnaGxpZ2h0IG1vZGUgY2hvc2VuIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGlnaGxpZ2h0VHlwZSAoKTogR3JvdXBpbmdUeXBlIHtcbiAgY29uc3QgaGlnaGxpZ2h0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpO1xuICByZXR1cm4gaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudC5zbGljZSgzKS50b0xvd2VyQ2FzZSgpIGFzIEdyb3VwaW5nVHlwZTtcbn1cblxuLyoqXG4gKiBTZXQgY2xpY2sgbGlzdGVuZXIgZm9yIGVhY2ggaGlnaGxpZ2h0IGRyb3Bkb3duIG9wdGlvblxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodE9wdGlvbiAoZ3JvdXA6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaGlnaGxpZ2h0LSR7Z3JvdXB9YCk7XG4gIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oZ3JvdXApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDbGlja2F3YXkgbGlzdGVuZXIgZm9yIHRoZSBoaWdobGlnaHQgZHJvcGRvd24uXG4gKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodENsaWNrYXdheSAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVyIG9uIHN0YWZmIGhpZ2hsaWdodGluZyBjaGVja2JveC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodENvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZHJvcGRvd24uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgaWYgKGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuXG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ2NvbHVtbicpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdzdGFmZicpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdzeWxsYWJsZScpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCduZXVtZScpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdsYXllckVsZW1lbnQnKTtcbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignbm9uZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlnaGxpZ2h0Q2xpY2thd2F5KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAgKiBTZXQgbGlzdGVuZXIgb24ga2V5IHNob3J0Y3V0cyBmb3Igc3dpdGNoaW5nIGJldHdlZW4gaGlnaGxpZ2h0c1xuICAqIFxuICAqIFRoZSBjdXJyZW50IHBsYW4gaXMgdG8gdXNlIHRoZSBrZXlzIHEsIHcsIGUsIHIsIHQsIGFuZCB5XG4gICovXG5mdW5jdGlvbiBzZXRIaWdobGlnaHRLZXlDb250cm9scyAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICAvLyBQcmV2ZW50IGNtZC9jdHJsK3IgZnJvbSBjaGFuZ2luZyBoaWdobGlnaHQgb3B0aW9uXG4gICAgaWYgKGV2dC5tZXRhS2V5KSByZXR1cm47XG5cbiAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgIGNhc2UgJ3EnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ3N0YWZmJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndyc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc3lsbGFibGUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdlJzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCduZXVtZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3InOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ2xheWVyRWxlbWVudCcpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3QnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ3NlbGVjdGlvbicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3knOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ25vbmUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodFNlbGVjdGlvbkNvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgaGlnaGxpZ2h0U2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKTtcbiAgaGlnaGxpZ2h0U2VsZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgfSk7XG4gICAgaGlnaGxpZ2h0U2VsZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpLnRleHRDb250ZW50ID0gJyAtIFNlbGVjdGlvbic7XG4gICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3NlbGVjdGlvbicpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXNldCB0aGUgaGlnaGxpZ2h0IGZvciBkaWZmZXJlbnQgdHlwZXMgYmFzZWQgb24gdGhlICdoaWdobGlnaHQtc2VsZWN0ZWQnIGNsYXNzIGluIHRoZSBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVIaWdobGlnaHQgKCk6IHZvaWQge1xuICBsZXQgaGlnaGxpZ2h0SWQ6IHN0cmluZztcbiAgdHJ5IHtcbiAgICBoaWdobGlnaHRJZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGhpZ2hsaWdodElkID0gJyc7XG4gIH1cbiAgc3dpdGNoIChoaWdobGlnaHRJZCkge1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1jb2x1bW4nOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ2NvbHVtbicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN0YWZmJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzdGFmZicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN5bGxhYmxlJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzeWxsYWJsZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LW5ldW1lJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCduZXVtZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LWxheWVyRWxlbWVudCc6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnbGF5ZXJFbGVtZW50Jyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc2VsZWN0aW9uJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzZWxlY3Rpb24nKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gYnVyZ2VyIG1lbnUgZm9yIHNtYWxsZXIgc2NyZWVucy5cbiAqL1xuZnVuY3Rpb24gc2V0QnVyZ2VyQ29udHJvbHMgKCk6IHZvaWQge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVyZ2VyTWVudScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXJnZXJNZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdk1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgfSk7XG59XG5cbi8qKiBcbiAqIFNldCBsaXN0ZW5lciBmb3IgXCJEaXNwbGF5IEFsbFwiIGJ1dHRvbiBpbiBEaXNwbGF5IHBhbmVsLlxuKi9cbmZ1bmN0aW9uIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3Qgc2VsZWN0QWxsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc3BsYXktYWxsLWJ0bicpO1xuICBzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gYXQgdGhlIG1vbWVudCwgY2xhc3NuYW1lICdzZWxlY3RlZCcgaXMgb25seSB1c2VkIGZvciB0cmFja2luZyBwdXJwb3Nlc1xuICAgIGlmIChzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyOm5vdChbc3R5bGUqPVwiZGlzcGxheTogbm9uZTtcIl0pID4gLmNoZWNrYm94Jyk7XG5cbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmIChvcHRpb24uY2hlY2tlZCkgb3B0aW9uLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyOm5vdChbc3R5bGUqPVwiZGlzcGxheTogbm9uZTtcIl0pID4gLmNoZWNrYm94Jyk7XG4gICAgICBcbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmICghb3B0aW9uLmNoZWNrZWQpIG9wdGlvbi5jbGljaygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqIFxuICogVXBkYXRlIGBEaXNwbGF5IEFsbGAgYnV0dG9uIHN0YXR1c1xuKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5QWxsQnRuKCk6IHZvaWQge1xuICBjb25zdCBkaXNwbGF5QWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktYWxsLWJ0bicpO1xuICBjb25zdCBkaXNwbGF5SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5SW5mbycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGRpc3BsYXlCQm94ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBkaXNwbGF5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGRpc3BsYXlFcnJMb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1lcnJvcnMnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIC8vIGlmIGFsbCBvcHRpb25zIGFyZSBzZWxlY3RlZCxcbiAgLy8gc2V0IFwiRGlzcGxheS9IaWRlIEFsbFwiIGJ1dHRvbiB0byBcIkhpZGUgQWxsXCIuXG4gIGlmIChkaXNwbGF5SW5mbz8uY2hlY2tlZCAmJiBkaXNwbGF5QkJveGVzPy5jaGVja2VkICYmIFxuICAgIGRpc3BsYXlUZXh0Py5jaGVja2VkICYmIGRpc3BsYXlFcnJMb2c/LmNoZWNrZWQpIHtcbiAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIFwiRGlzcGxheS9IaWRlIEFsbFwiIGJ1dHRvbiBpcyBpbiBcIkhpZGUgQWxsXCIgbW9kZSwgc2V0IGl0IHRvIFwiRGlzcGxheSBBbGxcIiBtb2RlXG4gICAgaWYgKGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTG9hZCBoaWdobGlnaHQgc2V0dGluZ3MgZnJvbSBsb2NhbFN0b3JhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRIaWdobGlnaHRTZXR0aW5ncyAoKTogdm9pZCB7XG4gIGNvbnN0IHsgaGlnaGxpZ2h0TW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKGhpZ2hsaWdodE1vZGUpO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgbGlzdGVuZXJzIGFuZCBjb250cm9scyBmb3IgZGlzcGxheSBwYW5lbC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZWlDbGFzc05hbWUgLSBUaGUgY2xhc3MgdXNlZCB0byBzaWduaWZpeSB0aGUgTUVJIGVsZW1lbnQocykuXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFja2dyb3VuZCAtIFRoZSBjbGFzcyB1c2VkIHRvIHNpZ25pZnkgdGhlIGJhY2tncm91bmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RGlzcGxheUNvbnRyb2xzIChtZWlDbGFzc05hbWU6IHN0cmluZywgYmFja2dyb3VuZDogc3RyaW5nKTogdm9pZCB7XG4gIHNldEdseXBoT3BhY2l0eUNvbnRyb2xzKG1laUNsYXNzTmFtZSk7XG4gIHNldEJnT3BhY2l0eUNvbnRyb2xzKGJhY2tncm91bmQpO1xuICBzZXRIaWdobGlnaHRDb250cm9scygpO1xuICBzZXRCdXJnZXJDb250cm9scygpO1xuICBzZXRIaWdobGlnaHRLZXlDb250cm9scygpO1xuICBzZXREaXNwbGF5QWxsTGlzdGVuZXIoKTtcbiAgbG9hZEhpZ2hsaWdodFNldHRpbmdzKCk7XG5cbiAgY29uc3QgZGlzcGxheUNvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlDb250ZW50cycpO1xuICBjb25zdCB0b2dnbGVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZURpc3BsYXknKTtcbiAgY29uc3QgZGlzcGxheUhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5SGVhZGVyJyk7XG5cbiAgZGlzcGxheUhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBpZiBkaXNwbGF5IHBhbmVsIGlzIGNsb3NlZCwgb3BlbiBpdFxuICAgIGlmIChkaXNwbGF5Q29udGVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZWQnKSkge1xuICAgICAgZGlzcGxheUNvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMC41ZW0gMC43NWVtJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICB9LCAyMDApO1xuICAgICAgdG9nZ2xlRGlzcGxheS5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9IFxuICAgIC8vIGlmIGRpc3BsYXkgcGFuZWwgaXMgb3BlbiwgY2xvc2UgaXRcbiAgICBlbHNlIHtcbiAgICAgIGRpc3BsYXlDb250ZW50cy5jbGFzc0xpc3QuYWRkKCdjbG9zZWQnKTtcbiAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgdG9nZ2xlRGlzcGxheS5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLXNpZGVgKTtcbiAgICB9XG4gIH0pO1xufVxuXG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU2V0VGV4dEFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IE1vZGFsV2luZG93SW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBob3RrZXlzTW9kYWwsIGVkaXRUZXh0TW9kYWwgfSBmcm9tICcuLi9TcXVhcmVFZGl0L0NvbnRlbnRzJztcbmltcG9ydCB7IG5ld0ZvbGRlckhUTUwsIHJlbmFtZUhUTUwsIHVwbG9hZEFyZWFIVE1MIH0gZnJvbSAnLi4vRGFzaGJvYXJkL0Rhc2hib2FyZENvbnRlbnQnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgc2VsZWN0QkJveCwgdW5zZWxlY3QgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuXG4vKipcbiAqIERlZmluZXMgbW9kYWwgdHlwZXMuXG4gKiBUbyBjcmVhdGUgbmV3IG1vZGFsIHdpbmRvdyB0eXBlcywgYWRkIGVudW0gb3B0aW9uIGFuZCBpbXBsZW1lbnQgbG9naWMgaW5zaWRlIE1vZGFsIGNsYXNzLlxuICovXG5leHBvcnQgZW51bSBNb2RhbFdpbmRvd1ZpZXcge1xuICBFRElUX1RFWFQsXG4gIEhPVEtFWVMsXG4gIEVSUk9SX0xPRywgLy8gZm9yIHZhbGlkYXRpb24gZXJyb3JzIGFnYWluc3QgTUVJIHNjaGVtYSBhbmQgaW52YWxpZCBlbGVtZW50IGVycm9yc1xuICBET0NVTUVOVF9VUExPQUQsXG4gIE1PVkVfVE8sXG4gIE5FV19GT0xERVIsXG4gIFJFTkFNRVxufVxuXG5lbnVtIE1vZGFsV2luZG93U3RhdGUge1xuICBPUEVOLFxuICBDTE9TRURcbn1cblxuXG5cbi8qKlxuICogTW9kYWwgY2xhc3MgaXMgdXNlZCB0byBjcmVhdGUgYW5kIGNvbnRyb2wgc3RhdGUvY29udGVudCBcbiAqIG9mIG1vZGFsIHdpbmRvd3MgaW4gTmVvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGFsV2luZG93IGltcGxlbWVudHMgTW9kYWxXaW5kb3dJbnRlcmZhY2Uge1xuICBwcml2YXRlIG1vZGFsV2luZG93VmlldzogTW9kYWxXaW5kb3dWaWV3OyAvLyBjdXJyZW50IG1vZGFsIHR5cGVcbiAgcHJpdmF0ZSBtb2RhbFdpbmRvd1N0YXRlOiBNb2RhbFdpbmRvd1N0YXRlOyAvLyBvcGVuIG9yIGNsb3NlZD9cbiAgcHJpdmF0ZSBuZW9uVmlldzogTmVvblZpZXc7IC8vIG5lb25WaWV3IGluc3RhbmNlIGNvbnRleHRcblxuXG4gIC8qKlxuICAgKiBTZXQgbmVvblZpZXcgaW5zdGFuY2UgY29udGV4dCBmb3IgdGhpcyBtb2RhbCB3aW5kb3cgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSBuZW9uVmlldyBuZW9uVmlldyBjb250ZXh0IGZvciBNb2RhbCBpbnN0YW5jZVxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3PzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5DTE9TRUQ7XG4gICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGV2ZW50IGxpc3RlbmVycyB0aGF0IGFwcGx5IHRvIGFsbCBtb2RhbCB3aW5kb3dzXG4gICAqL1xuICBwcml2YXRlIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWhlYWRlci1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyLmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZm9jdXNNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgcHJpdmF0ZSByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLWNsb3NlJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mb2N1c01vZGFsV2luZG93LmJpbmQodGhpcykpO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0IHRoZSBtb2RhbCB2aWV3IG9mIHRoaXMgTW9kYWwgaW5zdGFuY2UuXG4gICAqIFVwZGF0ZSB0aGUgY29udGVudCBiYXNlZCBvbiBwYXNzZWQgdmlldy5cbiAgICogQHBhcmFtIHZpZXcgVHlwZSBvZiBtb2RhbCB0byBvcGVuIChNb2RhbFZpZXcgZW51bSlcbiAgICovXG4gIHNldE1vZGFsV2luZG93Vmlldyh2aWV3OiBNb2RhbFdpbmRvd1ZpZXcsIGNvbnRlbnQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGFsV2luZG93VmlldyA9IHZpZXc7XG4gICAgdGhpcy5zZXRNb2RhbFdpbmRvd0NvbnRlbnQoY29udGVudCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgbW9kYWwgdmlldyBhcyBhIHN0cmluZ1xuICAgKi9cbiAgZ2V0TW9kYWxXaW5kb3dWaWV3KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubW9kYWxXaW5kb3dWaWV3LnRvU3RyaW5nKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBPcGVuIGEgbW9kZWwgd2luZG93IHdpdGggY29udGVudCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgTW9kYWxWaWV3LlxuICAgKi9cbiAgb3Blbk1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIC8vIG1ha2Ugc3VyZSBubyBvdGhlciBtb2RhbCBjb250ZW50IGlzIGJlaW5nIGRpc3BsYXllZFxuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudCcpKS5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9KTtcbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIFxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICB0aGlzLm9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkhPVEtFWVM6XG4gICAgICAgIC8vIHNldCB1cCBhbmQgZGlwbGF5IGhvdGtleSBtb2RhbCBjb250ZW50XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXMnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgICAgLy8gYWRkIGZ1bmN0aW9uIHRvIHBhaXJpbmcgYnV0dG9uXG4gICAgICAgIC8vIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5NT1ZFX1RPOlxuICAgICAgICBcbiAgICAgICAgLy8gYnJlYWs7XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ORVdfRk9MREVSOlxuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSB1c2VyIGNhbid0IHNjcm9sbCB3aGVuIG1vZGFsIGlzIG9wZW5cbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5PUEVOO1xuICB9XG5cblxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBOZW9uIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgaGlkZU1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBjb25zdCBzcGFuID0gKDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdKTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZC10by1lZGl0Jyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk1PVkVfVE86XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ORVdfRk9MREVSOlxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuUkVOQU1FOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH0gXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgLy8gcmVzZXQgc2Nyb2xsIGJlaGF2aW9yIG9mIGJvZHlcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5DTE9TRUQ7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0IGNvbnRlbnQgb2YgbW9kYWwgd2luZG93XG4gICAqL1xuICBwcml2YXRlIHNldE1vZGFsV2luZG93Q29udGVudChjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJyk7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLXRpdGxlJyk7XG5cbiAgICBzd2l0Y2ggKHRoaXMubW9kYWxXaW5kb3dWaWV3KSB7XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5FRElUX1RFWFQ6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBlZGl0VGV4dE1vZGFsO1xuICAgICAgICAvLyBzZXQgbW9kYWwgd2luZG93IHRpdGxlXG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdFRElUIFNZTExBQkxFIFRFWFQnO1xuXG4gICAgICAgIC8vIHNwYW4gYW5kIGN1cnJlbnQgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlIGFuZCBmaWx0ZXIgb3V0IHVud2FudGVkIGNoYXJzXG4gICAgICAgIGNvbnN0IHNwYW4gPSA8SFRNTFNwYW5FbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnNlbGVjdGVkLXRvLWVkaXQnKVswXTtcbiAgICAgICAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICAgICAgICBjb25zdCBvcmlnID0gc3Bhbi50ZXh0Q29udGVudC5yZXBsYWNlKHJlbW92ZVN5bWJvbCwgJycpLnRyaW0oKTtcblxuICAgICAgICAvLyBzZXQgdmFsdWUgb2YgaW5wdXQgZmllbGQgdG8gY3VycmVudCBzeWxsYWJsZSB0ZXh0XG4gICAgICAgICg8SFRNTElucHV0RWxlbWVudD4gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkpLnZhbHVlID0gb3JpZztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkhPVEtFWVM6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBob3RrZXlzTW9kYWw7XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdIT1RLRVlTJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVSUk9SX0xPRzpcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IFxuICAgICAgICAgIGA8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMzBweDt3aGl0ZS1zcGFjZTogcHJlLWxpbmU7XCI+JHtjb250ZW50fTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIj5cbiAgICAgICAgICAgIDxhIGhyZWY9XCJkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSShjb250ZW50KX1cIiBkb3dubG9hZD1cImVycm9yLmxvZ1wiPlxuICAgICAgICAgICAgICBFeHBvcnRcbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdFUlJPUiBMT0cnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEOlxuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnRE9DVU1FTlQgVVBMT0FEJztcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IHVwbG9hZEFyZWFIVE1MO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTU9WRV9UTzpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ01PVkUgVE8nO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTkVXX0ZPTERFUjpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ05FVyBGT0xERVInO1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gbmV3Rm9sZGVySFRNTDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlJFTkFNRTpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ1JFTkFNRSc7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSByZW5hbWVIVE1MO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZS4gVGhpcyBzaG91bGQgbm90IGhhdmUgb2NjdXJyZWQuJyk7XG4gICAgfSBcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEZpbGwgbW9kYWwgd2luZG93IHdpdGggY29udGVudCBmb3IgdXBkYXRpbmcgc3lsbGFibGUgdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSBvcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgIC8vIG1ha2Ugc3VyZSBubyBvdGhlciBtb2RhbCBjb250ZW50IGlzIGJlaW5nIGRpc3BsYXllZFxuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudCcpKS5mb3JFYWNoKCAoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdXAgRWRpdCBTeWxsYWJsZSBUZXh0IG1vZGFsIHdpbmRvd1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dCcpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICBcbiAgICAvLyBSZXNldCBcIkNhbmNlbFwiIGJ1dHRvbiBldmVudCBsaXN0ZW5lclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93LmJpbmQodGhpcykpO1xuXG4gICAgLy8gUmVzZXQgXCJTYXZlXCIgYnV0dG9uIGV2ZW50IGxpc3RlbmVyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnVwZGF0ZVN5bFRleHQuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnVwZGF0ZVN5bFRleHQuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBkaXNwbGF5IG1vZGFsIHdpbmRvd1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuZm9jdXNNb2RhbFdpbmRvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlcyB3aXRoIHVzZXItcHJvdmlkZWQgdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVTeWxUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHNwYW4gYW5kIGN1cnJlbnQgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlIGFuZCBmaWx0ZXIgb3V0IHVud2FudGVkIGNoYXJzXG4gICAgY29uc3Qgc3BhbiA9IDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdO1xuICAgIGNvbnN0IHJlbW92ZVN5bWJvbCA9IC9cXHV7MjVDQX0vdTtcbiAgICBjb25zdCBvcmlnID0gc3Bhbi50ZXh0Q29udGVudC5yZXBsYWNlKHJlbW92ZVN5bWJvbCwgJycpLnRyaW0oKTtcbiAgICBjb25zdCB1cGRhdGVkU3lsVGV4dCA9ICg8SFRNTElucHV0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dCcpKS52YWx1ZTtcblxuICAgIGlmICh1cGRhdGVkU3lsVGV4dCAhPT0gbnVsbCAmJiB1cGRhdGVkU3lsVGV4dCAhPT0gb3JpZykge1xuICAgICAgLy8gY3JlYXRlIFwic2V0IHRleHRcIiBhY3Rpb25cbiAgICAgIGNvbnN0IGVsZW1lbnRJZCA9IFsuLi5zcGFuLmNsYXNzTGlzdC5lbnRyaWVzKCldLmZpbHRlcigoY2xhc3NOYW1lKSA9PiBjbGFzc05hbWVbMV0gIT09ICd0ZXh0LXNlbGVjdCcgJiYgY2xhc3NOYW1lWzFdICE9PSAnc2VsZWN0ZWQtdG8tZWRpdCcpWzBdWzFdO1xuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTZXRUZXh0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZCxcbiAgICAgICAgICB0ZXh0OiB1cGRhdGVkU3lsVGV4dCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICAvLyBzZW5kIGFjdGlvbiB0byB2ZXJvdmlvIGZvciBwcm9jZXNzaW5nXG4gICAgICB0aGlzLm5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzcG9uc2U6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgLy8gdXBkYXRlIHRoZSBTVkdcbiAgICAgICAgICB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBBbiB1cGRhdGUgdG8gdGhlIHBhZ2Ugd2lsbCByZWxvYWQgdGhlIGVudGlyZSBzdmc7XG4gICAgICAgICAgICAvLyBXZSB3b3VsZCBsaWtlIHRvIHRoZW4gcmVzZWxlY3QgdGhlIHNhbWUgc2VsZWN0ZWQgc3lsbGFibGVcbiAgICAgICAgICAgIC8vIGlmIGJib3hlcyBhcmUgZW5hYmxlZFxuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEJCb3goc3BhbiwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZXNlbGVjdCBpZiBubyBjaGFuZ2UgaXMgbWFkZVxuICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEJCb3goc3BhbiwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgfVxuICAgIC8vIGNsb3NlIG1vZGFsIHdpbmRvd1xuICAgIHRoaXMuaGlkZU1vZGFsV2luZG93KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgYm91bmRpbmcgYm94IHNlbGVjdGVkIHdoZW4gdGhlIGVkaXQgdGV4dCBtb2RhbCBoYXMgYmVlbiBjbGlja2VkIFxuICAqL1xuICB1cGRhdGVTZWxlY3RlZEJCb3ggKHNwYW46IEhUTUxTcGFuRWxlbWVudCwgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLCBuZW9uVmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgICB1bnNlbGVjdCgpO1xuXG4gICAgY29uc3QgYmJveElkID0gQXJyYXkuZnJvbShzcGFuLmNsYXNzTGlzdCkuZmluZChlID0+IGUgIT09ICd0ZXh0LXNlbGVjdCcgJiYgZSAhPT0gJ3NlbGVjdGVkLXRvLWVkaXQnKTtcblxuICAgIGlmICgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJib3hJZCkpIHtcbiAgICAgICAgY29uc3QgZGlzcGxheVJlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYm94SWQpLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykgYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBzZWxlY3RCQm94KGRpc3BsYXlSZWN0LCBkcmFnSGFuZGxlciwgbmVvblZpZXcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEZpbGwgbW9kYWwgd2luZG93IHdpdGggaG90a2V5IGluZm8gY29udGVudFxuICAgKi9cbiAgLypcbiAgcHJpdmF0ZSBvcGVuSG90a2V5TW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpIHsgICBcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdXAgYW5kIGRpcGxheSBob3RrZXkgbW9kYWwgY29udGVudFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXMnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgfTtcbiAgKi9cblxuXG4gIC8qKlxuICAgKiBEZWZpbmUgZXZlbnQgbGlzdGVuZXJzIGZvciBtb2RhbCB3aW5kb3cgYmFzZWQgb24gbW9kYWxWaWV3IHR5cGVcbiAgICovXG4gIHByaXZhdGUga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7IC8vIHByZXZlbnQgTmVvbiBob3RrZXkgZXZlbnRzIGZyb20gZmlyaW5nIHdoZW4gdXNlciBpcyB0eXBpbmdcblxuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHRoaXMudXBkYXRlU3lsVGV4dCgpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICAgIH0gIFxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEV2ZW50IGxpc3RlbmVyIHRoYXQgZm9jdXNlcyB0aGUgbW9kYWwgd2luZG93IGlmIHVzZXIgY2xpY2tzIGFueXdoZXJlIG91dHNpZGUgb2YgaXRcbiAgICovXG4gIHByaXZhdGUgZm9jdXNNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkuc2VsZWN0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEOlxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTkVXX0ZPTERFUjpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlJFTkFNRTpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxufVxuIiwiaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgKiBhcyBHcm91cGluZyBmcm9tICcuL0dyb3VwaW5nJztcbmltcG9ydCBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTcGxpdFN0YWZmSGFuZGxlciB9IGZyb20gJy4vU3RhZmZUb29scyc7XG5pbXBvcnQgeyBTcGxpdE5ldW1lSGFuZGxlciB9IGZyb20gJy4vTmV1bWVUb29scyc7XG5pbXBvcnQge1xuICBDaGFpbkFjdGlvbixcbiAgQ2hhbmdlU3RhZmZBY3Rpb24sXG4gIERpc3BsYWNlQ2xlZk9jdGF2ZUFjdGlvbixcbiAgRWRpdG9yQWN0aW9uLFxuICBNYXRjaEhlaWdodEFjdGlvbixcbiAgUmVtb3ZlQWN0aW9uLFxuICBTZXRBY3Rpb24sXG4gIFNldENsZWZBY3Rpb24sXG4gIFNldExpcXVlc2NlbnRBY3Rpb25cbn0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgZ2V0U3RhZmZCQm94IH0gZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuXG4vKipcbiAqIFRoZSBOZW9uVmlldyBwYXJlbnQgdG8gY2FsbCBlZGl0b3IgYWN0aW9ucy5cbiAqL1xubGV0IG5lb25WaWV3OiBOZW9uVmlldztcblxuLyoqXG4gKiBJbml0aWFsaXplIE5lb25WaWV3LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdE5lb25WaWV3ICh2aWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICBuZW9uVmlldyA9IHZpZXc7XG4gIEdyb3VwaW5nLmluaXROZW9uVmlldyh2aWV3KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgaW5jbGluYXR1bSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldEluY2xpbmF0dW1BY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgdmlyZ2EgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRWaXJnYUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSByZXZlcnNlZCB2aXJnYSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgbGlxdWVzY2VudF9jbG9ja3dpc2UgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICdjdXJ2ZScsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSBsaXF1ZXNjZW50X2FudGljbG9ja3dpc2UgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldExpcXVlc2NlbnRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldExpcXVlc2NlbnQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgY3VydmU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKiogRXZlbnQgaGFuZGxlciBmb3IgZGVsZXRlIGJ1dHRvbiBwcmVzcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVCdXR0b25IYW5kbGVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgaWYgKGV2dC5rZXkgPT09ICdkJyB8fCBldnQua2V5ID09PSAnQmFja3NwYWNlJykgeyByZW1vdmVIYW5kbGVyKCk7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyB9XG59XG5cbi8qKlxuICogRW5kIHRoZSBleHRyYSBvcHRpb25zIG1lbnUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRPcHRpb25zU2VsZWN0aW9uICgpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgY29uc3QgZXh0cmFFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpO1xuICBpZiAobW9yZUVkaXQpIHtcbiAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9XG4gIGlmIChleHRyYUVkaXQpIHtcbiAgICBleHRyYUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgZXh0cmFFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIH1cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG59XG5cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgcmVtb3ZpbmcgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUhhbmRsZXIgKCk6IHZvaWQge1xuICBjb25zdCB0b1JlbW92ZTogUmVtb3ZlQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5hY2NpZCcpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgICAgZWxlbSA9IGVsZW0uY2xvc2VzdCgnLmRpdkxpbmUnKTtcbiAgICB9XG4gICAgdG9SZW1vdmUucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b1JlbW92ZVxuICB9O1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigoKSA9PiB7IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSByZS1hc3NvY2lhdGluZyBlbGVtZW50cyB0byB0aGUgbmVhcmVzdCBzdGFmZlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlU3RhZmZIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b0NoYW5nZTogQ2hhbmdlU3RhZmZBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9DaGFuZ2UucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnY2hhbmdlU3RhZmYnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b0NoYW5nZVxuICB9O1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigoKSA9PiB7IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSBpbnNlcnRpbmcgZGl2aXNpbyBvciBhY2NpZGVudGFsIGludG8gbmVhcmVzdCBzeWxsYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHRvSW5zZXJ0OiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9JbnNlcnQucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnaW5zZXJ0VG9TeWxsYWJsZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9JbnNlcnRcbiAgfTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHsgXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdJbnNlcnQgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSW5zZXJ0IEZhaWxlZCBYb1gnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IFxuICB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgbW92aW5nIGRpdmlzaW8gb3IgYWNjaWRlbnRhbCBvdXQgb2Ygc3lsbGFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b01vdmU6IEVkaXRvckFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICB0b01vdmUucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnbW92ZU91dHNpZGVTeWxsYWJsZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9Nb3ZlXG4gIH07XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTW92ZSBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNb3ZlIEZhaWxlZCBYb1gnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IFxuICB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBtYXRjaCBiYm94IGhlaWdodCB0byB0aGUgc2VsZWN0ZWQgYmJveFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hIZWlnaHRIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGlmIChzZWxlY3RlZC5sZW5ndGggPiAxKSB7XG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDYW5ub3QgbWF0Y2ggaGVpZ2h0IHRvIG11bHRpcGxlIGJib3gnLCAnZXJyb3InKTtcbiAgfVxuICBjb25zdCB0b0NoYW5nZTogTWF0Y2hIZWlnaHRBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnbWF0Y2hIZWlnaHQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IHNlbGVjdGVkWzBdLmlkXG4gICAgfVxuICB9O1xuXG4gIG5lb25WaWV3LmVkaXQodG9DaGFuZ2UsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSGVpZ2h0IE1hdGNoIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0hlaWdodCBNYXRjaCBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZERlbGV0ZUxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG5cbiAgaWYgKGRlbCkge1xuICAgIGRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICAgIGRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuXG4gICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgb3V0c2lkZSB0aGUgaWYgY29uZGl0aW9uP1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBjaGFuZ2VTdGFmZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VTdGFmZicpO1xuICBjaGFuZ2VTdGFmZj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VTdGFmZkhhbmRsZXIpO1xuICBjaGFuZ2VTdGFmZj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VTdGFmZkhhbmRsZXIpO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgY29sdW1uIG51bWJlciBpbiB0aGUgaW5wdXRcbiAqL1xuZnVuY3Rpb24gdXBkYXRlQ29sdW1uSW5mbygpOiB2b2lkIHtcbiAgY29uc3QgY29sSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLWlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3Qgc3RhdmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmLnNlbGVjdGVkJyk7XG4gIGxldCBjb2xJbmZvOiBudW1iZXI7XG4gIGZvciAoY29uc3Qgc3RhZmYgb2Ygc3RhdmVzKSB7XG4gICAgY29uc3QgaGFzQ29sdW1uID0gQXJyYXkuZnJvbShzdGFmZi5jbGFzc0xpc3QpLmpvaW4oJyAnKS5tYXRjaCgvXFxiY29sdW1uKFxcZCspXFxiLyk7XG4gICAgaWYgKGhhc0NvbHVtbikge1xuICAgICAgY29uc3Qgc3RhZmZDb2wgPSBwYXJzZUludChoYXNDb2x1bW5bMV0sIDEwKTtcbiAgICAgIGlmIChjb2xJbmZvICYmIGNvbEluZm8gIT0gc3RhZmZDb2wpIHtcbiAgICAgICAgY29uc3Qgd2FybmluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2wtd2FybmluZycpO1xuICAgICAgICB3YXJuaW5nLmlubmVyVGV4dCA9ICdUaGUgc2VsZWN0ZWQgc3RhdmVzIGFyZSBub3Qgb2YgdGhlIHNhbWUgY29sdW1uISc7XG4gICAgICAgIGNvbEluZm8gPSAwO1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbEluZm8gPSBzdGFmZkNvbDtcbiAgICAgIH1cbiAgICB9XG4gIH0gXG4gIGlmIChjb2xJbmZvKSBjb2xJbnB1dC52YWx1ZSA9IGNvbEluZm8udG9TdHJpbmcoKTtcbn1cblxuLyoqXG4gKiBBZGQgY29sdW1uIGluZm8gZWRpdCBoYW5kbGVyIGZvciBjb2x1bW4gaW5mbyBlZGl0b3JcbiAqL1xuZnVuY3Rpb24gYWRkQ29sdW1uSW5mb1N0ZXBIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCBkZWNyZW1lbnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLWRlY3JlbWVudCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBjb25zdCBpbmNyZW1lbnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLWluY3JlbWVudCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBjb25zdCBjb25maXJtQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1jb25maXJtJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGNvbnN0IGNvbElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgZGVjcmVtZW50QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHVwZGF0ZU51bWJlcigtMSk7XG4gIH0pO1xuXG4gIGluY3JlbWVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB1cGRhdGVOdW1iZXIoMSk7XG4gIH0pO1xuXG4gIC8vIEFkZCBjb2x1bW4gaW5mbyBlZGl0IGhhbmRsZXJcbiAgY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB0b1NldENvbHVtbjogRWRpdG9yQWN0aW9uW10gPSBbXTtcbiAgICBjb25zdCBzdGF2ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYuc2VsZWN0ZWQnKTtcbiAgICBzdGF2ZXMuZm9yRWFjaChzdGFmZiA9PiB7XG4gICAgICB0b1NldENvbHVtbi5wdXNoKFxuICAgICAgICB7XG4gICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgZWxlbWVudElkOiBzdGFmZi5pZCxcbiAgICAgICAgICAgIGF0dHJUeXBlOiAndHlwZScsXG4gICAgICAgICAgICBhdHRyVmFsdWU6ICdjb2x1bW4nICsgY29sSW5wdXQudmFsdWUsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xuICAgIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgIHBhcmFtOiB0b1NldENvbHVtblxuICAgIH07XG4gICAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHsgXG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ29sdW1uIFZhbHVlIFVwZGF0ZSBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ29sdW1uIFZhbHVlIFVwZGF0ZSBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBmdW5jdGlvbiB1cGRhdGVOdW1iZXIoY2hhbmdlOiBudW1iZXIpIHtcbiAgICBjb25zdCBtaW5OdW0gPSAxO1xuICAgIGNvbnN0IG1heE51bSA9IDU7XG4gICAgbGV0IGN1cnJlbnRWYWx1ZSA9IHBhcnNlSW50KGNvbElucHV0LnZhbHVlLCAxMCkgfHwgMDtcbiAgICBjdXJyZW50VmFsdWUgKz0gY2hhbmdlO1xuXG4gICAgY3VycmVudFZhbHVlID0gTWF0aC5taW4oTWF0aC5tYXgoY3VycmVudFZhbHVlLCBtaW5OdW0pLCBtYXhOdW0pO1xuICAgIGlmIChjdXJyZW50VmFsdWUudG9TdHJpbmcoKSAhPSBjb2xJbnB1dC52YWx1ZSkgY29uZmlybUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgY29sSW5wdXQudmFsdWUgPSBjdXJyZW50VmFsdWUudG9TdHJpbmcoKTtcbiAgfVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIHNldCB0aGUgSFRNTCBjb250ZW50IG9mIGVkaXQgY29udHJvbHM6IGVpdGhlciAjbW9yZUVkaXQgb3IgI2V4dHJhRWRpdFxuICpcbiAqIEBwYXJhbSB7J21vcmVFZGl0JyB8ICdleHRyYUVkaXQnfSBlZGl0VHlwZSAtIFRoZSB0eXBlIG9mIGVkaXQgY29udHJvbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50cyAtIFRoZSBpbm5lckhUTUwgY29udGVudHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSAtIElzIHRoZSBpbm5lckhUTUwgYmVpbmcgcmVwbGFjZWQsIG9yIGJlaW5nIGFkZGVkIHRvP1xuICovXG5mdW5jdGlvbiBzZXRFZGl0Q29udHJvbHMoZWRpdFR5cGU6ICdtb3JlRWRpdCcgfCAnZXh0cmFFZGl0JywgY29udGVudHM6IHN0cmluZywgcmVwbGFjZSA9IHRydWUpOiB2b2lkIHtcbiAgY29uc3QgZWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVkaXRUeXBlKTtcbiAgXG4gIGlmIChlZGl0KSB7XG4gICAgZWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmIChyZXBsYWNlKSBlZGl0LmlubmVySFRNTCA9IGNvbnRlbnRzO1xuICAgIGVsc2UgZWRpdC5pbm5lckhUTUwgKz0gY29udGVudHM7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmlnZ2VyIHRoZSBleHRyYSBuYyBhY3Rpb24gbWVudSBmb3IgYSBzZWxlY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTmNBY3Rpb25zIChuYzogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdEFjdGlvbkNvbnRlbnRzKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5uY0FjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUHVuY3R1bS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldEluY2xpbmF0dW0sIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0luY2xpbmF0dW0uZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRJbmNsaW5hdHVtOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ3NlJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldEluY2xpbmF0dW0gXSB9ICwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1ZpcmdhLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldFZpcmdhOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ3MnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRWaXJnYSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNWaXJnYVJldmVyc2VkLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0SW5jbGluYXR1bSA9IHVuc2V0SW5jbGluYXR1bUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhID0gdW5zZXRWaXJnYUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0VmlyZ2FSZXZlcnNlZDogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICduJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldFZpcmdhUmV2ZXJzZWQgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjTGlxdWVzY2VudENsb2Nrd2lzZS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldExpcXVlc2NlbnRDbG9ja3dpc2U6IFNldExpcXVlc2NlbnRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldExpcXVlc2NlbnQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgY3VydmU6ICdjJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldExpcXVlc2NlbnRDbG9ja3dpc2UgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTsgIFxuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZTogU2V0TGlxdWVzY2VudEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0TGlxdWVzY2VudCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBjdXJ2ZTogJ2EnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldEluY2xpbmF0dW0sIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCBzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pOyAgXG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIG5ldW1lIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTmV1bWVBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5kZWZhdWx0TmV1bWVBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMubmV1bWVBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgY29uc3QgbmV1bWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKTtcbiAgaWYgKG5ldW1lLmxlbmd0aCAhPT0gMSkge1xuICAgIGNvbnNvbGUud2FybignTW9yZSB0aGFuIG9uZSBuZXVtZSBzZWxlY3RlZCEgQ2Fubm90IHRyaWdnZXIgTmV1bWUgQ2xpY2tTZWxlY3QgYWN0aW9ucy4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUT0RPIGFkZCB0cmlnZ2VyIGZvciBzcGxpdCBhY3Rpb25cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0LW5ldW1lJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXVtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXVtZS5zZWxlY3RlZCcpIGFzIFNWR0dFbGVtZW50O1xuICAgICAgaWYgKG5ldW1lICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gbmV3IFNwbGl0TmV1bWVIYW5kbGVyKG5lb25WaWV3LCBuZXVtZSk7XG4gICAgICAgIHNwbGl0LnN0YXJ0U3BsaXQoKTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gc3RhZmYgd2FzIHNlbGVjdGVkIScpO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1Blcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1Blc1N1YnB1bmN0aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDbGl2aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXNGbGV4dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpbWFjdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDbGltYWN1c1Jlc3VwaW51cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1RvcmN1bHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVG9yY3VsdXNSZXN1cGludXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXNGbGV4dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUHJlc3N1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcblxuICBmdW5jdGlvbiB0cmlnZ2VyQ2hhbmdlR3JvdXAgKGNvbnRvdXI6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGNoYW5nZUdyb3VwaW5nQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFuZ2VHcm91cCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IG5ldW1lWzBdLmlkLFxuICAgICAgICBjb250b3VyOiBjb250b3VyXG4gICAgICB9XG4gICAgfTtcbiAgICBuZW9uVmlldy5lZGl0KGNoYW5nZUdyb3VwaW5nQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSk7XG4gIH1cblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgc3lsbGFibGUgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTeWxsYWJsZUFjdGlvbnMgKHNlbGVjdGlvblR5cGU6IHN0cmluZyk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnN5bGxhYmxlQWN0aW9uc0NvbnRlbnQpO1xuICAvLyBpbml0aWFsaXplIHZhcmlhYmxlIHRoYXQgd2lsbCBob2xkIGh0bWwgdG8gYmUgYWRkZWQgdG8gRGlzcGxheSBwYW5lbFxuICBsZXQgZXh0cmFBY3Rpb25zSFRNTCA9ICcnO1xuXG4gIC8vIGRldGVybWluZSB0aGUgdHlwZSBvZiBzZWxlY3Rpb24gdGhhdCB3YXMgbWFkZSBieSB0aGUgdXNlclxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIC8vIG9ubHkgb25lIHN5bGxhYmxlXG4gICAgY2FzZSAnc2luZ2xlU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5ldW1lc1wiPlVuZ3JvdXA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyB0d28gc3lsbGFibGVzIG9uIHNlcGFyYXRlIHN0YXZlc1xuICAgIGNhc2UgJ2xpbmthYmxlU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpbmtcIj5Ub2dnbGUgTGlua2VkIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICAgIC8vIHRvdyBvciBtb3JlIHN5bGxhYmxlcyBvbiBvbmUgc3RhZmZcbiAgICBjYXNlICdtdWx0aVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICAgIC8vZGVmYXVsdCBvcHRpb25zXG4gICAgY2FzZSAnZGVmYXVsdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgfVxuXG4gIC8vIHNldCBjb250ZW50IG9mIGFkZGl0aW9uYWwgYWN0aW9ucyBpbiBEaXNwbGF5IHBhbmVsIFxuICAvLyBhbmQgaW5pdGlhbGl6ZSBuZWNlc3NhcnkgbGlzdGVuZXJzXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBleHRyYUFjdGlvbnNIVE1MLCB0cnVlKTtcbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbn1cblxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgbGF5ZXIgZWxlbWVudCAoYWNjaWQsIGRpdkxpbmUsIGN1c3RvcywgY2xlZikgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zIChlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnY3VzdG9zJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuY3VzdG9zQWN0aW9uQ29udGVudHMpO1xuICAgIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBjb25zdCBwYXJlbnRJc1N5bGxhYmxlID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKTtcbiAgY29uc3QgbGF5ZXJFbGVtZW50QWN0aW9ucyA9IHBhcmVudElzU3lsbGFibGVcbiAgICA/IENvbnRlbnRzLmxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHNcbiAgICA6IENvbnRlbnRzLmxheWVyRWxlbWVudE91dEFjdGlvbkNvbnRlbnRzO1xuICBcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIGxheWVyRWxlbWVudEFjdGlvbnMsIGZhbHNlKTtcbiAgXG4gIC8vIGV4dHJhIGFjdGlvbnMgZm9yIGFjY2lkIGFuZCBkaXZMaW5lXG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSkge1xuICAgIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuYWNjaWRBY3Rpb25Db250ZW50cyk7XG4gICAgYWNjaWRPcHRpb25zTGlzdGVuZXIoZWxlbWVudCk7XG4gIH1cbiAgZWxzZSBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2NsZWYnKSkge1xuICAgIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuY2xlZkFjdGlvbkNvbnRlbnRzKTtcbiAgICBjbGVmT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQpO1xuICB9XG4gIGVsc2UgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmRpdkxpbmVBY3Rpb25Db250ZW50cyk7XG4gICAgZGl2TGluZU9wdGlvbnNMaXN0ZW5lcihlbGVtZW50KTtcbiAgfVxuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRUb1N5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92ZU91dHNpZGVTeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKTtcblxuIFxuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydFRvU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbnNlcnRUb1N5bGxhYmxlSGFuZGxlcik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZlT3V0c2lkZVN5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBhY2NpZE9wdGlvbnNMaXN0ZW5lcihlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvRmxhdC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjaGFuZ2VUb0ZsYXQ6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdhY2NpZCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnZidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oY2hhbmdlVG9GbGF0KTtcbiAgICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvTmF0dXJhbC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjaGFuZ2VUb05hdHVyYWw6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdhY2NpZCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oY2hhbmdlVG9OYXR1cmFsKTtcbiAgICB9KTtcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xuXG59XG5cbmZ1bmN0aW9uIGNsZWZPcHRpb25zTGlzdGVuZXIoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbmNyZW1lbnQtb2N0YXZlJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRPY3RhdmU6IERpc3BsYWNlQ2xlZk9jdGF2ZUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZGlzcGxhY2VDbGVmT2N0YXZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYWJvdmUnXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG5lb25WaWV3LmVkaXQoaW5jcmVtZW50T2N0YXZlLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGVmIG9jdGF2ZSBpbmNyZW1lbnRlZC4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTWF4aW11bSBvY3RhdmUgZGlzcGxhY2VtZW50IHJlYWNoZWQuIENsZWYgY2FuIG9ubHkgYmUgZGlzcGxhY2VkIHVwIHRvIDMgb2N0YXZlcy4nLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVjcmVtZW50LW9jdGF2ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5jcmVtZW50T2N0YXZlOiBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ2Rpc3BsYWNlQ2xlZk9jdGF2ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2JlbG93J1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBuZW9uVmlldy5lZGl0KGluY3JlbWVudE9jdGF2ZSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xlZiBvY3RhdmUgZGVjcmVtZW50ZWQuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01heGltdW0gb2N0YXZlIGRpc3BsYWNlbWVudCByZWFjaGVkLiBDbGVmIGNhbiBvbmx5IGJlIGRpc3BsYWNlZCB1cCB0byAzIG9jdGF2ZXMuJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NDbGVmLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNldENDbGVmOiBTZXRDbGVmQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRDbGVmJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgc2hhcGU6ICdDJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihzZXRDQ2xlZik7XG4gICAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNGQ2xlZi5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXRGQ2xlZjogU2V0Q2xlZkFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0Q2xlZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHNoYXBlOiAnRidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oc2V0RkNsZWYpO1xuICAgIH0pO1xuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbmZ1bmN0aW9uIGRpdkxpbmVPcHRpb25zTGlzdGVuZXIoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb01pbmltYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb01pbmltYTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ21pbmltYSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9NaW5pbWEpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb01haW9yLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvTWFpb3I6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdtYWlvcidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9NYWlvcik7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvTWF4aW1hLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvTWF4aW1hOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbWF4aW1hJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihDaGFuZ2VUb01heGltYSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvRmluYWxpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb0ZpbmFsaXM6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdmaW5hbGlzJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihDaGFuZ2VUb0ZpbmFsaXMpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb0NhZXN1cmEuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgQ2hhbmdlVG9DYWVzdXJhOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnY2Flc3VyYSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9DYWVzdXJhKTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9WaXJndWxhLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvVmlyZ3VsYTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ3Zpcmd1bGEnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvVmlyZ3VsYSk7XG4gICAgfSk7XG4gICAgXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogUGFyc2UgYWN0aW9ucyByZWdhcmRpbmcgc2hhcGUgY2hhbmdlcyB0byBlZGl0b3IgYWN0aW9uXG4gKi9cbmZ1bmN0aW9uIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oYWN0aW9uOiBTZXRBY3Rpb24gfCBTZXRDbGVmQWN0aW9uKSB7XG4gIG5lb25WaWV3LmVkaXQoYWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgIH1cbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBzdGFmZiBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck11bHRpU3RhZmZBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuc3RhZmZNZXJnZUFjdGlvbkNvbnRlbnRzKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5jb2x1bW5BY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgLy8gQ29sdW1uIGluZm8gZWRpdG9yXG4gIHVwZGF0ZUNvbHVtbkluZm8oKTtcbiAgYWRkQ29sdW1uSW5mb1N0ZXBIYW5kbGVyKCk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lcmdlLXN5c3RlbXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBHcm91cGluZy5tZXJnZVN0YXZlcygpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFbnRlciBzdGFmZiBzcGxpdHRpbmcgbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclN0YWZmU3BsaXRNb2RlICgpOiB2b2lkIHtcbiAgY29uc3Qgc3RhZmYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhZmYuc2VsZWN0ZWQnKSBhcyBTVkdHRWxlbWVudDtcbiAgaWYgKHN0YWZmICE9PSBudWxsKSB7XG4gICAgY29uc3Qgc3BsaXQgPSBuZXcgU3BsaXRTdGFmZkhhbmRsZXIobmVvblZpZXcsIHN0YWZmKTtcbiAgICBzcGxpdC5zdGFydFNwbGl0KCk7XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCEnKTtcbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmlnZ2VyIHNwbGl0IHN0YWZmIG9wdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclNpbmdsZVN0YWZmQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuY29sdW1uQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIC8vIENvbHVtbiBpbmZvIGVkaXRvclxuICB1cGRhdGVDb2x1bW5JbmZvKCk7XG4gIGFkZENvbHVtbkluZm9TdGVwSGFuZGxlcigpO1xuXG4gIC8vIEFkZCB0cmlnZ2VyIGZvciBzcGxpdCBhY3Rpb25cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0LXN5c3RlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdHJpZ2dlclN0YWZmU3BsaXRNb2RlKCk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXJvdGF0ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhZmYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhZmYuc2VsZWN0ZWQnKSBhcyBTVkdFbGVtZW50O1xuICAgICAgLy8gVW51c2VkIHZhcmlhYmxlczpcbiAgICAgIC8vIGNvbnN0IHJlY3QgPSBzdGFmZi5xdWVyeVNlbGVjdG9yKCcjcmVzaXplUmVjdCcpO1xuICAgICAgLy8gY29uc3QgY28gPSByZWN0LmdldEF0dHJpYnV0ZSgncG9pbnRzJykuc3BsaXQoJyAnKTtcbiAgICAgIC8vIGNvbnN0IGR5ID0gcGFyc2VJbnQoY29bMF0uc3BsaXQoJywnKVsxXSkgLSBwYXJzZUludChjb1sxXS5zcGxpdCgnLCcpWzFdKTtcbiAgICAgIGNvbnN0IHBvaW50cyA9IGdldFN0YWZmQkJveChzdGFmZiBhcyBTVkdHRWxlbWVudCk7XG4gICAgICBjb25zdCB5X2NoYW5nZSA9IE1hdGgudGFuKHBvaW50cy5yb3RhdGUpKihwb2ludHMubHJ4IC0gcG9pbnRzLnVseCk7XG4gICAgICBpZiAoc3RhZmYgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAncmVzaXplUm90YXRlJyxcbiAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgZWxlbWVudElkOiBzdGFmZi5pZCxcbiAgICAgICAgICAgIHVseDogcG9pbnRzLnVseCxcbiAgICAgICAgICAgIHVseTogcG9pbnRzLnJvdGF0ZSA+IDAgPyBwb2ludHMudWx5ICsgeV9jaGFuZ2UvMiA6IHBvaW50cy51bHkgLSB5X2NoYW5nZS8yLFxuICAgICAgICAgICAgbHJ4OiBwb2ludHMubHJ4LFxuICAgICAgICAgICAgbHJ5OiBwb2ludHMucm90YXRlID4gMCA/IHBvaW50cy5scnkgLSB5X2NoYW5nZS8yIDogcG9pbnRzLmxyeSArIHlfY2hhbmdlLzIsXG4gICAgICAgICAgICByb3RhdGU6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGF3YWl0IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gc3RhZmYgd2FzIHNlbGVjdGVkJyk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGJib3ggb3B0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckJCb3hBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuYmJveEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hdGNoSGVpZ2h0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbWF0Y2hIZWlnaHRIYW5kbGVyKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZGVmYXVsdCBhY3Rpb25zIHdoZW4gc2VsZWN0aW5nIGJ5IHN5bFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdFN5bEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZGVmYXVsdCBzZWxlY3Rpb24gb3B0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckRlZmF1bHRBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGV4dHJhIGRyb3Bkb3duIG9wdGlvbnM6XG4gKiBMaXN0ZW4gdG8gY2xpY2tzIG9uIGRyb3Bkb3duc1xuICovXG5mdW5jdGlvbiBpbml0T3B0aW9uc0xpc3RlbmVycyAoKTogdm9pZCB7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX3NlbGVjdCcpXG4gICAgLmZvckVhY2goXG4gICAgICBkcm9wID0+IHtcbiAgICAgICAgLy8gV2hlbiBhbnl0aGluZyB0aGF0IGlzIG5vdCB0aGUgZHJvcGRvd24gaXMgY2xpY2tlZCBhd2F5LCB0aGUgZHJvcGRvd25cbiAgICAgICAgLy8gc2hvdWxkIGxvc2UgaXRzIHZpc2liaWxpdHlcbiAgICAgICAgY29uc3Qgb3B0aW9uc0NsaWNrYXdheSA9ICgpID0+IHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgICAgZHJvcC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkcm9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgICAgIC8vIFRvZ2dsZSB2aXNpYmlsaXR5IG9mIGRyb3Bkb3duXG4gICAgICAgICAgZHJvcC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB2aXNpYmlsaXR5IG9mIG90aGVyIGRyb3Bkb3ducyB3aGVuIHRoaXMgb25lIGlzIGNsaWNrZWRcbiAgICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX3NlbGVjdCcpKVxuICAgICAgICAgICAgLmZpbHRlcihvdGhlciA9PiBvdGhlciAhPT0gZHJvcClcbiAgICAgICAgICAgIC5mb3JFYWNoKG90aGVyID0+IG90aGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpKTtcblxuICAgICAgICAgIC8vIERvbid0IGFsbG93IG90aGVyIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgYm9keSB0byBpbnRlcmZlcmUgd2l0aCB0aGlzIGxpc3RlbmVyXG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgaWYgKGRyb3AuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSlcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcHRpb25zQ2xpY2thd2F5KTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG59XG4iLCJpbXBvcnQgeyBnZXRTdGFmZkJCb3ggfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuZXhwb3J0IGludGVyZmFjZSBQb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJCb3gge1xuICB1bHg6IG51bWJlcjtcbiAgdWx5OiBudW1iZXI7XG4gIGxyeDogbnVtYmVyO1xuICBscnk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBHZXQgU1ZHIHJlbGF0aXZlIGNvb3JkaW5hdGVzIGdpdmVuIGNsaWVudFggYW5kIGNsaWVudFlcbiAqIFNvdXJjZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjkyNjEzMDRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNWR1JlbENvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBQb2ludCB7XG4gIGNvbnN0IHB0ID0gbmV3IERPTVBvaW50KGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR1NWR0VsZW1lbnQ+KCcuYWN0aXZlLXBhZ2UgPiAuZGVmaW5pdGlvbi1zY2FsZScpO1xuICBjb25zdCBwYWdlTWFyZ2luID0gc3ZnLnF1ZXJ5U2VsZWN0b3I8U1ZHR0VsZW1lbnQ+KCcucGFnZS1tYXJnaW4nKTtcblxuICBjb25zdCB7IHgsIHkgfSA9IHB0Lm1hdHJpeFRyYW5zZm9ybShwYWdlTWFyZ2luLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG4gIHJldHVybiB7IHgsIHkgfTtcblxuICAvLyBJZiB0aGVyZSBpcyBzb21lIGlzc3VlIHdpdGggY29vcmRpbmF0ZXMsIHRoaXMgbWF5IGZpeCB0aGUgaXNzdWU6XG4gIC8vIGNvbnN0IHN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHU1ZHRWxlbWVudD4oJyNzdmdfZ3JvdXAnKTtcbiAgLy8gY29uc3QgeyB4LCB5IH0gPSBwdC5tYXRyaXhUcmFuc2Zvcm0oc3ZnLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG59XG5cbi8qKlxuICogR2V0IElEIG9mIHN0YWZmIGJ5IGNsaWVudCdzIHgteSBjb29yZGluYXRlcy5cbiAqIFRoaXMgZnVuY3Rpb24gY29uc2lkZXJzIHRoZSAqdmlzdWFsKiBib3VuZGluZyBib3ggb2YgdGhlIHN0YWZmXG4gKiBiYXNlZCBvbiBpdHMgc3RhZmYgbGluZXMsIGluc3RlYWQgb2YgdGhlIFNWRyBlbGVtZW50IGl0c2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmSWRCeUNvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR0VsZW1lbnQ+KCcuc3RhZmYnKSk7XG4gIGNvbnN0IHN0YWZmQkJveGVzID0gc3RhdmVzLm1hcChzdGFmZiA9PiBnZXRTdGFmZkJCb3goc3RhZmYpKTtcblxuICAvLyBmaW5kIHRoZSBzdGFmZiB0aGF0IHRoZSBjdXJzb3IgaXMgaW5zaWRlXG4gIGNvbnN0IHsgeCwgeSB9ID0gZ2V0U1ZHUmVsQ29vcmRzKGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdGFmZiA9IHN0YWZmQkJveGVzLmZpbmQoXG4gICAgKGJib3gpID0+IHggPD0gYmJveC5scnggJiYgeCA+PSBiYm94LnVseCAmJiB5IDw9IGJib3gubHJ5ICYmIHkgPj0gYmJveC51bHlcbiAgKTsgXG5cbiAgLy8gSWYgdGhlcmUgaXMgaXNzdWVzIHdpdGggZmluZGluZyB0aGUgc3RhZmYsIHRoaXMgbWF5IGJlIG1vcmUgYWNjdXJhdGU6XG4gIC8vIHJldHVybiAocHQueCA+IHVseCAmJiBwdC54IDwgbHJ4KSAmJlxuICAvLyAgIChwdC55ID4gKHVseSArIChwdC54IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkpKSAmJlxuICAvLyAgIChwdC55IDwgKGxyeSAtIChscnggLSBwdC54KSAqIE1hdGgudGFuKHJvdGF0ZSkpKTtcblxuICAvLyBpZiB0aGUgY3Vyc29yIGlzIG5vdCBpbnNpZGUgYW55IHN0YWZmLCB0aGVuIGV4cGxpY2l0bHkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIHN0YWZmID8gc3RhZmYuaWQgOiBudWxsO1xufVxuXG4vKipcbiAqIEdldCBzdGFmZiBieSBjbGllbnQncyB4LXkgY29vcmRpbmF0ZXM7IHdyYXBwZXIgZm9yIGdldFN0YWZmSWRCeUNvb3JkcywgYnV0XG4gKiAgIHJldHVybnMgdGhlIGVsZW1lbnQsIG5vdCB0aGUgSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmQnlDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogU1ZHR0VsZW1lbnQgfCBudWxsIHtcbiAgY29uc3Qgc3RhZmZJZCA9IGdldFN0YWZmSWRCeUNvb3JkcyhjbGllbnRYLCBjbGllbnRZKTtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3N0YWZmSWR9YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc091dE9mU1ZHQm91bmRzICh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICBjb25zdCBiZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHSW1hZ2VFbGVtZW50PignI2JnaW1nJyk7XG4gIFxuICByZXR1cm4gKFxuICAgIHggPD0gMCB8fCB4ID49IE51bWJlcihiZ0ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpIHx8XG4gICAgeSA8PSAwIHx8IHkgPj0gTnVtYmVyKGJnSW1nLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpXG4gICk7XG59XG5cbi8qKlxuICogR2V0IGJvdW5kaW5nIGJveCAobHJ4LCBscnksIHVseCwgdWx5KSBvZiBhIGdseXBoLCB3aGljaFxuICogaXMgYSA8dXNlPiBlbGVtZW50IGluIHRoZSBTVkdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdseXBoQkJveCAoZzogU1ZHUmVjdEVsZW1lbnQgfCBTVkdVc2VFbGVtZW50KTogQkJveCB7XG4gIGNvbnN0IHJlY3QgPSAoZy50YWdOYW1lID09ICdyZWN0JykgPyBnLmdldEJCb3goKSA6IChnLnBhcmVudE5vZGUgYXMgU1ZHR0VsZW1lbnQpLmdldEJCb3goKTtcblxuICByZXR1cm4ge1xuICAgIHVseDogcmVjdC54LFxuICAgIHVseTogcmVjdC55LFxuICAgIGxyeDogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICBscnk6IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gIH07XG59XG5cbiIsIihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS9Db21tb25KU1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTURcbiAgICAgICAgZGVmaW5lKGZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAod2l0aCBzdXBwb3J0IGZvciB3ZWIgd29ya2VycylcbiAgICAgICAgdmFyIGdsb2I7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGdsb2IgPSB3aW5kb3c7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGdsb2IgPSBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2xvYi5TcGFya01ENSA9IGZhY3RvcnkoKTtcbiAgICB9XG59KGZ1bmN0aW9uICh1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qXG4gICAgICogRmFzdGVzdCBtZDUgaW1wbGVtZW50YXRpb24gYXJvdW5kIChKS00gbWQ1KS5cbiAgICAgKiBDcmVkaXRzOiBKb3NlcGggTXllcnNcbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5teWVyc2RhaWx5Lm9yZy9qb3NlcGgvamF2YXNjcmlwdC9tZDUtdGV4dC5odG1sXG4gICAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9tZDUtc2hvb3RvdXQvN1xuICAgICAqL1xuXG4gICAgLyogdGhpcyBmdW5jdGlvbiBpcyBtdWNoIGZhc3RlcixcbiAgICAgIHNvIGlmIHBvc3NpYmxlIHdlIHVzZSBpdC4gU29tZSBJRXNcbiAgICAgIGFyZSB0aGUgb25seSBvbmVzIEkga25vdyBvZiB0aGF0XG4gICAgICBuZWVkIHRoZSBpZGlvdGljIHNlY29uZCBmdW5jdGlvbixcbiAgICAgIGdlbmVyYXRlZCBieSBhbiBpZiBjbGF1c2UuICAqL1xuICAgIHZhciBhZGQzMiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiAoYSArIGIpICYgMHhGRkZGRkZGRjtcbiAgICB9LFxuICAgICAgICBoZXhfY2hyID0gWycwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJ107XG5cblxuICAgIGZ1bmN0aW9uIGNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gICAgICAgIGEgPSBhZGQzMihhZGQzMihhLCBxKSwgYWRkMzIoeCwgdCkpO1xuICAgICAgICByZXR1cm4gYWRkMzIoKGEgPDwgcykgfCAoYSA+Pj4gKDMyIC0gcykpLCBiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVjeWNsZSh4LCBrKSB7XG4gICAgICAgIHZhciBhID0geFswXSxcbiAgICAgICAgICAgIGIgPSB4WzFdLFxuICAgICAgICAgICAgYyA9IHhbMl0sXG4gICAgICAgICAgICBkID0geFszXTtcblxuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzBdIC0gNjgwODc2OTM2IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbMV0gLSAzODk1NjQ1ODYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMl0gKyA2MDYxMDU4MTkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbM10gLSAxMDQ0NTI1MzMwIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzRdIC0gMTc2NDE4ODk3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbNV0gKyAxMjAwMDgwNDI2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzZdIC0gMTQ3MzIzMTM0MSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1s3XSAtIDQ1NzA1OTgzIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzhdICsgMTc3MDAzNTQxNiB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzldIC0gMTk1ODQxNDQxNyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxMF0gLSA0MjA2MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1sxMV0gLSAxOTkwNDA0MTYyIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzEyXSArIDE4MDQ2MDM2ODIgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxM10gLSA0MDM0MTEwMSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxNF0gLSAxNTAyMDAyMjkwIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzE1XSArIDEyMzY1MzUzMjkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG5cbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxXSAtIDE2NTc5NjUxMCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzZdIC0gMTA2OTUwMTYzMiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzExXSArIDY0MzcxNzcxMyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1swXSAtIDM3Mzg5NzMwMiB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1s1XSAtIDcwMTU1ODY5MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzEwXSArIDM4MDE2MDgzIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbMTVdIC0gNjYwNDc4MzM1IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzRdIC0gNDA1NTM3ODQ4IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzldICsgNTY4NDQ2NDM4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMTRdIC0gMTAxOTgwMzY5MCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzNdIC0gMTg3MzYzOTYxIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzhdICsgMTE2MzUzMTUwMSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxM10gLSAxNDQ0NjgxNDY3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMl0gLSA1MTQwMzc4NCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzddICsgMTczNTMyODQ3MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1sxMl0gLSAxOTI2NjA3NzM0IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuXG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzVdIC0gMzc4NTU4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzhdIC0gMjAyMjU3NDQ2MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTFdICsgMTgzOTAzMDU2MiB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMTRdIC0gMzUzMDk1NTYgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMV0gLSAxNTMwOTkyMDYwIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzRdICsgMTI3Mjg5MzM1MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbN10gLSAxNTU0OTc2MzIgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzEwXSAtIDEwOTQ3MzA2NDAgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMTNdICsgNjgxMjc5MTc0IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzBdIC0gMzU4NTM3MjIyIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1szXSAtIDcyMjUyMTk3OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbNl0gKyA3NjAyOTE4OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s5XSAtIDY0MDM2NDQ4NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1sxMl0gLSA0MjE4MTU4MzUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzE1XSArIDUzMDc0MjUyMCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMl0gLSA5OTUzMzg2NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcblxuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1swXSAtIDE5ODYzMDg0NCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1s3XSArIDExMjY4OTE0MTUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzE0XSAtIDE0MTYzNTQ5MDUgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzVdIC0gNTc0MzQwNTUgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMTJdICsgMTcwMDQ4NTU3MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1szXSAtIDE4OTQ5ODY2MDYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzEwXSAtIDEwNTE1MjMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzFdIC0gMjA1NDkyMjc5OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s4XSArIDE4NzMzMTMzNTkgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbMTVdIC0gMzA2MTE3NDQgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzZdIC0gMTU2MDE5ODM4MCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMTNdICsgMTMwOTE1MTY0OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s0XSAtIDE0NTUyMzA3MCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxMV0gLSAxMTIwMjEwMzc5IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1syXSArIDcxODc4NzI1OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbOV0gLSAzNDM0ODU1NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHwgYiA+Pj4gMTEpICsgYyB8IDA7XG5cbiAgICAgICAgeFswXSA9IGEgKyB4WzBdIHwgMDtcbiAgICAgICAgeFsxXSA9IGIgKyB4WzFdIHwgMDtcbiAgICAgICAgeFsyXSA9IGMgKyB4WzJdIHwgMDtcbiAgICAgICAgeFszXSA9IGQgKyB4WzNdIHwgMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVibGsocykge1xuICAgICAgICB2YXIgbWQ1YmxrcyA9IFtdLFxuICAgICAgICAgICAgaTsgLyogQW5keSBLaW5nIHNhaWQgZG8gaXQgdGhpcyB3YXkuICovXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpICs9IDQpIHtcbiAgICAgICAgICAgIG1kNWJsa3NbaSA+PiAyXSA9IHMuY2hhckNvZGVBdChpKSArIChzLmNoYXJDb2RlQXQoaSArIDEpIDw8IDgpICsgKHMuY2hhckNvZGVBdChpICsgMikgPDwgMTYpICsgKHMuY2hhckNvZGVBdChpICsgMykgPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNWJsa19hcnJheShhKSB7XG4gICAgICAgIHZhciBtZDVibGtzID0gW10sXG4gICAgICAgICAgICBpOyAvKiBBbmR5IEtpbmcgc2FpZCBkbyBpdCB0aGlzIHdheS4gKi9cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkgKz0gNCkge1xuICAgICAgICAgICAgbWQ1Ymxrc1tpID4+IDJdID0gYVtpXSArIChhW2kgKyAxXSA8PCA4KSArIChhW2kgKyAyXSA8PCAxNikgKyAoYVtpICsgM10gPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNTEocykge1xuICAgICAgICB2YXIgbiA9IHMubGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGUgPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbjsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIG1kNWJsayhzLnN1YnN0cmluZyhpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKGkgLSA2NCk7XG4gICAgICAgIGxlbmd0aCA9IHMubGVuZ3RoO1xuICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBzLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cbiAgICAgICAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIGlmIChpID4gNTUpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdGFpbFtpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1pZ2h0IG5vdCBmaXQgaW4gMzIgYml0cyBzbyB3ZSB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICB0bXAgPSBuICogODtcbiAgICAgICAgdG1wID0gdG1wLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKTtcbiAgICAgICAgbG8gPSBwYXJzZUludCh0bXBbMl0sIDE2KTtcbiAgICAgICAgaGkgPSBwYXJzZUludCh0bXBbMV0sIDE2KSB8fCAwO1xuXG4gICAgICAgIHRhaWxbMTRdID0gbG87XG4gICAgICAgIHRhaWxbMTVdID0gaGk7XG5cbiAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1MV9hcnJheShhKSB7XG4gICAgICAgIHZhciBuID0gYS5sZW5ndGgsXG4gICAgICAgICAgICBzdGF0ZSA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICB0YWlsLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBuOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgbWQ1YmxrX2FycmF5KGEuc3ViYXJyYXkoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHN1cmUgaWYgaXQgaXMgYSBidWcsIGhvd2V2ZXIgSUUxMCB3aWxsIGFsd2F5cyBwcm9kdWNlIGEgc3ViIGFycmF5IG9mIGxlbmd0aCAxXG4gICAgICAgIC8vIGNvbnRhaW5pbmcgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgcGFyZW50IGFycmF5IGlmIHRoZSBzdWIgYXJyYXkgc3BlY2lmaWVkIHN0YXJ0c1xuICAgICAgICAvLyBiZXlvbmQgdGhlIGxlbmd0aCBvZiB0aGUgcGFyZW50IGFycmF5IC0gd2VpcmQuXG4gICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvNzcxNDUyL3R5cGVkLWFycmF5LXN1YmFycmF5LWlzc3VlXG4gICAgICAgIGEgPSAoaSAtIDY0KSA8IG4gPyBhLnN1YmFycmF5KGkgLSA2NCkgOiBuZXcgVWludDhBcnJheSgwKTtcblxuICAgICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYVtpXSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWxbaSA+PiAyXSB8PSAweDgwIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICBpZiAoaSA+IDU1KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtaWdodCBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgdG1wID0gbiAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuXG4gICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmhleChuKSB7XG4gICAgICAgIHZhciBzID0gJycsXG4gICAgICAgICAgICBqO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgNDsgaiArPSAxKSB7XG4gICAgICAgICAgICBzICs9IGhleF9jaHJbKG4gPj4gKGogKiA4ICsgNCkpICYgMHgwRl0gKyBoZXhfY2hyWyhuID4+IChqICogOCkpICYgMHgwRl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGV4KHgpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB4W2ldID0gcmhleCh4W2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geC5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvLyBJbiBzb21lIGNhc2VzIHRoZSBmYXN0IGFkZDMyIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkLi5cbiAgICBpZiAoaGV4KG1kNTEoJ2hlbGxvJykpICE9PSAnNWQ0MTQwMmFiYzRiMmE3NmI5NzE5ZDkxMTAxN2M1OTInKSB7XG4gICAgICAgIGFkZDMyID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIHZhciBsc3cgPSAoeCAmIDB4RkZGRikgKyAoeSAmIDB4RkZGRiksXG4gICAgICAgICAgICAgICAgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gICAgICAgICAgICByZXR1cm4gKG1zdyA8PCAxNikgfCAobHN3ICYgMHhGRkZGKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEFycmF5QnVmZmVyIHNsaWNlIHBvbHlmaWxsLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdHRhdWJlcnQvbm9kZS1hcnJheWJ1ZmZlci1zbGljZVxuICAgICAqL1xuXG4gICAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIUFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gY2xhbXAodmFsLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSAodmFsIHwgMCkgfHwgMDtcblxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2YWwgKyBsZW5ndGgsIDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbih2YWwsIGxlbmd0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luID0gY2xhbXAoZnJvbSwgbGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gbGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBudW0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUFycmF5O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gY2xhbXAodG8sIGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJlZ2luID4gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQXJyYXlCdWZmZXIoMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbnVtID0gZW5kIC0gYmVnaW47XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gbmV3IEFycmF5QnVmZmVyKG51bSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLCBiZWdpbiwgbnVtKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXJzLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gdG9VdGY4KHN0cikge1xuICAgICAgICBpZiAoL1tcXHUwMDgwLVxcdUZGRkZdLy50ZXN0KHN0cikpIHtcbiAgICAgICAgICAgIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXRmOFN0cjJBcnJheUJ1ZmZlcihzdHIsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHN0ci5sZW5ndGgsXG4gICAgICAgICAgIGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKSxcbiAgICAgICAgICAgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZiksXG4gICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gYXJyIDogYnVmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcnJheUJ1ZmZlcjJVdGY4U3RyKGJ1ZmYpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmZikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKGZpcnN0LCBzZWNvbmQsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGZpcnN0LmJ5dGVMZW5ndGggKyBzZWNvbmQuYnl0ZUxlbmd0aCk7XG5cbiAgICAgICAgcmVzdWx0LnNldChuZXcgVWludDhBcnJheShmaXJzdCkpO1xuICAgICAgICByZXN1bHQuc2V0KG5ldyBVaW50OEFycmF5KHNlY29uZCksIGZpcnN0LmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gcmVzdWx0IDogcmVzdWx0LmJ1ZmZlcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoZXhUb0JpbmFyeVN0cmluZyhoZXgpIHtcbiAgICAgICAgdmFyIGJ5dGVzID0gW10sXG4gICAgICAgICAgICBsZW5ndGggPSBoZXgubGVuZ3RoLFxuICAgICAgICAgICAgeDtcblxuICAgICAgICBmb3IgKHggPSAwOyB4IDwgbGVuZ3RoIC0gMTsgeCArPSAyKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKHBhcnNlSW50KGhleC5zdWJzdHIoeCwgMiksIDE2KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGJ5dGVzKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFNwYXJrTUQ1IE9PUCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGNsYXNzIHRvIHBlcmZvcm0gYW4gaW5jcmVtZW50YWwgbWQ1LCBvdGhlcndpc2UgdXNlIHRoZVxuICAgICAqIHN0YXRpYyBtZXRob2RzIGluc3RlYWQuXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBTcGFya01ENSgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIHN0cmluZy5cbiAgICAgKiBBIGNvbnZlcnNpb24gd2lsbCBiZSBhcHBsaWVkIGlmIGFuIHV0Zjggc3RyaW5nIGlzIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIGJlIGFwcGVuZGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBhcHBlbmQgYXMgYmluYXJ5XG4gICAgICAgIHRoaXMuYXBwZW5kQmluYXJ5KHRvVXRmOChzdHIpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgVGhlIGJpbmFyeSBzdHJpbmcgdG8gYmUgYXBwZW5kZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmFwcGVuZEJpbmFyeSA9IGZ1bmN0aW9uIChjb250ZW50cykge1xuICAgICAgICB0aGlzLl9idWZmICs9IGNvbnRlbnRzO1xuICAgICAgICB0aGlzLl9sZW5ndGggKz0gY29udGVudHMubGVuZ3RoO1xuXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLl9idWZmLmxlbmd0aCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbGVuZ3RoOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCBtZDVibGsodGhpcy5fYnVmZi5zdWJzdHJpbmcoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZiA9IHRoaXMuX2J1ZmYuc3Vic3RyaW5nKGkgLSA2NCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9maW5pc2godGFpbCwgbGVuZ3RoKTtcbiAgICAgICAgcmV0ID0gaGV4KHRoaXMuX2hhc2gpO1xuXG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJldCA9IGhleFRvQmluYXJ5U3RyaW5nKHJldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYnVmZiA9ICcnO1xuICAgICAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9oYXNoID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzdGF0ZVxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ1ZmY6IHRoaXMuX2J1ZmYsXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMuX2xlbmd0aCxcbiAgICAgICAgICAgIGhhc2g6IHRoaXMuX2hhc2guc2xpY2UoKVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgVGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0aGlzLl9idWZmID0gc3RhdGUuYnVmZjtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICB0aGlzLl9oYXNoID0gc3RhdGUuaGFzaDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVsZWFzZXMgbWVtb3J5IHVzZWQgYnkgdGhlIGluY3JlbWVudGFsIGJ1ZmZlciBhbmQgb3RoZXIgYWRkaXRpb25hbFxuICAgICAqIHJlc291cmNlcy4gSWYgeW91IHBsYW4gdG8gdXNlIHRoZSBpbnN0YW5jZSBhZ2FpbiwgdXNlIHJlc2V0IGluc3RlYWQuXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9oYXNoO1xuICAgICAgICBkZWxldGUgdGhpcy5fYnVmZjtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xlbmd0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBmaW5hbCBjYWxjdWxhdGlvbiBiYXNlZCBvbiB0aGUgdGFpbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9ICB0YWlsICAgVGhlIHRhaWwgKHdpbGwgYmUgbW9kaWZpZWQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIHRoZSByZW1haW5pbmcgYnVmZmVyXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLl9maW5pc2ggPSBmdW5jdGlvbiAodGFpbCwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBpID0gbGVuZ3RoLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICB0YWlsW2kgPj4gMl0gfD0gMHg4MCA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG8gdGhlIGZpbmFsIGNvbXB1dGF0aW9uIGJhc2VkIG9uIHRoZSB0YWlsIGFuZCBsZW5ndGhcbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtYXkgbm90IGZpdCBpbiAzMiBiaXRzIHNvIHdlIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgIHRtcCA9IHRoaXMuX2xlbmd0aCAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCB0YWlsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGEgc3RyaW5nLlxuICAgICAqIEEgY29udmVyc2lvbiB3aWxsIGJlIGFwcGxpZWQgaWYgdXRmOCBzdHJpbmcgaXMgZGV0ZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIHN0ciBUaGUgc3RyaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmF3XSBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoID0gZnVuY3Rpb24gKHN0ciwgcmF3KSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBjb21wdXRlIGl0IHVzaW5nIHRoZSBiaW5hcnkgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIFNwYXJrTUQ1Lmhhc2hCaW5hcnkodG9VdGY4KHN0ciksIHJhdyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIGNvbnRlbnQgVGhlIGJpbmFyeSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyYXddICAgICBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoQmluYXJ5ID0gZnVuY3Rpb24gKGNvbnRlbnQsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTEoY29udGVudCksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogU3BhcmtNRDUgT09QIGltcGxlbWVudGF0aW9uIGZvciBhcnJheSBidWZmZXJzLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgY2xhc3MgdG8gcGVyZm9ybSBhbiBpbmNyZW1lbnRhbCBtZDUgT05MWSBmb3IgYXJyYXkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYW4gYXJyYXkgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyIFRoZSBhcnJheSB0byBiZSBhcHBlbmRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKGFycikge1xuICAgICAgICB2YXIgYnVmZiA9IGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKHRoaXMuX2J1ZmYuYnVmZmVyLCBhcnIsIHRydWUpLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIHRoaXMuX2xlbmd0aCArPSBhcnIuYnl0ZUxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBsZW5ndGg7IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIG1kNWJsa19hcnJheShidWZmLnN1YmFycmF5KGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmYgPSAoaSAtIDY0KSA8IGxlbmd0aCA/IG5ldyBVaW50OEFycmF5KGJ1ZmYuYnVmZmVyLnNsaWNlKGkgLSA2NCkpIDogbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmW2ldIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKHRhaWwsIGxlbmd0aCk7XG4gICAgICAgIHJldCA9IGhleCh0aGlzLl9oYXNoKTtcblxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByZXQgPSBoZXhUb0JpbmFyeVN0cmluZyhyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgPSBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5faGFzaCA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgc3RhdGVcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIENvbnZlcnQgYnVmZmVyIHRvIGEgc3RyaW5nXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSBhcnJheUJ1ZmZlcjJVdGY4U3RyKHN0YXRlLmJ1ZmYpO1xuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFRoZSBzdGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gYnVmZmVyXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSB1dGY4U3RyMkFycmF5QnVmZmVyKHN0YXRlLmJ1ZmYsIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBTcGFya01ENS5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLCBzdGF0ZSk7XG4gICAgfTtcblxuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3k7XG5cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuX2ZpbmlzaCA9IFNwYXJrTUQ1LnByb3RvdHlwZS5fZmluaXNoO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGFuIGFycmF5IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFyciBUaGUgYXJyYXkgYnVmZmVyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgW3Jhd10gVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IG9uZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIuaGFzaCA9IGZ1bmN0aW9uIChhcnIsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTFfYXJyYXkobmV3IFVpbnQ4QXJyYXkoYXJyKSksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIHJldHVybiBTcGFya01ENTtcbn0pKTtcbiIsIi8qKlxuICogRm9ybWF0cyByYXcgVVVJRCBkYXRhIGludG8gdGhlIHByb3BlciBzdHJpbmcgZm9ybWF0LlxuICogQHBhcmFtIGRhdGEgLSBSYXcgVVVJRCBkYXRhLlxuICogQHJldHVybnMgRm9ybWF0dGVkIFVVSUQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiB1aW50OFRvVXVpZCAoZGF0YTogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGlmIChkYXRhLmxlbmd0aCAhPT0gMTYpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBmdW5jdGlvbiBjYiAocHJldmlvdXM6IHN0cmluZywgY3VycmVudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcHJldmlvdXMgKyBjdXJyZW50LnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEuc2xpY2UoMCwgNCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNCwgNikucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNiwgOCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoOCwgMTApLnJlZHVjZShjYiwgJycpICtcbiAgICAnLScgKyBkYXRhLnNsaWNlKDEwKS5yZWR1Y2UoY2IsICcnKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBBIFt2ZXJzaW9uIDQgVVVJRF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVW5pdmVyc2FsbHlfdW5pcXVlX2lkZW50aWZpZXIjVmVyc2lvbl80XyhyYW5kb20pKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NCAoKTogc3RyaW5nIHtcbiAgLy8gQ2hlY2sgZm9yIGNyeXB0byBBUElcbiAgaWYgKHdpbmRvdy5jcnlwdG8gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1aW50OFRvVXVpZChuZXcgVWludDhBcnJheSgxNikpO1xuICB9XG5cbiAgLy8gR2V0IDE2IG9jdGV0cyBmb3IgVVVJRFxuICBjb25zdCBvY3RldHMgPSBuZXcgVWludDhBcnJheSgxNik7XG4gIGNvbnN0IG1vZGlmaWVycyA9IFVpbnQ4QXJyYXkuZnJvbShbXG4gICAgcGFyc2VJbnQoJzAxMDAwMDAwJywgMiksICAvLyBWZXJzaW9uIGJpdHMgKDQgPT4gMDEwMClcbiAgICBwYXJzZUludCgnMTAwMDAwMDAnLCAyKSwgIC8vIFZhcmlhbnQgYml0cyAoMTB4KVxuICAgIHBhcnNlSW50KCcwMDAwMTExMScsIDIpLCAgLy8gTWFzayB0byB6ZXJvIGhpZ2hlciBiaXRzLCB2ZXJzaW9uXG4gICAgcGFyc2VJbnQoJzAwMTExMTExJywgMikgICAvLyBNYXNrIHRvIHplcm8gaGlnaGVyIGJpdHMsIHZhcmlhbnRcbiAgXSk7XG4gIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG9jdGV0cyk7XG4gIC8vIFNldCB2ZXJzaW9uIGJpdHMgYW5kIHZhcmlhbnQgYml0c1xuICBvY3RldHNbNl0gPSAob2N0ZXRzWzZdICYgbW9kaWZpZXJzWzJdKSB8IG1vZGlmaWVyc1swXTtcbiAgb2N0ZXRzWzhdID0gKG9jdGV0c1s4XSAmIG1vZGlmaWVyc1szXSkgfCBtb2RpZmllcnNbMV07XG5cbiAgcmV0dXJuIHVpbnQ4VG9VdWlkKG9jdGV0cyk7XG59XG4iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogQWRhcHRlZCBmcm9tIGNvbG9yIHBhbGV0dGUgZnJvbSBGaWd1cmUgMiAoQ29sb3JzIG9wdGltaXplZCBmb3IgY29sb3ItYmxpbmRcbiAqIGluZGl2aWR1YWxzKSBmcm9tXG4gKiBbXCJQb2ludHMgb2YgdmlldzogQ29sb3IgYmxpbmRuZXNzXCIgYnkgQmFuZyBXb25nIHB1Ymxpc2hlZCBpbiBOYXR1cmUgTWV0aG9kcyB2b2x1bWUgOCBvbiAyNyBNYXkgMjAxMV0oaHR0cHM6Ly93d3cubmF0dXJlLmNvbS9hcnRpY2xlcy9ubWV0aC4xNjE4P1dULmVjX2lkPU5NRVRILTIwMTEwNilcbiAqL1xuY29uc3QgQ29sb3JQYWxldHRlOiBzdHJpbmdbXSA9IFtcbiAgJ3JnYigyMzAsIDE1OSwgMCknLFxuICAncmdiKDg2LCAxODAsIDIzMyknLFxuICAncmdiKDAsIDE1OCwgMTE1KScsXG4gICdyZ2IoMjQwLCAyMjgsIDY2KScsXG4gICdyZ2IoMCwgMTE0LCAxNzgpJyxcbiAgJ3JnYigyMTMsIDk0LCAwKScsXG4gICdyZ2IoMjA0LCAxMjEsIDE2NyknXG5dO1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgaGlnaGxpZ2h0IGZyb20gYSBzdGFmZi5cbiAqIEBwYXJhbSBzdGFmZiBJZiB1bmRlZmluZWQsIHRoZSBhbGwgc3RhdmVzIGFyZSB1bmhpZ2hsaWdodGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5oaWdobGlnaHQoc3RhZmY/OiBTVkdHRWxlbWVudCk6IHZvaWQge1xuICBsZXQgY2hpbGRyZW46IE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gIGlmIChzdGFmZikge1xuICAgIGNoaWxkcmVuID0gc3RhZmYucXVlcnlTZWxlY3RvckFsbCgnOm5vdCguc2VsZWN0ZWQpIC5oaWdobGlnaHRlZCcpO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnOm5vdCguc2VsZWN0ZWQpIC5oaWdobGlnaHRlZCcpO1xuICB9XG4gIGNoaWxkcmVuLmZvckVhY2goZWxlbSA9PiB7XG4gICAgaWYgKGVsZW0udGFnTmFtZSA9PT0gJ3BhdGgnICYmICFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICcjMDAwMDAwJyk7XG4gICAgfSBlbHNlIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpICYmICFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICcjMDAwMDAwJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoJ2ZpbGwnKTtcbiAgICAgIGxldCByZWN0cyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVjdHMgPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWN0cyA9IFtdIGFzIHVua25vd24gYXMgTm9kZUxpc3RPZjxFbGVtZW50PjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgICAvLyByZWN0LmNsb3Nlc3QoJy5sYXllcicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApe1xuICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBoaWdobGlnaHQgZnJvbSBlYWNoIHN0YWZmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRTdGFmZkhpZ2hsaWdodCgpOiB2b2lkIHtcbiAgdW5oaWdobGlnaHQoKTtcbn1cblxuLyoqXG4gKiBVbnNldCBoaWdobGlnaHQgZm9yIGFsbCBncm91cGluZyB0eXBlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRHcm91cGluZ0hpZ2hsaWdodCgpOiB2b2lkIHtcbiAgdW5zZXRTdGFmZkhpZ2hsaWdodCgpO1xuICBjb25zdCBoaWdobGlnaHRlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0ZWQnKSlcbiAgICAuZmlsdGVyKChlbGVtOiBIVE1MRWxlbWVudCkgPT4gIWVsZW0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpO1xuICBoaWdobGlnaHRlZC5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIGVsZW0uc2V0QXR0cmlidXRlKCcjZDAwJywgbnVsbCk7XG4gICAgbGV0IHJlY3RzID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICBpZiAoZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKSAhPT0gbnVsbCkge1xuICAgICAgICByZWN0cyA9IGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykucXVlcnlTZWxlY3RvckFsbCgnc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgfVxuICAgIH1cbiAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0OiBIVE1MRWxlbWVudCkge1xuICAgICAgaWYgKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8IFxuICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICApe1xuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICB9XG4gICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfSk7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnc3lsVGV4dFJlY3QtZGlzcGxheScpLmZvckVhY2gocmVjdCA9PiB7XG4gICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfSk7XG4gIH0pO1xuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpLmZvckVhY2goKGVsKSA9PiB7IGVsLnNldEF0dHJpYnV0ZSgnZmlsbCcsICcnKTsgfSk7XG59XG5cbi8qKlxuICogSGlnaGxpZ2h0IGEgc3RhZmYgYSBjZXJ0YWluIGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGlnaGxpZ2h0KHN0YWZmOiBTVkdHRWxlbWVudCwgY29sb3I6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oc3RhZmYuY2hpbGRyZW4pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoY2hpbGQudGFnTmFtZSA9PT0gJ3BhdGgnKSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGNvbG9yKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGNvbG9yKTtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykubGVuZ3RoICYmIGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZmlsdGVyKGVsID0+IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNpemVQb2ludCcpIHx8IGNoaWxkLmlkID09PSAncmVzaXplUmVjdCcgfHwgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyb3RhdGVQb2ludCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2xheWVyJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpLmxlbmd0aCAmJlxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJylbMF0uaWQgPT09ICdoaWdobGlnaHQtbmV1bWUnXG4gICAgICAmJiBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdmaWxsJywgY29sb3IpO1xuICAgICAgbGV0IHJlY3RzID0gY2hpbGQucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVjdHMgPSBjaGlsZC5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVjdHMgPSBbXSBhcyB1bmtub3duIGFzIE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmICghKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgICAvLyByZWN0LmNsb3Nlc3QoJy5sYXllcicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApKSB7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gY29sb3I7XG4gICAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgfVxuICBsZXQgd2lkdGgsIGhlaWdodDtcbiAgLyp0cnkge1xuICAgIHdpZHRoID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZScpLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmdldEF0dHJpYnV0ZSgnd2lkdGgnKS5zcGxpdCgncHgnKVswXSk7XG4gICAgaGVpZ2h0ID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZScpLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jykuc3BsaXQoJ3B4JylbMF0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhlKTtcbiAgfSovXG4gIGxldCBzdHJva2U6IHN0cmluZztcbiAgaWYgKHdpZHRoICE9PSB1bmRlZmluZWQgJiYgaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBpZGsgbG9va3MgZ29vZCA6JylcbiAgICAvLyBUT0RPIGZpbmQgYSBiZXR0ZXIgd2F5IG9mIGNhbGN1bGF0aW5nIHRoaXMgYXMgdGhpcyBhY3R1YWxseSBkb2Vzbid0IHdvcmsgYXMgd2VsbCBhcyAzMHB4XG4gICAgc3Ryb2tlID0gKHdpZHRoICogaGVpZ2h0IC8gMTAwMDAwMCkudG9TdHJpbmcoKTtcbiAgfVxuICBlbHNlIHtcbiAgICBzdHJva2UgPSAnMzBweCc7XG4gIH1cbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgnLm5jLCAuY3VzdG9zLCAuY2xlZiwgLmFjY2lkJykuZm9yRWFjaChlbCA9PiB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsIHN0cm9rZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEhpZ2hsaWdodCBlYWNoIHN0YWZmIGEgZGlmZmVyZW50IGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RhZmZIaWdobGlnaHQoKTogdm9pZCB7XG4gIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZmYnKSkgYXMgU1ZHR0VsZW1lbnRbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFmZkNvbG9yID0gQ29sb3JQYWxldHRlW2kgJSBDb2xvclBhbGV0dGUubGVuZ3RoXTtcbiAgICBoaWdobGlnaHQoc3RhdmVzW2ldLCBzdGFmZkNvbG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRDb2x1bW5IaWdobGlnaHQoKTogdm9pZCB7XG4gIGNvbnN0ICBncm91cHM6IHsgW2tleTogbnVtYmVyXTogU1ZHR0VsZW1lbnRbXSB9ID0ge307XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmJykuZm9yRWFjaCgoc3RhZmYpID0+IHtcbiAgICBjb25zdCBoYXNDb2x1bW4gPSBBcnJheS5mcm9tKHN0YWZmLmNsYXNzTGlzdCkuam9pbignICcpLm1hdGNoKC9cXGJjb2x1bW4oXFxkKylcXGIvKTtcbiAgICBsZXQgY29sdW1uTnVtID0gMDtcbiAgICBpZiAoaGFzQ29sdW1uKSB7XG4gICAgICBjb2x1bW5OdW0gPSBwYXJzZUludChoYXNDb2x1bW5bMV0sIDEwKSAtIDE7XG4gICAgfVxuXG4gICAgaWYgKCFncm91cHNbY29sdW1uTnVtXSkge1xuICAgICAgZ3JvdXBzW2NvbHVtbk51bV0gPSBbXTtcbiAgICB9XG5cbiAgICBncm91cHNbY29sdW1uTnVtXS5wdXNoKHN0YWZmIGFzIFNWR0dFbGVtZW50KTtcbiAgfSk7XG5cbiAgZm9yIChjb25zdCBbY29sdW1uLCBzdGF2ZXNdIG9mIE9iamVjdC5lbnRyaWVzKGdyb3VwcykpIHtcbiAgICBjb25zdCBjb2xvciA9IENvbG9yUGFsZXR0ZVtOdW1iZXIoY29sdW1uKSAlIENvbG9yUGFsZXR0ZS5sZW5ndGhdO1xuICAgIGZvciAoY29uc3Qgc3RhZmYgb2Ygc3RhdmVzKSB7XG4gICAgICBoaWdobGlnaHQoc3RhZmYsIGNvbG9yKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgYSBoaWdobGlnaHQgYnkgYSBkaWZmZXJlbnQgZ3JvdXBpbmcuXG4gKiBAcGFyYW0gZ3JvdXBpbmcgLSBFaXRoZXIgXCJzdGFmZlwiLCBcInN5bGxhYmxlXCIsIFwibmV1bWVcIiwgXCJzZWxlY3Rpb25cIiwgb3IgXCJsYXllckVsZW1lbnRcIi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwaW5nOiBHcm91cGluZ1R5cGUpOiB2b2lkIHtcbiAgdW5zZXRHcm91cGluZ0hpZ2hsaWdodCgpO1xuICBpZiAoZ3JvdXBpbmcgPT09ICdzdGFmZicpIHtcbiAgICBzZXRTdGFmZkhpZ2hsaWdodCgpO1xuICAgIHJldHVybjtcbiAgfVxuICBlbHNlIGlmIChncm91cGluZyA9PT0gJ2NvbHVtbicpIHtcbiAgICBzZXRDb2x1bW5IaWdobGlnaHQoKTtcbiAgICByZXR1cm47XG4gIH0gXG4gIGVsc2UgaWYgKGdyb3VwaW5nID09PSAnc2VsZWN0aW9uJykge1xuICAgIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsLWJ5LmlzLWFjdGl2ZScpLmlkO1xuICAgIHN3aXRjaCAodGVtcCkge1xuICAgICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgICBncm91cGluZyA9ICdzeWxsYWJsZSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlDb2x1bW4nOlxuICAgICAgICBncm91cGluZyA9ICdjb2x1bW4nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgICBncm91cGluZyA9ICdzdGFmZic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlMYXllckVsZW1lbnQnOlxuICAgICAgICBncm91cGluZyA9ICdsYXllckVsZW1lbnQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZ3JvdXBpbmcgPSAnbmV1bWUnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXBpbmcpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgZ3JvdXBzO1xuXG4gIGlmIChncm91cGluZyA9PSAnbGF5ZXJFbGVtZW50Jykge1xuICAgIGdyb3VwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NpZCwgLmNsZWYsIC5jdXN0b3MsIC5kaXZMaW5lJyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgZ3JvdXBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShncm91cGluZykgYXMgSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD47XG4gIH1cblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMsIC5jdXN0b3MsIC5jbGVmLCAuYWNjaWQsIC5kaXZMaW5lJykuZm9yRWFjaChlbCA9PiB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gIH0pO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZ3JvdXBDb2xvciA9IENvbG9yUGFsZXR0ZVtpICUgQ29sb3JQYWxldHRlLmxlbmd0aF07XG4gICAgaWYgKChncm91cHNbaV0uY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpICYmICFncm91cHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdmaWxsJywgZ3JvdXBDb2xvcik7XG4gICAgICBjb25zdCByZWN0cyA9IGdyb3Vwc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+O1xuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAocmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gZ3JvdXBDb2xvcjtcbiAgICAgIH0pO1xuICAgICAgZ3JvdXBzW2ldLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICBncm91cHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFncm91cHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnI2QwMCcpO1xuICAgICAgfVxuICAgICAgZ3JvdXBzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZGl2TGluZUNoaWxkcmVuID0gZ3JvdXBzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJyk7XG4gICAgaWYgKGRpdkxpbmVDaGlsZHJlbikge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBkaXZMaW5lQ2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgZGl2TGluZUNoaWxkcmVuW2pdLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgZ3JvdXBDb2xvcik7XG4gICAgICAgIGRpdkxpbmVDaGlsZHJlbltqXS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXJpID0gcmVxdWlyZSgndXJsJyk7XG5cbnZhciBWYWxpZGF0aW9uRXJyb3IgPSBleHBvcnRzLlZhbGlkYXRpb25FcnJvciA9IGZ1bmN0aW9uIFZhbGlkYXRpb25FcnJvciAobWVzc2FnZSwgaW5zdGFuY2UsIHNjaGVtYSwgcGF0aCwgbmFtZSwgYXJndW1lbnQpIHtcbiAgaWYoQXJyYXkuaXNBcnJheShwYXRoKSl7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLnByb3BlcnR5ID0gcGF0aC5yZWR1Y2UoZnVuY3Rpb24oc3VtLCBpdGVtKXtcbiAgICAgIHJldHVybiBzdW0gKyBtYWtlU3VmZml4KGl0ZW0pO1xuICAgIH0sICdpbnN0YW5jZScpO1xuICB9ZWxzZSBpZihwYXRoICE9PSB1bmRlZmluZWQpe1xuICAgIHRoaXMucHJvcGVydHkgPSBwYXRoO1xuICB9XG4gIGlmIChtZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgfVxuICBpZiAoc2NoZW1hKSB7XG4gICAgdmFyIGlkID0gc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG4gICAgdGhpcy5zY2hlbWEgPSBpZCB8fCBzY2hlbWE7XG4gIH1cbiAgaWYgKGluc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gIH1cbiAgdGhpcy5uYW1lID0gbmFtZTtcbiAgdGhpcy5hcmd1bWVudCA9IGFyZ3VtZW50O1xuICB0aGlzLnN0YWNrID0gdGhpcy50b1N0cmluZygpO1xufTtcblxuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gdGhpcy5wcm9wZXJ0eSArICcgJyArIHRoaXMubWVzc2FnZTtcbn07XG5cbnZhciBWYWxpZGF0b3JSZXN1bHQgPSBleHBvcnRzLlZhbGlkYXRvclJlc3VsdCA9IGZ1bmN0aW9uIFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy5wYXRoID0gY3R4LnBhdGg7XG4gIHRoaXMucHJvcGVydHlQYXRoID0gY3R4LnByb3BlcnR5UGF0aDtcbiAgdGhpcy5lcnJvcnMgPSBbXTtcbiAgdGhpcy50aHJvd0Vycm9yID0gb3B0aW9ucyAmJiBvcHRpb25zLnRocm93RXJyb3I7XG4gIHRoaXMudGhyb3dGaXJzdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50aHJvd0ZpcnN0O1xuICB0aGlzLnRocm93QWxsID0gb3B0aW9ucyAmJiBvcHRpb25zLnRocm93QWxsO1xuICB0aGlzLmRpc2FibGVGb3JtYXQgPSBvcHRpb25zICYmIG9wdGlvbnMuZGlzYWJsZUZvcm1hdCA9PT0gdHJ1ZTtcbn07XG5cblZhbGlkYXRvclJlc3VsdC5wcm90b3R5cGUuYWRkRXJyb3IgPSBmdW5jdGlvbiBhZGRFcnJvcihkZXRhaWwpIHtcbiAgdmFyIGVycjtcbiAgaWYgKHR5cGVvZiBkZXRhaWwgPT0gJ3N0cmluZycpIHtcbiAgICBlcnIgPSBuZXcgVmFsaWRhdGlvbkVycm9yKGRldGFpbCwgdGhpcy5pbnN0YW5jZSwgdGhpcy5zY2hlbWEsIHRoaXMucGF0aCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFkZXRhaWwpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBlcnJvciBkZXRhaWwnKTtcbiAgICBpZiAoIWRldGFpbC5tZXNzYWdlKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgZXJyb3IgbWVzc2FnZScpO1xuICAgIGlmICghZGV0YWlsLm5hbWUpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB2YWxpZGF0b3IgdHlwZScpO1xuICAgIGVyciA9IG5ldyBWYWxpZGF0aW9uRXJyb3IoZGV0YWlsLm1lc3NhZ2UsIHRoaXMuaW5zdGFuY2UsIHRoaXMuc2NoZW1hLCB0aGlzLnBhdGgsIGRldGFpbC5uYW1lLCBkZXRhaWwuYXJndW1lbnQpO1xuICB9XG5cbiAgdGhpcy5lcnJvcnMucHVzaChlcnIpO1xuICBpZiAodGhpcy50aHJvd0ZpcnN0KSB7XG4gICAgdGhyb3cgbmV3IFZhbGlkYXRvclJlc3VsdEVycm9yKHRoaXMpO1xuICB9ZWxzZSBpZih0aGlzLnRocm93RXJyb3Ipe1xuICAgIHRocm93IGVycjtcbiAgfVxuICByZXR1cm4gZXJyO1xufTtcblxuVmFsaWRhdG9yUmVzdWx0LnByb3RvdHlwZS5pbXBvcnRFcnJvcnMgPSBmdW5jdGlvbiBpbXBvcnRFcnJvcnMocmVzKSB7XG4gIGlmICh0eXBlb2YgcmVzID09ICdzdHJpbmcnIHx8IChyZXMgJiYgcmVzLnZhbGlkYXRvclR5cGUpKSB7XG4gICAgdGhpcy5hZGRFcnJvcihyZXMpO1xuICB9IGVsc2UgaWYgKHJlcyAmJiByZXMuZXJyb3JzKSB7XG4gICAgdGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5jb25jYXQocmVzLmVycm9ycyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHN0cmluZ2l6ZXIgKHYsaSl7XG4gIHJldHVybiBpKyc6ICcrdi50b1N0cmluZygpKydcXG4nO1xufVxuVmFsaWRhdG9yUmVzdWx0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKHJlcykge1xuICByZXR1cm4gdGhpcy5lcnJvcnMubWFwKHN0cmluZ2l6ZXIpLmpvaW4oJycpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZhbGlkYXRvclJlc3VsdC5wcm90b3R5cGUsIFwidmFsaWRcIiwgeyBnZXQ6IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMuZXJyb3JzLmxlbmd0aDtcbn0gfSk7XG5cbm1vZHVsZS5leHBvcnRzLlZhbGlkYXRvclJlc3VsdEVycm9yID0gVmFsaWRhdG9yUmVzdWx0RXJyb3I7XG5mdW5jdGlvbiBWYWxpZGF0b3JSZXN1bHRFcnJvcihyZXN1bHQpIHtcbiAgaWYoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2Upe1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFZhbGlkYXRvclJlc3VsdEVycm9yKTtcbiAgfVxuICB0aGlzLmluc3RhbmNlID0gcmVzdWx0Lmluc3RhbmNlO1xuICB0aGlzLnNjaGVtYSA9IHJlc3VsdC5zY2hlbWE7XG4gIHRoaXMub3B0aW9ucyA9IHJlc3VsdC5vcHRpb25zO1xuICB0aGlzLmVycm9ycyA9IHJlc3VsdC5lcnJvcnM7XG59XG5WYWxpZGF0b3JSZXN1bHRFcnJvci5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblZhbGlkYXRvclJlc3VsdEVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZhbGlkYXRvclJlc3VsdEVycm9yO1xuVmFsaWRhdG9yUmVzdWx0RXJyb3IucHJvdG90eXBlLm5hbWUgPSBcIlZhbGlkYXRpb24gRXJyb3JcIjtcblxuLyoqXG4gKiBEZXNjcmliZXMgYSBwcm9ibGVtIHdpdGggYSBTY2hlbWEgd2hpY2ggcHJldmVudHMgdmFsaWRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICogQG5hbWUgU2NoZW1hRXJyb3JcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgU2NoZW1hRXJyb3IgPSBleHBvcnRzLlNjaGVtYUVycm9yID0gZnVuY3Rpb24gU2NoZW1hRXJyb3IgKG1zZywgc2NoZW1hKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1zZztcbiAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gIEVycm9yLmNhbGwodGhpcywgbXNnKTtcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgU2NoZW1hRXJyb3IpO1xufTtcblNjaGVtYUVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlLFxuICB7XG4gICAgY29uc3RydWN0b3I6IHt2YWx1ZTogU2NoZW1hRXJyb3IsIGVudW1lcmFibGU6IGZhbHNlfSxcbiAgICBuYW1lOiB7dmFsdWU6ICdTY2hlbWFFcnJvcicsIGVudW1lcmFibGU6IGZhbHNlfSxcbiAgfSk7XG5cbnZhciBTY2hlbWFDb250ZXh0ID0gZXhwb3J0cy5TY2hlbWFDb250ZXh0ID0gZnVuY3Rpb24gU2NoZW1hQ29udGV4dCAoc2NoZW1hLCBvcHRpb25zLCBwYXRoLCBiYXNlLCBzY2hlbWFzKSB7XG4gIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICBpZihBcnJheS5pc0FycmF5KHBhdGgpKXtcbiAgICB0aGlzLnBhdGggPSBwYXRoO1xuICAgIHRoaXMucHJvcGVydHlQYXRoID0gcGF0aC5yZWR1Y2UoZnVuY3Rpb24oc3VtLCBpdGVtKXtcbiAgICAgIHJldHVybiBzdW0gKyBtYWtlU3VmZml4KGl0ZW0pO1xuICAgIH0sICdpbnN0YW5jZScpO1xuICB9ZWxzZXtcbiAgICB0aGlzLnByb3BlcnR5UGF0aCA9IHBhdGg7XG4gIH1cbiAgdGhpcy5iYXNlID0gYmFzZTtcbiAgdGhpcy5zY2hlbWFzID0gc2NoZW1hcztcbn07XG5cblNjaGVtYUNvbnRleHQucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiByZXNvbHZlICh0YXJnZXQpIHtcbiAgcmV0dXJuIHVyaS5yZXNvbHZlKHRoaXMuYmFzZSwgdGFyZ2V0KTtcbn07XG5cblNjaGVtYUNvbnRleHQucHJvdG90eXBlLm1ha2VDaGlsZCA9IGZ1bmN0aW9uIG1ha2VDaGlsZChzY2hlbWEsIHByb3BlcnR5TmFtZSl7XG4gIHZhciBwYXRoID0gKHByb3BlcnR5TmFtZT09PXVuZGVmaW5lZCkgPyB0aGlzLnBhdGggOiB0aGlzLnBhdGguY29uY2F0KFtwcm9wZXJ0eU5hbWVdKTtcbiAgdmFyIGlkID0gc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG4gIHZhciBiYXNlID0gdXJpLnJlc29sdmUodGhpcy5iYXNlLCBpZHx8JycpO1xuICB2YXIgY3R4ID0gbmV3IFNjaGVtYUNvbnRleHQoc2NoZW1hLCB0aGlzLm9wdGlvbnMsIHBhdGgsIGJhc2UsIE9iamVjdC5jcmVhdGUodGhpcy5zY2hlbWFzKSk7XG4gIGlmKGlkICYmICFjdHguc2NoZW1hc1tiYXNlXSl7XG4gICAgY3R4LnNjaGVtYXNbYmFzZV0gPSBzY2hlbWE7XG4gIH1cbiAgcmV0dXJuIGN0eDtcbn07XG5cbnZhciBGT1JNQVRfUkVHRVhQUyA9IGV4cG9ydHMuRk9STUFUX1JFR0VYUFMgPSB7XG4gIC8vIDcuMy4xLiBEYXRlcywgVGltZXMsIGFuZCBEdXJhdGlvblxuICAnZGF0ZS10aW1lJzogL15cXGR7NH0tKD86MFswLTldezF9fDFbMC0yXXsxfSktKDNbMDFdfDBbMS05XXxbMTJdWzAtOV0pW3RUIF0oMlswLTRdfFswMV1bMC05XSk6KFswLTVdWzAtOV0pOig2MHxbMC01XVswLTldKShcXC5cXGQrKT8oW3paXXxbKy1dKFswLTVdWzAtOV0pOig2MHxbMC01XVswLTldKSkkLyxcbiAgJ2RhdGUnOiAvXlxcZHs0fS0oPzowWzAtOV17MX18MVswLTJdezF9KS0oM1swMV18MFsxLTldfFsxMl1bMC05XSkkLyxcbiAgJ3RpbWUnOiAvXigyWzAtNF18WzAxXVswLTldKTooWzAtNV1bMC05XSk6KDYwfFswLTVdWzAtOV0pJC8sXG4gICdkdXJhdGlvbic6IC9QKFRcXGQrKEgoXFxkK00oXFxkK1MpPyk/fE0oXFxkK1MpP3xTKXxcXGQrKER8TShcXGQrRCk/fFkoXFxkK00oXFxkK0QpPyk/KShUXFxkKyhIKFxcZCtNKFxcZCtTKT8pP3xNKFxcZCtTKT98UykpP3xcXGQrVykvaSxcblxuICAvLyA3LjMuMi4gRW1haWwgQWRkcmVzc2VzXG4gIC8vIFRPRE86IGZpeCB0aGUgZW1haWwgcHJvZHVjdGlvblxuICAnZW1haWwnOiAvXig/OltcXHdcXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC1cXC9cXD1cXD9cXF5cXGBcXHtcXHxcXH1cXH5dK1xcLikqW1xcd1xcIVxcI1xcJFxcJVxcJlxcJ1xcKlxcK1xcLVxcL1xcPVxcP1xcXlxcYFxce1xcfFxcfVxcfl0rQCg/Oig/Oig/OlthLXpBLVowLTldKD86W2EtekEtWjAtOVxcLV0oPyFcXC4pKXswLDYxfVthLXpBLVowLTldP1xcLikrW2EtekEtWjAtOV0oPzpbYS16QS1aMC05XFwtXSg/ISQpKXswLDYxfVthLXpBLVowLTldPyl8KD86XFxbKD86KD86WzAxXT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSlcXC4pezN9KD86WzAxXT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSlcXF0pKSQvLFxuICAnaWRuLWVtYWlsJzogL14oXCIoPzpbISMtXFxbXFxdLVxcdXsxMEZGRkZ9XXxcXFxcW1xcdCAtXFx1ezEwRkZGRn1dKSpcInxbISMtJyorXFwtLy05PT9BLVpcXF4tXFx1ezEwRkZGRn1dKD86XFwuP1shIy0nKitcXC0vLTk9P0EtWlxcXi1cXHV7MTBGRkZGfV0pKilAKFshIy0nKitcXC0vLTk9P0EtWlxcXi1cXHV7MTBGRkZGfV0oPzpcXC4/WyEjLScqK1xcLS8tOT0/QS1aXFxeLVxcdXsxMEZGRkZ9XSkqfFxcW1shLVpcXF4tXFx1ezEwRkZGRn1dKlxcXSkkL3UsXG5cbiAgLy8gNy4zLjMuIEhvc3RuYW1lc1xuXG4gIC8vIDcuMy40LiBJUCBBZGRyZXNzZXNcbiAgJ2lwLWFkZHJlc3MnOiAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KSQvLFxuICAvLyBGSVhNRSB3aGl0ZXNwYWNlIGlzIGludmFsaWRcbiAgJ2lwdjYnOiAvXlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC8sXG5cbiAgLy8gNy4zLjUuIFJlc291cmNlIElkZW50aWZpZXJzXG4gIC8vIFRPRE86IEEgbW9yZSBhY2N1cmF0ZSByZWd1bGFyIGV4cHJlc3Npb24gZm9yIFwidXJpXCIgZ29lczpcbiAgLy8gW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjooKC8oLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopPyk/KT8jKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8KC8oLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopP1svP118WyEkJi0uMC07PT8tWl9hLXp+XSl8Lz8lWzAtOUEtRmEtZl17Mn18WyEkJi0uMC07PT8tWl9hLXp+XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKigjKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSopP3wvKC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrKDpcXGQqKT98KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPzpcXGQqfFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPyk/KT9cbiAgJ3VyaSc6IC9eW2EtekEtWl1bYS16QS1aMC05Ky4tXSo6W15cXHNdKiQvLFxuICAndXJpLXJlZmVyZW5jZSc6IC9eKCgoKFtBLVphLXpdWytcXC0uMC05QS1aYS16XSooOiVbMC05QS1GYS1mXXsyfXw6WyEkJi0uMC07PT8tWl9hLXp+XXxbLz9dKXxcXD8pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6Pyk/KXwoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjopP1xcLygoJVswLTlBLUZhLWZdezJ9fFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopP1svP118WyEkJi0uMC07PT8tWl9hLXp+XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKnwoXFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fl0pK3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KSg6XFxkKik/KT8pKSMoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKnwoKFtBLVphLXpdWytcXC0uMC05QS1aYS16XSopPyVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUBffl18W0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKlshJCYtKiw7PUBffl0pKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUAtWl9hLXp+XSkqKCgoWy8/XSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqKT8jfFsvP10pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSopP3woW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKig6JVswLTlBLUZhLWZdezJ9fDpbISQmLS4wLTs9Py1aX2Eten5dfFsvP10pfFxcPykoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKnwoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjopP1xcLygoJVswLTlBLUZhLWZdezJ9fFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopP1svP118WyEkJi0uMC07PT8tWl9hLXp+XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKnxcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrKDpcXGQqKT98KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPzpcXGQqfFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPyk/fFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6Pyk/JC8sXG4gICdpcmknOiAvXlthLXpBLVpdW2EtekEtWjAtOSsuLV0qOlteXFxzXSokLyxcbiAgJ2lyaS1yZWZlcmVuY2UnOiAvXigoKChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qKDolWzAtOUEtRmEtZl17Mn18OlshJCYtLjAtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV18Wy8/XSl8XFw/KSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqfChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOj8pPyl8KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6KT9cXC8oKCVbMC05QS1GYS1mXXsyfXxcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT9bLz9dfFshJCYtLjAtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSp8KFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fi1cXHV7MTBGRkZGfV0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopPyk/KSkjKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSp8KChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qKT8lWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1AX34tXFx1ezEwRkZGRn1dfFtBLVphLXpdWytcXC0uMC05QS1aYS16XSpbISQmLSosOz1AX34tXFx1ezEwRkZGRn1dKSglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1ALVpfYS16fi1cXHV7MTBGRkZGfV0pKigoKFsvP10oJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKik/I3xbLz9dKSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqKT98KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSooOiVbMC05QS1GYS1mXXsyfXw6WyEkJi0uMC07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XXxbLz9dKXxcXD8pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSp8KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6KT9cXC8oKCVbMC05QS1GYS1mXXsyfXxcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT9bLz9dfFshJCYtLjAtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSp8XFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fi1cXHV7MTBGRkZGfV0pKyg6XFxkKik/fChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKyk/fFsuMC06QS1GYS1mXSspXFxdKT86XFxkKnxcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pP3xbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOj8pPyQvdSxcbiAgJ3V1aWQnOiAvXlswLTlBLUZdezh9LVswLTlBLUZdezR9LVswLTlBLUZdezR9LVswLTlBLUZdezR9LVswLTlBLUZdezEyfSQvaSxcblxuICAvLyA3LjMuNi4gdXJpLXRlbXBsYXRlXG4gICd1cmktdGVtcGxhdGUnOiAvKCVbMC05YS1mXXsyfXxbISMkJigtOz0/QFxcW1xcXV9hLXp+XXxcXHtbISMmKywuLzs9P0B8XT8oJVswLTlhLWZdezJ9fFswLTlfYS16XSkoXFwuPyglWzAtOWEtZl17Mn18WzAtOV9hLXpdKSkqKDpbMS05XVxcZHswLDN9fFxcKik/KCwoJVswLTlhLWZdezJ9fFswLTlfYS16XSkoXFwuPyglWzAtOWEtZl17Mn18WzAtOV9hLXpdKSkqKDpbMS05XVxcZHswLDN9fFxcKik/KSpcXH0pKi9pdSxcblxuICAvLyA3LjMuNy4gSlNPTiBQb2ludGVyc1xuICAnanNvbi1wb2ludGVyJzogL14oXFwvKFtcXHgwMC1cXHgyZTAtQFxcWy19XFx4N2ZdfH5bMDFdKSopKiQvaXUsXG4gICdyZWxhdGl2ZS1qc29uLXBvaW50ZXInOiAvXlxcZCsoI3woXFwvKFtcXHgwMC1cXHgyZTAtQFxcWy19XFx4N2ZdfH5bMDFdKSopKikkL2l1LFxuXG4gIC8vIGhvc3RuYW1lIHJlZ2V4IGZyb206IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE0MjAyMjUvNTYyOFxuICAnaG9zdG5hbWUnOiAvXig/PS57MSwyNTV9JClbMC05QS1aYS16XSg/Oig/OlswLTlBLVphLXpdfC0pezAsNjF9WzAtOUEtWmEtel0pPyg/OlxcLlswLTlBLVphLXpdKD86KD86WzAtOUEtWmEtel18LSl7MCw2MX1bMC05QS1aYS16XSk/KSpcXC4/JC8sXG4gICdob3N0LW5hbWUnOiAvXig/PS57MSwyNTV9JClbMC05QS1aYS16XSg/Oig/OlswLTlBLVphLXpdfC0pezAsNjF9WzAtOUEtWmEtel0pPyg/OlxcLlswLTlBLVphLXpdKD86KD86WzAtOUEtWmEtel18LSl7MCw2MX1bMC05QS1aYS16XSk/KSpcXC4/JC8sXG5cbiAgJ3V0Yy1taWxsaXNlYyc6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHJldHVybiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykgJiYgcGFyc2VGbG9hdChpbnB1dCkgPT09IHBhcnNlSW50KGlucHV0LCAxMCkgJiYgIWlzTmFOKGlucHV0KTtcbiAgfSxcblxuICAvLyA3LjMuOC4gcmVnZXhcbiAgJ3JlZ2V4JzogZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIG5ldyBSZWdFeHAoaW5wdXQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG4gIC8vIE90aGVyIGRlZmluaXRpb25zXG4gIC8vIFwic3R5bGVcIiB3YXMgcmVtb3ZlZCBmcm9tIEpTT04gU2NoZW1hIGluIGRyYWZ0LTQgYW5kIGlzIGRlcHJlY2F0ZWRcbiAgJ3N0eWxlJzogL1tcXHJcXG5cXHQgXSpbXlxcclxcblxcdCBdW146XSo6W1xcclxcblxcdCBdKlteXFxyXFxuXFx0IDtdKltcXHJcXG5cXHQgXSo7Py8sXG4gIC8vIFwiY29sb3JcIiB3YXMgcmVtb3ZlZCBmcm9tIEpTT04gU2NoZW1hIGluIGRyYWZ0LTQgYW5kIGlzIGRlcHJlY2F0ZWRcbiAgJ2NvbG9yJzogL14oIz8oWzAtOUEtRmEtZl17M30pezEsMn1cXGJ8YXF1YXxibGFja3xibHVlfGZ1Y2hzaWF8Z3JheXxncmVlbnxsaW1lfG1hcm9vbnxuYXZ5fG9saXZlfG9yYW5nZXxwdXJwbGV8cmVkfHNpbHZlcnx0ZWFsfHdoaXRlfHllbGxvd3wocmdiXFwoXFxzKlxcYihbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pXFxiXFxzKixcXHMqXFxiKFswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSlcXGJcXHMqLFxccypcXGIoWzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKVxcYlxccypcXCkpfChyZ2JcXChcXHMqKFxcZD9cXGQlfDEwMCUpK1xccyosXFxzKihcXGQ/XFxkJXwxMDAlKStcXHMqLFxccyooXFxkP1xcZCV8MTAwJSkrXFxzKlxcKSkpJC8sXG4gICdwaG9uZSc6IC9eXFwrKD86WzAtOV0gPyl7NiwxNH1bMC05XSQvLFxuICAnYWxwaGEnOiAvXlthLXpBLVpdKyQvLFxuICAnYWxwaGFudW1lcmljJzogL15bYS16QS1aMC05XSskLyxcbn07XG5cbkZPUk1BVF9SRUdFWFBTLnJlZ2V4cCA9IEZPUk1BVF9SRUdFWFBTLnJlZ2V4O1xuRk9STUFUX1JFR0VYUFMucGF0dGVybiA9IEZPUk1BVF9SRUdFWFBTLnJlZ2V4O1xuRk9STUFUX1JFR0VYUFMuaXB2NCA9IEZPUk1BVF9SRUdFWFBTWydpcC1hZGRyZXNzJ107XG5cbmV4cG9ydHMuaXNGb3JtYXQgPSBmdW5jdGlvbiBpc0Zvcm1hdCAoaW5wdXQsIGZvcm1hdCwgdmFsaWRhdG9yKSB7XG4gIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnICYmIEZPUk1BVF9SRUdFWFBTW2Zvcm1hdF0gIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChGT1JNQVRfUkVHRVhQU1tmb3JtYXRdIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICByZXR1cm4gRk9STUFUX1JFR0VYUFNbZm9ybWF0XS50ZXN0KGlucHV0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBGT1JNQVRfUkVHRVhQU1tmb3JtYXRdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gRk9STUFUX1JFR0VYUFNbZm9ybWF0XShpbnB1dCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHZhbGlkYXRvciAmJiB2YWxpZGF0b3IuY3VzdG9tRm9ybWF0cyAmJlxuICAgICAgdHlwZW9mIHZhbGlkYXRvci5jdXN0b21Gb3JtYXRzW2Zvcm1hdF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdmFsaWRhdG9yLmN1c3RvbUZvcm1hdHNbZm9ybWF0XShpbnB1dCk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgbWFrZVN1ZmZpeCA9IGV4cG9ydHMubWFrZVN1ZmZpeCA9IGZ1bmN0aW9uIG1ha2VTdWZmaXggKGtleSkge1xuICBrZXkgPSBrZXkudG9TdHJpbmcoKTtcbiAgLy8gVGhpcyBmdW5jdGlvbiBjb3VsZCBiZSBjYXBhYmxlIG9mIG91dHB1dHRpbmcgdmFsaWQgYSBFQ01BU2NyaXB0IHN0cmluZywgYnV0IHRoZVxuICAvLyByZXN1bHRpbmcgY29kZSBmb3IgdGVzdGluZyB3aGljaCBmb3JtIHRvIHVzZSB3b3VsZCBiZSB0ZW5zIG9mIHRob3VzYW5kcyBvZiBjaGFyYWN0ZXJzIGxvbmdcbiAgLy8gVGhhdCBtZWFucyB0aGlzIHdpbGwgdXNlIHRoZSBuYW1lIGZvcm0gZm9yIHNvbWUgaWxsZWdhbCBmb3Jtc1xuICBpZiAoIWtleS5tYXRjaCgvWy5cXHNcXFtcXF1dLykgJiYgIWtleS5tYXRjaCgvXltcXGRdLykpIHtcbiAgICByZXR1cm4gJy4nICsga2V5O1xuICB9XG4gIGlmIChrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgcmV0dXJuICdbJyArIGtleSArICddJztcbiAgfVxuICByZXR1cm4gJ1snICsgSlNPTi5zdHJpbmdpZnkoa2V5KSArICddJztcbn07XG5cbmV4cG9ydHMuZGVlcENvbXBhcmVTdHJpY3QgPSBmdW5jdGlvbiBkZWVwQ29tcGFyZVN0cmljdCAoYSwgYikge1xuICBpZiAodHlwZW9mIGEgIT09IHR5cGVvZiBiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGEuZXZlcnkoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZVN0cmljdChhW2ldLCBiW2ldKTtcbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKCFhIHx8ICFiKSB7XG4gICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICB9XG4gICAgdmFyIGFLZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgdmFyIGJLZXlzID0gT2JqZWN0LmtleXMoYik7XG4gICAgaWYgKGFLZXlzLmxlbmd0aCAhPT0gYktleXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhS2V5cy5ldmVyeShmdW5jdGlvbiAodikge1xuICAgICAgcmV0dXJuIGRlZXBDb21wYXJlU3RyaWN0KGFbdl0sIGJbdl0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBhID09PSBiO1xufTtcblxuZnVuY3Rpb24gZGVlcE1lcmdlciAodGFyZ2V0LCBkc3QsIGUsIGkpIHtcbiAgaWYgKHR5cGVvZiBlID09PSAnb2JqZWN0Jykge1xuICAgIGRzdFtpXSA9IGRlZXBNZXJnZSh0YXJnZXRbaV0sIGUpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0YXJnZXQuaW5kZXhPZihlKSA9PT0gLTEpIHtcbiAgICAgIGRzdC5wdXNoKGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5aXN0IChzcmMsIGRzdCwga2V5KSB7XG4gIGRzdFtrZXldID0gc3JjW2tleV07XG59XG5cbmZ1bmN0aW9uIGNvcHlpc3RXaXRoRGVlcE1lcmdlICh0YXJnZXQsIHNyYywgZHN0LCBrZXkpIHtcbiAgaWYgKHR5cGVvZiBzcmNba2V5XSAhPT0gJ29iamVjdCcgfHwgIXNyY1trZXldKSB7XG4gICAgZHN0W2tleV0gPSBzcmNba2V5XTtcbiAgfVxuICBlbHNlIHtcbiAgICBpZiAoIXRhcmdldFtrZXldKSB7XG4gICAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICBkc3Rba2V5XSA9IGRlZXBNZXJnZSh0YXJnZXRba2V5XSwgc3JjW2tleV0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkZWVwTWVyZ2UgKHRhcmdldCwgc3JjKSB7XG4gIHZhciBhcnJheSA9IEFycmF5LmlzQXJyYXkoc3JjKTtcbiAgdmFyIGRzdCA9IGFycmF5ICYmIFtdIHx8IHt9O1xuXG4gIGlmIChhcnJheSkge1xuICAgIHRhcmdldCA9IHRhcmdldCB8fCBbXTtcbiAgICBkc3QgPSBkc3QuY29uY2F0KHRhcmdldCk7XG4gICAgc3JjLmZvckVhY2goZGVlcE1lcmdlci5iaW5kKG51bGwsIHRhcmdldCwgZHN0KSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRhcmdldCAmJiB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0Jykge1xuICAgICAgT2JqZWN0LmtleXModGFyZ2V0KS5mb3JFYWNoKGNvcHlpc3QuYmluZChudWxsLCB0YXJnZXQsIGRzdCkpO1xuICAgIH1cbiAgICBPYmplY3Qua2V5cyhzcmMpLmZvckVhY2goY29weWlzdFdpdGhEZWVwTWVyZ2UuYmluZChudWxsLCB0YXJnZXQsIHNyYywgZHN0KSk7XG4gIH1cblxuICByZXR1cm4gZHN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cy5kZWVwTWVyZ2UgPSBkZWVwTWVyZ2U7XG5cbi8qKlxuICogVmFsaWRhdGVzIGluc3RhbmNlIGFnYWluc3QgdGhlIHByb3ZpZGVkIHNjaGVtYVxuICogSW1wbGVtZW50cyBVUkkrSlNPTiBQb2ludGVyIGVuY29kaW5nLCBlLmcuIFwiJTdlXCI9XCJ+MFwiPT5cIn5cIiwgXCJ+MVwiPVwiJTJmXCI9PlwiL1wiXG4gKiBAcGFyYW0gb1xuICogQHBhcmFtIHMgVGhlIHBhdGggdG8gd2FsayBvIGFsb25nXG4gKiBAcmV0dXJuIGFueVxuICovXG5leHBvcnRzLm9iamVjdEdldFBhdGggPSBmdW5jdGlvbiBvYmplY3RHZXRQYXRoKG8sIHMpIHtcbiAgdmFyIHBhcnRzID0gcy5zcGxpdCgnLycpLnNsaWNlKDEpO1xuICB2YXIgaztcbiAgd2hpbGUgKHR5cGVvZiAoaz1wYXJ0cy5zaGlmdCgpKSA9PSAnc3RyaW5nJykge1xuICAgIHZhciBuID0gZGVjb2RlVVJJQ29tcG9uZW50KGsucmVwbGFjZSgvfjAvLCd+JykucmVwbGFjZSgvfjEvZywnLycpKTtcbiAgICBpZiAoIShuIGluIG8pKSByZXR1cm47XG4gICAgbyA9IG9bbl07XG4gIH1cbiAgcmV0dXJuIG87XG59O1xuXG5mdW5jdGlvbiBwYXRoRW5jb2RlciAodikge1xuICByZXR1cm4gJy8nK2VuY29kZVVSSUNvbXBvbmVudCh2KS5yZXBsYWNlKC9+L2csJyU3RScpO1xufVxuLyoqXG4gKiBBY2NlcHQgYW4gQXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHJldHVybiBhIEpTT04gUG9pbnRlciBVUkkgZnJhZ21lbnRcbiAqIEBwYXJhbSBBcnJheSBhXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmV4cG9ydHMuZW5jb2RlUGF0aCA9IGZ1bmN0aW9uIGVuY29kZVBvaW50ZXIoYSl7XG4gIC8vIH4gbXVzdCBiZSBlbmNvZGVkIGV4cGxpY2l0bHkgYmVjYXVzZSBoYWNrc1xuICAvLyB0aGUgc2xhc2ggaXMgZW5jb2RlZCBieSBlbmNvZGVVUklDb21wb25lbnRcbiAgcmV0dXJuIGEubWFwKHBhdGhFbmNvZGVyKS5qb2luKCcnKTtcbn07XG5cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBhIG51bWJlciB1c2VzXG4gKiBXZSBuZWVkIHRoaXMgdG8gZ2V0IGNvcnJlY3QgcmVzdWx0cyBvdXQgb2YgbXVsdGlwbGVPZiBhbmQgZGl2aXNpYmxlQnlcbiAqIHdoZW4gZWl0aGVyIGZpZ3VyZSBpcyBoYXMgZGVjaW1hbCBwbGFjZXMsIGR1ZSB0byBJRUVFLTc1NCBmbG9hdCBpc3N1ZXMuXG4gKiBAcGFyYW0gbnVtYmVyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnRzLmdldERlY2ltYWxQbGFjZXMgPSBmdW5jdGlvbiBnZXREZWNpbWFsUGxhY2VzKG51bWJlcikge1xuXG4gIHZhciBkZWNpbWFsUGxhY2VzID0gMDtcbiAgaWYgKGlzTmFOKG51bWJlcikpIHJldHVybiBkZWNpbWFsUGxhY2VzO1xuXG4gIGlmICh0eXBlb2YgbnVtYmVyICE9PSAnbnVtYmVyJykge1xuICAgIG51bWJlciA9IE51bWJlcihudW1iZXIpO1xuICB9XG5cbiAgdmFyIHBhcnRzID0gbnVtYmVyLnRvU3RyaW5nKCkuc3BsaXQoJ2UnKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgIGlmIChwYXJ0c1sxXVswXSAhPT0gJy0nKSB7XG4gICAgICByZXR1cm4gZGVjaW1hbFBsYWNlcztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVjaW1hbFBsYWNlcyA9IE51bWJlcihwYXJ0c1sxXS5zbGljZSgxKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGRlY2ltYWxQYXJ0cyA9IHBhcnRzWzBdLnNwbGl0KCcuJyk7XG4gIGlmIChkZWNpbWFsUGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgZGVjaW1hbFBsYWNlcyArPSBkZWNpbWFsUGFydHNbMV0ubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIGRlY2ltYWxQbGFjZXM7XG59O1xuXG5leHBvcnRzLmlzU2NoZW1hID0gZnVuY3Rpb24gaXNTY2hlbWEodmFsKXtcbiAgcmV0dXJuICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwpIHx8ICh0eXBlb2YgdmFsID09PSAnYm9vbGVhbicpO1xufTtcblxuIiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG52YXIgZ2V0UmFuZG9tVmFsdWVzO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uIEFsc28sXG4gICAgLy8gZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIChtc0NyeXB0bykgb24gSUUxMS5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pIHx8IHR5cGVvZiBtc0NyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7XG5cbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTdHJpbmdpZnkvcGFyc2UgZnVuY3Rpb25zIHRoYXQgZG9uJ3Qgb3BlcmF0ZVxuICogcmVjdXJzaXZlbHksIHNvIHRoZXkgYXZvaWQgY2FsbCBzdGFjayBleGNlZWRlZFxuICogZXJyb3JzLlxuICovXG5leHBvcnRzLnN0cmluZ2lmeSA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpbnB1dCkge1xuICB2YXIgcXVldWUgPSBbXTtcbiAgcXVldWUucHVzaCh7b2JqOiBpbnB1dH0pO1xuXG4gIHZhciByZXMgPSAnJztcbiAgdmFyIG5leHQsIG9iaiwgcHJlZml4LCB2YWwsIGksIGFycmF5UHJlZml4LCBrZXlzLCBrLCBrZXksIHZhbHVlLCBvYmpQcmVmaXg7XG4gIHdoaWxlICgobmV4dCA9IHF1ZXVlLnBvcCgpKSkge1xuICAgIG9iaiA9IG5leHQub2JqO1xuICAgIHByZWZpeCA9IG5leHQucHJlZml4IHx8ICcnO1xuICAgIHZhbCA9IG5leHQudmFsIHx8ICcnO1xuICAgIHJlcyArPSBwcmVmaXg7XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmVzICs9IHZhbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICByZXMgKz0gdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgcmVzICs9ICdudWxsJztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgcXVldWUucHVzaCh7dmFsOiAnXSd9KTtcbiAgICAgIGZvciAoaSA9IG9iai5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBhcnJheVByZWZpeCA9IGkgPT09IDAgPyAnJyA6ICcsJztcbiAgICAgICAgcXVldWUucHVzaCh7b2JqOiBvYmpbaV0sIHByZWZpeDogYXJyYXlQcmVmaXh9KTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ1snfSk7XG4gICAgfSBlbHNlIHsgLy8gb2JqZWN0XG4gICAgICBrZXlzID0gW107XG4gICAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICBrZXlzLnB1c2goayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ30nfSk7XG4gICAgICBmb3IgKGkgPSBrZXlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgIHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgIG9ialByZWZpeCA9IChpID4gMCA/ICcsJyA6ICcnKTtcbiAgICAgICAgb2JqUHJlZml4ICs9IEpTT04uc3RyaW5naWZ5KGtleSkgKyAnOic7XG4gICAgICAgIHF1ZXVlLnB1c2goe29iajogdmFsdWUsIHByZWZpeDogb2JqUHJlZml4fSk7XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICd7J30pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblxuLy8gQ29udmVuaWVuY2UgZnVuY3Rpb24gZm9yIHRoZSBwYXJzZSBmdW5jdGlvbi5cbi8vIFRoaXMgcG9wIGZ1bmN0aW9uIGlzIGJhc2ljYWxseSBjb3BpZWQgZnJvbVxuLy8gcG91Y2hDb2xsYXRlLnBhcnNlSW5kZXhhYmxlU3RyaW5nXG5mdW5jdGlvbiBwb3Aob2JqLCBzdGFjaywgbWV0YVN0YWNrKSB7XG4gIHZhciBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICBpZiAob2JqID09PSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudCkge1xuICAgIC8vIHBvcHBpbmcgYSBtZXRhLWVsZW1lbnQsIGUuZy4gYW4gb2JqZWN0IHdob3NlIHZhbHVlIGlzIGFub3RoZXIgb2JqZWN0XG4gICAgbWV0YVN0YWNrLnBvcCgpO1xuICAgIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gIH1cbiAgdmFyIGVsZW1lbnQgPSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudDtcbiAgdmFyIGxhc3RFbGVtZW50SW5kZXggPSBsYXN0TWV0YUVsZW1lbnQuaW5kZXg7XG4gIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgZWxlbWVudC5wdXNoKG9iaik7XG4gIH0gZWxzZSBpZiAobGFzdEVsZW1lbnRJbmRleCA9PT0gc3RhY2subGVuZ3RoIC0gMikgeyAvLyBvYmogd2l0aCBrZXkrdmFsdWVcbiAgICB2YXIga2V5ID0gc3RhY2sucG9wKCk7XG4gICAgZWxlbWVudFtrZXldID0gb2JqO1xuICB9IGVsc2Uge1xuICAgIHN0YWNrLnB1c2gob2JqKTsgLy8gb2JqIHdpdGgga2V5IG9ubHlcbiAgfVxufVxuXG5leHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gKHN0cikge1xuICB2YXIgc3RhY2sgPSBbXTtcbiAgdmFyIG1ldGFTdGFjayA9IFtdOyAvLyBzdGFjayBmb3IgYXJyYXlzIGFuZCBvYmplY3RzXG4gIHZhciBpID0gMDtcbiAgdmFyIGNvbGxhdGlvbkluZGV4LHBhcnNlZE51bSxudW1DaGFyO1xuICB2YXIgcGFyc2VkU3RyaW5nLGxhc3RDaCxudW1Db25zZWN1dGl2ZVNsYXNoZXMsY2g7XG4gIHZhciBhcnJheUVsZW1lbnQsIG9iakVsZW1lbnQ7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29sbGF0aW9uSW5kZXggPSBzdHJbaSsrXTtcbiAgICBpZiAoY29sbGF0aW9uSW5kZXggPT09ICd9JyB8fFxuICAgICAgICBjb2xsYXRpb25JbmRleCA9PT0gJ10nIHx8XG4gICAgICAgIHR5cGVvZiBjb2xsYXRpb25JbmRleCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9wKHN0YWNrLnBvcCgpLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoY29sbGF0aW9uSW5kZXgpIHtcbiAgICAgIGNhc2UgJyAnOlxuICAgICAgY2FzZSAnXFx0JzpcbiAgICAgIGNhc2UgJ1xcbic6XG4gICAgICBjYXNlICc6JzpcbiAgICAgIGNhc2UgJywnOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ24nOlxuICAgICAgICBpICs9IDM7IC8vICd1bGwnXG4gICAgICAgIHBvcChudWxsLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0JzpcbiAgICAgICAgaSArPSAzOyAvLyAncnVlJ1xuICAgICAgICBwb3AodHJ1ZSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZic6XG4gICAgICAgIGkgKz0gNDsgLy8gJ2Fsc2UnXG4gICAgICAgIHBvcChmYWxzZSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMCc6XG4gICAgICBjYXNlICcxJzpcbiAgICAgIGNhc2UgJzInOlxuICAgICAgY2FzZSAnMyc6XG4gICAgICBjYXNlICc0JzpcbiAgICAgIGNhc2UgJzUnOlxuICAgICAgY2FzZSAnNic6XG4gICAgICBjYXNlICc3JzpcbiAgICAgIGNhc2UgJzgnOlxuICAgICAgY2FzZSAnOSc6XG4gICAgICBjYXNlICctJzpcbiAgICAgICAgcGFyc2VkTnVtID0gJyc7XG4gICAgICAgIGktLTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBudW1DaGFyID0gc3RyW2krK107XG4gICAgICAgICAgaWYgKC9bXFxkXFwuXFwtZVxcK10vLnRlc3QobnVtQ2hhcikpIHtcbiAgICAgICAgICAgIHBhcnNlZE51bSArPSBudW1DaGFyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcG9wKHBhcnNlRmxvYXQocGFyc2VkTnVtKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnXCInOlxuICAgICAgICBwYXJzZWRTdHJpbmcgPSAnJztcbiAgICAgICAgbGFzdENoID0gdm9pZCAwO1xuICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMgPSAwO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGNoID0gc3RyW2krK107XG4gICAgICAgICAgaWYgKGNoICE9PSAnXCInIHx8IChsYXN0Q2ggPT09ICdcXFxcJyAmJlxuICAgICAgICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMgJSAyID09PSAxKSkge1xuICAgICAgICAgICAgcGFyc2VkU3RyaW5nICs9IGNoO1xuICAgICAgICAgICAgbGFzdENoID0gY2g7XG4gICAgICAgICAgICBpZiAobGFzdENoID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcG9wKEpTT04ucGFyc2UoJ1wiJyArIHBhcnNlZFN0cmluZyArICdcIicpLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdbJzpcbiAgICAgICAgYXJyYXlFbGVtZW50ID0geyBlbGVtZW50OiBbXSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKGFycmF5RWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2goYXJyYXlFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd7JzpcbiAgICAgICAgb2JqRWxlbWVudCA9IHsgZWxlbWVudDoge30sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChvYmpFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChvYmpFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ3VuZXhwZWN0ZWRseSByZWFjaGVkIGVuZCBvZiBpbnB1dDogJyArIGNvbGxhdGlvbkluZGV4KTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpOyAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBybmRzW2ldO1xuICAgIH1cblxuICAgIHJldHVybiBidWY7XG4gIH1cblxuICByZXR1cm4gc3RyaW5naWZ5KHJuZHMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2NDsiLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRHJhZ0FjdGlvbiwgRWRpdG9yQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQkJveCwgaXNPdXRPZlNWR0JvdW5kcywgZ2V0R2x5cGhCQm94IH0gZnJvbSAnLi9Db29yZGluYXRlcyc7XG5pbXBvcnQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4vTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IHNlbGVjdEFsbCwgc2VsZWN0QkJveCwgc2VsZWN0U3RhZmYgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuY2xhc3MgRHJhZ0hhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHByaXZhdGUgc2VsZWN0b3I6IHN0cmluZztcbiAgcHJpdmF0ZSBzZWxlY3Rpb246IFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICBwcml2YXRlIG5vTW92ZVByZWNlZGVzOiBTVkdHcmFwaGljc0VsZW1lbnRbXTtcblxuICBwcml2YXRlIGRyYWdTdGFydENvb3JkczogW251bWJlciwgbnVtYmVyXSA9IFstMSwgLTFdO1xuICBwcml2YXRlIHJlc2V0VG9BY3Rpb246IChzZWxlY3Rpb246IGQzLlNlbGVjdGlvbjxkMy5CYXNlVHlwZSwgdW5rbm93biwgSFRNTEVsZW1lbnQsIHVua25vd24+LCBhcmdzOiB1bmtub3duW10pID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSBkeDogbnVtYmVyO1xuICBwcml2YXRlIGR5OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIENTUyBzZWxlY3RvciBvZiBlbGVtZW50IHRvIGFwcGx5IGRyYWcgaGFuZGxlciB0by5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIHNlbGVjdG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGRyYWdnaW5nIGFjdGlvbiBhbmQgaGFuZGxlciBmb3Igc2VsZWN0ZWQgZWxlbWVudHMuXG4gICAqL1xuICBkcmFnSW5pdCAoKTogdm9pZCB7XG4gICAgLy8gRHJhZyBlZmZlY3RzXG4gICAgZnVuY3Rpb24gZHJhZ1N0YXJ0ZWQgKCk6IHZvaWQge1xuICAgICAgdGhpcy5kcmFnU3RhcnRDb29yZHMgPSBbZDMuZXZlbnQueCwgZDMuZXZlbnQueV07XG4gICAgICB0aGlzLmR4ID0gMDtcbiAgICAgIHRoaXMuZHkgPSAwO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0O1xuICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMuc2VsZWN0b3IpLmNhbGwoZHJhZ0JlaGF2aW91cik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkaW5nIGxpc3RlbmVyc1xuICAgIGNvbnN0IGRyYWdCZWhhdmlvdXIgPSBkMy5kcmFnKClcbiAgICAgIC5vbignc3RhcnQnLCBkcmFnU3RhcnRlZC5iaW5kKHRoaXMpKVxuICAgICAgLm9uKCdkcmFnJywgdGhpcy5kcmFnZ2luZy5iaW5kKHRoaXMpKVxuICAgICAgLm9uKCdlbmQnLCB0aGlzLmRyYWdFbmRlZC5iaW5kKHRoaXMpKTtcblxuICAgIGNvbnN0IGFjdGl2ZU5jID0gZDMuc2VsZWN0QWxsKCcuc2VsZWN0ZWQnKTtcbiAgICBhY3RpdmVOYy5jYWxsKGRyYWdCZWhhdmlvdXIpO1xuXG4gICAgbGV0IHNlbGVjdGlvbiA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxTVkdHcmFwaGljc0VsZW1lbnQ+KCcuc2VsZWN0ZWQnKSk7XG5cbiAgICAvLyBpZiB0aGUgdXNlciBkcmFncyB0aGUgZm9sbG93cyBzeWxsYWJsZSBpbiBhIHRvZ2dsZS1saW5rZWQgc3lsbGFibGUsIFxuICAgIC8vIGNhbmNlbCB0aGUgY29tcGVuc2F0aW9uIGZvciBzeWwgbW92ZW1lbnQgaW4gZHJhZ2dpbmcuXG4gICAgdGhpcy5ub01vdmVQcmVjZWRlcyA9IHNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW1vdmluZycpICYmIGVsLmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpO1xuICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5maWx0ZXIoZWwgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygnbm8tbW92aW5nJykpO1xuXG4gICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb24uY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxTVkdHcmFwaGljc0VsZW1lbnQ+KCcucmVzaXplUG9pbnQnKSkpO1xuICB9XG5cbiAgZHJhZ2dpbmcgKCk6IHZvaWQge1xuICAgIHRoaXMuZHggPSBkMy5ldmVudC54IC0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMF07XG4gICAgdGhpcy5keSA9IGQzLmV2ZW50LnkgLSB0aGlzLmRyYWdTdGFydENvb3Jkc1sxXTtcblxuICAgIHRoaXMubW92ZUVsZW1lbnRzKHRoaXMuc2VsZWN0aW9uLCB0aGlzLmR4LCB0aGlzLmR5KTtcblxuICAgIC8qXG4gICAgICogaWYgd2UncmUgZHJhZ2dpbmcgYSBzeWxsYWJsZSAob3IgbmV1bWUgZXRjKSB0aGVuIHRoZXJlIHdvbid0IGJlIGEgc3lsIHNlbGVjdGVkXG4gICAgICogdGhlbiB3ZSBkb24ndCB3YW50IHRoZSBib3VuZGluZyBib3ggKGlmIGl0IGlzIGRpc3BsYXllZCkgdG8gbW92ZSB3aGVuIGRyYWdnaW5nIHRoZSBuZXVtZXNcbiAgICAgKiBpdCB3aWxsIGJlIGEgY2hpbGQgb2YgdGhlIGVsZW1lbnQgaW4gc2VsZWN0aW9uLCBzbyBpdCB3aWxsIGdldCBtb3ZlZCBpbiB0aGUgYWJvdmUgbG9vcFxuICAgICAqIHNvIHdlIGNhbmNlbCB0aGF0IG1vdmVtZW50IG91dCBoZXJlXG4gICAgICovXG4gICAgY29uc3Qgc3lscyA9IHRoaXMuc2VsZWN0aW9uLmZpbHRlcigoZWwpID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpO1xuICAgIGlmIChzeWxzLmxlbmd0aCA9PT0gMCAmJiB0aGlzLm5vTW92ZVByZWNlZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgYmJveGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUuc2VsZWN0ZWQnKSlcbiAgICAgICAgLm1hcChlbCA9PiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpKTtcbiAgICAgIHRoaXMubW92ZUVsZW1lbnRzKGJib3hlcywgLXRoaXMuZHgsIC10aGlzLmR5KTtcbiAgICB9XG4gIH1cblxuXG4gIGRyYWdFbmRlZCAoKTogdm9pZCB7XG4gICAgLy8gSWYgdGhlIHNlbGVjdGlvbiBoYXMgbm90IGJlZW4gbW92ZWQgbW9yZSB0aGFuIDUgcGl4ZWxzIGluIGFueSBkaXJlY3Rpb24sXG4gICAgLy8gZG8gbm90IGRvIGFueSBhY3Rpb25cbiAgICBjb25zdCB4RGlmZiA9IE1hdGguYWJzKHRoaXMuZHgpLCB5RGlmZiA9IE1hdGguYWJzKHRoaXMuZHkpO1xuICAgIGlmICh4RGlmZiA8PSA1ICYmIHlEaWZmIDw9IDUpIHtcbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXIgc2VsZWN0aW9uIGZvciBkcmFnZ2FibGUgZWxlbWVudHNcbiAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNpemVQb2ludCcpKTtcblxuICAgIC8vIElmIHRoZSBjdXJzb3IgaXMgb3V0IG9mIGJvdW5kcyBvciB0aGUgc2VsZWN0aW9uIGFycmF5IGlzIG91dCBvZiBib3VuZHMsXG4gICAgLy8gZHJhZyBhY3Rpb25zIHNob3VsZCBub3QgaGFwcGVuLiBSZXR1cm4gYW4gZXJyb3Igbm90aWZpY2F0aW9uIGFuZCByZXNldFxuICAgIC8vIHRoZSBkcmFnIGhhbmRsZXJcbiAgICBpZiAodGhpcy5pc0N1cnNvck91dE9mQm91bmRzKCkgfHwgdGhpcy5pc0RyYWdPdXRPZkJvdW5kcyhzZWxlY3Rpb24pKSB7XG4gICAgICAvLyBSZXR1cm4gdGhlIHNlbGVjdGlvbiBiYWNrIHRvIG5vcm1hbCBzdGF0ZVxuICAgICAgdGhpcy5yZXR1cm5FbGVtZW50cyh0aGlzLnNlbGVjdGlvbik7XG5cbiAgICAgIC8vIFJldHVybiB0aGUgYm91bmRpbmcgYm94ZXMgYXMgd2VsbFxuICAgICAgY29uc3QgYmJveGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUuc2VsZWN0ZWQnKSlcbiAgICAgICAgLm1hcChlbCA9PiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpKTtcbiAgICAgIHRoaXMucmV0dXJuRWxlbWVudHMoYmJveGVzKTtcblxuICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgdGhpcy5kcmFnSW5pdCgpO1xuICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIERyYWcgYWN0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdGhlIGNoYWluIGVkaXRvciBhY3Rpb24gZm9yIHNlbGVjdGlvblxuICAgIGNvbnN0IHBhcmFtQXJyYXk6IEVkaXRvckFjdGlvbltdID0gW107XG4gICAgc2VsZWN0aW9uLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBjb25zdCBpZCA9IGVsLnRhZ05hbWUgPT09ICdyZWN0JyA/IGVsLmNsb3Nlc3QoJy5zeWwnKS5pZCA6IGVsLmlkO1xuXG4gICAgICBjb25zdCBkcmFnQWN0aW9uOiBEcmFnQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdkcmFnJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICAgIHg6IHRoaXMuZHgsXG4gICAgICAgICAgeTogLXRoaXMuZHksXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHBhcmFtQXJyYXkucHVzaChkcmFnQWN0aW9uKTtcbiAgICB9KTtcbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgIHBhcmFtOiBwYXJhbUFycmF5XG4gICAgfTtcblxuICAgIC8vIFNlbmQgZWRpdG9yIGFjdGlvblxuICAgIHRoaXMubmVvblZpZXdcbiAgICAgIC5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgIC8vIE5lb24gcmUtcmVuZGVycyB0aGUgZW50aXJlIFNWRywgYW5kIGhlbmNlLCBiZWZvcmUgd2UgZG8gc28sXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gc3RvcmUgYWxsIHRoZSBlbGVtZW50cyAoSURzKSB3ZSBuZWVkIHRvIHNlbGVjdCBhZ2FpblxuICAgICAgICAvLyBUaGVuLCB3ZSBuZWVkIHRvIHJlc2VsZWN0IHRoZW0gYnkgY2FsbGluZyBgdGhpcy5yZXNlbGVjdCgpYFxuICAgICAgICBjb25zdCB0b1Jlc2VsZWN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSlcbiAgICAgICAgICAuZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW1vdmluZycpKVxuICAgICAgICAgIC5tYXAoZWwgPT4gZWwuaWQpO1xuXG4gICAgICAgIC8vIENBVVRJT046IGB1cGRhdGVGb3JDdXJyZW50UGFnZSgpYCBpcyBhbiBhc3luY2hyb25vdXMgZnVuY3Rpb24hXG4gICAgICAgIC8vIEl0IHJlcXVpcmVzIGFuIGBhd2FpdGAga2V5d29yZC5cbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB0aGlzLmVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIC8vIFJlc2VsZWN0IHRoZSBlbGVtZW50cyBhbmQgcmVpbml0aWFsaXplIGRyYWdcbiAgICAgICAgYXdhaXQgdGhpcy5yZXNlbGVjdCh0b1Jlc2VsZWN0KTtcbiAgICAgICAgdGhpcy5kcmFnSW5pdCgpO1xuICAgICAgfSk7XG4gIH1cblxuICBhc3luYyByZXNlbGVjdCAodG9SZXNlbGVjdDogc3RyaW5nW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCByZXNlbGVjdGVkID0gdG9SZXNlbGVjdC5tYXAoaWQgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdHcmFwaGljc0VsZW1lbnQ+KGAjJHtpZH1gKSk7XG5cbiAgICAvLyBBbGwgZ2x5cGhzIGV4Y2VwdCBib3VkaW5nIGJveGVzICgnc3lsJ3MpIG11c3QgYmUgc2VsZWN0ZWQgd2l0aFxuICAgIC8vIGBzZWxlY3RBbGwoKWBcbiAgICByZXNlbGVjdGVkXG4gICAgICAuZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKVxuICAgICAgLmZvckVhY2goYXN5bmMgKCkgPT4gYXdhaXQgc2VsZWN0QWxsKHJlc2VsZWN0ZWQsIHRoaXMubmVvblZpZXcsIHRoaXMpKTtcblxuICAgIC8vIEJvdW5kaW5nIGJveGVzIG11c3QgYmUgZXhwbGljaXRseSBzZWxlY3RlZCB1c2luZyBgc2VsZWN0QkJveCgpYFxuICAgIHJlc2VsZWN0ZWRcbiAgICAgIC5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSlcbiAgICAgIC5mb3JFYWNoKFxuICAgICAgICBlbCA9PiBzZWxlY3RCQm94KGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIHRoaXMsIHRoaXMubmVvblZpZXcpXG4gICAgICApO1xuXG4gICAgLy8gU3RhdmVzIG11c3QgYmUgZXhwbGljaXRseSBzZWxlY3RlZCB1c2luZyBgc2VsZWN0U3RhZmYoKWBcbiAgICAvLyBBTkQgbXVzdCBiZSBzZWxlY3RlZCB3aXRoIGBzZWxlY3RBbGwoKWAgZm9yIGNvcnJlY3QgYmVoYXZpb3IgKGZvciBzb21lIHJlYXNvbikuXG4gICAgcmVzZWxlY3RlZFxuICAgICAgLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpXG4gICAgICAuZm9yRWFjaChlbCA9PiBzZWxlY3RTdGFmZihlbCwgdGhpcykpO1xuICB9XG5cbiAgLyoqIFNldCB0aGUgZDMgYWN0aW9uIHRvIHVzZSBmb3IgW1tyZXNldF1dLiAqL1xuICByZXNldFRvIChyZXNldDogKHNlbGVjdGlvbjogZDMuU2VsZWN0aW9uPGQzLkJhc2VUeXBlLCB1bmtub3duLCBIVE1MRWxlbWVudCwgdW5rbm93bj4sIGFyZ3M6IHVua25vd25bXSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMucmVzZXRUb0FjdGlvbiA9IHJlc2V0O1xuICB9XG5cbiAgLyoqIFJlc2V0IHRvIGEgcHJldmlvdXMgZDMgYWN0aW9uIGZvciBbW3RoaXMuc2VsZWN0b3JdXS4gKi9cbiAgcmVzZXQgKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlc2V0VG9BY3Rpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgZDMuc2VsZWN0KHRoaXMuc2VsZWN0b3IpLmNhbGwodGhpcy5yZXNldFRvQWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBlbmRPcHRpb25zU2VsZWN0aW9uICgpOiB2b2lkIHtcbiAgICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICAgIGNvbnN0IGV4dHJhRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKTtcbiAgICBpZiAobW9yZUVkaXQpIHtcbiAgICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gICAgaWYgKGV4dHJhRWRpdCkge1xuICAgICAgZXh0cmFFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgZXh0cmFFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZpc3VhbGx5IG1vdmUgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIGJ5IGBkeGAgYW5kIGBkeWA7IChub3QgdXNpbmcgZDMpXG4gICAqL1xuICBtb3ZlRWxlbWVudHMgKHNlbGVjdGlvbjogRWxlbWVudFtdLCBkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogdm9pZCB7XG4gICAgc2VsZWN0aW9uLmZpbHRlcihlbCA9PiBlbCAhPT0gbnVsbCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2R4fSwke2R5fSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWaXN1YWxseSByZXR1cm4gc2VsZWN0ZWQgZWxlbWVudHMgdG8gdGhlaXIgb3JpZ2luYWwgcG9zaXRpb25zXG4gICAqIGJ5IHJlbW92aW5nIHRoZSB0cmFuc2Zvcm0gYXR0cmlidXRlXG4gICAqL1xuICByZXR1cm5FbGVtZW50cyAoc2VsZWN0aW9uOiBFbGVtZW50W10pOiB2b2lkIHtcbiAgICBzZWxlY3Rpb24uZmlsdGVyKGVsID0+IGVsICE9PSBudWxsKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCd0cmFuc2Zvcm0nKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzQ3Vyc29yT3V0T2ZCb3VuZHMgKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVuZFggPSB0aGlzLmRyYWdTdGFydENvb3Jkc1swXSArIHRoaXMuZHg7XG4gICAgY29uc3QgZW5kWSA9IHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzFdICsgdGhpcy5keTtcblxuICAgIHJldHVybiBpc091dE9mU1ZHQm91bmRzKGVuZFgsIGVuZFkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgc2VsZWN0aW9uIGFycmF5IGlzIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBTVkdcbiAgICogQHBhcmFtIHtTVkdHcmFwaGljc0VsZW1lbnRbXX0gc2VsZWN0aW9uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBJcyBzZWxlY3Rpb24gb3V0IG9mIGJvdW5kc1xuICAgKi9cbiAgaXNEcmFnT3V0T2ZCb3VuZHMgKHNlbGVjdGlvbjogU1ZHR3JhcGhpY3NFbGVtZW50W10pOiBib29sZWFuIHtcbiAgICAvLyBHZXQgdGhlIGJvdW5kaW5nIGJveGVzIG9mIGFsbCBnbHlwaHMgKDx1c2U+IGVsZW1lbnRzKSB3aXRoaW4gdGhlIHNlbGVjdGlvbiBhcnJheVxuICAgIGNvbnN0IGlzQkJveERpc3BsYXllZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNkaXNwbGF5QkJveCcpLmNoZWNrZWQ7XG4gICAgbGV0IGdseXBoU2VsZWN0b3IgPSBpc0JCb3hEaXNwbGF5ZWQgPyAndXNlLCByZWN0JyA6ICd1c2UnO1xuXG4gICAgaWYgKHNlbGVjdGlvblswXS5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIGdseXBoU2VsZWN0b3IgPSAncGF0aCc7XG5cbiAgICBjb25zdCBnbHlwaHM6IFNWR1VzZUVsZW1lbnRbXSA9IHNlbGVjdGlvbi5yZWR1Y2UoXG4gICAgICAoYWNjLCBlbCkgPT4gYWNjLmNvbmNhdCguLi5lbC5xdWVyeVNlbGVjdG9yQWxsKGdseXBoU2VsZWN0b3IpKSwgW11cbiAgICApO1xuICAgIGNvbnN0IGdseXBoQkJveGVzOiBCQm94W10gPSBnbHlwaHMubWFwKGdldEdseXBoQkJveCk7XG5cbiAgICAvLyBHZXQgdGhlIHN1cnJvdW5kaW5nIGJvdW5kaW5nIGJveCBvZiB0aGUgc2VsZWN0ZWQgZWxlbWVudHNcbiAgICBjb25zdCBzZWxlY3Rpb25CQm94OiBCQm94ID0gZ2x5cGhCQm94ZXMucmVkdWNlKFxuICAgICAgKGJib3gsIGN1cnIpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1bHg6IE1hdGgubWluKGJib3gudWx4LCBjdXJyLnVseCksXG4gICAgICAgICAgdWx5OiBNYXRoLm1pbihiYm94LnVseSwgY3Vyci51bHkpLFxuICAgICAgICAgIGxyeDogTWF0aC5tYXgoYmJveC5scngsIGN1cnIubHJ4KSxcbiAgICAgICAgICBscnk6IE1hdGgubWF4KGJib3gubHJ5LCBjdXJyLmxyeSksXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB1bHg6IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICAgIHVseTogTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgbHJ4OiBOdW1iZXIuTUlOX1ZBTFVFLFxuICAgICAgICBscnk6IE51bWJlci5NSU5fVkFMVUUsXG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbnN0IHsgdWx4LCB1bHksIGxyeCwgbHJ5IH0gPSBzZWxlY3Rpb25CQm94O1xuICAgIHJldHVybiBpc091dE9mU1ZHQm91bmRzKHVseCArIHRoaXMuZHgsIHVseSArIHRoaXMuZHkpIHx8IGlzT3V0T2ZTVkdCb3VuZHMobHJ4ICsgdGhpcy5keCwgbHJ5ICsgdGhpcy5keSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgRHJhZ0hhbmRsZXIgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgKiBhcyBXYXJuaW5ncyBmcm9tICcuLi9XYXJuaW5ncyc7XG5pbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCAqIGFzIFNlbGVjdFRvb2xzIGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcbmltcG9ydCAqIGFzIFNlbGVjdE9wdGlvbnMgZnJvbSAnLi4vU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBFZGl0b3JBY3Rpb24sIFRvZ2dsZUxpZ2F0dXJlQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgcmVtb3ZlSGFuZGxlciwgZGVsZXRlQnV0dG9uSGFuZGxlciB9IGZyb20gJy4vU2VsZWN0T3B0aW9ucyc7XG5cbi8qKlxuICogVGhlIE5lb25WaWV3IHBhcmVudCB0byBhY2Nlc3MgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cbi8qKlxuICogU2V0IHRoZSBuZW9uVmlldyBtZW1iZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TmVvblZpZXcodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHNlbGVjdGVkIGVsZW1lbnRzIGNhbiBiZSBncm91cGVkIG9yIG5vdFxuICogQHJldHVybnMgdHJ1ZSBpZiBjYW4gYmUgZ3JvdXBlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0dyb3VwYWJsZShcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pixcbik6IGJvb2xlYW4ge1xuICBjb25zdCBncm91cHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzLnZhbHVlcygpKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcblxuICBpZiAoZ3JvdXBzLmxlbmd0aCA8IDIpIHtcbiAgICAvLyBjYW5ub3QgZ3JvdXAgaWYgb25seSAxIGVsZW1lbnQgaXMgc2VsZWN0ZWRcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIC8vIGlmIG5ldW1lcyBhcmUgaW4gc2FtZSBzeWxsYWJsZSwgZG9uJ3QgZGlzcGxheSBncm91cGluZyBvcHRpb25cbiAgICAgIGlmIChTZWxlY3RUb29scy5zaGFyZWRMb2dpY2FsUGFyZW50KHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIGNoZWNrIGlmIGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhcmUgYWRqYWNlbnQgdG8gZWFjaCBvdGhlclxuICAgICAgaWYgKFNlbGVjdFRvb2xzLmFyZUFkamFjZW50KHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb250YWluc0xpbmtlZChcbiAgc2VsZWN0aW9uVHlwZTogc3RyaW5nLFxuICBlbGVtZW50cz86IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4sXG4pIHtcbiAgaWYgKCFlbGVtZW50cykge1xuICAgIGVsZW1lbnRzID0gQXJyYXkuZnJvbShcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpLFxuICAgICkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gIH1cbiAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpIHx8XG4gICAgICAgICAgZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpXG4gICAgICAgICkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdUaGUgYWN0aW9uIGludm9sdmVzIGxpbmtlZCBzeWxsYWJsZXMsIHBsZWFzZSB1bnRvZ2dsZSB0aGVtIGZpcnN0JyxcbiAgICAgICAgICAgICd3YXJuaW5nJyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSB8fFxuICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpXG4gICAgICAgICkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdUaGUgYWN0aW9uIGludm9sdmVzIGxpbmtlZCBzeWxsYWJsZXMsIHBsZWFzZSB1bnRvZ2dsZSB0aGVtIGZpcnN0JyxcbiAgICAgICAgICAgICd3YXJuaW5nJyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpIHx8XG4gICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKVxuICAgICAgICApIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAnVGhlIGFjdGlvbiBpbnZvbHZlcyBsaW5rZWQgc3lsbGFibGVzLCBwbGVhc2UgdW50b2dnbGUgdGhlbSBmaXJzdCcsXG4gICAgICAgICAgICAnd2FybmluZycsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhc0ludmFsaWRMaW5rZWRTeWxsYWJsZShcbiAgZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4sXG4pOiBib29sZWFuIHtcbiAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZWxlbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgIGNvbnN0IHN5bGxhYmxlID0gZWxlbWVudHMuYXQoaWR4KTtcbiAgICBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSkge1xuICAgICAgLy8gR2V0IHhtbDppZCBvZiB0aGUgbmV4dCBzeWxsYWJsZSAod2l0aG91dCB0aGUgIywgaWYgaXQgZXhpc3RzKVxuICAgICAgY29uc3QgbmV4dFN5bGxhYmxlSWQgPSBzeWxsYWJsZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKVxuICAgICAgICAucmVwbGFjZSgnIycsICcnKTtcblxuICAgICAgLy8gRmluZCB0aGUgbmV4dCBzeWxsYWJsZSBhbmQgaXRzIGluZGV4IGluIHRoZSBhcnJheVxuICAgICAgbGV0IG5leHRTeWxsYWJsZUlkeDogbnVtYmVyO1xuICAgICAgY29uc3QgbmV4dFN5bGxhYmxlID0gZWxlbWVudHMuZmluZCgoZWxlbWVudCwgaWR4KSA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LmlkID09PSBuZXh0U3lsbGFibGVJZCkge1xuICAgICAgICAgIG5leHRTeWxsYWJsZUlkeCA9IGlkeDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb25kaXRpb24gMTogVGhlIG5leHQgKGZvbGxvd2luZykgc3lsbGFibGUgY2Fubm90IGJlIGZvdW5kXG4gICAgICBpZiAoIW5leHRTeWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDI6IFRoZSBuZXh0IHN5bGxhYmxlIGhhcyBiZWVuIGZvdW5kLCBidXQgdGhlIEBmb2xsb3dzIGF0dHJpYnV0ZSBkb2VzIE5PVCBFWElTVFxuICAgICAgaWYgKCFuZXh0U3lsbGFibGUuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25kaXRpb24gMzogVGhlIG5leHQgc3lsbGFibGUncyBAZm9sbG93cyBhdHRyaWJ1dGUgZXhpc3RzLCBidXQgaXQgaXMgbm90IGluIHRoZSBjb3JyZWN0IGZvcm1hdCAjaWRcbiAgICAgIGlmIChuZXh0U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpICE9ICcjJyArIHN5bGxhYmxlLmlkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25kaXRpb24gNDpcbiAgICAgIC8vIFNpbmNlIHRoZSBAZm9sbG93cyB2YWx1ZSBpcyBjb3JyZWN0LCBhIHBhaXIgb2Ygc3lsbGFibGVzIGV4aXN0IGZvciB0aGUgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZS5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSBAZm9sbG93cyBzeWxsYWJsZSBpcyB0aGUgbmV4dCBzeWxsYWJsZSAoaW5kZXgtd2lzZSkgaW4gdGhlIGFycmF5OlxuICAgICAgaWYgKG5leHRTeWxsYWJsZUlkeCAhPT0gaWR4ICsgMSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSkge1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlSWQgPSBzeWxsYWJsZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpXG4gICAgICAgIC5yZXBsYWNlKCcjJywgJycpO1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlID0gZWxlbWVudHMuZmluZChcbiAgICAgICAgKHN5bGxhYmxlKSA9PiBzeWxsYWJsZS5pZCA9PT0gcHJldlN5bGxhYmxlSWQsXG4gICAgICApO1xuXG4gICAgICAvLyBDb25kaXRpb24gMTogVGhlIHByZXZpb3VzIHN5bGxhYmxlIGRvZXMgbm90IGV4aXN0XG4gICAgICBpZiAoIXByZXZTeWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDI6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSBleGlzdHMsIGJ1dCB0aGUgQHByZWNlZGVzIGF0dHJpYnV0ZSBkb2VzIE5PVCBFWElTVFxuICAgICAgaWYgKCFwcmV2U3lsbGFibGUuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDM6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSdzIEBwcmVjZWRlcyBhdHRyaWJ1dGUgZXhpc3RzLCBidXQgaXQgaXMgbm90IGluIHRoZSBjb3JyZWN0IGZvcm1hdCAjaWRcbiAgICAgIGlmIChwcmV2U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSAhPSAnIycgKyBzeWxsYWJsZS5pZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVja3MgdG8gc2VlIGlzIGEgc2VsZWN0aW9uIG9mIGVsZW1lbnRzIGlzIGFscmVhZHkgbGlua2VkXG4gKiBAcGFyYW0gZWxlbWVudHMgZWxlbWVudHMgdG8gYmUgY29uc2lkZXJlZFxuICogQHJldHVybnMgdHJ1ZSBpcyBsaW5rZWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMaW5rZWQoZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4pOiBib29sZWFuIHtcbiAgLy8gZXZlcnkgZWxlbWVudCBzaG91bGQgYmUgbGlua2VkXG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgIGlmIChcbiAgICAgICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykgJiZcbiAgICAgICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBBc3N1bWluZyBhbGwgZWxlbWVudHMgYXJlIHZhbGlkLFxuICogY2hlY2sgaWYgdGhlIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWQ6XG4gKiAxLiBzb3J0IGVsZW1lbnRzIGJhc2VkIG9uIHRoZWlyIG9yZGVyIGluIHRoZSBET01cbiAqIDIuIGVuc3VyZSBlbGVtZW50cyBhcmUgYWRqYWNlbnQgaW4gdGhlIERPTVxuICogMy4gZW5zdXJlIGVsZW1lbnRzIGJlbG9uZyB0byBhZGphY2VudCBzdGF2ZXNcbiAqIDQuIGNoZWNrIGlmIGNhbiBiZSBsaW5rZWQ6XG4gKiAgICA0LjEgaWYgZXhhY3RseSB0d28gZWxlbWVudHMsIGJvdGggbmVlZHMgdG8gYmUgdW5saW5rZWRcbiAqICAgIDQuMiBpZiBtb3JlIHRoYW4gdHdvIGVsZW1lbnRzLCBvbmx5IG9uZSBlbGVtZW50IGNhbiBiZSB1bmxpbmtlZCxcbiAqICAgICAgICBhdCBlaXRoZXIgYmVnaW5uaW5nIG9yIGVuZCBvZiB0aGUgc2VxdWVuY2VcbiAqIEBwYXJhbSBlbGVtZW50cyBlbGVtZW50cyB0byBiZSBjb25zaWRlcmVkXG4gKiBAcmV0dXJucyB0cnVlIGNhbiBiZSBsaW5rZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbkJlTGlua2VkKGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogYm9vbGVhbiB7XG4gIC8vIDEuIFNvcnQgZWxlbWVudHMgYmFzZWQgb24gdGhlaXIgb3JkZXIgaW4gdGhlIERPTVxuICBlbGVtZW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3Qgc3RhZmZBID0gYS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICBjb25zdCBzdGFmZkIgPSBiLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIHJldHVybiBzdGFmZkEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oc3RhZmZCKSAmXG4gICAgICBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lOR1xuICAgICAgPyAtMVxuICAgICAgOiAxO1xuICB9KTtcblxuICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpKTtcbiAgY29uc3Qgc3lsbGFibGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUnKSk7XG5cbiAgLy8gMi4gRW5zdXJlIHN5bGxhYmxlcyBhcmUgYWRqYWNlbnQgaW4gdGhlIERPTVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBlbGVtZW50c1tpXTtcbiAgICBjb25zdCBuZXh0ID0gZWxlbWVudHNbaSArIDFdO1xuICAgIGNvbnN0IGN1cnJlbnRTeWxsYWJsZUluZGV4ID0gc3lsbGFibGVzLmluZGV4T2YoY3VycmVudCk7XG4gICAgY29uc3QgbmV4dFN5bGxhYmxlSW5kZXggPSBzeWxsYWJsZXMuaW5kZXhPZihuZXh0KTtcbiAgICBpZiAobmV4dFN5bGxhYmxlSW5kZXggLSBjdXJyZW50U3lsbGFibGVJbmRleCAhPT0gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBTdGF2ZXMgbXVzdCBiZSBhZGphY2VudFxuICAgIH1cbiAgICAvLyAzLiBFbnN1cmUgc3lsbGFibGVzIGJlbG9uZyB0byBhZGphY2VudCBzdGF2ZXNcbiAgICBjb25zdCBjdXJyZW50U3RhZmYgPSBjdXJyZW50LmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIGNvbnN0IG5leHRTdGFmZiA9IG5leHQuY2xvc2VzdCgnLnN0YWZmJyk7XG5cbiAgICBjb25zdCBjdXJyZW50U3RhZmZJbmRleCA9IHN0YXZlcy5pbmRleE9mKGN1cnJlbnRTdGFmZiBhcyBIVE1MRWxlbWVudCk7XG4gICAgY29uc3QgbmV4dFN0YWZmSW5kZXggPSBzdGF2ZXMuaW5kZXhPZihuZXh0U3RhZmYgYXMgSFRNTEVsZW1lbnQpO1xuICAgIGlmIChuZXh0U3RhZmZJbmRleCAtIGN1cnJlbnRTdGFmZkluZGV4ICE9PSAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIFN0YXZlcyBtdXN0IGJlIGFkamFjZW50XG4gICAgfVxuICB9XG5cbiAgLy8gNC4xIEhhbmRsZSBjYXNlIGZvciBleGFjdGx5IHR3byBzeWxsYWJsZXNcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBlbGVtZW50cy5ldmVyeShcbiAgICAgIChlbGVtZW50KSA9PlxuICAgICAgICAhZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpICYmXG4gICAgICAgICFlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSxcbiAgICApO1xuICB9XG5cbiAgLy8gNC4yIEhhbmRsZSBjYXNlIGZvciBtb3JlIHRoYW4gdHdvIHN5bGxhYmxlc1xuICBjb25zdCB1bmxpbmtlZEVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKFxuICAgIChlbGVtZW50KSA9PlxuICAgICAgIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSAmJlxuICAgICAgIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpLFxuICApO1xuXG4gIGlmICh1bmxpbmtlZEVsZW1lbnRzLmxlbmd0aCAhPT0gMSkge1xuICAgIHJldHVybiBmYWxzZTsgLy8gT25seSBvbmUgdW5saW5rZWQgc3lsbGFibGUgaXMgYWxsb3dlZFxuICB9XG5cbiAgLy8gVGhlIHVubGlua2VkIHN5bGxhYmxlIHNob3VsZCBiZSBhdCB0aGUgYmVnaW5uaW5nIG9yIGVuZFxuICBjb25zdCBmaXJzdFVubGlua2VkID0gdW5saW5rZWRFbGVtZW50c1swXTtcblxuICByZXR1cm4gKFxuICAgIGVsZW1lbnRzLmluZGV4T2YoZmlyc3RVbmxpbmtlZCkgPT09IDAgfHxcbiAgICBlbGVtZW50cy5pbmRleE9mKGZpcnN0VW5saW5rZWQpID09PSBlbGVtZW50cy5sZW5ndGggLSAxXG4gICk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWQgb3IgdW5saWtuZWQuXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSBDdXJyZW50IHNlbGVjdGlvbiBtb2RlLiBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIGJlIGxpbmtlZFxuICogQHBhcmFtIGVsZW1lbnRzIFRoZSBlbGVtZW50cyB1bmRlciBxdWVzdGlvblxuICogQHJldHVybnMgdHJ1ZSBpZiB1c2VyIHNob3VsZCBiZSBhYmxlIHRvIGxpbmsgb3IgdW4tbGluayBlbGVtZW50cywgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmthYmxlKFxuICBzZWxlY3Rpb25UeXBlOiBzdHJpbmcsXG4gIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuKTogYm9vbGVhbiB7XG4gIC8vIGNhbm5vdCB0b2dnbGUgbGluayBmb3Igc3lsbGFibGUgc2VsZWN0aW9uIGlmIG51bWJlciBvZiBzZWxlY3RlZFxuICAvLyBzeWxsYWJsZXMgaXMgc21hbGxlciB0aGFuIDJcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBvbmx5IFN5bGxhYmxlcyBjYW4gYmUgbGlua2VkIG9yIHVubGlua2VkICg/KVxuICBpZiAoc2VsZWN0aW9uVHlwZSAhPT0gJ3NlbEJ5U3lsbGFibGUnKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gQ2hlY2sgaWYgaGFzIGludmFsaWQgbGlua2VkIHN5bGxhYmxlc1xuICBpZiAoaGFzSW52YWxpZExpbmtlZFN5bGxhYmxlKGVsZW1lbnRzKSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGUgc2VsZWN0ZWQgc3lsbGFibGVzIGluY2x1ZGUgaW52YWxpZCBsaW5rZWQgc3lsbGFibGUocykhJyxcbiAgICAgICd3YXJuaW5nJyxcbiAgICApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGlmIEFMUkVBRFkgbGlua2VkXG4gIGlmIChpc0xpbmtlZChlbGVtZW50cykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvLyBpZiBDQU4gYmUgbGlua2VkXG4gIGVsc2UgaWYgKGNhbkJlTGlua2VkKGVsZW1lbnRzKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIE1lcmdlIHNlbGVjdGVkIHN0YXZlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VTdGF2ZXMoKTogdm9pZCB7XG4gIGNvbnN0IHN5c3RlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYuc2VsZWN0ZWQnKTtcbiAgY29uc3QgZWxlbWVudElkcyA9IFtdO1xuICBzeXN0ZW1zLmZvckVhY2goKHN0YWZmKSA9PiB7XG4gICAgZWxlbWVudElkcy5wdXNoKHN0YWZmLmlkKTtcbiAgfSk7XG4gIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ21lcmdlJyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkczogZWxlbWVudElkcyxcbiAgICB9LFxuICB9O1xuICBuZW9uVmlld1xuICAgIC5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTdGFmZiBNZXJnZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICBTZWxlY3RPcHRpb25zLmVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTWVyZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciB0aGUgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKiBAcGFyYW0gdHlwZSAtIFRoZSBncm91cGluZyB0eXBlOiBuYywgbmV1bWUsIHN5bCwgbGlnYXR1cmVOYywgb3IgbGlnYXR1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJHcm91cGluZyh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgbW9yZUVkaXQuaW5uZXJIVE1MICs9IENvbnRlbnRzLmdyb3VwaW5nTWVudVt0eXBlXTtcbiAgaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZEdyb3VwaW5nU2VsZWN0aW9uKCk6IHZvaWQge1xuICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG59XG5cbi8qKlxuICogVGhlIGdyb3VwaW5nIGRyb3Bkb3duIGxpc3RlbmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk6IHZvaWQge1xuICBjb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG4gIGRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVyZ2VTeWxzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoY29udGFpbnNMaW5rZWQoU2VsZWN0VG9vbHMuZ2V0U2VsZWN0aW9uVHlwZSgpKSkgcmV0dXJuO1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCkuZmlsdGVyKChlKSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJyksXG4gICAgICApO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JvdXBOZXVtZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChjb250YWluc0xpbmtlZChTZWxlY3RUb29scy5nZXRTZWxlY3Rpb25UeXBlKCkpKSByZXR1cm47XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCkuZmlsdGVyKChlKSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJyksXG4gICAgICApO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JvdXBOY3MnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKS5maWx0ZXIoKGUpID0+XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLmNsYXNzTGlzdC5jb250YWlucygnbmMnKSxcbiAgICAgICk7XG4gICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmdyb3VwTmV1bWVzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5ncm91cE5jcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWxpZ2F0dXJlJylcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuXG4gICAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogVG9nZ2xlTGlnYXR1cmVBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAndG9nZ2xlTGlnYXR1cmUnLFxuICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIG5lb25WaWV3XG4gICAgICAgICAgLmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0xpZ2F0dXJlIFRvZ2dsZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdMaWdhdHVyZSBUb2dnbGUgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICAgICAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1saW5rJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuLyoqXG4gKiBHcm91cGluZy9Vbmdyb3VwaW5nIGtleWJpbmRpbmcgZXZlbnQgbGlzdGVuZXJcbiAqL1xuY29uc3Qga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24gKGUpIHtcbiAgaWYgKGUua2V5ID09PSAnZycpIHtcbiAgICAvLyBnZXQgc2VsZWN0ZWQgZWxlbWVudHMgdG8gY2hlY2sgaWYgdGhleSBjYW4gYmUgZ3JvdXBlZHNcbiAgICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSxcbiAgICApIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT0gMCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgc2VsZWN0aW9uVHlwZSA9IFNlbGVjdFRvb2xzLmdldFNlbGVjdGlvblR5cGUoKTtcblxuICAgIGlmIChjb250YWluc0xpbmtlZChzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHJldHVybjtcblxuICAgIC8vIEdyb3VwL21lcmdlIG9yIHVuZ3JvdXAvc3BsaXQgYmFzZWQgb24gc2VsZWN0aW9uIHR5cGVcbiAgICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgICAvLyBpZiBzeWxsYWJsZXMgYXJlIGxpbm5rYWJsZSwgdG9nZ2xlIGxpbmtlZCBzeWxsYWJsZVxuICAgICAgICAvLyBsaW5rZWQgc3lsbGFibGVzIGNhbm5vdCBiZSBncm91cGVkL3VuZ3JvdXBlZFxuICAgICAgICBpZiAoaXNMaW5rYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBpZiBncm91cGFibGUgYmVmb3JlIGdyb3VwaW5nXG4gICAgICAgIGVsc2UgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpLmZpbHRlcigoZSkgPT5cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNhbiBvbmx5IHVuZ3JvdXAgaWYgbGVuZ3RoIGlzIDEgKG9uZSBzeWxsYWJsZSBzZWxlY3RlZClcbiAgICAgICAgLy8gY2Fubm90IHVuZ3JvdXAgaWYgbXVsdGlwbGUgc3lsbGFibGVzIGFyZSBzZWxlY3RlZFxuICAgICAgICBlbHNlIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgICAgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgICAgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgICAgaWYgKGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIG1lcmdlU3RhdmVzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3RhZmZTcGxpdE1vZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgQ2FuJ3QgcGVyZm9ybSBncm91cGluZy91bmdyb3VwaW5nIGFjdGlvbiBvbiBzZWxlY3Rpb24gdHlwZSAke3NlbGVjdGlvblR5cGV9LmAsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogRm9ybSBhbmQgZXhlY3V0ZSBhIGdyb3VwL3VuZ3JvdXAgYWN0aW9uLlxuICogQHBhcmFtIGFjdGlvbiAtIFRoZSBhY3Rpb24gdG8gZXhlY3V0ZS4gRWl0aGVyIFwiZ3JvdXBcIiBvciBcInVuZ3JvdXBcIi5cbiAqIEBwYXJhbSBncm91cFR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50cyB0byBncm91cC4gRWl0aGVyIFwibmV1bWVcIiBvciBcIm5jXCIuXG4gKiBAcGFyYW0gZWxlbWVudElkcyAtIFRoZSBJRHMgb2YgdGhlIGVsZW1lbnRzLlxuICovXG5mdW5jdGlvbiBncm91cGluZ0FjdGlvbihcbiAgYWN0aW9uOiAnZ3JvdXAnIHwgJ3VuZ3JvdXAnLFxuICBncm91cFR5cGU6ICduZXVtZScgfCAnbmMnLFxuICBlbGVtZW50SWRzOiBzdHJpbmdbXSxcbik6IHZvaWQge1xuICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246IGFjdGlvbixcbiAgICBwYXJhbToge1xuICAgICAgZ3JvdXBUeXBlOiBncm91cFR5cGUsXG4gICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzLFxuICAgIH0sXG4gIH07XG4gIG5lb25WaWV3XG4gICAgLmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBpZiAoYWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1VuZ3JvdXBpbmcgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVW5ncm91cGluZyBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcblxuICAgICAgLy8gUHJvbXB0IHVzZXIgdG8gY29uZmlybSBpZiBOZW9uIGRvZXMgbm90IHJlIGNvZ25pemUgY29udG91clxuICAgICAgaWYgKGdyb3VwVHlwZSA9PT0gJ25jJykge1xuICAgICAgICBjb25zdCBuZXVtZVBhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgIGVsZW1lbnRJZHNbMF0sXG4gICAgICAgICkucGFyZW50RWxlbWVudDtcbiAgICAgICAgY29uc3QgbmNzID0gQXJyYXkuZnJvbShuZXVtZVBhcmVudC5jaGlsZHJlbikgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gICAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXIobmNzKTtcbiAgICAgICAgaWYgKGNvbnRvdXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIFdhcm5pbmdzLmdyb3VwaW5nTm90UmVjb2duaXplZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB1bmxpbmsoZWxlbWVudElkczogc3RyaW5nW10pOiBBcnJheTxFZGl0b3JBY3Rpb24+IHtcbiAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuICBmb3IgKGNvbnN0IGlkIG9mIGVsZW1lbnRJZHMpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykpIHtcbiAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJhbTtcbn1cblxuLy8gVXRpbGl0eSBmdW5jdGlvbiB0byBnZXQgYW4gZWxlbWVudCBieSBJRCBhbmQgZW5zdXJlIGl0J3MgYW4gU1ZHR3JhcGhpY3NFbGVtZW50XG5mdW5jdGlvbiBnZXRTVkdHcmFwaGljc0VsZW1lbnRCeUlkKGlkOiBzdHJpbmcpOiBTVkdHcmFwaGljc0VsZW1lbnQgfCBudWxsIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBTVkdHcmFwaGljc0VsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0VG9nZ2xlU3lsbGFibGVJZHMoXG4gIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LFxuKTogW1NWR0dyYXBoaWNzRWxlbWVudCwgU1ZHR3JhcGhpY3NFbGVtZW50XSB7XG4gIC8vIFNvcnQgZWxlbWVudHMgYmFzZWQgb24gdGhlaXIgb3JkZXIgaW4gdGhlIERPTVxuICBlbGVtZW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3Qgc3RhZmZBID0gYS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICBjb25zdCBzdGFmZkIgPSBiLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIHJldHVybiBzdGFmZkEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oc3RhZmZCKSAmXG4gICAgICBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lOR1xuICAgICAgPyAtMVxuICAgICAgOiAxO1xuICB9KTtcblxuICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgcmV0dXJuIFtlbGVtZW50c1swXSwgZWxlbWVudHNbMV1dO1xuICB9XG5cbiAgY29uc3QgdW5saW5rZWRFbGVtZW50ID0gZWxlbWVudHMuZmluZChcbiAgICAoZWwpID0+ICFlbC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpICYmICFlbC5oYXNBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJyksXG4gICk7XG5cbiAgaWYgKHVubGlua2VkRWxlbWVudCkge1xuICAgIGNvbnN0IGluZGV4ID0gZWxlbWVudHMuaW5kZXhPZih1bmxpbmtlZEVsZW1lbnQpO1xuXG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICByZXR1cm4gW2VsZW1lbnRzW2luZGV4XSwgZWxlbWVudHNbaW5kZXggKyAxXV07XG4gICAgfSBlbHNlIGlmIChpbmRleCA9PT0gZWxlbWVudHMubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIFtlbGVtZW50c1tpbmRleCAtIDFdLCBlbGVtZW50c1tpbmRleF1dO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIERldGVybWluZSB3aGF0IGFjdGlvbiAobGluay91bmxpbmspIHRvIHBlcmZvcm0gd2hlbiB1c2VyIGNsaWNrcyBvbiBcIlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVcIlxuICogQWxzbyBjYWxsZWQgd2hlbiBjb3JyZXNwaW5kaW5nIGhvdGtleSBpcyBwcmVzc2VkLlxuICovXG5mdW5jdGlvbiB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKSB7XG4gIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IFtdLFxuICB9O1xuICBjb25zdCBwYXJhbSA9IG5ldyBBcnJheTxFZGl0b3JBY3Rpb24+KCk7XG5cbiAgY29uc3QgZWxlbWVudHMgPSBlbGVtZW50SWRzXG4gICAgLm1hcChnZXRTVkdHcmFwaGljc0VsZW1lbnRCeUlkKSAvLyBNYXAgSURzIHRvIFNWR0dyYXBoaWNzRWxlbWVudCBvciBudWxsXG4gICAgLmZpbHRlcigoZWwpOiBlbCBpcyBTVkdHcmFwaGljc0VsZW1lbnQgPT4gZWwgIT09IG51bGwpO1xuXG4gIGlmIChpc0xpbmtlZChlbGVtZW50cykpIHtcbiAgICBwYXJhbS5wdXNoKC4uLnVubGluayhlbGVtZW50SWRzKSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgW2ZpcnN0U3lsbGFibGUsIHNlY29uZFN5bGxhYmxlXSA9IGdldFRvZ2dsZVN5bGxhYmxlSWRzKGVsZW1lbnRzKTtcbiAgICBjb25zb2xlLmxvZyhmaXJzdFN5bGxhYmxlLmlkLCBzZWNvbmRTeWxsYWJsZS5pZCk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBmaXJzdFN5bGxhYmxlLmlkLFxuICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnIycgKyBzZWNvbmRTeWxsYWJsZS5pZCxcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBzZWNvbmRTeWxsYWJsZS5pZCxcbiAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnIycgKyBmaXJzdFN5bGxhYmxlLmlkLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICAvLyBEZWxldGUgc3lsIG9uIHNlY29uZCBzeWxsYWJsZVxuICAgIGNvbnN0IHN5bCA9IHNlY29uZFN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3IoJy5zeWwnKTtcbiAgICBpZiAoc3lsICE9PSBudWxsKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IHN5bC5pZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNoYWluQWN0aW9uLnBhcmFtID0gcGFyYW07XG4gIG5lb25WaWV3XG4gICAgLmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVG9nZ2xlZCBTeWxsYWJsZSBMaW5rJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAnRmFpbGVkIHRvIFRvZ2dsZSBTeWxsYWJsZSBMaW5rJyxcbiAgICAgICAgICAnZXJyb3InLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogQHJldHVybnMgVGhlIElEcyBvZiBzZWxlY3RlZCBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ2V0SWRzKCk6IHN0cmluZ1tdIHtcbiAgY29uc3QgaWRzID0gW107XG4gIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZHMucHVzaChlbC5pZCk7XG4gIH0pO1xuICByZXR1cm4gaWRzO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBJRHMgb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRzJyBjaGlsZHJlbi5cbiAqL1xuZnVuY3Rpb24gZ2V0Q2hpbGRyZW5JZHMoKTogc3RyaW5nW10ge1xuICBjb25zdCBjaGlsZHJlbklkcyA9IFtdO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgaWYgKFxuICAgICAgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykgfHxcbiAgICAgIGVsLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSB8fFxuICAgICAgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJylcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGVsLmNoaWxkcmVuKTtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKChjaCkgPT4ge1xuICAgICAgY2hpbGRyZW5JZHMucHVzaChjaC5pZCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gY2hpbGRyZW5JZHM7XG59XG4iLCJpbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBlcnJvckxvZ3NQYW5lbENvbnRlbnRzIH0gZnJvbSAnLi4vU3F1YXJlRWRpdC9Db250ZW50cyc7XG5pbXBvcnQgeyBzZXRTZXR0aW5ncywgZ2V0U2V0dGluZ3MgfSBmcm9tICcuL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3csIE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4vTW9kYWxXaW5kb3cnO1xuXG5mdW5jdGlvbiBjcmVhdGVMb2dNZXNzYWdlIChub3RpZjogTm90aWZpY2F0aW9uKTogRWxlbWVudCB7XG4gIGNvbnN0IG5vdGlmRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5vdGlmRGl2LmNsYXNzTGlzdC5hZGQoJ25vdGlmaWNhdGlvbi1jb250YWluZXInKTtcbiAgbm90aWZEaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cIm5vdGlmaWNhdGlvbi13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctbWFpblwiPiR7bm90aWYubWVzc2FnZX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvZy1leHRyYVwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb24tYnRuLWNvbnRhaW5lclwiIHN0eWxlPVwiZGlzcGxheTogZmxleDtcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vdGlmLWxvZy1pbmZvLWljb24td3JhcHBlclwiPlxuICAgICAgICAgIDxpbWcgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiIGNsYXNzPVwibm90aWYtbG9nLWluZm8taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9ub3RpZmljYXRpb24taW5mby1pY29uLWxpZ2h0LnN2Z1wiIHRpdGxlPVwiTG9nIE1lc3NhZ2VcIj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vdGlmLXJlbW92ZS1pY29uLXdyYXBwZXJcIj5cbiAgICAgICAgICA8aW1nIGNsYXNzPVwibG9nLXJlbW92ZSBub3RpZi1yZW1vdmUtaWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9nYXJiYWdlLWNsb3NlZC5zdmdcIiB0aXRsZT1cIlJlbW92ZVwiPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICBgO1xuXG4gIGNvbnN0IHJlbW92ZUJ0biA9IG5vdGlmRGl2LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KCcubG9nLXJlbW92ZScpO1xuICByZW1vdmVCdG4ub25jbGljayA9ICgpID0+IG5vdGlmRGl2LnJlbW92ZSgpO1xuICByZW1vdmVCdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgIHJlbW92ZUJ0bi5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1vcGVuLnN2Z2ApO1xuICB9KTtcbiAgcmVtb3ZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgIHJlbW92ZUJ0bi5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1jbG9zZWQuc3ZnYCk7XG4gIH0pO1xuXG4gIGlmIChub3RpZi5sb2dJbmZvKSB7XG4gICAgY29uc3QgaW5mb0J0biA9IG5vdGlmRGl2LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KCcubm90aWYtbG9nLWluZm8taWNvbicpO1xuICAgIGluZm9CdG4uc3R5bGUuZGlzcGxheSA9ICcnO1xuXG4gICAgcmVtb3ZlQnRuLnN0eWxlLmhlaWdodCA9ICcyMHB4JztcblxuICAgIGluZm9CdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgICAgaW5mb0J0bi5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvbm90aWZpY2F0aW9uLWluZm8taWNvbi1kYXJrLnN2Z2ApO1xuICAgIH0pO1xuICAgIGluZm9CdG4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgICBpbmZvQnRuLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9ub3RpZmljYXRpb24taW5mby1pY29uLWxpZ2h0LnN2Z2ApO1xuICAgIH0pO1xuICAgIGluZm9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBvcGVuRXJyb3JMb2dXaW5kb3cobm90aWYubG9nSW5mbykpO1xuICB9XG5cbiAgcmV0dXJuIG5vdGlmRGl2O1xufVxuXG5cbi8qKlxuICogQWRkIG5vdGlmaWNhdGlvbiB0byB0aGUgcGVyc2lzdGVudCBlcnJvciBsb2cgb24gdGhlIHNpZGViYXJcbiAqIEBwYXJhbSBub3RpZiB7Tm90aWZpY2F0aW9ufSBOb3RpZmljYXRpb24gdG8gYWRkIHRvIHRoZSBlcnJvciBsb2dcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZE5vdGlmaWNhdGlvbiAobm90aWY6IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICBjb25zdCBsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dDb250ZW50cycpO1xuICBsb2cucHJlcGVuZChjcmVhdGVMb2dNZXNzYWdlKG5vdGlmKSk7XG59XG5cblxuLyoqXG4gKiBJbml0aWFsaXplIGVycm9yIGxvZy5cbiAqIEFkZHMgbmVjZXNzYXJ5IEhUTUwgdG8gRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVycm9yTG9nKCk6IHZvaWQge1xuICAvLyBFcnJvciBsb2cgcGFuZWxcbiAgY29uc3QgbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yX2xvZycpO1xuICBsb2cuaW5uZXJIVE1MID0gZXJyb3JMb2dzUGFuZWxDb250ZW50cztcblxuICBpbml0RXJyb3JMb2dDb250cm9scygpO1xufVxuXG5cbi8qKlxuICogU2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgZXJyb3IgTG9nIHBhbmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RXJyb3JMb2dDb250cm9scygpOiB2b2lkIHtcbiAgY29uc3QgZXJyb3JQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvckxvZ0hlYWRpbmcnKTtcbiAgY29uc3QgZHJvcGRvd25JY29uID0gaGVhZGluZy5xdWVyeVNlbGVjdG9yKCdzdmcgPiB1c2UnKTtcbiAgY29uc3QgY29udGVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dDb250ZW50cycpIGFzIEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0IHsgZGlzcGxheUVyckxvZyB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgaWYgKGRpc3BsYXlFcnJMb2cpIGVycm9yUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gIGhlYWRpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgLy8gaWYgZXJyb3IgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGNvbnRlbnRzLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2VkJykpIHtcbiAgICAgIC8vIHNldCBjbGFzc2VzIGFuZCBzdHlsZXMgZm9yIGFuIG9wZW4gcGFuZWxcbiAgICAgIGNvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgY29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9IFxuICAgIC8vIGlmIGVycm9yIHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgZWxzZSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhIGNsb3NlZCBwYW5lbFxuICAgICAgY29udGVudHMuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgICBjb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBkcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1zaWRlYCk7XG4gICAgfVxuICB9KTtcblxuICBpbml0RGlzcGxheUxpc3RlbmVyKCk7XG59XG5cblxuLyoqXG4gKiBJbml0aWFsaXplcyBjbGljayBsaXN0ZW5lciBvbiBcIlNob3cgZXJyb3IgbG9nc1wiIGJ1dHRvbiBpbiBcIlZpZXdcIiBkcm9wZG93bi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREaXNwbGF5TGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IGNoZWNrYm94ZXNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlzcGxheS1zaW5nbGUtY29udGFpbmVyJyk7XG4gIGNvbnN0IGVycm9yc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgY29uc3QgZXJvcnJzQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICBlcm9ycnNCdG4uY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgZXJyb3JzTGFiZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtY29udGFpbmVyJywgJ3NpZGUtcGFuZWwtYnRuJyk7XG4gIGVycm9yc0xhYmVsLnRleHRDb250ZW50ID0gJ0Vycm9ycyc7XG4gIGVyb3Jyc0J0bi5pZCA9ICdkaXNwbGF5LWVycm9ycyc7XG4gIGVyb3Jyc0J0bi50eXBlID0gJ2NoZWNrYm94JztcbiAgZXJvcnJzQnRuLmNoZWNrZWQgPSBmYWxzZTtcbiAgZXJyb3JzTGFiZWwuYXBwZW5kQ2hpbGQoZXJvcnJzQnRuKTtcbiAgY2hlY2tib3hlc0NvbnRhaW5lci5hcHBlbmQoZXJyb3JzTGFiZWwpO1xuXG4gIGNvbnN0IHsgZGlzcGxheUVyckxvZyB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgZXJvcnJzQnRuLmNoZWNrZWQgPSBkaXNwbGF5RXJyTG9nO1xuXG4gIGVyb3Jyc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlFcnJMb2c6IGVyb3Jyc0J0bi5jaGVja2VkIH0pO1xuICAgIHVwZGF0ZUVycm9yTG9nVmlzaWJpbGl0eSgpO1xuICB9KTtcbn1cblxuXG5mdW5jdGlvbiBvcGVuRXJyb3JMb2dXaW5kb3cobG9nOiBzdHJpbmcpIHtcbiAgY29uc3QgbW9kYWxXaW5kb3cgPSBuZXcgTW9kYWxXaW5kb3coKTtcbiAgbW9kYWxXaW5kb3cuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5FUlJPUl9MT0csIGxvZyk7XG4gIG1vZGFsV2luZG93Lm9wZW5Nb2RhbFdpbmRvdygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRXJyb3JMb2dWaXNpYmlsaXR5KCk6IHZvaWQge1xuICBjb25zdCBub3RpZlBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yX2xvZycpO1xuICBjb25zdCB7IGRlYnVnTW9kZSwgZGlzcGxheUVyckxvZywgZGlzcGxheUluZm8sIGRpc3BsYXlCQm94LCBkaXNwbGF5VGV4dCB9ID0gZ2V0U2V0dGluZ3MoKTtcblxuICBjb25zdCBkaXNwbGF5QWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktYWxsLWJ0bicpO1xuXG4gIGlmIChkZWJ1Z01vZGUpIHtcbiAgICBpZiAoZGlzcGxheUVyckxvZykge1xuICAgICAgbm90aWZQYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgICBpZiAoZGlzcGxheUluZm8gJiYgZGlzcGxheUJCb3ggJiYgXG4gICAgICAgIGRpc3BsYXlUZXh0ICYmIGRpc3BsYXlFcnJMb2cpIHtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdIaWRlIEFsbCc7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbm90aWZQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICBpZiAoZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIGlmIChkaXNwbGF5SW5mbyAmJiBkaXNwbGF5QkJveCAmJiBkaXNwbGF5VGV4dCkge1xuICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHsgZ2V0U3RhZmZCQm94LCBzZWxlY3RCQm94LCBzZWxlY3RTdGFmZiwgc2VsZWN0QWxsIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBFZGl0b3JBY3Rpb24sIFJlc2l6ZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGlzT3V0T2ZTVkdCb3VuZHMgfSBmcm9tICcuL0Nvb3JkaW5hdGVzJztcbmltcG9ydCB7IHF1ZXVlTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuL0xvY2FsU2V0dGluZ3MnO1xuXG4vKipcbiAqIFJlc2l6ZSBhIHN0YWZmIG9yIGEgc3lsbGFibGUgdGV4dCBib3VuZGluZyBib3guXG4gKiBGb3Igc3RhdmVzLCB0aGlzIGFsc28gc3VwcG9ydHMgYWRqdXN0aW5nIHRoZSByb3RhdGUuXG4gKi9cbnR5cGUgUG9pbnQgPSB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyBuYW1lOiBudW1iZXIgfTtcblxuLyoqXG4gKiBUaGUgcG9pbnRzIHlvdSBjYW4gY2xpY2sgYW5kIGRyYWcgdG8gcmVzaXplXG4gKi9cbmNvbnN0IFBvaW50TmFtZXMgPSB7XG4gIFRvcExlZnQ6IDAsXG4gIFRvcDogMSxcbiAgVG9wUmlnaHQ6IDIsXG4gIFJpZ2h0OiAzLFxuICBCb3R0b21SaWdodDogNCxcbiAgQm90dG9tOiA1LFxuICBCb3R0b21MZWZ0OiA2LFxuICBMZWZ0OiA3XG59O1xuXG5mdW5jdGlvbiBnZXRQb2ludHModWx4OiBudW1iZXIsIHVseTogbnVtYmVyLCBscng6IG51bWJlciwgbHJ5OiBudW1iZXIsIHJvdGF0ZTogbnVtYmVyKTogUG9pbnRbXSB7XG4gIC8vIE5vdGUgdGhhdCBhcmMgZnVuY3Rpb25zIHJldHVybiBhbiBhbmdsZSB4IGluIFstcGkvMiwgcGkvMl0uXG4gIGxldCBwb2ludHM6IEFycmF5PFBvaW50PjtcbiAgLy8gdWwgaXMgdWx4LCB1bHksIGxyIGlzIGxyeCwgbHJ5XG4gIGlmIChyb3RhdGUgPj0gMCkge1xuICAgIHBvaW50cyA9IFtcbiAgICAgIHsgeDogdWx4LCB5OiB1bHksIG5hbWU6IFBvaW50TmFtZXMuVG9wTGVmdCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IHVseSArIChscnggLSB1bHgpIC8gMiAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuVG9wIH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5ICsgKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLlRvcFJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogKHVseSArIGxyeSArIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSkgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogbHJ5LCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogbHJ5IC0gKGxyeCAtIHVseCkgLyAyICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b20gfSxcbiAgICAgIHsgeDogdWx4LCB5OiBscnkgLSAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tTGVmdCB9LFxuICAgICAgeyB4OiB1bHgsIHk6ICh1bHkgKyBscnkgLSAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSkpIC8gMiwgbmFtZTogUG9pbnROYW1lcy5MZWZ0IH1cbiAgICBdO1xuICB9XG4gIC8vIE5vdCB0aGF0XG4gIGVsc2Uge1xuICAgIGNvbnN0IGEgPSAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKE1hdGguYWJzKHJvdGF0ZSkpO1xuICAgIGNvbnN0IGIgPSBscnkgLSB1bHkgLSBhO1xuICAgIHBvaW50cyA9IFtcbiAgICAgIHsgeDogdWx4LCB5OiB1bHkgKyBhLCBuYW1lOiBQb2ludE5hbWVzLlRvcExlZnQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiB1bHkgKyBhIC8gMiwgbmFtZTogUG9pbnROYW1lcy5Ub3AgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHksIG5hbWU6IFBvaW50TmFtZXMuVG9wUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHkgKyBiIC8gMiwgbmFtZTogUG9pbnROYW1lcy5SaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSArIGIsIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tUmlnaHQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiBscnkgLSBhIC8gMiwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b20gfSxcbiAgICAgIHsgeDogdWx4LCB5OiBscnksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tTGVmdCB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSAtIGIgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkxlZnQgfVxuICAgIF07XG4gIH1cbiAgcmV0dXJuIHBvaW50cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZSAoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50LCBuZW9uVmlldzogTmVvblZpZXcsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IHZvaWQge1xuICBsZXQgdWx4OiBudW1iZXI7XG4gIGxldCB1bHk6IG51bWJlcjtcbiAgbGV0IGxyeDogbnVtYmVyO1xuICBsZXQgbHJ5OiBudW1iZXI7XG4gIGxldCByb3RhdGU6IG51bWJlcjtcblxuICBsZXQgaW5pdGlhbFVseDogbnVtYmVyLCBpbml0aWFsTHJ4OiBudW1iZXI7XG4gIGxldCBpbml0aWFsUG9pbnQ6IG51bWJlcltdLCBpbml0aWFsVWx5OiBudW1iZXIsIGluaXRpYWxMcnk6IG51bWJlcixcbiAgICBpbml0aWFsWTogbnVtYmVyLCBpbml0aWFsUmVjdFk6IG51bWJlciwgcG9seUxlbjogbnVtYmVyLCBkeTogbnVtYmVyLCBpbml0aWFsUm90YXRlOiBudW1iZXI7XG5cbiAgZHJhd0luaXRpYWxSZWN0KCk7XG5cbiAgLyoqXG4gICAqIFJlZHJhdyB0aGUgcmVjdGFuZ2xlIHdpdGggdGhlIG5ldyBib3VuZHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlZHJhdyAoKTogdm9pZCB7XG4gICAgY29uc3QgcG9pbnRzOiBQb2ludFtdID0gZ2V0UG9pbnRzKHVseCwgdWx5LCBscngsIGxyeSwgcm90YXRlKTtcblxuICAgIGNvbnN0IHBvaW50U3RyaW5nOiBzdHJpbmcgPSBwb2ludHMuZmlsdGVyKChfZWxlbSwgaW5kZXgpID0+IHsgcmV0dXJuIGluZGV4ICUgMiA9PT0gMDsgfSlcbiAgICAgIC5tYXAoZWxlbSA9PiBlbGVtLnggKyAnLCcgKyBlbGVtLnkpXG4gICAgICAuam9pbignICcpO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc2l6ZVJlY3QnKS5zZXRBdHRyaWJ1dGUoJ3BvaW50cycsIHBvaW50U3RyaW5nKTtcblxuICAgIGNvbnN0IHRleHRSZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN5bC5zZWxlY3RlZCA+IC5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgaWYgKHRleHRSZWN0KSB7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3gnLCBTdHJpbmcoTWF0aC5taW4odWx4LCBscngpKSk7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3knLCBTdHJpbmcoTWF0aC5taW4odWx5LCBscnkpKSk7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgU3RyaW5nKE1hdGguYWJzKGxyeCAtIHVseCkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgU3RyaW5nKE1hdGguYWJzKGxyeSAtIHVseSkpKTtcbiAgICB9XG5cblxuICAgIGZvciAoY29uc3QgcG9pbnROYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGNvbnN0IHBvaW50OiBQb2ludCA9IHBvaW50c1tQb2ludE5hbWVzW3BvaW50TmFtZV1dO1xuICAgICAgZDMuc2VsZWN0KCcjcC0nICsgcG9pbnROYW1lKS5maWx0ZXIoJy5yZXNpemVQb2ludCcpXG4gICAgICAgIC5hdHRyKCdjeCcsIHBvaW50LngpXG4gICAgICAgIC5hdHRyKCdjeScsIHBvaW50LnkpO1xuICAgIH1cblxuICAgIGxldCB4ID0gcG9pbnRzWzNdLng7XG4gICAgbGV0IHkgPSBwb2ludHNbM10ueTtcbiAgICBjb25zdCBwb2ludFN0cmluZ1JpZ2h0ID0gKHggKyAxMDApICsgJywnICsgKHkgKyA4NSkgKyAnICcgK1xuICAgICAgKHggKyA3MCkgKyAnLCcgKyAoeSArIDUwKSArICcgJyArICh4ICsgMTAwKSArICcsJyArICh5ICsgMTUpICsgJyAnICsgKHggKyAxMzApICsgJywnICsgKHkgKyA1MCk7XG4gICAgeCA9IHBvaW50c1s3XS54O1xuICAgIHkgPSBwb2ludHNbN10ueTtcbiAgICBjb25zdCBwb2ludFN0cmluZ0xlZnQgPSAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDE1KSArICcgJyArXG4gICAgICAoeCAtIDEzMCkgKyAnLCcgKyAoeSAtIDUwKSArICcgJyArICh4IC0gMTAwKSArICcsJyArICh5IC0gODUpICsgJyAnICsgKHggLSA3MCkgKyAnLCcgKyAoeSAtIDUwKTtcblxuICAgIGQzLnNlbGVjdCgnI3JvdGF0ZUxlZnQnKS5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ0xlZnQpO1xuICAgIGQzLnNlbGVjdCgnI3JvdGF0ZVJpZ2h0JykuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdSaWdodCk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgaW5pdGlhbCByZWN0YW5nbGUgYXJvdW5kIHRoZSBlbGVtZW50XG4gICAqIGFuZCBhZGQgdGhlIGxpc3RlbmVycyB0byBzdXBwb3J0IGRyYWdnaW5nIHRvIHJlc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGRyYXdJbml0aWFsUmVjdCAoKTogdm9pZCB7XG4gICAgaWYgKGVsZW1lbnQgPT09IG51bGwpIHJldHVybjtcblxuICAgIGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50JykucmVtb3ZlKCk7XG4gICAgZDMuc2VsZWN0QWxsKCcjcmVzaXplUmVjdCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnLnJvdGF0ZVBvaW50JykucmVtb3ZlKCk7XG5cbiAgICAvLyBpZiBpdCdzIGEgYm91bmRpbmdib3gganVzdCBnZXQgdGhlIGNvb3JkaW5hdGVzXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgY29uc3QgcmVjdCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmIChyZWN0ID09PSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVHJpZWQgdG8gZHJhdyByZXNpemUgcmVjdCBmb3IgYSBzeWxUZXh0UmVjdCB0aGF0IGRvZXNuXFwndCBleGlzdCAob3IgaXNuXFwndCBkaXNwbGF5aW5nKScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1bHggPSBOdW1iZXIocmVjdC5nZXRBdHRyaWJ1dGUoJ3gnKSk7XG4gICAgICB1bHkgPSBOdW1iZXIocmVjdC5nZXRBdHRyaWJ1dGUoJ3knKSk7XG4gICAgICBscnggPSArdWx4ICsgK3JlY3QuZ2V0QXR0cmlidXRlKCd3aWR0aCcpO1xuICAgICAgbHJ5ID0gK3VseSArICtyZWN0LmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jyk7XG5cbiAgICAgIHJvdGF0ZSA9IDA7XG4gICAgfVxuXG4gICAgLy8gaWYgaXQncyBhIHN0YWZmIHVzZSB0aGUgcGF0aHMgdG8gZ2V0IGl0J3MgYm91bmRpbmdib3hcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgIGNvbnN0IGJib3ggPSBnZXRTdGFmZkJCb3goZWxlbWVudCk7XG4gICAgICB1bHggPSBiYm94LnVseDtcbiAgICAgIHVseSA9IGJib3gudWx5O1xuICAgICAgbHJ4ID0gYmJveC5scng7XG4gICAgICBscnkgPSBiYm94LmxyeTtcblxuICAgICAgY29uc3QgY29vcmRpbmF0ZXM6IG51bWJlcltdID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdwYXRoJylcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZCcpXG4gICAgICAgIC5tYXRjaCgvXFxkKy9nKVxuICAgICAgICAubWFwKGVsZW1lbnQgPT4gTnVtYmVyKGVsZW1lbnQpKTtcbiAgICAgIHJvdGF0ZSA9IE1hdGguYXRhbigoY29vcmRpbmF0ZXNbM10gLSBjb29yZGluYXRlc1sxXSkgL1xuICAgICAgICAoY29vcmRpbmF0ZXNbMl0gLSBjb29yZGluYXRlc1swXSkpO1xuICAgIH1cblxuICAgIGluaXRpYWxVbHggPSB1bHgsIGluaXRpYWxVbHkgPSB1bHksIGluaXRpYWxMcnggPSBscngsIGluaXRpYWxMcnkgPSBscnk7XG5cbiAgICBsZXQgd2hpY2hQb2ludDogc3RyaW5nO1xuXG4gICAgY29uc3QgcG9pbnRzID0gZ2V0UG9pbnRzKHVseCwgdWx5LCBscngsIGxyeSwgcm90YXRlKTtcblxuICAgIHBvbHlMZW4gPSBwb2ludHNbMl0ueCAtIHBvaW50c1swXS54O1xuXG4gICAgY29uc3QgcG9pbnRTdHJpbmcgPSBwb2ludHMuZmlsdGVyKChfLCBpbmRleCkgPT4gaW5kZXggJSAyID09PSAwKVxuICAgICAgLm1hcChlbGVtID0+IGVsZW0ueCArICcsJyArIGVsZW0ueSlcbiAgICAgIC5qb2luKCcgJyk7XG5cbiAgICBkMy5zZWxlY3QoJyMnICsgZWxlbWVudC5pZCkuYXBwZW5kKCdwb2x5Z29uJylcbiAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZylcbiAgICAgIC5hdHRyKCdpZCcsICdyZXNpemVSZWN0JylcbiAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDEwKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnbm9uZScpXG4gICAgICAuc3R5bGUoJ2N1cnNvcicsICdtb3ZlJylcbiAgICAgIC5zdHlsZSgnc3Ryb2tlLWRhc2hhcnJheScsICcyMCAxMCcpO1xuXG4gICAgY29uc3QgeyBjaXJjbGVTaXplIH0gPSBnZXRTZXR0aW5ncygpO1xuXG4gICAgZm9yIChjb25zdCBwb2ludE5hbWUgaW4gUG9pbnROYW1lcykge1xuICAgICAgY29uc3QgcG9pbnQ6IFBvaW50ID0gcG9pbnRzW1BvaW50TmFtZXNbcG9pbnROYW1lXV07XG4gICAgICBkMy5zZWxlY3QoZWxlbWVudC52aWV3cG9ydEVsZW1lbnQpLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgICAgLmF0dHIoJ2N4JywgcG9pbnQueClcbiAgICAgICAgLmF0dHIoJ2N5JywgcG9pbnQueSlcbiAgICAgICAgLmF0dHIoJ3InLCBjaXJjbGVTaXplKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDQpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyMwMDk5ZmYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncmVzaXplUG9pbnQnKVxuICAgICAgICAuYXR0cignaWQnLCAncC0nICsgcG9pbnROYW1lKTtcbiAgICB9XG5cbiAgICAvLyBkbyBpdCBhcyBhIGxvb3AgaW5zdGVhZCBvZiBzZWxlY3RBbGwgc28gdGhhdCB5b3UgY2FuIGVhc2lseSBrbm93IHdoaWNoIHBvaW50IHdhc1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBQb2ludE5hbWVzKSB7XG4gICAgICBkMy5zZWxlY3QoJyNwLScgKyBuYW1lKS5maWx0ZXIoJy5yZXNpemVQb2ludCcpLmNhbGwoXG4gICAgICAgIGQzLmRyYWcoKVxuICAgICAgICAgIC5vbignc3RhcnQnLCAoKSA9PiB7IHJlc2l6ZVN0YXJ0KG5hbWUpOyB9KVxuICAgICAgICAgIC5vbignZHJhZycsIHJlc2l6ZURyYWcpXG4gICAgICAgICAgLm9uKCdlbmQnLCByZXNpemVFbmQuYmluZCh0aGlzKSkpO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgICAgbGV0IHggPSBwb2ludHNbM10ueDtcbiAgICAgIGxldCB5ID0gcG9pbnRzWzNdLnk7XG4gICAgICBjb25zdCBwb2ludFN0cmluZ1JpZ2h0ID0gKHggKyAxMDApICsgJywnICsgKHkgKyA4NSkgKyAnICcgK1xuICAgICAgICAoeCArIDcwKSArICcsJyArICh5ICsgNTApICsgJyAnICsgKHggKyAxMDApICsgJywnICsgKHkgKyAxNSkgKyAnICcgKyAoeCArIDEzMCkgKyAnLCcgKyAoeSArIDUwKTtcbiAgICAgIHggPSBwb2ludHNbN10ueDtcbiAgICAgIHkgPSBwb2ludHNbN10ueTtcbiAgICAgIGNvbnN0IHBvaW50U3RyaW5nTGVmdCA9ICh4IC0gMTAwKSArICcsJyArICh5IC0gMTUpICsgJyAnICtcbiAgICAgICAgKHggLSAxMzApICsgJywnICsgKHkgLSA1MCkgKyAnICcgKyAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDg1KSArICcgJyArICh4IC0gNzApICsgJywnICsgKHkgLSA1MCk7XG5cbiAgICAgIGQzLnNlbGVjdCgnIycgKyBlbGVtZW50LmlkKS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdSaWdodClcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3JvdGF0ZVJpZ2h0JylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCA3KVxuICAgICAgICAuYXR0cignZmlsbCcsICcjMDA5OWZmJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JvdGF0ZVBvaW50Jyk7XG5cbiAgICAgIGQzLnNlbGVjdCgnIycgKyBlbGVtZW50LmlkKS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdMZWZ0KVxuICAgICAgICAuYXR0cignaWQnLCAncm90YXRlTGVmdCcpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgNylcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzAwOTlmZicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyb3RhdGVQb2ludCcpO1xuXG4gICAgICBkMy5zZWxlY3QoJyNyb3RhdGVMZWZ0JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsIHJvdGF0ZVN0YXJ0KVxuICAgICAgICAgIC5vbignZHJhZycsIHJvdGF0ZURyYWdMZWZ0KVxuICAgICAgICAgIC5vbignZW5kJywgcm90YXRlRW5kKSk7XG5cbiAgICAgIGQzLnNlbGVjdCgnI3JvdGF0ZVJpZ2h0JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsIHJvdGF0ZVN0YXJ0KVxuICAgICAgICAgIC5vbignZHJhZycsIHJvdGF0ZURyYWdSaWdodClcbiAgICAgICAgICAub24oJ2VuZCcsIHJvdGF0ZUVuZCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZVN0YXJ0IChuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgIHdoaWNoUG9pbnQgPSBuYW1lO1xuICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHMuZmluZChwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzW25hbWVdKTtcbiAgICAgIGluaXRpYWxQb2ludCA9IFtwb2ludC54LCBwb2ludC55XTtcbiAgICAgIGluaXRpYWxVbHkgPSB1bHk7XG4gICAgICBpbml0aWFsTHJ5ID0gbHJ5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZURyYWcgKCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VycmVudFBvaW50ID0gZDMubW91c2UodGhpcyk7XG4gICAgICBzd2l0Y2ggKFBvaW50TmFtZXNbd2hpY2hQb2ludF0pIHtcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlRvcExlZnQ6XG4gICAgICAgICAgdWx4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlRvcDpcbiAgICAgICAgICB1bHkgPSBjdXJyZW50UG9pbnRbMV0gLSAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkgLyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXSAtIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlJpZ2h0OlxuICAgICAgICAgIGxyeCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICBscnkgPSBpbml0aWFsTHJ5ICsgKGN1cnJlbnRQb2ludFswXSAtIGluaXRpYWxQb2ludFswXSkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIGxyeSA9IGN1cnJlbnRQb2ludFsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLkJvdHRvbTpcbiAgICAgICAgICBscnkgPSBjdXJyZW50UG9pbnRbMV0gKyAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkgLyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgbHJ5ID0gY3VycmVudFBvaW50WzFdICsgKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gaW5pdGlhbFVseSArIChjdXJyZW50UG9pbnRbMF0gLSBpbml0aWFsUG9pbnRbMF0pICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdTb21ldGhpbmcgdGhhdCB3YXNuXFwndCBhIHNpZGUgb2YgdGhlIHJlY3RhbmdsZSB3YXMgZHJhZ2dlZC4gVGhpcyBzaG91bGRuXFwndCBoYXBwZW4uJyk7XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemVFbmQgKCk6IHZvaWQge1xuICAgICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHModWx4LCB1bHkpIHx8IGlzT3V0T2ZTVkdCb3VuZHMobHJ4LCBscnkpKSB7XG4gICAgICAgIHVseCA9IGluaXRpYWxVbHgsIHVseSA9IGluaXRpYWxVbHksIGxyeCA9IGluaXRpYWxMcngsIGxyeSA9IGluaXRpYWxMcnk7XG4gICAgICAgIHJlZHJhdygpO1xuXG4gICAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBSZXNpemUgYWN0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBSZXNpemVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3Jlc2l6ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHVseDogdWx4LFxuICAgICAgICAgIHVseTogdWx5LFxuICAgICAgICAgIGxyeDogbHJ4LFxuICAgICAgICAgIGxyeTogbHJ5XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgYXdhaXQgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7ZWxlbWVudC5pZH1gKTtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkLCB1bHkgPSB1bmRlZmluZWQsIGxyeCA9IHVuZGVmaW5lZCwgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkcmF3SW5pdGlhbFJlY3QoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7ZWxlbWVudC5pZH1gKV0sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAgICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtb3JlRWRpdCcpO1xuXG4gICAgICAgICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICAgICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBST1RBVEVcbiAgICBmdW5jdGlvbiByb3RhdGVTdGFydCAoKTogdm9pZCB7XG4gICAgICBjb25zdCB3aGljaCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldC5pZDtcbiAgICAgIGluaXRpYWxZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBpbml0aWFsTHJ5ID0gbHJ5O1xuICAgICAgaW5pdGlhbFVseSA9IHVseTtcbiAgICAgIGluaXRpYWxSZWN0WSA9ICh3aGljaCA9PT0gJ3JvdGF0ZVJpZ2h0JyA/IGxyeSA6IHVseSk7XG4gICAgICBpbml0aWFsUm90YXRlID0gcm90YXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZURyYWdMZWZ0ICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBjb25zdCB0ZW1wID0gY3VycmVudFkgLSBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHRlbXBSb3RhdGUgPSBpbml0aWFsUm90YXRlIC0gTWF0aC5hdGFuKHRlbXAgLyBwb2x5TGVuKTtcbiAgICAgIGlmICh0ZW1wUm90YXRlID4gLTAuMiAmJiB0ZW1wUm90YXRlIDwgMC4yKSB7XG4gICAgICAgIGR5ID0gdGVtcDtcbiAgICAgICAgdWx5ID0gaW5pdGlhbFJlY3RZICsgZHk7XG4gICAgICAgIHJvdGF0ZSA9IHRlbXBSb3RhdGU7XG4gICAgICAgIGlmIChyb3RhdGUgPj0gMCkge1xuICAgICAgICAgIHVseSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcExlZnQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0KVswXS55O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVseSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BSaWdodClbMF0ueTtcbiAgICAgICAgICBscnkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21MZWZ0KVswXS55O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVEcmFnUmlnaHQgKCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VycmVudFkgPSBkMy5tb3VzZSh0aGlzKVsxXTtcbiAgICAgIGNvbnN0IHRlbXAgPSBjdXJyZW50WSAtIGluaXRpYWxZO1xuICAgICAgY29uc3QgdGVtcFJvdGF0ZSA9IGluaXRpYWxSb3RhdGUgKyBNYXRoLmF0YW4odGVtcCAvIHBvbHlMZW4pO1xuICAgICAgaWYgKHRlbXBSb3RhdGUgPiAtMC4yICYmIHRlbXBSb3RhdGUgPCAwLjIpIHtcbiAgICAgICAgZHkgPSB0ZW1wO1xuICAgICAgICByb3RhdGUgPSB0ZW1wUm90YXRlO1xuICAgICAgICBpZiAocm90YXRlID49IDAgKSB7XG4gICAgICAgICAgbHJ5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tUmlnaHQpWzBdLnk7XG4gICAgICAgICAgdWx5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcExlZnQpWzBdLnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdWx5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wUmlnaHQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbUxlZnQpWzBdLnk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZUVuZCAoKTogdm9pZCB7XG4gICAgICBpZiAoZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkeSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc091dE9mU1ZHQm91bmRzKHVseCwgdWx5KSB8fCBpc091dE9mU1ZHQm91bmRzKGxyeCwgbHJ5KSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVzaXplUG9pbnQnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Jlc2l6ZVJlY3QnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJvdGF0ZVBvaW50JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQuaWQpIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICB1bHggPSB1bmRlZmluZWQ7XG4gICAgICAgIHVseSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbHJ4ID0gdW5kZWZpbmVkO1xuICAgICAgICBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGR5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkcmF3SW5pdGlhbFJlY3QoKTtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgICAgIHNlbGVjdEJCb3goZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCBkcmFnSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0U3RhZmYoZWxlbWVudCwgZHJhZ0hhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIFJvdGF0ZSBhY3Rpb24gZmFpbGVkLicsICdlcnJvcicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAncmVzaXplUm90YXRlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgdWx4OiB1bHgsXG4gICAgICAgICAgdWx5OiB1bHksXG4gICAgICAgICAgbHJ4OiBscngsXG4gICAgICAgICAgbHJ5OiBscnksXG4gICAgICAgICAgcm90YXRlOiByb3RhdGUgKiAxODAgLyBNYXRoLlBJXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGF3YWl0IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQuaWQpIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICB1bHggPSB1bmRlZmluZWQsIHVseSA9IHVuZGVmaW5lZCwgbHJ4ID0gdW5kZWZpbmVkLCBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGR5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkcmF3SW5pdGlhbFJlY3QoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdFN0YWZmKGVsZW1lbnQsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgaW1tZWRpYXRlIGZyb20gJ2ltbWVkaWF0ZSc7XG5pbXBvcnQgeyB2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IE1kNSBmcm9tICdzcGFyay1tZDUnO1xuaW1wb3J0IHZ1dnV6ZWxhIGZyb20gJ3Z1dnV6ZWxhJztcbmltcG9ydCBnZXRBcmd1bWVudHMgZnJvbSAnYXJnc2FycmF5JztcbmltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5pbXBvcnQgRUUgZnJvbSAnZXZlbnRzJztcblxuZnVuY3Rpb24gbWFuZ2xlKGtleSkge1xuICByZXR1cm4gJyQnICsga2V5O1xufVxuZnVuY3Rpb24gdW5tYW5nbGUoa2V5KSB7XG4gIHJldHVybiBrZXkuc3Vic3RyaW5nKDEpO1xufVxuZnVuY3Rpb24gTWFwJDEoKSB7XG4gIHRoaXMuX3N0b3JlID0ge307XG59XG5NYXAkMS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICByZXR1cm4gdGhpcy5fc3RvcmVbbWFuZ2xlZF07XG59O1xuTWFwJDEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHRoaXMuX3N0b3JlW21hbmdsZWRdID0gdmFsdWU7XG4gIHJldHVybiB0cnVlO1xufTtcbk1hcCQxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHJldHVybiBtYW5nbGVkIGluIHRoaXMuX3N0b3JlO1xufTtcbk1hcCQxLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpLm1hcChrID0+IHVubWFuZ2xlKGspKTtcbn07XG5NYXAkMS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICB2YXIgcmVzID0gbWFuZ2xlZCBpbiB0aGlzLl9zdG9yZTtcbiAgZGVsZXRlIHRoaXMuX3N0b3JlW21hbmdsZWRdO1xuICByZXR1cm4gcmVzO1xufTtcbk1hcCQxLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNiKSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0ga2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuX3N0b3JlW2tleV07XG4gICAga2V5ID0gdW5tYW5nbGUoa2V5KTtcbiAgICBjYih2YWx1ZSwga2V5KTtcbiAgfVxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXAkMS5wcm90b3R5cGUsICdzaXplJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpLmxlbmd0aDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIFNldCQxKGFycmF5KSB7XG4gIHRoaXMuX3N0b3JlID0gbmV3IE1hcCQxKCk7XG5cbiAgLy8gaW5pdCB3aXRoIGFuIGFycmF5XG4gIGlmIChhcnJheSAmJiBBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdGhpcy5hZGQoYXJyYXlbaV0pO1xuICAgIH1cbiAgfVxufVxuU2V0JDEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX3N0b3JlLnNldChrZXksIHRydWUpO1xufTtcblNldCQxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9zdG9yZS5oYXMoa2V5KTtcbn07XG5TZXQkMS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYikge1xuICB0aGlzLl9zdG9yZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgY2Ioa2V5KTtcbiAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldCQxLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5zaXplO1xuICB9XG59KTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9rYW5nYXguZ2l0aHViLmlvL2NvbXBhdC10YWJsZS9lczYvIHdlIGNhbiBzbmlmZiBvdXRcbi8vIGluY29tcGxldGUgTWFwL1NldCBpbXBsZW1lbnRhdGlvbnMgd2hpY2ggd291bGQgb3RoZXJ3aXNlIGNhdXNlIG91ciB0ZXN0cyB0byBmYWlsLlxuLy8gTm90YWJseSB0aGV5IGZhaWwgaW4gSUUxMSBhbmQgaU9TIDguNCwgd2hpY2ggdGhpcyBwcmV2ZW50cy5cbmZ1bmN0aW9uIHN1cHBvcnRzTWFwQW5kU2V0KCkge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIE1hcCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIFNldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3AgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE1hcCwgU3ltYm9sLnNwZWNpZXMpO1xuICByZXR1cm4gcHJvcCAmJiAnZ2V0JyBpbiBwcm9wICYmIE1hcFtTeW1ib2wuc3BlY2llc10gPT09IE1hcDtcbn1cblxuLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL21vbnRhZ2Vqcy9jb2xsZWN0aW9uc1xuXG52YXIgRXhwb3J0ZWRTZXQ7XG52YXIgRXhwb3J0ZWRNYXA7XG5cbntcbiAgaWYgKHN1cHBvcnRzTWFwQW5kU2V0KCkpIHsgLy8gcHJlZmVyIGJ1aWx0LWluIE1hcC9TZXRcbiAgICBFeHBvcnRlZFNldCA9IFNldDtcbiAgICBFeHBvcnRlZE1hcCA9IE1hcDtcbiAgfSBlbHNlIHsgLy8gZmFsbCBiYWNrIHRvIG91ciBwb2x5ZmlsbFxuICAgIEV4cG9ydGVkU2V0ID0gU2V0JDE7XG4gICAgRXhwb3J0ZWRNYXAgPSBNYXAkMTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0JpbmFyeU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIG9iamVjdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fFxuICAgICh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqZWN0IGluc3RhbmNlb2YgQmxvYik7XG59XG5cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYnVmZikge1xuICBpZiAodHlwZW9mIGJ1ZmYuc2xpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYnVmZi5zbGljZSgwKTtcbiAgfVxuICAvLyBJRTEwLTExIHNsaWNlKCkgcG9seWZpbGxcbiAgdmFyIHRhcmdldCA9IG5ldyBBcnJheUJ1ZmZlcihidWZmLmJ5dGVMZW5ndGgpO1xuICB2YXIgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXQpO1xuICB2YXIgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmKTtcbiAgdGFyZ2V0QXJyYXkuc2V0KHNvdXJjZUFycmF5KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY2xvbmVCaW5hcnlPYmplY3Qob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG4gIH1cbiAgdmFyIHNpemUgPSBvYmplY3Quc2l6ZTtcbiAgdmFyIHR5cGUgPSBvYmplY3QudHlwZTtcbiAgLy8gQmxvYlxuICBpZiAodHlwZW9mIG9iamVjdC5zbGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBvYmplY3Quc2xpY2UoMCwgc2l6ZSwgdHlwZSk7XG4gIH1cbiAgLy8gUGhhbnRvbUpTIHNsaWNlKCkgcmVwbGFjZW1lbnRcbiAgcmV0dXJuIG9iamVjdC53ZWJraXRTbGljZSgwLCBzaXplLCB0eXBlKTtcbn1cblxuLy8gbW9zdCBvZiB0aGlzIGlzIGJvcnJvd2VkIGZyb20gbG9kYXNoLmlzUGxhaW5PYmplY3Q6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmlzLWNvbXBvbmVudHMvbG9kYXNoLmlzcGxhaW5vYmplY3QvXG4vLyBibG9iLzI5YzM1ODE0MGE3NGYyNTJhZWIwOGM5ZWIyOGJlZjg2ZjIyMTdkNGEvaW5kZXguanNcblxudmFyIGZ1bmNUb1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHByb3RvID09PSBudWxsKSB7IC8vIG5vdCBzdXJlIHdoZW4gdGhpcyBoYXBwZW5zLCBidXQgSSBndWVzcyBpdCBjYW5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiZcbiAgICBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nKTtcbn1cblxuZnVuY3Rpb24gY2xvbmUob2JqZWN0KSB7XG4gIHZhciBuZXdPYmplY3Q7XG4gIHZhciBpO1xuICB2YXIgbGVuO1xuXG4gIGlmICghb2JqZWN0IHx8IHR5cGVvZiBvYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICBuZXdPYmplY3QgPSBbXTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBvYmplY3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG5ld09iamVjdFtpXSA9IGNsb25lKG9iamVjdFtpXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmplY3Q7XG4gIH1cblxuICAvLyBzcGVjaWFsIGNhc2U6IHRvIGF2b2lkIGluY29uc2lzdGVuY2llcyBiZXR3ZWVuIEluZGV4ZWREQlxuICAvLyBhbmQgb3RoZXIgYmFja2VuZHMsIHdlIGF1dG9tYXRpY2FsbHkgc3RyaW5naWZ5IERhdGVzXG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBEYXRlICYmIGlzRmluaXRlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0LnRvSVNPU3RyaW5nKCk7XG4gIH1cblxuICBpZiAoaXNCaW5hcnlPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBjbG9uZUJpbmFyeU9iamVjdChvYmplY3QpO1xuICB9XG5cbiAgaWYgKCFpc1BsYWluT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0OyAvLyBkb24ndCBjbG9uZSBvYmplY3RzIGxpa2UgV29ya2Vyc1xuICB9XG5cbiAgbmV3T2JqZWN0ID0ge307XG4gIGZvciAoaSBpbiBvYmplY3QpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBpKSkge1xuICAgICAgdmFyIHZhbHVlID0gY2xvbmUob2JqZWN0W2ldKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5ld09iamVjdFtpXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3T2JqZWN0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGZ1bikge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgc21va2UgdGVzdCBhbmQgc2hvdWxkIG5ldmVyIGFjdHVhbGx5IGhhcHBlblxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvbmNlIGNhbGxlZCBtb3JlIHRoYW4gb25jZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvUHJvbWlzZShmdW5jKSB7XG4gIC8vY3JlYXRlIHRoZSBmdW5jdGlvbiB3ZSB3aWxsIGJlIHJldHVybmluZ1xuICByZXR1cm4gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgLy8gQ2xvbmUgYXJndW1lbnRzXG4gICAgYXJncyA9IGNsb25lKGFyZ3MpO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAvLyBpZiB0aGUgbGFzdCBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLCBhc3N1bWUgaXRzIGEgY2FsbGJhY2tcbiAgICB2YXIgdXNlZENCID0gKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpID8gYXJncy5wb3AoKSA6IGZhbHNlO1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgdmFyIHJlc3A7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBvbmNlKGZ1bmN0aW9uIChlcnIsIG1lc2cpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnVsZmlsbChtZXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgYSBjYWxsYmFjayBmb3IgdGhpcyBpbnZvY2F0aW9uXG4gICAgICAgIC8vIGFwcGx5IHRoZSBmdW5jdGlvbiBpbiB0aGUgb3JpZyBjb250ZXh0XG4gICAgICAgIGFyZ3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJlc3AgPSBmdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICBpZiAocmVzcCAmJiB0eXBlb2YgcmVzcC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZnVsZmlsbChyZXNwKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gaWYgdGhlcmUgaXMgYSBjYWxsYmFjaywgY2FsbCBpdCBiYWNrXG4gICAgaWYgKHVzZWRDQikge1xuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdXNlZENCKG51bGwsIHJlc3VsdCk7XG4gICAgICB9LCB1c2VkQ0IpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvZ0FwaUNhbGwoc2VsZiwgbmFtZSwgYXJncykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHNlbGYuY29uc3RydWN0b3IubGlzdGVuZXJzKCdkZWJ1ZycpLmxlbmd0aCkge1xuICAgIHZhciBsb2dBcmdzID0gWydhcGknLCBzZWxmLm5hbWUsIG5hbWVdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGxvZ0FyZ3MucHVzaChhcmdzW2ldKTtcbiAgICB9XG4gICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdkZWJ1ZycsIGxvZ0FyZ3MpO1xuXG4gICAgLy8gb3ZlcnJpZGUgdGhlIGNhbGxiYWNrIGl0c2VsZiB0byBsb2cgdGhlIHJlc3BvbnNlXG4gICAgdmFyIG9yaWdDYWxsYmFjayA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIHZhciByZXNwb25zZUFyZ3MgPSBbJ2FwaScsIHNlbGYubmFtZSwgbmFtZV07XG4gICAgICByZXNwb25zZUFyZ3MgPSByZXNwb25zZUFyZ3MuY29uY2F0KFxuICAgICAgICBlcnIgPyBbJ2Vycm9yJywgZXJyXSA6IFsnc3VjY2VzcycsIHJlc11cbiAgICAgICk7XG4gICAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ2RlYnVnJywgcmVzcG9uc2VBcmdzKTtcbiAgICAgIG9yaWdDYWxsYmFjayhlcnIsIHJlcyk7XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGFwdGVyRnVuKG5hbWUsIGNhbGxiYWNrKSB7XG4gIHJldHVybiB0b1Byb21pc2UoZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgaWYgKHRoaXMuX2Nsb3NlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZGF0YWJhc2UgaXMgY2xvc2VkJykpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdkYXRhYmFzZSBpcyBkZXN0cm95ZWQnKSk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBsb2dBcGlDYWxsKHNlbGYsIG5hbWUsIGFyZ3MpO1xuICAgIGlmICghdGhpcy50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbiAoZmFpbGVkKSB7XG4gICAgICAgICAgaWYgKGZhaWxlZCkge1xuICAgICAgICAgICAgcmVqZWN0KGZhaWxlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZ1bGZpbGwoc2VsZltuYW1lXS5hcHBseShzZWxmLCBhcmdzKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XG4gIH0pKTtcbn1cblxuLy8gbGlrZSB1bmRlcnNjb3JlL2xvZGFzaCBfLnBpY2soKVxuZnVuY3Rpb24gcGljayhvYmosIGFycikge1xuICB2YXIgcmVzID0ge307XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgcHJvcCA9IGFycltpXTtcbiAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgIHJlc1twcm9wXSA9IG9ialtwcm9wXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLy8gTW9zdCBicm93c2VycyB0aHJvdHRsZSBjb25jdXJyZW50IHJlcXVlc3RzIGF0IDYsIHNvIGl0J3Mgc2lsbHlcbi8vIHRvIHNoaW0gX2J1bGtfZ2V0IGJ5IHRyeWluZyB0byBsYXVuY2ggcG90ZW50aWFsbHkgaHVuZHJlZHMgb2YgcmVxdWVzdHNcbi8vIGFuZCB0aGVuIGxldHRpbmcgdGhlIG1ham9yaXR5IHRpbWUgb3V0LiBXZSBjYW4gaGFuZGxlIHRoaXMgb3Vyc2VsdmVzLlxudmFyIE1BWF9OVU1fQ09OQ1VSUkVOVF9SRVFVRVNUUyA9IDY7XG5cbmZ1bmN0aW9uIGlkZW50aXR5RnVuY3Rpb24oeCkge1xuICByZXR1cm4geDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQocmVzdWx0KSB7XG4gIHJldHVybiBbe1xuICAgIG9rOiByZXN1bHRcbiAgfV07XG59XG5cbi8vIHNoaW0gZm9yIFAvQ291Y2hEQiBhZGFwdGVycyB0aGF0IGRvbid0IGRpcmVjdGx5IGltcGxlbWVudCBfYnVsa19nZXRcbmZ1bmN0aW9uIGJ1bGtHZXQoZGIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciByZXF1ZXN0cyA9IG9wdHMuZG9jcztcblxuICAvLyBjb25zb2xpZGF0ZSBpbnRvIG9uZSByZXF1ZXN0IHBlciBkb2MgaWYgcG9zc2libGVcbiAgdmFyIHJlcXVlc3RzQnlJZCA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICByZXF1ZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgaWYgKHJlcXVlc3RzQnlJZC5oYXMocmVxdWVzdC5pZCkpIHtcbiAgICAgIHJlcXVlc3RzQnlJZC5nZXQocmVxdWVzdC5pZCkucHVzaChyZXF1ZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdHNCeUlkLnNldChyZXF1ZXN0LmlkLCBbcmVxdWVzdF0pO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIG51bURvY3MgPSByZXF1ZXN0c0J5SWQuc2l6ZTtcbiAgdmFyIG51bURvbmUgPSAwO1xuICB2YXIgcGVyRG9jUmVzdWx0cyA9IG5ldyBBcnJheShudW1Eb2NzKTtcblxuICBmdW5jdGlvbiBjb2xsYXBzZVJlc3VsdHNBbmRGaW5pc2goKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwZXJEb2NSZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgcmVzLmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgIGlkOiByZXMuaWQsXG4gICAgICAgICAgZG9jczogW2luZm9dXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY2FsbGJhY2sobnVsbCwge3Jlc3VsdHM6IHJlc3VsdHN9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBpZiAoKytudW1Eb25lID09PSBudW1Eb2NzKSB7XG4gICAgICBjb2xsYXBzZVJlc3VsdHNBbmRGaW5pc2goKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnb3RSZXN1bHQoZG9jSW5kZXgsIGlkLCBkb2NzKSB7XG4gICAgcGVyRG9jUmVzdWx0c1tkb2NJbmRleF0gPSB7aWQ6IGlkLCBkb2NzOiBkb2NzfTtcbiAgICBjaGVja0RvbmUoKTtcbiAgfVxuXG4gIHZhciBhbGxSZXF1ZXN0cyA9IFtdO1xuICByZXF1ZXN0c0J5SWQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIGFsbFJlcXVlc3RzLnB1c2goa2V5KTtcbiAgfSk7XG5cbiAgdmFyIGkgPSAwO1xuXG4gIGZ1bmN0aW9uIG5leHRCYXRjaCgpIHtcblxuICAgIGlmIChpID49IGFsbFJlcXVlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB1cFRvID0gTWF0aC5taW4oaSArIE1BWF9OVU1fQ09OQ1VSUkVOVF9SRVFVRVNUUywgYWxsUmVxdWVzdHMubGVuZ3RoKTtcbiAgICB2YXIgYmF0Y2ggPSBhbGxSZXF1ZXN0cy5zbGljZShpLCB1cFRvKTtcbiAgICBwcm9jZXNzQmF0Y2goYmF0Y2gsIGkpO1xuICAgIGkgKz0gYmF0Y2gubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKGJhdGNoLCBvZmZzZXQpIHtcbiAgICBiYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJZCwgaikge1xuICAgICAgdmFyIGRvY0lkeCA9IG9mZnNldCArIGo7XG4gICAgICB2YXIgZG9jUmVxdWVzdHMgPSByZXF1ZXN0c0J5SWQuZ2V0KGRvY0lkKTtcblxuICAgICAgLy8ganVzdCB1c2UgdGhlIGZpcnN0IHJlcXVlc3QgYXMgdGhlIFwidGVtcGxhdGVcIlxuICAgICAgLy8gVE9ETzogVGhlIF9idWxrX2dldCBBUEkgYWxsb3dzIGZvciBtb3JlIHN1YnRsZSB1c2UgY2FzZXMgdGhhbiB0aGlzLFxuICAgICAgLy8gYnV0IGZvciBub3cgaXQgaXMgdW5saWtlbHkgdGhhdCB0aGVyZSB3aWxsIGJlIGEgbWl4IG9mIGRpZmZlcmVudFxuICAgICAgLy8gXCJhdHRzX3NpbmNlXCIgb3IgXCJhdHRhY2htZW50c1wiIGluIHRoZSBzYW1lIHJlcXVlc3QsIHNpbmNlIGl0J3MganVzdFxuICAgICAgLy8gcmVwbGljYXRlLmpzIHRoYXQgaXMgdXNpbmcgdGhpcyBmb3IgdGhlIG1vbWVudC5cbiAgICAgIC8vIEFsc28sIGF0dHNfc2luY2UgaXMgYXNwaXJhdGlvbmFsLCBzaW5jZSB3ZSBkb24ndCBzdXBwb3J0IGl0IHlldC5cbiAgICAgIHZhciBkb2NPcHRzID0gcGljayhkb2NSZXF1ZXN0c1swXSwgWydhdHRzX3NpbmNlJywgJ2F0dGFjaG1lbnRzJ10pO1xuICAgICAgZG9jT3B0cy5vcGVuX3JldnMgPSBkb2NSZXF1ZXN0cy5tYXAoZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgLy8gcmV2IGlzIG9wdGlvbmFsLCBvcGVuX3JldnMgZGlzYWxsb3dlZFxuICAgICAgICByZXR1cm4gcmVxdWVzdC5yZXY7XG4gICAgICB9KTtcblxuICAgICAgLy8gcmVtb3ZlIGZhbHNleSAvIHVuZGVmaW5lZCByZXZpc2lvbnNcbiAgICAgIGRvY09wdHMub3Blbl9yZXZzID0gZG9jT3B0cy5vcGVuX3JldnMuZmlsdGVyKGlkZW50aXR5RnVuY3Rpb24pO1xuXG4gICAgICB2YXIgZm9ybWF0UmVzdWx0ID0gaWRlbnRpdHlGdW5jdGlvbjtcblxuICAgICAgaWYgKGRvY09wdHMub3Blbl9yZXZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkZWxldGUgZG9jT3B0cy5vcGVuX3JldnM7XG5cbiAgICAgICAgLy8gd2hlbiBmZXRjaGluZyBvbmx5IHRoZSBcIndpbm5pbmdcIiBsZWFmLFxuICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIHJlc3VsdCBzbyBpdCBsb29rcyBsaWtlIGFuIG9wZW5fcmV2c1xuICAgICAgICAvLyByZXF1ZXN0XG4gICAgICAgIGZvcm1hdFJlc3VsdCA9IGZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0O1xuICAgICAgfVxuXG4gICAgICAvLyBnbG9iYWxseS1zdXBwbGllZCBvcHRpb25zXG4gICAgICBbJ3JldnMnLCAnYXR0YWNobWVudHMnLCAnYmluYXJ5JywgJ2FqYXgnLCAnbGF0ZXN0J10uZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgaWYgKHBhcmFtIGluIG9wdHMpIHtcbiAgICAgICAgICBkb2NPcHRzW3BhcmFtXSA9IG9wdHNbcGFyYW1dO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRiLmdldChkb2NJZCwgZG9jT3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVzdWx0ID0gW3tlcnJvcjogZXJyfV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gZm9ybWF0UmVzdWx0KHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZ290UmVzdWx0KGRvY0lkeCwgZG9jSWQsIHJlc3VsdCk7XG4gICAgICAgIG5leHRCYXRjaCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBuZXh0QmF0Y2goKTtcblxufVxuXG52YXIgaGFzTG9jYWw7XG5cbnRyeSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfcG91Y2hfY2hlY2tfbG9jYWxzdG9yYWdlJywgMSk7XG4gIGhhc0xvY2FsID0gISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX3BvdWNoX2NoZWNrX2xvY2Fsc3RvcmFnZScpO1xufSBjYXRjaCAoZSkge1xuICBoYXNMb2NhbCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBoYXNMb2NhbFN0b3JhZ2UoKSB7XG4gIHJldHVybiBoYXNMb2NhbDtcbn1cblxuLy8gQ3VzdG9tIG5leHRUaWNrKCkgc2hpbSBmb3IgYnJvd3NlcnMuIEluIG5vZGUsIHRoaXMgd2lsbCBqdXN0IGJlIHByb2Nlc3MubmV4dFRpY2soKS4gV2VcblxuaW5oZXJpdHMoQ2hhbmdlcywgRUUpO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gYXR0YWNoQnJvd3NlckV2ZW50cyhzZWxmKSB7XG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSkge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBzZWxmLmVtaXQoZS5rZXkpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIENoYW5nZXMoKSB7XG4gIEVFLmNhbGwodGhpcyk7XG4gIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuXG4gIGF0dGFjaEJyb3dzZXJFdmVudHModGhpcyk7XG59XG5DaGFuZ2VzLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChkYk5hbWUsIGlkLCBkYiwgb3B0cykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHRoaXMuX2xpc3RlbmVyc1tpZF0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICBmdW5jdGlvbiBldmVudEZ1bmN0aW9uKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghc2VsZi5fbGlzdGVuZXJzW2lkXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5wcm9ncmVzcykge1xuICAgICAgaW5wcm9ncmVzcyA9ICd3YWl0aW5nJztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5wcm9ncmVzcyA9IHRydWU7XG4gICAgdmFyIGNoYW5nZXNPcHRzID0gcGljayhvcHRzLCBbXG4gICAgICAnc3R5bGUnLCAnaW5jbHVkZV9kb2NzJywgJ2F0dGFjaG1lbnRzJywgJ2NvbmZsaWN0cycsICdmaWx0ZXInLFxuICAgICAgJ2RvY19pZHMnLCAndmlldycsICdzaW5jZScsICdxdWVyeV9wYXJhbXMnLCAnYmluYXJ5JywgJ3JldHVybl9kb2NzJ1xuICAgIF0pO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBvbkVycm9yKCkge1xuICAgICAgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGRiLmNoYW5nZXMoY2hhbmdlc09wdHMpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKGMuc2VxID4gb3B0cy5zaW5jZSAmJiAhb3B0cy5jYW5jZWxsZWQpIHtcbiAgICAgICAgb3B0cy5zaW5jZSA9IGMuc2VxO1xuICAgICAgICBvcHRzLm9uQ2hhbmdlKGMpO1xuICAgICAgfVxuICAgIH0pLm9uKCdjb21wbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpbnByb2dyZXNzID09PSAnd2FpdGluZycpIHtcbiAgICAgICAgaW1tZWRpYXRlKGV2ZW50RnVuY3Rpb24pO1xuICAgICAgfVxuICAgICAgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICAgIH0pLm9uKCdlcnJvcicsIG9uRXJyb3IpO1xuICB9XG4gIHRoaXMuX2xpc3RlbmVyc1tpZF0gPSBldmVudEZ1bmN0aW9uO1xuICB0aGlzLm9uKGRiTmFtZSwgZXZlbnRGdW5jdGlvbik7XG59O1xuXG5DaGFuZ2VzLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChkYk5hbWUsIGlkKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIShpZCBpbiB0aGlzLl9saXN0ZW5lcnMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIEVFLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsIGRiTmFtZSxcbiAgICB0aGlzLl9saXN0ZW5lcnNbaWRdKTtcbiAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1tpZF07XG59O1xuXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5DaGFuZ2VzLnByb3RvdHlwZS5ub3RpZnlMb2NhbFdpbmRvd3MgPSBmdW5jdGlvbiAoZGJOYW1lKSB7XG4gIC8vZG8gYSB1c2VsZXNzIGNoYW5nZSBvbiBhIHN0b3JhZ2UgdGhpbmdcbiAgLy9pbiBvcmRlciB0byBnZXQgb3RoZXIgd2luZG93cydzIGxpc3RlbmVycyB0byBhY3RpdmF0ZVxuICBpZiAoaGFzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICBsb2NhbFN0b3JhZ2VbZGJOYW1lXSA9IChsb2NhbFN0b3JhZ2VbZGJOYW1lXSA9PT0gXCJhXCIpID8gXCJiXCIgOiBcImFcIjtcbiAgfVxufTtcblxuQ2hhbmdlcy5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gKGRiTmFtZSkge1xuICB0aGlzLmVtaXQoZGJOYW1lKTtcbiAgdGhpcy5ub3RpZnlMb2NhbFdpbmRvd3MoZGJOYW1lKTtcbn07XG5cbmZ1bmN0aW9uIGd1YXJkZWRDb25zb2xlKG1ldGhvZCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgY29uc29sZVttZXRob2RdLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJhbmRvbU51bWJlcihtaW4sIG1heCkge1xuICB2YXIgbWF4VGltZW91dCA9IDYwMDAwMDsgLy8gSGFyZC1jb2RlZCBkZWZhdWx0IG9mIDEwIG1pbnV0ZXNcbiAgbWluID0gcGFyc2VJbnQobWluLCAxMCkgfHwgMDtcbiAgbWF4ID0gcGFyc2VJbnQobWF4LCAxMCk7XG4gIGlmIChtYXggIT09IG1heCB8fCBtYXggPD0gbWluKSB7XG4gICAgbWF4ID0gKG1pbiB8fCAxKSA8PCAxOyAvL2RvdWJsaW5nXG4gIH0gZWxzZSB7XG4gICAgbWF4ID0gbWF4ICsgMTtcbiAgfVxuICAvLyBJbiBvcmRlciB0byBub3QgZXhjZWVkIG1heFRpbWVvdXQsIHBpY2sgYSByYW5kb20gdmFsdWUgYmV0d2VlbiBoYWxmIG9mIG1heFRpbWVvdXQgYW5kIG1heFRpbWVvdXRcbiAgaWYgKG1heCA+IG1heFRpbWVvdXQpIHtcbiAgICBtaW4gPSBtYXhUaW1lb3V0ID4+IDE7IC8vIGRpdmlkZSBieSB0d29cbiAgICBtYXggPSBtYXhUaW1lb3V0O1xuICB9XG4gIHZhciByYXRpbyA9IE1hdGgucmFuZG9tKCk7XG4gIHZhciByYW5nZSA9IG1heCAtIG1pbjtcblxuICByZXR1cm4gfn4ocmFuZ2UgKiByYXRpbyArIG1pbik7IC8vIH5+IGNvZXJjZXMgdG8gYW4gaW50LCBidXQgZmFzdC5cbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJhY2tPZmYobWluKSB7XG4gIHZhciBtYXggPSAwO1xuICBpZiAoIW1pbikge1xuICAgIG1heCA9IDIwMDA7XG4gIH1cbiAgcmV0dXJuIHJhbmRvbU51bWJlcihtaW4sIG1heCk7XG59XG5cbi8vIGRlc2lnbmVkIHRvIGdpdmUgaW5mbyB0byBicm93c2VyIHVzZXJzLCB3aG8gYXJlIGRpc3R1cmJlZFxuLy8gd2hlbiB0aGV5IHNlZSBodHRwIGVycm9ycyBpbiB0aGUgY29uc29sZVxuZnVuY3Rpb24gZXhwbGFpbkVycm9yKHN0YXR1cywgc3RyKSB7XG4gIGd1YXJkZWRDb25zb2xlKCdpbmZvJywgJ1RoZSBhYm92ZSAnICsgc3RhdHVzICsgJyBpcyB0b3RhbGx5IG5vcm1hbC4gJyArIHN0cik7XG59XG5cbnZhciBhc3NpZ247XG57XG4gIGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG4gIH0gZWxzZSB7XG4gICAgLy8gbGl0ZSBPYmplY3QuYXNzaWduIHBvbHlmaWxsIGJhc2VkIG9uXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuICAgIGFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICAgICAgaWYgKG5leHRTb3VyY2UgIT0gbnVsbCkgeyAvLyBTa2lwIG92ZXIgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0U291cmNlLCBuZXh0S2V5KSkge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdG87XG4gICAgfTtcbiAgfVxufVxuXG52YXIgJGluamVjdF9PYmplY3RfYXNzaWduID0gYXNzaWduO1xuXG5pbmhlcml0cyhQb3VjaEVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIFBvdWNoRXJyb3Ioc3RhdHVzLCBlcnJvciwgcmVhc29uKSB7XG4gIEVycm9yLmNhbGwodGhpcywgcmVhc29uKTtcbiAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gIHRoaXMubmFtZSA9IGVycm9yO1xuICB0aGlzLm1lc3NhZ2UgPSByZWFzb247XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xufVxuXG5Qb3VjaEVycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgcmVhc29uOiB0aGlzLnJlYXNvblxuICB9KTtcbn07XG5cbnZhciBVTkFVVEhPUklaRUQgPSBuZXcgUG91Y2hFcnJvcig0MDEsICd1bmF1dGhvcml6ZWQnLCBcIk5hbWUgb3IgcGFzc3dvcmQgaXMgaW5jb3JyZWN0LlwiKTtcbnZhciBNSVNTSU5HX0JVTEtfRE9DUyA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgXCJNaXNzaW5nIEpTT04gbGlzdCBvZiAnZG9jcydcIik7XG52YXIgTUlTU0lOR19ET0MgPSBuZXcgUG91Y2hFcnJvcig0MDQsICdub3RfZm91bmQnLCAnbWlzc2luZycpO1xudmFyIFJFVl9DT05GTElDVCA9IG5ldyBQb3VjaEVycm9yKDQwOSwgJ2NvbmZsaWN0JywgJ0RvY3VtZW50IHVwZGF0ZSBjb25mbGljdCcpO1xudmFyIElOVkFMSURfSUQgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdfaWQgZmllbGQgbXVzdCBjb250YWluIGEgc3RyaW5nJyk7XG52YXIgTUlTU0lOR19JRCA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ21pc3NpbmdfaWQnLCAnX2lkIGlzIHJlcXVpcmVkIGZvciBwdXRzJyk7XG52YXIgUkVTRVJWRURfSUQgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdPbmx5IHJlc2VydmVkIGRvY3VtZW50IGlkcyBtYXkgc3RhcnQgd2l0aCB1bmRlcnNjb3JlLicpO1xudmFyIE5PVF9PUEVOID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAncHJlY29uZGl0aW9uX2ZhaWxlZCcsICdEYXRhYmFzZSBub3Qgb3BlbicpO1xudmFyIFVOS05PV05fRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICd1bmtub3duX2Vycm9yJywgJ0RhdGFiYXNlIGVuY291bnRlcmVkIGFuIHVua25vd24gZXJyb3InKTtcbnZhciBCQURfQVJHID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnYmFkYXJnJywgJ1NvbWUgcXVlcnkgYXJndW1lbnQgaXMgaW52YWxpZCcpO1xudmFyIElOVkFMSURfUkVRVUVTVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2ludmFsaWRfcmVxdWVzdCcsICdSZXF1ZXN0IHdhcyBpbnZhbGlkJyk7XG52YXIgUVVFUllfUEFSU0VfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdxdWVyeV9wYXJzZV9lcnJvcicsICdTb21lIHF1ZXJ5IHBhcmFtZXRlciBpcyBpbnZhbGlkJyk7XG52YXIgRE9DX1ZBTElEQVRJT04gPSBuZXcgUG91Y2hFcnJvcig1MDAsICdkb2NfdmFsaWRhdGlvbicsICdCYWQgc3BlY2lhbCBkb2N1bWVudCBtZW1iZXInKTtcbnZhciBCQURfUkVRVUVTVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ1NvbWV0aGluZyB3cm9uZyB3aXRoIHRoZSByZXF1ZXN0Jyk7XG52YXIgTk9UX0FOX09CSkVDVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ0RvY3VtZW50IG11c3QgYmUgYSBKU09OIG9iamVjdCcpO1xudmFyIERCX01JU1NJTkcgPSBuZXcgUG91Y2hFcnJvcig0MDQsICdub3RfZm91bmQnLCAnRGF0YWJhc2Ugbm90IGZvdW5kJyk7XG52YXIgSURCX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnaW5kZXhlZF9kYl93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgV1NRX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnd2ViX3NxbF93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgTERCX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnbGV2ZWxEQl93ZW50X3dlbnRfYmFkJywgJ3Vua25vd24nKTtcbnZhciBGT1JCSURERU4gPSBuZXcgUG91Y2hFcnJvcig0MDMsICdmb3JiaWRkZW4nLCAnRm9yYmlkZGVuIGJ5IGRlc2lnbiBkb2MgdmFsaWRhdGVfZG9jX3VwZGF0ZSBmdW5jdGlvbicpO1xudmFyIElOVkFMSURfUkVWID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnSW52YWxpZCByZXYgZm9ybWF0Jyk7XG52YXIgRklMRV9FWElTVFMgPSBuZXcgUG91Y2hFcnJvcig0MTIsICdmaWxlX2V4aXN0cycsICdUaGUgZGF0YWJhc2UgY291bGQgbm90IGJlIGNyZWF0ZWQsIHRoZSBmaWxlIGFscmVhZHkgZXhpc3RzLicpO1xudmFyIE1JU1NJTkdfU1RVQiA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ21pc3Npbmdfc3R1YicsICdBIHByZS1leGlzdGluZyBhdHRhY2htZW50IHN0dWIgd2FzblxcJ3QgZm91bmQnKTtcbnZhciBJTlZBTElEX1VSTCA9IG5ldyBQb3VjaEVycm9yKDQxMywgJ2ludmFsaWRfdXJsJywgJ1Byb3ZpZGVkIFVSTCBpcyBpbnZhbGlkJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yKGVycm9yLCByZWFzb24pIHtcbiAgZnVuY3Rpb24gQ3VzdG9tUG91Y2hFcnJvcihyZWFzb24pIHtcbiAgICAvLyBpbmhlcml0IGVycm9yIHByb3BlcnRpZXMgZnJvbSBvdXIgcGFyZW50IGVycm9yIG1hbnVhbGx5XG4gICAgLy8gc28gYXMgdG8gYWxsb3cgcHJvcGVyIEpTT04gcGFyc2luZy5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgdmFyIG5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZXJyb3IpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBuYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHR5cGVvZiBlcnJvcltuYW1lc1tpXV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpc1tuYW1lc1tpXV0gPSBlcnJvcltuYW1lc1tpXV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gICAgfVxuXG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICBpZiAocmVhc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgIH1cbiAgfVxuICBDdXN0b21Qb3VjaEVycm9yLnByb3RvdHlwZSA9IFBvdWNoRXJyb3IucHJvdG90eXBlO1xuICByZXR1cm4gbmV3IEN1c3RvbVBvdWNoRXJyb3IocmVhc29uKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpIHtcblxuICBpZiAodHlwZW9mIGVyciAhPT0gJ29iamVjdCcpIHtcbiAgICB2YXIgZGF0YSA9IGVycjtcbiAgICBlcnIgPSBVTktOT1dOX0VSUk9SO1xuICAgIGVyci5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIGlmICgnZXJyb3InIGluIGVyciAmJiBlcnIuZXJyb3IgPT09ICdjb25mbGljdCcpIHtcbiAgICBlcnIubmFtZSA9ICdjb25mbGljdCc7XG4gICAgZXJyLnN0YXR1cyA9IDQwOTtcbiAgfVxuXG4gIGlmICghKCduYW1lJyBpbiBlcnIpKSB7XG4gICAgZXJyLm5hbWUgPSBlcnIuZXJyb3IgfHwgJ3Vua25vd24nO1xuICB9XG5cbiAgaWYgKCEoJ3N0YXR1cycgaW4gZXJyKSkge1xuICAgIGVyci5zdGF0dXMgPSA1MDA7XG4gIH1cblxuICBpZiAoISgnbWVzc2FnZScgaW4gZXJyKSkge1xuICAgIGVyci5tZXNzYWdlID0gZXJyLm1lc3NhZ2UgfHwgZXJyLnJlYXNvbjtcbiAgfVxuXG4gIGlmICghKCdzdGFjaycgaW4gZXJyKSkge1xuICAgIGVyci5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICByZXR1cm4gZXJyO1xufVxuXG5mdW5jdGlvbiB0cnlGaWx0ZXIoZmlsdGVyLCBkb2MsIHJlcSkge1xuICB0cnkge1xuICAgIHJldHVybiAhZmlsdGVyKGRvYywgcmVxKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdmFyIG1zZyA9ICdGaWx0ZXIgZnVuY3Rpb24gdGhyZXc6ICcgKyBlcnIudG9TdHJpbmcoKTtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsIG1zZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmlsdGVyQ2hhbmdlKG9wdHMpIHtcbiAgdmFyIHJlcSA9IHt9O1xuICB2YXIgaGFzRmlsdGVyID0gb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nO1xuICByZXEucXVlcnkgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcblxuICByZXR1cm4gZnVuY3Rpb24gZmlsdGVyKGNoYW5nZSkge1xuICAgIGlmICghY2hhbmdlLmRvYykge1xuICAgICAgLy8gQ1NHIHNlbmRzIGV2ZW50cyBvbiB0aGUgY2hhbmdlcyBmZWVkIHRoYXQgZG9uJ3QgaGF2ZSBkb2N1bWVudHMsXG4gICAgICAvLyB0aGlzIGhhY2sgbWFrZXMgYSB3aG9sZSBsb3Qgb2YgZXhpc3RpbmcgY29kZSByb2J1c3QuXG4gICAgICBjaGFuZ2UuZG9jID0ge307XG4gICAgfVxuXG4gICAgdmFyIGZpbHRlclJldHVybiA9IGhhc0ZpbHRlciAmJiB0cnlGaWx0ZXIob3B0cy5maWx0ZXIsIGNoYW5nZS5kb2MsIHJlcSk7XG5cbiAgICBpZiAodHlwZW9mIGZpbHRlclJldHVybiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmaWx0ZXJSZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGZpbHRlclJldHVybikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIGRlbGV0ZSBjaGFuZ2UuZG9jO1xuICAgIH0gZWxzZSBpZiAoIW9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIGZvciAodmFyIGF0dCBpbiBjaGFuZ2UuZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoYW5nZS5kb2MuX2F0dGFjaG1lbnRzLCBhdHQpKSB7XG4gICAgICAgICAgY2hhbmdlLmRvYy5fYXR0YWNobWVudHNbYXR0XS5zdHViID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbihhcnJzKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICByZXMgPSByZXMuY29uY2F0KGFycnNbaV0pO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbi8vIHNoaW0gZm9yIEZ1bmN0aW9uLnByb3RvdHlwZS5uYW1lLFxuXG4vLyBEZXRlcm1pbmUgaWQgYW4gSUQgaXMgdmFsaWRcbi8vICAgLSBpbnZhbGlkIElEcyBiZWdpbiB3aXRoIGFuIHVuZGVyZXNjb3JlIHRoYXQgZG9lcyBub3QgYmVnaW4gJ19kZXNpZ24nIG9yXG4vLyAgICAgJ19sb2NhbCdcbi8vICAgLSBhbnkgb3RoZXIgc3RyaW5nIHZhbHVlIGlzIGEgdmFsaWQgaWRcbi8vIFJldHVybnMgdGhlIHNwZWNpZmljIGVycm9yIG9iamVjdCBmb3IgZWFjaCBjYXNlXG5mdW5jdGlvbiBpbnZhbGlkSWRFcnJvcihpZCkge1xuICB2YXIgZXJyO1xuICBpZiAoIWlkKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19JRCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgIGVyciA9IGNyZWF0ZUVycm9yKElOVkFMSURfSUQpO1xuICB9IGVsc2UgaWYgKC9eXy8udGVzdChpZCkgJiYgISgvXl8oZGVzaWdufGxvY2FsKS8pLnRlc3QoaWQpKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoUkVTRVJWRURfSUQpO1xuICB9XG4gIGlmIChlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn1cblxuLy8gQ2hlY2tzIGlmIGEgUG91Y2hEQiBvYmplY3QgaXMgXCJyZW1vdGVcIiBvciBub3QuIFRoaXMgaXNcblxuZnVuY3Rpb24gaXNSZW1vdGUoZGIpIHtcbiAgaWYgKHR5cGVvZiBkYi5fcmVtb3RlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gZGIuX3JlbW90ZTtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAodHlwZW9mIGRiLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnd2FybicsXG4gICAgICAnZGIudHlwZSgpIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAnICtcbiAgICAgICdhIGZ1dHVyZSB2ZXJzaW9uIG9mIFBvdWNoREInKTtcbiAgICByZXR1cm4gZGIudHlwZSgpID09PSAnaHR0cCc7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KGVlLCB0eXBlKSB7XG4gIHJldHVybiAnbGlzdGVuZXJDb3VudCcgaW4gZWUgPyBlZS5saXN0ZW5lckNvdW50KHR5cGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVFLmxpc3RlbmVyQ291bnQoZWUsIHR5cGUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKSB7XG4gIGlmICghcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBwYXJ0cyA9IHMuc3BsaXQoJy8nKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBwYXJ0cztcbiAgfVxuICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIFtzLCBzXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKHMpIHtcbiAgdmFyIG5vcm1hbGl6ZWQgPSBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQgPyBub3JtYWxpemVkLmpvaW4oJy8nKSA6IG51bGw7XG59XG5cbi8vIG9yaWdpbmFsbHkgcGFyc2VVcmkgMS4yLjIsIG5vdyBwYXRjaGVkIGJ5IHVzXG4vLyAoYykgU3RldmVuIExldml0aGFuIDxzdGV2ZW5sZXZpdGhhbi5jb20+XG4vLyBNSVQgTGljZW5zZVxudmFyIGtleXMgPSBbXCJzb3VyY2VcIiwgXCJwcm90b2NvbFwiLCBcImF1dGhvcml0eVwiLCBcInVzZXJJbmZvXCIsIFwidXNlclwiLCBcInBhc3N3b3JkXCIsXG4gICAgXCJob3N0XCIsIFwicG9ydFwiLCBcInJlbGF0aXZlXCIsIFwicGF0aFwiLCBcImRpcmVjdG9yeVwiLCBcImZpbGVcIiwgXCJxdWVyeVwiLCBcImFuY2hvclwiXTtcbnZhciBxTmFtZSA9XCJxdWVyeUtleVwiO1xudmFyIHFQYXJzZXIgPSAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2c7XG5cbi8vIHVzZSB0aGUgXCJsb29zZVwiIHBhcnNlclxuLyogZXNsaW50IG5vLXVzZWxlc3MtZXNjYXBlOiAwICovXG52YXIgcGFyc2VyID0gL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvO1xuXG5mdW5jdGlvbiBwYXJzZVVyaShzdHIpIHtcbiAgdmFyIG0gPSBwYXJzZXIuZXhlYyhzdHIpO1xuICB2YXIgdXJpID0ge307XG4gIHZhciBpID0gMTQ7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG1baV0gfHwgXCJcIjtcbiAgICB2YXIgZW5jb2RlZCA9IFsndXNlcicsICdwYXNzd29yZCddLmluZGV4T2Yoa2V5KSAhPT0gLTE7XG4gICAgdXJpW2tleV0gPSBlbmNvZGVkID8gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6IHZhbHVlO1xuICB9XG5cbiAgdXJpW3FOYW1lXSA9IHt9O1xuICB1cmlba2V5c1sxMl1dLnJlcGxhY2UocVBhcnNlciwgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICBpZiAoJDEpIHtcbiAgICAgIHVyaVtxTmFtZV1bJDFdID0gJDI7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdXJpO1xufVxuXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vYWxleGRhdmlkL3Njb3BlLWV2YWwgdjAuMC4zXG4vLyAoc291cmNlOiBodHRwczovL3VucGtnLmNvbS9zY29wZS1ldmFsQDAuMC4zL3Njb3BlX2V2YWwuanMpXG4vLyBUaGlzIGlzIGJhc2ljYWxseSBqdXN0IGEgd3JhcHBlciBhcm91bmQgbmV3IEZ1bmN0aW9uKClcblxuZnVuY3Rpb24gc2NvcGVFdmFsKHNvdXJjZSwgc2NvcGUpIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gc2NvcGUpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNjb3BlLCBrZXkpKSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgIHZhbHVlcy5wdXNoKHNjb3BlW2tleV0pO1xuICAgIH1cbiAgfVxuICBrZXlzLnB1c2goc291cmNlKTtcbiAgcmV0dXJuIEZ1bmN0aW9uLmFwcGx5KG51bGwsIGtleXMpLmFwcGx5KG51bGwsIHZhbHVlcyk7XG59XG5cbi8vIHRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIFwidXBkYXRlIHN1Z2FyXCIgZnVuY3Rpb24gZnJvbSBkYWxlaGFydmV5L3BvdWNoZGIjMTM4OFxuLy8gdGhlIGRpZmZGdW4gdGVsbHMgdXMgd2hhdCBkZWx0YSB0byBhcHBseSB0byB0aGUgZG9jLiAgaXQgZWl0aGVyIHJldHVybnNcbi8vIHRoZSBkb2MsIG9yIGZhbHNlIGlmIGl0IGRvZXNuJ3QgbmVlZCB0byBkbyBhbiB1cGRhdGUgYWZ0ZXIgYWxsXG5mdW5jdGlvbiB1cHNlcnQoZGIsIGRvY0lkLCBkaWZmRnVuKSB7XG4gIHJldHVybiBkYi5nZXQoZG9jSWQpXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIC8vIHRoZSB1c2VyIG1pZ2h0IGNoYW5nZSB0aGUgX3Jldiwgc28gc2F2ZSBpdCBmb3IgcG9zdGVyaXR5XG4gICAgICB2YXIgZG9jUmV2ID0gZG9jLl9yZXY7XG4gICAgICB2YXIgbmV3RG9jID0gZGlmZkZ1bihkb2MpO1xuXG4gICAgICBpZiAoIW5ld0RvYykge1xuICAgICAgICAvLyBpZiB0aGUgZGlmZkZ1biByZXR1cm5zIGZhbHN5LCB3ZSBzaG9ydC1jaXJjdWl0IGFzXG4gICAgICAgIC8vIGFuIG9wdGltaXphdGlvblxuICAgICAgICByZXR1cm4ge3VwZGF0ZWQ6IGZhbHNlLCByZXY6IGRvY1Jldn07XG4gICAgICB9XG5cbiAgICAgIC8vIHVzZXJzIGFyZW4ndCBhbGxvd2VkIHRvIG1vZGlmeSB0aGVzZSB2YWx1ZXMsXG4gICAgICAvLyBzbyByZXNldCB0aGVtIGhlcmVcbiAgICAgIG5ld0RvYy5faWQgPSBkb2NJZDtcbiAgICAgIG5ld0RvYy5fcmV2ID0gZG9jUmV2O1xuICAgICAgcmV0dXJuIHRyeUFuZFB1dChkYiwgbmV3RG9jLCBkaWZmRnVuKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdHJ5QW5kUHV0KGRiLCBkb2MsIGRpZmZGdW4pIHtcbiAgcmV0dXJuIGRiLnB1dChkb2MpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGVkOiB0cnVlLFxuICAgICAgcmV2OiByZXMucmV2XG4gICAgfTtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGVyci5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gdXBzZXJ0KGRiLCBkb2MuX2lkLCBkaWZmRnVuKTtcbiAgfSk7XG59XG5cbnZhciB0aGlzQXRvYiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIGF0b2Ioc3RyKTtcbn07XG5cbnZhciB0aGlzQnRvYSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIGJ0b2Eoc3RyKTtcbn07XG5cbi8vIEFic3RyYWN0cyBjb25zdHJ1Y3RpbmcgYSBCbG9iIG9iamVjdCwgc28gaXQgYWxzbyB3b3JrcyBpbiBvbGRlclxuLy8gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBuYXRpdmUgQmxvYiBjb25zdHJ1Y3RvciAoZS5nLlxuLy8gb2xkIFF0V2ViS2l0IHZlcnNpb25zLCBBbmRyb2lkIDwgNC40KS5cbmZ1bmN0aW9uIGNyZWF0ZUJsb2IocGFydHMsIHByb3BlcnRpZXMpIHtcbiAgLyogZ2xvYmFsIEJsb2JCdWlsZGVyLE1TQmxvYkJ1aWxkZXIsTW96QmxvYkJ1aWxkZXIsV2ViS2l0QmxvYkJ1aWxkZXIgKi9cbiAgcGFydHMgPSBwYXJ0cyB8fCBbXTtcbiAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlLm5hbWUgIT09IFwiVHlwZUVycm9yXCIpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHZhciBCdWlsZGVyID0gdHlwZW9mIEJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IEJsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBNU0Jsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1TQmxvYkJ1aWxkZXIgOlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIE1vekJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1vekJsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIFdlYktpdEJsb2JCdWlsZGVyO1xuICAgIHZhciBidWlsZGVyID0gbmV3IEJ1aWxkZXIoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBidWlsZGVyLmdldEJsb2IocHJvcGVydGllcy50eXBlKTtcbiAgfVxufVxuXG4vLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ5Njc2NDcvIChjb250aW51ZXMgb24gbmV4dCBsaW5lKVxuLy8gZW5jb2RlLWRlY29kZS1pbWFnZS13aXRoLWJhc2U2NC1icmVha3MtaW1hZ2UgKDIwMTMtMDQtMjEpXG5mdW5jdGlvbiBiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyKGJpbikge1xuICB2YXIgbGVuZ3RoID0gYmluLmxlbmd0aDtcbiAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xuICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBidWY7XG59XG5cbmZ1bmN0aW9uIGJpblN0cmluZ1RvQmx1ZmZlcihiaW5TdHJpbmcsIHR5cGUpIHtcbiAgcmV0dXJuIGNyZWF0ZUJsb2IoW2JpbmFyeVN0cmluZ1RvQXJyYXlCdWZmZXIoYmluU3RyaW5nKV0sIHt0eXBlOiB0eXBlfSk7XG59XG5cbmZ1bmN0aW9uIGI2NFRvQmx1ZmZlcihiNjQsIHR5cGUpIHtcbiAgcmV0dXJuIGJpblN0cmluZ1RvQmx1ZmZlcih0aGlzQXRvYihiNjQpLCB0eXBlKTtcbn1cblxuLy9DYW4ndCBmaW5kIG9yaWdpbmFsIHBvc3QsIGJ1dCB0aGlzIGlzIGNsb3NlXG4vL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjk2NTEwNy8gKGNvbnRpbnVlcyBvbiBuZXh0IGxpbmUpXG4vL2NvbnZlcnRpbmctYmV0d2Vlbi1zdHJpbmdzLWFuZC1hcnJheWJ1ZmZlcnNcbmZ1bmN0aW9uIGFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcoYnVmZmVyKSB7XG4gIHZhciBiaW5hcnkgPSAnJztcbiAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgdmFyIGxlbmd0aCA9IGJ5dGVzLmJ5dGVMZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGJpbmFyeTtcbn1cblxuLy8gc2hpbSBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGl0XG5mdW5jdGlvbiByZWFkQXNCaW5hcnlTdHJpbmcoYmxvYiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHZhciBoYXNCaW5hcnlTdHJpbmcgPSB0eXBlb2YgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyA9PT0gJ2Z1bmN0aW9uJztcbiAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGUudGFyZ2V0LnJlc3VsdCB8fCAnJztcbiAgICBpZiAoaGFzQmluYXJ5U3RyaW5nKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0KTtcbiAgICB9XG4gICAgY2FsbGJhY2soYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhyZXN1bHQpKTtcbiAgfTtcbiAgaWYgKGhhc0JpbmFyeVN0cmluZykge1xuICAgIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoYmxvYik7XG4gIH0gZWxzZSB7XG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJsb2JUb0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGNhbGxiYWNrKSB7XG4gIHJlYWRBc0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGZ1bmN0aW9uIChiaW4pIHtcbiAgICBjYWxsYmFjayhiaW4pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYmxvYlRvQmFzZTY0KGJsb2JPckJ1ZmZlciwgY2FsbGJhY2spIHtcbiAgYmxvYlRvQmluYXJ5U3RyaW5nKGJsb2JPckJ1ZmZlciwgZnVuY3Rpb24gKGJhc2U2NCkge1xuICAgIGNhbGxiYWNrKHRoaXNCdG9hKGJhc2U2NCkpO1xuICB9KTtcbn1cblxuLy8gc2ltcGxpZmllZCBBUEkuIHVuaXZlcnNhbCBicm93c2VyIHN1cHBvcnQgaXMgYXNzdW1lZFxuZnVuY3Rpb24gcmVhZEFzQXJyYXlCdWZmZXIoYmxvYiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciByZXN1bHQgPSBlLnRhcmdldC5yZXN1bHQgfHwgbmV3IEFycmF5QnVmZmVyKDApO1xuICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gIH07XG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbn1cblxuLy8gdGhpcyBpcyBub3QgdXNlZCBpbiB0aGUgYnJvd3NlclxuXG52YXIgc2V0SW1tZWRpYXRlU2hpbSA9IHNlbGYuc2V0SW1tZWRpYXRlIHx8IHNlbGYuc2V0VGltZW91dDtcbnZhciBNRDVfQ0hVTktfU0laRSA9IDMyNzY4O1xuXG5mdW5jdGlvbiByYXdUb0Jhc2U2NChyYXcpIHtcbiAgcmV0dXJuIHRoaXNCdG9hKHJhdyk7XG59XG5cbmZ1bmN0aW9uIHNsaWNlQmxvYihibG9iLCBzdGFydCwgZW5kKSB7XG4gIGlmIChibG9iLndlYmtpdFNsaWNlKSB7XG4gICAgcmV0dXJuIGJsb2Iud2Via2l0U2xpY2Uoc3RhcnQsIGVuZCk7XG4gIH1cbiAgcmV0dXJuIGJsb2Iuc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZEJsb2IoYnVmZmVyLCBibG9iLCBzdGFydCwgZW5kLCBjYWxsYmFjaykge1xuICBpZiAoc3RhcnQgPiAwIHx8IGVuZCA8IGJsb2Iuc2l6ZSkge1xuICAgIC8vIG9ubHkgc2xpY2UgYmxvYiBpZiB3ZSByZWFsbHkgbmVlZCB0b1xuICAgIGJsb2IgPSBzbGljZUJsb2IoYmxvYiwgc3RhcnQsIGVuZCk7XG4gIH1cbiAgcmVhZEFzQXJyYXlCdWZmZXIoYmxvYiwgZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gICAgYnVmZmVyLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFN0cmluZyhidWZmZXIsIHN0cmluZywgc3RhcnQsIGVuZCwgY2FsbGJhY2spIHtcbiAgaWYgKHN0YXJ0ID4gMCB8fCBlbmQgPCBzdHJpbmcubGVuZ3RoKSB7XG4gICAgLy8gb25seSBjcmVhdGUgYSBzdWJzdHJpbmcgaWYgd2UgcmVhbGx5IG5lZWQgdG9cbiAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xuICB9XG4gIGJ1ZmZlci5hcHBlbmRCaW5hcnkoc3RyaW5nKTtcbiAgY2FsbGJhY2soKTtcbn1cblxuZnVuY3Rpb24gYmluYXJ5TWQ1KGRhdGEsIGNhbGxiYWNrKSB7XG4gIHZhciBpbnB1dElzU3RyaW5nID0gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnO1xuICB2YXIgbGVuID0gaW5wdXRJc1N0cmluZyA/IGRhdGEubGVuZ3RoIDogZGF0YS5zaXplO1xuICB2YXIgY2h1bmtTaXplID0gTWF0aC5taW4oTUQ1X0NIVU5LX1NJWkUsIGxlbik7XG4gIHZhciBjaHVua3MgPSBNYXRoLmNlaWwobGVuIC8gY2h1bmtTaXplKTtcbiAgdmFyIGN1cnJlbnRDaHVuayA9IDA7XG4gIHZhciBidWZmZXIgPSBpbnB1dElzU3RyaW5nID8gbmV3IE1kNSgpIDogbmV3IE1kNS5BcnJheUJ1ZmZlcigpO1xuXG4gIHZhciBhcHBlbmQgPSBpbnB1dElzU3RyaW5nID8gYXBwZW5kU3RyaW5nIDogYXBwZW5kQmxvYjtcblxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHNldEltbWVkaWF0ZVNoaW0obG9hZE5leHRDaHVuayk7XG4gIH1cblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIHZhciByYXcgPSBidWZmZXIuZW5kKHRydWUpO1xuICAgIHZhciBiYXNlNjQgPSByYXdUb0Jhc2U2NChyYXcpO1xuICAgIGNhbGxiYWNrKGJhc2U2NCk7XG4gICAgYnVmZmVyLmRlc3Ryb3koKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWROZXh0Q2h1bmsoKSB7XG4gICAgdmFyIHN0YXJ0ID0gY3VycmVudENodW5rICogY2h1bmtTaXplO1xuICAgIHZhciBlbmQgPSBzdGFydCArIGNodW5rU2l6ZTtcbiAgICBjdXJyZW50Q2h1bmsrKztcbiAgICBpZiAoY3VycmVudENodW5rIDwgY2h1bmtzKSB7XG4gICAgICBhcHBlbmQoYnVmZmVyLCBkYXRhLCBzdGFydCwgZW5kLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwZW5kKGJ1ZmZlciwgZGF0YSwgc3RhcnQsIGVuZCwgZG9uZSk7XG4gICAgfVxuICB9XG4gIGxvYWROZXh0Q2h1bmsoKTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nTWQ1KHN0cmluZykge1xuICByZXR1cm4gTWQ1Lmhhc2goc3RyaW5nKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJldmlzaW9uIHN0cmluZyB0aGF0IGRvZXMgTk9UIGluY2x1ZGUgdGhlIHJldmlzaW9uIGhlaWdodFxuICogRm9yIGV4YW1wbGUgJzU2NjQ5ZjFiMDUwNmM2Y2E5ZmRhMDc0NmViMGNhY2RmJ1xuICovXG5mdW5jdGlvbiByZXYkJDEoZG9jLCBkZXRlcm1pbmlzdGljX3JldnMpIHtcbiAgaWYgKCFkZXRlcm1pbmlzdGljX3JldnMpIHtcbiAgICByZXR1cm4gdjQoKS5yZXBsYWNlKC8tL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgdmFyIG11dGF0ZWFibGVEb2MgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIGRvYyk7XG4gIGRlbGV0ZSBtdXRhdGVhYmxlRG9jLl9yZXZfdHJlZTtcbiAgcmV0dXJuIHN0cmluZ01kNShKU09OLnN0cmluZ2lmeShtdXRhdGVhYmxlRG9jKSk7XG59XG5cbnZhciB1dWlkID0gdjQ7IC8vIG1pbWljIG9sZCBpbXBvcnQsIG9ubHkgdjQgaXMgZXZlciB1c2VkIGVsc2V3aGVyZVxuXG4vLyBXZSBmZXRjaCBhbGwgbGVhZnMgb2YgdGhlIHJldmlzaW9uIHRyZWUsIGFuZCBzb3J0IHRoZW0gYmFzZWQgb24gdHJlZSBsZW5ndGhcbi8vIGFuZCB3aGV0aGVyIHRoZXkgd2VyZSBkZWxldGVkLCB1bmRlbGV0ZWQgZG9jdW1lbnRzIHdpdGggdGhlIGxvbmdlc3QgcmV2aXNpb25cbi8vIHRyZWUgKG1vc3QgZWRpdHMpIHdpblxuLy8gVGhlIGZpbmFsIHNvcnQgYWxnb3JpdGhtIGlzIHNsaWdodGx5IGRvY3VtZW50ZWQgaW4gYSBzaWRlYmFyIGhlcmU6XG4vLyBodHRwOi8vZ3VpZGUuY291Y2hkYi5vcmcvZHJhZnQvY29uZmxpY3RzLmh0bWxcbmZ1bmN0aW9uIHdpbm5pbmdSZXYobWV0YWRhdGEpIHtcbiAgdmFyIHdpbm5pbmdJZDtcbiAgdmFyIHdpbm5pbmdQb3M7XG4gIHZhciB3aW5uaW5nRGVsZXRlZDtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIGlmIChicmFuY2hlcy5sZW5ndGgpIHsgLy8gbm9uLWxlYWZcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXX0pO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBkZWxldGVkID0gISF0cmVlWzFdLmRlbGV0ZWQ7XG4gICAgdmFyIGlkID0gdHJlZVswXTtcbiAgICAvLyBzb3J0IGJ5IGRlbGV0ZWQsIHRoZW4gcG9zLCB0aGVuIGlkXG4gICAgaWYgKCF3aW5uaW5nSWQgfHwgKHdpbm5pbmdEZWxldGVkICE9PSBkZWxldGVkID8gd2lubmluZ0RlbGV0ZWQgOlxuICAgICAgICB3aW5uaW5nUG9zICE9PSBwb3MgPyB3aW5uaW5nUG9zIDwgcG9zIDogd2lubmluZ0lkIDwgaWQpKSB7XG4gICAgICB3aW5uaW5nSWQgPSBpZDtcbiAgICAgIHdpbm5pbmdQb3MgPSBwb3M7XG4gICAgICB3aW5uaW5nRGVsZXRlZCA9IGRlbGV0ZWQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdpbm5pbmdQb3MgKyAnLScgKyB3aW5uaW5nSWQ7XG59XG5cbi8vIFByZXR0eSBtdWNoIGFsbCBiZWxvdyBjYW4gYmUgY29tYmluZWQgaW50byBhIGhpZ2hlciBvcmRlciBmdW5jdGlvbiB0b1xuLy8gdHJhdmVyc2UgcmV2aXNpb25zXG4vLyBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGNhbGxiYWNrIHdpbGwgYmUgcGFzc2VkIGFzIGNvbnRleHQgdG8gYWxsXG4vLyBjaGlsZHJlbiBvZiB0aGF0IG5vZGVcbmZ1bmN0aW9uIHRyYXZlcnNlUmV2VHJlZShyZXZzLCBjYWxsYmFjaykge1xuICB2YXIgdG9WaXNpdCA9IHJldnMuc2xpY2UoKTtcblxuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBuZXdDdHggPVxuICAgICAgY2FsbGJhY2soYnJhbmNoZXMubGVuZ3RoID09PSAwLCBwb3MsIHRyZWVbMF0sIG5vZGUuY3R4LCB0cmVlWzFdKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldLCBjdHg6IG5ld0N0eH0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzb3J0QnlQb3MoYSwgYikge1xuICByZXR1cm4gYS5wb3MgLSBiLnBvcztcbn1cblxuZnVuY3Rpb24gY29sbGVjdExlYXZlcyhyZXZzKSB7XG4gIHZhciBsZWF2ZXMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKHJldnMsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgaWQsIGFjYywgb3B0cykge1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIGxlYXZlcy5wdXNoKHtyZXY6IHBvcyArIFwiLVwiICsgaWQsIHBvczogcG9zLCBvcHRzOiBvcHRzfSk7XG4gICAgfVxuICB9KTtcbiAgbGVhdmVzLnNvcnQoc29ydEJ5UG9zKS5yZXZlcnNlKCk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsZWF2ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBkZWxldGUgbGVhdmVzW2ldLnBvcztcbiAgfVxuICByZXR1cm4gbGVhdmVzO1xufVxuXG4vLyByZXR1cm5zIHJldnMgb2YgYWxsIGNvbmZsaWN0cyB0aGF0IGlzIGxlYXZlcyBzdWNoIHRoYXRcbi8vIDEuIGFyZSBub3QgZGVsZXRlZCBhbmRcbi8vIDIuIGFyZSBkaWZmZXJlbnQgdGhhbiB3aW5uaW5nIHJldmlzaW9uXG5mdW5jdGlvbiBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKSB7XG4gIHZhciB3aW4gPSB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcbiAgdmFyIGxlYXZlcyA9IGNvbGxlY3RMZWF2ZXMobWV0YWRhdGEucmV2X3RyZWUpO1xuICB2YXIgY29uZmxpY3RzID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsZWF2ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbGVhZiA9IGxlYXZlc1tpXTtcbiAgICBpZiAobGVhZi5yZXYgIT09IHdpbiAmJiAhbGVhZi5vcHRzLmRlbGV0ZWQpIHtcbiAgICAgIGNvbmZsaWN0cy5wdXNoKGxlYWYucmV2KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmZsaWN0cztcbn1cblxuLy8gY29tcGFjdCBhIHRyZWUgYnkgbWFya2luZyBpdHMgbm9uLWxlYWZzIGFzIG1pc3NpbmcsXG4vLyBhbmQgcmV0dXJuIGEgbGlzdCBvZiByZXZzIHRvIGRlbGV0ZVxuZnVuY3Rpb24gY29tcGFjdFRyZWUobWV0YWRhdGEpIHtcbiAgdmFyIHJldnMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKG1ldGFkYXRhLnJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldkhhc2gsIGN0eCwgb3B0cykge1xuICAgIGlmIChvcHRzLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgJiYgIWlzTGVhZikge1xuICAgICAgcmV2cy5wdXNoKHBvcyArICctJyArIHJldkhhc2gpO1xuICAgICAgb3B0cy5zdGF0dXMgPSAnbWlzc2luZyc7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldnM7XG59XG5cbi8vIGJ1aWxkIHVwIGEgbGlzdCBvZiBhbGwgdGhlIHBhdGhzIHRvIHRoZSBsZWFmcyBpbiB0aGlzIHJldmlzaW9uIHRyZWVcbmZ1bmN0aW9uIHJvb3RUb0xlYWYocmV2cykge1xuICB2YXIgcGF0aHMgPSBbXTtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBpZCA9IHRyZWVbMF07XG4gICAgdmFyIG9wdHMgPSB0cmVlWzFdO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIGlzTGVhZiA9IGJyYW5jaGVzLmxlbmd0aCA9PT0gMDtcblxuICAgIHZhciBoaXN0b3J5ID0gbm9kZS5oaXN0b3J5ID8gbm9kZS5oaXN0b3J5LnNsaWNlKCkgOiBbXTtcbiAgICBoaXN0b3J5LnB1c2goe2lkOiBpZCwgb3B0czogb3B0c30pO1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIHBhdGhzLnB1c2goe3BvczogKHBvcyArIDEgLSBoaXN0b3J5Lmxlbmd0aCksIGlkczogaGlzdG9yeX0pO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldLCBoaXN0b3J5OiBoaXN0b3J5fSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRocy5yZXZlcnNlKCk7XG59XG5cbi8vIGZvciBhIGJldHRlciBvdmVydmlldyBvZiB3aGF0IHRoaXMgaXMgZG9pbmcsIHJlYWQ6XG5cbmZ1bmN0aW9uIHNvcnRCeVBvcyQxKGEsIGIpIHtcbiAgcmV0dXJuIGEucG9zIC0gYi5wb3M7XG59XG5cbi8vIGNsYXNzaWMgYmluYXJ5IHNlYXJjaFxuZnVuY3Rpb24gYmluYXJ5U2VhcmNoKGFyciwgaXRlbSwgY29tcGFyYXRvcikge1xuICB2YXIgbG93ID0gMDtcbiAgdmFyIGhpZ2ggPSBhcnIubGVuZ3RoO1xuICB2YXIgbWlkO1xuICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMTtcbiAgICBpZiAoY29tcGFyYXRvcihhcnJbbWlkXSwgaXRlbSkgPCAwKSB7XG4gICAgICBsb3cgPSBtaWQgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWdoID0gbWlkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbG93O1xufVxuXG4vLyBhc3N1bWluZyB0aGUgYXJyIGlzIHNvcnRlZCwgaW5zZXJ0IHRoZSBpdGVtIGluIHRoZSBwcm9wZXIgcGxhY2VcbmZ1bmN0aW9uIGluc2VydFNvcnRlZChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGlkeCA9IGJpbmFyeVNlYXJjaChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpO1xuICBhcnIuc3BsaWNlKGlkeCwgMCwgaXRlbSk7XG59XG5cbi8vIFR1cm4gYSBwYXRoIGFzIGEgZmxhdCBhcnJheSBpbnRvIGEgdHJlZSB3aXRoIGEgc2luZ2xlIGJyYW5jaC5cbi8vIElmIGFueSBzaG91bGQgYmUgc3RlbW1lZCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5LCB0aGF0J3MgcGFzc2VkXG4vLyBpbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50XG5mdW5jdGlvbiBwYXRoVG9UcmVlKHBhdGgsIG51bVN0ZW1tZWQpIHtcbiAgdmFyIHJvb3Q7XG4gIHZhciBsZWFmO1xuICBmb3IgKHZhciBpID0gbnVtU3RlbW1lZCwgbGVuID0gcGF0aC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBub2RlID0gcGF0aFtpXTtcbiAgICB2YXIgY3VycmVudExlYWYgPSBbbm9kZS5pZCwgbm9kZS5vcHRzLCBbXV07XG4gICAgaWYgKGxlYWYpIHtcbiAgICAgIGxlYWZbMl0ucHVzaChjdXJyZW50TGVhZik7XG4gICAgICBsZWFmID0gY3VycmVudExlYWY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3QgPSBsZWFmID0gY3VycmVudExlYWY7XG4gICAgfVxuICB9XG4gIHJldHVybiByb290O1xufVxuXG4vLyBjb21wYXJlIHRoZSBJRHMgb2YgdHdvIHRyZWVzXG5mdW5jdGlvbiBjb21wYXJlVHJlZShhLCBiKSB7XG4gIHJldHVybiBhWzBdIDwgYlswXSA/IC0xIDogMTtcbn1cblxuLy8gTWVyZ2UgdHdvIHRyZWVzIHRvZ2V0aGVyXG4vLyBUaGUgcm9vdHMgb2YgdHJlZTEgYW5kIHRyZWUyIG11c3QgYmUgdGhlIHNhbWUgcmV2aXNpb25cbmZ1bmN0aW9uIG1lcmdlVHJlZShpbl90cmVlMSwgaW5fdHJlZTIpIHtcbiAgdmFyIHF1ZXVlID0gW3t0cmVlMTogaW5fdHJlZTEsIHRyZWUyOiBpbl90cmVlMn1dO1xuICB2YXIgY29uZmxpY3RzID0gZmFsc2U7XG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICB2YXIgdHJlZTEgPSBpdGVtLnRyZWUxO1xuICAgIHZhciB0cmVlMiA9IGl0ZW0udHJlZTI7XG5cbiAgICBpZiAodHJlZTFbMV0uc3RhdHVzIHx8IHRyZWUyWzFdLnN0YXR1cykge1xuICAgICAgdHJlZTFbMV0uc3RhdHVzID1cbiAgICAgICAgKHRyZWUxWzFdLnN0YXR1cyA9PT0gICdhdmFpbGFibGUnIHx8XG4gICAgICAgIHRyZWUyWzFdLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScpID8gJ2F2YWlsYWJsZScgOiAnbWlzc2luZyc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlMlsyXS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0cmVlMVsyXVswXSkge1xuICAgICAgICBjb25mbGljdHMgPSAnbmV3X2xlYWYnO1xuICAgICAgICB0cmVlMVsyXVswXSA9IHRyZWUyWzJdW2ldO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lcmdlZCA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0cmVlMVsyXS5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAodHJlZTFbMl1bal1bMF0gPT09IHRyZWUyWzJdW2ldWzBdKSB7XG4gICAgICAgICAgcXVldWUucHVzaCh7dHJlZTE6IHRyZWUxWzJdW2pdLCB0cmVlMjogdHJlZTJbMl1baV19KTtcbiAgICAgICAgICBtZXJnZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIW1lcmdlZCkge1xuICAgICAgICBjb25mbGljdHMgPSAnbmV3X2JyYW5jaCc7XG4gICAgICAgIGluc2VydFNvcnRlZCh0cmVlMVsyXSwgdHJlZTJbMl1baV0sIGNvbXBhcmVUcmVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtjb25mbGljdHM6IGNvbmZsaWN0cywgdHJlZTogaW5fdHJlZTF9O1xufVxuXG5mdW5jdGlvbiBkb01lcmdlKHRyZWUsIHBhdGgsIGRvbnRFeHBhbmQpIHtcbiAgdmFyIHJlc3RyZWUgPSBbXTtcbiAgdmFyIGNvbmZsaWN0cyA9IGZhbHNlO1xuICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gIHZhciByZXM7XG5cbiAgaWYgKCF0cmVlLmxlbmd0aCkge1xuICAgIHJldHVybiB7dHJlZTogW3BhdGhdLCBjb25mbGljdHM6ICduZXdfbGVhZid9O1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRyZWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgYnJhbmNoID0gdHJlZVtpXTtcbiAgICBpZiAoYnJhbmNoLnBvcyA9PT0gcGF0aC5wb3MgJiYgYnJhbmNoLmlkc1swXSA9PT0gcGF0aC5pZHNbMF0pIHtcbiAgICAgIC8vIFBhdGhzIHN0YXJ0IGF0IHRoZSBzYW1lIHBvc2l0aW9uIGFuZCBoYXZlIHRoZSBzYW1lIHJvb3QsIHNvIHRoZXkgbmVlZFxuICAgICAgLy8gbWVyZ2VkXG4gICAgICByZXMgPSBtZXJnZVRyZWUoYnJhbmNoLmlkcywgcGF0aC5pZHMpO1xuICAgICAgcmVzdHJlZS5wdXNoKHtwb3M6IGJyYW5jaC5wb3MsIGlkczogcmVzLnRyZWV9KTtcbiAgICAgIGNvbmZsaWN0cyA9IGNvbmZsaWN0cyB8fCByZXMuY29uZmxpY3RzO1xuICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGRvbnRFeHBhbmQgIT09IHRydWUpIHtcbiAgICAgIC8vIFRoZSBwYXRocyBzdGFydCBhdCBhIGRpZmZlcmVudCBwb3NpdGlvbiwgdGFrZSB0aGUgZWFybGllc3QgcGF0aCBhbmRcbiAgICAgIC8vIHRyYXZlcnNlIHVwIHVudGlsIGl0IGFzIGF0IHRoZSBzYW1lIHBvaW50IGZyb20gcm9vdCBhcyB0aGUgcGF0aCB3ZVxuICAgICAgLy8gd2FudCB0byBtZXJnZS4gIElmIHRoZSBrZXlzIG1hdGNoIHdlIHJldHVybiB0aGUgbG9uZ2VyIHBhdGggd2l0aCB0aGVcbiAgICAgIC8vIG90aGVyIG1lcmdlZCBBZnRlciBzdGVtbWluZyB3ZSBkb250IHdhbnQgdG8gZXhwYW5kIHRoZSB0cmVlc1xuXG4gICAgICB2YXIgdDEgPSBicmFuY2gucG9zIDwgcGF0aC5wb3MgPyBicmFuY2ggOiBwYXRoO1xuICAgICAgdmFyIHQyID0gYnJhbmNoLnBvcyA8IHBhdGgucG9zID8gcGF0aCA6IGJyYW5jaDtcbiAgICAgIHZhciBkaWZmID0gdDIucG9zIC0gdDEucG9zO1xuXG4gICAgICB2YXIgY2FuZGlkYXRlUGFyZW50cyA9IFtdO1xuXG4gICAgICB2YXIgdHJlZXMgPSBbXTtcbiAgICAgIHRyZWVzLnB1c2goe2lkczogdDEuaWRzLCBkaWZmOiBkaWZmLCBwYXJlbnQ6IG51bGwsIHBhcmVudElkeDogbnVsbH0pO1xuICAgICAgd2hpbGUgKHRyZWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0cmVlcy5wb3AoKTtcbiAgICAgICAgaWYgKGl0ZW0uZGlmZiA9PT0gMCkge1xuICAgICAgICAgIGlmIChpdGVtLmlkc1swXSA9PT0gdDIuaWRzWzBdKSB7XG4gICAgICAgICAgICBjYW5kaWRhdGVQYXJlbnRzLnB1c2goaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGVtZW50cyA9IGl0ZW0uaWRzWzJdO1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgZWxlbWVudHNMZW4gPSBlbGVtZW50cy5sZW5ndGg7IGogPCBlbGVtZW50c0xlbjsgaisrKSB7XG4gICAgICAgICAgdHJlZXMucHVzaCh7XG4gICAgICAgICAgICBpZHM6IGVsZW1lbnRzW2pdLFxuICAgICAgICAgICAgZGlmZjogaXRlbS5kaWZmIC0gMSxcbiAgICAgICAgICAgIHBhcmVudDogaXRlbS5pZHMsXG4gICAgICAgICAgICBwYXJlbnRJZHg6IGpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZWwgPSBjYW5kaWRhdGVQYXJlbnRzWzBdO1xuXG4gICAgICBpZiAoIWVsKSB7XG4gICAgICAgIHJlc3RyZWUucHVzaChicmFuY2gpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0gbWVyZ2VUcmVlKGVsLmlkcywgdDIuaWRzKTtcbiAgICAgICAgZWwucGFyZW50WzJdW2VsLnBhcmVudElkeF0gPSByZXMudHJlZTtcbiAgICAgICAgcmVzdHJlZS5wdXNoKHtwb3M6IHQxLnBvcywgaWRzOiB0MS5pZHN9KTtcbiAgICAgICAgY29uZmxpY3RzID0gY29uZmxpY3RzIHx8IHJlcy5jb25mbGljdHM7XG4gICAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3RyZWUucHVzaChicmFuY2gpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdlIGRpZG50IGZpbmRcbiAgaWYgKCFtZXJnZWQpIHtcbiAgICByZXN0cmVlLnB1c2gocGF0aCk7XG4gIH1cblxuICByZXN0cmVlLnNvcnQoc29ydEJ5UG9zJDEpO1xuXG4gIHJldHVybiB7XG4gICAgdHJlZTogcmVzdHJlZSxcbiAgICBjb25mbGljdHM6IGNvbmZsaWN0cyB8fCAnaW50ZXJuYWxfbm9kZSdcbiAgfTtcbn1cblxuLy8gVG8gZW5zdXJlIHdlIGRvbnQgZ3JvdyB0aGUgcmV2aXNpb24gdHJlZSBpbmZpbml0ZWx5LCB3ZSBzdGVtIG9sZCByZXZpc2lvbnNcbmZ1bmN0aW9uIHN0ZW0odHJlZSwgZGVwdGgpIHtcbiAgLy8gRmlyc3Qgd2UgYnJlYWsgb3V0IHRoZSB0cmVlIGludG8gYSBjb21wbGV0ZSBsaXN0IG9mIHJvb3QgdG8gbGVhZiBwYXRoc1xuICB2YXIgcGF0aHMgPSByb290VG9MZWFmKHRyZWUpO1xuICB2YXIgc3RlbW1lZFJldnM7XG5cbiAgdmFyIHJlc3VsdDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgLy8gVGhlbiBmb3IgZWFjaCBwYXRoLCB3ZSBjdXQgb2ZmIHRoZSBzdGFydCBvZiB0aGUgcGF0aCBiYXNlZCBvbiB0aGVcbiAgICAvLyBgZGVwdGhgIHRvIHN0ZW0gdG8sIGFuZCBnZW5lcmF0ZSBhIG5ldyBzZXQgb2YgZmxhdCB0cmVlc1xuICAgIHZhciBwYXRoID0gcGF0aHNbaV07XG4gICAgdmFyIHN0ZW1tZWQgPSBwYXRoLmlkcztcbiAgICB2YXIgbm9kZTtcbiAgICBpZiAoc3RlbW1lZC5sZW5ndGggPiBkZXB0aCkge1xuICAgICAgLy8gb25seSBkbyB0aGUgc3RlbW1pbmcgd29yayBpZiB3ZSBhY3R1YWxseSBuZWVkIHRvIHN0ZW1cbiAgICAgIGlmICghc3RlbW1lZFJldnMpIHtcbiAgICAgICAgc3RlbW1lZFJldnMgPSB7fTsgLy8gYXZvaWQgYWxsb2NhdGluZyB0aGlzIG9iamVjdCB1bm5lY2Vzc2FyaWx5XG4gICAgICB9XG4gICAgICB2YXIgbnVtU3RlbW1lZCA9IHN0ZW1tZWQubGVuZ3RoIC0gZGVwdGg7XG4gICAgICBub2RlID0ge1xuICAgICAgICBwb3M6IHBhdGgucG9zICsgbnVtU3RlbW1lZCxcbiAgICAgICAgaWRzOiBwYXRoVG9UcmVlKHN0ZW1tZWQsIG51bVN0ZW1tZWQpXG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBzID0gMDsgcyA8IG51bVN0ZW1tZWQ7IHMrKykge1xuICAgICAgICB2YXIgcmV2ID0gKHBhdGgucG9zICsgcykgKyAnLScgKyBzdGVtbWVkW3NdLmlkO1xuICAgICAgICBzdGVtbWVkUmV2c1tyZXZdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBubyBuZWVkIHRvIGFjdHVhbGx5IHN0ZW1cbiAgICAgIG5vZGUgPSB7XG4gICAgICAgIHBvczogcGF0aC5wb3MsXG4gICAgICAgIGlkczogcGF0aFRvVHJlZShzdGVtbWVkLCAwKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBUaGVuIHdlIHJlbWVyZ2UgYWxsIHRob3NlIGZsYXQgdHJlZXMgdG9nZXRoZXIsIGVuc3VyaW5nIHRoYXQgd2UgZG9udFxuICAgIC8vIGNvbm5lY3QgdHJlZXMgdGhhdCB3b3VsZCBnbyBiZXlvbmQgdGhlIGRlcHRoIGxpbWl0XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0gZG9NZXJnZShyZXN1bHQsIG5vZGUsIHRydWUpLnRyZWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IFtub2RlXTtcbiAgICB9XG4gIH1cblxuICAvLyB0aGlzIGlzIG1lbW9yeS1oZWF2eSBwZXIgQ2hyb21lIHByb2ZpbGVyLCBhdm9pZCB1bmxlc3Mgd2UgYWN0dWFsbHkgc3RlbW1lZFxuICBpZiAoc3RlbW1lZFJldnMpIHtcbiAgICB0cmF2ZXJzZVJldlRyZWUocmVzdWx0LCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIHJldkhhc2gpIHtcbiAgICAgIC8vIHNvbWUgcmV2aXNpb25zIG1heSBoYXZlIGJlZW4gcmVtb3ZlZCBpbiBhIGJyYW5jaCBidXQgbm90IGluIGFub3RoZXJcbiAgICAgIGRlbGV0ZSBzdGVtbWVkUmV2c1twb3MgKyAnLScgKyByZXZIYXNoXTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHJlZTogcmVzdWx0LFxuICAgIHJldnM6IHN0ZW1tZWRSZXZzID8gT2JqZWN0LmtleXMoc3RlbW1lZFJldnMpIDogW11cbiAgfTtcbn1cblxuZnVuY3Rpb24gbWVyZ2UodHJlZSwgcGF0aCwgZGVwdGgpIHtcbiAgdmFyIG5ld1RyZWUgPSBkb01lcmdlKHRyZWUsIHBhdGgpO1xuICB2YXIgc3RlbW1lZCA9IHN0ZW0obmV3VHJlZS50cmVlLCBkZXB0aCk7XG4gIHJldHVybiB7XG4gICAgdHJlZTogc3RlbW1lZC50cmVlLFxuICAgIHN0ZW1tZWRSZXZzOiBzdGVtbWVkLnJldnMsXG4gICAgY29uZmxpY3RzOiBuZXdUcmVlLmNvbmZsaWN0c1xuICB9O1xufVxuXG4vLyByZXR1cm4gdHJ1ZSBpZiBhIHJldiBleGlzdHMgaW4gdGhlIHJldiB0cmVlLCBmYWxzZSBvdGhlcndpc2VcbmZ1bmN0aW9uIHJldkV4aXN0cyhyZXZzLCByZXYpIHtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG4gIHZhciBzcGxpdFJldiA9IHJldi5zcGxpdCgnLScpO1xuICB2YXIgdGFyZ2V0UG9zID0gcGFyc2VJbnQoc3BsaXRSZXZbMF0sIDEwKTtcbiAgdmFyIHRhcmdldElkID0gc3BsaXRSZXZbMV07XG5cbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgaWYgKG5vZGUucG9zID09PSB0YXJnZXRQb3MgJiYgbm9kZS5pZHNbMF0gPT09IHRhcmdldElkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGJyYW5jaGVzID0gbm9kZS5pZHNbMl07XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3Bvczogbm9kZS5wb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0VHJlZXMobm9kZSkge1xuICByZXR1cm4gbm9kZS5pZHM7XG59XG5cbi8vIGNoZWNrIGlmIGEgc3BlY2lmaWMgcmV2aXNpb24gb2YgYSBkb2MgaGFzIGJlZW4gZGVsZXRlZFxuLy8gIC0gbWV0YWRhdGE6IHRoZSBtZXRhZGF0YSBvYmplY3QgZnJvbSB0aGUgZG9jIHN0b3JlXG4vLyAgLSByZXY6IChvcHRpb25hbCkgdGhlIHJldmlzaW9uIHRvIGNoZWNrLiBkZWZhdWx0cyB0byB3aW5uaW5nIHJldmlzaW9uXG5mdW5jdGlvbiBpc0RlbGV0ZWQobWV0YWRhdGEsIHJldikge1xuICBpZiAoIXJldikge1xuICAgIHJldiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICB9XG4gIHZhciBpZCA9IHJldi5zdWJzdHJpbmcocmV2LmluZGV4T2YoJy0nKSArIDEpO1xuICB2YXIgdG9WaXNpdCA9IG1ldGFkYXRhLnJldl90cmVlLm1hcChnZXRUcmVlcyk7XG5cbiAgdmFyIHRyZWU7XG4gIHdoaWxlICgodHJlZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgaWYgKHRyZWVbMF0gPT09IGlkKSB7XG4gICAgICByZXR1cm4gISF0cmVlWzFdLmRlbGV0ZWQ7XG4gICAgfVxuICAgIHRvVmlzaXQgPSB0b1Zpc2l0LmNvbmNhdCh0cmVlWzJdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0xvY2FsSWQoaWQpIHtcbiAgcmV0dXJuICgvXl9sb2NhbC8pLnRlc3QoaWQpO1xufVxuXG4vLyByZXR1cm5zIHRoZSBjdXJyZW50IGxlYWYgbm9kZSBmb3IgYSBnaXZlbiByZXZpc2lvblxuZnVuY3Rpb24gbGF0ZXN0KHJldiwgbWV0YWRhdGEpIHtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgaWQgPSB0cmVlWzBdO1xuICAgIHZhciBvcHRzID0gdHJlZVsxXTtcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBpc0xlYWYgPSBicmFuY2hlcy5sZW5ndGggPT09IDA7XG5cbiAgICB2YXIgaGlzdG9yeSA9IG5vZGUuaGlzdG9yeSA/IG5vZGUuaGlzdG9yeS5zbGljZSgpIDogW107XG4gICAgaGlzdG9yeS5wdXNoKHtpZDogaWQsIHBvczogcG9zLCBvcHRzOiBvcHRzfSk7XG5cbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaGlzdG9yeS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGlzdG9yeU5vZGUgPSBoaXN0b3J5W2ldO1xuICAgICAgICB2YXIgaGlzdG9yeVJldiA9IGhpc3RvcnlOb2RlLnBvcyArICctJyArIGhpc3RvcnlOb2RlLmlkO1xuXG4gICAgICAgIGlmIChoaXN0b3J5UmV2ID09PSByZXYpIHtcbiAgICAgICAgICAvLyByZXR1cm4gdGhlIHJldiBvZiB0aGlzIGxlYWZcbiAgICAgICAgICByZXR1cm4gcG9zICsgJy0nICsgaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBqID0gMCwgbCA9IGJyYW5jaGVzLmxlbmd0aDsgaiA8IGw7IGorKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbal0sIGhpc3Rvcnk6IGhpc3Rvcnl9KTtcbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGxhdGVzdCByZXZpc2lvbiBmb3IgaWQgJyArIG1ldGFkYXRhLmlkICsgJywgcmV2ICcgKyByZXYpO1xufVxuXG5pbmhlcml0cyhDaGFuZ2VzJDEsIEVFKTtcblxuZnVuY3Rpb24gdHJ5Q2F0Y2hJbkNoYW5nZUxpc3RlbmVyKHNlbGYsIGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAvLyBpc29sYXRlIHRyeS9jYXRjaGVzIHRvIGF2b2lkIFY4IGRlb3B0aW1pemF0aW9uc1xuICB0cnkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywgY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsICdFcnJvciBpbiAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24pOicsIGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIENoYW5nZXMkMShkYiwgb3B0cywgY2FsbGJhY2spIHtcbiAgRUUuY2FsbCh0aGlzKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLmRiID0gZGI7XG4gIG9wdHMgPSBvcHRzID8gY2xvbmUob3B0cykgOiB7fTtcbiAgdmFyIGNvbXBsZXRlID0gb3B0cy5jb21wbGV0ZSA9IG9uY2UoZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGlmIChsaXN0ZW5lckNvdW50KHNlbGYsICdlcnJvcicpID4gMCkge1xuICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5lbWl0KCdjb21wbGV0ZScsIHJlc3ApO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGRiLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB9KTtcbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgc2VsZi5vbignY29tcGxldGUnLCBmdW5jdGlvbiAocmVzcCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcCk7XG4gICAgfSk7XG4gICAgc2VsZi5vbignZXJyb3InLCBjYWxsYmFjayk7XG4gIH1cbiAgZnVuY3Rpb24gb25EZXN0cm95KCkge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gIH1cbiAgZGIub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcblxuICBvcHRzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lcihzZWxmLCBjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpO1xuICB9O1xuXG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgIG9wdHMuY29tcGxldGUgPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHJlcyk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHNlbGYub25jZSgnY2FuY2VsJywgZnVuY3Rpb24gKCkge1xuICAgIGRiLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICAgIG9wdHMuY29tcGxldGUobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgfSk7XG4gIHRoaXMudGhlbiA9IHByb21pc2UudGhlbi5iaW5kKHByb21pc2UpO1xuICB0aGlzWydjYXRjaCddID0gcHJvbWlzZVsnY2F0Y2gnXS5iaW5kKHByb21pc2UpO1xuICB0aGlzLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGNvbXBsZXRlKG51bGwsIHJlc3VsdCk7XG4gIH0sIGNvbXBsZXRlKTtcblxuXG5cbiAgaWYgKCFkYi50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgIGRiLnRhc2txdWV1ZS5hZGRUYXNrKGZ1bmN0aW9uIChmYWlsZWQpIHtcbiAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgb3B0cy5jb21wbGV0ZShmYWlsZWQpO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnY2FuY2VsJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnZhbGlkYXRlQ2hhbmdlcyhvcHRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLnZhbGlkYXRlQ2hhbmdlcyhvcHRzKTtcbiAgfVxufVxuQ2hhbmdlcyQxLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaXNDYW5jZWxsZWQgPSB0cnVlO1xuICBpZiAodGhpcy5kYi50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgIHRoaXMuZW1pdCgnY2FuY2VsJyk7XG4gIH1cbn07XG5mdW5jdGlvbiBwcm9jZXNzQ2hhbmdlKGRvYywgbWV0YWRhdGEsIG9wdHMpIHtcbiAgdmFyIGNoYW5nZUxpc3QgPSBbe3JldjogZG9jLl9yZXZ9XTtcbiAgaWYgKG9wdHMuc3R5bGUgPT09ICdhbGxfZG9jcycpIHtcbiAgICBjaGFuZ2VMaXN0ID0gY29sbGVjdExlYXZlcyhtZXRhZGF0YS5yZXZfdHJlZSlcbiAgICAubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB7cmV2OiB4LnJldn07IH0pO1xuICB9XG4gIHZhciBjaGFuZ2UgPSB7XG4gICAgaWQ6IG1ldGFkYXRhLmlkLFxuICAgIGNoYW5nZXM6IGNoYW5nZUxpc3QsXG4gICAgZG9jOiBkb2NcbiAgfTtcblxuICBpZiAoaXNEZWxldGVkKG1ldGFkYXRhLCBkb2MuX3JldikpIHtcbiAgICBjaGFuZ2UuZGVsZXRlZCA9IHRydWU7XG4gIH1cbiAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgY2hhbmdlLmRvYy5fY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgaWYgKCFjaGFuZ2UuZG9jLl9jb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICBkZWxldGUgY2hhbmdlLmRvYy5fY29uZmxpY3RzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2hhbmdlO1xufVxuXG5DaGFuZ2VzJDEucHJvdG90eXBlLnZhbGlkYXRlQ2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHZhciBjYWxsYmFjayA9IG9wdHMuY29tcGxldGU7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbikge1xuICAgIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4udmFsaWRhdGUob3B0cywgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICB9XG59O1xuXG5DaGFuZ2VzJDEucHJvdG90eXBlLmRvQ2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcblxuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIGlmICgnbGl2ZScgaW4gb3B0cyAmJiAhKCdjb250aW51b3VzJyBpbiBvcHRzKSkge1xuICAgIG9wdHMuY29udGludW91cyA9IG9wdHMubGl2ZTtcbiAgfVxuICBvcHRzLnByb2Nlc3NDaGFuZ2UgPSBwcm9jZXNzQ2hhbmdlO1xuXG4gIGlmIChvcHRzLnNpbmNlID09PSAnbGF0ZXN0Jykge1xuICAgIG9wdHMuc2luY2UgPSAnbm93JztcbiAgfVxuICBpZiAoIW9wdHMuc2luY2UpIHtcbiAgICBvcHRzLnNpbmNlID0gMDtcbiAgfVxuICBpZiAob3B0cy5zaW5jZSA9PT0gJ25vdycpIHtcbiAgICB0aGlzLmRiLmluZm8oKS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wdHMuc2luY2UgPSBpbmZvLnVwZGF0ZV9zZXE7XG4gICAgICBzZWxmLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9LCBjYWxsYmFjayk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4pIHtcbiAgICBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLm5vcm1hbGl6ZShvcHRzKTtcbiAgICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi5zaG91bGRGaWx0ZXIodGhpcywgb3B0cykpIHtcbiAgICAgIHJldHVybiBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLmZpbHRlcih0aGlzLCBvcHRzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgWydkb2NfaWRzJywgJ2ZpbHRlcicsICdzZWxlY3RvcicsICd2aWV3J10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoa2V5IGluIG9wdHMpIHtcbiAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLFxuICAgICAgICAgICdUaGUgXCInICsga2V5ICsgJ1wiIG9wdGlvbiB3YXMgcGFzc2VkIGluIHRvIGNoYW5nZXMvcmVwbGljYXRlLCAnICtcbiAgICAgICAgICAnYnV0IHBvdWNoZGItY2hhbmdlcy1maWx0ZXIgcGx1Z2luIGlzIG5vdCBpbnN0YWxsZWQsIHNvIGl0ICcgK1xuICAgICAgICAgICd3YXMgaWdub3JlZC4gUGxlYXNlIGluc3RhbGwgdGhlIHBsdWdpbiB0byBlbmFibGUgZmlsdGVyaW5nLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmICghKCdkZXNjZW5kaW5nJyBpbiBvcHRzKSkge1xuICAgIG9wdHMuZGVzY2VuZGluZyA9IGZhbHNlO1xuICB9XG5cbiAgLy8gMCBhbmQgMSBzaG91bGQgcmV0dXJuIDEgZG9jdW1lbnRcbiAgb3B0cy5saW1pdCA9IG9wdHMubGltaXQgPT09IDAgPyAxIDogb3B0cy5saW1pdDtcbiAgb3B0cy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuICB2YXIgbmV3UHJvbWlzZSA9IHRoaXMuZGIuX2NoYW5nZXMob3B0cyk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChuZXdQcm9taXNlICYmIHR5cGVvZiBuZXdQcm9taXNlLmNhbmNlbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBjYW5jZWwgPSBzZWxmLmNhbmNlbDtcbiAgICBzZWxmLmNhbmNlbCA9IGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgICAgbmV3UHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgIGNhbmNlbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLypcbiAqIEEgZ2VuZXJpYyBwb3VjaCBhZGFwdGVyXG4gKi9cblxuZnVuY3Rpb24gY29tcGFyZShsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdCA8IHJpZ2h0ID8gLTEgOiBsZWZ0ID4gcmlnaHQgPyAxIDogMDtcbn1cblxuLy8gV3JhcHBlciBmb3IgZnVuY3Rpb25zIHRoYXQgY2FsbCB0aGUgYnVsa2RvY3MgYXBpIHdpdGggYSBzaW5nbGUgZG9jLFxuLy8gaWYgdGhlIGZpcnN0IHJlc3VsdCBpcyBhbiBlcnJvciwgcmV0dXJuIGFuIGVycm9yXG5mdW5jdGlvbiB5YW5rRXJyb3IoY2FsbGJhY2ssIGRvY0lkKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgaWYgKGVyciB8fCAocmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmVycm9yKSkge1xuICAgICAgZXJyID0gZXJyIHx8IHJlc3VsdHNbMF07XG4gICAgICBlcnIuZG9jSWQgPSBkb2NJZDtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMubGVuZ3RoID8gcmVzdWx0c1swXSAgOiByZXN1bHRzKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIGNsZWFuIGRvY3MgZ2l2ZW4gdG8gdXMgYnkgdGhlIHVzZXJcbmZ1bmN0aW9uIGNsZWFuRG9jcyhkb2NzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkb2MgPSBkb2NzW2ldO1xuICAgIGlmIChkb2MuX2RlbGV0ZWQpIHtcbiAgICAgIGRlbGV0ZSBkb2MuX2F0dGFjaG1lbnRzOyAvLyBpZ25vcmUgYXR0cyBmb3IgZGVsZXRlZCBkb2NzXG4gICAgfSBlbHNlIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAvLyBmaWx0ZXIgb3V0IGV4dHJhbmVvdXMga2V5cyBmcm9tIF9hdHRhY2htZW50c1xuICAgICAgdmFyIGF0dHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXR0cy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgYXR0ID0gYXR0c1tqXTtcbiAgICAgICAgZG9jLl9hdHRhY2htZW50c1thdHRdID0gcGljayhkb2MuX2F0dGFjaG1lbnRzW2F0dF0sXG4gICAgICAgICAgWydkYXRhJywgJ2RpZ2VzdCcsICdjb250ZW50X3R5cGUnLCAnbGVuZ3RoJywgJ3JldnBvcycsICdzdHViJ10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBjb21wYXJlIHR3byBkb2NzLCBmaXJzdCBieSBfaWQgdGhlbiBieSBfcmV2XG5mdW5jdGlvbiBjb21wYXJlQnlJZFRoZW5SZXYoYSwgYikge1xuICB2YXIgaWRDb21wYXJlID0gY29tcGFyZShhLl9pZCwgYi5faWQpO1xuICBpZiAoaWRDb21wYXJlICE9PSAwKSB7XG4gICAgcmV0dXJuIGlkQ29tcGFyZTtcbiAgfVxuICB2YXIgYVN0YXJ0ID0gYS5fcmV2aXNpb25zID8gYS5fcmV2aXNpb25zLnN0YXJ0IDogMDtcbiAgdmFyIGJTdGFydCA9IGIuX3JldmlzaW9ucyA/IGIuX3JldmlzaW9ucy5zdGFydCA6IDA7XG4gIHJldHVybiBjb21wYXJlKGFTdGFydCwgYlN0YXJ0KTtcbn1cblxuLy8gZm9yIGV2ZXJ5IG5vZGUgaW4gYSByZXZpc2lvbiB0cmVlIGNvbXB1dGVzIGl0cyBkaXN0YW5jZSBmcm9tIHRoZSBjbG9zZXN0XG4vLyBsZWFmXG5mdW5jdGlvbiBjb21wdXRlSGVpZ2h0KHJldnMpIHtcbiAgdmFyIGhlaWdodCA9IHt9O1xuICB2YXIgZWRnZXMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKHJldnMsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgaWQsIHBybnQpIHtcbiAgICB2YXIgcmV2ID0gcG9zICsgXCItXCIgKyBpZDtcbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBoZWlnaHRbcmV2XSA9IDA7XG4gICAgfVxuICAgIGlmIChwcm50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVkZ2VzLnB1c2goe2Zyb206IHBybnQsIHRvOiByZXZ9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbiAgfSk7XG5cbiAgZWRnZXMucmV2ZXJzZSgpO1xuICBlZGdlcy5mb3JFYWNoKGZ1bmN0aW9uIChlZGdlKSB7XG4gICAgaWYgKGhlaWdodFtlZGdlLmZyb21dID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGhlaWdodFtlZGdlLmZyb21dID0gMSArIGhlaWdodFtlZGdlLnRvXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0W2VkZ2UuZnJvbV0gPSBNYXRoLm1pbihoZWlnaHRbZWRnZS5mcm9tXSwgMSArIGhlaWdodFtlZGdlLnRvXSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGhlaWdodDtcbn1cblxuZnVuY3Rpb24gYWxsRG9jc0tleXNQYXJzZShvcHRzKSB7XG4gIHZhciBrZXlzID0gICgnbGltaXQnIGluIG9wdHMpID9cbiAgICBvcHRzLmtleXMuc2xpY2Uob3B0cy5za2lwLCBvcHRzLmxpbWl0ICsgb3B0cy5za2lwKSA6XG4gICAgKG9wdHMuc2tpcCA+IDApID8gb3B0cy5rZXlzLnNsaWNlKG9wdHMuc2tpcCkgOiBvcHRzLmtleXM7XG4gIG9wdHMua2V5cyA9IGtleXM7XG4gIG9wdHMuc2tpcCA9IDA7XG4gIGRlbGV0ZSBvcHRzLmxpbWl0O1xuICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAga2V5cy5yZXZlcnNlKCk7XG4gICAgb3B0cy5kZXNjZW5kaW5nID0gZmFsc2U7XG4gIH1cbn1cblxuLy8gYWxsIGNvbXBhY3Rpb24gaXMgZG9uZSBpbiBhIHF1ZXVlLCB0byBhdm9pZCBhdHRhY2hpbmdcbi8vIHRvbyBtYW55IGxpc3RlbmVycyBhdCBvbmNlXG5mdW5jdGlvbiBkb05leHRDb21wYWN0aW9uKHNlbGYpIHtcbiAgdmFyIHRhc2sgPSBzZWxmLl9jb21wYWN0aW9uUXVldWVbMF07XG4gIHZhciBvcHRzID0gdGFzay5vcHRzO1xuICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICBzZWxmLmdldCgnX2xvY2FsL2NvbXBhY3Rpb24nKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoZG9jICYmIGRvYy5sYXN0X3NlcSkge1xuICAgICAgb3B0cy5sYXN0X3NlcSA9IGRvYy5sYXN0X3NlcTtcbiAgICB9XG4gICAgc2VsZi5fY29tcGFjdChvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgIH1cbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoc2VsZi5fY29tcGFjdGlvblF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIGRvTmV4dENvbXBhY3Rpb24oc2VsZik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXR0YWNobWVudE5hbWVFcnJvcihuYW1lKSB7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gJ18nKSB7XG4gICAgcmV0dXJuIG5hbWUgKyAnIGlzIG5vdCBhIHZhbGlkIGF0dGFjaG1lbnQgbmFtZSwgYXR0YWNobWVudCAnICtcbiAgICAgICduYW1lcyBjYW5ub3Qgc3RhcnQgd2l0aCBcXCdfXFwnJztcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmluaGVyaXRzKEFic3RyYWN0UG91Y2hEQiwgRUUpO1xuXG5mdW5jdGlvbiBBYnN0cmFjdFBvdWNoREIoKSB7XG4gIEVFLmNhbGwodGhpcyk7XG5cbiAgLy8gcmUtYmluZCBwcm90b3R5cGVkIG1ldGhvZHNcbiAgZm9yICh2YXIgcCBpbiBBYnN0cmFjdFBvdWNoREIucHJvdG90eXBlKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzW3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW3BdID0gdGhpc1twXS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnBvc3QgPVxuICBhZGFwdGVyRnVuKCdwb3N0JywgZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGRvYyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShkb2MpKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgfVxuICB0aGlzLmJ1bGtEb2NzKHtkb2NzOiBbZG9jXX0sIG9wdHMsIHlhbmtFcnJvcihjYWxsYmFjaywgZG9jLl9pZCkpO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucHV0ID0gYWRhcHRlckZ1bigncHV0JywgZnVuY3Rpb24gKGRvYywgb3B0cywgY2IpIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGRvYyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShkb2MpKSB7XG4gICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgfVxuICBpbnZhbGlkSWRFcnJvcihkb2MuX2lkKTtcbiAgaWYgKGlzTG9jYWxJZChkb2MuX2lkKSAmJiB0eXBlb2YgdGhpcy5fcHV0TG9jYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTG9jYWwoZG9jLCBjYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9wdXRMb2NhbChkb2MsIGNiKTtcbiAgICB9XG4gIH1cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAob3B0cy5mb3JjZSAmJiBkb2MuX3Jldikge1xuICAgIHRyYW5zZm9ybUZvcmNlT3B0aW9uVG9OZXdFZGl0c09wdGlvbigpO1xuICAgIHB1dERvYyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZXJyID8gbnVsbCA6IHtvazogdHJ1ZSwgaWQ6IGRvYy5faWQsIHJldjogZG9jLl9yZXZ9O1xuICAgICAgY2IoZXJyLCByZXN1bHQpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHB1dERvYyhjYik7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2Zvcm1Gb3JjZU9wdGlvblRvTmV3RWRpdHNPcHRpb24oKSB7XG4gICAgdmFyIHBhcnRzID0gZG9jLl9yZXYuc3BsaXQoJy0nKTtcbiAgICB2YXIgb2xkUmV2SWQgPSBwYXJ0c1sxXTtcbiAgICB2YXIgb2xkUmV2TnVtID0gcGFyc2VJbnQocGFydHNbMF0sIDEwKTtcblxuICAgIHZhciBuZXdSZXZOdW0gPSBvbGRSZXZOdW0gKyAxO1xuICAgIHZhciBuZXdSZXZJZCA9IHJldiQkMSgpO1xuXG4gICAgZG9jLl9yZXZpc2lvbnMgPSB7XG4gICAgICBzdGFydDogbmV3UmV2TnVtLFxuICAgICAgaWRzOiBbbmV3UmV2SWQsIG9sZFJldklkXVxuICAgIH07XG4gICAgZG9jLl9yZXYgPSBuZXdSZXZOdW0gKyAnLScgKyBuZXdSZXZJZDtcbiAgICBvcHRzLm5ld19lZGl0cyA9IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHB1dERvYyhuZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBzZWxmLl9wdXQgPT09ICdmdW5jdGlvbicgJiYgb3B0cy5uZXdfZWRpdHMgIT09IGZhbHNlKSB7XG4gICAgICBzZWxmLl9wdXQoZG9jLCBvcHRzLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5idWxrRG9jcyh7ZG9jczogW2RvY119LCBvcHRzLCB5YW5rRXJyb3IobmV4dCwgZG9jLl9pZCkpO1xuICAgIH1cbiAgfVxufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucHV0QXR0YWNobWVudCA9XG4gIGFkYXB0ZXJGdW4oJ3B1dEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCwgcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2IsIHR5cGUpIHtcbiAgdmFyIGFwaSA9IHRoaXM7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHR5cGUgPSBibG9iO1xuICAgIGJsb2IgPSByZXY7XG4gICAgcmV2ID0gbnVsbDtcbiAgfVxuICAvLyBMZXRzIGZpeCBpbiBodHRwczovL2dpdGh1Yi5jb20vcG91Y2hkYi9wb3VjaGRiL2lzc3Vlcy8zMjY3XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIHR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdHlwZSA9IGJsb2I7XG4gICAgYmxvYiA9IHJldjtcbiAgICByZXYgPSBudWxsO1xuICB9XG4gIGlmICghdHlwZSkge1xuICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJywgJ0F0dGFjaG1lbnQnLCBhdHRhY2htZW50SWQsICdvbiBkb2N1bWVudCcsIGRvY0lkLCAnaXMgbWlzc2luZyBjb250ZW50X3R5cGUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUF0dGFjaG1lbnQoZG9jKSB7XG4gICAgdmFyIHByZXZyZXZwb3MgPSAnX3JldicgaW4gZG9jID8gcGFyc2VJbnQoZG9jLl9yZXYsIDEwKSA6IDA7XG4gICAgZG9jLl9hdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHMgfHwge307XG4gICAgZG9jLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdID0ge1xuICAgICAgY29udGVudF90eXBlOiB0eXBlLFxuICAgICAgZGF0YTogYmxvYixcbiAgICAgIHJldnBvczogKytwcmV2cmV2cG9zXG4gICAgfTtcbiAgICByZXR1cm4gYXBpLnB1dChkb2MpO1xuICB9XG5cbiAgcmV0dXJuIGFwaS5nZXQoZG9jSWQpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MuX3JldiAhPT0gcmV2KSB7XG4gICAgICB0aHJvdyBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVBdHRhY2htZW50KGRvYyk7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgLy8gY3JlYXRlIG5ldyBkb2NcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChlcnIucmVhc29uID09PSBNSVNTSU5HX0RPQy5tZXNzYWdlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQXR0YWNobWVudCh7X2lkOiBkb2NJZH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlbW92ZUF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdyZW1vdmVBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHNlbGYuZ2V0KGRvY0lkLCBmdW5jdGlvbiAoZXJyLCBvYmopIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob2JqLl9yZXYgIT09IHJldikge1xuICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghb2JqLl9hdHRhY2htZW50cykge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGRlbGV0ZSBvYmouX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF07XG4gICAgaWYgKE9iamVjdC5rZXlzKG9iai5fYXR0YWNobWVudHMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZGVsZXRlIG9iai5fYXR0YWNobWVudHM7XG4gICAgfVxuICAgIHNlbGYucHV0KG9iaiwgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlbW92ZSA9XG4gIGFkYXB0ZXJGdW4oJ3JlbW92ZScsIGZ1bmN0aW9uIChkb2NPcklkLCBvcHRzT3JSZXYsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBkb2M7XG4gIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnc3RyaW5nJykge1xuICAgIC8vIGlkLCByZXYsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgZG9jID0ge1xuICAgICAgX2lkOiBkb2NPcklkLFxuICAgICAgX3Jldjogb3B0c09yUmV2XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gZG9jLCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgIGRvYyA9IGRvY09ySWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0c09yUmV2O1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0gb3B0c09yUmV2O1xuICAgIH1cbiAgfVxuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgb3B0cy53YXNfZGVsZXRlID0gdHJ1ZTtcbiAgdmFyIG5ld0RvYyA9IHtfaWQ6IGRvYy5faWQsIF9yZXY6IChkb2MuX3JldiB8fCBvcHRzLnJldil9O1xuICBuZXdEb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICBpZiAoaXNMb2NhbElkKG5ld0RvYy5faWQpICYmIHR5cGVvZiB0aGlzLl9yZW1vdmVMb2NhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGlzLl9yZW1vdmVMb2NhbChkb2MsIGNhbGxiYWNrKTtcbiAgfVxuICB0aGlzLmJ1bGtEb2NzKHtkb2NzOiBbbmV3RG9jXX0sIG9wdHMsIHlhbmtFcnJvcihjYWxsYmFjaywgbmV3RG9jLl9pZCkpO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmV2c0RpZmYgPVxuICBhZGFwdGVyRnVuKCdyZXZzRGlmZicsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgdmFyIGlkcyA9IE9iamVjdC5rZXlzKHJlcSk7XG5cbiAgaWYgKCFpZHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHt9KTtcbiAgfVxuXG4gIHZhciBjb3VudCA9IDA7XG4gIHZhciBtaXNzaW5nID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgZnVuY3Rpb24gYWRkVG9NaXNzaW5nKGlkLCByZXZJZCkge1xuICAgIGlmICghbWlzc2luZy5oYXMoaWQpKSB7XG4gICAgICBtaXNzaW5nLnNldChpZCwge21pc3Npbmc6IFtdfSk7XG4gICAgfVxuICAgIG1pc3NpbmcuZ2V0KGlkKS5taXNzaW5nLnB1c2gocmV2SWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0RvYyhpZCwgcmV2X3RyZWUpIHtcbiAgICAvLyBJcyB0aGlzIGZhc3QgZW5vdWdoPyBNYXliZSB3ZSBzaG91bGQgc3dpdGNoIHRvIGEgc2V0IHNpbXVsYXRlZCBieSBhIG1hcFxuICAgIHZhciBtaXNzaW5nRm9ySWQgPSByZXFbaWRdLnNsaWNlKDApO1xuICAgIHRyYXZlcnNlUmV2VHJlZShyZXZfdHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoLCBjdHgsXG4gICAgICBvcHRzKSB7XG4gICAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgICB2YXIgaWR4ID0gbWlzc2luZ0ZvcklkLmluZGV4T2YocmV2KTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtaXNzaW5nRm9ySWQuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAob3B0cy5zdGF0dXMgIT09ICdhdmFpbGFibGUnKSB7XG4gICAgICAgICAgYWRkVG9NaXNzaW5nKGlkLCByZXYpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIFRyYXZlcnNpbmcgdGhlIHRyZWUgaXMgc3luY2hyb25vdXMsIHNvIG5vdyBgbWlzc2luZ0ZvcklkYCBjb250YWluc1xuICAgIC8vIHJldmlzaW9ucyB0aGF0IHdlcmUgbm90IGZvdW5kIGluIHRoZSB0cmVlXG4gICAgbWlzc2luZ0ZvcklkLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgICAgYWRkVG9NaXNzaW5nKGlkLCByZXYpO1xuICAgIH0pO1xuICB9XG5cbiAgaWRzLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoaWQsIGZ1bmN0aW9uIChlcnIsIHJldl90cmVlKSB7XG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgPT09IDQwNCAmJiBlcnIubWVzc2FnZSA9PT0gJ21pc3NpbmcnKSB7XG4gICAgICAgIG1pc3Npbmcuc2V0KGlkLCB7bWlzc2luZzogcmVxW2lkXX0pO1xuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzRG9jKGlkLCByZXZfdHJlZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgrK2NvdW50ID09PSBpZHMubGVuZ3RoKSB7XG4gICAgICAgIC8vIGNvbnZlcnQgTGF6eU1hcCB0byBvYmplY3RcbiAgICAgICAgdmFyIG1pc3NpbmdPYmogPSB7fTtcbiAgICAgICAgbWlzc2luZy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgbWlzc2luZ09ialtrZXldID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbWlzc2luZ09iaik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIHRoaXMpO1xufSk7XG5cbi8vIF9idWxrX2dldCBBUEkgZm9yIGZhc3RlciByZXBsaWNhdGlvbiwgYXMgZGVzY3JpYmVkIGluXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYXBhY2hlL2NvdWNoZGItY2h0dHBkL3B1bGwvMzNcbi8vIEF0IHRoZSBcImFic3RyYWN0XCIgbGV2ZWwsIGl0IHdpbGwganVzdCBydW4gbXVsdGlwbGUgZ2V0KClzIGluXG4vLyBwYXJhbGxlbCwgYmVjYXVzZSB0aGlzIGlzbid0IG11Y2ggb2YgYSBwZXJmb3JtYW5jZSBjb3N0XG4vLyBmb3IgbG9jYWwgZGF0YWJhc2VzIChleGNlcHQgdGhlIGNvc3Qgb2YgbXVsdGlwbGUgdHJhbnNhY3Rpb25zLCB3aGljaCBpc1xuLy8gc21hbGwpLiBUaGUgaHR0cCBhZGFwdGVyIG92ZXJyaWRlcyB0aGlzIGluIG9yZGVyXG4vLyB0byBkbyBhIG1vcmUgZWZmaWNpZW50IHNpbmdsZSBIVFRQIHJlcXVlc3QuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmJ1bGtHZXQgPVxuICBhZGFwdGVyRnVuKCdidWxrR2V0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGJ1bGtHZXQodGhpcywgb3B0cywgY2FsbGJhY2spO1xufSk7XG5cbi8vIGNvbXBhY3Qgb25lIGRvY3VtZW50IGFuZCBmaXJlIGNhbGxiYWNrXG4vLyBieSBjb21wYWN0aW5nIHdlIG1lYW4gcmVtb3ZpbmcgYWxsIHJldmlzaW9ucyB3aGljaFxuLy8gYXJlIGZ1cnRoZXIgZnJvbSB0aGUgbGVhZiBpbiByZXZpc2lvbiB0cmVlIHRoYW4gbWF4X2hlaWdodFxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jb21wYWN0RG9jdW1lbnQgPVxuICBhZGFwdGVyRnVuKCdjb21wYWN0RG9jdW1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIG1heEhlaWdodCwgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoZG9jSWQsIGZ1bmN0aW9uIChlcnIsIHJldlRyZWUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgdmFyIGhlaWdodCA9IGNvbXB1dGVIZWlnaHQocmV2VHJlZSk7XG4gICAgdmFyIGNhbmRpZGF0ZXMgPSBbXTtcbiAgICB2YXIgcmV2cyA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGhlaWdodCkuZm9yRWFjaChmdW5jdGlvbiAocmV2KSB7XG4gICAgICBpZiAoaGVpZ2h0W3Jldl0gPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHJldik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0cmF2ZXJzZVJldlRyZWUocmV2VHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgaWYgKG9wdHMuc3RhdHVzID09PSAnYXZhaWxhYmxlJyAmJiBjYW5kaWRhdGVzLmluZGV4T2YocmV2KSAhPT0gLTEpIHtcbiAgICAgICAgcmV2cy5wdXNoKHJldik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2VsZi5fZG9Db21wYWN0aW9uKGRvY0lkLCByZXZzLCBjYWxsYmFjayk7XG4gIH0pO1xufSk7XG5cbi8vIGNvbXBhY3QgdGhlIHdob2xlIGRhdGFiYXNlIHVzaW5nIHNpbmdsZSBkb2N1bWVudFxuLy8gY29tcGFjdGlvblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jb21wYWN0ID1cbiAgYWRhcHRlckZ1bignY29tcGFjdCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBzZWxmLl9jb21wYWN0aW9uUXVldWUgPSBzZWxmLl9jb21wYWN0aW9uUXVldWUgfHwgW107XG4gIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5wdXNoKHtvcHRzOiBvcHRzLCBjYWxsYmFjazogY2FsbGJhY2t9KTtcbiAgaWYgKHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5sZW5ndGggPT09IDEpIHtcbiAgICBkb05leHRDb21wYWN0aW9uKHNlbGYpO1xuICB9XG59KTtcbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuX2NvbXBhY3QgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgY2hhbmdlc09wdHMgPSB7XG4gICAgcmV0dXJuX2RvY3M6IGZhbHNlLFxuICAgIGxhc3Rfc2VxOiBvcHRzLmxhc3Rfc2VxIHx8IDBcbiAgfTtcbiAgdmFyIHByb21pc2VzID0gW107XG5cbiAgZnVuY3Rpb24gb25DaGFuZ2Uocm93KSB7XG4gICAgcHJvbWlzZXMucHVzaChzZWxmLmNvbXBhY3REb2N1bWVudChyb3cuaWQsIDApKTtcbiAgfVxuICBmdW5jdGlvbiBvbkNvbXBsZXRlKHJlc3ApIHtcbiAgICB2YXIgbGFzdFNlcSA9IHJlc3AubGFzdF9zZXE7XG4gICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVwc2VydChzZWxmLCAnX2xvY2FsL2NvbXBhY3Rpb24nLCBmdW5jdGlvbiBkZWx0YUZ1bmMoZG9jKSB7XG4gICAgICAgIGlmICghZG9jLmxhc3Rfc2VxIHx8IGRvYy5sYXN0X3NlcSA8IGxhc3RTZXEpIHtcbiAgICAgICAgICBkb2MubGFzdF9zZXEgPSBsYXN0U2VxO1xuICAgICAgICAgIHJldHVybiBkb2M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBzb21lYm9keSBlbHNlIGdvdCBoZXJlIGZpcnN0LCBkb24ndCB1cGRhdGVcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwge29rOiB0cnVlfSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9XG4gIHNlbGYuY2hhbmdlcyhjaGFuZ2VzT3B0cylcbiAgICAub24oJ2NoYW5nZScsIG9uQ2hhbmdlKVxuICAgIC5vbignY29tcGxldGUnLCBvbkNvbXBsZXRlKVxuICAgIC5vbignZXJyb3InLCBjYWxsYmFjayk7XG59O1xuXG4vKiBCZWdpbiBhcGkgd3JhcHBlcnMuIFNwZWNpZmljIGZ1bmN0aW9uYWxpdHkgdG8gc3RvcmFnZSBiZWxvbmdzIGluIHRoZVxuICAgX1ttZXRob2RdICovXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmdldCA9IGFkYXB0ZXJGdW4oJ2dldCcsIGZ1bmN0aW9uIChpZCwgb3B0cywgY2IpIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihJTlZBTElEX0lEKSk7XG4gIH1cbiAgaWYgKGlzTG9jYWxJZChpZCkgJiYgdHlwZW9mIHRoaXMuX2dldExvY2FsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldExvY2FsKGlkLCBjYik7XG4gIH1cbiAgdmFyIGxlYXZlcyA9IFtdLCBzZWxmID0gdGhpcztcblxuICBmdW5jdGlvbiBmaW5pc2hPcGVuUmV2cygpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGNvdW50ID0gbGVhdmVzLmxlbmd0aDtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWNvdW50KSB7XG4gICAgICByZXR1cm4gY2IobnVsbCwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvLyBvcmRlciB3aXRoIG9wZW5fcmV2cyBpcyB1bnNwZWNpZmllZFxuICAgIGxlYXZlcy5mb3JFYWNoKGZ1bmN0aW9uIChsZWFmKSB7XG4gICAgICBzZWxmLmdldChpZCwge1xuICAgICAgICByZXY6IGxlYWYsXG4gICAgICAgIHJldnM6IG9wdHMucmV2cyxcbiAgICAgICAgbGF0ZXN0OiBvcHRzLmxhdGVzdCxcbiAgICAgICAgYXR0YWNobWVudHM6IG9wdHMuYXR0YWNobWVudHMsXG4gICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnlcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIGRvYykge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgIC8vIHVzaW5nIGxhdGVzdD10cnVlIGNhbiBwcm9kdWNlIGR1cGxpY2F0ZXNcbiAgICAgICAgICB2YXIgZXhpc3Rpbmc7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZXN1bHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0W2ldLm9rICYmIHJlc3VsdFtpXS5vay5fcmV2ID09PSBkb2MuX3Jldikge1xuICAgICAgICAgICAgICBleGlzdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7b2s6IGRvY30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh7bWlzc2luZzogbGVhZn0pO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50LS07XG4gICAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgICBjYihudWxsLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChvcHRzLm9wZW5fcmV2cykge1xuICAgIGlmIChvcHRzLm9wZW5fcmV2cyA9PT0gXCJhbGxcIikge1xuICAgICAgdGhpcy5fZ2V0UmV2aXNpb25UcmVlKGlkLCBmdW5jdGlvbiAoZXJyLCByZXZfdHJlZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGxlYXZlcyA9IGNvbGxlY3RMZWF2ZXMocmV2X3RyZWUpLm1hcChmdW5jdGlvbiAobGVhZikge1xuICAgICAgICAgIHJldHVybiBsZWFmLnJldjtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbmlzaE9wZW5SZXZzKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0cy5vcGVuX3JldnMpKSB7XG4gICAgICAgIGxlYXZlcyA9IG9wdHMub3Blbl9yZXZzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlYXZlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBsID0gbGVhdmVzW2ldO1xuICAgICAgICAgIC8vIGxvb2tzIGxpa2UgaXQncyB0aGUgb25seSB0aGluZyBjb3VjaGRiIGNoZWNrc1xuICAgICAgICAgIGlmICghKHR5cGVvZiAobCkgPT09IFwic3RyaW5nXCIgJiYgL15cXGQrLS8udGVzdChsKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihJTlZBTElEX1JFVikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5pc2hPcGVuUmV2cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKFVOS05PV05fRVJST1IsICdmdW5jdGlvbl9jbGF1c2UnKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjsgLy8gb3Blbl9yZXZzIGRvZXMgbm90IGxpa2Ugb3RoZXIgb3B0aW9uc1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2dldChpZCwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgZXJyLmRvY0lkID0gaWQ7XG4gICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICB9XG5cbiAgICB2YXIgZG9jID0gcmVzdWx0LmRvYztcbiAgICB2YXIgbWV0YWRhdGEgPSByZXN1bHQubWV0YWRhdGE7XG4gICAgdmFyIGN0eCA9IHJlc3VsdC5jdHg7XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHZhciBjb25mbGljdHMgPSBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKTtcbiAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICAgIGRvYy5fY29uZmxpY3RzID0gY29uZmxpY3RzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0RlbGV0ZWQobWV0YWRhdGEsIGRvYy5fcmV2KSkge1xuICAgICAgZG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXZzIHx8IG9wdHMucmV2c19pbmZvKSB7XG4gICAgICB2YXIgc3BsaXR0ZWRSZXYgPSBkb2MuX3Jldi5zcGxpdCgnLScpO1xuICAgICAgdmFyIHJldk5vICAgICAgID0gcGFyc2VJbnQoc3BsaXR0ZWRSZXZbMF0sIDEwKTtcbiAgICAgIHZhciByZXZIYXNoICAgICA9IHNwbGl0dGVkUmV2WzFdO1xuXG4gICAgICB2YXIgcGF0aHMgPSByb290VG9MZWFmKG1ldGFkYXRhLnJldl90cmVlKTtcbiAgICAgIHZhciBwYXRoID0gbnVsbDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSBwYXRoc1tpXTtcbiAgICAgICAgdmFyIGhhc2hJbmRleCA9IGN1cnJlbnRQYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQ7IH0pXG4gICAgICAgICAgLmluZGV4T2YocmV2SGFzaCk7XG4gICAgICAgIHZhciBoYXNoRm91bmRBdFJldlBvcyA9IGhhc2hJbmRleCA9PT0gKHJldk5vIC0gMSk7XG5cbiAgICAgICAgaWYgKGhhc2hGb3VuZEF0UmV2UG9zIHx8ICghcGF0aCAmJiBoYXNoSW5kZXggIT09IC0xKSkge1xuICAgICAgICAgIHBhdGggPSBjdXJyZW50UGF0aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICghcGF0aCkge1xuICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ2ludmFsaWQgcmV2IHRyZWUnKTtcbiAgICAgICAgZXJyLmRvY0lkID0gaWQ7XG4gICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXhPZlJldiA9IHBhdGguaWRzLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSlcbiAgICAgICAgLmluZGV4T2YoZG9jLl9yZXYuc3BsaXQoJy0nKVsxXSkgKyAxO1xuICAgICAgdmFyIGhvd01hbnkgPSBwYXRoLmlkcy5sZW5ndGggLSBpbmRleE9mUmV2O1xuICAgICAgcGF0aC5pZHMuc3BsaWNlKGluZGV4T2ZSZXYsIGhvd01hbnkpO1xuICAgICAgcGF0aC5pZHMucmV2ZXJzZSgpO1xuXG4gICAgICBpZiAob3B0cy5yZXZzKSB7XG4gICAgICAgIGRvYy5fcmV2aXNpb25zID0ge1xuICAgICAgICAgIHN0YXJ0OiAocGF0aC5wb3MgKyBwYXRoLmlkcy5sZW5ndGgpIC0gMSxcbiAgICAgICAgICBpZHM6IHBhdGguaWRzLm1hcChmdW5jdGlvbiAocmV2KSB7XG4gICAgICAgICAgICByZXR1cm4gcmV2LmlkO1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5yZXZzX2luZm8pIHtcbiAgICAgICAgdmFyIHBvcyA9ICBwYXRoLnBvcyArIHBhdGguaWRzLmxlbmd0aDtcbiAgICAgICAgZG9jLl9yZXZzX2luZm8gPSBwYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHJldikge1xuICAgICAgICAgIHBvcy0tO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXY6IHBvcyArICctJyArIHJldi5pZCxcbiAgICAgICAgICAgIHN0YXR1czogcmV2Lm9wdHMuc3RhdHVzXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgdmFyIGF0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cztcbiAgICAgIHZhciBjb3VudCA9IE9iamVjdC5rZXlzKGF0dGFjaG1lbnRzKS5sZW5ndGg7XG4gICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGNiKG51bGwsIGRvYyk7XG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyhhdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuX2dldEF0dGFjaG1lbnQoZG9jLl9pZCwga2V5LCBhdHRhY2htZW50c1trZXldLCB7XG4gICAgICAgICAgLy8gUHJldmlvdXNseSB0aGUgcmV2aXNpb24gaGFuZGxpbmcgd2FzIGRvbmUgaW4gYWRhcHRlci5qc1xuICAgICAgICAgIC8vIGdldEF0dGFjaG1lbnQsIGhvd2V2ZXIgc2luY2UgaWRiLW5leHQgZG9lc250IHdlIG5lZWQgdG9cbiAgICAgICAgICAvLyBwYXNzIHRoZSByZXYgdGhyb3VnaFxuICAgICAgICAgIHJldjogZG9jLl9yZXYsXG4gICAgICAgICAgYmluYXJ5OiBvcHRzLmJpbmFyeSxcbiAgICAgICAgICBjdHg6IGN0eFxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgdmFyIGF0dCA9IGRvYy5fYXR0YWNobWVudHNba2V5XTtcbiAgICAgICAgICBhdHQuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgIGlmICghLS1jb3VudCkge1xuICAgICAgICAgICAgY2IobnVsbCwgZG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSwgc2VsZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvYy5fYXR0YWNobWVudHMsIGtleSkpIHtcbiAgICAgICAgICAgIGRvYy5fYXR0YWNobWVudHNba2V5XS5zdHViID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNiKG51bGwsIGRvYyk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vLyBUT0RPOiBJIGRvbnQgbGlrZSB0aGlzLCBpdCBmb3JjZXMgYW4gZXh0cmEgcmVhZCBmb3IgZXZlcnlcbi8vIGF0dGFjaG1lbnQgcmVhZCBhbmQgZW5mb3JjZXMgYSBjb25mdXNpbmcgYXBpIGJldHdlZW5cbi8vIGFkYXB0ZXIuanMgYW5kIHRoZSBhZGFwdGVyIGltcGxlbWVudGF0aW9uXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmdldEF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdnZXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKG9wdHMgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgdGhpcy5fZ2V0KGRvY0lkLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgaWYgKHJlcy5kb2MuX2F0dGFjaG1lbnRzICYmIHJlcy5kb2MuX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF0pIHtcbiAgICAgIG9wdHMuY3R4ID0gcmVzLmN0eDtcbiAgICAgIG9wdHMuYmluYXJ5ID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2dldEF0dGFjaG1lbnQoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmRvYy5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXSwgb3B0cywgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuYWxsRG9jcyA9XG4gIGFkYXB0ZXJGdW4oJ2FsbERvY3MnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBvcHRzLnNraXAgPSB0eXBlb2Ygb3B0cy5za2lwICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuc2tpcCA6IDA7XG4gIGlmIChvcHRzLnN0YXJ0X2tleSkge1xuICAgIG9wdHMuc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgfVxuICBpZiAob3B0cy5lbmRfa2V5KSB7XG4gICAgb3B0cy5lbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gIH1cbiAgaWYgKCdrZXlzJyBpbiBvcHRzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdHMua2V5cykpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgVHlwZUVycm9yKCdvcHRpb25zLmtleXMgbXVzdCBiZSBhbiBhcnJheScpKTtcbiAgICB9XG4gICAgdmFyIGluY29tcGF0aWJsZU9wdCA9XG4gICAgICBbJ3N0YXJ0a2V5JywgJ2VuZGtleScsICdrZXknXS5maWx0ZXIoZnVuY3Rpb24gKGluY29tcGF0aWJsZU9wdCkge1xuICAgICAgcmV0dXJuIGluY29tcGF0aWJsZU9wdCBpbiBvcHRzO1xuICAgIH0pWzBdO1xuICAgIGlmIChpbmNvbXBhdGlibGVPcHQpIHtcbiAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFFVRVJZX1BBUlNFX0VSUk9SLFxuICAgICAgICAnUXVlcnkgcGFyYW1ldGVyIGAnICsgaW5jb21wYXRpYmxlT3B0ICtcbiAgICAgICAgJ2AgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBtdWx0aS1nZXQnXG4gICAgICApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc1JlbW90ZSh0aGlzKSkge1xuICAgICAgYWxsRG9jc0tleXNQYXJzZShvcHRzKTtcbiAgICAgIGlmIChvcHRzLmtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbGxEb2NzKHtsaW1pdDogMH0sIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy5fYWxsRG9jcyhvcHRzLCBjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAvLyBCeSBkZWZhdWx0IHNldCByZXR1cm5fZG9jcyB0byBmYWxzZSBpZiB0aGUgY2FsbGVyIGhhcyBvcHRzLmxpdmUgPSB0cnVlLFxuICAvLyB0aGlzIHdpbGwgcHJldmVudCB1cyBmcm9tIGNvbGxlY3RpbmcgdGhlIHNldCBvZiBjaGFuZ2VzIGluZGVmaW5pdGVseVxuICAvLyByZXN1bHRpbmcgaW4gZ3Jvd2luZyBtZW1vcnlcbiAgb3B0cy5yZXR1cm5fZG9jcyA9ICgncmV0dXJuX2RvY3MnIGluIG9wdHMpID8gb3B0cy5yZXR1cm5fZG9jcyA6ICFvcHRzLmxpdmU7XG5cbiAgcmV0dXJuIG5ldyBDaGFuZ2VzJDEodGhpcywgb3B0cywgY2FsbGJhY2spO1xufTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jbG9zZSA9IGFkYXB0ZXJGdW4oJ2Nsb3NlJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHRoaXMuX2Nsb3NlZCA9IHRydWU7XG4gIHRoaXMuZW1pdCgnY2xvc2VkJyk7XG4gIHJldHVybiB0aGlzLl9jbG9zZShjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5pbmZvID0gYWRhcHRlckZ1bignaW5mbycsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX2luZm8oZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICAvLyBhc3N1bWUgd2Uga25vdyBiZXR0ZXIgdGhhbiB0aGUgYWRhcHRlciwgdW5sZXNzIGl0IGluZm9ybXMgdXNcbiAgICBpbmZvLmRiX25hbWUgPSBpbmZvLmRiX25hbWUgfHwgc2VsZi5uYW1lO1xuICAgIGluZm8uYXV0b19jb21wYWN0aW9uID0gISEoc2VsZi5hdXRvX2NvbXBhY3Rpb24gJiYgIWlzUmVtb3RlKHNlbGYpKTtcbiAgICBpbmZvLmFkYXB0ZXIgPSBzZWxmLmFkYXB0ZXI7XG4gICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuaWQgPSBhZGFwdGVyRnVuKCdpZCcsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICByZXR1cm4gdGhpcy5faWQoY2FsbGJhY2spO1xufSk7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAodHlwZW9mIHRoaXMuX3R5cGUgPT09ICdmdW5jdGlvbicpID8gdGhpcy5fdHlwZSgpIDogdGhpcy5hZGFwdGVyO1xufTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5idWxrRG9jcyA9XG4gIGFkYXB0ZXJGdW4oJ2J1bGtEb2NzJywgZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHJlcSkpIHtcbiAgICByZXEgPSB7XG4gICAgICBkb2NzOiByZXFcbiAgICB9O1xuICB9XG5cbiAgaWYgKCFyZXEgfHwgIXJlcS5kb2NzIHx8ICFBcnJheS5pc0FycmF5KHJlcS5kb2NzKSkge1xuICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0JVTEtfRE9DUykpO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXEuZG9jcy5sZW5ndGg7ICsraSkge1xuICAgIGlmICh0eXBlb2YgcmVxLmRvY3NbaV0gIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkocmVxLmRvY3NbaV0pKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTk9UX0FOX09CSkVDVCkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhdHRhY2htZW50RXJyb3I7XG4gIHJlcS5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGF0dGFjaG1lbnRFcnJvciA9IGF0dGFjaG1lbnRFcnJvciB8fCBhdHRhY2htZW50TmFtZUVycm9yKG5hbWUpO1xuICAgICAgICBpZiAoIWRvYy5fYXR0YWNobWVudHNbbmFtZV0uY29udGVudF90eXBlKSB7XG4gICAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLCAnQXR0YWNobWVudCcsIG5hbWUsICdvbiBkb2N1bWVudCcsIGRvYy5faWQsICdpcyBtaXNzaW5nIGNvbnRlbnRfdHlwZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChhdHRhY2htZW50RXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsIGF0dGFjaG1lbnRFcnJvcikpO1xuICB9XG5cbiAgaWYgKCEoJ25ld19lZGl0cycgaW4gb3B0cykpIHtcbiAgICBpZiAoJ25ld19lZGl0cycgaW4gcmVxKSB7XG4gICAgICBvcHRzLm5ld19lZGl0cyA9IHJlcS5uZXdfZWRpdHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMubmV3X2VkaXRzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgYWRhcHRlciA9IHRoaXM7XG4gIGlmICghb3B0cy5uZXdfZWRpdHMgJiYgIWlzUmVtb3RlKGFkYXB0ZXIpKSB7XG4gICAgLy8gZW5zdXJlIHJldmlzaW9ucyBvZiB0aGUgc2FtZSBkb2MgYXJlIHNvcnRlZCwgc28gdGhhdFxuICAgIC8vIHRoZSBsb2NhbCBhZGFwdGVyIHByb2Nlc3NlcyB0aGVtIGNvcnJlY3RseSAoIzI5MzUpXG4gICAgcmVxLmRvY3Muc29ydChjb21wYXJlQnlJZFRoZW5SZXYpO1xuICB9XG5cbiAgY2xlYW5Eb2NzKHJlcS5kb2NzKTtcblxuICAvLyBpbiB0aGUgY2FzZSBvZiBjb25mbGljdHMsIHdlIHdhbnQgdG8gcmV0dXJuIHRoZSBfaWRzIHRvIHRoZSB1c2VyXG4gIC8vIGhvd2V2ZXIsIHRoZSB1bmRlcmx5aW5nIGFkYXB0ZXIgbWF5IGRlc3Ryb3kgdGhlIGRvY3MgYXJyYXksIHNvXG4gIC8vIGNyZWF0ZSBhIGNvcHkgaGVyZVxuICB2YXIgaWRzID0gcmVxLmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9pZDtcbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXMuX2J1bGtEb2NzKHJlcSwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIGlmICghb3B0cy5uZXdfZWRpdHMpIHtcbiAgICAgIC8vIHRoaXMgaXMgd2hhdCBjb3VjaCBkb2VzIHdoZW4gbmV3X2VkaXRzIGlzIGZhbHNlXG4gICAgICByZXMgPSByZXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LmVycm9yO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGFkZCBpZHMgZm9yIGVycm9yL2NvbmZsaWN0IHJlc3BvbnNlcyAobm90IHJlcXVpcmVkIGZvciBDb3VjaERCKVxuICAgIGlmICghaXNSZW1vdGUoYWRhcHRlcikpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcmVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICByZXNbaV0uaWQgPSByZXNbaV0uaWQgfHwgaWRzW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZSA9XG4gIGFkYXB0ZXJGdW4oJ3JlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UnLCBmdW5jdGlvbiAoZGVwZW5kZW50RGIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spIHtcbiAgdmFyIGRiT3B0aW9ucyA9IGNsb25lKHRoaXMuX19vcHRzKTtcbiAgaWYgKHRoaXMuX19vcHRzLnZpZXdfYWRhcHRlcikge1xuICAgIGRiT3B0aW9ucy5hZGFwdGVyID0gdGhpcy5fX29wdHMudmlld19hZGFwdGVyO1xuICB9XG5cbiAgdmFyIGRlcERCID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZGVwZW5kZW50RGIsIGRiT3B0aW9ucyk7XG5cbiAgZnVuY3Rpb24gZGlmZkZ1bihkb2MpIHtcbiAgICBkb2MuZGVwZW5kZW50RGJzID0gZG9jLmRlcGVuZGVudERicyB8fCB7fTtcbiAgICBpZiAoZG9jLmRlcGVuZGVudERic1tkZXBlbmRlbnREYl0pIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gbm8gdXBkYXRlIHJlcXVpcmVkXG4gICAgfVxuICAgIGRvYy5kZXBlbmRlbnREYnNbZGVwZW5kZW50RGJdID0gdHJ1ZTtcbiAgICByZXR1cm4gZG9jO1xuICB9XG4gIHVwc2VydCh0aGlzLCAnX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMnLCBkaWZmRnVuKVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtkYjogZGVwREJ9KTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5kZXN0cm95ID1cbiAgYWRhcHRlckZ1bignZGVzdHJveScsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuXG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB1c2VQcmVmaXggPSAndXNlX3ByZWZpeCcgaW4gc2VsZiA/IHNlbGYudXNlX3ByZWZpeCA6IHRydWU7XG5cbiAgZnVuY3Rpb24gZGVzdHJveURiKCkge1xuICAgIC8vIGNhbGwgZGVzdHJveSBtZXRob2Qgb2YgdGhlIHBhcnRpY3VsYXIgYWRhcHRvclxuICAgIHNlbGYuX2Rlc3Ryb3kob3B0cywgZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICBzZWxmLmVtaXQoJ2Rlc3Ryb3llZCcpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcCB8fCB7ICdvayc6IHRydWUgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXNSZW1vdGUoc2VsZikpIHtcbiAgICAvLyBubyBuZWVkIHRvIGNoZWNrIGZvciBkZXBlbmRlbnQgREJzIGlmIGl0J3MgYSByZW1vdGUgREJcbiAgICByZXR1cm4gZGVzdHJveURiKCk7XG4gIH1cblxuICBzZWxmLmdldCgnX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMnLCBmdW5jdGlvbiAoZXJyLCBsb2NhbERvYykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7IC8vIG5vIGRlcGVuZGVuY2llc1xuICAgICAgICByZXR1cm4gZGVzdHJveURiKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkZXBlbmRlbnREYnMgPSBsb2NhbERvYy5kZXBlbmRlbnREYnM7XG4gICAgdmFyIFBvdWNoREIgPSBzZWxmLmNvbnN0cnVjdG9yO1xuICAgIHZhciBkZWxldGVkTWFwID0gT2JqZWN0LmtleXMoZGVwZW5kZW50RGJzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIC8vIHVzZV9wcmVmaXggaXMgb25seSBmYWxzZSBpbiB0aGUgYnJvd3NlclxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHZhciB0cnVlTmFtZSA9IHVzZVByZWZpeCA/XG4gICAgICAgIG5hbWUucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIFBvdWNoREIucHJlZml4KSwgJycpIDogbmFtZTtcbiAgICAgIHJldHVybiBuZXcgUG91Y2hEQih0cnVlTmFtZSwgc2VsZi5fX29wdHMpLmRlc3Ryb3koKTtcbiAgICB9KTtcbiAgICBQcm9taXNlLmFsbChkZWxldGVkTWFwKS50aGVuKGRlc3Ryb3lEYiwgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBUYXNrUXVldWUoKSB7XG4gIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xuICB0aGlzLmZhaWxlZCA9IGZhbHNlO1xuICB0aGlzLnF1ZXVlID0gW107XG59XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZ1bjtcbiAgaWYgKHRoaXMuZmFpbGVkKSB7XG4gICAgd2hpbGUgKChmdW4gPSB0aGlzLnF1ZXVlLnNoaWZ0KCkpKSB7XG4gICAgICBmdW4odGhpcy5mYWlsZWQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoKGZ1biA9IHRoaXMucXVldWUuc2hpZnQoKSkpIHtcbiAgICAgIGZ1bigpO1xuICAgIH1cbiAgfVxufTtcblxuVGFza1F1ZXVlLnByb3RvdHlwZS5mYWlsID0gZnVuY3Rpb24gKGVycikge1xuICB0aGlzLmZhaWxlZCA9IGVycjtcbiAgdGhpcy5leGVjdXRlKCk7XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gKGRiKSB7XG4gIHRoaXMuaXNSZWFkeSA9IHRydWU7XG4gIHRoaXMuZGIgPSBkYjtcbiAgdGhpcy5leGVjdXRlKCk7XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLmFkZFRhc2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gIHRoaXMucXVldWUucHVzaChmdW4pO1xuICBpZiAodGhpcy5mYWlsZWQpIHtcbiAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcGFyc2VBZGFwdGVyKG5hbWUsIG9wdHMpIHtcbiAgdmFyIG1hdGNoID0gbmFtZS5tYXRjaCgvKFthLXotXSopOlxcL1xcLyguKikvKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgLy8gdGhlIGh0dHAgYWRhcHRlciBleHBlY3RzIHRoZSBmdWxseSBxdWFsaWZpZWQgbmFtZVxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiAvaHR0cHM/Ly50ZXN0KG1hdGNoWzFdKSA/IG1hdGNoWzFdICsgJzovLycgKyBtYXRjaFsyXSA6IG1hdGNoWzJdLFxuICAgICAgYWRhcHRlcjogbWF0Y2hbMV1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGFkYXB0ZXJzID0gUG91Y2hEQi5hZGFwdGVycztcbiAgdmFyIHByZWZlcnJlZEFkYXB0ZXJzID0gUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycztcbiAgdmFyIHByZWZpeCA9IFBvdWNoREIucHJlZml4O1xuICB2YXIgYWRhcHRlck5hbWUgPSBvcHRzLmFkYXB0ZXI7XG5cbiAgaWYgKCFhZGFwdGVyTmFtZSkgeyAvLyBhdXRvbWF0aWNhbGx5IGRldGVybWluZSBhZGFwdGVyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmZXJyZWRBZGFwdGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgYWRhcHRlck5hbWUgPSBwcmVmZXJyZWRBZGFwdGVyc1tpXTtcbiAgICAgIC8vIGNoZWNrIGZvciBicm93c2VycyB0aGF0IGhhdmUgYmVlbiB1cGdyYWRlZCBmcm9tIHdlYnNxbC1vbmx5IHRvIHdlYnNxbCtpZGJcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGFkYXB0ZXJOYW1lID09PSAnaWRiJyAmJiAnd2Vic3FsJyBpbiBhZGFwdGVycyAmJlxuICAgICAgICAgIGhhc0xvY2FsU3RvcmFnZSgpICYmIGxvY2FsU3RvcmFnZVsnX3BvdWNoX193ZWJzcWxkYl8nICsgcHJlZml4ICsgbmFtZV0pIHtcbiAgICAgICAgLy8gbG9nIGl0LCBiZWNhdXNlIHRoaXMgY2FuIGJlIGNvbmZ1c2luZyBkdXJpbmcgZGV2ZWxvcG1lbnRcbiAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ2xvZycsICdQb3VjaERCIGlzIGRvd25ncmFkaW5nIFwiJyArIG5hbWUgKyAnXCIgdG8gV2ViU1FMIHRvJyArXG4gICAgICAgICAgJyBhdm9pZCBkYXRhIGxvc3MsIGJlY2F1c2UgaXQgd2FzIGFscmVhZHkgb3BlbmVkIHdpdGggV2ViU1FMLicpO1xuICAgICAgICBjb250aW51ZTsgLy8ga2VlcCB1c2luZyB3ZWJzcWwgdG8gYXZvaWQgdXNlciBkYXRhIGxvc3NcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhZGFwdGVyID0gYWRhcHRlcnNbYWRhcHRlck5hbWVdO1xuXG4gIC8vIGlmIGFkYXB0ZXIgaXMgaW52YWxpZCwgdGhlbiBhbiBlcnJvciB3aWxsIGJlIHRocm93biBsYXRlclxuICB2YXIgdXNlUHJlZml4ID0gKGFkYXB0ZXIgJiYgJ3VzZV9wcmVmaXgnIGluIGFkYXB0ZXIpID9cbiAgICBhZGFwdGVyLnVzZV9wcmVmaXggOiB0cnVlO1xuXG4gIHJldHVybiB7XG4gICAgbmFtZTogdXNlUHJlZml4ID8gKHByZWZpeCArIG5hbWUpIDogbmFtZSxcbiAgICBhZGFwdGVyOiBhZGFwdGVyTmFtZVxuICB9O1xufVxuXG4vLyBPSywgc28gaGVyZSdzIHRoZSBkZWFsLiBDb25zaWRlciB0aGlzIGNvZGU6XG4vLyAgICAgdmFyIGRiMSA9IG5ldyBQb3VjaERCKCdmb28nKTtcbi8vICAgICB2YXIgZGIyID0gbmV3IFBvdWNoREIoJ2ZvbycpO1xuLy8gICAgIGRiMS5kZXN0cm95KCk7XG4vLyBeIHRoZXNlIHR3byBib3RoIG5lZWQgdG8gZW1pdCAnZGVzdHJveWVkJyBldmVudHMsXG4vLyBhcyB3ZWxsIGFzIHRoZSBQb3VjaERCIGNvbnN0cnVjdG9yIGl0c2VsZi5cbi8vIFNvIHdlIGhhdmUgb25lIGRiIG9iamVjdCAod2hpY2hldmVyIG9uZSBnb3QgZGVzdHJveSgpIGNhbGxlZCBvbiBpdClcbi8vIHJlc3BvbnNpYmxlIGZvciBlbWl0dGluZyB0aGUgaW5pdGlhbCBldmVudCwgd2hpY2ggdGhlbiBnZXRzIGVtaXR0ZWRcbi8vIGJ5IHRoZSBjb25zdHJ1Y3Rvciwgd2hpY2ggdGhlbiBicm9hZGNhc3RzIGl0IHRvIGFueSBvdGhlciBkYnNcbi8vIHRoYXQgbWF5IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGggdGhlIHNhbWUgbmFtZS5cbmZ1bmN0aW9uIHByZXBhcmVGb3JEZXN0cnVjdGlvbihzZWxmKSB7XG5cbiAgZnVuY3Rpb24gb25EZXN0cm95ZWQoZnJvbV9jb25zdHJ1Y3Rvcikge1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlZCcsIG9uQ2xvc2VkKTtcbiAgICBpZiAoIWZyb21fY29uc3RydWN0b3IpIHtcbiAgICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgnZGVzdHJveWVkJywgc2VsZi5uYW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNsb3NlZCgpIHtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3llZCk7XG4gICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCd1bnJlZicsIHNlbGYpO1xuICB9XG5cbiAgc2VsZi5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3llZCk7XG4gIHNlbGYub25jZSgnY2xvc2VkJywgb25DbG9zZWQpO1xuICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ3JlZicsIHNlbGYpO1xufVxuXG5pbmhlcml0cyhQb3VjaERCLCBBYnN0cmFjdFBvdWNoREIpO1xuZnVuY3Rpb24gUG91Y2hEQihuYW1lLCBvcHRzKSB7XG4gIC8vIEluIE5vZGUgb3VyIHRlc3Qgc3VpdGUgb25seSB0ZXN0cyB0aGlzIGZvciBQb3VjaEFsdCB1bmZvcnR1bmF0ZWx5XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG91Y2hEQikpIHtcbiAgICByZXR1cm4gbmV3IFBvdWNoREIobmFtZSwgb3B0cyk7XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmIChuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgIG9wdHMgPSBuYW1lO1xuICAgIG5hbWUgPSBvcHRzLm5hbWU7XG4gICAgZGVsZXRlIG9wdHMubmFtZTtcbiAgfVxuXG4gIGlmIChvcHRzLmRldGVybWluaXN0aWNfcmV2cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgb3B0cy5kZXRlcm1pbmlzdGljX3JldnMgPSB0cnVlO1xuICB9XG5cbiAgdGhpcy5fX29wdHMgPSBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgc2VsZi5hdXRvX2NvbXBhY3Rpb24gPSBvcHRzLmF1dG9fY29tcGFjdGlvbjtcbiAgc2VsZi5wcmVmaXggPSBQb3VjaERCLnByZWZpeDtcblxuICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nL2ludmFsaWQgREIgbmFtZScpO1xuICB9XG5cbiAgdmFyIHByZWZpeGVkTmFtZSA9IChvcHRzLnByZWZpeCB8fCAnJykgKyBuYW1lO1xuICB2YXIgYmFja2VuZCA9IHBhcnNlQWRhcHRlcihwcmVmaXhlZE5hbWUsIG9wdHMpO1xuXG4gIG9wdHMubmFtZSA9IGJhY2tlbmQubmFtZTtcbiAgb3B0cy5hZGFwdGVyID0gb3B0cy5hZGFwdGVyIHx8IGJhY2tlbmQuYWRhcHRlcjtcblxuICBzZWxmLm5hbWUgPSBuYW1lO1xuICBzZWxmLl9hZGFwdGVyID0gb3B0cy5hZGFwdGVyO1xuICBQb3VjaERCLmVtaXQoJ2RlYnVnJywgWydhZGFwdGVyJywgJ1BpY2tlZCBhZGFwdGVyOiAnLCBvcHRzLmFkYXB0ZXJdKTtcblxuICBpZiAoIVBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXSB8fFxuICAgICAgIVBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXS52YWxpZCgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFkYXB0ZXI6ICcgKyBvcHRzLmFkYXB0ZXIpO1xuICB9XG5cbiAgaWYgKG9wdHMudmlld19hZGFwdGVyKSB7XG4gICAgaWYgKCFQb3VjaERCLmFkYXB0ZXJzW29wdHMudmlld19hZGFwdGVyXSB8fFxuICAgICAgICAhUG91Y2hEQi5hZGFwdGVyc1tvcHRzLnZpZXdfYWRhcHRlcl0udmFsaWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFZpZXcgQWRhcHRlcjogJyArIG9wdHMudmlld19hZGFwdGVyKTtcbiAgICB9XG4gIH1cblxuICBBYnN0cmFjdFBvdWNoREIuY2FsbChzZWxmKTtcbiAgc2VsZi50YXNrcXVldWUgPSBuZXcgVGFza1F1ZXVlKCk7XG5cbiAgc2VsZi5hZGFwdGVyID0gb3B0cy5hZGFwdGVyO1xuXG4gIFBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXS5jYWxsKHNlbGYsIG9wdHMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gc2VsZi50YXNrcXVldWUuZmFpbChlcnIpO1xuICAgIH1cbiAgICBwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24oc2VsZik7XG5cbiAgICBzZWxmLmVtaXQoJ2NyZWF0ZWQnLCBzZWxmKTtcbiAgICBQb3VjaERCLmVtaXQoJ2NyZWF0ZWQnLCBzZWxmLm5hbWUpO1xuICAgIHNlbGYudGFza3F1ZXVlLnJlYWR5KHNlbGYpO1xuICB9KTtcblxufVxuXG4vLyBBYm9ydENvbnRyb2xsZXIgd2FzIGludHJvZHVjZWQgcXVpdGUgYSB3aGlsZSBhZnRlciBmZXRjaCBhbmRcbi8vIGlzbnQgcmVxdWlyZWQgZm9yIFBvdWNoREIgdG8gZnVuY3Rpb24gc28gcG9seWZpbGwgaWYgbmVlZGVkXG52YXIgYSA9ICh0eXBlb2YgQWJvcnRDb250cm9sbGVyICE9PSAndW5kZWZpbmVkJylcbiAgICA/IEFib3J0Q29udHJvbGxlclxuICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4ge2Fib3J0OiBmdW5jdGlvbiAoKSB7fX07IH07XG5cbnZhciBmJDEgPSBmZXRjaDtcbnZhciBoID0gSGVhZGVycztcblxuUG91Y2hEQi5hZGFwdGVycyA9IHt9O1xuUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycyA9IFtdO1xuXG5Qb3VjaERCLnByZWZpeCA9ICdfcG91Y2hfJztcblxudmFyIGV2ZW50RW1pdHRlciA9IG5ldyBFRSgpO1xuXG5mdW5jdGlvbiBzZXRVcEV2ZW50RW1pdHRlcihQb3VjaCkge1xuICBPYmplY3Qua2V5cyhFRS5wcm90b3R5cGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICh0eXBlb2YgRUUucHJvdG90eXBlW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIFBvdWNoW2tleV0gPSBldmVudEVtaXR0ZXJba2V5XS5iaW5kKGV2ZW50RW1pdHRlcik7XG4gICAgfVxuICB9KTtcblxuICAvLyB0aGVzZSBhcmUgY3JlYXRlZCBpbiBjb25zdHJ1Y3Rvci5qcywgYW5kIGFsbG93IHVzIHRvIG5vdGlmeSBlYWNoIERCIHdpdGhcbiAgLy8gdGhlIHNhbWUgbmFtZSB0aGF0IGl0IHdhcyBkZXN0cm95ZWQsIHZpYSB0aGUgY29uc3RydWN0b3Igb2JqZWN0XG4gIHZhciBkZXN0cnVjdExpc3RlbmVycyA9IFBvdWNoLl9kZXN0cnVjdGlvbkxpc3RlbmVycyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIFBvdWNoLm9uKCdyZWYnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yUmVmKGRiKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMoZGIubmFtZSkpIHtcbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLnNldChkYi5uYW1lLCBbXSk7XG4gICAgfVxuICAgIGRlc3RydWN0TGlzdGVuZXJzLmdldChkYi5uYW1lKS5wdXNoKGRiKTtcbiAgfSk7XG5cbiAgUG91Y2gub24oJ3VucmVmJywgZnVuY3Rpb24gb25Db25zdHJ1Y3RvclVucmVmKGRiKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMoZGIubmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRiTGlzdCA9IGRlc3RydWN0TGlzdGVuZXJzLmdldChkYi5uYW1lKTtcbiAgICB2YXIgcG9zID0gZGJMaXN0LmluZGV4T2YoZGIpO1xuICAgIGlmIChwb3MgPCAwKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkYkxpc3Quc3BsaWNlKHBvcywgMSk7XG4gICAgaWYgKGRiTGlzdC5sZW5ndGggPiAxKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuc2V0KGRiLm5hbWUsIGRiTGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLmRlbGV0ZShkYi5uYW1lKTtcbiAgICB9XG4gIH0pO1xuXG4gIFBvdWNoLm9uKCdkZXN0cm95ZWQnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yRGVzdHJveWVkKG5hbWUpIHtcbiAgICBpZiAoIWRlc3RydWN0TGlzdGVuZXJzLmhhcyhuYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGJMaXN0ID0gZGVzdHJ1Y3RMaXN0ZW5lcnMuZ2V0KG5hbWUpO1xuICAgIGRlc3RydWN0TGlzdGVuZXJzLmRlbGV0ZShuYW1lKTtcbiAgICBkYkxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZGIpIHtcbiAgICAgIGRiLmVtaXQoJ2Rlc3Ryb3llZCcsdHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5zZXRVcEV2ZW50RW1pdHRlcihQb3VjaERCKTtcblxuUG91Y2hEQi5hZGFwdGVyID0gZnVuY3Rpb24gKGlkLCBvYmosIGFkZFRvUHJlZmVycmVkQWRhcHRlcnMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKG9iai52YWxpZCgpKSB7XG4gICAgUG91Y2hEQi5hZGFwdGVyc1tpZF0gPSBvYmo7XG4gICAgaWYgKGFkZFRvUHJlZmVycmVkQWRhcHRlcnMpIHtcbiAgICAgIFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMucHVzaChpZCk7XG4gICAgfVxuICB9XG59O1xuXG5Qb3VjaERCLnBsdWdpbiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHsgLy8gZnVuY3Rpb24gc3R5bGUgZm9yIHBsdWdpbnNcbiAgICBvYmooUG91Y2hEQik7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGx1Z2luOiBnb3QgXCInICsgb2JqICsgJ1wiLCBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbicpO1xuICB9IGVsc2Uge1xuICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsgLy8gb2JqZWN0IHN0eWxlIGZvciBwbHVnaW5zXG4gICAgICBQb3VjaERCLnByb3RvdHlwZVtpZF0gPSBvYmpbaWRdO1xuICAgIH0pO1xuICB9XG4gIGlmICh0aGlzLl9fZGVmYXVsdHMpIHtcbiAgICBQb3VjaERCLl9fZGVmYXVsdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIHRoaXMuX19kZWZhdWx0cyk7XG4gIH1cbiAgcmV0dXJuIFBvdWNoREI7XG59O1xuXG5Qb3VjaERCLmRlZmF1bHRzID0gZnVuY3Rpb24gKGRlZmF1bHRPcHRzKSB7XG4gIGZ1bmN0aW9uIFBvdWNoQWx0KG5hbWUsIG9wdHMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG91Y2hBbHQpKSB7XG4gICAgICByZXR1cm4gbmV3IFBvdWNoQWx0KG5hbWUsIG9wdHMpO1xuICAgIH1cblxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gICAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBvcHRzID0gbmFtZTtcbiAgICAgIG5hbWUgPSBvcHRzLm5hbWU7XG4gICAgICBkZWxldGUgb3B0cy5uYW1lO1xuICAgIH1cblxuICAgIG9wdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIFBvdWNoQWx0Ll9fZGVmYXVsdHMsIG9wdHMpO1xuICAgIFBvdWNoREIuY2FsbCh0aGlzLCBuYW1lLCBvcHRzKTtcbiAgfVxuXG4gIGluaGVyaXRzKFBvdWNoQWx0LCBQb3VjaERCKTtcblxuICBQb3VjaEFsdC5wcmVmZXJyZWRBZGFwdGVycyA9IFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMuc2xpY2UoKTtcbiAgT2JqZWN0LmtleXMoUG91Y2hEQikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCEoa2V5IGluIFBvdWNoQWx0KSkge1xuICAgICAgUG91Y2hBbHRba2V5XSA9IFBvdWNoREJba2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIG1ha2UgZGVmYXVsdCBvcHRpb25zIHRyYW5zaXRpdmVcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvdWNoZGIvcG91Y2hkYi9pc3N1ZXMvNTkyMlxuICBQb3VjaEFsdC5fX2RlZmF1bHRzID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCB0aGlzLl9fZGVmYXVsdHMsIGRlZmF1bHRPcHRzKTtcblxuICByZXR1cm4gUG91Y2hBbHQ7XG59O1xuXG5Qb3VjaERCLmZldGNoID0gZnVuY3Rpb24gKHVybCwgb3B0cykge1xuICByZXR1cm4gZiQxKHVybCwgb3B0cyk7XG59O1xuXG4vLyBtYW5hZ2VkIGF1dG9tYXRpY2FsbHkgYnkgc2V0LXZlcnNpb24uanNcbnZhciB2ZXJzaW9uID0gXCI3LjMuMFwiO1xuXG4vLyB0aGlzIHdvdWxkIGp1c3QgYmUgXCJyZXR1cm4gZG9jW2ZpZWxkXVwiLCBidXQgZmllbGRzXG4vLyBjYW4gYmUgXCJkZWVwXCIgZHVlIHRvIGRvdCBub3RhdGlvblxuZnVuY3Rpb24gZ2V0RmllbGRGcm9tRG9jKGRvYywgcGFyc2VkRmllbGQpIHtcbiAgdmFyIHZhbHVlID0gZG9jO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGFyc2VkRmllbGQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcGFyc2VkRmllbGRbaV07XG4gICAgdmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmUkMShsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdCA8IHJpZ2h0ID8gLTEgOiBsZWZ0ID4gcmlnaHQgPyAxIDogMDtcbn1cblxuLy8gQ29udmVydHMgYSBzdHJpbmcgaW4gZG90IG5vdGF0aW9uIHRvIGFuIGFycmF5IG9mIGl0cyBjb21wb25lbnRzLCB3aXRoIGJhY2tzbGFzaCBlc2NhcGluZ1xuZnVuY3Rpb24gcGFyc2VGaWVsZChmaWVsZE5hbWUpIHtcbiAgLy8gZmllbGRzIG1heSBiZSBkZWVwIChlLmcuIFwiZm9vLmJhci5iYXpcIiksIHNvIHBhcnNlXG4gIHZhciBmaWVsZHMgPSBbXTtcbiAgdmFyIGN1cnJlbnQgPSAnJztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGZpZWxkTmFtZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBjaCA9IGZpZWxkTmFtZVtpXTtcbiAgICBpZiAoaSA+IDAgJiYgZmllbGROYW1lW2kgLSAxXSA9PT0gJ1xcXFwnICYmIChjaCA9PT0gJyQnIHx8IGNoID09PSAnLicpKSB7XG4gICAgICAvLyBlc2NhcGVkIGRlbGltaXRlclxuICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3Vic3RyaW5nKDAsIGN1cnJlbnQubGVuZ3RoIC0gMSkgKyBjaDtcbiAgICB9IGVsc2UgaWYgKGNoID09PSAnLicpIHtcbiAgICAgIC8vIFdoZW4gYC5gIGlzIG5vdCBlc2NhcGVkIChhYm92ZSksIGl0IGlzIGEgZmllbGQgZGVsaW1pdGVyXG4gICAgICBmaWVsZHMucHVzaChjdXJyZW50KTtcbiAgICAgIGN1cnJlbnQgPSAnJztcbiAgICB9IGVsc2UgeyAvLyBub3JtYWwgY2hhcmFjdGVyXG4gICAgICBjdXJyZW50ICs9IGNoO1xuICAgIH1cbiAgfVxuICBmaWVsZHMucHVzaChjdXJyZW50KTtcbiAgcmV0dXJuIGZpZWxkcztcbn1cblxudmFyIGNvbWJpbmF0aW9uRmllbGRzID0gWyckb3InLCAnJG5vcicsICckbm90J107XG5mdW5jdGlvbiBpc0NvbWJpbmF0aW9uYWxGaWVsZChmaWVsZCkge1xuICByZXR1cm4gY29tYmluYXRpb25GaWVsZHMuaW5kZXhPZihmaWVsZCkgPiAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0S2V5KG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKVswXTtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWUob2JqKSB7XG4gIHJldHVybiBvYmpbZ2V0S2V5KG9iaildO1xufVxuXG5cbi8vIGZsYXR0ZW4gYW4gYXJyYXkgb2Ygc2VsZWN0b3JzIGpvaW5lZCBieSBhbiAkYW5kIG9wZXJhdG9yXG5mdW5jdGlvbiBtZXJnZUFuZGVkU2VsZWN0b3JzKHNlbGVjdG9ycykge1xuXG4gIC8vIHNvcnQgdG8gZW5zdXJlIHRoYXQgZS5nLiBpZiB0aGUgdXNlciBzcGVjaWZpZWRcbiAgLy8gJGFuZDogW3skZ3Q6ICdhJ30sIHskZ3Q6ICdiJ31dLCB0aGVuIGl0J3MgY29sbGFwc2VkIGludG9cbiAgLy8ganVzdCB7JGd0OiAnYid9XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGZpcnN0ID0geyRvcjogdHJ1ZSwgJG5vcjogdHJ1ZX07XG5cbiAgc2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgT2JqZWN0LmtleXMoc2VsZWN0b3IpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgbWF0Y2hlciA9IHNlbGVjdG9yW2ZpZWxkXTtcbiAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgbWF0Y2hlciA9IHskZXE6IG1hdGNoZXJ9O1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpKSB7XG4gICAgICAgIC8vIG9yLCBub3JcbiAgICAgICAgaWYgKG1hdGNoZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIGlmIChmaXJzdFtmaWVsZF0pIHtcbiAgICAgICAgICAgIGZpcnN0W2ZpZWxkXSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzW2ZpZWxkXSA9IG1hdGNoZXI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICAgICAgICByZXNbZmllbGRdLmZvckVhY2goZnVuY3Rpb24gKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhtYXRjaGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgdmFyIG0gPSBtYXRjaGVyW2tleV07XG4gICAgICAgICAgICAgIHZhciBsb25nZXN0ID0gTWF0aC5tYXgoT2JqZWN0LmtleXMoZXhpc3RpbmcpLmxlbmd0aCwgT2JqZWN0LmtleXMobSkubGVuZ3RoKTtcbiAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW2V4aXN0aW5nLCBtXSk7XG4gICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhtZXJnZWQpLmxlbmd0aCA8PSBsb25nZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgaGF2ZSBhIHNpdHVhdGlvbiBsaWtlOiAoYSA6eyRlcSA6MX0gfHwgLi4uKSAmJiAoYSB7JGVxOiAyfSB8fCAuLi4pXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2luZyB3b3VsZCBwcm9kdWNlIGEgJGVxIDIgd2hlbiBhY3R1YWxseSB3ZSBzaG91bGRuJ3QgZXZlciBtYXRjaCBhZ2FpbnN0IHRoZXNlIG1lcmdlZCBjb25kaXRpb25zXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2VkIHNob3VsZCBhbHdheXMgY29udGFpbiBtb3JlIHZhbHVlcyB0byBiZSB2YWxpZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbnRyaWVzLnB1c2gobWVyZ2VkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc1tmaWVsZF0gPSBlbnRyaWVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG5vdFxuICAgICAgICAgIHJlc1tmaWVsZF0gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKFttYXRjaGVyXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBmaWVsZE1hdGNoZXJzID0gcmVzW2ZpZWxkXSA9IHJlc1tmaWVsZF0gfHwge307XG4gICAgICAgIE9iamVjdC5rZXlzKG1hdGNoZXIpLmZvckVhY2goZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gbWF0Y2hlcltvcGVyYXRvcl07XG5cbiAgICAgICAgICBpZiAob3BlcmF0b3IgPT09ICckZ3QnIHx8IG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZUd0R3RlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gJyRsdCcgfHwgb3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTHRMdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnJG5lJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTmUodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICckZXEnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VFcSh2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCIkcmVnZXhcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlUmVnZXgodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuXG5cbi8vIGNvbGxhcHNlIGxvZ2ljYWxseSBlcXVpdmFsZW50IGd0L2d0ZSB2YWx1ZXNcbmZ1bmN0aW9uIG1lcmdlR3RHdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZXEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gIH1cbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRndGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA+IGZpZWxkTWF0Y2hlcnMuJGd0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlID49IGZpZWxkTWF0Y2hlcnMuJGd0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndGU7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRndCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckZ3RlJykge1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3QpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3Q7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3QpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICB9XG59XG5cbi8vIGNvbGxhcHNlIGxvZ2ljYWxseSBlcXVpdmFsZW50IGx0L2x0ZSB2YWx1ZXNcbmZ1bmN0aW9uIG1lcmdlTHRMdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZXEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gIH1cbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRsdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGx0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA8IGZpZWxkTWF0Y2hlcnMuJGx0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlIDw9IGZpZWxkTWF0Y2hlcnMuJGx0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdGU7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHQpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHQ7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHQpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICB9XG59XG5cbi8vIGNvbWJpbmUgJG5lIHZhbHVlcyBpbnRvIG9uZSBhcnJheVxuZnVuY3Rpb24gbWVyZ2VOZSh2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAoJyRuZScgaW4gZmllbGRNYXRjaGVycykge1xuICAgIC8vIHRoZXJlIGFyZSBtYW55IHRoaW5ncyB0aGlzIGNvdWxkIFwibm90XCIgYmVcbiAgICBmaWVsZE1hdGNoZXJzLiRuZS5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIHsgLy8gZG9lc24ndCBleGlzdCB5ZXRcbiAgICBmaWVsZE1hdGNoZXJzLiRuZSA9IFt2YWx1ZV07XG4gIH1cbn1cblxuLy8gYWRkICRlcSBpbnRvIHRoZSBtaXhcbmZ1bmN0aW9uIG1lcmdlRXEodmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgLy8gdGhlc2UgYWxsIGhhdmUgbGVzcyBzcGVjaWZpY2l0eSB0aGFuIHRoZSAkZXFcbiAgLy8gVE9ETzogY2hlY2sgZm9yIHVzZXIgZXJyb3JzIGhlcmVcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0O1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3RlO1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHQ7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdGU7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRuZTtcbiAgZmllbGRNYXRjaGVycy4kZXEgPSB2YWx1ZTtcbn1cblxuLy8gY29tYmluZSAkcmVnZXggdmFsdWVzIGludG8gb25lIGFycmF5XG5mdW5jdGlvbiBtZXJnZVJlZ2V4KHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICgnJHJlZ2V4JyBpbiBmaWVsZE1hdGNoZXJzKSB7XG4gICAgLy8gYSB2YWx1ZSBjb3VsZCBtYXRjaCBtdWx0aXBsZSByZWdleGVzXG4gICAgZmllbGRNYXRjaGVycy4kcmVnZXgucHVzaCh2YWx1ZSk7XG4gIH0gZWxzZSB7IC8vIGRvZXNuJ3QgZXhpc3QgeWV0XG4gICAgZmllbGRNYXRjaGVycy4kcmVnZXggPSBbdmFsdWVdO1xuICB9XG59XG5cbi8vIzc0NTg6IGV4ZWN1dGUgZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9ycyBvbiBuZXN0ZWQgJGFuZFxuZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZChvYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmpbaV1bJyRhbmQnXSkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbaV0gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKG9ialtpXVsnJGFuZCddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZCh2YWx1ZSk7IC8vIDwtIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cblxuLy8jNzQ1ODogZGV0ZXJtaW5lIGlkICRhbmQgaXMgcHJlc2VudCBpbiBzZWxlY3RvciAoYXQgYW55IGxldmVsKVxuZnVuY3Rpb24gaXNBbmRJblNlbGVjdG9yKG9iaiwgaXNBbmQpIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAocHJvcCA9PT0gJyRhbmQnKSB7XG4gICAgICAgICAgICBpc0FuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaXNBbmQgPSBpc0FuZEluU2VsZWN0b3IodmFsdWUsIGlzQW5kKTsgLy8gPC0gcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNBbmQ7XG59XG5cbi8vXG4vLyBub3JtYWxpemUgdGhlIHNlbGVjdG9yXG4vL1xuZnVuY3Rpb24gbWFzc2FnZVNlbGVjdG9yKGlucHV0KSB7XG4gIHZhciByZXN1bHQgPSBjbG9uZShpbnB1dCk7XG4gIHZhciB3YXNBbmRlZCA9IGZhbHNlO1xuICAgIC8vIzc0NTg6IGlmICRhbmQgaXMgcHJlc2VudCBpbiBzZWxlY3RvciAoYXQgYW55IGxldmVsKSBtZXJnZSBuZXN0ZWQgJGFuZFxuICAgIGlmIChpc0FuZEluU2VsZWN0b3IocmVzdWx0LCBmYWxzZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZChyZXN1bHQpO1xuICAgICAgICBpZiAoJyRhbmQnIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhyZXN1bHRbJyRhbmQnXSk7XG4gICAgICAgIH1cbiAgICAgICAgd2FzQW5kZWQgPSB0cnVlO1xuICAgIH1cblxuICBbJyRvcicsICckbm9yJ10uZm9yRWFjaChmdW5jdGlvbiAob3JPck5vcikge1xuICAgIGlmIChvck9yTm9yIGluIHJlc3VsdCkge1xuICAgICAgLy8gbWVzc2FnZSBlYWNoIGluZGl2aWR1YWwgc2VsZWN0b3JcbiAgICAgIC8vIGUuZy4ge2ZvbzogJ2Jhcid9IGJlY29tZXMge2ZvbzogeyRlcTogJ2Jhcid9fVxuICAgICAgcmVzdWx0W29yT3JOb3JdLmZvckVhY2goZnVuY3Rpb24gKHN1YlNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBmaWVsZHMgPSBPYmplY3Qua2V5cyhzdWJTZWxlY3Rvcik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGZpZWxkID0gZmllbGRzW2ldO1xuICAgICAgICAgIHZhciBtYXRjaGVyID0gc3ViU2VsZWN0b3JbZmllbGRdO1xuICAgICAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcgfHwgbWF0Y2hlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3ViU2VsZWN0b3JbZmllbGRdID0geyRlcTogbWF0Y2hlcn07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICgnJG5vdCcgaW4gcmVzdWx0KSB7XG4gICAgLy9UaGlzIGZlZWxzIGEgbGl0dGxlIGxpa2UgZm9yY2luZywgYnV0IGl0IHdpbGwgd29yayBmb3Igbm93LFxuICAgIC8vSSB3b3VsZCBsaWtlIHRvIGNvbWUgYmFjayB0byB0aGlzIGFuZCBtYWtlIHRoZSBtZXJnaW5nIG9mIHNlbGVjdG9ycyBhIGxpdHRsZSBtb3JlIGdlbmVyaWNcbiAgICByZXN1bHRbJyRub3QnXSA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW3Jlc3VsdFsnJG5vdCddXSk7XG4gIH1cblxuICB2YXIgZmllbGRzID0gT2JqZWN0LmtleXMocmVzdWx0KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICB2YXIgbWF0Y2hlciA9IHJlc3VsdFtmaWVsZF07XG5cbiAgICBpZiAodHlwZW9mIG1hdGNoZXIgIT09ICdvYmplY3QnIHx8IG1hdGNoZXIgPT09IG51bGwpIHtcbiAgICAgIG1hdGNoZXIgPSB7JGVxOiBtYXRjaGVyfTtcbiAgICB9IGVsc2UgaWYgKCF3YXNBbmRlZCkge1xuICAgICAgLy8gVGhlc2UgdmFsdWVzIG11c3QgYmUgcGxhY2VkIGluIGFuIGFycmF5IGJlY2F1c2UgdGhlc2Ugb3BlcmF0b3JzIGNhbiBiZSB1c2VkIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIGZpZWxkXG4gICAgICAvLyB3aGVuICRhbmQgaXMgdXNlZCwgbWVyZ2VBbmRlZFNlbGVjdG9ycyB0YWtlcyBjYXJlIG9mIHB1dHRpbmcgdGhlbSBpbnRvIGFycmF5cywgb3RoZXJ3aXNlIGl0J3MgZG9uZSBoZXJlOlxuICAgICAgaWYgKCckbmUnIGluIG1hdGNoZXIpIHtcbiAgICAgICAgbWF0Y2hlci4kbmUgPSBbbWF0Y2hlci4kbmVdO1xuICAgICAgfVxuICAgICAgaWYgKCckcmVnZXgnIGluIG1hdGNoZXIpIHtcbiAgICAgICAgbWF0Y2hlci4kcmVnZXggPSBbbWF0Y2hlci4kcmVnZXhdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHRbZmllbGRdID0gbWF0Y2hlcjtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHBhZChzdHIsIHBhZFdpdGgsIHVwVG9MZW5ndGgpIHtcbiAgdmFyIHBhZGRpbmcgPSAnJztcbiAgdmFyIHRhcmdldExlbmd0aCA9IHVwVG9MZW5ndGggLSBzdHIubGVuZ3RoO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB3aGlsZSAocGFkZGluZy5sZW5ndGggPCB0YXJnZXRMZW5ndGgpIHtcbiAgICBwYWRkaW5nICs9IHBhZFdpdGg7XG4gIH1cbiAgcmV0dXJuIHBhZGRpbmc7XG59XG5cbmZ1bmN0aW9uIHBhZExlZnQoc3RyLCBwYWRXaXRoLCB1cFRvTGVuZ3RoKSB7XG4gIHZhciBwYWRkaW5nID0gcGFkKHN0ciwgcGFkV2l0aCwgdXBUb0xlbmd0aCk7XG4gIHJldHVybiBwYWRkaW5nICsgc3RyO1xufVxuXG52YXIgTUlOX01BR05JVFVERSA9IC0zMjQ7IC8vIHZlcmlmaWVkIGJ5IC1OdW1iZXIuTUlOX1ZBTFVFXG52YXIgTUFHTklUVURFX0RJR0lUUyA9IDM7IC8vIGRpdHRvXG52YXIgU0VQID0gJyc7IC8vIHNldCB0byAnXycgZm9yIGVhc2llciBkZWJ1Z2dpbmdcblxuZnVuY3Rpb24gY29sbGF0ZShhLCBiKSB7XG5cbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGEgPSBub3JtYWxpemVLZXkoYSk7XG4gIGIgPSBub3JtYWxpemVLZXkoYik7XG5cbiAgdmFyIGFpID0gY29sbGF0aW9uSW5kZXgoYSk7XG4gIHZhciBiaSA9IGNvbGxhdGlvbkluZGV4KGIpO1xuICBpZiAoKGFpIC0gYmkpICE9PSAwKSB7XG4gICAgcmV0dXJuIGFpIC0gYmk7XG4gIH1cbiAgc3dpdGNoICh0eXBlb2YgYSkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gYSAtIGI7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gYSA8IGIgPyAtMSA6IDE7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiBzdHJpbmdDb2xsYXRlKGEsIGIpO1xuICB9XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGEpID8gYXJyYXlDb2xsYXRlKGEsIGIpIDogb2JqZWN0Q29sbGF0ZShhLCBiKTtcbn1cblxuLy8gY291Y2ggY29uc2lkZXJzIG51bGwvTmFOL0luZmluaXR5Ly1JbmZpbml0eSA9PT0gdW5kZWZpbmVkLFxuLy8gZm9yIHRoZSBwdXJwb3NlcyBvZiBtYXByZWR1Y2UgaW5kZXhlcy4gYWxzbywgZGF0ZXMgZ2V0IHN0cmluZ2lmaWVkLlxuZnVuY3Rpb24gbm9ybWFsaXplS2V5KGtleSkge1xuICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGlmIChrZXkgPT09IEluZmluaXR5IHx8IGtleSA9PT0gLUluZmluaXR5IHx8IGlzTmFOKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5O1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB2YXIgb3JpZ0tleSA9IGtleTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgdmFyIGxlbiA9IGtleS5sZW5ndGg7XG4gICAgICAgIGtleSA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAga2V5W2ldID0gbm9ybWFsaXplS2V5KG9yaWdLZXlbaV0pO1xuICAgICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgfSBlbHNlIGlmIChrZXkgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBrZXkudG9KU09OKCk7XG4gICAgICB9IGVsc2UgaWYgKGtleSAhPT0gbnVsbCkgeyAvLyBnZW5lcmljIG9iamVjdFxuICAgICAgICBrZXkgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvcmlnS2V5KSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcmlnS2V5LCBrKSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IG9yaWdLZXlba107XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAga2V5W2tdID0gbm9ybWFsaXplS2V5KHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGtleTtcbn1cblxuZnVuY3Rpb24gaW5kZXhpZnkoa2V5KSB7XG4gIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4ga2V5ID8gMSA6IDA7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICByZXR1cm4gbnVtVG9JbmRleGFibGVTdHJpbmcoa2V5KTtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIC8vIFdlJ3ZlIHRvIGJlIHN1cmUgdGhhdCBrZXkgZG9lcyBub3QgY29udGFpbiBcXHUwMDAwXG4gICAgICAgIC8vIERvIG9yZGVyLXByZXNlcnZpbmcgcmVwbGFjZW1lbnRzOlxuICAgICAgICAvLyAwIC0+IDEsIDFcbiAgICAgICAgLy8gMSAtPiAxLCAyXG4gICAgICAgIC8vIDIgLT4gMiwgMlxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHJldHVybiBrZXlcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMi9nLCAnXFx1MDAwMlxcdTAwMDInKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAxL2csICdcXHUwMDAxXFx1MDAwMicpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDAvZywgJ1xcdTAwMDFcXHUwMDAxJyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGtleSk7XG4gICAgICAgIHZhciBhcnIgPSBpc0FycmF5ID8ga2V5IDogT2JqZWN0LmtleXMoa2V5KTtcbiAgICAgICAgdmFyIGkgPSAtMTtcbiAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9JbmRleGFibGVTdHJpbmcoYXJyW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICAgICAgdmFyIG9iaktleSA9IGFycltpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0luZGV4YWJsZVN0cmluZyhvYmpLZXkpICtcbiAgICAgICAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhrZXlbb2JqS2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLy8gY29udmVydCB0aGUgZ2l2ZW4ga2V5IHRvIGEgc3RyaW5nIHRoYXQgd291bGQgYmUgYXBwcm9wcmlhdGVcbi8vIGZvciBsZXhpY2FsIHNvcnRpbmcsIGUuZy4gd2l0aGluIGEgZGF0YWJhc2UsIHdoZXJlIHRoZVxuLy8gc29ydGluZyBpcyB0aGUgc2FtZSBnaXZlbiBieSB0aGUgY29sbGF0ZSgpIGZ1bmN0aW9uLlxuZnVuY3Rpb24gdG9JbmRleGFibGVTdHJpbmcoa2V5KSB7XG4gIHZhciB6ZXJvID0gJ1xcdTAwMDAnO1xuICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgcmV0dXJuIGNvbGxhdGlvbkluZGV4KGtleSkgKyBTRVAgKyBpbmRleGlmeShrZXkpICsgemVybztcbn1cblxuZnVuY3Rpb24gcGFyc2VOdW1iZXIoc3RyLCBpKSB7XG4gIHZhciBvcmlnaW5hbElkeCA9IGk7XG4gIHZhciBudW07XG4gIHZhciB6ZXJvID0gc3RyW2ldID09PSAnMSc7XG4gIGlmICh6ZXJvKSB7XG4gICAgbnVtID0gMDtcbiAgICBpKys7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG5lZyA9IHN0cltpXSA9PT0gJzAnO1xuICAgIGkrKztcbiAgICB2YXIgbnVtQXNTdHJpbmcgPSAnJztcbiAgICB2YXIgbWFnQXNTdHJpbmcgPSBzdHIuc3Vic3RyaW5nKGksIGkgKyBNQUdOSVRVREVfRElHSVRTKTtcbiAgICB2YXIgbWFnbml0dWRlID0gcGFyc2VJbnQobWFnQXNTdHJpbmcsIDEwKSArIE1JTl9NQUdOSVRVREU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobmVnKSB7XG4gICAgICBtYWduaXR1ZGUgPSAtbWFnbml0dWRlO1xuICAgIH1cbiAgICBpICs9IE1BR05JVFVERV9ESUdJVFM7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHZhciBjaCA9IHN0cltpXTtcbiAgICAgIGlmIChjaCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnVtQXNTdHJpbmcgKz0gY2g7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIG51bUFzU3RyaW5nID0gbnVtQXNTdHJpbmcuc3BsaXQoJy4nKTtcbiAgICBpZiAobnVtQXNTdHJpbmcubGVuZ3RoID09PSAxKSB7XG4gICAgICBudW0gPSBwYXJzZUludChudW1Bc1N0cmluZywgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgbnVtID0gcGFyc2VGbG9hdChudW1Bc1N0cmluZ1swXSArICcuJyArIG51bUFzU3RyaW5nWzFdKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobmVnKSB7XG4gICAgICBudW0gPSBudW0gLSAxMDtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobWFnbml0dWRlICE9PSAwKSB7XG4gICAgICAvLyBwYXJzZUZsb2F0IGlzIG1vcmUgcmVsaWFibGUgdGhhbiBwb3cgZHVlIHRvIHJvdW5kaW5nIGVycm9yc1xuICAgICAgLy8gZS5nLiBOdW1iZXIuTUFYX1ZBTFVFIHdvdWxkIHJldHVybiBJbmZpbml0eSBpZiB3ZSBkaWRcbiAgICAgIC8vIG51bSAqIE1hdGgucG93KDEwLCBtYWduaXR1ZGUpO1xuICAgICAgbnVtID0gcGFyc2VGbG9hdChudW0gKyAnZScgKyBtYWduaXR1ZGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge251bTogbnVtLCBsZW5ndGggOiBpIC0gb3JpZ2luYWxJZHh9O1xufVxuXG4vLyBtb3ZlIHVwIHRoZSBzdGFjayB3aGlsZSBwYXJzaW5nXG4vLyB0aGlzIGZ1bmN0aW9uIG1vdmVkIG91dHNpZGUgb2YgcGFyc2VJbmRleGFibGVTdHJpbmcgZm9yIHBlcmZvcm1hbmNlXG5mdW5jdGlvbiBwb3Aoc3RhY2ssIG1ldGFTdGFjaykge1xuICB2YXIgb2JqID0gc3RhY2sucG9wKCk7XG5cbiAgaWYgKG1ldGFTdGFjay5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgICBpZiAob2JqID09PSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudCkge1xuICAgICAgLy8gcG9wcGluZyBhIG1ldGEtZWxlbWVudCwgZS5nLiBhbiBvYmplY3Qgd2hvc2UgdmFsdWUgaXMgYW5vdGhlciBvYmplY3RcbiAgICAgIG1ldGFTdGFjay5wb3AoKTtcbiAgICAgIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIHZhciBlbGVtZW50ID0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQ7XG4gICAgdmFyIGxhc3RFbGVtZW50SW5kZXggPSBsYXN0TWV0YUVsZW1lbnQuaW5kZXg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgIGVsZW1lbnQucHVzaChvYmopO1xuICAgIH0gZWxzZSBpZiAobGFzdEVsZW1lbnRJbmRleCA9PT0gc3RhY2subGVuZ3RoIC0gMikgeyAvLyBvYmogd2l0aCBrZXkrdmFsdWVcbiAgICAgIHZhciBrZXkgPSBzdGFjay5wb3AoKTtcbiAgICAgIGVsZW1lbnRba2V5XSA9IG9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhY2sucHVzaChvYmopOyAvLyBvYmogd2l0aCBrZXkgb25seVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUluZGV4YWJsZVN0cmluZyhzdHIpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBtZXRhU3RhY2sgPSBbXTsgLy8gc3RhY2sgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICB2YXIgaSA9IDA7XG5cbiAgLyplc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiBbXCJlcnJvclwiLCB7IFwiY2hlY2tMb29wc1wiOiBmYWxzZSB9XSovXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIGNvbGxhdGlvbkluZGV4ID0gc3RyW2krK107XG4gICAgaWYgKGNvbGxhdGlvbkluZGV4ID09PSAnXFx1MDAwMCcpIHtcbiAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9wKHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChjb2xsYXRpb25JbmRleCkge1xuICAgICAgY2FzZSAnMSc6XG4gICAgICAgIHN0YWNrLnB1c2gobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMic6XG4gICAgICAgIHN0YWNrLnB1c2goc3RyW2ldID09PSAnMScpO1xuICAgICAgICBpKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMyc6XG4gICAgICAgIHZhciBwYXJzZWROdW0gPSBwYXJzZU51bWJlcihzdHIsIGkpO1xuICAgICAgICBzdGFjay5wdXNoKHBhcnNlZE51bS5udW0pO1xuICAgICAgICBpICs9IHBhcnNlZE51bS5sZW5ndGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNCc6XG4gICAgICAgIHZhciBwYXJzZWRTdHIgPSAnJztcbiAgICAgICAgLyplc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiBbXCJlcnJvclwiLCB7IFwiY2hlY2tMb29wc1wiOiBmYWxzZSB9XSovXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIGNoID0gc3RyW2ldO1xuICAgICAgICAgIGlmIChjaCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyc2VkU3RyICs9IGNoO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJmb3JtIHRoZSByZXZlcnNlIG9mIHRoZSBvcmRlci1wcmVzZXJ2aW5nIHJlcGxhY2VtZW50XG4gICAgICAgIC8vIGFsZ29yaXRobSAoc2VlIGFib3ZlKVxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHBhcnNlZFN0ciA9IHBhcnNlZFN0ci5yZXBsYWNlKC9cXHUwMDAxXFx1MDAwMS9nLCAnXFx1MDAwMCcpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDFcXHUwMDAyL2csICdcXHUwMDAxJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMlxcdTAwMDIvZywgJ1xcdTAwMDInKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHN0YWNrLnB1c2gocGFyc2VkU3RyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc1JzpcbiAgICAgICAgdmFyIGFycmF5RWxlbWVudCA9IHsgZWxlbWVudDogW10sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChhcnJheUVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKGFycmF5RWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNic6XG4gICAgICAgIHZhciBvYmpFbGVtZW50ID0geyBlbGVtZW50OiB7fSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKG9iakVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKG9iakVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ2JhZCBjb2xsYXRpb25JbmRleCBvciB1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6ICcgK1xuICAgICAgICAgICAgY29sbGF0aW9uSW5kZXgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJheUNvbGxhdGUoYSwgYikge1xuICB2YXIgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBzb3J0ID0gY29sbGF0ZShhW2ldLCBiW2ldKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiAoYS5sZW5ndGggPT09IGIubGVuZ3RoKSA/IDAgOlxuICAgIChhLmxlbmd0aCA+IGIubGVuZ3RoKSA/IDEgOiAtMTtcbn1cbmZ1bmN0aW9uIHN0cmluZ0NvbGxhdGUoYSwgYikge1xuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYWxlaGFydmV5L3BvdWNoZGIvaXNzdWVzLzQwXG4gIC8vIFRoaXMgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIENvdWNoREIgaW1wbGVtZW50YXRpb24sIGJ1dCBpdHMgdGhlXG4gIC8vIGJlc3Qgd2UgY2FuIGRvIGZvciBub3dcbiAgcmV0dXJuIChhID09PSBiKSA/IDAgOiAoKGEgPiBiKSA/IDEgOiAtMSk7XG59XG5mdW5jdGlvbiBvYmplY3RDb2xsYXRlKGEsIGIpIHtcbiAgdmFyIGFrID0gT2JqZWN0LmtleXMoYSksIGJrID0gT2JqZWN0LmtleXMoYik7XG4gIHZhciBsZW4gPSBNYXRoLm1pbihhay5sZW5ndGgsIGJrLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAvLyBGaXJzdCBzb3J0IHRoZSBrZXlzXG4gICAgdmFyIHNvcnQgPSBjb2xsYXRlKGFrW2ldLCBia1tpXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cbiAgICAvLyBpZiB0aGUga2V5cyBhcmUgZXF1YWwgc29ydCB0aGUgdmFsdWVzXG4gICAgc29ydCA9IGNvbGxhdGUoYVtha1tpXV0sIGJbYmtbaV1dKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuXG4gIH1cbiAgcmV0dXJuIChhay5sZW5ndGggPT09IGJrLmxlbmd0aCkgPyAwIDpcbiAgICAoYWsubGVuZ3RoID4gYmsubGVuZ3RoKSA/IDEgOiAtMTtcbn1cbi8vIFRoZSBjb2xsYXRpb24gaXMgZGVmaW5lZCBieSBlcmxhbmdzIG9yZGVyZWQgdGVybXNcbi8vIHRoZSBhdG9tcyBudWxsLCB0cnVlLCBmYWxzZSBjb21lIGZpcnN0LCB0aGVuIG51bWJlcnMsIHN0cmluZ3MsXG4vLyBhcnJheXMsIHRoZW4gb2JqZWN0c1xuLy8gbnVsbC91bmRlZmluZWQvTmFOL0luZmluaXR5Ly1JbmZpbml0eSBhcmUgYWxsIGNvbnNpZGVyZWQgbnVsbFxuZnVuY3Rpb24gY29sbGF0aW9uSW5kZXgoeCkge1xuICB2YXIgaWQgPSBbJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ3N0cmluZycsICdvYmplY3QnXTtcbiAgdmFyIGlkeCA9IGlkLmluZGV4T2YodHlwZW9mIHgpO1xuICAvL2ZhbHNlIGlmIC0xIG90aGVyd2lzZSB0cnVlLCBidXQgZmFzdCEhISExXG4gIGlmICh+aWR4KSB7XG4gICAgaWYgKHggPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgcmV0dXJuIDU7XG4gICAgfVxuICAgIHJldHVybiBpZHggPCAzID8gKGlkeCArIDIpIDogKGlkeCArIDMpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIDU7XG4gIH1cbn1cblxuLy8gY29udmVyc2lvbjpcbi8vIHggeXl5IHp6Li4uenpcbi8vIHggPSAwIGZvciBuZWdhdGl2ZSwgMSBmb3IgMCwgMiBmb3IgcG9zaXRpdmVcbi8vIHkgPSBleHBvbmVudCAoZm9yIG5lZ2F0aXZlIG51bWJlcnMgbmVnYXRlZCkgbW92ZWQgc28gdGhhdCBpdCdzID49IDBcbi8vIHogPSBtYW50aXNzZVxuZnVuY3Rpb24gbnVtVG9JbmRleGFibGVTdHJpbmcobnVtKSB7XG5cbiAgaWYgKG51bSA9PT0gMCkge1xuICAgIHJldHVybiAnMSc7XG4gIH1cblxuICAvLyBjb252ZXJ0IG51bWJlciB0byBleHBvbmVudGlhbCBmb3JtYXQgZm9yIGVhc2llciBhbmRcbiAgLy8gbW9yZSBzdWNjaW5jdCBzdHJpbmcgc29ydGluZ1xuICB2YXIgZXhwRm9ybWF0ID0gbnVtLnRvRXhwb25lbnRpYWwoKS5zcGxpdCgvZVxcKz8vKTtcbiAgdmFyIG1hZ25pdHVkZSA9IHBhcnNlSW50KGV4cEZvcm1hdFsxXSwgMTApO1xuXG4gIHZhciBuZWcgPSBudW0gPCAwO1xuXG4gIHZhciByZXN1bHQgPSBuZWcgPyAnMCcgOiAnMic7XG5cbiAgLy8gZmlyc3Qgc29ydCBieSBtYWduaXR1ZGVcbiAgLy8gaXQncyBlYXNpZXIgaWYgYWxsIG1hZ25pdHVkZXMgYXJlIHBvc2l0aXZlXG4gIHZhciBtYWdGb3JDb21wYXJpc29uID0gKChuZWcgPyAtbWFnbml0dWRlIDogbWFnbml0dWRlKSAtIE1JTl9NQUdOSVRVREUpO1xuICB2YXIgbWFnU3RyaW5nID0gcGFkTGVmdCgobWFnRm9yQ29tcGFyaXNvbikudG9TdHJpbmcoKSwgJzAnLCBNQUdOSVRVREVfRElHSVRTKTtcblxuICByZXN1bHQgKz0gU0VQICsgbWFnU3RyaW5nO1xuXG4gIC8vIHRoZW4gc29ydCBieSB0aGUgZmFjdG9yXG4gIHZhciBmYWN0b3IgPSBNYXRoLmFicyhwYXJzZUZsb2F0KGV4cEZvcm1hdFswXSkpOyAvLyBbMS4uMTApXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmIChuZWcpIHsgLy8gZm9yIG5lZ2F0aXZlIHJldmVyc2Ugb3JkZXJpbmdcbiAgICBmYWN0b3IgPSAxMCAtIGZhY3RvcjtcbiAgfVxuXG4gIHZhciBmYWN0b3JTdHIgPSBmYWN0b3IudG9GaXhlZCgyMCk7XG5cbiAgLy8gc3RyaXAgemVyb3MgZnJvbSB0aGUgZW5kXG4gIGZhY3RvclN0ciA9IGZhY3RvclN0ci5yZXBsYWNlKC9cXC4/MCskLywgJycpO1xuXG4gIHJlc3VsdCArPSBTRVAgKyBmYWN0b3JTdHI7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gY3JlYXRlIGEgY29tcGFyYXRvciBiYXNlZCBvbiB0aGUgc29ydCBvYmplY3RcbmZ1bmN0aW9uIGNyZWF0ZUZpZWxkU29ydGVyKHNvcnQpIHtcblxuICBmdW5jdGlvbiBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoZG9jKSB7XG4gICAgcmV0dXJuIHNvcnQubWFwKGZ1bmN0aW9uIChzb3J0aW5nKSB7XG4gICAgICB2YXIgZmllbGROYW1lID0gZ2V0S2V5KHNvcnRpbmcpO1xuICAgICAgdmFyIHBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChmaWVsZE5hbWUpO1xuICAgICAgdmFyIGRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jLCBwYXJzZWRGaWVsZCk7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYVJvdywgYlJvdykge1xuICAgIHZhciBhRmllbGRWYWx1ZXMgPSBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoYVJvdy5kb2MpO1xuICAgIHZhciBiRmllbGRWYWx1ZXMgPSBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoYlJvdy5kb2MpO1xuICAgIHZhciBjb2xsYXRpb24gPSBjb2xsYXRlKGFGaWVsZFZhbHVlcywgYkZpZWxkVmFsdWVzKTtcbiAgICBpZiAoY29sbGF0aW9uICE9PSAwKSB7XG4gICAgICByZXR1cm4gY29sbGF0aW9uO1xuICAgIH1cbiAgICAvLyB0aGlzIGlzIHdoYXQgbWFuZ28gc2VlbXMgdG8gZG9cbiAgICByZXR1cm4gY29tcGFyZSQxKGFSb3cuZG9jLl9pZCwgYlJvdy5kb2MuX2lkKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmlsdGVySW5NZW1vcnlGaWVsZHMocm93cywgcmVxdWVzdERlZiwgaW5NZW1vcnlGaWVsZHMpIHtcbiAgcm93cyA9IHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcbiAgICByZXR1cm4gcm93RmlsdGVyKHJvdy5kb2MsIHJlcXVlc3REZWYuc2VsZWN0b3IsIGluTWVtb3J5RmllbGRzKTtcbiAgfSk7XG5cbiAgaWYgKHJlcXVlc3REZWYuc29ydCkge1xuICAgIC8vIGluLW1lbW9yeSBzb3J0XG4gICAgdmFyIGZpZWxkU29ydGVyID0gY3JlYXRlRmllbGRTb3J0ZXIocmVxdWVzdERlZi5zb3J0KTtcbiAgICByb3dzID0gcm93cy5zb3J0KGZpZWxkU29ydGVyKTtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3REZWYuc29ydFswXSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgZ2V0VmFsdWUocmVxdWVzdERlZi5zb3J0WzBdKSA9PT0gJ2Rlc2MnKSB7XG4gICAgICByb3dzID0gcm93cy5yZXZlcnNlKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCdsaW1pdCcgaW4gcmVxdWVzdERlZiB8fCAnc2tpcCcgaW4gcmVxdWVzdERlZikge1xuICAgIC8vIGhhdmUgdG8gZG8gdGhlIGxpbWl0IGluLW1lbW9yeVxuICAgIHZhciBza2lwID0gcmVxdWVzdERlZi5za2lwIHx8IDA7XG4gICAgdmFyIGxpbWl0ID0gKCdsaW1pdCcgaW4gcmVxdWVzdERlZiA/IHJlcXVlc3REZWYubGltaXQgOiByb3dzLmxlbmd0aCkgKyBza2lwO1xuICAgIHJvd3MgPSByb3dzLnNsaWNlKHNraXAsIGxpbWl0KTtcbiAgfVxuICByZXR1cm4gcm93cztcbn1cblxuZnVuY3Rpb24gcm93RmlsdGVyKGRvYywgc2VsZWN0b3IsIGluTWVtb3J5RmllbGRzKSB7XG4gIHJldHVybiBpbk1lbW9yeUZpZWxkcy5ldmVyeShmdW5jdGlvbiAoZmllbGQpIHtcbiAgICB2YXIgbWF0Y2hlciA9IHNlbGVjdG9yW2ZpZWxkXTtcbiAgICB2YXIgcGFyc2VkRmllbGQgPSBwYXJzZUZpZWxkKGZpZWxkKTtcbiAgICB2YXIgZG9jRmllbGRWYWx1ZSA9IGdldEZpZWxkRnJvbURvYyhkb2MsIHBhcnNlZEZpZWxkKTtcbiAgICBpZiAoaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpKSB7XG4gICAgICByZXR1cm4gbWF0Y2hDb21pbmF0aW9uYWxTZWxlY3RvcihmaWVsZCwgbWF0Y2hlciwgZG9jKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hTZWxlY3RvcihtYXRjaGVyLCBkb2MsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoU2VsZWN0b3IobWF0Y2hlciwgZG9jLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICBpZiAoIW1hdGNoZXIpIHtcbiAgICAvLyBubyBmaWx0ZXJpbmcgbmVjZXNzYXJ5OyB0aGlzIGZpZWxkIGlzIGp1c3QgbmVlZGVkIGZvciBzb3J0aW5nXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBpcyBtYXRjaGVyIGFuIG9iamVjdCwgaWYgc28gY29udGludWUgcmVjdXJzaW9uXG4gIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobWF0Y2hlcikuZXZlcnkoZnVuY3Rpb24gKG1heWJlVXNlck9wZXJhdG9yKSB7XG4gICAgICB2YXIgdXNlclZhbHVlID0gbWF0Y2hlclsgbWF5YmVVc2VyT3BlcmF0b3IgXTtcbiAgICAgIC8vIGV4cGxpY2l0IG9wZXJhdG9yXG4gICAgICBpZiAobWF5YmVVc2VyT3BlcmF0b3IuaW5kZXhPZihcIiRcIikgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoKG1heWJlVXNlck9wZXJhdG9yLCBkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHN1YlBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChtYXliZVVzZXJPcGVyYXRvcik7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRvY0ZpZWxkVmFsdWUgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIHR5cGVvZiB1c2VyVmFsdWUgIT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICBzdWJQYXJzZWRGaWVsZC5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHRoZSBmaWVsZCBkb2VzIG5vdCBleGlzdCwgcmV0dXJuIG9yIGdldEZpZWxkRnJvbURvYyB3aWxsIHRocm93XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN1YkRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jRmllbGRWYWx1ZSwgc3ViUGFyc2VkRmllbGQpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdXNlclZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgLy8gZmllbGQgdmFsdWUgaXMgYW4gb2JqZWN0IHRoYXQgbWlnaHQgY29udGFpbiBtb3JlIG9wZXJhdG9yc1xuICAgICAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgc3ViRG9jRmllbGRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbXBsaWNpdCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gbWF0Y2goXCIkZXFcIiwgZG9jLCB1c2VyVmFsdWUsIHN1YlBhcnNlZEZpZWxkLCBzdWJEb2NGaWVsZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIG5vIG1vcmUgZGVwdGgsIE5vIG5lZWQgdG8gcmVjdXJzZSBmdXJ0aGVyXG4gIHJldHVybiBtYXRjaGVyID09PSBkb2NGaWVsZFZhbHVlO1xufVxuXG5mdW5jdGlvbiBtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yKGZpZWxkLCBtYXRjaGVyLCBkb2MpIHtcblxuICBpZiAoZmllbGQgPT09ICckb3InKSB7XG4gICAgcmV0dXJuIG1hdGNoZXIuc29tZShmdW5jdGlvbiAob3JNYXRjaGVycykge1xuICAgICAgcmV0dXJuIHJvd0ZpbHRlcihkb2MsIG9yTWF0Y2hlcnMsIE9iamVjdC5rZXlzKG9yTWF0Y2hlcnMpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmaWVsZCA9PT0gJyRub3QnKSB7XG4gICAgcmV0dXJuICFyb3dGaWx0ZXIoZG9jLCBtYXRjaGVyLCBPYmplY3Qua2V5cyhtYXRjaGVyKSk7XG4gIH1cblxuICAvL2Akbm9yYFxuICByZXR1cm4gIW1hdGNoZXIuZmluZChmdW5jdGlvbiAob3JNYXRjaGVycykge1xuICAgIHJldHVybiByb3dGaWx0ZXIoZG9jLCBvck1hdGNoZXJzLCBPYmplY3Qua2V5cyhvck1hdGNoZXJzKSk7XG4gIH0pO1xuXG59XG5cbmZ1bmN0aW9uIG1hdGNoKHVzZXJPcGVyYXRvciwgZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gIGlmICghbWF0Y2hlcnNbdXNlck9wZXJhdG9yXSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIG9wZXJhdG9yIFwiJyArIHVzZXJPcGVyYXRvciArXG4gICAgICAnXCIgLSBzaG91bGQgYmUgb25lIG9mICRlcSwgJGx0ZSwgJGx0LCAkZ3QsICRndGUsICRleGlzdHMsICRuZSwgJGluLCAnICtcbiAgICAgICckbmluLCAkc2l6ZSwgJG1vZCwgJHJlZ2V4LCAkZWxlbU1hdGNoLCAkdHlwZSwgJGFsbE1hdGNoIG9yICRhbGwnKTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcnNbdXNlck9wZXJhdG9yXShkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xufVxuXG5mdW5jdGlvbiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jRmllbGRWYWx1ZSAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIG1vZEZpZWxkKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWUgIT09IFwibnVtYmVyXCIgfHxcbiAgICBwYXJzZUludChkb2NGaWVsZFZhbHVlLCAxMCkgIT09IGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgZGl2aXNvciA9IHVzZXJWYWx1ZVswXTtcbiAgdmFyIG1vZCA9IHVzZXJWYWx1ZVsxXTtcblxuICByZXR1cm4gZG9jRmllbGRWYWx1ZSAlIGRpdmlzb3IgPT09IG1vZDtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWluc1ZhbHVlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICByZXR1cm4gdXNlclZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgIGlmIChkb2NGaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKGRvY0ZpZWxkVmFsdWVJdGVtKSB7XG4gICAgICAgIHJldHVybiBjb2xsYXRlKHZhbCwgZG9jRmllbGRWYWx1ZUl0ZW0pID09PSAwO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbGxhdGUodmFsLCBkb2NGaWVsZFZhbHVlKSA9PT0gMDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnNBbGxWYWx1ZXMoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHJldHVybiB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKGRvY0ZpZWxkVmFsdWVJdGVtKSB7XG4gICAgICByZXR1cm4gY29sbGF0ZSh2YWwsIGRvY0ZpZWxkVmFsdWVJdGVtKSA9PT0gMDtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFycmF5U2l6ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSB1c2VyVmFsdWU7XG59XG5cbmZ1bmN0aW9uIHJlZ2V4TWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAodXNlclZhbHVlKTtcblxuICByZXR1cm4gcmUudGVzdChkb2NGaWVsZFZhbHVlKTtcbn1cblxuZnVuY3Rpb24gdHlwZU1hdGNoKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuXG4gIHN3aXRjaCAodXNlclZhbHVlKSB7XG4gICAgY2FzZSAnbnVsbCc6XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZSA9PT0gbnVsbDtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnYm9vbGVhbic7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnbnVtYmVyJztcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoZG9jRmllbGRWYWx1ZSkgPT09ICdzdHJpbmcnO1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXk7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHJldHVybiAoe30pLnRvU3RyaW5nLmNhbGwoZG9jRmllbGRWYWx1ZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9XG59XG5cbnZhciBtYXRjaGVycyA9IHtcblxuICAnJGVsZW1NYXRjaCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZG9jRmllbGRWYWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWVbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHJvd0ZpbHRlcih2YWwsIHVzZXJWYWx1ZSwgT2JqZWN0LmtleXModXNlclZhbHVlKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgdmFsKTtcbiAgICB9KTtcbiAgfSxcblxuICAnJGFsbE1hdGNoJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkb2NGaWVsZFZhbHVlWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gcm93RmlsdGVyKHZhbCwgdXNlclZhbHVlLCBPYmplY3Qua2V5cyh1c2VyVmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgdmFsKTtcbiAgICB9KTtcbiAgfSxcblxuICAnJGVxJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA9PT0gMDtcbiAgfSxcblxuICAnJGd0ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPj0gMDtcbiAgfSxcblxuICAnJGd0JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA+IDA7XG4gIH0sXG5cbiAgJyRsdGUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIDw9IDA7XG4gIH0sXG5cbiAgJyRsdCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPCAwO1xuICB9LFxuXG4gICckZXhpc3RzJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIC8vYSBmaWVsZCB0aGF0IGlzIG51bGwgaXMgc3RpbGwgY29uc2lkZXJlZCB0byBleGlzdFxuICAgIGlmICh1c2VyVmFsdWUpIHtcbiAgICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiAhZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKTtcbiAgfSxcblxuICAnJG1vZCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgbW9kRmllbGQoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJG5lJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKG5lVmFsdWUpIHtcbiAgICAgIHJldHVybiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIG5lVmFsdWUpICE9PSAwO1xuICAgIH0pO1xuICB9LFxuICAnJGluJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJiBhcnJheUNvbnRhaW5zVmFsdWUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJG5pbic6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgIWFycmF5Q29udGFpbnNWYWx1ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckc2l6ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIEFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIGFycmF5U2l6ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckYWxsJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpICYmIGFycmF5Q29udGFpbnNBbGxWYWx1ZXMoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJHJlZ2V4JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJlxuICAgICAgdHlwZW9mIGRvY0ZpZWxkVmFsdWUgPT0gXCJzdHJpbmdcIiAmJlxuICAgICAgdXNlclZhbHVlLmV2ZXJ5KGZ1bmN0aW9uIChyZWdleFZhbHVlKSB7XG4gICAgICAgIHJldHVybiByZWdleE1hdGNoKGRvY0ZpZWxkVmFsdWUsIHJlZ2V4VmFsdWUpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgJyR0eXBlJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiB0eXBlTWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfVxufTtcblxuLy8gcmV0dXJuIHRydWUgaWYgdGhlIGdpdmVuIGRvYyBtYXRjaGVzIHRoZSBzdXBwbGllZCBzZWxlY3RvclxuZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yKGRvYywgc2VsZWN0b3IpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09ICdvYmplY3QnKSB7XG4gICAgLy8gbWF0Y2ggdGhlIENvdWNoREIgZXJyb3IgbWVzc2FnZVxuICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0b3IgZXJyb3I6IGV4cGVjdGVkIGEgSlNPTiBvYmplY3QnKTtcbiAgfVxuXG4gIHNlbGVjdG9yID0gbWFzc2FnZVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgdmFyIHJvdyA9IHtcbiAgICAnZG9jJzogZG9jXG4gIH07XG5cbiAgdmFyIHJvd3NNYXRjaGVkID0gZmlsdGVySW5NZW1vcnlGaWVsZHMoW3Jvd10sIHsgJ3NlbGVjdG9yJzogc2VsZWN0b3IgfSwgT2JqZWN0LmtleXMoc2VsZWN0b3IpKTtcbiAgcmV0dXJuIHJvd3NNYXRjaGVkICYmIHJvd3NNYXRjaGVkLmxlbmd0aCA9PT0gMTtcbn1cblxuZnVuY3Rpb24gZXZhbEZpbHRlcihpbnB1dCkge1xuICByZXR1cm4gc2NvcGVFdmFsKCdcInVzZSBzdHJpY3RcIjtcXG5yZXR1cm4gJyArIGlucHV0ICsgJzsnLCB7fSk7XG59XG5cbmZ1bmN0aW9uIGV2YWxWaWV3KGlucHV0KSB7XG4gIHZhciBjb2RlID0gW1xuICAgICdyZXR1cm4gZnVuY3Rpb24oZG9jKSB7JyxcbiAgICAnICBcInVzZSBzdHJpY3RcIjsnLFxuICAgICcgIHZhciBlbWl0dGVkID0gZmFsc2U7JyxcbiAgICAnICB2YXIgZW1pdCA9IGZ1bmN0aW9uIChhLCBiKSB7JyxcbiAgICAnICAgIGVtaXR0ZWQgPSB0cnVlOycsXG4gICAgJyAgfTsnLFxuICAgICcgIHZhciB2aWV3ID0gJyArIGlucHV0ICsgJzsnLFxuICAgICcgIHZpZXcoZG9jKTsnLFxuICAgICcgIGlmIChlbWl0dGVkKSB7JyxcbiAgICAnICAgIHJldHVybiB0cnVlOycsXG4gICAgJyAgfScsXG4gICAgJ307J1xuICBdLmpvaW4oJ1xcbicpO1xuXG4gIHJldHVybiBzY29wZUV2YWwoY29kZSwge30pO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZShvcHRzLCBjYWxsYmFjaykge1xuICBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLmZpbHRlciAhPT0gJ19zZWxlY3RvcicpIHtcbiAgICAgIHZhciBmaWx0ZXJOYW1lID0gdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJyA/XG4gICAgICAgIG9wdHMuZmlsdGVyIDogJ2Z1bmN0aW9uJztcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ3NlbGVjdG9yIGludmFsaWQgZm9yIGZpbHRlciBcIicgKyBmaWx0ZXJOYW1lICsgJ1wiJykpO1xuICAgIH1cbiAgfVxuICBjYWxsYmFjaygpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemUob3B0cykge1xuICBpZiAob3B0cy52aWV3ICYmICFvcHRzLmZpbHRlcikge1xuICAgIG9wdHMuZmlsdGVyID0gJ192aWV3JztcbiAgfVxuXG4gIGlmIChvcHRzLnNlbGVjdG9yICYmICFvcHRzLmZpbHRlcikge1xuICAgIG9wdHMuZmlsdGVyID0gJ19zZWxlY3Rvcic7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJykge1xuICAgIGlmIChvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgICAgb3B0cy52aWV3ID0gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMudmlldyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMuZmlsdGVyID0gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMuZmlsdGVyKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkRmlsdGVyKGNoYW5nZXNIYW5kbGVyLCBvcHRzKSB7XG4gIHJldHVybiBvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnICYmXG4gICAgIW9wdHMuZG9jX2lkcyAmJiAhaXNSZW1vdGUoY2hhbmdlc0hhbmRsZXIuZGIpO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXIoY2hhbmdlc0hhbmRsZXIsIG9wdHMpIHtcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcbiAgaWYgKG9wdHMuZmlsdGVyID09PSAnX3ZpZXcnKSB7XG4gICAgaWYgKCFvcHRzLnZpZXcgfHwgdHlwZW9mIG9wdHMudmlldyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihCQURfUkVRVUVTVCxcbiAgICAgICAgJ2B2aWV3YCBmaWx0ZXIgcGFyYW1ldGVyIG5vdCBmb3VuZCBvciBpbnZhbGlkLicpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIC8vIGZldGNoIGEgdmlldyBmcm9tIGEgZGVzaWduIGRvYywgbWFrZSBpdCBiZWhhdmUgbGlrZSBhIGZpbHRlclxuICAgIHZhciB2aWV3TmFtZSA9IHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMudmlldyk7XG4gICAgY2hhbmdlc0hhbmRsZXIuZGIuZ2V0KCdfZGVzaWduLycgKyB2aWV3TmFtZVswXSwgZnVuY3Rpb24gKGVyciwgZGRvYykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpKTtcbiAgICAgIH1cbiAgICAgIHZhciBtYXBGdW4gPSBkZG9jICYmIGRkb2Mudmlld3MgJiYgZGRvYy52aWV3c1t2aWV3TmFtZVsxXV0gJiZcbiAgICAgICAgZGRvYy52aWV3c1t2aWV3TmFtZVsxXV0ubWFwO1xuICAgICAgaWYgKCFtYXBGdW4pIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLFxuICAgICAgICAgIChkZG9jLnZpZXdzID8gJ21pc3NpbmcganNvbiBrZXk6ICcgKyB2aWV3TmFtZVsxXSA6XG4gICAgICAgICAgICAnbWlzc2luZyBqc29uIGtleTogdmlld3MnKSkpO1xuICAgICAgfVxuICAgICAgb3B0cy5maWx0ZXIgPSBldmFsVmlldyhtYXBGdW4pO1xuICAgICAgY2hhbmdlc0hhbmRsZXIuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICBvcHRzLmZpbHRlciA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzU2VsZWN0b3IoZG9jLCBvcHRzLnNlbGVjdG9yKTtcbiAgICB9O1xuICAgIGNoYW5nZXNIYW5kbGVyLmRvQ2hhbmdlcyhvcHRzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBmZXRjaCBhIGZpbHRlciBmcm9tIGEgZGVzaWduIGRvY1xuICAgIHZhciBmaWx0ZXJOYW1lID0gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy5maWx0ZXIpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmRiLmdldCgnX2Rlc2lnbi8nICsgZmlsdGVyTmFtZVswXSwgZnVuY3Rpb24gKGVyciwgZGRvYykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpKTtcbiAgICAgIH1cbiAgICAgIHZhciBmaWx0ZXJGdW4gPSBkZG9jICYmIGRkb2MuZmlsdGVycyAmJiBkZG9jLmZpbHRlcnNbZmlsdGVyTmFtZVsxXV07XG4gICAgICBpZiAoIWZpbHRlckZ1bikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsXG4gICAgICAgICAgKChkZG9jICYmIGRkb2MuZmlsdGVycykgPyAnbWlzc2luZyBqc29uIGtleTogJyArIGZpbHRlck5hbWVbMV1cbiAgICAgICAgICAgIDogJ21pc3NpbmcganNvbiBrZXk6IGZpbHRlcnMnKSkpO1xuICAgICAgfVxuICAgICAgb3B0cy5maWx0ZXIgPSBldmFsRmlsdGVyKGZpbHRlckZ1bik7XG4gICAgICBjaGFuZ2VzSGFuZGxlci5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlDaGFuZ2VzRmlsdGVyUGx1Z2luKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbiA9IHtcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGUsXG4gICAgbm9ybWFsaXplOiBub3JtYWxpemUsXG4gICAgc2hvdWxkRmlsdGVyOiBzaG91bGRGaWx0ZXIsXG4gICAgZmlsdGVyOiBmaWx0ZXJcbiAgfTtcbn1cblxuLy8gVE9ETzogcmVtb3ZlIGZyb20gcG91Y2hkYi1jb3JlIChicmVha2luZylcblBvdWNoREIucGx1Z2luKGFwcGx5Q2hhbmdlc0ZpbHRlclBsdWdpbik7XG5cblBvdWNoREIudmVyc2lvbiA9IHZlcnNpb247XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgaXRlbSkge1xuICAgIG9ialtpdGVtXSA9IHRydWU7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufVxuLy8gTGlzdCBvZiB0b3AgbGV2ZWwgcmVzZXJ2ZWQgd29yZHMgZm9yIGRvY1xudmFyIHJlc2VydmVkV29yZHMgPSB0b09iamVjdChbXG4gICdfaWQnLFxuICAnX3JldicsXG4gICdfYWNjZXNzJyxcbiAgJ19hdHRhY2htZW50cycsXG4gICdfZGVsZXRlZCcsXG4gICdfcmV2aXNpb25zJyxcbiAgJ19yZXZzX2luZm8nLFxuICAnX2NvbmZsaWN0cycsXG4gICdfZGVsZXRlZF9jb25mbGljdHMnLFxuICAnX2xvY2FsX3NlcScsXG4gICdfcmV2X3RyZWUnLFxuICAvLyByZXBsaWNhdGlvbiBkb2N1bWVudHNcbiAgJ19yZXBsaWNhdGlvbl9pZCcsXG4gICdfcmVwbGljYXRpb25fc3RhdGUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3RpbWUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3JlYXNvbicsXG4gICdfcmVwbGljYXRpb25fc3RhdHMnLFxuICAvLyBTcGVjaWZpYyB0byBDb3VjaGJhc2UgU3luYyBHYXRld2F5XG4gICdfcmVtb3ZlZCdcbl0pO1xuXG4vLyBMaXN0IG9mIHJlc2VydmVkIHdvcmRzIHRoYXQgc2hvdWxkIGVuZCB1cCBpbiB0aGUgZG9jdW1lbnRcbnZhciBkYXRhV29yZHMgPSB0b09iamVjdChbXG4gICdfYWNjZXNzJyxcbiAgJ19hdHRhY2htZW50cycsXG4gIC8vIHJlcGxpY2F0aW9uIGRvY3VtZW50c1xuICAnX3JlcGxpY2F0aW9uX2lkJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfdGltZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfcmVhc29uJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0cydcbl0pO1xuXG5mdW5jdGlvbiBwYXJzZVJldmlzaW9uSW5mbyhyZXYpIHtcbiAgaWYgKCEvXlxcZCstLy50ZXN0KHJldikpIHtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3IoSU5WQUxJRF9SRVYpO1xuICB9XG4gIHZhciBpZHggPSByZXYuaW5kZXhPZignLScpO1xuICB2YXIgbGVmdCA9IHJldi5zdWJzdHJpbmcoMCwgaWR4KTtcbiAgdmFyIHJpZ2h0ID0gcmV2LnN1YnN0cmluZyhpZHggKyAxKTtcbiAgcmV0dXJuIHtcbiAgICBwcmVmaXg6IHBhcnNlSW50KGxlZnQsIDEwKSxcbiAgICBpZDogcmlnaHRcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZVJldlRyZWVGcm9tUmV2aXNpb25zKHJldmlzaW9ucywgb3B0cykge1xuICB2YXIgcG9zID0gcmV2aXNpb25zLnN0YXJ0IC0gcmV2aXNpb25zLmlkcy5sZW5ndGggKyAxO1xuXG4gIHZhciByZXZpc2lvbklkcyA9IHJldmlzaW9ucy5pZHM7XG4gIHZhciBpZHMgPSBbcmV2aXNpb25JZHNbMF0sIG9wdHMsIFtdXTtcblxuICBmb3IgKHZhciBpID0gMSwgbGVuID0gcmV2aXNpb25JZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZHMgPSBbcmV2aXNpb25JZHNbaV0sIHtzdGF0dXM6ICdtaXNzaW5nJ30sIFtpZHNdXTtcbiAgfVxuXG4gIHJldHVybiBbe1xuICAgIHBvczogcG9zLFxuICAgIGlkczogaWRzXG4gIH1dO1xufVxuXG4vLyBQcmVwcm9jZXNzIGRvY3VtZW50cywgcGFyc2UgdGhlaXIgcmV2aXNpb25zLCBhc3NpZ24gYW4gaWQgYW5kIGFcbi8vIHJldmlzaW9uIGZvciBuZXcgd3JpdGVzIHRoYXQgYXJlIG1pc3NpbmcgdGhlbSwgZXRjXG5mdW5jdGlvbiBwYXJzZURvYyhkb2MsIG5ld0VkaXRzLCBkYk9wdHMpIHtcbiAgaWYgKCFkYk9wdHMpIHtcbiAgICBkYk9wdHMgPSB7XG4gICAgICBkZXRlcm1pbmlzdGljX3JldnM6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgdmFyIG5SZXZOdW07XG4gIHZhciBuZXdSZXZJZDtcbiAgdmFyIHJldkluZm87XG4gIHZhciBvcHRzID0ge3N0YXR1czogJ2F2YWlsYWJsZSd9O1xuICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgb3B0cy5kZWxldGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChuZXdFZGl0cykge1xuICAgIGlmICghZG9jLl9pZCkge1xuICAgICAgZG9jLl9pZCA9IHV1aWQoKTtcbiAgICB9XG4gICAgbmV3UmV2SWQgPSByZXYkJDEoZG9jLCBkYk9wdHMuZGV0ZXJtaW5pc3RpY19yZXZzKTtcbiAgICBpZiAoZG9jLl9yZXYpIHtcbiAgICAgIHJldkluZm8gPSBwYXJzZVJldmlzaW9uSW5mbyhkb2MuX3Jldik7XG4gICAgICBpZiAocmV2SW5mby5lcnJvcikge1xuICAgICAgICByZXR1cm4gcmV2SW5mbztcbiAgICAgIH1cbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IHJldkluZm8ucHJlZml4LFxuICAgICAgICBpZHM6IFtyZXZJbmZvLmlkLCB7c3RhdHVzOiAnbWlzc2luZyd9LCBbW25ld1JldklkLCBvcHRzLCBbXV1dXVxuICAgICAgfV07XG4gICAgICBuUmV2TnVtID0gcmV2SW5mby5wcmVmaXggKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX3Jldl90cmVlID0gW3tcbiAgICAgICAgcG9zOiAxLFxuICAgICAgICBpZHMgOiBbbmV3UmV2SWQsIG9wdHMsIFtdXVxuICAgICAgfV07XG4gICAgICBuUmV2TnVtID0gMTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRvYy5fcmV2aXNpb25zKSB7XG4gICAgICBkb2MuX3Jldl90cmVlID0gbWFrZVJldlRyZWVGcm9tUmV2aXNpb25zKGRvYy5fcmV2aXNpb25zLCBvcHRzKTtcbiAgICAgIG5SZXZOdW0gPSBkb2MuX3JldmlzaW9ucy5zdGFydDtcbiAgICAgIG5ld1JldklkID0gZG9jLl9yZXZpc2lvbnMuaWRzWzBdO1xuICAgIH1cbiAgICBpZiAoIWRvYy5fcmV2X3RyZWUpIHtcbiAgICAgIHJldkluZm8gPSBwYXJzZVJldmlzaW9uSW5mbyhkb2MuX3Jldik7XG4gICAgICBpZiAocmV2SW5mby5lcnJvcikge1xuICAgICAgICByZXR1cm4gcmV2SW5mbztcbiAgICAgIH1cbiAgICAgIG5SZXZOdW0gPSByZXZJbmZvLnByZWZpeDtcbiAgICAgIG5ld1JldklkID0gcmV2SW5mby5pZDtcbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IG5SZXZOdW0sXG4gICAgICAgIGlkczogW25ld1JldklkLCBvcHRzLCBbXV1cbiAgICAgIH1dO1xuICAgIH1cbiAgfVxuXG4gIGludmFsaWRJZEVycm9yKGRvYy5faWQpO1xuXG4gIGRvYy5fcmV2ID0gblJldk51bSArICctJyArIG5ld1JldklkO1xuXG4gIHZhciByZXN1bHQgPSB7bWV0YWRhdGEgOiB7fSwgZGF0YSA6IHt9fTtcbiAgZm9yICh2YXIga2V5IGluIGRvYykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2MsIGtleSkpIHtcbiAgICAgIHZhciBzcGVjaWFsS2V5ID0ga2V5WzBdID09PSAnXyc7XG4gICAgICBpZiAoc3BlY2lhbEtleSAmJiAhcmVzZXJ2ZWRXb3Jkc1trZXldKSB7XG4gICAgICAgIHZhciBlcnJvciA9IGNyZWF0ZUVycm9yKERPQ19WQUxJREFUSU9OLCBrZXkpO1xuICAgICAgICBlcnJvci5tZXNzYWdlID0gRE9DX1ZBTElEQVRJT04ubWVzc2FnZSArICc6ICcgKyBrZXk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSBlbHNlIGlmIChzcGVjaWFsS2V5ICYmICFkYXRhV29yZHNba2V5XSkge1xuICAgICAgICByZXN1bHQubWV0YWRhdGFba2V5LnNsaWNlKDEpXSA9IGRvY1trZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmRhdGFba2V5XSA9IGRvY1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwYXJzZUJhc2U2NChkYXRhKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHRoaXNBdG9iKGRhdGEpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKEJBRF9BUkcsXG4gICAgICAnQXR0YWNobWVudCBpcyBub3QgYSB2YWxpZCBiYXNlNjQgc3RyaW5nJyk7XG4gICAgcmV0dXJuIHtlcnJvcjogZXJyfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzU3RyaW5nKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIHZhciBhc0JpbmFyeSA9IHBhcnNlQmFzZTY0KGF0dC5kYXRhKTtcbiAgaWYgKGFzQmluYXJ5LmVycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGFzQmluYXJ5LmVycm9yKTtcbiAgfVxuXG4gIGF0dC5sZW5ndGggPSBhc0JpbmFyeS5sZW5ndGg7XG4gIGlmIChibG9iVHlwZSA9PT0gJ2Jsb2InKSB7XG4gICAgYXR0LmRhdGEgPSBiaW5TdHJpbmdUb0JsdWZmZXIoYXNCaW5hcnksIGF0dC5jb250ZW50X3R5cGUpO1xuICB9IGVsc2UgaWYgKGJsb2JUeXBlID09PSAnYmFzZTY0Jykge1xuICAgIGF0dC5kYXRhID0gdGhpc0J0b2EoYXNCaW5hcnkpO1xuICB9IGVsc2UgeyAvLyBiaW5hcnlcbiAgICBhdHQuZGF0YSA9IGFzQmluYXJ5O1xuICB9XG4gIGJpbmFyeU1kNShhc0JpbmFyeSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGF0dC5kaWdlc3QgPSAnbWQ1LScgKyByZXN1bHQ7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NCbG9iKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIGJpbmFyeU1kNShhdHQuZGF0YSwgZnVuY3Rpb24gKG1kNSkge1xuICAgIGF0dC5kaWdlc3QgPSAnbWQ1LScgKyBtZDU7XG4gICAgLy8gc2l6ZSBpcyBmb3IgYmxvYnMgKGJyb3dzZXIpLCBsZW5ndGggaXMgZm9yIGJ1ZmZlcnMgKG5vZGUpXG4gICAgYXR0Lmxlbmd0aCA9IGF0dC5kYXRhLnNpemUgfHwgYXR0LmRhdGEubGVuZ3RoIHx8IDA7XG4gICAgaWYgKGJsb2JUeXBlID09PSAnYmluYXJ5Jykge1xuICAgICAgYmxvYlRvQmluYXJ5U3RyaW5nKGF0dC5kYXRhLCBmdW5jdGlvbiAoYmluU3RyaW5nKSB7XG4gICAgICAgIGF0dC5kYXRhID0gYmluU3RyaW5nO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChibG9iVHlwZSA9PT0gJ2Jhc2U2NCcpIHtcbiAgICAgIGJsb2JUb0Jhc2U2NChhdHQuZGF0YSwgZnVuY3Rpb24gKGI2NCkge1xuICAgICAgICBhdHQuZGF0YSA9IGI2NDtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NBdHRhY2htZW50KGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIGlmIChhdHQuc3R1Yikge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG4gIGlmICh0eXBlb2YgYXR0LmRhdGEgPT09ICdzdHJpbmcnKSB7IC8vIGlucHV0IGlzIGEgYmFzZTY0IHN0cmluZ1xuICAgIHByZXByb2Nlc3NTdHJpbmcoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spO1xuICB9IGVsc2UgeyAvLyBpbnB1dCBpcyBhIGJsb2JcbiAgICBwcmVwcm9jZXNzQmxvYihhdHQsIGJsb2JUeXBlLCBjYWxsYmFjayk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzKGRvY0luZm9zLCBibG9iVHlwZSwgY2FsbGJhY2spIHtcblxuICBpZiAoIWRvY0luZm9zLmxlbmd0aCkge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG5cbiAgdmFyIGRvY3YgPSAwO1xuICB2YXIgb3ZlcmFsbEVycjtcblxuICBkb2NJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJbmZvKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzID0gZG9jSW5mby5kYXRhICYmIGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMgP1xuICAgICAgT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykgOiBbXTtcbiAgICB2YXIgcmVjdiA9IDA7XG5cbiAgICBpZiAoIWF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzZWRBdHRhY2htZW50KGVycikge1xuICAgICAgb3ZlcmFsbEVyciA9IGVycjtcbiAgICAgIHJlY3YrKztcbiAgICAgIGlmIChyZWN2ID09PSBhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGtleSBpbiBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMsIGtleSkpIHtcbiAgICAgICAgcHJlcHJvY2Vzc0F0dGFjaG1lbnQoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1trZXldLFxuICAgICAgICAgIGJsb2JUeXBlLCBwcm9jZXNzZWRBdHRhY2htZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgZG9jdisrO1xuICAgIGlmIChkb2NJbmZvcy5sZW5ndGggPT09IGRvY3YpIHtcbiAgICAgIGlmIChvdmVyYWxsRXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKG92ZXJhbGxFcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRG9jKHJldkxpbWl0LCBwcmV2LCBkb2NJbmZvLCByZXN1bHRzLFxuICAgICAgICAgICAgICAgICAgIGksIGNiLCB3cml0ZURvYywgbmV3RWRpdHMpIHtcblxuICBpZiAocmV2RXhpc3RzKHByZXYucmV2X3RyZWUsIGRvY0luZm8ubWV0YWRhdGEucmV2KSAmJiAhbmV3RWRpdHMpIHtcbiAgICByZXN1bHRzW2ldID0gZG9jSW5mbztcbiAgICByZXR1cm4gY2IoKTtcbiAgfVxuXG4gIC8vIHNvbWV0aW1lcyB0aGlzIGlzIHByZS1jYWxjdWxhdGVkLiBoaXN0b3JpY2FsbHkgbm90IGFsd2F5c1xuICB2YXIgcHJldmlvdXNXaW5uaW5nUmV2ID0gcHJldi53aW5uaW5nUmV2IHx8IHdpbm5pbmdSZXYocHJldik7XG4gIHZhciBwcmV2aW91c2x5RGVsZXRlZCA9ICdkZWxldGVkJyBpbiBwcmV2ID8gcHJldi5kZWxldGVkIDpcbiAgICBpc0RlbGV0ZWQocHJldiwgcHJldmlvdXNXaW5uaW5nUmV2KTtcbiAgdmFyIGRlbGV0ZWQgPSAnZGVsZXRlZCcgaW4gZG9jSW5mby5tZXRhZGF0YSA/IGRvY0luZm8ubWV0YWRhdGEuZGVsZXRlZCA6XG4gICAgaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEpO1xuICB2YXIgaXNSb290ID0gL14xLS8udGVzdChkb2NJbmZvLm1ldGFkYXRhLnJldik7XG5cbiAgaWYgKHByZXZpb3VzbHlEZWxldGVkICYmICFkZWxldGVkICYmIG5ld0VkaXRzICYmIGlzUm9vdCkge1xuICAgIHZhciBuZXdEb2MgPSBkb2NJbmZvLmRhdGE7XG4gICAgbmV3RG9jLl9yZXYgPSBwcmV2aW91c1dpbm5pbmdSZXY7XG4gICAgbmV3RG9jLl9pZCA9IGRvY0luZm8ubWV0YWRhdGEuaWQ7XG4gICAgZG9jSW5mbyA9IHBhcnNlRG9jKG5ld0RvYywgbmV3RWRpdHMpO1xuICB9XG5cbiAgdmFyIG1lcmdlZCA9IG1lcmdlKHByZXYucmV2X3RyZWUsIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWVbMF0sIHJldkxpbWl0KTtcblxuICB2YXIgaW5Db25mbGljdCA9IG5ld0VkaXRzICYmICgoXG4gICAgKHByZXZpb3VzbHlEZWxldGVkICYmIGRlbGV0ZWQgJiYgbWVyZ2VkLmNvbmZsaWN0cyAhPT0gJ25ld19sZWFmJykgfHxcbiAgICAoIXByZXZpb3VzbHlEZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgIT09ICduZXdfbGVhZicpIHx8XG4gICAgKHByZXZpb3VzbHlEZWxldGVkICYmICFkZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgPT09ICduZXdfYnJhbmNoJykpKTtcblxuICBpZiAoaW5Db25mbGljdCkge1xuICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgIHJlc3VsdHNbaV0gPSBlcnI7XG4gICAgcmV0dXJuIGNiKCk7XG4gIH1cblxuICB2YXIgbmV3UmV2ID0gZG9jSW5mby5tZXRhZGF0YS5yZXY7XG4gIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWUgPSBtZXJnZWQudHJlZTtcbiAgZG9jSW5mby5zdGVtbWVkUmV2cyA9IG1lcmdlZC5zdGVtbWVkUmV2cyB8fCBbXTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHByZXYucmV2X21hcCkge1xuICAgIGRvY0luZm8ubWV0YWRhdGEucmV2X21hcCA9IHByZXYucmV2X21hcDsgLy8gdXNlZCBvbmx5IGJ5IGxldmVsZGJcbiAgfVxuXG4gIC8vIHJlY2FsY3VsYXRlXG4gIHZhciB3aW5uaW5nUmV2JCQxID0gd2lubmluZ1Jldihkb2NJbmZvLm1ldGFkYXRhKTtcbiAgdmFyIHdpbm5pbmdSZXZJc0RlbGV0ZWQgPSBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSwgd2lubmluZ1JldiQkMSk7XG5cbiAgLy8gY2FsY3VsYXRlIHRoZSB0b3RhbCBudW1iZXIgb2YgZG9jdW1lbnRzIHRoYXQgd2VyZSBhZGRlZC9yZW1vdmVkLFxuICAvLyBmcm9tIHRoZSBwZXJzcGVjdGl2ZSBvZiB0b3RhbF9yb3dzL2RvY19jb3VudFxuICB2YXIgZGVsdGEgPSAocHJldmlvdXNseURlbGV0ZWQgPT09IHdpbm5pbmdSZXZJc0RlbGV0ZWQpID8gMCA6XG4gICAgcHJldmlvdXNseURlbGV0ZWQgPCB3aW5uaW5nUmV2SXNEZWxldGVkID8gLTEgOiAxO1xuXG4gIHZhciBuZXdSZXZJc0RlbGV0ZWQ7XG4gIGlmIChuZXdSZXYgPT09IHdpbm5pbmdSZXYkJDEpIHtcbiAgICAvLyBpZiB0aGUgbmV3IHJldiBpcyB0aGUgc2FtZSBhcyB0aGUgd2lubmluZyByZXYsIHdlIGNhbiByZXVzZSB0aGF0IHZhbHVlXG4gICAgbmV3UmV2SXNEZWxldGVkID0gd2lubmluZ1JldklzRGVsZXRlZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiB0aGV5J3JlIG5vdCB0aGUgc2FtZSwgdGhlbiB3ZSBuZWVkIHRvIHJlY2FsY3VsYXRlXG4gICAgbmV3UmV2SXNEZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIG5ld1Jldik7XG4gIH1cblxuICB3cml0ZURvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLCBuZXdSZXZJc0RlbGV0ZWQsXG4gICAgdHJ1ZSwgZGVsdGEsIGksIGNiKTtcbn1cblxuZnVuY3Rpb24gcm9vdElzTWlzc2luZyhkb2NJbmZvKSB7XG4gIHJldHVybiBkb2NJbmZvLm1ldGFkYXRhLnJldl90cmVlWzBdLmlkc1sxXS5zdGF0dXMgPT09ICdtaXNzaW5nJztcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0RvY3MocmV2TGltaXQsIGRvY0luZm9zLCBhcGksIGZldGNoZWREb2NzLCB0eCwgcmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICAgIHdyaXRlRG9jLCBvcHRzLCBvdmVyYWxsQ2FsbGJhY2spIHtcblxuICAvLyBEZWZhdWx0IHRvIDEwMDAgbG9jYWxseVxuICByZXZMaW1pdCA9IHJldkxpbWl0IHx8IDEwMDA7XG5cbiAgZnVuY3Rpb24gaW5zZXJ0RG9jKGRvY0luZm8sIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG4gICAgLy8gQ2FudCBpbnNlcnQgbmV3IGRlbGV0ZWQgZG9jdW1lbnRzXG4gICAgdmFyIHdpbm5pbmdSZXYkJDEgPSB3aW5uaW5nUmV2KGRvY0luZm8ubWV0YWRhdGEpO1xuICAgIHZhciBkZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEpO1xuICAgIGlmICgnd2FzX2RlbGV0ZScgaW4gb3B0cyAmJiBkZWxldGVkKSB7XG4gICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdkZWxldGVkJyk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvLyA0NzEyIC0gZGV0ZWN0IHdoZXRoZXIgYSBuZXcgZG9jdW1lbnQgd2FzIGluc2VydGVkIHdpdGggYSBfcmV2XG4gICAgdmFyIGluQ29uZmxpY3QgPSBuZXdFZGl0cyAmJiByb290SXNNaXNzaW5nKGRvY0luZm8pO1xuXG4gICAgaWYgKGluQ29uZmxpY3QpIHtcbiAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IGVycjtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHZhciBkZWx0YSA9IGRlbGV0ZWQgPyAwIDogMTtcblxuICAgIHdyaXRlRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIGRlbGV0ZWQsIGRlbGV0ZWQsIGZhbHNlLFxuICAgICAgZGVsdGEsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHZhciBuZXdFZGl0cyA9IG9wdHMubmV3X2VkaXRzO1xuICB2YXIgaWRzVG9Eb2NzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgdmFyIGRvY3NEb25lID0gMDtcbiAgdmFyIGRvY3NUb0RvID0gZG9jSW5mb3MubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGNoZWNrQWxsRG9jc0RvbmUoKSB7XG4gICAgaWYgKCsrZG9jc0RvbmUgPT09IGRvY3NUb0RvICYmIG92ZXJhbGxDYWxsYmFjaykge1xuICAgICAgb3ZlcmFsbENhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZG9jSW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoY3VycmVudERvYywgcmVzdWx0c0lkeCkge1xuXG4gICAgaWYgKGN1cnJlbnREb2MuX2lkICYmIGlzTG9jYWxJZChjdXJyZW50RG9jLl9pZCkpIHtcbiAgICAgIHZhciBmdW4gPSBjdXJyZW50RG9jLl9kZWxldGVkID8gJ19yZW1vdmVMb2NhbCcgOiAnX3B1dExvY2FsJztcbiAgICAgIGFwaVtmdW5dKGN1cnJlbnREb2MsIHtjdHg6IHR4fSwgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSBlcnIgfHwgcmVzO1xuICAgICAgICBjaGVja0FsbERvY3NEb25lKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaWQgPSBjdXJyZW50RG9jLm1ldGFkYXRhLmlkO1xuICAgIGlmIChpZHNUb0RvY3MuaGFzKGlkKSkge1xuICAgICAgZG9jc1RvRG8tLTsgLy8gZHVwbGljYXRlXG4gICAgICBpZHNUb0RvY3MuZ2V0KGlkKS5wdXNoKFtjdXJyZW50RG9jLCByZXN1bHRzSWR4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkc1RvRG9jcy5zZXQoaWQsIFtbY3VycmVudERvYywgcmVzdWx0c0lkeF1dKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGluIHRoZSBjYXNlIG9mIG5ld19lZGl0cywgdGhlIHVzZXIgY2FuIHByb3ZpZGUgbXVsdGlwbGUgZG9jc1xuICAvLyB3aXRoIHRoZSBzYW1lIGlkLiB0aGVzZSBuZWVkIHRvIGJlIHByb2Nlc3NlZCBzZXF1ZW50aWFsbHlcbiAgaWRzVG9Eb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvY3MsIGlkKSB7XG4gICAgdmFyIG51bURvbmUgPSAwO1xuXG4gICAgZnVuY3Rpb24gZG9jV3JpdHRlbigpIHtcbiAgICAgIGlmICgrK251bURvbmUgPCBkb2NzLmxlbmd0aCkge1xuICAgICAgICBuZXh0RG9jKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0FsbERvY3NEb25lKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5leHREb2MoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBkb2NzW251bURvbmVdO1xuICAgICAgdmFyIGN1cnJlbnREb2MgPSB2YWx1ZVswXTtcbiAgICAgIHZhciByZXN1bHRzSWR4ID0gdmFsdWVbMV07XG5cbiAgICAgIGlmIChmZXRjaGVkRG9jcy5oYXMoaWQpKSB7XG4gICAgICAgIHVwZGF0ZURvYyhyZXZMaW1pdCwgZmV0Y2hlZERvY3MuZ2V0KGlkKSwgY3VycmVudERvYywgcmVzdWx0cyxcbiAgICAgICAgICByZXN1bHRzSWR4LCBkb2NXcml0dGVuLCB3cml0ZURvYywgbmV3RWRpdHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRW5zdXJlIHN0ZW1taW5nIGFwcGxpZXMgdG8gbmV3IHdyaXRlcyBhcyB3ZWxsXG4gICAgICAgIHZhciBtZXJnZWQgPSBtZXJnZShbXSwgY3VycmVudERvYy5tZXRhZGF0YS5yZXZfdHJlZVswXSwgcmV2TGltaXQpO1xuICAgICAgICBjdXJyZW50RG9jLm1ldGFkYXRhLnJldl90cmVlID0gbWVyZ2VkLnRyZWU7XG4gICAgICAgIGN1cnJlbnREb2Muc3RlbW1lZFJldnMgPSBtZXJnZWQuc3RlbW1lZFJldnMgfHwgW107XG4gICAgICAgIGluc2VydERvYyhjdXJyZW50RG9jLCByZXN1bHRzSWR4LCBkb2NXcml0dGVuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbmV4dERvYygpO1xuICB9KTtcbn1cblxuLy8gSW5kZXhlZERCIHJlcXVpcmVzIGEgdmVyc2lvbmVkIGRhdGFiYXNlIHN0cnVjdHVyZSwgc28gd2UgdXNlIHRoZVxuLy8gdmVyc2lvbiBoZXJlIHRvIG1hbmFnZSBtaWdyYXRpb25zLlxudmFyIEFEQVBURVJfVkVSU0lPTiA9IDU7XG5cbi8vIFRoZSBvYmplY3Qgc3RvcmVzIGNyZWF0ZWQgZm9yIGVhY2ggZGF0YWJhc2Vcbi8vIERPQ19TVE9SRSBzdG9yZXMgdGhlIGRvY3VtZW50IG1ldGEgZGF0YSwgaXRzIHJldmlzaW9uIGhpc3RvcnkgYW5kIHN0YXRlXG4vLyBLZXllZCBieSBkb2N1bWVudCBpZFxudmFyIERPQ19TVE9SRSA9ICdkb2N1bWVudC1zdG9yZSc7XG4vLyBCWV9TRVFfU1RPUkUgc3RvcmVzIGEgcGFydGljdWxhciB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQsIGtleWVkIGJ5IGl0c1xuLy8gc2VxdWVuY2UgaWRcbnZhciBCWV9TRVFfU1RPUkUgPSAnYnktc2VxdWVuY2UnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgYXR0YWNobWVudHNcbnZhciBBVFRBQ0hfU1RPUkUgPSAnYXR0YWNoLXN0b3JlJztcbi8vIFdoZXJlIHdlIHN0b3JlIG1hbnktdG8tbWFueSByZWxhdGlvbnNcbi8vIGJldHdlZW4gYXR0YWNobWVudCBkaWdlc3RzIGFuZCBzZXFzXG52YXIgQVRUQUNIX0FORF9TRVFfU1RPUkUgPSAnYXR0YWNoLXNlcS1zdG9yZSc7XG5cbi8vIFdoZXJlIHdlIHN0b3JlIGRhdGFiYXNlLXdpZGUgbWV0YSBkYXRhIGluIGEgc2luZ2xlIHJlY29yZFxuLy8ga2V5ZWQgYnkgaWQ6IE1FVEFfU1RPUkVcbnZhciBNRVRBX1NUT1JFID0gJ21ldGEtc3RvcmUnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgbG9jYWwgZG9jdW1lbnRzXG52YXIgTE9DQUxfU1RPUkUgPSAnbG9jYWwtc3RvcmUnO1xuLy8gV2hlcmUgd2UgZGV0ZWN0IGJsb2Igc3VwcG9ydFxudmFyIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUgPSAnZGV0ZWN0LWJsb2Itc3VwcG9ydCc7XG5cbmZ1bmN0aW9uIHNhZmVKc29uUGFyc2Uoc3RyKSB7XG4gIC8vIFRoaXMgdHJ5L2NhdGNoIGd1YXJkcyBhZ2FpbnN0IHN0YWNrIG92ZXJmbG93IGVycm9ycy5cbiAgLy8gSlNPTi5wYXJzZSgpIGlzIGZhc3RlciB0aGFuIHZ1dnV6ZWxhLnBhcnNlKCkgYnV0IHZ1dnV6ZWxhXG4gIC8vIGNhbm5vdCBvdmVyZmxvdy5cbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdnV2dXplbGEucGFyc2Uoc3RyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzYWZlSnNvblN0cmluZ2lmeShqc29uKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGpzb24pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdnV2dXplbGEuc3RyaW5naWZ5KGpzb24pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlkYkVycm9yKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAndW5rbm93bl9lcnJvcic7XG4gICAgaWYgKGV2dC50YXJnZXQgJiYgZXZ0LnRhcmdldC5lcnJvcikge1xuICAgICAgbWVzc2FnZSA9IGV2dC50YXJnZXQuZXJyb3IubmFtZSB8fCBldnQudGFyZ2V0LmVycm9yLm1lc3NhZ2U7XG4gICAgfVxuICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUiwgbWVzc2FnZSwgZXZ0LnR5cGUpKTtcbiAgfTtcbn1cblxuLy8gVW5mb3J0dW5hdGVseSwgdGhlIG1ldGFkYXRhIGhhcyB0byBiZSBzdHJpbmdpZmllZFxuLy8gd2hlbiBpdCBpcyBwdXQgaW50byB0aGUgZGF0YWJhc2UsIGJlY2F1c2Ugb3RoZXJ3aXNlXG4vLyBJbmRleGVkREIgY2FuIHRocm93IGVycm9ycyBmb3IgZGVlcGx5LW5lc3RlZCBvYmplY3RzLlxuLy8gT3JpZ2luYWxseSB3ZSBqdXN0IHVzZWQgSlNPTi5wYXJzZS9KU09OLnN0cmluZ2lmeTsgbm93XG4vLyB3ZSB1c2UgdGhpcyBjdXN0b20gdnV2dXplbGEgbGlicmFyeSB0aGF0IGF2b2lkcyByZWN1cnNpb24uXG4vLyBJZiB3ZSBjb3VsZCBkbyBpdCBhbGwgb3ZlciBhZ2Fpbiwgd2UnZCBwcm9iYWJseSB1c2UgYVxuLy8gZm9ybWF0IGZvciB0aGUgcmV2aXNpb24gdHJlZXMgb3RoZXIgdGhhbiBKU09OLlxuZnVuY3Rpb24gZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYsIGRlbGV0ZWQpIHtcbiAgcmV0dXJuIHtcbiAgICBkYXRhOiBzYWZlSnNvblN0cmluZ2lmeShtZXRhZGF0YSksXG4gICAgd2lubmluZ1Jldjogd2lubmluZ1JldixcbiAgICBkZWxldGVkT3JMb2NhbDogZGVsZXRlZCA/ICcxJyA6ICcwJyxcbiAgICBzZXE6IG1ldGFkYXRhLnNlcSwgLy8gaGlnaGVzdCBzZXEgZm9yIHRoaXMgZG9jXG4gICAgaWQ6IG1ldGFkYXRhLmlkXG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlY29kZU1ldGFkYXRhKHN0b3JlZE9iamVjdCkge1xuICBpZiAoIXN0b3JlZE9iamVjdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBtZXRhZGF0YSA9IHNhZmVKc29uUGFyc2Uoc3RvcmVkT2JqZWN0LmRhdGEpO1xuICBtZXRhZGF0YS53aW5uaW5nUmV2ID0gc3RvcmVkT2JqZWN0Lndpbm5pbmdSZXY7XG4gIG1ldGFkYXRhLmRlbGV0ZWQgPSBzdG9yZWRPYmplY3QuZGVsZXRlZE9yTG9jYWwgPT09ICcxJztcbiAgbWV0YWRhdGEuc2VxID0gc3RvcmVkT2JqZWN0LnNlcTtcbiAgcmV0dXJuIG1ldGFkYXRhO1xufVxuXG4vLyByZWFkIHRoZSBkb2MgYmFjayBvdXQgZnJvbSB0aGUgZGF0YWJhc2UuIHdlIGRvbid0IHN0b3JlIHRoZVxuLy8gX2lkIG9yIF9yZXYgYmVjYXVzZSB3ZSBhbHJlYWR5IGhhdmUgX2RvY19pZF9yZXYuXG5mdW5jdGlvbiBkZWNvZGVEb2MoZG9jKSB7XG4gIGlmICghZG9jKSB7XG4gICAgcmV0dXJuIGRvYztcbiAgfVxuICB2YXIgaWR4ID0gZG9jLl9kb2NfaWRfcmV2Lmxhc3RJbmRleE9mKCc6Jyk7XG4gIGRvYy5faWQgPSBkb2MuX2RvY19pZF9yZXYuc3Vic3RyaW5nKDAsIGlkeCAtIDEpO1xuICBkb2MuX3JldiA9IGRvYy5fZG9jX2lkX3Jldi5zdWJzdHJpbmcoaWR4ICsgMSk7XG4gIGRlbGV0ZSBkb2MuX2RvY19pZF9yZXY7XG4gIHJldHVybiBkb2M7XG59XG5cbi8vIFJlYWQgYSBibG9iIGZyb20gdGhlIGRhdGFiYXNlLCBlbmNvZGluZyBhcyBuZWNlc3Nhcnlcbi8vIGFuZCB0cmFuc2xhdGluZyBmcm9tIGJhc2U2NCBpZiB0aGUgSURCIGRvZXNuJ3Qgc3VwcG9ydFxuLy8gbmF0aXZlIEJsb2JzXG5mdW5jdGlvbiByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgYXNCbG9iLCBjYWxsYmFjaykge1xuICBpZiAoYXNCbG9iKSB7XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICBjYWxsYmFjayhjcmVhdGVCbG9iKFsnJ10sIHt0eXBlOiB0eXBlfSkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgIT09ICdzdHJpbmcnKSB7IC8vIHdlIGhhdmUgYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhib2R5KTtcbiAgICB9IGVsc2UgeyAvLyBubyBibG9iIHN1cHBvcnRcbiAgICAgIGNhbGxiYWNrKGI2NFRvQmx1ZmZlcihib2R5LCB0eXBlKSk7XG4gICAgfVxuICB9IGVsc2UgeyAvLyBhcyBiYXNlNjQgc3RyaW5nXG4gICAgaWYgKCFib2R5KSB7XG4gICAgICBjYWxsYmFjaygnJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSAhPT0gJ3N0cmluZycpIHsgLy8gd2UgaGF2ZSBibG9iIHN1cHBvcnRcbiAgICAgIHJlYWRBc0JpbmFyeVN0cmluZyhib2R5LCBmdW5jdGlvbiAoYmluYXJ5KSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXNCdG9hKGJpbmFyeSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHsgLy8gbm8gYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhib2R5KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5KGRvYywgb3B0cywgdHhuLCBjYikge1xuICB2YXIgYXR0YWNobWVudHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzIHx8IHt9KTtcbiAgaWYgKCFhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2IgJiYgY2IoKTtcbiAgfVxuICB2YXIgbnVtRG9uZSA9IDA7XG5cbiAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgIGlmICgrK251bURvbmUgPT09IGF0dGFjaG1lbnRzLmxlbmd0aCAmJiBjYikge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnQoZG9jLCBhdHQpIHtcbiAgICB2YXIgYXR0T2JqID0gZG9jLl9hdHRhY2htZW50c1thdHRdO1xuICAgIHZhciBkaWdlc3QgPSBhdHRPYmouZGlnZXN0O1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKS5nZXQoZGlnZXN0KTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGF0dE9iai5ib2R5ID0gZS50YXJnZXQucmVzdWx0LmJvZHk7XG4gICAgICBjaGVja0RvbmUoKTtcbiAgICB9O1xuICB9XG5cbiAgYXR0YWNobWVudHMuZm9yRWFjaChmdW5jdGlvbiAoYXR0KSB7XG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIGZldGNoQXR0YWNobWVudChkb2MsIGF0dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5fYXR0YWNobWVudHNbYXR0XS5zdHViID0gdHJ1ZTtcbiAgICAgIGNoZWNrRG9uZSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIElEQi1zcGVjaWZpYyBwb3N0cHJvY2Vzc2luZyBuZWNlc3NhcnkgYmVjYXVzZVxuLy8gd2UgZG9uJ3Qga25vdyB3aGV0aGVyIHdlIHN0b3JlZCBhIHRydWUgQmxvYiBvclxuLy8gYSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcsIGFuZCBpZiBpdCdzIGEgQmxvYiBpdFxuLy8gbmVlZHMgdG8gYmUgcmVhZCBvdXRzaWRlIG9mIHRoZSB0cmFuc2FjdGlvbiBjb250ZXh0XG5mdW5jdGlvbiBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMsIGFzQmxvYikge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cy5tYXAoZnVuY3Rpb24gKHJvdykge1xuICAgIGlmIChyb3cuZG9jICYmIHJvdy5kb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICB2YXIgYXR0TmFtZXMgPSBPYmplY3Qua2V5cyhyb3cuZG9jLl9hdHRhY2htZW50cyk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYXR0TmFtZXMubWFwKGZ1bmN0aW9uIChhdHQpIHtcbiAgICAgICAgdmFyIGF0dE9iaiA9IHJvdy5kb2MuX2F0dGFjaG1lbnRzW2F0dF07XG4gICAgICAgIGlmICghKCdib2R5JyBpbiBhdHRPYmopKSB7IC8vIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib2R5ID0gYXR0T2JqLmJvZHk7XG4gICAgICAgIHZhciB0eXBlID0gYXR0T2JqLmNvbnRlbnRfdHlwZTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmVhZEJsb2JEYXRhKGJvZHksIHR5cGUsIGFzQmxvYiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJvdy5kb2MuX2F0dGFjaG1lbnRzW2F0dF0gPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oXG4gICAgICAgICAgICAgIHBpY2soYXR0T2JqLCBbJ2RpZ2VzdCcsICdjb250ZW50X3R5cGUnXSksXG4gICAgICAgICAgICAgIHtkYXRhOiBkYXRhfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhY3RSZXZzKHJldnMsIGRvY0lkLCB0eG4pIHtcblxuICB2YXIgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMgPSBbXTtcbiAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gIHZhciBhdHRTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpO1xuICB2YXIgYXR0QW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuICB2YXIgY291bnQgPSByZXZzLmxlbmd0aDtcblxuICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgY291bnQtLTtcbiAgICBpZiAoIWNvdW50KSB7IC8vIGRvbmUgcHJvY2Vzc2luZyBhbGwgcmV2c1xuICAgICAgZGVsZXRlT3JwaGFuZWRBdHRhY2htZW50cygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZU9ycGhhbmVkQXR0YWNobWVudHMoKSB7XG4gICAgaWYgKCFwb3NzaWJseU9ycGhhbmVkRGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMuZm9yRWFjaChmdW5jdGlvbiAoZGlnZXN0KSB7XG4gICAgICB2YXIgY291bnRSZXEgPSBhdHRBbmRTZXFTdG9yZS5pbmRleCgnZGlnZXN0U2VxJykuY291bnQoXG4gICAgICAgIElEQktleVJhbmdlLmJvdW5kKFxuICAgICAgICAgIGRpZ2VzdCArICc6OicsIGRpZ2VzdCArICc6OlxcdWZmZmYnLCBmYWxzZSwgZmFsc2UpKTtcbiAgICAgIGNvdW50UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjb3VudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICAgIC8vIG9ycGhhbmVkXG4gICAgICAgICAgYXR0U3RvcmUuZGVsZXRlKGRpZ2VzdCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICByZXZzLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgIHZhciBpbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgIHZhciBrZXkgPSBkb2NJZCArIFwiOjpcIiArIHJldjtcbiAgICBpbmRleC5nZXRLZXkoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHNlcSA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2Ygc2VxICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gY2hlY2tEb25lKCk7XG4gICAgICB9XG4gICAgICBzZXFTdG9yZS5kZWxldGUoc2VxKTtcblxuICAgICAgdmFyIGN1cnNvciA9IGF0dEFuZFNlcVN0b3JlLmluZGV4KCdzZXEnKVxuICAgICAgICAub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KHNlcSkpO1xuXG4gICAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgdmFyIGRpZ2VzdCA9IGN1cnNvci52YWx1ZS5kaWdlc3RTZXEuc3BsaXQoJzo6JylbMF07XG4gICAgICAgICAgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMucHVzaChkaWdlc3QpO1xuICAgICAgICAgIGF0dEFuZFNlcVN0b3JlLmRlbGV0ZShjdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH0gZWxzZSB7IC8vIGRvbmVcbiAgICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCBtb2RlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR4bjogaWRiLnRyYW5zYWN0aW9uKHN0b3JlcywgbW9kZSlcbiAgICB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IGVyclxuICAgIH07XG4gIH1cbn1cblxudmFyIGNoYW5nZXNIYW5kbGVyID0gbmV3IENoYW5nZXMoKTtcblxuZnVuY3Rpb24gaWRiQnVsa0RvY3MoZGJPcHRzLCByZXEsIG9wdHMsIGFwaSwgaWRiLCBjYWxsYmFjaykge1xuICB2YXIgZG9jSW5mb3MgPSByZXEuZG9jcztcbiAgdmFyIHR4bjtcbiAgdmFyIGRvY1N0b3JlO1xuICB2YXIgYnlTZXFTdG9yZTtcbiAgdmFyIGF0dGFjaFN0b3JlO1xuICB2YXIgYXR0YWNoQW5kU2VxU3RvcmU7XG4gIHZhciBtZXRhU3RvcmU7XG4gIHZhciBkb2NJbmZvRXJyb3I7XG4gIHZhciBtZXRhRG9jO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkb2NJbmZvcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBkb2MgPSBkb2NJbmZvc1tpXTtcbiAgICBpZiAoZG9jLl9pZCAmJiBpc0xvY2FsSWQoZG9jLl9pZCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBkb2MgPSBkb2NJbmZvc1tpXSA9IHBhcnNlRG9jKGRvYywgb3B0cy5uZXdfZWRpdHMsIGRiT3B0cyk7XG4gICAgaWYgKGRvYy5lcnJvciAmJiAhZG9jSW5mb0Vycm9yKSB7XG4gICAgICBkb2NJbmZvRXJyb3IgPSBkb2M7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRvY0luZm9FcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayhkb2NJbmZvRXJyb3IpO1xuICB9XG5cbiAgdmFyIGFsbERvY3NQcm9jZXNzZWQgPSBmYWxzZTtcbiAgdmFyIGRvY0NvdW50RGVsdGEgPSAwO1xuICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShkb2NJbmZvcy5sZW5ndGgpO1xuICB2YXIgZmV0Y2hlZERvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgdmFyIHByZWNvbmRpdGlvbkVycm9yZWQgPSBmYWxzZTtcbiAgdmFyIGJsb2JUeXBlID0gYXBpLl9tZXRhLmJsb2JTdXBwb3J0ID8gJ2Jsb2InIDogJ2Jhc2U2NCc7XG5cbiAgcHJlcHJvY2Vzc0F0dGFjaG1lbnRzKGRvY0luZm9zLCBibG9iVHlwZSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICBzdGFydFRyYW5zYWN0aW9uKCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHN0YXJ0VHJhbnNhY3Rpb24oKSB7XG5cbiAgICB2YXIgc3RvcmVzID0gW1xuICAgICAgRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsXG4gICAgICBBVFRBQ0hfU1RPUkUsXG4gICAgICBMT0NBTF9TVE9SRSwgQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICBNRVRBX1NUT1JFXG4gICAgXTtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCAncmVhZHdyaXRlJyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgdHhuLm9udGltZW91dCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICB0eG4ub25jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgYnlTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgIGF0dGFjaFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSk7XG4gICAgYXR0YWNoQW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuICAgIG1ldGFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKTtcblxuICAgIG1ldGFTdG9yZS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFEb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcbiAgICB9O1xuXG4gICAgdmVyaWZ5QXR0YWNobWVudHMoZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwcmVjb25kaXRpb25FcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBmZXRjaEV4aXN0aW5nRG9jcygpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25BbGxEb2NzUHJvY2Vzc2VkKCkge1xuICAgIGFsbERvY3NQcm9jZXNzZWQgPSB0cnVlO1xuICAgIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaWRiUHJvY2Vzc0RvY3MoKSB7XG4gICAgcHJvY2Vzc0RvY3MoZGJPcHRzLnJldnNfbGltaXQsIGRvY0luZm9zLCBhcGksIGZldGNoZWREb2NzLFxuICAgICAgICAgICAgICAgIHR4biwgcmVzdWx0cywgd3JpdGVEb2MsIG9wdHMsIG9uQWxsRG9jc1Byb2Nlc3NlZCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVEb2NDb3VudElmUmVhZHkoKSB7XG4gICAgaWYgKCFtZXRhRG9jIHx8ICFhbGxEb2NzUHJvY2Vzc2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGNhY2hpbmcgdGhlIGRvY0NvdW50IHNhdmVzIGEgbG90IG9mIHRpbWUgaW4gYWxsRG9jcygpIGFuZFxuICAgIC8vIGluZm8oKSwgd2hpY2ggaXMgd2h5IHdlIGdvIHRvIGFsbCB0aGUgdHJvdWJsZSBvZiBkb2luZyB0aGlzXG4gICAgbWV0YURvYy5kb2NDb3VudCArPSBkb2NDb3VudERlbHRhO1xuICAgIG1ldGFTdG9yZS5wdXQobWV0YURvYyk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEV4aXN0aW5nRG9jcygpIHtcblxuICAgIGlmICghZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG51bUZldGNoZWQgPSAwO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgICAgaWYgKCsrbnVtRmV0Y2hlZCA9PT0gZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgICAgIGlkYlByb2Nlc3NEb2NzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVhZE1ldGFkYXRhKGV2ZW50KSB7XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShldmVudC50YXJnZXQucmVzdWx0KTtcblxuICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgIGZldGNoZWREb2NzLnNldChtZXRhZGF0YS5pZCwgbWV0YWRhdGEpO1xuICAgICAgfVxuICAgICAgY2hlY2tEb25lKCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRvY0luZm9zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZG9jSW5mbyA9IGRvY0luZm9zW2ldO1xuICAgICAgaWYgKGRvY0luZm8uX2lkICYmIGlzTG9jYWxJZChkb2NJbmZvLl9pZCkpIHtcbiAgICAgICAgY2hlY2tEb25lKCk7IC8vIHNraXAgbG9jYWwgZG9jc1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXEgPSBkb2NTdG9yZS5nZXQoZG9jSW5mby5tZXRhZGF0YS5pZCk7XG4gICAgICByZXEub25zdWNjZXNzID0gcmVhZE1ldGFkYXRhO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgIGlmIChwcmVjb25kaXRpb25FcnJvcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2hhbmdlc0hhbmRsZXIubm90aWZ5KGFwaS5fbWV0YS5uYW1lKTtcbiAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZlcmlmeUF0dGFjaG1lbnQoZGlnZXN0LCBjYWxsYmFjaykge1xuXG4gICAgdmFyIHJlcSA9IGF0dGFjaFN0b3JlLmdldChkaWdlc3QpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFlLnRhcmdldC5yZXN1bHQpIHtcbiAgICAgICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfU1RVQixcbiAgICAgICAgICAndW5rbm93biBzdHViIGF0dGFjaG1lbnQgd2l0aCBkaWdlc3QgJyArXG4gICAgICAgICAgZGlnZXN0KTtcbiAgICAgICAgZXJyLnN0YXR1cyA9IDQxMjtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZlcmlmeUF0dGFjaG1lbnRzKGZpbmlzaCkge1xuXG5cbiAgICB2YXIgZGlnZXN0cyA9IFtdO1xuICAgIGRvY0luZm9zLmZvckVhY2goZnVuY3Rpb24gKGRvY0luZm8pIHtcbiAgICAgIGlmIChkb2NJbmZvLmRhdGEgJiYgZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykge1xuICAgICAgICBPYmplY3Qua2V5cyhkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICAgIHZhciBhdHQgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXTtcbiAgICAgICAgICBpZiAoYXR0LnN0dWIpIHtcbiAgICAgICAgICAgIGRpZ2VzdHMucHVzaChhdHQuZGlnZXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghZGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICB9XG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIHZhciBlcnI7XG5cbiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgICBpZiAoKytudW1Eb25lID09PSBkaWdlc3RzLmxlbmd0aCkge1xuICAgICAgICBmaW5pc2goZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZGlnZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChkaWdlc3QpIHtcbiAgICAgIHZlcmlmeUF0dGFjaG1lbnQoZGlnZXN0LCBmdW5jdGlvbiAoYXR0RXJyKSB7XG4gICAgICAgIGlmIChhdHRFcnIgJiYgIWVycikge1xuICAgICAgICAgIGVyciA9IGF0dEVycjtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCwgbmV3UmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZSwgZGVsdGEsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cbiAgICBkb2NJbmZvLm1ldGFkYXRhLndpbm5pbmdSZXYgPSB3aW5uaW5nUmV2JCQxO1xuICAgIGRvY0luZm8ubWV0YWRhdGEuZGVsZXRlZCA9IHdpbm5pbmdSZXZJc0RlbGV0ZWQ7XG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuICAgIGRvYy5faWQgPSBkb2NJbmZvLm1ldGFkYXRhLmlkO1xuICAgIGRvYy5fcmV2ID0gZG9jSW5mby5tZXRhZGF0YS5yZXY7XG5cbiAgICBpZiAobmV3UmV2SXNEZWxldGVkKSB7XG4gICAgICBkb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBoYXNBdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHMgJiZcbiAgICAgIE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLmxlbmd0aDtcbiAgICBpZiAoaGFzQXR0YWNobWVudHMpIHtcbiAgICAgIHJldHVybiB3cml0ZUF0dGFjaG1lbnRzKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZG9jQ291bnREZWx0YSArPSBkZWx0YTtcbiAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcblxuICAgIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuICAgIHZhciBtZXRhZGF0YSA9IGRvY0luZm8ubWV0YWRhdGE7XG5cbiAgICBkb2MuX2RvY19pZF9yZXYgPSBtZXRhZGF0YS5pZCArICc6OicgKyBtZXRhZGF0YS5yZXY7XG4gICAgZGVsZXRlIGRvYy5faWQ7XG4gICAgZGVsZXRlIGRvYy5fcmV2O1xuXG4gICAgZnVuY3Rpb24gYWZ0ZXJQdXREb2MoZSkge1xuICAgICAgdmFyIHJldnNUb0RlbGV0ZSA9IGRvY0luZm8uc3RlbW1lZFJldnMgfHwgW107XG5cbiAgICAgIGlmIChpc1VwZGF0ZSAmJiBhcGkuYXV0b19jb21wYWN0aW9uKSB7XG4gICAgICAgIHJldnNUb0RlbGV0ZSA9IHJldnNUb0RlbGV0ZS5jb25jYXQoY29tcGFjdFRyZWUoZG9jSW5mby5tZXRhZGF0YSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmV2c1RvRGVsZXRlICYmIHJldnNUb0RlbGV0ZS5sZW5ndGgpIHtcbiAgICAgICAgY29tcGFjdFJldnMocmV2c1RvRGVsZXRlLCBkb2NJbmZvLm1ldGFkYXRhLmlkLCB0eG4pO1xuICAgICAgfVxuXG4gICAgICBtZXRhZGF0YS5zZXEgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAvLyBDdXJyZW50IF9yZXYgaXMgY2FsY3VsYXRlZCBmcm9tIF9yZXZfdHJlZSBvbiByZWFkXG4gICAgICAvLyBkZWxldGUgbWV0YWRhdGEucmV2O1xuICAgICAgdmFyIG1ldGFkYXRhVG9TdG9yZSA9IGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxLFxuICAgICAgICB3aW5uaW5nUmV2SXNEZWxldGVkKTtcbiAgICAgIHZhciBtZXRhRGF0YVJlcSA9IGRvY1N0b3JlLnB1dChtZXRhZGF0YVRvU3RvcmUpO1xuICAgICAgbWV0YURhdGFSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXRNZXRhZGF0YTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dERvY0Vycm9yKGUpIHtcbiAgICAgIC8vIENvbnN0cmFpbnRFcnJvciwgbmVlZCB0byB1cGRhdGUsIG5vdCBwdXQgKHNlZSAjMTYzOCBmb3IgZGV0YWlscylcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gYWJvcnRcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgIHZhciBpbmRleCA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gICAgICB2YXIgZ2V0S2V5UmVxID0gaW5kZXguZ2V0S2V5KGRvYy5fZG9jX2lkX3Jldik7XG4gICAgICBnZXRLZXlSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHB1dFJlcSA9IGJ5U2VxU3RvcmUucHV0KGRvYywgZS50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgcHV0UmVxLm9uc3VjY2VzcyA9IGFmdGVyUHV0RG9jO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dE1ldGFkYXRhKCkge1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICAgICAgcmV2OiBtZXRhZGF0YS5yZXZcbiAgICAgIH07XG4gICAgICBmZXRjaGVkRG9jcy5zZXQoZG9jSW5mby5tZXRhZGF0YS5pZCwgZG9jSW5mby5tZXRhZGF0YSk7XG4gICAgICBpbnNlcnRBdHRhY2htZW50TWFwcGluZ3MoZG9jSW5mbywgbWV0YWRhdGEuc2VxLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdmFyIHB1dFJlcSA9IGJ5U2VxU3RvcmUucHV0KGRvYyk7XG5cbiAgICBwdXRSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXREb2M7XG4gICAgcHV0UmVxLm9uZXJyb3IgPSBhZnRlclB1dERvY0Vycm9yO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVBdHRhY2htZW50cyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuXG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuXG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIHZhciBhdHRhY2htZW50cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuXG4gICAgZnVuY3Rpb24gY29sbGVjdFJlc3VsdHMoKSB7XG4gICAgICBpZiAobnVtRG9uZSA9PT0gYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR0YWNobWVudFNhdmVkKCkge1xuICAgICAgbnVtRG9uZSsrO1xuICAgICAgY29sbGVjdFJlc3VsdHMoKTtcbiAgICB9XG5cbiAgICBhdHRhY2htZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBhdHQgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2tleV07XG4gICAgICBpZiAoIWF0dC5zdHViKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXR0LmRhdGE7XG4gICAgICAgIGRlbGV0ZSBhdHQuZGF0YTtcbiAgICAgICAgYXR0LnJldnBvcyA9IHBhcnNlSW50KHdpbm5pbmdSZXYkJDEsIDEwKTtcbiAgICAgICAgdmFyIGRpZ2VzdCA9IGF0dC5kaWdlc3Q7XG4gICAgICAgIHNhdmVBdHRhY2htZW50KGRpZ2VzdCwgZGF0YSwgYXR0YWNobWVudFNhdmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG51bURvbmUrKztcbiAgICAgICAgY29sbGVjdFJlc3VsdHMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIG1hcCBzZXFzIHRvIGF0dGFjaG1lbnQgZGlnZXN0cywgd2hpY2hcbiAgLy8gd2Ugd2lsbCBuZWVkIGxhdGVyIGR1cmluZyBjb21wYWN0aW9uXG4gIGZ1bmN0aW9uIGluc2VydEF0dGFjaG1lbnRNYXBwaW5ncyhkb2NJbmZvLCBzZXEsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgYXR0c0FkZGVkID0gMDtcbiAgICB2YXIgYXR0c1RvQWRkID0gT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cyB8fCB7fSk7XG5cbiAgICBpZiAoIWF0dHNUb0FkZC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICAgIGlmICgrK2F0dHNBZGRlZCA9PT0gYXR0c1RvQWRkLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZChhdHQpIHtcbiAgICAgIHZhciBkaWdlc3QgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2F0dF0uZGlnZXN0O1xuICAgICAgdmFyIHJlcSA9IGF0dGFjaEFuZFNlcVN0b3JlLnB1dCh7XG4gICAgICAgIHNlcTogc2VxLFxuICAgICAgICBkaWdlc3RTZXE6IGRpZ2VzdCArICc6OicgKyBzZXFcbiAgICAgIH0pO1xuXG4gICAgICByZXEub25zdWNjZXNzID0gY2hlY2tEb25lO1xuICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyB0aGlzIGNhbGxiYWNrIGlzIGZvciBhIGNvbnN0YWludCBlcnJvciwgd2hpY2ggd2UgaWdub3JlXG4gICAgICAgIC8vIGJlY2F1c2UgdGhpcyBkb2NpZC9yZXYgaGFzIGFscmVhZHkgYmVlbiBhc3NvY2lhdGVkIHdpdGhcbiAgICAgICAgLy8gdGhlIGRpZ2VzdCAoZS5nLiB3aGVuIG5ld19lZGl0cyA9PSBmYWxzZSlcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBhYm9ydFxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBvbmVycm9yXG4gICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgfTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRzVG9BZGQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFkZChhdHRzVG9BZGRbaV0pOyAvLyBkbyBpbiBwYXJhbGxlbFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNhdmVBdHRhY2htZW50KGRpZ2VzdCwgZGF0YSwgY2FsbGJhY2spIHtcblxuXG4gICAgdmFyIGdldEtleVJlcSA9IGF0dGFjaFN0b3JlLmNvdW50KGRpZ2VzdCk7XG4gICAgZ2V0S2V5UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY291bnQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGFscmVhZHkgZXhpc3RzXG4gICAgICB9XG4gICAgICB2YXIgbmV3QXR0ID0ge1xuICAgICAgICBkaWdlc3Q6IGRpZ2VzdCxcbiAgICAgICAgYm9keTogZGF0YVxuICAgICAgfTtcbiAgICAgIHZhciBwdXRSZXEgPSBhdHRhY2hTdG9yZS5wdXQobmV3QXR0KTtcbiAgICAgIHB1dFJlcS5vbnN1Y2Nlc3MgPSBjYWxsYmFjaztcbiAgICB9O1xuICB9XG59XG5cbi8vIEFic3RyYWN0aW9uIG92ZXIgSURCQ3Vyc29yIGFuZCBnZXRBbGwoKS9nZXRBbGxLZXlzKCkgdGhhdCBhbGxvd3MgdXMgdG8gYmF0Y2ggb3VyIG9wZXJhdGlvbnNcbi8vIHdoaWxlIGZhbGxpbmcgYmFjayB0byBhIG5vcm1hbCBJREJDdXJzb3Igb3BlcmF0aW9uIG9uIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBnZXRBbGwoKSBvclxuLy8gZ2V0QWxsS2V5cygpLiBUaGlzIGFsbG93cyBmb3IgYSBtdWNoIGZhc3RlciBpbXBsZW1lbnRhdGlvbiB0aGFuIGp1c3Qgc3RyYWlnaHQtdXAgY3Vyc29ycywgYmVjYXVzZVxuLy8gd2UncmUgbm90IHByb2Nlc3NpbmcgZWFjaCBkb2N1bWVudCBvbmUtYXQtYS10aW1lLlxuZnVuY3Rpb24gcnVuQmF0Y2hlZEN1cnNvcihvYmplY3RTdG9yZSwga2V5UmFuZ2UsIGRlc2NlbmRpbmcsIGJhdGNoU2l6ZSwgb25CYXRjaCkge1xuXG4gIGlmIChiYXRjaFNpemUgPT09IC0xKSB7XG4gICAgYmF0Y2hTaXplID0gMTAwMDtcbiAgfVxuXG4gIC8vIEJhaWwgb3V0IG9mIGdldEFsbCgpL2dldEFsbEtleXMoKSBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuICAvLyAxKSBlaXRoZXIgbWV0aG9kIGlzIHVuc3VwcG9ydGVkIC0gd2UgbmVlZCBib3RoXG4gIC8vIDIpIGJhdGNoU2l6ZSBpcyAxIChtaWdodCBhcyB3ZWxsIHVzZSBJREJDdXJzb3IpXG4gIC8vIDMpIGRlc2NlbmRpbmcg4oCTIG5vIHJlYWwgd2F5IHRvIGRvIHRoaXMgdmlhIGdldEFsbCgpL2dldEFsbEtleXMoKVxuXG4gIHZhciB1c2VHZXRBbGwgPSB0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsID09PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIG9iamVjdFN0b3JlLmdldEFsbEtleXMgPT09ICdmdW5jdGlvbicgJiZcbiAgICBiYXRjaFNpemUgPiAxICYmICFkZXNjZW5kaW5nO1xuXG4gIHZhciBrZXlzQmF0Y2g7XG4gIHZhciB2YWx1ZXNCYXRjaDtcbiAgdmFyIHBzZXVkb0N1cnNvcjtcblxuICBmdW5jdGlvbiBvbkdldEFsbChlKSB7XG4gICAgdmFsdWVzQmF0Y2ggPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGtleXNCYXRjaCkge1xuICAgICAgb25CYXRjaChrZXlzQmF0Y2gsIHZhbHVlc0JhdGNoLCBwc2V1ZG9DdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uR2V0QWxsS2V5cyhlKSB7XG4gICAga2V5c0JhdGNoID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmICh2YWx1ZXNCYXRjaCkge1xuICAgICAgb25CYXRjaChrZXlzQmF0Y2gsIHZhbHVlc0JhdGNoLCBwc2V1ZG9DdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnRpbnVlUHNldWRvQ3Vyc29yKCkge1xuICAgIGlmICgha2V5c0JhdGNoLmxlbmd0aCkgeyAvLyBubyBtb3JlIHJlc3VsdHNcbiAgICAgIHJldHVybiBvbkJhdGNoKCk7XG4gICAgfVxuICAgIC8vIGZldGNoIG5leHQgYmF0Y2gsIGV4Y2x1c2l2ZSBzdGFydFxuICAgIHZhciBsYXN0S2V5ID0ga2V5c0JhdGNoW2tleXNCYXRjaC5sZW5ndGggLSAxXTtcbiAgICB2YXIgbmV3S2V5UmFuZ2U7XG4gICAgaWYgKGtleVJhbmdlICYmIGtleVJhbmdlLnVwcGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXdLZXlSYW5nZSA9IElEQktleVJhbmdlLmJvdW5kKGxhc3RLZXksIGtleVJhbmdlLnVwcGVyLFxuICAgICAgICAgIHRydWUsIGtleVJhbmdlLnVwcGVyT3Blbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlLm5hbWUgPT09IFwiRGF0YUVycm9yXCIgJiYgZS5jb2RlID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQmF0Y2goKTsgLy8gd2UncmUgZG9uZSwgc3RhcnRrZXkgYW5kIGVuZGtleSBhcmUgZXF1YWxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdLZXlSYW5nZSA9IElEQktleVJhbmdlLmxvd2VyQm91bmQobGFzdEtleSwgdHJ1ZSk7XG4gICAgfVxuICAgIGtleVJhbmdlID0gbmV3S2V5UmFuZ2U7XG4gICAga2V5c0JhdGNoID0gbnVsbDtcbiAgICB2YWx1ZXNCYXRjaCA9IG51bGw7XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbEtleXMoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGxLZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gb25DdXJzb3IoZSkge1xuICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKCFjdXJzb3IpIHsgLy8gZG9uZVxuICAgICAgcmV0dXJuIG9uQmF0Y2goKTtcbiAgICB9XG4gICAgLy8gcmVndWxhciBJREJDdXJzb3IgYWN0cyBsaWtlIGEgYmF0Y2ggd2hlcmUgYmF0Y2ggc2l6ZSBpcyBhbHdheXMgMVxuICAgIG9uQmF0Y2goW2N1cnNvci5rZXldLCBbY3Vyc29yLnZhbHVlXSwgY3Vyc29yKTtcbiAgfVxuXG4gIGlmICh1c2VHZXRBbGwpIHtcbiAgICBwc2V1ZG9DdXJzb3IgPSB7XCJjb250aW51ZVwiOiBjb250aW51ZVBzZXVkb0N1cnNvcn07XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbEtleXMoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGxLZXlzO1xuICB9IGVsc2UgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlLCAncHJldicpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9IGVsc2Uge1xuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3Ioa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9XG59XG5cbi8vIHNpbXBsZSBzaGltIGZvciBvYmplY3RTdG9yZS5nZXRBbGwoKSwgZmFsbGluZyBiYWNrIHRvIElEQkN1cnNvclxuZnVuY3Rpb24gZ2V0QWxsKG9iamVjdFN0b3JlLCBrZXlSYW5nZSwgb25TdWNjZXNzKSB7XG4gIGlmICh0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gdXNlIG5hdGl2ZSBnZXRBbGxcbiAgICBvYmplY3RTdG9yZS5nZXRBbGwoa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uU3VjY2VzcztcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZmFsbCBiYWNrIHRvIGN1cnNvcnNcbiAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIG9uQ3Vyc29yKGUpIHtcbiAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChjdXJzb3IpIHtcbiAgICAgIHZhbHVlcy5wdXNoKGN1cnNvci52YWx1ZSk7XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25TdWNjZXNzKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgcmVzdWx0OiB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSkub25zdWNjZXNzID0gb25DdXJzb3I7XG59XG5cbmZ1bmN0aW9uIGFsbERvY3NLZXlzKGtleXMsIGRvY1N0b3JlLCBvbkJhdGNoKSB7XG4gIC8vIEl0J3Mgbm90IGd1YXJhbnRlZCB0byBiZSByZXR1cm5lZCBpbiByaWdodCBvcmRlciAgXG4gIHZhciB2YWx1ZXNCYXRjaCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gIHZhciBjb3VudCA9IDA7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgIGRvY1N0b3JlLmdldChrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5yZXN1bHQpIHtcbiAgICAgICAgdmFsdWVzQmF0Y2hbaW5kZXhdID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlc0JhdGNoW2luZGV4XSA9IHtrZXk6IGtleSwgZXJyb3I6ICdub3RfZm91bmQnfTtcbiAgICAgIH1cbiAgICAgIGNvdW50Kys7XG4gICAgICBpZiAoY291bnQgPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICAgIG9uQmF0Y2goa2V5cywgdmFsdWVzQmF0Y2gsIHt9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlS2V5UmFuZ2Uoc3RhcnQsIGVuZCwgaW5jbHVzaXZlRW5kLCBrZXksIGRlc2NlbmRpbmcpIHtcbiAgdHJ5IHtcbiAgICBpZiAoc3RhcnQgJiYgZW5kKSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UuYm91bmQoZW5kLCBzdGFydCwgIWluY2x1c2l2ZUVuZCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQsIGZhbHNlLCAhaW5jbHVzaXZlRW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UudXBwZXJCb3VuZChzdGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChzdGFydCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbmQpIHtcbiAgICAgIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5sb3dlckJvdW5kKGVuZCwgIWluY2x1c2l2ZUVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UudXBwZXJCb3VuZChlbmQsICFpbmNsdXNpdmVFbmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoa2V5KSB7XG4gICAgICByZXR1cm4gSURCS2V5UmFuZ2Uub25seShrZXkpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBpZGJBbGxEb2NzKG9wdHMsIGlkYiwgY2FsbGJhY2spIHtcbiAgdmFyIHN0YXJ0ID0gJ3N0YXJ0a2V5JyBpbiBvcHRzID8gb3B0cy5zdGFydGtleSA6IGZhbHNlO1xuICB2YXIgZW5kID0gJ2VuZGtleScgaW4gb3B0cyA/IG9wdHMuZW5ka2V5IDogZmFsc2U7XG4gIHZhciBrZXkgPSAna2V5JyBpbiBvcHRzID8gb3B0cy5rZXkgOiBmYWxzZTtcbiAgdmFyIGtleXMgPSAna2V5cycgaW4gb3B0cyA/IG9wdHMua2V5cyA6IGZhbHNlOyBcbiAgdmFyIHNraXAgPSBvcHRzLnNraXAgfHwgMDtcbiAgdmFyIGxpbWl0ID0gdHlwZW9mIG9wdHMubGltaXQgPT09ICdudW1iZXInID8gb3B0cy5saW1pdCA6IC0xO1xuICB2YXIgaW5jbHVzaXZlRW5kID0gb3B0cy5pbmNsdXNpdmVfZW5kICE9PSBmYWxzZTtcblxuICB2YXIga2V5UmFuZ2UgOyBcbiAgdmFyIGtleVJhbmdlRXJyb3I7XG4gIGlmICgha2V5cykge1xuICAgIGtleVJhbmdlID0gY3JlYXRlS2V5UmFuZ2Uoc3RhcnQsIGVuZCwgaW5jbHVzaXZlRW5kLCBrZXksIG9wdHMuZGVzY2VuZGluZyk7XG4gICAga2V5UmFuZ2VFcnJvciA9IGtleVJhbmdlICYmIGtleVJhbmdlLmVycm9yO1xuICAgIGlmIChrZXlSYW5nZUVycm9yICYmIFxuICAgICAgIShrZXlSYW5nZUVycm9yLm5hbWUgPT09IFwiRGF0YUVycm9yXCIgJiYga2V5UmFuZ2VFcnJvci5jb2RlID09PSAwKSkge1xuICAgICAgLy8gRGF0YUVycm9yIHdpdGggZXJyb3IgY29kZSAwIGluZGljYXRlcyBzdGFydCBpcyBsZXNzIHRoYW4gZW5kLCBzb1xuICAgICAgLy8gY2FuIGp1c3QgZG8gYW4gZW1wdHkgcXVlcnkuIEVsc2UgbmVlZCB0byB0aHJvd1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUixcbiAgICAgICAga2V5UmFuZ2VFcnJvci5uYW1lLCBrZXlSYW5nZUVycm9yLm1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgc3RvcmVzID0gW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFLCBNRVRBX1NUT1JFXTtcblxuICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgIHN0b3Jlcy5wdXNoKEFUVEFDSF9TVE9SRSk7XG4gIH1cbiAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWRvbmx5Jyk7XG4gIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgfVxuICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgdHhuLm9uY29tcGxldGUgPSBvblR4bkNvbXBsZXRlO1xuICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICB2YXIgbWV0YVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpO1xuICB2YXIgZG9jSWRSZXZJbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgZG9jQ291bnQ7XG4gIHZhciB1cGRhdGVTZXE7XG5cbiAgbWV0YVN0b3JlLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIGRvY0NvdW50ID0gZS50YXJnZXQucmVzdWx0LmRvY0NvdW50O1xuICB9O1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgZ2V0TWF4VXBkYXRlU2VxKHNlcVN0b3JlLCBmdW5jdGlvbiAoZSkgeyBcbiAgICAgIGlmIChlLnRhcmdldC5yZXN1bHQgJiYgZS50YXJnZXQucmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXBkYXRlU2VxID0gZS50YXJnZXQucmVzdWx0WzBdO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWF4VXBkYXRlU2VxKG9iamVjdFN0b3JlLCBvblN1Y2Nlc3MpIHtcbiAgICBmdW5jdGlvbiBvbkN1cnNvcihlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgdmFyIG1heEtleSA9IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjdXJzb3IgJiYgY3Vyc29yLmtleSkge1xuICAgICAgICBtYXhLZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgfSBcbiAgICAgIHJldHVybiBvblN1Y2Nlc3Moe1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICByZXN1bHQ6IFttYXhLZXldXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKG51bGwsICdwcmV2Jykub25zdWNjZXNzID0gb25DdXJzb3I7XG4gIH1cblxuICAvLyBpZiB0aGUgdXNlciBzcGVjaWZpZXMgaW5jbHVkZV9kb2NzPXRydWUsIHRoZW4gd2UgZG9uJ3RcbiAgLy8gd2FudCB0byBibG9jayB0aGUgbWFpbiBjdXJzb3Igd2hpbGUgd2UncmUgZmV0Y2hpbmcgdGhlIGRvY1xuICBmdW5jdGlvbiBmZXRjaERvY0FzeW5jaHJvbm91c2x5KG1ldGFkYXRhLCByb3csIHdpbm5pbmdSZXYkJDEpIHtcbiAgICB2YXIga2V5ID0gbWV0YWRhdGEuaWQgKyBcIjo6XCIgKyB3aW5uaW5nUmV2JCQxO1xuICAgIGRvY0lkUmV2SW5kZXguZ2V0KGtleSkub25zdWNjZXNzID0gIGZ1bmN0aW9uIG9uR2V0RG9jKGUpIHtcbiAgICAgIHJvdy5kb2MgPSBkZWNvZGVEb2MoZS50YXJnZXQucmVzdWx0KSB8fCB7fTtcbiAgICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgICB2YXIgY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICAgICAgcm93LmRvYy5fY29uZmxpY3RzID0gY29uZmxpY3RzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3Nhcnkocm93LmRvYywgb3B0cywgdHhuKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYWxsRG9jc0lubmVyKHdpbm5pbmdSZXYkJDEsIG1ldGFkYXRhKSB7XG4gICAgdmFyIHJvdyA9IHtcbiAgICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICAgIGtleTogbWV0YWRhdGEuaWQsXG4gICAgICB2YWx1ZToge1xuICAgICAgICByZXY6IHdpbm5pbmdSZXYkJDFcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBkZWxldGVkID0gbWV0YWRhdGEuZGVsZXRlZDtcbiAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgaWYgKGtleXMpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHJvdyk7XG4gICAgICAgIC8vIGRlbGV0ZWQgZG9jcyBhcmUgb2theSB3aXRoIFwia2V5c1wiIHJlcXVlc3RzXG4gICAgICAgIHJvdy52YWx1ZS5kZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgcm93LmRvYyA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChza2lwLS0gPD0gMCkge1xuICAgICAgcmVzdWx0cy5wdXNoKHJvdyk7XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgZmV0Y2hEb2NBc3luY2hyb25vdXNseShtZXRhZGF0YSwgcm93LCB3aW5uaW5nUmV2JCQxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQmF0Y2goYmF0Y2hWYWx1ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYmF0Y2hWYWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gbGltaXQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2YXIgYmF0Y2hWYWx1ZSA9IGJhdGNoVmFsdWVzW2ldO1xuICAgICAgaWYgKGJhdGNoVmFsdWUuZXJyb3IgJiYga2V5cykge1xuICAgICAgICAvLyBrZXkgd2FzIG5vdCBmb3VuZCB3aXRoIFwia2V5c1wiIHJlcXVlc3RzXG4gICAgICAgIHJlc3VsdHMucHVzaChiYXRjaFZhbHVlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShiYXRjaFZhbHVlKTtcbiAgICAgIHZhciB3aW5uaW5nUmV2JCQxID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgIGFsbERvY3NJbm5lcih3aW5uaW5nUmV2JCQxLCBtZXRhZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25CYXRjaChiYXRjaEtleXMsIGJhdGNoVmFsdWVzLCBjdXJzb3IpIHtcbiAgICBpZiAoIWN1cnNvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm9jZXNzQmF0Y2goYmF0Y2hWYWx1ZXMpO1xuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA8IGxpbWl0KSB7XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldEFsbChlKSB7XG4gICAgdmFyIHZhbHVlcyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICB2YWx1ZXMgPSB2YWx1ZXMucmV2ZXJzZSgpO1xuICAgIH1cbiAgICBwcm9jZXNzQmF0Y2godmFsdWVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmVzdWx0c1JlYWR5KCkge1xuICAgIHZhciByZXR1cm5WYWwgPSB7XG4gICAgICB0b3RhbF9yb3dzOiBkb2NDb3VudCxcbiAgICAgIG9mZnNldDogb3B0cy5za2lwLFxuICAgICAgcm93czogcmVzdWx0c1xuICAgIH07XG4gICAgXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSAmJiB1cGRhdGVTZXEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuVmFsLnVwZGF0ZV9zZXEgPSB1cGRhdGVTZXE7XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHJldHVyblZhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBvblR4bkNvbXBsZXRlKCkge1xuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMsIG9wdHMuYmluYXJ5KS50aGVuKG9uUmVzdWx0c1JlYWR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25SZXN1bHRzUmVhZHkoKTtcbiAgICB9XG4gIH1cblxuICAvLyBkb24ndCBib3RoZXIgZG9pbmcgYW55IHJlcXVlc3RzIGlmIHN0YXJ0ID4gZW5kIG9yIGxpbWl0ID09PSAwXG4gIGlmIChrZXlSYW5nZUVycm9yIHx8IGxpbWl0ID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChrZXlzKSB7XG4gICAgcmV0dXJuIGFsbERvY3NLZXlzKG9wdHMua2V5cywgZG9jU3RvcmUsIG9uQmF0Y2gpO1xuICB9XG4gIGlmIChsaW1pdCA9PT0gLTEpIHsgLy8ganVzdCBmZXRjaCBldmVyeXRoaW5nXG4gICAgcmV0dXJuIGdldEFsbChkb2NTdG9yZSwga2V5UmFuZ2UsIG9uR2V0QWxsKTtcbiAgfVxuICAvLyBlbHNlIGRvIGEgY3Vyc29yXG4gIC8vIGNob29zZSBhIGJhdGNoIHNpemUgYmFzZWQgb24gdGhlIHNraXAsIHNpbmNlIHdlJ2xsIG5lZWQgdG8gc2tpcCB0aGF0IG1hbnlcbiAgcnVuQmF0Y2hlZEN1cnNvcihkb2NTdG9yZSwga2V5UmFuZ2UsIG9wdHMuZGVzY2VuZGluZywgbGltaXQgKyBza2lwLCBvbkJhdGNoKTtcbn1cblxuLy9cbi8vIEJsb2JzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGFsbCB2ZXJzaW9ucyBvZiBJbmRleGVkREIsIG5vdGFibHlcbi8vIENocm9tZSA8MzcgYW5kIEFuZHJvaWQgPDUuIEluIHRob3NlIHZlcnNpb25zLCBzdG9yaW5nIGEgYmxvYiB3aWxsIHRocm93LlxuLy9cbi8vIFZhcmlvdXMgb3RoZXIgYmxvYiBidWdzIGV4aXN0IGluIENocm9tZSB2MzctNDIgKGluY2x1c2l2ZSkuXG4vLyBEZXRlY3RpbmcgdGhlbSBpcyBleHBlbnNpdmUgYW5kIGNvbmZ1c2luZyB0byB1c2VycywgYW5kIENocm9tZSAzNy00MlxuLy8gaXMgYXQgdmVyeSBsb3cgdXNhZ2Ugd29ybGR3aWRlLCBzbyB3ZSBkbyBhIGhhY2t5IHVzZXJBZ2VudCBjaGVjayBpbnN0ZWFkLlxuLy9cbi8vIGNvbnRlbnQtdHlwZSBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00MDgxMjBcbi8vIDQwNCBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc5MTZcbi8vIEZpbGVSZWFkZXIgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3ODM2XG4vL1xuZnVuY3Rpb24gY2hlY2tCbG9iU3VwcG9ydCh0eG4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgdmFyIGJsb2IkJDEgPSBjcmVhdGVCbG9iKFsnJ10pO1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSkucHV0KGJsb2IkJDEsICdrZXknKTtcblxuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbWF0Y2hlZENocm9tZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuICAgICAgdmFyIG1hdGNoZWRFZGdlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLy8pO1xuICAgICAgLy8gTVMgRWRnZSBwcmV0ZW5kcyB0byBiZSBDaHJvbWUgNDI6XG4gICAgICAvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2hoODY5MzAxJTI4dj12cy44NSUyOS5hc3B4XG4gICAgICByZXNvbHZlKG1hdGNoZWRFZGdlIHx8ICFtYXRjaGVkQ2hyb21lIHx8XG4gICAgICAgIHBhcnNlSW50KG1hdGNoZWRDaHJvbWVbMV0sIDEwKSA+PSA0Myk7XG4gICAgfTtcblxuICAgIHJlcS5vbmVycm9yID0gdHhuLm9uYWJvcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gSWYgdGhlIHRyYW5zYWN0aW9uIGFib3J0cyBub3cgaXRzIGR1ZSB0byBub3QgYmVpbmcgYWJsZSB0b1xuICAgICAgLy8gd3JpdGUgdG8gdGhlIGRhdGFiYXNlLCBsaWtlbHkgZHVlIHRvIHRoZSBkaXNrIGJlaW5nIGZ1bGxcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICB9O1xuICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBlcnJvciwgc28gYXNzdW1lIHVuc3VwcG9ydGVkXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb3VudERvY3ModHhuLCBjYikge1xuICB2YXIgaW5kZXggPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5pbmRleCgnZGVsZXRlZE9yTG9jYWwnKTtcbiAgaW5kZXguY291bnQoSURCS2V5UmFuZ2Uub25seSgnMCcpKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIGNiKGUudGFyZ2V0LnJlc3VsdCk7XG4gIH07XG59XG5cbi8vIFRoaXMgdGFzayBxdWV1ZSBlbnN1cmVzIHRoYXQgSURCIG9wZW4gY2FsbHMgYXJlIGRvbmUgaW4gdGhlaXIgb3duIHRpY2tcblxudmFyIHJ1bm5pbmcgPSBmYWxzZTtcbnZhciBxdWV1ZSA9IFtdO1xuXG5mdW5jdGlvbiB0cnlDb2RlKGZ1biwgZXJyLCByZXMsIFBvdWNoREIpIHtcbiAgdHJ5IHtcbiAgICBmdW4oZXJyLCByZXMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBTaG91bGRuJ3QgaGFwcGVuLCBidXQgaW4gc29tZSBvZGQgY2FzZXNcbiAgICAvLyBJbmRleGVkREIgaW1wbGVtZW50YXRpb25zIG1pZ2h0IHRocm93IGEgc3luY1xuICAgIC8vIGVycm9yLCBpbiB3aGljaCBjYXNlIHRoaXMgd2lsbCBhdCBsZWFzdCBsb2cgaXQuXG4gICAgUG91Y2hEQi5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlOZXh0KCkge1xuICBpZiAocnVubmluZyB8fCAhcXVldWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJ1bm5pbmcgPSB0cnVlO1xuICBxdWV1ZS5zaGlmdCgpKCk7XG59XG5cbmZ1bmN0aW9uIGVucXVldWVUYXNrKGFjdGlvbiwgY2FsbGJhY2ssIFBvdWNoREIpIHtcbiAgcXVldWUucHVzaChmdW5jdGlvbiBydW5BY3Rpb24oKSB7XG4gICAgYWN0aW9uKGZ1bmN0aW9uIHJ1bkNhbGxiYWNrKGVyciwgcmVzKSB7XG4gICAgICB0cnlDb2RlKGNhbGxiYWNrLCBlcnIsIHJlcywgUG91Y2hEQik7XG4gICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gcnVuTmV4dCgpIHtcbiAgICAgICAgYXBwbHlOZXh0KFBvdWNoREIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBhcHBseU5leHQoKTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlcyhvcHRzLCBhcGksIGRiTmFtZSwgaWRiKSB7XG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICBpZiAob3B0cy5jb250aW51b3VzKSB7XG4gICAgdmFyIGlkID0gZGJOYW1lICsgJzonICsgdXVpZCgpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmFkZExpc3RlbmVyKGRiTmFtZSwgaWQsIGFwaSwgb3B0cyk7XG4gICAgY2hhbmdlc0hhbmRsZXIubm90aWZ5KGRiTmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFuZ2VzSGFuZGxlci5yZW1vdmVMaXN0ZW5lcihkYk5hbWUsIGlkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGRvY0lkcyA9IG9wdHMuZG9jX2lkcyAmJiBuZXcgRXhwb3J0ZWRTZXQob3B0cy5kb2NfaWRzKTtcblxuICBvcHRzLnNpbmNlID0gb3B0cy5zaW5jZSB8fCAwO1xuICB2YXIgbGFzdFNlcSA9IG9wdHMuc2luY2U7XG5cbiAgdmFyIGxpbWl0ID0gJ2xpbWl0JyBpbiBvcHRzID8gb3B0cy5saW1pdCA6IC0xO1xuICBpZiAobGltaXQgPT09IDApIHtcbiAgICBsaW1pdCA9IDE7IC8vIHBlciBDb3VjaERCIF9jaGFuZ2VzIHNwZWNcbiAgfVxuXG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciBudW1SZXN1bHRzID0gMDtcbiAgdmFyIGZpbHRlciA9IGZpbHRlckNoYW5nZShvcHRzKTtcbiAgdmFyIGRvY0lkc1RvTWV0YWRhdGEgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICB2YXIgdHhuO1xuICB2YXIgYnlTZXFTdG9yZTtcbiAgdmFyIGRvY1N0b3JlO1xuICB2YXIgZG9jSWRSZXZJbmRleDtcblxuICBmdW5jdGlvbiBvbkJhdGNoKGJhdGNoS2V5cywgYmF0Y2hWYWx1ZXMsIGN1cnNvcikge1xuICAgIGlmICghY3Vyc29yIHx8ICFiYXRjaEtleXMubGVuZ3RoKSB7IC8vIGRvbmVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2lubmluZ0RvY3MgPSBuZXcgQXJyYXkoYmF0Y2hLZXlzLmxlbmd0aCk7XG4gICAgdmFyIG1ldGFkYXRhcyA9IG5ldyBBcnJheShiYXRjaEtleXMubGVuZ3RoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MobWV0YWRhdGEsIHdpbm5pbmdEb2MpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBvcHRzLnByb2Nlc3NDaGFuZ2Uod2lubmluZ0RvYywgbWV0YWRhdGEsIG9wdHMpO1xuICAgICAgbGFzdFNlcSA9IGNoYW5nZS5zZXEgPSBtZXRhZGF0YS5zZXE7XG5cbiAgICAgIHZhciBmaWx0ZXJlZCA9IGZpbHRlcihjaGFuZ2UpO1xuICAgICAgaWYgKHR5cGVvZiBmaWx0ZXJlZCA9PT0gJ29iamVjdCcpIHsgLy8gYW55dGhpbmcgYnV0IHRydWUvZmFsc2UgaW5kaWNhdGVzIGVycm9yXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChmaWx0ZXJlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZmlsdGVyZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgbnVtUmVzdWx0cysrO1xuICAgICAgaWYgKG9wdHMucmV0dXJuX2RvY3MpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGNoYW5nZSk7XG4gICAgICB9XG4gICAgICAvLyBwcm9jZXNzIHRoZSBhdHRhY2htZW50IGltbWVkaWF0ZWx5XG4gICAgICAvLyBmb3IgdGhlIGJlbmVmaXQgb2YgbGl2ZSBsaXN0ZW5lcnNcbiAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIGZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeSh3aW5uaW5nRG9jLCBvcHRzLCB0eG4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBvc3RQcm9jZXNzQXR0YWNobWVudHMoW2NoYW5nZV0sIG9wdHMuYmluYXJ5KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShjaGFuZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjaGFuZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQmF0Y2hEb25lKCkge1xuICAgICAgdmFyIHByb21pc2VzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gd2lubmluZ0RvY3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKG51bVJlc3VsdHMgPT09IGxpbWl0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpbm5pbmdEb2MgPSB3aW5uaW5nRG9jc1tpXTtcbiAgICAgICAgaWYgKCF3aW5uaW5nRG9jKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1ldGFkYXRhID0gbWV0YWRhdGFzW2ldO1xuICAgICAgICBwcm9taXNlcy5wdXNoKHByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MobWV0YWRhdGEsIHdpbm5pbmdEb2MpKTtcbiAgICAgIH1cblxuICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAoY2hhbmdlc1tpXSkge1xuICAgICAgICAgICAgb3B0cy5vbkNoYW5nZShjaGFuZ2VzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKG9wdHMuY29tcGxldGUpO1xuXG4gICAgICBpZiAobnVtUmVzdWx0cyAhPT0gbGltaXQpIHtcbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggYWxsIG1ldGFkYXRhcy93aW5uaW5nZG9jcyBmcm9tIHRoaXMgYmF0Y2ggaW4gcGFyYWxsZWwsIHRoZW4gcHJvY2Vzc1xuICAgIC8vIHRoZW0gYWxsIG9ubHkgb25jZSBhbGwgZGF0YSBoYXMgYmVlbiBjb2xsZWN0ZWQuIFRoaXMgaXMgZG9uZSBpbiBwYXJhbGxlbFxuICAgIC8vIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiBkb2luZyBpdCBvbmUtYXQtYS10aW1lLlxuICAgIHZhciBudW1Eb25lID0gMDtcbiAgICBiYXRjaFZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuICAgICAgdmFyIGRvYyA9IGRlY29kZURvYyh2YWx1ZSk7XG4gICAgICB2YXIgc2VxID0gYmF0Y2hLZXlzW2ldO1xuICAgICAgZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEoZG9jLCBzZXEsIGZ1bmN0aW9uIChtZXRhZGF0YSwgd2lubmluZ0RvYykge1xuICAgICAgICBtZXRhZGF0YXNbaV0gPSBtZXRhZGF0YTtcbiAgICAgICAgd2lubmluZ0RvY3NbaV0gPSB3aW5uaW5nRG9jO1xuICAgICAgICBpZiAoKytudW1Eb25lID09PSBiYXRjaEtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgb25CYXRjaERvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldE1ldGFkYXRhKGRvYywgc2VxLCBtZXRhZGF0YSwgY2IpIHtcbiAgICBpZiAobWV0YWRhdGEuc2VxICE9PSBzZXEpIHtcbiAgICAgIC8vIHNvbWUgb3RoZXIgc2VxIGlzIGxhdGVyXG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG5cbiAgICBpZiAobWV0YWRhdGEud2lubmluZ1JldiA9PT0gZG9jLl9yZXYpIHtcbiAgICAgIC8vIHRoaXMgaXMgdGhlIHdpbm5pbmcgZG9jXG4gICAgICByZXR1cm4gY2IobWV0YWRhdGEsIGRvYyk7XG4gICAgfVxuXG4gICAgLy8gZmV0Y2ggd2lubmluZyBkb2MgaW4gc2VwYXJhdGUgcmVxdWVzdFxuICAgIHZhciBkb2NJZFJldiA9IGRvYy5faWQgKyAnOjonICsgbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICB2YXIgcmVxID0gZG9jSWRSZXZJbmRleC5nZXQoZG9jSWRSZXYpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgY2IobWV0YWRhdGEsIGRlY29kZURvYyhlLnRhcmdldC5yZXN1bHQpKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEoZG9jLCBzZXEsIGNiKSB7XG4gICAgaWYgKGRvY0lkcyAmJiAhZG9jSWRzLmhhcyhkb2MuX2lkKSkge1xuICAgICAgcmV0dXJuIGNiKCk7XG4gICAgfVxuXG4gICAgdmFyIG1ldGFkYXRhID0gZG9jSWRzVG9NZXRhZGF0YS5nZXQoZG9jLl9pZCk7XG4gICAgaWYgKG1ldGFkYXRhKSB7IC8vIGNhY2hlZFxuICAgICAgcmV0dXJuIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYik7XG4gICAgfVxuICAgIC8vIG1ldGFkYXRhIG5vdCBjYWNoZWQsIGhhdmUgdG8gZ28gZmV0Y2ggaXRcbiAgICBkb2NTdG9yZS5nZXQoZG9jLl9pZCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgIGRvY0lkc1RvTWV0YWRhdGEuc2V0KGRvYy5faWQsIG1ldGFkYXRhKTtcbiAgICAgIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHtcbiAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICBsYXN0X3NlcTogbGFzdFNlcVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UeG5Db21wbGV0ZSgpIHtcbiAgICBpZiAoIW9wdHMuY29udGludW91cyAmJiBvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAvLyBjYW5ub3QgZ3VhcmFudGVlIHRoYXQgcG9zdFByb2Nlc3Npbmcgd2FzIGFscmVhZHkgZG9uZSxcbiAgICAgIC8vIHNvIGRvIGl0IGFnYWluXG4gICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMpLnRoZW4oZmluaXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmluaXNoKCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG9iamVjdFN0b3JlcyA9IFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRV07XG4gIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgb2JqZWN0U3RvcmVzLnB1c2goQVRUQUNIX1NUT1JFKTtcbiAgfVxuICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgb2JqZWN0U3RvcmVzLCAncmVhZG9ubHknKTtcbiAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgIHJldHVybiBvcHRzLmNvbXBsZXRlKHR4blJlc3VsdC5lcnJvcik7XG4gIH1cbiAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihvcHRzLmNvbXBsZXRlKTtcbiAgdHhuLm9uY29tcGxldGUgPSBvblR4bkNvbXBsZXRlO1xuXG4gIGJ5U2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgZG9jSWRSZXZJbmRleCA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG5cbiAgdmFyIGtleVJhbmdlID0gKG9wdHMuc2luY2UgJiYgIW9wdHMuZGVzY2VuZGluZykgP1xuICAgIElEQktleVJhbmdlLmxvd2VyQm91bmQob3B0cy5zaW5jZSwgdHJ1ZSkgOiBudWxsO1xuXG4gIHJ1bkJhdGNoZWRDdXJzb3IoYnlTZXFTdG9yZSwga2V5UmFuZ2UsIG9wdHMuZGVzY2VuZGluZywgbGltaXQsIG9uQmF0Y2gpO1xufVxuXG52YXIgY2FjaGVkREJzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG52YXIgYmxvYlN1cHBvcnRQcm9taXNlO1xudmFyIG9wZW5SZXFMaXN0ID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbmZ1bmN0aW9uIElkYlBvdWNoKG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBhcGkgPSB0aGlzO1xuXG4gIGVucXVldWVUYXNrKGZ1bmN0aW9uICh0aGlzQ2FsbGJhY2spIHtcbiAgICBpbml0KGFwaSwgb3B0cywgdGhpc0NhbGxiYWNrKTtcbiAgfSwgY2FsbGJhY2ssIGFwaS5jb25zdHJ1Y3Rvcik7XG59XG5cbmZ1bmN0aW9uIGluaXQoYXBpLCBvcHRzLCBjYWxsYmFjaykge1xuXG4gIHZhciBkYk5hbWUgPSBvcHRzLm5hbWU7XG5cbiAgdmFyIGlkYiA9IG51bGw7XG4gIHZhciBpZGJHbG9iYWxGYWlsdXJlRXJyb3IgPSBudWxsO1xuICBhcGkuX21ldGEgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCByZXN1bHQpIHtcbiAgICAgIGlmIChlcnJvciAmJiBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICFlcnJvci5yZWFzb24pIHtcbiAgICAgICAgaWYgKGlkYkdsb2JhbEZhaWx1cmVFcnJvcikge1xuICAgICAgICAgIGVycm9yLnJlYXNvbiA9IGlkYkdsb2JhbEZhaWx1cmVFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayhlcnJvciwgcmVzdWx0KTtcbiAgICB9O1xuICB9XG5cbiAgLy8gY2FsbGVkIHdoZW4gY3JlYXRpbmcgYSBmcmVzaCBuZXcgZGF0YWJhc2VcbiAgZnVuY3Rpb24gY3JlYXRlU2NoZW1hKGRiKSB7XG4gICAgdmFyIGRvY1N0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoRE9DX1NUT1JFLCB7a2V5UGF0aCA6ICdpZCd9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShCWV9TRVFfU1RPUkUsIHthdXRvSW5jcmVtZW50OiB0cnVlfSlcbiAgICAgIC5jcmVhdGVJbmRleCgnX2RvY19pZF9yZXYnLCAnX2RvY19pZF9yZXYnLCB7dW5pcXVlOiB0cnVlfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFLCB7a2V5UGF0aDogJ2RpZ2VzdCd9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShNRVRBX1NUT1JFLCB7a2V5UGF0aDogJ2lkJywgYXV0b0luY3JlbWVudDogZmFsc2V9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFKTtcblxuICAgIC8vIGFkZGVkIGluIHYyXG4gICAgZG9jU3RvcmUuY3JlYXRlSW5kZXgoJ2RlbGV0ZWRPckxvY2FsJywgJ2RlbGV0ZWRPckxvY2FsJywge3VuaXF1ZSA6IGZhbHNlfSk7XG5cbiAgICAvLyBhZGRlZCBpbiB2M1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKExPQ0FMX1NUT1JFLCB7a2V5UGF0aDogJ19pZCd9KTtcblxuICAgIC8vIGFkZGVkIGluIHY0XG4gICAgdmFyIGF0dEFuZFNlcVN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICB7YXV0b0luY3JlbWVudDogdHJ1ZX0pO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdzZXEnLCAnc2VxJyk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ2RpZ2VzdFNlcScsICdkaWdlc3RTZXEnLCB7dW5pcXVlOiB0cnVlfSk7XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiAyXG4gIC8vIHVuZm9ydHVuYXRlbHkgXCJkZWxldGVkT3JMb2NhbFwiIGlzIGEgbWlzbm9tZXIgbm93IHRoYXQgd2Ugbm8gbG9uZ2VyXG4gIC8vIHN0b3JlIGxvY2FsIGRvY3MgaW4gdGhlIG1haW4gZG9jLXN0b3JlLCBidXQgd2hhZGR5YWdvbm5hZG9cbiAgZnVuY3Rpb24gYWRkRGVsZXRlZE9yTG9jYWxJbmRleCh0eG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgZG9jU3RvcmUuY3JlYXRlSW5kZXgoJ2RlbGV0ZWRPckxvY2FsJywgJ2RlbGV0ZWRPckxvY2FsJywge3VuaXF1ZSA6IGZhbHNlfSk7XG5cbiAgICBkb2NTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgZGVsZXRlZCA9IGlzRGVsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgIG1ldGFkYXRhLmRlbGV0ZWRPckxvY2FsID0gZGVsZXRlZCA/IFwiMVwiIDogXCIwXCI7XG4gICAgICAgIGRvY1N0b3JlLnB1dChtZXRhZGF0YSk7XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMyAocGFydCAxKVxuICBmdW5jdGlvbiBjcmVhdGVMb2NhbFN0b3JlU2NoZW1hKGRiKSB7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUsIHtrZXlQYXRoOiAnX2lkJ30pXG4gICAgICAuY3JlYXRlSW5kZXgoJ19kb2NfaWRfcmV2JywgJ19kb2NfaWRfcmV2Jywge3VuaXF1ZTogdHJ1ZX0pO1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMyAocGFydCAyKVxuICBmdW5jdGlvbiBtaWdyYXRlTG9jYWxTdG9yZSh0eG4sIGNiKSB7XG4gICAgdmFyIGxvY2FsU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpO1xuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuXG4gICAgdmFyIGN1cnNvciA9IGRvY1N0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgZG9jSWQgPSBtZXRhZGF0YS5pZDtcbiAgICAgICAgdmFyIGxvY2FsID0gaXNMb2NhbElkKGRvY0lkKTtcbiAgICAgICAgdmFyIHJldiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICAgICAgICBpZiAobG9jYWwpIHtcbiAgICAgICAgICB2YXIgZG9jSWRSZXYgPSBkb2NJZCArIFwiOjpcIiArIHJldjtcbiAgICAgICAgICAvLyByZW1vdmUgYWxsIHNlcSBlbnRyaWVzXG4gICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoaXMgZG9jSWRcbiAgICAgICAgICB2YXIgc3RhcnQgPSBkb2NJZCArIFwiOjpcIjtcbiAgICAgICAgICB2YXIgZW5kID0gZG9jSWQgKyBcIjo6flwiO1xuICAgICAgICAgIHZhciBpbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgICAgICAgIHZhciByYW5nZSA9IElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgdmFyIHNlcUN1cnNvciA9IGluZGV4Lm9wZW5DdXJzb3IocmFuZ2UpO1xuICAgICAgICAgIHNlcUN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgc2VxQ3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgaWYgKCFzZXFDdXJzb3IpIHtcbiAgICAgICAgICAgICAgLy8gZG9uZVxuICAgICAgICAgICAgICBkb2NTdG9yZS5kZWxldGUoY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBkYXRhID0gc2VxQ3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoZGF0YS5fZG9jX2lkX3JldiA9PT0gZG9jSWRSZXYpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JlLnB1dChkYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXFTdG9yZS5kZWxldGUoc2VxQ3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICBzZXFDdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDQgKHBhcnQgMSlcbiAgZnVuY3Rpb24gYWRkQXR0YWNoQW5kU2VxU3RvcmUoZGIpIHtcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSxcbiAgICAgIHthdXRvSW5jcmVtZW50OiB0cnVlfSk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ3NlcScsICdzZXEnKTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnZGlnZXN0U2VxJywgJ2RpZ2VzdFNlcScsIHt1bmlxdWU6IHRydWV9KTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDQgKHBhcnQgMilcbiAgZnVuY3Rpb24gbWlncmF0ZUF0dHNBbmRTZXFzKHR4biwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICB2YXIgYXR0U3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKTtcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuXG4gICAgLy8gbmVlZCB0byBhY3R1YWxseSBwb3B1bGF0ZSB0aGUgdGFibGUuIHRoaXMgaXMgdGhlIGV4cGVuc2l2ZSBwYXJ0LFxuICAgIC8vIHNvIGFzIGFuIG9wdGltaXphdGlvbiwgY2hlY2sgZmlyc3QgdGhhdCB0aGlzIGRhdGFiYXNlIGV2ZW5cbiAgICAvLyBjb250YWlucyBhdHRhY2htZW50c1xuICAgIHZhciByZXEgPSBhdHRTdG9yZS5jb3VudCgpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGNvdW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gZG9uZVxuICAgICAgfVxuXG4gICAgICBzZXFTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gZG9uZVxuICAgICAgICB9XG4gICAgICAgIHZhciBkb2MgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIHZhciBzZXEgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgdmFyIGF0dHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzIHx8IHt9KTtcbiAgICAgICAgdmFyIGRpZ2VzdE1hcCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGF0dHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgYXR0ID0gZG9jLl9hdHRhY2htZW50c1thdHRzW2pdXTtcbiAgICAgICAgICBkaWdlc3RNYXBbYXR0LmRpZ2VzdF0gPSB0cnVlOyAvLyB1bmlxIGRpZ2VzdHMsIGp1c3QgaW4gY2FzZVxuICAgICAgICB9XG4gICAgICAgIHZhciBkaWdlc3RzID0gT2JqZWN0LmtleXMoZGlnZXN0TWFwKTtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGRpZ2VzdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgZGlnZXN0ID0gZGlnZXN0c1tqXTtcbiAgICAgICAgICBhdHRBbmRTZXFTdG9yZS5wdXQoe1xuICAgICAgICAgICAgc2VxOiBzZXEsXG4gICAgICAgICAgICBkaWdlc3RTZXE6IGRpZ2VzdCArICc6OicgKyBzZXFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDVcbiAgLy8gSW5zdGVhZCBvZiByZWx5aW5nIG9uIG9uLXRoZS1mbHkgbWlncmF0aW9uIG9mIG1ldGFkYXRhLFxuICAvLyB0aGlzIGJyaW5ncyB0aGUgZG9jLXN0b3JlIHRvIGl0cyBtb2Rlcm4gZm9ybTpcbiAgLy8gLSBtZXRhZGF0YS53aW5uaW5ncmV2XG4gIC8vIC0gbWV0YWRhdGEuc2VxXG4gIC8vIC0gc3RyaW5naWZ5IHRoZSBtZXRhZGF0YSB3aGVuIHN0b3JpbmcgaXRcbiAgZnVuY3Rpb24gbWlncmF0ZU1ldGFkYXRhKHR4bikge1xuXG4gICAgZnVuY3Rpb24gZGVjb2RlTWV0YWRhdGFDb21wYXQoc3RvcmVkT2JqZWN0KSB7XG4gICAgICBpZiAoIXN0b3JlZE9iamVjdC5kYXRhKSB7XG4gICAgICAgIC8vIG9sZCBmb3JtYXQsIHdoZW4gd2UgZGlkbid0IHN0b3JlIGl0IHN0cmluZ2lmaWVkXG4gICAgICAgIHN0b3JlZE9iamVjdC5kZWxldGVkID0gc3RvcmVkT2JqZWN0LmRlbGV0ZWRPckxvY2FsID09PSAnMSc7XG4gICAgICAgIHJldHVybiBzdG9yZWRPYmplY3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVjb2RlTWV0YWRhdGEoc3RvcmVkT2JqZWN0KTtcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgdGhhdCBldmVyeSBtZXRhZGF0YSBoYXMgYSB3aW5uaW5nUmV2IGFuZCBzZXEsXG4gICAgLy8gd2hpY2ggd2FzIHByZXZpb3VzbHkgY3JlYXRlZCBvbi10aGUtZmx5IGJ1dCBiZXR0ZXIgdG8gbWlncmF0ZVxuICAgIHZhciBieVNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgdmFyIGN1cnNvciA9IGRvY1N0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICByZXR1cm47IC8vIGRvbmVcbiAgICAgIH1cbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhQ29tcGF0KGN1cnNvci52YWx1ZSk7XG5cbiAgICAgIG1ldGFkYXRhLndpbm5pbmdSZXYgPSBtZXRhZGF0YS53aW5uaW5nUmV2IHx8XG4gICAgICAgIHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuXG4gICAgICBmdW5jdGlvbiBmZXRjaE1ldGFkYXRhU2VxKCkge1xuICAgICAgICAvLyBtZXRhZGF0YS5zZXEgd2FzIGFkZGVkIHBvc3QtMy4yLjAsIHNvIGlmIGl0J3MgbWlzc2luZyxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBmZXRjaCBpdCBtYW51YWxseVxuICAgICAgICB2YXIgc3RhcnQgPSBtZXRhZGF0YS5pZCArICc6Oic7XG4gICAgICAgIHZhciBlbmQgPSBtZXRhZGF0YS5pZCArICc6OlxcdWZmZmYnO1xuICAgICAgICB2YXIgcmVxID0gYnlTZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKS5vcGVuQ3Vyc29yKFxuICAgICAgICAgIElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQpKTtcblxuICAgICAgICB2YXIgbWV0YWRhdGFTZXEgPSAwO1xuICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5zZXEgPSBtZXRhZGF0YVNlcTtcbiAgICAgICAgICAgIHJldHVybiBvbkdldE1ldGFkYXRhU2VxKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzZXEgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgICBpZiAoc2VxID4gbWV0YWRhdGFTZXEpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhU2VxID0gc2VxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25HZXRNZXRhZGF0YVNlcSgpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhVG9TdG9yZSA9IGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLFxuICAgICAgICAgIG1ldGFkYXRhLndpbm5pbmdSZXYsIG1ldGFkYXRhLmRlbGV0ZWQpO1xuXG4gICAgICAgIHZhciByZXEgPSBkb2NTdG9yZS5wdXQobWV0YWRhdGFUb1N0b3JlKTtcbiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1ldGFkYXRhLnNlcSkge1xuICAgICAgICByZXR1cm4gb25HZXRNZXRhZGF0YVNlcSgpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE1ldGFkYXRhU2VxKCk7XG4gICAgfTtcblxuICB9XG5cbiAgYXBpLl9yZW1vdGUgPSBmYWxzZTtcbiAgYXBpLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdpZGInO1xuICB9O1xuXG4gIGFwaS5faWQgPSB0b1Byb21pc2UoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sobnVsbCwgYXBpLl9tZXRhLmluc3RhbmNlSWQpO1xuICB9KTtcblxuICBhcGkuX2J1bGtEb2NzID0gZnVuY3Rpb24gaWRiX2J1bGtEb2NzKHJlcSwgcmVxT3B0cywgY2FsbGJhY2spIHtcbiAgICBpZGJCdWxrRG9jcyhvcHRzLCByZXEsIHJlcU9wdHMsIGFwaSwgaWRiLCBlbnJpY2hDYWxsYmFja0Vycm9yKGNhbGxiYWNrKSk7XG4gIH07XG5cbiAgLy8gRmlyc3Qgd2UgbG9vayB1cCB0aGUgbWV0YWRhdGEgaW4gdGhlIGlkcyBkYXRhYmFzZSwgdGhlbiB3ZSBmZXRjaCB0aGVcbiAgLy8gY3VycmVudCByZXZpc2lvbihzKSBmcm9tIHRoZSBieSBzZXF1ZW5jZSBzdG9yZVxuICBhcGkuX2dldCA9IGZ1bmN0aW9uIGlkYl9nZXQoaWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRvYztcbiAgICB2YXIgbWV0YWRhdGE7XG4gICAgdmFyIGVycjtcbiAgICB2YXIgdHhuID0gb3B0cy5jdHg7XG4gICAgaWYgKCF0eG4pIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLFxuICAgICAgICBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIEFUVEFDSF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluaXNoKCkge1xuICAgICAgY2FsbGJhY2soZXJyLCB7ZG9jOiBkb2MsIG1ldGFkYXRhOiBtZXRhZGF0YSwgY3R4OiB0eG59KTtcbiAgICB9XG5cbiAgICB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5nZXQoaWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAvLyB3ZSBjYW4gZGV0ZXJtaW5lIHRoZSByZXN1bHQgaGVyZSBpZjpcbiAgICAgIC8vIDEuIHRoZXJlIGlzIG5vIHN1Y2ggZG9jdW1lbnRcbiAgICAgIC8vIDIuIHRoZSBkb2N1bWVudCBpcyBkZWxldGVkIGFuZCB3ZSBkb24ndCBhc2sgYWJvdXQgc3BlY2lmaWMgcmV2XG4gICAgICAvLyBXaGVuIHdlIGFzayB3aXRoIG9wdHMucmV2IHdlIGV4cGVjdCB0aGUgYW5zd2VyIHRvIGJlIGVpdGhlclxuICAgICAgLy8gZG9jIChwb3NzaWJseSB3aXRoIF9kZWxldGVkPXRydWUpIG9yIG1pc3NpbmcgZXJyb3JcbiAgICAgIGlmICghbWV0YWRhdGEpIHtcbiAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdtaXNzaW5nJyk7XG4gICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldjtcbiAgICAgIGlmICghb3B0cy5yZXYpIHtcbiAgICAgICAgcmV2ID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgICAgdmFyIGRlbGV0ZWQgPSBpc0RlbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCBcImRlbGV0ZWRcIik7XG4gICAgICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXYgPSBvcHRzLmxhdGVzdCA/IGxhdGVzdChvcHRzLnJldiwgbWV0YWRhdGEpIDogb3B0cy5yZXY7XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmplY3RTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgICAgdmFyIGtleSA9IG1ldGFkYXRhLmlkICsgJzo6JyArIHJldjtcblxuICAgICAgb2JqZWN0U3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2JykuZ2V0KGtleSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgZG9jID0gZGVjb2RlRG9jKGRvYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgJ21pc3NpbmcnKTtcbiAgICAgICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoKCk7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG5cbiAgYXBpLl9nZXRBdHRhY2htZW50ID0gZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2hJZCwgYXR0YWNobWVudCwgb3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuO1xuICAgIGlmIChvcHRzLmN0eCkge1xuICAgICAgdHhuID0gb3B0cy5jdHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLFxuICAgICAgICBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIEFUVEFDSF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgfVxuICAgIHZhciBkaWdlc3QgPSBhdHRhY2htZW50LmRpZ2VzdDtcbiAgICB2YXIgdHlwZSA9IGF0dGFjaG1lbnQuY29udGVudF90eXBlO1xuXG4gICAgdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSkuZ2V0KGRpZ2VzdCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBib2R5ID0gZS50YXJnZXQucmVzdWx0LmJvZHk7XG4gICAgICByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgb3B0cy5iaW5hcnksIGZ1bmN0aW9uIChibG9iRGF0YSkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBibG9iRGF0YSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5faW5mbyA9IGZ1bmN0aW9uIGlkYl9pbmZvKGNhbGxiYWNrKSB7XG4gICAgdmFyIHVwZGF0ZVNlcTtcbiAgICB2YXIgZG9jQ291bnQ7XG5cbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW01FVEFfU1RPUkUsIEJZX1NFUV9TVE9SRV0sICdyZWFkb25seScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSkuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBkb2NDb3VudCA9IGUudGFyZ2V0LnJlc3VsdC5kb2NDb3VudDtcbiAgICB9O1xuICAgIHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpLm9wZW5DdXJzb3IobnVsbCwgJ3ByZXYnKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHVwZGF0ZVNlcSA9IGN1cnNvciA/IGN1cnNvci5rZXkgOiAwO1xuICAgIH07XG5cbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgZG9jX2NvdW50OiBkb2NDb3VudCxcbiAgICAgICAgdXBkYXRlX3NlcTogdXBkYXRlU2VxLFxuICAgICAgICAvLyBmb3IgZGVidWdnaW5nXG4gICAgICAgIGlkYl9hdHRhY2htZW50X2Zvcm1hdDogKGFwaS5fbWV0YS5ibG9iU3VwcG9ydCA/ICdiaW5hcnknIDogJ2Jhc2U2NCcpXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fYWxsRG9jcyA9IGZ1bmN0aW9uIGlkYl9hbGxEb2NzKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWRiQWxsRG9jcyhvcHRzLCBpZGIsIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spKTtcbiAgfTtcblxuICBhcGkuX2NoYW5nZXMgPSBmdW5jdGlvbiBpZGJDaGFuZ2VzKG9wdHMpIHtcbiAgICByZXR1cm4gY2hhbmdlcyhvcHRzLCBhcGksIGRiTmFtZSwgaWRiKTtcbiAgfTtcblxuICBhcGkuX2Nsb3NlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9JbmRleGVkREIvSURCRGF0YWJhc2UjY2xvc2VcbiAgICAvLyBcIlJldHVybnMgaW1tZWRpYXRlbHkgYW5kIGNsb3NlcyB0aGUgY29ubmVjdGlvbiBpbiBhIHNlcGFyYXRlIHRocmVhZC4uLlwiXG4gICAgaWRiLmNsb3NlKCk7XG4gICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgYXBpLl9nZXRSZXZpc2lvblRyZWUgPSBmdW5jdGlvbiAoZG9jSWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtET0NfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLmdldChkb2NJZCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGRvYyA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGRvYy5yZXZfdHJlZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBUaGlzIGZ1bmN0aW9uIHJlbW92ZXMgcmV2aXNpb25zIG9mIGRvY3VtZW50IGRvY0lkXG4gIC8vIHdoaWNoIGFyZSBsaXN0ZWQgaW4gcmV2cyBhbmQgc2V0cyB0aGlzIGRvY3VtZW50XG4gIC8vIHJldmlzaW9uIHRvIHRvIHJldl90cmVlXG4gIGFwaS5fZG9Db21wYWN0aW9uID0gZnVuY3Rpb24gKGRvY0lkLCByZXZzLCBjYWxsYmFjaykge1xuICAgIHZhciBzdG9yZXMgPSBbXG4gICAgICBET0NfU1RPUkUsXG4gICAgICBCWV9TRVFfU1RPUkUsXG4gICAgICBBVFRBQ0hfU1RPUkUsXG4gICAgICBBVFRBQ0hfQU5EX1NFUV9TVE9SRVxuICAgIF07XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWR3cml0ZScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcblxuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuXG4gICAgZG9jU3RvcmUuZ2V0KGRvY0lkKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgdHJhdmVyc2VSZXZUcmVlKG1ldGFkYXRhLnJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICAgICAgdmFyIHJldiA9IHBvcyArICctJyArIHJldkhhc2g7XG4gICAgICAgIGlmIChyZXZzLmluZGV4T2YocmV2KSAhPT0gLTEpIHtcbiAgICAgICAgICBvcHRzLnN0YXR1cyA9ICdtaXNzaW5nJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb21wYWN0UmV2cyhyZXZzLCBkb2NJZCwgdHhuKTtcbiAgICAgIHZhciB3aW5uaW5nUmV2JCQxID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgIHZhciBkZWxldGVkID0gbWV0YWRhdGEuZGVsZXRlZDtcbiAgICAgIHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLnB1dChcbiAgICAgICAgZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEsIGRlbGV0ZWQpKTtcbiAgICB9O1xuICAgIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9O1xuICB9O1xuXG5cbiAgYXBpLl9nZXRMb2NhbCA9IGZ1bmN0aW9uIChpZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgdmFyIHJlcSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKS5nZXQoaWQpO1xuXG4gICAgcmVxLm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgZG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSBkb2NbJ19kb2NfaWRfcmV2J107IC8vIGZvciBiYWNrd2FyZHMgY29tcGF0XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGRvYyk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX3B1dExvY2FsID0gZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgZGVsZXRlIGRvYy5fcmV2aXNpb25zOyAvLyBpZ25vcmUgdGhpcywgdHJ1c3QgdGhlIHJldlxuICAgIHZhciBvbGRSZXYgPSBkb2MuX3JldjtcbiAgICB2YXIgaWQgPSBkb2MuX2lkO1xuICAgIGlmICghb2xkUmV2KSB7XG4gICAgICBkb2MuX3JldiA9ICcwLTEnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX3JldiA9ICcwLScgKyAocGFyc2VJbnQob2xkUmV2LnNwbGl0KCctJylbMV0sIDEwKSArIDEpO1xuICAgIH1cblxuICAgIHZhciB0eCA9IG9wdHMuY3R4O1xuICAgIHZhciByZXQ7XG4gICAgaWYgKCF0eCkge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtMT0NBTF9TVE9SRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgICB0eC5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgICAgdHgub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIG9TdG9yZSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgcmVxO1xuICAgIGlmIChvbGRSZXYpIHtcbiAgICAgIHJlcSA9IG9TdG9yZS5nZXQoaWQpO1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBvbGREb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghb2xkRG9jIHx8IG9sZERvYy5fcmV2ICE9PSBvbGRSZXYpIHtcbiAgICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gdXBkYXRlXG4gICAgICAgICAgdmFyIHJlcSA9IG9TdG9yZS5wdXQoZG9jKTtcbiAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0ID0ge29rOiB0cnVlLCBpZDogZG9jLl9pZCwgcmV2OiBkb2MuX3Jldn07XG4gICAgICAgICAgICBpZiAob3B0cy5jdHgpIHsgLy8gcmV0dXJuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgeyAvLyBuZXcgZG9jXG4gICAgICByZXEgPSBvU3RvcmUuYWRkKGRvYyk7XG4gICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIGNvbnN0cmFpbnQgZXJyb3IsIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCkpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIGFib3J0XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgIH07XG4gICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBkb2MuX2lkLCByZXY6IGRvYy5fcmV2fTtcbiAgICAgICAgaWYgKG9wdHMuY3R4KSB7IC8vIHJldHVybiBpbW1lZGlhdGVseVxuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIGFwaS5fcmVtb3ZlTG9jYWwgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICB2YXIgdHggPSBvcHRzLmN0eDtcbiAgICBpZiAoIXR4KSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4ID0gdHhuUmVzdWx0LnR4bjtcbiAgICAgIHR4Lm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgcmV0O1xuICAgIHZhciBpZCA9IGRvYy5faWQ7XG4gICAgdmFyIG9TdG9yZSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgcmVxID0gb1N0b3JlLmdldChpZCk7XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBvbGREb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIW9sZERvYyB8fCBvbGREb2MuX3JldiAhPT0gZG9jLl9yZXYpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9TdG9yZS5kZWxldGUoaWQpO1xuICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBpZCwgcmV2OiAnMC0wJ307XG4gICAgICAgIGlmIChvcHRzLmN0eCkgeyAvLyByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBjaGFuZ2VzSGFuZGxlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZGJOYW1lKTtcblxuICAgIC8vQ2xvc2Ugb3BlbiByZXF1ZXN0IGZvciBcImRiTmFtZVwiIGRhdGFiYXNlIHRvIGZpeCBpZSBkZWxheS5cbiAgICB2YXIgb3BlblJlcSA9IG9wZW5SZXFMaXN0LmdldChkYk5hbWUpO1xuICAgIGlmIChvcGVuUmVxICYmIG9wZW5SZXEucmVzdWx0KSB7XG4gICAgICBvcGVuUmVxLnJlc3VsdC5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH1cbiAgICB2YXIgcmVxID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGRiTmFtZSk7XG5cbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy9SZW1vdmUgb3BlbiByZXF1ZXN0IGZyb20gdGhlIGxpc3QuXG4gICAgICBvcGVuUmVxTGlzdC5kZWxldGUoZGJOYW1lKTtcbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSAmJiAoZGJOYW1lIGluIGxvY2FsU3RvcmFnZSkpIHtcbiAgICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtkYk5hbWVdO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgeyAnb2snOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgfTtcblxuICB2YXIgY2FjaGVkID0gY2FjaGVkREJzLmdldChkYk5hbWUpO1xuXG4gIGlmIChjYWNoZWQpIHtcbiAgICBpZGIgPSBjYWNoZWQuaWRiO1xuICAgIGFwaS5fbWV0YSA9IGNhY2hlZC5nbG9iYWw7XG4gICAgcmV0dXJuIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBhcGkpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHJlcSA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgQURBUFRFUl9WRVJTSU9OKTtcbiAgb3BlblJlcUxpc3Quc2V0KGRiTmFtZSwgcmVxKTtcblxuICByZXEub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgZGIgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDEpIHtcbiAgICAgIHJldHVybiBjcmVhdGVTY2hlbWEoZGIpOyAvLyBuZXcgZGIsIGluaXRpYWwgc2NoZW1hXG4gICAgfVxuICAgIC8vIGRvIG1pZ3JhdGlvbnNcblxuICAgIHZhciB0eG4gPSBlLmN1cnJlbnRUYXJnZXQudHJhbnNhY3Rpb247XG4gICAgLy8gdGhlc2UgbWlncmF0aW9ucyBoYXZlIHRvIGJlIGRvbmUgaW4gdGhpcyBmdW5jdGlvbiwgYmVmb3JlXG4gICAgLy8gY29udHJvbCBpcyByZXR1cm5lZCB0byB0aGUgZXZlbnQgbG9vcCwgYmVjYXVzZSBJbmRleGVkREJcblxuICAgIGlmIChlLm9sZFZlcnNpb24gPCAzKSB7XG4gICAgICBjcmVhdGVMb2NhbFN0b3JlU2NoZW1hKGRiKTsgLy8gdjIgLT4gdjNcbiAgICB9XG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDQpIHtcbiAgICAgIGFkZEF0dGFjaEFuZFNlcVN0b3JlKGRiKTsgLy8gdjMgLT4gdjRcbiAgICB9XG5cbiAgICB2YXIgbWlncmF0aW9ucyA9IFtcbiAgICAgIGFkZERlbGV0ZWRPckxvY2FsSW5kZXgsIC8vIHYxIC0+IHYyXG4gICAgICBtaWdyYXRlTG9jYWxTdG9yZSwgICAgICAvLyB2MiAtPiB2M1xuICAgICAgbWlncmF0ZUF0dHNBbmRTZXFzLCAgICAgLy8gdjMgLT4gdjRcbiAgICAgIG1pZ3JhdGVNZXRhZGF0YSAgICAgICAgIC8vIHY0IC0+IHY1XG4gICAgXTtcblxuICAgIHZhciBpID0gZS5vbGRWZXJzaW9uO1xuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHZhciBtaWdyYXRpb24gPSBtaWdyYXRpb25zW2kgLSAxXTtcbiAgICAgIGkrKztcbiAgICAgIGlmIChtaWdyYXRpb24pIHtcbiAgICAgICAgbWlncmF0aW9uKHR4biwgbmV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbmV4dCgpO1xuICB9O1xuXG4gIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgaWRiID0gZS50YXJnZXQucmVzdWx0O1xuXG4gICAgaWRiLm9udmVyc2lvbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlkYi5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH07XG5cbiAgICBpZGIub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCAnRGF0YWJhc2UgaGFzIGEgZ2xvYmFsIGZhaWx1cmUnLCBlLnRhcmdldC5lcnJvcik7XG4gICAgICBpZGJHbG9iYWxGYWlsdXJlRXJyb3IgPSBlLnRhcmdldC5lcnJvcjtcbiAgICAgIGlkYi5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH07XG5cbiAgICAvLyBEbyBhIGZldyBzZXR1cCBvcGVyYXRpb25zIChpbiBwYXJhbGxlbCBhcyBtdWNoIGFzIHBvc3NpYmxlKTpcbiAgICAvLyAxLiBGZXRjaCBtZXRhIGRvY1xuICAgIC8vIDIuIENoZWNrIGJsb2Igc3VwcG9ydFxuICAgIC8vIDMuIENhbGN1bGF0ZSBkb2NDb3VudFxuICAgIC8vIDQuIEdlbmVyYXRlIGFuIGluc3RhbmNlSWQgaWYgbmVjZXNzYXJ5XG4gICAgLy8gNS4gU3RvcmUgZG9jQ291bnQgYW5kIGluc3RhbmNlSWQgb24gbWV0YSBkb2NcblxuICAgIHZhciB0eG4gPSBpZGIudHJhbnNhY3Rpb24oW1xuICAgICAgTUVUQV9TVE9SRSxcbiAgICAgIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUsXG4gICAgICBET0NfU1RPUkVcbiAgICBdLCAncmVhZHdyaXRlJyk7XG5cbiAgICB2YXIgc3RvcmVkTWV0YURvYyA9IGZhbHNlO1xuICAgIHZhciBtZXRhRG9jO1xuICAgIHZhciBkb2NDb3VudDtcbiAgICB2YXIgYmxvYlN1cHBvcnQ7XG4gICAgdmFyIGluc3RhbmNlSWQ7XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVNldHVwKCkge1xuICAgICAgaWYgKHR5cGVvZiBibG9iU3VwcG9ydCA9PT0gJ3VuZGVmaW5lZCcgfHwgIXN0b3JlZE1ldGFEb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLl9tZXRhID0ge1xuICAgICAgICBuYW1lOiBkYk5hbWUsXG4gICAgICAgIGluc3RhbmNlSWQ6IGluc3RhbmNlSWQsXG4gICAgICAgIGJsb2JTdXBwb3J0OiBibG9iU3VwcG9ydFxuICAgICAgfTtcblxuICAgICAgY2FjaGVkREJzLnNldChkYk5hbWUsIHtcbiAgICAgICAgaWRiOiBpZGIsXG4gICAgICAgIGdsb2JhbDogYXBpLl9tZXRhXG4gICAgICB9KTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RvcmVNZXRhRG9jSWZSZWFkeSgpIHtcbiAgICAgIGlmICh0eXBlb2YgZG9jQ291bnQgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBtZXRhRG9jID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgaW5zdGFuY2VLZXkgPSBkYk5hbWUgKyAnX2lkJztcbiAgICAgIGlmIChpbnN0YW5jZUtleSBpbiBtZXRhRG9jKSB7XG4gICAgICAgIGluc3RhbmNlSWQgPSBtZXRhRG9jW2luc3RhbmNlS2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1ldGFEb2NbaW5zdGFuY2VLZXldID0gaW5zdGFuY2VJZCA9IHV1aWQoKTtcbiAgICAgIH1cbiAgICAgIG1ldGFEb2MuZG9jQ291bnQgPSBkb2NDb3VudDtcbiAgICAgIHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKS5wdXQobWV0YURvYyk7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBmZXRjaCBvciBnZW5lcmF0ZSB0aGUgaW5zdGFuY2VJZFxuICAgIC8vXG4gICAgdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YURvYyA9IGUudGFyZ2V0LnJlc3VsdCB8fCB7IGlkOiBNRVRBX1NUT1JFIH07XG4gICAgICBzdG9yZU1ldGFEb2NJZlJlYWR5KCk7XG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gY291bnREb2NzXG4gICAgLy9cbiAgICBjb3VudERvY3ModHhuLCBmdW5jdGlvbiAoY291bnQpIHtcbiAgICAgIGRvY0NvdW50ID0gY291bnQ7XG4gICAgICBzdG9yZU1ldGFEb2NJZlJlYWR5KCk7XG4gICAgfSk7XG5cbiAgICAvL1xuICAgIC8vIGNoZWNrIGJsb2Igc3VwcG9ydFxuICAgIC8vXG4gICAgaWYgKCFibG9iU3VwcG9ydFByb21pc2UpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSBibG9iIHN1cHBvcnQgaXMgb25seSBjaGVja2VkIG9uY2VcbiAgICAgIGJsb2JTdXBwb3J0UHJvbWlzZSA9IGNoZWNrQmxvYlN1cHBvcnQodHhuKTtcbiAgICB9XG5cbiAgICBibG9iU3VwcG9ydFByb21pc2UudGhlbihmdW5jdGlvbiAodmFsKSB7XG4gICAgICBibG9iU3VwcG9ydCA9IHZhbDtcbiAgICAgIGNvbXBsZXRlU2V0dXAoKTtcbiAgICB9KTtcblxuICAgIC8vIG9ubHkgd2hlbiB0aGUgbWV0YWRhdGEgcHV0IHRyYW5zYWN0aW9uIGhhcyBjb21wbGV0ZWQsXG4gICAgLy8gY29uc2lkZXIgdGhlIHNldHVwIGRvbmVcbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHN0b3JlZE1ldGFEb2MgPSB0cnVlO1xuICAgICAgY29tcGxldGVTZXR1cCgpO1xuICAgIH07XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gIH07XG5cbiAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBtc2cgPSBlLnRhcmdldC5lcnJvciAmJiBlLnRhcmdldC5lcnJvci5tZXNzYWdlO1xuXG4gICAgaWYgKCFtc2cpIHtcbiAgICAgIG1zZyA9ICdGYWlsZWQgdG8gb3BlbiBpbmRleGVkREIsIGFyZSB5b3UgaW4gcHJpdmF0ZSBicm93c2luZyBtb2RlPyc7XG4gICAgfSBlbHNlIGlmIChtc2cuaW5kZXhPZihcInN0b3JlZCBkYXRhYmFzZSBpcyBhIGhpZ2hlciB2ZXJzaW9uXCIpICE9PSAtMSkge1xuICAgICAgbXNnID0gbmV3IEVycm9yKCdUaGlzIERCIHdhcyBjcmVhdGVkIHdpdGggdGhlIG5ld2VyIFwiaW5kZXhlZGRiXCIgYWRhcHRlciwgYnV0IHlvdSBhcmUgdHJ5aW5nIHRvIG9wZW4gaXQgd2l0aCB0aGUgb2xkZXIgXCJpZGJcIiBhZGFwdGVyJyk7XG4gICAgfVxuXG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgbXNnKTtcbiAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihJREJfRVJST1IsIG1zZykpO1xuICB9O1xufVxuXG5JZGJQb3VjaC52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gRm9sbG93aW5nICM3MDg1IGJ1Z2d5IGlkYiB2ZXJzaW9ucyAodHlwaWNhbGx5IFNhZmFyaSA8IDEwLjEpIGFyZVxuICAvLyBjb25zaWRlcmVkIHZhbGlkLlxuXG4gIC8vIE9uIEZpcmVmb3ggU2VjdXJpdHlFcnJvciBpcyB0aHJvd24gd2hpbGUgcmVmZXJlbmNpbmcgaW5kZXhlZERCIGlmIGNvb2tpZXNcbiAgLy8gYXJlIG5vdCBhbGxvd2VkLiBgdHlwZW9mIGluZGV4ZWREQmAgYWxzbyB0cmlnZ2VycyB0aGUgZXJyb3IuXG4gIHRyeSB7XG4gICAgLy8gc29tZSBvdXRkYXRlZCBpbXBsZW1lbnRhdGlvbnMgb2YgSURCIHRoYXQgYXBwZWFyIG9uIFNhbXN1bmdcbiAgICAvLyBhbmQgSFRDIEFuZHJvaWQgZGV2aWNlcyA8NC40IGFyZSBtaXNzaW5nIElEQktleVJhbmdlXG4gICAgcmV0dXJuIHR5cGVvZiBpbmRleGVkREIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBJREJLZXlSYW5nZSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIElEQlBvdWNoIChQb3VjaERCKSB7XG4gIFBvdWNoREIuYWRhcHRlcignaWRiJywgSWRiUG91Y2gsIHRydWUpO1xufVxuXG4vLyBkZWFkIHNpbXBsZSBwcm9taXNlIHBvb2wsIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS90aW1kcC9lczYtcHJvbWlzZS1wb29sXG4vLyBidXQgbXVjaCBzbWFsbGVyIGluIGNvZGUgc2l6ZS4gbGltaXRzIHRoZSBudW1iZXIgb2YgY29uY3VycmVudCBwcm9taXNlcyB0aGF0IGFyZSBleGVjdXRlZFxuXG5cbmZ1bmN0aW9uIHBvb2wocHJvbWlzZUZhY3RvcmllcywgbGltaXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcnVubmluZyA9IDA7XG4gICAgdmFyIGN1cnJlbnQgPSAwO1xuICAgIHZhciBkb25lID0gMDtcbiAgICB2YXIgbGVuID0gcHJvbWlzZUZhY3Rvcmllcy5sZW5ndGg7XG4gICAgdmFyIGVycjtcblxuICAgIGZ1bmN0aW9uIHJ1bk5leHQoKSB7XG4gICAgICBydW5uaW5nKys7XG4gICAgICBwcm9taXNlRmFjdG9yaWVzW2N1cnJlbnQrK10oKS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9OZXh0KCkge1xuICAgICAgaWYgKCsrZG9uZSA9PT0gbGVuKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBydW5OZXh0QmF0Y2goKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XG4gICAgICBydW5uaW5nLS07XG4gICAgICBkb05leHQoKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IodGhpc0Vycikge1xuICAgICAgcnVubmluZy0tO1xuICAgICAgZXJyID0gZXJyIHx8IHRoaXNFcnI7XG4gICAgICBkb05leHQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5OZXh0QmF0Y2goKSB7XG4gICAgICB3aGlsZSAocnVubmluZyA8IGxpbWl0ICYmIGN1cnJlbnQgPCBsZW4pIHtcbiAgICAgICAgcnVuTmV4dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJ1bk5leHRCYXRjaCgpO1xuICB9KTtcbn1cblxudmFyIENIQU5HRVNfQkFUQ0hfU0laRSA9IDI1O1xudmFyIE1BWF9TSU1VTFRBTkVPVVNfUkVWUyA9IDUwO1xudmFyIENIQU5HRVNfVElNRU9VVF9CVUZGRVIgPSA1MDAwO1xudmFyIERFRkFVTFRfSEVBUlRCRUFUID0gMTAwMDA7XG5cbnZhciBzdXBwb3J0c0J1bGtHZXRNYXAgPSB7fTtcblxuZnVuY3Rpb24gcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocm93KSB7XG4gIHZhciBkb2MgPSByb3cuZG9jIHx8IHJvdy5vaztcbiAgdmFyIGF0dHMgPSBkb2MgJiYgZG9jLl9hdHRhY2htZW50cztcbiAgaWYgKCFhdHRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIE9iamVjdC5rZXlzKGF0dHMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgIGF0dC5kYXRhID0gYjY0VG9CbHVmZmVyKGF0dC5kYXRhLCBhdHQuY29udGVudF90eXBlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZURvY0lkKGlkKSB7XG4gIGlmICgvXl9kZXNpZ24vLnRlc3QoaWQpKSB7XG4gICAgcmV0dXJuICdfZGVzaWduLycgKyBlbmNvZGVVUklDb21wb25lbnQoaWQuc2xpY2UoOCkpO1xuICB9XG4gIGlmICgvXl9sb2NhbC8udGVzdChpZCkpIHtcbiAgICByZXR1cm4gJ19sb2NhbC8nICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkLnNsaWNlKDcpKTtcbiAgfVxuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGlkKTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEoZG9jKSB7XG4gIGlmICghZG9jLl9hdHRhY2htZW50cyB8fCAhT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgYXR0YWNobWVudCA9IGRvYy5fYXR0YWNobWVudHNba2V5XTtcbiAgICBpZiAoYXR0YWNobWVudC5kYXRhICYmIHR5cGVvZiBhdHRhY2htZW50LmRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgYmxvYlRvQmFzZTY0KGF0dGFjaG1lbnQuZGF0YSwgcmVzb2x2ZSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChiNjQpIHtcbiAgICAgICAgYXR0YWNobWVudC5kYXRhID0gYjY0O1xuICAgICAgfSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGhhc1VybFByZWZpeChvcHRzKSB7XG4gIGlmICghb3B0cy5wcmVmaXgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvY29sID0gcGFyc2VVcmkob3B0cy5wcmVmaXgpLnByb3RvY29sO1xuICByZXR1cm4gcHJvdG9jb2wgPT09ICdodHRwJyB8fCBwcm90b2NvbCA9PT0gJ2h0dHBzJztcbn1cblxuLy8gR2V0IGFsbCB0aGUgaW5mb3JtYXRpb24geW91IHBvc3NpYmx5IGNhbiBhYm91dCB0aGUgVVJJIGdpdmVuIGJ5IG5hbWUgYW5kXG4vLyByZXR1cm4gaXQgYXMgYSBzdWl0YWJsZSBvYmplY3QuXG5mdW5jdGlvbiBnZXRIb3N0KG5hbWUsIG9wdHMpIHtcbiAgLy8gZW5jb2RlIGRiIG5hbWUgaWYgb3B0cy5wcmVmaXggaXMgYSB1cmwgKCM1NTc0KVxuICBpZiAoaGFzVXJsUHJlZml4KG9wdHMpKSB7XG4gICAgdmFyIGRiTmFtZSA9IG9wdHMubmFtZS5zdWJzdHIob3B0cy5wcmVmaXgubGVuZ3RoKTtcbiAgICAvLyBFbnN1cmUgcHJlZml4IGhhcyBhIHRyYWlsaW5nIHNsYXNoXG4gICAgdmFyIHByZWZpeCA9IG9wdHMucHJlZml4LnJlcGxhY2UoL1xcLz8kLywgJy8nKTtcbiAgICBuYW1lID0gcHJlZml4ICsgZW5jb2RlVVJJQ29tcG9uZW50KGRiTmFtZSk7XG4gIH1cblxuICB2YXIgdXJpID0gcGFyc2VVcmkobmFtZSk7XG4gIGlmICh1cmkudXNlciB8fCB1cmkucGFzc3dvcmQpIHtcbiAgICB1cmkuYXV0aCA9IHt1c2VybmFtZTogdXJpLnVzZXIsIHBhc3N3b3JkOiB1cmkucGFzc3dvcmR9O1xuICB9XG5cbiAgLy8gU3BsaXQgdGhlIHBhdGggcGFydCBvZiB0aGUgVVJJIGludG8gcGFydHMgdXNpbmcgJy8nIGFzIHRoZSBkZWxpbWl0ZXJcbiAgLy8gYWZ0ZXIgcmVtb3ZpbmcgYW55IGxlYWRpbmcgJy8nIGFuZCBhbnkgdHJhaWxpbmcgJy8nXG4gIHZhciBwYXJ0cyA9IHVyaS5wYXRoLnJlcGxhY2UoLyheXFwvfFxcLyQpL2csICcnKS5zcGxpdCgnLycpO1xuXG4gIHVyaS5kYiA9IHBhcnRzLnBvcCgpO1xuICAvLyBQcmV2ZW50IGRvdWJsZSBlbmNvZGluZyBvZiBVUkkgY29tcG9uZW50XG4gIGlmICh1cmkuZGIuaW5kZXhPZignJScpID09PSAtMSkge1xuICAgIHVyaS5kYiA9IGVuY29kZVVSSUNvbXBvbmVudCh1cmkuZGIpO1xuICB9XG5cbiAgdXJpLnBhdGggPSBwYXJ0cy5qb2luKCcvJyk7XG5cbiAgcmV0dXJuIHVyaTtcbn1cblxuLy8gR2VuZXJhdGUgYSBVUkwgd2l0aCB0aGUgaG9zdCBkYXRhIGdpdmVuIGJ5IG9wdHMgYW5kIHRoZSBnaXZlbiBwYXRoXG5mdW5jdGlvbiBnZW5EQlVybChvcHRzLCBwYXRoKSB7XG4gIHJldHVybiBnZW5Vcmwob3B0cywgb3B0cy5kYiArICcvJyArIHBhdGgpO1xufVxuXG4vLyBHZW5lcmF0ZSBhIFVSTCB3aXRoIHRoZSBob3N0IGRhdGEgZ2l2ZW4gYnkgb3B0cyBhbmQgdGhlIGdpdmVuIHBhdGhcbmZ1bmN0aW9uIGdlblVybChvcHRzLCBwYXRoKSB7XG4gIC8vIElmIHRoZSBob3N0IGFscmVhZHkgaGFzIGEgcGF0aCwgdGhlbiB3ZSBuZWVkIHRvIGhhdmUgYSBwYXRoIGRlbGltaXRlclxuICAvLyBPdGhlcndpc2UsIHRoZSBwYXRoIGRlbGltaXRlciBpcyB0aGUgZW1wdHkgc3RyaW5nXG4gIHZhciBwYXRoRGVsID0gIW9wdHMucGF0aCA/ICcnIDogJy8nO1xuXG4gIC8vIElmIHRoZSBob3N0IGFscmVhZHkgaGFzIGEgcGF0aCwgdGhlbiB3ZSBuZWVkIHRvIGhhdmUgYSBwYXRoIGRlbGltaXRlclxuICAvLyBPdGhlcndpc2UsIHRoZSBwYXRoIGRlbGltaXRlciBpcyB0aGUgZW1wdHkgc3RyaW5nXG4gIHJldHVybiBvcHRzLnByb3RvY29sICsgJzovLycgKyBvcHRzLmhvc3QgK1xuICAgICAgICAgKG9wdHMucG9ydCA/ICgnOicgKyBvcHRzLnBvcnQpIDogJycpICtcbiAgICAgICAgICcvJyArIG9wdHMucGF0aCArIHBhdGhEZWwgKyBwYXRoO1xufVxuXG5mdW5jdGlvbiBwYXJhbXNUb1N0cihwYXJhbXMpIHtcbiAgcmV0dXJuICc/JyArIE9iamVjdC5rZXlzKHBhcmFtcykubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuIGsgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2tdKTtcbiAgfSkuam9pbignJicpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRDYWNoZUJ1c3Qob3B0cykge1xuICB2YXIgdWEgPSAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCkgP1xuICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpIDogJyc7XG4gIHZhciBpc0lFID0gdWEuaW5kZXhPZignbXNpZScpICE9PSAtMTtcbiAgdmFyIGlzVHJpZGVudCA9IHVhLmluZGV4T2YoJ3RyaWRlbnQnKSAhPT0gLTE7XG4gIHZhciBpc0VkZ2UgPSB1YS5pbmRleE9mKCdlZGdlJykgIT09IC0xO1xuICB2YXIgaXNHRVQgPSAhKCdtZXRob2QnIGluIG9wdHMpIHx8IG9wdHMubWV0aG9kID09PSAnR0VUJztcbiAgcmV0dXJuIChpc0lFIHx8IGlzVHJpZGVudCB8fCBpc0VkZ2UpICYmIGlzR0VUO1xufVxuXG4vLyBJbXBsZW1lbnRzIHRoZSBQb3VjaERCIEFQSSBmb3IgZGVhbGluZyB3aXRoIENvdWNoREIgaW5zdGFuY2VzIG92ZXIgSFRUUFxuZnVuY3Rpb24gSHR0cFBvdWNoKG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgLy8gVGhlIGZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgcHVibGljbHkgYXZhaWxhYmxlIGZvciBIdHRwUG91Y2hcbiAgdmFyIGFwaSA9IHRoaXM7XG5cbiAgdmFyIGhvc3QgPSBnZXRIb3N0KG9wdHMubmFtZSwgb3B0cyk7XG4gIHZhciBkYlVybCA9IGdlbkRCVXJsKGhvc3QsICcnKTtcblxuICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgdmFyIG91ckZldGNoID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IG5ldyBoKCk7XG5cbiAgICBvcHRpb25zLmNyZWRlbnRpYWxzID0gJ2luY2x1ZGUnO1xuXG4gICAgaWYgKG9wdHMuYXV0aCB8fCBob3N0LmF1dGgpIHtcbiAgICAgIHZhciBuQXV0aCA9IG9wdHMuYXV0aCB8fCBob3N0LmF1dGg7XG4gICAgICB2YXIgc3RyID0gbkF1dGgudXNlcm5hbWUgKyAnOicgKyBuQXV0aC5wYXNzd29yZDtcbiAgICAgIHZhciB0b2tlbiA9IHRoaXNCdG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKSk7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyB0b2tlbik7XG4gICAgfVxuXG4gICAgdmFyIGhlYWRlcnMgPSBvcHRzLmhlYWRlcnMgfHwge307XG4gICAgT2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuYXBwZW5kKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICB9KTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzaG91bGRDYWNoZUJ1c3Qob3B0aW9ucykpIHtcbiAgICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgJ19ub25jZT0nICsgRGF0ZS5ub3coKTtcbiAgICB9XG5cbiAgICB2YXIgZmV0Y2hGdW4gPSBvcHRzLmZldGNoIHx8IGYkMTtcbiAgICByZXR1cm4gZmV0Y2hGdW4odXJsLCBvcHRpb25zKTtcbiAgfTtcblxuICBmdW5jdGlvbiBhZGFwdGVyRnVuJCQxKG5hbWUsIGZ1bikge1xuICAgIHJldHVybiBhZGFwdGVyRnVuKG5hbWUsIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgIGNhbGxiYWNrKGUpO1xuICAgICAgfSk7XG4gICAgfSkpLmJpbmQoYXBpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoSlNPTih1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgcmVzdWx0ID0ge307XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwgbmV3IGgoKTtcblxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzLmdldCgnQWNjZXB0JykpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91ckZldGNoKHVybCwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJlc3VsdC5vayA9IHJlc3BvbnNlLm9rO1xuICAgICAgcmVzdWx0LnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuICAgICAgcmVzdWx0LmRhdGEgPSBqc29uO1xuICAgICAgaWYgKCFyZXN1bHQub2spIHtcbiAgICAgICAgcmVzdWx0LmRhdGEuc3RhdHVzID0gcmVzdWx0LnN0YXR1cztcbiAgICAgICAgdmFyIGVyciA9IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0LmRhdGEpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEpKSB7XG4gICAgICAgIHJlc3VsdC5kYXRhID0gcmVzdWx0LmRhdGEubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgaWYgKHYuZXJyb3IgfHwgdi5taXNzaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZSh2KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgc2V0dXBQcm9taXNlO1xuXG4gIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIGlmIChvcHRzLnNraXBfc2V0dXApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBhIHNldHVwIGluIHByb2Nlc3Mgb3IgcHJldmlvdXMgc3VjY2Vzc2Z1bCBzZXR1cFxuICAgIC8vIGRvbmUgdGhlbiB3ZSB3aWxsIHVzZSB0aGF0XG4gICAgLy8gSWYgcHJldmlvdXMgc2V0dXBzIGhhdmUgYmVlbiByZWplY3RlZCB3ZSB3aWxsIHRyeSBhZ2FpblxuICAgIGlmIChzZXR1cFByb21pc2UpIHtcbiAgICAgIHJldHVybiBzZXR1cFByb21pc2U7XG4gICAgfVxuXG4gICAgc2V0dXBQcm9taXNlID0gZmV0Y2hKU09OKGRiVXJsKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgJiYgZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIC8vIERvZXNudCBleGlzdCwgY3JlYXRlIGl0XG4gICAgICAgIGV4cGxhaW5FcnJvcig0MDQsICdQb3VjaERCIGlzIGp1c3QgZGV0ZWN0aW5nIGlmIHRoZSByZW1vdGUgZXhpc3RzLicpO1xuICAgICAgICByZXR1cm4gZmV0Y2hKU09OKGRiVXJsLCB7bWV0aG9kOiAnUFVUJ30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLy8gSWYgd2UgdHJ5IHRvIGNyZWF0ZSBhIGRhdGFiYXNlIHRoYXQgYWxyZWFkeSBleGlzdHMsIHNraXBwZWQgaW5cbiAgICAgIC8vIGlzdGFuYnVsIHNpbmNlIGl0cyBjYXRjaGluZyBhIHJhY2UgY29uZGl0aW9uLlxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgJiYgZXJyLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7XG5cbiAgICBzZXR1cFByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgc2V0dXBQcm9taXNlID0gbnVsbDtcbiAgICB9KTtcblxuICAgIHJldHVybiBzZXR1cFByb21pc2U7XG4gIH1cblxuICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gIH0pO1xuXG4gIGFwaS5fcmVtb3RlID0gdHJ1ZTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBhcGkudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ2h0dHAnO1xuICB9O1xuXG4gIGFwaS5pZCA9IGFkYXB0ZXJGdW4kJDEoJ2lkJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgb3VyRmV0Y2goZ2VuVXJsKGhvc3QsICcnKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgLy8gQmFkIHJlc3BvbnNlIG9yIG1pc3NpbmcgYHV1aWRgIHNob3VsZCBub3QgcHJldmVudCBJRCBnZW5lcmF0aW9uLlxuICAgICAgdmFyIHV1aWQkJDEgPSAocmVzdWx0ICYmIHJlc3VsdC51dWlkKSA/XG4gICAgICAgICAgKHJlc3VsdC51dWlkICsgaG9zdC5kYikgOiBnZW5EQlVybChob3N0LCAnJyk7XG4gICAgICBjYWxsYmFjayhudWxsLCB1dWlkJCQxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gU2VuZHMgYSBQT1NUIHJlcXVlc3QgdG8gdGhlIGhvc3QgY2FsbGluZyB0aGUgY291Y2hkYiBfY29tcGFjdCBmdW5jdGlvblxuICAvLyAgICB2ZXJzaW9uOiBUaGUgdmVyc2lvbiBvZiBDb3VjaERCIGl0IGlzIHJ1bm5pbmdcbiAgYXBpLmNvbXBhY3QgPSBhZGFwdGVyRnVuJCQxKCdjb21wYWN0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2NvbXBhY3QnKSwge21ldGhvZDogJ1BPU1QnfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBwaW5nKCkge1xuICAgICAgICBhcGkuaW5mbyhmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICAvLyBDb3VjaERCIG1heSBzZW5kIGEgXCJjb21wYWN0X3J1bm5pbmc6dHJ1ZVwiIGlmIGl0J3NcbiAgICAgICAgICAvLyBhbHJlYWR5IGNvbXBhY3RpbmcuIFBvdWNoREIgU2VydmVyIGRvZXNuJ3QuXG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAocmVzICYmICFyZXMuY29tcGFjdF9ydW5uaW5nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dChwaW5nLCBvcHRzLmludGVydmFsIHx8IDIwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIFBpbmcgdGhlIGh0dHAgaWYgaXQncyBmaW5pc2hlZCBjb21wYWN0aW9uXG4gICAgICBwaW5nKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGFwaS5idWxrR2V0ID0gYWRhcHRlckZ1bignYnVsa0dldCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIGRvQnVsa0dldChjYikge1xuICAgICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgICAgaWYgKG9wdHMucmV2cykge1xuICAgICAgICBwYXJhbXMucmV2cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMubGF0ZXN0KSB7XG4gICAgICAgIHBhcmFtcy5sYXRlc3QgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfYnVsa19nZXQnICsgcGFyYW1zVG9TdHIocGFyYW1zKSksIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZG9jczogb3B0cy5kb2NzfSlcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICAgIHJlc3VsdC5kYXRhLnJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICByZXMuZG9jcy5mb3JFYWNoKHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYihudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgICB9KS5jYXRjaChjYik7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBkb0J1bGtHZXRTaGltKCkge1xuICAgICAgLy8gYXZvaWQgXCJ1cmwgdG9vIGxvbmcgZXJyb3JcIiBieSBzcGxpdHRpbmcgdXAgaW50byBtdWx0aXBsZSByZXF1ZXN0c1xuICAgICAgdmFyIGJhdGNoU2l6ZSA9IE1BWF9TSU1VTFRBTkVPVVNfUkVWUztcbiAgICAgIHZhciBudW1CYXRjaGVzID0gTWF0aC5jZWlsKG9wdHMuZG9jcy5sZW5ndGggLyBiYXRjaFNpemUpO1xuICAgICAgdmFyIG51bURvbmUgPSAwO1xuICAgICAgdmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkobnVtQmF0Y2hlcyk7XG5cbiAgICAgIGZ1bmN0aW9uIG9uUmVzdWx0KGJhdGNoTnVtKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICAvLyBlcnIgaXMgaW1wb3NzaWJsZSBiZWNhdXNlIHNoaW0gcmV0dXJucyBhIGxpc3Qgb2YgZXJycyBpbiB0aGF0IGNhc2VcbiAgICAgICAgICByZXN1bHRzW2JhdGNoTnVtXSA9IHJlcy5yZXN1bHRzO1xuICAgICAgICAgIGlmICgrK251bURvbmUgPT09IG51bUJhdGNoZXMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtyZXN1bHRzOiBmbGF0dGVuKHJlc3VsdHMpfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUJhdGNoZXM7IGkrKykge1xuICAgICAgICB2YXIgc3ViT3B0cyA9IHBpY2sob3B0cywgWydyZXZzJywgJ2F0dGFjaG1lbnRzJywgJ2JpbmFyeScsICdsYXRlc3QnXSk7XG4gICAgICAgIHN1Yk9wdHMuZG9jcyA9IG9wdHMuZG9jcy5zbGljZShpICogYmF0Y2hTaXplLFxuICAgICAgICAgIE1hdGgubWluKG9wdHMuZG9jcy5sZW5ndGgsIChpICsgMSkgKiBiYXRjaFNpemUpKTtcbiAgICAgICAgYnVsa0dldChzZWxmLCBzdWJPcHRzLCBvblJlc3VsdChpKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbWFyayB0aGUgd2hvbGUgZGF0YWJhc2UgYXMgZWl0aGVyIHN1cHBvcnRpbmcgb3Igbm90IHN1cHBvcnRpbmcgX2J1bGtfZ2V0XG4gICAgdmFyIGRiVXJsID0gZ2VuVXJsKGhvc3QsICcnKTtcbiAgICB2YXIgc3VwcG9ydHNCdWxrR2V0ID0gc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0c0J1bGtHZXQgIT09ICdib29sZWFuJykge1xuICAgICAgLy8gY2hlY2sgaWYgdGhpcyBkYXRhYmFzZSBzdXBwb3J0cyBfYnVsa19nZXRcbiAgICAgIGRvQnVsa0dldChmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHN1cHBvcnRzQnVsa0dldE1hcFtkYlVybF0gPSBmYWxzZTtcbiAgICAgICAgICBleHBsYWluRXJyb3IoXG4gICAgICAgICAgICBlcnIuc3RhdHVzLFxuICAgICAgICAgICAgJ1BvdWNoREIgaXMganVzdCBkZXRlY3RpbmcgaWYgdGhlIHJlbW90ZSAnICtcbiAgICAgICAgICAgICdzdXBwb3J0cyB0aGUgX2J1bGtfZ2V0IEFQSS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkb0J1bGtHZXRTaGltKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXSA9IHRydWU7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0c0J1bGtHZXQpIHtcbiAgICAgIGRvQnVsa0dldChjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvQnVsa0dldFNoaW0oKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIENhbGxzIEdFVCBvbiB0aGUgaG9zdCwgd2hpY2ggZ2V0cyBiYWNrIGEgSlNPTiBzdHJpbmcgY29udGFpbmluZ1xuICAvLyAgICBjb3VjaGRiOiBBIHdlbGNvbWUgc3RyaW5nXG4gIC8vICAgIHZlcnNpb246IFRoZSB2ZXJzaW9uIG9mIENvdWNoREIgaXQgaXMgcnVubmluZ1xuICBhcGkuX2luZm8gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG91ckZldGNoKGdlbkRCVXJsKGhvc3QsICcnKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuICAgICAgaW5mby5ob3N0ID0gZ2VuREJVcmwoaG9zdCwgJycpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9O1xuXG4gIGFwaS5mZXRjaCA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdXJsID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJyA/XG4gICAgICAgIGdlblVybChob3N0LCBwYXRoLnN1YnN0cmluZygxKSkgOlxuICAgICAgICBnZW5EQlVybChob3N0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvdXJGZXRjaCh1cmwsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEdldCB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWQgZnJvbSB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgLy8gVGhlIGlkIGNvdWxkIGJlIHNvbGVseSB0aGUgX2lkIGluIHRoZSBkYXRhYmFzZSwgb3IgaXQgbWF5IGJlIGFcbiAgLy8gX2Rlc2lnbi9JRCBvciBfbG9jYWwvSUQgcGF0aFxuICBhcGkuZ2V0ID0gYWRhcHRlckZ1biQkMSgnZ2V0JywgZnVuY3Rpb24gKGlkLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIElmIG5vIG9wdGlvbnMgd2VyZSBnaXZlbiwgc2V0IHRoZSBjYWxsYmFjayB0byB0aGUgc2Vjb25kIHBhcmFtZXRlclxuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBHRVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSB7fTtcblxuICAgIGlmIChvcHRzLnJldnMpIHtcbiAgICAgIHBhcmFtcy5yZXZzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXZzX2luZm8pIHtcbiAgICAgIHBhcmFtcy5yZXZzX2luZm8gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmxhdGVzdCkge1xuICAgICAgcGFyYW1zLmxhdGVzdCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMub3Blbl9yZXZzKSB7XG4gICAgICBpZiAob3B0cy5vcGVuX3JldnMgIT09IFwiYWxsXCIpIHtcbiAgICAgICAgb3B0cy5vcGVuX3JldnMgPSBKU09OLnN0cmluZ2lmeShvcHRzLm9wZW5fcmV2cyk7XG4gICAgICB9XG4gICAgICBwYXJhbXMub3Blbl9yZXZzID0gb3B0cy5vcGVuX3JldnM7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucmV2KSB7XG4gICAgICBwYXJhbXMucmV2ID0gb3B0cy5yZXY7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gb3B0cy5jb25mbGljdHM7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSBvcHRzLnVwZGF0ZV9zZXE7XG4gICAgfVxuXG4gICAgaWQgPSBlbmNvZGVEb2NJZChpZCk7XG5cbiAgICBmdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnRzKGRvYykge1xuICAgICAgdmFyIGF0dHMgPSBkb2MuX2F0dGFjaG1lbnRzO1xuICAgICAgdmFyIGZpbGVuYW1lcyA9IGF0dHMgJiYgT2JqZWN0LmtleXMoYXR0cyk7XG4gICAgICBpZiAoIWF0dHMgfHwgIWZpbGVuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gd2UgZmV0Y2ggdGhlc2UgbWFudWFsbHkgaW4gc2VwYXJhdGUgWEhScywgYmVjYXVzZVxuICAgICAgLy8gU3luYyBHYXRld2F5IHdvdWxkIG5vcm1hbGx5IHNlbmQgaXQgYmFjayBhcyBtdWx0aXBhcnQvbWl4ZWQsXG4gICAgICAvLyB3aGljaCB3ZSBjYW5ub3QgcGFyc2UuIEFsc28sIHRoaXMgaXMgbW9yZSBlZmZpY2llbnQgdGhhblxuICAgICAgLy8gcmVjZWl2aW5nIGF0dGFjaG1lbnRzIGFzIGJhc2U2NC1lbmNvZGVkIHN0cmluZ3MuXG4gICAgICBmdW5jdGlvbiBmZXRjaERhdGEoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgICAgICB2YXIgcGF0aCA9IGVuY29kZURvY0lkKGRvYy5faWQpICsgJy8nICsgZW5jb2RlQXR0YWNobWVudElkKGZpbGVuYW1lKSArXG4gICAgICAgICAgICAnP3Jldj0nICsgZG9jLl9yZXY7XG4gICAgICAgIHJldHVybiBvdXJGZXRjaChnZW5EQlVybChob3N0LCBwYXRoKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAoJ2J1ZmZlcicgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5idWZmZXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAgICAgaWYgKG9wdHMuYmluYXJ5KSB7XG4gICAgICAgICAgICB2YXIgdHlwZUZpZWxkRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmxvYi5fX3Byb3RvX18sICd0eXBlJyk7XG4gICAgICAgICAgICBpZiAoIXR5cGVGaWVsZERlc2NyaXB0b3IgfHwgdHlwZUZpZWxkRGVzY3JpcHRvci5zZXQpIHtcbiAgICAgICAgICAgICAgYmxvYi50eXBlID0gYXR0LmNvbnRlbnRfdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBibG9iO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGJsb2JUb0Jhc2U2NChibG9iLCByZXNvbHZlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGRlbGV0ZSBhdHQuc3R1YjtcbiAgICAgICAgICBkZWxldGUgYXR0Lmxlbmd0aDtcbiAgICAgICAgICBhdHQuZGF0YSA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZUZhY3RvcmllcyA9IGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoRGF0YShmaWxlbmFtZSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgLy8gVGhpcyBsaW1pdHMgdGhlIG51bWJlciBvZiBwYXJhbGxlbCB4aHIgcmVxdWVzdHMgdG8gNSBhbnkgdGltZVxuICAgICAgLy8gdG8gYXZvaWQgaXNzdWVzIHdpdGggbWF4aW11bSBicm93c2VyIHJlcXVlc3QgbGltaXRzXG4gICAgICByZXR1cm4gcG9vbChwcm9taXNlRmFjdG9yaWVzLCA1KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmZXRjaEFsbEF0dGFjaG1lbnRzKGRvY09yRG9jcykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZG9jT3JEb2NzKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZG9jT3JEb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIGZldGNoQXR0YWNobWVudHMoZG9jLm9rKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmZXRjaEF0dGFjaG1lbnRzKGRvY09yRG9jcyk7XG4gICAgfVxuXG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGlkICsgcGFyYW1zVG9TdHIocGFyYW1zKSk7XG4gICAgZmV0Y2hKU09OKHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoQWxsQXR0YWNobWVudHMocmVzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzLmRhdGEpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuZG9jSWQgPSBpZDtcbiAgICAgIGNhbGxiYWNrKGUpO1xuICAgIH0pO1xuICB9KTtcblxuXG4gIC8vIERlbGV0ZSB0aGUgZG9jdW1lbnQgZ2l2ZW4gYnkgZG9jIGZyb20gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5yZW1vdmUgPSBhZGFwdGVyRnVuJCQxKCdyZW1vdmUnLCBmdW5jdGlvbiAoZG9jT3JJZCwgb3B0c09yUmV2LCBvcHRzLCBjYikge1xuICAgIHZhciBkb2M7XG4gICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBpZCwgcmV2LCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgICAgZG9jID0ge1xuICAgICAgICBfaWQ6IGRvY09ySWQsXG4gICAgICAgIF9yZXY6IG9wdHNPclJldlxuICAgICAgfTtcbiAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IG9wdHM7XG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZG9jLCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgICAgZG9jID0gZG9jT3JJZDtcbiAgICAgIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiID0gb3B0c09yUmV2O1xuICAgICAgICBvcHRzID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYiA9IG9wdHM7XG4gICAgICAgIG9wdHMgPSBvcHRzT3JSZXY7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJldiA9IChkb2MuX3JldiB8fCBvcHRzLnJldik7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvYy5faWQpKSArICc/cmV2PScgKyByZXY7XG5cbiAgICBmZXRjaEpTT04odXJsLCB7bWV0aG9kOiAnREVMRVRFJ30sIGNiKS5jYXRjaChjYik7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpIHtcbiAgICByZXR1cm4gYXR0YWNobWVudElkLnNwbGl0KFwiL1wiKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKFwiL1wiKTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgYXR0YWNobWVudFxuICBhcGkuZ2V0QXR0YWNobWVudCA9IGFkYXB0ZXJGdW4kJDEoJ2dldEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIHZhciBwYXJhbXMgPSBvcHRzLnJldiA/ICgnP3Jldj0nICsgb3B0cy5yZXYpIDogJyc7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvY0lkKSkgKyAnLycgK1xuICAgICAgICBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSArIHBhcmFtcztcbiAgICB2YXIgY29udGVudFR5cGU7XG4gICAgb3VyRmV0Y2godXJsLCB7bWV0aG9kOiAnR0VUJ30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgcmVzcG9uc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICFwcm9jZXNzLmJyb3dzZXIgJiYgdHlwZW9mIHJlc3BvbnNlLmJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5idWZmZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAvLyBUT0RPOiBhbHNvIHJlbW92ZVxuICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAhcHJvY2Vzcy5icm93c2VyKSB7XG4gICAgICAgIGJsb2IudHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgYmxvYik7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gUmVtb3ZlIHRoZSBhdHRhY2htZW50IGdpdmVuIGJ5IHRoZSBpZCBhbmQgcmV2XG4gIGFwaS5yZW1vdmVBdHRhY2htZW50ID0gIGFkYXB0ZXJGdW4kJDEoJ3JlbW92ZUF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2NJZCkgKyAnLycgK1xuICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSkgKyAnP3Jldj0nICsgcmV2O1xuICAgIGZldGNoSlNPTih1cmwsIHttZXRob2Q6ICdERUxFVEUnfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gQWRkIHRoZSBhdHRhY2htZW50IGdpdmVuIGJ5IGJsb2IgYW5kIGl0cyBjb250ZW50VHlwZSBwcm9wZXJ0eVxuICAvLyB0byB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWQsIHRoZSByZXZpc2lvbiBnaXZlbiBieSByZXYsIGFuZFxuICAvLyBhZGQgaXQgdG8gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5wdXRBdHRhY2htZW50ID0gYWRhcHRlckZ1biQkMSgncHV0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2LCBibG9iLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gdHlwZTtcbiAgICAgIHR5cGUgPSBibG9iO1xuICAgICAgYmxvYiA9IHJldjtcbiAgICAgIHJldiA9IG51bGw7XG4gICAgfVxuICAgIHZhciBpZCA9IGVuY29kZURvY0lkKGRvY0lkKSArICcvJyArIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpO1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBpZCk7XG4gICAgaWYgKHJldikge1xuICAgICAgdXJsICs9ICc/cmV2PScgKyByZXY7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gaW5wdXQgaXMgYXNzdW1lZCB0byBiZSBhIGJhc2U2NCBzdHJpbmdcbiAgICAgIHZhciBiaW5hcnk7XG4gICAgICB0cnkge1xuICAgICAgICBiaW5hcnkgPSB0aGlzQXRvYihibG9iKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoQkFEX0FSRyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdBdHRhY2htZW50IGlzIG5vdCBhIHZhbGlkIGJhc2U2NCBzdHJpbmcnKSk7XG4gICAgICB9XG4gICAgICBibG9iID0gYmluYXJ5ID8gYmluU3RyaW5nVG9CbHVmZmVyKGJpbmFyeSwgdHlwZSkgOiAnJztcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGF0dGFjaG1lbnRcbiAgICBmZXRjaEpTT04odXJsLCB7XG4gICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6IHR5cGV9KSxcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBibG9iXG4gICAgfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gVXBkYXRlL2NyZWF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgZ2l2ZW4gYnkgcmVxIGluIHRoZSBkYXRhYmFzZVxuICAvLyBnaXZlbiBieSBob3N0LlxuICBhcGkuX2J1bGtEb2NzID0gZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBuZXdfZWRpdHM9ZmFsc2UgdGhlbiBpdCBwcmV2ZW50cyB0aGUgZGF0YWJhc2UgZnJvbSBjcmVhdGluZ1xuICAgIC8vIG5ldyByZXZpc2lvbiBudW1iZXJzIGZvciB0aGUgZG9jdW1lbnRzLiBJbnN0ZWFkIGl0IGp1c3QgdXNlc1xuICAgIC8vIHRoZSBvbGQgb25lcy4gVGhpcyBpcyB1c2VkIGluIGRhdGFiYXNlIHJlcGxpY2F0aW9uLlxuICAgIHJlcS5uZXdfZWRpdHMgPSBvcHRzLm5ld19lZGl0cztcblxuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVxLmRvY3MubWFwKHByZXByb2Nlc3NBdHRhY2htZW50cyQxKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBVcGRhdGUvY3JlYXRlIHRoZSBkb2N1bWVudHNcbiAgICAgIHJldHVybiBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19idWxrX2RvY3MnKSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxKVxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfTtcblxuXG4gIC8vIFVwZGF0ZS9jcmVhdGUgZG9jdW1lbnRcbiAgYXBpLl9wdXQgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEoZG9jKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jLl9pZCkpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRvYylcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGVyci5kb2NJZCA9IGRvYyAmJiBkb2MuX2lkO1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuXG4gIC8vIEdldCBhIGxpc3Rpbmcgb2YgdGhlIGRvY3VtZW50cyBpbiB0aGUgZGF0YWJhc2UgZ2l2ZW5cbiAgLy8gYnkgaG9zdCBhbmQgb3JkZXJlZCBieSBpbmNyZWFzaW5nIGlkLlxuICBhcGkuYWxsRG9jcyA9IGFkYXB0ZXJGdW4kJDEoJ2FsbERvY3MnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgR0VUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0ge307XG4gICAgdmFyIGJvZHk7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICBwYXJhbXMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgcGFyYW1zLmRlc2NlbmRpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgcGFyYW1zLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gYWRkZWQgaW4gQ291Y2hEQiAxLjYuMFxuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmtleSkge1xuICAgICAgcGFyYW1zLmtleSA9IEpTT04uc3RyaW5naWZ5KG9wdHMua2V5KTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zdGFydF9rZXkpIHtcbiAgICAgIG9wdHMuc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zdGFydGtleSkge1xuICAgICAgcGFyYW1zLnN0YXJ0a2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5zdGFydGtleSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5kX2tleSkge1xuICAgICAgb3B0cy5lbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5ka2V5KSB7XG4gICAgICBwYXJhbXMuZW5ka2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5lbmRrZXkpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5pbmNsdXNpdmVfZW5kICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLmluY2x1c2l2ZV9lbmQgPSAhIW9wdHMuaW5jbHVzaXZlX2VuZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMubGltaXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMubGltaXQgPSBvcHRzLmxpbWl0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5za2lwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnNraXAgPSBvcHRzLnNraXA7XG4gICAgfVxuXG4gICAgdmFyIHBhcmFtU3RyID0gcGFyYW1zVG9TdHIocGFyYW1zKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgYm9keSA9IHtrZXlzOiBvcHRzLmtleXN9O1xuICAgIH1cblxuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2FsbF9kb2NzJyArIHBhcmFtU3RyKSwge1xuICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgIHJlc3VsdC5kYXRhLnJvd3MuZm9yRWFjaChyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcik7XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICAvLyBHZXQgYSBsaXN0IG9mIGNoYW5nZXMgbWFkZSB0byBkb2N1bWVudHMgaW4gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIC8vIFRPRE8gQWNjb3JkaW5nIHRvIHRoZSBSRUFETUUsIHRoZXJlIHNob3VsZCBiZSB0d28gb3RoZXIgbWV0aG9kcyBoZXJlLFxuICAvLyBhcGkuY2hhbmdlcy5hZGRMaXN0ZW5lciBhbmQgYXBpLmNoYW5nZXMucmVtb3ZlTGlzdGVuZXIuXG4gIGFwaS5fY2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG5cbiAgICAvLyBXZSBpbnRlcm5hbGx5IHBhZ2UgdGhlIHJlc3VsdHMgb2YgYSBjaGFuZ2VzIHJlcXVlc3QsIHRoaXMgbWVhbnNcbiAgICAvLyBpZiB0aGVyZSBpcyBhIGxhcmdlIHNldCBvZiBjaGFuZ2VzIHRvIGJlIHJldHVybmVkIHdlIGNhbiBzdGFydFxuICAgIC8vIHByb2Nlc3NpbmcgdGhlbSBxdWlja2VyIGluc3RlYWQgb2Ygd2FpdGluZyBvbiB0aGUgZW50aXJlXG4gICAgLy8gc2V0IG9mIGNoYW5nZXMgdG8gcmV0dXJuIGFuZCBhdHRlbXB0aW5nIHRvIHByb2Nlc3MgdGhlbSBhdCBvbmNlXG4gICAgdmFyIGJhdGNoU2l6ZSA9ICdiYXRjaF9zaXplJyBpbiBvcHRzID8gb3B0cy5iYXRjaF9zaXplIDogQ0hBTkdFU19CQVRDSF9TSVpFO1xuXG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgaWYgKG9wdHMuY29udGludW91cyAmJiAhKCdoZWFydGJlYXQnIGluIG9wdHMpKSB7XG4gICAgICBvcHRzLmhlYXJ0YmVhdCA9IERFRkFVTFRfSEVBUlRCRUFUO1xuICAgIH1cblxuICAgIHZhciByZXF1ZXN0VGltZW91dCA9ICgndGltZW91dCcgaW4gb3B0cykgPyBvcHRzLnRpbWVvdXQgOiAzMCAqIDEwMDA7XG5cbiAgICAvLyBlbnN1cmUgQ0hBTkdFU19USU1FT1VUX0JVRkZFUiBhcHBsaWVzXG4gICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzICYmIG9wdHMudGltZW91dCAmJlxuICAgICAgKHJlcXVlc3RUaW1lb3V0IC0gb3B0cy50aW1lb3V0KSA8IENIQU5HRVNfVElNRU9VVF9CVUZGRVIpIHtcbiAgICAgICAgcmVxdWVzdFRpbWVvdXQgPSBvcHRzLnRpbWVvdXQgKyBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzICYmIG9wdHMuaGVhcnRiZWF0ICYmXG4gICAgICAgKHJlcXVlc3RUaW1lb3V0IC0gb3B0cy5oZWFydGJlYXQpIDwgQ0hBTkdFU19USU1FT1VUX0JVRkZFUikge1xuICAgICAgICByZXF1ZXN0VGltZW91dCA9IG9wdHMuaGVhcnRiZWF0ICsgQ0hBTkdFU19USU1FT1VUX0JVRkZFUjtcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1zID0ge307XG4gICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzICYmIG9wdHMudGltZW91dCkge1xuICAgICAgcGFyYW1zLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQ7XG4gICAgfVxuXG4gICAgdmFyIGxpbWl0ID0gKHR5cGVvZiBvcHRzLmxpbWl0ICE9PSAndW5kZWZpbmVkJykgPyBvcHRzLmxpbWl0IDogZmFsc2U7XG4gICAgdmFyIGxlZnRUb0ZldGNoID0gbGltaXQ7XG5cbiAgICBpZiAob3B0cy5zdHlsZSkge1xuICAgICAgcGFyYW1zLnN0eWxlID0gb3B0cy5zdHlsZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgfHwgb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwYXJhbXMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgcGFyYW1zLmF0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb250aW51b3VzKSB7XG4gICAgICBwYXJhbXMuZmVlZCA9ICdsb25ncG9sbCc7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc2VxX2ludGVydmFsKSB7XG4gICAgICBwYXJhbXMuc2VxX2ludGVydmFsID0gb3B0cy5zZXFfaW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICBwYXJhbXMuZGVzY2VuZGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzKSB7XG4gICAgICAvLyBJZiB0aGUgaGVhcnRiZWF0IHZhbHVlIGlzIGZhbHNlLCBpdCBkaXNhYmxlcyB0aGUgZGVmYXVsdCBoZWFydGJlYXRcbiAgICAgIGlmIChvcHRzLmhlYXJ0YmVhdCkge1xuICAgICAgICBwYXJhbXMuaGVhcnRiZWF0ID0gb3B0cy5oZWFydGJlYXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSBvcHRzLmZpbHRlcjtcbiAgICB9XG5cbiAgICBpZiAob3B0cy52aWV3ICYmIHR5cGVvZiBvcHRzLnZpZXcgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ192aWV3JztcbiAgICAgIHBhcmFtcy52aWV3ID0gb3B0cy52aWV3O1xuICAgIH1cblxuICAgIC8vIElmIG9wdHMucXVlcnlfcGFyYW1zIGV4aXN0cywgcGFzcyBpdCB0aHJvdWdoIHRvIHRoZSBjaGFuZ2VzIHJlcXVlc3QuXG4gICAgLy8gVGhlc2UgcGFyYW1ldGVycyBtYXkgYmUgdXNlZCBieSB0aGUgZmlsdGVyIG9uIHRoZSBzb3VyY2UgZGF0YWJhc2UuXG4gICAgaWYgKG9wdHMucXVlcnlfcGFyYW1zICYmIHR5cGVvZiBvcHRzLnF1ZXJ5X3BhcmFtcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAodmFyIHBhcmFtX25hbWUgaW4gb3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRzLnF1ZXJ5X3BhcmFtcywgcGFyYW1fbmFtZSkpIHtcbiAgICAgICAgICBwYXJhbXNbcGFyYW1fbmFtZV0gPSBvcHRzLnF1ZXJ5X3BhcmFtc1twYXJhbV9uYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICB2YXIgYm9keTtcblxuICAgIGlmIChvcHRzLmRvY19pZHMpIHtcbiAgICAgIC8vIHNldCB0aGlzIGF1dG9tYWdpY2FsbHkgZm9yIHRoZSB1c2VyOyBpdCdzIGFubm95aW5nIHRoYXQgY291Y2hkYlxuICAgICAgLy8gcmVxdWlyZXMgYm90aCBhIFwiZmlsdGVyXCIgYW5kIGEgXCJkb2NfaWRzXCIgcGFyYW0uXG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ19kb2NfaWRzJztcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7ZG9jX2lkczogb3B0cy5kb2NfaWRzIH07XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZWxzZSBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgICAgLy8gc2V0IHRoaXMgYXV0b21hZ2ljYWxseSBmb3IgdGhlIHVzZXIsIHNpbWlsYXIgdG8gYWJvdmVcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSAnX3NlbGVjdG9yJztcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7c2VsZWN0b3I6IG9wdHMuc2VsZWN0b3IgfTtcbiAgICB9XG5cbiAgICB2YXIgY29udHJvbGxlciA9IG5ldyBhKCk7XG4gICAgdmFyIGxhc3RGZXRjaGVkU2VxO1xuXG4gICAgLy8gR2V0IGFsbCB0aGUgY2hhbmdlcyBzdGFydGluZyB3dGloIHRoZSBvbmUgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gICAgLy8gc2VxdWVuY2UgbnVtYmVyIGdpdmVuIGJ5IHNpbmNlLlxuICAgIHZhciBmZXRjaERhdGEgPSBmdW5jdGlvbiAoc2luY2UsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcmFtcy5zaW5jZSA9IHNpbmNlO1xuICAgICAgLy8gXCJzaW5jZVwiIGNhbiBiZSBhbnkga2luZCBvZiBqc29uIG9iamVjdCBpbiBDbG91ZGFudC9Db3VjaERCIDIueFxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zLnNpbmNlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHBhcmFtcy5zaW5jZSA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcy5zaW5jZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgICAgaWYgKGxpbWl0KSB7XG4gICAgICAgICAgcGFyYW1zLmxpbWl0ID0gbGVmdFRvRmV0Y2g7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmFtcy5saW1pdCA9ICghbGltaXQgfHwgbGVmdFRvRmV0Y2ggPiBiYXRjaFNpemUpID9cbiAgICAgICAgICBiYXRjaFNpemUgOiBsZWZ0VG9GZXRjaDtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSBvcHRpb25zIGZvciB0aGUgYWpheCBjYWxsXG4gICAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgJ19jaGFuZ2VzJyArIHBhcmFtc1RvU3RyKHBhcmFtcykpO1xuICAgICAgdmFyIGZldGNoT3B0cyA9IHtcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICB9O1xuICAgICAgbGFzdEZldGNoZWRTZXEgPSBzaW5jZTtcblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBjaGFuZ2VzXG4gICAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2hKU09OKHVybCwgZmV0Y2hPcHRzLCBjYWxsYmFjayk7XG4gICAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIC8vIElmIG9wdHMuc2luY2UgZXhpc3RzLCBnZXQgYWxsIHRoZSBjaGFuZ2VzIGZyb20gdGhlIHNlcXVlbmNlXG4gICAgLy8gbnVtYmVyIGdpdmVuIGJ5IG9wdHMuc2luY2UuIE90aGVyd2lzZSwgZ2V0IGFsbCB0aGUgY2hhbmdlc1xuICAgIC8vIGZyb20gdGhlIHNlcXVlbmNlIG51bWJlciAwLlxuICAgIHZhciByZXN1bHRzID0ge3Jlc3VsdHM6IFtdfTtcblxuICAgIHZhciBmZXRjaGVkID0gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciByYXdfcmVzdWx0c19sZW5ndGggPSAwO1xuICAgICAgLy8gSWYgdGhlIHJlc3VsdCBvZiB0aGUgYWpheCBjYWxsIChyZXMpIGNvbnRhaW5zIGNoYW5nZXMgKHJlcy5yZXN1bHRzKVxuICAgICAgaWYgKHJlcyAmJiByZXMucmVzdWx0cykge1xuICAgICAgICByYXdfcmVzdWx0c19sZW5ndGggPSByZXMucmVzdWx0cy5sZW5ndGg7XG4gICAgICAgIHJlc3VsdHMubGFzdF9zZXEgPSByZXMubGFzdF9zZXE7XG4gICAgICAgIHZhciBwZW5kaW5nID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RTZXEgPSBudWxsO1xuICAgICAgICAvLyBBdHRhY2ggJ3BlbmRpbmcnIHByb3BlcnR5IGlmIHNlcnZlciBzdXBwb3J0cyBpdCAoQ291Y2hEQiAyLjArKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHR5cGVvZiByZXMucGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBwZW5kaW5nID0gcmVzLnBlbmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHRzLmxhc3Rfc2VxID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmVzdWx0cy5sYXN0X3NlcSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBsYXN0U2VxID0gcmVzdWx0cy5sYXN0X3NlcTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3IgZWFjaCBjaGFuZ2VcbiAgICAgICAgdmFyIHJlcSA9IHt9O1xuICAgICAgICByZXEucXVlcnkgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcbiAgICAgICAgcmVzLnJlc3VsdHMgPSByZXMucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICBsZWZ0VG9GZXRjaC0tO1xuICAgICAgICAgIHZhciByZXQgPSBmaWx0ZXJDaGFuZ2Uob3B0cykoYyk7XG4gICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzICYmIG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgICAgICAgcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0cy5yZXR1cm5fZG9jcykge1xuICAgICAgICAgICAgICByZXN1bHRzLnJlc3VsdHMucHVzaChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdHMub25DaGFuZ2UoYywgcGVuZGluZywgbGFzdFNlcSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgLy8gSW4gY2FzZSBvZiBhbiBlcnJvciwgc3RvcCBsaXN0ZW5pbmcgZm9yIGNoYW5nZXMgYW5kIGNhbGxcbiAgICAgICAgLy8gb3B0cy5jb21wbGV0ZVxuICAgICAgICBvcHRzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICBvcHRzLmNvbXBsZXRlKGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNoYW5nZXMgZmVlZCBtYXkgaGF2ZSB0aW1lZCBvdXQgd2l0aCBubyByZXN1bHRzXG4gICAgICAvLyBpZiBzbyByZXVzZSBsYXN0IHVwZGF0ZSBzZXF1ZW5jZVxuICAgICAgaWYgKHJlcyAmJiByZXMubGFzdF9zZXEpIHtcbiAgICAgICAgbGFzdEZldGNoZWRTZXEgPSByZXMubGFzdF9zZXE7XG4gICAgICB9XG5cbiAgICAgIHZhciBmaW5pc2hlZCA9IChsaW1pdCAmJiBsZWZ0VG9GZXRjaCA8PSAwKSB8fFxuICAgICAgICAocmVzICYmIHJhd19yZXN1bHRzX2xlbmd0aCA8IGJhdGNoU2l6ZSkgfHxcbiAgICAgICAgKG9wdHMuZGVzY2VuZGluZyk7XG5cbiAgICAgIGlmICgob3B0cy5jb250aW51b3VzICYmICEobGltaXQgJiYgbGVmdFRvRmV0Y2ggPD0gMCkpIHx8ICFmaW5pc2hlZCkge1xuICAgICAgICAvLyBRdWV1ZSBhIGNhbGwgdG8gZmV0Y2ggYWdhaW4gd2l0aCB0aGUgbmV3ZXN0IHNlcXVlbmNlIG51bWJlclxuICAgICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkgeyBmZXRjaERhdGEobGFzdEZldGNoZWRTZXEsIGZldGNoZWQpOyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdlJ3JlIGRvbmUsIGNhbGwgdGhlIGNhbGxiYWNrXG4gICAgICAgIG9wdHMuY29tcGxldGUobnVsbCwgcmVzdWx0cyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZldGNoRGF0YShvcHRzLnNpbmNlIHx8IDAsIGZldGNoZWQpO1xuXG4gICAgLy8gUmV0dXJuIGEgbWV0aG9kIHRvIGNhbmNlbCB0aGlzIG1ldGhvZCBmcm9tIHByb2Nlc3NpbmcgYW55IG1vcmVcbiAgICByZXR1cm4ge1xuICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9wdHMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIEdpdmVuIGEgc2V0IG9mIGRvY3VtZW50L3JldmlzaW9uIElEcyAoZ2l2ZW4gYnkgcmVxKSwgdGV0cyB0aGUgc3Vic2V0IG9mXG4gIC8vIHRob3NlIHRoYXQgZG8gTk9UIGNvcnJlc3BvbmQgdG8gcmV2aXNpb25zIHN0b3JlZCBpbiB0aGUgZGF0YWJhc2UuXG4gIC8vIFNlZSBodHRwOi8vd2lraS5hcGFjaGUub3JnL2NvdWNoZGIvSHR0cFBvc3RSZXZzRGlmZlxuICBhcGkucmV2c0RpZmYgPSBhZGFwdGVyRnVuJCQxKCdyZXZzRGlmZicsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgLy8gSWYgbm8gb3B0aW9ucyB3ZXJlIGdpdmVuLCBzZXQgdGhlIGNhbGxiYWNrIHRvIGJlIHRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBtaXNzaW5nIGRvY3VtZW50L3JldmlzaW9uIElEc1xuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX3JldnNfZGlmZicpLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcSlcbiAgICB9LCBjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICBhcGkuX2Nsb3NlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfTtcblxuICBhcGkuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJycpLCB7bWV0aG9kOiAnREVMRVRFJ30pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGpzb24pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIEh0dHBQb3VjaCBpcyBhIHZhbGlkIGFkYXB0ZXIuXG5IdHRwUG91Y2gudmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gSHR0cFBvdWNoJDEgKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5hZGFwdGVyKCdodHRwJywgSHR0cFBvdWNoLCBmYWxzZSk7XG4gIFBvdWNoREIuYWRhcHRlcignaHR0cHMnLCBIdHRwUG91Y2gsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gUXVlcnlQYXJzZUVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA0MDA7XG4gIHRoaXMubmFtZSA9ICdxdWVyeV9wYXJzZV9lcnJvcic7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xuICB0cnkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFF1ZXJ5UGFyc2VFcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmluaGVyaXRzKFF1ZXJ5UGFyc2VFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBOb3RGb3VuZEVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA0MDQ7XG4gIHRoaXMubmFtZSA9ICdub3RfZm91bmQnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBOb3RGb3VuZEVycm9yKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuaW5oZXJpdHMoTm90Rm91bmRFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBCdWlsdEluRXJyb3IobWVzc2FnZSkge1xuICB0aGlzLnN0YXR1cyA9IDUwMDtcbiAgdGhpcy5uYW1lID0gJ2ludmFsaWRfdmFsdWUnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBCdWlsdEluRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5pbmhlcml0cyhCdWlsdEluRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gcHJvbWlzZWRDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gY2FsbGJhY2tpZnkoZnVuKSB7XG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgY2IgPSBhcmdzLnBvcCgpO1xuICAgIHZhciBwcm9taXNlID0gZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2IpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfSk7XG59XG5cbi8vIFByb21pc2UgZmluYWxseSB1dGlsIHNpbWlsYXIgdG8gUS5maW5hbGx5XG5mdW5jdGlvbiBmaW4ocHJvbWlzZSwgZmluYWxQcm9taXNlRmFjdG9yeSkge1xuICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICByZXR1cm4gZmluYWxQcm9taXNlRmFjdG9yeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9KTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiBmaW5hbFByb21pc2VGYWN0b3J5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyByZWFzb247XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXF1ZW50aWFsaXplKHF1ZXVlLCBwcm9taXNlRmFjdG9yeSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICByZXR1cm4gcXVldWUuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwcm9taXNlRmFjdG9yeS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gdW5pcSBhbiBhcnJheSBvZiBzdHJpbmdzLCBvcmRlciBub3QgZ3VhcmFudGVlZFxuLy8gc2ltaWxhciB0byB1bmRlcnNjb3JlL2xvZGFzaCBfLnVuaXFcbmZ1bmN0aW9uIHVuaXEoYXJyKSB7XG4gIHZhciB0aGVTZXQgPSBuZXcgRXhwb3J0ZWRTZXQoYXJyKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0aGVTZXQuc2l6ZSk7XG4gIHZhciBpbmRleCA9IC0xO1xuICB0aGVTZXQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1hcFRvS2V5c0FycmF5KG1hcCkge1xuICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KG1hcC5zaXplKTtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0ga2V5O1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVpbHRJbkVycm9yKG5hbWUpIHtcbiAgdmFyIG1lc3NhZ2UgPSAnYnVpbHRpbiAnICsgbmFtZSArXG4gICAgJyBmdW5jdGlvbiByZXF1aXJlcyBtYXAgdmFsdWVzIHRvIGJlIG51bWJlcnMnICtcbiAgICAnIG9yIG51bWJlciBhcnJheXMnO1xuICByZXR1cm4gbmV3IEJ1aWx0SW5FcnJvcihtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gc3VtKHZhbHVlcykge1xuICB2YXIgcmVzdWx0ID0gMDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBudW0gPSB2YWx1ZXNbaV07XG4gICAgaWYgKHR5cGVvZiBudW0gIT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShudW0pKSB7XG4gICAgICAgIC8vIGxpc3RzIG9mIG51bWJlcnMgYXJlIGFsc28gYWxsb3dlZCwgc3VtIHRoZW0gc2VwYXJhdGVseVxuICAgICAgICByZXN1bHQgPSB0eXBlb2YgcmVzdWx0ID09PSAnbnVtYmVyJyA/IFtyZXN1bHRdIDogcmVzdWx0O1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgakxlbiA9IG51bS5sZW5ndGg7IGogPCBqTGVuOyBqKyspIHtcbiAgICAgICAgICB2YXIgak51bSA9IG51bVtqXTtcbiAgICAgICAgICBpZiAodHlwZW9mIGpOdW0gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVCdWlsdEluRXJyb3IoJ19zdW0nKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHRbal0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChqTnVtKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W2pdICs9IGpOdW07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBub3QgYXJyYXkvbnVtYmVyXG4gICAgICAgIHRocm93IGNyZWF0ZUJ1aWx0SW5FcnJvcignX3N1bScpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJlc3VsdCArPSBudW07XG4gICAgfSBlbHNlIHsgLy8gYWRkIG51bWJlciB0byBhcnJheVxuICAgICAgcmVzdWx0WzBdICs9IG51bTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmFyIGxvZyA9IGd1YXJkZWRDb25zb2xlLmJpbmQobnVsbCwgJ2xvZycpO1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIHRvSlNPTiA9IEpTT04ucGFyc2U7XG5cbmZ1bmN0aW9uIGV2YWxGdW5jdGlvbldpdGhFdmFsKGZ1bmMsIGVtaXQpIHtcbiAgcmV0dXJuIHNjb3BlRXZhbChcbiAgICBcInJldHVybiAoXCIgKyBmdW5jLnJlcGxhY2UoLztcXHMqJC8sIFwiXCIpICsgXCIpO1wiLFxuICAgIHtcbiAgICAgIGVtaXQ6IGVtaXQsXG4gICAgICBzdW06IHN1bSxcbiAgICAgIGxvZzogbG9nLFxuICAgICAgaXNBcnJheTogaXNBcnJheSxcbiAgICAgIHRvSlNPTjogdG9KU09OXG4gICAgfVxuICApO1xufVxuXG4vKlxuICogU2ltcGxlIHRhc2sgcXVldWUgdG8gc2VxdWVudGlhbGl6ZSBhY3Rpb25zLiBBc3N1bWVzXG4gKiBjYWxsYmFja3Mgd2lsbCBldmVudHVhbGx5IGZpcmUgKG9uY2UpLlxuICovXG5cblxuZnVuY3Rpb24gVGFza1F1ZXVlJDEoKSB7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsKSB7ZnVsZmlsbCgpOyB9KTtcbn1cblRhc2tRdWV1ZSQxLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocHJvbWlzZUZhY3RvcnkpIHtcbiAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBqdXN0IHJlY292ZXJcbiAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHByb21pc2VGYWN0b3J5KCk7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5wcm9taXNlO1xufTtcblRhc2tRdWV1ZSQxLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnByb21pc2U7XG59O1xuXG5mdW5jdGlvbiBzdHJpbmdpZnkoaW5wdXQpIHtcbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJzsgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3IgZW1wdHkgcmVkdWNlXG4gIH1cbiAgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXQgd2l0aCBtYXByZWR1Y2UsIGZ1bmN0aW9ucy9zdHJpbmdzIGFyZSBzdHJpbmdpZmllZFxuICAvLyBhcy1pcy4gZXZlcnl0aGluZyBlbHNlIGlzIEpTT04tc3RyaW5naWZpZWQuXG4gIHN3aXRjaCAodHlwZW9mIGlucHV0KSB7XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgLy8gZS5nLiBhIG1hcHJlZHVjZSBtYXBcbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAvLyBlLmcuIGEgbWFwcmVkdWNlIGJ1aWx0LWluIF9yZWR1Y2UgZnVuY3Rpb25cbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpO1xuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBlLmcuIGEgSlNPTiBvYmplY3QgaW4gdGhlIGNhc2Ugb2YgbWFuZ28gcXVlcmllc1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGlucHV0KTtcbiAgfVxufVxuXG4vKiBjcmVhdGUgYSBzdHJpbmcgc2lnbmF0dXJlIGZvciBhIHZpZXcgc28gd2UgY2FuIGNhY2hlIGl0IGFuZCB1bmlxIGl0ICovXG5mdW5jdGlvbiBjcmVhdGVWaWV3U2lnbmF0dXJlKG1hcEZ1biwgcmVkdWNlRnVuKSB7XG4gIC8vIHRoZSBcInVuZGVmaW5lZFwiIHBhcnQgaXMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gIHJldHVybiBzdHJpbmdpZnkobWFwRnVuKSArIHN0cmluZ2lmeShyZWR1Y2VGdW4pICsgJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVZpZXcoc291cmNlREIsIHZpZXdOYW1lLCBtYXBGdW4sIHJlZHVjZUZ1biwgdGVtcG9yYXJ5LCBsb2NhbERvY05hbWUpIHtcbiAgdmFyIHZpZXdTaWduYXR1cmUgPSBjcmVhdGVWaWV3U2lnbmF0dXJlKG1hcEZ1biwgcmVkdWNlRnVuKTtcblxuICB2YXIgY2FjaGVkVmlld3M7XG4gIGlmICghdGVtcG9yYXJ5KSB7XG4gICAgLy8gY2FjaGUgdGhpcyB0byBlbnN1cmUgd2UgZG9uJ3QgdHJ5IHRvIHVwZGF0ZSB0aGUgc2FtZSB2aWV3IHR3aWNlXG4gICAgY2FjaGVkVmlld3MgPSBzb3VyY2VEQi5fY2FjaGVkVmlld3MgPSBzb3VyY2VEQi5fY2FjaGVkVmlld3MgfHwge307XG4gICAgaWYgKGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdKSB7XG4gICAgICByZXR1cm4gY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV07XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb21pc2VGb3JWaWV3ID0gc291cmNlREIuaW5mbygpLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcblxuICAgIHZhciBkZXBEYk5hbWUgPSBpbmZvLmRiX25hbWUgKyAnLW1ydmlldy0nICtcbiAgICAgICh0ZW1wb3JhcnkgPyAndGVtcCcgOiBzdHJpbmdNZDUodmlld1NpZ25hdHVyZSkpO1xuXG4gICAgLy8gc2F2ZSB0aGUgdmlldyBuYW1lIGluIHRoZSBzb3VyY2UgZGIgc28gaXQgY2FuIGJlIGNsZWFuZWQgdXAgaWYgbmVjZXNzYXJ5XG4gICAgLy8gKGUuZy4gd2hlbiB0aGUgX2Rlc2lnbiBkb2MgaXMgZGVsZXRlZCwgcmVtb3ZlIGFsbCBhc3NvY2lhdGVkIHZpZXcgZGF0YSlcbiAgICBmdW5jdGlvbiBkaWZmRnVuY3Rpb24oZG9jKSB7XG4gICAgICBkb2Mudmlld3MgPSBkb2Mudmlld3MgfHwge307XG4gICAgICB2YXIgZnVsbFZpZXdOYW1lID0gdmlld05hbWU7XG4gICAgICBpZiAoZnVsbFZpZXdOYW1lLmluZGV4T2YoJy8nKSA9PT0gLTEpIHtcbiAgICAgICAgZnVsbFZpZXdOYW1lID0gdmlld05hbWUgKyAnLycgKyB2aWV3TmFtZTtcbiAgICAgIH1cbiAgICAgIHZhciBkZXBEYnMgPSBkb2Mudmlld3NbZnVsbFZpZXdOYW1lXSA9IGRvYy52aWV3c1tmdWxsVmlld05hbWVdIHx8IHt9O1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZGVwRGJzW2RlcERiTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuOyAvLyBubyB1cGRhdGUgbmVjZXNzYXJ5XG4gICAgICB9XG4gICAgICBkZXBEYnNbZGVwRGJOYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gZG9jO1xuICAgIH1cbiAgICByZXR1cm4gdXBzZXJ0KHNvdXJjZURCLCAnX2xvY2FsLycgKyBsb2NhbERvY05hbWUsIGRpZmZGdW5jdGlvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc291cmNlREIucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZShkZXBEYk5hbWUpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB2YXIgZGIgPSByZXMuZGI7XG4gICAgICAgIGRiLmF1dG9fY29tcGFjdGlvbiA9IHRydWU7XG4gICAgICAgIHZhciB2aWV3ID0ge1xuICAgICAgICAgIG5hbWU6IGRlcERiTmFtZSxcbiAgICAgICAgICBkYjogZGIsXG4gICAgICAgICAgc291cmNlREI6IHNvdXJjZURCLFxuICAgICAgICAgIGFkYXB0ZXI6IHNvdXJjZURCLmFkYXB0ZXIsXG4gICAgICAgICAgbWFwRnVuOiBtYXBGdW4sXG4gICAgICAgICAgcmVkdWNlRnVuOiByZWR1Y2VGdW5cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHZpZXcuZGIuZ2V0KCdfbG9jYWwvbGFzdFNlcScpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChsYXN0U2VxRG9jKSB7XG4gICAgICAgICAgdmlldy5zZXEgPSBsYXN0U2VxRG9jID8gbGFzdFNlcURvYy5zZXEgOiAwO1xuICAgICAgICAgIGlmIChjYWNoZWRWaWV3cykge1xuICAgICAgICAgICAgdmlldy5kYi5vbmNlKCdkZXN0cm95ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKGNhY2hlZFZpZXdzKSB7XG4gICAgY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV0gPSBwcm9taXNlRm9yVmlldztcbiAgfVxuICByZXR1cm4gcHJvbWlzZUZvclZpZXc7XG59XG5cbnZhciBwZXJzaXN0ZW50UXVldWVzID0ge307XG52YXIgdGVtcFZpZXdRdWV1ZSA9IG5ldyBUYXNrUXVldWUkMSgpO1xudmFyIENIQU5HRVNfQkFUQ0hfU0laRSQxID0gNTA7XG5cbmZ1bmN0aW9uIHBhcnNlVmlld05hbWUobmFtZSkge1xuICAvLyBjYW4gYmUgZWl0aGVyICdkZG9jbmFtZS92aWV3bmFtZScgb3IganVzdCAndmlld25hbWUnXG4gIC8vICh3aGVyZSB0aGUgZGRvYyBuYW1lIGlzIHRoZSBzYW1lKVxuICByZXR1cm4gbmFtZS5pbmRleE9mKCcvJykgPT09IC0xID8gW25hbWUsIG5hbWVdIDogbmFtZS5zcGxpdCgnLycpO1xufVxuXG5mdW5jdGlvbiBpc0dlbk9uZShjaGFuZ2VzKSB7XG4gIC8vIG9ubHkgcmV0dXJuIHRydWUgaWYgdGhlIGN1cnJlbnQgY2hhbmdlIGlzIDEtXG4gIC8vIGFuZCB0aGVyZSBhcmUgbm8gb3RoZXIgbGVhZnNcbiAgcmV0dXJuIGNoYW5nZXMubGVuZ3RoID09PSAxICYmIC9eMS0vLnRlc3QoY2hhbmdlc1swXS5yZXYpO1xufVxuXG5mdW5jdGlvbiBlbWl0RXJyb3IoZGIsIGUpIHtcbiAgdHJ5IHtcbiAgICBkYi5lbWl0KCdlcnJvcicsIGUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLFxuICAgICAgJ1RoZSB1c2VyXFwncyBtYXAvcmVkdWNlIGZ1bmN0aW9uIHRocmV3IGFuIHVuY2F1Z2h0IGVycm9yLlxcbicgK1xuICAgICAgJ1lvdSBjYW4gZGVidWcgdGhpcyBlcnJvciBieSBkb2luZzpcXG4nICtcbiAgICAgICdteURhdGFiYXNlLm9uKFxcJ2Vycm9yXFwnLCBmdW5jdGlvbiAoZXJyKSB7IGRlYnVnZ2VyOyB9KTtcXG4nICtcbiAgICAgICdQbGVhc2UgZG91YmxlLWNoZWNrIHlvdXIgbWFwL3JlZHVjZSBmdW5jdGlvbi4nKTtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCBlKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYW4gXCJhYnN0cmFjdFwiIG1hcHJlZHVjZSBvYmplY3Qgb2YgdGhlIGZvcm06XG4gKlxuICogICB7XG4gKiAgICAgcXVlcnk6IHF1ZXJ5RnVuLFxuICogICAgIHZpZXdDbGVhbnVwOiB2aWV3Q2xlYW51cEZ1blxuICogICB9XG4gKlxuICogQXJndW1lbnRzIGFyZTpcbiAqXG4gKiBsb2NhbERvYzogc3RyaW5nXG4gKiAgIFRoaXMgaXMgZm9yIHRoZSBsb2NhbCBkb2MgdGhhdCBnZXRzIHNhdmVkIGluIG9yZGVyIHRvIHRyYWNrIHRoZVxuICogICBcImRlcGVuZGVudFwiIERCcyBhbmQgY2xlYW4gdGhlbSB1cCBmb3Igdmlld0NsZWFudXAuIEl0IHNob3VsZCBiZVxuICogICB1bmlxdWUsIHNvIHRoYXQgaW5kZXhlciBwbHVnaW5zIGRvbid0IGNvbGxpZGUgd2l0aCBlYWNoIG90aGVyLlxuICogbWFwcGVyOiBmdW5jdGlvbiAobWFwRnVuRGVmLCBlbWl0KVxuICogICBSZXR1cm5zIGEgbWFwIGZ1bmN0aW9uIGJhc2VkIG9uIHRoZSBtYXBGdW5EZWYsIHdoaWNoIGluIHRoZSBjYXNlIG9mXG4gKiAgIG5vcm1hbCBtYXAvcmVkdWNlIGlzIGp1c3QgdGhlIGRlLXN0cmluZ2lmaWVkIGZ1bmN0aW9uLCBidXQgbWF5IGJlXG4gKiAgIHNvbWV0aGluZyBlbHNlLCBzdWNoIGFzIGFuIG9iamVjdCBpbiB0aGUgY2FzZSBvZiBwb3VjaGRiLWZpbmQuXG4gKiByZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlRnVuRGVmKVxuICogICBEaXR0bywgYnV0IGZvciByZWR1Y2luZy4gTW9kdWxlcyBkb24ndCBoYXZlIHRvIHN1cHBvcnQgcmVkdWNpbmdcbiAqICAgKGUuZy4gcG91Y2hkYi1maW5kKS5cbiAqIGRkb2NWYWxpZGF0b3I6IGZ1bmN0aW9uIChkZG9jLCB2aWV3TmFtZSlcbiAqICAgVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBkZG9jIG9yIHZpZXdOYW1lIGlzIG5vdCB2YWxpZC5cbiAqICAgVGhpcyBjb3VsZCBiZSBhIHdheSB0byBjb21tdW5pY2F0ZSB0byB0aGUgdXNlciB0aGF0IHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGVcbiAqICAgaW5kZXhlciBpcyBpbnZhbGlkLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZShsb2NhbERvY05hbWUsIG1hcHBlciwgcmVkdWNlciwgZGRvY1ZhbGlkYXRvcikge1xuXG4gIGZ1bmN0aW9uIHRyeU1hcChkYiwgZnVuLCBkb2MpIHtcbiAgICAvLyBlbWl0IGFuIGV2ZW50IGlmIHRoZXJlIHdhcyBhbiBlcnJvciB0aHJvd24gYnkgYSBtYXAgZnVuY3Rpb24uXG4gICAgLy8gcHV0dGluZyB0cnkvY2F0Y2hlcyBpbiBhIHNpbmdsZSBmdW5jdGlvbiBhbHNvIGF2b2lkcyBkZW9wdGltaXphdGlvbnMuXG4gICAgdHJ5IHtcbiAgICAgIGZ1bihkb2MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVtaXRFcnJvcihkYiwgZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5UmVkdWNlKGRiLCBmdW4sIGtleXMsIHZhbHVlcywgcmVyZWR1Y2UpIHtcbiAgICAvLyBzYW1lIGFzIGFib3ZlLCBidXQgcmV0dXJuaW5nIHRoZSByZXN1bHQgb3IgYW4gZXJyb3IuIHRoZXJlIGFyZSB0d28gc2VwYXJhdGVcbiAgICAvLyBmdW5jdGlvbnMgdG8gYXZvaWQgZXh0cmEgbWVtb3J5IGFsbG9jYXRpb25zIHNpbmNlIHRoZSB0cnlDb2RlKCkgY2FzZSBpcyB1c2VkXG4gICAgLy8gZm9yIGN1c3RvbSBtYXAgZnVuY3Rpb25zIChjb21tb24pIHZzIHRoaXMgZnVuY3Rpb24sIHdoaWNoIGlzIG9ubHkgdXNlZCBmb3JcbiAgICAvLyBjdXN0b20gcmVkdWNlIGZ1bmN0aW9ucyAocmFyZSlcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtvdXRwdXQgOiBmdW4oa2V5cywgdmFsdWVzLCByZXJlZHVjZSl9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVtaXRFcnJvcihkYiwgZSk7XG4gICAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzb3J0QnlLZXlUaGVuVmFsdWUoeCwgeSkge1xuICAgIHZhciBrZXlDb21wYXJlID0gY29sbGF0ZSh4LmtleSwgeS5rZXkpO1xuICAgIHJldHVybiBrZXlDb21wYXJlICE9PSAwID8ga2V5Q29tcGFyZSA6IGNvbGxhdGUoeC52YWx1ZSwgeS52YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzbGljZVJlc3VsdHMocmVzdWx0cywgbGltaXQsIHNraXApIHtcbiAgICBza2lwID0gc2tpcCB8fCAwO1xuICAgIGlmICh0eXBlb2YgbGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gcmVzdWx0cy5zbGljZShza2lwLCBsaW1pdCArIHNraXApO1xuICAgIH0gZWxzZSBpZiAoc2tpcCA+IDApIHtcbiAgICAgIHJldHVybiByZXN1bHRzLnNsaWNlKHNraXApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJvd1RvRG9jSWQocm93KSB7XG4gICAgdmFyIHZhbCA9IHJvdy52YWx1ZTtcbiAgICAvLyBVc2VycyBjYW4gZXhwbGljaXRseSBzcGVjaWZ5IGEgam9pbmVkIGRvYyBfaWQsIG9yIGl0XG4gICAgLy8gZGVmYXVsdHMgdG8gdGhlIGRvYyBfaWQgdGhhdCBlbWl0dGVkIHRoZSBrZXkvdmFsdWUuXG4gICAgdmFyIGRvY0lkID0gKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwuX2lkKSB8fCByb3cuaWQ7XG4gICAgcmV0dXJuIGRvY0lkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocmVzKSB7XG4gICAgcmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICB2YXIgYXR0cyA9IHJvdy5kb2MgJiYgcm93LmRvYy5fYXR0YWNobWVudHM7XG4gICAgICBpZiAoIWF0dHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmtleXMoYXR0cykuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgICAgICBhdHRzW2ZpbGVuYW1lXS5kYXRhID0gYjY0VG9CbHVmZmVyKGF0dC5kYXRhLCBhdHQuY29udGVudF90eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKHJlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBhZGRIdHRwUGFyYW0ocGFyYW1OYW1lLCBvcHRzLCBwYXJhbXMsIGFzSnNvbikge1xuICAgIC8vIGFkZCBhbiBodHRwIHBhcmFtIGZyb20gb3B0cyB0byBwYXJhbXMsIG9wdGlvbmFsbHkganNvbi1lbmNvZGVkXG4gICAgdmFyIHZhbCA9IG9wdHNbcGFyYW1OYW1lXTtcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChhc0pzb24pIHtcbiAgICAgICAgdmFsID0gZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHZhbCkpO1xuICAgICAgfVxuICAgICAgcGFyYW1zLnB1c2gocGFyYW1OYW1lICsgJz0nICsgdmFsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb2VyY2VJbnRlZ2VyKGludGVnZXJDYW5kaWRhdGUpIHtcbiAgICBpZiAodHlwZW9mIGludGVnZXJDYW5kaWRhdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgYXNOdW1iZXIgPSBOdW1iZXIoaW50ZWdlckNhbmRpZGF0ZSk7XG4gICAgICAvLyBwcmV2ZW50cyBlLmcuICcxZm9vJyBvciAnMS4xJyBiZWluZyBjb2VyY2VkIHRvIDFcbiAgICAgIGlmICghaXNOYU4oYXNOdW1iZXIpICYmIGFzTnVtYmVyID09PSBwYXJzZUludChpbnRlZ2VyQ2FuZGlkYXRlLCAxMCkpIHtcbiAgICAgICAgcmV0dXJuIGFzTnVtYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGludGVnZXJDYW5kaWRhdGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29lcmNlT3B0aW9ucyhvcHRzKSB7XG4gICAgb3B0cy5ncm91cF9sZXZlbCA9IGNvZXJjZUludGVnZXIob3B0cy5ncm91cF9sZXZlbCk7XG4gICAgb3B0cy5saW1pdCA9IGNvZXJjZUludGVnZXIob3B0cy5saW1pdCk7XG4gICAgb3B0cy5za2lwID0gY29lcmNlSW50ZWdlcihvcHRzLnNraXApO1xuICAgIHJldHVybiBvcHRzO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tQb3NpdGl2ZUludGVnZXIobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlcikge1xuICAgICAgaWYgKHR5cGVvZiBudW1iZXIgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiAgbmV3IFF1ZXJ5UGFyc2VFcnJvcignSW52YWxpZCB2YWx1ZSBmb3IgaW50ZWdlcjogXCInICtcbiAgICAgICAgICBudW1iZXIgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlQYXJzZUVycm9yKCdJbnZhbGlkIHZhbHVlIGZvciBwb3NpdGl2ZSBpbnRlZ2VyOiAnICtcbiAgICAgICAgICAnXCInICsgbnVtYmVyICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0aW9ucywgZnVuKSB7XG4gICAgdmFyIHN0YXJ0a2V5TmFtZSA9IG9wdGlvbnMuZGVzY2VuZGluZyA/ICdlbmRrZXknIDogJ3N0YXJ0a2V5JztcbiAgICB2YXIgZW5ka2V5TmFtZSA9IG9wdGlvbnMuZGVzY2VuZGluZyA/ICdzdGFydGtleScgOiAnZW5ka2V5JztcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9uc1tzdGFydGtleU5hbWVdICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIG9wdGlvbnNbZW5ka2V5TmFtZV0gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBjb2xsYXRlKG9wdGlvbnNbc3RhcnRrZXlOYW1lXSwgb3B0aW9uc1tlbmRrZXlOYW1lXSkgPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCdObyByb3dzIGNhbiBtYXRjaCB5b3VyIGtleSByYW5nZSwgJyArXG4gICAgICAgICdyZXZlcnNlIHlvdXIgc3RhcnRfa2V5IGFuZCBlbmRfa2V5IG9yIHNldCB7ZGVzY2VuZGluZyA6IHRydWV9Jyk7XG4gICAgfSBlbHNlIGlmIChmdW4ucmVkdWNlICYmIG9wdGlvbnMucmVkdWNlICE9PSBmYWxzZSkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHRocm93IG5ldyBRdWVyeVBhcnNlRXJyb3IoJ3tpbmNsdWRlX2RvY3M6dHJ1ZX0gaXMgaW52YWxpZCBmb3IgcmVkdWNlJyk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMua2V5cyAmJiBvcHRpb25zLmtleXMubGVuZ3RoID4gMSAmJlxuICAgICAgICAhb3B0aW9ucy5ncm91cCAmJiAhb3B0aW9ucy5ncm91cF9sZXZlbCkge1xuICAgICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCdNdWx0aS1rZXkgZmV0Y2hlcyBmb3IgcmVkdWNlIHZpZXdzIG11c3QgdXNlICcgK1xuICAgICAgICAgICd7Z3JvdXA6IHRydWV9Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIFsnZ3JvdXBfbGV2ZWwnLCAnbGltaXQnLCAnc2tpcCddLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbk5hbWUpIHtcbiAgICAgIHZhciBlcnJvciA9IGNoZWNrUG9zaXRpdmVJbnRlZ2VyKG9wdGlvbnNbb3B0aW9uTmFtZV0pO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaHR0cFF1ZXJ5KGRiLCBmdW4sIG9wdHMpIHtcbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBQVVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICB2YXIgYm9keTtcbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG4gICAgdmFyIG9rLCBzdGF0dXM7XG5cbiAgICAvLyBJZiBvcHRzLnJlZHVjZSBleGlzdHMgYW5kIGlzIGRlZmluZWQsIHRoZW4gYWRkIGl0IHRvIHRoZSBsaXN0XG4gICAgLy8gb2YgcGFyYW1ldGVycy5cbiAgICAvLyBJZiByZWR1Y2U9ZmFsc2UgdGhlbiB0aGUgcmVzdWx0cyBhcmUgdGhhdCBvZiBvbmx5IHRoZSBtYXAgZnVuY3Rpb25cbiAgICAvLyBub3QgdGhlIGZpbmFsIHJlc3VsdCBvZiBtYXAgYW5kIHJlZHVjZS5cbiAgICBhZGRIdHRwUGFyYW0oJ3JlZHVjZScsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdpbmNsdWRlX2RvY3MnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnYXR0YWNobWVudHMnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnbGltaXQnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnZGVzY2VuZGluZycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdncm91cCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdncm91cF9sZXZlbCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdza2lwJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3N0YWxlJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2NvbmZsaWN0cycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFydGtleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFydF9rZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnZW5ka2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2VuZF9rZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnaW5jbHVzaXZlX2VuZCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdrZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgndXBkYXRlX3NlcScsIG9wdHMsIHBhcmFtcyk7XG5cbiAgICAvLyBGb3JtYXQgdGhlIGxpc3Qgb2YgcGFyYW1ldGVycyBpbnRvIGEgdmFsaWQgVVJJIHF1ZXJ5IHN0cmluZ1xuICAgIHBhcmFtcyA9IHBhcmFtcy5qb2luKCcmJyk7XG4gICAgcGFyYW1zID0gcGFyYW1zID09PSAnJyA/ICcnIDogJz8nICsgcGFyYW1zO1xuXG4gICAgLy8gSWYga2V5cyBhcmUgc3VwcGxpZWQsIGlzc3VlIGEgUE9TVCB0byBjaXJjdW12ZW50IEdFVCBxdWVyeSBzdHJpbmcgbGltaXRzXG4gICAgLy8gc2VlIGh0dHA6Ly93aWtpLmFwYWNoZS5vcmcvY291Y2hkYi9IVFRQX3ZpZXdfQVBJI1F1ZXJ5aW5nX09wdGlvbnNcbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBNQVhfVVJMX0xFTkdUSCA9IDIwMDA7XG4gICAgICAvLyBhY2NvcmRpbmcgdG8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDE3MTg0LzY4MDc0MixcbiAgICAgIC8vIHRoZSBkZSBmYWN0byBVUkwgbGVuZ3RoIGxpbWl0IGlzIDIwMDAgY2hhcmFjdGVyc1xuXG4gICAgICB2YXIga2V5c0FzU3RyaW5nID1cbiAgICAgICAgJ2tleXM9JyArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvcHRzLmtleXMpKTtcbiAgICAgIGlmIChrZXlzQXNTdHJpbmcubGVuZ3RoICsgcGFyYW1zLmxlbmd0aCArIDEgPD0gTUFYX1VSTF9MRU5HVEgpIHtcbiAgICAgICAgLy8gSWYgdGhlIGtleXMgYXJlIHNob3J0IGVub3VnaCwgZG8gYSBHRVQuIHdlIGRvIHRoaXMgdG8gd29yayBhcm91bmRcbiAgICAgICAgLy8gU2FmYXJpIG5vdCB1bmRlcnN0YW5kaW5nIDMwNHMgb24gUE9TVHMgKHNlZSBwb3VjaGRiL3BvdWNoZGIjMTIzOSlcbiAgICAgICAgcGFyYW1zICs9IChwYXJhbXNbMF0gPT09ICc/JyA/ICcmJyA6ICc/JykgKyBrZXlzQXNTdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICAgIGlmICh0eXBlb2YgZnVuID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGJvZHkgPSB7a2V5czogb3B0cy5rZXlzfTtcbiAgICAgICAgfSBlbHNlIHsgLy8gZnVuIGlzIHttYXAgOiBtYXBmdW59LCBzbyBhcHBlbmQgdG8gdGhpc1xuICAgICAgICAgIGZ1bi5rZXlzID0gb3B0cy5rZXlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIHJlZmVyZW5jaW5nIGEgcXVlcnkgZGVmaW5lZCBpbiB0aGUgZGVzaWduIGRvY1xuICAgIGlmICh0eXBlb2YgZnVuID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdW4pO1xuICAgICAgcmV0dXJuIGRiLmZldGNoKCdfZGVzaWduLycgKyBwYXJ0c1swXSArICcvX3ZpZXcvJyArIHBhcnRzWzFdICsgcGFyYW1zLCB7XG4gICAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgb2sgPSByZXNwb25zZS5vaztcbiAgICAgICAgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICByZXN1bHQuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmYWlsIHRoZSBlbnRpcmUgcmVxdWVzdCBpZiB0aGUgcmVzdWx0IGNvbnRhaW5zIGFuIGVycm9yXG4gICAgICAgIHJlc3VsdC5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChyb3cudmFsdWUgJiYgcm93LnZhbHVlLmVycm9yICYmIHJvdy52YWx1ZS5lcnJvciA9PT0gXCJidWlsdGluX3JlZHVjZV9lcnJvclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Iocm93LnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pLnRoZW4ocG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSk7XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIHVzaW5nIGEgdGVtcG9yYXJ5IHZpZXcsIHRlcnJpYmxlIGZvciBwZXJmb3JtYW5jZSwgZ29vZCBmb3IgdGVzdGluZ1xuICAgIGJvZHkgPSBib2R5IHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGZ1bikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShmdW5ba2V5XSkpIHtcbiAgICAgICAgYm9keVtrZXldID0gZnVuW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib2R5W2tleV0gPSBmdW5ba2V5XS50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRiLmZldGNoKCdfdGVtcF92aWV3JyArIHBhcmFtcywge1xuICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBvayA9IHJlc3BvbnNlLm9rO1xuICAgICAgICBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKCFvaykge1xuICAgICAgICByZXN1bHQuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pLnRoZW4ocG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSk7XG4gIH1cblxuICAvLyBjdXN0b20gYWRhcHRlcnMgY2FuIGRlZmluZSB0aGVpciBvd24gYXBpLl9xdWVyeVxuICAvLyBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gY3VzdG9tUXVlcnkoZGIsIGZ1biwgb3B0cykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBkYi5fcXVlcnkoZnVuLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGN1c3RvbSBhZGFwdGVycyBjYW4gZGVmaW5lIHRoZWlyIG93biBhcGkuX3ZpZXdDbGVhbnVwXG4gIC8vIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBjdXN0b21WaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBkYi5fdmlld0NsZWFudXAoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0c1RvKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAocmVhc29uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gcmV0dXJucyBhIHByb21pc2UgZm9yIGEgbGlzdCBvZiBkb2NzIHRvIHVwZGF0ZSwgYmFzZWQgb24gdGhlIGlucHV0IGRvY0lkLlxuICAvLyB0aGUgb3JkZXIgZG9lc24ndCBtYXR0ZXIsIGJlY2F1c2UgcG9zdC0zLjIuMCwgYnVsa0RvY3NcbiAgLy8gaXMgYW4gYXRvbWljIG9wZXJhdGlvbiBpbiBhbGwgdGhyZWUgYWRhcHRlcnMuXG4gIGZ1bmN0aW9uIGdldERvY3NUb1BlcnNpc3QoZG9jSWQsIHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKSB7XG4gICAgdmFyIG1ldGFEb2NJZCA9ICdfbG9jYWwvZG9jXycgKyBkb2NJZDtcbiAgICB2YXIgZGVmYXVsdE1ldGFEb2MgPSB7X2lkOiBtZXRhRG9jSWQsIGtleXM6IFtdfTtcbiAgICB2YXIgZG9jRGF0YSA9IGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLmdldChkb2NJZCk7XG4gICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IGRvY0RhdGFbMF07XG4gICAgdmFyIGNoYW5nZXMgPSBkb2NEYXRhWzFdO1xuXG4gICAgZnVuY3Rpb24gZ2V0TWV0YURvYygpIHtcbiAgICAgIGlmIChpc0dlbk9uZShjaGFuZ2VzKSkge1xuICAgICAgICAvLyBnZW5lcmF0aW9uIDEsIHNvIHdlIGNhbiBzYWZlbHkgYXNzdW1lIGluaXRpYWwgc3RhdGVcbiAgICAgICAgLy8gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKGF2b2lkcyB1bm5lY2Vzc2FyeSBHRVRzKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlZmF1bHRNZXRhRG9jKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2aWV3LmRiLmdldChtZXRhRG9jSWQpLmNhdGNoKGRlZmF1bHRzVG8oZGVmYXVsdE1ldGFEb2MpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRLZXlWYWx1ZURvY3MobWV0YURvYykge1xuICAgICAgaWYgKCFtZXRhRG9jLmtleXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIG5vIGtleXMsIG5vIG5lZWQgZm9yIGEgbG9va3VwXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3Jvd3M6IFtdfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmlldy5kYi5hbGxEb2NzKHtcbiAgICAgICAga2V5czogbWV0YURvYy5rZXlzLFxuICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NLZXlWYWx1ZURvY3MobWV0YURvYywga3ZEb2NzUmVzKSB7XG4gICAgICB2YXIga3ZEb2NzID0gW107XG4gICAgICB2YXIgb2xkS2V5cyA9IG5ldyBFeHBvcnRlZFNldCgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0ga3ZEb2NzUmVzLnJvd3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IGt2RG9jc1Jlcy5yb3dzW2ldO1xuICAgICAgICB2YXIgZG9jID0gcm93LmRvYztcbiAgICAgICAgaWYgKCFkb2MpIHsgLy8gZGVsZXRlZFxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGt2RG9jcy5wdXNoKGRvYyk7XG4gICAgICAgIG9sZEtleXMuYWRkKGRvYy5faWQpO1xuICAgICAgICBkb2MuX2RlbGV0ZWQgPSAhaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmhhcyhkb2MuX2lkKTtcbiAgICAgICAgaWYgKCFkb2MuX2RlbGV0ZWQpIHtcbiAgICAgICAgICB2YXIga2V5VmFsdWUgPSBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuZ2V0KGRvYy5faWQpO1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIGtleVZhbHVlKSB7XG4gICAgICAgICAgICBkb2MudmFsdWUgPSBrZXlWYWx1ZS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBuZXdLZXlzID0gbWFwVG9LZXlzQXJyYXkoaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKTtcbiAgICAgIG5ld0tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghb2xkS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgIC8vIG5ldyBkb2NcbiAgICAgICAgICB2YXIga3ZEb2MgPSB7XG4gICAgICAgICAgICBfaWQ6IGtleVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIGtleVZhbHVlID0gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmdldChrZXkpO1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIGtleVZhbHVlKSB7XG4gICAgICAgICAgICBrdkRvYy52YWx1ZSA9IGtleVZhbHVlLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrdkRvY3MucHVzaChrdkRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbWV0YURvYy5rZXlzID0gdW5pcShuZXdLZXlzLmNvbmNhdChtZXRhRG9jLmtleXMpKTtcbiAgICAgIGt2RG9jcy5wdXNoKG1ldGFEb2MpO1xuXG4gICAgICByZXR1cm4ga3ZEb2NzO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRNZXRhRG9jKCkudGhlbihmdW5jdGlvbiAobWV0YURvYykge1xuICAgICAgcmV0dXJuIGdldEtleVZhbHVlRG9jcyhtZXRhRG9jKS50aGVuKGZ1bmN0aW9uIChrdkRvY3NSZXMpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NLZXlWYWx1ZURvY3MobWV0YURvYywga3ZEb2NzUmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gdXBkYXRlcyBhbGwgZW1pdHRlZCBrZXkvdmFsdWUgZG9jcyBhbmQgbWV0YURvY3MgaW4gdGhlIG1ydmlldyBkYXRhYmFzZVxuICAvLyBmb3IgdGhlIGdpdmVuIGJhdGNoIG9mIGRvY3VtZW50cyBmcm9tIHRoZSBzb3VyY2UgZGF0YWJhc2VcbiAgZnVuY3Rpb24gc2F2ZUtleVZhbHVlcyh2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgc2VxKSB7XG4gICAgdmFyIHNlcURvY0lkID0gJ19sb2NhbC9sYXN0U2VxJztcbiAgICByZXR1cm4gdmlldy5kYi5nZXQoc2VxRG9jSWQpXG4gICAgICAuY2F0Y2goZGVmYXVsdHNUbyh7X2lkOiBzZXFEb2NJZCwgc2VxOiAwfSkpXG4gICAgICAudGhlbihmdW5jdGlvbiAobGFzdFNlcURvYykge1xuICAgICAgICB2YXIgZG9jSWRzID0gbWFwVG9LZXlzQXJyYXkoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZG9jSWRzLm1hcChmdW5jdGlvbiAoZG9jSWQpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0RG9jc1RvUGVyc2lzdChkb2NJZCwgdmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpO1xuICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAobGlzdE9mRG9jc1RvUGVyc2lzdCkge1xuICAgICAgICAgIHZhciBkb2NzVG9QZXJzaXN0ID0gZmxhdHRlbihsaXN0T2ZEb2NzVG9QZXJzaXN0KTtcbiAgICAgICAgICBsYXN0U2VxRG9jLnNlcSA9IHNlcTtcbiAgICAgICAgICBkb2NzVG9QZXJzaXN0LnB1c2gobGFzdFNlcURvYyk7XG4gICAgICAgICAgLy8gd3JpdGUgYWxsIGRvY3MgaW4gYSBzaW5nbGUgb3BlcmF0aW9uLCB1cGRhdGUgdGhlIHNlcSBvbmNlXG4gICAgICAgICAgcmV0dXJuIHZpZXcuZGIuYnVsa0RvY3Moe2RvY3MgOiBkb2NzVG9QZXJzaXN0fSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRRdWV1ZSh2aWV3KSB7XG4gICAgdmFyIHZpZXdOYW1lID0gdHlwZW9mIHZpZXcgPT09ICdzdHJpbmcnID8gdmlldyA6IHZpZXcubmFtZTtcbiAgICB2YXIgcXVldWUgPSBwZXJzaXN0ZW50UXVldWVzW3ZpZXdOYW1lXTtcbiAgICBpZiAoIXF1ZXVlKSB7XG4gICAgICBxdWV1ZSA9IHBlcnNpc3RlbnRRdWV1ZXNbdmlld05hbWVdID0gbmV3IFRhc2tRdWV1ZSQxKCk7XG4gICAgfVxuICAgIHJldHVybiBxdWV1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXcodmlldywgb3B0cykge1xuICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdXBkYXRlVmlld0luUXVldWUodmlldywgb3B0cyk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpIHtcbiAgICAvLyBiaW5kIHRoZSBlbWl0IGZ1bmN0aW9uIG9uY2VcbiAgICB2YXIgbWFwUmVzdWx0cztcbiAgICB2YXIgZG9jO1xuXG4gICAgZnVuY3Rpb24gZW1pdChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb3V0cHV0ID0ge2lkOiBkb2MuX2lkLCBrZXk6IG5vcm1hbGl6ZUtleShrZXkpfTtcbiAgICAgIC8vIERvbid0IGV4cGxpY2l0bHkgc3RvcmUgdGhlIHZhbHVlIHVubGVzcyBpdCdzIGRlZmluZWQgYW5kIG5vbi1udWxsLlxuICAgICAgLy8gVGhpcyBzYXZlcyBvbiBzdG9yYWdlIHNwYWNlLCBiZWNhdXNlIG9mdGVuIHBlb3BsZSBkb24ndCB1c2UgaXQuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBvdXRwdXQudmFsdWUgPSBub3JtYWxpemVLZXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgbWFwUmVzdWx0cy5wdXNoKG91dHB1dCk7XG4gICAgfVxuXG4gICAgdmFyIG1hcEZ1biA9IG1hcHBlcih2aWV3Lm1hcEZ1biwgZW1pdCk7XG5cbiAgICB2YXIgY3VycmVudFNlcSA9IHZpZXcuc2VxIHx8IDA7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzQ2hhbmdlKGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzYXZlS2V5VmFsdWVzKHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgaW5kZXhlZF9kb2NzID0gMDtcbiAgICBsZXQgcHJvZ3Jlc3MgPSB7XG4gICAgICB2aWV3OiB2aWV3Lm5hbWUsXG4gICAgICBpbmRleGVkX2RvY3M6IGluZGV4ZWRfZG9jc1xuICAgIH07XG4gICAgdmlldy5zb3VyY2VEQi5lbWl0KCdpbmRleGluZycsIHByb2dyZXNzKTtcblxuICAgIHZhciBxdWV1ZSA9IG5ldyBUYXNrUXVldWUkMSgpO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc05leHRCYXRjaCgpIHtcbiAgICAgIHJldHVybiB2aWV3LnNvdXJjZURCLmNoYW5nZXMoe1xuICAgICAgICByZXR1cm5fZG9jczogdHJ1ZSxcbiAgICAgICAgY29uZmxpY3RzOiB0cnVlLFxuICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICAgIHN0eWxlOiAnYWxsX2RvY3MnLFxuICAgICAgICBzaW5jZTogY3VycmVudFNlcSxcbiAgICAgICAgbGltaXQ6IG9wdHMuY2hhbmdlc19iYXRjaF9zaXplXG4gICAgICB9KS50aGVuKHByb2Nlc3NCYXRjaCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgcmVzdWx0cyA9IHJlc3BvbnNlLnJlc3VsdHM7XG4gICAgICBpZiAoIXJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyA9IGNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKHJlc3VsdHMpO1xuICAgICAgcXVldWUuYWRkKHByb2Nlc3NDaGFuZ2UoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIGN1cnJlbnRTZXEpKTtcblxuICAgICAgaW5kZXhlZF9kb2NzID0gaW5kZXhlZF9kb2NzICsgcmVzdWx0cy5sZW5ndGg7XG4gICAgICBsZXQgcHJvZ3Jlc3MgPSB7XG4gICAgICAgIHZpZXc6IHZpZXcubmFtZSxcbiAgICAgICAgbGFzdF9zZXE6IHJlc3BvbnNlLmxhc3Rfc2VxLFxuICAgICAgICByZXN1bHRzX2NvdW50OiByZXN1bHRzLmxlbmd0aCxcbiAgICAgICAgaW5kZXhlZF9kb2NzOiBpbmRleGVkX2RvY3NcbiAgICAgIH07XG4gICAgICB2aWV3LnNvdXJjZURCLmVtaXQoJ2luZGV4aW5nJywgcHJvZ3Jlc3MpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPCBvcHRzLmNoYW5nZXNfYmF0Y2hfc2l6ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvY2Vzc05leHRCYXRjaCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKHJlc3VsdHMpIHtcbiAgICAgIHZhciBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNoYW5nZSA9IHJlc3VsdHNbaV07XG4gICAgICAgIGlmIChjaGFuZ2UuZG9jLl9pZFswXSAhPT0gJ18nKSB7XG4gICAgICAgICAgbWFwUmVzdWx0cyA9IFtdO1xuICAgICAgICAgIGRvYyA9IGNoYW5nZS5kb2M7XG5cbiAgICAgICAgICBpZiAoIWRvYy5fZGVsZXRlZCkge1xuICAgICAgICAgICAgdHJ5TWFwKHZpZXcuc291cmNlREIsIG1hcEZ1biwgZG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFwUmVzdWx0cy5zb3J0KHNvcnRCeUtleVRoZW5WYWx1ZSk7XG5cbiAgICAgICAgICB2YXIgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzID0gY3JlYXRlSW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKG1hcFJlc3VsdHMpO1xuICAgICAgICAgIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLnNldChjaGFuZ2UuZG9jLl9pZCwgW1xuICAgICAgICAgICAgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLFxuICAgICAgICAgICAgY2hhbmdlLmNoYW5nZXNcbiAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50U2VxID0gY2hhbmdlLnNlcTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMobWFwUmVzdWx0cykge1xuICAgICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgdmFyIGxhc3RLZXk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWFwUmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgZW1pdHRlZEtleVZhbHVlID0gbWFwUmVzdWx0c1tpXTtcbiAgICAgICAgdmFyIGNvbXBsZXhLZXkgPSBbZW1pdHRlZEtleVZhbHVlLmtleSwgZW1pdHRlZEtleVZhbHVlLmlkXTtcbiAgICAgICAgaWYgKGkgPiAwICYmIGNvbGxhdGUoZW1pdHRlZEtleVZhbHVlLmtleSwgbGFzdEtleSkgPT09IDApIHtcbiAgICAgICAgICBjb21wbGV4S2V5LnB1c2goaSk7IC8vIGR1cCBrZXkraWQsIHNvIG1ha2UgaXQgdW5pcXVlXG4gICAgICAgIH1cbiAgICAgICAgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLnNldCh0b0luZGV4YWJsZVN0cmluZyhjb21wbGV4S2V5KSwgZW1pdHRlZEtleVZhbHVlKTtcbiAgICAgICAgbGFzdEtleSA9IGVtaXR0ZWRLZXlWYWx1ZS5rZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzTmV4dEJhdGNoKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVldWUuZmluaXNoKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2aWV3LnNlcSA9IGN1cnJlbnRTZXE7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWR1Y2VWaWV3KHZpZXcsIHJlc3VsdHMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5ncm91cF9sZXZlbCA9PT0gMCkge1xuICAgICAgZGVsZXRlIG9wdGlvbnMuZ3JvdXBfbGV2ZWw7XG4gICAgfVxuXG4gICAgdmFyIHNob3VsZEdyb3VwID0gb3B0aW9ucy5ncm91cCB8fCBvcHRpb25zLmdyb3VwX2xldmVsO1xuXG4gICAgdmFyIHJlZHVjZUZ1biA9IHJlZHVjZXIodmlldy5yZWR1Y2VGdW4pO1xuXG4gICAgdmFyIGdyb3VwcyA9IFtdO1xuICAgIHZhciBsdmwgPSBpc05hTihvcHRpb25zLmdyb3VwX2xldmVsKSA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6XG4gICAgICBvcHRpb25zLmdyb3VwX2xldmVsO1xuICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGxhc3QgPSBncm91cHNbZ3JvdXBzLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIGdyb3VwS2V5ID0gc2hvdWxkR3JvdXAgPyBlLmtleSA6IG51bGw7XG5cbiAgICAgIC8vIG9ubHkgc2V0IGdyb3VwX2xldmVsIGZvciBhcnJheSBrZXlzXG4gICAgICBpZiAoc2hvdWxkR3JvdXAgJiYgQXJyYXkuaXNBcnJheShncm91cEtleSkpIHtcbiAgICAgICAgZ3JvdXBLZXkgPSBncm91cEtleS5zbGljZSgwLCBsdmwpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGFzdCAmJiBjb2xsYXRlKGxhc3QuZ3JvdXBLZXksIGdyb3VwS2V5KSA9PT0gMCkge1xuICAgICAgICBsYXN0LmtleXMucHVzaChbZS5rZXksIGUuaWRdKTtcbiAgICAgICAgbGFzdC52YWx1ZXMucHVzaChlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICBrZXlzOiBbW2Uua2V5LCBlLmlkXV0sXG4gICAgICAgIHZhbHVlczogW2UudmFsdWVdLFxuICAgICAgICBncm91cEtleTogZ3JvdXBLZXlcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZSA9IGdyb3Vwc1tpXTtcbiAgICAgIHZhciByZWR1Y2VUcnkgPSB0cnlSZWR1Y2Uodmlldy5zb3VyY2VEQiwgcmVkdWNlRnVuLCBlLmtleXMsIGUudmFsdWVzLCBmYWxzZSk7XG4gICAgICBpZiAocmVkdWNlVHJ5LmVycm9yICYmIHJlZHVjZVRyeS5lcnJvciBpbnN0YW5jZW9mIEJ1aWx0SW5FcnJvcikge1xuICAgICAgICAvLyBDb3VjaERCIHJldHVybnMgYW4gZXJyb3IgaWYgYSBidWlsdC1pbiBlcnJvcnMgb3V0XG4gICAgICAgIHRocm93IHJlZHVjZVRyeS5lcnJvcjtcbiAgICAgIH1cbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIC8vIENvdWNoREIganVzdCBzZXRzIHRoZSB2YWx1ZSB0byBudWxsIGlmIGEgbm9uLWJ1aWx0LWluIGVycm9ycyBvdXRcbiAgICAgICAgdmFsdWU6IHJlZHVjZVRyeS5lcnJvciA/IG51bGwgOiByZWR1Y2VUcnkub3V0cHV0LFxuICAgICAgICBrZXk6IGUuZ3JvdXBLZXlcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBubyB0b3RhbF9yb3dzL29mZnNldCB3aGVuIHJlZHVjaW5nXG4gICAgcmV0dXJuIHtyb3dzOiBzbGljZVJlc3VsdHMocmVzdWx0cywgb3B0aW9ucy5saW1pdCwgb3B0aW9ucy5za2lwKX07XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVZpZXcodmlldywgb3B0cykge1xuICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVlcnlWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcXVlcnlWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKSB7XG4gICAgdmFyIHRvdGFsUm93cztcbiAgICB2YXIgc2hvdWxkUmVkdWNlID0gdmlldy5yZWR1Y2VGdW4gJiYgb3B0cy5yZWR1Y2UgIT09IGZhbHNlO1xuICAgIHZhciBza2lwID0gb3B0cy5za2lwIHx8IDA7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnICYmICFvcHRzLmtleXMubGVuZ3RoKSB7XG4gICAgICAvLyBlcXVpdmFsZW50IHF1ZXJ5XG4gICAgICBvcHRzLmxpbWl0ID0gMDtcbiAgICAgIGRlbGV0ZSBvcHRzLmtleXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmV0Y2hGcm9tVmlldyh2aWV3T3B0cykge1xuICAgICAgdmlld09wdHMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICAgIHJldHVybiB2aWV3LmRiLmFsbERvY3Modmlld09wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB0b3RhbFJvd3MgPSByZXMudG90YWxfcm93cztcbiAgICAgICAgcmV0dXJuIHJlcy5yb3dzLm1hcChmdW5jdGlvbiAocmVzdWx0KSB7XG5cbiAgICAgICAgICAvLyBpbXBsaWNpdCBtaWdyYXRpb24gLSBpbiBvbGRlciB2ZXJzaW9ucyBvZiBQb3VjaERCLFxuICAgICAgICAgIC8vIHdlIGV4cGxpY2l0bHkgc3RvcmVkIHRoZSBkb2MgYXMge2lkOiAuLi4sIGtleTogLi4uLCB2YWx1ZTogLi4ufVxuICAgICAgICAgIC8vIHRoaXMgaXMgdGVzdGVkIGluIGEgbWlncmF0aW9uIHRlc3RcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIHJlc3VsdC5kb2MgJiYgdHlwZW9mIHJlc3VsdC5kb2MudmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICByZXN1bHQuZG9jLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlc3VsdC5kb2MudmFsdWUpLnNvcnQoKTtcbiAgICAgICAgICAgIC8vIHRoaXMgZGV0ZWN0aW9uIG1ldGhvZCBpcyBub3QgcGVyZmVjdCwgYnV0IGl0J3MgdW5saWtlbHkgdGhlIHVzZXJcbiAgICAgICAgICAgIC8vIGVtaXR0ZWQgYSB2YWx1ZSB3aGljaCB3YXMgYW4gb2JqZWN0IHdpdGggdGhlc2UgMyBleGFjdCBrZXlzXG4gICAgICAgICAgICB2YXIgZXhwZWN0ZWRLZXlzID0gWydpZCcsICdrZXknLCAndmFsdWUnXTtcbiAgICAgICAgICAgIGlmICghKGtleXMgPCBleHBlY3RlZEtleXMgfHwga2V5cyA+IGV4cGVjdGVkS2V5cykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb2MudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHBhcnNlZEtleUFuZERvY0lkID0gcGFyc2VJbmRleGFibGVTdHJpbmcocmVzdWx0LmRvYy5faWQpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IHBhcnNlZEtleUFuZERvY0lkWzBdLFxuICAgICAgICAgICAgaWQ6IHBhcnNlZEtleUFuZERvY0lkWzFdLFxuICAgICAgICAgICAgdmFsdWU6ICgndmFsdWUnIGluIHJlc3VsdC5kb2MgPyByZXN1bHQuZG9jLnZhbHVlIDogbnVsbClcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWFwUmVzdWx0c1JlYWR5KHJvd3MpIHtcbiAgICAgIHZhciBmaW5hbFJlc3VsdHM7XG4gICAgICBpZiAoc2hvdWxkUmVkdWNlKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHJlZHVjZVZpZXcodmlldywgcm93cywgb3B0cyk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRzLmtleXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHtcbiAgICAgICAgICB0b3RhbF9yb3dzOiB0b3RhbFJvd3MsXG4gICAgICAgICAgb2Zmc2V0OiBza2lwLFxuICAgICAgICAgIHJvd3M6IHJvd3NcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHN1cHBvcnQgbGltaXQsIHNraXAgZm9yIGtleXMgcXVlcnlcbiAgICAgICAgZmluYWxSZXN1bHRzID0ge1xuICAgICAgICAgIHRvdGFsX3Jvd3M6IHRvdGFsUm93cyxcbiAgICAgICAgICBvZmZzZXQ6IHNraXAsXG4gICAgICAgICAgcm93czogc2xpY2VSZXN1bHRzKHJvd3Msb3B0cy5saW1pdCxvcHRzLnNraXApXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgICAgZmluYWxSZXN1bHRzLnVwZGF0ZV9zZXEgPSB2aWV3LnNlcTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgICB2YXIgZG9jSWRzID0gdW5pcShyb3dzLm1hcChyb3dUb0RvY0lkKSk7XG5cbiAgICAgICAgcmV0dXJuIHZpZXcuc291cmNlREIuYWxsRG9jcyh7XG4gICAgICAgICAga2V5czogZG9jSWRzLFxuICAgICAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgICAgICBjb25mbGljdHM6IG9wdHMuY29uZmxpY3RzLFxuICAgICAgICAgIGF0dGFjaG1lbnRzOiBvcHRzLmF0dGFjaG1lbnRzLFxuICAgICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnlcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYWxsRG9jc1Jlcykge1xuICAgICAgICAgIHZhciBkb2NJZHNUb0RvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgICAgICBhbGxEb2NzUmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICBkb2NJZHNUb0RvY3Muc2V0KHJvdy5pZCwgcm93LmRvYyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIHZhciBkb2NJZCA9IHJvd1RvRG9jSWQocm93KTtcbiAgICAgICAgICAgIHZhciBkb2MgPSBkb2NJZHNUb0RvY3MuZ2V0KGRvY0lkKTtcbiAgICAgICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICAgICAgcm93LmRvYyA9IGRvYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZmluYWxSZXN1bHRzO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmaW5hbFJlc3VsdHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIga2V5cyA9IG9wdHMua2V5cztcbiAgICAgIHZhciBmZXRjaFByb21pc2VzID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgdmlld09wdHMgPSB7XG4gICAgICAgICAgc3RhcnRrZXkgOiB0b0luZGV4YWJsZVN0cmluZyhba2V5XSksXG4gICAgICAgICAgZW5ka2V5ICAgOiB0b0luZGV4YWJsZVN0cmluZyhba2V5LCB7fV0pXG4gICAgICAgIH07XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgICAgdmlld09wdHMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZldGNoRnJvbVZpZXcodmlld09wdHMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmV0Y2hQcm9taXNlcykudGhlbihmbGF0dGVuKS50aGVuKG9uTWFwUmVzdWx0c1JlYWR5KTtcbiAgICB9IGVsc2UgeyAvLyBub3JtYWwgcXVlcnksIG5vICdrZXlzJ1xuICAgICAgdmFyIHZpZXdPcHRzID0ge1xuICAgICAgICBkZXNjZW5kaW5nIDogb3B0cy5kZXNjZW5kaW5nXG4gICAgICB9O1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgIHZpZXdPcHRzLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHN0YXJ0a2V5O1xuICAgICAgdmFyIGVuZGtleTtcbiAgICAgIGlmICgnc3RhcnRfa2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIHN0YXJ0a2V5ID0gb3B0cy5zdGFydF9rZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ3N0YXJ0a2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIHN0YXJ0a2V5ID0gb3B0cy5zdGFydGtleTtcbiAgICAgIH1cbiAgICAgIGlmICgnZW5kX2tleScgaW4gb3B0cykge1xuICAgICAgICBlbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ2VuZGtleScgaW4gb3B0cykge1xuICAgICAgICBlbmRrZXkgPSBvcHRzLmVuZGtleTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc3RhcnRrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0gb3B0cy5kZXNjZW5kaW5nID9cbiAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhbc3RhcnRrZXksIHt9XSkgOlxuICAgICAgICAgIHRvSW5kZXhhYmxlU3RyaW5nKFtzdGFydGtleV0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBlbmRrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpbmNsdXNpdmVFbmQgPSBvcHRzLmluY2x1c2l2ZV9lbmQgIT09IGZhbHNlO1xuICAgICAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICAgICAgaW5jbHVzaXZlRW5kID0gIWluY2x1c2l2ZUVuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IHRvSW5kZXhhYmxlU3RyaW5nKFxuICAgICAgICAgIGluY2x1c2l2ZUVuZCA/IFtlbmRrZXksIHt9XSA6IFtlbmRrZXldKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0cy5rZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBrZXlTdGFydCA9IHRvSW5kZXhhYmxlU3RyaW5nKFtvcHRzLmtleV0pO1xuICAgICAgICB2YXIga2V5RW5kID0gdG9JbmRleGFibGVTdHJpbmcoW29wdHMua2V5LCB7fV0pO1xuICAgICAgICBpZiAodmlld09wdHMuZGVzY2VuZGluZykge1xuICAgICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IGtleVN0YXJ0O1xuICAgICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0ga2V5RW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0ga2V5U3RhcnQ7XG4gICAgICAgICAgdmlld09wdHMuZW5ka2V5ID0ga2V5RW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNob3VsZFJlZHVjZSkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdHMubGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdmlld09wdHMubGltaXQgPSBvcHRzLmxpbWl0O1xuICAgICAgICB9XG4gICAgICAgIHZpZXdPcHRzLnNraXAgPSBza2lwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoRnJvbVZpZXcodmlld09wdHMpLnRoZW4ob25NYXBSZXN1bHRzUmVhZHkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGh0dHBWaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBkYi5mZXRjaCgnX3ZpZXdfY2xlYW51cCcsIHtcbiAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9jYWxWaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBkYi5nZXQoJ19sb2NhbC8nICsgbG9jYWxEb2NOYW1lKS50aGVuKGZ1bmN0aW9uIChtZXRhRG9jKSB7XG4gICAgICB2YXIgZG9jc1RvVmlld3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgIE9iamVjdC5rZXlzKG1ldGFEb2Mudmlld3MpLmZvckVhY2goZnVuY3Rpb24gKGZ1bGxWaWV3TmFtZSkge1xuICAgICAgICB2YXIgcGFydHMgPSBwYXJzZVZpZXdOYW1lKGZ1bGxWaWV3TmFtZSk7XG4gICAgICAgIHZhciBkZXNpZ25Eb2NOYW1lID0gJ19kZXNpZ24vJyArIHBhcnRzWzBdO1xuICAgICAgICB2YXIgdmlld05hbWUgPSBwYXJ0c1sxXTtcbiAgICAgICAgdmFyIHZpZXdzID0gZG9jc1RvVmlld3MuZ2V0KGRlc2lnbkRvY05hbWUpO1xuICAgICAgICBpZiAoIXZpZXdzKSB7XG4gICAgICAgICAgdmlld3MgPSBuZXcgRXhwb3J0ZWRTZXQoKTtcbiAgICAgICAgICBkb2NzVG9WaWV3cy5zZXQoZGVzaWduRG9jTmFtZSwgdmlld3MpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXdzLmFkZCh2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICBrZXlzIDogbWFwVG9LZXlzQXJyYXkoZG9jc1RvVmlld3MpLFxuICAgICAgICBpbmNsdWRlX2RvY3MgOiB0cnVlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGRiLmFsbERvY3Mob3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHZhciB2aWV3c1RvU3RhdHVzID0ge307XG4gICAgICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgIHZhciBkZG9jTmFtZSA9IHJvdy5rZXkuc3Vic3RyaW5nKDgpOyAvLyBjdXRzIG9mZiAnX2Rlc2lnbi8nXG4gICAgICAgICAgZG9jc1RvVmlld3MuZ2V0KHJvdy5rZXkpLmZvckVhY2goZnVuY3Rpb24gKHZpZXdOYW1lKSB7XG4gICAgICAgICAgICB2YXIgZnVsbFZpZXdOYW1lID0gZGRvY05hbWUgKyAnLycgKyB2aWV3TmFtZTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKCFtZXRhRG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0pIHtcbiAgICAgICAgICAgICAgLy8gbmV3IGZvcm1hdCwgd2l0aG91dCBzbGFzaGVzLCB0byBzdXBwb3J0IFBvdWNoREIgMi4yLjBcbiAgICAgICAgICAgICAgLy8gbWlncmF0aW9uIHRlc3QgaW4gcG91Y2hkYidzIGJyb3dzZXIubWlncmF0aW9uLmpzIHZlcmlmaWVzIHRoaXNcbiAgICAgICAgICAgICAgZnVsbFZpZXdOYW1lID0gdmlld05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmlld0RCTmFtZXMgPSBPYmplY3Qua2V5cyhtZXRhRG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0pO1xuICAgICAgICAgICAgLy8gZGVzaWduIGRvYyBkZWxldGVkLCBvciB2aWV3IGZ1bmN0aW9uIG5vbmV4aXN0ZW50XG4gICAgICAgICAgICB2YXIgc3RhdHVzSXNHb29kID0gcm93LmRvYyAmJiByb3cuZG9jLnZpZXdzICYmXG4gICAgICAgICAgICAgIHJvdy5kb2Mudmlld3Nbdmlld05hbWVdO1xuICAgICAgICAgICAgdmlld0RCTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAodmlld0RCTmFtZSkge1xuICAgICAgICAgICAgICB2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdID1cbiAgICAgICAgICAgICAgICB2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdIHx8IHN0YXR1c0lzR29vZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGRic1RvRGVsZXRlID0gT2JqZWN0LmtleXModmlld3NUb1N0YXR1cykuZmlsdGVyKFxuICAgICAgICAgIGZ1bmN0aW9uICh2aWV3REJOYW1lKSB7IHJldHVybiAhdmlld3NUb1N0YXR1c1t2aWV3REJOYW1lXTsgfSk7XG4gICAgICAgIHZhciBkZXN0cm95UHJvbWlzZXMgPSBkYnNUb0RlbGV0ZS5tYXAoZnVuY3Rpb24gKHZpZXdEQk5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gc2VxdWVudGlhbGl6ZShnZXRRdWV1ZSh2aWV3REJOYW1lKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBkYi5jb25zdHJ1Y3Rvcih2aWV3REJOYW1lLCBkYi5fX29wdHMpLmRlc3Ryb3koKTtcbiAgICAgICAgICB9KSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGRlc3Ryb3lQcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHtvazogdHJ1ZX07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSwgZGVmYXVsdHNUbyh7b2s6IHRydWV9KSk7XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVByb21pc2VkKGRiLCBmdW4sIG9wdHMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2YgZGIuX3F1ZXJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VzdG9tUXVlcnkoZGIsIGZ1biwgb3B0cyk7XG4gICAgfVxuICAgIGlmIChpc1JlbW90ZShkYikpIHtcbiAgICAgIHJldHVybiBodHRwUXVlcnkoZGIsIGZ1biwgb3B0cyk7XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZVZpZXdPcHRzID0ge1xuICAgICAgY2hhbmdlc19iYXRjaF9zaXplOiBkYi5fX29wdHMudmlld191cGRhdGVfY2hhbmdlc19iYXRjaF9zaXplIHx8IENIQU5HRVNfQkFUQ0hfU0laRSQxXG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgZnVuICE9PSAnc3RyaW5nJykge1xuICAgICAgLy8gdGVtcF92aWV3XG4gICAgICBjaGVja1F1ZXJ5UGFyc2VFcnJvcihvcHRzLCBmdW4pO1xuXG4gICAgICB0ZW1wVmlld1F1ZXVlLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjcmVhdGVWaWV3UHJvbWlzZSA9IGNyZWF0ZVZpZXcoXG4gICAgICAgICAgLyogc291cmNlREIgKi8gZGIsXG4gICAgICAgICAgLyogdmlld05hbWUgKi8gJ3RlbXBfdmlldy90ZW1wX3ZpZXcnLFxuICAgICAgICAgIC8qIG1hcEZ1biAqLyBmdW4ubWFwLFxuICAgICAgICAgIC8qIHJlZHVjZUZ1biAqLyBmdW4ucmVkdWNlLFxuICAgICAgICAgIC8qIHRlbXBvcmFyeSAqLyB0cnVlLFxuICAgICAgICAgIC8qIGxvY2FsRG9jTmFtZSAqLyBsb2NhbERvY05hbWUpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVmlld1Byb21pc2UudGhlbihmdW5jdGlvbiAodmlldykge1xuICAgICAgICAgIHJldHVybiBmaW4odXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVlcnlWaWV3KHZpZXcsIG9wdHMpO1xuICAgICAgICAgIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldy5kYi5kZXN0cm95KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGVtcFZpZXdRdWV1ZS5maW5pc2goKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcGVyc2lzdGVudCB2aWV3XG4gICAgICB2YXIgZnVsbFZpZXdOYW1lID0gZnVuO1xuICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdWxsVmlld05hbWUpO1xuICAgICAgdmFyIGRlc2lnbkRvY05hbWUgPSBwYXJ0c1swXTtcbiAgICAgIHZhciB2aWV3TmFtZSA9IHBhcnRzWzFdO1xuICAgICAgcmV0dXJuIGRiLmdldCgnX2Rlc2lnbi8nICsgZGVzaWduRG9jTmFtZSkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHZhciBmdW4gPSBkb2Mudmlld3MgJiYgZG9jLnZpZXdzW3ZpZXdOYW1lXTtcblxuICAgICAgICBpZiAoIWZ1bikge1xuICAgICAgICAgIC8vIGJhc2ljIHZhbGlkYXRvcjsgaXQncyBhc3N1bWVkIHRoYXQgZXZlcnkgc3ViY2xhc3Mgd291bGQgd2FudCB0aGlzXG4gICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoJ2Rkb2MgJyArIGRvYy5faWQgKyAnIGhhcyBubyB2aWV3IG5hbWVkICcgK1xuICAgICAgICAgICAgdmlld05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGRvY1ZhbGlkYXRvcihkb2MsIHZpZXdOYW1lKTtcbiAgICAgICAgY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0cywgZnVuKTtcblxuICAgICAgICB2YXIgY3JlYXRlVmlld1Byb21pc2UgPSBjcmVhdGVWaWV3KFxuICAgICAgICAgIC8qIHNvdXJjZURCICovIGRiLFxuICAgICAgICAgIC8qIHZpZXdOYW1lICovIGZ1bGxWaWV3TmFtZSxcbiAgICAgICAgICAvKiBtYXBGdW4gKi8gZnVuLm1hcCxcbiAgICAgICAgICAvKiByZWR1Y2VGdW4gKi8gZnVuLnJlZHVjZSxcbiAgICAgICAgICAvKiB0ZW1wb3JhcnkgKi8gZmFsc2UsXG4gICAgICAgICAgLyogbG9jYWxEb2NOYW1lICovIGxvY2FsRG9jTmFtZSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVWaWV3UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgICAgaWYgKG9wdHMuc3RhbGUgPT09ICdvaycgfHwgb3B0cy5zdGFsZSA9PT0gJ3VwZGF0ZV9hZnRlcicpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLnN0YWxlID09PSAndXBkYXRlX2FmdGVyJykge1xuICAgICAgICAgICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcodmlldywgdXBkYXRlVmlld09wdHMpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gc3RhbGUgbm90IG9rXG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWJzdHJhY3RRdWVyeShmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRiID0gdGhpcztcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IG9wdHMgPyBjb2VyY2VPcHRpb25zKG9wdHMpIDoge307XG5cbiAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZnVuID0ge21hcCA6IGZ1bn07XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxdWVyeVByb21pc2VkKGRiLCBmdW4sIG9wdHMpO1xuICAgIH0pO1xuICAgIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdmFyIGFic3RyYWN0Vmlld0NsZWFudXAgPSBjYWxsYmFja2lmeShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRiID0gdGhpcztcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2YgZGIuX3ZpZXdDbGVhbnVwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VzdG9tVmlld0NsZWFudXAoZGIpO1xuICAgIH1cbiAgICBpZiAoaXNSZW1vdGUoZGIpKSB7XG4gICAgICByZXR1cm4gaHR0cFZpZXdDbGVhbnVwKGRiKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsVmlld0NsZWFudXAoZGIpO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHF1ZXJ5OiBhYnN0cmFjdFF1ZXJ5LFxuICAgIHZpZXdDbGVhbnVwOiBhYnN0cmFjdFZpZXdDbGVhbnVwXG4gIH07XG59XG5cbnZhciBidWlsdEluUmVkdWNlID0ge1xuICBfc3VtOiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHN1bSh2YWx1ZXMpO1xuICB9LFxuXG4gIF9jb3VudDogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoO1xuICB9LFxuXG4gIF9zdGF0czogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIC8vIG5vIG5lZWQgdG8gaW1wbGVtZW50IHJlcmVkdWNlPXRydWUsIGJlY2F1c2UgUG91Y2hcbiAgICAvLyB3aWxsIG5ldmVyIGNhbGwgaXRcbiAgICBmdW5jdGlvbiBzdW1zcXIodmFsdWVzKSB7XG4gICAgICB2YXIgX3N1bXNxciA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBudW0gPSB2YWx1ZXNbaV07XG4gICAgICAgIF9zdW1zcXIgKz0gKG51bSAqIG51bSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3N1bXNxcjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1bSAgICAgOiBzdW0odmFsdWVzKSxcbiAgICAgIG1pbiAgICAgOiBNYXRoLm1pbi5hcHBseShudWxsLCB2YWx1ZXMpLFxuICAgICAgbWF4ICAgICA6IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyksXG4gICAgICBjb3VudCAgIDogdmFsdWVzLmxlbmd0aCxcbiAgICAgIHN1bXNxciA6IHN1bXNxcih2YWx1ZXMpXG4gICAgfTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0QnVpbHRJbihyZWR1Y2VGdW5TdHJpbmcpIHtcbiAgaWYgKC9eX3N1bS8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX3N1bTtcbiAgfSBlbHNlIGlmICgvXl9jb3VudC8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX2NvdW50O1xuICB9IGVsc2UgaWYgKC9eX3N0YXRzLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICByZXR1cm4gYnVpbHRJblJlZHVjZS5fc3RhdHM7XG4gIH0gZWxzZSBpZiAoL15fLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocmVkdWNlRnVuU3RyaW5nICsgJyBpcyBub3QgYSBzdXBwb3J0ZWQgcmVkdWNlIGZ1bmN0aW9uLicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcHBlcihtYXBGdW4sIGVtaXQpIHtcbiAgLy8gZm9yIHRlbXBfdmlld3Mgb25lIGNhbiB1c2UgZW1pdChkb2MsIGVtaXQpLCBzZWUgIzM4XG4gIGlmICh0eXBlb2YgbWFwRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgbWFwRnVuLmxlbmd0aCA9PT0gMikge1xuICAgIHZhciBvcmlnTWFwID0gbWFwRnVuO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICByZXR1cm4gb3JpZ01hcChkb2MsIGVtaXQpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV2YWxGdW5jdGlvbldpdGhFdmFsKG1hcEZ1bi50b1N0cmluZygpLCBlbWl0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWR1Y2VyKHJlZHVjZUZ1bikge1xuICB2YXIgcmVkdWNlRnVuU3RyaW5nID0gcmVkdWNlRnVuLnRvU3RyaW5nKCk7XG4gIHZhciBidWlsdEluID0gZ2V0QnVpbHRJbihyZWR1Y2VGdW5TdHJpbmcpO1xuICBpZiAoYnVpbHRJbikge1xuICAgIHJldHVybiBidWlsdEluO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBldmFsRnVuY3Rpb25XaXRoRXZhbChyZWR1Y2VGdW5TdHJpbmcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRkb2NWYWxpZGF0b3IoZGRvYywgdmlld05hbWUpIHtcbiAgdmFyIGZ1biA9IGRkb2Mudmlld3MgJiYgZGRvYy52aWV3c1t2aWV3TmFtZV07XG4gIGlmICh0eXBlb2YgZnVuLm1hcCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcignZGRvYyAnICsgZGRvYy5faWQgKyAnIGhhcyBubyBzdHJpbmcgdmlldyBuYW1lZCAnICtcbiAgICAgIHZpZXdOYW1lICsgJywgaW5zdGVhZCBmb3VuZCBvYmplY3Qgb2YgdHlwZTogJyArIHR5cGVvZiBmdW4ubWFwKTtcbiAgfVxufVxuXG52YXIgbG9jYWxEb2NOYW1lID0gJ21ydmlld3MnO1xudmFyIGFic3RyYWN0ID0gY3JlYXRlQWJzdHJhY3RNYXBSZWR1Y2UobG9jYWxEb2NOYW1lLCBtYXBwZXIsIHJlZHVjZXIsIGRkb2NWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBxdWVyeShmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBhYnN0cmFjdC5xdWVyeS5jYWxsKHRoaXMsIGZ1biwgb3B0cywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiB2aWV3Q2xlYW51cChjYWxsYmFjaykge1xuICByZXR1cm4gYWJzdHJhY3Qudmlld0NsZWFudXAuY2FsbCh0aGlzLCBjYWxsYmFjayk7XG59XG5cbnZhciBtYXByZWR1Y2UgPSB7XG4gIHF1ZXJ5OiBxdWVyeSxcbiAgdmlld0NsZWFudXA6IHZpZXdDbGVhbnVwXG59O1xuXG5mdW5jdGlvbiBpc0dlbk9uZSQxKHJldikge1xuICByZXR1cm4gL14xLS8udGVzdChyZXYpO1xufVxuXG5mdW5jdGlvbiBmaWxlSGFzQ2hhbmdlZChsb2NhbERvYywgcmVtb3RlRG9jLCBmaWxlbmFtZSkge1xuICByZXR1cm4gIWxvY2FsRG9jLl9hdHRhY2htZW50cyB8fFxuICAgICAgICAgIWxvY2FsRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0gfHxcbiAgICAgICAgIGxvY2FsRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0uZGlnZXN0ICE9PSByZW1vdGVEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXS5kaWdlc3Q7XG59XG5cbmZ1bmN0aW9uIGdldERvY0F0dGFjaG1lbnRzKGRiLCBkb2MpIHtcbiAgdmFyIGZpbGVuYW1lcyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZW5hbWVzLm1hcChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICByZXR1cm4gZGIuZ2V0QXR0YWNobWVudChkb2MuX2lkLCBmaWxlbmFtZSwge3JldjogZG9jLl9yZXZ9KTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBnZXREb2NBdHRhY2htZW50c0Zyb21UYXJnZXRPclNvdXJjZSh0YXJnZXQsIHNyYywgZG9jKSB7XG4gIHZhciBkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cyA9IGlzUmVtb3RlKHNyYykgJiYgIWlzUmVtb3RlKHRhcmdldCk7XG4gIHZhciBmaWxlbmFtZXMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcblxuICBpZiAoIWRvQ2hlY2tGb3JMb2NhbEF0dGFjaG1lbnRzKSB7XG4gICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzKHNyYywgZG9jKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQuZ2V0KGRvYy5faWQpLnRoZW4oZnVuY3Rpb24gKGxvY2FsRG9jKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICBpZiAoZmlsZUhhc0NoYW5nZWQobG9jYWxEb2MsIGRvYywgZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiBzcmMuZ2V0QXR0YWNobWVudChkb2MuX2lkLCBmaWxlbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXQuZ2V0QXR0YWNobWVudChsb2NhbERvYy5faWQsIGZpbGVuYW1lKTtcbiAgICB9KSk7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlcnJvci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzKHNyYywgZG9jKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1bGtHZXRPcHRzKGRpZmZzKSB7XG4gIHZhciByZXF1ZXN0cyA9IFtdO1xuICBPYmplY3Qua2V5cyhkaWZmcykuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICB2YXIgbWlzc2luZ1JldnMgPSBkaWZmc1tpZF0ubWlzc2luZztcbiAgICBtaXNzaW5nUmV2cy5mb3JFYWNoKGZ1bmN0aW9uIChtaXNzaW5nUmV2KSB7XG4gICAgICByZXF1ZXN0cy5wdXNoKHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICByZXY6IG1pc3NpbmdSZXZcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGRvY3M6IHJlcXVlc3RzLFxuICAgIHJldnM6IHRydWUsXG4gICAgbGF0ZXN0OiB0cnVlXG4gIH07XG59XG5cbi8vXG4vLyBGZXRjaCBhbGwgdGhlIGRvY3VtZW50cyBmcm9tIHRoZSBzcmMgYXMgZGVzY3JpYmVkIGluIHRoZSBcImRpZmZzXCIsXG4vLyB3aGljaCBpcyBhIG1hcHBpbmcgb2YgZG9jcyBJRHMgdG8gcmV2aXNpb25zLiBJZiB0aGUgc3RhdGUgZXZlclxuLy8gY2hhbmdlcyB0byBcImNhbmNlbGxlZFwiLCB0aGVuIHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQuXG4vLyBFbHNlIGl0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhIGxpc3Qgb2YgZmV0Y2hlZCBkb2N1bWVudHMuXG4vL1xuZnVuY3Rpb24gZ2V0RG9jcyhzcmMsIHRhcmdldCwgZGlmZnMsIHN0YXRlKSB7XG4gIGRpZmZzID0gY2xvbmUoZGlmZnMpOyAvLyB3ZSBkbyBub3QgbmVlZCB0byBtb2RpZnkgdGhpc1xuXG4gIHZhciByZXN1bHREb2NzID0gW10sXG4gICAgICBvayA9IHRydWU7XG5cbiAgZnVuY3Rpb24gZ2V0QWxsRG9jcygpIHtcblxuICAgIHZhciBidWxrR2V0T3B0cyA9IGNyZWF0ZUJ1bGtHZXRPcHRzKGRpZmZzKTtcblxuICAgIGlmICghYnVsa0dldE9wdHMuZG9jcy5sZW5ndGgpIHsgLy8gb3B0aW1pemF0aW9uOiBza2lwIGVtcHR5IHJlcXVlc3RzXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYy5idWxrR2V0KGJ1bGtHZXRPcHRzKS50aGVuKGZ1bmN0aW9uIChidWxrR2V0UmVzcG9uc2UpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHN0YXRlLmNhbmNlbGxlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGJ1bGtHZXRSZXNwb25zZS5yZXN1bHRzLm1hcChmdW5jdGlvbiAoYnVsa0dldEluZm8pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGJ1bGtHZXRJbmZvLmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICB2YXIgcmVtb3RlRG9jID0gZG9jLm9rO1xuXG4gICAgICAgICAgaWYgKGRvYy5lcnJvcikge1xuICAgICAgICAgICAgLy8gd2hlbiBBVVRPX0NPTVBBQ1RJT04gaXMgc2V0LCBkb2NzIGNhbiBiZSByZXR1cm5lZCB3aGljaCBsb29rXG4gICAgICAgICAgICAvLyBsaWtlIHRoaXM6IHtcIm1pc3NpbmdcIjpcIjEtN2MzYWMyNTZiNjkzYzQ2MmFmODQ0MmY5OTJiODM2OTZcIn1cbiAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFyZW1vdGVEb2MgfHwgIXJlbW90ZURvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdGVEb2M7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzRnJvbVRhcmdldE9yU291cmNlKHRhcmdldCwgc3JjLCByZW1vdGVEb2MpXG4gICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWVzID0gT2JqZWN0LmtleXMocmVtb3RlRG9jLl9hdHRhY2htZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoYXR0YWNobWVudCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHQgPSByZW1vdGVEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lc1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dC5kYXRhID0gYXR0YWNobWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbW90ZURvYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICB9KSlcblxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgcmVzdWx0RG9jcyA9IHJlc3VsdERvY3MuY29uY2F0KGZsYXR0ZW4ocmVzdWx0cykuZmlsdGVyKEJvb2xlYW4pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQXR0YWNobWVudHMoZG9jKSB7XG4gICAgcmV0dXJuIGRvYy5fYXR0YWNobWVudHMgJiYgT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0NvbmZsaWN0cyhkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9jb25mbGljdHMgJiYgZG9jLl9jb25mbGljdHMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoUmV2aXNpb25PbmVEb2NzKGlkcykge1xuICAgIC8vIE9wdGltaXphdGlvbjogZmV0Y2ggZ2VuLTEgZG9jcyBhbmQgYXR0YWNobWVudHMgaW5cbiAgICAvLyBhIHNpbmdsZSByZXF1ZXN0IHVzaW5nIF9hbGxfZG9jc1xuICAgIHJldHVybiBzcmMuYWxsRG9jcyh7XG4gICAgICBrZXlzOiBpZHMsXG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBjb25mbGljdHM6IHRydWVcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChzdGF0ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICBpZiAocm93LmRlbGV0ZWQgfHwgIXJvdy5kb2MgfHwgIWlzR2VuT25lJDEocm93LnZhbHVlLnJldikgfHxcbiAgICAgICAgICAgIGhhc0F0dGFjaG1lbnRzKHJvdy5kb2MpIHx8IGhhc0NvbmZsaWN0cyhyb3cuZG9jKSkge1xuICAgICAgICAgIC8vIGlmIGFueSBvZiB0aGVzZSBjb25kaXRpb25zIGFwcGx5LCB3ZSBuZWVkIHRvIGZldGNoIHVzaW5nIGdldCgpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RyaXAgX2NvbmZsaWN0cyBhcnJheSB0byBhcHBlYXNlIENTRyAoIzU3OTMpXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAocm93LmRvYy5fY29uZmxpY3RzKSB7XG4gICAgICAgICAgZGVsZXRlIHJvdy5kb2MuX2NvbmZsaWN0cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBkb2Mgd2UgZ290IGJhY2sgZnJvbSBhbGxEb2NzKCkgaXMgc3VmZmljaWVudFxuICAgICAgICByZXN1bHREb2NzLnB1c2gocm93LmRvYyk7XG4gICAgICAgIGRlbGV0ZSBkaWZmc1tyb3cuaWRdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSZXZpc2lvbk9uZURvY3MoKSB7XG4gICAgLy8gZmlsdGVyIG91dCB0aGUgZ2VuZXJhdGlvbiAxIGRvY3MgYW5kIGdldCB0aGVtXG4gICAgLy8gbGVhdmluZyB0aGUgbm9uLWdlbmVyYXRpb24gb25lIGRvY3MgdG8gYmUgZ290IG90aGVyd2lzZVxuICAgIHZhciBpZHMgPSBPYmplY3Qua2V5cyhkaWZmcykuZmlsdGVyKGZ1bmN0aW9uIChpZCkge1xuICAgICAgdmFyIG1pc3NpbmcgPSBkaWZmc1tpZF0ubWlzc2luZztcbiAgICAgIHJldHVybiBtaXNzaW5nLmxlbmd0aCA9PT0gMSAmJiBpc0dlbk9uZSQxKG1pc3NpbmdbMF0pO1xuICAgIH0pO1xuICAgIGlmIChpZHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGZldGNoUmV2aXNpb25PbmVEb2NzKGlkcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV0dXJuUmVzdWx0KCkge1xuICAgIHJldHVybiB7IG9rOm9rLCBkb2NzOnJlc3VsdERvY3MgfTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIC50aGVuKGdldFJldmlzaW9uT25lRG9jcylcbiAgICAudGhlbihnZXRBbGxEb2NzKVxuICAgIC50aGVuKHJldHVyblJlc3VsdCk7XG59XG5cbnZhciBDSEVDS1BPSU5UX1ZFUlNJT04gPSAxO1xudmFyIFJFUExJQ0FUT1IgPSBcInBvdWNoZGJcIjtcbi8vIFRoaXMgaXMgYW4gYXJiaXRyYXJ5IG51bWJlciB0byBsaW1pdCB0aGVcbi8vIGFtb3VudCBvZiByZXBsaWNhdGlvbiBoaXN0b3J5IHdlIHNhdmUgaW4gdGhlIGNoZWNrcG9pbnQuXG4vLyBJZiB3ZSBzYXZlIHRvbyBtdWNoLCB0aGUgY2hlY2twb2luZyBkb2NzIHdpbGwgYmVjb21lIHZlcnkgYmlnLFxuLy8gaWYgd2Ugc2F2ZSBmZXdlciwgd2UnbGwgcnVuIGEgZ3JlYXRlciByaXNrIG9mIGhhdmluZyB0b1xuLy8gcmVhZCBhbGwgdGhlIGNoYW5nZXMgZnJvbSAwIHdoZW4gY2hlY2twb2ludCBQVVRzIGZhaWxcbi8vIENvdWNoREIgMi4wIGhhcyBhIG1vcmUgaW52b2x2ZWQgaGlzdG9yeSBwcnVuaW5nLFxuLy8gYnV0IGxldCdzIGdvIGZvciB0aGUgc2ltcGxlIHZlcnNpb24gZm9yIG5vdy5cbnZhciBDSEVDS1BPSU5UX0hJU1RPUllfU0laRSA9IDU7XG52YXIgTE9XRVNUX1NFUSA9IDA7XG5cbmZ1bmN0aW9uIHVwZGF0ZUNoZWNrcG9pbnQoZGIsIGlkLCBjaGVja3BvaW50LCBzZXNzaW9uLCByZXR1cm5WYWx1ZSkge1xuICByZXR1cm4gZGIuZ2V0KGlkKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgaWYgKGRiLmFkYXB0ZXIgPT09ICdodHRwJyB8fCBkYi5hZGFwdGVyID09PSAnaHR0cHMnKSB7XG4gICAgICAgIGV4cGxhaW5FcnJvcihcbiAgICAgICAgICA0MDQsICdQb3VjaERCIGlzIGp1c3QgY2hlY2tpbmcgaWYgYSByZW1vdGUgY2hlY2twb2ludCBleGlzdHMuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbixcbiAgICAgICAgX2lkOiBpZCxcbiAgICAgICAgaGlzdG9yeTogW10sXG4gICAgICAgIHJlcGxpY2F0b3I6IFJFUExJQ0FUT1IsXG4gICAgICAgIHZlcnNpb246IENIRUNLUE9JTlRfVkVSU0lPTlxuICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgZXJyO1xuICB9KS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlIGNoZWNrcG9pbnQgaGFzIG5vdCBjaGFuZ2VkLCBkbyBub3QgdXBkYXRlXG4gICAgaWYgKGRvYy5sYXN0X3NlcSA9PT0gY2hlY2twb2ludCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBvdXQgY3VycmVudCBlbnRyeSBmb3IgdGhpcyByZXBsaWNhdGlvblxuICAgIGRvYy5oaXN0b3J5ID0gKGRvYy5oaXN0b3J5IHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLnNlc3Npb25faWQgIT09IHNlc3Npb247XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgdGhlIGxhdGVzdCBjaGVja3BvaW50IHRvIGhpc3RvcnlcbiAgICBkb2MuaGlzdG9yeS51bnNoaWZ0KHtcbiAgICAgIGxhc3Rfc2VxOiBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvblxuICAgIH0pO1xuXG4gICAgLy8gSnVzdCB0YWtlIHRoZSBsYXN0IHBpZWNlcyBpbiBoaXN0b3J5LCB0b1xuICAgIC8vIGF2b2lkIHJlYWxseSBiaWcgY2hlY2twb2ludCBkb2NzLlxuICAgIC8vIHNlZSBjb21tZW50IG9uIGhpc3Rvcnkgc2l6ZSBhYm92ZVxuICAgIGRvYy5oaXN0b3J5ID0gZG9jLmhpc3Rvcnkuc2xpY2UoMCwgQ0hFQ0tQT0lOVF9ISVNUT1JZX1NJWkUpO1xuXG4gICAgZG9jLnZlcnNpb24gPSBDSEVDS1BPSU5UX1ZFUlNJT047XG4gICAgZG9jLnJlcGxpY2F0b3IgPSBSRVBMSUNBVE9SO1xuXG4gICAgZG9jLnNlc3Npb25faWQgPSBzZXNzaW9uO1xuICAgIGRvYy5sYXN0X3NlcSA9IGNoZWNrcG9pbnQ7XG5cbiAgICByZXR1cm4gZGIucHV0KGRvYykuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAvLyByZXRyeTsgc29tZW9uZSBpcyB0cnlpbmcgdG8gd3JpdGUgYSBjaGVja3BvaW50IHNpbXVsdGFuZW91c2x5XG4gICAgICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KGRiLCBpZCwgY2hlY2twb2ludCwgc2Vzc2lvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gQ2hlY2twb2ludGVyKHNyYywgdGFyZ2V0LCBpZCwgcmV0dXJuVmFsdWUsIG9wdHMpIHtcbiAgdGhpcy5zcmMgPSBzcmM7XG4gIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICB0aGlzLmlkID0gaWQ7XG4gIHRoaXMucmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZTtcbiAgdGhpcy5vcHRzID0gb3B0cyB8fCB7fTtcbn1cblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS53cml0ZUNoZWNrcG9pbnQgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHJldHVybiB0aGlzLnVwZGF0ZVRhcmdldChjaGVja3BvaW50LCBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2VsZi51cGRhdGVTb3VyY2UoY2hlY2twb2ludCwgc2Vzc2lvbik7XG4gIH0pO1xufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS51cGRhdGVUYXJnZXQgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICBpZiAodGhpcy5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCkge1xuICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KHRoaXMudGFyZ2V0LCB0aGlzLmlkLCBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbiwgdGhpcy5yZXR1cm5WYWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgfVxufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS51cGRhdGVTb3VyY2UgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICBpZiAodGhpcy5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gdXBkYXRlQ2hlY2twb2ludCh0aGlzLnNyYywgdGhpcy5pZCwgY2hlY2twb2ludCxcbiAgICAgIHNlc3Npb24sIHRoaXMucmV0dXJuVmFsdWUpXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoaXNGb3JiaWRkZW5FcnJvcihlcnIpKSB7XG4gICAgICAgICAgc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gIH1cbn07XG5cbnZhciBjb21wYXJpc29ucyA9IHtcbiAgXCJ1bmRlZmluZWRcIjogZnVuY3Rpb24gKHRhcmdldERvYywgc291cmNlRG9jKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgcHJldmlvdXMgY29tcGFyaXNvbiBmdW5jdGlvblxuICAgIGlmIChjb2xsYXRlKHRhcmdldERvYy5sYXN0X3NlcSwgc291cmNlRG9jLmxhc3Rfc2VxKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHNvdXJjZURvYy5sYXN0X3NlcTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgXCIxXCI6IGZ1bmN0aW9uICh0YXJnZXREb2MsIHNvdXJjZURvYykge1xuICAgIC8vIFRoaXMgaXMgdGhlIGNvbXBhcmlzb24gZnVuY3Rpb24gcG9ydGVkIGZyb20gQ291Y2hEQlxuICAgIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25Mb2dzKHNvdXJjZURvYywgdGFyZ2V0RG9jKS5sYXN0X3NlcTtcbiAgfVxufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS5nZXRDaGVja3BvaW50ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHNlbGYub3B0cyAmJiBzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50ICYmICFzZWxmLm9wdHMud3JpdGVUYXJnZXRDaGVja3BvaW50KSB7XG4gICAgcmV0dXJuIHNlbGYuc3JjLmdldChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uIChzb3VyY2VEb2MpIHtcbiAgICAgIHJldHVybiBzb3VyY2VEb2MubGFzdF9zZXEgfHwgTE9XRVNUX1NFUTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc2VsZi50YXJnZXQuZ2V0KHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHRhcmdldERvYykge1xuICAgIGlmIChzZWxmLm9wdHMgJiYgc2VsZi5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCAmJiAhc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCkge1xuICAgICAgcmV0dXJuIHRhcmdldERvYy5sYXN0X3NlcSB8fCBMT1dFU1RfU0VRO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNyYy5nZXQoc2VsZi5pZCkudGhlbihmdW5jdGlvbiAoc291cmNlRG9jKSB7XG4gICAgICAvLyBTaW5jZSB3ZSBjYW4ndCBtaWdyYXRlIGFuIG9sZCB2ZXJzaW9uIGRvYyB0byBhIG5ldyBvbmVcbiAgICAgIC8vIChubyBzZXNzaW9uIGlkKSwgd2UganVzdCBnbyB3aXRoIHRoZSBsb3dlc3Qgc2VxIGluIHRoaXMgY2FzZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAodGFyZ2V0RG9jLnZlcnNpb24gIT09IHNvdXJjZURvYy52ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmVyc2lvbjtcbiAgICAgIGlmICh0YXJnZXREb2MudmVyc2lvbikge1xuICAgICAgICB2ZXJzaW9uID0gdGFyZ2V0RG9jLnZlcnNpb24udG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZlcnNpb24gPSBcInVuZGVmaW5lZFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAodmVyc2lvbiBpbiBjb21wYXJpc29ucykge1xuICAgICAgICByZXR1cm4gY29tcGFyaXNvbnNbdmVyc2lvbl0odGFyZ2V0RG9jLCBzb3VyY2VEb2MpO1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQgJiYgdGFyZ2V0RG9jLmxhc3Rfc2VxKSB7XG4gICAgICAgIHJldHVybiBzZWxmLnNyYy5wdXQoe1xuICAgICAgICAgIF9pZDogc2VsZi5pZCxcbiAgICAgICAgICBsYXN0X3NlcTogTE9XRVNUX1NFUVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGlmIChpc0ZvcmJpZGRlbkVycm9yKGVycikpIHtcbiAgICAgICAgICAgIHNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXREb2MubGFzdF9zZXE7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgfSk7XG59O1xuLy8gVGhpcyBjaGVja3BvaW50IGNvbXBhcmlzb24gaXMgcG9ydGVkIGZyb20gQ291Y2hEQnMgc291cmNlXG4vLyB0aGV5IGNvbWUgZnJvbSBoZXJlOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9jb3VjaGRiLWNvdWNoLXJlcGxpY2F0b3IvYmxvYi9tYXN0ZXIvc3JjL2NvdWNoX3JlcGxpY2F0b3IuZXJsI0w4NjMtTDkwNlxuXG5mdW5jdGlvbiBjb21wYXJlUmVwbGljYXRpb25Mb2dzKHNyY0RvYywgdGd0RG9jKSB7XG4gIGlmIChzcmNEb2Muc2Vzc2lvbl9pZCA9PT0gdGd0RG9jLnNlc3Npb25faWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IHNyY0RvYy5sYXN0X3NlcSxcbiAgICAgIGhpc3Rvcnk6IHNyY0RvYy5oaXN0b3J5XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNyY0RvYy5oaXN0b3J5LCB0Z3REb2MuaGlzdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVSZXBsaWNhdGlvbkhpc3Rvcnkoc291cmNlSGlzdG9yeSwgdGFyZ2V0SGlzdG9yeSkge1xuICAvLyB0aGUgZXJsYW5nIGxvb3AgdmlhIGZ1bmN0aW9uIGFyZ3VtZW50cyBpcyBub3Qgc28gZWFzeSB0byByZXBlYXQgaW4gSlNcbiAgLy8gdGhlcmVmb3JlLCBkb2luZyB0aGlzIGFzIHJlY3Vyc2lvblxuICB2YXIgUyA9IHNvdXJjZUhpc3RvcnlbMF07XG4gIHZhciBzb3VyY2VSZXN0ID0gc291cmNlSGlzdG9yeS5zbGljZSgxKTtcbiAgdmFyIFQgPSB0YXJnZXRIaXN0b3J5WzBdO1xuICB2YXIgdGFyZ2V0UmVzdCA9IHRhcmdldEhpc3Rvcnkuc2xpY2UoMSk7XG5cbiAgaWYgKCFTIHx8IHRhcmdldEhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBMT1dFU1RfU0VRLFxuICAgICAgaGlzdG9yeTogW11cbiAgICB9O1xuICB9XG5cbiAgdmFyIHNvdXJjZUlkID0gUy5zZXNzaW9uX2lkO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGhhc1Nlc3Npb25JZChzb3VyY2VJZCwgdGFyZ2V0SGlzdG9yeSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IFMubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiBzb3VyY2VIaXN0b3J5XG4gICAgfTtcbiAgfVxuXG4gIHZhciB0YXJnZXRJZCA9IFQuc2Vzc2lvbl9pZDtcbiAgaWYgKGhhc1Nlc3Npb25JZCh0YXJnZXRJZCwgc291cmNlUmVzdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IFQubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiB0YXJnZXRSZXN0XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNvdXJjZVJlc3QsIHRhcmdldFJlc3QpO1xufVxuXG5mdW5jdGlvbiBoYXNTZXNzaW9uSWQoc2Vzc2lvbklkLCBoaXN0b3J5KSB7XG4gIHZhciBwcm9wcyA9IGhpc3RvcnlbMF07XG4gIHZhciByZXN0ID0gaGlzdG9yeS5zbGljZSgxKTtcblxuICBpZiAoIXNlc3Npb25JZCB8fCBoaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChzZXNzaW9uSWQgPT09IHByb3BzLnNlc3Npb25faWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBoYXNTZXNzaW9uSWQoc2Vzc2lvbklkLCByZXN0KTtcbn1cblxuZnVuY3Rpb24gaXNGb3JiaWRkZW5FcnJvcihlcnIpIHtcbiAgcmV0dXJuIHR5cGVvZiBlcnIuc3RhdHVzID09PSAnbnVtYmVyJyAmJiBNYXRoLmZsb29yKGVyci5zdGF0dXMgLyAxMDApID09PSA0O1xufVxuXG52YXIgU1RBUlRJTkdfQkFDS19PRkYgPSAwO1xuXG5mdW5jdGlvbiBiYWNrT2ZmKG9wdHMsIHJldHVyblZhbHVlLCBlcnJvciwgY2FsbGJhY2spIHtcbiAgaWYgKG9wdHMucmV0cnkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgcmV0dXJuVmFsdWUucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIG9wdHMuYmFja19vZmZfZnVuY3Rpb24gIT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uID0gZGVmYXVsdEJhY2tPZmY7XG4gIH1cbiAgcmV0dXJuVmFsdWUuZW1pdCgncmVxdWVzdEVycm9yJywgZXJyb3IpO1xuICBpZiAocmV0dXJuVmFsdWUuc3RhdGUgPT09ICdhY3RpdmUnIHx8IHJldHVyblZhbHVlLnN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdwYXVzZWQnLCBlcnJvcik7XG4gICAgcmV0dXJuVmFsdWUuc3RhdGUgPSAnc3RvcHBlZCc7XG4gICAgdmFyIGJhY2tPZmZTZXQgPSBmdW5jdGlvbiBiYWNrb2ZmVGltZVNldCgpIHtcbiAgICAgIG9wdHMuY3VycmVudF9iYWNrX29mZiA9IFNUQVJUSU5HX0JBQ0tfT0ZGO1xuICAgIH07XG4gICAgdmFyIHJlbW92ZUJhY2tPZmZTZXR0ZXIgPSBmdW5jdGlvbiByZW1vdmVCYWNrT2ZmVGltZVNldCgpIHtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdhY3RpdmUnLCBiYWNrT2ZmU2V0KTtcbiAgICB9O1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ3BhdXNlZCcsIHJlbW92ZUJhY2tPZmZTZXR0ZXIpO1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ2FjdGl2ZScsIGJhY2tPZmZTZXQpO1xuICB9XG5cbiAgb3B0cy5jdXJyZW50X2JhY2tfb2ZmID0gb3B0cy5jdXJyZW50X2JhY2tfb2ZmIHx8IFNUQVJUSU5HX0JBQ0tfT0ZGO1xuICBvcHRzLmN1cnJlbnRfYmFja19vZmYgPSBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uKG9wdHMuY3VycmVudF9iYWNrX29mZik7XG4gIHNldFRpbWVvdXQoY2FsbGJhY2ssIG9wdHMuY3VycmVudF9iYWNrX29mZik7XG59XG5cbmZ1bmN0aW9uIHNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkocXVlcnlQYXJhbXMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHF1ZXJ5UGFyYW1zKS5zb3J0KGNvbGxhdGUpLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHF1ZXJ5UGFyYW1zW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xufVxuXG4vLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpZCBwYXJ0aWN1bGFyIHRvIHRoaXMgcmVwbGljYXRpb24uXG4vLyBOb3QgZ3VhcmFudGVlZCB0byBhbGlnbiBwZXJmZWN0bHkgd2l0aCBDb3VjaERCJ3MgcmVwIGlkcy5cbmZ1bmN0aW9uIGdlbmVyYXRlUmVwbGljYXRpb25JZChzcmMsIHRhcmdldCwgb3B0cykge1xuICB2YXIgZG9jSWRzID0gb3B0cy5kb2NfaWRzID8gb3B0cy5kb2NfaWRzLnNvcnQoY29sbGF0ZSkgOiAnJztcbiAgdmFyIGZpbHRlckZ1biA9IG9wdHMuZmlsdGVyID8gb3B0cy5maWx0ZXIudG9TdHJpbmcoKSA6ICcnO1xuICB2YXIgcXVlcnlQYXJhbXMgPSAnJztcbiAgdmFyIGZpbHRlclZpZXdOYW1lID0gICcnO1xuICB2YXIgc2VsZWN0b3IgPSAnJztcblxuICAvLyBwb3NzaWJpbGl0eSBmb3IgY2hlY2twb2ludHMgdG8gYmUgbG9zdCBoZXJlIGFzIGJlaGF2aW91ciBvZlxuICAvLyBKU09OLnN0cmluZ2lmeSBpcyBub3Qgc3RhYmxlIChzZWUgIzYyMjYpXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIHNlbGVjdG9yID0gSlNPTi5zdHJpbmdpZnkob3B0cy5zZWxlY3Rvcik7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgb3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICBxdWVyeVBhcmFtcyA9IEpTT04uc3RyaW5naWZ5KHNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkob3B0cy5xdWVyeV9wYXJhbXMpKTtcbiAgfVxuXG4gIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgIGZpbHRlclZpZXdOYW1lID0gb3B0cy52aWV3LnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW3NyYy5pZCgpLCB0YXJnZXQuaWQoKV0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHZhciBxdWVyeURhdGEgPSByZXNbMF0gKyByZXNbMV0gKyBmaWx0ZXJGdW4gKyBmaWx0ZXJWaWV3TmFtZSArXG4gICAgICBxdWVyeVBhcmFtcyArIGRvY0lkcyArIHNlbGVjdG9yO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgYmluYXJ5TWQ1KHF1ZXJ5RGF0YSwgcmVzb2x2ZSk7XG4gICAgfSk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKG1kNXN1bSkge1xuICAgIC8vIGNhbid0IHVzZSBzdHJhaWdodC11cCBtZDUgYWxwaGFiZXQsIGJlY2F1c2VcbiAgICAvLyB0aGUgY2hhciAnLycgaXMgaW50ZXJwcmV0ZWQgYXMgYmVpbmcgZm9yIGF0dGFjaG1lbnRzLFxuICAgIC8vIGFuZCArIGlzIGFsc28gbm90IHVybC1zYWZlXG4gICAgbWQ1c3VtID0gbWQ1c3VtLnJlcGxhY2UoL1xcLy9nLCAnLicpLnJlcGxhY2UoL1xcKy9nLCAnXycpO1xuICAgIHJldHVybiAnX2xvY2FsLycgKyBtZDVzdW07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXBsaWNhdGUoc3JjLCB0YXJnZXQsIG9wdHMsIHJldHVyblZhbHVlLCByZXN1bHQpIHtcbiAgdmFyIGJhdGNoZXMgPSBbXTsgICAgICAgICAgICAgICAvLyBsaXN0IG9mIGJhdGNoZXMgdG8gYmUgcHJvY2Vzc2VkXG4gIHZhciBjdXJyZW50QmF0Y2g7ICAgICAgICAgICAgICAgLy8gdGhlIGJhdGNoIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgdmFyIHBlbmRpbmdCYXRjaCA9IHtcbiAgICBzZXE6IDAsXG4gICAgY2hhbmdlczogW10sXG4gICAgZG9jczogW11cbiAgfTsgLy8gbmV4dCBiYXRjaCwgbm90IHlldCByZWFkeSB0byBiZSBwcm9jZXNzZWRcbiAgdmFyIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7ICAvLyB0cnVlIHdoaWxlIGNoZWNrcG9pbnQgaXMgYmVpbmcgd3JpdHRlblxuICB2YXIgY2hhbmdlc0NvbXBsZXRlZCA9IGZhbHNlOyAgIC8vIHRydWUgd2hlbiBhbGwgY2hhbmdlcyByZWNlaXZlZFxuICB2YXIgcmVwbGljYXRpb25Db21wbGV0ZWQgPSBmYWxzZTsgLy8gdHJ1ZSB3aGVuIHJlcGxpY2F0aW9uIGhhcyBjb21wbGV0ZWRcbiAgdmFyIGxhc3Rfc2VxID0gMDtcbiAgdmFyIGNvbnRpbnVvdXMgPSBvcHRzLmNvbnRpbnVvdXMgfHwgb3B0cy5saXZlIHx8IGZhbHNlO1xuICB2YXIgYmF0Y2hfc2l6ZSA9IG9wdHMuYmF0Y2hfc2l6ZSB8fCAxMDA7XG4gIHZhciBiYXRjaGVzX2xpbWl0ID0gb3B0cy5iYXRjaGVzX2xpbWl0IHx8IDEwO1xuICB2YXIgc3R5bGUgPSBvcHRzLnN0eWxlIHx8ICdhbGxfZG9jcyc7XG4gIHZhciBjaGFuZ2VzUGVuZGluZyA9IGZhbHNlOyAgICAgLy8gdHJ1ZSB3aGlsZSBzcmMuY2hhbmdlcyBpcyBydW5uaW5nXG4gIHZhciBkb2NfaWRzID0gb3B0cy5kb2NfaWRzO1xuICB2YXIgc2VsZWN0b3IgPSBvcHRzLnNlbGVjdG9yO1xuICB2YXIgcmVwSWQ7XG4gIHZhciBjaGVja3BvaW50ZXI7XG4gIHZhciBjaGFuZ2VkRG9jcyA9IFtdO1xuICAvLyBMaWtlIGNvdWNoZGIsIGV2ZXJ5IHJlcGxpY2F0aW9uIGdldHMgYSB1bmlxdWUgc2Vzc2lvbiBpZFxuICB2YXIgc2Vzc2lvbiA9IHV1aWQoKTtcblxuICByZXN1bHQgPSByZXN1bHQgfHwge1xuICAgIG9rOiB0cnVlLFxuICAgIHN0YXJ0X3RpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBkb2NzX3JlYWQ6IDAsXG4gICAgZG9jc193cml0dGVuOiAwLFxuICAgIGRvY193cml0ZV9mYWlsdXJlczogMCxcbiAgICBlcnJvcnM6IFtdXG4gIH07XG5cbiAgdmFyIGNoYW5nZXNPcHRzID0ge307XG4gIHJldHVyblZhbHVlLnJlYWR5KHNyYywgdGFyZ2V0KTtcblxuICBmdW5jdGlvbiBpbml0Q2hlY2twb2ludGVyKCkge1xuICAgIGlmIChjaGVja3BvaW50ZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGdlbmVyYXRlUmVwbGljYXRpb25JZChzcmMsIHRhcmdldCwgb3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXBJZCA9IHJlcztcblxuICAgICAgdmFyIGNoZWNrcG9pbnRPcHRzID0ge307XG4gICAgICBpZiAob3B0cy5jaGVja3BvaW50ID09PSBmYWxzZSkge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiBmYWxzZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiBmYWxzZSB9O1xuICAgICAgfSBlbHNlIGlmIChvcHRzLmNoZWNrcG9pbnQgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IHRydWUsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogZmFsc2UgfTtcbiAgICAgIH0gZWxzZSBpZiAob3B0cy5jaGVja3BvaW50ID09PSAndGFyZ2V0Jykge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiBmYWxzZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiB0cnVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiB0cnVlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IHRydWUgfTtcbiAgICAgIH1cblxuICAgICAgY2hlY2twb2ludGVyID0gbmV3IENoZWNrcG9pbnRlcihzcmMsIHRhcmdldCwgcmVwSWQsIHJldHVyblZhbHVlLCBjaGVja3BvaW50T3B0cyk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZURvY3MoKSB7XG4gICAgY2hhbmdlZERvY3MgPSBbXTtcblxuICAgIGlmIChjdXJyZW50QmF0Y2guZG9jcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRvY3MgPSBjdXJyZW50QmF0Y2guZG9jcztcbiAgICB2YXIgYnVsa09wdHMgPSB7dGltZW91dDogb3B0cy50aW1lb3V0fTtcbiAgICByZXR1cm4gdGFyZ2V0LmJ1bGtEb2NzKHtkb2NzOiBkb2NzLCBuZXdfZWRpdHM6IGZhbHNlfSwgYnVsa09wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gYHJlc2AgZG9lc24ndCBpbmNsdWRlIGZ1bGwgZG9jdW1lbnRzICh3aGljaCBsaXZlIGluIGBkb2NzYCksIHNvIHdlIGNyZWF0ZSBhIG1hcCBvZlxuICAgICAgLy8gKGlkIC0+IGVycm9yKSwgYW5kIGNoZWNrIGZvciBlcnJvcnMgd2hpbGUgaXRlcmF0aW5nIG92ZXIgYGRvY3NgXG4gICAgICB2YXIgZXJyb3JzQnlJZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgICAgICBlcnJvcnNCeUlkW3Jlcy5pZF0gPSByZXM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZXJyb3JzTm8gPSBPYmplY3Qua2V5cyhlcnJvcnNCeUlkKS5sZW5ndGg7XG4gICAgICByZXN1bHQuZG9jX3dyaXRlX2ZhaWx1cmVzICs9IGVycm9yc05vO1xuICAgICAgcmVzdWx0LmRvY3Nfd3JpdHRlbiArPSBkb2NzLmxlbmd0aCAtIGVycm9yc05vO1xuXG4gICAgICBkb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICB2YXIgZXJyb3IgPSBlcnJvcnNCeUlkW2RvYy5faWRdO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXN1bHQuZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgIC8vIE5vcm1hbGl6ZSBlcnJvciBuYW1lLiBpLmUuICdVbmF1dGhvcml6ZWQnIC0+ICd1bmF1dGhvcml6ZWQnIChlZyBTeW5jIEdhdGV3YXkpXG4gICAgICAgICAgdmFyIGVycm9yTmFtZSA9IChlcnJvci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmIChlcnJvck5hbWUgPT09ICd1bmF1dGhvcml6ZWQnIHx8IGVycm9yTmFtZSA9PT0gJ2ZvcmJpZGRlbicpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2RlbmllZCcsIGNsb25lKGVycm9yKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkRG9jcy5wdXNoKGRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgcmVzdWx0LmRvY193cml0ZV9mYWlsdXJlcyArPSBkb2NzLmxlbmd0aDtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaEJhdGNoKCkge1xuICAgIGlmIChjdXJyZW50QmF0Y2guZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgd2FzIGEgcHJvYmxlbSBnZXR0aW5nIGRvY3MuJyk7XG4gICAgfVxuICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxID0gY3VycmVudEJhdGNoLnNlcTtcbiAgICB2YXIgb3V0UmVzdWx0ID0gY2xvbmUocmVzdWx0KTtcbiAgICBpZiAoY2hhbmdlZERvY3MubGVuZ3RoKSB7XG4gICAgICBvdXRSZXN1bHQuZG9jcyA9IGNoYW5nZWREb2NzO1xuICAgICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHR5cGVvZiBjdXJyZW50QmF0Y2gucGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgb3V0UmVzdWx0LnBlbmRpbmcgPSBjdXJyZW50QmF0Y2gucGVuZGluZztcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRCYXRjaC5wZW5kaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hhbmdlJywgb3V0UmVzdWx0KTtcbiAgICB9XG4gICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgIHJldHVybiBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KGN1cnJlbnRCYXRjaC5zZXEsXG4gICAgICAgIHNlc3Npb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ2NoZWNrcG9pbnQnOiBjdXJyZW50QmF0Y2guc2VxIH0pO1xuICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICBjdXJyZW50QmF0Y2ggPSB1bmRlZmluZWQ7XG4gICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgb25DaGVja3BvaW50RXJyb3IoZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERpZmZzKCkge1xuICAgIHZhciBkaWZmID0ge307XG4gICAgY3VycmVudEJhdGNoLmNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAncmV2c19kaWZmJzogY2hhbmdlIH0pO1xuICAgICAgLy8gQ291Y2hiYXNlIFN5bmMgR2F0ZXdheSBlbWl0cyB0aGVzZSwgYnV0IHdlIGNhbiBpZ25vcmUgdGhlbVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlLmlkID09PSBcIl91c2VyL1wiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRpZmZbY2hhbmdlLmlkXSA9IGNoYW5nZS5jaGFuZ2VzLm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geC5yZXY7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0LnJldnNEaWZmKGRpZmYpLnRoZW4oZnVuY3Rpb24gKGRpZmZzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgLy8gY3VycmVudEJhdGNoLmRpZmZzIGVsZW1lbnRzIGFyZSBkZWxldGVkIGFzIHRoZSBkb2N1bWVudHMgYXJlIHdyaXR0ZW5cbiAgICAgIGN1cnJlbnRCYXRjaC5kaWZmcyA9IGRpZmZzO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmF0Y2hEb2NzKCkge1xuICAgIHJldHVybiBnZXREb2NzKHNyYywgdGFyZ2V0LCBjdXJyZW50QmF0Y2guZGlmZnMsIHJldHVyblZhbHVlKS50aGVuKGZ1bmN0aW9uIChnb3QpIHtcbiAgICAgIGN1cnJlbnRCYXRjaC5lcnJvciA9ICFnb3Qub2s7XG4gICAgICBnb3QuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRCYXRjaC5kaWZmc1tkb2MuX2lkXTtcbiAgICAgICAgcmVzdWx0LmRvY3NfcmVhZCsrO1xuICAgICAgICBjdXJyZW50QmF0Y2guZG9jcy5wdXNoKGRvYyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0TmV4dEJhdGNoKCkge1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQgfHwgY3VycmVudEJhdGNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChiYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaCh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudEJhdGNoID0gYmF0Y2hlcy5zaGlmdCgpO1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdzdGFydF9uZXh0X2JhdGNoJzogY3VycmVudEJhdGNoLnNlcSB9KTtcbiAgICBnZXREaWZmcygpXG4gICAgICAudGhlbihnZXRCYXRjaERvY3MpXG4gICAgICAudGhlbih3cml0ZURvY3MpXG4gICAgICAudGhlbihmaW5pc2hCYXRjaClcbiAgICAgIC50aGVuKHN0YXJ0TmV4dEJhdGNoKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgYWJvcnRSZXBsaWNhdGlvbignYmF0Y2ggcHJvY2Vzc2luZyB0ZXJtaW5hdGVkIHdpdGggZXJyb3InLCBlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NQZW5kaW5nQmF0Y2goaW1tZWRpYXRlJCQxKSB7XG4gICAgaWYgKHBlbmRpbmdCYXRjaC5jaGFuZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGJhdGNoZXMubGVuZ3RoID09PSAwICYmICFjdXJyZW50QmF0Y2gpIHtcbiAgICAgICAgaWYgKChjb250aW51b3VzICYmIGNoYW5nZXNPcHRzLmxpdmUpIHx8IGNoYW5nZXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICByZXR1cm5WYWx1ZS5zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdwYXVzZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlc0NvbXBsZXRlZCkge1xuICAgICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBpbW1lZGlhdGUkJDEgfHxcbiAgICAgIGNoYW5nZXNDb21wbGV0ZWQgfHxcbiAgICAgIHBlbmRpbmdCYXRjaC5jaGFuZ2VzLmxlbmd0aCA+PSBiYXRjaF9zaXplXG4gICAgKSB7XG4gICAgICBiYXRjaGVzLnB1c2gocGVuZGluZ0JhdGNoKTtcbiAgICAgIHBlbmRpbmdCYXRjaCA9IHtcbiAgICAgICAgc2VxOiAwLFxuICAgICAgICBjaGFuZ2VzOiBbXSxcbiAgICAgICAgZG9jczogW11cbiAgICAgIH07XG4gICAgICBpZiAocmV0dXJuVmFsdWUuc3RhdGUgPT09ICdwZW5kaW5nJyB8fCByZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ3N0b3BwZWQnKSB7XG4gICAgICAgIHJldHVyblZhbHVlLnN0YXRlID0gJ2FjdGl2ZSc7XG4gICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgICAgc3RhcnROZXh0QmF0Y2goKTtcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGFib3J0UmVwbGljYXRpb24ocmVhc29uLCBlcnIpIHtcbiAgICBpZiAocmVwbGljYXRpb25Db21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFlcnIubWVzc2FnZSkge1xuICAgICAgZXJyLm1lc3NhZ2UgPSByZWFzb247XG4gICAgfVxuICAgIHJlc3VsdC5vayA9IGZhbHNlO1xuICAgIHJlc3VsdC5zdGF0dXMgPSAnYWJvcnRpbmcnO1xuICAgIGJhdGNoZXMgPSBbXTtcbiAgICBwZW5kaW5nQmF0Y2ggPSB7XG4gICAgICBzZXE6IDAsXG4gICAgICBjaGFuZ2VzOiBbXSxcbiAgICAgIGRvY3M6IFtdXG4gICAgfTtcbiAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKGVycik7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlUmVwbGljYXRpb24oZmF0YWxFcnJvcikge1xuICAgIGlmIChyZXBsaWNhdGlvbkNvbXBsZXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXN1bHQuc3RhdHVzID0gJ2NhbmNlbGxlZCc7XG4gICAgICBpZiAod3JpdGluZ0NoZWNrcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc3RhdHVzID0gcmVzdWx0LnN0YXR1cyB8fCAnY29tcGxldGUnO1xuICAgIHJlc3VsdC5lbmRfdGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICByZXN1bHQubGFzdF9zZXEgPSBsYXN0X3NlcTtcbiAgICByZXBsaWNhdGlvbkNvbXBsZXRlZCA9IHRydWU7XG5cbiAgICBpZiAoZmF0YWxFcnJvcikge1xuICAgICAgLy8gbmVlZCB0byBleHRlbmQgdGhlIGVycm9yIGJlY2F1c2UgRmlyZWZveCBjb25zaWRlcnMgXCIucmVzdWx0XCIgcmVhZC1vbmx5XG4gICAgICBmYXRhbEVycm9yID0gY3JlYXRlRXJyb3IoZmF0YWxFcnJvcik7XG4gICAgICBmYXRhbEVycm9yLnJlc3VsdCA9IHJlc3VsdDtcblxuICAgICAgLy8gTm9ybWFsaXplIGVycm9yIG5hbWUuIGkuZS4gJ1VuYXV0aG9yaXplZCcgLT4gJ3VuYXV0aG9yaXplZCcgKGVnIFN5bmMgR2F0ZXdheSlcbiAgICAgIHZhciBlcnJvck5hbWUgPSAoZmF0YWxFcnJvci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGVycm9yTmFtZSA9PT0gJ3VuYXV0aG9yaXplZCcgfHwgZXJyb3JOYW1lID09PSAnZm9yYmlkZGVuJykge1xuICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdlcnJvcicsIGZhdGFsRXJyb3IpO1xuICAgICAgICByZXR1cm5WYWx1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhY2tPZmYob3B0cywgcmV0dXJuVmFsdWUsIGZhdGFsRXJyb3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXBsaWNhdGUoc3JjLCB0YXJnZXQsIG9wdHMsIHJldHVyblZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NvbXBsZXRlJywgcmVzdWx0KTtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2UoY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodHlwZW9mIHBlbmRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICBwZW5kaW5nQmF0Y2gucGVuZGluZyA9IHBlbmRpbmc7XG4gICAgfVxuXG4gICAgdmFyIGZpbHRlciA9IGZpbHRlckNoYW5nZShvcHRzKShjaGFuZ2UpO1xuICAgIGlmICghZmlsdGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdCYXRjaC5zZXEgPSBjaGFuZ2Uuc2VxIHx8IGxhc3RTZXE7XG4gICAgcGVuZGluZ0JhdGNoLmNoYW5nZXMucHVzaChjaGFuZ2UpO1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdwZW5kaW5nX2JhdGNoJzogcGVuZGluZ0JhdGNoLnNlcSB9KTtcbiAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaChiYXRjaGVzLmxlbmd0aCA9PT0gMCAmJiBjaGFuZ2VzT3B0cy5saXZlKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2VzQ29tcGxldGUoY2hhbmdlcykge1xuICAgIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG5cbiAgICAvLyBpZiBubyByZXN1bHRzIHdlcmUgcmV0dXJuZWQgdGhlbiB3ZSdyZSBkb25lLFxuICAgIC8vIGVsc2UgZmV0Y2ggbW9yZVxuICAgIGlmIChjaGFuZ2VzLnJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgY2hhbmdlc09wdHMuc2luY2UgPSBjaGFuZ2VzLnJlc3VsdHNbY2hhbmdlcy5yZXN1bHRzLmxlbmd0aCAtIDFdLnNlcTtcbiAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2godHJ1ZSk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY29udGludW91cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLmxpdmUgPSB0cnVlO1xuICAgICAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKHRydWUpO1xuICAgICAgfTtcblxuICAgICAgLy8gdXBkYXRlIHRoZSBjaGVja3BvaW50IHNvIHdlIHN0YXJ0IGZyb20gdGhlIHJpZ2h0IHNlcSBuZXh0IHRpbWVcbiAgICAgIGlmICghY3VycmVudEJhdGNoICYmIGNoYW5nZXMucmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgICAgICBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KGNoYW5nZXMubGFzdF9zZXEsXG4gICAgICAgICAgICBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxID0gY2hhbmdlcy5sYXN0X3NlcTtcbiAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gob25DaGVja3BvaW50RXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlc0Vycm9yKGVycikge1xuICAgIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG4gICAgYWJvcnRSZXBsaWNhdGlvbignY2hhbmdlcyByZWplY3RlZCcsIGVycik7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGdldENoYW5nZXMoKSB7XG4gICAgaWYgKCEoXG4gICAgICAhY2hhbmdlc1BlbmRpbmcgJiZcbiAgICAgICFjaGFuZ2VzQ29tcGxldGVkICYmXG4gICAgICBiYXRjaGVzLmxlbmd0aCA8IGJhdGNoZXNfbGltaXRcbiAgICAgICkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hhbmdlc1BlbmRpbmcgPSB0cnVlO1xuICAgIGZ1bmN0aW9uIGFib3J0Q2hhbmdlcygpIHtcbiAgICAgIGNoYW5nZXMuY2FuY2VsKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKCkge1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlTGlzdGVuZXIoJ2NhbmNlbCcsIGFib3J0Q2hhbmdlcyk7XG4gICAgfVxuXG4gICAgaWYgKHJldHVyblZhbHVlLl9jaGFuZ2VzKSB7IC8vIHJlbW92ZSBvbGQgY2hhbmdlcygpIGFuZCBsaXN0ZW5lcnNcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdjYW5jZWwnLCByZXR1cm5WYWx1ZS5fYWJvcnRDaGFuZ2VzKTtcbiAgICAgIHJldHVyblZhbHVlLl9jaGFuZ2VzLmNhbmNlbCgpO1xuICAgIH1cbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdjYW5jZWwnLCBhYm9ydENoYW5nZXMpO1xuXG4gICAgdmFyIGNoYW5nZXMgPSBzcmMuY2hhbmdlcyhjaGFuZ2VzT3B0cylcbiAgICAgIC5vbignY2hhbmdlJywgb25DaGFuZ2UpO1xuICAgIGNoYW5nZXMudGhlbihyZW1vdmVMaXN0ZW5lciwgcmVtb3ZlTGlzdGVuZXIpO1xuICAgIGNoYW5nZXMudGhlbihvbkNoYW5nZXNDb21wbGV0ZSlcbiAgICAgIC5jYXRjaChvbkNoYW5nZXNFcnJvcik7XG5cbiAgICBpZiAob3B0cy5yZXRyeSkge1xuICAgICAgLy8gc2F2ZSBmb3IgbGF0ZXIgc28gd2UgY2FuIGNhbmNlbCBpZiBuZWNlc3NhcnlcbiAgICAgIHJldHVyblZhbHVlLl9jaGFuZ2VzID0gY2hhbmdlcztcbiAgICAgIHJldHVyblZhbHVlLl9hYm9ydENoYW5nZXMgPSBhYm9ydENoYW5nZXM7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBzdGFydENoYW5nZXMoKSB7XG4gICAgaW5pdENoZWNrcG9pbnRlcigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoZWNrcG9pbnRlci5nZXRDaGVja3BvaW50KCkudGhlbihmdW5jdGlvbiAoY2hlY2twb2ludCkge1xuICAgICAgICBsYXN0X3NlcSA9IGNoZWNrcG9pbnQ7XG4gICAgICAgIGNoYW5nZXNPcHRzID0ge1xuICAgICAgICAgIHNpbmNlOiBsYXN0X3NlcSxcbiAgICAgICAgICBsaW1pdDogYmF0Y2hfc2l6ZSxcbiAgICAgICAgICBiYXRjaF9zaXplOiBiYXRjaF9zaXplLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICBkb2NfaWRzOiBkb2NfaWRzLFxuICAgICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvcixcbiAgICAgICAgICByZXR1cm5fZG9jczogdHJ1ZSAvLyByZXF1aXJlZCBzbyB3ZSBrbm93IHdoZW4gd2UncmUgZG9uZVxuICAgICAgICB9O1xuICAgICAgICBpZiAob3B0cy5maWx0ZXIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG9wdHMuZmlsdGVyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gcmVxdWlyZWQgZm9yIHRoZSBjbGllbnQtc2lkZSBmaWx0ZXIgaW4gb25DaGFuZ2VcbiAgICAgICAgICAgIGNoYW5nZXNPcHRzLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gZGRvYyBmaWx0ZXJcbiAgICAgICAgICAgIGNoYW5nZXNPcHRzLmZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2hlYXJ0YmVhdCcgaW4gb3B0cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLmhlYXJ0YmVhdCA9IG9wdHMuaGVhcnRiZWF0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgndGltZW91dCcgaW4gb3B0cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMucXVlcnlfcGFyYW1zKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMucXVlcnlfcGFyYW1zID0gb3B0cy5xdWVyeV9wYXJhbXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMudmlldykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnZpZXcgPSBvcHRzLnZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgYWJvcnRSZXBsaWNhdGlvbignZ2V0Q2hlY2twb2ludCByZWplY3RlZCB3aXRoICcsIGVycik7XG4gICAgfSk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBvbkNoZWNrcG9pbnRFcnJvcihlcnIpIHtcbiAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgIGFib3J0UmVwbGljYXRpb24oJ3dyaXRlQ2hlY2twb2ludCBjb21wbGV0ZWQgd2l0aCBlcnJvcicsIGVycik7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkgeyAvLyBjYW5jZWxsZWQgaW1tZWRpYXRlbHlcbiAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFyZXR1cm5WYWx1ZS5fYWRkZWRMaXN0ZW5lcnMpIHtcbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdjYW5jZWwnLCBjb21wbGV0ZVJlcGxpY2F0aW9uKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5jb21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuVmFsdWUub25jZSgnZXJyb3InLCBvcHRzLmNvbXBsZXRlKTtcbiAgICAgIHJldHVyblZhbHVlLm9uY2UoJ2NvbXBsZXRlJywgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuVmFsdWUuX2FkZGVkTGlzdGVuZXJzID0gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0cy5zaW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzdGFydENoYW5nZXMoKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0Q2hlY2twb2ludGVyKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB3cml0aW5nQ2hlY2twb2ludCA9IHRydWU7XG4gICAgICByZXR1cm4gY2hlY2twb2ludGVyLndyaXRlQ2hlY2twb2ludChvcHRzLnNpbmNlLCBzZXNzaW9uKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsYXN0X3NlcSA9IG9wdHMuc2luY2U7XG4gICAgICBzdGFydENoYW5nZXMoKTtcbiAgICB9KS5jYXRjaChvbkNoZWNrcG9pbnRFcnJvcik7XG4gIH1cbn1cblxuLy8gV2UgY3JlYXRlIGEgYmFzaWMgcHJvbWlzZSBzbyB0aGUgY2FsbGVyIGNhbiBjYW5jZWwgdGhlIHJlcGxpY2F0aW9uIHBvc3NpYmx5XG4vLyBiZWZvcmUgd2UgaGF2ZSBhY3R1YWxseSBzdGFydGVkIGxpc3RlbmluZyB0byBjaGFuZ2VzIGV0Y1xuaW5oZXJpdHMoUmVwbGljYXRpb24sIEVFKTtcbmZ1bmN0aW9uIFJlcGxpY2F0aW9uKCkge1xuICBFRS5jYWxsKHRoaXMpO1xuICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICB0aGlzLnN0YXRlID0gJ3BlbmRpbmcnO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgIHNlbGYub25jZSgnY29tcGxldGUnLCBmdWxmaWxsKTtcbiAgICBzZWxmLm9uY2UoJ2Vycm9yJywgcmVqZWN0KTtcbiAgfSk7XG4gIHNlbGYudGhlbiA9IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gIH07XG4gIHNlbGYuY2F0Y2ggPSBmdW5jdGlvbiAocmVqZWN0KSB7XG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2gocmVqZWN0KTtcbiAgfTtcbiAgLy8gQXMgd2UgYWxsb3cgZXJyb3IgaGFuZGxpbmcgdmlhIFwiZXJyb3JcIiBldmVudCBhcyB3ZWxsLFxuICAvLyBwdXQgYSBzdHViIGluIGhlcmUgc28gdGhhdCByZWplY3RpbmcgbmV2ZXIgdGhyb3dzIFVuaGFuZGxlZEVycm9yLlxuICBzZWxmLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcbn1cblxuUmVwbGljYXRpb24ucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jYW5jZWxsZWQgPSB0cnVlO1xuICB0aGlzLnN0YXRlID0gJ2NhbmNlbGxlZCc7XG4gIHRoaXMuZW1pdCgnY2FuY2VsJyk7XG59O1xuXG5SZXBsaWNhdGlvbi5wcm90b3R5cGUucmVhZHkgPSBmdW5jdGlvbiAoc3JjLCB0YXJnZXQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoc2VsZi5fcmVhZHlDYWxsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VsZi5fcmVhZHlDYWxsZWQgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcbiAgICBzZWxmLmNhbmNlbCgpO1xuICB9XG4gIHNyYy5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB0YXJnZXQub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB9XG4gIHNlbGYub25jZSgnY29tcGxldGUnLCBjbGVhbnVwKTtcbiAgc2VsZi5vbmNlKCdlcnJvcicsIGNsZWFudXApO1xufTtcblxuZnVuY3Rpb24gdG9Qb3VjaChkYiwgb3B0cykge1xuICB2YXIgUG91Y2hDb25zdHJ1Y3RvciA9IG9wdHMuUG91Y2hDb25zdHJ1Y3RvcjtcbiAgaWYgKHR5cGVvZiBkYiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbmV3IFBvdWNoQ29uc3RydWN0b3IoZGIsIG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkYjtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXBsaWNhdGVXcmFwcGVyKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuXG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAndW5kZWZpbmVkJykge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIGlmIChvcHRzLmRvY19pZHMgJiYgIUFycmF5LmlzQXJyYXkob3B0cy5kb2NfaWRzKSkge1xuICAgIHRocm93IGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULFxuICAgICAgICAgICAgICAgICAgICAgICBcImBkb2NfaWRzYCBmaWx0ZXIgcGFyYW1ldGVyIGlzIG5vdCBhIGxpc3QuXCIpO1xuICB9XG5cbiAgb3B0cy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIG9wdHMuY29udGludW91cyA9IG9wdHMuY29udGludW91cyB8fCBvcHRzLmxpdmU7XG4gIG9wdHMucmV0cnkgPSAoJ3JldHJ5JyBpbiBvcHRzKSA/IG9wdHMucmV0cnkgOiBmYWxzZTtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgb3B0cy5Qb3VjaENvbnN0cnVjdG9yID0gb3B0cy5Qb3VjaENvbnN0cnVjdG9yIHx8IHRoaXM7XG4gIHZhciByZXBsaWNhdGVSZXQgPSBuZXcgUmVwbGljYXRpb24ob3B0cyk7XG4gIHZhciBzcmNQb3VjaCA9IHRvUG91Y2goc3JjLCBvcHRzKTtcbiAgdmFyIHRhcmdldFBvdWNoID0gdG9Qb3VjaCh0YXJnZXQsIG9wdHMpO1xuICByZXBsaWNhdGUoc3JjUG91Y2gsIHRhcmdldFBvdWNoLCBvcHRzLCByZXBsaWNhdGVSZXQpO1xuICByZXR1cm4gcmVwbGljYXRlUmV0O1xufVxuXG5pbmhlcml0cyhTeW5jLCBFRSk7XG5mdW5jdGlvbiBzeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRzID0ge307XG4gIH1cbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICBvcHRzLlBvdWNoQ29uc3RydWN0b3IgPSBvcHRzLlBvdWNoQ29uc3RydWN0b3IgfHwgdGhpcztcbiAgc3JjID0gdG9Qb3VjaChzcmMsIG9wdHMpO1xuICB0YXJnZXQgPSB0b1BvdWNoKHRhcmdldCwgb3B0cyk7XG4gIHJldHVybiBuZXcgU3luYyhzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiBTeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuY2FuY2VsZWQgPSBmYWxzZTtcblxuICB2YXIgb3B0c1B1c2ggPSBvcHRzLnB1c2ggPyAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIG9wdHMsIG9wdHMucHVzaCkgOiBvcHRzO1xuICB2YXIgb3B0c1B1bGwgPSBvcHRzLnB1bGwgPyAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIG9wdHMsIG9wdHMucHVsbCkgOiBvcHRzO1xuXG4gIHRoaXMucHVzaCA9IHJlcGxpY2F0ZVdyYXBwZXIoc3JjLCB0YXJnZXQsIG9wdHNQdXNoKTtcbiAgdGhpcy5wdWxsID0gcmVwbGljYXRlV3JhcHBlcih0YXJnZXQsIHNyYywgb3B0c1B1bGwpO1xuXG4gIHRoaXMucHVzaFBhdXNlZCA9IHRydWU7XG4gIHRoaXMucHVsbFBhdXNlZCA9IHRydWU7XG5cbiAgZnVuY3Rpb24gcHVsbENoYW5nZShjaGFuZ2UpIHtcbiAgICBzZWxmLmVtaXQoJ2NoYW5nZScsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1bGwnLFxuICAgICAgY2hhbmdlOiBjaGFuZ2VcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoQ2hhbmdlKGNoYW5nZSkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVzaCcsXG4gICAgICBjaGFuZ2U6IGNoYW5nZVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hEZW5pZWQoZG9jKSB7XG4gICAgc2VsZi5lbWl0KCdkZW5pZWQnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdXNoJyxcbiAgICAgIGRvYzogZG9jXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVsbERlbmllZChkb2MpIHtcbiAgICBzZWxmLmVtaXQoJ2RlbmllZCcsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1bGwnLFxuICAgICAgZG9jOiBkb2NcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoUGF1c2VkKCkge1xuICAgIHNlbGYucHVzaFBhdXNlZCA9IHRydWU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVsbFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdwYXVzZWQnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVsbFBhdXNlZCgpIHtcbiAgICBzZWxmLnB1bGxQYXVzZWQgPSB0cnVlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1c2hQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgncGF1c2VkJyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1c2hBY3RpdmUoKSB7XG4gICAgc2VsZi5wdXNoUGF1c2VkID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVsbFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdhY3RpdmUnLCB7XG4gICAgICAgIGRpcmVjdGlvbjogJ3B1c2gnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVsbEFjdGl2ZSgpIHtcbiAgICBzZWxmLnB1bGxQYXVzZWQgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdXNoUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ2FjdGl2ZScsIHtcbiAgICAgICAgZGlyZWN0aW9uOiAncHVsbCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciByZW1vdmVkID0ge307XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsKHR5cGUpIHsgLy8gdHlwZSBpcyAncHVzaCcgb3IgJ3B1bGwnXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xuICAgICAgdmFyIGlzQ2hhbmdlID0gZXZlbnQgPT09ICdjaGFuZ2UnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsQ2hhbmdlIHx8IGZ1bmMgPT09IHB1c2hDaGFuZ2UpO1xuICAgICAgdmFyIGlzRGVuaWVkID0gZXZlbnQgPT09ICdkZW5pZWQnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsRGVuaWVkIHx8IGZ1bmMgPT09IHB1c2hEZW5pZWQpO1xuICAgICAgdmFyIGlzUGF1c2VkID0gZXZlbnQgPT09ICdwYXVzZWQnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsUGF1c2VkIHx8IGZ1bmMgPT09IHB1c2hQYXVzZWQpO1xuICAgICAgdmFyIGlzQWN0aXZlID0gZXZlbnQgPT09ICdhY3RpdmUnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsQWN0aXZlIHx8IGZ1bmMgPT09IHB1c2hBY3RpdmUpO1xuXG4gICAgICBpZiAoaXNDaGFuZ2UgfHwgaXNEZW5pZWQgfHwgaXNQYXVzZWQgfHwgaXNBY3RpdmUpIHtcbiAgICAgICAgaWYgKCEoZXZlbnQgaW4gcmVtb3ZlZCkpIHtcbiAgICAgICAgICByZW1vdmVkW2V2ZW50XSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZWRbZXZlbnRdW3R5cGVdID0gdHJ1ZTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlbW92ZWRbZXZlbnRdKS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAvLyBib3RoIHB1c2ggYW5kIHB1bGwgaGF2ZSBhc2tlZCB0byBiZSByZW1vdmVkXG4gICAgICAgICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGlmIChvcHRzLmxpdmUpIHtcbiAgICB0aGlzLnB1c2gub24oJ2NvbXBsZXRlJywgc2VsZi5wdWxsLmNhbmNlbC5iaW5kKHNlbGYucHVsbCkpO1xuICAgIHRoaXMucHVsbC5vbignY29tcGxldGUnLCBzZWxmLnB1c2guY2FuY2VsLmJpbmQoc2VsZi5wdXNoKSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRPbmVMaXN0ZW5lcihlZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKGVlLmxpc3RlbmVycyhldmVudCkuaW5kZXhPZihsaXN0ZW5lcikgPT0gLTEpIHtcbiAgICAgIGVlLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5vbignbmV3TGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgPT09ICdjaGFuZ2UnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdjaGFuZ2UnLCBwdWxsQ2hhbmdlKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2NoYW5nZScsIHB1c2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdkZW5pZWQnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdkZW5pZWQnLCBwdWxsRGVuaWVkKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2RlbmllZCcsIHB1c2hEZW5pZWQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdhY3RpdmUnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdhY3RpdmUnLCBwdWxsQWN0aXZlKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2FjdGl2ZScsIHB1c2hBY3RpdmUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdwYXVzZWQnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdwYXVzZWQnLCBwdWxsUGF1c2VkKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ3BhdXNlZCcsIHB1c2hQYXVzZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5vbigncmVtb3ZlTGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgPT09ICdjaGFuZ2UnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHB1bGxDaGFuZ2UpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCBwdXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZGVuaWVkJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdkZW5pZWQnLCBwdWxsRGVuaWVkKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcignZGVuaWVkJywgcHVzaERlbmllZCk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcignYWN0aXZlJywgcHVsbEFjdGl2ZSk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ2FjdGl2ZScsIHB1c2hBY3RpdmUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdwYXVzZWQnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ3BhdXNlZCcsIHB1bGxQYXVzZWQpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdwYXVzZWQnLCBwdXNoUGF1c2VkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMucHVsbC5vbigncmVtb3ZlTGlzdGVuZXInLCByZW1vdmVBbGwoJ3B1bGwnKSk7XG4gIHRoaXMucHVzaC5vbigncmVtb3ZlTGlzdGVuZXInLCByZW1vdmVBbGwoJ3B1c2gnKSk7XG5cbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLmFsbChbXG4gICAgdGhpcy5wdXNoLFxuICAgIHRoaXMucHVsbFxuICBdKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgdmFyIG91dCA9IHtcbiAgICAgIHB1c2g6IHJlc3BbMF0sXG4gICAgICBwdWxsOiByZXNwWzFdXG4gICAgfTtcbiAgICBzZWxmLmVtaXQoJ2NvbXBsZXRlJywgb3V0KTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgfVxuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIG91dDtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAvLyBpZiB0aGVyZSdzIGEgY2FsbGJhY2ssIHRoZW4gdGhlIGNhbGxiYWNrIGNhbiByZWNlaXZlXG4gICAgICAvLyB0aGUgZXJyb3IgZXZlbnRcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gY2FsbGJhY2ssIHRoZW4gd2UncmUgc2FmZSB0byBlbWl0IGFuIGVycm9yXG4gICAgICAvLyBldmVudCwgd2hpY2ggd291bGQgb3RoZXJ3aXNlIHRocm93IGFuIHVuaGFuZGxlZCBlcnJvclxuICAgICAgLy8gZHVlIHRvICdlcnJvcicgYmVpbmcgYSBzcGVjaWFsIGV2ZW50IGluIEV2ZW50RW1pdHRlcnNcbiAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgLy8gbm8gc2Vuc2UgdGhyb3dpbmcgaWYgd2UncmUgYWxyZWFkeSBlbWl0dGluZyBhbiAnZXJyb3InIGV2ZW50XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnRoZW4gPSBmdW5jdGlvbiAoc3VjY2VzcywgZXJyKSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihzdWNjZXNzLCBlcnIpO1xuICB9O1xuXG4gIHRoaXMuY2F0Y2ggPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2goZXJyKTtcbiAgfTtcbn1cblxuU3luYy5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuY2FuY2VsZWQpIHtcbiAgICB0aGlzLmNhbmNlbGVkID0gdHJ1ZTtcbiAgICB0aGlzLnB1c2guY2FuY2VsKCk7XG4gICAgdGhpcy5wdWxsLmNhbmNlbCgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByZXBsaWNhdGlvbihQb3VjaERCKSB7XG4gIFBvdWNoREIucmVwbGljYXRlID0gcmVwbGljYXRlV3JhcHBlcjtcbiAgUG91Y2hEQi5zeW5jID0gc3luYztcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUG91Y2hEQi5wcm90b3R5cGUsICdyZXBsaWNhdGUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBpZiAodHlwZW9mIHRoaXMucmVwbGljYXRlTWV0aG9kcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5yZXBsaWNhdGVNZXRob2RzID0ge1xuICAgICAgICAgIGZyb206IGZ1bmN0aW9uIChvdGhlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShvdGhlciwgc2VsZiwgb3B0cywgY2FsbGJhY2spO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG86IGZ1bmN0aW9uIChvdGhlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShzZWxmLCBvdGhlciwgb3B0cywgY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlcGxpY2F0ZU1ldGhvZHM7XG4gICAgfVxuICB9KTtcblxuICBQb3VjaERCLnByb3RvdHlwZS5zeW5jID0gZnVuY3Rpb24gKGRiTmFtZSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5zeW5jKHRoaXMsIGRiTmFtZSwgb3B0cywgY2FsbGJhY2spO1xuICB9O1xufVxuXG5Qb3VjaERCLnBsdWdpbihJREJQb3VjaClcbiAgLnBsdWdpbihIdHRwUG91Y2gkMSlcbiAgLnBsdWdpbihtYXByZWR1Y2UpXG4gIC5wbHVnaW4ocmVwbGljYXRpb24pO1xuXG4vLyBQdWxsIGZyb20gc3JjIGJlY2F1c2UgcG91Y2hkYi1ub2RlL3BvdWNoZGItYnJvd3NlciB0aGVtc2VsdmVzXG5cbmV4cG9ydCBkZWZhdWx0IFBvdWNoREI7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG9kYXNoIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vb3BlbmpzZi5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy4yMSc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG4gIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbiAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuICAgICAgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nLFxuICAgICAgSU5WQUxJRF9URU1QTF9WQVJfRVJST1JfVEVYVCA9ICdJbnZhbGlkIGB2YXJpYWJsZWAgb3B0aW9uIHBhc3NlZCBpbnRvIGBfLnRlbXBsYXRlYCc7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xuICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuICAvKiogVXNlZCBhcyB0aGUgaW50ZXJuYWwgYXJndW1lbnQgcGxhY2Vob2xkZXIuICovXG4gIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjbG9uaW5nLiAqL1xuICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xuICB2YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG4gICAgICBXUkFQX0JJTkRfS0VZX0ZMQUcgPSAyLFxuICAgICAgV1JBUF9DVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG4gICAgICBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcgPSAxNixcbiAgICAgIFdSQVBfUEFSVElBTF9GTEFHID0gMzIsXG4gICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuICAgICAgV1JBUF9BUllfRkxBRyA9IDEyOCxcbiAgICAgIFdSQVBfUkVBUkdfRkxBRyA9IDI1NixcbiAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXG4gIC8qKiBVc2VkIGFzIGRlZmF1bHQgb3B0aW9ucyBmb3IgYF8udHJ1bmNhdGVgLiAqL1xuICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcbiAgICAgIERFRkFVTFRfVFJVTkNfT01JU1NJT04gPSAnLi4uJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG4gIHZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgICBIT1RfU1BBTiA9IDE2O1xuXG4gIC8qKiBVc2VkIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIGxhenkgaXRlcmF0ZWVzLiAqL1xuICB2YXIgTEFaWV9GSUxURVJfRkxBRyA9IDEsXG4gICAgICBMQVpZX01BUF9GTEFHID0gMixcbiAgICAgIExBWllfV0hJTEVfRkxBRyA9IDM7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgICAgTkFOID0gMCAvIDA7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbiAgdmFyIE1BWF9BUlJBWV9MRU5HVEggPSA0Mjk0OTY3Mjk1LFxuICAgICAgTUFYX0FSUkFZX0lOREVYID0gTUFYX0FSUkFZX0xFTkdUSCAtIDEsXG4gICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXG4gIC8qKiBVc2VkIHRvIGFzc29jaWF0ZSB3cmFwIG1ldGhvZHMgd2l0aCB0aGVpciBiaXQgZmxhZ3MuICovXG4gIHZhciB3cmFwRmxhZ3MgPSBbXG4gICAgWydhcnknLCBXUkFQX0FSWV9GTEFHXSxcbiAgICBbJ2JpbmQnLCBXUkFQX0JJTkRfRkxBR10sXG4gICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcbiAgICBbJ2N1cnJ5JywgV1JBUF9DVVJSWV9GTEFHXSxcbiAgICBbJ2N1cnJ5UmlnaHQnLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUddLFxuICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcbiAgICBbJ3BhcnRpYWwnLCBXUkFQX1BBUlRJQUxfRkxBR10sXG4gICAgWydwYXJ0aWFsUmlnaHQnLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBR10sXG4gICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cbiAgXTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuICAgICAgd2Vha1NldFRhZyA9ICdbb2JqZWN0IFdlYWtTZXRdJztcblxuICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcbiAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgICAgcmVIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZUVzY2FwZWRIdG1sLnNvdXJjZSksXG4gICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgICByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltU3RhcnQgPSAvXlxccysvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGEgc2luZ2xlIHdoaXRlc3BhY2UgY2hhcmFjdGVyLiAqL1xuICB2YXIgcmVXaGl0ZXNwYWNlID0gL1xccy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd3JhcCBkZXRhaWwgY29tbWVudHMuICovXG4gIHZhciByZVdyYXBDb21tZW50ID0gL1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxcbiAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG4gICAgICByZVNwbGl0RGV0YWlscyA9IC8sPyAmIC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKipcbiAgICogVXNlZCB0byB2YWxpZGF0ZSB0aGUgYHZhbGlkYXRlYCBvcHRpb24gaW4gYF8udGVtcGxhdGVgIHZhcmlhYmxlLlxuICAgKlxuICAgKiBGb3JiaWRzIGNoYXJhY3RlcnMgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgY2hhbmdlIHRoZSBtZWFuaW5nIG9mIHRoZSBmdW5jdGlvbiBhcmd1bWVudCBkZWZpbml0aW9uOlxuICAgKiAtIFwiKCksXCIgKG1vZGlmaWNhdGlvbiBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiPVwiIChkZWZhdWx0IHZhbHVlKVxuICAgKiAtIFwiW117fVwiIChkZXN0cnVjdHVyaW5nIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCIvXCIgKGJlZ2lubmluZyBvZiBhIGNvbW1lbnQpXG4gICAqIC0gd2hpdGVzcGFjZVxuICAgKi9cbiAgdmFyIHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzID0gL1soKT0se31cXFtcXF1cXC9cXHNdLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoXG4gICAqIFtFUyB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10ZW1wbGF0ZS1saXRlcmFsLWxleGljYWwtY29tcG9uZW50cykuXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbiAgdmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuICB2YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmYnLFxuICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGZmJyxcbiAgICAgIHJzQ29tYm9SYW5nZSA9IHJzQ29tYm9NYXJrc1JhbmdlICsgcmVDb21ib0hhbGZNYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc01pc2NMb3dlciA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzTWlzY1VwcGVyID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdENvbnRyVXBwZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNPcmRMb3dlciA9ICdcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSknLFxuICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc01pc2NVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc01pc2NMb3dlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIsXG4gICAgcnNPcmRVcHBlcixcbiAgICByc09yZExvd2VyLFxuICAgIHJzRGlnaXRzLFxuICAgIHJzRW1vamlcbiAgXS5qb2luKCd8JyksICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG4gIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMuICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0J1ZmZlcicsICdEYXRhVmlldycsICdEYXRlJywgJ0Vycm9yJywgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknLFxuICAgICdGdW5jdGlvbicsICdJbnQ4QXJyYXknLCAnSW50MTZBcnJheScsICdJbnQzMkFycmF5JywgJ01hcCcsICdNYXRoJywgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5JyxcbiAgICAnVWludDhDbGFtcGVkQXJyYXknLCAnVWludDE2QXJyYXknLCAnVWludDMyQXJyYXknLCAnV2Vha01hcCcsXG4gICAgJ18nLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeS4gKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xuICB2YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAgICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAgICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAgICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAgICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAgICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICAgJ1xceGRmJzogJ3NzJyxcbiAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAgICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAgICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAgICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAgICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAgICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAgICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAgICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAgICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3MnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuICovXG4gIHZhciBodG1sVW5lc2NhcGVzID0ge1xuICAgICcmYW1wOyc6ICcmJyxcbiAgICAnJmx0Oyc6ICc8JyxcbiAgICAnJmd0Oyc6ICc+JyxcbiAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAnJiMzOTsnOiBcIidcIlxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuICAvKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbiAgdmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgICBpZiAodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgICAgfVxuXG4gICAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0oKSk7XG5cbiAgLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG5vZGVJc0FycmF5QnVmZmVyID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNBcnJheUJ1ZmZlcixcbiAgICAgIG5vZGVJc0RhdGUgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0RhdGUsXG4gICAgICBub2RlSXNNYXAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc01hcCxcbiAgICAgIG5vZGVJc1JlZ0V4cCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzUmVnRXhwLFxuICAgICAgbm9kZUlzU2V0ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNTZXQsXG4gICAgICBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlQWdncmVnYXRvcmAgZm9yIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlBZ2dyZWdhdG9yKGFycmF5LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaFJpZ2h0KGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5ldmVyeWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFdmVyeShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5jbHVkZXNgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBzcGVjaWZ5aW5nIGFuIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXJyYXlJbmNsdWRlc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlc1dpdGgoYXJyYXksIHZhbHVlLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKHZhbHVlLCBhcnJheVtpbmRleF0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZVJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZVJpZ2h0KGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVstLWxlbmd0aF07XG4gICAgfVxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhbiBBU0NJSSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgdmFyIGFzY2lpU2l6ZSA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZmluZEtleWAgYW5kIGBfLmZpbmRMYXN0S2V5YCxcbiAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYFxuICAgKiB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50IG9yIGl0cyBrZXksIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEtleShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGVhY2hGdW5jKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZWFuYCBhbmQgYF8ubWVhbkJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlTWVhbihhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbmd0aCA/IChiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkgLyBsZW5ndGgpIDogTkFOO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgLCB3aXRob3V0IHN1cHBvcnRcbiAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpbml0QWNjdW0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3Qgb3IgbGFzdCBlbGVtZW50IG9mXG4gICAqICBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBlYWNoRnVuYykge1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cbiAgICAgICAgPyAoaW5pdEFjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICA6IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0QnlgIHdoaWNoIHVzZXMgYGNvbXBhcmVyYCB0byBkZWZpbmUgdGhlXG4gICAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAgICogdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyZXIgVGhlIGZ1bmN0aW9uIHRvIGRlZmluZSBzb3J0IG9yZGVyLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTb3J0QnkoYXJyYXksIGNvbXBhcmVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zdW1gIGFuZCBgXy5zdW1CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSk7XG4gICAgICBpZiAoY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gY3VycmVudCA6IChyZXN1bHQgKyBjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gICAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9QYWlyc2AgYW5kIGBfLnRvUGFpcnNJbmAgd2hpY2ggY3JlYXRlcyBhbiBhcnJheVxuICAgKiBvZiBrZXktdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVG9QYWlycyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udHJpbWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byB0cmltLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUcmltKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmdcbiAgICAgID8gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSkucmVwbGFjZShyZVRyaW1TdGFydCwgJycpXG4gICAgICA6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICAgKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyaW5nLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIGlmIChpdGVyYXRlZXMubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShpdGVyYXRlZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYmFzZUdldCh2YWx1ZSwgaXRlcmF0ZWUubGVuZ3RoID09PSAxID8gaXRlcmF0ZWVbMF0gOiBpdGVyYXRlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpdGVyYXRlZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaWRlbnRpdHldO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJyB8fCBrZXkgPT09ICdjb25zdHJ1Y3RvcicgfHwga2V5ID09PSAncHJvdG90eXBlJykge1xuICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICB2YXIgdmFsSXNOYU4gPSB2YWx1ZSAhPT0gdmFsdWUsXG4gICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSksXG4gICAgICAgICAgdmFsSXNVbmRlZmluZWQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICB2YXIgbWlkID0gbmF0aXZlRmxvb3IoKGxvdyArIGhpZ2gpIC8gMiksXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKGFycmF5W21pZF0pLFxuICAgICAgICAgICAgb3RoSXNEZWZpbmVkID0gY29tcHV0ZWQgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IGNvbXB1dGVkID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBjb21wdXRlZCA9PT0gY29tcHV0ZWQsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKGNvbXB1dGVkKTtcblxuICAgICAgICBpZiAodmFsSXNOYU4pIHtcbiAgICAgICAgICB2YXIgc2V0TG93ID0gcmV0SGlnaGVzdCB8fCBvdGhJc1JlZmxleGl2ZTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1VuZGVmaW5lZCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIChyZXRIaWdoZXN0IHx8IG90aElzRGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNOdWxsKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc051bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmICFvdGhJc051bGwgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzU3ltYm9sKTtcbiAgICAgICAgfSBlbHNlIGlmIChvdGhJc051bGwgfHwgb3RoSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRMb3cgPSByZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0TG93KSB7XG4gICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlTWluKGhpZ2gsIE1BWF9BUlJBWV9JTkRFWCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkVW5pcWAgYW5kIGBfLnNvcnRlZFVuaXFCeWAgd2l0aG91dFxuICAgICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgaWYgKCFpbmRleCB8fCAhZXEoY29tcHV0ZWQsIHNlZW4pKSB7XG4gICAgICAgICAgdmFyIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b051bWJlcmAgd2hpY2ggZG9lc24ndCBlbnN1cmUgY29ycmVjdFxuICAgICAqIGNvbnZlcnNpb25zIG9mIGJpbmFyeSwgaGV4YWRlY2ltYWwsIG9yIG9jdGFsIHN0cmluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICByZXR1cm4gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICAgICAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5pcUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuaXEoYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICBzZWVuID0gcmVzdWx0O1xuXG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgdmFyIHNldCA9IGl0ZXJhdGVlID8gbnVsbCA6IGNyZWF0ZVNldChhcnJheSk7XG4gICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9BcnJheShzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIHNlZW4gPSBuZXcgU2V0Q2FjaGU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VlbiA9IGl0ZXJhdGVlID8gW10gOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciBzZWVuSW5kZXggPSBzZWVuLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoc2VlbkluZGV4LS0pIHtcbiAgICAgICAgICAgIGlmIChzZWVuW3NlZW5JbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXMoc2VlbiwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcHJvcGVydHkgcGF0aCB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IGRlbGV0ZSBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVwZGF0ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgcmV0dXJuIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB1cGRhdGVyKGJhc2VHZXQob2JqZWN0LCBwYXRoKSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kcm9wV2hpbGVgIGFuZCBgXy50YWtlV2hpbGVgXG4gICAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEcm9wXSBTcGVjaWZ5IGRyb3BwaW5nIGVsZW1lbnRzIGluc3RlYWQgb2YgdGFraW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXaGlsZShhcnJheSwgcHJlZGljYXRlLCBpc0Ryb3AsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xO1xuXG4gICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSAmJlxuICAgICAgICBwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7fVxuXG4gICAgICByZXR1cm4gaXNEcm9wXG4gICAgICAgID8gYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gMCA6IGluZGV4KSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IGxlbmd0aCkpXG4gICAgICAgIDogYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogMCksIChmcm9tUmlnaHQgPyBsZW5ndGggOiBpbmRleCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGB3cmFwcGVyVmFsdWVgIHdoaWNoIHJldHVybnMgdGhlIHJlc3VsdCBvZlxuICAgICAqIHBlcmZvcm1pbmcgYSBzZXF1ZW5jZSBvZiBhY3Rpb25zIG9uIHRoZSB1bndyYXBwZWQgYHZhbHVlYCwgd2hlcmUgZWFjaFxuICAgICAqIHN1Y2Nlc3NpdmUgYWN0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYWN0aW9ucyBBY3Rpb25zIHRvIHBlcmZvcm0gdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV3JhcHBlclZhbHVlKHZhbHVlLCBhY3Rpb25zKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdmFsdWU7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnZhbHVlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlSZWR1Y2UoYWN0aW9ucywgZnVuY3Rpb24ocmVzdWx0LCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5mdW5jLmFwcGx5KGFjdGlvbi50aGlzQXJnLCBhcnJheVB1c2goW3Jlc3VsdF0sIGFjdGlvbi5hcmdzKSk7XG4gICAgICB9LCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy54b3JgLCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VYb3IoYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVVuaXEoYXJyYXlzWzBdKSA6IFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2luZGV4XSxcbiAgICAgICAgICAgIG90aEluZGV4ID0gLTE7XG5cbiAgICAgICAgd2hpbGUgKCsrb3RoSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAob3RoSW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBiYXNlRGlmZmVyZW5jZShyZXN1bHRbaW5kZXhdIHx8IGFycmF5LCBhcnJheXNbb3RoSW5kZXhdLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4ocmVzdWx0LCAxKSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy56aXBPYmplY3RgIHdoaWNoIGFzc2lnbnMgdmFsdWVzIHVzaW5nIGBhc3NpZ25GdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbkZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWmlwT2JqZWN0KHByb3BzLCB2YWx1ZXMsIGFzc2lnbkZ1bmMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICB2YWxzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaW5kZXggPCB2YWxzTGVuZ3RoID8gdmFsdWVzW2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgYXNzaWduRnVuYyhyZXN1bHQsIHByb3BzW2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGFuIGVtcHR5IGFycmF5IGlmIGl0J3Mgbm90IGFuIGFycmF5IGxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgdGhlIGNhc3QgYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBgaWRlbnRpdHlgIGlmIGl0J3Mgbm90IGEgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGNhc3QgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IGlkZW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBgYmFzZVJlc3RgIGFsaWFzIHdoaWNoIGNhbiBiZSByZXBsYWNlZCB3aXRoIGBpZGVudGl0eWAgYnkgbW9kdWxlXG4gICAgICogcmVwbGFjZW1lbnQgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgdmFyIGNhc3RSZXN0ID0gYmFzZVJlc3Q7XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgYXJyYXlgIHRvIGEgc2xpY2UgaWYgaXQncyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBzbGljZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0U2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIHJldHVybiAoIXN0YXJ0ICYmIGVuZCA+PSBsZW5ndGgpID8gYXJyYXkgOiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BjbGVhclRpbWVvdXRgXShodHRwczovL21kbi5pby9jbGVhclRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcnxPYmplY3R9IGlkIFRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdCBvZiB0aGUgdGltZXIgdG8gY2xlYXIuXG4gICAgICovXG4gICAgdmFyIGNsZWFyVGltZW91dCA9IGN0eENsZWFyVGltZW91dCB8fCBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHJvb3QuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBhbGxvY1Vuc2FmZSA/IGFsbG9jVW5zYWZlKGxlbmd0aCkgOiBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBkYXRhVmlld2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVmlldyBUaGUgZGF0YSB2aWV3IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGRhdGEgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURhdGFWaWV3KGRhdGFWaWV3LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKGRhdGFWaWV3LmJ1ZmZlcikgOiBkYXRhVmlldy5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IGRhdGFWaWV3LmNvbnN0cnVjdG9yKGJ1ZmZlciwgZGF0YVZpZXcuYnl0ZU9mZnNldCwgZGF0YVZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGByZWdleHBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVnZXhwIFRoZSByZWdleHAgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHJlZ2V4cC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVJlZ0V4cChyZWdleHApIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgcmVnZXhwLmNvbnN0cnVjdG9yKHJlZ2V4cC5zb3VyY2UsIHJlRmxhZ3MuZXhlYyhyZWdleHApKTtcbiAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSByZWdleHAubGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGBzeW1ib2xgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN5bWJvbCBUaGUgc3ltYm9sIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgc3ltYm9sIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVN5bWJvbChzeW1ib2wpIHtcbiAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mID8gT2JqZWN0KHN5bWJvbFZhbHVlT2YuY2FsbChzeW1ib2wpKSA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHZhbHVlcyB0byBzb3J0IHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGB2YWx1ZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICAgICAgdmFyIHZhbElzRGVmaW5lZCA9IHZhbHVlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlLFxuICAgICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIG90aElzRGVmaW5lZCA9IG90aGVyICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gb3RoZXIgPT09IG90aGVyLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChvdGhlcik7XG5cbiAgICAgICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcbiAgICAgICAgICAgICh2YWxJc1N5bWJvbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUgJiYgIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAodmFsSXNOdWxsICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIXZhbElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCAmJiAhb3RoSXNTeW1ib2wgJiYgdmFsdWUgPCBvdGhlcikgfHxcbiAgICAgICAgICAgIChvdGhJc1N5bWJvbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUgJiYgIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghb3RoSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIW90aElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9yZGVyQnlgIHRvIGNvbXBhcmUgbXVsdGlwbGUgcHJvcGVydGllcyBvZiBhIHZhbHVlIHRvIGFub3RoZXJcbiAgICAgKiBhbmQgc3RhYmxlIHNvcnQgdGhlbS5cbiAgICAgKlxuICAgICAqIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsXG4gICAgICogc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3IgZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlclxuICAgICAqIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfHN0cmluZ1tdfSBvcmRlcnMgVGhlIG9yZGVyIHRvIHNvcnQgYnkgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIG9iakNyaXRlcmlhID0gb2JqZWN0LmNyaXRlcmlhLFxuICAgICAgICAgIG90aENyaXRlcmlhID0gb3RoZXIuY3JpdGVyaWEsXG4gICAgICAgICAgbGVuZ3RoID0gb2JqQ3JpdGVyaWEubGVuZ3RoLFxuICAgICAgICAgIG9yZGVyc0xlbmd0aCA9IG9yZGVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlQXNjZW5kaW5nKG9iakNyaXRlcmlhW2luZGV4XSwgb3RoQ3JpdGVyaWFbaW5kZXhdKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChpbmRleCA+PSBvcmRlcnNMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBvcmRlciA9IG9yZGVyc1tpbmRleF07XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIChvcmRlciA9PSAnZGVzYycgPyAtMSA6IDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBGaXhlcyBhbiBgQXJyYXkjc29ydGAgYnVnIGluIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgYXBwbGljYXRpb25zXG4gICAgICAvLyB0aGF0IGNhdXNlcyBpdCwgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzLCB0byBwcm92aWRlIHRoZSBzYW1lIHZhbHVlIGZvclxuICAgICAgLy8gYG9iamVjdGAgYW5kIGBvdGhlcmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9OTAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QuaW5kZXggLSBvdGhlci5pbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cyxcbiAgICAgKiBwbGFjZWhvbGRlcnMsIGFuZCBwcm92aWRlZCBhcmd1bWVudHMgaW50byBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlZnRMZW5ndGggKyByYW5nZUxlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbaG9sZGVyc1thcmdzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKHJhbmdlTGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleCsrXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGNvbXBvc2VBcmdzYCBleGNlcHQgdGhhdCB0aGUgYXJndW1lbnRzIGNvbXBvc2l0aW9uXG4gICAgICogaXMgdGFpbG9yZWQgZm9yIGBfLnBhcnRpYWxSaWdodGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNJbmRleCA9IC0xLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICByaWdodEluZGV4ID0gLTEsXG4gICAgICAgICAgcmlnaHRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHJhbmdlTGVuZ3RoICsgcmlnaHRMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgcmFuZ2VMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2FyZ3NJbmRleF0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICB9XG4gICAgICB2YXIgb2Zmc2V0ID0gYXJnc0luZGV4O1xuICAgICAgd2hpbGUgKCsrcmlnaHRJbmRleCA8IHJpZ2h0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyByaWdodEluZGV4XSA9IHBhcnRpYWxzW3JpZ2h0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraG9sZGVyc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtvZmZzZXQgKyBob2xkZXJzW2hvbGRlcnNJbmRleF1dID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gICAgICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICAgICAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmV3KSB7XG4gICAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9scyhzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBhbmQgaW5oZXJpdGVkIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9sc0luKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmdyb3VwQnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2luaXRpYWxpemVyXSBUaGUgYWNjdW11bGF0b3Igb2JqZWN0IGluaXRpYWxpemVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQWdncmVnYXRvcihzZXR0ZXIsIGluaXRpYWxpemVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlBZ2dyZWdhdG9yIDogYmFzZUFnZ3JlZ2F0b3IsXG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGluaXRpYWxpemVyID8gaW5pdGlhbGl6ZXIoKSA6IHt9O1xuXG4gICAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIHNldHRlciwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBhY2N1bXVsYXRvcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgYmFzZUVhY2hgIG9yIGBiYXNlRWFjaFJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBhIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRWFjaChlYWNoRnVuYywgZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcblxuICAgICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmxvd2VyRmlyc3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYFN0cmluZ2AgY2FzZSBtZXRob2QgdG8gdXNlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FzZUZpcnN0KG1ldGhvZE5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgICAgID8gc3RyaW5nVG9BcnJheShzdHJpbmcpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGNociA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IHN0clN5bWJvbHNbMF1cbiAgICAgICAgICA6IHN0cmluZy5jaGFyQXQoMCk7XG5cbiAgICAgICAgdmFyIHRyYWlsaW5nID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDEpLmpvaW4oJycpXG4gICAgICAgICAgOiBzdHJpbmcuc2xpY2UoMSk7XG5cbiAgICAgICAgcmV0dXJuIGNoclttZXRob2ROYW1lXSgpICsgdHJhaWxpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmNhbWVsQ2FzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lIGVhY2ggd29yZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvdW5kZXIoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKHdvcmRzKGRlYnVycihzdHJpbmcpLnJlcGxhY2UocmVBcG9zLCAnJykpLCBjYWxsYmFjaywgJycpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhbiBpbnN0YW5jZSBvZiBgQ3RvcmAgcmVnYXJkbGVzcyBvZlxuICAgICAqIHdoZXRoZXIgaXQgd2FzIGludm9rZWQgYXMgcGFydCBvZiBhIGBuZXdgIGV4cHJlc3Npb24gb3IgYnkgYGNhbGxgIG9yIGBhcHBseWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEN0b3IgVGhlIGNvbnN0cnVjdG9yIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdG9yKEN0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVXNlIGEgYHN3aXRjaGAgc3RhdGVtZW50IHRvIHdvcmsgd2l0aCBjbGFzcyBjb25zdHJ1Y3RvcnMuIFNlZVxuICAgICAgICAvLyBodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWZ1bmN0aW9uLW9iamVjdHMtY2FsbC10aGlzYXJndW1lbnQtYXJndW1lbnRzbGlzdFxuICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDdG9yO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0pO1xuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0pO1xuICAgICAgICAgIGNhc2UgNzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoQ3Rvci5wcm90b3R5cGUpLFxuICAgICAgICAgICAgcmVzdWx0ID0gQ3Rvci5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG5cbiAgICAgICAgLy8gTWltaWMgdGhlIGNvbnN0cnVjdG9yJ3MgYHJldHVybmAgYmVoYXZpb3IuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2VzNS5naXRodWIuaW8vI3gxMy4yLjIgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiB0aGlzQmluZGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGVuYWJsZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhcml0eSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpIHtcbiAgICAgIHZhciBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlcik7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhvbGRlcnMgPSAobGVuZ3RoIDwgMyAmJiBhcmdzWzBdICE9PSBwbGFjZWhvbGRlciAmJiBhcmdzW2xlbmd0aCAtIDFdICE9PSBwbGFjZWhvbGRlcilcbiAgICAgICAgICA/IFtdXG4gICAgICAgICAgOiByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG5cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJncywgaG9sZGVycywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5IC0gbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZpbmRgIG9yIGBfLmZpbmRMYXN0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmluZEluZGV4RnVuYyBUaGUgZnVuY3Rpb24gdG8gZmluZCB0aGUgY29sbGVjdGlvbiBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmaW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbmQoZmluZEluZGV4RnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICAgIHZhciBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHZhciBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICAgICAgY29sbGVjdGlvbiA9IGtleXMoY29sbGVjdGlvbik7XG4gICAgICAgICAgcHJlZGljYXRlID0gZnVuY3Rpb24oa2V5KSB7IHJldHVybiBpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKTsgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBmaW5kSW5kZXhGdW5jKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gLTEgPyBpdGVyYWJsZVtpdGVyYXRlZSA/IGNvbGxlY3Rpb25baW5kZXhdIDogaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmxvd2Agb3IgYF8uZmxvd1JpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxvdyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGbG93KGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmNzKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBmdW5jcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHByZXJlcSA9IExvZGFzaFdyYXBwZXIucHJvdG90eXBlLnRocnU7XG5cbiAgICAgICAgaWYgKGZyb21SaWdodCkge1xuICAgICAgICAgIGZ1bmNzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIHZhciBmdW5jID0gZnVuY3NbaW5kZXhdO1xuICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmVyZXEgJiYgIXdyYXBwZXIgJiYgZ2V0RnVuY05hbWUoZnVuYykgPT0gJ3dyYXBwZXInKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IG5ldyBMb2Rhc2hXcmFwcGVyKFtdLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB3cmFwcGVyID8gaW5kZXggOiBsZW5ndGg7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgZnVuYyA9IGZ1bmNzW2luZGV4XTtcblxuICAgICAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgICAgICBkYXRhID0gZnVuY05hbWUgPT0gJ3dyYXBwZXInID8gZ2V0RGF0YShmdW5jKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChkYXRhICYmIGlzTGF6aWFibGUoZGF0YVswXSkgJiZcbiAgICAgICAgICAgICAgICBkYXRhWzFdID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpICYmXG4gICAgICAgICAgICAgICAgIWRhdGFbNF0ubGVuZ3RoICYmIGRhdGFbOV0gPT0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSB3cmFwcGVyW2dldEZ1bmNOYW1lKGRhdGFbMF0pXS5hcHBseSh3cmFwcGVyLCBkYXRhWzNdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd3JhcHBlciA9IChmdW5jLmxlbmd0aCA9PSAxICYmIGlzTGF6aWFibGUoZnVuYykpXG4gICAgICAgICAgICAgID8gd3JhcHBlcltmdW5jTmFtZV0oKVxuICAgICAgICAgICAgICA6IHdyYXBwZXIudGhydShmdW5jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICBpZiAod3JhcHBlciAmJiBhcmdzLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5wbGFudCh2YWx1ZSkudmFsdWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gbGVuZ3RoID8gZnVuY3NbaW5kZXhdLmFwcGx5KHRoaXMsIGFyZ3MpIDogdmFsdWU7XG5cbiAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuY3NbaW5kZXhdLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYCwgcGFydGlhbCBhcHBsaWNhdGlvbiwgYW5kIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNSaWdodF0gVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWRcbiAgICAgKiAgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc1JpZ2h0XSBUaGUgYHBhcnRpYWxzUmlnaHRgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSHlicmlkKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQXJ5ID0gYml0bWFzayAmIFdSQVBfQVJZX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUcsXG4gICAgICAgICAgaXNDdXJyaWVkID0gYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpLFxuICAgICAgICAgIGlzRmxpcCA9IGJpdG1hc2sgJiBXUkFQX0ZMSVBfRkxBRyxcbiAgICAgICAgICBDdG9yID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0N1cnJpZWQpIHtcbiAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlciksXG4gICAgICAgICAgICAgIGhvbGRlcnNDb3VudCA9IGNvdW50SG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzKSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFsc1JpZ2h0KSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzQ291bnQ7XG4gICAgICAgIGlmIChpc0N1cnJpZWQgJiYgbGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICB2YXIgbmV3SG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdGhpc0FyZyxcbiAgICAgICAgICAgIGFyZ3MsIG5ld0hvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSAtIGxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsXG4gICAgICAgICAgICBmbiA9IGlzQmluZEtleSA/IHRoaXNCaW5kaW5nW2Z1bmNdIDogZnVuYztcblxuICAgICAgICBsZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICAgICAgaWYgKGFyZ1Bvcykge1xuICAgICAgICAgIGFyZ3MgPSByZW9yZGVyKGFyZ3MsIGFyZ1Bvcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGbGlwICYmIGxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBhcmdzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnkgJiYgYXJ5IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJncy5sZW5ndGggPSBhcnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikge1xuICAgICAgICAgIGZuID0gQ3RvciB8fCBjcmVhdGVDdG9yKGZuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uaW52ZXJ0QnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdG9JdGVyYXRlZSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52ZXJ0ZXIoc2V0dGVyLCB0b0l0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCB0b0l0ZXJhdGVlKGl0ZXJhdGVlKSwge30pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHVzZWQgZm9yIGB1bmRlZmluZWRgIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU1hdGhPcGVyYXRpb24ob3BlcmF0b3IsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvdGhlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb1N0cmluZyhvdGhlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5vdmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXJyYXlGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG92ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlT3ZlcihhcnJheUZ1bmMpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihpdGVyYXRlZXMpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuICAgICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgIHZhciB0aGlzQXJnID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gYXJyYXlGdW5jKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AgYmFzZWQgb24gYGxlbmd0aGAuIFRoZSBgY2hhcnNgIHN0cmluZ1xuICAgICAqIGlzIHRydW5jYXRlZCBpZiB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgZXhjZWVkcyBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhZGRpbmcobGVuZ3RoLCBjaGFycykge1xuICAgICAgY2hhcnMgPSBjaGFycyA9PT0gdW5kZWZpbmVkID8gJyAnIDogYmFzZVRvU3RyaW5nKGNoYXJzKTtcblxuICAgICAgdmFyIGNoYXJzTGVuZ3RoID0gY2hhcnMubGVuZ3RoO1xuICAgICAgaWYgKGNoYXJzTGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gY2hhcnNMZW5ndGggPyBiYXNlUmVwZWF0KGNoYXJzLCBsZW5ndGgpIDogY2hhcnM7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZVJlcGVhdChjaGFycywgbmF0aXZlQ2VpbChsZW5ndGggLyBzdHJpbmdTaXplKGNoYXJzKSkpO1xuICAgICAgcmV0dXJuIGhhc1VuaWNvZGUoY2hhcnMpXG4gICAgICAgID8gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkocmVzdWx0KSwgMCwgbGVuZ3RoKS5qb2luKCcnKVxuICAgICAgICA6IHJlc3VsdC5zbGljZSgwLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmdcbiAgICAgKiBvZiBgdGhpc0FyZ2AgYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlZnRMZW5ndGggKyBhcmdzTGVuZ3RoKSxcbiAgICAgICAgICAgIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcblxuICAgICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYXJnc0xlbmd0aC0tKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXgrK10gPSBhcmd1bWVudHNbKythcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnJhbmdlYCBvciBgXy5yYW5nZVJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmFuZ2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmFuZ2UoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgICBpZiAoc3RlcCAmJiB0eXBlb2Ygc3RlcCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdGFydCwgZW5kLCBzdGVwKSkge1xuICAgICAgICAgIGVuZCA9IHN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIHRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IChzdGFydCA8IGVuZCA/IDEgOiAtMSkgOiB0b0Zpbml0ZShzdGVwKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHJlbGF0aW9uYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVsYXRpb25hbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihvcGVyYXRvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICBpZiAoISh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgJiYgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgIG90aGVyID0gdG9OdW1iZXIob3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gY29udGludWUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwRnVuYyBUaGUgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBgZnVuY2Agd3JhcHBlci5cbiAgICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVjdXJyeShmdW5jLCBiaXRtYXNrLCB3cmFwRnVuYywgcGxhY2Vob2xkZXIsIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0N1cnJ5ID0gYml0bWFzayAmIFdSQVBfQ1VSUllfRkxBRyxcbiAgICAgICAgICBuZXdIb2xkZXJzID0gaXNDdXJyeSA/IGhvbGRlcnMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3SG9sZGVyc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IGhvbGRlcnMsXG4gICAgICAgICAgbmV3UGFydGlhbHMgPSBpc0N1cnJ5ID8gcGFydGlhbHMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3UGFydGlhbHNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBwYXJ0aWFscztcblxuICAgICAgYml0bWFzayB8PSAoaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9GTEFHIDogV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgYml0bWFzayAmPSB+KGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA6IFdSQVBfUEFSVElBTF9GTEFHKTtcblxuICAgICAgaWYgKCEoYml0bWFzayAmIFdSQVBfQ1VSUllfQk9VTkRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBuZXdQYXJ0aWFscywgbmV3SG9sZGVycywgbmV3UGFydGlhbHNSaWdodCxcbiAgICAgICAgbmV3SG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIHZhciByZXN1bHQgPSB3cmFwRnVuYy5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgaWYgKGlzTGF6aWFibGUoZnVuYykpIHtcbiAgICAgICAgc2V0RGF0YShyZXN1bHQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHJlc3VsdCwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ucm91bmRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYE1hdGhgIG1ldGhvZCB0byB1c2Ugd2hlbiByb3VuZGluZy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByb3VuZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSb3VuZChtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IE1hdGhbbWV0aG9kTmFtZV07XG4gICAgICByZXR1cm4gZnVuY3Rpb24obnVtYmVyLCBwcmVjaXNpb24pIHtcbiAgICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uID09IG51bGwgPyAwIDogbmF0aXZlTWluKHRvSW50ZWdlcihwcmVjaXNpb24pLCAyOTIpO1xuICAgICAgICBpZiAocHJlY2lzaW9uICYmIG5hdGl2ZUlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBhcnJTdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChhcnJTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIGFyclN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBhcnJheTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBvYmpTdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAob2JqU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBvYmpTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gb2JqZWN0O1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgICAgIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICAgICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggZmxhdHRlbnMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdFJlc3QoZnVuYykge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHVuZGVmaW5lZCwgZmxhdHRlbiksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzSW4sIGdldFN5bWJvbHNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0RGF0YSA9ICFtZXRhTWFwID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIHJldHVybiBtZXRhTWFwLmdldChmdW5jKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RnVuY05hbWUoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IChmdW5jLm5hbWUgKyAnJyksXG4gICAgICAgICAgYXJyYXkgPSByZWFsTmFtZXNbcmVzdWx0XSxcbiAgICAgICAgICBsZW5ndGggPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywgcmVzdWx0KSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IGFycmF5W2xlbmd0aF0sXG4gICAgICAgICAgICBvdGhlckZ1bmMgPSBkYXRhLmZ1bmM7XG4gICAgICAgIGlmIChvdGhlckZ1bmMgPT0gbnVsbCB8fCBvdGhlckZ1bmMgPT0gZnVuYykge1xuICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXJndW1lbnQgcGxhY2Vob2xkZXIgdmFsdWUgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SG9sZGVyKGZ1bmMpIHtcbiAgICAgIHZhciBvYmplY3QgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaCwgJ3BsYWNlaG9sZGVyJykgPyBsb2Rhc2ggOiBmdW5jO1xuICAgICAgcmV0dXJuIG9iamVjdC5wbGFjZWhvbGRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcIml0ZXJhdGVlXCIgZnVuY3Rpb24uIElmIGBfLml0ZXJhdGVlYCBpcyBjdXN0b21pemVkLFxuICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGJhc2VJdGVyYXRlZWAuXG4gICAgICogSWYgYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgdGhlIGNob3NlbiBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlbSBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIHRoZSBjcmVhdGVkIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2hvc2VuIGZ1bmN0aW9uIG9yIGl0cyByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0ZWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoLml0ZXJhdGVlIHx8IGl0ZXJhdGVlO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSBpdGVyYXRlZSA/IGJhc2VJdGVyYXRlZSA6IHJlc3VsdDtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gcmVzdWx0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgICAgIDogZGF0YS5tYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG1hdGNoIGRhdGEgb2YgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHJlc3VsdFtsZW5ndGhdLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gICAgICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICBpZiAodW5tYXNrZWQpIHtcbiAgICAgICAgaWYgKGlzT3duKSB7XG4gICAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHdoaWxlIChvYmplY3QpIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcbiAgICAgICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG4gICAgaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgICAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAgICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgICAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmlldywgYXBwbHlpbmcgYW55IGB0cmFuc2Zvcm1zYCB0byB0aGUgYHN0YXJ0YCBhbmQgYGVuZGAgcG9zaXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1zIFRoZSB0cmFuc2Zvcm1hdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYHN0YXJ0YCBhbmQgYGVuZGBcbiAgICAgKiAgcG9zaXRpb25zIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZpZXcoc3RhcnQsIGVuZCwgdHJhbnNmb3Jtcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdHJhbnNmb3Jtc1tpbmRleF0sXG4gICAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZHJvcCc6ICAgICAgc3RhcnQgKz0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZHJvcFJpZ2h0JzogZW5kIC09IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2UnOiAgICAgIGVuZCA9IG5hdGl2ZU1pbihlbmQsIHN0YXJ0ICsgc2l6ZSk7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2VSaWdodCc6IHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0LCBlbmQgLSBzaXplKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7ICdzdGFydCc6IHN0YXJ0LCAnZW5kJzogZW5kIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgd3JhcHBlciBkZXRhaWxzIGZyb20gdGhlIGBzb3VyY2VgIGJvZHkgY29tbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3cmFwcGVyIGRldGFpbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V3JhcERldGFpbHMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBzb3VyY2UubWF0Y2gocmVXcmFwRGV0YWlscyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdChyZVNwbGl0RGV0YWlscykgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgaGFzRnVuYykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pO1xuICAgICAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgfHwgKytpbmRleCAhPSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IG9iamVjdC5sZW5ndGg7XG4gICAgICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgICAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBuZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC5cbiAgICAgIGlmIChsZW5ndGggJiYgdHlwZW9mIGFycmF5WzBdID09ICdzdHJpbmcnICYmIGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksICdpbmRleCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgICAgICByZXN1bHQuaW5wdXQgPSBhcnJheS5pbnB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUgYmFzZWQgb24gaXRzIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTWFwYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBgU2V0YCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgaXNEZWVwKSB7XG4gICAgICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBmbG9hdDMyVGFnOiBjYXNlIGZsb2F0NjRUYWc6XG4gICAgICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcbiAgICAgICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHdyYXBwZXIgYGRldGFpbHNgIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBgc291cmNlYCBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBpbnNlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc291cmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgZGV0YWlscykge1xuICAgICAgdmFyIGxlbmd0aCA9IGRldGFpbHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgZGV0YWlsc1tsYXN0SW5kZXhdID0gKGxlbmd0aCA+IDEgPyAnJiAnIDogJycpICsgZGV0YWlsc1tsYXN0SW5kZXhdO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuam9pbihsZW5ndGggPiAyID8gJywgJyA6ICcgJyk7XG4gICAgICByZXR1cm4gc291cmNlLnJlcGxhY2UocmVXcmFwQ29tbWVudCwgJ3tcXG4vKiBbd3JhcHBlZCB3aXRoICcgKyBkZXRhaWxzICsgJ10gKi9cXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gICAgICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAgICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgICAgICkge1xuICAgICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xhemlhYmxlKGZ1bmMpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgIG90aGVyID0gbG9kYXNoW2Z1bmNOYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBvdGhlciAhPSAnZnVuY3Rpb24nIHx8ICEoZnVuY05hbWUgaW4gTGF6eVdyYXBwZXIucHJvdG90eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZnVuYyA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGdldERhdGEob3RoZXIpO1xuICAgICAgcmV0dXJuICEhZGF0YSAmJiBmdW5jID09PSBkYXRhWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICAgIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBpcyBjYXBhYmxlIG9mIGJlaW5nIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIHZhciBpc01hc2thYmxlID0gY29yZUpzRGF0YSA/IGlzRnVuY3Rpb24gOiBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAgICAgKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAgICAgKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAgICAgKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIGZ1bmN0aW9uIG1ldGFkYXRhIG9mIGBzb3VyY2VgIGludG8gYGRhdGFgLlxuICAgICAqXG4gICAgICogTWVyZ2luZyBtZXRhZGF0YSByZWR1Y2VzIHRoZSBudW1iZXIgb2Ygd3JhcHBlcnMgdXNlZCB0byBpbnZva2UgYSBmdW5jdGlvbi5cbiAgICAgKiBUaGlzIGlzIHBvc3NpYmxlIGJlY2F1c2UgbWV0aG9kcyBsaWtlIGBfLmJpbmRgLCBgXy5jdXJyeWAsIGFuZCBgXy5wYXJ0aWFsYFxuICAgICAqIG1heSBiZSBhcHBsaWVkIHJlZ2FyZGxlc3Mgb2YgZXhlY3V0aW9uIG9yZGVyLiBNZXRob2RzIGxpa2UgYF8uYXJ5YCBhbmRcbiAgICAgKiBgXy5yZWFyZ2AgbW9kaWZ5IGZ1bmN0aW9uIGFyZ3VtZW50cywgbWFraW5nIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFyZVxuICAgICAqIGV4ZWN1dGVkIGltcG9ydGFudCwgcHJldmVudGluZyB0aGUgbWVyZ2luZyBvZiBtZXRhZGF0YS4gSG93ZXZlciwgd2UgbWFrZVxuICAgICAqIGFuIGV4Y2VwdGlvbiBmb3IgYSBzYWZlIGNvbWJpbmVkIGNhc2Ugd2hlcmUgY3VycmllZCBmdW5jdGlvbnMgaGF2ZSBgXy5hcnlgXG4gICAgICogYW5kIG9yIGBfLnJlYXJnYCBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIFRoZSBkZXN0aW5hdGlvbiBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIHNvdXJjZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRhdGFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRGF0YShkYXRhLCBzb3VyY2UpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gZGF0YVsxXSxcbiAgICAgICAgICBzcmNCaXRtYXNrID0gc291cmNlWzFdLFxuICAgICAgICAgIG5ld0JpdG1hc2sgPSBiaXRtYXNrIHwgc3JjQml0bWFzayxcbiAgICAgICAgICBpc0NvbW1vbiA9IG5ld0JpdG1hc2sgPCAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcgfCBXUkFQX0FSWV9GTEFHKTtcblxuICAgICAgdmFyIGlzQ29tYm8gPVxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfUkVBUkdfRkxBRykgJiYgKGRhdGFbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykpICYmIChzb3VyY2VbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSk7XG5cbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgbWV0YWRhdGEgY2FuJ3QgYmUgbWVyZ2VkLlxuICAgICAgaWYgKCEoaXNDb21tb24gfHwgaXNDb21ibykpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGB0aGlzQXJnYCBpZiBhdmFpbGFibGUuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIGRhdGFbMl0gPSBzb3VyY2VbMl07XG4gICAgICAgIC8vIFNldCB3aGVuIGN1cnJ5aW5nIGEgYm91bmQgZnVuY3Rpb24uXG4gICAgICAgIG5ld0JpdG1hc2sgfD0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHID8gMCA6IFdSQVBfQ1VSUllfQk9VTkRfRkxBRztcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCBhcmd1bWVudHMuXG4gICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbM107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzID0gZGF0YVszXTtcbiAgICAgICAgZGF0YVszXSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3MocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNF0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNF0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbM10sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs0XTtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCByaWdodCBhcmd1bWVudHMuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs1XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBwYXJ0aWFscyA9IGRhdGFbNV07XG4gICAgICAgIGRhdGFbNV0gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzUmlnaHQocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNl0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNl0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbNV0sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs2XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyZ1Bvc2AgaWYgYXZhaWxhYmxlLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbN107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZGF0YVs3XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJ5YCBpZiBpdCdzIHNtYWxsZXIuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQVJZX0ZMQUcpIHtcbiAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gPT0gbnVsbCA/IHNvdXJjZVs4XSA6IG5hdGl2ZU1pbihkYXRhWzhdLCBzb3VyY2VbOF0pO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJpdHlgIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICBpZiAoZGF0YVs5XSA9PSBudWxsKSB7XG4gICAgICAgIGRhdGFbOV0gPSBzb3VyY2VbOV07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBmdW5jYCBhbmQgbWVyZ2UgYml0bWFza3MuXG4gICAgICBkYXRhWzBdID0gc291cmNlWzBdO1xuICAgICAgZGF0YVsxXSA9IG5ld0JpdG1hc2s7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICAgICAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gICAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byBnZXQgdGhlIHBhcmVudCB2YWx1ZSBvZi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGFyZW50IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcmVudChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmxlbmd0aCA8IDIgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgZmlyc3QgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIGZpcnN0IGVsZW1lbnQsIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIHNlY29uZCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlb3JkZXIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihpbmRleGVzLmxlbmd0aCwgYXJyTGVuZ3RoKSxcbiAgICAgICAgICBvbGRBcnJheSA9IGNvcHlBcnJheShhcnJheSk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGFycmF5W2xlbmd0aF0gPSBpc0luZGV4KGluZGV4LCBhcnJMZW5ndGgpID8gb2xkQXJyYXlbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiB0aGlzIGZ1bmN0aW9uIGJlY29tZXMgaG90LCBpLmUuIGlzIGludm9rZWQgYSBsb3QgaW4gYSBzaG9ydFxuICAgICAqIHBlcmlvZCBvZiB0aW1lLCBpdCB3aWxsIHRyaXAgaXRzIGJyZWFrZXIgYW5kIHRyYW5zaXRpb24gdG8gYW4gaWRlbnRpdHlcbiAgICAgKiBmdW5jdGlvbiB0byBhdm9pZCBnYXJiYWdlIGNvbGxlY3Rpb24gcGF1c2VzIGluIFY4LiBTZWVcbiAgICAgKiBbVjggaXNzdWUgMjA3MF0oaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjA3MClcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldERhdGEgPSBzaG9ydE91dChiYXNlU2V0RGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgc2V0VGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL3NldFRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VGltZW91dCA9IGN0eFNldFRpbWVvdXQgfHwgZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgcmV0dXJuIHJvb3Quc2V0VGltZW91dChmdW5jLCB3YWl0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYHdyYXBwZXJgIHRvIG1pbWljIHRoZSBzb3VyY2Ugb2YgYHJlZmVyZW5jZWBcbiAgICAgKiB3aXRoIHdyYXBwZXIgZGV0YWlscyBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgc291cmNlIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZlcmVuY2UgVGhlIHJlZmVyZW5jZSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgd3JhcHBlcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V3JhcFRvU3RyaW5nKHdyYXBwZXIsIHJlZmVyZW5jZSwgYml0bWFzaykge1xuICAgICAgdmFyIHNvdXJjZSA9IChyZWZlcmVuY2UgKyAnJyk7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcod3JhcHBlciwgaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCB1cGRhdGVXcmFwRGV0YWlscyhnZXRXcmFwRGV0YWlscyhzb3VyY2UpLCBiaXRtYXNrKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICAgICAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgICAgIHZhciBjb3VudCA9IDAsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCB3aGljaCBtdXRhdGVzIGFuZCBzZXRzIHRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT1hcnJheS5sZW5ndGhdIFRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZVNlbGYoYXJyYXksIHNpemUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICBzaXplID0gc2l6ZSA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogc2l6ZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgc2l6ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oaW5kZXgsIGxhc3RJbmRleCksXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W3JhbmRdO1xuXG4gICAgICAgIGFycmF5W3JhbmRdID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGFycmF5Lmxlbmd0aCA9IHNpemU7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgdmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJycpO1xuICAgICAgfVxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgICAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd3JhcHBlciBgZGV0YWlsc2AgYmFzZWQgb24gYGJpdG1hc2tgIGZsYWdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkZXRhaWxzYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyhkZXRhaWxzLCBiaXRtYXNrKSB7XG4gICAgICBhcnJheUVhY2god3JhcEZsYWdzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICdfLicgKyBwYWlyWzBdO1xuICAgICAgICBpZiAoKGJpdG1hc2sgJiBwYWlyWzFdKSAmJiAhYXJyYXlJbmNsdWRlcyhkZXRhaWxzLCB2YWx1ZSkpIHtcbiAgICAgICAgICBkZXRhaWxzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnNvcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHdyYXBwZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd3JhcHBlciBUaGUgd3JhcHBlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgd3JhcHBlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2xvbmUod3JhcHBlcikge1xuICAgICAgaWYgKHdyYXBwZXIgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZXIuX193cmFwcGVkX18sIHdyYXBwZXIuX19jaGFpbl9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh3cmFwcGVyLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2luZGV4X18gID0gd3JhcHBlci5fX2luZGV4X187XG4gICAgICByZXN1bHQuX192YWx1ZXNfXyA9IHdyYXBwZXIuX192YWx1ZXNfXztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAgICAgKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICAgICAqIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY2h1bmtzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAyKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDMpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc2l6ZSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG4gICAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBjb25jYXRlbmF0aW5nIGBhcnJheWAgd2l0aCBhbnkgYWRkaXRpb25hbCBhcnJheXNcbiAgICAgKiBhbmQvb3IgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb25jYXRlbmF0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNvbmNhdChhcnJheSwgMiwgWzNdLCBbWzRdXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvdGhlcik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoIC0gMSksXG4gICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIGFyZ3NbaW5kZXggLSAxXSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlQdXNoKGlzQXJyYXkoYXJyYXkpID8gY29weUFycmF5KGFycmF5KSA6IFthcnJheV0sIGJhc2VGbGF0dGVuKGFyZ3MsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGBhcnJheWAgdmFsdWVzIG5vdCBpbmNsdWRlZCBpbiB0aGUgb3RoZXIgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLndpdGhvdXQsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2UgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsQnlgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sIFt7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZUJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIG9yZGVyIGFuZFxuICAgICAqIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxXaXRoYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZVdpdGgob2JqZWN0cywgW3sgJ3gnOiAxLCAneSc6IDIgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZVdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChjb21wYXJhdG9yKSkge1xuICAgICAgICBjb21wYXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbHMgZWxlbWVudHMgb2YgYGFycmF5YCB3aXRoIGB2YWx1ZWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90XG4gICAgICogaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8uZmlsbChhcnJheSwgJ2EnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2EnLCAnYSddXG4gICAgICpcbiAgICAgKiBfLmZpbGwoQXJyYXkoMyksIDIpO1xuICAgICAqIC8vID0+IFsyLCAyLCAyXVxuICAgICAqXG4gICAgICogXy5maWxsKFs0LCA2LCA4LCAxMF0sICcqJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzQsICcqJywgJyonLCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICYmIHR5cGVvZiBzdGFydCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgdmFsdWUsIHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAncGViYmxlcyc7IH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggPCAwXG4gICAgICAgICAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApXG4gICAgICAgICAgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBgYXJyYXlgIGEgc2luZ2xlIGxldmVsIGRlZXAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIDEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVlcChbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0LCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZWVwKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIElORklOSVRZKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYGFycmF5YCB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgWzIsIFszLCBbNF1dLCA1XV07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlcHRoKGFycmF5LCBkZXB0aCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICAgKiBmcm9tIGtleS12YWx1ZSBgcGFpcnNgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZyb21QYWlycyhbWydhJywgMV0sIFsnYicsIDJdXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBmaXJzdFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmhlYWQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmhlYWQoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhlYWQoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgaW4gYGFycmF5YFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMCwgLTEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIGFsbCBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsyXVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBpZiAoaXRlcmF0ZWUgPT09IGxhc3QobWFwcGVkKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXNcbiAgICAgKiBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYWxsIGVsZW1lbnRzIGluIGBhcnJheWAgaW50byBhIHN0cmluZyBzZXBhcmF0ZWQgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlcGFyYXRvcj0nLCddIFRoZSBlbGVtZW50IHNlcGFyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBqb2luZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmpvaW4oWydhJywgJ2InLCAnYyddLCAnficpO1xuICAgICAqIC8vID0+ICdhfmJ+YydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gJycgOiBuYXRpdmVKb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBhcnJheWAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKSA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICAgID8gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleClcbiAgICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbGVtZW50IGF0IGluZGV4IGBuYCBvZiBgYXJyYXlgLiBJZiBgbmAgaXMgbmVnYXRpdmUsIHRoZSBudGhcbiAgICAgKiBlbGVtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjExLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIC0yKTtcbiAgICAgKiAvLyA9PiAnYyc7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlTnRoKGFycmF5LCB0b0ludGVnZXIobikpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ud2l0aG91dGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnJlbW92ZWBcbiAgICAgKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgdmFyIHB1bGwgPSBiYXNlUmVzdChwdWxsQWxsKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbChhcnJheSwgWydhJywgJ2MnXSk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlQnlgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMyB9LCB7ICd4JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbEJ5KGFycmF5LCBbeyAneCc6IDEgfSwgeyAneCc6IDMgfV0sICd4Jyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxCeShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZVdpdGhgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDMsICd5JzogNCB9LCB7ICd4JzogNSwgJ3knOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsV2l0aChhcnJheSwgW3sgJ3gnOiAzLCAneSc6IDQgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiA1LCAneSc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsV2l0aChhcnJheSwgdmFsdWVzLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50cyBmcm9tIGBhcnJheWAgY29ycmVzcG9uZGluZyB0byBgaW5kZXhlc2AgYW5kIHJldHVybnMgYW5cbiAgICAgKiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5hdGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gW2luZGV4ZXNdIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKiB2YXIgcHVsbGVkID0gXy5wdWxsQXQoYXJyYXksIFsxLCAzXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cocHVsbGVkKTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnZCddXG4gICAgICovXG4gICAgdmFyIHB1bGxBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYmFzZUF0KGFycmF5LCBpbmRleGVzKTtcblxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgYXJyYXlNYXAoaW5kZXhlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGlzSW5kZXgoaW5kZXgsIGxlbmd0aCkgPyAraW5kZXggOiBpbmRleDtcbiAgICAgIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG4gICAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmZpbHRlcmAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnB1bGxgXG4gICAgICogdG8gcHVsbCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDRdO1xuICAgICAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgYGFycmF5YCBzbyB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGJlY29tZXMgdGhlIGxhc3QsIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50IGJlY29tZXMgdGhlIHNlY29uZCB0byBsYXN0LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgIGFuZCBpcyBiYXNlZCBvblxuICAgICAqIFtgQXJyYXkjcmV2ZXJzZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3JldmVyc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5yZXZlcnNlKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXZlcnNlKGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IGFycmF5IDogbmF0aXZlUmV2ZXJzZS5jYWxsKGFycmF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGluc3RlYWQgb2ZcbiAgICAgKiBbYEFycmF5I3NsaWNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvc2xpY2UpIHRvIGVuc3VyZSBkZW5zZSBhcnJheXMgYXJlXG4gICAgICogcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAmJiB0eXBlb2YgZW5kICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzdGFydCwgZW5kKSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgbG93ZXN0IGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMzAsIDUwXSwgNDApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGhpZ2hlc3RcbiAgICAgKiBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG9cbiAgICAgKiBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4KFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZExhc3RJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubGFzdEluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpIC0gMTtcbiAgICAgICAgaWYgKGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXEoWzEsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFCeWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXFCeShbMS4xLCAxLjIsIDIuMywgMi40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMSwgMi4zXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRhaWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWlsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAxLCBsZW5ndGgpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZShhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC4gRWxlbWVudHMgYXJlXG4gICAgICogdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGZhbHNlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLiBFbGVtZW50c1xuICAgICAqIGFyZSB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlciwgZnJvbSBhbGwgZ2l2ZW4gYXJyYXlzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uKFsyXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb20gdGhlIGZpcnN0XG4gICAgICogYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uQnkoWzIuMV0sIFsxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbVxuICAgICAqIHRoZSBmaXJzdCBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXksIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGluIHdoaWNoIG9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWFjaCBlbGVtZW50XG4gICAgICogaXMga2VwdC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1clxuICAgICAqIGluIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzIsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgICAqIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXFCeShbMi4xLCAxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pcUJ5KFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS5UaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlxV2l0aChvYmplY3RzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxV2l0aChhcnJheSwgY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIHVuZGVmaW5lZCwgY29tcGFyYXRvcikgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiBncm91cGVkXG4gICAgICogZWxlbWVudHMgYW5kIGNyZWF0ZXMgYW4gYXJyYXkgcmVncm91cGluZyB0aGUgZWxlbWVudHMgdG8gdGhlaXIgcHJlLXppcFxuICAgICAqIGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwKHppcHBlZCk7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcChhcnJheSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgIGFycmF5ID0gYXJyYXlGaWx0ZXIoYXJyYXksIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChncm91cCkpIHtcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoZ3JvdXAubGVuZ3RoLCBsZW5ndGgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAoYXJyYXksIGJhc2VQcm9wZXJ0eShpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgcmVncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIHJlZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSk7XG4gICAgICogLy8gPT4gW1sxLCAxMCwgMTAwXSwgWzIsIDIwLCAyMDBdXVxuICAgICAqXG4gICAgICogXy51bnppcFdpdGgoemlwcGVkLCBfLmFkZCk7XG4gICAgICogLy8gPT4gWzMsIDMwLCAzMDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXBXaXRoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdW56aXAoYXJyYXkpO1xuICAgICAgaWYgKGl0ZXJhdGVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheU1hcChyZXN1bHQsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdW5kZWZpbmVkLCBncm91cCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgZ2l2ZW4gdmFsdWVzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzIsIDEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKi9cbiAgICB2YXIgd2l0aG91dCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgaXMgdGhlXG4gICAgICogW3N5bW1ldHJpYyBkaWZmZXJlbmNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZSlcbiAgICAgKiBvZiB0aGUgZ2l2ZW4gYXJyYXlzLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlclxuICAgICAqIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ud2l0aG91dFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICovXG4gICAgdmFyIHhvciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkXG4gICAgICogYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvckJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjIsIDMuNF1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ueG9yQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHhvckJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy54b3JXaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHhvcldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIHNlY29uZCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKi9cbiAgICB2YXIgemlwID0gYmFzZVJlc3QodW56aXApO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mcm9tUGFpcnNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgdHdvIGFycmF5cyxcbiAgICAgKiBvbmUgb2YgcHJvcGVydHkgaWRlbnRpZmllcnMgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydhJywgJ2InXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3QocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYXNzaWduVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwT2JqZWN0YCBleGNlcHQgdGhhdCBpdCBzdXBwb3J0cyBwcm9wZXJ0eSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3REZWVwKFsnYS5iWzBdLmMnLCAnYS5iWzFdLmQnXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IFt7ICdjJzogMSB9LCB7ICdkJzogMiB9XSB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3REZWVwKHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGJhc2VTZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyBncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBXaXRoKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0sIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBhICsgYiArIGM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzExMSwgMjIyXVxuICAgICAqL1xuICAgIHZhciB6aXBXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBpdGVyYXRlZSA9IGxlbmd0aCA+IDEgPyBhcnJheXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGl0ZXJhdGVlID0gdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyAoYXJyYXlzLnBvcCgpLCBpdGVyYXRlZSkgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdW56aXBXaXRoKGFycmF5cywgaXRlcmF0ZWUpO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCB3cmFwcyBgdmFsdWVgIHdpdGggZXhwbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuIFRoZSByZXN1bHQgb2Ygc3VjaCBzZXF1ZW5jZXMgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfXG4gICAgICogICAuY2hhaW4odXNlcnMpXG4gICAgICogICAuc29ydEJ5KCdhZ2UnKVxuICAgICAqICAgLm1hcChmdW5jdGlvbihvKSB7XG4gICAgICogICAgIHJldHVybiBvLnVzZXIgKyAnIGlzICcgKyBvLmFnZTtcbiAgICAgKiAgIH0pXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoKHZhbHVlKTtcbiAgICAgIHJlc3VsdC5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIGBpbnRlcmNlcHRvcmAgYW5kIHJldHVybnMgYHZhbHVlYC4gVGhlIGludGVyY2VwdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG9cbiAgICAgKiBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UgaW4gb3JkZXIgdG8gbW9kaWZ5IGludGVybWVkaWF0ZSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICogICAgLy8gTXV0YXRlIGlucHV0IGFycmF5LlxuICAgICAqICAgIGFycmF5LnBvcCgpO1xuICAgICAqICB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnRhcGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJwYXNzIHRocnVcIiB2YWx1ZXMgcmVwbGFjaW5nIGludGVybWVkaWF0ZVxuICAgICAqIHJlc3VsdHMgaW4gYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKCcgIGFiYyAgJylcbiAgICAgKiAgLmNoYWluKClcbiAgICAgKiAgLnRyaW0oKVxuICAgICAqICAudGhydShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgIHJldHVybiBbdmFsdWVdO1xuICAgICAqICB9KVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhydSh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJldHVybiBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5hdGAuXG4gICAgICpcbiAgICAgKiBAbmFtZSBhdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfKG9iamVjdCkuYXQoWydhWzBdLmIuYycsICdhWzFdJ10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIHdyYXBwZXJBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKHBhdGhzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHN0YXJ0ID0gbGVuZ3RoID8gcGF0aHNbMF0gOiAwLFxuICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKG9iamVjdCkgeyByZXR1cm4gYmFzZUF0KG9iamVjdCwgcGF0aHMpOyB9O1xuXG4gICAgICBpZiAobGVuZ3RoID4gMSB8fCB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCB8fFxuICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikgfHwgIWlzSW5kZXgoc3RhcnQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShzdGFydCwgK3N0YXJ0ICsgKGxlbmd0aCA/IDEgOiAwKSk7XG4gICAgICB2YWx1ZS5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAnYXJncyc6IFtpbnRlcmNlcHRvcl0sXG4gICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSwgdGhpcy5fX2NoYWluX18pLnRocnUoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgaWYgKGxlbmd0aCAmJiAhYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXkucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycykuaGVhZCgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKVxuICAgICAqICAgLmNoYWluKClcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC5waWNrKCd1c2VyJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgICAgcmV0dXJuIGNoYWluKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgd3JhcHBlZCByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjb21taXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDJdO1xuICAgICAqIHZhciB3cmFwcGVkID0gXyhhcnJheSkucHVzaCgzKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQgPSB3cmFwcGVkLmNvbW1pdCgpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubGFzdCgpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ29tbWl0KCkge1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHRoaXMudmFsdWUoKSwgdGhpcy5fX2NoYWluX18pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5leHQgdmFsdWUgb24gYSB3cmFwcGVkIG9iamVjdCBmb2xsb3dpbmcgdGhlXG4gICAgICogW2l0ZXJhdG9yIHByb3RvY29sXShodHRwczovL21kbi5pby9pdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBuYW1lIG5leHRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXh0IGl0ZXJhdG9yIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMSB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDIgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IHRydWUsICd2YWx1ZSc6IHVuZGVmaW5lZCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlck5leHQoKSB7XG4gICAgICBpZiAodGhpcy5fX3ZhbHVlc19fID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdG9BcnJheSh0aGlzLnZhbHVlKCkpO1xuICAgICAgfVxuICAgICAgdmFyIGRvbmUgPSB0aGlzLl9faW5kZXhfXyA+PSB0aGlzLl9fdmFsdWVzX18ubGVuZ3RoLFxuICAgICAgICAgIHZhbHVlID0gZG9uZSA/IHVuZGVmaW5lZCA6IHRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXTtcblxuICAgICAgcmV0dXJuIHsgJ2RvbmUnOiBkb25lLCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIHdyYXBwZXIgdG8gYmUgaXRlcmFibGUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBTeW1ib2wuaXRlcmF0b3JcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkW1N5bWJvbC5pdGVyYXRvcl0oKSA9PT0gd3JhcHBlZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBBcnJheS5mcm9tKHdyYXBwZWQpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb0l0ZXJhdG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBjaGFpbiBzZXF1ZW5jZSBwbGFudGluZyBgdmFsdWVgIGFzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgcGxhbnRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwbGFudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKS5tYXAoc3F1YXJlKTtcbiAgICAgKiB2YXIgb3RoZXIgPSB3cmFwcGVkLnBsYW50KFszLCA0XSk7XG4gICAgICpcbiAgICAgKiBvdGhlci52YWx1ZSgpO1xuICAgICAqIC8vID0+IFs5LCAxNl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUGxhbnQodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgcGFyZW50ID0gdGhpcztcblxuICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIGJhc2VMb2Rhc2gpIHtcbiAgICAgICAgdmFyIGNsb25lID0gd3JhcHBlckNsb25lKHBhcmVudCk7XG4gICAgICAgIGNsb25lLl9faW5kZXhfXyA9IDA7XG4gICAgICAgIGNsb25lLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IGNsb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGNsb25lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91cyA9IGNsb25lO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX193cmFwcGVkX187XG4gICAgICB9XG4gICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLnJldmVyc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgdGhlIHdyYXBwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8oYXJyYXkpLnJldmVyc2UoKS52YWx1ZSgpXG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclJldmVyc2UoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgdmFyIHdyYXBwZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoKSB7XG4gICAgICAgICAgd3JhcHBlZCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZC5yZXZlcnNlKCk7XG4gICAgICAgIHdyYXBwZWQuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAgICdhcmdzJzogW3JldmVyc2VdLFxuICAgICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlZCwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudGhydShyZXZlcnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyB0b0pTT04sIHZhbHVlT2ZcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclZhbHVlKCkge1xuICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUodGhpcy5fX3dyYXBwZWRfXywgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiAyLCAnNSc6IDEgfVxuICAgICAqL1xuICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICArK3Jlc3VsdFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBbZW1wdHkgY29sbGVjdGlvbnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VtcHR5X3NldCkgYmVjYXVzZVxuICAgICAqIFtldmVyeXRoaW5nIGlzIHRydWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhY3VvdXNfdHJ1dGgpIG9mXG4gICAgICogZWxlbWVudHMgb2YgZW1wdHkgY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUV2ZXJ5IDogYmFzZUV2ZXJ5O1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5yZW1vdmVgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5yZWplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBDb21iaW5pbmcgc2V2ZXJhbCBwcmVkaWNhdGVzIHVzaW5nIGBfLm92ZXJFdmVyeWAgb3IgYF8ub3ZlclNvbWVgLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLm92ZXJTb21lKFt7ICdhZ2UnOiAzNiB9LCBbJ2FnZScsIDQwXV0pKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogMzAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDMwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDMwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAgICAgLy8gYW5kIGVzY2FwZSB0aGUgY29tbWVudCwgdGh1cyBpbmplY3RpbmcgY29kZSB0aGF0IGdldHMgZXZhbGVkLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKVxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICd2YXJpYWJsZScpICYmIG9wdGlvbnMudmFyaWFibGU7XG4gICAgICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoIChvYmopIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gICAgICAvLyBwb3RlbnRpYWwgY29tbWFuZCBpbmplY3Rpb24gYXR0YWNrcy5cbiAgICAgIGVsc2UgaWYgKHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzLnRlc3QodmFyaWFibGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzLlxuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICAgICAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICAgICAodmFyaWFibGVcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAgICAgKGlzRXNjYXBpbmdcbiAgICAgICAgICAgPyAnLCBfX2UgPSBfLmVzY2FwZSdcbiAgICAgICAgICAgOiAnJ1xuICAgICAgICApICtcbiAgICAgICAgKGlzRXZhbHVhdGluZ1xuICAgICAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICAgICAgOiAnO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIHNvdXJjZSArXG4gICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cbiAgICAgIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcbiAgICAgICAgICAuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2Qgb3JcbiAgICAgIC8vIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvciBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgaWYgKGlzRXJyb3IocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byBsb3dlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9Mb3dlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvTG93ZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xvd2VyKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICctLWZvby1iYXItLSdcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb2JhcidcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnX19mb29fYmFyX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Mb3dlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byB1cHBlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9VcHBlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvVXBwZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1VwcGVyKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICctLUZPTy1CQVItLSdcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPT0JBUidcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnX19GT09fQkFSX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9VcHBlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbSgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLm1hcChbJyAgZm9vICAnLCAnICBiYXIgICddLCBfLnRyaW0pO1xuICAgICAqIC8vID0+IFsnZm9vJywgJ2JhciddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBiYXNlVHJpbShzdHJpbmcpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCBfLm1hdGNoZXMoeyAnYSc6IDQgfSldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0aGVcbiAgICAgKiB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QgdG8gYHNyY1ZhbHVlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGVcbiAgICAgKiBvYmplY3QgdmFsdWUgaXMgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0XG4gICAgICogYHNyY1ZhbHVlYCB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZVxuICAgICAqIGBfLmlzRXF1YWxgIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQob2JqZWN0cywgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KSk7XG4gICAgICogLy8gPT4geyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlc1Byb3BlcnR5KCdhJywgMSksIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIGJhc2VDbG9uZShzcmNWYWx1ZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDIpIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgxKSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKFsnYScsICdiJ10pKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tZXRob2RgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogdGhlIG1ldGhvZCBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gXy50aW1lcygzLCBfLmNvbnN0YW50KSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIHZhciBtZXRob2RPZiA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgZnVuY3Rpb24gcHJvcGVydGllcyBvZiBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LiBJZiBgb2JqZWN0YCBpcyBhIGZ1bmN0aW9uLCB0aGVuIG1ldGhvZHNcbiAgICAgKiBhcmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVzZSBgXy5ydW5JbkNvbnRleHRgIHRvIGNyZWF0ZSBhIHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHRvXG4gICAgICogYXZvaWQgY29uZmxpY3RzIGNhdXNlZCBieSBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgbWl4aW5zIGFyZSBjaGFpbmFibGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gdm93ZWxzKHN0cmluZykge1xuICAgICAqICAgcmV0dXJuIF8uZmlsdGVyKHN0cmluZywgZnVuY3Rpb24odikge1xuICAgICAqICAgICByZXR1cm4gL1thZWlvdV0vaS50ZXN0KHYpO1xuICAgICAqICAgfSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSk7XG4gICAgICogXy52b3dlbHMoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXygnZnJlZCcpLnZvd2VscygpLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0sIHsgJ2NoYWluJzogZmFsc2UgfSk7XG4gICAgICogXygnZnJlZCcpLnZvd2VscygpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKSxcbiAgICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBwcm9wcyk7XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgJiZcbiAgICAgICAgICAhKGlzT2JqZWN0KHNvdXJjZSkgJiYgKG1ldGhvZE5hbWVzLmxlbmd0aCB8fCAhcHJvcHMubGVuZ3RoKSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSB0aGlzO1xuICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluID0gIShpc09iamVjdChvcHRpb25zKSAmJiAnY2hhaW4nIGluIG9wdGlvbnMpIHx8ICEhb3B0aW9ucy5jaGFpbixcbiAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9iamVjdCk7XG5cbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IHNvdXJjZVttZXRob2ROYW1lXTtcbiAgICAgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgIG9iamVjdC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmplY3QodGhpcy5fX3dyYXBwZWRfXyksXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zID0gcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuXG4gICAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7ICdmdW5jJzogZnVuYywgJ2FyZ3MnOiBhcmd1bWVudHMsICd0aGlzQXJnJzogb2JqZWN0IH0pO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShvYmplY3QsIGFycmF5UHVzaChbdGhpcy52YWx1ZSgpXSwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0b1xuICAgICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBpZiAocm9vdC5fID09PSB0aGlzKSB7XG4gICAgICAgIHJvb3QuXyA9IG9sZERhc2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLm5vb3ApO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBhcmd1bWVudCBhdCBpbmRleCBgbmAuIElmIGBuYCBpcyBuZWdhdGl2ZSxcbiAgICAgKiB0aGUgbnRoIGFyZ3VtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhc3MtdGhydSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygxKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKC0yKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2MnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoQXJnKG4pIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICByZXR1cm4gYmFzZU50aChhcmdzLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGl0ZXJhdGVlc2Agd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzXG4gICAgICogYW5kIHJldHVybnMgdGhlaXIgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXIoW01hdGgubWF4LCBNYXRoLm1pbl0pO1xuICAgICAqXG4gICAgICogZnVuYygxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbNCwgMV1cbiAgICAgKi9cbiAgICB2YXIgb3ZlciA9IGNyZWF0ZU92ZXIoYXJyYXlNYXApO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYWxsKiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBtYXRjaGVzRnVuYyA9IF8ub3ZlclNvbWUoW3sgJ2EnOiAxIH0sIHsgJ2EnOiAyIH1dKVxuICAgICAqIHZhciBtYXRjaGVzUHJvcGVydHlGdW5jID0gXy5vdmVyU29tZShbWydhJywgMV0sIFsnYScsIDJdXSlcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiLyoqXHJcbiogdmtCZWF1dGlmeSAtIGphdmFzY3JpcHQgcGx1Z2luIHRvIHByZXR0eS1wcmludCBvciBtaW5pZnkgdGV4dCBpbiBYTUwsIEpTT04sIENTUyBhbmQgU1FMIGZvcm1hdHMuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTIgVmFkaW0gS2lyeXVraGluXHJcbiogdmtpcnl1a2hpbiBAIGdtYWlsLmNvbVxyXG4qIGh0dHA6Ly93d3cuZXNsaW5zdHJ1Y3Rvci5uZXQvdmtiZWF1dGlmeS9cclxuKlxyXG4qIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzOlxyXG4qICAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuKiAgIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbFxyXG4qXHJcbiogICBQcmV0dHkgcHJpbnRcclxuKlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnhtbCh0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5qc29uKHRleHQgWyxpbmRlbnRfcGF0dGVybl0pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzcyh0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWwodGV4dCBbLGluZGVudF9wYXR0ZXJuXSk7XHJcbipcclxuKiAgICAgICAgQHRleHQgLSBTdHJpbmc7IHRleHQgdG8gYmVhdHVmeTtcclxuKiAgICAgICAgQGluZGVudF9wYXR0ZXJuIC0gSW50ZWdlciB8IFN0cmluZztcclxuKiAgICAgICAgICAgICAgICBJbnRlZ2VyOiAgbnVtYmVyIG9mIHdoaXRlIHNwYWNlcztcclxuKiAgICAgICAgICAgICAgICBTdHJpbmc6ICAgY2hhcmFjdGVyIHN0cmluZyB0byB2aXN1YWxpemUgaW5kZW50YXRpb24gKCBjYW4gYWxzbyBiZSBhIHNldCBvZiB3aGl0ZSBzcGFjZXMgKVxyXG4qICAgTWluaWZ5XHJcbipcclxuKiAgICAgICAgdmtiZWF1dGlmeS54bWxtaW4odGV4dCBbLHByZXNlcnZlX2NvbW1lbnRzXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbm1pbih0ZXh0KTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5jc3NtaW4odGV4dCBbLHByZXNlcnZlX2NvbW1lbnRzXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuc3FsbWluKHRleHQpO1xyXG4qXHJcbiogICAgICAgIEB0ZXh0IC0gU3RyaW5nOyB0ZXh0IHRvIG1pbmlmeTtcclxuKiAgICAgICAgQHByZXNlcnZlX2NvbW1lbnRzIC0gQm9vbDsgW29wdGlvbmFsXTtcclxuKiAgICAgICAgICAgICAgICBTZXQgdGhpcyBmbGFnIHRvIHRydWUgdG8gcHJldmVudCByZW1vdmluZyBjb21tZW50cyBmcm9tIEB0ZXh0ICggbWlueG1sIGFuZCBtaW5jc3MgZnVuY3Rpb25zIG9ubHkuIClcclxuKlxyXG4qICAgRXhhbXBsZXM6XHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sKHRleHQpOyAvLyBwcmV0dHkgcHJpbnQgWE1MXHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbih0ZXh0LCA0ICk7IC8vIHByZXR0eSBwcmludCBKU09OXHJcbiogICAgICAgIHZrYmVhdXRpZnkuY3NzKHRleHQsICcuIC4gLiAuJyk7IC8vIHByZXR0eSBwcmludCBDU1NcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWwodGV4dCwgJy0tLS0nKTsgLy8gcHJldHR5IHByaW50IFNRTFxyXG4qXHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sbWluKHRleHQsIHRydWUpOy8vIG1pbmlmeSBYTUwsIHByZXNlcnZlIGNvbW1lbnRzXHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbm1pbih0ZXh0KTsvLyBtaW5pZnkgSlNPTlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzc21pbih0ZXh0KTsvLyBtaW5pZnkgQ1NTLCByZW1vdmUgY29tbWVudHMgKCBkZWZhdWx0IClcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWxtaW4odGV4dCk7Ly8gbWluaWZ5IFNRTFxyXG4qXHJcbiovXHJcbmZ1bmN0aW9uIGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIHtcclxuXHJcblx0dmFyIHNwYWNlID0gJyAgICAnO1xyXG5cclxuXHRpZiAoIGlzTmFOKHBhcnNlSW50KHN0ZXApKSApIHsgIC8vIGFyZ3VtZW50IGlzIHN0cmluZ1xyXG5cdFx0c3BhY2UgPSBzdGVwO1xyXG5cdH0gZWxzZSB7IC8vIGFyZ3VtZW50IGlzIGludGVnZXJcclxuXHRcdHN3aXRjaChzdGVwKSB7XHJcblx0XHRcdGNhc2UgMTogc3BhY2UgPSAnICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDI6IHNwYWNlID0gJyAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMzogc3BhY2UgPSAnICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNDogc3BhY2UgPSAnICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDU6IHNwYWNlID0gJyAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNjogc3BhY2UgPSAnICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNzogc3BhY2UgPSAnICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDg6IHNwYWNlID0gJyAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgOTogc3BhY2UgPSAnICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMTA6IHNwYWNlID0gJyAgICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxMTogc3BhY2UgPSAnICAgICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxMjogc3BhY2UgPSAnICAgICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2YXIgc2hpZnQgPSBbJ1xcbiddOyAvLyBhcnJheSBvZiBzaGlmdHNcclxuXHRmb3IodmFyIGl4PTA7aXg8MTAwO2l4KyspIHtcclxuXHRcdHNoaWZ0LnB1c2goc2hpZnRbaXhdK3NwYWNlKTtcclxuXHR9XHJcblx0cmV0dXJuIHNoaWZ0O1xyXG59XHJcblxyXG5mdW5jdGlvbiB2a2JlYXV0aWZ5KCl7XHJcblx0dGhpcy5zdGVwID0gJyAgICAnOyAvLyA0IHNwYWNlc1xyXG5cdHRoaXMuc2hpZnQgPSBjcmVhdGVTaGlmdEFycih0aGlzLnN0ZXApO1xyXG59O1xyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUueG1sID0gZnVuY3Rpb24odGV4dCxzdGVwKSB7XHJcblxyXG5cdHZhciBhciA9IHRleHQucmVwbGFjZSgvPlxcc3swLH08L2csXCI+PFwiKVxyXG5cdFx0XHRcdCAucmVwbGFjZSgvPC9nLFwifjo6fjxcIilcclxuXHRcdFx0XHQgLnJlcGxhY2UoL1xccyp4bWxuc1xcOi9nLFwifjo6fnhtbG5zOlwiKVxyXG5cdFx0XHRcdCAucmVwbGFjZSgvXFxzKnhtbG5zXFw9L2csXCJ+Ojp+eG1sbnM9XCIpXHJcblx0XHRcdFx0IC5zcGxpdCgnfjo6ficpLFxyXG5cdFx0bGVuID0gYXIubGVuZ3RoLFxyXG5cdFx0aW5Db21tZW50ID0gZmFsc2UsXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHN0ciA9ICcnLFxyXG5cdFx0aXggPSAwLFxyXG5cdFx0c2hpZnQgPSBzdGVwID8gY3JlYXRlU2hpZnRBcnIoc3RlcCkgOiB0aGlzLnNoaWZ0O1xyXG5cclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblx0XHRcdC8vIHN0YXJ0IGNvbW1lbnQgb3IgPCFbQ0RBVEFbLi4uXV0+IG9yIDwhRE9DVFlQRSAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88IS8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHRcdGluQ29tbWVudCA9IHRydWU7XHJcblx0XHRcdFx0Ly8gZW5kIGNvbW1lbnQgIG9yIDwhW0NEQVRBWy4uLl1dPiAvL1xyXG5cdFx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLy0tPi8pID4gLTEgfHwgYXJbaXhdLnNlYXJjaCgvXFxdPi8pID4gLTEgfHwgYXJbaXhdLnNlYXJjaCgvIURPQ1RZUEUvKSA+IC0xICkge1xyXG5cdFx0XHRcdFx0aW5Db21tZW50ID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gZW5kIGNvbW1lbnQgIG9yIDwhW0NEQVRBWy4uLl1dPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC8tLT4vKSA+IC0xIHx8IGFyW2l4XS5zZWFyY2goL1xcXT4vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IGFyW2l4XTtcclxuXHRcdFx0XHRpbkNvbW1lbnQgPSBmYWxzZTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDxlbG0+PC9lbG0+IC8vXHJcblx0XHRcdGlmKCAvXjxcXHcvLmV4ZWMoYXJbaXgtMV0pICYmIC9ePFxcL1xcdy8uZXhlYyhhcltpeF0pICYmXHJcblx0XHRcdFx0L148W1xcdzpcXC1cXC5cXCxdKy8uZXhlYyhhcltpeC0xXSkgPT0gL148XFwvW1xcdzpcXC1cXC5cXCxdKy8uZXhlYyhhcltpeF0pWzBdLnJlcGxhY2UoJy8nLCcnKSkge1xyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdFx0aWYoIWluQ29tbWVudCkgZGVlcC0tO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0IC8vIDxlbG0+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXHcvKSA+IC0xICYmIGFyW2l4XS5zZWFyY2goLzxcXC8vKSA9PSAtMSAmJiBhcltpeF0uc2VhcmNoKC9cXC8+LykgPT0gLTEgKSB7XHJcblx0XHRcdFx0c3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFtkZWVwKytdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQgLy8gPGVsbT4uLi48L2VsbT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcdy8pID4gLTEgJiYgYXJbaXhdLnNlYXJjaCgvPFxcLy8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8L2VsbT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcLy8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0Wy0tZGVlcF0rYXJbaXhdIDogc3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDxlbG0vPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC9cXC8+LykgPiAtMSApIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8PyB4bWwgLi4uID8+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXD8vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIHhtbG5zIC8vXHJcblx0XHRcdGlmKCBhcltpeF0uc2VhcmNoKC94bWxuc1xcOi8pID4gLTEgIHx8IGFyW2l4XS5zZWFyY2goL3htbG5zXFw9LykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0cmV0dXJuICAoc3RyWzBdID09ICdcXG4nKSA/IHN0ci5zbGljZSgxKSA6IHN0cjtcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuanNvbiA9IGZ1bmN0aW9uKHRleHQsc3RlcCkge1xyXG5cclxuXHR2YXIgc3RlcCA9IHN0ZXAgPyBzdGVwIDogdGhpcy5zdGVwO1xyXG5cclxuXHRpZiAodHlwZW9mIEpTT04gPT09ICd1bmRlZmluZWQnICkgcmV0dXJuIHRleHQ7XHJcblxyXG5cdGlmICggdHlwZW9mIHRleHQgPT09IFwic3RyaW5nXCIgKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZSh0ZXh0KSwgbnVsbCwgc3RlcCk7XHJcblx0aWYgKCB0eXBlb2YgdGV4dCA9PT0gXCJvYmplY3RcIiApIHJldHVybiBKU09OLnN0cmluZ2lmeSh0ZXh0LCBudWxsLCBzdGVwKTtcclxuXHJcblx0cmV0dXJuIHRleHQ7IC8vIHRleHQgaXMgbm90IHN0cmluZyBub3Igb2JqZWN0XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uKHRleHQsIHN0ZXApIHtcclxuXHJcblx0dmFyIGFyID0gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csJyAnKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXHsvZyxcInt+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcfS9nLFwifjo6fn1+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcOy9nLFwiO346On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFwvXFwqL2csXCJ+Ojp+LypcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFwqXFwvL2csXCIqL346On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvfjo6flxcc3swLH1+Ojp+L2csXCJ+Ojp+XCIpXHJcblx0XHRcdFx0LnNwbGl0KCd+Ojp+JyksXHJcblx0XHRsZW4gPSBhci5sZW5ndGgsXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHN0ciA9ICcnLFxyXG5cdFx0aXggPSAwLFxyXG5cdFx0c2hpZnQgPSBzdGVwID8gY3JlYXRlU2hpZnRBcnIoc3RlcCkgOiB0aGlzLnNoaWZ0O1xyXG5cclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblxyXG5cdFx0XHRpZiggL1xcey8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwKytdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdGlmKCAvXFx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0Wy0tZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0aWYoIC9cXCpcXFxcLy5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoL15cXG57MSx9LywnJyk7XHJcbn1cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZnVuY3Rpb24gaXNTdWJxdWVyeShzdHIsIHBhcmVudGhlc2lzTGV2ZWwpIHtcclxuXHRyZXR1cm4gIHBhcmVudGhlc2lzTGV2ZWwgLSAoc3RyLnJlcGxhY2UoL1xcKC9nLCcnKS5sZW5ndGggLSBzdHIucmVwbGFjZSgvXFwpL2csJycpLmxlbmd0aCApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNwbGl0X3NxbChzdHIsIHRhYikge1xyXG5cclxuXHRyZXR1cm4gc3RyLnJlcGxhY2UoL1xcc3sxLH0vZyxcIiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBTkQgL2lnLFwifjo6flwiK3RhYit0YWIrXCJBTkQgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBCRVRXRUVOIC9pZyxcIn46On5cIit0YWIrXCJCRVRXRUVOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQ0FTRSAvaWcsXCJ+Ojp+XCIrdGFiK1wiQ0FTRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEVMU0UgL2lnLFwifjo6flwiK3RhYitcIkVMU0UgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBFTkQgL2lnLFwifjo6flwiK3RhYitcIkVORCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEZST00gL2lnLFwifjo6fkZST00gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBHUk9VUFxcc3sxLH1CWS9pZyxcIn46On5HUk9VUCBCWSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEhBVklORyAvaWcsXCJ+Ojp+SEFWSU5HIFwiKVxyXG5cdFx0XHRcdC8vLnJlcGxhY2UoLyBTRVQgL2lnLFwiIFNFVH46On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIElOIC9pZyxcIiBJTiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBKT0lOIC9pZyxcIn46On5KT0lOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQ1JPU1N+Ojp+ezEsfUpPSU4gL2lnLFwifjo6fkNST1NTIEpPSU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBJTk5FUn46On57MSx9Sk9JTiAvaWcsXCJ+Ojp+SU5ORVIgSk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIExFRlR+Ojp+ezEsfUpPSU4gL2lnLFwifjo6fkxFRlQgSk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFJJR0hUfjo6fnsxLH1KT0lOIC9pZyxcIn46On5SSUdIVCBKT0lOIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIE9OIC9pZyxcIn46On5cIit0YWIrXCJPTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE9SIC9pZyxcIn46On5cIit0YWIrdGFiK1wiT1IgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBPUkRFUlxcc3sxLH1CWS9pZyxcIn46On5PUkRFUiBCWSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE9WRVIgL2lnLFwifjo6flwiK3RhYitcIk9WRVIgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXChcXHN7MCx9U0VMRUNUIC9pZyxcIn46On4oU0VMRUNUIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXClcXHN7MCx9U0VMRUNUIC9pZyxcIil+Ojp+U0VMRUNUIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIFRIRU4gL2lnLFwiIFRIRU5+Ojp+XCIrdGFiK1wiXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBVTklPTiAvaWcsXCJ+Ojp+VU5JT05+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBVU0lORyAvaWcsXCJ+Ojp+VVNJTkcgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBXSEVOIC9pZyxcIn46On5cIit0YWIrXCJXSEVOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gV0hFUkUgL2lnLFwifjo6fldIRVJFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gV0lUSCAvaWcsXCJ+Ojp+V0lUSCBcIilcclxuXHJcblx0XHRcdFx0Ly8ucmVwbGFjZSgvXFwsXFxzezAsfVxcKC9pZyxcIix+Ojp+KCBcIilcclxuXHRcdFx0XHQvLy5yZXBsYWNlKC9cXCwvaWcsXCIsfjo6flwiK3RhYit0YWIrXCJcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBTEwgL2lnLFwiIEFMTCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEFTIC9pZyxcIiBBUyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEFTQyAvaWcsXCIgQVNDIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gREVTQyAvaWcsXCIgREVTQyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIERJU1RJTkNUIC9pZyxcIiBESVNUSU5DVCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEVYSVNUUyAvaWcsXCIgRVhJU1RTIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTk9UIC9pZyxcIiBOT1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBOVUxMIC9pZyxcIiBOVUxMIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTElLRSAvaWcsXCIgTElLRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFxzezAsfVNFTEVDVCAvaWcsXCJTRUxFQ1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcc3swLH1VUERBVEUgL2lnLFwiVVBEQVRFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gU0VUIC9pZyxcIiBTRVQgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC9+Ojp+ezEsfS9nLFwifjo6flwiKVxyXG5cdFx0XHRcdC5zcGxpdCgnfjo6ficpO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5zcWwgPSBmdW5jdGlvbih0ZXh0LHN0ZXApIHtcclxuXHJcblx0dmFyIGFyX2J5X3F1b3RlID0gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csXCIgXCIpXHJcblx0XHRcdFx0XHRcdFx0LnJlcGxhY2UoL1xcJy9pZyxcIn46On5cXCdcIilcclxuXHRcdFx0XHRcdFx0XHQuc3BsaXQoJ346On4nKSxcclxuXHRcdGxlbiA9IGFyX2J5X3F1b3RlLmxlbmd0aCxcclxuXHRcdGFyID0gW10sXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHRhYiA9IHRoaXMuc3RlcCwvLyt0aGlzLnN0ZXAsXHJcblx0XHRpbkNvbW1lbnQgPSB0cnVlLFxyXG5cdFx0aW5RdW90ZSA9IGZhbHNlLFxyXG5cdFx0cGFyZW50aGVzaXNMZXZlbCA9IDAsXHJcblx0XHRzdHIgPSAnJyxcclxuXHRcdGl4ID0gMCxcclxuXHRcdHNoaWZ0ID0gc3RlcCA/IGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIDogdGhpcy5zaGlmdDs7XHJcblxyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHRcdFx0aWYoaXglMikge1xyXG5cdFx0XHRcdGFyID0gYXIuY29uY2F0KGFyX2J5X3F1b3RlW2l4XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YXIgPSBhci5jb25jYXQoc3BsaXRfc3FsKGFyX2J5X3F1b3RlW2l4XSwgdGFiKSApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0bGVuID0gYXIubGVuZ3RoO1xyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHJcblx0XHRcdHBhcmVudGhlc2lzTGV2ZWwgPSBpc1N1YnF1ZXJ5KGFyW2l4XSwgcGFyZW50aGVzaXNMZXZlbCk7XHJcblxyXG5cdFx0XHRpZiggL1xcc3swLH1cXHN7MCx9U0VMRUNUXFxzezAsfS8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdGFyW2l4XSA9IGFyW2l4XS5yZXBsYWNlKC9cXCwvZyxcIixcXG5cIit0YWIrdGFiK1wiXCIpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCAvXFxzezAsfVxcc3swLH1TRVRcXHN7MCx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0YXJbaXhdID0gYXJbaXhdLnJlcGxhY2UoL1xcLC9nLFwiLFxcblwiK3RhYit0YWIrXCJcIilcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIC9cXHN7MCx9XFwoXFxzezAsfVNFTEVDVFxcc3swLH0vLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRkZWVwKys7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdGlmKCAvXFwnLy5leGVjKGFyW2l4XSkgKSAge1xyXG5cdFx0XHRcdGlmKHBhcmVudGhlc2lzTGV2ZWw8MSAmJiBkZWVwKSB7XHJcblx0XHRcdFx0XHRkZWVwLS07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdFx0aWYocGFyZW50aGVzaXNMZXZlbDwxICYmIGRlZXApIHtcclxuXHRcdFx0XHRcdGRlZXAtLTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGp1bmsgPSAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN0ciA9IHN0ci5yZXBsYWNlKC9eXFxuezEsfS8sJycpLnJlcGxhY2UoL1xcbnsxLH0vZyxcIlxcblwiKTtcclxuXHRcdHJldHVybiBzdHI7XHJcbn1cclxuXHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS54bWxtaW4gPSBmdW5jdGlvbih0ZXh0LCBwcmVzZXJ2ZUNvbW1lbnRzKSB7XHJcblxyXG5cdHZhciBzdHIgPSBwcmVzZXJ2ZUNvbW1lbnRzID8gdGV4dFxyXG5cdFx0XHRcdFx0XHRcdCAgIDogdGV4dC5yZXBsYWNlKC9cXDwhWyBcXHJcXG5cXHRdKigtLShbXlxcLV18W1xcclxcbl18LVteXFwtXSkqLS1bIFxcclxcblxcdF0qKVxcPi9nLFwiXCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdCAucmVwbGFjZSgvWyBcXHJcXG5cXHRdezEsfXhtbG5zL2csICcgeG1sbnMnKTtcclxuXHRyZXR1cm4gIHN0ci5yZXBsYWNlKC8+XFxzezAsfTwvZyxcIj48XCIpO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5qc29ubWluID0gZnVuY3Rpb24odGV4dCkge1xyXG5cclxuXHRpZiAodHlwZW9mIEpTT04gPT09ICd1bmRlZmluZWQnICkgcmV0dXJuIHRleHQ7XHJcblxyXG5cdHJldHVybiBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHRleHQpLCBudWxsLCAwKTtcclxuXHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmNzc21pbiA9IGZ1bmN0aW9uKHRleHQsIHByZXNlcnZlQ29tbWVudHMpIHtcclxuXHJcblx0dmFyIHN0ciA9IHByZXNlcnZlQ29tbWVudHMgPyB0ZXh0XHJcblx0XHRcdFx0XHRcdFx0ICAgOiB0ZXh0LnJlcGxhY2UoL1xcL1xcKihbXipdfFtcXHJcXG5dfChcXCorKFteKi9dfFtcXHJcXG5dKSkpKlxcKitcXC8vZyxcIlwiKSA7XHJcblxyXG5cdHJldHVybiBzdHIucmVwbGFjZSgvXFxzezEsfS9nLCcgJylcclxuXHRcdFx0ICAucmVwbGFjZSgvXFx7XFxzezEsfS9nLFwie1wiKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXH1cXHN7MSx9L2csXCJ9XCIpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xcO1xcc3sxLH0vZyxcIjtcIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFwvXFwqXFxzezEsfS9nLFwiLypcIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFwqXFwvXFxzezEsfS9nLFwiKi9cIik7XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLnNxbG1pbiA9IGZ1bmN0aW9uKHRleHQpIHtcclxuXHRyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csXCIgXCIpLnJlcGxhY2UoL1xcc3sxLH1cXCgvLFwiKFwiKS5yZXBsYWNlKC9cXHN7MSx9XFwpLyxcIilcIik7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IHZrYmVhdXRpZnkoKTtcclxuIiwiZXhwb3J0IGNvbnN0IHVwbG9hZEFyZWFIVE1MID0gXG4gIGA8ZGl2IGlkPVwiZG9jdW1lbnQtdXBsb2FkLWNvbnRhaW5lclwiPlxuXG4gICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX2FyZWFcIj5cbiAgICAgICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX21lc3NhZ2VcIj5VcGxvYWQgRmlsZXM8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIFxuICAgIDxkaXYgaWQ9XCJ1cGxvYWRpbmdfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9jb250YWluZXJcIiBpZD1cInVucGFpcmVkX2NvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLWNvbnRhaW5lci10aXRsZVwiPlVucGFpcmVkIERvY3VtZW50czwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJmaWxlc19jb250YWluZXJcIj5cblxuICAgICAgICAgIDxkaXYgaWQ9XCJtZWlfY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+TUVJPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9zb3J0X25hbWVcIj5cbiAgICAgICAgICAgICAgPGRpdj5OYW1lPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzb3J0X25hbWUgYXJyb3dfYnRuXCI+JiN4MjJDMDs8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfbGlzdFwiIGlkPVwibWVpX2xpc3RcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVucGFpcmVkX2l0ZW1fY29udGFpbmVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYmFja2dyb3VuZDogI0RBRUFGMTsgYm9yZGVyLXJhZGl1czogNXB4O1wiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInVucGFpcmVkX2l0ZW1fbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBjbGFzcz1cInVucGFpcmVkX2l0ZW1fcmFkaW9cIiBuYW1lPVwibWVpX3JhZGlvX2dyb3VwXCIgdmFsdWU9XCJjcmVhdGVfbWVpXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwibWFyZ2luLXRvcDogYXV0bzttYXJnaW4tbGVmdDogM3B4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBuZXcgTUVJIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGlkPVwiaW1hZ2VfY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+SW1hZ2VzPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9zb3J0X25hbWVcIj5cbiAgICAgICAgICAgICAgPGRpdj5OYW1lPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzb3J0X25hbWUgYXJyb3dfYnRuXCI+JiN4MjJDMDs8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfbGlzdFwiIGlkPVwiaW1hZ2VfbGlzdFwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJnZW5lcmF0ZS1wYWlyLWJ1dHRvbi1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uX2J1dHRvblwiIGlkPVwibWFrZV9wYWlyXCI+TWFrZSBQYWlyPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2NvbnRhaW5lclwiIGlkPVwicGFpcmVkX2NvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLWNvbnRhaW5lci10aXRsZVwiPlBhaXJlZCBGb2xpb3M8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfc29ydF9uYW1lXCI+XG4gICAgICAgICAgPGRpdj5OYW1lPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNvcnRfbmFtZSBhcnJvd19idG5cIj4mI3gyMkMwOzwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvbGlvX2xpc3RcIiBpZD1cInBhaXJlZF9saXN0XCI+PC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cInVwbG9hZF9idXR0b25fY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbl9idXR0b25cIiBpZD1cInVwbG9hZF9idXR0b25cIj5cbiAgICAgICAgICAgIFVwbG9hZFxuICAgICAgICAgICAgPGRpdiBpZD1cInVwbG9hZGluZ19zcGlubmVyXCI+4oa7PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLVxuICAgICAgPGRpdiBjbGFzcz1cImZpbGVfY29udGFpbmVyXCIgaWQ9XCJtYW51c2NyaXB0c19jb250YWluZXJcIj5cbiAgICAgICAgPGgyIGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+TWFudXNjcmlwdHM8L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9saW9fbGlzdFwiIGlkPVwibWFudXNjcmlwdF9saXN0XCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIC0tPlxuXG4gICAgPC9kaXY+XG4gIDwvZGl2PmA7XG5cbmV4cG9ydCBjb25zdCBuZXdGb2xkZXJIVE1MID0gYFxuICAgIDxkaXYgaWQ9XCJyZW5hbWVfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGlkPVwiZGFzaGJvYXJkX2lucHV0X2NvbnRhaW5lclwiPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGlkPVwicmVuYW1lX2J1dHRvbnNfY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjYW5jZWxfZGFzaGJvYXJkXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjb25maXJtX2Rhc2hib2FyZFwiPkNyZWF0ZTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG5cbmV4cG9ydCBjb25zdCByZW5hbWVIVE1MID0gYFxuICAgIDxkaXYgaWQ9XCJyZW5hbWVfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGlkPVwiZGFzaGJvYXJkX2lucHV0X2NvbnRhaW5lclwiPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGlkPVwicmVuYW1lX2J1dHRvbnNfY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjYW5jZWxfZGFzaGJvYXJkXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjb25maXJtX2Rhc2hib2FyZFwiPkNvbmZpcm08L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgOyIsIi8qKiBAbW9kdWxlIFdhcm5pbmdzICovXG5cbi8qKlxuICogV2FybiB3aGVuIGdyb3VwZWQgbmV1bWUgY29tcG9uZW50cyBmb3JtIGFuIHVucmVjb2duaXplZCBuZXVtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwaW5nTm90UmVjb2duaXplZCAoKTogdm9pZCB7XG4gIGlmICghKHdpbmRvdy5jb25maXJtKCdOZW9uIGRvZXMgbm90IHJlY29nbml6ZSB0aGlzIG5ldW1lIGdyb3VwaW5nLiBXb3VsZCB5b3UgbGlrZSB0byBjcmVhdGUgYSBjb21wb3VuZCBuZXVtZT8nKSkpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kbycpLmNsaWNrKCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IFNwbGl0QWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgc2VsZWN0QWxsIH0gZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4uL3V0aWxzL0RyYWdIYW5kbGVyJztcbmltcG9ydCB7IGdldFNWR1JlbENvb3JkcyB9IGZyb20gJy4uL3V0aWxzL0Nvb3JkaW5hdGVzJztcblxuLyoqIEhhbmRsZSBzcGxpdHRpbmcgYSBzdGFmZiBpbnRvIHR3byBzdGF2ZXMgdGhyb3VnaCBWZXJvdmlvLiAqL1xuZXhwb3J0IGNsYXNzIFNwbGl0U3RhZmZIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICByZWFkb25seSBzdGFmZjogU1ZHR0VsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBzdGFmZiAtIFRoZSBzdGFmZiB0aGF0IHdpbGwgYmUgbW9kaWZpZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBzdGFmZjogU1ZHR0VsZW1lbnQpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5zdGFmZiA9IHN0YWZmO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcnN0IHBhcnQgb2YgdGhlIHNwbGl0IGFjdGlvbi5cbiAgICovXG4gIHN0YXJ0U3BsaXQgKCk6IHZvaWQge1xuICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG5cbiAgICAvLyBIYW5kbGUga2V5cHJlc3Nlc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuXG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGljayBXaGVyZSB0byBTcGxpdCcpO1xuICB9XG5cbiAgc3BsaXREaXNhYmxlICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gIH1cblxuICAvKiogSGFuZGxlIGlucHV0IHRvIHNwbGl0IGEgc3RhZmYuICovXG4gIGhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIC8vIEZpbmQgc3RhZmYgcG9pbnQgY29ycmVzcG9uZHMgdG8gaWYgb25lIGV4aXN0c1xuICAgIC8vIFRPRE9cbiAgICBjb25zdCBpZCA9IHRoaXMuc3RhZmYuaWQ7XG4gICAgY29uc3QgY3Vyc29yID0gZ2V0U1ZHUmVsQ29vcmRzKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTcGxpdEFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ3NwbGl0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgIHg6IGN1cnNvci54XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBzdWNjZXNzZnVsJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcuc3RhZmYnKTtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lkfWApXSwgdGhpcy5uZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICAgICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0cyBzcGxpdCBvbiBFc2NhcGUgcHJlc3MsIGRpc2FibGVzIG9uIFNoaWZ0LiAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXQgc3BsaXQgaWYgdXNlciBjbGlja3Mgb2ZmIG9mIGFjdGl2ZSBwYWdlLiAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmFjdGl2ZS1wYWdlJykgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBDYWxsZWQgdG8gcmVhcHBseSB0aGUgZXZlbnQgbGlzdGVuZXIgaWYgbmVjZXNzYXJ5LiAqL1xuICByZXNldEhhbmRsZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xufVxuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXROZXVtZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqIEhhbmRsZSBzcGxpdHRpbmcgYSBuZXVtZSBpbnRvIHR3byBuZXVtZXMgdGhyb3VnaCBWZXJvdmlvLiAqL1xuZXhwb3J0IGNsYXNzIFNwbGl0TmV1bWVIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICByZWFkb25seSBuZXVtZTogU1ZHR0VsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBuZXVtZSAtIFRoZSBuZXVtZSB0aGF0IHdpbGwgYmUgbW9kaWZpZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBuZXVtZTogU1ZHR0VsZW1lbnQpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5uZXVtZSA9IG5ldW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcnN0IHBhcnQgb2YgdGhlIHNwbGl0IGFjdGlvbi5cbiAgICovXG4gIHN0YXJ0U3BsaXQgKCk6IHZvaWQge1xuICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG5cbiAgICAvLyBIYW5kbGUga2V5cHJlc3Nlc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuXG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGljayBUaGUgQmVnaW5uaW5nIG9mIFRoZSBTZWNvbmQgTmV1bWUnKTtcbiAgfVxuXG4gIHNwbGl0RGlzYWJsZSAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICB9XG5cbiAgLyoqIEhhbmRsZSBpbnB1dCB0byBzcGxpdCBhIG5ldW1lLiAqL1xuICBoYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCBpZCA9IHRoaXMubmV1bWUuaWQ7XG5cbiAgICAvLyB1bnNlbGVjdCgpO1xuICAgIFxuICAgIGNvbnN0IG5jID0gKGV2dC50YXJnZXQgYXMgU1ZHR0VsZW1lbnQpLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgbmNJZCA9IG5jLmlkO1xuXG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTcGxpdE5ldW1lQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnc3BsaXROZXVtZScsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICBuY0lkOiBuY0lkXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBzdWNjZXNzZnVsJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gXG4gICAgICBlbHNlIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBmYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIC8vIHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIC8vIGNvbnN0IGRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcubmV1bWUnKTtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICAvLyBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgaWQpIGFzIFNWR0dFbGVtZW50XSwgdGhpcy5uZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgLy8gdHJ5IHtcbiAgICAgIC8vICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICAvLyAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuICAgICAgLy8gfSBjYXRjaCAoZSkge31cbiAgICB9KTtcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdHMgc3BsaXQgb24gRXNjYXBlIHByZXNzLCBkaXNhYmxlcyBvbiBTaGlmdC4gKi9cbiAga2V5ZG93bkxpc3RlbmVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0IHNwbGl0IGlmIHVzZXIgY2xpY2tzIG9mZiBvZiBhY3RpdmUgcGFnZS4gKi9cbiAgY2xpY2thd2F5SGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5hY3RpdmUtcGFnZScpID09PSBudWxsKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogQ2FsbGVkIHRvIHJlYXBwbHkgdGhlIGV2ZW50IGxpc3RlbmVyIGlmIG5lY2Vzc2FyeS4gKi9cbiAgcmVzZXRIYW5kbGVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHR5cGVvZiBnbG9iYWwucXVldWVNaWNyb3Rhc2sgPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGdsb2JhbC5xdWV1ZU1pY3JvdGFzayhmdW5jKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vL2Jhc2VkIG9mZiByc3ZwIGh0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanNcbi8vbGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcbi8vaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qcy9ibG9iL21hc3Rlci9saWIvcnN2cC9hc2FwLmpzXG5cbnZhciBNdXRhdGlvbiA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBNdXRhdGlvbjtcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgdmFyIGNhbGxlZCA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbihoYW5kbGUpO1xuICB2YXIgZWxlbWVudCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwge1xuICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgfSk7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZWxlbWVudC5kYXRhID0gKGNhbGxlZCA9ICsrY2FsbGVkICUgMik7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgIC8vIHdlIGNhbiBvbmx5IGdldCBoZXJlIGluIElFMTBcbiAgICAvLyB3aGljaCBkb2Vzbid0IGhhbmRlbCBwb3N0TWVzc2FnZSB3ZWxsXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0eXBlb2YgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCgpO1xuICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmM7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAnZG9jdW1lbnQnIGluIGdsb2JhbCAmJiAnb25yZWFkeXN0YXRlY2hhbmdlJyBpbiBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgIHZhciBzY3JpcHRFbCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBoYW5kbGUoKTtcblxuICAgICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgIHNjcmlwdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0RWwpO1xuICAgICAgc2NyaXB0RWwgPSBudWxsO1xuICAgIH07XG4gICAgZ2xvYmFsLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzY3JpcHRFbCk7XG5cbiAgICByZXR1cm4gaGFuZGxlO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KHQsIDApO1xuICB9O1xufTsiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgdXJpbGliID0gcmVxdWlyZSgndXJsJyk7XG52YXIgaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG5tb2R1bGUuZXhwb3J0cy5TY2hlbWFTY2FuUmVzdWx0ID0gU2NoZW1hU2NhblJlc3VsdDtcbmZ1bmN0aW9uIFNjaGVtYVNjYW5SZXN1bHQoZm91bmQsIHJlZil7XG4gIHRoaXMuaWQgPSBmb3VuZDtcbiAgdGhpcy5yZWYgPSByZWY7XG59XG5cbi8qKlxuICogQWRkcyBhIHNjaGVtYSB3aXRoIGEgY2VydGFpbiB1cm4gdG8gdGhlIFZhbGlkYXRvciBpbnN0YW5jZS5cbiAqIEBwYXJhbSBzdHJpbmcgdXJpXG4gKiBAcGFyYW0gb2JqZWN0IHNjaGVtYVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5tb2R1bGUuZXhwb3J0cy5zY2FuID0gZnVuY3Rpb24gc2NhbihiYXNlLCBzY2hlbWEpe1xuICBmdW5jdGlvbiBzY2FuU2NoZW1hKGJhc2V1cmksIHNjaGVtYSl7XG4gICAgaWYoIXNjaGVtYSB8fCB0eXBlb2Ygc2NoZW1hIT0nb2JqZWN0JykgcmV0dXJuO1xuICAgIC8vIE1hcmsgYWxsIHJlZmVyZW5jZWQgc2NoZW1hcyBzbyB3ZSBjYW4gdGVsbCBsYXRlciB3aGljaCBzY2hlbWFzIGFyZSByZWZlcnJlZCB0bywgYnV0IG5ldmVyIGRlZmluZWRcbiAgICBpZihzY2hlbWEuJHJlZil7XG4gICAgICB2YXIgcmVzb2x2ZWRVcmkgPSB1cmlsaWIucmVzb2x2ZShiYXNldXJpLCBzY2hlbWEuJHJlZik7XG4gICAgICByZWZbcmVzb2x2ZWRVcmldID0gcmVmW3Jlc29sdmVkVXJpXSA/IHJlZltyZXNvbHZlZFVyaV0rMSA6IDA7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpZCA9IHNjaGVtYS4kaWQgfHwgc2NoZW1hLmlkO1xuICAgIHZhciBvdXJCYXNlID0gaWQgPyB1cmlsaWIucmVzb2x2ZShiYXNldXJpLCBpZCkgOiBiYXNldXJpO1xuICAgIGlmIChvdXJCYXNlKSB7XG4gICAgICAvLyBJZiB0aGVyZSdzIG5vIGZyYWdtZW50LCBhcHBlbmQgYW4gZW1wdHkgb25lXG4gICAgICBpZihvdXJCYXNlLmluZGV4T2YoJyMnKTwwKSBvdXJCYXNlICs9ICcjJztcbiAgICAgIGlmKGZvdW5kW291ckJhc2VdKXtcbiAgICAgICAgaWYoIWhlbHBlcnMuZGVlcENvbXBhcmVTdHJpY3QoZm91bmRbb3VyQmFzZV0sIHNjaGVtYSkpe1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2NoZW1hIDwnK291ckJhc2UrJz4gYWxyZWFkeSBleGlzdHMgd2l0aCBkaWZmZXJlbnQgZGVmaW5pdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3VuZFtvdXJCYXNlXTtcbiAgICAgIH1cbiAgICAgIGZvdW5kW291ckJhc2VdID0gc2NoZW1hO1xuICAgICAgLy8gc3RyaXAgdHJhaWxpbmcgZnJhZ21lbnRcbiAgICAgIGlmKG91ckJhc2Vbb3VyQmFzZS5sZW5ndGgtMV09PScjJyl7XG4gICAgICAgIGZvdW5kW291ckJhc2Uuc3Vic3RyaW5nKDAsIG91ckJhc2UubGVuZ3RoLTEpXSA9IHNjaGVtYTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9pdGVtcycsIChBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcyk/c2NoZW1hLml0ZW1zOltzY2hlbWEuaXRlbXNdKSk7XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9leHRlbmRzJywgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmV4dGVuZHMpP3NjaGVtYS5leHRlbmRzOltzY2hlbWEuZXh0ZW5kc10pKTtcbiAgICBzY2FuU2NoZW1hKG91ckJhc2UrJy9hZGRpdGlvbmFsSXRlbXMnLCBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zKTtcbiAgICBzY2FuT2JqZWN0KG91ckJhc2UrJy9wcm9wZXJ0aWVzJywgc2NoZW1hLnByb3BlcnRpZXMpO1xuICAgIHNjYW5TY2hlbWEob3VyQmFzZSsnL2FkZGl0aW9uYWxQcm9wZXJ0aWVzJywgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKTtcbiAgICBzY2FuT2JqZWN0KG91ckJhc2UrJy9kZWZpbml0aW9ucycsIHNjaGVtYS5kZWZpbml0aW9ucyk7XG4gICAgc2Nhbk9iamVjdChvdXJCYXNlKycvcGF0dGVyblByb3BlcnRpZXMnLCBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpO1xuICAgIHNjYW5PYmplY3Qob3VyQmFzZSsnL2RlcGVuZGVuY2llcycsIHNjaGVtYS5kZXBlbmRlbmNpZXMpO1xuICAgIHNjYW5BcnJheShvdXJCYXNlKycvZGlzYWxsb3cnLCBzY2hlbWEuZGlzYWxsb3cpO1xuICAgIHNjYW5BcnJheShvdXJCYXNlKycvYWxsT2YnLCBzY2hlbWEuYWxsT2YpO1xuICAgIHNjYW5BcnJheShvdXJCYXNlKycvYW55T2YnLCBzY2hlbWEuYW55T2YpO1xuICAgIHNjYW5BcnJheShvdXJCYXNlKycvb25lT2YnLCBzY2hlbWEub25lT2YpO1xuICAgIHNjYW5TY2hlbWEob3VyQmFzZSsnL25vdCcsIHNjaGVtYS5ub3QpO1xuICB9XG4gIGZ1bmN0aW9uIHNjYW5BcnJheShiYXNldXJpLCBzY2hlbWFzKXtcbiAgICBpZighQXJyYXkuaXNBcnJheShzY2hlbWFzKSkgcmV0dXJuO1xuICAgIGZvcih2YXIgaT0wOyBpPHNjaGVtYXMubGVuZ3RoOyBpKyspe1xuICAgICAgc2NhblNjaGVtYShiYXNldXJpKycvJytpLCBzY2hlbWFzW2ldKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc2Nhbk9iamVjdChiYXNldXJpLCBzY2hlbWFzKXtcbiAgICBpZighc2NoZW1hcyB8fCB0eXBlb2Ygc2NoZW1hcyE9J29iamVjdCcpIHJldHVybjtcbiAgICBmb3IodmFyIHAgaW4gc2NoZW1hcyl7XG4gICAgICBzY2FuU2NoZW1hKGJhc2V1cmkrJy8nK3AsIHNjaGVtYXNbcF0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmb3VuZCA9IHt9O1xuICB2YXIgcmVmID0ge307XG4gIHNjYW5TY2hlbWEoYmFzZSwgc2NoZW1hKTtcbiAgcmV0dXJuIG5ldyBTY2hlbWFTY2FuUmVzdWx0KGZvdW5kLCByZWYpO1xufTtcbiIsIi8qKiBAbW9kdWxlIHV0aWxzL1NlbGVjdCAqL1xuXG5pbXBvcnQgeyB1bnNlbGVjdCwgZ2V0U3RhZmZCQm94LCBzZWxlY3RTdGFmZiwgc2VsZWN0QWxsLCBnZXRTZWxlY3Rpb25UeXBlIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5pbXBvcnQgeyByZXNpemUgfSBmcm9tICcuL1Jlc2l6ZSc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgSW5mb0ludGVyZmFjZSB9IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0IFpvb21IYW5kbGVyIGZyb20gJy4uL1NpbmdsZVZpZXcvWm9vbSc7XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEJCb3gsIGdldFN0YWZmQnlDb29yZHMsIFBvaW50IH0gZnJvbSAnLi9Db29yZGluYXRlcyc7XG5cbmxldCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsIG5lb25WaWV3OiBOZW9uVmlldywgaW5mbzogSW5mb0ludGVyZmFjZSwgem9vbUhhbmRsZXI6IFpvb21IYW5kbGVyO1xubGV0IHN0cm9rZVdpZHRoID0gNztcblxuLyoqXG4gKiBTZXQgc3Ryb2tlIHdpZHRoIG9uIGRyYWcgc2VsZWN0IGJveC5cbiAqIEBwYXJhbSB3aWR0aCAtIFN0cm9rZSB3aWR0aCBpbiBwaXhlbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZWxlY3RTdHJva2VXaWR0aCAod2lkdGg6IG51bWJlcik6IHZvaWQge1xuICBzdHJva2VXaWR0aCA9IHdpZHRoO1xufVxuXG4vKipcbiAqIFNldCB0aGUgb2JqZWN0cyBmb3IgdGhpcyBtb2R1bGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZWxlY3RIZWxwZXJPYmplY3RzIChudjogTmVvblZpZXcsIGRoOiBEcmFnSGFuZGxlcik6IHZvaWQge1xuICBkcmFnSGFuZGxlciA9IGRoO1xuICBuZW9uVmlldyA9IG52O1xuICBpbmZvID0gbmVvblZpZXcuaW5mbztcbiAgem9vbUhhbmRsZXIgPSBuZW9uVmlldy52aWV3Lnpvb21IYW5kbGVyO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVLZXlMaXN0ZW5lciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgIGluZm8uaW5mb0xpc3RlbmVycygpO1xuICAgIH1cbiAgICB1bnNlbGVjdCgpO1xuICB9XG59XG5cbi8vIEVOVEVSIEtFWTogd2hlbiBhIEJCb3ggaXMgc2VsZWN0ZWQsIHByZXNzaW5nIGVudGVyIHdpbGxcbi8vICAgdHJpZ2dlciB0aGUgZWRpdCBzeWxsYWJsZSB0ZXh0IGZ1bmN0aW9uLlxuZnVuY3Rpb24gZW50ZXJLZXlMaXN0ZW5lciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIC8vIGNoZWNrIGlmICdlbnRlcicgaXMgcHJlc3NlZCB3aXRoIHRoZSBjb3JyZWN0IGNvbmRpdGlvbnNcbiAgaWYgKGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5QkJveCdcbiAgICB8fCAhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWRcbiAgICB8fCBldnQua2V5ICE9PSAnRW50ZXInXG4gIClcbiAgICByZXR1cm47XG5cbiAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKTtcblxuICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIHN5bGxhYmxlIHNlbGVjdGVkXG4gIGlmIChzZWxlY3RlZCkge1xuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuLicgKyBzZWxlY3RlZC5pZCkgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAvLyB3ZSBzaW11bGF0ZSBhIGNsaWNrIGJlY2F1c2UgdGhlIG1ldGhvZCBgdXBkYXRlU3lsVGV4dCgpYCBpcyBvbmx5XG4gICAgLy8gYWNjZXNzaWJsZSBpbnNpZGUgVGV4dEVkaXRNb2RlOyB0aGUgc3BhbiBoYXMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yXG4gICAgLy8gY2xpY2tzLlxuICAgIHNwYW4uY2xpY2soKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJvd0tleUxpc3RlbmVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgaWYgKGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5QkJveCcgfHwgKGV2dC5rZXkgIT09ICdBcnJvd0xlZnQnICYmIGV2dC5rZXkgIT09ICdBcnJvd1JpZ2h0JyAmJiBldnQua2V5ICE9PSAnVGFiJyAmJiBldnQuc2hpZnRLZXkpKVxuICAgIHJldHVybjtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vIHByZXZlbnQgZGVmYXVsdCBmb3IgdGFiIGtleVxuICBcbiAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKTtcbiAgY29uc3Qgc3lsbGFibGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUnKSk7XG5cbiAgLy8gbm90IGFsbCBzeWxsYWJsZXMgaGF2ZSBCQm94ZXM7IHdlIG11c3QgZmlsdGVyIHRoZW0gb3V0XG4gIGNvbnN0IGJib3hTeWxsYWJsZXMgPSBzeWxsYWJsZXMuZmlsdGVyKHN5bCA9PiBzeWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSAhPT0gbnVsbCk7XG4gIGNvbnN0IGluZCA9IGJib3hTeWxsYWJsZXMuaW5kZXhPZihzZWxlY3RlZCk7XG5cbiAgaWYgKChldnQua2V5ID09PSAnQXJyb3dMZWZ0JyB8fCAoZXZ0LmtleSA9PT0gJ1RhYicgJiYgZXZ0LnNoaWZ0S2V5KSkgJiYgaW5kID4gMCkge1xuICAgIHVuc2VsZWN0KCk7XG5cbiAgICBjb25zdCBiYm94ID0gYmJveFN5bGxhYmxlc1tpbmQgLSAxXS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIHNlbGVjdEFsbChbYmJveCBhcyBTVkdHcmFwaGljc0VsZW1lbnRdLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICB9IGVsc2UgaWYgKChldnQua2V5ID09PSAnQXJyb3dSaWdodCcgfHwgKGV2dC5rZXkgPT09ICdUYWInICYmICFldnQuc2hpZnRLZXkpKSAmJiBpbmQgPCBiYm94U3lsbGFibGVzLmxlbmd0aCAtIDEpIHtcbiAgICB1bnNlbGVjdCgpO1xuXG4gICAgY29uc3QgYmJveCA9IGJib3hTeWxsYWJsZXNbaW5kICsgMV0ucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBzZWxlY3RBbGwoW2Jib3ggYXMgU1ZHR3JhcGhpY3NFbGVtZW50XSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgfVxuICBcbiAgLy8gQXV0byBzY3JvbGwgdG8gaGlnaGxpZ2h0ZWQgdGV4dFxuICBjb25zdCBzZWxlY3RlZFN5bFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGV4dC1zZWxlY3QnKTtcbiAgaWYgKHNlbGVjdGVkU3lsVGV4dCkge1xuICAgIHNlbGVjdGVkU3lsVGV4dC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1NlbEJ5QkJveCAoKTogYm9vbGVhbiB7XG4gIGNvbnN0IHNlbEJ5QkJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKTtcbiAgaWYgKHNlbEJ5QkJveCkge1xuICAgIHJldHVybiBzZWxCeUJCb3guY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHN0b3BQcm9wSGFuZGxlciAoZXZ0OiBFdmVudCk6IHZvaWQgeyBldnQuc3RvcFByb3BhZ2F0aW9uKCk7IH1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgYm94IG9mIGFuIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0QkJveENvb3JkcyAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCk6IEJCb3gge1xuICBpZiAoaXNTZWxCeUJCb3goKSkge1xuICAgIGNvbnN0IHVseCA9IE51bWJlcihlbC5nZXRBdHRyaWJ1dGUoJ3gnKSksIHVseSA9IE51bWJlcihlbC5nZXRBdHRyaWJ1dGUoJ3knKSk7XG4gICAgLy8gV2hhdCBpcyB0aGUgbWF0aCBoZXJlPz8/XG4gICAgY29uc3QgbHJ4ID0gdWx4ICsgTnVtYmVyKChlbC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykuc2xpY2UoMCwgLTIpKSk7XG4gICAgY29uc3QgbHJ5ID0gdWx5ICsgTnVtYmVyKChlbC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLnNsaWNlKDAsIC0yKSkpO1xuXG4gICAgcmV0dXJuIHsgdWx4LCB1bHksIGxyeCwgbHJ5IH07XG4gIH1cblxuICBpZiAoZWwudGFnTmFtZSA9PT0gJ3VzZScpIHtcbiAgICBjb25zdCByZWN0ID0gKGVsLnBhcmVudE5vZGUgYXMgU1ZHR0VsZW1lbnQpLmdldEJCb3goKTtcblxuICAgIHJldHVybiB7XG4gICAgICB1bHg6IHJlY3QueCxcbiAgICAgIHVseTogcmVjdC55LFxuICAgICAgbHJ4OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgICAgbHJ5OiByZWN0LnkgKyByZWN0LmhlaWdodFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gZ2V0U3RhZmZCQm94KGVsKTtcbn1cblxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGFuIGVsZW1lbnQgaXMgd2l0aGluIHRoZSBkcmFnIHNlbGVjdGlvbiByZWN0YW5nbGUuXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGVsZW1lbnQgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgYHVsYCAodXBwZXIgbGVmdCkgYW5kIGBscmAgKGxvd2VyIHJpZ2h0KVxuICovXG5mdW5jdGlvbiBpc0VsZW1lbnRJblJlY3QoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgdWw6IFBvaW50LCBscjogUG9pbnQpOiBib29sZWFuIHtcbiAgaWYgKGlzU2VsQnlCQm94KCkgfHwgZWwudGFnTmFtZSA9PT0gJ3VzZScpIHtcbiAgICBjb25zdCBiYm94ID0gZ2V0QkJveENvb3JkcyhlbCk7XG4gICAgXG4gICAgLy8gV2Ugd2FudCB0byBmaW5kIHdoZXRoZXIgdGhlIGJvdW5kaW5nIGJveCBvdmVybGFwcyB3aXRoIHRoZSByZWN0YW5nbGVcbiAgICAvLyBkZWZpbmVkIGJ5IGB1bGAgYW5kIGBscmAuIFRoZSBlYXNpZXN0IHNvbHV0aW9uIGlzIHRvIG5lZ2F0ZSBhIHN1bS1vZi1wcm9kdWN0cyBlcXVhdGlvbjpcbiAgICAvLyBpLmUuLCB0aGVyZSBhcmUgNCBwb3NzaWJpbGl0aWVzIGluIHdoaWNoIHRoZSB0d28gKmRvbid0KiBvdmVybGFwXG4gICAgcmV0dXJuICEobHIueCA8IGJib3gudWx4IHx8IHVsLnggPiBiYm94LmxyeCB8fCBsci55IDwgYmJveC51bHkgfHwgdWwueSA+IGJib3gubHJ5KTtcbiAgfVxuXG4gIC8vIFRPRE86IFNpbXBsaWZ5XG4gIGNvbnN0IGJveCA9IGdldFN0YWZmQkJveChlbCk7XG4gIHJldHVybiAhKCh1bC54IDwgYm94LnVseCAmJiBsci54IDwgYm94LnVseCkgfHwgKHVsLnggPiBib3gubHJ4ICYmIGxyLnggPiBib3gubHJ4KSB8fFxuICAgICAgICAgICh1bC55IDwgKGJveC51bHkgKyBNYXRoLmFicyhib3gudWx4IC0gdWwueCkgKiBNYXRoLnRhbihib3gucm90YXRlKSkgJiZcbiAgICAgICAgICAgIGxyLnkgPCAoYm94LnVseSArIE1hdGguYWJzKGJveC51bHggLSB1bC54KSAqIE1hdGgudGFuKGJveC5yb3RhdGUpKSkgfHxcbiAgICAgICAgICAodWwueSA+IChib3gubHJ5ICsgTWF0aC5hYnMoYm94LmxyeSAtIGxyLnkpICogTWF0aC50YW4oYm94LnJvdGF0ZSkpICYmXG4gICAgICAgICAgICBsci55ID4gKGJveC5scnkgKyBNYXRoLmFicyhib3gubHJ5IC0gbHIueSkgKiBNYXRoLnRhbihib3gucm90YXRlKSkpKTtcbn1cblxuLyoqXG4gKiBBcHBseSBsaXN0ZW5lcnMgZm9yIGNsaWNrIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSBzZWxlY3RvciAtIFRoZSBDU1Mgc2VsZWN0b3IgdXNlZCB0byBjaG9vc2Ugd2hlcmUgbGlzdGVuZXJzIGFyZSBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tTZWxlY3QgKHNlbGVjdG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChzZWwgPT4ge1xuICAgIHNlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjbGlja0hhbmRsZXIpO1xuICAgIHNlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjbGlja0hhbmRsZXIpO1xuICB9KTtcblxuICAvLyBDbGljayBhd2F5IGxpc3RlbmVyc1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlc2NhcGVLZXlMaXN0ZW5lcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVzY2FwZUtleUxpc3RlbmVyKTtcblxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlbnRlcktleUxpc3RlbmVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZW50ZXJLZXlMaXN0ZW5lcik7XG5cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgYXJyb3dLZXlMaXN0ZW5lcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGFycm93S2V5TGlzdGVuZXIpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChldnQpID0+IHsgZXZ0LnByZXZlbnREZWZhdWx0KCk7IH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3VzZSxyZWN0LCNtb3JlRWRpdCcpLmZvckVhY2goc2VsID0+IHtcbiAgICBzZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wUHJvcEhhbmRsZXIpO1xuICAgIHNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0b3BQcm9wSGFuZGxlcik7XG4gIH0pO1xufVxuXG4vKipcbiAqIEhhbmRsZSBjbGljayBldmVudHMgcmVsYXRlZCB0byBlbGVtZW50IHNlbGVjdGlvbi5cbiAqL1xuXG4vLyBUaGUgYHRoaXNgIGtleXdvcmQgY2FuIGJlIFwicGFzc2VkXCIgYXMgYSBmYWtlIHBhcmFtZXRlciBzbyB0aGF0IHdlIGNhbiB0eXBlIGl0IGNvcnJlY3RseVxuLy8gaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svMi9mdW5jdGlvbnMuaHRtbCNkZWNsYXJpbmctdGhpcy1pbi1hLWZ1bmN0aW9uXG5mdW5jdGlvbiBjbGlja0hhbmRsZXIgKHRoaXM6IFNWR0dyYXBoaWNzRWxlbWVudCwgZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gIC8vIFJldHVybiBpZiB1c2VyIGlzIGluIGluc2VydCBtb2RlIG9yIHBhbm5pbmcgaXMgYWN0aXZlIGZyb20gc2hpZnQga2V5XG4gIGlmICghbmVvblZpZXcgfHwgbmVvblZpZXcuZ2V0VXNlck1vZGUoKSA9PT0gJ2luc2VydCcgfHwgZXZ0LnNoaWZ0S2V5KVxuICAgIHJldHVybjtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGN0cmwvY21kIGtleSBoYXMgYmVlbiBzZWxlY3RlZFxuICBmdW5jdGlvbiBpc011bHRpU2VsZWN0ICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01hYy8pID8gZXZ0Lm1ldGFLZXkgOiBldnQuY3RybEtleTtcbiAgfVxuXG4gIC8vIElmIHVzZXIgaGFzIGNsaWNrZWQgYSBsYXllciBlbGVtZW50XG4gIGlmICh0aGlzLnRhZ05hbWUgPT09ICd1c2UnICYmIGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5QkJveCcpIHtcbiAgICBpZiAodGhpcy5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgbGV0IHNlbGVjdGlvbjogU1ZHR3JhcGhpY3NFbGVtZW50W10gPSBbdGhpc107XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgcGFydCBvZiBhIGxpZ2F0dXJlIGFuZCwgaWYgc28sIGFkZCBhbGwgb2YgaXQgdG8gdGhlIHNlbGVjdGlvbi5cbiAgICAgIGNvbnN0IGZpcnN0TGlnYXR1cmVIYWxmID0gL0U5Qls0NTY3OF0vO1xuICAgICAgY29uc3Qgc2Vjb25kTGlnYXR1cmVIYWxmID0gL0U5Qls5QUJDXS87XG4gICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChzZWNvbmRMaWdhdHVyZUhhbGYpKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIHNlY29uZCBwYXJ0IG9mIGEgbGlnYXR1cmVcbiAgICAgICAgY29uc3QgbmMgPSB0aGlzLmNsb3Nlc3QoJy5uYycpO1xuICAgICAgICBjb25zdCBuZXVtZSA9IHRoaXMuY2xvc2VzdCgnLm5ldW1lJyk7XG4gICAgICAgIGNvbnN0IG5jSW5kZXggPSBBcnJheS5mcm9tKG5ldW1lLmNoaWxkcmVuKS5pbmRleE9mKG5jKTtcbiAgICAgICAgY29uc3QgZmlyc3RVc2UgPSBuZXVtZS5jaGlsZHJlbltuY0luZGV4IC0gMV0uY2hpbGRyZW5bMF0gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBjb25zb2xlLmFzc2VydChmaXJzdFVzZS5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChmaXJzdExpZ2F0dXJlSGFsZiksICdGaXJzdCBnbHlwaCBvZiBsaWdhdHVyZSB1bmV4cGVjdGVkIScpO1xuXG4gICAgICAgIGlmIChmaXJzdFVzZS5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgICAgIHNlbGVjdGlvbi51bnNoaWZ0KGZpcnN0VXNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKGZpcnN0TGlnYXR1cmVIYWxmKSkge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCBwYXJ0IG9mIGEgbGlnYXR1cmVcbiAgICAgICAgY29uc3QgbmMgPSB0aGlzLmNsb3Nlc3QoJy5uYycpO1xuICAgICAgICBjb25zdCBuZXVtZSA9IHRoaXMuY2xvc2VzdCgnLm5ldW1lJyk7XG4gICAgICAgIGNvbnN0IG5jSW5kZXggPSBBcnJheS5mcm9tKG5ldW1lLmNoaWxkcmVuKS5pbmRleE9mKG5jKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kVXNlID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCArIDFdLmNoaWxkcmVuWzBdIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgY29uc29sZS5hc3NlcnQoc2Vjb25kVXNlLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKHNlY29uZExpZ2F0dXJlSGFsZiksICdTZWNvbmQgZ2x5cGggb2YgbGlnYXR1cmUgdW5leHBlY3RlZCEnKTtcblxuICAgICAgICBpZiAoc2Vjb25kVXNlLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSB7XG4gICAgICAgICAgc2VsZWN0aW9uLnB1c2goc2Vjb25kVXNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSkpO1xuICAgICAgfVxuXG4gICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbk1vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsLWJ5IC5pcy1hY3RpdmUnKS5pZDtcbiAgICAgICAgY29uc3QgbW9kZVRvQ2xhc3MgPSB7XG4gICAgICAgICAgc2VsQnlTdGFmZjogJy5zdGFmZicsXG4gICAgICAgICAgc2VsQnlOZXVtZTogJy5uZXVtZScsXG4gICAgICAgICAgc2VsQnlOYzogJy5uYycsXG4gICAgICAgICAgc2VsQnlMYXllckVsZW1lbnQ6ICcuYWNjaWQnLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZWxlY3RlZENsYXNzID0gbW9kZVRvQ2xhc3Nbc2VsZWN0aW9uTW9kZV0gfHwgJy5zeWxsYWJsZSc7XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IFt0aGlzLmNsb3Nlc3Qoc2VsZWN0ZWRDbGFzcyldO1xuXG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSBbXTtcbiAgICAgICAgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZpbHRlcigoZWwpID0+ICFyZW1vdmUuaW5jbHVkZXMoZWwpKTtcblxuICAgICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLnRhZ05hbWUgPT09ICdyZWN0JyAmJiBnZXRTZWxlY3Rpb25UeXBlKCkgPT09ICdzZWxCeUJCb3gnKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpIHtcbiAgICAgIGxldCBzZWxlY3Rpb24gPSBbZXZ0LnRhcmdldF0gYXMgU1ZHR0VsZW1lbnRbXTtcbiAgICAgIGlmIChpc011bHRpU2VsZWN0KCkpIHtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpIGFzIFNWR0dFbGVtZW50W10pO1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24ubWFwKCAoZWwpID0+IHtcbiAgICAgICAgICBpZiAoZWwudGFnTmFtZSA9PSAncmVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1EaXNwbGF5Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgc2VsZWN0aW9uID0gW107XG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IFt0aGlzXTtcbiAgICAgICAgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLm1hcCggKGVsKSA9PiB7XG4gICAgICAgICAgaWYgKGVsLnRhZ05hbWUgPT0gJ3JlY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtRGlzcGxheScpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZpbHRlciggKGVsKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICFyZW1vdmUuaW5jbHVkZXMoZWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZ2V0U2VsZWN0aW9uVHlwZSgpICE9PSAnc2VsQnlTdGFmZicpIHtcbiAgICAgIGluZm8uaW5mb0xpc3RlbmVycygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoZSBwb2ludCBpcyBpbiBhIHN0YWZmLlxuICAgIGlmICghaXNNdWx0aVNlbGVjdCgpKVxuICAgICAgdW5zZWxlY3QoKTtcblxuICAgIC8vIFNlbGVjdCBhIHN0YWZmXG4gICAgY29uc3Qgc3RhZmYgPSBnZXRTdGFmZkJ5Q29vcmRzKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG4gICAgXG4gICAgaWYgKCFzdGFmZikgcmV0dXJuO1xuXG4gICAgaWYgKCFzdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIC8vIFNlbGVjdCBwcmV2aW91c2x5IHVuc2VsZWN0ZWQgc3RhZmZcbiAgICAgIHNlbGVjdFN0YWZmKHN0YWZmLCBkcmFnSGFuZGxlcik7XG4gICAgICByZXNpemUoc3RhZmYsIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVHJpZ2dlciBtb3VzZWRvd24gZXZlbnQgb24gdGhlIHN0YWZmXG4gICAgc3RhZmYuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnbW91c2Vkb3duJywge1xuICAgICAgc2NyZWVuWDogZXZ0LnNjcmVlblgsXG4gICAgICBzY3JlZW5ZOiBldnQuc2NyZWVuWSxcbiAgICAgIGNsaWVudFg6IGV2dC5jbGllbnRYLFxuICAgICAgY2xpZW50WTogZXZ0LmNsaWVudFksXG4gICAgICBjdHJsS2V5OiBldnQuY3RybEtleSxcbiAgICAgIHNoaWZ0S2V5OiBldnQuc2hpZnRLZXksXG4gICAgICBhbHRLZXk6IGV2dC5hbHRLZXksXG4gICAgICBtZXRhS2V5OiBldnQubWV0YUtleSxcbiAgICAgIHZpZXc6IGV2dC52aWV3XG4gICAgfSkpO1xuICB9XG59XG5cbi8qKlxuICogQXBwbHkgbGlzdGVuZXJzIGZvciBkcmFnIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSBzZWxlY3RvciAtIFRoZSBDU1Mgc2VsZWN0b3IgdXNlZCB0byBjaG9vc2Ugd2hlcmUgbGlzdGVuZXJzIGFyZSBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJhZ1NlbGVjdCAoc2VsZWN0b3I6IHN0cmluZyk6IHZvaWQge1xuICBsZXQgaW5pdGlhbFggPSAwO1xuICBsZXQgaW5pdGlhbFkgPSAwO1xuICBsZXQgcGFubmluZyA9IGZhbHNlO1xuICBsZXQgZHJhZ1NlbGVjdGluZyA9IGZhbHNlO1xuICAvLyB2YXIgY2FudmFzID0gZDMuc2VsZWN0KCcjc3ZnX2dyb3VwJyk7XG5cbiAgY29uc3QgY2FudmFzID0gZDMuc2VsZWN0KHNlbGVjdG9yKTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBwb2ludCBpcyBpbiB0aGUgYm91bmRzIG9mIGEgc3RhZmYgZWxlbWVudC5cbiAgICogUm90YXRlIGlzIG5vdCB0YWtlbiBpbnRvIGFjY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBwb2ludE5vdEluU3RhZmYgKHB0OiBudW1iZXJbXSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZmYnKSk7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBzdGF2ZXMuZmlsdGVyKChzdGFmZjogU1ZHR0VsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IGJib3ggPSBnZXRTdGFmZkJCb3goc3RhZmYpO1xuICAgICAgY29uc3QgdWx4ID0gYmJveC51bHg7XG4gICAgICBjb25zdCB1bHkgPSBiYm94LnVseTtcbiAgICAgIGNvbnN0IGxyeCA9IGJib3gubHJ4O1xuICAgICAgY29uc3QgbHJ5ID0gYmJveC5scnk7XG4gICAgICBjb25zdCByb3RhdGUgPSBiYm94LnJvdGF0ZTtcblxuICAgICAgcmV0dXJuIChwdFswXSA+IHVseCAmJiBwdFswXSA8IGxyeCkgJiZcbiAgICAgICAgKHB0WzFdID4gKHVseSArIChwdFswXSAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpKSkgJiZcbiAgICAgICAgKHB0WzFdIDwgKGxyeSAtIChscnggLSBwdFswXSkgKiBNYXRoLnRhbihyb3RhdGUpKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIChmaWx0ZXJlZC5sZW5ndGggPT09IDApO1xuICB9XG5cbiAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGluaXRpYWwgZHJhZ2dpbmcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB1bHggLSBUaGUgdXBwZXIgbGVmdCB4LXBvc2l0aW9uIG9mIHRoZSBuZXcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB1bHkgLSBUaGUgdXBwZXIgbGVmdCB5LXBvc2l0aW9uIG9mIHRoZSBuZXcgcmVjdGFuZ2xlLlxuICAgICAqL1xuICBmdW5jdGlvbiBpbml0UmVjdCAodWx4OiBudW1iZXIsIHVseTogbnVtYmVyKTogdm9pZCB7XG4gICAgY2FudmFzLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cigneCcsIHVseClcbiAgICAgIC5hdHRyKCd5JywgdWx5KVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCAwKVxuICAgICAgLmF0dHIoJ2lkJywgJ3NlbGVjdFJlY3QnKVxuICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgc3Ryb2tlV2lkdGgpXG4gICAgICAuYXR0cignZmlsbCcsICdub25lJyk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxTdGFydCAoKTogdm9pZCB7XG4gICAgaWYgKCFuZW9uVmlldykgcmV0dXJuO1xuICAgIGNvbnN0IHVzZXJNb2RlID0gbmVvblZpZXcuZ2V0VXNlck1vZGUoKTtcbiAgICBpZiAoZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9PSAndXNlJyAmJiB1c2VyTW9kZSAhPT0gJ2luc2VydCcgJiYgZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9PSAncmVjdCcpIHtcbiAgICAgIGlmICghZDMuZXZlbnQuc291cmNlRXZlbnQuc2hpZnRLZXkpIHsgLy8gSWYgbm90IGhvbGRpbmcgZG93biBzaGlmdCBrZXkgdG8gcGFuXG4gICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpIHx8XG4gICAgICAgICAgcG9pbnROb3RJblN0YWZmKGQzLm1vdXNlKHRoaXMpKSkge1xuICAgICAgICAgIHVuc2VsZWN0KCk7XG4gICAgICAgICAgZHJhZ1NlbGVjdGluZyA9IHRydWU7XG4gICAgICAgICAgY29uc3QgaW5pdGlhbFAgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgICAgICBpbml0aWFsWCA9IGluaXRpYWxQWzBdO1xuICAgICAgICAgIGluaXRpYWxZID0gaW5pdGlhbFBbMV07XG4gICAgICAgICAgaW5pdFJlY3QoaW5pdGlhbFgsIGluaXRpYWxZKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFubmluZyA9IHRydWU7XG4gICAgICAgIGlmICh6b29tSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgem9vbUhhbmRsZXIuc3RhcnREcmFnKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBwYW5uaW5nID0gdHJ1ZTtcbiAgICAgIGlmICh6b29tSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHpvb21IYW5kbGVyLnN0YXJ0RHJhZygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZHJhZ2dpbmcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSBuZXdYIC0gVGhlIG5ldyB1bHguXG4gICAgICogQHBhcmFtIG5ld1kgLSBUaGUgbmV3IHVseS5cbiAgICAgKiBAcGFyYW0gY3VycmVudFdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSBjdXJyZW50SGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlIGluIHBpeGVscy5cbiAgICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlUmVjdCAobmV3WDogbnVtYmVyLCBuZXdZOiBudW1iZXIsIGN1cnJlbnRXaWR0aDogbnVtYmVyLCBjdXJyZW50SGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBkMy5zZWxlY3QoJyNzZWxlY3RSZWN0JylcbiAgICAgIC5hdHRyKCd4JywgbmV3WClcbiAgICAgIC5hdHRyKCd5JywgbmV3WSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIGN1cnJlbnRXaWR0aClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBjdXJyZW50SGVpZ2h0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlTZWxlY3RvciAoc2VsZWN0b3I6IHN0cmluZyk6IFNWR0dyYXBoaWNzRWxlbWVudFtdIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArICcgdXNlLCAnICsgc2VsZWN0b3IgKyAnIC5zdGFmZicpKTtcblxuICAgIGlmIChpc1NlbEJ5QkJveCgpKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArICcgLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yICsgJyB1c2UnKSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RpbmcgKCk6IHZvaWQge1xuICAgIGlmICghcGFubmluZyAmJiBkcmFnU2VsZWN0aW5nKSB7XG4gICAgICBjb25zdCBjdXJyZW50UHQgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIGNvbnN0IGN1clggPSBjdXJyZW50UHRbMF07XG4gICAgICBjb25zdCBjdXJZID0gY3VycmVudFB0WzFdO1xuXG4gICAgICBjb25zdCBuZXdYID0gY3VyWCA8IGluaXRpYWxYID8gY3VyWCA6IGluaXRpYWxYO1xuICAgICAgY29uc3QgbmV3WSA9IGN1clkgPCBpbml0aWFsWSA/IGN1clkgOiBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHdpZHRoID0gY3VyWCA8IGluaXRpYWxYID8gaW5pdGlhbFggLSBjdXJYIDogY3VyWCAtIGluaXRpYWxYO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gY3VyWSA8IGluaXRpYWxZID8gaW5pdGlhbFkgLSBjdXJZIDogY3VyWSAtIGluaXRpYWxZO1xuXG4gICAgICB1cGRhdGVSZWN0KG5ld1gsIG5ld1ksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH0gZWxzZSBpZiAocGFubmluZykge1xuICAgICAgaWYgKHpvb21IYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgem9vbUhhbmRsZXIuZHJhZ2dpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxFbmQgKCk6IHZvaWQge1xuICAgIGlmICghcGFubmluZyAmJiBkcmFnU2VsZWN0aW5nKSB7XG4gICAgICBjb25zdCBzZWxlY3RSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdFJlY3QnKTtcbiAgICAgIGNvbnN0IHJ4ID0gcGFyc2VJbnQoc2VsZWN0UmVjdC5nZXRBdHRyaWJ1dGUoJ3gnKSk7XG4gICAgICBjb25zdCByeSA9IHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCd5JykpO1xuICAgICAgY29uc3QgbHggPSByeCArIHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKTtcbiAgICAgIGNvbnN0IGx5ID0gcnkgKyBwYXJzZUludChzZWxlY3RSZWN0LmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gdG8gdGhlIGNvcnJlY3QgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgIGNvbnN0IG5vZGUgPSBjYW52YXMubm9kZSgpIGFzIFNWR1NWR0VsZW1lbnQ7XG4gICAgICBsZXQgdWwgPSBuZXcgRE9NUG9pbnQocngsIHJ5KSwgbHIgPSBuZXcgRE9NUG9pbnQobHgsIGx5KTtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5vZGUuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpXG4gICAgICAgIC5tdWx0aXBseSgoY2FudmFzLnNlbGVjdCgnLnN5c3RlbScpLm5vZGUoKSBhcyBTVkdHcmFwaGljc0VsZW1lbnQpLmdldFNjcmVlbkNUTSgpKVxuICAgICAgICAuaW52ZXJzZSgpO1xuICAgICAgdWwgPSB1bC5tYXRyaXhUcmFuc2Zvcm0odHJhbnNmb3JtKTtcbiAgICAgIGxyID0gbHIubWF0cml4VHJhbnNmb3JtKHRyYW5zZm9ybSk7XG5cbiAgICAgIC8vIEdldCBhbGwgZWxlbWVudHMgY29ycmVzcG9uZGluZyB0byB0aGUgc2VsZWN0b3JcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0gZ2V0RWxlbWVudHNCeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIC8vIEdldCB0aGUgZWxlbWVudHMgd2l0aGluIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlXG4gICAgICBjb25zdCBzZWxlY3RlZEVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKGVsID0+IGlzRWxlbWVudEluUmVjdChlbCwgdWwsIGxyKSk7XG5cbiAgICAgIC8vIEdldCBvdGhlciBoYWx2ZXMgb2YgbGlnYXR1cmVzIGlmIG9ubHkgb25lIGlzIHNlbGVjdGVkXG4gICAgICBzZWxlY3RlZEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQ6IFNWR0VsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gJ3VzZScgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaCgvRTlCWzQ1Njc4OUFCQ10vKSkge1xuICAgICAgICAgIGNvbnN0IG5ldW1lID0gZWxlbWVudC5jbG9zZXN0KCcubmV1bWUnKTtcbiAgICAgICAgICBjb25zdCBuY0luZGV4ID0gQXJyYXkuZnJvbShuZXVtZS5jaGlsZHJlbikuaW5kZXhPZihlbGVtZW50LmNsb3Nlc3QoJy5uYycpKTtcbiAgICAgICAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaCgvRTlCWzQ1Njc4XS8pKSB7XG4gICAgICAgICAgICAvLyBBZGQgc2Vjb25kIGhhbGYgb2YgbGlnYXR1cmUgdG8gc2VsZWN0ZWQgbGlzdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICAgICBjb25zdCBzZWNvbmROYyA9IG5ldW1lLmNoaWxkcmVuW25jSW5kZXggKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFVzZSA9IHNlY29uZE5jLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihzZWNvbmRVc2UpIDwgMCkge1xuICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goc2Vjb25kVXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIGZpcnN0IGhhbGYgb2YgbGlnYXR1cmUgdG8gc2VsZWN0ZWQgbGlzdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICAgICBjb25zdCBmaXJzdE5jID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCAtIDFdO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RVc2UgPSBmaXJzdE5jLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihmaXJzdFVzZSkgPCAwKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChmaXJzdFVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdEFsbChzZWxlY3RlZEVsZW1lbnRzLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICAgIGQzLnNlbGVjdEFsbCgnI3NlbGVjdFJlY3QnKS5yZW1vdmUoKTtcbiAgICAgIGRyYWdTZWxlY3RpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgcGFubmluZyA9IGZhbHNlO1xuICB9XG5cbiAgZDMuc2VsZWN0QWxsKHNlbGVjdG9yLnJlcGxhY2UoJy5hY3RpdmUtcGFnZScsICcnKS50cmltKCkpXG4gICAgLm9uKCcuZHJhZycsIG51bGwpO1xuICBjb25zdCBkcmFnU2VsZWN0QWN0aW9uID0gZDMuZHJhZygpXG4gICAgLm9uKCdzdGFydCcsIHNlbFN0YXJ0KVxuICAgIC5vbignZHJhZycsIHNlbGVjdGluZylcbiAgICAub24oJ2VuZCcsIHNlbEVuZCk7XG4gIGNhbnZhcy5jYWxsKGRyYWdTZWxlY3RBY3Rpb24pO1xuICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICBkcmFnSGFuZGxlci5yZXNldFRvKGRyYWdTZWxlY3RBY3Rpb24pO1xuICB9XG59XG4iLCJpbXBvcnQgeyB1dWlkdjQgfSBmcm9tICcuL3JhbmRvbSc7XG5pbXBvcnQgKiBhcyB2a2JlYXV0aWZ5IGZyb20gJ3ZrYmVhdXRpZnknO1xuaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5cbi8vIEZvciBkZXRhaWxzIGFib3V0IHRoZSBmaWxlIGNvbnZlcnNpb24sXG4vLyByZWZlciB0byB0aGlzIGxpbms6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRERNQUwvTmVvbi93aWtpL05lb24lRTIlODAlOTBWZXJvdmlvLUZpbGUtQ29udmVyc2lvblxuXG5leHBvcnQgZnVuY3Rpb24gemlwPFQ+KGFycmF5MTogQXJyYXk8VD4sIGFycmF5MjogQXJyYXk8VD4pOiBBcnJheTxUPiB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKFxuICAgIGxldCBpID0gMDtcbiAgICBpIDwgKGFycmF5MS5sZW5ndGggPiBhcnJheTIubGVuZ3RoID8gYXJyYXkyLmxlbmd0aCA6IGFycmF5MS5sZW5ndGgpO1xuICAgIGkrK1xuICApIHtcbiAgICByZXN1bHQucHVzaChbYXJyYXkxW2ldLCBhcnJheTJbaV1dKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBjb3B5QXR0cmlidXRlcyhzcmM6IEVsZW1lbnQsIGRzdDogRWxlbWVudCk6IHZvaWQge1xuICBmb3IgKGNvbnN0IGF0dHIgb2Ygc3JjLmF0dHJpYnV0ZXMpIHtcbiAgICBkc3Quc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgYXR0ci52YWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb05lb24oc3RhZmZCYXNlZE1laTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhzdGFmZkJhc2VkTWVpLCAndGV4dC94bWwnKTtcbiAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgbGV0IG5Db2wgPSAwO1xuXG4gIGNvbnN0IHNlY3Rpb25zID0gQXJyYXkuZnJvbShcbiAgICBtZWkucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbjpub3QoW3R5cGU9XCJuZW9uLW5ldW1lLWxpbmVcIl0pJyksXG4gICk7XG4gIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBzZWN0aW9ucykge1xuICAgIC8vIFJlbW92ZSBkaXJlY3QgY2hpbGRyZW4gcGIgJiBzYiBlbGVtZW50cyB3aXRoaW4gc2VjdGlvblxuICAgIGNvbnN0IHBicyA9IHNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgncGInKTtcbiAgICBwYnMuZm9yRWFjaCgocGIpID0+IHBiLnJlbW92ZSgpKTtcbiAgICBjb25zdCBzYnMgPSBzZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NiJyk7XG4gICAgc2JzLmZvckVhY2goKHNiKSA9PiBzYi5yZW1vdmUoKSk7XG5cbiAgICBjb25zdCBuZXdTdGFmZiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJyxcbiAgICAgICdzdGFmZicsXG4gICAgKTtcbiAgICBjb25zdCBuZXdMYXllciA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJyxcbiAgICAgICdsYXllcicsXG4gICAgKTtcbiAgICBuZXdTdGFmZi5zZXRBdHRyaWJ1dGUoJ24nLCAnMScpO1xuICAgIG5ld0xheWVyLnNldEF0dHJpYnV0ZSgnbicsICcxJyk7XG4gICAgbmV3U3RhZmYuYXBwZW5kQ2hpbGQobmV3TGF5ZXIpO1xuXG4gICAgLy8gQWRkIDxwYj5cbiAgICBjb25zdCBzdXJmYWNlID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3N1cmZhY2UnKTtcbiAgICBjb25zdCBzdXJmYWNlSWQgPSBzdXJmYWNlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyk7XG4gICAgY29uc3QgcGIgPSBtZWlEb2MuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAncGInLFxuICAgICk7XG4gICAgcGIuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgIHBiLnNldEF0dHJpYnV0ZSgnZmFjcycsICcjJyArIHN1cmZhY2VJZCk7XG4gICAgbmV3TGF5ZXIuYXBwZW5kQ2hpbGQocGIpO1xuXG4gICAgY29uc3QgbmVvbk5ldW1lTGluZVNlY3Rpb25zID0gQXJyYXkuZnJvbShcbiAgICAgIHNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvblt0eXBlPVwibmVvbi1uZXVtZS1saW5lXCJdJyksXG4gICAgKTtcbiAgICBsZXQgblN0YWZmID0gMDtcbiAgICBsZXQgbGFzdENiOiBFbGVtZW50ID0gbnVsbDtcblxuICAgIGZvciAoY29uc3QgbmVvbk5ldW1lTGluZVNlY3Rpb24gb2YgbmVvbk5ldW1lTGluZVNlY3Rpb25zKSB7XG4gICAgICBuU3RhZmYgKz0gMTtcbiAgICAgIGNvbnN0IHN0YWZmID0gbmVvbk5ldW1lTGluZVNlY3Rpb24ucXVlcnlTZWxlY3Rvcignc3RhZmYnKTtcbiAgICAgIGlmICghc3RhZmYpIHtcbiAgICAgICAgbmVvbk5ldW1lTGluZVNlY3Rpb24ucmVtb3ZlKCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgbGF5ZXIgPSBzdGFmZi5xdWVyeVNlbGVjdG9yKCdsYXllcicpO1xuXG4gICAgICAvLyBpZiBzdGFmZiBoYXMgYSBuZXcgdHlwZSB2YWx1ZSxcbiAgICAgIC8vIGFkZCBjYiBiZWZvcmUgc2JcbiAgICAgIGlmIChcbiAgICAgICAgc3RhZmYuaGFzQXR0cmlidXRlKCd0eXBlJykgJiZcbiAgICAgICAgc3RhZmYuZ2V0QXR0cmlidXRlKCd0eXBlJykgIT0gJ2NvbHVtbicgKyBuQ29sLnRvU3RyaW5nKClcbiAgICAgICkge1xuICAgICAgICBuQ29sICs9IDE7XG4gICAgICAgIGNvbnN0IGNiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJyxcbiAgICAgICAgICAnY2InLFxuICAgICAgICApO1xuICAgICAgICBjYi5zZXRBdHRyaWJ1dGUoJ24nLCBuQ29sLnRvU3RyaW5nKCkpO1xuICAgICAgICBjYi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICAgIGNiLnNldEF0dHJpYnV0ZSgnZmFjcycsICcjbS0nICsgdXVpZHY0KCkpO1xuICAgICAgICBuZXdMYXllci5hcHBlbmRDaGlsZChjYik7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHpvbmUgZm9yIHByZXZpb3VzIGNiXG4gICAgICAgIGlmIChsYXN0Q2IpIHtcbiAgICAgICAgICBjYWxjdWxhdGVBbmRBZGRab25lKGxhc3RDYiwgY2IsIHN1cmZhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RDYiA9IGNiO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzYiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLFxuICAgICAgICAnc2InLFxuICAgICAgKTtcbiAgICAgIHNiLnNldEF0dHJpYnV0ZSgnbicsIG5TdGFmZi50b1N0cmluZygpKTtcbiAgICAgIHNiLnNldEF0dHJpYnV0ZSgnZmFjcycsIHN0YWZmLmdldEF0dHJpYnV0ZSgnZmFjcycpKTtcbiAgICAgIHNiLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgc3RhZmYuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSk7XG5cbiAgICAgIC8vIEhhbmRsZSBjdXN0b3NcbiAgICAgIGxldCBjdXN0b3M6IEVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoXG4gICAgICAgIG5ld0xheWVyLmxhc3RFbGVtZW50Q2hpbGQgIT09IG51bGwgJiZcbiAgICAgICAgbmV3TGF5ZXIubGFzdEVsZW1lbnRDaGlsZC50YWdOYW1lID09PSAnY3VzdG9zJ1xuICAgICAgKSB7XG4gICAgICAgIGN1c3RvcyA9IG5ld0xheWVyLnJlbW92ZUNoaWxkKG5ld0xheWVyLmxhc3RFbGVtZW50Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VzdG9zICE9PSB1bmRlZmluZWQpIG5ld0xheWVyLmFwcGVuZENoaWxkKGN1c3Rvcyk7XG4gICAgICBuZXdMYXllci5hcHBlbmRDaGlsZChzYik7XG5cbiAgICAgIC8vIEFkZCByZW1haW5pbmcgZWxlbWVudHMgb2YgbGF5ZXIgdG8gbmV3TGF5ZXJcbiAgICAgIHdoaWxlIChsYXllci5maXJzdEVsZW1lbnRDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICBuZXdMYXllci5hcHBlbmRDaGlsZChsYXllci5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICB9XG4gICAgICBuZW9uTmV1bWVMaW5lU2VjdGlvbi5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgYW5kIGFkZCB6b25lIGZvciB0aGUgbGFzdCBjYiBpbiB0aGUgc2VjdGlvblxuICAgIGlmIChsYXN0Q2IpIHtcbiAgICAgIGNhbGN1bGF0ZUFuZEFkZFpvbmUobGFzdENiLCBudWxsLCBzdXJmYWNlKTtcbiAgICB9XG4gICAgc2VjdGlvbi5hcHBlbmRDaGlsZChuZXdTdGFmZik7XG4gIH1cblxuICAvLyBBZGQgPGNvbExheW91dD5cbiAgaWYgKG5Db2wpIHtcbiAgICBjb25zdCBzY29yZURlZiA9IG1laS5xdWVyeVNlbGVjdG9yKCdzY29yZURlZicpO1xuICAgIGNvbnN0IGNvbExheW91dCA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJyxcbiAgICAgICdjb2xMYXlvdXQnLFxuICAgICk7XG4gICAgY29sTGF5b3V0LnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICBjb2xMYXlvdXQuc2V0QXR0cmlidXRlKCduJywgbkNvbC50b1N0cmluZygpKTtcbiAgICBzY29yZURlZi5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgY29sTGF5b3V0KTtcbiAgfVxuXG4gIHJldHVybiB2a2JlYXV0aWZ5LnhtbChzZXJpYWxpemVyLnNlcmlhbGl6ZVRvU3RyaW5nKG1laURvYykpO1xuXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUFuZEFkZFpvbmUoXG4gICAgc3RhcnRFbGVtZW50OiBFbGVtZW50LFxuICAgIGVuZEVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsLFxuICAgIHN1cmZhY2U6IEVsZW1lbnQsXG4gICkge1xuICAgIC8vIENvbGxlY3QgZWxlbWVudHMgYmV0d2VlbiBzdGFydENiIGFuZCBlbmRDYlxuICAgIGNvbnN0IGVsZW1lbnRzQmV0d2VlbiA9IGNvbGxlY3RBbGxFbGVtZW50c1dpdGhGYWNzKFxuICAgICAgc3RhcnRFbGVtZW50Lm5leHRFbGVtZW50U2libGluZyxcbiAgICAgIGVuZEVsZW1lbnQsXG4gICAgKTtcblxuICAgIC8vIENhbGN1bGF0ZSB6b25lIGF0dHJpYnV0ZXNcbiAgICBjb25zdCB6b25lID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLFxuICAgICAgJ3pvbmUnLFxuICAgICk7XG4gICAgY29uc3QgQkJveCA9IGNhbGN1bGF0ZUJCb3goZWxlbWVudHNCZXR3ZWVuLCBzdXJmYWNlKTtcbiAgICB6b25lLnNldEF0dHJpYnV0ZSgnbHJ4JywgQkJveC5scngudG9TdHJpbmcoKSk7XG4gICAgem9uZS5zZXRBdHRyaWJ1dGUoJ2xyeScsIEJCb3gubHJ5LnRvU3RyaW5nKCkpO1xuICAgIHpvbmUuc2V0QXR0cmlidXRlKCd1bHgnLCBCQm94LnVseC50b1N0cmluZygpKTtcbiAgICB6b25lLnNldEF0dHJpYnV0ZSgndWx5JywgQkJveC51bHkudG9TdHJpbmcoKSk7XG4gICAgem9uZS5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsIHN0YXJ0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2ZhY3MnKS5zbGljZSgxKSk7XG5cbiAgICAvLyBBZGQgem9uZSB0byB0aGUgYmVnaW5uaW5nIG9mIHN1cmZhY2UgY2hpbGRyZW5cbiAgICBzdXJmYWNlLmluc2VydEJlZm9yZSh6b25lLCBzdXJmYWNlLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbGxlY3RBbGxFbGVtZW50c1dpdGhGYWNzKFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgZW5kRWxlbWVudDogRWxlbWVudCxcbiAgICBlbGVtZW50c0JldHdlZW4gPSBbXSxcbiAgKSB7XG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudCAhPT0gZW5kRWxlbWVudCkge1xuICAgICAgLy8gUHVzaCBlbGVtZW50cyBvbmx5IGlmIGl0IGhhcyBmYWNzXG4gICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2ZhY3MnKSkgZWxlbWVudHNCZXR3ZWVuLnB1c2goZWxlbWVudCk7XG5cbiAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBlbGVtZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgY29sbGVjdEFsbEVsZW1lbnRzV2l0aEZhY3MoY2hpbGQsIGVuZEVsZW1lbnQsIGVsZW1lbnRzQmV0d2Vlbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgIGNvbGxlY3RBbGxFbGVtZW50c1dpdGhGYWNzKFxuICAgICAgICAgIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLFxuICAgICAgICAgIGVuZEVsZW1lbnQsXG4gICAgICAgICAgZWxlbWVudHNCZXR3ZWVuLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50c0JldHdlZW47XG4gIH1cblxuICBmdW5jdGlvbiBjYWxjdWxhdGVCQm94KGVsZW1lbnRzOiBFbGVtZW50W10sIHN1cmZhY2U6IEVsZW1lbnQpIHtcbiAgICBsZXQgbHJ4ID0gSW5maW5pdHk7XG4gICAgbGV0IGxyeSA9IDA7XG4gICAgbGV0IHVseCA9IDA7XG4gICAgbGV0IHVseSA9IEluZmluaXR5O1xuXG4gICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgY29uc3Qgem9uZSA9IEFycmF5LmZyb20oc3VyZmFjZS5jaGlsZHJlbikuZmluZChcbiAgICAgICAgKHpvbmUpID0+XG4gICAgICAgICAgem9uZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpID09PSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZmFjcycpLnNsaWNlKDEpLFxuICAgICAgKTtcbiAgICAgIGxyeCA9IE1hdGgubWluKGxyeCwgcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ2xyeCcpKSk7XG4gICAgICBscnkgPSBNYXRoLm1heChscnksIHBhcnNlSW50KHpvbmUuZ2V0QXR0cmlidXRlKCdscnknKSkpO1xuICAgICAgdWx4ID0gTWF0aC5tYXgodWx4LCBwYXJzZUludCh6b25lLmdldEF0dHJpYnV0ZSgndWx4JykpKTtcbiAgICAgIHVseSA9IE1hdGgubWluKHVseSwgcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ3VseScpKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4geyBscngsIGxyeSwgdWx4LCB1bHkgfTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlOiBFbGVtZW50KTogc3RyaW5nIHtcbiAgY29uc3Qgc3lsID0gc3lsbGFibGUucXVlcnlTZWxlY3Rvcignc3lsJyk/LmNoaWxkTm9kZXNbMF07XG4gIGxldCBzeWxUZXh0OiBzdHJpbmc7XG4gIGlmIChzeWwpIHtcbiAgICBzeWxUZXh0ID0gc3lsLm5vZGVWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBzeWxUZXh0ID0gJ+KXiic7XG4gIH1cblxuICByZXR1cm4gc3lsVGV4dDtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB6b25lIGlzIGFsbC16ZXJvLCBoYXMgbmVnYXRpdmUgY29vcmRpbmF0ZXMsIG9yIG5vdCBsaW5rZWQgd2l0aCBnbHlwaHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW52YWxpZEJCb3goXG4gIG1laTogSFRNTEVsZW1lbnQsXG4gIHpvbmU6IEVsZW1lbnQsXG4pOiBbYm9vbGVhbiwgRWxlbWVudD9dIHtcbiAgY29uc3QgbHJ4ID0gcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ2xyeCcpKTtcbiAgY29uc3QgbHJ5ID0gcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ2xyeScpKTtcbiAgY29uc3QgdWx4ID0gcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ3VseCcpKTtcbiAgY29uc3QgdWx5ID0gcGFyc2VJbnQoem9uZS5nZXRBdHRyaWJ1dGUoJ3VseScpKTtcblxuICBjb25zdCBpc0FsbFplcm8gPSBscnggPT09IDAgJiYgbHJ5ID09PSAwICYmIHVseCA9PT0gMCAmJiB1bHkgPT09IDA7XG4gIGNvbnN0IGhhc05lZ2F0aXZlQ29vcmRpbmF0ZXMgPSBscnggPCAwIHx8IGxyeSA8IDAgfHwgdWx4IDwgMCB8fCB1bHkgPCAwO1xuXG4gIGNvbnN0IGVsZW1lbnQgPSBtZWkucXVlcnlTZWxlY3RvcihcbiAgICBgKltmYWNzPVwiJHsnIycgKyB6b25lLmdldEF0dHJpYnV0ZSgneG1sOmlkJyl9XCJdYCxcbiAgKTtcbiAgaWYgKGlzQWxsWmVybyB8fCBoYXNOZWdhdGl2ZUNvb3JkaW5hdGVzIHx8ICFlbGVtZW50KSByZXR1cm4gW3RydWUsIGVsZW1lbnRdO1xuICByZXR1cm4gW2ZhbHNlXTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IHNiIHRvIHN0YWZmIGZvciB2ZXJvdmlvXG4gKiBBbHNvIGRvIGhldXJpc3RpYyBjaGVja3M6XG4gKiAgICAxLiBpbnZhbGlkIHpvbmVzXG4gKiAgICAyLiBuZXVtZSB3aXRob3V0IG5ldW1lIGNvbXBvbmVudFxuICogICAgMy4gc3lsbGFibGUgd2l0aG91dCBuZXVtZVxuICogICAgNC4gbGlua2VkIHN5bGxhYmxlcyBub3QgbGlua2VkXG4gKiAgICA1LiBpbmNvbXBsZXRlIGxpbmtlZCBzeWxsYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvVmVyb3ZpbyhzYkJhc2VkTWVpOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc2JCYXNlZE1laSwgJ3RleHQveG1sJyk7XG4gIGNvbnN0IG1laSA9IG1laURvYy5kb2N1bWVudEVsZW1lbnQ7XG4gIGxldCBoYXNDb2xzID0gZmFsc2U7XG5cbiAgY29uc3QgZmFjc2ltaWxlID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ2ZhY3NpbWlsZScpO1xuICBmYWNzaW1pbGUuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RyYW5zY3JpcHRpb24nKTtcblxuICAvLyBSZW1vdmUgYWxsLXplcm8gem9uZXNcbiAgLy8gUmVtb3ZlIHpvbmVzIG5vdCBsaW5rZWQgd2l0aCBnbHlwaHNcbiAgY29uc3Qgc3VyZmFjZSA9IG1laS5xdWVyeVNlbGVjdG9yKCdzdXJmYWNlJyk7XG4gIGxldCBoYXNJbnZhbGlkQkJveCA9IGZhbHNlO1xuICBjb25zdCB6b25lcyA9IEFycmF5LmZyb20oc3VyZmFjZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnem9uZScpKTtcbiAgbGV0IGludmFsaWRab25lc0luZm8gPSAnVGhlIGZvbGxvd2luZyB6b25lcyBhcmUgaW52YWxpZDogXFxuXFxuJztcbiAgZm9yIChjb25zdCB6b25lIG9mIHpvbmVzKSB7XG4gICAgY29uc3QgW2lzSW52YWxpZCwgZWxlbWVudF0gPSBpc0ludmFsaWRCQm94KG1laSwgem9uZSk7XG4gICAgaWYgKGlzSW52YWxpZCkge1xuICAgICAgaGFzSW52YWxpZEJCb3ggPSB0cnVlO1xuICAgICAgaW52YWxpZFpvbmVzSW5mbyArPSBgLSBab25lIHdpdGggeG1sOmlkOiAke3pvbmUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKX0gYDtcblxuICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgICBpbnZhbGlkWm9uZXNJbmZvICs9IGBmb3IgJmx0OyR7XG4gICAgICAgICAgZWxlbWVudC50YWdOYW1lXG4gICAgICAgIH0mZ3Q7IHdpdGggeG1sOmlkOiAke2VsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKX1cXG5gO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW52YWxpZFpvbmVzSW5mbyArPSAnaXMgbm90IGxpbmtlZCB3aXRoIGFueSBnbHlwaHNcXG4nO1xuICAgICAgfVxuICAgICAgem9uZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHpvbmUpO1xuICAgIH1cbiAgfVxuICBpZiAoaGFzSW52YWxpZEJCb3gpIHtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAnUmVtb3ZlZCBpbnZhbGlkIHpvbmVzIGNvbnRhaW5lZCBpbiB0aGlzIGZpbGUnLFxuICAgICAgJ3dhcm5pbmcnLFxuICAgICAgaW52YWxpZFpvbmVzSW5mbyxcbiAgICApO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgPGNvbExheW91dD4gZWxlbWVudCBhbmQgcmVtb3ZlIHRoZW1cbiAgLy8gVGhlcmUgd2lsbCBvbmx5IGJlIG9uZSA8Y29sTGF5b3V0PiBlbGVtZW50XG4gIGNvbnN0IGNvbExheW91dCA9IG1laS5xdWVyeVNlbGVjdG9yKCdjb2xMYXlvdXQnKTtcbiAgaWYgKGNvbExheW91dCkge1xuICAgIGhhc0NvbHMgPSB0cnVlO1xuICAgIGNvbExheW91dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbExheW91dCk7XG4gIH1cblxuICAvLyBDaGVjayBzeWxsYWJsZSB3aXRob3V0IG5ldW1lXG4gIC8vIENoZWNrIGRpdkxpbmUgaW5zaWRlIGVtcHR5IHN5bGxhYmxlXG4gIC8vIENoZWNrIGFjY2lkIGluc2lkZSBlbXB0eSBzeWxsYWJsZVxuICBjb25zdCBzeWxsYWJsZXMgPSBBcnJheS5mcm9tKG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3lsbGFibGUnKSk7XG4gIGxldCBoYXNFbXB0eVN5bGxhYmxlID0gZmFsc2U7XG4gIGxldCBoYXNFbXB0eU5ldW1lID0gZmFsc2U7XG4gIGxldCBoYXNJbnZhbGlkRGl2TGluZSA9IGZhbHNlO1xuICBsZXQgaW52YWxpZERpdkxpbmVJbmZvID1cbiAgICAnVGhlIGZvbGxvd2luZyBkaXZMaW5lKHMpIGFyZSB0aGUgb25seSBlbGVtZW50IGluc2lkZSB0aGUgc3lsbGFibGUocyk6IFxcblxcbic7XG4gIGxldCBoYXNJbnZhbGlkQWNjaWQgPSBmYWxzZTtcbiAgbGV0IGludmFsaWRBY2NpZEluZm8gPVxuICAgICdUaGUgZm9sbG93aW5nIGFjY2lkKHMpIGFyZSB0aGUgb25seSBlbGVtZW50IGluc2lkZSB0aGUgc3lsbGFibGUocyk6IFxcblxcbic7XG4gIGxldCBlbXB0eVN5bGxhYmxlSW5mbyA9ICdUaGUgZm9sbG93aW5nIHN5bGxhYmxlKHMpIGhhdmUgbm8gbmV1bWVzOiBcXG5cXG4nO1xuICBsZXQgZW1wdHlOZXVtZUluZm8gPSAnVGhlIGZvbGxvd2luZyBuZXVtZShzKSBoYXZlIG5vIG5ldW1lIGNvbXBvbmVudHM6IFxcblxcbic7XG4gIGZvciAoY29uc3Qgc3lsbGFibGUgb2Ygc3lsbGFibGVzKSB7XG4gICAgaWYgKHN5bGxhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCduZXVtZScpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaGFzRW1wdHlTeWxsYWJsZSA9IHRydWU7XG4gICAgICBlbXB0eVN5bGxhYmxlSW5mbyArPSBgLSAmbHQ7JHtcbiAgICAgICAgc3lsbGFibGUudGFnTmFtZVxuICAgICAgfSZndDsgd2l0aCB4bWw6aWQ6ICR7c3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKX1cXG5gO1xuICAgICAgaWYgKHN5bGxhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXZMaW5lJykubGVuZ3RoID4gMCkge1xuICAgICAgICBoYXNJbnZhbGlkRGl2TGluZSA9IHRydWU7XG4gICAgICAgIGludmFsaWREaXZMaW5lSW5mbyArPSBgLSAmbHQ7ZGl2TGluZSZndDsgaW5zaWRlICZsdDtzeWxsYWJsZSZndDsgd2l0aCB4bWw6aWQ6ICR7c3lsbGFibGUuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICd4bWw6aWQnLFxuICAgICAgICApfVxcbmA7XG4gICAgICB9XG4gICAgICBpZiAoc3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2FjY2lkJykubGVuZ3RoID4gMCkge1xuICAgICAgICBoYXNJbnZhbGlkQWNjaWQgPSB0cnVlO1xuICAgICAgICBpbnZhbGlkQWNjaWRJbmZvICs9IGAtICZsdDthY2NpZCZndDsgaW5zaWRlICZsdDtzeWxsYWJsZSZndDsgd2l0aCB4bWw6aWQ6ICR7c3lsbGFibGUuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICd4bWw6aWQnLFxuICAgICAgICApfVxcbmA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgbmV1bWUgd2l0aG91dCBuZXVtZSBjb21wb25lbnRcbiAgICBjb25zdCBuZXVtZXMgPSBzeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmV1bWUnKTtcbiAgICBmb3IgKGNvbnN0IG5ldW1lIG9mIG5ldW1lcykge1xuICAgICAgY29uc3QgbmNzID0gQXJyYXkuZnJvbShuZXVtZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmMnKSk7XG4gICAgICBpZiAobmNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBoYXNFbXB0eU5ldW1lID0gdHJ1ZTtcbiAgICAgICAgZW1wdHlOZXVtZUluZm8gKz0gYC0gJmx0OyR7XG4gICAgICAgICAgbmV1bWUudGFnTmFtZVxuICAgICAgICB9Jmd0OyB3aXRoIHhtbDppZDogJHtuZXVtZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfVxcbmA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUbyBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmU6XG4gICAgICAgIC8vIElmIG5jIGhhcyBhIEBjdXJ2ZSB2YWx1ZSwgYWRkIGEgPGxpcXVlc2NlbnQ+IGVsZW1lbnRcbiAgICAgICAgZm9yIChjb25zdCBuYyBvZiBuY3MpIHtcbiAgICAgICAgICBpZiAobmMuaGFzQXR0cmlidXRlKCdjdXJ2ZScpICYmIG5jLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgbGlxID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAgICAgICAgICdsaXF1ZXNjZW50JyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsaXEuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgICAgICAgbmMuYXBwZW5kQ2hpbGQobGlxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaGFzRW1wdHlTeWxsYWJsZSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGlzIGZpbGUgY29udGFpbnMgc3lsbGFibGUocykgd2l0aG91dCBuZXVtZSEnLFxuICAgICAgJ3dhcm5pbmcnLFxuICAgICAgZW1wdHlTeWxsYWJsZUluZm8sXG4gICAgKTtcbiAgfVxuICBpZiAoaGFzRW1wdHlOZXVtZSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGlzIGZpbGUgY29udGFpbnMgbmV1bWUocykgd2l0aG91dCBuZXVtZSBjb21wb25lbnQhJyxcbiAgICAgICd3YXJuaW5nJyxcbiAgICAgIGVtcHR5TmV1bWVJbmZvLFxuICAgICk7XG4gIH1cbiAgaWYgKGhhc0ludmFsaWREaXZMaW5lKSB7XG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgJ1RoaXMgZmlsZSBjb250YWlucyBkaXZMaW5lKHMpIGluc2lkZSBlbXB0eSBzeWxsYWJsZShzKSEnLFxuICAgICAgJ3dhcm5pbmcnLFxuICAgICAgaW52YWxpZERpdkxpbmVJbmZvLFxuICAgICk7XG4gIH1cbiAgaWYgKGhhc0ludmFsaWRBY2NpZCkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGlzIGZpbGUgY29udGFpbnMgYWNjaWQocykgaW5zaWRlIGVtcHR5IHN5bGxhYmxlKHMpIScsXG4gICAgICAnd2FybmluZycsXG4gICAgICBpbnZhbGlkQWNjaWRJbmZvLFxuICAgICk7XG4gIH1cblxuICAvLyBHbyBzZWN0aW9uIGJ5IHNlY3Rpb24ganVzdCBpbiBjYXNlXG4gIGNvbnN0IHNlY3Rpb25zID0gQXJyYXkuZnJvbShtZWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NlY3Rpb24nKSk7XG4gIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBzZWN0aW9ucykge1xuICAgIC8vIEluIGNhc2UgdGhlcmUgYXJlIG11bHRpcGxlIHN0YXZlcyBoZXJlIHdlIHdhbnQgdG8gcHJlc2VydmUgdGhvc2VcbiAgICAvLyBBIHNlcGFyYXRlIGFycmF5IGlzIG5lY2Vzc2FyeSBhcyB0aGUgSFRNTENvbGxlY3Rpb24gd2lsbCB1cGRhdGUhXG4gICAgY29uc3Qgb3JpZ2luYWxTdGF2ZXMgPSBBcnJheS5mcm9tKHNlY3Rpb24uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0YWZmJykpO1xuICAgIGZvciAoY29uc3Qgc3RhZmYgb2Ygb3JpZ2luYWxTdGF2ZXMpIHtcbiAgICAgIC8vIEFkZCBhIHBiIHdpdGggYSBmYWNzIHBvaW50aW5nIHRvIHRoZSBzdXJmYWNlXG4gICAgICBjb25zdCBuZXdQYiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLFxuICAgICAgICAncGInLFxuICAgICAgKTtcbiAgICAgIG5ld1BiLnNldEF0dHJpYnV0ZSgnZmFjcycsICcjJyArIHN1cmZhY2UuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSk7XG4gICAgICBzZWN0aW9uLmluc2VydEJlZm9yZShuZXdQYiwgc3RhZmYpO1xuXG4gICAgICBjb25zdCBsYXllciA9IHN0YWZmLnF1ZXJ5U2VsZWN0b3IoJ2xheWVyJyk7XG4gICAgICAvLyBGaXJzdCBwYXNzOiBnZXQgYWxsIHNiIGVsZW1lbnRzIGFzIGRpcmVjdCBjaGlsZHJlbiBvZiBsYXllclxuICAgICAgY29uc3Qgc2JBcnJheSA9IEFycmF5LmZyb20obGF5ZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NiJykpO1xuICAgICAgLy8gQ2hlY2sgaWYgYW55IHN5bGxhYmxlcyBoYXZlIHNiIGluc2lkZSAobGlua2VkIHN5bGxhYmxlcylcbiAgICAgIC8vIEtlZXAgdGhpcyBjaGVjayBmb3IgZmlsZXMgbm90IHByb2R1Y2VkIGJ5IFJvZGFuXG4gICAgICBmb3IgKGNvbnN0IHNiIG9mIHNiQXJyYXkpIHtcbiAgICAgICAgaWYgKHNiLnBhcmVudEVsZW1lbnQudGFnTmFtZSAhPT0gJ2xheWVyJykge1xuICAgICAgICAgIGNvbnN0IG9yaWdTeWxsYWJsZTogRWxlbWVudCA9IHNiLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgbGV0IG5ldW1lQmVoaW5kID0gZmFsc2UsXG4gICAgICAgICAgICBuZXVtZUFoZWFkID0gZmFsc2U7XG4gICAgICAgICAgY29uc3QgY2hpbGRBcnJheSA9IEFycmF5LmZyb20ob3JpZ1N5bGxhYmxlLmNoaWxkcmVuKTtcbiAgICAgICAgICBjb25zdCBzYkluZGV4ID0gY2hpbGRBcnJheS5pbmRleE9mKHNiKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IG5ldW1lIG9mIG9yaWdTeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmV1bWUnKSkge1xuICAgICAgICAgICAgY29uc3QgaW5kID0gY2hpbGRBcnJheS5pbmRleE9mKG5ldW1lKTtcbiAgICAgICAgICAgIGlmIChpbmQgPCBzYkluZGV4KSB7XG4gICAgICAgICAgICAgIG5ldW1lQmVoaW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kID4gc2JJbmRleCkge1xuICAgICAgICAgICAgICBuZXVtZUFoZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBNYXJrIGlmIGEgbmV3IHN0YWZmIGJlZ2lucyBiZWZvcmUgdGhlIGN1cnJlbnQgc3lsbGFibGUsIGFmdGVyIGl0LCBvciBpbiB0aGUgbWlkZGxlIG9mIGl0XG4gICAgICAgICAgLy8gSWYgaW4gdGhlIG1pZGRsZSwgbGluayBzeWxsYWJsZXNcbiAgICAgICAgICBpZiAoIW5ldW1lQmVoaW5kICYmIG5ldW1lQWhlYWQpIHtcbiAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgc2IpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV1bWVCZWhpbmQgJiYgIW5ldW1lQWhlYWQpIHtcbiAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgc2IpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV1bWVCZWhpbmQgJiYgbmV1bWVBaGVhZCkge1xuICAgICAgICAgICAgLy8gV2UgbWF5IG5lZWQgdG8gc3BsaXQgdGhlIHN5bGxhYmxlIGhlcmVcbiAgICAgICAgICAgIGNvbnN0IG5ld1N5bGxhYmxlID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAgICAgICAgICdzeWxsYWJsZScsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbmV3U3lsbGFibGUuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgICAgICAgbmV3U3lsbGFibGUuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAnZm9sbG93cycsXG4gICAgICAgICAgICAgICcjJyArIG9yaWdTeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICdwcmVjZWRlcycsXG4gICAgICAgICAgICAgICcjJyArIG5ld1N5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBzYkluZGV4ID0gY2hpbGRBcnJheS5pbmRleE9mKHNiKTtcblxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZEFycmF5KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2hpbGRBcnJheS5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgICAgICAgaWYgKGluZGV4ID4gc2JJbmRleCkge1xuICAgICAgICAgICAgICAgIG5ld1N5bGxhYmxlLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcmlnU3lsbGFibGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIHNiKTtcbiAgICAgICAgICAgIHNiLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBuZXdTeWxsYWJsZSk7XG5cbiAgICAgICAgICAgIC8vIE1vdmUgYW55IGN1c3RvcyBpbiBvcmlnU3lsbGFibGUgb3V0IG9mIGl0XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGN1c3RvcyBvZiBvcmlnU3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2N1c3RvcycpKSB7XG4gICAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgY3VzdG9zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTW92ZSBhbnkgY2xlZiBpbiBuZXdTeWxsYWJsZSBvdXQgb2YgaXRcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2xlZiBvZiBuZXdTeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2xlZicpKSB7XG4gICAgICAgICAgICAgIG5ld1N5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBjbGVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdOT05FIEJFSElORCBOT05FIEFIRUFEJyk7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKG9yaWdTeWxsYWJsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNicyA9IEFycmF5LmZyb20obGF5ZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NiJykpO1xuICAgICAgY29uc3QgbGF5ZXJDaGlsZHJlbiA9IEFycmF5LmZyb20obGF5ZXIuY2hpbGRyZW4pO1xuICAgICAgbGV0IG5Db2wgPSAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY3VycmVudFNiID0gc2JzW2ldO1xuICAgICAgICBjb25zdCBuZXh0U2IgPSBzYnMubGVuZ3RoID4gaSArIDEgPyBzYnNbaSArIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IG5ld1NiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJyxcbiAgICAgICAgICAnc2InLFxuICAgICAgICApO1xuICAgICAgICBuZXdTYi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICAgIG5ld1NiLnNldEF0dHJpYnV0ZSgnZmFjcycsIGN1cnJlbnRTYi5nZXRBdHRyaWJ1dGUoJ2ZhY3MnKSk7XG5cbiAgICAgICAgY29uc3QgbmV3U2VjdGlvbiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAgICAgJ3NlY3Rpb24nLFxuICAgICAgICApO1xuICAgICAgICBuZXdTZWN0aW9uLnNldEF0dHJpYnV0ZSgndHlwZScsICduZW9uLW5ldW1lLWxpbmUnKTtcblxuICAgICAgICBjb25zdCBuZXdTdGFmZiA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAgICAgJ3N0YWZmJyxcbiAgICAgICAgKTtcbiAgICAgICAgY29weUF0dHJpYnV0ZXMoY3VycmVudFNiLCBuZXdTdGFmZik7XG4gICAgICAgIG5ld1N0YWZmLnNldEF0dHJpYnV0ZSgnbicsICcxJyk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJZHggPSBsYXllckNoaWxkcmVuLmluZGV4T2YoY3VycmVudFNiKTtcbiAgICAgICAgaWYgKGhhc0NvbHMpIHtcbiAgICAgICAgICBpZiAobGF5ZXJDaGlsZHJlbi5hdChjdXJyZW50SWR4IC0gMSkudGFnTmFtZSA9PT0gJ2NiJykge1xuICAgICAgICAgICAgbkNvbCArPSAxO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGNiIGVsZW1lbnQgYW5kIGl0cyB6b25lXG4gICAgICAgICAgICBjb25zdCBjYiA9IGxheWVyQ2hpbGRyZW4uYXQoY3VycmVudElkeCAtIDEpO1xuICAgICAgICAgICAgY29uc3QgY2JGYWNzID0gY2IuZ2V0QXR0cmlidXRlKCdmYWNzJyk7XG4gICAgICAgICAgICBjb25zdCBjYlpvbmUgPSBBcnJheS5mcm9tKHN1cmZhY2UucXVlcnlTZWxlY3RvckFsbCgnem9uZScpKS5maW5kKFxuICAgICAgICAgICAgICAoem9uZSkgPT4gem9uZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpID09PSBjYkZhY3Muc2xpY2UoMSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY2IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjYik7XG4gICAgICAgICAgICBjYlpvbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjYlpvbmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdTdGFmZi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY29sdW1uJyArIG5Db2wudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuZXdMYXllciA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsXG4gICAgICAgICAgJ2xheWVyJyxcbiAgICAgICAgKTtcbiAgICAgICAgbmV3TGF5ZXIuc2V0QXR0cmlidXRlKCduJywgJzEnKTtcbiAgICAgICAgbmV3TGF5ZXIuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgICBuZXdTZWN0aW9uLmFwcGVuZENoaWxkKG5ld1N0YWZmKTtcbiAgICAgICAgbmV3U3RhZmYuYXBwZW5kQ2hpbGQobmV3TGF5ZXIpO1xuXG4gICAgICAgIGNvbnN0IGNoaWxkcmVuQXJyYXkgPSBBcnJheS5mcm9tKGxheWVyLmNoaWxkcmVuKTtcbiAgICAgICAgY29uc3QgY29weUFycmF5ID0gY2hpbGRyZW5BcnJheS5zbGljZShcbiAgICAgICAgICBjaGlsZHJlbkFycmF5LmluZGV4T2YoY3VycmVudFNiKSArIDEsXG4gICAgICAgICAgY2hpbGRyZW5BcnJheS5pbmRleE9mKG5leHRTYiksXG4gICAgICAgICk7XG5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjb3B5QXJyYXkpIHtcbiAgICAgICAgICBuZXdMYXllci5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdGhlIHpvbmVzIGZvciB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBvcmlnaW5hbCBmaWxlXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlIGxhc3QgZWxlbWVudCBpcyBub3QgaW5jbHVkZWRcbiAgICAgICAgaWYgKCFuZXh0U2IpIHtcbiAgICAgICAgICBjb25zdCBsYXN0RWxlbWVudCA9IGNoaWxkcmVuQXJyYXkuYXQoLTEpO1xuICAgICAgICAgIGNvbnN0IGZhY3NDaGlsZHJlbiA9IGNvbGxlY3RGYWNzQ2hpbGRyZW4obGFzdEVsZW1lbnQsIFtdKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGZhY3NDaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3Qgem9uZSA9IHpvbmVzLmZpbmQoXG4gICAgICAgICAgICAgICh6KSA9PlxuICAgICAgICAgICAgICAgIHouZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PSBjaGlsZC5nZXRBdHRyaWJ1dGUoJ2ZhY3MnKS5zbGljZSgxKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoem9uZSAmJiB6b25lcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIHpvbmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh6b25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZWN0aW9uLmluc2VydEJlZm9yZShuZXdTYiwgc3RhZmYpO1xuICAgICAgICBzZWN0aW9uLmluc2VydEJlZm9yZShuZXdTZWN0aW9uLCBzdGFmZik7XG4gICAgICB9XG4gICAgICBzdGFmZi5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICAvLyBTZWNvbmQgcGFzcyBvbiBhbGwgc3lsbGFibGVzIHRvIGhhbmRsZSBjbGVmcyBhbmQgY3VzdG9zIHRoYXQgbWlnaHQgcmVtYWluXG4gIGNvbnN0IG5ld1N5bGxhYmxlcyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzeWxsYWJsZScpKTtcbiAgbGV0IGludmFsaWRMaW5rZWQgPSBmYWxzZTtcbiAgbGV0IGludmFsaWRMaW5rZWRJbmZvID1cbiAgICAnVGhlIGZvbGxvd2luZyBsaW5rZWQgc3lsbGFibGVzIGFyZSBub3QgZW5jb2RlZCBjb3JyZWN0bHk6IFxcblxcbic7XG4gIGxldCBpbnZhbGlkT2JsaXF1ZSA9IGZhbHNlO1xuICBsZXQgaW52YWxpZE9ibGlxdWVJbmZvID0gJ1RoZSBmb2xsb3dpbmcgb2JsaXF1ZXMgYXJlIGluY29tcGxldGU6IFxcblxcbic7XG4gIGZvciAoY29uc3Qgc3lsbGFibGUgb2YgbWVpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N5bGxhYmxlJykpIHtcbiAgICBmb3IgKGNvbnN0IGNsZWYgb2Ygc3lsbGFibGUucXVlcnlTZWxlY3RvckFsbCgnY2xlZicpKSB7XG4gICAgICBzeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgY2xlZik7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY3VzdG9zIG9mIHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2N1c3RvcycpKSB7XG4gICAgICBzeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgY3VzdG9zKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpbmNvbXBsZXRlIG9ibGlxdWVzXG4gICAgLy8gT2JsaXF1ZXMgYWx3YXlzIGNvbWUgYXMgYSBwYWlyXG4gICAgY29uc3Qgb2JsaXF1ZUluZm8gPSBjaGVja09ibGlxdWUoc3lsbGFibGUpO1xuICAgIGlmIChvYmxpcXVlSW5mbykge1xuICAgICAgaW52YWxpZE9ibGlxdWUgPSB0cnVlO1xuICAgICAgaW52YWxpZE9ibGlxdWVJbmZvICs9IG9ibGlxdWVJbmZvO1xuICAgIH1cblxuICAgIC8vIENoZWNrIHN5bGxhYmxlcyB0aGF0IGNvbnRhaW5zIEBwcmVjZWRlcyBvciBAZm9sbG93c1xuICAgIC8vIFVwZGF0ZSBzeWxsYWJsZSBhcnJheXMgZm9yIGVhY2ggc3lsbGFibGVcbiAgICBjb25zdCBzeWxsYWJsZUlkeCA9IG5ld1N5bGxhYmxlcy5pbmRleE9mKHN5bGxhYmxlKTtcblxuICAgIC8vIFZhbGlkYXRlIHRvZ2dsZS1saW5rZWQgc3lsbGFibGVcbiAgICAvLyBDaGVjayB0aGUgcHJlY2VkZXMgc3lsbGFibGVcbiAgICBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdwcmVjZWRlcycpKSB7XG4gICAgICBjb25zdCBpbmZvID0gY2hlY2tQcmVjZWRlc1N5bGxhYmxlKHN5bGxhYmxlLCBzeWxsYWJsZUlkeCwgbmV3U3lsbGFibGVzKTtcbiAgICAgIGlmIChpbmZvKSB7XG4gICAgICAgIGludmFsaWRMaW5rZWQgPSB0cnVlO1xuICAgICAgICBpbnZhbGlkTGlua2VkSW5mbyArPSBpbmZvO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBDaGVjayB0aGUgZm9sbG93cyBzeWxsYWJsZVxuICAgIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSkge1xuICAgICAgY29uc3QgaW5mbyA9IGNoZWNrRm9sbG93c1N5bGxhYmxlKHN5bGxhYmxlLCBuZXdTeWxsYWJsZXMpO1xuICAgICAgaWYgKGluZm8pIHtcbiAgICAgICAgaW52YWxpZExpbmtlZCA9IHRydWU7XG4gICAgICAgIGludmFsaWRMaW5rZWRJbmZvICs9IGluZm87XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChpbnZhbGlkT2JsaXF1ZSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGlzIGZpbGUgY29udGFpbnMgaW5jb21wbGV0ZSBvYmxpcXVlKHMpJyxcbiAgICAgICdlcnJvcicsXG4gICAgICBpbnZhbGlkT2JsaXF1ZUluZm8sXG4gICAgKTtcbiAgfVxuICBpZiAoaW52YWxpZExpbmtlZCkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICdUaGlzIGZpbGUgY29udGFpbnMgaW52YWxpZCBsaW5rZWQgc3lsbGFibGUocyknLFxuICAgICAgJ2Vycm9yJyxcbiAgICAgIGludmFsaWRMaW5rZWRJbmZvLFxuICAgICk7XG4gIH1cblxuICBjb25zdCBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgcmV0dXJuIHZrYmVhdXRpZnkueG1sKHNlcmlhbGl6ZXIuc2VyaWFsaXplVG9TdHJpbmcobWVpRG9jKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja091dE9mQm91bmRzR2x5cGhzKG1laVN0cmluZzogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gIC8vIENoZWNrIGZvciBvdXQtb2YtYm91bmQgZ2x5cGhzXG4gIGNvbnN0IHpvbmVzID0gQXJyYXkuZnJvbShtZWkucXVlcnlTZWxlY3RvckFsbCgnem9uZScpKTtcbiAgY29uc3QgZGltZW5zaW9ucyA9IG1laS5xdWVyeVNlbGVjdG9yKCdzdXJmYWNlJyk7XG4gIGNvbnN0IG1laUxyeCA9IE51bWJlcihkaW1lbnNpb25zLmdldEF0dHJpYnV0ZSgnbHJ4JykpLFxuICAgIG1laUxyeSA9IE51bWJlcihkaW1lbnNpb25zLmdldEF0dHJpYnV0ZSgnbHJ5JykpO1xuXG4gIGZ1bmN0aW9uIGlzQXR0ck91dE9mQm91bmRzKHpvbmU6IEVsZW1lbnQsIGF0dHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNvb3JkID0gTnVtYmVyKHpvbmUuZ2V0QXR0cmlidXRlKGF0dHIpKTtcbiAgICBjb25zdCBjb21wID0gYXR0ciA9PSAnbHJ4JyB8fCBhdHRyID09ICd1bHgnID8gbWVpTHJ4IDogbWVpTHJ5O1xuICAgIHJldHVybiBjb29yZCA8IDAgfHwgY29vcmQgPiBjb21wO1xuICB9XG5cbiAgbGV0IGluZm8gPSAnVGhlIGZvbGxvd2luZyBnbHlwaHMgYXJlIG91dCBvZiBib3VuZHM6IFxcblxcbic7XG5cbiAgY29uc3QgaGFzT3V0T2ZCb3VuZHMgPSB6b25lcy5zb21lKCh6b25lKSA9PiB7XG4gICAgY29uc3QgaXNPdXRPZkJvdW5kcyA9IFsndWx4JywgJ3VseScsICdscngnLCAnbHJ5J10uc29tZSgoYXR0cikgPT5cbiAgICAgIGlzQXR0ck91dE9mQm91bmRzKHpvbmUsIGF0dHIpLFxuICAgICk7XG4gICAgaWYgKGlzT3V0T2ZCb3VuZHMpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBtZWkucXVlcnlTZWxlY3RvcihcbiAgICAgICAgYCpbZmFjcz1cIiR7JyMnICsgem9uZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfVwiXWAsXG4gICAgICApO1xuICAgICAgaW5mbyArPSBgLSAmbHQ7JHtlbGVtZW50LnRhZ05hbWV9Jmd0OyB3aXRoIHhtbDppZDogJHtlbGVtZW50LmdldEF0dHJpYnV0ZShcbiAgICAgICAgJ3htbDppZCcsXG4gICAgICApfVxcbmA7XG4gICAgfVxuICAgIHJldHVybiBpc091dE9mQm91bmRzO1xuICB9KTtcblxuICBpZiAoaGFzT3V0T2ZCb3VuZHMpIHtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAnVGhpcyBmb2xpbyBjb250YWlucyBnbHlwaChzKSBwbGFjZWQgb3V0LW9mLWJvdW5kcyEnLFxuICAgICAgJ3dhcm5pbmcnLFxuICAgICAgaW5mbyxcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrUHJlY2VkZXNTeWxsYWJsZShcbiAgc3lsbGFibGU6IEVsZW1lbnQsXG4gIGlkeDogbnVtYmVyLFxuICBzeWxsYWJsZXM6IEVsZW1lbnRbXSxcbik6IHN0cmluZyB7XG4gIC8vIEdldCB4bWw6aWQgb2YgdGhlIG5leHQgc3lsbGFibGUgKHdpdGhvdXQgdGhlICMsIGlmIGl0IGV4aXN0cylcbiAgY29uc3QgbmV4dFN5bGxhYmxlSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJykucmVwbGFjZSgnIycsICcnKTtcblxuICAvLyBGaW5kIHRoZSBuZXh0IHN5bGxhYmxlIGFuZCBpdHMgaW5kZXggaW4gdGhlIGFycmF5XG4gIGxldCBuZXh0U3lsbGFibGVJZHg6IG51bWJlcjtcbiAgY29uc3QgbmV4dFN5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoKGVsZW1lbnQsIGlkeCkgPT4ge1xuICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IG5leHRTeWxsYWJsZUlkKSB7XG4gICAgICBuZXh0U3lsbGFibGVJZHggPSBpZHg7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xuXG4gIC8vIENvbmRpdGlvbiAxOiBUaGUgbmV4dCAoZm9sbG93aW5nKSBzeWxsYWJsZSBjYW5ub3QgYmUgZm91bmRcbiAgaWYgKCFuZXh0U3lsbGFibGUpIHtcbiAgICByZXR1cm4gYC0gJmx0OyR7c3lsbGFibGUudGFnTmFtZX0mZ3Q7ICgke2dldFN5bGxhYmxlVGV4dChcbiAgICAgIHN5bGxhYmxlLFxuICAgICl9KSB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoXG4gICAgICAneG1sOmlkJyxcbiAgICApfSBpcyBtaXNzaW5nIHRoZSBmb2xsb3dpbmcgcGFydFxcbmA7XG4gIH1cblxuICAvLyBDb25kaXRpb24gMjogVGhlIG5leHQgc3lsbGFibGUgaGFzIGJlZW4gZm91bmQsIGJ1dCB0aGUgQGZvbGxvd3MgYXR0cmlidXRlIGRvZXMgTk9UIEVYSVNUXG4gIGlmICghbmV4dFN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnZm9sbG93cycpKSB7XG4gICAgcmV0dXJuIGAtIFRoZSBmb2xsb3dpbmcgc3lsbGFibGUgb2YgJmx0OyR7XG4gICAgICBzeWxsYWJsZS50YWdOYW1lXG4gICAgfSZndDsgKCR7Z2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKX0pIHdpdGggeG1sOmlkOiAke3N5bGxhYmxlLmdldEF0dHJpYnV0ZShcbiAgICAgICd4bWw6aWQnLFxuICAgICl9IGlzIG5vdCBsaW5rZWQgdG8gYW55IHN5bGxhYmxlXFxuYDtcbiAgfVxuXG4gIC8vIENvbmRpdGlvbiAzOiBUaGUgbmV4dCBzeWxsYWJsZSdzIEBmb2xsb3dzIGF0dHJpYnV0ZSBleGlzdHMsIGJ1dCBpdCBpcyBub3QgaW4gdGhlIGNvcnJlY3QgZm9ybWF0ICNpZFxuICBpZiAoXG4gICAgbmV4dFN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpICE9XG4gICAgJyMnICsgc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKVxuICApIHtcbiAgICByZXR1cm4gYC0gVGhlIGZvbGxvd2luZyBzeWxsYWJsZSBvZiAmbHQ7JHtcbiAgICAgIHN5bGxhYmxlLnRhZ05hbWVcbiAgICB9Jmd0OyAoJHtnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpfSkgd2l0aCB4bWw6aWQ6ICR7c3lsbGFibGUuZ2V0QXR0cmlidXRlKFxuICAgICAgJ3htbDppZCcsXG4gICAgKX0gaXMgbGlua2VkIHRvIHRoZSB3cm9uZyBzeWxsYWJsZVxcbmA7XG4gIH1cblxuICAvLyBDb25kaXRpb24gNDpcbiAgLy8gU2luY2UgdGhlIEBmb2xsb3dzIHZhbHVlIGlzIGNvcnJlY3QsIGEgcGFpciBvZiBzeWxsYWJsZXMgZXhpc3QgZm9yIHRoZSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlLlxuICAvLyBDaGVjayBpZiB0aGUgQGZvbGxvd3Mgc3lsbGFibGUgaXMgdGhlIG5leHQgc3lsbGFibGUgKGluZGV4LXdpc2UpIGluIHRoZSBhcnJheTpcbiAgaWYgKG5leHRTeWxsYWJsZUlkeCAhPT0gaWR4ICsgMSkge1xuICAgIGNvbnN0IHN5bFRleHQgPSBnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpO1xuICAgIGNvbnN0IHVuZXhwZWN0ZWRTeWxzVGV4dCA9IHN5bGxhYmxlc1xuICAgICAgLnNsaWNlKGlkeCArIDEsIG5leHRTeWxsYWJsZUlkeClcbiAgICAgIC5tYXAoKHN5bGxhYmxlKSA9PiBnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpKTtcblxuICAgIGNvbnN0IHN5bHNUZXh0ID0gW3N5bFRleHQsIC4uLnVuZXhwZWN0ZWRTeWxzVGV4dF0uam9pbignIC0gJyk7XG4gICAgcmV0dXJuIGAtIFVuZXhwZWN0ZWQgc3lsbGFibGUocykgaW5zaWRlIHRvZ2dsZS1saW5rZWQgJmx0OyR7XG4gICAgICBzeWxsYWJsZS50YWdOYW1lXG4gICAgfSZndDsgKCR7c3lsc1RleHR9KSB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoXG4gICAgICAneG1sOmlkJyxcbiAgICApfSBpcyBsaW5rZWQgdG8gdGhlIHdyb25nIHN5bGxhYmxlXFxuYDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0ZvbGxvd3NTeWxsYWJsZShzeWxsYWJsZTogRWxlbWVudCwgc3lsbGFibGVzOiBFbGVtZW50W10pOiBzdHJpbmcge1xuICBjb25zdCBwcmV2U3lsbGFibGVJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpLnJlcGxhY2UoJyMnLCAnJyk7XG4gIGNvbnN0IHByZXZTeWxsYWJsZSA9IHN5bGxhYmxlcy5maW5kKFxuICAgIChzeWxsYWJsZSkgPT4gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT0gcHJldlN5bGxhYmxlSWQsXG4gICk7XG5cbiAgLy8gQ29uZGl0aW9uIDE6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSBkb2VzIG5vdCBleGlzdFxuICBpZiAoIXByZXZTeWxsYWJsZSkge1xuICAgIHJldHVybiBgLSAmbHQ7JHtzeWxsYWJsZS50YWdOYW1lfSZndDsgKCR7Z2V0U3lsbGFibGVUZXh0KFxuICAgICAgc3lsbGFibGUsXG4gICAgKX0pIHdpdGggeG1sOmlkOiAke3N5bGxhYmxlLmdldEF0dHJpYnV0ZShcbiAgICAgICd4bWw6aWQnLFxuICAgICl9IGlzIG1pc3NpbmcgdGhlIHByZWNlZGluZyBwYXJ0XFxuYDtcbiAgfVxuXG4gIC8vIENvbmRpdGlvbiAyOiBUaGUgcHJldmlvdXMgc3lsbGFibGUgZXhpc3RzLCBidXQgdGhlIEBwcmVjZWRlcyBhdHRyaWJ1dGUgZG9lcyBOT1QgRVhJU1RcbiAgaWYgKCFwcmV2U3lsbGFibGUuaGFzQXR0cmlidXRlKCdwcmVjZWRlcycpKSB7XG4gICAgcmV0dXJuIGAtIFRoZSBwcmVjZWRpbmcgc3lsbGFibGUgb2YgJmx0OyR7XG4gICAgICBzeWxsYWJsZS50YWdOYW1lXG4gICAgfSZndDsgKCR7Z2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKX0pIHdpdGggeG1sOmlkOiAke3N5bGxhYmxlLmdldEF0dHJpYnV0ZShcbiAgICAgICd4bWw6aWQnLFxuICAgICl9IGlzIG5vdCBsaW5rZWQgdG8gYW55IHN5bGxhYmxlXFxuYDtcbiAgfVxuXG4gIC8vIENvbmRpdGlvbiAzOiBUaGUgcHJldmlvdXMgc3lsbGFibGUncyBAcHJlY2VkZXMgYXR0cmlidXRlIGV4aXN0cywgYnV0IGl0IGlzIG5vdCBpbiB0aGUgY29ycmVjdCBmb3JtYXQgI2lkXG4gIGlmIChcbiAgICBwcmV2U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdwcmVjZWRlcycpICE9XG4gICAgJyMnICsgc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKVxuICApIHtcbiAgICByZXR1cm4gYC0gVGhlIHByZWNlZGluZyBzeWxsYWJsZSBvZiAmbHQ7JHtcbiAgICAgIHN5bGxhYmxlLnRhZ05hbWVcbiAgICB9Jmd0OyAoJHtnZXRTeWxsYWJsZVRleHQoXG4gICAgICBwcmV2U3lsbGFibGUsXG4gICAgKX0pIHdpdGggeG1sOmlkOiAke3N5bGxhYmxlLmdldEF0dHJpYnV0ZShcbiAgICAgICd4bWw6aWQnLFxuICAgICl9IGlzIGxpbmtlZCB0byB0aGUgd3Jvbmcgc3lsbGFibGVcXG5gO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrT2JsaXF1ZShzeWxsYWJsZTogRWxlbWVudCk6IHN0cmluZyB7XG4gIGNvbnN0IG5jcyA9IHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ25jJyk7XG4gIGxldCBuY0lkeCA9IDA7XG4gIGxldCBpbmZvID0gJyc7XG4gIHdoaWxlIChuY0lkeCA8IG5jcy5sZW5ndGgpIHtcbiAgICBpZiAobmNzW25jSWR4XS5nZXRBdHRyaWJ1dGUoJ2xpZ2F0ZWQnKSkge1xuICAgICAgaWYgKFxuICAgICAgICAobmNJZHggPCBuY3MubGVuZ3RoIC0gMSAmJiAhbmNzW25jSWR4ICsgMV0uZ2V0QXR0cmlidXRlKCdsaWdhdGVkJykpIHx8XG4gICAgICAgIG5jSWR4ID09IG5jcy5sZW5ndGggLSAxXG4gICAgICApIHtcbiAgICAgICAgLy8gSWYgbmMgaXMgbGlnYXRlZCwgYW5kIHRoZSBuZXh0IG5jIGlzIG5vdFxuICAgICAgICAvLyBPciwgbmMgaXMgbGlnYXRlZCwgYnV0IGFscmVhZHkgYXQgdGhlIGVuZCAodGhlcmUgaXMgbm8gbmV4dClcbiAgICAgICAgaW5mbyArPSBgLSBUaGUgb2JsaXF1ZSBpbiBzeWxsYWJsZSAoJHtnZXRTeWxsYWJsZVRleHQoXG4gICAgICAgICAgc3lsbGFibGUsXG4gICAgICAgICl9KSB3aXRoIHhtbDppZDogJHtzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpfVxcbmA7XG4gICAgICB9XG4gICAgICBuY0lkeCArPSAyO1xuICAgIH1cbiAgICBuY0lkeCArPSAxO1xuICB9XG5cbiAgcmV0dXJuIGluZm87XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDb2x1bW5MYWJlbChtZWk6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWksICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWlGb3JWYWxpZGF0aW9uID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcblxuICBmb3IgKGNvbnN0IHN0YWZmIG9mIEFycmF5LmZyb20oXG4gICAgbWVpRm9yVmFsaWRhdGlvbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3RhZmYnKSxcbiAgKSkge1xuICAgIGlmIChzdGFmZi5oYXNBdHRyaWJ1dGUoJ3R5cGUnKSkge1xuICAgICAgc3RhZmYucmVtb3ZlQXR0cmlidXRlKCd0eXBlJyk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XG4gIHJldHVybiB2a2JlYXV0aWZ5LnhtbChzZXJpYWxpemVyLnNlcmlhbGl6ZVRvU3RyaW5nKG1laUZvclZhbGlkYXRpb24pKTtcbn1cblxuZnVuY3Rpb24gY29sbGVjdEZhY3NDaGlsZHJlbihlbGVtZW50OiBFbGVtZW50LCBhcnJheTogRWxlbWVudFtdKTogRWxlbWVudFtdIHtcbiAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdmYWNzJykpIGFycmF5LnB1c2goZWxlbWVudCk7XG4gIGZvciAoY29uc3QgY2hpbGQgb2YgZWxlbWVudC5jaGlsZHJlbikge1xuICAgIC8vIFJlY3Vyc2l2ZWx5IGNhbGwgdGhlIGZ1bmN0aW9uIGZvciBjaGlsZCdzIGNoaWxkcmVuXG4gICAgY29sbGVjdEZhY3NDaGlsZHJlbihjaGlsZCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCB7IE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4vdXRpbHMvTW9kYWxXaW5kb3cnO1xuXG5jb25zdCBzY2hlbWFSZXNwb25zZSA9IGZldGNoKF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL21laS1hbGwucm5nJyk7XG5sZXQgd29ya2VyOiBXb3JrZXIsIHNjaGVtYTogc3RyaW5nLCB2ZXJzaW9uRmllbGQ6IEhUTUxTcGFuRWxlbWVudCwgc3RhdHVzRmllbGQ6IEhUTUxTcGFuRWxlbWVudDtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIFVJIHdpdGggdGhlIHZhbGlkYXRpb24gcmVzdWx0cy4gQ2FsbGVkIHdoZW4gdGhlIFdlYldvcmtlciBmaW5pc2hlcyB2YWxpZGF0aW5nLlxuICovXG5mdW5jdGlvbiB1cGRhdGVTdGF0dXNVSSAobWVzc2FnZTogeyBkYXRhOiBzdHJpbmdbXSB9KTogdm9pZCB7XG4gIGNvbnN0IGVycm9ycyA9IG1lc3NhZ2UuZGF0YTtcbiAgaWYgKGVycm9ycyA9PT0gbnVsbCkge1xuICAgIHN0YXR1c0ZpZWxkLnRleHRDb250ZW50ID0gJ1ZBTElEJztcbiAgICBzdGF0dXNGaWVsZC5zdHlsZS5jb2xvciA9ICcjNGJjMTRiJztcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHN0YXR1c0ZpZWxkLmNoaWxkcmVuKSB7XG4gICAgICBjaGlsZC5yZW1vdmUoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IGxvZyA9ICcnO1xuICAgIGVycm9ycy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgbG9nICs9IGxpbmUgKyAnXFxuJztcbiAgICB9KTtcbiAgICBzdGF0dXNGaWVsZC50ZXh0Q29udGVudCA9ICcnO1xuICAgIHN0YXR1c0ZpZWxkLnN0eWxlLmNvbG9yID0gJ3JlZCc7XG4gICAgLy8gQ3JlYXRlIGEgbmV3IGRpdiBmb3IgZWFzaWVyIGxvZyBpbXBsZW1lbnRhdGlvblxuICAgIGNvbnN0IHN0YXR1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIC8vbGluay5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQobG9nKX1gKTtcbiAgICAvL2xpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICd2YWxpZGF0aW9uLmxvZycpO1xuICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICdJTlZBTElEJztcbiAgICBzdGF0dXMuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgIHN0YXR1c0ZpZWxkLmFwcGVuZENoaWxkKHN0YXR1cyk7XG5cbiAgICBzdGF0dXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdGF0dXNPbkNsaWNrLmJpbmQodGhpcywgbG9nKSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlVmVyc2lvblVJICh2ZXJzaW9uOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKCF2ZXJzaW9uKSB7XG4gICAgcmV0dXJuO1xuICB9IFxuXG4gIHN3aXRjaCAodmVyc2lvbikge1xuICAgIGNhc2UgJ3Vua25vd24nOlxuICAgICAgdmVyc2lvbkZpZWxkLnRleHRDb250ZW50ID0gdmVyc2lvbjtcbiAgICAgIHZlcnNpb25GaWVsZC5zdHlsZS5jb2xvciA9ICdncmF5JztcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHZlcnNpb25GaWVsZC50ZXh0Q29udGVudCA9IHZlcnNpb247XG4gICAgICB2ZXJzaW9uRmllbGQuc3R5bGUuY29sb3IgPSAnIzY4QTdBRCc7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RhdHVzT25DbGljayhsb2c6IHN0cmluZykge1xuICB0aGlzLm1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuRVJST1JfTE9HLCBsb2cpO1xuICB0aGlzLm1vZGFsLm9wZW5Nb2RhbFdpbmRvdygpO1xufVxuXG4vKipcbiAqIEFkZCB0aGUgdmFsaWRhdGlvbiBpbmZvcm1hdGlvbiB0byB0aGUgZGlzcGxheSBhbmQgY3JlYXRlIHRoZSBXZWJXb3JrZXJcbiAqIGZvciB2YWxpZGF0aW9uIE1FSS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXQgKG5lb25WaWV3OiBOZW9uVmlldyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBmaWxlU3RhdHVzRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUtc3RhdHVzJyk7XG4gIGlmIChmaWxlU3RhdHVzRGl2ICE9PSBudWxsKSB7XG4gICAgY29uc3QgbWVpVmVyc2lvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZWlfdmVyc2lvbicpO1xuICAgIG1laVZlcnNpb24udGV4dENvbnRlbnQgPSAndW5rbm93bic7XG4gICAgdmVyc2lvbkZpZWxkID0gbWVpVmVyc2lvbjtcblxuICAgIGNvbnN0IG1laVN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YWxpZGF0aW9uX3N0YXR1cycpO1xuICAgIG1laVN0YXR1cy50ZXh0Q29udGVudCA9ICd1bmtub3duJztcbiAgICBzdGF0dXNGaWVsZCA9IG1laVN0YXR1cztcbiAgICB3b3JrZXIgPSBuZXcgV29ya2VyKF9fQVNTRVRfUFJFRklYX18gKyAnd29ya2Vycy9Xb3JrZXIuanMnKTtcbiAgICB3b3JrZXIub25tZXNzYWdlID0gdXBkYXRlU3RhdHVzVUkuYmluZChuZW9uVmlldyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kIHRoZSBjb250ZW50cyBvZiBhbiBNRUkgZmlsZSB0byB0aGUgV2ViV29ya2VyIGZvciB2YWxpZGF0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IG1laURhdGFcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRGb3JWYWxpZGF0aW9uIChtZWlEYXRhOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKHN0YXR1c0ZpZWxkID09PSB1bmRlZmluZWQgfHwgdmVyc2lvbkZpZWxkID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHNjaGVtYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzY2hlbWFSZXNwb25zZTtcbiAgICBzY2hlbWEgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIH1cbiAgc3RhdHVzRmllbGQudGV4dENvbnRlbnQgPSAnY2hlY2tpbmcuLi4nO1xuICBzdGF0dXNGaWVsZC5zdHlsZS5jb2xvciA9ICdncmF5JztcbiAgd29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICBtZWk6IG1laURhdGEsXG4gICAgc2NoZW1hOiBzY2hlbWFcbiAgfSk7XG5cbiAgdmVyc2lvbkZpZWxkLnRleHRDb250ZW50ID0gJ2NoZWNraW5nLi4uJztcbiAgdmVyc2lvbkZpZWxkLnN0eWxlLmNvbG9yID0gJ2dyYXknO1xuICBjb25zdCBtZWlWZXJzaW9uID0gYXdhaXQgZ2V0TWVpVmVyc2lvbihtZWlEYXRhKTtcbiAgdXBkYXRlVmVyc2lvblVJKG1laVZlcnNpb24pO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgbWVzc2FnZSBvbiBhIGJsYW5rIHBhZ2Ugd2hlbiB0aGVyZSBpcyBubyBNRUkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBibGFua1BhZ2UgKCk6IHZvaWQge1xuICBpZiAoc3RhdHVzRmllbGQgPT09IHVuZGVmaW5lZCB8fCB2ZXJzaW9uRmllbGQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgZm9yIChjb25zdCBjaGlsZCBvZiBzdGF0dXNGaWVsZC5jaGlsZHJlbikge1xuICAgIGNoaWxkLnJlbW92ZSgpO1xuICB9XG4gIHN0YXR1c0ZpZWxkLnRleHRDb250ZW50ID0gJ05vIE1FSSc7XG4gIHN0YXR1c0ZpZWxkLnN0eWxlLmNvbG9yID0gJ2NvbG9yOmdyYXknO1xuXG4gIHZlcnNpb25GaWVsZC50ZXh0Q29udGVudCA9ICdObyBNRUknO1xuICB2ZXJzaW9uRmllbGQuc3R5bGUuY29sb3IgPSAnY29sb3I6Z3JheSc7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldE1laVZlcnNpb24obWVpRGF0YTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1laURhdGEsICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuICBcbiAgY29uc3QgbWVpVmVyc2lvbiA9IG1laS5nZXRBdHRyaWJ1dGUoJ21laXZlcnNpb24nKTtcbiAgaWYgKG1laVZlcnNpb24pIHtcbiAgICByZXR1cm4gbWVpVmVyc2lvbjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJ3Vua25vd24nO1xuICB9XG59IiwiXG4vLyBJbml0aWFsIHNhdmVkIHN0YXR1c1xubGV0IHNhdmVkID0gdHJ1ZTtcblxuXG4vKipcbiAqIFVwZGF0ZSBzdGF0dXMgb2Ygc2F2ZWQgc3RhdHVzIGluZGljYXRvclxuICovXG5mdW5jdGlvbiB1cGRhdGVJbmRpY2F0b3IgKCk6IHZvaWQge1xuICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignI2ZpbGUtc2F2ZWQnKTtcbiAgY29uc3QgcGF0aCA9IHNhdmVkPyBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2F2ZWQtaWNvbi5zdmdgIDogYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Vuc2F2ZWQtaWNvbi5zdmdgO1xuICBpbmRpY2F0b3Iuc2V0QXR0cmlidXRlKCdzcmMnLCBwYXRoKTtcbiAgLy8gc2V0IHRoZSBhbHQgYXR0cmlidXRlIG1lc3NhZ2UgZGVwZW5kaW5nIG9uIHdoZXRoZXIgbGF0ZXN0IGNoYW5nZXMgYXJlIHNhdmUgb3Igbm90XG4gIGNvbnN0IGFsdE1lc3NhZ2UgPSBzYXZlZD8gXCJZb3VyIHdvcmsgaXMgc2F2ZWRcIiA6IFwiWW91IGhhdmUgdW5zYXZlZCB3b3JrXCI7XG4gIGluZGljYXRvci5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGFsdE1lc3NhZ2UpO1xufVxuXG5cbi8qKlxuICogU2V0IHRoZSBzYXZlZCBzdGF0dXMgb2YgdGhlIGZvbGlvXG4gKiBcbiAqIEBwYXJhbSBzdGF0dXMgYm9vbGVhbiB2YWx1ZS4gdHJ1ZSBpZiBzdGF0dXMgaXMgXCJzYXZlZFwiLCBmYWxzZSBpZiBcIm5vdCBzYXZlZFwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTYXZlZFN0YXR1cyAoc3RhdHVzOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgc2F2ZWQgPSBzdGF0dXM7XG4gIHVwZGF0ZUluZGljYXRvcigpO1xufVxuXG5cbi8qKlxuICogRnVuY3Rpb24gdGhhdCBkZWZpbmVzIGV2ZW50IGxpc3RlbmVyIHRoYXQgY2hlY2tzIGZvciB1bnNhdmVkIGNoYW5nZXMgb24gcGFnZSByZWxvYWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RlblVuc2F2ZWRDaGFuZ2VzICgpOiB2b2lkIHtcbiAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gKGU6IEJlZm9yZVVubG9hZEV2ZW50KSA9PiB7XG4gICAgaWYgKCFzYXZlZCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuICdZb3UgaGF2ZSB1bnNhdmVkIGNoYW5nZXMhJztcbiAgICB9XG4gIH07XG59IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuXHRcdC8vIERvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuXHRhcmdzWzBdID0gKHRoaXMudXNlQ29sb3JzID8gJyVjJyA6ICcnKSArXG5cdFx0dGhpcy5uYW1lc3BhY2UgK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArXG5cdFx0YXJnc1swXSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyVjICcgOiAnICcpICtcblx0XHQnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG5cdGlmICghdGhpcy51c2VDb2xvcnMpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcblx0YXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0Jyk7XG5cblx0Ly8gVGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcblx0Ly8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuXHQvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cblx0bGV0IGluZGV4ID0gMDtcblx0bGV0IGxhc3RDID0gMDtcblx0YXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIG1hdGNoID0+IHtcblx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aW5kZXgrKztcblx0XHRpZiAobWF0Y2ggPT09ICclYycpIHtcblx0XHRcdC8vIFdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuXHRcdFx0Ly8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcblx0XHRcdGxhc3RDID0gaW5kZXg7XG5cdFx0fVxuXHR9KTtcblxuXHRhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrXG4gKiB0byBgY29uc29sZS5sb2dgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbmV4cG9ydHMubG9nID0gY29uc29sZS5kZWJ1ZyB8fCBjb25zb2xlLmxvZyB8fCAoKCkgPT4ge30pO1xuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG5cdHRyeSB7XG5cdFx0aWYgKG5hbWVzcGFjZXMpIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5zZXRJdGVtKCdkZWJ1ZycsIG5hbWVzcGFjZXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdGxldCByO1xuXHR0cnkge1xuXHRcdHIgPSBleHBvcnRzLnN0b3JhZ2UuZ2V0SXRlbSgnZGVidWcnKTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cblxuXHQvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cdGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuXHRcdHIgPSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxuXG5cdHJldHVybiByO1xufVxuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcblx0dHJ5IHtcblx0XHQvLyBUVk1MS2l0IChBcHBsZSBUViBKUyBSdW50aW1lKSBkb2VzIG5vdCBoYXZlIGEgd2luZG93IG9iamVjdCwganVzdCBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0XG5cdFx0Ly8gVGhlIEJyb3dzZXIgYWxzbyBoYXMgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY29tbW9uJykoZXhwb3J0cyk7XG5cbmNvbnN0IHtmb3JtYXR0ZXJzfSA9IG1vZHVsZS5leHBvcnRzO1xuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcblx0fVxufTtcbiIsIi8qKiBAbW9kdWxlIFNxdWFyZUVkaXQvQ29udHJvbHMgKi9cblxuaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgeyBzZXRHcm91cGluZ0hpZ2hsaWdodCB9IGZyb20gJy4uL3V0aWxzL0NvbG9yJztcbmltcG9ydCB7IHVuc2VsZWN0IH0gZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0IEluc2VydEhhbmRsZXIgZnJvbSAnLi9JbnNlcnRIYW5kbGVyJztcbmltcG9ydCB7IGdldFNldHRpbmdzLCBzZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgSW5zZXJ0VGFiVHlwZSwgSW5zZXJ0VHlwZSB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqXG4gKiBCaW5kIGxpc3RlbmVycyB0byBpbnNlcnQgdGFicy4nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kSW5zZXJ0VGFicyAoaW5zZXJ0SGFuZGxlcjogSW5zZXJ0SGFuZGxlcik6IHZvaWQge1xuICBjb25zdCBpbnNlcnRUYWJzOiBFbGVtZW50W10gPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydFRhYicpKTtcbiAgY29uc3QgdGFiSWRzOiBzdHJpbmdbXSA9IGluc2VydFRhYnMubWFwKCh0YWIpID0+IHsgcmV0dXJuIHRhYi5pZDsgfSk7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChldnQuY29kZS5tYXRjaCgvXkRpZ2l0XFxkJC8pICYmIGV2dC5zaGlmdEtleSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBOdW1iZXIoZXZ0LmNvZGVbZXZ0LmNvZGUubGVuZ3RoIC0gMV0pIC0gMTtcbiAgICAgICAgY29uc3QgaW5zZXJ0T3B0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gaW5zZXJ0T3B0aW9uc1tpbmRleF07XG4gICAgICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+IHNlbGVjdGVkT3B0aW9uKS5jbGljaygpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdGFiSWRzLmZvckVhY2goKHRhYikgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBkZWFjdGl2YXRlKCcuaW5zZXJ0VGFiJyk7XG4gICAgICBhY3RpdmF0ZSh0YWIsIGluc2VydEhhbmRsZXIpO1xuICAgICAgc2V0U2V0dGluZ3MoeyBpbnNlcnRUYWI6IHRhYiBhcyBJbnNlcnRUYWJUeXBlIH0pO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9kYXRhJykuaW5uZXJIVE1MID0gQ29udGVudHMuaW5zZXJ0VGFiSHRtbFt0YWJdO1xuICAgICAgYmluZEVsZW1lbnRzKGluc2VydEhhbmRsZXIpO1xuICAgICAgZGVhY3RpdmF0ZSgnLmluc2VydGVsJyk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGluc2VydE1vZGUgfSA9IGdldFNldHRpbmdzKCk7XG4gICAgICAgIGFjdGl2YXRlKGluc2VydE1vZGUsIGluc2VydEhhbmRsZXIpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zdCBmaXJzdE9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJylbMF07XG4gICAgICAgIGFjdGl2YXRlKGZpcnN0T3B0aW9uLmlkLCBpbnNlcnRIYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBFZGl0IGFuZCBJbnNlcnQgY29udHJvbCBwYW5lbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0SW5zZXJ0RWRpdENvbnRyb2xzICgpOiB2b2lkIHtcblxuICBjb25zdCBpbnNlcnRQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRfY29udHJvbHMnKTtcbiAgY29uc3QgaW5zZXJ0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRNZW51Jyk7XG4gIGNvbnN0IGluc2VydEhlYWRpbmdUaXRsZSA9IGluc2VydEhlYWRpbmcucXVlcnlTZWxlY3RvcignLnBhbmVsLWhlYWRpbmctdGl0bGUnKTtcbiAgY29uc3QgaW5zZXJ0Q29udGVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0Q29udGVudHMnKTtcbiAgY29uc3QgaW5zZXJ0RHJvcGRvd25JY29uID0gaW5zZXJ0SGVhZGluZy5xdWVyeVNlbGVjdG9yKCdzdmcgPiB1c2UnKTtcblxuICBjb25zdCBlZGl0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdF9jb250cm9scycpO1xuICBjb25zdCBlZGl0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TWVudScpO1xuICBjb25zdCBkaXNwbGF5SGVhZGluZ1RpdGxlID0gZWRpdEhlYWRpbmcucXVlcnlTZWxlY3RvcignLnBhbmVsLWhlYWRpbmctdGl0bGUnKTtcbiAgY29uc3QgZWRpdENvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDb250ZW50cycpO1xuICBjb25zdCBlZGl0RHJvcGRvd25JY29uID0gZWRpdEhlYWRpbmcucXVlcnlTZWxlY3Rvcignc3ZnID4gdXNlJyk7XG5cblxuICAvLyBldmVudCBsaXN0ZW5lciBmb3Igd2hlbiB1c2VyIGNsaWNrcyBpbnNpZGUgSW5zZXJ0IHBhbmVsXG4gIC8vIGluc2VydCBtb2RlIGlzIGFjdGl2YXRlZFxuICBpbnNlcnRQYW5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkaXNwbGF5SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzZWQnKTtcbiAgICBpbnNlcnRIZWFkaW5nVGl0bGUuY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xuXG4gICAgc2V0U2V0dGluZ3MoeyB1c2VyTW9kZTogJ2luc2VydCcgfSk7XG5cbiAgICAoPEhUTUxCdXR0b25FbGVtZW50PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5zZXJ0ZWwuaXMtYWN0aXZlJykpLmNsaWNrKCk7XG4gICAgZWRpdFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5zZWwtYnkuaXMtYWN0aXZlJykuY2xhc3NMaXN0LmFkZCgndW5mb2N1c2VkJyk7XG4gICAgaW5zZXJ0UGFuZWwucXVlcnlTZWxlY3RvcignLnNpZGUtcGFuZWwtYnRuLmluc2VydGVsLmlzLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3VuZm9jdXNlZCcpO1xuICB9KTtcblxuICAvLyBldmVudCBsaXN0ZW5lciBmb3Igd2hlbiB1c2VyIGNsaWNrcyBpbnNpZGUgRWRpdCBwYW5lbFxuICAvLyBlZGl0IG1vZGUgaXMgYWN0aXZhdGVkXG4gIGVkaXRQYW5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBpbnNlcnRIZWFkaW5nVGl0bGUuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXNlZCcpO1xuICAgIGRpc3BsYXlIZWFkaW5nVGl0bGUuY2xhc3NMaXN0LmFkZCgnZm9jdXNlZCcpO1xuICAgIFxuICAgIHNldFNldHRpbmdzKHsgdXNlck1vZGU6ICdlZGl0JyB9KTtcblxuICAgIGluc2VydFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5pbnNlcnRlbC5pcy1hY3RpdmUnKS5jbGFzc0xpc3QuYWRkKCd1bmZvY3VzZWQnKTtcbiAgICBlZGl0UGFuZWwucXVlcnlTZWxlY3RvcignLnNpZGUtcGFuZWwtYnRuLnNlbC1ieS5pcy1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd1bmZvY3VzZWQnKTtcbiAgfSk7XG5cblxuICBpbnNlcnRIZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGluc2VydCBwYW5lbCBpcyBjbG9zZWQsIG9wZW4gaXRcbiAgICBpZiAoaW5zZXJ0Q29udGVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZWQnKSkge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYW4gb3BlbiBwYW5lbFxuICAgICAgaW5zZXJ0Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBpbnNlcnRDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzAuNWVtIDAuNzVlbSc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaW5zZXJ0Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICB9LCAyMDApO1xuICAgICAgaW5zZXJ0RHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH0gXG4gICAgLy8gaWYgaW5zZXJ0IHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgZWxzZSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhIGNsb3NlZCBwYW5lbFxuICAgICAgaW5zZXJ0Q29udGVudHMuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgICBpbnNlcnRDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGluc2VydENvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBpbnNlcnREcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1zaWRlYCk7XG4gICAgfVxuICB9KTtcblxuICBlZGl0SGVhZGluZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBpZiBlZGl0IHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgaWYgKGVkaXRDb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhbiBvcGVuIHBhbmVsXG4gICAgICBlZGl0Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBlZGl0Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGVkaXRDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBlZGl0RHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH1cbiAgICAvLyBpZiBlZGl0IHBhbmVsIGlzIGNsb3NlZCwgb3BlbiBpdFxuICAgIGVsc2Uge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYSBjbG9zZWQgcGFuZWxcbiAgICAgIGVkaXRDb250ZW50cy5jbGFzc0xpc3QuYWRkKCdjbG9zZWQnKTtcbiAgICAgIGVkaXRDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGVkaXRDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgZWRpdERyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLXNpZGVgKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIEFjdGl2YXRlIGEgY2VydGFpbiBpbnNlcnQgYWN0aW9uLlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGZvciBhY3RpdmF0aW5nIGluc2VydCBQQU5FTFNcbiAqIGFuZCBpbnNlcnQgSUNPTlMgKHdoeXl5KS5cbiAqIEBwYXJhbSBpZCAtIFRoZSBJRCBvZiB0aGUgaW5zZXJ0IGFjdGlvbiB0YWIuXG4gKi9cbmZ1bmN0aW9uIGFjdGl2YXRlIChpZDogc3RyaW5nLCBpbnNlcnRIYW5kbGVyOiBJbnNlcnRIYW5kbGVyKTogdm9pZCB7XG4gIGNvbnN0IHNlbGVjdGVkVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICBzZWxlY3RlZFRhYi5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5jbGFzc0xpc3QuY29udGFpbnMoJ2luc2VydGVsJykpIHtcbiAgICBpbnNlcnRIYW5kbGVyLmluc2VydEFjdGl2ZShpZCk7XG4gICAgc2V0U2V0dGluZ3MoeyBpbnNlcnRNb2RlOiBpZCBhcyBJbnNlcnRUeXBlIH0pO1xuICB9XG59XG5cbi8qKlxuICogRGVhY3RpdmF0ZSBhIGNlcnRhaW4gaW5zZXJ0IGFjdGlvbi5cbiAqIEBwYXJhbSB0eXBlIC0gQSBDU1Mgc2VsZWN0b3IgZm9yIHRoZSBhY3Rpb24gdGFiLlxuICovXG5mdW5jdGlvbiBkZWFjdGl2YXRlICh0eXBlOiBzdHJpbmcpIHtcbiAgY29uc3QgZWxMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0eXBlKTtcbiAgZWxMaXN0LmZvckVhY2goZWwgPT4ge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3VuZm9jdXNlZCcpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBCaW5kIGxpc3RlbmVycyB0byBpbnNlcnQgdGFiIGVsZW1lbnRzLlxuICovXG5mdW5jdGlvbiBiaW5kRWxlbWVudHMgKGluc2VydEhhbmRsZXI6IEluc2VydEhhbmRsZXIpIHtcbiAgY29uc3QgaW5zZXJ0RWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJykpO1xuICBjb25zdCBlbGVtZW50SWRzID0gaW5zZXJ0RWxlbWVudHMubWFwKGVsID0+IGVsLmlkKTtcbiAgZWxlbWVudElkcy5mb3JFYWNoKGVsID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBkZWFjdGl2YXRlKCcuaW5zZXJ0ZWwnKTtcbiAgICAgIGFjdGl2YXRlKGVsLCBpbnNlcnRIYW5kbGVyKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVycyBvbiB0aGUgYnV0dG9ucyB0byBjaGFuZ2Ugc2VsZWN0aW9uIG1vZGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNlbGVjdGlvbkJ1dHRvbnMgKCk6IHZvaWQge1xuICBjb25zdCBzZWxCeVN5bGxhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3lsbGFibGUnKTtcbiAgY29uc3Qgc2VsQnlOZXVtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeU5ldW1lJyk7XG4gIGNvbnN0IHNlbEJ5TmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOYycpO1xuICBjb25zdCBzZWxCeVN0YWZmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKTtcbiAgY29uc3Qgc2VsQnlMYXllckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlMYXllckVsZW1lbnQnKTtcblxuICBzZWxCeVN5bGxhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlTeWxsYWJsZUhhbmRsZXIpO1xuICBzZWxCeU5ldW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlOZXVtZUhhbmRsZXIpO1xuICBzZWxCeU5jLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlOY0hhbmRsZXIpO1xuICBzZWxCeVN0YWZmLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlTdGFmZkhhbmRsZXIpO1xuICBzZWxCeUxheWVyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbEJ5TGF5ZXJFbGVtZW50SGFuZGxlcik7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnMScpIHNlbEJ5U3lsbGFibGUuY2xpY2soKTtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJzInKSBzZWxCeU5ldW1lLmNsaWNrKCk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICczJykgc2VsQnlOYy5jbGljaygpO1xuICAgIGlmIChldnQua2V5ID09PSAnNCcpIHNlbEJ5U3RhZmYuY2xpY2soKTtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJzUnKSBzZWxCeUxheWVyRWxlbWVudC5jbGljaygpO1xuICB9KTtcblxuXG4gIGZ1bmN0aW9uIHNlbGVjdEJ5U3lsbGFibGVIYW5kbGVyICgpIHtcbiAgICBpZiAoIXNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgc2V0U2V0dGluZ3MoeyBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlTeWxsYWJsZScgfSk7XG5cbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG5cbiAgICAgIHNlbEJ5TmV1bWUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTdGFmZi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuaWQgPT09ICdoaWdobGlnaHQtc2VsZWN0aW9uJykge1xuICAgICAgICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzeWxsYWJsZScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdEJ5TmV1bWVIYW5kbGVyICgpIHtcbiAgICBpZiAoIXNlbEJ5TmV1bWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgc2V0U2V0dGluZ3MoeyBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlOZXVtZScgfSk7XG5cbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbEJ5TmV1bWUuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3RhZmYuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeUxheWVyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnbmV1bWUnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RCeU5jSGFuZGxlciAoKSB7XG4gICAgaWYgKCFzZWxCeU5jLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIHNldFNldHRpbmdzKHsgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5TmMnIH0pO1xuXG4gICAgICB1bnNlbGVjdCgpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlOZXVtZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3lsbGFibGUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN0YWZmLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlMYXllckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZCA9PT0gJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKSB7XG4gICAgICAgICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoJ25ldW1lJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0QnlTdGFmZkhhbmRsZXIgKCkge1xuICAgIGlmICghc2VsQnlTdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICdzZWxCeVN0YWZmJyB9KTtcblxuICAgICAgdW5zZWxlY3QoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc2VsQnlTdGFmZi5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TmV1bWUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5jLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuaWQgPT09ICdoaWdobGlnaHQtc2VsZWN0aW9uJykge1xuICAgICAgICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzdGFmZicpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbEJ5TGF5ZXJFbGVtZW50SGFuZGxlciAoKSB7XG4gICAgaWYgKCFzZWxCeUxheWVyRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICdzZWxCeUxheWVyRWxlbWVudCcgfSk7XG5cbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlOZXVtZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TmMuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN0YWZmLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnbGF5ZXJFbGVtZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uLCBJbnNlcnRBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBnZXRTVkdSZWxDb29yZHMsIGlzT3V0T2ZTVkdCb3VuZHMsIFBvaW50IH0gZnJvbSAnLi4vdXRpbHMvQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgc2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuLyoqXG4gKiBDbGFzcyB0aGF0IGhhbmRsZXMgaW5zZXJ0IG1vZGUsIGV2ZW50cywgYW5kIGFjdGlvbnMuXG4gKi9cbmNsYXNzIEluc2VydEhhbmRsZXIge1xuICB0eXBlOiBzdHJpbmc7XG4gIGZpcnN0Q2xpY2sgPSB0cnVlO1xuICBjb29yZDogUG9pbnQ7XG4gIGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIHNlbGVjdG9yOiBzdHJpbmc7XG4gIG5lb25WaWV3OiBOZW9uVmlldztcblxuICAvKipcbiAgICogQHBhcmFtIG5lb25WaWV3IC0gTmVvblZpZXcgcGFyZW50LlxuICAgKiBAcGFyYW0gc2VsIC0gVGhlIENTUyBzZWxlY3RvciB0byBhcHBseSBpbnNlcnQgbGlzdGVuZXJzIHRvLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgc2VsOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5zZWxlY3RvciA9IHNlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhbiBpbnNlcnQgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAqIFRyaWdnZXJzIHRoZSBzdGFydCBvZiBpbnNlcnQgbW9kZS5cbiAgICogQHBhcmFtIGJ1dHRvbklkIC0gVGhlIElEIG9mIHRoZSBidXR0b24gdGhhdCB3YXMgY2xpY2tlZC5cbiAgICovXG4gIGluc2VydEFjdGl2ZSAoYnV0dG9uSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGFscmVhZHlJbkluc2VydE1vZGUgPSB0aGlzLmlzSW5zZXJ0TW9kZSgpO1xuICAgIHN3aXRjaCAoYnV0dG9uSWQpIHtcbiAgICAgIGNhc2UgJ3B1bmN0dW0nOlxuICAgICAgICB0aGlzLnR5cGUgPSAnbmMnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RpYW1vbmQnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnbmMnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IHRpbHQ6ICdzZScgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aXJnYSc6XG4gICAgICAgIHRoaXMudHlwZSA9ICduYyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgdGlsdDogJ3MnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy90aGVyZSBhcmUgbXVsdGlwbGUgcG9zc2libGUgbGlxdWVzY2VudCBjb21iaW5hdGlvbnNcbiAgICAgIGNhc2UgJ2xpcXVlc2NlbnRBJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBjdXJ2ZTogJ2EnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGlxdWVzY2VudEMnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnbmMnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGN1cnZlOiAnYycgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aXJnYVJldmVyc2VkJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyB0aWx0OiAnbicgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwZXMnOlxuICAgICAgY2FzZSAnY2xpdmlzJzpcbiAgICAgIGNhc2UgJ3NjYW5kaWN1cyc6XG4gICAgICBjYXNlICdjbGltYWN1cyc6XG4gICAgICBjYXNlICd0b3JjdWx1cyc6XG4gICAgICBjYXNlICdwb3JyZWN0dXMnOlxuICAgICAgY2FzZSAncHJlc3N1cyc6XG4gICAgICAgIGNvbnN0IGNvbnRvdXIgPSB0aGlzLm5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoXG4gICAgICAgICAgYnV0dG9uSWQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBidXR0b25JZC5zbGljZSgxKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnR5cGUgPSAnZ3JvdXBpbmcnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGNvbnRvdXI6IGNvbnRvdXIgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjQ2xlZic6XG4gICAgICBjYXNlICdmQ2xlZic6XG4gICAgICAgIHRoaXMudHlwZSA9ICdjbGVmJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBzaGFwZTogYnV0dG9uSWQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjdXN0b3MnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnY3VzdG9zJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkaXZMaW5lTWF4aW1hJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ2RpdkxpbmUnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGZvcm06ICdtYXhpbWEnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RhZmYnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnc3RhZmYnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2ZsYXQnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnYWNjaWQnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IGFjY2lkOiAnZicgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICduYXR1cmFsJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ2FjY2lkJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBhY2NpZDogJ24nIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy50eXBlID0gJyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgYnV0dG9uIGZvciBpbnNlcnRpb246ICcgKyBidXR0b25JZCArICcuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnJlbW92ZUluc2VydENsaWNrSGFuZGxlcnMoKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3N0YWZmJykge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpXG4gICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdGFmZkhhbmRsZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxuICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cblxuICAgIC8vIERpc2FibGUgZWRpdCBtb2RlIGxpc3RlbmVyc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEluc2VydEhhbmRsZXIpO1xuXG4gICAgLy8gQWRkICdyZXR1cm4gdG8gZWRpdCBtb2RlJyBidXR0b25cbiAgICBpZiAoIWFscmVhZHlJbkluc2VydE1vZGUpIHtcbiAgICAgIGNvbnN0IGVkaXRNb2RlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBlZGl0TW9kZUJ1dHRvbi5pZCA9ICdyZXR1cm5Ub0VkaXRNb2RlJztcbiAgICAgIGVkaXRNb2RlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NpZGUtcGFuZWwtYnRuJyk7XG4gICAgICBlZGl0TW9kZUJ1dHRvbi5pbm5lckhUTUwgPSAnUmV0dXJuIHRvIEVkaXQgTW9kZSc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVkbycpLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZWRpdE1vZGVCdXR0b24pO1xuICAgICAgZWRpdE1vZGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmluc2VydERpc2FibGVkKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdENvbnRlbnRzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGUgaW5zZXJ0IG1vZGUgYW5kIHJlbW92ZSBldmVudCBsaXN0ZW5lcnMuXG4gICAqL1xuICBpbnNlcnREaXNhYmxlZCA9IChmdW5jdGlvbiBpbnNlcnREaXNhYmxlZCAoKTogdm9pZCB7XG4gICAgdGhpcy50eXBlID0gJyc7XG4gICAgdGhpcy5yZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzKCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SW5zZXJ0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICB0aGlzLmZpcnN0Q2xpY2sgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV0dXJuVG9FZGl0TW9kZScpLnJlbW92ZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGNvbnNvbGUuZGVidWcoZSk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5zZXJ0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0X2NvbnRyb2xzJyk7XG4gICAgY29uc3QgaW5zZXJ0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRNZW51Jyk7XG4gICAgY29uc3QgaW5zZXJ0SGVhZGluZ1RpdGxlID0gaW5zZXJ0SGVhZGluZy5xdWVyeVNlbGVjdG9yKCcucGFuZWwtaGVhZGluZy10aXRsZScpO1xuXG4gICAgY29uc3QgZWRpdFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRfY29udHJvbHMnKTtcbiAgICBjb25zdCBlZGl0SGVhZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0TWVudScpO1xuICAgIGNvbnN0IGRpc3BsYXlIZWFkaW5nVGl0bGUgPSBlZGl0SGVhZGluZy5xdWVyeVNlbGVjdG9yKCcucGFuZWwtaGVhZGluZy10aXRsZScpO1xuXG4gICAgaW5zZXJ0SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzZWQnKTtcbiAgICBkaXNwbGF5SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzZWQnKTtcblxuICAgIGluc2VydFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5pbnNlcnRlbC5pcy1hY3RpdmUnKS5jbGFzc0xpc3QuYWRkKCd1bmZvY3VzZWQnKTtcbiAgICBlZGl0UGFuZWwucXVlcnlTZWxlY3RvcignLnNpZGUtcGFuZWwtYnRuLnNlbC1ieS5pcy1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd1bmZvY3VzZWQnKTtcblxuICAgIHNldFNldHRpbmdzKHsgdXNlck1vZGU6ICdlZGl0JyB9KTtcbiAgICBcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciB0byBoYW5kbGUgYSB1c2VyIGNsaWNraW5nIGF3YXkgZnJvbSB0aGUgYWN0aXZlIHBhZ2VcbiAgICogY2F1c2luZyBpbnNlcnQgbW9kZSB0byBlbmQuXG4gICAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKGZ1bmN0aW9uIGNsaWNrYXdheUhhbmRsZXIgKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYWN0aXZlLXBhZ2UnKSA9PT0gbnVsbCAmJlxuICAgICAgdGFyZ2V0LmNsb3Nlc3QoJyNpbnNlcnRfY29udHJvbHMnKSA9PT0gbnVsbCAmJlxuICAgICAgdGFyZ2V0LmNsb3Nlc3QoJyNzdmdfZ3JvdXAnKSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5pbnNlcnREaXNhYmxlZCgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJyxcbiAgICAgICAgdGhpcy5zdGFmZkhhbmRsZXIpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJyxcbiAgICAgICAgdGhpcy5oYW5kbGVyKTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIFJlc2V0cyBhbiBpbnNlcnQgZXZlbnQgbGlzdGVuZXIgYWZ0ZXIgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgaXQuXG4gICAqL1xuICByZXNldEluc2VydEhhbmRsZXIgPSAoZnVuY3Rpb24gcmVzZXRJbnNlcnRIYW5kbGVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnR5cGUgPT09ICdzdGFmZicgP1xuICAgICAgICAgIHRoaXMuc3RhZmZIYW5kbGVyIDogdGhpcy5oYW5kbGVyKTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIExpc3RlbnMgdG8ga2V5IHByZXNzZXMgdG8gZWl0aGVyIGV4aXQgZWRpdCBtb2RlIChpZiBFc2NhcGUpIG9yXG4gICAqIHRlbXBvcmFyaWx5IHJlbW92ZSBpbnNlcnQgZXZlbnQgbGlzdGVuZXJzIChpZiBTaGlmdCkuXG4gICAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoZnVuY3Rpb24ga2V5ZG93bkxpc3RlbmVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuaW5zZXJ0RGlzYWJsZWQoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuc3RhZmZIYW5kbGVyKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlcik7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICB0aGlzLnJlbW92ZUluc2VydENsaWNrSGFuZGxlcnMoKTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIGNsaWNraW5nIHRvIGluc2VydCBhbnkgZWxlbWVudCBleGNlcHQgYSBzdGFmZi5cbiAgICovXG4gIGhhbmRsZXIgPSAoZnVuY3Rpb24gaGFuZGxlciAoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgLy8gSWYgdGhlIGN1cnNvciBpcyBvdXQgb2YgYm91bmRzLCBub3RoaW5nIHNob3VsZCBiZSBpbnNlcnRlZC5cbiAgICBjb25zdCBjdXJzb3IgPSBnZXRTVkdSZWxDb29yZHMoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcbiAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyhjdXJzb3IueCwgY3Vyc29yLnkpKVxuICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGggd2FzIHBsYWNlZCBvdXQgb2YgYm91bmRzISBJbnNlcnRpb24gZmFpbGVkLicsICdlcnJvcicpO1xuXG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBJbnNlcnRBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdpbnNlcnQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudFR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgc3RhZmZJZDogJ2F1dG8nLFxuICAgICAgICB1bHg6IGN1cnNvci54LFxuICAgICAgICB1bHk6IGN1cnNvci55LFxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5hdHRyaWJ1dGVzICE9PSBudWxsKSB7XG4gICAgICBlZGl0b3JBY3Rpb24ucGFyYW0uYXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlcztcbiAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXNbJ3NoYXBlJ10gPT09ICdGJykge1xuICAgICAgICBlZGl0b3JBY3Rpb25bJ3BhcmFtJ11bJ3VseCddIC09IDUwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyKTtcbiAgICB9KTtcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciB0byBpbnNlcnQgYSBzdGFmZi5cbiAgICovXG4gIHN0YWZmSGFuZGxlciA9IChmdW5jdGlvbiBzdGFmZkhhbmRsZXIgKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGN1cnNvciA9IGdldFNWR1JlbENvb3JkcyhldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xuXG4gICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHMoY3Vyc29yLngsIGN1cnNvci55KSkge1xuICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdTdGFmZiBjYW5ub3QgYmUgcGxhY2VkIG91dCBvZiBib3VuZHMhJywgJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1wYWdlID4gLmRlZmluaXRpb24tc2NhbGUnKTtcblxuICAgIGlmICh0aGlzLmZpcnN0Q2xpY2spIHtcbiAgICAgIHRoaXMuY29vcmQgPSBjdXJzb3I7XG4gICAgICBkMy5zZWxlY3QoY29udGFpbmVyKS5hcHBlbmQoJ2NpcmNsZScpLmF0dHIoJ2N4JywgY3Vyc29yLngpXG4gICAgICAgIC5hdHRyKCdjeScsIGN1cnNvci55KVxuICAgICAgICAuYXR0cigncicsIDEwKVxuICAgICAgICAuYXR0cignaWQnLCAnc3RhZmYtY2lyY2xlJylcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnZ3JlZW4nKTtcbiAgICAgIHRoaXMuZmlyc3RDbGljayA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdWw6IFBvaW50LCBscjogUG9pbnQ7XG4gICAgICBpZiAoY3Vyc29yLnggPCB0aGlzLmNvb3JkLnggfHwgY3Vyc29yLnkgPCB0aGlzLmNvb3JkLnkpIHsgLy8gc2Vjb25kIHBvaW50IGlzIG5vdCBsclxuICAgICAgICB1bCA9IGN1cnNvcjtcbiAgICAgICAgbHIgPSB0aGlzLmNvb3JkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdWwgPSB0aGlzLmNvb3JkO1xuICAgICAgICBsciA9IGN1cnNvcjtcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFmZi1jaXJjbGUnKS5yZW1vdmUoKTtcbiAgICAgIGNvbnN0IGFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdpbnNlcnQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRUeXBlOiAnc3RhZmYnLFxuICAgICAgICAgIHN0YWZmSWQ6ICdhdXRvJyxcbiAgICAgICAgICB1bHg6IHVsLngsXG4gICAgICAgICAgdWx5OiB1bC55LFxuICAgICAgICAgIGxyeDogbHIueCxcbiAgICAgICAgICBscnk6IGxyLnlcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5uZW9uVmlldy5lZGl0KGFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIHRoaXMuZmlyc3RDbGljayA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgaW5zZXJ0IGxpc3RlbmVycyB3aGlsZSBub3QgbGVhdmluZyBpbnNlcnQgbW9kZSBlbnRpcmVseS5cbiAgICovXG4gIHJlbW92ZUluc2VydENsaWNrSGFuZGxlcnMgPSAoZnVuY3Rpb24gcmVtb3ZlSW5zZXJ0Q2xpY2tIYW5kbGVycyAoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcikucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN0YWZmSGFuZGxlcik7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIGlzSW5zZXJ0TW9kZSAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICh0aGlzLnR5cGUgIT09ICcnKTtcbiAgfVxufVxuXG5leHBvcnQgeyBJbnNlcnRIYW5kbGVyIGFzIGRlZmF1bHQgfTtcbiIsIi8qKlxuICogQ29udGVudHMgb2YgbmF2YmFyIG1lbnUgYWZ0ZXIgc3dpdGNoaW5nIHRvIGVkaXQgbW9kZS5cbiAqL1xuXG4vLyBcIkZpbGVcIiBEcm9wZG93blxuZXhwb3J0IGNvbnN0IG5hdmJhckRyb3Bkb3duRmlsZU1lbnU6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5uYXZiYXJEcm9wZG93bkZpbGVNZW51LmNsYXNzTGlzdC5hZGQoJ25hdmJhci1pdGVtJywgJ2hhcy1kcm9wZG93bicsICdpcy1ob3ZlcmFibGUnKTtcbmNvbnN0IGZpbGVEcm9wZG93bkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuZmlsZURyb3Bkb3duQnRuLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1idG4nKTtcbmZpbGVEcm9wZG93bkJ0bi5pbm5lckhUTUwgPSAnPGRpdj5GaWxlPC9kaXY+JztcbmNvbnN0IGZpbGVOYXZiYXJDb250ZW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuZmlsZU5hdmJhckNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1kcm9wZG93bicpO1xuZmlsZU5hdmJhckNvbnRlbnRzLmlkID0gJ25hdmJhci1kcm9wZG93bi1vcHRpb25zJztcblxuY29uc3QgZmlsZURyb3Bkb3duQ29udGVudHMgPSBbXG4gIFsnc2F2ZScsICdTYXZlJ10sXG4gIFsnZXhwb3J0JywgJ1NhdmUgYW5kIEV4cG9ydCB0byBGaWxlJ10sXG4gIFsnZ2V0bWVpJywgJ0Rvd25sb2FkIE1FSSddXG5dO1xuXG5maWxlRHJvcGRvd25Db250ZW50cy5mb3JFYWNoKGNvbnRlbnQgPT4ge1xuICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGl0ZW0uaWQgPSBjb250ZW50WzBdO1xuICBpdGVtLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1kcm9wZG93bi1pdGVtJyk7XG4gIGl0ZW0udGV4dENvbnRlbnQgPSBjb250ZW50WzFdO1xuICBmaWxlTmF2YmFyQ29udGVudHMuYXBwZW5kQ2hpbGQoaXRlbSk7XG59KTtcblxubmF2YmFyRHJvcGRvd25GaWxlTWVudS5hcHBlbmRDaGlsZChmaWxlRHJvcGRvd25CdG4pO1xubmF2YmFyRHJvcGRvd25GaWxlTWVudS5hcHBlbmRDaGlsZChmaWxlTmF2YmFyQ29udGVudHMpO1xuXG4vLyBcIk1FSSBBY3Rpb25zXCIgRHJvcGRvd25cbmV4cG9ydCBjb25zdCBuYXZiYXJEcm9wZG93bk1FSUFjdGlvbnNNZW51OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xubmF2YmFyRHJvcGRvd25NRUlBY3Rpb25zTWVudS5jbGFzc0xpc3QuYWRkKCduYXZiYXItaXRlbScsICdoYXMtZHJvcGRvd24nLCAnaXMtaG92ZXJhYmxlJyk7XG5jb25zdCBtZWlBY3Rpb25zRHJvcGRvd25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbm1laUFjdGlvbnNEcm9wZG93bkJ0bi5jbGFzc0xpc3QuYWRkKCduYXZiYXItYnRuJyk7XG5tZWlBY3Rpb25zRHJvcGRvd25CdG4uaW5uZXJIVE1MID0gJzxkaXY+TUVJIEFjdGlvbnM8L2Rpdj4nO1xuY29uc3QgbWVpQWN0aW9uc05hdmJhckNvbnRlbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5tZWlBY3Rpb25zTmF2YmFyQ29udGVudHMuY2xhc3NMaXN0LmFkZCgnbmF2YmFyLWRyb3Bkb3duJyk7XG5tZWlBY3Rpb25zTmF2YmFyQ29udGVudHMuaWQgPSAnbmF2YmFyLWRyb3Bkb3duLW9wdGlvbnMnO1xuY29uc3QgbWVpQWN0aW9uc0Ryb3Bkb3duQ29udGVudHMgPSBbXG4gIFsncmVtb3ZlLWVtcHR5LXN5bHMnLCAnUmVtb3ZlIEVtcHR5IFN5bGxhYmxlcyddLFxuICBbJ3JlbW92ZS1lbXB0eS1uZXVtZXMnLCAnUmVtb3ZlIEVtcHR5IE5ldW1lcyddLFxuICBbJ3JldmVydCcsICdSZXZlcnQnXVxuXTtcblxubWVpQWN0aW9uc0Ryb3Bkb3duQ29udGVudHMuZm9yRWFjaChjb250ZW50ID0+IHtcbiAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpdGVtLmlkID0gY29udGVudFswXTtcbiAgaXRlbS5jbGFzc0xpc3QuYWRkKCduYXZiYXItZHJvcGRvd24taXRlbScpO1xuICBpdGVtLnRleHRDb250ZW50ID0gY29udGVudFsxXTtcbiAgbWVpQWN0aW9uc05hdmJhckNvbnRlbnRzLmFwcGVuZENoaWxkKGl0ZW0pO1xufSk7XG5cbm5hdmJhckRyb3Bkb3duTUVJQWN0aW9uc01lbnUuYXBwZW5kQ2hpbGQobWVpQWN0aW9uc0Ryb3Bkb3duQnRuKTtcbm5hdmJhckRyb3Bkb3duTUVJQWN0aW9uc01lbnUuYXBwZW5kQ2hpbGQobWVpQWN0aW9uc05hdmJhckNvbnRlbnRzKTtcblxuLyoqXG4gKiBGaW5hbGl6ZSBvcHRpb24gaW4gdGhlIG5hdmJhciBmb3Igcm9kYW5cbiAqL1xuZXhwb3J0IGNvbnN0IG5hdmJhckZpbmFsaXplID1cbiAgICAnPGEgaWQ9XCJmaW5hbGl6ZVwiIGNsYXNzPVwibmF2YmFyLWl0ZW1cIj4gRmluYWxpemUgTUVJIDwvYT4nO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIHRoZSB1bmRvL3JlZG8gcGFuZWwgd2l0aCBidXR0b25zXG4gKi9cbmV4cG9ydCBjb25zdCB1bmRvUmVkb1BhbmVsID1cbiAgYDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5kb1wiPlVuZG88L2J1dHRvbj5cbiAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJyZWRvXCI+UmVkbzwvYnV0dG9uPmA7XG4iLCJpbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IGNvbnZlcnRUb05lb24gfSBmcm9tICcuL0NvbnZlcnRNZWknO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIFNldCB0b3AgbmF2YmFyIGV2ZW50IGxpc3RlbmVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROYXZiYXIobmVvblZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gIC8vIHNldHVwIG5hdmJhciBsaXN0ZW5lcnNcbiAgY29uc3QgbmF2YmFyRHJvcGRvd25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnLm5hdmJhci1pdGVtLmhhcy1kcm9wZG93bi5pcy1ob3ZlcmFibGUnLFxuICApO1xuICBBcnJheS5mcm9tKG5hdmJhckRyb3Bkb3ducykuZm9yRWFjaCgoZHJvcERvd24pID0+IHtcbiAgICBkcm9wRG93bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAvL1xuICAgIH0pO1xuICB9KTtcblxuICAvKiBcIkZJTEVcIiBtZW51ICovXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbmVvblZpZXcuc2F2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTYXZlZCcsICdzdWNjZXNzJyk7XG4gICAgfSk7XG4gIH0pO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdzJykge1xuICAgICAgbmVvblZpZXcuc2F2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NhdmVkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4cG9ydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG5lb25WaWV3LmV4cG9ydCgpLnRoZW4oKG1hbmlmZXN0KSA9PiB7XG4gICAgICBjb25zdCBsaW5rOiBIVE1MQW5jaG9yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGxpbmsuaHJlZiA9IG1hbmlmZXN0IGFzIHN0cmluZztcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBuZW9uVmlldy5uYW1lICsgJy5qc29ubGQnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgIGxpbmsucmVtb3ZlKCk7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NhdmVkJywgJ3N1Y2Nlc3MnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gRG93bmxvYWQgbGluayBmb3IgTUVJXG4gIC8vIElzIGFuIGFjdHVhbCBmaWxlIHdpdGggYSB2YWxpZCBVUkkgZXhjZXB0IGluIGxvY2FsIG1vZGUgd2hlcmUgaXQgbXVzdCBiZSBnZW5lcmF0ZWQuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4oKG1laSkgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9XG4gICAgICAgICdkYXRhOmFwcGxpY2F0aW9uL21laSt4bWw7YmFzZTY0LCcgKyB3aW5kb3cuYnRvYShjb252ZXJ0VG9OZW9uKG1laSkpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dldG1laScpLnNldEF0dHJpYnV0ZSgnaHJlZicsIGRhdGEpO1xuICAgICAgZG9jdW1lbnRcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKVxuICAgICAgICAuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIG5lb25WaWV3LnZpZXcuZ2V0UGFnZU5hbWUoKSArICcubWVpJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qIFwiTUVJIEFDVElPTlNcIiBtZW51ICovXG4gIC8vIEV2ZW50IGxpc3RlbmVyIGZvciBcIlJlbW92ZSBFbXB0eSBTeWxsYWJsZXNcIiBidXR0b24gaW5zaWRlIFwiTUVJIEFjdGlvbnNcIiBkcm9wZG93blxuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlLWVtcHR5LXN5bHMnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHVyaSA9IG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKTtcblxuICAgICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4oKG1laVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobWVpU3RyaW5nLCAndGV4dC94bWwnKTtcbiAgICAgICAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgY29uc3Qgc3lsbGFibGVzID0gQXJyYXkuZnJvbShtZWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N5bGxhYmxlJykpO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBzeWxsYWJsZXMgd2l0aG91dCBuZXVtZXNcbiAgICAgICAgbGV0IGhhc0VtcHR5U3lsbGFibGVzID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHJlbW92ZVN5bGxhYmxlQWN0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHN5bGxhYmxlIG9mIHN5bGxhYmxlcykge1xuICAgICAgICAgIC8vIGlmIGVtcHR5IHN5bGxhYmxlIGZvdW5kLCBjcmVhdGUgYWN0aW9uIG9iamVjdCBmb3IgcmVtb3ZpbmcgaXRcbiAgICAgICAgICBpZiAoc3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25ldW1lJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCB0b1JlbW92ZTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgICAgICBhY3Rpb246ICdyZW1vdmUnLFxuICAgICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBhZGQgYWN0aW9uIG9iamVjdCB0byBhcnJheSAoY2hhaW4pIG9mIGFjdGlvbiBvYmplY3RzXG4gICAgICAgICAgICByZW1vdmVTeWxsYWJsZUFjdGlvbnMucHVzaCh0b1JlbW92ZSk7XG4gICAgICAgICAgICBoYXNFbXB0eVN5bGxhYmxlcyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgZW1wdHkgc3lsbGFibGVzIHdlcmUgZm91bmRcbiAgICAgICAgaWYgKCFoYXNFbXB0eVN5bGxhYmxlcykge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTm8gZW1wdHkgc3lsbGFibGVzIGZvdW5kJywgJ3dhcm5pbmcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjcmVhdGUgXCJjaGFpbiBhY3Rpb25cIiBvYmplY3RcbiAgICAgICAgICBjb25zdCBjaGFpblJlbW92ZUFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgICAgcGFyYW06IHJlbW92ZVN5bGxhYmxlQWN0aW9ucyxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gZXhlY3V0ZSBhY3Rpb24gdGhhdCByZW1vdmVzIGFsbCBlbXB0eSBzeWxsYWJsZXNcbiAgICAgICAgICAvLyBcInJlc3VsdFwiIHZhbHVlIGlzIHRydWUgb3IgZmFsc2UgKHRydWUgaWYgY2hhaW4gb2YgYWN0aW9ucyB3YXMgc3VjY2Vzc2Z1bClcbiAgICAgICAgICBuZW9uVmlldy5lZGl0KGNoYWluUmVtb3ZlQWN0aW9uLCB1cmkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgJ1JlbW92ZWQgZW1wdHkgU3lsbGFibGVzJyxcbiAgICAgICAgICAgICAgICAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byByZW1vdmUgZW1wdHkgU3lsbGFibGVzJyxcbiAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAvLyBFdmVudCBsaXN0ZW5lciBmb3IgXCJSZW1vdmUgRW1wdHkgTmV1bWVzXCIgYnV0dG9uIGluc2lkZSBcIk1FSSBBY3Rpb25zXCIgZHJvcGRvd25cbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudEJ5SWQoJ3JlbW92ZS1lbXB0eS1uZXVtZXMnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHVyaSA9IG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKTtcblxuICAgICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4oKG1laVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobWVpU3RyaW5nLCAndGV4dC94bWwnKTtcbiAgICAgICAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgY29uc3QgbmV1bWVzID0gQXJyYXkuZnJvbShtZWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25ldW1lJykpO1xuXG4gICAgICAgIC8vIENoZWNrIGZvciBuZXVtZXMgd2l0aG91dCBuZXVtZSBjb21wb25lbnRzXG4gICAgICAgIGxldCBoYXNFbXB0eU5ldW1lcyA9IGZhbHNlO1xuICAgICAgICBjb25zdCByZW1vdmVOZXVtZUFjdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBuZXVtZSBvZiBuZXVtZXMpIHtcbiAgICAgICAgICAvLyBpZiBlbXB0eSBuZXVtZSBmb3VuZCwgY3JlYXRlIGFjdGlvbiBvYmplY3QgZm9yIHJlbW92aW5nIGl0XG4gICAgICAgICAgaWYgKG5ldW1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCduYycpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgdG9SZW1vdmU6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IG5ldW1lLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gYWRkIGFjdGlvbiBvYmplY3QgdG8gYXJyYXkgKGNoYWluKSBvZiBhY3Rpb24gb2JqZWN0c1xuICAgICAgICAgICAgcmVtb3ZlTmV1bWVBY3Rpb25zLnB1c2godG9SZW1vdmUpO1xuICAgICAgICAgICAgaGFzRW1wdHlOZXVtZXMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIGVtcHR5IG5ldW1lcyB3ZXJlIGZvdW5kXG4gICAgICAgIGlmICghaGFzRW1wdHlOZXVtZXMpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ05vIGVtcHR5IE5ldW1lcyBmb3VuZCcsICd3YXJuaW5nJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY3JlYXRlIFwiY2hhaW4gYWN0aW9uXCIgb2JqZWN0XG4gICAgICAgICAgY29uc3QgY2hhaW5SZW1vdmVBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICAgICAgICAgIHBhcmFtOiByZW1vdmVOZXVtZUFjdGlvbnMsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIGV4ZWN1dGUgYWN0aW9uIHRoYXQgcmVtb3ZlcyBhbGwgZW1wdHkgbmV1bWVzXG4gICAgICAgICAgLy8gXCJyZXN1bHRcIiB2YWx1ZSBpcyB0cnVlIG9yIGZhbHNlICh0cnVlIGlmIGNoYWluIG9mIGFjdGlvbnMgd2FzIHN1Y2Nlc3NmdWwpXG4gICAgICAgICAgbmVvblZpZXcuZWRpdChjaGFpblJlbW92ZUFjdGlvbiwgdXJpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdSZW1vdmVkIGVtcHR5IE5ldW1lcycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byByZW1vdmUgZW1wdHkgTmV1bWVzJyxcbiAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlLW91dC1vZi1ib3VuZHMtZ2x5cGhzJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgICBuZW9uVmlldy5nZXRQYWdlTUVJKHVyaSkudGhlbigobWVpU3RyaW5nKSA9PiB7XG4gICAgICAgIC8vIExvYWQgTUVJIGRvY3VtZW50IGludG8gcGFyc2VyXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICAgICAgICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICAgIC8vIEdldCBib3VuZHMgb2YgdGhlIE1FSVxuICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3N1cmZhY2UnKTtcbiAgICAgICAgY29uc3QgbWVpTHJ4ID0gTnVtYmVyKGRpbWVuc2lvbnMuZ2V0QXR0cmlidXRlKCdscngnKSksXG4gICAgICAgICAgbWVpTHJ5ID0gTnVtYmVyKGRpbWVuc2lvbnMuZ2V0QXR0cmlidXRlKCdscnknKSk7XG5cbiAgICAgICAgZnVuY3Rpb24gaXNBdHRyT3V0T2ZCb3VuZHMoem9uZTogRWxlbWVudCwgYXR0cjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgICAgY29uc3QgY29vcmQgPSBOdW1iZXIoem9uZS5nZXRBdHRyaWJ1dGUoYXR0cikpO1xuICAgICAgICAgIGNvbnN0IGNvbXAgPSBhdHRyID09ICdscngnIHx8IGF0dHIgPT0gJ3VseCcgPyBtZWlMcnggOiBtZWlMcnk7XG4gICAgICAgICAgcmV0dXJuIGNvb3JkIDwgMCB8fCBjb29yZCA+IGNvbXA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgYXJyYXkgb2Ygem9uZXMgdGhhdCBhcmUgb3V0IG9mIGJvdW5kLCBhbmQgY3JlYXRlIGEgaGFzaCBtYXBcbiAgICAgICAgLy8gZm9yIGZhc3QgcmV0cmlldmFsXG4gICAgICAgIGNvbnN0IHpvbmVzID0gQXJyYXkuZnJvbShtZWkucXVlcnlTZWxlY3RvckFsbCgnem9uZScpKTtcbiAgICAgICAgY29uc3Qgb3V0T2ZCb3VuZFpvbmVzID0gem9uZXMuZmlsdGVyKCh6b25lKSA9PlxuICAgICAgICAgIFsndWx4JywgJ3VseScsICdscngnLCAnbHJ5J10uc29tZSgoYXR0cikgPT5cbiAgICAgICAgICAgIGlzQXR0ck91dE9mQm91bmRzKHpvbmUsIGF0dHIpLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHpvbmVNYXAgPSBuZXcgTWFwKFxuICAgICAgICAgIG91dE9mQm91bmRab25lcy5tYXAoKHpvbmUpID0+IFt6b25lLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksIHpvbmVdKSxcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBGaWx0ZXIgb3V0IHRoZSBuZXVtZSBjb21wb25lbnRzIGFuZCBkaXZsaW5lcyB0aGF0IGhhdmUgYSB6b25lIG91dCBvZiBib3VuZHNcbiAgICAgICAgY29uc3QgZ2x5cGhzID0gQXJyYXkuZnJvbShcbiAgICAgICAgICBtZWkucXVlcnlTZWxlY3RvckFsbCgnbmMsIGRpdkxpbmUsIGNsZWYsIGFjY2lkJyksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG91dE9mQm91bmRHbHlwaHMgPSBnbHlwaHMuZmlsdGVyKChnbHlwaCkgPT4ge1xuICAgICAgICAgIGlmIChnbHlwaC5oYXNBdHRyaWJ1dGUoJ2ZhY3MnKSkge1xuICAgICAgICAgICAgY29uc3QgZmFjc0lkID0gZ2x5cGguZ2V0QXR0cmlidXRlKCdmYWNzJykuc2xpY2UoMSk7XG4gICAgICAgICAgICByZXR1cm4gem9uZU1hcC5oYXMoZmFjc0lkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBubyBvdXQtb2YtYm91bmQgZ2x5cGhzLCBhbmRcbiAgICAgICAgLy8gZXhpdCwgc2luY2Ugbm8gZWRpdCBuZWVkcyB0byBiZSBtYWRlLlxuICAgICAgICBpZiAob3V0T2ZCb3VuZEdseXBocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgJ1RoZXJlIGFyZSBubyBvdXQtb2YtYm91bmQgZ2x5cGhzIHRvIHJlbW92ZS4nLFxuICAgICAgICAgICAgJ3dhcm5pbmcnLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgcmVtb3ZlIGFjdGlvbnMgYW5kIGNoYWluIGFjdGlvbiB0byBzZW5kIHRvIFZlcm92aW9cbiAgICAgICAgY29uc3QgcmVtb3ZlQWN0aW9uczogRWRpdG9yQWN0aW9uW10gPSBvdXRPZkJvdW5kR2x5cGhzLm1hcCgoZ2x5cGgpID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgIGVsZW1lbnRJZDogZ2x5cGguZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICAgICAgcGFyYW06IHJlbW92ZUFjdGlvbnMsXG4gICAgICAgIH07XG5cbiAgICAgICAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgdXJpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAnU3VjY2Vzc2Z1bGx5IHJlbW92ZWQgb3V0LW9mLWJvdW5kcyBzeWxsYWJsZXMuJyxcbiAgICAgICAgICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAnRmFpbGVkIHRvIHJlbW92ZSBvdXQtb2YtYm91bmQgc3lsbGFibGVzLicsXG4gICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZCgndW50b2dnbGUtaW52YWxpZC1vYmxpcXVlJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgICBuZW9uVmlldy5nZXRQYWdlTUVJKHVyaSkudGhlbigobWVpU3RyaW5nKSA9PiB7XG4gICAgICAgIC8vIExvYWQgTUVJIGRvY3VtZW50IGludG8gcGFyc2VyXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICAgICAgICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBjb25zdCBuY3MgPSBBcnJheS5mcm9tKG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmMnKSk7XG5cbiAgICAgICAgbGV0IGhhc0ludmFsaWRPYmxpcXVlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgIHBhcmFtOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuICAgICAgICBsZXQgbmNJZHggPSAwO1xuICAgICAgICB3aGlsZSAobmNJZHggPCBuY3MubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKG5jc1tuY0lkeF0uZ2V0QXR0cmlidXRlKCdsaWdhdGVkJykpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKG5jSWR4IDwgbmNzLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICAgICAhbmNzW25jSWR4ICsgMV0uZ2V0QXR0cmlidXRlKCdsaWdhdGVkJykpIHx8XG4gICAgICAgICAgICAgIG5jSWR4ID09IG5jcy5sZW5ndGggLSAxXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgLy8gSWYgbmMgaXMgbGlnYXRlZCwgYW5kIHRoZSBuZXh0IG5jIGlzIG5vdFxuICAgICAgICAgICAgICAvLyBPciwgbmMgaXMgbGlnYXRlZCwgYnV0IGFscmVhZHkgYXQgdGhlIGVuZCAodGhlcmUgaXMgbm8gbmV4dClcXFxuICAgICAgICAgICAgICBoYXNJbnZhbGlkT2JsaXF1ZSA9IHRydWU7XG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogbmNzW25jSWR4XS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgICAgICAgYXR0clR5cGU6ICdsaWdhdGVkJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJWYWx1ZTogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuY0lkeCArPSAyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuY0lkeCArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNJbnZhbGlkT2JsaXF1ZSkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdObyBpbnZhbGlkIG9ibGlxdWVzIGZvdW5kJyxcbiAgICAgICAgICAgICd3YXJuaW5nJyxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYWluQWN0aW9uLnBhcmFtID0gcGFyYW07XG4gICAgICAgICAgbmVvblZpZXdcbiAgICAgICAgICAgIC5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgICAnVW50b2dnbGVkIGludmFsaWQgb2JsaXF1ZXMnLFxuICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byB1bnRvZ2dsZSBpbnZhbGlkIG9ibGlxdWVzJyxcbiAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50XG4gICAgLmdldEVsZW1lbnRCeUlkKCd1bnRvZ2dsZS1pbnZhbGlkLXN5bHMnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IHVyaSA9IG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKTtcbiAgICAgIG5lb25WaWV3LmdldFBhZ2VNRUkodXJpKS50aGVuKChtZWlTdHJpbmcpID0+IHtcbiAgICAgICAgLy8gTG9hZCBNRUkgZG9jdW1lbnQgaW50byBwYXJzZXJcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1laVN0cmluZywgJ3RleHQveG1sJyk7XG4gICAgICAgIGNvbnN0IG1laSA9IG1laURvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHN5bGxhYmxlcyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzeWxsYWJsZScpKTtcblxuICAgICAgICBjb25zdCBpbnZhbGlkU3lsbGFibGVzID0gZ2V0SW52YWxpZFN5bGxhYmxlcyhzeWxsYWJsZXMpO1xuXG4gICAgICAgIGlmIChpbnZhbGlkU3lsbGFibGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICdObyBpbnZhbGlkIHN5bGxhYmxlcyBmb3VuZCcsXG4gICAgICAgICAgICAnd2FybmluZycsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBjaGFpbkFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgICAgcGFyYW06IFtdLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuICAgICAgICAgIGZvciAoY29uc3Qgc3lsbGFibGUgb2YgaW52YWxpZFN5bGxhYmxlcykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ3ByZWNlZGVzJykgJiZcbiAgICAgICAgICAgICAgc3lsbGFibGUuaGFzQXR0cmlidXRlKCdmb2xsb3dzJylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCBwcmVjZWRlc1N5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoXG4gICAgICAgICAgICAgICAgKGVsZW1lbnQpID0+XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09XG4gICAgICAgICAgICAgICAgICBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJykuc3Vic3RyaW5nKDEpLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCBmb2xsb3dzU3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZChcbiAgICAgICAgICAgICAgICAoZWxlbWVudCkgPT5cbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT1cbiAgICAgICAgICAgICAgICAgIHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpLnN1YnN0cmluZygxKSxcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgICAgICAgICAgIGF0dHJWYWx1ZTogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgICAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IHByZWNlZGVzU3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgICAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IGZvbGxvd3NTeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgICAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgICAgICAgICAgICBhdHRyVmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goXG4gICAgICAgICAgICAgICAgLi4uYWRkU3lsQWN0aW9uKFtzeWxsYWJsZSwgcHJlY2VkZXNTeWxsYWJsZSwgZm9sbG93c1N5bGxhYmxlXSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgncHJlY2VkZXMnKSkge1xuICAgICAgICAgICAgICBjb25zdCBwcmVjZWRlc1N5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoXG4gICAgICAgICAgICAgICAgKGVsZW1lbnQpID0+XG4gICAgICAgICAgICAgICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09XG4gICAgICAgICAgICAgICAgICBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJykuc3Vic3RyaW5nKDEpLFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHBhcmFtLnB1c2goe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRJZDogc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudElkOiBwcmVjZWRlc1N5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCguLi5hZGRTeWxBY3Rpb24oW3N5bGxhYmxlLCBwcmVjZWRlc1N5bGxhYmxlXSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSkge1xuICAgICAgICAgICAgICBjb25zdCBmb2xsb3dzU3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZChcbiAgICAgICAgICAgICAgICAoZWxlbWVudCkgPT5cbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT1cbiAgICAgICAgICAgICAgICAgIHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgnZm9sbG93cycpLnN1YnN0cmluZygxKSxcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50SWQ6IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyksXG4gICAgICAgICAgICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudElkOiBmb2xsb3dzU3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSxcbiAgICAgICAgICAgICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICAgICAgICAgICAgYXR0clZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcGFyYW0ucHVzaCguLi5hZGRTeWxBY3Rpb24oW3N5bGxhYmxlLCBmb2xsb3dzU3lsbGFibGVdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hhaW5BY3Rpb24ucGFyYW0gPSBwYXJhbTtcbiAgICAgICAgICBuZW9uVmlld1xuICAgICAgICAgICAgLmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgICAgICAgICdVbnRvZ2dsZWQgaW52YWxpZCBzeWxsYWJsZXMnLFxuICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byB1bnRvZ2dsZSBpbnZhbGlkIHN5bGxhYmxlcycsXG4gICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAvLyBFdmVudCBsaXN0ZW5lciBmb3IgXCJSZXZlcnRcIiBidXR0b24gaW5zaWRlIFwiTUVJIEFjdGlvbnNcIiBkcm9wZG93blxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV2ZXJ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKFxuICAgICAgd2luZG93LmNvbmZpcm0oXG4gICAgICAgICdSZXZlcnRpbmcgd2lsbCBjYXVzZSBhbGwgY2hhbmdlcyB0byBiZSBsb3N0LiBQcmVzcyBPSyB0byBjb250aW51ZS4nLFxuICAgICAgKVxuICAgICkge1xuICAgICAgbmVvblZpZXcuZGVsZXRlRGIoKS50aGVuKCgpID0+IHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKiBcIlZJRVdcIiBtZW51ICovXG5cbiAgLypcblxuICAvLyBFdmVudCBsaXN0ZW5lcnMgZm9yIHNldHRpbmcgZGVmYXVsdCB6b29tIHNldHRpbmdzIGluc2lkZSBcIlZpZXdcIiBkcm9wZG93blxuICBjb25zdCBmaXRDb250ZW50QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3pvb20tZml0LWNvbnRlbnQnKTtcbiAgY29uc3QgZml0Q29udGVudENoZWNrbWFyayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6b29tLWZpdC1jb250ZW50LWljb24nKTtcbiAgY29uc3QgZWFzeUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjem9vbS1lYXN5LWVkaXQnKTtcbiAgY29uc3QgZWFzeUVkaXRDaGVja21hcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjem9vbS1lYXN5LWVkaXQtaWNvbicpO1xuXG4gIC8vIGZpdCBjb250ZW50IGxpc3RlbmVyXG4gIGZpdENvbnRlbnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZWFzeUVkaXRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgIGZpdENvbnRlbnRCdG4uY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xuXG4gICAgZWFzeUVkaXRDaGVja21hcmsuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBmaXRDb250ZW50Q2hlY2ttYXJrLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG5cbiAgICAvLyBUT0RPOiBTYXZlIGRlZmF1bHQgem9vbSBzZXR0aW5ncyBpbiBsb2NhbCBzdG9yYWdlXG5cbiAgfSk7XG4gIC8vIGVhc3kgZWRpdCBsaXN0ZW5lclxuICBlYXN5RWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBmaXRDb250ZW50QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICBlYXN5RWRpdEJ0bi5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XG5cbiAgICBmaXRDb250ZW50Q2hlY2ttYXJrLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgZWFzeUVkaXRDaGVja21hcmsuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcblxuICAgIC8vIFRPRE86IFNhdmUgZGVmYXVsdCB6b29tIHNldHRpbmdzIGluIGxvY2FsIHN0b3JhZ2VcblxuICB9KTtcbiAgKi9cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSB1bmRvL3JlZG8gcGFuZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRVbmRvUmVkb1BhbmVsKG5lb25WaWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICAvKipcbiAgICogVHJpZXMgdG8gdW5kbyBhbiBhY3Rpb24gYW5kIHVwZGF0ZSB0aGUgcGFnZSBpZiBpdCBzdWNjZWVkcy5cbiAgICovXG4gIGZ1bmN0aW9uIHVuZG9IYW5kbGVyKCk6IHZvaWQge1xuICAgIG5lb25WaWV3LnVuZG8oKS50aGVuKChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhlcmUgaXMgbm90aGluZyBsZWZ0IHRvIHVuZG8uJyk7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHVuZG8gYWN0aW9uJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVHJpZXMgdG8gcmVkbyBhbiBhY3Rpb24gYW5kIHVwZGF0ZSB0aGUgcGFnZSBpZiBpdCBzdWNjZWVkcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZG9IYW5kbGVyKCk6IHZvaWQge1xuICAgIG5lb25WaWV3LnJlZG8oKS50aGVuKChyZXN1bHQ6IGJvb2xlYW4pID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhlcmUgaXMgbm90aGluZyBsZWZ0IHRvIHJlZG8uJyk7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHJlZG8gYWN0aW9uJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kbycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdW5kb0hhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICd6JyAmJiAoZXZ0LmN0cmxLZXkgfHwgZXZ0Lm1ldGFLZXkpKSB7XG4gICAgICB1bmRvSGFuZGxlcigpO1xuICAgIH1cbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZG8nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlZG9IYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGlmIChcbiAgICAgIChldnQua2V5ID09PSAnWicgfHwgKGV2dC5rZXkgPT09ICd6JyAmJiBldnQuc2hpZnRLZXkpKSAmJlxuICAgICAgKGV2dC5jdHJsS2V5IHx8IGV2dC5tZXRhS2V5KVxuICAgICkge1xuICAgICAgcmVkb0hhbmRsZXIoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTeWxBY3Rpb24oc3lsbGFibGVzOiBFbGVtZW50W10pOiBBcnJheTxFZGl0b3JBY3Rpb24+IHtcbiAgY29uc3QgcGFyYW0gPSBuZXcgQXJyYXk8RWRpdG9yQWN0aW9uPigpO1xuXG4gIGZvciAoY29uc3Qgc3lsbGFibGUgb2Ygc3lsbGFibGVzKSB7XG4gICAgaWYgKHN5bGxhYmxlICYmICFzeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3lsJykubGVuZ3RoKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHBhcmFtO1xufVxuXG5mdW5jdGlvbiBnZXRJbnZhbGlkU3lsbGFibGVzKHN5bGxhYmxlczogRWxlbWVudFtdKTogRWxlbWVudFtdIHtcbiAgY29uc3QgaW52YWxpZFN5bGxhYmxlczogRWxlbWVudFtdID0gW107XG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHN5bGxhYmxlcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgY29uc3Qgc3lsbGFibGUgPSBzeWxsYWJsZXMuYXQoaWR4KTtcbiAgICBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdwcmVjZWRlcycpKSB7XG4gICAgICAvLyBHZXQgeG1sOmlkIG9mIHRoZSBuZXh0IHN5bGxhYmxlICh3aXRob3V0IHRoZSAjLCBpZiBpdCBleGlzdHMpXG4gICAgICBjb25zdCBuZXh0U3lsbGFibGVJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgncHJlY2VkZXMnKS5yZXBsYWNlKCcjJywgJycpO1xuXG4gICAgICAvLyBGaW5kIHRoZSBuZXh0IHN5bGxhYmxlIGFuZCBpdHMgaW5kZXggaW4gdGhlIGFycmF5XG4gICAgICBsZXQgbmV4dFN5bGxhYmxlSWR4OiBudW1iZXI7XG4gICAgICBjb25zdCBuZXh0U3lsbGFibGUgPSBzeWxsYWJsZXMuZmluZCgoZWxlbWVudCwgaWR4KSA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IG5leHRTeWxsYWJsZUlkKSB7XG4gICAgICAgICAgbmV4dFN5bGxhYmxlSWR4ID0gaWR4O1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENvbmRpdGlvbiAxOiBUaGUgbmV4dCAoZm9sbG93aW5nKSBzeWxsYWJsZSBjYW5ub3QgYmUgZm91bmRcbiAgICAgIGlmICghbmV4dFN5bGxhYmxlKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAyOiBUaGUgbmV4dCBzeWxsYWJsZSBoYXMgYmVlbiBmb3VuZCwgYnV0IHRoZSBAZm9sbG93cyBhdHRyaWJ1dGUgZG9lcyBOT1QgRVhJU1RcbiAgICAgIGlmICghbmV4dFN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnZm9sbG93cycpKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAzOiBUaGUgbmV4dCBzeWxsYWJsZSdzIEBmb2xsb3dzIGF0dHJpYnV0ZSBleGlzdHMsIGJ1dCBpdCBpcyBub3QgaW4gdGhlIGNvcnJlY3QgZm9ybWF0ICNpZFxuICAgICAgaWYgKFxuICAgICAgICBuZXh0U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdmb2xsb3dzJykgIT1cbiAgICAgICAgJyMnICsgc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKVxuICAgICAgKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiA0OlxuICAgICAgLy8gU2luY2UgdGhlIEBmb2xsb3dzIHZhbHVlIGlzIGNvcnJlY3QsIGEgcGFpciBvZiBzeWxsYWJsZXMgZXhpc3QgZm9yIHRoZSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlLlxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIEBmb2xsb3dzIHN5bGxhYmxlIGlzIHRoZSBuZXh0IHN5bGxhYmxlIChpbmRleC13aXNlKSBpbiB0aGUgYXJyYXk6XG4gICAgICBpZiAobmV4dFN5bGxhYmxlSWR4ICE9PSBpZHggKyAxKSB7XG4gICAgICAgIGludmFsaWRTeWxsYWJsZXMucHVzaChzeWxsYWJsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSkge1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ2ZvbGxvd3MnKS5yZXBsYWNlKCcjJywgJycpO1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlID0gc3lsbGFibGVzLmZpbmQoXG4gICAgICAgIChzeWxsYWJsZSkgPT4gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSA9PT0gcHJldlN5bGxhYmxlSWQsXG4gICAgICApO1xuXG4gICAgICAvLyBDb25kaXRpb24gMTogVGhlIHByZXZpb3VzIHN5bGxhYmxlIGRvZXMgbm90IGV4aXN0XG4gICAgICBpZiAoIXByZXZTeWxsYWJsZSkge1xuICAgICAgICBpbnZhbGlkU3lsbGFibGVzLnB1c2goc3lsbGFibGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25kaXRpb24gMjogVGhlIHByZXZpb3VzIHN5bGxhYmxlIGV4aXN0cywgYnV0IHRoZSBAcHJlY2VkZXMgYXR0cmlidXRlIGRvZXMgTk9UIEVYSVNUXG4gICAgICBpZiAoIXByZXZTeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ3ByZWNlZGVzJykpIHtcbiAgICAgICAgaW52YWxpZFN5bGxhYmxlcy5wdXNoKHN5bGxhYmxlKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29uZGl0aW9uIDM6IFRoZSBwcmV2aW91cyBzeWxsYWJsZSdzIEBwcmVjZWRlcyBhdHRyaWJ1dGUgZXhpc3RzLCBidXQgaXQgaXMgbm90IGluIHRoZSBjb3JyZWN0IGZvcm1hdCAjaWRcbiAgICAgIGlmIChcbiAgICAgICAgcHJldlN5bGxhYmxlLmdldEF0dHJpYnV0ZSgncHJlY2VkZXMnKSAhPVxuICAgICAgICAnIycgKyBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpXG4gICAgICApIHtcbiAgICAgICAgaW52YWxpZFN5bGxhYmxlcy5wdXNoKHN5bGxhYmxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGludmFsaWRTeWxsYWJsZXM7XG59XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vLi4vc3JjL05lb25WaWV3JztcbmltcG9ydCBEaXNwbGF5UGFuZWwgZnJvbSAnLi4vLi4vc3JjL0Rpc3BsYXlQYW5lbC9EaXNwbGF5UGFuZWwnO1xuaW1wb3J0IERpdmFWaWV3IGZyb20gJy4uLy4uL3NyYy9EaXZhVmlldyc7XG5pbXBvcnQgU2luZ2xlVmlldyBmcm9tICcuLi8uLi9zcmMvU2luZ2xlVmlldy9TaW5nbGVWaWV3JztcbmltcG9ydCBEaXZhRWRpdCBmcm9tICcuLi8uLi9zcmMvU3F1YXJlRWRpdC9EaXZhRWRpdE1vZGUnO1xuaW1wb3J0IFNpbmdsZUVkaXRNb2RlIGZyb20gJy4uLy4uL3NyYy9TcXVhcmVFZGl0L1NpbmdsZUVkaXRNb2RlJztcbmltcG9ydCBJbmZvTW9kdWxlIGZyb20gJy4uLy4uL3NyYy9JbmZvTW9kdWxlJztcbmltcG9ydCBUZXh0VmlldyBmcm9tICcuLi8uLi9zcmMvVGV4dFZpZXcnO1xuaW1wb3J0IFRleHRFZGl0TW9kZSBmcm9tICcuLi8uLi9zcmMvVGV4dEVkaXRNb2RlJztcbmltcG9ydCB7IE5lb25WaWV3UGFyYW1zIH0gZnJvbSAnLi4vLi4vc3JjL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgTmVvbk1hbmlmZXN0IH0gZnJvbSAnLi4vLi4vc3JjL1R5cGVzJztcbmltcG9ydCBQb3VjaERCIGZyb20gJ3BvdWNoZGInO1xuXG5jb25zdCBuYW1lID0gZ2V0R2V0UGFyYW0oJ21hbmlmZXN0Jyk7XG5jb25zdCBzdG9yYWdlID0gZ2V0R2V0UGFyYW0oJ3N0b3JhZ2UnKTtcblxuaWYgKG5hbWUpIHtcbiAgY29uc3QgbWFuaWZlc3RMb2NhdGlvbiA9IGAuL3NhbXBsZXMvbWFuaWZlc3RzLyR7bmFtZX0uanNvbmxkYDtcbiAgd2luZG93LmZldGNoKG1hbmlmZXN0TG9jYXRpb24pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgIH1cbiAgfSkudGhlbihhc3luYyB0ZXh0ID0+IHtcbiAgICBsZXQgbWFuaWZlc3Q6IE5lb25NYW5pZmVzdDtcbiAgICB0cnkge1xuICAgICAgbWFuaWZlc3QgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICBjb25zb2xlLmRlYnVnKHRleHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBEZXRlcm1pbmUgaWYgaXQgaXMgYSBzaW5nbGUgcGFnZSBvciBtdWx0aXBsZSBieSBtZWRpYSB0eXBlXG4gICAgY29uc3QgbWVkaWFUeXBlOiBzdHJpbmcgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cuZmV0Y2gobWFuaWZlc3QuaW1hZ2UpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXNvbHZlKDxzdHJpbmc+cmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBsZXQgcGFyYW1zOiBOZW9uVmlld1BhcmFtcztcbiAgICBpZiAobWVkaWFUeXBlLm1hdGNoKC9pbWFnZVxcLyovKSkge1xuICAgICAgcGFyYW1zID0ge1xuICAgICAgICBtYW5pZmVzdDogbWFuaWZlc3QsXG4gICAgICAgIERpc3BsYXk6IERpc3BsYXlQYW5lbCxcbiAgICAgICAgSW5mbzogSW5mb01vZHVsZSxcbiAgICAgICAgVGV4dFZpZXc6IFRleHRWaWV3LFxuICAgICAgICBUZXh0RWRpdDogVGV4dEVkaXRNb2RlLFxuICAgICAgICBWaWV3OiBTaW5nbGVWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IFNpbmdsZUVkaXRNb2RlXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMgPSB7XG4gICAgICAgIG1hbmlmZXN0OiBtYW5pZmVzdCxcbiAgICAgICAgRGlzcGxheTogRGlzcGxheVBhbmVsLFxuICAgICAgICBJbmZvOiBJbmZvTW9kdWxlLFxuICAgICAgICBUZXh0VmlldzogVGV4dFZpZXcsXG4gICAgICAgIFRleHRFZGl0OiBUZXh0RWRpdE1vZGUsXG4gICAgICAgIFZpZXc6IERpdmFWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IERpdmFFZGl0XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBuZXcgTmVvblZpZXcocGFyYW1zKTtcbiAgICB2aWV3LnN0YXJ0KCk7XG4gIH0pO1xufSBlbHNlIHtcbiAgY29uc3QgZGIgPSBuZXcgUG91Y2hEQignTmVvbi1Vc2VyLVN0b3JhZ2UnKTtcbiAgZGIuZ2V0QXR0YWNobWVudChzdG9yYWdlLCAnbWFuaWZlc3QnKS50aGVuKGJsb2IgPT4ge1xuICAgIHJldHVybiBuZXcgd2luZG93LlJlc3BvbnNlKGJsb2IpLmpzb24oKTtcbiAgfSkudGhlbihhc3luYyBtYW5pZmVzdCA9PiB7XG4gICAgY29uc3QgbWVkaWFUeXBlOiBzdHJpbmcgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB3aW5kb3cuZmV0Y2gobWFuaWZlc3QuaW1hZ2UpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXNvbHZlKDxzdHJpbmc+cmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBsZXQgcGFyYW1zOiBOZW9uVmlld1BhcmFtcztcbiAgICBpZiAobWVkaWFUeXBlLm1hdGNoKC9pbWFnZVxcLyovKSkge1xuICAgICAgcGFyYW1zID0ge1xuICAgICAgICBtYW5pZmVzdDogbWFuaWZlc3QsXG4gICAgICAgIERpc3BsYXk6IERpc3BsYXlQYW5lbCxcbiAgICAgICAgSW5mbzogSW5mb01vZHVsZSxcbiAgICAgICAgVGV4dFZpZXc6IFRleHRWaWV3LFxuICAgICAgICBUZXh0RWRpdDogVGV4dEVkaXRNb2RlLFxuICAgICAgICBWaWV3OiBTaW5nbGVWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IFNpbmdsZUVkaXRNb2RlXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMgPSB7XG4gICAgICAgIG1hbmlmZXN0OiBtYW5pZmVzdCxcbiAgICAgICAgRGlzcGxheTogRGlzcGxheVBhbmVsLFxuICAgICAgICBJbmZvOiBJbmZvTW9kdWxlLFxuICAgICAgICBUZXh0VmlldzogVGV4dFZpZXcsXG4gICAgICAgIFRleHRFZGl0OiBUZXh0RWRpdE1vZGUsXG4gICAgICAgIFZpZXc6IERpdmFWaWV3LFxuICAgICAgICBOZXVtZUVkaXQ6IERpdmFFZGl0XG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHZpZXcgPSBuZXcgTmVvblZpZXcocGFyYW1zKTtcbiAgICB2aWV3LnN0YXJ0KCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRHZXRQYXJhbShwYXJhbU5hbWUpOiBzdHJpbmcge1xuICBsZXQgcmVzdWx0O1xuXG4gIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2hcbiAgICAuc3Vic3RyKDEpXG4gICAgLnNwbGl0KCcmJylcbiAgICAuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdG1wID0gaXRlbS5zcGxpdCgnPScpO1xuICAgICAgaWYgKHRtcFswXSA9PT0gcGFyYW1OYW1lKSB7XG4gICAgICAgIHJlc3VsdCA9IGRlY29kZVVSSUNvbXBvbmVudCh0bXBbMV0pO1xuICAgICAgfVxuICAgIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiaW1wb3J0IE5lb25Db3JlIGZyb20gJy4vTmVvbkNvcmUnO1xuaW1wb3J0ICogYXMgVmFsaWRhdGlvbiBmcm9tICcuL1ZhbGlkYXRpb24nO1xuaW1wb3J0IHsgcGFyc2VNYW5pZmVzdCB9IGZyb20gJy4vdXRpbHMvTmVvbk1hbmlmZXN0JztcbmltcG9ydCBzZXRCb2R5IGZyb20gJy4vdXRpbHMvdGVtcGxhdGUvVGVtcGxhdGUnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3cgfSBmcm9tICcuL3V0aWxzL01vZGFsV2luZG93JztcbmltcG9ydCB7IE5lb25NYW5pZmVzdCwgRWRpdG9yQWN0aW9uLCBBdHRyaWJ1dGVzLCBVc2VyVHlwZSB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHtcbiAgSW5mb0ludGVyZmFjZSxcbiAgTW9kYWxXaW5kb3dJbnRlcmZhY2UsXG4gIE5lb25WaWV3UGFyYW1zLFxuICBOZXVtZUVkaXRJbnRlcmZhY2UsXG4gIFRleHRFZGl0SW50ZXJmYWNlLFxuICBUZXh0Vmlld0ludGVyZmFjZSxcbiAgVmlld0ludGVyZmFjZVxufSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgc2V0RGVidWdNb2RlIH0gZnJvbSAnLi91dGlscy9EZWJ1Z01vZGUnO1xuaW1wb3J0IHsgc2V0U2F2ZWRTdGF0dXMsIGxpc3RlblVuc2F2ZWRDaGFuZ2VzIH0gZnJvbSAnLi91dGlscy9VbnNhdmVkJztcbmltcG9ydCBMb2NhbFNldHRpbmdzLCB7IGdldFNldHRpbmdzIH0gZnJvbSAnLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuXG4vKipcbiAqIE5lb25WaWV3IGNsYXNzLiBNYW5hZ2VzIHRoZSBvdGhlciBtb2R1bGVzIG9mIE5lb24gYW5kIGNvbW11bmljYXRlcyB3aXRoXG4gKiBOZW9uQ29yZS5cbiAqL1xuY2xhc3MgTmVvblZpZXcge1xuICAvKiogVGhlIG1hbmlmZXN0IGRlc2NyaWJpbmcgd2hhdCB0byBsb2FkIGFuZCB3aGVyZSB0byBmaW5kIGl0LiAqL1xuICBtYW5pZmVzdDogTmVvbk1hbmlmZXN0O1xuICAvKiogTW9kdWxlIHRoYXQgZGlzcGxheXMgcmVuZGVyZWQgTUVJLiAqL1xuICB2aWV3OiBWaWV3SW50ZXJmYWNlO1xuICAvKiogTmFtZSBvZiB0aGUgZG9jdW1lbnQgbG9hZGVkLiAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBNb2R1bGUgdGhhdCBoYW5kbGVzIG1hbmFnaW5nIHJlc291cmNlcywgcmVuZGVyaW5nIFNWR3MuICovXG4gIGNvcmU6IE5lb25Db3JlO1xuICAvKiogTW9kdWxlIHRoYXQgcHJvdmlkZXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBvbiBtdXNpY2FsIGVsZW1lbnRzLiAqL1xuICBpbmZvOiBJbmZvSW50ZXJmYWNlO1xuICAvKiogTW9kdWxlIHRoYXQgYWxsb3dzIGVkaXRpbmcgb2YgbXVzaWNhbCBlbGVtZW50cy4gKi9cbiAgTmV1bWVFZGl0OiBOZXVtZUVkaXRJbnRlcmZhY2U7XG4gIC8qKiBNb2R1bGUgdGhhdCBhbGxvd3Mgdmlld2luZyBvZiBzeWxsYWJsZSB0ZXh0LiAqL1xuICB0ZXh0VmlldzogVGV4dFZpZXdJbnRlcmZhY2U7XG4gIC8qKiBNb2R1bGUgdGhhdCBhbGxvd3MgZWRpdGluZyBvZiBzeWxsYWJsZSB0ZXh0LiAqL1xuICBUZXh0RWRpdDogVGV4dEVkaXRJbnRlcmZhY2U7XG4gIC8qKiBNb2R1bGUgdGhhdCBjb250cm9scyBzdGF0ZSBhbmQgY29udGVudCBvZiBOZW9uIG1vZGFsIHdpbmRvd3MgKi9cbiAgbW9kYWw6IE1vZGFsV2luZG93SW50ZXJmYWNlO1xuICAvKiogTW9kdWxlIHRoYXQgaGFuZGxlcyB1c2VyJ3Mgc2V0dGluZ3Mgc3RvcmVkIGluIGxvY2FsU3RvcmFnZSAqL1xuICBsb2NhbFNldHRpbmdzOiBMb2NhbFNldHRpbmdzO1xuXG4gIHBhcmFtczogTmVvblZpZXdQYXJhbXM7XG5cblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIE5lb25WaWV3LiBTZXRzIG1vZGUgYW5kIHBhc3NlcyBjb25zdHJ1Y3RvcnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAocGFyYW1zOiBOZW9uVmlld1BhcmFtcykge1xuICAgIGlmICghcGFyc2VNYW5pZmVzdChwYXJhbXMubWFuaWZlc3QpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gcGFyc2UgdGhlIG1hbmlmZXN0Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5tYW5pZmVzdCA9IHBhcmFtcy5tYW5pZmVzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdXAgTmVvbiBmb3IgYW55IHByb3ZpZGVkIGVkaXRpbmcgbW9kdWxlcy5cbiAgICovXG4gIHNldHVwRWRpdChwYXJhbXM6IE5lb25WaWV3UGFyYW1zKTogdm9pZCB7XG4gICAgLy8gU2V0IHVwIGFuZCBzdGFydCB0aGUgY29ycmVjdCBlZGl0aW5nIG1vZGVcbiAgICBpZiAocGFyYW1zLlRleHRWaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudGV4dFZpZXcgPSBuZXcgcGFyYW1zLlRleHRWaWV3KHRoaXMpO1xuICAgICAgaWYgKHBhcmFtcy5UZXh0RWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuVGV4dEVkaXQgPSBuZXcgcGFyYW1zLlRleHRFZGl0KHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyYW1zLk5ldW1lRWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLk5ldW1lRWRpdCA9IG5ldyBwYXJhbXMuTmV1bWVFZGl0KHRoaXMpO1xuICAgICAgdGhpcy50ZXh0Vmlldy51cGRhdGVCQm94VmlzaWJpbGl0eSgpO1xuICAgICAgY29uc3QgeyB1c2VyTW9kZSwgaW5zZXJ0TW9kZSwgc2VsZWN0aW9uTW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluc2VydE1vZGUpLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0aW9uTW9kZSkuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICBzd2l0Y2ggKHVzZXJNb2RlKSB7XG4gICAgICAgIGNhc2UgJ2luc2VydCc6XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5zZXJ0TW9kZSkuY2xpY2soKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZWRpdCc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0aW9uTW9kZSkuY2xpY2soKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgTmVvblxuICAgKi9cbiAgc3RhcnQgKCk6IHZvaWQge1xuICAgIC8qIHRoaXMuY29yZS5kYi5pbmZvKCkudGhlbigoaW5mbykgPT4ge1xuICAgICAgaWYgKGluZm8uZG9jX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRoaXMuY29yZS5pbml0RGIoKS50aGVuKCgpID0+IHsgdGhpcy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignRXhpc3RpbmcgZGF0YWJhc2UgZm91bmQuIFJldmVydCB0byBzdGFydCBmcm9tIHRoZSBiZWdpbm5pbmcuJyk7XG4gICAgICAgIHRoaXMudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH1cbiAgICB9KTsgKi9cbiAgICBzZXRCb2R5KHRoaXMpLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gbG9hZCB0aGUgY29tcG9uZW50c1xuICAgICAgdGhpcy5sb2NhbFNldHRpbmdzID0gbmV3IExvY2FsU2V0dGluZ3ModGhpcy5tYW5pZmVzdFsnQGlkJ10pO1xuICAgICAgdGhpcy52aWV3ID0gbmV3IHRoaXMucGFyYW1zLlZpZXcodGhpcywgdGhpcy5wYXJhbXMuRGlzcGxheSwgdGhpcy5tYW5pZmVzdC5pbWFnZSk7XG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLm1hbmlmZXN0LnRpdGxlO1xuICAgICAgdGhpcy5jb3JlID0gbmV3IE5lb25Db3JlKHRoaXMubWFuaWZlc3QpO1xuICAgICAgdGhpcy5pbmZvID0gbmV3IHRoaXMucGFyYW1zLkluZm8odGhpcyk7XG4gICAgICB0aGlzLm1vZGFsID0gbmV3IE1vZGFsV2luZG93KHRoaXMpO1xuICAgICAgVmFsaWRhdGlvbi5pbml0KHRoaXMpOyAvLyBpbml0aWFsaXplIHZhbGlkYXRpb25cbiAgICAgIHNldERlYnVnTW9kZSgpOyBcbiAgICAgIGxpc3RlblVuc2F2ZWRDaGFuZ2VzKCk7XG5cbiAgICAgIHRoaXMuc2V0dXBFZGl0KHRoaXMucGFyYW1zKTtcbiAgICAgIHJldHVybiB0aGlzLmNvcmUuaW5pdERiKCk7XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAvLyBsb2FkIHRoZSBTVkdcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUZvckN1cnJlbnRQYWdlKHRydWUpO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gYWRkIHRoZSBldmVudCBsaXN0ZW5lcnMgZGVwZW5kZW50IG9uIHRoZSBTVkdcbiAgICAgIHRoaXMudmlldy5vblNWR0xvYWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgcGFnZSBmcm9tIHRoZSBsb2FkZWQgdmlldyBhbmQgdGhlbiBkaXNwbGF5IHRoZVxuICAgKiBtb3N0IHVwIHRvIGRhdGUgU1ZHLlxuICAgKi9cbiAgdXBkYXRlRm9yQ3VycmVudFBhZ2UgKGRlbGF5ID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBwYWdlTm8gPSB0aGlzLnZpZXcuZ2V0Q3VycmVudFBhZ2UoKTtcbiAgICByZXR1cm4gdGhpcy52aWV3LmNoYW5nZVBhZ2UocGFnZU5vLCBkZWxheSk7XG4gIH1cblxuICAvKipcbiAgICogUmVkbyBhbiBhY3Rpb24gcGVyZm9ybWVkIG9uIHRoZSBjdXJyZW50IHBhZ2UgKGlmIHRoZXJlIGlzIG9uZSkuXG4gICAqL1xuICByZWRvICgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBzZXRTYXZlZFN0YXR1cyhmYWxzZSk7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5yZWRvKHRoaXMudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmRvIHRoZSBsYXN0IGFjdGlvbiBwZXJmb3JtZWQgb24gdGhlIGN1cnJlbnQgcGFnZSAoaWYgdGhlcmUgaXMgb25lKS5cbiAgICovXG4gIHVuZG8gKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHNldFNhdmVkU3RhdHVzKGZhbHNlKTtcbiAgICByZXR1cm4gdGhpcy5jb3JlLnVuZG8odGhpcy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbW9kZSBOZW9uIGlzIGluLlxuICAgKiBAcmV0dXJucyBWYWx1ZSBpcyBcInZpZXdlclwiLCBcImluc2VydFwiLCBvciBcImVkaXRcIi5cbiAgICovXG4gIGdldFVzZXJNb2RlICgpOiBVc2VyVHlwZSB7XG4gICAgY29uc3QgeyB1c2VyTW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICByZXR1cm4gdXNlck1vZGU7XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdCB0byBwZXJmb3JtIGFuIGVkaXRvciBhY3Rpb24uXG4gICAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgZWRpdG9yIHRvb2xraXQgYWN0aW9uIG9iamVjdC5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBUaGUgVVJJIG9mIHRoZSBwYWdlIHRvIHBlcmZvcm0gdGhlIGFjdGlvbiBvblxuICAgKi9cbiAgZWRpdCAoYWN0aW9uOiBFZGl0b3JBY3Rpb24sIHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmNvcmUuZWRpdChhY3Rpb24sIHBhZ2VVUkkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYXR0cmlidXRlcyBmb3IgYSBzcGVjaWZpYyBtdXNpY2FsIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBlbGVtZW50SWQgLSBUaGUgdW5pcXVlIElEIG9mIHRoZSBtdXNpY2FsIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgcGFnZSB0aGUgZWxlbWVudCBpcyBmb3VuZCBvbi5cbiAgICovXG4gIGdldEVsZW1lbnRBdHRyIChlbGVtZW50SUQ6IHN0cmluZywgcGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxBdHRyaWJ1dGVzPiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5nZXRFbGVtZW50QXR0cihlbGVtZW50SUQsIHBhZ2VVUkkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYnJvd3NlciBkYXRhYmFzZSBhbmQgY3JlYXRlcyBKU09OLUxEIHNhdmUgZmlsZS5cbiAgICogQHJldHVybnMgVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZS5cbiAgICovXG4gIGV4cG9ydCAoKTogUHJvbWlzZTxzdHJpbmcgfCBBcnJheUJ1ZmZlcj4ge1xuICAgIHJldHVybiAobmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5jb3JlLnVwZGF0ZURhdGFiYXNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubWFuaWZlc3RbJ21laV9hbm5vdGF0aW9ucyddID0gdGhpcy5jb3JlLmdldEFubm90YXRpb25zKCk7XG4gICAgICAgIHRoaXMubWFuaWZlc3QudGltZXN0YW1wID0gKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgd2luZG93LkJsb2IoW0pTT04uc3RyaW5naWZ5KHRoaXMubWFuaWZlc3QsIG51bGwsIDIpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vbGQranNvbicgfSk7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChkYXRhKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7IHJlamVjdChlcnIpOyB9KTtcbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSB0aGUgY3VycmVudCBzdGF0ZSB0byB0aGUgYnJvd3NlciBkYXRhYmFzZS5cbiAgICovXG4gIHNhdmUgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHNldFNhdmVkU3RhdHVzKHRydWUpO1xuICAgIHJldHVybiB0aGlzLmNvcmUudXBkYXRlRGF0YWJhc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSBsb2NhbCBkYXRhYmFzZSBvZiB0aGUgbG9hZGVkIE1FSSBmaWxlKHMpLlxuICAgKi9cbiAgZGVsZXRlRGIgKCk6IFByb21pc2U8dm9pZFtdPiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5kZWxldGVEYigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFnZSdzIE1FSSBmaWxlIGVuY29kZWQgYXMgYSBkYXRhIFVSSS5cbiAgICogQHBhcmFtIHBhZ2VObyAtIFRoZSBVUkkgc3BlY2lmeWluZyB0aGUgcGFnZS5cbiAgICogQHJldHVybnMgQSBbRGF0YSBVUkldKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RhdGFfVVJJX3NjaGVtZSkuXG4gICAqL1xuICBnZXRQYWdlVVJJIChwYWdlTm8/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGlmIChwYWdlTm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFnZU5vID0gdGhpcy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5jb3JlLmdldE1FSShwYWdlTm8pLnRoZW4oKG1laSkgPT4ge1xuICAgICAgICByZXNvbHZlKCdkYXRhOmFwcGxpY2F0aW9uL21laSt4bWw7Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KG1laSkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYWdlJ3MgTUVJIGZpbGUgYXMgYSBzdHJpbmcuXG4gICAqIEBwYXJhbSBwYWdlTm8gLSBUaGUgaWRlbnRpZnlpbmcgVVJJIG9mIHRoZSBwYWdlLlxuICAgKi9cbiAgZ2V0UGFnZU1FSSAocGFnZU5vOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmNvcmUuZ2V0TUVJKHBhZ2VObyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYWdlJ3MgU1ZHLlxuICAgKiBAcGFyYW0gcGFnZU5vIC0gVGhlIGlkZW50aWZ5aW5nIFVSSSBvZiB0aGUgcGFnZS5cbiAgICovXG4gIGdldFBhZ2VTVkcgKHBhZ2VObzogc3RyaW5nKTogUHJvbWlzZTxTVkdTVkdFbGVtZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5nZXRTVkcocGFnZU5vKTtcbiAgfVxufVxuXG5leHBvcnQgeyBOZW9uVmlldyBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBjaGVja091dE9mQm91bmRzR2x5cGhzLCBjb252ZXJ0VG9WZXJvdmlvLCByZW1vdmVDb2x1bW5MYWJlbCB9IGZyb20gJy4vdXRpbHMvQ29udmVydE1laSc7XG5pbXBvcnQgKiBhcyBWYWxpZGF0aW9uIGZyb20gJy4vVmFsaWRhdGlvbic7XG5pbXBvcnQgVmVyb3Zpb1dyYXBwZXIgZnJvbSAnLi9WZXJvdmlvV3JhcHBlcic7XG5pbXBvcnQgeyBXZWJBbm5vdGF0aW9uLCBBdHRyaWJ1dGVzLCBFZGl0b3JBY3Rpb24sIE5lb25NYW5pZmVzdCwgVmVyb3Zpb01lc3NhZ2UgfSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4vdXRpbHMvcmFuZG9tJztcblxuaW1wb3J0IFBvdWNoREIgZnJvbSAncG91Y2hkYic7XG5pbXBvcnQgeyBzZXRTYXZlZFN0YXR1cyB9IGZyb20gJy4vdXRpbHMvVW5zYXZlZCc7XG5cbi8qKlxuICogQSBjYWNoZSBpcyB1c2VkIHRvIGtlZXAgdHJhY2sgb2Ygd2hhdCBoYXMgaGFwcGVuZWRcbiAqIGFjcm9zcyBtdWx0aXBsZSBwYWdlcyBpbiBhIG1hbnVzY3JpcHQgd2l0aG91dCBoYXZpbmdcbiAqIHRvIG1ha2UgbWFueSBjYWxscyB0byB0aGUgUG91Y2hoRGIgZGF0YWJhc2UuXG4gKi9cbmludGVyZmFjZSBDYWNoZUVudHJ5IHtcbiAgZGlydHk6IGJvb2xlYW47XG4gIG1laTogc3RyaW5nO1xuICBzdmc6IFNWR1NWR0VsZW1lbnQ7XG59XG5cbi8qKlxuICogVGhlIGNvcmUgY29tcG9uZW50IG9mIE5lb24uIFRoaXMgbWFuYWdlcyB0aGUgZGF0YWJhc2UsXG4gKiB0aGUgdmVyb3ZpbyB0b29sa2l0LCB0aGUgY2FjaGUsIGFuZCB1bmRvL3JlZG8gc3RhY2tzLlxuICovXG5jbGFzcyBOZW9uQ29yZSB7XG4gIC8qKiBXcmFwcGVyIGZvciB0aGUgVmVyb3ZpbyBXZWJXb3JrZXIuICovXG4gIHByaXZhdGUgdmVyb3Zpb1dyYXBwZXI6IFZlcm92aW9XcmFwcGVyO1xuICAvKiogU3RhY2tzIG9mIGFjdGlvbnMgdGhhdCBjYW4gYmUgdW5kb25lIHBlciBwYWdlLiAqL1xuICBwcml2YXRlIHVuZG9TdGFja3M6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPjtcbiAgLyoqIFN0YWNrcyBvZiBhY3Rpb25zIHRoYXQgY2FuIGJlIHJlZG9uZSBwZXIgcGFnZS4gKi9cbiAgcHJpdmF0ZSByZWRvU3RhY2tzOiBNYXA8c3RyaW5nLCBzdHJpbmdbXT47XG4gIC8qKiBDYWNoZSBjb250YWluaW5nIGVudHJpZXMgZm9yIGVhY2ggcGFnZS4gKi9cbiAgcHJpdmF0ZSBuZW9uQ2FjaGU6IE1hcDxzdHJpbmcsIENhY2hlRW50cnk+O1xuICBwcml2YXRlIGRiOiBQb3VjaERCLkRhdGFiYXNlO1xuICBwcml2YXRlIHBhcnNlcjogRE9NUGFyc2VyO1xuICAvKiogUGFnZXMga25vd24gbm90IHRvIGhhdmUgYW55IGFzc29jaWF0ZWQgTUVJLiAqL1xuICBwcml2YXRlIGJsYW5rUGFnZXM6IEFycmF5PHN0cmluZz47XG4gIC8qKiBBIGNvbGxlY3Rpb24gb2YgVzMgV2ViIEFubm90YXRpb25zLiAqL1xuICBwcml2YXRlIGFubm90YXRpb25zOiBXZWJBbm5vdGF0aW9uW107XG4gIHByaXZhdGUgbWFuaWZlc3Q6IE5lb25NYW5pZmVzdDtcbiAgcHJpdmF0ZSBsYXN0UGFnZUxvYWRlZDogc3RyaW5nO1xuXG4gIGdldEFubm90YXRpb25zICgpOiBXZWJBbm5vdGF0aW9uW10geyByZXR1cm4gdGhpcy5hbm5vdGF0aW9uczsgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgTmVvbkNvcmVcbiAgICovXG4gIGNvbnN0cnVjdG9yIChtYW5pZmVzdDogTmVvbk1hbmlmZXN0KSB7XG4gICAgdGhpcy52ZXJvdmlvV3JhcHBlciA9IG5ldyBWZXJvdmlvV3JhcHBlcigpO1xuICAgIC8vVmFsaWRhdGlvbi5pbml0KCk7XG5cbiAgICAvKipcbiAgICAgKiBTdGFja3Mgb2YgcHJldmlvdXMgTUVJIGZpbGVzIHJlcHJlc2VudGluZyBhY3Rpb25zIHRoYXQgY2FuIGJlIHVuZG9uZSBmb3IgZWFjaCBwYWdlLlxuICAgICAqIEB0eXBlIHtNYXAuPHN0cmluZywgQXJyYXkuPHN0cmluZz4+fVxuICAgICAqL1xuICAgIHRoaXMudW5kb1N0YWNrcyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKTtcblxuICAgIC8qKlxuICAgICAqIFN0YWNrcyBvZiBwcmV2aW91cyBNRUkgZmlsZXMgcmVwcmVzZW50aW5nIGFjdGlvbnMgdGhhdCBjYW4gYmUgcmVkb25lIGZvciBlYWNoIHBhZ2UuXG4gICAgICogQHR5cGUge01hcC48c3RyaW5nLCBBcnJheS48c3RyaW5nPj59XG4gICAgICovXG4gICAgdGhpcy5yZWRvU3RhY2tzID0gbmV3IE1hcCgpO1xuXG4gICAgdGhpcy5uZW9uQ2FjaGUgPSBuZXcgTWFwKCk7XG5cbiAgICB0aGlzLnBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgIHRoaXMuZGIgPSBuZXcgUG91Y2hEQignTmVvbicpO1xuXG4gICAgdGhpcy5ibGFua1BhZ2VzID0gW107XG5cbiAgICAvLyBBZGQgZWFjaCBNRUkgdG8gdGhlIGRhdGFiYXNlXG4gICAgdGhpcy5tYW5pZmVzdCA9IG1hbmlmZXN0O1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSBtYW5pZmVzdC5tZWlfYW5ub3RhdGlvbnM7XG4gICAgdGhpcy5sYXN0UGFnZUxvYWRlZCA9ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIFBvdWNoRGIgZGF0YWJhc2UgYmFzZWQgb24gdGhlIHByb3ZpZGVkIG1hbmlmZXN0LlxuICAgKiBJZiBhIG5ld2VyIHZlcnNpb24gYWxyZWFkeSBleGlzdHMgaW4gdGhlIGRhdGFiYXNlLCB0aGlzIHdpbGxcbiAgICogbm90IHVwZGF0ZSB0aGUgZGF0YWJhc2UgdW5sZXNzIGZvcmNlZC5cbiAgICogQHBhcmFtIGZvcmNlIC0gSWYgYSBkYXRhYmFzZSB1cGRhdGUgc2hvdWxkIGJlIGZvcmNlZC5cbiAgICovXG4gIGFzeW5jIGluaXREYiAoZm9yY2UgPSBmYWxzZSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIC8vIENoZWNrIGZvciBleGlzdGluZyBtYW5pZmVzdFxuICAgIHR5cGUgRGJBbm5vdGF0aW9uID0gUG91Y2hEQi5Db3JlLklkTWV0YSAmIFBvdWNoREIuQ29yZS5HZXRNZXRhICYgV2ViQW5ub3RhdGlvbjtcbiAgICB0eXBlIERvYyA9IFBvdWNoREIuQ29yZS5JZE1ldGEgJiBQb3VjaERCLkNvcmUuR2V0TWV0YSAmIHsgdGltZXN0YW1wOiBzdHJpbmc7IGFubm90YXRpb25zOiBzdHJpbmdbXX07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBuZXcgUHJvbWlzZTxib29sZWFuPigocmVzb2x2ZSwgcmVqZWN0KTogdm9pZCA9PiB7XG4gICAgICB0aGlzLmRiLmdldCh0aGlzLm1hbmlmZXN0WydAaWQnXSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKGVyci5uYW1lID09PSAnbm90X2ZvdW5kJykge1xuICAgICAgICAgIC8vIFRoaXMgaXMgYSBuZXcgZG9jdW1lbnQuXG4gICAgICAgICAgY29uc3QgZG9jID0ge1xuICAgICAgICAgICAgX2lkOiB0aGlzLm1hbmlmZXN0WydAaWQnXSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5tYW5pZmVzdC50aW1lc3RhbXAsXG4gICAgICAgICAgICBpbWFnZTogdGhpcy5tYW5pZmVzdC5pbWFnZSxcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLm1hbmlmZXN0LnRpdGxlLFxuICAgICAgICAgICAgYW5ub3RhdGlvbnM6IFtdXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLmFubm90YXRpb25zLmZvckVhY2goYW5ub3RhdGlvbiA9PiB7XG4gICAgICAgICAgICBkb2MuYW5ub3RhdGlvbnMucHVzaChhbm5vdGF0aW9uLmlkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oYXN5bmMgKGRvYzogRG9jKSA9PiB7XG4gICAgICAgIC8vIENoZWNrIGlmIGRvYyB0aW1lc3RhbXAgaXMgbmV3ZXIgdGhhbiBtYW5pZmVzdFxuICAgICAgICBjb25zdCBkb2NUaW1lID0gKG5ldyBEYXRlKGRvYy50aW1lc3RhbXApKS5nZXRUaW1lKCk7XG4gICAgICAgIC8vIEZvcm1hdCB0aW1lc3RhbXAgdG8gc3BlY2lmaWMgSVNPIDg2MDEgdmFyaWFudCBiZWNhdXNlXG4gICAgICAgIC8vIFNhZmFyaSByZXF1aXJlcyB0aW1lem9uZSBvZmZzZXRzIHRvIGJlICsvLUhIOk1NIGFuZCBmYWlscyBvblxuICAgICAgICAvLyB0aGUgZXF1YWxseSB2YWxpZCArLy1ISE1NLiBUaGlzIGRvZXNuJ3QgbmVlZCB0byBiZSBhcHBsaWVkIHRvXG4gICAgICAgIC8vIHRoZSBicm93c2VyIGdlbmVyYXRlZCB0aW1lc3RhbXAgc2luY2UgdGhhdCBhbHdheXMgZ2VuZXJhdGVzIGFcbiAgICAgICAgLy8gdGltZXN0YW1wIGluIFVUQyB3aXRoIHRoZSBaIGVuZGluZy5cbiAgICAgICAgY29uc3QgdGltZVpvbmVSZWdleHAgPSAvKC4rWy0rXFx1MjIxMl1cXGRcXGQpKFxcZFxcZCkkLztcbiAgICAgICAgY29uc3QgbWFuVGltZSA9ICh0aW1lWm9uZVJlZ2V4cC50ZXN0KHRoaXMubWFuaWZlc3QudGltZXN0YW1wKSkgP1xuICAgICAgICAgIChuZXcgRGF0ZSh0aGlzLm1hbmlmZXN0LnRpbWVzdGFtcC5yZXBsYWNlKHRpbWVab25lUmVnZXhwLCAnJDE6JDInKSkpLmdldFRpbWUoKVxuICAgICAgICAgIDogKG5ldyBEYXRlKHRoaXMubWFuaWZlc3QudGltZXN0YW1wKSkuZ2V0VGltZSgpO1xuICAgICAgICBpZiAoZG9jVGltZSA+IG1hblRpbWUpIHtcbiAgICAgICAgICBpZiAoIWZvcmNlKSB7XG4gICAgICAgICAgICAvLyBGaWxsIGFubm90YXRpb25zIGxpc3Qgd2l0aCBkYiBhbm5vdGF0aW9uc1xuICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBkb2MuYW5ub3RhdGlvbnMubWFwKChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYi5nZXQoaWQpLnRoZW4oKGFubm90YXRpb246IERiQW5ub3RhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hbm5vdGF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGFubm90YXRpb24uX2lkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnQW5ub3RhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IGFubm90YXRpb24uYm9keSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBhbm5vdGF0aW9uLnRhcmdldFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICByZXMoJycpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICByZXMoJycpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGFubm90YXRpb24gb2YgdGhpcy5hbm5vdGF0aW9ucykge1xuICAgICAgICAgIC8vIEFkZCBhbm5vdGF0aW9ucyB0byBkYXRhYmFzZVxuICAgICAgICAgIGF3YWl0IHRoaXMuZGIuZ2V0KGFubm90YXRpb24uaWQpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyLm5hbWUgPT09ICdub3RfZm91bmQnKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgX2lkOiBhbm5vdGF0aW9uLmlkXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS50aGVuKChuZXdBbm5vdGF0aW9uOiBEYkFubm90YXRpb24pID0+IHtcbiAgICAgICAgICAgIG5ld0Fubm90YXRpb24uYm9keSA9IGFubm90YXRpb24uYm9keTtcbiAgICAgICAgICAgIG5ld0Fubm90YXRpb24udGFyZ2V0ID0gYW5ub3RhdGlvbi50YXJnZXQ7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYi5wdXQobmV3QW5ub3RhdGlvbik7XG4gICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRiLnB1dChkb2MpO1xuICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xuICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYSBwYWdlIGludG8gdGhlIHZlcm92aW8gdG9vbGtpdC4gVGhpcyB3aWxsIGZldGNoIHRoZVxuICAgKiBwYWdlIGZyb20gdGhlIGNhY2hlIG9yIGZyb20gdGhlIGRhdGFiYXNlLlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBsb2FkUGFnZSAocGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxDYWNoZUVudHJ5PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpOiB2b2lkID0+IHtcbiAgICAgIC8vIFdhcyB0aGlzIGFscmVhZHkgdGhlIGxvYWRlZCBwYWdlP1xuICAgICAgaWYgKHRoaXMubGFzdFBhZ2VMb2FkZWQgPT09IHBhZ2VVUkkgJiYgdGhpcy5uZW9uQ2FjaGUuaGFzKHBhZ2VVUkkpKSB7XG4gICAgICAgIHJlc29sdmUodGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5uZW9uQ2FjaGUuaGFzKHBhZ2VVUkkpKSB7XG4gICAgICAgIHRoaXMubG9hZERhdGEocGFnZVVSSSwgdGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpLm1laSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSh0aGlzLm5lb25DYWNoZS5nZXQocGFnZVVSSSkpO1xuICAgICAgICB9KTtcbiAgICAgIC8vIERvIHdlIGtub3cgdGhpcyBwYWdlIGhhcyBubyBNRUkgY29udGVudD9cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5ibGFua1BhZ2VzLmluY2x1ZGVzKHBhZ2VVUkkpKSB7XG4gICAgICAgIFZhbGlkYXRpb24uYmxhbmtQYWdlKCk7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgRXJyb3IoJ05vIE1FSSBmaWxlIGZvciBwYWdlICcgKyBwYWdlVVJJKTtcbiAgICAgICAgZS5uYW1lID0gJ21pc3NpbmdfbWVpJztcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRmluZCBhbm5vdGF0aW9uXG4gICAgICAgIGNvbnN0IGFubm90YXRpb24gPSB0aGlzLmFubm90YXRpb25zLmZpbmQoZWxlbSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGVsZW0udGFyZ2V0ID09PSBwYWdlVVJJO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFubm90YXRpb24pIHtcbiAgICAgICAgICB3aW5kb3cuZmV0Y2goYW5ub3RhdGlvbi5ib2R5KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgTUVJIGZpbGUgaXMgc2ItYmFzZWQuIElmIHNvLCBjb252ZXJ0IHRvIHN0YWZmLWJhc2VkLlxuICAgICAgICAgICAgaWYgKCEvPHNlY3Rpb25cXGJbXj5dKlxcYnR5cGU9XCJuZW9uLW5ldW1lLWxpbmVcIltePl0qPi8udGVzdChkYXRhKSkge1xuICAgICAgICAgICAgICBkYXRhID0gY29udmVydFRvVmVyb3ZpbyhkYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hlY2tPdXRPZkJvdW5kc0dseXBocyhkYXRhKTtcbiAgICAgICAgICAgIHRoaXMubG9hZERhdGEocGFnZVVSSSwgZGF0YSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHJlc29sdmUodGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiBubyBhbm5vdGF0aW9uIHdhcyBmb3VuZCB0cmVhdCB0aGUgcGFnZSBhc1xuICAgICAgICAgIC8vIGJlaW5nIGJsYW5rXG4gICAgICAgICAgVmFsaWRhdGlvbi5ibGFua1BhZ2UoKTtcbiAgICAgICAgICB0aGlzLmJsYW5rUGFnZXMucHVzaChwYWdlVVJJKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgZGF0YSBpbnRvIHRoZSB2ZXJvdmlvIHRvb2xraXQgYW5kIHVwZGF0ZSB0aGUgY2FjaGUuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICogQHBhcmFtIGRhdGEgLSBUaGUgTUVJIG9mIHRoZSBwYWdlIGFzIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0gZGlydHkgLSBJZiB0aGUgY2FjaGUgZW50cnkgc2hvdWxkIGJlIG1hcmtlZCBhcyBkaXJ0eS5cbiAgICovXG4gIGxvYWREYXRhIChwYWdlVVJJOiBzdHJpbmcsIGRhdGE6IHN0cmluZywgZGlydHkgPSBmYWxzZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIFZhbGlkYXRpb24uc2VuZEZvclZhbGlkYXRpb24ocmVtb3ZlQ29sdW1uTGFiZWwoZGF0YSkpO1xuICAgIHRoaXMubGFzdFBhZ2VMb2FkZWQgPSBwYWdlVVJJO1xuICAgIC8qIEEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgcmVzdWx0IG9mIHRoZSBhY3Rpb24uXG4gICAgICogSG93ZXZlciB0aGUgdmFsdWUgdGhhdCBpcyBtdXN0IHJldHVybiBjb21lcyBmcm9tIHRoZSBXZWIgV29ya2VyIGFuZFxuICAgICAqIGluZm9ybWF0aW9uIHBhc3NlZCBiZXR3ZWVuIHRoZSB3b3JrZXIgYW5kIG1haW4gY29udGV4dCBtdWNoIGJlIGluIGFcbiAgICAgKiBtZXNzYWdlLiBTbyBhbiBldmVudCBoYW5kbGVyIGlzIHB1dCBvbiB2ZXJvdmlvV3JhcHBlciBmb3Igd2hlbiBhIG1lc3NhZ2VcbiAgICAgKiBpcyByZWNlaWV2ZWQgZnJvbSB0aGUgd29ya2VyLiBUaGVuIGEgbWVzc2FnZSBpcyBzZW50IHRvIHRoZSB3b3JrZXIgdG9cbiAgICAgKiB0YWtlIGFuIGFjdGlvbi4gQSByZXNwb25zZSBpcyBzZW50IGJhY2sgYW5kIHRoZSBwcmV2aW91c2x5IG1lbnRpb25lZFxuICAgICAqIGV2ZW50IGhhbmRsZXIgaGFuZGxlcyB0aGUgcmVzcG9uc2UuIFNpbmNlIGl0IGlzIGRlZmluZWQgd2l0aGluIHRoZVxuICAgICAqIHByb21pc2UgaXQgaGFzIGFjY2VzcyB0byB0aGUgbmVjZXNzYXJ5IHJlc29sdmUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBhY3Rpb246ICdyZW5kZXJEYXRhJyxcbiAgICAgICAgbWVpOiBkYXRhXG4gICAgICB9O1xuICAgICAgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xuICAgICAgICBpZiAoZXZ0LmRhdGEuaWQgPT09IG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICBjb25zdCBzdmcgPSB0aGlzLnBhcnNlci5wYXJzZUZyb21TdHJpbmcoXG4gICAgICAgICAgICBldnQuZGF0YS5zdmcsXG4gICAgICAgICAgICAnaW1hZ2Uvc3ZnK3htbCdcbiAgICAgICAgICApLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICB0aGlzLm5lb25DYWNoZS5zZXQocGFnZVVSSSwge1xuICAgICAgICAgICAgc3ZnOiBzdmcsXG4gICAgICAgICAgICBtZWk6IGRhdGEsXG4gICAgICAgICAgICBkaXJ0eTogZGlydHlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBldnQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGUpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFNWRyBmb3IgYSBzcGVjaWZpYyBwYWdlLlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBnZXRTVkcgKHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8U1ZHU1ZHRWxlbWVudD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KTogdm9pZCA9PiB7XG4gICAgICB0aGlzLmxvYWRQYWdlKHBhZ2VVUkkpLnRoZW4oKGVudHJ5KSA9PiB7XG4gICAgICAgIHJlc29sdmUoZW50cnkuc3ZnKTtcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsgcmVqZWN0KGVycik7IH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgTUVJIGZvciBhIHNwZWNpZmljIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICovXG4gIGdldE1FSSAocGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5sb2FkUGFnZShwYWdlVVJJKS50aGVuKChlbnRyeSkgPT4ge1xuICAgICAgICByZXNvbHZlKGVudHJ5Lm1laSk7XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7IHJlamVjdChlcnIpOyB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbXVzaWNhbCBlbGVtZW50IGF0dHJpYnV0ZXMgZnJvbSB0aGUgdmVyb3ZpbyB0b29sa2l0LlxuICAgKiBAcGFyYW0gZWxlbWVudElkIC0gVGhlIHVuaXF1ZSBJRCBvZiB0aGUgbXVzaWNhbCBlbGVtZW50LlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBnZXRFbGVtZW50QXR0ciAoZWxlbWVudElkOiBzdHJpbmcsIHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8QXR0cmlidXRlcz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5sb2FkUGFnZShwYWdlVVJJKS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZTogVmVyb3Zpb01lc3NhZ2UgPSB7XG4gICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgIGFjdGlvbjogJ2dldEVsZW1lbnRBdHRyJyxcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiBoYW5kbGUgKGV2dDogTWVzc2FnZUV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2dC5kYXRhLmlkID09PSBtZXNzYWdlLmlkKSB7XG4gICAgICAgICAgICBldnQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGUpO1xuICAgICAgICAgICAgcmVzb2x2ZShldnQuZGF0YS5hdHRyaWJ1dGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybSBhbiBlZGl0b3IgYWN0aW9uIG9uIGEgc3BlY2lmaWMgcGFnZS5cbiAgICogQHBhcmFtIGFjdGlvbiAtIFRoZSBlZGl0b3IgdG9vbGtpdCBhY3Rpb24gb2JqZWN0LlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBlZGl0IChlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiwgcGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgbGV0IHByb21pc2U6IFByb21pc2U8Q2FjaGVFbnRyeT47XG4gICAgaWYgKHRoaXMubGFzdFBhZ2VMb2FkZWQgPT09IHBhZ2VVUkkpIHtcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUodGhpcy5uZW9uQ2FjaGUuZ2V0KHBhZ2VVUkkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZSA9IHRoaXMubG9hZFBhZ2UocGFnZVVSSSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgcHJvbWlzZS50aGVuKGVudHJ5ID0+IHtcbiAgICAgICAgLy8gZGVsZXRlIHVubmVjZXNzYXJ5IFNWRyBvYmplY3QgcmVmZXJlbmNlO1xuICAgICAgICAvLyBvdGhlcndpc2UsIHRoaXMgaXMgbm90IGdhcmJhZ2UgY29sbGVjdGVkIVxuICAgICAgICBlbnRyeS5zdmcgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRNRUkgPSBlbnRyeS5tZWk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdlZGl0JyxcbiAgICAgICAgICBlZGl0b3JBY3Rpb246IGVkaXRvckFjdGlvblxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGUgKHRoaXM6IE5lb25Db3JlLCBldnQ6IE1lc3NhZ2VFdmVudCk6IHZvaWQge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgaWYgKGV2dC5kYXRhLnJlc3VsdCkge1xuICAgICAgICAgICAgICBpZiAoIXRoaXMudW5kb1N0YWNrcy5oYXMocGFnZVVSSSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuZG9TdGFja3Muc2V0KHBhZ2VVUkksIFtdKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEFkZCB0byB1bmRvIHN0YWNrOlxuICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGJvdHRvbW1vc3QgTUVJIHN0cmluZyBvbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgLy8gaWYgdGhlIHN0YWNrIGlzID4gMTAgc3RyaW5nc1xuICAgICAgICAgICAgICBjb25zdCB1bmRvU3RhY2sgPSB0aGlzLnVuZG9TdGFja3MuZ2V0KHBhZ2VVUkkpO1xuICAgICAgICAgICAgICBjb25zdCBsZW4gPSB1bmRvU3RhY2sucHVzaChjdXJyZW50TUVJKTtcblxuICAgICAgICAgICAgICBpZiAobGVuID4gMTApXG4gICAgICAgICAgICAgICAgdGhpcy51bmRvU3RhY2tzLnNldChwYWdlVVJJLCB1bmRvU3RhY2suc2xpY2UoMSkpO1xuXG4gICAgICAgICAgICAgIC8vIENsZWFyIHJlZG8gc3RhY2s6XG4gICAgICAgICAgICAgIHRoaXMucmVkb1N0YWNrcy5zZXQocGFnZVVSSSwgW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZ0LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2FjaGUocGFnZVVSSSwgdHJ1ZSkudGhlbigoKSA9PiB7IHJlc29sdmUoZXZ0LmRhdGEucmVzdWx0KTsgfSk7XG4gICAgICAgICAgICBzZXRTYXZlZFN0YXR1cyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBjb250ZW50cyBvZiB0aGUgY2FjaGUgdXNpbmcgaW5mb3JtYXRpb24gaW4gdmVyb3ZpbyB0b29sa2l0LlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFBhZ2UgdG8gYmUgdXBkYXRlZCBpbiBjYWNoZS5cbiAgICogQHBhcmFtIGRpcnR5IC0gSWYgdGhlIGVudHJ5IHNob3VsZCBiZSBtYXJrZWQgYXMgZGlydHlcbiAgICovXG4gIHVwZGF0ZUNhY2hlIChwYWdlVVJJOiBzdHJpbmcsIGRpcnR5OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICAvLyBNdXN0IGdldCBNRUkgYW5kIHRoZW4gZ2V0IFNWRyB0aGVuIGZpbmlzaC5cbiAgICAgIGxldCBtZWk6IHN0cmluZywgc3ZnVGV4dDogc3RyaW5nO1xuICAgICAgY29uc3QgbWVpUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdnZXRNRUknXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIGhhbmRsZSAoZXZ0OiBNZXNzYWdlRXZlbnQpIHtcbiAgICAgICAgICBpZiAoZXZ0LmRhdGEuaWQgPT09IG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICAgIG1laSA9IGV2dC5kYXRhLm1laTtcbiAgICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgICBWYWxpZGF0aW9uLnNlbmRGb3JWYWxpZGF0aW9uKHJlbW92ZUNvbHVtbkxhYmVsKG1laSkpO1xuICAgICAgICAgICAgcmVzb2x2ZSgnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc3ZnUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdyZW5kZXJUb1NWRydcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgc3ZnVGV4dCA9IGV2dC5kYXRhLnN2ZztcbiAgICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgICByZXNvbHZlKCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIG1laVByb21pc2UudGhlbigoKSA9PiB7IHJldHVybiBzdmdQcm9taXNlOyB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3ZnID0gdGhpcy5wYXJzZXIucGFyc2VGcm9tU3RyaW5nKFxuICAgICAgICAgIHN2Z1RleHQsXG4gICAgICAgICAgJ2ltYWdlL3N2Zyt4bWwnXG4gICAgICAgICkuZG9jdW1lbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50ICYgU1ZHU1ZHRWxlbWVudDtcbiAgICAgICAgdGhpcy5uZW9uQ2FjaGUuc2V0KHBhZ2VVUkksIHtcbiAgICAgICAgICBtZWk6IG1laSxcbiAgICAgICAgICBzdmc6IHN2ZyxcbiAgICAgICAgICBkaXJ0eTogZGlydHlcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZWRpdCBpbmZvIHN0cmluZyBmcm9tIHRoZSB2ZXJvdmlvIHRvb2xraXQuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgcGFnZSB0byBnZXQgdGhlIGVkaXQgaW5mbyBzdHJpbmcgZnJvbS5cbiAgICovXG4gIGluZm8gKHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbGV0IHByb21pc2U6IFByb21pc2U8Q2FjaGVFbnRyeSB8IHZvaWQ+O1xuICAgIGlmICh0aGlzLmxhc3RQYWdlTG9hZGVkID09PSBwYWdlVVJJKSB7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UgPSB0aGlzLmxvYWRQYWdlKHBhZ2VVUkkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpOiB2b2lkID0+IHtcbiAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdlZGl0SW5mbydcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgZXZ0LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlKTtcbiAgICAgICAgICAgIHJlc29sdmUoZXZ0LmRhdGEuaW5mbyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuZG8gdGhlIGxhc3QgYWN0aW9uIHBlcmZvcm1lZCBvbiBhIHNwZWNpZmljIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICogQHJldHVybnMgSWYgdGhlIGFjdGlvbiB3YXMgdW5kb25lLlxuICAgKi9cbiAgdW5kbyAocGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMudW5kb1N0YWNrcy5oYXMocGFnZVVSSSkpXG4gICAgICAgIHJldHVybiByZXNvbHZlKGZhbHNlKTtcblxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnVuZG9TdGFja3MuZ2V0KHBhZ2VVUkkpLnBvcCgpO1xuICAgICAgaWYgKCFzdGF0ZSkgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuXG4gICAgICBjb25zdCBtZWkgPSBhd2FpdCB0aGlzLmdldE1FSShwYWdlVVJJKTtcbiAgICAgIHRoaXMucmVkb1N0YWNrcy5nZXQocGFnZVVSSSkucHVzaChtZWkpO1xuICAgICAgYXdhaXQgdGhpcy5sb2FkRGF0YShwYWdlVVJJLCBzdGF0ZSwgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZG8gdGhlIGxhc3QgYWN0aW9uIHBlcmZvcm1lZCBvbiBhIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIHBhZ2UgVVJJLlxuICAgKiBAcmV0dXJucyBJZiB0aGUgYWN0aW9uIHdhcyByZWRvbmUuXG4gICAqL1xuICByZWRvIChwYWdlVVJJOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICAgIGlmICghdGhpcy5yZWRvU3RhY2tzLmhhcyhwYWdlVVJJKSlcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuXG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucmVkb1N0YWNrcy5nZXQocGFnZVVSSSkucG9wKCk7XG4gICAgICBpZiAoIXN0YXRlKSByZXR1cm4gcmVzb2x2ZShmYWxzZSk7XG5cbiAgICAgIGNvbnN0IG1laSA9IGF3YWl0IHRoaXMuZ2V0TUVJKHBhZ2VVUkkpO1xuICAgICAgdGhpcy51bmRvU3RhY2tzLmdldChwYWdlVVJJKS5wdXNoKG1laSk7XG4gICAgICBhd2FpdCB0aGlzLmxvYWREYXRhKHBhZ2VVUkksIHN0YXRlLCB0cnVlKTtcblxuICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBQb3VjaERiIGRhdGFiYXNlIHN0b3JlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICogVGhpcyBpcyBiYXNlZCBvbiB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNhY2hlLiBUbyBzYXZlIHRpbWUsXG4gICAqIG9ubHkgZW50cmllcyBtYXJrZWQgYXMgZGlydHkgd2lsbCBiZSB1cGRhdGVkLlxuICAgKi9cbiAgYXN5bmMgdXBkYXRlRGF0YWJhc2UgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHR5cGUgRG9jID0gUG91Y2hEQi5Db3JlLkdldE1ldGEgJiBQb3VjaERCLkNvcmUuSWRNZXRhICYgeyBib2R5OiBzdHJpbmc7IHRpbWVzdGFtcDogc3RyaW5nIH07XG4gICAgbGV0IHVwZGF0ZVRpbWVzdGFtcCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgcGFpciBvZiB0aGlzLm5lb25DYWNoZSkge1xuICAgICAgY29uc3Qga2V5ID0gcGFpclswXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gcGFpclsxXTtcbiAgICAgIGlmICh2YWx1ZS5kaXJ0eSkge1xuICAgICAgICB1cGRhdGVUaW1lc3RhbXAgPSB0cnVlO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuYW5ub3RhdGlvbnMuZmluZEluZGV4KGVsZW0gPT4geyByZXR1cm4gZWxlbS50YXJnZXQgPT09IGtleTsgfSk7XG4gICAgICAgIC8vIHRyeSB0byB1cGRhdGUgc2VydmVyIHdpdGggUFVUIHJlcXVlc3QgKGlmIGFwcGxpY2FibGUpXG4gICAgICAgIC8vIHRoaXMgaXMgc2ltcGxlciB0aGFuIGV4cGVjdGluZyBhIHNwZWNpZmljIEFQSSBvbiB0aGUgc2VydmVyXG4gICAgICAgIC8vIGFuZCB1c2luZyBQT1NUIHJlcXVlc3RzLCBhbHRob3VnaCB0aGF0IHdvdWxkIGJlIGJldHRlciBpZiB0aGVyZVxuICAgICAgICAvLyBpcyBldmVyIGEgZGVkaWNhdGVkIHB1YmxpYyBzZXJ2ZXIgZm9yIE5lb24hIEF0IHRpbWUgb2Ygd3JpdGluZyxcbiAgICAgICAgLy8gb25seSBkZXYvdGVzdGluZyBzZXJ2ZXIgYWNjZXB0cyBQVVQgcmVxdWVzdHMuXG4gICAgICAgIC8vIG9ubHkgYXR0ZW1wdCBpZiBub3QgYSBkYXRhIFVSSVxuICAgICAgICBsZXQgdXJpOiBzdHJpbmc7XG4gICAgICAgIGlmICghdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keS5tYXRjaCgvXmRhdGE6LykpIHtcbiAgICAgICAgICBhd2FpdCB3aW5kb3cuZmV0Y2godGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL21laSt4bWwnIH0sXG4gICAgICAgICAgICAgIGJvZHk6IHZhbHVlLm1laVxuICAgICAgICAgICAgfVxuICAgICAgICAgICkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgdXJpID0gdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHVyaSA9ICdkYXRhOmFwcGxpY2F0aW9uL21laSt4bWw7YmFzZTY0LCcgKyB3aW5kb3cuYnRvYSh2YWx1ZS5tZWkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhbGxpbmcgYmFjayB0byBkYXRhIFVSSScpO1xuICAgICAgICAgICAgdXJpID0gJ2RhdGE6YXBwbGljYXRpb24vbWVpK3htbDtiYXNlNjQsJyArIHdpbmRvdy5idG9hKHZhbHVlLm1laSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXJpID0gJ2RhdGE6YXBwbGljYXRpb24vbWVpK3htbDtiYXNlNjQsJyArIHdpbmRvdy5idG9hKHZhbHVlLm1laSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIFVSSSBpbiBhbm5vdGF0aW9ucywgZGF0YWJhc2VcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keSA9IHVyaTtcbiAgICAgICAgYXdhaXQgdGhpcy5kYi5nZXQodGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uaWQpLnRoZW4oKGRvYzogRG9jKSA9PiB7XG4gICAgICAgICAgZG9jLmJvZHkgPSB1cmk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGIucHV0KGRvYyk7XG4gICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHZhbHVlLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXBkYXRlVGltZXN0YW1wKSB7XG4gICAgICBhd2FpdCB0aGlzLmRiLmdldCh0aGlzLm1hbmlmZXN0WydAaWQnXSkudGhlbigoZG9jOiBEb2MpID0+IHtcbiAgICAgICAgZG9jLnRpbWVzdGFtcCA9IChuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5wdXQoZG9jKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBDb21wbGV0ZWx5IHJlbW92ZSB0aGUgZGF0YWJhc2UuICovXG4gIGFzeW5jIGRlbGV0ZURiICgpOiBQcm9taXNlPHZvaWRbXT4ge1xuICAgIHR5cGUgRG9jID0gUG91Y2hEQi5Db3JlLklkTWV0YSAmIFBvdWNoREIuQ29yZS5HZXRNZXRhICYgeyB0aW1lc3RhbXA6IHN0cmluZzsgYW5ub3RhdGlvbnM6IHN0cmluZ1tdfTtcbiAgICBjb25zdCBhbm5vdGF0aW9ucyA9IGF3YWl0IHRoaXMuZGIuZ2V0KHRoaXMubWFuaWZlc3RbJ0BpZCddKVxuICAgICAgLnRoZW4oKGRvYzogRG9jKSA9PiB7IHJldHVybiBkb2MuYW5ub3RhdGlvbnM7IH0gKTtcbiAgICBhbm5vdGF0aW9ucy5wdXNoKHRoaXMubWFuaWZlc3RbJ0BpZCddKTtcblxuICAgIGNvbnN0IHByb21pc2VzID0gYW5ub3RhdGlvbnMubWFwKChpZCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlcyA9PiB7XG4gICAgICAgIHRoaXMuZGIuZ2V0KGlkKVxuICAgICAgICAgIC50aGVuKGRvYyA9PiB7IHJldHVybiB0aGlzLmRiLnJlbW92ZShkb2MpOyB9KVxuICAgICAgICAgIC50aGVuKCgpID0+IHJlcygpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgTmVvbkNvcmUgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgVmVyb3Zpb01lc3NhZ2UgfSBmcm9tICcuL1R5cGVzJztcblxuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIHRoZSB2ZXJvdmlvIHdlYiB3b3JrZXIgdG8gcGVybWl0IG1vY2tpbmcgaW4gdGVzdHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlcm92aW9XcmFwcGVyIHtcbiAgdmVyb3Zpb1dvcmtlcjogV29ya2VyO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdGhpcy52ZXJvdmlvV29ya2VyID0gbmV3IFdvcmtlcihcbiAgICAgICAgX19BU1NFVF9QUkVGSVhfXyArICd3b3JrZXJzL1Zlcm92aW9Xb3JrZXIuanMnXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZlcm92aW9Xb3JrZXIgPSBuZXcgV29ya2VyKFxuICAgICAgICBfX0FTU0VUX1BSRUZJWF9fICsgJ3dvcmtlcnMvVmVyb3Zpb1dvcmtlci1kZXYuanMnXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYW4gZXZlbnQgbGlzdGVuZXIgb250byB0aGUgYWN0dWFsIHdlYiB3b3JrZXIuXG4gICAqL1xuICBhZGRFdmVudExpc3RlbmVyKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBoYW5kbGVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0XG4gICk6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLnZlcm92aW9Xb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGEgbWVzc2FnZSB0byB0aGUgYWN0dWFsIHdlYiB3b3JrZXIuXG4gICAqL1xuICBwb3N0TWVzc2FnZShtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSk6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLnZlcm92aW9Xb3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMgKi9cbmltcG9ydCB7IE5lb25NYW5pZmVzdCB9IGZyb20gJy4uL1R5cGVzJztcbmNvbnN0IE5lb25TY2hlbWEgPSByZXF1aXJlKCcuL21hbmlmZXN0L05lb25TY2hlbWEuanNvbicpO1xuY29uc3QgTmVvbkNvbnRleHQgPSByZXF1aXJlKCcuL21hbmlmZXN0L2NvbnRleHQuanNvbicpO1xuaW1wb3J0IHsgdmFsaWRhdGUgfSBmcm9tICdqc29uc2NoZW1hJztcblxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBwcm92aWRlZCBOZW9uIG1hbmlmZXN0IGlzIHBhcnNlYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdFN0cmluZyAtIFRoZSBOZW9uIG1hbmlmZXN0IGFzIGEgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNYW5pZmVzdCAobWFuaWZlc3RTdHJpbmc6IE5lb25NYW5pZmVzdCk6IGJvb2xlYW4ge1xuICBjb25zdCByZXN1bHRzID0gdmFsaWRhdGUobWFuaWZlc3RTdHJpbmcsIE5lb25TY2hlbWEpO1xuICBjb25zdCBpbnN0YW5jZSA9IHJlc3VsdHMuaW5zdGFuY2U7XG4gIGlmIChyZXN1bHRzLmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgY29uc29sZS5lcnJvcihyZXN1bHRzLmVycm9ycyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGNvbnRleHQgPSBpbnN0YW5jZVsnQGNvbnRleHQnXTtcbiAgaWYgKGNvbnRleHQgPT09ICdodHRwczovL2RkbWFsLm11c2ljLm1jZ2lsbC5jYS9OZW9uL2NvbnRleHRzLzEvbWFuaWZlc3QuanNvbmxkJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICgoY29udGV4dFswXSA9PT0gTmVvbkNvbnRleHRbMF0pICYmXG4gICAgICAoY29udGV4dFsxXVsnc2NoZW1hJ10gPT09IE5lb25Db250ZXh0WzFdWydzY2hlbWEnXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWyd0aXRsZSddID09PSBOZW9uQ29udGV4dFsxXVsndGl0bGUnXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWyd0aW1lc3RhbXAnXSA9PT0gTmVvbkNvbnRleHRbMV1bJ3RpbWVzdGFtcCddKSAmJlxuICAgICAgKGNvbnRleHRbMV1bJ2ltYWdlJ11bJ0BpZCddID09PSBOZW9uQ29udGV4dFsxXVsnaW1hZ2UnXVsnQGlkJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnaW1hZ2UnXVsnQHR5cGUnXSA9PT0gTmVvbkNvbnRleHRbMV1bJ2ltYWdlJ11bJ0B0eXBlJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0BpZCddID09PSBOZW9uQ29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0BpZCddKSAmJlxuICAgICAgKGNvbnRleHRbMV1bJ21laV9hbm5vdGF0aW9ucyddWydAdHlwZSddID09PSBOZW9uQ29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0B0eXBlJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0Bjb250YWluZXInXSA9PT0gTmVvbkNvbnRleHRbMV1bJ21laV9hbm5vdGF0aW9ucyddWydAY29udGFpbmVyJ10pKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignQ29udGV4dCBtaXNtYXRjaCcpO1xuICAgIGNvbnNvbGUuZXJyb3IoY29udGV4dCk7XG4gICAgY29uc29sZS5lcnJvcihOZW9uQ29udGV4dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBWYWxpZGF0b3IgPSBtb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3IgPSByZXF1aXJlKCcuL3ZhbGlkYXRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHQgPSByZXF1aXJlKCcuL2hlbHBlcnMnKS5WYWxpZGF0b3JSZXN1bHQ7XG5tb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHRFcnJvciA9IHJlcXVpcmUoJy4vaGVscGVycycpLlZhbGlkYXRvclJlc3VsdEVycm9yO1xubW9kdWxlLmV4cG9ydHMuVmFsaWRhdGlvbkVycm9yID0gcmVxdWlyZSgnLi9oZWxwZXJzJykuVmFsaWRhdGlvbkVycm9yO1xubW9kdWxlLmV4cG9ydHMuU2NoZW1hRXJyb3IgPSByZXF1aXJlKCcuL2hlbHBlcnMnKS5TY2hlbWFFcnJvcjtcbm1vZHVsZS5leHBvcnRzLlNjaGVtYVNjYW5SZXN1bHQgPSByZXF1aXJlKCcuL3NjYW4nKS5TY2hlbWFTY2FuUmVzdWx0O1xubW9kdWxlLmV4cG9ydHMuc2NhbiA9IHJlcXVpcmUoJy4vc2NhbicpLnNjYW47XG5cbm1vZHVsZS5leHBvcnRzLnZhbGlkYXRlID0gZnVuY3Rpb24gKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMpIHtcbiAgdmFyIHYgPSBuZXcgVmFsaWRhdG9yKCk7XG4gIHJldHVybiB2LnZhbGlkYXRlKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHVyaWxpYiA9IHJlcXVpcmUoJ3VybCcpO1xuXG52YXIgYXR0cmlidXRlID0gcmVxdWlyZSgnLi9hdHRyaWJ1dGUnKTtcbnZhciBoZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG52YXIgc2NhblNjaGVtYSA9IHJlcXVpcmUoJy4vc2NhbicpLnNjYW47XG52YXIgVmFsaWRhdG9yUmVzdWx0ID0gaGVscGVycy5WYWxpZGF0b3JSZXN1bHQ7XG52YXIgVmFsaWRhdG9yUmVzdWx0RXJyb3IgPSBoZWxwZXJzLlZhbGlkYXRvclJlc3VsdEVycm9yO1xudmFyIFNjaGVtYUVycm9yID0gaGVscGVycy5TY2hlbWFFcnJvcjtcbnZhciBTY2hlbWFDb250ZXh0ID0gaGVscGVycy5TY2hlbWFDb250ZXh0O1xuLy92YXIgYW5vbnltb3VzQmFzZSA9ICd2bmQuanNvbnNjaGVtYTovLy8nO1xudmFyIGFub255bW91c0Jhc2UgPSAnLyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBWYWxpZGF0b3Igb2JqZWN0XG4gKiBAbmFtZSBWYWxpZGF0b3JcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgVmFsaWRhdG9yID0gZnVuY3Rpb24gVmFsaWRhdG9yICgpIHtcbiAgLy8gQWxsb3cgYSB2YWxpZGF0b3IgaW5zdGFuY2UgdG8gb3ZlcnJpZGUgZ2xvYmFsIGN1c3RvbSBmb3JtYXRzIG9yIHRvIGhhdmUgdGhlaXJcbiAgLy8gb3duIGN1c3RvbSBmb3JtYXRzLlxuICB0aGlzLmN1c3RvbUZvcm1hdHMgPSBPYmplY3QuY3JlYXRlKFZhbGlkYXRvci5wcm90b3R5cGUuY3VzdG9tRm9ybWF0cyk7XG4gIHRoaXMuc2NoZW1hcyA9IHt9O1xuICB0aGlzLnVucmVzb2x2ZWRSZWZzID0gW107XG5cbiAgLy8gVXNlIE9iamVjdC5jcmVhdGUgdG8gbWFrZSB0aGlzIGV4dGVuc2libGUgd2l0aG91dCBWYWxpZGF0b3IgaW5zdGFuY2VzIHN0ZXBwaW5nIG9uIGVhY2ggb3RoZXIncyB0b2VzLlxuICB0aGlzLnR5cGVzID0gT2JqZWN0LmNyZWF0ZSh0eXBlcyk7XG4gIHRoaXMuYXR0cmlidXRlcyA9IE9iamVjdC5jcmVhdGUoYXR0cmlidXRlLnZhbGlkYXRvcnMpO1xufTtcblxuLy8gQWxsb3cgZm9ybWF0cyB0byBiZSByZWdpc3RlcmVkIGdsb2JhbGx5LlxuVmFsaWRhdG9yLnByb3RvdHlwZS5jdXN0b21Gb3JtYXRzID0ge307XG5cbi8vIEhpbnQgYXQgdGhlIHByZXNlbmNlIG9mIGEgcHJvcGVydHlcblZhbGlkYXRvci5wcm90b3R5cGUuc2NoZW1hcyA9IG51bGw7XG5WYWxpZGF0b3IucHJvdG90eXBlLnR5cGVzID0gbnVsbDtcblZhbGlkYXRvci5wcm90b3R5cGUuYXR0cmlidXRlcyA9IG51bGw7XG5WYWxpZGF0b3IucHJvdG90eXBlLnVucmVzb2x2ZWRSZWZzID0gbnVsbDtcblxuLyoqXG4gKiBBZGRzIGEgc2NoZW1hIHdpdGggYSBjZXJ0YWluIHVybiB0byB0aGUgVmFsaWRhdG9yIGluc3RhbmNlLlxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIHVyblxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLmFkZFNjaGVtYSA9IGZ1bmN0aW9uIGFkZFNjaGVtYSAoc2NoZW1hLCBiYXNlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKCFzY2hlbWEpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgc2NhbiA9IHNjYW5TY2hlbWEoYmFzZXx8YW5vbnltb3VzQmFzZSwgc2NoZW1hKTtcbiAgdmFyIG91clVyaSA9IGJhc2UgfHwgc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG4gIGZvcih2YXIgdXJpIGluIHNjYW4uaWQpe1xuICAgIHRoaXMuc2NoZW1hc1t1cmldID0gc2Nhbi5pZFt1cmldO1xuICB9XG4gIGZvcih2YXIgdXJpIGluIHNjYW4ucmVmKXtcbiAgICAvLyBJZiB0aGlzIHNjaGVtYSBpcyBhbHJlYWR5IGRlZmluZWQsIGl0IHdpbGwgYmUgZmlsdGVyZWQgb3V0IGJ5IHRoZSBuZXh0IHN0ZXBcbiAgICB0aGlzLnVucmVzb2x2ZWRSZWZzLnB1c2godXJpKTtcbiAgfVxuICAvLyBSZW1vdmUgbmV3bHkgZGVmaW5lZCBzY2hlbWFzIGZyb20gdW5yZXNvbHZlZFJlZnNcbiAgdGhpcy51bnJlc29sdmVkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZnMuZmlsdGVyKGZ1bmN0aW9uKHVyaSl7XG4gICAgcmV0dXJuIHR5cGVvZiBzZWxmLnNjaGVtYXNbdXJpXT09PSd1bmRlZmluZWQnO1xuICB9KTtcbiAgcmV0dXJuIHRoaXMuc2NoZW1hc1tvdXJVcmldO1xufTtcblxuVmFsaWRhdG9yLnByb3RvdHlwZS5hZGRTdWJTY2hlbWFBcnJheSA9IGZ1bmN0aW9uIGFkZFN1YlNjaGVtYUFycmF5KGJhc2V1cmksIHNjaGVtYXMpIHtcbiAgaWYoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHJldHVybjtcbiAgZm9yKHZhciBpPTA7IGk8c2NoZW1hcy5sZW5ndGg7IGkrKyl7XG4gICAgdGhpcy5hZGRTdWJTY2hlbWEoYmFzZXVyaSwgc2NoZW1hc1tpXSk7XG4gIH1cbn07XG5cblZhbGlkYXRvci5wcm90b3R5cGUuYWRkU3ViU2NoZW1hT2JqZWN0ID0gZnVuY3Rpb24gYWRkU3ViU2NoZW1hQXJyYXkoYmFzZXVyaSwgc2NoZW1hcykge1xuICBpZighc2NoZW1hcyB8fCB0eXBlb2Ygc2NoZW1hcyE9J29iamVjdCcpIHJldHVybjtcbiAgZm9yKHZhciBwIGluIHNjaGVtYXMpe1xuICAgIHRoaXMuYWRkU3ViU2NoZW1hKGJhc2V1cmksIHNjaGVtYXNbcF0pO1xuICB9XG59O1xuXG5cblxuLyoqXG4gKiBTZXRzIGFsbCB0aGUgc2NoZW1hcyBvZiB0aGUgVmFsaWRhdG9yIGluc3RhbmNlLlxuICogQHBhcmFtIHNjaGVtYXNcbiAqL1xuVmFsaWRhdG9yLnByb3RvdHlwZS5zZXRTY2hlbWFzID0gZnVuY3Rpb24gc2V0U2NoZW1hcyAoc2NoZW1hcykge1xuICB0aGlzLnNjaGVtYXMgPSBzY2hlbWFzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY2hlbWEgb2YgYSBjZXJ0YWluIHVyblxuICogQHBhcmFtIHVyblxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLmdldFNjaGVtYSA9IGZ1bmN0aW9uIGdldFNjaGVtYSAodXJuKSB7XG4gIHJldHVybiB0aGlzLnNjaGVtYXNbdXJuXTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIGluc3RhbmNlIGFnYWluc3QgdGhlIHByb3ZpZGVkIHNjaGVtYVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gW29wdGlvbnNdXG4gKiBAcGFyYW0gW2N0eF1cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZigodHlwZW9mIHNjaGVtYSAhPT0gJ2Jvb2xlYW4nICYmIHR5cGVvZiBzY2hlbWEgIT09ICdvYmplY3QnKSB8fCBzY2hlbWEgPT09IG51bGwpe1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcignRXhwZWN0ZWQgYHNjaGVtYWAgdG8gYmUgYW4gb2JqZWN0IG9yIGJvb2xlYW4nKTtcbiAgfVxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgLy8gVGhpcyBzZWN0aW9uIGluZGV4ZXMgc3Vic2NoZW1hcyBpbiB0aGUgcHJvdmlkZWQgc2NoZW1hLCBzbyB0aGV5IGRvbid0IG5lZWQgdG8gYmUgYWRkZWQgd2l0aCBWYWxpZGF0b3IjYWRkU2NoZW1hXG4gIC8vIFRoaXMgd2lsbCB3b3JrIHNvIGxvbmcgYXMgdGhlIGZ1bmN0aW9uIGF0IHVyaS5yZXNvbHZlKCkgd2lsbCByZXNvbHZlIGEgcmVsYXRpdmUgVVJJIHRvIGEgcmVsYXRpdmUgVVJJXG4gIHZhciBpZCA9IHNjaGVtYS4kaWQgfHwgc2NoZW1hLmlkO1xuICB2YXIgYmFzZSA9IHVyaWxpYi5yZXNvbHZlKG9wdGlvbnMuYmFzZXx8YW5vbnltb3VzQmFzZSwgaWR8fCcnKTtcbiAgaWYoIWN0eCl7XG4gICAgY3R4ID0gbmV3IFNjaGVtYUNvbnRleHQoc2NoZW1hLCBvcHRpb25zLCBbXSwgYmFzZSwgT2JqZWN0LmNyZWF0ZSh0aGlzLnNjaGVtYXMpKTtcbiAgICBpZiAoIWN0eC5zY2hlbWFzW2Jhc2VdKSB7XG4gICAgICBjdHguc2NoZW1hc1tiYXNlXSA9IHNjaGVtYTtcbiAgICB9XG4gICAgdmFyIGZvdW5kID0gc2NhblNjaGVtYShiYXNlLCBzY2hlbWEpO1xuICAgIGZvcih2YXIgbiBpbiBmb3VuZC5pZCl7XG4gICAgICB2YXIgc2NoID0gZm91bmQuaWRbbl07XG4gICAgICBjdHguc2NoZW1hc1tuXSA9IHNjaDtcbiAgICB9XG4gIH1cbiAgaWYob3B0aW9ucy5yZXF1aXJlZCAmJiBpbnN0YW5jZT09PXVuZGVmaW5lZCl7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgICByZXN1bHQuYWRkRXJyb3IoJ2lzIHJlcXVpcmVkLCBidXQgaXMgdW5kZWZpbmVkJyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIXJlc3VsdCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVzdWx0IHVuZGVmaW5lZCcpO1xuICB9ZWxzZSBpZihvcHRpb25zLnRocm93QWxsICYmIHJlc3VsdC5lcnJvcnMubGVuZ3RoKXtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdG9yUmVzdWx0RXJyb3IocmVzdWx0KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEByZXR1cm4gbWl4ZWQgc2NoZW1hIHVyaSBvciBmYWxzZVxuKi9cbmZ1bmN0aW9uIHNob3VsZFJlc29sdmUoc2NoZW1hKSB7XG4gIHZhciByZWYgPSAodHlwZW9mIHNjaGVtYSA9PT0gJ3N0cmluZycpID8gc2NoZW1hIDogc2NoZW1hLiRyZWY7XG4gIGlmICh0eXBlb2YgcmVmPT0nc3RyaW5nJykgcmV0dXJuIHJlZjtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBhbiBpbnN0YW5jZSBhZ2FpbnN0IHRoZSBzY2hlbWEgKHRoZSBhY3R1YWwgd29yayBob3JzZSlcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR9XG4gKi9cblZhbGlkYXRvci5wcm90b3R5cGUudmFsaWRhdGVTY2hlbWEgPSBmdW5jdGlvbiB2YWxpZGF0ZVNjaGVtYSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG5cbiAgLy8gU3VwcG9ydCBmb3IgdGhlIHRydWUvZmFsc2Ugc2NoZW1hc1xuICBpZih0eXBlb2Ygc2NoZW1hPT09J2Jvb2xlYW4nKSB7XG4gICAgaWYoc2NoZW1hPT09dHJ1ZSl7XG4gICAgICAvLyBgdHJ1ZWAgaXMgYWx3YXlzIHZhbGlkXG4gICAgICBzY2hlbWEgPSB7fTtcbiAgICB9ZWxzZSBpZihzY2hlbWE9PT1mYWxzZSl7XG4gICAgICAvLyBgZmFsc2VgIGlzIGFsd2F5cyBpbnZhbGlkXG4gICAgICBzY2hlbWEgPSB7dHlwZTogW119O1xuICAgIH1cbiAgfWVsc2UgaWYoIXNjaGVtYSl7XG4gICAgLy8gVGhpcyBtaWdodCBiZSBhIHN0cmluZ1xuICAgIHRocm93IG5ldyBFcnJvcihcInNjaGVtYSBpcyB1bmRlZmluZWRcIik7XG4gIH1cblxuICBpZiAoc2NoZW1hWydleHRlbmRzJ10pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWFbJ2V4dGVuZHMnXSkpIHtcbiAgICAgIHZhciBzY2hlbWFvYmogPSB7c2NoZW1hOiBzY2hlbWEsIGN0eDogY3R4fTtcbiAgICAgIHNjaGVtYVsnZXh0ZW5kcyddLmZvckVhY2godGhpcy5zY2hlbWFUcmF2ZXJzZXIuYmluZCh0aGlzLCBzY2hlbWFvYmopKTtcbiAgICAgIHNjaGVtYSA9IHNjaGVtYW9iai5zY2hlbWE7XG4gICAgICBzY2hlbWFvYmouc2NoZW1hID0gbnVsbDtcbiAgICAgIHNjaGVtYW9iai5jdHggPSBudWxsO1xuICAgICAgc2NoZW1hb2JqID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZW1hID0gaGVscGVycy5kZWVwTWVyZ2Uoc2NoZW1hLCB0aGlzLnN1cGVyUmVzb2x2ZShzY2hlbWFbJ2V4dGVuZHMnXSwgY3R4KSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgcGFzc2VkIGEgc3RyaW5nIGFyZ3VtZW50LCBsb2FkIHRoYXQgc2NoZW1hIFVSSVxuICB2YXIgc3dpdGNoU2NoZW1hID0gc2hvdWxkUmVzb2x2ZShzY2hlbWEpO1xuICBpZiAoc3dpdGNoU2NoZW1hKSB7XG4gICAgdmFyIHJlc29sdmVkID0gdGhpcy5yZXNvbHZlKHNjaGVtYSwgc3dpdGNoU2NoZW1hLCBjdHgpO1xuICAgIHZhciBzdWJjdHggPSBuZXcgU2NoZW1hQ29udGV4dChyZXNvbHZlZC5zdWJzY2hlbWEsIG9wdGlvbnMsIGN0eC5wYXRoLCByZXNvbHZlZC5zd2l0Y2hTY2hlbWEsIGN0eC5zY2hlbWFzKTtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZSwgcmVzb2x2ZWQuc3Vic2NoZW1hLCBvcHRpb25zLCBzdWJjdHgpO1xuICB9XG5cbiAgdmFyIHNraXBBdHRyaWJ1dGVzID0gb3B0aW9ucyAmJiBvcHRpb25zLnNraXBBdHRyaWJ1dGVzIHx8IFtdO1xuICAvLyBWYWxpZGF0ZSBlYWNoIHNjaGVtYSBhdHRyaWJ1dGUgYWdhaW5zdCB0aGUgaW5zdGFuY2VcbiAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuICAgIGlmICghYXR0cmlidXRlLmlnbm9yZVByb3BlcnRpZXNba2V5XSAmJiBza2lwQXR0cmlidXRlcy5pbmRleE9mKGtleSkgPCAwKSB7XG4gICAgICB2YXIgdmFsaWRhdG9yRXJyID0gbnVsbDtcbiAgICAgIHZhciB2YWxpZGF0b3IgPSB0aGlzLmF0dHJpYnV0ZXNba2V5XTtcbiAgICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgICAgdmFsaWRhdG9yRXJyID0gdmFsaWRhdG9yLmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5hbGxvd1Vua25vd25BdHRyaWJ1dGVzID09PSBmYWxzZSkge1xuICAgICAgICAvLyBUaGlzIHJlcHJlc2VudHMgYW4gZXJyb3Igd2l0aCB0aGUgc2NoZW1hIGl0c2VsZiwgbm90IGFuIGludmFsaWQgaW5zdGFuY2VcbiAgICAgICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwiVW5zdXBwb3J0ZWQgYXR0cmlidXRlOiBcIiArIGtleSwgc2NoZW1hKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWxpZGF0b3JFcnIpIHtcbiAgICAgICAgcmVzdWx0LmltcG9ydEVycm9ycyh2YWxpZGF0b3JFcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5yZXdyaXRlID09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgdmFsdWUgPSBvcHRpb25zLnJld3JpdGUuY2FsbCh0aGlzLCBpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICAgIHJlc3VsdC5pbnN0YW5jZSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiogQHByaXZhdGVcbiogQHBhcmFtIE9iamVjdCBzY2hlbWFcbiogQHBhcmFtIFNjaGVtYUNvbnRleHQgY3R4XG4qIEByZXR1cm5zIE9iamVjdCBzY2hlbWEgb3IgcmVzb2x2ZWQgc2NoZW1hXG4qL1xuVmFsaWRhdG9yLnByb3RvdHlwZS5zY2hlbWFUcmF2ZXJzZXIgPSBmdW5jdGlvbiBzY2hlbWFUcmF2ZXJzZXIgKHNjaGVtYW9iaiwgcykge1xuICBzY2hlbWFvYmouc2NoZW1hID0gaGVscGVycy5kZWVwTWVyZ2Uoc2NoZW1hb2JqLnNjaGVtYSwgdGhpcy5zdXBlclJlc29sdmUocywgc2NoZW1hb2JqLmN0eCkpO1xufTtcblxuLyoqXG4qIEBwcml2YXRlXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEBwYXJhbSBTY2hlbWFDb250ZXh0IGN0eFxuKiBAcmV0dXJucyBPYmplY3Qgc2NoZW1hIG9yIHJlc29sdmVkIHNjaGVtYVxuKi9cblZhbGlkYXRvci5wcm90b3R5cGUuc3VwZXJSZXNvbHZlID0gZnVuY3Rpb24gc3VwZXJSZXNvbHZlIChzY2hlbWEsIGN0eCkge1xuICB2YXIgcmVmID0gc2hvdWxkUmVzb2x2ZShzY2hlbWEpO1xuICBpZihyZWYpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlKHNjaGVtYSwgcmVmLCBjdHgpLnN1YnNjaGVtYTtcbiAgfVxuICByZXR1cm4gc2NoZW1hO1xufTtcblxuLyoqXG4qIEBwcml2YXRlXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEBwYXJhbSBPYmplY3Qgc3dpdGNoU2NoZW1hXG4qIEBwYXJhbSBTY2hlbWFDb250ZXh0IGN0eFxuKiBAcmV0dXJuIE9iamVjdCByZXNvbHZlZCBzY2hlbWFzIHtzdWJzY2hlbWE6U3RyaW5nLCBzd2l0Y2hTY2hlbWE6IFN0cmluZ31cbiogQHRocm93cyBTY2hlbWFFcnJvclxuKi9cblZhbGlkYXRvci5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIHJlc29sdmUgKHNjaGVtYSwgc3dpdGNoU2NoZW1hLCBjdHgpIHtcbiAgc3dpdGNoU2NoZW1hID0gY3R4LnJlc29sdmUoc3dpdGNoU2NoZW1hKTtcbiAgLy8gRmlyc3Qgc2VlIGlmIHRoZSBzY2hlbWEgZXhpc3RzIHVuZGVyIHRoZSBwcm92aWRlZCBVUklcbiAgaWYgKGN0eC5zY2hlbWFzW3N3aXRjaFNjaGVtYV0pIHtcbiAgICByZXR1cm4ge3N1YnNjaGVtYTogY3R4LnNjaGVtYXNbc3dpdGNoU2NoZW1hXSwgc3dpdGNoU2NoZW1hOiBzd2l0Y2hTY2hlbWF9O1xuICB9XG4gIC8vIEVsc2UgdHJ5IHdhbGtpbmcgdGhlIHByb3BlcnR5IHBvaW50ZXJcbiAgdmFyIHBhcnNlZCA9IHVyaWxpYi5wYXJzZShzd2l0Y2hTY2hlbWEpO1xuICB2YXIgZnJhZ21lbnQgPSBwYXJzZWQgJiYgcGFyc2VkLmhhc2g7XG4gIHZhciBkb2N1bWVudCA9IGZyYWdtZW50ICYmIGZyYWdtZW50Lmxlbmd0aCAmJiBzd2l0Y2hTY2hlbWEuc3Vic3RyKDAsIHN3aXRjaFNjaGVtYS5sZW5ndGggLSBmcmFnbWVudC5sZW5ndGgpO1xuICBpZiAoIWRvY3VtZW50IHx8ICFjdHguc2NoZW1hc1tkb2N1bWVudF0pIHtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJubyBzdWNoIHNjaGVtYSA8XCIgKyBzd2l0Y2hTY2hlbWEgKyBcIj5cIiwgc2NoZW1hKTtcbiAgfVxuICB2YXIgc3Vic2NoZW1hID0gaGVscGVycy5vYmplY3RHZXRQYXRoKGN0eC5zY2hlbWFzW2RvY3VtZW50XSwgZnJhZ21lbnQuc3Vic3RyKDEpKTtcbiAgaWYoc3Vic2NoZW1hPT09dW5kZWZpbmVkKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJubyBzdWNoIHNjaGVtYSBcIiArIGZyYWdtZW50ICsgXCIgbG9jYXRlZCBpbiA8XCIgKyBkb2N1bWVudCArIFwiPlwiLCBzY2hlbWEpO1xuICB9XG4gIHJldHVybiB7c3Vic2NoZW1hOiBzdWJzY2hlbWEsIHN3aXRjaFNjaGVtYTogc3dpdGNoU2NoZW1hfTtcbn07XG5cbi8qKlxuICogVGVzdHMgd2hldGhlciB0aGUgaW5zdGFuY2UgaWYgb2YgYSBjZXJ0YWluIHR5cGUuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHBhcmFtIHR5cGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblZhbGlkYXRvci5wcm90b3R5cGUudGVzdFR5cGUgPSBmdW5jdGlvbiB2YWxpZGF0ZVR5cGUgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgdHlwZSkge1xuICBpZih0eXBlPT09dW5kZWZpbmVkKXtcbiAgICByZXR1cm47XG4gIH1lbHNlIGlmKHR5cGU9PT1udWxsKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoJ1VuZXhwZWN0ZWQgbnVsbCBpbiBcInR5cGVcIiBrZXl3b3JkJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiB0aGlzLnR5cGVzW3R5cGVdID09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlc1t0eXBlXS5jYWxsKHRoaXMsIGluc3RhbmNlKTtcbiAgfVxuICBpZiAodHlwZSAmJiB0eXBlb2YgdHlwZSA9PSAnb2JqZWN0Jykge1xuICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCB0eXBlLCBvcHRpb25zLCBjdHgpO1xuICAgIHJldHVybiByZXMgPT09IHVuZGVmaW5lZCB8fCAhKHJlcyAmJiByZXMuZXJyb3JzLmxlbmd0aCk7XG4gIH1cbiAgLy8gVW5kZWZpbmVkIG9yIHByb3BlcnRpZXMgbm90IG9uIHRoZSBsaXN0IGFyZSBhY2NlcHRhYmxlLCBzYW1lIGFzIG5vdCBiZWluZyBkZWZpbmVkXG4gIHJldHVybiB0cnVlO1xufTtcblxudmFyIHR5cGVzID0gVmFsaWRhdG9yLnByb3RvdHlwZS50eXBlcyA9IHt9O1xudHlwZXMuc3RyaW5nID0gZnVuY3Rpb24gdGVzdFN0cmluZyAoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIHR5cGVvZiBpbnN0YW5jZSA9PSAnc3RyaW5nJztcbn07XG50eXBlcy5udW1iZXIgPSBmdW5jdGlvbiB0ZXN0TnVtYmVyIChpbnN0YW5jZSkge1xuICAvLyBpc0Zpbml0ZSByZXR1cm5zIGZhbHNlIGZvciBOYU4sIEluZmluaXR5LCBhbmQgLUluZmluaXR5XG4gIHJldHVybiB0eXBlb2YgaW5zdGFuY2UgPT0gJ251bWJlcicgJiYgaXNGaW5pdGUoaW5zdGFuY2UpO1xufTtcbnR5cGVzLmludGVnZXIgPSBmdW5jdGlvbiB0ZXN0SW50ZWdlciAoaW5zdGFuY2UpIHtcbiAgcmV0dXJuICh0eXBlb2YgaW5zdGFuY2UgPT0gJ251bWJlcicpICYmIGluc3RhbmNlICUgMSA9PT0gMDtcbn07XG50eXBlcy5ib29sZWFuID0gZnVuY3Rpb24gdGVzdEJvb2xlYW4gKGluc3RhbmNlKSB7XG4gIHJldHVybiB0eXBlb2YgaW5zdGFuY2UgPT0gJ2Jvb2xlYW4nO1xufTtcbnR5cGVzLmFycmF5ID0gZnVuY3Rpb24gdGVzdEFycmF5IChpbnN0YW5jZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShpbnN0YW5jZSk7XG59O1xudHlwZXNbJ251bGwnXSA9IGZ1bmN0aW9uIHRlc3ROdWxsIChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2UgPT09IG51bGw7XG59O1xudHlwZXMuZGF0ZSA9IGZ1bmN0aW9uIHRlc3REYXRlIChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBEYXRlO1xufTtcbnR5cGVzLmFueSA9IGZ1bmN0aW9uIHRlc3RBbnkgKGluc3RhbmNlKSB7XG4gIHJldHVybiB0cnVlO1xufTtcbnR5cGVzLm9iamVjdCA9IGZ1bmN0aW9uIHRlc3RPYmplY3QgKGluc3RhbmNlKSB7XG4gIC8vIFRPRE86IGZpeCB0aGlzIC0gc2VlICMxNVxuICByZXR1cm4gaW5zdGFuY2UgJiYgKHR5cGVvZiBpbnN0YW5jZSA9PT0gJ29iamVjdCcpICYmICEoQXJyYXkuaXNBcnJheShpbnN0YW5jZSkpICYmICEoaW5zdGFuY2UgaW5zdGFuY2VvZiBEYXRlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVmFsaWRhdG9yO1xuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjEgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS40LjEnLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7XG5cdFx0XHQvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG4vKiogQHR5cGUgVmFsaWRhdG9yUmVzdWx0ICovXG52YXIgVmFsaWRhdG9yUmVzdWx0ID0gaGVscGVycy5WYWxpZGF0b3JSZXN1bHQ7XG4vKiogQHR5cGUgU2NoZW1hRXJyb3IgKi9cbnZhciBTY2hlbWFFcnJvciA9IGhlbHBlcnMuU2NoZW1hRXJyb3I7XG5cbnZhciBhdHRyaWJ1dGUgPSB7fTtcblxuYXR0cmlidXRlLmlnbm9yZVByb3BlcnRpZXMgPSB7XG4gIC8vIGluZm9ybWF0aXZlIHByb3BlcnRpZXNcbiAgJ2lkJzogdHJ1ZSxcbiAgJ2RlZmF1bHQnOiB0cnVlLFxuICAnZGVzY3JpcHRpb24nOiB0cnVlLFxuICAndGl0bGUnOiB0cnVlLFxuICAvLyBhcmd1bWVudHMgdG8gb3RoZXIgcHJvcGVydGllc1xuICAnYWRkaXRpb25hbEl0ZW1zJzogdHJ1ZSxcbiAgJ3RoZW4nOiB0cnVlLFxuICAnZWxzZSc6IHRydWUsXG4gIC8vIHNwZWNpYWwtaGFuZGxlZCBwcm9wZXJ0aWVzXG4gICckc2NoZW1hJzogdHJ1ZSxcbiAgJyRyZWYnOiB0cnVlLFxuICAnZXh0ZW5kcyc6IHRydWUsXG59O1xuXG4vKipcbiAqIEBuYW1lIHZhbGlkYXRvcnNcbiAqL1xudmFyIHZhbGlkYXRvcnMgPSBhdHRyaWJ1dGUudmFsaWRhdG9ycyA9IHt9O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZSBpbnN0YW5jZSBpZiBvZiBhIGNlcnRhaW4gdHlwZVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7VmFsaWRhdG9yUmVzdWx0fG51bGx9XG4gKi9cbnZhbGlkYXRvcnMudHlwZSA9IGZ1bmN0aW9uIHZhbGlkYXRlVHlwZSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIElnbm9yZSB1bmRlZmluZWQgaW5zdGFuY2VzXG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHR5cGVzID0gQXJyYXkuaXNBcnJheShzY2hlbWEudHlwZSkgPyBzY2hlbWEudHlwZSA6IFtzY2hlbWEudHlwZV07XG4gIGlmICghdHlwZXMuc29tZSh0aGlzLnRlc3RUeXBlLmJpbmQodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSkpIHtcbiAgICB2YXIgbGlzdCA9IHR5cGVzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgaWYoIXYpIHJldHVybjtcbiAgICAgIHZhciBpZCA9IHYuJGlkIHx8IHYuaWQ7XG4gICAgICByZXR1cm4gaWQgPyAoJzwnICsgaWQgKyAnPicpIDogKHYrJycpO1xuICAgIH0pO1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAndHlwZScsXG4gICAgICBhcmd1bWVudDogbGlzdCxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgbm90IG9mIGEgdHlwZShzKSBcIiArIGxpc3QsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmZ1bmN0aW9uIHRlc3RTY2hlbWFOb1Rocm93KGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGNhbGxiYWNrLCBzY2hlbWEpe1xuICB2YXIgdGhyb3dFcnJvciA9IG9wdGlvbnMudGhyb3dFcnJvcjtcbiAgdmFyIHRocm93QWxsID0gb3B0aW9ucy50aHJvd0FsbDtcbiAgb3B0aW9ucy50aHJvd0Vycm9yID0gZmFsc2U7XG4gIG9wdGlvbnMudGhyb3dBbGwgPSBmYWxzZTtcbiAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgb3B0aW9ucy50aHJvd0Vycm9yID0gdGhyb3dFcnJvcjtcbiAgb3B0aW9ucy50aHJvd0FsbCA9IHRocm93QWxsO1xuXG4gIGlmICghcmVzLnZhbGlkICYmIGNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICBjYWxsYmFjayhyZXMpO1xuICB9XG4gIHJldHVybiByZXMudmFsaWQ7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIG1hdGNoZXMgc29tZSBvZiB0aGUgZ2l2ZW4gc2NoZW1hc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7VmFsaWRhdG9yUmVzdWx0fG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuYW55T2YgPSBmdW5jdGlvbiB2YWxpZGF0ZUFueU9mIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgaW5uZXIgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWEuYW55T2YpKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJhbnlPZiBtdXN0IGJlIGFuIGFycmF5XCIpO1xuICB9XG4gIGlmICghc2NoZW1hLmFueU9mLnNvbWUoXG4gICAgdGVzdFNjaGVtYU5vVGhyb3cuYmluZChcbiAgICAgIHRoaXMsIGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGZ1bmN0aW9uKHJlcyl7aW5uZXIuaW1wb3J0RXJyb3JzKHJlcyk7fVxuICAgICkpKSB7XG4gICAgdmFyIGxpc3QgPSBzY2hlbWEuYW55T2YubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgICAgaWYoaWQpIHJldHVybiAnPCcgKyBpZCArICc+JztcbiAgICAgIHJldHVybih2LnRpdGxlICYmIEpTT04uc3RyaW5naWZ5KHYudGl0bGUpKSB8fCAodlsnJHJlZiddICYmICgnPCcgKyB2WyckcmVmJ10gKyAnPicpKSB8fCAnW3N1YnNjaGVtYSAnK2krJ10nO1xuICAgIH0pO1xuICAgIGlmIChvcHRpb25zLm5lc3RlZEVycm9ycykge1xuICAgICAgcmVzdWx0LmltcG9ydEVycm9ycyhpbm5lcik7XG4gICAgfVxuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnYW55T2YnLFxuICAgICAgYXJndW1lbnQ6IGxpc3QsXG4gICAgICBtZXNzYWdlOiBcImlzIG5vdCBhbnkgb2YgXCIgKyBsaXN0LmpvaW4oJywnKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgbWF0Y2hlcyBldmVyeSBnaXZlbiBzY2hlbWFcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLmFsbE9mID0gZnVuY3Rpb24gdmFsaWRhdGVBbGxPZiAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIElnbm9yZSB1bmRlZmluZWQgaW5zdGFuY2VzXG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYS5hbGxPZikpe1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcihcImFsbE9mIG11c3QgYmUgYW4gYXJyYXlcIik7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzY2hlbWEuYWxsT2YuZm9yRWFjaChmdW5jdGlvbih2LCBpKXtcbiAgICB2YXIgdmFsaWQgPSBzZWxmLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCB2LCBvcHRpb25zLCBjdHgpO1xuICAgIGlmKCF2YWxpZC52YWxpZCl7XG4gICAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgICAgdmFyIG1zZyA9IGlkIHx8ICh2LnRpdGxlICYmIEpTT04uc3RyaW5naWZ5KHYudGl0bGUpKSB8fCAodlsnJHJlZiddICYmICgnPCcgKyB2WyckcmVmJ10gKyAnPicpKSB8fCAnW3N1YnNjaGVtYSAnK2krJ10nO1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ2FsbE9mJyxcbiAgICAgICAgYXJndW1lbnQ6IHsgaWQ6IG1zZywgbGVuZ3RoOiB2YWxpZC5lcnJvcnMubGVuZ3RoLCB2YWxpZDogdmFsaWQgfSxcbiAgICAgICAgbWVzc2FnZTogJ2RvZXMgbm90IG1hdGNoIGFsbE9mIHNjaGVtYSAnICsgbXNnICsgJyB3aXRoICcgKyB2YWxpZC5lcnJvcnMubGVuZ3RoICsgJyBlcnJvcltzXTonLFxuICAgICAgfSk7XG4gICAgICByZXN1bHQuaW1wb3J0RXJyb3JzKHZhbGlkKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgbWF0Y2hlcyBleGFjdGx5IG9uZSBvZiB0aGUgZ2l2ZW4gc2NoZW1hc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMub25lT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU9uZU9mIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hLm9uZU9mKSl7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwib25lT2YgbXVzdCBiZSBhbiBhcnJheVwiKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgaW5uZXIgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBjb3VudCA9IHNjaGVtYS5vbmVPZi5maWx0ZXIoXG4gICAgdGVzdFNjaGVtYU5vVGhyb3cuYmluZChcbiAgICAgIHRoaXMsIGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGZ1bmN0aW9uKHJlcykge2lubmVyLmltcG9ydEVycm9ycyhyZXMpO31cbiAgICApICkubGVuZ3RoO1xuICB2YXIgbGlzdCA9IHNjaGVtYS5vbmVPZi5tYXAoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgIHJldHVybiBpZCB8fCAodi50aXRsZSAmJiBKU09OLnN0cmluZ2lmeSh2LnRpdGxlKSkgfHwgKHZbJyRyZWYnXSAmJiAoJzwnICsgdlsnJHJlZiddICsgJz4nKSkgfHwgJ1tzdWJzY2hlbWEgJytpKyddJztcbiAgfSk7XG4gIGlmIChjb3VudCE9PTEpIHtcbiAgICBpZiAob3B0aW9ucy5uZXN0ZWRFcnJvcnMpIHtcbiAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMoaW5uZXIpO1xuICAgIH1cbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ29uZU9mJyxcbiAgICAgIGFyZ3VtZW50OiBsaXN0LFxuICAgICAgbWVzc2FnZTogXCJpcyBub3QgZXhhY3RseSBvbmUgZnJvbSBcIiArIGxpc3Quam9pbignLCcpLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBcInRoZW5cIiBvciBcImVsc2VcIiBkZXBlbmRpbmcgb24gdGhlIHJlc3VsdCBvZiB2YWxpZGF0aW5nIFwiaWZcIlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuaWYgPSBmdW5jdGlvbiB2YWxpZGF0ZUlmIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLmlmKSkgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBcImlmXCIga2V5d29yZCB0byBiZSBhIHNjaGVtYScpO1xuICB2YXIgaWZWYWxpZCA9IHRlc3RTY2hlbWFOb1Rocm93LmNhbGwodGhpcywgaW5zdGFuY2UsIG9wdGlvbnMsIGN0eCwgbnVsbCwgc2NoZW1hLmlmKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHJlcztcbiAgaWYoaWZWYWxpZCl7XG4gICAgaWYgKHNjaGVtYS50aGVuID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLnRoZW4pKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwidGhlblwiIGtleXdvcmQgdG8gYmUgYSBzY2hlbWEnKTtcbiAgICByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBzY2hlbWEudGhlbiwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEudGhlbikpO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfWVsc2V7XG4gICAgaWYgKHNjaGVtYS5lbHNlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLmVsc2UpKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwiZWxzZVwiIGtleXdvcmQgdG8gYmUgYSBzY2hlbWEnKTtcbiAgICByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBzY2hlbWEuZWxzZSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEuZWxzZSkpO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZnVuY3Rpb24gZ2V0RW51bWVyYWJsZVByb3BlcnR5KG9iamVjdCwga2V5KXtcbiAgLy8gRGV0ZXJtaW5lIGlmIGBrZXlgIHNob3dzIHVwIGluIGBmb3IodmFyIGtleSBpbiBvYmplY3QpYFxuICAvLyBGaXJzdCB0ZXN0IE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsIGFzIGFuIG9wdGltaXphdGlvbjogdGhhdCBndWFyYW50ZWVzIGl0IGRvZXNcbiAgaWYoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSByZXR1cm4gb2JqZWN0W2tleV07XG4gIC8vIFRlc3QgYGtleSBpbiBvYmplY3RgIGFzIGFuIG9wdGltaXphdGlvbjsgZmFsc2UgbWVhbnMgaXQgd29uJ3RcbiAgaWYoIShrZXkgaW4gb2JqZWN0KSkgcmV0dXJuO1xuICB3aGlsZSggKG9iamVjdCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpKSApe1xuICAgIGlmKE9iamVjdC5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwga2V5KSkgcmV0dXJuIG9iamVjdFtrZXldO1xuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHByb3BlcnR5TmFtZXNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5wcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eU5hbWVzIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYoIXRoaXMudHlwZXMub2JqZWN0KGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgc3Vic2NoZW1hID0gc2NoZW1hLnByb3BlcnR5TmFtZXMhPT11bmRlZmluZWQgPyBzY2hlbWEucHJvcGVydHlOYW1lcyA6IHt9O1xuICBpZighaGVscGVycy5pc1NjaGVtYShzdWJzY2hlbWEpKSB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoJ0V4cGVjdGVkIFwicHJvcGVydHlOYW1lc1wiIHRvIGJlIGEgc2NoZW1hIChvYmplY3Qgb3IgYm9vbGVhbiknKTtcblxuICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBpbnN0YW5jZSkge1xuICAgIGlmKGdldEVudW1lcmFibGVQcm9wZXJ0eShpbnN0YW5jZSwgcHJvcGVydHkpICE9PSB1bmRlZmluZWQpe1xuICAgICAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEocHJvcGVydHksIHN1YnNjaGVtYSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzdWJzY2hlbWEpKTtcbiAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgcHJvcGVydGllc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLnByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBwcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXMgfHwge307XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgc3Vic2NoZW1hID0gcHJvcGVydGllc1twcm9wZXJ0eV07XG4gICAgaWYoc3Vic2NoZW1hPT09dW5kZWZpbmVkKXtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1lbHNlIGlmKHN1YnNjaGVtYT09PW51bGwpe1xuICAgICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKCdVbmV4cGVjdGVkIG51bGwsIGV4cGVjdGVkIHNjaGVtYSBpbiBcInByb3BlcnRpZXNcIicpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucHJlVmFsaWRhdGVQcm9wZXJ0eSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBvcHRpb25zLnByZVZhbGlkYXRlUHJvcGVydHkoaW5zdGFuY2UsIHByb3BlcnR5LCBzdWJzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gICAgfVxuICAgIHZhciBwcm9wID0gZ2V0RW51bWVyYWJsZVByb3BlcnR5KGluc3RhbmNlLCBwcm9wZXJ0eSk7XG4gICAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEocHJvcCwgc3Vic2NoZW1hLCBvcHRpb25zLCBjdHgubWFrZUNoaWxkKHN1YnNjaGVtYSwgcHJvcGVydHkpKTtcbiAgICBpZihyZXMuaW5zdGFuY2UgIT09IHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0pIHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0gPSByZXMuaW5zdGFuY2U7XG4gICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFRlc3QgYSBzcGVjaWZpYyBwcm9wZXJ0eSB3aXRoaW4gaW4gaW5zdGFuY2UgYWdhaW5zdCB0aGUgYWRkaXRpb25hbFByb3BlcnRpZXMgc2NoZW1hIGF0dHJpYnV0ZVxuICogVGhpcyBpZ25vcmVzIHByb3BlcnRpZXMgd2l0aCBkZWZpbml0aW9ucyBpbiB0aGUgcHJvcGVydGllcyBzY2hlbWEgYXR0cmlidXRlLCBidXQgbm8gb3RoZXIgYXR0cmlidXRlcy5cbiAqIElmIHRvbyBtYW55IG1vcmUgdHlwZXMgb2YgcHJvcGVydHktZXhpc3RlbmNlIHRlc3RzIHBvcCB1cCB0aGV5IG1heSBuZWVkIHRoZWlyIG93biBjbGFzcyBvZiB0ZXN0cyAobGlrZSBgdHlwZWAgaGFzKVxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHRlc3RBZGRpdGlvbmFsUHJvcGVydHkgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgcHJvcGVydHksIHJlc3VsdCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIGlmIChzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnYWRkaXRpb25hbFByb3BlcnRpZXMnLFxuICAgICAgYXJndW1lbnQ6IHByb3BlcnR5LFxuICAgICAgbWVzc2FnZTogXCJpcyBub3QgYWxsb3dlZCB0byBoYXZlIHRoZSBhZGRpdGlvbmFsIHByb3BlcnR5IFwiICsgSlNPTi5zdHJpbmdpZnkocHJvcGVydHkpLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHZhciBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyB8fCB7fTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5ID09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9wdGlvbnMucHJlVmFsaWRhdGVQcm9wZXJ0eShpbnN0YW5jZSwgcHJvcGVydHksIGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBvcHRpb25zLCBjdHgpO1xuICAgIH1cblxuICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlW3Byb3BlcnR5XSwgYWRkaXRpb25hbFByb3BlcnRpZXMsIG9wdGlvbnMsIGN0eC5tYWtlQ2hpbGQoYWRkaXRpb25hbFByb3BlcnRpZXMsIHByb3BlcnR5KSk7XG4gICAgaWYocmVzLmluc3RhbmNlICE9PSByZXN1bHQuaW5zdGFuY2VbcHJvcGVydHldKSByZXN1bHQuaW5zdGFuY2VbcHJvcGVydHldID0gcmVzLmluc3RhbmNlO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBwYXR0ZXJuUHJvcGVydGllc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLnBhdHRlcm5Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVQYXR0ZXJuUHJvcGVydGllcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHBhdHRlcm5Qcm9wZXJ0aWVzID0gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzIHx8IHt9O1xuXG4gIGZvciAodmFyIHByb3BlcnR5IGluIGluc3RhbmNlKSB7XG4gICAgdmFyIHRlc3QgPSB0cnVlO1xuICAgIGZvciAodmFyIHBhdHRlcm4gaW4gcGF0dGVyblByb3BlcnRpZXMpIHtcbiAgICAgIHZhciBzdWJzY2hlbWEgPSBwYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXTtcbiAgICAgIGlmKHN1YnNjaGVtYT09PXVuZGVmaW5lZCl7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfWVsc2UgaWYoc3Vic2NoZW1hPT09bnVsbCl7XG4gICAgICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcignVW5leHBlY3RlZCBudWxsLCBleHBlY3RlZCBzY2hlbWEgaW4gXCJwYXR0ZXJuUHJvcGVydGllc1wiJyk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCAndScpO1xuICAgICAgfSBjYXRjaChfZSkge1xuICAgICAgICAvLyBJbiB0aGUgZXZlbnQgdGhlIHN0cmljdGVyIGhhbmRsaW5nIGNhdXNlcyBhbiBlcnJvciwgZmFsbCBiYWNrIG9uIHRoZSBmb3JnaXZpbmcgaGFuZGxpbmdcbiAgICAgICAgLy8gREVQUkVDQVRFRFxuICAgICAgICByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgICAgfVxuICAgICAgaWYgKCFyZWdleHAudGVzdChwcm9wZXJ0eSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0ZXN0ID0gZmFsc2U7XG5cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5KGluc3RhbmNlLCBwcm9wZXJ0eSwgc3Vic2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzID0gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZVtwcm9wZXJ0eV0sIHN1YnNjaGVtYSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzdWJzY2hlbWEsIHByb3BlcnR5KSk7XG4gICAgICBpZihyZXMuaW5zdGFuY2UgIT09IHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0pIHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0gPSByZXMuaW5zdGFuY2U7XG4gICAgICByZXN1bHQuaW1wb3J0RXJyb3JzKHJlcyk7XG4gICAgfVxuICAgIGlmICh0ZXN0KSB7XG4gICAgICB0ZXN0QWRkaXRpb25hbFByb3BlcnR5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBwcm9wZXJ0eSwgcmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgYWRkaXRpb25hbFByb3BlcnRpZXNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlQWRkaXRpb25hbFByb3BlcnRpZXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIC8vIGlmIHBhdHRlcm5Qcm9wZXJ0aWVzIGlzIGRlZmluZWQgdGhlbiB3ZSdsbCB0ZXN0IHdoZW4gdGhhdCBvbmUgaXMgY2FsbGVkIGluc3RlYWRcbiAgaWYgKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGZvciAodmFyIHByb3BlcnR5IGluIGluc3RhbmNlKSB7XG4gICAgdGVzdEFkZGl0aW9uYWxQcm9wZXJ0eS5jYWxsKHRoaXMsIGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgcHJvcGVydHksIHJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IGxlYXN0IG9mIGEgY2VydGFpbiBsZW5ndGgsIHdoZW4gdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5taW5Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5Qcm9wZXJ0aWVzIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnN0YW5jZSk7XG4gIGlmICghKGtleXMubGVuZ3RoID49IHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnbWluUHJvcGVydGllcycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1pblByb3BlcnRpZXMsXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IG1lZXQgbWluaW11bSBwcm9wZXJ0eSBsZW5ndGggb2YgXCIgKyBzY2hlbWEubWluUHJvcGVydGllcyxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYXQgbW9zdCBvZiBhIGNlcnRhaW4gbGVuZ3RoLCB3aGVuIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIHN0cmluZy5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMubWF4UHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4UHJvcGVydGllcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoaW5zdGFuY2UpO1xuICBpZiAoIShrZXlzLmxlbmd0aCA8PSBzY2hlbWEubWF4UHJvcGVydGllcykpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21heFByb3BlcnRpZXMnLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5tYXhQcm9wZXJ0aWVzLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtZWV0IG1heGltdW0gcHJvcGVydHkgbGVuZ3RoIG9mIFwiICsgc2NoZW1hLm1heFByb3BlcnRpZXMsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIGl0ZW1zIHdoZW4gaW5zdGFuY2UgaXMgYW4gYXJyYXlcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5pdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlSXRlbXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmICghdGhpcy50eXBlcy5hcnJheShpbnN0YW5jZSkpIHJldHVybjtcbiAgaWYgKHNjaGVtYS5pdGVtcz09PXVuZGVmaW5lZCkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpbnN0YW5jZS5ldmVyeShmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICBpZihBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykpe1xuICAgICAgdmFyIGl0ZW1zID0gIHNjaGVtYS5pdGVtc1tpXT09PXVuZGVmaW5lZCA/IHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgOiBzY2hlbWEuaXRlbXNbaV07XG4gICAgfWVsc2V7XG4gICAgICB2YXIgaXRlbXMgPSBzY2hlbWEuaXRlbXM7XG4gICAgfVxuICAgIGlmIChpdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGl0ZW1zID09PSBmYWxzZSkge1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ2l0ZW1zJyxcbiAgICAgICAgbWVzc2FnZTogXCJhZGRpdGlvbmFsSXRlbXMgbm90IHBlcm1pdHRlZFwiLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciByZXMgPSBzZWxmLnZhbGlkYXRlU2NoZW1hKHZhbHVlLCBpdGVtcywgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChpdGVtcywgaSkpO1xuICAgIGlmKHJlcy5pbnN0YW5jZSAhPT0gcmVzdWx0Lmluc3RhbmNlW2ldKSByZXN1bHQuaW5zdGFuY2VbaV0gPSByZXMuaW5zdGFuY2U7XG4gICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBcImNvbnRhaW5zXCIga2V5d29yZFxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLmNvbnRhaW5zID0gZnVuY3Rpb24gdmFsaWRhdGVDb250YWlucyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKCF0aGlzLnR5cGVzLmFycmF5KGluc3RhbmNlKSkgcmV0dXJuO1xuICBpZiAoc2NoZW1hLmNvbnRhaW5zPT09dW5kZWZpbmVkKSByZXR1cm47XG4gIGlmICghaGVscGVycy5pc1NjaGVtYShzY2hlbWEuY29udGFpbnMpKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwiY29udGFpbnNcIiBrZXl3b3JkIHRvIGJlIGEgc2NoZW1hJyk7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBjb3VudCA9IGluc3RhbmNlLnNvbWUoZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgdmFyIHJlcyA9IHNlbGYudmFsaWRhdGVTY2hlbWEodmFsdWUsIHNjaGVtYS5jb250YWlucywgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEuY29udGFpbnMsIGkpKTtcbiAgICByZXR1cm4gcmVzLmVycm9ycy5sZW5ndGg9PT0wO1xuICB9KTtcbiAgaWYoY291bnQ9PT1mYWxzZSl7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdjb250YWlucycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLmNvbnRhaW5zLFxuICAgICAgbWVzc2FnZTogXCJtdXN0IGNvbnRhaW4gYW4gaXRlbSBtYXRjaGluZyBnaXZlbiBzY2hlbWFcIixcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgbWluaW11bSBhbmQgZXhjbHVzaXZlTWluaW11bSB3aGVuIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMubWluaW11bSA9IGZ1bmN0aW9uIHZhbGlkYXRlTWluaW11bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5udW1iZXIoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmIChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSAmJiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gdHJ1ZSkge1xuICAgIGlmKCEoaW5zdGFuY2UgPiBzY2hlbWEubWluaW11bSkpe1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ21pbmltdW0nLFxuICAgICAgICBhcmd1bWVudDogc2NoZW1hLm1pbmltdW0sXG4gICAgICAgIG1lc3NhZ2U6IFwibXVzdCBiZSBncmVhdGVyIHRoYW4gXCIgKyBzY2hlbWEubWluaW11bSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZighKGluc3RhbmNlID49IHNjaGVtYS5taW5pbXVtKSl7XG4gICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnbWluaW11bScsXG4gICAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWluaW11bSxcbiAgICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBcIiArIHNjaGVtYS5taW5pbXVtLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBtYXhpbXVtIGFuZCBleGNsdXNpdmVNYXhpbXVtIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5tYXhpbXVtID0gZnVuY3Rpb24gdmFsaWRhdGVNYXhpbXVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm51bWJlcihpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtICYmIHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtID09PSB0cnVlKSB7XG4gICAgaWYoIShpbnN0YW5jZSA8IHNjaGVtYS5tYXhpbXVtKSl7XG4gICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnbWF4aW11bScsXG4gICAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWF4aW11bSxcbiAgICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIGxlc3MgdGhhbiBcIiArIHNjaGVtYS5tYXhpbXVtLFxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmKCEoaW5zdGFuY2UgPD0gc2NoZW1hLm1heGltdW0pKXtcbiAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgIG5hbWU6ICdtYXhpbXVtJyxcbiAgICAgICAgYXJndW1lbnQ6IHNjaGVtYS5tYXhpbXVtLFxuICAgICAgICBtZXNzYWdlOiBcIm11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIFwiICsgc2NoZW1hLm1heGltdW0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBudW1iZXIgZm9ybSBvZiBleGNsdXNpdmVNaW5pbXVtIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5leGNsdXNpdmVNaW5pbXVtID0gZnVuY3Rpb24gdmFsaWRhdGVFeGNsdXNpdmVNaW5pbXVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gU3VwcG9ydCB0aGUgYm9vbGVhbiBmb3JtIG9mIGV4Y2x1c2l2ZU1pbmltdW0sIHdoaWNoIGlzIGhhbmRsZWQgYnkgdGhlIFwibWluaW11bVwiIGtleXdvcmQuXG4gIGlmKHR5cGVvZiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm47XG4gIGlmICghdGhpcy50eXBlcy5udW1iZXIoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciB2YWxpZCA9IGluc3RhbmNlID4gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW07XG4gIGlmICghdmFsaWQpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ2V4Y2x1c2l2ZU1pbmltdW0nLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtLFxuICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIHN0cmljdGx5IGdyZWF0ZXIgdGhhbiBcIiArIHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgbnVtYmVyIGZvcm0gb2YgZXhjbHVzaXZlTWF4aW11bSB3aGVuIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuZXhjbHVzaXZlTWF4aW11bSA9IGZ1bmN0aW9uIHZhbGlkYXRlRXhjbHVzaXZlTWF4aW11bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIFN1cHBvcnQgdGhlIGJvb2xlYW4gZm9ybSBvZiBleGNsdXNpdmVNYXhpbXVtLCB3aGljaCBpcyBoYW5kbGVkIGJ5IHRoZSBcIm1heGltdW1cIiBrZXl3b3JkLlxuICBpZih0eXBlb2Ygc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gPT09ICdib29sZWFuJykgcmV0dXJuO1xuICBpZiAoIXRoaXMudHlwZXMubnVtYmVyKGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgdmFsaWQgPSBpbnN0YW5jZSA8IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtO1xuICBpZiAoIXZhbGlkKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdleGNsdXNpdmVNYXhpbXVtJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSxcbiAgICAgIG1lc3NhZ2U6IFwibXVzdCBiZSBzdHJpY3RseSBsZXNzIHRoYW4gXCIgKyBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBQZXJmb3JtIHZhbGlkYXRpb24gZm9yIG11bHRpcGxlT2YgYW5kIGRpdmlzaWJsZUJ5LCB3aGljaCBhcmUgZXNzZW50aWFsbHkgdGhlIHNhbWUuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSB2YWxpZGF0aW9uVHlwZVxuICogQHBhcmFtIGVycm9yTWVzc2FnZVxuICogQHJldHVybnMge1N0cmluZ3xudWxsfVxuICovXG52YXIgdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5ID0gZnVuY3Rpb24gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5IChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgsIHZhbGlkYXRpb25UeXBlLCBlcnJvck1lc3NhZ2UpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm51bWJlcihpbnN0YW5jZSkpIHJldHVybjtcblxuICB2YXIgdmFsaWRhdGlvbkFyZ3VtZW50ID0gc2NoZW1hW3ZhbGlkYXRpb25UeXBlXTtcbiAgaWYgKHZhbGlkYXRpb25Bcmd1bWVudCA9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKHZhbGlkYXRpb25UeXBlICsgXCIgY2Fubm90IGJlIHplcm9cIik7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuXG4gIHZhciBpbnN0YW5jZURlY2ltYWxzID0gaGVscGVycy5nZXREZWNpbWFsUGxhY2VzKGluc3RhbmNlKTtcbiAgdmFyIGRpdmlzb3JEZWNpbWFscyA9IGhlbHBlcnMuZ2V0RGVjaW1hbFBsYWNlcyh2YWxpZGF0aW9uQXJndW1lbnQpO1xuXG4gIHZhciBtYXhEZWNpbWFscyA9IE1hdGgubWF4KGluc3RhbmNlRGVjaW1hbHMgLCBkaXZpc29yRGVjaW1hbHMpO1xuICB2YXIgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBtYXhEZWNpbWFscyk7XG5cbiAgaWYgKE1hdGgucm91bmQoaW5zdGFuY2UgKiBtdWx0aXBsaWVyKSAlIE1hdGgucm91bmQodmFsaWRhdGlvbkFyZ3VtZW50ICogbXVsdGlwbGllcikgIT09IDApIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogdmFsaWRhdGlvblR5cGUsXG4gICAgICBhcmd1bWVudDogIHZhbGlkYXRpb25Bcmd1bWVudCxcbiAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSArIEpTT04uc3RyaW5naWZ5KHZhbGlkYXRpb25Bcmd1bWVudCksXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgZGl2aXNpYmxlQnkgd2hlbiB0aGUgdHlwZSBvZiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm11bHRpcGxlT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU11bHRpcGxlT2YgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICByZXR1cm4gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBcIm11bHRpcGxlT2ZcIiwgXCJpcyBub3QgYSBtdWx0aXBsZSBvZiAoZGl2aXNpYmxlIGJ5KSBcIik7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBtdWx0aXBsZU9mIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5kaXZpc2libGVCeSA9IGZ1bmN0aW9uIHZhbGlkYXRlRGl2aXNpYmxlQnkgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICByZXR1cm4gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBcImRpdmlzaWJsZUJ5XCIsIFwiaXMgbm90IGRpdmlzaWJsZSBieSAobXVsdGlwbGUgb2YpIFwiKTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIHByZXNlbnQuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLnJlcXVpcmVkID0gZnVuY3Rpb24gdmFsaWRhdGVSZXF1aXJlZCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkICYmIHNjaGVtYS5yZXF1aXJlZCA9PT0gdHJ1ZSkge1xuICAgIC8vIEEgYm9vbGVhbiBmb3JtIGlzIGltcGxlbWVudGVkIGZvciByZXZlcnNlLWNvbXBhdGliaWxpdHkgd2l0aCBzY2hlbWFzIHdyaXR0ZW4gYWdhaW5zdCBvbGRlciBkcmFmdHNcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ3JlcXVpcmVkJyxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgcmVxdWlyZWRcIixcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkgJiYgQXJyYXkuaXNBcnJheShzY2hlbWEucmVxdWlyZWQpKSB7XG4gICAgc2NoZW1hLnJlcXVpcmVkLmZvckVhY2goZnVuY3Rpb24obil7XG4gICAgICBpZihnZXRFbnVtZXJhYmxlUHJvcGVydHkoaW5zdGFuY2UsIG4pPT09dW5kZWZpbmVkKXtcbiAgICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgICBuYW1lOiAncmVxdWlyZWQnLFxuICAgICAgICAgIGFyZ3VtZW50OiBuLFxuICAgICAgICAgIG1lc3NhZ2U6IFwicmVxdWlyZXMgcHJvcGVydHkgXCIgKyBKU09OLnN0cmluZ2lmeShuKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIG1hdGNoZXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiwgd2hlbiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLnBhdHRlcm4gPSBmdW5jdGlvbiB2YWxpZGF0ZVBhdHRlcm4gKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoIXRoaXMudHlwZXMuc3RyaW5nKGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgcGF0dGVybiA9IHNjaGVtYS5wYXR0ZXJuO1xuICB0cnkge1xuICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4sICd1Jyk7XG4gIH0gY2F0Y2goX2UpIHtcbiAgICAvLyBJbiB0aGUgZXZlbnQgdGhlIHN0cmljdGVyIGhhbmRsaW5nIGNhdXNlcyBhbiBlcnJvciwgZmFsbCBiYWNrIG9uIHRoZSBmb3JnaXZpbmcgaGFuZGxpbmdcbiAgICAvLyBERVBSRUNBVEVEXG4gICAgcmVnZXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlLm1hdGNoKHJlZ2V4cCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ3BhdHRlcm4nLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5wYXR0ZXJuLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuIFwiICsgSlNPTi5zdHJpbmdpZnkoc2NoZW1hLnBhdHRlcm4udG9TdHJpbmcoKSksXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIG9mIGEgY2VydGFpbiBkZWZpbmVkIGZvcm1hdCBvciBhIGN1c3RvbVxuICogZm9ybWF0LlxuICogVGhlIGZvbGxvd2luZyBmb3JtYXRzIGFyZSBzdXBwb3J0ZWQgZm9yIHN0cmluZyB0eXBlczpcbiAqICAgLSBkYXRlLXRpbWVcbiAqICAgLSBkYXRlXG4gKiAgIC0gdGltZVxuICogICAtIGlwLWFkZHJlc3NcbiAqICAgLSBpcHY2XG4gKiAgIC0gdXJpXG4gKiAgIC0gY29sb3JcbiAqICAgLSBob3N0LW5hbWVcbiAqICAgLSBhbHBoYVxuICogICAtIGFscGhhLW51bWVyaWNcbiAqICAgLSB1dGMtbWlsbGlzZWNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIFtvcHRpb25zXVxuICogQHBhcmFtIFtjdHhdXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5mb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmIChpbnN0YW5jZT09PXVuZGVmaW5lZCkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIXJlc3VsdC5kaXNhYmxlRm9ybWF0ICYmICFoZWxwZXJzLmlzRm9ybWF0KGluc3RhbmNlLCBzY2hlbWEuZm9ybWF0LCB0aGlzKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnZm9ybWF0JyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEuZm9ybWF0LFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBcIiArIEpTT04uc3RyaW5naWZ5KHNjaGVtYS5mb3JtYXQpICsgXCIgZm9ybWF0XCIsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IGxlYXN0IG9mIGEgY2VydGFpbiBsZW5ndGgsIHdoZW4gdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5taW5MZW5ndGggPSBmdW5jdGlvbiB2YWxpZGF0ZU1pbkxlbmd0aCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5zdHJpbmcoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBoc3AgPSBpbnN0YW5jZS5tYXRjaCgvW1xcdURDMDAtXFx1REZGRl0vZyk7XG4gIHZhciBsZW5ndGggPSBpbnN0YW5jZS5sZW5ndGggLSAoaHNwID8gaHNwLmxlbmd0aCA6IDApO1xuICBpZiAoIShsZW5ndGggPj0gc2NoZW1hLm1pbkxlbmd0aCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21pbkxlbmd0aCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1pbkxlbmd0aCxcbiAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBtaW5pbXVtIGxlbmd0aCBvZiBcIiArIHNjaGVtYS5taW5MZW5ndGgsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IG1vc3Qgb2YgYSBjZXJ0YWluIGxlbmd0aCwgd2hlbiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1heExlbmd0aCA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4TGVuZ3RoIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLnN0cmluZyhpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgLy8gVE9ETyBpZiB0aGlzIHdhcyBhbHJlYWR5IGNvbXB1dGVkIGluIFwibWluTGVuZ3RoXCIsIHVzZSB0aGF0IHZhbHVlIGluc3RlYWQgb2YgcmUtY29tcHV0aW5nXG4gIHZhciBoc3AgPSBpbnN0YW5jZS5tYXRjaCgvW1xcdURDMDAtXFx1REZGRl0vZyk7XG4gIHZhciBsZW5ndGggPSBpbnN0YW5jZS5sZW5ndGggLSAoaHNwID8gaHNwLmxlbmd0aCA6IDApO1xuICBpZiAoIShsZW5ndGggPD0gc2NoZW1hLm1heExlbmd0aCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21heExlbmd0aCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1heExlbmd0aCxcbiAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBtYXhpbXVtIGxlbmd0aCBvZiBcIiArIHNjaGVtYS5tYXhMZW5ndGgsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgaW5zdGFuY2UgY29udGFpbnMgYXQgbGVhc3QgYSBtaW5pbXVtIG51bWJlciBvZiBpdGVtcywgd2hlbiB0aGUgaW5zdGFuY2UgaXMgYW4gQXJyYXkuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1pbkl0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5JdGVtcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5hcnJheShpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCEoaW5zdGFuY2UubGVuZ3RoID49IHNjaGVtYS5taW5JdGVtcykpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21pbkl0ZW1zJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWluSXRlbXMsXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IG1lZXQgbWluaW11bSBsZW5ndGggb2YgXCIgKyBzY2hlbWEubWluSXRlbXMsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgaW5zdGFuY2UgY29udGFpbnMgbm8gbW9yZSB0aGFuIGEgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMsIHdoZW4gdGhlIGluc3RhbmNlIGlzIGFuIEFycmF5LlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5tYXhJdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4SXRlbXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoIXRoaXMudHlwZXMuYXJyYXkoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmICghKGluc3RhbmNlLmxlbmd0aCA8PSBzY2hlbWEubWF4SXRlbXMpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdtYXhJdGVtcycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1heEl0ZW1zLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtZWV0IG1heGltdW0gbGVuZ3RoIG9mIFwiICsgc2NoZW1hLm1heEl0ZW1zLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIERlZXAgY29tcGFyZXMgYXJyYXlzIGZvciBkdXBsaWNhdGVzXG4gKiBAcGFyYW0gdlxuICogQHBhcmFtIGlcbiAqIEBwYXJhbSBhXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdGVzdEFycmF5cyAodiwgaSwgYSkge1xuICB2YXIgaiwgbGVuID0gYS5sZW5ndGg7XG4gIGZvciAoaiA9IGkgKyAxLCBsZW47IGogPCBsZW47IGorKykge1xuICAgIGlmIChoZWxwZXJzLmRlZXBDb21wYXJlU3RyaWN0KHYsIGFbal0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZXJlIGFyZSBubyBkdXBsaWNhdGVzLCB3aGVuIHRoZSBpbnN0YW5jZSBpcyBhbiBBcnJheS5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMudW5pcXVlSXRlbXMgPSBmdW5jdGlvbiB2YWxpZGF0ZVVuaXF1ZUl0ZW1zIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKHNjaGVtYS51bmlxdWVJdGVtcyE9PXRydWUpIHJldHVybjtcbiAgaWYgKCF0aGlzLnR5cGVzLmFycmF5KGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIWluc3RhbmNlLmV2ZXJ5KHRlc3RBcnJheXMpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICd1bmlxdWVJdGVtcycsXG4gICAgICBtZXNzYWdlOiBcImNvbnRhaW5zIGR1cGxpY2F0ZSBpdGVtXCIsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGUgZm9yIHRoZSBwcmVzZW5jZSBvZiBkZXBlbmRlbmN5IHByb3BlcnRpZXMsIGlmIHRoZSBpbnN0YW5jZSBpcyBhbiBvYmplY3QuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5kZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZURlcGVuZGVuY2llcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHNjaGVtYS5kZXBlbmRlbmNpZXMpIHtcbiAgICBpZiAoaW5zdGFuY2VbcHJvcGVydHldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgZGVwID0gc2NoZW1hLmRlcGVuZGVuY2llc1twcm9wZXJ0eV07XG4gICAgdmFyIGNoaWxkQ29udGV4dCA9IGN0eC5tYWtlQ2hpbGQoZGVwLCBwcm9wZXJ0eSk7XG4gICAgaWYgKHR5cGVvZiBkZXAgPT0gJ3N0cmluZycpIHtcbiAgICAgIGRlcCA9IFtkZXBdO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZXApKSB7XG4gICAgICBkZXAuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICBpZiAoaW5zdGFuY2VbcHJvcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgICAgICAvLyBGSVhNRSB0aGVyZSdzIHR3byBkaWZmZXJlbnQgXCJkZXBlbmRlbmNpZXNcIiBlcnJvcnMgaGVyZSB3aXRoIHNsaWdodGx5IGRpZmZlcmVudCBvdXRwdXRzXG4gICAgICAgICAgICAvLyBDYW4gd2UgbWFrZSB0aGVzZSB0aGUgc2FtZT8gT3Igc2hvdWxkIHdlIGNyZWF0ZSBkaWZmZXJlbnQgZXJyb3IgdHlwZXM/XG4gICAgICAgICAgICBuYW1lOiAnZGVwZW5kZW5jaWVzJyxcbiAgICAgICAgICAgIGFyZ3VtZW50OiBjaGlsZENvbnRleHQucHJvcGVydHlQYXRoLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJwcm9wZXJ0eSBcIiArIHByb3AgKyBcIiBub3QgZm91bmQsIHJlcXVpcmVkIGJ5IFwiICsgY2hpbGRDb250ZXh0LnByb3BlcnR5UGF0aCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBkZXAsIG9wdGlvbnMsIGNoaWxkQ29udGV4dCk7XG4gICAgICBpZihyZXN1bHQuaW5zdGFuY2UgIT09IHJlcy5pbnN0YW5jZSkgcmVzdWx0Lmluc3RhbmNlID0gcmVzLmluc3RhbmNlO1xuICAgICAgaWYgKHJlcyAmJiByZXMuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICAgIG5hbWU6ICdkZXBlbmRlbmNpZXMnLFxuICAgICAgICAgIGFyZ3VtZW50OiBjaGlsZENvbnRleHQucHJvcGVydHlQYXRoLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBkZXBlbmRlbmN5IHJlcXVpcmVkIGJ5IFwiICsgY2hpbGRDb250ZXh0LnByb3BlcnR5UGF0aCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIG9uZSBvZiB0aGUgZW51bWVyYXRlZCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR8bnVsbH1cbiAqL1xudmFsaWRhdG9yc1snZW51bSddID0gZnVuY3Rpb24gdmFsaWRhdGVFbnVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hWydlbnVtJ10pKSB7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwiZW51bSBleHBlY3RzIGFuIGFycmF5XCIsIHNjaGVtYSk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCFzY2hlbWFbJ2VudW0nXS5zb21lKGhlbHBlcnMuZGVlcENvbXBhcmVTdHJpY3QuYmluZChudWxsLCBpbnN0YW5jZSkpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdlbnVtJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWFbJ2VudW0nXSxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgbm90IG9uZSBvZiBlbnVtIHZhbHVlczogXCIgKyBzY2hlbWFbJ2VudW0nXS5tYXAoU3RyaW5nKS5qb2luKCcsJyksXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIGV4YWN0bHkgbWF0Y2hlcyBhIGdpdmVuIHZhbHVlXG4gKlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR8bnVsbH1cbiAqL1xudmFsaWRhdG9yc1snY29uc3QnXSA9IGZ1bmN0aW9uIHZhbGlkYXRlRW51bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCFoZWxwZXJzLmRlZXBDb21wYXJlU3RyaWN0KHNjaGVtYVsnY29uc3QnXSwgaW5zdGFuY2UpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdjb25zdCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hWydjb25zdCddLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBleGFjdGx5IG1hdGNoIGV4cGVjdGVkIGNvbnN0YW50OiBcIiArIHNjaGVtYVsnY29uc3QnXSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgaWYgb2YgYSBwcm9oaWJpdGVkIHR5cGUuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5ub3QgPSB2YWxpZGF0b3JzLmRpc2FsbG93ID0gZnVuY3Rpb24gdmFsaWRhdGVOb3QgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmKGluc3RhbmNlPT09dW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIG5vdFR5cGVzID0gc2NoZW1hLm5vdCB8fCBzY2hlbWEuZGlzYWxsb3c7XG4gIGlmKCFub3RUeXBlcykgcmV0dXJuIG51bGw7XG4gIGlmKCFBcnJheS5pc0FycmF5KG5vdFR5cGVzKSkgbm90VHlwZXM9W25vdFR5cGVzXTtcbiAgbm90VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIGlmIChzZWxmLnRlc3RUeXBlKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgdHlwZSkpIHtcbiAgICAgIHZhciBpZCA9IHR5cGUgJiYgKHR5cGUuJGlkIHx8IHR5cGUuaWQpO1xuICAgICAgdmFyIHNjaGVtYUlkID0gaWQgfHwgdHlwZTtcbiAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgIG5hbWU6ICdub3QnLFxuICAgICAgICBhcmd1bWVudDogc2NoZW1hSWQsXG4gICAgICAgIG1lc3NhZ2U6IFwiaXMgb2YgcHJvaGliaXRlZCB0eXBlIFwiICsgc2NoZW1hSWQsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBhdHRyaWJ1dGU7XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi4vTW9kYWxXaW5kb3cnO1xuXG5hc3luYyBmdW5jdGlvbiBzZXRCb2R5IChuZW9uVmlldzogTmVvblZpZXcpOiBQcm9taXNlPHZvaWQ+IHtcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL3RlbXBsYXRlLmh0bWxgKTtcbiAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9tZS1saW5rJykgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmhyZWYgPSBfX0xJTktfTE9DQVRJT05fXztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tdmVyc2lvbicpLnRleHRDb250ZW50ID0gX19ORU9OX1ZFUlNJT05fXztcbiAgKDxIVE1MSW1hZ2VFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tYWluLWljb24nKSkuc3JjID0gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL05lb25fSWNvbl8zLnN2Z2A7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZXh0ZXJuYWwtbGluay1pY29uJykpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgKDxIVE1MSW1hZ2VFbGVtZW50PiBlbCkuc3JjID0gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2V4dGVybmFsLWxpbmsuc3ZnYDtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVuYW1lJykuaW5uZXJUZXh0ID0gbmVvblZpZXcubWFuaWZlc3QudGl0bGU7XG4gIGRvY3VtZW50LnRpdGxlID0gbmVvblZpZXcubWFuaWZlc3QudGl0bGU7XG4gIFxuICAvLyBob3RrZXkgYnRuIG9uY2xpY2sgZXZlbnQgbGlzdGVuZXJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdmJhci1pdGVtLWhvdGtleXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIG5lb25WaWV3Lm1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuSE9US0VZUyk7XG4gICAgbmVvblZpZXcubW9kYWwub3Blbk1vZGFsV2luZG93KCk7XG4gIH0pO1xuXG4gIC8vIHNldCBcbiAgY29uc3QgZGVidWdNb2RlVG9vbHRpcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KCcjZGVidWctbW9kZS10b29sdGlwLWljb24nKTtcbiAgZGVidWdNb2RlVG9vbHRpcC5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kZWJ1Zy10b29sdGlwLWxpZ2h0LnN2Z2ApO1xuXG4gIC8vIHNldCBpbml0aWFsIHNhdmVkIHN0YXR1c1xuICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignI2ZpbGUtc2F2ZWQnKTtcbiAgaW5kaWNhdG9yLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3NhdmVkLWljb24uc3ZnYCk7XG4gIGluZGljYXRvci5zZXRBdHRyaWJ1dGUoJ2FsdCcsICdZb3VyIHdvcmsgaXMgc2F2ZWQnKTtcbn1cblxuZXhwb3J0IHsgc2V0Qm9keSBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBpbml0RXJyb3JMb2csIHVwZGF0ZUVycm9yTG9nVmlzaWJpbGl0eSB9IGZyb20gJy4vRXJyb3JMb2cnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MsIHNldFNldHRpbmdzIH0gZnJvbSAnLi9Mb2NhbFNldHRpbmdzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNldERlYnVnTW9kZSgpOiB2b2lkIHtcbiAgY29uc3QgZGVidWdNb2RlQ2hlY2tib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGVidWctbW9kZS1jaGVja2JveCcpO1xuXG4gIGNvbnN0IHsgZGVidWdNb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuXG4gIGRlYnVnTW9kZUNoZWNrYm94LmNoZWNrZWQgPSBkZWJ1Z01vZGU7XG5cbiAgaW5pdEVycm9yTG9nKCk7XG5cbiAgdXBkYXRlRGVidWdNb2RlU3RhdHVzKCk7XG5cbiAgZGVidWdNb2RlQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdXBkYXRlRGVidWdNb2RlU3RhdHVzKCk7XG4gIH0pO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEZWJ1Z01vZGVTdGF0dXMoKTogdm9pZCB7XG4gIGNvbnN0IGRlYnVnTW9kZUNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlYnVnLW1vZGUtY2hlY2tib3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBzZXRTZXR0aW5ncyh7IGRlYnVnTW9kZTogZGVidWdNb2RlQ2hlY2tib3guY2hlY2tlZCB9KTtcblxuICBjb25zdCBlcnJvckxvZ0xhYmVsID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWVycm9ycycpLnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG5vdGlmUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JfbG9nJyk7XG4gIGlmIChkZWJ1Z01vZGVDaGVja2JveC5jaGVja2VkKSB7XG4gICAgZXJyb3JMb2dMYWJlbC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gIH1cbiAgZWxzZSB7XG4gICAgZXJyb3JMb2dMYWJlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICB9XG5cbiAgdXBkYXRlRXJyb3JMb2dWaXNpYmlsaXR5KCk7XG59IiwiaW1wb3J0ICogYXMgRGlzcGxheUNvbnRyb2xzIGZyb20gJy4vRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuLi9TaW5nbGVWaWV3L1pvb20nO1xuaW1wb3J0IHsgRGlzcGxheUludGVyZmFjZSwgVmlld0ludGVyZmFjZSB9IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuLyoqXG4gKiBSZXR1cm4gdGhlIEhUTUwgZm9yIHRoZSBkaXNwbGF5IHBhbmVsLlxuICogQHBhcmFtIHtab29tSGFuZGxlcn0gaGFuZGxlWm9vbSAtIEluY2x1ZGVzIHpvb20gY29udHJvbHMgaWYgZGVmaW5lZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGRpc3BsYXlDb250cm9sc1BhbmVsIChoYW5kbGVab29tOiBab29tSGFuZGxlcik6IHN0cmluZyB7XG4gIGxldCBjb250ZW50cyA9IGBcbiAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiZGlzcGxheUhlYWRlclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGVcIj5ESVNQTEFZPC9kaXY+XG4gICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgPHVzZSBpZD1cInRvZ2dsZURpc3BsYXlcIiBjbGFzcz1cInBhbmVsLWRyb3Bkb3duLWljb25cIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJkaXNwbGF5Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGZpcnN0LXN1YnNlY3Rpb25cIiBpZD1cImRpc3BsYXktc2xpZGVyLXNlY3Rpb25cIj5cbiAgYDtcblxuICBpZiAoaGFuZGxlWm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29udGVudHMgKz0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFuZC1zbGlkZXItYWN0aW9ucy1jb250YWluZXIgZGlzcGxheS1wYW5lbFwiIHN0eWxlPVwiY3Vyc29yOiBkZWZhdWx0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktc2xpZGVyLXRpdGxlXCI+Wm9vbTwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNsaWRlci1idG5cIiBpZD1cInJlc2V0LXpvb21cIiB0aXRsZT1cIlJlc2V0IHpvb20gc2V0dGluZ1wiPlxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwic2xpZGVyLWJ0bi1pbWdcIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hcnJvdy1yb3RhdGUtbGVmdC1zb2xpZC5zdmdcIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNsaWRlci1idG5cIiBpZD1cInNldC16b29tLWVhc3ktZWRpdFwiIHRpdGxlPVwiRml0IHRvIHBhZ2VcIj5cbiAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInNsaWRlci1idG4taW1nXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvZXhwYW5kLWljb24uc3ZnXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIHN0ZXA9XCI1XCIgbWluPVwiMjVcIiBtYXg9XCI0MDBcIiB2YWx1ZT1cIjEwMFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc2V0LXpvb21cIlxuICAgICAgICAgICAgICBjbGFzcz1cInNsaWRlciBpcy1mdWxsd2lkdGggaXMtbGFyZ2VcIlxuICAgICAgICAgICAgICBpZD1cInpvb21TbGlkZXJcIlxuICAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmctbGVmdDogMXJlbTsgcGFkZGluZy1yaWdodDogMXJlbTtcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD1cImRpc2FibGVkXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8b3V0cHV0IGlkPVwiem9vbU91dHB1dFwiIGZvcj1cInpvb21TbGlkZXJcIj4xMDA8L291dHB1dD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YDtcbiAgfVxuICBjb250ZW50cyArPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItYW5kLXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lciBkaXNwbGF5LXBhbmVsXCIgc3R5bGU9XCJjdXJzb3I6IGRlZmF1bHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFjdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktc2xpZGVyLXRpdGxlXCI+R2x5cGggT3BhY2l0eTwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNsaWRlci1idG5cIiBpZD1cInRvZ2dsZS1nbHlwaC1vcGFjaXR5XCI+XG4gICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJzbGlkZXItYnRuLWltZ1wiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj4gICBcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIHN0ZXA9XCI1XCIgbWluPVwiMFwiIG1heD1cIjEwMFwiIHZhbHVlPVwiMTAwXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwidG9nZ2xlLWdseXBoLW9wYWNpdHlcIlxuICAgICAgICAgICAgICBjbGFzcz1cInNsaWRlciBpcy1mdWxsd2lkdGggaXMtbGFyZ2VcIlxuICAgICAgICAgICAgICBpZD1cIm9wYWNpdHlTbGlkZXJcIlxuICAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmctbGVmdDogMXJlbTsgcGFkZGluZy1yaWdodDogMXJlbTtcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxvdXRwdXQgaWQ9XCJvcGFjaXR5T3V0cHV0XCIgZm9yPVwib3BhY2l0eVNsaWRlclwiPjEwMDwvb3V0cHV0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItYW5kLXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lciBkaXNwbGF5LXBhbmVsXCIgc3R5bGU9XCJjdXJzb3I6IGRlZmF1bHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFjdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktc2xpZGVyLXRpdGxlXCI+SW1hZ2UgT3BhY2l0eTwvZGl2PiBcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzbGlkZXItYnRuXCIgaWQ9XCJ0b2dnbGUtYmctb3BhY2l0eVwiPlxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwic2xpZGVyLWJ0bi1pbWdcIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z1wiPlxuICAgICAgICAgICAgPC9idXR0b24+ICAgXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICBzdGVwPVwiNVwiIG1pbj1cIjBcIiBtYXg9XCIxMDBcIiB2YWx1ZT1cIjEwMFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInRvZ2dsZS1iZy1vcGFjaXR5XCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJzbGlkZXIgaXMtZnVsbHdpZHRoIGlzLWxhcmdlXCJcbiAgICAgICAgICAgICAgaWQ9XCJiZ09wYWNpdHlTbGlkZXJcIlxuICAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmctbGVmdDogMXJlbTsgcGFkZGluZy1yaWdodDogMXJlbTtcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxvdXRwdXQgaWQ9XCJiZ09wYWNpdHlPdXRwdXRcIiBmb3I9XCJiZ09wYWNpdHlTbGlkZXJcIj4xMDA8L291dHB1dD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvblwiPlxuXG4gICAgICAgIDxkaXYgaWQ9XCJoaWdobGlnaHQtb3B0aW9ucy10aXRsZVwiIGNsYXNzPVwicGFuZWwtc3ViLXRpdGxlXCI+SGlnaGxpZ2h0IE9wdGlvbnM6PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93blwiIGlkPVwiaGlnaGxpZ2h0LWRyb3Bkb3duXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiaGlnaGxpZ2h0LWJ1dHRvblwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImhpZ2hsaWdodC1tZW51XCIgc3R5bGU9XCJ3aWR0aDogYXV0b1wiPlxuICAgICAgICAgICAgICA8c3Bhbj5IaWdobGlnaHQ8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGlkPVwiaGlnaGxpZ2h0LXR5cGVcIj4mbmJzcDstIE9mZjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cbiAgICAgICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRGlzcGxheVwiIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJoaWdobGlnaHQtbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LXNlbGVjdGlvblwiPkJ5IFNlbGVjdGlvbiBNb2RlPC9hPlxuICAgICAgICAgICAgICA8aHIgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCIvPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LWNvbHVtblwiPkNvbHVtbjwvYT5cbiAgICAgICAgICAgICAgPGEgYXJpYS1yb2xlPVwibWVudWl0ZW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImhpZ2hsaWdodC1zdGFmZlwiPlN0YWZmPC9hPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LXN5bGxhYmxlXCI+U3lsbGFibGU8L2E+XG4gICAgICAgICAgICAgIDxhIGFyaWEtcm9sZT1cIm1lbnVpdGVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaWQ9XCJoaWdobGlnaHQtbmV1bWVcIj5OZXVtZTwvYT5cbiAgICAgICAgICAgICAgPGEgYXJpYS1yb2xlPVwibWVudWl0ZW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImhpZ2hsaWdodC1sYXllckVsZW1lbnRcIj5MYXllckVsZW1lbnQ8L2E+XG4gICAgICAgICAgICAgIDxociBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXJcIi8+XG4gICAgICAgICAgICAgIDxhIGFyaWEtcm9sZT1cIm1lbnVpdGVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaWQ9XCJoaWdobGlnaHQtbm9uZVwiPk5vbmU8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1vcHRpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LW9wdGlvbnMtdGl0bGVcIiBjbGFzcz1cInBhbmVsLXN1Yi10aXRsZVwiPkRpc3BsYXkgT3B0aW9uczo8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LW9wdGlvbnMtaXRlbXNcIj5cblxuICAgICAgICAgICAgPGRpdiBpZD1cImNoZWNrYm94LWRpc3BsYXktb3B0aW9uc1wiPlxuXG4gICAgICAgICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LWFsbC1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1vcHRpb25zLXNlcGFyYXRvclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGlzcGxheS1hbGwtYnRuXCI+RGlzcGxheSBBbGw8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LXNpbmdsZS1jb250YWluZXJcIj48L2Rpdj5cblxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgIDwvZGl2PmA7XG5cbiAgcmV0dXJuIGNvbnRlbnRzO1xufVxuXG4vKipcbiAqIEEgY2xhc3MgdGhhdCBzZXRzIHRoZSBjb250ZW50IG9mIHRoZSBkaXNwbGF5IHBhbmVsIHRvIHRoZSByaWdodCBhbmRcbiAqIG1hbmFnZXMgY29udHJvbHMgZm9yIHZpZXdpbmcuXG4gKi9cbmNsYXNzIERpc3BsYXlQYW5lbCBpbXBsZW1lbnRzIERpc3BsYXlJbnRlcmZhY2Uge1xuICB2aWV3OiBWaWV3SW50ZXJmYWNlO1xuICBtZWlDbGFzczogc3RyaW5nO1xuICBiYWNrZ3JvdW5kOiBzdHJpbmc7XG4gIHpvb21IYW5kbGVyOiBab29tSGFuZGxlcjtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIERpc3BsYXlQYW5lbC5cbiAgICogQHBhcmFtIHtTaW5nbGVWaWV3IHwgRGl2YVZpZXd9IHZpZXcgLSBUaGUgVmlldyBwYXJlbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZWkgLSBUaGUgY2xhc3MgbmFtZSBmb3IgdGhlIFNWRy1yZW5kZXJlZCBNRUkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBiYWNrZ3JvdW5kIC0gVGhlIGNsYXNzIG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBiYWNrZ3JvdW5kLlxuICAgKiBAcGFyYW0ge1pvb21IYW5kbGVyfSBbem9vbUhhbmRsZXJdIC0gVGhlIFpvb21IYW5kbGVyIG9iamVjdCwgaWYgU2luZ2xlVmlldy5cbiAgICovXG4gIGNvbnN0cnVjdG9yICh2aWV3OiBWaWV3SW50ZXJmYWNlLCBtZWk6IHN0cmluZyxcbiAgICBiYWNrZ3JvdW5kOiBzdHJpbmcsIHpvb21IYW5kbGVyOiBab29tSGFuZGxlciA9IHVuZGVmaW5lZCkge1xuICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgdGhpcy5tZWlDbGFzcyA9IG1laTtcbiAgICB0aGlzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kO1xuICAgIHRoaXMuem9vbUhhbmRsZXIgPSB6b29tSGFuZGxlcjtcblxuICAgIGNvbnN0IGRpc3BsYXlQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5X2NvbnRyb2xzJyk7XG4gICAgZGlzcGxheVBhbmVsLmlubmVySFRNTCA9IGRpc3BsYXlDb250cm9sc1BhbmVsKHRoaXMuem9vbUhhbmRsZXIpO1xuXG4gICAgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuICAgIHRoaXMudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLnVwZGF0ZVZpc3VhbGl6YXRpb24uYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgZXZlbnQgbGlzdGVuZXJzIHJlbGF0ZWQgdG8gdGhlIERpc3BsYXlQYW5lbC5cbiAgICovXG4gIHNldERpc3BsYXlMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnpvb21IYW5kbGVyKSB7XG4gICAgICAvLyBab29tIGhhbmRsZXIgc3R1ZmZcbiAgICAgIERpc3BsYXlDb250cm9scy5zZXRab29tQ29udHJvbHModGhpcy56b29tSGFuZGxlcik7XG4gICAgfVxuICAgIERpc3BsYXlDb250cm9scy5pbml0RGlzcGxheUNvbnRyb2xzKHRoaXMubWVpQ2xhc3MsIHRoaXMuYmFja2dyb3VuZCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBsb2NhbFN0b3JhZ2UgdmFsdWVzIGJlZm9yZSBTVkcgaXMgbG9hZGVkXG4gICAqIFxuICAgKiBOT1RFOiB0aGlzIGZ1bmN0aW9uIG9ubHkgY2F1c2VzIHZpc3VhbCBjaGFuZ2VzLCBub3QgZnVuY3Rpb25hbCBjaGFuZ2VzLlxuICAgKiAgICBGdW5jdGlvbmFsIGNoYW5nZXMgYXJlIGRvbmUgaW4gc2VwYXJhdGUgbW9kdWxlcyB3aGljaCBkZXBlbmQgb24gc3BlY2lmaWMgY29uZGl0aW9ucy5cbiAgICovXG4gIGxvYWRTZXR0aW5ncyAoKTogdm9pZCB7XG4gICAgY29uc3QgeyB6b29tLCBnbHlwaE9wYWNpdHksIGltYWdlT3BhY2l0eSwgaGlnaGxpZ2h0TW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICBcbiAgICAvLyBab29tXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyN6b29tT3V0cHV0JykpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyN6b29tT3V0cHV0JykudmFsdWUgPSBTdHJpbmcoem9vbSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjem9vbVNsaWRlcicpLnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICAgIH0gICAgXG5cbiAgICAvLyBJbWFnZSBvcGFjaXR5XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2JnT3BhY2l0eU91dHB1dCcpLnZhbHVlID0gU3RyaW5nKGltYWdlT3BhY2l0eSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2JnT3BhY2l0eVNsaWRlcicpLnZhbHVlID0gU3RyaW5nKGltYWdlT3BhY2l0eSk7XG5cbiAgICAvLyBHbHlwaCBvcGFjaXR5XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI29wYWNpdHlPdXRwdXQnKS52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNvcGFjaXR5U2xpZGVyJykudmFsdWUgPSBTdHJpbmcoZ2x5cGhPcGFjaXR5KTtcblxuICAgIC8vIEhpZ2hsaWdodCBtb2RlOlxuICAgIC8vIFRleHQgPSBjYXBpdGFsaXplZCB2ZXJzaW9uIG9mIGhpZ2hsaWdodC0ke2lkfVxuICAgIGNvbnN0IHRleHQgPSBoaWdobGlnaHRNb2RlID09PSAnbm9uZScgPyAnT2ZmJyA6IGhpZ2hsaWdodE1vZGVbMF0udG9VcHBlckNhc2UoKSArIGhpZ2hsaWdodE1vZGUuc2xpY2UoMSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hpZ2hsaWdodC10eXBlJykudGV4dENvbnRlbnQgPSBgXFx4QTAtICR7dGV4dH1gO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBTVkcgYmFzZWQgb24gdmlzdWFsaXphdGlvbiBzZXR0aW5nc1xuICAgKi9cbiAgdXBkYXRlVmlzdWFsaXphdGlvbiAoKTogdm9pZCB7XG4gICAgRGlzcGxheUNvbnRyb2xzLnNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIodGhpcy5tZWlDbGFzcyk7XG4gICAgRGlzcGxheUNvbnRyb2xzLnNldEJnT3BhY2l0eUZyb21TbGlkZXIodGhpcy5iYWNrZ3JvdW5kKTtcbiAgICBEaXNwbGF5Q29udHJvbHMudXBkYXRlSGlnaGxpZ2h0KCk7XG4gIH1cbn1cblxuZXhwb3J0IHsgRGlzcGxheVBhbmVsIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCBEaXNwbGF5UGFuZWwgZnJvbSAnLi9EaXNwbGF5UGFuZWwvRGlzcGxheVBhbmVsJztcbmltcG9ydCB7IERpc3BsYXlDb25zdHJ1Y3RhYmxlLCBWaWV3SW50ZXJmYWNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuL1NpbmdsZVZpZXcvWm9vbSc7XG5cbmltcG9ydCBEaXZhIGZyb20gJ2RpdmEuanMnO1xuXG4vKipcbiAqIFZpZXcgbW9kdWxlIHRoYXQgdXNlcyB0aGUgZGl2YS5qcyB2aWV3ZXIgdG8gcmVuZGVyIHRoZSBwYWdlcyBvZiBhIElJSUYgbWFuaWZlc3RzXG4gKiBhbmQgdGhlbiBkaXNwbGF5IHRoZSByZW5kZXJlZCBNRUkgZmlsZXMgb3ZlciB0aGUgcHJvcGVyIHBhZ2VzLlxuICovXG5jbGFzcyBEaXZhVmlldyBpbXBsZW1lbnRzIFZpZXdJbnRlcmZhY2Uge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIC8qKiBDYWxsYmFja3MgdGhhdCBydW4gd2hlbmV2ZXIgdGhlIGRpc3BsYXkgdXBkYXRlcy4gKi9cbiAgcHJpdmF0ZSB1cGRhdGVDYWxsYmFja3M6IEFycmF5PCgpID0+IHZvaWQ+O1xuICBkaXZhUmVhZHk6IGJvb2xlYW47XG4gIC8qKiBUaGUgZGl2YS5qcyBpbnN0YW5jZS4gKi9cbiAgcHJpdmF0ZSBkaXZhOiBEaXZhO1xuICAvKiogTWFwIHplcm8taW5kZXggcGFnZSBudW1iZXJzIHRvIHRoZSBhY3R1YWwgVVJJL0lSSSBpZGVudGlmaWVyLiAqL1xuICBwcml2YXRlIGluZGV4TWFwOiBNYXA8bnVtYmVyLCBzdHJpbmc+O1xuICBwcml2YXRlIGRpc3BsYXlQYW5lbDogRGlzcGxheVBhbmVsO1xuICAvKiogVGltZSB0byB3YWl0IGFmdGVyIGEgcGFnZSBiZWNvbWVzIGFjdGl2ZSBiZWZvcmUgbG9hZGluZyBpdC4gSW4gbWlsbGlzZWNvbmRzLiAqL1xuICBwcml2YXRlIGxvYWREZWxheTogbnVtYmVyO1xuICB6b29tSGFuZGxlcjogWm9vbUhhbmRsZXI7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBtYW5pZmVzdCAtIFVSSS9JUkkgdG8gdGhlIElJSUYgbWFuaWZlc3QuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBEaXNwbGF5OiBEaXNwbGF5Q29uc3RydWN0YWJsZSwgbWFuaWZlc3Q6IHN0cmluZykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcyA9IFtdO1xuICAgIHRoaXMuZGl2YVJlYWR5ID0gZmFsc2U7XG4gICAgdGhpcy5kaXZhID0gbmV3IERpdmEoJ2NvbnRhaW5lcicsIHtcbiAgICAgIG9iamVjdERhdGE6IG1hbmlmZXN0XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpLnN0eWxlLm1pbkhlaWdodCA9ICcxMDAlJztcbiAgICB0aGlzLmluZGV4TWFwID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuZGl2YS5kaXNhYmxlRHJhZ1Njcm9sbGFibGUoKTtcbiAgICB0aGlzLmRpc3BsYXlQYW5lbCA9IG5ldyBEaXNwbGF5KHRoaXMsICduZW9uLWNvbnRhaW5lcicsICdkaXZhLXZpZXdlci1jYW52YXMnKTtcbiAgICB0aGlzLmxvYWREZWxheSA9IDUwMDsgLy8gaW4gbWlsbGlzZWNvbmRzXG4gICAgdGhpcy5pbml0RGl2YUV2ZW50cygpO1xuICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGl2YS1pbm5lcicpIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5jdXJzb3IgPSAnYXV0byc7XG5cbiAgICB3aW5kb3cub25yZXNpemUgPSAoKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBjb25zdCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXG4gICAgICB3aW5kb3cuc2V0VGltZW91dCgoKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICgoaGVpZ2h0ID09PSB3aW5kb3cuaW5uZXJIZWlnaHQpICYmICh3aWR0aCA9PT0gd2luZG93LmlubmVyV2lkdGgpKSB7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VQYWdlKHRoaXMuZ2V0Q3VycmVudFBhZ2UoKSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzLmxvYWREZWxheSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxpc3RlbmVycyBmb3IgY2VydGFpbiBldmVudHMgaW50ZXJuYWwgdG8gZGl2YS5qc1xuICAgKi9cbiAgaW5pdERpdmFFdmVudHMgKCk6IHZvaWQge1xuICAgIERpdmEuRXZlbnRzLnN1YnNjcmliZSgnTWFuaWZlc3REaWRMb2FkJywgdGhpcy5wYXJzZU1hbmlmZXN0LmJpbmQodGhpcyksIHRoaXMuZGl2YS5zZXR0aW5ncy5JRCk7XG4gICAgRGl2YS5FdmVudHMuc3Vic2NyaWJlKCdPYmplY3REaWRMb2FkJywgdGhpcy5kaWRMb2FkLmJpbmQodGhpcyksIHRoaXMuZGl2YS5zZXR0aW5ncy5JRCk7XG4gICAgRGl2YS5FdmVudHMuc3Vic2NyaWJlKCdBY3RpdmVQYWdlRGlkQ2hhbmdlJywgdGhpcy5jaGFuZ2VQYWdlLmJpbmQodGhpcyksIHRoaXMuZGl2YS5zZXR0aW5ncy5JRCk7XG4gICAgRGl2YS5FdmVudHMuc3Vic2NyaWJlKCdab29tTGV2ZWxEaWRDaGFuZ2UnLCB0aGlzLmFkanVzdFpvb20uYmluZCh0aGlzKSwgdGhpcy5kaXZhLnNldHRpbmdzLklEKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdmlzaWJsZSBwYWdlIGNoYW5nZXMgaW4gdGhlIGRpdmEuanMgdmlld2VyLlxuICAgKiBAcGFyYW0gcGFnZUluZGV4IC0gVGhlIHplcm8taW5kZXhlZCBwYWdlIHRoYXQgaXMgbW9zdCB2aXNpYmxlLlxuICAgKiBAcGFyYW0gZGVsYXkgLSBXaGV0aGVyIHRvIGRlbGF5IHRoZSBsb2FkaW5nIG9mIHRoZSBwYWdlIHNvIHRoYXQgbmVvbiBkb2Vzbid0IGxhZyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqL1xuICBhc3luYyBjaGFuZ2VQYWdlIChwYWdlSW5kZXg6IG51bWJlciwgZGVsYXkgPSB0cnVlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZnVuY3Rpb24gY2hlY2tBbmRMb2FkIChwYWdlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIGlmIChwYWdlID09PSB0aGlzLmdldEN1cnJlbnRQYWdlKCkpIHtcbiAgICAgICAgY29uc3QgcGFnZVVSSSA9IHRoaXMuaW5kZXhNYXAuZ2V0KHBhZ2UpO1xuICAgICAgICB0aGlzLm5lb25WaWV3LmdldFBhZ2VTVkcocGFnZVVSSSkudGhlbigoc3ZnOiBTVkdTVkdFbGVtZW50KSA9PiB7XG4gICAgICAgICAgdGhpcy51cGRhdGVTVkcoc3ZnLCBwYWdlKTtcbiAgICAgICAgICBjb25zdCBjb250YWluZXJJZCA9ICduZW9uLWNvbnRhaW5lci0nICsgcGFnZTtcbiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7XG4gICAgICAgICAgaWYgKGNvbnRhaW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1wYWdlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gY2FsbGJhY2soKSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnI6IHsgbmFtZTogc3RyaW5nIH0pID0+IHtcbiAgICAgICAgICBpZiAoZXJyLm5hbWUgIT09ICdub3RfZm91bmQnICYmIGVyci5uYW1lICE9PSAnbWlzc2luZ19tZWknKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwYWdlSW5kZXhlcyA9IFtwYWdlSW5kZXhdO1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlLXBhZ2UnKSkuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLXBhZ2UnKTtcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZUluZGV4ZXMpIHtcbiAgICAgIGlmIChkZWxheSkge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjaGVja0FuZExvYWQuYmluZCh0aGlzKSwgKHRoaXMubG9hZERlbGF5KSwgcGFnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0FuZExvYWQuYmluZCh0aGlzKShwYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgQWN0aXZlIHplcm8taW5kZXhlZCBwYWdlIGluIHRoZSBkaXZhLmpzIHZpZXdlci5cbiAgICovXG4gIGdldEN1cnJlbnRQYWdlICgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmRpdmEuZ2V0QWN0aXZlUGFnZUluZGV4KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIGFjdGl2ZSBwYWdlIFVSSSBpbiB0aGUgZGl2YS5qcyB2aWV3ZXIuXG4gICAqL1xuICBnZXRDdXJyZW50UGFnZVVSSSAoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5pbmRleE1hcC5nZXQodGhpcy5nZXRDdXJyZW50UGFnZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGp1c3QgdGhlIHJlbmRlcmVkIFNWRyhzKSB0byBiZSB0aGUgY29ycmVjdCBzaXplIGFmdGVyIHpvb21pbmcuXG4gICAqL1xuICBhZGp1c3Rab29tICgpOiB2b2lkIHtcbiAgICAobmV3IFByb21pc2UoKHJlc29sdmUpOiB2b2lkID0+IHtcbiAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1jb250YWluZXInKSlcbiAgICAgICAgLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7IGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfSk7XG4gICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIHRoaXMuZGl2YS5zZXR0aW5ncy56b29tRHVyYXRpb24gKyAxMDApO1xuICAgIH0pKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuY2hhbmdlUGFnZSh0aGlzLmRpdmEuZ2V0QWN0aXZlUGFnZUluZGV4KCksIHRydWUpO1xuICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLWNvbnRhaW5lcicpKVxuICAgICAgICAuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICBjb25zdCBzdmcgPSBlbGVtLmZpcnN0Q2hpbGQgYXMgU1ZHU1ZHRWxlbWVudDtcbiAgICAgICAgICBjb25zdCBwYWdlTm8gPSBwYXJzZUludChlbGVtLmlkLm1hdGNoKC9cXGQrLylbMF0pO1xuICAgICAgICAgIHRoaXMudXBkYXRlU1ZHKHN2ZywgcGFnZU5vKTtcbiAgICAgICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBvblNWR0xvYWQgKCk6IHZvaWQge1xuICAgIHRoaXMuc2V0Vmlld0V2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIFNWRyBiZWluZyBkaXNwbGF5ZWQgZm9yIHRoZSBzcGVjaWZpZWQgcGFnZS5cbiAgICogQHBhcmFtIHN2ZyAtIFRoZSBTVkcgb2YgdGhlIHBhZ2UgdG8gdXBkYXRlIHRvLlxuICAgKiBAcGFyYW0gcGFnZU5vIC0gVGhlIHplcm8taW5kZXhlZCBwYWdlIG51bWJlci5cbiAgICovXG4gIHVwZGF0ZVNWRyAoc3ZnOiBTVkdTVkdFbGVtZW50LCBwYWdlTm86IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpdmEtMS1pbm5lcicpO1xuICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLmRpdmEuZ2V0UGFnZURpbWVuc2lvbnNBdEN1cnJlbnRab29tTGV2ZWwocGFnZU5vKTtcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmRpdmEuc2V0dGluZ3Mudmlld0hhbmRsZXIuX3ZpZXdlckNvcmUuZ2V0UGFnZVJlZ2lvbihwYWdlTm8sIHtcbiAgICAgIGluY2x1ZGVQYWRkaW5nOiB0cnVlLFxuICAgICAgaW5jb3Jwb3JhdGVWaWV3cG9ydDogdHJ1ZVxuICAgIH0pO1xuICAgIGNvbnN0IG1hcmdpbkxlZnQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpbm5lciwgbnVsbClcbiAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tbGVmdCcpO1xuXG4gICAgY29uc3QgY29udGFpbmVySWQgPSAnbmVvbi1jb250YWluZXItJyArIHBhZ2VOby50b1N0cmluZygpO1xuICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7XG4gICAgaWYgKGNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250YWluZXIuaWQgPSBjb250YWluZXJJZDtcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCduZW9uLWNvbnRhaW5lcicpO1xuICAgICAgaW5uZXIuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICB3aGlsZSAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBkaW1lbnNpb25zLndpZHRoLnRvU3RyaW5nKCkpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGRpbWVuc2lvbnMuaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke29mZnNldC50b3B9cHhgO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gYCR7b2Zmc2V0LmxlZnQgLSBwYXJzZUludChtYXJnaW5MZWZ0KX1weGA7XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkaXZhLmpzIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAqL1xuICBkaWRMb2FkICgpOiB2b2lkIHtcbiAgICB0aGlzLmRpdmFSZWFkeSA9IHRydWU7XG4gICAgdGhpcy5kaXNwbGF5UGFuZWwuc2V0RGlzcGxheUxpc3RlbmVycygpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgcnVuIHdoZW5ldmVyIGFuIFNWRyBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICBhZGRVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBjYWxsYmFjayBmdW5jdGlvbiBwcmV2aW91c2x5IGFkZGVkIHRvIHRoZSBsaXN0IG9mIGZ1bmN0aW9ucyB0byBjYWxsLlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICByZW1vdmVVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZpbmRJbmRleCgoZWxlbSkgPT4ge1xuICAgICAgcmV0dXJuIGVsZW0gPT09IGNiO1xuICAgIH0pO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBsaXN0ZW5lcnMgb24gdGhlIGJvZHkgZWxlbWVudCBmb3IgZ2xvYmFsIGV2ZW50cy5cbiAgICovXG4gIHNldFZpZXdFdmVudEhhbmRsZXJzICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgZm9yIChjb25zdCBjb250YWluZXIgb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1jb250YWluZXInKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50Pikge1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICBmb3IgKGNvbnN0IGNvbnRhaW5lciBvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLWNvbnRhaW5lcicpIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+KSB7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlIHRoZSBJSUlGIG1hbmlmZXN0IHRvIGNyZWF0ZSBhIG1hcCBiZXR3ZWVuIElJSUYgY2FudmFzZXMgYW5kIHBhZ2UgaW5kZXhlcy5cbiAgICogQHBhcmFtIG1hbmlmZXN0IC0gVGhlIElJSUYgbWFuaWZlc3Qgb2JqZWN0LlxuICAgKi9cbiAgcGFyc2VNYW5pZmVzdCAobWFuaWZlc3Q6IHsgc2VxdWVuY2VzOiB7IGNhbnZhc2VzOiBvYmplY3RbXSB9W10gfSk6IHZvaWQge1xuICAgIHRoaXMuaW5kZXhNYXAuY2xlYXIoKTtcbiAgICBmb3IgKGNvbnN0IHNlcXVlbmNlIG9mIG1hbmlmZXN0LnNlcXVlbmNlcykge1xuICAgICAgZm9yIChjb25zdCBjYW52YXMgb2Ygc2VxdWVuY2UuY2FudmFzZXMpIHtcbiAgICAgICAgdGhpcy5pbmRleE1hcC5zZXQoc2VxdWVuY2UuY2FudmFzZXMuaW5kZXhPZihjYW52YXMpLCBjYW52YXNbJ0BpZCddKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIG5hbWUgb2YgdGhlIGFjdGl2ZSBwYWdlL2NhbnZhcyBjb21iaW5lZCB3aXRoIHRoZSBtYW51c2NyaXB0IG5hbWUuXG4gICAqL1xuICBnZXRQYWdlTmFtZSAoKTogc3RyaW5nIHtcbiAgICBjb25zdCBtYW51c2NyaXB0TmFtZSA9IHRoaXMuZGl2YS5zZXR0aW5ncy5tYW5pZmVzdC5pdGVtVGl0bGU7XG4gICAgY29uc3QgcGFnZU5hbWUgPSB0aGlzLmRpdmEuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbdGhpcy5nZXRDdXJyZW50UGFnZSgpXS5sO1xuICAgIHJldHVybiBtYW51c2NyaXB0TmFtZSArICcgXFx1MjAxNCAnICsgcGFnZU5hbWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgRGl2YVZpZXcgYXMgZGVmYXVsdCB9O1xuIiwiLypcbiBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiBDb3B5cmlnaHQgKGMpIDwyMDExPiA8RGF2ZSBUYXlsb3IgaHR0cDovL3RoZS10YXlsb3JzLm9yZz5cblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkXG4gdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTU1xuIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUlxuIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUlxuIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuIFBvcnQgdG8gdmFuaWxsYSBKYXZhc2NyaXB0IGJ5IEphY2VrIE5vd2Fja2kgaHR0cDovL2phY2VrLW5vd2Fja2kubmV0L1xuKiovXG5cbihmdW5jdGlvbigpIHtcbiAgICB2YXIgX3JhZiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cbiAgICB2YXIgX2lzVG91Y2ggPSAnb250b3VjaGVuZCcgaW4gZG9jdW1lbnQ7XG5cbiAgICAvLyB0aGlzIGlzIHNpbXBsZSwgbm8gXCJkZWVwXCIgc3VwcG9ydFxuICAgIHZhciBfZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAodmFyIGk9MTsgaTxhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbaV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2ldLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICB9O1xuXG4gICAgdmFyIFZhbmlsbGFLaW5ldGljID0gZnVuY3Rpb24oZWxlbWVudCwgc2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IF9leHRlbmQoe30sIFZhbmlsbGFLaW5ldGljLkRFRkFVTFRTLCBzZXR0aW5ncyk7XG4gICAgICAgIHRoaXMuZWwgICAgICAgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLkFDVElWRV9DTEFTUyA9IFwia2luZXRpYy1hY3RpdmVcIjtcblxuICAgICAgICB0aGlzLl9pbml0RWxlbWVudHMoKTtcblxuICAgICAgICB0aGlzLmVsLl9WYW5pbGxhS2luZXRpYyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5ERUZBVUxUUyA9IHtcbiAgICAgICAgY3Vyc29yOiAnbW92ZScsXG4gICAgICAgIGRlY2VsZXJhdGU6IHRydWUsXG4gICAgICAgIHRyaWdnZXJIYXJkd2FyZTogZmFsc2UsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgeTogdHJ1ZSxcbiAgICAgICAgeDogdHJ1ZSxcbiAgICAgICAgc2xvd2Rvd246IDAuOSxcbiAgICAgICAgbWF4dmVsb2NpdHk6IDQwLFxuICAgICAgICB0aHJvdHRsZUZQUzogNjAsXG4gICAgICAgIGludmVydDogZmFsc2UsXG4gICAgICAgIG1vdmluZ0NsYXNzOiB7XG4gICAgICAgICAgICB1cDogJ2tpbmV0aWMtbW92aW5nLXVwJyxcbiAgICAgICAgICAgIGRvd246ICdraW5ldGljLW1vdmluZy1kb3duJyxcbiAgICAgICAgICAgIGxlZnQ6ICdraW5ldGljLW1vdmluZy1sZWZ0JyxcbiAgICAgICAgICAgIHJpZ2h0OiAna2luZXRpYy1tb3ZpbmctcmlnaHQnXG4gICAgICAgIH0sXG4gICAgICAgIGRlY2VsZXJhdGluZ0NsYXNzOiB7XG4gICAgICAgICAgICB1cDogJ2tpbmV0aWMtZGVjZWxlcmF0aW5nLXVwJyxcbiAgICAgICAgICAgIGRvd246ICdraW5ldGljLWRlY2VsZXJhdGluZy1kb3duJyxcbiAgICAgICAgICAgIGxlZnQ6ICdraW5ldGljLWRlY2VsZXJhdGluZy1sZWZ0JyxcbiAgICAgICAgICAgIHJpZ2h0OiAna2luZXRpYy1kZWNlbGVyYXRpbmctcmlnaHQnXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gUHVibGljIGZ1bmN0aW9uc1xuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IF9leHRlbmQodGhpcy5zZXR0aW5ncywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSBvcHRpb25zLnZlbG9jaXR5IHx8IHRoaXMudmVsb2NpdHk7XG4gICAgICAgIHRoaXMudmVsb2NpdHlZID0gb3B0aW9ucy52ZWxvY2l0eVkgfHwgdGhpcy52ZWxvY2l0eVk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZGVjZWxlcmF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tb3ZlKCk7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHlZID0gMDtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLnN0b3BwZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc3RvcHBlZC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZGV0YWNoTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkFDVElWRV9DTEFTUyk7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUuY3Vyc29yID0gJyc7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQUNUSVZFX0NMQVNTKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F0dGFjaExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQodGhpcy5BQ1RJVkVfQ0xBU1MpO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmN1cnNvciA9IHRoaXMuc2V0dGluZ3MuY3Vyc29yO1xuICAgIH07XG5cbiAgICAvLyBJbnRlcm5hbCBmdW5jdGlvbnNcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5faW5pdEVsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCh0aGlzLkFDVElWRV9DTEFTUyk7XG5cbiAgICAgICAgX2V4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICB4cG9zOiBudWxsLFxuICAgICAgICAgICAgcHJldlhQb3M6IGZhbHNlLFxuICAgICAgICAgICAgeXBvczogbnVsbCxcbiAgICAgICAgICAgIHByZXZZUG9zOiBmYWxzZSxcbiAgICAgICAgICAgIG1vdXNlRG93bjogZmFsc2UsXG4gICAgICAgICAgICB0aHJvdHRsZVRpbWVvdXQ6IDEwMDAgLyB0aGlzLnNldHRpbmdzLnRocm90dGxlRlBTLFxuICAgICAgICAgICAgbGFzdE1vdmU6IG51bGwsXG4gICAgICAgICAgICBlbGVtZW50Rm9jdXNlZDogbnVsbFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgdGhpcy52ZWxvY2l0eVkgPSAwO1xuXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgdGhpcy5kb2N1bWVudFJlc2V0SGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhhdC5fcmVzZXRNb3VzZS5hcHBseSh0aGF0KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBGSVhNRSBtYWtlIHN1cmUgdG8gcmVtb3ZlIHRoaXNcbiAgICAgICAgdmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5kb2N1bWVudFJlc2V0SGFuZGxlciwgZmFsc2UpO1xuICAgICAgICBodG1sLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRvY3VtZW50UmVzZXRIYW5kbGVyLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5faW5pdEV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuZWwuc3R5bGUuY3Vyc29yID0gdGhpcy5zZXR0aW5ncy5jdXJzb3I7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudHJpZ2dlckhhcmR3YXJlKSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4ZXMgPSBbJycsICctbXMtJywgJy13ZWJraXQtJywgJy1tb3otJ107XG4gICAgICAgICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoMCwwLDApJyxcbiAgICAgICAgICAgICAgICAncGVyc3BlY3RpdmUnOiAnMTAwMCcsIC8vIFRPRE8gaXMgdGhpcyBldmVuIHZhbGlkPyBpcyB0aGlzIGV2ZW4gbmVlZGVkP1xuICAgICAgICAgICAgICAgICdiYWNrZmFjZS12aXNpYmlsaXR5JzogJ2hpZGRlbidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8cHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJlZml4ID0gcHJlZml4ZXNbaV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHN0eWxlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3R5bGVzLmhhc093blByb3BlcnR5KGtleSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbC5zdHlsZVtwcmVmaXgra2V5XSA9IHN0eWxlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5faW5pdEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZXZlbnRzID0ge1xuICAgICAgICAgICAgdG91Y2hTdGFydDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaDtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSkge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaCA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnRocmVzaG9sZCA9IHNlbGYuX3RocmVzaG9sZChlLnRhcmdldCwgZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3N0YXJ0KHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b3VjaE1vdmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2g7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubW91c2VEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2lucHV0bW92ZSh0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dERvd246IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnRocmVzaG9sZCA9IHNlbGYuX3RocmVzaG9sZChlLnRhcmdldCwgZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3N0YXJ0KGUuY2xpZW50WCwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbGVtZW50Rm9jdXNlZCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQubm9kZU5hbWUgPT09IFwiSU1HXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dEVuZDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl91c2VUYXJnZXQoZS50YXJnZXQsIGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2VuZCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnRGb2N1c2VkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dE1vdmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5tb3VzZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5faW5wdXRtb3ZlKGUuY2xpZW50WCwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuc2V0dGluZ3MubW92ZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXR0aW5ncy5tb3ZlZC5jYWxsKHNlbGYsIHNlbGYuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0Q2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoc2VsZi52ZWxvY2l0eSkgPiAwIHx8IE1hdGguYWJzKHNlbGYudmVsb2NpdHlZKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkcmFnU3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSAmJiBzZWxmLmVsZW1lbnRGb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0U3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuc2V0dGluZ3Muc2VsZWN0U3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuc2V0dGluZ3Muc2VsZWN0U3RhcnQuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2F0dGFjaExpc3RlbmVycygpO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2lucHV0bW92ZSA9IGZ1bmN0aW9uKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxhc3RNb3ZlIHx8IG5ldyBEYXRlKCkgPiBuZXcgRGF0ZSh0aGlzLmxhc3RNb3ZlLmdldFRpbWUoKSArIHRoaXMudGhyb3R0bGVUaW1lb3V0KSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0TW92ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlRG93biAmJiAodGhpcy54cG9zIHx8IHRoaXMueXBvcykpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW92ZWRYID0gKGNsaWVudFggLSB0aGlzLnhwb3MpO1xuICAgICAgICAgICAgICAgIHZhciBtb3ZlZFkgPSAoY2xpZW50WSAtIHRoaXMueXBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW52ZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVkWCAqPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgbW92ZWRZICo9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJlc2hvbGQ+MCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW92ZWQgPSBNYXRoLnNxcnQobW92ZWRYKm1vdmVkWCArIG1vdmVkWSptb3ZlZFkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJlc2hvbGQ+bW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGhyZXNob2xkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50Rm9jdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRGb2N1c2VkLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Rm9jdXNlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWwuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlY2VsZXJhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eVkgPSAwO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbExlZnQgPSB0aGlzLnNjcm9sbExlZnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxUb3AoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGVmdCh0aGlzLnNldHRpbmdzLnggPyBzY3JvbGxMZWZ0IC0gbW92ZWRYIDogc2Nyb2xsTGVmdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AodGhpcy5zZXR0aW5ncy55ID8gc2Nyb2xsVG9wIC0gbW92ZWRZIDogc2Nyb2xsVG9wKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucHJldlhQb3MgPSB0aGlzLnhwb3M7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2WVBvcyA9IHRoaXMueXBvcztcbiAgICAgICAgICAgICAgICB0aGlzLnhwb3MgPSBjbGllbnRYO1xuICAgICAgICAgICAgICAgIHRoaXMueXBvcyA9IGNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVWZWxvY2l0aWVzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0TW92ZUNsYXNzZXModGhpcy5zZXR0aW5ncy5tb3ZpbmdDbGFzcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3MubW92ZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5tb3ZlZC5jYWxsKHRoaXMsIHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2NhbGN1bGF0ZVZlbG9jaXRpZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMuX2NhcFZlbG9jaXR5KHRoaXMucHJldlhQb3MgLSB0aGlzLnhwb3MsIHRoaXMuc2V0dGluZ3MubWF4dmVsb2NpdHkpO1xuICAgICAgICB0aGlzLnZlbG9jaXR5WSA9IHRoaXMuX2NhcFZlbG9jaXR5KHRoaXMucHJldllQb3MgLSB0aGlzLnlwb3MsIHRoaXMuc2V0dGluZ3MubWF4dmVsb2NpdHkpO1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbnZlcnQpIHtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgKj0gLTE7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5WSAqPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy54cG9zICYmIHRoaXMucHJldlhQb3MgJiYgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZVZlbG9jaXRpZXMoKTtcbiAgICAgICAgICAgIHRoaXMueHBvcyA9IHRoaXMucHJldlhQb3MgPSB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbW92ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fdXNlVGFyZ2V0ID0gZnVuY3Rpb24odGFyZ2V0LCBldmVudCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3MuZmlsdGVyVGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5maWx0ZXJUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIGV2ZW50KSAhPT0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl90aHJlc2hvbGQgPSBmdW5jdGlvbih0YXJnZXQsIGV2ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZXR0aW5ncy50aHJlc2hvbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnRocmVzaG9sZC5jYWxsKHRoaXMsIHRhcmdldCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnRocmVzaG9sZDtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9zdGFydCA9IGZ1bmN0aW9uKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy5wcmV2WFBvcyA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHlZID0gdGhpcy5wcmV2WVBvcyA9IDA7XG4gICAgICAgIHRoaXMueHBvcyA9IGNsaWVudFg7XG4gICAgICAgIHRoaXMueXBvcyA9IGNsaWVudFk7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fcmVzZXRNb3VzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnhwb3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy55cG9zID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fZGVjZWxlcmF0ZVZlbG9jaXR5ID0gZnVuY3Rpb24odmVsb2NpdHksIHNsb3dkb3duKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGguYWJzKHZlbG9jaXR5KSkgPT09IDAgPyAwIC8vIGlzIHZlbG9jaXR5IGxlc3MgdGhhbiAxP1xuICAgICAgICAgICAgOiB2ZWxvY2l0eSAqIHNsb3dkb3duOyAvLyByZWR1Y2Ugc2xvd2Rvd25cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9jYXBWZWxvY2l0eSA9IGZ1bmN0aW9uKHZlbG9jaXR5LCBtYXgpIHtcbiAgICAgICAgdmFyIG5ld1ZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgICAgIGlmICh2ZWxvY2l0eSA+IDApe1xuICAgICAgICAgICAgaWYgKHZlbG9jaXR5ID4gbWF4KXtcbiAgICAgICAgICAgICAgICBuZXdWZWxvY2l0eSA9IG1heDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eSA8ICgwIC0gbWF4KSl7XG4gICAgICAgICAgICAgICAgbmV3VmVsb2NpdHkgPSAoMCAtIG1heCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1ZlbG9jaXR5O1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX3NldE1vdmVDbGFzc2VzID0gZnVuY3Rpb24oY2xhc3Nlcykge1xuICAgICAgICAvLyBUaGUgZml4LW1lIGNvbW1lbnQgYmVsb3cgaXMgZnJvbSBvcmlnaW5hbCBqUXVlcnkua2luZXRpYyBwcm9qZWN0XG4gICAgICAgIC8vIEZJWE1FOiBjb25zaWRlciBpZiB3ZSB3YW50IHRvIGFwcGx5IFBMICM0NCwgdGhpcyBzaG91bGQgbm90IHJlbW92ZVxuICAgICAgICAvLyBjbGFzc2VzIHdlIGhhdmUgbm90IGRlZmluZWQgb24gdGhlIGVsZW1lbnQhXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3M7XG4gICAgICAgIHZhciBlbCA9IHRoaXMuZWw7XG5cbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5tb3ZpbmdDbGFzcy51cCk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MubW92aW5nQ2xhc3MuZG93bik7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MubW92aW5nQ2xhc3MubGVmdCk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MubW92aW5nQ2xhc3MucmlnaHQpO1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLmRlY2VsZXJhdGluZ0NsYXNzLnVwKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcy5kb3duKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcy5sZWZ0KTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcy5yaWdodCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmVsb2NpdHkgPiAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmVsb2NpdHkgPCAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52ZWxvY2l0eVkgPiAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5kb3duKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52ZWxvY2l0eVkgPCAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy51cCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9tb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzY3JvbGxlciA9IHRoaXMuX2dldFNjcm9sbGVyKCk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcblxuICAgICAgICBpZiAoc2V0dGluZ3MueCAmJiBzY3JvbGxlci5zY3JvbGxXaWR0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGVmdCh0aGlzLnNjcm9sbExlZnQoKSArIHRoaXMudmVsb2NpdHkpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMudmVsb2NpdHkpID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgPSBzZXR0aW5ncy5kZWNlbGVyYXRlID9cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGVjZWxlcmF0ZVZlbG9jaXR5KHRoaXMudmVsb2NpdHksIHNldHRpbmdzLnNsb3dkb3duKSA6IHRoaXMudmVsb2NpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZXR0aW5ncy55ICYmIHNjcm9sbGVyLnNjcm9sbEhlaWdodCA+IDApe1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AodGhpcy5zY3JvbGxUb3AoKSArIHRoaXMudmVsb2NpdHlZKTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnZlbG9jaXR5WSkgPiAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5WSA9IHNldHRpbmdzLmRlY2VsZXJhdGUgP1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9kZWNlbGVyYXRlVmVsb2NpdHkodGhpcy52ZWxvY2l0eVksIHNldHRpbmdzLnNsb3dkb3duKSA6IHRoaXMudmVsb2NpdHlZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eVkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5fc2V0TW92ZUNsYXNzZXMoc2V0dGluZ3MuZGVjZWxlcmF0aW5nQ2xhc3MpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MubW92ZWQgPT09ICdmdW5jdGlvbicpe1xuICAgICAgICAgICAgc2V0dGluZ3MubW92ZWQuY2FsbCh0aGlzLCBzZXR0aW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy52ZWxvY2l0eSkgPiAwIHx8IE1hdGguYWJzKHRoaXMudmVsb2NpdHlZKSA+IDApe1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1vdmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyB0aWNrIGZvciBuZXh0IG1vdmVtZW50XG4gICAgICAgICAgICAgICAgX3JhZihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9nZXRTY3JvbGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBGSVhNRSB3ZSBtYXkgd2FudCB0byBub3JtYWxpemUgYmVoYXZpb3VyIGFjcm9zcyBicm93c2VycyBhcyBpbiBvcmlnaW5hbCBqUXVlcnkua2luZXRpY1xuICAgICAgICAvLyBjdXJyZW50bHkgdGhpcyB3b24ndCB3b3JrIGNvcnJlY3RseSBvbiBhbGwgYnJ3b3NlcnMgd2hlbiBhdHRhY2hlZCB0byBodG1sIG9yIGJvZHkgZWxlbWVudFxuICAgICAgICByZXR1cm4gdGhpcy5lbDtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLnNjcm9sbExlZnQgPSBmdW5jdGlvbihsZWZ0KSB7XG4gICAgICAgIHZhciBzY3JvbGxlciA9IHRoaXMuX2dldFNjcm9sbGVyKCk7XG4gICAgICAgIGlmICh0eXBlb2YgbGVmdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHNjcm9sbGVyLnNjcm9sbExlZnQgPSBsZWZ0O1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzY3JvbGxlci5zY3JvbGxMZWZ0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5zY3JvbGxUb3AgPSBmdW5jdGlvbih0b3ApIHtcbiAgICAgICAgdmFyIHNjcm9sbGVyID0gdGhpcy5fZ2V0U2Nyb2xsZXIoKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3AgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBzY3JvbGxlci5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnNjcm9sbFRvcCA9IHRvcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzY3JvbGxlci5zY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9hdHRhY2hMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcblxuICAgICAgICBpZiAoX2lzVG91Y2gpIHtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzZXR0aW5ncy5ldmVudHMudG91Y2hTdGFydCwgZmFsc2UpO1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRFbmQsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHNldHRpbmdzLmV2ZW50cy50b3VjaE1vdmUsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHNldHRpbmdzLmV2ZW50cy5pbnB1dERvd24sIGZhbHNlKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHNldHRpbmdzLmV2ZW50cy5pbnB1dEVuZCwgZmFsc2UpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRNb3ZlLCBmYWxzZSk7XG5cbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRDbGljaywgZmFsc2UpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzZXR0aW5ncy5ldmVudHMuc2Nyb2xsLCBmYWxzZSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLnNlbGVjdFN0YXJ0LCBmYWxzZSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHNldHRpbmdzLmV2ZW50cy5kcmFnU3RhcnQsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9kZXRhY2hMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcblxuICAgICAgICBpZiAoX2lzVG91Y2gpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzZXR0aW5ncy5ldmVudHMudG91Y2hTdGFydCwgZmFsc2UpO1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRFbmQsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHNldHRpbmdzLmV2ZW50cy50b3VjaE1vdmUsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHNldHRpbmdzLmV2ZW50cy5pbnB1dERvd24sIGZhbHNlKTtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHNldHRpbmdzLmV2ZW50cy5pbnB1dEVuZCwgZmFsc2UpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRNb3ZlLCBmYWxzZSk7XG5cbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRDbGljaywgZmFsc2UpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzZXR0aW5ncy5ldmVudHMuc2Nyb2xsLCBmYWxzZSk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLnNlbGVjdFN0YXJ0LCBmYWxzZSk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHNldHRpbmdzLmV2ZW50cy5kcmFnU3RhcnQsIGZhbHNlKTtcbiAgICB9O1xuXG5cbiAgICB3aW5kb3cuVmFuaWxsYUtpbmV0aWMgPSBWYW5pbGxhS2luZXRpYztcbn0pKCk7XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgZHJhZ3Njcm9sbCAtIHNjcm9sbCBhcmVhIGJ5IGRyYWdnaW5nXG4gKiBAdmVyc2lvbiAwLjAuOFxuICpcbiAqIEBsaWNlbnNlIE1JVCwgc2VlIGh0dHA6Ly9naXRodWIuY29tL2FzdmQvZHJhZ3Njcm9sbFxuICogQGNvcHlyaWdodCAyMDE1IGFzdmQgPGhlbGlvc2ZyYW1ld29ya0BnbWFpbC5jb20+XG4gKi9cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSlcbntcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuICAgIHtcbiAgICAgICAgZGVmaW5lKFsnZXhwb3J0cyddLCBmYWN0b3J5KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKVxuICAgIHtcbiAgICAgICAgZmFjdG9yeShleHBvcnRzKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgZmFjdG9yeSgocm9vdC5kcmFnc2Nyb2xsID0ge30pKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzKVxue1xuICAgIHZhciBfd2luZG93ID0gd2luZG93O1xuICAgIHZhciBfZG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICB2YXIgbW91c2Vtb3ZlID0gJ21vdXNlbW92ZSc7XG4gICAgdmFyIG1vdXNldXAgPSAnbW91c2V1cCc7XG4gICAgdmFyIG1vdXNlZG93biA9ICdtb3VzZWRvd24nO1xuICAgIHZhciBFdmVudExpc3RlbmVyID0gJ0V2ZW50TGlzdGVuZXInO1xuICAgIHZhciBhZGRFdmVudExpc3RlbmVyID0gJ2FkZCcgKyBFdmVudExpc3RlbmVyO1xuICAgIHZhciByZW1vdmVFdmVudExpc3RlbmVyID0gJ3JlbW92ZScgKyBFdmVudExpc3RlbmVyO1xuICAgIHZhciBuZXdTY3JvbGxYLCBuZXdTY3JvbGxZOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuICAgIHZhciBkcmFnZ2VkID0gW107XG5cbiAgICB2YXIgcmVzZXQgPSBmdW5jdGlvbiAoaSwgZWwpXG4gICAge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZHJhZ2dlZC5sZW5ndGg7KVxuICAgICAgICB7XG4gICAgICAgICAgICBlbCA9IGRyYWdnZWRbaSsrXTtcbiAgICAgICAgICAgIGVsID0gZWwuY29udGFpbmVyIHx8IGVsO1xuICAgICAgICAgICAgZWxbcmVtb3ZlRXZlbnRMaXN0ZW5lcl0obW91c2Vkb3duLCBlbC5tZCwgMCk7XG4gICAgICAgICAgICBfd2luZG93W3JlbW92ZUV2ZW50TGlzdGVuZXJdKG1vdXNldXAsIGVsLm11LCAwKTtcbiAgICAgICAgICAgIF93aW5kb3dbcmVtb3ZlRXZlbnRMaXN0ZW5lcl0obW91c2Vtb3ZlLCBlbC5tbSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdXBwcmVzcyB3YXJuaW5nIGFib3V0IGZ1bmN0aW9ucyBpbiBsb29wcy5cbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICAvLyBjbG9uaW5nIGludG8gYXJyYXkgc2luY2UgSFRNTENvbGxlY3Rpb24gaXMgdXBkYXRlZCBkeW5hbWljYWxseVxuICAgICAgICBkcmFnZ2VkID0gW10uc2xpY2UuY2FsbChfZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHJhZ3Njcm9sbCcpKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGRyYWdnZWQubGVuZ3RoOylcbiAgICAgICAge1xuICAgICAgICAgICAgKGZ1bmN0aW9uIChlbCwgbGFzdENsaWVudFgsIGxhc3RDbGllbnRZLCBwdXNoZWQsIHNjcm9sbGVyLCBjb250KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIChjb250ID0gZWwuY29udGFpbmVyIHx8IGVsKVthZGRFdmVudExpc3RlbmVyXShcbiAgICAgICAgICAgICAgICAgICAgbW91c2Vkb3duLFxuICAgICAgICAgICAgICAgICAgICBjb250Lm1kID0gZnVuY3Rpb24gKGUpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZWwuaGFzQXR0cmlidXRlKCdub2NoaWxkZHJhZycpIHx8IF9kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGUucGFnZVgsIGUucGFnZVkpID09PSBjb250KVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hlZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENsaWVudFggPSBlLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENsaWVudFkgPSBlLmNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDBcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvd1thZGRFdmVudExpc3RlbmVyXShtb3VzZXVwLCBjb250Lm11ID0gZnVuY3Rpb24gKClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93W2FkZEV2ZW50TGlzdGVuZXJdKG1vdXNlbW92ZSwgY29udC5tbSA9IGZ1bmN0aW9uIChlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHVzaGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzY3JvbGxlciA9IGVsLnNjcm9sbGVyIHx8IGVsKS5zY3JvbGxMZWZ0IC09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njcm9sbFggPSAoLWxhc3RDbGllbnRYICsgKGxhc3RDbGllbnRYID0gZS5jbGllbnRYKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXIuc2Nyb2xsVG9wIC09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njcm9sbFkgPSAoLWxhc3RDbGllbnRZICsgKGxhc3RDbGllbnRZID0gZS5jbGllbnRZKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsID09PSBfZG9jdW1lbnQuYm9keSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzY3JvbGxlciA9IF9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLnNjcm9sbExlZnQgLT0gbmV3U2Nyb2xsWDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXIuc2Nyb2xsVG9wIC09IG5ld1Njcm9sbFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH0pKGRyYWdnZWRbaSsrXSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9O1xuXG4gICAgaWYgKF9kb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKVxuICAgIHtcbiAgICAgICAgcmVzZXQoKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgX3dpbmRvd1thZGRFdmVudExpc3RlbmVyXSgnbG9hZCcsIHJlc2V0LCAwKTtcbiAgICB9XG5cbiAgICBleHBvcnRzLnJlc2V0ID0gcmVzZXQ7XG4gICAgd2luZG93LnJlc2V0RHJhZ3Njcm9sbCA9IHJlc2V0O1xufSkpO1xuIiwiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKi9cblxuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG5cdGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuXHRjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcblx0Y3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXHRjcmVhdGVEZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcblxuXHRPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goa2V5ID0+IHtcblx0XHRjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG5cdH0pO1xuXG5cdC8qKlxuXHQqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuXHQqL1xuXG5cdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0LyoqXG5cdCogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuXHQqXG5cdCogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG5cblx0LyoqXG5cdCogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXHRcdGxldCBlbmFibGVPdmVycmlkZSA9IG51bGw7XG5cdFx0bGV0IG5hbWVzcGFjZXNDYWNoZTtcblx0XHRsZXQgZW5hYmxlZENhY2hlO1xuXG5cdFx0ZnVuY3Rpb24gZGVidWcoLi4uYXJncykge1xuXHRcdFx0Ly8gRGlzYWJsZWQ/XG5cdFx0XHRpZiAoIWRlYnVnLmVuYWJsZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWxmID0gZGVidWc7XG5cblx0XHRcdC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cdFx0XHRjb25zdCBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuXHRcdFx0Y29uc3QgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuXHRcdFx0c2VsZi5kaWZmID0gbXM7XG5cdFx0XHRzZWxmLnByZXYgPSBwcmV2VGltZTtcblx0XHRcdHNlbGYuY3VyciA9IGN1cnI7XG5cdFx0XHRwcmV2VGltZSA9IGN1cnI7XG5cblx0XHRcdGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7XG5cblx0XHRcdGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Ly8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cblx0XHRcdFx0YXJncy51bnNoaWZ0KCclTycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuXHRcdFx0bGV0IGluZGV4ID0gMDtcblx0XHRcdGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCAobWF0Y2gsIGZvcm1hdCkgPT4ge1xuXHRcdFx0XHQvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG5cdFx0XHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0XHRcdHJldHVybiAnJSc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0Y29uc3QgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXHRcdFx0XHRpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNvbnN0IHZhbCA9IGFyZ3NbaW5kZXhdO1xuXHRcdFx0XHRcdG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuXHRcdFx0XHRcdC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblx0XHRcdFx0XHRhcmdzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblx0XHRcdGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuXHRcdFx0Y29uc3QgbG9nRm4gPSBzZWxmLmxvZyB8fCBjcmVhdGVEZWJ1Zy5sb2c7XG5cdFx0XHRsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcblx0XHR9XG5cblx0XHRkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cdFx0ZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG5cdFx0ZGVidWcuY29sb3IgPSBjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXHRcdGRlYnVnLmV4dGVuZCA9IGV4dGVuZDtcblx0XHRkZWJ1Zy5kZXN0cm95ID0gY3JlYXRlRGVidWcuZGVzdHJveTsgLy8gWFhYIFRlbXBvcmFyeS4gV2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVidWcsICdlbmFibGVkJywge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQ6ICgpID0+IHtcblx0XHRcdFx0aWYgKGVuYWJsZU92ZXJyaWRlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVuYWJsZU92ZXJyaWRlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChuYW1lc3BhY2VzQ2FjaGUgIT09IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMpIHtcblx0XHRcdFx0XHRuYW1lc3BhY2VzQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzO1xuXHRcdFx0XHRcdGVuYWJsZWRDYWNoZSA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbmFibGVkQ2FjaGU7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiB2ID0+IHtcblx0XHRcdFx0ZW5hYmxlT3ZlcnJpZGUgPSB2O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gRW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcblx0XHRpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWJ1Zztcblx0fVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuXHRcdGNvbnN0IG5ld0RlYnVnID0gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcblx0XHRuZXdEZWJ1Zy5sb2cgPSB0aGlzLmxvZztcblx0XHRyZXR1cm4gbmV3RGVidWc7XG5cdH1cblxuXHQvKipcblx0KiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG5cdCogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcblx0XHRjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuXHRcdGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzO1xuXG5cdFx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0XHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdFx0bGV0IGk7XG5cdFx0Y29uc3Qgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuXHRcdGNvbnN0IGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKCFzcGxpdFtpXSkge1xuXHRcdFx0XHQvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG5cblx0XHRcdGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc2xpY2UoMSkgKyAnJCcpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG5cdCpcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBkaXNhYmxlKCkge1xuXHRcdGNvbnN0IG5hbWVzcGFjZXMgPSBbXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5uYW1lcy5tYXAodG9OYW1lc3BhY2UpLFxuXHRcdFx0Li4uY3JlYXRlRGVidWcuc2tpcHMubWFwKHRvTmFtZXNwYWNlKS5tYXAobmFtZXNwYWNlID0+ICctJyArIG5hbWVzcGFjZSlcblx0XHRdLmpvaW4oJywnKTtcblx0XHRjcmVhdGVEZWJ1Zy5lbmFibGUoJycpO1xuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9XG5cblx0LyoqXG5cdCogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0KiBAcmV0dXJuIHtCb29sZWFufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuXHRcdGlmIChuYW1lW25hbWUubGVuZ3RoIC0gMV0gPT09ICcqJykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0bGV0IGk7XG5cdFx0bGV0IGxlbjtcblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoY3JlYXRlRGVidWcuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQqIENvbnZlcnQgcmVnZXhwIHRvIG5hbWVzcGFjZVxuXHQqXG5cdCogQHBhcmFtIHtSZWdFeHB9IHJlZ3hlcFxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHRvTmFtZXNwYWNlKHJlZ2V4cCkge1xuXHRcdHJldHVybiByZWdleHAudG9TdHJpbmcoKVxuXHRcdFx0LnN1YnN0cmluZygyLCByZWdleHAudG9TdHJpbmcoKS5sZW5ndGggLSAyKVxuXHRcdFx0LnJlcGxhY2UoL1xcLlxcKlxcPyQvLCAnKicpO1xuXHR9XG5cblx0LyoqXG5cdCogQ29lcmNlIGB2YWxgLlxuXHQqXG5cdCogQHBhcmFtIHtNaXhlZH0gdmFsXG5cdCogQHJldHVybiB7TWl4ZWR9XG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcblx0XHRpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWw7XG5cdH1cblxuXHQvKipcblx0KiBYWFggRE8gTk9UIFVTRS4gVGhpcyBpcyBhIHRlbXBvcmFyeSBzdHViIGZ1bmN0aW9uLlxuXHQqIFhYWCBJdCBXSUxMIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblx0Ki9cblx0ZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0XHRjb25zb2xlLndhcm4oJ0luc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC4nKTtcblx0fVxuXG5cdGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuXG5cdHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcbiIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwiaW1wb3J0IHsgdXBkYXRlSGlnaGxpZ2h0LCBzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyLCBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyIH0gZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERpc3BsYXlQYW5lbCBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheVBhbmVsJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuL1pvb20nO1xuaW1wb3J0IHsgVmlld0ludGVyZmFjZSwgRGlzcGxheUNvbnN0cnVjdGFibGUgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcblxuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuLyoqXG4gKiBBIHZpZXcgbW9kdWxlIGZvciBkaXNwbGF5aW5nIGEgc2luZ2xlIHBhZ2Ugb2YgYSBtYW51c2NyaXB0LlxuICovXG5jbGFzcyBTaW5nbGVWaWV3IGltcGxlbWVudHMgVmlld0ludGVyZmFjZSB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgcHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHVwZGF0ZUNhbGxiYWNrczogQXJyYXk8KCkgPT4gdm9pZD47XG4gIHByaXZhdGUgZ3JvdXA6IFNWR1NWR0VsZW1lbnQ7XG4gIHByaXZhdGUgYmc6IFNWR0ltYWdlRWxlbWVudDtcbiAgcHJpdmF0ZSBzdmc6IFNWR1NWR0VsZW1lbnQ7XG4gIHpvb21IYW5kbGVyOiBab29tSGFuZGxlcjtcbiAgcHJpdmF0ZSBkaXNwbGF5UGFuZWw6IERpc3BsYXlQYW5lbDtcbiAgcmVhZG9ubHkgcGFnZVVSSTogc3RyaW5nO1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIFNpbmdsZVZpZXcuXG4gICAqIEBwYXJhbSBpbWFnZSAtIFRoZSBVUkkgdG8gdGhlIGJhY2tncm91bmQgaW1hZ2UgZm9yIHRoZSBwYWdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgcGFuZWw6IERpc3BsYXlDb25zdHJ1Y3RhYmxlLCBpbWFnZTogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzID0gbmV3IEFycmF5KDApO1xuICAgIC8vIEdyb3VwIHdpbGwgY29udGFpbiB0aGUgaW1hZ2UgYW5kIHRoZSByZW5kZXJlZCBTVkdcbiAgICB0aGlzLmdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICB0aGlzLmdyb3VwLmlkID0gJ3N2Z19ncm91cCc7XG4gICAgdGhpcy5ncm91cC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHdpbmRvdy5pbm5lckhlaWdodC50b1N0cmluZygpKTtcbiAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMTAwJScpO1xuXG4gICAgdGhpcy5iZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnaW1hZ2UnKTtcbiAgICB0aGlzLmJnLmlkID0gJ2JnaW1nJztcbiAgICB0aGlzLmJnLmNsYXNzTGlzdC5hZGQoJ2JhY2tncm91bmQnKTtcbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgneCcsICcwJyk7XG4gICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ3knLCAnMCcpO1xuXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBmZXRjaChpbWFnZSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5vaykge1xuICAgICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgJ2hyZWYnLCByZWFkZXIucmVzdWx0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgIGNvbnN0IGJib3ggPSB0aGlzLmJnLmdldEJCb3goKTtcbiAgICAgICAgICBpZiAoIXRoaXMuZ3JvdXAuaGFzQXR0cmlidXRlKCd2aWV3Qm94JykpIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgIElmIHRoZSBTVkcgZG9lcyBub3QgaGF2ZSBhIHZpZXdCb3gsIGxvYWQgdGhlIHByZXZpb3VzIHZpZXdCb3hcbiAgICAgICAgICAgICAgdmFsdWUgZnJvbSBsb2NhbFN0b3JhZ2UuIElmIG5vbmUgaGFzIGJlZW4gc3RvcmVkICh2aWV3Qm94IGlzIG51bGwpLFxuICAgICAgICAgICAgICBzZXQgaXQgdG8gdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGJhY2tncm91bmQgaW1hZ2VcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIE5vdGU6IGFuIFNWRydzIHZpZXdCb3ggZ2l2ZXMgdGhlIFwiYm94XCIgdGhhdCB0aGUgdXNlciBjYW4gc2VlIHRoZSBTVkcgdGhyb3VnaC5cbiAgICAgICAgICAgICAgVGhlIHVzZXIgbWF5IGJlIHpvb21lZCBpbnRvIGEgdmVyeSBzcGVjaWZpYyBzZWN0aW9uIG9mIHRoZSBTVkcsIGluIHdoaWNoIGNhc2UgdGhlXG4gICAgICAgICAgICAgIHZpZXdCb3ggc2hvdWxkIGdpdmUgY29vcmRpbmF0ZXMgb2YgdGhhdCBzcGVjaWZpYyBib3guXG5cbiAgICAgICAgICAgICAgU2VlIG1vcmU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvdmlld0JveFxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCB7IHZpZXdCb3ggfSA9IGdldFNldHRpbmdzKCk7XG4gICAgICAgICAgICBpZiAoIXZpZXdCb3gpXG4gICAgICAgICAgICAgIHZpZXdCb3ggPSAnMCAwICcgKyBiYm94LndpZHRoLnRvU3RyaW5nKCkgKyAnICcgKyBiYm94LmhlaWdodC50b1N0cmluZygpO1xuXG4gICAgICAgICAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIHZpZXdCb3gpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYmxvYigpO1xuICAgICAgfVxuICAgIH0pLnRoZW4oYmxvYiA9PiB7XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICB9KTtcblxuICAgIC8vIEl0IGlzIGJldHRlciBuYW1lZCBzdmcsIHRvIGF2b2lkIGNvbmZ1c2lvbiB3aXRoIHRoZSBhY3R1YWwgTUVJIGZpbGUuXG4gICAgdGhpcy5zdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnL3N2ZycsICdzdmcnKSBhcyBTVkdTVkdFbGVtZW50O1xuICAgIHRoaXMuc3ZnLmlkID0gJ21laV9vdXRwdXQnO1xuICAgIHRoaXMuc3ZnLmNsYXNzTGlzdC5hZGQoJ25lb24tY29udGFpbmVyJywgJ2FjdGl2ZS1wYWdlJyk7XG5cbiAgICB0aGlzLmdyb3VwLmFwcGVuZENoaWxkKHRoaXMuYmcpO1xuICAgIHRoaXMuZ3JvdXAuYXBwZW5kQ2hpbGQodGhpcy5zdmcpO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZ3JvdXApO1xuXG4gICAgdGhpcy56b29tSGFuZGxlciA9IG5ldyBab29tSGFuZGxlcigpO1xuICAgIHRoaXMuZGlzcGxheVBhbmVsID0gbmV3IHBhbmVsKHRoaXMsICduZW9uLWNvbnRhaW5lcicsICdiYWNrZ3JvdW5kJywgdGhpcy56b29tSGFuZGxlcik7XG5cbiAgICB0aGlzLnBhZ2VVUkkgPSBpbWFnZTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIG9uU1ZHTG9hZCAoKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWV3RXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuZGlzcGxheVBhbmVsLnNldERpc3BsYXlMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIFNWRyBiZWluZyBkaXNwbGF5ZWQuXG4gICAqIEBwYXJhbSBzdmcgLSBOZXcgcmVuZGVyZWQgU1ZHIHRvIHVzZS5cbiAgICovXG4gIHVwZGF0ZVNWRyAoc3ZnOiBTVkdTVkdFbGVtZW50KTogdm9pZCB7XG4gICAgdGhpcy5ncm91cC5yZXBsYWNlQ2hpbGQoc3ZnLCB0aGlzLnN2Zyk7XG4gICAgdGhpcy5zdmcgPSBzdmc7XG4gICAgdGhpcy5zdmcuaWQgPSAnbWVpX291dHB1dCc7XG4gICAgdGhpcy5zdmcuY2xhc3NMaXN0LmFkZCgnbmVvbi1jb250YWluZXInLCAnYWN0aXZlLXBhZ2UnKTtcbiAgICBjb25zdCBoZWlnaHQgPSBwYXJzZUludCh0aGlzLnN2Zy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKTtcbiAgICBjb25zdCB3aWR0aCA9IHBhcnNlSW50KHRoaXMuc3ZnLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSk7XG5cbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHdpZHRoLnRvU3RyaW5nKCkpO1xuXG4gICAgY29uc3QgeyB2aWV3Qm94IH0gPSBnZXRTZXR0aW5ncygpO1xuICAgIGlmICghdmlld0JveClcbiAgICAgIHRoaXMuZ3JvdXAuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAnICsgd2lkdGggKyAnICcgKyBoZWlnaHQpO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuZ3JvdXAuc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgdmlld0JveCk7XG5cbiAgICB1cGRhdGVIaWdobGlnaHQoKTtcbiAgICB0aGlzLnJlc2V0VHJhbnNmb3JtYXRpb25zKCk7XG4gICAgdGhpcy51cGRhdGVDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2UgdG8gYSBjZXJ0YWluIHBhZ2VcbiAgICogU2luY2UgdGhlcmUgaXMgb25seSBvbmUgcGFnZSwgdGhpcyBpcyBlc3NlbnRpYWxseSBhIHdyYXBwZXIgZm9yIHVwZGF0ZVNWR1xuICAgKi9cbiAgYXN5bmMgY2hhbmdlUGFnZSAoX3BhZ2U6IG51bWJlciwgX2RlbGF5OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc3ZnID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRQYWdlU1ZHKHRoaXMuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgdGhpcy51cGRhdGVTVkcoc3ZnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBjYWxsYmFjayB0byB0aGUgbGlzdCBvZiB0aG9zZSBiZSBjYWxsZWQgd2hlbiB0aGUgcGFnZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICBhZGRVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBsaXN0IG9mIGNhbGxiYWNrcyBpZiBpdCBpcyBwYXJ0IG9mIHRoZSBsaXN0LlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICByZW1vdmVVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZpbmRJbmRleCgoZWxlbSkgPT4ge1xuICAgICAgcmV0dXJuIGVsZW0gPT09IGNiO1xuICAgIH0pO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSB0cmFuc2Zvcm1hdGlvbnMgdGhhdCBoYXZlIGJlZW4gYXBwbGllZCB0byB0aGUgU1ZHIHVwb24gdXBkYXRlLlxuICAgKi9cbiAgcmVzZXRUcmFuc2Zvcm1hdGlvbnMgKCk6IHZvaWQge1xuICAgIHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyLnJlc3RvcmVUcmFuc2Zvcm1hdGlvbigpO1xuICAgIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIoKTtcbiAgICBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIHplcm8taW5kZXhlZCBudW1iZXIgb2YgdGhlIGN1cnJlbnQgcGFnZS4gVGhpcyB3aWxsIGFsd2F5cyBiZSB6ZXJvLlxuICAgKi9cbiAgZ2V0Q3VycmVudFBhZ2UgKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIFVSSSBvZiB0aGUgcGFnZS5cbiAgICovXG4gIGdldEN1cnJlbnRQYWdlVVJJICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnBhZ2VVUkk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgdmlldyBhbmQgZGlzcGxheSBwYW5lbC5cbiAgICovXG4gIHNldFZpZXdFdmVudEhhbmRsZXJzICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgY2FzZSAnU2hpZnQnOlxuICAgICAgICAgIGQzLnNlbGVjdCgnI3N2Z19ncm91cCcpLm9uKCcuZHJhZycsIG51bGwpO1xuICAgICAgICAgIGQzLnNlbGVjdCgnI3N2Z19ncm91cCcpLmNhbGwoXG4gICAgICAgICAgICBkMy5kcmFnKCkub24oJ3N0YXJ0JywgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIuc3RhcnREcmFnLmJpbmQodGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIpKVxuICAgICAgICAgICAgICAub24oJ2RyYWcnLCB0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlci5kcmFnZ2luZy5iaW5kKHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyKSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVpX291dHB1dCcpLnNldEF0dHJpYnV0ZSgndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICBjYXNlICdTaGlmdCc6XG4gICAgICAgICAgZDMuc2VsZWN0KCcjc3ZnX2dyb3VwJykub24oJy5kcmFnJywgbnVsbCk7XG4gICAgICAgICAgaWYgKHRoaXMubmVvblZpZXcuZ2V0VXNlck1vZGUoKSAhPT0gJ3ZpZXdlcicpIHtcbiAgICAgICAgICAgIHRoaXMubmVvblZpZXcuTmV1bWVFZGl0LnNldFNlbGVjdExpc3RlbmVycygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21laV9vdXRwdXQnKS5zZXRBdHRyaWJ1dGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGQzLnNlbGVjdCgnI2NvbnRhaW5lcicpLm9uKCd0b3VjaHN0YXJ0JywgKCkgPT4ge1xuICAgICAgaWYgKGQzLmV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyLnN0YXJ0RHJhZygpO1xuICAgICAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbigndG91Y2htb3ZlJywgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIuZHJhZ2dpbmcuYmluZCh0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlcikpO1xuICAgICAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbigndG91Y2hlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgZDMuc2VsZWN0KCcjY29udGFpbmVyJykub24oJ3RvdWNobW92ZScsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbignd2hlZWwnLCB0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlci5zY3JvbGxab29tLmJpbmQodGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIpLCBmYWxzZSk7XG4gICAgLy8gVXBkYXRlIGhlaWdodCBvZiBjb250YWluZXIgYmFzZWQgb24gd2luZG93XG4gICAgd2luZG93Lm9ucmVzaXplID0gKCk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgICAgaWYgKG5ld0hlaWdodCA+IE51bWJlcihjb250YWluZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSkpIHtcbiAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgbmV3SGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgQSBodW1hbiByZWFkYWJsZSBuYW1lIGZvciB0aGUgcGFnZS4gVXNlZCBmb3IgZG93bmxvYWRzLlxuICAgKi9cbiAgZ2V0UGFnZU5hbWUgKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubmVvblZpZXcubmFtZTtcbiAgfVxufVxuXG5leHBvcnQgeyBTaW5nbGVWaWV3IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IHNldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbmV4cG9ydCBjbGFzcyBWaWV3Qm94IHtcbiAgLy8gdmllQm94IGF0dHJpYnV0ZSBvZiBhbiBTVkcgdmlld3BvcnQ6XG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvdmlld0JveFxuICBtaW5YOiBudW1iZXI7XG4gIG1pblk6IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG5cbiAgaW1hZ2VIZWlnaHQ6IG51bWJlcjtcbiAgaW1hZ2VXaWR0aDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gaW1hZ2VXaWR0aCAtIFdpZHRoIG9mIHRoZSBjb250YWluZWQgaW1hZ2UuXG4gICAqIEBwYXJhbSBpbWFnZUhlaWdodCAtIEhlaWdodCBvZiB0aGUgY29udGFpbmVkIGltYWdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKGltYWdlV2lkdGg6IG51bWJlciwgaW1hZ2VIZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMubWluWCA9IDA7XG4gICAgdGhpcy5taW5ZID0gMDtcbiAgICB0aGlzLndpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGltYWdlSGVpZ2h0O1xuXG4gICAgdGhpcy5pbWFnZVdpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICB0aGlzLmltYWdlSGVpZ2h0ID0gaW1hZ2VIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHZhbHVlcyBvZiB0aGUgdmlld0JveCBtYW51YWxseS5cbiAgICogQHBhcmFtIG1pblggLSB0b3AgbGVmdCB4LWNvb3JkaW5hdGUgb2YgU1ZHXG4gICAqIEBwYXJhbSBtaW5ZIC0gdG9wIGxlZnQgeS1jb29yZGluYXRlIG9mIFNWR1xuICAgKiBAcGFyYW0gd2lkdGggLSB3aWR0aCBvZiBTVkdcbiAgICogQHBhcmFtIGhlaWdodCAtIGhlaWdodCBvZiBTVkdcbiAgICovXG4gIHNldCAobWluWDogbnVtYmVyLCBtaW5ZOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyBWYWx1ZSBmb3IgdGhlIHZpZXdCb3ggcGFyYW1ldGVyLiAqL1xuICBnZXQgKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubWluWC50b1N0cmluZygpICsgJyAnICsgdGhpcy5taW5ZLnRvU3RyaW5nKCkgKyAnICcgK1xuICAgICAgdGhpcy53aWR0aCArICcgJyArIHRoaXMuaGVpZ2h0O1xuICB9XG5cbiAgLyoqIEBwYXJhbSBrIC0gRmFjdG9yIHRvIHpvb20gdG8uICovXG4gIHpvb21UbyAoazogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qgem9vbUhlaWdodCA9ICh0aGlzLmltYWdlSGVpZ2h0IC8gayk7XG4gICAgY29uc3Qgem9vbVdpZHRoID0gKHRoaXMuaW1hZ2VXaWR0aCAvIGspO1xuXG4gICAgdGhpcy53aWR0aCA9IHpvb21XaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHpvb21IZWlnaHQ7XG4gIH1cblxuICAvKiogQHJldHVybnMgQ3VycmVudCB6b29tIGZhY3Rvci4gKi9cbiAgZ2V0Wm9vbSAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZVdpZHRoIC8gdGhpcy53aWR0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgdmlld3BvcnQuXG4gICAqIEBwYXJhbSB4RGlmZiAtIEFtb3VudCB0byBzaGlmdCBvbiB4LWF4aXMuXG4gICAqIEBwYXJhbSB5RGlmZiAtIEFtb3VudCB0byBzaGlmdCBvbiB5LWF4aXMuXG4gICAqL1xuICB0cmFuc2xhdGUgKHhEaWZmOiBudW1iZXIsIHlEaWZmOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1pblggKz0geERpZmY7XG4gICAgdGhpcy5taW5ZICs9IHlEaWZmO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBab29tSGFuZGxlciB7XG4gIGRyYWdDb29yZGluYXRlczogRE9NUG9pbnQ7XG4gIHZpZXdCb3g6IFZpZXdCb3g7XG4gIG1hdHJpeDogRE9NTWF0cml4O1xuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgem9vbSBhbmQgcGFuIG9mIHRoZSBTVkcgdmlld2JveFxuICAgKi9cbiAgcmVzZXRab29tQW5kUGFuIChyZXNldFNldHRpbmdzID0gdHJ1ZSk6IHZvaWQge1xuICAgIGNvbnN0IGJnaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JnaW1nJykgYXMgSFRNTEltYWdlRWxlbWVudDtcbiAgICB0aGlzLnZpZXdCb3ggPSBuZXcgVmlld0JveChwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpLCBwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKSk7XG5cbiAgICBpZiAocmVzZXRTZXR0aW5ncykge1xuICAgICAgdGhpcy51cGRhdGVTVkdWaWV3Qm94KCk7XG4gICAgICBzZXRTZXR0aW5ncyh7IHpvb206IDEwMCB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGsgLSBGYWN0b3IgdG8gem9vbSB0by5cbiAgICovXG4gIHpvb21UbyAoazogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWV3Qm94KCk7XG4gICAgdGhpcy52aWV3Qm94Lnpvb21UbyhrKTtcbiAgICB0aGlzLnVwZGF0ZVNWR1ZpZXdCb3goKTtcblxuICAgIHNldFNldHRpbmdzKHsgem9vbTogTWF0aC5mbG9vcihrICogMTAwKSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgdGhlIHZpZXcgYm94IGJ5IHJlbGF0aXZlIGNvb3JkaW5hdGVzLlxuICAqIEBwYXJhbSB4RGlmZiAtIEFtb3VudCB0byBzaGlmdCBvbiB4LWF4aXMuXG4gICogQHBhcmFtIHlEaWZmIC0gQW1vdW50IHRvIHNoaWZ0IG9uIHktYXhpcy5cbiAgKi9cbiAgdHJhbnNsYXRlICh4RGlmZjogbnVtYmVyLCB5RGlmZjogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWV3Qm94KCk7XG4gICAgdGhpcy52aWV3Qm94LnRyYW5zbGF0ZSh4RGlmZiwgeURpZmYpO1xuICAgIHRoaXMudXBkYXRlU1ZHVmlld0JveCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgdGhlIHZpZXcgYm94IHRvIGl0cyBwb3NpdGlvbiBiZWZvcmUgdGhlIGVkaXRvciBhY3Rpb24uXG4gICAqL1xuICByZXN0b3JlVHJhbnNmb3JtYXRpb24gKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZpZXdCb3ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5yZXNldFpvb21BbmRQYW4oZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwZGF0ZVNWR1ZpZXdCb3goKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2aWV3IGJveCBvZiB0aGUgU1ZHLlxuICAgKi9cbiAgc2V0Vmlld0JveCAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmlld0JveCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBiZ2ltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ2ltZycpIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgICB0aGlzLnZpZXdCb3ggPSBuZXcgVmlld0JveChwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpLCBwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKSk7XG4gICAgfVxuICAgIGNvbnN0IHJhd1ZpZXdCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnX2dyb3VwJylcbiAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKVxuICAgICAgLnNwbGl0KCcgJyk7XG4gICAgdGhpcy52aWV3Qm94LnNldChcbiAgICAgIHBhcnNlSW50KHJhd1ZpZXdCb3hbMF0pLFxuICAgICAgcGFyc2VJbnQocmF3Vmlld0JveFsxXSksXG4gICAgICBwYXJzZUludChyYXdWaWV3Qm94WzJdKSxcbiAgICAgIHBhcnNlSW50KHJhd1ZpZXdCb3hbM10pXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHZpZXdCb3ggYXR0cmlidXRlIG9mIHN2Z19ncm91cFxuICAgKi9cbiAgdXBkYXRlU1ZHVmlld0JveCAoKTogdm9pZCB7XG4gICAgY29uc3Qgdmlld0JveFN0cmluZyA9IHRoaXMudmlld0JveC5nZXQoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnX2dyb3VwJykuc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgdmlld0JveFN0cmluZyk7XG4gICAgc2V0U2V0dGluZ3MoeyB2aWV3Qm94OiB2aWV3Qm94U3RyaW5nIH0pO1xuICB9XG5cbiAgc3RhcnREcmFnICgpOiB2b2lkIHtcbiAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdmdfZ3JvdXAnKSBhcyB1bmtub3duIGFzIFNWR1NWR0VsZW1lbnQ7XG4gICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMgPSBncm91cC5jcmVhdGVTVkdQb2ludCgpO1xuICAgIGlmIChkMy5ldmVudC50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgIC8vIElmIGRyYWcgaXMgdHJpZ2dlcmVkIGJ5IGEgdG91Y2ggZXZlbnRcbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnggPSBkMy5ldmVudC50b3VjaGVzWzBdLnNjcmVlblg7XG4gICAgICB0aGlzLmRyYWdDb29yZGluYXRlcy55ID0gZDMuZXZlbnQudG91Y2hlc1swXS5zY3JlZW5ZO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UgdHJpZ2dlcmVkIGJ5IGEgbW91c2UgY2xpY2tcbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnggPSBkMy5ldmVudC54O1xuICAgICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50Lnk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXRyaXggPSBncm91cC5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCk7XG4gIH1cblxuICBkcmFnZ2luZyAoKTogdm9pZCB7XG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnX2dyb3VwJykgYXMgdW5rbm93biBhcyBTVkdTVkdFbGVtZW50O1xuICAgIGNvbnN0IG5ld0Nvb3JkaW5hdGVzID0gZ3JvdXAuY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICAvLyBTYW1lIGtpbmQgb2YgY2hlY2tpbmcgYXMgaW4gc3RhcnREcmFnXG4gICAgaWYgKGQzLmV2ZW50LnR5cGUgPT09ICd0b3VjaG1vdmUnKSB7XG4gICAgICBuZXdDb29yZGluYXRlcy54ID0gZDMuZXZlbnQudG91Y2hlc1swXS5zY3JlZW5YO1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50LnRvdWNoZXNbMF0uc2NyZWVuWTtcbiAgICB9IGVsc2UgaWYgKGQzLmV2ZW50LnR5cGUgPT09ICd3aGVlbCcgJiYgZDMuZXZlbnQuc2hpZnRLZXkgPT09IGZhbHNlKSB7XG4gICAgICBpZiAodGhpcy5tYXRyaXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm1hdHJpeCA9IGdyb3VwLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmRyYWdDb29yZGluYXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzID0gZ3JvdXAuY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnggPSBkMy5ldmVudC54O1xuICAgICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50Lnk7XG4gICAgICBuZXdDb29yZGluYXRlcy54ID0gdGhpcy5kcmFnQ29vcmRpbmF0ZXMueCAtIGQzLmV2ZW50LmRlbHRhWDtcbiAgICAgIG5ld0Nvb3JkaW5hdGVzLnkgPSB0aGlzLmRyYWdDb29yZGluYXRlcy55IC0gZDMuZXZlbnQuZGVsdGFZO1xuICAgICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueCA9IGQzLmV2ZW50Lng7XG4gICAgICBuZXdDb29yZGluYXRlcy55ID0gZDMuZXZlbnQueTtcbiAgICB9XG4gICAgY29uc3QgbmV3VHJhbnNmb3JtID0gbmV3Q29vcmRpbmF0ZXMubWF0cml4VHJhbnNmb3JtKHRoaXMubWF0cml4KTtcbiAgICBjb25zdCBkcmFnVHJhbnNmb3JtID0gdGhpcy5kcmFnQ29vcmRpbmF0ZXMubWF0cml4VHJhbnNmb3JtKHRoaXMubWF0cml4KTtcbiAgICB0aGlzLnRyYW5zbGF0ZSgtbmV3VHJhbnNmb3JtLnggKyBkcmFnVHJhbnNmb3JtLngsIC1uZXdUcmFuc2Zvcm0ueSArIGRyYWdUcmFuc2Zvcm0ueSk7XG4gICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMgPSBuZXdDb29yZGluYXRlcztcbiAgfVxuXG4gIHNjcm9sbFpvb20gKCk6IHZvaWQge1xuICAgIGlmIChkMy5ldmVudC50eXBlICE9PSAnd2hlZWwnKSByZXR1cm47XG4gICAgaWYgKCFkMy5ldmVudC5zaGlmdEtleSkge1xuICAgICAgdGhpcy5kcmFnZ2luZygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem9vbVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgdGhpcy5zZXRWaWV3Qm94KCk7XG4gICAgY29uc3QgayA9IHRoaXMudmlld0JveC5nZXRab29tKCk7XG4gICAgbGV0IG5ld0sgPSBrIC0gZDMuZXZlbnQuZGVsdGFYIC8gMTAwO1xuICAgIGlmIChuZXdLIDwgcGFyc2VJbnQoc2xpZGVyLmdldEF0dHJpYnV0ZSgnbWluJykpIC8gMTAwKSBuZXdLID0gMC4yNTtcbiAgICBpZiAobmV3SyA+IHBhcnNlSW50KHNsaWRlci5nZXRBdHRyaWJ1dGUoJ21heCcpKSAvIDEwMCkgbmV3SyA9IDQ7XG4gICAgdGhpcy56b29tVG8obmV3Syk7XG5cbiAgICAvLyBVcGRhdGUgem9vbSBzbGlkZXJcbiAgICBzbGlkZXIudmFsdWUgPSAobmV3SyAqIDEwMCkudG9TdHJpbmcoKTtcbiAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pvb21PdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudCkudmFsdWUgPSBTdHJpbmcoTWF0aC5yb3VuZChuZXdLICogMTAwKSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgWm9vbUhhbmRsZXIgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgYmluZEluc2VydFRhYnMsIGluaXRJbnNlcnRFZGl0Q29udHJvbHMsIGluaXRTZWxlY3Rpb25CdXR0b25zIH0gZnJvbSAnLi9Db250cm9scyc7XG5pbXBvcnQgKiBhcyBTZWxlY3QgZnJvbSAnLi4vdXRpbHMvU2VsZWN0JztcbmltcG9ydCBJbnNlcnRIYW5kbGVyIGZyb20gJy4vSW5zZXJ0SGFuZGxlcic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuL1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0IHsgc2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMgfSBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuLi91dGlscy9EcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBOZXVtZUVkaXRJbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0IHsgdW5kb1JlZG9QYW5lbCB9IGZyb20gJy4uL3V0aWxzL0VkaXRDb250ZW50cyc7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgVXNlclR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbmNsYXNzIERpdmFFZGl0IGltcGxlbWVudHMgTmV1bWVFZGl0SW50ZXJmYWNlIHtcbiAgbmVvblZpZXc6IE5lb25WaWV3O1xuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXI7XG4gIGluc2VydEhhbmRsZXI6IEluc2VydEhhbmRsZXI7XG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5pbml0RWRpdE1vZGUoKTtcbiAgfVxuXG4gIGluaXRFZGl0TW9kZSAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9jb250cm9scycpLmlubmVySFRNTCArPSBDb250ZW50cy5pbnNlcnRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0X2NvbnRyb2xzJykuaW5uZXJIVE1MICs9IENvbnRlbnRzLmVkaXRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvUmVkb19jb250cm9scycpLmlubmVySFRNTCA9IHVuZG9SZWRvUGFuZWw7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcuYWN0aXZlLXBhZ2UgPiBzdmcnKTtcbiAgICB0aGlzLmluc2VydEhhbmRsZXIgPSBuZXcgSW5zZXJ0SGFuZGxlcih0aGlzLm5lb25WaWV3LCAnLmFjdGl2ZS1wYWdlID4gc3ZnJyk7XG4gICAgYmluZEluc2VydFRhYnModGhpcy5pbnNlcnRIYW5kbGVyKTtcbiAgICBjb25zdCB7IGluc2VydFRhYiB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnNlcnRUYWIpLmNsaWNrKCk7XG4gICAgU2VsZWN0LnNldFNlbGVjdEhlbHBlck9iamVjdHModGhpcy5uZW9uVmlldywgdGhpcy5kcmFnSGFuZGxlcik7XG4gICAgdGhpcy5zZXRTZWxlY3RMaXN0ZW5lcnMoKTtcbiAgICBTZWxlY3RPcHRpb25zLmluaXROZW9uVmlldyh0aGlzLm5lb25WaWV3KTtcbiAgICBpbml0SW5zZXJ0RWRpdENvbnRyb2xzKCk7XG4gICAgU2VsZWN0LnNldFNlbGVjdFN0cm9rZVdpZHRoKDEpO1xuICAgIGluaXRTZWxlY3Rpb25CdXR0b25zKCk7XG4gICAgc2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMoKTtcbiAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy5zZXRTZWxlY3RMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB1c2VyIG1vZGUgdGhhdCBOZW9uIGlzIGluLiBFaXRoZXIgaW5zZXJ0LCBlZGl0LCBvciB2aWV3ZXIuXG4gICAqIEByZXR1cm5zIHtVc2VyVHlwZX1cbiAgICovXG4gIGdldFVzZXJNb2RlICgpOiBVc2VyVHlwZSB7XG4gICAgY29uc3QgeyB1c2VyTW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICByZXR1cm4gdXNlck1vZGU7XG4gIH1cblxuICBzZXRTZWxlY3RMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICAgIFNlbGVjdC5jbGlja1NlbGVjdCgnLmFjdGl2ZS1wYWdlID4gc3ZnID4gc3ZnLCAuYWN0aXZlLXBhZ2UgPiBzdmcgPiBzdmcgdXNlLCAuYWN0aXZlLXBhZ2UgPiBzdmcgPiBzdmcgcmVjdCcpO1xuICAgIFNlbGVjdC5kcmFnU2VsZWN0KCcuYWN0aXZlLXBhZ2Ugc3ZnJyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgRGl2YUVkaXQgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgYmluZEluc2VydFRhYnMsIGluaXRJbnNlcnRFZGl0Q29udHJvbHMsIGluaXRTZWxlY3Rpb25CdXR0b25zIH0gZnJvbSAnLi9Db250cm9scyc7XG5pbXBvcnQgeyBzZXRIaWdobGlnaHRPcHRpb24gfSBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCB7IGluaXRVbmRvUmVkb1BhbmVsIH0gZnJvbSAnLi4vdXRpbHMvRWRpdENvbnRyb2xzJztcbmltcG9ydCAqIGFzIFNlbGVjdCBmcm9tICcuLi91dGlscy9TZWxlY3QnO1xuaW1wb3J0IEluc2VydEhhbmRsZXIgZnJvbSAnLi9JbnNlcnRIYW5kbGVyJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4vU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi4vdXRpbHMvRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgTmV1bWVFZGl0SW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgKiBhcyBDb250ZW50cyBmcm9tICcuL0NvbnRlbnRzJztcbmltcG9ydCB7IHVuZG9SZWRvUGFuZWwgfSBmcm9tICcuLi91dGlscy9FZGl0Q29udGVudHMnO1xuaW1wb3J0IHsgaW5pdE5hdmJhciB9IGZyb20gJy4uL3V0aWxzL0VkaXRDb250cm9scyc7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgVXNlclR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogQW4gRWRpdCBNb2R1bGUgZm9yIGEgc2luZ2xlIHBhZ2Ugb2YgYSBtYW51c2NyaXB0LlxuICogV29ya3Mgd2l0aCB0aGUgU2luZ2xlVmlldyBtb2R1bGUuXG4gKi9cbmNsYXNzIFNpbmdsZUVkaXRNb2RlIGltcGxlbWVudHMgTmV1bWVFZGl0SW50ZXJmYWNlIHtcbiAgbmVvblZpZXc6IE5lb25WaWV3O1xuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXI7XG4gIGluc2VydEhhbmRsZXI6IEluc2VydEhhbmRsZXI7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYW4gRWRpdE1vZGUgb2JqZWN0LlxuICAgKiBAcGFyYW0ge05lb25WaWV3fSBuZW9uVmlldyAtIFRoZSBOZW9uVmlldyBwYXJlbnQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuaW5pdEVkaXRNb2RlKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBFZGl0IG1vZGUgKGRlZmF1bHQpLlxuICAgKi9cbiAgaW5pdEVkaXRNb2RlICgpOiB2b2lkIHtcblxuICAgIGluaXROYXZiYXIodGhpcy5uZW9uVmlldyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9jb250cm9scycpLmlubmVySFRNTCArPSBDb250ZW50cy5pbnNlcnRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0X2NvbnRyb2xzJykuaW5uZXJIVE1MICs9IENvbnRlbnRzLmVkaXRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvUmVkb19jb250cm9scycpLmlubmVySFRNTCA9IHVuZG9SZWRvUGFuZWw7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcjc3ZnX2dyb3VwJyk7XG4gICAgdGhpcy5pbnNlcnRIYW5kbGVyID0gbmV3IEluc2VydEhhbmRsZXIodGhpcy5uZW9uVmlldywgJyNzdmdfZ3JvdXAnKTtcbiAgICBiaW5kSW5zZXJ0VGFicyh0aGlzLmluc2VydEhhbmRsZXIpO1xuICAgIGNvbnN0IHsgaW5zZXJ0VGFiIH0gPSBnZXRTZXR0aW5ncygpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluc2VydFRhYikuY2xpY2soKTtcbiAgICBTZWxlY3Quc2V0U2VsZWN0SGVscGVyT2JqZWN0cyh0aGlzLm5lb25WaWV3LCB0aGlzLmRyYWdIYW5kbGVyKTtcbiAgICB0aGlzLnNldFNlbGVjdExpc3RlbmVycygpO1xuXG4gICAgU2VsZWN0T3B0aW9ucy5pbml0TmVvblZpZXcodGhpcy5uZW9uVmlldyk7XG4gICAgaW5pdEluc2VydEVkaXRDb250cm9scygpO1xuICAgIGluaXRTZWxlY3Rpb25CdXR0b25zKCk7XG4gICAgaW5pdFVuZG9SZWRvUGFuZWwodGhpcy5uZW9uVmlldyk7XG4gICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdzZWxlY3Rpb24nKTtcbiAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy5zZXRTZWxlY3RMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB1c2VyIG1vZGUgdGhhdCBOZW9uIGlzIGluLiBFaXRoZXIgaW5zZXJ0LCBlZGl0LCBvciB2aWV3ZXIuXG4gICAqIEByZXR1cm5zIHtVc2VyVHlwZX1cbiAgICovXG4gIGdldFVzZXJNb2RlICgpOiBVc2VyVHlwZSB7XG4gICAgY29uc3QgeyB1c2VyTW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICByZXR1cm4gdXNlck1vZGU7XG4gIH1cblxuICBzZXRTZWxlY3RMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICAgIFNlbGVjdC5jbGlja1NlbGVjdCgnI3N2Z19ncm91cCwgI3N2Z19ncm91cCB1c2UsICNzdmdfZ3JvdXAgcmVjdCcpO1xuICAgIFNlbGVjdC5kcmFnU2VsZWN0KCcjc3ZnX2dyb3VwJyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgU2luZ2xlRWRpdE1vZGUgYXMgZGVmYXVsdCB9O1xuIiwiLyoqIEBtb2R1bGUgSW5mb01vZHVsZSAqL1xuXG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBJbmZvSW50ZXJmYWNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IEF0dHJpYnV0ZXMsIENsZWZBdHRyaWJ1dGVzIH0gZnJvbSAnLi9UeXBlcyc7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncywgc2V0U2V0dGluZ3MgfSBmcm9tICcuL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IHsgdXBkYXRlRGlzcGxheUFsbEJ0biB9IGZyb20gJy4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5cbi8qKlxuICogTWFwIG9mIGNvbnRvdXJzIHRvIG5ldW1lIG5hbWVzLlxuICovXG5jb25zdCBuZXVtZUdyb3VwcyA9IG5ldyBNYXAoXG4gIFtbJycsICdQdW5jdHVtJ10sIFsndScsICdQZXMnXSwgWydkJywgJ0NsaXZpcyddLCBbJ3V1JywgJ1NjYW5kaWN1cyddLCBbJ3VkJywgJ1RvcmN1bHVzJ10sIFsnZHUnLCAnUG9ycmVjdHVzJ10sIFsncycsICdEaXN0cm9waGEnXSwgWydzcycsICdUcmlzdG9waGEnXSxcbiAgICBbJ3NkJywgJ1ByZXNzdXMnXSwgWydkZCcsICdDbGltYWN1cyddLCBbJ2RkdScsICdDbGltYWN1c1Jlc3VwaW51cyddLCBbJ3VkdScsICdUb3JjdWx1c1Jlc3VwaW51cyddLCBbJ2R1ZCcsICdQb3JyZWN0dXNGbGV4dXMnXSxcbiAgICBbJ3VkZCcsICdQZXNTdWJwdW5jdGlzJ10sIFsndXVkJywgJ1NjYW5kaWN1c0ZsZXh1cyddLCBbJ3V1ZGQnLCAnU2NhbmRpY3VzU3VicHVuY3RpcyddLCBbJ2R1ZGQnLCAnUG9ycmVjdHVzU3VicHVuY3RpcyddXVxuKTtcblxuZnVuY3Rpb24gc3RhcnRJbmZvVmlzaWJpbGl0eSAoKTogdm9pZCB7XG4gIGNvbnN0IGVsZW1lbnRJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VsZW1lbnRfaW5mbycpO1xuICBlbGVtZW50SW5mby5pbm5lckhUTUwgPVxuICAgIGA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtaGVhZGVyXCI+RWxlbWVudCBJbmZvPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtYm9keVwiPjxpPkhvdmVyIG92ZXIgYW55IGVsZW1lbnQgdG8gc2VlIGl0cyBtZXRhZGF0YTwvaT48L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWxlbWVudF9pbmZvJykuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OiBub25lJyk7XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSB2aXNpYmlsaXR5IG9mIGluZm9Cb3hcbiAqL1xuZnVuY3Rpb24gdXBkYXRlSW5mb1Zpc2liaWxpdHkgKCk6IHZvaWQge1xuICBjb25zdCBlbGVtZW50SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbGVtZW50X2luZm8nKTtcbiAgY29uc3QgZGlzcGxheUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBcbiAgLy8gc2F2ZSBzZXR0aW5nIHRvIGxvY2FsU3RvcmFnZVxuICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlJbmZvOiBkaXNwbGF5SW5mby5jaGVja2VkIH0pO1xuXG4gIGlmIChkaXNwbGF5SW5mby5jaGVja2VkKSB7XG4gICAgZWxlbWVudEluZm8uc2V0QXR0cmlidXRlKCdzdHlsZScsICcnKTtcbiAgICAvLyBzY3JvbGwgbmV1bWUgaW5mbyBpbnRvIHZpZXdcbiAgICAvL2VsZW1lbnRJbmZvLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnRJbmZvLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogbm9uZScpO1xuICB9XG4gIHVwZGF0ZURpc3BsYXlBbGxCdG4oKTtcbn1cblxuLyoqXG4gKiBMb2FkIGRpc3BsYXlJbmZvIHNldHRpbmdzIGZyb20gbG9jYWxTdG9yYWdlXG4gKi9cbmZ1bmN0aW9uIGxvYWRTZXR0aW5ncyAoKTogdm9pZCB7XG4gIGNvbnN0IHsgZGlzcGxheUluZm8gfSA9IGdldFNldHRpbmdzKCk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNkaXNwbGF5SW5mbycpLmNoZWNrZWQgPSBkaXNwbGF5SW5mbztcbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gaW5mbyB2aXNpYmlsaXR5IGNoZWNrYm94LlxuICovXG5mdW5jdGlvbiBzZXRJbmZvQ29udHJvbHMgKCk6IHZvaWQge1xuICBzdGFydEluZm9WaXNpYmlsaXR5KCk7XG4gIGxvYWRTZXR0aW5ncygpO1xuICB1cGRhdGVJbmZvVmlzaWJpbGl0eSgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVwZGF0ZUluZm9WaXNpYmlsaXR5KTtcbn1cblxuLyoqXG4gKiBDbGFzcyB0aGF0IG1hbmFnZXMgZ2V0dGluZyBpbmZvcm1hdGlvbiBmb3IgZWxlbWVudHMgaW4gTmVvbiBmcm9tIFZlcm92aW8uXG4gKi9cbmNsYXNzIEluZm9Nb2R1bGUgaW1wbGVtZW50cyBJbmZvSW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBuZW9uVmlldzogTmVvblZpZXc7XG4gIGlzSG92ZXJpbmdDaGlsZDogYm9vbGVhbjtcblxuICAvKipcbiAgICogQSBjb25zdHJ1Y3RvciBmb3IgYW4gSW5mb01vZHVsZS5cbiAgICogQHBhcmFtIHtOZW9uVmlld30gbmVvblZpZXcgLSBUaGUgTmVvblZpZXcgcGFyZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICAvLyBBZGQgaW5mbyBib3ggZW5hYmxlL2Rpc2FibGUgY2hlY2sgYm94XG4gICAgY29uc3QgY2hlY2tib3hlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LXNpbmdsZS1jb250YWluZXInKTtcbiAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgbGFiZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtY29udGFpbmVyJywgJ3NpZGUtcGFuZWwtYnRuJyk7XG4gICAgbGFiZWwudGV4dENvbnRlbnQgPSAnSW5mbyc7XG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGlucHV0LmlkID0gJ2Rpc3BsYXlJbmZvJztcbiAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgIGlucHV0LnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIGlucHV0LmNoZWNrZWQgPSBmYWxzZTtcbiAgICBsYWJlbC5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgY2hlY2tib3hlc0NvbnRhaW5lci5wcmVwZW5kKGxhYmVsKTtcblxuICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLnJlc2V0SW5mb0xpc3RlbmVycy5iaW5kKHRoaXMpKTtcbiAgICBzZXRJbmZvQ29udHJvbHMoKTtcbiAgICB0aGlzLnJlc2V0SW5mb0xpc3RlbmVycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBsaXN0ZW5lcnMgZm9yIHRoZSBJbmZvTW9kdWxlLlxuICAgKiBUcmlnZ2VyIGFjdGlvbiBvbiBtb3VzZW92ZXIgb2Ygc3BlY2lmaWMgbXVzaWNhbCBlbGVtZW50IGNsYXNzZXMuXG4gICAqL1xuICBpbmZvTGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlLXBhZ2UnKVswXVxuICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lLC5jdXN0b3MsLmNsZWYsLmFjY2lkLC5kaXZMaW5lLC5zdGFmZicpXG4gICAgICAgIC5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIW5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB0aGlzLmlzSG92ZXJpbmdDaGlsZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUluZm8oZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlLXBhZ2UnKVswXVxuICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lLC5jdXN0b3MsLmNsZWYsLmFjY2lkLC5kaXZMaW5lJylcbiAgICAgICAgLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc0hvdmVyaW5nQ2hpbGQgPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIGxpc3RlbmVycyBmb3IgdGhlIEluZm9Nb2R1bGUuXG4gICAqL1xuICBzdG9wTGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUsLmN1c3RvcywuY2xlZiwuYWNjaWQsLmRpdkxpbmUsLnN0YWZmJykuZm9yRWFjaChub2RlID0+IHtcbiAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy51cGRhdGVJbmZvLmJpbmQodGhpcykpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZSwgLmN1c3RvcywgLmNsZWYsIC5hY2NpZCwgLmRpdkxpbmUnKS5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmlzSG92ZXJpbmdDaGlsZCA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdGFydCBsaXN0ZW5lcnMgZm9yIHRoZSBJbmZvTW9kdWxlLlxuICAgKi9cbiAgcmVzZXRJbmZvTGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmluZm9MaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdXBkYXRlZCBpbmZvIGZvciB0aGUgY2FsbGluZyBlbGVtZW50IGJhc2VkIG9uIGl0cyBlbGVtZW50IHR5cGUuXG4gICAqIE1ha2VzIGNhbGxzIHRvIE5lb25Db3JlIHRvIGdldCB0aGUgaW5mb3JtYXRpb24gbmVjZXNzYXJ5LlxuICAgKi9cbiAgYXN5bmMgdXBkYXRlSW5mbyAoZXZlbnQ6IE1vdXNlRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gRm9yIG5vdywgc2luY2UgQ2xlZnMgZG8gbm90IGhhdmUgdGhlaXIgb3duIGVsZW1lbnQgdGFnIGluIG1laTQsIHRoZXJlIGlzIG5vdCBhIHdheSB0byBzZWxlY3QgdGhlIDxnPiBlbGVtZW50XG4gIC8vIFNvIHdlIHdpbGwgc2ltcGx5IHJldHVybiBpZiBJRCBkb2VzIG5vdCBleGlzdCBmb3Igbm93XG4gICAgY29uc3QgaWQgPSAoZXZlbnQuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQ7XG4gICAgaWYgKGlkID09PSAnJykge1xuICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWxlbWVudF9pbmZvJykuY2hpbGRyZW4pLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICBjaGlsZC5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ05vIGlkIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgY29uc3QgY2xhc3NSZSA9IC9uZXVtZXxjbGVmfGN1c3Rvc3xzdGFmZnxhY2NpZHxkaXZMaW5lLztcbiAgICBjb25zdCBlbGVtZW50Q2xhc3MgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKS5tYXRjaChjbGFzc1JlKVswXTtcbiAgICBsZXQgYm9keSA9ICcnO1xuICAgIGxldCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzO1xuXG4gICAgLy8gR2V0cyB0aGUgcGl0Y2hlcyBkZXBlbmRpbmcgb24gZWxlbWVudCB0eXBlIGFuZFxuICAgIHN3aXRjaCAoZWxlbWVudENsYXNzKSB7XG4gICAgICBjYXNlICduZXVtZSc6IHtcbiAgICAgICAgLy8gU2VsZWN0IG5ldW1lIGNvbXBvbmVudHMgb2Ygc2VsZWN0ZWQgbmV1bWVcbiAgICAgICAgY29uc3QgbmNzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMnKSBhcyBOb2RlTGlzdE9mPFNWR0dyYXBoaWNzRWxlbWVudD47XG4gICAgICAgIGlmIChuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgYXR0cjogQXR0cmlidXRlcyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmNzWzBdLmlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgICAgaWYgKGF0dHIuY3VydmUgPT09ICdhJyB8fCBhdHRyLmN1cnZlID09PSAnYycpIHtcbiAgICAgICAgICAgIGxldCBwaXRjaGVzID0gYXdhaXQgdGhpcy5nZXRQaXRjaGVzKG5jcyk7XG5cbiAgICAgICAgICAgIHBpdGNoZXMgPSBwaXRjaGVzLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYm9keSA9ICdTaGFwZTogTGlxdWVzY2VudCcgKyAnXFxyXFxuJyArXG4gICAgICAgICAgICAgICAgICAgICdQaXRjaChlcyk6ICcgKyBwaXRjaGVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvbnRvdXIgPSBhd2FpdCB0aGlzLmdldENvbnRvdXIobmNzKTtcbiAgICAgICAgaWYgKG5jcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjb25zdCBhdHRyOiBBdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihuY3NbMF0uaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICAgICAgICBpZihhdHRyLnRpbHQgPT09ICdzJykge1xuICAgICAgICAgICAgbGV0IHBpdGNoZXMgPSBhd2FpdCB0aGlzLmdldFBpdGNoZXMobmNzKTtcblxuICAgICAgICAgICAgcGl0Y2hlcyA9IHBpdGNoZXMudHJpbSgpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBib2R5ID0gJ1NoYXBlOiBWaXJnYSBcXHJcXG4nICArXG4gICAgICAgICAgICAgICAgICAgICdQaXRjaChlcyk6ICcgKyBwaXRjaGVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYoYXR0ci50aWx0ID09PSAnbicpe1xuICAgICAgICAgICAgbGV0IHBpdGNoZXMgPSBhd2FpdCB0aGlzLmdldFBpdGNoZXMobmNzKTtcblxuICAgICAgICAgICAgcGl0Y2hlcyA9IHBpdGNoZXMudHJpbSgpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBib2R5ID0gJ1NoYXBlOiBSZXZlcnNlZCBWaXJnYSBcXHJcXG4nICArXG4gICAgICAgICAgICAgICAgICAgICdQaXRjaChlcyk6ICcgKyBwaXRjaGVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250b3VyID09PSAnQ2xpdmlzJykge1xuICAgICAgICAgIGNvbnN0IGF0dHI6IEF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKG5jc1swXS5pZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgICAgIGlmIChhdHRyLmxpZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnRvdXIgPSAnTGlnYXR1cmUnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgcGl0Y2hlcyA9IGF3YWl0IHRoaXMuZ2V0UGl0Y2hlcyhuY3MpO1xuXG4gICAgICAgIHBpdGNoZXMgPSBwaXRjaGVzLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBib2R5ID0gJ1NoYXBlOiAnICsgKGNvbnRvdXIgPT09IHVuZGVmaW5lZCA/ICdDb21wb3VuZCcgOiBjb250b3VyKSArICdcXHJcXG4nICtcbiAgICAgICAgICAgICAgICAnUGl0Y2goZXMpOiAnICsgcGl0Y2hlcztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjdXN0b3MnOiB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKGlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgIGJvZHkgKz0gJ1BpdGNoOiAnICsgKGF0dHJpYnV0ZXNbJ3BuYW1lJ10pLnRvVXBwZXJDYXNlKCkgKyBhdHRyaWJ1dGVzWydvY3QnXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdhY2NpZCc6IHtcbiAgICAgICAgYXR0cmlidXRlcyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIoaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICAgICAgbGV0IHR5cGUgPSAnJztcbiAgICAgICAgaWYgKChhdHRyaWJ1dGVzWydhY2NpZCddKS50b1VwcGVyQ2FzZSgpID09ICdGJyl7XG4gICAgICAgICAgdHlwZSA9ICdGbGF0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKChhdHRyaWJ1dGVzWydhY2NpZCddKS50b1VwcGVyQ2FzZSgpID09ICdOJyl7XG4gICAgICAgICAgdHlwZSA9ICdOYXR1cmFsJztcbiAgICAgICAgfVxuICAgICAgICBib2R5ICs9ICdBY2NpZCBUeXBlOiAnICsgdHlwZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjbGVmJzoge1xuICAgICAgICBjb25zdCBhdHRyID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihpZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpIGFzIENsZWZBdHRyaWJ1dGVzO1xuXG4gICAgICAgIC8vIElmIGNsZWYgaGFzIGJlZW4gZGlzcGxhY2VkLCBmb3JtYXQgYW5kIHNob3cgdGhlIGRpc3BsYWNlbWVudCBhc1xuICAgICAgICAvLyBudW1iZXIgb2Ygb2N0YXZlcyBub3QgbnVtYmVyIG9mIGZ1bGwgc3RlcHNcbiAgICAgICAgaWYgKGF0dHJbJ2Rpcy5wbGFjZSddICYmIGF0dHIuZGlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBDb21iaW5lIGFuZCBmb3JtYXQgYGRpcy5wbGFjZWAgYW5kIGBkaXNgOlxuICAgICAgICAgIC8vIEUuZy4sIGZvcm1hdCgnYWJvdmUnLCA4KSA9PiAnKzEnXG4gICAgICAgICAgLy8gRS5nLiwgZm9ybWF0KCdiZWxvdycsIDIyKSA9PiAnLTIyJ1xuICAgICAgICAgIGNvbnN0IGZvcm1hdCA9IChkaXNwbGFjZTogc3RyaW5nLCBkaXM6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGlyID0gZGlzcGxhY2UgPT09ICdhYm92ZScgPyAnKycgOiAnLSc7XG4gICAgICAgICAgICBjb25zdCBvY3RhdmUgPSBTdHJpbmcoTWF0aC5mbG9vcihOdW1iZXIoZGlzKSAvIDcpKTtcbiAgICAgICAgICAgIHJldHVybiBkaXIgKyBvY3RhdmU7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGJvZHkgKz0gJ09jdGF2ZSBEaXNwbGFjZW1lbnQ6ICcgKyBmb3JtYXQoYXR0clsnZGlzLnBsYWNlJ10sIGF0dHIuZGlzKSArICdcXHJcXG4nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJvZHkgKz0gJ09jdGF2ZSBEaXNwbGFjZW1lbnQ6IE5vbmVcXHJcXG4nO1xuICAgICAgICB9XG5cbiAgICAgICAgYm9keSArPSAnU2hhcGU6ICcgKyBhdHRyLnNoYXBlICsgJ1xcclxcbicgKyAnTGluZTogJyArIGF0dHIubGluZTtcblxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2RpdkxpbmUnOiB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKGlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgIGJvZHkgKz0gJ0RpdkxpbmUgVHlwZTogJyArIGF0dHJpYnV0ZXNbJ2Zvcm0nXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdzdGFmZic6IHtcbiAgICAgICAgaWYgKHRoaXMuaXNIb3ZlcmluZ0NoaWxkKSByZXR1cm47XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKGlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzWyd0eXBlJ10pIGJvZHkgKz0gJ0NvbHVtbjogJyArIGF0dHJpYnV0ZXNbJ3R5cGUnXS5yZXBsYWNlKC9eY29sdW1uLywgJycpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgYm9keSArPSAnbm90aGluZyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBib2R5ID0gYEVsZW1lbnQgVHlwZTogJHtlbGVtZW50Q2xhc3MuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBlbGVtZW50Q2xhc3Muc2xpY2UoMSl9XFxuJHtib2R5fWA7XG4gICAgdGhpcy51cGRhdGVJbmZvTW9kdWxlKGJvZHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaW5kaXZpZHVhbCBwaXRjaGVzIG9mIGEgbmV1bWUuXG4gICAqIEBwYXJhbSBuY3MgLSBOZXVtZSBjb21wb25lbnRzIGluIHRoZSBuZXVtZS5cbiAgICogQHJldHVybnMgU3BhY2Ugc2VwYXJhdGVkIHBpdGNoZXMgb2YgdGhlIG5ldW1lIGNvbXBvbmVudHMgaW4gb3JkZXIuXG4gICAqL1xuICBhc3luYyBnZXRQaXRjaGVzIChuY3M6IEl0ZXJhYmxlPFNWR0dyYXBoaWNzRWxlbWVudD4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGxldCBwaXRjaGVzID0gJyc7XG4gICAgZm9yIChjb25zdCBuYyBvZiBuY3MpIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZXM6IEF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKG5jLmlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICBwaXRjaGVzICs9IGF0dHJpYnV0ZXNbJ3BuYW1lJ10gKyBhdHRyaWJ1dGVzWydvY3QnXSArICcgJztcbiAgICB9XG4gICAgcmV0dXJuIHBpdGNoZXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb250b3VyIG9mIGEgbmV1bWUuXG4gICAqIEBwYXJhbSBuY3MgLSBOZXVtZSBjb21wb25lbnRzIGluIHRoZSBuZXVtZS5cbiAgICovXG4gIGFzeW5jIGdldENvbnRvdXIgKG5jczogSXRlcmFibGU8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbGV0IGNvbnRvdXIgPSAnJztcbiAgICBsZXQgcHJldmlvdXM6IEF0dHJpYnV0ZXMgPSBudWxsO1xuICAgIGZvciAoY29uc3QgbmMgb2YgbmNzKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihuYy5pZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgaWYgKHByZXZpb3VzICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChwcmV2aW91c1snb2N0J10gPiBhdHRyaWJ1dGVzWydvY3QnXSkge1xuICAgICAgICAgIGNvbnRvdXIgKz0gJ2QnO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZpb3VzWydvY3QnXSA8IGF0dHJpYnV0ZXNbJ29jdCddKSB7XG4gICAgICAgICAgY29udG91ciArPSAndSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMucGl0Y2hOYW1lVG9OdW0ocHJldmlvdXNbJ3BuYW1lJ10pIDwgdGhpcy5waXRjaE5hbWVUb051bShhdHRyaWJ1dGVzWydwbmFtZSddKSkge1xuICAgICAgICAgICAgY29udG91ciArPSAndSc7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBpdGNoTmFtZVRvTnVtKHByZXZpb3VzWydwbmFtZSddKSA+IHRoaXMucGl0Y2hOYW1lVG9OdW0oYXR0cmlidXRlc1sncG5hbWUnXSkpIHtcbiAgICAgICAgICAgIGNvbnRvdXIgKz0gJ2QnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250b3VyICs9ICdzJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHByZXZpb3VzID0gYXR0cmlidXRlcztcbiAgICB9XG4gICAgaWYgKG5ldW1lR3JvdXBzLmdldChjb250b3VyKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1Vua25vd24gY29udG91cjogJyArIGNvbnRvdXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV1bWVHcm91cHMuZ2V0KGNvbnRvdXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgYW5kIHVwZGF0ZSB0aGUgaW5mbyBib3guXG4gICAqIEBwYXJhbSBib2R5IC0gVGhlIGluZm8gYm94IGNvbnRlbnRzLlxuICAgKi9cbiAgdXBkYXRlSW5mb01vZHVsZSAoYm9keTogc3RyaW5nKTogdm9pZCB7XG4gICAgKDxIVE1MRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5mby1idWJibGUtYm9keScpWzBdKS5pbm5lclRleHQgPSBib2R5O1xuXG4gICAgaWYgKChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKSB7XG4gICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5mby1idWJibGUtY29udGFpbmVyJylbMF0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBhIHBpdGNoIG5hbWUgKGEtZykgdG8gYSBudW1iZXIgKHdoZXJlIGMgaXMgMSwgZCBpcyAyLCAuLi5hbmQgYiBpcyA3KS5cbiAgICogQHBhcmFtIHBuYW1lIC0gVGhlIHBpdGNoIG5hbWUuXG4gICAqIEByZXR1cm5zIEVxdWl2YWxlbnQgcGl0Y2ggbmFtZSBhcyBhIG51bWJlciBmcm9tIDEgdG8gNy5cbiAgICovXG4gIHBpdGNoTmFtZVRvTnVtIChwbmFtZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBzd2l0Y2ggKHBuYW1lKSB7XG4gICAgICBjYXNlICdjJzpcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICBjYXNlICdkJzpcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgICBjYXNlICdlJzpcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgICBjYXNlICdmJzpcbiAgICAgICAgcmV0dXJuIDQ7XG4gICAgICBjYXNlICdnJzpcbiAgICAgICAgcmV0dXJuIDU7XG4gICAgICBjYXNlICdhJzpcbiAgICAgICAgcmV0dXJuIDY7XG4gICAgICBjYXNlICdiJzpcbiAgICAgICAgcmV0dXJuIDc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBwaXRjaCBuYW1lJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIGNvbnRvdXIgb2YgYW4gbmV1bWUgZ3JvdXBpbmcgYmFzZWQgb24gdGhlIGdyb3VwaW5nIG5hbWUuXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBjb250b3VyIG5hbWUuXG4gICAqIEByZXR1cm5zIEJlc3QgZ3Vlc3MgbmFtZSBvZiB0aGUgbmV1bWUgc2hhcGUuXG4gICAqL1xuICBnZXRDb250b3VyQnlWYWx1ZSAodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgXG4gICAgZm9yIChjb25zdCBbY29udCwgdl0gb2YgbmV1bWVHcm91cHMuZW50cmllcygpKSB7XG4gICAgICBpZiAodiA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEluZm9Nb2R1bGUgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCB7IHVuc2VsZWN0IH0gZnJvbSAnLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgeyB1cGRhdGVEaXNwbGF5QWxsQnRuLCB1cGRhdGVIaWdobGlnaHQgfSBmcm9tICcuL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuaW1wb3J0IHsgVGV4dFZpZXdJbnRlcmZhY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MsIHNldFNldHRpbmdzIH0gZnJvbSAnLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuLypcbiAqIENsYXNzIHRoYXQgbWFuYWdlcyBnZXR0aW5nIHRoZSB0ZXh0IGZvciBzeWxsYWJsZXMgaW4gTmVvbiBmcm9tIHRoZSBtZWkgZmlsZVxuICovXG5jbGFzcyBUZXh0VmlldyBpbXBsZW1lbnRzIFRleHRWaWV3SW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBuZW9uVmlldzogTmVvblZpZXc7XG4gIC8qKiBXaGV0aGVyIG9yIG5vdCB0aGUgdXNlciBoYXMgYmVlbiBub3RpZmllZCBhYm91dCBibGFuayBzeWxsYWJsZXMuICovXG4gIHByaXZhdGUgbm90aWZpY2F0aW9uU2VudDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEEgY29uc3RydWN0b3IgZm9yIGEgVGV4dFZpZXcuXG4gICAqIEBwYXJhbSBuZW9uVmlldyAtIFRoZSBjYWxsaW5nIFtbTmVvblZpZXddXSBmb3IgdGhlIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLm5vdGlmaWNhdGlvblNlbnQgPSBmYWxzZTtcblxuICAgIC8vIGFkZCBjaGVja2JveCB0byBlbmFibGUvZGlzYWJsZSB0aGUgdmlld1xuICAgIGNvbnN0IGNoZWNrYm94ZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1zaW5nbGUtY29udGFpbmVyJyk7XG4gICAgY29uc3QgdGV4dExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBiYm94TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IHRleHRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNvbnN0IGJib3hCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIHRleHRCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICBiYm94QnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gICAgdGV4dExhYmVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LWNvbnRhaW5lcicsICdzaWRlLXBhbmVsLWJ0bicpO1xuICAgIGJib3hMYWJlbC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveC1jb250YWluZXInLCAnc2lkZS1wYW5lbC1idG4nKTtcbiAgICB0ZXh0TGFiZWwudGV4dENvbnRlbnQgPSAnVGV4dCc7XG4gICAgYmJveExhYmVsLnRleHRDb250ZW50ID0gJ0JCb3hlcyc7XG4gICAgdGV4dEJ1dHRvbi5pZCA9ICdkaXNwbGF5VGV4dCc7XG4gICAgdGV4dEJ1dHRvbi50eXBlID0gJ2NoZWNrYm94JztcbiAgICBiYm94QnV0dG9uLmlkID0gJ2Rpc3BsYXlCQm94JztcbiAgICBiYm94QnV0dG9uLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIHRleHRCdXR0b24uY2hlY2tlZCA9IGZhbHNlO1xuICAgIGJib3hCdXR0b24uY2hlY2tlZCA9IGZhbHNlO1xuICAgIHRleHRMYWJlbC5hcHBlbmRDaGlsZCh0ZXh0QnV0dG9uKTtcbiAgICBiYm94TGFiZWwuYXBwZW5kQ2hpbGQoYmJveEJ1dHRvbik7XG4gICAgY2hlY2tib3hlc0NvbnRhaW5lci5wcmVwZW5kKGJib3hMYWJlbCk7XG4gICAgY2hlY2tib3hlc0NvbnRhaW5lci5wcmVwZW5kKHRleHRMYWJlbCk7XG5cbiAgICB0aGlzLmxvYWRTZXR0aW5ncygpO1xuICAgIHRoaXMuc2V0VGV4dFZpZXdDb250cm9scygpO1xuICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLnVwZGF0ZVRleHRWaWV3VmlzaWJpbGl0eS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy51cGRhdGVCQm94VmlzaWJpbGl0eS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAqIFNldCBsaXN0ZW5lcnMgb24gdGV4dHZpZXcgdmlzaWJpbGl0eSBjaGVja2JveFxuICAqL1xuICBzZXRUZXh0Vmlld0NvbnRyb2xzICgpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZVRleHRWaWV3VmlzaWJpbGl0eSgpO1xuICAgIHRoaXMudXBkYXRlQkJveFZpc2liaWxpdHkoKTtcbiAgXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZVRleHRWaWV3VmlzaWJpbGl0eSgpO1xuICAgICAgdXBkYXRlRGlzcGxheUFsbEJ0bigpO1xuICAgIH0pO1xuICBcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlQkJveFZpc2liaWxpdHkoKTtcbiAgICAgIHVwZGF0ZURpc3BsYXlBbGxCdG4oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxvYWRTZXR0aW5ncyAoKTogdm9pZCB7XG4gICAgY29uc3QgeyBkaXNwbGF5VGV4dCwgZGlzcGxheUJCb3ggfSA9IGdldFNldHRpbmdzKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2Rpc3BsYXlUZXh0JykuY2hlY2tlZCA9IGRpc3BsYXlUZXh0O1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNkaXNwbGF5QkJveCcpLmNoZWNrZWQgPSBkaXNwbGF5QkJveDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdmlzaWJpbGl0eSBvZiB0ZXh0IGJvdW5kaW5nIGJveGVzXG4gICAqL1xuICB1cGRhdGVCQm94VmlzaWJpbGl0eSAoKTogdm9pZCB7XG5cbiAgICBjb25zdCBkaXNwbGF5QkJveGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBcbiAgICAvLyBzYXZlIHRvIGxvY2FsU3RvcmFnZVxuICAgIHNldFNldHRpbmdzKHsgZGlzcGxheUJCb3g6IGRpc3BsYXlCQm94ZXMuY2hlY2tlZCB9KTtcblxuICAgIGlmIChkaXNwbGF5QkJveGVzLmNoZWNrZWQpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdCcpLmZvckVhY2gocmVjdCA9PiB7XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LmFkZCgnc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ3N5bFRleHRSZWN0Jyk7XG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWwuc2VsZWN0ZWQgLnN5bFRleHRSZWN0LWRpc3BsYXknKVxuICAgICAgICAuZm9yRWFjaCgocmVjdDogSFRNTEVsZW1lbnQpID0+IHsgcmVjdC5zdHlsZS5maWxsID0gJ3JlZCc7IH0pO1xuXG4gICAgICBpZiAodGhpcy5uZW9uVmlldy5nZXRVc2VyTW9kZSgpICE9PSAndmlld2VyJyAmJiB0aGlzLm5lb25WaWV3LlRleHRFZGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5uZW9uVmlldy5UZXh0RWRpdC5pbml0U2VsZWN0QnlCQm94QnV0dG9uKCk7XG4gICAgICAgIHRoaXMubmVvblZpZXcuVGV4dEVkaXQuaW5pdEJCb3hDaXJjbGVTbGlkZXIoKTtcbiAgICAgICAgY29uc3QgeyBjaXJjbGVTaXplIH0gPSBnZXRTZXR0aW5ncygpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjY2lyY2xlT3V0cHV0JykudmFsdWUgPSBTdHJpbmcoY2lyY2xlU2l6ZSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNjaXJjbGVTbGlkZXInKS52YWx1ZSA9IFN0cmluZyhjaXJjbGVTaXplKTtcbiAgICAgIH1cbiAgICB9IFxuICAgIGVsc2Uge1xuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgICB1bnNlbGVjdCgpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN5bGxhYmxlJykuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICAgIHNldFNldHRpbmdzKHsgc2VsZWN0aW9uTW9kZTogICdzZWxCeVN5bGxhYmxlJyB9KTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ3N5bFRleHRSZWN0Jyk7XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWwuc2VsZWN0ZWQgLnN5bFRleHRSZWN0JykuZm9yRWFjaCgocmVjdDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ25vbmUnO1xuICAgICAgfSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfSBcbiAgICAgIGNhdGNoIChlKSB7fVxuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jib3gtY2lyY2xlLXNsaWRlcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9IFxuICAgICAgY2F0Y2ggKGUpIHt9XG4gICAgfVxuXG4gICAgdXBkYXRlSGlnaGxpZ2h0KCk7XG4gIH1cblxuICAvKipcbiAgKiBVcGRhdGUgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHRleHR2aWV3IGJveFxuICAqIGFuZCBhZGQgdGhlIGV2ZW50IGxpc3RlbmVycyB0byBtYWtlIHN1cmUgdGhlIHN5bCBoaWdobGlnaHRzIHdoZW4gbW91c2VkIG92ZXJcbiAgKi9cbiAgdXBkYXRlVGV4dFZpZXdWaXNpYmlsaXR5ICgpOiB2b2lkIHtcblxuICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBcbiAgICAvLyBzYXZlIHRvIGxvY2FsU3RvcmFnZVxuICAgIHNldFNldHRpbmdzKHsgZGlzcGxheVRleHQ6IGRpc3BsYXlUZXh0LmNoZWNrZWQgfSk7XG5cbiAgICBpZiAoZGlzcGxheVRleHQuY2hlY2tlZCkge1xuICAgICAgY29uc3Qgc3lsVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpO1xuICAgICAgc3lsVGV4dC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICBzeWxUZXh0LmlubmVySFRNTCA9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cImluZm8tYnViYmxlLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvLWJ1YmJsZS1oZWFkZXJcIj5TeWxsYWJsZXMgb24gdGhpcyBwYWdlPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImluZm8tYnViYmxlLWJvZHlcIj4ke3RoaXMuZ2V0U3lsVGV4dCgpfTwvZGl2PlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgY29uc3Qgc3BhbnMgPSBzeWxUZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4nKTtcbiAgICAgIHNwYW5zLmZvckVhY2goc3BhbiA9PiB7XG4gICAgICAgIGNvbnN0IHN5bGxhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3Bhbi5jbGFzc0xpc3RbMF0pO1xuICAgICAgICBjb25zdCBzeWwgPSBzeWxsYWJsZS5xdWVyeVNlbGVjdG9yKCcuc3lsJyk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBzeWwucXVlcnlTZWxlY3RvcigndGV4dCcpO1xuICAgICAgICBjb25zdCByZWN0ID0gc3lsLnF1ZXJ5U2VsZWN0b3IoJ3JlY3QnKTtcbiAgICAgICAgaWYgKHRleHQuY2xhc3NMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRleHQuY2xhc3NMaXN0LmFkZCgndGV4dCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3Bhbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHN5bGxhYmxlLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIHN5bGxhYmxlLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgc3lsbGFibGUucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykuZm9yRWFjaChuZXVtZSA9PiB7XG4gICAgICAgICAgICBuZXVtZS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChyZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHN5bC5hdHRyKCdmaWxsJywgJyNmZmM3YzcnKTtcbiAgICAgICAgICAvLyB0aGlzLmhpZ2hsaWdodEJvdW5kaW5nQm94KHNwYW4pO1xuICAgICAgICB9KTtcblxuICAgICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHN5bGxhYmxlLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIHN5bGxhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgc3lsbGFibGUucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykuZm9yRWFjaChuZXVtZSA9PiB7XG4gICAgICAgICAgICBuZXVtZS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChyZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoc3lsbGFibGUuc3R5bGUuZmlsbCAhPT0gJ3JnYigwLCAwLCAwKScpIHsgLy8gc3lsbGFibGUuZ2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvU1ZHJywgJ2ZpbGwnKTtcbiAgICAgICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCdmaWxsJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHN5bC5hdHRyKCdmaWxsJywgbnVsbCk7XG4gICAgICAgICAgLy8gdGhpcy5yZW1vdmVCb3VuZGluZ0JveChzcGFuKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMubmVvblZpZXcuZ2V0VXNlck1vZGUoKSAhPT0gJ3ZpZXdlcicgJiYgdGhpcy5uZW9uVmlldy5UZXh0RWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubmVvblZpZXcuVGV4dEVkaXQuaW5pdFRleHRFZGl0KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNjcm9sbCB0aGUgc3lsbGFibGUgdGV4dCBidWJibGUgaW50byB2aWV3XG4gICAgICAvL3N5bFRleHQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfSBcbiAgICBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3lsbGFibGUgdGV4dCBvZiB0aGUgbG9hZGVkIGZpbGVcbiAgICovXG4gIGdldFN5bFRleHQgKCk6IHN0cmluZyB7XG4gICAgbGV0IGx5cmljcyA9ICcnO1xuICAgIGNvbnN0IHVuaVRvRGFzaCA9IC9cXHVlNTUxL2c7XG4gICAgY29uc3Qgc3lsbGFibGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZS1wYWdlIC5zeWxsYWJsZScpO1xuICAgIHN5bGxhYmxlcy5mb3JFYWNoKHN5bGxhYmxlID0+IHtcbiAgICAgIGlmIChzeWxsYWJsZS5xdWVyeVNlbGVjdG9yKCcuc3lsJykgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3Qgc3lsID0gc3lsbGFibGUucXVlcnlTZWxlY3RvcignLnN5bCcpO1xuICAgICAgICBseXJpY3MgKz0gYDxzcGFuIGNsYXNzPVwiJHtzeWxsYWJsZS5pZH0gc3lsLXRleHQtc2lkZS1wYW5lbFwiPmA7XG4gICAgICAgIGlmIChzeWwudGV4dENvbnRlbnQudHJpbSgpID09PSAnJykge1xuICAgICAgICAgIGx5cmljcyArPSAnJiN4MjVDQTsgJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBBcnJheS5mcm9tKHN5bC5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbikuZm9yRWFjaCh0ZXh0ID0+IHtcbiAgICAgICAgICAgIGx5cmljcyArPSB0ZXh0LnRleHRDb250ZW50ICE9PSAnJyA/IHRleHQudGV4dENvbnRlbnQgOiAnJiN4MjVDQTsgJztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBseXJpY3MgKz0gJyA8L3NwYW4+JztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIXRoaXMubm90aWZpY2F0aW9uU2VudCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdCbGFuayBzeWxsYWJsZXMgYXJlIHJlcHJlc2VudGVkIGJ5IOKXiiEnKTtcbiAgICAgIHRoaXMubm90aWZpY2F0aW9uU2VudCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBseXJpY3MucmVwbGFjZSh1bmlUb0Rhc2gsICctJyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGV4dFZpZXcgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgdW5zZWxlY3QgfSBmcm9tICcuL3V0aWxzL1NlbGVjdFRvb2xzJztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuL3V0aWxzL0RyYWdIYW5kbGVyJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCB7XG4gIHNldFNlbGVjdEhlbHBlck9iamVjdHMsXG4gIGRyYWdTZWxlY3QsXG4gIGNsaWNrU2VsZWN0LFxufSBmcm9tICcuL3V0aWxzL1NlbGVjdCc7XG5pbXBvcnQgeyBzZXRHcm91cGluZ0hpZ2hsaWdodCB9IGZyb20gJy4vdXRpbHMvQ29sb3InO1xuaW1wb3J0IHsgVGV4dEVkaXRJbnRlcmZhY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi91dGlscy9Nb2RhbFdpbmRvdyc7XG5pbXBvcnQgeyBzZXRTZXR0aW5ncyB9IGZyb20gJy4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5pbXBvcnQgeyBzZXRDaXJjbGVTaXplQ29udHJvbHMgfSBmcm9tICcuL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuXG4vKipcbiAqIEZvcm1hdCBhIHN0cmluZyBmb3IgcHJvbXB0aW5nIHRoZSB1c2VyLlxuICogQHBhcmFtIHJhd1N0cmluZyAtIFRoZSB1bmZvcm1hdHRlZCBzdHJpbmcuXG4gKi9cbi8qXG5mdW5jdGlvbiBmb3JtYXRSYXcgKHJhd1N0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICByZXR1cm4gcmF3U3RyaW5nLnJlcGxhY2UocmVtb3ZlU3ltYm9sLCAnJykudHJpbSgpO1xufVxuKi9cblxuZnVuY3Rpb24gc2VsQnlCQm94TGlzdGVuZXIoKTogdm9pZCB7XG4gIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICB1bnNlbGVjdCgpO1xuICAgIHNldFNldHRpbmdzKHsgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5QkJveCcgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JylcbiAgICAgICAgLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeU5jJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOZXVtZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN5bGxhYmxlJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudFxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5TGF5ZXJFbGVtZW50JylcbiAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIGlmIChcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PVxuICAgICAgICAnaGlnaGxpZ2h0LXNlbGVjdGlvbidcbiAgICAgICkge1xuICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnc3lsbGFibGUnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHRoaXMuYWRkQkJveExpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIEEgVGV4dCBlZGl0aW5nIG1vZHVsZSB0aGF0IHdvcmtzIHdpdGggdGhlIFNpbmdsZVZpZXcgYW5kIERpdmFWaWV3IG1vZHVsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dEVkaXRNb2RlIGltcGxlbWVudHMgVGV4dEVkaXRJbnRlcmZhY2Uge1xuICBwcml2YXRlIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcjtcbiAgcHJpdmF0ZSBuZW9uVmlldzogTmVvblZpZXc7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBhIFRleHRFZGl0XG4gICAqIEBwYXJhbSBuZW9uVmlldyAtIFRoZSBjYWxsaW5nIFtbTmVvblZpZXddXSBmb3IgdGhlIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IobmVvblZpZXc6IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuaW5pdFRleHRFZGl0KCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRleHQgdG8gZWRpdCBtb2RlXG4gICAqL1xuICBpbml0VGV4dEVkaXQoKTogdm9pZCB7XG4gICAgY29uc3Qgc3BhbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuJyk7XG4gICAgY29uc3QgbW9kYWwgPSB0aGlzLm5lb25WaWV3Lm1vZGFsO1xuICAgIHNwYW5zLmZvckVhY2goKHNwYW46IEhUTUxTcGFuRWxlbWVudCkgPT4ge1xuICAgICAgZnVuY3Rpb24gc2VsZWN0U3lsVGV4dCgpOiB2b2lkIHtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZC10by1lZGl0Jyk7XG4gICAgICAgIG1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUKTtcbiAgICAgICAgbW9kYWwub3Blbk1vZGFsV2luZG93KCk7XG4gICAgICB9XG5cbiAgICAgIHNwYW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxlY3RTeWxUZXh0KTtcbiAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxlY3RTeWxUZXh0KTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5zaGlmdEtleSAmJiBldmVudC5rZXkgPT09ICdUJykge1xuICAgICAgICBjb25zdCBzZWxlY3RlZFN5bFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGV4dC1zZWxlY3QnKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkU3lsVGV4dCkge1xuICAgICAgICAgIHNlbGVjdGVkU3lsVGV4dC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgc2VsZWN0QnlCQm94IGJ1dHRvbi5cbiAgICogSWYgbmV1bWUgZWRpdCBtb2RlIGlzIHRoZXJlLCBhZGQgaXQgdG8gdGhlIGJhciB3aXRoIHRoZSBvdGhlciBzZWxlY3QgYnkgYnV0dG9ucy5cbiAgICogT3RoZXJ3aXNlIGFkZCBhbiBpbnZpc2libGUgYnV0dG9uXG4gICAqIHNpbmNlIHRoZSBvbmx5IGVkaXQgbW9kZSBpcyBzZWxlY3RCeVJlY3QgaW4gdGhhdCBjYXNlXG4gICAqL1xuICBpbml0U2VsZWN0QnlCQm94QnV0dG9uKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm5lb25WaWV3Lk5ldW1lRWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzZWxCeUJCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jyk7XG4gICAgICBpZiAoc2VsQnlCQm94KSB7XG4gICAgICAgIHNlbEJ5QkJveC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXInKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NpZGUtcGFuZWwtYnRuJywgJ3NlbC1ieScpO1xuICAgICAgYnV0dG9uLmlkID0gJ3NlbEJ5QkJveCc7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnQkJveCc7XG4gICAgICBibG9jay5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsQnlCQm94TGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICAgIGlmIChldnQua2V5ID09PSAnNicpIHtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLnN0eWxlLmRpc3BsYXkgPT09ICcnKSB7XG4gICAgICAgICAgICBzZWxCeUJCb3hMaXN0ZW5lci5iaW5kKHRoaXMpKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLmFkZEJCb3hMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZG8nKS5jbG9zZXN0KCcuY29udHJvbCcpO1xuICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHAuY2xhc3NMaXN0LmFkZCgnY29udHJvbCcpO1xuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnc2lkZS1wYW5lbC1idG4nLCAnc2VsLWJ5Jyk7XG4gICAgICBidXR0b24uaWQgPSAnc2VsQnlCQm94JztcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdCQm94JztcbiAgICAgIHAuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIGJsb2NrLmFwcGVuZENoaWxkKHApO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0aGlzLmFkZEJCb3hMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLmFkZEJCb3hMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgc2VsZWN0IGJ5IGJib3ggbW9kZVxuICAgKi9cbiAgYWRkQkJveExpc3RlbmVycygpOiB2b2lkIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBpZiAodGhpcy5uZW9uVmlldy5OZXVtZUVkaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBqdXN0IGluIGNhc2VcbiAgICAgICAgdGhpcy5kcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcihcbiAgICAgICAgICB0aGlzLm5lb25WaWV3LFxuICAgICAgICAgICcuc3lsVGV4dFJlY3QtZGlzcGxheScsXG4gICAgICAgICk7XG4gICAgICAgIHNldFNlbGVjdEhlbHBlck9iamVjdHModGhpcy5uZW9uVmlldywgdGhpcy5kcmFnSGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLm5lb25WaWV3LnZpZXcuY29uc3RydWN0b3IubmFtZSA9PT0gJ1NpbmdsZVZpZXcnKSB7XG4gICAgICAgICAgY2xpY2tTZWxlY3QoJyNtZWlfb3V0cHV0LCAjbWVpX291dHB1dCByZWN0Jyk7XG4gICAgICAgICAgZHJhZ1NlbGVjdCgnI3N2Z19ncm91cCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsaWNrU2VsZWN0KFxuICAgICAgICAgICAgJy5hY3RpdmUtcGFnZSA+IHN2ZyA+IHN2ZywgLmFjdGl2ZS1wYWdlID4gc3ZnID4gc3ZnIHJlY3QnLFxuICAgICAgICAgICk7XG4gICAgICAgICAgZHJhZ1NlbGVjdCgnLmFjdGl2ZS1wYWdlIHN2ZycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgYmJveCBjaXJjbGUgc2l6ZSBzbGlkZXIuXG4gICAqL1xuICBpbml0QkJveENpcmNsZVNsaWRlcigpOiB2b2lkIHtcbiAgICBjb25zdCBjaXJjbGVTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmJveC1jaXJjbGUtc2xpZGVyJyk7XG4gICAgaWYgKGNpcmNsZVNsaWRlcikge1xuICAgICAgY2lyY2xlU2xpZGVyLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzbGlkZXJTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktc2xpZGVyLXNlY3Rpb24nKTtcbiAgICBjb25zdCBjaXJjbGVTbGlkZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjaXJjbGVTbGlkZXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChcbiAgICAgICdzbGlkZXItYW5kLXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lcicsXG4gICAgICAnZGlzcGxheS1wYW5lbCcsXG4gICAgKTtcbiAgICBjaXJjbGVTbGlkZXJDb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xuICAgIGNpcmNsZVNsaWRlckNvbnRhaW5lci5pZCA9ICdiYm94LWNpcmNsZS1zbGlkZXInO1xuICAgIGNpcmNsZVNsaWRlckNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cInNsaWRlci1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGlzcGxheS1zbGlkZXItdGl0bGVcIj5CQm94IENpcmNsZTwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2xpZGVyLWJ0blwiIGlkPVwicmVzZXQtY2lyY2xlLXNpemVcIiB0aXRsZT1cIlJlc2V0IGNpcmNsZSBzaXplXCI+XG4gICAgICAgICAgICA8aW1nIGNsYXNzPVwic2xpZGVyLWJ0bi1pbWdcIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hcnJvdy1yb3RhdGUtbGVmdC1zb2xpZC5zdmdcIj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInNsaWRlci1jb250YWluZXJcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICBzdGVwPVwiMVwiIG1pbj1cIjBcIiBtYXg9XCI1MFwiIHZhbHVlPVwiMjVcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicmVzZXQtY2lyY2xlLXNpemVcIlxuICAgICAgICAgICAgY2xhc3M9XCJzbGlkZXIgaXMtZnVsbHdpZHRoIGlzLWxhcmdlXCJcbiAgICAgICAgICAgIGlkPVwiY2lyY2xlU2xpZGVyXCJcbiAgICAgICAgICAgIHN0eWxlPVwicGFkZGluZy1sZWZ0OiAxcmVtOyBwYWRkaW5nLXJpZ2h0OiAxcmVtO1wiXG4gICAgICAgICAgICBkaXNhYmxlZD1cImRpc2FibGVkXCJcbiAgICAgICAgLz5cbiAgICAgICAgPG91dHB1dCBpZD1cImNpcmNsZU91dHB1dFwiIGZvcj1cImNpcmNsZVNsaWRlclwiPjI1PC9vdXRwdXQ+XG4gICAgPC9kaXY+YDtcbiAgICBzbGlkZXJTZWN0aW9uLmFwcGVuZENoaWxkKGNpcmNsZVNsaWRlckNvbnRhaW5lcik7XG5cbiAgICBpZiAodGhpcy5uZW9uVmlldy5OZXVtZUVkaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY2lyY2xlU2xpZGVyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuXG4gICAgc2V0Q2lyY2xlU2l6ZUNvbnRyb2xzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCB7IHNldERPTUF0dHJpYnV0ZXMgYXMgc2V0QXR0cmlidXRlcyB9O1xuXG4vKipcbiAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIERPTSBlbGVtZW50LCBzZXQgYXR0cmlidXRlcyBvbiBpdCwgYW5kXG4gKiBhcHBlbmQgY2hpbGRyZW4uIEFsbCBhcmd1bWVudHMgd2hpY2ggYXJlIG5vdCBvZiBwcmltaXRpdmUgdHlwZSwgYXJlIG5vdFxuICogYXJyYXlzLCBhbmQgYXJlIG5vdCBET00gbm9kZXMgYXJlIHRyZWF0ZWQgYXMgYXR0cmlidXRlIGhhc2hlcyBhbmQgYXJlXG4gKiBoYW5kbGVkIGFzIGRlc2NyaWJlZCBmb3Igc2V0RE9NQXR0cmlidXRlcy4gQ2hpbGRyZW4gY2FuIGVpdGhlciBiZSBhIERPTVxuICogbm9kZSBvciBhIHByaW1pdGl2ZSB2YWx1ZSwgd2hpY2ggaXMgY29udmVydGVkIHRvIGEgdGV4dCBub2RlLiBBcnJheXMgYXJlXG4gKiBoYW5kbGVkIHJlY3Vyc2l2ZWx5LiBOdWxsIGFuZCB1bmRlZmluZWQgdmFsdWVzIGFyZSBpZ25vcmVkLlxuICpcbiAqIEluc3BpcmVkIGJ5IHRoZSBQcm9zZU1pcnJvciBoZWxwZXIgb2YgdGhlIHNhbWUgbmFtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsdCAodGFnKVxue1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG4gICAgd2hpbGUgKGFyZ3MubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXJnID0gYXJncy5zaGlmdCgpO1xuICAgICAgICBoYW5kbGVFbHRDb25zdHJ1Y3RvckFyZyhlbCwgYXJnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWw7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVsdENvbnN0cnVjdG9yQXJnIChlbCwgYXJnKVxue1xuICAgIGlmIChhcmcgPT0gbnVsbCkgIC8vIE5COiA9PSBpcyBjb3JyZWN0O1xuICAgICAgICByZXR1cm47XG5cbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIGFyZyAhPT0gJ2Z1bmN0aW9uJylcbiAgICB7XG4gICAgICAgIC8vIENvZXJjZSB0byBzdHJpbmdcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYXJnKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlKVxuICAgIHtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoYXJnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgQXJyYXkpXG4gICAge1xuICAgICAgICBjb25zdCBjaGlsZENvdW50ID0gYXJnLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZENvdW50OyBpKyspXG4gICAgICAgICAgICBoYW5kbGVFbHRDb25zdHJ1Y3RvckFyZyhlbCwgYXJnW2ldKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgc2V0RE9NQXR0cmlidXRlcyhlbCwgYXJnKTtcbiAgICB9XG59XG5cbi8qKlxuICogU2V0IGF0dHJpYnV0ZXMgb2YgYSBET00gZWxlbWVudC4gVGhlIGBzdHlsZWAgcHJvcGVydHkgaXMgc3BlY2lhbC1jYXNlZCB0b1xuICogYWNjZXB0IGVpdGhlciBhIHN0cmluZyBvciBhbiBvYmplY3Qgd2hvc2Ugb3duIGF0dHJpYnV0ZXMgYXJlIGFzc2lnbmVkIHRvXG4gKiBlbC5zdHlsZS5cbiAqL1xuZnVuY3Rpb24gc2V0RE9NQXR0cmlidXRlcyAoZWwsIGF0dHJpYnV0ZXMpXG57XG4gICAgZm9yIChjb25zdCBwcm9wIGluIGF0dHJpYnV0ZXMpXG4gICAge1xuICAgICAgICBpZiAoIWF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkocHJvcCkpXG4gICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICBpZiAocHJvcCA9PT0gJ3N0eWxlJylcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0U3R5bGUoZWwsIGF0dHJpYnV0ZXMuc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKHByb3AsIGF0dHJpYnV0ZXNbcHJvcF0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRTdHlsZSAoZWwsIHN0eWxlKVxue1xuICAgIGlmICghc3R5bGUpXG4gICAgICAgIHJldHVybjtcblxuICAgIGlmICh0eXBlb2Ygc3R5bGUgIT09ICdvYmplY3QnKVxuICAgIHtcbiAgICAgICAgZWwuc3R5bGUuY3NzVGV4dCA9IHN0eWxlO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjc3NQcm9wIGluIHN0eWxlKVxuICAgIHtcbiAgICAgICAgaWYgKCFzdHlsZS5oYXNPd25Qcm9wZXJ0eShjc3NQcm9wKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgIGVsLnN0eWxlW2Nzc1Byb3BdID0gc3R5bGVbY3NzUHJvcF07XG4gICAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIERpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb24gKG1lc3NhZ2UpXG57XG4gICAgdGhpcy5uYW1lID0gXCJEaXZhUGFyZW50RWxlbWVudE5vdEZvdW5kRXhjZXB0aW9uXCI7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbn1cblxuRGl2YVBhcmVudEVsZW1lbnROb3RGb3VuZEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5vdEFuSUlJRk1hbmlmZXN0RXhjZXB0aW9uIChtZXNzYWdlKVxue1xuICAgIHRoaXMubmFtZSA9IFwiTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb25cIjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xufVxuXG5Ob3RBbklJSUZNYW5pZmVzdEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIE9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbiAobWVzc2FnZSlcbntcbiAgICB0aGlzLm5hbWUgPSBcIk9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvblwiO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG59XG5cbk9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcbiIsImltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4vdXRpbHMvZXZlbnRzJztcblxuY29uc3QgZGl2YSA9IHtcbiAgICBFdmVudHM6IEV2ZW50cyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRpdmE7XG4iLCIvKipcbiAqIEV2ZW50cy4gUHViL1N1YiBzeXN0ZW0gZm9yIExvb3NlbHkgQ291cGxlZCBsb2dpYy5cbiAqIEJhc2VkIG9uIFBldGVyIEhpZ2dpbnMnIHBvcnQgZnJvbSBEb2pvIHRvIGpRdWVyeVxuICogaHR0cHM6Ly9naXRodWIuY29tL3BoaWdnaW5zNDIvYmxvb2R5LWpxdWVyeS1wbHVnaW5zL2Jsb2IvbWFzdGVyL3B1YnN1Yi5qc1xuICpcbiAqIFJlLWFkYXB0ZWQgdG8gdmFuaWxsYSBKYXZhc2NyaXB0XG4gKlxuICogQGNsYXNzIEV2ZW50c1xuICovXG5cbmNsYXNzIERpdmFFdmVudHNcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpdmEuRXZlbnRzLnB1Ymxpc2hcbiAgICAgKiBlLmcuOiBkaXZhLkV2ZW50cy5wdWJsaXNoKFwiUGFnZURpZExvYWRcIiwgW3BhZ2VJbmRleCwgZmlsZW5hbWUsIHBhZ2VTZWxlY3Rvcl0sIHRoaXMpO1xuICAgICAqXG4gICAgICogQGNsYXNzIEV2ZW50c1xuICAgICAqIEBtZXRob2QgcHVibGlzaFxuICAgICAqIEBwYXJhbSB0b3BpYyB7U3RyaW5nfVxuICAgICAqIEBwYXJhbSBhcmdzICB7QXJyYXl9XG4gICAgICogQHBhcmFtIHNjb3BlIHtPYmplY3Q9fSBPcHRpb25hbCAtIFN1YnNjcmliZWQgZnVuY3Rpb25zIHdpbGwgYmUgZXhlY3V0ZWQgd2l0aCB0aGUgc3VwcGxpZWQgb2JqZWN0IGFzIGB0aGlzYC5cbiAgICAgKiAgICAgSXQgaXMgbmVjZXNzYXJ5IHRvIHN1cHBseSB0aGlzIGFyZ3VtZW50IHdpdGggdGhlIHNlbGYgdmFyaWFibGUgd2hlbiB3aXRoaW4gYSBEaXZhIGluc3RhbmNlLlxuICAgICAqICAgICBUaGUgc2NvcGUgYXJndW1lbnQgaXMgbWF0Y2hlZCB3aXRoIHRoZSBpbnN0YW5jZSBJRCBvZiBzdWJzY3JpYmVycyB0byBkZXRlcm1pbmUgd2hldGhlciB0aGV5XG4gICAgICogICAgICAgICBzaG91bGQgYmUgZXhlY3V0ZWQuIChTZWUgaW5zdGFuY2VJRCBhcmd1bWVudCBvZiBzdWJzY3JpYmUuKVxuICAgICAqL1xuICAgIHB1Ymxpc2godG9waWMsIGFyZ3MsIHNjb3BlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlW3RvcGljXSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGhpc1RvcGljID0gdGhpcy5fY2FjaGVbdG9waWNdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXNUb3BpYy5nbG9iYWwgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNUb3BpY0dsb2JhbCA9IHRoaXNUb3BpYy5nbG9iYWw7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsQ291bnQgPSB0aGlzVG9waWNHbG9iYWwubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgZ2xvYmFsQ291bnQ7IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNUb3BpY0dsb2JhbFtpXS5hcHBseShzY29wZSB8fCBudWxsLCBhcmdzIHx8IFtdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzY29wZSAmJiB0eXBlb2Ygc2NvcGUuZ2V0SW5zdGFuY2VJZCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHB1Ymxpc2hlciBpbnN0YW5jZSBJRCBmcm9tIHNjb3BlIGFyZywgY29tcGFyZSwgYW5kIGV4ZWN1dGUgaWYgbWF0Y2hcbiAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZUlEID0gc2NvcGUuZ2V0SW5zdGFuY2VJZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNUb3BpY0luc3RhbmNlID0gdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29wZWRDb3VudCA9IHRoaXNUb3BpY0luc3RhbmNlLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqPTA7IGogPCBzY29wZWRDb3VudDsgaisrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzVG9waWNJbnN0YW5jZVtqXS5hcHBseShzY29wZSwgYXJncyB8fCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXZhLkV2ZW50cy5zdWJzY3JpYmVcbiAgICAgKiBlLmcuOiBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoXCJQYWdlRGlkTG9hZFwiLCBoaWdobGlnaHQsIHNldHRpbmdzLklEKVxuICAgICAqXG4gICAgICogQGNsYXNzIEV2ZW50c1xuICAgICAqIEBtZXRob2Qgc3Vic2NyaWJlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRvcGljXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGluc3RhbmNlSUQgIE9wdGlvbmFsIC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgSUQgb2YgYSBEaXZhIGluc3RhbmNlOyBpZiBwcm92aWRlZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrIG9ubHkgZmlyZXMgZm9yIGV2ZW50cyBwdWJsaXNoZWQgZnJvbSB0aGF0IGluc3RhbmNlLlxuICAgICAqIEByZXR1cm4gRXZlbnQgaGFuZGxlciB7QXJyYXl9XG4gICAgICovXG4gICAgc3Vic2NyaWJlKHRvcGljLCBjYWxsYmFjaywgaW5zdGFuY2VJRClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVbdG9waWNdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZVt0b3BpY10gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2VJRCA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jYWNoZVt0b3BpY11baW5zdGFuY2VJRF0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlW3RvcGljXS5nbG9iYWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVbdG9waWNdLmdsb2JhbCA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jYWNoZVt0b3BpY10uZ2xvYmFsLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlSUQgPyBbdG9waWMsIGNhbGxiYWNrLCBpbnN0YW5jZUlEXSA6IFt0b3BpYywgY2FsbGJhY2tdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpdmEuRXZlbnRzLnVuc3Vic2NyaWJlXG4gICAgICogZS5nLjogdmFyIGhhbmRsZSA9IEV2ZW50cy5zdWJzY3JpYmUoXCJQYWdlRGlkTG9hZFwiLCBoaWdobGlnaHQpO1xuICAgICAqICAgICAgICAgRXZlbnRzLnVuc3Vic2NyaWJlKGhhbmRsZSk7XG4gICAgICpcbiAgICAgKiBAY2xhc3MgRXZlbnRzXG4gICAgICogQG1ldGhvZCB1bnN1YnNjcmliZVxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGhhbmRsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGNvbXBsZXRlbHkgLSBVbnN1YnNjcmliZSBhbGwgZXZlbnRzIGZvciBhIGdpdmVuIHRvcGljLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHN1Y2Nlc3NcbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZShoYW5kbGUsIGNvbXBsZXRlbHkpXG4gICAge1xuICAgICAgICBjb25zdCB0ID0gaGFuZGxlWzBdO1xuXG4gICAgICAgIGlmICh0aGlzLl9jYWNoZVt0XSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRvcGljQXJyYXk7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZUlEID0gaGFuZGxlLmxlbmd0aCA9PT0gMyA/IGhhbmRsZVsyXSA6ICdnbG9iYWwnO1xuXG4gICAgICAgICAgICB0b3BpY0FycmF5ID0gdGhpcy5fY2FjaGVbdF1baW5zdGFuY2VJRF07XG5cbiAgICAgICAgICAgIGlmICghdG9waWNBcnJheSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb21wbGV0ZWx5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWNoZVt0XVtpbnN0YW5jZUlEXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9waWNBcnJheS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgaSA9IHRvcGljQXJyYXkubGVuZ3RoO1xuXG4gICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0b3BpY0FycmF5W2ldID09PSBoYW5kbGVbMV0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZVt0XVtpbnN0YW5jZUlEXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXZhLkV2ZW50cy51bnN1YnNjcmliZUFsbFxuICAgICAqIGUuZy46IGRpdmEuRXZlbnRzLnVuc3Vic2NyaWJlQWxsKCdnbG9iYWwnKTtcbiAgICAgKlxuICAgICAqIEBjbGFzcyBFdmVudHNcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGluc3RhbmNlSUQgT3B0aW9uYWwgLSBpbnN0YW5jZSBJRCB0byByZW1vdmUgc3Vic2NyaWJlcnMgZnJvbSBvciAnZ2xvYmFsJyAoaWYgb21pdHRlZCxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJzIGluIGFsbCBzY29wZXMgcmVtb3ZlZClcbiAgICAgKiBAbWV0aG9kIHVuc3Vic2NyaWJlQWxsXG4gICAgICovXG4gICAgdW5zdWJzY3JpYmVBbGwoaW5zdGFuY2VJRClcbiAgICB7XG4gICAgICAgIGlmIChpbnN0YW5jZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0b3BpY3MgPSBPYmplY3Qua2V5cyh0aGlzLl9jYWNoZSk7XG4gICAgICAgICAgICBsZXQgaSA9IHRvcGljcy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgdG9waWM7XG5cbiAgICAgICAgICAgIHdoaWxlIChpLS0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9waWMgPSB0b3BpY3NbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBsZXQgRXZlbnRzID0gbmV3IERpdmFFdmVudHMoKTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICBvbkRvdWJsZUNsaWNrLFxuICAgIG9uUGluY2gsXG4gICAgb25Eb3VibGVUYXBcbn07XG5cbmNvbnN0IERPVUJMRV9DTElDS19USU1FT1VUID0gNTAwO1xuY29uc3QgRE9VQkxFX1RBUF9ESVNUQU5DRV9USFJFU0hPTEQgPSA1MDtcbmNvbnN0IERPVUJMRV9UQVBfVElNRU9VVCA9IDI1MDtcblxuZnVuY3Rpb24gb25Eb3VibGVDbGljayhlbGVtLCBjYWxsYmFjaylcbntcbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZnVuY3Rpb24gKGV2ZW50KVxuICAgIHtcbiAgICAgICAgaWYgKCFldmVudC5jdHJsS2V5KVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZ2V0UmVsYXRpdmVPZmZzZXQoZXZlbnQuY3VycmVudFRhcmdldCwgZXZlbnQpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIHRoZSBjb250cm9sIGtleSBmb3IgbWFjcyAoaW4gY29uanVuY3Rpb24gd2l0aCBkb3VibGUtY2xpY2tpbmcpXG4gICAgLy8gRklYTUU6IERvZXMgYSBjbGljayBnZXQgaGFuZGxlZCB3aXRoIGN0cmwgcHJlc3NlZCBvbiBub24tTWFjcz9cbiAgICBjb25zdCB0cmFja2VyID0gY3JlYXRlRG91YmxlRXZlbnRUcmFja2VyKERPVUJMRV9DTElDS19USU1FT1VUKTtcblxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBmdW5jdGlvbiAoZXZlbnQpXG4gICAge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHJhY2tlci5pc1RyaWdnZXJlZCgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyYWNrZXIucmVzZXQoKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZ2V0UmVsYXRpdmVPZmZzZXQoZXZlbnQuY3VycmVudFRhcmdldCwgZXZlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFja2VyLnRyaWdnZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvblBpbmNoKGVsZW0sIGNhbGxiYWNrKVxue1xuICAgIGxldCBzdGFydERpc3RhbmNlID0gMDtcblxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChldmVudClcbiAgICB7XG4gICAgICAgIC8vIFByZXZlbnQgbW91c2UgZXZlbnQgZnJvbSBmaXJpbmdcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhcnREaXN0YW5jZSA9IGRpc3RhbmNlKFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRZLFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1sxXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1sxXS5jbGllbnRZXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gUHJldmVudCBtb3VzZSBldmVudCBmcm9tIGZpcmluZ1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0b3VjaGVzID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzO1xuXG4gICAgICAgICAgICBjb25zdCBtb3ZlRGlzdGFuY2UgPSBkaXN0YW5jZShcbiAgICAgICAgICAgICAgICB0b3VjaGVzWzBdLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgdG91Y2hlc1swXS5jbGllbnRZLFxuICAgICAgICAgICAgICAgIHRvdWNoZXNbMV0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICB0b3VjaGVzWzFdLmNsaWVudFlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHpvb21EZWx0YSA9IG1vdmVEaXN0YW5jZSAtIHN0YXJ0RGlzdGFuY2U7XG5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh6b29tRGVsdGEpID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3VjaENlbnRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZVg6ICh0b3VjaGVzWzBdLmNsaWVudFggKyB0b3VjaGVzWzFdLmNsaWVudFgpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgcGFnZVk6ICh0b3VjaGVzWzBdLmNsaWVudFkgKyB0b3VjaGVzWzFdLmNsaWVudFkpIC8gMlxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZ2V0UmVsYXRpdmVPZmZzZXQoZXZlbnQuY3VycmVudFRhcmdldCwgdG91Y2hDZW50ZXIpLCBzdGFydERpc3RhbmNlLCBtb3ZlRGlzdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uRG91YmxlVGFwKGVsZW0sIGNhbGxiYWNrKVxue1xuICAgIGNvbnN0IHRyYWNrZXIgPSBjcmVhdGVEb3VibGVFdmVudFRyYWNrZXIoRE9VQkxFX1RBUF9USU1FT1VUKTtcbiAgICBsZXQgZmlyc3RUYXAgPSBudWxsO1xuXG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChldmVudCkgPT5cbiAgICB7XG4gICAgICAgIC8vIFByZXZlbnQgbW91c2UgZXZlbnQgZnJvbSBmaXJpbmdcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBpZiAodHJhY2tlci5pc1RyaWdnZXJlZCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFja2VyLnJlc2V0KCk7XG5cbiAgICAgICAgICAgIC8vIERvdWJsZXRhcCBoYXMgb2NjdXJyZWRcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFRhcCA9IHtcbiAgICAgICAgICAgICAgICBwYWdlWDogZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHBhZ2VZOiBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIElmIGZpcnN0IHRhcCBpcyBjbG9zZSB0byBzZWNvbmQgdGFwIChwcmV2ZW50cyBpbnRlcmZlcmVuY2Ugd2l0aCBzY2FsZSBldmVudClcbiAgICAgICAgICAgIGNvbnN0IHRhcERpc3RhbmNlID0gZGlzdGFuY2UoZmlyc3RUYXAucGFnZVgsIGZpcnN0VGFwLnBhZ2VZLCBzZWNvbmRUYXAucGFnZVgsIHNlY29uZFRhcC5wYWdlWSk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IENvdWxkIGdpdmUgc29tZXRoaW5nIGhpZ2hlci1sZXZlbCB0aGFuIHNlY29uZFRhcCB0byBjYWxsYmFja1xuICAgICAgICAgICAgaWYgKHRhcERpc3RhbmNlIDwgRE9VQkxFX1RBUF9ESVNUQU5DRV9USFJFU0hPTEQpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXZlbnQsIGdldFJlbGF0aXZlT2Zmc2V0KGV2ZW50LmN1cnJlbnRUYXJnZXQsIHNlY29uZFRhcCkpO1xuXG4gICAgICAgICAgICBmaXJzdFRhcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBmaXJzdFRhcCA9IHtcbiAgICAgICAgICAgICAgICBwYWdlWDogZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHBhZ2VZOiBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyYWNrZXIudHJpZ2dlcigpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8vIFB5dGhhZ29yZWFuIHRoZW9yZW0gdG8gZ2V0IHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMgKHVzZWQgZm9yXG4vLyBjYWxjdWxhdGluZyBmaW5nZXIgZGlzdGFuY2UgZm9yIGRvdWJsZS10YXAgYW5kIHBpbmNoLXpvb20pXG5mdW5jdGlvbiBkaXN0YW5jZSh4MSwgeTEsIHgyLCB5MilcbntcbiAgICByZXR1cm4gTWF0aC5zcXJ0KCh4MiAtIHgxKSAqICh4MiAtIHgxKSArICh5MiAtIHkxKSAqICh5MiAtIHkxKSk7XG59XG5cbi8vIFV0aWxpdHkgdG8ga2VlcCB0cmFjayBvZiB3aGV0aGVyIGFuIGV2ZW50IGhhcyBiZWVuIHRyaWdnZXJlZCB0d2ljZVxuLy8gZHVyaW5nIGEgYSBnaXZlbiBkdXJhdGlvblxuZnVuY3Rpb24gY3JlYXRlRG91YmxlRXZlbnRUcmFja2VyKHRpbWVvdXREdXJhdGlvbilcbntcbiAgICBsZXQgdHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgbGV0IHRpbWVvdXRJZCA9IG51bGw7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0cmlnZ2VyKClcbiAgICAgICAge1xuICAgICAgICAgICAgdHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc2V0VGltZW91dCgpO1xuICAgICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRpbWVvdXRJZCA9IG51bGw7XG4gICAgICAgICAgICB9LCB0aW1lb3V0RHVyYXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBpc1RyaWdnZXJlZCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cmlnZ2VyZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgdHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXNldFRpbWVvdXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZXNldFRpbWVvdXQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRpbWVvdXRJZCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZU9mZnNldChlbGVtLCBwYWdlQ29vcmRzKVxue1xuICAgIGNvbnN0IGJvdW5kcyA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBwYWdlQ29vcmRzLnBhZ2VYIC0gYm91bmRzLmxlZnQsXG4gICAgICAgIHRvcDogcGFnZUNvb3Jkcy5wYWdlWSAtIGJvdW5kcy50b3BcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgZWx0IH0gZnJvbSAnLi91dGlscy9lbHQnO1xuLyoqXG4qXG4qXG4qKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2VUb29sc092ZXJsYXlcbntcbiAgICBjb25zdHJ1Y3RvciAocGFnZUluZGV4LCB2aWV3ZXJDb3JlKVxuICAgIHtcbiAgICAgICAgdGhpcy5wYWdlID0gcGFnZUluZGV4O1xuXG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUgPSB2aWV3ZXJDb3JlO1xuXG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKS5pbm5lckVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3BhZ2VUb29sc0VsZW0gPSBudWxsO1xuICAgICAgICB0aGlzLmxhYmVsV2lkdGggPSAwO1xuICAgIH1cblxuICAgIG1vdW50ICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcGFnZVRvb2xzRWxlbSA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9ucyA9IHRoaXMuX2luaXRpYWxpemVQYWdlVG9vbEJ1dHRvbnMoKTtcblxuICAgICAgICAgICAgdGhpcy5fcGFnZVRvb2xzRWxlbSA9IGVsdCgnZGl2JywgeyBjbGFzczogJ2RpdmEtcGFnZS10b29scy13cmFwcGVyJyB9LFxuICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2RpdmEtcGFnZS10b29scycgfSwgdGhpcy5fYnV0dG9ucylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3BhZ2VMYWJlbHNFbGVtID0gZWx0KCdkaXYnLCB7IGNsYXNzOiAnZGl2YS1wYWdlLWxhYmVscy13cmFwcGVyJ30sXG4gICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnZGl2YS1wYWdlLWxhYmVscycgfSwgdGhpcy5fdmlld2VyQ29yZS5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1t0aGlzLnBhZ2VdLmwpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9wYWdlVG9vbHNFbGVtKTtcbiAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3BhZ2VMYWJlbHNFbGVtKTtcbiAgICB9XG5cbiAgICBfaW5pdGlhbGl6ZVBhZ2VUb29sQnV0dG9ucyAoKVxuICAgIHtcbiAgICAgICAgLy8gQ2FsbGJhY2sgcGFyYW1ldGVyc1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgY29uc3QgcHVibGljSW5zdGFuY2UgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFB1YmxpY0luc3RhbmNlKCk7XG4gICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMucGFnZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdmlld2VyQ29yZS5nZXRQYWdlVG9vbHMoKS5tYXAoIChwbHVnaW4pID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vICEhISBUaGUgbm9kZSBuZWVkcyB0byBiZSBjbG9uZWQgb3RoZXJ3aXNlIGl0IGlzIGRldGFjaGVkIGZyb21cbiAgICAgICAgICAgIC8vICBvbmUgYW5kIHJlYXR0YWNoZWQgdG8gdGhlIG90aGVyLlxuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gcGx1Z2luLnBhZ2VUb29sc0ljb24uY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgdGhlIHBsdWdpbiBpbnN0YW5jZSBpcyBoYW5kZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGNhbGw7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgc2V0IHRoZSBjb250ZXh0IChpLmUuLCBgdGhpc2ApIG9mIHRoZSBoYW5kbGVDbGljayBjYWxsIHRvIHRoZSBwbHVnaW4gaW5zdGFuY2VcbiAgICAgICAgICAgIC8vIGl0c2VsZi5cbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwbHVnaW4uaGFuZGxlQ2xpY2suY2FsbChwbHVnaW4sIGV2ZW50LCBzZXR0aW5ncywgcHVibGljSW5zdGFuY2UsIHBhZ2VJbmRleCk7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChldmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGZpcmluZyBvZiBlbXVsYXRlZCBtb3VzZSBldmVudHNcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgcGx1Z2luLmhhbmRsZUNsaWNrLmNhbGwocGx1Z2luLCBldmVudCwgc2V0dGluZ3MsIHB1YmxpY0luc3RhbmNlLCBwYWdlSW5kZXgpO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9uO1xuXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVubW91bnQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2lubmVyRWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLl9wYWdlVG9vbHNFbGVtKTtcbiAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuX3BhZ2VMYWJlbHNFbGVtKTtcbiAgICB9XG5cbiAgICByZWZyZXNoICgpXG4gICAge1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VSZWdpb24odGhpcy5wYWdlLCB7XG4gICAgICAgICAgICBpbmNsdWRlUGFkZGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGluY29ycG9yYXRlVmlld3BvcnQ6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgd2luZG93IGlzIHJlc2l6ZWQgbGFyZ2VyLCBhIG1hcmdpbiBpcyBjcmVhdGVkIC0gbmVlZCB0byBzdWJ0cmFjdCB0aGlzIGZyb20gb2Zmc2V0c1xuICAgICAgICBsZXQgbWFyZ2luTGVmdCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX2lubmVyRWxlbWVudCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWxlZnQnKTtcblxuICAgICAgICB0aGlzLl9wYWdlVG9vbHNFbGVtLnN0eWxlLnRvcCA9IGAke3Bvcy50b3B9cHhgO1xuICAgICAgICB0aGlzLl9wYWdlVG9vbHNFbGVtLnN0eWxlLmxlZnQgPSBgJHtwb3MubGVmdCAtIHBhcnNlSW50KG1hcmdpbkxlZnQpfXB4YDtcblxuICAgICAgICB0aGlzLl9wYWdlTGFiZWxzRWxlbS5zdHlsZS50b3AgPSBgJHtwb3MudG9wfXB4YDtcbiAgICAgICAgdGhpcy5fcGFnZUxhYmVsc0VsZW0uc3R5bGUubGVmdCA9IGAke3Bvcy5yaWdodCAtIHBhcnNlSW50KG1hcmdpbkxlZnQpIC0gdGhpcy5sYWJlbFdpZHRoIC0gNX1weGA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgbWF4QnkgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFBhZ2VUb29sc092ZXJsYXkgZnJvbSAnLi9wYWdlLXRvb2xzLW92ZXJsYXknO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvY3VtZW50SGFuZGxlclxue1xuICAgIGNvbnN0cnVjdG9yICh2aWV3ZXJDb3JlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZSA9IHZpZXdlckNvcmU7XG4gICAgICAgIHRoaXMuX3ZpZXdlclN0YXRlID0gdmlld2VyQ29yZS5nZXRJbnRlcm5hbFN0YXRlKCk7XG4gICAgICAgIHRoaXMuX292ZXJsYXlzID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdlckNvcmUuZ2V0UGFnZVRvb2xzKCkubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBudW1QYWdlcyA9IHZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKS5udW1QYWdlcztcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1QYWdlczsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJsYXkgPSBuZXcgUGFnZVRvb2xzT3ZlcmxheShpLCB2aWV3ZXJDb3JlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vdmVybGF5cy5wdXNoKG92ZXJsYXkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUuYWRkUGFnZU92ZXJsYXkob3ZlcmxheSk7XG5cbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgZHVtbXkgbGFiZWwgZm9yIHdpZHRoIGNhbGN1bGF0aW9uXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSB0aGUgX3BhZ2VUb29sc0VsZW0gaXMgb25seSBjcmVhdGVkIG9uIG1vdW50XG4gICAgICAgICAgICAgICAgLy8gc28gdGhlcmUncyBubyBvdGhlciB3YXkgdG8gZ2V0IGl0cyB3aWR0aCBiZWZvcmUgdGhlIHBhZ2VzIGFyZSBsb2FkZWRcbiAgICAgICAgICAgICAgICAvLyAod2hpY2ggd2UgbmVlZCB0byBhdm9pZCB0aGVpciB3aWR0aCB0ZW1wb3JhcmlseSBiZWluZyAwIHdoaWxlIGxvYWRpbmcpXG4gICAgICAgICAgICAgICAgbGV0IGR1bW15TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgZHVtbXlMYWJlbC5pbm5lckhUTUwgPSB2aWV3ZXJDb3JlLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW2ldLmw7XG4gICAgICAgICAgICAgICAgZHVtbXlMYWJlbC5jbGFzc0xpc3QuYWRkKCdkaXZhLXBhZ2UtbGFiZWxzJyk7XG4gICAgICAgICAgICAgICAgZHVtbXlMYWJlbC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IGlubGluZS1ibG9jazsnKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGR1bW15TGFiZWwpO1xuICAgICAgICAgICAgICAgIGxldCBsYWJlbFdpZHRoID0gZHVtbXlMYWJlbC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGR1bW15TGFiZWwpO1xuXG4gICAgICAgICAgICAgICAgb3ZlcmxheS5sYWJlbFdpZHRoID0gbGFiZWxXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVTRVIgRVZFTlRTXG4gICAgb25Eb3VibGVDbGljayAoZXZlbnQsIGNvb3JkcylcbiAgICB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpO1xuICAgICAgICBjb25zdCBuZXdab29tTGV2ZWwgPSBldmVudC5jdHJsS2V5ID8gc2V0dGluZ3Muem9vbUxldmVsIC0gMSA6IHNldHRpbmdzLnpvb21MZXZlbCArIDE7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VQb3NpdGlvbkF0Vmlld3BvcnRPZmZzZXQoY29vcmRzKTtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS56b29tKG5ld1pvb21MZXZlbCwgcG9zaXRpb24pO1xuICAgIH1cblxuICAgIG9uUGluY2ggKGV2ZW50LCBjb29yZHMsIHN0YXJ0RGlzdGFuY2UsIGVuZERpc3RhbmNlKVxuICAgIHtcbiAgICAgICAgLy8gRklYTUU6IERvIHRoaXMgY2hlY2sgaW4gYSB3YXkgd2hpY2ggaXMgbGVzcyBzcGFnaGV0dGkgY29kZS15XG4gICAgICAgIGNvbnN0IHZpZXdlclN0YXRlID0gdGhpcy5fdmlld2VyQ29yZS5nZXRJbnRlcm5hbFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpO1xuXG4gICAgICAgIGxldCBuZXdab29tTGV2ZWwgPSBNYXRoLmxvZyhNYXRoLnBvdygyLCBzZXR0aW5ncy56b29tTGV2ZWwpICogZW5kRGlzdGFuY2UgLyAoc3RhcnREaXN0YW5jZSAqIE1hdGgubG9nKDIpKSkgLyBNYXRoLmxvZygyKTtcbiAgICAgICAgbmV3Wm9vbUxldmVsID0gTWF0aC5tYXgoc2V0dGluZ3MubWluWm9vbUxldmVsLCBuZXdab29tTGV2ZWwpO1xuICAgICAgICBuZXdab29tTGV2ZWwgPSBNYXRoLm1pbihzZXR0aW5ncy5tYXhab29tTGV2ZWwsIG5ld1pvb21MZXZlbCk7XG5cbiAgICAgICAgaWYgKG5ld1pvb21MZXZlbCA9PT0gc2V0dGluZ3Muem9vbUxldmVsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0UGFnZVBvc2l0aW9uQXRWaWV3cG9ydE9mZnNldChjb29yZHMpO1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpO1xuICAgICAgICBjb25zdCBjZW50ZXJPZmZzZXQgPSBsYXlvdXQuZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQocG9zaXRpb24uYW5jaG9yUGFnZSwgdmlld2VyU3RhdGUudmlld3BvcnQpO1xuICAgICAgICBjb25zdCBzY2FsZVJhdGlvID0gMSAvIE1hdGgucG93KDIsIHNldHRpbmdzLnpvb21MZXZlbCAtIG5ld1pvb21MZXZlbCk7XG5cbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5yZWxvYWQoe1xuICAgICAgICAgICAgem9vbUxldmVsOiBuZXdab29tTGV2ZWwsXG4gICAgICAgICAgICBnb0RpcmVjdGx5VG86IHBvc2l0aW9uLmFuY2hvclBhZ2UsXG4gICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiAoY2VudGVyT2Zmc2V0LnggLSBwb3NpdGlvbi5vZmZzZXQubGVmdCkgKyBwb3NpdGlvbi5vZmZzZXQubGVmdCAqIHNjYWxlUmF0aW8sXG4gICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldDogKGNlbnRlck9mZnNldC55IC0gcG9zaXRpb24ub2Zmc2V0LnRvcCkgKyBwb3NpdGlvbi5vZmZzZXQudG9wICogc2NhbGVSYXRpb1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBWSUVXIEVWRU5UU1xuICAgIG9uVmlld1dpbGxMb2FkICgpXG4gICAge1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goJ0RvY3VtZW50V2lsbExvYWQnLCB0aGlzLl92aWV3ZXJDb3JlLmdldFNldHRpbmdzKCkpO1xuICAgIH1cblxuICAgIG9uVmlld0RpZExvYWQgKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE86IFNob3VsZCBvbmx5IGJlIG5lY2Vzc2FyeSB0byBoYW5kbGUgY2hhbmdlcyBvbiB2aWV3IHVwZGF0ZSwgbm90XG4gICAgICAgIC8vIGluaXRpYWwgbG9hZFxuICAgICAgICB0aGlzLl9oYW5kbGVab29tTGV2ZWxDaGFuZ2UoKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50UGFnZUluZGV4ID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpLmFjdGl2ZVBhZ2VJbmRleDtcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VOYW1lKGN1cnJlbnRQYWdlSW5kZXgpO1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goXCJEb2N1bWVudERpZExvYWRcIiwgY3VycmVudFBhZ2VJbmRleCwgZmlsZU5hbWUpO1xuICAgIH1cblxuICAgIG9uVmlld0RpZFVwZGF0ZSAocmVuZGVyZWRQYWdlcywgdGFyZ2V0UGFnZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gKHRhcmdldFBhZ2UgIT09IG51bGwpID9cbiAgICAgICAgICAgIHRhcmdldFBhZ2UgOlxuICAgICAgICAgICAgZ2V0Q2VudGVybW9zdFBhZ2UocmVuZGVyZWRQYWdlcywgdGhpcy5fdmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCksIHRoaXMuX3ZpZXdlckNvcmUuZ2V0Vmlld3BvcnQoKSk7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSB2aXNpYmxlIHBhZ2VzIGZyb20gdGhlIHJlbmRlcmVkIHBhZ2VzXG4gICAgICAgIGxldCB0ZW1wID0gdGhpcy5fdmlld2VyU3RhdGUudmlld3BvcnQuaW50ZXJzZWN0aW9uVG9sZXJhbmNlO1xuICAgICAgICAvLyB3aXRob3V0IHNldHRpbmcgdG8gMCwgaXNQYWdlVmlzaWJsZSByZXR1cm5zIHRydWUgZm9yIHBhZ2VzIG91dCBvZiB2aWV3cG9ydCBieSBpbnRlcnNlY3Rpb25Ub2xlcmFuY2VcbiAgICAgICAgdGhpcy5fdmlld2VyU3RhdGUudmlld3BvcnQuaW50ZXJzZWN0aW9uVG9sZXJhbmNlID0gMDtcbiAgICAgICAgbGV0IHZpc2libGVQYWdlcyA9IHJlbmRlcmVkUGFnZXMuZmlsdGVyKGluZGV4ID0+IHRoaXMuX3ZpZXdlclN0YXRlLnJlbmRlcmVyLmlzUGFnZVZpc2libGUoaW5kZXgpKTtcbiAgICAgICAgLy8gcmVzZXQgYmFjayB0byBvcmlnaW5hbCB2YWx1ZSBhZnRlciBnZXR0aW5nIHRydWUgdmlzaWJsZSBwYWdlc1xuICAgICAgICB0aGlzLl92aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnRlcnNlY3Rpb25Ub2xlcmFuY2UgPSB0ZW1wO1xuXG4gICAgICAgIC8vIERvbid0IGNoYW5nZSB0aGUgY3VycmVudCBwYWdlIGlmIHRoZXJlIGlzIG5vIHBhZ2UgaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgIC8vIEZJWE1FOiBXb3VsZCBiZSBiZXR0ZXIgdG8gZmFsbCBiYWNrIHRvIHRoZSBwYWdlIGNsb3Nlc3QgdG8gdGhlIHZpZXdwb3J0XG4gICAgICAgIGlmIChjdXJyZW50UGFnZSAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5zZXRDdXJyZW50UGFnZXMoY3VycmVudFBhZ2UsIHZpc2libGVQYWdlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGFyZ2V0UGFnZSAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5wdWJsaXNoKFwiVmlld2VyRGlkSnVtcFwiLCB0YXJnZXRQYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hhbmRsZVpvb21MZXZlbENoYW5nZSgpO1xuICAgIH1cblxuICAgIF9oYW5kbGVab29tTGV2ZWxDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHZpZXdlclN0YXRlID0gdGhpcy5fdmlld2VyU3RhdGU7XG4gICAgICAgIGNvbnN0IHpvb21MZXZlbCA9IHZpZXdlclN0YXRlLm9wdGlvbnMuem9vbUxldmVsO1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgbm90IHRoZSBpbml0aWFsIGxvYWQsIHRyaWdnZXIgdGhlIHpvb20gZXZlbnRzXG4gICAgICAgIGlmICh2aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWwgIT09IHpvb21MZXZlbCAmJiB2aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWwgPj0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA8IHpvb21MZXZlbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goXCJWaWV3ZXJEaWRab29tSW5cIiwgem9vbUxldmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goXCJWaWV3ZXJEaWRab29tT3V0XCIsIHpvb21MZXZlbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucHVibGlzaChcIlZpZXdlckRpZFpvb21cIiwgem9vbUxldmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA9IHpvb21MZXZlbDtcbiAgICB9XG5cbiAgICBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9vdmVybGF5cy5mb3JFYWNoKChvdmVybGF5KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnJlbW92ZVBhZ2VPdmVybGF5KG92ZXJsYXkpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldENlbnRlcm1vc3RQYWdlIChyZW5kZXJlZFBhZ2VzLCBsYXlvdXQsIHZpZXdwb3J0KVxue1xuICAgIGNvbnN0IGNlbnRlclkgPSB2aWV3cG9ydC50b3AgKyAodmlld3BvcnQuaGVpZ2h0IC8gMik7XG4gICAgY29uc3QgY2VudGVyWCA9IHZpZXdwb3J0LmxlZnQgKyAodmlld3BvcnQud2lkdGggLyAyKTtcblxuICAgIC8vIEZpbmQgdGhlIG1pbmltdW0gZGlzdGFuY2UgZnJvbSB0aGUgdmlld3BvcnQgY2VudGVyIHRvIGEgcGFnZS5cbiAgICAvLyBDb21wdXRlIG1pbnVzIHRoZSBzcXVhcmVkIGRpc3RhbmNlIGZyb20gdmlld3BvcnQgY2VudGVyIHRvIHRoZSBwYWdlJ3MgYm9yZGVyLlxuICAgIC8vIGh0dHA6Ly9nYW1lZGV2LnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy80NDQ4My9ob3ctZG8taS1jYWxjdWxhdGUtZGlzdGFuY2UtYmV0d2Vlbi1hLXBvaW50LWFuZC1hbi1heGlzLWFsaWduZWQtcmVjdGFuZ2xlXG4gICAgY29uc3QgY2VudGVyUGFnZSA9IG1heEJ5KHJlbmRlcmVkUGFnZXMsIHBhZ2VJbmRleCA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgZGltcyA9IGxheW91dC5nZXRQYWdlRGltZW5zaW9ucyhwYWdlSW5kZXgpO1xuICAgICAgICBjb25zdCBpbWFnZU9mZnNldCA9IGxheW91dC5nZXRQYWdlT2Zmc2V0KHBhZ2VJbmRleCwge2luY2x1ZGVQYWRkaW5nOiB0cnVlfSk7XG5cbiAgICAgICAgY29uc3QgbWlkWCA9IGltYWdlT2Zmc2V0LmxlZnQgKyAoZGltcy53aWR0aCAvIDIpO1xuICAgICAgICBjb25zdCBtaWRZID0gaW1hZ2VPZmZzZXQudG9wICsgKGRpbXMuaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgY29uc3QgZHggPSBNYXRoLm1heChNYXRoLmFicyhjZW50ZXJYIC0gbWlkWCkgLSAoZGltcy53aWR0aCAvIDIpLCAwKTtcbiAgICAgICAgY29uc3QgZHkgPSBNYXRoLm1heChNYXRoLmFicyhjZW50ZXJZIC0gbWlkWSkgLSAoZGltcy5oZWlnaHQgLyAyKSwgMCk7XG5cbiAgICAgICAgcmV0dXJuIC0oZHggKiBkeCArIGR5ICogZHkpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNlbnRlclBhZ2UgIT0gbnVsbCA/IGNlbnRlclBhZ2UgOiBudWxsO1xufVxuIiwiaW1wb3J0IHsgbWF4QnkgfSBmcm9tICdsb2Rhc2gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkSGFuZGxlclxue1xuICAgIGNvbnN0cnVjdG9yICh2aWV3ZXJDb3JlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZSA9IHZpZXdlckNvcmU7XG4gICAgfVxuXG4gICAgLy8gVVNFUiBFVkVOVFNcbiAgICBvbkRvdWJsZUNsaWNrIChldmVudCwgY29vcmRzKVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VQb3NpdGlvbkF0Vmlld3BvcnRPZmZzZXQoY29vcmRzKTtcblxuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLl92aWV3ZXJDb3JlLmdldEN1cnJlbnRMYXlvdXQoKTtcbiAgICAgICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFZpZXdwb3J0KCk7XG4gICAgICAgIGNvbnN0IHBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0ID0gbGF5b3V0LmdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0KHBvc2l0aW9uLmFuY2hvclBhZ2UsIHZpZXdwb3J0KTtcblxuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnJlbG9hZCh7XG4gICAgICAgICAgICBpbkdyaWQ6IGZhbHNlLFxuICAgICAgICAgICAgZ29EaXJlY3RseVRvOiBwb3NpdGlvbi5hbmNob3JQYWdlLFxuICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogcGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQueCArIHBvc2l0aW9uLm9mZnNldC5sZWZ0LFxuICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IHBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0LnkgKyBwb3NpdGlvbi5vZmZzZXQudG9wXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUGluY2ggKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucmVsb2FkKHtpbkdyaWQ6IGZhbHNlfSk7XG4gICAgfVxuXG4gICAgLy8gVklFVyBFVkVOVFNcbiAgICBvblZpZXdXaWxsTG9hZCAoKVxuICAgIHtcbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogU2hvdWxkIHNvbWV0aGluZyBoYXBwZW4gaGVyZT9cbiAgICAgICAgLyogTm8tb3AgKi9cbiAgICB9XG5cbiAgICBvblZpZXdEaWRMb2FkICgpXG4gICAge1xuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBTaG91bGQgc29tZXRoaW5nIGhhcHBlbiBoZXJlP1xuICAgICAgICAvKiBOby1vcCAqL1xuICAgIH1cblxuICAgIG9uVmlld0RpZFVwZGF0ZSAocmVuZGVyZWRQYWdlcywgdGFyZ2V0UGFnZSlcbiAgICB7XG4gICAgICAgIC8vIHJldHVybiBlYXJseSBpZiB0aGVyZSBhcmUgbm8gcmVuZGVyZWQgcGFnZXMgaW4gdmlldy5cbiAgICAgICAgaWYgKHJlbmRlcmVkUGFnZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSB2aXNpYmxlIHBhZ2VzIGZyb20gdGhlIHJlbmRlcmVkIHBhZ2VzXG4gICAgICAgIGxldCB0ZW1wID0gdGhpcy5fdmlld2VyQ29yZS52aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG4gICAgICAgIC8vIHdpdGhvdXQgc2V0dGluZyB0byAwLCBpc1BhZ2VWaXNpYmxlIHJldHVybnMgdHJ1ZSBmb3IgcGFnZXMgb3V0IG9mIHZpZXdwb3J0IGJ5IGludGVyc2VjdGlvblRvbGVyYW5jZVxuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdGlvblRvbGVyYW5jZSA9IDA7XG4gICAgICAgIGxldCB2aXNpYmxlUGFnZXMgPSByZW5kZXJlZFBhZ2VzLmZpbHRlcihpbmRleCA9PiB0aGlzLl92aWV3ZXJDb3JlLnZpZXdlclN0YXRlLnJlbmRlcmVyLmlzUGFnZVZpc2libGUoaW5kZXgpKTtcbiAgICAgICAgLy8gcmVzZXQgYmFjayB0byBvcmlnaW5hbCB2YWx1ZSBhZnRlciBnZXR0aW5nIHRydWUgdmlzaWJsZSBwYWdlc1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdGlvblRvbGVyYW5jZSA9IHRlbXA7XG5cbiAgICAgICAgaWYgKHRhcmdldFBhZ2UgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUuc2V0Q3VycmVudFBhZ2VzKHRhcmdldFBhZ2UsIHZpc2libGVQYWdlcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWxlY3QgdGhlIGN1cnJlbnQgcGFnZSBmcm9tIHRoZSBmaXJzdCByb3cgaWYgaXQgaXMgZnVsbHkgdmlzaWJsZSwgb3IgZnJvbVxuICAgICAgICAvLyB0aGUgc2Vjb25kIHJvdyBpZiBpdCBpcyBmdWxseSB2aXNpYmxlLCBvciBmcm9tIHRoZSBjZW50ZXJtb3N0IHJvdyBvdGhlcndpc2UuXG4gICAgICAgIC8vIElmIHRoZSBjdXJyZW50IHBhZ2UgaXMgaW4gdGhhdCBncm91cCB0aGVuIGRvbid0IGNoYW5nZSBpdC4gT3RoZXJ3aXNlLCBzZXRcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgcGFnZSB0byB0aGUgZ3JvdXAncyBmaXJzdCBwYWdlLlxuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpO1xuICAgICAgICBjb25zdCBncm91cHMgPSBbXTtcblxuICAgICAgICByZW5kZXJlZFBhZ2VzLmZvckVhY2gocGFnZUluZGV4ID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbGF5b3V0LmdldFBhZ2VJbmZvKHBhZ2VJbmRleCkuZ3JvdXA7XG4gICAgICAgICAgICBpZiAoZ3JvdXBzLmxlbmd0aCA9PT0gMCB8fCBncm91cCAhPT0gZ3JvdXBzW2dyb3Vwcy5sZW5ndGggLSAxXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBncm91cHMucHVzaChncm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy5fdmlld2VyQ29yZS5nZXRWaWV3cG9ydCgpO1xuICAgICAgICBsZXQgY2hvc2VuR3JvdXA7XG5cbiAgICAgICAgaWYgKGdyb3Vwcy5sZW5ndGggPT09IDEgfHwgZ3JvdXBzWzBdLnJlZ2lvbi50b3AgPj0gdmlld3BvcnQudG9wKVxuICAgICAgICB7XG4gICAgICAgICAgICBjaG9zZW5Hcm91cCA9IGdyb3Vwc1swXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChncm91cHNbMV0ucmVnaW9uLmJvdHRvbSA8PSB2aWV3cG9ydC5ib3R0b20pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNob3Nlbkdyb3VwID0gZ3JvdXBzWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY2hvc2VuR3JvdXAgPSBnZXRDZW50ZXJtb3N0R3JvdXAoZ3JvdXBzLCB2aWV3cG9ydCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKS5hY3RpdmVQYWdlSW5kZXg7XG5cbiAgICAgICAgY29uc3QgaGFzQ3VycmVudFBhZ2UgPSBjaG9zZW5Hcm91cC5wYWdlcy5zb21lKHBhZ2UgPT4gcGFnZS5pbmRleCA9PT0gY3VycmVudFBhZ2UpO1xuXG4gICAgICAgIGlmICghaGFzQ3VycmVudFBhZ2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUuc2V0Q3VycmVudFBhZ2VzKGNob3Nlbkdyb3VwLnBhZ2VzWzBdLmluZGV4LCB2aXNpYmxlUGFnZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgLy8gTm8tb3BcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldENlbnRlcm1vc3RHcm91cCAoZ3JvdXBzLCB2aWV3cG9ydClcbntcbiAgICBjb25zdCB2aWV3cG9ydE1pZGRsZSA9IHZpZXdwb3J0LnRvcCArIHZpZXdwb3J0LmhlaWdodCAvIDI7XG5cbiAgICByZXR1cm4gbWF4QnkoZ3JvdXBzLCBncm91cCA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgZ3JvdXBNaWRkbGUgPSBncm91cC5yZWdpb24udG9wICsgZ3JvdXAuZGltZW5zaW9ucy5oZWlnaHQgLyAyO1xuICAgICAgICByZXR1cm4gLU1hdGguYWJzKHZpZXdwb3J0TWlkZGxlIC0gZ3JvdXBNaWRkbGUpO1xuICAgIH0pO1xufVxuIiwiLyoqXG4gKiBNYW5hZ2VzIGEgY29sbGVjdGlvbiBvZiBwYWdlIG92ZXJsYXlzLCB3aGljaCBpbXBsZW1lbnQgYSBsb3ctbGV2ZWxcbiAqIEFQSSBmb3Igc3luY2hyb25pemluZyBIVE1MIHBhZ2VzIHRvIHRoZSBjYW52YXMuIEVhY2ggb3ZlcmxheSBuZWVkc1xuICogdG8gaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgcHJvdG9jb2w6XG4gKlxuICogICBtb3VudCgpOiBDYWxsZWQgd2hlbiBhIHBhZ2UgaXMgZmlyc3QgcmVuZGVyZWRcbiAqICAgcmVmcmVzaCgpOiBDYWxsZWQgd2hlbiBhIHBhZ2UgaXMgbW92ZWRcbiAqICAgdW5tb3VudCgpOiBDYWxsZWQgd2hlbiBhIHByZXZpb3VzbHkgcmVuZGVyZWQgcGFnZSBoYXMgc3RvcHBlZCBiZWluZyByZW5kZXJlZFxuICpcbiAqIEBjbGFzc1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2VPdmVybGF5TWFuYWdlclxue1xuICAgIGNvbnN0cnVjdG9yICgpXG4gICAge1xuICAgICAgICB0aGlzLl9wYWdlcyA9IHt9O1xuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzID0gW107XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkUGFnZU1hcCA9IHt9O1xuICAgIH1cblxuICAgIGFkZE92ZXJsYXkgKG92ZXJsYXkpXG4gICAge1xuICAgICAgICBjb25zdCBvdmVybGF5c0J5UGFnZSA9IHRoaXMuX3BhZ2VzW292ZXJsYXkucGFnZV0gfHwgKHRoaXMuX3BhZ2VzW292ZXJsYXkucGFnZV0gPSBbXSk7XG5cbiAgICAgICAgb3ZlcmxheXNCeVBhZ2UucHVzaChvdmVybGF5KTtcblxuICAgICAgICBpZiAodGhpcy5fcmVuZGVyZWRQYWdlTWFwW292ZXJsYXkucGFnZV0pXG4gICAgICAgICAgICBvdmVybGF5Lm1vdW50KCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlT3ZlcmxheSAob3ZlcmxheSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBvdmVybGF5LnBhZ2U7XG4gICAgICAgIGNvbnN0IG92ZXJsYXlzQnlQYWdlID0gdGhpcy5fcGFnZXNbcGFnZV07XG5cbiAgICAgICAgaWYgKCFvdmVybGF5c0J5UGFnZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjb25zdCBvdmVybGF5SW5kZXggPSBvdmVybGF5c0J5UGFnZS5pbmRleE9mKG92ZXJsYXkpO1xuXG4gICAgICAgIGlmIChvdmVybGF5SW5kZXggPT09IC0xKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJlZFBhZ2VNYXBbcGFnZV0pXG4gICAgICAgICAgICBvdmVybGF5c0J5UGFnZVtvdmVybGF5SW5kZXhdLnVubW91bnQoKTtcblxuICAgICAgICBvdmVybGF5c0J5UGFnZS5zcGxpY2Uob3ZlcmxheUluZGV4LCAxKTtcblxuICAgICAgICBpZiAob3ZlcmxheXNCeVBhZ2UubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BhZ2VzW3BhZ2VdO1xuICAgIH1cblxuICAgIHVwZGF0ZU92ZXJsYXlzIChyZW5kZXJlZFBhZ2VzKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNseVJlbmRlcmVkID0gdGhpcy5fcmVuZGVyZWRQYWdlcztcbiAgICAgICAgY29uc3QgbmV3UmVuZGVyZWRNYXAgPSB7fTtcblxuICAgICAgICByZW5kZXJlZFBhZ2VzLm1hcCggKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV3UmVuZGVyZWRNYXBbcGFnZUluZGV4XSA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fcmVuZGVyZWRQYWdlTWFwW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlTWFwW3BhZ2VJbmRleF0gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5faW52b2tlT25PdmVybGF5cyhwYWdlSW5kZXgsIG92ZXJsYXkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkubW91bnQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJldmlvdXNseVJlbmRlcmVkLm1hcCggKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld1JlbmRlcmVkTWFwW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW52b2tlT25PdmVybGF5cyhwYWdlSW5kZXgsIChvdmVybGF5KSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3JlbmRlcmVkUGFnZU1hcFtwYWdlSW5kZXhdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludm9rZU9uT3ZlcmxheXMocGFnZUluZGV4LCBvdmVybGF5ID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5LnVubW91bnQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcyA9IHJlbmRlcmVkUGFnZXM7XG4gICAgfVxuXG4gICAgX2ludm9rZU9uT3ZlcmxheXMgKHBhZ2VJbmRleCwgZnVuYylcbiAgICB7XG4gICAgICAgIGNvbnN0IG92ZXJsYXlzID0gdGhpcy5fcGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgaWYgKG92ZXJsYXlzKVxuICAgICAgICAgICAgb3ZlcmxheXMubWFwKCAobykgPT4gZnVuYyhvKSApO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGVDb3ZlcmFnZU1hcFxue1xuICAgIGNvbnN0cnVjdG9yIChyb3dzLCBjb2xzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcm93cyA9IHJvd3M7XG4gICAgICAgIHRoaXMuX2NvbHMgPSBjb2xzO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXcgQXJyYXkocm93cykuZmlsbChudWxsKS5tYXAoKCkgPT4gbmV3IEFycmF5KGNvbHMpLmZpbGwoZmFsc2UpKTtcbiAgICB9XG5cbiAgICBpc0xvYWRlZCAocm93LCBjb2wpXG4gICAge1xuICAgICAgICAvLyBSZXR1cm4gdHJ1ZSBmb3Igb3V0IG9mIGJvdW5kcyB0aWxlcyBiZWNhdXNlIHRoZXlcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBsb2FkLiAoVW5mb3J0dW5hdGVseSB0aGlzIHdpbGwgYWxzb1xuICAgICAgICAvLyBtYXNrIGxvZ2ljYWwgZXJyb3JzLilcbiAgICAgICAgaWYgKHJvdyA+PSB0aGlzLl9yb3dzIHx8IGNvbCA+PSB0aGlzLl9jb2xzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcFtyb3ddW2NvbF07XG4gICAgfVxuXG4gICAgc2V0KHJvdywgY29sLCB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX21hcFtyb3ddW2NvbF0gPSB2YWx1ZTtcbiAgICB9XG59IiwiaW1wb3J0IFRpbGVDb3ZlcmFnZU1hcCBmcm9tIFwiLi90aWxlLWNvdmVyYWdlLW1hcFwiO1xuXG4vKipcbiAqIEBjbGFzcyBDb21wb3NpdGVJbWFnZVxuICogQHByaXZhdGVcbiAqXG4gKiBVdGlsaXR5IGNsYXNzIHRvIGNvbXBvc2l0ZSB0aWxlcyBpbnRvIGEgY29tcGxldGUgaW1hZ2VcbiAqIGFuZCB0cmFjayB0aGUgcmVuZGVyZWQgc3RhdGUgb2YgYW4gaW1hZ2UgYXMgbmV3IHRpbGVzXG4gKiBsb2FkLlxuICovXG5cbi8qKlxuICogQHBhcmFtIGxldmVscyB7QXJyYXkuPEFycmF5LjxUaWxlPj59XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tcG9zaXRlSW1hZ2VcbntcbiAgICBjb25zdHJ1Y3RvcihsZXZlbHMpXG4gICAge1xuICAgICAgICB0aGlzLl9sZXZlbHMgPSBsZXZlbHM7ICAvLyBBc3N1bWUgbGV2ZWxzIHNvcnRlZCBoaWdoLXJlcyBmaXJzdFxuICAgICAgICBjb25zdCB1cmxzVG9UaWxlcyA9IHRoaXMuX3VybHNUb1RpbGVzID0ge307XG5cbiAgICAgICAgbGV2ZWxzLmZvckVhY2gobGV2ZWwgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV2ZWwudGlsZXMuZm9yRWFjaCh0aWxlID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXJsc1RvVGlsZXNbdGlsZS51cmxdID0ge1xuICAgICAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IGxldmVsLnpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgcm93OiB0aWxlLnJvdyxcbiAgICAgICAgICAgICAgICAgICAgY29sOiB0aWxlLmNvbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGNsZWFyICgpXG4gICAge1xuICAgICAgICBjb25zdCBsb2FkZWRCeUxldmVsID0gdGhpcy5fbG9hZGVkQnlMZXZlbCA9IHt9O1xuXG4gICAgICAgIHRoaXMuX2xldmVscy5mb3JFYWNoKGxldmVsID0+IHtcbiAgICAgICAgICAgIGxvYWRlZEJ5TGV2ZWxbbGV2ZWwuem9vbUxldmVsXSA9IG5ldyBUaWxlQ292ZXJhZ2VNYXAobGV2ZWwucm93cywgbGV2ZWwuY29scyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldFRpbGVzIChiYXNlWm9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgY29uc3QgdG9SZW5kZXJCeUxldmVsID0gW107XG4gICAgICAgIGNvbnN0IGhpZ2hlc3Rab29tTGV2ZWwgPSB0aGlzLl9sZXZlbHNbMF0uem9vbUxldmVsO1xuICAgICAgICBjb25zdCBjb3ZlcmVkID0gbmV3IFRpbGVDb3ZlcmFnZU1hcCh0aGlzLl9sZXZlbHNbMF0ucm93cywgdGhpcy5fbGV2ZWxzWzBdLmNvbHMpO1xuXG4gICAgICAgIGxldCBiZXN0TGV2ZWxJbmRleDtcblxuICAgICAgICAvLyBEZWZhdWx0IHRvIHRoZSBsb3dlc3Qgem9vbSBsZXZlbFxuICAgICAgICBpZiAoYmFzZVpvb21MZXZlbCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgYmVzdExldmVsSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2VpbExldmVsID0gTWF0aC5jZWlsKGJhc2Vab29tTGV2ZWwpO1xuICAgICAgICAgICAgYmVzdExldmVsSW5kZXggPSBmaW5kSW5kZXgodGhpcy5fbGV2ZWxzLCBsZXZlbCA9PiBsZXZlbC56b29tTGV2ZWwgPD0gY2VpbExldmVsKTtcbiAgICAgICAgICAgIC8vIGJlc3RMZXZlbEluZGV4ID0gdGhpcy5fbGV2ZWxzLmZpbmRJbmRleCgobGV2ZWwpID0+IGxldmVsLnpvb21MZXZlbCA8PSBjZWlsTGV2ZWwpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvLyBUaGUgYmVzdCBsZXZlbCwgZm9sbG93ZWQgYnkgaGlnaGVyLXJlcyBsZXZlbHMgaW4gYXNjZW5kaW5nIG9yZGVyIG9mIHJlc29sdXRpb24sXG4gICAgICAgIC8vIGZvbGxvd2VkIGJ5IGxvd2VyLXJlcyBsZXZlbHMgaW4gZGVzY2VuZGluZyBvcmRlciBvZiByZXNvbHV0aW9uXG4gICAgICAgIGNvbnN0IGxldmVsc0J5UHJlZmVyZW5jZSA9IHRoaXMuX2xldmVscy5zbGljZSgwLCBiZXN0TGV2ZWxJbmRleCArIDEpLnJldmVyc2UoKVxuICAgICAgICAgICAgLmNvbmNhdCh0aGlzLl9sZXZlbHMuc2xpY2UoYmVzdExldmVsSW5kZXggKyAxKSk7XG5cbiAgICAgICAgbGV2ZWxzQnlQcmVmZXJlbmNlLmZvckVhY2goIChsZXZlbCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5fbG9hZGVkQnlMZXZlbFtsZXZlbC56b29tTGV2ZWxdO1xuXG4gICAgICAgICAgICBsZXQgYWRkaXRpb25hbFRpbGVzID0gbGV2ZWwudGlsZXMuZmlsdGVyKHRpbGUgPT4gbG9hZGVkLmlzTG9hZGVkKHRpbGUucm93LCB0aWxlLmNvbCkpO1xuXG4gICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IGVudGlyZWx5IGNvdmVyZWQgdGlsZXNcblxuICAgICAgICAgICAgLy8gRklYTUU6IElzIGl0IGJldHRlciB0byBkcmF3IGFsbCBvZiBhIHBhcnRpYWxseSBjb3ZlcmVkIHRpbGUsXG4gICAgICAgICAgICAvLyB3aXRoIHNvbWUgb2YgaXQgdWx0aW1hdGVseSBjb3ZlcmVkLCBvciB0byBwaWNrIG91dCB0aGUgcmVnaW9uXG4gICAgICAgICAgICAvLyB3aGljaCBuZWVkcyB0byBiZSBkcmF3bj9cbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vRERNQUwvZGl2YS5qcy9pc3N1ZXMvMzU4XG4gICAgICAgICAgICBjb25zdCBzY2FsZVJhdGlvID0gTWF0aC5wb3coMiwgaGlnaGVzdFpvb21MZXZlbCAtIGxldmVsLnpvb21MZXZlbCk7XG5cbiAgICAgICAgICAgIGFkZGl0aW9uYWxUaWxlcyA9IGFkZGl0aW9uYWxUaWxlcy5maWx0ZXIodGlsZSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGlzTmVlZGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBoaWdoUmVzUm93ID0gdGlsZS5yb3cgKiBzY2FsZVJhdGlvO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hSZXNDb2wgPSB0aWxlLmNvbCAqIHNjYWxlUmF0aW87XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBzY2FsZVJhdGlvOyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqPTA7IGogPCBzY2FsZVJhdGlvOyBqKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY292ZXJlZC5pc0xvYWRlZChoaWdoUmVzUm93ICsgaSwgaGlnaFJlc0NvbCArIGopKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmVlZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3ZlcmVkLnNldChoaWdoUmVzUm93ICsgaSwgaGlnaFJlc0NvbCArIGosIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTmVlZGVkO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRvUmVuZGVyQnlMZXZlbC5wdXNoKGFkZGl0aW9uYWxUaWxlcyk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIC8vIExlc3MtcHJlZmVycmVkIHRpbGVzIHNob3VsZCBjb21lIGZpcnN0XG4gICAgICAgIHRvUmVuZGVyQnlMZXZlbC5yZXZlcnNlKCk7XG5cbiAgICAgICAgY29uc3QgdGlsZXMgPSBbXTtcblxuICAgICAgICB0b1JlbmRlckJ5TGV2ZWwuZm9yRWFjaChieUxldmVsID0+IHtcbiAgICAgICAgICAgIHRpbGVzLnB1c2guYXBwbHkodGlsZXMsIGJ5TGV2ZWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGlsZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBjb21wb3NpdGUgaW1hZ2UgdG8gdGFrZSBpbnRvIGFjY291bnQgYWxsIHRoZSBVUkxzXG4gICAgICogbG9hZGVkIGluIGFuIGltYWdlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNhY2hlIHtJbWFnZUNhY2hlfVxuICAgICAqL1xuICAgIHVwZGF0ZUZyb21DYWNoZSAoY2FjaGUpXG4gICAge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5fbGV2ZWxzLmZvckVhY2goIChsZXZlbCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbG9hZGVkID0gdGhpcy5fbG9hZGVkQnlMZXZlbFtsZXZlbC56b29tTGV2ZWxdO1xuXG4gICAgICAgICAgICBsZXZlbC50aWxlcy5mb3JFYWNoKHRpbGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjYWNoZS5oYXModGlsZS51cmwpKVxuICAgICAgICAgICAgICAgICAgICBsb2FkZWQuc2V0KHRpbGUucm93LCB0aWxlLmNvbCwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlV2l0aExvYWRlZFVybHMgKHVybHMpXG4gICAge1xuICAgICAgICB1cmxzLmZvckVhY2goICh1cmwpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5fdXJsc1RvVGlsZXNbdXJsXTtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlZEJ5TGV2ZWxbZW50cnkuem9vbUxldmVsXS5zZXQoZW50cnkucm93LCBlbnRyeS5jb2wsIHRydWUpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG59XG5cbi8vIGZ1bmN0aW9uIGZpbGwgKGNvdW50LCB2YWx1ZSlcbi8vIHtcbi8vICAgICBjb25zdCBhcnIgPSBuZXcgQXJyYXkoY291bnQpO1xuLy9cbi8vICAgICBmb3IgKGxldCBpPTA7IGkgPCBjb3VudDsgaSsrKVxuLy8gICAgICAgICBhcnJbaV0gPSB2YWx1ZTtcbi8vXG4vLyAgICAgcmV0dXJuIGFycjtcbi8vIH1cblxuZnVuY3Rpb24gZmluZEluZGV4IChhcnJheSwgcHJlZGljYXRlKVxue1xuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpXSwgaSkpXG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG59XG4iLCIvKipcbiAqIFRyYW5zbGF0ZSBwYWdlIGxheW91dHMsIGFzIGdlbmVyYXRlZCBieSBwYWdlLWxheW91dHMsIGludG8gYW5cbiAqIG9iamVjdCB3aGljaCBjb21wdXRlcyBsYXlvdXQgaW5mb3JtYXRpb24gZm9yIHRoZSBkb2N1bWVudCBhc1xuICogYSB3aG9sZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9jdW1lbnRMYXlvdXRcbntcbiAgICBjb25zdHJ1Y3RvciAoY29uZmlnLCB6b29tTGV2ZWwpXG4gICAge1xuICAgICAgICBjb25zdCBjb21wdXRlZExheW91dCA9IGdldENvbXB1dGVkTGF5b3V0KGNvbmZpZywgem9vbUxldmVsKTtcblxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBjb21wdXRlZExheW91dC5kaW1lbnNpb25zO1xuICAgICAgICB0aGlzLnBhZ2VHcm91cHMgPSBjb21wdXRlZExheW91dC5wYWdlR3JvdXBzO1xuICAgICAgICB0aGlzLl9wYWdlTG9va3VwID0gZ2V0UGFnZUxvb2t1cChjb21wdXRlZExheW91dC5wYWdlR3JvdXBzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZWRlZiB7T2JqZWN0fSBQYWdlSW5mb1xuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbmRleFxuICAgICAqIEBwcm9wZXJ0eSB7e2luZGV4LCBkaW1lbnNpb25zLCBwYWdlcywgcmVnaW9uLCBwYWRkaW5nfX0gZ3JvdXBcbiAgICAgKiBAcHJvcGVydHkge3toZWlnaHQ6IG51bWJlciwgd2lkdGg6IG51bWJlcn19IGRpbWVuc2lvbnNcbiAgICAgKiBAcHJvcGVydHkge3t0b3A6IG51bWJlciwgbGVmdDogbnVtYmVyfX0gZ3JvdXBPZmZzZXRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcmV0dXJucyB7UGFnZUluZm98bnVsbH1cbiAgICAgKi9cbiAgICBnZXRQYWdlSW5mbyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VMb29rdXBbcGFnZUluZGV4XSB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGltZW5zaW9ucyBvZiBhIHBhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcmV0dXJucyB7e2hlaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyfX1cbiAgICAgKi9cbiAgICBnZXRQYWdlRGltZW5zaW9ucyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wYWdlTG9va3VwIHx8ICF0aGlzLl9wYWdlTG9va3VwW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCByZWdpb24gPSBnZXRQYWdlUmVnaW9uRnJvbVBhZ2VJbmZvKHRoaXMuX3BhZ2VMb29rdXBbcGFnZUluZGV4XSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogcmVnaW9uLmJvdHRvbSAtIHJlZ2lvbi50b3AsXG4gICAgICAgICAgICB3aWR0aDogcmVnaW9uLnJpZ2h0IC0gcmVnaW9uLmxlZnRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBUT0RPKHdhYmFpbik6IEdldCByaWQgb2YgdGhpczsgaXQncyBhIHN1YnNldCBvZiB0aGUgcGFnZSByZWdpb24sIHNvXG4gICAgLy8gZ2l2ZSB0aGF0IGluc3RlYWRcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRvcC1sZWZ0IGNvb3JkaW5hdGVzIG9mIGEgcGFnZSwgaW5jbHVkaW5nKioqIHBhZGRpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHt7dG9wOiBudW1iZXIsIGxlZnQ6IG51bWJlcn0gfCBudWxsfVxuICAgICAqL1xuICAgIGdldFBhZ2VPZmZzZXQgKHBhZ2VJbmRleCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IHRoaXMuZ2V0UGFnZVJlZ2lvbihwYWdlSW5kZXgsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICghcmVnaW9uKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0UGFnZVJlZ2lvbiAocGFnZUluZGV4LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZUluZm8gPSB0aGlzLl9wYWdlTG9va3VwW3BhZ2VJbmRleF07XG5cbiAgICAgICAgaWYgKCFwYWdlSW5mbylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IGdldFBhZ2VSZWdpb25Gcm9tUGFnZUluZm8ocGFnZUluZm8pO1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gcGFnZUluZm8uZ3JvdXAucGFkZGluZztcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmluY2x1ZGVQYWRkaW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCArIHBhZGRpbmcudG9wLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0ICsgcGFkZGluZy5sZWZ0LFxuICAgICAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uLmJvdHRvbSxcbiAgICAgICAgICAgICAgICByaWdodDogcmVnaW9uLnJpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0LFxuICAgICAgICAgICAgLy8gbmVlZCB0byBhY2NvdW50IGZvciBwbHVnaW4gaWNvbnMgYmVsb3cgdGhlIHBhZ2UsIHNlZSBcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ERE1BTC9kaXZhLmpzL2lzc3Vlcy80MzZcbiAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uLmJvdHRvbSArIHBhZGRpbmcudG9wLCBcbiAgICAgICAgICAgIHJpZ2h0OiByZWdpb24ucmlnaHRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRpc3RhbmNlIGZyb20gdGhlIHRvcC1yaWdodCBvZiB0aGUgcGFnZSB0byB0aGUgY2VudGVyIG9mIHRoZVxuICAgICAqIHNwZWNpZmllZCB2aWV3cG9ydCByZWdpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKiBAcGFyYW0gdmlld3BvcnQge3t0b3A6IG51bWJlciwgbGVmdDogbnVtYmVyLCBib3R0b206IG51bWJlciwgcmlnaHQ6IG51bWJlcn19XG4gICAgICogQHJldHVybnMge3t4OiBudW1iZXIsIHk6IG51bWJlcn19XG4gICAgICovXG4gICAgZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQgKHBhZ2VJbmRleCwgdmlld3BvcnQpXG4gICAge1xuICAgICAgICBjb25zdCBzY3JvbGxMZWZ0ID0gdmlld3BvcnQubGVmdDtcbiAgICAgICAgY29uc3QgZWxlbWVudFdpZHRoID0gdmlld3BvcnQucmlnaHQgLSB2aWV3cG9ydC5sZWZ0O1xuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuZ2V0UGFnZU9mZnNldChwYWdlSW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IHggPSBzY3JvbGxMZWZ0IC0gb2Zmc2V0LmxlZnQgKyBwYXJzZUludChlbGVtZW50V2lkdGggLyAyLCAxMCk7XG5cbiAgICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gdmlld3BvcnQudG9wO1xuICAgICAgICBjb25zdCBlbGVtZW50SGVpZ2h0ID0gdmlld3BvcnQuYm90dG9tIC0gdmlld3BvcnQudG9wO1xuXG4gICAgICAgIGNvbnN0IHkgPSBzY3JvbGxUb3AgLSBvZmZzZXQudG9wICsgcGFyc2VJbnQoZWxlbWVudEhlaWdodCAvIDIsIDEwKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHlcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFBhZ2VSZWdpb25Gcm9tUGFnZUluZm8gKHBhZ2UpXG57XG4gICAgY29uc3QgdG9wICAgID0gcGFnZS5ncm91cE9mZnNldC50b3AgICsgcGFnZS5ncm91cC5yZWdpb24udG9wO1xuICAgIGNvbnN0IGJvdHRvbSA9IHRvcCArIHBhZ2UuZGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgY29uc3QgbGVmdCAgID0gcGFnZS5ncm91cE9mZnNldC5sZWZ0ICsgcGFnZS5ncm91cC5yZWdpb24ubGVmdDtcbiAgICBjb25zdCByaWdodCAgPSBsZWZ0ICsgcGFnZS5kaW1lbnNpb25zLndpZHRoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGJvdHRvbTogYm90dG9tLFxuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICByaWdodDogcmlnaHRcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRQYWdlTG9va3VwIChwYWdlR3JvdXBzKVxue1xuICAgIGNvbnN0IHBhZ2VMb29rdXAgPSB7fTtcblxuICAgIHBhZ2VHcm91cHMuZm9yRWFjaChncm91cCA9PiB7XG4gICAgICAgIGdyb3VwLnBhZ2VzLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICAgICAgICBwYWdlTG9va3VwW3BhZ2UuaW5kZXhdID0ge1xuICAgICAgICAgICAgICAgIGluZGV4OiBwYWdlLmluZGV4LFxuICAgICAgICAgICAgICAgIGdyb3VwOiBncm91cCxcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiBwYWdlLmRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHBhZ2UuZ3JvdXBPZmZzZXRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHBhZ2VMb29rdXA7XG59XG5cbmZ1bmN0aW9uIGdldENvbXB1dGVkTGF5b3V0IChjb25maWcsIHpvb21MZXZlbClcbntcbiAgICBjb25zdCBzY2FsZWRMYXlvdXRzID0gem9vbUxldmVsID09PSBudWxsID8gY29uZmlnLnBhZ2VMYXlvdXRzIDogZ2V0U2NhbGVkUGFnZUxheW91dHMoY29uZmlnLCB6b29tTGV2ZWwpO1xuXG4gICAgY29uc3QgZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQgPSBnZXRFeHRlbnRBbG9uZ1NlY29uZGFyeUF4aXMoY29uZmlnLCBzY2FsZWRMYXlvdXRzKTtcblxuICAgIC8vIFRoZSBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCBhbG9uZyB0aGUgcHJpbWFyeSBheGlzXG4gICAgbGV0IHByaW1hcnlEb2NQb3NpdGlvbiA9IGNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQgP1xuICAgICAgICBjb25maWcucGFkZGluZy5kb2N1bWVudC50b3AgOlxuICAgICAgICBjb25maWcucGFkZGluZy5kb2N1bWVudC5sZWZ0O1xuXG4gICAgY29uc3QgcGFnZUdyb3VwcyA9IFtdO1xuXG4gICAgLy8gVE9ETzogVXNlIGJvdHRvbSwgcmlnaHQgYXMgd2VsbFxuICAgIGNvbnN0IHBhZ2VQYWRkaW5nID0ge1xuICAgICAgICB0b3A6IGNvbmZpZy5wYWRkaW5nLnBhZ2UudG9wLFxuICAgICAgICBsZWZ0OiBjb25maWcucGFkZGluZy5wYWdlLmxlZnRcbiAgICB9O1xuXG4gICAgc2NhbGVkTGF5b3V0cy5mb3JFYWNoKChsYXlvdXQsIGluZGV4KSA9PiB7XG4gICAgICAgIGxldCB0b3AsIGxlZnQ7XG5cbiAgICAgICAgaWYgKGNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvcCA9IHByaW1hcnlEb2NQb3NpdGlvbjtcbiAgICAgICAgICAgIGxlZnQgPSAoZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQgLSBsYXlvdXQuZGltZW5zaW9ucy53aWR0aCkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdG9wID0gKGRvY3VtZW50U2Vjb25kYXJ5RXh0ZW50IC0gbGF5b3V0LmRpbWVuc2lvbnMuaGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICBsZWZ0ID0gcHJpbWFyeURvY1Bvc2l0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVnaW9uID0ge1xuICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICBib3R0b206IHRvcCArIHBhZ2VQYWRkaW5nLnRvcCArIGxheW91dC5kaW1lbnNpb25zLmhlaWdodCxcbiAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICByaWdodDogbGVmdCArIHBhZ2VQYWRkaW5nLmxlZnQgKyBsYXlvdXQuZGltZW5zaW9ucy53aWR0aFxuICAgICAgICB9O1xuXG4gICAgICAgIHBhZ2VHcm91cHMucHVzaCh7XG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBsYXlvdXQuZGltZW5zaW9ucyxcbiAgICAgICAgICAgIHBhZ2VzOiBsYXlvdXQucGFnZXMsXG4gICAgICAgICAgICByZWdpb246IHJlZ2lvbixcbiAgICAgICAgICAgIHBhZGRpbmc6IHBhZ2VQYWRkaW5nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHByaW1hcnlEb2NQb3NpdGlvbiA9IGNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQgPyByZWdpb24uYm90dG9tIDogcmVnaW9uLnJpZ2h0O1xuICAgIH0pO1xuXG4gICAgbGV0IGhlaWdodCwgd2lkdGg7XG5cbiAgICBpZiAoY29uZmlnLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICB7XG4gICAgICAgIGhlaWdodCA9IHByaW1hcnlEb2NQb3NpdGlvbiArIHBhZ2VQYWRkaW5nLnRvcDtcbiAgICAgICAgd2lkdGggPSBkb2N1bWVudFNlY29uZGFyeUV4dGVudDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgaGVpZ2h0ID0gZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQ7XG4gICAgICAgIHdpZHRoID0gcHJpbWFyeURvY1Bvc2l0aW9uICsgcGFnZVBhZGRpbmcubGVmdDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICB9LFxuICAgICAgICBwYWdlR3JvdXBzOiBwYWdlR3JvdXBzXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2NhbGVkUGFnZUxheW91dHMgKGNvbmZpZywgem9vbUxldmVsKVxue1xuICAgIGNvbnN0IHNjYWxlUmF0aW8gPSBNYXRoLnBvdygyLCB6b29tTGV2ZWwgLSBjb25maWcubWF4Wm9vbUxldmVsKTtcblxuICAgIHJldHVybiBjb25maWcucGFnZUxheW91dHMubWFwKGdyb3VwID0+ICh7XG4gICAgICAgIGRpbWVuc2lvbnM6IHNjYWxlRGltZW5zaW9ucyhncm91cC5kaW1lbnNpb25zLCBzY2FsZVJhdGlvKSxcblxuICAgICAgICBwYWdlczogZ3JvdXAucGFnZXMubWFwKHBhZ2UgPT4gKHtcbiAgICAgICAgICAgIGluZGV4OiBwYWdlLmluZGV4LFxuXG4gICAgICAgICAgICBncm91cE9mZnNldDoge1xuICAgICAgICAgICAgICAgIHRvcDogTWF0aC5mbG9vcihwYWdlLmdyb3VwT2Zmc2V0LnRvcCAqIHNjYWxlUmF0aW8pLFxuICAgICAgICAgICAgICAgIGxlZnQ6IE1hdGguZmxvb3IocGFnZS5ncm91cE9mZnNldC5sZWZ0ICogc2NhbGVSYXRpbylcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHNjYWxlRGltZW5zaW9ucyhwYWdlLmRpbWVuc2lvbnMsIHNjYWxlUmF0aW8pXG4gICAgICAgIH0pKVxuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gc2NhbGVEaW1lbnNpb25zIChkaW1lbnNpb25zLCBzY2FsZVJhdGlvKVxue1xuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogTWF0aC5mbG9vcihkaW1lbnNpb25zLmhlaWdodCAqIHNjYWxlUmF0aW8pLFxuICAgICAgICB3aWR0aDogTWF0aC5mbG9vcihkaW1lbnNpb25zLndpZHRoICogc2NhbGVSYXRpbylcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRFeHRlbnRBbG9uZ1NlY29uZGFyeUF4aXMgKGNvbmZpZywgc2NhbGVkTGF5b3V0cylcbntcbiAgICAvLyBHZXQgdGhlIGV4dGVudCBvZiB0aGUgZG9jdW1lbnQgYWxvbmcgdGhlIHNlY29uZGFyeSBheGlzXG4gICAgbGV0IHNlY29uZGFyeURpbSwgc2Vjb25kYXJ5UGFkZGluZztcbiAgICBjb25zdCBkb2NQYWRkaW5nID0gY29uZmlnLnBhZGRpbmcuZG9jdW1lbnQ7XG5cbiAgICBpZiAoY29uZmlnLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICB7XG4gICAgICAgIHNlY29uZGFyeURpbSA9ICd3aWR0aCc7XG4gICAgICAgIHNlY29uZGFyeVBhZGRpbmcgPSBkb2NQYWRkaW5nLmxlZnQgKyBkb2NQYWRkaW5nLnJpZ2h0O1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBzZWNvbmRhcnlEaW0gPSAnaGVpZ2h0JztcbiAgICAgICAgc2Vjb25kYXJ5UGFkZGluZyA9IGRvY1BhZGRpbmcudG9wICsgZG9jUGFkZGluZy5ib3R0b207XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlY29uZGFyeVBhZGRpbmcgKyBzY2FsZWRMYXlvdXRzLnJlZHVjZSgobWF4RGltLCBsYXlvdXQpID0+IE1hdGgubWF4KGxheW91dC5kaW1lbnNpb25zW3NlY29uZGFyeURpbV0sIG1heERpbSksIDApO1xufVxuIiwiY29uc3QgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdkaXZhOkltYWdlQ2FjaGUnKTtcblxuLyogRklYTUUod2FiYWluKTogVGhlIGNhY2hpbmcgc3RyYXRlZ3kgaGVyZSBpcyBjb21wbGV0ZWx5XG4gKiBhcmJpdHJhcnkgYW5kIHRoZSBpbXBsZW1lbnRhdGlvbiBpc24ndCBlc3BlY2lhbGx5IGVmZmljaWVudC5cbiAqL1xuY29uc3QgREVGQVVMVF9NQVhfS0VZUyA9IDEwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VDYWNoZVxue1xuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgeyBtYXhLZXlzOiBERUZBVUxUX01BWF9LRVlTIH07XG4gICAgICAgIHRoaXMubWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cyB8fCBERUZBVUxUX01BWF9LRVlTO1xuXG4gICAgICAgIHRoaXMuX2hlbGQgPSB7fTtcbiAgICAgICAgdGhpcy5fdXJscyA9IHt9O1xuICAgICAgICB0aGlzLl9scnUgPSBbXTtcbiAgICB9XG5cbiAgICBnZXQgKHVybClcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHRoaXMuX3VybHNbdXJsXTtcbiAgICAgICAgcmV0dXJuIHJlY29yZCA/IHJlY29yZC5pbWcgOiBudWxsO1xuICAgIH1cblxuICAgIGhhcyAodXJsKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fdXJsc1t1cmxdO1xuICAgIH1cblxuICAgIHB1dCAodXJsLCBpbWcpXG4gICAge1xuICAgICAgICBsZXQgcmVjb3JkID0gdGhpcy5fdXJsc1t1cmxdO1xuICAgICAgICBpZiAocmVjb3JkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBGSVhNRTogRG9lcyB0aGlzIG1ha2Ugc2Vuc2UgZm9yIHRoaXMgdXNlIGNhc2U/XG4gICAgICAgICAgICByZWNvcmQuaW1nID0gaW1nO1xuICAgICAgICAgICAgdGhpcy5fcHJvbW90ZShyZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjb3JkID0ge1xuICAgICAgICAgICAgICAgIGltZzogaW1nLFxuICAgICAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLl91cmxzW3VybF0gPSByZWNvcmQ7XG4gICAgICAgICAgICB0aGlzLl90cnlFdmljdCgxKTtcbiAgICAgICAgICAgIHRoaXMuX2xydS51bnNoaWZ0KHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJvbW90ZSAocmVjb3JkKVxuICAgIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9scnUuaW5kZXhPZihyZWNvcmQpO1xuICAgICAgICB0aGlzLl9scnUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5fbHJ1LnVuc2hpZnQocmVjb3JkKTtcbiAgICB9XG5cbiAgICBfdHJ5RXZpY3QgKGV4dHJhQ2FwYWNpdHkpXG4gICAge1xuICAgICAgICBjb25zdCBhbGxvd2VkRW50cnlDb3VudCA9IHRoaXMubWF4S2V5cyAtIGV4dHJhQ2FwYWNpdHk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xydS5sZW5ndGggPD0gYWxsb3dlZEVudHJ5Q291bnQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgbGV0IGV2aWN0aW9uSW5kZXggPSB0aGlzLl9scnUubGVuZ3RoIC0gMTtcblxuICAgICAgICBmb3IgKDs7KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl9scnVbZXZpY3Rpb25JbmRleF07XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5faGVsZFt0YXJnZXQudXJsXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZygnRXZpY3RpbmcgaW1hZ2UgJXMnLCB0YXJnZXQudXJsKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9scnUuc3BsaWNlKGV2aWN0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl91cmxzW3RhcmdldC51cmxdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2xydS5sZW5ndGggPD0gYWxsb3dlZEVudHJ5Q291bnQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZpY3Rpb25JbmRleCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIGRlYnVnLmVuYWJsZWQgJiYgZGVidWcoJ0NhY2hlIG92ZXJmdWxsIGJ5ICVzIChhbGwgZW50cmllcyBhcmUgYmVpbmcgaGVsZCknLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9scnUubGVuZ3RoIC0gYWxsb3dlZEVudHJ5Q291bnQpO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGV2aWN0aW9uSW5kZXgtLTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFjcXVpcmUgKHVybClcbiAgICB7XG4gICAgICAgIHRoaXMuX2hlbGRbdXJsXSA9ICh0aGlzLl9oZWxkW3VybF0gfHwgMCkgKyAxO1xuICAgICAgICB0aGlzLl9wcm9tb3RlKHRoaXMuX3VybHNbdXJsXSk7XG4gICAgfVxuXG4gICAgcmVsZWFzZSAodXJsKVxuICAgIHtcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9oZWxkW3VybF07XG5cbiAgICAgICAgaWYgKGNvdW50ID4gMSlcbiAgICAgICAgICAgIHRoaXMuX2hlbGRbdXJsXS0tO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faGVsZFt1cmxdO1xuXG4gICAgICAgIHRoaXMuX3RyeUV2aWN0KDApO1xuICAgIH1cbn1cbiIsIi8qKlxuICogSGFuZGxlciBmb3IgdGhlIHJlcXVlc3QgZm9yIGFuIGltYWdlIHRpbGVcbiAqXG4gKiBAcGFyYW0gdXJsXG4gKiBAcGFyYW0gY2FsbGJhY2tcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZVJlcXVlc3RIYW5kbGVyXG57XG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLl91cmwgPSBvcHRpb25zLnVybDtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBvcHRpb25zLmxvYWQ7XG4gICAgICAgIHRoaXMuX2Vycm9yQ2FsbGJhY2sgPSBvcHRpb25zLmVycm9yO1xuICAgICAgICB0aGlzLnRpbWVvdXRUaW1lID0gb3B0aW9ucy50aW1lb3V0VGltZSB8fCAwO1xuICAgICAgICB0aGlzLl9hYm9ydGVkID0gdGhpcy5fY29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY3Jvc3NPcmlnaW4gPSBvcHRpb25zLnNldHRpbmdzLmltYWdlQ3Jvc3NPcmlnaW47XG5cbiAgICAgICAgLy9Vc2UgYSB0aW1lb3V0IHRvIGFsbG93IHRoZSByZXF1ZXN0cyB0byBiZSBkZWJvdW5jZWQgKGFzIHRoZXkgYXJlIGluIHJlbmRlcmVyKVxuICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIC8vIEluaXRpYXRlIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICB0aGlzLl9pbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgdGhpcy5faW1hZ2UuY3Jvc3NPcmlnaW4gPSB0aGlzLl9jcm9zc09yaWdpbjtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9IHRoaXMuX2hhbmRsZUxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9uZXJyb3IgPSB0aGlzLl9oYW5kbGVFcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gb3B0aW9ucy51cmw7XG5cbiAgICAgICAgfSwgdGhpcy50aW1lb3V0VGltZSk7XG4gICAgfVxuXG4gICAgYWJvcnQgKClcbiAgICB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuXG4gICAgICAgIC8vIEZJWE1FXG4gICAgICAgIC8vIFBlb3BsZSBvbiB0aGUgSW50ZXJuZXQgc2F5IHRoYXQgZG9pbmcgdGhpcyB7e3Nob3VsZC9zaG91bGQgbm90fX0gYWJvcnQgdGhlIHJlcXVlc3QuIEkgYmVsaWV2ZVxuICAgICAgICAvLyBpdCBjb3JyZXNwb25kcyB0byB3aGF0IHRoZSBXSEFUV0cgSFRNTCBzcGVjIHNheXMgc2hvdWxkIGhhcHBlbiB3aGVuIHRoZSBVQVxuICAgICAgICAvLyB1cGRhdGVzIHRoZSBpbWFnZSBkYXRhIGlmIHNlbGVjdGVkIHNvdXJjZSBpcyBudWxsLlxuICAgICAgICAvL1xuICAgICAgICAvLyBTb3VyY2VzOlxuICAgICAgICAvL1xuICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9lbWJlZGRlZC1jb250ZW50Lmh0bWwjdGhlLWltZy1lbGVtZW50XG4gICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzM5MDg4OC9kb2VzLWNoYW5naW5nLXRoZS1zcmMtYXR0cmlidXRlLW9mLWFuLWltYWdlLXN0b3AtdGhlLWltYWdlLWZyb20tZG93bmxvYWRpbmdcbiAgICAgICAgaWYgKHRoaXMuX2ltYWdlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZS5vbmxvYWQgPSB0aGlzLl9pbWFnZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hYm9ydGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfaGFuZGxlTG9hZCAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2Fib3J0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlUmVxdWVzdEhhbmRsZXIgaW52b2tlZCBvbiBjYW5jZWxsZWQgcmVxdWVzdCBmb3IgJyArIHRoaXMuX3VybCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29tcGxldGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ltYWdlUmVxdWVzdEhhbmRsZXIgaW52b2tlZCBvbiBjb21wbGV0ZWQgcmVxdWVzdCBmb3IgJyArIHRoaXMuX3VybCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb21wbGV0ZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sodGhpcy5faW1hZ2UpO1xuICAgIH1cblxuICAgIF9oYW5kbGVFcnJvciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZXJyb3JDYWxsYmFjayh0aGlzLl9pbWFnZSk7XG4gICAgfVxufVxuIiwiLy8gVE9ETzogcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZhbGxiYWNrXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBhbmltYXRlLFxuICAgIGVhc2luZzoge1xuICAgICAgICBsaW5lYXI6IGxpbmVhckVhc2luZyxcbiAgICAgICAgY3ViaWM6IGluT3V0Q3ViaWNFYXNpbmdcbiAgICB9XG59O1xuXG5sZXQgbm93O1xuXG5pZiAodHlwZW9mIHBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJyAmJiBwZXJmb3JtYW5jZS5ub3cpXG57XG4gICAgbm93ID0gKCkgPT4geyByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7IH07XG59XG5lbHNlXG57XG4gICAgbm93ID0gKCkgPT4geyByZXR1cm4gRGF0ZS5ub3coKTsgfTtcbn1cblxuXG5mdW5jdGlvbiBhbmltYXRlIChvcHRpb25zKVxue1xuICAgIGNvbnN0IGR1cmF0aW9uTXMgPSBvcHRpb25zLmR1cmF0aW9uO1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBvcHRpb25zLnBhcmFtZXRlcnM7XG4gICAgY29uc3Qgb25VcGRhdGUgPSBvcHRpb25zLm9uVXBkYXRlO1xuICAgIGNvbnN0IG9uRW5kID0gb3B0aW9ucy5vbkVuZDtcblxuICAgIC8vIFNldHVwXG4gICAgLy8gVGltZXMgYXJlIGluIG1pbGxpc2Vjb25kcyBmcm9tIGEgYmFzaWNhbGx5IGFyYml0cmFyeSBzdGFydFxuICAgIGNvbnN0IHN0YXJ0ID0gbm93KCk7XG4gICAgY29uc3QgZW5kID0gc3RhcnQgKyBkdXJhdGlvbk1zO1xuXG4gICAgY29uc3QgdHdlZW5GbnMgPSB7fTtcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICBjb25zdCBwYXJhbUtleXMgPSBPYmplY3Qua2V5cyhwYXJhbWV0ZXJzKTtcblxuICAgIHBhcmFtS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHBhcmFtZXRlcnNba2V5XTtcbiAgICAgICAgdHdlZW5GbnNba2V5XSA9IGludGVycG9sYXRlKGNvbmZpZy5mcm9tLCBjb25maWcudG8sIGNvbmZpZy5lYXNpbmcgfHwgaW5PdXRDdWJpY0Vhc2luZyk7XG4gICAgfSk7XG5cbiAgICAvLyBSdW4gaXQhXG4gICAgbGV0IHJlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FuY2VsKClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RJZCAhPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShyZXF1ZXN0SWQpO1xuICAgICAgICAgICAgICAgIGhhbmRsZUFuaW1hdGlvbkNvbXBsZXRpb24oe1xuICAgICAgICAgICAgICAgICAgICBpbnRlcnJ1cHRlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gbm93KCk7XG4gICAgICAgIGNvbnN0IGVsYXBzZWQgPSBNYXRoLm1pbigoY3VycmVudCAtIHN0YXJ0KSAvIGR1cmF0aW9uTXMsIDEpO1xuXG4gICAgICAgIHVwZGF0ZVZhbHVlcyhlbGFwc2VkKTtcbiAgICAgICAgb25VcGRhdGUodmFsdWVzKTtcblxuICAgICAgICBpZiAoY3VycmVudCA8IGVuZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVBbmltYXRpb25Db21wbGV0aW9uKHtcbiAgICAgICAgICAgICAgICBpbnRlcnJ1cHRlZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlVmFsdWVzKGVsYXBzZWQpXG4gICAge1xuICAgICAgICBwYXJhbUtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgdmFsdWVzW2tleV0gPSB0d2VlbkZuc1trZXldKGVsYXBzZWQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVBbmltYXRpb25Db21wbGV0aW9uKGluZm8pXG4gICAge1xuICAgICAgICByZXF1ZXN0SWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChvbkVuZClcbiAgICAgICAgICAgIG9uRW5kKGluZm8pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaW50ZXJwb2xhdGUoc3RhcnQsIGVuZCwgZWFzaW5nKVxue1xuICAgIHJldHVybiAoZWxhcHNlZCkgPT4geyByZXR1cm4gc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogZWFzaW5nKGVsYXBzZWQpOyB9O1xufVxuXG4vKipcbiAqIEVhc2luZyBmdW5jdGlvbnMuIGluT3V0Q3ViaWNFYXNpbmcgaXMgdGhlIGRlZmF1bHQsIGJ1dFxuICogb3RoZXJzIGFyZSBnaXZlbiBmb3IgY29udmVuaWVuY2UuXG4gKlxuICoqL1xuZnVuY3Rpb24gbGluZWFyRWFzaW5nKGUpXG57XG4gICAgcmV0dXJuIGU7XG59XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbmZ1bmN0aW9uIGluT3V0UXVhZEVhc2luZyAoZSlcbntcbiAgICByZXR1cm4gZSA8IC41ID8gMiAqIGUgKiBlIDogLTErKDQtMiAqIGUpICogZVxufVxuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuXG5mdW5jdGlvbiBpbk91dEN1YmljRWFzaW5nICh0KVxue1xuICAgIHJldHVybiB0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICggdCAtIDEgKSAqICggMiAqIHQgLSAyICkgKiAoIDIgKiB0IC0gMiApICsgMTtcbn1cbiIsImltcG9ydCB7IGVsdCwgc2V0QXR0cmlidXRlcyB9IGZyb20gJy4vdXRpbHMvZWx0JztcbmltcG9ydCBDb21wb3NpdGVJbWFnZSBmcm9tICcuL2NvbXBvc2l0ZS1pbWFnZSc7XG5pbXBvcnQgRG9jdW1lbnRMYXlvdXQgZnJvbSAnLi9kb2N1bWVudC1sYXlvdXQnO1xuaW1wb3J0IEltYWdlQ2FjaGUgZnJvbSAnLi9pbWFnZS1jYWNoZSc7XG5pbXBvcnQgSW1hZ2VSZXF1ZXN0SGFuZGxlciBmcm9tICcuL2ltYWdlLXJlcXVlc3QtaGFuZGxlcic7XG5pbXBvcnQgSW50ZXJwb2xhdGVBbmltYXRpb24gZnJvbSAnLi9pbnRlcnBvbGF0ZS1hbmltYXRpb24nO1xuXG5jb25zdCBSRVFVRVNUX0RFQk9VTkNFX0lOVEVSVkFMID0gMjUwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlclxue1xuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zLCBob29rcylcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0ID0gb3B0aW9ucy52aWV3cG9ydDtcbiAgICAgICAgdGhpcy5fb3V0ZXJFbGVtZW50ID0gb3B0aW9ucy5vdXRlckVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2RvY3VtZW50RWxlbWVudCA9IG9wdGlvbnMuaW5uZXJFbGVtZW50O1xuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IG9wdGlvbnMuc2V0dGluZ3M7XG5cbiAgICAgICAgdGhpcy5faG9va3MgPSBob29rcyB8fCB7fTtcblxuICAgICAgICB0aGlzLl9jYW52YXMgPSBlbHQoJ2NhbnZhcycsIHsgY2xhc3M6ICdkaXZhLXZpZXdlci1jYW52YXMnIH0pO1xuICAgICAgICB0aGlzLl9jdHggPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICB0aGlzLmxheW91dCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc291cmNlUmVzb2x2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gbnVsbDtcbiAgICAgICAgdGhpcy5fem9vbUxldmVsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29tcG9zaXRlSW1hZ2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRUaWxlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG5cbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogV2hhdCBsZXZlbCBzaG91bGQgdGhpcyBiZSBtYWludGFpbmVkIGF0P1xuICAgICAgICAvLyBEaXZhIGdsb2JhbD9cbiAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgSW1hZ2VDYWNoZSgpO1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVxdWVzdHMgPSB7fTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0Q29tcGF0aWJpbGl0eUVycm9ycyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICdZb3VyIGJyb3dzZXIgbGFja3Mgc3VwcG9ydCBmb3IgdGhlICcsIGVsdCgncHJlJywgJ2NhbnZhcycpLFxuICAgICAgICAgICAgJyBlbGVtZW50LiBQbGVhc2UgdXBncmFkZSB5b3VyIGJyb3dzZXIuJ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIGxvYWQgKGNvbmZpZywgdmlld3BvcnRQb3NpdGlvbiwgc291cmNlUmVzb2x2ZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9jbGVhckFuaW1hdGlvbigpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ob29rcy5vblZpZXdXaWxsTG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faG9va3Mub25WaWV3V2lsbExvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NvdXJjZVJlc29sdmVyID0gc291cmNlUmVzb2x2ZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fY29tcG9zaXRlSW1hZ2VzID0ge307XG4gICAgICAgIHRoaXMuX3NldExheW91dFRvWm9vbUxldmVsKHZpZXdwb3J0UG9zaXRpb24uem9vbUxldmVsKTtcblxuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBSZW1vdmUgdGhpcyB3aGVuIHRoZXJlJ3MgbW9yZSBjb25maWRlbmNlIHRoZSBjaGVjayBzaG91bGRuJ3QgYmUgbmVlZGVkXG4gICAgICAgIGlmICghdGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8odmlld3BvcnRQb3NpdGlvbi5hbmNob3JQYWdlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHBhZ2U6ICcgKyB2aWV3cG9ydFBvc2l0aW9uLmFuY2hvclBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NhbnZhcy53aWR0aCAhPT0gdGhpcy5fdmlld3BvcnQud2lkdGggfHwgdGhpcy5fY2FudmFzLmhlaWdodCAhPT0gdGhpcy5fdmlld3BvcnQuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jYW52YXMud2lkdGggPSB0aGlzLl92aWV3cG9ydC53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy5oZWlnaHQgPSB0aGlzLl92aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGSVhNRTogV2hhdCBob29rcyBzaG91bGQgYmUgY2FsbGVkIGhlcmU/XG4gICAgICAgIHRoaXMuZ290byh2aWV3cG9ydFBvc2l0aW9uLmFuY2hvclBhZ2UsIHZpZXdwb3J0UG9zaXRpb24udmVydGljYWxPZmZzZXQsIHZpZXdwb3J0UG9zaXRpb24uaG9yaXpvbnRhbE9mZnNldCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NhbnZhcy5wYXJlbnROb2RlICE9PSB0aGlzLl9vdXRlckVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX291dGVyRWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5fY2FudmFzLCB0aGlzLl9vdXRlckVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkTG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faG9va3Mub25WaWV3RGlkTG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NldFZpZXdwb3J0UG9zaXRpb24gKHZpZXdwb3J0UG9zaXRpb24pXG4gICAge1xuICAgICAgICBpZiAodmlld3BvcnRQb3NpdGlvbi56b29tTGV2ZWwgIT09IHRoaXMuX3pvb21MZXZlbClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3pvb21MZXZlbCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY3VycmVudCB2aWV3IGlzIG5vdCB6b29tYWJsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmlld3BvcnRQb3NpdGlvbi56b29tTGV2ZWwgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGN1cnJlbnQgdmlldyByZXF1aXJlcyBhIHpvb20gbGV2ZWwnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2V0TGF5b3V0VG9ab29tTGV2ZWwodmlld3BvcnRQb3NpdGlvbi56b29tTGV2ZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZ290byh2aWV3cG9ydFBvc2l0aW9uLmFuY2hvclBhZ2UsIHZpZXdwb3J0UG9zaXRpb24udmVydGljYWxPZmZzZXQsIHZpZXdwb3J0UG9zaXRpb24uaG9yaXpvbnRhbE9mZnNldCk7XG4gICAgfVxuXG4gICAgX3NldExheW91dFRvWm9vbUxldmVsICh6b29tTGV2ZWwpXG4gICAge1xuICAgICAgICB0aGlzLmxheW91dCA9IG5ldyBEb2N1bWVudExheW91dCh0aGlzLl9jb25maWcsIHpvb21MZXZlbCk7XG4gICAgICAgIHRoaXMuX3pvb21MZXZlbCA9IHpvb21MZXZlbDtcblxuICAgICAgICBzZXRBdHRyaWJ1dGVzKHRoaXMuX2RvY3VtZW50RWxlbWVudCwge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMubGF5b3V0LmRpbWVuc2lvbnMuaGVpZ2h0ICsgJ3B4JyxcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5sYXlvdXQuZGltZW5zaW9ucy53aWR0aCArICdweCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fdmlld3BvcnQuc2V0SW5uZXJEaW1lbnNpb25zKHRoaXMubGF5b3V0LmRpbWVuc2lvbnMpO1xuICAgIH1cblxuICAgIGFkanVzdCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2xlYXJBbmltYXRpb24oKTtcblxuICAgICAgICB0aGlzLl9yZW5kZXIoKTtcblxuICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ob29rcy5vblZpZXdEaWRVcGRhdGUodGhpcy5fcmVuZGVyZWRQYWdlcy5zbGljZSgpLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZW5kZXIgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IG5ld1JlbmRlcmVkUGFnZXMgPSBbXTtcbiAgICAgICAgdGhpcy5sYXlvdXQucGFnZUdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl92aWV3cG9ydC5pbnRlcnNlY3RzUmVnaW9uKGdyb3VwLnJlZ2lvbikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlUGFnZXMgPSBncm91cC5wYWdlc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhZ2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc1BhZ2VWaXNpYmxlKHBhZ2UuaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpXG4gICAgICAgICAgICAgICAgLm1hcChwYWdlID0+IHBhZ2UuaW5kZXgpO1xuXG4gICAgICAgICAgICBuZXdSZW5kZXJlZFBhZ2VzLnB1c2guYXBwbHkobmV3UmVuZGVyZWRQYWdlcywgdmlzaWJsZVBhZ2VzKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9jYW52YXMud2lkdGgsIHRoaXMuX2NhbnZhcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9wYWludE91dGxpbmUobmV3UmVuZGVyZWRQYWdlcyk7XG5cbiAgICAgICAgbmV3UmVuZGVyZWRQYWdlcy5mb3JFYWNoKChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY29tcG9zaXRlSW1hZ2VzW3BhZ2VJbmRleF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMubGF5b3V0LmdldFBhZ2VJbmZvKHBhZ2VJbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgem9vbUxldmVscyA9IHRoaXMuX3NvdXJjZVJlc29sdmVyLmdldEFsbFpvb21MZXZlbHNGb3JQYWdlKHBhZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvc2l0ZSA9IG5ldyBDb21wb3NpdGVJbWFnZSh6b29tTGV2ZWxzKTtcbiAgICAgICAgICAgICAgICBjb21wb3NpdGUudXBkYXRlRnJvbUNhY2hlKHRoaXMuX2NhY2hlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XSA9IGNvbXBvc2l0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5faW5pdGlhdGVUaWxlUmVxdWVzdHMobmV3UmVuZGVyZWRQYWdlcyk7XG5cbiAgICAgICAgY29uc3QgY2hhbmdlcyA9IGZpbmRDaGFuZ2VzKHRoaXMuX3JlbmRlcmVkUGFnZXMgfHwgW10sIG5ld1JlbmRlcmVkUGFnZXMpO1xuXG4gICAgICAgIGNoYW5nZXMucmVtb3ZlZC5mb3JFYWNoKChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcyA9IG5ld1JlbmRlcmVkUGFnZXM7XG4gICAgICAgIHRoaXMuX3BhaW50KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hvb2tzLm9uUGFnZVdpbGxMb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjaGFuZ2VzLmFkZGVkLmZvckVhY2goKHBhZ2VJbmRleCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ob29rcy5vblBhZ2VXaWxsTG9hZChwYWdlSW5kZXgpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcGFpbnQgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkVGlsZXMgPSBbXTtcblxuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzLmZvckVhY2goIChwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvc2l0ZUltYWdlc1twYWdlSW5kZXhdLmdldFRpbGVzKHRoaXMuX3pvb21MZXZlbCkuZm9yRWFjaCgoc291cmNlKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlZCA9IGdldFNjYWxlZFRpbGVSZWNvcmQoc291cmNlLCB0aGlzLl96b29tTGV2ZWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVGlsZVZpc2libGUocGFnZUluZGV4LCBzY2FsZWQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRUaWxlcy5wdXNoKHNvdXJjZS51cmwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kcmF3VGlsZShwYWdlSW5kZXgsIHNjYWxlZCwgdGhpcy5fY2FjaGUuZ2V0KHNvdXJjZS51cmwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLl9jYWNoZTtcblxuICAgICAgICBjb25zdCBjaGFuZ2VzID0gZmluZENoYW5nZXModGhpcy5fcmVuZGVyZWRUaWxlcyB8fCBbXSwgcmVuZGVyZWRUaWxlcyk7XG5cbiAgICAgICAgY2hhbmdlcy5hZGRlZC5mb3JFYWNoKHVybCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZS5hY3F1aXJlKHVybCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNoYW5nZXMucmVtb3ZlZC5mb3JFYWNoKHVybCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZS5yZWxlYXNlKHVybCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjaGFuZ2VzLnJlbW92ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBTaG91bGQgb25seSBuZWVkIHRvIHVwZGF0ZSB0aGUgY29tcG9zaXRlIGltYWdlc1xuICAgICAgICAgICAgLy8gZm9yIHdoaWNoIHRpbGVzIHdlcmUgcmVtb3ZlZFxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlcy5mb3JFYWNoKChwYWdlSW5kZXgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcG9zaXRlSW1hZ2VzW3BhZ2VJbmRleF0udXBkYXRlRnJvbUNhY2hlKHRoaXMuX2NhY2hlKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyZWRUaWxlcyA9IHJlbmRlcmVkVGlsZXM7XG4gICAgfVxuXG4gICAgLy8gUGFpbnQgYSBwYWdlIG91dGxpbmUgd2hpbGUgdGhlIHRpbGVzIGFyZSBsb2FkaW5nLlxuICAgIF9wYWludE91dGxpbmUgKHBhZ2VzKVxuICAgIHtcbiAgICAgICAgcGFnZXMuZm9yRWFjaCggKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHBhZ2VJbmZvID0gdGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8ocGFnZUluZGV4KTtcbiAgICAgICAgICAgIGxldCBwYWdlT2Zmc2V0ID0gdGhpcy5fZ2V0SW1hZ2VPZmZzZXQocGFnZUluZGV4KTtcblxuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBkb2N1bWVudCBpcyBkcmF3biB0byB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgbGV0IHZpZXdwb3J0UGFkZGluZ1ggPSBNYXRoLm1heCgwLCAodGhpcy5fdmlld3BvcnQud2lkdGggLSB0aGlzLmxheW91dC5kaW1lbnNpb25zLndpZHRoKSAvIDIpO1xuICAgICAgICAgICAgbGV0IHZpZXdwb3J0UGFkZGluZ1kgPSBNYXRoLm1heCgwLCAodGhpcy5fdmlld3BvcnQuaGVpZ2h0IC0gdGhpcy5sYXlvdXQuZGltZW5zaW9ucy5oZWlnaHQpIC8gMik7XG5cbiAgICAgICAgICAgIGxldCB2aWV3cG9ydE9mZnNldFggPSBwYWdlT2Zmc2V0LmxlZnQgLSB0aGlzLl92aWV3cG9ydC5sZWZ0ICsgdmlld3BvcnRQYWRkaW5nWDtcbiAgICAgICAgICAgIGxldCB2aWV3cG9ydE9mZnNldFkgPSBwYWdlT2Zmc2V0LnRvcCAtIHRoaXMuX3ZpZXdwb3J0LnRvcCArIHZpZXdwb3J0UGFkZGluZ1k7XG5cbiAgICAgICAgICAgIGxldCBkZXN0WE9mZnNldCA9IHZpZXdwb3J0T2Zmc2V0WCA8IDAgPyAtdmlld3BvcnRPZmZzZXRYIDogMDtcbiAgICAgICAgICAgIGxldCBkZXN0WU9mZnNldCA9IHZpZXdwb3J0T2Zmc2V0WSA8IDAgPyAtdmlld3BvcnRPZmZzZXRZIDogMDtcblxuICAgICAgICAgICAgbGV0IGNhbnZhc1ggPSBNYXRoLm1heCgwLCB2aWV3cG9ydE9mZnNldFgpO1xuICAgICAgICAgICAgbGV0IGNhbnZhc1kgPSBNYXRoLm1heCgwLCB2aWV3cG9ydE9mZnNldFkpO1xuXG4gICAgICAgICAgICBsZXQgZGVzdFdpZHRoID0gcGFnZUluZm8uZGltZW5zaW9ucy53aWR0aCAtIGRlc3RYT2Zmc2V0O1xuICAgICAgICAgICAgbGV0IGRlc3RIZWlnaHQgPSBwYWdlSW5mby5kaW1lbnNpb25zLmhlaWdodCAtIGRlc3RZT2Zmc2V0O1xuXG4gICAgICAgICAgICB0aGlzLl9jdHguc3Ryb2tlU3R5bGUgPSAnI0FBQSc7XG4gICAgICAgICAgICAvLyBJbiBvcmRlciB0byBnZXQgYSAxcHggd2lkZSBsaW5lIHVzaW5nIHN0cm9rZXMsIHdlIG5lZWQgdG8gc3RhcnQgYXQgYSAnaGFsZiBwaXhlbCdcbiAgICAgICAgICAgIHRoaXMuX2N0eC5zdHJva2VSZWN0KGNhbnZhc1ggKyAwLjUsIGNhbnZhc1kgKyAwLjUsIGRlc3RXaWR0aCwgZGVzdEhlaWdodCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBzZW50IGFsbCB2aXNpYmxlIHBhZ2VzIGF0IG9uY2UgYmVjYXVzZSBpdCB3aWxsIGluaXRpYXRlXG4gICAgLy8gYWxsIGltYWdlIHJlcXVlc3RzIGFuZCBjYW5jZWwgYW55IHJlbWFpbmluZyBpbWFnZSByZXF1ZXN0cy4gSW4gdGhlIGNhc2UgdGhhdFxuICAgIC8vIGEgcmVxdWVzdCBpcyBvbmdvaW5nIGFuZCB0aGUgdGlsZSBpcyBzdGlsbCB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydCwgdGhlIG9sZCByZXF1ZXN0XG4gICAgLy8gaXMga2VwdCBhY3RpdmUgaW5zdGVhZCBvZiByZXN0YXJ0aW5nIGl0LiBUaGUgaW1hZ2UgcmVxdWVzdHMgYXJlIGdpdmVuIGEgdGltZW91dFxuICAgIC8vIGJlZm9yZSBsb2FkaW5nIGluIG9yZGVyIHRvIGRlYm91bmNlIHRoZW0gYW5kIGhhdmUgYSBzbWFsbCByZWFjdGlvbiB0aW1lXG4gICAgLy8gdG8gY2FuY2VsIHRoZW0gYW5kIGF2b2lkIHVzZWxlc3MgcmVxdWVzdHMuXG4gICAgX2luaXRpYXRlVGlsZVJlcXVlc3RzIChwYWdlcylcbiAgICB7XG4gICAgICAgIC8vIE9ubHkgcmVxdWVzdHMgaW4gdGhpcyBvYmplY3QgYXJlIGtlcHQgYWxpdmUsIHNpbmNlIGFsbCBvdGhlcnMgYXJlIG5vdCB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydFxuICAgICAgICBjb25zdCBuZXdQZW5kaW5nUmVxdWVzdHMgPSB7fTtcblxuICAgICAgICAvLyBVc2VkIGxhdGVyIGFzIGEgY2xvc3VyZSB0byBpbml0aWF0ZSB0aGUgaW1hZ2UgcmVxdWVzdHMgd2l0aCB0aGUgcmlnaHQgc291cmNlIGFuZCBwYWdlSW5kZXhcbiAgICAgICAgY29uc3QgaW5pdGlhdGVSZXF1ZXN0ID0gKHNvdXJjZSwgcGFnZUluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjb21wb3NpdGUgPSB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XTtcblxuICAgICAgICAgICAgbmV3UGVuZGluZ1JlcXVlc3RzW3NvdXJjZS51cmxdID0gbmV3IEltYWdlUmVxdWVzdEhhbmRsZXIoe1xuICAgICAgICAgICAgICAgIHVybDogc291cmNlLnVybCxcbiAgICAgICAgICAgICAgICB0aW1lb3V0VGltZTogUkVRVUVTVF9ERUJPVU5DRV9JTlRFUlZBTCxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogdGhpcy5fc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgbG9hZDogaW1nID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1JlcXVlc3RzW3NvdXJjZS51cmxdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZS5wdXQoc291cmNlLnVybCwgaW1nKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBBd2t3YXJkIHdheSB0byBjaGVjayBmb3IgdXBkYXRlc1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9zaXRlID09PSB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9zaXRlLnVwZGF0ZVdpdGhMb2FkZWRVcmxzKFtzb3VyY2UudXJsXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1RpbGVGb3JTb3VyY2VWaXNpYmxlKHBhZ2VJbmRleCwgc291cmNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYWludCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVGlsZUZvclNvdXJjZVZpc2libGUocGFnZUluZGV4LCBzb3VyY2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogQ291bGQgbWFrZSBhIGxpbWl0ZWQgbnVtYmVyIG9mIHJldHJpZXMsIGV0Yy5cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tzb3VyY2UudXJsXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwYWdlSW5kZXggPSBwYWdlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHRpbGVzID0gdGhpcy5fc291cmNlUmVzb2x2ZXIuZ2V0QmVzdFpvb21MZXZlbEZvclBhZ2UodGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8ocGFnZUluZGV4KSkudGlsZXM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGlsZXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gdGlsZXNbal07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlLmhhcyhzb3VyY2UudXJsKSB8fCAhdGhpcy5faXNUaWxlRm9yU291cmNlVmlzaWJsZShwYWdlSW5kZXgsIHNvdXJjZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBEb24ndCBjcmVhdGUgYSBuZXcgcmVxdWVzdCBpZiB0aGUgdGlsZSBpcyBhbHJlYWR5IGJlaW5nIGxvYWRlZFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdQZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF0gPSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF07XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFVzZSBhIGNsb3N1cmUgc2luY2UgdGhlIGxvYWQgYW5kIGVycm9yIG1ldGhvZHMgYXJlIGdvaW5nIHRvIGJlIGNhbGxlZCBsYXRlciBhbmRcbiAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJpZ2h0IHJlZmVyZW5jZSB0byB0aGUgc291cmNlIGFuZCB0aGUgcGFnZSBpbmRleFxuICAgICAgICAgICAgICAgIGluaXRpYXRlUmVxdWVzdChzb3VyY2UsIHBhZ2VJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHVybCBpbiB0aGlzLl9wZW5kaW5nUmVxdWVzdHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1t1cmxdLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcXVlc3RzID0gbmV3UGVuZGluZ1JlcXVlc3RzO1xuICAgIH1cblxuICAgIF9kcmF3VGlsZSAocGFnZUluZGV4LCBzY2FsZWRUaWxlLCBpbWcpXG4gICAge1xuICAgICAgICBsZXQgdGlsZU9mZnNldCA9IHRoaXMuX2dldFRpbGVUb0RvY3VtZW50T2Zmc2V0KHBhZ2VJbmRleCwgc2NhbGVkVGlsZSk7XG5cbiAgICAgICAgLy8gRW5zdXJlIHRoZSBkb2N1bWVudCBpcyBkcmF3biB0byB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICBsZXQgdmlld3BvcnRQYWRkaW5nWCA9IE1hdGgubWF4KDAsICh0aGlzLl92aWV3cG9ydC53aWR0aCAtIHRoaXMubGF5b3V0LmRpbWVuc2lvbnMud2lkdGgpIC8gMik7XG4gICAgICAgIGxldCB2aWV3cG9ydFBhZGRpbmdZID0gTWF0aC5tYXgoMCwgKHRoaXMuX3ZpZXdwb3J0LmhlaWdodCAtIHRoaXMubGF5b3V0LmRpbWVuc2lvbnMuaGVpZ2h0KSAvIDIpO1xuXG4gICAgICAgIGxldCB2aWV3cG9ydE9mZnNldFggPSB0aWxlT2Zmc2V0LmxlZnQgLSB0aGlzLl92aWV3cG9ydC5sZWZ0ICsgdmlld3BvcnRQYWRkaW5nWDtcbiAgICAgICAgbGV0IHZpZXdwb3J0T2Zmc2V0WSA9IHRpbGVPZmZzZXQudG9wIC0gdGhpcy5fdmlld3BvcnQudG9wICsgdmlld3BvcnRQYWRkaW5nWTtcblxuICAgICAgICBsZXQgZGVzdFhPZmZzZXQgPSB2aWV3cG9ydE9mZnNldFggPCAwID8gLXZpZXdwb3J0T2Zmc2V0WCA6IDA7XG4gICAgICAgIGxldCBkZXN0WU9mZnNldCA9IHZpZXdwb3J0T2Zmc2V0WSA8IDAgPyAtdmlld3BvcnRPZmZzZXRZIDogMDtcblxuICAgICAgICBsZXQgY2FudmFzWCA9IE1hdGgubWF4KDAsIHZpZXdwb3J0T2Zmc2V0WCk7XG4gICAgICAgIGxldCBjYW52YXNZID0gTWF0aC5tYXgoMCwgdmlld3BvcnRPZmZzZXRZKTtcblxuICAgICAgICBsZXQgc291cmNlWE9mZnNldCA9IGRlc3RYT2Zmc2V0IC8gc2NhbGVkVGlsZS5zY2FsZVJhdGlvO1xuICAgICAgICBsZXQgc291cmNlWU9mZnNldCA9IGRlc3RZT2Zmc2V0IC8gc2NhbGVkVGlsZS5zY2FsZVJhdGlvO1xuXG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSBzcGVjaWZpZWQgZGltZW5zaW9ucyBhcmUgbm8gZ3JlYXRlciB0aGFuIHRoZSBhY3R1YWxcbiAgICAgICAgLy8gc2l6ZSBvZiB0aGUgaW1hZ2UuIFNhZmFyaSB3b24ndCBkaXNwbGF5IHRoZSB0aWxlIGlmIHRoZXkgYXJlLlxuICAgICAgICBsZXQgZGVzdEltZ1dpZHRoID0gTWF0aC5taW4oc2NhbGVkVGlsZS5kaW1lbnNpb25zLndpZHRoLCBpbWcud2lkdGggKiBzY2FsZWRUaWxlLnNjYWxlUmF0aW8pIC0gZGVzdFhPZmZzZXQ7XG4gICAgICAgIGxldCBkZXN0SW1nSGVpZ2h0ID0gTWF0aC5taW4oc2NhbGVkVGlsZS5kaW1lbnNpb25zLmhlaWdodCwgaW1nLmhlaWdodCAqIHNjYWxlZFRpbGUuc2NhbGVSYXRpbykgLSBkZXN0WU9mZnNldDtcblxuICAgICAgICBsZXQgZGVzdFdpZHRoID0gTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChkZXN0SW1nV2lkdGgpKTtcbiAgICAgICAgbGV0IGRlc3RIZWlnaHQgPSBNYXRoLm1heCgxLCBNYXRoLnJvdW5kKGRlc3RJbWdIZWlnaHQpKTtcblxuICAgICAgICBsZXQgc291cmNlV2lkdGggPSBkZXN0V2lkdGggLyBzY2FsZWRUaWxlLnNjYWxlUmF0aW87XG4gICAgICAgIGxldCBzb3VyY2VIZWlnaHQgPSBkZXN0SGVpZ2h0IC8gc2NhbGVkVGlsZS5zY2FsZVJhdGlvO1xuXG4gICAgICAgIHRoaXMuX2N0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICBpbWcsXG4gICAgICAgICAgICBzb3VyY2VYT2Zmc2V0LCBzb3VyY2VZT2Zmc2V0LFxuICAgICAgICAgICAgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCxcbiAgICAgICAgICAgIGNhbnZhc1gsIGNhbnZhc1ksXG4gICAgICAgICAgICBkZXN0V2lkdGgsIGRlc3RIZWlnaHQpO1xuICAgIH1cblxuICAgIF9pc1RpbGVGb3JTb3VyY2VWaXNpYmxlIChwYWdlSW5kZXgsIHRpbGVTb3VyY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNUaWxlVmlzaWJsZShwYWdlSW5kZXgsIGdldFNjYWxlZFRpbGVSZWNvcmQodGlsZVNvdXJjZSwgdGhpcy5fem9vbUxldmVsKSk7XG4gICAgfVxuXG4gICAgX2lzVGlsZVZpc2libGUgKHBhZ2VJbmRleCwgc2NhbGVkVGlsZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHRpbGVPZmZzZXQgPSB0aGlzLl9nZXRUaWxlVG9Eb2N1bWVudE9mZnNldChwYWdlSW5kZXgsIHNjYWxlZFRpbGUpO1xuXG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IFRoaXMgY2hlY2sgaXMgaW5zdWZmaWNpZW50IGR1cmluZyBhIHpvb20gdHJhbnNpdGlvblxuICAgICAgICByZXR1cm4gdGhpcy5fdmlld3BvcnQuaW50ZXJzZWN0c1JlZ2lvbih7XG4gICAgICAgICAgICB0b3A6IHRpbGVPZmZzZXQudG9wLFxuICAgICAgICAgICAgYm90dG9tOiB0aWxlT2Zmc2V0LnRvcCArIHNjYWxlZFRpbGUuZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgICBsZWZ0OiB0aWxlT2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICByaWdodDogdGlsZU9mZnNldC5sZWZ0ICsgc2NhbGVkVGlsZS5kaW1lbnNpb25zLndpZHRoXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9nZXRUaWxlVG9Eb2N1bWVudE9mZnNldCAocGFnZUluZGV4LCBzY2FsZWRUaWxlKVxuICAgIHtcbiAgICAgICAgY29uc3QgaW1hZ2VPZmZzZXQgPSB0aGlzLl9nZXRJbWFnZU9mZnNldChwYWdlSW5kZXgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3A6IGltYWdlT2Zmc2V0LnRvcCArIHNjYWxlZFRpbGUub2Zmc2V0LnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IGltYWdlT2Zmc2V0LmxlZnQgKyBzY2FsZWRUaWxlLm9mZnNldC5sZWZ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2dldEltYWdlT2Zmc2V0IChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXlvdXQuZ2V0UGFnZU9mZnNldChwYWdlSW5kZXgsIHtpbmNsdWRlUGFkZGluZzogdHJ1ZX0pO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFVwZGF0ZSBzaWduYXR1cmVcbiAgICBnb3RvIChwYWdlSW5kZXgsIHZlcnRpY2FsT2Zmc2V0LCBob3Jpem9udGFsT2Zmc2V0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2xlYXJBbmltYXRpb24oKTtcbiAgICAgICAgdGhpcy5fZ290byhwYWdlSW5kZXgsIHZlcnRpY2FsT2Zmc2V0LCBob3Jpem9udGFsT2Zmc2V0KTtcblxuICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ob29rcy5vblZpZXdEaWRVcGRhdGUodGhpcy5fcmVuZGVyZWRQYWdlcy5zbGljZSgpLCBwYWdlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dvdG8gKHBhZ2VJbmRleCwgdmVydGljYWxPZmZzZXQsIGhvcml6b250YWxPZmZzZXQpXG4gICAge1xuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBNb3ZlIHRoaXMgbG9naWMgdG8gdGhlIHZpZXdlclxuICAgICAgICBjb25zdCBwYWdlT2Zmc2V0ID0gdGhpcy5sYXlvdXQuZ2V0UGFnZU9mZnNldChwYWdlSW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IGRlc2lyZWRWZXJ0aWNhbENlbnRlciA9IHBhZ2VPZmZzZXQudG9wICsgdmVydGljYWxPZmZzZXQ7XG4gICAgICAgIGNvbnN0IHRvcCA9IGRlc2lyZWRWZXJ0aWNhbENlbnRlciAtIE1hdGgucm91bmQodGhpcy5fdmlld3BvcnQuaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgY29uc3QgZGVzaXJlZEhvcml6b250YWxDZW50ZXIgPSBwYWdlT2Zmc2V0LmxlZnQgKyBob3Jpem9udGFsT2Zmc2V0O1xuICAgICAgICBjb25zdCBsZWZ0ID0gZGVzaXJlZEhvcml6b250YWxDZW50ZXIgLSBNYXRoLnJvdW5kKHRoaXMuX3ZpZXdwb3J0LndpZHRoIC8gMik7XG5cbiAgICAgICAgdGhpcy5fdmlld3BvcnQudG9wID0gdG9wO1xuICAgICAgICB0aGlzLl92aWV3cG9ydC5sZWZ0ID0gbGVmdDtcblxuICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICB9XG5cbiAgICB0cmFuc2l0aW9uVmlld3BvcnRQb3NpdGlvbiAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMuX2NsZWFyQW5pbWF0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgZ2V0UG9zaXRpb24gPSBvcHRpb25zLmdldFBvc2l0aW9uO1xuICAgICAgICBjb25zdCBvblZpZXdEaWRUcmFuc2l0aW9uID0gdGhpcy5faG9va3Mub25WaWV3RGlkVHJhbnNpdGlvbjtcblxuICAgICAgICB0aGlzLl9hbmltYXRpb24gPSBJbnRlcnBvbGF0ZUFuaW1hdGlvbi5hbmltYXRlKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgICAgcGFyYW1ldGVyczogb3B0aW9ucy5wYXJhbWV0ZXJzLFxuICAgICAgICAgICAgb25VcGRhdGU6ICh2YWx1ZXMpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Vmlld3BvcnRQb3NpdGlvbihnZXRQb3NpdGlvbih2YWx1ZXMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ob29rcy5vblpvb21MZXZlbFdpbGxDaGFuZ2UodmFsdWVzLnpvb21MZXZlbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAob25WaWV3RGlkVHJhbnNpdGlvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9uVmlld0RpZFRyYW5zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FbmQ6IChpbmZvKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm9uRW5kKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vbkVuZChpbmZvKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlICYmICFpbmZvLmludGVycnVwdGVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faG9va3Mub25WaWV3RGlkVXBkYXRlKHRoaXMuX3JlbmRlcmVkUGFnZXMuc2xpY2UoKSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfY2xlYXJBbmltYXRpb24gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hbmltYXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc1BhZ2VWaXNpYmxlIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMubGF5b3V0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8ocGFnZUluZGV4KTtcblxuICAgICAgICBpZiAoIXBhZ2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3cG9ydC5pbnRlcnNlY3RzUmVnaW9uKHRoaXMubGF5b3V0LmdldFBhZ2VSZWdpb24ocGFnZUluZGV4KSk7XG4gICAgfVxuXG4gICAgZ2V0UmVuZGVyZWRQYWdlcyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVkUGFnZXMuc2xpY2UoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9jbGVhckFuaW1hdGlvbigpO1xuXG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IEkgZG9uJ3Qga25vdyBpZiB3ZSBzaG91bGQgYWN0dWFsbHkgZG8gdGhpc1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9wZW5kaW5nUmVxdWVzdHMpLmZvckVhY2goKHJlcSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tyZXFdO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tyZXFdO1xuXG4gICAgICAgICAgICBoYW5kbGVyLmFib3J0KCk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2NhbnZhcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuX2NhbnZhcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRTY2FsZWRUaWxlUmVjb3JkIChzb3VyY2UsIHNjYWxlRmFjdG9yKVxue1xuICAgIGxldCBzY2FsZVJhdGlvO1xuXG4gICAgaWYgKHNjYWxlRmFjdG9yID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgc2NhbGVSYXRpbyA9IDE7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHNjYWxlUmF0aW8gPSBNYXRoLnBvdygyLCBzY2FsZUZhY3RvciAtIHNvdXJjZS56b29tTGV2ZWwpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHNvdXJjZVpvb21MZXZlbDogc291cmNlLnpvb21MZXZlbCxcbiAgICAgICAgc2NhbGVSYXRpbzogc2NhbGVSYXRpbyxcbiAgICAgICAgcm93OiBzb3VyY2Uucm93LFxuICAgICAgICBjb2w6IHNvdXJjZS5jb2wsXG4gICAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgICAgIHdpZHRoOiBzb3VyY2UuZGltZW5zaW9ucy53aWR0aCAqIHNjYWxlUmF0aW8sXG4gICAgICAgICAgICBoZWlnaHQ6IHNvdXJjZS5kaW1lbnNpb25zLmhlaWdodCAqIHNjYWxlUmF0aW9cbiAgICAgICAgfSxcbiAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICBsZWZ0OiBzb3VyY2Uub2Zmc2V0LmxlZnQgKiBzY2FsZVJhdGlvLFxuICAgICAgICAgICAgdG9wOiBzb3VyY2Uub2Zmc2V0LnRvcCAqIHNjYWxlUmF0aW9cbiAgICAgICAgfSxcbiAgICAgICAgdXJsOiBzb3VyY2UudXJsXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZmluZENoYW5nZXMgKG9sZEFycmF5LCBuZXdBcnJheSlcbntcbiAgICBpZiAob2xkQXJyYXkgPT09IG5ld0FycmF5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZGVkOiBbXSxcbiAgICAgICAgICAgIHJlbW92ZWQ6IFtdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgcmVtb3ZlZCA9IG9sZEFycmF5LmZpbHRlcihvbGRFbnRyeSA9PiBuZXdBcnJheS5pbmRleE9mKG9sZEVudHJ5KSA9PT0gLTEpO1xuXG4gICAgY29uc3QgYWRkZWQgPSBuZXdBcnJheS5maWx0ZXIobmV3RW50cnkgPT4gb2xkQXJyYXkuaW5kZXhPZihuZXdFbnRyeSkgPT09IC0xKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZGVkOiBhZGRlZCxcbiAgICAgICAgcmVtb3ZlZDogcmVtb3ZlZFxuICAgIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRQYWdlRGltZW5zaW9ucyAocGFnZUluZGV4LCBtYW5pZmVzdClcbntcbiAgICBjb25zdCBkaW1zID0gbWFuaWZlc3QuZ2V0TWF4UGFnZURpbWVuc2lvbnMocGFnZUluZGV4KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBNYXRoLmZsb29yKGRpbXMud2lkdGgpLFxuICAgICAgICBoZWlnaHQ6IE1hdGguZmxvb3IoZGltcy5oZWlnaHQpXG4gICAgfTtcbn1cbiIsImltcG9ydCBnZXRQYWdlRGltZW5zaW9ucyBmcm9tICcuL3BhZ2UtZGltZW5zaW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEJvb2tMYXlvdXRHcm91cHMgKHZpZXdlckNvbmZpZylcbntcbiAgICBjb25zdCBncm91cGluZ3MgPSBnZXRHcm91cGluZ3Modmlld2VyQ29uZmlnKTtcblxuICAgIHJldHVybiBncm91cGluZ3MubWFwKGdyb3VwaW5nID0+IGdldEdyb3VwTGF5b3V0c0Zyb21QYWdlR3JvdXBpbmcodmlld2VyQ29uZmlnLCBncm91cGluZykpO1xufVxuXG5mdW5jdGlvbiBnZXRHcm91cGluZ3Modmlld2VyQ29uZmlnKVxue1xuICAgIGNvbnN0IG1hbmlmZXN0ID0gdmlld2VyQ29uZmlnLm1hbmlmZXN0O1xuXG4gICAgY29uc3QgcGFnZXNCeUdyb3VwID0gW107XG4gICAgbGV0IGxlZnRQYWdlID0gbnVsbDtcbiAgICBsZXQgbm9uUGFnZWRQYWdlcyA9IFtdOyAvLyBQYWdlcyB0byBkaXNwbGF5IGJlbG93IHRoZSBjdXJyZW50IGdyb3VwXG5cbiAgICBjb25zdCBfYWRkTm9uUGFnZWRQYWdlcyA9ICgpID0+XG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbmxlbiA9IG5vblBhZ2VkUGFnZXMubGVuZ3RoOyBpIDwgbmxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBwYWdlc0J5R3JvdXAucHVzaChbIG5vblBhZ2VkUGFnZXNbaV0gXSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9uUGFnZWRQYWdlcyA9IFtdO1xuICAgIH07XG5cbiAgICBtYW5pZmVzdC5wYWdlcy5mb3JFYWNoKCAocGFnZSwgaW5kZXgpID0+XG4gICAge1xuICAgICAgICBjb25zdCBwYWdlUmVjb3JkID0ge1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgZGltZW5zaW9uczogZ2V0UGFnZURpbWVuc2lvbnMoaW5kZXgsIG1hbmlmZXN0KSxcbiAgICAgICAgICAgIHBhZ2VkOiAoIW1hbmlmZXN0LnBhZ2VkIHx8IHBhZ2UucGFnZWQpXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gT25seSBkaXNwbGF5IG5vbi1wYWdlZCBwYWdlcyBpZiBzcGVjaWZpZWQgaW4gdGhlIHNldHRpbmdzXG4gICAgICAgIGlmICghdmlld2VyQ29uZmlnLnNob3dOb25QYWdlZFBhZ2VzICYmICFwYWdlUmVjb3JkLnBhZ2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICghcGFnZVJlY29yZC5wYWdlZClcbiAgICAgICAge1xuICAgICAgICAgICAgbm9uUGFnZWRQYWdlcy5wdXNoKHBhZ2VSZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluZGV4ID09PSAwIHx8IHBhZ2UuZmFjaW5nUGFnZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRoZSBmaXJzdCBwYWdlIGlzIHBsYWNlZCBvbiBpdHMgb3duXG4gICAgICAgICAgICBwYWdlc0J5R3JvdXAucHVzaChbcGFnZVJlY29yZF0pO1xuICAgICAgICAgICAgX2FkZE5vblBhZ2VkUGFnZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsZWZ0UGFnZSA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgbGVmdFBhZ2UgPSBwYWdlUmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcGFnZXNCeUdyb3VwLnB1c2goW2xlZnRQYWdlLCBwYWdlUmVjb3JkXSk7XG4gICAgICAgICAgICBsZWZ0UGFnZSA9IG51bGw7XG4gICAgICAgICAgICBfYWRkTm9uUGFnZWRQYWdlcygpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBGbHVzaCBhIGZpbmFsIGxlZnQgcGFnZVxuICAgIGlmIChsZWZ0UGFnZSAhPT0gbnVsbClcbiAgICB7XG4gICAgICAgIHBhZ2VzQnlHcm91cC5wdXNoKFtsZWZ0UGFnZV0pO1xuICAgICAgICBfYWRkTm9uUGFnZWRQYWdlcygpO1xuICAgIH1cblxuICAgIHJldHVybiBwYWdlc0J5R3JvdXA7XG59XG5cbmZ1bmN0aW9uIGdldEdyb3VwTGF5b3V0c0Zyb21QYWdlR3JvdXBpbmcodmlld2VyQ29uZmlnLCBncm91cGluZylcbntcbiAgICBjb25zdCB2ZXJ0aWNhbGx5T3JpZW50ZWQgPSB2aWV3ZXJDb25maWcudmVydGljYWxseU9yaWVudGVkO1xuXG4gICAgaWYgKGdyb3VwaW5nLmxlbmd0aCA9PT0gMilcbiAgICAgICAgcmV0dXJuIGdldEZhY2luZ1BhZ2VHcm91cChncm91cGluZ1swXSwgZ3JvdXBpbmdbMV0sIHZlcnRpY2FsbHlPcmllbnRlZCk7XG5cbiAgICBjb25zdCBwYWdlID0gZ3JvdXBpbmdbMF07XG4gICAgY29uc3QgcGFnZURpbXMgPSBwYWdlLmRpbWVuc2lvbnM7XG5cbiAgICAvLyBUaGUgZmlyc3QgcGFnZSBpcyBwbGFjZWQgb24gaXRzIG93biB0byB0aGUgcmlnaHQgaW4gdmVydGljYWwgb3JpZW50YXRpb24uXG4gICAgLy8gTkIgdGhhdCB0aGlzIG5lZWRzIHRvIGJlIHRoZSBwYWdlIHdpdGggaW5kZXggMDsgaWYgdGhlIGZpcnN0IHBhZ2UgaXMgZXhjbHVkZWRcbiAgICAvLyBmcm9tIHRoZSBsYXlvdXQgdGhlbiB0aGlzIHNwZWNpYWwgY2FzZSBzaG91bGRuJ3QgYXBwbHkuXG4gICAgLy8gSWYgdGhlIHBhZ2UgaXMgdGFnZ2VkIGFzICdub24tcGFnZWQnLCBjZW50ZXIgaXQgaG9yaXpvbnRhbGx5XG4gICAgbGV0IGxlZnRPZmZzZXQ7XG4gICAgaWYgKHBhZ2UucGFnZWQpXG4gICAgICAgIGxlZnRPZmZzZXQgPSAocGFnZS5pbmRleCA9PT0gMCAmJiB2ZXJ0aWNhbGx5T3JpZW50ZWQpID8gcGFnZURpbXMud2lkdGggOiAwO1xuICAgIGVsc2VcbiAgICAgICAgbGVmdE9mZnNldCA9ICh2ZXJ0aWNhbGx5T3JpZW50ZWQpID8gcGFnZURpbXMud2lkdGggLyAyIDogMDtcblxuICAgIGNvbnN0IHNob3VsZEJlSG9yaXpvbnRhbGx5QWRqdXN0ZWQgPVxuICAgICAgICB2ZXJ0aWNhbGx5T3JpZW50ZWQgJiYgIXZpZXdlckNvbmZpZy5tYW5pZmVzdC5wYWdlc1twYWdlLmluZGV4XS5mYWNpbmdQYWdlcztcblxuICAgIC8vIFdlIG5lZWQgdG8gbGVmdC1hbGlnbiB0aGUgcGFnZSBpbiB2ZXJ0aWNhbCBvcmllbnRhdGlvbiwgc28gd2UgZG91YmxlXG4gICAgLy8gdGhlIGdyb3VwIHdpZHRoXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGltZW5zaW9uczoge1xuICAgICAgICAgICAgaGVpZ2h0OiBwYWdlRGltcy5oZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogc2hvdWxkQmVIb3Jpem9udGFsbHlBZGp1c3RlZCA/IHBhZ2VEaW1zLndpZHRoICogMiA6IHBhZ2VEaW1zLndpZHRoXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2VzOiBbe1xuICAgICAgICAgICAgaW5kZXg6IHBhZ2UuaW5kZXgsXG4gICAgICAgICAgICBncm91cE9mZnNldDoge1xuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0T2Zmc2V0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZURpbXNcbiAgICAgICAgfV1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRGYWNpbmdQYWdlR3JvdXAobGVmdFBhZ2UsIHJpZ2h0UGFnZSwgdmVydGljYWxseU9yaWVudGVkKVxue1xuICAgIGNvbnN0IGxlZnREaW1zID0gbGVmdFBhZ2UuZGltZW5zaW9ucztcbiAgICBjb25zdCByaWdodERpbXMgPSByaWdodFBhZ2UuZGltZW5zaW9ucztcblxuICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KGxlZnREaW1zLmhlaWdodCwgcmlnaHREaW1zLmhlaWdodCk7XG5cbiAgICBsZXQgd2lkdGgsIGZpcnN0TGVmdE9mZnNldCwgc2Vjb25kTGVmdE9mZnNldDtcblxuICAgIGlmICh2ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAge1xuICAgICAgICBjb25zdCBtaWRXaWR0aCA9IE1hdGgubWF4KGxlZnREaW1zLndpZHRoLCByaWdodERpbXMud2lkdGgpO1xuXG4gICAgICAgIHdpZHRoID0gbWlkV2lkdGggKiAyO1xuXG4gICAgICAgIGZpcnN0TGVmdE9mZnNldCA9IG1pZFdpZHRoIC0gbGVmdERpbXMud2lkdGg7XG4gICAgICAgIHNlY29uZExlZnRPZmZzZXQgPSBtaWRXaWR0aDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBsZWZ0RGltcy53aWR0aCArIHJpZ2h0RGltcy53aWR0aDtcbiAgICAgICAgZmlyc3RMZWZ0T2Zmc2V0ID0gMDtcbiAgICAgICAgc2Vjb25kTGVmdE9mZnNldCA9IGxlZnREaW1zLndpZHRoO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2VzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGxlZnRQYWdlLmluZGV4LFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IGxlZnREaW1zLFxuICAgICAgICAgICAgICAgIGdyb3VwT2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogZmlyc3RMZWZ0T2Zmc2V0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleDogcmlnaHRQYWdlLmluZGV4LFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IHJpZ2h0RGltcyxcbiAgICAgICAgICAgICAgICBncm91cE9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHNlY29uZExlZnRPZmZzZXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRHcmlkTGF5b3V0R3JvdXBzICh2aWV3ZXJDb25maWcpXG57XG4gICAgY29uc3Qgdmlld3BvcnRXaWR0aCA9IHZpZXdlckNvbmZpZy52aWV3cG9ydC53aWR0aDtcbiAgICBjb25zdCBtYW5pZmVzdCA9IHZpZXdlckNvbmZpZy5tYW5pZmVzdDtcbiAgICBjb25zdCBwYWdlc1BlclJvdyA9IHZpZXdlckNvbmZpZy5wYWdlc1BlclJvdztcbiAgICBjb25zdCBmaXhlZEhlaWdodEdyaWQgPSB2aWV3ZXJDb25maWcuZml4ZWRIZWlnaHRHcmlkO1xuICAgIGNvbnN0IGZpeGVkUGFkZGluZyA9IHZpZXdlckNvbmZpZy5maXhlZFBhZGRpbmc7XG4gICAgY29uc3Qgc2hvd05vblBhZ2VkUGFnZXMgPSB2aWV3ZXJDb25maWcuc2hvd05vblBhZ2VkUGFnZXM7XG5cbiAgICBjb25zdCBob3Jpem9udGFsUGFkZGluZyA9IGZpeGVkUGFkZGluZyAqIChwYWdlc1BlclJvdyArIDEpO1xuICAgIGNvbnN0IHBhZ2VXaWR0aCA9ICh2aWV3cG9ydFdpZHRoIC0gaG9yaXpvbnRhbFBhZGRpbmcpIC8gcGFnZXNQZXJSb3c7XG4gICAgY29uc3QgZ3JpZFBhZ2VXaWR0aCA9IHBhZ2VXaWR0aDtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgcm93IGhlaWdodCBkZXBlbmRpbmcgb24gd2hldGhlciB3ZSB3YW50IHRvIGZpeCB0aGUgd2lkdGggb3IgdGhlIGhlaWdodFxuICAgIGNvbnN0IHJvd0hlaWdodCA9IChmaXhlZEhlaWdodEdyaWQpID8gZml4ZWRQYWRkaW5nICsgbWFuaWZlc3QubWluUmF0aW8gKiBwYWdlV2lkdGggOiBmaXhlZFBhZGRpbmcgKyBtYW5pZmVzdC5tYXhSYXRpbyAqIHBhZ2VXaWR0aDtcblxuICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuICAgIGxldCBjdXJyZW50UGFnZXMgPSBbXTtcblxuICAgIGNvbnN0IGdldEdyaWRQYWdlRGltZW5zaW9ucyA9IHBhZ2VEYXRhID0+XG4gICAge1xuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHdpZHRoLCBoZWlnaHQgYW5kIGhvcml6b250YWwgcGxhY2VtZW50IG9mIHRoaXMgcGFnZVxuICAgICAgICAvLyBHZXQgZGltZW5zaW9ucyBhdCBtYXggem9vbSBsZXZlbCwgYWx0aG91Z2ggYW55IGxldmVsIHNob3VsZCBiZSBmaW5lXG4gICAgICAgIGNvbnN0IHBhZ2VEaW1lbkRhdGEgPSBwYWdlRGF0YS5kW3BhZ2VEYXRhLmQubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGhlaWdodFRvV2lkdGhSYXRpbyA9IHBhZ2VEaW1lbkRhdGEuaCAvIHBhZ2VEaW1lbkRhdGEudztcblxuICAgICAgICBsZXQgcGFnZVdpZHRoLCBwYWdlSGVpZ2h0O1xuXG4gICAgICAgIGlmIChmaXhlZEhlaWdodEdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VXaWR0aCA9IChyb3dIZWlnaHQgLSBmaXhlZFBhZGRpbmcpIC8gaGVpZ2h0VG9XaWR0aFJhdGlvO1xuICAgICAgICAgICAgcGFnZUhlaWdodCA9IHJvd0hlaWdodCAtIGZpeGVkUGFkZGluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VXaWR0aCA9IGdyaWRQYWdlV2lkdGg7XG4gICAgICAgICAgICBwYWdlSGVpZ2h0ID0gcGFnZVdpZHRoICogaGVpZ2h0VG9XaWR0aFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHBhZ2VXaWR0aCksXG4gICAgICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQocGFnZUhlaWdodClcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3Qgcm93RGltZW5zaW9ucyA9IHtcbiAgICAgICAgaGVpZ2h0OiByb3dIZWlnaHQsXG4gICAgICAgIHdpZHRoOiB2aWV3cG9ydFdpZHRoXG4gICAgfTtcblxuICAgIG1hbmlmZXN0LnBhZ2VzLmZvckVhY2goIChwYWdlLCBwYWdlSW5kZXgpID0+XG4gICAge1xuICAgICAgICBpZiAoIXNob3dOb25QYWdlZFBhZ2VzICYmIG1hbmlmZXN0LnBhZ2VkICYmICFwYWdlLnBhZ2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgd2lkdGgsIGhlaWdodCBhbmQgaG9yaXpvbnRhbCBwbGFjZW1lbnQgb2YgdGhpcyBwYWdlXG4gICAgICAgIGNvbnN0IHBhZ2VEaW1lbnMgPSBnZXRHcmlkUGFnZURpbWVuc2lvbnMocGFnZSk7XG4gICAgICAgIGxldCBsZWZ0T2Zmc2V0ID0gTWF0aC5mbG9vcihjdXJyZW50UGFnZXMubGVuZ3RoICogKGZpeGVkUGFkZGluZyArIGdyaWRQYWdlV2lkdGgpICsgZml4ZWRQYWRkaW5nKTtcblxuICAgICAgICAvLyBDZW50ZXIgdGhlIHBhZ2UgaWYgdGhlIGhlaWdodCBpcyBmaXhlZCAob3RoZXJ3aXNlLCB0aGVyZSBpcyBubyBob3Jpem9udGFsIHBhZGRpbmcpXG4gICAgICAgIGlmIChmaXhlZEhlaWdodEdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxlZnRPZmZzZXQgKz0gKGdyaWRQYWdlV2lkdGggLSBwYWdlRGltZW5zLndpZHRoKSAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBQcmVjb21wdXRlIHBhZ2UgZGltZW5zaW9ucyBldmVyeXdoZXJlXG4gICAgICAgIGN1cnJlbnRQYWdlcy5wdXNoKHtcbiAgICAgICAgICAgIGluZGV4OiBwYWdlSW5kZXgsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBwYWdlRGltZW5zLFxuICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogbGVmdE9mZnNldFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoY3VycmVudFBhZ2VzLmxlbmd0aCA9PT0gcGFnZXNQZXJSb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdyb3Vwcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiByb3dEaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgIHBhZ2VzOiBjdXJyZW50UGFnZXNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjdXJyZW50UGFnZXMgPSBbXTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGN1cnJlbnRQYWdlcy5sZW5ndGggPiAwKVxuICAgIHtcbiAgICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICAgICAgZGltZW5zaW9uczogcm93RGltZW5zaW9ucyxcbiAgICAgICAgICAgIHBhZ2VzOiBjdXJyZW50UGFnZXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyb3Vwcztcbn1cbiIsImltcG9ydCBnZXRCb29rTGF5b3V0R3JvdXBzIGZyb20gJy4vYm9vay1sYXlvdXQnO1xuaW1wb3J0IGdldFNpbmdsZXNMYXlvdXRHcm91cHMgZnJvbSAnLi9zaW5nbGVzLWxheW91dCc7XG5pbXBvcnQgZ2V0R3JpZExheW91dEdyb3VwcyBmcm9tICcuL2dyaWQtbGF5b3V0JztcblxuLyoqIEdldCB0aGUgcmVsYXRpdmUgcG9zaXRpb25pbmcgb2YgcGFnZXMgZm9yIHRoZSBjdXJyZW50IHZpZXcgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFBhZ2VMYXlvdXRzIChzZXR0aW5ncylcbntcbiAgICBpZiAoc2V0dGluZ3MuaW5HcmlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGdldEdyaWRMYXlvdXRHcm91cHMocGx1Y2soc2V0dGluZ3MsIFtcbiAgICAgICAgICAgICdtYW5pZmVzdCcsXG4gICAgICAgICAgICAndmlld3BvcnQnLFxuICAgICAgICAgICAgJ3BhZ2VzUGVyUm93JyxcbiAgICAgICAgICAgICdmaXhlZEhlaWdodEdyaWQnLFxuICAgICAgICAgICAgJ2ZpeGVkUGFkZGluZycsXG4gICAgICAgICAgICAnc2hvd05vblBhZ2VkUGFnZXMnXG4gICAgICAgIF0pKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gcGx1Y2soc2V0dGluZ3MsIFsnbWFuaWZlc3QnLCAndmVydGljYWxseU9yaWVudGVkJywgJ3Nob3dOb25QYWdlZFBhZ2VzJ10pO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5pbkJvb2tMYXlvdXQpXG4gICAgICAgICAgICByZXR1cm4gZ2V0Qm9va0xheW91dEdyb3Vwcyhjb25maWcpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gZ2V0U2luZ2xlc0xheW91dEdyb3Vwcyhjb25maWcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcGx1Y2sgKG9iaiwga2V5cylcbntcbiAgICBjb25zdCBvdXQgPSB7fTtcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSlcbiAgICB7XG4gICAgICAgIG91dFtrZXldID0gb2JqW2tleV07XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dDtcbn1cbiIsImltcG9ydCBnZXRQYWdlRGltZW5zaW9ucyBmcm9tICcuL3BhZ2UtZGltZW5zaW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNpbmdsZXNMYXlvdXRHcm91cHMgKHZpZXdlckNvbmZpZylcbntcbiAgICBjb25zdCBtYW5pZmVzdCA9IHZpZXdlckNvbmZpZy5tYW5pZmVzdDtcblxuICAgIC8vIFJlbmRlciBlYWNoIHBhZ2UgYWxvbmUgaW4gYSBncm91cFxuICAgIGNvbnN0IHBhZ2VzID0gW107XG4gICAgbWFuaWZlc3QucGFnZXMuZm9yRWFjaCggKHBhZ2UsIGluZGV4KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKCF2aWV3ZXJDb25maWcuc2hvd05vblBhZ2VkUGFnZXMgJiYgbWFuaWZlc3QucGFnZWQgJiYgIXBhZ2UucGFnZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcGFnZURpbXMgPSBnZXRQYWdlRGltZW5zaW9ucyhpbmRleCwgbWFuaWZlc3QpO1xuXG4gICAgICAgIHBhZ2VzLnB1c2goe1xuICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZURpbXMsXG4gICAgICAgICAgICBwYWdlczogW3tcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHsgdG9wOiAwLCBsZWZ0OiAwIH0sXG4gICAgICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZURpbXNcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHBhZ2VzO1xufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVTZXR0aW5nc1ZpZXcoc291cmNlcylcbntcbiAgICBjb25zdCBvYmogPSB7fTtcblxuICAgIHNvdXJjZXMuZm9yRWFjaCggKHNvdXJjZSkgPT5cbiAgICB7XG4gICAgICAgIHJlZ2lzdGVyTWl4aW4ob2JqLCBzb3VyY2UpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJNaXhpbihvYmosIG1peGluKVxue1xuICAgIE9iamVjdC5rZXlzKG1peGluKS5mb3JFYWNoKCAoa2V5KSA9PlxuICAgIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1peGluW2tleV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE1ha2UgZXZlcnl0aGluZyBzdHJpY3QgbW9kZSBzbyB0aGlzIGlzbid0IG5lZWRlZFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBzZXQgc2V0dGluZ3MuJyArIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmFsaWRhdGlvblJ1bm5lclxue1xuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdGhpcy53aGl0ZWxpc3RlZEtleXMgPSBvcHRpb25zLndoaXRlbGlzdGVkS2V5cyB8fCBbXTtcbiAgICAgICAgdGhpcy5hZGRpdGlvbmFsUHJvcGVydGllcyA9IG9wdGlvbnMuYWRkaXRpb25hbFByb3BlcnRpZXMgfHwgW107XG4gICAgICAgIHRoaXMudmFsaWRhdGlvbnMgPSBvcHRpb25zLnZhbGlkYXRpb25zO1xuICAgIH1cblxuICAgIGlzVmFsaWQgKGtleSwgdmFsdWUsIHNldHRpbmdzKVxuICAgIHtcbiAgICAgICAgLy8gR2V0IHRoZSB2YWxpZGF0aW9uIGluZGV4XG4gICAgICAgIGxldCB2YWxpZGF0aW9uSW5kZXggPSBudWxsO1xuXG4gICAgICAgIHRoaXMudmFsaWRhdGlvbnMuc29tZSgodmFsaWRhdGlvbiwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uLmtleSAhPT0ga2V5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsaWRhdGlvbkluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHZhbGlkYXRpb25JbmRleCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSdW4gdGhlIHZhbGlkYXRpb25cbiAgICAgICAgY29uc3QgZHVtbXlDaGFuZ2VzID0ge307XG4gICAgICAgIGR1bW15Q2hhbmdlc1trZXldID0gdmFsdWU7XG4gICAgICAgIGNvbnN0IHByb3hpZXIgPSBjcmVhdGVTZXR0aW5nc1Byb3hpZXIoc2V0dGluZ3MsIGR1bW15Q2hhbmdlcywgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuICF0aGlzLl9ydW5WYWxpZGF0aW9uKHZhbGlkYXRpb25JbmRleCwgdmFsdWUsIHByb3hpZXIpO1xuICAgIH1cblxuICAgIHZhbGlkYXRlIChzZXR0aW5ncylcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlT3B0aW9ucyh7fSwgc2V0dGluZ3MpO1xuICAgIH1cblxuICAgIGdldFZhbGlkYXRlZE9wdGlvbnMgKHNldHRpbmdzLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlT3B0aW9ucyhzZXR0aW5ncywgY2xvbmVkKTtcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9XG5cbiAgICBfdmFsaWRhdGVPcHRpb25zIChzZXR0aW5ncywgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzUHJveGllciA9IGNyZWF0ZVNldHRpbmdzUHJveGllcihzZXR0aW5ncywgb3B0aW9ucywgdGhpcyk7XG4gICAgICAgIHRoaXMuX2FwcGx5VmFsaWRhdGlvbnMob3B0aW9ucywgc2V0dGluZ3NQcm94aWVyKTtcbiAgICB9XG5cbiAgICBfYXBwbHlWYWxpZGF0aW9ucyAob3B0aW9ucywgcHJveGllcilcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGlvbnMuZm9yRWFjaCgodmFsaWRhdGlvbiwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSh2YWxpZGF0aW9uLmtleSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IG9wdGlvbnNbdmFsaWRhdGlvbi5rZXldO1xuICAgICAgICAgICAgY29uc3QgY29ycmVjdGVkID0gdGhpcy5fcnVuVmFsaWRhdGlvbihpbmRleCwgaW5wdXQsIHByb3hpZXIpO1xuXG4gICAgICAgICAgICBpZiAoY29ycmVjdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghY29ycmVjdGVkLndhcm5pbmdTdXBwcmVzc2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdFdhcm5pbmcodmFsaWRhdGlvbi5rZXksIGlucHV0LCBjb3JyZWN0ZWQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG9wdGlvbnNbdmFsaWRhdGlvbi5rZXldID0gY29ycmVjdGVkLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG5cbiAgICBfcnVuVmFsaWRhdGlvbiAoaW5kZXgsIGlucHV0LCBwcm94aWVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMudmFsaWRhdGlvbnNbaW5kZXhdO1xuXG4gICAgICAgIHByb3hpZXIuaW5kZXggPSBpbmRleDtcblxuICAgICAgICBsZXQgd2FybmluZ1N1cHByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICAgICAgc3VwcHJlc3NXYXJuaW5nOiAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm5pbmdTdXBwcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBvdXRwdXRWYWx1ZSA9IHZhbGlkYXRpb24udmFsaWRhdGUoaW5wdXQsIHByb3hpZXIucHJveHksIGNvbmZpZyk7XG5cbiAgICAgICAgaWYgKG91dHB1dFZhbHVlID09PSB1bmRlZmluZWQgfHwgb3V0cHV0VmFsdWUgPT09IGlucHV0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogb3V0cHV0VmFsdWUsXG4gICAgICAgICAgICB3YXJuaW5nU3VwcHJlc3NlZDogd2FybmluZ1N1cHByZXNzZWRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIHNldHRpbmdzIHByb3h5IHdyYXBzIHRoZSBzZXR0aW5ncyBvYmplY3QgYW5kIGVuc3VyZXMgdGhhdFxuICogb25seSB2YWx1ZXMgd2hpY2ggaGF2ZSBwcmV2aW91c2x5IGJlZW4gdmFsaWRhdGVkIGFyZSBhY2Nlc3NlZCxcbiAqIHRocm93aW5nIGEgVHlwZUVycm9yIG90aGVyd2lzZS5cbiAqXG4gKiBGSVhNRSh3YWJhaW4pOiBJcyBpdCB3b3J0aCBrZWVwaW5nIHRoaXM/IFdoZW4gSSB3cm90ZSBpdCBJIGhhZFxuICogbXVsdGlwbGUgdmFsaWRhdGlvbiBzdGFnZXMgYW5kIGl0IHdhcyBhIGxvdCBoYXJkZXIgdG8ga2VlcCB0cmFja1xuICogb2YgZXZlcnl0aGluZywgc28gdGhpcyB3YXMgbW9yZSB2YWx1YWJsZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2V0dGluZ3NQcm94aWVyIChzZXR0aW5ncywgb3B0aW9ucywgcnVubmVyKVxue1xuICAgIGNvbnN0IHByb3hpZXIgPSB7XG4gICAgICAgIHByb3h5OiB7fSxcbiAgICAgICAgaW5kZXg6IG51bGxcbiAgICB9O1xuXG4gICAgY29uc3QgbG9va3VwID0gbG9va3VwVmFsdWUuYmluZChudWxsLCBzZXR0aW5ncywgb3B0aW9ucyk7XG5cbiAgICBjb25zdCBwcm9wZXJ0aWVzID0ge307XG5cbiAgICBydW5uZXIud2hpdGVsaXN0ZWRLZXlzLmZvckVhY2goKHdoaXRlbGlzdGVkKSA9PlxuICAgIHtcbiAgICAgICAgcHJvcGVydGllc1t3aGl0ZWxpc3RlZF0gPSB7XG4gICAgICAgICAgICBnZXQ6IGxvb2t1cC5iaW5kKG51bGwsIHdoaXRlbGlzdGVkKVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgcnVubmVyLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLmZvckVhY2goKGFkZGl0aW9uYWwpID0+XG4gICAge1xuICAgICAgICBwcm9wZXJ0aWVzW2FkZGl0aW9uYWwua2V5XSA9IHtcbiAgICAgICAgICAgIGdldDogYWRkaXRpb25hbC5nZXRcbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJ1bm5lci52YWxpZGF0aW9ucy5mb3JFYWNoKCAodmFsaWRhdGlvbiwgdmFsaWRhdGlvbkluZGV4KSA9PlxuICAgIHtcbiAgICAgICAgcHJvcGVydGllc1t2YWxpZGF0aW9uLmtleV0gPSB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25JbmRleCA8IHByb3hpZXIuaW5kZXgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9va3VwKHZhbGlkYXRpb24ua2V5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50S2V5ID0gcnVubmVyLnZhbGlkYXRpb25zW3Byb3hpZXIuaW5kZXhdLmtleTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgYWNjZXNzIHNldHRpbmcgJyArIHZhbGlkYXRpb24ua2V5ICsgJyB3aGlsZSB2YWxpZGF0aW5nICcgKyBjdXJyZW50S2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHByb3hpZXIucHJveHksIHByb3BlcnRpZXMpO1xuXG4gICAgcmV0dXJuIHByb3hpZXI7XG59XG5cbmZ1bmN0aW9uIGVtaXRXYXJuaW5nIChrZXksIG9yaWdpbmFsLCBjb3JyZWN0ZWQpXG57XG4gICAgY29uc29sZS53YXJuKCdJbnZhbGlkIHZhbHVlIGZvciAnICsga2V5ICsgJzogJyArIG9yaWdpbmFsICsgJy4gVXNpbmcgJyArIGNvcnJlY3RlZCArICcgaW5zdGVhZC4nKTtcbn1cblxuZnVuY3Rpb24gbG9va3VwVmFsdWUgKGJhc2UsIGV4dGVuc2lvbiwga2V5KVxue1xuICAgIGlmIChrZXkgaW4gZXh0ZW5zaW9uKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbltrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlW2tleV07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3cG9ydFxue1xuICAgIGNvbnN0cnVjdG9yIChvdXRlciwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uVG9sZXJhbmNlID0gb3B0aW9ucy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2UgfHwgMDtcbiAgICAgICAgdGhpcy5vdXRlciA9IG91dGVyO1xuICAgICAgICB0aGlzLl90b3AgPSB0aGlzLl9sZWZ0ID0gdGhpcy5fd2lkdGggPSB0aGlzLl9oZWlnaHQgPSB0aGlzLl9pbm5lckRpbWVuc2lvbnMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgIH1cblxuICAgIGludGVyc2VjdHNSZWdpb24gKHJlZ2lvbilcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc0hvcml6b250YWxPdmVybGFwKHJlZ2lvbikgJiYgdGhpcy5oYXNWZXJ0aWNhbE92ZXJsYXAocmVnaW9uKTtcbiAgICB9XG5cbiAgICBoYXNWZXJ0aWNhbE92ZXJsYXAgKHJlZ2lvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IHRvcCA9IHRoaXMudG9wIC0gdGhpcy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG4gICAgICAgIGNvbnN0IGJvdHRvbSA9IHRoaXMuYm90dG9tICsgdGhpcy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGZhbGxzQmV0d2VlbihyZWdpb24udG9wLCB0b3AsIGJvdHRvbSkgfHxcbiAgICAgICAgICAgIGZhbGxzQmV0d2VlbihyZWdpb24uYm90dG9tLCB0b3AsIGJvdHRvbSkgfHxcbiAgICAgICAgICAgIChyZWdpb24udG9wIDw9IHRvcCAmJiByZWdpb24uYm90dG9tID49IGJvdHRvbSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBoYXNIb3Jpem9udGFsT3ZlcmxhcCAocmVnaW9uKVxuICAgIHtcbiAgICAgICAgY29uc3QgbGVmdCA9IHRoaXMubGVmdCAtIHRoaXMuaW50ZXJzZWN0aW9uVG9sZXJhbmNlO1xuICAgICAgICBjb25zdCByaWdodCA9IHRoaXMucmlnaHQgKyB0aGlzLmludGVyc2VjdGlvblRvbGVyYW5jZTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZmFsbHNCZXR3ZWVuKHJlZ2lvbi5sZWZ0LCBsZWZ0LCByaWdodCkgfHxcbiAgICAgICAgICAgIGZhbGxzQmV0d2VlbihyZWdpb24ucmlnaHQsIGxlZnQsIHJpZ2h0KSB8fFxuICAgICAgICAgICAgKHJlZ2lvbi5sZWZ0IDw9IGxlZnQgJiYgcmVnaW9uLnJpZ2h0ID49IHJpZ2h0KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGludmFsaWRhdGUgKClcbiAgICB7XG4gICAgICAgIC8vIEZJWE1FOiBTaG91bGQgdGhpcyBjaGVjayB0aGUgaW5uZXIgZGltZW5zaW9ucyBhcyB3ZWxsP1xuICAgICAgICB0aGlzLl93aWR0aCA9IHRoaXMub3V0ZXIuY2xpZW50V2lkdGg7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHRoaXMub3V0ZXIuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuX3RvcCA9IHRoaXMub3V0ZXIuc2Nyb2xsVG9wO1xuICAgICAgICB0aGlzLl9sZWZ0ID0gdGhpcy5vdXRlci5zY3JvbGxMZWZ0O1xuICAgIH1cblxuICAgIHNldElubmVyRGltZW5zaW9ucyAoZGltZW5zaW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMuX2lubmVyRGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XG5cbiAgICAgICAgaWYgKGRpbWVuc2lvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RvcCA9IGNsYW1wKHRoaXMuX3RvcCwgMCwgZGltZW5zaW9ucy5oZWlnaHQgLSB0aGlzLl9oZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5fbGVmdCA9IGNsYW1wKHRoaXMuX2xlZnQsIDAsIGRpbWVuc2lvbnMud2lkdGggLSB0aGlzLl93aWR0aCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFZpZXdwb3J0LnByb3RvdHlwZSwge1xuICAgIHRvcDogZ2V0Q29vcmRpbmF0ZURlc2NyaXB0b3IoJ3RvcCcsICdoZWlnaHQnKSxcbiAgICBsZWZ0OiBnZXRDb29yZGluYXRlRGVzY3JpcHRvcignbGVmdCcsICd3aWR0aCcpLFxuXG4gICAgd2lkdGg6IGdldERpbWVuc2lvbkRlc2NyaXB0b3IoJ3dpZHRoJyksXG4gICAgaGVpZ2h0OiBnZXREaW1lbnNpb25EZXNjcmlwdG9yKCdoZWlnaHQnKSxcblxuICAgIGJvdHRvbToge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90b3AgKyB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJpZ2h0OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnQgKyB0aGlzLl93aWR0aDtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiBnZXRDb29yZGluYXRlRGVzY3JpcHRvciAoY29vcmQsIGFzc29jaWF0ZWREaW1lbnNpb24pXG57XG4gICAgY29uc3QgcHJpdmF0ZVByb3AgPSAnXycgKyBjb29yZDtcbiAgICBjb25zdCBzb3VyY2UgPSAnc2Nyb2xsJyArIGNvb3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY29vcmQuc2xpY2UoMSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3ByaXZhdGVQcm9wXTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBub3JtYWxpemVkO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5faW5uZXJEaW1lbnNpb25zKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heEFsbG93ZWQgPSB0aGlzLl9pbm5lckRpbWVuc2lvbnNbYXNzb2NpYXRlZERpbWVuc2lvbl0gLSB0aGlzW2Fzc29jaWF0ZWREaW1lbnNpb25dO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWQgPSBjbGFtcChuZXdWYWx1ZSwgMCwgbWF4QWxsb3dlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZCA9IGNsYW1wTWluKG5ld1ZhbHVlLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpc1twcml2YXRlUHJvcF0gPSB0aGlzLm91dGVyW3NvdXJjZV0gPSBub3JtYWxpemVkO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGltZW5zaW9uRGVzY3JpcHRvciAoZGltZW4pXG57XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1snXycgKyBkaW1lbl07XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBmYWxsc0JldHdlZW4gKHBvaW50LCBzdGFydCwgZW5kKVxue1xuICAgIHJldHVybiBwb2ludCA+PSBzdGFydCAmJiBwb2ludCA8PSBlbmQ7XG59XG5cbmZ1bmN0aW9uIGNsYW1wICh2YWx1ZSwgbWluLCBtYXgpXG57XG4gICAgcmV0dXJuIGNsYW1wTWluKGNsYW1wTWF4KHZhbHVlLCBtYXgpLCBtaW4pO1xufVxuXG5mdW5jdGlvbiBjbGFtcE1pbiAodmFsdWUsIG1pbilcbntcbiAgICByZXR1cm4gTWF0aC5tYXgodmFsdWUsIG1pbik7XG59XG5cbmZ1bmN0aW9uIGNsYW1wTWF4ICh2YWx1ZSwgbWF4KVxue1xuICAgIHJldHVybiBNYXRoLm1pbih2YWx1ZSwgbWF4KTtcbn1cbiIsImltcG9ydCB7IGVsdCB9IGZyb20gJy4vdXRpbHMvZWx0JztcbmltcG9ydCBnZXRTY3JvbGxiYXJXaWR0aCBmcm9tICcuL3V0aWxzL2dldC1zY3JvbGxiYXItd2lkdGgnO1xuaW1wb3J0IGdlc3R1cmVFdmVudHMgZnJvbSAnLi9nZXN0dXJlLWV2ZW50cyc7XG5pbXBvcnQgZGl2YSBmcm9tICcuL2RpdmEtZ2xvYmFsJztcbmltcG9ydCBEb2N1bWVudEhhbmRsZXIgZnJvbSAnLi9kb2N1bWVudC1oYW5kbGVyJztcbmltcG9ydCBHcmlkSGFuZGxlciBmcm9tICcuL2dyaWQtaGFuZGxlcic7XG5pbXBvcnQgUGFnZU92ZXJsYXlNYW5hZ2VyIGZyb20gJy4vcGFnZS1vdmVybGF5LW1hbmFnZXInO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4vcmVuZGVyZXInO1xuaW1wb3J0IGdldFBhZ2VMYXlvdXRzIGZyb20gJy4vcGFnZS1sYXlvdXRzJztcbmltcG9ydCBjcmVhdGVTZXR0aW5nc1ZpZXcgZnJvbSAnLi9zZXR0aW5ncy12aWV3JztcbmltcG9ydCBWYWxpZGF0aW9uUnVubmVyIGZyb20gJy4vdmFsaWRhdGlvbi1ydW5uZXInO1xuaW1wb3J0IFZpZXdwb3J0IGZyb20gJy4vdmlld3BvcnQnO1xuXG5jb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ2RpdmE6Vmlld2VyQ29yZScpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUlkKCkge1xuICAgIHJldHVybiBnZW5lcmF0ZUlkLmNvdW50ZXIrKztcbn1cbmdlbmVyYXRlSWQuY291bnRlciA9IDE7XG5cblxuLy8gRGVmaW5lIHZhbGlkYXRpb25zXG5jb25zdCBvcHRpb25zVmFsaWRhdGlvbnMgPSBbXG4gICAge1xuICAgICAgICBrZXk6ICdnb0RpcmVjdGx5VG8nLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlLCBzZXR0aW5ncykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+PSBzZXR0aW5ncy5tYW5pZmVzdC5wYWdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnbWluUGFnZXNQZXJSb3cnLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ21heFBhZ2VzUGVyUm93JyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2YWx1ZSwgc2V0dGluZ3MubWluUGFnZXNQZXJSb3cpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ3BhZ2VzUGVyUm93JyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gdGhlIG1heGltdW1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IHNldHRpbmdzLm1pblBhZ2VzUGVyUm93IHx8IHZhbHVlID4gc2V0dGluZ3MubWF4UGFnZXNQZXJSb3cpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm1heFBhZ2VzUGVyUm93O1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGtleTogJ21heFpvb21MZXZlbCcsXG4gICAgICAgIHZhbGlkYXRlOiAodmFsdWUsIHNldHRpbmdzLCBjb25maWcpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIENoYW5naW5nIHRoaXMgdmFsdWUgaXNuJ3QgcmVhbGx5IGFuIGVycm9yLCBpdCBqdXN0IGRlcGVuZHMgb24gdGhlXG4gICAgICAgICAgICAvLyBzb3VyY2UgbWFuaWZlc3RcbiAgICAgICAgICAgIGNvbmZpZy5zdXBwcmVzc1dhcm5pbmcoKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IHNldHRpbmdzLm1hbmlmZXN0Lm1heFpvb20pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm1hbmlmZXN0Lm1heFpvb207XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnbWluWm9vbUxldmVsJyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MsIGNvbmZpZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ2hhbmdlcyBiYXNlZCBvbiB0aGUgbWFuaWZlc3QgdmFsdWUgc2hvdWxkbid0IHRyaWdnZXIgYVxuICAgICAgICAgICAgLy8gd2FybmluZ1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gc2V0dGluZ3MubWFuaWZlc3QubWF4Wm9vbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25maWcuc3VwcHJlc3NXYXJuaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPiBzZXR0aW5ncy5tYXhab29tTGV2ZWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnem9vbUxldmVsJyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MsIGNvbmZpZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gc2V0dGluZ3MubWFuaWZlc3QubWF4Wm9vbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25maWcuc3VwcHJlc3NXYXJuaW5nKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA8IHNldHRpbmdzLm1pblpvb21MZXZlbCB8fCB2YWx1ZSA+IHNldHRpbmdzLm1heFpvb21MZXZlbClcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MubWluWm9vbUxldmVsO1xuICAgICAgICB9XG4gICAgfVxuXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlld2VyQ29yZVxue1xuICAgIGNvbnN0cnVjdG9yIChlbGVtZW50LCBvcHRpb25zLCBwdWJsaWNJbnN0YW5jZSlcbiAgICB7XG4gICAgICAgIHRoaXMucGFyZW50T2JqZWN0ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5wdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlO1xuXG4gICAgICAgIC8vIFRoaW5ncyB0aGF0IGNhbm5vdCBiZSBjaGFuZ2VkIGJlY2F1c2Ugb2YgdGhlIHdheSB0aGV5IGFyZSB1c2VkIGJ5IHRoZSBzY3JpcHRcbiAgICAgICAgLy8gTWFueSBvZiB0aGVzZSBhcmUgZGVjbGFyZWQgd2l0aCBhcmJpdHJhcnkgdmFsdWVzIHRoYXQgYXJlIGNoYW5nZWQgbGF0ZXIgb25cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZSA9IHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlSW5kaWNlczogWzBdLCAgICAvLyBUaGUgdmlzaWJsZSBwYWdlcyBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgICAgIGFjdGl2ZVBhZ2VJbmRleDogMCwgICAgICAgICAvLyBUaGUgY3VycmVudCAnYWN0aXZlJyBwYWdlIGluIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogMCwgICAgICAgIC8vIERpc3RhbmNlIGZyb20gdGhlIGNlbnRlciBvZiB0aGUgZGl2YSBlbGVtZW50IHRvIHRoZSB0b3Agb2YgdGhlIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgaG9yaXpvbnRhbFBhZGRpbmc6IDAsICAgICAgIC8vIEVpdGhlciB0aGUgZml4ZWQgcGFkZGluZyBvciBhZGFwdGl2ZSBwYWRkaW5nXG4gICAgICAgICAgICBJRDogbnVsbCwgICAgICAgICAgICAgICAgICAgLy8gVGhlIHByZWZpeCBvZiB0aGUgSURzIG9mIHRoZSBlbGVtZW50cyAodXN1YWxseSAxLWRpdmEtKVxuICAgICAgICAgICAgaW5pdGlhbEtleVNjcm9sbDogZmFsc2UsICAgIC8vIEhvbGRzIHRoZSBpbml0aWFsIHN0YXRlIG9mIGVuYWJsZUtleVNjcm9sbFxuICAgICAgICAgICAgaW5pdGlhbFNwYWNlU2Nyb2xsOiBmYWxzZSwgIC8vIEhvbGRzIHRoZSBpbml0aWFsIHN0YXRlIG9mIGVuYWJsZVNwYWNlU2Nyb2xsXG4gICAgICAgICAgICBpbm5lckVsZW1lbnQ6IG51bGwsICAgICAgICAgLy8gVGhlIG5hdGl2ZSAuZGl2YS1vdXRlciBET00gb2JqZWN0XG4gICAgICAgICAgICBpbm5lck9iamVjdDoge30sICAgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2V0dGluZ3MuSUQgKyAnaW5uZXInKSwgZm9yIHNlbGVjdGluZyB0aGUgLmRpdmEtaW5uZXIgZWxlbWVudFxuICAgICAgICAgICAgaXNBY3RpdmVEaXZhOiB0cnVlLCAgICAgICAgIC8vIEluIHRoZSBjYXNlIHRoYXQgbXVsdGlwbGUgZGl2YSBwYW5lcyBleGlzdCBvbiB0aGUgc2FtZSBwYWdlLCB0aGlzIHNob3VsZCBoYXZlIGV2ZW50cyBmdW5uZWxlZCB0byBpdC5cbiAgICAgICAgICAgIGlzU2Nyb2xsYWJsZTogdHJ1ZSwgICAgICAgICAvLyBVc2VkIGluIGVuYWJsZS9kaXNhYmxlU2Nyb2xsYWJsZSBwdWJsaWMgbWV0aG9kc1xuICAgICAgICAgICAgaXNab29taW5nOiBmYWxzZSwgICAgICAgICAgIC8vIEZsYWcgdG8ga2VlcCB0cmFjayBvZiB3aGV0aGVyIHpvb21pbmcgaXMgc3RpbGwgaW4gcHJvZ3Jlc3MsIGZvciBoYW5kbGVab29tXG4gICAgICAgICAgICBsb2FkZWQ6IGZhbHNlLCAgICAgICAgICAgICAgLy8gQSBmbGFnIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgbG9hZGVkIGFuZCByZWFkeSB0byBnby5cbiAgICAgICAgICAgIG1hbmlmZXN0OiBudWxsLFxuICAgICAgICAgICAgbW9iaWxlV2Via2l0OiBmYWxzZSwgICAgICAgIC8vIENoZWNrcyBpZiB0aGUgdXNlciBpcyBvbiBhIHRvdWNoIGRldmljZSAoaVBhZC9pUG9kL2lQaG9uZS9BbmRyb2lkKVxuICAgICAgICAgICAgbnVtUGFnZXM6IDAsICAgICAgICAgICAgICAgIC8vIE51bWJlciBvZiBwYWdlcyBpbiB0aGUgYXJyYXlcbiAgICAgICAgICAgIG9sZFpvb21MZXZlbDogLTEsICAgICAgICAgICAvLyBIb2xkcyB0aGUgcHJldmlvdXMgem9vbSBsZXZlbCBhZnRlciB6b29taW5nIGluIG9yIG91dFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIG91dGVyRWxlbWVudDogbnVsbCwgICAgICAgICAvLyBUaGUgbmF0aXZlIC5kaXZhLW91dGVyIERPTSBvYmplY3RcbiAgICAgICAgICAgIG91dGVyT2JqZWN0OiB7fSwgICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZXR0aW5ncy5JRCArICdvdXRlcicpLCBmb3Igc2VsZWN0aW5nIHRoZSAuZGl2YS1vdXRlciBlbGVtZW50XG4gICAgICAgICAgICBwYWdlT3ZlcmxheXM6IG5ldyBQYWdlT3ZlcmxheU1hbmFnZXIoKSxcbiAgICAgICAgICAgIHBhZ2VUb29sczogW10sICAgICAgICAgICAgICAvLyBUaGUgcGx1Z2lucyB3aGljaCBhcmUgZW5hYmxlZCBhcyBwYWdlIHRvb2xzXG4gICAgICAgICAgICBwYXJlbnRPYmplY3Q6IHRoaXMucGFyZW50T2JqZWN0LCAvLyBKUXVlcnkgb2JqZWN0IHJlZmVyZW5jaW5nIHRoZSBwYXJlbnQgZWxlbWVudFxuICAgICAgICAgICAgcGVuZGluZ01hbmlmZXN0UmVxdWVzdDogbnVsbCwgLy8gUmVmZXJlbmNlIHRvIHRoZSB4aHIgcmVxdWVzdCByZXRyaWV2aW5nIHRoZSBtYW5pZmVzdC4gVXNlZCB0byBjYW5jZWwgdGhlIHJlcXVlc3Qgb24gZGVzdHJveSgpXG4gICAgICAgICAgICBwbHVnaW5JbnN0YW5jZXM6IFtdLCAgICAgICAgICAgICAgICAvLyBGaWxsZWQgd2l0aCB0aGUgZW5hYmxlZCBwbHVnaW5zIGZyb20gdGhlIHJlZ2lzdHJ5XG4gICAgICAgICAgICByZW5kZXJlcjogbnVsbCxcbiAgICAgICAgICAgIHJlc2l6ZVRpbWVyOiAtMSwgICAgICAgICAgICAvLyBIb2xkcyB0aGUgSUQgb2YgdGhlIHRpbWVvdXQgdXNlZCB3aGVuIHJlc2l6aW5nIHRoZSB3aW5kb3cgKGZvciBjbGVhcmluZylcbiAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoOiAwLCAgICAgICAgICAvLyBTZXQgdG8gdGhlIGFjdHVhbCBzY3JvbGxiYXIgd2lkdGggaW4gaW5pdCgpXG4gICAgICAgICAgICBzZWxlY3RvcjogJycsICAgICAgICAgICAgICAgLy8gVXNlcyB0aGUgZ2VuZXJhdGVkIElEIHByZWZpeCB0byBlYXNpbHkgc2VsZWN0IGVsZW1lbnRzXG4gICAgICAgICAgICB0aHJvYmJlclRpbWVvdXRJRDogLTEsICAgICAgLy8gSG9sZHMgdGhlIElEIG9mIHRoZSB0aHJvYmJlciBsb2FkaW5nIHRpbWVvdXRcbiAgICAgICAgICAgIHRvb2xiYXI6IG51bGwsICAgICAgICAgICAgICAvLyBIb2xkcyBhbiBvYmplY3Qgd2l0aCBzb21lIHRvb2xiYXItcmVsYXRlZCBmdW5jdGlvbnNcbiAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiAwLCAgICAgICAgICAvLyBEaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRpdmEgZWxlbWVudCB0byB0aGUgbGVmdCBzaWRlIG9mIHRoZSBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgIHZlcnRpY2FsUGFkZGluZzogMCwgICAgICAgICAvLyBFaXRoZXIgdGhlIGZpeGVkIHBhZGRpbmcgb3IgYWRhcHRpdmUgcGFkZGluZ1xuICAgICAgICAgICAgdmlld0hhbmRsZXI6IG51bGwsXG4gICAgICAgICAgICB2aWV3cG9ydDogbnVsbCwgICAgICAgICAgICAgLy8gT2JqZWN0IGNhY2hpbmcgdGhlIHZpZXdwb3J0IGRpbWVuc2lvbnNcbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudDogbnVsbCxcbiAgICAgICAgICAgIHZpZXdwb3J0T2JqZWN0OiBudWxsLFxuICAgICAgICAgICAgem9vbUR1cmF0aW9uOiA0MDBcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzID0gY3JlYXRlU2V0dGluZ3NWaWV3KFtvcHRpb25zLCB0aGlzLnZpZXdlclN0YXRlXSk7XG5cbiAgICAgICAgLy8gR2VuZXJhdGUgYW4gSUQgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHByZWZpeCBmb3IgYWxsIHRoZSBvdGhlciBJRHNcbiAgICAgICAgY29uc3QgaWROdW1iZXIgPSBnZW5lcmF0ZUlkKCk7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuSUQgPSAnZGl2YS0nICsgaWROdW1iZXIgKyAnLSc7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuc2VsZWN0b3IgPSB0aGlzLnNldHRpbmdzLklEO1xuXG4gICAgICAgIC8vIEFsaWFzZXMgZm9yIGNvbXBhdGliaWxpdHlcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy5zZXR0aW5ncywge1xuICAgICAgICAgICAgLy8gSGVpZ2h0IG9mIHRoZSBkb2N1bWVudCB2aWV3ZXIgcGFuZVxuICAgICAgICAgICAgcGFuZWxIZWlnaHQ6IHtcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFdpZHRoIG9mIHRoZSBkb2N1bWVudCB2aWV3ZXIgcGFuZVxuICAgICAgICAgICAgcGFuZWxXaWR0aDoge1xuICAgICAgICAgICAgICAgIGdldDogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LndpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zVmFsaWRhdG9yID0gbmV3IFZhbGlkYXRpb25SdW5uZXIoe1xuICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogJ21hbmlmZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5tYW5pZmVzdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIHZhbGlkYXRpb25zOiBvcHRpb25zVmFsaWRhdGlvbnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5zY3JvbGxiYXJXaWR0aCA9IGdldFNjcm9sbGJhcldpZHRoKCk7XG5cbiAgICAgICAgLy8gSWYgd2luZG93Lm9yaWVudGF0aW9uIGlzIGRlZmluZWQsIHRoZW4gaXQncyBwcm9iYWJseSBtb2JpbGVXZWJraXRcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5tb2JpbGVXZWJraXQgPSB3aW5kb3cub3JpZW50YXRpb24gIT09IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNoUGFyYW1TdWZmaXggPT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIE9taXQgdGhlIHN1ZmZpeCBmcm9tIHRoZSBmaXJzdCBpbnN0YW5jZVxuICAgICAgICAgICAgaWYgKGlkTnVtYmVyID09PSAxKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGFzaFBhcmFtU3VmZml4ID0gJyc7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oYXNoUGFyYW1TdWZmaXggPSBpZE51bWJlciArICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBpbm5lciBhbmQgb3V0ZXIgcGFuZWxzXG4gICAgICAgIGNvbnN0IGlubmVyRWxlbSA9IGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ2lubmVyJywgeyBjbGFzczogJ2RpdmEtaW5uZXInIH0pKTtcbiAgICAgICAgY29uc3Qgdmlld3BvcnRFbGVtID0gZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygndmlld3BvcnQnKSwgaW5uZXJFbGVtKTtcbiAgICAgICAgY29uc3Qgb3V0ZXJFbGVtID0gZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygnb3V0ZXInKSxcbiAgICAgICAgICAgIHZpZXdwb3J0RWxlbSxcbiAgICAgICAgICAgIGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ3Rocm9iYmVyJyksXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmUxJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlMicgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTMnIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmU0JyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlNScgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTYnIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmU3JyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlOCcgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTknIH0pLFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICkpO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJFbGVtZW50ID0gaW5uZXJFbGVtO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0RWxlbWVudCA9IHZpZXdwb3J0RWxlbTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vdXRlckVsZW1lbnQgPSBvdXRlckVsZW07XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lck9iamVjdCA9IGlubmVyRWxlbTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdCA9IHZpZXdwb3J0RWxlbTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vdXRlck9iamVjdCA9IG91dGVyRWxlbTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzLnBhcmVudE9iamVjdC5hcHBlbmQob3V0ZXJFbGVtKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRFbGVtZW50LCB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25Ub2xlcmFuY2U6IHRoaXMuc2V0dGluZ3Mudmlld3BvcnRNYXJnaW5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ib3VuZFNjcm9sbEZ1bmN0aW9uID0gdGhpcy5zY3JvbGxGdW5jdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJvdW5kRXNjYXBlTGlzdGVuZXIgPSB0aGlzLmVzY2FwZUxpc3RlbmVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gRG8gYWxsIHRoZSBwbHVnaW4gaW5pdGlhbGlzYXRpb25cbiAgICAgICAgdGhpcy5pbml0UGx1Z2lucygpO1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50cygpO1xuXG4gICAgICAgIC8vIFNob3cgdGhlIHRocm9iYmVyIHdoaWxlIHdhaXRpbmcgZm9yIHRoZSBtYW5pZmVzdCB0byBsb2FkXG4gICAgICAgIHRoaXMuc2hvd1Rocm9iYmVyKCk7XG4gICAgfVxuXG4gICAgaXNWYWxpZE9wdGlvbiAoa2V5LCB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNWYWxpZGF0b3IuaXNWYWxpZChrZXksIHZhbHVlLCB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMpO1xuICAgIH1cblxuICAgIGVsZW1BdHRycyAoaWRlbnQsIGJhc2UpXG4gICAge1xuICAgICAgICBjb25zdCBhdHRycyA9IHtcbiAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgaWRlbnQsXG4gICAgICAgICAgICBjbGFzczogJ2RpdmEtJyArIGlkZW50XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGJhc2UpXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihhdHRycywgYmFzZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICBnZXRQYWdlRGF0YSAocGFnZUluZGV4LCBhdHRyaWJ1dGUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdLmRbdGhpcy5zZXR0aW5ncy56b29tTGV2ZWxdW2F0dHJpYnV0ZV07XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgc29tZSBzZXR0aW5ncyBhbmQgZW1wdHkgdGhlIHZpZXdwb3J0XG4gICAgY2xlYXJWaWV3ZXIgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wID0gMDtcblxuICAgICAgICAvLyBDbGVhciBhbGwgdGhlIHRpbWVvdXRzIHRvIHByZXZlbnQgdW5kZXNpcmVkIHBhZ2VzIGZyb20gbG9hZGluZ1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lcik7XG4gICAgfVxuXG4gICAgaGFzQ2hhbmdlZE9wdGlvbiAob3B0aW9ucywga2V5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGtleSBpbiBvcHRpb25zICYmIG9wdGlvbnNba2V5XSAhPT0gdGhpcy5zZXR0aW5nc1trZXldO1xuICAgIH1cblxuICAgIC8vU2hvcnRjdXQgZm9yIGNsb3NpbmcgZnVsbHNjcmVlbiB3aXRoIHRoZSBlc2NhcGUga2V5XG4gICAgZXNjYXBlTGlzdGVuZXIgKGUpXG4gICAge1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdWJsaWNJbnN0YW5jZS5sZWF2ZUZ1bGxzY3JlZW5Nb2RlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc2V0dGluZ3MgdG8gbWF0Y2ggdGhlIHNwZWNpZmllZCBvcHRpb25zLiBMb2FkIHRoZSB2aWV3ZXIsXG4gICAgICogZmlyZSBhcHByb3ByaWF0ZSBldmVudHMgZm9yIGNoYW5nZWQgb3B0aW9ucy5cbiAgICAgKi9cbiAgICByZWxvYWRWaWV3ZXIgKG5ld09wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBxdWV1ZWRFdmVudHMgPSBbXTtcblxuICAgICAgICBuZXdPcHRpb25zID0gdGhpcy5vcHRpb25zVmFsaWRhdG9yLmdldFZhbGlkYXRlZE9wdGlvbnModGhpcy5zZXR0aW5ncywgbmV3T3B0aW9ucyk7XG5cbiAgICAgICAgLy8gU2V0IHRoZSB6b29tIGxldmVsIGlmIHZhbGlkIGFuZCBmaXJlIGEgWm9vbUxldmVsRGlkQ2hhbmdlIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ3pvb21MZXZlbCcpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA9IHRoaXMuc2V0dGluZ3Muem9vbUxldmVsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnpvb21MZXZlbCA9IG5ld09wdGlvbnMuem9vbUxldmVsO1xuICAgICAgICAgICAgcXVldWVkRXZlbnRzLnB1c2goW1wiWm9vbUxldmVsRGlkQ2hhbmdlXCIsIG5ld09wdGlvbnMuem9vbUxldmVsXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgdGhlIHBhZ2VzIHBlciByb3cgaWYgdmFsaWQgYW5kIGZpcmUgYW4gZXZlbnRcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZE9wdGlvbihuZXdPcHRpb25zLCAncGFnZXNQZXJSb3cnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnBhZ2VzUGVyUm93ID0gbmV3T3B0aW9ucy5wYWdlc1BlclJvdztcbiAgICAgICAgICAgIHF1ZXVlZEV2ZW50cy5wdXNoKFtcIkdyaWRSb3dOdW1iZXJEaWRDaGFuZ2VcIiwgbmV3T3B0aW9ucy5wYWdlc1BlclJvd10pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHZlcnRpY2FsbHlPcmllbnRlZCAobm8gZXZlbnQgZmlyZWQpXG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ3ZlcnRpY2FsbHlPcmllbnRlZCcpKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnZlcnRpY2FsbHlPcmllbnRlZCA9IG5ld09wdGlvbnMudmVydGljYWxseU9yaWVudGVkO1xuXG4gICAgICAgIC8vIFNob3cvSGlkZSBub24tcGFnZWQgcGFnZXNcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZE9wdGlvbihuZXdPcHRpb25zLCAnc2hvd05vblBhZ2VkUGFnZXMnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnNob3dOb25QYWdlZFBhZ2VzID0gbmV3T3B0aW9ucy5zaG93Tm9uUGFnZWRQYWdlcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSBwYWdlIHBvc2l0aW9uIChubyBldmVudCBmaXJlZCBoZXJlKVxuICAgICAgICBpZiAoJ2dvRGlyZWN0bHlUbycgaW4gbmV3T3B0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmdvRGlyZWN0bHlUbyA9IG5ld09wdGlvbnMuZ29EaXJlY3RseVRvO1xuXG4gICAgICAgICAgICBpZiAoJ3ZlcnRpY2FsT2Zmc2V0JyBpbiBuZXdPcHRpb25zKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgPSBuZXdPcHRpb25zLnZlcnRpY2FsT2Zmc2V0O1xuXG4gICAgICAgICAgICBpZiAoJ2hvcml6b250YWxPZmZzZXQnIGluIG5ld09wdGlvbnMpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0ID0gbmV3T3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZSBkZWZhdWx0IGlzIHRvIHJlbWFpbiBvbiB0aGUgY3VycmVudCBwYWdlXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuZ29EaXJlY3RseVRvID0gdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5oYXNDaGFuZ2VkT3B0aW9uKG5ld09wdGlvbnMsICdpbkdyaWQnKSB8fCB0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ2luQm9va0xheW91dCcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoJ2luR3JpZCcgaW4gbmV3T3B0aW9ucylcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuaW5HcmlkID0gbmV3T3B0aW9ucy5pbkdyaWQ7XG5cbiAgICAgICAgICAgIGlmICgnaW5Cb29rTGF5b3V0JyBpbiBuZXdPcHRpb25zKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5pbkJvb2tMYXlvdXQgPSBuZXdPcHRpb25zLmluQm9va0xheW91dDtcblxuICAgICAgICAgICAgcXVldWVkRXZlbnRzLnB1c2goW1wiVmlld0RpZFN3aXRjaFwiLCB0aGlzLnNldHRpbmdzLmluR3JpZF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90ZTogcHJlcGFyZU1vZGVDaGFuZ2UoKSBkZXBlbmRzIG9uIGluR3JpZCBhbmQgdGhlIHZlcnRpY2FsL2hvcml6b250YWxPZmZzZXQgKGZvciBub3cpXG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ2luRnVsbHNjcmVlbicpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuaW5GdWxsc2NyZWVuID0gbmV3T3B0aW9ucy5pbkZ1bGxzY3JlZW47XG4gICAgICAgICAgICB0aGlzLnByZXBhcmVNb2RlQ2hhbmdlKG5ld09wdGlvbnMpO1xuICAgICAgICAgICAgcXVldWVkRXZlbnRzLnB1c2goW1wiTW9kZURpZFN3aXRjaFwiLCB0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGVhclZpZXdlcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXdIYW5kbGVyQW5kUmVuZGVyaW5nKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFRoZSB1c2FnZSBvZiBwYWRkaW5nIHZhcmlhYmxlcyBpcyBzdGlsbCByZWFsbHlcbiAgICAgICAgICAgIC8vIG1lc3N5IGFuZCBpbmNvbnNpc3RlbnRcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlcmVyQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgIHBhZ2VMYXlvdXRzOiBnZXRQYWdlTGF5b3V0cyh0aGlzLnNldHRpbmdzKSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiB0aGlzLmdldFBhZGRpbmcoKSxcbiAgICAgICAgICAgICAgICBtYXhab29tTGV2ZWw6IHRoaXMuc2V0dGluZ3MuaW5HcmlkID8gbnVsbCA6IHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3QubWF4Wm9vbSxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbGx5T3JpZW50ZWQ6IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkIHx8IHRoaXMuc2V0dGluZ3MuaW5HcmlkLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnRQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IHRoaXMuc2V0dGluZ3MuaW5HcmlkID8gbnVsbCA6IHRoaXMuc2V0dGluZ3Muem9vbUxldmVsLFxuICAgICAgICAgICAgICAgIGFuY2hvclBhZ2U6IHRoaXMuc2V0dGluZ3MuZ29EaXJlY3RseVRvLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsT2Zmc2V0LFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQ6IHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3Qgc291cmNlUHJvdmlkZXIgPSB0aGlzLmdldEN1cnJlbnRTb3VyY2VQcm92aWRlcigpO1xuXG4gICAgICAgICAgICBpZiAoZGVidWcuZW5hYmxlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkID0gT2JqZWN0LmtleXMocmVuZGVyZXJDb25maWcpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGtleSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG9vIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgIT09ICdwYWdlTGF5b3V0cycgJiYga2V5ICE9PSAncGFkZGluZyc7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZW5kZXJlckNvbmZpZ1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleSArICc6ICcgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcsICcpO1xuXG4gICAgICAgICAgICAgICAgZGVidWcoJ3JlbG9hZCB3aXRoICVzJywgc2VyaWFsaXplZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubG9hZChyZW5kZXJlckNvbmZpZywgdmlld3BvcnRQb3NpdGlvbiwgc291cmNlUHJvdmlkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcXVldWVkRXZlbnRzLmZvckVhY2goIChwYXJhbXMpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaC5hcHBseSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGVzIHN3aXRjaGluZyBpbiBhbmQgb3V0IG9mIGZ1bGxzY3JlZW4gbW9kZVxuICAgIHByZXBhcmVNb2RlQ2hhbmdlIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gVG9nZ2xlIHRoZSBjbGFzc2VzXG4gICAgICAgIGNvbnN0IGNoYW5nZUNsYXNzID0gb3B0aW9ucy5pbkZ1bGxzY3JlZW4gPyAnYWRkJyA6ICdyZW1vdmUnO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm91dGVyT2JqZWN0LmNsYXNzTGlzdFtjaGFuZ2VDbGFzc10oJ2RpdmEtZnVsbHNjcmVlbicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdFtjaGFuZ2VDbGFzc10oJ2RpdmEtaGlkZS1zY3JvbGxiYXInKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wYXJlbnRPYmplY3QuY2xhc3NMaXN0W2NoYW5nZUNsYXNzXSgnZGl2YS1mdWxsLXdpZHRoJyk7XG5cbiAgICAgICAgLy8gQWRqdXN0IERpdmEncyBpbnRlcm5hbCBwYW5lbCBzaXplLCBrZWVwaW5nIHRoZSBvbGQgdmFsdWVzXG4gICAgICAgIGNvbnN0IHN0b3JlZEhlaWdodCA9IHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHN0b3JlZFdpZHRoID0gdGhpcy5zZXR0aW5ncy5wYW5lbFdpZHRoO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludmFsaWRhdGUoKTtcblxuICAgICAgICAvLyBJZiB0aGlzIGlzbid0IHRoZSBvcmlnaW5hbCBsb2FkLCB0aGUgb2Zmc2V0cyBtYXR0ZXIsIGFuZCB0aGUgcG9zaXRpb24gaXNuJ3QgYmVpbmcgY2hhbmdlZC4uLlxuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUubG9hZGVkICYmICF0aGlzLnNldHRpbmdzLmluR3JpZCAmJiAhKCd2ZXJ0aWNhbE9mZnNldCcgaW4gb3B0aW9ucykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vZ2V0IHRoZSB1cGRhdGVkIHBhbmVsIHNpemVcbiAgICAgICAgICAgIGNvbnN0IG5ld0hlaWdodCA9IHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBuZXdXaWR0aCA9IHRoaXMuc2V0dGluZ3MucGFuZWxXaWR0aDtcblxuICAgICAgICAgICAgLy9hbmQgcmUtY2VudGVyIHRoZSBuZXcgcGFuZWwgb24gdGhlIHNhbWUgcG9pbnRcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgKz0gKChzdG9yZWRIZWlnaHQgLSBuZXdIZWlnaHQpIC8gMik7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXQgKz0gKChzdG9yZWRXaWR0aCAtIG5ld1dpZHRoKSAvIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy90dXJuIG9uL29mZiBlc2NhcGUga2V5IGxpc3RlbmVyXG4gICAgICAgIGlmIChvcHRpb25zLmluRnVsbHNjcmVlbilcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5ib3VuZEVzY2FwZUxpc3RlbmVyKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmJvdW5kRXNjYXBlTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdmlldyBoYW5kbGVyIGFuZCB0aGUgdmlldyByZW5kZXJpbmcgZm9yIHRoZSBjdXJyZW50IHZpZXdcbiAgICB1cGRhdGVWaWV3SGFuZGxlckFuZFJlbmRlcmluZyAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgSGFuZGxlciA9IHRoaXMuc2V0dGluZ3MuaW5HcmlkID8gR3JpZEhhbmRsZXIgOiBEb2N1bWVudEhhbmRsZXI7XG5cbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIgJiYgISh0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyIGluc3RhbmNlb2YgSGFuZGxlcikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIpXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyID0gbmV3IEhhbmRsZXIodGhpcyk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplUmVuZGVyZXIoKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBUaGlzIGNvdWxkIHByb2JhYmx5IGJlIGRvbmUgdXBvbiBWaWV3ZXJDb3JlIGluaXRpYWxpemF0aW9uXG4gICAgaW5pdGlhbGl6ZVJlbmRlcmVyICgpXG4gICAge1xuICAgICAgICBjb25zdCBjb21wYXRFcnJvcnMgPSBSZW5kZXJlci5nZXRDb21wYXRpYmlsaXR5RXJyb3JzKCk7XG5cbiAgICAgICAgaWYgKGNvbXBhdEVycm9ycylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IoY29tcGF0RXJyb3JzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgdmlld3BvcnQ6IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQsXG4gICAgICAgICAgICAgICAgb3V0ZXJFbGVtZW50OiB0aGlzLnZpZXdlclN0YXRlLm91dGVyRWxlbWVudCxcbiAgICAgICAgICAgICAgICBpbm5lckVsZW1lbnQ6IHRoaXMudmlld2VyU3RhdGUuaW5uZXJFbGVtZW50LFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBob29rcyA9IHtcbiAgICAgICAgICAgICAgICBvblZpZXdXaWxsTG9hZDogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIub25WaWV3V2lsbExvYWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVmlld0RpZExvYWQ6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2VPdmVybGF5cygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uVmlld0RpZExvYWQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uVmlld0RpZFVwZGF0ZTogKHBhZ2VzLCB0YXJnZXRQYWdlKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQYWdlT3ZlcmxheXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlci5vblZpZXdEaWRVcGRhdGUocGFnZXMsIHRhcmdldFBhZ2UpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25WaWV3RGlkVHJhbnNpdGlvbjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFnZU92ZXJsYXlzKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblBhZ2VXaWxsTG9hZDogKHBhZ2VJbmRleCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaCgnUGFnZVdpbGxMb2FkJywgcGFnZUluZGV4KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uWm9vbUxldmVsV2lsbENoYW5nZTogKHpvb21MZXZlbCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaCgnWm9vbUxldmVsV2lsbENoYW5nZScsIHpvb21MZXZlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlciA9IG5ldyBSZW5kZXJlcihvcHRpb25zLCBob29rcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDdXJyZW50U291cmNlUHJvdmlkZXIgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZ3JpZFNvdXJjZVByb3ZpZGVyID0ge1xuICAgICAgICAgICAgICAgIGdldEFsbFpvb21MZXZlbHNGb3JQYWdlOiAocGFnZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbZ3JpZFNvdXJjZVByb3ZpZGVyLmdldEJlc3Rab29tTGV2ZWxGb3JQYWdlKHBhZ2UpXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldEJlc3Rab29tTGV2ZWxGb3JQYWdlOiAocGFnZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuZ2V0UGFnZUltYWdlVVJMKHBhZ2UuaW5kZXgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBwYWdlLmRpbWVuc2lvbnMud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21MZXZlbDogMSwgLy8gRklYTUVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGlsZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbUxldmVsOiAxLCAvLyBGSVhNRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2w6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9uczogcGFnZS5kaW1lbnNpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBncmlkU291cmNlUHJvdmlkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aWxlRGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnNldHRpbmdzLnRpbGVXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5zZXR0aW5ncy50aWxlSGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldEJlc3Rab29tTGV2ZWxGb3JQYWdlOiAocGFnZSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRQYWdlSW1hZ2VUaWxlcyhwYWdlLmluZGV4LCBNYXRoLmNlaWwodGhpcy5zZXR0aW5ncy56b29tTGV2ZWwpLCB0aWxlRGltZW5zaW9ucyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0QWxsWm9vbUxldmVsc0ZvclBhZ2U6IChwYWdlKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxldmVscyA9IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxldmVsQ291bnQgPSB0aGlzLnZpZXdlclN0YXRlLm1hbmlmZXN0Lm1heFpvb207XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBsZXZlbD0wOyBsZXZlbCA8PSBsZXZlbENvdW50OyBsZXZlbCsrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWxzLnB1c2godGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRQYWdlSW1hZ2VUaWxlcyhwYWdlLmluZGV4LCBsZXZlbCwgdGlsZURpbWVuc2lvbnMpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXZlbHMucmV2ZXJzZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldmVscztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRQYWRkaW5nICgpXG4gICAge1xuICAgICAgICBsZXQgdG9wUGFkZGluZywgbGVmdFBhZGRpbmc7XG4gICAgICAgIGxldCBkb2NWUGFkZGluZywgZG9jSFBhZGRpbmc7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBkb2NWUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MuZml4ZWRQYWRkaW5nO1xuICAgICAgICAgICAgdG9wUGFkZGluZyA9IGxlZnRQYWRkaW5nID0gZG9jSFBhZGRpbmcgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdG9wUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkID8gdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbFBhZGRpbmcgOiAwO1xuICAgICAgICAgICAgbGVmdFBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCA/IDAgOiB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxQYWRkaW5nO1xuXG4gICAgICAgICAgICBkb2NWUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkID8gMCA6IHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nO1xuICAgICAgICAgICAgZG9jSFBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCA/IHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbFBhZGRpbmcgOiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvY3VtZW50OiB7XG4gICAgICAgICAgICAgICAgdG9wOiBkb2NWUGFkZGluZyxcbiAgICAgICAgICAgICAgICBib3R0b206IGRvY1ZQYWRkaW5nLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGRvY0hQYWRkaW5nLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBkb2NIUGFkZGluZ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhZ2U6IHtcbiAgICAgICAgICAgICAgICB0b3A6IHRvcFBhZGRpbmcsXG4gICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnRQYWRkaW5nLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdXBkYXRlUGFnZU92ZXJsYXlzICgpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBhZ2VPdmVybGF5cy51cGRhdGVPdmVybGF5cyhcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZ2V0UmVuZGVyZWRQYWdlcygpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQ2FsbGVkIHRvIGhhbmRsZSBhbnkgem9vbSBsZXZlbFxuICAgIGhhbmRsZVpvb20gKG5ld1pvb21MZXZlbCwgZm9jYWxQb2ludClcbiAgICB7XG4gICAgICAgIC8vIElmIHRoZSB6b29tIGxldmVsIHByb3ZpZGVkIGlzIGludmFsaWQsIHJldHVybiBmYWxzZVxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZE9wdGlvbignem9vbUxldmVsJywgbmV3Wm9vbUxldmVsKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAvLyBXaGlsZSB6b29taW5nLCBkb24ndCB1cGRhdGUgc2Nyb2xsIG9mZnNldHMgYmFzZWQgb24gdGhlIHNjYWxlZCB2ZXJzaW9uIG9mIGRpdmEtaW5uZXJcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmJvdW5kU2Nyb2xsRnVuY3Rpb24pO1xuXG4gICAgICAgIC8vIElmIG5vIGZvY2FsIHBvaW50IHdhcyBnaXZlbiwgem9vbSBvbiB0aGUgY2VudGVyIG9mIHRoZSB2aWV3cG9ydFxuICAgICAgICBpZiAoIWZvY2FsUG9pbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRSZWdpb24gPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlUmVnaW9uKHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4KTtcblxuICAgICAgICAgICAgZm9jYWxQb2ludCA9IHtcbiAgICAgICAgICAgICAgICBhbmNob3JQYWdlOiB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogKHZpZXdwb3J0LndpZHRoIC8gMikgLSAoY3VycmVudFJlZ2lvbi5sZWZ0IC0gdmlld3BvcnQubGVmdCksXG4gICAgICAgICAgICAgICAgICAgIHRvcDogKHZpZXdwb3J0LmhlaWdodCAvIDIpIC0gKGN1cnJlbnRSZWdpb24udG9wIC0gdmlld3BvcnQudG9wKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYWdlUmVnaW9uID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQuZ2V0UGFnZVJlZ2lvbihmb2NhbFBvaW50LmFuY2hvclBhZ2UpO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBkaXN0YW5jZSBmcm9tIGN1cnNvciBjb29yZGluYXRlcyB0byBjZW50ZXIgb2Ygdmlld3BvcnRcbiAgICAgICAgY29uc3QgZm9jYWxYVG9DZW50ZXIgPSAocGFnZVJlZ2lvbi5sZWZ0ICsgZm9jYWxQb2ludC5vZmZzZXQubGVmdCkgLVxuICAgICAgICAgICAgKHRoaXMuc2V0dGluZ3Mudmlld3BvcnQubGVmdCArICh0aGlzLnNldHRpbmdzLnZpZXdwb3J0LndpZHRoIC8gMikpO1xuICAgICAgICBjb25zdCBmb2NhbFlUb0NlbnRlciA9IChwYWdlUmVnaW9uLnRvcCArIGZvY2FsUG9pbnQub2Zmc2V0LnRvcCkgLVxuICAgICAgICAgICAgKHRoaXMuc2V0dGluZ3Mudmlld3BvcnQudG9wICsgKHRoaXMuc2V0dGluZ3Mudmlld3BvcnQuaGVpZ2h0IC8gMikpO1xuXG4gICAgICAgIGNvbnN0IGdldFBvc2l0aW9uRm9yWm9vbUxldmVsID0gICh6b29tTGV2ZWwsIGluaXRab29tKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB6b29tUmF0aW8gPSBNYXRoLnBvdygyLCB6b29tTGV2ZWwgLSBpbml0Wm9vbSk7XG5cbiAgICAgICAgICAgIC8vVE9ETyhqZXJvbWVwbCk6IENhbGN1bGF0ZSBwb3NpdGlvbiBmcm9tIHBhZ2UgdG9wIGxlZnQgdG8gdmlld3BvcnQgdG9wIGxlZnRcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBob3Jpem9udGFsL3ZlcnRpY2FsT2Zmc2V0OiBkaXN0YW5jZSBmcm9tIHZpZXdwb3J0IGNlbnRlciB0byBwYWdlIHVwcGVyIGxlZnQgY29ybmVyXG4gICAgICAgICAgICBjb25zdCBob3Jpem9udGFsT2Zmc2V0ID0gKGZvY2FsUG9pbnQub2Zmc2V0LmxlZnQgKiB6b29tUmF0aW8pIC0gZm9jYWxYVG9DZW50ZXI7XG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbE9mZnNldCA9IChmb2NhbFBvaW50Lm9mZnNldC50b3AgKiB6b29tUmF0aW8pIC0gZm9jYWxZVG9DZW50ZXI7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgem9vbUxldmVsOiB6b29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgYW5jaG9yUGFnZTogZm9jYWxQb2ludC5hbmNob3JQYWdlLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiB2ZXJ0aWNhbE9mZnNldCxcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiBob3Jpem9udGFsT2Zmc2V0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy56b29tTGV2ZWwgPSBuZXdab29tTGV2ZWw7XG4gICAgICAgIGxldCBpbml0aWFsWm9vbUxldmVsID0gdGhpcy52aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWw7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub2xkWm9vbUxldmVsID0gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWw7XG4gICAgICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gZ2V0UG9zaXRpb25Gb3Jab29tTGV2ZWwobmV3Wm9vbUxldmVsLCBpbml0aWFsWm9vbUxldmVsKTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmdvRGlyZWN0bHlUbyA9IGVuZFBvc2l0aW9uLmFuY2hvclBhZ2U7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgPSBlbmRQb3NpdGlvbi52ZXJ0aWNhbE9mZnNldDtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0ID0gZW5kUG9zaXRpb24uaG9yaXpvbnRhbE9mZnNldDtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLnRyYW5zaXRpb25WaWV3cG9ydFBvc2l0aW9uKHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLnNldHRpbmdzLnpvb21EdXJhdGlvbixcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogaW5pdGlhbFpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgdG86IG5ld1pvb21MZXZlbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRQb3NpdGlvbjogKHBhcmFtZXRlcnMpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFBvc2l0aW9uRm9yWm9vbUxldmVsKHBhcmFtZXRlcnMuem9vbUxldmVsLCBpbml0aWFsWm9vbUxldmVsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVuZDogKGluZm8pID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmJvdW5kU2Nyb2xsRnVuY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZm8uaW50ZXJydXB0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub2xkWm9vbUxldmVsID0gbmV3Wm9vbUxldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEZWFjdGl2YXRlIHpvb20gYnV0dG9ucyB3aGlsZSB6b29taW5nXG4gICAgICAgIGxldCB6b29tSW5CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yICsgJ3pvb20taW4tYnV0dG9uJyk7XG4gICAgICAgIGxldCB6b29tT3V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5zZWxlY3RvciArICd6b29tLW91dC1idXR0b24nKTtcbiAgICAgICAgem9vbUluQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgem9vbU91dEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgem9vbUluQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB6b29tT3V0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3Muem9vbUR1cmF0aW9uKTtcblxuICAgICAgICAvLyBTZW5kIG9mZiB0aGUgem9vbSBsZXZlbCBkaWQgY2hhbmdlIGV2ZW50LlxuICAgICAgICB0aGlzLnB1Ymxpc2goXCJab29tTGV2ZWxEaWRDaGFuZ2VcIiwgbmV3Wm9vbUxldmVsKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKlxuICAgICBHZXRzIHRoZSBZLW9mZnNldCBmb3IgYSBzcGVjaWZpYyBwb2ludCBvbiBhIHNwZWNpZmljIHBhZ2VcbiAgICAgQWNjZXB0YWJsZSB2YWx1ZXMgZm9yIFwiYW5jaG9yXCI6XG4gICAgIFwidG9wXCIgKGRlZmF1bHQpIC0gd2lsbCBhbmNob3IgdG9wIG9mIHRoZSBwYWdlIHRvIHRoZSB0b3Agb2YgdGhlIGRpdmEtb3V0ZXIgZWxlbWVudFxuICAgICBcImJvdHRvbVwiIC0gdG9wLCBzL3RvcC9ib3R0b21cbiAgICAgXCJjZW50ZXJcIiAtIHdpbGwgY2VudGVyIHRoZSBwYWdlIG9uIHRoZSBkaXZhIGVsZW1lbnRcbiAgICAgUmV0dXJuZWQgdmFsdWUgd2lsbCBiZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBkaXZhLW91dGVyIGVsZW1lbnQgdG8gdGhlIHRvcCBvZiB0aGUgY3VycmVudCBwYWdlIGZvciB0aGUgc3BlY2lmaWVkIGFuY2hvclxuICAgICAqL1xuICAgIGdldFlPZmZzZXQgKHBhZ2VJbmRleCwgYW5jaG9yKVxuICAgIHtcbiAgICAgICAgbGV0IHBpZHggPSAodHlwZW9mKHBhZ2VJbmRleCkgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCA6IHBhZ2VJbmRleCk7XG5cbiAgICAgICAgaWYgKGFuY2hvciA9PT0gXCJjZW50ZXJcIiB8fCBhbmNob3IgPT09IFwiY2VudHJlXCIpIC8vaG93IHlvdSBjYW4gdGVsbCBhbiBBbWVyaWNhbiBjb2RlZCB0aGlzXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdldFBhZ2VEYXRhKHBpZHgsIFwiaFwiKSAvIDIsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbmNob3IgPT09IFwiYm90dG9tXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdldFBhZ2VEYXRhKHBpZHgsIFwiaFwiKSAtIHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQgLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodCAvIDIsIDEwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vU2FtZSBhcyBnZXRZT2Zmc2V0IHdpdGggXCJsZWZ0XCIgYW5kIFwicmlnaHRcIiBhcyBhY2NlcHRhYmxlIHZhbHVlcyBpbnN0ZWFkIG9mIFwidG9wXCIgYW5kIFwiYm90dG9tXCJcbiAgICBnZXRYT2Zmc2V0IChwYWdlSW5kZXgsIGFuY2hvcilcbiAgICB7XG4gICAgICAgIGxldCBwaWR4ID0gKHR5cGVvZihwYWdlSW5kZXgpID09PSBcInVuZGVmaW5lZFwiID8gdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXggOiBwYWdlSW5kZXgpO1xuXG4gICAgICAgIGlmIChhbmNob3IgPT09IFwibGVmdFwiKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5wYW5lbFdpZHRoIC8gMiwgMTApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFuY2hvciA9PT0gXCJyaWdodFwiKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRQYWdlRGF0YShwaWR4LCBcIndcIikgLSB0aGlzLnNldHRpbmdzLnBhbmVsV2lkdGggLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRQYWdlRGF0YShwaWR4LCBcIndcIikgLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGVzIHBhbmVsSGVpZ2h0L3BhbmVsV2lkdGggb24gcmVzaXplXG4gICAgdXBkYXRlUGFuZWxTaXplICgpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludmFsaWRhdGUoKTtcblxuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBUaGlzIHNob3VsZCByZWFsbHkgb25seSBiZSBjYWxsZWQgYWZ0ZXIgaW5pdGlhbCBsb2FkXG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU9mZnNldHMoKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZ290byh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCwgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHVwZGF0ZU9mZnNldHMgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2VPZmZzZXQgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydCk7XG5cbiAgICAgICAgaWYgKHBhZ2VPZmZzZXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldCA9IHBhZ2VPZmZzZXQueDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQgPSBwYWdlT2Zmc2V0Lnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBCaW5kIG1vdXNlIGV2ZW50cyAoZHJhZyB0byBzY3JvbGwsIGRvdWJsZS1jbGljaylcbiAgICBiaW5kTW91c2VFdmVudHMgKClcbiAgICB7XG4gICAgICAgIC8vIFNldCBkcmFnIHNjcm9sbCBvbiB0aGUgdmlld3BvcnQgb2JqZWN0XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuY2xhc3NMaXN0LmFkZCgnZHJhZ3Njcm9sbCcpO1xuXG4gICAgICAgIGdlc3R1cmVFdmVudHMub25Eb3VibGVDbGljayh0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LCAoZXZlbnQsIGNvb3JkcykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZGVidWcoJ0RvdWJsZSBjbGljayBhdCAlcywgJXMnLCBjb29yZHMubGVmdCwgY29vcmRzLnRvcCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uRG91YmxlQ2xpY2soZXZlbnQsIGNvb3Jkcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUmVzaXplICgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVBhbmVsU2l6ZSgpO1xuICAgICAgICAvLyBDYW5jZWwgYW55IHByZXZpb3VzbHktc2V0IHJlc2l6ZSB0aW1lb3V0c1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lcik7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lciA9IHNldFRpbWVvdXQoICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VPZmZzZXQgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydCk7XG5cbiAgICAgICAgICAgIGlmIChwYWdlT2Zmc2V0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgZ29EaXJlY3RseVRvOiB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IHBhZ2VPZmZzZXQueSxcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogcGFnZU9mZnNldC54XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgICAgICBnb0RpcmVjdGx5VG86IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDIwMCk7XG4gICAgfVxuXG4gICAgLy8gQmluZCB0b3VjaCBhbmQgb3JpZW50YXRpb24gY2hhbmdlIGV2ZW50c1xuICAgIGJpbmRUb3VjaEV2ZW50cyAoKVxuICAgIHtcbiAgICAgICAgLy8gQmxvY2sgdGhlIHVzZXIgZnJvbSBtb3ZpbmcgdGhlIHdpbmRvdyBvbmx5IGlmIGl0J3Mgbm90IGludGVncmF0ZWRcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYmxvY2tNb2JpbGVNb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChldmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gZXZlbnQub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRvdWNoIGV2ZW50cyBmb3Igc3dpcGluZyBpbiB0aGUgdmlld3BvcnQgdG8gc2Nyb2xsIHBhZ2VzXG4gICAgICAgIC8vIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zY3JvbGxGdW5jdGlvbi5iaW5kKHRoaXMpKTtcblxuICAgICAgICBnZXN0dXJlRXZlbnRzLm9uUGluY2godGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdCwgZnVuY3Rpb24gKGV2ZW50LCBjb29yZHMsIHN0YXJ0LCBlbmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlYnVnKCdQaW5jaCAlcyBhdCAlcywgJXMnLCBlbmQgLSBzdGFydCwgY29vcmRzLmxlZnQsIGNvb3Jkcy50b3ApO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlci5vblBpbmNoKGV2ZW50LCBjb29yZHMsIHN0YXJ0LCBlbmQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBnZXN0dXJlRXZlbnRzLm9uRG91YmxlVGFwKHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QsIGZ1bmN0aW9uIChldmVudCwgY29vcmRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWJ1ZygnRG91YmxlIHRhcCBhdCAlcywgJXMnLCBjb29yZHMubGVmdCwgY29vcmRzLnRvcCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uRG91YmxlQ2xpY2soZXZlbnQsIGNvb3Jkcyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSB0aGUgc2Nyb2xsXG4gICAgc2Nyb2xsRnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVG9wU2Nyb2xsID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3A7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzTGVmdFNjcm9sbCA9IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdDtcblxuICAgICAgICBsZXQgZGlyZWN0aW9uO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IG5ld1Njcm9sbFRvcCA9IHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wO1xuICAgICAgICBjb25zdCBuZXdTY3JvbGxMZWZ0ID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5sZWZ0O1xuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCB8fCB0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IG5ld1Njcm9sbFRvcCAtIHByZXZpb3VzVG9wU2Nyb2xsO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBuZXdTY3JvbGxMZWZ0IC0gcHJldmlvdXNMZWZ0U2Nyb2xsO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuYWRqdXN0KCk7XG5cbiAgICAgICAgY29uc3QgcHJpbWFyeVNjcm9sbCA9ICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZCB8fCB0aGlzLnNldHRpbmdzLmluR3JpZCkgPyBuZXdTY3JvbGxUb3AgOiBuZXdTY3JvbGxMZWZ0O1xuXG4gICAgICAgIHRoaXMucHVibGlzaChcIlZpZXdlckRpZFNjcm9sbFwiLCBwcmltYXJ5U2Nyb2xsKTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoKFwiVmlld2VyRGlkU2Nyb2xsRG93blwiLCBwcmltYXJ5U2Nyb2xsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2goXCJWaWV3ZXJEaWRTY3JvbGxVcFwiLCBwcmltYXJ5U2Nyb2xsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlT2Zmc2V0cygpO1xuICAgIH1cblxuICAgIC8vIEJpbmRzIG1vc3Qgb2YgdGhlIGV2ZW50IGhhbmRsZXJzIChzb21lIG1vcmUgaW4gY3JlYXRlVG9vbGJhcilcbiAgICBoYW5kbGVFdmVudHMgKClcbiAgICB7XG4gICAgICAgIC8vIENoYW5nZSB0aGUgY3Vyc29yIGZvciBkcmFnZ2luZ1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyT2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJPYmplY3QuY2xhc3NMaXN0LmFkZCgnZGl2YS1ncmFiYmluZycpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyT2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyT2JqZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2RpdmEtZ3JhYmJpbmcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5iaW5kTW91c2VFdmVudHMoKTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmJvdW5kU2Nyb2xsRnVuY3Rpb24pO1xuXG4gICAgICAgIGNvbnN0IHVwQXJyb3dLZXkgPSAzOCwgZG93bkFycm93S2V5ID0gNDAsIGxlZnRBcnJvd0tleSA9IDM3LCByaWdodEFycm93S2V5ID0gMzksIHNwYWNlS2V5ID0gMzIsIHBhZ2VVcEtleSA9IDMzLCBwYWdlRG93bktleSA9IDM0LCBob21lS2V5ID0gMzYsIGVuZEtleSA9IDM1O1xuXG4gICAgICAgIC8vIENhdGNoIHRoZSBrZXkgcHJlc3NlcyBpbiBkb2N1bWVudFxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duLmRpdmEnLCAoZXZlbnQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS5pc0FjdGl2ZURpdmEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIC8vIFNwYWNlIG9yIHBhZ2UgZG93biAtIGdvIHRvIHRoZSBuZXh0IHBhZ2VcbiAgICAgICAgICAgIGlmICgodGhpcy5zZXR0aW5ncy5lbmFibGVTcGFjZVNjcm9sbCAmJiAhZXZlbnQuc2hpZnRLZXkgJiYgZXZlbnQua2V5Q29kZSA9PT0gc3BhY2VLZXkpIHx8ICh0aGlzLnNldHRpbmdzLmVuYWJsZUtleVNjcm9sbCAmJiBldmVudC5rZXlDb2RlID09PSBwYWdlRG93bktleSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3AgKz0gdGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5zZXR0aW5ncy5lbmFibGVTcGFjZVNjcm9sbCAmJiBldmVudC5rZXlDb2RlID09PSBzcGFjZUtleSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVLZXlTY3JvbGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3Qgc3RlYWwga2V5Ym9hcmQgc2hvcnRjdXRzIChtZXRhS2V5ID0gY29tbWFuZCBbT1MgWF0sIHN1cGVyIFtXaW4vTGludXhdKVxuICAgICAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudC5rZXlDb2RlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwYWdlVXBLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYWdlIHVwIC0gZ28gdG8gdGhlIHByZXZpb3VzIHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wIC09IHRoaXMuc2V0dGluZ3MucGFuZWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSB1cEFycm93S2V5OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXAgYXJyb3cgLSBzY3JvbGwgdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wIC09IHRoaXMuc2V0dGluZ3MuYXJyb3dTY3JvbGxBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBkb3duQXJyb3dLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEb3duIGFycm93IC0gc2Nyb2xsIGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wICs9IHRoaXMuc2V0dGluZ3MuYXJyb3dTY3JvbGxBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBsZWZ0QXJyb3dLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMZWZ0IGFycm93IC0gc2Nyb2xsIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdCAtPSB0aGlzLnNldHRpbmdzLmFycm93U2Nyb2xsQW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcmlnaHRBcnJvd0tleTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJpZ2h0IGFycm93IC0gc2Nyb2xsIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmxlZnQgKz0gdGhpcy5zZXR0aW5ncy5hcnJvd1Njcm9sbEFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIGhvbWVLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIb21lIGtleSAtIGdvIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlbmRLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbmQga2V5IC0gZ28gdG8gdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50IG9uIHRoZSB2aWV3cG9ydCBjb29yZGluYXRlIHZhbHVlIGJlaW5nIG5vcm1hbGl6ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcCA9IEluZmluaXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdCA9IEluZmluaXR5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1ZpZXdlckRpZFRlcm1pbmF0ZScsIGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bi5kaXZhJyk7XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3MuSUQpO1xuXG4gICAgICAgIC8vIHRoaXMuYmluZFRvdWNoRXZlbnRzKCk7XG5cbiAgICAgICAgLy8gSGFuZGxlIHdpbmRvdyByZXNpemluZyBldmVudHNcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSwgZmFsc2UpO1xuXG4gICAgICAgIGRpdmEuRXZlbnRzLnN1YnNjcmliZSgnVmlld2VyRGlkVGVybWluYXRlJywgZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSwgZmFsc2UpO1xuICAgICAgICB9LCB0aGlzLnNldHRpbmdzLklEKTtcblxuICAgICAgICAvLyBIYW5kbGUgb3JpZW50YXRpb24gY2hhbmdlIHNlcGFyYXRlbHlcbiAgICAgICAgaWYgKCdvbm9yaWVudGF0aW9uY2hhbmdlJyBpbiB3aW5kb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMub25SZXNpemUsIGZhbHNlKTtcblxuICAgICAgICAgICAgZGl2YS5FdmVudHMuc3Vic2NyaWJlKCdWaWV3ZXJEaWRUZXJtaW5hdGUnLCBmdW5jdGlvbigpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5vblJlc2l6ZSwgZmFsc2UpO1xuICAgICAgICAgICAgfSwgdGhpcy5zZXR0aW5ncy5JRCk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1BhbmVsU2l6ZURpZENoYW5nZScsIHRoaXMudXBkYXRlUGFuZWxTaXplLCB0aGlzLnNldHRpbmdzLklEKTtcblxuICAgICAgICAvLyBDbGVhciBwYWdlIGFuZCByZXNpemUgdGltZW91dHMgd2hlbiB0aGUgdmlld2VyIGlzIGRlc3Ryb3llZFxuICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1ZpZXdlckRpZFRlcm1pbmF0ZScsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZGVzdHJveSgpO1xuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3ZXJTdGF0ZS5yZXNpemVUaW1lcik7XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3MuSUQpO1xuICAgIH1cblxuICAgIGluaXRQbHVnaW5zICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoJ3BsdWdpbnMnKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucGx1Z2luSW5zdGFuY2VzID0gdGhpcy5zZXR0aW5ncy5wbHVnaW5zLm1hcCggKHBsdWdpbikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcCA9IG5ldyBwbHVnaW4odGhpcyk7XG5cbiAgICAgICAgICAgIGlmIChwLmlzUGFnZVRvb2wpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5wYWdlVG9vbHMucHVzaChwKTtcblxuICAgICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNob3dUaHJvYmJlciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5oaWRlVGhyb2JiZXIoKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnRocm9iYmVyVGltZW91dElEID0gc2V0VGltZW91dCggKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRoYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAndGhyb2JiZXInKTtcbiAgICAgICAgICAgIGlmICh0aGIpIHRoYi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfSwgdGhpcy5zZXR0aW5ncy50aHJvYmJlclRpbWVvdXQpO1xuICAgIH1cblxuICAgIGhpZGVUaHJvYmJlciAoKVxuICAgIHtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIHRpbWVvdXQsIGlmIGl0IGhhc24ndCBleGVjdXRlZCB5ZXRcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudmlld2VyU3RhdGUudGhyb2JiZXJUaW1lb3V0SUQpO1xuXG4gICAgICAgIGxldCB0aGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yICsgJ3Rocm9iYmVyJyk7XG4gICAgICAgIC8vIEhpZGUgdGhlIHRocm9iYmVyIGlmIGl0IGhhcyBhbHJlYWR5IGV4ZWN1dGVkXG4gICAgICAgIGlmICh0aGIpIHRoYi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIHNob3dFcnJvciAobWVzc2FnZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGVsdCgnZGl2JywgdGhpcy5lbGVtQXR0cnMoJ2Vycm9yJyksIFtcbiAgICAgICAgICAgIGVsdCgnYnV0dG9uJywgdGhpcy5lbGVtQXR0cnMoJ2Vycm9yLWNsb3NlJywgeydhcmlhLWxhYmVsJzogJ0Nsb3NlIGRpYWxvZyd9KSksXG4gICAgICAgICAgICBlbHQoJ3AnLFxuICAgICAgICAgICAgICAgIGVsdCgnc3Ryb25nJywgJ0Vycm9yJylcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBlbHQoJ2RpdicsIG1lc3NhZ2UpXG4gICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub3V0ZXJPYmplY3QuYXBwZW5kQ2hpbGQoZXJyb3JFbGVtZW50KTtcblxuICAgICAgICAvLyBCaW5kIGRpYWxvZyBjbG9zZSBidXR0b25cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5zZWxlY3RvciArICdlcnJvci1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZXJyb3JFbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0TWFuaWZlc3QgKG1hbmlmZXN0LCBsb2FkT3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3QgPSBtYW5pZmVzdDtcblxuICAgICAgICB0aGlzLmhpZGVUaHJvYmJlcigpO1xuXG4gICAgICAgIC8vIENvbnZlbmllbmNlIHZhbHVlXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUubnVtUGFnZXMgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzLmxlbmd0aDtcblxuICAgICAgICB0aGlzLm9wdGlvbnNWYWxpZGF0b3IudmFsaWRhdGUodGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zKTtcblxuICAgICAgICB0aGlzLnB1Ymxpc2goJ051bWJlck9mUGFnZXNEaWRDaGFuZ2UnLCB0aGlzLnNldHRpbmdzLm51bVBhZ2VzKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGludGVyLXBhZ2UgcGFkZGluZyBiYXNlZCBvbiB0aGUgZGltZW5zaW9ucyBvZiB0aGUgYXZlcmFnZSB6b29tIGxldmVsXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmFkYXB0aXZlUGFkZGluZyA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHogPSBNYXRoLmZsb29yKCh0aGlzLnNldHRpbmdzLm1pblpvb21MZXZlbCArIHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsKSAvIDIpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsUGFkZGluZyA9IHBhcnNlSW50KHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuZ2V0QXZlcmFnZVdpZHRoKHopICogdGhpcy5zZXR0aW5ncy5hZGFwdGl2ZVBhZGRpbmcsIDEwKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nID0gcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRBdmVyYWdlSGVpZ2h0KHopICogdGhpcy5zZXR0aW5ncy5hZGFwdGl2ZVBhZGRpbmcsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEl0J3MgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDA7IHVzZSBmaXhlZFBhZGRpbmcgaW5zdGVhZFxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MuZml4ZWRQYWRkaW5nO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbFBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLmZpeGVkUGFkZGluZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdmVydGljYWwgcGFkZGluZyBpcyBhdCBsZWFzdCA0MCwgaWYgcGx1Z2luIGljb25zIGFyZSBlbmFibGVkXG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnBhZ2VUb29scy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nID0gTWF0aC5tYXgoNDAsIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxQYWRkaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGRldGVjdCBhIHZpZXdpbmdIaW50IG9mICdwYWdlZCcgaW4gdGhlIG1hbmlmZXN0IG9yIHNlcXVlbmNlLCBlbmFibGUgYm9vayB2aWV3IGJ5IGRlZmF1bHRcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5pbkJvb2tMYXlvdXQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGx1Z2luIHNldHVwIGhvb2tzIHNob3VsZCBiZSBib3VuZCB0byB0aGUgT2JqZWN0RGlkTG9hZCBldmVudFxuICAgICAgICB0aGlzLnB1Ymxpc2goJ09iamVjdERpZExvYWQnLCB0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBBZGp1c3QgdGhlIGRvY3VtZW50IHBhbmVsIGRpbWVuc2lvbnNcbiAgICAgICAgdGhpcy51cGRhdGVQYW5lbFNpemUoKTtcblxuICAgICAgICBsZXQgbmVlZHNYQ29vcmQsIG5lZWRzWUNvb3JkO1xuXG4gICAgICAgIGxldCBhbmNob3JlZFZlcnRpY2FsbHkgPSBmYWxzZTtcbiAgICAgICAgbGV0IGFuY2hvcmVkSG9yaXpvbnRhbGx5ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTkI6IGA9PWAgaGVyZSB3aWxsIGNoZWNrIGJvdGggbnVsbCBhbmQgdW5kZWZpbmVkXG4gICAgICAgIGlmIChsb2FkT3B0aW9ucy5nb0RpcmVjdGx5VG8gPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgbG9hZE9wdGlvbnMuZ29EaXJlY3RseVRvID0gdGhpcy5zZXR0aW5ncy5nb0RpcmVjdGx5VG87XG4gICAgICAgICAgICBuZWVkc1hDb29yZCA9IG5lZWRzWUNvb3JkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5lZWRzWENvb3JkID0gbG9hZE9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCA9PSBudWxsIHx8IGlzTmFOKGxvYWRPcHRpb25zLmhvcml6b250YWxPZmZzZXQpO1xuICAgICAgICAgICAgbmVlZHNZQ29vcmQgPSBsb2FkT3B0aW9ucy52ZXJ0aWNhbE9mZnNldCA9PSBudWxsIHx8IGlzTmFOKGxvYWRPcHRpb25zLnZlcnRpY2FsT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHZhbHVlcyBmb3IgdGhlIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIG9mZnNldHNcbiAgICAgICAgaWYgKG5lZWRzWENvb3JkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBGSVhNRTogV2hhdCBpZiBpbkJvb2tMYXlvdXQvdmVydGljYWxseU9yaWVudGVkIGlzIGNoYW5nZWQgYnkgbG9hZE9wdGlvbnM/XG4gICAgICAgICAgICBpZiAobG9hZE9wdGlvbnMuZ29EaXJlY3RseVRvID09PSAwICYmIHRoaXMuc2V0dGluZ3MuaW5Cb29rTGF5b3V0ICYmIHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIGluIGJvb2sgbGF5b3V0LCBjZW50ZXIgdGhlIGZpcnN0IG9wZW5pbmcgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgIGxvYWRPcHRpb25zLmhvcml6b250YWxPZmZzZXQgPSB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxQYWRkaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFuY2hvcmVkSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb2FkT3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0ID0gdGhpcy5nZXRYT2Zmc2V0KGxvYWRPcHRpb25zLmdvRGlyZWN0bHlUbywgXCJjZW50ZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmVlZHNZQ29vcmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFuY2hvcmVkVmVydGljYWxseSA9IHRydWU7XG4gICAgICAgICAgICBsb2FkT3B0aW9ucy52ZXJ0aWNhbE9mZnNldCA9IHRoaXMuZ2V0WU9mZnNldChsb2FkT3B0aW9ucy5nb0RpcmVjdGx5VG8sIFwidG9wXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWxvYWRWaWV3ZXIobG9hZE9wdGlvbnMpO1xuXG4gICAgICAgIC8vcHJlcCBkaW1lbnNpb25zIG9uZSBsYXN0IHRpbWUgbm93IHRoYXQgcGFnZXMgaGF2ZSBsb2FkZWRcbiAgICAgICAgdGhpcy51cGRhdGVQYW5lbFNpemUoKTtcblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVBdXRvVGl0bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAndGl0bGUnKTtcblxuICAgICAgICAgICAgaWYgKHRpdGxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlLmlubmVySFRNTCA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuaXRlbVRpdGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0Lmluc2VydEJlZm9yZShcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygndGl0bGUnKSwgW3RoaXMuc2V0dGluZ3MubWFuaWZlc3QuaXRlbVRpdGxlXSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0LmZpcnN0Q2hpbGRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRklYTUU6IFRoaXMgaXMgYSBoYWNrIHRvIGVuc3VyZSB0aGF0IHRoZSBvdXRlckVsZW1lbnQgc2Nyb2xsYmFycyBhcmUgdGFrZW4gaW50byBhY2NvdW50XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJFbGVtZW50LnN0eWxlLm1pbldpZHRoID0gdGhpcy5zZXR0aW5ncy5wYW5lbFdpZHRoICsgJ3B4JztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lckVsZW1lbnQuc3R5bGUubWluSGVpZ2h0ID0gdGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodCArICdweCc7XG5cbiAgICAgICAgLy8gRklYTUU6IElmIHRoZSBwYWdlIHdhcyBzdXBwb3NlZCB0byBiZSBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvIHRoZSB2aWV3cG9ydCB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIHJlY2FsY3VsYXRlIGl0IHRvIHRha2UgaW50byBhY2NvdW50IHRoZSBzY3JvbGxiYXJzXG4gICAgICAgIGlmIChhbmNob3JlZFZlcnRpY2FsbHkgfHwgYW5jaG9yZWRIb3Jpem9udGFsbHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChhbmNob3JlZFZlcnRpY2FsbHkpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCA9IHRoaXMuZ2V0WU9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgXCJ0b3BcIik7XG5cbiAgICAgICAgICAgIGlmIChhbmNob3JlZEhvcml6b250YWxseSlcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXQgPSB0aGlzLmdldFhPZmZzZXQodGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsIFwiY2VudGVyXCIpO1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmdvdG8odGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsIHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQsIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaWduYWwgdGhhdCBldmVyeXRoaW5nIHNob3VsZCBiZSBzZXQgdXAgYW5kIHJlYWR5IHRvIGdvLlxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmxvYWRlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoKFwiVmlld2VyRGlkTG9hZFwiLCB0aGlzLnNldHRpbmdzKTtcbiAgICB9XG5cbiAgICBwdWJsaXNoIChldmVudClcbiAgICB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBkaXZhLkV2ZW50cy5wdWJsaXNoKGV2ZW50LCBhcmdzLCB0aGlzLnB1YmxpY0luc3RhbmNlKTtcbiAgICB9XG5cbiAgICBnZXRTZXR0aW5ncyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3M7XG4gICAgfVxuXG4gICAgLy8gVGVtcG9yYXJ5IGFjY2Vzc29yIGZvciB0aGUgc3RhdGUgb2YgdGhlIHZpZXdlciBjb3JlXG4gICAgLy8gVE9ETzogUmVwbGFjZSB0aGlzIHdpdGggYSBtb3JlIHJlc3RyaWN0ZWQgdmlldyBvZiB3aGF0ZXZlciBuZWVkc1xuICAgIC8vIGJlIGV4cG9zZWQgdGhyb3VnaCBzZXR0aW5ncyBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICAgIGdldEludGVybmFsU3RhdGUgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlO1xuICAgIH1cblxuICAgIGdldFB1YmxpY0luc3RhbmNlICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wdWJsaWNJbnN0YW5jZTtcbiAgICB9XG5cbiAgICBnZXRQYWdlVG9vbHMgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnBhZ2VUb29scztcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50TGF5b3V0ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlciA/IHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubGF5b3V0IDogbnVsbDtcbiAgICB9XG5cbiAgICAvKiogR2V0IGEgY29weSBvZiB0aGUgY3VycmVudCB2aWV3cG9ydCBkaW1lbnNpb25zICovXG4gICAgZ2V0Vmlld3BvcnQgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOiB2aWV3cG9ydC50b3AsXG4gICAgICAgICAgICBsZWZ0OiB2aWV3cG9ydC5sZWZ0LFxuICAgICAgICAgICAgYm90dG9tOiB2aWV3cG9ydC5ib3R0b20sXG4gICAgICAgICAgICByaWdodDogdmlld3BvcnQucmlnaHQsXG5cbiAgICAgICAgICAgIHdpZHRoOiB2aWV3cG9ydC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdmlld3BvcnQuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYWRkUGFnZU92ZXJsYXkgKG92ZXJsYXkpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBhZ2VPdmVybGF5cy5hZGRPdmVybGF5KG92ZXJsYXkpO1xuICAgIH1cblxuICAgIHJlbW92ZVBhZ2VPdmVybGF5IChvdmVybGF5KVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5wYWdlT3ZlcmxheXMucmVtb3ZlT3ZlcmxheShvdmVybGF5KTtcbiAgICB9XG5cbiAgICBnZXRQYWdlUmVnaW9uIChwYWdlSW5kZXgsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dDtcbiAgICAgICAgY29uc3QgcmVnaW9uID0gbGF5b3V0LmdldFBhZ2VSZWdpb24ocGFnZUluZGV4LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmluY29ycG9yYXRlVmlld3BvcnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZGFyeURpbSA9IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydFtzZWNvbmRhcnlEaW1dID4gbGF5b3V0LmRpbWVuc2lvbnNbc2Vjb25kYXJ5RGltXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NPZmZzZXQgPSAodGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydFtzZWNvbmRhcnlEaW1dIC0gbGF5b3V0LmRpbWVuc2lvbnNbc2Vjb25kYXJ5RGltXSkgLyAyO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uLmJvdHRvbSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogcmVnaW9uLmxlZnQgKyBkb2NPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogcmVnaW9uLnJpZ2h0ICsgZG9jT2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHJlZ2lvbi50b3AgKyBkb2NPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IHJlZ2lvbi5ib3R0b20gKyBkb2NPZmZzZXQsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHJlZ2lvbi5yaWdodFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWdpb247XG4gICAgfVxuXG4gICAgZ2V0UGFnZVBvc2l0aW9uQXRWaWV3cG9ydE9mZnNldCAoY29vcmRzKVxuICAgIHtcbiAgICAgICAgY29uc3QgZG9jQ29vcmRzID0ge1xuICAgICAgICAgICAgbGVmdDogY29vcmRzLmxlZnQgKyB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmxlZnQsXG4gICAgICAgICAgICB0b3A6IGNvb3Jkcy50b3AgKyB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHJlbmRlcmVkUGFnZXMgPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmdldFJlbmRlcmVkUGFnZXMoKTtcbiAgICAgICAgY29uc3QgcGFnZUNvdW50ID0gcmVuZGVyZWRQYWdlcy5sZW5ndGg7XG5cbiAgICAgICAgLy8gRmluZCB0aGUgcGFnZSBvbiB3aGljaCB0aGUgY29vcmRzIG9jY3VyXG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IHBhZ2VDb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwYWdlSW5kZXggPSByZW5kZXJlZFBhZ2VzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmVnaW9uID0gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQuZ2V0UGFnZVJlZ2lvbihwYWdlSW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAocmVnaW9uLmxlZnQgPD0gZG9jQ29vcmRzLmxlZnQgJiYgcmVnaW9uLnJpZ2h0ID49IGRvY0Nvb3Jkcy5sZWZ0ICYmXG4gICAgICAgICAgICAgICAgcmVnaW9uLnRvcCA8PSBkb2NDb29yZHMudG9wICYmIHJlZ2lvbi5ib3R0b20gPj0gZG9jQ29vcmRzLnRvcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JQYWdlOiBwYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogZG9jQ29vcmRzLmxlZnQgLSByZWdpb24ubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZG9jQ29vcmRzLnRvcCAtIHJlZ2lvbi50b3BcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGYWxsIGJhY2sgdG8gY3VycmVudCBwYWdlXG4gICAgICAgIC8vIEZJWE1FOiBXb3VsZCBiZSBiZXR0ZXIgdG8gdXNlIHRoZSBjbG9zZXN0IHBhZ2Ugb3Igc29tZXRoaW5nXG4gICAgICAgIGNvbnN0IGN1cnJlbnRSZWdpb24gPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlUmVnaW9uKHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYW5jaG9yUGFnZTogdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsXG4gICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICBsZWZ0OiBkb2NDb29yZHMubGVmdCAtIGN1cnJlbnRSZWdpb24ubGVmdCxcbiAgICAgICAgICAgICAgICB0b3A6IGRvY0Nvb3Jkcy50b3AgLSBjdXJyZW50UmVnaW9uLnRvcFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIHNldE1hbmlmZXN0IChtYW5pZmVzdCwgbG9hZE9wdGlvbnMpXG4gICAgLy8ge1xuICAgIC8vICAgICBzZXRNYW5pZmVzdChtYW5pZmVzdCwgbG9hZE9wdGlvbnMgfHwge30pO1xuICAgIC8vIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudCBwYWdlIHRvIHRoZSBnaXZlbiBpbmRleCwgZmlyaW5nIFZpc2libGVQYWdlRGlkQ2hhbmdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFnZUluZGV4XG4gICAgICovXG4gICAgc2V0Q3VycmVudFBhZ2VzIChhY3RpdmVQYWdlLCB2aXNpYmxlUGFnZXMpXG4gICAge1xuICAgICAgICBpZiAoIWFycmF5c0VxdWFsKHRoaXMudmlld2VyU3RhdGUuY3VycmVudFBhZ2VJbmRpY2VzLCB2aXNpYmxlUGFnZXMpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmN1cnJlbnRQYWdlSW5kaWNlcyA9IHZpc2libGVQYWdlcztcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLmFjdGl2ZVBhZ2VJbmRleCAhPT0gYWN0aXZlUGFnZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmFjdGl2ZVBhZ2VJbmRleCA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoKFwiQWN0aXZlUGFnZURpZENoYW5nZVwiLCBhY3RpdmVQYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHVibGlzaChcIlZpc2libGVQYWdlRGlkQ2hhbmdlXCIsIHZpc2libGVQYWdlcyk7XG5cbiAgICAgICAgICAgIC8vIFB1Ymxpc2ggYW4gZXZlbnQgaWYgdGhlIHBhZ2Ugd2UncmUgc3dpdGNoaW5nIHRvIGhhcyBvdGhlciBpbWFnZXMuXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS5tYW5pZmVzdC5wYWdlc1thY3RpdmVQYWdlXS5vdGhlckltYWdlcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIHRoaXMucHVibGlzaCgnVmlzaWJsZVBhZ2VIYXNBbHRlcm5hdGVWaWV3cycsIGFjdGl2ZVBhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudmlld2VyU3RhdGUuYWN0aXZlUGFnZUluZGV4ICE9PSBhY3RpdmVQYWdlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmFjdGl2ZVBhZ2VJbmRleCA9IGFjdGl2ZVBhZ2U7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2goXCJBY3RpdmVQYWdlRGlkQ2hhbmdlXCIsIGFjdGl2ZVBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYXJyYXlzRXF1YWwgKGEsIGIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYS5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRQYWdlTmFtZSAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3QucGFnZXNbcGFnZUluZGV4XS5mO1xuICAgIH1cblxuICAgIHJlbG9hZCAobmV3T3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMucmVsb2FkVmlld2VyKG5ld09wdGlvbnMpO1xuICAgIH1cblxuICAgIHpvb20gKHpvb21MZXZlbCwgZm9jYWxQb2ludClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVpvb20oem9vbUxldmVsLCBmb2NhbFBvaW50KTtcbiAgICB9XG5cbiAgICBlbmFibGVTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUuaXNTY3JvbGxhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJpbmRNb3VzZUV2ZW50cygpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVEcmFnU2Nyb2xsYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmVuYWJsZUtleVNjcm9sbCA9IHRoaXMudmlld2VyU3RhdGUuaW5pdGlhbEtleVNjcm9sbDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5lbmFibGVTcGFjZVNjcm9sbCA9IHRoaXMudmlld2VyU3RhdGUuaW5pdGlhbFNwYWNlU2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlzU2Nyb2xsYWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGVEcmFnU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QuaGFzQXR0cmlidXRlKCdub2NoaWxkZHJhZycpKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5yZW1vdmVBdHRyaWJ1dGUoJ25vY2hpbGRkcmFnJyk7XG4gICAgfVxuXG4gICAgZGlzYWJsZVNjcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLmlzU2Nyb2xsYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYmxvY2sgZHJhZ2dpbmdcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZURyYWdTY3JvbGxhYmxlKCk7XG5cbiAgICAgICAgICAgIC8vIGJsb2NrIGRvdWJsZS1jbGljayB6b29taW5nXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm91dGVyT2JqZWN0LmRibGNsaWNrID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3V0ZXJPYmplY3QuY29udGV4dG1lbnUgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBkaXNhYmxlIGFsbCBvdGhlciBzY3JvbGxpbmcgYWN0aW9uc1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAgICAgICAgICAgLy8gYmxvY2sgc2Nyb2xsaW5nIGtleXMgYmVoYXZpb3IsIHJlc3BlY3RpbmcgaW5pdGlhbCBzY3JvbGwgc2V0dGluZ3NcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5pdGlhbEtleVNjcm9sbCA9IHRoaXMuc2V0dGluZ3MuZW5hYmxlS2V5U2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbml0aWFsU3BhY2VTY3JvbGwgPSB0aGlzLnNldHRpbmdzLmVuYWJsZVNwYWNlU2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmVuYWJsZUtleVNjcm9sbCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmVuYWJsZVNwYWNlU2Nyb2xsID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaXNTY3JvbGxhYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNhYmxlRHJhZ1Njcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5oYXNBdHRyaWJ1dGUoJ25vY2hpbGRkcmFnJykpXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LnNldEF0dHJpYnV0ZSgnbm9jaGlsZGRyYWcnLCBcIlwiKTtcbiAgICB9XG5cbiAgICAvLyBpc1ZhbGlkT3B0aW9uIChrZXksIHZhbHVlKVxuICAgIC8vIHtcbiAgICAvLyAgICAgcmV0dXJuIGlzVmFsaWRPcHRpb24oa2V5LCB2YWx1ZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gZ2V0WE9mZnNldCAocGFnZUluZGV4LCB4QW5jaG9yKVxuICAgIC8vIHtcbiAgICAvLyAgICAgcmV0dXJuIGdldFhPZmZzZXQocGFnZUluZGV4LCB4QW5jaG9yKTtcbiAgICAvLyB9XG5cbiAgICAvLyBnZXRZT2Zmc2V0IChwYWdlSW5kZXgsIHlBbmNob3IpXG4gICAgLy8ge1xuICAgIC8vICAgICByZXR1cm4gZ2V0WU9mZnNldChwYWdlSW5kZXgsIHlBbmNob3IpO1xuICAgIC8vIH1cblxuICAgIC8vIHRoaXMucHVibGlzaCA9IHB1Ymxpc2g7XG5cbiAgICBjbGVhciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jbGVhclZpZXdlcigpO1xuICAgIH1cblxuICAgIHNldFBlbmRpbmdNYW5pZmVzdFJlcXVlc3QgKHBlbmRpbmdNYW5pZmVzdFJlcXVlc3QpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBlbmRpbmdNYW5pZmVzdFJlcXVlc3QgPSBwZW5kaW5nTWFuaWZlc3RSZXF1ZXN0O1xuICAgIH1cblxuICAgIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIC8vIFVzZWZ1bCBldmVudCB0byBhY2Nlc3MgZWxlbWVudHMgaW4gZGl2YSBiZWZvcmUgdGhleSBnZXQgZGVzdHJveWVkLiBVc2VkIGJ5IHRoZSBoaWdobGlnaHQgcGx1Z2luLlxuICAgICAgICB0aGlzLnB1Ymxpc2goJ1ZpZXdlcldpbGxUZXJtaW5hdGUnLCB0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBDYW5jZWwgYW55IHBlbmRpbmcgcmVxdWVzdCByZXRyaWV2aW5nIGEgbWFuaWZlc3RcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MucGVuZGluZ01hbmlmZXN0UmVxdWVzdClcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucGVuZGluZ01hbmlmZXN0UmVxdWVzdC5hYm9ydCgpO1xuXG4gICAgICAgIC8vIFJlbW92ZXMgdGhlIGhpZGUtc2Nyb2xsYmFyIGNsYXNzIGZyb20gdGhlIGJvZHlcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDbGFzcygnZGl2YS1oaWRlLXNjcm9sbGJhcicpO1xuXG4gICAgICAgIC8vIEVtcHR5IHRoZSBwYXJlbnQgY29udGFpbmVyIGFuZCByZW1vdmUgYW55IGRpdmEtcmVsYXRlZCBkYXRhXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0LnBhcmVudCgpLmVtcHR5KCkucmVtb3ZlRGF0YSgnZGl2YScpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBhbnkgYWRkaXRpb25hbCBzdHlsaW5nIG9uIHRoZSBwYXJlbnQgZWxlbWVudFxuICAgICAgICB0aGlzLnNldHRpbmdzLnBhcmVudE9iamVjdC5wYXJlbnQoKS5yZW1vdmVBdHRyKCdzdHlsZScpLnJlbW92ZUF0dHIoJ2NsYXNzJyk7XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoKCdWaWV3ZXJEaWRUZXJtaW5hdGUnLCB0aGlzLnNldHRpbmdzKTtcblxuICAgICAgICAvLyBDbGVhciB0aGUgRXZlbnRzIGNhY2hlXG4gICAgICAgIGRpdmEuRXZlbnRzLnVuc3Vic2NyaWJlQWxsKHRoaXMuc2V0dGluZ3MuSUQpO1xuICAgIH1cbn1cbiIsIi8vIEZyb20gaHR0cDovL3d3dy5hbGV4YW5kcmUtZ29tZXMuY29tLz9wPTExNSwgbW9kaWZpZWQgc2xpZ2h0bHlcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNjcm9sbGJhcldpZHRoKClcbntcbiAgICBsZXQgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgaW5uZXIuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgaW5uZXIuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4JztcblxuICAgIGxldCBvdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG91dGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBvdXRlci5zdHlsZS50b3AgPSAnMHB4JztcbiAgICBvdXRlci5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgb3V0ZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIG91dGVyLnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICBvdXRlci5zdHlsZS5oZWlnaHQgPSAnMTUwcHgnO1xuICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgb3V0ZXIuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvdXRlcik7XG5cbiAgICBsZXQgdzEgPSBpbm5lci5vZmZzZXRXaWR0aDtcbiAgICBvdXRlci5zdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuICAgIGxldCB3MiA9IGlubmVyLm9mZnNldFdpZHRoO1xuICAgIGlmICh3MSA9PT0gdzIpIHtcbiAgICAgICAgdzIgPSBvdXRlci5jbGllbnRXaWR0aDsgLy8gZm9yIElFIGkgdGhpbmtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG91dGVyKTtcbiAgICByZXR1cm4gdzEgLSB3Mjtcbn1cbiIsIi8qKlxuICogUGFyc2VzIGEgdjMgbWFuaWZlc3QncyBsYWJlbC92YWx1ZSBwYWlyIGZyb20gYW4gb2JqZWN0ICYgYXJyYXkgdG8gYSBzdHJpbmdcbiAqXG4gKiBAcHVibGljXG4gKiBAcGFyYW1zIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgZnJvbSB3aGljaCBhIGxhYmVsL3ZhbHVlIHBhaXIgc2hvdWxkIGJlIGV4dHJhY3RlZC5cbiAqIEByZXR1cm5zIHtvYmplY3R9IC0gVGhlIGxhYmVsL3ZhbHVlIHBhaXIgYXMgc3RyaW5ncy5cbiAqICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlTGFiZWxWYWx1ZSAoa2V5KVxue1xuICAgIGxldCBsID0ga2V5LmxhYmVsOyBcbiAgICBsZXQgbGFiZWwgPSAodHlwZW9mIGwgPT09ICdvYmplY3QnKSA/IGxbT2JqZWN0LmtleXMobClbMF1dWzBdIDogbDtcblxuICAgIGxldCB2ID0ga2V5LnZhbHVlO1xuICAgIGxldCB2YWx1ZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2KSlcbiAgICB7IC8vIGlzIGFycmF5IG9mIG9iamVjdHNcbiAgICAgICAgdmFsdWUgPSB2Lm1hcChlID0+IGVbT2JqZWN0LmtleXMoZSlbMF1dKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHsgLy8gaXMgb2JqZWN0IHdoZXJlIHZhbHVlIGlzIHBvc3NpYmx5IGFuIGFycmF5XG4gICAgICAgIHZhbHVlID0gKHR5cGVvZiB2ID09PSAnb2JqZWN0JykgPyB2W09iamVjdC5rZXlzKHYpWzBdXSA6IHY7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5qb2luKCcsICcpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGxhYmVsOiBsYWJlbCxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbn0iLCJpbXBvcnQgcGFyc2VMYWJlbFZhbHVlIGZyb20gJy4vdXRpbHMvcGFyc2UtbGFiZWwtdmFsdWUnO1xuXG5jb25zdCBnZXRNYXhab29tTGV2ZWwgPSAod2lkdGgsIGhlaWdodCkgPT5cbntcbiAgICBjb25zdCBsYXJnZXN0RGltZW5zaW9uID0gTWF0aC5tYXgod2lkdGgsIGhlaWdodCk7XG4gICAgaWYgKGxhcmdlc3REaW1lbnNpb24gPCAxMjgpIFxuICAgICAgICByZXR1cm4gMDtcbiAgICByZXR1cm4gTWF0aC5jZWlsKE1hdGgubG9nKChsYXJnZXN0RGltZW5zaW9uICsgMSkgLyAoMjU2ICsgMSkpIC8gTWF0aC5sb2coMikpO1xufTtcblxuY29uc3QgaW5jb3Jwb3JhdGVab29tID0gKGltYWdlRGltZW5zaW9uLCB6b29tRGlmZmVyZW5jZSkgPT4gaW1hZ2VEaW1lbnNpb24gLyAoTWF0aC5wb3coMiwgem9vbURpZmZlcmVuY2UpKTtcblxuY29uc3QgZ2V0T3RoZXJJbWFnZURhdGEgPSAob3RoZXJJbWFnZXMsIGxvd2VzdE1heFpvb20pID0+XG57XG4gICAgcmV0dXJuIG90aGVySW1hZ2VzLm1hcCggKGl0bSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHcgPSBpdG0ud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSBpdG0uaGVpZ2h0O1xuICAgICAgICBjb25zdCBpbmZvID0gcGFyc2VJbWFnZUluZm8oaXRtKTtcbiAgICAgICAgY29uc3QgdXJsID0gaW5mby51cmwuc2xpY2UoLTEpICE9PSAnLycgPyBpbmZvLnVybCArICcvJyA6IGluZm8udXJsOyAgLy8gYXBwZW5kIHRyYWlsaW5nIHNsYXNoIHRvIHVybCBpZiBpdCdzIG5vdCB0aGVyZS5cblxuICAgICAgICBjb25zdCBkaW1zID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsb3dlc3RNYXhab29tICsgMTsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaW1zW2pdID0ge1xuICAgICAgICAgICAgICAgIGg6IE1hdGguZmxvb3IoaW5jb3Jwb3JhdGVab29tKGgsIGxvd2VzdE1heFpvb20gLSBqKSksXG4gICAgICAgICAgICAgICAgdzogTWF0aC5mbG9vcihpbmNvcnBvcmF0ZVpvb20odywgbG93ZXN0TWF4Wm9vbSAtIGopKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmOiBpbmZvLnVybCxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgaWw6IGl0bS5sYWJlbCB8fCBcIlwiLFxuICAgICAgICAgICAgZDogZGltc1xuICAgICAgICB9O1xuICAgIH0pO1xufTtcblxuY29uc3QgZ2V0SUlJRlByZXNlbnRhdGlvblZlcnNpb24gPSAoY29udGV4dCkgPT5cbntcbiAgICBpZiAoY29udGV4dCA9PT0gXCJodHRwOi8vaWlpZi5pby9hcGkvcHJlc2VudGF0aW9uLzIvY29udGV4dC5qc29uXCIpXG4gICAgICAgIHJldHVybiAyO1xuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dCkgJiYgY29udGV4dC5pbmNsdWRlcyhcImh0dHA6Ly9paWlmLmlvL2FwaS9wcmVzZW50YXRpb24vMi9jb250ZXh0Lmpzb25cIikpXG4gICAgICAgIHJldHVybiAyO1xuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dCkgJiYgY29udGV4dC5pbmNsdWRlcyhcImh0dHA6Ly9paWlmLmlvL2FwaS9wcmVzZW50YXRpb24vMy9jb250ZXh0Lmpzb25cIikpXG4gICAgICAgIHJldHVybiAzO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIDI7IC8vIEFzc3VtZSBhIHYyIG1hbmlmZXN0LlxufTtcblxuLyoqXG4gKiBQYXJzZXMgYW4gSUlJRiBQcmVzZW50YXRpb24gQVBJIE1hbmlmZXN0IGFuZCBjb252ZXJ0cyBpdCBpbnRvIGEgRGl2YS5qcy1mb3JtYXQgb2JqZWN0XG4gKiAoU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ERE1BTC9kaXZhLmpzL3dpa2kvRGV2ZWxvcG1lbnQtbm90ZXMjZGF0YS1yZWNlaXZlZC10aHJvdWdoLWFqYXgtcmVxdWVzdClcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbWFuaWZlc3QgLSBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgdmFsaWQgSUlJRiBtYW5pZmVzdFxuICogQHJldHVybnMge09iamVjdH0gZGl2YVNlcnZpY2VCbG9jayAtIHRoZSBkYXRhIG5lZWRlZCBieSBEaXZhIHRvIHNob3cgYSB2aWV3IG9mIGEgc2luZ2xlIGRvY3VtZW50XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlSUlJRk1hbmlmZXN0IChtYW5pZmVzdClcbntcbiAgICBsZXQgY3R4ID0gbWFuaWZlc3RbXCJAY29udGV4dFwiXTtcblxuICAgIGlmICghY3R4KVxuICAgIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgSUlJRiBNYW5pZmVzdDsgTm8gQGNvbnRleHQgZm91bmQuXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB2ZXJzaW9uID0gZ2V0SUlJRlByZXNlbnRhdGlvblZlcnNpb24oY3R4KTtcbiAgICBjb25zdCBzZXF1ZW5jZSA9IG1hbmlmZXN0LnNlcXVlbmNlcyA/IG1hbmlmZXN0LnNlcXVlbmNlc1swXSA6IG51bGw7XG4gICAgY29uc3QgY2FudmFzZXMgPSBzZXF1ZW5jZSA/IHNlcXVlbmNlLmNhbnZhc2VzIDogbWFuaWZlc3QuaXRlbXM7XG4gICAgY29uc3QgbnVtQ2FudmFzZXMgPSBjYW52YXNlcy5sZW5ndGg7XG5cbiAgICBjb25zdCBwYWdlcyA9IG5ldyBBcnJheShjYW52YXNlcy5sZW5ndGgpO1xuXG4gICAgbGV0IHRoaXNDYW52YXMsIFxuICAgICAgICB0aGlzUmVzb3VyY2UsIFxuICAgICAgICB0aGlzSW1hZ2UsXG4gICAgICAgIHNlY29uZGFyeUltYWdlcyxcbiAgICAgICAgb3RoZXJJbWFnZXMgPSBbXSxcbiAgICAgICAgY29udGV4dCwgXG4gICAgICAgIHVybCwgXG4gICAgICAgIGluZm8sIFxuICAgICAgICBpbWFnZUFQSVZlcnNpb24sIFxuICAgICAgICB3aWR0aCwgXG4gICAgICAgIGhlaWdodCwgXG4gICAgICAgIG1heFpvb20sIFxuICAgICAgICBjYW52YXMsIFxuICAgICAgICBsYWJlbCwgXG4gICAgICAgIGltYWdlTGFiZWwsIFxuICAgICAgICB6b29tRGltZW5zaW9ucywgXG4gICAgICAgIHdpZHRoQXRDdXJyZW50Wm9vbUxldmVsLCBcbiAgICAgICAgaGVpZ2h0QXRDdXJyZW50Wm9vbUxldmVsO1xuXG4gICAgbGV0IGxvd2VzdE1heFpvb20gPSAxMDA7XG4gICAgbGV0IG1heFJhdGlvID0gMDtcbiAgICBsZXQgbWluUmF0aW8gPSAxMDA7XG5cbiAgICAvLyBxdWlja2x5IGRldGVybWluZSB0aGUgbG93ZXN0IHBvc3NpYmxlIG1heCB6b29tIGxldmVsIChpLmUuLCB0aGUgdXBwZXIgYm91bmQgZm9yIGltYWdlcykgYWNyb3NzIGFsbCBjYW52YXNlcy5cbiAgICAvLyB3aGlsZSB3ZSdyZSBoZXJlLCBjb21wdXRlIHRoZSBnbG9iYWwgcmF0aW9zIGFzIHdlbGwuXG4gICAgZm9yIChsZXQgeiA9IDA7IHogPCBudW1DYW52YXNlczsgeisrKVxuICAgIHtcbiAgICAgICAgY29uc3QgYyA9IGNhbnZhc2VzW3pdO1xuICAgICAgICBjb25zdCB3ID0gYy53aWR0aDtcbiAgICAgICAgY29uc3QgaCA9IGMuaGVpZ2h0O1xuICAgICAgICBjb25zdCBteiA9IGdldE1heFpvb21MZXZlbCh3LCBoKTtcbiAgICAgICAgY29uc3QgcmF0aW8gPSBoIC8gdztcbiAgICAgICAgbWF4UmF0aW8gPSBNYXRoLm1heChyYXRpbywgbWF4UmF0aW8pO1xuICAgICAgICBtaW5SYXRpbyA9IE1hdGgubWluKHJhdGlvLCBtaW5SYXRpbyk7XG5cbiAgICAgICAgbG93ZXN0TWF4Wm9vbSA9IE1hdGgubWluKGxvd2VzdE1heFpvb20sIG16KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAgICBUaGVzZSBhcnJheXMgbmVlZCB0byBiZSBwcmUtaW5pdGlhbGl6ZWQgc2luY2Ugd2Ugd2lsbCBkbyBhcml0aG1ldGljIGFuZCB2YWx1ZSBjaGVja2luZyBvbiB0aGVtXG4gICAgKi9cbiAgICBjb25zdCB0b3RhbFdpZHRocyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSkuZmlsbCgwKTtcbiAgICBjb25zdCB0b3RhbEhlaWdodHMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpLmZpbGwoMCk7XG4gICAgY29uc3QgbWF4V2lkdGhzID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKS5maWxsKDApO1xuICAgIGNvbnN0IG1heEhlaWdodHMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpLmZpbGwoMCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNhbnZhc2VzOyBpKyspXG4gICAge1xuICAgICAgICB0aGlzQ2FudmFzID0gY2FudmFzZXNbaV07XG4gICAgICAgIGNhbnZhcyA9IHRoaXNDYW52YXNbJ0BpZCddIHx8IHRoaXNDYW52YXMuaWQ7XG4gICAgICAgIGxhYmVsID0gdGhpc0NhbnZhcy5sYWJlbDtcbiAgICAgICAgdGhpc1Jlc291cmNlID0gdGhpc0NhbnZhcy5pbWFnZXMgPyB0aGlzQ2FudmFzLmltYWdlc1swXS5yZXNvdXJjZSA6IHRoaXNDYW52YXMuaXRlbXNbMF0uaXRlbXNbMF0uYm9keTtcblxuICAgICAgICAvKlxuICAgICAgICAgKiBJZiBhIGNhbnZhcyBoYXMgbXVsdGlwbGUgaW1hZ2VzIGl0IHdpbGwgYmUgZW5jb2RlZFxuICAgICAgICAgKiB3aXRoIGEgcmVzb3VyY2UgdHlwZSBvZiBcIm9hOkNob2ljZVwiICh2Mikgb3IgXCJDaG9pY2VcIiAodjMpLlxuICAgICAgICAgKiovXG4gICAgICAgIG90aGVySW1hZ2VzID0gW107IC8vIHJlc2V0IGFycmF5XG4gICAgICAgIGlmICh0aGlzUmVzb3VyY2VbJ0B0eXBlJ10gPT09IFwib2E6Q2hvaWNlXCIgfHwgdGhpc1Jlc291cmNlLnR5cGUgPT09IFwiQ2hvaWNlXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXNJbWFnZSA9IHRoaXNSZXNvdXJjZS5kZWZhdWx0IHx8IHRoaXNSZXNvdXJjZS5pdGVtc1swXTtcbiAgICAgICAgICAgIHNlY29uZGFyeUltYWdlcyA9IHRoaXNSZXNvdXJjZS5pdGVtIHx8IHRoaXNSZXNvdXJjZS5pdGVtcy5zbGljZSgxKTtcbiAgICAgICAgICAgIG90aGVySW1hZ2VzID0gZ2V0T3RoZXJJbWFnZURhdGEoc2Vjb25kYXJ5SW1hZ2VzLCBsb3dlc3RNYXhab29tKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXNJbWFnZSA9IHRoaXNSZXNvdXJjZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByaW9yaXRpemUgdGhlIGNhbnZhcyBoZWlnaHQgLyB3aWR0aCBmaXJzdCwgc2luY2UgaW1hZ2VzIG1heSBub3QgaGF2ZSBoL3dcbiAgICAgICAgd2lkdGggPSB0aGlzQ2FudmFzLndpZHRoIHx8IHRoaXNJbWFnZS53aWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gdGhpc0NhbnZhcy5oZWlnaHQgfHwgdGhpc0ltYWdlLmhlaWdodDtcblxuICAgICAgICBpZiAod2lkdGggPD0gMCB8fCBoZWlnaHQgPD0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdJbnZhbGlkIHdpZHRoIG9yIGhlaWdodCBmb3IgY2FudmFzICcgKyBsYWJlbCArICcuIFNraXBwaW5nJyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1heFpvb20gPSBnZXRNYXhab29tTGV2ZWwod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgaW1hZ2VMYWJlbCA9IHRoaXNJbWFnZS5sYWJlbCB8fCBudWxsO1xuXG4gICAgICAgIGluZm8gPSBwYXJzZUltYWdlSW5mbyh0aGlzSW1hZ2UpO1xuICAgICAgICB1cmwgPSBpbmZvLnVybC5zbGljZSgtMSkgIT09ICcvJyA/IGluZm8udXJsICsgJy8nIDogaW5mby51cmw7ICAvLyBhcHBlbmQgdHJhaWxpbmcgc2xhc2ggdG8gdXJsIGlmIGl0J3Mgbm90IHRoZXJlLlxuXG4gICAgICAgIGNvbnRleHQgPSB0aGlzSW1hZ2Uuc2VydmljZVsnQGNvbnRleHQnXSB8fCB0aGlzSW1hZ2Uuc2VydmljZS50eXBlO1xuXG4gICAgICAgIGlmIChjb250ZXh0ID09PSAnaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzIvY29udGV4dC5qc29uJyB8fCBjb250ZXh0ID09PSBcIkltYWdlU2VydmljZTJcIilcbiAgICAgICAge1xuICAgICAgICAgICAgaW1hZ2VBUElWZXJzaW9uID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb250ZXh0ID09PSAnaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpLzEuMS9jb250ZXh0Lmpzb24nKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZUFQSVZlcnNpb24gPSAxLjE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZUFQSVZlcnNpb24gPSAxLjA7XG4gICAgICAgIH1cblxuICAgICAgICB6b29tRGltZW5zaW9ucyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSk7XG5cbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBsb3dlc3RNYXhab29tICsgMTsgaysrKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aEF0Q3VycmVudFpvb21MZXZlbCA9IE1hdGguZmxvb3IoaW5jb3Jwb3JhdGVab29tKHdpZHRoLCBsb3dlc3RNYXhab29tIC0gaykpO1xuICAgICAgICAgICAgaGVpZ2h0QXRDdXJyZW50Wm9vbUxldmVsID0gTWF0aC5mbG9vcihpbmNvcnBvcmF0ZVpvb20oaGVpZ2h0LCBsb3dlc3RNYXhab29tIC0gaykpO1xuICAgICAgICAgICAgem9vbURpbWVuc2lvbnNba10gPSB7XG4gICAgICAgICAgICAgICAgaDogaGVpZ2h0QXRDdXJyZW50Wm9vbUxldmVsLFxuICAgICAgICAgICAgICAgIHc6IHdpZHRoQXRDdXJyZW50Wm9vbUxldmVsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0b3RhbFdpZHRoc1trXSArPSB3aWR0aEF0Q3VycmVudFpvb21MZXZlbDtcbiAgICAgICAgICAgIHRvdGFsSGVpZ2h0c1trXSArPSBoZWlnaHRBdEN1cnJlbnRab29tTGV2ZWw7XG4gICAgICAgICAgICBtYXhXaWR0aHNba10gPSBNYXRoLm1heCh3aWR0aEF0Q3VycmVudFpvb21MZXZlbCwgbWF4V2lkdGhzW2tdKTtcbiAgICAgICAgICAgIG1heEhlaWdodHNba10gPSBNYXRoLm1heChoZWlnaHRBdEN1cnJlbnRab29tTGV2ZWwsIG1heEhlaWdodHNba10pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGlzUGFnZWQgPSB0aGlzQ2FudmFzLnZpZXdpbmdIaW50ICE9PSAnbm9uLXBhZ2VkJyB8fCAodGhpc0NhbnZhcy5iZWhhdmlvciA/IHRoaXNDYW52YXMuYmVoYXZpb3JbMF0gIT09ICdub24tcGFnZWQnIDogZmFsc2UpO1xuICAgICAgICBsZXQgaXNGYWNpbmcgPSB0aGlzQ2FudmFzLnZpZXdpbmdIaW50ID09PSAnZmFjaW5nLXBhZ2VzJyB8fCAodGhpc0NhbnZhcy5iZWhhdmlvciA/IHRoaXNDYW52YXMuYmVoYXZpb3JbMF0gPT09ICdmYWNpbmctcGFnZXMnIDogZmFsc2UpO1xuXG4gICAgICAgIHBhZ2VzW2ldID0ge1xuICAgICAgICAgICAgZDogem9vbURpbWVuc2lvbnMsXG4gICAgICAgICAgICBtOiBtYXhab29tLFxuICAgICAgICAgICAgbDogbGFiZWwsICAgICAgICAgLy8gY2FudmFzIGxhYmVsICgncGFnZSAxLCBwYWdlIDInLCBldGMuKVxuICAgICAgICAgICAgaWw6IGltYWdlTGFiZWwsICAgLy8gZGVmYXVsdCBpbWFnZSBsYWJlbCAoJ3ByaW1hcnkgaW1hZ2UnLCAnVVYgbGlnaHQnLCBldGMuKVxuICAgICAgICAgICAgZjogaW5mby51cmwsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGFwaTogaW1hZ2VBUElWZXJzaW9uLFxuICAgICAgICAgICAgcGFnZWQ6IGlzUGFnZWQsXG4gICAgICAgICAgICBmYWNpbmdQYWdlczogaXNGYWNpbmcsXG4gICAgICAgICAgICBjYW52YXM6IGNhbnZhcyxcbiAgICAgICAgICAgIG90aGVySW1hZ2VzOiBvdGhlckltYWdlcyxcbiAgICAgICAgICAgIHhvZmZzZXQ6IGluZm8ueCB8fCBudWxsLFxuICAgICAgICAgICAgeW9mZnNldDogaW5mby55IHx8IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBhdmVyYWdlV2lkdGhzID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKTtcbiAgICBjb25zdCBhdmVyYWdlSGVpZ2h0cyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSk7XG5cbiAgICBmb3IgKGxldCBhID0gMDsgYSA8IGxvd2VzdE1heFpvb20gKyAxOyBhKyspXG4gICAge1xuICAgICAgICBhdmVyYWdlV2lkdGhzW2FdID0gdG90YWxXaWR0aHNbYV0gLyBudW1DYW52YXNlcztcbiAgICAgICAgYXZlcmFnZUhlaWdodHNbYV0gPSB0b3RhbEhlaWdodHNbYV0gLyBudW1DYW52YXNlcztcbiAgICB9XG5cbiAgICBjb25zdCBkaW1zID0ge1xuICAgICAgICBhX3dpZDogYXZlcmFnZVdpZHRocyxcbiAgICAgICAgYV9oZWk6IGF2ZXJhZ2VIZWlnaHRzLFxuICAgICAgICBtYXhfdzogbWF4V2lkdGhzLFxuICAgICAgICBtYXhfaDogbWF4SGVpZ2h0cyxcbiAgICAgICAgbWF4X3JhdGlvOiBtYXhSYXRpbyxcbiAgICAgICAgbWluX3JhdGlvOiBtaW5SYXRpbyxcbiAgICAgICAgdF9oZWk6IHRvdGFsSGVpZ2h0cyxcbiAgICAgICAgdF93aWQ6IHRvdGFsV2lkdGhzXG4gICAgfTtcblxuICAgIC8vIGFzc3VtZXMgcGFnZWQgaXMgZmFsc2UgZm9yIG5vbi1wYWdlZCB2YWx1ZXNcbiAgICByZXR1cm4ge1xuICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICBpdGVtX3RpdGxlOiBwYXJzZUxhYmVsVmFsdWUobWFuaWZlc3QpLmxhYmVsLFxuICAgICAgICBtZXRhZGF0YTogbWFuaWZlc3QubWV0YWRhdGEgfHwgbnVsbCxcbiAgICAgICAgZGltczogZGltcyxcbiAgICAgICAgbWF4X3pvb206IGxvd2VzdE1heFpvb20sXG4gICAgICAgIHBnczogcGFnZXMsXG4gICAgICAgIHBhZ2VkOiBtYW5pZmVzdC52aWV3aW5nSGludCA9PT0gJ3BhZ2VkJyB8fCAobWFuaWZlc3QuYmVoYXZpb3VyID8gbWFuaWZlc3QuYmVoYXZpb3VyWzBdID09PSAncGFnZWQnIDogZmFsc2UpIHx8IChzZXF1ZW5jZSA/IHNlcXVlbmNlLnZpZXdpbmdIaW50ID09PSAncGFnZWQnIDogZmFsc2UpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBUYWtlcyBpbiBhIHJlc291cmNlIGJsb2NrIGZyb20gYSBjYW52YXMgYW5kIG91dHB1dHMgdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhhdCByZXNvdXJjZTpcbiAqIC0gSW1hZ2UgVVJMXG4gKiAtIEltYWdlIHJlZ2lvbiB0byBiZSBkaXNwbGF5ZWRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzb3VyY2UgLSBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZXNvdXJjZSBibG9jayBvZiBhIGNhbnZhcyBzZWN0aW9uIGluIGEgSUlJRiBtYW5pZmVzdFxuICogQHJldHVybnMge09iamVjdH0gaW1hZ2VJbmZvIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgaW1hZ2UgVVJMIGFuZCByZWdpb25cbiAqL1xuZnVuY3Rpb24gcGFyc2VJbWFnZUluZm8gKHJlc291cmNlKVxue1xuICAgIGxldCB1cmwgPSByZXNvdXJjZVsnQGlkJ10gfHwgcmVzb3VyY2UuaWQ7XG4gICAgY29uc3QgZnJhZ21lbnRSZWdleCA9IC8jeHl3aD0oWzAtOV0rLFswLTldKyxbMC05XSssWzAtOV0rKS87XG4gICAgbGV0IHh5d2ggPSAnJztcbiAgICBsZXQgc3RyaXBVUkwgPSB0cnVlO1xuXG4gICAgaWYgKC9cXC8oWzAtOV0rLFswLTldKyxbMC05XSssWzAtOV0rKVxcLy8udGVzdCh1cmwpKVxuICAgIHtcbiAgICAgICAgLy8gaWYgcmVzb3VyY2UgaW4gaW1hZ2UgQVBJIGZvcm1hdCwgZXh0cmFjdCByZWdpb24geCx5LHcsaCBmcm9tIFVSTCAoYWZ0ZXIgNHRoIHNsYXNoIGZyb20gbGFzdClcbiAgICAgICAgLy8gbWF0Y2hlcyBjb29yZGluYXRlcyBpbiBVUkxzIG9mIHRoZSBmb3JtIGh0dHA6Ly93d3cuZXhhbXBsZS5vcmcvaWlpZi9ib29rMS1wYWdlMS80MCw1MCwxMjAwLDE4MDAvZnVsbC8wL2RlZmF1bHQuanBnXG4gICAgICAgIGNvbnN0IHVybEFycmF5ID0gdXJsLnNwbGl0KCcvJyk7XG4gICAgICAgIHh5d2ggPSB1cmxBcnJheVt1cmxBcnJheS5sZW5ndGggLSA0XTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZnJhZ21lbnRSZWdleC50ZXN0KHVybCkpXG4gICAge1xuICAgICAgICAvLyBtYXRjaGVzIGNvb3JkaW5hdGVzIG9mIHRoZSBzdHlsZSBodHRwOi8vd3d3LmV4YW1wbGUub3JnL2lpaWYvYm9vazEvY2FudmFzL3AxI3h5d2g9NTAsNTAsMzIwLDI0MFxuICAgICAgICBjb25zdCByZXN1bHQgPSBmcmFnbWVudFJlZ2V4LmV4ZWModXJsKTtcbiAgICAgICAgeHl3aCA9IHJlc3VsdFsxXTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVzb3VyY2Uuc2VydmljZSAmJiAocmVzb3VyY2Uuc2VydmljZVsnQGlkJ10gfHwgcmVzb3VyY2Uuc2VydmljZS5pZCkpXG4gICAge1xuICAgICAgICAvLyB0aGlzIFVSTCBleGNsdWRlcyByZWdpb24gcGFyYW1ldGVycyBzbyB3ZSBkb24ndCBuZWVkIHRvIHJlbW92ZSB0aGVtXG4gICAgICAgIHVybCA9IHJlc291cmNlLnNlcnZpY2VbJ0BpZCddIHx8IHJlc291cmNlLnNlcnZpY2UuaWQ7XG4gICAgICAgIHN0cmlwVVJMID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHN0cmlwVVJMKVxuICAgIHtcbiAgICAgICAgLy8gZXh0cmFjdCBVUkwgdXAgdG8gaWRlbnRpZmllciAod2UgZWxpbWluYXRlIHRoZSBsYXN0IDUgcGFyYW1ldGVyczogL3JlZ2lvbi9zaXplL3JvdGF0aW9uL3F1YWxpdHkuZm9ybWF0KVxuICAgICAgICB1cmwgPSB1cmwuc3BsaXQoJy8nKS5zbGljZSgwLCAtNCkuam9pbignLycpO1xuICAgIH1cblxuICAgIGNvbnN0IGltYWdlSW5mbyA9IHtcbiAgICAgICAgdXJsOiB1cmxcbiAgICB9O1xuXG4gICAgaWYgKHh5d2gubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgLy8gcGFyc2UgaW50byBzZXBhcmF0ZSBjb21wb25lbnRzXG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB4eXdoLnNwbGl0KCcsJyk7XG4gICAgICAgIGltYWdlSW5mby54ID0gcGFyc2VJbnQoZGltZW5zaW9uc1swXSwgMTApO1xuICAgICAgICBpbWFnZUluZm8ueSA9IHBhcnNlSW50KGRpbWVuc2lvbnNbMV0sIDEwKTtcbiAgICAgICAgaW1hZ2VJbmZvLncgPSBwYXJzZUludChkaW1lbnNpb25zWzJdLCAxMCk7XG4gICAgICAgIGltYWdlSW5mby5oID0gcGFyc2VJbnQoZGltZW5zaW9uc1szXSwgMTApO1xuICAgIH1cblxuICAgIHJldHVybiBpbWFnZUluZm87XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJSUlGU291cmNlQWRhcHRlclxue1xuICAgIGdldFBhZ2VJbWFnZVVSTCAobWFuaWZlc3QsIHBhZ2VJbmRleCwgc2l6ZSlcbiAgICB7XG4gICAgICAgIGxldCBkaW1lbnM7XG5cbiAgICAgICAgaWYgKCFzaXplIHx8IChzaXplLndpZHRoID09IG51bGwgJiYgc2l6ZS5oZWlnaHQgPT0gbnVsbCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpbWVucyA9ICdmdWxsJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpbWVucyA9IChzaXplLndpZHRoID09IG51bGwgPyAnJyA6IHNpemUud2lkdGgpICsgJywnICsgKHNpemUuaGVpZ2h0ID09IG51bGwgPyAnJyA6IHNpemUuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBtYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdO1xuICAgICAgICBjb25zdCBxdWFsaXR5ID0gKHBhZ2UuYXBpID4gMS4xKSA/ICdkZWZhdWx0JyA6ICduYXRpdmUnO1xuXG4gICAgICAgIHJldHVybiBlbmNvZGVVUkkocGFnZS51cmwgKyAnZnVsbC8nICsgZGltZW5zICsgJy8wLycgKyBxdWFsaXR5ICsgJy5qcGcnKTtcbiAgICB9XG5cbiAgICBnZXRUaWxlSW1hZ2VVUkwgKG1hbmlmZXN0LCBwYWdlSW5kZXgsIHBhcmFtcylcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSBtYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdO1xuXG4gICAgICAgIGxldCBoZWlnaHQsIHdpZHRoO1xuXG4gICAgICAgIGlmIChwYXJhbXMucm93ID09PSBwYXJhbXMucm93Q291bnQgLSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBoZWlnaHQgPSBwYWdlLmRbcGFyYW1zLnpvb21MZXZlbF0uaCAtIChwYXJhbXMucm93Q291bnQgLSAxKSAqIHBhcmFtcy50aWxlRGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBoZWlnaHQgPSBwYXJhbXMudGlsZURpbWVuc2lvbnMuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy5jb2wgPT09IHBhcmFtcy5jb2xDb3VudCAtIDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoID0gcGFnZS5kW3BhcmFtcy56b29tTGV2ZWxdLncgLSAocGFyYW1zLmNvbENvdW50IC0gMSkgKiBwYXJhbXMudGlsZURpbWVuc2lvbnMud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IHBhcmFtcy50aWxlRGltZW5zaW9ucy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHpvb21EaWZmZXJlbmNlID0gTWF0aC5wb3coMiwgbWFuaWZlc3QubWF4Wm9vbSAtIHBhcmFtcy56b29tTGV2ZWwpO1xuXG4gICAgICAgIGxldCB4ID0gcGFyYW1zLmNvbCAqIHBhcmFtcy50aWxlRGltZW5zaW9ucy53aWR0aCAqIHpvb21EaWZmZXJlbmNlO1xuICAgICAgICBsZXQgeSA9IHBhcmFtcy5yb3cgKiBwYXJhbXMudGlsZURpbWVuc2lvbnMuaGVpZ2h0ICogem9vbURpZmZlcmVuY2U7XG5cbiAgICAgICAgaWYgKHBhZ2UuaGFzT3duUHJvcGVydHkoJ3hvZmZzZXQnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgeCArPSBwYWdlLnhvZmZzZXQ7XG4gICAgICAgICAgICB5ICs9IHBhZ2UueW9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IFt4LCB5LCB3aWR0aCAqIHpvb21EaWZmZXJlbmNlLCBoZWlnaHQgKiB6b29tRGlmZmVyZW5jZV0uam9pbignLCcpO1xuXG4gICAgICAgIGNvbnN0IHF1YWxpdHkgPSAocGFnZS5hcGkgPiAxLjEpID8gJ2RlZmF1bHQnIDogJ25hdGl2ZSc7XG5cbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSShwYWdlLnVybCArIHJlZ2lvbiArICcvJyArIHdpZHRoICsgJywnICsgaGVpZ2h0ICsgJy8wLycgKyBxdWFsaXR5ICsgJy5qcGcnKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgcGFyc2VJSUlGTWFuaWZlc3QgZnJvbSAnLi9wYXJzZS1paWlmLW1hbmlmZXN0JztcbmltcG9ydCBJSUlGU291cmNlQWRhcHRlciBmcm9tIFwiLi9paWlmLXNvdXJjZS1hZGFwdGVyXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VNYW5pZmVzdFxue1xuICAgIGNvbnN0cnVjdG9yIChkYXRhLCB1cmxBZGFwdGVyKVxuICAgIHtcbiAgICAgICAgLy8gU2F2ZSBhbGwgdGhlIGRhdGEgd2UgbmVlZFxuICAgICAgICB0aGlzLnBhZ2VzID0gZGF0YS5wZ3M7XG4gICAgICAgIHRoaXMubWF4Wm9vbSA9IGRhdGEubWF4X3pvb207XG4gICAgICAgIHRoaXMubWF4UmF0aW8gPSBkYXRhLmRpbXMubWF4X3JhdGlvO1xuICAgICAgICB0aGlzLm1pblJhdGlvID0gZGF0YS5kaW1zLm1pbl9yYXRpbztcbiAgICAgICAgdGhpcy5pdGVtVGl0bGUgPSBkYXRhLml0ZW1fdGl0bGU7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBkYXRhLm1ldGFkYXRhO1xuXG4gICAgICAgIC8vIE9ubHkgZ2l2ZW4gZm9yIElJSUYgbWFuaWZlc3RzXG4gICAgICAgIHRoaXMucGFnZWQgPSAhIWRhdGEucGFnZWQ7XG5cbiAgICAgICAgLy8gVGhlc2UgYXJlIGFycmF5cywgdGhlIGluZGV4IGNvcnJlc3BvbmRpbmcgdG8gdGhlIHpvb20gbGV2ZWxcbiAgICAgICAgdGhpcy5fbWF4V2lkdGhzID0gZGF0YS5kaW1zLm1heF93O1xuICAgICAgICB0aGlzLl9tYXhIZWlnaHRzID0gZGF0YS5kaW1zLm1heF9oO1xuICAgICAgICB0aGlzLl9hdmVyYWdlV2lkdGhzID0gZGF0YS5kaW1zLmFfd2lkO1xuICAgICAgICB0aGlzLl9hdmVyYWdlSGVpZ2h0cyA9IGRhdGEuZGltcy5hX2hlaTtcbiAgICAgICAgdGhpcy5fdG90YWxIZWlnaHRzID0gZGF0YS5kaW1zLnRfaGVpO1xuICAgICAgICB0aGlzLl90b3RhbFdpZHRocyA9IGRhdGEuZGltcy50X3dpZDtcblxuICAgICAgICB0aGlzLl91cmxBZGFwdGVyID0gdXJsQWRhcHRlcjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUlJSUYgKGlpaWZNYW5pZmVzdClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBwYXJzZUlJSUZNYW5pZmVzdChpaWlmTWFuaWZlc3QpO1xuICAgICAgICByZXR1cm4gbmV3IEltYWdlTWFuaWZlc3QoZGF0YSwgbmV3IElJSUZTb3VyY2VBZGFwdGVyKCkpO1xuICAgIH1cblxuICAgIGlzUGFnZVZhbGlkIChwYWdlSW5kZXgsIHNob3dOb25QYWdlZFBhZ2VzKVxuICAgIHtcbiAgICAgICAgaWYgKCFzaG93Tm9uUGFnZWRQYWdlcyAmJiB0aGlzLnBhZ2VkICYmICF0aGlzLnBhZ2VzW3BhZ2VJbmRleF0ucGFnZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWdlSW5kZXggPj0gMCAmJiBwYWdlSW5kZXggPCB0aGlzLnBhZ2VzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBnZXRNYXhQYWdlRGltZW5zaW9ucyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF4RGltcyA9IHRoaXMucGFnZXNbcGFnZUluZGV4XS5kW3RoaXMubWF4Wm9vbV07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogbWF4RGltcy5oLFxuICAgICAgICAgICAgd2lkdGg6IG1heERpbXMud1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFBhZ2VEaW1lbnNpb25zQXRab29tTGV2ZWwgKHBhZ2VJbmRleCwgem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF4RGltcyA9IHRoaXMucGFnZXNbcGFnZUluZGV4XS5kW3RoaXMubWF4Wm9vbV07XG5cbiAgICAgICAgY29uc3Qgc2NhbGVSYXRpbyA9IGdldFNjYWxlUmF0aW8odGhpcy5tYXhab29tLCB6b29tTGV2ZWwpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWlnaHQ6IG1heERpbXMuaCAqIHNjYWxlUmF0aW8sXG4gICAgICAgICAgICB3aWR0aDogbWF4RGltcy53ICogc2NhbGVSYXRpb1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBVUkwgZm9yIHRoZSBpbWFnZSBvZiB0aGUgZ2l2ZW4gcGFnZS4gVGhlIG9wdGlvbmFsIHNpemVcbiAgICAgKiBwYXJhbWV0ZXIgc3VwcG9ydHMgc2V0dGluZyB0aGUgaW1hZ2Ugd2lkdGggb3IgaGVpZ2h0IChkZWZhdWx0IGlzXG4gICAgICogZnVsbC1zaXplZCkuXG4gICAgICovXG4gICAgZ2V0UGFnZUltYWdlVVJMIChwYWdlSW5kZXgsIHNpemUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXJsQWRhcHRlci5nZXRQYWdlSW1hZ2VVUkwodGhpcywgcGFnZUluZGV4LCBzaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgdGlsZSBvYmplY3RzIGZvciB0aGUgc3BlY2lmaWVkIHBhZ2UgYW5kIGludGVnZXIgem9vbSBsZXZlbFxuICAgICAqL1xuICAgIGdldFBhZ2VJbWFnZVRpbGVzIChwYWdlSW5kZXgsIHpvb21MZXZlbCwgdGlsZURpbWVuc2lvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5wYWdlc1twYWdlSW5kZXhdO1xuXG4gICAgICAgIGlmICghaXNGaW5pdGUoem9vbUxldmVsKSB8fCB6b29tTGV2ZWwgJSAxICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdab29tIGxldmVsIG11c3QgYmUgYW4gaW50ZWdlcjogJyArIHpvb21MZXZlbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByb3dzID0gTWF0aC5jZWlsKHBhZ2UuZFt6b29tTGV2ZWxdLmggLyB0aWxlRGltZW5zaW9ucy5oZWlnaHQpO1xuICAgICAgICBjb25zdCBjb2xzID0gTWF0aC5jZWlsKHBhZ2UuZFt6b29tTGV2ZWxdLncgLyB0aWxlRGltZW5zaW9ucy53aWR0aCk7XG5cbiAgICAgICAgY29uc3QgdGlsZXMgPSBbXTtcblxuICAgICAgICBsZXQgcm93LCBjb2wsIHVybDtcblxuICAgICAgICBmb3IgKHJvdyA9IDA7IHJvdyA8IHJvd3M7IHJvdysrKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGNvbCA9IDA7IGNvbCA8IGNvbHM7IGNvbCsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuX3VybEFkYXB0ZXIuZ2V0VGlsZUltYWdlVVJMKHRoaXMsIHBhZ2VJbmRleCwge1xuICAgICAgICAgICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgICAgICAgICAgY29sOiBjb2wsXG4gICAgICAgICAgICAgICAgICAgIHJvd0NvdW50OiByb3dzLFxuICAgICAgICAgICAgICAgICAgICBjb2xDb3VudDogY29scyxcbiAgICAgICAgICAgICAgICAgICAgem9vbUxldmVsOiB6b29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIHRpbGVEaW1lbnNpb25zOiB0aWxlRGltZW5zaW9uc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IERpbWVuc2lvbnMgc2hvdWxkIGFjY291bnQgZm9yIHBhcnRpYWwgdGlsZXMgKGUuZy4gdGhlXG4gICAgICAgICAgICAgICAgLy8gbGFzdCByb3cgYW5kIGNvbHVtbiBpbiBhIHRpbGVkIGltYWdlKVxuICAgICAgICAgICAgICAgIHRpbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgICAgICAgICAgY29sOiBjb2wsXG4gICAgICAgICAgICAgICAgICAgIHpvb21MZXZlbDogem9vbUxldmVsLFxuICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRpbGVEaW1lbnNpb25zLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aWxlRGltZW5zaW9ucy53aWR0aFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcm93ICogdGlsZURpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogY29sICogdGlsZURpbWVuc2lvbnMud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB6b29tTGV2ZWw6IHpvb21MZXZlbCxcbiAgICAgICAgICAgIHJvd3M6IHJvd3MsXG4gICAgICAgICAgICBjb2xzOiBjb2xzLFxuICAgICAgICAgICAgdGlsZXM6IHRpbGVzXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRNYXhXaWR0aCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfbWF4V2lkdGhzJyk7XG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRNYXhIZWlnaHQgPSB6b29tZWRQcm9wZXJ0eUdldHRlcignX21heEhlaWdodHMnKTtcbkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldEF2ZXJhZ2VXaWR0aCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfYXZlcmFnZVdpZHRocycpO1xuSW1hZ2VNYW5pZmVzdC5wcm90b3R5cGUuZ2V0QXZlcmFnZUhlaWdodCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfYXZlcmFnZUhlaWdodHMnKTtcbkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldFRvdGFsV2lkdGggPSB6b29tZWRQcm9wZXJ0eUdldHRlcignX3RvdGFsV2lkdGhzJyk7XG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRUb3RhbEhlaWdodCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfdG90YWxIZWlnaHRzJyk7XG5cbmZ1bmN0aW9uIHpvb21lZFByb3BlcnR5R2V0dGVyIChwcml2YXRlTmFtZSlcbntcbiAgICByZXR1cm4gZnVuY3Rpb24gKHpvb21MZXZlbClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzW3ByaXZhdGVOYW1lXVt6b29tTGV2ZWxdO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFNjYWxlUmF0aW8gKHNvdXJjZVpvb21MZXZlbCwgdGFyZ2V0Wm9vbUxldmVsKVxue1xuICAgIHJldHVybiAxIC8gTWF0aC5wb3coMiwgc291cmNlWm9vbUxldmVsIC0gdGFyZ2V0Wm9vbUxldmVsKTtcbn1cbiIsImltcG9ydCBkaXZhIGZyb20gJy4vZGl2YS1nbG9iYWwnO1xuaW1wb3J0IHsgZWx0IH0gZnJvbSAnLi91dGlscy9lbHQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sYmFyXG57XG4gICAgY29uc3RydWN0b3IgKHZpZXdlcilcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gdmlld2VyLnNldHRpbmdzO1xuICAgIH1cblxuICAgIF9lbGVtQXR0cnMgKGlkZW50LCBiYXNlKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArIGlkZW50LFxuICAgICAgICAgICAgY2xhc3M6ICdkaXZhLScgKyBpZGVudFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChiYXNlKVxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYXR0cnMsIGJhc2UpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG5cbiAgICAvKiogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc3Vic2NyaWJlIHRvIGEgRGl2YSBldmVudCAqL1xuICAgIF9zdWJzY3JpYmUgKGV2ZW50LCBjYWxsYmFjaylcbiAgICB7XG4gICAgICAgIGRpdmEuRXZlbnRzLnN1YnNjcmliZShldmVudCwgY2FsbGJhY2ssIHRoaXMuc2V0dGluZ3MuSUQpO1xuICAgIH1cblxuXG4gICAgY3JlYXRlQnV0dG9uIChuYW1lLCBsYWJlbCwgY2FsbGJhY2ssIGljb24pXG4gICAge1xuICAgICAgICBjb25zdCBidXR0b24gPSBlbHQoJ2J1dHRvbicsIHtcbiAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBuYW1lLFxuICAgICAgICAgICAgY2xhc3M6ICdkaXZhLScgKyBuYW1lICsgJyBkaXZhLWJ1dHRvbicsXG4gICAgICAgICAgICB0aXRsZTogbGFiZWwsXG4gICAgICAgICAgICAnYXJpYS1sYWJlbCc6IGxhYmVsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChpY29uKVxuICAgICAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKGljb24pO1xuXG4gICAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbGxiYWNrKTtcblxuICAgICAgICByZXR1cm4gYnV0dG9uO1xuICAgIH1cblxuICAgIGNyZWF0ZUxhYmVsIChuYW1lLCBpZCwgbGFiZWwsIGlubmVyTmFtZSwgaW5uZXJWYWx1ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBlbHQoJ2RpdicsIHsgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBpZCwgY2xhc3M6IG5hbWUgKyAnIGRpdmEtbGFiZWwnfSxcbiAgICAgICAgICAgICAgICAgICAgWyBsYWJlbCwgZWx0KCdzcGFuJywgeyBpZDogdGhpcy5zZXR0aW5ncy5JRCArIGlubmVyTmFtZSB9LCBpbm5lclZhbHVlKVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICB9XG5cbiAgICBjcmVhdGVab29tQnV0dG9ucyAoKVxuICAgIHtcbiAgICAgICAgbGV0IHpvb21PdXRJY29uID0gdGhpcy5fY3JlYXRlWm9vbU91dEljb24oKTtcbiAgICAgICAgbGV0IHpvb21Jbkljb24gPSB0aGlzLl9jcmVhdGVab29tSW5JY29uKCk7XG5cbiAgICAgICAgbGV0IHpvb21CdXR0b25zID0gW1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdXR0b24oJ3pvb20tb3V0LWJ1dHRvbicsICdab29tIE91dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlci5zZXRab29tTGV2ZWwodGhpcy5zZXR0aW5ncy56b29tTGV2ZWwgLSAxKTtcbiAgICAgICAgICAgIH0sIHpvb21PdXRJY29uKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnV0dG9uKCd6b29tLWluLWJ1dHRvbicsICdab29tIEluJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLnNldFpvb21MZXZlbCh0aGlzLnNldHRpbmdzLnpvb21MZXZlbCArIDEpO1xuICAgICAgICAgICAgfSwgem9vbUluSWNvbiksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxhYmVsKCdkaXZhLXpvb20tbGFiZWwnLCAnem9vbS1sYWJlbCcsICdab29tIGxldmVsOiAnLCAnem9vbS1sZXZlbCcsIHRoaXMuc2V0dGluZ3Muem9vbUxldmVsICsgMSlcbiAgICAgICAgXTtcblxuICAgICAgICBsZXQgem9vbUhhbmRsZXIgPSBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbGFiZWxFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyAnem9vbS1sZXZlbCcpO1xuICAgICAgICAgICAgbGFiZWxFbC50ZXh0Q29udGVudCA9IHRoaXMuc2V0dGluZ3Muem9vbUxldmVsICsgMTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1pvb21MZXZlbERpZENoYW5nZScsIHpvb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdWaWV3ZXJEaWRMb2FkJywgem9vbUhhbmRsZXIpO1xuXG4gICAgICAgIHJldHVybiBlbHQoJ2RpdicsIHsgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBcInpvb20tY29udHJvbHNcIiwgc3R5bGU6IFwiZGlzcGxheTogbm9uZVwifSwgem9vbUJ1dHRvbnMpO1xuICAgIH1cblxuICAgIGNyZWF0ZUdyaWRDb250cm9scyAoKVxuICAgIHtcbiAgICAgICAgbGV0IGdyaWRNb3JlSWNvbiA9IHRoaXMuX2NyZWF0ZUdyaWRNb3JlSWNvbigpO1xuICAgICAgICBsZXQgZ3JpZEZld2VySWNvbiA9IHRoaXMuX2NyZWF0ZUdyaWRGZXdlckljb24oKTtcblxuICAgICAgICBsZXQgZ3JpZEJ1dHRvbnMgPSBbXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1dHRvbignZ3JpZC1vdXQtYnV0dG9uJywgJ0Zld2VyJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLnNldEdyaWRQYWdlc1BlclJvdyh0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93IC0gMSk7XG4gICAgICAgICAgICB9LCBncmlkRmV3ZXJJY29uKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnV0dG9uKCdncmlkLWluLWJ1dHRvbicsICdNb3JlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLnNldEdyaWRQYWdlc1BlclJvdyh0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93ICsgMSk7XG4gICAgICAgICAgICB9LCBncmlkTW9yZUljb24pLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVMYWJlbCgnZGl2YS1ncmlkLWxhYmVsJywgJ2dyaWQtbGFiZWwnLCAnUGFnZXMgcGVyIHJvdzogJywgJ3BhZ2VzLXBlci1yb3cnLCB0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93KVxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCBncmlkQ2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBsYWJlbEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5JRCArICdwYWdlcy1wZXItcm93Jyk7XG4gICAgICAgICAgICBsYWJlbEVsLnRleHRDb250ZW50ID0gdGhpcy5zZXR0aW5ncy5wYWdlc1BlclJvdztcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ0dyaWRSb3dOdW1iZXJEaWRDaGFuZ2UnLCBncmlkQ2hhbmdlSGFuZGxlcik7XG5cbiAgICAgICAgcmV0dXJuIGVsdCgnZGl2Jywge2lkOiB0aGlzLnNldHRpbmdzLklEICsgXCJncmlkLWNvbnRyb2xzXCIsIHN0eWxlOiBcImRpc3BsYXk6bm9uZVwiIH0sIGdyaWRCdXR0b25zKTtcbiAgICB9XG5cbiAgICBjcmVhdGVQYWdlTGFiZWwgKClcbiAgICB7XG4gICAgICAgIC8vIEN1cnJlbnQgcGFnZVxuICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IGVsdCgnc3BhbicsIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgJ2N1cnJlbnQtcGFnZSdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdXBkYXRlQ3VycmVudFBhZ2UgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnZXQgbGFiZWxzIGZvciBpbmRleCByYW5nZVxuICAgICAgICAgICAgbGV0IGluZGljZXMgPSB0aGlzLnZpZXdlci5nZXRDdXJyZW50UGFnZUluZGljZXMoKTtcbiAgICAgICAgICAgIGxldCBzdGFydEluZGV4ID0gaW5kaWNlc1swXTtcbiAgICAgICAgICAgIGxldCBlbmRJbmRleCA9IGluZGljZXNbaW5kaWNlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxldCBzdGFydExhYmVsID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1tzdGFydEluZGV4XS5sO1xuICAgICAgICAgICAgbGV0IGVuZExhYmVsID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1tlbmRJbmRleF0ubDtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0SW5kZXggIT09IGVuZEluZGV4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgXHRpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVJbmRleEFzTGFiZWwpXG4gICAgICAgICAgICAgICAgXHRjdXJyZW50UGFnZS50ZXh0Q29udGVudCA9IHN0YXJ0SW5kZXggKyBcIiAtIFwiICsgZW5kSW5kZXg7XG4gICAgICAgICAgICBcdGVsc2VcbiAgICAgICAgICAgIFx0XHRjdXJyZW50UGFnZS50ZXh0Q29udGVudCA9IHN0YXJ0TGFiZWwgKyBcIiAtIFwiICsgZW5kTGFiZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgIFx0e1xuICAgICAgICAgICAgXHRpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVJbmRleEFzTGFiZWwpXG4gICAgICAgICAgICBcdFx0Y3VycmVudFBhZ2UudGV4dENvbnRlbnQgPSBzdGFydEluZGV4O1xuICAgICAgICAgICAgXHRlbHNlXG4gICAgICAgICAgICBcdFx0Y3VycmVudFBhZ2UudGV4dENvbnRlbnQgPSBzdGFydExhYmVsO1xuICAgICAgICBcdH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1Zpc2libGVQYWdlRGlkQ2hhbmdlJywgdXBkYXRlQ3VycmVudFBhZ2UpO1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1ZpZXdlckRpZExvYWQnLCB1cGRhdGVDdXJyZW50UGFnZSk7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnVmlld0RpZFN3aXRjaCcsIHVwZGF0ZUN1cnJlbnRQYWdlKTtcblxuICAgICAgICByZXR1cm4gZWx0KCdzcGFuJywge1xuICAgICAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1wYWdlLWxhYmVsIGRpdmEtbGFiZWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VycmVudFBhZ2VcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjcmVhdGVHb3RvUGFnZUZvcm0gKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdvdG9QYWdlSW5wdXQgPSBlbHQoJ2lucHV0Jywge1xuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyAnZ290by1wYWdlLWlucHV0JyxcbiAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1pbnB1dCBkaXZhLWdvdG8tcGFnZS1pbnB1dCcsXG4gICAgICAgICAgICBhdXRvY29tcGxldGU6ICdvZmYnLFxuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnUGFnZSBJbnB1dCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZ290b1BhZ2VTdWJtaXQgPSBlbHQoJ2lucHV0Jywge1xuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyAnZ290by1wYWdlLXN1Ym1pdCcsXG4gICAgICAgICAgICBjbGFzczogJ2RpdmEtYnV0dG9uIGRpdmEtYnV0dG9uLXRleHQnLFxuICAgICAgICAgICAgdHlwZTogJ3N1Ym1pdCcsXG4gICAgICAgICAgICB2YWx1ZTogJ0dvJ1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBpbnB1dFN1Z2dlc3Rpb25zID0gZWx0KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyAnaW5wdXQtc3VnZ2VzdGlvbnMnLFxuICAgICAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1pbnB1dC1zdWdnZXN0aW9ucydcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBnb3RvRm9ybSA9IGVsdCgnZm9ybScsIHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArICdnb3RvLXBhZ2UnLFxuICAgICAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1nb3RvLWZvcm0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ290b1BhZ2VJbnB1dCxcbiAgICAgICAgICAgIGdvdG9QYWdlU3VibWl0LFxuICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9uc1xuICAgICAgICApO1xuXG4gICAgICAgIGdvdG9Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGRlc2lyZWRQYWdlTGFiZWwgPSBnb3RvUGFnZUlucHV0LnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5vbkdvdG9TdWJtaXQgJiYgdHlwZW9mIHRoaXMuc2V0dGluZ3Mub25Hb3RvU3VibWl0ID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5zZXR0aW5ncy5vbkdvdG9TdWJtaXQoZGVzaXJlZFBhZ2VMYWJlbCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXdlci5nb3RvUGFnZUJ5SW5kZXgocGFnZUluZGV4KSlcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KFwiTm8gcGFnZSBjb3VsZCBiZSBmb3VuZCB3aXRoIHRoYXQgbGFiZWwgb3IgcGFnZSBudW1iZXJcIik7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgLy8gRGVmYXVsdCBpZiBubyBmdW5jdGlvbiBpcyBzcGVjaWZpZWQgaW4gdGhlIHNldHRpbmdzXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXdlci5nb3RvUGFnZUJ5TGFiZWwoZGVzaXJlZFBhZ2VMYWJlbCkpXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hbGVydChcIk5vIHBhZ2UgY291bGQgYmUgZm91bmQgd2l0aCB0aGF0IGxhYmVsIG9yIHBhZ2UgbnVtYmVyXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBzdWdnZXN0aW9uc1xuICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSBkZWZhdWx0IGFjdGlvbiBvZiByZWxvYWRpbmcgdGhlIHBhZ2VcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgWydpbnB1dCcsICdmb2N1cyddLmZvckVhY2goZXZlbnQgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZ290b1BhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5pbm5lckhUTUwgPSAnJzsgLy8gUmVtb3ZlIGFsbCBwcmV2aW91cyBzdWdnZXN0aW9uc1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBnb3RvUGFnZUlucHV0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBudW1TdWdnZXN0aW9ucyA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlR290b1N1Z2dlc3Rpb25zICYmIHZhbHVlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZXMgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGFnZXMubGVuZ3RoOyBpIDwgbGVuICYmIG51bVN1Z2dlc3Rpb25zIDwgMTA7IGkrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VzW2ldLmwudG9Mb3dlckNhc2UoKS5pbmRleE9mKHZhbHVlLnRvTG93ZXJDYXNlKCkpID4gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SW5wdXRTdWdnZXN0aW9uID0gZWx0KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ2RpdmEtaW5wdXQtc3VnZ2VzdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZXNbaV0ubFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLmFwcGVuZENoaWxkKG5ld0lucHV0U3VnZ2VzdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1TdWdnZXN0aW9ucysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBsYWJlbCBzdWdnZXN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVtU3VnZ2VzdGlvbnMgPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ290b1BhZ2VJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICAgICAgICBsZXQgZWw7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykgLy8gJ0VudGVyJyBrZXlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhY3RpdmUnKVswXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdGl2ZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgIGdvdG9QYWdlSW5wdXQudmFsdWUgPSBhY3RpdmUuaW5uZXJUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzgpIC8vIFVwIGFycm93IGtleVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlJylbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkVsID0gZWwgPyBlbC5wcmV2aW91c1NpYmxpbmcgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcmV2RWwgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RWwgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2RWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2YS1pbnB1dC1zdWdnZXN0aW9uJykubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2YS1pbnB1dC1zdWdnZXN0aW9uJylbbGFzdF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZS5rZXlDb2RlID09PSA0MCkgLy8gRG93biBhcnJvdyBrZXlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZScpWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRFbCA9IGVsID8gZWwubmV4dFNpYmxpbmcgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXh0RWwgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RWwgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0RWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RpdmEtaW5wdXQtc3VnZ2VzdGlvbicpWzBdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgb25FdmVudChpbnB1dFN1Z2dlc3Rpb25zLCAnbW91c2Vkb3duJywgJy5kaXZhLWlucHV0LXN1Z2dlc3Rpb24nLCBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICBnb3RvUGFnZUlucHV0LnZhbHVlID0gdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIGlucHV0U3VnZ2VzdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIGxldCBzdWJtaXRFdmVudCA9IG5ldyBFdmVudCgnc3VibWl0Jywge1xuICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ290b0Zvcm0uZGlzcGF0Y2hFdmVudChzdWJtaXRFdmVudCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGphdmFzY3JpcHQgZXF1aXZhbGVudCB0byBqcXVlcnkgLm9uKGV2ZW50LCBzZWxlY3RvciwgZnVuY3Rpb24pXG4gICAgICAgIGZ1bmN0aW9uIG9uRXZlbnQgKGVsZW0sIGV2dCwgc2VsLCBoYW5kbGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBmdW5jdGlvbiAoZXZlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHQgJiYgdCAhPT0gdGhpcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0Lm1hdGNoZXMoc2VsKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbCh0LCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHQgPSB0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBnb3RvUGFnZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBIaWRlIGxhYmVsIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBnb3RvRm9ybTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaWV3TWVudSAoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgdmlld09wdGlvbnNMaXN0ID0gZWx0KCdkaXYnLCB0aGlzLl9lbGVtQXR0cnMoJ3ZpZXctb3B0aW9ucycpKTtcbiAgICAgICAgY29uc3QgZ3JpZFZpZXdJY29uID0gdGhpcy5fY3JlYXRlR3JpZFZpZXdJY29uKCk7XG4gICAgICAgIGNvbnN0IGJvb2tWaWV3SWNvbiA9IHRoaXMuX2NyZWF0ZUJvb2tWaWV3SWNvbigpO1xuICAgICAgICBjb25zdCBwYWdlVmlld0ljb24gPSB0aGlzLl9jcmVhdGVQYWdlVmlld0ljb24oKTtcblxuICAgICAgICBjb25zdCB2aWV3T3B0aW9uc1RvZ2dsZSA9ICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXdPcHRpb25zTGlzdC5zdHlsZS5kaXNwbGF5ID0gdmlld09wdGlvbnNMaXN0LnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY2hhbmdlVmlld0J1dHRvbiA9IHRoaXMuY3JlYXRlQnV0dG9uKCd2aWV3LWljb24nLCAnQ2hhbmdlIHZpZXcnLCB2aWV3T3B0aW9uc1RvZ2dsZSk7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0VmlldyA9ICh2aWV3KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5jaGFuZ2VWaWV3KHZpZXcpO1xuXG4gICAgICAgICAgICAvL2hpZGUgdmlldyBtZW51XG4gICAgICAgICAgICB2aWV3T3B0aW9uc0xpc3Quc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZVZpZXdNZW51ID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgdmlld0ljb25DbGFzc2VzID0gJyBkaXZhLXZpZXctaWNvbiBkaXZhLWJ1dHRvbic7XG5cblxuICAgICAgICAgICAgLy8gZGlzcGxheSB0aGUgaWNvbiBvZiB0aGUgbW9kZSB3ZSdyZSBjdXJyZW50bHkgaW4gKD8pXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hhbmdlVmlld0J1dHRvbi5hcHBlbmRDaGlsZChncmlkVmlld0ljb24pO1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uY2xhc3NOYW1lID0gJ2RpdmEtZ3JpZC1pY29uJyArIHZpZXdJY29uQ2xhc3NlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuaW5Cb29rTGF5b3V0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uYXBwZW5kQ2hpbGQoYm9va1ZpZXdJY29uKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VWaWV3QnV0dG9uLmNsYXNzTmFtZSA9ICdkaXZhLWJvb2staWNvbicgKyB2aWV3SWNvbkNsYXNzZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hhbmdlVmlld0J1dHRvbi5hcHBlbmRDaGlsZChwYWdlVmlld0ljb24pO1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uY2xhc3NOYW1lID0gJ2RpdmEtZG9jdW1lbnQtaWNvbicgKyB2aWV3SWNvbkNsYXNzZXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHZpZXdPcHRpb25zID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgICAgICAgICAvLyB0aGVuIGRpc3BsYXkgZG9jdW1lbnQsIGJvb2ssIGFuZCBncmlkIGJ1dHRvbnMgaW4gdGhhdCBvcmRlciwgZXhjbHVkaW5nIHRoZSBjdXJyZW50IHZpZXdcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZCB8fCB0aGlzLnNldHRpbmdzLmluQm9va0xheW91dClcbiAgICAgICAgICAgICAgICB2aWV3T3B0aW9ucy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUJ1dHRvbignZG9jdW1lbnQtaWNvbicsICdEb2N1bWVudCBWaWV3Jywgc2VsZWN0Vmlldy5iaW5kKG51bGwsICdkb2N1bWVudCcpLCBwYWdlVmlld0ljb24pKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkIHx8ICF0aGlzLnNldHRpbmdzLmluQm9va0xheW91dClcbiAgICAgICAgICAgICAgICB2aWV3T3B0aW9ucy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUJ1dHRvbignYm9vay1pY29uJywgJ0Jvb2sgVmlldycsIHNlbGVjdFZpZXcuYmluZChudWxsLCAnYm9vaycpLCBib29rVmlld0ljb24pKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAgICAgICAgICB2aWV3T3B0aW9ucy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUJ1dHRvbignZ3JpZC1pY29uJywgJ0dyaWQgVmlldycsIHNlbGVjdFZpZXcuYmluZChudWxsLCAnZ3JpZCcpLCBncmlkVmlld0ljb24pKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBtZW51XG4gICAgICAgICAgICB3aGlsZSAodmlld09wdGlvbnNMaXN0LmZpcnN0Q2hpbGQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0LnJlbW92ZUNoaWxkKHZpZXdPcHRpb25zTGlzdC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5zZXJ0IG5ldyBtZW51XG4gICAgICAgICAgICB2aWV3T3B0aW9uc0xpc3QuYXBwZW5kQ2hpbGQodmlld09wdGlvbnMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBldmVudCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmlld09wdGlvbnNMaXN0ICE9PSBldmVudC50YXJnZXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnVmlld0RpZFN3aXRjaCcsIHVwZGF0ZVZpZXdNZW51KTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdPYmplY3REaWRMb2FkJywgdXBkYXRlVmlld01lbnUpO1xuXG4gICAgICAgIHJldHVybiBlbHQoJ2RpdicsIHRoaXMuX2VsZW1BdHRycygndmlldy1tZW51JyksXG4gICAgICAgICAgICBjaGFuZ2VWaWV3QnV0dG9uLFxuICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY3JlYXRlRnVsbHNjcmVlbkJ1dHRvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IGZ1bGxzY3JlZW5JY29uID0gdGhpcy5fY3JlYXRlRnVsbHNjcmVlbkljb24oKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVCdXR0b24oJ2Z1bGxzY3JlZW4taWNvbicsICdUb2dnbGUgZnVsbHNjcmVlbiBtb2RlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIudG9nZ2xlRnVsbHNjcmVlbk1vZGUoKTtcbiAgICAgICAgfSwgZnVsbHNjcmVlbkljb24pO1xuICAgIH1cblxuICAgIHRvZ2dsZVpvb21HcmlkQ29udHJvbHMgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyBcInpvb20tY29udHJvbHNcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyBcImdyaWQtY29udHJvbHNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5JRCArIFwiem9vbS1jb250cm9sc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLklEICsgXCJncmlkLWNvbnRyb2xzXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJlbmRlciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKFwiVmlld0RpZFN3aXRjaFwiLCB0aGlzLnRvZ2dsZVpvb21HcmlkQ29udHJvbHMpO1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoXCJPYmplY3REaWRMb2FkXCIsIHRoaXMudG9nZ2xlWm9vbUdyaWRDb250cm9scyk7XG5cbiAgICAgICAgbGV0IGxlZnRUb29scyA9IFtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlWm9vbUJ1dHRvbnMoKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlR3JpZENvbnRyb2xzKClcbiAgICAgICAgXTtcbiAgICAgICAgbGV0IHJpZ2h0VG9vbHMgPSBbXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVBhZ2VMYWJlbCgpLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3TWVudSgpXG4gICAgICAgIF07XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZUZ1bGxzY3JlZW4pXG4gICAgICAgICAgICByaWdodFRvb2xzLnB1c2godGhpcy5jcmVhdGVGdWxsc2NyZWVuQnV0dG9uKCkpO1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVHb3RvUGFnZSlcbiAgICAgICAgICAgIHJpZ2h0VG9vbHMuc3BsaWNlKDEsIDAsIHRoaXMuY3JlYXRlR290b1BhZ2VGb3JtKCkpO1xuXG4gICAgICAgIC8vIGFzc2lnbiB0b29sYmFyIHBsdWdpbnMgdG8gcHJvcGVyIHNpZGVcbiAgICAgICAgbGV0IHBsdWdpbnMgPSB0aGlzLnZpZXdlci52aWV3ZXJTdGF0ZS5wbHVnaW5JbnN0YW5jZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwbHVnaW5zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcGx1Z2luID0gcGx1Z2luc1tpXTtcblxuICAgICAgICAgICAgaWYgKCFwbHVnaW4udG9vbGJhclNpZGUpIC8vIG5vdCBhIHRvb2xiYXIgdG9vbFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBwbHVnaW4udG9vbGJhckljb24gPSBwbHVnaW4uY3JlYXRlSWNvbigpO1xuICAgICAgICAgICAgaWYgKCFwbHVnaW4udG9vbGJhckljb24pIC8vIGljb24gY291bGRuJ3QgYmUgY3JlYXRlZFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBhZGQgcGx1Z2luIHRvb2xzIGFmdGVyIHRoZSBnby10by1wYWdlIGFuZCBwYWdlLWxhYmVsIHRvb2xzXG4gICAgICAgICAgICBpZiAocGx1Z2luLnRvb2xiYXJTaWRlID09PSAncmlnaHQnKVxuICAgICAgICAgICAgICAgIHJpZ2h0VG9vbHMuc3BsaWNlKDIsIDAsIHBsdWdpbi50b29sYmFySWNvbik7XG4gICAgICAgICAgICBlbHNlIGlmIChwbHVnaW4udG9vbGJhclNpZGUgPT09ICdsZWZ0JylcbiAgICAgICAgICAgICAgICBsZWZ0VG9vbHMuc3BsaWNlKDIsIDAsIHBsdWdpbi50b29sYmFySWNvbik7XG5cbiAgICAgICAgICAgIHBsdWdpbi50b29sYmFySWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVBsdWdpbkNsaWNrLmJpbmQodGhpcywgcGx1Z2luKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVQbHVnaW5DbGljayAocGx1Z2luKVxuICAgICAgICB7XG4gICAgICAgICAgICBwbHVnaW4uaGFuZGxlQ2xpY2sodGhpcy52aWV3ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdG9vbHMgPSBlbHQoJ2RpdicsIHRoaXMuX2VsZW1BdHRycygndG9vbHMnKSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB0aGlzLl9lbGVtQXR0cnMoJ3Rvb2xzLWxlZnQnKSwgbGVmdFRvb2xzKSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB0aGlzLl9lbGVtQXR0cnMoJ3Rvb2xzLXJpZ2h0JyksIHJpZ2h0VG9vbHMpXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnNldHRpbmdzLnRvb2xiYXJQYXJlbnRPYmplY3QuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnRvb2xiYXJQYXJlbnRPYmplY3QuZmlyc3RDaGlsZFxuICAgICAgICApO1xuICAgIH1cblxuICAgIF9jcmVhdGVUb29sYmFySWNvbiAocGF0aHMpXG4gICAge1xuICAgICAgICBsZXQgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgICAgICBpY29uLnNldEF0dHJpYnV0ZU5TKG51bGwsICd2aWV3Qm94JywgXCIwIDAgMjUgMjVcIik7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCAnMHB4Jyk7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3knLCAnMHB4Jyk7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0eWxlJywgXCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ4IDQ4O1wiKTtcblxuICAgICAgICBsZXQgZ2x5cGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcImdcIik7XG4gICAgICAgIGdseXBoLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidHJhbnNmb3JtXCIsIFwibWF0cml4KDEsIDAsIDAsIDEsIC0xMiwgLTEyKVwiKTtcblxuICAgICAgICBwYXRocy5mb3JFYWNoKCAocGF0aCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgICAgIHBFbC5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcImRcIiwgcGF0aCk7XG4gICAgICAgICAgICBnbHlwaC5hcHBlbmRDaGlsZChwRWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpY29uLmFwcGVuZENoaWxkKGdseXBoKTtcbiAgICAgICAgcmV0dXJuIGljb247XG4gICAgfVxuXG4gICAgX2NyZWF0ZVpvb21PdXRJY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0xOS41LDIzYy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di0xYzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoN2MwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djFjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxOS41elwiLFxuICAgICAgICAgICAgXCJNMzcuMjE5LDM0LjI1N2wtMi4yMTMsMi4yMTJjLTAuMjAyLDAuMjAyLTAuNTM0LDAuMjAyLTAuNzM2LDBsLTYuMDk4LTYuMDk5Yy0xLjUzNywwLjk5My0zLjM2MiwxLjU3Ny01LjMyMywxLjU3N2MtNS40MzEsMC05Ljg0OS00LjQxOC05Ljg0OS05Ljg0OWMwLTUuNDMxLDQuNDE4LTkuODQ5LDkuODQ5LTkuODQ5YzUuNDMxLDAsOS44NDksNC40MTgsOS44NDksOS44NDljMCwxLjk2MS0wLjU4NCwzLjc4Ni0xLjU3Niw1LjMyM2w2LjA5OCw2LjA5OEMzNy40MjIsMzMuNzIyLDM3LjQyMiwzNC4wNTQsMzcuMjE5LDM0LjI1N3ogTTI5LjU2OCwyMi4wOTljMC0zLjcwNi0zLjAxNC02LjcyLTYuNzItNi43MmMtMy43MDYsMC02LjcyLDMuMDE0LTYuNzIsNi43MmMwLDMuNzA2LDMuMDE0LDYuNzIsNi43Miw2LjcyQzI2LjU1NSwyOC44MTgsMjkuNTY4LDI1LjgwNSwyOS41NjgsMjIuMDk5elwiXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlWm9vbUluSWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMzcuNDY5LDM0LjI1N2wtMi4yMTMsMi4yMTJjLTAuMjAyLDAuMjAyLTAuNTM0LDAuMjAyLTAuNzM2LDBsLTYuMDk4LTYuMDk5Yy0xLjUzNywwLjk5My0zLjM2MiwxLjU3Ny01LjMyMywxLjU3N2MtNS40MzEsMC05Ljg0OS00LjQxOC05Ljg0OS05Ljg0OWMwLTUuNDMxLDQuNDE4LTkuODQ5LDkuODQ5LTkuODQ5YzUuNDMxLDAsOS44NDksNC40MTgsOS44NDksOS44NDljMCwxLjk2MS0wLjU4NCwzLjc4Ni0xLjU3Niw1LjMyM2w2LjA5OCw2LjA5OEMzNy42NzIsMzMuNzIyLDM3LjY3MiwzNC4wNTQsMzcuNDY5LDM0LjI1N3ogTTI5LjgxOCwyMi4wOTljMC0zLjcwNi0zLjAxNC02LjcyLTYuNzItNi43MmMtMy43MDYsMC02LjcyLDMuMDE0LTYuNzIsNi43MmMwLDMuNzA2LDMuMDE0LDYuNzIsNi43Miw2LjcyQzI2LjgwNSwyOC44MTgsMjkuODE4LDI1LjgwNSwyOS44MTgsMjIuMDk5eiBNMjYuNSwyMUgyNHYtMi41YzAtMC4yNzUtMC4yMjUtMC41LTAuNS0wLjVoLTFjLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjVWMjFoLTIuNWMtMC4yNzUsMC0wLjUsMC4yMjUtMC41LDAuNXYxYzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVIMjJ2Mi41YzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVoMWMwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41VjIzaDIuNWMwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41di0xQzI3LDIxLjIyNSwyNi43NzUsMjEsMjYuNSwyMXpcIlxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVHcmlkTW9yZUljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTI5LjUsMzVjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwzNWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXogTTI5LjUsMjdjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDI3Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwyN2MtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXogTTI5LjUsMTljLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI5LjV6IE0yMS41LDE5Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyMS41eiBNMTMuNSwxOWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMTMuNXpcIlxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVHcmlkRmV3ZXJJY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0yNS41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di05YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoOWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djljMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyNS41eiBNMjIuNSwzNWMwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41di05YzAtMC4yNzUtMC4yMjUtMC41LTAuNS0wLjVoLTljLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjV2OWMwLDAuMjc1LDAuMjI1LDAuNSwwLjUsMC41SDIyLjV6IE0zNC41LDIzYzAuMjc1LDAsMC41LTAuMjI1LDAuNS0wLjV2LTljMC0wLjI3NS0wLjIyNS0wLjUtMC41LTAuNWgtOWMtMC4yNzUsMC0wLjUsMC4yMjUtMC41LDAuNXY5YzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVIMzQuNXogTTIyLjUsMjNjMC4yNzUsMCwwLjUtMC4yMjUsMC41LTAuNXYtOWMwLTAuMjc1LTAuMjI1LTAuNS0wLjUtMC41aC05Yy0wLjI3NSwwLTAuNSwwLjIyNS0wLjUsMC41djljMCwwLjI3NSwwLjIyNSwwLjUsMC41LDAuNUgyMi41elwiXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUdyaWRWaWV3SWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMjkuNSwzNWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMzVjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41eiBNMjkuNSwyN2MtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMjdjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDI3Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41eiBNMjkuNSwxOWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMTljLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDE5Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41elwiXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUJvb2tWaWV3SWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMzUsMTYuOHYtMS4zMjNjMCwwLTIuMjkyLTEuMzI4LTUuNzQtMS4zMjhjLTMuNDQ4LDAtNS4yNiwxLjI1LTUuMjYsMS4yNXMtMS44MTMtMS4yNS01LjI2LTEuMjVjLTMuNDQ4LDAtNS43NCwxLjMyOC01Ljc0LDEuMzI4VjE2LjhsLTEsMC41MzF2MC4wMjF2MTUuNjg3YzAsMCw0LjUzMS0xLjU3OCw2Ljk5OS0xLjU3OGMyLjQ2OCwwLDUuMDAxLDAuODg1LDUuMDAxLDAuODg1czIuNTMyLTAuODg1LDUtMC44ODVjMC4zMDYsMCwwLjY0MywwLjAyNCwxLDAuMDY2djQuMzI1bDEuNTMxLTIuMDE2TDMzLDM1Ljg1MnYtMy43MmMyLDAuNDMsMywwLjkwNiwzLDAuOTA2VjE3LjM1MnYtMC4wMjFMMzUsMTYuOHogTTIzLDI5LjAzYy0xLTAuMjkyLTIuNTg0LTAuNjc5LTMuOTgxLTAuNjc5Yy0yLjI0NiwwLTMuMDE5LDAuNDA0LTQuMDE5LDAuNjk5VjE2LjYzNGMwLDAsMS4xMjUtMC42OTksNC4wMTktMC42OTljMS42OTQsMCwyLjk4MSwwLjQxNywzLjk4MSwxLjEyNlYyOS4wM3ogTTMzLDI5LjA1MWMtMS0wLjI5NS0xLjc3My0wLjY5OS00LjAyLTAuNjk5Yy0xLjM5NiwwLTIuOTgxLDAuMzg3LTMuOTgsMC42NzlWMTcuMDZjMS0wLjcwOSwyLjI4Ni0xLjEyNiwzLjk4LTEuMTI2YzIuODk1LDAsNC4wMiwwLjY5OSw0LjAyLDAuNjk5VjI5LjA1MXpcIlxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVQYWdlVmlld0ljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTI5LjQyNSwyOWg0LjQ3TDI5LDMzLjkzNHYtNC40N0MyOSwyOS4xOSwyOS4xNTEsMjksMjkuNDI1LDI5eiBNMzQsMTQuNTYzVjI4aC01LjU2OUMyOC4xNTcsMjgsMjgsMjguMTk2LDI4LDI4LjQ3VjM0SDE0LjQ5N0MxNC4yMjMsMzQsMTQsMzMuNzEsMTQsMzMuNDM3VjE0LjU2M0MxNCwxNC4yOSwxNC4yMjMsMTQsMTQuNDk3LDE0aDE4LjlDMzMuNjcyLDE0LDM0LDE0LjI5LDM0LDE0LjU2M3ogTTI1LjQ5NywyNi40OTdDMjUuNDk3LDI2LjIyMywyNS4yNzUsMjYsMjUsMjZoLTdjLTAuMjc1LDAtMC40OTcsMC4yMjMtMC40OTcsMC40OTd2MS4wMDZDMTcuNTAzLDI3Ljc3NywxNy43MjUsMjgsMTgsMjhoN2MwLjI3NSwwLDAuNDk3LTAuMjIzLDAuNDk3LTAuNDk3VjI2LjQ5N3ogTTMwLjQ5NywyMi40OTdDMzAuNDk3LDIyLjIyMywzMC4yNzUsMjIsMzAsMjJIMThjLTAuMjc1LDAtMC40OTcsMC4yMjMtMC40OTcsMC40OTd2MS4wMDZDMTcuNTAzLDIzLjc3NywxNy43MjUsMjQsMTgsMjRoMTJjMC4yNzUsMCwwLjQ5Ny0wLjIyMywwLjQ5Ny0wLjQ5N1YyMi40OTd6IE0zMC40OTcsMTguNDk3QzMwLjQ5NywxOC4yMjMsMzAuMjc1LDE4LDMwLDE4SDE4Yy0wLjI3NSwwLTAuNDk3LDAuMjIzLTAuNDk3LDAuNDk3djEuMDA2QzE3LjUwMywxOS43NzcsMTcuNzI1LDIwLDE4LDIwaDEyYzAuMjc1LDAsMC40OTctMC4yMjMsMC40OTctMC40OTdWMTguNDk3elwiXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlRnVsbHNjcmVlbkljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTM1LDEySDEzYy0wLjU1LDAtMSwwLjQ1LTEsMXYyMmMwLDAuNTUsMC40NSwxLDEsMWgyMmMwLjU1LDAsMS0wLjQ1LDEtMVYxM0MzNiwxMi40NSwzNS41NSwxMiwzNSwxMnogTTM0LDM0SDE0VjE0aDIwVjM0elwiLFxuICAgICAgICAgICAgXCJNMTcsMjEuNzV2LTQuNWMwLTAuMTM4LDAuMTEyLTAuMjUsMC4yNS0wLjI1aDQuNWMwLjEzOCwwLDAuMTcsMC4wOCwwLjA3MywwLjE3N2wtMS42MTYsMS42MTZsMS44MjMsMS44MjNjMC4wOTcsMC4wOTcsMC4wOTcsMC4yNTYsMCwwLjM1NGwtMS4wNjEsMS4wNmMtMC4wOTcsMC4wOTctMC4yNTYsMC4wOTctMC4zNTQsMGwtMS44MjMtMS44MjNsLTEuNjE2LDEuNjE2QzE3LjA4LDIxLjkyLDE3LDIxLjg4OCwxNywyMS43NXogTTIwLjk3LDI1Ljk3Yy0wLjA5Ny0wLjA5Ny0wLjI1Ni0wLjA5Ny0wLjM1NCwwbC0xLjgyMywxLjgyM2wtMS42MTYtMS42MTZDMTcuMDgsMjYuMDgsMTcsMjYuMTEyLDE3LDI2LjI1djQuNWMwLDAuMTM4LDAuMTEyLDAuMjUsMC4yNSwwLjI1aDQuNWMwLjEzOCwwLDAuMTctMC4wOCwwLjA3My0wLjE3N2wtMS42MTYtMS42MTZsMS44MjMtMS44MjNjMC4wOTctMC4wOTcsMC4wOTctMC4yNTYsMC0wLjM1NEwyMC45NywyNS45N3ogTTMwLjc1LDE3aC00LjVjLTAuMTM4LDAtMC4xNywwLjA4LTAuMDczLDAuMTc3bDEuNjE2LDEuNjE2bC0xLjgyMywxLjgyM2MtMC4wOTcsMC4wOTctMC4wOTcsMC4yNTYsMCwwLjM1NGwxLjA2MSwxLjA2YzAuMDk3LDAuMDk3LDAuMjU2LDAuMDk3LDAuMzU0LDBsMS44MjMtMS44MjNsMS42MTYsMS42MTZDMzAuOTIsMjEuOTIsMzEsMjEuODg4LDMxLDIxLjc1di00LjVDMzEsMTcuMTEyLDMwLjg4OCwxNywzMC43NSwxN3ogTTMwLjgyMywyNi4xNzdsLTEuNjE2LDEuNjE2bC0xLjgyMy0xLjgyM2MtMC4wOTctMC4wOTctMC4yNTYtMC4wOTctMC4zNTQsMGwtMS4wNjEsMS4wNmMtMC4wOTcsMC4wOTctMC4wOTcsMC4yNTYsMCwwLjM1NGwxLjgyMywxLjgyM2wtMS42MTYsMS42MTZDMjYuMDgsMzAuOTIsMjYuMTEyLDMxLDI2LjI1LDMxaDQuNWMwLjEzOCwwLDAuMjUtMC4xMTIsMC4yNS0wLjI1di00LjVDMzEsMjYuMTEyLDMwLjkyLDI2LjA4LDMwLjgyMywyNi4xNzd6IE0yNiwyMi41YzAtMC4yNzUtMC4yMjUtMC41LTAuNS0wLjVoLTNjLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjV2M2MwLDAuMjc1LDAuMjI1LDAuNSwwLjUsMC41aDNjMC4yNzUsMCwwLjUtMC4yMjUsMC41LTAuNVYyMi41elwiXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG59XG4iLCJsZXQgSGFzaFBhcmFtcyA9IHtcbiAgICBnZXQ6IGdldEhhc2hQYXJhbSxcbiAgICB1cGRhdGU6IHVwZGF0ZUhhc2hQYXJhbVxufTtcblxuZXhwb3J0IGRlZmF1bHQgSGFzaFBhcmFtcztcblxuXG4vLyBGb3IgZ2V0dGluZyB0aGUgI2tleSB2YWx1ZXMgZnJvbSB0aGUgVVJMLiBGb3Igc3BlY2lmeWluZyBhIHBhZ2UgYW5kIHpvb20gbGV2ZWxcbi8vIExvb2sgaW50byBjYWNoaW5nLCBiZWNhdXNlIHdlIG9ubHkgbmVlZCB0byBnZXQgdGhpcyBkdXJpbmcgdGhlIGluaXRpYWwgbG9hZFxuLy8gQWx0aG91Z2ggZm9yIHRoZSB0ZXN0cyBJIGd1ZXNzIHdlIHdvdWxkIG5lZWQgdG8gb3ZlcnJpZGUgY2FjaGluZyBzb21laG93XG5mdW5jdGlvbiBnZXRIYXNoUGFyYW0gKGtleSlcbntcbiAgICBjb25zdCBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cbiAgICBpZiAoaGFzaCAhPT0gJycpXG4gICAge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBzb21ldGhpbmcgdGhhdCBsb29rcyBsaWtlIGVpdGhlciAma2V5PSBvciAja2V5PVxuICAgICAgICBsZXQgc3RhcnRJbmRleCA9IChoYXNoLmluZGV4T2YoJyYnICsga2V5ICsgJz0nKSA+IDApID8gaGFzaC5pbmRleE9mKCcmJyArIGtleSArICc9JykgOiBoYXNoLmluZGV4T2YoJyMnICsga2V5ICsgJz0nKTtcblxuICAgICAgICAvLyBJZiBzdGFydEluZGV4IGlzIHN0aWxsIC0xLCBpdCBtZWFucyBpdCBjYW4ndCBmaW5kIGVpdGhlclxuICAgICAgICBpZiAoc3RhcnRJbmRleCA+PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIGxlbmd0aCBvZiB0aGUga2V5IHBsdXMgdGhlICYgYW5kID1cbiAgICAgICAgICAgIHN0YXJ0SW5kZXggKz0ga2V5Lmxlbmd0aCArIDI7XG5cbiAgICAgICAgICAgIC8vIEVpdGhlciB0byB0aGUgbmV4dCBhbXBlcnNhbmQgb3IgdG8gdGhlIGVuZCBvZiB0aGUgc3RyaW5nXG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IGhhc2guaW5kZXhPZignJicsIHN0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgaWYgKGVuZEluZGV4ID4gc3RhcnRJbmRleClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGhhc2guc3Vic3RyaW5nKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbmRJbmRleCA8IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB0aGlzIGhhc2ggcGFyYW0gaXMgdGhlIGxhc3Qgb25lXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChoYXNoLnN1YnN0cmluZyhzdGFydEluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUga2V5IGRvZXNuJ3QgaGF2ZSBhIHZhbHVlIEkgdGhpbmtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIGl0IGNhbid0IGZpbmQgdGhlIGtleVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBoYXNoIHBhcmFtcyBqdXN0IHJldHVybiBmYWxzZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVIYXNoUGFyYW0gKGtleSwgdmFsdWUpXG57XG4gICAgLy8gRmlyc3QgbWFrZSBzdXJlIHRoYXQgd2UgaGF2ZSB0byBkbyBhbnkgd29yayBhdCBhbGxcbiAgICBjb25zdCBvcmlnaW5hbFZhbHVlID0gZ2V0SGFzaFBhcmFtKGtleSk7XG4gICAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXG4gICAgaWYgKG9yaWdpbmFsVmFsdWUgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgLy8gSXMgdGhlIGtleSBhbHJlYWR5IGluIHRoZSBVUkw/XG4gICAgICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxWYWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEFscmVhZHkgaW4gdGhlIFVSTC4gSnVzdCBnZXQgcmlkIG9mIHRoZSBvcmlnaW5hbCB2YWx1ZVxuICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IChoYXNoLmluZGV4T2YoJyYnICsga2V5ICsgJz0nKSA+IDApID8gaGFzaC5pbmRleE9mKCcmJyArIGtleSArICc9JykgOiBoYXNoLmluZGV4T2YoJyMnICsga2V5ICsgJz0nKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gc3RhcnRJbmRleCArIGtleS5sZW5ndGggKyAyICsgb3JpZ2luYWxWYWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAvLyAjIGlmIGl0J3MgdGhlIGZpcnN0LCAmIG90aGVyd2lzZVxuICAgICAgICAgICAgY29uc3Qgc3RhcnRUaGluZyA9IChzdGFydEluZGV4ID09PSAwKSA/ICcjJyA6ICcmJztcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhhc2guc3Vic3RyaW5nKDAsIHN0YXJ0SW5kZXgpICsgc3RhcnRUaGluZyArIGtleSArICc9JyArIHZhbHVlICsgaGFzaC5zdWJzdHJpbmcoZW5kSW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEl0J3Mgbm90IHByZXNlbnQgLSBhZGQgaXRcbiAgICAgICAgICAgIGlmIChoYXNoLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnIycgKyBrZXkgKyAnPScgKyB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gQXBwZW5kIGl0XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaGFzaCArICcmJyArIGtleSArICc9JyArIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCAnLi91dGlscy92YW5pbGxhLmtpbmV0aWMnO1xuaW1wb3J0ICcuL3V0aWxzL2RyYWdzY3JvbGwnO1xuaW1wb3J0IHsgZWx0IH0gZnJvbSBcIi4vdXRpbHMvZWx0XCI7XG5pbXBvcnQge1xuICAgIERpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb24sXG4gICAgTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb24sXG4gICAgT2JqZWN0RGF0YU5vdFN1cHBsaWVkRXhjZXB0aW9uXG59IGZyb20gXCIuL2V4Y2VwdGlvbnNcIjtcbmltcG9ydCBkaXZhIGZyb20gXCIuL2RpdmEtZ2xvYmFsXCI7XG5pbXBvcnQgVmlld2VyQ29yZSBmcm9tIFwiLi92aWV3ZXItY29yZVwiO1xuaW1wb3J0IEltYWdlTWFuaWZlc3QgZnJvbSBcIi4vaW1hZ2UtbWFuaWZlc3RcIjtcbmltcG9ydCBUb29sYmFyIGZyb20gXCIuL3Rvb2xiYXJcIjtcbmltcG9ydCBIYXNoUGFyYW1zIGZyb20gXCIuL3V0aWxzL2hhc2gtcGFyYW1zXCI7XG5cblxuLyoqXG4gKiBUaGUgdG9wLWxldmVsIGNsYXNzIGZvciBEaXZhIG9iamVjdHMuIFRoaXMgaXMgaW5zdGFudGlhdGVkIGJ5IHBhc3NpbmcgaW4gYW4gSFRNTCBlbGVtZW50XG4gKiBJRCBvciBIVE1MIEVsZW1lbnQgbm9kZSBhbmQgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBsaXN0IG9mIG9wdGlvbnMsIG9mIHdoaWNoIHRoZSAnb2JqZWN0RGF0YSdcbiAqIG9wdGlvbiBpcyByZXF1aXJlZCBhbmQgd2hpY2ggbXVzdCBwb2ludCB0byBhIElJSUYgUHJlc2VudGF0aW9uIEFQSSBNYW5pZmVzdDpcbiAqXG4gKiB2YXIgZGl2YSA9IG5ldyBEaXZhKCdlbGVtZW50LWlkJywge1xuICogICAgIG9iamVjdERhdGE6IFwiaHR0cDovL2V4YW1wbGUuY29tL2lpaWYtbWFuaWZlc3QuanNvblwiXG4gKiB9KTtcbiAqXG4gKiBUaGlzIGNsYXNzIGFsc28gc2VydmVzIGFzIHRoZSBlbnRyeSBwb2ludCBmb3IgdGhlIEV2ZW50cyBzeXN0ZW0sIGluIHdoaWNoIGFwcGxpY2F0aW9ucyBjYW4gc3Vic2NyaWJlXG4gKiB0byBub3RpZmljYXRpb25zIHNlbnQgZnJvbSBEaXZhIGluc3RhbmNlczpcbiAqXG4gKiBEaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1Zpc2libGVQYWdlRGlkQ2hhbmdlJywgZnVuY3Rpb24gKCkgeyBjb25zb2xlLmxvZyhcIlZpc2libGUgUGFnZSBDaGFuZ2VkXCIpOyB9KTtcbiAqXG4gKlxuICpcbiAqKi9cbmNsYXNzIERpdmFcbntcbiAgICBjb25zdHJ1Y3RvciAoZWxlbWVudCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8qXG4gICAgICAgICAqIElmIGEgc3RyaW5nIGlzIHBhc3NlZCBpbiwgY29udmVydCB0aGF0IHRvIGFuIGVsZW1lbnQuXG4gICAgICAgICAqICovXG4gICAgICAgIGlmICghKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50ID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBEaXZhUGFyZW50RWxlbWVudE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMub2JqZWN0RGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbignWW91IG11c3Qgc3VwcGx5IGVpdGhlciBhIFVSTCBvciBhIGxpdGVyYWwgb2JqZWN0IHRvIHRoZSBgb2JqZWN0RGF0YWAga2V5LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBhZGFwdGl2ZVBhZGRpbmc6IDAuMDUsICAgICAgLy8gVGhlIHJhdGlvIG9mIHBhZGRpbmcgdG8gdGhlIHBhZ2UgZGltZW5zaW9uXG4gICAgICAgICAgICBhcnJvd1Njcm9sbEFtb3VudDogNDAsICAgICAgLy8gVGhlIGFtb3VudCAoaW4gcGl4ZWxzKSB0byBzY3JvbGwgYnkgd2hlbiB1c2luZyBhcnJvdyBrZXlzXG4gICAgICAgICAgICBibG9ja01vYmlsZU1vdmU6IGZhbHNlLCAgICAgLy8gUHJldmVudCBtb3Zpbmcgb3Igc2Nyb2xsaW5nIHRoZSBwYWdlIG9uIG1vYmlsZSBkZXZpY2VzXG4gICAgICAgICAgICBvYmplY3REYXRhOiAnJywgICAgICAgICAgICAgLy8gQSBJSUlGIE1hbmlmZXN0IG9yIGEgSlNPTiBmaWxlIGdlbmVyYXRlZCBieSBwcm9jZXNzLnB5IHRoYXQgcHJvdmlkZXMgdGhlIG9iamVjdCBkaW1lbnNpb24gZGF0YSwgb3IgYSBVUkwgcG9pbnRpbmcgdG8gc3VjaCBkYXRhIC0gKlJFUVVJUkVEKlxuICAgICAgICAgICAgZW5hYmxlQXV0b1RpdGxlOiB0cnVlLCAgICAgIC8vIFNob3dzIHRoZSB0aXRsZSB3aXRoaW4gYSBkaXYgb2YgaWQgZGl2YS10aXRsZVxuICAgICAgICAgICAgZW5hYmxlRmlsZW5hbWU6IHRydWUsICAgICAgIC8vIFVzZXMgZmlsZW5hbWVzIGFuZCBub3QgcGFnZSBudW1iZXJzIGZvciBsaW5rcyAoaT1ibV8wMDEudGlmLCBub3QgcD0xKVxuICAgICAgICAgICAgZW5hYmxlRnVsbHNjcmVlbjogdHJ1ZSwgICAgIC8vIEVuYWJsZSBvciBkaXNhYmxlIGZ1bGxzY3JlZW4gaWNvbiAobW9kZSBzdGlsbCBhdmFpbGFibGUpXG4gICAgICAgICAgICBlbmFibGVHb3RvUGFnZTogdHJ1ZSwgICAgICAgLy8gQSBcImdvIHRvIHBhZ2VcIiBqdW1wIGJveFxuICAgICAgICAgICAgZW5hYmxlR290b1N1Z2dlc3Rpb25zOiB0cnVlLCAvLyBDb250cm9scyB3aGV0aGVyIHN1Z2dlc3Rpb25zIGFyZSBzaG93biB1bmRlciB0aGUgaW5wdXQgZmllbGQgd2hlbiB0aGUgdXNlciBpcyB0eXBpbmcgaW4gdGhlICdnbyB0byBwYWdlJyBmb3JtXG4gICAgICAgICAgICBlbmFibGVHcmlkSWNvbjogdHJ1ZSwgICAgICAgLy8gQSBncmlkIHZpZXcgb2YgYWxsIHRoZSBwYWdlc1xuICAgICAgICAgICAgZW5hYmxlR3JpZENvbnRyb2xzOiAnYnV0dG9ucycsICAvLyBTcGVjaWZ5IGNvbnRyb2wgb2YgcGFnZXMgcGVyIGdyaWQgcm93IGluIEdyaWQgdmlldy4gUG9zc2libGUgdmFsdWVzOiAnYnV0dG9ucycgKCsvLSksICdzbGlkZXInLiBBbnkgb3RoZXIgdmFsdWUgZGlzYWJsZXMgdGhlIGNvbnRyb2xzLlxuICAgICAgICAgICAgZW5hYmxlSW1hZ2VUaXRsZXM6IHRydWUsICAgIC8vIEFkZHMgXCJQYWdlIHtufVwiIHRpdGxlIHRvIHBhZ2UgaW1hZ2VzIGlmIHRydWVcbiAgICAgICAgICAgIGVuYWJsZUluZGV4QXNMYWJlbDogZmFsc2UsICAvLyBVc2UgaW5kZXggbnVtYmVycyBpbnN0ZWFkIG9mIHBhZ2UgbGFiZWxzIGluIHRoZSBwYWdlIG4tbSBkaXNwbGF5LlxuICAgICAgICAgICAgZW5hYmxlS2V5U2Nyb2xsOiB0cnVlLCAgICAgIC8vIENhcHR1cmVzIHNjcm9sbGluZyB1c2luZyB0aGUgYXJyb3cgYW5kIHBhZ2UgdXAvZG93biBrZXlzIHJlZ2FyZGxlc3Mgb2YgcGFnZSBmb2N1cy4gV2hlbiBvZmYsIGRlZmVycyB0byBkZWZhdWx0IGJyb3dzZXIgc2Nyb2xsaW5nIGJlaGF2aW9yLlxuICAgICAgICAgICAgZW5hYmxlTGlua0ljb246IHRydWUsICAgICAgIC8vIENvbnRyb2xzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBsaW5rIGljb25cbiAgICAgICAgICAgIGVuYWJsZU5vblBhZ2VkVmlzaWJpbGl0eUljb246IHRydWUsIC8vIENvbnRyb2xzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBpY29uIHRvIHRvZ2dsZSB0aGUgdmlzaWJpbGl0eSBvZiBub24tcGFnZWQgcGFnZXMuIChBdXRvbWF0aWNhbGx5IGhpZGRlbiBpZiBubyAnbm9uLXBhZ2VkJyBwYWdlcykuXG4gICAgICAgICAgICBlbmFibGVTcGFjZVNjcm9sbDogZmFsc2UsICAgLy8gU2Nyb2xsaW5nIGRvd24gYnkgcHJlc3NpbmcgdGhlIHNwYWNlIGtleVxuICAgICAgICAgICAgZW5hYmxlVG9vbGJhcjogdHJ1ZSwgICAgICAgIC8vIEVuYWJsZXMgdGhlIHRvb2xiYXIuIE5vdGUgdGhhdCBkaXNhYmxpbmcgdGhpcyBtZWFucyB5b3UgaGF2ZSB0byBoYW5kbGUgYWxsIGNvbnRyb2xzIHlvdXJzZWxmLlxuICAgICAgICAgICAgZW5hYmxlWm9vbUNvbnRyb2xzOiAnYnV0dG9ucycsIC8vIFNwZWNpZnkgY29udHJvbHMgZm9yIHpvb21pbmcgaW4gYW5kIG91dC4gUG9zc2libGUgdmFsdWVzOiAnYnV0dG9ucycgKCsvLSksICdzbGlkZXInLiBBbnkgb3RoZXIgdmFsdWUgZGlzYWJsZXMgdGhlIGNvbnRyb2xzLlxuICAgICAgICAgICAgZmlsbFBhcmVudEhlaWdodDogdHJ1ZSwgICAgIC8vIFVzZSBhIGZsZXhib3ggbGF5b3V0IHRvIGFsbG93IERpdmEgdG8gZmlsbCBpdHMgcGFyZW50J3MgaGVpZ2h0XG4gICAgICAgICAgICBmaXhlZFBhZGRpbmc6IDEwLCAgICAgICAgICAgLy8gRmFsbGJhY2sgaWYgYWRhcHRpdmUgcGFkZGluZyBpcyBzZXQgdG8gMFxuICAgICAgICAgICAgZml4ZWRIZWlnaHRHcmlkOiB0cnVlLCAgICAgIC8vIFNvIGVhY2ggcGFnZSBpbiBncmlkIHZpZXcgaGFzIHRoZSBzYW1lIGhlaWdodCAob25seSB3aWR0aHMgZGlmZmVyKVxuICAgICAgICAgICAgZ29EaXJlY3RseVRvOiAwLCAgICAgICAgICAgIC8vIERlZmF1bHQgaW5pdGlhbCBwYWdlIHRvIHNob3cgKDAtaW5kZXhlZClcbiAgICAgICAgICAgIGhhc2hQYXJhbVN1ZmZpeDogbnVsbCwgICAgICAvLyBVc2VkIHdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGRvY3VtZW50IHZpZXdlcnMgb24gYSBwYWdlXG4gICAgICAgICAgICBpbWFnZUNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJywgLy8gU2V0IGNyb3NzT3JpZ2luIHByb3BlcnR5IGZvciBpbWFnZSByZXF1ZXN0c1xuICAgICAgICAgICAgaW5GdWxsc2NyZWVuOiBmYWxzZSwgICAgICAgIC8vIFNldCB0byB0cnVlIHRvIGxvYWQgZnVsbHNjcmVlbiBtb2RlIGluaXRpYWxseVxuICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZSwgICAgICAgLy8gU2V0IHRvIHRydWUgdG8gdmlldyB0aGUgZG9jdW1lbnQgd2l0aCBmYWNpbmcgcGFnZXMgaW4gZG9jdW1lbnQgbW9kZVxuICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSwgICAgICAgICAgICAgIC8vIFNldCB0byB0cnVlIHRvIGxvYWQgZ3JpZCB2aWV3IGluaXRpYWxseVxuICAgICAgICAgICAgbWF4UGFnZXNQZXJSb3c6IDgsICAgICAgICAgIC8vIE1heGltdW0gbnVtYmVyIG9mIHBhZ2VzIHBlciByb3cgaW4gZ3JpZCB2aWV3XG4gICAgICAgICAgICBtYXhab29tTGV2ZWw6IC0xLCAgICAgICAgICAgLy8gT3B0aW9uYWw7IGRlZmF1bHRzIHRvIHRoZSBtYXggem9vbSByZXR1cm5lZCBpbiB0aGUgSlNPTiByZXNwb25zZVxuICAgICAgICAgICAgbWluUGFnZXNQZXJSb3c6IDIsICAgICAgICAgIC8vIE1pbmltdW0gcGFnZXMgcGVyIHJvdyBpbiBncmlkIHZpZXcuIFJlY29tbWVuZGVkIGRlZmF1bHQuXG4gICAgICAgICAgICBtaW5ab29tTGV2ZWw6IDAsICAgICAgICAgICAgLy8gRGVmYXVsdHMgdG8gMCAodGhlIG1pbmltdW0gem9vbSlcbiAgICAgICAgICAgIG9uR290b1N1Ym1pdDogbnVsbCwgICAgICAgICAvLyBXaGVuIHNldCB0byBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBzdHJpbmcgYW5kIHJldHVybnMgYSBwYWdlIGluZGV4LCB0aGlzIHdpbGwgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIHRoZSAnZ28gdG8gcGFnZScgZm9ybSBzdWJtaXNzaW9uXG4gICAgICAgICAgICBwYWdlQWxpYXNlczoge30sICAgICAgICAgICAgLy8gQW4gb2JqZWN0IG1hcHBpbmcgc3BlY2lmaWMgcGFnZSBpbmRpY2VzIHRvIGFsaWFzZXMgKGhhcyBwcmlvcml0eSBvdmVyICdwYWdlQWxpYXNGdW5jdGlvbidcbiAgICAgICAgICAgIHBhZ2VBbGlhc0Z1bmN0aW9uOiBmdW5jdGlvbigpe3JldHVybiBmYWxzZTt9LCAgLy8gQSBmdW5jdGlvbiBtYXBwaW5nIHBhZ2UgaW5kaWNlcyB0byBhbiBhbGlhcy4gSWYgZmFsc2UgaXMgcmV0dXJuZWQsIGRlZmF1bHQgcGFnZSBudW1iZXIgaXMgZGlzcGxheWVkXG4gICAgICAgICAgICBwYWdlTG9hZFRpbWVvdXQ6IDIwMCwgICAgICAgLy8gTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBsb2FkaW5nIHBhZ2VzXG4gICAgICAgICAgICBwYWdlc1BlclJvdzogNSwgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgbnVtYmVyIG9mIHBhZ2VzIHBlciByb3cgaW4gZ3JpZCB2aWV3XG4gICAgICAgICAgICByZXF1ZXN0SGVhZGVyczoge1wiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvblwifSwgLy8gRGVmYXVsdCBoZWFkZXIgc2VudCBvZmYgdG8gdGhlIHNlcnZlciBpbiBjb250ZW50IG5lZ290aWF0aW9uXG4gICAgICAgICAgICBzaG93Tm9uUGFnZWRQYWdlczogZmFsc2UsICAgLy8gV2hldGhlciBwYWdlcyB0YWdnZWQgYXMgJ25vbi1wYWdlZCcgKGluIElJSUYgbWFuaWZlc3RzIG9ubHkpIHNob3VsZCBiZSB2aXNpYmxlIGFmdGVyIGluaXRpYWwgbG9hZFxuICAgICAgICAgICAgdGhyb2JiZXJUaW1lb3V0OiAxMDAsICAgICAgIC8vIE51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgc2hvd2luZyB0aHJvYmJlclxuICAgICAgICAgICAgdGlsZUhlaWdodDogMjU2LCAgICAgICAgICAgIC8vIFRoZSBoZWlnaHQgb2YgZWFjaCB0aWxlLCBpbiBwaXhlbHM7IHVzdWFsbHkgMjU2XG4gICAgICAgICAgICB0aWxlV2lkdGg6IDI1NiwgICAgICAgICAgICAgLy8gVGhlIHdpZHRoIG9mIGVhY2ggdGlsZSwgaW4gcGl4ZWxzOyB1c3VhbGx5IDI1NlxuICAgICAgICAgICAgdG9vbGJhclBhcmVudE9iamVjdDogbnVsbCwgIC8vIFRoZSB0b29sYmFyIHBhcmVudCBvYmplY3QuXG4gICAgICAgICAgICB2ZXJ0aWNhbGx5T3JpZW50ZWQ6IHRydWUsICAgLy8gRGV0ZXJtaW5lcyB2ZXJ0aWNhbCB2cy4gaG9yaXpvbnRhbCBvcmllbnRhdGlvblxuICAgICAgICAgICAgdmlld3BvcnRNYXJnaW46IDIwMCwgICAgICAgIC8vIFByZXRlbmQgdGlsZXMgKy8tIDIwMHB4IGF3YXkgZnJvbSB2aWV3cG9ydCBhcmUgaW5cbiAgICAgICAgICAgIHpvb21MZXZlbDogMiAgICAgICAgICAgICAgICAvLyBUaGUgaW5pdGlhbCB6b29tIGxldmVsICh1c2VkIHRvIHN0b3JlIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwpXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIEluIG9yZGVyIHRvIGZpbGwgdGhlIGhlaWdodCwgdXNlIGEgd3JhcHBlciBkaXYgZGlzcGxheWVkIHVzaW5nIGEgZmxleGJveCBsYXlvdXRcbiAgICAgICAgY29uc3Qgd3JhcHBlckVsZW1lbnQgPSBlbHQoJ2RpdicsIHtcbiAgICAgICAgICAgIGNsYXNzOiBgZGl2YS13cmFwcGVyJHt0aGlzLm9wdGlvbnMuZmlsbFBhcmVudEhlaWdodCA/IFwiIGRpdmEtd3JhcHBlci1mbGV4Ym94XCIgOiBcIlwifWBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHdyYXBwZXJFbGVtZW50KTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMudG9vbGJhclBhcmVudE9iamVjdCA9IHRoaXMub3B0aW9ucy50b29sYmFyUGFyZW50T2JqZWN0IHx8IHdyYXBwZXJFbGVtZW50O1xuXG4gICAgICAgIGNvbnN0IHZpZXdlckNvcmUgPSBuZXcgVmlld2VyQ29yZSh3cmFwcGVyRWxlbWVudCwgdGhpcy5vcHRpb25zLCB0aGlzKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlID0gdmlld2VyQ29yZS5nZXRJbnRlcm5hbFN0YXRlKCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB2aWV3ZXJDb3JlLmdldFNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMudG9vbGJhciA9IHRoaXMuc2V0dGluZ3MuZW5hYmxlVG9vbGJhciA/IG5ldyBUb29sYmFyKHRoaXMpIDogbnVsbDtcblxuICAgICAgICB3cmFwcGVyRWxlbWVudC5pZCA9IHRoaXMuc2V0dGluZ3MuSUQgKyAnd3JhcHBlcic7XG5cbiAgICAgICAgdGhpcy5kaXZhU3RhdGUgPSB7XG4gICAgICAgICAgICB2aWV3ZXJDb3JlOiB2aWV3ZXJDb3JlLFxuICAgICAgICAgICAgdG9vbGJhcjogdGhpcy50b29sYmFyXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gb25seSByZW5kZXIgdGhlIHRvb2xiYXIgYWZ0ZXIgdGhlIG9iamVjdCBoYXMgYmVlbiBsb2FkZWRcbiAgICAgICAgbGV0IGhhbmRsZSA9IGRpdmEuRXZlbnRzLnN1YnNjcmliZSgnT2JqZWN0RGlkTG9hZCcsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvb2xiYXIgIT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy50b29sYmFyLnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXZhLkV2ZW50cy51bnN1YnNjcmliZShoYW5kbGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmhhc2hTdGF0ZSA9IHRoaXMuX2dldEhhc2hQYXJhbVN0YXRlKCk7XG5cbiAgICAgICAgdGhpcy5fbG9hZE9yRmV0Y2hPYmplY3REYXRhKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2xvYWRPckZldGNoT2JqZWN0RGF0YSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLm9iamVjdERhdGEgPT09ICdvYmplY3QnKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBEZWZlciBleGVjdXRpb24gdW50aWwgaW5pdGlhbGl6YXRpb24gaGFzIGNvbXBsZXRlZFxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRPYmplY3REYXRhKHRoaXMuc2V0dGluZ3Mub2JqZWN0RGF0YSwgdGhpcy5oYXNoU3RhdGUpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwZW5kaW5nTWFuaWZlc3RSZXF1ZXN0ID0gZmV0Y2godGhpcy5zZXR0aW5ncy5vYmplY3REYXRhLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5zZXR0aW5ncy5yZXF1ZXN0SGVhZGVyc1xuICAgICAgICAgICAgfSkudGhlbiggKHJlc3BvbnNlKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIG1hbmlmZXN0IGxvYWQgZXJyb3IgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgZGl2YS5FdmVudHMucHVibGlzaCgnTWFuaWZlc3RGZXRjaEVycm9yJywgW3Jlc3BvbnNlXSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWpheEVycm9yKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgICAgICB9KS50aGVuKCAoZGF0YSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkT2JqZWN0RGF0YShkYXRhLCB0aGlzLmhhc2hTdGF0ZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIHBlbmRpbmcgcmVxdWVzdCBzbyB0aGF0IGl0IGNhbiBiZSBjYW5jZWxsZWQgaW4gdGhlIGV2ZW50IHRoYXQgRGl2YSBuZWVkcyB0byBiZSBkZXN0cm95ZWRcbiAgICAgICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuc2V0UGVuZGluZ01hbmlmZXN0UmVxdWVzdChwZW5kaW5nTWFuaWZlc3RSZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9zaG93RXJyb3IgKG1lc3NhZ2UpXG4gICAge1xuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLnNob3dFcnJvcihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX2FqYXhFcnJvciAocmVzcG9uc2UpXG4gICAge1xuICAgICAgICAvLyBTaG93IGEgYmFzaWMgZXJyb3IgbWVzc2FnZSB3aXRoaW4gdGhlIGRvY3VtZW50IHZpZXdlciBwYW5lXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IFsnSW52YWxpZCBvYmplY3REYXRhIHNldHRpbmcuIEVycm9yIGNvZGU6ICcgKyByZXNwb25zZS5zdGF0dXMgKyAnICcgKyByZXNwb25zZS5zdGF0dXNUZXh0XTtcblxuICAgICAgICAvLyBEZXRlY3QgYW5kIGhhbmRsZSBDT1JTIGVycm9yc1xuICAgICAgICBjb25zdCBkYXRhSGFzQWJzb2x1dGVQYXRoID0gdGhpcy5zZXR0aW5ncy5vYmplY3REYXRhLmxhc3RJbmRleE9mKCdodHRwJywgMCkgPT09IDA7XG5cbiAgICAgICAgaWYgKGRhdGFIYXNBYnNvbHV0ZVBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGpzb25Ib3N0ID0gdGhpcy5zZXR0aW5ncy5vYmplY3REYXRhLnJlcGxhY2UoL2h0dHBzPzpcXC9cXC8vaSwgXCJcIikuc3BsaXQoL1svPyNdLylbMF07XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgIT09IGpzb25Ib3N0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZS5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ3AnLCAnQXR0ZW1wdGVkIHRvIGFjY2VzcyBjcm9zcy1vcmlnaW4gZGF0YSB3aXRob3V0IENPUlMuJyksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgncCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnWW91IG1heSBuZWVkIHRvIHVwZGF0ZSB5b3VyIHNlcnZlciBjb25maWd1cmF0aW9uIHRvIHN1cHBvcnQgQ09SUy4gRm9yIGhlbHAsIHNlZSB0aGUgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsdCgnYScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly9naXRodWIuY29tL0RETUFML2RpdmEuanMvd2lraS9JbnN0YWxsYXRpb24jYS1ub3RlLWFib3V0LWNyb3NzLXNpdGUtcmVxdWVzdHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ19ibGFuaydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICdjcm9zcy1zaXRlIHJlcXVlc3QgZG9jdW1lbnRhdGlvbi4nKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Nob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9sb2FkT2JqZWN0RGF0YSAocmVzcG9uc2VEYXRhLCBoYXNoU3RhdGUpXG4gICAge1xuICAgICAgICBsZXQgbWFuaWZlc3Q7XG5cbiAgICAgICAgLy8gVE9ETyBpbXByb3ZlIElJSUYgZGV0ZWN0aW9uIG1ldGhvZFxuICAgICAgICBpZiAoIXJlc3BvbnNlRGF0YS5oYXNPd25Qcm9wZXJ0eSgnQGNvbnRleHQnKSAmJiAocmVzcG9uc2VEYXRhWydAY29udGV4dCddLmluZGV4T2YoJ2lpaWYnKSA9PT0gLTEgfHwgcmVzcG9uc2VEYXRhWydAY29udGV4dCddLmluZGV4T2YoJ3NoYXJlZC1jYW52YXMnKSA9PT0gLTEpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb24oJ1RoaXMgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgSUlJRiBNYW5pZmVzdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyaWdnZXIgTWFuaWZlc3REaWRMb2FkIGV2ZW50XG4gICAgICAgIGRpdmEuRXZlbnRzLnB1Ymxpc2goJ01hbmlmZXN0RGlkTG9hZCcsIFtyZXNwb25zZURhdGFdLCB0aGlzKTtcbiAgICAgICAgbWFuaWZlc3QgPSBJbWFnZU1hbmlmZXN0LmZyb21JSUlGKHJlc3BvbnNlRGF0YSk7XG4gICAgICAgIGNvbnN0IGxvYWRPcHRpb25zID0gaGFzaFN0YXRlID8gdGhpcy5fZ2V0TG9hZE9wdGlvbnNGb3JTdGF0ZShoYXNoU3RhdGUsIG1hbmlmZXN0KSA6IHt9O1xuXG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuc2V0TWFuaWZlc3QobWFuaWZlc3QsIGxvYWRPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSB0aGUgaGFzaCBwYXJhbWV0ZXJzIGludG8gdGhlIGZvcm1hdCB1c2VkIGJ5IGdldFN0YXRlIGFuZCBzZXRTdGF0ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2dldEhhc2hQYXJhbVN0YXRlICgpXG4gICAge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHt9O1xuXG4gICAgICAgIFsnZicsICd2JywgJ3onLCAnbicsICdpJywgJ3AnLCAneScsICd4J10uZm9yRWFjaCggKHBhcmFtKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IEhhc2hQYXJhbXMuZ2V0KHBhcmFtICsgdGhpcy5zZXR0aW5ncy5oYXNoUGFyYW1TdWZmaXgpO1xuXG4gICAgICAgICAgICAvLyBgZmFsc2VgIGlzIHJldHVybmVkIGlmIHRoZSB2YWx1ZSBpcyBtaXNzaW5nXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHN0YXRlW3BhcmFtXSA9IHZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEbyBzb21lIGF3a3dhcmQgc3BlY2lhbC1jYXNpbmcsIHNpbmNlIHRoaXMgZm9ybWF0IGlzIGtpbmQgb2Ygd2VpcmQuXG5cbiAgICAgICAgLy8gRm9yIGluRnVsbHNjcmVlbiAoZiksIHRydWUgYW5kIGZhbHNlIHN0cmluZ3Mgc2hvdWxkIGJlIGludGVycHJldGVkXG4gICAgICAgIC8vIGFzIGJvb2xlYW5zLlxuICAgICAgICBpZiAoc3RhdGUuZiA9PT0gJ3RydWUnKVxuICAgICAgICAgICAgc3RhdGUuZiA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmYgPT09ICdmYWxzZScpXG4gICAgICAgICAgICBzdGF0ZS5mID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQ29udmVydCBudW1lcmljYWwgdmFsdWVzIHRvIGludGVnZXJzLCBpZiBwcm92aWRlZFxuICAgICAgICBbJ3onLCAnbicsICdwJywgJ3gnLCAneSddLmZvckVhY2goIChwYXJhbSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhcmFtIGluIHN0YXRlKVxuICAgICAgICAgICAgICAgIHN0YXRlW3BhcmFtXSA9IHBhcnNlSW50KHN0YXRlW3BhcmFtXSwgMTApO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2dldExvYWRPcHRpb25zRm9yU3RhdGUgKHN0YXRlLCBtYW5pZmVzdClcbiAgICB7XG4gICAgICAgIG1hbmlmZXN0ID0gbWFuaWZlc3QgfHwgdGhpcy5zZXR0aW5ncy5tYW5pZmVzdDtcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gKCd2JyBpbiBzdGF0ZSkgPyB0aGlzLl9nZXRWaWV3U3RhdGUoc3RhdGUudikgOiB7fTtcblxuICAgICAgICBpZiAoJ2YnIGluIHN0YXRlKVxuICAgICAgICAgICAgb3B0aW9ucy5pbkZ1bGxzY3JlZW4gPSBzdGF0ZS5mO1xuXG4gICAgICAgIGlmICgneicgaW4gc3RhdGUpXG4gICAgICAgICAgICBvcHRpb25zLnpvb21MZXZlbCA9IHN0YXRlLno7XG5cbiAgICAgICAgaWYgKCduJyBpbiBzdGF0ZSlcbiAgICAgICAgICAgIG9wdGlvbnMucGFnZXNQZXJSb3cgPSBzdGF0ZS5uO1xuXG4gICAgICAgIC8vIE9ubHkgY2hhbmdlIHNwZWNpZnkgdGhlIHBhZ2UgaWYgc3RhdGUuaSBvciBzdGF0ZS5wIGlzIHZhbGlkXG4gICAgICAgIGxldCBwYWdlSW5kZXggPSB0aGlzLl9nZXRQYWdlSW5kZXhGb3JNYW5pZmVzdChtYW5pZmVzdCwgc3RhdGUuaSk7XG5cbiAgICAgICAgaWYgKCEocGFnZUluZGV4ID49IDAgJiYgcGFnZUluZGV4IDwgbWFuaWZlc3QucGFnZXMubGVuZ3RoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcGFnZUluZGV4ID0gc3RhdGUucCAtIDE7XG5cbiAgICAgICAgICAgIC8vIFBvc3NpYmx5IE5hTlxuICAgICAgICAgICAgaWYgKCEocGFnZUluZGV4ID49IDAgJiYgcGFnZUluZGV4IDwgbWFuaWZlc3QucGFnZXMubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXggPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZ2VJbmRleCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbE9mZnNldCA9IHBhcnNlSW50KHN0YXRlLngsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsT2Zmc2V0ID0gcGFyc2VJbnQoc3RhdGUueSwgMTApO1xuXG4gICAgICAgICAgICBvcHRpb25zLmdvRGlyZWN0bHlUbyA9IHBhZ2VJbmRleDtcbiAgICAgICAgICAgIG9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCA9IGhvcml6b250YWxPZmZzZXQ7XG4gICAgICAgICAgICBvcHRpb25zLnZlcnRpY2FsT2Zmc2V0ID0gdmVydGljYWxPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX2dldFZpZXdTdGF0ZSAodmlldylcbiAgICB7XG4gICAgICAgIHN3aXRjaCAodmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNhc2UgJ2InOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGluQm9va0xheW91dDogdHJ1ZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNhc2UgJ2cnOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuICAgIF9nZXRQYWdlSW5kZXhGb3JNYW5pZmVzdCAobWFuaWZlc3QsIGZpbGVuYW1lKVxuICAgIHtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGNvbnN0IG5wID0gbWFuaWZlc3QucGFnZXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBucDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobWFuaWZlc3QucGFnZXNbaV0uZiA9PT0gZmlsZW5hbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuICAgIF9nZXRTdGF0ZSAoKVxuICAgIHtcbiAgICAgICAgbGV0IHZpZXc7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3ID0gJ2cnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuaW5Cb29rTGF5b3V0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3ID0gJ2InO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmlldyA9ICdkJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpO1xuICAgICAgICBjb25zdCBwYWdlT2Zmc2V0ID0gbGF5b3V0LmdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0KHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LCB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2YnOiB0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbixcbiAgICAgICAgICAgICd2JzogdmlldyxcbiAgICAgICAgICAgICd6JzogdGhpcy5zZXR0aW5ncy56b29tTGV2ZWwsXG4gICAgICAgICAgICAnbic6IHRoaXMuc2V0dGluZ3MucGFnZXNQZXJSb3csXG4gICAgICAgICAgICAnaSc6IHRoaXMuc2V0dGluZ3MuZW5hYmxlRmlsZW5hbWUgPyB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3RoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4XS5mIDogZmFsc2UsXG4gICAgICAgICAgICAncCc6IHRoaXMuc2V0dGluZ3MuZW5hYmxlRmlsZW5hbWUgPyBmYWxzZSA6IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4ICsgMSxcbiAgICAgICAgICAgICd5JzogcGFnZU9mZnNldCA/IHBhZ2VPZmZzZXQueSA6IGZhbHNlLFxuICAgICAgICAgICAgJ3gnOiBwYWdlT2Zmc2V0ID8gcGFnZU9mZnNldC54IDogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfZ2V0VVJMSGFzaCAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgaGFzaFBhcmFtcyA9IHRoaXMuX2dldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGhhc2hTdHJpbmdCdWlsZGVyID0gW107XG4gICAgICAgIGxldCBwYXJhbTtcblxuICAgICAgICBmb3IgKHBhcmFtIGluIGhhc2hQYXJhbXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChoYXNoUGFyYW1zW3BhcmFtXSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgaGFzaFN0cmluZ0J1aWxkZXIucHVzaChwYXJhbSArIHRoaXMuc2V0dGluZ3MuaGFzaFBhcmFtU3VmZml4ICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGhhc2hQYXJhbXNbcGFyYW1dKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGFzaFN0cmluZ0J1aWxkZXIuam9pbignJicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBhZ2UgaW5kZXggYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBmaWxlbmFtZTsgbXVzdCBjYWxsZWQgYWZ0ZXIgc2V0dGluZyBzZXR0aW5ncy5tYW5pZmVzdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2dldFBhZ2VJbmRleCAoZmlsZW5hbWUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UGFnZUluZGV4Rm9yTWFuaWZlc3QodGhpcy5zZXR0aW5ncy5tYW5pZmVzdCwgZmlsZW5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cbiAgICBfY2hlY2tMb2FkZWQgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS5sb2FkZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRoZSB2aWV3ZXIgaXMgbm90IGNvbXBsZXRlbHkgaW5pdGlhbGl6ZWQuIFRoaXMgaXMgbGlrZWx5IGJlY2F1c2UgaXQgaXMgc3RpbGwgZG93bmxvYWRpbmcgZGF0YS4gVG8gZml4IHRoaXMsIG9ubHkgY2FsbCB0aGlzIGZ1bmN0aW9uIGlmIHRoZSBpc1JlYWR5KCkgbWV0aG9kIHJldHVybnMgdHJ1ZS5cIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGZ1bGxzY3JlZW4gaWNvbiBpcyBjbGlja2VkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfdG9nZ2xlRnVsbHNjcmVlbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgIGluRnVsbHNjcmVlbjogIXRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGhhbmRsZSB0b29sYmFyIG9wYWNpdHkgaW4gZnVsbHNjcmVlblxuICAgICAgICBsZXQgdDtcbiAgICAgICAgbGV0IGhvdmVyID0gZmFsc2U7XG4gICAgICAgIGxldCB0b29scyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAndG9vbHMnKTtcbiAgICAgICAgY29uc3QgVElNRU9VVCA9IDIwMDA7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b29scy5jbGFzc0xpc3QuYWRkKFwiZGl2YS1mdWxsc2NyZWVuLXRvb2xzXCIpO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0b2dnbGVPcGFjaXR5LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2YS12aWV3cG9ydCcpWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRvZ2dsZU9wYWNpdHkuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0b29scy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGhvdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9vbHMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBob3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0b29scy5jbGFzc0xpc3QucmVtb3ZlKFwiZGl2YS1mdWxsc2NyZWVuLXRvb2xzXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlT3BhY2l0eSAoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b29scy5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICAgICAgICAgIGlmICghaG92ZXIgJiYgdGhpcy5zZXR0aW5ncy5pbkZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHMuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgfSwgVElNRU9VVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIGJldHdlZW4gb3JpZW50YXRpb25zXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX3RvZ2dsZVBhZ2VMYXlvdXRPcmllbnRhdGlvbiAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgdmVydGljYWxseU9yaWVudGVkID0gIXRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkO1xuXG4gICAgICAgIC8vaWYgaW4gZ3JpZCwgc3dpdGNoIG91dCBvZiBncmlkXG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICBpbkdyaWQ6IGZhbHNlLFxuICAgICAgICAgICAgdmVydGljYWxseU9yaWVudGVkOiB2ZXJ0aWNhbGx5T3JpZW50ZWQsXG4gICAgICAgICAgICBnb0RpcmVjdGx5VG86IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LFxuICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0WU9mZnNldCgpLFxuICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRYT2Zmc2V0KClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsbHlPcmllbnRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY2hhbmdlIHZpZXcgaWNvbiBpcyBjbGlja2VkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfY2hhbmdlVmlldyAoZGVzdGluYXRpb25WaWV3KVxuICAgIHtcbiAgICAgICAgc3dpdGNoIChkZXN0aW5hdGlvblZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgJ2RvY3VtZW50JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjYXNlICdib29rJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhc2UgJ2dyaWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgICAgICBpbkdyaWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBhZ2VJbmRleCAtIDAtYmFzZWQgcGFnZSBpbmRleC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geEFuY2hvciAtIHggY29vcmRpbmF0ZSB0byBqdW1wIHRvIG9uIHJlc3VsdGluZyBwYWdlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5QW5jaG9yIC0geSBjb29yZGluYXRlIHRvIGp1bXAgdG8gb24gcmVzdWx0aW5nIHBhZ2UuXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IC0gV2hldGhlciB0aGUganVtcCB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKiovXG4gICAgX2dvdG9QYWdlQnlJbmRleCAocGFnZUluZGV4LCB4QW5jaG9yLCB5QW5jaG9yKVxuICAgIHtcbiAgICAgICAgbGV0IHBpZHggPSBwYXJzZUludChwYWdlSW5kZXgsIDEwKTtcblxuICAgICAgICBpZiAodGhpcy5faXNQYWdlSW5kZXhWYWxpZChwaWR4KSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeE9mZnNldCA9IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0WE9mZnNldChwaWR4LCB4QW5jaG9yKTtcbiAgICAgICAgICAgIGNvbnN0IHlPZmZzZXQgPSB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmdldFlPZmZzZXQocGlkeCwgeUFuY2hvcik7XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZ290byhwaWR4LCB5T2Zmc2V0LCB4T2Zmc2V0KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgcGFnZSBpbmRleCBpcyB2YWxpZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFnZUluZGV4IC0gTnVtZXJpYyAoMC1iYXNlZCkgcGFnZSBpbmRleFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHdoZXRoZXIgdGhlIHBhZ2UgaW5kZXggaXMgdmFsaWQgb3Igbm90LlxuICAgICAqL1xuICAgIF9pc1BhZ2VJbmRleFZhbGlkIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5pc1BhZ2VWYWxpZChwYWdlSW5kZXgsIHRoaXMuc2V0dGluZ3Muc2hvd05vblBhZ2VkUGFnZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcGFnZVggYW5kIHBhZ2VZIHZhbHVlLCByZXR1cm5zIGVpdGhlciB0aGUgcGFnZSB2aXNpYmxlIGF0IHRoYXQgKHgseSlcbiAgICAgKiBwb3NpdGlvbiBvciAtMSBpZiBubyBwYWdlIGlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0UGFnZUluZGV4Rm9yUGFnZVhZVmFsdWVzIChwYWdlWCwgcGFnZVkpXG4gICAge1xuICAgICAgICAvL2dldCB0aGUgZm91ciBlZGdlcyBvZiB0aGUgb3V0ZXIgZWxlbWVudFxuICAgICAgICBjb25zdCBvdXRlck9mZnNldCA9IHRoaXMudmlld2VyU3RhdGUub3V0ZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBvdXRlclRvcCA9IG91dGVyT2Zmc2V0LnRvcDtcbiAgICAgICAgY29uc3Qgb3V0ZXJMZWZ0ID0gb3V0ZXJPZmZzZXQubGVmdDtcbiAgICAgICAgY29uc3Qgb3V0ZXJCb3R0b20gPSBvdXRlck9mZnNldC5ib3R0b207XG4gICAgICAgIGNvbnN0IG91dGVyUmlnaHQgPSBvdXRlck9mZnNldC5yaWdodDtcblxuICAgICAgICAvL2lmIHRoZSBjbGlja2VkIHBvc2l0aW9uIHdhcyBvdXRzaWRlIHRoZSBkaXZhLW91dGVyIG9iamVjdCwgaXQgd2FzIG5vdCBvbiBhIHZpc2libGUgcG9ydGlvbiBvZiBhIHBhZ2VcbiAgICAgICAgaWYgKHBhZ2VYIDwgb3V0ZXJMZWZ0IHx8IHBhZ2VYID4gb3V0ZXJSaWdodClcbiAgICAgICAgICAgIHJldHVybiAtMTtcblxuICAgICAgICBpZiAocGFnZVkgPCBvdXRlclRvcCB8fCBwYWdlWSA+IG91dGVyQm90dG9tKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuXG4gICAgICAgIC8vbmF2aWdhdGUgdGhyb3VnaCBhbGwgZGl2YSBwYWdlIG9iamVjdHNcbiAgICAgICAgY29uc3QgcGFnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkaXZhLXBhZ2UnKTtcbiAgICAgICAgbGV0IGN1clBhZ2VJZHggPSBwYWdlcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChjdXJQYWdlSWR4LS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vZ2V0IHRoZSBvZmZzZXQgZm9yIGVhY2ggcGFnZVxuICAgICAgICAgICAgY29uc3QgY3VyUGFnZSA9IHBhZ2VzW2N1clBhZ2VJZHhdO1xuICAgICAgICAgICAgY29uc3QgY3VyT2Zmc2V0ID0gY3VyUGFnZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgLy9pZiB0aGlzIHBvaW50IGlzIG91dHNpZGUgdGhlIGhvcml6b250YWwgYm91bmRhcmllcyBvZiB0aGUgcGFnZSwgY29udGludWVcbiAgICAgICAgICAgIGlmIChwYWdlWCA8IGN1ck9mZnNldC5sZWZ0IHx8IHBhZ2VYID4gY3VyT2Zmc2V0LnJpZ2h0KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvL3NhbWUgd2l0aCB2ZXJ0aWNhbCBib3VuZGFyaWVzXG4gICAgICAgICAgICBpZiAocGFnZVkgPCBjdXJPZmZzZXQudG9wIHx8IHBhZ2VZID4gY3VyT2Zmc2V0LmJvdHRvbSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy9pZiB3ZSBtYWRlIGl0IHRocm91Z2ggdGhlIGFib3ZlIHR3bywgd2UgZm91bmQgdGhlIHBhZ2Ugd2UncmUgbG9va2luZyBmb3JcbiAgICAgICAgICAgIHJldHVybiBjdXJQYWdlLmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pZiB3ZSBtYWRlIGl0IHRocm91Z2ggdGhhdCBlbnRpcmUgd2hpbGUgbG9vcCwgd2UgZGlkbid0IGNsaWNrIG9uIGEgcGFnZVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX3JlbG9hZFZpZXdlciAobmV3T3B0aW9ucylcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLnJlbG9hZChuZXdPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRDdXJyZW50VVJMICgpXG4gICAge1xuICAgICAgICByZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCArIGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoICsgJyMnICsgdGhpcy5fZ2V0VVJMSGFzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICogICAgICAgICAgICAgICAgUFVCTElDIEZVTkNUSU9OU1xuICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgICoqL1xuXG4gICAgLyoqXG4gICAgICogIEFjdGl2YXRlIHRoaXMgaW5zdGFuY2Ugb2YgZGl2YSB2aWEgdGhlIGFjdGl2ZSBEaXZhIGNvbnRyb2xsZXIuXG4gICAgICpcbiAgICAgKiAgQHB1YmxpY1xuICAgICAqL1xuICAgIGFjdGl2YXRlICgpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlzQWN0aXZlRGl2YSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSBvYmplY3QgKG9iamVjdERhdGEpIHBhcmFtZXRlciBjdXJyZW50bHkgYmVpbmcgcmVuZGVyZWQgYnkgRGl2YS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtvYmplY3R9IG9iamVjdERhdGEgLSBBbiBJSUlGIE1hbmlmZXN0IG9iamVjdCBPUiBhIFVSTCB0byBhIElJSUYgbWFuaWZlc3QuXG4gICAgICovXG4gICAgY2hhbmdlT2JqZWN0IChvYmplY3REYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5sb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5jbGVhcigpO1xuXG4gICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLm9iamVjdERhdGEgPSBvYmplY3REYXRhO1xuXG4gICAgICAgIHRoaXMuX2xvYWRPckZldGNoT2JqZWN0RGF0YSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZSB2aWV3cy4gVGFrZXMgJ2RvY3VtZW50JywgJ2Jvb2snLCBvciAnZ3JpZCcgdG8gc3BlY2lmeSB3aGljaCB2aWV3IHRvIHN3aXRjaCBpbnRvXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7c3RyaW5nfSBkZXN0aW5hdGlvblZpZXcgLSB0aGUgZGVzdGluYXRpb24gdmlldyB0byBjaGFuZ2UgdG8uXG4gICAgICovXG4gICAgY2hhbmdlVmlldyAoZGVzdGluYXRpb25WaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2hhbmdlVmlldyhkZXN0aW5hdGlvblZpZXcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBEZWFjdGl2YXRlIHRoaXMgZGl2YSBpbnN0YW5jZSB0aHJvdWdoIHRoZSBhY3RpdmUgRGl2YSBjb250cm9sbGVyLlxuICAgICAqXG4gICAgICogIEBwdWJsaWNcbiAgICAgKiovXG4gICAgZGVhY3RpdmF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pc0FjdGl2ZURpdmEgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGluc3RhbmNlLCB0ZWxscyBwbHVnaW5zIHRvIGRvIHRoZSBzYW1lXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICoqL1xuICAgIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGRvY3VtZW50IGRyYWdnaW5nLCBzY3JvbGxpbmcgKGJ5IGtleWJvYXJkIGlmIHNldCksIGFuZCB6b29taW5nIGJ5IGRvdWJsZS1jbGlja2luZ1xuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqKi9cbiAgICBkaXNhYmxlU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5kaXNhYmxlU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlLWVuYWJsZXMgZG9jdW1lbnQgZHJhZ2dpbmcsIHNjcm9sbGluZyAoYnkga2V5Ym9hcmQgaWYgc2V0KSwgYW5kIHpvb21pbmcgYnkgZG91YmxlLWNsaWNraW5nXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICoqL1xuICAgIGVuYWJsZVNjcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZW5hYmxlU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGRvY3VtZW50IGRyYWcgc2Nyb2xsaW5nXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZGlzYWJsZURyYWdTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmRpc2FibGVEcmFnU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgZG9jdW1lbnQgZHJhZyBzY3JvbGxpbmdcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBlbmFibGVEcmFnU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5lbmFibGVEcmFnU2Nyb2xsYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVudGVyIGZ1bGxzY3JlZW4gbW9kZSBpZiBjdXJyZW50bHkgbm90IGluIGZ1bGxzY3JlZW4gbW9kZS4gSWYgY3VycmVudGx5IGluIGZ1bGxzY3JlZW5cbiAgICAgKiBtb2RlIHRoaXMgd2lsbCBoYXZlIG5vIGVmZmVjdC5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCB3b3JrIGV2ZW4gaWYgZW5hYmxlRnVsbHNjcmVlbiBpcyBzZXQgdG8gZmFsc2UgaW4gdGhlIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gV2hldGhlciB0aGUgc3dpdGNoIHRvIGZ1bGxzY3JlZW4gd2FzIHN1Y2Nlc3NmdWwgb3Igbm90LlxuICAgICAqKi9cbiAgICBlbnRlckZ1bGxzY3JlZW5Nb2RlICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnRlciBncmlkIHZpZXcgaWYgY3VycmVudGx5IG5vdCBpbiBncmlkIHZpZXcuIElmIGN1cnJlbnRseSBpbiBncmlkIHZpZXcgbW9kZVxuICAgICAqIHRoaXMgd2lsbCBoYXZlIG5vIGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSBzd2l0Y2ggdG8gZ3JpZCB2aWV3IHdhcyBzdWNjZXNzZnVsIG9yIG5vdC5cbiAgICAgKiovXG4gICAgZW50ZXJHcmlkVmlldyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2hhbmdlVmlldygnZ3JpZCcpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgcGFnZSBpbWFnZSBVUklzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IC0gQW4gYXJyYXkgb2YgYWxsIHRoZSBVUklzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKiAqL1xuICAgIGdldEFsbFBhZ2VVUklzICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlcy5tYXAoIChwZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBnLmY7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2FudmFzIGlkZW50aWZpZXIgZm9yIHRoZSBjdXJyZW50bHkgdmlzaWJsZSBwYWdlLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIFVSSSBvZiB0aGUgY3VycmVudGx5IHZpc2libGUgY2FudmFzLlxuICAgICAqKi9cbiAgICBnZXRDdXJyZW50Q2FudmFzICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1t0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleF0uY2FudmFzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGN1cnJlbnQgcGFnZSBhdCB0aGUgY3VycmVudCB6b29tIGxldmVsLiBBbHNvIHdvcmtzIGluXG4gICAgICogZ3JpZCB2aWV3LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGN1cnJlbnQgcGFnZSBkaW1lbnNpb25zIGF0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICoqL1xuICAgIGdldEN1cnJlbnRQYWdlRGltZW5zaW9uc0F0Q3VycmVudFpvb21MZXZlbCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFnZURpbWVuc2lvbnNBdEN1cnJlbnRab29tTGV2ZWwodGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgZmlsZW5hbWUgKGRlcHJlY2F0ZWQpLiBSZXR1cm5zIHRoZSBVUkkgZm9yIGN1cnJlbnQgcGFnZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIFVSSSBmb3IgdGhlIGN1cnJlbnQgcGFnZSBpbWFnZS5cbiAgICAgKiovXG4gICAgZ2V0Q3VycmVudFBhZ2VGaWxlbmFtZSAoKVxuICAgIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGlzIG1ldGhvZCB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdGhlIG5leHQgdmVyc2lvbiBvZiBEaXZhLiBQbGVhc2UgdXNlIGdldEN1cnJlbnRQYWdlVVJJIGluc3RlYWQuJyk7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3RoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4XS5mO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgcGFnZSBpbmRpY2VzIHRoYXQgYXJlIHZpc2libGUgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHthcnJheX0gLSBUaGUgMC1iYXNlZCBpbmRpY2VzIGFycmF5IGZvciB0aGUgY3VycmVudGx5IHZpc2libGUgcGFnZXMuXG4gICAgICoqL1xuICAgIGdldEN1cnJlbnRQYWdlSW5kaWNlcyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuY3VycmVudFBhZ2VJbmRpY2VzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIDAtYmFzZWQgaW5kZXggZm9yIHRoZSBjdXJyZW50IHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgMC1iYXNlZCBpbmRleCBmb3IgdGhlIGN1cnJlbnRseSB2aXNpYmxlIHBhZ2UuXG4gICAgICoqL1xuICAgICBnZXRBY3RpdmVQYWdlSW5kZXggKClcbiAgICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXg7XG4gICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3J0Y3V0IHRvIGdldFBhZ2VPZmZzZXQgZm9yIGN1cnJlbnQgcGFnZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7fSAtXG4gICAgICogKi9cbiAgICBnZXRDdXJyZW50UGFnZU9mZnNldCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFnZU9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBVUkkgZm9yIHRoZSB2aXNpYmxlIHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgVVJJIGZvciB0aGUgY3VycmVudCBwYWdlIGltYWdlLlxuICAgICAqKi9cbiAgICBnZXRDdXJyZW50UGFnZVVSSSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXhdLmY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjdXJyZW50IFVSTCBmb3IgdGhlIHZpZXdlciwgaW5jbHVkaW5nIHRoZSBoYXNoIHBhcmFtZXRlcnMgcmVmbGVjdGluZ1xuICAgICAqIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSB2aWV3ZXIuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgVVJMIGZvciB0aGUgY3VycmVudCB2aWV3IHN0YXRlLlxuICAgICAqICovXG4gICAgZ2V0Q3VycmVudFVSTCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEN1cnJlbnRVUkwoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCBmaWxlbmFtZXMgaW4gdGhlIGRvY3VtZW50LiBEZXByZWNhdGVkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHJldHVybnMge0FycmF5fSAtIEFuIGFycmF5IG9mIGFsbCB0aGUgVVJJcyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICogKi9cbiAgICBnZXRGaWxlbmFtZXMgKClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgdmVyc2lvbiBvZiBEaXZhLiBVc2UgZ2V0QWxsUGFnZVVSSXMgaW5zdGVhZC4nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlcy5tYXAoIChwZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBnLmY7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbnVtYmVyIG9mIGdyaWQgcGFnZXMgcGVyIHJvdy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBudW1iZXIgb2YgZ3JpZCBwYWdlcyBwZXIgcm93LlxuICAgICAqKi9cbiAgICBnZXRHcmlkUGFnZXNQZXJSb3cgKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8od2FiYWluKTogQWRkIHRlc3QgY2FzZVxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wYWdlc1BlclJvdztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGluc3RhbmNlIElEIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBpbnN0YW5jZSBJRC5cbiAgICAgKiAqL1xuICAgIC8vXG4gICAgZ2V0SW5zdGFuY2VJZCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuSUQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbnN0YW5jZSBzZWxlY3RvciBmb3IgdGhpcyBpbnN0YW5jZS4gVGhpcyBpcyB0aGUgc2VsZWN0b3IgZm9yIHRoZSBwYXJlbnRcbiAgICAgKiBkaXYuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgdmlld3BvcnQgc2VsZWN0b3IuXG4gICAgICogKi9cbiAgICBnZXRJbnN0YW5jZVNlbGVjdG9yICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5zZWxlY3RvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0aXRsZSBvZiB0aGUgZG9jdW1lbnQsIGJhc2VkIG9uIHRoZSBsYWJlbCBpbiB0aGUgSUlJRiBtYW5pZmVzdC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBjdXJyZW50IHRpdGxlIG9mIHRoZSBvYmplY3QgZnJvbSB0aGUgbGFiZWwga2V5IGluIHRoZSBJSUlGIE1hbmlmZXN0LlxuICAgICAqKi9cbiAgICBnZXRJdGVtVGl0bGUgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0Lml0ZW1UaXRsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBlbnRpcmUgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgbWF4aW11bSB6b29tIGxldmVsIGZvciB0aGUgZG9jdW1lbnRcbiAgICAgKiAqL1xuICAgIGdldE1heFpvb21MZXZlbCAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1heCB6b29tIGxldmVsIGZvciBhIGdpdmVuIHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2VJZHggLSBUaGUgMC1iYXNlZCBpbmRleCBudW1iZXIgZm9yIHRoZSBwYWdlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhhdCBwYWdlLlxuICAgICAqICovXG4gICAgZ2V0TWF4Wm9vbUxldmVsRm9yUGFnZSAocGFnZUlkeClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fY2hlY2tMb2FkZWQoKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1twYWdlSWR4XS5tO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1pbmltdW0gem9vbSBsZXZlbCBmb3IgdGhlIGVudGlyZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBtaW5pbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBkb2N1bWVudFxuICAgICAqICovXG4gICAgZ2V0TWluWm9vbUxldmVsICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5taW5ab29tTGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHBhZ2VzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBudW1iZXIgb2YgcGFnZXMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqICovXG4gICAgZ2V0TnVtYmVyT2ZQYWdlcyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGVja0xvYWRlZCgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm51bVBhZ2VzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIGEgY2FudmFzIGhhcyBtdWx0aXBsZSBpbWFnZXMgZGVmaW5lZCwgcmV0dXJucyB0aGUgbm9uLXByaW1hcnkgaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgcGFnZSBpbmRleCBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBvdGhlciBpbWFnZXMuXG4gICAgICogQHJldHVybnMge29iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG90aGVyIGltYWdlcy5cbiAgICAgKiovXG4gICAgZ2V0T3RoZXJJbWFnZXMgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3BhZ2VJbmRleF0ub3RoZXJJbWFnZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHBhZ2UgZGltZW5zaW9ucyBpbiB0aGUgY3VycmVudCB2aWV3IGFuZCB6b29tIGxldmVsXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBBIHZhbGlkIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHBhZ2VcbiAgICAgKiAqL1xuICAgIGdldFBhZ2VEaW1lbnNpb25zIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2NoZWNrTG9hZGVkKCkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCkuZ2V0UGFnZURpbWVuc2lvbnMocGFnZUluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaW1lbnNpb25zIG9mIGEgZ2l2ZW4gcGFnZSBhdCB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqIEFsc28gd29ya3MgaW4gR3JpZCB2aWV3XG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2VJbmRleCAtIFRoZSAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBwYWdlIGRpbWVuc2lvbnMgYXQgdGhlIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKiAqL1xuICAgIGdldFBhZ2VEaW1lbnNpb25zQXRDdXJyZW50Wm9vbUxldmVsIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICBsZXQgcGlkeCA9IHBhcnNlSW50KHBhZ2VJbmRleCwgMTApO1xuXG4gICAgICAgIGlmICghdGhpcy5faXNQYWdlSW5kZXhWYWxpZChwaWR4KSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBQYWdlIEluZGV4Jyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpLmdldFBhZ2VEaW1lbnNpb25zKHBpZHgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwYWdlIGRpbWVuc2lvbnMgYXQgYSBnaXZlbiB6b29tIGxldmVsXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSWR4IC0gQSB2YWxpZCAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHpvb21MZXZlbCAtIEEgY2FuZGlkYXRlIHpvb20gbGV2ZWwuXG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgcGFnZSBhdCB0aGUgZ2l2ZW4gem9vbSBsZXZlbC5cbiAgICAgKiovXG4gICAgZ2V0UGFnZURpbWVuc2lvbnNBdFpvb21MZXZlbCAocGFnZUlkeCwgem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGVja0xvYWRlZCgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmICh6b29tTGV2ZWwgPiB0aGlzLnNldHRpbmdzLm1heFpvb21MZXZlbClcbiAgICAgICAgICAgIHpvb21MZXZlbCA9IHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsO1xuXG4gICAgICAgIGNvbnN0IHBnID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1twYXJzZUludChwYWdlSWR4LCAxMCldO1xuICAgICAgICBjb25zdCBwZ0F0Wm9vbSA9IHBnLmRbcGFyc2VJbnQoem9vbUxldmVsLCAxMCldO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogcGdBdFpvb20udyxcbiAgICAgICAgICAgIGhlaWdodDogcGdBdFpvb20uaFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBVUkwgZm9yIHRoZSBpbWFnZSBvZiB0aGUgcGFnZSBhdCB0aGUgZ2l2ZW4gaW5kZXguIFRoZVxuICAgICAqIG9wdGlvbmFsIHNpemUgcGFyYW1ldGVyIHN1cHBvcnRzIHNldHRpbmcgdGhlIGltYWdlIHdpZHRoIG9yIGhlaWdodFxuICAgICAqIChkZWZhdWx0IGlzIGZ1bGwtc2l6ZWQpLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHBhcmFtcyB7P29iamVjdH0gc2l6ZSAtIGFuIG9iamVjdCBjb250YWluaW5nIHdpZHRoIGFuZCBoZWlnaHQgaW5mb3JtYXRpb25cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBJSUlGIFVSTCBmb3IgYSBnaXZlbiBwYWdlIGF0IGFuIG9wdGlvbmFsIHNpemVcbiAgICAgKi9cbiAgICBnZXRQYWdlSW1hZ2VVUkwgKHBhZ2VJbmRleCwgc2l6ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LmdldFBhZ2VJbWFnZVVSTChwYWdlSW5kZXgsIHNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgc2V0IG9mIGNvLW9yZGluYXRlcyAoZS5nLiwgZnJvbSBhIG1vdXNlIGNsaWNrKSwgcmV0dXJuIHRoZSAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBmb3Igd2hpY2ggaXQgbWF0Y2hlcy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VYIC0gVGhlIHggY28tb3JkaW5hdGVcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VZIC0gVGhlIHkgY28tb3JkaW5hdGVcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBwYWdlIGluZGV4IG1hdGNoaW5nIHRoZSBjby1vcmRpbmF0ZXMuXG4gICAgICogKi9cbiAgICBnZXRQYWdlSW5kZXhGb3JQYWdlWFlWYWx1ZXMgKHBhZ2VYLCBwYWdlWSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRQYWdlSW5kZXhGb3JQYWdlWFlWYWx1ZXMocGFnZVgsIHBhZ2VZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGRpc3RhbmNlIGJldHdlZW4gdGhlIG5vcnRod2VzdCBjb3JuZXJzIG9mIGRpdmEtaW5uZXIgYW5kIHBhZ2UgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHBhcmFtcyB7P29wdGlvbnN9IG9wdGlvbnMgLSBBIHNldCBvZiBvcHRpb25zIHRvIHBhc3MgaW4uXG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBUaGUgb2Zmc2V0IGJldHdlZW4gdGhlIHVwcGVyIGxlZnQgY29ybmVyIGFuZCB0aGUgcGFnZS5cbiAgICAgKlxuICAgICAqICovXG4gICAgZ2V0UGFnZU9mZnNldCAocGFnZUluZGV4LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVnaW9uID0gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRQYWdlUmVnaW9uKHBhZ2VJbmRleCwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHJlZ2lvbi5sZWZ0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbnN0YW5jZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIFRoZSBjdXJyZW50IGluc3RhbmNlIHNldHRpbmdzLlxuICAgICAqICovXG4gICAgZ2V0U2V0dGluZ3MgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjb21wbGV0ZSBzdGF0ZSBvZiB0aGUgdmlld2VyLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gVGhlIGN1cnJlbnQgaW5zdGFuY2Ugc3RhdGUuXG4gICAgICogKi9cbiAgICBnZXRTdGF0ZSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFN0YXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqICovXG4gICAgZ2V0Wm9vbUxldmVsICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIEdvIHRvIGEgcGFydGljdWxhciBwYWdlICh3aXRoIGluZGV4aW5nIHN0YXJ0aW5nIGF0IDApLlxuICAgICAqICBUaGUgKHhBbmNob3IpIHNpZGUgb2YgdGhlIHBhZ2Ugd2lsbCBiZSBhbmNob3JlZCB0byB0aGUgKHhBbmNob3IpIHNpZGUgb2YgdGhlIGRpdmEtb3V0ZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogIEBwdWJsaWNcbiAgICAgKiAgQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSAwLWJhc2VkIHBhZ2UgaW5kZXguXG4gICAgICogIEBwYXJhbXMgez9zdHJpbmd9IHhBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwibGVmdFwiLCBcInJpZ2h0XCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqICBAcGFyYW1zIHs/c3RyaW5nfSB5QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcInRvcFwiLCBcImJvdHRvbVwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCI7IHNhbWUgcHJvY2VzcyBhcyB4QW5jaG9yLlxuICAgICAqICBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBwYWdlIGluZGV4IGlzIHZhbGlkOyBmYWxzZSBpZiBpdCBpcyBub3QuXG4gICAgICogKi9cbiAgICBnb3RvUGFnZUJ5SW5kZXggKHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcilcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nb3RvUGFnZUJ5SW5kZXgocGFnZUluZGV4LCB4QW5jaG9yLCB5QW5jaG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGNhbnZhcyBsYWJlbCwgYXR0ZW1wdCB0byBnbyB0byB0aGF0IHBhZ2UuIElmIG5vIGxhYmVsIHdhcyBmb3VuZC5cbiAgICAgKiB0aGUgbGFiZWwgd2lsbCBiZSBhdHRlbXB0ZWQgdG8gbWF0Y2ggYWdhaW5zdCB0aGUgcGFnZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtzdHJpbmd9IGxhYmVsIC0gVGhlIGxhYmVsIHRvIHNlYXJjaCBvbi5cbiAgICAgKiBAcGFyYW1zIHs/c3RyaW5nfSB4QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcImxlZnRcIiwgXCJyaWdodFwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCJcbiAgICAgKiBAcGFyYW1zIHs/c3RyaW5nfSB5QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcInRvcFwiLCBcImJvdHRvbVwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBwYWdlIGluZGV4IGlzIHZhbGlkOyBmYWxzZSBpZiBpdCBpcyBub3QuXG4gICAgICogKi9cbiAgICBnb3RvUGFnZUJ5TGFiZWwgKGxhYmVsLCB4QW5jaG9yLCB5QW5jaG9yKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZXMgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzO1xuICAgICAgICBsZXQgbGxjID0gbGFiZWwudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGFnZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwYWdlc1tpXS5sLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihsbGMpID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dvdG9QYWdlQnlJbmRleChpLCB4QW5jaG9yLCB5QW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHBhcnNlSW50KGxhYmVsLCAxMCkgLSAxO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ290b1BhZ2VCeUluZGV4KHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSnVtcCB0byBhIHBhZ2UgYmFzZWQgb24gaXRzIGZpbGVuYW1lLiBEZXByZWNhdGVkLiBVc2UgZ290b1BhZ2VCeVVSSSBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge3N0cmluZ30gZmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUgb2YgdGhlIGltYWdlIHRvIGp1bXAgdG8uXG4gICAgICogQHBhcmFtcyB7P3N0cmluZ30geEFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJsZWZ0XCIsIFwicmlnaHRcIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiXG4gICAgICogQHBhcmFtcyB7P3N0cmluZ30geUFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJ0b3BcIiwgXCJib3R0b21cIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgc3VjY2Vzc2Z1bCBhbmQgZmFsc2UgaWYgdGhlIGZpbGVuYW1lIGlzIG5vdCBmb3VuZC5cbiAgICAqL1xuICAgIGdvdG9QYWdlQnlOYW1lIChmaWxlbmFtZSwgeEFuY2hvciwgeUFuY2hvcilcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhpcyBtZXRob2Qgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IHZlcnNpb24gb2YgRGl2YS5qcy4gVXNlIGdvdG9QYWdlQnlVUkkgaW5zdGVhZC4nKTtcbiAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5fZ2V0UGFnZUluZGV4KGZpbGVuYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dvdG9QYWdlQnlJbmRleChwYWdlSW5kZXgsIHhBbmNob3IsIHlBbmNob3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEp1bXAgdG8gYSBwYWdlIGJhc2VkIG9uIGl0cyBVUkkuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7c3RyaW5nfSB1cmkgLSBUaGUgVVJJIG9mIHRoZSBpbWFnZSB0byBqdW1wIHRvLlxuICAgICAqIEBwYXJhbXMgez9zdHJpbmd9IHhBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwibGVmdFwiLCBcInJpZ2h0XCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqIEBwYXJhbXMgez9zdHJpbmd9IHlBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwidG9wXCIsIFwiYm90dG9tXCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHN1Y2Nlc3NmdWwgYW5kIGZhbHNlIGlmIHRoZSBVUkkgaXMgbm90IGZvdW5kLlxuICAgICAqL1xuICAgIGdvdG9QYWdlQnlVUkkgKHVyaSwgeEFuY2hvciwgeUFuY2hvcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuX2dldFBhZ2VJbmRleCh1cmkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ290b1BhZ2VCeUluZGV4KHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgcGFnZSBoYXMgb3RoZXIgaW1hZ2VzIHRvIGRpc3BsYXkuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHBhZ2UgaGFzIG90aGVyIGltYWdlcyB0byBkaXNwbGF5LlxuICAgICAqKi9cbiAgICBoYXNPdGhlckltYWdlcyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbcGFnZUluZGV4XS5vdGhlckltYWdlcyA9PT0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgcGFnZXMgdGhhdCBhcmUgbWFya2VkIFwibm9uLXBhZ2VkXCIgaW4gdGhlIElJSUYgbWFuaWZlc3QuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICoqL1xuICAgIGhpZGVOb25QYWdlZFBhZ2VzICgpXG4gICAge1xuICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoeyBzaG93Tm9uUGFnZWRQYWdlczogZmFsc2UgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdGhlIHZpZXdlciBjdXJyZW50bHkgaW4gZnVsbC1zY3JlZW4gbW9kZT9cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSB2aWV3ZXIgaXMgaW4gZnVsbHNjcmVlbiBtb2RlLlxuICAgICAqKi9cbiAgICBpc0luRnVsbHNjcmVlbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgcGFnZSBpbmRleCBpcyB3aXRoaW4gdGhlIHJhbmdlIG9mIHRoZSBkb2N1bWVudFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHBhZ2UgaW5kZXggaXMgdmFsaWQuXG4gICAgICoqL1xuICAgIGlzUGFnZUluZGV4VmFsaWQgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1BhZ2VJbmRleFZhbGlkKHBhZ2VJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhIHBhZ2UgaXMgY3VycmVudGx5IGluIHRoZSB2aWV3cG9ydFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gVGhlIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHBhZ2UgaXMgY3VycmVudGx5IGluIHRoZSB2aWV3cG9ydC5cbiAgICAgKiovXG4gICAgaXNQYWdlSW5WaWV3cG9ydCAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuaXNQYWdlVmlzaWJsZShwYWdlSW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIERpdmEgdmlld2VyIGhhcyBiZWVuIGZ1bGx5IGluaXRpYWxpemVkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIHZpZXdlciBpcyBpbml0aWFsaXplZDsgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqKi9cbiAgICBpc1JlYWR5ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5sb2FkZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgc29tZXRoaW5nIChlLmcuIGEgaGlnaGxpZ2h0IGJveCBvbiBhIHBhcnRpY3VsYXIgcGFnZSkgaXMgdmlzaWJsZVxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZUluZGV4IC0gVGhlIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEBwYXJhbXMge251bWJlcn0gbGVmdE9mZnNldCAtIFRoZSBkaXN0YW5jZSBvZiB0aGUgcmVnaW9uIGZyb20gdGhlIGxlZnQgb2YgdGhlIHZpZXdwb3J0XG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSB0b3BPZmZzZXQgLSBUaGUgZGlzdGFuY2Ugb2YgdGhlIHJlZ2lvbiBmcm9tIHRoZSB0b3Agb2YgdGhlIHZpZXdwb3J0XG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVnaW9uXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWdpb25cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSByZWdpb24gaXMgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqKi9cbiAgICBpc1JlZ2lvbkluVmlld3BvcnQgKHBhZ2VJbmRleCwgbGVmdE9mZnNldCwgdG9wT2Zmc2V0LCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCk7XG5cbiAgICAgICAgaWYgKCFsYXlvdXQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbGF5b3V0LmdldFBhZ2VPZmZzZXQocGFnZUluZGV4KTtcblxuICAgICAgICBjb25zdCB0b3AgPSBvZmZzZXQudG9wICsgdG9wT2Zmc2V0O1xuICAgICAgICBjb25zdCBsZWZ0ID0gb2Zmc2V0LmxlZnQgKyBsZWZ0T2Zmc2V0O1xuXG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdHNSZWdpb24oe1xuICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICBib3R0b206IHRvcCArIGhlaWdodCxcbiAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICByaWdodDogbGVmdCArIHdpZHRoXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHBhZ2UgbGF5b3V0IGlzIHZlcnRpY2FsbHkgb3IgaG9yaXpvbnRhbGx5IG9yaWVudGVkLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdmVydGljYWw7IGZhbHNlIGlmIGhvcml6b250YWwuXG4gICAgICoqL1xuICAgIGlzVmVydGljYWxseU9yaWVudGVkICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGVhdmUgZnVsbHNjcmVlbiBtb2RlIGlmIGN1cnJlbnRseSBpbiBmdWxsc2NyZWVuIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gdHJ1ZSBpZiBpbiBmdWxsc2NyZWVuIG1vZGUgaW50aXRpYWxseSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICoqL1xuICAgIGxlYXZlRnVsbHNjcmVlbk1vZGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGVhdmUgZ3JpZCB2aWV3IGlmIGN1cnJlbnRseSBpbiBncmlkIHZpZXcuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gdHJ1ZSBpZiBpbiBncmlkIHZpZXcgaW5pdGlhbGx5LCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiovXG4gICAgbGVhdmVHcmlkVmlldyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoeyBpbkdyaWQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBudW1iZXIgb2YgZ3JpZCBwYWdlcyBwZXIgcm93LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZXNQZXJSb3cgLSBUaGUgbnVtYmVyIG9mIHBhZ2VzIHBlciByb3dcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHNldEdyaWRQYWdlc1BlclJvdyAocGFnZXNQZXJSb3cpXG4gICAge1xuICAgICAgICAvLyBUT0RPKHdhYmFpbik6IEFkZCB0ZXN0IGNhc2VcbiAgICAgICAgaWYgKCF0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmlzVmFsaWRPcHRpb24oJ3BhZ2VzUGVyUm93JywgcGFnZXNQZXJSb3cpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgaW5HcmlkOiB0cnVlLFxuICAgICAgICAgICAgcGFnZXNQZXJSb3c6IHBhZ2VzUGVyUm93XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWduIHRoaXMgZGl2YSBpbnN0YW5jZSB3aXRoIGEgc3RhdGUgb2JqZWN0IChhcyByZXR1cm5lZCBieSBnZXRTdGF0ZSlcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtvYmplY3R9IHN0YXRlIC0gQSBEaXZhIHN0YXRlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHNldFN0YXRlIChzdGF0ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih0aGlzLl9nZXRMb2FkT3B0aW9uc0ZvclN0YXRlKHN0YXRlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHNldFpvb21MZXZlbCAoem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgIGluR3JpZDogZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuem9vbSh6b29tTGV2ZWwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgbm9uLXBhZ2VkIHBhZ2VzLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKiovXG4gICAgc2hvd05vblBhZ2VkUGFnZXMgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih7IHNob3dOb25QYWdlZFBhZ2VzOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSBmdWxsc2NyZWVuIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLlxuICAgICAqKi9cbiAgICB0b2dnbGVGdWxsc2NyZWVuTW9kZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cvSGlkZSBub24tcGFnZWQgcGFnZXNcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHRvZ2dsZU5vblBhZ2VkUGFnZXNWaXNpYmlsaXR5ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgc2hvd05vblBhZ2VkUGFnZXM6ICF0aGlzLnNldHRpbmdzLnNob3dOb25QYWdlZFBhZ2VzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vQ2hhbmdlcyBiZXR3ZWVuIGhvcml6b250YWwgbGF5b3V0IGFuZCB2ZXJ0aWNhbCBsYXlvdXQuIFJldHVybnMgdHJ1ZSBpZiBkb2N1bWVudCBpcyBub3cgdmVydGljYWxseSBvcmllbnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgIHRvZ2dsZU9yaWVudGF0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9nZ2xlUGFnZUxheW91dE9yaWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyBhIG1lYXN1cmVtZW50IGZyb20gdGhlIHpvb20gbGV2ZWwgb24gdGhlIGxhcmdlc3Qgc2l6ZVxuICAgICAqIHRvIG9uZSBvbiB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUsIGEgcG9pbnQgMTAwMCBvbiBhbiBpbWFnZSB0aGF0IGlzIG9uIHpvb20gbGV2ZWwgMiBvZiA1XG4gICAgICogdHJhbnNsYXRlcyB0byBhIHBvc2l0aW9uIG9mIDExMS4xMTEuLi4gKDEwMDAgLyAoNSAtIDIpXjIpLlxuICAgICAqXG4gICAgICogV29ya3MgZm9yIGEgc2luZ2xlIHBpeGVsIGNvLW9yZGluYXRlIG9yIGEgZGltZW5zaW9uIChlLmcuLCB0cmFuc2xhdGVzIGEgYm94XG4gICAgICogdGhhdCBpcyAxMDAwIHBpeGVscyB3aWRlIG9uIHRoZSBvcmlnaW5hbCB0byBvbmUgdGhhdCBpcyAxMTEuMTExIHBpeGVscyB3aWRlXG4gICAgICogb24gdGhlIGN1cnJlbnQgem9vbSBsZXZlbCkuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwb3NpdGlvbiAtIEEgcG9pbnQgb24gdGhlIG1heCB6b29tIGxldmVsXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgc2FtZSBwb2ludCBvbiB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICovXG4gICAgdHJhbnNsYXRlRnJvbU1heFpvb21MZXZlbCAocG9zaXRpb24pXG4gICAge1xuICAgICAgICBjb25zdCB6b29tRGlmZmVyZW5jZSA9IHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsIC0gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWw7XG4gICAgICAgIHJldHVybiBwb3NpdGlvbiAvIE1hdGgucG93KDIsIHpvb21EaWZmZXJlbmNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIGEgbWVhc3VyZW1lbnQgZnJvbSB0aGUgY3VycmVudCB6b29tIGxldmVsIHRvIHRoZSBwb3NpdGlvbiBvbiB0aGVcbiAgICAgKiBsYXJnZXN0IHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBXb3JrcyBmb3IgYSBzaW5nbGUgcGl4ZWwgY28tb3JkaW5hdGUgb3IgYSBkaW1lbnNpb24gKGUuZy4sIHRyYW5zbGF0ZXMgYSBib3hcbiAgICAgKiB0aGF0IGlzIDExMS4xMTEgcGl4ZWxzIHdpZGUgb24gdGhlIGN1cnJlbnQgaW1hZ2UgdG8gb25lIHRoYXQgaXMgMTAwMCBwaXhlbHMgd2lkZVxuICAgICAqIG9uIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwpLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcG9zaXRpb24gLSBBIHBvaW50IG9uIHRoZSBjdXJyZW50IHpvb20gbGV2ZWxcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBzYW1lIHBvaW50IG9uIHRoZSBtYXggem9vbSBsZXZlbC5cbiAgICAqL1xuICAgIHRyYW5zbGF0ZVRvTWF4Wm9vbUxldmVsIChwb3NpdGlvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IHpvb21EaWZmZXJlbmNlID0gdGhpcy5zZXR0aW5ncy5tYXhab29tTGV2ZWwgLSB0aGlzLnNldHRpbmdzLnpvb21MZXZlbDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBkaWZmZXJlbmNlLCBpdCdzIGEgYm94IG9uIHRoZSBtYXggem9vbSBsZXZlbCBhbmRcbiAgICAgICAgLy8gd2UgY2FuIGp1c3QgcmV0dXJuIHRoZSBwb3NpdGlvbi5cbiAgICAgICAgaWYgKHpvb21EaWZmZXJlbmNlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuXG4gICAgICAgIHJldHVybiBwb3NpdGlvbiAqIE1hdGgucG93KDIsIHpvb21EaWZmZXJlbmNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBab29tIGluLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIGZhbHNlIGlmIGl0J3MgYXQgdGhlIG1heGltdW0gem9vbVxuICAgICAqKi9cbiAgICB6b29tSW4gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFpvb21MZXZlbCh0aGlzLnNldHRpbmdzLnpvb21MZXZlbCArIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFpvb20gb3V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIGZhbHNlIGlmIGl0J3MgYXQgdGhlIG1pbmltdW0gem9vbVxuICAgICAqKi9cbiAgICB6b29tT3V0ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRab29tTGV2ZWwodGhpcy5zZXR0aW5ncy56b29tTGV2ZWwgLSAxKTtcbiAgICB9XG59XG5cbkRpdmEuRXZlbnRzID0gZGl2YS5FdmVudHM7XG5cbmV4cG9ydCBkZWZhdWx0IERpdmE7XG5cbi8qKlxuICogTWFrZSBgRGl2YWAgYXZhaWxhYmxlIGluIHRoZSBnbG9iYWwgY29udGV4dC5cbiAqICovXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAoZnVuY3Rpb24gKGdsb2JhbClcbiAgICB7XG4gICAgICAgIGdsb2JhbC5EaXZhID0gZ2xvYmFsLkRpdmEgfHwgRGl2YTtcbiAgICB9KSh3aW5kb3cpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==